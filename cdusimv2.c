/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

int __cdecl sub_401000(int a1);
void __cdecl __noreturn sub_401090(__int32 a1);
int __thiscall sub_4010B0(_DWORD *this);
int __thiscall sub_4010D0(int this, unsigned int (__cdecl *a2)(void *), void *a3);
BOOL __thiscall sub_401130(int this);
int __thiscall sub_401170(int this, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, int a4);
BOOL __thiscall sub_4012B0(int this, DWORD a2);
int __thiscall sub_401310(int this, DWORD dwEvtMask);
BOOL __thiscall sub_401340(int this, BYTE a2, BYTE a3, BYTE a4);
BOOL __thiscall sub_4013B0(int this, DWORD a2, DWORD a3, DWORD a4);
BOOL __thiscall sub_401420(int this, DWORD a2, DWORD a3);
BOOL __thiscall sub_401480(int this, DWORD a2, int a3);
signed int __thiscall sub_401500(int this);
int __thiscall sub_401570(int this, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite);
void __thiscall sub_401650(void **this);
// _DWORD __stdcall ATL::CSimpleStringT<char,0>::SetLength(_DWORD); weak
void *__thiscall sub_401690(_DWORD *this, size_t a2);
void __noreturn sub_4016C0();
int __thiscall sub_4016D0(_DWORD *this, int a2);
unsigned __int64 __cdecl sub_401790(unsigned int a1, unsigned int a2);
int __thiscall sub_4017B0(int this, DWORD NumberOfBytesTransferred);
int __thiscall sub_401830(int *this);
void *__thiscall sub_401890(void *this, int a2);
int __thiscall sub_4018C0(int *this, int a2);
int __cdecl sub_401910(int a1);
_DWORD *__thiscall sub_401980(int *this, size_t a2);
_DWORD *__thiscall sub_4019C0(_DWORD *this);
void __thiscall sub_4019F0(void *); // idb
void *__thiscall sub_401A10(void *this, _DWORD *a2);
int __thiscall sub_401A30(int *this, int a2);
int __thiscall sub_401A60(int this);
int __stdcall sub_401B30(char *); // idb
int __thiscall sub_401BE0(int *this, char a2);
int __thiscall sub_401C40(int *this, void *Src, rsize_t DstSize);
void *__thiscall sub_401CD0(void *this, char a2);
int *__thiscall sub_401CF0(int *this, void **a2);
int *__thiscall sub_401D70(int *this, void **a2);
int __thiscall sub_401D90(int this, int a2);
signed int __thiscall sub_4024A0(int this);
_DWORD *__thiscall sub_402540(_DWORD *this);
void __stdcall sub_4025A0(void *a1);
signed int __stdcall sub_4025B0(int a1, int a2);
signed int __thiscall sub_4025E0(int this);
signed int __thiscall sub_402660(void *this, int a2);
signed int __thiscall sub_402670(int this);
_DWORD *__thiscall sub_402680(_DWORD *this);
BOOL __thiscall sub_4026F0(int this);
BOOL __thiscall sub_402700(int this);
int __thiscall sub_402710(CWnd *this); // idb
int __thiscall sub_4028B0(CWnd *this, int, int, int, int); // idb
void *__thiscall sub_402980(void *this, char a2);
int (**sub_4029B0())();
void *__thiscall sub_4029C0(void *this, char a2);
int __cdecl sub_4029F0(_DWORD *a1, _DWORD *a2);
void *__thiscall sub_402AC0(void *this, char a2);
int __thiscall sub_402B00(int this, int a2);
int __thiscall sub_402B10(int this);
int __thiscall sub_402B50(int this);
int __thiscall sub_402B90(int this, unsigned int a2);
int __thiscall sub_402BE0(void *this);
int __thiscall sub_402BF0(void *this);
signed int __thiscall sub_402C00(int this);
signed int __thiscall sub_402C70(char *this);
int __thiscall sub_402CC0(int this);
int __thiscall sub_402CE0(void *this);
int __thiscall sub_402CF0(void *this, int a2);
unsigned int __thiscall sub_402D10(int this, unsigned int a2);
int __thiscall sub_402D40(int this);
void *__cdecl sub_402D60(char *a1);
void *__cdecl sub_402DC0(char *a1);
void *__cdecl sub_402E20(char *a1);
void *__cdecl sub_402E80(char *a1);
signed int __thiscall sub_402F00(void *this, int a2, int a3);
signed int __thiscall sub_402FD0(void *this, const void *a2);
signed int __stdcall sub_403030(const void *a1, void *a2);
int __thiscall sub_403050(int this, unsigned int a2, int a3);
int __thiscall sub_403140(int this);
int __thiscall sub_403180(int this);
signed int __thiscall sub_4031C0(int this, int a2, unsigned int a3);
signed int __thiscall sub_403270(int this, int a2, int a3, int a4, int a5);
signed int __thiscall sub_403370(int this, unsigned int a2);
signed int __thiscall sub_403490(int this);
int __cdecl sub_4036D0(int a1, int a2, int a3);
int __cdecl sub_403720(char *a1, char *a2, int a3);
void *__cdecl sub_403770(const void *a1, const void *a2, void *a3);
int __cdecl sub_4037A0(int a1, int a2, int a3);
void *__cdecl sub_4037E0(const void *a1, const void *a2, void *a3);
signed int __thiscall sub_403810(int this, int a2);
int __thiscall sub_403870(void *this);
int __thiscall sub_403970(int this, unsigned int a2, unsigned int a3);
_BYTE *__thiscall sub_403A00(int this, void *Dst, rsize_t MaxCount);
void *__cdecl sub_403B50(void *a1, void *a2, const void *a3);
int __cdecl sub_403B80(int a1, int a2, int a3);
void *__cdecl sub_403BB0(void *a1, void *a2, const void *a3);
// void *__usercall sub_403BE0@<eax>(void *result@<eax>, void *a2, int a3, const void *a4);
void __cdecl sub_403C10(int a1, int a2, int a3);
// void *__usercall sub_403C50@<eax>(void *result@<eax>, void *a2, int a3, const void *a4);
void __thiscall sub_403C80(void *); // idb
int __cdecl sub_403CD0(char *a1, char *a2, int a3);
int __cdecl sub_403D10(int a1, int a2, int a3);
int __cdecl sub_403D40(char *a1, char *a2, int a3);
int __thiscall sub_403D70(int *this, char *Format, va_list ArgList);
signed int __stdcall sub_403E00(char a1, int a2, int a3, int a4, int a5, int a6, int a7, char a8, int a9, int a10, int a11, int a12, int a13, int a14);
int __thiscall sub_403EC0(int this, int a2, unsigned int a3, void *a4);
int __stdcall sub_403FA0(void *a1, int a2, void *a3);
int __stdcall sub_403FE0(int a1, int a2, int a3);
int __stdcall sub_404020(void *a1, int a2, void *a3);
int __thiscall sub_404060(int *this, void *Src);
int __thiscall sub_4040A0(int this, void *Src, rsize_t MaxCount);
int sub_404170(int arg0, char *Format, ...);
void __thiscall sub_404190(void *this, int a2, int ArgList, int a4, int a5, int a6);
void *__stdcall sub_404370(const void *a1, const void *a2, void *a3);
int __stdcall sub_4043A0(int a1, int a2, int a3);
void *__stdcall sub_4043D0(const void *a1, const void *a2, void *a3);
_DWORD *__thiscall sub_404400(_DWORD *this, int a2);
void __thiscall sub_404470(int this);
_DWORD *__thiscall sub_4044B0(void *this, char a2);
signed int __thiscall sub_404500(void *this, int a2, int a3);
int __thiscall sub_404910(int *this, void *Src);
int __thiscall sub_404980(int this, void *Src);
void __thiscall sub_4049C0(void *this);
std::exception *__thiscall sub_404AA0(std::exception *this, struct std::exception *a2);
void *__thiscall sub_404B40(void *this, char a2);
void __thiscall sub_404B60(int this, int a2, int a3, int a4, void *a5);
void *__thiscall sub_404DB0(void *this, int a2, int a3, unsigned int a4, int a5);
void __thiscall sub_405000(int this, int a2, int a3, int a4, void *a5);
int __thiscall sub_4052B0(int this, int a2, int a3, int a4, void *a5);
int __thiscall sub_405340(int this, int a2, int a3, int a4, int a5);
int __thiscall sub_4053D0(int this, int a2, int a3, int a4, void *a5);
int __thiscall sub_405480(int this, int a2);
void *__thiscall sub_405570(int this, void *a2);
void __thiscall sub_405600(int this, int a2);
void *__thiscall sub_405690(int this, void *a2);
signed int __thiscall sub_405730(int this);
signed int __thiscall sub_4057E0(int this);
signed int __thiscall sub_4058B0(int this);
char __thiscall sub_4059D0(int this, char a2);
HANDLE __thiscall sub_4059E0(int this, char a2, LPCSTR lpFileName);
void __thiscall sub_405A30(int this);
int __thiscall sub_405AE0(int this, int a2);
void __thiscall sub_405B60(int this, const void *a2, int a3);
DWORD __stdcall StartAddress(LPVOID lpThreadParameter); // idb
BOOL __thiscall sub_405E90(int this, void *a2, size_t a3);
unsigned int __thiscall sub_405F30(int this, void *a2, int a3);
DWORD __stdcall sub_405FB0(LPVOID lpThreadParameter); // idb
void __thiscall sub_406230(int this);
int __thiscall sub_4062A0(int this, void *a2, int a3);
void __thiscall sub_406320(LPVOID lpParameter);
void *__thiscall sub_4063E0(void *this, char a2);
int __stdcall sub_406400(char *); // idb
void __thiscall sub_4064A0(int this, int a2, __int16 a3, char *a4);
char __cdecl sub_4067A0(int a1);
int __cdecl sub_4067C0(void *, int); // idb
int __cdecl sub_406900(int a1, unsigned __int8 a2, int a3);
int __cdecl sub_406980(int, void *, int); // idb
int __cdecl sub_406A00(int a1, int a2, int a3);
char sub_406A50();
// DWORD __usercall sub_406B60@<eax>(LPCVOID lpBuffer@<ecx>, HANDLE hFile@<edx>, DWORD a3@<esi>);
int __cdecl HWM_pcap_log_rx_pkt(char, int, int, size_t, int, int); // idb
HGLOBAL __cdecl sub_406DC0(HMODULE hModule, HRSRC hResInfo, int a3);
HRSRC __cdecl sub_406E30(HMODULE hModule, int a2);
void sub_406E70();
void __cdecl sub_406F00(unsigned __int8 a1, _BYTE *a2, int a3);
int __cdecl sub_406F80(int a1);
__int64 sub_406FA0();
const char *__cdecl sub_406FD0(int a1);
int __cdecl SIM_load_device_0(int a1);
int __cdecl SIM_load_device_mutex_0(int a1);
int __cdecl sub_407070(unsigned __int16 a1, _BYTE *a2, unsigned __int16 a3);
int *__cdecl sub_4070B0(__int16 a1, _DWORD *a2, int *a3);
int __cdecl sub_407110(__int16 a1, int a2);
bool __cdecl sub_407210(unsigned __int8 a1);
bool __cdecl sub_407230(unsigned __int8 a1);
bool __cdecl sub_407250(unsigned __int8 a1);
int __cdecl sub_407270(char, void *, int); // idb
char __cdecl sub_407290(char a1, void *a2, size_t a3);
int __cdecl sub_4072C0(int a1, int a2, int a3, int a4);
int sub_407310(); // weak
int __cdecl sub_4073F0(unsigned __int8 a1, int a2);
int __cdecl sub_407410(unsigned __int8 a1, unsigned __int8 a2);
BOOL __cdecl sub_407430(unsigned __int8 a1, DWORD a2, int a3);
int sub_407450();
char __cdecl sub_407480(int a1, size_t a2);
int __cdecl sub_407680(LPCWSTR lpWideCharStr, int cchWideChar); // idb
int __cdecl sub_4076B0(LPSTR lpMultiByteStr, int cbMultiByte, LPCWSTR lpWideCharStr, int cchWideChar); // idb
char __cdecl sub_4076E0(unsigned __int8 a1);
int __cdecl sub_407730(WPARAM wParam); // idb
_DWORD __cdecl sub_407750(_DWORD); // weak
BOOL sub_407760();
int __cdecl sub_407780(char, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite); // idb
LRESULT SIM_lock_display_0();
LRESULT SIM_lock_display2_0();
LRESULT SIM_unlock_display_0();
LRESULT SIM_unlock_display2_0();
int __thiscall sub_407850(int *this, HMODULE hModule, int a3);
HMODULE __thiscall sub_407920(int *this, unsigned int a2);
char __thiscall sub_407950(int *this, int a2);
char sub_407990();
int __cdecl sub_407A10(unsigned __int8 a1);
int *__thiscall sub_407B00(int *this, void *Src);
void __cdecl sub_407BC0(unsigned __int8 a1);
void sub_407D60();
_DWORD *__thiscall sub_407DA0(_DWORD *this, int a2);
void __cdecl sub_407DD0();
int __thiscall sub_407DE0(int this);
int __thiscall sub_407E50(CWnd *this); // idb
void __thiscall sub_407F20(int this);
int (**sub_408080())();
void *__thiscall sub_408090(void *this, char a2);
void *__thiscall sub_4080F0(void *this, char a2);
void *__thiscall sub_408110(void *this, char a2);
void *__thiscall sub_408130(void *this, char a2);
void *__thiscall sub_408150(void *this, char a2);
void *__thiscall sub_408170(void *this, char a2);
void *__thiscall sub_4081A0(void *this, char a2);
int __thiscall sub_408450(int this);
void *__cdecl sub_408480(char *a1);
void *__cdecl sub_4084E0(char *a1);
int __thiscall sub_408550(int this);
int __thiscall sub_408650(int this);
_DWORD *__cdecl sub_4086F0(_DWORD *a1, _DWORD *a2, _DWORD *a3);
int __cdecl sub_408710(void *Src, int, int); // idb
int sub_408740(); // weak
int __thiscall sub_408770(int *this, void *Src, rsize_t DstSize);
char *__stdcall sub_4087F0(void *Src, int a2, void *Dst);
int __thiscall sub_408820(CGdiObject *this);
int *__thiscall sub_408940(int *this, void **a2);
int __stdcall sub_408960(_DWORD *a1, int a2, _DWORD *a3);
int __stdcall sub_408990(int a1);
int __cdecl sub_4089C0(int a1, int a2, int a3);
void *__thiscall sub_408AA0(void *this, char a2);
void *__thiscall sub_408AC0(void *this, char a2);
int __thiscall sub_408AF0(void *this, int a2);
signed int __fastcall sub_408F90(signed int a1);
void __cdecl sub_4092D0(int a1, int a2, int a3);
void __cdecl sub_4093A0(int a1, int a2);
int *__cdecl sub_4093E0(int a1, int a2, int a3);
int __cdecl sub_409430(int a1, int a2, int a3);
LRESULT __thiscall sub_409490(int this, int a2);
void __thiscall sub_4096B0(void *this, int a2, int a3);
__int32 __thiscall sub_40A860(CWnd *this, unsigned int a2, unsigned int a3, __int32 a4);
void __noreturn sub_40A8C0();
int __cdecl sub_40A940(int a1, int a2, int a3);
int __thiscall sub_40A9B0(void *this, char *a2);
int __stdcall sub_40AB60(int a1, int a2, int a3);
char *__thiscall sub_40ABA0(int this, int a2, void *Src, int a4, int a5);
void __stdcall sub_40AD60(int a1, int a2);
int __thiscall sub_40AD80(void *this, void *DstBuf);
int __thiscall sub_40B250(int this, int a2, int a3, void *Src, int a5);
int __stdcall sub_40B2E0(int a1, int a2, int a3);
int __cdecl sub_40B310(int a1, int a2, int a3);
void __thiscall sub_40B340(void *this);
signed int __thiscall sub_40B480(CDialog *this);
int __thiscall sub_40B590(void *this, int a2, int a3, unsigned int a4, int a5);
int __thiscall sub_40B920(void *this, struct CWnd *a2);
int __thiscall sub_40BB50(void *this);
int __thiscall sub_40BD30(int this, int a2, int a3, int a4, int a5);
void *__thiscall sub_40BDF0(void *this, char a2);
void __fastcall sub_40BE10(signed int a1, int a2, int a3);
int __thiscall sub_40BEC0(void *this);
int (**sub_40CA60())();
void __thiscall sub_40CA80(int this, HWND hWnd);
signed int __stdcall sub_40CFD0(char *a1);
int __thiscall sub_40D290(void *this);
int __thiscall sub_40D6C0(void *this);
int __thiscall sub_40D6F0(const unsigned __int8 **this, unsigned __int8 *a2);
void __thiscall sub_40D720(CDialog *this);
void *__thiscall sub_40D740(void *this, int a2);
int __thiscall sub_40DA70(int this);
char *__cdecl sub_40DCF0(int a1, void *Src, rsize_t DstSize, void *a4, rsize_t MaxCount);
void *__thiscall sub_40DD70(void *this, char a2);
_DWORD *__cdecl sub_40DD90(_DWORD *a1, void **a2, void **a3);
signed int __thiscall sub_40DE50(void *this);
unsigned int __thiscall sub_40EBC0(void *this);
int __thiscall sub_40F340(CDialog *this); // idb
void __thiscall sub_40F370(CWnd *this, char *a2);
int __thiscall sub_40F5F0(void *this, int a2, int a3);
void __cdecl sub_40FEA0(int *a1, const char **a2);
int (**sub_4103F0())();
_DWORD *__thiscall sub_410410(_DWORD *this, int a2);
void __thiscall sub_410430(int this, HWND hWnd);
_DWORD *__thiscall sub_410690(void *this);
LRESULT __thiscall sub_4106D0(CWnd *this);
LRESULT __thiscall sub_410720(CWnd *this);
LRESULT __thiscall sub_410AD0(CWnd *this);
LRESULT __thiscall sub_410E80(CWnd *this);
LRESULT __thiscall sub_410EE0(CWnd *this);
LRESULT __thiscall sub_410F40(CWnd *this);
LRESULT __thiscall sub_410FA0(CWnd *this);
LRESULT __thiscall sub_411000(CWnd *this);
LRESULT __thiscall sub_411060(CWnd *this);
void __thiscall sub_4110D0(CDialog *this);
LRESULT __thiscall sub_411110(CWnd *this);
LRESULT __thiscall sub_411170(CWnd *this);
LRESULT __thiscall sub_4111D0(CWnd *this);
signed int __thiscall sub_411580(char *this, int a2);
int (**sub_411690())();
void *__thiscall sub_4116B0(void *this, char a2);
_DWORD *__thiscall sub_4116D0(_DWORD *this, int a2);
int __thiscall sub_411750(int this);
int __thiscall sub_4117B0(CDialog *this);
void __thiscall sub_411800(CDialog *this);
signed int SIM_get_timescale();
int (**sub_411940())();
void *__thiscall sub_411950(void *this, char a2);
CDataExchange *__thiscall sub_411980(HWND this, CDataExchange *a2);
int (**sub_411A70())();
_DWORD *__thiscall sub_411A80(_DWORD *this);
int __thiscall sub_411AA0(CWinApp *this);
signed int sub_411AB0();
void *__thiscall sub_411B50(void *this, char a2);
signed int __thiscall sub_411B70(void *this);
int __cdecl sub_411C60(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); // idb
void __cdecl sub_411CA0(int nPos);
int __thiscall sub_411CD0(CWnd *this); // idb
int __thiscall sub_412AF0(int this);
int __thiscall sub_412B10(int this);
char *__thiscall sub_412CF0(int this, char *a2);
void __thiscall sub_413050(int this);
void __thiscall sub_4133C0(int this);
void __stdcall __noreturn sub_4137D0(LPVOID lpThreadParameter);
DWORD __cdecl sub_4137F0(unsigned int a1);
int *sub_4138A0();
void *__thiscall sub_413A40(void *this, char a2);
void *__thiscall sub_413A70(void *this, char a2);
void __thiscall sub_413AC0(int this, int a2, int a3, int a4);
void __thiscall sub_413DC0(HWND hWnd, int a2, struct tagPOINT Point);
void __thiscall sub_4143C0(int this, int a2, int a3, int a4);
void __thiscall sub_414690(int this);
int __cdecl sub_414900(int, unsigned __int8 *); // idb
int __thiscall sub_414930(CFrameWnd *this); // idb
signed int __stdcall sub_414A80(const void *a1);
int __thiscall sub_414B40(int this, int a2, int a3, int a4);
// struct CMenu *__usercall sub_4155D0@<eax>(int a1@<edi>, const char *a2);
int __thiscall sub_415720(int *this, int a2);
void *__thiscall sub_415770(void *this, char a2);
int *__thiscall sub_415790(int *this);
int *__thiscall sub_4157E0(int *this);
int __cdecl sub_415880(int, int, void *); // idb
int __thiscall sub_415960(int *this, void *Src);
char __stdcall sub_4159A0(int a1, LPBYTE lpData);
void __thiscall sub_415A70(CWnd *this);
void __thiscall sub_416070(void *this);
void __thiscall sub_416800(void *this);
void __thiscall sub_417650(CWnd *this);
// int __userpurge sub_418960@<eax>(CWnd *this@<ecx>, int a2@<ebx>, int a3);
__int32 __thiscall sub_418C20(CWnd *this, unsigned int a2, LPCSTR lpText, __int32 a4);
int (**sub_418FF0())();
int __cdecl sub_419010(int a1, unsigned __int8 a2);
int __cdecl sub_419040(char *a1, int a2, unsigned __int8 a3);
int *__cdecl SIM_ethr_rx(unsigned int a1);
signed int __cdecl sub_419420(char a1);
// int __usercall SIM_hwm_gp_inp8@<eax>(int a1@<eax>, int a2);
char __cdecl SIM_hwm_gp_outp8(int a1, char a2);
char *__cdecl SIM_malloc(int a1);
char *SIM_pwrp_ethr();
char *__cdecl SIM_set_comm_rx_param(char a1, char a2, char a3);
char *__cdecl SIM_set_comm_tx_param(char a1, char a2, char a3);
// char *__usercall sub_419760@<eax>(size_t a1@<edi>);
int __cdecl SIM_ethr_cmd(char a1);
int sub_4199C0();
void __cdecl __noreturn sub_419A40(char a1);
void __cdecl __noreturn SIM_boot(char a1);
void __noreturn SIM_reboot();
char __cdecl sub_419AE0(int a1);
char __cdecl sub_419B30(int a1);
int sub_419B60();
int sub_419B80();
int SIM_rqst_init();
char *__cdecl SIM_proc_rqst(int a1);
void __cdecl SIM_sleep(DWORD dwMilliseconds);
int __cdecl SIM_load_dbg_gfx_wnd(int a1);
UINT sub_41A5C0();
int __cdecl sub_41A8B0(int a1);
void *sub_41A8D0();
int __cdecl sub_41A8E0(int a1);
char sub_41A900();
void sub_41A910();
void sub_41A970();
void __noreturn SIM_rqst_main();
int __cdecl sub_41AB20(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_41ACB0(_DWORD *a1, unsigned int a2, int a3, int a4, int a5);
// void *__cdecl operator new(size_t); idb
void __cdecl j__free(void *);
void *__cdecl operator new(size_t); // idb
int __thiscall sub_41AE2A(void *this);
char **sub_41AEA1();
char **sub_41AEA7();
char **sub_41AEAD();
// int unknown_libname_34(void); weak
// int __cdecl unknown_libname_36();
// int __cdecl ATL::Checked::tcsncpy_s(ATL::Checked *this, char *, unsigned int, const char *, unsigned int); idb
// int CException::CException(void); weak
char **sub_41B037();
// void __stdcall AfxThrowOleException(__int32); idb
// struct CWinThread *__stdcall AfxGetThread(); idb
// _DWORD __thiscall CWinThread::~CWinThread(CWinThread *__hidden this); idb
int sub_41B367();
char **sub_41B407();
// struct CWnd *__stdcall AfxGetMainWnd(); idb
void *__thiscall sub_41B5F8(void *this, char a2);
// int CWinThread::CWinThread(void); weak
// int __thiscall CThreadLocal<AFX_MODULE_THREAD_STATE>::GetData(_DWORD); weak
// struct CWinThread *__stdcall AfxBeginThread(unsigned int (__cdecl *)(void *), void *, int nPriority, unsigned int, unsigned __int32, struct _SECURITY_ATTRIBUTES *); idb
void *sub_41BC2E();
// int unknown_libname_140(void); weak
void *__thiscall sub_41BCB4(_DWORD *this, size_t a2);
int __thiscall sub_41BD13(_DWORD *this, size_t a2);
// _DWORD __stdcall ATL::CTempBuffer<wchar_t,128,ATL::CCRTAllocator>::Allocate(_DWORD); weak
// int __stdcall ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>(void *Src, rsize_t DstSize); idb
int *__thiscall sub_41BDF9(int *this, LPCWSTR lpWideCharStr, int cchWideChar);
CArchive *__thiscall sub_41BE66(CArchive *this, int *a2);
char **sub_41BFBF();
char **sub_41BFC5();
// _DWORD __stdcall unknown_libname_39(_DWORD); weak
void *__thiscall sub_41BFDA(int this);
void *__thiscall sub_41BFF7(void *this, char a2);
int __thiscall sub_41C9E4(char *this);
int __thiscall sub_41CA04(int this, struct tagPOINT Point, int a3);
BOOL __thiscall sub_41CA77(int this, WINDOWPLACEMENT *lpwndpl);
BOOL __thiscall sub_41CA8E(int this, WINDOWPLACEMENT *lpwndpl);
// __int32 __thiscall CWnd::WindowProc(CWnd *this, unsigned int, unsigned int, __int32); idb
CCmdUI *__thiscall sub_41CB29(CCmdUI *this);
void **sub_41CC49();
signed int __stdcall sub_41CC84(int a1, int a2, int a3, int a4);
int sub_41CFE0();
char **sub_41D02E();
// HWND __cdecl AfxCtxCreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, void *lpParam); idb
// int __cdecl AfxCtxMessageBoxA(HWND hWnd, LPCSTR lpText, LPCSTR lpCaption, UINT uType); idb
HMODULE __cdecl sub_41D335(LPCSTR lpLibFileName);
// int __thiscall CWnd::CWnd(_DWORD); weak
// int __thiscall CMenu::TrackPopupMenu(CMenu *this, UINT uFlags, int x, int y, HWND hWnd, const struct tagRECT *); idb
BOOL __thiscall sub_41D646(int this);
void *__thiscall sub_41D65B(void *this, char a2);
int __thiscall sub_41D6C7(void *this, LPCSTR lpText, LPCSTR lpCaption, UINT uType);
unsigned __int32 __stdcall sub_41D7FE(int a1);
unsigned __int32 __stdcall sub_41D846(int a1);
int __stdcall sub_41DA88(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41DAE2(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41DB3C(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41DB96(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41DBF0(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41DCA7(int a1, int a2, int a3, int a4, int a5, int a6);
unsigned __int32 __stdcall sub_41E070(int a1);
unsigned __int32 __stdcall sub_41E0B8(int a1);
// int __thiscall CWnd::UpdateData(CWnd *this, int); idb
// _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD); weak
// __int32 __thiscall CWnd::Default(CWnd *__hidden this); idb
// struct CWnd *__stdcall CWnd::FromHandle(HWND); idb
// int __stdcall AfxUnhookWindowCreate(); idb
// int __thiscall CWnd::DestroyWindow(CWnd *__hidden this); idb
// void __thiscall CWnd::RepositionBars(CWnd *this, unsigned int, unsigned int, unsigned int, unsigned int, LPRECT lprcDst, const struct tagRECT *, int); idb
// void __thiscall CWnd::OnPaint(CWnd *__hidden this); idb
_DWORD *sub_41F01E();
// _DWORD __thiscall CWnd::~CWnd(CWnd *__hidden this); idb
int __stdcall sub_41F6A7(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F6E5(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F723(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F761(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F79F(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F7DD(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F81B(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F859(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_41F8A0(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F93C(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F97A(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F9AA(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __stdcall sub_41FA01(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_41FA78(int a1, int a2, int a3, int a4, int a5);
int __thiscall sub_41FB9B(int *this, int a2);
void *__thiscall sub_41FBBC(void *this, char a2);
// _DWORD __stdcall unknown_libname_54(_DWORD, _DWORD, _DWORD, _DWORD); weak
// struct CWnd *__thiscall CWnd::GetTopLevelParent(CWnd *__hidden this); idb
int __stdcall sub_41FF98(int a1, int a2);
signed int __stdcall sub_41FF9D(int a1, int a2);
// int CMFCComObject<ATL::CAccessibleProxy>::~CMFCComObject<ATL::CAccessibleProxy>(void); weak
// _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::AddRef(_DWORD); weak
// _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::Release(_DWORD); weak
void *__thiscall sub_4200EF(void *this, char a2);
int __stdcall sub_42010B(int a1);
int __stdcall sub_42011F(int a1);
int __stdcall sub_420133(int a1);
int __stdcall sub_42013D(int a1);
// void __stdcall AfxHookWindowCreate(struct CWnd *); idb
int __thiscall sub_420625(struct CWnd *, int, int, int, int, int, int, int, int, int, int, int); // idb
// void __thiscall CWnd::PrepareForHelp(CWnd *this); idb
// _DWORD __thiscall CWaitCursor::~CWaitCursor(CWaitCursor *__hidden this); idb
int __thiscall sub_42109C(CWnd *this, ULONG_PTR dwData, UINT uCommand);
int __thiscall sub_421111(CWnd *this, int a2, int a3);
int (**sub_421185())();
// int __stdcall AfxEndDeferRegisterClass(__int32); idb
signed int __stdcall sub_42184F(int a1);
signed int __stdcall sub_421B26(int a1);
void *sub_421B34();
void *sub_421B3A();
void *sub_421B40();
signed int sub_421B74();
void *sub_421B78();
void *sub_421B7E();
// _DWORD __thiscall CCmdUI::CCmdUI(CCmdUI *__hidden this); idb
BOOL __thiscall sub_421C14(int this, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem);
// void __thiscall CCmdTarget::BeginWaitCursor(CCmdTarget *__hidden this); idb
void *sub_421C95();
void __thiscall sub_421D9F(int this, LPCSTR lpNewItem);
// struct CWnd *__thiscall CWnd::GetDlgItem(CWnd *this, int); idb
// void __thiscall CWnd::SetWindowTextA(CWnd *this, const char *); idb
// void __thiscall CWnd::MoveWindow(CWnd *this, int X, int Y, int nWidth, int nHeight, int); idb
// int __thiscall CWnd::ShowWindow(CWnd *this, int); idb
// int __thiscall CWnd::SetWindowPos(CWnd *this, HWND hWndInsertAfter, int X, int Y, int, int cy, unsigned int); idb
int __thiscall sub_42221B(int this, LPSTR lpString, int nMaxCount);
int __thiscall sub_4223AD(int this, int iMode);
int __thiscall sub_4223DB(int this, LPRECT lprect);
char **sub_4224EB();
char **sub_4224F1();
void ***sub_4224F7();
char **sub_4224FD();
char **sub_422503();
char **sub_422509();
char **sub_42250F();
char **sub_422515();
char **sub_42251B();
char **sub_422521();
char **sub_422527();
// int unknown_libname_67(void); weak
BOOL __thiscall sub_4225A5(int this, int x, int y);
BOOL __thiscall sub_4225B9(int this, RECT *lprect);
BOOL __thiscall sub_4225C9(int this, int x, int y, LPCSTR lpString, int c);
int __thiscall sub_422642(int this, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format);
int __thiscall sub_4226AD(int this, int iEscape, int cjIn, LPCSTR pvIn, LPVOID pvOut);
// void __thiscall CWnd::ScreenToClient(CWnd *this, LPPOINT lpPoint); idb
void __stdcall sub_42295E(struct CObject *); // idb
// int __thiscall CDC::Attach(CDC *this, HDC); idb
// HDC __thiscall CDC::Detach(CDC *__hidden this); idb
// _DWORD __thiscall CDC::~CDC(CDC *__hidden this); idb
CDC *__thiscall sub_422AAC(int this, int a2);
int __thiscall sub_422B00(CDC *this);
CDC *__thiscall sub_422B3B(int this, int a2);
int __thiscall sub_422B8F(CDC *this);
// _DWORD __thiscall CPaintDC::~CPaintDC(CPaintDC *__hidden this); idb
// int __thiscall CGdiObject::Attach(CGdiObject *this, void *); idb
// int __thiscall CGdiObject::DeleteObject(CGdiObject *__hidden this); idb
void *__thiscall sub_422DB3(void *this, char a2);
void *__thiscall sub_422E68(void *this, char a2);
void *__thiscall sub_422E84(void *this, char a2);
void *__thiscall sub_422EA0(void *this, char a2);
void *__thiscall sub_423475(void *this, char a2);
void *__thiscall sub_423497(void *this, char a2);
// int __thiscall unknown_libname_70(_DWORD); weak
// _DWORD __stdcall unknown_libname_71(_DWORD); weak
int __thiscall sub_4234FB(int this);
// _DWORD __stdcall unknown_libname_73(_DWORD); weak
char **sub_4235A9();
int __thiscall sub_4235AF(int this, int a2);
int __thiscall sub_4235D2(void *this);
// _DWORD __stdcall unknown_libname_75(_DWORD, _DWORD); weak
int __thiscall sub_423636(int this, int a2);
void *__thiscall sub_42365F(void *this, char a2);
int __stdcall sub_423713(int a1, int a2);
int __stdcall sub_423723(int a1, int a2);
// int __stdcall AfxActivateActCtxWrapper(_DWORD, _DWORD); weak
// struct _AFX_THREAD_STATE *__stdcall AfxGetThreadState(); idb
int __thiscall sub_423A9B(int this, _DWORD *a2);
// struct AFX_MODULE_STATE *__stdcall AfxGetModuleState(); idb
// _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD); weak
// HINSTANCE __stdcall AfxFindStringResourceHandle(unsigned int); idb
int __thiscall sub_4240A9(int this);
int __thiscall sub_424130(int this);
// _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD); weak
// void __thiscall CDialog::EndDialog(CDialog *this, int); idb
// void __thiscall CDialog::OnOK(CDialog *this); idb
void __thiscall sub_4241AC(CDialog *this);
char **sub_4241C7();
void *__thiscall sub_4242FD(void *this, char a2);
// int __thiscall CDialog::OnInitDialog(CDialog *this); idb
int (**sub_4245D4())();
// int __thiscall CDialog::CreateIndirect(CDialog *this, const struct DLGTEMPLATE *, struct CWnd *, void *, HINSTANCE); idb
// int __thiscall CDialog::CreateIndirect(CDialog *this, HGLOBAL hResData, struct CWnd *, HINSTANCE); idb
int __thiscall sub_4249EB(CDialog *this, struct DLGTEMPLATE *a2, struct CWnd *a3, void *a4);
int __thiscall sub_424A01(CDialog *this, LPCSTR lpName, struct CWnd *); // idb
int __thiscall sub_424A5B(CDialog *this, HGLOBAL hResData, struct CWnd *a3);
char **sub_424A6D();
int __thiscall sub_424A8F(int this);
void __thiscall sub_424AA6(int this);
int __thiscall sub_424AB6(int this, int a2, int a3, int a4);
void *__thiscall sub_424BAE(void *this, char a2);
int __thiscall sub_424BEC(CWnd *this);
int __thiscall sub_424C60(CWnd *this);
int __thiscall sub_424CB2(CWnd *this);
int __stdcall nullsub_1(int); // weak
int __thiscall sub_424D98(CWnd *this);
char **sub_424E23();
char **sub_424E29();
char **sub_424E2F();
char **sub_424E35();
int __thiscall sub_424E6C(CWnd *this);
int __thiscall sub_424F04(CWnd *this);
char **sub_424F35();
char **sub_424F3B();
char **sub_424F41();
// void __thiscall CSliderCtrl::SetRange(CSliderCtrl *this, LPARAM lParam, LPARAM, int); idb
void __stdcall sub_424FDD(struct CObject *); // idb
// _DWORD __thiscall CImageList::~CImageList(CImageList *__hidden this); idb
void *__thiscall sub_425297(void *this, char a2);
void *__thiscall sub_4252B3(void *this, char a2);
// int __cdecl CWinApp::ShowAppMessageBox(struct CWinApp *, const char *, UINT uType, unsigned int); idb
// int __stdcall AfxMessageBox(const char *, UINT uType, unsigned int); idb
int __thiscall sub_42554C(struct CWinApp *, char *, UINT uType, unsigned int); // idb
// int __stdcall AfxMessageBox(unsigned int, UINT uType, unsigned int); idb
// int __thiscall CStdioFile::CStdioFile(_DWORD); weak
// int __thiscall CStdioFile::Open(CStdioFile *this, const char *, unsigned int, struct CFileException *); idb
char **sub_4256E8();
// unsigned int __thiscall CStdioFile::Read(CStdioFile *this, void *DstBuf, unsigned int); idb
// _DWORD __stdcall unknown_libname_88(char *); weak
int __thiscall sub_4257E1(int this, int a2, int a3);
// int __thiscall unknown_libname_91(_DWORD); weak
// _DWORD __thiscall CDaoWorkspace::~CDaoWorkspace(CDaoWorkspace *__hidden this); idb
void *__thiscall sub_425AFA(void *this, char a2);
void *__thiscall sub_425BE9(void *this, int a2, int a3, void *Src);
// void __stdcall DDX_Check(HWND hWnd, int nIDDlgItem, int *); idb
// void __stdcall DDX_Control(struct CDataExchange *, HWND, HWND); idb
// HWND __thiscall CDataExchange::PrepareEditCtrl(CDataExchange *this, int); idb
// int __stdcall DDV_MaxChars(CDataExchange *, int, WPARAM wParam); idb
void __stdcall sub_425E8F(CDataExchange *a1, int a2, int a3);
// int __stdcall DDX_CBString(HWND hWnd, int nIDDlgItem, int); idb
char *__thiscall sub_425F73(int this, char *a2);
// unsigned int __thiscall CWinApp::GetProfileIntA(CWinApp *this, DWORD cbData, LPCSTR lpValueName, int); idb
// int __thiscall CWinApp::WriteProfileInt(CWinApp *this, LPCSTR lpAppName, LPCSTR lpValueName, int); idb
// int __thiscall CWinApp::WriteProfileStringA(CWinApp *this, LPCSTR lpSubKey, LPCSTR lpValueName, const char *); idb
// int __stdcall CWinApp::GetProfileStringA(int, LPCSTR lpAppName, LPCSTR lpValueName, int); idb
int __thiscall sub_426363(int this);
char **sub_42636A();
// int __thiscall CFileDialog::DoModal(CFileDialog *this); idb
int __thiscall sub_426764(_DWORD *this);
// _DWORD __thiscall CFileDialog::~CFileDialog(CFileDialog *__hidden this); idb
void *__thiscall sub_4267A3(void *this, char a2);
// int __stdcall CFileDialog::CFileDialog(int, int, int, int, int, int, size_t); idb
void *__thiscall sub_42696B(int this, void *a2);
int (**sub_426A77())();
bool __thiscall sub_426B43(int *this, int a2);
char **sub_426F02();
int __thiscall sub_427056(_DWORD *this, int a2, int a3);
int __thiscall sub_427093(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_427477(_DWORD *this, char *a2);
// _DWORD __thiscall CWinApp::~CWinApp(CWinApp *__hidden this); idb
void *__thiscall sub_427740(void *this, char a2);
int nullsub_2(); // weak
signed int __stdcall sub_427DCA(int a1);
char **sub_427F9E();
int __thiscall sub_427FA4(int this, int a2, int a3);
// int unknown_libname_104(void); weak
// int __thiscall CFrameWnd::LoadAccelTable(CFrameWnd *this, const char *); idb
signed int __thiscall sub_428446(CWnd *this, int a2, int a3);
// _DWORD __thiscall type_info::~type_info(type_info *__hidden this); idb
int __thiscall sub_4295D1(int this, int a2);
void *__thiscall sub_4295FF(void *this, char a2);
void *__thiscall sub_42961B(void *this, char a2);
// int __stdcall SerializeElements<enum  CArchive::LoadArrayObjType>(CArchive *, int, void *Src); idb
// _DWORD __stdcall unknown_libname_106(_DWORD, _DWORD); weak
int __thiscall sub_429BAC(int this, int a2);
void __thiscall sub_429BD5(int this, CArchive *a2);
// int CFrameWnd::CFrameWnd(void); weak
// _DWORD __thiscall CFrameWnd::~CFrameWnd(CFrameWnd *__hidden this); idb
void *__thiscall sub_42A383(void *this, char a2);
// _DWORD __thiscall CChevronOwnerDrawMenu::~CChevronOwnerDrawMenu(CChevronOwnerDrawMenu *__hidden this); idb
// int __thiscall CFrameWnd::Create(CFrameWnd *this, const char *, const char *Src, unsigned __int32, const struct tagRECT *, struct CWnd *, LPCSTR lpMenuName, unsigned __int32, struct CCreateContext *); idb
int (**sub_42AB8A())();
char **sub_42ABDC();
int __thiscall sub_42ABE2(int this);
// int __thiscall unknown_libname_108(void *, char); idb
_DWORD *__cdecl sub_42AC30(_DWORD *a1, int a2);
int __cdecl sub_42AC57(void *, int); // idb
// void __thiscall CStringArray::SetSize(CStringArray *this, int, int); idb
// void __thiscall CStringArray::InsertEmpty(CStringArray *this, int, int); idb
// _DWORD __thiscall CStringArray::~CStringArray(CStringArray *__hidden this); idb
void *__thiscall sub_42AF5D(void *this, char a2);
int *__thiscall sub_42AF79(CStringArray *this, int a2, int a3);
void __thiscall sub_42AFC9(CStringArray *this, int a2, void **a3, int a4);
char **sub_42B069();
void __stdcall sub_42B0A2(struct CObject *); // idb
// struct CMenu *__stdcall CMenu::FromHandle(HMENU); idb
// int __thiscall CMenu::Attach(CMenu *this, HMENU); idb
// int __thiscall CMenu::DestroyMenu(CMenu *__hidden this); idb
// int __stdcall CMenu::GetMenuStringA(UINT uIDItem, int, UINT flags); idb
void *__thiscall sub_42B3F2(void *this, char a2);
// int __thiscall CStatusBar::CStatusBar(_DWORD); weak
signed int __thiscall sub_42B8E5(int this, int a2);
// void __thiscall CStatusBar::GetPaneInfo(CStatusBar *this, int, unsigned int *, unsigned int *, int *); idb
char **sub_42BA69();
// _DWORD __thiscall type_info::~type_info(type_info *__hidden this); idb
void *__thiscall sub_42BC8C(void *this, char a2);
// _DWORD __thiscall CStatusBar::~CStatusBar(CStatusBar *__hidden this); idb
void *__thiscall sub_42BDB1(void *this, char a2);
// int __thiscall CStatusBar::SetPaneText(CStatusBar *this, int, const char *Src, int); idb
int __thiscall sub_42BEA4(int this, char *Src);
// void __thiscall CStatusBar::SetPaneInfo(CStatusBar *this, int, unsigned int, unsigned int, int); idb
// int __thiscall CStatusBar::SetIndicators(CStatusBar *this, const unsigned int *, int); idb
int (**sub_42C297())();
// int __thiscall CFile::GetStatus(CFile *this, struct CFileStatus *); idb
int *__thiscall sub_42C6C7(CFile *this, int *a2);
int *__thiscall sub_42C770(CFile *this, int *a2);
char **sub_42C880();
// int __stdcall unknown_libname_111(SIZE_T uBytes); idb
// void __stdcall CNoTrackObject::operator delete(void *); idb
// _DWORD __thiscall CProcessLocalObject::~CProcessLocalObject(CProcessLocalObject *__hidden this); idb
// _DWORD __thiscall CThreadLocalObject::~CThreadLocalObject(CThreadLocalObject *__hidden this); idb
// unsigned __int32 __thiscall CCmdTarget::ExternalAddRef(CCmdTarget *__hidden this); idb
// unsigned __int32 __thiscall CCmdTarget::ExternalRelease(CCmdTarget *__hidden this); idb
// _DWORD __thiscall AUX_DATA::~AUX_DATA(AUX_DATA *__hidden this); idb
// _DWORD __stdcall unknown_libname_117(_DWORD, _DWORD); weak
// unsigned int __thiscall CArchive::Read(CArchive *__hidden this, void *, unsigned int); idb
// unsigned int __stdcall AfxReadStringLength(struct CArchive *, int *); idb
// void __thiscall CArchive::WriteCount(CArchive *this, unsigned __int32); idb
// unsigned __int32 __thiscall CArchive::ReadCount(CArchive *this); idb
char **sub_42DEC5();
int __thiscall sub_42DECB(int this, ATL::Checked *a2, char *a3, int a4);
void *__thiscall sub_42DF82(void *this, int a2, void *Src);
void __cdecl __noreturn sub_42DFEE(int a1, void *Src);
// void __stdcall AfxSetWindowText(HWND hWnd, LPCSTR lpString); idb
// void __stdcall AfxDeleteObject(void **); idb
// HWND __stdcall _AfxChildWindowFromPoint(HWND hWnd, struct tagPOINT Point); idb
// _DWORD __stdcall unknown_libname_124(_DWORD, _DWORD); weak
// int sub_42E444(void); weak
int __thiscall sub_42E46F(int this, _DWORD *a2);
// _DWORD __stdcall unknown_libname_125(_DWORD, _DWORD, _DWORD); weak
signed int __thiscall sub_42E500(void *this, int a2, _DWORD *a3);
signed int __thiscall sub_42E527(int this, unsigned int a2);
char **sub_42E5E5();
_DWORD *__thiscall sub_42E5EB(_DWORD *this, signed int a2);
int __thiscall sub_42E619(void *this);
// struct CMapPtrToPtr::CAssoc *__thiscall CMapPtrToPtr::NewAssoc(CMapPtrToPtr *__hidden this); idb
struct CMapPtrToPtr::CAssoc *__thiscall sub_42E672(CMapPtrToPtr *this, int a2);
void *__thiscall sub_42E6C7(void *this, char a2);
void __cdecl sub_42E7BD(); // idb
int *__thiscall sub_42ED50(int *this, void *Src, int a3);
// void __stdcall AfxWinTerm(); idb
int __stdcall sub_42F3BA(int a1, int a2, int a3, int a4);
char **sub_42F3BF();
void __thiscall sub_42F54B(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToLockLow, DWORD nNumberOfBytesToLockHigh);
void __thiscall sub_42F57E(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToUnlockLow, DWORD nNumberOfBytesToUnlockHigh);
// unsigned int __stdcall AfxGetFileTitle(LPCSTR, LPSTR Buf, WORD cchSize); idb
int __stdcall sub_42F781(unsigned int a1, int *a2);
// int unknown_libname_129(void); weak
void *__thiscall sub_42F8DC(void *this, char a2);
void __stdcall sub_42F8F8(int a1, void *Src);
// int __stdcall CFileException::OsErrorToException(__int32); idb
char **sub_42FF3A();
int __thiscall sub_42FF40(int this, ATL::Checked *a2, char *a3, int a4);
void __cdecl __noreturn sub_42FFF4(int a1, int a2, void *Src);
void __stdcall sub_43003A(__int32 a1, void *Src);
// int __stdcall AfxFormatStrings(_DWORD, _DWORD, _DWORD, _DWORD); weak
int __stdcall sub_43019D(int a1, unsigned int a2, int a3, int a4);
int __stdcall sub_4301F4(int a1, unsigned int a2, char a3);
int (**sub_430236())();
char **sub_4303DF();
int __thiscall sub_4303FD(int this);
void __thiscall sub_430414(int this);
// _DWORD __stdcall unknown_libname_131(_DWORD, _DWORD); weak
int __thiscall sub_430548(int this, int a2, int a3);
void *__thiscall sub_4305F5(void *this, char a2);
// struct CControlBar *__thiscall CDockBar::GetDockedControlBar(CDockBar *this, int); idb
int __thiscall sub_4306AF(CDockBar *this, int, int, int, int, int, int, int); // idb
// _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD); weak
int __thiscall sub_430F4C(int this);
// _DWORD __stdcall CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(_DWORD, _DWORD); weak
// _DWORD __thiscall type_info::~type_info(type_info *__hidden this); idb
void *__thiscall sub_43114F(void *this, char a2);
int __thiscall sub_4315DC(int this, CArchive *a2);
__int32 __thiscall sub_431BC4(CWnd *this, int a2, int a3);
int (**sub_43294A())();
// unsigned int __stdcall AfxGetFileName(const char *, char *, unsigned int); idb
// int __stdcall AfxWinInit(HINSTANCE, HINSTANCE, char *, int); idb
char **sub_432C15();
void __thiscall sub_432C32(int this);
void *__thiscall sub_432DE5(void *this, char a2);
// _DWORD __stdcall unknown_libname_135(_DWORD); weak
char **sub_433D32();
_DWORD *__thiscall sub_433D38(_DWORD *this, signed int a2);
// int __thiscall unknown_libname_136(_DWORD); weak
int __thiscall sub_433DC0(_DWORD *this, unsigned __int8 *a2, int a3, int a4);
int __thiscall sub_433E12(_DWORD *this, unsigned __int8 *a2, int a3);
int __thiscall sub_433E39(_DWORD *this, unsigned __int8 *a2, int a3);
// int unknown_libname_137(void); weak
int __thiscall sub_433EBC(void *this);
void *__thiscall sub_433EC7(void *this, char a2);
int __thiscall sub_433EE9(_DWORD *this, void *Src);
// int Concurrency::call<unsigned int,std::tr1::function<void __cdecl (unsigned int const &)>>::~call<unsigned int,std::tr1::function<void __cdecl (unsigned int const &)>>(void); weak
char **sub_43400D();
void *__thiscall sub_434013(void *this, char a2);
int (**sub_434637())();
// IDirect3D9 *__stdcall Direct3DCreate9(UINT SDKVersion);
_DWORD *__stdcall sub_434A26(int a1);
unsigned int __fastcall sub_434A4C(int a1, int a2);
int __stdcall sub_434AC1(int *a1, int a2, int a3);
int __stdcall sub_434B30(int a1, int a2, int a3, _DWORD *a4);
signed int __stdcall sub_434C2C(signed int a1);
signed int __stdcall sub_434C48(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
void *__thiscall sub_434D2D(void *this);
// int __userpurge sub_434D30@<eax>(int a1@<eax>, LPCWSTR lpWideCharStr, int a3, int a4, int a5, LPSTR lpMultiByteStr);
int __stdcall sub_434DFB(LPCWSTR lpWideCharStr, int, int, int, int); // idb
signed int __stdcall sub_434E18(int a1, int a2, const void *a3, int a4, int a5, int a6, int a7, int a8, const void *a9, int a10, int a11);
signed int __fastcall sub_434EF1(int a1, int a2, unsigned int *a3, unsigned int *a4, unsigned int *a5, int *a6, int a7, int *a8, int a9, int a10);
int __stdcall sub_43524F(int a1, int a2, int a3, int (__thiscall *a4)(int));
// signed int __userpurge sub_435279@<eax>(int a1@<edi>, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8, int a9);
signed int __stdcall sub_435481(int a1, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8);
signed int __stdcall sub_435507(int a1, const void *a2, unsigned int a3, int a4);
signed int __stdcall sub_4357F7(int a1, char *a2, unsigned int a3, unsigned int i, unsigned int j, unsigned int k, unsigned int a7, int a8, unsigned int a9, int a10, int a11, int a12, int a13, int a14, void *a15, int a16, int *a17);
signed int __stdcall sub_435F71(int a1, char *a2, unsigned int a3, unsigned int a4, unsigned int a5, unsigned int a6, int a7, unsigned int a8, int a9, int a10, int a11, int a12, int a13, void *a14, int *a15);
int __stdcall sub_435FAE(int, HMODULE hModule, LPCWSTR lpName, int, int, int, int, int, int, int, int, int, int, int, int); // idb
int __stdcall sub_436016(int, HMODULE hModule, LPCWSTR lpName, int); // idb
int __stdcall sub_43603F(int, LPCSTR lpValueName, DWORD Type, DWORD cbData); // idb
void __stdcall sub_43609C(int a1);
int __thiscall sub_43616C(int this);
void __thiscall sub_436185(int this);
void *__thiscall sub_4361DE(void *this, char a2);
int __thiscall sub_4361FA(int this, int a2);
signed int __thiscall sub_4362CF(void *this, int a2, unsigned int a3);
int __thiscall sub_436DFB(_DWORD *this, HANDLE hFile, DWORD NumberOfBytesWritten);
int __cdecl sub_43736B(int); // weak
int __stdcall sub_437386(int a1);
signed int __stdcall sub_4373A3(int a1);
int __stdcall sub_4373BB(int a1, int a2);
signed int __thiscall sub_4373CE(_DWORD *this, int a2, int a3);
signed int __thiscall sub_437646(void *this, int a2, unsigned int a3);
int __thiscall sub_437BBE(_DWORD *this, char *a2, unsigned int a3);
int __cdecl sub_437E44(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
void __cdecl __noreturn sub_437E85(int *__attribute__((__org_typedef(jmp_buf))) a1);
signed int __thiscall sub_437E91(int *this, int a2, unsigned int a3);
signed int __thiscall sub_4383E2(int this, int a2, unsigned int a3);
int __thiscall sub_43874E(int *this, HANDLE hFile);
void *__stdcall sub_438A1D(int a1);
int __stdcall sub_438A40(DWORD NumberOfBytesWritten); // idb
int __stdcall sub_438A75(DWORD NumberOfBytesWritten); // idb
int __thiscall sub_438A9F(int *this, int a2);
int __thiscall sub_438C67(void *this, LPCWSTR lpWideCharStr, int a3, LPSTR lpMultiByteStr);
signed int __thiscall sub_438EFD(void *this, int a2, unsigned int a3);
signed int __thiscall sub_438F2D(void *this, char *a2, unsigned int a3, signed int a4, int a5);
int __thiscall sub_439116(int this);
int __thiscall sub_439120(int this);
double __stdcall sub_43913E(float a1);
_DWORD *__stdcall sub_43915A(unsigned int a1, signed int a2, int a3);
signed int __thiscall sub_439416(_DWORD *this);
int __stdcall sub_4395A4(int *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_4396CC(_DWORD *this);
int __stdcall sub_4396FA(unsigned int *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4397E4(int *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_4398FC(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_439934();
int __thiscall sub_439963(_DWORD *this);
int __fastcall sub_439991(int a1);
int __fastcall sub_439AE1(int a1);
int __fastcall sub_439C05(int a1);
int __fastcall sub_439D54(int a1);
int __fastcall sub_439EA7(int a1);
int __thiscall sub_439FE6(_DWORD *this);
int __fastcall sub_43A081(int a1);
int __fastcall sub_43A1CD(int a1);
int __fastcall sub_43A2EE(int a1);
int __fastcall sub_43A43A(int a1);
signed int __thiscall sub_43A579(int this);
signed int __thiscall sub_43A6B6(int this);
signed int __thiscall sub_43A794(int this);
signed int __thiscall sub_43A989(_BYTE *this);
// signed int __usercall sub_43AB82@<eax>(int a1@<ecx>, int a2@<edi>, void *a3@<esi>);
// signed int __usercall sub_43AF91@<eax>(int a1@<ecx>, unsigned int a2@<edi>, void *a3@<esi>);
// void *__userpurge sub_43B3C6@<eax>(unsigned int a1@<edi>, unsigned int a2@<esi>, int a3);
signed int __thiscall sub_43B4B8(void *this);
signed int __thiscall sub_43B847(void *this);
// int __thiscall ATL::CComTypeInfoHolder::stringdispid::'vector deleting destructor'(void *, char); idb
signed int __thiscall sub_43BF12(void *this);
signed int __thiscall sub_43C5D6(_DWORD *this);
signed int __thiscall sub_43CBC4(int this, int a2, int a3, int a4);
int __thiscall sub_43CCF3(int this);
// int __userpurge sub_43CD06@<eax>(int a1@<edi>, int a2, int a3);
int __thiscall sub_43CDE3(int this);
void *__thiscall sub_43CE94(void *this);
int __thiscall sub_43CE9A(_DWORD *this);
int __thiscall sub_43CEBC(_DWORD); // weak
int __thiscall sub_43CEC1(void *this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_43D3AB(_DWORD); // weak
int __thiscall sub_43D3B0(_DWORD *this, int a2, int a3, int a4, const void *a5, int a6, int a7);
void __thiscall sub_43D71F(int this);
int __thiscall sub_43D732(int this, int a2);
void __thiscall sub_43DCF6(int this);
int __thiscall sub_43DD70(int this);
double __stdcall sub_43DE71(float a1);
double __stdcall sub_43DEC1(float a1);
char *__thiscall sub_43DF08(char *this, int a2, unsigned int a3, int a4);
signed int __thiscall sub_43E179(int this, int a2);
int __thiscall sub_43E202(int this);
void __thiscall sub_43E2D5(int this, unsigned int a2);
int __thiscall sub_43E345(int this, int a2);
void __thiscall sub_43E5C7(int this, unsigned int a2);
int __thiscall sub_43E6FD(int this, int a2, int a3, int a4);
int __thiscall sub_43E80E(int this, int a2, int a3, int a4);
int __thiscall sub_43E957(int this, int a2, int a3, int a4);
int __thiscall sub_43EA7C(int this, int a2, int a3, int a4);
int __thiscall sub_43EBA1(int this, int a2, int a3, int a4);
int __thiscall sub_43ECC6(int this, int a2, int a3, int a4);
int __thiscall sub_43EE09(int this, int a2, int a3, int a4);
int __thiscall sub_43EF52(int this, int a2, int a3, int a4);
int __thiscall sub_43F077(int this, int a2, int a3, int a4);
int __thiscall sub_43F143(int this, int a2, int a3, int a4);
int __thiscall sub_43F28C(int this, int a2, int a3, int a4);
int __thiscall sub_43F3B1(int this, int a2, int a3, int a4);
int __thiscall sub_43F4FA(int this, int a2, int a3, int a4);
int __thiscall sub_43F643(int this, int a2, int a3, int a4);
int __thiscall sub_43F768(int this, int a2, int a3, int a4);
int __thiscall sub_43F85F(int this, int a2, int a3, int a4);
int __thiscall sub_43F9A8(int this, int a2, int a3, int a4);
int __thiscall sub_43FB29(int this, int a2, int a3, int a4);
int __thiscall sub_43FC70(int this, int a2, int a3, int a4);
int __thiscall sub_43FD4A(int this, int a2, int a3, int a4);
int __thiscall sub_43FE32(int this, int a2, int a3, int a4);
int __thiscall sub_43FF4D(int this, int a2, int a3, int a4);
int __thiscall sub_44005D(int this, int a2, int a3, int a4);
int __thiscall sub_440158(int this, int a2, int a3, int a4);
int __thiscall sub_440282(int this, int a2, int a3, int a4);
int __thiscall sub_4403B4(int this, int a2, int a3, int a4);
int __thiscall sub_440513(int this, int a2, int a3, int a4);
int __thiscall sub_44060E(int this, int a2, int a3, int a4);
int __thiscall sub_44076D(int this, int a2, int a3, int a4);
int __thiscall sub_440904(int this, int a2, int a3, int a4);
int __thiscall sub_440A09(int this, int a2, int a3, int a4);
int __thiscall sub_440AF3(int this, int a2, int a3, int a4);
int __thiscall sub_440B55(int this, int a2, int a3, int a4);
int __thiscall sub_440BB8(int this, int a2, int a3, int a4);
_DWORD *__thiscall sub_440C00(int this, int a2, int a3, int a4);
int __thiscall sub_440C55(int this, int a2, int a3, int a4);
unsigned int __thiscall sub_440CB2(int this, int a2, int a3, const void *a4);
int __thiscall sub_440D05(int this, int a2, int a3, int a4);
int __thiscall sub_440E1B(int this, int a2, int a3, int a4);
void __thiscall sub_440F2E(int this, int a2, int a3, float *a4);
void __thiscall sub_440FD3(int this, int a2, int a3, int a4);
void __thiscall sub_441092(int this, int a2, int a3, int a4);
void __thiscall sub_441147(int this, int a2, int a3, float *a4);
void __thiscall sub_441201(int this, int a2, int a3, float *a4);
void __thiscall sub_4412B8(int this, int a2, int a3, float *a4);
void __thiscall sub_44137D(int this, int a2, int a3, float *a4);
void __thiscall sub_441441(int this, int a2, int a3, int a4);
void __thiscall sub_441530(int this, int a2, int a3, float *a4);
void __thiscall sub_4415EF(int this, int a2, int a3, float *a4);
void __thiscall sub_4416A4(int this, int a2, int a3, float *a4);
void __thiscall sub_44174F(int this, int a2, int a3, int a4);
void __thiscall sub_44183E(int this, int a2, int a3, int a4);
void __thiscall sub_441945(int this, int a2, int a3, float *a4);
void __thiscall sub_4419FC(int this, int a2, int a3, float *a4);
void __thiscall sub_441A87(int this, int a2, int a3, float *a4);
char *__thiscall sub_441B4E(char *this, int a2);
void __thiscall sub_441B6A(int this, int a2, int a3, float *a4);
char *__thiscall sub_441C1E(char *this, int a2);
void __thiscall sub_441C3A(int this, int a2, int a3, int a4);
char *__thiscall sub_441CD7(char *this, int a2);
char *__thiscall sub_441CF3(char *this, int a2);
void __thiscall sub_441D0F(int this, int a2, int a3, int a4);
char *__thiscall sub_441D8B(char *this, int a2);
void __thiscall sub_441DA7(int this, int a2, int a3, int a4);
char *__thiscall sub_441E2E(char *this, int a2);
void __thiscall sub_441E4A(int this, int a2, int a3, int a4);
char *__thiscall sub_441EE8(char *this, int a2);
void __thiscall sub_441F04(int this, int a2, int a3, int a4);
char *__thiscall sub_441FA2(char *this, int a2);
char *__thiscall sub_441FBE(char *this, int a2);
void __thiscall sub_441FDA(int this, int a2, int a3, float *a4);
char *__thiscall sub_442095(char *this, int a2);
char *__thiscall sub_4420B1(char *this, int a2);
void __thiscall sub_4420CD(int this, int a2, int a3, float *a4);
char *__thiscall sub_4421AD(char *this, int a2);
void __thiscall sub_4421C9(int this, int a2, int a3, float *a4);
char *__thiscall sub_442295(char *this, int a2);
char *__thiscall sub_4422B1(char *this, int a2);
void __thiscall sub_4422CD(int this, int a2, int a3, int a4);
char *__thiscall sub_4423C8(char *this, int a2);
void __thiscall sub_4423E4(int this, int a2, int a3, float *a4);
char *__thiscall sub_4424A6(char *this, int a2);
char *__thiscall sub_4424C2(char *this, int a2);
void __thiscall sub_4424DE(int this, int a2, int a3, int a4);
char *__thiscall sub_4425F7(char *this, int a2);
char *__thiscall sub_442613(char *this, int a2);
void __thiscall sub_44262F(int this, int a2, int a3, int a4);
char *__thiscall sub_442746(char *this, int a2);
void __thiscall sub_442762(int this, int a2, int a3, int a4);
char *__thiscall sub_442843(char *this, int a2);
char *__thiscall sub_44285F(char *this, int a2);
void __thiscall sub_44287B(int this, int a2, int a3, int a4);
char *__thiscall sub_442904(char *this, int a2);
void __thiscall sub_442920(int this, int a2, int a3, int a4);
char *__thiscall sub_4429B1(char *this, int a2);
char *__thiscall sub_4429CD(char *this, int a2);
void __thiscall sub_4429E9(int this, int a2, int a3, int a4);
char *__thiscall sub_442A76(char *this, int a2);
void __thiscall sub_442A92(int this, int a2, int a3, unsigned int a4);
void *__thiscall sub_442AE9(void *this, char a2);
void __thiscall sub_442B05(int this, int a2, int a3, int a4);
char *__thiscall sub_442B85(char *this, int a2);
void __thiscall sub_442BA1(int this, int a2, int a3, int a4);
void __thiscall sub_442C22(int this, int a2, int a3, void *a4);
void __thiscall sub_442C84(int this, int a2, int a3, int a4);
char *__thiscall sub_442D2B(char *this, int a2);
char *__thiscall sub_442D47(char *this, int a2);
void __thiscall sub_442D63(int this, int a2, int a3, float *a4);
char *__thiscall sub_442E08(char *this, int a2);
char *__thiscall sub_442E24(char *this, int a2);
char *__thiscall sub_442F16(char *this, int a2);
char *__thiscall sub_442F32(char *this, int a2);
char *__thiscall sub_442F4E(char *this, int a2);
int __thiscall sub_442F6A(int this);
char *__thiscall sub_44327A(char *this, int a2);
char *__thiscall sub_443296(char *this, int a2);
char *__thiscall sub_4432B2(char *this, int a2);
int __thiscall sub_4432CE(int this, unsigned int a2, unsigned int a3, int a4);
char *__thiscall sub_44369A(char *this, int a2);
char *__thiscall sub_4436B9(char *this, int a2);
char *__thiscall sub_4436D5(char *this, int a2);
int __thiscall sub_4436F1(int this, int a2, int a3, int a4);
void __thiscall sub_44378F(int this, int a2, int a3, void *a4);
char *__thiscall sub_44380E(char *this, int a2);
void *__thiscall sub_4439FA(void *this, char a2);
void __thiscall sub_443A16(int this, int a2, int a3, int a4);
void __thiscall sub_443E5B(int this, int a2, int a3, unsigned int a4);
void __thiscall sub_44411A(void *this);
char *__thiscall sub_444141(char *this, int a2);
char *__thiscall sub_444159(char *this, int a2);
char *__stdcall sub_444171(int a1);
void *__thiscall sub_44491D(void *this, char a2);
int __stdcall sub_444939(float, float); // idb
int sub_444969();
int __stdcall sub_444976(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_44497C(int a1, int a2, unsigned int a3);
int sub_444A0B();
int __stdcall sub_444A18(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_444A1E(int a1, int a2, unsigned int a3);
int sub_444AC3();
int __stdcall sub_444AD0(int, int, int, int, int, float); // idb
int __stdcall sub_444AFA(int, int, int, int, int, float); // idb
int __stdcall sub_444B88(int, int, int, int, int, float); // idb
int __stdcall sub_444BB2(int, int, int, int, int, float); // idb
int __stdcall sub_444C61(int, int, int, int, float, float); // idb
int __stdcall sub_444C90(int, int, int, int, float, float); // idb
int sub_444CD3();
int __stdcall sub_444CE0(_DWORD, _DWORD, _DWORD); // weak
int sub_444CE6();
int sub_444CF7();
int __stdcall sub_444D04(_DWORD, _DWORD, _DWORD); // weak
int sub_444D0A();
int sub_444D1B();
int __stdcall sub_444D28(_DWORD, _DWORD, _DWORD); // weak
int sub_444D2E();
int sub_444D3F();
int __stdcall sub_444D4C(_DWORD, _DWORD); // weak
int __stdcall sub_444D52(int, int, int, int, int, float); // idb
int __stdcall sub_444D7C(int, int, int, int, int, float); // idb
int __stdcall sub_444E2A(int, int, int, int, int, float); // idb
int __stdcall sub_444E54(int, int, int, int, int, float); // idb
int __stdcall sub_444F25(int, int, int, int, float, float); // idb
int __stdcall sub_444F54(int, int, int, int, float, float); // idb
int sub_444FB1();
int __stdcall sub_444FBE(int a1, int a2, int a3);
int sub_445049();
int __stdcall sub_44505A(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_445101();
int __stdcall sub_44510E(_DWORD, _DWORD, _DWORD); // weak
int sub_445114();
int __stdcall sub_445125(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_44512B();
int __stdcall sub_445138(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_44513E(int a1, int a2, int a3);
int sub_4451A4();
int __stdcall sub_4451B5(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_445233();
int sub_445244();
int sub_445255();
int sub_445266();
int sub_445277();
int __stdcall sub_445284(int a1, int a2, int a3, int a4);
int sub_445374();
int __stdcall sub_445381(int, int, int, int, int, float); // idb
int __stdcall sub_4453AB(int, int, int, int, int, float); // idb
int __stdcall sub_44547C(int, int, int, int, int, float); // idb
int __stdcall sub_4454A6(int, int, int, int, int, float); // idb
int __stdcall sub_445599(int, int, int, int, float, float); // idb
int __stdcall sub_4455C8(int, int, int, int, float, float); // idb
int sub_44563F();
int __stdcall sub_44564C(int a1, int a2, int a3);
int sub_4456EB();
int __stdcall sub_4456FC(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_4457BB();
double __stdcall sub_4457C8(int a1);
int sub_445892();
int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD); // weak
char *__stdcall sub_4458A5(char *a1, int a2, int a3);
int sub_445ADB();
int __stdcall sub_445AE8(_DWORD); // weak
int __stdcall sub_445AEE(int a1, int a2);
int sub_445B5B();
char *__stdcall sub_445B68(char *a1, int a2, int a3);
int sub_445D9E();
int __stdcall sub_445DAB(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_445DB1(int a1, float *a2, int a3);
int __stdcall sub_446150(int, float, float, float); // idb
int __stdcall sub_44617E(int a1, int a2, int a3, int a4);
int __stdcall sub_4461DA(int, float, float, float); // idb
int __stdcall sub_446208(int a1, int a2, int a3, int a4);
int __stdcall sub_446264(int, float); // idb
int __stdcall sub_446280(int, float); // idb
int __stdcall sub_4462FA(int, float); // idb
int __stdcall sub_446316(int, float); // idb
int __stdcall sub_446391(int, float); // idb
int __stdcall sub_4463AD(int, float); // idb
int __stdcall sub_446429(int, int, float); // idb
int __stdcall sub_446449(int, int, float); // idb
int sub_44654B();
int __stdcall sub_446558(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_44655E(int a1, int a2);
int __stdcall sub_446640(int, float, float, float); // idb
int sub_44666E();
int __stdcall sub_44667F(int, float, int, int, int); // idb
int __stdcall sub_4466A6(int, float, int, int, int); // idb
int sub_44678C();
int sub_446799();
int sub_4467A6();
int __stdcall sub_4467B3(int a1, int a2, float *a3);
int sub_4467E8();
int __stdcall sub_4467F5(int a1, int a2);
int __stdcall sub_446929(int, int, float); // idb
int __stdcall sub_446949(int, int, float); // idb
int __stdcall sub_4469A5(int, float, float, float); // idb
int __stdcall sub_4469D3(int, float, float, float); // idb
int __stdcall sub_4469D9(int, float, float, float); // idb
int sub_446AB2();
int __stdcall sub_446ABF(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_446AC5(int a1, int a2, int a3);
int sub_446B5B();
int __stdcall sub_446B68(int a1, int a2);
int sub_446C1E();
int __stdcall sub_446C2B(_DWORD, _DWORD); // weak
int __stdcall sub_446C31(int a1, int a2);
int sub_446CE2();
int __stdcall sub_446CEF(_DWORD, _DWORD); // weak
int __stdcall sub_446CF5(int a1, int a2);
int sub_446D70();
int __stdcall sub_446D7D(_DWORD, _DWORD); // weak
int __stdcall sub_446D83(int a1, float a2);
int __stdcall sub_446E1B(int, int, int, float); // idb
int __stdcall sub_446E3F(int, int, int, float); // idb
int __stdcall sub_446E45(int, int, int, float); // idb
int __stdcall sub_446F28(int, int, int, int, int, float); // idb
int __stdcall sub_446F52(int, int, int, int, int, float); // idb
int sub_446FA9();
int __stdcall sub_446FBA(int, int, int, int, float, float); // idb
int __stdcall sub_446FE9(int, int, int, int, float, float); // idb
int sub_447071();
int __stdcall sub_44707E(_DWORD, _DWORD); // weak
int __stdcall sub_447084(int a1, int a2);
int sub_447125();
int __stdcall sub_447132(int a1, int a2, int a3, int a4);
int sub_4471D4();
int __stdcall sub_4471E1(int a1, int a2, int a3);
int sub_447219();
int __stdcall sub_447226(int a1, int a2, int a3, int a4);
int sub_4472C8();
int __stdcall sub_4472D5(int a1, int a2, int a3);
int sub_447374();
int __stdcall sub_447385(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_447444();
int sub_447455();
int __stdcall sub_447466(int a1, int a2);
int __stdcall sub_4474F0(int a1, int a2, int a3);
int __stdcall sub_44755B(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4475DE(int a1, int a2, int a3);
int __stdcall sub_44765B(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4476F3(int a1, int a2, int a3);
int __stdcall sub_44772F(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_447783(int a1, int a2);
int __stdcall sub_447820(int a1, int a2, int a3);
int __stdcall sub_4478DC(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4479BB(int a1, int a2, int a3, float *a4, float *a5, float *a6);
int __stdcall sub_447B48(int a1, int a2, int a3, int a4, int a5, float *a6, float *a7, float *a8, int a9);
int __stdcall sub_447D48(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_447EEE(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __stdcall sub_44811F(int, float, float, float); // idb
int __stdcall sub_448158(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_44840C(int a1, int a2, int a3);
int __stdcall sub_4484E6(int a1, int a2);
int __stdcall sub_4485A5(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_44897F(int this);
int __thiscall sub_448991(_DWORD *this, LPCWSTR lpWideCharStr, LPSTR lpMultiByteStr);
void __thiscall sub_448AAA(int this);
// int __thiscall unknown_libname_138(_DWORD); weak
// _DWORD __thiscall Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::~InitialThreadParam(Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam *__hidden this); idb
int __thiscall sub_448AD0(HGDIOBJ *this);
int __thiscall sub_448AEF(HGDIOBJ *this, HMODULE hModule, LPCWSTR lpName, int a4, int a5);
// signed int __usercall sub_448B80@<eax>(int a1@<esi>);
int __stdcall sub_448BF0(int a1, int a2, int a3);
signed int __stdcall sub_448C80(int a1);
int __stdcall sub_448D60(int a1, int a2, int a3);
// signed int __usercall sub_448E30@<eax>(int a1@<esi>);
int __stdcall sub_448FA0(int a1);
signed int __stdcall sub_449050(int a1);
int __stdcall sub_449110(int a1, int a2);
BOOL sub_449180();
int sub_4491A5();
int sub_449255();
int __stdcall sub_4492FA(DWORD Type); // idb
// signed int __usercall sub_449400@<eax>(int a1@<esi>);
// signed int __usercall sub_4494B0@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<esi>);
// signed int __usercall sub_449770@<eax>(int a1@<esi>);
// signed int __usercall sub_449A30@<eax>(int a1@<ebx>);
signed int __stdcall sub_449D00(int a1);
signed int __stdcall sub_449F40(int a1);
// int __usercall sub_44A010@<eax>(unsigned int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>);
// int __userpurge sub_44A1F0@<eax>(int a1@<eax>, unsigned int a2@<ecx>, int a3@<esi>, int a4);
int __stdcall sub_44A290(int a1);
signed int __stdcall sub_44A3D0(int a1);
signed int __stdcall sub_44A470(int a1);
signed int __stdcall sub_44A580(int a1);
signed int __stdcall sub_44A610(int a1);
int __stdcall sub_44A920(int); // weak
signed int __stdcall sub_44A9A0(int a1, int a2);
int __stdcall sub_44AAA0(int); // weak
int __stdcall sub_44AAD0(int a1);
void __stdcall __noreturn sub_44AB50(int a1);
int __stdcall sub_44AB70(int); // weak
int __stdcall sub_44AB90(int, int); // weak
int __stdcall sub_44ABD0(int, int); // weak
int __stdcall sub_44AC80(int); // weak
int __stdcall sub_44ACA0(int a1);
int __thiscall sub_44ACF0(_BYTE *this, int a2, const void *a3);
int __stdcall sub_44AD79(int a1, int a2, int a3, int a4);
void __cdecl __noreturn sub_44AD95(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
int (__cdecl *__stdcall sub_44ADB3(int a1, int a2))(int, int);
void __stdcall __noreturn sub_44ADCA(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
int (__cdecl *__stdcall sub_44ADEE(int a1, const void *a2))(int, int);
void *__stdcall sub_44AE12(_BYTE *a1, int a2, int a3, int a4);
int __stdcall sub_44AF06(int *__attribute__((__org_typedef(jmp_buf))) , int); // idb
// unsigned int __userpurge sub_44B074@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3);
// int (__cdecl *__userpurge sub_44B093@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3, int a4))(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD);
char *__stdcall sub_44B416(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
int __stdcall sub_44B461(int a1, void *a2, void *a3);
void __stdcall sub_44B576(void **a1, void **a2, void **a3);
int __stdcall sub_44B5F3(int a1, int a2, int a3);
int __stdcall sub_44B610(int a1, int a2);
char __stdcall sub_44B629(int a1, int a2);
signed int __stdcall sub_44B642(int a1, int a2, double *a3);
signed int __stdcall sub_44B66E(int a1, int a2, _DWORD *a3);
signed int __stdcall sub_44B69C(int a1, int a2, unsigned int *a3, _DWORD *a4, _DWORD *a5, int *a6, _DWORD *a7, _DWORD *a8, _DWORD *a9);
signed int __stdcall sub_44B76D(int a1, int a2, _DWORD *a3, _DWORD *a4);
signed int __stdcall sub_44B7A3(int a1, int a2, _DWORD *a3, _DWORD *a4, _DWORD *a5);
int __stdcall sub_44B80C(int a1);
int __stdcall sub_44B817(int a1);
int __stdcall sub_44B82B(int a1);
signed int __stdcall sub_44B846(int a1);
int __stdcall sub_44B862(int a1, unsigned __int8 a2, int a3);
void __stdcall sub_44B8B1(int a1, int a2);
char __stdcall sub_44B8E0(int a1, int a2);
int __stdcall sub_44B9A1(int, double, double); // idb
int __stdcall sub_44B9D9(int a1);
unsigned int __stdcall sub_44B9E4(int a1, int a2);
void __stdcall sub_44BAD1(int a1, int a2);
char __stdcall sub_44BBE2(int a1, unsigned __int8 *a2, int a3);
int __stdcall sub_44BD5B(int a1, _BYTE *a2);
unsigned int __stdcall sub_44BDA1(int a1, int a2, unsigned int a3, char a4);
int __stdcall sub_44BFDA(int a1, _BYTE *a2, int a3, int a4, char a5);
int __stdcall sub_44C32A(int a1, int a2, int a3, int a4, signed int a5);
int __stdcall sub_44C533(int a1, int a2, int a3);
int __stdcall sub_44C886(int a1, _BYTE *a2, int a3, int a4);
void __stdcall sub_44C995(int *__attribute__((__org_typedef(jmp_buf))) a1);
void __stdcall sub_44CC98(int *__attribute__((__org_typedef(jmp_buf))) a1);
void __stdcall sub_44CDAC(int *__attribute__((__org_typedef(jmp_buf))) a1);
void __stdcall sub_44CF48(int a1, int a2, double a3);
void __stdcall sub_44CF65(int a1, int a2, unsigned int a3, int a4, char a5, char a6, char a7, char a8, char a9);
void __stdcall sub_44D006(int a1, int a2, int a3, __int16 a4);
void __stdcall sub_44D02C(int a1, int a2, char a3);
void __stdcall sub_44D049(int a1, __int64 a2);
void __stdcall sub_44D080(int a1, int a2, int a3, signed int a4, int a5);
int __stdcall sub_44D0C9(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
int (__cdecl *__stdcall sub_44D0F2(int a1, int a2, int (__cdecl *a3)(int, int)))(int, int);
int __stdcall sub_44D130(int a1, unsigned int a2, unsigned int a3);
void *__stdcall sub_44D17B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
int __stdcall sub_44D1CE(int, void *); // idb
int __stdcall sub_44D1D3(int a1);
int __stdcall sub_44D229(int a1, void *a2);
void *__stdcall sub_44D239(int a1);
_DWORD *__stdcall sub_44D270(int a1, int a2, int a3);
_DWORD __stdcall sub_44D330(_DWORD); // weak
int __stdcall sub_44D340(int a1, int a2);
// int __userpurge sub_44D3B0@<eax>(int a1@<edi>, int a2);
int __stdcall sub_44D490(int a1, int a2);
int __stdcall sub_44D500(int a1, int a2, unsigned int a3);
int __stdcall sub_44D5B0(int a1, signed int a2, int a3, int a4, int a5);
// int __userpurge sub_44D880@<eax>(int a1@<eax>, int a2@<ebx>, int *a3, const void *a4);
// int __usercall sub_44D940@<eax>(int *a1@<esi>);
int __stdcall sub_44D990(int a1, int a2);
int __stdcall sub_44DC70(int a1);
int __stdcall sub_44DE00(int a1);
int __stdcall sub_44DF00(int, int, int); // weak
int __stdcall sub_44DF69(int, int, int); // weak
int __stdcall sub_44DF9E(int, int, int); // weak
int __stdcall sub_44E029(int, int, int); // weak
int __stdcall sub_44E088(int, int, int); // weak
double __stdcall sub_44E121(unsigned int a1);
int __stdcall sub_44E166(int a1, int a2);
char *__stdcall sub_44E230(char *a1, char *a2, char *a3);
char *__stdcall sub_44E313(char *a1, char *a2, char *a3);
int __stdcall sub_44E3A1(int a1);
// int __usercall sub_44E3E6@<eax>(int result@<eax>, unsigned int a2@<ecx>);
int __fastcall sub_44E432(int a1);
// int __usercall sub_44E4B0@<eax>(int a1@<eax>, float *a2@<ecx>);
int __fastcall sub_44E4E0(int a1);
// float *__userpurge sub_44E5E9@<eax>(unsigned int a1@<ebx>, float *a2, float *a3, int a4);
int __stdcall sub_44E904(int a1, int a2, int a3, int a4);
// int __userpurge sub_44EE83@<eax>(int a1@<eax>, int a2, int a3);
int __stdcall sub_44F6AA(int a1, int a2);
int __stdcall sub_44F7EA(int a1, unsigned int *a2);
int __stdcall sub_44F86D(int a1, int a2);
int __stdcall sub_44F9A9(int a1, int a2);
int __stdcall sub_44FAC1(int a1, int a2);
int __stdcall sub_44FBE7(int a1, float *a2);
int __stdcall sub_450070(int a1, unsigned int *a2);
int __stdcall sub_450093(int, int); // weak
int __stdcall sub_4500B6(int a1, int a2);
int __stdcall sub_4500EA(int a1, int a2);
char *__stdcall sub_45011E(int a1, int a2, int a3, int a4, int a5, int a6, char *a7, _DWORD *a8, char *a9, int a10, float *a11, int a12);
int __stdcall sub_450528(int, int, int, float, int); // idb
int __stdcall sub_4505C5(int a1, int a2, unsigned int a3, float *a4, int a5, int a6, int a7, unsigned int a8);
signed int __fastcall sub_450900(int a1, int a2);
signed int __stdcall sub_450980(int a1);
// int __usercall sub_450B90@<eax>(int a1@<eax>);
// int __usercall sub_450C10@<eax>(int a1@<esi>);
int __stdcall sub_450DB0(int); // weak
int __stdcall sub_450EE0(int); // weak
int __stdcall sub_450F10(int a1);
// int __usercall sub_450F50@<eax>(int a1@<esi>);
// int __usercall sub_451130@<eax>(int a1@<esi>);
// int __usercall sub_4512C0@<eax>(int a1@<ebx>);
_DWORD *__stdcall sub_451360(int a1);
signed int __stdcall sub_4513A0(int a1);
int __stdcall sub_451460(int); // weak
int __stdcall sub_4514B0(int); // weak
int __stdcall sub_4514D0(int a1);
int __stdcall sub_451520(int a1, signed int a2, unsigned int a3);
int __stdcall sub_451650(int a1, signed int a2, unsigned int a3);
int __thiscall sub_451700(void *this, int a2, signed int a3, unsigned int a4, unsigned int a5);
int __thiscall sub_4517A0(void *this, int a2, signed int a3, int a4, signed int a5);
int __stdcall sub_451840(int a1, signed int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4518B0(int a1, signed int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_451920(int a1);
// int __userpurge sub_451AB0@<eax>(int a1@<esi>, int a2, int a3);
// int __userpurge sub_451B50@<eax>(int a1@<esi>, int a2, int a3);
int __stdcall sub_451BF0(int, int, int, int, int); // weak
int __stdcall sub_451D10(int, int, int, int, int); // weak
int __stdcall sub_451E30(int a1, signed int a2);
int __stdcall sub_451F10(int); // weak
_DWORD *__stdcall sub_451F50(int a1);
int __stdcall sub_452010(int a1);
int __stdcall sub_452050(int a1);
int __stdcall sub_452070(int a1);
int __stdcall sub_452090(int a1);
int __cdecl sub_4520B0(int a1);
int __cdecl sub_45221E(int a1);
int sub_452382();
int __cdecl sub_452466(int a1);
int __stdcall sub_452700(int a1, signed int a2);
int __stdcall sub_452720(int a1, signed int a2);
const void **__stdcall sub_452740(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_452790(const void *a1, void *a2, int a3);
int __stdcall sub_4527C0(void *a1, unsigned int a2);
signed int __stdcall sub_4527E0(int a1);
signed int __stdcall sub_45281F(int a1);
signed int __stdcall sub_45285C(int a1, int a2, _BYTE *a3, int a4);
signed int __stdcall sub_45293B(int a1, _BYTE *a2, int a3);
signed int __stdcall sub_452951(int a1, int a2);
void *__stdcall sub_452CB4(int a1);
void __stdcall sub_452CF8(void *a1);
void *__stdcall sub_452D0C(int *__attribute__((__org_typedef(jmp_buf))) a1, size_t a2);
void __stdcall sub_452D43(int a1, void *a2);
void *__stdcall sub_452D5E(int a1, void *a2, const void *a3, unsigned int a4);
// void *__userpurge sub_452D83@<eax>(int a1@<ebx>, int a2, void *a3, char a4, unsigned int a5);
int __stdcall sub_452DB6(int a1);
int *__attribute__((__org_typedef(jmp_buf))) __cdecl sub_452DDB(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
int __stdcall sub_452DF2(int *__attribute__((__org_typedef(jmp_buf))) ); // idb
unsigned __int8 __stdcall sub_452E4E(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
char __stdcall sub_452EB0(int a1, void *a2, int a3);
void __stdcall sub_4530C6(int a1, int a2, int a3, int a4);
char __stdcall sub_453391(int a1, int a2, _BYTE *a3, unsigned __int8 *a4, int a5);
// void *__userpurge sub_45350A@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2);
int __stdcall sub_4536A4(int *__attribute__((__org_typedef(jmp_buf))) , int); // idb
void __stdcall sub_453729(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
void __stdcall sub_453909(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
int __stdcall sub_453A22(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
void __stdcall sub_453A68(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
void __stdcall sub_453B69(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
void __stdcall sub_453C4B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, size_t a3);
int __stdcall sub_453DEC(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
// int __userpurge sub_453E32@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2);
int __stdcall sub_454042(int a1, _BYTE *a2, unsigned int a3);
// int __userpurge sub_454140@<eax>(int a1@<esi>, char a2);
// signed int __userpurge sub_4541A0@<eax>(int a1@<esi>, int a2);
// int __userpurge sub_4543A0@<eax>(int a1@<eax>, int *a2@<ecx>, int a3);
// int __usercall sub_454530@<eax>(int a1@<esi>);
// int __usercall sub_454610@<eax>(char a1@<al>, int a2@<ecx>);
// int __usercall sub_454800@<eax>(int a1@<esi>);
// int __usercall sub_454A00@<eax>(int a1@<esi>);
// int __usercall sub_454C80@<eax>(int a1@<esi>);
int __stdcall sub_454EB0(int, int, int); // weak
int __stdcall sub_454F30(int, int); // weak
int __stdcall sub_454F60(int); // weak
int __stdcall sub_454FF0(int a1);
int __stdcall sub_4550E0(int); // weak
int __stdcall sub_4551A0(int); // weak
int __stdcall sub_455200(int a1);
int __stdcall sub_4552F0(int a1);
int __stdcall sub_455340(int a1);
// int __usercall sub_4553F0@<eax>(int a1@<esi>);
int __thiscall sub_4554A0(int this);
// int __usercall sub_4555F0@<eax>(int a1@<eax>);
// int __usercall sub_4556D0@<eax>(int result@<eax>);
int __stdcall sub_455780(int a1, int a2, int a3, int a4);
int __stdcall sub_4557F0(int a1, int a2, unsigned int *a3, unsigned int a4);
int __stdcall sub_455920(int, int); // weak
int __stdcall sub_455990(int a1, int a2);
int __thiscall sub_455A60(int this);
int __stdcall sub_455AB0(int); // weak
signed int __stdcall sub_455AD0(int a1, int a2);
// void *__thiscall std::_Ref_count_base::_Get_deleter(std::_Ref_count_base *this, const struct type_info *); idb
signed int __stdcall sub_455D80(int a1);
int __stdcall sub_455FC0(int a1, int a2);
// signed int __usercall sub_456150@<eax>(int a1@<ebx>);
int __stdcall sub_4562A0(int a1, int a2);
signed int __stdcall sub_456900(int a1);
int __stdcall sub_456950(int a1, int a2);
int __stdcall sub_456A90(int *a1, int a2, signed int a3, int a4);
signed int __stdcall sub_456D60(int a1, int a2, signed int a3, signed int a4);
signed int __stdcall sub_456E80(int a1, int a2, signed int a3, int a4, signed int a5);
// int __usercall sub_456F60@<eax>(int a1@<esi>);
int __stdcall sub_456FD0(int a1, int a2);
int __stdcall sub_4573E0(int); // weak
int __stdcall sub_457520(int a1);
// int __usercall sub_457560@<eax>(int a1@<ebx>);
int __stdcall sub_4575D0(int a1, int a2);
int __stdcall sub_4577F0(int a1, int *a2);
int __stdcall sub_457A30(int a1, int a2);
int __stdcall sub_457B30(int a1, int *a2);
int __stdcall sub_457F20(int a1);
signed int __stdcall sub_458160(int a1);
int __stdcall sub_4581C0(int a1);
int (__stdcall **__stdcall sub_4585D0(int a1))(int a1);
int __stdcall sub_458650(int a1, int a2, int a3, int a4, int a5, int *a6, int a7);
int __stdcall sub_4586D0(int, int); // weak
int __stdcall sub_458750(int a1, int a2);
int __stdcall sub_4587C0(int); // weak
_DWORD *__stdcall sub_4587E0(int a1, int a2, _DWORD *a3, int a4, int a5, _DWORD *a6, int a7);
int __stdcall sub_4588C0(int, int, int, int); // weak
int __stdcall sub_4588D0(int, int, int, int); // weak
int __stdcall sub_4588E0(int a1, int a2, char **a3, int *a4);
int __stdcall sub_4589E0(int, int, int, int); // weak
int __stdcall sub_458A40(int, int, int, int); // weak
// char **__userpurge sub_458AC0@<eax>(char **result@<eax>, int a2@<edx>, int a3@<ecx>, int a4);
// int __userpurge sub_458B80@<eax>(_DWORD *a1@<eax>, int a2@<ecx>, int a3, int a4);
// int __userpurge sub_458E10@<eax>(int *a1@<eax>, int a2, int a3, _DWORD *a4);
// int __userpurge sub_458F70@<eax>(int *a1@<eax>, int a2@<edx>, int a3, int a4);
char **__stdcall sub_459540(int a1, int a2, int a3, char **a4);
int __stdcall sub_4595C0(int a1, int a2, _DWORD *a3, int *a4);
int __stdcall sub_459640(int a1);
// int __usercall sub_459830@<eax>(int a1@<eax>);
_BYTE *__stdcall sub_459900(int a1, int a2, int a3, int *a4, int a5);
unsigned int *__stdcall sub_459A30(int a1, int a2, int a3, int *a4, int a5);
int __stdcall sub_459BA0(int, int, int, int, int); // weak
int __stdcall sub_459C30(int, int, int, int, int); // weak
int __stdcall sub_459C60(int, int, int, int, int); // weak
int __stdcall sub_459CC0(int a1, int a2, int a3, int *a4, int a5);
// unsigned int __usercall sub_459E30@<eax>(int a1@<eax>);
char *__stdcall sub_45AA90(int a1, int a2, int a3, int *a4, int a5);
_BYTE *__stdcall sub_45AC70(int a1, int a2, int a3, int *a4, int a5);
int __stdcall sub_45AEA0(int a1);
// int __usercall sub_45B070@<eax>(int a1@<eax>);
int __stdcall sub_45B140(int); // weak
int __stdcall sub_45B160(int, int, int, int, int, int, int); // weak
int __stdcall sub_45B230(int, int, int, int, int, int, int); // weak
int __stdcall sub_45B270(int a1, int a2, int a3, int *a4);
// int __userpurge sub_45B3C0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4);
// char __userpurge sub_45B5F0@<al>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, _DWORD *a4);
int __stdcall sub_45BB00(int, int, int, int); // weak
int __stdcall sub_45BB40(int a1);
char *__stdcall sub_45BBC0(int a1, int a2);
void __stdcall sub_45BBF0(int a1, int a2, int a3);
int __stdcall sub_45BC10(int a1, int a2, int a3, int a4);
int __stdcall sub_45BC30(int, int, int, int, int); // weak
int __stdcall sub_45BC90(int, int, int, int, int); // weak
int __stdcall sub_45BCF0(int, int); // weak
FILE *__stdcall sub_45BD10(_DWORD *a1, int a2, int a3);
signed int __stdcall sub_45BD60(int a1);
int __stdcall sub_45BD70(int a1, int a2, int a3);
int __stdcall sub_45BDE9(int a1, int a2);
__m128 *__stdcall sub_45BE83(__m128 *a1, int a2);
__m128 *__stdcall sub_45BF01(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __thiscall sub_45BFC3(int this, int a2);
int __stdcall sub_45C13D(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45C343(int a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_45C4D1(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_45C637(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45C747(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45C985(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45CB55(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45CD86(int a1, int a2, int a3, double *a4, int a5, int a6, int a7, double **a8, unsigned int a9, int a10, float *a11, int a12);
void sub_45D2DE();
// int __userpurge sub_45D408@<eax>(__m128 a1@<xmm0>, __m128 a2@<xmm3>, int a3, int a4, unsigned int a5);
__m128 *__stdcall sub_45D4DC(__m128 *a1, int a2, int a3);
double *__stdcall sub_45D51A(double *a1, int a2, int a3);
double *__stdcall sub_45D571(double *a1, int a2, int a3);
__m128 *__stdcall sub_45D5A8(__m128 *a1, __m128 *a2, int a3);
int __stdcall sub_45D674(int a1, int a2, int a3);
int __stdcall sub_45D7A8(int a1, _DWORD *a2, int a3);
__m128 *__stdcall sub_45DAA4(__m128 *a1, int a2, int a3, int a4);
int __stdcall sub_45DB64(int a1, int a2);
// int __userpurge sub_45DBFE@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8);
// double *__userpurge sub_45DCB0@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, double *a3, __int64 *a4, const double *a5, __int64 *a6, const double *a7, float a8);
// __m128 *__userpurge sub_45DD35@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8);
// int __userpurge sub_45DDDA@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8);
// __m128 *__userpurge sub_45DE8D@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8);
// double *__userpurge sub_45DF27@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 a3@<xmm3>, double *a4, __int64 *a5, const double *a6, __int64 *a7, const double *a8, float a9);
int __stdcall sub_45DFAD(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
__m128 *__stdcall sub_45E00A(__m128 *a1, __m128 *a2, __m128 *a3, __m128 *a4, unsigned int a5, unsigned int a6);
double *__stdcall sub_45E053(double *a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6);
// int __userpurge sub_45E0A5@<eax>(__m128 a1@<xmm5>, __m128 a2@<xmm6>, int a3, __m128 *a4, int a5, int a6);
__m128 *__stdcall sub_45E153(__m128 *a1, int a2, int a3, int a4);
int __stdcall sub_45E253(int a1, int a2);
int __stdcall sub_45E35F(int a1, int a2, int a3);
int __stdcall sub_45E434(int a1, int a2, int a3);
int __stdcall sub_45E537(int a1, int a2);
int __stdcall sub_45E64C(int a1, int a2, int a3);
int __stdcall sub_45E880(int a1, __m128 *a2, __m128 *a3);
int __stdcall sub_45EA47(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45EC4D(int a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_45EDDB(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_45EF41(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45F051(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45F28F(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_45F45F(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
void sub_45F690();
// int __userpurge sub_45F781@<eax>(__m128 a1@<xmm3>, int a2, int a3, unsigned int a4);
__m128 *__stdcall sub_45F853(__m128 *a1, int a2, int a3, int a4);
double __stdcall sub_45F913(int a1);
__m128 *__stdcall sub_45FA1E(__m128 *a1, int a2, int a3, int a4);
int __stdcall sub_45FB1E(int a1, int a2);
__m128 *__stdcall sub_45FC2A(__m128 *a1, int a2, int a3);
int __stdcall sub_45FCFE(int a1, int a2);
int __stdcall sub_45FDEE(int a1, __m128 *a2, __m128 *a3);
__m128 *__stdcall sub_45FFB5(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_460077(int a1, int a2);
__m128 *__stdcall sub_4601C0(__m128 *a1, int a2, int a3, int a4, int a5, int a6);
__m128 *__stdcall sub_460280(__m128 *a1, int a2, int a3, int a4, int a5, int a6);
__m64 *__stdcall sub_460340(__m64 *a1, int a2, double *a3, int a4, int a5, signed int a6);
double *__stdcall sub_4605A0(double *a1, int a2, double *a3, int a4, int a5, signed int a6);
double *__stdcall sub_460800(double *a1, int a2, double *a3, int a4, int a5, signed int a6);
__m128 *__stdcall sub_4609C0(__m128 *a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_460A60(int a1, int a2, int a3, int a4, int a5, signed int a6);
char *__stdcall sub_460D80(char *a1, int a2, __m64 *a3, int a4, int a5, signed int a6);
int __stdcall sub_460FFC(int a1, __m64 *a2, int a3);
int __stdcall sub_461095(int a1, int a2);
void __stdcall sub_4610F2(int a1, int a2, _DWORD *a3);
int __stdcall sub_461136(int a1, __m64 *a2);
int __stdcall sub_461352(int a1, __m64 *a2);
int __stdcall sub_461567(int, int, int, int); // weak
__m64 *__stdcall sub_46162C(__m64 *a1, __m64 *a2, unsigned int a3);
__m64 *__stdcall sub_461698(__m64 *a1, int a2, int a3, unsigned int a4);
__m64 *__stdcall sub_4617CF(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_46185C(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_4618EE(int a1, int a2);
int __stdcall sub_461952(int a1, int a2);
// int __userpurge sub_4619F9@<eax>(unsigned int a1@<esi>, int a2, __m64 *a3);
// int __userpurge sub_461A9E@<eax>(unsigned int a1@<esi>, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __stdcall sub_4624D7(int a1, int a2, __m64 *a3);
double __stdcall sub_462709(int a1);
int __stdcall sub_4627D8(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_462828(int a1, __m64 *a2, int a3);
int __stdcall sub_462913(int a1, int a2);
int __stdcall sub_4629EF(int a1, unsigned int a2);
int __stdcall sub_462A52(int a1, unsigned int a2);
int __stdcall sub_462AB0(int a1, unsigned int a2);
int __stdcall sub_462B09(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_462B50(int a1, __m64 *a2);
int __cdecl sub_462BBF(int a1);
int __stdcall sub_462BF8(int a1, int a2);
int __stdcall sub_462CCA(int a1, __m64 *a2);
int __stdcall sub_462D7F(int a1, __m64 *a2, int a3, __m64 *a4, __m64 *a5, int a6, __m64 *a7);
// int __userpurge sub_463F17@<eax>(int a1@<ebp>, int a2, int a3, int a4, int a5);
int __stdcall sub_4640BC(int a1, unsigned int a2, __m64 *a3, int a4, __m64 *a5);
int __stdcall sub_4645F0(int a1, __m64 *a2, unsigned int a3);
int __stdcall sub_464709(int a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, __m64 *a6, __m64 *a7);
int __stdcall sub_46585D(int a1, _DWORD *a2, int a3);
int __stdcall sub_465B3F(int a1, int a2, __m64 *a3);
int __stdcall sub_465F37(int a1, _DWORD *a2, int a3);
int __stdcall sub_46626B(int a1, _DWORD *a2, int a3);
int __stdcall sub_466287(int, int, int); // weak
__m64 *__stdcall sub_4662F8(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_46635F(__m64 *a1, __m64 *a2);
__m64 *__stdcall sub_4663BE(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_46642F(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
__m64 *__stdcall sub_466503(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
__m64 *__stdcall sub_4665ED(__m64 *a1, __m64 *a2, int a3);
// int __userpurge sub_466678@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, int a3, __m64 *a4, int a5);
_DWORD __stdcall sub_46683F(_DWORD, _DWORD, _DWORD); // weak
// __m64 *__userpurge sub_466844@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8);
// __m64 *__userpurge sub_4669CC@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8);
// __m64 *__userpurge sub_466BF2@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8);
int __stdcall sub_466D80(int a1, int a2, signed int a3);
int __stdcall sub_466EC0(int a1, int a2, signed int a3);
__m64 *__stdcall sub_46703B(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_467090(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_4670C9(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_46712D(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
__m64 *__stdcall sub_4671C5(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_46720E(__m64 *a1, __m64 *a2);
__m64 *__stdcall sub_467251(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
int __stdcall sub_4672FC(int, int, int); // weak
int __stdcall sub_46737E(int, int); // weak
int __stdcall sub_4673DD(int a1, __m64 *a2, int a3, int a4);
__m64 *__stdcall sub_46750F(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_467580(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_467648(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_467726(int, int, int); // weak
int __stdcall sub_467769(int, int, int, int); // weak
int __stdcall sub_46784D(int, int, int, int); // weak
int __stdcall sub_46790B(int a1, int a2);
__m64 *__stdcall sub_46796F(__m64 *a1, int a2, int a3);
int (__stdcall *__stdcall sub_4679ED(int a1, int a2, _DWORD *a3))(_DWORD, _DWORD, _DWORD);
int __stdcall sub_467A53(int a1, int a2, int a3);
int __stdcall sub_467AD1(int a1, int a2, int a3);
int __stdcall sub_46821D(int a1, int a2);
int __stdcall sub_468250(unsigned int a1, _BYTE *a2, unsigned int a3);
LPVOID __stdcall sub_46836B(int a1, int a2, int a3);
int __stdcall sub_468387(int, LPVOID lpMem); // idb
unsigned int __stdcall sub_4683A0(int a1, int a2, _DWORD *a3, int a4);
int __stdcall sub_468450(int, int); // weak
_DWORD *__stdcall sub_4684A0(int a1, int a2);
signed int __stdcall sub_468520(int a1, int a2);
signed int __stdcall sub_4687D0(int a1, int a2);
signed int __stdcall sub_4689E0(int a1, int a2);
int __stdcall sub_468C00(int, int); // weak
int __stdcall sub_468CC0(int a1, int a2);
int __stdcall sub_468DB0(int *a1, int a2, signed int a3, int *a4);
// signed int __userpurge sub_468FB0@<eax>(int a1@<eax>, int a2@<esi>, int a3);
// signed int __userpurge sub_469080@<eax>(int a1@<eax>, _WORD *a2, int a3, int a4, int a5);
// signed int __userpurge sub_4691F0@<eax>(int a1@<eax>, char a2);
signed int __stdcall sub_4692C0(int a1, int a2);
int __stdcall sub_4693F0(int a1);
// signed int __userpurge sub_469480@<eax>(int a1@<eax>, int a2@<ecx>, int *a3, _WORD *a4, int a5);
signed int __stdcall sub_469560(int a1, int a2);
signed int __stdcall sub_469610(int *a1, int a2, int a3);
int __stdcall sub_469860(int a1);
int __stdcall sub_469960(int, int); // weak
int __stdcall sub_469AC0(int a1);
// int __userpurge sub_469B00@<eax>(int a1@<eax>, int a2@<esi>, int a3);
// int __usercall sub_469C10@<eax>(int a1@<eax>);
// int __userpurge sub_469CC0@<eax>(int a1@<eax>, char a2);
signed int __stdcall sub_469DB0(int a1, int a2);
signed int __stdcall sub_469F20(int a1, int *a2);
signed int __stdcall sub_46A100(int a1, int a2);
signed int __stdcall sub_46A1C0(int a1, int *a2);
int __stdcall sub_46A450(int); // weak
int __stdcall sub_46A4A0(int a1);
int __stdcall sub_46A590(int a1, int a2);
int __stdcall sub_46A720(int a1);
int __stdcall sub_46A760(int a1);
// int __userpurge sub_46AB10@<eax>(signed __int16 *a1@<ebx>, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __stdcall sub_46AFB0(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
_DWORD *__stdcall sub_46B7C0(int a1);
int __stdcall sub_46B870(int, int); // weak
int __stdcall sub_46B8C0(int, int, int, int, int, int, int); // weak
int __stdcall sub_46BAD0(int a1, int a2, int *a3, unsigned int a4, int a5, unsigned int *a6, unsigned int a7);
int __stdcall sub_46BCE0(int a1);
int __stdcall sub_46BE20(int a1, int a2);
int __stdcall nullsub_3(int); // weak
// void __userpurge sub_46BEE0(int a1@<ebx>, int a2, int a3, int a4, int a5);
int __stdcall sub_46BF40(int, int, int, int, int); // weak
void __stdcall sub_46BFD0(int a1, int a2, int a3, int a4);
int __stdcall sub_46C100(int, int, int, int); // weak
// int __userpurge sub_46C150@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4);
// int __userpurge sub_46C1F0@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4, int a5);
// void __userpurge sub_46C2A0(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4);
// int __userpurge sub_46C370@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4, int a5);
int __stdcall sub_46C450(int a1, int a2, int a3, int a4);
_DWORD *__stdcall sub_46C6E0(int a1, int a2, int a3, int a4);
int __stdcall sub_46C880(int, int, int, int); // weak
int __stdcall sub_46C8E0(int, int, int, int); // weak
int __stdcall sub_46C940(int a1);
int __stdcall sub_46CAC0(int a1);
int __stdcall sub_46CBA0(int a1, int *a2, int a3, int a4, int a5);
int __stdcall sub_46CCD0(int a1, int *a2, int a3, int a4, int a5);
int __stdcall sub_46CE00(int, int, int, int, int); // weak
int __stdcall sub_46CEA0(int a1, int *a2, _DWORD *a3, int a4, int a5);
int __stdcall sub_46CF50(int a1, int *a2, int a3, int a4, int a5);
int __stdcall sub_46D0D0(int, int, int, int, int); // weak
int __stdcall sub_46D130(int, int, int, int, int); // weak
int __stdcall sub_46D1D0(int a1);
// int __usercall sub_46D3C0@<eax>(int a1@<esi>);
// int __usercall sub_46D570@<eax>(int a1@<esi>);
// int __usercall sub_46D8A0@<eax>(int a1@<esi>);
// int __usercall sub_46D980@<eax>(int a1@<esi>);
int __stdcall sub_46DB30(int); // weak
int __stdcall sub_46DCB0(int); // weak
int __stdcall sub_46DCE0(int); // weak
int __stdcall sub_46DD60(int a1, int a2);
int __stdcall sub_46DE20(int, int, int, int, int); // weak
char *__stdcall sub_46EF30(int a1, int a2, int a3, int a4, int a5);
char *__stdcall sub_46F980(int a1, int a2, int a3, int a4, int a5);
int __stdcall sub_470670(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_470AE0(int, int, int, int, int); // weak
int __stdcall sub_470B30(int a1, int a2, __m64 *a3, int a4, int a5, int a6);
int __stdcall sub_4711F0(int, int, int, int, int); // weak
// char __userpurge sub_471240@<al>(int a1@<ebp>, int a2, int a3, int a4, int a5, int a6);
char __stdcall sub_471900(int a1, int a2, int a3, int a4, int a5);
int __stdcall sub_471AD0(int a1, int a2, _WORD *a3, int *a4, int a5);
unsigned int *__stdcall sub_471B20(unsigned int a1, unsigned int *a2, unsigned int *a3, unsigned int *a4, int a5);
__m128 *__stdcall sub_471C60(__m128 *a1, __m128 *a2, __m128 *a3);
__m128 *__stdcall sub_471E49(__m128i *a1, __m128 *a2, __m128 *a3);
void sub_472080();
void sub_472180();
void sub_472380();
// unsigned int __usercall sub_472760@<eax>(__m64 a1@<mm0>);
// unsigned int __usercall sub_472860@<eax>(__m64 a1@<mm0>);
int __stdcall sub_472C18(char a1, char a2, int a3, int a4, int a5);
int __stdcall sub_472C4B(int a1, int a2, int a3);
int __stdcall sub_4731A2(int a1, int a2);
// signed int __userpurge sub_4731B3@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, _DWORD *a7, int a8, unsigned int *a9, unsigned int *a10);
signed int __stdcall sub_473532(_DWORD *a1, unsigned int *a2, _DWORD *a3, int a4, int a5);
signed int __stdcall sub_4735AB(unsigned int a1, unsigned int a2, _DWORD *a3, unsigned int *a4, unsigned int *a5, _DWORD *a6, _DWORD *a7, int a8, int a9);
int __stdcall sub_4736A5(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, int a5);
int __stdcall sub_4736D6(int a1, int a2, int a3);
int __stdcall sub_4737F0(int); // weak
int __stdcall sub_473A20(int a1);
int __stdcall sub_473C80(int a1);
signed int __stdcall sub_473FE0(int a1, int a2, int a3, int a4, int a5, int a6);
// int __stdcall DirectInput8Create(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
int __stdcall sub_474CF0(LPBYTE lpData); // idb
int __stdcall sub_474D4F(int a1, int a2, int a3, int a4);
// int TSK_pvg_get_id(void); weak
// int __cdecl HWM_get_lru_ip4_addr(_DWORD, _DWORD); weak
// int __cdecl sim_reset_D3Ddevice(_DWORD); weak
// int sim_init_D3Ddevice(void); weak
// int __cdecl HWM_get_ethr_mac_address(_DWORD, _DWORD); weak
// int HWM_boot();
// int __cdecl HWM_set_pwr_key_state(_DWORD); weak
// int TSK_win_shutdown(void); weak
// int HWM_pwrdn_msg(void); weak
// int __cdecl HWM_get_palette32(_DWORD); weak
// int __cdecl hwm_comm_drvr_sim_isr(_DWORD); weak
// int hwm_ethr_isr_poll(void); weak
char __cdecl sub_474E50(__int64 a1);
double __cdecl sub_474E80(float a1);
void __cdecl sub_474F40(unsigned int a1, int a2);
double *__cdecl sub_475090(char a1, char a2, double *a3);
int __cdecl sub_4751C0(int a1, int a2);
char __cdecl sub_475230(unsigned __int8 a1, char *a2);
int __cdecl sub_4752C0(int, char, void *); // idb
char __cdecl sub_475340(int a1, char a2, char *a3);
void sub_475620();
signed int sub_475630();
// char __usercall sub_475640@<al>(unsigned __int16 a1@<ax>, void *a2);
// int __usercall sub_4756A0@<eax>(int result@<eax>, int a2@<ecx>);
int __cdecl sub_4756C0(unsigned __int16 a1, int a2);
int __cdecl sub_475750(unsigned __int16 a1, int a2);
char __cdecl sub_4757C0(unsigned __int8 a1, int a2, char a3, int a4);
// char __usercall sub_475840@<al>(int a1@<eax>, unsigned __int8 a2);
int __fastcall sub_4758E0(int a1, int a2);
void __cdecl sub_475910(unsigned int a1, int a2);
char __cdecl sub_475A50(unsigned int a1, int a2);
// void __usercall sub_475B00(int a1@<ecx>, int a2@<esi>);
char __cdecl sub_475B30(unsigned int a1, int a2);
unsigned __int8 __cdecl sub_475C50(unsigned int a1);
int __cdecl sub_475C80(unsigned int a1, unsigned __int8 a2, char a3);
int __cdecl sub_475D00(unsigned int a1);
char __cdecl sub_475D30(__int64 a1);
int sub_475DD0();
char __cdecl sub_475E70(float *a1);
char __cdecl sub_476130(int a1, float *a2);
double __cdecl sub_476150(unsigned int a1);
int __cdecl sub_476200(int a1);
signed int __thiscall sub_476240(int this);
// signed int __usercall sub_4762F0@<eax>(int a1@<edi>);
signed int __thiscall sub_476380(int this);
// int __usercall sub_476420@<eax>(int a1@<esi>);
// char __usercall sub_476440@<al>(unsigned int a1@<eax>, unsigned int *a2@<ebx>, _BYTE *a3@<edi>, int a4@<esi>, _DWORD *a5, int *a6);
// void *__usercall sub_476500@<eax>(int a1@<eax>, char *a2@<esi>);
// __int16 __usercall sub_476560@<ax>(int a1@<eax>, int a2@<esi>, int a3);
void *__cdecl sub_4766D0(unsigned int a1, char *a2);
signed int __cdecl sub_476720(unsigned __int8 a1);
// signed int __usercall sub_4767A0@<eax>(int a1@<edi>, unsigned __int8 a2);
signed int __cdecl sub_476810(unsigned __int8 a1);
// int __usercall sub_476880@<eax>(int a1@<eax>, char a2);
// void __usercall sub_476910(int a1@<edi>, int a2, int a3);
int __cdecl sub_476950(__int64 a1);
double __cdecl sub_476A00(int a1);
int __cdecl sub_476A70(int a1, int a2);
char __cdecl sub_476C00(int a1, int a2);
__int16 __cdecl sub_476C70(int a1, int a2);
void __cdecl sub_476CB0(_BYTE *a1, signed int a2, int a3);
unsigned int __cdecl sub_476D50(unsigned int a1, _BYTE *a2, _BYTE *a3);
signed int __cdecl sub_476D70(unsigned __int8 a1, unsigned __int8 a2);
int __cdecl sub_476DD0(unsigned __int8 a1);
char *__cdecl sub_476E10(unsigned __int8 a1);
signed int sub_476ED0();
int sub_476EF0();
int sub_476F50();
char *sub_476FC0();
int __cdecl sub_477090(const void *a1);
void __cdecl sub_477140(unsigned int a1, int a2);
char __cdecl sub_477320(unsigned int a1, int a2);
int __cdecl sub_477390(_BYTE *a1, _BYTE *a2);
int sub_4773C0();
int __fastcall sub_4773D0(unsigned __int8 a1);
int __fastcall sub_4773F0(unsigned __int8 a1);
void *__cdecl sub_477410(char a1, void *a2);
int __cdecl sub_4774E0(int a1);
char sub_4776A0();
bool __cdecl sub_477800(float a1, int a2, int a3, int a4);
bool __cdecl sub_477970(signed int a1, signed int a2, _BYTE *a3);
int __cdecl sub_4779E0(int a1, _BYTE *a2, int a3);
int __cdecl sub_477A30(void *, size_t); // idb
int __cdecl sub_477A60(int, char *, int); // idb
int __cdecl sub_477AC0(char *, size_t, char *, va_list); // idb
int sub_477B00(char *arg0, size_t arg4, char *arg8, ...);
int __cdecl sub_477B30(const char *a1, _BYTE *a2, int a3);
int __cdecl sub_477B70(int a1, int a2);
char __cdecl sub_477B90(int a1, int a2);
char __cdecl sub_477CB0(int a1);
BOOL __cdecl sub_477CC0(unsigned int a1);
char __thiscall sub_477D30(void *this);
void __cdecl sub_477D50(_BYTE *a1, _BYTE *a2, _BYTE *a3);
int __cdecl sub_477D80(int a1);
signed int sub_477DA0();
void __cdecl sub_477DD0(_BYTE *a1);
char __cdecl sub_477DF0(int a1, size_t a2, void *a3);
int __cdecl sub_477E30(int a1);
char __fastcall sub_477E50(int *a1);
char sub_478070();
// void *__usercall sub_478090@<eax>(void *a1@<ebx>, const void *a2@<edi>, int a3@<esi>, int a4);
void *__cdecl sub_4780C0(void *a1);
int __cdecl sub_4780F0(int a1, signed int a2, signed int a3);
int __cdecl sub_478110(double, double); // idb
signed int sub_478160();
bool __cdecl sub_478170(char a1, int a2);
signed int __cdecl sub_478390(int a1);
double __cdecl sub_4783B0(signed int a1, char a2);
bool __cdecl sub_4783F0(unsigned int a1, unsigned __int16 a2);
int __cdecl sub_478430(unsigned __int16 a1);
int __cdecl sub_478460(_BYTE *a1);
char __cdecl sub_478490(_BYTE *a1, _BYTE *a2);
char __cdecl sub_4784E0(_BYTE *a1, _BYTE *a2);
int sub_478530();
__int16 sub_478600();
// int __usercall sub_478660@<eax>(int result@<eax>, _BYTE *a2, signed int a3, int a4);
char sub_4786E0();
int (__cdecl *(*sub_4788A0())[2])(int, int);
int __cdecl sub_4789D0(int a1);
signed int __cdecl sub_478AD0(int a1, int a2);
char *__cdecl sub_478B70(int a1, char *a2, int a3, char *a4, int a5);
char __cdecl sub_478CA0(char *a1, int a2, char a3, char *a4, int a5);
char __cdecl sub_478DA0(char *a1, int a2, char a3, char *a4);
char __cdecl sub_478E10(int a1);
int __cdecl sub_478E30(int, char *); // idb
char __thiscall sub_478E90(void *this);
char __thiscall sub_478EB0(void *this);
int __cdecl sub_478ED0(char a1);
char sub_478EE0();
unsigned int __cdecl sub_478F80(char *a1);
int __cdecl sub_478FA0(_BYTE *a1);
int __cdecl sub_478FC0(unsigned __int8 *a1);
unsigned int __cdecl sub_478FE0(int a1, int a2);
unsigned int __cdecl sub_479310(int a1, int a2);
unsigned int __cdecl sub_479750(_BYTE *a1);
int __cdecl sub_479770(unsigned __int8 *a1);
int __cdecl sub_479790(unsigned __int8 *a1);
int __cdecl sub_4797B0(_BYTE *a1);
int __cdecl sub_4797D0(int a1);
// void __cdecl __noreturn exit(int);
int __cdecl sub_479820(unsigned __int8 *a1);
int __cdecl sub_479840(int a1);
unsigned int __cdecl sub_4798D0(int a1);
signed int __cdecl sub_4798F0(int a1);
unsigned int __cdecl sub_479940(int a1);
int __cdecl sub_4799A0(_BYTE *a1);
unsigned int __cdecl sub_4799C0(_BYTE *a1);
int __cdecl sub_4799E0(unsigned __int8 *a1);
int __cdecl sub_479A00(_BYTE *a1);
signed int __cdecl sub_479A20(_BYTE *a1, int a2);
int __cdecl sub_479A50(_BYTE *a1, int a2);
int __cdecl sub_479B20(unsigned __int8 *a1);
int __cdecl sub_479B40(int a1);
int __cdecl sub_479B70(unsigned __int8 *a1);
unsigned int __cdecl sub_479B90(int a1);
int __cdecl sub_479BC0(int a1);
int __cdecl sub_479CB0(int a1);
signed int __cdecl sub_479DC0(unsigned __int8 *a1, int a2);
signed int __cdecl sub_479DF0(_BYTE *a1, int a2);
int __cdecl sub_479E20(unsigned __int8 *a1);
int __cdecl sub_479E80(int a1);
signed int __cdecl sub_479E90(_BYTE *a1, int a2);
int __cdecl sub_479EC0(int a1, int a2);
unsigned int __cdecl sub_479F40(int a1);
unsigned int __cdecl sub_479F80(int a1);
int __cdecl sub_479FD0(int a1);
int __cdecl sub_47A000(int a1);
unsigned int __cdecl sub_47A030(int a1);
unsigned int __cdecl sub_47A060(int a1);
unsigned int __cdecl sub_47A080(int a1);
void __cdecl __noreturn sub_47A0C0(int a1);
signed int __cdecl sub_47A230(int a1, int a2);
// time_t __cdecl static _mkgmtime(struct tm *Tm);
// signed int __usercall sub_47A290@<eax>(int a1@<eax>, int a2@<edi>);
signed int __cdecl sub_47A360(int a1);
int __cdecl sub_47A370(char a1);
// signed int __usercall sub_47A390@<eax>(char a1@<al>, int a2@<ecx>);
// int __usercall sub_47A430@<eax>(char a1@<al>);
// int __usercall sub_47A450@<eax>(char a1@<al>);
// signed __int16 __usercall sub_47A470@<ax>(char a1@<al>, unsigned __int16 a2@<si>);
char __cdecl sub_47A6B0(char a1, unsigned __int16 a2, void *a3);
char __cdecl sub_47A830(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_47A990(int a1, int a2, void *a3, char a4, __int16 a5, char a6);
char __cdecl sub_47AAD0(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_47ABB0(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6);
char __cdecl sub_47AE30(char a1, int a2, __int16 a3, __int16 a4, void *a5);
char __cdecl sub_47AE60(char a1, int a2, void *a3);
char __cdecl sub_47AE90(char a1, int a2, void *a3, int a4);
char __cdecl sub_47AEC0(char a1);
char __thiscall sub_47AF00(void *this);
int __thiscall sub_47AF30(void *this);
int __cdecl sub_47AF50(char *a1, char a2);
bool __cdecl sub_47AFC0(int a1, void *a2);
char __cdecl sub_47B080(int a1, bool *a2);
char __cdecl sub_47B140(int a1, char a2);
char __cdecl sub_47B200(char a1);
char __cdecl sub_47B230(char a1);
char __cdecl sub_47B270(char a1);
signed int __cdecl sub_47B2E0(char a1);
char __cdecl sub_47B360(char a1);
char __cdecl sub_47B3D0(char a1);
char __cdecl sub_47B480(int a1);
char __thiscall sub_47B580(void *this);
double __cdecl sub_47B590(int a1);
char __cdecl sub_47B5E0(int a1, int a2);
char __cdecl sub_47B630(int a1, int a2);
char __cdecl sub_47B6E0(int a1, int a2);
char __cdecl sub_47B740(int a1, int a2);
char __cdecl sub_47B810(char *a1);
signed int __cdecl sub_47B840(_BYTE *a1, char a2, int a3);
int __cdecl sub_47B890(int, float, float, int, int); // idb
unsigned int __cdecl sub_47B980(char *a1, char a2, char a3, char a4, int a5);
unsigned int __cdecl sub_47B9D0(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5);
unsigned int __cdecl sub_47BA90(void *a1, size_t a2, int a3);
int __cdecl sub_47BAF0(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5);
int __cdecl sub_47BB40(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5);
int __cdecl sub_47BBE0(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5);
int __cdecl sub_47BDA0(char a1);
bool __cdecl sub_47BDF0(void *a1);
char __cdecl sub_47BE30(char a1);
char __cdecl sub_47BE60(char a1, void *a2);
int __cdecl sub_47BEE0(char a1, _DWORD *a2);
int __cdecl sub_47BF30(unsigned __int8 *a1);
unsigned int __cdecl sub_47BF50(void *a1);
unsigned int __cdecl sub_47BF70(void *a1);
unsigned int __cdecl sub_47BF90(void *a1);
unsigned int __cdecl sub_47BFB0(void *a1);
unsigned int __cdecl sub_47BFD0(void *a1);
unsigned int __cdecl sub_47BFF0(void *a1);
int __cdecl sub_47C050(unsigned __int8 *a1, int a2);
int __cdecl sub_47C080(int a1, unsigned int a2);
__int16 __cdecl sub_47C170(int a1, unsigned int a2);
__int16 __cdecl sub_47C1C0(unsigned int *a1, _WORD *a2, _WORD *a3);
signed int __fastcall sub_47C240(unsigned __int8 a1);
char __cdecl sub_47C250(unsigned __int8 a1);
__int16 __cdecl sub_47C270(unsigned __int8 a1);
signed int __cdecl sub_47C290(char a1, char a2);
int __cdecl sub_47C2F0(char a1);
signed int __cdecl sub_47C330(char a1, char a2, char a3);
int __cdecl sub_47C3A0(char a1);
int __cdecl sub_47C3E0(char a1);
char __cdecl sub_47C420(char a1, int a2);
char __cdecl sub_47C440(char a1, int a2);
char __cdecl sub_47C470(char a1, int a2);
char __cdecl sub_47C4C0(char a1, int a2);
char __cdecl sub_47C4F0(char a1, int a2);
char __cdecl sub_47C510(int a1);
bool __cdecl sub_47C530(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_47C5A0(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_47C600(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_47C670(char a1, _BYTE *a2);
char __cdecl sub_47C6B0(char a1, int a2);
char __cdecl sub_47C6E0(char a1, int a2);
char __cdecl sub_47C8E0(char a1);
// char __usercall sub_47C910@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4);
// void *__usercall sub_47C950@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4);
char __cdecl sub_47C9F0(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_47CA30(char a1, char a2, void *a3);
char __cdecl sub_47CA90(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_47CAD0(char a1, char a2, void *a3);
char __cdecl sub_47CB00(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_47CB40(char a1, char a2, void *a3);
char __cdecl sub_47CB80(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_47CBC0(char a1, char a2, void *a3);
char __cdecl sub_47CC10(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_47CC50(char a1, char a2, void *a3);
char __cdecl sub_47CC90(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_47CCD0(char a1, char a2, void *a3);
char __cdecl sub_47CD10(char a1, void *a2);
char __cdecl sub_47CD40(char a1, void *a2);
char __cdecl sub_47CD70(char a1, void *a2);
char __cdecl sub_47CDA0(char a1, void *a2);
char __cdecl sub_47CDD0(char a1, void *a2);
char __cdecl sub_47CE00(char a1, void *a2);
char __cdecl sub_47CE30(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_47CE70(char a1, char a2, void *a3);
char __cdecl sub_47CEC0(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_47CF00(char a1, char a2, void *a3);
char __cdecl sub_47CF30(char a1, void *a2);
char __cdecl sub_47CF60(char a1, void *a2);
char __cdecl sub_47CF90(char a1, void *a2);
char sub_47D360();
BOOL __cdecl sub_47D400(int a1, int a2);
int __cdecl sub_47D460(char a1, char a2);
// bool __usercall sub_47D510@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3);
// char __usercall sub_47D540@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6);
char __cdecl sub_47D5E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_47D660(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_47D6E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_47D760(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_47D7E0(char a1);
BOOL __cdecl sub_47D880(unsigned __int8 a1);
// BOOL __usercall sub_47D890@<eax>(unsigned __int8 a1@<al>, char a2);
bool __cdecl sub_47D8C0(char a1, char a2, unsigned __int8 a3, int a4);
bool __cdecl sub_47DA70(unsigned __int8 a1, int a2);
bool __cdecl sub_47DBA0(unsigned __int8 a1, char a2, unsigned int a3);
char __cdecl sub_47DCD0(char a1);
char __cdecl sub_47DD50(char a1, int a2);
// int __usercall sub_47DEC0@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3);
// int __usercall sub_47DF00@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3);
signed int sub_47DF40();
char __cdecl sub_47DF50(unsigned __int8 a1, unsigned __int16 a2, int a3);
char __cdecl sub_47DFB0(char a1, void *a2);
char __cdecl sub_47E0D0(unsigned __int8 a1, unsigned __int8 a2, int a3);
int __cdecl sub_47E300(char a1);
int __cdecl sub_47E350(char a1);
int __cdecl sub_47E370(int, void *); // idb
// int __usercall sub_47E3D0@<eax>(char a1@<al>);
BOOL __cdecl sub_47E400(char a1, int a2);
char __cdecl sub_47E460(void *a1);
BOOL __cdecl sub_47E480(int a1);
bool __cdecl sub_47E4D0(char a1, void *a2);
// signed int __usercall sub_47E510@<eax>(char a1@<al>);
bool __cdecl sub_47E530(char a1, void *a2);
char __cdecl sub_47E650(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_47E6F0(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_47E770(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_47E7E0(char a1, void *a2);
char __cdecl sub_47E860(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_47E8E0(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_47E960(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_47EAE0(char a1, void *a2);
bool __cdecl sub_47EB00(unsigned __int8 a1, char *a2);
BOOL sub_47EB80();
char __cdecl sub_47EBE0(int a1, char *a2);
BOOL __cdecl sub_47ECD0(int a1, int a2);
char __cdecl sub_47ED30(int a1, int a2);
BOOL __cdecl sub_47EDE0(int a1, int a2);
char __cdecl sub_47EE40(void *a1);
char __cdecl sub_47EE60(void *a1);
char __cdecl sub_47F150(char a1);
// __int16 __usercall sub_47F190@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_47F1A0(unsigned __int8 a1, char *a2);
char __cdecl sub_47F2F0(unsigned __int16 a1, char *a2, char a3);
char __cdecl sub_47F420(char a1, int a2);
bool __cdecl sub_47F4A0(void *a1);
char __cdecl sub_47F4F0(char a1, int a2);
// __int16 __usercall sub_47F5D0@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_47F5E0(unsigned __int8 a1, int *a2, const void *a3);
char __cdecl sub_47F670(unsigned __int8 a1, char a2);
char __cdecl sub_47F830(char a1);
char __cdecl sub_47F870(char a1);
char __cdecl sub_47F890(int a1, char *a2, size_t a3, char a4);
int j_HWM_pvg_hsdb_get_lrus_online(void); // weak
int __cdecl j_HWM_pvg_log_err(_DWORD); // weak
int __cdecl j_HWM_pvg_read_keys(_DWORD); // weak
int __cdecl j_HWM_pvg_read_reg(_DWORD); // weak
int __cdecl sub_47F940(int a1, int a2, int a3);
char __cdecl sub_47F960(int a1, int a2, int a3);
int __cdecl sub_47F9A0(int, void *, int, void *); // idb
int __cdecl sub_47F9E0(int a1, int a2, int a3);
int sub_47FA00();
int sub_47FA20();
int __cdecl sub_47FA40(int a1, int a2, int a3, int a4);
int j_TSK_pvg_get_us_timer(void); // weak
int __cdecl sub_47FA80(int a1, int a2, int a3, int a4);
int __cdecl sub_47FAB0(int a1);
int __cdecl sub_47FAD0(int a1, int a2);
int __cdecl sub_47FB00(int a1, int a2);
int __cdecl sub_47FB30(int a1, int a2);
int __cdecl sub_47FB60(int a1);
int __cdecl sub_47FB80(_BYTE *a1);
int __cdecl sub_47FBC0(int a1, int a2);
int __cdecl sub_47FBF0(int a1, int a2);
void __cdecl sub_47FC10(int a1, _BYTE *a2);
int __cdecl sub_47FC40(int a1, int a2);
// int __usercall sub_47FCA0@<eax>(const char **a1@<esi>);
// int __usercall sub_47FFA0@<eax>(int a1@<eax>, int a2@<ecx>);
signed int __cdecl sub_47FFC0(int a1);
__int16 __cdecl sub_480090(int a1, int a2, int a3, int a4);
int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD); // weak
__int16 __cdecl sub_4800D0(int a1, _DWORD *a2, _BYTE *a3);
signed int __cdecl sub_480130(unsigned int a1);
int __cdecl sub_480170(int a1, int a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD); // weak
signed int __cdecl sub_4801E0(unsigned int a1, void *a2, int a3);
signed int __cdecl sub_480220(unsigned int a1, void *a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD); // weak
signed int __cdecl sub_4802B0(unsigned int a1, int a2, int a3, int a4);
__int64 __cdecl sub_480300(int a1);
int __cdecl sub_480320(int a1, int a2, int a3);
int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_480350(int a1, int a2, int a3, char a4);
signed int __cdecl sub_480370(unsigned int a1, int a2, int a3);
int __cdecl sub_480390(int a1, int a2, int a3);
int __cdecl sub_4803B0(int a1);
int __cdecl sub_4803F0(int a1);
int __cdecl sub_480430(int a1);
int __cdecl sub_480470(int a1);
int __cdecl sub_4804B0(int a1, int a2, int a3, int a4);
int __cdecl sub_480520(int a1, int a2, int a3);
void __cdecl sub_4805C0(__int16 a1, _BYTE *a2);
int __cdecl j_mem_unmap(_DWORD, _DWORD); // weak
unsigned int __cdecl sub_480600(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6);
// int __usercall sub_4807B0@<eax>(int a1@<esi>);
int __cdecl sub_480860(int a1, unsigned __int64 a2);
// int __usercall sub_480910@<eax>(int a1@<ebx>, unsigned __int64 a2);
unsigned int __cdecl sub_4809A0(int a1, void *a2, int a3, int a4, int a5);
double __cdecl sub_480AF0(char a1);
char sub_480B80();
double __cdecl sub_480BD0(double a1, double a2);
double __cdecl sub_480C30(float a1, float a2);
int __cdecl sub_480CB0(double); // idb
double __cdecl sub_480CD0(float a1);
int __cdecl sub_480D10(int a1, int a2);
int __cdecl sub_480D30(int a1, int a2);
int __cdecl sub_480D50(float); // idb
int __cdecl sub_480DB0(int a1, int a2, int a3);
int __cdecl sub_480DE0(float, int, int); // idb
int __cdecl sub_480E10(unsigned __int8 a1, unsigned int a2);
unsigned int __cdecl sub_480E30(unsigned int *a1, signed int a2, unsigned int a3);
void __thiscall sub_480F52(struct type_info *this);
void *__thiscall sub_480F60(void *this, char a2);
// void *__cdecl malloc(size_t);
// void __cdecl free(void *);
// errno_t __cdecl memcpy_s(void *Dst, rsize_t DstSize, const void *Src, rsize_t MaxCount);
// errno_t __cdecl memmove_s(void *Dst, rsize_t DstSize, const void *Src, rsize_t MaxCount);
// void *__cdecl calloc(size_t, size_t);
void __cdecl sub_4815FE(char a1);
// int __cdecl strncmp(const char *, const char *, size_t);
__int32 __cdecl j__atol(const char *);
int __thiscall sub_481CB8(int this);
// _DWORD __thiscall std::exception::exception(std::exception *this, const char *const *); idb
// _DWORD __thiscall std::exception::exception(std::exception *this, const struct std::exception *); idb
void __thiscall sub_481D6F(int this);
void *__thiscall sub_481D92(void *this, char a2);
int __cdecl sub_481DAE(int a1);
// int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall _invalid_parameter_noinfo(_DWORD); weak
// _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD); weak
// int __cdecl _vscprintf(const char *Format, va_list ArgList);
// int __cdecl vsprintf_s(char *DstBuf, size_t SizeInBytes, const char *Format, va_list ArgList);
// char *__cdecl _ctime64(const __time64_t *Time);
// __time64_t __cdecl _time64(__time64_t *Time);
int __cdecl sub_4822AC(FILE *, int, char); // idb
void **sub_4823FB();
// _DWORD __cdecl _lock_file(_DWORD); weak
// _DWORD __cdecl _lock_file2(_DWORD, _DWORD); weak
// _DWORD __cdecl _unlock_file(_DWORD); weak
// _DWORD __cdecl _unlock_file2(_DWORD, _DWORD); weak
// void *__cdecl memcpy(void *, const void *, size_t);
// void *__cdecl memset(void *, int, size_t);
// char *__cdecl strncpy(char *, const char *, size_t);
// _DWORD __thiscall _LocaleUpdate::_LocaleUpdate(_LocaleUpdate *this, struct localeinfo_struct *); idb
// unsigned __int8 *__cdecl _mbsstr(const unsigned __int8 *, const unsigned __int8 *);
// int sprintf(char *, const char *, ...);
// char *__cdecl strstr(const char *, const char *);
// int printf(const char *, ...);
// char *__cdecl strchr(const char *, int);
// int __cdecl toupper(int);
// _DWORD __stdcall 'eh vector constructor iterator'(void *, unsigned int, _DWORD, _DWORD, void (__thiscall *)(void *)); weak
// int __stdcall 'eh vector destructor iterator'(void *, unsigned int, int, void (__thiscall *)(void *)); idb
// unsigned __int8 *__cdecl _mbschr(const unsigned __int8 *, unsigned int);
// int __cdecl vscan_fn(_DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_483593(int a1, int a2, char a3);
int __cdecl sub_4835B2(int a1, int a2, char a3);
// int __cdecl _mbscmp(const unsigned __int8 *, const unsigned __int8 *);
// int __cdecl fclose(FILE *);
int __cdecl sub_4837EE(int, FILE *, int, int, int); // idb
int __cdecl sub_48392B(FILE *, int, int); // idb
// int __cdecl feof(FILE *);
// FILE *__cdecl fopen(const char *, const char *);
// void __cdecl _splitpath(const char *, char *, char *, char *, char *);
// int __cdecl _mbslwr_s_l(char *Str, size_t MaxCount, struct localeinfo_struct *); idb
int __cdecl sub_483DBA(char *Str, size_t MaxCount); // idb
// unsigned __int8 *__cdecl _mbsinc(const unsigned __int8 *);
// int __cdecl _ismbcspace_l(int C, struct localeinfo_struct *); idb
int __cdecl sub_483EF2(int C); // idb
// int _snprintf(char *, size_t, const char *, ...);
signed int __cdecl sub_484056(_DWORD *a1);
signed int __cdecl sub_48408D(_DWORD *a1);
// void __cdecl __noreturn exit_0(int);
// size_t __cdecl _fwrite_nolock(const void *DstBuf, size_t Size, size_t Count, FILE *File);
// size_t __cdecl fwrite(const void *, size_t, size_t, FILE *);
// _DWORD _EH_epilog3(); weak
// size_t __cdecl strlen(const char *);
// int *__cdecl _errno();
// unsigned __int32 *__cdecl __doserrno();
// _DWORD __cdecl _dosmaperr(_DWORD); weak
int __cdecl sub_484C31(int, HANDLE hHandle); // idb
signed int __cdecl sub_484CAE(signed int a1);
signed int __cdecl sub_484D2F(signed int a1);
// _DWORD __cdecl __lock_fhandle(_DWORD); weak
void __cdecl sub_484E40(signed int a1);
// int _alloc_osfhnd(void); weak
int __cdecl sub_484FFC(HANDLE hFile, int); // idb
// int __cdecl _fileno(FILE *);
int __cdecl sub_4852C4(FILE *); // idb
// size_t __cdecl fread_s(void *DstBuf, size_t DstSize, size_t ElementSize, size_t Count, FILE *File);
size_t __cdecl sub_48560C(void *DstBuf, size_t ElementSize, size_t Count, FILE *File);
int __cdecl sub_485627(char *, FILE *File); // idb
int __cdecl sub_485769(int, int, FILE *); // idb
char *__cdecl sub_4858F0(FILE *a1);
// _DWORD __cdecl flsall(_DWORD); weak
int sub_485DD3();
// char *__cdecl _strdup(const char *);
// void __cdecl __noreturn longjmp(jmp_buf, int);
// _DWORD __cdecl _setjmp3(_DWORD, _DWORD);
// int __cdecl isdigit(int);
// int __cdecl isxdigit(int);
// int __cdecl isspace(int);
// double __cdecl floor(double);
// int __cdecl _finite(double);
// int __cdecl _vsnprintf(char *, size_t, const char *, va_list);
// void *__cdecl memcpy_0(void *, const void *, size_t);
// FILE *__cdecl tmpfile();
// double __usercall _CIasin_0@<st0>(double@<st0>); weak
// void *__cdecl memchr(const void *, int, size_t);
// char *__cdecl strrchr(const char *, int);
// void __cdecl type_info::_Type_info_dtor(struct type_info *); idb
// _DWORD __cdecl _unlock(_DWORD); weak
// _DWORD __cdecl _mtinitlocknum(_DWORD); weak
// _DWORD __cdecl _lock(_DWORD); weak
int __cdecl sub_48A0EC(int a1);
// _DWORD __cdecl __report_gsfailure(char); weak
void *__thiscall sub_48A4B6(void *this, char a2);
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
int sub_48B2A4();
// int _getptd(void); weak
void sub_48BAFA();
int __cdecl sub_48BB02(int, FILE *); // idb
// int __cdecl _output_l(int, int, struct localeinfo_struct *, int); idb
// int __cdecl _stbuf(FILE *); idb
// int __cdecl _ftbuf(int, FILE *); idb
// int __cdecl _malloc_crt(size_t); idb
// int __cdecl isleadbyte(int);
// _DWORD __cdecl _whiteout(_DWORD); weak
int __cdecl sub_48F15E(FILE *, int, struct localeinfo_struct *, int); // idb
// int __cdecl __check_float_string(int, void *, int); idb
// int __fastcall _inc(_DWORD, _DWORD); weak
int __cdecl sub_48FE15(FILE *, int, struct localeinfo_struct *, int); // idb
signed int __cdecl sub_490B40(signed int a1);
int sub_490F70();
int (*sub_4912B8())(void);
void __cdecl sub_4912DC(); // idb
int sub_4914AB();
int __cdecl sub_491668(int a1);
int __cdecl sub_491672(int a1);
int __cdecl sub_49167C(int a1);
// _DWORD __cdecl __crtInitCritSecAndSpinCount(_DWORD, _DWORD); weak
_WORD *__cdecl sub_49175B(int a1, int a2, DWORD nNumberOfBytesToWrite);
_WORD *__cdecl sub_491D7D(int a1, int a2, DWORD nNumberOfBytesToWrite);
int __cdecl sub_492714(FILE *); // idb
// int __cdecl _read(int, void *, unsigned int);
DWORD __cdecl sub_492EF2(int a1, LONG lDistanceToMove, DWORD dwMoveMethod);
DWORD __cdecl sub_492F64(int a1, LONG lDistanceToMove, DWORD dwMoveMethod);
signed int __cdecl sub_49335D(_DWORD *a1);
signed int __cdecl sub_493391(_DWORD *a1);
signed int __cdecl sub_4933C5(_DWORD *a1);
int *sub_4933F9();
int *sub_4933FF();
int *sub_493405();
void ***sub_49340B();
// _DWORD __cdecl cvtdate(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// signed int __usercall sub_49394F@<eax>(int a1@<edi>);
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_49A00C(int a1, int a2, int a3);
DWORD __cdecl sub_49A2B5(int a1, int a2, int a3, DWORD dwMoveMethod);
// __int64 __cdecl _lseeki64(int, __int64, int);
// _DWORD __cdecl _getbuf(_DWORD); weak
int __cdecl sub_49A495(signed int a1);
int __cdecl sub_49A923(int, int, struct localeinfo_struct *); // idb
int __cdecl sub_49A9C9(int, int, struct localeinfo_struct *); // idb
int __cdecl sub_49AD68(int, FILE *); // idb
// int __cdecl _mbtowc_l(wchar_t *DstCh, const char *SrcCh, size_t SrcSizeInBytes, _locale_t Locale);
// int __cdecl mbtowc(wchar_t *, const char *, size_t);
// int __cdecl _putwch_nolock(__int16 Buffer); idb
signed int __cdecl sub_49B69D(int a1, int a2);
signed int __cdecl sub_49BBDF(int a1, int a2);
signed int __cdecl sub_49C4A1(signed int a1, int a2);
signed int __cdecl sub_49C55D(_DWORD *a1);
void *__thiscall sub_49D887(void *this, char a2);
void __noreturn sub_49D8A9();
void __noreturn sub_49D8E8();
UINT sub_49D93F();
signed int sub_49D9A4();
int sub_49D9A8();
// _DWORD __thiscall ATL::CComCriticalSection::CComCriticalSection(ATL::CComCriticalSection *this); idb
// __int32 __thiscall ATL::CComCriticalSection::Init(ATL::CComCriticalSection *__hidden this); idb
__int32 __stdcall sub_49DA6B(int a1);
// int __thiscall unknown_libname_139(_DWORD); weak
// _DWORD __stdcall ATL::CSimpleArray<unsigned short,ATL::CSimpleArrayEqualHelper<unsigned short>>::operator[](_DWORD); weak
// _DWORD __thiscall ATL::_ATL_WIN_MODULE70::_ATL_WIN_MODULE70(ATL::_ATL_WIN_MODULE70 *__hidden this); idb
int __stdcall sub_49DAEC(int, HINSTANCE hInstance); // idb
int __thiscall sub_49DB4C(int this);
ATL::_ATL_WIN_MODULE70 *__thiscall sub_49DB7C(ATL::_ATL_WIN_MODULE70 *this);
void *__thiscall sub_49DBA2(void *this);
// int __thiscall ATL::CAtlWinModule::~CAtlWinModule(ATL::CAtlWinModule *this);
// int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
// int __stdcall WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd);
// int SYS_exit_krnl(void); weak
// int __cdecl SYS_pvg_is_booting(_DWORD); weak
// int SYS_enter_krnl(void); weak
// int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD); weak
// int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int TSK_pvg_get_timer(void); weak
// int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_release_smphr(_DWORD); weak
// int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_evnt(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_suspend(_DWORD); weak
// int __cdecl TSK_pvg_wait_evnt(_DWORD); weak
// int __cdecl SYS_pvg_ftr_get(_DWORD, _DWORD); weak
// int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int FIL_vfs_close(void); weak
// int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int FIL_vfs_read(void); weak
// int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_size(_DWORD); weak
// int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
signed int __cdecl sub_49DE60(unsigned int a1, int a2, int a3, int a4);
signed int __cdecl sub_49DEC0(unsigned int a1, int a2, int a3);
unsigned int __cdecl sub_49DEE0(unsigned int a1);
bool __cdecl sub_49DF00(int a1);
int __cdecl sub_49DFD0(int a1);
int __cdecl sub_49DFF0(int a1, int a2);
signed int __cdecl sub_49E030(int a1, void *a2, unsigned __int16 a3, __int16 a4);
int __cdecl sub_49E0F0(int a1);
// int __usercall sub_49E130@<eax>(int a1@<eax>, int a2@<esi>);
// signed int __usercall sub_49E1E0@<eax>(int a1@<eax>, int a2@<esi>);
// char __usercall sub_49E3B0@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>);
// int __usercall sub_49E3C0@<eax>(int result@<eax>);
// char __usercall sub_49E3E0@<al>(int a1@<eax>);
// int __usercall sub_49E400@<eax>(int a1@<esi>, unsigned __int8 a2);
int __fastcall sub_49E440(int a1, int a2);
// int __usercall sub_49E460@<eax>(int a1@<esi>);
// signed int __usercall sub_49E4A0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6);
int __cdecl sub_49E6B0(int a1);
signed int __cdecl sub_49E920(unsigned int a1, int a2, int a3);
// int __usercall sub_49E9C0@<eax>(int a1@<eax>);
// int __usercall sub_49E9E0@<eax>(int a1@<edi>, int a2);
// signed int __usercall sub_49EA10@<eax>(int a1@<eax>, int a2@<ebx>);
// void __cdecl __noreturn exit_1(int);
// char __usercall sub_49EB00@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>);
// signed int __usercall sub_49EB30@<eax>(int a1@<eax>);
signed int __cdecl sub_49EB60(unsigned int a1);
signed int __cdecl sub_49EBB0(int a1, int a2);
signed int __cdecl sub_49EDA0(unsigned int a1, int a2, int a3);
signed int __cdecl sub_49EE00(unsigned int a1, int a2, int a3);
// signed int __usercall sub_49EF90@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_4A0040@<eax>(int a1@<esi>, int a2, unsigned int a3);
// signed int __usercall sub_4A00A0@<eax>(int a1@<eax>, int a2, int a3);
// void *__usercall sub_4A0E20@<eax>(void *a1@<eax>);
unsigned int __cdecl sub_4A0E40(int a1, unsigned int a2);
// int __usercall sub_4A0EA0@<eax>(int result@<eax>);
// int __usercall sub_4A0EE0@<eax>(int result@<eax>);
// unsigned int __usercall sub_4A2600@<eax>(int a1@<esi>, int a2);
// void *__usercall sub_4A2700@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3);
// void *__usercall sub_4A2780@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3);
// int __usercall sub_4A2820@<eax>(int a1@<edi>, int a2, size_t a3);
// int __usercall sub_4A28E0@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3);
// int __usercall sub_4A2940@<eax>(char *a1@<edi>);
// int __usercall sub_4A2A00@<eax>(int a1@<ebx>);
char __cdecl sub_4A2AC0(char *a1, size_t a2, int a3);
char __cdecl sub_4A2B10(char *a1, unsigned int a2, int a3);
bool __cdecl sub_4A2B60(int a1, int a2);
// int __usercall sub_4A2B90@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7);
// int __usercall sub_4A2DA0@<eax>(void *a1@<eax>, int a2);
char *__cdecl sub_4A2DF0(int a1, int a2);
signed int __cdecl sub_4A2E80(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6);
bool __cdecl sub_4A2FB0(void *a1, int a2);
// BOOL __usercall sub_4A3030@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_4A30D0@<eax>(int result@<eax>);
unsigned int __fastcall sub_4A3160(unsigned int a1, int a2);
// int __usercall sub_4A3180@<eax>(int result@<eax>);
// int __usercall sub_4A3210@<eax>(int result@<eax>, int a2, int a3);
// int __usercall sub_4A3690@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>);
// void *__usercall sub_4A3740@<eax>(int a1@<edi>);
// int __usercall sub_4A37A0@<eax>(int result@<eax>, int a2@<edx>);
// signed int __usercall sub_4A3970@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>);
_WORD *__fastcall sub_4A39F0(int a1, int a2);
// unsigned int __usercall sub_4A3A60@<eax>(int a1@<esi>, unsigned int a2);
// unsigned int __usercall sub_4A3C10@<eax>(int a1@<esi>, int a2);
// int __usercall sub_4A3CE0@<eax>(int result@<eax>, int a2@<edi>, int a3);
// int __usercall sub_4A3D90@<eax>(int result@<eax>, __int16 a2@<cx>);
// unsigned int __usercall sub_4A3DD0@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3);
// signed int __usercall sub_4A3E30@<eax>(signed int result@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_4A3F10@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_4A44B0@<eax>(int a1@<eax>);
// int __usercall sub_4A46F0@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4);
// signed int __usercall sub_4A4790@<eax>(int a1@<esi>, int a2);
// unsigned int __usercall sub_4A4970@<eax>(int a1@<edi>);
// int __usercall sub_4A4AB0@<eax>(int a1@<eax>, int a2, int a3, int a4);
signed int __cdecl sub_4A4D60(int a1, int a2);
// signed int __usercall sub_4A5020@<eax>(int a1@<eax>);
// _WORD *__usercall sub_4A50F0@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
signed int __cdecl sub_4A5A30(int a1, int a2);
int __cdecl sub_4A5BA0(unsigned int a1, _BYTE *a2, unsigned int a3);
signed int __cdecl sub_4A5CA0(int a1);
// signed int __usercall sub_4A5CC0@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10);
// int (__cdecl *__usercall sub_4A6160@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD);
// int __usercall sub_4A61B0@<eax>(int result@<eax>, char a2, char a3, int a4, int a5);
signed int __cdecl sub_4A61D0(int a1, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_4A6580@<eax>(int a1@<edi>, int a2@<esi>, int a3);
// signed int __usercall sub_4A66C0@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4);
// signed int __usercall sub_4A6710@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9);
// int __usercall sub_4A67B0@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4);
signed int __cdecl sub_4A67D0(int a1);
// int __usercall sub_4A67E0@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_4A6E80@<eax>(int a1@<eax>, int a2, int a3);
// signed int __usercall sub_4A7860@<eax>(int a1@<edi>, int a2);
signed int __cdecl sub_4A7B90(int a1, int a2);
FARPROC __stdcall sub_4A7BA4(ULONG_PTR a1, ULONG_PTR Arguments);
void __cdecl sub_4AA445(); // idb
void __cdecl sub_4AA44F(); // idb
void __cdecl sub_4AA459(); // idb
void __cdecl sub_4AA463(); // idb
void __cdecl sub_4AA46D(); // idb
void __cdecl sub_4AA478(); // idb
int sub_4AA483();
int sub_4AA48D();
int sub_4AA497();
int sub_4AA4A1();
int sub_4AA4AB();
// LSTATUS __stdcall RegOpenKeyA(HKEY hKey, LPCSTR lpSubKey, PHKEY phkResult);
// LSTATUS __stdcall RegCloseKey(HKEY hKey);
// LSTATUS __stdcall RegOpenKeyExA(HKEY hKey, LPCSTR lpSubKey, DWORD ulOptions, REGSAM samDesired, PHKEY phkResult);
// LSTATUS __stdcall RegQueryValueExA(HKEY hKey, LPCSTR lpValueName, LPDWORD lpReserved, LPDWORD lpType, LPBYTE lpData, LPDWORD lpcbData);
// int __stdcall SetMapMode(HDC hdc, int iMode);
// BOOL __stdcall DeleteObject(HGDIOBJ ho);
// BOOL __stdcall PtVisible(HDC hdc, int x, int y);
// BOOL __stdcall RectVisible(HDC hdc, const RECT *lprect);
// BOOL __stdcall TextOutA(HDC hdc, int x, int y, LPCSTR lpString, int c);
// int __stdcall Escape(HDC hdc, int iEscape, int cjIn, LPCSTR pvIn, LPVOID pvOut);
// int __stdcall GetClipBox(HDC hdc, LPRECT lprect);
// HFONT __stdcall CreateFontA(int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, DWORD bItalic, DWORD bUnderline, DWORD bStrikeOut, DWORD iCharSet, DWORD iOutPrecision, DWORD iClipPrecision, DWORD iQuality, DWORD iPitchAndFamily, LPCSTR pszFaceName);
// void __stdcall SetLastError(DWORD dwErrCode);
// DWORD __stdcall GetCurrentThreadId();
// BOOL __stdcall GetVersionExA(LPOSVERSIONINFOA lpVersionInformation);
// BOOL __stdcall FreeLibrary(HMODULE hLibModule);
// BOOL __stdcall FreeResource(HGLOBAL hResData);
// int __stdcall GetLocaleInfoA(LCID Locale, LCTYPE LCType, LPSTR lpLCData, int cchData);
// HANDLE __stdcall GetCurrentThread();
// HLOCAL __stdcall LocalAlloc(UINT uFlags, SIZE_T uBytes);
// LCID __stdcall GetThreadLocale();
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// BOOL __stdcall LockFile(HANDLE hFile, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToLockLow, DWORD nNumberOfBytesToLockHigh);
// BOOL __stdcall UnlockFile(HANDLE hFile, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToUnlockLow, DWORD nNumberOfBytesToUnlockHigh);
// UINT __stdcall WinExec(LPCSTR lpCmdLine, UINT uCmdShow);
// HANDLE __stdcall CreateFileW(LPCWSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// BOOL __stdcall UnmapViewOfFile(LPCVOID lpBaseAddress);
// HRSRC __stdcall FindResourceW(HMODULE hModule, LPCWSTR lpName, LPCWSTR lpType);
// BOOL __stdcall IsProcessorFeaturePresent(DWORD ProcessorFeature);
// LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
// HANDLE __stdcall GetProcessHeap();
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// void __stdcall RaiseException(DWORD dwExceptionCode, DWORD dwExceptionFlags, DWORD nNumberOfArguments, const ULONG_PTR *lpArguments);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// DWORD __stdcall GetFileType(HANDLE hFile);
// UINT __stdcall GetACP();
// UINT __stdcall GetConsoleCP();
// BOOL __stdcall GetConsoleMode(HANDLE hConsoleHandle, LPDWORD lpMode);
// void __stdcall GetSystemInfo(LPSYSTEM_INFO lpSystemInfo);
// DWORD __stdcall GetTempPathA(DWORD nBufferLength, LPSTR lpBuffer);
// HANDLE __stdcall GetCurrentProcess();
// BOOL __stdcall SetProcessAffinityMask(HANDLE hProcess, DWORD_PTR dwProcessAffinityMask);
// HANDLE __stdcall CreateMutexA(LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCSTR lpName);
// BOOL __stdcall CreateDirectoryA(LPCSTR lpPathName, LPSECURITY_ATTRIBUTES lpSecurityAttributes);
// BOOL __stdcall FindClose(HANDLE hFindFile);
// BOOL __stdcall FindNextFileA(HANDLE hFindFile, LPWIN32_FIND_DATAA lpFindFileData);
// HANDLE __stdcall FindFirstFileA(LPCSTR lpFileName, LPWIN32_FIND_DATAA lpFindFileData);
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);
// BOOL __stdcall ReleaseMutex(HANDLE hMutex);
// HRSRC __stdcall FindResourceA(HMODULE hModule, LPCSTR lpName, LPCSTR lpType);
// HGLOBAL __stdcall LoadResource(HMODULE hModule, HRSRC hResInfo);
// LPVOID __stdcall LockResource(HGLOBAL hResData);
// DWORD __stdcall SizeofResource(HMODULE hModule, HRSRC hResInfo);
// void __stdcall OutputDebugStringA(LPCSTR lpOutputString);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// BOOL __stdcall SetThreadPriority(HANDLE hThread, int nPriority);
// BOOL __stdcall SetEvent(HANDLE hEvent);
// BOOL __stdcall TerminateThread(HANDLE hThread, DWORD dwExitCode);
// HANDLE __stdcall CreateThread(LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, DWORD dwCreationFlags, LPDWORD lpThreadId);
// DWORD __stdcall GetTickCount();
// void __stdcall Sleep(DWORD dwMilliseconds);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// HANDLE __stdcall CreateEventA(LPSECURITY_ATTRIBUTES lpEventAttributes, BOOL bManualReset, BOOL bInitialState, LPCSTR lpName);
// BOOL __stdcall SetupComm(HANDLE hFile, DWORD dwInQueue, DWORD dwOutQueue);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// int __stdcall lstrlenA(LPCSTR lpString);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// BOOL __stdcall WaitCommEvent(HANDLE hFile, LPDWORD lpEvtMask, LPOVERLAPPED lpOverlapped);
// DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
// BOOL __stdcall GetCommTimeouts(HANDLE hFile, LPCOMMTIMEOUTS lpCommTimeouts);
// BOOL __stdcall SetCommTimeouts(HANDLE hFile, LPCOMMTIMEOUTS lpCommTimeouts);
// BOOL __stdcall GetCommState(HANDLE hFile, LPDCB lpDCB);
// BOOL __stdcall SetCommState(HANDLE hFile, LPDCB lpDCB);
// BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// BOOL __stdcall GetOverlappedResult(HANDLE hFile, LPOVERLAPPED lpOverlapped, LPDWORD lpNumberOfBytesTransferred, BOOL bWait);
// BOOL __stdcall SetCommMask(HANDLE hFile, DWORD dwEvtMask);
// BOOL __stdcall PurgeComm(HANDLE hFile, DWORD dwFlags);
// BOOL __stdcall ClearCommError(HANDLE hFile, LPDWORD lpErrors, LPCOMSTAT lpStat);
// DWORD __stdcall GetLastError();
// BOOL __stdcall PathStripToRootA(LPSTR pszPath);
// BOOL __stdcall ModifyMenuA(HMENU hMnu, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem);
// int __stdcall DrawTextA(HDC hdc, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format);
// HDC __stdcall GetDC(HWND hWnd);
// int __stdcall ReleaseDC(HWND hWnd, HDC hDC);
// HDC __stdcall GetWindowDC(HWND hWnd);
// BOOL __stdcall UnregisterClassA(LPCSTR lpClassName, HINSTANCE hInstance);
// int __stdcall GetWindowTextLengthA(HWND hWnd);
// HWND __stdcall GetParent(HWND hWnd);
// BOOL __stdcall SetWindowPlacement(HWND hWnd, const WINDOWPLACEMENT *lpwndpl);
// int __stdcall GetDlgCtrlID(HWND hWnd);
// BOOL __stdcall GetWindowPlacement(HWND hWnd, WINDOWPLACEMENT *lpwndpl);
// LONG __stdcall GetWindowLongA(HWND hWnd, int nIndex);
// LONG __stdcall SetWindowLongA(HWND hWnd, int nIndex, LONG dwNewLong);
// BOOL __stdcall SetWindowPos(HWND hWnd, HWND hWndInsertAfter, int X, int Y, int cx, int cy, UINT uFlags);
// HCURSOR __stdcall LoadCursorA(HINSTANCE hInstance, LPCSTR lpCursorName);
// HCURSOR __stdcall SetCursor(HCURSOR hCursor);
// BOOL __stdcall KillTimer(HWND hWnd, UINT_PTR uIDEvent);
// BOOL __stdcall ClientToScreen(HWND hWnd, LPPOINT lpPoint);
// BOOL __stdcall GetClientRect(HWND hWnd, LPRECT lpRect);
// BOOL __stdcall DrawMenuBar(HWND hWnd);
// HMENU __stdcall GetMenu(HWND hWnd);
// HMENU __stdcall LoadMenuA(HINSTANCE hInstance, LPCSTR lpMenuName);
// BOOL __stdcall RemoveMenu(HMENU hMenu, UINT uPosition, UINT uFlags);
// BOOL __stdcall InsertMenuA(HMENU hMenu, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem);
// HMENU __stdcall GetSubMenu(HMENU hMenu, int nPos);
// UINT __stdcall GetMenuState(HMENU hMenu, UINT uId, UINT uFlags);
// int __stdcall GetMenuItemCount(HMENU hMenu);
// BOOL __stdcall EnableMenuItem(HMENU hMenu, UINT uIDEnableItem, UINT uEnable);
// DWORD __stdcall CheckMenuItem(HMENU hMenu, UINT uIDCheckItem, UINT uCheck);
// BOOL __stdcall EnumDisplaySettingsA(LPCSTR lpszDeviceName, DWORD iModeNum, DEVMODEA *lpDevMode);
// HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
// int __stdcall GetWindowTextA(HWND hWnd, LPSTR lpString, int nMaxCount);
// BOOL __stdcall WinHelpA(HWND hWndMain, LPCSTR lpszHelp, UINT uCommand, ULONG_PTR dwData);
// UINT_PTR __stdcall SetTimer(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
// BOOL __stdcall OffsetRect(LPRECT lprc, int dx, int dy);
// BOOL __stdcall SetRect(LPRECT lprc, int xLeft, int yTop, int xRight, int yBottom);
// BOOL __stdcall GetWindowRect(HWND hWnd, LPRECT lpRect);
// BOOL __stdcall PostMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// HWND __stdcall GetDesktopWindow();
// LRESULT __stdcall SendMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// BOOL __stdcall EnableWindow(HWND hWnd, BOOL bEnable);
// BOOL __stdcall InvalidateRect(HWND hWnd, const RECT *lpRect, BOOL bErase);
// BOOL __stdcall PlaySoundA(LPCSTR pszSound, HMODULE hmod, DWORD fdwSound);
// int __stdcall WSACleanup();
// int __stdcall getsockopt(SOCKET s, int level, int optname, char *optval, int *optlen);
// u_short __stdcall htons(u_short hostshort);
// SOCKET __stdcall socket(int af, int type, int protocol);
// int __stdcall closesocket(SOCKET s);
// u_short __stdcall ntohs(u_short netshort);
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
// int __stdcall WSAGetLastError();
// struct hostent *__stdcall gethostbyname(const char *name);
// unsigned __int32 __stdcall inet_addr(const char *cp);
// char *__stdcall inet_ntoa(struct in_addr in);
// int __stdcall sendto(SOCKET s, const char *buf, int len, int flags, const struct sockaddr *to, int tolen);
// int __stdcall recvfrom(SOCKET s, char *buf, int len, int flags, struct sockaddr *from, int *fromlen);
// int __stdcall bind(SOCKET s, const struct sockaddr *name, int namelen);
// int HWM_boot(void); weak

//-------------------------------------------------------------------------
// Data declarations

struct HINSTANCE__ _ImageBase = { 9460301 }; // idb
__int16 word_400008 = 4; // weak
_UNKNOWN loc_412061; // weak
_UNKNOWN loc_417820; // weak
_UNKNOWN loc_48FC4B; // weak
// extern _UNKNOWN loc_495F24; weak
// extern _UNKNOWN loc_49C204; weak
_UNKNOWN loc_4A24DE; // weak
_UNKNOWN loc_4A325E; // weak
_UNKNOWN loc_4A96DE; // weak
// extern _UNKNOWN TSK_sch_running; weak
// extern _UNKNOWN hwm_ethr_csr_data; weak
int (__thiscall *off_4AB7E4)(void *, char) = &sub_401CD0; // weak
int (*off_4AB81C)() = &sub_41BFBF; // weak
int (*off_4AB83C)() = &sub_41D02E; // weak
int (*off_4AB970)() = &sub_421185; // weak
int (__thiscall *off_4AB9BC)(void *, char) = &sub_402AC0; // weak
int (__thiscall *off_4AB9C8)(void *, char) = &sub_4044B0; // weak
int (__thiscall *off_4AB9E0)(void *, char) = &sub_4044B0; // weak
int (__thiscall *off_4AB9EC)(void *, char) = &sub_404B40; // weak
char name[] = { 'l', 'o', 'c', 'a' }; // idb
int (__thiscall *off_4ABAC4)(void *, char) = &sub_4063E0; // weak
__int16 word_4ABC34[] = { 5001 }; // weak
__int16 word_4ABC3C[] = { 6001 }; // weak
char *off_4ABC7C = "MFD1"; // weak
int dword_4ABC80[] = { 4 }; // weak
int (*off_4ABCEC)() = &sub_4241C7; // weak
int (*off_4ABE48)() = &sub_4245D4; // weak
int (*off_4ABEFC)() = &sub_42250F; // weak
int (*off_4ABF0C)() = &sub_424E23; // weak
int (*off_4AC04C)() = &sub_424E29; // weak
int (*off_4AC18C)() = &sub_424E2F; // weak
int (*off_4AC2E4)() = &sub_424E35; // weak
int (*off_4AC434)() = &sub_424F3B; // weak
int (*off_4AC574)() = &sub_424A6D; // weak
int (*off_4AC584)() = &sub_424A6D; // weak
int (*off_4AC594)() = &sub_424A6D; // weak
int (*off_4AC634)() = &sub_42251B; // weak
int (*off_4AC744)() = &sub_4241C7; // weak
CHAR pszFaceName[4] = { '\0', '\0', '\0', '\0' }; // idb
int (*off_4ACA14)() = &sub_4245D4; // weak
int (*off_4ACE4C)() = &sub_4241C7; // weak
char word_4ACFA8[] = { '%', 's' }; // idb
int dword_4AD2E8 = 707668572; // weak
int (*off_4AD2F0)() = &sub_4245D4; // weak
int (*off_4AD41C)() = &sub_4241C7; // weak
int (*off_4AD5B0)() = &sub_4245D4; // weak
int (*off_4AD724)() = &sub_424F35; // weak
int (*off_4AD864)() = &sub_4241C7; // weak
int (*off_4AD9C0)() = &sub_4245D4; // weak
int (*off_4ADA60)() = &sub_426A77; // weak
int (*off_4ADA84)() = &sub_426F02; // weak
unsigned int dword_4ADBD0 = 0u; // idb
int (*off_4ADBEC)() = &sub_42B069; // weak
int dword_4ADD6C = 977818693; // weak
char (*off_4ADE70)[4] = &pszFaceName; // weak
char (*off_4AE2B0)[4] = &pszFaceName; // weak
int (*off_4B18CC)() = &sub_427F9E; // weak
char word_4B1AF8[] = { '\\', '\0' }; // idb
int (*off_4B202C)() = &sub_42AB8A; // weak
int *SIM_intf = &dword_534C78; // weak
_UNKNOWN unk_4B2928; // weak
int dword_4B292C[] = { 130 }; // weak
_UNKNOWN unk_4B2990; // weak
int dword_4B2994[] = { 2 }; // weak
void *tsk_app_hdr_ptr = &tsk_app_hdr1; // weak
_UNKNOWN unk_4B29B4; // weak
char *off_4B31AC = "CMemoryException"; // weak
char *off_4B31C8 = "CNotSupportedException"; // weak
char *off_4B31E4 = "CInvalidArgException"; // weak
char *off_4B3264 = "COleException"; // weak
char *off_4B32B0 = "CWinThread"; // weak
char *off_4B3368 = "CSyncObject"; // weak
char *off_4B33A4 = "CCriticalSection"; // weak
int (*off_4B33C4)() = &sub_41BFC5; // weak
void *off_4B3458 = &unk_4B3E00; // weak
char *off_4B3460 = "CWnd"; // weak
void (__thiscall *off_4B38AC)(CTestCmdUI *this, int) = &CTestCmdUI::Enable; // weak
int (__thiscall *off_4B38E0)(void *, char) = &sub_41D65B; // weak
int (*off_4B3A70)() = &sub_421C95; // weak
_UNKNOWN unk_4B3DAC; // weak
_UNKNOWN unk_4B3DE4; // weak
_UNKNOWN unk_4B3E00; // weak
_UNKNOWN unk_4B3E10; // weak
_UNKNOWN unk_4B3E24; // weak
_UNKNOWN unk_4B3E50; // weak
char *off_4B3EE4 = "CResourceException"; // weak
char *off_4B3F00 = "CUserException"; // weak
void **off_4B3F1C = &off_4B3EBC; // weak
char *off_4B3F38 = "CClientDC"; // weak
char *off_4B3F54 = "CWindowDC"; // weak
char *off_4B3F70 = "CPaintDC"; // weak
char *off_4B3F8C = "CGdiObject"; // weak
char *off_4B3FA8 = "CBrush"; // weak
char *off_4B3FC4 = "CFont"; // weak
char *off_4B3FE0 = "CBitmap"; // weak
char *off_4B3FFC = "CRgn"; // weak
int (*off_4B4040)() = &sub_4224EB; // weak
int (*off_4B405C)() = &sub_4224F1; // weak
int (*off_4B40FC)() = &sub_4224FD; // weak
int (*off_4B417C)() = &sub_422503; // weak
int (*off_4B4278)() = &sub_422515; // weak
int (*off_4B4288)() = &sub_422521; // weak
char *off_4B42B0 = "CPtrList"; // weak
int (*off_4B42D0)() = &sub_4235A9; // weak
int (__thiscall *off_4B4348)(void *, char) = &unknown_libname_76; // weak
char *off_4B438C = "CDialog"; // weak
int (*off_4B43AC)() = &sub_4241C7; // weak
int (*off_4B4510)() = &sub_421185; // weak
char *off_4B45F4 = "CPtrArray"; // weak
int (*off_4B4614)() = &sub_424A6D; // weak
char *off_4B4648 = "CStatic"; // weak
char *off_4B4664 = "CButton"; // weak
char *off_4B4680 = "CListBox"; // weak
char *off_4B469C = "CComboBox"; // weak
char *off_4B4708 = "CSliderCtrl"; // weak
char *off_4B4724 = "CProgressCtrl"; // weak
char *off_4B4740 = "CImageList"; // weak
int (*off_4B47AC)() = &sub_424F41; // weak
int (*off_4B4808)() = &sub_422527; // weak
char *off_4B4820 = "CStdioFile"; // weak
int (*off_4B48A8)() = &sub_42FF3A; // weak
char *off_4B4910 = "CFileDialog"; // weak
char *off_4B4AF8 = "CWinApp"; // weak
int (*off_4B4B14)() = &sub_421C95; // weak
int (*off_4B4D6C)() = &sub_426F02; // weak
char *off_4B4E80 = "CFrameWnd"; // weak
int (*off_4B4EDC)() = &sub_42C880; // weak
int (*off_4B50D0)() = &sub_421185; // weak
int (*off_4B5584)() = &sub_42ABDC; // weak
char *off_4B55D0 = "CMenu"; // weak
char *off_4B5610 = "CStatusBar"; // weak
int (*off_4B57CC)() = &sub_43294A; // weak
char *off_4B593C = "CObject"; // weak
char *off_4B59BC = "CArchiveException"; // weak
int (*off_4B59DC)() = &sub_42DEC5; // weak
char *off_4B5A10 = "CMapPtrToPtr"; // weak
int (*off_4B5A30)() = &sub_42E5E5; // weak
char *off_4B5A50 = "CFile"; // weak
char *off_4B5B10 = "CFileException"; // weak
int (*off_4B5B2C)() = &sub_4245D4; // weak
int (*off_4B5C0C)() = &sub_4303DF; // weak
int (*off_4B5C90)() = &sub_42C880; // weak
int (*off_4B5C9C)() = &sub_421185; // weak
int (*off_4B5E84)() = &sub_432C15; // weak
char *off_4B5EE8 = "CMapStringToPtr"; // weak
int (*off_4B5F08)() = &sub_433D32; // weak
char *off_4B5F24 = "CToolTipCtrl"; // weak
_UNKNOWN unk_4B5FE1; // weak
int (*off_4B6098)() = &sub_421185; // weak
_UNKNOWN unk_4B6138; // weak
_UNKNOWN unk_4B6160; // weak
int dword_4B6968[] = { 1 }; // weak
float flt_4B6A88[] = {  0.0 }; // weak
float flt_4B6A8C[] = {  0.0065130978 }; // weak
float flt_4B6E88[] = {  0.0 }; // weak
float flt_4B6E8C[] = {  0.0022629909 }; // weak
int (__thiscall *off_4B7288)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B72E8)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B72F8)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7308)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7318)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7328)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7338)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7348)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7358)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7368)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B737C)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B738C)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B739C)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B73AC)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B73BC)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B73CC)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B73E0)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B73F0)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7404)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7414)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7424)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7434)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7444)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7454)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7464)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7474)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7484)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7494)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B74A4)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B74B4)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B74C4)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B74D4)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B74E4)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B74F4)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7524)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7534)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7544)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7570)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7580)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B7590)(void *, char) = &sub_442AE9; // weak
int (__thiscall *off_4B75A0)(void *, char) = &sub_44491D; // weak
int (__thiscall *off_4B75B0)(void *, char) = &sub_4439FA; // weak
char aGenuineintel[13] = "GenuineIntel"; // weak
char *off_4B9640[124] =
{
  "Bogus message code %d",
  "Sorry, there are legal restrictions on arithmetic coding",
  "ALIGN_TYPE is wrong, please fix",
  "MAX_ALLOC_CHUNK is wrong, please fix",
  "Bogus buffer control mode",
  "Invalid component ID %d in SOS",
  "DCT coefficient out of range",
  "IDCT output block size %d not supported",
  "Bogus Huffman table definition",
  "Bogus input colorspace",
  "Bogus JPEG colorspace",
  "Bogus marker length",
  "Wrong JPEG library version: library is %d, caller expects %d",
  "Sampling factors too large for interleaved scan",
  "Invalid memory pool code %d",
  "Unsupported JPEG data precision %d",
  "Invalid progressive parameters Ss=%d Se=%d Ah=%d Al=%d",
  "Invalid progressive parameters at scan script entry %d",
  "Bogus sampling factors",
  "Invalid scan script at entry %d",
  "Improper call to JPEG library in state %d",
  "JPEG parameter struct mismatch: library thinks size is %u, caller expects %u",
  "Bogus virtual array access",
  "Buffer passed to JPEG library is too small",
  "Suspension not allowed here",
  "CCIR601 sampling not implemented yet",
  "Too many color components: %d, max %d",
  "Unsupported color conversion request",
  "Bogus DAC index %d",
  "Bogus DAC value 0x%x",
  "Bogus DHT index %d",
  "Bogus DQT index %d",
  "Empty JPEG image (DNL not supported)",
  "Read from EMS failed",
  "Write to EMS failed",
  "Didn't expect more than one scan",
  "Input file read error",
  "Output file write error --- out of disk space?",
  "Fractional sampling not implemented yet",
  "Huffman code size table overflow",
  "Missing Huffman code table entry",
  "Maximum supported image dimension is %u pixels",
  "Empty input file",
  "Premature end of input file",
  "Cannot transcode due to multiple use of quantization table %d",
  "Scan script does not transmit all data",
  "Invalid color quantization mode change",
  "Not implemented yet",
  "Requested feature was omitted at compile time",
  "Backing store not supported",
  "Huffman table 0x%02x was not defined",
  "JPEG datastream contains no image",
  "Quantization table 0x%02x was not defined",
  "Not a JPEG file: starts with 0x%02x 0x%02x",
  "Insufficient memory (case %d)",
  "Cannot quantize more than %d color components",
  "Cannot quantize to fewer than %d colors",
  "Cannot quantize to more than %d colors",
  "Invalid JPEG file structure: two SOF markers",
  "Invalid JPEG file structure: missing SOS marker",
  "Unsupported JPEG process: SOF type 0x%02x",
  "Invalid JPEG file structure: two SOI markers",
  "Invalid JPEG file structure: SOS before SOF",
  "Failed to create temporary file %s",
  "Read failed on temporary file",
  "Seek failed on temporary file",
  "Write failed on temporary file --- out of disk space?",
  "Application transferred too few scanlines",
  "Unsupported marker type 0x%02x",
  "Virtual array controller messed up",
  "Image too wide for this implementation",
  "Read from XMS failed",
  "Write to XMS failed",
  "Copyright (C) 1998, Thomas G. Lane",
  "6b  27-Mar-1998",
  "Caution: quantization tables are too coarse for baseline JPEG",
  "Adobe APP14 marker: version %d, flags 0x%04x 0x%04x, transform %d",
  "Unknown APP0 marker (not JFIF), length %u",
  "Unknown APP14 marker (not Adobe), length %u",
  "Define Arithmetic Table 0x%02x: 0x%02x",
  "Define Huffman Table 0x%02x",
  "Define Quantization Table %d  precision %d",
  "Define Restart Interval %u",
  "Freed EMS handle %u",
  "Obtained EMS handle %u",
  "End Of Image",
  "        %3d %3d %3d %3d %3d %3d %3d %3d",
  "JFIF APP0 marker: version %d.%02d, density %dx%d  %d",
  "Warning: thumbnail image size does not match data length %u",
  "JFIF extension marker: type 0x%02x, length %u",
  "    with %d x %d thumbnail image",
  "Miscellaneous marker 0x%02x, length %u",
  "Unexpected marker 0x%02x",
  "        %4u %4u %4u %4u %4u %4u %4u %4u",
  "Quantizing to %d = %d*%d*%d colors",
  "Quantizing to %d colors",
  "Selected %d colors for quantization",
  "At marker 0x%02x, recovery action %d",
  "RST%d",
  "Smoothing not supported with nonstandard sampling ratios",
  "Start Of Frame 0x%02x: width=%u, height=%u, components=%d",
  "    Component %d: %dhx%dv q=%d",
  "Start of Image",
  "Start Of Scan: %d components",
  "    Component %d: dc=%d ac=%d",
  "  Ss=%d, Se=%d, Ah=%d, Al=%d",
  "Closed temporary file %s",
  "Opened temporary file %s",
  "JFIF extension marker: JPEG-compressed thumbnail image, length %u",
  "JFIF extension marker: palette thumbnail image, length %u",
  "JFIF extension marker: RGB thumbnail image, length %u",
  "Unrecognized component IDs %d %d %d, assuming YCbCr",
  "Freed XMS handle %u",
  "Obtained XMS handle %u",
  "Unknown Adobe color transform code %d",
  "Inconsistent progression sequence for component %d coefficient %d",
  "Corrupt JPEG data: %u extraneous bytes before marker 0x%02x",
  "Corrupt JPEG data: premature end of data segment",
  "Corrupt JPEG data: bad Huffman code",
  "Warning: unknown JFIF revision number %d.%02d",
  "Premature end of JPEG file",
  "Corrupt JPEG data: found marker 0x%02x instead of RST%d",
  "Invalid SOS parameters for sequential JPEG",
  "Application transferred too many scanlines"
}; // weak
char byte_4BAAC8[] = { '0' }; // weak
int dword_4BAAE4[] = { 128 }; // weak
int dword_4BAB00[] = { 255 }; // weak
char byte_4BAE14[12] = { '', 'P', 'N', 'G', '\r', '\n', '\x1A', '\n', '\0', '\0', '\0', '\0' }; // idb
_UNKNOWN unk_4BAE20; // weak
_UNKNOWN unk_4BAF20; // weak
_UNKNOWN unk_4BB020; // weak
_UNKNOWN unk_4BB038; // weak
_UNKNOWN unk_4BB0DC; // weak
_UNKNOWN unk_4BB0F0; // weak
_UNKNOWN unk_4BB0FC; // weak
_UNKNOWN unk_4BB110; // weak
_UNKNOWN unk_4BB1B4; // weak
_UNKNOWN unk_4BB1C8; // weak
_UNKNOWN unk_4BB1D8; // weak
_UNKNOWN unk_4BB1F0; // weak
_UNKNOWN unk_4BB210; // weak
_UNKNOWN unk_4BB230; // weak
_UNKNOWN unk_4BB248; // weak
_UNKNOWN unk_4BB268; // weak
_UNKNOWN unk_4BB278; // weak
_UNKNOWN unk_4BB288; // weak
_UNKNOWN unk_4BB294; // weak
_UNKNOWN unk_4BB2A4; // weak
_UNKNOWN unk_4BB2B4; // weak
_UNKNOWN unk_4BB2D4; // weak
_UNKNOWN unk_4BB2F4; // weak
int dword_4BB604[] = { 1600 }; // weak
int dword_4BB60C[] = { 0 }; // weak
__int64 qword_4BB618 = 4575657221408423936i64; // weak
__int64 qword_4BB628 = -4647714814380998656i64; // weak
__int64 qword_4BB638 = 4575657222473777152i64; // weak
__int64 qword_4BB640 = 4611686019501129728i64; // weak
__int64 qword_4BB648 = 4611686019505324032i64; // weak
__int64 qword_4BB650 = 2147483648i64; // weak
__int64 qword_4BB658 = -9223372036854775808i64; // weak
__int64 qword_4BB660 = -9223372034707292160i64; // weak
__int64 qword_4BB670 = 9223372036854775807i64; // weak
__int64 qword_4BB678 = 9223372034707292159i64; // weak
__int64 qword_4BB680 = 3746994890844667904i64; // weak
__int64 qword_4BB688 = 4294967295i64; // weak
__int64 qword_4BB6A0 = 4539628425446424576i64; // weak
__int64 qword_4BB6A8 = 36028797027352576i64; // weak
__int64 qword_4BB6B0 = 2147483648i64; // weak
__int64 qword_4BB6B8 = -9223372036854775808i64; // weak
__int64 qword_4BB6C0 = 4575657222473777152i64; // weak
__int64 qword_4BB6C8 = 4539628425446424576i64; // weak
__int64 qword_4BB6D0 = 4611686019501129728i64; // weak
__int64 qword_4BB6D8 = 4629700418014806016i64; // weak
__int64 qword_4BB6F8 = 4575657221408423936i64; // weak
__int64 qword_4BB700 = 1065353216i64; // weak
__int64 qword_4BB708 = -9223372034707292160i64; // weak
__int64 qword_4BB710 = -4611686015206162432i64; // weak
__int64 qword_4BB718 = 4575657224629649408i64; // weak
__int64 qword_4BB720 = 4575656500919271256i64; // weak
char aAuthenticamd[13] = "AuthenticAMD"; // weak
char aUnknownvendr[13] = "UnknownVendr"; // weak
int dword_4BB758[] = { 0 }; // weak
_UNKNOWN unk_4BB75C; // weak
_UNKNOWN unk_4BB858; // weak
int dword_4BB91C[] = { 0 }; // weak
int dword_4BB938[] = { 8 }; // weak
int dword_4BB954[] = { 0 }; // weak
int dword_4BB970[] = { 8 }; // weak
int dword_4BBE20[] = { 0 }; // weak
int dword_4BE288[] = { 0 }; // weak
int dword_4BE2C8[] = { 0 }; // weak
int dword_4BE308[] = { 0 }; // weak
int dword_4BE348[] = { 0 }; // weak
double dbl_4BE388 =  1.0; // weak
__int64 qword_4BE3C8 = 844437815230467i64; // weak
__int64 qword_4BE3D0 = 2533313445691401i64; // weak
__int64 qword_4BE3D8 = 2533313445691404i64; // weak
__int64 qword_4BE3E0 = 844437815230468i64; // weak
__int64 qword_4BE3E8 = 1970354902204423i64; // weak
__int64 qword_4BE3F0 = 2251834173947912i64; // weak
__int64 qword_4BE3F8 = 281479271743489i64; // weak
__int64 qword_4BE400 = 562958543486978i64; // weak
__int64 qword_4BE408 = -72057594037927936i64; // weak
__int64 qword_4BE410 = 255i64; // weak
__int64 qword_4BE418 = 0i64; // weak
__int64 qword_4BE420 = 6465480218571921850i64; // weak
__int64 qword_4BE428 = 124695416012800i64; // weak
__int64 qword_4BE430 = 231221069742080i64; // weak
__int64 qword_4BE438 = 8172038783814889832i64; // weak
__int64 qword_4BE440 = 281474976710657i64; // weak
__int64 qword_4BE448 = 8589541376i64; // weak
__int64 qword_4BE450 = 65536i64; // weak
__int64 qword_4BE458 = 562924183617537i64; // weak
__int128 xmmword_4BE460 = 0x800000000000000080000000i64; // weak
__int128 xmmword_4BE470 = 0x800000008000000000000000i64; // weak
__int128 xmmword_4BE480 = 0x80000000000000008000000000000000i64; // weak
_UNKNOWN unk_4BE490; // weak
_UNKNOWN unk_4BE4A0; // weak
int dword_4BE4B0[] = { 1 }; // weak
__int64 qword_4BE4C0 = -4719772406288220160i64; // weak
int dword_4BE4C8[] = { 16 }; // weak
__int16 word_4BE590 = 16384; // weak
__int16 word_4BE592 = 22725; // weak
__int16 word_4BE594 = 21407; // weak
__int16 word_4BE596 = 19266; // weak
__int16 word_4BE598 = 16384; // weak
__int16 word_4BE59A = 12873; // weak
__int16 word_4BE59C = 8867; // weak
float flt_4BE610 =  16384.5; // weak
__int64 qword_4BE618 = 281474976776192i64; // weak
__int64 qword_4BE628 = 71777214294589695i64; // weak
__int64 qword_4BE630 = 562954248519681i64; // weak
__int64 qword_4C2840 = 10505490008462i64; // weak
__int64 qword_4C2848 = 13726715481212i64; // weak
__int64 qword_4C2850 = 19039590027601i64; // weak
__int64 qword_4C2858 = 26929444952190i64; // weak
__int64 qword_4C2860 = 31666793880781i64; // weak
__int64 qword_4C2868 = 41373419972001i64; // weak
__int64 qword_4C2870 = 52823802785803i64; // weak
__int64 qword_4C2878 = 65012919974689i64; // weak
__int64 qword_4C2880 = 69015829495493i64; // weak
__int64 qword_4C2888 = 72237054968243i64; // weak
__int64 qword_4C2890 = 90172838400515i64; // weak
__int64 qword_4C2898 = 108112916800084i64; // weak
__int64 qword_4C28A0 = -1i64; // weak
__int64 qword_4C28A8 = 4294967297i64; // weak
__int64 qword_4C28B0 = 4294967297i64; // weak
__int64 qword_4C28B8 = 4398046512128i64; // weak
__int64 qword_4C28C0 = 562949953552384i64; // weak
__int64 qword_4C28C8 = 4393751544831i64; // weak
__int64 qword_4C28D0 = 65012919965822i64; // weak
__int64 qword_4C28D8 = 19039590023168i64; // weak
__int64 qword_4C28E0 = 7085288114566660096i64; // weak
__int64 qword_4C28E8 = 688487794136514560i64; // weak
__int64 qword_4C28F0 = 2075315004663595008i64; // weak
__int64 qword_4C28F8 = 4523021400972984320i64; // weak
__int64 qword_4C2900 = 2711448450653749248i64; // weak
__int64 qword_4C2908 = 0i64; // weak
__int64 qword_4C2910 = 36029346783166592i64; // weak
__int64 qword_4C2918 = -51228819435421784i64; // weak
__int64 qword_4C2920 = 72059135947964775i64; // weak
__int64 qword_4C2928 = 72059543969857990i64; // weak
__int64 qword_4C2930 = -4294967296i64; // weak
_UNKNOWN unk_4C2C68; // weak
_UNKNOWN unk_4C2CE8; // weak
_UNKNOWN unk_4C2D68; // weak
_UNKNOWN unk_4C2DE0; // weak
_UNKNOWN unk_4C35FC; // weak
void *off_4C3C4C = &loc_435241; // weak
_UNKNOWN unk_4C3CA0; // weak
char *off_4C3CC8 = "/shr_mem/udb_intf.shr"; // weak
char byte_4C3CE8[] = { '\0' }; // weak
char byte_4C3CE9[] = { '\0' }; // weak
char byte_4C3CEA[] = { '\xFF' }; // weak
char byte_4C3CEB[] = { '\xFF' }; // weak
char byte_4C3CEC[] = { '\xFF' }; // weak
char byte_4C3D1C[] = { '\x05' }; // weak
char byte_4C3D20[] = { '\b' }; // weak
int dword_4C3D24[] = { 9 }; // weak
char byte_4C3D70[] = { ' ' }; // weak
char byte_4C3D78[] = { ' ' }; // weak
_UNKNOWN unk_4C3D80; // weak
char aWgs84[21] = "WGS 84              "; // weak
_UNKNOWN unk_4C7EA0; // weak
int dword_4C7EA4[] = { 1312 }; // weak
int (__cdecl *off_4C8680)(int, size_t, void *) = &sub_477DF0; // weak
_UNKNOWN unk_4C86F8; // weak
char *off_4C8758 = "/shr_mem/pvt_intf.shr"; // weak
char a006D0170[11] = "006-D0170-"; // weak
char *off_4C8838 = "006-D0170-"; // weak
int (__cdecl *(*off_4C883C)[2])(int, int) = &off_4E88E8; // weak
char *off_4CD5DC = "/shr_mem/nav_intf.shr"; // weak
int dword_4D10A4[] = { 88 }; // weak
__int16 word_4D1554[] = { 836 }; // weak
char *off_4D1574 = "/shr_mem/iop_a_pkt_intf.shr"; // weak
char *off_4D1588 = "/shr_mem/iop_b_pkt_intf.shr"; // weak
char *off_4D159C = "/shr_mem/iop_c_pkt_intf.shr"; // weak
char *off_4D15B0 = "/shr_mem/iop_d_dbg_pkt_intf.shr"; // weak
char *off_4D15C4 = "/shr_mem/iop_d_pkt_intf.shr"; // weak
char *off_4D15D8 = "/shr_mem/iop_m_pkt_intf.shr"; // weak
int (__cdecl *off_4D22A8[3])(char) = { &sub_47B360, &sub_47B270, &sub_47B230 }; // weak
int (__cdecl *off_4E88E8[2])(int, int) = { &sub_47B6E0, &sub_47B740 }; // weak
_UNKNOWN unk_4EA508; // weak
int dword_4EA50C[] = { 6006 }; // weak
_UNKNOWN unk_4EC9D8; // weak
char byte_4EC9D9[] = { '\0' }; // weak
_BYTE word_4EF53E[26] =
{
  76,
  0,
  0,
  0,
  31,
  0,
  59,
  0,
  90,
  0,
  120,
  0,
  151,
  0,
  181,
  0,
  212,
  0,
  243,
  0,
  17,
  1,
  48,
  1,
  78,
  1
}; // idb
__int16 word_4EF558[] = { 43 }; // weak
char byte_4EF55C[] = { '\x06' }; // weak
_UNKNOWN unk_4EFA60; // weak
_UNKNOWN unk_4EFA78; // weak
_UNKNOWN unk_4EFAC0; // weak
int dword_4EFAC4[] = { 6767 }; // weak
_UNKNOWN unk_4EFAD0; // weak
_UNKNOWN unk_4EFAE8; // weak
_UNKNOWN unk_4EFB00; // weak
int dword_4EFB04[] = { 6769 }; // weak
_UNKNOWN unk_4EFB18; // weak
int dword_4EFB1C[] = { 6093 }; // weak
_UNKNOWN unk_4F3E88; // weak
int dword_4F3E8C[] = { 0 }; // weak
_UNKNOWN unk_4F3EA0; // weak
int dword_4F3EA4[] = { 0 }; // weak
_UNKNOWN unk_4F3EC8; // weak
int dword_4F3ECC[] = { 0 }; // weak
_UNKNOWN unk_4F3EF8; // weak
int dword_4F3EFC[] = { 0 }; // weak
__int16 word_4F4E20[] = { 1565 }; // weak
__int16 word_4F4E24[] = { 534 }; // weak
char byte_4F4E28[] = { '\x04' }; // weak
__int16 word_4F4E2A[] = { 6512 }; // weak
int dword_4F4E40[] = { 118000 }; // weak
int dword_4F8898 = 64; // weak
__int16 word_4F889C[] = { 6782 }; // weak
__int16 word_4F88A0[] = { 128 }; // weak
char *off_4FA760 = "/shr_mem/iop_gtx_intf.shr"; // weak
_UNKNOWN unk_4FC210; // weak
int dword_4FC214[] = { 0 }; // weak
char byte_4FF20A[] = { '\x04' }; // weak
char byte_4FF20F[] = { '\a' }; // weak
_UNKNOWN unk_4FFBC0; // weak
int dword_4FFBC4[] = { 6829 }; // weak
__int16 word_500BFA[] = { 233 }; // weak
int dword_500C00[] = { 6201 }; // weak
__int16 word_5037B0[] = { 114 }; // weak
__int16 word_5038C0[] = { 551 }; // weak
_UNKNOWN unk_50A5A8; // weak
int dword_50A5AC[] = { 3535 }; // weak
_UNKNOWN unk_50A5E0; // weak
int dword_50A5E4[] = { 6813 }; // weak
_UNKNOWN unk_50A618; // weak
int dword_50A61C[] = { 9036 }; // weak
_UNKNOWN unk_50A650; // weak
int dword_50A654[] = { 6763 }; // weak
int dword_50D3A0[] = { 0 }; // weak
int (__thiscall *off_50DC64)(void *, char) = &sub_480F60; // weak
int (__thiscall *off_50DC6C)(void *, char) = &sub_481D92; // weak
int (__thiscall *off_50E3CC)(void *, char) = &sub_48A4B6; // weak
int (__thiscall *off_51B08C)(void *, char) = &sub_49D887; // weak
_UNKNOWN unk_51B0CC; // weak
_WORD dword_51B808[512] =
{
  25542,
  42339,
  31992,
  33916,
  30702,
  39287,
  31734,
  36219,
  62207,
  3570,
  27606,
  48491,
  28638,
  45423,
  50577,
  21701,
  12384,
  20528,
  258,
  769,
  26574,
  43367,
  11094,
  32043,
  65255,
  6654,
  55221,
  25303,
  43853,
  59051,
  30444,
  39542,
  51855,
  17866,
  33311,
  40322,
  51593,
  16585,
  32250,
  34685,
  64239,
  5626,
  22962,
  60249,
  18318,
  51527,
  61691,
  3056,
  44353,
  60589,
  54451,
  26580,
  41567,
  64930,
  44869,
  60079,
  39971,
  49052,
  42067,
  63396,
  29412,
  38514,
  49307,
  23488,
  46965,
  49847,
  64993,
  7421,
  37693,
  44691,
  9804,
  27174,
  13932,
  23094,
  16254,
  16703,
  63477,
  759,
  52355,
  20428,
  13416,
  23604,
  42321,
  62629,
  58833,
  13541,
  61945,
  2289,
  29154,
  37745,
  55467,
  29656,
  12642,
  21297,
  5418,
  16149,
  1032,
  3076,
  51093,
  21191,
  9030,
  25891,
  50077,
  24259,
  6192,
  10264,
  38455,
  41366,
  1290,
  3845,
  39471,
  46490,
  1806,
  2311,
  4644,
  13842,
  32795,
  39808,
  58079,
  15842,
  60365,
  9963,
  10062,
  26919,
  45695,
  52658,
  30186,
  40821,
  2322,
  6921,
  33565,
  40579,
  11352,
  29740,
  6708,
  11802,
  6966,
  11547,
  28380,
  45678,
  23220,
  61018,
  41051,
  64416,
  21156,
  63058,
  15222,
  19771,
  54967,
  25046,
  45949,
  52915,
  10578,
  31529,
  58333,
  16099,
  12126,
  28975,
  33811,
  38788,
  21414,
  62803,
  53689,
  26833,
  0,
  0,
  60865,
  11501,
  8256,
  24608,
  64739,
  8188,
  45433,
  51377,
  23478,
  60763,
  27348,
  48746,
  52109,
  18123,
  48743,
  55742,
  14706,
  19257,
  19092,
  56906,
  19608,
  54348,
  22704,
  59480,
  53125,
  19151,
  53435,
  27600,
  61381,
  10991,
  43599,
  58794,
  64493,
  5883,
  17286,
  50499,
  19866,
  55117,
  13158,
  21811,
  34065,
  38021,
  17802,
  53061,
  63977,
  4345,
  516,
  1538,
  32766,
  33151,
  20640,
  61520,
  15480,
  17468,
  40741,
  47775,
  43083,
  58280,
  20898,
  62289,
  41821,
  65187,
  16512,
  49216,
  36613,
  35471,
  37439,
  44434,
  40225,
  48285,
  14448,
  18488,
  62961,
  1269,
  48227,
  57276,
  46711,
  49590,
  55983,
  30170,
  8514,
  25377,
  4128,
  12304,
  65509,
  6911,
  62461,
  3827,
  53951,
  28114,
  52609,
  19661,
  3096,
  5132,
  4902,
  13587,
  60611,
  12268,
  24510,
  57695,
  38709,
  41623,
  17544,
  52292,
  5934,
  14615,
  50323,
  22468,
  42837,
  62119,
  32508,
  33406,
  15738,
  18237,
  25800,
  44132,
  23994,
  59229,
  6450,
  11033,
  29670,
  38259,
  24768,
  41056,
  33049,
  39041,
  20382,
  53583,
  56483,
  32732,
  8772,
  26146,
  10836,
  32298,
  36923,
  43920,
  34827,
  33672,
  18060,
  51782,
  61127,
  10734,
  47211,
  54200,
  5160,
  15380,
  56999,
  31198,
  24252,
  57950,
  2838,
  7435,
  56237,
  30427,
  57563,
  15328,
  12900,
  22066,
  14964,
  20026,
  2580,
  7690,
  18834,
  56137,
  1548,
  2566,
  9288,
  27684,
  23736,
  58460,
  49823,
  24002,
  54205,
  28371,
  44099,
  61356,
  25284,
  42594,
  37177,
  43153,
  38193,
  42133,
  58579,
  14308,
  31218,
  35705,
  59349,
  13031,
  51339,
  17352,
  14190,
  22839,
  28122,
  46957,
  36097,
  35981,
  54705,
  25813,
  20124,
  53838,
  43337,
  57513,
  27864,
  46188,
  22188,
  64086,
  62707,
  2036,
  60111,
  9706,
  26058,
  44901,
  31476,
  36474,
  44615,
  59822,
  2064,
  6152,
  47727,
  54714,
  30960,
  34936,
  9546,
  28453,
  11868,
  29230,
  7224,
  9244,
  42583,
  61862,
  46195,
  51124,
  50839,
  20934,
  59595,
  9192,
  56737,
  31965,
  29928,
  40052,
  7998,
  8479,
  19350,
  56651,
  48481,
  56509,
  35597,
  34443,
  35343,
  34186,
  28896,
  36976,
  15996,
  16958,
  46449,
  50357,
  26316,
  43622,
  18576,
  55368,
  774,
  1283,
  63223,
  502,
  3612,
  4622,
  25026,
  41825,
  13674,
  24373,
  22446,
  63831,
  47465,
  53433,
  34327,
  37254,
  49561,
  22721,
  7482,
  10013,
  40487,
  47518,
  57817,
  14561,
  63723,
  5112,
  38955,
  45976,
  4386,
  13073,
  27090,
  47977,
  55721,
  28889,
  36359,
  35214,
  37939,
  42900,
  39725,
  46747,
  7740,
  8734,
  34581,
  37511,
  59849,
  8425,
  52871,
  18894,
  21930,
  65365,
  10320,
  30760,
  57253,
  31455,
  35843,
  36748,
  41305,
  63649,
  35081,
  32905,
  3354,
  5901,
  48997,
  55999,
  59095,
  12774,
  17028,
  50754,
  26832,
  47208,
  16770,
  49985,
  39209,
  45209,
  11610,
  30509,
  3870,
  4367,
  45179,
  52144,
  21672,
  64596,
  47981,
  54971,
  5676,
  14870
}; // idb
_WORD dword_51BC08[512] =
{
  50853,
  25443,
  63620,
  31868,
  61081,
  30583,
  63117,
  31611,
  65293,
  62194,
  54973,
  27499,
  57009,
  28527,
  37204,
  50629,
  24656,
  12336,
  515,
  257,
  52905,
  26471,
  22141,
  11051,
  59161,
  65278,
  46434,
  55255,
  19942,
  43947,
  60570,
  30326,
  36677,
  51914,
  8093,
  33410,
  35136,
  51657,
  64135,
  32125,
  61205,
  64250,
  45803,
  22873,
  36553,
  18247,
  64267,
  61680,
  16876,
  44461,
  45927,
  54484,
  24573,
  41634,
  17898,
  44975,
  9151,
  40092,
  21495,
  42148,
  58518,
  29298,
  39771,
  49344,
  30146,
  47031,
  57628,
  65021,
  15790,
  37779,
  19562,
  9766,
  27738,
  13878,
  32321,
  16191,
  62722,
  63479,
  33615,
  52428,
  26716,
  13364,
  20980,
  42405,
  53556,
  58853,
  63752,
  61937,
  58003,
  29041,
  43891,
  55512,
  25171,
  12593,
  10815,
  5397,
  2060,
  1028,
  38226,
  51143,
  18021,
  8995,
  40286,
  50115,
  12328,
  6168,
  14241,
  38550,
  2575,
  1285,
  12213,
  39578,
  3593,
  1799,
  9270,
  4626,
  7067,
  32896,
  57149,
  58082,
  52518,
  60395,
  20073,
  10023,
  32717,
  45746,
  60063,
  30069,
  4635,
  2313,
  7582,
  33667,
  22644,
  11308,
  13358,
  6682,
  13869,
  6939,
  56498,
  28270,
  46318,
  23130,
  23547,
  41120,
  42230,
  21074,
  30285,
  15163,
  46945,
  54998,
  32206,
  46003,
  21115,
  10537,
  56638,
  58339,
  24177,
  12079,
  5015,
  33924,
  42741,
  21331,
  47464,
  53713,
  0,
  0,
  49452,
  60909,
  16480,
  8224,
  58143,
  64764,
  31176,
  45489,
  46829,
  23387,
  54462,
  27242,
  36166,
  52171,
  26585,
  48830,
  29259,
  14649,
  38110,
  19018,
  39124,
  19532,
  45288,
  22616,
  34122,
  53199,
  47979,
  53456,
  50474,
  61423,
  20453,
  43690,
  60694,
  64507,
  34501,
  17219,
  39639,
  19789,
  26197,
  13107,
  4500,
  34181,
  35535,
  17733,
  59664,
  63993,
  1030,
  514,
  65153,
  32639,
  41200,
  20560,
  30788,
  15420,
  9658,
  40863,
  19427,
  43176,
  41715,
  20817,
  24062,
  41891,
  32960,
  16448,
  1418,
  36751,
  16301,
  37522,
  8636,
  40349,
  28744,
  14392,
  61700,
  62965,
  25567,
  48316,
  30657,
  46774,
  44917,
  56026,
  16995,
  8481,
  8240,
  4112,
  58650,
  65535,
  64782,
  62451,
  49005,
  53970,
  33100,
  52685,
  6164,
  3084,
  9781,
  4883,
  49967,
  60652,
  48865,
  24415,
  13730,
  38807,
  35020,
  17476,
  11833,
  5911,
  37719,
  50372,
  22002,
  42919,
  64642,
  32382,
  31303,
  15677,
  51372,
  25700,
  47847,
  23901,
  12843,
  6425,
  59029,
  29555,
  49312,
  24672,
  6552,
  33153,
  40657,
  20303,
  41855,
  56540,
  17510,
  8738,
  21630,
  10794,
  15275,
  37008,
  2947,
  34952,
  36042,
  17990,
  50985,
  61166,
  27603,
  47288,
  10300,
  5140,
  42873,
  57054,
  48354,
  24158,
  5661,
  2827,
  44406,
  56283,
  56123,
  57568,
  25686,
  12850,
  29774,
  14906,
  5150,
  2570,
  37595,
  18761,
  3082,
  1542,
  18540,
  9252,
  47332,
  23644,
  40797,
  49858,
  48494,
  54227,
  17391,
  44204,
  50342,
  25186,
  14760,
  37265,
  12708,
  38293,
  54071,
  58596,
  62091,
  31097,
  54578,
  59367,
  35651,
  51400,
  28249,
  14135,
  55991,
  28013,
  396,
  36237,
  45412,
  54741,
  40146,
  20046,
  18912,
  43433,
  55476,
  27756,
  44282,
  22102,
  62215,
  62708,
  53029,
  60138,
  51887,
  25957,
  62606,
  31354,
  18409,
  44718,
  4120,
  2056,
  28629,
  47802,
  61576,
  30840,
  19055,
  9509,
  23666,
  11822,
  14372,
  7196,
  22513,
  42662,
  29639,
  46260,
  38737,
  50886,
  52003,
  59624,
  41340,
  56797,
  59548,
  29812,
  15905,
  7967,
  38621,
  19275,
  25052,
  48573,
  3462,
  35723,
  3973,
  35466,
  57488,
  28784,
  31810,
  15934,
  29124,
  46517,
  52394,
  26214,
  37080,
  18504,
  1541,
  771,
  63233,
  63222,
  7186,
  3598,
  49827,
  24929,
  27231,
  13621,
  44793,
  22359,
  27088,
  47545,
  6033,
  34438,
  39256,
  49601,
  14887,
  7453,
  10169,
  40606,
  55608,
  57825,
  60179,
  63736,
  11187,
  39064,
  8755,
  4369,
  53947,
  26985,
  43376,
  55769,
  1929,
  36494,
  13223,
  38036,
  11702,
  39835,
  15394,
  7710,
  5522,
  34695,
  51488,
  59881,
  34633,
  52942,
  43775,
  21845,
  20600,
  10280,
  42362,
  57311,
  911,
  35980,
  23032,
  41377,
  2432,
  35209,
  6679,
  3341,
  26074,
  49087,
  55089,
  59110,
  33990,
  16962,
  53432,
  26728,
  33475,
  16705,
  10672,
  39321,
  23159,
  11565,
  7697,
  3855,
  31691,
  45232,
  43260,
  21588,
  28118,
  48059,
  11322,
  5654
}; // idb
_WORD dword_51C008[512] =
{
  42339,
  25542,
  33916,
  31992,
  39287,
  30702,
  36219,
  31734,
  3570,
  62207,
  48491,
  27606,
  45423,
  28638,
  21701,
  50577,
  20528,
  12384,
  769,
  258,
  43367,
  26574,
  32043,
  11094,
  6654,
  65255,
  25303,
  55221,
  59051,
  43853,
  39542,
  30444,
  17866,
  51855,
  40322,
  33311,
  16585,
  51593,
  34685,
  32250,
  5626,
  64239,
  60249,
  22962,
  51527,
  18318,
  3056,
  61691,
  60589,
  44353,
  26580,
  54451,
  64930,
  41567,
  60079,
  44869,
  49052,
  39971,
  63396,
  42067,
  38514,
  29412,
  23488,
  49307,
  49847,
  46965,
  7421,
  64993,
  44691,
  37693,
  27174,
  9804,
  23094,
  13932,
  16703,
  16254,
  759,
  63477,
  20428,
  52355,
  23604,
  13416,
  62629,
  42321,
  13541,
  58833,
  2289,
  61945,
  37745,
  29154,
  29656,
  55467,
  21297,
  12642,
  16149,
  5418,
  3076,
  1032,
  21191,
  51093,
  25891,
  9030,
  24259,
  50077,
  10264,
  6192,
  41366,
  38455,
  3845,
  1290,
  46490,
  39471,
  2311,
  1806,
  13842,
  4644,
  39808,
  32795,
  15842,
  58079,
  9963,
  60365,
  26919,
  10062,
  52658,
  45695,
  40821,
  30186,
  6921,
  2322,
  40579,
  33565,
  29740,
  11352,
  11802,
  6708,
  11547,
  6966,
  45678,
  28380,
  61018,
  23220,
  64416,
  41051,
  63058,
  21156,
  19771,
  15222,
  25046,
  54967,
  52915,
  45949,
  31529,
  10578,
  16099,
  58333,
  28975,
  12126,
  38788,
  33811,
  62803,
  21414,
  26833,
  53689,
  0,
  0,
  11501,
  60865,
  24608,
  8256,
  8188,
  64739,
  51377,
  45433,
  60763,
  23478,
  48746,
  27348,
  18123,
  52109,
  55742,
  48743,
  19257,
  14706,
  56906,
  19092,
  54348,
  19608,
  59480,
  22704,
  19151,
  53125,
  27600,
  53435,
  10991,
  61381,
  58794,
  43599,
  5883,
  64493,
  50499,
  17286,
  55117,
  19866,
  21811,
  13158,
  38021,
  34065,
  53061,
  17802,
  4345,
  63977,
  1538,
  516,
  33151,
  32766,
  61520,
  20640,
  17468,
  15480,
  47775,
  40741,
  58280,
  43083,
  62289,
  20898,
  65187,
  41821,
  49216,
  16512,
  35471,
  36613,
  44434,
  37439,
  48285,
  40225,
  18488,
  14448,
  1269,
  62961,
  57276,
  48227,
  49590,
  46711,
  30170,
  55983,
  25377,
  8514,
  12304,
  4128,
  6911,
  65509,
  3827,
  62461,
  28114,
  53951,
  19661,
  52609,
  5132,
  3096,
  13587,
  4902,
  12268,
  60611,
  57695,
  24510,
  41623,
  38709,
  52292,
  17544,
  14615,
  5934,
  22468,
  50323,
  62119,
  42837,
  33406,
  32508,
  18237,
  15738,
  44132,
  25800,
  59229,
  23994,
  11033,
  6450,
  38259,
  29670,
  41056,
  24768,
  39041,
  33049,
  53583,
  20382,
  32732,
  56483,
  26146,
  8772,
  32298,
  10836,
  43920,
  36923,
  33672,
  34827,
  51782,
  18060,
  10734,
  61127,
  54200,
  47211,
  15380,
  5160,
  31198,
  56999,
  57950,
  24252,
  7435,
  2838,
  30427,
  56237,
  15328,
  57563,
  22066,
  12900,
  20026,
  14964,
  7690,
  2580,
  56137,
  18834,
  2566,
  1548,
  27684,
  9288,
  58460,
  23736,
  24002,
  49823,
  28371,
  54205,
  61356,
  44099,
  42594,
  25284,
  43153,
  37177,
  42133,
  38193,
  14308,
  58579,
  35705,
  31218,
  13031,
  59349,
  17352,
  51339,
  22839,
  14190,
  46957,
  28122,
  35981,
  36097,
  25813,
  54705,
  53838,
  20124,
  57513,
  43337,
  46188,
  27864,
  64086,
  22188,
  2036,
  62707,
  9706,
  60111,
  44901,
  26058,
  36474,
  31476,
  59822,
  44615,
  6152,
  2064,
  54714,
  47727,
  34936,
  30960,
  28453,
  9546,
  29230,
  11868,
  9244,
  7224,
  61862,
  42583,
  51124,
  46195,
  20934,
  50839,
  9192,
  59595,
  31965,
  56737,
  40052,
  29928,
  8479,
  7998,
  56651,
  19350,
  56509,
  48481,
  34443,
  35597,
  34186,
  35343,
  36976,
  28896,
  16958,
  15996,
  50357,
  46449,
  43622,
  26316,
  55368,
  18576,
  1283,
  774,
  502,
  63223,
  4622,
  3612,
  41825,
  25026,
  24373,
  13674,
  63831,
  22446,
  53433,
  47465,
  37254,
  34327,
  22721,
  49561,
  10013,
  7482,
  47518,
  40487,
  14561,
  57817,
  5112,
  63723,
  45976,
  38955,
  13073,
  4386,
  47977,
  27090,
  28889,
  55721,
  35214,
  36359,
  42900,
  37939,
  46747,
  39725,
  8734,
  7740,
  37511,
  34581,
  8425,
  59849,
  18894,
  52871,
  65365,
  21930,
  30760,
  10320,
  31455,
  57253,
  36748,
  35843,
  63649,
  41305,
  32905,
  35081,
  5901,
  3354,
  55999,
  48997,
  12774,
  59095,
  50754,
  17028,
  47208,
  26832,
  49985,
  16770,
  45209,
  39209,
  30509,
  11610,
  4367,
  3870,
  52144,
  45179,
  64596,
  21672,
  54971,
  47981,
  14870,
  5676
}; // idb
_WORD dword_51C408[512] =
{
  25443,
  50853,
  31868,
  63620,
  30583,
  61081,
  31611,
  63117,
  62194,
  65293,
  27499,
  54973,
  28527,
  57009,
  50629,
  37204,
  12336,
  24656,
  257,
  515,
  26471,
  52905,
  11051,
  22141,
  65278,
  59161,
  55255,
  46434,
  43947,
  19942,
  30326,
  60570,
  51914,
  36677,
  33410,
  8093,
  51657,
  35136,
  32125,
  64135,
  64250,
  61205,
  22873,
  45803,
  18247,
  36553,
  61680,
  64267,
  44461,
  16876,
  54484,
  45927,
  41634,
  24573,
  44975,
  17898,
  40092,
  9151,
  42148,
  21495,
  29298,
  58518,
  49344,
  39771,
  47031,
  30146,
  65021,
  57628,
  37779,
  15790,
  9766,
  19562,
  13878,
  27738,
  16191,
  32321,
  63479,
  62722,
  52428,
  33615,
  13364,
  26716,
  42405,
  20980,
  58853,
  53556,
  61937,
  63752,
  29041,
  58003,
  55512,
  43891,
  12593,
  25171,
  5397,
  10815,
  1028,
  2060,
  51143,
  38226,
  8995,
  18021,
  50115,
  40286,
  6168,
  12328,
  38550,
  14241,
  1285,
  2575,
  39578,
  12213,
  1799,
  3593,
  4626,
  9270,
  32896,
  7067,
  58082,
  57149,
  60395,
  52518,
  10023,
  20073,
  45746,
  32717,
  30069,
  60063,
  2313,
  4635,
  33667,
  7582,
  11308,
  22644,
  6682,
  13358,
  6939,
  13869,
  28270,
  56498,
  23130,
  46318,
  41120,
  23547,
  21074,
  42230,
  15163,
  30285,
  54998,
  46945,
  46003,
  32206,
  10537,
  21115,
  58339,
  56638,
  12079,
  24177,
  33924,
  5015,
  21331,
  42741,
  53713,
  47464,
  0,
  0,
  60909,
  49452,
  8224,
  16480,
  64764,
  58143,
  45489,
  31176,
  23387,
  46829,
  27242,
  54462,
  52171,
  36166,
  48830,
  26585,
  14649,
  29259,
  19018,
  38110,
  19532,
  39124,
  22616,
  45288,
  53199,
  34122,
  53456,
  47979,
  61423,
  50474,
  43690,
  20453,
  64507,
  60694,
  17219,
  34501,
  19789,
  39639,
  13107,
  26197,
  34181,
  4500,
  17733,
  35535,
  63993,
  59664,
  514,
  1030,
  32639,
  65153,
  20560,
  41200,
  15420,
  30788,
  40863,
  9658,
  43176,
  19427,
  20817,
  41715,
  41891,
  24062,
  16448,
  32960,
  36751,
  1418,
  37522,
  16301,
  40349,
  8636,
  14392,
  28744,
  62965,
  61700,
  48316,
  25567,
  46774,
  30657,
  56026,
  44917,
  8481,
  16995,
  4112,
  8240,
  65535,
  58650,
  62451,
  64782,
  53970,
  49005,
  52685,
  33100,
  3084,
  6164,
  4883,
  9781,
  60652,
  49967,
  24415,
  48865,
  38807,
  13730,
  17476,
  35020,
  5911,
  11833,
  50372,
  37719,
  42919,
  22002,
  32382,
  64642,
  15677,
  31303,
  25700,
  51372,
  23901,
  47847,
  6425,
  12843,
  29555,
  59029,
  24672,
  49312,
  33153,
  6552,
  20303,
  40657,
  56540,
  41855,
  8738,
  17510,
  10794,
  21630,
  37008,
  15275,
  34952,
  2947,
  17990,
  36042,
  61166,
  50985,
  47288,
  27603,
  5140,
  10300,
  57054,
  42873,
  24158,
  48354,
  2827,
  5661,
  56283,
  44406,
  57568,
  56123,
  12850,
  25686,
  14906,
  29774,
  2570,
  5150,
  18761,
  37595,
  1542,
  3082,
  9252,
  18540,
  23644,
  47332,
  49858,
  40797,
  54227,
  48494,
  44204,
  17391,
  25186,
  50342,
  37265,
  14760,
  38293,
  12708,
  58596,
  54071,
  31097,
  62091,
  59367,
  54578,
  51400,
  35651,
  14135,
  28249,
  28013,
  55991,
  36237,
  396,
  54741,
  45412,
  20046,
  40146,
  43433,
  18912,
  27756,
  55476,
  22102,
  44282,
  62708,
  62215,
  60138,
  53029,
  25957,
  51887,
  31354,
  62606,
  44718,
  18409,
  2056,
  4120,
  47802,
  28629,
  30840,
  61576,
  9509,
  19055,
  11822,
  23666,
  7196,
  14372,
  42662,
  22513,
  46260,
  29639,
  50886,
  38737,
  59624,
  52003,
  56797,
  41340,
  29812,
  59548,
  7967,
  15905,
  19275,
  38621,
  48573,
  25052,
  35723,
  3462,
  35466,
  3973,
  28784,
  57488,
  15934,
  31810,
  46517,
  29124,
  26214,
  52394,
  18504,
  37080,
  771,
  1541,
  63222,
  63233,
  3598,
  7186,
  24929,
  49827,
  13621,
  27231,
  22359,
  44793,
  47545,
  27088,
  34438,
  6033,
  49601,
  39256,
  7453,
  14887,
  40606,
  10169,
  57825,
  55608,
  63736,
  60179,
  39064,
  11187,
  4369,
  8755,
  26985,
  53947,
  55769,
  43376,
  36494,
  1929,
  38036,
  13223,
  39835,
  11702,
  7710,
  15394,
  34695,
  5522,
  59881,
  51488,
  52942,
  34633,
  21845,
  43775,
  10280,
  20600,
  57311,
  42362,
  35980,
  911,
  41377,
  23032,
  35209,
  2432,
  3341,
  6679,
  49087,
  26074,
  59110,
  55089,
  16962,
  33990,
  26728,
  53432,
  16705,
  33475,
  39321,
  10672,
  11565,
  23159,
  3855,
  7697,
  45232,
  31691,
  21588,
  43260,
  48059,
  28118,
  5654,
  11322
}; // idb
int dword_51C808[] = { 99 }; // weak
int dword_51CC08[] = { 25344 }; // weak
int dword_51D008[] = { 6488064 }; // weak
int dword_51D408[] = { 1660944384 }; // weak
int dword_51D830[] = { 128 }; // weak
int dword_51D840[] = { 0 }; // weak
int dword_51D850[] = { 0 }; // weak
char byte_51D8C1[] = { '\0' }; // weak
char byte_51D8C2[] = { '\0' }; // weak
char byte_51D8C3[] = { '\0' }; // weak
char byte_51D8C4[] = { '\x10' }; // weak
int dword_51D8D8[] = { 0 }; // weak
_UNKNOWN unk_51D950; // weak
_UNKNOWN unk_51DDD0; // weak
char byte_51DE48[] = { '\0' }; // weak
char byte_51DF48[] = { '\0' }; // weak
char byte_51E048[] = { '\0' }; // weak
int dword_51E148[] = { 0 }; // weak
int dword_51E1C0[] = { 0 }; // weak
int (__cdecl *off_51E240)(int, int) = &sub_4A5A30; // weak
int dword_51E428[] = { 0 }; // weak
int dword_51E470[] = { 16 }; // weak
_UNKNOWN unk_51E4C0; // weak
_UNKNOWN unk_51E540; // weak
_UNKNOWN unk_51E5C0; // weak
_UNKNOWN unk_51E638; // weak
_UNKNOWN unk_51E6B0; // weak
_UNKNOWN unk_51F6B0; // weak
_UNKNOWN unk_5218A8; // weak
_UNKNOWN unk_5218B0; // weak
_UNKNOWN unk_5219EC; // weak
_UNKNOWN unk_521B60; // weak
_UNKNOWN unk_52425C; // weak
_UNKNOWN unk_5243E4; // weak
_UNKNOWN unk_524F3C; // weak
LPCSTR lpFileName = "ethr1.log"; // idb
char *off_528364[4] = { "NONE", "MFD1 Port #4", "PFD1 Port #4", "PFD2 Port #4" }; // weak
char *off_52837C[4] = { "NONE", "MFD1 Port #3", "PFD1 Port #3", "PFD2 Port #3" }; // weak
char *off_528394[5] = { "NONE", "MFD1 Port #2", "PFD1 Port #2", "PFD2 Port #2", "GIA2" }; // weak
char *off_5283B0[5] = { "NONE", "MFD1 Port #1", "PFD1 Port #1", "PFD2 Port #1", "GIA1" }; // weak
char aAllFiles___0[22] = "All Files (*.*)|*.*||"; // weak
char byte_528510[] = { '\x1E' }; // weak
int dword_528514[] = { 0 }; // weak
int dword_528518[] = { 1207 }; // weak
int dword_52851C[] = { 179 }; // weak
int dword_528520[] = { 1224 }; // weak
int dword_528524[] = { 196 }; // weak
int dword_528528[] = { 16678911 }; // weak
int dword_528530[] = { 0 }; // weak
int dword_528544[] = { 16678911 }; // weak
int dword_52854C[] = { 0 }; // weak
int dword_528560[] = { 16678911 }; // weak
int dword_528568[] = { 0 }; // weak
int dword_52857C[] = { 16777215 }; // weak
int dword_528584[] = { 48 }; // weak
int dword_528598[] = { 5471 }; // weak
int dword_528B18[] = { 15 }; // weak
int dword_528B20[] = { 3 }; // weak
int dword_528B24[] = { 0 }; // weak
int dword_528B28[] = { 1213 }; // weak
int dword_528B2C[] = { 166 }; // weak
int dword_528B30[] = { 1237 }; // weak
int dword_528B34[] = { 180 }; // weak
int dword_528B38[] = { 16678911 }; // weak
int dword_528B48[] = { 0 }; // weak
int dword_528B5C[] = { 16678911 }; // weak
int dword_528B6C[] = { 0 }; // weak
int dword_528B80[] = { 16744415 }; // weak
int dword_528B90[] = { 0 }; // weak
int dword_528BA4[] = { 16744415 }; // weak
char *off_529AB4 = "CStringArray"; // weak
char *off_529C34 = "CObArray"; // weak
char *off_529C94 = "CByteArray"; // weak
void *off_529D24 = &unk_4B6964; // weak
int dword_529D28 = 4294967295; // weak
_UNKNOWN unk_529D30; // weak
_UNKNOWN unk_529D38; // weak
_UNKNOWN unk_529D88; // weak
int dword_529E50 = 20; // weak
int (__stdcall *off_52A534)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_4398FC; // weak
int (__stdcall *off_52A538)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_439934; // weak
_UNKNOWN unk_52A540; // weak
_UNKNOWN unk_52A5C0; // weak
int (*off_52A640)(void) = &sub_444CD3; // weak
int (*off_52A644)(void) = &sub_444FB1; // weak
int (*off_52A648)(void) = &sub_44563F; // weak
int (*off_52A64C)(void) = &sub_445892; // weak
int (*off_52A650)(void) = &sub_445B5B; // weak
int (*off_52A654)(void) = &sub_444D1B; // weak
int (*off_52A658)(void) = &sub_44512B; // weak
int (*off_52A65C)(void) = &sub_444D3F; // weak
int (*off_52A660)(void) = &sub_445374; // weak
int (*off_52A664)(void) = &sub_444CF7; // weak
int (*off_52A668)(void) = &sub_445101; // weak
int (*off_52A66C)(void) = &sub_4457BB; // weak
int (*off_52A670)(void) = &sub_4471D4; // weak
int (*off_52A674)(void) = &sub_447219; // weak
int (*off_52A678)(void) = &sub_445233; // weak
int (*off_52A67C)(void) = &sub_445255; // weak
int (*off_52A680)(void) = &sub_445277; // weak
int (__stdcall *off_52A684)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_444AD0; // weak
int (*off_52A688)(void) = &sub_445D9E; // weak
int (*off_52A68C)(void) = &sub_446AB2; // weak
int (*off_52A690)(void) = &sub_446B5B; // weak
int (*off_52A694)(void) = &sub_447071; // weak
int (*off_52A698)(void) = &sub_447125; // weak
int (*off_52A69C)(void) = &sub_4467A6; // weak
int (*off_52A6A0)(void) = &sub_4467E8; // weak
int (__stdcall *off_52A6A4)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_4469A5; // weak
int (__stdcall *off_52A6A8)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_4461DA; // weak
int (*off_52A6AC)(void) = &sub_44678C; // weak
int (*off_52A6B0)(void) = &sub_446799; // weak
int (__stdcall *off_52A6B4)(_DWORD, _DWORD, _DWORD) = &sub_446929; // weak
int (__stdcall *off_52A6B8)(_DWORD, _DWORD) = &sub_446264; // weak
int (__stdcall *off_52A6BC)(_DWORD, _DWORD) = &sub_4462FA; // weak
int (__stdcall *off_52A6C0)(_DWORD, _DWORD) = &sub_446391; // weak
int (__stdcall *off_52A6C4)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_446150; // weak
int (*off_52A6C8)(void) = &sub_4472C8; // weak
int (__stdcall *off_52A6CC)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_446E1B; // weak
int (__stdcall *off_52A6D0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_446FBA; // weak
int (*off_52A6D4)(void) = &sub_445ADB; // weak
int (*off_52A6D8)(void) = &sub_44654B; // weak
int (*off_52A6DC)(void) = &sub_44666E; // weak
int (__stdcall *off_52A6E0)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_446640; // weak
int (__stdcall *off_52A6E4)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_44667F; // weak
int (__stdcall *off_52A6E8)(_DWORD, _DWORD, _DWORD) = &sub_446429; // weak
int (__stdcall *off_52A6EC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_446F28; // weak
int (*off_52A6F0)(void) = &sub_446C1E; // weak
int (*off_52A6F4)(void) = &sub_446FA9; // weak
int (*off_52A6F8)(void) = &sub_444AC3; // weak
int (__stdcall *off_52A6FC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_444B88; // weak
int (__stdcall *off_52A700)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_444C61; // weak
int (__stdcall *off_52A704)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_444D52; // weak
int (__stdcall *off_52A708)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_444E2A; // weak
int (__stdcall *off_52A70C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_444F25; // weak
int (__stdcall *off_52A710)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_445381; // weak
int (__stdcall *off_52A714)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_44547C; // weak
int (__stdcall *off_52A718)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_445599; // weak
int (*off_52A71C)(void) = &sub_446CE2; // weak
int (*off_52A720)(void) = &sub_446D70; // weak
int (*off_52A724)(void) = &sub_444969; // weak
int (*off_52A728)(void) = &sub_444A0B; // weak
int (*off_52A72C)(void) = &sub_444CE6; // weak
int (*off_52A730)(void) = &sub_444D0A; // weak
int (*off_52A734)(void) = &sub_444D2E; // weak
int (*off_52A738)(void) = &sub_445049; // weak
int (*off_52A73C)(void) = &sub_445114; // weak
int (*off_52A740)(void) = &sub_4451A4; // weak
int (*off_52A744)(void) = &sub_4456EB; // weak
int (*off_52A748)(void) = &sub_445244; // weak
int (*off_52A74C)(void) = &sub_445266; // weak
int (*off_52A750)(void) = &sub_447374; // weak
int (*off_52A754)(void) = &sub_447444; // weak
int (*off_52A758)(void) = &sub_447455; // weak
int (__stdcall *off_52A760[7])(int, int, int) =
{
  &sub_4474F0,
  &sub_444FBE,
  &sub_44564C,
  &sub_4458A5,
  &sub_445B68,
  &sub_4476F3,
  &sub_44513E
}; // weak
int dword_52A87C = 4294967295; // weak
int dword_52A880 = 65535; // weak
_DWORD dword_52A884[9] = { 16, 33, 66, 132, 272, 584, 1360, 4080, 0 }; // idb
_UNKNOWN unk_52A8A8; // weak
_UNKNOWN unk_52A8AC; // weak
float flt_52B8B0 =  0.29703665; // weak
float flt_52B8B4 =  1.0; // weak
float flt_52B8B8 =  0.10078278; // weak
float flt_52B8C0 =  3.3665881; // weak
float flt_52B8C4 =  1.0; // weak
float flt_52B8C8 =  9.9223299; // weak
int dword_52CAC0 = 1056964608; // weak
int dword_52CAD0 = 1077936128; // weak
__int128 xmmword_52CAE0 = 0x3F800000BF800000BF800000BF800000i64; // weak
__int128 xmmword_52CB60 = 0x3F800000C00000003F80000040000000i64; // weak
__int128 xmmword_52CB70 = 0xBF80000040400000C0000000C0400000i64; // weak
__int128 xmmword_52CB80 = 4575657221408423936i64; // weak
int dword_52CB90 = 1065353216; // weak
__int128 xmmword_52CBA0 = 0x3F000000BFC000003FC00000BF000000i64; // weak
__int128 xmmword_52CBB0 = 0xBF00000040000000C02000003F800000i64; // weak
__int128 xmmword_52CBC0 = 0x3F000000BF000000i64; // weak
__int128 xmmword_52CBD0 = 4575657221408423936i64; // weak
__int128 xmmword_52CBE0 = 0x80000000000000008000000000000000i64; // weak
int dword_52CBF0 = 1056964608; // weak
int dword_52CC00 = 1077936128; // weak
__int128 xmmword_52CC10 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_52CC20 = 1056964608i64; // weak
__int128 xmmword_52CC30 = 1077936128i64; // weak
__int128 xmmword_52CC40 = 1065353216i64; // weak
__int128 xmmword_52CC50 = 0x3F8000000000000000000000i64; // weak
__int128 xmmword_52CC60 = 0x3F80000000000000i64; // weak
__int128 xmmword_52CC70 = 0xC0000000C0000000C0000000i64; // weak
__int128 xmmword_52CC80 = 4575657221408423936i64; // weak
unsigned int dword_52CC90[4] = { 1056964608u, 0u, 0u, 0u }; // idb
_UNKNOWN unk_52CCA0; // weak
__int128 xmmword_52CCB0 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_52CCC0 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_52CCD0 = 0x0FFFFFFFF00000000i64; // weak
__int128 xmmword_52CCE0 = 0xFFFFFFFF00000000i64; // weak
__int128 xmmword_52CCF0 = 0xFFFFFFFF0000000000000000i64; // weak
__int128 xmmword_52CD00 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_52CD80 = 0x80000000000000008000000000000000i64; // weak
__int128 xmmword_52CD90 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_52CDA0 = 1056964608i64; // weak
__int128 xmmword_52CDB0 = 1077936128i64; // weak
__int128 xmmword_52CDC0 = 1065353216i64; // weak
__int128 xmmword_52CDD0 = 0x3F8000000000000000000000i64; // weak
__int128 xmmword_52CDE0 = 0x3F80000000000000i64; // weak
__int128 xmmword_52CDF0 = 0xC0000000C0000000C0000000i64; // weak
__int128 xmmword_52CE00 = 4575657221408423936i64; // weak
unsigned int dword_52CE10[4] = { 1056964608u, 0u, 0u, 0u }; // idb
_UNKNOWN unk_52CE20; // weak
__int128 xmmword_52CE30 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_52CE40 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_52CE50 = 0x0FFFFFFFF00000000i64; // weak
__int128 xmmword_52CE60 = 0xFFFFFFFF00000000i64; // weak
__int128 xmmword_52CE70 = 0xFFFFFFFF0000000000000000i64; // weak
__int128 xmmword_52CE80 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_52CEC0 = 0x40000000400000004000000040000000i64; // weak
__int128 xmmword_52CF00 = 0x40000000400000004000000040000000i64; // weak
__int64 qword_52CF40 = 136339441875968i64; // weak
__int64 qword_52CF50 = 492581209358336i64; // weak
__int64 qword_52CF60 = 140737488388096i64; // weak
__int64 qword_52CF70 = 4398046512128i64; // weak
__int64 qword_52CF80 = 4071254064090841088i64; // weak
__int64 qword_52CF90 = 5152100378430402559i64; // weak
__int64 qword_52CFA0 = 4071254064090841088i64; // weak
__int64 qword_52CFB0 = -9223372034707292160i64; // weak
__int64 qword_52CFD0 = 4294967297i64; // weak
__int64 qword_52CFE0 = -4035207674877440001i64; // weak
__int64 qword_52D000 = 9223372034707292159i64; // weak
__int64 qword_52D010 = 36028797027352576i64; // weak
__int64 qword_52D020 = 140733193420799i64; // weak
__int128 xmmword_531860 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_531870 = 0xBF000000BF000000BF000000BF000000i64; // weak
__int128 xmmword_531880 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_531890 = 0x3D2AAAA53D2AAAA53D2AAAA53D2AAAA5i64; // weak
__int128 xmmword_5318A0 = 0xBE2AAAA3BE2AAAA3BE2AAAA3BE2AAAA3i64; // weak
__int128 xmmword_5318B0 = 0xBAB6061ABAB6061ABAB6061ABAB6061Ai64; // weak
__int128 xmmword_5318C0 = 0x3C08839D3C08839D3C08839D3C08839Di64; // weak
int dword_5318D0 = 2; // weak
__int128 xmmword_5318E0 = 0x100000001100000001i64; // weak
__int128 xmmword_5318F0 = 0x7FFFFF007FFFFF7FFFFF007FFFFFi64; // weak
__int128 xmmword_531900 = 0x37CCF5CE37CCF5CE37CCF5CE37CCF5CEi64; // weak
__int128 xmmword_531910 = 0xB94CA1F0B94CA1F0B94CA1F0B94CA1F0i64; // weak
__int128 xmmword_531920 = 0x4B0000004B0000004B0000004B000000i64; // weak
__int128 xmmword_531930 = 0x2C34611A2C34611A2C34611A2C34611Ai64; // weak
__int128 xmmword_531940 = 0x33A2200033A2200033A2200033A22000i64; // weak
__int128 xmmword_531950 = 0x39FDA00039FDA00039FDA00039FDA000i64; // weak
__int128 xmmword_531960 = 0x3FC900003FC900003FC900003FC90000i64; // weak
__int128 xmmword_531970 = 0x3F22F9833F22F9833F22F9833F22F983i64; // weak
__int128 xmmword_531980 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_531990 = 0x7FFFFFFF7FFFFFFF7FFFFFFF7FFFFFFFi64; // weak
__int128 xmmword_5319A0 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_5319B0 = 0xBF000000BF000000BF000000BF000000i64; // weak
__int128 xmmword_5319C0 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_5319D0 = 0x3D2AAAA53D2AAAA53D2AAAA53D2AAAA5i64; // weak
__int128 xmmword_5319E0 = 0xBE2AAAA3BE2AAAA3BE2AAAA3BE2AAAA3i64; // weak
__int128 xmmword_5319F0 = 0xBAB6061ABAB6061ABAB6061ABAB6061Ai64; // weak
__int128 xmmword_531A00 = 0x3C08839D3C08839D3C08839D3C08839Di64; // weak
__int128 xmmword_531A10 = 0x200000002200000002i64; // weak
__int128 xmmword_531A20 = 0x100000001100000001i64; // weak
__int128 xmmword_531A30 = 0x7FFFFF007FFFFF7FFFFF007FFFFFi64; // weak
__int128 xmmword_531A40 = 0x37CCF5CE37CCF5CE37CCF5CE37CCF5CEi64; // weak
__int128 xmmword_531A50 = 0xB94CA1F0B94CA1F0B94CA1F0B94CA1F0i64; // weak
__int128 xmmword_531A60 = 0x4B0000004B0000004B0000004B000000i64; // weak
__int128 xmmword_531A70 = 0x2C34611A2C34611A2C34611A2C34611Ai64; // weak
__int128 xmmword_531A80 = 0x33A2200033A2200033A2200033A22000i64; // weak
__int128 xmmword_531A90 = 0x39FDA00039FDA00039FDA00039FDA000i64; // weak
__int128 xmmword_531AA0 = 0x3FC900003FC900003FC900003FC90000i64; // weak
__int128 xmmword_531AB0 = 0x3F22F9833F22F9833F22F9833F22F983i64; // weak
__int128 xmmword_531AC0 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_531AD0 = 0x7FFFFFFF7FFFFFFF7FFFFFFF7FFFFFFFi64; // weak
int dword_531C58 = 9; // weak
int dword_531C5C = 5; // weak
_UNKNOWN unk_531C60; // weak
_UNKNOWN unk_532C60; // weak
int dword_532D60[] = { 0 }; // weak
int dword_532DC4 = 3141592654; // weak
void *off_532DD8 = &unk_5DB500; // weak
int dword_533074 = 2; // weak
int dword_5334F4 = 4294967295; // weak
_UNKNOWN unk_533510; // weak
int (*off_533B84[3])() = { &_fptrap, &_fptrap, &_fptrap }; // weak
int dword_533D20 = 28800; // weak
int dword_533D24 = 1; // weak
int dword_533D28 = 4294963696; // weak
void **off_533DB0[2] = { &off_533D30, &off_533D70 }; // weak
int dword_533DB8 = 4294967295; // weak
int dword_533DBC = 0; // weak
int dword_533DC0 = 0; // weak
int dword_533DC4 = 4294967295; // weak
int dword_533DC8 = 0; // weak
int dword_533DCC = 0; // weak
int dword_534308 = 1024; // weak
int dword_53430C = 4294966273; // weak
int dword_534310 = 53; // weak
int dword_534314 = 11; // weak
int dword_534318 = 64; // weak
int dword_53431C = 1023; // weak
int dword_534320 = 128; // weak
int dword_534324 = 4294967169; // weak
int dword_534328 = 24; // weak
int dword_53432C = 8; // weak
int dword_534330 = 32; // weak
int dword_534334 = 127; // weak
volatile LONG Target = 4839848; // idb
char byte_534640 = '\0'; // weak
HMODULE dword_534648 = NULL; // idb
int (__cdecl *dword_53464C)(_DWORD) = NULL; // weak
int dword_534650 = 0; // weak
int (__cdecl *dword_534654)(_DWORD, _DWORD) = NULL; // weak
int (__cdecl *dword_534658)(_DWORD) = NULL; // weak
int dword_53465C = 0; // weak
int dword_534660 = 0; // weak
int (__cdecl *dword_534664)(_DWORD, _DWORD) = NULL; // weak
int (__cdecl *dword_534668)(_DWORD, _DWORD, _DWORD) = NULL; // weak
int (__cdecl *dword_53466C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = NULL; // weak
int (__cdecl *dword_534670)(_DWORD, _DWORD, _DWORD) = NULL; // weak
int dword_534674 = 0; // weak
HANDLE hFile = NULL; // idb
CHAR OutputString[304] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
CHAR FileName[308] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_5348E4[] = { 0 }; // weak
int dword_534910 = 0; // weak
int dword_534918[] = { 0 }; // weak
int dword_53491C[] = { 0 }; // weak
int dword_534920[] = { 0 }; // weak
int dword_534924[] = { 0 }; // weak
int dword_534978[] = { 0 }; // weak
_UNKNOWN unk_534980; // weak
int dword_534990[] = { 0 }; // weak
int dword_5349A0[] = { 0 }; // weak
int dword_5349C0[] = { 0 }; // weak
int dword_5349D8[] = { 0 }; // weak
int dword_5349F0 = 0; // weak
int dword_534AA0 = 0; // weak
_UNKNOWN unk_534AA4; // weak
int dword_534AA8[] = { 0 }; // weak
int dword_534ACC[] = { 0 }; // weak
int dword_534C28[] = { 0 }; // weak
int dword_534C38 = 0; // weak
_WORD word_534C3C[9] = { 0, 0, 0, 0, 0, 0, 0, 0, 0 }; // idb
int dword_534C50[] = { 0 }; // weak
int dword_534C60[] = { 0 }; // weak
int dword_534C70 = 0; // weak
int dword_534C78 = 0; // weak
int dword_534C7C = 0; // weak
int dword_534C80 = 0; // weak
int dword_534C84 = 0; // weak
int dword_534C88 = 0; // weak
int dword_534C8C = 0; // weak
_UNKNOWN unk_534DC0; // weak
int dword_5351C0; // weak
void *dword_5351C4; // idb
_UNKNOWN unk_5351DC; // weak
_UNKNOWN unk_5351F4; // weak
char byte_5351F8; // weak
int dword_5351FC[]; // weak
FILE *dword_53538C; // idb
void *dword_5353A4; // idb
int dword_5353BC; // weak
int dword_5354C4; // weak
int dword_5355CC; // weak
char byte_5356D8[]; // weak
char byte_5358E8[]; // weak
char byte_5359F0[]; // weak
char byte_535D08[]; // weak
_UNKNOWN unk_535E10; // weak
HWND__ hWndInsertAfter; // idb
HWND__ stru_5376B8; // idb
int dword_537710; // weak
int dword_537768; // weak
int dword_5377C8; // weak
int dword_537860; // weak
int (__stdcall *dword_537900)(_DWORD, _DWORD); // weak
int (__stdcall *dword_537904)(_DWORD, _DWORD); // weak
_UNKNOWN unk_53790C; // weak
_UNKNOWN unk_537910; // weak
int (__stdcall *dword_53791C)(_DWORD); // weak
int dword_537978; // weak
int dword_53798C; // weak
void *dword_537BD0; // idb
int (__cdecl *dword_537BF4)(_DWORD); // weak
int (__cdecl *dword_537BF8)(_DWORD); // weak
int dword_537BFC; // weak
int dword_537C00; // weak
int dword_537C04; // weak
int dword_5393C4; // weak
__int128 xmmword_5393D0; // weak
__int128 xmmword_5393E0; // weak
int dword_5393F0; // weak
int dword_539FD8; // weak
int dword_539FE0; // weak
HMODULE dword_539FE4; // idb
__int16 word_539FE8; // weak
__int16 word_539FEC; // weak
__int16 word_539FF0; // weak
int dword_539FF4; // weak
void (__cdecl *dword_53A080[8])(_DWORD, _DWORD, _DWORD); // idb
_UNKNOWN unk_53A0A0; // weak
int dword_544778; // weak
int dword_54477C; // weak
int dword_544780; // weak
int dword_544784; // weak
char byte_544788; // weak
char byte_544789; // weak
char byte_54478A; // weak
int dword_54E170; // weak
int dword_54E1E0; // weak
int dword_54E1E4; // weak
int dword_54E1F4; // weak
int dword_54E1F8; // weak
int dword_54E204; // weak
int dword_54E208; // weak
int dword_54E210; // weak
_UNKNOWN unk_54E218; // weak
char byte_54E4F0[]; // weak
char byte_54E4F1[]; // weak
int dword_551140; // weak
char byte_551148[]; // weak
char byte_55114C[]; // weak
char byte_55114D[]; // weak
int dword_551154[]; // weak
int dword_55115C[]; // weak
int dword_551190; // weak
_UNKNOWN unk_551198; // weak
_UNKNOWN unk_554561; // weak
_UNKNOWN unk_55B8E1; // weak
_UNKNOWN unk_562C61; // weak
_UNKNOWN unk_569FE1; // weak
char byte_5B4CC0[]; // weak
char byte_5B4CC1[]; // weak
_UNKNOWN unk_5B4D60; // weak
int dword_5B5030[]; // weak
int dword_5B5034[]; // weak
_UNKNOWN unk_5B6900; // weak
char byte_5B8A20; // weak
char byte_5B8A21; // weak
char byte_5B8A22; // weak
_UNKNOWN unk_5B8A28; // weak
_UNKNOWN unk_5B8A48; // weak
_DWORD dword_5CC410[16]; // idb
int dword_5CC450[]; // weak
int dword_5CC490; // weak
int dword_5CC498[]; // weak
int dword_5CC4F0; // weak
int dword_5CC508; // weak
int dword_5CC514; // weak
int dword_5CCA0C; // weak
int dword_5CCDC4; // weak
int dword_5CCDD0; // weak
int dword_5CCDDC; // weak
int dword_5CCDE0; // weak
struct _TIME_ZONE_INFORMATION TimeZoneInformation; // idb
int dword_5CCFA4; // weak
int dword_5CD120; // weak
int dword_5CD124; // weak
int dword_5CD128; // weak
int dword_5CD12C; // weak
int dword_5CD130; // weak
int dword_5CD138; // weak
_UNKNOWN unk_5CD140; // weak
_UNKNOWN unk_5CD17C; // weak
int dword_5DAAE0; // weak
int (__stdcall *dword_5DAAE4)(_DWORD, _DWORD); // weak
int (__stdcall *dword_5DAAE8)(_DWORD, _DWORD); // weak
int dword_5DAAEC; // weak
char byte_5DAAF0; // weak
int dword_5DAAF4; // weak
char byte_5DAAF8; // weak
int dword_5DAAFC; // weak
char byte_5DAB00; // weak
int dword_5DAB04; // weak
int dword_5DAB08; // weak
int dword_5DAB0C; // weak
int dword_5DAB14; // weak
int dword_5DAB20; // weak
int dword_5DAB24; // weak
int dword_5DAB28; // weak
int dword_5DAB2C; // weak
char byte_5DAB30; // weak
int dword_5DAB40[]; // weak
__int16 word_5DAB44[]; // weak
int dword_5DAB48[]; // weak
int dword_5DAB4C; // weak
int dword_5DAB50; // weak
int dword_5DAB54; // weak
int dword_5DAB58; // weak
__int16 word_5DAB5C; // weak
int dword_5DAB60; // weak
int dword_5DABA8; // weak
int dword_5DABC4; // weak
__int16 word_5DABC8; // weak
int dword_5DAC08; // weak
int dword_5DAC38; // weak
int dword_5DAC80; // weak
int dword_5DAD28; // weak
int dword_5DAD34; // weak
int dword_5DAD44; // weak
__int16 word_5DAD48; // weak
int dword_5DAD50; // weak
__int16 word_5DAD54; // weak
int dword_5DAD5C; // weak
__int16 word_5DAD60; // weak
int dword_5DAE64; // weak
int dword_5DAEDC; // weak
__int16 word_5DAEE0; // weak
_UNKNOWN unk_5DB248; // weak
_UNKNOWN unk_5DB249; // weak
_UNKNOWN unk_5DB24A; // weak
__int16 word_5DB260[]; // weak
__int16 word_5DB262; // weak
__int16 word_5DB264; // weak
__int16 word_5DB266; // weak
__int16 word_5DB268; // weak
__int16 word_5DB26A; // weak
__int16 word_5DB26C; // weak
__int16 word_5DB26E; // weak
__int16 word_5DB284; // weak
__int16 word_5DB286; // weak
char byte_5DB38C; // weak
char byte_5DB38D; // weak
int dword_5DB390; // weak
char byte_5DB394; // weak
int dword_5DB398; // weak
UINT uNumber; // idb
int dword_5DB3C0[]; // weak
int dword_5DB4C0; // weak
int dword_5DB4F8; // weak
int dword_5DC500; // weak


//----- (00401000) --------------------------------------------------------
int __cdecl sub_401000(int a1)
{
  int result; // eax@1

  result = a1;
  switch ( a1 )
  {
    case 12:
      unknown_libname_34();
      return result;
    default:
      unknown_libname_36();
      return result;
    case 0:
    case 80:
      return result;
  }
}
// 41AEDC: using guessed type int unknown_libname_34(void);

//----- (00401090) --------------------------------------------------------
void __cdecl __noreturn sub_401090(__int32 a1)
{
  if ( a1 == -2147024882 )
    unknown_libname_34();
  AfxThrowOleException(a1);
}
// 41AEDC: using guessed type int unknown_libname_34(void);

//----- (004010B0) --------------------------------------------------------
int __thiscall sub_4010B0(_DWORD *this)
{
  int result; // eax@1

  result = (int)(this + 3);
  if ( _InterlockedDecrement(this + 3) <= 0 )
    result = (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 4))(*this, this);
  return result;
}

//----- (004010D0) --------------------------------------------------------
int __thiscall sub_4010D0(int this, unsigned int (__cdecl *a2)(void *), void *a3)
{
  int v3; // esi@1
  int result; // eax@2
  void *v5; // eax@3
  struct CWinThread *v6; // eax@5

  v3 = this;
  if ( *(_DWORD *)(this + 24) )
  {
    *(_DWORD *)(this + 88) = 183;
    result = 0;
  }
  else
  {
    v5 = a3;
    *(_DWORD *)(this + 88) = 0;
    if ( !a3 )
      v5 = (void *)this;
    v6 = AfxBeginThread(a2, v5, 0, 0, 0, 0);
    *(_DWORD *)(v3 + 24) = v6;
    if ( !v6 )
      *(_DWORD *)(v3 + 88) = GetLastError();
    result = *(_DWORD *)(v3 + 24) != 0;
  }
  return result;
}

//----- (00401130) --------------------------------------------------------
BOOL __thiscall sub_401130(int this)
{
  int v1; // esi@1
  void *v2; // ST00_4@3
  BOOL result; // eax@4

  v1 = this;
  if ( *(_DWORD *)(this + 24) )
  {
    if ( !*(_DWORD *)(this + 8) )
    {
      v2 = *(void **)(this + 20);
      *(_DWORD *)(this + 8) = 1;
      SetCommMask(v2, 0);
    }
    result = PurgeComm(*(HANDLE *)(v1 + 20), 0xFu);
    *(_DWORD *)(v1 + 24) = 0;
  }
  return result;
}

//----- (00401170) --------------------------------------------------------
int __thiscall sub_401170(int this, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, int a4)
{
  int v4; // esi@1
  bool v5; // zf@1
  void *v6; // eax@2
  int result; // eax@3
  signed __int32 v8; // eax@4
  DWORD v9; // eax@9
  void *v10; // eax@9
  DWORD v11; // eax@11
  DWORD NumberOfBytesRead; // [sp+4h] [bp-10h]@1
  struct _COMSTAT Stat; // [sp+8h] [bp-Ch]@4

  v4 = this;
  v5 = *(_DWORD *)(this + 16) == 3;
  NumberOfBytesRead = 0;
  if ( v5 )
  {
    result = sub_4062A0(*(_DWORD *)(this + 12), lpBuffer, nNumberOfBytesToRead);
    if ( result <= 0 )
      result = 0;
    else
      result = (unsigned __int16)result;
    return result;
  }
  v6 = *(void **)(this + 20);
  if ( v6 == (void *)-1 )
    return 0;
  ClearCommError(v6, (LPDWORD)(this + 92), &Stat);
  v8 = nNumberOfBytesToRead;
  if ( !a4 && (signed int)nNumberOfBytesToRead > (signed __int32)Stat.cbInQue )
    v8 = Stat.cbInQue;
  if ( v8 <= 0 || ReadFile(*(HANDLE *)(v4 + 20), lpBuffer, v8, &NumberOfBytesRead, (LPOVERLAPPED)(v4 + 28)) )
    return NumberOfBytesRead;
  v9 = GetLastError();
  *(_DWORD *)(v4 + 88) = v9;
  v5 = v9 == 997;
  v10 = *(void **)(v4 + 20);
  if ( !v5 )
  {
    ClearCommError(v10, (LPDWORD)(v4 + 92), &Stat);
    return NumberOfBytesRead;
  }
  if ( GetOverlappedResult(v10, (LPOVERLAPPED)(v4 + 28), &NumberOfBytesRead, 1) )
    return NumberOfBytesRead;
  while ( 1 )
  {
    v11 = GetLastError();
    *(_DWORD *)(v4 + 88) = v11;
    if ( v11 != 996 )
      break;
    if ( GetOverlappedResult(*(HANDLE *)(v4 + 20), (LPOVERLAPPED)(v4 + 28), &NumberOfBytesRead, 1) )
      return NumberOfBytesRead;
  }
  ClearCommError(*(HANDLE *)(v4 + 20), (LPDWORD)(v4 + 92), &Stat);
  return NumberOfBytesRead;
}

//----- (004012B0) --------------------------------------------------------
BOOL __thiscall sub_4012B0(int this, DWORD a2)
{
  int v2; // edi@1
  void *v3; // ST00_4@1
  BOOL v4; // esi@1
  void *v5; // ST00_4@2
  BOOL result; // eax@2
  struct _DCB DCB; // [sp+8h] [bp-1Ch]@1

  v2 = this;
  v3 = *(void **)(this + 20);
  *(_DWORD *)(this + 88) = 0;
  DCB.DCBlength = 28;
  v4 = GetCommState(v3, &DCB);
  if ( !v4 || (v5 = *(void **)(v2 + 20), DCB.BaudRate = a2, result = SetCommState(v5, &DCB), (v4 = result) == 0) )
  {
    *(_DWORD *)(v2 + 88) = GetLastError();
    result = v4;
  }
  return result;
}

//----- (00401310) --------------------------------------------------------
int __thiscall sub_401310(int this, DWORD dwEvtMask)
{
  int v2; // esi@1
  void *v3; // ST00_4@1
  int result; // eax@1
  int v5; // edi@1

  v2 = this;
  v3 = *(void **)(this + 20);
  *(_DWORD *)(this + 88) = 0;
  result = SetCommMask(v3, dwEvtMask);
  v5 = result;
  if ( !result )
  {
    *(_DWORD *)(v2 + 88) = GetLastError();
    result = v5;
  }
  return result;
}

//----- (00401340) --------------------------------------------------------
BOOL __thiscall sub_401340(int this, BYTE a2, BYTE a3, BYTE a4)
{
  int v4; // edi@1
  void *v5; // ST00_4@1
  BOOL v6; // esi@1
  void *v7; // ST00_4@2
  BOOL result; // eax@2
  struct _DCB DCB; // [sp+8h] [bp-1Ch]@1

  v4 = this;
  v5 = *(void **)(this + 20);
  *(_DWORD *)(this + 88) = 0;
  DCB.DCBlength = 28;
  v6 = GetCommState(v5, &DCB);
  if ( !v6
    || (*((_DWORD *)&DCB + 2) |= 2u,
        DCB.Parity = a2,
        DCB.ByteSize = a3,
        v7 = *(void **)(v4 + 20),
        DCB.StopBits = a4,
        result = SetCommState(v7, &DCB),
        (v6 = result) == 0) )
  {
    *(_DWORD *)(v4 + 88) = GetLastError();
    result = v6;
  }
  return result;
}

//----- (004013B0) --------------------------------------------------------
BOOL __thiscall sub_4013B0(int this, DWORD a2, DWORD a3, DWORD a4)
{
  int v4; // edi@1
  void *v5; // ST00_4@1
  BOOL v6; // esi@1
  void *v7; // ST00_4@2
  BOOL result; // eax@2
  struct _COMMTIMEOUTS CommTimeouts; // [sp+8h] [bp-14h]@1

  v4 = this;
  v5 = *(void **)(this + 20);
  *(_DWORD *)(this + 88) = 0;
  v6 = GetCommTimeouts(v5, &CommTimeouts);
  if ( !v6
    || (CommTimeouts.ReadIntervalTimeout = a2,
        CommTimeouts.ReadTotalTimeoutMultiplier = a3,
        v7 = *(void **)(v4 + 20),
        CommTimeouts.ReadTotalTimeoutConstant = a4,
        result = SetCommTimeouts(v7, &CommTimeouts),
        (v6 = result) == 0) )
  {
    *(_DWORD *)(v4 + 88) = GetLastError();
    result = v6;
  }
  return result;
}

//----- (00401420) --------------------------------------------------------
BOOL __thiscall sub_401420(int this, DWORD a2, DWORD a3)
{
  int v3; // edi@1
  void *v4; // ST00_4@1
  BOOL v5; // esi@1
  void *v6; // ST00_4@2
  BOOL result; // eax@2
  struct _COMMTIMEOUTS CommTimeouts; // [sp+8h] [bp-14h]@1

  v3 = this;
  v4 = *(void **)(this + 20);
  *(_DWORD *)(this + 88) = 0;
  v5 = GetCommTimeouts(v4, &CommTimeouts);
  if ( !v5
    || (CommTimeouts.WriteTotalTimeoutMultiplier = a2,
        v6 = *(void **)(v3 + 20),
        CommTimeouts.WriteTotalTimeoutConstant = a3,
        result = SetCommTimeouts(v6, &CommTimeouts),
        (v5 = result) == 0) )
  {
    *(_DWORD *)(v3 + 88) = GetLastError();
    result = v5;
  }
  return result;
}

//----- (00401480) --------------------------------------------------------
BOOL __thiscall sub_401480(int this, DWORD a2, int a3)
{
  int v3; // edi@1
  void *v4; // ST00_4@1
  BOOL v5; // esi@1
  void *v6; // ST00_4@4
  struct _DCB DCB; // [sp+8h] [bp-1Ch]@1

  v3 = this;
  v4 = *(void **)(this + 20);
  *(_DWORD *)(this + 88) = 0;
  DCB.DCBlength = 28;
  v5 = GetCommState(v4, &DCB);
  if ( !v5 )
    goto LABEL_10;
  if ( DCB.BaudRate != a2 || DCB.Parity != a3 )
  {
    DCB.BaudRate = a2;
    DCB.Parity = a3;
    v6 = *(void **)(v3 + 20);
    DCB.ByteSize = 8;
    DCB.StopBits = 0;
    v5 = SetCommState(v6, &DCB);
  }
  if ( !v5 )
LABEL_10:
    *(_DWORD *)(v3 + 88) = GetLastError();
  return v5;
}

//----- (00401500) --------------------------------------------------------
signed int __thiscall sub_401500(int this)
{
  int v1; // esi@1
  bool v2; // zf@1
  BOOL v3; // edi@2
  DWORD v4; // eax@3
  signed int result; // eax@5

  v1 = this;
  v2 = *(_DWORD *)(this + 16) == 3;
  *(_DWORD *)(this + 88) = 0;
  *(_DWORD *)(this + 96) = 0;
  if ( v2 )
  {
    WaitForSingleObject(*(HANDLE *)(*(_DWORD *)(this + 12) + 24), 0x1388u);
    result = 1;
  }
  else
  {
    v3 = WaitCommEvent(*(HANDLE *)(this + 20), (LPDWORD)(this + 96), (LPOVERLAPPED)(this + 68));
    if ( !v3 )
    {
      v4 = GetLastError();
      *(_DWORD *)(v1 + 88) = v4;
      if ( v4 == 997 )
        v3 = 1;
    }
    result = v3;
  }
  return result;
}

//----- (00401570) --------------------------------------------------------
int __thiscall sub_401570(int this, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite)
{
  int v3; // esi@1
  bool v4; // zf@1
  void *v5; // eax@2
  int result; // eax@3
  DWORD v7; // eax@5
  DWORD NumberOfBytesWritten; // [sp+8h] [bp-10h]@1
  struct _COMSTAT Stat; // [sp+Ch] [bp-Ch]@7

  v3 = this;
  v4 = *(_DWORD *)(this + 16) == 3;
  NumberOfBytesWritten = 0;
  if ( v4 )
  {
    sub_405E90(*(_DWORD *)(this + 12), (void *)lpBuffer, nNumberOfBytesToWrite);
    result = nNumberOfBytesToWrite;
  }
  else
  {
    v5 = *(void **)(this + 20);
    if ( v5 == (void *)-1 )
      return 0;
    if ( !WriteFile(v5, lpBuffer, nNumberOfBytesToWrite, &NumberOfBytesWritten, (LPOVERLAPPED)(this + 48)) )
    {
      v7 = GetLastError();
      *(_DWORD *)(v3 + 88) = v7;
      if ( v7 != 997 )
        goto LABEL_14;
      if ( WaitForSingleObject(*(HANDLE *)(v3 + 64), 0xFFFFFFFF) )
      {
        ClearCommError(*(HANDLE *)(v3 + 20), (LPDWORD)(v3 + 92), &Stat);
        return NumberOfBytesWritten;
      }
      if ( !GetOverlappedResult(*(HANDLE *)(v3 + 20), (LPOVERLAPPED)(v3 + 48), &NumberOfBytesWritten, 0) )
LABEL_14:
        ClearCommError(*(HANDLE *)(v3 + 20), (LPDWORD)(v3 + 92), &Stat);
    }
    result = NumberOfBytesWritten;
  }
  return result;
}

//----- (00401650) --------------------------------------------------------
void __thiscall sub_401650(void **this)
{
  free(*this);
}

//----- (00401690) --------------------------------------------------------
void *__thiscall sub_401690(_DWORD *this, size_t a2)
{
  _DWORD *v2; // esi@1
  void *result; // eax@1

  v2 = this;
  result = malloc(a2);
  if ( !result )
    sub_401090(-2147024882);
  *v2 = result;
  return result;
}

//----- (004016C0) --------------------------------------------------------
void __noreturn sub_4016C0()
{
  sub_401090(-2147024882);
}

//----- (004016D0) --------------------------------------------------------
int __thiscall sub_4016D0(_DWORD *this, int a2)
{
  int v2; // ebx@1
  int v3; // esi@1
  int (__thiscall ***v4)(_DWORD, _DWORD, _DWORD); // eax@1
  int v5; // ebp@1
  int v6; // edi@1
  int result; // eax@5
  _DWORD *v8; // [sp+10h] [bp-4h]@1

  v2 = *(_DWORD *)(*this - 12);
  v3 = *this - 16;
  v8 = this;
  v4 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))(*(int (**)(void))(**(_DWORD **)v3 + 16))();
  v5 = a2;
  v6 = (**v4)(v4, a2, 1);
  if ( !v6 )
    sub_4016C0();
  if ( v2 < a2 )
    v5 = v2;
  memcpy_s((void *)(v6 + 16), v5 + 1, (const void *)(v3 + 16), v5 + 1);
  *(_DWORD *)(v6 + 4) = v2;
  result = _InterlockedDecrement((volatile signed __int32 *)(v3 + 12));
  if ( result <= 0 )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)v3 + 4))(v3);
  *v8 = v6 + 16;
  return result;
}

//----- (00401790) --------------------------------------------------------
unsigned __int64 __cdecl sub_401790(unsigned int a1, unsigned int a2)
{
  unsigned __int64 result; // rax@1

  result = a2 * (unsigned __int64)a1;
  if ( !is_mul_ok(a2, a1) || (unsigned int)result > 0xFFFFFFFF )
    sub_401090(-2147024809);
  return result;
}

//----- (004017B0) --------------------------------------------------------
int __thiscall sub_4017B0(int this, DWORD NumberOfBytesTransferred)
{
  int v2; // esi@1
  int result; // eax@5
  struct _COMSTAT Stat; // [sp+4h] [bp-Ch]@4

  v2 = this;
  if ( *(_DWORD *)(this + 16) == 3 )
  {
    result = 1;
  }
  else if ( GetOverlappedResult(
              *(HANDLE *)(this + 20),
              (LPOVERLAPPED)(this + 68),
              &NumberOfBytesTransferred,
              NumberOfBytesTransferred) )
  {
    result = *(_DWORD *)(v2 + 96);
  }
  else
  {
    if ( GetLastError() != 996 )
    {
      ClearCommError(*(HANDLE *)(v2 + 20), (LPDWORD)(v2 + 92), &Stat);
      sub_401500(v2);
    }
    result = 0;
  }
  return result;
}

//----- (00401830) --------------------------------------------------------
int __thiscall sub_401830(int *this)
{
  int *v1; // esi@1
  int v2; // ecx@1
  int result; // eax@1
  int v4; // edi@1

  v1 = this;
  v2 = *this;
  result = v2 - 16;
  v4 = *(_DWORD *)(v2 - 16);
  if ( *(_DWORD *)(v2 - 12) )
  {
    if ( *(_DWORD *)(result + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(result + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)result + 4))(result);
      result = (*(int (__thiscall **)(int))(*(_DWORD *)v4 + 12))(v4) + 16;
      *v1 = result;
    }
    else
    {
      if ( *(_DWORD *)(v2 - 8) < 0 )
        sub_401090(-2147024809);
      *(_DWORD *)(v2 - 12) = 0;
      result = *v1;
      *(_BYTE *)*v1 = 0;
    }
  }
  return result;
}

//----- (00401890) --------------------------------------------------------
void *__thiscall sub_401890(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  if ( !a2 )
    sub_401090(-2147467259);
  *(_DWORD *)this = (*(int (**)(void))(*(_DWORD *)a2 + 12))() + 16;
  return v2;
}

//----- (004018C0) --------------------------------------------------------
int __thiscall sub_4018C0(int *this, int a2)
{
  int *v2; // esi@13
  int v3; // eax@13
  int v4; // ecx@13
  int v5; // eax@13
  int v6; // eax@15
  int v7; // edx@1
  int v8; // eax@1
  int result; // eax@4
  int v10; // eax@7
  int v11; // [sp+14h] [bp+4h]@11

  v7 = a2;
  v8 = *this - 16;
  if ( *(_DWORD *)(v8 + 4) > a2 )
    v7 = *(_DWORD *)(v8 + 4);
  if ( *(_DWORD *)(v8 + 12) <= 1 )
  {
    result = *(_DWORD *)(v8 + 8);
    if ( result < v7 )
    {
      if ( result <= 1024 )
        v10 = 2 * result;
      else
        v10 = result + 1024;
      if ( v10 < v7 )
        v10 = v7;
      v11 = v10;
      v2 = this;
      v3 = *this;
      v4 = *(_DWORD *)(*this - 16);
      v5 = v3 - 16;
      if ( *(_DWORD *)(v5 + 8) >= v11
        || v11 <= 0
        || (v6 = (*(int (__stdcall **)(int, int, signed int))(*(_DWORD *)v4 + 8))(v5, v11, 1)) == 0 )
      {
        sub_4016C0();
      }
      result = v6 + 16;
      *v2 = result;
    }
  }
  else
  {
    result = sub_4016D0(this, v7);
  }
  return result;
}

//----- (00401910) --------------------------------------------------------
int __cdecl sub_401910(int a1)
{
  int (__thiscall ***v1)(_DWORD, _DWORD, _DWORD); // eax@1
  int result; // eax@3
  int v3; // eax@4
  int v4; // edi@4

  v1 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))(*(int (**)(void))(**(_DWORD **)a1 + 16))();
  if ( *(_DWORD *)(a1 + 12) < 0 || v1 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))a1 )
  {
    v3 = (**v1)(v1, *(_DWORD *)(a1 + 4), 1);
    v4 = v3;
    if ( !v3 )
      sub_4016C0();
    *(_DWORD *)(v3 + 4) = *(_DWORD *)(a1 + 4);
    memcpy_s((void *)(v3 + 16), *(_DWORD *)(a1 + 4) + 1, (const void *)(a1 + 16), *(_DWORD *)(a1 + 4) + 1);
    result = v4;
  }
  else
  {
    _InterlockedExchangeAdd((volatile signed __int32 *)(a1 + 12), 1u);
    result = a1;
  }
  return result;
}

//----- (00401980) --------------------------------------------------------
_DWORD *__thiscall sub_401980(int *this, size_t a2)
{
  int *v2; // esi@1
  _DWORD *result; // eax@4

  v2 = this;
  if ( a2 > 0xFFFFFFFF )
    sub_401090(-2147024809);
  if ( a2 <= 0x80 )
  {
    result = this + 1;
    *this = (int)(this + 1);
  }
  else
  {
    sub_401690(this, a2);
    result = (_DWORD *)*v2;
  }
  return result;
}

//----- (004019C0) --------------------------------------------------------
_DWORD *__thiscall sub_4019C0(_DWORD *this)
{
  _DWORD *v1; // esi@1
  void *v2; // eax@1

  v1 = this;
  v2 = sub_41BC2E();
  if ( !v2 )
    sub_401090(-2147467259);
  *v1 = (*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16;
  return v1;
}

//----- (004019F0) --------------------------------------------------------
void __thiscall sub_4019F0(void *this)
{
  int v1; // eax@1

  v1 = *(_DWORD *)this - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v1 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v1 + 4))(v1);
}

//----- (00401A10) --------------------------------------------------------
void *__thiscall sub_401A10(void *this, _DWORD *a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = sub_401910(*a2 - 16) + 16;
  return v2;
}

//----- (00401A30) --------------------------------------------------------
int __thiscall sub_401A30(int *this, int a2)
{
  int *v2; // esi@1

  v2 = this;
  if ( ((*(_DWORD *)(*this - 8) - a2) | (1 - *(_DWORD *)(*this - 16 + 12))) < 0 )
    sub_4018C0(this, a2);
  return *v2;
}

//----- (00401A60) --------------------------------------------------------
int __thiscall sub_401A60(int this)
{
  int v1; // esi@1
  int result; // eax@8
  int (__stdcall ***v3)(_DWORD); // ecx@10
  int v4; // esi@12

  v1 = this;
  *(_DWORD *)this = &off_4AB7E4;
  if ( *(_DWORD *)(this + 20) != -1 )
  {
    sub_401130(this);
    PurgeComm(*(HANDLE *)(v1 + 20), 0xFu);
    if ( *(_DWORD *)(v1 + 44) )
      CloseHandle(*(HANDLE *)(v1 + 44));
    if ( *(_DWORD *)(v1 + 64) )
      CloseHandle(*(HANDLE *)(v1 + 64));
    if ( *(_DWORD *)(v1 + 84) )
      CloseHandle(*(HANDLE *)(v1 + 84));
    result = CloseHandle(*(HANDLE *)(v1 + 20));
    *(_DWORD *)(v1 + 20) = -1;
  }
  if ( *(_DWORD *)(v1 + 16) == 3 )
  {
    v3 = *(int (__stdcall ****)(_DWORD))(v1 + 12);
    if ( v3 )
      result = (**v3)(1);
  }
  v4 = *(_DWORD *)(v1 + 104) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v4 + 12)) <= 0 )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)v4 + 4))(v4);
  return result;
}
// 4AB7E4: using guessed type int (__thiscall *off_4AB7E4)(void *, char);

//----- (00401B30) --------------------------------------------------------
int __stdcall sub_401B30(char *a1)
{
  signed int v1; // esi@6

  if ( !memcmp(a1, "COM1", 5u) || !memcmp(a1, "COM2", 5u) || !memcmp(a1, "COM3", 5u) || !memcmp(a1, "COM4", 5u) )
  {
    v1 = 2;
  }
  else if ( !memcmp(a1, "NONE", 5u) )
  {
    v1 = 0;
  }
  else
  {
    v1 = strncmp(a1, "ETHR:", 5u) != 0 ? 1 : 3;
  }
  if ( _InterlockedDecrement((volatile signed __int32 *)a1 - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**((_DWORD **)a1 - 4) + 4))(a1 - 16);
  return v1;
}

//----- (00401BE0) --------------------------------------------------------
int __thiscall sub_401BE0(int *this, char a2)
{
  int *v2; // edi@1
  int v3; // ebx@1
  int v4; // esi@1
  int result; // eax@4

  v2 = this;
  v3 = *(_DWORD *)(*this - 12);
  v4 = v3 + 1;
  if ( ((*(_DWORD *)(*this - 8) - (v3 + 1)) | (1 - *(_DWORD *)(*this - 4))) < 0 )
    sub_4018C0(this, v3 + 1);
  *(_BYTE *)(v3 + *v2) = a2;
  if ( v4 < 0 || (result = *v2, v4 > *(_DWORD *)(*v2 - 8)) )
    sub_401090(-2147024809);
  *(_DWORD *)(result - 12) = v4;
  *(_BYTE *)(v4 + *v2) = 0;
  return result;
}

//----- (00401C40) --------------------------------------------------------
int __thiscall sub_401C40(int *this, void *Src, rsize_t DstSize)
{
  int *v3; // ebx@1
  int result; // eax@2
  void *v5; // ecx@3
  unsigned int v6; // ebp@5
  char *v7; // edi@5
  void *v8; // eax@7

  v3 = this;
  if ( DstSize )
  {
    v5 = Src;
    if ( !Src )
      goto LABEL_15;
    v6 = *(_DWORD *)(*v3 - 12);
    v7 = (char *)Src - *v3;
    if ( (((*(_DWORD *)(*v3 - 8) - DstSize) | (1 - *(_DWORD *)(*v3 - 4))) & 0x80000000) != 0 )
    {
      sub_4018C0(v3, DstSize);
      v5 = Src;
    }
    v8 = (void *)*v3;
    if ( (unsigned int)v7 > v6 )
      memcpy_s(v8, DstSize, v5, DstSize);
    else
      memmove_s(v8, DstSize, &v7[(_DWORD)v8], DstSize);
    if ( (DstSize & 0x80000000) != 0 || (result = *v3, (signed int)DstSize > *(_DWORD *)(*v3 - 8)) )
LABEL_15:
      sub_401090(-2147024809);
    *(_DWORD *)(result - 12) = DstSize;
    *(_BYTE *)(DstSize + *v3) = 0;
  }
  else
  {
    result = sub_401830(this);
  }
  return result;
}

//----- (00401CD0) --------------------------------------------------------
void *__thiscall sub_401CD0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_401A60((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00401CF0) --------------------------------------------------------
int *__thiscall sub_401CF0(int *this, void **a2)
{
  int *v2; // edi@1
  char *v3; // eax@1
  int v4; // esi@1
  int v5; // ebp@4
  int *result; // eax@6

  v2 = this;
  v3 = (char *)*a2 - 16;
  v4 = *this - 16;
  if ( v3 == (char *)v4 )
  {
    result = this;
  }
  else if ( *(_DWORD *)(v4 + 12) < 0 || *(_DWORD *)v3 != *(_DWORD *)v4 )
  {
    sub_401C40(this, *a2, *((_DWORD *)*a2 - 3));
    result = v2;
  }
  else
  {
    v5 = sub_401910((int)v3);
    if ( _InterlockedDecrement((volatile signed __int32 *)(v4 + 12)) <= 0 )
      (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v4 + 4))(v4);
    *v2 = v5 + 16;
    result = v2;
  }
  return result;
}

//----- (00401D70) --------------------------------------------------------
int *__thiscall sub_401D70(int *this, void **a2)
{
  int *v2; // esi@1

  v2 = this;
  sub_401CF0(this, a2);
  return v2;
}

//----- (00401D90) --------------------------------------------------------
int __thiscall sub_401D90(int this, int a2)
{
  int v2; // esi@1
  int *v3; // ebp@1
  void *v4; // eax@1
  void *v5; // eax@3
  void *v6; // eax@5
  int v7; // eax@7
  char *v8; // edi@7
  int v9; // eax@7
  void **v10; // ecx@7
  int v11; // eax@7
  int v12; // eax@7
  bool v13; // zf@7
  DWORD (__stdcall *v14)(); // ebp@14
  HANDLE v15; // eax@17
  HANDLE v16; // eax@18
  HANDLE v17; // eax@19
  int v18; // ebp@27
  int v19; // eax@29
  int v20; // ebp@33
  int v21; // eax@35
  int v22; // edx@38
  int v23; // ebx@38
  bool v24; // sf@38
  int v25; // eax@43
  int v26; // ebx@43
  int v27; // ebp@43
  int v28; // edx@47
  int v29; // eax@57
  int v30; // eax@60
  char v31; // dl@63
  int v32; // eax@63
  int v33; // edx@63
  int v34; // ebx@63
  int v35; // eax@63
  int v36; // ebp@68
  unsigned __int16 v37; // ax@68
  int v38; // ebx@68
  int v39; // edx@68
  int v40; // eax@68
  int v41; // edx@74
  int v42; // eax@75
  int v43; // eax@78
  char v44; // dl@79
  int v45; // eax@79
  int v46; // edx@79
  int v47; // ebx@79
  int v48; // eax@79
  void **v49; // ebx@84
  int v50; // ecx@84
  int (*v51)(void); // edx@85
  int v52; // ebx@85
  int (__thiscall ***v53)(_DWORD, _DWORD, _DWORD); // eax@85
  int v54; // ebp@87
  int v55; // eax@88
  int v56; // ecx@91
  void *v57; // eax@91
  int v58; // edi@94
  void **v59; // eax@96
  int v60; // edx@97
  void **v61; // eax@98
  int v62; // edx@99
  int v64; // [sp-Ch] [bp-48h]@85
  int v65; // [sp-8h] [bp-44h]@85
  void **v66; // [sp-4h] [bp-40h]@7
  int v67; // [sp+14h] [bp-28h]@38
  char *v68; // [sp+18h] [bp-24h]@7
  _DWORD *v69; // [sp+1Ch] [bp-20h]@5
  __int16 v70[2]; // [sp+20h] [bp-1Ch]@7
  int *v71; // [sp+24h] [bp-18h]@46
  void ***v72; // [sp+28h] [bp-14h]@7
  int v73; // [sp+2Ch] [bp-10h]@1
  int v74; // [sp+38h] [bp-4h]@1

  v2 = this;
  v73 = this;
  v74 = 0;
  *(_DWORD *)this = &off_4AB7E4;
  v3 = (int *)(this + 104);
  v4 = sub_41BC2E();
  if ( v4 == 0 )
    sub_401090(-2147467259);
  *v3 = (*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16;
  LOBYTE(v74) = 1;
  v5 = sub_41BC2E();
  if ( v5 == 0 )
    sub_401090(-2147467259);
  v69 = (_DWORD *)((*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 12))(v5) + 16);
  LOBYTE(v74) = 2;
  v6 = sub_41BC2E();
  if ( v6 == 0 )
    sub_401090(-2147467259);
  v7 = (*(int (__thiscall **)(void *))(*(_DWORD *)v6 + 12))(v6);
  v8 = (char *)(v7 + 16);
  v68 = (char *)(v7 + 16);
  *(_DWORD *)(v2 + 20) = -1;
  *(_DWORD *)(v2 + 24) = 0;
  *(_DWORD *)(v2 + 88) = 0;
  *(_DWORD *)(v2 + 92) = 0;
  *(_DWORD *)(v2 + 96) = 0;
  *(_DWORD *)(v2 + 4) = 0;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 28) = 0;
  *(_DWORD *)(v2 + 32) = 0;
  *(_DWORD *)(v2 + 36) = 0;
  *(_DWORD *)(v2 + 40) = 0;
  *(_DWORD *)(v2 + 44) = 0;
  *(_DWORD *)(v2 + 48) = 0;
  *(_DWORD *)(v2 + 52) = 0;
  *(_DWORD *)(v2 + 56) = 0;
  *(_DWORD *)(v2 + 60) = 0;
  *(_DWORD *)(v2 + 64) = 0;
  *(_DWORD *)(v2 + 68) = 0;
  *(_DWORD *)(v2 + 72) = 0;
  *(_DWORD *)(v2 + 76) = 0;
  v66 = (void **)&a2;
  *(_DWORD *)(v2 + 80) = 0;
  LOBYTE(v74) = 3;
  *(_DWORD *)(v2 + 84) = 0;
  sub_401CF0(v3, v66);
  v9 = *v3;
  v66 = v10;
  v72 = &v66;
  *(_DWORD *)v70 = &v66;
  v11 = sub_401910(v9 - 16);
  **(_DWORD **)v70 = v11 + 16;
  v12 = sub_401B30((char *)v66);
  v13 = *(_DWORD *)(v2 + 20) == -1;
  *(_DWORD *)(v2 + 16) = v12;
  if ( v13 )
  {
    v14 = GetLastError;
    *(_DWORD *)(v2 + 88) = GetLastError();
  }
  else
  {
    if ( *(_DWORD *)(v2 + 44) )
    {
      v66 = *(void ***)(v2 + 44);
      CloseHandle(v66);
    }
    if ( *(_DWORD *)(v2 + 64) )
    {
      v66 = *(void ***)(v2 + 64);
      CloseHandle(v66);
    }
    if ( *(_DWORD *)(v2 + 84) )
    {
      v66 = *(void ***)(v2 + 84);
      CloseHandle(v66);
    }
    CloseHandle(*(HANDLE *)(v2 + 20));
    v14 = GetLastError;
    *(_DWORD *)(v2 + 20) = -1;
  }
  if ( *(_DWORD *)(v2 + 16) )
  {
    v15 = CreateFileA(*(LPCSTR *)(v2 + 104), 0xC0000000, 0, 0, 3u, 0x40000080u, 0);
    *(_DWORD *)(v2 + 20) = v15;
    if ( v15 != (HANDLE)-1 )
    {
      v16 = CreateEventA(0, 1, 0, 0);
      *(_DWORD *)(v2 + 44) = v16;
      if ( v16 )
      {
        v17 = CreateEventA(0, 1, 0, 0);
        *(_DWORD *)(v2 + 64) = v17;
        if ( v17 )
          *(_DWORD *)(v2 + 84) = CreateEventA(0, 1, 0, 0);
      }
      if ( *(_DWORD *)(v2 + 16) == 2 && *(_DWORD *)(v2 + 44) && *(_DWORD *)(v2 + 64) && *(_DWORD *)(v2 + 84) )
      {
        sub_4012B0(v2, 0x12C0u);
        sub_401340(v2, 0, 8u, 0);
        sub_4013B0(v2, 0xFFFFFFFF, 0, 0);
        sub_401420(v2, 0, 0x3E8u);
        SetupComm(*(HANDLE *)(v2 + 20), 0x4000u, 0x4000u);
        SetCommMask(*(HANDLE *)(v2 + 20), 1u);
        PurgeComm(*(HANDLE *)(v2 + 20), 0xFu);
        goto LABEL_94;
      }
      goto LABEL_93;
    }
    if ( *(_DWORD *)(v2 + 16) != 3 )
    {
LABEL_93:
      *(_DWORD *)(v2 + 88) = v14();
      goto LABEL_94;
    }
    v18 = 0;
    if ( *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) > 0 )
    {
      while ( v18 >= 0 )
      {
        v19 = *(_DWORD *)(v2 + 104);
        if ( v18 > *(_DWORD *)(v19 - 12) )
          break;
        if ( *(_BYTE *)(v19 + v18) == 58 )
          goto LABEL_33;
        if ( v18 > *(_DWORD *)(v19 - 12) )
          break;
        LOBYTE(v70[0]) = *(_BYTE *)(v19 + v18);
        sub_401BE0((int *)&v68, v70[0]);
        if ( ++v18 >= *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
          goto LABEL_33;
      }
LABEL_53:
      sub_401090(-2147024809);
    }
LABEL_33:
    v20 = v18 + 1;
    sub_401830((int *)&v68);
    v8 = v68;
    if ( v20 < *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
    {
      while ( v20 >= 0 )
      {
        v21 = *(_DWORD *)(v2 + 104);
        if ( v20 > *(_DWORD *)(v21 - 12) )
          break;
        if ( *(_BYTE *)(v21 + v20) == 58 )
          goto LABEL_43;
        if ( v20 > *(_DWORD *)(v21 - 12) )
          break;
        v22 = *((_DWORD *)v8 - 3);
        BYTE3(v67) = *(_BYTE *)(v21 + v20);
        v23 = v22 + 1;
        v24 = ((1 - *((_DWORD *)v8 - 1)) | (*((_DWORD *)v8 - 2) - (v22 + 1))) < 0;
        *(_DWORD *)v70 = v22;
        if ( v24 )
        {
          sub_4018C0((int *)&v68, v22 + 1);
          v8 = v68;
          v22 = *(_DWORD *)v70;
        }
        v8[v22] = BYTE3(v67);
        if ( v23 < 0 || v23 > *((_DWORD *)v8 - 2) )
          break;
        *((_DWORD *)v8 - 3) = v23;
        v8[v23] = 0;
        if ( ++v20 >= *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
          goto LABEL_43;
      }
      goto LABEL_53;
    }
LABEL_43:
    v25 = (int)(v69 - 4);
    v26 = (int)(v8 - 16);
    v27 = v20 + 1;
    *(_DWORD *)v70 = v69 - 4;
    if ( (_DWORD *)(v8 - 16) != v69 - 4 )
    {
      if ( *(_DWORD *)(v25 + 12) < 0 || *(_DWORD *)v26 != *(_DWORD *)v25 )
      {
        v66 = (void **)*((_DWORD *)v8 - 3);
        sub_401C40((int *)&v69, v8, (rsize_t)v66);
      }
      else
      {
        v71 = (int *)sub_401910((int)(v8 - 16));
        if ( _InterlockedDecrement((volatile signed __int32 *)(*(_DWORD *)v70 + 12)) <= 0 )
        {
          v28 = ***(_DWORD ***)v70;
          v66 = *(void ***)v70;
          (*(void (__stdcall **)(_DWORD))(v28 + 4))(*(_DWORD *)v70);
        }
        v69 = v71 + 4;
      }
    }
    v13 = *(_DWORD *)(v26 + 4) == 0;
    v71 = *(int **)v26;
    if ( !v13 )
    {
      if ( *(_DWORD *)(v26 + 12) >= 0 )
      {
        if ( _InterlockedDecrement((volatile signed __int32 *)(v26 + 12)) <= 0 )
          (*(void (__stdcall **)(char *))(**(_DWORD **)v26 + 4))(v8 - 16);
        v29 = (*(int (**)(void))(*v71 + 12))();
        v8 = (char *)(v29 + 16);
        v68 = (char *)(v29 + 16);
      }
      else
      {
        if ( *((_DWORD *)v8 - 2) < 0 )
          goto LABEL_53;
        *((_DWORD *)v8 - 3) = 0;
        *v8 = 0;
      }
    }
    if ( v27 < *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
    {
      while ( v27 >= 0 )
      {
        v30 = *(_DWORD *)(v2 + 104);
        if ( v27 > *(_DWORD *)(v30 - 12) )
          break;
        if ( *(_BYTE *)(v30 + v27) == 58 )
          goto LABEL_68;
        if ( v27 > *(_DWORD *)(v30 - 12) )
          break;
        v31 = *(_BYTE *)(v30 + v27);
        v32 = *((_DWORD *)v8 - 2);
        BYTE3(v67) = v31;
        v33 = *((_DWORD *)v8 - 3);
        v34 = v33 + 1;
        v35 = (1 - *((_DWORD *)v8 - 1)) | (v32 - (v33 + 1));
        v71 = (int *)*((_DWORD *)v8 - 3);
        if ( v35 < 0 )
        {
          sub_4018C0((int *)&v68, v33 + 1);
          v8 = v68;
          v33 = (int)v71;
        }
        v8[v33] = BYTE3(v67);
        if ( v34 < 0 || v34 > *((_DWORD *)v8 - 2) )
          break;
        *((_DWORD *)v8 - 3) = v34;
        v8[v34] = 0;
        if ( ++v27 >= *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
          goto LABEL_68;
      }
      goto LABEL_53;
    }
LABEL_68:
    v36 = v27 + 1;
    v37 = j__atol(v8);
    v38 = *((_DWORD *)v8 - 4);
    v39 = v37;
    v40 = (int)(v8 - 16);
    v13 = *((_DWORD *)v8 - 3) == 0;
    *(_DWORD *)v70 = v39;
    if ( !v13 )
    {
      if ( *(_DWORD *)(v40 + 12) >= 0 )
      {
        if ( _InterlockedDecrement((volatile signed __int32 *)(v40 + 12)) <= 0 )
        {
          v41 = **(_DWORD **)v40;
          v66 = (void **)(v8 - 16);
          (*(void (__stdcall **)(char *))(v41 + 4))(v8 - 16);
        }
        v42 = (*(int (__thiscall **)(int))(*(_DWORD *)v38 + 12))(v38);
        v8 = (char *)(v42 + 16);
        v68 = (char *)(v42 + 16);
      }
      else
      {
        if ( *((_DWORD *)v8 - 2) < 0 )
          sub_401090(-2147024809);
        *((_DWORD *)v8 - 3) = 0;
        *v8 = 0;
      }
    }
    if ( v36 < *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
    {
      while ( v36 >= 0 )
      {
        v43 = *(_DWORD *)(v2 + 104);
        if ( v36 > *(_DWORD *)(v43 - 12) )
          break;
        v44 = *(_BYTE *)(v43 + v36);
        v45 = *((_DWORD *)v8 - 2);
        BYTE3(v67) = v44;
        v46 = *((_DWORD *)v8 - 3);
        v47 = v46 + 1;
        v48 = (1 - *((_DWORD *)v8 - 1)) | (v45 - (v46 + 1));
        v71 = (int *)*((_DWORD *)v8 - 3);
        if ( v48 < 0 )
        {
          sub_4018C0((int *)&v68, v46 + 1);
          v8 = v68;
          v46 = (int)v71;
        }
        v8[v46] = BYTE3(v67);
        if ( v47 < 0 || v47 > *((_DWORD *)v8 - 2) )
          break;
        *((_DWORD *)v8 - 3) = v47;
        v8[v47] = 0;
        if ( ++v36 >= *(_DWORD *)(*(_DWORD *)(v2 + 104) - 12) )
          goto LABEL_84;
      }
      goto LABEL_53;
    }
LABEL_84:
    v49 = (void **)(unsigned __int16)j__atol(v8);
    v72 = (void ***)operator new(0x950u);
    LOBYTE(v74) = 4;
    if ( v72 )
    {
      v66 = v49;
      v65 = *(_DWORD *)v70;
      v64 = v50;
      v51 = *(int (**)(void))(*(_DWORD *)*(v69 - 4) + 16);
      v52 = (int)(v69 - 4);
      v71 = &v64;
      v53 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))v51();
      if ( *(_DWORD *)(v52 + 12) < 0 || v53 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v52 )
      {
        v55 = (**v53)(v53, *(_DWORD *)(v52 + 4), 1);
        v54 = v55;
        if ( !v55 )
          sub_4016C0();
        *(_DWORD *)(v55 + 4) = *(_DWORD *)(v52 + 4);
        memcpy_s((void *)(v55 + 16), *(_DWORD *)(v52 + 4) + 1, (const void *)(v52 + 16), *(_DWORD *)(v52 + 4) + 1);
      }
      else
      {
        v54 = v52;
        _InterlockedExchangeAdd((volatile signed __int32 *)(v52 + 12), 1u);
      }
      v56 = (int)v72;
      *v71 = v54 + 16;
      sub_4064A0(v56, v64, v65, (char *)v66);
      LOBYTE(v74) = 3;
      *(_DWORD *)(v2 + 12) = v57;
      sub_406320(v57);
    }
    else
    {
      LOBYTE(v74) = 3;
      *(_DWORD *)(v2 + 12) = 0;
      sub_406320(0);
    }
  }
LABEL_94:
  v58 = (int)(v8 - 16);
  LOBYTE(v74) = 2;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v58 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v58 + 4))(v58);
  v59 = (void **)(v69 - 4);
  LOBYTE(v74) = 1;
  if ( _InterlockedDecrement(v69 - 1) <= 0 )
  {
    v60 = *(_DWORD *)*v59;
    v66 = v59;
    (*(void (__stdcall **)(void **))(v60 + 4))(v59);
  }
  v61 = (void **)(a2 - 16);
  v74 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
  {
    v62 = *(_DWORD *)*v61;
    v66 = v61;
    (*(void (__stdcall **)(void **))(v62 + 4))(v61);
  }
  return v2;
}
// 4AB7E4: using guessed type int (__thiscall *off_4AB7E4)(void *, char);

//----- (004024A0) --------------------------------------------------------
signed int __thiscall sub_4024A0(int this)
{
  InitializeCriticalSection((LPCRITICAL_SECTION)(this + 8));
  return 1;
}

//----- (00402540) --------------------------------------------------------
_DWORD *__thiscall sub_402540(_DWORD *this)
{
  _DWORD *v1; // esi@1

  v1 = this;
  unknown_libname_39(0);
  *v1 = &off_4AB81C;
  if ( !sub_4024A0((int)v1) )
    unknown_libname_34();
  return v1;
}
// 41AEDC: using guessed type int unknown_libname_34(void);
// 41BFCB: using guessed type _DWORD __stdcall unknown_libname_39(_DWORD);
// 4AB81C: using guessed type int (*off_4AB81C)();

//----- (004025A0) --------------------------------------------------------
void __stdcall sub_4025A0(void *a1)
{
  j__free(a1);
}

//----- (004025B0) --------------------------------------------------------
signed int __stdcall sub_4025B0(int a1, int a2)
{
  return 1;
}

//----- (004025E0) --------------------------------------------------------
signed int __thiscall sub_4025E0(int this)
{
  EnterCriticalSection((LPCRITICAL_SECTION)(this + 8));
  return 1;
}

//----- (00402660) --------------------------------------------------------
signed int __thiscall sub_402660(void *this, int a2)
{
  return sub_4025E0((int)this);
}

//----- (00402670) --------------------------------------------------------
signed int __thiscall sub_402670(int this)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(this + 8));
  return 1;
}

//----- (00402680) --------------------------------------------------------
_DWORD *__thiscall sub_402680(_DWORD *this)
{
  _DWORD *v1; // esi@1

  v1 = this;
  CWnd::CWnd(this);
  *v1 = &off_4AB83C;
  sub_402540(v1 + 21);
  v1[29] = 0;
  v1[30] = 0;
  v1[31] = 0;
  return v1;
}
// 41D438: using guessed type int __thiscall CWnd::CWnd(_DWORD);
// 4AB83C: using guessed type int (*off_4AB83C)();

//----- (004026F0) --------------------------------------------------------
BOOL __thiscall sub_4026F0(int this)
{
  return EnableWindow(*(HWND *)(this + 32), 0);
}

//----- (00402700) --------------------------------------------------------
BOOL __thiscall sub_402700(int this)
{
  return EnableWindow(*(HWND *)(this + 32), 1);
}

//----- (00402710) --------------------------------------------------------
int __thiscall sub_402710(CWnd *this)
{
  CWnd *v1; // esi@1
  char *v2; // edi@1

  v1 = this;
  *(_DWORD *)this = &off_4AB83C;
  v2 = (char *)this + 84;
  *((_DWORD *)this + 21) = &off_4AB81C;
  DeleteCriticalSection((LPCRITICAL_SECTION)((char *)this + 92));
  sub_41BFDA((int)v2);
  return CWnd::~CWnd(v1);
}
// 4AB81C: using guessed type int (*off_4AB81C)();
// 4AB83C: using guessed type int (*off_4AB83C)();

//----- (004028B0) --------------------------------------------------------
int __thiscall sub_4028B0(CWnd *this, int a2, int a3, int a4, int a5)
{
  CWnd *v5; // esi@1
  char *v6; // edi@1
  int result; // eax@1
  void *v8; // eax@4
  int i; // eax@7

  v5 = this;
  v6 = (char *)this + 84;
  result = sub_4025E0((int)this + 84);
  if ( result )
  {
    if ( *((_DWORD *)v5 + 29) != a2 || *((_DWORD *)v5 + 30) != a3 )
    {
      *((_DWORD *)v5 + 29) = a2;
      v8 = (void *)*((_DWORD *)v5 + 31);
      *((_DWORD *)v5 + 30) = a3;
      if ( v8 )
        free(v8);
      *((_DWORD *)v5 + 31) = malloc(4 * *((_DWORD *)v5 + 29) * *((_DWORD *)v5 + 30));
    }
    for ( i = 0; i < *((_DWORD *)v5 + 29) * *((_DWORD *)v5 + 30); ++i )
      *(_DWORD *)(*((_DWORD *)v5 + 31) + 4 * i) = *(_DWORD *)(a5 + 4 * *(_BYTE *)(i + a4));
    CWnd::SetWindowPos(v5, &hWndInsertAfter, 0, 0, *((_DWORD *)v5 + 29) + 8, *((_DWORD *)v5 + 30) + 25, 2u);
    (*(void (__thiscall **)(char *))(*(_DWORD *)v6 + 20))(v6);
    result = InvalidateRect(*((HWND *)v5 + 8), 0, 1);
  }
  return result;
}

//----- (00402980) --------------------------------------------------------
void *__thiscall sub_402980(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4AB81C;
  DeleteCriticalSection((LPCRITICAL_SECTION)((char *)this + 8));
  sub_41BFDA((int)v2);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4AB81C: using guessed type int (*off_4AB81C)();

//----- (004029B0) --------------------------------------------------------
int (**sub_4029B0())()
{
  return &off_4AB970;
}
// 4AB970: using guessed type int (*off_4AB970)();

//----- (004029C0) --------------------------------------------------------
void *__thiscall sub_4029C0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_402710((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004029F0) --------------------------------------------------------
int __cdecl sub_4029F0(_DWORD *a1, _DWORD *a2)
{
  _DWORD *v2; // eax@1
  _DWORD *v3; // ecx@1
  unsigned int v4; // esi@1
  int v5; // edx@5
  int v6; // esi@6
  _BYTE *v7; // eax@6
  _BYTE *v8; // ecx@6
  int v9; // esi@8
  _BYTE *v10; // eax@8
  _BYTE *v11; // ecx@8
  _BYTE *v12; // eax@10
  _BYTE *v13; // ecx@10
  signed int v14; // eax@12

  v2 = a2;
  v3 = a1;
  v4 = 16;
  do
  {
    if ( *v3 != *v2 )
      goto LABEL_5;
    v4 -= 4;
    ++v2;
    ++v3;
  }
  while ( v4 >= 4 );
  if ( !v4 )
  {
LABEL_14:
    v14 = 0;
    return v14 == 0;
  }
LABEL_5:
  v5 = *(_BYTE *)v3 - *(_BYTE *)v2;
  if ( *(_BYTE *)v3 == *(_BYTE *)v2 )
  {
    v6 = v4 - 1;
    v7 = (char *)v2 + 1;
    v8 = (char *)v3 + 1;
    if ( !v6 )
      goto LABEL_14;
    v5 = *v8 - *v7;
    if ( *v8 == *v7 )
    {
      v9 = v6 - 1;
      v10 = v7 + 1;
      v11 = v8 + 1;
      if ( !v9 )
        goto LABEL_14;
      v5 = *v11 - *v10;
      if ( *v11 == *v10 )
      {
        v12 = v10 + 1;
        v13 = v11 + 1;
        if ( v9 == 1 )
          goto LABEL_14;
        v5 = *v13 - *v12;
        if ( *v13 == *v12 )
          goto LABEL_14;
      }
    }
  }
  v14 = 1;
  if ( v5 <= 0 )
    return 0;
  return v14 == 0;
}

//----- (00402AC0) --------------------------------------------------------
void *__thiscall sub_402AC0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4AB9BC;
  sub_481D6F((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (00402B00) --------------------------------------------------------
int __thiscall sub_402B00(int this, int a2)
{
  int result; // eax@1

  result = a2;
  *(_DWORD *)(this + 752) = a2;
  return result;
}

//----- (00402B10) --------------------------------------------------------
int __thiscall sub_402B10(int this)
{
  int result; // eax@2
  int v2; // ecx@3
  int v3; // eax@3

  if ( *(_DWORD *)(this + 368) )
  {
    sub_402B00(this, 0);
    v3 = *(_DWORD *)(v2 + 368);
    if ( !v3 )
      unknown_libname_36();
    *(_DWORD *)(v2 + 368) = *(_DWORD *)v3;
    result = *(_DWORD *)(v3 + 8);
  }
  else
  {
    sub_402B00(this, 34);
    result = 0;
  }
  return result;
}

//----- (00402B50) --------------------------------------------------------
int __thiscall sub_402B50(int this)
{
  int result; // eax@2
  int v2; // ecx@3
  int v3; // eax@3

  if ( *(_DWORD *)(this + 400) )
  {
    sub_402B00(this, 0);
    v3 = *(_DWORD *)(v2 + 400);
    if ( !v3 )
      unknown_libname_36();
    *(_DWORD *)(v2 + 400) = *(_DWORD *)v3;
    result = *(_DWORD *)(v3 + 8);
  }
  else
  {
    sub_402B00(this, 35);
    result = 0;
  }
  return result;
}

//----- (00402B90) --------------------------------------------------------
int __thiscall sub_402B90(int this, unsigned int a2)
{
  int v2; // esi@1
  int result; // eax@2
  int v4; // esi@3

  v2 = this;
  if ( a2 < *(_DWORD *)(this + 416) )
  {
    *(_DWORD *)(this + 400) = unknown_libname_73(a2);
    sub_402B00(v2, 0);
    v4 = *(_DWORD *)(v2 + 400);
    if ( !v4 )
      unknown_libname_36();
    result = *(_DWORD *)(v4 + 8);
  }
  else
  {
    sub_402B00(this, 36);
    result = 0;
  }
  return result;
}
// 42356C: using guessed type _DWORD __stdcall unknown_libname_73(_DWORD);

//----- (00402BE0) --------------------------------------------------------
int __thiscall sub_402BE0(void *this)
{
  int v1; // ecx@1

  sub_402B00((int)this, 0);
  return *(_DWORD *)(v1 + 32);
}

//----- (00402BF0) --------------------------------------------------------
int __thiscall sub_402BF0(void *this)
{
  int v1; // ecx@1

  sub_402B00((int)this, 0);
  return *(_DWORD *)(v1 + 416);
}

//----- (00402C00) --------------------------------------------------------
signed int __thiscall sub_402C00(int this)
{
  int v1; // edx@1
  int v2; // eax@1
  int v3; // edx@1
  int v4; // eax@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edx@1

  v1 = *(_DWORD *)(this + 88) != 0;
  *(_DWORD *)(this + 36) = *(_DWORD *)(this + 84) != 0;
  v2 = *(_DWORD *)(this + 92) != 0;
  *(_DWORD *)(this + 40) = v1;
  v3 = *(_DWORD *)(this + 96) != 0;
  *(_DWORD *)(this + 44) = v2;
  v4 = *(_DWORD *)(this + 100) != 0;
  *(_DWORD *)(this + 48) = v3;
  v5 = *(_DWORD *)(this + 104) != 0;
  *(_DWORD *)(this + 52) = v4;
  v6 = *(_DWORD *)(this + 108) != 0;
  *(_DWORD *)(this + 56) = v5;
  v7 = *(_DWORD *)(this + 112) != 0;
  *(_DWORD *)(this + 60) = v6;
  *(_DWORD *)(this + 64) = v7;
  sub_402B00(this, 0);
  return 1;
}

//----- (00402C70) --------------------------------------------------------
signed int __thiscall sub_402C70(char *this)
{
  int v1; // esi@1
  int v2; // ST0C_4@1
  HMODULE v3; // eax@1
  signed int result; // eax@2

  v1 = (int)this;
  v2 = (int)(this + 360);
  v3 = GetModuleHandleA(0);
  if ( DirectInput8Create(v3, 2048, "0y:HM]d6", v2, 0) >= 0 )
  {
    sub_402B00(v1, 0);
    result = 1;
  }
  else
  {
    sub_402B00(v1, 38);
    result = 0;
  }
  return result;
}
// 4742A2: using guessed type int __stdcall DirectInput8Create(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00402CC0) --------------------------------------------------------
int __thiscall sub_402CC0(int this)
{
  int result; // eax@1

  result = 0;
  *(_DWORD *)(this + 464) = 0;
  *(_DWORD *)(this + 468) = 0;
  *(_DWORD *)(this + 472) = 0;
  *(_DWORD *)(this + 24) = 1;
  return result;
}

//----- (00402CE0) --------------------------------------------------------
int __thiscall sub_402CE0(void *this)
{
  int v1; // ecx@1

  sub_402B00((int)this, 0);
  return *(_DWORD *)(v1 + 472);
}

//----- (00402CF0) --------------------------------------------------------
int __thiscall sub_402CF0(void *this, int a2)
{
  int result; // eax@1
  int v3; // ecx@1

  sub_402B00((int)this, 0);
  result = a2;
  *(_DWORD *)(v3 + 356) = a2;
  return result;
}

//----- (00402D10) --------------------------------------------------------
unsigned int __thiscall sub_402D10(int this, unsigned int a2)
{
  int v2; // esi@1
  int v3; // ecx@1

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  if ( !v3 || a2 >= (*(_DWORD *)(v2 + 8) - v3) >> 5 )
    _invalid_parameter_noinfo(v3);
  return *(_DWORD *)(v2 + 4) + 32 * a2;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00402D40) --------------------------------------------------------
int __thiscall sub_402D40(int this)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 4);
  if ( result )
    result = (*(_DWORD *)(this + 8) - result) / 44;
  return result;
}

//----- (00402D60) --------------------------------------------------------
void *__cdecl sub_402D60(char *a1)
{
  char *v1; // ecx@1
  int (__thiscall **v3)(void *, char); // [sp+0h] [bp-Ch]@5

  v1 = a1;
  if ( a1 )
  {
    if ( 0xFFFFFFFF / (unsigned int)a1 < 0x20 )
    {
      a1 = 0;
      std::exception::exception((std::exception *)&v3, (const char *const *)&a1);
      v3 = &off_4AB9BC;
      _CxxThrowException(&v3, &unk_5219EC);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new(32 * (_DWORD)v1);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (00402DC0) --------------------------------------------------------
void *__cdecl sub_402DC0(char *a1)
{
  char *v1; // ecx@1
  int (__thiscall **v3)(void *, char); // [sp+0h] [bp-Ch]@5

  v1 = a1;
  if ( a1 )
  {
    if ( 0xFFFFFFFF / (unsigned int)a1 < 0x10 )
    {
      a1 = 0;
      std::exception::exception((std::exception *)&v3, (const char *const *)&a1);
      v3 = &off_4AB9BC;
      _CxxThrowException(&v3, &unk_5219EC);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new(16 * (_DWORD)v1);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (00402E20) --------------------------------------------------------
void *__cdecl sub_402E20(char *a1)
{
  char *v1; // ecx@1
  int (__thiscall **v3)(void *, char); // [sp+0h] [bp-Ch]@5

  v1 = a1;
  if ( a1 )
  {
    if ( 0xFFFFFFFF / (unsigned int)a1 < 0x2C )
    {
      a1 = 0;
      std::exception::exception((std::exception *)&v3, (const char *const *)&a1);
      v3 = &off_4AB9BC;
      _CxxThrowException(&v3, &unk_5219EC);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new(44 * (_DWORD)v1);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (00402E80) --------------------------------------------------------
void *__cdecl sub_402E80(char *a1)
{
  char *v1; // ecx@1
  int (__thiscall **v3)(void *, char); // [sp+0h] [bp-Ch]@5

  v1 = a1;
  if ( a1 )
  {
    if ( 0xFFFFFFFF / (unsigned int)a1 < 1 )
    {
      a1 = 0;
      std::exception::exception((std::exception *)&v3, (const char *const *)&a1);
      v3 = &off_4AB9BC;
      _CxxThrowException(&v3, &unk_5219EC);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new((size_t)v1);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (00402F00) --------------------------------------------------------
signed int __thiscall sub_402F00(void *this, int a2, int a3)
{
  int v3; // ebx@1
  int v4; // eax@2
  int v5; // ecx@6
  signed int result; // eax@6
  signed int v7; // edi@9

  v3 = (int)this;
  if ( !a3 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 32))(a2);
    goto LABEL_16;
  }
  v4 = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 28))(a2);
  if ( v4 >= 0 )
  {
LABEL_16:
    sub_402B00(v3, 0);
    return 1;
  }
  if ( v4 == -2147024891 )
  {
    v7 = 0;
    while ( v7 < 20 )
    {
      v4 = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 28))(a2);
      ++v7;
      if ( !v4 )
      {
        sub_402B00(v3, 0);
        return 1;
      }
    }
    if ( v4 )
    {
      sub_402B00(v3, 17);
      return 0;
    }
    goto LABEL_16;
  }
  if ( v4 == -2147024875 )
  {
    sub_402B00(v3, 16);
    result = 0;
  }
  else if ( v4 == -2147024809 )
  {
    sub_402B00(v3, 15);
    result = 0;
  }
  else
  {
    sub_402B00(v3, 1);
    sub_402B00(v5, 0);
    result = 1;
  }
  return result;
}

//----- (00402FD0) --------------------------------------------------------
signed int __thiscall sub_402FD0(void *this, const void *a2)
{
  int v2; // ebx@1
  void *v3; // eax@1
  signed int result; // eax@3

  v2 = (int)this;
  v3 = operator new(0x244u);
  if ( v3 && (qmemcpy(v3, a2, 0x244u), sub_423636(v2 + 372, (int)v3)) )
  {
    sub_402B00(v2, 0);
    result = 1;
  }
  else
  {
    sub_402B00(v2, 18);
    result = 0;
  }
  return result;
}

//----- (00403030) --------------------------------------------------------
signed int __stdcall sub_403030(const void *a1, void *a2)
{
  sub_402FD0(a2, a1);
  return 1;
}

//----- (00403050) --------------------------------------------------------
int __thiscall sub_403050(int this, unsigned int a2, int a3)
{
  int v3; // esi@1
  int result; // eax@2
  int v5; // edx@3
  int v6; // ecx@3

  v3 = this;
  if ( *(_DWORD *)(this + 20) )
  {
    v5 = *(_DWORD *)(this + 72);
    v6 = this + 68;
    if ( v5 && a2 < (*(_DWORD *)(v3 + 76) - v5) >> 5 )
    {
      switch ( a3 )
      {
        case 0:
          result = *(_DWORD *)sub_402D10(v6, a2);
          break;
        case 1:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 4);
          break;
        case 2:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 8);
          break;
        case 3:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 12);
          break;
        case 4:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 16);
          break;
        case 5:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 20);
          break;
        case 6:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 24);
          break;
        case 7:
          result = *(_DWORD *)(sub_402D10(v6, a2) + 28);
          break;
        default:
          sub_402B00(v3, 29);
          result = 0;
          break;
      }
    }
    else
    {
      sub_402B00(v3, 28);
      result = 0;
    }
  }
  else
  {
    sub_402B00(this, 27);
    result = 0;
  }
  return result;
}

//----- (00403140) --------------------------------------------------------
int __thiscall sub_403140(int this)
{
  int result; // eax@2
  int v2; // ecx@5

  if ( *(_DWORD *)(this + 8) )
  {
    if ( *(_DWORD *)(this + 384) )
    {
      *(_DWORD *)(this + 368) = *(_DWORD *)(this + 376);
      sub_402B00(this, 0);
      result = sub_402B10(v2);
    }
    else
    {
      sub_402B00(this, 30);
      result = 0;
    }
  }
  else
  {
    sub_402B00(this, 25);
    result = 0;
  }
  return result;
}

//----- (00403180) --------------------------------------------------------
int __thiscall sub_403180(int this)
{
  int result; // eax@2
  int v2; // ecx@5

  if ( *(_DWORD *)(this + 12) )
  {
    if ( *(_DWORD *)(this + 416) )
    {
      *(_DWORD *)(this + 400) = *(_DWORD *)(this + 408);
      sub_402B00(this, 0);
      result = sub_402B50(v2);
    }
    else
    {
      sub_402B00(this, 31);
      result = 0;
    }
  }
  else
  {
    sub_402B00(this, 22);
    result = 0;
  }
  return result;
}

//----- (004031C0) --------------------------------------------------------
signed int __thiscall sub_4031C0(int this, int a2, unsigned int a3)
{
  int v3; // esi@1
  int v5; // eax@5
  int v6; // edx@8
  int v7; // eax@8
  int v8; // ecx@8
  int v9; // [sp+8h] [bp-248h]@5
  int v10; // [sp+1Ch] [bp-234h]@8
  int v11; // [sp+20h] [bp-230h]@8
  int v12; // [sp+24h] [bp-22Ch]@8
  int v13; // [sp+28h] [bp-228h]@8

  v3 = this;
  if ( !*(_DWORD *)(this + 12) )
  {
    sub_402B00(this, 22);
    return 0;
  }
  v9 = 580;
  v5 = sub_402B90(this, a3);
  if ( !v5 )
    return 0;
  if ( (*(int (__stdcall **)(int, int *))(*(_DWORD *)v5 + 60))(v5, &v9) < 0 )
  {
    sub_402B00(v3, 33);
    return 0;
  }
  v6 = v11;
  v7 = v12;
  *(_DWORD *)a2 = v10;
  v8 = v13;
  *(_DWORD *)(a2 + 4) = v6;
  *(_DWORD *)(a2 + 8) = v7;
  *(_DWORD *)(a2 + 12) = v8;
  sub_402B00(v3, 0);
  return 1;
}

//----- (00403270) --------------------------------------------------------
signed int __thiscall sub_403270(int this, int a2, int a3, int a4, int a5)
{
  int v5; // esi@1
  bool v6; // zf@1
  int v8; // edi@10
  int v9; // eax@10
  int v10; // [sp+8h] [bp-258h]@1
  int v11; // [sp+Ch] [bp-254h]@1
  int v12; // [sp+10h] [bp-250h]@1
  int v13; // [sp+14h] [bp-24Ch]@1
  int v14; // [sp+18h] [bp-248h]@10
  char v15; // [sp+2Ch] [bp-234h]@11

  v5 = this;
  v6 = *(_DWORD *)(this + 12) == 0;
  v10 = a2;
  v11 = a3;
  v12 = a4;
  v13 = a5;
  if ( v6 )
  {
    sub_402B00(this, 22);
    return -1;
  }
  if ( !*(_DWORD *)(this + 416) )
  {
    sub_402B00(this, 31);
    return -1;
  }
  if ( !a2 && !(_WORD)a3 && !HIWORD(v11) && !(_BYTE)a4 )
  {
    sub_402B00(this, 0);
    return 0;
  }
  v14 = 580;
  v8 = 0;
  v9 = sub_403180(this);
  if ( !v9 )
  {
LABEL_13:
    sub_402B00(v5, 32);
    return -1;
  }
  while ( 1 )
  {
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)v9 + 60))(v9, &v14);
    if ( sub_4029F0(&v15, &v10) )
      break;
    ++v8;
    v9 = sub_402B50(v5);
    if ( !v9 )
      goto LABEL_13;
  }
  sub_402B00(v5, 0);
  return v8;
}

//----- (00403370) --------------------------------------------------------
signed int __thiscall sub_403370(int this, unsigned int a2)
{
  int v2; // ebx@1
  int v4; // eax@3
  int v5; // esi@3
  int v6; // eax@4
  signed int v7; // eax@8
  int v8; // eax@15

  v2 = this;
  if ( !*(_DWORD *)(this + 16) )
  {
    sub_402B00(this, 19);
    return 0;
  }
  v4 = sub_402B90(this, a2);
  v5 = v4;
  if ( !v4 )
    return 0;
  v6 = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 100))(v4);
  if ( v6 < 0 )
  {
    if ( v6 == -2147024884 )
      goto LABEL_27;
    if ( v6 == -2147024875 )
    {
      sub_402B00(v2, 42);
      return 0;
    }
    if ( v6 == -2147024866 )
LABEL_27:
      v7 = sub_402F00((void *)v2, v5, 1);
    else
      v7 = a2;
    if ( !v7 )
      return 0;
    if ( (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 100))(v5) < 0 )
    {
      sub_402B00(v2, 20);
      return 0;
    }
  }
  v8 = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)v5 + 36))(v5, 272, v2 + 84);
  if ( v8 < 0 )
  {
    if ( v8 == -2147024884 )
    {
      Sleep(0xAu);
      sub_402B00(v2, 21);
      return 0;
    }
    if ( v8 == -2147024866 )
    {
      while ( sub_402F00((void *)v2, v5, 1) )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 100))(v5);
        v8 = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)v5 + 36))(v5, 272, v2 + 84);
        if ( v8 != -2147024866 )
          goto LABEL_20;
      }
      return 0;
    }
LABEL_20:
    if ( v8 < 0 )
    {
      sub_402B00(v2, 21);
      return 0;
    }
  }
  sub_402B00(v2, 0);
  return 1;
}

//----- (00403490) --------------------------------------------------------
signed int __thiscall sub_403490(int this)
{
  int v1; // ebx@1
  signed int v3; // ebp@7
  int v4; // edx@19

  v1 = this;
  if ( !*(_DWORD *)(this + 24) )
  {
    sub_402B00(this, 44);
    return 0;
  }
  if ( !*(_DWORD *)(this + 16) )
  {
    sub_402B00(this, 19);
    return 0;
  }
  if ( !*(_DWORD *)(this + 416) )
  {
    sub_402B00(this, 31);
    return 0;
  }
  v3 = 0;
  *(_DWORD *)(this + 748) = 1;
  while ( 1 )
  {
    if ( *(_DWORD *)(v1 + 468) >= 8 )
    {
      ++*(_DWORD *)(v1 + 464);
      *(_DWORD *)(v1 + 468) = 0;
      *(_DWORD *)(v1 + 748) = 1;
    }
    if ( *(_DWORD *)(v1 + 464) >= *(_DWORD *)(v1 + 416) )
      *(_DWORD *)(v1 + 464) = 0;
    if ( !*(_DWORD *)(v1 + 748) )
      goto LABEL_15;
    if ( !sub_403370(v1, *(_DWORD *)(v1 + 464)) )
      return 0;
    qmemcpy((void *)(v1 + 476), (const void *)(v1 + 84), 0x110u);
LABEL_15:
    switch ( *(_DWORD *)(v1 + 468) )
    {
      case 0:
        if ( *(_DWORD *)sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) )
        {
          *(_DWORD *)(v1 + 472) = *(_DWORD *)(v1 + 476);
          goto LABEL_33;
        }
        break;
      case 1:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 4) )
        {
          v4 = *(_DWORD *)(v1 + 480);
          goto LABEL_32;
        }
        break;
      case 2:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 8) )
        {
          *(_DWORD *)(v1 + 472) = *(_DWORD *)(v1 + 484);
          goto LABEL_33;
        }
        break;
      case 3:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 12) )
        {
          *(_DWORD *)(v1 + 472) = *(_DWORD *)(v1 + 488);
          goto LABEL_33;
        }
        break;
      case 4:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 16) )
        {
          v4 = *(_DWORD *)(v1 + 492);
          goto LABEL_32;
        }
        break;
      case 5:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 20) )
        {
          *(_DWORD *)(v1 + 472) = *(_DWORD *)(v1 + 496);
          goto LABEL_33;
        }
        break;
      case 6:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 24) )
        {
          *(_DWORD *)(v1 + 472) = *(_DWORD *)(v1 + 500);
          goto LABEL_33;
        }
        break;
      case 7:
        if ( *(_DWORD *)(sub_402D10(v1 + 68, *(_DWORD *)(v1 + 464)) + 28) )
        {
          v4 = *(_DWORD *)(v1 + 504);
LABEL_32:
          *(_DWORD *)(v1 + 472) = v4;
LABEL_33:
          v3 = 1;
        }
        break;
      default:
        break;
    }
    ++*(_DWORD *)(v1 + 468);
    *(_DWORD *)(v1 + 748) = 0;
    if ( v3 )
    {
      sub_402B00(v1, 0);
      return 1;
    }
  }
}

//----- (004036D0) --------------------------------------------------------
int __cdecl sub_4036D0(int a1, int a2, int a3)
{
  int v3; // ecx@1
  int result; // eax@1
  int v5; // edx@2
  int v6; // edi@3

  v3 = a2;
  result = a3 - 16 * ((a2 - a1) >> 4);
  if ( a1 != a2 )
  {
    v5 = a3 - a2;
    do
    {
      v6 = *(_DWORD *)(v3 - 16);
      v3 -= 16;
      *(_DWORD *)(v5 + v3) = v6;
      *(_DWORD *)(v5 + v3 + 4) = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v5 + v3 + 8) = *(_DWORD *)(v3 + 8);
      *(_DWORD *)(v5 + v3 + 12) = *(_DWORD *)(v3 + 12);
    }
    while ( v3 != a1 );
  }
  return result;
}

//----- (00403720) --------------------------------------------------------
int __cdecl sub_403720(char *a1, char *a2, int a3)
{
  int result; // eax@1
  char *i; // edx@1

  result = a3 - 44 * ((a2 - a1) / 44);
  for ( i = a2; i != a1; qmemcpy(&i[a3 - (_DWORD)a2], i, 0x2Cu) )
    i -= 44;
  return result;
}

//----- (00403770) --------------------------------------------------------
void *__cdecl sub_403770(const void *a1, const void *a2, void *a3)
{
  const void *v3; // edx@1
  void *result; // eax@1

  v3 = a1;
  for ( result = a3; v3 != a2; result = (char *)result + 32 )
  {
    if ( result )
      qmemcpy(result, v3, 0x20u);
    v3 = (char *)v3 + 32;
  }
  return result;
}

//----- (004037A0) --------------------------------------------------------
int __cdecl sub_4037A0(int a1, int a2, int a3)
{
  int v3; // ecx@1
  int result; // eax@1

  v3 = a1;
  for ( result = a3; v3 != a2; result += 16 )
  {
    if ( result )
    {
      *(_DWORD *)result = *(_DWORD *)v3;
      *(_DWORD *)(result + 4) = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(result + 8) = *(_DWORD *)(v3 + 8);
      *(_DWORD *)(result + 12) = *(_DWORD *)(v3 + 12);
    }
    v3 += 16;
  }
  return result;
}

//----- (004037E0) --------------------------------------------------------
void *__cdecl sub_4037E0(const void *a1, const void *a2, void *a3)
{
  const void *v3; // edx@1
  void *result; // eax@1

  v3 = a1;
  for ( result = a3; v3 != a2; result = (char *)result + 44 )
  {
    if ( result )
      qmemcpy(result, v3, 0x2Cu);
    v3 = (char *)v3 + 44;
  }
  return result;
}

//----- (00403810) --------------------------------------------------------
signed int __thiscall sub_403810(int this, int a2)
{
  int v2; // esi@1
  signed int v3; // eax@2

  v2 = this;
  if ( !*(_DWORD *)(this + 4) )
  {
    v3 = sub_402C70((char *)this);
    *(_DWORD *)(v2 + 4) = v3;
    if ( !v3 )
    {
      sub_402B00(v2, 24);
      return 0;
    }
  }
  if ( (*(int (__stdcall **)(_DWORD, int, signed int (__stdcall *)(const void *, void *), int, _DWORD))(**(_DWORD **)(v2 + 360) + 16))(
         *(_DWORD *)(v2 + 360),
         a2,
         sub_403030,
         v2,
         *(_DWORD *)(v2 + 28)) < 0 )
    return 0;
  sub_402B00(v2, 0);
  return 1;
}

//----- (00403870) --------------------------------------------------------
int __thiscall sub_403870(void *this)
{
  int v1; // esi@1
  int i; // edi@1
  int v3; // eax@4
  int v4; // eax@5
  bool v5; // zf@8
  int v6; // eax@9
  int result; // eax@11

  v1 = (int)this;
  for ( i = sub_403180((int)this); i; i = sub_402B50(v1) )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)i + 32))(i);
    (*(void (__stdcall **)(int))(*(_DWORD *)i + 8))(i);
  }
  if ( *(_DWORD *)(v1 + 384) )
  {
    v3 = *(_DWORD *)(v1 + 376);
    *(_DWORD *)(v1 + 368) = v3;
    if ( v3 )
    {
      while ( 1 )
      {
        v4 = *(_DWORD *)(v1 + 368);
        if ( !v4 )
          break;
        *(_DWORD *)(v1 + 368) = *(_DWORD *)v4;
        j__free(*(void **)(v4 + 8));
        if ( !*(_DWORD *)(v1 + 368) )
          goto LABEL_7;
      }
LABEL_14:
      unknown_libname_36();
    }
  }
LABEL_7:
  unknown_libname_70(v1 + 372);
  if ( *(_DWORD *)(v1 + 384) )
  {
    v5 = *(_DWORD *)(v1 + 368) == 0;
    *(_DWORD *)(v1 + 400) = *(_DWORD *)(v1 + 408);
    if ( !v5 )
    {
      do
      {
        v6 = *(_DWORD *)(v1 + 400);
        if ( !v6 )
          goto LABEL_14;
        *(_DWORD *)(v1 + 400) = *(_DWORD *)v6;
        j__free(*(void **)(v6 + 8));
      }
      while ( *(_DWORD *)(v1 + 368) );
    }
  }
  unknown_libname_70(v1 + 404);
  result = *(_DWORD *)(v1 + 360);
  if ( result )
  {
    result = (*(int (__stdcall **)(_DWORD))(*(_DWORD *)result + 8))(*(_DWORD *)(v1 + 360));
    *(_DWORD *)(v1 + 360) = 0;
  }
  return result;
}
// 4234B9: using guessed type int __thiscall unknown_libname_70(_DWORD);

//----- (00403970) --------------------------------------------------------
int __thiscall sub_403970(int this, unsigned int a2, unsigned int a3)
{
  unsigned int v3; // ebx@1
  int v4; // esi@1
  int v5; // edi@3
  unsigned int v6; // eax@3
  unsigned int v7; // ecx@6
  int *v8; // ebp@6
  int v9; // edx@10
  int v10; // eax@12
  bool v11; // cf@12
  int v13; // [sp+10h] [bp+4h]@7

  v3 = a2;
  v4 = this;
  if ( *(_DWORD *)(this + 20) < a2 )
    sub_49D8E8();
  v5 = a3;
  v6 = *(_DWORD *)(this + 20) - a2;
  if ( v6 < a3 )
    v5 = *(_DWORD *)(this + 20) - a2;
  if ( v5 )
  {
    v7 = *(_DWORD *)(this + 24);
    v8 = (int *)(v4 + 4);
    if ( v7 < 0x10 )
      v13 = v4 + 4;
    else
      v13 = *v8;
    if ( v7 < 0x10 )
      v9 = v4 + 4;
    else
      v9 = *v8;
    memmove_s((void *)(v3 + v9), v7 - v3, (const void *)(v5 + v3 + v13), v6 - v5);
    v10 = *(_DWORD *)(v4 + 20) - v5;
    v11 = *(_DWORD *)(v4 + 24) < 0x10u;
    *(_DWORD *)(v4 + 20) = v10;
    if ( !v11 )
      v8 = (int *)*v8;
    *((_BYTE *)v8 + v10) = 0;
  }
  return v4;
}

//----- (00403A00) --------------------------------------------------------
_BYTE *__thiscall sub_403A00(int this, void *Dst, rsize_t MaxCount)
{
  int v3; // edi@1
  unsigned int v4; // esi@1
  unsigned int v5; // ebx@3
  unsigned int v6; // ecx@3
  const void *v7; // eax@8
  _BYTE *result; // eax@13
  int v9; // [sp+0h] [bp-28h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int *v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+24h] [bp-4h]@6
  void *Dsta; // [sp+30h] [bp+8h]@6

  v11 = &v9;
  v3 = this;
  v10 = this;
  v4 = (unsigned int)Dst | 0xF;
  if ( ((unsigned int)Dst | 0xF) <= 0xFFFFFFFE )
  {
    v5 = *(_DWORD *)(this + 24);
    v6 = *(_DWORD *)(this + 24) >> 1;
    if ( v4 / 3 < v6 && v5 <= -2 - v6 )
      v4 = v6 + v5;
  }
  else
  {
    v4 = (unsigned int)Dst;
  }
  v12 = 0;
  Dsta = sub_402E80((char *)(v4 + 1));
  if ( MaxCount )
  {
    if ( *(_DWORD *)(v3 + 24) < 0x10u )
      v7 = (const void *)(v3 + 4);
    else
      v7 = *(const void **)(v3 + 4);
    memcpy_s(Dsta, v4 + 1, v7, MaxCount);
  }
  if ( *(_DWORD *)(v3 + 24) >= 0x10u )
    j__free(*(void **)(v3 + 4));
  result = (_BYTE *)(v3 + 4);
  *result = 0;
  *(_DWORD *)result = Dsta;
  *(_DWORD *)(v3 + 24) = v4;
  *(_DWORD *)(v3 + 20) = MaxCount;
  if ( v4 >= 0x10 )
    result = Dsta;
  result[MaxCount] = 0;
  return result;
}

//----- (00403B50) --------------------------------------------------------
void *__cdecl sub_403B50(void *a1, void *a2, const void *a3)
{
  void *result; // eax@1
  void *v4; // edi@2

  result = a1;
  while ( result != a2 )
  {
    v4 = result;
    result = (char *)result + 32;
    qmemcpy(v4, a3, 0x20u);
  }
  return result;
}

//----- (00403B80) --------------------------------------------------------
int __cdecl sub_403B80(int a1, int a2, int a3)
{
  int result; // eax@1

  for ( result = a1; result != a2; result += 16 )
  {
    *(_DWORD *)result = *(_DWORD *)a3;
    *(_DWORD *)(result + 4) = *(_DWORD *)(a3 + 4);
    *(_DWORD *)(result + 8) = *(_DWORD *)(a3 + 8);
    *(_DWORD *)(result + 12) = *(_DWORD *)(a3 + 12);
  }
  return result;
}

//----- (00403BB0) --------------------------------------------------------
void *__cdecl sub_403BB0(void *a1, void *a2, const void *a3)
{
  void *result; // eax@1
  void *v4; // edi@2

  result = a1;
  while ( result != a2 )
  {
    v4 = result;
    result = (char *)result + 44;
    qmemcpy(v4, a3, 0x2Cu);
  }
  return result;
}

//----- (00403BE0) --------------------------------------------------------
void *__usercall sub_403BE0@<eax>(void *result@<eax>, void *a2, int a3, const void *a4)
{
  int v4; // edx@1

  v4 = a3;
  if ( a3 )
  {
    result = a2;
    do
    {
      if ( result )
        qmemcpy(result, a4, 0x20u);
      --v4;
      result = (char *)result + 32;
    }
    while ( v4 );
  }
  return result;
}

//----- (00403C10) --------------------------------------------------------
void __cdecl sub_403C10(int a1, int a2, int a3)
{
  int v3; // ecx@1
  int v4; // eax@2

  v3 = a2;
  if ( a2 )
  {
    v4 = a1;
    do
    {
      if ( v4 )
      {
        *(_DWORD *)v4 = *(_DWORD *)a3;
        *(_DWORD *)(v4 + 4) = *(_DWORD *)(a3 + 4);
        *(_DWORD *)(v4 + 8) = *(_DWORD *)(a3 + 8);
        *(_DWORD *)(v4 + 12) = *(_DWORD *)(a3 + 12);
      }
      --v3;
      v4 += 16;
    }
    while ( v3 );
  }
}

//----- (00403C50) --------------------------------------------------------
void *__usercall sub_403C50@<eax>(void *result@<eax>, void *a2, int a3, const void *a4)
{
  int v4; // edx@1

  v4 = a3;
  if ( a3 )
  {
    result = a2;
    do
    {
      if ( result )
        qmemcpy(result, a4, 0x2Cu);
      --v4;
      result = (char *)result + 44;
    }
    while ( v4 );
  }
  return result;
}

//----- (00403C80) --------------------------------------------------------
void __thiscall sub_403C80(void *this)
{
  int v1; // eax@1

  v1 = *((_DWORD *)this + 4) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v1 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v1 + 4))(v1);
}

//----- (00403CD0) --------------------------------------------------------
int __cdecl sub_403CD0(char *a1, char *a2, int a3)
{
  char *v3; // edx@1
  int result; // eax@1

  v3 = a2;
  result = a3 - 32 * ((a2 - a1) >> 5);
  while ( v3 != a1 )
  {
    v3 -= 32;
    qmemcpy(&v3[a3 - (_DWORD)a2], v3, 0x20u);
  }
  return result;
}

//----- (00403D10) --------------------------------------------------------
int __cdecl sub_403D10(int a1, int a2, int a3)
{
  return sub_4036D0(a1, a2, a3);
}

//----- (00403D40) --------------------------------------------------------
int __cdecl sub_403D40(char *a1, char *a2, int a3)
{
  return sub_403720(a1, a2, a3);
}

//----- (00403D70) --------------------------------------------------------
int __thiscall sub_403D70(int *this, char *Format, va_list ArgList)
{
  int *v3; // edi@1
  int v4; // esi@3
  int result; // eax@6

  v3 = this;
  if ( !Format )
    sub_401090(-2147024809);
  v4 = _vscprintf(Format, ArgList);
  if ( ((*(_DWORD *)(*v3 - 8) - v4) | (1 - *(_DWORD *)(*v3 - 16 + 12))) < 0 )
    sub_4018C0(v3, v4);
  vsprintf_s((char *)*v3, v4 + 1, Format, ArgList);
  if ( v4 < 0 || (result = *v3, v4 > *(_DWORD *)(*v3 - 8)) )
    sub_401090(-2147024809);
  *(_DWORD *)(result - 12) = v4;
  *(_BYTE *)(v4 + *v3) = 0;
  return result;
}

//----- (00403E00) --------------------------------------------------------
signed int __stdcall sub_403E00(char a1, int a2, int a3, int a4, int a5, int a6, int a7, char a8, int a9, int a10, int a11, int a12, int a13, int a14)
{
  int v14; // eax@4
  int v15; // eax@6
  signed int result; // eax@8
  int v17; // eax@9
  int v18; // eax@11

  if ( sub_4029F0(&a1, &a8) && a6 == a13 && a7 == a14 )
  {
    v14 = a5 - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a5 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v14 + 4))(v14);
    v15 = a12 - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a12 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v15 + 4))(v15);
    result = 1;
  }
  else
  {
    v17 = a5 - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a5 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v17 + 4))(v17);
    v18 = a12 - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a12 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v18 + 4))(v18);
    result = 0;
  }
  return result;
}

//----- (00403EC0) --------------------------------------------------------
int __thiscall sub_403EC0(int this, int a2, unsigned int a3, void *a4)
{
  int v4; // esi@1
  void *v5; // edi@3
  int result; // eax@6
  unsigned int v7; // eax@9
  bool v8; // zf@10
  int v9; // edx@13
  rsize_t v10; // ecx@19
  void **v11; // ebx@19
  void *v12; // eax@20
  bool v13; // cf@22

  v4 = this;
  if ( *(_DWORD *)(a2 + 20) < a3 )
    sub_49D8E8();
  v5 = (void *)(*(_DWORD *)(a2 + 20) - a3);
  if ( a4 < v5 )
    v5 = a4;
  if ( this == a2 )
  {
    sub_403970(this, (unsigned int)v5 + a3, 0xFFFFFFFF);
    sub_403970(v4, 0, a3);
    return v4;
  }
  if ( (unsigned int)v5 > 0xFFFFFFFE )
    sub_49D8A9();
  v7 = *(_DWORD *)(this + 24);
  if ( v7 >= (unsigned int)v5 )
  {
    v8 = v5 == 0;
    if ( !v5 )
    {
      *(_DWORD *)(this + 20) = 0;
      if ( v7 < 0x10 )
      {
        *(_BYTE *)(this + 4) = 0;
        result = this;
      }
      else
      {
        **(_BYTE **)(this + 4) = 0;
        result = this;
      }
      return result;
    }
  }
  else
  {
    sub_403A00(this, v5, *(_DWORD *)(this + 20));
    v8 = v5 == 0;
  }
  if ( !v8 )
  {
    if ( *(_DWORD *)(a2 + 24) < 0x10u )
      v9 = a2 + 4;
    else
      v9 = *(_DWORD *)(a2 + 4);
    v10 = *(_DWORD *)(v4 + 24);
    v11 = (void **)(v4 + 4);
    if ( v10 < 0x10 )
      v12 = (void *)(v4 + 4);
    else
      v12 = *v11;
    memcpy_s(v12, v10, (const void *)(a3 + v9), (rsize_t)v5);
    v13 = *(_DWORD *)(v4 + 24) < 0x10u;
    *(_DWORD *)(v4 + 20) = v5;
    if ( !v13 )
      v11 = (void **)*v11;
    *((_BYTE *)v5 + (_DWORD)v11) = 0;
  }
  return v4;
}

//----- (00403FA0) --------------------------------------------------------
int __stdcall sub_403FA0(void *a1, int a2, void *a3)
{
  sub_403BE0(a3, a1, a2, a3);
  return (int)a1 + 32 * a2;
}

//----- (00403FE0) --------------------------------------------------------
int __stdcall sub_403FE0(int a1, int a2, int a3)
{
  sub_403C10(a1, a2, a3);
  return a1 + 16 * a2;
}

//----- (00404020) --------------------------------------------------------
int __stdcall sub_404020(void *a1, int a2, void *a3)
{
  sub_403C50(a3, a1, a2, a3);
  return (int)a1 + 44 * a2;
}

//----- (00404060) --------------------------------------------------------
int __thiscall sub_404060(int *this, void *Src)
{
  int result; // eax@2

  if ( Src )
    result = sub_401C40(this, Src, strlen((const char *)Src));
  else
    result = sub_401C40(this, 0, 0);
  return result;
}

//----- (004040A0) --------------------------------------------------------
int __thiscall sub_4040A0(int this, void *Src, rsize_t MaxCount)
{
  int v3; // esi@1
  unsigned int v4; // ecx@1
  unsigned int *v5; // ebx@1
  unsigned int v6; // eax@2
  int v7; // eax@6
  int result; // eax@11
  rsize_t v9; // eax@14
  bool v10; // zf@15
  rsize_t v11; // ecx@17
  void *v12; // eax@18
  bool v13; // cf@24

  v3 = this;
  v4 = *(_DWORD *)(this + 24);
  v5 = (unsigned int *)(v3 + 4);
  if ( v4 < 0x10 )
    v6 = v3 + 4;
  else
    v6 = *v5;
  if ( (unsigned int)Src >= v6 )
  {
    v7 = v4 < 0x10 ? v3 + 4 : *v5;
    if ( v7 + *(_DWORD *)(v3 + 20) > (unsigned int)Src )
    {
      if ( v4 >= 0x10 )
        v5 = (unsigned int *)*v5;
      return sub_403EC0(v3, v3, (_BYTE *)Src - (_BYTE *)v5, (void *)MaxCount);
    }
  }
  if ( MaxCount > 0xFFFFFFFE )
    sub_49D8A9();
  v9 = *(_DWORD *)(v3 + 24);
  if ( v9 < MaxCount )
  {
    sub_403A00(v3, (void *)MaxCount, *(_DWORD *)(v3 + 20));
    v10 = MaxCount == 0;
LABEL_16:
    if ( !v10 )
    {
      v11 = *(_DWORD *)(v3 + 24);
      if ( v11 < 0x10 )
        v12 = (void *)(v3 + 4);
      else
        v12 = (void *)*v5;
      memcpy_s(v12, v11, Src, MaxCount);
      v13 = *(_DWORD *)(v3 + 24) < 0x10u;
      *(_DWORD *)(v3 + 20) = MaxCount;
      if ( !v13 )
        v5 = (unsigned int *)*v5;
      *((_BYTE *)v5 + MaxCount) = 0;
    }
    return v3;
  }
  v10 = MaxCount == 0;
  if ( MaxCount )
    goto LABEL_16;
  *(_DWORD *)(v3 + 20) = 0;
  if ( v9 >= 0x10 )
    v5 = (unsigned int *)*v5;
  result = v3;
  *(_BYTE *)v5 = 0;
  return result;
}

//----- (00404170) --------------------------------------------------------
int sub_404170(int a1, char *Format, ...)
{
  va_list va; // [sp+Ch] [bp+Ch]@1

  va_start(va, Format);
  return sub_403D70((int *)a1, Format, va);
}

//----- (00404190) --------------------------------------------------------
void __thiscall sub_404190(void *this, int a2, int ArgList, int a4, int a5, int a6)
{
  int v6; // ebp@1
  void *v7; // eax@1
  void *v8; // eax@3
  unsigned __int16 v9; // dx@5
  signed int v10; // eax@9
  char v11; // cl@10
  int v12; // esi@14
  int v13; // eax@14
  int v14; // [sp+14h] [bp-34h]@3
  int v15; // [sp+18h] [bp-30h]@1
  int v16; // [sp+1Ch] [bp-2Ch]@1
  int v17; // [sp+20h] [bp-28h]@1
  int v18; // [sp+24h] [bp-24h]@1
  int v19; // [sp+28h] [bp-20h]@1
  char v20[12]; // [sp+2Ch] [bp-1Ch]@11
  int v21; // [sp+44h] [bp-4h]@3

  v6 = (int)this;
  v16 = ArgList;
  v17 = a4;
  v18 = a5;
  v19 = a6;
  v15 = 0;
  v7 = sub_41BC2E();
  if ( v7 == 0 )
    sub_401090(-2147467259);
  v14 = (*(int (__thiscall **)(void *))(*(_DWORD *)v7 + 12))(v7) + 16;
  v21 = 0;
  v8 = sub_41BC2E();
  if ( v8 == 0 )
    sub_401090(-2147467259);
  v15 = (*(int (__thiscall **)(void *))(*(_DWORD *)v8 + 12))(v8) + 16;
  LOBYTE(v21) = 1;
  sub_401830(&v14);
  sub_401830(&v15);
  v9 = HIWORD(v17);
  if ( ArgList || v17 || (_BYTE)v18 )
  {
    v10 = 0;
    do
    {
      v11 = *((_BYTE *)&v18 + v10);
      if ( v11 )
        v20[v10] = v11;
      else
        v20[v10] = 92;
      ++v10;
    }
    while ( v10 < 8 );
    v20[v10] = 0;
    sub_404170((int)&v14, "%i:%i:%i:%s", ArgList, (unsigned __int16)v17, v9, v20);
    sub_402B00(v6, 0);
    v12 = v14 - 16;
    *(_DWORD *)a2 = sub_401910(v14 - 16) + 16;
    v13 = v15 - 16;
    LOBYTE(v21) = 0;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v15 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v13 + 4))(v13);
    v21 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v12 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v12 + 4))(v12);
  }
  else
  {
    sub_402B00(v6, 0);
    sub_401A10((void *)a2, &v14);
    sub_4019F0(&v15);
    sub_4019F0(&v14);
  }
  sub_4815FE(v14);
}
// 404190: using guessed type char var_1C[12];

//----- (00404370) --------------------------------------------------------
void *__stdcall sub_404370(const void *a1, const void *a2, void *a3)
{
  return sub_403770(a1, a2, a3);
}

//----- (004043A0) --------------------------------------------------------
int __stdcall sub_4043A0(int a1, int a2, int a3)
{
  return sub_4037A0(a1, a2, a3);
}

//----- (004043D0) --------------------------------------------------------
void *__stdcall sub_4043D0(const void *a1, const void *a2, void *a3)
{
  return sub_4037E0(a1, a2, a3);
}

//----- (00404400) --------------------------------------------------------
_DWORD *__thiscall sub_404400(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1
  int v3; // ecx@1

  v2 = this;
  sub_481CB8((int)this);
  v3 = (int)(v2 + 3);
  *v2 = &off_4AB9C8;
  *(_DWORD *)(v3 + 20) = 0;
  *(_DWORD *)(v3 + 24) = 15;
  *(_BYTE *)(v3 + 4) = 0;
  sub_403EC0((int)(v2 + 3), a2, 0, (void *)0xFFFFFFFF);
  return v2;
}
// 4AB9C8: using guessed type int (__thiscall *off_4AB9C8)(void *, char);

//----- (00404470) --------------------------------------------------------
void __thiscall sub_404470(int this)
{
  int v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AB9C8;
  if ( *(_DWORD *)(this + 36) >= 0x10u )
    j__free(*(void **)(this + 16));
  *(_DWORD *)(v1 + 36) = 15;
  *(_DWORD *)(v1 + 32) = 0;
  *(_BYTE *)(v1 + 16) = 0;
  sub_481D6F(v1);
}
// 4AB9C8: using guessed type int (__thiscall *off_4AB9C8)(void *, char);

//----- (004044B0) --------------------------------------------------------
_DWORD *__thiscall sub_4044B0(void *this, char a2)
{
  _DWORD *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4AB9C8;
  if ( *((_DWORD *)this + 9) >= 0x10u )
    j__free(*((void **)this + 4));
  v2[9] = 15;
  v2[8] = 0;
  *((_BYTE *)v2 + 16) = 0;
  sub_481D6F((int)v2);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4AB9C8: using guessed type int (__thiscall *off_4AB9C8)(void *, char);

//----- (00404500) --------------------------------------------------------
signed int __thiscall sub_404500(void *this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  void *v5; // eax@1
  int v6; // ebp@3
  bool v7; // zf@3
  int v8; // edx@4
  int v9; // eax@6
  char *v10; // esi@6
  char v11; // dl@9
  int v12; // ebx@11
  int v13; // ebp@11
  int v14; // ebx@16
  int v15; // eax@16
  int v16; // eax@23
  int v17; // eax@24
  int v18; // edi@24
  char v19; // dl@27
  int v20; // ebx@29
  int v21; // ebp@29
  int v22; // ebx@34
  int v23; // eax@34
  int v24; // eax@41
  int v25; // eax@42
  int v26; // edi@42
  char v27; // dl@45
  int v28; // ebx@47
  int v29; // ebp@47
  int v30; // ebx@52
  int v31; // eax@52
  int v32; // eax@59
  int v33; // edi@60
  signed int v34; // ecx@60
  int v35; // edx@61
  char v36; // al@64
  int v37; // esi@69
  char v39; // [sp+17h] [bp-15h]@9
  char v40; // [sp+17h] [bp-15h]@27
  char v41; // [sp+17h] [bp-15h]@45
  char *v42; // [sp+18h] [bp-14h]@3
  int v43; // [sp+1Ch] [bp-10h]@1
  int v44; // [sp+28h] [bp-4h]@1

  v3 = (int)this;
  v43 = (int)this;
  v4 = 0;
  v44 = 0;
  v5 = sub_41BC2E();
  if ( v5 == 0 )
    sub_401090(-2147467259);
  v42 = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 12))(v5) + 16);
  v6 = a3;
  v7 = *(_DWORD *)(a3 - 12) == 0;
  LOBYTE(v44) = 1;
  if ( v7 )
  {
    *(_DWORD *)a2 = 0;
    *(_WORD *)(a2 + 4) = 0;
    *(_WORD *)(a2 + 6) = 0;
    *(_DWORD *)(a2 + 8) = 0;
    *(_DWORD *)(a2 + 12) = 0;
    sub_402B00(v3, 0);
    LOBYTE(v44) = 0;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v8 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)(v8 - 16) + 4))(v8 - 16);
    goto LABEL_71;
  }
  sub_401830((int *)&v42);
  v9 = *(_DWORD *)(a3 - 12);
  v10 = v42;
  if ( v9 > 0 )
  {
    while ( v4 >= 0 && v4 <= v9 )
    {
      v11 = *(_BYTE *)(v4 + v6);
      v39 = *(_BYTE *)(v4 + v6);
      if ( v11 == 58 )
        goto LABEL_16;
      if ( v4 > v9 )
        break;
      v12 = *((_DWORD *)v10 - 3);
      v13 = v12 + 1;
      if ( ((1 - *((_DWORD *)v10 - 1)) | (*((_DWORD *)v10 - 2) - (v12 + 1))) < 0 )
      {
        sub_4018C0((int *)&v42, v12 + 1);
        v10 = v42;
        v11 = v39;
      }
      v10[v12] = v11;
      if ( v13 < 0 || v13 > *((_DWORD *)v10 - 2) )
        break;
      *((_DWORD *)v10 - 3) = v13;
      v10[v13] = 0;
      v9 = *(_DWORD *)(a3 - 12);
      ++v4;
      v6 = a3;
      if ( v4 >= v9 )
        goto LABEL_16;
    }
LABEL_19:
    sub_401090(-2147024809);
  }
LABEL_16:
  *(_DWORD *)a2 = j__atol(v10);
  v14 = *((_DWORD *)v10 - 4);
  v15 = (int)(v10 - 16);
  if ( *((_DWORD *)v10 - 3) )
  {
    if ( *(_DWORD *)(v15 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v15 + 12)) <= 0 )
        (*(void (__stdcall **)(char *))(**(_DWORD **)v15 + 4))(v10 - 16);
      v16 = (*(int (__thiscall **)(int))(*(_DWORD *)v14 + 12))(v14);
      v10 = (char *)(v16 + 16);
      v42 = (char *)(v16 + 16);
    }
    else
    {
      if ( *((_DWORD *)v10 - 2) < 0 )
        goto LABEL_19;
      *((_DWORD *)v10 - 3) = 0;
      *v10 = 0;
    }
  }
  v17 = *(_DWORD *)(v6 - 12);
  v18 = v4 + 1;
  if ( v18 < v17 )
  {
    while ( v18 >= 0 && v18 <= v17 )
    {
      v19 = *(_BYTE *)(v18 + v6);
      v40 = *(_BYTE *)(v18 + v6);
      if ( v19 == 58 )
        goto LABEL_34;
      if ( v18 > v17 )
        break;
      v20 = *((_DWORD *)v10 - 3);
      v21 = v20 + 1;
      if ( ((1 - *((_DWORD *)v10 - 1)) | (*((_DWORD *)v10 - 2) - (v20 + 1))) < 0 )
      {
        sub_4018C0((int *)&v42, v20 + 1);
        v10 = v42;
        v19 = v40;
      }
      v10[v20] = v19;
      if ( v21 < 0 || v21 > *((_DWORD *)v10 - 2) )
        break;
      *((_DWORD *)v10 - 3) = v21;
      v10[v21] = 0;
      v17 = *(_DWORD *)(a3 - 12);
      ++v18;
      v6 = a3;
      if ( v18 >= v17 )
        goto LABEL_34;
    }
    goto LABEL_19;
  }
LABEL_34:
  *(_WORD *)(a2 + 4) = j__atol(v10);
  v22 = *((_DWORD *)v10 - 4);
  v23 = (int)(v10 - 16);
  if ( *((_DWORD *)v10 - 3) )
  {
    if ( *(_DWORD *)(v23 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v23 + 12)) <= 0 )
        (*(void (__stdcall **)(char *))(**(_DWORD **)v23 + 4))(v10 - 16);
      v24 = (*(int (__thiscall **)(int))(*(_DWORD *)v22 + 12))(v22);
      v10 = (char *)(v24 + 16);
      v42 = (char *)(v24 + 16);
    }
    else
    {
      if ( *((_DWORD *)v10 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v10 - 3) = 0;
      *v10 = 0;
    }
  }
  v25 = *(_DWORD *)(v6 - 12);
  v26 = v18 + 1;
  if ( v26 < v25 )
  {
    while ( v26 >= 0 && v26 <= v25 )
    {
      v27 = *(_BYTE *)(v26 + v6);
      v41 = *(_BYTE *)(v26 + v6);
      if ( v27 == 58 )
        goto LABEL_52;
      if ( v26 > v25 )
        break;
      v28 = *((_DWORD *)v10 - 3);
      v29 = v28 + 1;
      if ( ((1 - *((_DWORD *)v10 - 1)) | (*((_DWORD *)v10 - 2) - (v28 + 1))) < 0 )
      {
        sub_4018C0((int *)&v42, v28 + 1);
        v10 = v42;
        v27 = v41;
      }
      v10[v28] = v27;
      if ( v29 < 0 || v29 > *((_DWORD *)v10 - 2) )
        break;
      *((_DWORD *)v10 - 3) = v29;
      v10[v29] = 0;
      v25 = *(_DWORD *)(a3 - 12);
      ++v26;
      v6 = a3;
      if ( v26 >= v25 )
        goto LABEL_52;
    }
    goto LABEL_19;
  }
LABEL_52:
  *(_WORD *)(a2 + 6) = j__atol(v10);
  v30 = *((_DWORD *)v10 - 4);
  v31 = (int)(v10 - 16);
  if ( *((_DWORD *)v10 - 3) )
  {
    if ( *(_DWORD *)(v31 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v31 + 12)) <= 0 )
        (*(void (__stdcall **)(char *))(**(_DWORD **)v31 + 4))(v10 - 16);
      v32 = (*(int (__thiscall **)(int))(*(_DWORD *)v30 + 12))(v30);
      v10 = (char *)(v32 + 16);
      v42 = (char *)(v32 + 16);
    }
    else
    {
      if ( *((_DWORD *)v10 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v10 - 3) = 0;
      *v10 = 0;
    }
  }
  v33 = v26 + 1;
  v34 = 0;
  do
  {
    v35 = *(_DWORD *)(v6 - 12);
    if ( v33 >= v35 )
      break;
    if ( v33 < 0 || v33 > v35 )
      goto LABEL_19;
    v36 = *(_BYTE *)(v33 + v6);
    if ( v36 == 92 )
    {
      *(_BYTE *)(v34 + a2 + 8) = 0;
    }
    else
    {
      if ( v33 > v35 )
        goto LABEL_19;
      *(_BYTE *)(v34 + a2 + 8) = v36;
    }
    ++v34;
    ++v33;
  }
  while ( v34 < 8 );
  sub_402B00(v43, 0);
  v37 = (int)(v10 - 16);
  LOBYTE(v44) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v37 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v37 + 4))(v37);
LABEL_71:
  v44 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v6 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)(v6 - 16) + 4))(v6 - 16);
  return 1;
}

//----- (00404910) --------------------------------------------------------
int __thiscall sub_404910(int *this, void *Src)
{
  int v2; // edi@1
  int result; // eax@2

  v2 = (int)this;
  if ( Src )
  {
    sub_401C40(this, Src, strlen((const char *)Src));
    result = v2;
  }
  else
  {
    sub_401C40(this, 0, 0);
    result = v2;
  }
  return result;
}

//----- (00404980) --------------------------------------------------------
int __thiscall sub_404980(int this, void *Src)
{
  int v2; // esi@1

  v2 = this;
  *(_DWORD *)(this + 24) = 15;
  *(_DWORD *)(this + 20) = 0;
  *(_BYTE *)(this + 4) = 0;
  sub_4040A0(this, Src, strlen((const char *)Src));
  return v2;
}

//----- (004049C0) --------------------------------------------------------
void __thiscall sub_4049C0(void *this)
{
  void *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AB9EC;
  sub_403870(this);
  if ( *((_DWORD *)v1 + 113) )
    j__free(*((void **)v1 + 113));
  *((_DWORD *)v1 + 113) = 0;
  *((_DWORD *)v1 + 114) = 0;
  *((_DWORD *)v1 + 115) = 0;
  if ( *((_DWORD *)v1 + 109) )
    j__free(*((void **)v1 + 109));
  *((_DWORD *)v1 + 109) = 0;
  *((_DWORD *)v1 + 110) = 0;
  *((_DWORD *)v1 + 111) = 0;
  sub_4235D2((char *)v1 + 404);
  sub_4235D2((char *)v1 + 372);
  if ( *((_DWORD *)v1 + 18) )
    j__free(*((void **)v1 + 18));
  *((_DWORD *)v1 + 18) = 0;
  *((_DWORD *)v1 + 19) = 0;
  *((_DWORD *)v1 + 20) = 0;
}
// 4AB9EC: using guessed type int (__thiscall *off_4AB9EC)(void *, char);

//----- (00404AA0) --------------------------------------------------------
std::exception *__thiscall sub_404AA0(std::exception *this, struct std::exception *a2)
{
  std::exception *v2; // esi@1
  int v3; // ecx@1

  v2 = this;
  std::exception::exception(this, a2);
  v3 = (int)v2 + 12;
  *(_DWORD *)v2 = &off_4AB9C8;
  *(_DWORD *)(v3 + 24) = 15;
  *(_DWORD *)(v3 + 20) = 0;
  *(_BYTE *)(v3 + 4) = 0;
  sub_403EC0((int)v2 + 12, (int)a2 + 12, 0, (void *)0xFFFFFFFF);
  return v2;
}
// 4AB9C8: using guessed type int (__thiscall *off_4AB9C8)(void *, char);

//----- (00404B40) --------------------------------------------------------
void *__thiscall sub_404B40(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_4049C0(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00404B60) --------------------------------------------------------
void __thiscall sub_404B60(int this, int a2, int a3, int a4, void *a5)
{
  int v5; // ebx@1
  int v6; // ecx@1
  unsigned int v7; // edi@2
  unsigned int v8; // esi@4
  int v9; // eax@6
  int v10; // eax@11
  unsigned int v11; // edi@15
  int v12; // eax@18
  int v13; // edi@22
  char *v14; // eax@25
  const void *v15; // ST00_4@25
  void *v16; // eax@25
  void *v17; // eax@25
  int v18; // ecx@25
  int v19; // eax@26
  int v20; // esi@28
  char *v21; // eax@31
  int v22; // ST18_4@32
  void *v23; // ST14_4@32
  int v24; // ecx@33
  char *v25; // esi@33
  int v26; // [sp+0h] [bp-40h]@1
  char v27; // [sp+10h] [bp-30h]@1
  int *v28; // [sp+30h] [bp-10h]@1
  int v29; // [sp+3Ch] [bp-4h]@25
  int v30; // [sp+50h] [bp+10h]@31
  char *v31; // [sp+54h] [bp+14h]@25
  char *v32; // [sp+54h] [bp+14h]@33

  v28 = &v26;
  v5 = this;
  qmemcpy(&v27, a5, 0x20u);
  v6 = *(_DWORD *)(this + 4);
  if ( v6 )
    v7 = (*(_DWORD *)(v5 + 12) - v6) >> 5;
  else
    v7 = 0;
  v8 = a4;
  if ( a4 )
  {
    if ( v6 )
      v9 = (*(_DWORD *)(v5 + 8) - v6) >> 5;
    else
      v9 = 0;
    if ( 0x7FFFFFF - v9 < (unsigned int)a4 )
      sub_40A8C0();
    if ( v6 )
      v10 = (*(_DWORD *)(v5 + 8) - v6) >> 5;
    else
      v10 = 0;
    if ( v7 >= a4 + v10 )
    {
      v21 = *(char **)(v5 + 8);
      v30 = *(_DWORD *)(v5 + 8);
      if ( (*(_DWORD *)(v5 + 8) - a3) >> 5 >= v8 )
      {
        v24 = 32 * v8;
        v25 = &v21[-32 * v8];
        v32 = (char *)v24;
        *(_DWORD *)(v5 + 8) = sub_404370(v25, v21, v21);
        sub_403CD0((char *)a3, v25, v30);
        sub_403B50((void *)a3, &v32[a3], &v27);
      }
      else
      {
        sub_404370((const void *)a3, v21, (void *)(a3 + 32 * v8));
        v22 = v8 - ((*(_DWORD *)(v5 + 8) - a3) >> 5);
        v23 = *(void **)(v5 + 8);
        v29 = 2;
        sub_403FA0(v23, v22, &v27);
        *(_DWORD *)(v5 + 8) += 32 * v8;
        sub_403B50((void *)a3, (void *)(*(_DWORD *)(v5 + 8) - 32 * v8), &v27);
      }
    }
    else
    {
      if ( 0x7FFFFFF - (v7 >> 1) >= v7 )
        v11 = (v7 >> 1) + v7;
      else
        v11 = 0;
      if ( v6 )
        v12 = (*(_DWORD *)(v5 + 8) - v6) >> 5;
      else
        v12 = 0;
      if ( v11 < a4 + v12 )
      {
        if ( v6 )
          v13 = (*(_DWORD *)(v5 + 8) - v6) >> 5;
        else
          v13 = 0;
        v11 = a4 + v13;
      }
      v14 = (char *)sub_402D60((char *)v11);
      v31 = v14;
      v15 = *(const void **)(v5 + 4);
      v29 = 0;
      v16 = sub_403770(v15, (const void *)a3, v14);
      v17 = (void *)sub_403FA0(v16, a4, &v27);
      sub_403770((const void *)a3, *(const void **)(v5 + 8), v17);
      v18 = *(_DWORD *)(v5 + 4);
      if ( v18 )
        v19 = (*(_DWORD *)(v5 + 8) - v18) >> 5;
      else
        v19 = 0;
      v20 = v19 + a4;
      if ( v18 )
        j__free(*(void **)(v5 + 4));
      *(_DWORD *)(v5 + 12) = &v31[32 * v11];
      *(_DWORD *)(v5 + 8) = &v31[32 * v20];
      *(_DWORD *)(v5 + 4) = v31;
    }
  }
}

//----- (00404DB0) --------------------------------------------------------
void *__thiscall sub_404DB0(void *this, int a2, int a3, unsigned int a4, int a5)
{
  int v5; // edx@1
  void *v6; // esi@1
  int v7; // ecx@1
  int v8; // edx@1
  void *result; // eax@1
  unsigned int v10; // ebx@2
  int v11; // ecx@6
  int v12; // ecx@11
  unsigned int v13; // ebx@15
  int v14; // ecx@18
  int v15; // ebx@22
  void *v16; // eax@25
  int v17; // ecx@25
  int v18; // eax@25
  int v19; // eax@25
  int v20; // ecx@25
  int v21; // ecx@25
  int v22; // eax@26
  int v23; // edi@28
  char *v24; // edi@30
  int v25; // eax@31
  unsigned int v26; // edx@31
  int v27; // ST18_4@32
  int v28; // ST14_4@32
  void *v29; // eax@32
  int v30; // edi@33
  int v31; // eax@33
  int v32; // ST1C_4@33
  int v33; // [sp+0h] [bp-3Ch]@1
  void *v34; // [sp+10h] [bp-2Ch]@25
  int v35; // [sp+14h] [bp-28h]@25
  int v36; // [sp+18h] [bp-24h]@1
  int v37; // [sp+1Ch] [bp-20h]@1
  int v38; // [sp+20h] [bp-1Ch]@1
  int v39; // [sp+24h] [bp-18h]@1
  int *v40; // [sp+2Ch] [bp-10h]@1
  int v41; // [sp+38h] [bp-4h]@25

  v40 = &v33;
  v5 = *(_DWORD *)(a5 + 4);
  v6 = this;
  v36 = *(_DWORD *)a5;
  v7 = *(_DWORD *)(a5 + 8);
  v37 = v5;
  v8 = *(_DWORD *)(a5 + 12);
  result = (void *)*((_DWORD *)v6 + 1);
  v38 = v7;
  v39 = v8;
  if ( result )
    v10 = (*((_DWORD *)v6 + 3) - (signed int)result) >> 4;
  else
    v10 = 0;
  if ( a4 )
  {
    if ( result )
      v11 = (*((_DWORD *)v6 + 2) - (signed int)result) >> 4;
    else
      v11 = 0;
    if ( 0xFFFFFFF - v11 < a4 )
      sub_40A8C0();
    if ( result )
      v12 = (*((_DWORD *)v6 + 2) - (signed int)result) >> 4;
    else
      v12 = 0;
    if ( v10 >= a4 + v12 )
    {
      v25 = *((_DWORD *)v6 + 2);
      v26 = (*((_DWORD *)v6 + 2) - a3) >> 4;
      v35 = *((_DWORD *)v6 + 2);
      if ( v26 >= a4 )
      {
        v30 = v25 - 16 * a4;
        v34 = (void *)(16 * a4);
        v31 = sub_4043A0(v25 - 16 * a4, v25, v25);
        v32 = v35;
        *((_DWORD *)v6 + 2) = v31;
        sub_403D10(a3, v30, v32);
        result = (void *)sub_403B80(a3, (int)v34 + a3, (int)&v36);
      }
      else
      {
        v34 = (void *)(16 * a4);
        sub_4043A0(a3, v25, a3 + 16 * a4);
        v27 = a4 - ((*((_DWORD *)v6 + 2) - a3) >> 4);
        v28 = *((_DWORD *)v6 + 2);
        v41 = 2;
        sub_403FE0(v28, v27, (int)&v36);
        v29 = v34;
        *((_DWORD *)v6 + 2) += v34;
        result = (void *)sub_403B80(a3, *((_DWORD *)v6 + 2) - (_DWORD)v29, (int)&v36);
      }
    }
    else
    {
      if ( 0xFFFFFFF - (v10 >> 1) >= v10 )
        v13 = (v10 >> 1) + v10;
      else
        v13 = 0;
      if ( result )
        v14 = (*((_DWORD *)v6 + 2) - (signed int)result) >> 4;
      else
        v14 = 0;
      if ( v13 < a4 + v14 )
      {
        if ( result )
          v15 = (*((_DWORD *)v6 + 2) - (signed int)result) >> 4;
        else
          v15 = 0;
        v13 = a4 + v15;
      }
      v16 = sub_402DC0((char *)v13);
      v17 = *((_DWORD *)v6 + 1);
      LOBYTE(v35) = 0;
      v34 = v16;
      v41 = 0;
      v18 = sub_4037A0(v17, a3, (int)v16);
      v19 = sub_403FE0(v18, a4, (int)&v36);
      v20 = *((_DWORD *)v6 + 2);
      LOBYTE(v35) = 0;
      sub_4037A0(a3, v20, v19);
      v21 = *((_DWORD *)v6 + 1);
      if ( v21 )
        v22 = (*((_DWORD *)v6 + 2) - v21) >> 4;
      else
        v22 = 0;
      v23 = v22 + a4;
      if ( v21 )
        j__free(*((void **)v6 + 1));
      result = v34;
      v24 = (char *)v34 + 16 * v23;
      *((_DWORD *)v6 + 3) = (char *)v34 + 16 * v13;
      *((_DWORD *)v6 + 2) = v24;
      *((_DWORD *)v6 + 1) = result;
    }
  }
  return result;
}

//----- (00405000) --------------------------------------------------------
void __thiscall sub_405000(int this, int a2, int a3, int a4, void *a5)
{
  int v5; // ebx@1
  int v6; // ecx@1
  unsigned int v7; // esi@2
  unsigned int v8; // edx@3
  int v9; // eax@6
  int v10; // eax@11
  unsigned int v11; // esi@15
  int v12; // eax@18
  char *v13; // eax@22
  const void *v14; // ST00_4@22
  void *v15; // eax@22
  void *v16; // eax@22
  int v17; // ecx@22
  int v18; // eax@23
  int v19; // edi@25
  char *v20; // ecx@28
  int v21; // ecx@29
  void *v22; // ST14_4@29
  int v23; // edi@30
  int v24; // [sp+0h] [bp-4Ch]@1
  char v25; // [sp+10h] [bp-3Ch]@1
  int *v26; // [sp+3Ch] [bp-10h]@1
  int v27; // [sp+48h] [bp-4h]@22
  char *v28; // [sp+5Ch] [bp+10h]@30
  char *v29; // [sp+60h] [bp+14h]@22
  void *v30; // [sp+60h] [bp+14h]@28

  v26 = &v24;
  v5 = this;
  qmemcpy(&v25, a5, 0x2Cu);
  v6 = *(_DWORD *)(this + 4);
  if ( v6 )
  {
    v8 = (signed int)((unsigned __int64)(780903145i64 * (*(_DWORD *)(v5 + 12) - v6)) >> 32) >> 3;
    v7 = v8 + (v8 >> 31);
  }
  else
  {
    v7 = 0;
  }
  if ( a4 )
  {
    if ( v6 )
      v9 = (*(_DWORD *)(v5 + 8) - v6) / 44;
    else
      v9 = 0;
    if ( 97612893 - v9 < (unsigned int)a4 )
      sub_40A8C0();
    if ( v6 )
      v10 = (*(_DWORD *)(v5 + 8) - v6) / 44;
    else
      v10 = 0;
    if ( v7 >= a4 + v10 )
    {
      v20 = *(char **)(v5 + 8);
      v30 = *(void **)(v5 + 8);
      if ( (*(_DWORD *)(v5 + 8) - a3) / 44 >= (unsigned int)a4 )
      {
        v23 = 44 * a4;
        v28 = &v20[-44 * a4];
        *(_DWORD *)(v5 + 8) = sub_4043D0(v28, v20, v20);
        sub_403D40((char *)a3, v28, (int)v30);
        sub_403BB0((void *)a3, (void *)(a3 + v23), &v25);
      }
      else
      {
        sub_4043D0((const void *)a3, v20, (void *)(a3 + 44 * a4));
        v21 = *(_DWORD *)(v5 + 8);
        v22 = *(void **)(v5 + 8);
        v27 = 2;
        sub_404020(v22, a4 - (v21 - a3) / 44, &v25);
        *(_DWORD *)(v5 + 8) += 44 * a4;
        sub_403BB0((void *)a3, (void *)(*(_DWORD *)(v5 + 8) - 44 * a4), &v25);
      }
    }
    else
    {
      if ( 97612893 - (v7 >> 1) >= v7 )
        v11 = (v7 >> 1) + v7;
      else
        v11 = 0;
      if ( v6 )
        v12 = (*(_DWORD *)(v5 + 8) - v6) / 44;
      else
        v12 = 0;
      if ( v11 < a4 + v12 )
        v11 = a4 + sub_402D40(v5);
      v13 = (char *)sub_402E20((char *)v11);
      v29 = v13;
      v14 = *(const void **)(v5 + 4);
      v27 = 0;
      v15 = sub_4037E0(v14, (const void *)a3, v13);
      v16 = (void *)sub_404020(v15, a4, &v25);
      sub_4037E0((const void *)a3, *(const void **)(v5 + 8), v16);
      v17 = *(_DWORD *)(v5 + 4);
      if ( v17 )
        v18 = (*(_DWORD *)(v5 + 8) - v17) / 44;
      else
        v18 = 0;
      v19 = v18 + a4;
      if ( v17 )
        j__free(*(void **)(v5 + 4));
      *(_DWORD *)(v5 + 12) = &v29[44 * v11];
      *(_DWORD *)(v5 + 8) = &v29[44 * v19];
      *(_DWORD *)(v5 + 4) = v29;
    }
  }
}

//----- (004052B0) --------------------------------------------------------
int __thiscall sub_4052B0(int this, int a2, int a3, int a4, void *a5)
{
  int v5; // esi@1
  unsigned int v6; // ebx@1
  unsigned int v7; // eax@2
  int v8; // ecx@2
  int v9; // edi@3
  int v10; // ecx@10
  unsigned int v11; // ebx@10
  unsigned int v12; // edi@12
  int result; // eax@15

  v5 = this;
  v6 = *(_DWORD *)(this + 4);
  if ( v6 && (v7 = *(_DWORD *)(this + 8), (v8 = (signed int)(*(_DWORD *)(this + 8) - v6) >> 5) != 0) )
  {
    if ( v6 > v7 )
      _invalid_parameter_noinfo(v8);
    if ( !a3 || a3 != v5 )
      _invalid_parameter_noinfo(v8);
    v9 = (signed int)(a4 - v6) >> 5;
  }
  else
  {
    v9 = 0;
  }
  sub_404B60(v5, a3, a4, 1, a5);
  v11 = *(_DWORD *)(v5 + 4);
  if ( v11 > *(_DWORD *)(v5 + 8) )
    _invalid_parameter_noinfo(v10);
  v12 = v11 + 32 * v9;
  if ( v12 > *(_DWORD *)(v5 + 8) || v12 < *(_DWORD *)(v5 + 4) )
    _invalid_parameter_noinfo(v10);
  result = a2;
  *(_DWORD *)(a2 + 4) = v12;
  *(_DWORD *)a2 = v5;
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00405340) --------------------------------------------------------
int __thiscall sub_405340(int this, int a2, int a3, int a4, int a5)
{
  int v5; // esi@1
  unsigned int v6; // ebx@1
  unsigned int v7; // eax@2
  int v8; // ecx@2
  int v9; // edi@3
  int v10; // ecx@10
  unsigned int v11; // ebx@10
  unsigned int v12; // edi@12
  int result; // eax@15

  v5 = this;
  v6 = *(_DWORD *)(this + 4);
  if ( v6 && (v7 = *(_DWORD *)(this + 8), (v8 = (signed int)(*(_DWORD *)(this + 8) - v6) >> 4) != 0) )
  {
    if ( v6 > v7 )
      _invalid_parameter_noinfo(v8);
    if ( !a3 || a3 != v5 )
      _invalid_parameter_noinfo(v8);
    v9 = (signed int)(a4 - v6) >> 4;
  }
  else
  {
    v9 = 0;
  }
  sub_404DB0((void *)v5, a3, a4, 1u, a5);
  v11 = *(_DWORD *)(v5 + 4);
  if ( v11 > *(_DWORD *)(v5 + 8) )
    _invalid_parameter_noinfo(v10);
  v12 = v11 + 16 * v9;
  if ( v12 > *(_DWORD *)(v5 + 8) || v12 < *(_DWORD *)(v5 + 4) )
    _invalid_parameter_noinfo(v10);
  result = a2;
  *(_DWORD *)(a2 + 4) = v12;
  *(_DWORD *)a2 = v5;
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (004053D0) --------------------------------------------------------
int __thiscall sub_4053D0(int this, int a2, int a3, int a4, void *a5)
{
  int v5; // edi@1
  unsigned int v6; // esi@1
  unsigned int v7; // ebx@2
  signed int v8; // ecx@2
  int v9; // ebx@3
  int v10; // esi@3
  unsigned int v11; // edx@9
  int v12; // ecx@10
  unsigned int v13; // ebx@10
  unsigned int v14; // esi@12
  int result; // eax@15

  v5 = this;
  v6 = *(_DWORD *)(this + 4);
  if ( v6 && (v7 = *(_DWORD *)(this + 8), v8 = *(_DWORD *)(this + 8) - v6, v8 / 44) )
  {
    if ( v6 > v7 )
      _invalid_parameter_noinfo(v8);
    v9 = a3;
    if ( !a3 || a3 != v5 )
      _invalid_parameter_noinfo(v8);
    v11 = (signed int)((unsigned __int64)(780903145i64 * (signed int)(a4 - v6)) >> 32) >> 3;
    v10 = v11 + (v11 >> 31);
  }
  else
  {
    v9 = a3;
    v10 = 0;
  }
  sub_405000(v5, v9, a4, 1, a5);
  v13 = *(_DWORD *)(v5 + 4);
  if ( v13 > *(_DWORD *)(v5 + 8) )
    _invalid_parameter_noinfo(v12);
  v14 = v13 + 44 * v10;
  if ( v14 > *(_DWORD *)(v5 + 8) || v14 < *(_DWORD *)(v5 + 4) )
    _invalid_parameter_noinfo(v12);
  result = a2;
  *(_DWORD *)a2 = v5;
  *(_DWORD *)(a2 + 4) = v14;
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00405480) --------------------------------------------------------
int __thiscall sub_405480(int this, int a2)
{
  int v2; // esi@1
  char *v3; // ecx@1

  v2 = this;
  *(_DWORD *)this = &off_4AB9EC;
  *(_DWORD *)(this + 72) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 80) = 0;
  sub_4235AF(this + 372, 10);
  sub_4235AF(v2 + 404, 10);
  *(_DWORD *)(v2 + 436) = 0;
  *(_DWORD *)(v2 + 440) = 0;
  *(_DWORD *)(v2 + 444) = 0;
  *(_DWORD *)(v2 + 452) = 0;
  *(_DWORD *)(v2 + 456) = 0;
  *(_DWORD *)(v2 + 460) = 0;
  *(_DWORD *)(v2 + 360) = 0;
  *(_DWORD *)(v2 + 364) = 0;
  *(_DWORD *)(v2 + 4) = 0;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 12) = 0;
  *(_DWORD *)(v2 + 16) = 0;
  *(_DWORD *)(v2 + 20) = 0;
  *(_DWORD *)(v2 + 24) = 0;
  *(_DWORD *)(v2 + 32) = 0;
  *(_DWORD *)(v2 + 356) = 0;
  *(_DWORD *)(v2 + 28) = 0;
  *(_DWORD *)(v2 + 472) = 0;
  sub_402B00(v2, 0);
  *(_DWORD *)(v2 + 4) = sub_402C70(v3);
  *(_DWORD *)(v2 + 8) = sub_403810(v2, a2);
  return v2;
}
// 4AB9EC: using guessed type int (__thiscall *off_4AB9EC)(void *, char);

//----- (00405570) --------------------------------------------------------
void *__thiscall sub_405570(int this, void *a2)
{
  int v2; // esi@1
  unsigned int v3; // edx@1
  unsigned int v4; // ecx@2
  void *v5; // edi@6
  void *result; // eax@6
  unsigned int v7; // edi@7
  int v8; // [sp+8h] [bp-8h]@6

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  if ( v3 )
    v4 = (signed int)(*(_DWORD *)(this + 8) - v3) >> 5;
  else
    v4 = 0;
  if ( v3 && v4 < (signed int)(*(_DWORD *)(v2 + 12) - v3) >> 5 )
  {
    v5 = *(void **)(v2 + 8);
    LOBYTE(v8) = 0;
    result = sub_403BE0((void *)v8, v5, 1, a2);
    *(_DWORD *)(v2 + 8) = (char *)v5 + 32;
  }
  else
  {
    v7 = *(_DWORD *)(v2 + 8);
    if ( v3 > v7 )
      _invalid_parameter_noinfo(v4);
    result = (void *)sub_4052B0(v2, (int)&v8, v2, v7, a2);
  }
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00405600) --------------------------------------------------------
void __thiscall sub_405600(int this, int a2)
{
  int v2; // esi@1
  unsigned int v3; // edx@1
  unsigned int v4; // ecx@2
  int v5; // edi@6
  unsigned int v6; // edi@7
  int v7; // [sp+8h] [bp-8h]@6

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  if ( v3 )
    v4 = (signed int)(*(_DWORD *)(this + 8) - v3) >> 4;
  else
    v4 = 0;
  if ( v3 && v4 < (signed int)(*(_DWORD *)(v2 + 12) - v3) >> 4 )
  {
    v5 = *(_DWORD *)(v2 + 8);
    LOBYTE(v7) = 0;
    sub_403C10(v5, 1, a2);
    *(_DWORD *)(v2 + 8) = v5 + 16;
  }
  else
  {
    v6 = *(_DWORD *)(v2 + 8);
    if ( v3 > v6 )
      _invalid_parameter_noinfo(v4);
    sub_405340(v2, (int)&v7, v2, v6, a2);
  }
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00405690) --------------------------------------------------------
void *__thiscall sub_405690(int this, void *a2)
{
  int v2; // esi@1
  unsigned int v3; // edi@1
  unsigned int v4; // ecx@2
  unsigned int v5; // edx@3
  void *v6; // edi@6
  void *result; // eax@6
  unsigned int v8; // ebx@7
  int v9; // [sp+8h] [bp-8h]@6

  v2 = this;
  v3 = *(_DWORD *)(this + 4);
  if ( v3 )
  {
    v5 = (signed int)((unsigned __int64)(780903145i64 * (signed int)(*(_DWORD *)(this + 8) - v3)) >> 32) >> 3;
    v4 = v5 + (v5 >> 31);
  }
  else
  {
    v4 = 0;
  }
  if ( v3 && v4 < (signed int)(*(_DWORD *)(v2 + 12) - v3) / 44 )
  {
    v6 = *(void **)(v2 + 8);
    LOBYTE(v9) = 0;
    result = sub_403C50((void *)v9, v6, 1, a2);
    *(_DWORD *)(v2 + 8) = (char *)v6 + 44;
  }
  else
  {
    v8 = *(_DWORD *)(v2 + 8);
    if ( v3 > v8 )
      _invalid_parameter_noinfo(v4);
    result = (void *)sub_4053D0(v2, (int)&v9, v2, v8, a2);
  }
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00405730) --------------------------------------------------------
signed int __thiscall sub_405730(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  int v3; // edi@3

  v1 = this;
  if ( *(_DWORD *)(this + 16) )
  {
    v3 = sub_403180(this);
    if ( v3 )
    {
      while ( 1 )
      {
        if ( (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 100))(v3) < 0 )
        {
          if ( !sub_402F00((void *)v1, v3, 1) )
            goto LABEL_12;
          if ( (*(int (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 100))(v3) < 0 )
          {
            sub_402B00(v1, 20);
            return 0;
          }
        }
        if ( (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)v3 + 36))(v3, 272, v1 + 84) < 0 )
          break;
        sub_402C00(v1);
        sub_405570(v1 + 68, (void *)(v1 + 36));
        v3 = sub_402B50(v1);
        if ( !v3 )
          goto LABEL_9;
      }
      sub_402B00(v1, 21);
LABEL_12:
      result = 0;
    }
    else
    {
LABEL_9:
      *(_DWORD *)(v1 + 20) = 1;
      sub_402B00(v1, 0);
      result = 1;
    }
  }
  else
  {
    sub_402B00(this, 19);
    result = 0;
  }
  return result;
}

//----- (004057E0) --------------------------------------------------------
signed int __thiscall sub_4057E0(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  int v3; // edi@7
  int *v4; // ebx@8
  int v5; // edi@11

  v1 = this;
  if ( *(_DWORD *)(this + 12) )
  {
    sub_402B00(this, 23);
    result = 0;
  }
  else if ( *(_DWORD *)(this + 4) )
  {
    if ( *(_DWORD *)(this + 8) )
    {
      v3 = sub_403140(this);
      if ( v3 )
      {
        v4 = (int *)(v1 + 364);
        while ( 1 )
        {
          if ( *v4 )
            (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v4 + 32))(*v4);
          v5 = v3 + 4;
          if ( (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v1 + 360) + 12))(
                 *(_DWORD *)(v1 + 360),
                 v5,
                 v1 + 364,
                 0) < 0 )
            break;
          sub_423636(v1 + 404, *v4);
          sub_405600(v1 + 432, v5);
          v3 = sub_402B10(v1);
          if ( !v3 )
            goto LABEL_13;
        }
        sub_402B00(v1, 26);
        result = 0;
      }
      else
      {
LABEL_13:
        *(_DWORD *)(v1 + 12) = 1;
        sub_402B00(v1, 0);
        result = 1;
      }
    }
    else
    {
      sub_402B00(this, 25);
      result = 0;
    }
  }
  else
  {
    sub_402B00(this, 24);
    result = 0;
  }
  return result;
}

//----- (004058B0) --------------------------------------------------------
signed int __thiscall sub_4058B0(int this)
{
  int v1; // edi@1
  signed int result; // eax@4
  int v3; // esi@7
  int v4; // [sp+20h] [bp-2Ch]@7
  int v5; // [sp+2Ch] [bp-20h]@11

  v1 = this;
  if ( !*(_DWORD *)(this + 356) )
    *(_DWORD *)(this + 356) = GetDesktopWindow();
  if ( *(_DWORD *)(v1 + 12) )
  {
    if ( *(_DWORD *)(v1 + 16) )
    {
      sub_402B00(v1, 39);
      result = 0;
    }
    else
    {
      v4 = 44;
      *(_DWORD *)(v1 + 32) = 0;
      v3 = sub_403180(v1);
      if ( v3 )
      {
        while ( 1 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 32))(v3);
          if ( (*(int (__stdcall **)(int, void *))(*(_DWORD *)v3 + 44))(v3, &unk_4C35FC) < 0 )
          {
            sub_402B00(v1, 40);
            return 0;
          }
          if ( (*(int (__stdcall **)(int, _DWORD, signed int))(*(_DWORD *)v3 + 52))(v3, *(_DWORD *)(v1 + 356), 10) < 0 )
          {
            sub_402B00(v1, 41);
            return 0;
          }
          if ( (*(int (__stdcall **)(int, int *))(*(_DWORD *)v3 + 12))(v3, &v4) < 0 )
            break;
          sub_405690(v1 + 448, &v4);
          *(_DWORD *)(v1 + 32) += v5;
          v3 = sub_402B50(v1);
          if ( !v3 )
            goto LABEL_12;
        }
        sub_402B00(v1, 37);
        result = 0;
      }
      else
      {
LABEL_12:
        *(_DWORD *)(v1 + 16) = 1;
        sub_402B00(v1, 0);
        result = 1;
      }
    }
  }
  else
  {
    sub_402B00(v1, 22);
    result = 0;
  }
  return result;
}

//----- (004059D0) --------------------------------------------------------
char __thiscall sub_4059D0(int this, char a2)
{
  char result; // al@1

  result = a2;
  *(_BYTE *)(this + 2353) = a2;
  return result;
}

//----- (004059E0) --------------------------------------------------------
HANDLE __thiscall sub_4059E0(int this, char a2, LPCSTR lpFileName)
{
  HANDLE result; // eax@1
  int v4; // esi@1

  result = (HANDLE)(unsigned __int8)a2;
  v4 = this;
  *(_DWORD *)(this + 2360) = (unsigned __int8)a2;
  if ( a2 )
  {
    if ( *(_DWORD *)(this + 16) != 1 )
    {
      result = CreateFileA(lpFileName, 0xC0000000, 1u, 0, 2u, 0x80u, 0);
      *(_DWORD *)(v4 + 2364) = result;
      *(_DWORD *)(v4 + 28) = result;
      *(_DWORD *)(v4 + 48) = result;
    }
  }
  return result;
}

//----- (00405A30) --------------------------------------------------------
void __thiscall sub_405A30(int this)
{
  int v1; // esi@1
  bool v2; // zf@1
  void *v3; // esi@3

  v1 = this;
  v2 = *(_DWORD *)(this + 16) == 0;
  *(_DWORD *)(this + 52) = 1;
  *(_DWORD *)(this + 40) = 1;
  *(_DWORD *)(this + 2356) = 2;
  if ( !v2 )
  {
    SetEvent(*(HANDLE *)(this + 44));
    WaitForSingleObject(*(HANDLE *)(v1 + 12), 0xFFFFFFFF);
    CloseHandle(*(HANDLE *)(v1 + 44));
    TerminateThread(*(HANDLE *)(v1 + 12), 0);
    CloseHandle(*(HANDLE *)(v1 + 12));
    *(_DWORD *)(v1 + 12) = 0;
    Sleep(8u);
    WaitForSingleObject(*(HANDLE *)(v1 + 8), 0xFFFFFFFF);
    CloseHandle(*(HANDLE *)(v1 + 24));
    TerminateThread(*(HANDLE *)(v1 + 8), 0);
    CloseHandle(*(HANDLE *)(v1 + 8));
    *(_DWORD *)(v1 + 8) = 0;
    Sleep(8u);
  }
  v3 = *(void **)(v1 + 4);
  if ( v3 )
    WaitForSingleObject(v3, 0xFFFFFFFF);
}

//----- (00405AE0) --------------------------------------------------------
int __thiscall sub_405AE0(int this, int a2)
{
  int v2; // esi@1
  signed int v3; // edx@1
  unsigned int v4; // eax@2
  unsigned int v5; // eax@3
  unsigned int v6; // eax@4
  unsigned int v7; // eax@5

  v2 = this;
  *(_DWORD *)(this + 4) = 2147483648;
  v3 = 0;
  do
  {
    v4 = *(_DWORD *)(this + 4);
    if ( v4 & a2 )
      break;
    v5 = v4 >> 1;
    *(_DWORD *)(this + 4) = v5;
    if ( v5 & a2 )
      break;
    v6 = v5 >> 1;
    *(_DWORD *)(this + 4) = v6;
    if ( v6 & a2 )
      break;
    v7 = v6 >> 1;
    *(_DWORD *)(this + 4) = v7;
    if ( v7 & a2 )
      break;
    v3 += 4;
    *(_DWORD *)(this + 4) = v7 >> 1;
  }
  while ( v3 < 32 );
  *(_DWORD *)this = operator new(1524 * *(_DWORD *)(this + 4));
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 12) = 0;
  return v2;
}

//----- (00405B60) --------------------------------------------------------
void __thiscall sub_405B60(int this, const void *a2, int a3)
{
  int v3; // ebp@1
  const void *v4; // ebx@2
  int v5; // eax@3

  v3 = a3;
  if ( a3 )
  {
    v4 = a2;
    do
    {
      qmemcpy((void *)(*(_DWORD *)this + 1524 * *(_DWORD *)(this + 8)), v4, 0x5F4u);
      v5 = (*(_DWORD *)(this + 4) - 1) & (*(_DWORD *)(this + 8) + 1);
      v4 = (char *)v4 + 1524;
      if ( v5 == *(_DWORD *)(this + 12) )
        break;
      --v3;
      *(_DWORD *)(this + 8) = v5;
    }
    while ( v3 );
  }
}

//----- (00405BB0) --------------------------------------------------------
DWORD __stdcall StartAddress(LPVOID lpThreadParameter)
{
  bool v1; // zf@1
  u_short v2; // ST18_2@3
  SOCKET v3; // eax@3
  SOCKET v4; // ecx@9
  int v5; // eax@10
  int v6; // ebx@12
  int v7; // eax@15
  char *v8; // edx@15
  int v9; // ecx@16
  char *v10; // ST18_4@19
  int v11; // ST14_4@19
  char *v12; // eax@19
  int v14; // eax@24
  signed int s; // [sp+10h] [bp-6B0h]@1
  int v16; // [sp+14h] [bp-6ACh]@1
  signed int v17; // [sp+18h] [bp-6A8h]@15
  DWORD NumberOfBytesWritten; // [sp+1Ch] [bp-6A4h]@19
  char optval[4]; // [sp+20h] [bp-6A0h]@1
  int fromlen; // [sp+24h] [bp-69Ch]@1
  __time64_t Time; // [sp+28h] [bp-698h]@19
  struct sockaddr name; // [sp+30h] [bp-690h]@3
  struct sockaddr from; // [sp+40h] [bp-680h]@19
  char buf; // [sp+50h] [bp-670h]@12
  u_short netshort[2]; // [sp+5Ch] [bp-664h]@13
  DWORD nNumberOfBytesToWrite; // [sp+63Ch] [bp-84h]@15
  DWORD v27; // [sp+640h] [bp-80h]@15
  char Buffer; // [sp+644h] [bp-7Ch]@19

  v1 = *((_DWORD *)lpThreadParameter + 4) == 4;
  fromlen = 16;
  v16 = 0;
  s = -1;
  *(_DWORD *)optval = 1000;
  if ( !v1 )
  {
    if ( gethostbyname(::name) )
    {
      v2 = *((_WORD *)lpThreadParameter + 16);
      name.sa_family = 2;
      *(_DWORD *)&name.sa_data[2] = 0;
      *(_WORD *)&name.sa_data[0] = htons(v2);
      v3 = socket(2, 2, 17);
      s = v3;
      if ( v3 != -1 )
      {
        if ( bind(v3, &name, 16) == -1 )
        {
          WSAGetLastError();
          s = -1;
          *((_BYTE *)lpThreadParameter + 2352) = 1;
        }
        if ( setsockopt(s, 0xFFFF, 4102, optval, 4) == -1 )
        {
          WSAGetLastError();
          s = -1;
          *((_BYTE *)lpThreadParameter + 2352) = 1;
        }
      }
    }
  }
  while ( *((_DWORD *)lpThreadParameter + 10) != 1 )
  {
    v4 = s;
    if ( s == -1 )
    {
      v5 = *((_DWORD *)lpThreadParameter + 5);
      if ( !v5 )
        goto LABEL_22;
      if ( !v5 )
        continue;
      v6 = sub_406980(v5, &buf, 1514);
      if ( *((_BYTE *)lpThreadParameter + 2353) )
      {
        if ( ntohs(netshort[0]) == 24585 )
          continue;
      }
    }
    else
    {
      v6 = recvfrom(s, &buf, 1514, 0, &from, &fromlen);
      if ( v6 == -1 )
      {
        v14 = WSAGetLastError();
        if ( v14 != 10060 )
        {
          if ( v14 == 10004 )
            *((_DWORD *)lpThreadParameter + 10) = 1;
          *((_BYTE *)lpThreadParameter + 2352) = 1;
        }
      }
    }
    if ( v6 > 0 )
    {
      ++v16;
      v27 = GetTickCount();
      v7 = *((_DWORD *)lpThreadParameter + 9);
      nNumberOfBytesToWrite = v6;
      v17 = 1;
      v8 = &buf;
      do
      {
        qmemcpy((void *)(*(_DWORD *)v7 + 1524 * *(_DWORD *)(v7 + 8)), v8, 0x5F4u);
        v9 = (*(_DWORD *)(v7 + 4) - 1) & (*(_DWORD *)(v7 + 8) + 1);
        v8 += 1524;
        if ( v9 == *(_DWORD *)(v7 + 12) )
          break;
        v1 = v17-- == 1;
        *(_DWORD *)(v7 + 8) = v9;
      }
      while ( !v1 );
      SetEvent(*((HANDLE *)lpThreadParameter + 6));
      if ( *((_DWORD *)lpThreadParameter + 7) != -1 )
      {
        _time64(&Time);
        Buffer = 0;
        v10 = _ctime64(&Time);
        v11 = *((_DWORD *)lpThreadParameter + 8);
        v12 = inet_ntoa(*(struct in_addr *)&from.sa_data[2]);
        sprintf(
          &Buffer,
          "\n\nRX packet size = %u. \nRX packet # = %u.\nSource IP Address  = %s UDP Port = %u\n%s",
          v6,
          v16,
          v12,
          v11,
          v10);
        WriteFile(*((HANDLE *)lpThreadParameter + 7), &Buffer, strlen(&Buffer), &NumberOfBytesWritten, 0);
        WriteFile(*((HANDLE *)lpThreadParameter + 7), &buf, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
      }
    }
  }
  v4 = s;
LABEL_22:
  closesocket(v4);
  return 0;
}

//----- (00405E90) --------------------------------------------------------
BOOL __thiscall sub_405E90(int this, void *a2, size_t a3)
{
  int v3; // esi@1
  signed int v4; // ebx@1
  int v5; // ecx@2
  int v6; // ecx@2
  unsigned int v7; // eax@2
  int v8; // ecx@3
  char v10; // [sp+8h] [bp-5F8h]@2
  size_t v11; // [sp+5F4h] [bp-Ch]@2

  v3 = this;
  v4 = 0;
  if ( *(_DWORD *)(this + 52) != 1 )
  {
    v4 = 1;
    memcpy(&v10, a2, a3);
    v5 = *(_DWORD *)(v3 + 72);
    v11 = a3;
    sub_405B60(v5, &v10, 1);
    v6 = *(_DWORD *)(v3 + 72);
    v7 = *(_DWORD *)(v6 + 8) - *(_DWORD *)(v6 + 12);
    if ( v7 <= *(_DWORD *)(v6 + 4) || (v8 = *(_DWORD *)(v6 + 4), v7 += v8, v7 <= v8) )
    {
      if ( v7 == 1 )
        SetEvent(*(HANDLE *)(v3 + 44));
    }
  }
  return v4 != 0;
}

//----- (00405F30) --------------------------------------------------------
unsigned int __thiscall sub_405F30(int this, void *a2, int a3)
{
  void *v3; // ebp@1
  unsigned int result; // eax@2
  int v5; // edx@2
  int v6; // ebx@5
  int v7; // esi@6

  v3 = a2;
  if ( a2 )
  {
    v6 = a3;
    for ( result = 0; v6; *(_DWORD *)(this + 12) = (*(_DWORD *)(this + 12) + 1) & (*(_DWORD *)(this + 4) - 1) )
    {
      v7 = *(_DWORD *)(this + 12);
      if ( *(_DWORD *)(this + 8) == v7 )
        break;
      qmemcpy(v3, (const void *)(*(_DWORD *)this + 1524 * v7), 0x5F4u);
      --v6;
      v3 = (char *)v3 + 1524;
      ++result;
    }
  }
  else
  {
    result = *(_DWORD *)(this + 8) - *(_DWORD *)(this + 12);
    v5 = *(_DWORD *)(this + 4);
    if ( result > v5 )
    {
      result += v5;
      if ( result > v5 )
        result = 0;
    }
  }
  return result;
}

//----- (00405FB0) --------------------------------------------------------
DWORD __stdcall sub_405FB0(LPVOID lpThreadParameter)
{
  SOCKET v1; // esi@1
  struct hostent *v2; // edi@3
  int v3; // ecx@11
  unsigned int v4; // eax@11
  int v5; // edx@11
  char *v6; // eax@25
  signed int s; // [sp+10h] [bp-69Ch]@1
  int v9; // [sp+14h] [bp-698h]@1
  char optval[4]; // [sp+18h] [bp-694h]@4
  DWORD NumberOfBytesWritten; // [sp+1Ch] [bp-690h]@25
  int optlen; // [sp+20h] [bp-68Ch]@4
  __time64_t Time; // [sp+24h] [bp-688h]@25
  struct sockaddr to; // [sp+2Ch] [bp-680h]@15
  char buf; // [sp+3Ch] [bp-670h]@14
  u_short netshort[2]; // [sp+48h] [bp-664h]@22
  int len; // [sp+628h] [bp-84h]@15
  char Buffer; // [sp+630h] [bp-7Ch]@25

  v1 = -1;
  s = -1;
  v9 = 0;
  if ( *((_DWORD *)lpThreadParameter + 4) == 4 )
    goto LABEL_19;
  if ( !memcmp(*((const void **)lpThreadParameter + 16), "NONE", 5u) )
  {
    v1 = -1;
LABEL_19:
    v2 = *(struct hostent **)optval;
    goto LABEL_6;
  }
  v2 = gethostbyname(*((const char **)lpThreadParameter + 16));
  if ( v2 )
  {
    s = socket(2, 2, 0);
    optlen = 4;
    getsockopt(s, 0xFFFF, 8195, optval, &optlen);
  }
  v1 = s;
LABEL_6:
  while ( *((_DWORD *)lpThreadParameter + 13) != 1 )
  {
    if ( v1 == -1 && *((_DWORD *)lpThreadParameter + 12) == -1 && !*((_DWORD *)lpThreadParameter + 5) )
      break;
    WaitForSingleObject(*((HANDLE *)lpThreadParameter + 11), 0xFFFFFFFF);
    while ( 1 )
    {
      v3 = *((_DWORD *)lpThreadParameter + 15);
      v4 = *(_DWORD *)(v3 + 8) - *(_DWORD *)(v3 + 12);
      v5 = *(_DWORD *)(v3 + 4);
      if ( v4 > v5 )
      {
        v4 += v5;
        if ( v4 > v5 )
          break;
      }
      if ( !v4 )
        break;
      ++v9;
      sub_405F30(v3, &buf, 1);
      if ( v1 == -1 )
      {
        if ( *((_DWORD *)lpThreadParameter + 5)
          && (!*((_BYTE *)lpThreadParameter + 2353) || ntohs(netshort[0]) != 24585) )
        {
          sub_406A00(*((_DWORD *)lpThreadParameter + 5), (int)&buf, len);
        }
      }
      else
      {
        to.sa_family = 2;
        memcpy(&to.sa_data[2], *(const void **)v2->h_addr_list, v2->h_length);
        *(_WORD *)&to.sa_data[0] = htons(*((_WORD *)lpThreadParameter + 28));
        if ( sendto(v1, &buf, len, 0, &to, 16) == -1 && WSAGetLastError() == 10004 )
          *((_DWORD *)lpThreadParameter + 13) = 1;
      }
      if ( *((_DWORD *)lpThreadParameter + 12) != -1 )
      {
        _time64(&Time);
        Buffer = 0;
        v6 = _ctime64(&Time);
        sprintf(
          &Buffer,
          "\n\nTX packet size = %u. \nTX packet # = %u. \nDestination Address = %s UDP Port = %i\n%s",
          len,
          v9,
          *((_DWORD *)lpThreadParameter + 16),
          *((_DWORD *)lpThreadParameter + 14),
          v6);
        WriteFile(*((HANDLE *)lpThreadParameter + 12), &Buffer, strlen(&Buffer), &NumberOfBytesWritten, 0);
        WriteFile(*((HANDLE *)lpThreadParameter + 12), &buf, len, &NumberOfBytesWritten, 0);
      }
    }
  }
  closesocket(v1);
  return 0;
}

//----- (00406230) --------------------------------------------------------
void __thiscall sub_406230(int this)
{
  int v1; // esi@1
  void *v2; // eax@1
  void **v3; // edi@5
  void **v4; // esi@7

  v1 = this;
  v2 = *(void **)(this + 2364);
  *(_DWORD *)this = &off_4ABAC4;
  if ( v2 != (void *)-1 )
  {
    CloseHandle(v2);
    *(_DWORD *)(v1 + 2364) = -1;
  }
  sub_405A30(v1);
  if ( *(_DWORD *)(v1 + 20) )
    sub_4067A0(*(_DWORD *)(v1 + 20));
  v3 = *(void ***)(v1 + 68);
  if ( v3 )
  {
    j__free(*v3);
    j__free(v3);
  }
  v4 = *(void ***)(v1 + 72);
  if ( v4 )
  {
    j__free(*v4);
    j__free(v4);
  }
}
// 4ABAC4: using guessed type int (__thiscall *off_4ABAC4)(void *, char);

//----- (004062A0) --------------------------------------------------------
int __thiscall sub_4062A0(int this, void *a2, int a3)
{
  size_t v3; // edi@1
  int result; // eax@5
  char v5; // [sp+8h] [bp-5F8h]@2
  size_t v6; // [sp+5F4h] [bp-Ch]@3

  v3 = 0;
  if ( *(_DWORD *)(this + 40) == 1 )
  {
    result = -2;
  }
  else
  {
    if ( !sub_405F30(*(_DWORD *)(this + 68), &v5, 1) )
      return v3;
    v3 = v6;
    if ( (signed int)v6 <= a3 )
    {
      memcpy(a2, &v5, v6);
      return v3;
    }
    result = -1;
  }
  return result;
}

//----- (00406320) --------------------------------------------------------
void __thiscall sub_406320(LPVOID lpParameter)
{
  _WORD *v1; // esi@1
  HANDLE v2; // eax@2
  int v3; // ecx@2
  HANDLE v4; // eax@2
  HANDLE v5; // eax@4
  int v6; // edx@4
  HANDLE v7; // eax@4
  DWORD ThreadId; // [sp+10h] [bp-8h]@2
  DWORD v9; // [sp+14h] [bp-4h]@4

  v1 = lpParameter;
  if ( *((_DWORD *)lpParameter + 4)
    && (*((_DWORD *)lpParameter + 8) = *((_WORD *)lpParameter + 1174),
        v2 = CreateEventA(0, 0, 0, 0),
        v3 = *((_DWORD *)v1 + 17),
        *((_DWORD *)v1 + 6) = v2,
        *((_DWORD *)v1 + 9) = v3,
        *((_DWORD *)v1 + 10) = 0,
        v4 = CreateThread(0, 0, StartAddress, v1, 0, &ThreadId),
        *((_DWORD *)v1 + 2) = v4,
        SetThreadPriority(v4, 1),
        *((_DWORD *)v1 + 4))
    || *((_DWORD *)v1 + 590) )
  {
    v5 = CreateEventA(0, 0, 0, 0);
    v6 = v1[1175];
    *((_DWORD *)v1 + 11) = v5;
    *((_DWORD *)v1 + 15) = *((_DWORD *)v1 + 18);
    *((_DWORD *)v1 + 13) = 0;
    *((_DWORD *)v1 + 16) = v1 + 83;
    *((_DWORD *)v1 + 14) = v6;
    v7 = CreateThread(0, 0, sub_405FB0, v1, 0, &v9);
    *((_DWORD *)v1 + 3) = v7;
    SetThreadPriority(v7, 1);
  }
}

//----- (004063E0) --------------------------------------------------------
void *__thiscall sub_4063E0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_406230((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00406400) --------------------------------------------------------
int __stdcall sub_406400(char *a1)
{
  unsigned __int8 *v1; // eax@2
  signed int v2; // esi@4

  if ( *((_DWORD *)a1 - 3) >= 0 && (v1 = _mbsstr((const unsigned __int8 *)a1, "FILE")) != 0 && (char *)v1 == a1 )
  {
    v2 = 1;
  }
  else if ( !memcmp(a1, "NONE", 5u) )
  {
    v2 = 0;
  }
  else if ( !memcmp(a1, "LOOPBACK", 9u) )
  {
    v2 = 3;
  }
  else
  {
    v2 = strstr(a1, "\\Device") != 0 ? 4 : 2;
  }
  if ( _InterlockedDecrement((volatile signed __int32 *)a1 - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**((_DWORD **)a1 - 4) + 4))(a1 - 16);
  return v2;
}

//----- (004064A0) --------------------------------------------------------
void __thiscall sub_4064A0(int this, int a2, __int16 a3, char *a4)
{
  int v4; // esi@1
  char *v5; // eax@1
  int v6; // edi@1
  char v7; // cl@2
  int v8; // eax@3
  int v9; // eax@3
  int v10; // eax@5
  int v11; // eax@9
  struct hostent *v12; // eax@14
  char *v13; // edx@15
  _BYTE *v14; // ebp@15
  char v15; // cl@16
  struct hostent *v16; // eax@19
  void *v17; // eax@23
  int v18; // eax@24
  void *v19; // eax@26
  struct WSAData *v20; // eax@30
  int v21; // edx@31
  struct WSAData *v22; // [sp-4h] [bp-1C0h]@3
  int v23; // [sp+14h] [bp-1A8h]@3
  void *v24; // [sp+18h] [bp-1A4h]@23
  struct WSAData WSAData; // [sp+1Ch] [bp-1A0h]@3
  int v26; // [sp+1B8h] [bp-4h]@1

  v4 = this;
  *(_DWORD *)(this + 2364) = -1;
  *(_BYTE *)(this + 166) = 0;
  *(_DWORD *)(this + 28) = -1;
  *(_DWORD *)(this + 48) = -1;
  v26 = 0;
  *(_DWORD *)this = &off_4ABAC4;
  *(_BYTE *)(this + 2352) = 0;
  *(_BYTE *)(this + 76) = 0;
  *(_DWORD *)(this + 2368) = 0;
  *(_DWORD *)(this + 2372) = 0;
  *(_DWORD *)(this + 2376) = 0;
  *(_BYTE *)(this + 2353) = 0;
  *(_DWORD *)(this + 40) = 1;
  *(_DWORD *)(this + 32) = 0;
  *(_DWORD *)(this + 24) = 0;
  *(_DWORD *)(this + 52) = 1;
  *(_DWORD *)(this + 56) = 0;
  *(_DWORD *)(this + 44) = 0;
  *(_DWORD *)(this + 64) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 2336) = 0;
  *(_DWORD *)(this + 2356) = 2;
  *(_DWORD *)(this + 20) = 0;
  v5 = (char *)a2;
  v6 = this + 166 - a2;
  do
  {
    v7 = *v5;
    v5[v6] = *v5;
    ++v5;
  }
  while ( v7 );
  LOWORD(this) = (_WORD)a4;
  *(_WORD *)(v4 + 2348) = a3;
  *(_WORD *)(v4 + 2350) = (_WORD)a4;
  v22 = (struct WSAData *)this;
  v23 = a2 - 16;
  v8 = sub_401910(a2 - 16);
  v9 = sub_406400((char *)(v8 + 16));
  v22 = &WSAData;
  *(_DWORD *)(v4 + 16) = v9;
  if ( WSAStartup(0x202u, v22) != -1 )
  {
    v10 = *(_DWORD *)(v4 + 16);
    if ( v10 != 1 )
    {
      if ( v10 != 2 )
      {
        if ( v10 != 3 )
        {
          if ( v10 == 4 )
          {
            v11 = sub_406900(a2, 1u, 1000);
            *(_DWORD *)(v4 + 20) = v11;
            if ( !v11 )
              *(_BYTE *)(v4 + 2352) = 1;
          }
          else
          {
            *(_DWORD *)(v4 + 2368) = GetLastError();
          }
          goto LABEL_22;
        }
        *(_WORD *)(v4 + 2348) = *(_WORD *)(v4 + 2350);
        *(_DWORD *)(v4 + 166) = 1633906540;
        *(_DWORD *)(v4 + 170) = 1936681068;
        *(_WORD *)(v4 + 174) = 116;
      }
      v12 = gethostbyname(name);
      if ( v12 )
      {
        v13 = v12->h_name;
        v14 = (_BYTE *)(v4 + 76);
        do
        {
          v15 = *v13;
          *v14++ = *v13++;
        }
        while ( v15 );
        memcpy((void *)(v4 + 2340), *(const void **)v12->h_addr_list, v12->h_length);
      }
      else
      {
        *(_BYTE *)(v4 + 76) = 0;
      }
      v16 = gethostbyname((const char *)(v4 + 166));
      if ( v16 )
        memcpy((void *)(v4 + 2344), *(const void **)v16->h_addr_list, v16->h_length);
      else
        *(_DWORD *)(v4 + 2344) = inet_addr((const char *)(v4 + 166));
    }
LABEL_22:
    if ( *(_DWORD *)(v4 + 16) )
    {
      v17 = operator new(0x10u);
      v24 = v17;
      LOBYTE(v26) = 1;
      if ( v17 )
        v18 = sub_405AE0((int)v17, 3000);
      else
        v18 = 0;
      v22 = (struct WSAData *)16;
      LOBYTE(v26) = 0;
      *(_DWORD *)(v4 + 68) = v18;
      v19 = operator new((size_t)v22);
      v24 = v19;
      LOBYTE(v26) = 2;
      if ( v19 )
        *(_DWORD *)(v4 + 72) = sub_405AE0((int)v19, 1000);
      else
        *(_DWORD *)(v4 + 72) = 0;
    }
    else
    {
      *(_DWORD *)(v4 + 68) = 0;
      *(_DWORD *)(v4 + 72) = 0;
    }
    goto LABEL_30;
  }
  WSACleanup();
LABEL_30:
  v20 = (struct WSAData *)v23;
  v26 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v23 + 12)) <= 0 )
  {
    v21 = **(_DWORD **)&v20->wVersion;
    v22 = v20;
    (*(void (__stdcall **)(struct WSAData *))(v21 + 4))(v20);
  }
  sub_4815FE(v23);
}
// 4ABAC4: using guessed type int (__thiscall *off_4ABAC4)(void *, char);

//----- (004067A0) --------------------------------------------------------
char __cdecl sub_4067A0(int a1)
{
  char result; // al@2

  if ( a1 )
  {
    dword_53464C(a1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 53464C: using guessed type int (__cdecl *dword_53464C)(_DWORD);

//----- (004067C0) --------------------------------------------------------
int __cdecl sub_4067C0(void *a1, int a2)
{
  signed int v2; // esi@1
  signed int v3; // eax@4
  int v4; // edi@5
  int v5; // esi@5
  char *v6; // ebp@6
  int i; // esi@8
  int v8; // eax@9
  char *v9; // eax@11
  int v11; // [sp+Ch] [bp-10Ch]@5
  int v12; // [sp+10h] [bp-108h]@1
  char v13; // [sp+14h] [bp-104h]@3

  memset(a1, 0, 196 * a2);
  v12 = 0;
  v2 = 0;
  do
  {
    if ( !dword_534654 )
      break;
    if ( dword_534654(&v12, &v13) != -1 )
      break;
    v3 = v2++;
  }
  while ( v3 < 30 );
  v4 = v12;
  v5 = 0;
  v11 = 0;
  if ( v12 )
  {
    v6 = (char *)a1 + 89;
    do
    {
      if ( v5 == a2 )
        break;
      strncpy(v6 - 89, *(const char **)(v4 + 4), 0x5Au);
      strncpy(v6 + 1, *(const char **)(v4 + 8), 0x5Au);
      *v6 = 0;
      v6[90] = 0;
      for ( i = *(_DWORD *)(v4 + 12); i; i = *(_DWORD *)i )
      {
        v8 = *(_DWORD *)(i + 4);
        if ( *(_WORD *)v8 == 2 && v8 )
        {
          v9 = inet_ntoa(*(struct in_addr *)(v8 + 4));
          sub_4779E0((int)(v6 + 91), v9, 16);
        }
      }
      v4 = *(_DWORD *)v4;
      v5 = ++v11;
      v6 += 196;
    }
    while ( v4 );
    if ( v12 )
      dword_534658(v12);
  }
  return v5;
}
// 534654: invalid function type has been ignored
// 534658: invalid function type has been ignored
// 534654: using guessed type int (__cdecl *dword_534654)(_DWORD, _DWORD);
// 534658: using guessed type int (__cdecl *dword_534658)(_DWORD);

//----- (00406900) --------------------------------------------------------
int __cdecl sub_406900(int a1, unsigned __int8 a2, int a3)
{
  int result; // eax@1
  int v4; // esi@2
  char v5; // [sp+0h] [bp-104h]@2

  result = 0;
  if ( dword_53466C )
  {
    result = dword_53466C(a1, 1500, a2, a3, &v5);
    v4 = result;
    if ( result )
    {
      dword_534664(result, 32);
      result = v4;
    }
  }
  return result;
}
// 53466C: invalid function type has been ignored
// 534664: invalid function type has been ignored
// 534664: using guessed type int (__cdecl *dword_534664)(_DWORD, _DWORD);
// 53466C: using guessed type int (__cdecl *dword_53466C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00406980) --------------------------------------------------------
int __cdecl sub_406980(int a1, void *a2, int a3)
{
  void *v3; // ecx@0
  int result; // eax@2
  int v5; // esi@3
  size_t v6; // esi@5
  void *v7; // [sp+0h] [bp-4h]@1

  v7 = v3;
  if ( a1 )
  {
    v5 = dword_534668(a1, &a1, &v7);
    if ( v5 > 0 )
    {
      v6 = *(_DWORD *)(a1 + 12);
      if ( *(_DWORD *)(a1 + 12) <= (signed __int64)(unsigned int)a3 )
      {
        memcpy(a2, v7, v6);
        result = v6;
      }
      else
      {
        result = -20;
      }
    }
    else
    {
      Sleep(5u);
      result = v5;
    }
  }
  else
  {
    result = -21;
  }
  return result;
}
// 534668: using guessed type int (__cdecl *dword_534668)(_DWORD, _DWORD, _DWORD);

//----- (00406A00) --------------------------------------------------------
int __cdecl sub_406A00(int a1, int a2, int a3)
{
  int result; // eax@2

  if ( a1 )
  {
    result = dword_534670(a1, a2, a3);
    if ( result )
    {
      Sleep(1u);
      result = dword_534670(a1, a2, a3);
      if ( result )
        result = -16;
    }
  }
  else
  {
    result = -16;
  }
  return result;
}
// 534670: using guessed type int (__cdecl *dword_534670)(_DWORD, _DWORD, _DWORD);

//----- (00406A50) --------------------------------------------------------
char sub_406A50()
{
  char result; // al@3

  if ( dword_534648
    || (dword_534648 = LoadLibraryA("wpcap.dll"),
        dword_53464C = (int (__cdecl *)(_DWORD))GetProcAddress(dword_534648, "pcap_close"),
        dword_534650 = (int)GetProcAddress(dword_534648, "pcap_compile"),
        dword_534654 = (int (__cdecl *)(_DWORD, _DWORD))GetProcAddress(dword_534648, "pcap_findalldevs"),
        dword_534658 = (int (__cdecl *)(_DWORD))GetProcAddress(dword_534648, "pcap_freealldevs"),
        dword_53465C = (int)GetProcAddress(dword_534648, "pcap_geterr"),
        dword_534660 = (int)GetProcAddress(dword_534648, "pcap_loop"),
        dword_534664 = (int (__cdecl *)(_DWORD, _DWORD))GetProcAddress(dword_534648, "pcap_setmintocopy"),
        dword_534668 = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))GetProcAddress(dword_534648, "pcap_next_ex"),
        dword_53466C = (int (__cdecl *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))GetProcAddress(
                                                                                  dword_534648,
                                                                                  "pcap_open_live"),
        dword_534670 = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))GetProcAddress(dword_534648, "pcap_sendpacket"),
        dword_534674 = (int)GetProcAddress(dword_534648, "pcap_setfilter"),
        dword_534648) )
  {
    result = 1;
  }
  else
  {
    printf("Error opening wpcap.dll. Install winpcap\n");
    result = 0;
  }
  return result;
}
// 53464C: using guessed type int (__cdecl *dword_53464C)(_DWORD);
// 534650: using guessed type int dword_534650;
// 534654: using guessed type int (__cdecl *dword_534654)(_DWORD, _DWORD);
// 534658: using guessed type int (__cdecl *dword_534658)(_DWORD);
// 53465C: using guessed type int dword_53465C;
// 534660: using guessed type int dword_534660;
// 534664: using guessed type int (__cdecl *dword_534664)(_DWORD, _DWORD);
// 534668: using guessed type int (__cdecl *dword_534668)(_DWORD, _DWORD, _DWORD);
// 53466C: using guessed type int (__cdecl *dword_53466C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 534670: using guessed type int (__cdecl *dword_534670)(_DWORD, _DWORD, _DWORD);
// 534674: using guessed type int dword_534674;

//----- (00406B60) --------------------------------------------------------
DWORD __usercall sub_406B60@<eax>(LPCVOID lpBuffer@<ecx>, HANDLE hFile@<edx>, DWORD a3@<esi>)
{
  BOOL v3; // eax@1
  DWORD result; // eax@2
  DWORD NumberOfBytesWritten; // [sp+0h] [bp-4h]@1

  NumberOfBytesWritten = 0;
  v3 = WriteFile(hFile, lpBuffer, a3, &NumberOfBytesWritten, 0);
  if ( NumberOfBytesWritten == a3 )
  {
    result = NumberOfBytesWritten;
  }
  else
  {
    sprintf(OutputString, "log write fail %s len %i ret %i\n", FileName, a3, v3);
    OutputDebugStringA(OutputString);
    result = NumberOfBytesWritten;
  }
  return result;
}

//----- (00406BB0) --------------------------------------------------------
int __cdecl HWM_pcap_log_rx_pkt(char a1, int a2, int a3, size_t a4, int a5, int a6)
{
  HANDLE v6; // eax@3
  int v8; // ebx@7
  int v9; // edi@7
  size_t v10; // ebp@7
  signed __int16 v11; // ax@8
  signed int v12; // esi@10
  int Buffer; // [sp+8h] [bp-103Ch]@6
  __int16 v14; // [sp+Ch] [bp-1038h]@6
  __int16 v15; // [sp+Eh] [bp-1036h]@6
  int v16; // [sp+10h] [bp-1034h]@6
  int v17; // [sp+14h] [bp-1030h]@6
  int v18; // [sp+18h] [bp-102Ch]@6
  int v19; // [sp+1Ch] [bp-1028h]@6
  unsigned int v20; // [sp+24h] [bp-1020h]@7
  int v21; // [sp+30h] [bp-1014h]@8
  int v22; // [sp+34h] [bp-1010h]@8
  int v23; // [sp+38h] [bp-100Ch]@8
  __int16 v24; // [sp+3Ch] [bp-1008h]@8
  unsigned int v25; // [sp+40h] [bp-1004h]@10
  unsigned int v26; // [sp+44h] [bp-1000h]@10
  size_t v27; // [sp+48h] [bp-FFCh]@10
  int v28; // [sp+4Ch] [bp-FF8h]@10
  int v29; // [sp+50h] [bp-FF4h]@11
  int v30; // [sp+54h] [bp-FF0h]@11
  int v31; // [sp+58h] [bp-FECh]@11
  __int16 v32; // [sp+5Ch] [bp-FE8h]@11

  if ( hFile == (HANDLE)-1 || !hFile )
  {
    sub_4779E0((int)FileName, (_BYTE *)a6, 300);
    v6 = CreateFileA(FileName, 0xC0000000, 3u, 0, 2u, 0x80u, 0);
    hFile = v6;
    if ( v6 == (HANDLE)-1 )
    {
      sprintf(OutputString, "log open failed %s\n", FileName);
      OutputDebugStringA(OutputString);
      return -1;
    }
    v16 = 0;
    v17 = 0;
    Buffer = -1582119980;
    v14 = 2;
    v15 = 4;
    v18 = 0xFFFF;
    v19 = 1;
    if ( sub_406B60(&Buffer, v6, 0x18u) != 24 )
      return -1;
  }
  v8 = a5;
  v9 = a4;
  v10 = a4;
  v20 = a3 % 0xF4240u;
  if ( a1 )
  {
    v24 = 0;
    v21 = -1;
    LOWORD(v22) = -1;
    *(int *)((char *)&v22 + 2) = -1;
    HIWORD(v23) = -1;
    BYTE2(v22) = TSK_pvg_get_id();
    v11 = 8;
    v10 = a4 + 14;
    v8 = a5 + 14;
  }
  else
  {
    v11 = v24;
  }
  v25 = a3 / 0xF4240u;
  v26 = v20;
  v27 = v10;
  v28 = v8;
  v12 = 16;
  if ( a1 )
  {
    v29 = v21;
    v30 = v22;
    v31 = v23;
    v32 = v11;
    v12 = 30;
  }
  if ( v12 + a4 > 0x1000 )
    v9 = 4096 - v12;
  memcpy((char *)&v25 + v12, (const void *)a2, v9);
  return -(sub_406B60(&v25, hFile, v9 + v12) != v9 + v12);
}
// 474E00: using guessed type int TSK_pvg_get_id(void);

//----- (00406DC0) --------------------------------------------------------
HGLOBAL __cdecl sub_406DC0(HMODULE hModule, HRSRC hResInfo, int a3)
{
  HGLOBAL result; // eax@1
  char *v4; // esi@2
  DWORD v5; // eax@3
  int v6; // ecx@3

  result = LoadResource(hModule, hResInfo);
  if ( result )
  {
    v4 = (char *)LockResource(result);
    if ( !v4 )
      return 0;
    v5 = (DWORD)&v4[SizeofResource(hModule, hResInfo)];
    v6 = a3 & 0xF;
    if ( a3 & 0xF )
    {
      while ( (unsigned int)v4 < v5 )
      {
        --v6;
        v4 += 2 * *(_WORD *)v4 + 2;
        if ( !v6 )
          goto LABEL_6;
      }
      return 0;
    }
LABEL_6:
    if ( (unsigned int)v4 >= v5 )
      return 0;
    result = (HGLOBAL)(*(_WORD *)v4 != 0 ? (unsigned int)v4 : 0);
  }
  return result;
}

//----- (00406E30) --------------------------------------------------------
HRSRC __cdecl sub_406E30(HMODULE hModule, int a2)
{
  HRSRC result; // eax@1

  result = FindResourceA(hModule, (LPCSTR)(unsigned __int16)(((unsigned int)a2 >> 4) + 1), (LPCSTR)6);
  if ( result )
    result = (HRSRC)sub_406DC0(hModule, result, a2);
  return result;
}

//----- (00406E70) --------------------------------------------------------
void sub_406E70()
{
  void **v0; // edi@1
  int *v1; // esi@1
  int *v2; // esi@10

  v0 = (void **)dword_534918;
  v1 = dword_534978;
  do
  {
    if ( *v1 )
    {
      sub_401130(*v1);
      while ( *(_DWORD *)(*v1 + 4) )
        ;
      if ( *v1 )
      {
        (**(void (__stdcall ***)(_DWORD))*v1)(1);
        *v1 = 0;
      }
    }
    if ( *v0 )
    {
      j__free(*v0);
      *v0 = 0;
    }
    ++v1;
    v0 += 4;
  }
  while ( (signed int)v1 < (signed int)dword_534990 );
  v2 = dword_534990;
  do
  {
    if ( *v2 )
    {
      (**(void (__stdcall ***)(_DWORD))*v2)(1);
      *v2 = 0;
    }
    ++v2;
  }
  while ( (signed int)v2 < (signed int)dword_5349A0 );
}
// 534918: using guessed type int dword_534918[];
// 534978: using guessed type int dword_534978[];
// 534990: using guessed type int dword_534990[];
// 5349A0: using guessed type int dword_5349A0[];

//----- (00406F00) --------------------------------------------------------
void __cdecl sub_406F00(unsigned __int8 a1, _BYTE *a2, int a3)
{
  int v3; // esi@2
  int v4; // edi@2
  _BYTE *v5; // ebx@3
  bool v6; // zf@6

  if ( a3 > 0 )
  {
    v3 = 4 * a1;
    v4 = dword_53491C[v3];
    if ( a3 > 0 )
    {
      v5 = a2;
      do
      {
        *(_BYTE *)(v4 + dword_534918[v3]) = *v5;
        v4 = dword_534924[v3] & (v4 + 1);
        while ( v4 == dword_534920[v3] )
          Sleep(0x64u);
        ++v5;
        v6 = a3-- == 1;
        dword_53491C[v3] = v4;
      }
      while ( !v6 );
    }
  }
}
// 534918: using guessed type int dword_534918[];
// 53491C: using guessed type int dword_53491C[];
// 534920: using guessed type int dword_534920[];
// 534924: using guessed type int dword_534924[];

//----- (00406F80) --------------------------------------------------------
int __cdecl sub_406F80(int a1)
{
  int result; // eax@2

  if ( dword_534910 )
    result = sub_414B40(dword_534910, 1025, 0, a1);
  return result;
}
// 534910: using guessed type int dword_534910;

//----- (00406FA0) --------------------------------------------------------
__int64 sub_406FA0()
{
  __int64 v1; // [sp+0h] [bp-8h]@1

  sub_414B40(dword_534910, 1026, 0, (int)&v1);
  return v1;
}
// 534910: using guessed type int dword_534910;

//----- (00406FD0) --------------------------------------------------------
const char *__cdecl sub_406FD0(int a1)
{
  const char *result; // eax@2

  switch ( a1 )
  {
    case 1:
      result = "COM1";
      break;
    case 2:
      result = "COM2";
      break;
    case 3:
      result = "COM3";
      break;
    case 4:
      result = "COM4";
      break;
    case 5:
      result = "ETHR:127.0.0.1:6539:5539";
      break;
    case 6:
      result = "ETHR:127.0.0.1:6549:5549";
      break;
    default:
      result = "NONE";
      break;
  }
  return result;
}

//----- (00407030) --------------------------------------------------------
int __cdecl SIM_load_device_0(int a1)
{
  return sub_414B40(dword_534910, 1027, 0, a1);
}
// 534910: using guessed type int dword_534910;

//----- (00407050) --------------------------------------------------------
int __cdecl SIM_load_device_mutex_0(int a1)
{
  return sub_414B40(dword_534910, 1028, 0, a1);
}
// 534910: using guessed type int dword_534910;

//----- (00407070) --------------------------------------------------------
int __cdecl sub_407070(unsigned __int16 a1, _BYTE *a2, unsigned __int16 a3)
{
  int result; // eax@2

  if ( dword_534910 )
    result = sub_414B40(dword_534910, 1032, a1 | (a3 << 16), (int)a2);
  else
    *a2 = 0;
  return result;
}
// 534910: using guessed type int dword_534910;

//----- (004070B0) --------------------------------------------------------
int *__cdecl sub_4070B0(__int16 a1, _DWORD *a2, int *a3)
{
  int v3; // ecx@2
  int *result; // eax@2
  int v5; // [sp+0h] [bp-8h]@2
  int v6; // [sp+4h] [bp-4h]@2

  if ( dword_534910 )
  {
    sub_414B40(dword_534910, 1033, a1, (int)&v5);
    v3 = v5;
    *a2 = v6;
    result = a3;
    *a3 = v3;
  }
  else
  {
    *a2 = 0;
    result = a3;
    *a3 = 0;
  }
  return result;
}
// 534910: using guessed type int dword_534910;

//----- (00407110) --------------------------------------------------------
int __cdecl sub_407110(__int16 a1, int a2)
{
  int result; // eax@2
  char v3; // [sp+0h] [bp-8h]@3

  if ( dword_534910 )
  {
    result = a1;
    switch ( a1 )
    {
      case 4:
        result = sub_414B40(dword_534910, 1034, a2, (int)&v3);
        break;
      case 5:
        result = sub_414B40(dword_534910, 1035, a2, (int)&v3);
        break;
      case 3:
        result = sub_414B40(dword_534910, 1036, a2, (int)&v3);
        break;
      case 6:
        result = sub_414B40(dword_534910, 1037, a2, (int)&v3);
        break;
      case 10:
        result = sub_414B40(dword_534910, 1038, a2, (int)&v3);
        break;
      case 11:
        result = sub_414B40(dword_534910, 1039, a2, (int)&v3);
        break;
      case 12:
        result = sub_414B40(dword_534910, 1040, a2, (int)&v3);
        break;
      default:
        return result;
    }
  }
  return result;
}
// 534910: using guessed type int dword_534910;

//----- (00407210) --------------------------------------------------------
bool __cdecl sub_407210(unsigned __int8 a1)
{
  return dword_53491C[4 * a1] != dword_534920[4 * a1];
}
// 53491C: using guessed type int dword_53491C[];
// 534920: using guessed type int dword_534920[];

//----- (00407230) --------------------------------------------------------
bool __cdecl sub_407230(unsigned __int8 a1)
{
  int v1; // eax@1

  v1 = dword_534990[a1];
  return v1 && *(_BYTE *)(v1 + 2352);
}
// 534990: using guessed type int dword_534990[];

//----- (00407250) --------------------------------------------------------
bool __cdecl sub_407250(unsigned __int8 a1)
{
  return *(_DWORD *)(dword_534990[a1] + 16) == 4;
}
// 534990: using guessed type int dword_534990[];

//----- (00407270) --------------------------------------------------------
int __cdecl sub_407270(char a1, void *a2, int a3)
{
  return sub_4062A0(dword_534990[(unsigned __int8)a1], a2, a3);
}
// 534990: using guessed type int dword_534990[];

//----- (00407290) --------------------------------------------------------
char __cdecl sub_407290(char a1, void *a2, size_t a3)
{
  int v3; // ecx@1
  char result; // al@1

  v3 = dword_534990[(unsigned __int8)a1];
  result = 0;
  if ( v3 )
    result = sub_405E90(v3, a2, a3);
  return result;
}
// 534990: using guessed type int dword_534990[];

//----- (004072C0) --------------------------------------------------------
int __cdecl sub_4072C0(int a1, int a2, int a3, int a4)
{
  int i; // eax@1

  for ( i = *(_DWORD *)(*((_DWORD *)AfxGetModuleState() + 1) + 32);
        !i;
        i = *(_DWORD *)(*((_DWORD *)AfxGetModuleState() + 1) + 32) )
  {
    Sleep(0x64u);
  }
  return sub_4028B0((CWnd *)(i + 1708), a1, a2, a3, a4);
}

//----- (004073F0) --------------------------------------------------------
int __cdecl sub_4073F0(unsigned __int8 a1, int a2)
{
  int result; // eax@1

  result = a1;
  dword_5349C0[a1] = a2;
  return result;
}
// 5349C0: using guessed type int dword_5349C0[];

//----- (00407410) --------------------------------------------------------
int __cdecl sub_407410(unsigned __int8 a1, unsigned __int8 a2)
{
  int result; // eax@1

  result = a2;
  dword_5349A0[a1] = a2;
  return result;
}
// 5349A0: using guessed type int dword_5349A0[];

//----- (00407430) --------------------------------------------------------
BOOL __cdecl sub_407430(unsigned __int8 a1, DWORD a2, int a3)
{
  return sub_401480(dword_534978[a1], a2, a3);
}
// 534978: using guessed type int dword_534978[];

//----- (00407450) --------------------------------------------------------
int sub_407450()
{
  int v0; // eax@1

  while ( 1 )
  {
    v0 = *((_DWORD *)AfxGetModuleState() + 1);
    if ( v0 )
    {
      if ( *(_DWORD *)(v0 + 32) )
        break;
    }
    Sleep(0x64u);
  }
  return *(_DWORD *)(*(_DWORD *)(v0 + 32) + 32);
}

//----- (00407480) --------------------------------------------------------
char __cdecl sub_407480(int a1, size_t a2)
{
  char *v2; // ecx@0
  char *v3; // esi@1
  signed int v4; // kr00_4@1
  signed int i; // esi@1
  unsigned int v6; // edi@3
  char *v7; // ecx@4
  unsigned int v8; // eax@4
  char *v9; // edx@4
  int v10; // esi@8
  int v11; // eax@9
  _BYTE *v12; // ecx@9
  _BYTE *v13; // edx@9
  int v14; // eax@11
  _BYTE *v15; // ecx@11
  _BYTE *v16; // edx@11
  _BYTE *v17; // ecx@13
  _BYTE *v18; // edx@13
  char *v19; // eax@15
  char *v20; // eax@19
  char v22; // [sp+Bh] [bp-E5h]@1
  const char *v23; // [sp+14h] [bp-DCh]@1
  int v24; // [sp+18h] [bp-D8h]@21
  int v25; // [sp+1Ch] [bp-D4h]@21
  char v26[199]; // [sp+24h] [bp-CCh]@1
  char v27; // [sp+EBh] [bp-5h]@1

  v3 = v2;
  v23 = v2;
  memset(v26, 0, 0xC8u);
  v22 = 0;
  strncpy(v26, v3, 0xC8u);
  v27 = 0;
  v4 = strlen(v26);
  for ( i = 0; i < v4; ++i )
    v26[i] = toupper((unsigned __int8)v26[i]);
  v6 = 0;
  do
  {
    v7 = (&off_4ABC7C)[v6 * 4];
    v8 = strlen((&off_4ABC7C)[v6 * 4]);
    v9 = v26;
    if ( v8 < 4 )
    {
LABEL_7:
      if ( !v8 )
        goto LABEL_17;
    }
    else
    {
      while ( *(_DWORD *)v9 == *(_DWORD *)v7 )
      {
        v8 -= 4;
        v7 += 4;
        v9 += 4;
        if ( v8 < 4 )
          goto LABEL_7;
      }
    }
    v10 = (unsigned __int8)*v9 - (unsigned __int8)*v7;
    if ( (unsigned __int8)*v9 == (unsigned __int8)*v7 )
    {
      v11 = v8 - 1;
      v12 = v7 + 1;
      v13 = v9 + 1;
      if ( !v11
        || (v10 = *v13 - *v12, *v13 == *v12)
        && ((v14 = v11 - 1, v15 = v12 + 1, v16 = v13 + 1, !v14)
         || (v10 = *v16 - *v15, *v16 == *v15)
         && ((v17 = v15 + 1, v18 = v16 + 1, v14 == 1) || (v10 = *v18 - *v17, *v18 == *v17))) )
      {
LABEL_17:
        v19 = 0;
        goto LABEL_18;
      }
    }
    v19 = (char *)1;
    if ( v10 <= 0 )
      v19 = (char *)-1;
LABEL_18:
    if ( !v19 )
    {
      v22 = 1;
      v20 = strchr(v26, 35);
      if ( v20 )
        j__atol(v20 + 1);
      v25 = ((int (__cdecl *)(int))HWM_get_lru_ip4_addr)(dword_4ABC80[v6]);
      LOBYTE(v24) = 4;
      LOBYTE(v19) = sub_47F890((int)&v24, (char *)a1, a2, 0);
    }
    v6 += 2;
  }
  while ( v6 < 14 );
  if ( !v22 )
  {
    v19 = strstr(v23, "\\Device");
    if ( v19 )
    {
      sub_4779E0(a1, v19, a2);
      v19 = strchr((const char *)a1, 58);
      if ( v19 )
        *v19 = 0;
    }
  }
  return (unsigned int)v19;
}
// 474E06: using guessed type int __cdecl HWM_get_lru_ip4_addr(_DWORD, _DWORD);
// 4ABC7C: using guessed type char *off_4ABC7C;
// 4ABC80: using guessed type int dword_4ABC80[];
// 407480: using guessed type char var_CC[199];

//----- (00407680) --------------------------------------------------------
int __cdecl sub_407680(LPCWSTR lpWideCharStr, int cchWideChar)
{
  UINT v2; // eax@1

  v2 = ((int (*)(void))Target)();
  return WideCharToMultiByte(v2, 0, lpWideCharStr, cchWideChar, 0, 0, 0, 0);
}
// 534624: invalid function type has been ignored

//----- (004076B0) --------------------------------------------------------
int __cdecl sub_4076B0(LPSTR lpMultiByteStr, int cbMultiByte, LPCWSTR lpWideCharStr, int cchWideChar)
{
  UINT v4; // eax@1

  v4 = ((int (*)(void))Target)();
  return WideCharToMultiByte(v4, 0, lpWideCharStr, cchWideChar, lpMultiByteStr, cbMultiByte, 0, 0);
}
// 534624: invalid function type has been ignored

//----- (004076E0) --------------------------------------------------------
char __cdecl sub_4076E0(unsigned __int8 a1)
{
  int v1; // ecx@0
  unsigned __int8 v2; // dl@1
  int v3; // ecx@2
  int v4; // edx@2
  char result; // al@2
  char v6; // [sp+1h] [bp-1h]@1

  v6 = BYTE3(v1);
  if ( sub_407210(a1) )
  {
    v3 = 4 * v2;
    v4 = dword_534920[v3];
    result = *(_BYTE *)(v4 + dword_534918[v3]);
    dword_534920[v3] = (v4 + 1) & dword_534924[v3];
  }
  else
  {
    result = v6;
  }
  return result;
}
// 534918: using guessed type int dword_534918[];
// 534920: using guessed type int dword_534920[];
// 534924: using guessed type int dword_534924[];

//----- (00407730) --------------------------------------------------------
BOOL __cdecl sub_407730(WPARAM wParam)
{
  HWND v1; // eax@1

  v1 = (HWND)sub_407450();
  return PostMessageA(v1, 0x405u, wParam, 0);
}

//----- (00407760) --------------------------------------------------------
BOOL sub_407760()
{
  HWND v0; // eax@1

  v0 = (HWND)sub_407450();
  return PostMessageA(v0, 0x406u, 0, 0);
}

//----- (00407780) --------------------------------------------------------
int __cdecl sub_407780(char a1, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite)
{
  int v3; // eax@2
  bool v4; // zf@3
  int result; // eax@3

  if ( !memcmp((const void *)dword_5349D8[(unsigned __int8)a1], "NONE", 5u)
    || (v3 = dword_534978[(unsigned __int8)a1]) == 0
    || (v4 = sub_401570(v3, lpBuffer, nNumberOfBytesToWrite) == nNumberOfBytesToWrite, result = 1, !v4) )
  {
    result = 0;
  }
  return result;
}
// 534978: using guessed type int dword_534978[];
// 5349D8: using guessed type int dword_5349D8[];

//----- (004077D0) --------------------------------------------------------
LRESULT SIM_lock_display_0()
{
  HWND v0; // eax@1

  v0 = (HWND)sub_407450();
  return SendMessageA(v0, 0x411u, 0, 0);
}

//----- (004077F0) --------------------------------------------------------
LRESULT SIM_lock_display2_0()
{
  HWND v0; // eax@1

  v0 = (HWND)sub_407450();
  return SendMessageA(v0, 0x412u, 0, 0);
}

//----- (00407810) --------------------------------------------------------
LRESULT SIM_unlock_display_0()
{
  HWND v0; // eax@1

  v0 = (HWND)sub_407450();
  return SendMessageA(v0, 0x413u, 0, 0);
}

//----- (00407830) --------------------------------------------------------
LRESULT SIM_unlock_display2_0()
{
  HWND v0; // eax@1

  v0 = (HWND)sub_407450();
  return SendMessageA(v0, 0x414u, 0, 0);
}

//----- (00407850) --------------------------------------------------------
int __thiscall sub_407850(int *this, HMODULE hModule, int a3)
{
  int *v3; // ebx@1
  HRSRC v4; // eax@1
  _WORD *v5; // eax@2
  _WORD *v6; // edi@2
  int result; // eax@3
  int v8; // esi@4
  UINT v9; // eax@4
  int v10; // esi@4
  CHAR *v11; // ST10_4@6
  int v12; // ST0C_4@6
  UINT v13; // eax@6

  v3 = this;
  v4 = FindResourceA(hModule, (LPCSTR)(unsigned __int16)(((unsigned int)a3 >> 4) + 1), (LPCSTR)6);
  if ( v4 && (v5 = sub_406DC0(hModule, v4, a3), (v6 = v5) != 0) )
  {
    v8 = *v5;
    v9 = ((int (*)(void))Target)();
    v10 = WideCharToMultiByte(v9, 0, v6 + 1, v8, 0, 0, 0, 0);
    if ( ((*(_DWORD *)(*v3 - 16 + 8) - v10) | (1 - *(_DWORD *)(*v3 - 16 + 12))) < 0 )
      sub_4018C0(v3, v10);
    v11 = (CHAR *)*v3;
    v12 = *v6;
    v13 = ((int (*)(void))Target)();
    WideCharToMultiByte(v13, 0, v6 + 1, v12, v11, v10, 0, 0);
    if ( v10 < 0 || v10 > *(_DWORD *)(*v3 - 8) )
      sub_401090(-2147024809);
    *(_DWORD *)(*v3 - 12) = v10;
    *(_BYTE *)(v10 + *v3) = 0;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 534624: invalid function type has been ignored

//----- (00407920) --------------------------------------------------------
HMODULE __thiscall sub_407920(int *this, unsigned int a2)
{
  int *v2; // esi@1
  HMODULE result; // eax@1

  v2 = this;
  result = AfxFindStringResourceHandle(a2);
  if ( result )
    result = (HMODULE)sub_407850(v2, result, a2);
  return result;
}

//----- (00407950) --------------------------------------------------------
char __thiscall sub_407950(int *this, int a2)
{
  int *v2; // edi@1
  char result; // al@1
  HMODULE v4; // eax@3

  v2 = this;
  result = 0;
  if ( a2 && !(a2 & 0xFFFF0000) )
  {
    v4 = AfxFindStringResourceHandle((unsigned __int16)a2);
    if ( v4 )
      sub_407850(v2, v4, (unsigned __int16)a2);
    result = 1;
  }
  return result;
}

//----- (00407990) --------------------------------------------------------
char sub_407990()
{
  int *v0; // esi@3
  int v1; // edi@3

  for ( dword_534910 = *(_DWORD *)(*((_DWORD *)AfxGetModuleState() + 1) + 32);
        !dword_534910;
        dword_534910 = *(_DWORD *)(*((_DWORD *)AfxGetModuleState() + 1) + 32) )
  {
    Sleep(0xAu);
  }
  v0 = dword_534920;
  v1 = 0;
  do
  {
    sub_401C40(&dword_5349D8[v1], "NONE", 4u);
    *(v0 - 2) = 0;
    *v0 = 0;
    *(v0 - 1) = 0;
    v0[1] = 4095;
    dword_534978[v1] = 0;
    v0 += 4;
    ++v1;
  }
  while ( (signed int)v0 < (signed int)&unk_534980 );
  return 1;
}
// 534910: using guessed type int dword_534910;
// 534920: using guessed type int dword_534920[];
// 534978: using guessed type int dword_534978[];
// 5349D8: using guessed type int dword_5349D8[];

//----- (00407A10) --------------------------------------------------------
int __cdecl sub_407A10(unsigned __int8 a1)
{
  const char *v1; // eax@1
  rsize_t v2; // ecx@2
  void (__stdcall ***v3)(_DWORD); // ecx@4
  void *v4; // ecx@6
  void *v5; // ebp@6
  int v6; // eax@7
  int v7; // eax@7
  int v8; // eax@7
  int v9; // ecx@9
  void *v11; // [sp-4h] [bp-18h]@7
  void **v12; // [sp+10h] [bp-4h]@7

  v1 = sub_406FD0(dword_5349C0[a1]);
  if ( v1 )
    v2 = strlen(v1);
  else
    v2 = 0;
  sub_401C40((int *)(4 * a1 + 5458392), (void *)v1, v2);
  v3 = (void (__stdcall ***)(_DWORD))dword_534978[a1];
  if ( v3 )
  {
    (**v3)(1);
    dword_534978[a1] = 0;
  }
  v5 = operator new(0x6Cu);
  if ( v5 )
  {
    v6 = dword_5349D8[a1];
    v11 = v4;
    v12 = &v11;
    v7 = sub_401910(v6 - 16);
    v8 = sub_401D90((int)v5, v7 + 16);
  }
  else
  {
    v8 = 0;
  }
  v11 = (void *)4096;
  dword_534978[a1] = v8;
  dword_534918[4 * a1] = (int)operator new((size_t)v11);
  v9 = dword_534978[a1];
  v11 = (void *)(8 * a1 + 5458144);
  dword_5348E4[2 * a1] = v9;
  FileName[8 * a1 + 304] = a1;
  return sub_4010D0(v9, (unsigned int (__cdecl *)(void *))sub_407310, v11);
}
// 407310: using guessed type int sub_407310();
// 5348E4: using guessed type int dword_5348E4[];
// 534918: using guessed type int dword_534918[];
// 534978: using guessed type int dword_534978[];
// 5349C0: using guessed type int dword_5349C0[];
// 5349D8: using guessed type int dword_5349D8[];

//----- (00407B00) --------------------------------------------------------
int *__thiscall sub_407B00(int *this, void *Src)
{
  int *v2; // edi@1
  void *v3; // eax@1
  HMODULE v4; // eax@5
  rsize_t v5; // eax@7

  v2 = this;
  v3 = sub_41BC2E();
  if ( !v3 )
    sub_401090(-2147467259);
  *v2 = (*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 12))(v3) + 16;
  if ( !Src )
  {
    v5 = 0;
LABEL_9:
    sub_401C40(v2, Src, v5);
    return v2;
  }
  if ( (unsigned int)Src & 0xFFFF0000 )
  {
    v5 = strlen((const char *)Src);
    goto LABEL_9;
  }
  v4 = AfxFindStringResourceHandle((unsigned __int16)Src);
  if ( v4 )
    sub_407850(v2, v4, (unsigned __int16)Src);
  return v2;
}

//----- (00407BC0) --------------------------------------------------------
void __cdecl sub_407BC0(unsigned __int8 a1)
{
  void (__stdcall ***v1)(_DWORD); // ecx@1
  void *v2; // eax@3
  bool v3; // zf@3
  int v4; // ebx@3
  char *v5; // ecx@5
  int v6; // edx@5
  int v7; // eax@8
  bool v8; // dl@10
  int v9; // [sp-Ch] [bp-100h]@8
  int v10; // [sp-8h] [bp-FCh]@8
  char *v11; // [sp-4h] [bp-F8h]@8
  void *v12; // [sp+10h] [bp-E4h]@3
  int *v13; // [sp+14h] [bp-E0h]@3
  int v14; // [sp+18h] [bp-DCh]@3
  char Src; // [sp+1Ch] [bp-D8h]@3
  int v16; // [sp+F0h] [bp-4h]@4

  v1 = (void (__stdcall ***)(_DWORD))dword_534990[a1];
  if ( v1 )
  {
    (**v1)(1);
    dword_534990[a1] = 0;
  }
  sub_407070(a1 + 5, &Src, 0xC8u);
  sub_4070B0(a1 + 13, &v13, (int *)&v12);
  sub_4070B0(26, &v13, &v14);
  sub_407480((int)&Src, 0xC8u);
  v2 = operator new(0x950u);
  v3 = v12 == 0;
  v4 = (int)v2;
  v12 = v2;
  if ( !v3 )
  {
    v16 = 1;
    if ( v2 )
    {
      v5 = (char *)(unsigned __int16)word_4ABC34[a1];
      v6 = (unsigned __int16)word_4ABC3C[a1];
      goto LABEL_8;
    }
LABEL_9:
    v7 = 0;
    goto LABEL_10;
  }
  v16 = 0;
  if ( !v2 )
    goto LABEL_9;
  v5 = (char *)(unsigned __int16)word_4ABC3C[a1];
  v6 = (unsigned __int16)word_4ABC34[a1];
LABEL_8:
  v11 = v5;
  v10 = v6;
  v9 = (int)v5;
  v13 = &v9;
  sub_407B00(&v9, &Src);
  sub_4064A0(v4, v9, v10, v11);
LABEL_10:
  v8 = dword_5349A0[a1] != 0;
  v11 = (char *)(&lpFileName)[4 * a1];
  dword_534990[a1] = v7;
  v16 = -1;
  sub_4059E0(v7, v8, v11);
  sub_4059D0(dword_534990[a1], v14 != 0);
  sub_406320((LPVOID)dword_534990[a1]);
  sub_4815FE((char)v12);
}
// 4ABC34: using guessed type __int16 word_4ABC34[];
// 4ABC3C: using guessed type __int16 word_4ABC3C[];
// 534990: using guessed type int dword_534990[];
// 5349A0: using guessed type int dword_5349A0[];

//----- (00407D60) --------------------------------------------------------
void sub_407D60()
{
  sub_407BC0(0);
  sub_407BC0(1u);
  sub_407BC0(2u);
  sub_407BC0(3u);
}

//----- (00407DA0) --------------------------------------------------------
_DWORD *__thiscall sub_407DA0(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1

  v2 = this;
  CDialog::CDialog(102, a2);
  *v2 = &off_4ABCEC;
  v2[29] = 1;
  return v2;
}
// 424134: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 4ABCEC: using guessed type int (*off_4ABCEC)();

//----- (00407DD0) --------------------------------------------------------
void __cdecl sub_407DD0()
{
  JUMPOUT(sub_424A01);
}

//----- (00407DE0) --------------------------------------------------------
int __thiscall sub_407DE0(int this)
{
  int v1; // esi@1
  int v2; // ecx@1

  v1 = this;
  *(_DWORD *)this = &off_4ABCEC;
  v2 = *(_DWORD *)(this + 120);
  if ( v2 )
    (*(void (__stdcall **)(signed int))(*(_DWORD *)v2 + 4))(1);
  return sub_4240A9(v1);
}
// 4ABCEC: using guessed type int (*off_4ABCEC)();

//----- (00407E50) --------------------------------------------------------
int __thiscall sub_407E50(CWnd *this)
{
  CWnd *v1; // esi@1
  void *v2; // eax@1
  int v3; // eax@2
  struct CWnd *v4; // eax@4
  struct tagRECT Rect; // [sp+10h] [bp-1Ch]@4
  int v7; // [sp+28h] [bp-4h]@1

  v1 = this;
  CDialog::OnInitDialog(this);
  v2 = operator new(0x4B0u);
  v7 = 0;
  if ( v2 )
    v3 = sub_40B920(v2, v1);
  else
    v3 = 0;
  v7 = -1;
  *((_DWORD *)v1 + 30) = v3;
  v4 = CWnd::GetDlgItem(v1, 1078);
  GetWindowRect(*((HWND *)v4 + 8), &Rect);
  CWnd::ScreenToClient(v1, (LPPOINT)&Rect);
  CWnd::MoveWindow(*((CWnd **)v1 + 30), Rect.left, Rect.top, Rect.right - Rect.left, Rect.bottom - Rect.top, 1);
  GetWindowRect(*((HWND *)v1 + 8), (LPRECT)((char *)v1 + 124));
  return 1;
}

//----- (00407F20) --------------------------------------------------------
void __thiscall sub_407F20(int this)
{
  CDialog *v1; // esi@1
  char v2; // [sp+4h] [bp-1004h]@1

  v1 = (CDialog *)this;
  sub_40A9B0(*(void **)(this + 120), &v2);
  CDialog::OnOK(v1);
}

//----- (00408080) --------------------------------------------------------
int (**sub_408080())()
{
  return &off_4ABE48;
}
// 4ABE48: using guessed type int (*off_4ABE48)();

//----- (00408090) --------------------------------------------------------
void *__thiscall sub_408090(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_407DE0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004080F0) --------------------------------------------------------
void *__thiscall sub_4080F0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424BEC((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00408110) --------------------------------------------------------
void *__thiscall sub_408110(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424C60((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00408130) --------------------------------------------------------
void *__thiscall sub_408130(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424CB2((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00408150) --------------------------------------------------------
void *__thiscall sub_408150(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424D98((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00408170) --------------------------------------------------------
void *__thiscall sub_408170(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424F04((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004081A0) --------------------------------------------------------
void *__thiscall sub_4081A0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424AA6((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00408450) --------------------------------------------------------
int __thiscall sub_408450(int this)
{
  int result; // eax@1

  result = *(_DWORD *)(this + 4);
  if ( result )
    result = (*(_DWORD *)(this + 8) - result) / 28;
  return result;
}

//----- (00408480) --------------------------------------------------------
void *__cdecl sub_408480(char *a1)
{
  char *v1; // ecx@1
  int (__thiscall **v3)(void *, char); // [sp+0h] [bp-Ch]@5

  v1 = a1;
  if ( a1 )
  {
    if ( 0xFFFFFFFF / (unsigned int)a1 < 4 )
    {
      a1 = 0;
      std::exception::exception((std::exception *)&v3, (const char *const *)&a1);
      v3 = &off_4AB9BC;
      _CxxThrowException(&v3, &unk_5219EC);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new(4 * (_DWORD)v1);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (004084E0) --------------------------------------------------------
void *__cdecl sub_4084E0(char *a1)
{
  char *v1; // ecx@1
  int (__thiscall **v3)(void *, char); // [sp+0h] [bp-Ch]@5

  v1 = a1;
  if ( a1 )
  {
    if ( 0xFFFFFFFF / (unsigned int)a1 < 0x1C )
    {
      a1 = 0;
      std::exception::exception((std::exception *)&v3, (const char *const *)&a1);
      v3 = &off_4AB9BC;
      _CxxThrowException(&v3, &unk_5219EC);
    }
  }
  else
  {
    v1 = 0;
  }
  return operator new(28 * (_DWORD)v1);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9BC: using guessed type int (__thiscall *off_4AB9BC)(void *, char);

//----- (00408550) --------------------------------------------------------
int __thiscall sub_408550(int this)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // ecx@4
  int v4; // edi@7
  int v5; // ecx@10
  int v6; // edi@13
  int v7; // ecx@16

  v1 = this;
  v2 = 0;
  if ( *(_DWORD *)(this + 156) > 0 )
  {
    while ( v2 >= 0 && v2 < *(_DWORD *)(v1 + 156) )
    {
      v3 = *(_DWORD *)(*(_DWORD *)(v1 + 152) + 4 * v2);
      if ( v3 )
        (*(void (__stdcall **)(signed int))(*(_DWORD *)v3 + 4))(1);
      if ( ++v2 >= *(_DWORD *)(v1 + 156) )
        goto LABEL_7;
    }
LABEL_20:
    unknown_libname_36();
  }
LABEL_7:
  unknown_libname_131(0, -1);
  v4 = 0;
  if ( *(_DWORD *)(v1 + 176) > 0 )
  {
    while ( v4 >= 0 && v4 < *(_DWORD *)(v1 + 176) )
    {
      v5 = *(_DWORD *)(*(_DWORD *)(v1 + 172) + 4 * v4);
      if ( v5 )
        (*(void (__stdcall **)(signed int))(*(_DWORD *)v5 + 4))(1);
      if ( ++v4 >= *(_DWORD *)(v1 + 176) )
        goto LABEL_13;
    }
    goto LABEL_20;
  }
LABEL_13:
  unknown_libname_131(0, -1);
  v6 = 0;
  if ( *(_DWORD *)(v1 + 196) > 0 )
  {
    while ( v6 >= 0 && v6 < *(_DWORD *)(v1 + 196) )
    {
      v7 = *(_DWORD *)(*(_DWORD *)(v1 + 192) + 4 * v6);
      if ( v7 )
        (*(void (__stdcall **)(signed int))(*(_DWORD *)v7 + 4))(1);
      if ( ++v6 >= *(_DWORD *)(v1 + 196) )
        return unknown_libname_131(0, -1);
    }
    goto LABEL_20;
  }
  return unknown_libname_131(0, -1);
}
// 430424: using guessed type _DWORD __stdcall unknown_libname_131(_DWORD, _DWORD);

//----- (00408650) --------------------------------------------------------
int __thiscall sub_408650(int this)
{
  int v1; // esi@1
  int v2; // edx@1
  int v3; // ebx@1
  int result; // eax@1

  v1 = this;
  *(_DWORD *)(this + 1172) = 0;
  *(_WORD *)(this + 1176) = 0;
  *(_WORD *)(this + 1178) = 0;
  *(_DWORD *)(this + 1180) = 0;
  *(_DWORD *)(this + 1184) = 0;
  *(_DWORD *)(this + 1192) = 0;
  *(_DWORD *)(this + 1196) = 0;
  v2 = *(_DWORD *)(this + 1188);
  v3 = *(_DWORD *)(v2 - 16);
  result = v2 - 16;
  if ( *(_DWORD *)(v2 - 12) )
  {
    if ( *(_DWORD *)(result + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(result + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)result + 4))(result);
      result = (*(int (__thiscall **)(int))(*(_DWORD *)v3 + 12))(v3) + 16;
      *(_DWORD *)(v1 + 1188) = result;
    }
    else
    {
      if ( *(_DWORD *)(v2 - 8) < 0 )
        sub_401090(-2147024809);
      *(_DWORD *)(v2 - 12) = 0;
      result = *(_DWORD *)(this + 1188);
      *(_BYTE *)result = 0;
    }
  }
  return result;
}

//----- (004086F0) --------------------------------------------------------
_DWORD *__cdecl sub_4086F0(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  _DWORD *result; // eax@1

  for ( result = a1; result != a2; ++result )
    *result = *a3;
  return result;
}

//----- (00408710) --------------------------------------------------------
int __cdecl sub_408710(void *Src, int a2, int a3)
{
  int v3; // eax@1
  int v4; // esi@1

  v3 = (a2 - (signed int)Src) >> 2;
  v4 = a3 - 4 * v3;
  if ( v3 > 0 )
    memmove_s((void *)(a3 - 4 * v3), 4 * v3, Src, 4 * v3);
  return v4;
}

//----- (00408770) --------------------------------------------------------
int __thiscall sub_408770(int *this, void *Src, rsize_t DstSize)
{
  int *v3; // ebx@1
  int v4; // eax@1
  unsigned int v5; // ebp@1
  rsize_t v6; // ecx@1
  char *v7; // edi@1
  signed int v8; // esi@1
  int v9; // eax@3
  int result; // eax@7

  v3 = this;
  v4 = *this;
  v5 = *(_DWORD *)(*this - 12);
  v6 = DstSize;
  v7 = (char *)Src - v4;
  v8 = DstSize + v5;
  if ( (((*(_DWORD *)(v4 - 8) - (DstSize + v5)) | (1 - *(_DWORD *)(v4 - 4))) & 0x80000000) != 0 )
  {
    sub_4018C0(v3, DstSize + v5);
    v6 = DstSize;
  }
  v9 = *v3;
  if ( (unsigned int)v7 <= v5 )
    Src = &v7[v9];
  memcpy_s((void *)(v5 + v9), v6, Src, v6);
  if ( v8 < 0 || v8 > *(_DWORD *)(*v3 - 8) )
    sub_401090(-2147024809);
  *(_DWORD *)(*v3 - 12) = v8;
  result = *v3;
  *(_BYTE *)(v8 + *v3) = 0;
  return result;
}

//----- (004087F0) --------------------------------------------------------
char *__stdcall sub_4087F0(void *Src, int a2, void *Dst)
{
  if ( (a2 - (signed int)Src) >> 2 )
    memmove_s(Dst, 4 * ((a2 - (signed int)Src) >> 2), Src, 4 * ((a2 - (signed int)Src) >> 2));
  return (char *)Dst + 4 * ((a2 - (signed int)Src) >> 2);
}

//----- (00408820) --------------------------------------------------------
int __thiscall sub_408820(CGdiObject *this)
{
  int v2; // [sp+0h] [bp-28h]@1
  int *v3; // [sp+18h] [bp-10h]@1
  int v4; // [sp+24h] [bp-4h]@1

  v3 = &v2;
  *(_DWORD *)this = &off_4ABEFC;
  v4 = 0;
  return CGdiObject::DeleteObject(this);
}
// 4ABEFC: using guessed type int (*off_4ABEFC)();

//----- (00408940) --------------------------------------------------------
int *__thiscall sub_408940(int *this, void **a2)
{
  int *v2; // esi@1

  v2 = this;
  sub_408770(this, *a2, *((_DWORD *)*a2 - 3));
  return v2;
}

//----- (00408960) --------------------------------------------------------
int __stdcall sub_408960(_DWORD *a1, int a2, _DWORD *a3)
{
  int v3; // eax@1
  _DWORD *i; // ecx@1

  v3 = a2;
  for ( i = a1; v3; ++i )
  {
    *i = *a3;
    --v3;
  }
  return (int)&a1[a2];
}

//----- (00408990) --------------------------------------------------------
int __stdcall sub_408990(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 16) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(result + 12)) <= 0 )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)result + 4))(result);
  return result;
}

//----- (004089C0) --------------------------------------------------------
int __cdecl sub_4089C0(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int v6; // [sp+0h] [bp-28h]@1
  int v7; // [sp+10h] [bp-18h]@3
  int v8; // [sp+14h] [bp-14h]@1
  int *v9; // [sp+18h] [bp-10h]@1
  int v10; // [sp+24h] [bp-4h]@1

  v9 = &v6;
  v3 = a3;
  v4 = a1;
  v8 = a3;
  v10 = 0;
  while ( v4 != a2 )
  {
    v7 = v3;
    LOBYTE(v10) = 1;
    if ( v3 )
    {
      *(_DWORD *)v3 = *(_DWORD *)v4;
      *(_DWORD *)(v3 + 4) = *(_DWORD *)(v4 + 4);
      *(_DWORD *)(v3 + 8) = *(_DWORD *)(v4 + 8);
      *(_DWORD *)(v3 + 12) = *(_DWORD *)(v4 + 12);
      *(_DWORD *)(v3 + 16) = sub_401910(*(_DWORD *)(v4 + 16) - 16) + 16;
      *(_DWORD *)(v3 + 20) = *(_DWORD *)(v4 + 20);
      *(_DWORD *)(v3 + 24) = *(_DWORD *)(v4 + 24);
    }
    v3 += 28;
    LOBYTE(v10) = 0;
    v4 += 28;
  }
  return v3;
}

//----- (00408AA0) --------------------------------------------------------
void *__thiscall sub_408AA0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_408820((CGdiObject *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00408AC0) --------------------------------------------------------
void *__thiscall sub_408AC0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4AC634;
  sub_408820((CGdiObject *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4AC634: using guessed type int (*off_4AC634)();

//----- (00408AF0) --------------------------------------------------------
int __thiscall sub_408AF0(void *this, int a2)
{
  void *v2; // esi@1
  signed int v3; // edi@1
  signed int i; // ebx@1
  int v5; // ecx@2
  int result; // eax@3
  int v7; // eax@13
  int v8; // ebp@17
  LRESULT v9; // eax@26
  signed int v10; // ecx@26
  int v11; // ebp@26
  int v12; // eax@27
  int v13; // edi@30
  int v14; // ebp@30
  int v15; // edx@30
  int v16; // edi@31
  int v17; // eax@33
  int v18; // ecx@36
  int v19; // ebp@36
  _DWORD *v20; // eax@36
  int v21; // eax@36
  int v22; // ecx@36
  int (__thiscall *v23)(int); // eax@36
  int (__thiscall ***v24)(_DWORD); // eax@36
  int v25; // ecx@36
  int v26; // ecx@40
  int (__thiscall *v27)(_DWORD); // edx@40
  _DWORD *v28; // eax@40
  int v29; // ecx@41
  int (*v30)(void); // edx@42
  int v31; // ebx@42
  int (__thiscall ***v32)(_DWORD); // eax@42
  int v33; // eax@45
  _DWORD *v34; // ecx@48
  int v35; // ebx@48
  bool v36; // sf@57
  unsigned __int8 v37; // of@57
  int v38; // [sp-48h] [bp-7Ch]@0
  int v39; // [sp-44h] [bp-78h]@0
  int v40; // [sp-40h] [bp-74h]@42
  int v41; // [sp-3Ch] [bp-70h]@42
  int v42; // [sp-38h] [bp-6Ch]@42
  int v43; // [sp-34h] [bp-68h]@42
  int v44; // [sp-30h] [bp-64h]@47
  int v45; // [sp-2Ch] [bp-60h]@47
  int v46; // [sp-28h] [bp-5Ch]@47
  int v47; // [sp-24h] [bp-58h]@40
  int v48; // [sp-20h] [bp-54h]@40
  int v49; // [sp-1Ch] [bp-50h]@36
  int v50; // [sp-18h] [bp-4Ch]@36
  rsize_t v51; // [sp-14h] [bp-48h]@36
  int v52; // [sp-10h] [bp-44h]@36
  int v53; // [sp-Ch] [bp-40h]@42
  int v54; // [sp-8h] [bp-3Ch]@42
  void **v55; // [sp-4h] [bp-38h]@30
  int v56; // [sp+4h] [bp-30h]@56
  int v57; // [sp+Ch] [bp-28h]@53
  int v58; // [sp+10h] [bp-24h]@41
  int v59; // [sp+14h] [bp-20h]@26
  _DWORD *v60; // [sp+18h] [bp-1Ch]@17
  int v61; // [sp+1Ch] [bp-18h]@12
  int v62; // [sp+20h] [bp-14h]@47
  int *v63; // [sp+24h] [bp-10h]@36
  int v64; // [sp+28h] [bp-Ch]@42
  int j; // [sp+38h] [bp+4h]@13

  v2 = this;
  v3 = 0;
  for ( i = 0; ; ++i )
  {
    v5 = *((_DWORD *)v2 + 53);
    result = v5 ? (*((_DWORD *)v2 + 54) - v5) >> 2 : 0;
    if ( i >= result )
      break;
    if ( !v5 || i >= (unsigned int)((*((_DWORD *)v2 + 54) - v5) >> 2) )
      _invalid_parameter_noinfo(v5);
    result = *((_DWORD *)v2 + 53);
    if ( *(_DWORD *)(result + 4 * i) == a2 )
    {
      v3 = 1;
      break;
    }
  }
  v61 = i;
  if ( v3 )
  {
    v7 = 0;
    for ( j = 0; v7 < *((_DWORD *)v2 + 44); j = ++v7 )
    {
      if ( v7 != i )
      {
        if ( v7 < 0 )
          goto LABEL_39;
        if ( v7 >= *((_DWORD *)v2 + 44) )
          goto LABEL_39;
        v8 = 4 * v7;
        v60 = (_DWORD *)SendMessageA(*(HWND *)(*(_DWORD *)(4 * v7 + *((_DWORD *)v2 + 43)) + 32), 0x147u, 0, 0);
        if ( i < 0 || i >= *((_DWORD *)v2 + 44) )
          goto LABEL_39;
        if ( v60 == (_DWORD *)SendMessageA(*(HWND *)(*(_DWORD *)(*((_DWORD *)v2 + 43) + 4 * i) + 32), 0x147u, 0, 0) )
        {
          if ( j >= *((_DWORD *)v2 + 44) )
            goto LABEL_39;
          SendMessageA(*(HWND *)(*(_DWORD *)(v8 + *((_DWORD *)v2 + 43)) + 32), 0x14Eu, 0, 0);
        }
        v7 = j;
      }
    }
    if ( i < 0 || i >= *((_DWORD *)v2 + 44) )
LABEL_39:
      unknown_libname_36();
    v9 = SendMessageA(*(HWND *)(*(_DWORD *)(*((_DWORD *)v2 + 43) + 4 * i) + 32), 0x147u, 0, 0);
    v11 = v9 - 1;
    v59 = v9 - 1;
    if ( v9 - 1 >= 0 )
    {
      v12 = *((_DWORD *)v2 + 61);
      if ( !v12 || (v10 = *((_DWORD *)v2 + 62) - v12, i >= (unsigned int)(v10 / 28)) )
        _invalid_parameter_noinfo(v10);
      v13 = *((_DWORD *)v2 + 61) + 28 * i;
      v14 = (int)v2 + 28 * v11 + 1060;
      *(_DWORD *)v14 = *(_DWORD *)v13;
      *(_DWORD *)(v14 + 4) = *(_DWORD *)(v13 + 4);
      *(_DWORD *)(v14 + 8) = *(_DWORD *)(v13 + 8);
      v15 = *(_DWORD *)(v13 + 12);
      v55 = (void **)(v13 + 16);
      *(_DWORD *)(v14 + 12) = v15;
      sub_401CF0((int *)(v14 + 16), v55);
      v10 = *(_DWORD *)(v13 + 20);
      *(_DWORD *)(v14 + 20) = v10;
      *(_DWORD *)(v14 + 24) = *(_DWORD *)(v13 + 24);
      v11 = v59;
    }
    result = 0;
    v16 = (int)v2 + 1076;
    do
    {
      if ( result != v11 )
      {
        v17 = *((_DWORD *)v2 + 61);
        if ( !v17 || (v10 = *((_DWORD *)v2 + 62) - v17, i >= (unsigned int)(v10 / 28)) )
          _invalid_parameter_noinfo(v10);
        v18 = *((_DWORD *)v2 + 61);
        v19 = v18 + 28 * i;
        v49 = *(_DWORD *)(v18 + 28 * i);
        v50 = *(_DWORD *)(v19 + 4);
        v51 = *(_DWORD *)(v19 + 8);
        v52 = *(_DWORD *)(v19 + 12);
        v20 = (_DWORD *)(*(_DWORD *)(v19 + 16) - 16);
        v60 = v20;
        v21 = *v20;
        v22 = v21;
        v23 = *(int (__thiscall **)(int))(*(_DWORD *)v21 + 16);
        v63 = &v49;
        v24 = (int (__thiscall ***)(_DWORD))v23(v22);
        v25 = (int)v60;
        if ( v60[3] < 0 || v24 != (int (__thiscall ***)(_DWORD))*v60 )
        {
          v26 = v60[1];
          v27 = **v24;
          v48 = 1;
          v47 = v26;
          v28 = (_DWORD *)v27(v24);
          v60 = v28;
          if ( !v28 )
            goto LABEL_59;
          v29 = v58;
          v28[1] = *(_DWORD *)(v58 + 4);
          memcpy_s(v28 + 4, *(_DWORD *)(v29 + 4) + 1, (const void *)(v29 + 16), *(_DWORD *)(v29 + 4) + 1);
          v25 = (int)v60;
        }
        else
        {
          _InterlockedExchangeAdd(v60 + 3, 1u);
        }
        v53 = v25 + 16;
        v54 = *(_DWORD *)(v19 + 20);
        v55 = *(void ***)(v19 + 24);
        v40 = *(_DWORD *)(v16 - 16);
        v41 = *(_DWORD *)(v16 - 12);
        v42 = *(_DWORD *)(v16 - 8);
        v43 = *(_DWORD *)(v16 - 4);
        v30 = *(int (**)(void))(**(_DWORD **)(*(_DWORD *)v16 - 16) + 16);
        v31 = *(_DWORD *)v16 - 16;
        v64 = 0;
        v60 = &v40;
        v32 = (int (__thiscall ***)(_DWORD))v30();
        if ( *(_DWORD *)(v31 + 12) < 0 || v32 != *(int (__thiscall ****)(_DWORD))v31 )
        {
          v39 = 1;
          v38 = *(_DWORD *)(v31 + 4);
          v33 = (**v32)(v32);
          v58 = v33;
          if ( !v33 )
LABEL_59:
            sub_4016C0();
          *(_DWORD *)(v33 + 4) = *(_DWORD *)(v31 + 4);
          memcpy_s((void *)(v33 + 16), *(_DWORD *)(v31 + 4) + 1, (const void *)(v31 + 16), *(_DWORD *)(v31 + 4) + 1);
          v31 = v58;
        }
        else
        {
          _InterlockedExchangeAdd((volatile signed __int32 *)(v31 + 12), 1u);
        }
        v44 = v31 + 16;
        v45 = *(_DWORD *)(v16 + 4);
        v46 = *(_DWORD *)(v16 + 8);
        v62 = -1;
        if ( sub_403E00(v38, v39, v40, v41, v42, v43, v31 + 16, v45, v46, v47, v48, v49, v50, v51) )
        {
          *(_DWORD *)(v16 - 16) = *((_DWORD *)v2 + 293);
          *(_DWORD *)(v16 - 12) = *((_DWORD *)v2 + 294);
          *(_DWORD *)(v16 - 8) = *((_DWORD *)v2 + 295);
          *(_DWORD *)(v16 - 4) = *((_DWORD *)v2 + 296);
          v34 = (_DWORD *)*((_DWORD *)v2 + 297);
          v35 = *(_DWORD *)v16 - 16;
          if ( v34 - 4 != (_DWORD *)v35 )
          {
            if ( *(_DWORD *)(v35 + 12) < 0 || *(v34 - 4) != *(_DWORD *)v35 )
            {
              v51 = *(v34 - 3);
              sub_401C40((int *)v16, v34, v51);
            }
            else
            {
              v58 = sub_401910((int)(v34 - 4));
              if ( _InterlockedDecrement((volatile signed __int32 *)(v35 + 12)) <= 0 )
                (*(void (__cdecl **)(int, int, int, int, void **))(**(_DWORD **)v35 + 4))(v35, v52, v53, v54, v55);
              *(_DWORD *)v16 = v57 + 16;
            }
          }
          *(_DWORD *)(v16 + 4) = *((_DWORD *)v2 + 298);
          v10 = *((_DWORD *)v2 + 299);
          *(_DWORD *)(v16 + 8) = v10;
        }
        v11 = v56;
        i = v57;
      }
      result = v64 + 1;
      v16 += 28;
      v37 = __OFSUB__(v64 + 1, 4);
      v36 = v64++ - 3 < 0;
    }
    while ( v36 ^ v37 );
  }
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (00408F90) --------------------------------------------------------
signed int __fastcall sub_408F90(signed int a1)
{
  unsigned int v1; // edi@1
  signed int v2; // esi@1
  int v3; // eax@2
  signed int v4; // ebp@5
  int v5; // ebx@5
  int v6; // eax@6
  int v7; // eax@10
  signed int v8; // ecx@18
  int v9; // eax@18
  int v10; // eax@23
  signed int result; // eax@31
  int v12; // ebx@31
  char *v13; // eax@33
  int v14; // edi@33
  int v15; // ebp@33
  int (__thiscall ***v16)(_DWORD, _DWORD, _DWORD); // eax@36
  int v17; // eax@39
  signed int i; // [sp+10h] [bp-18h]@1
  signed int v19; // [sp+10h] [bp-18h]@31
  int v20; // [sp+14h] [bp-14h]@39
  int v21; // [sp+18h] [bp-10h]@1
  int v22; // [sp+1Ch] [bp-Ch]@1
  int v23; // [sp+20h] [bp-8h]@1
  int v24; // [sp+24h] [bp-4h]@1

  v1 = 0;
  v2 = a1;
  v21 = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  for ( i = 0; ; i += 28 )
  {
    v3 = *(_DWORD *)(v2 + 244);
    if ( v3 )
    {
      a1 = *(_DWORD *)(v2 + 248) - v3;
      v3 = a1 / 28;
    }
    if ( (signed int)v1 >= v3 )
      break;
    v4 = 0;
    v5 = v2 + 1080;
    do
    {
      v6 = *(_DWORD *)(v2 + 244);
      if ( !v6 || (a1 = *(_DWORD *)(v2 + 248) - v6, v1 >= a1 / 28) )
        _invalid_parameter_noinfo(a1);
      if ( sub_4029F0((_DWORD *)(i + *(_DWORD *)(v2 + 244)), (_DWORD *)(v5 - 20)) )
      {
        v7 = *(_DWORD *)(v2 + 244);
        if ( !v7 || (a1 = *(_DWORD *)(v2 + 248) - v7, v1 >= a1 / 28) )
          _invalid_parameter_noinfo(a1);
        a1 = *(_DWORD *)(i + *(_DWORD *)(v2 + 244) + 20);
        if ( a1 == *(_DWORD *)v5 )
        {
          if ( i < 0 || (signed int)v1 >= *(_DWORD *)(v2 + 176) )
LABEL_30:
            unknown_libname_36();
          SendMessageA(*(HWND *)(*(_DWORD *)(*(_DWORD *)(v2 + 172) + 4 * v1) + 32), 0x14Eu, v4 + 1, 0);
          if ( *(_DWORD *)(v5 + 4) )
          {
            if ( (signed int)v1 >= *(_DWORD *)(v2 + 196) )
              goto LABEL_30;
            SendMessageA(*(HWND *)(*(_DWORD *)(*(_DWORD *)(v2 + 192) + 4 * v1) + 32), 0xF1u, 1u, 0);
            v9 = *(_DWORD *)(v2 + 244);
            if ( !v9 || (v8 = *(_DWORD *)(v2 + 248) - v9, v1 >= v8 / 28) )
              _invalid_parameter_noinfo(v8);
            a1 = i;
            *(_DWORD *)(i + *(_DWORD *)(v2 + 244) + 24) = 1;
          }
          else
          {
            if ( (signed int)v1 >= *(_DWORD *)(v2 + 196) )
              goto LABEL_30;
            SendMessageA(*(HWND *)(*(_DWORD *)(*(_DWORD *)(v2 + 192) + 4 * v1) + 32), 0xF1u, 0, 0);
            v10 = *(_DWORD *)(v2 + 244);
            if ( !v10 || (a1 = *(_DWORD *)(v2 + 248) - v10, v1 >= a1 / 28) )
              _invalid_parameter_noinfo(a1);
            *(_DWORD *)(i + *(_DWORD *)(v2 + 244) + 24) = 0;
          }
          *(&v21 + v4) = 1;
        }
      }
      ++v4;
      v5 += 28;
    }
    while ( v4 < 4 );
    ++v1;
  }
  result = 0;
  v19 = 0;
  v12 = v2 + 1076;
  do
  {
    if ( !*(&v21 + result) )
    {
      *(_DWORD *)(v12 - 16) = *(_DWORD *)(v2 + 1172);
      *(_DWORD *)(v12 - 12) = *(_DWORD *)(v2 + 1176);
      *(_DWORD *)(v12 - 8) = *(_DWORD *)(v2 + 1180);
      *(_DWORD *)(v12 - 4) = *(_DWORD *)(v2 + 1184);
      v13 = *(char **)(v2 + 1188);
      v14 = (int)(v13 - 16);
      v15 = *(_DWORD *)v12 - 16;
      if ( v13 - 16 != (char *)v15 )
      {
        if ( *(_DWORD *)(v15 + 12) < 0 || *(_DWORD *)v14 != *(_DWORD *)v15 )
        {
          sub_401C40((int *)v12, v13, *((_DWORD *)v13 - 3));
        }
        else
        {
          v16 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))(*(int (**)(void))(**(_DWORD **)v14 + 16))();
          if ( *(_DWORD *)(v14 + 12) < 0 || v16 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v14 )
          {
            v17 = (**v16)(v16, *(_DWORD *)(v14 + 4), 1);
            v20 = v17;
            if ( !v17 )
              sub_4016C0();
            *(_DWORD *)(v17 + 4) = *(_DWORD *)(v14 + 4);
            memcpy_s((void *)(v17 + 16), *(_DWORD *)(v14 + 4) + 1, (const void *)(v14 + 16), *(_DWORD *)(v14 + 4) + 1);
            v14 = v20;
          }
          else
          {
            _InterlockedExchangeAdd((volatile signed __int32 *)(v14 + 12), 1u);
          }
          if ( _InterlockedDecrement((volatile signed __int32 *)(v15 + 12)) <= 0 )
            (*(void (__stdcall **)(int))(**(_DWORD **)v15 + 4))(v15);
          *(_DWORD *)v12 = v14 + 16;
        }
      }
      *(_DWORD *)(v12 + 4) = *(_DWORD *)(v2 + 1192);
      *(_DWORD *)(v12 + 8) = *(_DWORD *)(v2 + 1196);
      result = v19;
    }
    ++result;
    v12 += 28;
    v19 = result;
  }
  while ( result < 4 );
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (004092D0) --------------------------------------------------------
void __cdecl sub_4092D0(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ebx@1
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+10h] [bp-18h]@3
  int v7; // [sp+14h] [bp-14h]@1
  int *v8; // [sp+18h] [bp-10h]@1
  int v9; // [sp+24h] [bp-4h]@1

  v8 = &v5;
  v3 = a1;
  v4 = a2;
  v7 = a1;
  v9 = 0;
  while ( v4 )
  {
    v6 = v3;
    LOBYTE(v9) = 1;
    if ( v3 )
    {
      *(_DWORD *)v3 = *(_DWORD *)a3;
      *(_DWORD *)(v3 + 4) = *(_DWORD *)(a3 + 4);
      *(_DWORD *)(v3 + 8) = *(_DWORD *)(a3 + 8);
      *(_DWORD *)(v3 + 12) = *(_DWORD *)(a3 + 12);
      *(_DWORD *)(v3 + 16) = sub_401910(*(_DWORD *)(a3 + 16) - 16) + 16;
      *(_DWORD *)(v3 + 20) = *(_DWORD *)(a3 + 20);
      *(_DWORD *)(v3 + 24) = *(_DWORD *)(a3 + 24);
    }
    --v4;
    v3 += 28;
    LOBYTE(v9) = 0;
  }
}

//----- (004093A0) --------------------------------------------------------
void __cdecl sub_4093A0(int a1, int a2)
{
  int i; // esi@1
  int v3; // eax@2

  for ( i = a1; i != a2; i += 28 )
  {
    v3 = *(_DWORD *)(i + 16) - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v3 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v3 + 4))(v3);
  }
}

//----- (004093E0) --------------------------------------------------------
int *__cdecl sub_4093E0(int a1, int a2, int a3)
{
  int i; // esi@1
  int *result; // eax@2

  for ( i = a1; i != a2; i += 28 )
  {
    *(_DWORD *)i = *(_DWORD *)a3;
    *(_DWORD *)(i + 4) = *(_DWORD *)(a3 + 4);
    *(_DWORD *)(i + 8) = *(_DWORD *)(a3 + 8);
    *(_DWORD *)(i + 12) = *(_DWORD *)(a3 + 12);
    result = sub_401CF0((int *)(i + 16), (void **)(a3 + 16));
    *(_DWORD *)(i + 20) = *(_DWORD *)(a3 + 20);
    *(_DWORD *)(i + 24) = *(_DWORD *)(a3 + 24);
  }
  return result;
}

//----- (00409430) --------------------------------------------------------
int __cdecl sub_409430(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@2
  int v5; // eax@3
  int result; // eax@4

  v3 = a2;
  if ( a1 == a2 )
  {
    result = a3;
  }
  else
  {
    v4 = a3;
    do
    {
      v5 = *(_DWORD *)(v3 - 28);
      v3 -= 28;
      v4 -= 28;
      *(_DWORD *)v4 = v5;
      *(_DWORD *)(v4 + 4) = *(_DWORD *)(v3 + 4);
      *(_DWORD *)(v4 + 8) = *(_DWORD *)(v3 + 8);
      *(_DWORD *)(v4 + 12) = *(_DWORD *)(v3 + 12);
      sub_401CF0((int *)(v4 + 16), (void **)(v3 + 16));
      *(_DWORD *)(v4 + 20) = *(_DWORD *)(v3 + 20);
      *(_DWORD *)(v4 + 24) = *(_DWORD *)(v3 + 24);
    }
    while ( v3 != a1 );
    result = v4;
  }
  return result;
}

//----- (00409490) --------------------------------------------------------
LRESULT __thiscall sub_409490(int this, int a2)
{
  int v2; // esi@1
  CWnd *v3; // ecx@3
  LRESULT result; // eax@4
  unsigned int i; // edi@6
  signed int v6; // ecx@7
  int v7; // eax@16
  signed int v8; // ecx@19
  int v9; // ebp@19
  signed int v10; // ecx@30
  int v11; // ebx@30
  int v12; // eax@31
  int v13; // edi@34
  int v14; // ecx@34
  int v15; // edi@34
  int v16; // esi@34

  v2 = this;
  if ( sub_402BF0((void *)(this + 304)) || a2 != *(_DWORD *)(v2 + 276) )
  {
    for ( i = 0; ; ++i )
    {
      v6 = *(_DWORD *)(v2 + 228);
      result = v6 ? (*(_DWORD *)(v2 + 232) - v6) >> 2 : 0;
      if ( (signed int)i >= result )
        break;
      if ( !v6 || i >= (*(_DWORD *)(v2 + 232) - v6) >> 2 )
        _invalid_parameter_noinfo(v6);
      if ( *(_DWORD *)(*(_DWORD *)(v2 + 228) + 4 * i) == a2 )
      {
        v7 = *(_DWORD *)(v2 + 244);
        if ( !v7 || (v6 = *(_DWORD *)(v2 + 248) - v7, i >= v6 / 28) )
          _invalid_parameter_noinfo(v6);
        v8 = *(_DWORD *)(v2 + 244);
        v9 = 28 * i;
        if ( *(_DWORD *)(v8 + 28 * i + 24) )
        {
          if ( !v8 || (v8 = *(_DWORD *)(v2 + 248) - v8, i >= v8 / 28) )
            _invalid_parameter_noinfo(v8);
          *(_DWORD *)(*(_DWORD *)(v2 + 244) + v9 + 24) = 0;
        }
        else
        {
          if ( !v8 || (v8 = *(_DWORD *)(v2 + 248) - v8, i >= v8 / 28) )
            _invalid_parameter_noinfo(v8);
          *(_DWORD *)(*(_DWORD *)(v2 + 244) + v9 + 24) = 1;
        }
        if ( (i & 0x80000000) != 0 || (signed int)i >= *(_DWORD *)(v2 + 176) )
          unknown_libname_36();
        result = SendMessageA(*(HWND *)(*(_DWORD *)(*(_DWORD *)(v2 + 172) + 4 * i) + 32), 0x147u, 0, 0);
        v11 = result - 1;
        if ( result - 1 >= 0 )
        {
          v12 = *(_DWORD *)(v2 + 244);
          if ( !v12 || (v10 = *(_DWORD *)(v2 + 248) - v12, i >= v10 / 28) )
            _invalid_parameter_noinfo(v10);
          v13 = *(_DWORD *)(v2 + 244);
          v14 = *(_DWORD *)(v13 + v9);
          v15 = v9 + v13;
          v16 = v2 + 28 * v11 + 1060;
          *(_DWORD *)v16 = v14;
          *(_DWORD *)(v16 + 4) = *(_DWORD *)(v15 + 4);
          *(_DWORD *)(v16 + 8) = *(_DWORD *)(v15 + 8);
          *(_DWORD *)(v16 + 12) = *(_DWORD *)(v15 + 12);
          sub_401CF0((int *)(v16 + 16), (void **)(v15 + 16));
          result = *(_DWORD *)(v15 + 20);
          *(_DWORD *)(v16 + 20) = result;
          *(_DWORD *)(v16 + 24) = *(_DWORD *)(v15 + 24);
        }
        return result;
      }
    }
  }
  else
  {
    v3 = *(CWnd **)(v2 + 284);
    if ( *(_DWORD *)(v2 + 280) )
    {
      *(_DWORD *)(v2 + 280) = 0;
      result = CWnd::ShowWindow(v3, 0);
    }
    else
    {
      *(_DWORD *)(v2 + 280) = 1;
      result = CWnd::ShowWindow(v3, 5);
    }
  }
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (004096B0) --------------------------------------------------------
void __thiscall sub_4096B0(void *this, int a2, int a3)
{
  int v3; // ebp@1
  void *v4; // eax@1
  int v5; // ecx@3
  unsigned __int8 *v6; // eax@5
  int v7; // esi@6
  unsigned __int8 *v8; // eax@10
  int v9; // ebx@11
  unsigned __int8 *v10; // eax@15
  int v11; // esi@16
  int v12; // ecx@18
  int v13; // ebx@18
  bool v14; // sf@18
  unsigned __int8 v15; // of@18
  char *v16; // esi@18
  int v17; // edx@21
  int v18; // eax@21
  int v19; // ebp@21
  int v20; // eax@27
  int v21; // ecx@27
  int v22; // edx@27
  int v23; // eax@27
  unsigned __int8 *v24; // eax@29
  int v25; // eax@30
  int v26; // ebx@32
  unsigned __int8 *v27; // eax@34
  int v28; // ebp@37
  int v29; // eax@37
  int v30; // edx@43
  int v31; // eax@44
  int v32; // edx@48
  int v33; // eax@48
  int v34; // ebp@48
  int v35; // eax@48
  __int32 v36; // eax@53
  int v37; // ebp@53
  int v38; // ebx@53
  int v39; // eax@53
  char *v40; // esi@55
  int v41; // ecx@55
  unsigned __int8 *v42; // eax@57
  int v43; // ebp@58
  unsigned __int8 *v44; // eax@62
  int v45; // ebx@63
  unsigned __int8 *v46; // eax@67
  int v47; // ebp@70
  int v48; // eax@70
  int v49; // edx@76
  int v50; // eax@77
  int v51; // ebx@78
  int v52; // edx@81
  int v53; // eax@81
  int v54; // ebp@81
  int (*v55)(void); // eax@86
  int v56; // ebp@86
  int (__thiscall ***v57)(_DWORD, _DWORD, _DWORD); // eax@86
  int v58; // ebx@88
  int v59; // eax@89
  int *v60; // ebx@92
  int v61; // eax@92
  int v62; // ecx@92
  int v63; // edx@92
  int v64; // ebx@92
  int (__thiscall ***v65)(_DWORD, _DWORD, _DWORD); // eax@95
  int v66; // ecx@100
  unsigned __int8 *v67; // eax@107
  int v68; // eax@108
  int v69; // ebx@110
  unsigned __int8 *v70; // eax@112
  bool v71; // zf@115
  int v72; // eax@122
  int v73; // edx@126
  int v74; // ebp@126
  __int32 v75; // eax@131
  int v76; // ebp@131
  int v77; // ebx@131
  int v78; // eax@131
  char *v79; // esi@133
  int v80; // ecx@133
  unsigned __int8 *v81; // eax@135
  int v82; // ebp@136
  unsigned __int8 *v83; // eax@140
  int v84; // ebx@141
  unsigned __int8 *v85; // eax@145
  int v86; // ebp@148
  int v87; // eax@148
  int v88; // edx@154
  int v89; // eax@155
  int v90; // ebx@156
  int v91; // edx@159
  int v92; // eax@159
  int v93; // ebp@159
  int (*v94)(void); // eax@164
  int v95; // ebp@164
  int (__thiscall ***v96)(_DWORD, _DWORD, _DWORD); // eax@164
  int v97; // ebx@166
  int v98; // eax@167
  int *v99; // ebx@170
  int v100; // eax@170
  int v101; // ecx@170
  int v102; // edx@170
  int v103; // ebx@170
  int (__thiscall ***v104)(_DWORD, _DWORD, _DWORD); // eax@173
  int v105; // ecx@178
  unsigned __int8 *v106; // eax@185
  int v107; // eax@186
  int v108; // ebx@188
  unsigned __int8 *v109; // eax@190
  int v110; // eax@200
  int v111; // edx@204
  int v112; // ebp@204
  __int32 v113; // eax@209
  int v114; // ebp@209
  int v115; // ebx@209
  int v116; // eax@209
  char *v117; // esi@211
  int v118; // ecx@211
  unsigned __int8 *v119; // eax@213
  int v120; // ebp@214
  unsigned __int8 *v121; // eax@218
  int v122; // ebx@219
  unsigned __int8 *v123; // eax@223
  int v124; // ebp@226
  int v125; // eax@226
  int v126; // edx@232
  int v127; // eax@233
  int v128; // ebx@234
  int v129; // edx@237
  int v130; // eax@237
  int v131; // ebp@237
  int (*v132)(void); // eax@242
  int v133; // ebp@242
  int (__thiscall ***v134)(_DWORD, _DWORD, _DWORD); // eax@242
  int v135; // ebx@244
  int v136; // eax@245
  int *v137; // ebx@248
  int v138; // eax@248
  int v139; // ecx@248
  int v140; // edx@248
  int v141; // ebx@248
  int (__thiscall ***v142)(_DWORD, _DWORD, _DWORD); // eax@251
  int v143; // ecx@256
  unsigned __int8 *v144; // eax@263
  int v145; // eax@264
  int v146; // ebx@266
  unsigned __int8 *v147; // eax@268
  int v148; // eax@278
  int v149; // edx@282
  int v150; // ebp@282
  __int32 v151; // eax@287
  int v152; // ebp@287
  int v153; // esi@287
  int v154; // eax@287
  char *v155; // ebx@289
  unsigned __int8 *v156; // eax@291
  int v157; // eax@292
  unsigned __int8 *v158; // eax@296
  int v159; // ebp@297
  int v160; // esi@299
  int v161; // eax@299
  int v162; // edx@305
  int v163; // eax@307
  int v164; // edx@311
  int v165; // [sp+24h] [bp-4Ch]@27
  char *Src; // [sp+3Ch] [bp-34h]@21
  unsigned __int8 *v167; // [sp+40h] [bp-30h]@16
  int *v168; // [sp+44h] [bp-2Ch]@21
  char *v169; // [sp+48h] [bp-28h]@3
  int v170; // [sp+4Ch] [bp-24h]@1
  int v171; // [sp+50h] [bp-20h]@27
  int v172; // [sp+54h] [bp-1Ch]@27
  int v173; // [sp+58h] [bp-18h]@27
  int v174; // [sp+5Ch] [bp-14h]@27
  int v175; // [sp+6Ch] [bp-4h]@1

  v3 = (int)this;
  v170 = (int)this;
  v175 = 0;
  v4 = sub_41BC2E();
  if ( !v4 )
    sub_401090(-2147467259);
  v169 = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16);
  v5 = *(_DWORD *)(a2 - 12);
  LOBYTE(v175) = 1;
  if ( a3 >= 0 && a3 < v5 && (v6 = _mbschr((const unsigned __int8 *)(a2 + a3), 0x3Du)) != 0 )
    v7 = (int)&v6[-a2];
  else
    v7 = -1;
  if ( v7 >= 0 && v7 < *(_DWORD *)(a2 - 12) && (v8 = _mbschr((const unsigned __int8 *)(a2 + v7), 0x7Bu)) != 0 )
    v9 = (int)&v8[-a2];
  else
    v9 = -1;
  if ( v7 >= 0 && v7 < *(_DWORD *)(a2 - 12) && (v10 = _mbschr((const unsigned __int8 *)(a2 + v7), 0x7Du)) != 0 )
  {
    v11 = (int)&v10[-a2];
    v167 = &v10[-a2];
  }
  else
  {
    v11 = -1;
    v167 = (unsigned __int8 *)-1;
  }
  sub_401830((int *)&v169);
  v13 = v9 + 1;
  v15 = __OFSUB__(v13, v11);
  v14 = v13 - v11 < 0;
  v16 = v169;
  if ( v14 ^ v15 )
  {
    do
    {
      if ( v13 < 0 || v13 > *(_DWORD *)(a2 - 12) )
        goto LABEL_40;
      v17 = *((_DWORD *)v16 - 3);
      v18 = *((_DWORD *)v16 - 2);
      LOBYTE(Src) = *(_BYTE *)(v13 + a2);
      v12 = 1 - *((_DWORD *)v16 - 1);
      v19 = v17 + 1;
      v168 = (int *)v17;
      if ( (v12 | (v18 - (v17 + 1))) < 0 )
      {
        sub_4018C0((int *)&v169, v17 + 1);
        v16 = v169;
        v17 = (int)v168;
      }
      v16[v17] = (char)Src;
      if ( v19 < 0 || v19 > *((_DWORD *)v16 - 2) )
        goto LABEL_40;
      v15 = __OFSUB__(++v13, v167);
      v14 = v13 - (signed int)v167 < 0;
      *((_DWORD *)v16 - 3) = v19;
      v16[v19] = 0;
    }
    while ( v14 ^ v15 );
    v3 = v170;
  }
  v165 = v12;
  v168 = &v165;
  v20 = sub_401910((int)(v16 - 16));
  sub_404500((void *)(v3 + 304), (int)&v171, v20 + 16);
  v21 = v172;
  v22 = v173;
  *(_DWORD *)(v3 + 1060) = v171;
  v23 = v174;
  *(_DWORD *)(v3 + 1064) = v21;
  *(_DWORD *)(v3 + 1068) = v22;
  *(_DWORD *)(v3 + 1072) = v23;
  sub_401CF0((int *)(v3 + 1076), (void **)&v169);
  if ( (signed int)v167 >= 0 && (signed int)v167 < *(_DWORD *)(a2 - 12) && (v24 = _mbschr(&v167[a2], 0x2Cu)) != 0 )
    v25 = (int)&v24[-a2];
  else
    v25 = -1;
  v26 = v25 + 1;
  if ( v25 + 1 >= 0 && v26 < *(_DWORD *)(a2 - 12) && (v27 = _mbschr((const unsigned __int8 *)(v26 + a2), 0x2Cu)) != 0 )
    v167 = &v27[-a2];
  else
    v167 = (unsigned __int8 *)-1;
  v28 = *((_DWORD *)v16 - 4);
  v29 = (int)(v16 - 16);
  if ( *((_DWORD *)v16 - 3) )
  {
    if ( *(_DWORD *)(v29 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v29 + 12)) <= 0 )
      {
        v30 = **(_DWORD **)v29;
        v165 = (int)(v16 - 16);
        (*(void (__stdcall **)(char *))(v30 + 4))(v16 - 16);
      }
      v31 = (*(int (__thiscall **)(int))(*(_DWORD *)v28 + 12))(v28);
      v16 = (char *)(v31 + 16);
      v169 = (char *)(v31 + 16);
    }
    else
    {
      if ( *((_DWORD *)v16 - 2) < 0 )
        goto LABEL_40;
      *((_DWORD *)v16 - 3) = 0;
      *v16 = 0;
    }
  }
  if ( v26 < (signed int)v167 )
  {
    while ( v26 >= 0 && v26 <= *(_DWORD *)(a2 - 12) )
    {
      v32 = *((_DWORD *)v16 - 3);
      v33 = *((_DWORD *)v16 - 2);
      LOBYTE(Src) = *(_BYTE *)(v26 + a2);
      v34 = v32 + 1;
      v35 = (1 - *((_DWORD *)v16 - 1)) | (v33 - (v32 + 1));
      v168 = (int *)v32;
      if ( v35 < 0 )
      {
        sub_4018C0((int *)&v169, v32 + 1);
        v16 = v169;
        v32 = (int)v168;
      }
      v16[v32] = (char)Src;
      if ( v34 < 0 || v34 > *((_DWORD *)v16 - 2) )
        break;
      v15 = __OFSUB__(++v26, v167);
      v14 = v26 - (signed int)v167 < 0;
      *((_DWORD *)v16 - 3) = v34;
      v16[v34] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_53;
    }
LABEL_40:
    sub_401090(-2147024809);
  }
LABEL_53:
  v36 = j__atol(v16);
  v37 = v170;
  v38 = (int)v167;
  *(_DWORD *)(v170 + 1080) = v36;
  v39 = v38 + 1;
  if ( v38 + 1 < 0 || v39 > *(_DWORD *)(a2 - 12) )
    goto LABEL_40;
  LOWORD(Src) = *(_BYTE *)(v39 + a2);
  sub_401C40((int *)&v169, &Src, strlen((const char *)&Src));
  v40 = v169;
  *(_DWORD *)(v37 + 1084) = j__atol(v169);
  if ( v38 >= 0 && v38 < *(_DWORD *)(a2 - 12) && (v42 = _mbschr((const unsigned __int8 *)(a2 + v38), 0x3Du)) != 0 )
    v43 = (int)&v42[-a2];
  else
    v43 = -1;
  if ( v43 >= 0 && v43 < *(_DWORD *)(a2 - 12) && (v44 = _mbschr((const unsigned __int8 *)(a2 + v43), 0x7Bu)) != 0 )
    v45 = (int)&v44[-a2];
  else
    v45 = -1;
  if ( v43 >= 0 && v43 < *(_DWORD *)(a2 - 12) && (v46 = _mbschr((const unsigned __int8 *)(a2 + v43), 0x7Du)) != 0 )
    v167 = &v46[-a2];
  else
    v167 = (unsigned __int8 *)-1;
  v47 = *((_DWORD *)v40 - 4);
  v48 = (int)(v40 - 16);
  if ( *((_DWORD *)v40 - 3) )
  {
    v41 = v48 + 12;
    if ( *(_DWORD *)(v48 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)v41) <= 0 )
      {
        v49 = **(_DWORD **)v48;
        v165 = (int)(v40 - 16);
        (*(void (__stdcall **)(char *))(v49 + 4))(v40 - 16);
      }
      v50 = (*(int (__thiscall **)(int))(*(_DWORD *)v47 + 12))(v47);
      v40 = (char *)(v50 + 16);
      v169 = (char *)(v50 + 16);
    }
    else
    {
      if ( *((_DWORD *)v40 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v40 - 3) = 0;
      *v40 = 0;
    }
  }
  v51 = v45 + 1;
  if ( v51 < (signed int)v167 )
  {
    while ( v51 >= 0 && v51 <= *(_DWORD *)(a2 - 12) )
    {
      v52 = *((_DWORD *)v40 - 3);
      v53 = *((_DWORD *)v40 - 2);
      LOBYTE(Src) = *(_BYTE *)(v51 + a2);
      v41 = 1 - *((_DWORD *)v40 - 1);
      v54 = v52 + 1;
      v168 = (int *)v52;
      if ( (v41 | (v53 - (v52 + 1))) < 0 )
      {
        sub_4018C0((int *)&v169, v52 + 1);
        v40 = v169;
        v52 = (int)v168;
      }
      v40[v52] = (char)Src;
      if ( v54 < 0 || v54 > *((_DWORD *)v40 - 2) )
        break;
      v15 = __OFSUB__(++v51, v167);
      v14 = v51 - (signed int)v167 < 0;
      *((_DWORD *)v40 - 3) = v54;
      v40[v54] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_86;
    }
    goto LABEL_40;
  }
LABEL_86:
  v165 = v41;
  v55 = *(int (**)(void))(**((_DWORD **)v40 - 4) + 16);
  v56 = (int)(v40 - 16);
  v168 = &v165;
  v57 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))v55();
  if ( *((_DWORD *)v40 - 1) < 0 || v57 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v56 )
  {
    v59 = (**v57)(v57, *(_DWORD *)(v56 + 4), 1);
    v58 = v59;
    if ( !v59 )
      sub_4016C0();
    *(_DWORD *)(v59 + 4) = *(_DWORD *)(v56 + 4);
    memcpy_s((void *)(v59 + 16), *(_DWORD *)(v56 + 4) + 1, v40, *(_DWORD *)(v56 + 4) + 1);
  }
  else
  {
    v58 = (int)(v40 - 16);
    _InterlockedExchangeAdd((volatile signed __int32 *)(v56 + 12), 1u);
  }
  *v168 = v58 + 16;
  v60 = (int *)v170;
  sub_404500((void *)(v170 + 304), (int)&v171, v165);
  v61 = v172;
  v62 = v173;
  v60[272] = v171;
  v63 = v174;
  v60[273] = v61;
  v60[274] = v62;
  v60[275] = v63;
  v60 += 276;
  v168 = v60;
  v64 = *v60 - 16;
  if ( v56 != v64 )
  {
    if ( *(_DWORD *)(v64 + 12) < 0 || *(_DWORD *)v56 != *(_DWORD *)v64 )
    {
      v165 = *((_DWORD *)v40 - 3);
      sub_401C40(v168, v40, v165);
    }
    else
    {
      v65 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))(*(int (**)(void))(**(_DWORD **)v56 + 16))();
      if ( *(_DWORD *)(v56 + 12) < 0 || v65 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v56 )
      {
        Src = (char *)(**v65)(v65, *(_DWORD *)(v56 + 4), 1);
        if ( !Src )
          sub_4016C0();
        v66 = (int)Src;
        *((_DWORD *)Src + 1) = *(_DWORD *)(v56 + 4);
        v165 = *(_DWORD *)(v56 + 4) + 1;
        memcpy_s((void *)(v66 + 16), v165, v40, v165);
      }
      else
      {
        Src = v40 - 16;
        _InterlockedExchangeAdd((volatile signed __int32 *)(v56 + 12), 1u);
      }
      if ( _InterlockedDecrement((volatile signed __int32 *)(v64 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v64 + 4))(v64);
      *v168 = (int)(Src + 16);
    }
  }
  if ( (signed int)v167 >= 0 && (signed int)v167 < *(_DWORD *)(a2 - 12) && (v67 = _mbschr(&v167[a2], 0x2Cu)) != 0 )
    v68 = (int)&v67[-a2];
  else
    v68 = -1;
  v69 = v68 + 1;
  if ( v68 + 1 >= 0 && v69 < *(_DWORD *)(a2 - 12) && (v70 = _mbschr((const unsigned __int8 *)(v69 + a2), 0x2Cu)) != 0 )
    v167 = &v70[-a2];
  else
    v167 = (unsigned __int8 *)-1;
  v71 = *(_DWORD *)(v56 + 4) == 0;
  v168 = *(int **)v56;
  if ( !v71 )
  {
    if ( *(_DWORD *)(v56 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v56 + 12)) <= 0 )
        (*(void (__stdcall **)(char *))(**(_DWORD **)v56 + 4))(v40 - 16);
      v72 = (*(int (**)(void))(*v168 + 12))();
      v40 = (char *)(v72 + 16);
      v169 = (char *)(v72 + 16);
    }
    else
    {
      if ( *((_DWORD *)v40 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v40 - 3) = 0;
      *v40 = 0;
    }
  }
  if ( v69 < (signed int)v167 )
  {
    while ( v69 >= 0 && v69 <= *(_DWORD *)(a2 - 12) )
    {
      v73 = *((_DWORD *)v40 - 3);
      LOBYTE(Src) = *(_BYTE *)(v69 + a2);
      v74 = v73 + 1;
      v14 = ((1 - *((_DWORD *)v40 - 1)) | (*((_DWORD *)v40 - 2) - (v73 + 1))) < 0;
      v168 = (int *)v73;
      if ( v14 )
      {
        sub_4018C0((int *)&v169, v73 + 1);
        v40 = v169;
        v73 = (int)v168;
      }
      v40[v73] = (char)Src;
      if ( v74 < 0 || v74 > *((_DWORD *)v40 - 2) )
        break;
      v15 = __OFSUB__(++v69, v167);
      v14 = v69 - (signed int)v167 < 0;
      *((_DWORD *)v40 - 3) = v74;
      v40[v74] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_131;
    }
    goto LABEL_40;
  }
LABEL_131:
  v75 = j__atol(v40);
  v76 = v170;
  v77 = (int)v167;
  *(_DWORD *)(v170 + 1108) = v75;
  v78 = v77 + 1;
  if ( v77 + 1 < 0 || v78 > *(_DWORD *)(a2 - 12) )
    goto LABEL_40;
  LOWORD(Src) = *(_BYTE *)(v78 + a2);
  sub_401C40((int *)&v169, &Src, strlen((const char *)&Src));
  v79 = v169;
  *(_DWORD *)(v76 + 1112) = j__atol(v169);
  if ( v77 >= 0 && v77 < *(_DWORD *)(a2 - 12) && (v81 = _mbschr((const unsigned __int8 *)(a2 + v77), 0x3Du)) != 0 )
    v82 = (int)&v81[-a2];
  else
    v82 = -1;
  if ( v82 >= 0 && v82 < *(_DWORD *)(a2 - 12) && (v83 = _mbschr((const unsigned __int8 *)(a2 + v82), 0x7Bu)) != 0 )
    v84 = (int)&v83[-a2];
  else
    v84 = -1;
  if ( v82 >= 0 && v82 < *(_DWORD *)(a2 - 12) && (v85 = _mbschr((const unsigned __int8 *)(a2 + v82), 0x7Du)) != 0 )
    v167 = &v85[-a2];
  else
    v167 = (unsigned __int8 *)-1;
  v86 = *((_DWORD *)v79 - 4);
  v87 = (int)(v79 - 16);
  if ( *((_DWORD *)v79 - 3) )
  {
    v80 = v87 + 12;
    if ( *(_DWORD *)(v87 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)v80) <= 0 )
      {
        v88 = **(_DWORD **)v87;
        v165 = (int)(v79 - 16);
        (*(void (__stdcall **)(char *))(v88 + 4))(v79 - 16);
      }
      v89 = (*(int (__thiscall **)(int))(*(_DWORD *)v86 + 12))(v86);
      v79 = (char *)(v89 + 16);
      v169 = (char *)(v89 + 16);
    }
    else
    {
      if ( *((_DWORD *)v79 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v79 - 3) = 0;
      *v79 = 0;
    }
  }
  v90 = v84 + 1;
  if ( v90 < (signed int)v167 )
  {
    while ( v90 >= 0 && v90 <= *(_DWORD *)(a2 - 12) )
    {
      v91 = *((_DWORD *)v79 - 3);
      v92 = *((_DWORD *)v79 - 2);
      LOBYTE(Src) = *(_BYTE *)(v90 + a2);
      v80 = 1 - *((_DWORD *)v79 - 1);
      v93 = v91 + 1;
      v168 = (int *)v91;
      if ( (v80 | (v92 - (v91 + 1))) < 0 )
      {
        sub_4018C0((int *)&v169, v91 + 1);
        v79 = v169;
        v91 = (int)v168;
      }
      v79[v91] = (char)Src;
      if ( v93 < 0 || v93 > *((_DWORD *)v79 - 2) )
        break;
      v15 = __OFSUB__(++v90, v167);
      v14 = v90 - (signed int)v167 < 0;
      *((_DWORD *)v79 - 3) = v93;
      v79[v93] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_164;
    }
    goto LABEL_40;
  }
LABEL_164:
  v165 = v80;
  v94 = *(int (**)(void))(**((_DWORD **)v79 - 4) + 16);
  v95 = (int)(v79 - 16);
  v168 = &v165;
  v96 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))v94();
  if ( *((_DWORD *)v79 - 1) < 0 || v96 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v95 )
  {
    v98 = (**v96)(v96, *(_DWORD *)(v95 + 4), 1);
    v97 = v98;
    if ( !v98 )
      sub_4016C0();
    *(_DWORD *)(v98 + 4) = *(_DWORD *)(v95 + 4);
    memcpy_s((void *)(v98 + 16), *(_DWORD *)(v95 + 4) + 1, v79, *(_DWORD *)(v95 + 4) + 1);
  }
  else
  {
    v97 = (int)(v79 - 16);
    _InterlockedExchangeAdd((volatile signed __int32 *)(v95 + 12), 1u);
  }
  *v168 = v97 + 16;
  v99 = (int *)v170;
  sub_404500((void *)(v170 + 304), (int)&v171, v165);
  v100 = v172;
  v101 = v173;
  v99[279] = v171;
  v102 = v174;
  v99[280] = v100;
  v99[281] = v101;
  v99[282] = v102;
  v99 += 283;
  v168 = v99;
  v103 = *v99 - 16;
  if ( v95 != v103 )
  {
    if ( *(_DWORD *)(v103 + 12) < 0 || *(_DWORD *)v95 != *(_DWORD *)v103 )
    {
      v165 = *((_DWORD *)v79 - 3);
      sub_401C40(v168, v79, v165);
    }
    else
    {
      v104 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))(*(int (**)(void))(**(_DWORD **)v95 + 16))();
      if ( *(_DWORD *)(v95 + 12) < 0 || v104 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v95 )
      {
        Src = (char *)(**v104)(v104, *(_DWORD *)(v95 + 4), 1);
        if ( !Src )
          sub_4016C0();
        v105 = (int)Src;
        *((_DWORD *)Src + 1) = *(_DWORD *)(v95 + 4);
        v165 = *(_DWORD *)(v95 + 4) + 1;
        memcpy_s((void *)(v105 + 16), v165, v79, v165);
      }
      else
      {
        Src = v79 - 16;
        _InterlockedExchangeAdd((volatile signed __int32 *)(v95 + 12), 1u);
      }
      if ( _InterlockedDecrement((volatile signed __int32 *)(v103 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v103 + 4))(v103);
      *v168 = (int)(Src + 16);
    }
  }
  if ( (signed int)v167 >= 0 && (signed int)v167 < *(_DWORD *)(a2 - 12) && (v106 = _mbschr(&v167[a2], 0x2Cu)) != 0 )
    v107 = (int)&v106[-a2];
  else
    v107 = -1;
  v108 = v107 + 1;
  if ( v107 + 1 >= 0
    && v108 < *(_DWORD *)(a2 - 12)
    && (v109 = _mbschr((const unsigned __int8 *)(v108 + a2), 0x2Cu)) != 0 )
  {
    v167 = &v109[-a2];
  }
  else
  {
    v167 = (unsigned __int8 *)-1;
  }
  v71 = *(_DWORD *)(v95 + 4) == 0;
  v168 = *(int **)v95;
  if ( !v71 )
  {
    if ( *(_DWORD *)(v95 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v95 + 12)) <= 0 )
        (*(void (__stdcall **)(char *))(**(_DWORD **)v95 + 4))(v79 - 16);
      v110 = (*(int (**)(void))(*v168 + 12))();
      v79 = (char *)(v110 + 16);
      v169 = (char *)(v110 + 16);
    }
    else
    {
      if ( *((_DWORD *)v79 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v79 - 3) = 0;
      *v79 = 0;
    }
  }
  if ( v108 < (signed int)v167 )
  {
    while ( v108 >= 0 && v108 <= *(_DWORD *)(a2 - 12) )
    {
      v111 = *((_DWORD *)v79 - 3);
      LOBYTE(Src) = *(_BYTE *)(v108 + a2);
      v112 = v111 + 1;
      v14 = ((1 - *((_DWORD *)v79 - 1)) | (*((_DWORD *)v79 - 2) - (v111 + 1))) < 0;
      v168 = (int *)v111;
      if ( v14 )
      {
        sub_4018C0((int *)&v169, v111 + 1);
        v79 = v169;
        v111 = (int)v168;
      }
      v79[v111] = (char)Src;
      if ( v112 < 0 || v112 > *((_DWORD *)v79 - 2) )
        break;
      v15 = __OFSUB__(++v108, v167);
      v14 = v108 - (signed int)v167 < 0;
      *((_DWORD *)v79 - 3) = v112;
      v79[v112] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_209;
    }
    goto LABEL_40;
  }
LABEL_209:
  v113 = j__atol(v79);
  v114 = v170;
  v115 = (int)v167;
  *(_DWORD *)(v170 + 1136) = v113;
  v116 = v115 + 1;
  if ( v115 + 1 < 0 || v116 > *(_DWORD *)(a2 - 12) )
    goto LABEL_40;
  LOWORD(Src) = *(_BYTE *)(v116 + a2);
  sub_401C40((int *)&v169, &Src, strlen((const char *)&Src));
  v117 = v169;
  *(_DWORD *)(v114 + 1140) = j__atol(v169);
  if ( v115 >= 0 && v115 < *(_DWORD *)(a2 - 12) && (v119 = _mbschr((const unsigned __int8 *)(a2 + v115), 0x3Du)) != 0 )
    v120 = (int)&v119[-a2];
  else
    v120 = -1;
  if ( v120 >= 0 && v120 < *(_DWORD *)(a2 - 12) && (v121 = _mbschr((const unsigned __int8 *)(a2 + v120), 0x7Bu)) != 0 )
    v122 = (int)&v121[-a2];
  else
    v122 = -1;
  if ( v120 >= 0 && v120 < *(_DWORD *)(a2 - 12) && (v123 = _mbschr((const unsigned __int8 *)(a2 + v120), 0x7Du)) != 0 )
    v167 = &v123[-a2];
  else
    v167 = (unsigned __int8 *)-1;
  v124 = *((_DWORD *)v117 - 4);
  v125 = (int)(v117 - 16);
  if ( *((_DWORD *)v117 - 3) )
  {
    v118 = v125 + 12;
    if ( *(_DWORD *)(v125 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)v118) <= 0 )
      {
        v126 = **(_DWORD **)v125;
        v165 = (int)(v117 - 16);
        (*(void (__stdcall **)(char *))(v126 + 4))(v117 - 16);
      }
      v127 = (*(int (__thiscall **)(int))(*(_DWORD *)v124 + 12))(v124);
      v117 = (char *)(v127 + 16);
      v169 = (char *)(v127 + 16);
    }
    else
    {
      if ( *((_DWORD *)v117 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v117 - 3) = 0;
      *v117 = 0;
    }
  }
  v128 = v122 + 1;
  if ( v128 < (signed int)v167 )
  {
    while ( v128 >= 0 && v128 <= *(_DWORD *)(a2 - 12) )
    {
      v129 = *((_DWORD *)v117 - 3);
      v130 = *((_DWORD *)v117 - 2);
      LOBYTE(Src) = *(_BYTE *)(v128 + a2);
      v118 = 1 - *((_DWORD *)v117 - 1);
      v131 = v129 + 1;
      v168 = (int *)v129;
      if ( (v118 | (v130 - (v129 + 1))) < 0 )
      {
        sub_4018C0((int *)&v169, v129 + 1);
        v117 = v169;
        v129 = (int)v168;
      }
      v117[v129] = (char)Src;
      if ( v131 < 0 || v131 > *((_DWORD *)v117 - 2) )
        break;
      v15 = __OFSUB__(++v128, v167);
      v14 = v128 - (signed int)v167 < 0;
      *((_DWORD *)v117 - 3) = v131;
      v117[v131] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_242;
    }
    goto LABEL_40;
  }
LABEL_242:
  v165 = v118;
  v132 = *(int (**)(void))(**((_DWORD **)v117 - 4) + 16);
  v133 = (int)(v117 - 16);
  v168 = &v165;
  v134 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))v132();
  if ( *((_DWORD *)v117 - 1) < 0 || v134 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v133 )
  {
    v136 = (**v134)(v134, *(_DWORD *)(v133 + 4), 1);
    v135 = v136;
    if ( !v136 )
      sub_4016C0();
    *(_DWORD *)(v136 + 4) = *(_DWORD *)(v133 + 4);
    memcpy_s((void *)(v136 + 16), *(_DWORD *)(v133 + 4) + 1, v117, *(_DWORD *)(v133 + 4) + 1);
  }
  else
  {
    v135 = (int)(v117 - 16);
    _InterlockedExchangeAdd((volatile signed __int32 *)(v133 + 12), 1u);
  }
  *v168 = v135 + 16;
  v137 = (int *)v170;
  sub_404500((void *)(v170 + 304), (int)&v171, v165);
  v138 = v172;
  v139 = v173;
  v137[286] = v171;
  v140 = v174;
  v137[287] = v138;
  v137[288] = v139;
  v137[289] = v140;
  v137 += 290;
  v168 = v137;
  v141 = *v137 - 16;
  if ( v133 != v141 )
  {
    if ( *(_DWORD *)(v141 + 12) < 0 || *(_DWORD *)v133 != *(_DWORD *)v141 )
    {
      v165 = *((_DWORD *)v117 - 3);
      sub_401C40(v168, v117, v165);
    }
    else
    {
      v142 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))(*(int (**)(void))(**(_DWORD **)v133 + 16))();
      if ( *(_DWORD *)(v133 + 12) < 0 || v142 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v133 )
      {
        Src = (char *)(**v142)(v142, *(_DWORD *)(v133 + 4), 1);
        if ( !Src )
          sub_4016C0();
        v143 = (int)Src;
        *((_DWORD *)Src + 1) = *(_DWORD *)(v133 + 4);
        v165 = *(_DWORD *)(v133 + 4) + 1;
        memcpy_s((void *)(v143 + 16), v165, v117, v165);
      }
      else
      {
        Src = v117 - 16;
        _InterlockedExchangeAdd((volatile signed __int32 *)(v133 + 12), 1u);
      }
      if ( _InterlockedDecrement((volatile signed __int32 *)(v141 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v141 + 4))(v141);
      *v168 = (int)(Src + 16);
    }
  }
  if ( (signed int)v167 >= 0 && (signed int)v167 < *(_DWORD *)(a2 - 12) && (v144 = _mbschr(&v167[a2], 0x2Cu)) != 0 )
    v145 = (int)&v144[-a2];
  else
    v145 = -1;
  v146 = v145 + 1;
  if ( v145 + 1 >= 0
    && v146 < *(_DWORD *)(a2 - 12)
    && (v147 = _mbschr((const unsigned __int8 *)(v146 + a2), 0x2Cu)) != 0 )
  {
    v167 = &v147[-a2];
  }
  else
  {
    v167 = (unsigned __int8 *)-1;
  }
  v71 = *(_DWORD *)(v133 + 4) == 0;
  v168 = *(int **)v133;
  if ( !v71 )
  {
    if ( *(_DWORD *)(v133 + 12) >= 0 )
    {
      if ( _InterlockedDecrement((volatile signed __int32 *)(v133 + 12)) <= 0 )
        (*(void (__stdcall **)(char *))(**(_DWORD **)v133 + 4))(v117 - 16);
      v148 = (*(int (**)(void))(*v168 + 12))();
      v117 = (char *)(v148 + 16);
      v169 = (char *)(v148 + 16);
    }
    else
    {
      if ( *((_DWORD *)v117 - 2) < 0 )
        sub_401090(-2147024809);
      *((_DWORD *)v117 - 3) = 0;
      *v117 = 0;
    }
  }
  if ( v146 < (signed int)v167 )
  {
    while ( v146 >= 0 && v146 <= *(_DWORD *)(a2 - 12) )
    {
      v149 = *((_DWORD *)v117 - 3);
      LOBYTE(Src) = *(_BYTE *)(v146 + a2);
      v150 = v149 + 1;
      v14 = ((1 - *((_DWORD *)v117 - 1)) | (*((_DWORD *)v117 - 2) - (v149 + 1))) < 0;
      v168 = (int *)v149;
      if ( v14 )
      {
        sub_4018C0((int *)&v169, v149 + 1);
        v117 = v169;
        v149 = (int)v168;
      }
      v117[v149] = (char)Src;
      if ( v150 < 0 || v150 > *((_DWORD *)v117 - 2) )
        break;
      v15 = __OFSUB__(++v146, v167);
      v14 = v146 - (signed int)v167 < 0;
      *((_DWORD *)v117 - 3) = v150;
      v117[v150] = 0;
      if ( !(v14 ^ v15) )
        goto LABEL_287;
    }
    goto LABEL_40;
  }
LABEL_287:
  v151 = j__atol(v117);
  v152 = v170;
  v153 = (int)v167;
  *(_DWORD *)(v170 + 1164) = v151;
  v154 = v153 + 1;
  if ( v153 + 1 < 0 || v154 > *(_DWORD *)(a2 - 12) )
    goto LABEL_40;
  LOWORD(Src) = *(_BYTE *)(v154 + a2);
  sub_401C40((int *)&v169, &Src, strlen((const char *)&Src));
  v155 = v169;
  *(_DWORD *)(v152 + 1168) = j__atol(v169);
  if ( v153 >= 0
    && v153 <= *(_DWORD *)(a2 - 12)
    && (v156 = _mbsstr((const unsigned __int8 *)(a2 + v153), "UseKeyboard")) != 0
    && (v157 = (int)&v156[-a2], v157 != -1) )
  {
    if ( v157 >= 0 && v157 < *(_DWORD *)(a2 - 12) && (v158 = _mbschr((const unsigned __int8 *)(a2 + v157), 0x3Du)) != 0 )
      v159 = (int)&v158[-a2];
    else
      v159 = -1;
    v160 = *((_DWORD *)v155 - 4);
    v161 = (int)(v155 - 16);
    if ( *((_DWORD *)v155 - 3) )
    {
      if ( *(_DWORD *)(v161 + 12) >= 0 )
      {
        if ( _InterlockedDecrement((volatile signed __int32 *)(v161 + 12)) <= 0 )
        {
          v162 = **(_DWORD **)v161;
          v165 = (int)(v155 - 16);
          (*(void (__stdcall **)(char *))(v162 + 4))(v155 - 16);
        }
        v169 = (char *)((*(int (__thiscall **)(int))(*(_DWORD *)v160 + 12))(v160) + 16);
      }
      else
      {
        if ( *((_DWORD *)v155 - 2) < 0 )
          sub_401090(-2147024809);
        *((_DWORD *)v155 - 3) = 0;
        *v155 = 0;
      }
    }
    v163 = v159 + 1;
    if ( v159 + 1 < 0 || v163 > *(_DWORD *)(a2 - 12) )
      goto LABEL_40;
    LOWORD(Src) = *(_BYTE *)(v163 + a2);
    sub_401C40((int *)&v169, &Src, strlen((const char *)&Src));
    v155 = v169;
    *(_DWORD *)(v170 + 280) = j__atol(v169);
  }
  else
  {
    *(_DWORD *)(v152 + 280) = 0;
  }
  LOBYTE(v175) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)v155 - 1) <= 0 )
  {
    v164 = **((_DWORD **)v155 - 4);
    v165 = (int)(v155 - 16);
    (*(void (__stdcall **)(char *))(v164 + 4))(v155 - 16);
  }
  v175 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)(a2 - 16) + 4))(a2 - 16);
  sub_4815FE((char)Src);
}

//----- (0040A860) --------------------------------------------------------
__int32 __thiscall sub_40A860(CWnd *this, unsigned int a2, unsigned int a3, __int32 a4)
{
  CWnd *v4; // esi@1

  v4 = this;
  if ( a2 == 273 )
  {
    if ( a3 >> 16 )
    {
      if ( a3 >> 16 == 1 )
      {
        sub_408AF0((void *)this, (unsigned __int16)a3);
        return CWnd::WindowProc(v4, a2, a3, a4);
      }
    }
    else
    {
      sub_409490((int)this, (unsigned __int16)a3);
    }
  }
  return CWnd::WindowProc(v4, a2, a3, a4);
}

//----- (0040A8C0) --------------------------------------------------------
void __noreturn sub_40A8C0()
{
  char v0; // [sp+4h] [bp-50h]@1
  char v1; // [sp+8h] [bp-4Ch]@1
  int v2; // [sp+18h] [bp-3Ch]@1
  int v3; // [sp+1Ch] [bp-38h]@1
  int (__thiscall **v4)(void *, char); // [sp+20h] [bp-34h]@1
  int v5; // [sp+50h] [bp-4h]@1

  v3 = 15;
  v2 = 0;
  v1 = 0;
  sub_4040A0((int)&v0, "vector<T> too long", 0x12u);
  v5 = 0;
  sub_404400(&v4, (int)&v0);
  v4 = &off_4AB9E0;
  _CxxThrowException(&v4, &unk_521B60);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9E0: using guessed type int (__thiscall *off_4AB9E0)(void *, char);

//----- (0040A940) --------------------------------------------------------
int __cdecl sub_40A940(int a1, int a2, int a3)
{
  sub_409430(a1, a2, a3);
  return a3 - 28 * ((a2 - a1) / 28);
}

//----- (0040A9B0) --------------------------------------------------------
int __thiscall sub_40A9B0(void *this, char *a2)
{
  void *v2; // esi@1
  void *v3; // eax@1
  int v4; // ST48_4@3
  int v5; // ST40_4@3
  int v6; // ST3C_4@3
  int v7; // ST38_4@3
  int v8; // ST30_4@3
  int v9; // ST2C_4@3
  int v10; // ST28_4@3
  int v11; // ST20_4@3
  int v12; // ST1C_4@3
  int v13; // ST18_4@3
  int v14; // ST10_4@3
  int v15; // ST0C_4@3
  int v16; // ST08_4@3
  const char *v17; // esi@3
  int v18; // eax@3
  int v20; // [sp+8h] [bp-28h]@3
  int v21; // [sp+Ch] [bp-24h]@3
  char v22; // [sp+10h] [bp-20h]@1
  int v23; // [sp+2Ch] [bp-4h]@1

  v2 = this;
  CStdioFile::CStdioFile(&v22);
  v23 = 0;
  v3 = sub_41BC2E();
  if ( !v3 )
    sub_401090(-2147467259);
  v20 = (*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 12))(v3) + 16;
  LOBYTE(v23) = 1;
  sub_407B00(&v21, "\n");
  v4 = *((_DWORD *)v2 + 70);
  v5 = *((_DWORD *)v2 + 292);
  v6 = *((_DWORD *)v2 + 291);
  v7 = *((_DWORD *)v2 + 290);
  v8 = *((_DWORD *)v2 + 285);
  v9 = *((_DWORD *)v2 + 284);
  v10 = *((_DWORD *)v2 + 283);
  v11 = *((_DWORD *)v2 + 278);
  v12 = *((_DWORD *)v2 + 277);
  v13 = *((_DWORD *)v2 + 276);
  v14 = *((_DWORD *)v2 + 271);
  v15 = *((_DWORD *)v2 + 270);
  v16 = *((_DWORD *)v2 + 269);
  LOBYTE(v23) = 2;
  sub_404170(
    (int)&v20,
    "Current:\nAirleron={%s},%d,%d%sElevator={%s},%d,%d%sRudder={%s},%d,%d%sThrottle={%s},%d,%d%sUseKeyboard=%d%s",
    v16,
    v15,
    v14,
    v21,
    v13,
    v12,
    v11,
    v21,
    v10,
    v9,
    v8,
    v21,
    v7,
    v6,
    v5,
    v21,
    v4,
    v21);
  sub_408770(&v20, *((void **)v2 + 64), *(_DWORD *)(*((_DWORD *)v2 + 64) - 12));
  CStdioFile::Open((CStdioFile *)&v22, "JystkCfg.ini", 0x1001u, 0);
  v17 = (const char *)v20;
  unknown_libname_88((char *)v20);
  unknown_libname_91(&v22);
  strcpy(a2, v17);
  v18 = v21 - 16;
  LOBYTE(v23) = 1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v21 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v18 + 4))(v18);
  LOBYTE(v23) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)v17 - 1) <= 0 )
    (*(void (__stdcall **)(const char *))(**((_DWORD **)v17 - 4) + 4))(v17 - 16);
  v23 = -1;
  return CDaoWorkspace::~CDaoWorkspace((CDaoWorkspace *)&v22);
}
// 4255B9: using guessed type int __thiscall CStdioFile::CStdioFile(_DWORD);
// 4257A9: using guessed type _DWORD __stdcall unknown_libname_88(char *);
// 42597F: using guessed type int __thiscall unknown_libname_91(_DWORD);

//----- (0040AB60) --------------------------------------------------------
int __stdcall sub_40AB60(int a1, int a2, int a3)
{
  sub_4092D0(a1, a2, a3);
  return a1 + 28 * a2;
}

//----- (0040ABA0) --------------------------------------------------------
char *__thiscall sub_40ABA0(int this, int a2, void *Src, int a4, int a5)
{
  char *result; // eax@1
  int v6; // esi@1
  int v7; // ecx@1
  unsigned int v8; // edi@2
  int v9; // ebx@4
  int v10; // eax@6
  int v11; // eax@11
  unsigned int v12; // edi@15
  int v13; // eax@18
  int v14; // edi@22
  char *v15; // eax@25
  char *v16; // ebp@25
  char *v17; // eax@25
  void *v18; // eax@25
  int v19; // eax@25
  int v20; // ecx@26
  int v21; // ebx@28
  char *v22; // ebp@31
  int v23; // eax@31
  bool v24; // cf@31
  int v25; // ebx@33
  int v26; // [sp+18h] [bp+Ch]@31

  result = (char *)a5;
  v6 = this;
  a5 = *(_DWORD *)a5;
  v7 = *(_DWORD *)(this + 4);
  if ( v7 )
    v8 = (*(_DWORD *)(v6 + 12) - v7) >> 2;
  else
    v8 = 0;
  v9 = a4;
  if ( a4 )
  {
    if ( v7 )
      v10 = (*(_DWORD *)(v6 + 8) - v7) >> 2;
    else
      v10 = 0;
    if ( 0x3FFFFFFF - v10 < (unsigned int)a4 )
      sub_40A8C0();
    if ( v7 )
      v11 = (*(_DWORD *)(v6 + 8) - v7) >> 2;
    else
      v11 = 0;
    if ( v8 >= a4 + v11 )
    {
      v22 = *(char **)(v6 + 8);
      v23 = 4 * a4;
      v24 = (*(_DWORD *)(v6 + 8) - (signed int)Src) >> 2 < (unsigned int)a4;
      v26 = 4 * a4;
      if ( v24 )
      {
        sub_4087F0(Src, (int)v22, (char *)Src + v23);
        sub_408960(*(_DWORD **)(v6 + 8), v9 - ((*(_DWORD *)(v6 + 8) - (signed int)Src) >> 2), &a5);
        *(_DWORD *)(v6 + 8) += v26;
        result = (char *)sub_4086F0(Src, (_DWORD *)(*(_DWORD *)(v6 + 8) - v26), &a5);
      }
      else
      {
        v25 = (int)&v22[-v23];
        *(_DWORD *)(v6 + 8) = sub_4087F0(&v22[-v23], (int)v22, v22);
        sub_408710(Src, v25, (int)v22);
        result = (char *)sub_4086F0(Src, (char *)Src + v26, &a5);
      }
    }
    else
    {
      if ( 0x3FFFFFFF - (v8 >> 1) >= v8 )
        v12 = (v8 >> 1) + v8;
      else
        v12 = 0;
      if ( v7 )
        v13 = (*(_DWORD *)(v6 + 8) - v7) >> 2;
      else
        v13 = 0;
      if ( v12 < a4 + v13 )
      {
        if ( v7 )
          v14 = (*(_DWORD *)(v6 + 8) - v7) >> 2;
        else
          v14 = 0;
        v12 = a4 + v14;
      }
      v15 = (char *)sub_408480((char *)v12);
      v16 = v15;
      v17 = sub_4087F0(*(void **)(v6 + 4), (int)Src, v15);
      v18 = (void *)sub_408960(v17, a4, &a5);
      sub_4087F0(Src, *(_DWORD *)(v6 + 8), v18);
      v19 = *(_DWORD *)(v6 + 4);
      if ( v19 )
        v20 = (*(_DWORD *)(v6 + 8) - v19) >> 2;
      else
        v20 = 0;
      v21 = v20 + a4;
      if ( v19 )
        j__free(*(void **)(v6 + 4));
      result = &v16[4 * v21];
      *(_DWORD *)(v6 + 4) = v16;
      *(_DWORD *)(v6 + 12) = &v16[4 * v12];
      *(_DWORD *)(v6 + 8) = result;
    }
  }
  return result;
}

//----- (0040AD60) --------------------------------------------------------
void __stdcall sub_40AD60(int a1, int a2)
{
  sub_4093A0(a1, a2);
}

//----- (0040AD80) --------------------------------------------------------
int __thiscall sub_40AD80(void *this, void *DstBuf)
{
  void *v2; // edi@1
  int v3; // esi@2
  signed int v4; // ebx@2
  char v6; // [sp+14h] [bp-20h]@1
  int v7; // [sp+30h] [bp-4h]@1

  v2 = this;
  CStdioFile::CStdioFile(&v6);
  v7 = 0;
  if ( CStdioFile::Open((CStdioFile *)&v6, "JystkCfg.ini", 0, 0) )
  {
    while ( CStdioFile::Read((CStdioFile *)&v6, DstBuf, 0x1000u) )
      ;
    unknown_libname_91(&v6);
  }
  else
  {
    v3 = (int)v2 + 1080;
    v4 = 4;
    do
    {
      *(_DWORD *)(v3 - 20) = *((_DWORD *)v2 + 293);
      *(_DWORD *)(v3 - 16) = *((_DWORD *)v2 + 294);
      *(_DWORD *)(v3 - 12) = *((_DWORD *)v2 + 295);
      *(_DWORD *)(v3 - 8) = *((_DWORD *)v2 + 296);
      sub_401CF0((int *)(v3 - 4), (void **)v2 + 297);
      *(_DWORD *)v3 = *((_DWORD *)v2 + 298);
      *(_DWORD *)(v3 + 4) = *((_DWORD *)v2 + 299);
      v3 += 28;
      --v4;
    }
    while ( v4 );
    sub_40A9B0(v2, (char *)DstBuf);
  }
  v7 = -1;
  return CDaoWorkspace::~CDaoWorkspace((CDaoWorkspace *)&v6);
}
// 4255B9: using guessed type int __thiscall CStdioFile::CStdioFile(_DWORD);
// 42597F: using guessed type int __thiscall unknown_libname_91(_DWORD);

//----- (0040B250) --------------------------------------------------------
int __thiscall sub_40B250(int this, int a2, int a3, void *Src, int a5)
{
  int v5; // esi@1
  unsigned int v6; // edi@1
  unsigned int v7; // eax@2
  int v8; // ecx@2
  int v9; // ebx@3
  int v10; // ecx@10
  unsigned int v11; // edi@10
  unsigned int v12; // edi@12
  int result; // eax@15

  v5 = this;
  v6 = *(_DWORD *)(this + 4);
  if ( v6 && (v7 = *(_DWORD *)(this + 8), (v8 = (signed int)(*(_DWORD *)(this + 8) - v6) >> 2) != 0) )
  {
    if ( v6 > v7 )
      _invalid_parameter_noinfo(v8);
    if ( !a3 || a3 != v5 )
      _invalid_parameter_noinfo(v8);
    v9 = (signed int)((signed int)Src - v6) >> 2;
  }
  else
  {
    v9 = 0;
  }
  sub_40ABA0(v5, a3, Src, 1, a5);
  v11 = *(_DWORD *)(v5 + 4);
  if ( v11 > *(_DWORD *)(v5 + 8) )
    _invalid_parameter_noinfo(v10);
  v12 = v11 + 4 * v9;
  if ( v12 > *(_DWORD *)(v5 + 8) || v12 < *(_DWORD *)(v5 + 4) )
    _invalid_parameter_noinfo(v10);
  result = a2;
  *(_DWORD *)(a2 + 4) = v12;
  *(_DWORD *)a2 = v5;
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (0040B2E0) --------------------------------------------------------
int __stdcall sub_40B2E0(int a1, int a2, int a3)
{
  return sub_4089C0(a1, a2, a3);
}

//----- (0040B310) --------------------------------------------------------
int __cdecl sub_40B310(int a1, int a2, int a3)
{
  return sub_40A940(a1, a2, a3);
}

//----- (0040B340) --------------------------------------------------------
void __thiscall sub_40B340(void *this)
{
  void *v1; // ebp@1
  void *v2; // eax@1
  int v3; // ecx@3
  int v4; // esi@3
  int v5; // eax@3
  int v6; // [sp-8h] [bp-1044h]@3
  int v7; // [sp-4h] [bp-1040h]@3
  int v8; // [sp+10h] [bp-102Ch]@3
  int *v9; // [sp+14h] [bp-1028h]@3
  char v10; // [sp+18h] [bp-1024h]@1
  char Src; // [sp+2Ch] [bp-1010h]@3
  int v12; // [sp+1038h] [bp-4h]@1

  v1 = this;
  CStdioFile::CStdioFile(&v10);
  v12 = 0;
  v2 = sub_41BC2E();
  if ( !v2 )
    sub_401090(-2147467259);
  v8 = (*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16;
  LOBYTE(v12) = 1;
  sub_40AD80(v1, &Src);
  sub_401830(&v8);
  sub_401C40(&v8, &Src, strlen(&Src));
  v7 = 0;
  v6 = v3;
  v4 = v8 - 16;
  v9 = &v6;
  v5 = sub_401910(v8 - 16);
  sub_4096B0(v1, v5 + 16, v7);
  LOBYTE(v12) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v4 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v4 + 4))(v4);
  v12 = -1;
  CDaoWorkspace::~CDaoWorkspace((CDaoWorkspace *)&v10);
  sub_4815FE(v8);
}
// 4255B9: using guessed type int __thiscall CStdioFile::CStdioFile(_DWORD);

//----- (0040B480) --------------------------------------------------------
signed int __thiscall sub_40B480(CDialog *this)
{
  CDialog *v1; // esi@1
  HWND v2; // ST08_4@9

  v1 = this;
  CDialog::OnInitDialog(this);
  *((_DWORD *)v1 + 72) = 1;
  *((_DWORD *)v1 + 73) = 1;
  *((_DWORD *)v1 + 74) = 1;
  *((_DWORD *)v1 + 75) = 1;
  sub_404170(
    (int)v1 + 256,
    "\nDefault:\nAirleron={},%d,0\nElevator={},%d,0\nRudder={},%d,0\nThrottle={},%d,0\nUseKeyboard=0\n",
    0,
    1,
    5,
    6);
  sub_40B340((void *)v1);
  if ( *((_DWORD *)v1 + 271) )
    *((_DWORD *)v1 + 72) = -1;
  if ( *((_DWORD *)v1 + 278) )
    *((_DWORD *)v1 + 73) = -1;
  if ( *((_DWORD *)v1 + 285) )
    *((_DWORD *)v1 + 74) = -1;
  if ( *((_DWORD *)v1 + 292) )
    *((_DWORD *)v1 + 75) = -1;
  GetWindowRect(*((HWND *)v1 + 8), (LPRECT)((char *)v1 + 116));
  v2 = (HWND)*((_DWORD *)v1 + 8);
  *((_DWORD *)v1 + 33) = 0;
  SetTimer(v2, 0, 0x19u, 0);
  sub_402CF0((char *)v1 + 304, *(_DWORD *)(*((_DWORD *)v1 + 26) + 32));
  return 1;
}

//----- (0040B590) --------------------------------------------------------
int __thiscall sub_40B590(void *this, int a2, int a3, unsigned int a4, int a5)
{
  int v5; // edx@1
  int v6; // esi@1
  int v7; // ecx@1
  int v8; // ST1C_4@1
  int v9; // eax@1
  int v10; // ecx@1
  int v11; // edx@1
  int v12; // ecx@1
  char *v13; // eax@1
  int v14; // eax@5
  int v15; // eax@10
  int v16; // eax@17
  void *v17; // eax@21
  int v18; // ecx@21
  int v19; // eax@21
  int v20; // eax@21
  int v21; // ecx@21
  int v22; // edi@21
  int v23; // eax@21
  int v24; // ebx@23
  char *v25; // eax@25
  void *v26; // ecx@26
  int v27; // edx@26
  unsigned int v28; // edx@26
  int v29; // ebx@27
  int v30; // ST14_4@27
  int v31; // eax@27
  int v32; // esi@27
  int v33; // ebx@28
  int result; // eax@29
  int v35; // [sp+0h] [bp-54h]@1
  int v36; // [sp+10h] [bp-44h]@1
  void *v37; // [sp+14h] [bp-40h]@21
  unsigned int v38; // [sp+18h] [bp-3Ch]@21
  char *v39; // [sp+1Ch] [bp-38h]@3
  int v40; // [sp+20h] [bp-34h]@21
  int v41; // [sp+24h] [bp-30h]@1
  int v42; // [sp+28h] [bp-2Ch]@1
  int v43; // [sp+2Ch] [bp-28h]@1
  int v44; // [sp+30h] [bp-24h]@1
  int v45; // [sp+34h] [bp-20h]@1
  int v46; // [sp+38h] [bp-1Ch]@1
  int v47; // [sp+3Ch] [bp-18h]@1
  int *v48; // [sp+44h] [bp-10h]@1
  int v49; // [sp+50h] [bp-4h]@1

  v48 = &v35;
  v5 = *(_DWORD *)(a5 + 8);
  v41 = *(_DWORD *)a5;
  v44 = *(_DWORD *)(a5 + 12);
  v6 = (int)this;
  v7 = *(_DWORD *)(a5 + 4);
  v8 = *(_DWORD *)(a5 + 16) - 16;
  v36 = v6;
  v42 = v7;
  v43 = v5;
  v9 = sub_401910(v8);
  v10 = *(_DWORD *)(a5 + 20);
  v11 = *(_DWORD *)(a5 + 24);
  v45 = v9 + 16;
  v46 = v10;
  v47 = v11;
  v12 = *(_DWORD *)(v6 + 4);
  v13 = 0;
  v49 = 0;
  if ( v12 )
    v13 = (char *)((*(_DWORD *)(v6 + 12) - v12) / 28);
  v39 = v13;
  if ( a4 )
  {
    if ( v12 )
      v14 = (*(_DWORD *)(v6 + 8) - v12) / 28;
    else
      v14 = 0;
    if ( 153391689 - v14 < a4 )
      sub_40A8C0();
    if ( v12 )
      v15 = (*(_DWORD *)(v6 + 8) - v12) / 28;
    else
      v15 = 0;
    if ( (unsigned int)v39 >= a4 + v15 )
    {
      v26 = *(void **)(v6 + 8);
      v27 = *(_DWORD *)(v6 + 8) - a3;
      v40 = v27;
      v37 = v26;
      v28 = (signed int)(v27 + ((unsigned __int64)(-1840700269i64 * v27) >> 32)) >> 4;
      if ( v28 + (v28 >> 31) >= a4 )
      {
        v33 = (int)v26 - 28 * a4;
        v38 = 28 * a4;
        *(_DWORD *)(v6 + 8) = sub_40B2E0((int)v26 - 28 * a4, (int)v26, (int)v26);
        sub_40B310(a3, v33, (int)v37);
        sub_4093E0(a3, v38 + a3, (int)&v41);
      }
      else
      {
        v38 = 28 * a4;
        sub_40B2E0(a3, (int)v26, a3 + 28 * a4);
        v29 = a4 - (*(_DWORD *)(v6 + 8) - a3) / 28;
        v30 = *(_DWORD *)(v6 + 8);
        LOBYTE(v49) = 3;
        sub_40AB60(v30, v29, (int)&v41);
        v31 = v38;
        *(_DWORD *)(v6 + 8) += v38;
        v32 = *(_DWORD *)(v6 + 8) - v31;
        v49 = 0;
        sub_4093E0(a3, v32, (int)&v41);
      }
    }
    else
    {
      if ( 153391689 - ((unsigned int)v39 >> 1) >= (unsigned int)v39 )
        v39 += (unsigned int)v39 >> 1;
      else
        v39 = 0;
      if ( v12 )
        v16 = (*(_DWORD *)(v6 + 8) - v12) / 28;
      else
        v16 = 0;
      if ( (unsigned int)v39 < a4 + v16 )
        v39 = (char *)(a4 + sub_408450(v6));
      v17 = sub_4084E0(v39);
      v18 = *(_DWORD *)(v6 + 4);
      LOBYTE(v40) = 0;
      v37 = v17;
      v38 = (unsigned int)v17;
      LOBYTE(v49) = 1;
      v19 = sub_4089C0(v18, a3, (int)v17);
      v38 = v19;
      v20 = sub_40AB60(v19, a4, (int)&v41);
      v21 = *(_DWORD *)(v6 + 8);
      LOBYTE(v40) = 0;
      v38 = v20;
      sub_4089C0(a3, v21, v20);
      v22 = *(_DWORD *)(v6 + 4);
      v23 = 0;
      v49 = 0;
      if ( v22 )
        v23 = (*(_DWORD *)(v6 + 8) - v22) / 28;
      v24 = v23 + a4;
      if ( v22 )
      {
        sub_4093A0(v22, *(_DWORD *)(v6 + 8));
        j__free(*(void **)(v6 + 4));
      }
      v25 = (char *)v37;
      *(_DWORD *)(v6 + 12) = (char *)v37 + 28 * (_DWORD)v39;
      *(_DWORD *)(v6 + 8) = &v25[28 * v24];
      *(_DWORD *)(v6 + 4) = v25;
    }
  }
  result = v45 - 16;
  v49 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v45 - 16 + 12)) <= 0 )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)result + 4))(result);
  return result;
}

//----- (0040B920) --------------------------------------------------------
int __thiscall sub_40B920(void *this, struct CWnd *a2)
{
  int v2; // esi@1
  void *v3; // eax@1
  void *v4; // eax@3
  struct AFX_MODULE_STATE *v5; // eax@5
  HMODULE v6; // ebx@5
  HRSRC v7; // eax@5
  HGLOBAL v8; // ebx@5
  _WORD *v9; // ebp@5

  v2 = (int)this;
  CDialog::CDialog(151, a2);
  *(_DWORD *)v2 = &off_4AC744;
  sub_424A8F(v2 + 148);
  *(_DWORD *)(v2 + 148) = &off_4AC574;
  sub_424A8F(v2 + 168);
  *(_DWORD *)(v2 + 168) = &off_4AC584;
  sub_424A8F(v2 + 188);
  *(_DWORD *)(v2 + 188) = &off_4AC594;
  *(_DWORD *)(v2 + 212) = 0;
  *(_DWORD *)(v2 + 216) = 0;
  *(_DWORD *)(v2 + 220) = 0;
  *(_DWORD *)(v2 + 228) = 0;
  *(_DWORD *)(v2 + 232) = 0;
  *(_DWORD *)(v2 + 236) = 0;
  *(_DWORD *)(v2 + 244) = 0;
  *(_DWORD *)(v2 + 248) = 0;
  *(_DWORD *)(v2 + 252) = 0;
  v3 = sub_41BC2E();
  if ( v3 == 0 )
    sub_401090(-2147467259);
  *(_DWORD *)(v2 + 256) = (*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 12))(v3) + 16;
  *(_DWORD *)(v2 + 268) = 0;
  *(_DWORD *)(v2 + 264) = &off_4AC634;
  sub_405480(v2 + 304, 4);
  'eh vector constructor iterator'((void *)(v2 + 1060), 0x1Cu, 4, sub_408740, sub_403C80);
  v4 = sub_41BC2E();
  if ( v4 == 0 )
    sub_401090(-2147467259);
  *(_DWORD *)(v2 + 1188) = (*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16;
  v5 = AfxGetModuleState();
  v6 = (HMODULE)*((_DWORD *)v5 + 3);
  v7 = FindResourceA(*((HMODULE *)v5 + 3), (LPCSTR)0x97, (LPCSTR)5);
  v8 = LoadResource(v6, v7);
  sub_408650(v2);
  *(_DWORD *)(v2 + 144) = 1;
  *(_DWORD *)(v2 + 260) = 0;
  *(_DWORD *)(v2 + 272) = 0;
  *(_DWORD *)(v2 + 284) = 0;
  *(_DWORD *)(v2 + 276) = 9001;
  *(_DWORD *)(v2 + 280) = 1;
  sub_4057E0(v2 + 304);
  sub_402CF0((void *)(v2 + 304), *(_DWORD *)(*(_DWORD *)(v2 + 104) + 32));
  sub_4058B0(v2 + 304);
  sub_402BE0((void *)(v2 + 304));
  v9 = LockResource(v8);
  if ( sub_402BE0((void *)(v2 + 304)) <= 0 )
    v9[8] = 260;
  else
    v9[8] = 45 * sub_402BE0((void *)(v2 + 304));
  sub_424A5B((CDialog *)v2, v8, a2);
  return v2;
}
// 408740: using guessed type int sub_408740();
// 424134: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 483203: using guessed type _DWORD __stdcall 'eh vector constructor iterator'(void *, unsigned int, _DWORD, _DWORD, void (__thiscall *)(void *));
// 4AC574: using guessed type int (*off_4AC574)();
// 4AC584: using guessed type int (*off_4AC584)();
// 4AC594: using guessed type int (*off_4AC594)();
// 4AC634: using guessed type int (*off_4AC634)();
// 4AC744: using guessed type int (*off_4AC744)();

//----- (0040BB50) --------------------------------------------------------
int __thiscall sub_40BB50(void *this)
{
  int v1; // esi@1
  int v2; // ecx@1
  int v3; // ecx@3
  int v4; // ecx@5
  int v5; // eax@7
  int v6; // eax@9
  int v7; // eax@11

  v1 = (int)this;
  *(_DWORD *)this = &off_4AC744;
  sub_408550((int)this);
  v2 = *(_DWORD *)(v1 + 260);
  if ( v2 )
    (*(void (__stdcall **)(signed int))(*(_DWORD *)v2 + 4))(1);
  v3 = *(_DWORD *)(v1 + 272);
  if ( v3 )
    (*(void (__stdcall **)(signed int))(*(_DWORD *)v3 + 4))(1);
  v4 = *(_DWORD *)(v1 + 284);
  if ( v4 )
    (*(void (__stdcall **)(signed int))(*(_DWORD *)v4 + 4))(1);
  v5 = *(_DWORD *)(v1 + 1188) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v5 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v5 + 4))(v5);
  'eh vector destructor iterator'((void *)(v1 + 1060), 0x1Cu, 4, sub_403C80);
  sub_4049C0((void *)(v1 + 304));
  *(_DWORD *)(v1 + 264) = &off_4AC634;
  sub_408820((CGdiObject *)(v1 + 264));
  v6 = *(_DWORD *)(v1 + 256) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v6 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v6 + 4))(v6);
  v7 = *(_DWORD *)(v1 + 244);
  if ( v7 )
  {
    sub_4093A0(v7, *(_DWORD *)(v1 + 248));
    j__free(*(void **)(v1 + 244));
  }
  *(_DWORD *)(v1 + 244) = 0;
  *(_DWORD *)(v1 + 248) = 0;
  *(_DWORD *)(v1 + 252) = 0;
  if ( *(_DWORD *)(v1 + 228) )
    j__free(*(void **)(v1 + 228));
  *(_DWORD *)(v1 + 228) = 0;
  *(_DWORD *)(v1 + 232) = 0;
  *(_DWORD *)(v1 + 236) = 0;
  if ( *(_DWORD *)(v1 + 212) )
    j__free(*(void **)(v1 + 212));
  *(_DWORD *)(v1 + 212) = 0;
  *(_DWORD *)(v1 + 216) = 0;
  *(_DWORD *)(v1 + 220) = 0;
  sub_424AA6(v1 + 188);
  sub_424AA6(v1 + 168);
  sub_424AA6(v1 + 148);
  return sub_4240A9(v1);
}
// 4AC634: using guessed type int (*off_4AC634)();
// 4AC744: using guessed type int (*off_4AC744)();

//----- (0040BD30) --------------------------------------------------------
int __thiscall sub_40BD30(int this, int a2, int a3, int a4, int a5)
{
  int v5; // esi@1
  unsigned int v6; // edi@1
  unsigned int v7; // ebx@2
  signed int v8; // ecx@2
  int v9; // ebx@3
  int v10; // edi@3
  unsigned int v11; // edx@9
  int v12; // ecx@10
  unsigned int v13; // ebx@10
  unsigned int v14; // edi@12
  int result; // eax@15

  v5 = this;
  v6 = *(_DWORD *)(this + 4);
  if ( v6 && (v7 = *(_DWORD *)(this + 8), v8 = *(_DWORD *)(this + 8) - v6, v8 / 28) )
  {
    if ( v6 > v7 )
      _invalid_parameter_noinfo(v8);
    v9 = a3;
    if ( !a3 || a3 != v5 )
      _invalid_parameter_noinfo(v8);
    v11 = (signed int)(a4 - v6 + ((unsigned __int64)(-1840700269i64 * (signed int)(a4 - v6)) >> 32)) >> 4;
    v10 = v11 + (v11 >> 31);
  }
  else
  {
    v9 = a3;
    v10 = 0;
  }
  sub_40B590((void *)v5, v9, a4, 1u, a5);
  v13 = *(_DWORD *)(v5 + 4);
  if ( v13 > *(_DWORD *)(v5 + 8) )
    _invalid_parameter_noinfo(v12);
  v14 = v13 + 28 * v10;
  if ( v14 > *(_DWORD *)(v5 + 8) || v14 < *(_DWORD *)(v5 + 4) )
    _invalid_parameter_noinfo(v12);
  result = a2;
  *(_DWORD *)(a2 + 4) = v14;
  *(_DWORD *)a2 = v5;
  return result;
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (0040BDF0) --------------------------------------------------------
void *__thiscall sub_40BDF0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_40BB50(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0040BE10) --------------------------------------------------------
void __fastcall sub_40BE10(signed int a1, int a2, int a3)
{
  int v3; // esi@1
  unsigned int v4; // ebx@1
  unsigned int v5; // edi@2
  unsigned int v6; // edx@3
  int v7; // edi@6
  unsigned int v8; // edi@7
  int v9; // [sp+Ch] [bp-8h]@6

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 4);
  if ( v4 )
  {
    a1 = *(_DWORD *)(a1 + 8) - v4;
    v6 = (signed int)(a1 + ((unsigned __int64)(-1840700269i64 * a1) >> 32)) >> 4;
    v5 = v6 + (v6 >> 31);
  }
  else
  {
    v5 = 0;
  }
  if ( v4 && (a1 = *(_DWORD *)(v3 + 12) - v4, v5 < a1 / 28) )
  {
    v7 = *(_DWORD *)(v3 + 8);
    LOBYTE(v9) = 0;
    sub_4092D0(v7, 1, a3);
    *(_DWORD *)(v3 + 8) = v7 + 28;
  }
  else
  {
    v8 = *(_DWORD *)(v3 + 8);
    if ( v4 > v8 )
      _invalid_parameter_noinfo(a1);
    sub_40BD30(v3, (int)&v9, v3, v8, a3);
  }
}
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);

//----- (0040BEC0) --------------------------------------------------------
int __thiscall sub_40BEC0(void *this)
{
  void *v1; // esi@1
  void *v2; // eax@1
  HFONT v3; // eax@3
  int v4; // edi@3
  int v5; // ebx@4
  _DWORD *v6; // eax@6
  _DWORD *v7; // ebx@6
  _DWORD *v8; // eax@9
  _DWORD *v9; // ebx@9
  _DWORD *v10; // eax@12
  _DWORD *v11; // ebx@12
  int v12; // ebx@18
  void (__stdcall *v13)(signed int, struct tagRECT *, void *, int); // edx@18
  WPARAM v14; // eax@18
  WPARAM v15; // eax@20
  unsigned int v16; // ecx@22
  unsigned int v17; // eax@22
  unsigned int v18; // edx@23
  int *v19; // eax@27
  void *v20; // ebx@28
  unsigned int v21; // eax@31
  unsigned int v22; // edx@32
  int *v23; // eax@36
  void *v24; // ecx@37
  void **v25; // eax@40
  void *v26; // ecx@40
  char *v27; // eax@40
  int v28; // ebx@40
  int v29; // eax@47
  volatile signed __int32 *v30; // edx@47
  int v31; // ebx@52
  int v32; // ebx@56
  _DWORD *v33; // eax@66
  _DWORD *v34; // ebx@66
  _DWORD *v35; // ecx@67
  void (__stdcall *v36)(const char *, signed int, struct tagRECT *, void *, signed int); // edx@70
  _DWORD *v37; // eax@70
  _DWORD *v38; // ebx@70
  _DWORD *v39; // ecx@71
  void (__stdcall *v40)(signed int, struct tagRECT *, void *, signed int); // eax@73
  _DWORD *v41; // eax@73
  _DWORD *v42; // ebx@73
  _DWORD *v43; // ecx@74
  int v44; // ST44_4@76
  void (__stdcall *v45)(const char *, signed int, struct tagRECT *, void *, int); // edx@76
  int v46; // eax@76
  int result; // eax@79
  int v48; // [sp+5Ch] [bp-C8h]@6
  int v49; // [sp+60h] [bp-C4h]@3
  int i; // [sp+64h] [bp-C0h]@3
  int xRight; // [sp+68h] [bp-BCh]@3
  int v52; // [sp+6Ch] [bp-B8h]@4
  _DWORD *v53; // [sp+70h] [bp-B4h]@10
  _DWORD *v54; // [sp+74h] [bp-B0h]@7
  int v55; // [sp+78h] [bp-ACh]@3
  int v56[2]; // [sp+7Ch] [bp-A8h]@3
  struct tagRECT v57; // [sp+84h] [bp-A0h]@3
  struct tagRECT v58; // [sp+94h] [bp-90h]@3
  struct tagRECT rc; // [sp+A4h] [bp-80h]@3
  int v60; // [sp+B4h] [bp-70h]@30
  struct tagRECT v61; // [sp+BCh] [bp-68h]@3
  char ArgList; // [sp+CCh] [bp-58h]@39
  struct tagRECT v63; // [sp+D4h] [bp-50h]@3
  struct tagRECT v64; // [sp+E4h] [bp-40h]@3
  int v65; // [sp+F4h] [bp-30h]@40
  int v66; // [sp+F8h] [bp-2Ch]@40
  int v67; // [sp+FCh] [bp-28h]@40
  int v68; // [sp+100h] [bp-24h]@40
  int v69; // [sp+104h] [bp-20h]@3
  int v70; // [sp+108h] [bp-1Ch]@40
  int v71; // [sp+10Ch] [bp-18h]@40
  int v72; // [sp+120h] [bp-4h]@3

  v1 = this;
  v2 = sub_41BC2E();
  if ( !v2 )
    sub_401090(-2147467259);
  v69 = (*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16;
  v72 = 0;
  v3 = CreateFontA(14, 0, 0, 0, 400, 0, 0, 0, 1u, 0, 0, 2u, 0, pszFaceName);
  CGdiObject::Attach((CGdiObject *)((char *)v1 + 264), v3);
  v49 = *((_DWORD *)v1 + 31) - *((_DWORD *)v1 + 29);
  *(double *)v56 = (double)v49;
  xRight = (signed int)(0.95 * *(double *)v56);
  v4 = (signed int)(*(double *)v56 * 0.05);
  SetRect(&rc, v4, 10, xRight, 30);
  SetRect(&v58, v4, 35, (signed int)(*(double *)v56 * 0.45), 140);
  SetRect(&v57, (signed int)(*(double *)v56 * 0.55), 38, xRight, 53);
  SetRect(&v64, v4, 10, xRight, 150);
  SetRect(&v63, v4, 90, v49, 105);
  SetRect(&v61, v4, 110, v49, 250);
  v55 = sub_402BF0((char *)v1 + 304);
  for ( i = 0; i < v55; ++i )
  {
    v5 = 0;
    v52 = 0;
    do
    {
      if ( sub_403050((int)v1 + 304, i, v5) )
      {
        v6 = operator new(0x54u);
        v7 = v6;
        v48 = (int)v6;
        LOBYTE(v72) = 1;
        if ( v6 )
        {
          CWnd::CWnd(v6);
          *v7 = &off_4AC434;
          v54 = v7;
        }
        else
        {
          v54 = 0;
        }
        LOBYTE(v72) = 0;
        v8 = operator new(0x54u);
        v9 = v8;
        v48 = (int)v8;
        LOBYTE(v72) = 2;
        if ( v8 )
        {
          CWnd::CWnd(v8);
          *v9 = &off_4AC2E4;
          v53 = v9;
        }
        else
        {
          v53 = 0;
        }
        LOBYTE(v72) = 0;
        v10 = operator new(0x54u);
        v11 = v10;
        v48 = (int)v10;
        LOBYTE(v72) = 3;
        if ( v10 )
        {
          CWnd::CWnd(v10);
          *v11 = &off_4AC04C;
          v49 = (int)v11;
        }
        else
        {
          v49 = 0;
        }
        LOBYTE(v72) = 0;
        if ( i || v52 )
        {
          OffsetRect(&rc, 0, 70);
          OffsetRect(&v58, 0, 70);
          OffsetRect(&v57, 0, 70);
        }
        v12 = v52 + 100 * (i + 60);
        xRight = v52 + 100 * (i + 30);
        v13 = *(void (__stdcall **)(signed int, struct tagRECT *, void *, int))(*v54 + 308);
        v48 = v52 + 100 * (i + 60);
        v13(1342177281, &rc, v1, v52 + 100 * (i + 90));
        (*(void (__stdcall **)(signed int, struct tagRECT *, void *, int))(*v53 + 308))(1344339971, &v58, v1, v12);
        v14 = (WPARAM)v1 + 264;
        if ( v1 != (void *)-264 )
          v14 = *((_DWORD *)v1 + 67);
        SendMessageA((HWND)v53[8], 0x30u, v14, 1);
        (*(void (__stdcall **)(const char *, signed int, struct tagRECT *, void *, int))(*(_DWORD *)v49 + 308))(
          "Invert",
          268500995,
          &v57,
          v1,
          xRight);
        v15 = (WPARAM)v1 + 264;
        if ( v1 != (void *)-264 )
          v15 = *((_DWORD *)v1 + 67);
        SendMessageA(*(HWND *)(v49 + 32), 0x30u, v15, 1);
        sub_430548((int)v1 + 148, *((_DWORD *)v1 + 39), (int)v54);
        sub_430548((int)v1 + 168, *((_DWORD *)v1 + 44), (int)v53);
        v17 = *((_DWORD *)v1 + 53);
        if ( v17 )
          v18 = (signed int)(*((_DWORD *)v1 + 54) - v17) >> 2;
        else
          v18 = 0;
        if ( v17 && (v16 = (signed int)(*((_DWORD *)v1 + 55) - v17) >> 2, v18 < v16) )
        {
          v19 = (int *)*((_DWORD *)v1 + 54);
          *v19 = v12;
          *((_DWORD *)v1 + 54) = v19 + 1;
        }
        else
        {
          v20 = (void *)*((_DWORD *)v1 + 54);
          if ( v17 > (unsigned int)v20 )
            _invalid_parameter_noinfo(v16);
          sub_40B250((int)v1 + 208, (int)&v60, (int)v1 + 208, v20, (int)&v48);
        }
        sub_430548((int)v1 + 188, *((_DWORD *)v1 + 49), v49);
        v21 = *((_DWORD *)v1 + 57);
        if ( v21 )
          v22 = (signed int)(*((_DWORD *)v1 + 58) - v21) >> 2;
        else
          v22 = 0;
        if ( v21 && v22 < (signed int)(*((_DWORD *)v1 + 59) - v21) >> 2 )
        {
          v23 = (int *)*((_DWORD *)v1 + 58);
          *v23 = xRight;
          *((_DWORD *)v1 + 58) = v23 + 1;
        }
        else
        {
          v48 = *((_DWORD *)v1 + 58);
          v24 = (void *)v48;
          if ( v21 > v48 )
          {
            _invalid_parameter_noinfo(v48);
            v24 = (void *)v48;
          }
          sub_40B250((int)v1 + 224, (int)&ArgList, (int)v1 + 224, v24, (int)&xRight);
        }
        sub_4031C0((int)v1 + 304, (int)&v65, i);
        v70 = v52;
        v71 = 0;
        sub_404190((char *)v1 + 304, (int)v56, v65, v66, v67, v68);
        v26 = *v25;
        v27 = (char *)*v25 - 16;
        v28 = v69 - 16;
        LOBYTE(v72) = 4;
        if ( v27 != (char *)(v69 - 16) )
        {
          if ( *(_DWORD *)(v28 + 12) < 0 || *(_DWORD *)v27 != *(_DWORD *)v28 )
          {
            sub_401C40(&v69, v26, *((_DWORD *)v26 - 3));
          }
          else
          {
            v48 = sub_401910((int)v27);
            if ( _InterlockedDecrement((volatile signed __int32 *)(v28 + 12)) <= 0 )
              (*(void (__stdcall **)(int))(**(_DWORD **)v28 + 4))(v28);
            v69 = v48 + 16;
          }
        }
        v29 = v56[0] - 16;
        LOBYTE(v72) = 0;
        v30 = (volatile signed __int32 *)(v56[0] - 16 + 12);
        if ( _InterlockedDecrement(v30) <= 0 )
          (*(void (__stdcall **)(int))(**(_DWORD **)v29 + 4))(v29);
        sub_40BE10((signed int)v1 + 240, (int)v30, (int)&v65);
        v5 = v52;
      }
      v52 = ++v5;
    }
    while ( v5 < 8 );
  }
  v31 = 0;
  if ( *((_DWORD *)v1 + 39) > 0 )
  {
    while ( v31 >= 0 && v31 < *((_DWORD *)v1 + 39) )
    {
      SendMessageA(*(HWND *)(*(_DWORD *)(*((_DWORD *)v1 + 38) + 4 * v31++) + 32), 0x406u, 0, 20000);
      if ( v31 >= *((_DWORD *)v1 + 39) )
        goto LABEL_56;
    }
LABEL_68:
    unknown_libname_36();
  }
LABEL_56:
  v32 = 0;
  if ( *((_DWORD *)v1 + 44) > 0 )
  {
    while ( v32 >= 0 )
    {
      if ( v32 >= *((_DWORD *)v1 + 44) )
        break;
      SendMessageA(*(HWND *)(*(_DWORD *)(4 * v32 + *((_DWORD *)v1 + 43)) + 32), 0x143u, 0, (LPARAM)"None");
      if ( v32 >= *((_DWORD *)v1 + 44) )
        break;
      SendMessageA(*(HWND *)(*(_DWORD *)(4 * v32 + *((_DWORD *)v1 + 43)) + 32), 0x143u, 0, (LPARAM)"Airleron");
      if ( v32 >= *((_DWORD *)v1 + 44) )
        break;
      SendMessageA(*(HWND *)(*(_DWORD *)(4 * v32 + *((_DWORD *)v1 + 43)) + 32), 0x143u, 0, (LPARAM)"Elevator");
      if ( v32 >= *((_DWORD *)v1 + 44) )
        break;
      SendMessageA(*(HWND *)(*(_DWORD *)(4 * v32 + *((_DWORD *)v1 + 43)) + 32), 0x143u, 0, (LPARAM)"Rudder");
      if ( v32 >= *((_DWORD *)v1 + 44) )
        break;
      SendMessageA(*(HWND *)(*(_DWORD *)(4 * v32 + *((_DWORD *)v1 + 43)) + 32), 0x143u, 0, (LPARAM)"Throttle");
      if ( v32 >= *((_DWORD *)v1 + 44) )
        break;
      SendMessageA(*(HWND *)(*(_DWORD *)(4 * v32++ + *((_DWORD *)v1 + 43)) + 32), 0x14Eu, 0, 0);
      if ( v32 >= *((_DWORD *)v1 + 44) )
        goto LABEL_65;
    }
    goto LABEL_68;
  }
LABEL_65:
  if ( !v55 )
  {
    v33 = operator new(0x54u);
    v34 = v33;
    v48 = (int)v33;
    LOBYTE(v72) = 5;
    if ( v33 )
    {
      CWnd::CWnd(v33);
      *v34 = &off_4ABF0C;
      v35 = v34;
    }
    else
    {
      v35 = 0;
    }
    *((_DWORD *)v1 + 65) = v35;
    v36 = *(void (__stdcall **)(const char *, signed int, struct tagRECT *, void *, signed int))(*v35 + 308);
    LOBYTE(v72) = 0;
    v36("No joysticks were found attached to the system", 1342177281, &v64, v1, 9000);
    v37 = operator new(0x54u);
    v38 = v37;
    v48 = (int)v37;
    LOBYTE(v72) = 6;
    if ( v37 )
    {
      CWnd::CWnd(v37);
      *v38 = &off_4AC18C;
      v39 = v38;
    }
    else
    {
      v39 = 0;
    }
    *((_DWORD *)v1 + 71) = v39;
    v40 = *(void (__stdcall **)(signed int, struct tagRECT *, void *, signed int))(*v39 + 308);
    LOBYTE(v72) = 0;
    v40(1073742336, &v61, v1, 9003);
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-J");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-L");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-K");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-I");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-U");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-O");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-Up");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"CTRL-Down");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Airleron Left");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Airleron Right");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Elevator Up");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Elevator Down");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Rudder Left");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Rudder Right");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Throttle Up");
    SendMessageA(*(HWND *)(*((_DWORD *)v1 + 71) + 32), 0x180u, 0, (LPARAM)"Throttle Down");
    v41 = operator new(0x54u);
    v42 = v41;
    v48 = (int)v41;
    LOBYTE(v72) = 7;
    if ( v41 )
    {
      CWnd::CWnd(v41);
      *v42 = &off_4AC04C;
      v43 = v42;
    }
    else
    {
      v43 = 0;
    }
    v44 = *((_DWORD *)v1 + 69);
    *((_DWORD *)v1 + 68) = v43;
    v45 = *(void (__stdcall **)(const char *, signed int, struct tagRECT *, void *, int))(*v43 + 308);
    LOBYTE(v72) = 0;
    v45("Use Keyboard For Joystick?", 268500995, &v63, v1, v44);
    v46 = *((_DWORD *)v1 + 68);
    if ( *((_DWORD *)v1 + 70) )
    {
      SendMessageA(*(HWND *)(v46 + 32), 0xF1u, 1u, 0);
      CWnd::ShowWindow(*((CWnd **)v1 + 71), 5);
    }
    else
    {
      SendMessageA(*(HWND *)(v46 + 32), 0xF1u, 0, 0);
      CWnd::ShowWindow(*((CWnd **)v1 + 71), 0);
    }
  }
  result = v69 - 16;
  v72 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v69 - 16 + 12)) <= 0 )
    result = (*(int (__stdcall **)(int))(**(_DWORD **)result + 4))(result);
  return result;
}
// 41D438: using guessed type int __thiscall CWnd::CWnd(_DWORD);
// 481ED8: using guessed type int __thiscall _invalid_parameter_noinfo(_DWORD);
// 4ABF0C: using guessed type int (*off_4ABF0C)();
// 4AC04C: using guessed type int (*off_4AC04C)();
// 4AC18C: using guessed type int (*off_4AC18C)();
// 4AC2E4: using guessed type int (*off_4AC2E4)();
// 4AC434: using guessed type int (*off_4AC434)();

//----- (0040CA60) --------------------------------------------------------
int (**sub_40CA60())()
{
  return &off_4ACA14;
}
// 4ACA14: using guessed type int (*off_4ACA14)();

//----- (0040CA80) --------------------------------------------------------
void __thiscall sub_40CA80(int this, HWND hWnd)
{
  int v2; // esi@1
  unsigned int v3; // ebp@2
  unsigned int v4; // ebp@4
  unsigned int v5; // ebp@6
  unsigned int v6; // ebp@8
  int v7; // ebp@10
  LRESULT v8; // eax@11
  LRESULT v9; // eax@11
  LRESULT v10; // eax@11
  char *v11; // ebp@12
  int v12; // [sp+10h] [bp-878h]@10
  char v13; // [sp+14h] [bp-874h]@10
  LPARAM lParam; // [sp+7BCh] [bp-CCh]@13

  v2 = this;
  if ( *(_BYTE *)(this + 468) )
  {
    *(_BYTE *)(this + 468) = 0;
    DDX_Control((struct CDataExchange *)hWnd, (HWND)0x405, (HWND)(this + 132));
    DDX_Control((struct CDataExchange *)hWnd, (HWND)0x406, (HWND)(v2 + 216));
    DDX_Control((struct CDataExchange *)hWnd, (HWND)0x407, (HWND)(v2 + 300));
    DDX_Control((struct CDataExchange *)hWnd, (HWND)0x42B, (HWND)(v2 + 384));
    v3 = 0;
    do
    {
      SendMessageA(*(HWND *)(v2 + 164), 0x143u, 0, (LPARAM)off_5283B0[v3]);
      ++v3;
    }
    while ( v3 < 9 );
    v4 = 0;
    do
    {
      SendMessageA(*(HWND *)(v2 + 248), 0x143u, 0, (LPARAM)off_528394[v4]);
      ++v4;
    }
    while ( v4 < 7 );
    v5 = 0;
    do
    {
      SendMessageA(*(HWND *)(v2 + 332), 0x143u, 0, (LPARAM)off_52837C[v5]);
      ++v5;
    }
    while ( v5 < 6 );
    v6 = 0;
    do
    {
      SendMessageA(*(HWND *)(v2 + 416), 0x143u, 0, (LPARAM)off_528364[v6]);
      ++v6;
    }
    while ( v6 < 6 );
    v7 = sub_4067C0(&v13, 10);
    v12 = v7;
    if ( v7 > 0 )
    {
      SendMessageA(*(HWND *)(v2 + 164), 0x160u, 0x28Au, 0);
      v8 = SendMessageA(*(HWND *)(v2 + 164), 0x15Fu, 0, 0);
      SendMessageA(*(HWND *)(v2 + 248), 0x160u, v8, 0);
      v9 = SendMessageA(*(HWND *)(v2 + 164), 0x15Fu, 0, 0);
      SendMessageA(*(HWND *)(v2 + 332), 0x160u, v9, 0);
      v10 = SendMessageA(*(HWND *)(v2 + 164), 0x15Fu, 0, 0);
      SendMessageA(*(HWND *)(v2 + 416), 0x160u, v10, 0);
      if ( v7 > 0 )
      {
        v11 = &v13;
        do
        {
          sub_477B00((char *)&lParam, 0xC8u, "pkap:%s:%s:%s", v11 + 180, v11, v11 + 90);
          SendMessageA(*(HWND *)(v2 + 164), 0x143u, 0, (LPARAM)&lParam);
          SendMessageA(*(HWND *)(v2 + 248), 0x143u, 0, (LPARAM)&lParam);
          SendMessageA(*(HWND *)(v2 + 332), 0x143u, 0, (LPARAM)&lParam);
          SendMessageA(*(HWND *)(v2 + 416), 0x143u, 0, (LPARAM)&lParam);
          v11 += 196;
          --v12;
        }
        while ( v12 );
      }
    }
  }
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3EE, (HWND)(v2 + 472));
  sub_425E8F((CDataExchange *)hWnd, 1012, v2 + 556);
  sub_425E8F((CDataExchange *)hWnd, 1017, v2 + 560);
  sub_425E8F((CDataExchange *)hWnd, 1019, v2 + 564);
  DDX_Check(hWnd, 1018, (int *)(v2 + 568));
  DDX_Check(hWnd, 1023, (int *)(v2 + 572));
  DDX_Check(hWnd, 1037, (int *)(v2 + 576));
  DDX_Check(hWnd, 1045, (int *)(v2 + 584));
  DDX_Check(hWnd, 1038, (int *)(v2 + 588));
  DDX_Check(hWnd, 1036, (int *)(v2 + 592));
  DDX_Check(hWnd, 1047, (int *)(v2 + 596));
  DDX_Check(hWnd, 1048, (int *)(v2 + 600));
  DDX_Check(hWnd, 1049, (int *)(v2 + 604));
  DDX_Check(hWnd, 1033, (int *)(v2 + 608));
  DDX_Check(hWnd, 1034, (int *)(v2 + 612));
  DDX_Check(hWnd, 1035, (int *)(v2 + 616));
  DDX_Check(hWnd, 1035, (int *)(v2 + 620));
  DDV_MaxChars((CDataExchange *)hWnd, v2 + 624, 0xC8u);
  DDV_MaxChars((CDataExchange *)hWnd, v2 + 628, 0xC8u);
  DDV_MaxChars((CDataExchange *)hWnd, v2 + 632, 0xC8u);
  DDV_MaxChars((CDataExchange *)hWnd, v2 + 636, 0xC8u);
  DDX_CBString(hWnd, 1001, v2 + 640);
  DDX_CBString(hWnd, 1002, v2 + 644);
  DDX_CBString(hWnd, 1029, v2 + 624);
  DDX_CBString(hWnd, 1030, v2 + 628);
  DDX_CBString(hWnd, 1031, v2 + 632);
  DDX_CBString(hWnd, 1067, v2 + 636);
  DDX_CBString(hWnd, 1046, v2 + 664);
  sub_425E8F((CDataExchange *)hWnd, 1007, v2 + 120);
  sub_425E8F((CDataExchange *)hWnd, 1021, v2 + 128);
  DDX_Check(hWnd, 1039, (int *)(v2 + 668));
  DDX_Check(hWnd, 1040, (int *)(v2 + 672));
  DDX_Check(hWnd, 1041, (int *)(v2 + 676));
  DDX_Check(hWnd, 1042, (int *)(v2 + 680));
  DDX_Check(hWnd, 1043, (int *)(v2 + 684));
  DDX_Check(hWnd, 1044, (int *)(v2 + 688));
  DDX_Check(hWnd, 1068, (int *)(v2 + 692));
  DDX_Check(hWnd, 1144, (int *)(v2 + 580));
  DDX_Check(hWnd, 1065, (int *)(v2 + 700));
}
// 528364: using guessed type char *off_528364[4];
// 52837C: using guessed type char *off_52837C[4];
// 528394: using guessed type char *off_528394[5];
// 5283B0: using guessed type char *off_5283B0[5];

//----- (0040CFD0) --------------------------------------------------------
signed int __stdcall sub_40CFD0(char *a1)
{
  int v1; // eax@1
  char v2; // cl@2
  char *v3; // edi@3
  char v4; // al@4
  unsigned int v5; // eax@5
  char *v6; // edi@5
  char v7; // cl@6
  char *v8; // edi@7
  char v9; // al@8
  char v10; // al@9
  bool v11; // zf@9
  unsigned int v12; // eax@11
  char *v13; // edi@11
  char v14; // cl@12
  char *v15; // edi@13
  char v16; // al@14
  unsigned int v17; // eax@18
  char *v18; // edi@18
  char v19; // cl@19
  int v20; // edi@21
  char *v21; // esi@22
  signed int result; // eax@25
  int v23; // [sp+14h] [bp-A9Ch]@1
  char v24; // [sp+18h] [bp-A98h]@1
  char v25; // [sp+7C0h] [bp-2F0h]@1
  int v26; // [sp+7C1h] [bp-2EFh]@1
  int v27; // [sp+7C5h] [bp-2EBh]@1
  char v28; // [sp+7C9h] [bp-2E7h]@1
  char v29; // [sp+7CCh] [bp-2E4h]@1
  int v30; // [sp+7CDh] [bp-2E3h]@1
  int v31; // [sp+7D1h] [bp-2DFh]@1
  char v32; // [sp+7D5h] [bp-2DBh]@1
  char v33; // [sp+7D8h] [bp-2D8h]@1
  int v34; // [sp+7D9h] [bp-2D7h]@1
  int v35; // [sp+7DDh] [bp-2D3h]@1
  char v36; // [sp+7E1h] [bp-2CFh]@1
  char v37; // [sp+7E4h] [bp-2CCh]@1
  int v38; // [sp+7E5h] [bp-2CBh]@1
  int v39; // [sp+7E9h] [bp-2C7h]@1
  char v40; // [sp+7EDh] [bp-2C3h]@1
  char v41; // [sp+7EFh] [bp-2C1h]@3
  char v42[500]; // [sp+7F0h] [bp-2C0h]@2
  char v43; // [sp+9E4h] [bp-CCh]@23

  v34 = 0;
  v35 = 0;
  v36 = 0;
  v38 = 0;
  v39 = 0;
  v40 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0;
  v30 = 0;
  v31 = 0;
  v32 = 0;
  v33 = 0;
  v37 = 0;
  v25 = 0;
  v29 = 0;
  v23 = sub_4067C0(&v24, 10);
  sub_483593((int)a1, (int)"%[^'.'].%[^'.'].%[^'.'].%[^'.']", (unsigned int)&v33);
  v1 = 0;
  do
  {
    v2 = *(&v33 + v1);
    v42[v1++] = v2;
  }
  while ( v2 );
  v3 = &v41;
  do
    v4 = (v3++)[1];
  while ( v4 );
  *(_WORD *)v3 = *(_WORD *)".";
  v5 = strlen(&v37) + 1;
  v6 = &v41;
  do
    v7 = (v6++)[1];
  while ( v7 );
  qmemcpy(v6, &v37, v5);
  v8 = &v41;
  do
    v9 = (v8++)[1];
  while ( v9 );
  v10 = v25;
  v11 = v25 == 88;
  *(_WORD *)v8 = *(_WORD *)".";
  if ( !v11 && v10 != 120 )
  {
    v12 = strlen(&v25) + 1;
    v13 = &v41;
    do
      v14 = (v13++)[1];
    while ( v14 );
    qmemcpy(v13, &v25, v12);
    v15 = &v41;
    do
      v16 = (v15++)[1];
    while ( v16 );
    *(_WORD *)v15 = *(_WORD *)".";
  }
  if ( v29 != 88 && v29 != 120 )
  {
    v17 = strlen(&v29) + 1;
    v18 = &v41;
    do
      v19 = (v18++)[1];
    while ( v19 );
    qmemcpy(v18, &v29, v17);
  }
  v20 = 0;
  if ( v23 <= 0 )
  {
LABEL_25:
    result = 0;
  }
  else
  {
    v21 = &v24;
    while ( 1 )
    {
      sub_477B00(&v43, 0xC8u, "pkap:%s:%s:%s", v21 + 180, v21, v21 + 90);
      if ( strstr(&v43, v42) )
        break;
      ++v20;
      v21 += 196;
      if ( v20 >= v23 )
        goto LABEL_25;
    }
    strncpy(a1, &v43, 0xC8u);
    result = 1;
  }
  return result;
}
// 40CFD0: using guessed type char var_2C0[500];

//----- (0040D290) --------------------------------------------------------
int __thiscall sub_40D290(void *this)
{
  void *v1; // esi@1
  struct AFX_MODULE_STATE *v2; // eax@1
  CWinApp *v3; // edi@1

  v1 = this;
  v2 = AfxGetModuleState();
  v3 = (CWinApp *)*((_DWORD *)v2 + 1);
  CWinApp::WriteProfileInt(*((CWinApp **)v2 + 1), *((LPCSTR *)v1 + 315), "UnitIdx", *((_DWORD *)v1 + 29));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "NonvolBasePath", *((const char **)v1 + 30));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "Nonvol Path", *((const char **)v1 + 31));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "SimulationDataPath", *((const char **)v1 + 32));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "DatacardPathName", *((const char **)v1 + 139));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "DatacardPathName2", *((const char **)v1 + 140));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "WinfsMountPathName", *((const char **)v1 + 141));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "port1", *((const char **)v1 + 160));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "port2", *((const char **)v1 + 161));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "ethrport1", *((const char **)v1 + 156));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "ethrport2", *((const char **)v1 + 157));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "ehtrport3", *((const char **)v1 + 158));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "ehtrport4", *((const char **)v1 + 159));
  CWinApp::WriteProfileStringA(v3, *((LPCSTR *)v1 + 315), "CDUType", *((const char **)v1 + 166));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "EnblEthrPort1Logging", *((_DWORD *)v1 + 152));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "EnblEthrPort2Logging", *((_DWORD *)v1 + 153));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "EnblEthrPort3Logging", *((_DWORD *)v1 + 154));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "EnblEthrPort4Logging", *((_DWORD *)v1 + 155));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "DatacardIn", *((_DWORD *)v1 + 142));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "DatacardIn2", *((_DWORD *)v1 + 143));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "DemoMode", *((_DWORD *)v1 + 144));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "ReversionaryMode1", *((_DWORD *)v1 + 146));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "ReversionaryMode2", *((_DWORD *)v1 + 147));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "TestMode", *((_DWORD *)v1 + 148));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "ConfigModule", *((_DWORD *)v1 + 149));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "ConfigProtect", *((_DWORD *)v1 + 150));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "SpareInput", *((_DWORD *)v1 + 151));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "Sys_ID_1", *((_DWORD *)v1 + 167));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "Sys_ID_2", *((_DWORD *)v1 + 168));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "Sys_ID_3", *((_DWORD *)v1 + 169));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "SwapPorts1", *((_DWORD *)v1 + 170));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "SwapPorts2", *((_DWORD *)v1 + 171));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "SwapPorts3", *((_DWORD *)v1 + 172));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "SwapPorts4", *((_DWORD *)v1 + 173));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "profileDsblPcapHSDB", *((_DWORD *)v1 + 145));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "ADBCycle", *((_DWORD *)v1 + 175));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "WindowPosX", *((_DWORD *)v1 + 176));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "WindowPosY", *((_DWORD *)v1 + 177));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "WindowWidth", *((_DWORD *)v1 + 178));
  CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "WindowHeight", *((_DWORD *)v1 + 179));
  return CWinApp::WriteProfileInt(v3, *((LPCSTR *)v1 + 315), "Enable Sound", *((_DWORD *)v1 + 180));
}

//----- (0040D6C0) --------------------------------------------------------
int __thiscall sub_40D6C0(void *this)
{
  int v1; // ecx@1
  int result; // eax@2
  void *v3; // eax@3

  v1 = *(_DWORD *)(*(_DWORD *)this - 16);
  if ( !v1 || (result = (*(int (**)(void))(*(_DWORD *)v1 + 16))()) == 0 )
  {
    v3 = sub_41BC2E();
    result = (*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 16))(v3);
  }
  return result;
}

//----- (0040D6F0) --------------------------------------------------------
int __thiscall sub_40D6F0(const unsigned __int8 **this, unsigned __int8 *a2)
{
  if ( !a2 )
    sub_401090(-2147467259);
  return _mbscmp(*this, a2);
}

//----- (0040D720) --------------------------------------------------------
void __thiscall sub_40D720(CDialog *this)
{
  CDialog *v1; // esi@1

  v1 = this;
  CWnd::UpdateData(this, 1);
  sub_40D290((void *)v1);
  CDialog::OnOK(v1);
}

//----- (0040D740) --------------------------------------------------------
void *__thiscall sub_40D740(void *this, int a2)
{
  void *v2; // esi@1
  void *v3; // eax@1
  void *v4; // eax@3
  void *v5; // eax@5
  void *v6; // eax@7
  void *v7; // eax@9
  void *v8; // eax@11
  void *v9; // eax@13
  void *v10; // eax@15
  void *v11; // eax@17
  void *v12; // eax@19
  void *v13; // eax@21
  void *v14; // eax@23

  v2 = this;
  CDialog::CDialog(137, a2);
  *(_DWORD *)v2 = &off_4ACE4C;
  v3 = sub_41BC2E();
  if ( !v3 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 30) = (*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 12))(v3) + 16;
  v4 = sub_41BC2E();
  if ( !v4 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 31) = (*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16;
  v5 = sub_41BC2E();
  if ( !v5 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 32) = (*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 12))(v5) + 16;
  CWnd::CWnd((char *)v2 + 132);
  *((_DWORD *)v2 + 33) = &off_4AC2E4;
  CWnd::CWnd((char *)v2 + 216);
  *((_DWORD *)v2 + 54) = &off_4AC2E4;
  CWnd::CWnd((char *)v2 + 300);
  *((_DWORD *)v2 + 75) = &off_4AC2E4;
  CWnd::CWnd((char *)v2 + 384);
  *((_DWORD *)v2 + 96) = &off_4AC2E4;
  CWnd::CWnd((char *)v2 + 472);
  *((_DWORD *)v2 + 118) = &off_4AC2E4;
  v6 = sub_41BC2E();
  if ( !v6 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 139) = (*(int (__thiscall **)(void *))(*(_DWORD *)v6 + 12))(v6) + 16;
  v7 = sub_41BC2E();
  if ( !v7 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 140) = (*(int (__thiscall **)(void *))(*(_DWORD *)v7 + 12))(v7) + 16;
  v8 = sub_41BC2E();
  if ( !v8 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 141) = (*(int (__thiscall **)(void *))(*(_DWORD *)v8 + 12))(v8) + 16;
  v9 = sub_41BC2E();
  if ( !v9 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 156) = (*(int (__thiscall **)(void *))(*(_DWORD *)v9 + 12))(v9) + 16;
  v10 = sub_41BC2E();
  if ( !v10 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 157) = (*(int (__thiscall **)(void *))(*(_DWORD *)v10 + 12))(v10) + 16;
  v11 = sub_41BC2E();
  if ( !v11 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 158) = (*(int (__thiscall **)(void *))(*(_DWORD *)v11 + 12))(v11) + 16;
  v12 = sub_41BC2E();
  if ( !v12 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 159) = (*(int (__thiscall **)(void *))(*(_DWORD *)v12 + 12))(v12) + 16;
  'eh vector constructor iterator'((char *)v2 + 640, 4u, 6, sub_4019C0, sub_4019F0);
  v13 = sub_41BC2E();
  if ( !v13 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 166) = (*(int (__thiscall **)(void *))(*(_DWORD *)v13 + 12))(v13) + 16;
  v14 = sub_41BC2E();
  if ( !v14 )
    sub_401090(-2147467259);
  *((_DWORD *)v2 + 315) = (*(int (__thiscall **)(void *))(*(_DWORD *)v14 + 12))(v14) + 16;
  *((_DWORD *)v2 + 174) = 0;
  return v2;
}
// 41D438: using guessed type int __thiscall CWnd::CWnd(_DWORD);
// 424134: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 483203: using guessed type _DWORD __stdcall 'eh vector constructor iterator'(void *, unsigned int, _DWORD, _DWORD, void (__thiscall *)(void *));
// 4AC2E4: using guessed type int (*off_4AC2E4)();
// 4ACE4C: using guessed type int (*off_4ACE4C)();

//----- (0040DA70) --------------------------------------------------------
int __thiscall sub_40DA70(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // eax@3
  int v4; // eax@5
  int v5; // eax@7
  int v6; // eax@9
  int v7; // eax@11
  int v8; // eax@13
  int v9; // eax@15
  int v10; // eax@17
  int v11; // eax@19
  int v12; // eax@21
  int v13; // eax@23

  v1 = this;
  v2 = *(_DWORD *)(this + 1260) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v2 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v2 + 4))(v2);
  v3 = *(_DWORD *)(v1 + 664) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v3 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v3 + 4))(v3);
  'eh vector destructor iterator'((void *)(v1 + 640), 4u, 6, sub_4019F0);
  v4 = *(_DWORD *)(v1 + 636) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v4 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v4 + 4))(v4);
  v5 = *(_DWORD *)(v1 + 632) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v5 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v5 + 4))(v5);
  v6 = *(_DWORD *)(v1 + 628) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v6 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v6 + 4))(v6);
  v7 = *(_DWORD *)(v1 + 624) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v7 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v7 + 4))(v7);
  v8 = *(_DWORD *)(v1 + 564) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v8 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v8 + 4))(v8);
  v9 = *(_DWORD *)(v1 + 560) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v9 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v9 + 4))(v9);
  v10 = *(_DWORD *)(v1 + 556) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v10 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v10 + 4))(v10);
  sub_424D98((CWnd *)(v1 + 472));
  sub_424D98((CWnd *)(v1 + 384));
  sub_424D98((CWnd *)(v1 + 300));
  sub_424D98((CWnd *)(v1 + 216));
  sub_424D98((CWnd *)(v1 + 132));
  v11 = *(_DWORD *)(v1 + 128) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v11 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v11 + 4))(v11);
  v12 = *(_DWORD *)(v1 + 124) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v12 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v12 + 4))(v12);
  v13 = *(_DWORD *)(v1 + 120) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v13 + 12)) <= 0 )
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)v13 + 4))(v13);
  return sub_4240A9(v1);
}

//----- (0040DCF0) --------------------------------------------------------
char *__cdecl sub_40DCF0(int a1, void *Src, rsize_t DstSize, void *a4, rsize_t MaxCount)
{
  signed int v5; // esi@1
  char *v6; // ebp@3
  char *result; // eax@4

  v5 = DstSize + MaxCount;
  if ( (((*(_DWORD *)(*(_DWORD *)a1 - 8) - (DstSize + MaxCount)) | (1 - *(_DWORD *)(*(_DWORD *)a1 - 16 + 12))) & 0x80000000) != 0 )
    sub_4018C0((int *)a1, DstSize + MaxCount);
  v6 = *(char **)a1;
  memcpy_s(*(void **)a1, DstSize, Src, DstSize);
  memcpy_s(&v6[DstSize], MaxCount, a4, MaxCount);
  if ( v5 < 0 || (result = *(char **)a1, v5 > *(_DWORD *)(*(_DWORD *)a1 - 8)) )
    sub_401090(-2147024809);
  *((_DWORD *)result - 3) = v5;
  *(_BYTE *)(v5 + *(_DWORD *)a1) = 0;
  return result;
}

//----- (0040DD70) --------------------------------------------------------
void *__thiscall sub_40DD70(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_40DA70((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0040DD90) --------------------------------------------------------
_DWORD *__cdecl sub_40DD90(_DWORD *a1, void **a2, void **a3)
{
  int v3; // ecx@1
  int v4; // eax@2
  void *v5; // eax@3

  v3 = *((_DWORD *)*a2 - 4);
  if ( !v3 || (v4 = (*(int (**)(void))(*(_DWORD *)v3 + 16))()) == 0 )
  {
    v5 = sub_41BC2E();
    v4 = (*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 16))(v5);
  }
  if ( !v4 )
    sub_401090(-2147467259);
  *a1 = (*(int (__thiscall **)(int))(*(_DWORD *)v4 + 12))(v4) + 16;
  sub_40DCF0((int)a1, *a2, *((_DWORD *)*a2 - 3), *a3, *((_DWORD *)*a3 - 3));
  return a1;
}

//----- (0040DE50) --------------------------------------------------------
signed int __thiscall sub_40DE50(void *this)
{
  void *v1; // ebx@1
  signed int result; // eax@2
  FILE *v3; // eax@3
  FILE *v4; // ebp@3
  int v5; // eax@10
  int v6; // [sp+4h] [bp-3F4h]@1
  int v7; // [sp+8h] [bp-3F0h]@1
  char Src; // [sp+Ch] [bp-3ECh]@1
  char v9; // [sp+Dh] [bp-3EBh]@1
  _BYTE v10[500]; // [sp+200h] [bp-1F8h]@1

  v1 = this;
  Src = 0;
  memset(&v9, 0, 0x1F3u);
  v10[0] = 0;
  memset(&v10[1], 0, 0x1F3u);
  LOWORD(v6) = 0;
  v7 = 0;
  if ( (char *)v1 + 752 == pszFaceName )
  {
    AfxMessageBox("Error: Command line -init switch didn't include file path (-file C:\\Path\\Filename)", 0, 0);
    result = 0;
  }
  else
  {
    v3 = fopen((const char *)v1 + 752, "r");
    v4 = v3;
    if ( v3 )
    {
      if ( !feof(v3) )
      {
        do
        {
          sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
          if ( !memcmp("GDUSIM", &Src, 7u) )
          {
            sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&v6);
            sub_483593((int)&v6, (int)"%d", (unsigned int)&v7);
            if ( *((_DWORD *)v1 + 313) == v7 )
            {
              sub_48392B(v4, (int)"%*[^<]<%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 146) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 147) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 144) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 150) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 148) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 149) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 151) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^<]<%*[^=]=\"%[^\"]", (int)&Src);
              if ( !memcmp("true", &Src, 5u) )
              {
                sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
                sub_483593((int)&Src, (int)"%d", (_BYTE)v1 - 64);
                sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
                sub_483593((int)&Src, (int)"%d", (_BYTE)v1 - 60);
                sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
                sub_483593((int)&Src, (int)"%d", (_BYTE)v1 - 56);
                sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
                sub_483593((int)&Src, (int)"%d", (_BYTE)v1 - 52);
              }
              sub_48392B(v4, (int)"%*[^<]<%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 182) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 181) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 185) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 183) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 186) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 184) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              v5 = memcmp("true", &Src, 5u) == 0;
              *((_DWORD *)v1 + 175) = v5;
              *((_DWORD *)v1 + 314) = v5;
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 142) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 139, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 143) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 140, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 30, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 141, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 32, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 166, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%*[^=]=\"%*[^=]=\"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 160, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              sub_401C40((int *)v1 + 161, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              if ( !strncmp("172.16.", &Src, 7u) )
                sub_40CFD0(&Src);
              sub_401C40((int *)v1 + 156, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 152) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 170) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              if ( !strncmp("172.16.", &Src, 7u) )
                sub_40CFD0(&Src);
              sub_401C40((int *)v1 + 157, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 153) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 171) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              if ( !strncmp("172.16.", &Src, 7u) )
                sub_40CFD0(&Src);
              sub_401C40((int *)v1 + 158, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 154) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 172) = memcmp("true", &Src, 5u) == 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              if ( !strncmp("172.16.", &Src, 7u) )
                sub_40CFD0(&Src);
              sub_401C40((int *)v1 + 159, &Src, strlen(&Src));
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 155) = memcmp("off", &Src, 4u) != 0;
              sub_48392B(v4, (int)"%*[^=]=\"%[^\"]", (int)&Src);
              *((_DWORD *)v1 + 173) = memcmp("true", &Src, 5u) == 0;
            }
          }
          sub_48392B(v4, (int)word_4ACFA8, (int)v10);
        }
        while ( !feof(v4) );
      }
      fclose(v4);
      result = 1;
    }
    else
    {
      AfxMessageBox("Error: Couldn't open Init file", 0, 0);
      result = 0;
    }
  }
  return result;
}

//----- (0040EBC0) --------------------------------------------------------
unsigned int __thiscall sub_40EBC0(void *this)
{
  void *v1; // esi@1
  struct AFX_MODULE_STATE *v2; // eax@1
  CWinApp *v3; // edi@1
  void **v4; // eax@1
  int v5; // eax@1
  void **v6; // eax@3
  int v7; // eax@3
  void **v8; // eax@5
  int v9; // eax@5
  void **v10; // eax@7
  int v11; // eax@7
  void **v12; // eax@9
  int v13; // eax@9
  void **v14; // eax@11
  int v15; // eax@11
  void **v16; // eax@13
  int v17; // eax@13
  void **v18; // eax@15
  int v19; // eax@15
  void **v20; // eax@17
  int v21; // eax@17
  void **v22; // eax@19
  int v23; // eax@19
  void **v24; // eax@21
  int v25; // eax@21
  void **v26; // eax@23
  int v27; // eax@23
  void **v28; // eax@25
  int v29; // eax@25
  unsigned int result; // eax@27
  int v31; // [sp+2Ch] [bp-14h]@1
  int v32; // [sp+30h] [bp-10h]@25
  int v33; // [sp+3Ch] [bp-4h]@1

  v1 = this;
  v2 = AfxGetModuleState();
  v3 = (CWinApp *)*((_DWORD *)v2 + 1);
  *((_DWORD *)v1 + 29) = CWinApp::GetProfileIntA(*((CWinApp **)v2 + 1), *((_DWORD *)v1 + 315), "UnitIdx", 0);
  v4 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "NonvolBasePath", (int)".\\nonvol\\");
  v33 = 0;
  sub_401CF0((int *)v1 + 30, v4);
  v5 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v5 + 4))(v5);
  v6 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "Nonvol Path", (int)".\\");
  v33 = 1;
  sub_401CF0((int *)v1 + 31, v6);
  v7 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v7 + 4))(v7);
  v8 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "SimulationDataPath", (int)".\\");
  v33 = 2;
  sub_401CF0((int *)v1 + 32, v8);
  v9 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v9 + 4))(v9);
  v10 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "DatacardPathName", (int)"\\\\.\\K:");
  v33 = 3;
  sub_401CF0((int *)v1 + 139, v10);
  v11 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v11 + 4))(v11);
  v12 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "DatacardPathName2", (int)"\\\\.\\K:");
  v33 = 4;
  sub_401CF0((int *)v1 + 140, v12);
  v13 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v13 + 4))(v13);
  v14 = (void **)CWinApp::GetProfileStringA(
                   (int)&v31,
                   *((LPCSTR *)v1 + 315),
                   "WinfsMountPathName",
                   (int)".\\winfs_mount");
  v33 = 5;
  sub_401CF0((int *)v1 + 141, v14);
  v15 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v15 + 4))(v15);
  v16 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "port1", (int)"NONE");
  v33 = 6;
  sub_401CF0((int *)v1 + 160, v16);
  v17 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v17 + 4))(v17);
  v18 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "port2", (int)"NONE");
  v33 = 7;
  sub_401CF0((int *)v1 + 161, v18);
  v19 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v19 + 4))(v19);
  v20 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "ethrport1", (int)"NONE");
  v33 = 8;
  sub_401CF0((int *)v1 + 156, v20);
  v21 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v21 + 4))(v21);
  v22 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "ethrport2", (int)"NONE");
  v33 = 9;
  sub_401CF0((int *)v1 + 157, v22);
  v23 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v23 + 4))(v23);
  v24 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "ehtrport3", (int)"NONE");
  v33 = 10;
  sub_401CF0((int *)v1 + 158, v24);
  v25 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v25 + 4))(v25);
  v26 = (void **)CWinApp::GetProfileStringA((int)&v31, *((LPCSTR *)v1 + 315), "ehtrport4", (int)"NONE");
  v33 = 11;
  sub_401CF0((int *)v1 + 159, v26);
  v27 = v31 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v31 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v27 + 4))(v27);
  v28 = (void **)CWinApp::GetProfileStringA((int)&v32, *((LPCSTR *)v1 + 315), "CDUType", (int)"GDU1045");
  v33 = 12;
  sub_401CF0((int *)v1 + 166, v28);
  v29 = v32 - 16;
  v33 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v32 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v29 + 4))(v29);
  *((_DWORD *)v1 + 152) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "EnblEthrPort1Logging", 0);
  *((_DWORD *)v1 + 153) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "EnblEthrPort2Logging", 0);
  *((_DWORD *)v1 + 154) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "EnblEthrPort3Logging", 0);
  *((_DWORD *)v1 + 155) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "EnblEthrPort4Logging", 0);
  *((_DWORD *)v1 + 142) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "DatacardIn", 1);
  *((_DWORD *)v1 + 143) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "DatacardIn2", 1);
  *((_DWORD *)v1 + 144) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "DemoMode", 0);
  *((_DWORD *)v1 + 146) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "ReversionaryMode1", 0);
  *((_DWORD *)v1 + 147) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "ReversionaryMode2", 0);
  *((_DWORD *)v1 + 148) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "TestMode", 0);
  *((_DWORD *)v1 + 149) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "ConfigModule", 1);
  *((_DWORD *)v1 + 150) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "ConfigProtect", 0);
  *((_DWORD *)v1 + 151) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "SpareInput", 0);
  *((_DWORD *)v1 + 167) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "Sys_ID_1", 0);
  *((_DWORD *)v1 + 168) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "Sys_ID_2", 0);
  *((_DWORD *)v1 + 169) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "Sys_ID_3", 0);
  *((_DWORD *)v1 + 170) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "SwapPorts1", 0);
  *((_DWORD *)v1 + 171) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "SwapPorts2", 0);
  *((_DWORD *)v1 + 172) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "SwapPorts3", 0);
  *((_DWORD *)v1 + 173) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "SwapPorts4", 0);
  *((_DWORD *)v1 + 145) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "profileDsblPcapHSDB", 0);
  *((_DWORD *)v1 + 175) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "ADBCycle", 0);
  *((_DWORD *)v1 + 176) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "WindowPosX", 0);
  *((_DWORD *)v1 + 177) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "WindowPosY", 0);
  *((_DWORD *)v1 + 178) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "WindowWidth", 0);
  *((_DWORD *)v1 + 179) = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "WindowHeight", 0);
  result = CWinApp::GetProfileIntA(v3, *((_DWORD *)v1 + 315), "Enable Sound", 1);
  *((_DWORD *)v1 + 180) = result;
  return result;
}

//----- (0040F340) --------------------------------------------------------
int __thiscall sub_40F340(CDialog *this)
{
  CDialog *v1; // esi@1

  v1 = this;
  sub_40EBC0((void *)this);
  *((_DWORD *)v1 + 314) = 0;
  *((_BYTE *)v1 + 468) = 1;
  return (unsigned __int8)CDialog::OnInitDialog(v1);
}

//----- (0040F370) --------------------------------------------------------
void __thiscall sub_40F370(CWnd *this, char *a2)
{
  const unsigned __int8 *v2; // eax@1
  bool v3; // bl@3
  int v4; // eax@3
  int v5; // eax@6
  char v6; // cl@7
  unsigned int v7; // eax@8
  char *v8; // edi@8
  char v9; // cl@9
  char *v10; // edi@12
  char v11; // al@13
  struct AFX_MODULE_STATE *v12; // eax@14
  void **v13; // eax@15
  int v14; // eax@15
  char v15[4]; // [sp+14h] [bp-4ECh]@6
  CWnd *v16; // [sp+18h] [bp-4E8h]@1
  int v17; // [sp+1Ch] [bp-4E4h]@1
  int v18; // [sp+20h] [bp-4E0h]@15
  char v19; // [sp+24h] [bp-4DCh]@14
  char v20; // [sp+1EBh] [bp-315h]@8
  char v21[260]; // [sp+1ECh] [bp-314h]@7
  char v22; // [sp+2F0h] [bp-210h]@6
  char v23; // [sp+3F0h] [bp-110h]@6
  int v24; // [sp+4FCh] [bp-4h]@14

  v16 = this;
  v2 = (const unsigned __int8 *)*sub_407B00(&v17, ".\\");
  if ( !v2 )
    sub_401090(-2147467259);
  v3 = _mbscmp(*(const unsigned __int8 **)a2, v2) != 0;
  v4 = v17 - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v17 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v4 + 4))(v4);
  if ( v3 )
  {
    _splitpath(a2, v15, &v22, &v23, 0);
    v5 = 0;
    do
    {
      v6 = v15[v5];
      v21[v5++] = v6;
    }
    while ( v6 );
    v7 = strlen(&v22) + 1;
    v8 = &v20;
    do
      v9 = (v8++)[1];
    while ( v9 );
    qmemcpy(v8, &v22, v7);
  }
  else
  {
    strcpy(v21, a2);
  }
  v10 = &v20;
  do
    v11 = (v10++)[1];
  while ( v11 );
  *(_DWORD *)v10 = 2764330;
  v12 = AfxGetModuleState();
  CFileDialog::CFileDialog(1, (int)"bin", (int)v21, 0, (int)aAllFiles___0, *(_DWORD *)(*((_DWORD *)v12 + 1) + 32), 0);
  v24 = 0;
  *(_DWORD *)(sub_426363((int)&v19) + 28) = v21;
  *(_DWORD *)(sub_426363((int)&v19) + 32) = 260;
  *(_DWORD *)(sub_426363((int)&v19) + 48) = "Please select a file in your datacard directory.";
  if ( CFileDialog::DoModal((CFileDialog *)&v19) == 1 )
  {
    v13 = (void **)sub_42696B((int)&v19, &v18);
    LOBYTE(v24) = 1;
    sub_401CF0((int *)a2, v13);
    v14 = v18 - 16;
    LOBYTE(v24) = 0;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v18 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v14 + 4))(v14);
    CWnd::UpdateData(v16, 0);
  }
  v24 = -1;
  CFileDialog::~CFileDialog((CFileDialog *)&v19);
  sub_4815FE(v15[0]);
}
// 40F370: using guessed type char var_4EC[4];

//----- (0040F5F0) --------------------------------------------------------
int __thiscall sub_40F5F0(void *this, int a2, int a3)
{
  void *v3; // esi@1
  int v4; // ebx@1
  int *v5; // eax@3
  int *v6; // eax@7
  int *v7; // eax@9
  int v8; // eax@14
  int *v9; // eax@17
  int *v10; // eax@23
  int v11; // eax@23
  int *v12; // eax@25
  int v13; // eax@25
  int *v14; // eax@27
  int v15; // eax@27
  int *v16; // eax@29
  int v17; // eax@29
  int *v18; // eax@31
  int v19; // eax@31
  int *v20; // eax@33
  int v21; // eax@33
  int *v22; // eax@35
  int v23; // eax@35
  int *v24; // eax@37
  int v25; // eax@37
  int v26; // eax@39
  bool v27; // zf@39
  int *v28; // eax@40
  int v29; // eax@40
  int *v30; // eax@42
  int v31; // eax@42
  int *v32; // eax@44
  int v33; // eax@44
  int *v34; // eax@46
  int *v35; // eax@48
  int v36; // eax@48
  int *v37; // eax@50
  int v38; // eax@50
  int *v39; // eax@52
  int v40; // eax@52
  int v41; // eax@55
  int result; // eax@56
  int *v43; // eax@58
  int *v44; // eax@58
  int *v45; // eax@58
  int *v46; // eax@58
  int *v47; // eax@58
  char *v48; // ecx@58
  int *v49; // eax@60
  int *v50; // eax@60
  int *v51; // eax@60
  int *v52; // eax@60
  char v53; // [sp+20h] [bp-10h]@60
  int v54; // [sp+2Ch] [bp-4h]@3

  v3 = this;
  v4 = a2;
  if ( a2 == 1 )
  {
    if ( !a3 )
    {
      v5 = sub_407B00(&a2, "Trainer Settings\\Default");
      v54 = 0;
      goto LABEL_14;
    }
    if ( a3 == 1 )
    {
      v5 = sub_407B00(&a2, "Trainer Settings\\PFD1");
      v54 = 1;
      goto LABEL_14;
    }
    if ( a3 == 2 )
    {
      v6 = sub_407B00(&a2, "Trainer Settings\\MFD");
      v54 = 2;
      sub_401CF0((int *)v3 + 315, (void **)v6);
LABEL_21:
      v54 = -1;
      sub_4019F0(&a2);
      goto LABEL_22;
    }
    if ( a3 != 3 )
      goto LABEL_22;
    v7 = sub_407B00(&a2, "Trainer Settings\\PFD2");
    v54 = 3;
    goto LABEL_20;
  }
  if ( a3 )
  {
    if ( a3 != 1 )
    {
      if ( a3 == 2 )
      {
        v9 = sub_407B00(&a2, "Simulator Settings\\MFD");
        v54 = 6;
        sub_401CF0((int *)v3 + 315, (void **)v9);
        goto LABEL_21;
      }
      if ( a3 != 3 )
        goto LABEL_22;
      v7 = sub_407B00(&a2, "Simulator Settings\\PFD2");
      v54 = 7;
LABEL_20:
      sub_401D70((int *)v3 + 315, (void **)v7);
      goto LABEL_21;
    }
    v5 = sub_407B00(&a2, "Simulator Settings\\PFD1");
    v54 = 5;
  }
  else
  {
    v5 = sub_407B00(&a2, "Simulator Settings\\Default");
    v54 = 4;
  }
LABEL_14:
  sub_401CF0((int *)v3 + 315, (void **)v5);
  v8 = a2 - 16;
  v54 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v8 + 4))(v8);
LABEL_22:
  sub_40EBC0(v3);
  if ( v4 == 1 )
  {
    v10 = sub_407B00(&a2, ".\\datacard1.img");
    sub_401CF0((int *)v3 + 139, (void **)v10);
    v11 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v11 + 4))(v11);
    v12 = sub_407B00(&a2, ".\\charts.img");
    sub_401CF0((int *)v3 + 140, (void **)v12);
    v13 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v13 + 4))(v13);
    v14 = sub_407B00(&a2, ".\\");
    sub_401CF0((int *)v3 + 32, (void **)v14);
    v15 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v15 + 4))(v15);
    v16 = sub_407B00(&a2, ".\\winfs_mount");
    sub_401CF0((int *)v3 + 141, (void **)v16);
    v17 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v17 + 4))(v17);
    v18 = sub_407B00(&a2, "NONE");
    sub_401CF0((int *)v3 + 157, (void **)v18);
    v19 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v19 + 4))(v19);
    v20 = sub_407B00(&a2, "NONE");
    sub_401CF0((int *)v3 + 158, (void **)v20);
    v21 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v21 + 4))(v21);
    v22 = sub_407B00(&a2, "NONE");
    sub_401CF0((int *)v3 + 159, (void **)v22);
    v23 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v23 + 4))(v23);
    v24 = sub_407B00(&a2, "GDU1040");
    sub_401CF0((int *)v3 + 166, (void **)v24);
    v25 = a2 - 16;
    v54 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(a2 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v25 + 4))(v25);
    v26 = a3;
    v27 = a3 == 0;
    *((_DWORD *)v3 + 142) = 1;
    *((_DWORD *)v3 + 143) = 1;
    *((_DWORD *)v3 + 144) = 1;
    *((_DWORD *)v3 + 147) = 0;
    *((_DWORD *)v3 + 148) = 0;
    *((_DWORD *)v3 + 150) = 1;
    *((_DWORD *)v3 + 151) = 0;
    *((_DWORD *)v3 + 171) = 0;
    *((_DWORD *)v3 + 172) = 0;
    *((_DWORD *)v3 + 173) = 0;
    *((_DWORD *)v3 + 145) = 0;
    *((_DWORD *)v3 + 175) = 0;
    if ( v27 )
    {
      v28 = sub_407B00(&a3, ".\\nonvol\\");
      sub_401CF0((int *)v3 + 30, (void **)v28);
      v29 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v29 + 4))(v29);
      v30 = sub_407B00(&a3, "NONE");
      sub_401CF0((int *)v3 + 156, (void **)v30);
      v31 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v31 + 4))(v31);
      *((_DWORD *)v3 + 170) = 0;
      *((_DWORD *)v3 + 149) = 0;
      v32 = sub_407B00(&a3, "NONE");
      sub_401CF0((int *)v3 + 160, (void **)v32);
      v33 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v33 + 4))(v33);
      v34 = sub_407B00(&a3, "NONE");
      v54 = 19;
      goto LABEL_55;
    }
    if ( v26 == 1 )
    {
      v35 = sub_407B00(&a3, ".\\PFD1nonvol\\");
      sub_401CF0((int *)v3 + 30, (void **)v35);
      v36 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v36 + 4))(v36);
      v37 = sub_407B00(&a3, name);
      sub_401CF0((int *)v3 + 156, (void **)v37);
      v38 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v38 + 4))(v38);
      *((_DWORD *)v3 + 170) = 0;
      *((_DWORD *)v3 + 167) = 0;
      *((_DWORD *)v3 + 168) = 0;
      *((_DWORD *)v3 + 169) = 0;
      *((_DWORD *)v3 + 149) = 0;
      v39 = sub_407B00(&a3, "NONE");
      sub_401CF0((int *)v3 + 160, (void **)v39);
      v40 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v40 + 4))(v40);
      v34 = sub_407B00(&a3, "ETHR2");
      v54 = 23;
LABEL_55:
      sub_401CF0((int *)v3 + 161, (void **)v34);
      v41 = a3 - 16;
      v54 = -1;
      if ( _InterlockedDecrement((volatile signed __int32 *)(a3 - 16 + 12)) <= 0 )
      {
        (*(void (__stdcall **)(int))(**(_DWORD **)v41 + 4))(v41);
        return sub_40D290(v3);
      }
      return sub_40D290(v3);
    }
    if ( v26 == 2 )
    {
      v43 = sub_407B00(&a3, ".\\MFDnonvol\\");
      sub_401CF0((int *)v3 + 30, (void **)v43);
      sub_4019F0(&a3);
      v44 = sub_407B00(&a3, name);
      sub_401CF0((int *)v3 + 156, (void **)v44);
      sub_4019F0(&a3);
      *((_DWORD *)v3 + 170) = 1;
      v45 = sub_407B00(&a3, name);
      sub_401CF0((int *)v3 + 157, (void **)v45);
      sub_4019F0(&a3);
      *((_DWORD *)v3 + 171) = 1;
      *((_DWORD *)v3 + 167) = 0;
      *((_DWORD *)v3 + 168) = 0;
      *((_DWORD *)v3 + 169) = 1;
      *((_DWORD *)v3 + 149) = 0;
      v46 = sub_407B00(&a3, "ETHR1");
      sub_401CF0((int *)v3 + 160, (void **)v46);
      sub_4019F0(&a3);
      v47 = sub_407B00(&a3, "NONE");
      v54 = 28;
      sub_401CF0((int *)v3 + 161, (void **)v47);
      v48 = (char *)&a3;
    }
    else
    {
      if ( v26 != 3 )
        return sub_40D290(v3);
      v49 = sub_407B00(&a3, ".\\PFD2nonvol\\");
      sub_401D70((int *)v3 + 30, (void **)v49);
      sub_4019F0(&a3);
      v50 = sub_407B00(&a3, name);
      sub_401D70((int *)v3 + 157, (void **)v50);
      sub_4019F0(&a3);
      *((_DWORD *)v3 + 171) = 0;
      *((_DWORD *)v3 + 167) = 1;
      *((_DWORD *)v3 + 168) = 0;
      *((_DWORD *)v3 + 169) = 0;
      *((_DWORD *)v3 + 149) = 0;
      v51 = sub_407B00(&a3, "NONE");
      sub_401D70((int *)v3 + 160, (void **)v51);
      v54 = -1;
      sub_4019F0(&a3);
      v52 = sub_407B00((int *)&v53, "ETHR2");
      v54 = 32;
      sub_401D70((int *)v3 + 161, (void **)v52);
      v48 = &v53;
    }
    v54 = -1;
    sub_4019F0(v48);
    return sub_40D290(v3);
  }
  result = a3;
  if ( a3 == 1 )
  {
    *((_DWORD *)v3 + 167) = 0;
LABEL_69:
    *((_DWORD *)v3 + 169) = 0;
    goto LABEL_70;
  }
  if ( a3 != 2 )
  {
    if ( a3 != 3 )
      return result;
    *((_DWORD *)v3 + 167) = 1;
    goto LABEL_69;
  }
  *((_DWORD *)v3 + 167) = 0;
  *((_DWORD *)v3 + 169) = 1;
LABEL_70:
  *((_DWORD *)v3 + 168) = 0;
  return result;
}

//----- (0040FEA0) --------------------------------------------------------
void __cdecl sub_40FEA0(int *a1, const char **a2)
{
  int *v2; // edi@1
  int *v3; // eax@1
  void **v4; // eax@1
  int v5; // eax@1
  int v6; // eax@3
  int v7; // eax@5
  char v8; // [sp+Ch] [bp-120h]@1
  int v9; // [sp+10h] [bp-11Ch]@1
  int v10; // [sp+14h] [bp-118h]@1
  int v11; // [sp+18h] [bp-114h]@1
  char Src; // [sp+1Ch] [bp-110h]@1
  int v13; // [sp+128h] [bp-4h]@1

  _splitpath(*a2, &v8, &Src, 0, 0);
  v2 = sub_407B00(&v10, &Src);
  v13 = 0;
  v3 = sub_407B00(&v9, &v8);
  LOBYTE(v13) = 1;
  v4 = (void **)sub_40DD90(&v11, (void **)v3, (void **)v2);
  LOBYTE(v13) = 2;
  sub_401CF0(a1, v4);
  v5 = v11 - 16;
  LOBYTE(v13) = 1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v11 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v5 + 4))(v5);
  v6 = v9 - 16;
  LOBYTE(v13) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v9 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v6 + 4))(v6);
  v7 = v10 - 16;
  v13 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v10 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v7 + 4))(v7);
  sub_4815FE(v8);
}

//----- (004103F0) --------------------------------------------------------
int (**sub_4103F0())()
{
  return &off_4AD2F0;
}
// 4AD2F0: using guessed type int (*off_4AD2F0)();

//----- (00410410) --------------------------------------------------------
_DWORD *__thiscall sub_410410(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1

  v2 = this;
  CDialog::CDialog(107, a2);
  *v2 = &off_4AD41C;
  return v2;
}
// 424134: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 4AD41C: using guessed type int (*off_4AD41C)();

//----- (00410430) --------------------------------------------------------
void __thiscall sub_410430(int this, HWND hWnd)
{
  int v2; // edi@1

  v2 = this;
  DDX_Check(hWnd, 1087, (int *)(this + 116));
  DDX_Check(hWnd, 1109, (int *)(v2 + 120));
  DDX_Check(hWnd, 1089, (int *)(v2 + 124));
  DDX_Check(hWnd, 1110, (int *)(v2 + 128));
  DDX_Check(hWnd, 1091, (int *)(v2 + 136));
  DDX_Check(hWnd, 1112, (int *)(v2 + 140));
  DDX_Check(hWnd, 1090, (int *)(v2 + 144));
  DDX_Check(hWnd, 1111, (int *)(v2 + 148));
  DDX_Check(hWnd, 1092, (int *)(v2 + 152));
  DDX_Check(hWnd, 1113, (int *)(v2 + 156));
  DDX_Check(hWnd, 1130, (int *)(v2 + 160));
  DDX_Check(hWnd, 1133, (int *)(v2 + 164));
  DDX_Check(hWnd, 1131, (int *)(v2 + 168));
  DDX_Check(hWnd, 1134, (int *)(v2 + 172));
  DDX_Check(hWnd, 1132, (int *)(v2 + 176));
  DDX_Check(hWnd, 1135, (int *)(v2 + 180));
  DDX_Check(hWnd, 1103, (int *)(v2 + 184));
  DDX_Check(hWnd, 1116, (int *)(v2 + 184));
  DDX_Check(hWnd, 1120, (int *)(v2 + 188));
  DDX_Check(hWnd, 1114, (int *)(v2 + 192));
  DDX_Check(hWnd, 1093, (int *)(v2 + 196));
  DDX_Check(hWnd, 1115, (int *)(v2 + 200));
  DDX_Check(hWnd, 1094, (int *)(v2 + 204));
  DDX_Check(hWnd, 1107, (int *)(v2 + 208));
  DDX_Check(hWnd, 1118, (int *)(v2 + 208));
  DDX_Check(hWnd, 1106, (int *)(v2 + 212));
  DDX_Check(hWnd, 1117, (int *)(v2 + 212));
  DDX_Check(hWnd, 1137, (int *)(v2 + 216));
  DDX_Check(hWnd, 1136, (int *)(v2 + 220));
  DDX_Check(hWnd, 1108, (int *)(v2 + 224));
  DDX_Check(hWnd, 1119, (int *)(v2 + 224));
  DDX_Check(hWnd, 1143, (int *)(v2 + 228));
  DDX_Check(hWnd, 1145, (int *)(v2 + 232));
  DDX_Check(hWnd, 1146, (int *)(v2 + 236));
}

//----- (00410690) --------------------------------------------------------
_DWORD *__thiscall sub_410690(void *this)
{
  void *v1; // esi@1
  bool *v2; // ecx@1
  _DWORD *result; // eax@1
  signed int v4; // esi@1

  v1 = this;
  v2 = (bool *)(*(_DWORD *)(*((_DWORD *)AfxGetModuleState() + 1) + 32) + 1870);
  result = (char *)v1 + 116;
  v4 = 60;
  do
  {
    *v2 = *result != 0;
    ++result;
    ++v2;
    --v4;
  }
  while ( v4 );
  return result;
}

//----- (004106D0) --------------------------------------------------------
LRESULT __thiscall sub_4106D0(CWnd *this)
{
  CWnd *v1; // esi@1
  struct AFX_MODULE_STATE *v2; // eax@1

  v1 = this;
  CWnd::UpdateData(this, 1);
  (*(void (__thiscall **)(_DWORD))(*(_DWORD *)v1 + 352))(v1);
  v2 = AfxGetModuleState();
  return SendMessageA(*(HWND *)(*(_DWORD *)(*((_DWORD *)v2 + 1) + 32) + 32), 0x407u, 0, 0);
}

//----- (00410720) --------------------------------------------------------
LRESULT __thiscall sub_410720(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // eax@1
  struct CWnd *v3; // eax@1
  struct CWnd *v4; // eax@1
  struct CWnd *v5; // eax@1
  struct CWnd *v6; // eax@1
  struct CWnd *v7; // eax@1
  struct CWnd *v8; // eax@1
  struct CWnd *v9; // eax@1
  struct CWnd *v10; // eax@1
  struct CWnd *v11; // eax@1
  struct CWnd *v12; // eax@1
  struct CWnd *v13; // eax@1
  struct CWnd *v14; // eax@1
  struct CWnd *v15; // eax@1
  struct CWnd *v16; // eax@1
  struct CWnd *v17; // eax@1
  struct CWnd *v18; // eax@1
  struct CWnd *v19; // eax@1
  struct CWnd *v20; // eax@1
  struct CWnd *v21; // eax@1
  struct CWnd *v22; // eax@1
  struct CWnd *v23; // eax@1
  struct CWnd *v24; // eax@1
  struct CWnd *v25; // eax@1
  struct CWnd *v26; // eax@1
  struct CWnd *v27; // eax@1
  struct CWnd *v28; // eax@1
  struct CWnd *v29; // eax@1
  struct CWnd *v30; // eax@1
  struct CWnd *v31; // eax@1
  struct CWnd *v32; // eax@1
  struct CWnd *v33; // eax@1
  struct CWnd *v34; // eax@1
  struct CWnd *v35; // eax@1

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1087);
  SendMessageA(*((HWND *)v2 + 8), 0xF1u, 1u, 0);
  v3 = CWnd::GetDlgItem(v1, 1109);
  SendMessageA(*((HWND *)v3 + 8), 0xF1u, 1u, 0);
  v4 = CWnd::GetDlgItem(v1, 1089);
  SendMessageA(*((HWND *)v4 + 8), 0xF1u, 1u, 0);
  v5 = CWnd::GetDlgItem(v1, 1110);
  SendMessageA(*((HWND *)v5 + 8), 0xF1u, 1u, 0);
  v6 = CWnd::GetDlgItem(v1, 1091);
  SendMessageA(*((HWND *)v6 + 8), 0xF1u, 1u, 0);
  v7 = CWnd::GetDlgItem(v1, 1112);
  SendMessageA(*((HWND *)v7 + 8), 0xF1u, 1u, 0);
  v8 = CWnd::GetDlgItem(v1, 1090);
  SendMessageA(*((HWND *)v8 + 8), 0xF1u, 1u, 0);
  v9 = CWnd::GetDlgItem(v1, 1111);
  SendMessageA(*((HWND *)v9 + 8), 0xF1u, 1u, 0);
  v10 = CWnd::GetDlgItem(v1, 1092);
  SendMessageA(*((HWND *)v10 + 8), 0xF1u, 1u, 0);
  v11 = CWnd::GetDlgItem(v1, 1113);
  SendMessageA(*((HWND *)v11 + 8), 0xF1u, 1u, 0);
  v12 = CWnd::GetDlgItem(v1, 1130);
  SendMessageA(*((HWND *)v12 + 8), 0xF1u, 1u, 0);
  v13 = CWnd::GetDlgItem(v1, 1133);
  SendMessageA(*((HWND *)v13 + 8), 0xF1u, 1u, 0);
  v14 = CWnd::GetDlgItem(v1, 1131);
  SendMessageA(*((HWND *)v14 + 8), 0xF1u, 1u, 0);
  v15 = CWnd::GetDlgItem(v1, 1134);
  SendMessageA(*((HWND *)v15 + 8), 0xF1u, 1u, 0);
  v16 = CWnd::GetDlgItem(v1, 1132);
  SendMessageA(*((HWND *)v16 + 8), 0xF1u, 1u, 0);
  v17 = CWnd::GetDlgItem(v1, 1135);
  SendMessageA(*((HWND *)v17 + 8), 0xF1u, 1u, 0);
  v18 = CWnd::GetDlgItem(v1, 1103);
  SendMessageA(*((HWND *)v18 + 8), 0xF1u, 1u, 0);
  v19 = CWnd::GetDlgItem(v1, 1116);
  SendMessageA(*((HWND *)v19 + 8), 0xF1u, 1u, 0);
  v20 = CWnd::GetDlgItem(v1, 1120);
  SendMessageA(*((HWND *)v20 + 8), 0xF1u, 1u, 0);
  v21 = CWnd::GetDlgItem(v1, 1114);
  SendMessageA(*((HWND *)v21 + 8), 0xF1u, 1u, 0);
  v22 = CWnd::GetDlgItem(v1, 1093);
  SendMessageA(*((HWND *)v22 + 8), 0xF1u, 1u, 0);
  v23 = CWnd::GetDlgItem(v1, 1115);
  SendMessageA(*((HWND *)v23 + 8), 0xF1u, 1u, 0);
  v24 = CWnd::GetDlgItem(v1, 1094);
  SendMessageA(*((HWND *)v24 + 8), 0xF1u, 1u, 0);
  v25 = CWnd::GetDlgItem(v1, 1107);
  SendMessageA(*((HWND *)v25 + 8), 0xF1u, 1u, 0);
  v26 = CWnd::GetDlgItem(v1, 1118);
  SendMessageA(*((HWND *)v26 + 8), 0xF1u, 1u, 0);
  v27 = CWnd::GetDlgItem(v1, 1106);
  SendMessageA(*((HWND *)v27 + 8), 0xF1u, 1u, 0);
  v28 = CWnd::GetDlgItem(v1, 1117);
  SendMessageA(*((HWND *)v28 + 8), 0xF1u, 1u, 0);
  v29 = CWnd::GetDlgItem(v1, 1137);
  SendMessageA(*((HWND *)v29 + 8), 0xF1u, 1u, 0);
  v30 = CWnd::GetDlgItem(v1, 1136);
  SendMessageA(*((HWND *)v30 + 8), 0xF1u, 1u, 0);
  v31 = CWnd::GetDlgItem(v1, 1108);
  SendMessageA(*((HWND *)v31 + 8), 0xF1u, 1u, 0);
  v32 = CWnd::GetDlgItem(v1, 1119);
  SendMessageA(*((HWND *)v32 + 8), 0xF1u, 1u, 0);
  v33 = CWnd::GetDlgItem(v1, 1143);
  SendMessageA(*((HWND *)v33 + 8), 0xF1u, 1u, 0);
  v34 = CWnd::GetDlgItem(v1, 1145);
  SendMessageA(*((HWND *)v34 + 8), 0xF1u, 1u, 0);
  v35 = CWnd::GetDlgItem(v1, 1146);
  return SendMessageA(*((HWND *)v35 + 8), 0xF1u, 1u, 0);
}

//----- (00410AD0) --------------------------------------------------------
LRESULT __thiscall sub_410AD0(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // eax@1
  struct CWnd *v3; // eax@1
  struct CWnd *v4; // eax@1
  struct CWnd *v5; // eax@1
  struct CWnd *v6; // eax@1
  struct CWnd *v7; // eax@1
  struct CWnd *v8; // eax@1
  struct CWnd *v9; // eax@1
  struct CWnd *v10; // eax@1
  struct CWnd *v11; // eax@1
  struct CWnd *v12; // eax@1
  struct CWnd *v13; // eax@1
  struct CWnd *v14; // eax@1
  struct CWnd *v15; // eax@1
  struct CWnd *v16; // eax@1
  struct CWnd *v17; // eax@1
  struct CWnd *v18; // eax@1
  struct CWnd *v19; // eax@1
  struct CWnd *v20; // eax@1
  struct CWnd *v21; // eax@1
  struct CWnd *v22; // eax@1
  struct CWnd *v23; // eax@1
  struct CWnd *v24; // eax@1
  struct CWnd *v25; // eax@1
  struct CWnd *v26; // eax@1
  struct CWnd *v27; // eax@1
  struct CWnd *v28; // eax@1
  struct CWnd *v29; // eax@1
  struct CWnd *v30; // eax@1
  struct CWnd *v31; // eax@1
  struct CWnd *v32; // eax@1
  struct CWnd *v33; // eax@1
  struct CWnd *v34; // eax@1
  struct CWnd *v35; // eax@1

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1087);
  SendMessageA(*((HWND *)v2 + 8), 0xF1u, 1u, 0);
  v3 = CWnd::GetDlgItem(v1, 1109);
  SendMessageA(*((HWND *)v3 + 8), 0xF1u, 1u, 0);
  v4 = CWnd::GetDlgItem(v1, 1089);
  SendMessageA(*((HWND *)v4 + 8), 0xF1u, 1u, 0);
  v5 = CWnd::GetDlgItem(v1, 1110);
  SendMessageA(*((HWND *)v5 + 8), 0xF1u, 1u, 0);
  v6 = CWnd::GetDlgItem(v1, 1091);
  SendMessageA(*((HWND *)v6 + 8), 0xF1u, 1u, 0);
  v7 = CWnd::GetDlgItem(v1, 1112);
  SendMessageA(*((HWND *)v7 + 8), 0xF1u, 1u, 0);
  v8 = CWnd::GetDlgItem(v1, 1090);
  SendMessageA(*((HWND *)v8 + 8), 0xF1u, 1u, 0);
  v9 = CWnd::GetDlgItem(v1, 1111);
  SendMessageA(*((HWND *)v9 + 8), 0xF1u, 1u, 0);
  v10 = CWnd::GetDlgItem(v1, 1092);
  SendMessageA(*((HWND *)v10 + 8), 0xF1u, 1u, 0);
  v11 = CWnd::GetDlgItem(v1, 1113);
  SendMessageA(*((HWND *)v11 + 8), 0xF1u, 1u, 0);
  v12 = CWnd::GetDlgItem(v1, 1130);
  SendMessageA(*((HWND *)v12 + 8), 0xF1u, 1u, 0);
  v13 = CWnd::GetDlgItem(v1, 1133);
  SendMessageA(*((HWND *)v13 + 8), 0xF1u, 1u, 0);
  v14 = CWnd::GetDlgItem(v1, 1131);
  SendMessageA(*((HWND *)v14 + 8), 0xF1u, 1u, 0);
  v15 = CWnd::GetDlgItem(v1, 1134);
  SendMessageA(*((HWND *)v15 + 8), 0xF1u, 1u, 0);
  v16 = CWnd::GetDlgItem(v1, 1132);
  SendMessageA(*((HWND *)v16 + 8), 0xF1u, 1u, 0);
  v17 = CWnd::GetDlgItem(v1, 1135);
  SendMessageA(*((HWND *)v17 + 8), 0xF1u, 1u, 0);
  v18 = CWnd::GetDlgItem(v1, 1103);
  SendMessageA(*((HWND *)v18 + 8), 0xF1u, 1u, 0);
  v19 = CWnd::GetDlgItem(v1, 1116);
  SendMessageA(*((HWND *)v19 + 8), 0xF1u, 1u, 0);
  v20 = CWnd::GetDlgItem(v1, 1120);
  SendMessageA(*((HWND *)v20 + 8), 0xF1u, 1u, 0);
  v21 = CWnd::GetDlgItem(v1, 1114);
  SendMessageA(*((HWND *)v21 + 8), 0xF1u, 1u, 0);
  v22 = CWnd::GetDlgItem(v1, 1093);
  SendMessageA(*((HWND *)v22 + 8), 0xF1u, 1u, 0);
  v23 = CWnd::GetDlgItem(v1, 1115);
  SendMessageA(*((HWND *)v23 + 8), 0xF1u, 1u, 0);
  v24 = CWnd::GetDlgItem(v1, 1094);
  SendMessageA(*((HWND *)v24 + 8), 0xF1u, 1u, 0);
  v25 = CWnd::GetDlgItem(v1, 1107);
  SendMessageA(*((HWND *)v25 + 8), 0xF1u, 1u, 0);
  v26 = CWnd::GetDlgItem(v1, 1118);
  SendMessageA(*((HWND *)v26 + 8), 0xF1u, 1u, 0);
  v27 = CWnd::GetDlgItem(v1, 1106);
  SendMessageA(*((HWND *)v27 + 8), 0xF1u, 1u, 0);
  v28 = CWnd::GetDlgItem(v1, 1117);
  SendMessageA(*((HWND *)v28 + 8), 0xF1u, 1u, 0);
  v29 = CWnd::GetDlgItem(v1, 1137);
  SendMessageA(*((HWND *)v29 + 8), 0xF1u, 1u, 0);
  v30 = CWnd::GetDlgItem(v1, 1136);
  SendMessageA(*((HWND *)v30 + 8), 0xF1u, 1u, 0);
  v31 = CWnd::GetDlgItem(v1, 1108);
  SendMessageA(*((HWND *)v31 + 8), 0xF1u, 1u, 0);
  v32 = CWnd::GetDlgItem(v1, 1119);
  SendMessageA(*((HWND *)v32 + 8), 0xF1u, 1u, 0);
  v33 = CWnd::GetDlgItem(v1, 1143);
  SendMessageA(*((HWND *)v33 + 8), 0xF1u, 0, 0);
  v34 = CWnd::GetDlgItem(v1, 1145);
  SendMessageA(*((HWND *)v34 + 8), 0xF1u, 1u, 0);
  v35 = CWnd::GetDlgItem(v1, 1146);
  return SendMessageA(*((HWND *)v35 + 8), 0xF1u, 1u, 0);
}

//----- (00410E80) --------------------------------------------------------
LRESULT __thiscall sub_410E80(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // esi@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1103);
  v3 = CWnd::GetDlgItem(v1, 1116);
  if ( SendMessageA(*((HWND *)v2 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (00410EE0) --------------------------------------------------------
LRESULT __thiscall sub_410EE0(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // eax@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1103);
  v3 = CWnd::GetDlgItem(v1, 1116);
  if ( SendMessageA(*((HWND *)v3 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (00410F40) --------------------------------------------------------
LRESULT __thiscall sub_410F40(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // esi@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1107);
  v3 = CWnd::GetDlgItem(v1, 1118);
  if ( SendMessageA(*((HWND *)v2 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (00410FA0) --------------------------------------------------------
LRESULT __thiscall sub_410FA0(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // eax@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1107);
  v3 = CWnd::GetDlgItem(v1, 1118);
  if ( SendMessageA(*((HWND *)v3 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (00411000) --------------------------------------------------------
LRESULT __thiscall sub_411000(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // esi@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1106);
  v3 = CWnd::GetDlgItem(v1, 1117);
  if ( SendMessageA(*((HWND *)v2 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (00411060) --------------------------------------------------------
LRESULT __thiscall sub_411060(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // eax@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1106);
  v3 = CWnd::GetDlgItem(v1, 1117);
  if ( SendMessageA(*((HWND *)v3 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (004110D0) --------------------------------------------------------
void __thiscall sub_4110D0(CDialog *this)
{
  CDialog *v1; // esi@1
  struct AFX_MODULE_STATE *v2; // eax@1

  v1 = this;
  CWnd::UpdateData(this, 1);
  (*(void (__thiscall **)(_DWORD))(*(_DWORD *)v1 + 352))(v1);
  v2 = AfxGetModuleState();
  SendMessageA(*(HWND *)(*(_DWORD *)(*((_DWORD *)v2 + 1) + 32) + 32), 0x407u, 0, 0);
  CDialog::OnOK(v1);
}

//----- (00411110) --------------------------------------------------------
LRESULT __thiscall sub_411110(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // esi@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1108);
  v3 = CWnd::GetDlgItem(v1, 1119);
  if ( SendMessageA(*((HWND *)v2 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v3 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (00411170) --------------------------------------------------------
LRESULT __thiscall sub_411170(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // edi@1
  struct CWnd *v3; // eax@1
  LRESULT result; // eax@2

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1108);
  v3 = CWnd::GetDlgItem(v1, 1119);
  if ( SendMessageA(*((HWND *)v3 + 8), 0xF0u, 0, 0) == 1 )
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 1u, 0);
  else
    result = SendMessageA(*((HWND *)v2 + 8), 0xF1u, 0, 0);
  return result;
}

//----- (004111D0) --------------------------------------------------------
LRESULT __thiscall sub_4111D0(CWnd *this)
{
  CWnd *v1; // esi@1
  struct CWnd *v2; // eax@1
  struct CWnd *v3; // eax@1
  struct CWnd *v4; // eax@1
  struct CWnd *v5; // eax@1
  struct CWnd *v6; // eax@1
  struct CWnd *v7; // eax@1
  struct CWnd *v8; // eax@1
  struct CWnd *v9; // eax@1
  struct CWnd *v10; // eax@1
  struct CWnd *v11; // eax@1
  struct CWnd *v12; // eax@1
  struct CWnd *v13; // eax@1
  struct CWnd *v14; // eax@1
  struct CWnd *v15; // eax@1
  struct CWnd *v16; // eax@1
  struct CWnd *v17; // eax@1
  struct CWnd *v18; // eax@1
  struct CWnd *v19; // eax@1
  struct CWnd *v20; // eax@1
  struct CWnd *v21; // eax@1
  struct CWnd *v22; // eax@1
  struct CWnd *v23; // eax@1
  struct CWnd *v24; // eax@1
  struct CWnd *v25; // eax@1
  struct CWnd *v26; // eax@1
  struct CWnd *v27; // eax@1
  struct CWnd *v28; // eax@1
  struct CWnd *v29; // eax@1
  struct CWnd *v30; // eax@1
  struct CWnd *v31; // eax@1
  struct CWnd *v32; // eax@1
  struct CWnd *v33; // eax@1
  struct CWnd *v34; // eax@1
  struct CWnd *v35; // eax@1

  v1 = this;
  v2 = CWnd::GetDlgItem(this, 1087);
  SendMessageA(*((HWND *)v2 + 8), 0xF1u, 0, 0);
  v3 = CWnd::GetDlgItem(v1, 1109);
  SendMessageA(*((HWND *)v3 + 8), 0xF1u, 0, 0);
  v4 = CWnd::GetDlgItem(v1, 1089);
  SendMessageA(*((HWND *)v4 + 8), 0xF1u, 0, 0);
  v5 = CWnd::GetDlgItem(v1, 1110);
  SendMessageA(*((HWND *)v5 + 8), 0xF1u, 0, 0);
  v6 = CWnd::GetDlgItem(v1, 1091);
  SendMessageA(*((HWND *)v6 + 8), 0xF1u, 0, 0);
  v7 = CWnd::GetDlgItem(v1, 1112);
  SendMessageA(*((HWND *)v7 + 8), 0xF1u, 0, 0);
  v8 = CWnd::GetDlgItem(v1, 1090);
  SendMessageA(*((HWND *)v8 + 8), 0xF1u, 0, 0);
  v9 = CWnd::GetDlgItem(v1, 1111);
  SendMessageA(*((HWND *)v9 + 8), 0xF1u, 0, 0);
  v10 = CWnd::GetDlgItem(v1, 1092);
  SendMessageA(*((HWND *)v10 + 8), 0xF1u, 0, 0);
  v11 = CWnd::GetDlgItem(v1, 1113);
  SendMessageA(*((HWND *)v11 + 8), 0xF1u, 0, 0);
  v12 = CWnd::GetDlgItem(v1, 1130);
  SendMessageA(*((HWND *)v12 + 8), 0xF1u, 0, 0);
  v13 = CWnd::GetDlgItem(v1, 1133);
  SendMessageA(*((HWND *)v13 + 8), 0xF1u, 0, 0);
  v14 = CWnd::GetDlgItem(v1, 1131);
  SendMessageA(*((HWND *)v14 + 8), 0xF1u, 0, 0);
  v15 = CWnd::GetDlgItem(v1, 1134);
  SendMessageA(*((HWND *)v15 + 8), 0xF1u, 0, 0);
  v16 = CWnd::GetDlgItem(v1, 1132);
  SendMessageA(*((HWND *)v16 + 8), 0xF1u, 0, 0);
  v17 = CWnd::GetDlgItem(v1, 1135);
  SendMessageA(*((HWND *)v17 + 8), 0xF1u, 0, 0);
  v18 = CWnd::GetDlgItem(v1, 1103);
  SendMessageA(*((HWND *)v18 + 8), 0xF1u, 0, 0);
  v19 = CWnd::GetDlgItem(v1, 1116);
  SendMessageA(*((HWND *)v19 + 8), 0xF1u, 0, 0);
  v20 = CWnd::GetDlgItem(v1, 1120);
  SendMessageA(*((HWND *)v20 + 8), 0xF1u, 0, 0);
  v21 = CWnd::GetDlgItem(v1, 1114);
  SendMessageA(*((HWND *)v21 + 8), 0xF1u, 0, 0);
  v22 = CWnd::GetDlgItem(v1, 1093);
  SendMessageA(*((HWND *)v22 + 8), 0xF1u, 0, 0);
  v23 = CWnd::GetDlgItem(v1, 1115);
  SendMessageA(*((HWND *)v23 + 8), 0xF1u, 0, 0);
  v24 = CWnd::GetDlgItem(v1, 1094);
  SendMessageA(*((HWND *)v24 + 8), 0xF1u, 0, 0);
  v25 = CWnd::GetDlgItem(v1, 1107);
  SendMessageA(*((HWND *)v25 + 8), 0xF1u, 0, 0);
  v26 = CWnd::GetDlgItem(v1, 1118);
  SendMessageA(*((HWND *)v26 + 8), 0xF1u, 0, 0);
  v27 = CWnd::GetDlgItem(v1, 1106);
  SendMessageA(*((HWND *)v27 + 8), 0xF1u, 0, 0);
  v28 = CWnd::GetDlgItem(v1, 1117);
  SendMessageA(*((HWND *)v28 + 8), 0xF1u, 0, 0);
  v29 = CWnd::GetDlgItem(v1, 1137);
  SendMessageA(*((HWND *)v29 + 8), 0xF1u, 0, 0);
  v30 = CWnd::GetDlgItem(v1, 1136);
  SendMessageA(*((HWND *)v30 + 8), 0xF1u, 0, 0);
  v31 = CWnd::GetDlgItem(v1, 1108);
  SendMessageA(*((HWND *)v31 + 8), 0xF1u, 0, 0);
  v32 = CWnd::GetDlgItem(v1, 1119);
  SendMessageA(*((HWND *)v32 + 8), 0xF1u, 0, 0);
  v33 = CWnd::GetDlgItem(v1, 1143);
  SendMessageA(*((HWND *)v33 + 8), 0xF1u, 0, 0);
  v34 = CWnd::GetDlgItem(v1, 1145);
  SendMessageA(*((HWND *)v34 + 8), 0xF1u, 0, 0);
  v35 = CWnd::GetDlgItem(v1, 1146);
  return SendMessageA(*((HWND *)v35 + 8), 0xF1u, 0, 0);
}

//----- (00411580) --------------------------------------------------------
signed int __thiscall sub_411580(char *this, int a2)
{
  signed int result; // eax@1
  int v3; // ecx@1
  int v4; // edx@2

  result = 0;
  v3 = (int)(this + 116);
  do
  {
    v4 = *(_BYTE *)(result++ + a2) != 0;
    v3 += 4;
    *(_DWORD *)(v3 - 4) = v4;
  }
  while ( result < 60 );
  return result;
}

//----- (00411690) --------------------------------------------------------
int (**sub_411690())()
{
  return &off_4AD5B0;
}
// 4AD5B0: using guessed type int (*off_4AD5B0)();

//----- (004116B0) --------------------------------------------------------
void *__thiscall sub_4116B0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424E6C((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004116D0) --------------------------------------------------------
_DWORD *__thiscall sub_4116D0(_DWORD *this, int a2)
{
  _DWORD *v2; // esi@1

  v2 = this;
  CDialog::CDialog(149, a2);
  *v2 = &off_4AD864;
  CWnd::CWnd(v2 + 29);
  v2[29] = &off_4AD724;
  v2[50] = 100;
  return v2;
}
// 41D438: using guessed type int __thiscall CWnd::CWnd(_DWORD);
// 424134: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 4AD724: using guessed type int (*off_4AD724)();
// 4AD864: using guessed type int (*off_4AD864)();

//----- (00411750) --------------------------------------------------------
int __thiscall sub_411750(int this)
{
  int v1; // esi@1

  v1 = this;
  sub_424E6C((CWnd *)(this + 116));
  return sub_4240A9(v1);
}

//----- (004117B0) --------------------------------------------------------
int __thiscall sub_4117B0(CDialog *this)
{
  int v1; // esi@1
  HWND v2; // ST00_4@1

  v1 = (int)this;
  CDialog::OnInitDialog(this);
  CSliderCtrl::SetRange((CSliderCtrl *)(v1 + 116), 0, 400, 0);
  SendMessageA(*(HWND *)(v1 + 148), 0x405u, 1u, 100);
  v2 = *(HWND *)(v1 + 32);
  dword_5349F0 = v1;
  SetTimer(v2, 0, 0x64u, 0);
  return 0;
}
// 5349F0: using guessed type int dword_5349F0;

//----- (00411800) --------------------------------------------------------
void __thiscall sub_411800(CDialog *this)
{
  CDialog *v1; // esi@1

  v1 = this;
  CWnd::UpdateData(this, 1);
  CDialog::OnOK(v1);
}

//----- (00411920) --------------------------------------------------------
signed int SIM_get_timescale()
{
  signed int result; // eax@2

  if ( dword_5349F0 )
    result = *(_DWORD *)(dword_5349F0 + 200);
  else
    result = 100;
  return result;
}
// 5349F0: using guessed type int dword_5349F0;

//----- (00411940) --------------------------------------------------------
int (**sub_411940())()
{
  return &off_4AD9C0;
}
// 4AD9C0: using guessed type int (*off_4AD9C0)();

//----- (00411950) --------------------------------------------------------
void *__thiscall sub_411950(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_411750((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00411980) --------------------------------------------------------
CDataExchange *__thiscall sub_411980(HWND this, CDataExchange *a2)
{
  HWND v2; // edi@1
  CDataExchange *v3; // esi@1
  void *v4; // eax@1
  int v5; // ebx@3
  LRESULT v6; // eax@3
  CDataExchange *result; // eax@3

  v2 = this;
  v3 = a2;
  DDX_Control(a2, (HWND)0x419, this + 29);
  v4 = sub_41BC2E();
  if ( !v4 )
    sub_401090(-2147467259);
  a2 = (CDataExchange *)((*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16);
  v5 = *(_DWORD *)v3;
  *(_DWORD *)v3 = 0;
  v6 = SendMessageA(*((HWND *)v2 + 37), 0x400u, 0, 0);
  sub_404170((int)&a2, "%d%%", v6);
  sub_425E8F(v3, 1050, (int)&a2);
  result = (CDataExchange *)((char *)a2 - 16);
  *(_DWORD *)v3 = v5;
  if ( _InterlockedDecrement((volatile signed __int32 *)result + 3) <= 0 )
    result = (CDataExchange *)(*(int (__stdcall **)(CDataExchange *))(**(_DWORD **)result + 4))(result);
  return result;
}

//----- (00411A70) --------------------------------------------------------
int (**sub_411A70())()
{
  return &off_4ADA60;
}
// 4ADA60: using guessed type int (*off_4ADA60)();

//----- (00411A80) --------------------------------------------------------
_DWORD *__thiscall sub_411A80(_DWORD *this)
{
  _DWORD *v1; // esi@1

  v1 = this;
  sub_427477(this, 0);
  *v1 = &off_4ADA84;
  return v1;
}
// 4ADA84: using guessed type int (*off_4ADA84)();

//----- (00411AA0) --------------------------------------------------------
int __thiscall sub_411AA0(CWinApp *this)
{
  *(_DWORD *)this = &off_4ADA84;
  return CWinApp::~CWinApp(this);
}
// 4ADA84: using guessed type int (*off_4ADA84)();

//----- (00411AB0) --------------------------------------------------------
signed int sub_411AB0()
{
  signed int result; // eax@2
  char v1; // [sp+0h] [bp-A0h]@1
  unsigned int v2; // [sp+68h] [bp-38h]@3

  if ( EnumDisplaySettingsA(0, 0xFFFFFFFF, (DEVMODEA *)&v1) )
  {
    if ( v2 >= 0x10 )
    {
      result = 1;
    }
    else
    {
      AfxMessageBox("Display needs to be at least 16 bit color mode, can not continue", 0, 0);
      result = 0;
    }
  }
  else
  {
    AfxMessageBox("Error enumerating device settings, can not continue", 0, 0);
    result = 0;
  }
  return result;
}

//----- (00411B50) --------------------------------------------------------
void *__thiscall sub_411B50(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_411AA0((CWinApp *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00411B70) --------------------------------------------------------
signed int __thiscall sub_411B70(void *this)
{
  int v1; // edi@1
  signed int result; // eax@1
  CWnd *v3; // eax@2
  int v4; // eax@3
  int v5; // esi@3
  struct AFX_MODULE_STATE *v6; // eax@8
  HICON v7; // eax@8

  v1 = (int)this;
  result = sub_411AB0();
  if ( result )
  {
    sub_425F73(v1, "GARMIN International");
    v3 = (CWnd *)operator new(0xAB4u);
    if ( v3 )
    {
      sub_417650(v3);
      v5 = v4;
    }
    else
    {
      v5 = 0;
    }
    CFrameWnd::LoadAccelTable((CFrameWnd *)v5, (const char *)0x8B);
    *(_DWORD *)(v1 + 32) = v5;
    if ( *(_BYTE *)(v5 + 1930) )
      CWnd::ShowWindow((CWnd *)v5, *(_DWORD *)(v1 + 76));
    else
      CWnd::ShowWindow((CWnd *)v5, 4);
    v6 = AfxGetModuleState();
    v7 = LoadIconA(*((HINSTANCE *)v6 + 3), (LPCSTR)0x94);
    SendMessageA(*(HWND *)(*(_DWORD *)(v1 + 32) + 32), 0x80u, 1u, (LPARAM)v7);
    result = 1;
  }
  return result;
}

//----- (00411C60) --------------------------------------------------------
int __cdecl sub_411C60(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount)
{
  int v4; // eax@1

  v4 = memmove_s(Dst, DstSize, Src, MaxCount);
  return sub_401000(v4);
}

//----- (00411CA0) --------------------------------------------------------
void __cdecl sub_411CA0(int nPos)
{
  int v1; // ecx@0

  GetSubMenu(*(HMENU *)(v1 + 4), nPos);
  JUMPOUT(CMenu::FromHandle);
}

//----- (00411CD0) --------------------------------------------------------
BOOL __thiscall sub_411CD0(CWnd *this)
{
  CWnd *v1; // ebp@1
  int v2; // eax@5
  int v3; // ecx@5
  int v4; // esi@5
  int v5; // ecx@12
  int v6; // eax@12
  int v7; // esi@12
  float v8; // ST188_4@19
  float v9; // ST18C_4@19
  double v10; // st6@19
  char *v11; // eax@19
  signed int v12; // ecx@19
  _DWORD *v13; // eax@21
  int v14; // ecx@21
  float v15; // ST188_4@21
  double v16; // st7@21
  _DWORD *v17; // ST164_4@21
  void (__stdcall *v18)(_DWORD *, _DWORD, signed int, float **, _DWORD); // eax@21
  float v19; // ST188_4@21
  double v20; // st6@21
  float v21; // ST188_4@21
  float v22; // ST188_4@21
  int v23; // edi@23
  int v24; // ebx@23
  unsigned int v25; // esi@23
  int v26; // ebx@29
  int v27; // edi@29
  unsigned int v28; // esi@29
  HWND v29; // eax@35
  struct CWnd *v30; // eax@35
  signed int v31; // esi@35
  int v32; // eax@37
  int v33; // eax@44
  CStatusBar *v34; // ecx@49
  char *v35; // eax@57
  char v36; // cl@58
  signed int v38; // [sp+190h] [bp-D0h]@19
  signed int v39; // [sp+194h] [bp-CCh]@19
  signed int v40; // [sp+198h] [bp-C8h]@9
  signed int v41; // [sp+198h] [bp-C8h]@19
  signed int v42; // [sp+19Ch] [bp-C4h]@16
  signed int v43; // [sp+19Ch] [bp-C4h]@19
  int v44; // [sp+1A0h] [bp-C0h]@1
  float *v45; // [sp+1A4h] [bp-BCh]@21
  struct tagRECT Rect; // [sp+1A8h] [bp-B8h]@35
  struct tagRECT v47; // [sp+1B8h] [bp-A8h]@35
  float v48; // [sp+1C8h] [bp-98h]@21
  float v49; // [sp+1CCh] [bp-94h]@21
  char v50; // [sp+1D4h] [bp-8Ch]@19
  float v51; // [sp+1DCh] [bp-84h]@21
  float v52; // [sp+1E0h] [bp-80h]@21
  float v53; // [sp+1F0h] [bp-70h]@21
  float v54; // [sp+1F4h] [bp-6Ch]@21
  float v55; // [sp+204h] [bp-5Ch]@21
  float v56; // [sp+208h] [bp-58h]@21
  float v57; // [sp+218h] [bp-48h]@21
  float v58; // [sp+21Ch] [bp-44h]@21
  char v59; // [sp+22Bh] [bp-35h]@57
  char Src[4]; // [sp+22Ch] [bp-34h]@52

  v1 = this;
  WaitForSingleObject(*((HANDLE *)this + 504), 0xFFFFFFFF);
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, int *))(**((_DWORD **)v1 + 505) + 272))(
    *((_DWORD *)v1 + 505),
    0,
    5,
    &v44);
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v1 + 505) + 164))(*((_DWORD *)v1 + 505));
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**((_DWORD **)v1 + 505) + 276))(
    *((_DWORD *)v1 + 505),
    0,
    5,
    1);
  if ( !*((_DWORD *)v1 + 245) )
  {
    (*(void (__stdcall **)(_DWORD, signed int))(**((_DWORD **)v1 + 505) + 356))(*((_DWORD *)v1 + 505), 260);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 260))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 623));
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, signed int))(**((_DWORD **)v1 + 505) + 400))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 627),
      0,
      24);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int))(**((_DWORD **)v1 + 505) + 324))(
      *((_DWORD *)v1 + 505),
      6,
      0,
      2);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 260))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 624));
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, signed int))(**((_DWORD **)v1 + 505) + 400))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 628),
      0,
      24);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int))(**((_DWORD **)v1 + 505) + 324))(
      *((_DWORD *)v1 + 505),
      6,
      0,
      2);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 260))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 625));
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 400))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 629),
      0,
      24);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 324))(
      *((_DWORD *)v1 + 505),
      6,
      0,
      2);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 260))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 626));
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 400))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 630),
      0,
      24);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 324))(
      *((_DWORD *)v1 + 505),
      6,
      0,
      2);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 260))(*((_DWORD *)v1 + 505), 0, 0);
  }
  if ( *((_BYTE *)v1 + 2064) || *((_BYTE *)v1 + 2065) )
  {
    v2 = *((_DWORD *)v1 + 514);
    v3 = *((_DWORD *)v1 + 486);
    v4 = *((_DWORD *)v1 + 486);
    if ( v3 >= v2 )
      v4 = *((_DWORD *)v1 + 514);
    if ( v4 <= *((_DWORD *)v1 + 512) )
    {
      v40 = *((_DWORD *)v1 + 512);
    }
    else if ( v3 >= v2 )
    {
      v40 = *((_DWORD *)v1 + 514);
    }
    else
    {
      v40 = *((_DWORD *)v1 + 486);
    }
    v5 = *((_DWORD *)v1 + 487);
    v6 = *((_DWORD *)v1 + 515);
    v7 = *((_DWORD *)v1 + 487);
    if ( v5 >= v6 )
      v7 = *((_DWORD *)v1 + 515);
    if ( v7 <= *((_DWORD *)v1 + 513) )
    {
      v42 = *((_DWORD *)v1 + 513);
    }
    else if ( v5 >= v6 )
    {
      v42 = *((_DWORD *)v1 + 515);
    }
    else
    {
      v42 = *((_DWORD *)v1 + 487);
    }
    v8 = (double)(*((_DWORD *)v1 + 510) - *((_DWORD *)v1 + 508)) / 1266.0;
    v9 = (double)(*((_DWORD *)v1 + 511) - *((_DWORD *)v1 + 509)) / 902.0;
    v38 = (signed int)((double)*((signed int *)v1 + 517) / v8);
    v41 = (signed int)((double)v40 / v8);
    v39 = (signed int)((double)*((signed int *)v1 + 518) / v9);
    v10 = 1.0;
    v43 = (signed int)((double)v42 / v9);
    v11 = &v50;
    v12 = 5;
    do
    {
      v11[7] = -1;
      *((float *)v11 - 1) = 0.0;
      v11[6] = -128;
      v11[5] = -1;
      *(float *)v11 = *(float *)&v10;
      v11[4] = -128;
      v11 += 20;
      --v12;
    }
    while ( v12 );
    v13 = (_DWORD *)*((_DWORD *)v1 + 519);
    v14 = *v13;
    v15 = (double)v38;
    v16 = v15;
    v48 = v15;
    v17 = v13;
    v18 = *(void (__stdcall **)(_DWORD *, _DWORD, signed int, float **, _DWORD))(v14 + 44);
    v19 = (double)v39;
    v20 = v19;
    v49 = v19;
    v21 = (double)v41;
    v51 = v21;
    v53 = v21;
    v52 = v20;
    v22 = (double)v43;
    v54 = v22;
    v56 = v22;
    v55 = v16;
    v57 = v16;
    v58 = v20;
    v18(v17, 0, 100, &v45, 0);
    qmemcpy(v45, &v48, 0x64u);
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v1 + 519) + 48))(*((_DWORD *)v1 + 519));
    (*(void (__stdcall **)(_DWORD, signed int))(**((_DWORD **)v1 + 505) + 356))(*((_DWORD *)v1 + 505), 68);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, signed int))(**((_DWORD **)v1 + 505) + 400))(
      *((_DWORD *)v1 + 505),
      0,
      *((_DWORD *)v1 + 519),
      0,
      20);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int))(**((_DWORD **)v1 + 505) + 324))(
      *((_DWORD *)v1 + 505),
      3,
      0,
      4);
  }
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 400))(
    *((_DWORD *)v1 + 505),
    0,
    0,
    0,
    0);
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v1 + 505) + 168))(*((_DWORD *)v1 + 505));
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, char *))(**((_DWORD **)v1 + 505) + 72))(
    *((_DWORD *)v1 + 505),
    0,
    0,
    0,
    (char *)v1 + 2524);
  if ( !*((_DWORD *)v1 + 246) )
  {
    v23 = 0;
    v24 = 0;
    v25 = 0;
    do
    {
      if ( dword_528528[v25] & *((_DWORD *)v1 + 53)
        && (*(_BYTE *)(v23 + *((_DWORD *)v1 + 679)) == 1 || *(_BYTE *)(v23 + *((_DWORD *)v1 + 680)) == 1) )
      {
        (*(void (__stdcall **)(_DWORD, _DWORD, int, signed int))(**((_DWORD **)v1 + 505) + 140))(
          *((_DWORD *)v1 + 505),
          *((_DWORD *)v1 + 631),
          v24 + *((_DWORD *)v1 + 681),
          0xFFFFFFF);
      }
      v25 += 7;
      ++v23;
      v24 += 16;
    }
    while ( v25 < 385 );
  }
  v26 = 0;
  v27 = 0;
  v28 = 0;
  do
  {
    if ( dword_528B38[v28] & *((_DWORD *)v1 + 53)
      && (*(_DWORD *)(v27 + *((_DWORD *)v1 + 683)) || *(_DWORD *)(v27 + *((_DWORD *)v1 + 684))) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD, int, signed int))(**((_DWORD **)v1 + 505) + 140))(
        *((_DWORD *)v1 + 505),
        *((_DWORD *)v1 + 631),
        v26 + *((_DWORD *)v1 + 682),
        0xFFFFFFF);
    }
    v28 += 9;
    v27 += 4;
    v26 += 16;
  }
  while ( v28 < 288 );
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v1 + 631) + 8))(*((_DWORD *)v1 + 631));
  GetWindowRect(*((HWND *)v1 + 8), &Rect);
  v29 = GetDesktopWindow();
  v30 = CWnd::FromHandle(v29);
  GetWindowRect(*((HWND *)v30 + 8), &v47);
  v31 = 0;
  if ( Rect.top >= 0 || Rect.bottom >= 0 )
  {
    v32 = *((_DWORD *)v1 + 520) / 2;
    if ( Rect.right - v32 > v47.left && v32 + Rect.left < v47.right || *((_DWORD *)v1 + 507) <= 1 )
    {
      if ( *((_DWORD *)v1 + 506) == 1 )
      {
        *((_DWORD *)v1 + 506) = 0;
        sub_418960(v1, v26, 1);
        return ReleaseMutex(*((HANDLE *)v1 + 504));
      }
    }
    else if ( !*((_DWORD *)v1 + 506) )
    {
      *((_DWORD *)v1 + 506) = 1;
      sub_418960(v1, v26, 1);
      return ReleaseMutex(*((HANDLE *)v1 + 504));
    }
    v33 = (*(int (__stdcall **)(_DWORD, _DWORD, char *, _DWORD, _DWORD))(**((_DWORD **)v1 + 505) + 68))(
            *((_DWORD *)v1 + 505),
            0,
            (char *)v1 + 2032,
            0,
            0);
    if ( v33 == -2005530520 || v33 == -2005530585 )
      sub_418960(v1, v26, 0);
    (*(void (__stdcall **)(_DWORD, _DWORD, signed int, int))(**((_DWORD **)v1 + 505) + 276))(
      *((_DWORD *)v1 + 505),
      0,
      5,
      v44);
    CWnd::OnPaint(v1);
    if ( !*((_BYTE *)v1 + 1867) && !*((_DWORD *)v1 + 241) )
    {
      v34 = (CWnd *)((char *)v1 + 2528);
      if ( *((_BYTE *)v1 + 2712) )
        CStatusBar::SetPaneText(v34, 5, pszFaceName, 1);
      else
        CStatusBar::SetPaneText(v34, 5, "+", 1);
      *((_BYTE *)v1 + 2712) = *((_BYTE *)v1 + 2712) == 0;
      strcpy(Src, "ETH: ");
      do
      {
        if ( sub_407230(v31) )
          sprintf(&Src[strlen(Src)], "p%d! ", v31);
        ++v31;
      }
      while ( v31 < 4 );
      if ( !memcmp(Src, &dword_4ADD6C, 6u) )
      {
        v35 = &v59;
        do
          v36 = (v35++)[1];
        while ( v36 );
        *(_WORD *)v35 = 19279;
        v35[2] = 0;
      }
      CStatusBar::SetPaneText((CWnd *)((char *)v1 + 2528), 1, Src, 1);
    }
  }
  return ReleaseMutex(*((HANDLE *)v1 + 504));
}
// 4ADD6C: using guessed type int dword_4ADD6C;
// 528528: using guessed type int dword_528528[];
// 528B38: using guessed type int dword_528B38[];

//----- (00412AF0) --------------------------------------------------------
int __thiscall sub_412AF0(int this)
{
  int v1; // eax@1
  int v2; // ecx@1

  v1 = *(_DWORD *)(this + 824) == 0;
  v2 = this + 240;
  *(_DWORD *)(v2 + 584) = v1;
  return sub_40D290((void *)v2);
}

//----- (00412B10) --------------------------------------------------------
int __thiscall sub_412B10(int this)
{
  int v1; // eax@1
  int v2; // ecx@1

  v1 = *(_DWORD *)(this + 828) == 0;
  v2 = this + 240;
  *(_DWORD *)(v2 + 588) = v1;
  return sub_40D290((void *)v2);
}

//----- (00412CF0) --------------------------------------------------------
char *__thiscall sub_412CF0(int this, char *a2)
{
  int v2; // ebp@1
  signed int v3; // esi@1
  char *result; // eax@17
  signed int v5; // [sp+Ch] [bp-3Ch]@1
  signed int v6; // [sp+10h] [bp-38h]@1
  __int64 v7; // [sp+14h] [bp-34h]@1
  signed __int16 v8; // [sp+1Ch] [bp-2Ch]@26
  int v9; // [sp+1Dh] [bp-2Bh]@1
  __int16 v10; // [sp+21h] [bp-27h]@1
  __int64 v11; // [sp+24h] [bp-24h]@1
  signed __int16 v12; // [sp+2Ch] [bp-1Ch]@24
  int v13; // [sp+2Dh] [bp-1Bh]@1
  int v14; // [sp+31h] [bp-17h]@1
  __int16 v15; // [sp+35h] [bp-13h]@1
  char v16; // [sp+37h] [bp-11h]@1
  char v17; // [sp+38h] [bp-10h]@1
  int v18; // [sp+39h] [bp-Fh]@1
  int v19; // [sp+3Dh] [bp-Bh]@1
  char v20; // [sp+41h] [bp-7h]@1

  v2 = this;
  v3 = 0;
  v17 = 0;
  v18 = 0;
  v19 = 0;
  v20 = 0;
  LOBYTE(v7) = 0;
  *(__int64 *)((char *)&v7 + 1) = 0i64;
  v9 = 0;
  v10 = 0;
  LOBYTE(v11) = 0;
  *(__int64 *)((char *)&v11 + 1) = 0i64;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  v6 = 0;
  v5 = 0;
  *(_DWORD *)(this + 1936) = 0;
  if ( strstr(a2, "-pfd1") )
  {
    *(_DWORD *)(v2 + 1936) = 1;
  }
  else if ( strstr(a2, "-mfd") )
  {
    *(_DWORD *)(v2 + 1936) = 2;
  }
  else if ( strstr(a2, "-pfd2") )
  {
    *(_DWORD *)(v2 + 1936) = 3;
  }
  if ( strstr(a2, "-1") )
  {
    *(_DWORD *)(v2 + 1492) = 1;
  }
  else if ( strstr(a2, "-2") )
  {
    *(_DWORD *)(v2 + 1492) = 2;
  }
  else if ( strstr(a2, "-3") )
  {
    *(_DWORD *)(v2 + 1492) = 3;
  }
  if ( strstr(a2, "-pwr") )
    *(_BYTE *)(v2 + 1952) = 1;
  if ( strstr(a2, "-nofocus") )
    *(_BYTE *)(v2 + 1930) = 0;
  result = strstr(a2, "-init");
  if ( result )
  {
    *(_DWORD *)(v2 + 988) = 1;
    while ( v3 < 4 )
    {
      if ( v3 )
      {
        switch ( v3 )
        {
          case 1:
            LODWORD(v7) = 544418341;
            WORD2(v7) = 29477;
            BYTE6(v7) = 0;
            v11 = 2338258970481994277i64;
            v12 = 29477;
            BYTE1(v13) = 0;
            break;
          case 2:
            v7 = 2338258970481994277i64;
            v8 = 29477;
            BYTE1(v9) = 0;
            LODWORD(v11) = 544418341;
            *(__int64 *)((char *)&v11 + 4) = 2338258970481994277i64;
            *(_WORD *)((char *)&v13 + 3) = 29477;
            BYTE1(v14) = 0;
            break;
          case 3:
            LODWORD(v7) = 544418341;
            *(__int64 *)((char *)&v7 + 4) = 2338258970481994277i64;
            *(_WORD *)((char *)&v9 + 3) = 29477;
            HIBYTE(v10) = 0;
            *(__int64 *)((char *)&v11 + 4) = 2338258970481994277i64;
            LODWORD(v11) = 544418341;
            *(int *)((char *)&v13 + 3) = 544418341;
            *(_WORD *)((char *)&v14 + 3) = 29477;
            HIBYTE(v15) = 0;
            break;
        }
      }
      else
      {
        LOWORD(v7) = 29477;
        BYTE2(v7) = 0;
        LODWORD(v11) = 544418341;
        WORD2(v11) = 29477;
        BYTE6(v11) = 0;
      }
      result = (char *)sub_483593((int)a2, (int)&v7, (unsigned int)&v17);
      if ( !memcmp(&v17, "-init", 6u) )
      {
        result = (char *)sub_483593((int)a2, (int)&v11, v2 - 32);
        v6 = 1;
      }
      ++v5;
      if ( v6 )
        break;
      v3 = v5;
    }
  }
  return result;
}

//----- (00413050) --------------------------------------------------------
void __thiscall sub_413050(int this)
{
  int v1; // esi@1
  int v2; // eax@2
  char v3; // bl@2
  HMENU v4; // eax@22
  struct CMenu *v5; // eax@22
  HMENU v6; // eax@24
  struct CMenu *v7; // eax@24
  HMENU v8; // eax@26
  struct CMenu *v9; // eax@26
  HMENU v10; // eax@28
  struct CMenu *v11; // eax@28
  HMENU v12; // eax@30
  struct CMenu *v13; // eax@30
  HMENU v14; // eax@32
  struct CMenu *v15; // eax@32
  HMENU v16; // eax@34
  struct CMenu *v17; // eax@34
  bool v18; // zf@35
  HWND v19; // eax@35
  HMENU v20; // eax@36
  struct CMenu *v21; // eax@36
  HMENU v22; // eax@37
  struct CMenu *v23; // eax@37
  HMENU v24; // eax@38
  struct CMenu *v25; // eax@38
  HMENU v26; // eax@38
  struct CMenu *v27; // eax@38
  HMENU v28; // eax@39
  struct CMenu *v29; // eax@39
  HMENU v30; // eax@39
  struct CMenu *v31; // eax@39
  HMENU v32; // eax@39
  struct CMenu *v33; // eax@39
  char v34; // [sp+1Ch] [bp-6h]@2
  char v35; // [sp+1Dh] [bp-5h]@2
  char v36; // [sp+1Eh] [bp-4h]@2
  char v37; // [sp+1Fh] [bp-3h]@2
  char v38; // [sp+20h] [bp-2h]@2
  char v39; // [sp+21h] [bp-1h]@2

  v1 = this;
  if ( !*(_DWORD *)(this + 968) )
  {
    v2 = *(_DWORD *)(this + 908);
    v3 = 0;
    v35 = 0;
    v34 = 0;
    v36 = 0;
    v37 = 0;
    v38 = 0;
    v39 = 0;
    if ( !v2 )
    {
      if ( !*(_DWORD *)(this + 912) && !*(_DWORD *)(this + 916) )
        v3 = 1;
      if ( !*(_DWORD *)(this + 912) && *(_DWORD *)(this + 916) == 1 )
        v35 = 1;
    }
    if ( v2 == 1 && !*(_DWORD *)(this + 912) && !*(_DWORD *)(this + 916) )
      v34 = 1;
    if ( *(_DWORD *)(this + 824) == 1 )
      v36 = 1;
    if ( *(_DWORD *)(this + 828) == 1 )
      v37 = 1;
    if ( *(_DWORD *)(this + 936) == 1 )
      v38 = 1;
    if ( *(_DWORD *)(this + 960) == 1 )
      v39 = 1;
    if ( *(_BYTE *)(this + 1860) != v3 )
    {
      v4 = GetMenu(*(HWND *)(this + 32));
      v5 = CMenu::FromHandle(v4);
      CheckMenuItem(*((HMENU *)v5 + 1), 0x8010u, v3 != 0 ? 8 : 0);
    }
    if ( *(_BYTE *)(v1 + 1861) != v35 )
    {
      v6 = GetMenu(*(HWND *)(v1 + 32));
      v7 = CMenu::FromHandle(v6);
      CheckMenuItem(*((HMENU *)v7 + 1), 0x8014u, v35 != 0 ? 8 : 0);
    }
    if ( *(_BYTE *)(v1 + 1862) != v34 )
    {
      v8 = GetMenu(*(HWND *)(v1 + 32));
      v9 = CMenu::FromHandle(v8);
      CheckMenuItem(*((HMENU *)v9 + 1), 0x8012u, v34 != 0 ? 8 : 0);
    }
    if ( *(_BYTE *)(v1 + 1863) != v36 )
    {
      v10 = GetMenu(*(HWND *)(v1 + 32));
      v11 = CMenu::FromHandle(v10);
      CheckMenuItem(*((HMENU *)v11 + 1), 0x8018u, v36 != 0 ? 8 : 0);
    }
    if ( *(_BYTE *)(v1 + 1864) != v37 )
    {
      v12 = GetMenu(*(HWND *)(v1 + 32));
      v13 = CMenu::FromHandle(v12);
      CheckMenuItem(*((HMENU *)v13 + 1), 0x801Au, v37 != 0 ? 8 : 0);
    }
    if ( *(_BYTE *)(v1 + 1865) != v38 )
    {
      v14 = GetMenu(*(HWND *)(v1 + 32));
      v15 = CMenu::FromHandle(v14);
      CheckMenuItem(*((HMENU *)v15 + 1), 0x801Cu, v38 != 0 ? 8 : 0);
    }
    if ( *(_BYTE *)(v1 + 1866) != v39 )
    {
      v16 = GetMenu(*(HWND *)(v1 + 32));
      v17 = CMenu::FromHandle(v16);
      CheckMenuItem(*((HMENU *)v17 + 1), 0x8023u, v39 != 0 ? 8 : 0);
    }
    v18 = *(_BYTE *)(v1 + 1868) == 0;
    *(_BYTE *)(v1 + 1862) = v34;
    *(_BYTE *)(v1 + 1861) = v35;
    *(_BYTE *)(v1 + 1863) = v36;
    *(_BYTE *)(v1 + 1864) = v37;
    v19 = *(HWND *)(v1 + 32);
    *(_BYTE *)(v1 + 1860) = v3;
    *(_BYTE *)(v1 + 1865) = v38;
    *(_BYTE *)(v1 + 1866) = v39;
    if ( v18 )
    {
      v28 = GetMenu(v19);
      v29 = CMenu::FromHandle(v28);
      EnableMenuItem(*((HMENU *)v29 + 1), 2u, 0x400u);
      v30 = GetMenu(*(HWND *)(v1 + 32));
      v31 = CMenu::FromHandle(v30);
      EnableMenuItem(*((HMENU *)v31 + 1), 0x801Fu, 1u);
      v32 = GetMenu(*(HWND *)(v1 + 32));
      v33 = CMenu::FromHandle(v32);
      EnableMenuItem(*((HMENU *)v33 + 1), 0x8022u, 1u);
      EnableMenuItem(*(HMENU *)(v1 + 2132), 0x8022u, 1u);
      DrawMenuBar(*(HWND *)(v1 + 32));
    }
    else
    {
      v20 = GetMenu(v19);
      v21 = CMenu::FromHandle(v20);
      if ( !(GetMenuState(*((HMENU *)v21 + 1), 2u, 0x400u) & 1) )
      {
        v22 = GetMenu(*(HWND *)(v1 + 32));
        v23 = CMenu::FromHandle(v22);
        EnableMenuItem(*((HMENU *)v23 + 1), 2u, 0x401u);
      }
      v24 = GetMenu(*(HWND *)(v1 + 32));
      v25 = CMenu::FromHandle(v24);
      EnableMenuItem(*((HMENU *)v25 + 1), 0x801Fu, 0);
      v26 = GetMenu(*(HWND *)(v1 + 32));
      v27 = CMenu::FromHandle(v26);
      EnableMenuItem(*((HMENU *)v27 + 1), 0x8022u, 0);
      EnableMenuItem(*(HMENU *)(v1 + 2132), 0x8022u, 0);
      DrawMenuBar(*(HWND *)(v1 + 32));
    }
  }
}

//----- (004133C0) --------------------------------------------------------
void __thiscall sub_4133C0(int this)
{
  int v1; // ebx@1
  int v2; // edi@2
  unsigned int v3; // esi@2
  int *v4; // eax@5
  int v5; // ecx@9
  int v6; // ebp@9
  int v7; // edi@9
  unsigned int v8; // esi@9
  __int64 v9; // rax@10
  int v10; // eax@11
  signed __int64 v11; // rax@12
  int v12; // ecx@14
  int v13; // eax@23
  int v14; // ecx@23
  bool v15; // zf@23
  signed int v16; // ebp@25
  unsigned int v17; // eax@26
  char *v18; // edi@26
  char v19; // cl@27
  CStatusBar *v20; // ebx@29
  int v21; // [sp+4h] [bp-50h]@9
  _DWORD *v22; // [sp+4h] [bp-50h]@25
  int v23; // [sp+8h] [bp-4Ch]@2
  int v24; // [sp+Ch] [bp-48h]@2
  int v25; // [sp+10h] [bp-44h]@2
  int v26; // [sp+14h] [bp-40h]@23
  int v27; // [sp+18h] [bp-3Ch]@23
  char v28; // [sp+1Ch] [bp-38h]@26
  char v29; // [sp+27h] [bp-2Dh]@26
  char Src; // [sp+28h] [bp-2Ch]@25

  v1 = this;
  if ( *(_DWORD *)(this + 984) )
    return;
  v2 = 0;
  v23 = 0;
  v24 = 0;
  v25 = 0;
  v3 = 0;
  do
  {
    if ( *(_BYTE *)(v2 + *(_DWORD *)(v1 + 2716)) == 1 || *(_BYTE *)(v2 + *(_DWORD *)(v1 + 2720)) == 1 )
    {
      v4 = &v23 + ((unsigned int)(unsigned __int8)byte_528510[v3 * 4] >> 5);
      *v4 |= 1 << (byte_528510[v3 * 4] & 0x1F);
    }
    if ( !*(_BYTE *)(v1 + 1868) )
      InvalidateRect(*(HWND *)(v1 + 32), (const RECT *)&dword_528518[v3], 0);
    v3 += 7;
    ++v2;
  }
  while ( v3 < 385 );
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v21 = 0;
  v8 = 0;
  do
  {
    HIDWORD(v9) = dword_528B38[v8];
    if ( !(HIDWORD(v9) & *(_DWORD *)(v1 + 212)) )
      goto LABEL_22;
    v10 = *(_DWORD *)(v5 + *(_DWORD *)(v1 + 2732));
    if ( v10 == 1 )
    {
      v11 = (signed __int64)dword_528B20[v8] << dword_528B18[v8];
    }
    else if ( v10 == 5 )
    {
      v12 = dword_528B18[v8];
      if ( dword_528B20[v8] == 3 )
      {
        LODWORD(v9) = 4;
        v11 = v9 << v12;
      }
      else
      {
        LODWORD(v9) = 1;
        v11 = v9 << v12;
      }
    }
    else
    {
      if ( *(_DWORD *)(v5 + *(_DWORD *)(v1 + 2736)) != 1 )
        goto LABEL_20;
      v11 = dword_528B20[v8] << dword_528B18[v8];
    }
    v6 |= v11;
    v7 |= HIDWORD(v11);
LABEL_20:
    if ( !*(_BYTE *)(v1 + 1868) )
      InvalidateRect(*(HWND *)(v1 + 32), (const RECT *)&dword_528B28[v8], 0);
LABEL_22:
    v8 += 9;
    v5 = v21 + 4;
    v21 += 4;
  }
  while ( v8 < 288 );
  v13 = v24;
  v14 = v25;
  *(_DWORD *)(v1 + 216) = v23;
  *(_DWORD *)(v1 + 220) = v13;
  v15 = *(_BYTE *)(v1 + 1867) == 0;
  *(_DWORD *)(v1 + 224) = v14;
  *(_DWORD *)(v1 + 228) = v6;
  *(_DWORD *)(v1 + 232) = v7;
  v27 = v6;
  v26 = v7;
  if ( v15 && !*(_DWORD *)(v1 + 964) )
  {
    sprintf(&Src, "key: 0x");
    v16 = 2;
    v22 = (_DWORD *)(v1 + 224);
    do
    {
      sprintf(&v28, "%08x", *v22);
      v17 = strlen(&v28) + 1;
      v18 = &v29;
      do
        v19 = (v18++)[1];
      while ( v19 );
      --v22;
      qmemcpy(v18, &v28, v17);
      --v16;
    }
    while ( v16 >= 0 );
    v20 = (CStatusBar *)(v1 + 2528);
    CStatusBar::SetPaneText(v20, 3, &Src, 1);
    sprintf(&Src, "knob: 0x%08x%08x", v26, v27);
    CStatusBar::SetPaneText(v20, 4, &Src, 1);
  }
}
// 528518: using guessed type int dword_528518[];
// 528B18: using guessed type int dword_528B18[];
// 528B20: using guessed type int dword_528B20[];
// 528B28: using guessed type int dword_528B28[];
// 528B38: using guessed type int dword_528B38[];

//----- (004137D0) --------------------------------------------------------
void __stdcall __noreturn sub_4137D0(LPVOID lpThreadParameter)
{
  SIM_boot(*(_BYTE *)lpThreadParameter);
}

//----- (004137F0) --------------------------------------------------------
DWORD __cdecl sub_4137F0(unsigned int a1)
{
  DWORD v1; // edi@1
  unsigned int v2; // esi@2
  HANDLE v3; // eax@3
  struct _WIN32_FIND_DATAA FindFileData; // [sp+4h] [bp-144h]@3

  v1 = 0;
  if ( a1 < 0x10F )
  {
    v2 = a1;
    if ( *((_BYTE *)SIM_intf + 320) )
      v3 = FindFirstFileA((LPCSTR)(&off_4ADE70)[v2], &FindFileData);
    else
      v3 = FindFirstFileA((LPCSTR)(&off_4AE2B0)[v2], &FindFileData);
    if ( v3 != (HANDLE)-1 )
    {
      v1 = FindFileData.nFileSizeLow - FindFileData.nFileSizeHigh;
      if ( *((_BYTE *)SIM_intf + 320) )
        PlaySoundA((LPCSTR)(&off_4ADE70)[v2], 0, 1u);
      else
        PlaySoundA((LPCSTR)(&off_4AE2B0)[v2], 0, 1u);
    }
  }
  return v1;
}
// 4ADE70: using guessed type char (*off_4ADE70)[4];
// 4AE2B0: using guessed type char (*off_4AE2B0)[4];
// 4B28F0: using guessed type int *SIM_intf;

//----- (004138A0) --------------------------------------------------------
int *sub_4138A0()
{
  char v0; // bl@1
  DWORD v1; // esi@4
  int *result; // eax@5
  DWORD v3; // esi@9

  v0 = 0;
  if ( (unsigned int)SIM_intf[17] >= 0x10F )
    SIM_intf[77] = 0;
  if ( SIM_intf[77] > 0 )
  {
    v0 = 1;
    v1 = sub_4137F0(SIM_intf[17]);
    SIM_intf[79] = ((unsigned int)((unsigned __int64)(799063683i64 * (signed int)v1) >> 32) >> 31)
                 + ((signed int)((unsigned __int64)(799063683i64 * (signed int)v1) >> 32) >> 5)
                 + GetTickCount()
                 + 100;
    --SIM_intf[77];
  }
  result = SIM_intf;
  if ( (unsigned int)SIM_intf[20] >= 0x10F )
    SIM_intf[78] = 0;
  if ( !v0 )
  {
    if ( SIM_intf[78] <= 0 )
    {
      result = SIM_intf;
      if ( *((_WORD *)SIM_intf + 26) <= 1u )
      {
        SIM_intf[79] = 0;
      }
      else
      {
        --*((_WORD *)SIM_intf + 26);
        SIM_intf[77] = *((_WORD *)SIM_intf + 38);
        SIM_intf[78] = *((_WORD *)SIM_intf + 44);
        result = (int *)(SIM_intf[10] + GetTickCount());
        SIM_intf[79] = (int)result;
      }
    }
    else
    {
      v3 = sub_4137F0(SIM_intf[20]);
      SIM_intf[79] = ((unsigned int)((unsigned __int64)(799063683i64 * (signed int)v3) >> 32) >> 31)
                   + ((signed int)((unsigned __int64)(799063683i64 * (signed int)v3) >> 32) >> 5)
                   + GetTickCount()
                   + 100;
      result = SIM_intf;
      --SIM_intf[78];
    }
  }
  return result;
}
// 4B28F0: using guessed type int *SIM_intf;

//----- (00413A40) --------------------------------------------------------
void *__thiscall sub_413A40(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4ADBEC;
  CMenu::DestroyMenu((CMenu *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4ADBEC: using guessed type int (*off_4ADBEC)();

//----- (00413A70) --------------------------------------------------------
void *__thiscall sub_413A70(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_4240A9((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00413AC0) --------------------------------------------------------
void __thiscall sub_413AC0(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // esi@11
  int *v6; // eax@11
  unsigned int v7; // ebp@11
  int v8; // edx@13
  int v9; // edi@16
  int v10; // ebp@47
  signed int v11; // edi@47
  int *v12; // eax@47
  unsigned int v13; // esi@47
  int v14; // edx@49
  char v15; // [sp+7h] [bp-1h]@1

  v4 = a3;
  v15 = 0;
  if ( a3 < *(_DWORD *)(this + 2048)
    || a3 >= *(_DWORD *)(this + 2056)
    || a4 < *(_DWORD *)(this + 2052)
    || a4 >= *(_DWORD *)(this + 2060) )
  {
    v5 = 0;
    v6 = dword_52851C;
    v7 = 0;
    while ( !v15 )
    {
      v8 = *(_DWORD *)(this + 212);
      if ( v8 & v6[3] && a3 >= *(v6 - 1) && a3 <= v6[1] )
      {
        v9 = a4;
        if ( a4 >= *v6 && a4 <= v6[2] )
        {
          *(_BYTE *)(v5 + *(_DWORD *)(this + 2716)) = 1;
LABEL_46:
          v15 = 1;
          break;
        }
      }
      else
      {
        v9 = a4;
      }
      if ( v8 & v6[10] && a3 >= v6[6] && a3 <= v6[8] && v9 >= v6[7] && v9 <= v6[9] )
      {
        *(_BYTE *)(*(_DWORD *)(this + 2716) + v5 + 1) = 1;
        goto LABEL_46;
      }
      if ( v8 & v6[17] && a3 >= v6[13] && a3 <= v6[15] && v9 >= v6[14] && v9 <= v6[16] )
      {
        *(_BYTE *)(*(_DWORD *)(this + 2716) + v5 + 2) = 1;
        goto LABEL_46;
      }
      if ( v8 & v6[24] && a3 >= v6[20] && a3 <= v6[22] && v9 >= v6[21] && v9 <= v6[23] )
      {
        *(_BYTE *)(*(_DWORD *)(this + 2716) + v5 + 3) = 1;
        goto LABEL_46;
      }
      if ( v8 & v6[31] && a3 >= v6[27] && a3 <= v6[29] && v9 >= v6[28] && v9 <= v6[30] )
      {
        *(_BYTE *)(*(_DWORD *)(this + 2716) + v5 + 4) = 1;
        v15 = 1;
      }
      v7 += 140;
      v5 += 5;
      v6 += 35;
      if ( v7 >= 0x604 )
        break;
    }
    v10 = 0;
    v11 = 12;
    v12 = dword_528B2C;
    v13 = 0;
    while ( !v15 )
    {
      v14 = *(_DWORD *)(this + 212);
      if ( v14 & v12[3] && v4 >= *(v12 - 1) && v4 <= v12[1] )
      {
        if ( a4 >= *v12 && a4 <= v12[2] )
        {
          *(_DWORD *)(*(_DWORD *)(this + 2732) + 4 * v10) = 1;
          sub_4133C0(this);
          return;
        }
        v4 = a3;
      }
      if ( v14 & v12[12] && v4 >= v12[8] && v4 <= v12[10] )
      {
        if ( a4 >= v12[9] && a4 <= v12[11] )
        {
          *(_DWORD *)(*(_DWORD *)(this + 2732) + 4 * v10 + 4) = 1;
          sub_4133C0(this);
          return;
        }
        v4 = a3;
      }
      if ( v14 & v12[21] && v4 >= v12[17] && v4 <= v12[19] )
      {
        if ( a4 >= v12[18] && a4 <= v12[20] )
        {
          *(_DWORD *)(*(_DWORD *)(this + 2732) + 4 * v10 + 8) = 1;
          break;
        }
        v4 = a3;
      }
      if ( v14 & v12[30] && v4 >= v12[26] && v4 <= v12[28] && a4 >= v12[27] && a4 <= v12[29] )
      {
        *(_DWORD *)(v11 + *(_DWORD *)(this + 2732)) = 1;
        v15 = 1;
      }
      v13 += 144;
      v10 += 4;
      v11 += 16;
      v12 += 36;
      if ( v13 >= 0x480 )
      {
        sub_4133C0(this);
        return;
      }
    }
    sub_4133C0(this);
  }
  else if ( !*(_BYTE *)(this + 1940) || *(_BYTE *)(this + 1867) )
  {
    if ( *(_BYTE *)(this + 1941) )
    {
      if ( !*(_BYTE *)(this + 1867) )
      {
        *(_DWORD *)(this + 2068) = a3;
        *(_BYTE *)(this + 2064) = 1;
        *(_DWORD *)(this + 2072) = a4;
      }
    }
  }
  else
  {
    *(_DWORD *)(this + 2068) = a3;
    *(_BYTE *)(this + 2065) = 1;
    *(_DWORD *)(this + 2072) = a4;
  }
}
// 52851C: using guessed type int dword_52851C[];
// 528B2C: using guessed type int dword_528B2C[];

//----- (00413DC0) --------------------------------------------------------
void __thiscall sub_413DC0(HWND hWnd, int a2, struct tagPOINT Point)
{
  LONG v3; // ebp@1
  HWND v4; // esi@1
  LONG v5; // edi@1
  int v6; // ecx@1
  int *v7; // eax@1
  unsigned int v8; // ebx@1
  int v9; // edx@3
  unsigned int v10; // ebx@36
  signed int v11; // edx@36
  int *v12; // eax@36
  int v13; // ecx@38
  HMENU v14; // eax@70
  CMenu *v15; // edi@70
  char v16; // [sp+13h] [bp-5h]@1
  int v17; // [sp+14h] [bp-4h]@36

  v3 = Point.x;
  v4 = hWnd;
  v5 = Point.y;
  v6 = 0;
  v16 = 0;
  v7 = dword_52851C;
  v8 = 0;
  while ( !v16 )
  {
    v9 = *((_DWORD *)v4 + 53);
    if ( v9 & v7[3] && v3 >= *(v7 - 1) && v3 <= v7[1] && v5 >= *v7 && v5 <= v7[2] )
    {
      *(_BYTE *)(v6 + *((_DWORD *)v4 + 679)) = 1;
LABEL_35:
      v3 = Point.x;
      v5 = Point.y;
      v16 = 1;
      break;
    }
    if ( v9 & v7[10] && v3 >= v7[6] && v3 <= v7[8] && v5 >= v7[7] && v5 <= v7[9] )
    {
      *(_BYTE *)(*((_DWORD *)v4 + 679) + v6 + 1) = 1;
      goto LABEL_35;
    }
    if ( v9 & v7[17] && v3 >= v7[13] && v3 <= v7[15] && v5 >= v7[14] && v5 <= v7[16] )
    {
      *(_BYTE *)(*((_DWORD *)v4 + 679) + v6 + 2) = 1;
      goto LABEL_35;
    }
    if ( v9 & v7[24] && v3 >= v7[20] && v3 <= v7[22] && v5 >= v7[21] && v5 <= v7[23] )
    {
      *(_BYTE *)(*((_DWORD *)v4 + 679) + v6 + 3) = 1;
      goto LABEL_35;
    }
    if ( v9 & v7[31] && v3 >= v7[27] && v3 <= v7[29] && v5 >= v7[28] && v5 <= v7[30] )
    {
      *(_BYTE *)(*((_DWORD *)v4 + 679) + v6 + 4) = 1;
      v5 = Point.y;
      v3 = Point.x;
      v16 = 1;
    }
    v8 += 140;
    v6 += 5;
    v7 += 35;
    if ( v8 >= 0x604 )
      break;
  }
  v10 = 0;
  v17 = 0;
  v11 = 12;
  v12 = dword_528B2C;
  while ( !v16 )
  {
    v13 = *((_DWORD *)v4 + 53);
    if ( v13 & v12[3] && v3 >= *(v12 - 1) && v3 <= v12[1] && v5 >= *v12 && v5 <= v12[2] )
    {
      *(_DWORD *)(*((_DWORD *)v4 + 683) + 4 * v17) = 5;
LABEL_64:
      v16 = 1;
      break;
    }
    if ( v13 & v12[12] && v3 >= v12[8] && v3 <= v12[10] && v5 >= v12[9] && v5 <= v12[11] )
    {
      *(_DWORD *)(*((_DWORD *)v4 + 683) + 4 * v17 + 4) = 5;
      goto LABEL_64;
    }
    if ( v13 & v12[21] && v3 >= v12[17] && v3 <= v12[19] && v5 >= v12[18] && v5 <= v12[20] )
    {
      *(_DWORD *)(*((_DWORD *)v4 + 683) + 4 * v17 + 8) = 5;
      goto LABEL_64;
    }
    if ( v13 & v12[30] && v3 >= v12[26] && v3 <= v12[28] && v5 >= v12[27] && v5 <= v12[29] )
    {
      *(_DWORD *)(v11 + *((_DWORD *)v4 + 683)) = 5;
      v5 = Point.y;
      v3 = Point.x;
      v16 = 1;
    }
    v17 += 4;
    v10 += 144;
    v11 += 16;
    v12 += 36;
    if ( v10 >= 0x480 )
      break;
  }
  sub_4133C0((int)v4);
  if ( !v16 && !*((_DWORD *)v4 + 242) )
  {
    sub_413050((int)v4);
    if ( *((_BYTE *)v4 + 1867) )
    {
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8010u, *((_BYTE *)v4 + 1860) != 0 ? 8 : 0);
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8014u, *((_BYTE *)v4 + 1861) != 0 ? 8 : 0);
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8018u, *((_BYTE *)v4 + 1863) != 0 ? 8 : 0);
    }
    else
    {
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8010u, *((_BYTE *)v4 + 1860) != 0 ? 8 : 0);
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8014u, *((_BYTE *)v4 + 1861) != 0 ? 8 : 0);
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8012u, *((_BYTE *)v4 + 1862) != 0 ? 8 : 0);
      CheckMenuItem(*((HMENU *)v4 + 533), 0x8018u, *((_BYTE *)v4 + 1863) != 0 ? 8 : 0);
      CheckMenuItem(*((HMENU *)v4 + 533), 0x801Au, *((_BYTE *)v4 + 1864) != 0 ? 8 : 0);
    }
    CheckMenuItem(*((HMENU *)v4 + 533), 0x801Cu, *((_BYTE *)v4 + 1865) != 0 ? 8 : 0);
    v14 = GetSubMenu(*((HMENU *)v4 + 533), 0);
    v15 = CMenu::FromHandle(v14);
    ClientToScreen(*((HWND *)v4 + 8), &Point);
    CMenu::TrackPopupMenu(v15, 2u, Point.x, Point.y, v4, 0);
  }
}
// 52851C: using guessed type int dword_52851C[];
// 528B2C: using guessed type int dword_528B2C[];

//----- (004143C0) --------------------------------------------------------
void __thiscall sub_4143C0(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  bool v5; // zf@2
  HCURSOR v6; // eax@7
  int v7; // ecx@8
  unsigned int v8; // eax@8
  int v9; // ecx@25
  unsigned int v10; // eax@25

  v4 = this;
  if ( a2 != 17 )
  {
    if ( a2 != 16 )
      goto LABEL_8;
    v5 = *(_BYTE *)(this + 1867) == 0;
    *(_BYTE *)(this + 1941) = 0;
    if ( !v5 )
      goto LABEL_8;
    *(_BYTE *)(this + 2064) = 0;
    goto LABEL_7;
  }
  v5 = *(_BYTE *)(this + 1867) == 0;
  *(_BYTE *)(this + 1940) = 0;
  if ( v5 )
  {
    *(_BYTE *)(this + 2065) = 0;
LABEL_7:
    v6 = LoadCursorA(0, (LPCSTR)0x7F00);
    SetCursor(v6);
  }
LABEL_8:
  v7 = 0;
  v8 = 0;
  do
  {
    if ( dword_528528[v8] & *(_DWORD *)(v4 + 212) && dword_528514[v8] == a2 )
      *(_BYTE *)(v7 + *(_DWORD *)(v4 + 2720)) = 0;
    if ( dword_528544[v8] & *(_DWORD *)(v4 + 212) && dword_528530[v8] == a2 )
      *(_BYTE *)(*(_DWORD *)(v4 + 2720) + v7 + 1) = 0;
    if ( dword_528560[v8] & *(_DWORD *)(v4 + 212) && dword_52854C[v8] == a2 )
      *(_BYTE *)(*(_DWORD *)(v4 + 2720) + v7 + 2) = 0;
    if ( dword_52857C[v8] & *(_DWORD *)(v4 + 212) && dword_528568[v8] == a2 )
      *(_BYTE *)(*(_DWORD *)(v4 + 2720) + v7 + 3) = 0;
    if ( dword_528598[v8] & *(_DWORD *)(v4 + 212) && dword_528584[v8] == a2 )
      *(_BYTE *)(*(_DWORD *)(v4 + 2720) + v7 + 4) = 0;
    v8 += 35;
    v7 += 5;
  }
  while ( v8 < 385 );
  v9 = 0;
  v10 = 0;
  do
  {
    if ( dword_528B38[v10] & *(_DWORD *)(v4 + 212) && dword_528B24[v10] == a2 )
      *(_DWORD *)(v9 + *(_DWORD *)(v4 + 2736)) = 0;
    if ( dword_528B5C[v10] & *(_DWORD *)(v4 + 212) && dword_528B48[v10] == a2 )
      *(_DWORD *)(*(_DWORD *)(v4 + 2736) + v9 + 4) = 0;
    if ( dword_528B80[v10] & *(_DWORD *)(v4 + 212) && dword_528B6C[v10] == a2 )
      *(_DWORD *)(*(_DWORD *)(v4 + 2736) + v9 + 8) = 0;
    if ( dword_528BA4[v10] & *(_DWORD *)(v4 + 212) && dword_528B90[v10] == a2 )
      *(_DWORD *)(*(_DWORD *)(v4 + 2736) + v9 + 12) = 0;
    v10 += 36;
    v9 += 16;
  }
  while ( v10 < 288 );
  sub_4133C0(v4);
}
// 528514: using guessed type int dword_528514[];
// 528528: using guessed type int dword_528528[];
// 528530: using guessed type int dword_528530[];
// 528544: using guessed type int dword_528544[];
// 52854C: using guessed type int dword_52854C[];
// 528560: using guessed type int dword_528560[];
// 528568: using guessed type int dword_528568[];
// 52857C: using guessed type int dword_52857C[];
// 528584: using guessed type int dword_528584[];
// 528598: using guessed type int dword_528598[];
// 528B24: using guessed type int dword_528B24[];
// 528B38: using guessed type int dword_528B38[];
// 528B48: using guessed type int dword_528B48[];
// 528B5C: using guessed type int dword_528B5C[];
// 528B6C: using guessed type int dword_528B6C[];
// 528B80: using guessed type int dword_528B80[];
// 528B90: using guessed type int dword_528B90[];
// 528BA4: using guessed type int dword_528BA4[];

//----- (00414690) --------------------------------------------------------
void __thiscall sub_414690(int this)
{
  unsigned int v1; // eax@1
  _DWORD *v2; // edx@1
  unsigned int v3; // eax@5
  unsigned int v4; // eax@7

  v1 = 0;
  v2 = (_DWORD *)(this + 216);
  while ( !*v2 )
  {
    ++v1;
    ++v2;
    if ( v1 >= 3 )
    {
      if ( !*(_QWORD *)(this + 228) )
        return;
      break;
    }
  }
  v3 = 0;
  do
  {
    *(_BYTE *)(v3 + *(_DWORD *)(this + 2720)) = 0;
    *(_BYTE *)(v3++ + *(_DWORD *)(this + 2716)) = 0;
  }
  while ( v3 < 0x37 );
  v4 = 0;
  do
  {
    *(_DWORD *)(v4 + *(_DWORD *)(this + 2736)) = 0;
    *(_DWORD *)(v4 + *(_DWORD *)(this + 2732)) = 0;
    v4 += 4;
  }
  while ( v4 < 0x80 );
  sub_4133C0(this);
}

//----- (00414900) --------------------------------------------------------
BOOL __cdecl sub_414900(int a1, unsigned __int8 *a2)
{
  if ( !a2 )
    sub_401090(-2147467259);
  return _mbscmp(*(const unsigned __int8 **)a1, a2) == 0;
}

//----- (00414930) --------------------------------------------------------
int __thiscall sub_414930(CFrameWnd *this)
{
  CFrameWnd *v1; // esi@1
  int v2; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_4B18CC;
  j__free(*((void **)this + 679));
  j__free(*((void **)v1 + 680));
  j__free(*((void **)v1 + 683));
  j__free(*((void **)v1 + 684));
  *((_DWORD *)v1 + 670) = &off_4AB81C;
  DeleteCriticalSection((LPCRITICAL_SECTION)v1 + 112);
  sub_41BFDA((int)v1 + 2680);
  CStatusBar::~CStatusBar((CFrameWnd *)((char *)v1 + 2528));
  sub_4240A9((int)v1 + 2136);
  *((_DWORD *)v1 + 532) = &off_4ADBEC;
  CMenu::DestroyMenu((CFrameWnd *)((char *)v1 + 2128));
  CStringArray::~CStringArray((CFrameWnd *)((char *)v1 + 1840));
  v2 = *((_DWORD *)v1 + 459) - 16;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v2 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v2 + 4))(v2);
  sub_402710((CFrameWnd *)((char *)v1 + 1708));
  sub_411750((int)v1 + 1504);
  sub_40DA70((int)v1 + 240);
  return CFrameWnd::~CFrameWnd(v1);
}
// 4AB81C: using guessed type int (*off_4AB81C)();
// 4ADBEC: using guessed type int (*off_4ADBEC)();
// 4B18CC: using guessed type int (*off_4B18CC)();

//----- (00414A80) --------------------------------------------------------
signed int __stdcall sub_414A80(const void *a1)
{
  signed int v1; // esi@2

  if ( !memcmp(a1, "COM1", 5u) )
  {
    v1 = 1;
  }
  else if ( !memcmp(a1, "COM2", 5u) )
  {
    v1 = 2;
  }
  else if ( !memcmp(a1, "COM3", 5u) )
  {
    v1 = 3;
  }
  else if ( !memcmp(a1, "COM4", 5u) )
  {
    v1 = 4;
  }
  else if ( !memcmp(a1, "ETHR1", 6u) )
  {
    v1 = 5;
  }
  else
  {
    v1 = memcmp(a1, "ETHR2", 6u) != 0 ? 0 : 6;
  }
  if ( _InterlockedDecrement((volatile signed __int32 *)a1 - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**((_DWORD **)a1 - 4) + 4))((char *)a1 - 16);
  return v1;
}

//----- (00414B40) --------------------------------------------------------
int __thiscall sub_414B40(int this, int a2, int a3, int a4)
{
  int result; // eax@2
  char *v5; // ecx@7
  _BYTE *v6; // edx@7
  char v7; // al@8
  char *v8; // ecx@10
  _BYTE *v9; // edx@10
  char v10; // al@11
  char *v11; // edx@13
  _BYTE *v12; // esi@13
  char v13; // al@14
  _WORD *v14; // edi@15
  char v15; // al@16
  char *v16; // ecx@17
  char *v17; // eax@17
  char v18; // dl@18
  unsigned int v19; // edx@19
  char *v20; // edi@19
  char v21; // cl@20
  char *v22; // ecx@22
  _BYTE *v23; // edx@22
  char v24; // al@23
  char *v25; // ecx@25
  _BYTE *v26; // edx@25
  char v27; // al@26
  char *v28; // ecx@28
  _BYTE *v29; // edx@28
  char v30; // al@29
  char *v31; // ecx@31
  _BYTE *v32; // edx@31
  char v33; // al@32
  char *v34; // ecx@34
  _BYTE *v35; // edx@34
  char v36; // al@35
  char *v37; // ecx@37
  _BYTE *v38; // edx@37
  char v39; // al@38
  int v40; // esi@45
  bool v41; // zf@82

  switch ( a2 )
  {
    case 1025:
      *(_DWORD *)a4 = *(_DWORD *)(this + 216);
      *(_DWORD *)(a4 + 4) = *(_DWORD *)(this + 220);
      *(_DWORD *)(a4 + 8) = *(_DWORD *)(this + 224);
      return 0;
    case 1026:
      *(_DWORD *)a4 = *(_DWORD *)(this + 228);
      *(_DWORD *)(a4 + 4) = *(_DWORD *)(this + 232);
      return 0;
    case 1027:
      *(_DWORD *)a4 = *(_DWORD *)(this + 2020);
      return 0;
    case 1028:
      *(_DWORD *)a4 = *(_DWORD *)(this + 2016);
      return 0;
    case 1032:
      switch ( (unsigned __int16)a3 )
      {
        case 0u:
          v5 = *(char **)(this + 796);
          v6 = (_BYTE *)a4;
          do
          {
            v7 = *v5;
            *v6++ = *v5++;
          }
          while ( v7 );
          result = 0;
          break;
        case 1u:
          v8 = *(char **)(this + 800);
          v9 = (_BYTE *)a4;
          do
          {
            v10 = *v8;
            *v9++ = *v8++;
          }
          while ( v10 );
          result = 0;
          break;
        case 2u:
          v11 = *(char **)(this + 360);
          v12 = (_BYTE *)a4;
          do
          {
            v13 = *v11;
            *v12++ = *v11++;
          }
          while ( v13 );
          v14 = (_WORD *)(a4 - 1);
          do
          {
            v15 = *((_BYTE *)v14 + 1);
            v14 = (_WORD *)((char *)v14 + 1);
          }
          while ( v15 );
          *v14 = 92;
          v16 = *(char **)(this + 364);
          v17 = v16;
          do
            v18 = *v16++;
          while ( v18 );
          v19 = v16 - v17;
          v20 = (char *)(a4 - 1);
          do
            v21 = (v20++)[1];
          while ( v21 );
          qmemcpy(v20, v17, v19);
          result = 0;
          break;
        case 3u:
          v22 = *(char **)(this + 368);
          v23 = (_BYTE *)a4;
          do
          {
            v24 = *v22;
            *v23++ = *v22++;
          }
          while ( v24 );
          result = 0;
          break;
        case 4u:
          v25 = *(char **)(this + 804);
          v26 = (_BYTE *)a4;
          do
          {
            v27 = *v25;
            *v26++ = *v25++;
          }
          while ( v27 );
          result = 0;
          break;
        case 5u:
          v28 = *(char **)(this + 864);
          v29 = (_BYTE *)a4;
          do
          {
            v30 = *v28;
            *v29++ = *v28++;
          }
          while ( v30 );
          result = 0;
          break;
        case 6u:
          v31 = *(char **)(this + 868);
          v32 = (_BYTE *)a4;
          do
          {
            v33 = *v31;
            *v32++ = *v31++;
          }
          while ( v33 );
          result = 0;
          break;
        case 7u:
          v34 = *(char **)(this + 872);
          v35 = (_BYTE *)a4;
          do
          {
            v36 = *v34;
            *v35++ = *v34++;
          }
          while ( v36 );
          result = 0;
          break;
        case 8u:
          v37 = *(char **)(this + 876);
          v38 = (_BYTE *)a4;
          do
          {
            v39 = *v37;
            *v38++ = *v37++;
          }
          while ( v39 );
          result = 0;
          break;
        default:
          *(_BYTE *)a4 = 0;
          result = 0;
          break;
      }
      return result;
    case 1033:
      switch ( a3 )
      {
        case 1:
          *(_QWORD *)a4 = *(_DWORD *)(this + 808);
          return 0;
        case 2:
          *(_QWORD *)a4 = *(_DWORD *)(this + 812);
          return 0;
        case 3:
          *(_QWORD *)a4 = *(_DWORD *)(this + 816);
          return 0;
        case 0:
          v40 = this + 904;
          if ( (unsigned __int8)sub_414900(this + 904, "GDU1045") )
            goto LABEL_102;
          if ( (unsigned __int8)sub_414900(v40, "GDU1040") )
          {
            *(_DWORD *)a4 = 1;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1240") )
          {
            *(_DWORD *)a4 = 18;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1230") )
          {
            *(_DWORD *)a4 = 19;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1220") )
          {
            *(_DWORD *)a4 = 20;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1045B") )
          {
            *(_DWORD *)a4 = 21;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1044B") )
          {
            *(_DWORD *)a4 = 22;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1040A") )
          {
            *(_DWORD *)a4 = 25;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1044") )
          {
            *(_DWORD *)a4 = 26;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1043") )
          {
            *(_DWORD *)a4 = 27;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1042") )
          {
            *(_DWORD *)a4 = 28;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1240A") )
          {
            *(_DWORD *)a4 = 30;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1245") )
          {
            *(_DWORD *)a4 = 31;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1500") )
          {
            *(_DWORD *)a4 = 29;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1030") )
          {
            *(_DWORD *)a4 = 131;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1020") )
          {
            *(_DWORD *)a4 = 132;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1040A_15") )
          {
            *(_DWORD *)a4 = 45;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1044B_15") )
          {
            *(_DWORD *)a4 = 46;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else if ( (unsigned __int8)sub_414900(v40, "GDU1045_15") )
          {
            *(_DWORD *)a4 = 47;
            *(_DWORD *)(a4 + 4) = 0;
            result = 0;
          }
          else
          {
            v41 = (unsigned __int8)sub_414900(v40, "GDU1040_15") == 0;
            *(_DWORD *)(a4 + 4) = 0;
            if ( v41 )
            {
              *(_DWORD *)a4 = 0;
              result = 0;
            }
            else
            {
              *(_DWORD *)a4 = 64;
              result = 0;
            }
          }
          return result;
        case 4:
          *(_QWORD *)a4 = *(_DWORD *)(this + 824);
          return 0;
        case 5:
          *(_QWORD *)a4 = *(_DWORD *)(this + 828);
          return 0;
        case 6:
          *(_QWORD *)a4 = *(_DWORD *)(this + 832);
          return 0;
        case 7:
          *(_QWORD *)a4 = *(_DWORD *)(this + 836);
          return 0;
        case 8:
          *(_QWORD *)a4 = *(_DWORD *)(this + 840);
          return 0;
        case 9:
          *(_QWORD *)a4 = *(_DWORD *)(this + 844);
          return 0;
        case 10:
          *(_QWORD *)a4 = *(_DWORD *)(this + 908);
          return 0;
        case 11:
          *(_QWORD *)a4 = *(_DWORD *)(this + 912);
          return 0;
        case 12:
          *(_QWORD *)a4 = *(_DWORD *)(this + 916);
          return 0;
        case 13:
          *(_QWORD *)a4 = *(_DWORD *)(this + 920);
          return 0;
        case 14:
          *(_QWORD *)a4 = *(_DWORD *)(this + 924);
          return 0;
        case 15:
          *(_QWORD *)a4 = *(_DWORD *)(this + 928);
          return 0;
        case 16:
          *(_QWORD *)a4 = *(_DWORD *)(this + 932);
          return 0;
        case 17:
          *(_QWORD *)a4 = *(_DWORD *)(this + 940);
          return 0;
        case 24:
          *(_QWORD *)a4 = *(_DWORD *)(this + 936);
          return 0;
        case 25:
          if ( *(_BYTE *)(this + 1866) )
            sub_4138A0();
          goto LABEL_102;
        default:
          goto LABEL_102;
        case 26:
          *(_QWORD *)a4 = *(_DWORD *)(this + 820);
          result = 0;
          break;
        case 27:
          *(_QWORD *)a4 = *(_DWORD *)(this + 2096);
          result = 0;
          break;
        case 28:
          *(_QWORD *)a4 = *(_DWORD *)(this + 2092);
          result = 0;
          break;
      }
      return result;
    default:
LABEL_102:
      *(_DWORD *)a4 = 0;
      *(_DWORD *)(a4 + 4) = 0;
      return 0;
    case 1036:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 816) )
        {
          *(_DWORD *)(this + 816) = 1;
          sub_40D290((void *)(this + 240));
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 816) )
        return 0;
      *(_DWORD *)(this + 816) = 0;
      sub_40D290((void *)(this + 240));
      return 0;
    case 1037:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 832) )
        {
          *(_DWORD *)(this + 832) = 1;
          sub_40D290((void *)(this + 240));
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 832) )
        return 0;
      *(_DWORD *)(this + 832) = 0;
      sub_40D290((void *)(this + 240));
      return 0;
    case 1034:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 824) )
        {
          sub_412AF0(this);
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 824) )
        return 0;
      sub_412AF0(this);
      return 0;
    case 1035:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 828) )
        {
          sub_412B10(this);
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 828) )
        return 0;
      sub_412B10(this);
      return 0;
    case 1038:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 908) )
        {
          *(_DWORD *)(this + 908) = 1;
          sub_40D290((void *)(this + 240));
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 908) )
        return 0;
      *(_DWORD *)(this + 908) = 0;
      sub_40D290((void *)(this + 240));
      return 0;
    case 1039:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 912) )
        {
          *(_DWORD *)(this + 912) = 1;
          sub_40D290((void *)(this + 240));
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 912) )
        return 0;
      *(_DWORD *)(this + 912) = 0;
      sub_40D290((void *)(this + 240));
      return 0;
    case 1040:
      if ( a3 )
      {
        if ( a3 == 1 && !*(_DWORD *)(this + 916) )
        {
          *(_DWORD *)(this + 916) = 1;
          sub_40D290((void *)(this + 240));
          return 0;
        }
        return 0;
      }
      if ( !*(_DWORD *)(this + 916) )
        return 0;
      *(_DWORD *)(this + 916) = 0;
      sub_40D290((void *)(this + 240));
      return 0;
  }
}

//----- (004155D0) --------------------------------------------------------
struct CMenu *__usercall sub_4155D0@<eax>(int a1@<edi>, const char *a2)
{
  void *v2; // eax@1
  UINT v3; // esi@1
  HMENU v4; // ST08_4@3
  int v5; // ebx@3
  int v6; // eax@7
  struct CMenu *result; // eax@9
  HMENU v8; // eax@10
  struct CMenu *v9; // esi@10
  int v10; // eax@10
  int v11; // [sp+10h] [bp-10h]@3
  int v12; // [sp+1Ch] [bp-4h]@3

  v2 = sub_41BC2E();
  v3 = 0;
  if ( v2 == 0 )
    sub_401090(-2147467259);
  v11 = (*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16;
  v4 = *(HMENU *)(a1 + 4);
  v12 = 0;
  v5 = GetMenuItemCount(v4);
  if ( v5 <= 0 )
  {
LABEL_7:
    v6 = v11 - 16;
    v12 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v11 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v6 + 4))(v6);
    result = 0;
  }
  else
  {
    while ( !CMenu::GetMenuStringA(v3, (int)&v11, 0x400u) || strcmp((const char *)v11, a2) )
    {
      if ( (signed int)++v3 >= v5 )
        goto LABEL_7;
    }
    v8 = GetSubMenu(*(HMENU *)(a1 + 4), v3);
    v9 = CMenu::FromHandle(v8);
    v10 = v11 - 16;
    v12 = -1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v11 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v10 + 4))(v10);
    result = v9;
  }
  return result;
}

//----- (00415720) --------------------------------------------------------
int __thiscall sub_415720(int *this, int a2)
{
  int *v2; // edi@1
  int result; // eax@5

  v2 = this;
  if ( ((*(_DWORD *)(*this - 8) - a2) | (1 - *(_DWORD *)(*this - 16 + 12))) < 0 )
    sub_4018C0(this, a2);
  if ( a2 < 0 || a2 > *(_DWORD *)(*v2 - 8) )
    sub_401090(-2147024809);
  *(_DWORD *)(*v2 - 12) = a2;
  result = *v2;
  *(_BYTE *)(a2 + *v2) = 0;
  return result;
}

//----- (00415770) --------------------------------------------------------
void *__thiscall sub_415770(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_414930((CFrameWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00415790) --------------------------------------------------------
int *__thiscall sub_415790(int *this)
{
  int *v1; // ebx@1
  const unsigned __int8 *v2; // esi@1
  unsigned __int8 v3; // al@1
  const unsigned __int8 *v4; // edi@1
  unsigned __int8 *v5; // eax@6

  v1 = this;
  v2 = (const unsigned __int8 *)*this;
  v3 = *(_BYTE *)*this;
  v4 = 0;
  if ( v3 )
  {
    do
    {
      if ( sub_483EF2(v3) )
      {
        if ( !v4 )
          v4 = v2;
      }
      else
      {
        v4 = 0;
      }
      v5 = _mbsinc(v2);
      v2 = v5;
      v3 = *v5;
    }
    while ( v3 );
    if ( v4 )
      sub_415720(v1, (int)&v4[-*v1]);
  }
  return v1;
}

//----- (004157E0) --------------------------------------------------------
int *__thiscall sub_4157E0(int *this)
{
  int *v1; // edi@1
  unsigned __int8 *i; // esi@1
  int v3; // eax@3
  int v4; // ecx@4
  int v5; // ebx@4
  int v6; // esi@6
  int v7; // eax@6

  v1 = this;
  for ( i = (unsigned __int8 *)*this; sub_483EF2(*i); i = _mbsinc(i) )
    ;
  v3 = *v1;
  if ( i != (unsigned __int8 *)*v1 )
  {
    v4 = *(_DWORD *)(v3 - 12);
    v5 = (int)&i[-v3];
    if ( ((*(_DWORD *)(v3 - 8) - v4) | (1 - *(_DWORD *)(v3 - 4))) < 0 )
      sub_4018C0(v1, v4);
    v6 = *(_DWORD *)(*v1 - 12) - v5;
    v7 = memmove_s((void *)*v1, v6 + 1, (const void *)(*v1 + v5), v6 + 1);
    sub_401000(v7);
    if ( v6 < 0 || v6 > *(_DWORD *)(*v1 - 8) )
      sub_401090(-2147024809);
    *(_DWORD *)(*v1 - 12) = v6;
    *(_BYTE *)(v6 + *v1) = 0;
  }
  return v1;
}

//----- (00415880) --------------------------------------------------------
int __cdecl sub_415880(int a1, int a2, void *a3)
{
  int v3; // ecx@1
  int v4; // eax@2
  void *v5; // eax@3
  rsize_t v6; // eax@7

  v3 = *(_DWORD *)(*(_DWORD *)a2 - 16);
  if ( !v3 || (v4 = (*(int (**)(void))(*(_DWORD *)v3 + 16))()) == 0 )
  {
    v5 = sub_41BC2E();
    v4 = (*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 16))(v5);
  }
  if ( !v4 )
    sub_401090(-2147467259);
  *(_DWORD *)a1 = (*(int (__thiscall **)(int))(*(_DWORD *)v4 + 12))(v4) + 16;
  if ( a3 )
    v6 = strlen((const char *)a3);
  else
    v6 = 0;
  sub_40DCF0(a1, *(void **)a2, *(_DWORD *)(*(_DWORD *)a2 - 12), a3, v6);
  return a1;
}

//----- (00415960) --------------------------------------------------------
int __thiscall sub_415960(int *this, void *Src)
{
  int result; // eax@2

  if ( Src )
    result = sub_408770(this, Src, strlen((const char *)Src));
  else
    result = sub_408770(this, 0, 0);
  return result;
}

//----- (004159A0) --------------------------------------------------------
char __stdcall sub_4159A0(int a1, LPBYTE lpData)
{
  char result; // al@2
  HKEY phkResult; // [sp+8h] [bp-110h]@1
  DWORD cbData; // [sp+Ch] [bp-10Ch]@1
  BYTE Data; // [sp+10h] [bp-108h]@3

  cbData = 260;
  if ( RegOpenKeyExA(HKEY_LOCAL_MACHINE, "HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0", 0, 0x20019u, &phkResult) )
  {
    result = 0;
  }
  else
  {
    RegQueryValueExA(phkResult, "ProcessorNameString", 0, 0, &Data, &cbData);
    RegQueryValueExA(phkResult, "~MHz", 0, 0, lpData, &cbData);
    sub_404170(a1, word_4ACFA8, &Data);
    sub_4157E0((int *)a1);
    sub_415790((int *)a1);
    result = 1;
  }
  return result;
}

//----- (00415A70) --------------------------------------------------------
void __thiscall sub_415A70(CWnd *this)
{
  CWnd *v1; // ebp@1
  void *v2; // eax@2
  signed int v3; // ebx@2
  void *v4; // eax@4
  void *v5; // eax@6
  int *v6; // eax@8
  HANDLE v7; // esi@8
  int v8; // eax@8
  unsigned __int8 *v9; // edi@13
  int v10; // ebp@14
  int v11; // esi@14
  int *v12; // esi@24
  int *v13; // eax@24
  void **v14; // eax@24
  char *v15; // eax@24
  int v16; // eax@26
  int v17; // eax@28
  const char *v18; // ST18_4@29
  int v19; // eax@29
  int *v20; // esi@31
  void **v21; // eax@31
  void **v22; // eax@31
  int v23; // eax@31
  int *v24; // esi@34
  int *v25; // eax@34
  void **v26; // eax@34
  int v27; // eax@34
  char *v28; // eax@37
  int v29; // eax@40
  CWnd *v30; // eax@42
  char *v31; // ebp@42
  int *v32; // esi@42
  int *v33; // eax@42
  void **v34; // eax@42
  int v35; // eax@42
  char *v36; // eax@44
  int v37; // eax@46
  CWnd *v38; // eax@48
  char *v39; // esi@48
  int v40; // edi@48
  int v41; // [sp+14h] [bp-FCh]@24
  HANDLE hObject; // [sp+18h] [bp-F8h]@8
  int v43; // [sp+1Ch] [bp-F4h]@8
  int v44; // [sp+20h] [bp-F0h]@14
  unsigned __int8 *v45; // [sp+24h] [bp-ECh]@8
  char *v46; // [sp+28h] [bp-E8h]@4
  CWnd *v47; // [sp+2Ch] [bp-E4h]@1
  DWORD NumberOfBytesRead; // [sp+30h] [bp-E0h]@11
  char *v49; // [sp+34h] [bp-DCh]@6
  char Buffer[200]; // [sp+38h] [bp-D8h]@11
  int v51; // [sp+10Ch] [bp-4h]@4

  v1 = this;
  v47 = this;
  if ( !CDialog::OnInitDialog(this) )
    goto LABEL_54;
  v2 = sub_41BC2E();
  v3 = 0;
  if ( v2 == 0 )
    sub_401090(-2147467259);
  v46 = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16);
  v51 = 0;
  v4 = sub_41BC2E();
  if ( v4 == 0 )
    sub_401090(-2147467259);
  v49 = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16);
  LOBYTE(v51) = 1;
  v5 = sub_41BC2E();
  if ( v5 == 0 )
    sub_401090(-2147467259);
  v45 = (unsigned __int8 *)((*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 12))(v5) + 16);
  LOBYTE(v51) = 2;
  sub_401C40((int *)&v45, pszFaceName, 0);
  v6 = sub_407B00(&v43, ".\\trainermode");
  v7 = CreateFileA((LPCSTR)*v6, 0x80000000, 0, 0, 3u, 0x80u, 0);
  v8 = v43 - 16;
  hObject = v7;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v43 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v8 + 4))(v8);
  if ( v7 != (HANDLE)-1 && ReadFile(v7, Buffer, 0xFFu, &NumberOfBytesRead, 0) && (signed int)NumberOfBytesRead > 0 )
  {
    v9 = v45;
    do
    {
      v10 = *((_DWORD *)v9 - 3);
      LOBYTE(v44) = Buffer[v3];
      v11 = v10 + 1;
      if ( ((1 - *((_DWORD *)v9 - 1)) | (*((_DWORD *)v9 - 2) - (v10 + 1))) < 0 )
      {
        sub_4018C0((int *)&v45, v10 + 1);
        v9 = v45;
      }
      v9[v10] = v44;
      if ( v11 < 0 || v11 > *((_DWORD *)v9 - 2) )
        sub_401090(-2147024809);
      *((_DWORD *)v9 - 3) = v11;
      ++v3;
      v9[v11] = 0;
    }
    while ( v3 < (signed int)NumberOfBytesRead );
    v7 = hObject;
    v1 = v47;
  }
  else
  {
    v9 = v45;
  }
  CloseHandle(v7);
  if ( !*((_DWORD *)v1 + 29) )
  {
    CWnd::SetWindowTextA(v1, "Garmin Integrated Flight Deck Simulator ");
    v24 = sub_407B00(&v43, "14.01");
    LOBYTE(v51) = 10;
    v25 = sub_407B00((int *)&hObject, "Garmin Integrated Flight Deck Simulator, version ");
    LOBYTE(v51) = 11;
    v26 = (void **)sub_40DD90(&v41, (void **)v25, (void **)v24);
    LOBYTE(v51) = 12;
    sub_401CF0((int *)&v46, v26);
    v27 = v41 - 16;
    LOBYTE(v51) = 11;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v41 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v27 + 4))(v27);
    LOBYTE(v51) = 10;
    goto LABEL_37;
  }
  if ( _mbscmp(v9, (const unsigned __int8 *)pszFaceName) != 0 )
  {
    v18 = *(const char **)sub_415880((int)&v41, (int)&v45, " Trainer ");
    LOBYTE(v51) = 6;
    CWnd::SetWindowTextA(v1, v18);
    v19 = v41 - 16;
    LOBYTE(v51) = 2;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v41 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v19 + 4))(v19);
    v20 = sub_407B00(&v43, "14.01");
    LOBYTE(v51) = 7;
    v21 = (void **)sub_415880((int)&hObject, (int)&v45, " Trainer, version ");
    LOBYTE(v51) = 8;
    v22 = (void **)sub_40DD90(&v41, v21, (void **)v20);
    LOBYTE(v51) = 9;
    sub_401CF0((int *)&v46, v22);
    v23 = v41 - 16;
    LOBYTE(v51) = 8;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v41 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v23 + 4))(v23);
    LOBYTE(v51) = 7;
LABEL_37:
    v28 = (char *)hObject - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)hObject - 1) <= 0 )
      (*(void (__stdcall **)(char *))(**(_DWORD **)v28 + 4))(v28);
    v17 = v43;
    goto LABEL_40;
  }
  CWnd::SetWindowTextA(v1, "Garmin Integrated Flight Deck Trainer ");
  v12 = sub_407B00(&v41, "14.01");
  LOBYTE(v51) = 3;
  v13 = sub_407B00(&v43, "Garmin Integrated Flight Deck Trainer, version ");
  LOBYTE(v51) = 4;
  v14 = (void **)sub_40DD90(&hObject, (void **)v13, (void **)v12);
  LOBYTE(v51) = 5;
  sub_401CF0((int *)&v46, v14);
  v15 = (char *)hObject - 16;
  LOBYTE(v51) = 4;
  if ( _InterlockedDecrement((volatile signed __int32 *)hObject - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**(_DWORD **)v15 + 4))(v15);
  v16 = v43 - 16;
  LOBYTE(v51) = 3;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v43 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v16 + 4))(v16);
  v17 = v41;
LABEL_40:
  v29 = v17 - 16;
  LOBYTE(v51) = 2;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v29 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v29 + 4))(v29);
  v30 = CWnd::GetDlgItem(v1, 1059);
  v31 = v46;
  CWnd::SetWindowTextA(v30, v46);
  v32 = sub_407B00(&v43, "(c) 2002-13 Garmin Ltd or subs");
  LOBYTE(v51) = 13;
  v33 = sub_407B00((int *)&hObject, "Copyright ");
  LOBYTE(v51) = 14;
  v34 = (void **)sub_40DD90(&v41, (void **)v33, (void **)v32);
  LOBYTE(v51) = 15;
  sub_401CF0((int *)&v49, v34);
  v35 = v41 - 16;
  LOBYTE(v51) = 14;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v41 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v35 + 4))(v35);
  v36 = (char *)hObject - 16;
  LOBYTE(v51) = 13;
  if ( _InterlockedDecrement((volatile signed __int32 *)hObject - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**(_DWORD **)v36 + 4))(v36);
  v37 = v43 - 16;
  LOBYTE(v51) = 2;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v43 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v37 + 4))(v37);
  v38 = CWnd::GetDlgItem(v47, 1061);
  v39 = v49;
  CWnd::SetWindowTextA(v38, v49);
  v40 = (int)(v9 - 16);
  LOBYTE(v51) = 1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v40 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v40 + 4))(v40);
  LOBYTE(v51) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)v39 - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**((_DWORD **)v39 - 4) + 4))(v39 - 16);
  v51 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)v31 - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**((_DWORD **)v31 - 4) + 4))(v31 - 16);
LABEL_54:
  sub_4815FE(v41);
}
// 415A70: using guessed type char Buffer[200];

//----- (00416070) --------------------------------------------------------
void __thiscall sub_416070(void *this)
{
  void *v1; // ebx@1
  void *v2; // eax@1
  void *v3; // eax@3
  int v4; // eax@5
  char *v5; // ebp@5
  const CHAR *v6; // eax@5
  void **v7; // ebx@5
  HANDLE v8; // esi@5
  const CHAR *v9; // edi@6
  int *v10; // eax@8
  LPCSTR *v11; // eax@8
  HANDLE v12; // esi@8
  int v13; // eax@8
  int v14; // eax@10
  int *v15; // eax@16
  int v16; // eax@16
  int *v17; // eax@20
  void **v18; // eax@20
  LPCSTR *v19; // eax@20
  int v20; // eax@20
  int v21; // eax@22
  int v22; // eax@24
  int v23; // eax@26
  bool v24; // zf@29
  bool v25; // sf@29
  char *v26; // ebx@30
  void *v27; // ecx@33
  int v28; // esi@33
  int v29; // ebx@36
  void *v30; // ecx@45
  int v31; // esi@45
  int v32; // ebp@48
  int v33; // esi@52
  int v34; // eax@54
  int v35; // esi@56
  int v36; // eax@58
  unsigned __int8 v37; // of@61
  int v38; // esi@62
  int v39; // ebx@66
  HMENU v40; // eax@66
  struct CMenu *v41; // eax@66
  struct CMenu *v42; // edi@66
  int v43; // esi@66
  int v44; // esi@70
  int v45; // edx@73
  int v46; // esi@81
  HMENU v47; // eax@83
  struct CMenu *v48; // eax@83
  int v49; // ebp@84
  char *v50; // eax@86
  char v51; // [sp+24h] [bp-190h]@0
  char v52; // [sp+27h] [bp-18Dh]@70
  HANDLE hFindFile; // [sp+28h] [bp-18Ch]@8
  HANDLE hFindFilea; // [sp+28h] [bp-18Ch]@28
  char *Str; // [sp+2Ch] [bp-188h]@3
  int v56; // [sp+30h] [bp-184h]@8
  int v57; // [sp+34h] [bp-180h]@16
  int v58; // [sp+38h] [bp-17Ch]@8
  char *v59; // [sp+3Ch] [bp-178h]@5
  int v60; // [sp+40h] [bp-174h]@1
  char v61; // [sp+44h] [bp-170h]@1
  int v62; // [sp+48h] [bp-16Ch]@33
  int v63; // [sp+4Ch] [bp-168h]@16
  int v64; // [sp+58h] [bp-15Ch]@20
  int v65; // [sp+5Ch] [bp-158h]@20
  int v66; // [sp+60h] [bp-154h]@20
  struct _WIN32_FIND_DATAA FindFileData; // [sp+64h] [bp-150h]@5
  int v68; // [sp+1B0h] [bp-4h]@1

  v1 = this;
  v60 = (int)this;
  sub_42ABE2((int)&v61);
  v68 = 0;
  v2 = sub_41BC2E();
  if ( !v2 )
LABEL_2:
    sub_401090(-2147467259);
  Str = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16);
  LOBYTE(v68) = 1;
  v3 = sub_41BC2E();
  if ( !v3 )
    sub_401090(-2147467259);
  v4 = (*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 12))(v3);
  v5 = (char *)(v4 + 16);
  v59 = (char *)(v4 + 16);
  v6 = (const CHAR *)*((_DWORD *)v1 + 90);
  v7 = (void **)((char *)v1 + 360);
  LOBYTE(v68) = 2;
  v8 = FindFirstFileA(v6, &FindFileData);
  if ( v8 == (HANDLE)-1 )
  {
    v9 = (const CHAR *)(sub_401910((int)*v7 - 16) + 16);
    CreateDirectoryA(v9, 0);
    if ( _InterlockedDecrement((volatile signed __int32 *)v9 - 1) <= 0 )
      (*(void (__stdcall **)(const CHAR *))(**((_DWORD **)v9 - 4) + 4))(v9 - 16);
  }
  else if ( !(FindFileData.dwFileAttributes & 0x10) )
  {
    goto LABEL_40;
  }
  FindClose(v8);
  v10 = sub_407B00(&v58, &dword_4AD2E8);
  LOBYTE(v68) = 3;
  v11 = (LPCSTR *)sub_40DD90(&v56, v7, (void **)v10);
  v12 = FindFirstFileA(*v11, &FindFileData);
  v13 = v56 - 16;
  hFindFile = v12;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v56 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v13 + 4))(v13);
  v14 = v58 - 16;
  LOBYTE(v68) = 2;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v58 - 16 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v14 + 4))(v14);
  if ( v12 == (HANDLE)-1 )
  {
LABEL_40:
    AfxMessageBox("Invalid installation, please reinstall.", 0, 0);
    exit_0(-1);
  }
  do
  {
    if ( memcmp(FindFileData.cFileName, ".", 2u) )
    {
      if ( memcmp(FindFileData.cFileName, "..", 3u) )
      {
        if ( FindFileData.dwFileAttributes & 0x10 )
        {
          v15 = sub_407B00(&v57, FindFileData.cFileName);
          LOBYTE(v68) = 4;
          sub_42AF79((CStringArray *)&v61, v63, (int)v15);
          v16 = v57 - 16;
          LOBYTE(v68) = 2;
          if ( _InterlockedDecrement((volatile signed __int32 *)(v57 - 16 + 12)) <= 0 )
            (*(void (__stdcall **)(int))(**(_DWORD **)v16 + 4))(v16);
        }
      }
    }
  }
  while ( FindNextFileA(hFindFile, &FindFileData) );
  FindClose(hFindFile);
  if ( v63 < 1 )
  {
    sub_407B00(&v58, "unknown");
    LOBYTE(v68) = 5;
    v17 = sub_407B00(&v66, word_4B1AF8);
    LOBYTE(v68) = 6;
    v18 = (void **)sub_40DD90(&v64, v7, (void **)v17);
    LOBYTE(v68) = 7;
    v19 = (LPCSTR *)sub_40DD90(&v65, v18, (void **)&v58);
    CreateDirectoryA(*v19, 0);
    v20 = v65 - 16;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v65 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v20 + 4))(v20);
    v21 = v64 - 16;
    LOBYTE(v68) = 6;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v64 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v21 + 4))(v21);
    v22 = v66 - 16;
    LOBYTE(v68) = 5;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v66 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v22 + 4))(v22);
    sub_42AF79((CStringArray *)&v61, v63, (int)&v58);
    v23 = v58 - 16;
    LOBYTE(v68) = 2;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v58 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v23 + 4))(v23);
  }
  hFindFilea = (HANDLE)(v60 + 1840);
  CStringArray::SetSize((CStringArray *)(v60 + 1840), 0, -1);
  v56 = 0;
  if ( v63 > 0 )
  {
    while ( 1 )
    {
      v24 = *(_DWORD *)(v60 + 1848) == 0;
      v25 = *(_DWORD *)(v60 + 1848) < 0;
      v57 = 0;
      if ( !v25 && !v24 )
        break;
LABEL_62:
      v38 = v56;
      if ( v56 < 0 || v56 >= v63 )
        goto LABEL_79;
      sub_42AFC9((CStringArray *)hFindFilea, v57, (void **)(v62 + 4 * v56), 1);
      v56 = v38 + 1;
      if ( v38 + 1 >= v63 )
        goto LABEL_65;
    }
    v26 = Str;
    while ( v56 >= 0 && v56 < v63 )
    {
      v27 = *(void **)(v62 + 4 * v56);
      v28 = (int)(v26 - 16);
      if ( (char *)v27 - 16 != v26 - 16 )
      {
        if ( *(_DWORD *)(v28 + 12) < 0 || *((_DWORD *)v27 - 4) != *(_DWORD *)v28 )
        {
          sub_401C40((int *)&Str, v27, *((_DWORD *)v27 - 3));
          v26 = Str;
        }
        else
        {
          v29 = sub_401910((int)v27 - 16);
          if ( _InterlockedDecrement((volatile signed __int32 *)(v28 + 12)) <= 0 )
            (*(void (__stdcall **)(int))(**(_DWORD **)v28 + 4))(v28);
          v26 = (char *)(v29 + 16);
          Str = v26;
        }
      }
      if ( v57 < 0 || v57 >= *((_DWORD *)hFindFilea + 2) )
        break;
      v30 = *(void **)(*((_DWORD *)hFindFilea + 1) + 4 * v57);
      v31 = (int)(v5 - 16);
      if ( (char *)v30 - 16 != v5 - 16 )
      {
        if ( *(_DWORD *)(v31 + 12) < 0 || *((_DWORD *)v30 - 4) != *(_DWORD *)v31 )
        {
          sub_401C40((int *)&v59, v30, *((_DWORD *)v30 - 3));
          v5 = v59;
        }
        else
        {
          v32 = sub_401910((int)v30 - 16);
          if ( _InterlockedDecrement((volatile signed __int32 *)(v31 + 12)) <= 0 )
            (*(void (__stdcall **)(int))(**(_DWORD **)v31 + 4))(v31);
          v5 = (char *)(v32 + 16);
          v59 = v5;
        }
      }
      v33 = *((_DWORD *)v26 - 3);
      if ( ((1 - *((_DWORD *)v26 - 1)) | (*((_DWORD *)v26 - 2) - v33)) < 0 )
      {
        sub_4018C0((int *)&Str, *((_DWORD *)v26 - 3));
        v26 = Str;
      }
      v34 = sub_483DBA(v26, v33 + 1);
      sub_401000(v34);
      if ( v33 < 0 || v33 > *((_DWORD *)v26 - 2) )
        goto LABEL_91;
      *((_DWORD *)v26 - 3) = v33;
      v26[v33] = 0;
      v35 = *((_DWORD *)v5 - 3);
      if ( ((1 - *((_DWORD *)v5 - 1)) | (*((_DWORD *)v5 - 2) - v35)) < 0 )
      {
        sub_4018C0((int *)&v59, *((_DWORD *)v5 - 3));
        v5 = v59;
      }
      v36 = sub_483DBA(v5, v35 + 1);
      sub_401000(v36);
      if ( v35 < 0 || v35 > *((_DWORD *)v5 - 2) )
LABEL_91:
        sub_401090(-2147024809);
      *((_DWORD *)v5 - 3) = v35;
      v5[v35] = 0;
      if ( _mbscmp((const unsigned __int8 *)v26, (const unsigned __int8 *)v5) > 0 )
      {
        v37 = __OFSUB__(v57 + 1, *(_DWORD *)(v60 + 1848));
        v25 = v57++ + 1 - *(_DWORD *)(v60 + 1848) < 0;
        if ( v25 ^ v37 )
          continue;
      }
      goto LABEL_62;
    }
LABEL_79:
    unknown_libname_36();
  }
LABEL_65:
  if ( !*(_DWORD *)(v60 + 968) )
  {
    v39 = v60;
    v40 = GetMenu(*(HWND *)(v60 + 32));
    v41 = CMenu::FromHandle(v40);
    v42 = sub_4155D0((int)v41, "&Airframe");
    RemoveMenu(*((HMENU *)v42 + 1), 0, 0x400u);
    v43 = 0;
    if ( *(_DWORD *)(v39 + 1848) > 0 )
    {
      while ( v43 >= 0 && v43 < *((_DWORD *)hFindFilea + 2) )
      {
        InsertMenuA(
          *((HMENU *)v42 + 1),
          0xFFFFFFFF,
          0x400u,
          v43 + 4000,
          *(LPCSTR *)(*((_DWORD *)hFindFilea + 1) + 4 * v43));
        if ( ++v43 >= *(_DWORD *)(v39 + 1848) )
          goto LABEL_70;
      }
      goto LABEL_79;
    }
LABEL_70:
    v44 = 0;
    v52 = 0;
    if ( *(_DWORD *)(v39 + 1848) <= 0 )
      goto LABEL_92;
    do
    {
      if ( v44 < 0 || v44 >= *((_DWORD *)hFindFilea + 2) )
        goto LABEL_79;
      v45 = *((_DWORD *)hFindFilea + 1);
      if ( !*(_DWORD *)(v45 + 4 * v44) )
        goto LABEL_2;
      if ( _mbscmp(*(const unsigned __int8 **)(v39 + 364), *(const unsigned __int8 **)(v45 + 4 * v44)) == 0 )
      {
        v56 = v44;
        v52 = 1;
      }
      ++v44;
    }
    while ( v44 < *(_DWORD *)(v39 + 1848) );
    if ( v52 )
    {
      v46 = v56;
    }
    else
    {
LABEL_92:
      if ( *((_DWORD *)hFindFilea + 2) <= 0 )
        goto LABEL_79;
      sub_401CF0((int *)(v39 + 364), *((void ***)hFindFilea + 1));
      v46 = 0;
    }
    v47 = GetMenu(*(HWND *)(v39 + 32));
    v48 = CMenu::FromHandle(v47);
    CheckMenuItem(*((HMENU *)v48 + 1), v46 + 4000, 8u);
    sub_40D290((void *)(v39 + 240));
  }
  v49 = (int)(v5 - 16);
  LOBYTE(v68) = 1;
  if ( _InterlockedDecrement((volatile signed __int32 *)(v49 + 12)) <= 0 )
    (*(void (__stdcall **)(int))(**(_DWORD **)v49 + 4))(v49);
  v50 = Str - 16;
  LOBYTE(v68) = 0;
  if ( _InterlockedDecrement((volatile signed __int32 *)Str - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**(_DWORD **)v50 + 4))(v50);
  v68 = -1;
  CStringArray::~CStringArray((CStringArray *)&v61);
  sub_4815FE(v51);
}
// 4AD2E8: using guessed type int dword_4AD2E8;

//----- (00416800) --------------------------------------------------------
void __thiscall sub_416800(void *this)
{
  int v1; // ebp@1
  void *v2; // eax@1
  void *v3; // eax@3
  int *v4; // eax@3
  int v5; // ecx@3
  void (__stdcall *v6)(int *, signed int, _DWORD, signed int, signed int, int, _DWORD); // edx@3
  _DWORD *v7; // ebx@3
  bool v8; // zf@3
  int *v9; // esi@4
  int *v10; // eax@4
  void **v11; // eax@4
  void **v12; // eax@4
  LPCSTR *v13; // eax@4
  HANDLE v14; // esi@4
  int v15; // eax@4
  int v16; // eax@6
  int v17; // eax@8
  int v18; // eax@10
  int v19; // eax@12
  unsigned __int8 *v20; // edx@17
  char v21; // bl@18
  int v22; // edi@18
  int v23; // esi@18
  int v24; // eax@22
  char v25; // al@57
  int *v26; // ecx@57
  const unsigned __int8 **v27; // esi@62
  const WCHAR *v28; // eax@64
  unsigned __int8 *v29; // eax@104
  unsigned __int8 *v30; // [sp+E4h] [bp-1D0h]@3
  LPCWSTR lpName; // [sp+E8h] [bp-1CCh]@3
  float *v32; // [sp+ECh] [bp-1C8h]@3
  int v33; // [sp+F0h] [bp-1C4h]@3
  DWORD NumberOfBytesRead; // [sp+F4h] [bp-1C0h]@15
  int v35; // [sp+F8h] [bp-1BCh]@4
  void *v36; // [sp+FCh] [bp-1B8h]@3
  void *v37; // [sp+100h] [bp-1B4h]@3
  int v38; // [sp+104h] [bp-1B0h]@4
  int v39; // [sp+108h] [bp-1ACh]@4
  int v40; // [sp+10Ch] [bp-1A8h]@4
  HANDLE v41; // [sp+110h] [bp-1A4h]@4
  int v42; // [sp+114h] [bp-1A0h]@4
  float v43; // [sp+118h] [bp-19Ch]@3
  float v44; // [sp+11Ch] [bp-198h]@3
  float v45; // [sp+120h] [bp-194h]@3
  float v46; // [sp+124h] [bp-190h]@3
  float v47; // [sp+128h] [bp-18Ch]@3
  float v48; // [sp+12Ch] [bp-188h]@3
  float v49; // [sp+130h] [bp-184h]@3
  float v50; // [sp+134h] [bp-180h]@3
  float v51; // [sp+138h] [bp-17Ch]@3
  float v52; // [sp+13Ch] [bp-178h]@3
  float v53; // [sp+140h] [bp-174h]@3
  float v54; // [sp+144h] [bp-170h]@3
  float v55; // [sp+148h] [bp-16Ch]@3
  float v56; // [sp+14Ch] [bp-168h]@3
  float v57; // [sp+150h] [bp-164h]@3
  float v58; // [sp+154h] [bp-160h]@3
  float v59; // [sp+158h] [bp-15Ch]@3
  float v60; // [sp+15Ch] [bp-158h]@3
  float v61; // [sp+160h] [bp-154h]@3
  float v62; // [sp+164h] [bp-150h]@3
  float v63; // [sp+168h] [bp-14Ch]@3
  float v64; // [sp+16Ch] [bp-148h]@3
  float v65; // [sp+170h] [bp-144h]@3
  float v66; // [sp+174h] [bp-140h]@3
  float v67; // [sp+178h] [bp-13Ch]@3
  float v68; // [sp+17Ch] [bp-138h]@3
  float v69; // [sp+180h] [bp-134h]@3
  float v70; // [sp+184h] [bp-130h]@3
  float v71; // [sp+188h] [bp-12Ch]@3
  float v72; // [sp+18Ch] [bp-128h]@3
  float v73; // [sp+190h] [bp-124h]@3
  float v74; // [sp+194h] [bp-120h]@3
  float v75; // [sp+198h] [bp-11Ch]@3
  float v76; // [sp+19Ch] [bp-118h]@3
  float v77; // [sp+1A0h] [bp-114h]@3
  float v78; // [sp+1A4h] [bp-110h]@3
  float v79; // [sp+1A8h] [bp-10Ch]@3
  float v80; // [sp+1ACh] [bp-108h]@3
  float v81; // [sp+1B0h] [bp-104h]@3
  float v82; // [sp+1B4h] [bp-100h]@3
  float v83; // [sp+1B8h] [bp-FCh]@3
  float v84; // [sp+1BCh] [bp-F8h]@3
  float v85; // [sp+1C0h] [bp-F4h]@3
  float v86; // [sp+1C4h] [bp-F0h]@3
  float v87; // [sp+1C8h] [bp-ECh]@3
  float v88; // [sp+1CCh] [bp-E8h]@3
  float v89; // [sp+1D0h] [bp-E4h]@3
  float v90; // [sp+1D4h] [bp-E0h]@3
  float v91; // [sp+1D8h] [bp-DCh]@3
  float v92; // [sp+1DCh] [bp-D8h]@3
  float v93; // [sp+1E0h] [bp-D4h]@3
  float v94; // [sp+1E4h] [bp-D0h]@3
  float v95; // [sp+1E8h] [bp-CCh]@3
  float v96; // [sp+1ECh] [bp-C8h]@3
  float v97; // [sp+1F0h] [bp-C4h]@3
  float v98; // [sp+1F4h] [bp-C0h]@3
  float v99; // [sp+1F8h] [bp-BCh]@3
  float v100; // [sp+1FCh] [bp-B8h]@3
  float v101; // [sp+200h] [bp-B4h]@3
  float v102; // [sp+204h] [bp-B0h]@3
  float v103; // [sp+208h] [bp-ACh]@3
  float v104; // [sp+20Ch] [bp-A8h]@3
  float v105; // [sp+210h] [bp-A4h]@3
  float v106; // [sp+214h] [bp-A0h]@3
  float v107; // [sp+218h] [bp-9Ch]@3
  float v108; // [sp+21Ch] [bp-98h]@3
  float v109; // [sp+220h] [bp-94h]@3
  float v110; // [sp+224h] [bp-90h]@3
  float v111; // [sp+228h] [bp-8Ch]@3
  float v112; // [sp+22Ch] [bp-88h]@3
  float v113; // [sp+230h] [bp-84h]@3
  float v114; // [sp+234h] [bp-80h]@3
  float v115; // [sp+238h] [bp-7Ch]@3
  float v116; // [sp+23Ch] [bp-78h]@3
  float v117; // [sp+240h] [bp-74h]@3
  float v118; // [sp+244h] [bp-70h]@3
  float v119; // [sp+248h] [bp-6Ch]@3
  float v120; // [sp+24Ch] [bp-68h]@3
  float v121; // [sp+250h] [bp-64h]@3
  float v122; // [sp+254h] [bp-60h]@3
  float v123; // [sp+258h] [bp-5Ch]@3
  float v124; // [sp+25Ch] [bp-58h]@3
  float v125; // [sp+260h] [bp-54h]@3
  float v126; // [sp+264h] [bp-50h]@3
  float v127; // [sp+268h] [bp-4Ch]@3
  float v128; // [sp+26Ch] [bp-48h]@3
  float v129; // [sp+270h] [bp-44h]@3
  float v130; // [sp+274h] [bp-40h]@3
  float v131; // [sp+278h] [bp-3Ch]@3
  float v132; // [sp+27Ch] [bp-38h]@3
  float v133; // [sp+280h] [bp-34h]@3
  float v134; // [sp+284h] [bp-30h]@3
  float v135; // [sp+288h] [bp-2Ch]@3
  float v136; // [sp+28Ch] [bp-28h]@3
  float v137; // [sp+290h] [bp-24h]@3
  float v138; // [sp+294h] [bp-20h]@3
  char Buffer[12]; // [sp+298h] [bp-1Ch]@15
  int v140; // [sp+2B0h] [bp-4h]@3

  v1 = (int)this;
  v2 = sub_41BC2E();
  if ( !v2 )
    sub_401090(-2147467259);
  v30 = (unsigned __int8 *)((*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16);
  v140 = 0;
  sub_401C40((int *)&v30, pszFaceName, 0);
  v33 = 0;
  v36 = calloc(0x64u, 1u);
  v3 = calloc(0x64u, 1u);
  v43 = 121.0;
  v37 = v3;
  v44 = 0.0;
  v45 = 0.5;
  v46 = 1.0;
  v47 = 0.0;
  v48 = 0.0;
  v49 = 1145.0;
  v55 = 1145.0;
  v50 = 0.0;
  v54 = 0.0;
  v51 = 0.5;
  v52 = 1.0;
  v53 = 1.0;
  v56 = 40.0;
  v57 = 0.5;
  v58 = 1.0;
  v59 = 1.0;
  v60 = 0.625;
  v66 = 0.625;
  v61 = 121.0;
  v67 = 121.0;
  v62 = 40.0;
  v63 = 0.5;
  v64 = 1.0;
  v65 = 0.0;
  v68 = 808.0;
  v74 = 808.0;
  v69 = 0.5;
  v75 = 0.5;
  v70 = 1.0;
  v76 = 1.0;
  v77 = 1.0;
  v71 = 0.0;
  v72 = 0.0;
  v78 = 0.0;
  v73 = 1145.0;
  v79 = 1145.0;
  v80 = 902.0;
  v81 = 0.5;
  v82 = 1.0;
  v83 = 1.0;
  v84 = 0.7265625;
  v90 = 0.7265625;
  v85 = 121.0;
  v86 = 902.0;
  v87 = 0.5;
  v117 = 0.5;
  v88 = 1.0;
  v118 = 1.0;
  v89 = 0.0;
  v116 = 0.0;
  v115 = 1145.0;
  v119 = 0.88085938;
  v120 = 0.0;
  v121 = 1266.0;
  v122 = 0.0;
  v123 = 0.5;
  v124 = 1.0;
  v125 = 0.88085938;
  v126 = 0.9375;
  v127 = 1266.0;
  v128 = 902.0;
  v129 = 0.5;
  v130 = 1.0;
  v131 = 0.0;
  v132 = 0.9375;
  v133 = 1145.0;
  v134 = 902.0;
  v135 = 0.5;
  v93 = 0.5;
  v99 = 0.5;
  v136 = 1.0;
  v94 = 1.0;
  v100 = 1.0;
  v137 = 0.0;
  v138 = 0.0;
  v91 = 0.0;
  v92 = 0.0;
  v96 = 0.0;
  v98 = 0.0;
  v95 = 0.88085938;
  v101 = 0.88085938;
  v97 = 121.0;
  v102 = 0.9453125;
  v108 = 0.9453125;
  v103 = 121.0;
  v4 = *(int **)(v1 + 2020);
  v5 = *v4;
  v104 = 902.0;
  v6 = *(void (__stdcall **)(int *, signed int, _DWORD, signed int, signed int, int, _DWORD))(v5 + 104);
  v110 = 902.0;
  v105 = 0.5;
  v7 = (_DWORD *)(v1 + 2508);
  v111 = 0.5;
  v106 = 1.0;
  v112 = 1.0;
  v107 = 0.0;
  v109 = 0.0;
  v113 = 0.0;
  v114 = 0.0;
  v6(v4, 96, 0, 260, 1, v1 + 2508, 0);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int, signed int, int, _DWORD))(**(_DWORD **)(v1 + 2020) + 104))(
    *(_DWORD *)(v1 + 2020),
    96,
    0,
    260,
    1,
    v1 + 2512,
    0);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int, signed int, int, _DWORD))(**(_DWORD **)(v1 + 2020) + 104))(
    *(_DWORD *)(v1 + 2020),
    96,
    0,
    260,
    1,
    v1 + 2516,
    0);
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, int, _DWORD))(**(_DWORD **)(v1 + 2020) + 104))(
    *(_DWORD *)(v1 + 2020),
    96,
    0,
    260,
    1,
    v1 + 2520,
    0);
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, float **, _DWORD))(*(_DWORD *)*v7 + 44))(*v7, 0, 96, &v32, 0);
  qmemcpy(v32, &v43, 0x60u);
  (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v7 + 48))(*v7);
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, float **, _DWORD))(**(_DWORD **)(v1 + 2512) + 44))(
    *(_DWORD *)(v1 + 2512),
    0,
    96,
    &v32,
    0);
  qmemcpy(v32, &v67, 0x60u);
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 2512) + 48))(*(_DWORD *)(v1 + 2512));
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, float **, _DWORD))(**(_DWORD **)(v1 + 2516) + 44))(
    *(_DWORD *)(v1 + 2516),
    0,
    96,
    &v32,
    0);
  qmemcpy(v32, &v115, 0x60u);
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 2516) + 48))(*(_DWORD *)(v1 + 2516));
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, float **, _DWORD))(**(_DWORD **)(v1 + 2520) + 44))(
    *(_DWORD *)(v1 + 2520),
    0,
    96,
    &v32,
    0);
  qmemcpy(v32, &v91, 0x60u);
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 2520) + 48))(*(_DWORD *)(v1 + 2520));
  sub_436016(*(_DWORD *)(v1 + 2020), 0, (LPCWSTR)0x9A, v1 + 2492);
  sub_436016(*(_DWORD *)(v1 + 2020), 0, (LPCWSTR)0x9B, v1 + 2496);
  v8 = *(_BYTE *)(v1 + 1867) == 0;
  lpName = (LPCWSTR)160;
  if ( !v8 )
  {
    v9 = sub_407B00(&v40, "\\afcsmode");
    LOBYTE(v140) = 1;
    v10 = sub_407B00(&v35, word_4B1AF8);
    LOBYTE(v140) = 2;
    v11 = (void **)sub_40DD90(&v38, (void **)(v1 + 360), (void **)v10);
    LOBYTE(v140) = 3;
    v12 = (void **)sub_40DD90(&v42, v11, (void **)(v1 + 364));
    LOBYTE(v140) = 4;
    v13 = (LPCSTR *)sub_40DD90(&v39, v12, (void **)v9);
    v14 = CreateFileA(*v13, 0x80000000, 0, 0, 3u, 0x80u, 0);
    v15 = v39 - 16;
    v41 = v14;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v39 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v15 + 4))(v15);
    v16 = v42 - 16;
    LOBYTE(v140) = 3;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v42 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v16 + 4))(v16);
    v17 = v38 - 16;
    LOBYTE(v140) = 2;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v38 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v17 + 4))(v17);
    v18 = v35 - 16;
    LOBYTE(v140) = 1;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v35 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v18 + 4))(v18);
    v19 = v40 - 16;
    LOBYTE(v140) = 0;
    if ( _InterlockedDecrement((volatile signed __int32 *)(v40 - 16 + 12)) <= 0 )
      (*(void (__stdcall **)(int))(**(_DWORD **)v19 + 4))(v19);
    if ( v14 == (HANDLE)-1 )
    {
      sub_401C40((int *)(v1 + 904), "GDU1040", 7u);
      goto LABEL_61;
    }
    if ( ReadFile(v14, Buffer, 0xFFu, &NumberOfBytesRead, 0) )
    {
      if ( (signed int)NumberOfBytesRead > 0 )
      {
        v20 = v30;
        do
        {
          v21 = Buffer[v33];
          v22 = *((_DWORD *)v20 - 3);
          v23 = v22 + 1;
          if ( ((1 - *((_DWORD *)v20 - 1)) | (*((_DWORD *)v20 - 2) - (v22 + 1))) < 0 )
          {
            sub_4018C0((int *)&v30, v22 + 1);
            v20 = v30;
          }
          v20[v22] = v21;
          if ( v23 < 0 || v23 > *((_DWORD *)v20 - 2) )
            sub_401090(-2147024809);
          v24 = v33;
          *((_DWORD *)v20 - 3) = v23;
          v20[v23] = 0;
          v33 = v24 + 1;
        }
        while ( v24 + 1 < (signed int)NumberOfBytesRead );
        v14 = v41;
      }
      if ( _mbscmp(v30, "1040") == 0 )
      {
        sub_404910((int *)(v1 + 904), "GDU1040");
LABEL_61:
        sub_40D290((void *)(v1 + 240));
        CloseHandle(v14);
        goto LABEL_62;
      }
      if ( (unsigned __int8)sub_414900((int)&v30, "1040a") )
      {
        sub_404910((int *)(v1 + 904), "GDU1040A");
        goto LABEL_61;
      }
      if ( (unsigned __int8)sub_414900((int)&v30, "1020") )
      {
        sub_404910((int *)(v1 + 904), "GDU1020");
        goto LABEL_61;
      }
      if ( (unsigned __int8)sub_414900((int)&v30, "1030") )
      {
        sub_404910((int *)(v1 + 904), "GDU1030");
        goto LABEL_61;
      }
      if ( (unsigned __int8)sub_414900((int)&v30, "1042") )
      {
        sub_404910((int *)(v1 + 904), "GDU1042");
        goto LABEL_61;
      }
      if ( (unsigned __int8)sub_414900((int)&v30, "1044") )
      {
        sub_404910((int *)(v1 + 904), "GDU1044");
        goto LABEL_61;
      }
      if ( (unsigned __int8)sub_414900((int)&v30, "1044b") )
      {
        sub_404910((int *)(v1 + 904), "GDU1044B");
        goto LABEL_61;
      }
      if ( !(unsigned __int8)sub_414900((int)&v30, "1045") )
      {
        if ( (unsigned __int8)sub_414900((int)&v30, "1240a") )
        {
          sub_404910((int *)(v1 + 904), "GDU1240A");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1220") )
        {
          sub_404910((int *)(v1 + 904), "GDU1220");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1230") )
        {
          sub_404910((int *)(v1 + 904), "GDU1230");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1245") )
        {
          sub_404910((int *)(v1 + 904), "GDU1245");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1500") )
        {
          sub_404910((int *)(v1 + 904), "GDU1500");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1040a_15") )
        {
          sub_404910((int *)(v1 + 904), "GDU1040A_15");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1040_15") )
        {
          sub_404910((int *)(v1 + 904), "GDU1040_15");
        }
        else if ( (unsigned __int8)sub_414900((int)&v30, "1044b_15") )
        {
          sub_404910((int *)(v1 + 904), "GDU1044B_15");
        }
        else
        {
          v25 = sub_414900((int)&v30, "1045_15");
          v26 = (int *)(v1 + 904);
          if ( v25 )
            sub_404910(v26, "GDU1045_15");
          else
            sub_404910(v26, "GDU1045");
        }
        goto LABEL_61;
      }
    }
    sub_404910((int *)(v1 + 904), "GDU1045");
    goto LABEL_61;
  }
LABEL_62:
  v27 = (const unsigned __int8 **)(v1 + 904);
  if ( _mbscmp(*(const unsigned __int8 **)(v1 + 904), "GDU1045") == 0 )
    goto LABEL_102;
  if ( _mbscmp(*v27, "GDU1040") == 0 )
  {
    *(_DWORD *)(v1 + 212) = 128;
    v28 = (const WCHAR *)156;
    goto LABEL_104;
  }
  if ( _mbscmp(*v27, "GDU1035") != 0 )
  {
    if ( _mbscmp(*v27, "GDU1030") == 0 )
    {
      *(_DWORD *)(v1 + 212) = 32;
      v28 = (const WCHAR *)162;
      lpName = (LPCWSTR)152;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1020") )
    {
LABEL_91:
      *(_DWORD *)(v1 + 212) = 0x10000;
      v28 = (const WCHAR *)153;
      lpName = (LPCWSTR)151;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1025") )
    {
      *(_DWORD *)(v1 + 212) = 16;
      goto LABEL_103;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1045B") )
    {
      *(_DWORD *)(v1 + 212) = 8;
      v28 = (const WCHAR *)156;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1044B") )
    {
      *(_DWORD *)(v1 + 212) = 4;
      v28 = (const WCHAR *)158;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1043B") )
    {
      *(_DWORD *)(v1 + 212) = 2;
      v28 = (const WCHAR *)156;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1042B") )
    {
      *(_DWORD *)(v1 + 212) = 1;
      v28 = (const WCHAR *)156;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1040A") )
      goto LABEL_96;
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1044") )
    {
      *(_DWORD *)(v1 + 212) = 1024;
      v28 = (const WCHAR *)161;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1043") )
    {
      *(_DWORD *)(v1 + 212) = 2048;
      v28 = (const WCHAR *)156;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1042") )
    {
      *(_DWORD *)(v1 + 212) = 4096;
      v28 = (const WCHAR *)157;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1240A") )
    {
LABEL_96:
      *(_DWORD *)(v1 + 212) = 512;
      v28 = (const WCHAR *)153;
      lpName = (LPCWSTR)152;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1230") )
    {
      *(_DWORD *)(v1 + 212) = 32;
      v28 = (const WCHAR *)162;
      lpName = (LPCWSTR)152;
      goto LABEL_104;
    }
    if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1220") )
      goto LABEL_91;
    if ( !(unsigned __int8)sub_414900(v1 + 904, "GDU1245") )
    {
      if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1500") )
      {
        *(_DWORD *)(v1 + 212) = 0x8000;
        v28 = (const WCHAR *)162;
        lpName = (LPCWSTR)151;
        goto LABEL_104;
      }
      if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1040A_15") )
        goto LABEL_96;
      if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1040_15") )
      {
        *(_DWORD *)(v1 + 212) = 128;
        v28 = (const WCHAR *)156;
        goto LABEL_104;
      }
      if ( (unsigned __int8)sub_414900(v1 + 904, "GDU1044B_15") )
      {
        *(_DWORD *)(v1 + 212) = 4;
        v28 = (const WCHAR *)158;
        goto LABEL_104;
      }
      sub_414900(v1 + 904, "GDU1045_15");
    }
LABEL_102:
    *(_DWORD *)(v1 + 212) = 256;
    goto LABEL_103;
  }
  *(_DWORD *)(v1 + 212) = 64;
LABEL_103:
  v28 = (const WCHAR *)159;
LABEL_104:
  sub_436016(*(_DWORD *)(v1 + 2020), 0, v28, v1 + 2504);
  sub_436016(*(_DWORD *)(v1 + 2020), 0, lpName, v1 + 2500);
  InvalidateRect(*(HWND *)(v1 + 32), 0, 0);
  free(v36);
  free(v37);
  v29 = v30 - 16;
  v140 = -1;
  if ( _InterlockedDecrement((volatile signed __int32 *)v30 - 1) <= 0 )
    (*(void (__stdcall **)(unsigned __int8 *))(**(_DWORD **)v29 + 4))(v29);
  sub_4815FE((char)v30);
}
// 416800: using guessed type char Buffer[12];

//----- (00417650) --------------------------------------------------------
void __thiscall sub_417650(CWnd *this)
{
  CWnd *v1; // ebp@1
  void *v2; // eax@1
  void *v3; // eax@3
  void *v4; // eax@5
  void *v5; // eax@7
  void *v6; // eax@9
  signed int v7; // edi@11
  int *v8; // eax@11
  const CHAR *v9; // esi@11
  char *v10; // eax@11
  unsigned __int8 *v11; // edx@16
  unsigned __int32 v12; // esi@17
  int v13; // eax@17
  int v14; // esi@17
  char *v15; // esi@23
  char *v16; // ecx@23
  char *v17; // edx@23
  char v18; // al@24
  unsigned int v19; // edi@29
  HANDLE v20; // eax@32
  IDirect3D9 *v21; // eax@39
  unsigned int v22; // eax@42
  unsigned int v23; // eax@44
  int v24; // ecx@46
  unsigned int v25; // eax@46
  int v26; // ecx@48
  unsigned int v27; // eax@48
  void *v28; // esi@50
  int v29; // eax@50
  bool v30; // zf@65
  CHAR *v31; // ecx@68
  CHAR *v32; // edx@68
  CHAR v33; // al@69
  int v34; // eax@70
  unsigned int v35; // eax@72
  char *v36; // edi@72
  char v37; // cl@73
  char *v38; // edi@74
  char *v39; // esi@74
  char v40; // cl@74
  int v41; // eax@74
  CHAR *v42; // ecx@77
  CHAR *v43; // edx@77
  CHAR v44; // al@78
  int v45; // eax@79
  unsigned int v46; // eax@81
  char *v47; // edi@81
  char v48; // cl@82
  int v49; // edx@83
  char *v50; // edi@83
  char *v51; // esi@83
  char v52; // cl@83
  int v53; // eax@83
  LONG v54; // eax@85
  LONG v55; // esi@86
  LONG v56; // edi@86
  HWND v57; // ecx@90
  HWND v58; // edx@92
  int v59; // eax@94
  int v60; // eax@94
  int v61; // eax@94
  int v62; // ecx@94
  CWnd *v63; // esi@94
  int v64; // eax@94
  int v65; // ST9C_4@94
  int v66; // eax@94
  int v67; // ecx@94
  int v68; // eax@97
  HANDLE v69; // eax@100
  int v70; // eax@100
  int v71; // ecx@101
  int v72; // eax@103
  signed int v73; // esi@112
  CWnd *v74; // edi@112
  const char *v75; // ecx@114
  int v76; // esi@115
  int (*v77)(void); // edx@115
  int v78; // esi@115
  int (__thiscall ***v79)(_DWORD, _DWORD, _DWORD); // eax@115
  int v80; // edi@117
  int v81; // eax@118
  int v82; // eax@120
  unsigned __int32 v83; // esi@120
  HMENU v84; // eax@123
  struct CMenu *v85; // eax@123
  struct AFX_MODULE_STATE *v86; // eax@125
  HMENU v87; // eax@125
  struct AFX_MODULE_STATE *v88; // eax@128
  HMENU v89; // eax@128
  unsigned __int8 *v90; // eax@129
  int v91; // edx@130
  char *v92; // eax@131
  int v93; // edx@132
  const char *v94; // eax@133
  int v95; // edx@134
  char *v96; // eax@135
  int v97; // edx@136
  HWND v98; // [sp+90h] [bp-664h]@90
  HWND v99; // [sp+94h] [bp-660h]@90
  const char *v100; // [sp+A8h] [bp-64Ch]@1
  unsigned int v101; // [sp+C0h] [bp-634h]@111
  LPCSTR lpMenuName; // [sp+C4h] [bp-630h]@11
  void *v103; // [sp+C8h] [bp-62Ch]@11
  unsigned __int8 *v104; // [sp+CCh] [bp-628h]@11
  unsigned __int32 v105; // [sp+D0h] [bp-624h]@17
  unsigned __int8 v106; // [sp+D4h] [bp-620h]@17
  unsigned int v107; // [sp+D8h] [bp-61Ch]@111
  char *v108; // [sp+DCh] [bp-618h]@5
  int v109; // [sp+E0h] [bp-614h]@111
  int v110; // [sp+E4h] [bp-610h]@77
  char *v111; // [sp+E8h] [bp-60Ch]@9
  char ArgList[4]; // [sp+ECh] [bp-608h]@7
  DWORD NumberOfBytesRead; // [sp+F0h] [bp-604h]@14
  BYTE Data[4]; // [sp+F4h] [bp-600h]@36
  int v115; // [sp+F8h] [bp-5FCh]@68
  struct tagRECT Rect; // [sp+FCh] [bp-5F8h]@86
  struct tagRECT rc; // [sp+10Ch] [bp-5E8h]@74
  struct tagRECT v118; // [sp+11Ch] [bp-5D8h]@86
  DWORD ThreadId; // [sp+12Ch] [bp-5C8h]@121
  CWnd *v120; // [sp+130h] [bp-5C4h]@1
  struct _SYSTEM_INFO SystemInfo; // [sp+134h] [bp-5C0h]@28
  struct _WIN32_FIND_DATAA FindFileData; // [sp+158h] [bp-59Ch]@72
  CHAR Src; // [sp+298h] [bp-45Ch]@29
  char Buffer[200]; // [sp+3C4h] [bp-330h]@14
  CHAR FileName; // [sp+48Ch] [bp-268h]@29
  CHAR Text; // [sp+5B8h] [bp-13Ch]@98
  int v127; // [sp+6F0h] [bp-4h]@1

  v1 = this;
  v120 = this;
  CFrameWnd::CFrameWnd();
  v100 = 0;
  v127 = 0;
  *(_DWORD *)v1 = &off_4B18CC;
  sub_40D740((char *)v1 + 240, (int)v100);
  sub_4116D0((_DWORD *)v1 + 376, 0);
  sub_402680((_DWORD *)v1 + 427);
  LOBYTE(v127) = 3;
  v2 = sub_41BC2E();
  if ( v2 == 0 )
    sub_401090(-2147467259);
  *((_DWORD *)v1 + 459) = (*(int (__thiscall **)(void *))(*(_DWORD *)v2 + 12))(v2) + 16;
  sub_42ABE2((int)v1 + 1840);
  *((_DWORD *)v1 + 532) = &off_4ADBEC;
  *((_DWORD *)v1 + 533) = 0;
  sub_410410((_DWORD *)v1 + 534, 0);
  CStatusBar::CStatusBar((char *)v1 + 2528);
  sub_402540((_DWORD *)v1 + 670);
  LOBYTE(v127) = 9;
  v3 = sub_41BC2E();
  if ( v3 == 0 )
    sub_401090(-2147467259);
  v108 = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v3 + 12))(v3) + 16);
  LOBYTE(v127) = 10;
  v4 = sub_41BC2E();
  if ( v4 == 0 )
    sub_401090(-2147467259);
  *(_DWORD *)ArgList = (*(int (__thiscall **)(void *))(*(_DWORD *)v4 + 12))(v4) + 16;
  LOBYTE(v127) = 11;
  v5 = sub_41BC2E();
  if ( v5 == 0 )
    sub_401090(-2147467259);
  v111 = (char *)((*(int (__thiscall **)(void *))(*(_DWORD *)v5 + 12))(v5) + 16);
  LOBYTE(v127) = 12;
  v6 = sub_41BC2E();
  if ( v6 == 0 )
    sub_401090(-2147467259);
  v104 = (unsigned __int8 *)((*(int (__thiscall **)(void *))(*(_DWORD *)v6 + 12))(v6) + 16);
  *((_DWORD *)v1 + 486) = 0;
  *((_DWORD *)v1 + 487) = 0;
  *((_BYTE *)v1 + 2064) = 0;
  *((_BYTE *)v1 + 2065) = 0;
  *((_BYTE *)v1 + 1868) = 0;
  *((_BYTE *)v1 + 1869) = 0;
  *((_BYTE *)v1 + 1940) = 0;
  *((_BYTE *)v1 + 1941) = 0;
  *((_BYTE *)v1 + 1952) = 0;
  *((_BYTE *)v1 + 1930) = 1;
  *((_DWORD *)v1 + 241) = 0;
  *((_DWORD *)v1 + 242) = 0;
  *((_DWORD *)v1 + 243) = 0;
  *((_DWORD *)v1 + 244) = 0;
  *((_DWORD *)v1 + 245) = 0;
  *((_DWORD *)v1 + 246) = 0;
  LOBYTE(v127) = 13;
  memset(SIM_intf + 6, 0, 0x11Cu);
  SIM_intf[79] = 0;
  SIM_intf[77] = 0;
  v100 = 0;
  SIM_intf[78] = 0;
  v7 = 0;
  sub_401C40((int *)&v104, pszFaceName, (rsize_t)v100);
  v100 = ".\\trainermode";
  *((_BYTE *)v1 + 1867) = 1;
  v8 = sub_407B00((int *)&v103, (void *)v100);
  v9 = (const CHAR *)CreateFileA((LPCSTR)*v8, 0x80000000, 0, 0, 3u, 0x80u, 0);
  v10 = (char *)v103 - 16;
  lpMenuName = v9;
  if ( _InterlockedDecrement((volatile signed __int32 *)v103 - 1) <= 0 )
    (*(void (__stdcall **)(char *))(**(_DWORD **)v10 + 4))(v10);
  if ( v9 != (const CHAR *)-1
    && ReadFile((HANDLE)v9, Buffer, 0xFFu, &NumberOfBytesRead, 0)
    && (signed int)NumberOfBytesRead > 0 )
  {
    v11 = v104;
    do
    {
      v12 = *((_DWORD *)v11 - 3);
      v106 = Buffer[v7];
      v13 = *((_DWORD *)v11 - 2);
      v105 = v12;
      v14 = v12 + 1;
      if ( ((1 - *((_DWORD *)v11 - 1)) | (v13 - v14)) < 0 )
      {
        sub_4018C0((int *)&v104, v14);
        v11 = v104;
      }
      v11[v105] = v106;
      if ( v14 < 0 || v14 > *((_DWORD *)v11 - 2) )
        sub_401090(-2147024809);
      *((_DWORD *)v11 - 3) = v14;
      ++v7;
      v11[v14] = 0;
    }
    while ( v7 < (signed int)NumberOfBytesRead );
    v9 = lpMenuName;
  }
  CloseHandle((HANDLE)v9);
  v15 = (char *)calloc(0x1F4u, 1u);
  v16 = *(char **)(*((_DWORD *)AfxGetModuleState() + 1) + 72);
  v17 = v15;
  do
  {
    v18 = *v16;
    *v17++ = *v16++;
  }
  while ( v18 );
  sub_412CF0((int)v1, v15);
  free(v15);
  sub_40F5F0((char *)v1 + 240, *((_BYTE *)v1 + 1867), *((_DWORD *)v1 + 484));
  sub_406A50();
  if ( *((_DWORD *)v1 + 247) == 1 && sub_40DE50((char *)v1 + 240) )
    sub_40D290((char *)v1 + 240);
  v100 = (const char *)&SystemInfo;
  *((_DWORD *)v1 + 59) = 0;
  GetSystemInfo((LPSYSTEM_INFO)v100);
  if ( SystemInfo.dwNumberOfProcessors > 1 )
  {
    FileName = 0;
    GetTempPathA(0x12Cu, &Src);
    v19 = 0;
    do
    {
      _snprintf(&FileName, 0x12Cu, "%s\\garmin_gdu_sim_cpu%i.dat", &Src, v19);
      if ( CreateFileA(&FileName, 0xC0000000, 1u, 0, 1u, 0x4000000u, 0) != (HANDLE)-1 )
        break;
      ++v19;
    }
    while ( (signed int)v19 < 100 );
    v100 = (const char *)(1 << v19 % SystemInfo.dwNumberOfProcessors);
    v20 = GetCurrentProcess();
    if ( !SetProcessAffinityMask(v20, (DWORD_PTR)v100) )
    {
      sub_401C40((int *)&v108, "This application was designed for single processor systems.\n", 0x3Cu);
      sub_408770((int *)&v108, "Hyperthreading is enabled on this PC.\n", 0x26u);
      sub_408770((int *)&v108, "Please disable Hyperthreading then restart the application.", 0x3Bu);
      AfxMessageBox(v108, 0x10u, 0);
      exit_0(-1);
    }
  }
  if ( sub_4159A0((int)ArgList, Data) && *(_DWORD *)Data < 1700 )
  {
    sub_404170(
      (int)&v111,
      "This system processor (%s) does not meet the 1.8GHz minimum system requirement.  Performance may be sub-optimal.  (%d)",
      *(_DWORD *)ArgList,
      *(_DWORD *)Data);
    AfxMessageBox(v111, 0x30u, 0);
  }
  v21 = Direct3DCreate9(0x1Fu);
  *((_DWORD *)v1 + 489) = v21;
  if ( !v21 )
  {
    AfxMessageBox("This program requires DirectX 9.0b or higher!", 0x30u, 0);
    exit_0(-1);
  }
  *((_DWORD *)v1 + 54) = 0;
  *((_DWORD *)v1 + 55) = 0;
  v100 = (const char *)55;
  *((_DWORD *)v1 + 56) = 0;
  *((_DWORD *)v1 + 679) = operator new((size_t)v100);
  *((_DWORD *)v1 + 680) = operator new(0x37u);
  v22 = 0;
  do
  {
    *(_BYTE *)(v22 + *((_DWORD *)v1 + 679)) = 0;
    *(_BYTE *)(v22++ + *((_DWORD *)v1 + 680)) = 0;
  }
  while ( v22 < 0x37 );
  v100 = (const char *)128;
  *((_DWORD *)v1 + 57) = 0;
  *((_DWORD *)v1 + 58) = 0;
  *((_DWORD *)v1 + 683) = operator new((size_t)v100);
  *((_DWORD *)v1 + 684) = operator new(0x80u);
  v23 = 0;
  do
  {
    *(_DWORD *)(v23 + *((_DWORD *)v1 + 683)) = 0;
    *(_DWORD *)(v23 + *((_DWORD *)v1 + 684)) = 0;
    v23 += 4;
  }
  while ( v23 < 0x80 );
  *((_DWORD *)v1 + 681) = calloc(0x37u, 0x10u);
  v24 = 0;
  v25 = 0;
  do
  {
    *(_DWORD *)(v24 + *((_DWORD *)v1 + 681) + 4) = dword_52851C[v25];
    *(_DWORD *)(v24 + *((_DWORD *)v1 + 681) + 12) = dword_528524[v25];
    *(_DWORD *)(v24 + *((_DWORD *)v1 + 681) + 8) = dword_528520[v25];
    *(_DWORD *)(v24 + *((_DWORD *)v1 + 681)) = dword_528518[v25];
    v25 += 7;
    v24 += 16;
  }
  while ( v25 < 385 );
  *((_DWORD *)v1 + 682) = calloc(0x20u, 0x10u);
  v26 = 0;
  v27 = 0;
  do
  {
    *(_DWORD *)(*((_DWORD *)v1 + 682) + v26 + 4) = dword_528B2C[v27];
    *(_DWORD *)(*((_DWORD *)v1 + 682) + v26 + 12) = dword_528B34[v27];
    *(_DWORD *)(*((_DWORD *)v1 + 682) + v26 + 8) = dword_528B30[v27];
    *(_DWORD *)(v26 + *((_DWORD *)v1 + 682)) = dword_528B28[v27];
    v27 += 9;
    v26 += 16;
  }
  while ( v27 < 288 );
  v28 = calloc(0x64u, 1u);
  v29 = *((_DWORD *)v1 + 484);
  v103 = v28;
  *(_BYTE *)v28 = 0;
  switch ( v29 )
  {
    case 1:
      *(_DWORD *)v28 = 826558032;
      *((_BYTE *)v28 + 4) = 0;
      break;
    case 2:
      *(_DWORD *)v28 = 4474445;
      break;
    case 3:
      *(_DWORD *)v28 = 843335248;
      *((_BYTE *)v28 + 4) = 0;
      break;
  }
  if ( *((_DWORD *)v1 + 245) )
  {
    *((_DWORD *)v1 + 523) = 0;
    *((_DWORD *)v1 + 524) = 0;
    *((_DWORD *)v1 + 527) = 0;
    *((_DWORD *)v1 + 528) = 0;
    *((_DWORD *)v1 + 530) = 1024;
    *((_DWORD *)v1 + 531) = 768;
  }
  else
  {
    *((_DWORD *)v1 + 523) = 40;
    *((_DWORD *)v1 + 524) = 121;
    *((_DWORD *)v1 + 527) = 94;
    *((_DWORD *)v1 + 528) = 121;
    *((_DWORD *)v1 + 530) = 1266;
    *((_DWORD *)v1 + 531) = 902;
  }
  if ( *((_DWORD *)v1 + 243) )
  {
    v105 = 2147483648;
    *((_DWORD *)v1 + 520) = 0;
    *((_DWORD *)v1 + 521) = 0;
  }
  else
  {
    v105 = 13565952;
    *((_DWORD *)v1 + 520) = 12;
    *((_DWORD *)v1 + 521) = 58;
  }
  if ( *((_DWORD *)v1 + 242) )
    lpMenuName = 0;
  else
    lpMenuName = (LPCSTR)(*((_BYTE *)v1 + 1867) != 0 ? 137 : 130);
  v30 = *((_BYTE *)v1 + 1867) == 0;
  v100 = pszFaceName;
  if ( v30 )
  {
    if ( _mbscmp(v104, (const unsigned __int8 *)v100) == 0 )
    {
      qmemcpy(&Src, "Garmin Integrated Flight Deck Simulator ", 0x29u);
      v28 = v103;
    }
    else
    {
      v42 = *(CHAR **)sub_415880((int)&v110, (int)&v104, " Simulator ");
      v43 = &Src;
      do
      {
        v44 = *v42;
        *v43++ = *v42++;
      }
      while ( v44 );
      v45 = v110 - 16;
      if ( _InterlockedDecrement((volatile signed __int32 *)(v110 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v45 + 4))(v45);
    }
    v46 = strlen((const char *)v28) + 1;
    v47 = &FindFileData.cAlternateFileName[15];
    do
      v48 = (v47++)[1];
    while ( v48 );
    v49 = *((_DWORD *)v1 + 531);
    qmemcpy(v47, v28, 4 * (v46 >> 2));
    v51 = (char *)v28 + 4 * (v46 >> 2);
    v50 = &v47[4 * (v46 >> 2)];
    v52 = v46;
    v53 = *((_DWORD *)v1 + 520) + *((_DWORD *)v1 + 530);
    qmemcpy(v50, v51, v52 & 3);
    SetRect(&rc, 0, 0, v53, *((_DWORD *)v1 + 521) + v49 + 16);
    CFrameWnd::Create(v1, 0, &Src, v105, &rc, 0, lpMenuName, 0, 0);
    lpMenuName = (LPCSTR)16;
  }
  else
  {
    if ( _mbscmp(v104, (const unsigned __int8 *)v100) == 0 )
    {
      qmemcpy(&Src, "Garmin Integrated Flight Deck Trainer ", 0x27u);
      v28 = v103;
    }
    else
    {
      v31 = *(CHAR **)sub_415880((int)&v115, (int)&v104, " Trainer ");
      v32 = &Src;
      do
      {
        v33 = *v31;
        *v32++ = *v31++;
      }
      while ( v33 );
      v34 = v115 - 16;
      if ( _InterlockedDecrement((volatile signed __int32 *)(v115 - 16 + 12)) <= 0 )
        (*(void (__stdcall **)(int))(**(_DWORD **)v34 + 4))(v34);
    }
    v35 = strlen((const char *)v28) + 1;
    v36 = &FindFileData.cAlternateFileName[15];
    do
      v37 = (v36++)[1];
    while ( v37 );
    qmemcpy(v36, v28, 4 * (v35 >> 2));
    v39 = (char *)v28 + 4 * (v35 >> 2);
    v38 = &v36[4 * (v35 >> 2)];
    v40 = v35;
    v41 = *((_DWORD *)v1 + 531) + *((_DWORD *)v1 + 521);
    qmemcpy(v38, v39, v40 & 3);
    SetRect(&rc, 0, 0, *((_DWORD *)v1 + 520) + *((_DWORD *)v1 + 530), v41);
    CFrameWnd::Create(v1, 0, &Src, v105, &rc, 0, lpMenuName, 0, 0);
    lpMenuName = 0;
  }
  free(v103);
  if ( *((_DWORD *)v1 + 243) )
  {
    v54 = GetWindowLongA(*((HWND *)v1 + 8), -20);
    SetWindowLongA(*((HWND *)v1 + 8), -20, v54 & 0xFFFFFDFF);
    SetWindowPos(*((HWND *)v1 + 8), 0, 0, 0, 0, 0, 0x23u);
  }
  GetWindowRect(*((HWND *)v1 + 8), &Rect);
  GetClientRect(*((HWND *)v1 + 8), &v118);
  v55 = Rect.top + v118.bottom + *((_DWORD *)v1 + 521) - v118.top - Rect.bottom;
  v56 = *((_DWORD *)v1 + 520) + Rect.left + v118.right - v118.left - Rect.right;
  if ( v55 || v56 )
    CWnd::SetWindowPos(v1, 0, Rect.left, Rect.top, Rect.right - Rect.left - v56, Rect.bottom - Rect.top - v55, 0x16u);
  if ( *((_DWORD *)v1 + 244) )
  {
    v57 = (HWND)*((_DWORD *)v1 + 8);
    v100 = (const char *)3;
    v99 = HWND_MESSAGE|0x2;
    v98 = v57;
LABEL_93:
    SetWindowPos(v98, v99, 0, 0, 0, 0, (UINT)v100);
    goto LABEL_94;
  }
  if ( !*((_BYTE *)v1 + 1930) )
  {
    v58 = (HWND)*((_DWORD *)v1 + 8);
    v100 = (const char *)19;
    v99 = (HWND)1;
    v98 = v58;
    goto LABEL_93;
  }
LABEL_94:
  v59 = *((_DWORD *)v1 + 489);
  *((_DWORD *)v1 + 521) -= v55;
  *((_DWORD *)v1 + 520) -= v56;
  *((_DWORD *)v1 + 506) = 0;
  v60 = (*(int (__stdcall **)(int))(*(_DWORD *)v59 + 16))(v59);
  v100 = (const char *)56;
  *((_DWORD *)v1 + 507) = v60;
  memset((char *)v1 + 1960, 0, (size_t)v100);
  v61 = *((_DWORD *)v1 + 531);
  v62 = *((_DWORD *)v1 + 530);
  v63 = (CWnd *)((char *)v1 + 2020);
  v100 = (char *)v1 + 2020;
  *((_DWORD *)v1 + 491) = v61;
  v64 = *((_DWORD *)v1 + 8);
  *((_DWORD *)v1 + 490) = v62;
  v65 = v64;
  *((_DWORD *)v1 + 493) = 1;
  *((_DWORD *)v1 + 496) = 1;
  *((_DWORD *)v1 + 497) = v64;
  v66 = *((_DWORD *)v1 + 506);
  *((_DWORD *)v1 + 498) = 1;
  v67 = *((_DWORD *)v1 + 489);
  *((_DWORD *)v1 + 492) = 0;
  *((_DWORD *)v1 + 494) = 0;
  *((_DWORD *)v1 + 495) = 0;
  *((_DWORD *)v1 + 499) = 0;
  *((_DWORD *)v1 + 500) = 0;
  *((_DWORD *)v1 + 501) = 0;
  *((_DWORD *)v1 + 503) = 2147483648;
  if ( (*(int (__stdcall **)(int, int, signed int, int, signed int, char *, const char *))(*(_DWORD *)v67 + 64))(
         v67,
         v66,
         1,
         v65,
         64,
         (char *)v1 + 1960,
         v100) )
  {
    if ( (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, char *, char *))(**((_DWORD **)v1 + 489)
                                                                                              + 64))(
           *((_DWORD *)v1 + 489),
           *((_DWORD *)v1 + 506),
           1,
           *((_DWORD *)v1 + 8),
           32,
           (char *)v1 + 1960,
           (char *)v1 + 2020) )
    {
      if ( (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, char *, char *))(**((_DWORD **)v1 + 489)
                                                                                                + 64))(
             *((_DWORD *)v1 + 489),
             *((_DWORD *)v1 + 506),
             2,
             *((_DWORD *)v1 + 8),
             64,
             (char *)v1 + 1960,
             (char *)v1 + 2020) )
      {
        v68 = (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, char *, char *))(**((_DWORD **)v1 + 489) + 64))(
                *((_DWORD *)v1 + 489),
                *((_DWORD *)v1 + 506),
                2,
                *((_DWORD *)v1 + 8),
                32,
                (char *)v1 + 1960,
                (char *)v1 + 2020);
        if ( v68 )
        {
          sprintf(
            &Text,
            "A DirectX command has irrecoverably failed.  Make sure your video card meets the minimum system requirements"
            " and fully supports DirectX 9.0. (Updating video drivers may help.)\n"
            "\n"
            "(Debug info: 0x%08x %d)",
            v68,
            1557);
          sub_41D6C7((void *)v1, &Text, "DirectX Error", 0x30u);
          exit_0(-2);
        }
      }
    }
  }
  (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)v63 + 228))(*(_DWORD *)v63, 22, 1);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v63 + 228))(*(_DWORD *)v63, 137, 0);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v63 + 228))(*(_DWORD *)v63, 7, 0);
  v69 = CreateMutexA(0, 0, 0);
  v100 = (char *)v1 + 2524;
  *((_DWORD *)v1 + 504) = v69;
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, const char *))(**(_DWORD **)v63 + 72))(
    *(_DWORD *)v63,
    0,
    0,
    0,
    v100);
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, signed int))(**(_DWORD **)v63 + 140))(
    *(_DWORD *)v63,
    *((_DWORD *)v1 + 631),
    0,
    1);
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v1 + 631) + 8))(*((_DWORD *)v1 + 631));
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int, _DWORD, char *, _DWORD))(**(_DWORD **)v63 + 104))(
    *(_DWORD *)v63,
    100,
    0,
    68,
    0,
    (char *)v1 + 2076,
    0);
  sub_416070((void *)v1);
  sub_416800((void *)v1);
  v70 = *((_DWORD *)v1 + 238);
  if ( v70 && (v71 = *((_DWORD *)v1 + 239)) != 0 )
  {
    CWnd::MoveWindow(
      v1,
      *((_DWORD *)v1 + 236),
      *((_DWORD *)v1 + 237),
      v70 + *((_DWORD *)v1 + 520),
      v71 + *((_DWORD *)v1 + 521),
      1);
  }
  else
  {
    v72 = *((_DWORD *)v1 + 484);
    switch ( v72 )
    {
      case 1:
        CWnd::MoveWindow(v1, 0, 10, *((_DWORD *)v1 + 520) + 579, (int)&lpMenuName[*((_DWORD *)v1 + 521) + 413], 1);
        break;
      case 2:
        CWnd::MoveWindow(
          v1,
          *((_DWORD *)v1 + 520) + 679,
          10,
          *((_DWORD *)v1 + 520) + 579,
          (int)&lpMenuName[*((_DWORD *)v1 + 521) + 413],
          1);
        break;
      case 3:
        CWnd::MoveWindow(
          v1,
          *((_DWORD *)v1 + 520) - (*((_DWORD *)v1 + 520) + 579) / 2 + 629,
          (int)&lpMenuName[*((_DWORD *)v1 + 521) + 428],
          *((_DWORD *)v1 + 520) + 579,
          (int)&lpMenuName[*((_DWORD *)v1 + 521) + 413],
          1);
        break;
    }
  }
  if ( !*((_BYTE *)v1 + 1867) && !*((_DWORD *)v1 + 241) )
  {
    (*(void (__thiscall **)(char *, CWnd *, signed int, signed int))(*((_DWORD *)v1 + 632) + 360))(
      (char *)v1 + 2528,
      v1,
      1342210560,
      59393);
    CStatusBar::SetIndicators((CWnd *)((char *)v1 + 2528), &dword_4ADBD0, 6);
    CStatusBar::GetPaneInfo((CWnd *)((char *)v1 + 2528), 0, &v101, &v107, &v109);
    CStatusBar::SetPaneInfo((CWnd *)((char *)v1 + 2528), 0, v101, 0x8000000u, 0);
    CStatusBar::GetPaneInfo((CWnd *)((char *)v1 + 2528), 1, &v101, &v107, &v109);
    CStatusBar::SetPaneInfo((CWnd *)((char *)v1 + 2528), 1, v101, 0, 80);
    CStatusBar::GetPaneInfo((CWnd *)((char *)v1 + 2528), 2, &v101, &v107, &v109);
    CStatusBar::SetPaneInfo((CWnd *)((char *)v1 + 2528), 2, v101, 0, 70);
    CStatusBar::GetPaneInfo((CWnd *)((char *)v1 + 2528), 3, &v101, &v107, &v109);
    CStatusBar::SetPaneInfo((CWnd *)((char *)v1 + 2528), 3, v101, 0, 180);
    CStatusBar::GetPaneInfo((CWnd *)((char *)v1 + 2528), 4, &v101, &v107, &v109);
    CStatusBar::SetPaneInfo((CWnd *)((char *)v1 + 2528), 4, v101, 0, 140);
    CStatusBar::GetPaneInfo((CWnd *)((char *)v1 + 2528), 5, &v101, &v107, &v109);
    CStatusBar::SetPaneInfo((CWnd *)((char *)v1 + 2528), 5, v101, 0, 10);
    CWnd::RepositionBars(v1, 0xE800u, 0xE8FFu, 0, 0, 0, 0, 1);
  }
  (*(void (__thiscall **)(char *, _DWORD, const char *, signed int, struct tagRECT *, CWnd *, _DWORD, _DWORD))(*((_DWORD *)v1 + 427) + 84))(
    (char *)v1 + 1708,
    0,
    "Debug Graphics Window",
    1422131200,
    &rc,
    v1,
    0,
    0);
  CWnd::ShowWindow((CWnd *)((char *)v1 + 1708), 0);
  *((_BYTE *)v1 + 1860) = 0;
  *((_BYTE *)v1 + 1862) = 0;
  *((_BYTE *)v1 + 1861) = 0;
  *((_BYTE *)v1 + 1863) = 0;
  *((_BYTE *)v1 + 1864) = 0;
  *((_BYTE *)v1 + 1865) = 0;
  *((_BYTE *)v1 + 1866) = 0;
  *((_BYTE *)v1 + 2712) = 0;
  sub_4133C0((int)v1);
  v73 = 0;
  v74 = (CWnd *)((char *)v1 + 848);
  do
  {
    sub_407410(v73++, *(_DWORD *)v74 != 0);
    v74 = (CWnd *)((char *)v74 + 4);
  }
  while ( v73 < 4 );
  v75 = (char *)v1 + 880;
  v105 = 0;
  v103 = (char *)v1 + 880;
  do
  {
    v76 = *(_DWORD *)v103;
    v100 = v75;
    v77 = *(int (**)(void))(**(_DWORD **)(v76 - 16) + 16);
    v78 = v76 - 16;
    v110 = (int)&v100;
    v79 = (int (__thiscall ***)(_DWORD, _DWORD, _DWORD))v77();
    if ( *(_DWORD *)(v78 + 12) < 0 || v79 != *(int (__thiscall ****)(_DWORD, _DWORD, _DWORD))v78 )
    {
      v81 = (**v79)(v79, *(_DWORD *)(v78 + 4), 1);
      v80 = v81;
      if ( !v81 )
        sub_4016C0();
      *(_DWORD *)(v81 + 4) = *(_DWORD *)(v78 + 4);
      memcpy_s((void *)(v81 + 16), *(_DWORD *)(v78 + 4) + 1, (const void *)(v78 + 16), *(_DWORD *)(v78 + 4) + 1);
    }
    else
    {
      v80 = v78;
      _InterlockedExchangeAdd((volatile signed __int32 *)(v78 + 12), 1u);
    }
    *(_DWORD *)v110 = v80 + 16;
    v82 = sub_414A80(v100);
    v83 = v105;
    sub_4073F0(v105, v82);
    v103 = (char *)v103 + 4;
    v105 = v83 + 1;
  }
  while ( (signed int)(v83 + 1) < 6 );
  CreateThread(0, 0, (LPTHREAD_START_ROUTINE)sub_4137D0, (char *)v1 + 1952, 0, &ThreadId);
  (*(void (__thiscall **)(char *, signed int, CWnd *))(*((_DWORD *)v1 + 376) + 308))((char *)v1 + 1504, 149, v1);
  if ( !*((_DWORD *)v1 + 242) )
  {
    if ( FindFirstFileA("WFDEprdct.exe", &FindFileData) == (HANDLE)-1 )
    {
      v84 = GetMenu(*((HWND *)v1 + 8));
      v85 = CMenu::FromHandle(v84);
      RemoveMenu(*((HMENU *)v85 + 1), 0x801Fu, 0);
    }
    if ( *((_BYTE *)v1 + 1867) )
    {
      v86 = AfxGetModuleState();
      v87 = LoadMenuA(*((HINSTANCE *)v86 + 3), (LPCSTR)0x8A);
      CMenu::Attach((CWnd *)((char *)v1 + 2128), v87);
      if ( *((_DWORD *)v1 + 484) )
      {
        RemoveMenu(*((HMENU *)v1 + 533), 0x8010u, 0);
        RemoveMenu(*((HMENU *)v1 + 533), 0x8014u, 0);
      }
    }
    else
    {
      v88 = AfxGetModuleState();
      v89 = LoadMenuA(*((HINSTANCE *)v88 + 3), (LPCSTR)0x88);
      CMenu::Attach((CWnd *)((char *)v1 + 2128), v89);
    }
  }
  sub_413050((int)v1);
  v90 = v104 - 16;
  LOBYTE(v127) = 12;
  if ( _InterlockedDecrement((volatile signed __int32 *)v104 - 1) <= 0 )
  {
    v91 = **(_DWORD **)v90;
    v100 = (const char *)v90;
    (*(void (__stdcall **)(unsigned __int8 *))(v91 + 4))(v90);
  }
  v92 = v111 - 16;
  LOBYTE(v127) = 11;
  if ( _InterlockedDecrement((volatile signed __int32 *)v111 - 1) <= 0 )
  {
    v93 = **(_DWORD **)v92;
    v100 = v92;
    (*(void (__stdcall **)(char *))(v93 + 4))(v92);
  }
  v94 = (const char *)(*(_DWORD *)ArgList - 16);
  LOBYTE(v127) = 10;
  if ( _InterlockedDecrement((volatile signed __int32 *)(*(_DWORD *)ArgList - 16 + 12)) <= 0 )
  {
    v95 = **(_DWORD **)v94;
    v100 = v94;
    (*(void (__stdcall **)(const char *))(v95 + 4))(v94);
  }
  v96 = v108 - 16;
  LOBYTE(v127) = 9;
  if ( _InterlockedDecrement((volatile signed __int32 *)v108 - 1) <= 0 )
  {
    v97 = **(_DWORD **)v96;
    v100 = v96;
    (*(void (__stdcall **)(char *))(v97 + 4))(v96);
  }
  sub_4815FE(v101);
}
// 429FAD: using guessed type int CFrameWnd::CFrameWnd(void);
// 42B8A2: using guessed type int __thiscall CStatusBar::CStatusBar(_DWORD);
// 4ADBEC: using guessed type int (*off_4ADBEC)();
// 4B18CC: using guessed type int (*off_4B18CC)();
// 4B28F0: using guessed type int *SIM_intf;
// 528518: using guessed type int dword_528518[];
// 52851C: using guessed type int dword_52851C[];
// 528520: using guessed type int dword_528520[];
// 528524: using guessed type int dword_528524[];
// 528B28: using guessed type int dword_528B28[];
// 528B2C: using guessed type int dword_528B2C[];
// 528B30: using guessed type int dword_528B30[];
// 528B34: using guessed type int dword_528B34[];
// 417650: using guessed type char Buffer[200];

//----- (00418960) --------------------------------------------------------
int __userpurge sub_418960@<eax>(CWnd *this@<ecx>, int a2@<ebx>, int a3)
{
  CWnd *v3; // esi@1
  char *v4; // edi@1
  int result; // eax@1
  int v6; // ecx@3
  IDirect3D9 *v7; // eax@9
  int v8; // ST84_4@9
  int v9; // edx@9
  int v10; // ebp@12
  CHAR Text; // [sp+A4h] [bp-12Ch]@13

  v3 = this;
  v4 = (char *)this + 2020;
  result = (*(int (__stdcall **)(_DWORD))(**((_DWORD **)this + 505) + 12))(*((_DWORD *)this + 505));
  if ( result == -2005530519 || a3 == 1 )
  {
    (*(void (__stdcall **)(_DWORD, int))(**((_DWORD **)v3 + 519) + 8))(*((_DWORD *)v3 + 519), a2);
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 623) + 8))(*((_DWORD *)v3 + 623));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 624) + 8))(*((_DWORD *)v3 + 624));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 625) + 8))(*((_DWORD *)v3 + 625));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 626) + 8))(*((_DWORD *)v3 + 626));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 627) + 8))(*((_DWORD *)v3 + 627));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 628) + 8))(*((_DWORD *)v3 + 628));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 629) + 8))(*((_DWORD *)v3 + 629));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 630) + 8))(*((_DWORD *)v3 + 630));
    sim_reset_D3Ddevice(0);
    v6 = **(_DWORD **)v4;
    if ( a3 )
    {
      (*(void (__stdcall **)(_DWORD))(v6 + 8))(*(_DWORD *)v4);
      (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 489) + 8))(*((_DWORD *)v3 + 489));
      v7 = Direct3DCreate9(0x1Fu);
      v8 = *((_DWORD *)v3 + 8);
      v9 = *((_DWORD *)v3 + 506);
      *((_DWORD *)v3 + 489) = v7;
      if ( (*((int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v7->lpVtbl + 16))(
             v7,
             v9,
             1,
             v8,
             64,
             (char *)v3 + 1960,
             (char *)v3 + 2020) )
      {
        if ( (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, char *, char *))(**((_DWORD **)v3 + 489)
                                                                                                  + 64))(
               *((_DWORD *)v3 + 489),
               *((_DWORD *)v3 + 506),
               1,
               *((_DWORD *)v3 + 8),
               32,
               (char *)v3 + 1960,
               (char *)v3 + 2020) )
        {
          if ( (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, char *, char *))(**((_DWORD **)v3 + 489) + 64))(
                 *((_DWORD *)v3 + 489),
                 *((_DWORD *)v3 + 506),
                 2,
                 *((_DWORD *)v3 + 8),
                 64,
                 (char *)v3 + 1960,
                 (char *)v3 + 2020) )
          {
            v10 = (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, char *, char *))(**((_DWORD **)v3 + 489) + 64))(
                    *((_DWORD *)v3 + 489),
                    *((_DWORD *)v3 + 506),
                    2,
                    *((_DWORD *)v3 + 8),
                    32,
                    (char *)v3 + 1960,
                    (char *)v3 + 2020);
            if ( v10 )
            {
              SendMessageA(*((HWND *)v3 + 8), 0xBu, 0, 0);
              sprintf(
                &Text,
                "A DirectX command has irrecoverably failed.  Make sure your video card meets the minimum system requirem"
                "ents and fully supports DirectX 9.0. (Updating video drivers may help.)\n"
                "\n"
                "(Debug info: 0x%08x %d)",
                v10,
                4297);
              sub_41D6C7((void *)v3, &Text, "DirectX Error", 0x30u);
              exit_0(-2);
            }
          }
        }
      }
    }
    else
    {
      (*(void (__stdcall **)(_DWORD, char *))(v6 + 64))(*(_DWORD *)v4, (char *)v3 + 1960);
    }
    (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)v4 + 228))(*(_DWORD *)v4, 22, 1);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v4 + 228))(*(_DWORD *)v4, 137, 0);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)v4 + 228))(*(_DWORD *)v4, 7, 0);
    if ( !*((_BYTE *)v3 + 1868) )
    {
      (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, char *))(**(_DWORD **)v4 + 72))(
        *(_DWORD *)v4,
        0,
        0,
        0,
        (char *)v3 + 2524);
      (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, signed int))(**(_DWORD **)v4 + 140))(
        *(_DWORD *)v4,
        *((_DWORD *)v3 + 631),
        0,
        1);
      (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v3 + 631) + 8))(*((_DWORD *)v3 + 631));
    }
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int, _DWORD, char *))(**(_DWORD **)v4 + 104))(
      *(_DWORD *)v4,
      100,
      0,
      68,
      0,
      (char *)v3 + 2076);
    sub_416800((void *)v3);
    sim_init_D3Ddevice();
    *((_BYTE *)v3 + 1940) = 0;
    *((_BYTE *)v3 + 1941) = 0;
    result = sub_411CD0(v3);
  }
  return result;
}
// 418960: could not find valid save-restore pair for ebx
// 474E0C: using guessed type int __cdecl sim_reset_D3Ddevice(_DWORD);
// 474E12: using guessed type int sim_init_D3Ddevice(void);

//----- (00418C20) --------------------------------------------------------
__int32 __thiscall sub_418C20(CWnd *this, unsigned int a2, LPCSTR lpText, __int32 a4)
{
  CWnd *v4; // esi@1
  int v5; // ecx@1
  signed int v6; // edi@1
  __int32 result; // eax@13
  int (__thiscall *v8)(char *, signed int); // edx@28
  bool v9; // zf@36
  CStatusBar *v10; // ecx@36
  signed int v11; // ebx@40
  CWnd *v12; // ebp@40
  signed int v13; // ecx@41
  CWnd *v14; // ebp@42
  int v15; // eax@43
  int v16; // eax@43
  int v17; // eax@43
  int *v18; // eax@44
  int v19; // edx@44
  int v20; // ecx@44
  LPCSTR v22; // [sp+10h] [bp-1Ch]@16
  signed int v23; // [sp+14h] [bp-18h]@16
  __int32 v24; // [sp+28h] [bp-4h]@1

  v4 = this;
  v5 = SIM_intf[79];
  v6 = 0;
  v24 = 0;
  if ( v5 && GetTickCount() > SIM_intf[79] && *((_BYTE *)v4 + 1866) )
    sub_4138A0();
  if ( a2 > 0x405 )
  {
    switch ( a2 )
    {
      case 0x406u:
        (*(void (__thiscall **)(char *, char *))(*((_DWORD *)v4 + 534) + 348))((char *)v4 + 2136, (char *)v4 + 1870);
        (*(void (__thiscall **)(char *))(*((_DWORD *)v4 + 534) + 324))((char *)v4 + 2136);
        return v24;
      case 0x407u:
        sub_41A8E0((int)v4 + 1870);
        return v24;
      case 0x411u:
        if ( !*((_BYTE *)v4 + 1868) && *((_DWORD *)v4 + 235) )
        {
          *((_DWORD *)v4 + 374) = 0;
          *((_BYTE *)v4 + 1869) = 1;
        }
        v8 = *(int (__thiscall **)(char *, signed int))(*((_DWORD *)v4 + 670) + 12);
        v23 = -1;
        *((_BYTE *)v4 + 1868) = 1;
        if ( v8((char *)v4 + 2680, v23) )
          v24 = *((_DWORD *)v4 + 8);
        else
          v24 = 0;
        if ( *((_BYTE *)v4 + 1867) || *((_DWORD *)v4 + 241) )
          return v24;
        CStatusBar::SetPaneText((CWnd *)((char *)v4 + 2528), 5, "#", 1);
        return v24;
      case 0x413u:
        (*(void (__thiscall **)(char *))(*((_DWORD *)v4 + 670) + 20))((char *)v4 + 2680);
        if ( *((_BYTE *)v4 + 1867) || *((_DWORD *)v4 + 241) )
          return v24;
        v9 = *((_BYTE *)v4 + 2712) == 0;
        v23 = 1;
        v10 = (CWnd *)((char *)v4 + 2528);
        if ( v9 )
          CStatusBar::SetPaneText(v10, 5, "+", v23);
        else
          CStatusBar::SetPaneText(v10, 5, pszFaceName, v23);
        result = v24;
        *((_BYTE *)v4 + 2712) = *((_BYTE *)v4 + 2712) == 0;
        return result;
      case 0x415u:
        goto LABEL_40;
      default:
        goto LABEL_45;
      case 0x412u:
      case 0x414u:
        return v24;
    }
    return v24;
  }
  if ( a2 == 1029 )
  {
    sub_41D6C7((void *)v4, lpText, "FDE Prediction Error", 0x30u);
    return v24;
  }
  if ( a2 > 0xA0 )
  {
    if ( a2 == 275 )
    {
      if ( !lpText && *((_DWORD *)v4 + 59) && GetTickCount() - *((_DWORD *)v4 + 59) > 0x3E8 )
      {
        v23 = 0;
        *((_DWORD *)v4 + 59) = 0;
        sub_4143C0((int)v4, 87, 1, v23);
        KillTimer(*((HWND *)v4 + 8), 0);
        return v24;
      }
      return v24;
    }
    if ( a2 != 675 )
    {
LABEL_45:
      v23 = a4;
      v22 = lpText;
      return CWnd::WindowProc(v4, a2, (unsigned int)v22, v23);
    }
LABEL_16:
    sub_414690((int)v4);
    v23 = a4;
    v22 = lpText;
    return CWnd::WindowProc(v4, a2, (unsigned int)v22, v23);
  }
  if ( a2 == 160 )
    goto LABEL_16;
  if ( a2 == 20 )
  {
    v24 = 1;
    return 1;
  }
  if ( a2 != 72 )
  {
    if ( a2 == 134 )
    {
      sub_414690((int)v4);
      return CWnd::WindowProc(v4, 0x86u, (unsigned int)lpText, a4);
    }
    goto LABEL_45;
  }
LABEL_40:
  sim_reset_D3Ddevice(1);
  sub_41A910();
  v11 = 0;
  v12 = (CWnd *)((char *)v4 + 848);
  do
  {
    sub_407410(v11++, *(_DWORD *)v12 != 0);
    v12 = (CWnd *)((char *)v12 + 4);
  }
  while ( v11 < 4 );
  v14 = (CWnd *)((char *)v4 + 880);
  do
  {
    v15 = *(_DWORD *)v14;
    v23 = v13;
    v16 = sub_401910(v15 - 16);
    v17 = sub_414A80((const void *)(v16 + 16));
    sub_4073F0(v6++, v17);
    v14 = (CWnd *)((char *)v14 + 4);
  }
  while ( v6 < 6 );
  sub_418960(v4, (int)&v23, 1);
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, char *))(**((_DWORD **)v4 + 505) + 72))(
    *((_DWORD *)v4 + 505),
    0,
    0,
    0,
    (char *)v4 + 2524);
  v18 = (int *)*((_DWORD *)v4 + 505);
  v19 = *((_DWORD *)v4 + 631);
  v20 = *v18;
  v23 = 1;
  (*(void (__stdcall **)(int *, int, _DWORD, signed int))(v20 + 140))(v18, v19, 0, 1);
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v4 + 631) + 8))(*((_DWORD *)v4 + 631));
  sub_411CD0(v4);
  *((_BYTE *)v4 + 1868) = 0;
  sub_413050((int)v4);
  return v24;
}
// 474E0C: using guessed type int __cdecl sim_reset_D3Ddevice(_DWORD);
// 4B28F0: using guessed type int *SIM_intf;

//----- (00418FF0) --------------------------------------------------------
int (**sub_418FF0())()
{
  return &off_4B202C;
}
// 4B202C: using guessed type int (*off_4B202C)();

//----- (00419010) --------------------------------------------------------
int __cdecl sub_419010(int a1, unsigned __int8 a2)
{
  signed int v2; // ecx@1
  int i; // esi@1
  int v4; // eax@2

  v2 = 0;
  for ( i = 0; v2 < a2; i |= v4 )
    v4 = *(_DWORD *)(a1 + 4 * v2++) != 0;
  return i;
}

//----- (00419040) --------------------------------------------------------
int __cdecl sub_419040(char *a1, int a2, unsigned __int8 a3)
{
  int result; // eax@1
  char *v4; // edx@2
  int v5; // ebp@2
  int v6; // ecx@3

  result = 0;
  if ( (signed int)a3 > 0 )
  {
    v4 = a1;
    v5 = a3;
    do
    {
      v6 = ~*(_DWORD *)v4;
      result |= v6 != 0;
      if ( a2 )
        *(_DWORD *)&v4[a2 - (_DWORD)a1] = v6;
      v4 += 4;
      --v5;
    }
    while ( v5 );
  }
  return result;
}

//----- (00419090) --------------------------------------------------------
int *__cdecl SIM_ethr_rx(unsigned int a1)
{
  int *result; // eax@1
  int v2; // esi@1
  bool v3; // al@2
  int v4; // ebx@2
  void *v5; // ebx@3
  int v6; // eax@5
  unsigned int v7; // eax@7
  _DWORD *v8; // ecx@7
  _DWORD *v9; // edx@7
  int v10; // esi@11
  int v11; // eax@12
  _BYTE *v12; // ecx@12
  _BYTE *v13; // edx@12
  int v14; // eax@14
  _BYTE *v15; // ecx@14
  _BYTE *v16; // edx@14
  _BYTE *v17; // ecx@16
  _BYTE *v18; // edx@16
  signed int v19; // eax@18
  unsigned int v20; // eax@23
  _DWORD *v21; // ecx@23
  _DWORD *v22; // edx@23
  int v23; // esi@27
  int v24; // eax@28
  _BYTE *v25; // ecx@28
  _BYTE *v26; // edx@28
  int v27; // eax@30
  _BYTE *v28; // ecx@30
  _BYTE *v29; // edx@30
  _BYTE *v30; // ecx@32
  _BYTE *v31; // edx@32
  signed int v32; // eax@34
  unsigned int v33; // eax@38
  _DWORD *v34; // ecx@38
  _DWORD *v35; // edx@38
  int v36; // esi@42
  int v37; // eax@43
  _BYTE *v38; // ecx@43
  _BYTE *v39; // edx@43
  int v40; // eax@45
  _BYTE *v41; // ecx@45
  _BYTE *v42; // edx@45
  _BYTE *v43; // ecx@47
  _BYTE *v44; // edx@47
  signed int v45; // eax@49
  int v46; // ecx@58
  signed int v47; // eax@59
  int v48; // eax@65
  signed __int16 v49; // cx@66
  bool v50; // [sp+Bh] [bp-Dh]@2
  void *v51; // [sp+Ch] [bp-Ch]@5
  signed int v52; // [sp+10h] [bp-8h]@3

  result = (int *)a1;
  v2 = 52 * (unsigned __int8)a1;
  if ( (*((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1) & 0x3C) == 16 )
  {
    v3 = sub_407250(a1);
    v4 = dword_534C50[(unsigned __int8)a1];
    v50 = v3;
    if ( v3 )
    {
      v5 = (void *)(v4 + 16);
      v52 = 1514;
    }
    else
    {
      v5 = (void *)(v4 + 30);
      v52 = 1500;
    }
    v51 = v5;
    v6 = sub_407270(a1, v5, v52);
    if ( v6 <= 0 )
    {
LABEL_54:
      *(_WORD *)(dword_534C50[(unsigned __int8)a1] + 12) = 0;
    }
    else
    {
      while ( 1 )
      {
        *(_WORD *)(dword_534C50[(unsigned __int8)a1] + 12) = v6;
        if ( !v50 )
          break;
        v7 = 6;
        v8 = (_DWORD *)(6 * (unsigned __int8)a1 + 5459000);
        v9 = (char *)v5 + 6;
        do
        {
          if ( *v9 != *v8 )
            goto LABEL_11;
          v7 -= 4;
          ++v8;
          ++v9;
        }
        while ( v7 >= 4 );
        if ( !v7 )
          goto LABEL_21;
LABEL_11:
        v10 = *(_BYTE *)v9 - *(_BYTE *)v8;
        if ( *(_BYTE *)v9 == *(_BYTE *)v8 )
        {
          v11 = v7 - 1;
          v12 = (char *)v8 + 1;
          v13 = (char *)v9 + 1;
          if ( !v11
            || (v10 = *v13 - *v12, *v13 == *v12)
            && ((v14 = v11 - 1, v15 = v12 + 1, v16 = v13 + 1, !v14)
             || (v10 = *v16 - *v15, *v16 == *v15)
             && ((v17 = v15 + 1, v18 = v16 + 1, v14 == 1) || (v10 = *v18 - *v17, *v18 == *v17))) )
          {
            v5 = v51;
LABEL_21:
            v19 = 0;
            goto LABEL_22;
          }
        }
        v5 = v51;
        v19 = 1;
        if ( v10 <= 0 )
          v19 = -1;
LABEL_22:
        if ( v19 )
        {
          v20 = 6;
          v21 = (_DWORD *)(6 * (unsigned __int8)a1 + 5459000);
          v22 = v5;
          do
          {
            if ( *v22 != *v21 )
              goto LABEL_27;
            v20 -= 4;
            ++v21;
            ++v22;
          }
          while ( v20 >= 4 );
          if ( !v20 )
          {
LABEL_36:
            v32 = 0;
            goto LABEL_37;
          }
LABEL_27:
          v23 = *(_BYTE *)v22 - *(_BYTE *)v21;
          if ( *(_BYTE *)v22 == *(_BYTE *)v21 )
          {
            v24 = v20 - 1;
            v25 = (char *)v21 + 1;
            v26 = (char *)v22 + 1;
            if ( !v24 )
              goto LABEL_36;
            v23 = *v26 - *v25;
            if ( *v26 == *v25 )
            {
              v27 = v24 - 1;
              v28 = v25 + 1;
              v29 = v26 + 1;
              if ( !v27 )
                goto LABEL_36;
              v23 = *v29 - *v28;
              if ( *v29 == *v28 )
              {
                v30 = v28 + 1;
                v31 = v29 + 1;
                if ( v27 == 1 )
                  goto LABEL_36;
                v23 = *v31 - *v30;
                if ( *v31 == *v30 )
                  goto LABEL_36;
              }
            }
          }
          v32 = 1;
          if ( v23 <= 0 )
            v32 = -1;
LABEL_37:
          if ( !v32 )
            goto LABEL_73;
          v33 = 6;
          v34 = &unk_4B29B4;
          v35 = v5;
          do
          {
            if ( *v35 != *v34 )
              goto LABEL_42;
            v33 -= 4;
            ++v34;
            ++v35;
          }
          while ( v33 >= 4 );
          if ( !v33 )
          {
LABEL_51:
            v45 = 0;
            goto LABEL_52;
          }
LABEL_42:
          v36 = *(_BYTE *)v35 - *(_BYTE *)v34;
          if ( *(_BYTE *)v35 == *(_BYTE *)v34 )
          {
            v37 = v33 - 1;
            v38 = (char *)v34 + 1;
            v39 = (char *)v35 + 1;
            if ( !v37 )
              goto LABEL_51;
            v36 = *v39 - *v38;
            if ( *v39 == *v38 )
            {
              v40 = v37 - 1;
              v41 = v38 + 1;
              v42 = v39 + 1;
              if ( !v40 )
                goto LABEL_51;
              v36 = *v42 - *v41;
              if ( *v42 == *v41 )
              {
                v43 = v41 + 1;
                v44 = v42 + 1;
                if ( v40 == 1 )
                  goto LABEL_51;
                v36 = *v44 - *v43;
                if ( *v44 == *v43 )
                  goto LABEL_51;
              }
            }
          }
          v45 = 1;
          if ( v36 <= 0 )
            v45 = -1;
LABEL_52:
          if ( !v45 )
          {
LABEL_73:
            v2 = 52 * (unsigned __int8)a1;
            break;
          }
        }
        *(_WORD *)(dword_534C50[(unsigned __int8)a1] + 12) = 0;
        v6 = sub_407270(a1, v5, v52);
        v2 = 52 * (unsigned __int8)a1;
        if ( v6 <= 0 )
          goto LABEL_54;
      }
    }
    result = (int *)dword_534C50[(unsigned __int8)a1];
    if ( *((_WORD *)result + 6) )
    {
      *(_WORD *)dword_534C50[(unsigned __int8)a1] = *(_WORD *)result | 0xA020;
      if ( !v50 )
      {
        v46 = dword_534C50[(unsigned __int8)a1];
        if ( *(_WORD *)(v46 + 12) == 255 )
        {
          v47 = 0;
          if ( !*(_BYTE *)(v46 + 30) )
          {
            do
            {
              if ( v47 >= 255 )
                break;
              ++v47;
            }
            while ( v47 == *(_BYTE *)(v47 + v46 + 30) );
          }
          *(_WORD *)(v46 + 28) = 144;
        }
        else
        {
          *(_WORD *)(v46 + 28) = 2400;
        }
        *(_WORD *)(dword_534C50[(unsigned __int8)a1] + 12) += 14;
      }
      *(_WORD *)(dword_534C50[(unsigned __int8)a1] + 12) |= 0xC000u;
      *(_WORD *)(v2 + hwm_ethr_csr_data) &= 0xFFC3u;
      v48 = dword_534C50[(unsigned __int8)a1];
      if ( *(_WORD *)(v48 + 2) & 0x8000 )
      {
        v49 = 8;
      }
      else if ( *(_WORD *)(v48 + 2) & 0x4000 )
      {
        v49 = 4;
      }
      else
      {
        v49 = 16;
        dword_534C50[(unsigned __int8)a1] = *(_DWORD *)(v48 + 4);
      }
      *(_WORD *)(v2 + hwm_ethr_csr_data) |= v49;
      ++dword_534ACC[24 * (unsigned __int8)a1];
      result = &dword_534ACC[24 * (unsigned __int8)a1];
    }
  }
  return result;
}
// 534ACC: using guessed type int dword_534ACC[];
// 534C50: using guessed type int dword_534C50[];

//----- (00419420) --------------------------------------------------------
signed int __cdecl sub_419420(char a1)
{
  bool v1; // zf@2
  int v2; // eax@2
  __int16 v3; // cx@3
  size_t v4; // edi@3
  int *v5; // ecx@3
  __int16 v6; // dx@4
  int v7; // eax@7
  signed int result; // eax@8
  int v9; // [sp+10h] [bp-644h]@3
  __int16 v10; // [sp+14h] [bp-640h]@3
  int v11; // [sp+16h] [bp-63Eh]@3
  __int16 v12; // [sp+1Ah] [bp-63Ah]@3
  __int16 v13; // [sp+1Ch] [bp-638h]@3
  char v14; // [sp+1Eh] [bp-636h]@3

  do
  {
    if ( (*(_BYTE *)(dword_534C60[(unsigned __int8)a1] + 2) & 7) != 4 )
      goto LABEL_7;
    ++dword_534AA8[24 * (unsigned __int8)a1];
    v1 = sub_407250(a1) == 0;
    v2 = dword_534C60[(unsigned __int8)a1];
    if ( v1 )
    {
      HIBYTE(v6) = *(_BYTE *)(v2 + 22);
      v4 = *(_WORD *)(v2 + 12) - 8;
      v5 = (int *)(v2 + 24);
      LOBYTE(v6) = *(_BYTE *)(v2 + 23);
      if ( v6 != 24585 )
        goto LABEL_7;
    }
    else
    {
      v9 = *(_DWORD *)(v2 + 16);
      v10 = *(_WORD *)(v2 + 20);
      v13 = *(_WORD *)(v2 + 22);
      v3 = word_534C3C[3 * (unsigned __int8)a1];
      v11 = *(int *)((char *)&dword_534C38 + 6 * (unsigned __int8)a1);
      v12 = v3;
      v4 = *(_WORD *)(v2 + 12) + 6;
      memcpy(&v14, (const void *)(v2 + 24), *(_WORD *)(v2 + 12) - 8);
      v5 = &v9;
    }
    if ( v4 )
      sub_407290(a1, v5, v4);
LABEL_7:
    *(_WORD *)dword_534C60[(unsigned __int8)a1] |= 0xA000u;
    *((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1) &= 0xFF3Fu;
    v7 = dword_534C60[(unsigned __int8)a1];
    if ( *(_WORD *)(v7 + 2) & 0x8000 )
    {
      result = 0x2000;
    }
    else if ( *(_WORD *)(v7 + 2) & 0x4000 )
    {
      result = 8256;
    }
    else
    {
      dword_534C60[(unsigned __int8)a1] = *(_DWORD *)(v7 + 4);
      result = 128;
    }
    *((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1) |= result;
  }
  while ( (_WORD)result == 128 );
  return result;
}
// 534AA8: using guessed type int dword_534AA8[];
// 534C38: using guessed type int dword_534C38;
// 534C60: using guessed type int dword_534C60[];

//----- (004195C0) --------------------------------------------------------
int __usercall SIM_hwm_gp_inp8@<eax>(int a1@<eax>, int a2)
{
  LOBYTE(a1) = (a2 != -265207808) - 1;
  return dword_534C70 & a1;
}
// 534C70: using guessed type int dword_534C70;

//----- (004195E0) --------------------------------------------------------
char __cdecl SIM_hwm_gp_outp8(int a1, char a2)
{
  char result; // al@2

  if ( a1 == -265207808 )
  {
    result = a2;
    LOBYTE(dword_534C70) = a2;
  }
  return result;
}
// 534C70: using guessed type int dword_534C70;

//----- (00419600) --------------------------------------------------------
char *__cdecl SIM_malloc(int a1)
{
  char *result; // eax@1

  result = (char *)&unk_534DC0 + dword_534AA0;
  dword_534AA0 += a1;
  return result;
}
// 534AA0: using guessed type int dword_534AA0;

//----- (00419620) --------------------------------------------------------
char *SIM_pwrp_ethr()
{
  int v0; // esi@1
  int *v1; // edi@1

  memset(dword_534AA8, 0, 0x180u);
  v0 = 0;
  v1 = &dword_534C38;
  do
  {
    HWM_get_ethr_mac_address(v0, v1);
    dword_534C50[v0] = 0;
    dword_534C60[v0] = 0;
    dword_534C28[v0] = 0;
    v1 = (int *)((char *)v1 + 6);
    ++v0;
  }
  while ( (signed int)v1 < (signed int)dword_534C50 );
  return SIM_proc_rqst(35);
}
// 474E18: using guessed type int __cdecl HWM_get_ethr_mac_address(_DWORD, _DWORD);
// 534AA8: using guessed type int dword_534AA8[];
// 534C28: using guessed type int dword_534C28[];
// 534C38: using guessed type int dword_534C38;
// 534C50: using guessed type int dword_534C50[];
// 534C60: using guessed type int dword_534C60[];

//----- (00419680) --------------------------------------------------------
char *__cdecl SIM_set_comm_rx_param(char a1, char a2, char a3)
{
  int v3; // esi@1
  int v4; // eax@1

  v3 = sub_41ACB0(&a2, 1u, (int)&unk_4B2928, 8, 13);
  v4 = sub_41ACB0(&a3, 1u, (int)&unk_4B2990, 8, 3);
  *(_BYTE *)(dword_534C80 + 16) = a1;
  *(_DWORD *)(dword_534C80 + 8) = dword_4B292C[2 * v3];
  *(_DWORD *)(dword_534C80 + 12) = dword_4B2994[2 * v4];
  return SIM_proc_rqst(3);
}
// 4B292C: using guessed type int dword_4B292C[];
// 4B2994: using guessed type int dword_4B2994[];
// 534C80: using guessed type int dword_534C80;

//----- (004196F0) --------------------------------------------------------
char *__cdecl SIM_set_comm_tx_param(char a1, char a2, char a3)
{
  int v3; // esi@1
  int v4; // eax@1

  v3 = sub_41ACB0(&a2, 1u, (int)&unk_4B2928, 8, 13);
  v4 = sub_41ACB0(&a3, 1u, (int)&unk_4B2990, 8, 3);
  *(_BYTE *)(dword_534C7C + 20) = a1;
  *(_DWORD *)(dword_534C7C + 12) = dword_4B292C[2 * v3];
  *(_DWORD *)(dword_534C7C + 16) = dword_4B2994[2 * v4];
  return SIM_proc_rqst(4);
}
// 4B292C: using guessed type int dword_4B292C[];
// 4B2994: using guessed type int dword_4B2994[];
// 534C7C: using guessed type int dword_534C7C;

//----- (00419760) --------------------------------------------------------
char *__usercall sub_419760@<eax>(size_t a1@<edi>)
{
  char *v1; // esi@1
  int v3; // [sp+0h] [bp-8h]@0

  v1 = SIM_malloc(v3);
  memset(v1, 0, a1);
  *(_DWORD *)v1 = a1;
  return v1;
}

//----- (00419780) --------------------------------------------------------
int __cdecl SIM_ethr_cmd(char a1)
{
  int v1; // ecx@3
  int v2; // ecx@6
  int result; // eax@10

  switch ( *((_BYTE *)&hwm_ethr_csr_data + 52 * (unsigned __int8)a1 + 2) )
  {
    case 1:
      *((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1) &= 0xFFC3u;
      *((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1) |= 0x10u;
      dword_534C50[(unsigned __int8)a1] = *((_DWORD *)&hwm_ethr_csr_data + 13 * (unsigned __int8)a1 + 1);
      break;
    case 0x10:
      v1 = *((_DWORD *)&hwm_ethr_csr_data + 13 * (unsigned __int8)a1 + 1);
      goto LABEL_4;
    case 0x20:
      if ( (*((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1) & 0xC0) == 64 )
      {
        v2 = dword_534C60[(unsigned __int8)a1];
        if ( !(*(_WORD *)(v2 + 2) & 0x4000) )
        {
          v1 = *(_DWORD *)(v2 + 4);
LABEL_4:
          dword_534C60[(unsigned __int8)a1] = v1;
          sub_419420(a1);
        }
      }
      break;
    case 0x50:
      *(_DWORD *)dword_534C28[(unsigned __int8)a1] = dword_534AA8[24 * (unsigned __int8)a1];
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 4) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 8) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 12) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 16) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 20) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 24) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 28) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 32) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 36) = dword_534ACC[24 * (unsigned __int8)a1];
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 40) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 44) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 48) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 52) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 56) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 60) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 64) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 68) = 0;
      *(_DWORD *)(dword_534C28[(unsigned __int8)a1] + 72) = 0;
      *(_WORD *)(dword_534C28[(unsigned __int8)a1] + 76) = -24571;
      break;
    case 0x40:
      dword_534C28[(unsigned __int8)a1] = *((_DWORD *)&hwm_ethr_csr_data + 13 * (unsigned __int8)a1 + 1);
      break;
    default:
      break;
  }
  result = hwm_ethr_csr_data;
  *((_WORD *)&hwm_ethr_csr_data + 26 * (unsigned __int8)a1 + 1) &= 0xFF00u;
  return result;
}
// 534AA8: using guessed type int dword_534AA8[];
// 534ACC: using guessed type int dword_534ACC[];
// 534C28: using guessed type int dword_534C28[];
// 534C50: using guessed type int dword_534C50[];
// 534C60: using guessed type int dword_534C60[];

//----- (004199C0) --------------------------------------------------------
int sub_4199C0()
{
  int result; // eax@1

  memset(&dword_534C78, 0, 0x144u);
  dword_534C78 = (int)sub_419760(0x1Cu);
  dword_534C7C = (int)sub_419760(0x18u);
  dword_534C80 = (int)sub_419760(0x14u);
  dword_534C84 = (int)sub_419760(0x14u);
  dword_534C88 = (int)sub_419760(0xCu);
  dword_534C8C = (int)sub_419760(8u);
  result = dword_534C80;
  *(_DWORD *)(dword_534C80 + 4) = &unk_534AA4;
  return result;
}
// 534C78: using guessed type int dword_534C78;
// 534C7C: using guessed type int dword_534C7C;
// 534C80: using guessed type int dword_534C80;
// 534C84: using guessed type int dword_534C84;
// 534C88: using guessed type int dword_534C88;
// 534C8C: using guessed type int dword_534C8C;

//----- (00419A40) --------------------------------------------------------
void __cdecl __noreturn sub_419A40(char a1)
{
  char v1; // [sp+4h] [bp-Ch]@2

  dword_534AA0 = 0;
  sub_4199C0();
  sub_41A970();
  HWM_set_pwr_key_state(0);
  if ( a1 )
  {
    HWM_set_pwr_key_state(1);
  }
  else
  {
    j_HWM_pvg_read_keys(&v1);
    while ( !(v1 & 0x80) )
    {
      Sleep(0x32u);
      j_HWM_pvg_read_keys(&v1);
    }
  }
  SIM_proc_rqst(0);
  HWM_boot();
  while ( 1 )
    Sleep(0x64u);
}
// 474E24: using guessed type int __cdecl HWM_set_pwr_key_state(_DWORD);
// 47F920: using guessed type int __cdecl j_HWM_pvg_read_keys(_DWORD);
// 534AA0: using guessed type int dword_534AA0;

//----- (00419AC0) --------------------------------------------------------
void __cdecl __noreturn SIM_boot(char a1)
{
  sub_419A40(a1);
}

//----- (00419AD0) --------------------------------------------------------
void __noreturn SIM_reboot()
{
  sub_419A40(1);
}

//----- (00419AE0) --------------------------------------------------------
char __cdecl sub_419AE0(int a1)
{
  __int16 v2; // [sp+0h] [bp-52Ch]@1
  int v3; // [sp+4h] [bp-528h]@1

  v2 = -32752;
  v3 = a1;
  return sub_477CB0((int)&v2);
}

//----- (00419B30) --------------------------------------------------------
char __cdecl sub_419B30(int a1)
{
  sub_47F9E0(2116, a1, 60);
  return sub_419AE0(2116);
}

//----- (00419B60) --------------------------------------------------------
int sub_419B60()
{
  int result; // eax@1

  result = TSK_sch_running;
  if ( TSK_sch_running )
    result = sub_47FAB0(85);
  return result;
}

//----- (00419B80) --------------------------------------------------------
int sub_419B80()
{
  int result; // eax@1

  result = TSK_sch_running;
  if ( TSK_sch_running )
    result = sub_47FAD0(85, -1);
  return result;
}

//----- (00419BA0) --------------------------------------------------------
int SIM_rqst_init()
{
  return sub_47FB00(63, 16);
}

//----- (00419BB0) --------------------------------------------------------
// write access to const memory has been detected, the output may be wrong!
char *__cdecl SIM_proc_rqst(int a1)
{
  char *v1; // esi@3
  int v2; // eax@27
  char v3; // cl@28
  int v4; // eax@30
  char v5; // cl@31
  int v6; // eax@33
  char v7; // cl@34
  int v8; // eax@36
  char v9; // cl@37
  int v10; // eax@39
  char v11; // cl@40
  char *v13; // [sp+8h] [bp-11Ch]@8
  char v14; // [sp+Ch] [bp-118h]@8
  char v15; // [sp+10h] [bp-114h]@5
  char v16[260]; // [sp+1Ch] [bp-108h]@27

  if ( TSK_sch_running )
    sub_47FAD0(85, -1);
  v1 = (char *)204;
  switch ( a1 )
  {
    case 1:
      sub_419B60();
      HWM_pwrdn_msg();
      sub_419B80();
      TSK_win_shutdown();
      TSK_sch_running = 0;
      break;
    case 2:
      sub_406F80(*SIM_intf + 8);
      *(_QWORD *)(*SIM_intf + 20) = sub_406FA0();
      sub_419040((char *)(*SIM_intf + 8), (int)&v15, 3u);
      if ( !sub_419010((int)&v15, 3u) )
      {
        TSK_win_shutdown();
        sub_406E70();
        exit_0(0);
      }
      break;
    case 17:
      sub_4070B0(0, &v14, (int *)&v13);
      goto LABEL_80;
    case 18:
      sub_4070B0(1, &v14, (int *)&v13);
      goto LABEL_80;
    case 19:
      sub_4070B0(2, &v14, (int *)&v13);
      goto LABEL_80;
    case 20:
      sub_4070B0(3, &v14, (int *)&v13);
      goto LABEL_80;
    case 21:
      sub_407110(3, 1);
      break;
    case 22:
      sub_407110(3, 0);
      break;
    case 23:
      sub_4070B0(4, &v14, (int *)&v13);
      goto LABEL_80;
    case 25:
      sub_407110(4, 1);
      break;
    case 26:
      sub_407110(4, 0);
      break;
    case 24:
      sub_4070B0(5, &v14, (int *)&v13);
      goto LABEL_80;
    case 27:
      sub_407110(5, 1);
      break;
    case 28:
      sub_407110(5, 0);
      break;
    case 29:
      sub_4070B0(6, &v14, (int *)&v13);
      goto LABEL_80;
    case 30:
      sub_407110(6, 1);
      break;
    case 31:
      sub_407110(6, 0);
      break;
    case 32:
      sub_4070B0(7, &v14, (int *)&v13);
      goto LABEL_80;
    case 33:
      sub_4070B0(8, &v14, (int *)&v13);
      goto LABEL_80;
    case 34:
      sub_4070B0(9, &v14, (int *)&v13);
      goto LABEL_80;
    case 50:
      sub_4070B0(17, &v14, (int *)&v13);
      goto LABEL_80;
    case 8:
      sub_407070(0, v16, 0x104u);
      v2 = 0;
      do
      {
        v3 = v16[v2];
        byte_5356D8[v2++] = v3;
      }
      while ( v3 );
      v1 = byte_5356D8;
      break;
    case 9:
      sub_407070(1u, v16, 0x104u);
      v4 = 0;
      do
      {
        v5 = v16[v4];
        byte_5356D8[v4++] = v5;
      }
      while ( v5 );
      v1 = byte_5356D8;
      break;
    case 12:
      sub_407070(2u, v16, 0x104u);
      v6 = 0;
      do
      {
        v7 = v16[v6];
        byte_5358E8[v6++] = v7;
      }
      while ( v7 );
      v1 = byte_5358E8;
      break;
    case 13:
      sub_407070(3u, v16, 0x104u);
      v8 = 0;
      do
      {
        v9 = v16[v8];
        byte_5359F0[v8++] = v9;
      }
      while ( v9 );
      v1 = byte_5359F0;
      break;
    case 14:
      sub_407070(4u, v16, 0x104u);
      v10 = 0;
      do
      {
        v11 = v16[v10];
        byte_535D08[v10++] = v11;
      }
      while ( v11 );
      v1 = byte_535D08;
      break;
    case 3:
      if ( !*(&dword_5353A4 + *(_BYTE *)(SIM_intf[2] + 16)) && !*(&dword_5351C4 + *(_BYTE *)(SIM_intf[2] + 16)) )
      {
        if ( !*(&dword_5351C4 + *(_BYTE *)(SIM_intf[2] + 16)) )
          *(&dword_5351C4 + *(_BYTE *)(SIM_intf[2] + 16)) = malloc(*(_DWORD *)SIM_intf[1]);
        if ( !*(&dword_5353A4 + *(_BYTE *)(SIM_intf[2] + 16)) )
          *(&dword_5353A4 + *(_BYTE *)(SIM_intf[2] + 16)) = malloc(*(_DWORD *)SIM_intf[2]);
        sub_407A10(*(_BYTE *)(SIM_intf[2] + 16));
      }
      memcpy(*(&dword_5353A4 + *(_BYTE *)(SIM_intf[2] + 16)), (const void *)SIM_intf[2], *(_DWORD *)SIM_intf[2]);
      sub_407430(
        *(_BYTE *)(SIM_intf[2] + 16),
        *((_DWORD *)*(&dword_5353A4 + *(_BYTE *)(SIM_intf[2] + 16)) + 2),
        *((_DWORD *)*(&dword_5353A4 + *(_BYTE *)(SIM_intf[2] + 16)) + 3));
      break;
    case 4:
      if ( !*(&dword_5353A4 + *(_BYTE *)(SIM_intf[1] + 20)) && !*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) )
      {
        if ( !*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) )
          *(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) = malloc(*(_DWORD *)SIM_intf[1]);
        if ( !*(&dword_5353A4 + *(_BYTE *)(SIM_intf[1] + 20)) )
          *(&dword_5353A4 + *(_BYTE *)(SIM_intf[1] + 20)) = malloc(*(_DWORD *)SIM_intf[2]);
        sub_407A10(*(_BYTE *)(SIM_intf[1] + 20));
      }
      memcpy(*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)), (const void *)SIM_intf[1], *(_DWORD *)SIM_intf[1]);
      sub_407430(
        *(_BYTE *)(SIM_intf[2] + 16),
        *((_DWORD *)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 3),
        *((_DWORD *)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 4));
      break;
    case 5:
      if ( *(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) )
      {
        memcpy(*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)), (const void *)SIM_intf[1], *(_DWORD *)SIM_intf[1]);
        if ( *((_DWORD *)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 2) > 0u )
        {
          if ( *(&dword_53538C + *(_BYTE *)(SIM_intf[1] + 20)) )
            fwrite(
              *((const void **)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 1),
              *((_DWORD *)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 2),
              1u,
              *(&dword_53538C + *(_BYTE *)(SIM_intf[1] + 20)));
          sub_407780(
            *(_BYTE *)(SIM_intf[1] + 20),
            *((LPCVOID *)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 1),
            *((_DWORD *)*(&dword_5351C4 + *(_BYTE *)(SIM_intf[1] + 20)) + 2));
        }
      }
      break;
    case 35:
      sub_407D60();
      break;
    case 37:
      **(_WORD **)(SIM_intf[3] + 16) = sub_407270(*(_BYTE *)(SIM_intf[3] + 8), *(void **)(SIM_intf[3] + 12), 4);
      break;
    case 36:
      sub_407290(*(_BYTE *)(SIM_intf[3] + 8), *(void **)(SIM_intf[3] + 12), **(_WORD **)(SIM_intf[3] + 16));
      break;
    case 38:
      sub_4070B0(10, &v14, (int *)&v13);
      goto LABEL_80;
    case 39:
      sub_4070B0(11, &v14, (int *)&v13);
      goto LABEL_80;
    case 40:
      sub_4070B0(12, &v14, (int *)&v13);
      goto LABEL_80;
    case 41:
      sub_4070B0(18, &v14, (int *)&v13);
      goto LABEL_80;
    case 42:
      sub_4070B0(19, &v14, (int *)&v13);
      goto LABEL_80;
    case 43:
      sub_4070B0(20, &v14, (int *)&v13);
      goto LABEL_80;
    case 44:
      sub_4070B0(21, &v14, (int *)&v13);
      goto LABEL_80;
    case 45:
      sub_4070B0(22, &v14, (int *)&v13);
      goto LABEL_80;
    case 46:
      sub_4070B0(23, &v14, (int *)&v13);
      goto LABEL_80;
    case 47:
      sub_4070B0(24, &v14, (int *)&v13);
      goto LABEL_80;
    case 48:
      SIM_intf[77] = 0;
      SIM_intf[78] = 0;
      SIM_intf[79] = 0;
      *((_WORD *)SIM_intf + 26) = 0;
      break;
    case 49:
      SIM_intf[77] = *((_WORD *)SIM_intf + 38);
      SIM_intf[78] = *((_WORD *)SIM_intf + 44);
      sub_4070B0(25, &v14, (int *)&v13);
      goto LABEL_80;
    case 51:
      sub_4070B0(27, &v14, (int *)&v13);
      goto LABEL_80;
    case 52:
      sub_4070B0(28, &v14, (int *)&v13);
LABEL_80:
      v1 = v13;
      break;
    default:
      break;
  }
  if ( TSK_sch_running )
    sub_47FAB0(85);
  return v1;
}
// 419C16: write access to const memory at 4AB678 has been detected
// 474E2A: using guessed type int TSK_win_shutdown(void);
// 474E30: using guessed type int HWM_pwrdn_msg(void);
// 4B28F0: using guessed type int *SIM_intf;
// 419BB0: using guessed type char var_108[260];

//----- (0041A500) --------------------------------------------------------
void __cdecl SIM_sleep(DWORD dwMilliseconds)
{
  Sleep(dwMilliseconds);
}

//----- (0041A550) --------------------------------------------------------
int __cdecl SIM_load_dbg_gfx_wnd(int a1)
{
  char v2; // [sp+0h] [bp-400h]@1

  HWM_get_palette32(&v2);
  return sub_4072C0(
           *(_WORD *)(*(_DWORD *)(a1 + 52) + 10),
           *(_WORD *)(*(_DWORD *)(a1 + 52) + 4),
           **(_DWORD **)(a1 + 52),
           (int)&v2);
}
// 474E36: using guessed type int __cdecl HWM_get_palette32(_DWORD);

//----- (0041A5C0) --------------------------------------------------------
UINT sub_41A5C0()
{
  char v0; // di@1
  signed int v1; // esi@3
  FILE *v2; // esi@15
  char v3; // ST08_1@15
  signed int v4; // edi@15
  __int64 v5; // ST04_8@25
  UINT result; // eax@2
  double v7; // [sp+38h] [bp-58h]@25
  char v8; // [sp+48h] [bp-48h]@4
  char v9; // [sp+84h] [bp-Ch]@25

  sub_475620();
  sub_478070();
  v0 = 0;
  sub_475230(0, &byte_5351F8);
  if ( (unsigned __int8)byte_5351F8 >= 2u )
  {
    v1 = 0;
    if ( byte_5351F8 )
    {
      do
      {
        sub_4752C0(0, v1, &v8);
        if ( v8 != 1 && v8 != 2 && v8 != 4 && v8 != 5 && v8 != 18 && v8 != 19 && v8 != 20 && v8 != 21 && v8 != 22 )
          ++v0;
        ++v1;
      }
      while ( v1 < (unsigned __int8)byte_5351F8 );
    }
    v2 = fopen("Predict.dat", "wt");
    sub_4822AC(v2, (int)"%i      Number_of_Waypoints\n", v0);
    sub_4822AC(v2, (int)"WaypointID WaypointType Latitude Longitude\n", v3);
    v4 = 0;
    if ( byte_5351F8 )
    {
      do
      {
        sub_4752C0(0, v4, &v8);
        if ( v8 != 1 && v8 != 2 && v8 != 4 && v8 != 5 && v8 != 18 && v8 != 19 && v8 != 20 && v8 != 21 && v8 != 22 )
        {
          sub_474F40(dword_5351FC[v4], (int)&v9);
          sub_475090(0, dword_5351FC[v4], &v7);
          LODWORD(v5) = dword_5351FC[v4];
          switch ( sub_474E50(v5) )
          {
            case 0:
              sub_4822AC(v2, (int)"%5s          APT%14.3f%10.3f\n", (unsigned int)&v9);
              break;
            case 1:
              sub_4822AC(v2, (int)"%5s          INT%14.3f%10.3f\n", (unsigned int)&v9);
              break;
            case 2:
              sub_4822AC(v2, (int)"%5s          NDB%14.3f%10.3f\n", (unsigned int)&v9);
              break;
            case 3:
              sub_4822AC(v2, (int)"%5s          VOR%14.3f%10.3f\n", (unsigned int)&v9);
              break;
            case 4:
              sub_4822AC(v2, (int)"%5s          USR%14.3f%10.3f\n", (unsigned int)&v9);
              break;
            case 5:
              sub_4822AC(v2, (int)"%5s          RWY%14.3f%10.3f\n", (unsigned int)&v9);
              break;
            default:
              sub_4822AC(v2, (int)"%5s          NUL%14.3f%10.3f\n", (unsigned int)&v9);
              break;
          }
        }
        ++v4;
      }
      while ( v4 < (unsigned __int8)byte_5351F8 );
    }
    fclose(v2);
    result = WinExec("WFDEprdct", 1u);
    if ( result == 2 )
      result = sub_407730((WPARAM)"WFDEprdct.exe not found!");
  }
  else
  {
    result = sub_407730((WPARAM)"Must activate a flight plan!");
  }
  return result;
}
// 5351F8: using guessed type char byte_5351F8;
// 5351FC: using guessed type int dword_5351FC[];

//----- (0041A8B0) --------------------------------------------------------
int __cdecl sub_41A8B0(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5351C0 = a1;
  dword_5354C4 = 1;
  return result;
}
// 5351C0: using guessed type int dword_5351C0;
// 5354C4: using guessed type int dword_5354C4;

//----- (0041A8D0) --------------------------------------------------------
void *sub_41A8D0()
{
  return sub_4780C0((void *)dword_5351C0);
}
// 5351C0: using guessed type int dword_5351C0;

//----- (0041A8E0) --------------------------------------------------------
int __cdecl sub_41A8E0(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5351C0 = a1;
  dword_5355CC = 1;
  return result;
}
// 5351C0: using guessed type int dword_5351C0;
// 5355CC: using guessed type int dword_5355CC;

//----- (0041A900) --------------------------------------------------------
char sub_41A900()
{
  return sub_419B30(dword_5351C0);
}
// 5351C0: using guessed type int dword_5351C0;

//----- (0041A910) --------------------------------------------------------
// write access to const memory has been detected, the output may be wrong!
void sub_41A910()
{
  signed int v0; // esi@1

  TSK_win_shutdown();
  TSK_sch_running = 0;
  sub_406E70();
  v0 = 0;
  do
  {
    if ( *(void **)((char *)&dword_5351C4 + v0) )
    {
      free(*(void **)((char *)&dword_5351C4 + v0));
      *(void **)((char *)&dword_5351C4 + v0) = 0;
    }
    if ( *(void **)((char *)&dword_5353A4 + v0) )
    {
      free(*(void **)((char *)&dword_5353A4 + v0));
      *(void **)((char *)&dword_5353A4 + v0) = 0;
    }
    v0 += 4;
  }
  while ( v0 < 24 );
}
// 41A91E: write access to const memory at 4AB678 has been detected
// 474E2A: using guessed type int TSK_win_shutdown(void);

//----- (0041A970) --------------------------------------------------------
void sub_41A970()
{
  int v0; // eax@1
  signed int v1; // esi@4

  LOBYTE(v0) = sub_407990();
  if ( !v0 )
  {
    printf("Interface Failure\n");
    exit_0(-1);
  }
  v1 = 0;
  do
  {
    if ( *(void **)((char *)&dword_5351C4 + v1) )
    {
      free(*(void **)((char *)&dword_5351C4 + v1));
      *(void **)((char *)&dword_5351C4 + v1) = 0;
    }
    if ( *(void **)((char *)&dword_5353A4 + v1) )
    {
      free(*(void **)((char *)&dword_5353A4 + v1));
      *(void **)((char *)&dword_5353A4 + v1) = 0;
    }
    v1 += 4;
  }
  while ( v1 < 24 );
}

//----- (0041A9D0) --------------------------------------------------------
void __noreturn SIM_rqst_main()
{
  int v0; // edi@3
  FILE **v1; // ebp@3
  int v2; // eax@4
  signed int v3; // esi@5
  signed int v4; // ecx@9
  int v5; // et1@10
  int v6; // eax@12
  char v7; // [sp+13h] [bp-5h]@5
  int v8; // [sp+14h] [bp-4h]@1

  sub_47FB80(&v8);
  for ( v8 |= 1u; ; sub_47FB80(&v8) )
  {
    if ( v8 & 1 )
    {
      hwm_ethr_isr_poll();
      v0 = 0;
      v1 = (FILE **)&unk_5351DC;
      do
      {
        LOBYTE(v2) = sub_407210(v0);
        if ( v2 )
        {
          do
          {
            v7 = sub_407750(v0);
            v3 = 0;
            **(_BYTE **)(SIM_intf[2] + 4) = v7;
            do
            {
              hwm_comm_drvr_sim_isr(v0);
              if ( **(_BYTE **)(SIM_intf[2] + 4) == v7 )
                sub_47FB60(100);
              if ( **(_BYTE **)(SIM_intf[2] + 4) != v7 )
                break;
              v4 = v3++;
            }
            while ( v4 < 20 );
            v5 = SIM_intf[2];
            if ( *v1 )
              fwrite(&v7, 1u, 1u, *v1);
            LOBYTE(v6) = sub_407210(v0);
          }
          while ( v6 );
        }
        ++v1;
        ++v0;
      }
      while ( (signed int)v1 < (signed int)&unk_5351F4 );
      if ( dword_5353BC == 1 )
      {
        sub_41A5C0();
        dword_5353BC = 0;
      }
      if ( dword_5354C4 == 1 )
      {
        sub_41A8D0();
        dword_5354C4 = 0;
        sub_407760();
      }
      if ( dword_5355CC == 1 )
      {
        sub_41A900();
        dword_5355CC = 0;
      }
    }
  }
}
// 407750: using guessed type _DWORD __cdecl sub_407750(_DWORD);
// 474E3C: using guessed type int __cdecl hwm_comm_drvr_sim_isr(_DWORD);
// 474E42: using guessed type int hwm_ethr_isr_poll(void);
// 4B28F0: using guessed type int *SIM_intf;
// 5353BC: using guessed type int dword_5353BC;
// 5354C4: using guessed type int dword_5354C4;
// 5355CC: using guessed type int dword_5355CC;

//----- (0041AB20) --------------------------------------------------------
int __cdecl sub_41AB20(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@6
  int v7; // ebx@6
  _DWORD *v8; // esi@7
  unsigned int v9; // ecx@7
  _DWORD *v10; // edx@7
  int v11; // edi@11
  int v12; // ecx@12
  _BYTE *v13; // edx@12
  _BYTE *v14; // esi@12
  int v15; // ecx@14
  _BYTE *v16; // edx@14
  _BYTE *v17; // esi@14
  _BYTE *v18; // edx@16
  _BYTE *v19; // esi@16
  signed int v20; // ecx@18
  _DWORD *v21; // esi@23
  unsigned int v22; // ecx@23
  _DWORD *v23; // edx@23
  int v24; // edi@27
  int v25; // ecx@28
  _BYTE *v26; // edx@28
  _BYTE *v27; // esi@28
  int v28; // ecx@30
  _BYTE *v29; // edx@30
  _BYTE *v30; // esi@30
  _BYTE *v31; // edx@32
  _BYTE *v32; // esi@32
  int v33; // edx@33
  signed int v34; // ecx@34
  int v35; // [sp+4h] [bp-4h]@6

  if ( a1 && (signed int)a2 > 0 && a3 && a4 > 0 && a5 > 0 )
  {
    result = a5 - 1;
    v7 = a3 + a4 * (a5 - 1);
    v35 = a5 - 1;
    if ( a5 - 1 > 0 )
    {
      while ( 1 )
      {
        v8 = a1;
        v9 = a2;
        v10 = (_DWORD *)v7;
        if ( a2 < 4 )
        {
LABEL_10:
          if ( !v9 )
            goto LABEL_20;
        }
        else
        {
          while ( *v8 == *v10 )
          {
            v9 -= 4;
            ++v10;
            ++v8;
            if ( v9 < 4 )
              goto LABEL_10;
          }
        }
        v11 = *(_BYTE *)v8 - *(_BYTE *)v10;
        if ( *(_BYTE *)v8 != *(_BYTE *)v10
          || (v12 = v9 - 1, v13 = (char *)v10 + 1, v14 = (char *)v8 + 1, v12)
          && ((v11 = *v14 - *v13, *v14 != *v13)
           || (v15 = v12 - 1, v16 = v13 + 1, v17 = v14 + 1, v15)
           && ((v11 = *v17 - *v16, *v17 != *v16)
            || (v18 = v16 + 1, v19 = v17 + 1, v15 != 1) && (v11 = *v19 - *v18, *v19 != *v18))) )
        {
          v20 = 1;
          if ( v11 <= 0 )
            v20 = -1;
          goto LABEL_21;
        }
LABEL_20:
        v20 = 0;
LABEL_21:
        result = v35;
        if ( v20 )
        {
          v7 -= a4;
          result = v35 - 1;
          v35 = result;
          if ( result > 0 )
            continue;
        }
        break;
      }
    }
    v21 = a1;
    v22 = a2;
    v23 = (_DWORD *)v7;
    if ( a2 < 4 )
    {
LABEL_26:
      if ( !v22 )
        goto LABEL_36;
    }
    else
    {
      while ( *v21 == *v23 )
      {
        v22 -= 4;
        ++v23;
        ++v21;
        if ( v22 < 4 )
          goto LABEL_26;
      }
    }
    v24 = *(_BYTE *)v21 - *(_BYTE *)v23;
    if ( *(_BYTE *)v21 != *(_BYTE *)v23
      || (v25 = v22 - 1, v26 = (char *)v23 + 1, v27 = (char *)v21 + 1, v25)
      && ((v24 = *v27 - *v26, *v27 != *v26)
       || (v28 = v25 - 1, v29 = v26 + 1, v30 = v27 + 1, v28)
       && ((v24 = *v30 - *v29, *v30 != *v29)
        || (v31 = v29 + 1, v32 = v30 + 1, v28 != 1) && (v33 = *v31, v24 = *v32 - v33, *v32 != v33))) )
    {
      v34 = 1;
      if ( v24 <= 0 )
        v34 = -1;
LABEL_37:
      if ( !v34 )
        return result;
      return a6;
    }
LABEL_36:
    v34 = 0;
    goto LABEL_37;
  }
  return a6;
}

//----- (0041ACB0) --------------------------------------------------------
int __cdecl sub_41ACB0(_DWORD *a1, unsigned int a2, int a3, int a4, int a5)
{
  int v5; // edx@1
  int result; // eax@1
  int v7; // ebx@1
  _DWORD *v8; // esi@7
  unsigned int v9; // ecx@7
  _DWORD *v10; // edx@7
  int v11; // edi@11
  int v12; // ecx@12
  _BYTE *v13; // edx@12
  _BYTE *v14; // esi@12
  int v15; // ecx@14
  _BYTE *v16; // edx@14
  _BYTE *v17; // esi@14
  _BYTE *v18; // edx@16
  _BYTE *v19; // esi@16
  signed int v20; // ecx@18
  unsigned int v21; // edx@23
  char *i; // ecx@23
  int v23; // [sp+20h] [bp+14h]@1

  v5 = a5;
  result = a5 - 1;
  v7 = a3 + a4 * (a5 - 1);
  v23 = a5 - 1;
  if ( a1 && (signed int)a2 > 0 && a3 && a4 > 0 && v5 > 0 )
  {
    if ( result > 0 )
    {
      while ( 1 )
      {
        v8 = a1;
        v9 = a2;
        v10 = (_DWORD *)v7;
        if ( a2 < 4 )
        {
LABEL_10:
          if ( !v9 )
            goto LABEL_20;
        }
        else
        {
          while ( *v8 == *v10 )
          {
            v9 -= 4;
            ++v10;
            ++v8;
            if ( v9 < 4 )
              goto LABEL_10;
          }
        }
        v11 = *(_BYTE *)v8 - *(_BYTE *)v10;
        if ( *(_BYTE *)v8 != *(_BYTE *)v10
          || (v12 = v9 - 1, v13 = (char *)v10 + 1, v14 = (char *)v8 + 1, v12)
          && ((v11 = *v14 - *v13, *v14 != *v13)
           || (v15 = v12 - 1, v16 = v13 + 1, v17 = v14 + 1, v15)
           && ((v11 = *v17 - *v16, *v17 != *v16)
            || (v18 = v16 + 1, v19 = v17 + 1, v15 != 1) && (v11 = *v19 - *v18, *v19 != *v18))) )
        {
          v20 = 1;
          if ( v11 <= 0 )
            v20 = -1;
          goto LABEL_21;
        }
LABEL_20:
        v20 = 0;
LABEL_21:
        result = v23;
        if ( v20 )
        {
          v7 -= a4;
          result = v23 - 1;
          v23 = result;
          if ( result > 0 )
            continue;
        }
        break;
      }
    }
    v21 = a2;
    for ( i = (char *)v7; v21 >= 4; i += 4 )
    {
      if ( *(_DWORD *)&i[(_DWORD)a1 - v7] != *(_DWORD *)i )
        break;
      v21 -= 4;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0041AE2A) --------------------------------------------------------
int __thiscall sub_41AE2A(void *this)
{
  return (*(int (**)(void))(*(_DWORD *)this + 16))();
}

//----- (0041AEA1) --------------------------------------------------------
char **sub_41AEA1()
{
  return &off_4B31AC;
}
// 4B31AC: using guessed type char *off_4B31AC;

//----- (0041AEA7) --------------------------------------------------------
char **sub_41AEA7()
{
  return &off_4B31C8;
}
// 4B31C8: using guessed type char *off_4B31C8;

//----- (0041AEAD) --------------------------------------------------------
char **sub_41AEAD()
{
  return &off_4B31E4;
}
// 4B31E4: using guessed type char *off_4B31E4;

//----- (0041B037) --------------------------------------------------------
char **sub_41B037()
{
  return &off_4B3264;
}
// 4B3264: using guessed type char *off_4B3264;

//----- (0041B367) --------------------------------------------------------
int sub_41B367()
{
  return *((_DWORD *)AfxGetThreadState() + 14);
}

//----- (0041B407) --------------------------------------------------------
char **sub_41B407()
{
  return &off_4B32B0;
}
// 4B32B0: using guessed type char *off_4B32B0;

//----- (0041B5F8) --------------------------------------------------------
void *__thiscall sub_41B5F8(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CWinThread::~CWinThread((CWinThread *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0041BC2E) --------------------------------------------------------
void *sub_41BC2E()
{
  return &unk_535E10;
}

//----- (0041BCB4) --------------------------------------------------------
void *__thiscall sub_41BCB4(_DWORD *this, size_t a2)
{
  _DWORD *v2; // esi@1
  void *result; // eax@1

  v2 = this;
  result = malloc(a2);
  if ( !result )
    sub_401090(-2147024882);
  *v2 = result;
  return result;
}

//----- (0041BD13) --------------------------------------------------------
int __thiscall sub_41BD13(_DWORD *this, size_t a2)
{
  _DWORD *v2; // esi@1

  v2 = this;
  if ( a2 <= 0x80 )
    *this = this + 1;
  else
    sub_41BCB4(this, a2);
  return *v2;
}

//----- (0041BDF9) --------------------------------------------------------
int *__thiscall sub_41BDF9(int *this, LPCWSTR lpWideCharStr, int cchWideChar)
{
  int *v3; // edi@1
  int v4; // eax@4
  int v5; // esi@4
  CHAR *v6; // eax@4

  v3 = this;
  sub_401890(this, (int)&unk_535E10);
  if ( cchWideChar > 0 )
  {
    if ( !lpWideCharStr )
      sub_401090(-2147024809);
    v4 = sub_407680(lpWideCharStr, cchWideChar);
    v5 = v4;
    v6 = (CHAR *)sub_401A30(v3, v4);
    sub_4076B0(v6, v5, lpWideCharStr, cchWideChar);
    ATL::CSimpleStringT<char,0>::SetLength(v5);
  }
  return v3;
}
// 401660: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::SetLength(_DWORD);

//----- (0041BE66) --------------------------------------------------------
CArchive *__thiscall sub_41BE66(CArchive *this, int *a2)
{
  unsigned int v2; // esi@1
  void **v3; // eax@4
  int *v4; // eax@7
  int v6; // [sp+Ch] [bp-18h]@1
  CArchive *v7; // [sp+10h] [bp-14h]@1
  int v8; // [sp+14h] [bp-10h]@4
  int v9; // [sp+20h] [bp-4h]@2
  void *Src; // [sp+24h] [bp+0h]@2
  char v11; // [sp+28h] [bp+4h]@4
  LPCWSTR lpWideCharStr; // [sp+A8h] [bp+84h]@6
  char v13; // [sp+ACh] [bp+88h]@7

  v7 = this;
  v2 = AfxReadStringLength(this, &v6);
  if ( v6 == 1 )
  {
    Src = 0;
    sub_401980((int *)&Src, v2);
    v9 = 0;
    if ( CArchive::Read(v7, Src, v2) != v2 )
      goto LABEL_3;
    v3 = (void **)ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>(
                    Src,
                    v2);
    LOBYTE(v9) = 1;
    sub_401CF0(a2, v3);
    sub_4010B0((_DWORD *)(v8 - 16));
    if ( Src != &v11 )
      sub_401650(&Src);
  }
  else
  {
    lpWideCharStr = 0;
    ATL::CTempBuffer<wchar_t,128,ATL::CCRTAllocator>::Allocate(v2);
    v9 = 2;
    if ( CArchive::Read(v7, (void *)lpWideCharStr, 2 * v2) != 2 * v2 )
LABEL_3:
      sub_42DFEE(3, 0);
    v4 = sub_41BDF9(&v8, lpWideCharStr, v2);
    LOBYTE(v9) = 3;
    sub_401CF0(a2, (void **)v4);
    sub_4010B0((_DWORD *)(v8 - 16));
    if ( (char *)lpWideCharStr != &v13 )
      unknown_libname_140();
  }
  return v7;
}
// 41BCAB: using guessed type int unknown_libname_140(void);
// 41BDC2: using guessed type _DWORD __stdcall ATL::CTempBuffer<wchar_t,128,ATL::CCRTAllocator>::Allocate(_DWORD);

//----- (0041BFBF) --------------------------------------------------------
char **sub_41BFBF()
{
  return &off_4B33A4;
}
// 4B33A4: using guessed type char *off_4B33A4;

//----- (0041BFC5) --------------------------------------------------------
char **sub_41BFC5()
{
  return &off_4B3368;
}
// 4B3368: using guessed type char *off_4B3368;

//----- (0041BFDA) --------------------------------------------------------
void *__thiscall sub_41BFDA(int this)
{
  int v1; // esi@1
  void *result; // eax@1

  v1 = this;
  result = *(void **)(this + 4);
  *(_DWORD *)this = &off_4B33C4;
  if ( result )
  {
    result = (void *)CloseHandle(result);
    *(_DWORD *)(v1 + 4) = 0;
  }
  return result;
}
// 4B33C4: using guessed type int (*off_4B33C4)();

//----- (0041BFF7) --------------------------------------------------------
void *__thiscall sub_41BFF7(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_41BFDA((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0041C9E4) --------------------------------------------------------
int __thiscall sub_41C9E4(char *this)
{
  return (int)(this + 64);
}

//----- (0041CA04) --------------------------------------------------------
int __thiscall sub_41CA04(int this, struct tagPOINT Point, int a3)
{
  int v3; // ebx@1
  HWND v4; // eax@1
  HWND v5; // edi@1
  int v6; // eax@4
  int result; // eax@6
  int v8; // [sp+8h] [bp-4h]@2

  v3 = this;
  v4 = _AfxChildWindowFromPoint(*(HWND *)(this + 32), Point);
  v5 = v4;
  if ( v4 )
  {
    v8 = (unsigned __int16)GetDlgCtrlID(v4);
    if ( a3 && *(_DWORD *)a3 >= 0x28u )
    {
      v6 = *(_DWORD *)(v3 + 32);
      *(_DWORD *)(a3 + 4) |= 1u;
      *(_DWORD *)(a3 + 36) = -1;
      *(_DWORD *)(a3 + 8) = v6;
      *(_DWORD *)(a3 + 12) = v5;
      if ( !(SendMessageA(v5, 0x87u, 0, 0) & 0x2000) )
        *(_DWORD *)(a3 + 4) |= 0x80000002;
    }
    result = v8;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (0041CA77) --------------------------------------------------------
BOOL __thiscall sub_41CA77(int this, WINDOWPLACEMENT *lpwndpl)
{
  lpwndpl->length = 44;
  return GetWindowPlacement(*(HWND *)(this + 32), lpwndpl);
}

//----- (0041CA8E) --------------------------------------------------------
BOOL __thiscall sub_41CA8E(int this, WINDOWPLACEMENT *lpwndpl)
{
  lpwndpl->length = 44;
  return SetWindowPlacement(*(HWND *)(this + 32), lpwndpl);
}

//----- (0041CB29) --------------------------------------------------------
CCmdUI *__thiscall sub_41CB29(CCmdUI *this)
{
  CCmdUI *v1; // esi@1

  v1 = this;
  CCmdUI::CCmdUI(this);
  *(_DWORD *)v1 = &off_4B38AC;
  *((_DWORD *)v1 + 10) = 1;
  return v1;
}
// 4B38AC: using guessed type void (__thiscall *off_4B38AC)(CTestCmdUI *this, int);

//----- (0041CC49) --------------------------------------------------------
void **sub_41CC49()
{
  return &off_4B3458;
}
// 4B3458: using guessed type void *off_4B3458;

//----- (0041CC84) --------------------------------------------------------
signed int __stdcall sub_41CC84(int a1, int a2, int a3, int a4)
{
  return -2147467263;
}

//----- (0041CFE0) --------------------------------------------------------
int sub_41CFE0()
{
  return 0;
}

//----- (0041D02E) --------------------------------------------------------
char **sub_41D02E()
{
  return &off_4B3460;
}
// 4B3460: using guessed type char *off_4B3460;

//----- (0041D335) --------------------------------------------------------
HMODULE __cdecl sub_41D335(LPCSTR lpLibFileName)
{
  struct AFX_MODULE_STATE *v1; // eax@1
  HMODULE result; // eax@2
  int v3; // esi@6
  DWORD v4; // edi@7
  int v5; // [sp+10h] [bp-24h]@1
  int v6; // [sp+14h] [bp-20h]@1
  HMODULE v7; // [sp+18h] [bp-1Ch]@1
  CPPEH_RECORD ms_exc; // [sp+1Ch] [bp-18h]@3

  v6 = 0;
  v1 = AfxGetModuleState();
  v5 = AfxActivateActCtxWrapper(*((_DWORD *)v1 + 32), &v6);
  v7 = 0;
  if ( v5 )
  {
    ms_exc.registration.TryLevel = 0;
    v7 = LoadLibraryA(lpLibFileName);
    ms_exc.registration.TryLevel = -2;
    if ( v5 != 2 )
    {
      v3 = v7 == 0;
      if ( v7 == 0 )
        v4 = GetLastError();
      else
        v4 = 0;
      sub_423723(0, v6);
      if ( v3 )
        SetLastError(v4);
    }
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 423733: using guessed type int __stdcall AfxActivateActCtxWrapper(_DWORD, _DWORD);

//----- (0041D646) --------------------------------------------------------
BOOL __thiscall sub_41D646(int this)
{
  HMODULE v1; // ecx@1
  BOOL result; // eax@2

  *(_DWORD *)this = &off_4B38E0;
  v1 = *(HMODULE *)(this + 4);
  if ( v1 )
    result = FreeLibrary(v1);
  return result;
}
// 4B38E0: using guessed type int (__thiscall *off_4B38E0)(void *, char);

//----- (0041D65B) --------------------------------------------------------
void *__thiscall sub_41D65B(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_41D646((int)this);
  if ( a2 & 1 )
    CNoTrackObject::operator delete(v2);
  return v2;
}

//----- (0041D6C7) --------------------------------------------------------
int __thiscall sub_41D6C7(void *this, LPCSTR lpText, LPCSTR lpCaption, UINT uType)
{
  const CHAR *v4; // eax@1
  void *v5; // esi@1
  HWND v6; // ecx@4

  v4 = lpCaption;
  v5 = this;
  if ( !lpCaption )
    v4 = (const CHAR *)*((_DWORD *)AfxGetModuleState() + 4);
  if ( v5 )
    v6 = (HWND)*((_DWORD *)v5 + 8);
  else
    v6 = 0;
  return AfxCtxMessageBoxA(v6, lpText, v4, uType);
}

//----- (0041D7FE) --------------------------------------------------------
unsigned __int32 __stdcall sub_41D7FE(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v1 = CCmdTarget::ExternalAddRef((CCmdTarget *)(a1 - 48));
  if ( v4 )
    sub_423723(0, v3);
  return v1;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041D846) --------------------------------------------------------
unsigned __int32 __stdcall sub_41D846(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v1 = CCmdTarget::ExternalRelease((CCmdTarget *)(a1 - 48));
  if ( v4 )
    sub_423723(0, v3);
  return v1;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041DA88) --------------------------------------------------------
int __stdcall sub_41DA88(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 156))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_423723(0, v12);
  return v8;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041DAE2) --------------------------------------------------------
int __stdcall sub_41DAE2(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 160))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_423723(0, v12);
  return v8;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041DB3C) --------------------------------------------------------
int __stdcall sub_41DB3C(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 164))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_423723(0, v12);
  return v8;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041DB96) --------------------------------------------------------
int __stdcall sub_41DB96(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 168))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_423723(0, v12);
  return v8;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041DBF0) --------------------------------------------------------
int __stdcall sub_41DBF0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 172))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_423723(0, v12);
  return v8;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041DCA7) --------------------------------------------------------
int __stdcall sub_41DCA7(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 180))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_423723(0, v12);
  return v8;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041E070) --------------------------------------------------------
unsigned __int32 __stdcall sub_41E070(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 24));
  v1 = CCmdTarget::ExternalAddRef((CCmdTarget *)(a1 - 52));
  if ( v4 )
    sub_423723(0, v3);
  return v1;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041E0B8) --------------------------------------------------------
unsigned __int32 __stdcall sub_41E0B8(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 24));
  v1 = CCmdTarget::ExternalRelease((CCmdTarget *)(a1 - 52));
  if ( v4 )
    sub_423723(0, v3);
  return v1;
}
// 423F57: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0041F01E) --------------------------------------------------------
_DWORD *sub_41F01E()
{
  _DWORD *result; // eax@1

  result = (_DWORD *)unknown_libname_111(0xCu);
  if ( result )
    *result = &off_4B38E0;
  else
    result = 0;
  return result;
}
// 4B38E0: using guessed type int (__thiscall *off_4B38E0)(void *, char);

//----- (0041F6A7) --------------------------------------------------------
int __stdcall sub_41F6A7(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 36))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F6E5) --------------------------------------------------------
int __stdcall sub_41F6E5(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 40))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F723) --------------------------------------------------------
int __stdcall sub_41F723(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 44))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F761) --------------------------------------------------------
int __stdcall sub_41F761(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 48))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F79F) --------------------------------------------------------
int __stdcall sub_41F79F(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 52))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F7DD) --------------------------------------------------------
int __stdcall sub_41F7DD(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 56))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F81B) --------------------------------------------------------
int __stdcall sub_41F81B(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 60))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F859) --------------------------------------------------------
int __stdcall sub_41F859(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  int result; // eax@2
  int v9; // [sp-4h] [bp-Ch]@6

  v7 = *(_DWORD *)(a1 + 8);
  if ( v7 )
  {
    if ( a2 && a7 )
    {
      v9 = a7;
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int))(*(_DWORD *)v7 + 64))(
                 v7,
                 a2,
                 a3,
                 a4,
                 a5,
                 a6,
                 a7);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F8A0) --------------------------------------------------------
int __stdcall sub_41F8A0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 68))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F93C) --------------------------------------------------------
int __stdcall sub_41F93C(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 80))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041F97A) --------------------------------------------------------
int __stdcall sub_41F97A(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
    result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 84))(v6, a2, a3, a4, a5, a6);
  else
    result = -2147417848;
  return result;
}

//----- (0041F9AA) --------------------------------------------------------
int __stdcall sub_41F9AA(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int v9; // eax@1
  int result; // eax@2

  v9 = *(_DWORD *)(a1 + 8);
  if ( v9 )
  {
    if ( a2 && a3 && a4 && a5 )
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int, int, int))(*(_DWORD *)v9 + 88))(
                 v9,
                 a2,
                 a3,
                 a4,
                 a5,
                 a6,
                 a7,
                 a8,
                 a9);
    else
      result = -2147467261;
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041FA01) --------------------------------------------------------
int __stdcall sub_41FA01(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  int result; // eax@2
  int v9; // [sp-4h] [bp-Ch]@5

  v7 = *(_DWORD *)(a1 + 8);
  if ( v7 )
  {
    if ( a7 )
    {
      v9 = a7;
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int))(*(_DWORD *)v7 + 92))(
                 v7,
                 a2,
                 a3,
                 a4,
                 a5,
                 a6,
                 a7);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0041FA78) --------------------------------------------------------
int __stdcall sub_41FA78(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  int result; // eax@2

  v5 = *(_DWORD *)(a1 + 8);
  if ( v5 )
    result = (*(int (__stdcall **)(int, int, int, int, int))(*(_DWORD *)v5 + 100))(v5, a2, a3, a4, a5);
  else
    result = -2147417848;
  return result;
}

//----- (0041FB9B) --------------------------------------------------------
int __thiscall sub_41FB9B(int *this, int a2)
{
  int v2; // edi@1

  v2 = sub_401A30(this, a2);
  ATL::CSimpleStringT<char,0>::SetLength(a2);
  return v2;
}
// 401660: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::SetLength(_DWORD);

//----- (0041FBBC) --------------------------------------------------------
void *__thiscall sub_41FBBC(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CWnd::~CWnd((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0041FF98) --------------------------------------------------------
int __stdcall sub_41FF98(int a1, int a2)
{
  return 0;
}

//----- (0041FF9D) --------------------------------------------------------
signed int __stdcall sub_41FF9D(int a1, int a2)
{
  return -2147467263;
}

//----- (004200EF) --------------------------------------------------------
void *__thiscall sub_4200EF(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CMFCComObject<ATL::CAccessibleProxy>::~CMFCComObject<ATL::CAccessibleProxy>();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 420086: using guessed type int CMFCComObject<ATL::CAccessibleProxy>::~CMFCComObject<ATL::CAccessibleProxy>(void);

//----- (0042010B) --------------------------------------------------------
int __stdcall sub_42010B(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::Release(a1 - 16);
}
// 4200B8: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::Release(_DWORD);

//----- (0042011F) --------------------------------------------------------
int __stdcall sub_42011F(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::AddRef(a1 - 16);
}
// 4200AB: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::AddRef(_DWORD);

//----- (00420133) --------------------------------------------------------
int __stdcall sub_420133(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::Release(a1 - 4);
}
// 4200B8: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::Release(_DWORD);

//----- (0042013D) --------------------------------------------------------
int __stdcall sub_42013D(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::AddRef(a1 - 4);
}
// 4200AB: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::AddRef(_DWORD);

//----- (00420625) --------------------------------------------------------
int __thiscall sub_420625(struct CWnd *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12)
{
  struct CWnd *v12; // esi@1
  int result; // eax@5
  HWND v14; // edi@6
  void *lpParam; // [sp+8h] [bp-30h]@4
  HINSTANCE hInstance; // [sp+Ch] [bp-2Ch]@4
  HMENU hMenu; // [sp+10h] [bp-28h]@4
  HWND hWndParent; // [sp+14h] [bp-24h]@4
  int nHeight; // [sp+18h] [bp-20h]@4
  int nWidth; // [sp+1Ch] [bp-1Ch]@4
  int Y; // [sp+20h] [bp-18h]@4
  int X; // [sp+24h] [bp-14h]@4
  DWORD dwStyle; // [sp+28h] [bp-10h]@4
  LPCSTR lpWindowName; // [sp+2Ch] [bp-Ch]@4
  LPCSTR lpClassName; // [sp+30h] [bp-8h]@4
  DWORD dwExStyle; // [sp+34h] [bp-4h]@4

  v12 = this;
  if ( a4 && !unknown_libname_117(a4, -1) )
    unknown_libname_36();
  dwExStyle = a2;
  lpClassName = (LPCSTR)a3;
  dwStyle = a5;
  X = a6;
  Y = a7;
  nWidth = a8;
  nHeight = a9;
  hWndParent = (HWND)a10;
  lpWindowName = (LPCSTR)a4;
  hMenu = (HMENU)a11;
  hInstance = (HINSTANCE)*((_DWORD *)AfxGetModuleState() + 2);
  lpParam = (void *)a12;
  if ( (*(int (__thiscall **)(struct CWnd *, void **))(*(_DWORD *)v12 + 100))(v12, &lpParam) )
  {
    AfxHookWindowCreate(v12);
    v14 = AfxCtxCreateWindowExA(
            dwExStyle,
            lpClassName,
            lpWindowName,
            dwStyle,
            X,
            Y,
            nWidth,
            nHeight,
            hWndParent,
            hMenu,
            hInstance,
            lpParam);
    if ( !AfxUnhookWindowCreate() )
      (*(void (__thiscall **)(struct CWnd *))(*(_DWORD *)v12 + 276))(v12);
    result = v14 != 0;
  }
  else
  {
    (*(void (__thiscall **)(struct CWnd *))(*(_DWORD *)v12 + 276))(v12);
    result = 0;
  }
  return result;
}
// 42D6EB: using guessed type _DWORD __stdcall unknown_libname_117(_DWORD, _DWORD);

//----- (0042109C) --------------------------------------------------------
int __thiscall sub_42109C(CWnd *this, ULONG_PTR dwData, UINT uCommand)
{
  CWnd *v3; // edi@1
  int v4; // esi@1
  struct AFX_MODULE_STATE *v5; // eax@1
  struct CWnd *v6; // eax@1

  v3 = this;
  v4 = *((_DWORD *)AfxGetModuleState() + 1);
  v5 = AfxGetModuleState();
  CCmdTarget::BeginWaitCursor(*((CCmdTarget **)v5 + 1));
  CWnd::PrepareForHelp(v3);
  v6 = CWnd::GetTopLevelParent(v3);
  if ( !v6 )
    unknown_libname_36();
  if ( !WinHelpA(*((HWND *)v6 + 8), *(LPCSTR *)(v4 + 100), uCommand, dwData) )
    AfxMessageBox(0xF107u, 0, 0xFFFFFFFF);
  return CWaitCursor::~CWaitCursor((CWaitCursor *)((char *)&dwData + 3));
}

//----- (00421111) --------------------------------------------------------
int __thiscall sub_421111(CWnd *this, int a2, int a3)
{
  CWnd *v3; // edi@1
  int v4; // esi@1
  struct AFX_MODULE_STATE *v5; // eax@1
  struct CWnd *v6; // eax@1

  v3 = this;
  v4 = *((_DWORD *)AfxGetModuleState() + 1);
  v5 = AfxGetModuleState();
  CCmdTarget::BeginWaitCursor(*((CCmdTarget **)v5 + 1));
  CWnd::PrepareForHelp(v3);
  v6 = CWnd::GetTopLevelParent(v3);
  if ( !v6 )
    unknown_libname_36();
  if ( !unknown_libname_54(*((_DWORD *)v6 + 8), *(_DWORD *)(v4 + 100), a3, a2) )
    AfxMessageBox(0xF107u, 0, 0xFFFFFFFF);
  return CWaitCursor::~CWaitCursor((CWaitCursor *)((char *)&a2 + 3));
}
// 41FC5F: using guessed type _DWORD __stdcall unknown_libname_54(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00421185) --------------------------------------------------------
int (**sub_421185())()
{
  return &off_4B3A70;
}
// 4B3A70: using guessed type int (*off_4B3A70)();

//----- (0042184F) --------------------------------------------------------
signed int __stdcall sub_42184F(int a1)
{
  if ( !*(_DWORD *)(a1 + 40) )
  {
    AfxEndDeferRegisterClass(1);
    *(_DWORD *)(a1 + 40) = "AfxWnd80s";
  }
  return 1;
}

//----- (00421B26) --------------------------------------------------------
signed int __stdcall sub_421B26(int a1)
{
  return 1;
}

//----- (00421B34) --------------------------------------------------------
void *sub_421B34()
{
  return &unk_4B3DAC;
}

//----- (00421B3A) --------------------------------------------------------
void *sub_421B3A()
{
  return &unk_4B3DE4;
}

//----- (00421B40) --------------------------------------------------------
void *sub_421B40()
{
  return &unk_4B3E00;
}

//----- (00421B74) --------------------------------------------------------
signed int sub_421B74()
{
  return 1;
}

//----- (00421B78) --------------------------------------------------------
void *sub_421B78()
{
  return &unk_4B3E10;
}

//----- (00421B7E) --------------------------------------------------------
void *sub_421B7E()
{
  return &unk_4B3E24;
}

//----- (00421C14) --------------------------------------------------------
BOOL __thiscall sub_421C14(int this, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem)
{
  return ModifyMenuA(*(HMENU *)(this + 4), uPosition, uFlags, uIDNewItem, lpNewItem);
}

//----- (00421C95) --------------------------------------------------------
void *sub_421C95()
{
  return &unk_4B3E50;
}

//----- (00421D9F) --------------------------------------------------------
void __thiscall sub_421D9F(int this, LPCSTR lpNewItem)
{
  int v2; // esi@1
  int v3; // eax@3
  UINT v4; // eax@5
  UINT v5; // ecx@5
  unsigned int v6; // eax@5
  int v7; // esi@7

  v2 = this;
  if ( !lpNewItem )
LABEL_2:
    unknown_libname_36();
  v3 = *(_DWORD *)(this + 12);
  if ( v3 )
  {
    if ( !*(_DWORD *)(this + 16) )
    {
      v4 = GetMenuState(*(HMENU *)(v3 + 4), *(_DWORD *)(this + 8), 0x400u);
      v5 = *(_DWORD *)(v2 + 8);
      v6 = v4 & 0xFFFFF6FB;
      if ( v5 >= *(_DWORD *)(v2 + 32) )
        goto LABEL_2;
      sub_421C14(*(_DWORD *)(v2 + 12), v5, v6 | 0x400, *(_DWORD *)(v2 + 4), lpNewItem);
    }
  }
  else
  {
    v7 = *(_DWORD *)(this + 20);
    if ( !v7 )
      goto LABEL_2;
    AfxSetWindowText(*(HWND *)(v7 + 32), lpNewItem);
  }
}

//----- (0042221B) --------------------------------------------------------
int __thiscall sub_42221B(int this, LPSTR lpString, int nMaxCount)
{
  int v3; // esi@1
  int result; // eax@2
  void *v5; // eax@3
  int v6; // eax@3
  int v7; // esi@3
  unsigned int v8; // [sp-4h] [bp-20h]@0
  unsigned int v9; // [sp+Ch] [bp-10h]@3
  int v10; // [sp+18h] [bp-4h]@3

  v3 = this;
  if ( *(_DWORD *)(this + 80) )
  {
    v5 = sub_41BC2E();
    sub_401890(&v9, (int)v5);
    v6 = **(_DWORD **)(v3 + 80);
    v10 = 0;
    (*(void (__stdcall **)(unsigned int *))(v6 + 140))(&v9);
    ATL::Checked::tcsncpy_s((ATL::Checked *)lpString, (char *)nMaxCount, v9, (const char *)0xFFFFFFFF, v8);
    v7 = lstrlenA(lpString);
    sub_4010B0((_DWORD *)(v9 - 16));
    result = v7;
  }
  else
  {
    result = GetWindowTextA(*(HWND *)(this + 32), lpString, nMaxCount);
  }
  return result;
}

//----- (004223AD) --------------------------------------------------------
int __thiscall sub_4223AD(int this, int iMode)
{
  int v2; // esi@1
  HDC v3; // ecx@1
  int result; // eax@1
  HDC v5; // esi@3

  v2 = this;
  v3 = *(HDC *)(this + 4);
  result = 0;
  if ( v3 != *(HDC *)(v2 + 8) )
    result = SetMapMode(v3, iMode);
  v5 = *(HDC *)(v2 + 8);
  if ( v5 )
    result = SetMapMode(v5, iMode);
  return result;
}

//----- (004223DB) --------------------------------------------------------
int __thiscall sub_4223DB(int this, LPRECT lprect)
{
  return GetClipBox(*(HDC *)(this + 4), lprect);
}

//----- (004224EB) --------------------------------------------------------
char **sub_4224EB()
{
  return &off_4B3EE4;
}
// 4B3EE4: using guessed type char *off_4B3EE4;

//----- (004224F1) --------------------------------------------------------
char **sub_4224F1()
{
  return &off_4B3F00;
}
// 4B3F00: using guessed type char *off_4B3F00;

//----- (004224F7) --------------------------------------------------------
void ***sub_4224F7()
{
  return &off_4B3F1C;
}
// 4B3F1C: using guessed type void **off_4B3F1C;

//----- (004224FD) --------------------------------------------------------
char **sub_4224FD()
{
  return &off_4B3F38;
}
// 4B3F38: using guessed type char *off_4B3F38;

//----- (00422503) --------------------------------------------------------
char **sub_422503()
{
  return &off_4B3F54;
}
// 4B3F54: using guessed type char *off_4B3F54;

//----- (00422509) --------------------------------------------------------
char **sub_422509()
{
  return &off_4B3F70;
}
// 4B3F70: using guessed type char *off_4B3F70;

//----- (0042250F) --------------------------------------------------------
char **sub_42250F()
{
  return &off_4B3F8C;
}
// 4B3F8C: using guessed type char *off_4B3F8C;

//----- (00422515) --------------------------------------------------------
char **sub_422515()
{
  return &off_4B3FA8;
}
// 4B3FA8: using guessed type char *off_4B3FA8;

//----- (0042251B) --------------------------------------------------------
char **sub_42251B()
{
  return &off_4B3FC4;
}
// 4B3FC4: using guessed type char *off_4B3FC4;

//----- (00422521) --------------------------------------------------------
char **sub_422521()
{
  return &off_4B3FE0;
}
// 4B3FE0: using guessed type char *off_4B3FE0;

//----- (00422527) --------------------------------------------------------
char **sub_422527()
{
  return &off_4B3FFC;
}
// 4B3FFC: using guessed type char *off_4B3FFC;

//----- (004225A5) --------------------------------------------------------
BOOL __thiscall sub_4225A5(int this, int x, int y)
{
  return PtVisible(*(HDC *)(this + 4), x, y);
}

//----- (004225B9) --------------------------------------------------------
BOOL __thiscall sub_4225B9(int this, RECT *lprect)
{
  return RectVisible(*(HDC *)(this + 4), lprect);
}

//----- (004225C9) --------------------------------------------------------
BOOL __thiscall sub_4225C9(int this, int x, int y, LPCSTR lpString, int c)
{
  return TextOutA(*(HDC *)(this + 4), x, y, lpString, c);
}

//----- (00422642) --------------------------------------------------------
int __thiscall sub_422642(int this, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format)
{
  return DrawTextA(*(HDC *)(this + 4), lpchText, cchText, lprc, format);
}

//----- (004226AD) --------------------------------------------------------
int __thiscall sub_4226AD(int this, int iEscape, int cjIn, LPCSTR pvIn, LPVOID pvOut)
{
  return Escape(*(HDC *)(this + 4), iEscape, cjIn, pvIn, pvOut);
}

//----- (0042295E) --------------------------------------------------------
void __stdcall sub_42295E(struct CObject *a1)
{
  if ( a1 )
  {
    *((_DWORD *)a1 + 1) = 0;
    *(_DWORD *)a1 = &off_4ABEFC;
  }
}
// 4ABEFC: using guessed type int (*off_4ABEFC)();

//----- (00422AAC) --------------------------------------------------------
CDC *__thiscall sub_422AAC(int this, int a2)
{
  CDC *v2; // esi@1
  HWND v3; // eax@1
  HDC v4; // eax@3

  v2 = (CDC *)this;
  v3 = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)this = &off_4B40FC;
  if ( a2 )
    v3 = *(HWND *)(a2 + 32);
  *(_DWORD *)(this + 16) = v3;
  v4 = GetDC(v3);
  if ( !CDC::Attach(v2, v4) )
    unknown_libname_67();
  return v2;
}
// 42252D: using guessed type int unknown_libname_67(void);
// 4B40FC: using guessed type int (*off_4B40FC)();

//----- (00422B00) --------------------------------------------------------
int __thiscall sub_422B00(CDC *this)
{
  CDC *v1; // esi@1
  HDC v2; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_4B40FC;
  v2 = CDC::Detach(this);
  ReleaseDC(*((HWND *)v1 + 4), v2);
  return CDC::~CDC(v1);
}
// 4B40FC: using guessed type int (*off_4B40FC)();

//----- (00422B3B) --------------------------------------------------------
CDC *__thiscall sub_422B3B(int this, int a2)
{
  CDC *v2; // esi@1
  HWND v3; // eax@1
  HDC v4; // eax@3

  v2 = (CDC *)this;
  v3 = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)this = &off_4B417C;
  if ( a2 )
    v3 = *(HWND *)(a2 + 32);
  *(_DWORD *)(this + 16) = v3;
  v4 = GetWindowDC(v3);
  if ( !CDC::Attach(v2, v4) )
    unknown_libname_67();
  return v2;
}
// 42252D: using guessed type int unknown_libname_67(void);
// 4B417C: using guessed type int (*off_4B417C)();

//----- (00422B8F) --------------------------------------------------------
int __thiscall sub_422B8F(CDC *this)
{
  CDC *v1; // esi@1
  HDC v2; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_4B417C;
  v2 = CDC::Detach(this);
  ReleaseDC(*((HWND *)v1 + 4), v2);
  return CDC::~CDC(v1);
}
// 4B417C: using guessed type int (*off_4B417C)();

//----- (00422DB3) --------------------------------------------------------
void *__thiscall sub_422DB3(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CDC::~CDC((CDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00422E68) --------------------------------------------------------
void *__thiscall sub_422E68(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_422B00((CDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00422E84) --------------------------------------------------------
void *__thiscall sub_422E84(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_422B8F((CDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00422EA0) --------------------------------------------------------
void *__thiscall sub_422EA0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CPaintDC::~CPaintDC((CPaintDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00423475) --------------------------------------------------------
void *__thiscall sub_423475(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B4278;
  sub_408820((CGdiObject *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4B4278: using guessed type int (*off_4B4278)();

//----- (00423497) --------------------------------------------------------
void *__thiscall sub_423497(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B4288;
  sub_408820((CGdiObject *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4B4288: using guessed type int (*off_4B4288)();

//----- (004234FB) --------------------------------------------------------
int __thiscall sub_4234FB(int this)
{
  int v1; // eax@3
  int v2; // edx@4
  bool v3; // zf@4
  int v4; // esi@4

  if ( !this || (v1 = *(_DWORD *)(this + 4)) == 0 )
    unknown_libname_36();
  v2 = *(_DWORD *)v1;
  v3 = *(_DWORD *)v1 == 0;
  v4 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(this + 4) = *(_DWORD *)v1;
  if ( v3 )
    *(_DWORD *)(this + 8) = 0;
  else
    *(_DWORD *)(v2 + 4) = 0;
  unknown_libname_71(v1);
  return v4;
}
// 4234D9: using guessed type _DWORD __stdcall unknown_libname_71(_DWORD);

//----- (004235A9) --------------------------------------------------------
char **sub_4235A9()
{
  return &off_4B42B0;
}
// 4B42B0: using guessed type char *off_4B42B0;

//----- (004235AF) --------------------------------------------------------
int __thiscall sub_4235AF(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &off_4B42D0;
  *(_DWORD *)(this + 24) = a2;
  return result;
}
// 4B42D0: using guessed type int (*off_4B42D0)();

//----- (004235D2) --------------------------------------------------------
int __thiscall sub_4235D2(void *this)
{
  *(_DWORD *)this = &off_4B42D0;
  return unknown_libname_70(this);
}
// 4234B9: using guessed type int __thiscall unknown_libname_70(_DWORD);
// 4B42D0: using guessed type int (*off_4B42D0)();

//----- (00423636) --------------------------------------------------------
int __thiscall sub_423636(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  _DWORD *v4; // ecx@1

  v2 = this;
  result = unknown_libname_75(*(_DWORD *)(this + 8), 0);
  *(_DWORD *)(result + 8) = a2;
  v4 = *(_DWORD **)(v2 + 8);
  if ( v4 )
    *v4 = result;
  else
    *(_DWORD *)(v2 + 4) = result;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}
// 4235DD: using guessed type _DWORD __stdcall unknown_libname_75(_DWORD, _DWORD);

//----- (0042365F) --------------------------------------------------------
void *__thiscall sub_42365F(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B42D0;
  unknown_libname_70(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4234B9: using guessed type int __thiscall unknown_libname_70(_DWORD);
// 4B42D0: using guessed type int (*off_4B42D0)();

//----- (00423713) --------------------------------------------------------
int __stdcall sub_423713(int a1, int a2)
{
  int result; // eax@2

  if ( dword_537900 )
    result = dword_537900(a1, a2);
  else
    result = 0;
  return result;
}
// 537900: using guessed type int (__stdcall *dword_537900)(_DWORD, _DWORD);

//----- (00423723) --------------------------------------------------------
int __stdcall sub_423723(int a1, int a2)
{
  int result; // eax@2

  if ( dword_537904 )
    result = dword_537904(a1, a2);
  else
    result = 0;
  return result;
}
// 537904: using guessed type int (__stdcall *dword_537904)(_DWORD, _DWORD);

//----- (00423A9B) --------------------------------------------------------
int __thiscall sub_423A9B(int this, _DWORD *a2)
{
  int v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B4348;
  sub_401A10((void *)(this + 12), a2);
  *(_DWORD *)(v2 + 4) = 0;
  *(_BYTE *)(v2 + 8) = 0;
  return v2;
}
// 4B4348: using guessed type int (__thiscall *off_4B4348)(void *, char);

//----- (004240A9) --------------------------------------------------------
int __thiscall sub_4240A9(int this)
{
  CWnd *v1; // esi@1

  v1 = (CWnd *)this;
  *(_DWORD *)this = &off_4B43AC;
  if ( *(_DWORD *)(this + 32) )
    CWnd::DestroyWindow((CWnd *)this);
  return CWnd::~CWnd(v1);
}
// 4B43AC: using guessed type int (*off_4B43AC)();

//----- (00424130) --------------------------------------------------------
int __thiscall sub_424130(int this)
{
  return *(_DWORD *)(this + 112);
}

//----- (004241AC) --------------------------------------------------------
void __thiscall sub_4241AC(CDialog *this)
{
  CDialog::EndDialog(this, 2);
}

//----- (004241C7) --------------------------------------------------------
char **sub_4241C7()
{
  return &off_4B438C;
}
// 4B438C: using guessed type char *off_4B438C;

//----- (004242FD) --------------------------------------------------------
void *__thiscall sub_4242FD(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_4240A9((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004245D4) --------------------------------------------------------
int (**sub_4245D4())()
{
  return &off_4B4510;
}
// 4B4510: using guessed type int (*off_4B4510)();

//----- (004249EB) --------------------------------------------------------
int __thiscall sub_4249EB(CDialog *this, struct DLGTEMPLATE *a2, struct CWnd *a3, void *a4)
{
  return CDialog::CreateIndirect(this, a2, a3, a4, 0);
}

//----- (00424A01) --------------------------------------------------------
int __thiscall sub_424A01(CDialog *this, LPCSTR lpName, struct CWnd *a3)
{
  CDialog *v3; // edi@1
  struct AFX_MODULE_STATE *v4; // eax@4
  HINSTANCE v5; // esi@4
  HRSRC v6; // eax@4
  HGLOBAL v7; // ebx@4
  int v8; // esi@4

  v3 = this;
  *((_DWORD *)this + 22) = lpName;
  if ( !((unsigned int)lpName & 0xFFFF0000) && !*((_DWORD *)this + 21) )
    *((_DWORD *)this + 21) = (unsigned __int16)lpName;
  v4 = AfxGetModuleState();
  v5 = (HINSTANCE)*((_DWORD *)v4 + 3);
  v6 = FindResourceA(*((HMODULE *)v4 + 3), lpName, (LPCSTR)5);
  v7 = LoadResource(v5, v6);
  v8 = CDialog::CreateIndirect(v3, v7, a3, v5);
  FreeResource(v7);
  return v8;
}

//----- (00424A5B) --------------------------------------------------------
int __thiscall sub_424A5B(CDialog *this, HGLOBAL hResData, struct CWnd *a3)
{
  return CDialog::CreateIndirect(this, hResData, a3, 0);
}

//----- (00424A6D) --------------------------------------------------------
char **sub_424A6D()
{
  return &off_4B45F4;
}
// 4B45F4: using guessed type char *off_4B45F4;

//----- (00424A8F) --------------------------------------------------------
int __thiscall sub_424A8F(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_4B4614;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 4B4614: using guessed type int (*off_4B4614)();

//----- (00424AA6) --------------------------------------------------------
void __thiscall sub_424AA6(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4);
  *(_DWORD *)this = &off_4B4614;
  j__free(v1);
}
// 4B4614: using guessed type int (*off_4B4614)();

//----- (00424AB6) --------------------------------------------------------
int __thiscall sub_424AB6(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // esi@1
  int v6; // ebx@2
  int v7; // edi@5
  int result; // eax@6

  v4 = a2;
  v5 = this;
  if ( a2 < 0 || (v6 = a4, a4 <= 0) )
    unknown_libname_36();
  if ( a2 < *(_DWORD *)(this + 8) )
  {
    v7 = *(_DWORD *)(this + 8);
    unknown_libname_131(v7 + a4, -1);
    sub_411C60(
      (void *)(*(_DWORD *)(v5 + 4) + 4 * (a4 + a2)),
      4 * (*(_DWORD *)(v5 + 8) - a2 - a4),
      (void *)(*(_DWORD *)(v5 + 4) + 4 * a2),
      4 * (v7 - a2));
    memset((void *)(4 * a2 + *(_DWORD *)(v5 + 4)), 0, 4 * a4);
    v4 = a2;
  }
  else
  {
    unknown_libname_131(a2 + a4, -1);
  }
  result = 4 * v4;
  do
  {
    --v6;
    *(_DWORD *)(result + *(_DWORD *)(v5 + 4)) = a3;
    result += 4;
  }
  while ( v6 );
  return result;
}
// 430424: using guessed type _DWORD __stdcall unknown_libname_131(_DWORD, _DWORD);

//----- (00424BAE) --------------------------------------------------------
void *__thiscall sub_424BAE(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_424AA6((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00424BEC) --------------------------------------------------------
int __thiscall sub_424BEC(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4ABF0C;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4ABF0C: using guessed type int (*off_4ABF0C)();

//----- (00424C60) --------------------------------------------------------
int __thiscall sub_424C60(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AC04C;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4AC04C: using guessed type int (*off_4AC04C)();

//----- (00424CB2) --------------------------------------------------------
int __thiscall sub_424CB2(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AC18C;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4AC18C: using guessed type int (*off_4AC18C)();

//----- (00424D98) --------------------------------------------------------
int __thiscall sub_424D98(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AC2E4;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4AC2E4: using guessed type int (*off_4AC2E4)();

//----- (00424E23) --------------------------------------------------------
char **sub_424E23()
{
  return &off_4B4648;
}
// 4B4648: using guessed type char *off_4B4648;

//----- (00424E29) --------------------------------------------------------
char **sub_424E29()
{
  return &off_4B4664;
}
// 4B4664: using guessed type char *off_4B4664;

//----- (00424E2F) --------------------------------------------------------
char **sub_424E2F()
{
  return &off_4B4680;
}
// 4B4680: using guessed type char *off_4B4680;

//----- (00424E35) --------------------------------------------------------
char **sub_424E35()
{
  return &off_4B469C;
}
// 4B469C: using guessed type char *off_4B469C;

//----- (00424E6C) --------------------------------------------------------
int __thiscall sub_424E6C(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AD724;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4AD724: using guessed type int (*off_4AD724)();

//----- (00424F04) --------------------------------------------------------
int __thiscall sub_424F04(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4AC434;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4AC434: using guessed type int (*off_4AC434)();

//----- (00424F35) --------------------------------------------------------
char **sub_424F35()
{
  return &off_4B4708;
}
// 4B4708: using guessed type char *off_4B4708;

//----- (00424F3B) --------------------------------------------------------
char **sub_424F3B()
{
  return &off_4B4724;
}
// 4B4724: using guessed type char *off_4B4724;

//----- (00424F41) --------------------------------------------------------
char **sub_424F41()
{
  return &off_4B4740;
}
// 4B4740: using guessed type char *off_4B4740;

//----- (00424FDD) --------------------------------------------------------
void __stdcall sub_424FDD(struct CObject *a1)
{
  if ( a1 )
  {
    *((_DWORD *)a1 + 1) = 0;
    *(_DWORD *)a1 = &off_4B47AC;
  }
}
// 4B47AC: using guessed type int (*off_4B47AC)();

//----- (00425297) --------------------------------------------------------
void *__thiscall sub_425297(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CImageList::~CImageList((CImageList *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004252B3) --------------------------------------------------------
void *__thiscall sub_4252B3(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B4808;
  sub_408820((CGdiObject *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4B4808: using guessed type int (*off_4B4808)();

//----- (0042554C) --------------------------------------------------------
int __thiscall sub_42554C(struct CWinApp *this, char *a2, UINT uType, unsigned int a4)
{
  return CWinApp::ShowAppMessageBox(this, a2, uType, a4);
}

//----- (004256E8) --------------------------------------------------------
char **sub_4256E8()
{
  return &off_4B4820;
}
// 4B4820: using guessed type char *off_4B4820;

//----- (004257E1) --------------------------------------------------------
int __thiscall sub_4257E1(int this, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@3
  int v5; // eax@5
  void *v6; // esi@5
  int *v7; // eax@6

  v3 = this;
  if ( !a2 )
    unknown_libname_36();
  v4 = sub_485769(a2, a3, *(FILE **)(this + 16));
  if ( !v4 && !feof(*(FILE **)(v3 + 16)) )
  {
    v5 = sub_4852C4(*(FILE **)(v3 + 16));
    sub_401000(v5);
    v6 = *(void **)(v3 + 12);
    v7 = (int *)__doserrno();
    sub_42FFF4(1, *v7, v6);
  }
  return v4;
}

//----- (00425AFA) --------------------------------------------------------
void *__thiscall sub_425AFA(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CDaoWorkspace::~CDaoWorkspace((CDaoWorkspace *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00425BE9) --------------------------------------------------------
void *__thiscall sub_425BE9(void *this, int a2, int a3, void *Src)
{
  void *v4; // esi@1

  v4 = this;
  CException::CException();
  *(_DWORD *)v4 = &off_4B48A8;
  sub_4019C0((_DWORD *)v4 + 4);
  *((_DWORD *)v4 + 2) = a2;
  *((_DWORD *)v4 + 3) = a3;
  sub_404060((int *)v4 + 4, Src);
  return v4;
}
// 41AF78: using guessed type int CException::CException(void);
// 4B48A8: using guessed type int (*off_4B48A8)();

//----- (00425E8F) --------------------------------------------------------
void __stdcall sub_425E8F(CDataExchange *a1, int a2, int a3)
{
  HWND v3; // eax@1
  HWND v4; // esi@1
  int v5; // eax@2
  int v6; // ST08_4@2
  CHAR *v7; // eax@2

  v3 = CDataExchange::PrepareEditCtrl(a1, a2);
  v4 = v3;
  if ( *(_DWORD *)a1 )
  {
    v5 = GetWindowTextLengthA(v3);
    v6 = v5 + 1;
    v7 = (CHAR *)sub_41FB9B((int *)a3, v5);
    GetWindowTextA(v4, v7, v6);
    ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
  }
  else
  {
    AfxSetWindowText(v3, *(LPCSTR *)a3);
  }
}
// 41E7BE: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (00425F73) --------------------------------------------------------
char *__thiscall sub_425F73(int this, char *a2)
{
  int v2; // esi@1
  char *v3; // eax@1
  void *v4; // ST04_4@1
  char *result; // eax@1

  v2 = this;
  free(*(void **)(this + 84));
  v3 = _strdup(a2);
  v4 = *(void **)(v2 + 104);
  *(_DWORD *)(v2 + 84) = v3;
  free(v4);
  result = _strdup(*(const char **)(v2 + 80));
  *(_DWORD *)(v2 + 104) = result;
  return result;
}

//----- (00426363) --------------------------------------------------------
int __thiscall sub_426363(int this)
{
  return *(_DWORD *)(this + 116);
}

//----- (0042636A) --------------------------------------------------------
char **sub_42636A()
{
  return &off_4B4910;
}
// 4B4910: using guessed type char *off_4B4910;

//----- (00426764) --------------------------------------------------------
int __thiscall sub_426764(_DWORD *this)
{
  _DWORD *v1; // esi@1
  int v2; // eax@1

  v1 = this;
  v2 = *this - 16;
  if ( *(_DWORD *)(v2 + 12) > 1 )
    sub_4016D0(this, *(_DWORD *)(v2 + 4));
  return *v1;
}

//----- (004267A3) --------------------------------------------------------
void *__thiscall sub_4267A3(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CFileDialog::~CFileDialog((CFileDialog *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042696B) --------------------------------------------------------
void *__thiscall sub_42696B(int this, void *a2)
{
  int v2; // edi@1
  void *v3; // eax@3
  int lParam; // ST20_4@3
  HWND v5; // eax@3
  struct CWnd *v6; // eax@3
  int v7; // ST20_4@7
  HWND v8; // eax@7
  struct CWnd *v9; // eax@7
  int v11; // [sp+10h] [bp-10h]@3
  int v12; // [sp+1Ch] [bp-4h]@3

  v2 = this;
  if ( *(_DWORD *)(*(_DWORD *)(this + 116) + 52) & 0x80000 && *(_DWORD *)(this + 32) )
  {
    v3 = sub_41BC2E();
    sub_401890(&v11, (int)v3);
    v12 = 0;
    lParam = sub_401A30(&v11, 260);
    v5 = GetParent(*(HWND *)(v2 + 32));
    v6 = CWnd::FromHandle(v5);
    if ( SendMessageA(*((HWND *)v6 + 8), 0x464u, 0x104u, lParam) >= 0 )
      ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
    else
      sub_401830(&v11);
    if ( *(_DWORD *)(v11 - 12) )
    {
      v7 = sub_401A30(&v11, 260);
      v8 = GetParent(*(HWND *)(v2 + 32));
      v9 = CWnd::FromHandle(v8);
      if ( SendMessageA(*((HWND *)v9 + 8), 0x465u, 0x104u, v7) >= 0 )
      {
        ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
        sub_401A10(a2, &v11);
        sub_4010B0((_DWORD *)(v11 - 16));
        return a2;
      }
      sub_401830(&v11);
    }
    v12 = -1;
    sub_4010B0((_DWORD *)(v11 - 16));
  }
  sub_407B00((int *)a2, *(void **)(*(_DWORD *)(v2 + 116) + 28));
  return a2;
}
// 41E7BE: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (00426A77) --------------------------------------------------------
int (**sub_426A77())()
{
  return &off_4B4B14;
}
// 4B4B14: using guessed type int (*off_4B4B14)();

//----- (00426B43) --------------------------------------------------------
bool __thiscall sub_426B43(int *this, int a2)
{
  int *v2; // esi@1
  bool result; // al@2
  int v4; // eax@6

  v2 = this;
  if ( dword_53791C )
  {
    if ( a2 && *this == -1 )
    {
      v4 = dword_53791C(a2);
      *v2 = v4;
      result = v4 != -1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}
// 53791C: using guessed type int (__stdcall *dword_53791C)(_DWORD);

//----- (00426F02) --------------------------------------------------------
char **sub_426F02()
{
  return &off_4B4AF8;
}
// 4B4AF8: using guessed type char *off_4B4AF8;

//----- (00427056) --------------------------------------------------------
int __thiscall sub_427056(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // edi@1
  struct CWnd *v4; // esi@1

  v3 = this;
  v4 = AfxGetMainWnd();
  if ( !v4 )
    unknown_libname_36();
  v3[23] = 0;
  PostMessageA(*((HWND *)v4 + 8), 0x36Au, 0, 0);
  return (*(int (__thiscall **)(struct CWnd *, int, int))(*(_DWORD *)v4 + 116))(v4, a2, a3);
}

//----- (00427093) --------------------------------------------------------
int __thiscall sub_427093(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // edi@1
  struct CWnd *v4; // esi@1

  v3 = this;
  v4 = AfxGetMainWnd();
  if ( !v4 )
    unknown_libname_36();
  v3[23] = 0;
  PostMessageA(*((HWND *)v4 + 8), 0x36Au, 0, 0);
  return (*(int (__thiscall **)(struct CWnd *, int, int))(*(_DWORD *)v4 + 120))(v4, a2, a3);
}

//----- (00427477) --------------------------------------------------------
_DWORD *__thiscall sub_427477(_DWORD *this, char *a2)
{
  _DWORD *v2; // esi@1
  struct AFX_MODULE_STATE *v3; // eax@4
  struct AFX_MODULE_STATE *v4; // ebx@4
  int v5; // eax@6

  v2 = this;
  CWinThread::CWinThread();
  *v2 = &off_4B4D6C;
  if ( a2 )
    v2[20] = _strdup(a2);
  else
    v2[20] = 0;
  v3 = AfxGetModuleState();
  v4 = v3;
  if ( !v3 || (v5 = CThreadLocal<AFX_MODULE_THREAD_STATE>::GetData((char *)v3 + 116)) == 0 )
    unknown_libname_36();
  *(_DWORD *)(v5 + 4) = v2;
  v2[11] = GetCurrentThread();
  v2[12] = GetCurrentThreadId();
  *((_DWORD *)v4 + 1) = v2;
  v2[17] = 0;
  v2[31] = 0;
  v2[25] = 0;
  v2[26] = 0;
  v2[21] = 0;
  v2[24] = 0;
  v2[34] = 0;
  v2[22] = 0;
  *((_WORD *)v2 + 73) = 0;
  *((_WORD *)v2 + 72) = 0;
  v2[18] = 0;
  v2[35] = 0;
  v2[32] = 0;
  v2[33] = 0;
  v2[28] = 0;
  v2[29] = 0;
  v2[37] = 0;
  v2[39] = 0;
  v2[23] = 0;
  v2[27] = 0;
  v2[38] = 512;
  return v2;
}
// 41B614: using guessed type int CWinThread::CWinThread(void);
// 41B67F: using guessed type int __thiscall CThreadLocal<AFX_MODULE_THREAD_STATE>::GetData(_DWORD);
// 4B4D6C: using guessed type int (*off_4B4D6C)();

//----- (00427740) --------------------------------------------------------
void *__thiscall sub_427740(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CWinApp::~CWinApp((CWinApp *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00427DCA) --------------------------------------------------------
signed int __stdcall sub_427DCA(int a1)
{
  int v1; // eax@3

  if ( !*(_DWORD *)(a1 + 40) )
  {
    AfxEndDeferRegisterClass(8);
    *(_DWORD *)(a1 + 40) = "AfxFrameOrView80s";
  }
  v1 = *(_DWORD *)(a1 + 32);
  if ( (signed __int16)v1 < 0 )
    *(_DWORD *)(a1 + 32) = v1 | 0x4000;
  *(_DWORD *)(a1 + 44) |= 0x200u;
  return 1;
}

//----- (00427F9E) --------------------------------------------------------
char **sub_427F9E()
{
  return &off_4B4E80;
}
// 4B4E80: using guessed type char *off_4B4E80;

//----- (00427FA4) --------------------------------------------------------
int __thiscall sub_427FA4(int this, int a2, int a3)
{
  int v3; // edi@1
  int result; // eax@5

  v3 = this;
  if ( a2 < 0 )
    unknown_libname_36();
  if ( a2 >= *(_DWORD *)(this + 8) )
    CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(a2 + 1, -1);
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(result + 4 * a2) = a3;
  return result;
}
// 430F63: using guessed type _DWORD __stdcall CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(_DWORD, _DWORD);

//----- (00428446) --------------------------------------------------------
signed int __thiscall sub_428446(CWnd *this, int a2, int a3)
{
  CWnd *v3; // esi@1
  signed int result; // eax@2

  v3 = this;
  if ( CWnd::Default(this) != -1 && (*(int (__thiscall **)(CWnd *, int, int))(*(_DWORD *)v3 + 348))(v3, a2, a3) )
  {
    PostMessageA(*((HWND *)v3 + 8), 0x362u, 0xE001u, 0);
    (*(void (__thiscall **)(CWnd *, signed int))(*(_DWORD *)v3 + 328))(v3, 1);
    result = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (004295D1) --------------------------------------------------------
int __thiscall sub_4295D1(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &off_4B4EDC;
  *(_DWORD *)(this + 24) = a2;
  return result;
}
// 4B4EDC: using guessed type int (*off_4B4EDC)();

//----- (004295FF) --------------------------------------------------------
void *__thiscall sub_4295FF(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  type_info::~type_info((type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042961B) --------------------------------------------------------
void *__thiscall sub_42961B(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B4EDC;
  unknown_libname_104();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 427FD4: using guessed type int unknown_libname_104(void);
// 4B4EDC: using guessed type int (*off_4B4EDC)();

//----- (00429BAC) --------------------------------------------------------
int __thiscall sub_429BAC(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  _DWORD *v4; // ecx@1

  v2 = this;
  result = unknown_libname_106(*(_DWORD *)(this + 8), 0);
  *(_DWORD *)(result + 8) = a2;
  v4 = *(_DWORD **)(v2 + 8);
  if ( v4 )
    *v4 = result;
  else
    *(_DWORD *)(v2 + 4) = result;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}
// 4296C3: using guessed type _DWORD __stdcall unknown_libname_106(_DWORD, _DWORD);

//----- (00429BD5) --------------------------------------------------------
void __thiscall sub_429BD5(int this, CArchive *a2)
{
  CArchive *v2; // edi@1
  int v3; // esi@1
  _DWORD *i; // esi@2
  unsigned __int32 v5; // ebx@6

  v2 = a2;
  v3 = this;
  if ( ~*((_BYTE *)a2 + 24) & 1 )
  {
    CArchive::WriteCount(a2, *(_DWORD *)(this + 12));
    for ( i = *(_DWORD **)(v3 + 4); i; i = (_DWORD *)*i )
      SerializeElements<enum  CArchive::LoadArrayObjType>(v2, (int)(i + 2), (void *)1);
  }
  else
  {
    v5 = CArchive::ReadCount(a2);
    while ( v5 )
    {
      --v5;
      SerializeElements<enum  CArchive::LoadArrayObjType>(v2, (int)&a2, (void *)1);
      sub_429BAC(v3, (int)a2);
    }
  }
}

//----- (0042A383) --------------------------------------------------------
void *__thiscall sub_42A383(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CFrameWnd::~CFrameWnd((CFrameWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042AB8A) --------------------------------------------------------
int (**sub_42AB8A())()
{
  return &off_4B50D0;
}
// 4B50D0: using guessed type int (*off_4B50D0)();

//----- (0042ABDC) --------------------------------------------------------
char **sub_42ABDC()
{
  return &off_529AB4;
}
// 529AB4: using guessed type char *off_529AB4;

//----- (0042ABE2) --------------------------------------------------------
int __thiscall sub_42ABE2(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_4B5584;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 4B5584: using guessed type int (*off_4B5584)();

//----- (0042AC30) --------------------------------------------------------
_DWORD *__cdecl sub_42AC30(_DWORD *a1, int a2)
{
  _DWORD *result; // eax@3

  while ( a2 )
  {
    --a2;
    if ( !a1 )
      unknown_libname_36();
    result = sub_4019C0(a1);
    ++a1;
  }
  return result;
}

//----- (0042AC57) --------------------------------------------------------
int __cdecl sub_42AC57(void *a1, int a2)
{
  int result; // eax@3

  while ( a2 )
  {
    --a2;
    if ( !a1 )
      unknown_libname_36();
    result = unknown_libname_108(a1, 0);
    a1 = (char *)a1 + 4;
  }
  return result;
}

//----- (0042AF5D) --------------------------------------------------------
void *__thiscall sub_42AF5D(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CStringArray::~CStringArray((CStringArray *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042AF79) --------------------------------------------------------
int *__thiscall sub_42AF79(CStringArray *this, int a2, int a3)
{
  CStringArray *v3; // esi@1
  int v4; // ecx@4
  unsigned int v5; // eax@5

  v3 = this;
  if ( a2 < 0 )
LABEL_2:
    unknown_libname_36();
  if ( a2 >= *((_DWORD *)this + 2) )
  {
    v4 = *((_DWORD *)this + 3);
    if ( a2 >= v4 )
    {
      v5 = *((_DWORD *)v3 + 1);
      if ( a3 >= v5 && a3 < v5 + 4 * v4 )
        goto LABEL_2;
    }
    CStringArray::SetSize(v3, a2 + 1, -1);
  }
  return sub_401CF0((int *)(*((_DWORD *)v3 + 1) + 4 * a2), (void **)a3);
}

//----- (0042AFC9) --------------------------------------------------------
void __thiscall sub_42AFC9(CStringArray *this, int a2, void **a3, int a4)
{
  int v4; // edi@1
  CStringArray *v5; // esi@1
  int v6; // ebx@2
  int *v7; // ecx@3

  v4 = a4;
  v5 = this;
  CStringArray::InsertEmpty(this, a2, a4);
  if ( a4 )
  {
    v6 = 4 * a2;
    do
    {
      v7 = (int *)(v6 + *((_DWORD *)v5 + 1));
      --v4;
      v6 += 4;
      sub_401CF0(v7, a3);
    }
    while ( v4 );
  }
}

//----- (0042B069) --------------------------------------------------------
char **sub_42B069()
{
  return &off_4B55D0;
}
// 4B55D0: using guessed type char *off_4B55D0;

//----- (0042B0A2) --------------------------------------------------------
void __stdcall sub_42B0A2(struct CObject *a1)
{
  if ( a1 )
  {
    *((_DWORD *)a1 + 1) = 0;
    *(_DWORD *)a1 = &off_4ADBEC;
  }
}
// 4ADBEC: using guessed type int (*off_4ADBEC)();

//----- (0042B3F2) --------------------------------------------------------
void *__thiscall sub_42B3F2(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CChevronOwnerDrawMenu::~CChevronOwnerDrawMenu((CChevronOwnerDrawMenu *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042B8E5) --------------------------------------------------------
signed int __thiscall sub_42B8E5(int this, int a2)
{
  int v2; // edi@3
  signed int result; // eax@3
  int v4; // eax@4
  int v5; // ecx@5
  signed int v6; // ecx@9

  if ( (*(_DWORD *)(this + 128) & 0xFF00) == 33280 )
    *(_DWORD *)(this + 128) &= 0xFFFFF07F;
  v2 = this;
  result = sub_42184F(a2);
  if ( result )
  {
    *(_DWORD *)(a2 + 32) |= 0x4000000u;
    v4 = *(_DWORD *)(v2 + 128);
    if ( (char)v4 >= 0 )
    {
      v5 = v4 & 0xFF00;
      if ( v5 == 5120 )
        goto LABEL_16;
      if ( v5 == 10240 )
      {
        v6 = 512;
        goto LABEL_12;
      }
      if ( v5 == 16640 )
      {
LABEL_16:
        v6 = 2560;
        goto LABEL_12;
      }
      if ( v5 == 33280 )
      {
        v6 = 2048;
LABEL_12:
        *(_DWORD *)(v2 + 128) = v6 | v4 & 0xFFFFF0FF | 0x80;
        goto LABEL_13;
      }
    }
LABEL_13:
    result = 1;
  }
  return result;
}

//----- (0042BA69) --------------------------------------------------------
char **sub_42BA69()
{
  return &off_4B5610;
}
// 4B5610: using guessed type char *off_4B5610;

//----- (0042BC8C) --------------------------------------------------------
void *__thiscall sub_42BC8C(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  type_info::~type_info((type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042BDB1) --------------------------------------------------------
void *__thiscall sub_42BDB1(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CStatusBar::~CStatusBar((CStatusBar *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042BEA4) --------------------------------------------------------
int __thiscall sub_42BEA4(int this, char *Src)
{
  return CStatusBar::SetPaneText(*(CStatusBar **)(this + 20), *(_DWORD *)(this + 8), Src, 1);
}

//----- (0042C297) --------------------------------------------------------
int (**sub_42C297())()
{
  return &off_4B57CC;
}
// 4B57CC: using guessed type int (*off_4B57CC)();

//----- (0042C6C7) --------------------------------------------------------
int *__thiscall sub_42C6C7(CFile *this, int *a2)
{
  char *v2; // eax@1
  int v4; // [sp+20h] [bp+0h]@1
  int v5; // [sp+24h] [bp+4h]@1
  int v6; // [sp+28h] [bp+8h]@1
  int v7; // [sp+2Ch] [bp+Ch]@1
  int v8; // [sp+30h] [bp+10h]@1
  int v9; // [sp+34h] [bp+14h]@1
  char v10; // [sp+42h] [bp+22h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  CFile::GetStatus(this, (struct CFileStatus *)&v4);
  sub_4019C0(a2);
  v2 = (char *)sub_401A30(a2, 256);
  AfxGetFileName(&v10, v2, 0x100u);
  ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
  return a2;
}
// 41E7BE: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (0042C770) --------------------------------------------------------
int *__thiscall sub_42C770(CFile *this, int *a2)
{
  CHAR *v2; // eax@1
  int v4; // [sp+20h] [bp+0h]@1
  int v5; // [sp+24h] [bp+4h]@1
  int v6; // [sp+28h] [bp+8h]@1
  int v7; // [sp+2Ch] [bp+Ch]@1
  int v8; // [sp+30h] [bp+10h]@1
  int v9; // [sp+34h] [bp+14h]@1
  CHAR v10; // [sp+42h] [bp+22h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  CFile::GetStatus(this, (struct CFileStatus *)&v4);
  sub_4019C0(a2);
  v2 = (CHAR *)sub_401A30(a2, 256);
  AfxGetFileTitle(&v10, v2, 0x100u);
  ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
  return a2;
}
// 41E7BE: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (0042C880) --------------------------------------------------------
char **sub_42C880()
{
  return &off_4B593C;
}
// 4B593C: using guessed type char *off_4B593C;

//----- (0042DEC5) --------------------------------------------------------
char **sub_42DEC5()
{
  return &off_4B59BC;
}
// 4B59BC: using guessed type char *off_4B59BC;

//----- (0042DECB) --------------------------------------------------------
int __thiscall sub_42DECB(int this, ATL::Checked *a2, char *a3, int a4)
{
  int v4; // esi@1
  void *v5; // eax@4
  int v6; // edi@4
  bool v7; // zf@4
  int result; // eax@6
  unsigned int v9; // [sp-4h] [bp-28h]@0
  unsigned int v10; // [sp+10h] [bp-14h]@4
  int v11; // [sp+20h] [bp-4h]@4

  v4 = this;
  if ( a2 )
  {
    if ( a4 )
      *(_DWORD *)a4 = *(_DWORD *)(this + 8) + 61872;
    v11 = 0;
    v5 = sub_41BC2E();
    sub_401890(&v10, (int)v5);
    LOBYTE(v11) = 1;
    sub_401A10(&a4, (_DWORD *)(v4 + 12));
    v6 = a4;
    v7 = *(_DWORD *)(a4 - 12) == 0;
    LOBYTE(v11) = 2;
    if ( v7 )
    {
      sub_407920(&a4, 0xF006u);
      v6 = a4;
    }
    sub_4301F4((int)&v10, *(_DWORD *)(v4 + 8) + 61872, v6);
    ATL::Checked::tcsncpy_s(a2, a3, v10, (const char *)0xFFFFFFFF, v9);
    sub_4010B0((_DWORD *)(v6 - 16));
    sub_4010B0((_DWORD *)(v10 - 16));
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042DF82) --------------------------------------------------------
void *__thiscall sub_42DF82(void *this, int a2, void *Src)
{
  void *v3; // esi@1

  v3 = this;
  CException::CException();
  *(_DWORD *)v3 = &off_4B59DC;
  sub_4019C0((_DWORD *)v3 + 3);
  *((_DWORD *)v3 + 2) = a2;
  sub_404060((int *)v3 + 3, Src);
  return v3;
}
// 41AF78: using guessed type int CException::CException(void);
// 4B59DC: using guessed type int (*off_4B59DC)();

//----- (0042DFEE) --------------------------------------------------------
void __cdecl __noreturn sub_42DFEE(int a1, void *Src)
{
  void *v2; // eax@1
  void *v3; // ecx@1
  void *v4; // ST18_4@1
  void *v5; // eax@1
  void *v6; // [sp+10h] [bp-10h]@3
  int v7; // [sp+1Ch] [bp-4h]@1

  v2 = operator new(0x10u);
  v3 = v2;
  v4 = v2;
  v5 = 0;
  v7 = 0;
  if ( v4 )
    v5 = sub_42DF82(v3, a1, Src);
  v7 = -1;
  v6 = v5;
  _CxxThrowException(&v6, &unk_52425C);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (0042E46F) --------------------------------------------------------
int __thiscall sub_42E46F(int this, _DWORD *a2)
{
  int result; // eax@1
  bool v3; // zf@1

  result = (int)a2;
  *a2 = *(_DWORD *)(this + 16);
  v3 = (*(_DWORD *)(this + 12))-- == 1;
  *(_DWORD *)(this + 16) = a2;
  if ( v3 )
    result = sub_42E444();
  return result;
}
// 42E444: using guessed type int sub_42E444(void);

//----- (0042E500) --------------------------------------------------------
signed int __thiscall sub_42E500(void *this, int a2, _DWORD *a3)
{
  signed int result; // eax@1
  void *v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  result = unknown_libname_125(a2, &v4, &a2);
  if ( result )
  {
    *a3 = *(_DWORD *)(result + 8);
    result = 1;
  }
  return result;
}
// 42E488: using guessed type _DWORD __stdcall unknown_libname_125(_DWORD, _DWORD, _DWORD);

//----- (0042E527) --------------------------------------------------------
signed int __thiscall sub_42E527(int this, unsigned int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  signed int *v4; // edx@3

  v2 = *(_DWORD *)(this + 4);
  if ( v2 )
  {
    v4 = (signed int *)(v2 + 4 * ((a2 >> 4) % *(_DWORD *)(this + 8)));
    for ( result = *v4; result; result = *(_DWORD *)result )
    {
      if ( *(_DWORD *)(result + 4) == a2 )
      {
        *v4 = *(_DWORD *)result;
        sub_42E46F(this, (_DWORD *)result);
        return 1;
      }
      v4 = (signed int *)result;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042E5E5) --------------------------------------------------------
char **sub_42E5E5()
{
  return &off_4B5A10;
}
// 4B5A10: using guessed type char *off_4B5A10;

//----- (0042E5EB) --------------------------------------------------------
_DWORD *__thiscall sub_42E5EB(_DWORD *this, signed int a2)
{
  _DWORD *result; // eax@1
  signed int v3; // ecx@1

  result = this;
  v3 = a2;
  *result = &off_4B5A30;
  if ( a2 <= 0 )
    v3 = 10;
  result[1] = 0;
  result[2] = 17;
  result[3] = 0;
  result[4] = 0;
  result[5] = 0;
  result[6] = v3;
  return result;
}
// 4B5A30: using guessed type int (*off_4B5A30)();

//----- (0042E619) --------------------------------------------------------
int __thiscall sub_42E619(void *this)
{
  *(_DWORD *)this = &off_4B5A30;
  return sub_42E444();
}
// 42E444: using guessed type int sub_42E444(void);
// 4B5A30: using guessed type int (*off_4B5A30)();

//----- (0042E672) --------------------------------------------------------
struct CMapPtrToPtr::CAssoc *__thiscall sub_42E672(CMapPtrToPtr *this, int a2)
{
  int v2; // edi@1
  CMapPtrToPtr *v3; // esi@1
  struct CMapPtrToPtr::CAssoc *v4; // eax@1
  int v5; // ecx@4
  char v7; // [sp+8h] [bp-4h]@1

  v2 = a2;
  v3 = this;
  v4 = (struct CMapPtrToPtr::CAssoc *)unknown_libname_125(a2, &a2, &v7);
  if ( !v4 )
  {
    if ( !*((_DWORD *)v3 + 1) )
      unknown_libname_124(*((_DWORD *)v3 + 2), 1);
    v4 = CMapPtrToPtr::NewAssoc(v3);
    v5 = a2;
    *((_DWORD *)v4 + 1) = v2;
    v5 *= 4;
    *(_DWORD *)v4 = *(_DWORD *)(v5 + *((_DWORD *)v3 + 1));
    *(_DWORD *)(v5 + *((_DWORD *)v3 + 1)) = v4;
  }
  return (struct CMapPtrToPtr::CAssoc *)((char *)v4 + 8);
}
// 42E3EA: using guessed type _DWORD __stdcall unknown_libname_124(_DWORD, _DWORD);
// 42E488: using guessed type _DWORD __stdcall unknown_libname_125(_DWORD, _DWORD, _DWORD);

//----- (0042E6C7) --------------------------------------------------------
void *__thiscall sub_42E6C7(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B5A30;
  sub_42E444();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 42E444: using guessed type int sub_42E444(void);
// 4B5A30: using guessed type int (*off_4B5A30)();

//----- (0042E7BD) --------------------------------------------------------
void __cdecl sub_42E7BD()
{
  AfxDeleteObject(&dword_537BD0);
}

//----- (0042ED50) --------------------------------------------------------
int *__thiscall sub_42ED50(int *this, void *Src, int a3)
{
  int *v3; // esi@1

  v3 = this;
  sub_401890(this, a3);
  if ( !sub_407950(v3, (int)Src) )
    sub_404060(v3, Src);
  return v3;
}

//----- (0042F3BA) --------------------------------------------------------
int __stdcall sub_42F3BA(int a1, int a2, int a3, int a4)
{
  return 0;
}

//----- (0042F3BF) --------------------------------------------------------
char **sub_42F3BF()
{
  return &off_4B5A50;
}
// 4B5A50: using guessed type char *off_4B5A50;

//----- (0042F54B) --------------------------------------------------------
void __thiscall sub_42F54B(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToLockLow, DWORD nNumberOfBytesToLockHigh)
{
  int v5; // esi@1
  void *v6; // ST10_4@2
  __int32 v7; // eax@2

  v5 = this;
  if ( !LockFile(
          *(HANDLE *)(this + 4),
          dwFileOffsetLow,
          dwFileOffsetHigh,
          nNumberOfBytesToLockLow,
          nNumberOfBytesToLockHigh) )
  {
    v6 = *(void **)(v5 + 12);
    v7 = GetLastError();
    sub_43003A(v7, v6);
  }
}

//----- (0042F57E) --------------------------------------------------------
void __thiscall sub_42F57E(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToUnlockLow, DWORD nNumberOfBytesToUnlockHigh)
{
  int v5; // esi@1
  void *v6; // ST10_4@2
  __int32 v7; // eax@2

  v5 = this;
  if ( !UnlockFile(
          *(HANDLE *)(this + 4),
          dwFileOffsetLow,
          dwFileOffsetHigh,
          nNumberOfBytesToUnlockLow,
          nNumberOfBytesToUnlockHigh) )
  {
    v6 = *(void **)(v5 + 12);
    v7 = GetLastError();
    sub_43003A(v7, v6);
  }
}

//----- (0042F781) --------------------------------------------------------
int __stdcall sub_42F781(unsigned int a1, int *a2)
{
  void *v2; // edi@1
  unsigned int v3; // ST10_4@1

  v2 = (void *)sub_401A30(a2, 260);
  memset(v2, 0, 0x104u);
  ATL::Checked::tcsncpy_s((ATL::Checked *)v2, (char *)0x104, a1, (const char *)0xFFFFFFFF, v3);
  PathStripToRootA((LPSTR)v2);
  return ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
}
// 41E7BE: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (0042F8DC) --------------------------------------------------------
void *__thiscall sub_42F8DC(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  unknown_libname_129();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 42F7C4: using guessed type int unknown_libname_129(void);

//----- (0042F8F8) --------------------------------------------------------
void __stdcall sub_42F8F8(int a1, void *Src)
{
  __int32 v2; // eax@2

  if ( a1 )
  {
    v2 = GetLastError();
    *(_DWORD *)(a1 + 12) = v2;
    *(_DWORD *)(a1 + 8) = CFileException::OsErrorToException(v2);
    sub_404060((int *)(a1 + 16), Src);
  }
}

//----- (0042FF3A) --------------------------------------------------------
char **sub_42FF3A()
{
  return &off_4B5B10;
}
// 4B5B10: using guessed type char *off_4B5B10;

//----- (0042FF40) --------------------------------------------------------
int __thiscall sub_42FF40(int this, ATL::Checked *a2, char *a3, int a4)
{
  int v4; // edi@1
  void *v5; // eax@5
  int v6; // esi@5
  bool v7; // zf@5
  int result; // eax@7
  unsigned int v9; // [sp-4h] [bp-20h]@0
  unsigned int v10; // [sp+Ch] [bp-10h]@5
  int v11; // [sp+18h] [bp-4h]@5

  v4 = this;
  if ( a2 && a3 )
  {
    if ( a4 )
      *(_DWORD *)a4 = *(_DWORD *)(this + 8) + 61856;
    v5 = sub_41BC2E();
    sub_401890(&v10, (int)v5);
    v11 = 0;
    sub_401A10(&a4, (_DWORD *)(v4 + 16));
    v6 = a4;
    v7 = *(_DWORD *)(a4 - 12) == 0;
    LOBYTE(v11) = 1;
    if ( v7 )
    {
      sub_407920(&a4, 0xF006u);
      v6 = a4;
    }
    sub_4301F4((int)&v10, *(_DWORD *)(v4 + 8) + 61856, v6);
    ATL::Checked::tcsncpy_s(a2, a3, v10, (const char *)0xFFFFFFFF, v9);
    sub_4010B0((_DWORD *)(v6 - 16));
    sub_4010B0((_DWORD *)(v10 - 16));
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042FFF4) --------------------------------------------------------
void __cdecl __noreturn sub_42FFF4(int a1, int a2, void *Src)
{
  void *v3; // eax@1
  void *v4; // ecx@1
  void *v5; // ST1C_4@1
  void *v6; // eax@1
  void *v7; // [sp+10h] [bp-10h]@3
  int v8; // [sp+1Ch] [bp-4h]@1

  v3 = operator new(0x14u);
  v4 = v3;
  v5 = v3;
  v6 = 0;
  v8 = 0;
  if ( v5 )
    v6 = sub_425BE9(v4, a1, a2, Src);
  v8 = -1;
  v7 = v6;
  _CxxThrowException(&v7, &unk_5243E4);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (0043003A) --------------------------------------------------------
void __stdcall sub_43003A(__int32 a1, void *Src)
{
  int v2; // eax@2

  if ( a1 )
  {
    v2 = CFileException::OsErrorToException(a1);
    sub_42FFF4(v2, a1, Src);
  }
}

//----- (0043019D) --------------------------------------------------------
int __stdcall sub_43019D(int a1, unsigned int a2, int a3, int a4)
{
  void *v4; // eax@1
  _DWORD *v5; // ecx@2
  int v6; // esi@3
  int v8; // [sp+Ch] [bp-10h]@1
  int v9; // [sp+18h] [bp-4h]@1

  v4 = sub_41BC2E();
  sub_401890(&v8, (int)v4);
  v9 = 0;
  if ( sub_407920(&v8, a2) )
  {
    v6 = v8;
    AfxFormatStrings(a1, v8, a3, a4);
    v5 = (_DWORD *)(v6 - 16);
  }
  else
  {
    v5 = (_DWORD *)(v8 - 16);
  }
  return sub_4010B0(v5);
}
// 43005B: using guessed type int __stdcall AfxFormatStrings(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004301F4) --------------------------------------------------------
int __stdcall sub_4301F4(int a1, unsigned int a2, char a3)
{
  return sub_43019D(a1, a2, (int)&a3, 1);
}

//----- (00430236) --------------------------------------------------------
int (**sub_430236())()
{
  return &off_4B5B2C;
}
// 4B5B2C: using guessed type int (*off_4B5B2C)();

//----- (004303DF) --------------------------------------------------------
char **sub_4303DF()
{
  return &off_529C34;
}
// 529C34: using guessed type char *off_529C34;

//----- (004303FD) --------------------------------------------------------
int __thiscall sub_4303FD(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_4B5C0C;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 4B5C0C: using guessed type int (*off_4B5C0C)();

//----- (00430414) --------------------------------------------------------
void __thiscall sub_430414(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4);
  *(_DWORD *)this = &off_4B5C0C;
  j__free(v1);
}
// 4B5C0C: using guessed type int (*off_4B5C0C)();

//----- (00430548) --------------------------------------------------------
int __thiscall sub_430548(int this, int a2, int a3)
{
  int v3; // edi@1
  int result; // eax@5

  v3 = this;
  if ( a2 < 0 )
    unknown_libname_36();
  if ( a2 >= *(_DWORD *)(this + 8) )
    unknown_libname_131(a2 + 1, -1);
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(result + 4 * a2) = a3;
  return result;
}
// 430424: using guessed type _DWORD __stdcall unknown_libname_131(_DWORD, _DWORD);

//----- (004305F5) --------------------------------------------------------
void *__thiscall sub_4305F5(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_430414((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004306AF) --------------------------------------------------------
int __thiscall sub_4306AF(CDockBar *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  CDockBar *v8; // esi@1
  int v9; // ebx@4
  struct CControlBar *v10; // edi@5
  LONG v11; // eax@8
  int v12; // eax@14
  bool v13; // zf@15
  bool v14; // sf@15
  unsigned __int8 v15; // of@15
  int v16; // eax@21
  int v17; // edi@26
  int v18; // esi@26
  int v19; // ecx@26
  struct tagRECT Rect; // [sp+Ch] [bp-20h]@7
  int v22; // [sp+1Ch] [bp-10h]@4
  int v23; // [sp+20h] [bp-Ch]@4
  LONG v24; // [sp+24h] [bp-8h]@4
  int v25; // [sp+28h] [bp-4h]@4

  v8 = this;
  if ( !this || !a2 )
    unknown_libname_36();
  v9 = *((_DWORD *)this + 32) & 0xA000;
  v13 = *((_DWORD *)this + 40) == 0;
  v14 = *((_DWORD *)this + 40) < 0;
  v23 = 0;
  v24 = 0;
  v22 = 0;
  v25 = 0;
  if ( v14 || v13 )
  {
LABEL_26:
    v17 = v23 + 1;
    v18 = (int)v8 + 152;
    sub_424AB6(v18, v23 + 1, 0, 1);
    v19 = v18;
    goto LABEL_27;
  }
  while ( 1 )
  {
    v10 = CDockBar::GetDockedControlBar(v8, v25);
    if ( v10 )
    {
      if ( !(*(int (__thiscall **)(struct CControlBar *))(*(_DWORD *)v10 + 340))(v10) )
        goto LABEL_25;
      GetWindowRect(*((HWND *)v10 + 8), &Rect);
      CWnd::ScreenToClient(v8, (LPPOINT)&Rect);
      if ( v9 )
        v11 = Rect.bottom - Rect.top;
      else
        v11 = Rect.right - Rect.left - 1;
      if ( v24 <= v11 )
      {
        if ( v9 )
          v24 = Rect.bottom - Rect.top;
        else
          v24 = Rect.right - Rect.left - 1;
      }
      v12 = 0;
      if ( v9 )
      {
        v15 = __OFSUB__(a3, Rect.left);
        v13 = a3 == Rect.left;
        v14 = a3 - Rect.left < 0;
      }
      else
      {
        v15 = __OFSUB__(a4, Rect.top);
        v13 = a4 == Rect.top;
        v14 = a4 - Rect.top < 0;
      }
      LOBYTE(v12) = !((unsigned __int8)(v14 ^ v15) | v13);
      if ( !v12 )
        goto LABEL_25;
      goto LABEL_24;
    }
    if ( v24 )
      v22 += v24 - dword_53798C;
    v16 = a8;
    v24 = 0;
    if ( !v9 )
      v16 = a7;
    if ( v16 < v22 )
      break;
LABEL_24:
    v23 = v25;
LABEL_25:
    if ( ++v25 >= *((_DWORD *)v8 + 40) )
      goto LABEL_26;
  }
  if ( !v25 )
    sub_424AB6((int)v8 + 152, v23 + 1, 0, 1);
  v17 = v23 + 1;
  v19 = (int)v8 + 152;
LABEL_27:
  sub_424AB6(v19, v17, a2, 1);
  return v17;
}
// 53798C: using guessed type int dword_53798C;

//----- (00430F4C) --------------------------------------------------------
int __thiscall sub_430F4C(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_4B5C90;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 4B5C90: using guessed type int (*off_4B5C90)();

//----- (0043114F) --------------------------------------------------------
void *__thiscall sub_43114F(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  type_info::~type_info((type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004315DC) --------------------------------------------------------
int __thiscall sub_4315DC(int this, CArchive *a2)
{
  int v2; // esi@1
  unsigned __int32 v3; // eax@3

  v2 = this;
  if ( ~*((_BYTE *)a2 + 24) & 1 )
  {
    CArchive::WriteCount(a2, *(_DWORD *)(this + 8));
  }
  else
  {
    v3 = CArchive::ReadCount(a2);
    CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(v3, -1);
  }
  return SerializeElements<enum  CArchive::LoadArrayObjType>(a2, *(_DWORD *)(v2 + 4), *(void **)(v2 + 8));
}
// 430F63: using guessed type _DWORD __stdcall CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(_DWORD, _DWORD);

//----- (00431BC4) --------------------------------------------------------
__int32 __thiscall sub_431BC4(CWnd *this, int a2, int a3)
{
  return CWnd::Default(this);
}

//----- (0043294A) --------------------------------------------------------
int (**sub_43294A())()
{
  return &off_4B5C9C;
}
// 4B5C9C: using guessed type int (*off_4B5C9C)();

//----- (00432C15) --------------------------------------------------------
char **sub_432C15()
{
  return &off_529C94;
}
// 529C94: using guessed type char *off_529C94;

//----- (00432C32) --------------------------------------------------------
void __thiscall sub_432C32(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4);
  *(_DWORD *)this = &off_4B5E84;
  j__free(v1);
}
// 4B5E84: using guessed type int (*off_4B5E84)();

//----- (00432DE5) --------------------------------------------------------
void *__thiscall sub_432DE5(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_432C32((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00433D32) --------------------------------------------------------
char **sub_433D32()
{
  return &off_4B5EE8;
}
// 4B5EE8: using guessed type char *off_4B5EE8;

//----- (00433D38) --------------------------------------------------------
_DWORD *__thiscall sub_433D38(_DWORD *this, signed int a2)
{
  _DWORD *result; // eax@1
  signed int v3; // ecx@1

  result = this;
  v3 = a2;
  *result = &off_4B5F08;
  if ( a2 <= 0 )
    v3 = 10;
  result[1] = 0;
  result[2] = 17;
  result[3] = 0;
  result[4] = 0;
  result[5] = 0;
  result[6] = v3;
  return result;
}
// 4B5F08: using guessed type int (*off_4B5F08)();

//----- (00433DC0) --------------------------------------------------------
int __thiscall sub_433DC0(_DWORD *this, unsigned __int8 *a2, int a3, int a4)
{
  _DWORD *v4; // esi@1
  unsigned int v5; // eax@1
  int v6; // edx@1
  int v7; // esi@1
  int i; // esi@2

  v4 = this;
  v5 = unknown_libname_135(a2);
  *(_DWORD *)a4 = v5;
  v6 = v5 % v4[2];
  *(_DWORD *)a3 = v6;
  v7 = v4[1];
  if ( v7 )
  {
    for ( i = *(_DWORD *)(v7 + 4 * v6); i; i = *(_DWORD *)i )
    {
      if ( *(_DWORD *)(i + 4) == *(_DWORD *)a4 && !sub_40D6F0((const unsigned __int8 **)(i + 8), a2) )
        return i;
    }
  }
  return 0;
}
// 433D11: using guessed type _DWORD __stdcall unknown_libname_135(_DWORD);

//----- (00433E12) --------------------------------------------------------
int __thiscall sub_433E12(_DWORD *this, unsigned __int8 *a2, int a3)
{
  int result; // eax@1
  int v4; // [sp+0h] [bp-4h]@1

  v4 = (int)this;
  result = sub_433DC0(this, a2, (int)&v4, (int)&a2);
  if ( result )
  {
    *(_DWORD *)a3 = *(_DWORD *)(result + 12);
    result = 1;
  }
  return result;
}

//----- (00433E39) --------------------------------------------------------
int __thiscall sub_433E39(_DWORD *this, unsigned __int8 *a2, int a3)
{
  int result; // eax@1
  int v4; // [sp+0h] [bp-4h]@1

  v4 = (int)this;
  result = sub_433DC0(this, a2, (int)&v4, (int)&a2);
  if ( result )
  {
    *(_DWORD *)a3 = *(_DWORD *)(result + 8);
    result = 1;
  }
  return result;
}

//----- (00433EBC) --------------------------------------------------------
int __thiscall sub_433EBC(void *this)
{
  *(_DWORD *)this = &off_4B5F08;
  return unknown_libname_137();
}
// 433E60: using guessed type int unknown_libname_137(void);
// 4B5F08: using guessed type int (*off_4B5F08)();

//----- (00433EC7) --------------------------------------------------------
void *__thiscall sub_433EC7(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4B5F08;
  unknown_libname_137();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 433E60: using guessed type int unknown_libname_137(void);
// 4B5F08: using guessed type int (*off_4B5F08)();

//----- (00433EE9) --------------------------------------------------------
int __thiscall sub_433EE9(_DWORD *this, void *Src)
{
  _DWORD *v2; // edi@1
  int v3; // esi@1
  int v4; // eax@4
  int v6; // [sp+8h] [bp-8h]@1
  int v7; // [sp+Ch] [bp-4h]@1

  v2 = this;
  v3 = sub_433DC0(this, (unsigned __int8 *)Src, (int)&v6, (int)&v7);
  if ( !v3 )
  {
    if ( !v2[1] )
      unknown_libname_124(v2[2], 1);
    v3 = unknown_libname_136(v2);
    *(_DWORD *)(v3 + 4) = v7;
    sub_404060((int *)(v3 + 8), Src);
    v4 = 4 * v6;
    *(_DWORD *)v3 = *(_DWORD *)(4 * v6 + v2[1]);
    *(_DWORD *)(v4 + v2[1]) = v3;
  }
  return v3 + 12;
}
// 42E3EA: using guessed type _DWORD __stdcall unknown_libname_124(_DWORD, _DWORD);
// 433D66: using guessed type int __thiscall unknown_libname_136(_DWORD);

//----- (0043400D) --------------------------------------------------------
char **sub_43400D()
{
  return &off_4B5F24;
}
// 4B5F24: using guessed type char *off_4B5F24;

//----- (00434013) --------------------------------------------------------
void *__thiscall sub_434013(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  Concurrency::call<unsigned int,std::tr1::function<void __cdecl (unsigned int const &)>>::~call<unsigned int,std::tr1::function<void __cdecl (unsigned int const &)>>();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 433FB7: using guessed type int Concurrency::call<unsigned int,std::tr1::function<void __cdecl (unsigned int const &)>>::~call<unsigned int,std::tr1::function<void __cdecl (unsigned int const &)>>(void);

//----- (00434637) --------------------------------------------------------
int (**sub_434637())()
{
  return &off_4B6098;
}
// 4B6098: using guessed type int (*off_4B6098)();

//----- (00434A26) --------------------------------------------------------
_DWORD *__stdcall sub_434A26(int a1)
{
  _DWORD *result; // eax@1

  result = &unk_4B6160;
  if ( off_529D24 <= &unk_4B6160 )
  {
LABEL_4:
    result = &unk_4B6138;
  }
  else
  {
    while ( a1 != *result )
    {
      result += 9;
      if ( result >= off_529D24 )
        goto LABEL_4;
    }
  }
  return result;
}
// 529D24: using guessed type void *off_529D24;

//----- (00434A4C) --------------------------------------------------------
unsigned int __fastcall sub_434A4C(int a1, int a2)
{
  unsigned int result; // eax@1
  char *v3; // esi@2
  int v4; // edi@2
  signed int v5; // ebx@2
  unsigned int v6; // ecx@3
  unsigned int v7; // edx@5
  int v8; // [sp+4h] [bp-4h]@2

  result = 0;
  if ( !dword_4B6968[*(_DWORD *)(a2 + 4) + 5 * *(_DWORD *)(a1 + 4)] )
    goto LABEL_18;
  v8 = 0;
  v3 = (char *)(a1 + 12);
  v4 = a2 - a1;
  v5 = 5;
  do
  {
    v6 = *(_DWORD *)v3;
    if ( *(_DWORD *)v3 )
      ++v8;
    v7 = *(_DWORD *)&v3[v4];
    if ( v6 >= v7 )
    {
      if ( v6 > v7 )
      {
        if ( v7 )
          result += (v6 - v7) << 16;
        else
          result += 0x1000000;
      }
    }
    else if ( v6 )
    {
      result += v7 - v6;
    }
    else
    {
      result += 256;
    }
    v3 += 4;
    --v5;
  }
  while ( v5 );
  if ( v8 == result >> 24 )
LABEL_18:
    result = -1;
  return result;
}
// 4B6968: using guessed type int dword_4B6968[];

//----- (00434AC1) --------------------------------------------------------
int __stdcall sub_434AC1(int *a1, int a2, int a3)
{
  int *v3; // eax@1
  unsigned int v4; // ebx@1
  _DWORD *v5; // edi@1
  int *v6; // eax@2
  int v7; // esi@2
  int v8; // eax@2
  unsigned int v9; // eax@6
  int v10; // eax@12

  v3 = a1;
  v4 = -1;
  v5 = &unk_4B6138;
  while ( 1 )
  {
    v10 = *v3;
    if ( !v10 )
      return *v5;
    v6 = sub_434A26(v10);
    v7 = (int)v6;
    v8 = *v6;
    if ( v8 )
    {
      if ( *(_DWORD *)(v7 + 4) != 1 || a2 )
        break;
    }
LABEL_11:
    ++a1;
    v3 = a1;
  }
  if ( *(_DWORD *)a3 != v8 )
  {
    v9 = sub_434A4C(a3, v7);
    if ( v9 != -1 && v9 <= v4 && (v9 != v4 || *(_DWORD *)(v7 + 8) < v5[2]) )
    {
      v4 = v9;
      v5 = (_DWORD *)v7;
    }
    goto LABEL_11;
  }
  return *(_DWORD *)a3;
}

//----- (00434B30) --------------------------------------------------------
int __stdcall sub_434B30(int a1, int a2, int a3, _DWORD *a4)
{
  unsigned int v4; // ebx@5
  _DWORD *v5; // edi@5
  _DWORD *v6; // esi@5
  unsigned int v7; // eax@11
  int v9; // [sp+Ch] [bp-154h]@2
  int v10; // [sp+10h] [bp-150h]@8
  char v11; // [sp+13Ch] [bp-24h]@2
  int v12; // [sp+148h] [bp-18h]@8
  char v13; // [sp+14Ch] [bp-14h]@3
  char v14; // [sp+158h] [bp-8h]@3
  int v15; // [sp+15Ch] [bp-4h]@1

  v15 = 0;
  sub_43609C(1);
  if ( a1 )
  {
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)a1 + 24))(a1, &v15);
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)a1 + 28))(a1, &v9);
    (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)a1 + 32))(a1, 0, &v11);
    if ( BYTE2(a2) & 0x10 )
    {
      (*(void (__stdcall **)(int, char *))(*(_DWORD *)a1 + 36))(a1, &v13);
      if ( v14 & 0x20 )
        a2 |= 0x10u;
    }
  }
  v4 = -1;
  v5 = &unk_4B6138;
  v6 = &unk_4B6160;
  if ( off_529D24 > &unk_4B6160 )
  {
    do
    {
      if ( *v6
        && (!v15
         || (*(int (__stdcall **)(int, int, int, int, int, int, _DWORD))(*(_DWORD *)v15 + 40))(
              v15,
              v10,
              v9,
              v12,
              a2,
              a3,
              *v6) >= 0) )
      {
        if ( *a4 == *v6 )
        {
          v5 = v6;
          break;
        }
        if ( v6[8] )
        {
          v7 = sub_434A4C((int)a4, (int)v6);
          if ( v7 != -1 && v7 <= v4 && (v7 != v4 || v6[2] < v5[2]) )
          {
            v4 = v7;
            v5 = v6;
          }
        }
      }
      v6 += 9;
    }
    while ( v6 < off_529D24 );
  }
  if ( v15 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v15 + 8))(v15);
    v15 = 0;
  }
  sub_43609C(0);
  return *v5;
}
// 529D24: using guessed type void *off_529D24;

//----- (00434C2C) --------------------------------------------------------
signed int __stdcall sub_434C2C(signed int a1)
{
  signed int result; // eax@1
  signed int v2; // [sp-4h] [bp-4h]@3

  result = a1;
  if ( a1 == 909200449 )
  {
    v2 = 51;
  }
  else
  {
    if ( a1 != 909201952 )
      return result;
    v2 = 20;
  }
  return v2;
}

//----- (00434C48) --------------------------------------------------------
signed int __stdcall sub_434C48(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  signed int v10; // ebx@1
  int v11; // eax@8
  char v13; // [sp+4h] [bp-70h]@8
  int v14; // [sp+48h] [bp-2Ch]@9
  char v15; // [sp+54h] [bp-20h]@1
  int v16; // [sp+68h] [bp-Ch]@9
  int v17; // [sp+6Ch] [bp-8h]@9
  int v18; // [sp+70h] [bp-4h]@9
  int v19; // [sp+74h] [bp+0h]@9
  int v20; // [sp+78h] [bp+4h]@9
  int v21; // [sp+7Ch] [bp+8h]@9
  int v22; // [sp+80h] [bp+Ch]@9
  int v23; // [sp+84h] [bp+10h]@9
  int v24; // [sp+88h] [bp+14h]@9
  int v25; // [sp+8Ch] [bp+18h]@9
  char v26; // [sp+90h] [bp+1Ch]@9
  int v27; // [sp+ACh] [bp+38h]@9
  int v28; // [sp+B0h] [bp+3Ch]@9
  int v29; // [sp+B4h] [bp+40h]@9
  char v30; // [sp+B8h] [bp+44h]@1

  sub_439116((int)&v30);
  sub_43CCF3((int)&v15);
  v10 = 0;
  if ( a1 )
  {
    if ( a4 && a8 )
    {
      if ( a9 == -1 )
        a9 = 524292;
      v11 = sub_43CEC1(&v15, (int)&v13, a1, a2, a3, 0, 0);
      if ( v11 < 0
        || (v17 = a5,
            v18 = a6,
            v16 = a4,
            v19 = 0,
            v20 = *(_DWORD *)a8,
            v21 = *(_DWORD *)(a8 + 4),
            v22 = *(_DWORD *)(a8 + 8),
            v23 = *(_DWORD *)(a8 + 12),
            v24 = 0,
            v25 = 1,
            qmemcpy(&v26, &v20, 0x18u),
            v27 = v14,
            v28 = a10,
            v29 = a7,
            v11 = sub_43CBC4((int)&v30, (int)&v13, (int)&v16, a9),
            v11 < 0) )
      {
        v10 = v11;
      }
    }
    else
    {
      v10 = -2005530516;
    }
  }
  else
  {
    v10 = -2005530516;
  }
  sub_43CEBC(&v15);
  sub_439120((int)&v30);
  return v10;
}
// 43CEBC: using guessed type int __thiscall sub_43CEBC(_DWORD);

//----- (00434D2D) --------------------------------------------------------
void *__thiscall sub_434D2D(void *this)
{
  return this;
}

//----- (00434D30) --------------------------------------------------------
int __userpurge sub_434D30@<eax>(int a1@<eax>, LPCWSTR lpWideCharStr, int a3, int a4, int a5, LPSTR lpMultiByteStr)
{
  int v6; // esi@1
  signed int v7; // esi@2
  int v8; // eax@4
  int v9; // esi@9
  char v11; // [sp+4h] [bp-74h]@4
  char v12; // [sp+54h] [bp-24h]@1
  char v13; // [sp+A8h] [bp+30h]@8
  int v14; // [sp+B4h] [bp+3Ch]@8
  char v15; // [sp+C8h] [bp+50h]@1

  v6 = a1;
  sub_43616C((int)&v12);
  sub_43CCF3((int)&v15);
  if ( lpWideCharStr && v6 )
  {
    v8 = sub_43CEC1(&v15, (int)&v11, v6, a4, a5, 0, 1);
    if ( v8 < 0
      || (v8 = sub_4361FA((int)&v12, (int)&v11), v8 < 0)
      || (v8 = sub_438C67(&v12, lpWideCharStr, a3, lpMultiByteStr), v8 < 0) )
    {
      v7 = v8;
    }
    else
    {
      (*(void (__stdcall **)(int, char *))(*(_DWORD *)v6 + 48))(v6, &v13);
      if ( v14
        || ((*(void (__stdcall **)(int, LPCWSTR *))(*(_DWORD *)v6 + 12))(v6, &lpWideCharStr),
            v9 = (*(int (__stdcall **)(LPCWSTR))(*(_DWORD *)lpWideCharStr + 12))(lpWideCharStr),
            (*(void (__stdcall **)(LPCWSTR))(*(_DWORD *)lpWideCharStr + 8))(lpWideCharStr),
            !v9) )
      {
        v7 = 0;
      }
      else
      {
        v7 = -2005530520;
      }
    }
  }
  else
  {
    v7 = -2005530516;
  }
  sub_43CEBC(&v15);
  sub_436185((int)&v12);
  return v7;
}
// 43CEBC: using guessed type int __thiscall sub_43CEBC(_DWORD);

//----- (00434DFB) --------------------------------------------------------
int __stdcall sub_434DFB(LPCWSTR lpWideCharStr, int a2, int a3, int a4, int a5)
{
  return sub_434D30(a3, lpWideCharStr, a2, a4, a5, 0);
}

//----- (00434E18) --------------------------------------------------------
signed int __stdcall sub_434E18(int a1, int a2, const void *a3, int a4, int a5, int a6, int a7, int a8, const void *a9, int a10, int a11)
{
  signed int v11; // esi@2
  int v12; // eax@7
  char v14; // [sp+4h] [bp-64h]@7
  int v15; // [sp+48h] [bp-20h]@9
  int v16; // [sp+54h] [bp-14h]@9
  int v17; // [sp+58h] [bp-10h]@9
  int v18; // [sp+5Ch] [bp-Ch]@9
  int v19; // [sp+60h] [bp-8h]@9
  char v20; // [sp+64h] [bp-4h]@9
  char v21; // [sp+7Ch] [bp+14h]@9
  int v22; // [sp+98h] [bp+30h]@9
  int v23; // [sp+9Ch] [bp+34h]@9
  int v24; // [sp+A0h] [bp+38h]@9
  char v25; // [sp+A4h] [bp+3Ch]@1
  char v26; // [sp+B0h] [bp+48h]@1

  sub_439116((int)&v25);
  sub_43CE94(&v26);
  if ( a1 && a4 && a9 )
  {
    if ( a10 == -1 )
      a10 = 524292;
    v12 = sub_43D3B0(&v26, (int)&v14, a1, a2, a3, 0, 0);
    if ( v12 < 0
      || (v17 = a5,
          v18 = a6,
          v19 = a7,
          v16 = a4,
          qmemcpy(&v20, a9, 0x18u),
          qmemcpy(&v21, a9, 0x18u),
          v22 = v15,
          v23 = a11,
          v24 = a8,
          v12 = sub_43CBC4((int)&v25, (int)&v14, (int)&v16, a10),
          v12 < 0) )
    {
      v11 = v12;
    }
    else
    {
      v11 = 0;
    }
  }
  else
  {
    v11 = -2005530516;
  }
  sub_43D3AB(&v26);
  sub_439120((int)&v25);
  return v11;
}
// 43D3AB: using guessed type int __thiscall sub_43D3AB(_DWORD);

//----- (00434EF1) --------------------------------------------------------
signed int __fastcall sub_434EF1(int a1, int a2, unsigned int *a3, unsigned int *a4, unsigned int *a5, int *a6, int a7, int *a8, int a9, int a10)
{
  int v10; // edi@1
  _DWORD *v12; // eax@15
  unsigned int v13; // ebx@23
  int v14; // edx@49
  unsigned int v15; // eax@50
  signed int v16; // eax@60
  signed int v17; // eax@71
  unsigned int v18; // eax@79
  bool v19; // cf@79
  bool v20; // zf@79
  unsigned int v21; // eax@81
  unsigned int v22; // eax@83
  unsigned int v23; // edi@92
  signed int v24; // eax@97
  signed int v25; // ecx@107
  unsigned int v26; // esi@108
  unsigned int i; // eax@108
  unsigned int v28; // ecx@110
  unsigned int j; // eax@110
  unsigned int v30; // eax@112
  unsigned int k; // edx@112
  unsigned int v32; // eax@114
  char v33; // [sp+8h] [bp-140h]@49
  int v34; // [sp+44h] [bp-104h]@49
  unsigned int v35; // [sp+60h] [bp-E8h]@54
  unsigned int v36; // [sp+64h] [bp-E4h]@56
  unsigned int v37; // [sp+68h] [bp-E0h]@50
  int v38; // [sp+70h] [bp-D8h]@61
  unsigned int v39; // [sp+138h] [bp-10h]@29
  int v40; // [sp+13Ch] [bp-Ch]@12
  unsigned int v41; // [sp+140h] [bp-8h]@26
  unsigned int v42; // [sp+144h] [bp-4h]@20

  v10 = a2;
  if ( !a2 )
    return -2005530516;
  if ( a7 == -1 )
    a7 = 0;
  if ( a7 & 0xFFE039EC || a9 && a9 != 1 && a9 != 2 && a9 != 3 )
    return -2005530516;
  if ( a8 )
    v40 = *a8;
  else
    v40 = 0;
  if ( a9 == 3 )
  {
    if ( !v40 )
      v40 = 21;
  }
  else
  {
    v12 = sub_434A26(v40);
    v40 = sub_434B30(v10, a7, a10, v12);
    if ( !v40 )
      return -2005530518;
  }
  if ( a3 )
    v42 = *a3;
  else
    v42 = -1;
  if ( a4 )
    v13 = *a4;
  else
    v13 = -1;
  if ( a5 )
    v41 = *a5;
  else
    v41 = -1;
  if ( a6 )
    v39 = *a6;
  else
    v39 = -1;
  if ( v42 == -1 )
  {
    if ( v13 == -1 )
    {
      v13 = 256;
      v42 = 256;
      goto LABEL_41;
    }
    v42 = v13;
  }
  else if ( v13 == -1 )
  {
    v13 = v42;
  }
  if ( !v42 )
    v42 = 1;
  if ( !v13 )
    v13 = 1;
LABEL_41:
  if ( a10 == 5 )
  {
    if ( v42 > v13 )
      v13 = v42;
    v42 = v13;
  }
  if ( v41 == -1 || !v41 )
    v41 = 1;
  if ( a9 != 3 )
  {
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)v10 + 28))(v10, &v33);
    v14 = v34;
    if ( a10 == 4 )
    {
      v15 = v37;
      if ( v41 > v37 )
        v41 = v37;
      if ( v42 > v37 )
        v42 = v37;
    }
    else
    {
      if ( v42 > v35 )
        v42 = v35;
      if ( v13 > v36 )
        v13 = v36;
      if ( a10 != 3 )
        goto LABEL_68;
      v16 = v34 & 0x20 ? 1 : v38;
      if ( !v16 )
        goto LABEL_68;
      if ( v42 > v13 * v16 )
        v42 = v13 * v16;
      v15 = v42 * v16;
    }
    if ( v13 > v15 )
      v13 = v15;
LABEL_68:
    switch ( a10 )
    {
      case 3:
        v17 = 2;
        break;
      case 4:
        v17 = 0x40000;
        break;
      case 5:
        v17 = 0x20000;
        break;
      default:
        v17 = a10;
        break;
    }
    if ( v39 == 1 && BYTE1(v14) & 1 )
      v17 = 0;
    if ( v17 & v34 )
    {
      v18 = v42;
      v19 = v42 < 1;
      v20 = v42 == 1;
      v42 = 1;
      if ( !v19 && !v20 )
      {
        do
          v42 *= 2;
        while ( v42 < v18 );
      }
      v21 = v13;
      v19 = v13 < 1;
      v20 = v13 == 1;
      v13 = 1;
      if ( !v19 && !v20 )
      {
        do
          v13 *= 2;
        while ( v13 < v21 );
      }
      v22 = v41;
      v19 = v41 < 1;
      v20 = v41 == 1;
      v41 = 1;
      if ( !v19 && !v20 )
      {
        do
          v41 *= 2;
        while ( v41 < v22 );
      }
    }
    goto LABEL_87;
  }
  v14 = v34;
LABEL_87:
  if ( v40 != 827611204 && v40 != 844388420 && v40 != 861165636 && v40 != 877942852 && v40 != 894720068 )
  {
    v23 = v42;
  }
  else
  {
    v23 = (v42 + 3) & 0xFFFFFFFC;
    v42 = (v42 + 3) & 0xFFFFFFFC;
    v13 = (v13 + 3) & 0xFFFFFFFC;
  }
  switch ( a10 )
  {
    case 3:
      v24 = 0x4000;
      break;
    case 4:
      v24 = 0x8000;
      break;
    case 5:
      v24 = 0x10000;
      break;
    default:
      v24 = a10;
      break;
  }
  if ( a9 != 3 && (!(v24 & v14) || BYTE1(v14) & 1 && ((v23 - 1) & v23 || (v13 - 1) & v13 || (v41 - 1) & v41)) )
  {
    v39 = 1;
    v25 = 1;
  }
  else
  {
    v26 = 0;
    for ( i = v23; i; ++v26 )
      i >>= 1;
    v28 = 0;
    for ( j = v13; j; ++v28 )
      j >>= 1;
    v30 = v41;
    for ( k = 0; v30; ++k )
      v30 >>= 1;
    v32 = v26;
    if ( v26 <= v28 )
      v32 = v28;
    if ( a10 == 4 && k > v32 )
      v32 = k;
    v25 = v39;
    if ( v39 > v32 || !v39 )
      v25 = v32;
    if ( v25 != 1 && BYTE1(a7) & 4 )
      v25 = 0;
  }
  if ( a3 )
    *a3 = v42;
  if ( a4 )
    *a4 = v13;
  if ( a5 )
    *a5 = v41;
  if ( a6 )
    *a6 = v25;
  if ( a8 )
    *a8 = v40;
  return 0;
}

//----- (0043524F) --------------------------------------------------------
int __stdcall sub_43524F(int a1, int a2, int a3, int (__thiscall *a4)(int))
{
  int v4; // edi@1
  int result; // eax@1
  int v6; // esi@2

  v4 = a3 * a2 + a1;
  result = a3 - 1;
  if ( a3 - 1 >= 0 )
  {
    v6 = a3;
    do
    {
      v4 -= a2;
      result = a4(v4);
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (00435279) --------------------------------------------------------
signed int __userpurge sub_435279@<eax>(int a1@<edi>, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8, int a9)
{
  signed int v9; // esi@2
  int v10; // ebx@3
  int v11; // edx@12
  int v12; // esi@12
  int v13; // ecx@15
  int v14; // eax@15
  signed int v15; // esi@19
  int v16; // eax@21
  int v17; // eax@26
  int v18; // eax@28
  int v19; // esi@33
  int v21; // [sp-8h] [bp-78h]@3
  int v22; // [sp+4h] [bp-6Ch]@28
  int v23; // [sp+8h] [bp-68h]@30
  int v24; // [sp+Ch] [bp-64h]@30
  char v25; // [sp+2Ch] [bp-44h]@30
  char v26; // [sp+54h] [bp-1Ch]@1
  char v27; // [sp+68h] [bp-8h]@5
  int v28; // [sp+74h] [bp+4h]@19
  int v29; // [sp+80h] [bp+10h]@13
  int v30; // [sp+84h] [bp+14h]@13
  char v31; // [sp+88h] [bp+18h]@5
  int v32; // [sp+94h] [bp+24h]@20
  int v33; // [sp+A0h] [bp+30h]@16
  int v34; // [sp+A4h] [bp+34h]@16
  int v35; // [sp+A8h] [bp+38h]@15
  int v36; // [sp+ACh] [bp+3Ch]@15
  int v37; // [sp+B0h] [bp+40h]@15
  int v38; // [sp+B4h] [bp+44h]@15
  int v39; // [sp+B8h] [bp+48h]@12
  int v40; // [sp+BCh] [bp+4Ch]@12
  int v41; // [sp+C0h] [bp+50h]@12
  int v42; // [sp+C4h] [bp+54h]@12

  sub_43CCF3((int)&v26);
  if ( a2 )
  {
    v10 = a5;
    v21 = a1;
    if ( !a5 )
    {
      v9 = -2005530516;
      goto LABEL_36;
    }
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)a2 + 48))(a2, &v27);
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)v10 + 48))(v10, &v31);
    if ( (unsigned __int16)a8 == 5
      || a9
      || a3 != a6 && (!a3 || !a6 || memcmp(a3, a6, 0x400u))
      || (!a4 ? (v11 = v29, v12 = v30, v39 = 0, v40 = 0, v41 = v29, v42 = v30) : (v39 = *(_DWORD *)a4,
                                                                                  v40 = *(_DWORD *)(a4 + 4),
                                                                                  v41 = *(_DWORD *)(a4 + 8),
                                                                                  v42 = *(_DWORD *)(a4 + 12),
                                                                                  v11 = v41,
                                                                                  v12 = v42),
          !a7 ? (v13 = v34, v35 = 0, v36 = 0, v14 = v33, v37 = v33, v38 = v34) : (v35 = *(_DWORD *)a7,
                                                                                  v36 = *(_DWORD *)(a7 + 4),
                                                                                  v37 = *(_DWORD *)(a7 + 8),
                                                                                  v38 = *(_DWORD *)(a7 + 12),
                                                                                  v13 = v38,
                                                                                  v14 = v37,
                                                                                  v12 = v42),
          v11 - v39 != v14 - v35 || v12 - v40 != v13 - v36) )
    {
LABEL_26:
      v17 = 1;
      if ( a2 == v10 )
        v17 = 65537;
      v18 = sub_43CEC1(&v26, (int)&v22, v10, (int)a6, a7, 0, v17);
      if ( v18 < 0 || (v18 = sub_434C48(a2, (int)a3, a4, v22, v23, v24, (int)a6, (int)&v25, a8, a9), v18 < 0) )
      {
        v9 = v18;
        goto LABEL_36;
      }
      if ( !v32 )
      {
        if ( v28 )
        {
          (*(void (__stdcall **)(int, int *))(*(_DWORD *)v10 + 12))(v10, &a2);
          v19 = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 12))(a2);
          (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
          if ( v19 )
          {
            v9 = -2005530520;
            goto LABEL_36;
          }
        }
      }
LABEL_35:
      v9 = 0;
      goto LABEL_36;
    }
    (*(void (__stdcall **)(int, int *, int))(*(_DWORD *)v10 + 12))(v10, &a5, v21);
    sub_43609C(1);
    v15 = -2147467259;
    if ( !v28 )
    {
      if ( v32 )
      {
        if ( v32 != 2 )
          goto LABEL_25;
        v16 = (*(int (__stdcall **)(int, int, int *, int, int *))(*(_DWORD *)a5 + 120))(a5, v10, &v35, a2, &v39);
      }
      else
      {
        v16 = (*(int (__stdcall **)(int, int, int *, int, int *, _DWORD))(*(_DWORD *)a5 + 136))(
                a5,
                v10,
                &v35,
                a2,
                &v39,
                0);
      }
      v15 = v16;
    }
LABEL_25:
    sub_43609C(0);
    (*(void (__cdecl **)(int))(*(_DWORD *)a5 + 8))(a5);
    if ( v15 >= 0 )
      goto LABEL_35;
    goto LABEL_26;
  }
  v9 = -2005530516;
LABEL_36:
  sub_43CEBC(&v26);
  return v9;
}
// 435279: could not find valid save-restore pair for edi
// 43CEBC: using guessed type int __thiscall sub_43CEBC(_DWORD);

//----- (00435481) --------------------------------------------------------
signed int __stdcall sub_435481(int a1, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8)
{
  signed int v8; // esi@1
  int v9; // eax@4
  int v10; // eax@6
  int v12; // [sp+4h] [bp-54h]@6
  int v13; // [sp+8h] [bp-50h]@7
  int v14; // [sp+Ch] [bp-4Ch]@7
  int v15; // [sp+10h] [bp-48h]@7
  char v16; // [sp+2Ch] [bp-2Ch]@7
  char v17; // [sp+54h] [bp-4h]@1

  sub_43CE94(&v17);
  v8 = 0;
  if ( a1 && a4 )
  {
    v9 = 1;
    if ( a1 == a4 )
      v9 = 65537;
    v10 = sub_43D3B0(&v17, (int)&v12, a4, a5, a6, 0, v9);
    if ( v10 < 0 || (v10 = sub_434E18(a1, a2, a3, v12, v13, v14, v15, a5, &v16, a7, a8), v10 < 0) )
      v8 = v10;
  }
  else
  {
    v8 = -2005530516;
  }
  sub_43D3AB(&v17);
  return v8;
}
// 43D3AB: using guessed type int __thiscall sub_43D3AB(_DWORD);

//----- (00435507) --------------------------------------------------------
signed int __stdcall sub_435507(int a1, const void *a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  int v5; // eax@2
  int v6; // eax@2
  int v7; // eax@3
  int v9; // eax@11
  unsigned int v10; // eax@27
  int v11; // esi@35
  int v12; // eax@39
  int *v13; // edx@40
  int v14; // edi@45
  int v15; // eax@49
  int *v16; // edx@50
  signed int v17; // eax@58
  char v18; // [sp+8h] [bp-60h]@10
  int v19; // [sp+20h] [bp-48h]@10
  int v20; // [sp+24h] [bp-44h]@11
  char v21; // [sp+28h] [bp-40h]@12
  int v22; // [sp+38h] [bp-30h]@12
  int v23; // [sp+3Ch] [bp-2Ch]@13
  int v24; // [sp+40h] [bp-28h]@14
  int v25; // [sp+44h] [bp-24h]@31
  unsigned int v26; // [sp+48h] [bp-20h]@27
  int v27; // [sp+4Ch] [bp-1Ch]@32
  int v28; // [sp+50h] [bp-18h]@6
  int v29; // [sp+54h] [bp-14h]@34
  int v30; // [sp+58h] [bp-10h]@2
  int v31; // [sp+5Ch] [bp-Ch]@31
  int v32; // [sp+60h] [bp-8h]@31
  int v33; // [sp+64h] [bp-4h]@31

  v4 = a1;
  if ( !a1 )
    return -2005530516;
  v5 = (*(int (__stdcall **)(int))(*(_DWORD *)a1 + 40))(a1);
  v30 = v5;
  v6 = v5 - 3;
  if ( v6 )
  {
    v7 = v6 - 1;
    if ( v7 )
    {
      if ( v7 != 1 )
        return -2005530516;
    }
  }
  v28 = v4;
  if ( a4 == -1 )
  {
    if ( v30 == 3 )
    {
      (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 68))(v28, 0, &v18);
      if ( !((v19 - 1) & v19) && !((v20 - 1) & v20) )
      {
LABEL_25:
        a4 = 5;
        goto LABEL_17;
      }
      a4 = 0;
    }
    else
    {
      if ( v30 == 4 )
      {
        (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 68))(v28, 0, &v21);
        if ( (v22 - 1) & v22 || (v23 - 1) & v23 )
          goto LABEL_16;
        v9 = v24;
LABEL_15:
        if ( (v9 - 1) & v9 )
          goto LABEL_16;
        goto LABEL_25;
      }
      if ( v30 == 5 )
      {
        (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 68))(v28, 0, &v18);
        if ( (v19 - 1) & v19 )
        {
LABEL_16:
          a4 = 524292;
          goto LABEL_17;
        }
        v9 = v20;
        goto LABEL_15;
      }
    }
    if ( !a4 )
      goto LABEL_16;
    goto LABEL_25;
  }
LABEL_17:
  if ( v30 == 5 )
    BYTE2(a4) |= 7u;
  if ( BYTE2(a4) & 0x20 )
    BYTE2(a4) |= 0x30u;
  else
    BYTE2(a4) &= 0xCFu;
  v10 = (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 52))(v4);
  v26 = v10;
  if ( a3 == -1 )
    a3 = 0;
  if ( a3 >= v10 )
    return -2005530516;
  a1 = 0;
  v32 = 0;
  v33 = 0;
  v31 = 0;
  v25 = v30 != 5 ? 1 : 6;
  if ( (unsigned __int8)a4 == 2 || (v27 = 0, (unsigned __int8)a4 == 5) )
    v27 = 1;
  v29 = 0;
  if ( (unsigned int)v25 > 0 )
  {
    v11 = a4;
    while ( v30 != 3 )
    {
      if ( v30 == 4 )
      {
        v13 = &v32;
LABEL_42:
        v12 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v28 + 72))(v28, a3, v13);
        goto LABEL_43;
      }
      if ( v30 == 5 )
      {
        v12 = (*(int (__stdcall **)(int, int, unsigned int, int *))(*(_DWORD *)v28 + 72))(v28, v29, a3, &a1);
LABEL_43:
        v11 = v12;
      }
      if ( v11 < 0 )
        goto LABEL_80;
      v14 = a3;
      while ( ++v14 < v26 )
      {
        if ( v30 == 3 )
        {
          v16 = &v33;
          goto LABEL_52;
        }
        if ( v30 == 4 )
        {
          v16 = &v31;
LABEL_52:
          v15 = (*(int (__stdcall **)(int, int, int *))(*(_DWORD *)v28 + 72))(v28, v14, v16);
          goto LABEL_53;
        }
        if ( v30 != 5 )
          goto LABEL_54;
        v15 = (*(int (__stdcall **)(int, int, int, int *))(*(_DWORD *)v28 + 72))(v28, v29, v14, &v33);
LABEL_53:
        v11 = v15;
LABEL_54:
        if ( v11 < 0 )
          goto LABEL_80;
        if ( v30 == 3 )
        {
LABEL_58:
          v17 = sub_435279(v14, v33, a2, 0, a1, a2, 0, a4, 0);
LABEL_59:
          v11 = v17;
          goto LABEL_60;
        }
        if ( v30 == 4 )
        {
          v17 = sub_435481(v31, (int)a2, 0, v32, (int)a2, 0, a4, 0);
          goto LABEL_59;
        }
        if ( v30 == 5 )
          goto LABEL_58;
LABEL_60:
        if ( v11 < 0 )
          goto LABEL_80;
        if ( v27 )
        {
          if ( a1 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
            a1 = 0;
          }
          if ( v32 )
            (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
          a1 = v33;
          v33 = 0;
          v32 = v31;
LABEL_72:
          v31 = 0;
        }
        else
        {
          if ( v33 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v33 + 8))(v33);
            v33 = 0;
          }
          if ( v31 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v31 + 8))(v31);
            goto LABEL_72;
          }
        }
      }
      if ( a1 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
        a1 = 0;
      }
      if ( v32 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        v32 = 0;
      }
      if ( ++v29 >= (unsigned int)v25 )
        goto LABEL_79;
    }
    v13 = &a1;
    goto LABEL_42;
  }
LABEL_79:
  v11 = 0;
LABEL_80:
  if ( a1 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
    a1 = 0;
  }
  if ( v32 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
    v32 = 0;
  }
  if ( v33 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v33 + 8))(v33);
    v33 = 0;
  }
  if ( v31 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v31 + 8))(v31);
  return v11;
}

//----- (004357F7) --------------------------------------------------------
signed int __stdcall sub_4357F7(int a1, char *a2, unsigned int a3, unsigned int i, unsigned int j, unsigned int k, unsigned int a7, int a8, unsigned int a9, int a10, int a11, int a12, int a13, int a14, void *a15, int a16, int *a17)
{
  char *v17; // edi@1
  signed int v18; // edi@2
  signed int v19; // eax@9
  int v20; // eax@13
  int v21; // eax@17
  unsigned int v22; // eax@56
  unsigned int v23; // ecx@56
  int v24; // edx@56
  unsigned int v25; // eax@60
  unsigned int v26; // eax@65
  int v27; // edi@72
  _DWORD *v28; // eax@73
  int v29; // ecx@73
  signed int v30; // eax@79
  bool v31; // zf@83
  int v32; // eax@86
  unsigned int v33; // esi@95
  unsigned int v34; // ebx@95
  int v35; // eax@98
  int v36; // eax@107
  int v37; // ebx@112
  int *v38; // esi@114
  int v39; // eax@120
  int *v40; // ecx@121
  signed int v41; // eax@129
  int v42; // eax@144
  int *v43; // ecx@145
  signed int v44; // eax@153
  int v45; // ecx@167
  int v47[256]; // [sp+8h] [bp-484h]@56
  char v48; // [sp+408h] [bp-84h]@8
  int v49; // [sp+424h] [bp-68h]@1
  int v50; // [sp+42Ch] [bp-60h]@55
  unsigned int v51; // [sp+430h] [bp-5Ch]@22
  unsigned int v52; // [sp+434h] [bp-58h]@30
  unsigned int v53; // [sp+438h] [bp-54h]@38
  int v54; // [sp+470h] [bp-1Ch]@13
  int v55; // [sp+474h] [bp-18h]@17
  int v56; // [sp+478h] [bp-14h]@65
  int v57; // [sp+47Ch] [bp-10h]@65
  int v58; // [sp+480h] [bp-Ch]@65
  int v59; // [sp+484h] [bp-8h]@65
  int v60; // [sp+488h] [bp-4h]@77
  int v61; // [sp+48Ch] [bp+0h]@65
  int v62; // [sp+490h] [bp+4h]@65
  int v63; // [sp+494h] [bp+8h]@65
  int v64; // [sp+498h] [bp+Ch]@65
  int v65; // [sp+49Ch] [bp+10h]@65
  int v66; // [sp+4A0h] [bp+14h]@65
  int v67; // [sp+4A4h] [bp+18h]@65
  int v68; // [sp+4A8h] [bp+1Ch]@65
  int v69; // [sp+4ACh] [bp+20h]@53
  int v70; // [sp+4B0h] [bp+24h]@92
  int v71; // [sp+4B4h] [bp+28h]@1
  int v72; // [sp+4B8h] [bp+2Ch]@1
  int v73; // [sp+4BCh] [bp+30h]@1
  unsigned int v74; // [sp+4CCh] [bp+40h]@16
  unsigned int v75; // [sp+4D0h] [bp+44h]@13

  v17 = (char *)a14;
  sub_43616C((int)&v49);
  v73 = 0;
  a14 = 0;
  v72 = 0;
  v71 = 0;
  if ( !a1 || !a2 || !a3 || !a17 )
  {
    v18 = -2005530516;
    goto LABEL_176;
  }
  if ( !v17 && a16 == -1 )
    v17 = &v48;
  v19 = sub_438F2D(&v49, a2, a3, (signed int)v17, 1);
  if ( v19 < 0 )
  {
    v18 = v19;
    goto LABEL_176;
  }
  if ( a16 == -1 )
    a16 = *((_DWORD *)v17 + 5);
  v20 = v54;
  v75 = 1;
  while ( v20 )
  {
    ++v75;
    v20 = *(_DWORD *)(v20 + 76);
  }
  v74 = 1;
  if ( a16 == 5 )
  {
    v21 = v55;
    if ( !v55 )
      goto LABEL_180;
    do
    {
      v21 = *(_DWORD *)(v21 + 80);
      ++v74;
    }
    while ( v21 );
    if ( v74 != 6 )
    {
LABEL_180:
      v18 = -2147467259;
      goto LABEL_176;
    }
  }
  if ( i == -2 || (v51 & 0x80000000) != 0 )
  {
    i = v51;
  }
  else if ( !i || i == -1 )
  {
    for ( i = 1; i < v51; i *= 2 )
      ;
  }
  if ( j == -2 || (v52 & 0x80000000) != 0 )
  {
    j = v52;
  }
  else if ( !j || j == -1 )
  {
    for ( j = 1; j < v52; j *= 2 )
      ;
  }
  if ( k == -2 || (v53 & 0x80000000) != 0 )
  {
    k = v53;
  }
  else if ( !k || k == -1 )
  {
    for ( k = 1; k < v53; k *= 2 )
      ;
  }
  if ( a11 == -1 )
    a11 = 524292;
  if ( a12 == -1 )
    a12 = 5;
  if ( a16 == 5 )
  {
    a11 |= 0x70000u;
    a12 |= 0x70000u;
  }
  if ( (_BYTE)a11 == 1 || (unsigned __int8)a12 == 2 || (v69 = 0, (unsigned __int8)a12 == 5) )
    v69 = 1;
  if ( v50 )
  {
    v22 = a13 & 0xFF00FF00 | ((unsigned __int8)a13 << 16) | BYTE2(a13);
    v23 = 0;
    v24 = v50 - (_DWORD)v47;
    do
    {
      v47[v23] = *(int *)((char *)&v47[v23] + v24) != v22 ? *(int *)((char *)&v47[v23] + v24) : 0;
      ++v23;
    }
    while ( v23 < 0x100 );
    a13 = 0;
    if ( a9 != 41 && v49 == 41 )
    {
      v25 = 0;
      v23 = -256;
      do
      {
        if ( v47[v25] != (v25 | ((v25 | ((v25 | 0xFFFFFF00) << 8)) << 8)) )
          break;
        ++v25;
      }
      while ( v25 < 0x100 );
      if ( v25 == 256 )
      {
        v49 = 50;
      }
      else
      {
        v59 = 255;
        v68 = 255;
        v56 = 0;
        v57 = 85;
        v58 = 170;
        v61 = 0;
        v62 = 36;
        v63 = 73;
        v64 = 109;
        v65 = 146;
        v66 = 182;
        v67 = 219;
        v26 = 0;
        do
        {
          if ( v47[v26] != (*(&v61 + (v26 >> 5)) | ((*(&v61 + ((v26 >> 2) & 7)) | ((*(&v56 + (v26 & 3)) | 0xFFFFFF00) << 8)) << 8)) )
            break;
          ++v26;
        }
        while ( v26 < 0x100 );
        if ( v26 == 256 )
          v49 = 27;
      }
    }
  }
  else
  {
    memset(v47, 0xFFu, sizeof(v47));
    v23 = 0;
  }
  if ( !a9 )
  {
    v27 = v49;
    if ( a13 )
    {
      v28 = sub_434A26(v49);
      v29 = v28[1];
      if ( (!v29 || v29 == 1 || v29 == 2) && !v28[4] )
      {
        qmemcpy(&v60, v28, 0x24u);
        v60 = 0;
        v64 = 1;
        v27 = sub_434B30(0, a8, a16, &v60);
        if ( !v27 )
          v27 = v49;
      }
    }
    v30 = sub_434C2C(v27);
    a9 = v30;
    if ( a10 != 3 && v30 == 20 )
      a9 = 22;
  }
  if ( !a15 || (v31 = v50 == 0, qmemcpy(a15, v47, 0x400u), v23 = 0, v31) )
  {
    if ( a9 == 40 )
    {
LABEL_90:
      a9 = 21;
      goto LABEL_91;
    }
    if ( a9 == 41 )
    {
      a9 = 22;
      v32 = 0;
      while ( BYTE3(v47[v32]) == -1 )
      {
        if ( (unsigned int)++v32 >= 0x100 )
          goto LABEL_91;
      }
      goto LABEL_90;
    }
  }
LABEL_91:
  if ( a10 || (v70 = 1, BYTE1(a8) & 2) )
    v70 = 0;
  v18 = sub_434EF1(v23, a1, &i, &j, &k, (int *)&a7, a8, (int *)&a9, a10, a16);
  if ( v18 < 0 )
    goto LABEL_168;
  v33 = a9;
  v34 = i;
  if ( a16 == 3 )
  {
    v35 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, int, int *, _DWORD))(*(_DWORD *)a1 + 92))(
            a1,
            i,
            j,
            a7,
            a8 & 0xFFE07FFF,
            a9,
            a10,
            &v72,
            0);
  }
  else if ( a16 == 4 )
  {
    v35 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, int, int *, _DWORD))(*(_DWORD *)a1 + 96))(
            a1,
            i,
            j,
            k,
            a7,
            a8 & 0xFFE07FFF,
            a9,
            a10,
            &v72,
            0);
  }
  else
  {
    if ( a16 != 5 )
      goto LABEL_102;
    v35 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int *, _DWORD))(*(_DWORD *)a1 + 100))(
            a1,
            i,
            a7,
            a8 & 0xFFE07FFF,
            a9,
            a10,
            &v72,
            0);
  }
  v18 = v35;
LABEL_102:
  if ( v18 < 0 )
    goto LABEL_168;
  if ( !v70 )
  {
    v37 = v72;
    goto LABEL_114;
  }
  if ( a16 == 3 )
  {
    v36 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, _DWORD, unsigned int, signed int, int *, _DWORD))(*(_DWORD *)a1 + 92))(
            a1,
            v34,
            j,
            a7,
            0,
            v33,
            2,
            &v71,
            0);
  }
  else if ( a16 == 4 )
  {
    v36 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, _DWORD, unsigned int, signed int, int *, _DWORD))(*(_DWORD *)a1 + 96))(
            a1,
            v34,
            j,
            k,
            a7,
            0,
            v33,
            2,
            &v71,
            0);
  }
  else
  {
    if ( a16 != 5 )
      goto LABEL_111;
    v36 = (*(int (__stdcall **)(int, unsigned int, unsigned int, _DWORD, unsigned int, signed int, int *, _DWORD))(*(_DWORD *)a1 + 100))(
            a1,
            v34,
            a7,
            0,
            v33,
            2,
            &v71,
            0);
  }
  v18 = v36;
LABEL_111:
  if ( v18 >= 0 )
  {
    v37 = v71;
LABEL_114:
    a9 = 0;
    v38 = &v49;
    k = (unsigned int)&v49;
    if ( v74 )
    {
      while ( 1 )
      {
        j = 0;
        if ( v75 )
        {
          while ( 1 )
          {
            if ( j >= a7 )
              goto LABEL_139;
            if ( a16 == 3 )
              break;
            if ( a16 == 4 )
            {
              v40 = &v73;
LABEL_123:
              v39 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, j, v40);
              goto LABEL_124;
            }
            if ( a16 != 5 )
              goto LABEL_125;
            v39 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, a9, j, &a14);
LABEL_124:
            v18 = v39;
LABEL_125:
            if ( v18 < 0 )
              goto LABEL_168;
            if ( a16 != 3 )
            {
              if ( a16 == 4 )
              {
                v41 = sub_434E18(v73, (int)a15, 0, v38[1], *v38, v38[12], v38[13], (int)v47, v38 + 6, a11, a13);
                goto LABEL_130;
              }
              if ( a16 != 5 )
                goto LABEL_131;
            }
            v41 = sub_434C48(a14, (int)a15, 0, v38[1], *v38, v38[12], (int)v47, (int)(v38 + 6), a11, a13);
LABEL_130:
            v18 = v41;
LABEL_131:
            if ( v18 < 0 )
              goto LABEL_168;
            if ( v73 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)v73 + 8))(v73);
              v73 = 0;
            }
            if ( a14 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)a14 + 8))(a14);
              a14 = 0;
            }
            if ( ++j >= v75 )
              goto LABEL_139;
            v38 = (int *)v38[19];
          }
          v40 = &a14;
          goto LABEL_123;
        }
LABEL_139:
        if ( !v69 && j < a7 )
          break;
LABEL_161:
        v38 = *(int **)(k + 80);
        ++a9;
        k = (unsigned int)v38;
        if ( a9 >= v74 )
          goto LABEL_162;
      }
      while ( a16 != 3 )
      {
        if ( a16 == 4 )
        {
          v43 = &v73;
LABEL_147:
          v42 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, j, v43);
          goto LABEL_148;
        }
        if ( a16 != 5 )
          goto LABEL_149;
        v42 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, a9, j, &a14);
LABEL_148:
        v18 = v42;
LABEL_149:
        if ( v18 < 0 )
          goto LABEL_168;
        if ( a16 == 3 )
        {
LABEL_153:
          v44 = sub_434C48(a14, (int)a15, 0, v38[1], *v38, v38[12], (int)v47, (int)(v38 + 6), a11, a13);
LABEL_154:
          v18 = v44;
          goto LABEL_155;
        }
        if ( a16 == 4 )
        {
          v44 = sub_434E18(v73, (int)a15, 0, v38[1], *v38, v38[12], v38[13], (int)v47, v38 + 6, a11, a13);
          goto LABEL_154;
        }
        if ( a16 == 5 )
          goto LABEL_153;
LABEL_155:
        if ( v18 < 0 )
          goto LABEL_168;
        if ( v73 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v73 + 8))(v73);
          v73 = 0;
        }
        if ( a14 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)a14 + 8))(a14);
          a14 = 0;
        }
        if ( ++j >= a7 )
          goto LABEL_161;
      }
      v43 = &a14;
      goto LABEL_147;
    }
LABEL_162:
    if ( !v69 || v75 >= a7 || (v18 = sub_435507(v37, v47, v75 - 1, a12), v18 >= 0) )
    {
      if ( !v70 || (v18 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)a1 + 124))(a1, v71, v72), v18 >= 0) )
      {
        v45 = v72;
        v72 = 0;
        *a17 = v45;
        v18 = 0;
      }
    }
  }
LABEL_168:
  if ( v73 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v73 + 8))(v73);
    v73 = 0;
  }
  if ( a14 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)a14 + 8))(a14);
    a14 = 0;
  }
  if ( v72 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v72 + 8))(v72);
    v72 = 0;
  }
  if ( v71 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v71 + 8))(v71);
    v71 = 0;
  }
LABEL_176:
  sub_436185((int)&v49);
  return v18;
}
// 4357F7: using guessed type int var_4B8[256];

//----- (00435F71) --------------------------------------------------------
signed int __stdcall sub_435F71(int a1, char *a2, unsigned int a3, unsigned int a4, unsigned int a5, unsigned int a6, int a7, unsigned int a8, int a9, int a10, int a11, int a12, int a13, void *a14, int *a15)
{
  return sub_4357F7(a1, a2, a3, a4, a5, 1u, a6, a7, a8, a9, a10, a11, a12, a13, a14, 3, a15);
}

//----- (00435FAE) --------------------------------------------------------
int __stdcall sub_435FAE(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  int v15; // eax@1
  int v16; // esi@3
  HGDIOBJ v18; // [sp+4h] [bp-Ch]@1
  char *v19; // [sp+8h] [bp-8h]@2
  unsigned int v20; // [sp+Ch] [bp-4h]@2

  unknown_libname_138(&v18);
  v15 = sub_448AEF(&v18, hModule, lpName, 1, 0);
  if ( v15 >= 0 )
    v15 = sub_435F71(a1, v19, v20, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, (void *)a14, (int *)a15);
  v16 = v15;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::~InitialThreadParam((Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam *)&v18);
  return v16;
}
// 448AB5: using guessed type int __thiscall unknown_libname_138(_DWORD);

//----- (00436016) --------------------------------------------------------
int __stdcall sub_436016(int a1, HMODULE hModule, LPCWSTR lpName, int a4)
{
  return sub_435FAE(a1, hModule, lpName, -1, -1, -1, 0, 0, 1, -1, -1, 0, 0, 0, a4);
}

//----- (0043603F) --------------------------------------------------------
int __stdcall sub_43603F(int a1, LPCSTR lpValueName, DWORD Type, DWORD cbData)
{
  LSTATUS v4; // esi@2
  int result; // eax@4
  HKEY phkResult; // [sp+0h] [bp-4h]@1

  phkResult = 0;
  result = 0;
  if ( !RegOpenKeyA(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Direct3D", &phkResult) )
  {
    v4 = RegQueryValueExA(phkResult, lpValueName, 0, &Type, (LPBYTE)Type, &cbData);
    RegCloseKey(phkResult);
    if ( !v4 && Type == a1 )
      result = 1;
  }
  return result;
}

//----- (0043609C) --------------------------------------------------------
void __stdcall sub_43609C(int a1)
{
  HMODULE v1; // eax@4
  HMODULE v2; // eax@7

  if ( !dword_537BF8 && !dword_537BF4 )
  {
    if ( GetModuleHandleA("d3d9.dll") )
    {
      v1 = LoadLibraryA("d3d9.dll");
      if ( v1 )
        dword_537BF8 = (int (__cdecl *)(_DWORD))GetProcAddress(v1, "DebugSetMute");
    }
    if ( GetModuleHandleA("d3d9d.dll") )
    {
      v2 = LoadLibraryA("d3d9d.dll");
      if ( v2 )
        dword_537BF4 = (int (__cdecl *)(_DWORD))GetProcAddress(v2, "DebugSetMute");
    }
  }
  if ( dword_529D28 != -1 )
  {
LABEL_14:
    if ( dword_529D28 )
      return;
    goto LABEL_15;
  }
  if ( !sub_43603F(4, "D3DXDoNotMute", (DWORD)&dword_529D28, 4u) )
    dword_529D28 = 0;
  if ( dword_529D28 )
  {
    dword_529D28 = 1;
    goto LABEL_14;
  }
LABEL_15:
  if ( dword_537BF8 )
    dword_537BF8(a1);
  if ( dword_537BF4 )
    dword_537BF4(a1);
}
// 529D28: using guessed type int dword_529D28;
// 537BF4: using guessed type int (__cdecl *dword_537BF4)(_DWORD);
// 537BF8: using guessed type int (__cdecl *dword_537BF8)(_DWORD);

//----- (0043616C) --------------------------------------------------------
int __thiscall sub_43616C(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 56) = 0;
  *(_DWORD *)(this + 60) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 80) = 0;
  return result;
}

//----- (00436185) --------------------------------------------------------
void __thiscall sub_436185(int this)
{
  int v1; // esi@1
  void *v2; // edi@7
  void *v3; // esi@9

  v1 = this;
  if ( *(_DWORD *)(this + 4) && *(_DWORD *)(this + 56) )
    j__free(*(void **)(this + 4));
  if ( *(_DWORD *)(v1 + 8) && *(_DWORD *)(v1 + 60) )
    j__free(*(void **)(v1 + 8));
  v2 = *(void **)(v1 + 76);
  if ( v2 )
  {
    sub_436185(*(_DWORD *)(v1 + 76));
    j__free(v2);
  }
  v3 = *(void **)(v1 + 80);
  if ( v3 )
  {
    sub_436185(v3);
    j__free(v3);
  }
}

//----- (004361DE) --------------------------------------------------------
void *__thiscall sub_4361DE(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_436185((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004361FA) --------------------------------------------------------
int __thiscall sub_4361FA(int this, int a2)
{
  int v2; // ebx@1
  _DWORD *v3; // edx@7
  int v4; // eax@7
  int v5; // eax@14

  v2 = this;
  if ( *(_DWORD *)(this + 4) && *(_DWORD *)(this + 56) )
    j__free(*(void **)(this + 4));
  if ( *(_DWORD *)(v2 + 8) && *(_DWORD *)(v2 + 60) )
    j__free(*(void **)(v2 + 8));
  *(_DWORD *)v2 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)(v2 + 4) = *(_DWORD *)a2;
  *(_DWORD *)(v2 + 8) = *(_DWORD *)(a2 + 76);
  v3 = (_DWORD *)(v2 + 24);
  qmemcpy((void *)(v2 + 24), (const void *)(a2 + 40), 0x18u);
  *(_DWORD *)(v2 + 48) = *(_DWORD *)(a2 + 8);
  *(_DWORD *)(v2 + 52) = *(_DWORD *)(a2 + 12);
  v4 = *(_DWORD *)v2;
  if ( *(_DWORD *)v2 <= 877942852 )
  {
    if ( *(_DWORD *)v2 == 877942852 || v4 == 827611204 || v4 == 844388420 )
      goto LABEL_13;
    if ( v4 != 844715353 )
    {
      if ( v4 == 861165636 )
      {
LABEL_13:
        *v3 &= 0xFFFFFFFC;
        *(_DWORD *)(v2 + 28) &= 0xFFFFFFFC;
        goto LABEL_14;
      }
      goto LABEL_14;
    }
LABEL_19:
    *v3 &= 0xFFFFFFFE;
    goto LABEL_14;
  }
  if ( v4 == 894720068 )
    goto LABEL_13;
  if ( v4 == 1111970375 || v4 == 1195525970 || v4 == 1498831189 )
    goto LABEL_19;
LABEL_14:
  v5 = *(_DWORD *)(v2 + 32) - *v3;
  *(_DWORD *)(v2 + 56) = 0;
  *(_DWORD *)(v2 + 60) = 0;
  *(_DWORD *)(v2 + 12) = v5;
  *(_DWORD *)(v2 + 16) = *(_DWORD *)(v2 + 36) - *(_DWORD *)(v2 + 28);
  *(_DWORD *)(v2 + 20) = *(_DWORD *)(v2 + 44) - *(_DWORD *)(v2 + 40);
  return 0;
}

//----- (004362CF) --------------------------------------------------------
signed int __thiscall sub_4362CF(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int *v5; // ebx@3
  unsigned int v6; // eax@3
  bool v7; // cf@3
  __int16 v8; // ax@5
  int v9; // eax@7
  unsigned int v10; // edi@9
  bool v11; // zf@9
  unsigned __int16 v12; // dx@9
  signed int v13; // eax@9
  unsigned int v14; // ecx@12
  unsigned int v15; // eax@14
  unsigned int v16; // edx@17
  int v17; // eax@17
  int v18; // edi@18
  unsigned int v19; // eax@20
  unsigned int v20; // edi@106
  void *v21; // eax@108
  int v22; // eax@110
  int v23; // ecx@111
  char v24; // bl@111
  int v25; // eax@114
  unsigned int v26; // eax@118
  int v27; // edx@123
  unsigned int v28; // ecx@123
  unsigned int v29; // edx@125
  unsigned int v30; // eax@132
  unsigned int v31; // eax@139
  int v32; // edi@139
  unsigned int v33; // ecx@139
  unsigned int v34; // eax@139
  int v35; // ecx@140
  int v36; // ecx@145
  size_t v37; // ST00_4@147
  char *v38; // edi@147
  int v39; // esi@148
  _BYTE *v40; // eax@148
  bool v41; // sf@148
  char *v42; // edx@149
  int v43; // ecx@151
  _BYTE *v44; // edi@155
  unsigned __int8 v45; // cl@156
  int v46; // esi@157
  signed int v47; // ebx@164
  unsigned int v48; // ecx@165
  unsigned int v49; // ecx@169
  int v50; // ecx@171
  signed int v51; // ebx@176
  unsigned int v52; // ecx@178
  _BYTE *v53; // esi@188
  unsigned int v54; // ecx@189
  unsigned int v55; // ecx@190
  int v56; // esi@190
  int v57; // esi@191
  int v58; // ecx@196
  int v59; // ecx@198
  unsigned __int8 v60; // si@203
  unsigned int v61; // ecx@203
  int v62; // eax@203
  __int16 v63; // bx@207
  unsigned int v64; // ebx@217
  unsigned int v65; // ecx@218
  const void *v66; // esi@227
  char *v67; // edi@227
  unsigned int v68; // edi@229
  char *v69; // esi@230
  int v70; // ebx@230
  _BYTE *v71; // edi@242
  int v72; // ecx@244
  int v73; // ecx@247
  unsigned __int16 v74; // cx@248
  unsigned int v75; // esi@251
  double v76; // st7@253
  int v77[4]; // [sp+4h] [bp-24h]@230
  int v78; // [sp+14h] [bp-14h]@5
  int v79; // [sp+18h] [bp-10h]@5
  int v80; // [sp+1Ch] [bp-Ch]@5
  __int16 v81; // [sp+20h] [bp-8h]@5
  __int16 v82; // [sp+22h] [bp-6h]@5
  int v83; // [sp+24h] [bp-4h]@5
  int v84; // [sp+28h] [bp+0h]@5
  int v85; // [sp+2Ch] [bp+4h]@5
  int v86; // [sp+30h] [bp+8h]@5
  int v87; // [sp+34h] [bp+Ch]@5
  int v88; // [sp+38h] [bp+10h]@5
  float v89; // [sp+3Ch] [bp+14h]@235
  float v90; // [sp+40h] [bp+18h]@240
  float v91; // [sp+44h] [bp+1Ch]@240
  int v92; // [sp+4Ch] [bp+24h]@229
  int v93; // [sp+50h] [bp+28h]@229
  unsigned int v94; // [sp+54h] [bp+2Ch]@229
  int v95; // [sp+58h] [bp+30h]@229
  unsigned int v96; // [sp+5Ch] [bp+34h]@148
  _BYTE *v97; // [sp+60h] [bp+38h]@148
  int *v98; // [sp+64h] [bp+3Ch]@3
  unsigned int v99; // [sp+68h] [bp+40h]@17
  int v100; // [sp+6Ch] [bp+44h]@9
  unsigned int v101; // [sp+70h] [bp+48h]@20
  int v102; // [sp+74h] [bp+4Ch]@18
  unsigned int v103; // [sp+78h] [bp+50h]@12
  unsigned int v104; // [sp+7Ch] [bp+54h]@7
  unsigned int v105; // [sp+80h] [bp+58h]@130
  unsigned int v106; // [sp+84h] [bp+5Ch]@110
  int v107; // [sp+88h] [bp+60h]@17
  int v108; // [sp+8Ch] [bp+64h]@17
  int v109; // [sp+90h] [bp+68h]@9
  int v110; // [sp+94h] [bp+6Ch]@20
  unsigned int v111; // [sp+A0h] [bp+78h]@151
  unsigned int v112; // [sp+A4h] [bp+7Ch]@151
  unsigned int v113; // [sp+A4h] [bp+7Ch]@210

  v3 = this;
  if ( a3 < 4 )
    return -2147467259;
  v5 = (int *)a2;
  v6 = *(_DWORD *)a2;
  v7 = a3 < *(_DWORD *)a2;
  v98 = (int *)a2;
  if ( v7 )
    return -2147467259;
  if ( v6 == 12 )
  {
    v79 = *(_WORD *)(a2 + 4);
    v80 = *(_WORD *)(a2 + 6);
    v81 = *(_WORD *)(a2 + 8);
    v8 = *(_WORD *)(a2 + 10);
    v5 = &v78;
    v78 = 12;
    v82 = v8;
    v83 = 0;
    v84 = 0;
    v85 = 0;
    v86 = 0;
    v87 = 0;
    v88 = 0;
    v98 = &v78;
  }
  else if ( v6 < 0x28 )
  {
    return -2147467259;
  }
  v104 = v5[1];
  v9 = v5[2];
  if ( v9 <= 0 )
    v9 = -v9;
  v10 = *v5;
  v11 = *v5 == 12;
  v12 = *((_WORD *)v5 + 7);
  v100 = v9;
  v13 = v5[8];
  v109 = !v11 + 3;
  if ( v12 <= 8u && !v13 )
    v13 = 1 << v12;
  v14 = v10 + v13 * v109;
  v103 = v10 + v13 * v109;
  if ( v14 > a3 || *((_WORD *)v5 + 6) != 1 )
    return -2147467259;
  v15 = v5[4];
  if ( v15 <= 2 )
  {
    v101 = v12;
    if ( v12 == 1 || v12 == 4 || v12 == 8 )
    {
      v110 = 41;
      goto LABEL_104;
    }
    if ( v12 == 16 )
      goto LABEL_75;
    if ( v12 == 24 )
      goto LABEL_61;
    if ( v12 == 32 )
      goto LABEL_27;
    return -2147467259;
  }
  if ( v15 != 3 || v10 < 0x34 )
    return -2147467259;
  v16 = v5[12];
  v107 = v5[11];
  v17 = v5[10];
  v99 = v16;
  v108 = v17;
  if ( v10 < 0x38 )
  {
    v102 = 0;
    v18 = 0;
  }
  else
  {
    v18 = v5[13];
    v102 = v5[13];
  }
  v19 = *((_WORD *)v5 + 7);
  v110 = 116;
  v101 = v19;
  if ( v19 == 16 )
  {
    if ( v16 == 255 )
    {
      if ( v107 == 255 && v108 == 255 && v18 == 65280 )
        v110 = 51;
      goto LABEL_104;
    }
    if ( v16 != 31 )
    {
      if ( v16 == 15 )
      {
        if ( v107 == 240 && v108 == 3840 )
        {
          if ( v18 == 61440 )
          {
            v110 = 26;
          }
          else if ( !v18 )
          {
            v110 = 30;
          }
        }
      }
      else if ( v16 == 3 )
      {
        if ( v107 == 28 && v108 == 224 && v18 == 65280 )
          v110 = 29;
      }
      else if ( v16 == 0xFFFF && v107 == 0xFFFF && v108 == 0xFFFF && !v18 )
      {
        v110 = 81;
      }
      goto LABEL_104;
    }
    if ( v107 == 2016 )
    {
      if ( v108 == 63488 && !v18 )
        v110 = 23;
      goto LABEL_104;
    }
    if ( v107 != 992 || v108 != 31744 )
      goto LABEL_104;
    if ( v18 )
    {
      if ( v18 == 0x8000 )
        v110 = 25;
      goto LABEL_104;
    }
LABEL_75:
    v110 = 24;
    goto LABEL_104;
  }
  if ( v19 == 24 )
  {
    if ( v16 != 255 || v107 != 65280 || v108 != 16711680 || v18 )
      goto LABEL_104;
LABEL_61:
    v110 = 20;
    goto LABEL_104;
  }
  if ( v19 != 32 )
    return -2147467259;
  switch ( v16 )
  {
    case 0xFFu:
      if ( v107 == 65280 && v108 == 16711680 )
      {
        if ( !v18 )
        {
LABEL_27:
          v110 = 22;
          break;
        }
        if ( v18 == -16777216 )
          v110 = 21;
      }
      break;
    case 0x3FF00000u:
      if ( v107 == 1047552 && v108 == 1023 && v102 == -1073741824 )
        v110 = 31;
      break;
    case 0xFF0000u:
      if ( v107 == 65280 && v108 == 255 )
      {
        if ( v102 == -16777216 )
        {
          v110 = 32;
        }
        else if ( !v102 )
        {
          v110 = 33;
        }
      }
      break;
    default:
      if ( v16 )
      {
        if ( v16 == 1023 )
        {
          if ( v107 == 1047552 && v108 == 1072693248 && v102 == -1073741824 )
            v110 = 35;
        }
        else if ( v16 == 65280 && v107 == 16711680 && v108 == -16777216 && !v102 )
        {
          v110 = 22;
          v103 = v14 + 1;
        }
      }
      else if ( v107 == -65536 && v108 == 0xFFFF && !v102 )
      {
        v110 = 34;
      }
      break;
  }
LABEL_104:
  if ( *((_DWORD *)v3 + 16) && v110 == 41 )
  {
    v20 = v5[8];
    if ( !v20 )
      v20 = 1 << v101;
    *((_DWORD *)v3 + 15) = 1;
    v21 = operator new(0x400u);
    *((_DWORD *)v3 + 2) = v21;
    if ( !v21 )
      return -2147024882;
    v22 = a2 + *v5;
    v106 = 0;
    if ( v20 )
    {
      do
      {
        v23 = 4 * v106;
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2)) = *(_BYTE *)(v22 + 2);
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2) + 1) = *(_BYTE *)(v22 + 1);
        v24 = *(_BYTE *)v22;
        v22 += v109;
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2) + 2) = v24;
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2) + 3) = -1;
        ++v106;
      }
      while ( v106 < v20 );
      v5 = v98;
    }
    while ( v20 < 0x100 )
    {
      v25 = 4 * v20;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2)) = -1;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2) + 1) = -1;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2) + 2) = -1;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2) + 3) = -1;
      ++v20;
    }
  }
  if ( *((_WORD *)v5 + 7) == 1 )
  {
    v106 = v104;
    v26 = (v104 + 7) >> 3;
  }
  else if ( *((_WORD *)v5 + 7) == 4 )
  {
    v106 = v104;
    v26 = (v104 + 1) >> 1;
  }
  else
  {
    v26 = v104 * ((unsigned int)*((_WORD *)v5 + 7) >> 3);
    v106 = v104 * ((unsigned int)*((_WORD *)v5 + 7) >> 3);
  }
  if ( v110 == 116 )
    v106 = 16 * v104;
  v27 = v5[4];
  v28 = (v26 + 3) & 0xFFFFFFFC;
  v101 = (v26 + 3) & 0xFFFFFFFC;
  if ( v27 && v27 != 3 )
  {
    v29 = v100;
  }
  else
  {
    v29 = v100;
    if ( v103 + v26 + v28 * (v100 - 1) > a3 )
      return -2147467259;
  }
  if ( !v5[4] && v110 == 22 )
  {
    v105 = 0;
    if ( v29 )
    {
      v109 = a2 + v103;
      do
      {
        v30 = 0;
        if ( v104 )
        {
          while ( !*(_BYTE *)(v109 + 4 * v30 + 3) )
          {
            if ( ++v30 >= v104 )
              goto LABEL_137;
          }
          v110 = 21;
LABEL_137:
          if ( v30 < v104 )
            break;
        }
        ++v105;
        v109 += v28;
      }
      while ( v105 < v29 );
    }
  }
  v31 = v106;
  v32 = v110;
  *((_DWORD *)v3 + 13) = 0;
  v33 = v104;
  v34 = (v31 + 3) & 0xFFFFFFFC;
  v11 = *((_DWORD *)v3 + 16) == 0;
  *(_DWORD *)v3 = v32;
  *((_DWORD *)v3 + 12) = v34;
  *((_DWORD *)v3 + 3) = v33;
  *((_DWORD *)v3 + 4) = v29;
  *((_DWORD *)v3 + 5) = 1;
  if ( !v11 )
  {
    v35 = v5[4];
    if ( (!v35 || v35 == 3) && v5[2] < 0 && *((_WORD *)v5 + 7) >= 8u && v32 != 116 )
    {
      v36 = v103;
      *((_DWORD *)v3 + 14) = 0;
      *((_DWORD *)v3 + 1) = a2 + v36;
      return 0;
    }
    v37 = v100 * v34;
    *((_DWORD *)v3 + 14) = 1;
    v38 = (char *)operator new(v37);
    v105 = (unsigned int)v38;
    *((_DWORD *)v3 + 1) = v38;
    if ( !v38 )
      return -2147024882;
    v39 = *((_DWORD *)v3 + 12);
    v40 = (_BYTE *)(a2 + v103);
    v41 = v5[2] < 0;
    v97 = (_BYTE *)(a2 + v103);
    v96 = a2 + v103;
    v103 = a3 + a2;
    if ( v41 )
    {
      v109 = v39;
      v42 = v38;
    }
    else
    {
      v109 = -v39;
      v42 = &v38[v39 * (v100 - 1)];
    }
    v43 = v5[4];
    v111 = (unsigned int)&v38[v100 * v39];
    v112 = (unsigned int)v42;
    if ( v43 == 2 )
    {
      if ( v42 >= v38 )
      {
        while ( v112 < v111 )
        {
          if ( (unsigned int)v40 < v96 )
            return -2147467259;
          v44 = v40 + 1;
          if ( (unsigned int)(v40 + 1) >= v103 )
            return -2147467259;
          v45 = *v40;
          if ( *v40 )
          {
            if ( (unsigned int)v42 < v105 || (unsigned int)&v42[v45] > v111 )
              return -2147467259;
            v51 = 0;
            if ( (signed int)v45 > 0 )
            {
              do
              {
                if ( v51 & 1 )
                  LOBYTE(v52) = *v44 & 0xF;
                else
                  v52 = (unsigned int)*v44 >> 4;
                v42[v51++] = v52;
              }
              while ( v51 < *v40 );
            }
            v42 += *v40;
          }
          else
          {
            v46 = *v44;
            if ( *v44 )
            {
              if ( *v44 == 1 )
              {
                v112 = v111;
              }
              else if ( *v44 == 2 )
              {
                if ( (unsigned int)(v40 + 3) >= v103 )
                  return -2147467259;
                v50 = v109 * v40[3];
                v40 += 2;
                v42 += *v40 + v50;
              }
              else
              {
                if ( (unsigned int)v42 < v105
                  || (unsigned int)&v42[v46] > v111
                  || *v44 && (unsigned int)&v40[((v46 - 1) >> 1) + 2] >= v103 )
                {
                  return -2147467259;
                }
                v47 = 0;
                if ( v46 > 0 )
                {
                  do
                  {
                    v48 = v40[(v47 >> 1) + 2];
                    if ( v47 & 1 )
                      LOBYTE(v48) = v48 & 0xF;
                    else
                      v48 >>= 4;
                    v42[v47++] = v48;
                  }
                  while ( v47 < *v44 );
                }
                v49 = *v44;
                v42 += v49;
                v40 += ((v49 >> 1) + 1) & 0xFFFFFFFE;
              }
            }
            else
            {
              v42 = (char *)(v109 + v112);
              v112 += v109;
            }
          }
          v40 += 2;
          if ( v112 < v105 )
            return 0;
        }
      }
      return 0;
    }
    if ( v43 == 1 )
    {
      if ( v42 < v38 )
        return 0;
      while ( 1 )
      {
        if ( v112 >= v111 )
          return 0;
        if ( (unsigned int)v40 < v96 )
          return -2147467259;
        v53 = v40 + 1;
        if ( (unsigned int)(v40 + 1) >= v103 )
          return -2147467259;
        LOBYTE(v54) = *v40;
        if ( *v40 )
          break;
        v55 = *v53;
        v56 = *v53;
        if ( v56 )
        {
          v57 = v56 - 1;
          if ( v57 )
          {
            if ( v57 == 1 )
            {
              if ( (unsigned int)(v40 + 3) >= v103 )
                return -2147467259;
              v59 = v109 * v40[3];
              v40 += 2;
              v42 += *v40 + v59;
              goto LABEL_205;
            }
            if ( v42 < v38 || (unsigned int)&v42[v55] > v111 || (unsigned int)&v40[v55 + 2] > v103 )
              return -2147467259;
            HIWORD(v5) = HIWORD(v55);
            qmemcpy(v42, v40 + 2, v55);
            v58 = v40[1];
            v42 += v58;
            v40 += (v58 + 1) & 0xFFFFFFFE;
            goto LABEL_204;
          }
          v112 = v111;
        }
        else
        {
          v42 = (char *)(v109 + v112);
          v112 += v109;
        }
LABEL_205:
        v40 += 2;
        v97 = v40;
        if ( v112 < (unsigned int)v38 )
          return 0;
      }
      if ( v42 < v38 )
        return -2147467259;
      v54 = (unsigned __int8)v54;
      if ( (unsigned int)&v42[(unsigned __int8)v54] > v111 )
        return -2147467259;
      LOBYTE(v5) = *v53;
      BYTE1(v5) = *v53;
      v60 = *v40;
      v61 = v54 >> 2;
      v62 = (_DWORD)v5 << 16;
      LOWORD(v62) = (_WORD)v5;
      memset32(v42, v62, v61);
      memset(&v42[4 * v61], (char)v5, v60 & 3);
      v40 = v97;
      v42 += *v97;
LABEL_204:
      v38 = (char *)v105;
      goto LABEL_205;
    }
    v63 = *((_WORD *)v5 + 7);
    if ( v63 == 1 )
    {
      if ( v42 >= v38 )
      {
        do
        {
          if ( (unsigned int)v42 >= v111 )
            break;
          v113 = 0;
          if ( v104 )
          {
            do
            {
              v42[v113] = (v40[v113 >> 3] >> (7 - (v113 & 7))) & 1;
              ++v113;
            }
            while ( v113 < v104 );
          }
          v42 += v109;
          v40 += v101;
        }
        while ( (unsigned int)v42 >= v105 );
      }
      return 0;
    }
    if ( v63 == 4 )
    {
      if ( v42 >= v38 )
      {
        do
        {
          if ( (unsigned int)v42 >= v111 )
            break;
          v64 = 0;
          if ( v104 )
          {
            do
            {
              v65 = v40[v64 >> 1];
              if ( v64 & 1 )
                LOBYTE(v65) = v65 & 0xF;
              else
                v65 >>= 4;
              v42[v64++] = v65;
            }
            while ( v64 < v104 );
          }
          v42 += v109;
          v40 += v101;
        }
        while ( (unsigned int)v42 >= v105 );
      }
      return 0;
    }
    if ( v110 != 116 )
    {
      if ( v42 >= v38 )
      {
        do
        {
          if ( (unsigned int)v42 >= v111 )
            break;
          v66 = v40;
          v40 += v101;
          v67 = v42;
          v42 += v109;
          qmemcpy(v67, v66, v106);
        }
        while ( (unsigned int)v42 >= v105 );
      }
      return 0;
    }
    v92 = v108;
    v93 = v107;
    v94 = v99;
    v95 = v102;
    v68 = 0;
    do
    {
      v69 = (char *)&v92 + v68 * 4;
      v70 = *(int *)((char *)&v92 + v68 * 4);
      v77[v68] = 0;
      if ( v70 )
      {
        if ( !(v70 & 1) )
        {
          v112 = 0;
          do
          {
            *(_DWORD *)v69 >>= 1;
            ++v112;
          }
          while ( !(*v69 & 1) );
          v77[v68] = v112;
        }
        *(float *)((char *)&v89 + v68 * 4) = 1.0 / (double)*(unsigned int *)v69;
      }
      ++v68;
    }
    while ( v68 < 4 );
    if ( !v108 && !v107 && !v99 )
    {
      v91 = 0.0;
      v94 = 1;
      v93 = 1;
      v90 = 0.0;
      v92 = 1;
      v89 = 0.0;
    }
    while ( 1 )
    {
      if ( (unsigned int)v42 < v105 || (unsigned int)v42 >= v111 )
        return 0;
      v106 = (unsigned int)v42;
      v71 = v40;
      if ( v104 )
        break;
LABEL_257:
      v42 += v109;
      v40 += v101;
    }
    v99 = v104;
    while ( 1 )
    {
      v72 = *((_WORD *)v98 + 7);
      if ( v72 == 16 )
      {
        v73 = *(_WORD *)v71;
        v71 += 2;
      }
      else if ( v72 == 24 )
      {
        HIBYTE(v74) = v71[2];
        LOBYTE(v74) = v71[1];
        v73 = *v71 | (v74 << 8);
        v71 += 3;
      }
      else
      {
        if ( v72 != 32 )
          goto LABEL_251;
        v73 = *(_DWORD *)v71;
        v71 += 4;
      }
      v112 = v73;
LABEL_251:
      v75 = 0;
      do
      {
        if ( *(int *)((char *)&v92 + v75) )
        {
          v97 = (_BYTE *)(*(int *)((char *)&v92 + v75) & (v112 >> v77[v75 / 4]));
          v76 = (double)(unsigned int)v97 * *(float *)((char *)&v89 + v75);
        }
        else
        {
          v76 = 1.0;
        }
        *(float *)(v106 + v75) = v76;
        v75 += 4;
      }
      while ( v75 < 0x10 );
      v106 += 16;
      if ( !--v99 )
        goto LABEL_257;
    }
  }
  return 0;
}
// 4362CF: using guessed type int var_94[4];

//----- (00436DFB) --------------------------------------------------------
int __thiscall sub_436DFB(_DWORD *this, HANDLE hFile, DWORD NumberOfBytesWritten)
{
  int v3; // edx@1
  int v4; // eax@1
  unsigned int v5; // esi@1
  bool v6; // zf@1
  bool v7; // sf@1
  unsigned __int8 v8; // of@1
  char v9; // cl@5
  int v10; // eax@5
  char v11; // cl@5
  int v12; // eax@22
  char *v13; // esi@22
  unsigned int v14; // edi@22
  int v15; // ecx@22
  int v16; // eax@23
  char v17; // bl@23
  int v18; // eax@25
  int v19; // eax@26
  unsigned int v21; // ecx@31
  int v22; // eax@32
  int v23; // ecx@33
  int v24; // eax@33
  unsigned int v25; // ebx@33
  DWORD v26; // ecx@33
  unsigned int v27; // ecx@33
  DWORD v28; // ecx@33
  DWORD v29; // esi@33
  int v30; // eax@39
  DWORD v31; // eax@39
  char *v32; // ebx@39
  char v33; // [sp+Ch] [bp-428h]@5
  char v34; // [sp+Dh] [bp-427h]@5
  char v35; // [sp+Eh] [bp-426h]@5
  char v36[1021]; // [sp+Fh] [bp-425h]@5
  __int16 Buffer; // [sp+40Ch] [bp-28h]@33
  char v38[6]; // [sp+40Eh] [bp-26h]@33
  int v39; // [sp+414h] [bp-20h]@33
  DWORD v40; // [sp+41Ch] [bp-18h]@33
  DWORD v41; // [sp+420h] [bp-14h]@1
  int v42; // [sp+424h] [bp-10h]@33
  int v43; // [sp+428h] [bp-Ch]@33
  __int16 v44; // [sp+42Ch] [bp-8h]@33
  unsigned __int16 v45; // [sp+42Eh] [bp-6h]@4
  int v46; // [sp+430h] [bp-4h]@4
  int v47; // [sp+438h] [bp+4h]@33
  int v48; // [sp+43Ch] [bp+8h]@33
  int v49; // [sp+448h] [bp+14h]@10
  int v50; // [sp+44Ch] [bp+18h]@10
  int v51; // [sp+450h] [bp+1Ch]@10
  int v52; // [sp+454h] [bp+20h]@12
  _DWORD *v53; // [sp+48Ch] [bp+58h]@1
  char v54; // [sp+490h] [bp+5Ch]@1
  char v55; // [sp+491h] [bp+5Dh]@1
  char v56; // [sp+492h] [bp+5Eh]@1
  char v57; // [sp+493h] [bp+5Fh]@1
  char v58; // [sp+494h] [bp+60h]@1
  char v59; // [sp+495h] [bp+61h]@1
  char v60; // [sp+496h] [bp+62h]@1
  char v61; // [sp+497h] [bp+63h]@1
  DWORD v62; // [sp+498h] [bp+64h]@1
  DWORD i; // [sp+49Ch] [bp+68h]@1
  DWORD nNumberOfBytesToWrite; // [sp+4A0h] [bp+6Ch]@1

  v54 = 0;
  v55 = 0;
  v56 = 0;
  v57 = 0;
  LOBYTE(nNumberOfBytesToWrite) = 0;
  v58 = 0;
  v3 = (int)this;
  memset(&v41, 0, 0x6Cu);
  v4 = *this;
  v5 = 0;
  v8 = __OFSUB__(*this, 41);
  v6 = *this == 41;
  v7 = *this - 41 < 0;
  v53 = this;
  *(_WORD *)((char *)&nNumberOfBytesToWrite + 1) = -21931;
  BYTE3(nNumberOfBytesToWrite) = -1;
  v59 = 36;
  v60 = 73;
  v61 = 109;
  v62 = -2378094;
  i = 0;
  if ( (unsigned __int8)(v7 ^ v8) | v6 )
  {
    if ( !v6 )
    {
      switch ( v4 )
      {
        case 27:
          v41 = 40;
          v46 = 0;
          v45 = 8;
          i = 1024;
          do
          {
            v9 = *(&v58 + (v5 >> 5));
            v10 = 4 * v5;
            v36[v10] = 0;
            *(&v35 + v10) = v9;
            *(&v34 + v10) = *(&v58 + ((v5 >> 2) & 7));
            v11 = *((_BYTE *)&nNumberOfBytesToWrite + (v5++ & 3));
            *(&v33 + v10) = v11;
          }
          while ( v5 < 0x100 );
          goto LABEL_33;
        case 20:
          v41 = 40;
          v46 = 0;
          v45 = 24;
          goto LABEL_33;
        case 24:
          v41 = 40;
          v46 = 0;
          v45 = 16;
          goto LABEL_33;
        case 21:
        case 22:
          v41 = 40;
          v46 = 0;
          v45 = 32;
          goto LABEL_33;
        case 23:
          v41 = 52;
          v46 = 3;
          v45 = 16;
          v49 = 63488;
          v50 = 2016;
          v51 = 31;
          goto LABEL_33;
        case 30:
          v41 = 52;
          v46 = 3;
          v45 = 16;
          v49 = 3840;
          v50 = 240;
          v51 = 15;
          goto LABEL_33;
        case 25:
          v41 = 56;
          v46 = 3;
          v45 = 16;
          v49 = 31744;
          v50 = 992;
          v51 = 31;
          v52 = 0x8000;
          goto LABEL_33;
        case 26:
          v41 = 56;
          v46 = 3;
          v45 = 16;
          v49 = 3840;
          v50 = 240;
          v51 = 15;
          v52 = 61440;
          goto LABEL_33;
        case 29:
          v46 = 3;
          v49 = 224;
          v50 = 28;
          v51 = 3;
          goto LABEL_15;
        case 33:
          v41 = 52;
          v46 = 3;
          v45 = 32;
          v49 = 255;
          v50 = 65280;
          v51 = 16711680;
          goto LABEL_33;
        case 32:
          v41 = 56;
          v46 = 3;
          v45 = 32;
          v49 = 255;
          v50 = 65280;
          v51 = 16711680;
          v52 = -16777216;
          goto LABEL_33;
        case 31:
          v49 = 1023;
          v51 = 1072693248;
          goto LABEL_20;
        case 35:
          v49 = 1072693248;
          v51 = 1023;
LABEL_20:
          v41 = 56;
          v46 = 3;
          v45 = 32;
          v50 = 1047552;
          v52 = -1073741824;
          goto LABEL_33;
        case 34:
          v41 = 52;
          v46 = 3;
          v45 = 32;
          v49 = 0xFFFF;
          v50 = -65536;
          v51 = 0;
          goto LABEL_33;
        default:
          return -2147467259;
      }
      return -2147467259;
    }
    v12 = this[2];
    v46 = 0;
    v13 = (char *)(v12 + 2);
    v14 = 0;
    v41 = 40;
    v45 = 8;
    i = 1024;
    v15 = v12 - (_DWORD)&v34;
    do
    {
      v16 = 4 * v14;
      *(&v35 + v16) = *(&v34 + 4 * v14 + v15);
      *(&v34 + v16) = *(v13 - 1);
      v17 = *v13;
      v36[v16] = 0;
      ++v14;
      v13 += 4;
      *(&v33 + v16) = v17;
    }
    while ( v14 < 0x100 );
  }
  else
  {
    v18 = v4 - 50;
    if ( v18 )
    {
      v19 = v18 - 1;
      if ( v19 )
      {
        if ( v19 != 30 )
          return -2147467259;
        v41 = 52;
        v46 = 3;
        v45 = 16;
        v49 = 0xFFFF;
        v50 = 0xFFFF;
        v51 = 0xFFFF;
      }
      else
      {
        v46 = 3;
        v49 = 255;
        v50 = 255;
        v51 = 255;
LABEL_15:
        v41 = 56;
        v45 = 16;
        v52 = 65280;
      }
    }
    else
    {
      v41 = 40;
      v46 = 0;
      v45 = 8;
      i = 1024;
      v21 = 0;
      do
      {
        v22 = 4 * v21;
        v36[v22] = 0;
        *(&v35 + v22) = v21;
        *(&v34 + v22) = v21;
        *(&v33 + v22) = v21++;
      }
      while ( v21 < 0x100 );
    }
  }
LABEL_33:
  v23 = *(_DWORD *)(v3 + 12);
  v24 = *(_DWORD *)(v3 + 16);
  v42 = v23;
  v25 = (unsigned int)v45 >> 3;
  v26 = v25 * v23;
  v43 = v24;
  v40 = v26;
  v27 = (v26 + 3) & 0xFFFFFFFC;
  v47 = 2834;
  v48 = 2834;
  v62 = v27;
  v28 = v41 + v27 * v24 + i + 14;
  *(_DWORD *)&v38[2] = 0;
  v39 = 0;
  nNumberOfBytesToWrite = v41;
  v29 = ((v28 + 3) & 0xFFFFFFFC) - v28;
  *(_DWORD *)v38 = (v28 + 3) & 0xFFFFFFFC;
  v44 = 1;
  Buffer = 19778;
  *(int *)((char *)&v39 + 2) = v41 + i + 14;
  if ( NumberOfBytesWritten )
  {
    WriteFile(hFile, &Buffer, 0xEu, &NumberOfBytesWritten, 0);
    v3 = (int)v53;
  }
  if ( nNumberOfBytesToWrite )
  {
    WriteFile(hFile, &v41, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
    v3 = (int)v53;
  }
  if ( i )
  {
    WriteFile(hFile, &v33, i, &NumberOfBytesWritten, 0);
    v3 = (int)v53;
  }
  v30 = *(_DWORD *)(v3 + 48) * *(_DWORD *)(v3 + 28);
  nNumberOfBytesToWrite = *(_DWORD *)(v3 + 48);
  v31 = *(_DWORD *)(v3 + 4) + v25 * *(_DWORD *)(v3 + 24) + v30;
  v32 = (char *)(v31 + nNumberOfBytesToWrite * (*(_DWORD *)(v3 + 16) - 1));
  for ( i = v31; (unsigned int)v32 >= i; v32 -= v53[12] )
  {
    WriteFile(hFile, v32, v40, &NumberOfBytesWritten, 0);
    if ( v40 < v62 )
      WriteFile(hFile, &v54, v62 - v40, &NumberOfBytesWritten, 0);
  }
  if ( v29 )
    WriteFile(hFile, &v54, v29, &NumberOfBytesWritten, 0);
  return 0;
}
// 436DFB: using guessed type char var_495[1021];

//----- (00437386) --------------------------------------------------------
int __stdcall sub_437386(int a1)
{
  char v2; // [sp+0h] [bp-C8h]@1

  return (*(int (__stdcall **)(int, char *))(*(_DWORD *)a1 + 12))(a1, &v2);
}

//----- (004373A3) --------------------------------------------------------
signed int __stdcall sub_4373A3(int a1)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(a1 + 24);
  *(_DWORD *)v1 = *(_DWORD *)(v1 + 28);
  *(_DWORD *)(v1 + 4) = *(_DWORD *)(v1 + 32);
  return 1;
}

//----- (004373BB) --------------------------------------------------------
int __stdcall sub_4373BB(int a1, int a2)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 24);
  *(_DWORD *)result += a2;
  *(_DWORD *)(result + 4) -= a2;
  return result;
}

//----- (004373CE) --------------------------------------------------------
signed int __thiscall sub_4373CE(_DWORD *this, int a2, int a3)
{
  signed int v3; // ebx@1
  int v4; // eax@5
  unsigned int v5; // eax@9
  _DWORD *v6; // esi@9
  int v7; // ecx@9
  bool v8; // zf@11
  unsigned int v9; // eax@11
  size_t v10; // ST0C_4@12
  void *v11; // eax@12
  char *i; // ebx@16
  int *v14; // esi@23
  const void *v15; // eax@24
  unsigned int v16; // ecx@24
  int v17; // ebx@25
  unsigned __int16 v18; // dx@25
  int (*v19)(); // [sp+Ch] [bp-2A4h]@3
  int (__stdcall *v20)(int); // [sp+14h] [bp-29Ch]@3
  char v21; // [sp+90h] [bp-220h]@3
  int v22; // [sp+D0h] [bp-1E0h]@3
  int v23; // [sp+D4h] [bp-1DCh]@5
  int v24; // [sp+E8h] [bp-1C8h]@5
  int v25; // [sp+118h] [bp-198h]@6
  unsigned int v26; // [sp+140h] [bp-170h]@9
  unsigned int v27; // [sp+144h] [bp-16Ch]@11
  int v28; // [sp+14Ch] [bp-164h]@7
  unsigned int v29; // [sp+15Ch] [bp-154h]@16
  _DWORD *v30; // [sp+2A8h] [bp-8h]@1
  const void **v31; // [sp+2ACh] [bp-4h]@14

  v3 = 0;
  v30 = this;
  if ( a2 && a3 )
  {
    v22 = sub_44ACA0((int)&v19);
    v19 = sub_43736B;
    v20 = nullsub_1;
    if ( _setjmp3(&v21, 0) )
    {
LABEL_4:
      v3 = -2147467259;
LABEL_19:
      sub_44D330(&v22);
      return v3;
    }
    sub_448D60((int)&v22, 62, 472);
    v4 = (*(int (__stdcall **)(int *, _DWORD, signed int))v23)(&v22, 0, 36);
    v24 = v4;
    *(_DWORD *)(v4 + 32) = a3;
    *(_DWORD *)(v4 + 8) = nullsub_1;
    *(_DWORD *)(v4 + 12) = sub_4373A3;
    *(_DWORD *)(v4 + 16) = sub_4373BB;
    *(_DWORD *)(v4 + 20) = sub_44A9A0;
    *(_DWORD *)(v4 + 24) = nullsub_1;
    *(_DWORD *)(v4 + 4) = 0;
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 28) = a2;
    sub_449110((int)&v22, 1);
    if ( !sub_4491A5() )
      v25 = 1;
    v20 = sub_437386;
    sub_448C80((int)&v22);
    if ( v28 == 1 )
    {
      v6 = v30;
      v5 = v26;
      *v30 = 50;
      v6[12] = v5;
    }
    else
    {
      if ( v28 != 3 )
        goto LABEL_4;
      v5 = v26;
      v6 = v30;
      v7 = 4 * v26;
      *v30 = 22;
      v6[12] = v7;
    }
    v8 = v6[16] == 0;
    v6[3] = v5;
    v9 = v27;
    v6[13] = 0;
    v6[4] = v9;
    v6[5] = 1;
    if ( !v8 )
    {
      v10 = v9 * v6[12];
      v6[14] = 1;
      v11 = operator new(v10);
      v6[1] = v11;
      if ( v11
        && (v31 = (const void **)(*(int (__stdcall **)(int *, signed int, int, signed int))(v23 + 8))(
                                   &v22,
                                   1,
                                   v28 * v26,
                                   1)) != 0 )
      {
        if ( *v6 == 50 )
        {
          for ( i = (char *)v6[1]; v29 < v27; i += v26 )
          {
            sub_448BF0((int)&v22, (int)v31, 1);
            qmemcpy(i, *v31, v26);
          }
          v3 = 0;
        }
        else if ( *v6 == 22 )
        {
          v14 = (int *)v6[1];
          while ( v29 < v27 )
          {
            sub_448BF0((int)&v22, (int)v31, 1);
            v15 = *v31;
            v16 = (unsigned int)&v14[v26];
            if ( (unsigned int)v14 < v16 )
            {
              do
              {
                v17 = *((_BYTE *)v15 + 2);
                HIBYTE(v18) = *(_BYTE *)v15;
                v15 = (char *)v15 + 3;
                LOBYTE(v18) = *((char *)v15 - 2);
                *v14 = v17 | (v18 << 8);
                ++v14;
              }
              while ( (unsigned int)v14 < v16 );
              v3 = 0;
            }
          }
        }
        sub_449050((int)&v22);
      }
      else
      {
        v3 = -2147024882;
      }
    }
    goto LABEL_19;
  }
  return -2147467259;
}
// 424CE8: using guessed type int __stdcall nullsub_1(int);
// 43736B: using guessed type int sub_43736B();
// 44D330: using guessed type _DWORD __stdcall sub_44D330(_DWORD);

//----- (00437646) --------------------------------------------------------
signed int __thiscall sub_437646(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int v5; // ebx@3
  char v6; // cl@3
  int v7; // edx@4
  int v8; // eax@7
  unsigned int v9; // edi@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // eax@10
  int v13; // ecx@16
  int v14; // ecx@21
  int v15; // ecx@22
  int v16; // ecx@23
  unsigned int v17; // eax@32
  void *v18; // edx@37
  int v19; // edi@39
  unsigned int v20; // eax@39
  unsigned int v21; // eax@40
  unsigned int v22; // ecx@41
  unsigned int v23; // eax@45
  unsigned int v24; // edi@45
  unsigned int v25; // edx@45
  unsigned int v26; // eax@46
  unsigned int v27; // edi@46
  unsigned int v28; // edx@46
  int v29; // ST34_4@47
  unsigned int i; // eax@53
  int v31; // ecx@56
  size_t v32; // eax@56
  char *v33; // eax@62
  int v34; // edx@64
  unsigned int v35; // eax@70
  int v36; // ecx@73
  unsigned int v37; // ecx@93
  unsigned int v38; // eax@93
  bool v39; // zf@93
  int v40; // edx@94
  unsigned int v41; // edi@95
  unsigned int v42; // ebx@95
  unsigned int v43; // ecx@103
  unsigned int v44; // eax@103
  bool v45; // zf@103
  int v46; // edx@104
  unsigned int v47; // edi@105
  unsigned int v48; // ebx@105
  void *v49; // [sp+8h] [bp-3Ch]@1
  int v50; // [sp+Ch] [bp-38h]@33
  int v51; // [sp+Ch] [bp-38h]@76
  int v52; // [sp+10h] [bp-34h]@32
  int v53; // [sp+14h] [bp-30h]@32
  int v54; // [sp+18h] [bp-2Ch]@32
  unsigned int v55; // [sp+1Ch] [bp-28h]@39
  int v56; // [sp+1Ch] [bp-28h]@73
  int v57; // [sp+20h] [bp-24h]@39
  int v58; // [sp+20h] [bp-24h]@70
  unsigned int v59; // [sp+24h] [bp-20h]@39
  int v60; // [sp+24h] [bp-20h]@66
  int v61; // [sp+28h] [bp-1Ch]@0
  char v62; // [sp+2Ch] [bp-18h]@0
  signed int v63; // [sp+30h] [bp-14h]@7
  int v64; // [sp+34h] [bp-10h]@39
  char *v65; // [sp+34h] [bp-10h]@68
  signed int v66; // [sp+38h] [bp-Ch]@20
  int v67; // [sp+3Ch] [bp-8h]@0
  unsigned int v68; // [sp+40h] [bp-4h]@16
  int v69; // [sp+4Ch] [bp+8h]@33
  _BYTE *v70; // [sp+4Ch] [bp+8h]@56
  unsigned int v71; // [sp+50h] [bp+Ch]@32
  unsigned int v72; // [sp+50h] [bp+Ch]@33
  unsigned int v73; // [sp+50h] [bp+Ch]@56

  v3 = this;
  v49 = this;
  if ( a3 < 0x12 )
    return -2147467259;
  v5 = a2;
  v6 = *(_BYTE *)(a2 + 1);
  if ( v6 & 0xFE )
    return -2147467259;
  v7 = *(_BYTE *)(a2 + 2);
  if ( v7 & 0xFFFFFFF4 || !*(_WORD *)(a2 + 12) || !*(_WORD *)(a2 + 14) )
    return -2147467259;
  v8 = *(_BYTE *)(a2 + 7);
  v63 = 0;
  v9 = (unsigned int)(v8 + 7) >> 3;
  if ( v6 )
  {
    v10 = v8 - 15;
    if ( v10 )
    {
      v11 = v10 - 1;
      if ( v11 )
      {
        v12 = v11 - 8;
        if ( v12 )
        {
          if ( v12 != 8 )
            return -2147467259;
          v63 = 21;
        }
        else
        {
          v63 = 20;
        }
      }
      else
      {
        v63 = 25;
      }
    }
    else
    {
      v63 = 24;
    }
  }
  v13 = *(_BYTE *)(a2 + 16);
  v68 = (unsigned int)(v13 + 7) >> 3;
  if ( (v7 & 3) == 1 )
  {
    if ( !*(_BYTE *)(a2 + 1) || *(_BYTE *)(a2 + 16) != 8 )
      return -2147467259;
    v66 = 41;
  }
  else if ( (v7 & 3) == 2 )
  {
    v14 = v13 - 15;
    if ( v14 )
    {
      v15 = v14 - 1;
      if ( v15 )
      {
        v16 = v15 - 8;
        if ( v16 )
        {
          if ( v16 != 8 )
            return -2147467259;
          v66 = 21;
        }
        else
        {
          v66 = 20;
        }
      }
      else
      {
        v66 = 25;
      }
    }
    else
    {
      v66 = 24;
    }
  }
  else
  {
    if ( (v7 & 3) != 3 || *(_BYTE *)(a2 + 16) != 8 )
      return -2147467259;
    v66 = 50;
  }
  v52 = v7 & 8;
  v53 = (*(_BYTE *)(a2 + 17) & 0x20) == 32;
  v17 = *(_BYTE *)a2;
  v71 = a3 - 18;
  v54 = (*(_BYTE *)(a2 + 17) & 0x10) != 16;
  if ( v71 < v17 )
    return -2147467259;
  v72 = v71 - v17;
  v69 = v17 + a2 + 18;
  v50 = v9 * *(_WORD *)(v5 + 5);
  if ( v72 < v9 * *(_WORD *)(v5 + 5) )
    return -2147467259;
  if ( !*((_DWORD *)v3 + 16) || v66 != 41 )
    goto LABEL_56;
  if ( *(_WORD *)(v5 + 5) + *(_WORD *)(v5 + 3) > 256 )
    return -2147467259;
  v18 = operator new(0x400u);
  *((_DWORD *)v3 + 2) = v18;
  if ( !v18 )
    return -2147024882;
  v57 = 0;
  *((_DWORD *)v3 + 15) = 1;
  memset(v18, 0xFFu, 0x400u);
  v19 = v69;
  v20 = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3);
  v64 = v69;
  v59 = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3);
  v55 = v20 + 4 * *(_WORD *)(v5 + 5);
  if ( v20 >= v20 + 4 * *(_WORD *)(v5 + 5) )
  {
LABEL_53:
    for ( i = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3); i < v55; i += 4 )
      *(_BYTE *)(i + 3) = -1;
    goto LABEL_56;
  }
  LOBYTE(v21) = v72;
  do
  {
    LOBYTE(v22) = v62;
    if ( v63 == 20 )
    {
      LOBYTE(v21) = *(_BYTE *)(v19 + 2);
      LOBYTE(v22) = *(_BYTE *)(v19 + 1);
      LOBYTE(v67) = *(_BYTE *)v19;
      v19 += 3;
      goto LABEL_49;
    }
    if ( v63 == 21 )
    {
      v29 = *(_DWORD *)v19;
      LOBYTE(v22) = BYTE1(v29);
      v61 = *(_DWORD *)v19 >> 24;
      LOBYTE(v21) = *(_DWORD *)v19 >> 16;
      v67 = *(_DWORD *)v19 & 0xFF;
      v19 += 4;
      goto LABEL_50;
    }
    if ( v63 == 24 )
    {
      v26 = *(_WORD *)v19;
      v27 = v26 & 0x1F;
      v28 = v26 >> 5;
      v21 = 8 * ((v26 >> 10) & 0x1F) | (((v26 >> 10) & 0x1F) >> 2);
      v22 = 8 * (v28 & 0x1F) | ((v28 & 0x1F) >> 2);
      v67 = 8 * v27 | (v27 >> 2);
      v19 = v64 + 2;
LABEL_49:
      v61 = 255;
      goto LABEL_50;
    }
    if ( v63 != 25 )
      goto LABEL_51;
    v23 = *(_WORD *)v19;
    v61 = 255 * (v23 >> 15);
    v24 = v23 & 0x1F;
    v25 = v23 >> 5;
    v21 = 8 * ((v23 >> 10) & 0x1F) | (((v23 >> 10) & 0x1F) >> 2);
    v22 = 8 * (v25 & 0x1F) | ((v25 & 0x1F) >> 2);
    v67 = 8 * v24 | (v24 >> 2);
    v19 = v64 + 2;
LABEL_50:
    v62 = v22;
    v64 = v19;
LABEL_51:
    *(_BYTE *)(v59 + 1) = v22;
    *(_BYTE *)(v59 + 2) = v67;
    *(_BYTE *)(v59 + 3) = v61;
    *(_BYTE *)v59 = v21;
    v59 += 4;
    v57 |= v61 != 0;
  }
  while ( v59 < v55 );
  if ( !v57 )
    goto LABEL_53;
LABEL_56:
  v73 = v72 - v50;
  v31 = v50 + v69;
  v32 = v68 * *(_WORD *)(v5 + 12) * *(_WORD *)(v5 + 14);
  *(_DWORD *)v3 = v66;
  *((_DWORD *)v3 + 1) = v50 + v69;
  *((_DWORD *)v3 + 12) = v68 * *(_WORD *)(v5 + 12);
  v39 = *((_DWORD *)v3 + 16) == 0;
  *((_DWORD *)v3 + 13) = 0;
  *((_DWORD *)v3 + 3) = *(_WORD *)(v5 + 12);
  v70 = (_BYTE *)(v50 + v69);
  *((_DWORD *)v3 + 4) = *(_WORD *)(v5 + 14);
  *((_DWORD *)v3 + 5) = 1;
  if ( v39 )
    return 0;
  if ( v52 || !v53 || !v54 )
  {
    v33 = (char *)operator new(v32);
    *((_DWORD *)v3 + 1) = v33;
    if ( !v33 )
      return -2147024882;
    *((_DWORD *)v3 + 14) = 1;
    if ( v53 )
      v34 = (int)v33;
    else
      v34 = (int)&v33[*((_DWORD *)v3 + 12) * (*(_WORD *)(v5 + 14) - 1)];
    v60 = 0;
    if ( !*(_WORD *)(v5 + 14) )
      goto LABEL_91;
    while ( 1 )
    {
      v65 = (char *)(v54 ? v34 : v34 + *((_DWORD *)v3 + 12) - v68);
      v35 = *(_WORD *)(v5 + 12);
      v58 = 0;
      if ( v35 > 0 )
        break;
LABEL_87:
      if ( v53 )
        v34 += *((_DWORD *)v3 + 12);
      else
        v34 -= *((_DWORD *)v3 + 12);
      if ( ++v60 >= (unsigned int)*(_WORD *)(v5 + 14) )
        goto LABEL_91;
    }
    while ( 1 )
    {
      if ( v52 )
      {
        if ( v73 < 1 )
          return -2147467259;
        v36 = *v70 & 0x80;
        v35 = (*v70++ & 0x7F) + 1;
        --v73;
        v56 = v36;
      }
      else
      {
        v56 = 0;
      }
      v58 += v35;
      if ( v35 )
        break;
LABEL_84:
      if ( v56 )
      {
        v70 += v68;
        v73 -= v68;
      }
      v35 = *(_WORD *)(v5 + 12);
      if ( v58 >= v35 )
        goto LABEL_87;
    }
    while ( 1 )
    {
      v51 = v35 - 1;
      if ( v73 < v68 )
        return -2147467259;
      qmemcpy(v65, v70, v68);
      if ( !v56 )
      {
        v70 += v68;
        v73 -= v68;
      }
      if ( v54 )
        v65 += v68;
      else
        v65 -= v68;
      --v35;
      if ( !v51 )
      {
        v3 = v49;
        goto LABEL_84;
      }
    }
  }
  if ( v73 < v32 )
    return -2147467259;
  *((_DWORD *)v3 + 1) = v31;
  *((_DWORD *)v3 + 14) = 0;
LABEL_91:
  if ( *(_DWORD *)v3 == 21 )
  {
    v43 = *((_DWORD *)v3 + 1);
    v44 = v43 + *((_DWORD *)v3 + 12) * *((_DWORD *)v3 + 4);
    v45 = v43 == v44;
    if ( v43 < v44 )
    {
      v46 = 4 * *((_DWORD *)v3 + 3);
      do
      {
        v47 = v46 + v43;
        v48 = v43;
        if ( v43 < v46 + v43 )
        {
          do
          {
            if ( *(_BYTE *)(v48 + 3) )
              break;
            v48 += 4;
          }
          while ( v48 < v47 );
          if ( v48 < v47 )
            break;
        }
        v43 += *((_DWORD *)v3 + 12);
      }
      while ( v43 < v44 );
      v45 = v43 == v44;
    }
    if ( v45 )
      *(_DWORD *)v3 = 22;
  }
  else if ( *(_DWORD *)v3 == 25 )
  {
    v37 = *((_DWORD *)v3 + 1);
    v38 = v37 + *((_DWORD *)v3 + 12) * *((_DWORD *)v3 + 4);
    v39 = v37 == v38;
    if ( v37 < v38 )
    {
      v40 = 2 * *((_DWORD *)v3 + 3);
      do
      {
        v41 = v40 + v37;
        v42 = v37;
        if ( v37 < v40 + v37 )
        {
          do
          {
            if ( *(_BYTE *)(v42 + 1) & 0x80 )
              break;
            v42 += 2;
          }
          while ( v42 < v41 );
          if ( v42 < v41 )
            break;
        }
        v37 += *((_DWORD *)v3 + 12);
      }
      while ( v37 < v38 );
      v39 = v37 == v38;
    }
    if ( v39 )
      *(_DWORD *)v3 = 24;
  }
  return 0;
}

//----- (00437BBE) --------------------------------------------------------
int __thiscall sub_437BBE(_DWORD *this, char *a2, unsigned int a3)
{
  _DWORD *v3; // esi@1
  _BYTE *v5; // edi@8
  bool v6; // zf@8
  int v7; // ebx@8
  int v8; // ecx@21
  char *v9; // eax@35
  _BYTE *v10; // edi@47
  unsigned __int8 v11; // al@49
  signed int v12; // [sp+8h] [bp-18h]@5
  int v13; // [sp+Ch] [bp-14h]@8
  unsigned int v14; // [sp+10h] [bp-10h]@0
  int v15; // [sp+14h] [bp-Ch]@8
  unsigned int v16; // [sp+18h] [bp-8h]@8
  signed int v17; // [sp+1Ch] [bp-4h]@8
  unsigned int v18; // [sp+2Ch] [bp+Ch]@8
  int v19; // [sp+2Ch] [bp+Ch]@47

  v3 = this;
  if ( a3 < 2 )
    return -2147467259;
  if ( *a2 != 80 )
    return -2147467259;
  if ( a2[1] == 51 )
  {
    v12 = 1;
  }
  else
  {
    if ( a2[1] != 54 )
      return -2147467259;
    v12 = 0;
  }
  v5 = a2 + 2;
  v6 = a3 == 2;
  v18 = a3 - 2;
  v7 = 0;
  v15 = (int)(a2 + 2);
  v17 = 0;
  v13 = 0;
  v16 = 255;
  if ( v6 )
    return -2147467259;
  while ( v12 || v17 != 3 )
  {
    if ( !isspace(*v5) )
    {
      if ( *v5 != 35 )
      {
        if ( v18 )
        {
          do
          {
            if ( isspace(*v5) )
              break;
            if ( !isdigit(*v5) )
              return -2147467259;
            v8 = *v5++;
            v6 = v18-- == 1;
            v7 = v8 + 10 * v7 - 48;
            v15 = (int)v5;
          }
          while ( !v6 );
        }
        if ( v17 )
        {
          if ( v17 == 1 )
          {
            if ( !v7 )
              return -2147467259;
            v9 = (char *)operator new(4 * v13 * v7);
            v3[1] = v9;
            if ( !v9 )
              return -2147024882;
            a2 = v9;
            v3[13] = 0;
            v14 = (unsigned int)&v9[4 * v13 * v7];
            v5 = (_BYTE *)v15;
            v3[14] = 1;
            *v3 = 22;
            v3[12] = 4 * v13;
            v3[3] = v13;
            v3[4] = v7;
            v3[5] = 1;
            goto LABEL_39;
          }
          if ( v17 != 2 )
          {
            switch ( v17 )
            {
              case 3:
                if ( (unsigned int)a2 >= v14 )
                  return -2147467259;
                *(_DWORD *)a2 = (255 * v7 / v16 | 0xFFFFFF00) << 16;
                break;
              case 4:
                *(_DWORD *)a2 |= 255 * v7 / v16 << 8;
                break;
              case 5:
                *(_DWORD *)a2 |= 255 * v7 / v16;
                a2 += 4;
                if ( a2 == (char *)v14 )
                  return 0;
                v17 = 2;
                break;
            }
            goto LABEL_39;
          }
          v16 = v7;
        }
        else
        {
          v13 = v7;
        }
        if ( !v7 )
          return -2147467259;
LABEL_39:
        ++v17;
        goto LABEL_40;
      }
      for ( ; v18; --v18 )
      {
        if ( *v5 == 10 )
          break;
        ++v5;
      }
    }
    ++v5;
    --v18;
    v15 = (int)v5;
LABEL_40:
    v7 = 0;
    if ( !v18 )
      return -2147467259;
  }
  if ( v16 > 0xFF )
    return -2147467259;
  if ( v18 > 1 && *v5 == 13 )
  {
    ++v5;
    --v18;
  }
  v10 = v5 + 1;
  v19 = v18 - 1;
  if ( v19 )
  {
    do
    {
      if ( (unsigned int)a2 >= v14 )
        break;
      v11 = 255 * (unsigned int)*v10 / v16;
      v10 += 3;
      *(_DWORD *)a2 = 255 * (unsigned int)*(v10 - 1) / v16 | ((255 * (unsigned int)*(v10 - 2) / v16 | ((v11 | 0xFFFFFF00) << 8)) << 8);
      v6 = v19 == 3;
      v19 -= 3;
      a2 += 4;
    }
    while ( !v6 );
  }
  return a2 != (char *)v14 ? 0x80004005 : 0;
}

//----- (00437E44) --------------------------------------------------------
int __cdecl sub_437E44(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int v3; // ebx@1
  int result; // eax@3

  v3 = a1[21];
  if ( (unsigned int)a3 > *(_DWORD *)(v3 + 4) )
    sub_44AD95(a1, (int)"read error");
  qmemcpy((void *)a2, *(const void **)v3, a3);
  result = a3;
  *(_DWORD *)v3 += a3;
  *(_DWORD *)(v3 + 4) -= a3;
  return result;
}

//----- (00437E85) --------------------------------------------------------
void __cdecl __noreturn sub_437E85(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  longjmp(a1, 1);
}

//----- (00437E91) --------------------------------------------------------
signed int __thiscall sub_437E91(int *this, int a2, unsigned int a3)
{
  int *v3; // eax@2
  int *v4; // esi@5
  int v6; // eax@36
  int v7; // eax@44
  int v8; // eax@50
  int v9; // eax@52
  int v10; // eax@53
  int v11; // eax@54
  int v12; // eax@55
  char v13; // al@65
  signed int v14; // esi@66
  int v15; // ST20_4@67
  int *__attribute__((__org_typedef(jmp_buf))) v16; // ST1C_4@67
  int v17; // eax@67
  bool v18; // zf@67
  void *v19; // eax@68
  size_t v20; // ST20_4@69
  unsigned int i; // eax@70
  double v22; // st7@79
  signed __int64 v23; // rax@80
  int v24; // ecx@80
  bool v25; // sf@80
  unsigned __int8 v26; // of@80
  signed int v27; // eax@82
  void *v28; // eax@84
  signed int v29; // eax@86
  int v30; // edi@87
  int v31; // ecx@88
  char v32; // bl@88
  int v33; // edi@90
  int v34; // ecx@91
  int v35; // eax@93
  char v36[256]; // [sp+1Ch] [bp-154h]@80
  double v37; // [sp+11Ch] [bp-54h]@32
  long double v38; // [sp+124h] [bp-4Ch]@79
  int v39; // [sp+12Ch] [bp-44h]@5
  unsigned int v40; // [sp+130h] [bp-40h]@5
  int v41; // [sp+134h] [bp-3Ch]@76
  int v42; // [sp+138h] [bp-38h]@30
  int *v43; // [sp+13Ch] [bp-34h]@1
  int v44; // [sp+140h] [bp-30h]@5
  int v45; // [sp+144h] [bp-2Ch]@5
  int v46; // [sp+148h] [bp-28h]@73
  int v47; // [sp+14Ch] [bp-24h]@5
  int v48; // [sp+150h] [bp-20h]@73
  void *v49; // [sp+154h] [bp-1Ch]@1
  unsigned int v50; // [sp+158h] [bp-18h]@5
  int v51; // [sp+15Ch] [bp-14h]@79
  int v52; // [sp+160h] [bp-10h]@74
  int v53; // [sp+164h] [bp-Ch]@57
  int v54; // [sp+168h] [bp-8h]@1
  int *__attribute__((__org_typedef(jmp_buf))) v55; // [sp+16Ch] [bp-4h]@1

  v43 = this;
  v55 = 0;
  v54 = 0;
  v49 = 0;
  if ( sub_44D130(a2, 0, a3) )
    return -2147467259;
  v3 = (int *)sub_44AE12("1.0.5", 0, (int)sub_437E85, (int)nullsub_2);
  v55 = v3;
  if ( !v3 )
    goto LABEL_85;
  v54 = (int)sub_44D239((int)v3);
  if ( !v54 )
    goto LABEL_85;
  if ( !_setjmp3(v55, 0) )
  {
    v39 = a2;
    v40 = a3;
    sub_44D0F2((int)v55, (int)&v39, (int (__cdecl *)(int, int))sub_437E44);
    sub_44AF06(v55, v54);
    sub_44B69C((int)v55, v54, (unsigned int *)&v44, &v50, &v47, &v45, 0, 0, 0);
    v4 = v43;
    if ( v45 )
    {
      switch ( v45 )
      {
        case 2:
          *v43 = 20;
          break;
        case 3:
          *v43 = 41;
          break;
        case 4:
          *v43 = 51;
          break;
        case 6:
          *v43 = 21;
          break;
      }
    }
    else
    {
      *v43 = 50;
    }
    if ( v47 == 16 )
    {
      sub_44B817((int)v55);
      switch ( *v4 )
      {
        case 20:
          *v4 = 909201952;
          break;
        case 21:
          *v4 = 36;
          break;
        case 50:
          *v4 = 81;
          break;
        default:
          if ( *v4 != 51 )
            return -2147467259;
          *v4 = 909200449;
          break;
      }
    }
    if ( v47 < 8 )
      sub_44B82B((int)v55);
    if ( !v45 && v47 < 8 )
      sub_44B9D9((int)v55);
    if ( sub_44B66E((int)v55, v54, &v42) )
    {
      sub_44D02C((int)v55, v54, v42);
    }
    else if ( sub_44B642((int)v55, v54, &v37) )
    {
      sub_44B9A1((int)v55, 2.2, v37);
    }
    if ( *v4 != 41 && sub_44B5F3((int)v55, v54, 16) )
    {
      sub_44B9D9((int)v55);
      v6 = *v4;
      if ( *v4 == 20 )
      {
        *v4 = 21;
      }
      else
      {
        switch ( v6 )
        {
          case 50:
            *v4 = 51;
            break;
          case 81:
            *v4 = 909200449;
            break;
          case 909201952:
            *v4 = 36;
            break;
        }
      }
    }
    v7 = *v4;
    if ( *v4 == 20 || v7 == 909201952 || v7 == 21 )
      sub_44B80C((int)v55);
    if ( *v4 == 20 )
    {
      sub_44B862((int)v55, 0xFFu, 1);
      *v4 = 22;
    }
    sub_44B074(1, v55, v54);
    v8 = *v4;
    if ( *v4 <= 50 )
    {
      if ( *v4 != 50 )
      {
        v9 = v8 - 20;
        if ( v9 )
        {
          v10 = v9 - 1;
          if ( v10 )
          {
            v11 = v10 - 1;
            if ( v11 )
            {
              v12 = v11 - 14;
              if ( v12 )
              {
                if ( v12 != 5 )
                  goto LABEL_65;
                goto LABEL_57;
              }
            }
          }
          v53 = 4;
LABEL_65:
          v13 = sub_44B629((int)v55, v54);
          if ( v53 != (unsigned __int8)v13 )
            goto LABEL_66;
          v15 = v54;
          v4[3] = v44;
          v16 = v55;
          v4[4] = v50;
          v4[5] = 1;
          v17 = sub_44B610((int)v16, v15);
          v18 = v4[16] == 0;
          v4[12] = v17;
          v4[13] = 0;
          if ( !v18 )
          {
            v19 = operator new(v50 * v17);
            v4[1] = (int)v19;
            if ( !v19 || (v20 = 4 * v50, v4[14] = 1, (v49 = operator new(v20)) == 0) )
            {
LABEL_85:
              v14 = -2147024882;
              goto LABEL_96;
            }
            for ( i = 0; i < v50; ++i )
              *((_DWORD *)v49 + i) = v4[1] + i * v4[12];
            sub_44B416(v55, (int)v49);
            if ( *v4 == 41 )
            {
              v46 = 0;
              v48 = 0;
              if ( sub_44B5F3((int)v55, v54, 8) )
                sub_44B76D((int)v55, v54, &v52, &v48);
              if ( sub_44B5F3((int)v55, v54, 16) )
                sub_44B7A3((int)v55, v54, &v41, &v46, 0);
              if ( *((float *)v55 + 76) <= 0.000001 || *((float *)v55 + 77) <= 0.000001 )
              {
                v27 = 0;
                do
                {
                  v36[v27] = v27;
                  ++v27;
                }
                while ( v27 < 256 );
              }
              else
              {
                v22 = *((float *)v55 + 77);
                v51 = 0;
                v38 = 1.0 / (v22 * *((float *)v55 + 76));
                do
                {
                  v23 = (signed __int64)(pow((double)v51 * 0.00392156862745098, v38) * 255.0 + 0.5);
                  v24 = v51++;
                  v26 = __OFSUB__(v51, 256);
                  v25 = v51 - 256 < 0;
                  v36[v24] = v23;
                }
                while ( v25 ^ v26 );
              }
              v28 = operator new(0x400u);
              v4[2] = (int)v28;
              if ( !v28 )
                goto LABEL_85;
              v29 = 0;
              v18 = v46 == 0;
              v25 = v46 < 0;
              v4[15] = 1;
              if ( !v25 && !v18 )
              {
                v30 = 0;
                do
                {
                  v31 = 4 * v29;
                  *(_BYTE *)(v31 + v4[2]) = v36[*(_BYTE *)(v30 + v52)];
                  *(_BYTE *)(v31 + v4[2] + 1) = v36[*(_BYTE *)(v30 + v52 + 1)];
                  *(_BYTE *)(v31 + v4[2] + 2) = v36[*(_BYTE *)(v30 + v52 + 2)];
                  v32 = *(_BYTE *)(v29++ + v41);
                  *(_BYTE *)(v31 + v4[2] + 3) = v32;
                  v30 += 3;
                }
                while ( v29 < v46 );
              }
              if ( v29 < v48 )
              {
                v33 = 3 * v29;
                do
                {
                  v34 = 4 * v29;
                  *(_BYTE *)(v34 + v4[2]) = v36[*(_BYTE *)(v33 + v52)];
                  *(_BYTE *)(v34 + v4[2] + 1) = v36[*(_BYTE *)(v33 + v52 + 1)];
                  *(_BYTE *)(v34 + v4[2] + 2) = v36[*(_BYTE *)(v33 + v52 + 2)];
                  *(_BYTE *)(v34 + v4[2] + 3) = -1;
                  ++v29;
                  v33 += 3;
                }
                while ( v29 < v48 );
              }
              if ( v29 < 256 )
              {
                v35 = 4 * v29;
                do
                {
                  *(_BYTE *)(v35 + v4[2]) = -1;
                  *(_BYTE *)(v35 + v4[2] + 1) = -1;
                  *(_BYTE *)(v35 + v4[2] + 2) = -1;
                  *(_BYTE *)(v35 + v4[2] + 3) = -1;
                  v35 += 4;
                }
                while ( v35 < 1024 );
              }
            }
          }
          v14 = 0;
          goto LABEL_96;
        }
LABEL_63:
        v53 = 3;
        goto LABEL_65;
      }
LABEL_57:
      v53 = 1;
      goto LABEL_65;
    }
    if ( v8 != 51 )
    {
      if ( v8 == 81 )
        goto LABEL_57;
      if ( v8 != 909200449 )
      {
        if ( v8 != 909201952 )
          goto LABEL_65;
        goto LABEL_63;
      }
    }
    v53 = 2;
    goto LABEL_65;
  }
LABEL_66:
  v14 = -2147467259;
LABEL_96:
  if ( v55 )
    sub_44B576((void **)&v55, (void **)&v54, 0);
  if ( v49 )
    j__free(v49);
  return v14;
}
// 42775C: using guessed type int nullsub_2();
// 437E91: using guessed type char var_154[256];

//----- (004383E2) --------------------------------------------------------
signed int __thiscall sub_4383E2(int this, int a2, unsigned int a3)
{
  int v3; // ebx@1
  signed int v5; // eax@6
  int v6; // eax@10
  signed int v7; // ecx@16
  int *v8; // eax@18
  int v9; // eax@35
  _DWORD *v10; // eax@36
  unsigned int v11; // esi@44
  unsigned int v12; // edi@45
  void *v13; // eax@47
  int v14; // eax@48
  signed int v15; // ebx@53
  signed int v16; // eax@54
  void *v17; // eax@56
  int v18; // eax@57
  int v19; // eax@67
  int v20; // ecx@68
  int v21; // edx@69
  _DWORD *v22; // [sp+8h] [bp-2Ch]@36
  int v23; // [sp+Ch] [bp-28h]@41
  int v24; // [sp+10h] [bp-24h]@1
  unsigned int v25; // [sp+14h] [bp-20h]@14
  int v26; // [sp+18h] [bp-1Ch]@18
  unsigned int v27; // [sp+1Ch] [bp-18h]@11
  int v28; // [sp+20h] [bp-14h]@43
  unsigned int v29; // [sp+24h] [bp-10h]@52
  unsigned int v30; // [sp+28h] [bp-Ch]@45
  int v31; // [sp+2Ch] [bp-8h]@35
  int v32; // [sp+30h] [bp-4h]@5
  unsigned int v33; // [sp+3Ch] [bp+8h]@45
  unsigned int v34; // [sp+40h] [bp+Ch]@3
  unsigned int v35; // [sp+40h] [bp+Ch]@5

  v3 = this;
  v24 = this;
  if ( a3 < 4 )
    return -2147467259;
  if ( *(_DWORD *)a2 != 542327876 )
    return -2147467259;
  v34 = a3 - 4;
  if ( v34 < 0x7C )
    return -2147467259;
  v35 = v34 - 124;
  v32 = a2 + 128;
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 12);
  if ( *(_BYTE *)(a2 + 10) & 0x80 )
    v5 = *(_DWORD *)(a2 + 24);
  else
    v5 = 1;
  *(_DWORD *)(this + 20) = v5;
  if ( !v5 )
    *(_DWORD *)(this + 20) = 1;
  v6 = *(_DWORD *)(a2 + 112) & 0xFC00;
  if ( v6 == 64512 )
  {
    v27 = 6;
  }
  else
  {
    if ( v6 )
      return -2147467259;
    v27 = 1;
  }
  v25 = *(_DWORD *)(a2 + 28);
  if ( !*(_DWORD *)(a2 + 28) )
    v25 = 1;
  v7 = *(_DWORD *)(a2 + 80);
  if ( v7 & 4 )
    v7 = 4;
  v26 = v7 & 0xC4040;
  v8 = &dword_529E50;
  if ( dword_529E50 )
  {
    do
    {
      if ( *(_DWORD *)(a2 + 76) == 32
        && v8[2] == v7
        && (!(v7 & 4) || *(_DWORD *)(a2 + 84) == v8[3])
        && (!(v7 & 0xC4462) || *(_DWORD *)(a2 + 88) == v8[4])
        && (!(v7 & 0xE4040) || *(_DWORD *)(a2 + 92) == v8[5])
        && (!(v7 & 0xC4440) || *(_DWORD *)(a2 + 96) == v8[6])
        && (!v26 || *(_DWORD *)(a2 + 100) == v8[7])
        && (!(v7 & 0x80003) || *(_DWORD *)(a2 + 104) == v8[8]) )
      {
        break;
      }
      v8 += 9;
    }
    while ( *v8 );
    v3 = v24;
  }
  v9 = *v8;
  v31 = v9;
  if ( v9 )
  {
    v10 = sub_434A26(v9);
    v22 = v10;
    if ( *(_BYTE *)(a2 + 10) & 0x80 )
      *(_DWORD *)(v3 + 68) = 4;
    else
      *(_DWORD *)(v3 + 68) = 2 * (v27 == 6) + 3;
    if ( v10[1] != 1 )
    {
      v23 = 0;
      goto LABEL_43;
    }
    if ( v35 >= 0x400 )
    {
      v32 = a2 + 1152;
      v35 -= 1024;
      v23 = a2 + 128;
LABEL_43:
      v28 = 0;
      if ( v27 <= 0 )
        return 0;
      v11 = v35;
      while ( 1 )
      {
        v12 = *(_DWORD *)(v3 + 12);
        v30 = *(_DWORD *)(v3 + 16);
        v33 = *(_DWORD *)(v3 + 20);
        if ( v28 )
        {
          v13 = operator new(0x54u);
          if ( v13 )
            v14 = sub_43616C((int)v13);
          else
            v14 = 0;
          if ( !v14 )
            return -2147024882;
          *(_DWORD *)(v26 + 80) = v14;
          v26 = v14;
        }
        else
        {
          v26 = v3;
        }
        v29 = 0;
        if ( !v25 )
          goto LABEL_89;
        v15 = v30;
        do
        {
          v16 = v31;
          if ( v29 )
          {
            v17 = operator new(0x54u);
            if ( v17 )
              v18 = sub_43616C((int)v17);
            else
              v18 = 0;
            if ( !v18 )
              return -2147024882;
            *(_DWORD *)(v11 + 76) = v18;
            v11 = v18;
            v16 = v31;
          }
          else
          {
            v11 = v26;
          }
          if ( v16 > 877942852 )
          {
            if ( v16 == 894720068 )
            {
LABEL_67:
              v19 = 16 * ((v12 + 3) >> 2);
LABEL_68:
              v20 = v19 * ((unsigned int)(v15 + 3) >> 2);
              goto LABEL_69;
            }
            if ( v16 == 1111970375 || v16 == 1195525970 || v16 == 1498831189 )
            {
LABEL_78:
              v19 = 4 * ((v12 + 1) >> 1);
              goto LABEL_79;
            }
          }
          else
          {
            if ( v16 == 877942852 )
              goto LABEL_67;
            if ( v16 == 827611204 )
            {
              v19 = 8 * ((v12 + 3) >> 2);
              goto LABEL_68;
            }
            if ( v16 == 844388420 )
              goto LABEL_67;
            if ( v16 == 844715353 )
              goto LABEL_78;
            if ( v16 == 861165636 )
              goto LABEL_67;
          }
          v19 = v12 * (v22[2] >> 3);
LABEL_79:
          v20 = v15 * v19;
LABEL_69:
          *(_DWORD *)(v11 + 56) = 0;
          *(_DWORD *)(v11 + 60) = 0;
          v21 = v33 * v20;
          *(_DWORD *)v11 = v31;
          *(_DWORD *)(v11 + 48) = v19;
          *(_DWORD *)(v11 + 4) = v32;
          *(_DWORD *)(v11 + 20) = v33;
          *(_DWORD *)(v11 + 52) = v20;
          *(_DWORD *)(v11 + 12) = v12;
          *(_DWORD *)(v11 + 16) = v30;
          *(_DWORD *)(v11 + 8) = v23;
          if ( v35 < v33 * v20 )
            return -2147467259;
          v32 += v21;
          v35 -= v21;
          if ( v12 == 1 )
            v12 = 1;
          else
            v12 >>= 1;
          if ( v30 == 1 )
            v15 = 1;
          else
            v15 = v30 >> 1;
          v30 = v15;
          if ( v33 == 1 )
            v33 = 1;
          else
            v33 >>= 1;
          ++v29;
        }
        while ( v29 < v25 );
        v3 = v24;
LABEL_89:
        if ( ++v28 >= v27 )
          return 0;
      }
    }
  }
  return -2147467259;
}
// 529E50: using guessed type int dword_529E50;

//----- (0043874E) --------------------------------------------------------
int __thiscall sub_43874E(int *this, HANDLE hFile)
{
  int *v2; // esi@1
  int *i; // eax@1
  int v4; // eax@3
  int *v5; // ebx@3
  int v6; // ecx@4
  int result; // eax@8
  _DWORD *v8; // eax@9
  int v9; // eax@9
  int v10; // esi@13
  unsigned int v11; // eax@17
  int j; // esi@22
  bool v13; // zf@23
  unsigned int v14; // eax@24
  int v15; // edi@25
  int v16; // eax@26
  unsigned int v17; // eax@32
  DWORD v18; // ecx@32
  const void *v19; // eax@33
  int v20; // [sp+Ch] [bp-20h]@9
  int v21; // [sp+10h] [bp-1Ch]@9
  int v22; // [sp+14h] [bp-18h]@9
  int v23; // [sp+18h] [bp-14h]@9
  unsigned int v24; // [sp+20h] [bp-Ch]@18
  int v25; // [sp+24h] [bp-8h]@14
  char v26; // [sp+54h] [bp+28h]@9
  int v27; // [sp+74h] [bp+48h]@9
  char v28; // [sp+79h] [bp+4Dh]@16
  char v29; // [sp+7Ah] [bp+4Eh]@18
  int Buffer; // [sp+88h] [bp+5Ch]@9
  int v31; // [sp+8Ch] [bp+60h]@1
  int v32; // [sp+90h] [bp+64h]@9
  DWORD NumberOfBytesWritten; // [sp+94h] [bp+68h]@9
  _DWORD *v34; // [sp+98h] [bp+6Ch]@9
  int v35; // [sp+9Ch] [bp+70h]@1

  v2 = this;
  v31 = (int)this;
  v35 = 0;
  for ( i = this; i; ++v35 )
    i = (int *)i[19];
  v4 = dword_529E50;
  v5 = &dword_529E50;
  if ( dword_529E50 )
  {
    v6 = *this;
    do
    {
      if ( v4 == v6 )
        break;
      v5 += 9;
      v4 = *v5;
    }
    while ( *v5 );
  }
  if ( *v5 )
  {
    v8 = sub_434A26(*v2);
    v34 = v8;
    v32 = v8[2] >> 3;
    Buffer = 542327876;
    WriteFile(hFile, &Buffer, 4u, &NumberOfBytesWritten, 0);
    memset(&v20, 0, 0x7Cu);
    v22 = v2[4];
    v23 = v2[3];
    v9 = v5[2];
    v20 = 124;
    v21 = 4103;
    qmemcpy(&v26, v5 + 1, 0x20u);
    v27 = 4096;
    if ( v9 & 3 )
      v27 = 4098;
    if ( v9 & 0x20 )
      BYTE1(v27) |= 1u;
    v10 = v31;
    if ( *(_DWORD *)(v31 + 76) )
    {
      v27 |= (unsigned int)&word_400008;
      v21 = 135175;
      v25 = v35;
    }
    if ( *(_DWORD *)(v31 + 80) )
    {
      v27 |= 8u;
      v28 |= 0xFEu;
    }
    v11 = *(_DWORD *)(v31 + 20);
    if ( v11 > 1 )
    {
      BYTE2(v21) |= 0x80u;
      v29 |= 0x20u;
      v24 = v11;
    }
    WriteFile(hFile, &v20, 0x7Cu, &NumberOfBytesWritten, 0);
    if ( v34[1] == 1 )
      WriteFile(hFile, *(LPCVOID *)(v10 + 8), 0x400u, &NumberOfBytesWritten, 0);
    v34 = (_DWORD *)v10;
    do
    {
      for ( j = (int)v34; j; j = *(_DWORD *)(j + 76) )
      {
        v13 = *(_DWORD *)(j + 20) == 0;
        v35 = 0;
        if ( !v13 )
        {
          v14 = *(_DWORD *)(j + 16);
          while ( 1 )
          {
            v15 = 0;
            if ( v14 )
              break;
LABEL_35:
            if ( (unsigned int)++v35 >= *(_DWORD *)(j + 20) )
              goto LABEL_36;
          }
          while ( 2 )
          {
            v16 = *(_DWORD *)v31;
            if ( *(_DWORD *)v31 > 877942852 )
            {
              if ( v16 != 894720068 )
              {
                if ( v16 != 1111970375 && v16 != 1195525970 && v16 != 1498831189 )
                  goto LABEL_46;
                goto LABEL_47;
              }
LABEL_32:
              v17 = 16 * (*(_DWORD *)(j + 24) >> 2)
                  + *(_DWORD *)(j + 52) * (v35 + *(_DWORD *)(j + 40))
                  + *(_DWORD *)(j + 48) * ((unsigned int)(v15 + *(_DWORD *)(j + 28)) >> 2);
              v18 = 16 * ((unsigned int)(*(_DWORD *)(j + 12) + 3) >> 2);
            }
            else
            {
              if ( *(_DWORD *)v31 == 877942852 )
                goto LABEL_32;
              if ( v16 != 827611204 )
              {
                if ( v16 == 844388420 )
                  goto LABEL_32;
                if ( v16 != 844715353 )
                {
                  if ( v16 == 861165636 )
                    goto LABEL_32;
LABEL_46:
                  v19 = (const void *)(*(_DWORD *)(j + 4)
                                     + v32 * *(_DWORD *)(j + 24)
                                     + *(_DWORD *)(j + 48) * (v15 + *(_DWORD *)(j + 28))
                                     + *(_DWORD *)(j + 52) * (v35 + *(_DWORD *)(j + 40)));
                  v18 = v32 * *(_DWORD *)(j + 12);
LABEL_34:
                  WriteFile(hFile, v19, v18, &NumberOfBytesWritten, 0);
                  v14 = *(_DWORD *)(j + 16);
                  if ( ++v15 >= v14 )
                    goto LABEL_35;
                  continue;
                }
LABEL_47:
                v19 = (const void *)(*(_DWORD *)(j + 4)
                                   + v32 * *(_DWORD *)(j + 24)
                                   + *(_DWORD *)(j + 48) * (v15 + *(_DWORD *)(j + 28))
                                   + *(_DWORD *)(j + 52) * (v35 + *(_DWORD *)(j + 40)));
                v18 = 4 * ((unsigned int)(*(_DWORD *)(j + 12) + 1) >> 1);
                goto LABEL_34;
              }
              v17 = *(_DWORD *)(j + 52) * (v35 + *(_DWORD *)(j + 40))
                  + *(_DWORD *)(j + 48) * ((unsigned int)(v15 + *(_DWORD *)(j + 28)) >> 2)
                  + 8 * (*(_DWORD *)(j + 24) >> 2);
              v18 = 8 * ((unsigned int)(*(_DWORD *)(j + 12) + 3) >> 2);
            }
            break;
          }
          v19 = (const void *)(*(_DWORD *)(j + 4) + v17);
          v15 += 3;
          goto LABEL_34;
        }
LABEL_36:
        ;
      }
      v34 = (_DWORD *)v34[20];
    }
    while ( v34 );
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 400008: using guessed type __int16 word_400008;
// 529E50: using guessed type int dword_529E50;

//----- (00438A1D) --------------------------------------------------------
void *__stdcall sub_438A1D(int a1)
{
  int v1; // esi@1
  void *result; // eax@1

  v1 = *(_DWORD *)(a1 + 24);
  result = operator new(0x1000u);
  *(_DWORD *)(v1 + 24) = result;
  *(_DWORD *)v1 = result;
  *(_DWORD *)(v1 + 4) = 4096;
  return result;
}

//----- (00438A40) --------------------------------------------------------
int __stdcall sub_438A40(DWORD NumberOfBytesWritten)
{
  int v1; // esi@1

  v1 = *(_DWORD *)(NumberOfBytesWritten + 24);
  WriteFile(*(HANDLE *)(v1 + 20), *(LPCVOID *)(v1 + 24), 0x1000u, &NumberOfBytesWritten, 0);
  *(_DWORD *)v1 = *(_DWORD *)(v1 + 24);
  *(_DWORD *)(v1 + 4) = 4096;
  return 1;
}

//----- (00438A75) --------------------------------------------------------
int __stdcall sub_438A75(DWORD NumberOfBytesWritten)
{
  int result; // eax@1

  result = *(_DWORD *)(NumberOfBytesWritten + 24);
  if ( 4096 != *(_DWORD *)(result + 4) )
    result = WriteFile(
               *(HANDLE *)(result + 20),
               *(LPCVOID *)(result + 24),
               4096 - *(_DWORD *)(result + 4),
               &NumberOfBytesWritten,
               0);
  return result;
}

//----- (00438A9F) --------------------------------------------------------
int __thiscall sub_438A9F(int *this, int a2)
{
  int v2; // ST08_4@1
  int v3; // esi@3
  int v4; // ecx@5
  unsigned int v5; // eax@5
  unsigned int v6; // edi@5
  bool v7; // zf@6
  int v8; // eax@7
  int v9; // ecx@8
  int (__cdecl *v11)(int); // [sp+Ch] [bp-278h]@1
  int (__stdcall *v12)(int); // [sp+14h] [bp-270h]@1
  char v13; // [sp+90h] [bp-1F4h]@1
  int v14; // [sp+D0h] [bp-1B4h]@1
  char *v15; // [sp+E8h] [bp-19Ch]@3
  int v16; // [sp+ECh] [bp-198h]@3
  int v17; // [sp+F0h] [bp-194h]@3
  int v18; // [sp+F4h] [bp-190h]@3
  int v19; // [sp+F8h] [bp-18Ch]@3
  double v20; // [sp+100h] [bp-184h]@3
  char v21; // [sp+250h] [bp-34h]@3
  void *(__stdcall *v22)(int); // [sp+258h] [bp-2Ch]@1
  int (__stdcall *v23)(DWORD); // [sp+25Ch] [bp-28h]@1
  int (__stdcall *v24)(DWORD); // [sp+260h] [bp-24h]@1
  int v25; // [sp+264h] [bp-20h]@1
  void *v26; // [sp+268h] [bp-1Ch]@1
  int v27; // [sp+26Ch] [bp-18h]@1
  int *v28; // [sp+270h] [bp-14h]@1
  int v29; // [sp+274h] [bp-10h]@1
  unsigned int v30; // [sp+278h] [bp-Ch]@8
  unsigned int v31; // [sp+27Ch] [bp-8h]@6
  void *v32; // [sp+280h] [bp-4h]@1

  v2 = *this;
  v28 = this;
  v29 = 0;
  v32 = 0;
  v25 = a2;
  v26 = 0;
  v22 = sub_438A1D;
  v23 = sub_438A40;
  v24 = sub_438A75;
  v27 = sub_434A26(v2)[2] >> 3;
  sub_44D270((int)&v14, 62, 384);
  v14 = sub_44ACA0((int)&v11);
  v11 = sub_43736B;
  v12 = nullsub_1;
  if ( _setjmp3(&v13, 0) )
  {
    v29 = -2147467259;
  }
  else
  {
    v19 = 2;
    sub_44DE00((int)&v14);
    v3 = (int)v28;
    v20 = 2.2;
    v16 = v28[4];
    v17 = v28[3];
    v15 = &v21;
    v18 = 3;
    sub_44D490((int)&v14, 1);
    v32 = operator new(3 * *(_DWORD *)(v3 + 12));
    if ( v32 )
    {
      v4 = *(_DWORD *)(v3 + 48);
      v5 = *(_DWORD *)(v3 + 4) + v27 * *(_DWORD *)(v3 + 24) + v4 * *(_DWORD *)(v3 + 28);
      v6 = v5 + v4 * *(_DWORD *)(v3 + 16);
      while ( 1 )
      {
        v30 = v5;
        if ( v5 >= v6 )
          break;
        v7 = *(_DWORD *)(v3 + 12) == 0;
        v31 = 0;
        if ( !v7 )
        {
          v8 = 0;
          do
          {
            v9 = *(_DWORD *)(v30 + 4 * v31);
            *((_BYTE *)v32 + v8) = *(_DWORD *)(v30 + 4 * v31++) >> 16;
            *((_BYTE *)v32 + v8 + 1) = BYTE1(v9);
            *((_BYTE *)v32 + v8 + 2) = v9;
            v8 += 3;
          }
          while ( v31 < *(_DWORD *)(v3 + 12) );
        }
        sub_44D500((int)&v14, (int)&v32, 1u);
        v5 = *(_DWORD *)(v3 + 48) + v30;
      }
      sub_44D3B0(v6, (int)&v14);
      sub_44D330(&v14);
    }
    else
    {
      v29 = -2147024882;
    }
  }
  j__free(v32);
  j__free(v26);
  return v29;
}
// 424CE8: using guessed type int __stdcall nullsub_1(int);
// 43736B: using guessed type int __cdecl sub_43736B(int);
// 44D330: using guessed type _DWORD __stdcall sub_44D330(_DWORD);

//----- (00438C67) --------------------------------------------------------
int __thiscall sub_438C67(void *this, LPCWSTR lpWideCharStr, int a3, LPSTR lpMultiByteStr)
{
  int v4; // edi@1
  int v5; // ebx@1
  int *v6; // esi@8
  _DWORD *v7; // eax@9
  int v8; // eax@9
  int v9; // esi@9
  int v10; // eax@11
  int v11; // ebx@12
  signed int v12; // esi@14
  int v13; // eax@22
  int v15; // [sp+Ch] [bp-64h]@14
  int v16; // [sp+10h] [bp-60h]@14
  int v17; // [sp+14h] [bp-5Ch]@14
  int v18; // [sp+18h] [bp-58h]@14
  char v19; // [sp+1Ch] [bp-54h]@14
  char v20; // [sp+34h] [bp-3Ch]@14
  int v21; // [sp+4Ch] [bp-24h]@14
  int v22; // [sp+54h] [bp-1Ch]@14
  int v23; // [sp+58h] [bp-18h]@14
  void *v24; // [sp+5Ch] [bp-14h]@14
  int v25; // [sp+60h] [bp-10h]@14
  int v26; // [sp+64h] [bp-Ch]@14
  int v27; // [sp+68h] [bp-8h]@14
  int v28; // [sp+6Ch] [bp-4h]@14
  int v29; // [sp+70h] [bp+0h]@14
  int v30; // [sp+74h] [bp+4h]@14
  int v31; // [sp+78h] [bp+8h]@14
  int v32; // [sp+7Ch] [bp+Ch]@14
  int v33; // [sp+80h] [bp+10h]@14
  char v34; // [sp+84h] [bp+14h]@14
  int v35; // [sp+9Ch] [bp+2Ch]@14
  int v36; // [sp+A4h] [bp+34h]@14
  int v37; // [sp+A8h] [bp+38h]@14
  char v38; // [sp+ACh] [bp+3Ch]@11
  HANDLE hFile; // [sp+B8h] [bp+48h]@1
  int v40; // [sp+C8h] [bp+58h]@1
  int v41; // [sp+CCh] [bp+5Ch]@9
  void *v42; // [sp+D0h] [bp+60h]@13
  int v43; // [sp+D4h] [bp+64h]@11
  int v44; // [sp+D8h] [bp+68h]@11

  v4 = (int)this;
  v40 = (int)this;
  sub_44897F((int)&hFile);
  v5 = a3;
  if ( !a3 )
  {
LABEL_8:
    v6 = (int *)&unk_529D38;
    goto LABEL_9;
  }
  if ( a3 == 1 )
  {
    v6 = (int *)&unk_529D30;
  }
  else
  {
    if ( a3 <= 1 || a3 <= 3 )
      goto LABEL_29;
    if ( a3 != 4 )
    {
      if ( a3 == 5 || a3 != 6 )
        goto LABEL_29;
      goto LABEL_8;
    }
    v6 = (int *)&unk_529D88;
  }
LABEL_9:
  v7 = sub_434A26(*(_DWORD *)v4);
  v8 = sub_434AC1(v6, *(_DWORD *)(v4 + 8), (int)v7);
  v9 = v8;
  v41 = v8;
  if ( !v8 )
  {
LABEL_29:
    v12 = -2005530516;
    goto LABEL_39;
  }
  if ( v8 == *(_DWORD *)v4 )
  {
LABEL_22:
    v13 = sub_448991(&hFile, lpWideCharStr, lpMultiByteStr);
    v12 = 0;
    if ( v13 >= 0 )
    {
      if ( v5 )
      {
        if ( v5 == 1 )
        {
          v13 = sub_438A9F((int *)v4, (int)hFile);
        }
        else if ( v5 == 4 )
        {
          v13 = sub_43874E((int *)v4, hFile);
        }
        else
        {
          if ( v5 != 6 )
          {
            v13 = -2147467263;
            goto LABEL_38;
          }
          v13 = sub_436DFB((_DWORD *)v4, hFile, 0);
        }
      }
      else
      {
        v13 = sub_436DFB((_DWORD *)v4, hFile, 1u);
      }
      if ( v13 >= 0 )
        goto LABEL_39;
    }
LABEL_38:
    v12 = v13;
    goto LABEL_39;
  }
  sub_439116((int)&v38);
  v10 = sub_434A26(v9)[2] >> 3;
  v44 = v10;
  v43 = v4;
  while ( 1 )
  {
    v11 = v43;
    if ( v43 )
      break;
LABEL_20:
    v43 = *(_DWORD *)(v43 + 80);
    if ( !v43 )
    {
      sub_439120((int)&v38);
      v5 = a3;
      goto LABEL_22;
    }
  }
  while ( 1 )
  {
    v42 = operator new(*(_DWORD *)(v11 + 20) * v10 * *(_DWORD *)(v11 + 16) * *(_DWORD *)(v11 + 12));
    if ( !v42 )
    {
      sub_439120((int)&v38);
      v12 = -2147024882;
      goto LABEL_39;
    }
    v15 = *(_DWORD *)(v11 + 4);
    v16 = *(_DWORD *)v11;
    v17 = *(_DWORD *)(v11 + 48);
    v18 = *(_DWORD *)(v11 + 52);
    qmemcpy(&v19, (const void *)(v11 + 24), 0x18u);
    qmemcpy(&v20, (const void *)(v11 + 24), 0x18u);
    v22 = 0;
    v21 = 1;
    v23 = *(_DWORD *)(v11 + 8);
    v24 = v42;
    v25 = v41;
    v26 = v44 * *(_DWORD *)(v11 + 12);
    v27 = v44 * *(_DWORD *)(v11 + 16) * *(_DWORD *)(v11 + 12);
    v28 = 0;
    v29 = 0;
    v30 = *(_DWORD *)(v11 + 12);
    v31 = *(_DWORD *)(v11 + 16);
    v32 = 0;
    v33 = *(_DWORD *)(v11 + 20);
    qmemcpy(&v34, &v28, 0x18u);
    v36 = 0;
    v35 = 1;
    v37 = *(_DWORD *)(v11 + 8);
    v12 = sub_43CBC4((int)&v38, (int)&v24, (int)&v15, 524289);
    if ( v12 < 0 )
      break;
    if ( *(_DWORD *)(v11 + 4) && *(_DWORD *)(v11 + 56) )
    {
      j__free(*(void **)(v11 + 4));
      *(_DWORD *)(v11 + 4) = 0;
    }
    *(_DWORD *)v11 = v41;
    *(_DWORD *)(v11 + 4) = v42;
    qmemcpy((void *)(v11 + 24), &v34, 0x18u);
    *(_DWORD *)(v11 + 48) = v26;
    *(_DWORD *)(v11 + 52) = v27;
    v10 = v44;
    *(_DWORD *)(v11 + 56) = 1;
    v11 = *(_DWORD *)(v11 + 76);
    if ( !v11 )
    {
      v4 = v40;
      goto LABEL_20;
    }
  }
  j__free(v42);
  sub_439120((int)&v38);
LABEL_39:
  sub_448AAA((int)&hFile);
  return v12;
}

//----- (00438EFD) --------------------------------------------------------
signed int __thiscall sub_438EFD(void *this, int a2, unsigned int a3)
{
  signed int result; // eax@4

  if ( a3 < 0xE || *(_WORD *)a2 != 19778 || *(_DWORD *)(a2 + 2) > a3 )
    result = -2147467259;
  else
    result = sub_4362CF(this, a2 + 14, a3 - 14);
  return result;
}

//----- (00438F2D) --------------------------------------------------------
signed int __thiscall sub_438F2D(void *this, char *a2, unsigned int a3, signed int a4, int a5)
{
  char *v5; // edx@1
  int v6; // esi@1
  unsigned int v7; // ecx@2
  signed int v8; // ebx@3
  int v9; // eax@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // eax@10
  int v13; // eax@11
  int v14; // eax@12
  signed int v15; // eax@14
  void *v16; // ecx@29
  void *v17; // ecx@31
  bool v18; // cf@33
  _DWORD *i; // eax@37
  int j; // eax@40
  int v22; // ecx@41
  int v23; // [sp+Ch] [bp-20h]@5
  int v24; // [sp+10h] [bp-1Ch]@5
  int v25; // [sp+14h] [bp-18h]@5
  int v26; // [sp+18h] [bp-14h]@5
  int v27; // [sp+1Ch] [bp-10h]@5
  int v28; // [sp+20h] [bp-Ch]@5
  int v29; // [sp+24h] [bp-8h]@5
  int v30; // [sp+28h] [bp-4h]@5

  v5 = a2;
  v6 = (int)this;
  if ( !a2 )
    return -2005530516;
  v7 = a3;
  if ( !a3 )
    return -2005530516;
  v8 = a4;
  if ( !a4 && !a5 )
    return 0;
  v23 = 0;
  v24 = 5;
  v25 = 4;
  v26 = 1;
  v27 = 3;
  v28 = 2;
  v29 = 6;
  v30 = 0;
  while ( 1 )
  {
    *(_DWORD *)(v6 + 64) = a5;
    v9 = *(&v23 + v30);
    *(_DWORD *)(v6 + 72) = v9;
    *(_DWORD *)(v6 + 68) = 3;
    if ( !v9 )
    {
      v15 = sub_438EFD((void *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v10 = v9 - 1;
    if ( !v10 )
    {
      v15 = sub_4373CE((_DWORD *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v11 = v10 - 1;
    if ( !v11 )
    {
      v15 = sub_437646((void *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v12 = v11 - 1;
    if ( !v12 )
    {
      v15 = sub_437E91((int *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v13 = v12 - 1;
    if ( !v13 )
    {
      v15 = sub_4383E2(v6, (int)v5, v7);
      goto LABEL_21;
    }
    v14 = v13 - 1;
    if ( !v14 )
    {
      v15 = sub_437BBE((_DWORD *)v6, v5, v7);
      goto LABEL_21;
    }
    if ( v14 == 1 )
    {
      v15 = sub_4362CF((void *)v6, (int)v5, v7);
LABEL_21:
      a4 = v15;
    }
    if ( a4 >= 0 )
      break;
    if ( *(_DWORD *)(v6 + 4) && *(_DWORD *)(v6 + 56) )
      j__free(*(void **)(v6 + 4));
    if ( *(_DWORD *)(v6 + 8) && *(_DWORD *)(v6 + 60) )
      j__free(*(void **)(v6 + 8));
    v16 = *(void **)(v6 + 76);
    if ( v16 )
      sub_4361DE(v16, 1);
    v17 = *(void **)(v6 + 80);
    if ( v17 )
      sub_4361DE(v17, 1);
    v18 = (unsigned int)++v30 < 7;
    *(_DWORD *)(v6 + 4) = 0;
    *(_DWORD *)(v6 + 8) = 0;
    *(_DWORD *)(v6 + 56) = 0;
    *(_DWORD *)(v6 + 60) = 0;
    *(_DWORD *)(v6 + 76) = 0;
    *(_DWORD *)(v6 + 80) = 0;
    if ( !v18 )
      break;
    v7 = a3;
    v5 = a2;
  }
  if ( v30 == 7 )
    return -2005529767;
  if ( v8 )
  {
    memset((void *)v8, 0, 0x1Cu);
    *(_DWORD *)v8 = *(_DWORD *)(v6 + 12);
    *(_DWORD *)(v8 + 4) = *(_DWORD *)(v6 + 16);
    *(_DWORD *)(v8 + 8) = *(_DWORD *)(v6 + 20);
    *(_DWORD *)(v8 + 12) = 1;
    *(_DWORD *)(v8 + 16) = sub_434C2C(*(_DWORD *)v6);
    *(_DWORD *)(v8 + 20) = *(_DWORD *)(v6 + 68);
    *(_DWORD *)(v8 + 24) = *(_DWORD *)(v6 + 72);
    for ( i = (_DWORD *)(v6 + 76); *i; i = (_DWORD *)(*i + 76) )
      ++*(_DWORD *)(v8 + 12);
  }
  do
  {
    for ( j = v6; j; j = *(_DWORD *)(j + 76) )
    {
      *(_DWORD *)(j + 32) = *(_DWORD *)(j + 12);
      *(_DWORD *)(j + 36) = *(_DWORD *)(j + 16);
      v22 = *(_DWORD *)(j + 20);
      *(_DWORD *)(j + 24) = 0;
      *(_DWORD *)(j + 28) = 0;
      *(_DWORD *)(j + 40) = 0;
      *(_DWORD *)(j + 44) = v22;
    }
    v6 = *(_DWORD *)(v6 + 80);
  }
  while ( v6 );
  return 0;
}

//----- (00439116) --------------------------------------------------------
int __thiscall sub_439116(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = 0;
  return result;
}

//----- (00439120) --------------------------------------------------------
int __thiscall sub_439120(int this)
{
  int (__stdcall ****v1)(_DWORD); // esi@1
  int (__stdcall ***v2)(_DWORD); // ecx@1
  int result; // eax@2

  v1 = (int (__stdcall ****)(_DWORD))this;
  v2 = *(int (__stdcall ****)(_DWORD))(this + 4);
  if ( v2 )
    result = (**v2)(1);
  if ( *v1 )
    result = (***v1)(1);
  return result;
}

//----- (0043913E) --------------------------------------------------------
double __stdcall sub_43913E(float a1)
{
  return floor(a1);
}

//----- (0043915A) --------------------------------------------------------
_DWORD *__stdcall sub_43915A(unsigned int a1, signed int a2, int a3)
{
  unsigned int v3; // edi@1
  double v4; // st7@3
  double v5; // st6@3
  size_t v6; // esi@3
  signed __int64 v7; // rax@4
  _DWORD *v8; // edi@5
  int v9; // ebx@6
  signed int v10; // esi@6
  float v11; // ST20_4@8
  double v12; // st7@8
  double v13; // st7@8
  float v14; // ST00_4@13
  signed int v15; // edx@13
  double v16; // st7@13
  int v17; // ecx@14
  int v18; // eax@22
  double v19; // st6@30
  int v20; // eax@39
  _DWORD *v22; // [sp+10h] [bp-3Ch]@7
  int v23; // [sp+14h] [bp-38h]@7
  float v24; // [sp+18h] [bp-34h]@3
  float v25; // [sp+1Ch] [bp-30h]@3
  float v26; // [sp+24h] [bp-28h]@3
  int i; // [sp+28h] [bp-24h]@14
  float v28; // [sp+2Ch] [bp-20h]@8
  float v29; // [sp+30h] [bp-1Ch]@3
  unsigned int v30; // [sp+34h] [bp-18h]@6
  float v31; // [sp+38h] [bp-14h]@16
  float v32; // [sp+3Ch] [bp-10h]@8
  unsigned int v33; // [sp+40h] [bp-Ch]@7
  float v34; // [sp+44h] [bp-8h]@8
  float v35; // [sp+48h] [bp-4h]@6

  v3 = 0;
  if ( a1 && a2 )
  {
    v29 = (double)(unsigned int)a2;
    v4 = (double)a1;
    v25 = v4;
    v5 = v29 / v4;
    v6 = 16;
    v26 = v5;
    v24 = 0.5 / v5;
    if ( a1 > 0 )
    {
      do
      {
        v7 = (signed __int64)(((double)v3 - 0.5) * v5 + v5 - ((double)v3 - 0.5) * v5 + (double)(a3 != 0) + 1.0);
        ++v3;
        v6 += 16 * v7 + 12;
      }
      while ( v3 < a1 );
    }
    v8 = operator new(v6);
    if ( v8 )
    {
      v9 = 0;
      v30 = 0;
      v35 = 0.0;
      v10 = 1;
      if ( !a1 )
        goto LABEL_41;
      while ( 1 )
      {
        v33 = 0;
        v22 = &v8[v10];
        v23 = v10 * 4;
        ++v10;
        do
        {
          v11 = (double)v30;
          v12 = (double)v33 + v11 - 0.5;
          v32 = v12;
          v13 = v12 * v26;
          v28 = v13;
          v34 = v26 + v13;
          if ( !a3 )
          {
            if ( v13 < 0.0 )
            {
              v13 = 0.0;
              v28 = 0.0;
            }
            if ( v34 > (double)v29 )
              v34 = (double)(unsigned int)a2;
          }
          v14 = v13;
          v15 = (signed __int64)sub_43913E(v14);
          v16 = (double)v15;
          if ( v16 < v34 )
          {
            v17 = v15 - a2;
            for ( i = v15 - a2; ; v17 = i )
            {
              v31 = v16 + 1.0;
              if ( v15 >= 0 )
              {
                if ( v15 < a2 )
                  v17 = v15;
              }
              else
              {
                v17 = v15 + a2;
              }
              if ( v17 != v9 )
              {
                if ( v35 > 0.0000099999997 )
                {
                  v18 = (int)&v8[v10];
                  *(_DWORD *)v18 = v9;
                  v10 += 2;
                  *(float *)(v18 + 4) = v35;
                }
                v9 = v17;
                v35 = 0.0;
              }
              if ( v16 < v28 )
                v16 = v28;
              if ( v31 > (double)v34 )
                v31 = v34;
              if ( a3 )
                goto LABEL_45;
              if ( v32 < 0.0 )
              {
                v19 = 1.0;
                goto LABEL_34;
              }
              if ( v32 + 1.0 < v25 )
LABEL_45:
                v19 = (v31 + v16) * v24 - v32;
              else
                v19 = 0.0;
LABEL_34:
              if ( v33 )
                v19 = 1.0 - v19;
              ++v15;
              ++i;
              v35 = (v31 - v16) * v19 + v35;
              v16 = (double)v15;
              if ( v16 >= v34 )
                break;
            }
          }
          ++v33;
        }
        while ( v33 < 2 );
        if ( v35 > 0.0000099999997 )
        {
          v20 = (int)&v8[v10];
          v10 += 2;
          *(_DWORD *)v20 = v9;
          *(float *)(v20 + 4) = v35;
        }
        v35 = 0.0;
        ++v30;
        *v22 = v10 * 4 - v23;
        if ( v30 >= a1 )
        {
LABEL_41:
          *v8 = v10 * 4;
          return v8;
        }
      }
    }
  }
  return 0;
}

//----- (00439416) --------------------------------------------------------
signed int __thiscall sub_439416(_DWORD *this)
{
  int v1; // edi@1
  unsigned int v2; // esi@1
  int v4; // eax@3
  unsigned int v5; // ecx@3
  int v6; // edx@5
  unsigned int v7; // ecx@12
  int v8; // esi@12
  unsigned int v9; // eax@13
  _DWORD *v10; // edx@13
  char *v11; // ebx@14
  int v12; // eax@15
  int v13; // ecx@16
  signed int v14; // [sp-8h] [bp-28h]@10
  unsigned int v15; // [sp+8h] [bp-18h]@12
  unsigned int v16; // [sp+Ch] [bp-14h]@3
  int v17; // [sp+Ch] [bp-14h]@12
  unsigned int v18; // [sp+10h] [bp-10h]@1
  unsigned int v19; // [sp+10h] [bp-10h]@12
  int v20; // [sp+14h] [bp-Ch]@12
  _DWORD *v21; // [sp+18h] [bp-8h]@1
  unsigned int v22; // [sp+18h] [bp-8h]@14
  char *v23; // [sp+1Ch] [bp-4h]@14

  v1 = *this;
  v2 = *(_DWORD *)(*this + 4156);
  v21 = this;
  v18 = *(_DWORD *)(*this + 4152);
  if ( ((unsigned __int8)v2 | (unsigned __int8)(*(_BYTE *)(*this + 4152) | *(_BYTE *)(*this + 4160) | *(_BYTE *)(*this + 4164))) & 3 )
    return -2147467259;
  v4 = this[1];
  v5 = *(_DWORD *)(v4 + 4156);
  v16 = *(_DWORD *)(v4 + 4152);
  if ( ((unsigned __int8)v5 | (unsigned __int8)(v16 | *(_BYTE *)(v4 + 4160) | *(_BYTE *)(v4 + 4164))) & 3 )
    return -2147467259;
  v6 = *(_DWORD *)(v4 + 4);
  if ( v6 == 827611204 )
  {
    v14 = 8;
  }
  else
  {
    if ( v6 != 844388420 && v6 != 861165636 && v6 != 877942852 && v6 != 894720068 )
      return -2147467259;
    v14 = 16;
  }
  v15 = v14 * (*(_DWORD *)(v4 + 4192) >> 2);
  v20 = *(_DWORD *)(v4 + 32)
      + v14 * (v16 >> 2)
      + *(_DWORD *)(v4 + 4168) * *(_DWORD *)(v4 + 4188)
      + *(_DWORD *)(v4 + 4184) * (v5 >> 2);
  v7 = v18;
  v19 = 0;
  v8 = *(_DWORD *)(v1 + 32)
     + v14 * (v7 >> 2)
     + *(_DWORD *)(v1 + 4168) * *(_DWORD *)(v1 + 4188)
     + *(_DWORD *)(v1 + 4184) * (v2 >> 2);
  v17 = v8;
  if ( *(_DWORD *)(v4 + 4200) )
  {
    v9 = *(_DWORD *)(v4 + 4196);
    v10 = v21;
    do
    {
      v22 = 0;
      v11 = (char *)v20;
      v23 = (char *)v8;
      if ( v9 )
      {
        do
        {
          v22 += 4;
          qmemcpy(v11, v23, v15);
          v12 = v10[1];
          v11 += *(_DWORD *)(v12 + 4184);
          v9 = *(_DWORD *)(v12 + 4196);
          v23 += *(_DWORD *)(*v10 + 4184);
        }
        while ( v22 < v9 );
      }
      v13 = v10[1];
      v20 += *(_DWORD *)(v13 + 4188);
      v8 = *(_DWORD *)(*v10 + 4188) + v17;
      ++v19;
      v17 += *(_DWORD *)(*v10 + 4188);
    }
    while ( v19 < *(_DWORD *)(v13 + 4200) );
  }
  return 0;
}

//----- (004395A4) --------------------------------------------------------
int __stdcall sub_4395A4(int *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  unsigned int v6; // edx@1
  int v7; // edi@1
  char *v8; // ecx@4
  unsigned int v9; // edx@5
  unsigned int v10; // edi@5
  unsigned int v11; // edx@5
  unsigned int v12; // ecx@5
  unsigned int v13; // ebx@5
  unsigned int v14; // esi@5
  int v15; // ecx@5
  int v16; // ebx@5
  int *v17; // ecx@5
  bool v18; // zf@5
  unsigned int v20; // [sp+4h] [bp-14h]@1
  unsigned int v21; // [sp+8h] [bp-10h]@4
  int v22; // [sp+Ch] [bp-Ch]@4
  int *v23; // [sp+14h] [bp-4h]@3
  unsigned int v24; // [sp+28h] [bp+10h]@5
  unsigned int v25; // [sp+2Ch] [bp+14h]@2

  v6 = a2;
  v7 = a5;
  v20 = a2 + a5 * a4;
  if ( a2 < a2 + a5 * a4 )
  {
    v25 = a2 + 4 * a3;
    do
    {
      v23 = a1;
      if ( v6 < v25 )
      {
        v8 = (char *)(v6 + 4);
        v22 = v6 + 4;
        v21 = ((v25 - v6 - 1) >> 3) + 1;
        do
        {
          v9 = *(_DWORD *)&v8[v7];
          v10 = *(_DWORD *)&v8[v7 - 4];
          v24 = v9;
          v11 = *(_DWORD *)v8;
          v12 = *((_DWORD *)v8 - 1);
          v13 = ((v24 >> 2) & 0xFFC03FC0)
              + ((v10 >> 2) & 0xFFC03FC0)
              + ((v12 >> 2) & 0xFFC03FC0)
              + ((v11 >> 2) & 0xFFC03FC0)
              - 8388480;
          v14 = (v24 & 0xFF00FF) + (v10 & 0xFF00FF) + (v12 & 0xFF00FF) + (v11 & 0xFF00FF) + 131074;
          v15 = ((v24 >> 2) & 0x3FC03FC0) + ((v10 >> 2) & 0x3FC03FC0) + ((v12 >> 2) & 0x3FC03FC0);
          v7 = a5;
          v16 = (v15 + ((v11 >> 2) & 0x3FC03FC0) + 8388736) ^ ((v14 >> 2) ^ v13) & 0xFF00FF;
          v17 = v23;
          ++v23;
          *v17 = v16;
          v8 = (char *)(v22 + 8);
          v18 = v21-- == 1;
          v22 += 8;
        }
        while ( !v18 );
        v6 = a2;
      }
      a1 = (int *)((char *)a1 + a6);
      v25 += 2 * v7;
      v6 += 2 * v7;
      a2 = v6;
    }
    while ( v6 < v20 );
  }
  return 0;
}

//----- (004396CC) --------------------------------------------------------
int __thiscall sub_4396CC(_DWORD *this)
{
  return off_52A534(
           *(_DWORD *)(this[1] + 32),
           *(_DWORD *)(*this + 32),
           *(_DWORD *)(*this + 4192),
           *(_DWORD *)(*this + 4196),
           *(_DWORD *)(*this + 4184),
           *(_DWORD *)(this[1] + 4184));
}
// 52A534: using guessed type int (__stdcall *off_52A534)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004396FA) --------------------------------------------------------
int __stdcall sub_4396FA(unsigned int *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  unsigned int v7; // edi@1
  char *v8; // esi@4
  unsigned int v9; // ebx@5
  unsigned int *v10; // eax@5
  bool v11; // zf@5
  unsigned int v13; // [sp+4h] [bp-14h]@1
  unsigned int v14; // [sp+Ch] [bp-Ch]@4
  unsigned int *v15; // [sp+28h] [bp+10h]@3
  unsigned int v16; // [sp+2Ch] [bp+14h]@2

  v6 = a5;
  v7 = a2;
  v13 = a2 + a5 * a4;
  if ( a2 < a2 + a5 * a4 )
  {
    v16 = a2 + 4 * a3;
    do
    {
      v15 = a1;
      if ( v7 < v16 )
      {
        v8 = (char *)(v7 + 4);
        v14 = ((v16 - v7 - 1) >> 3) + 1;
        do
        {
          v9 = ((*(_DWORD *)&v8[v6] & 0xFF00)
              + (*(_DWORD *)&v8[v6 - 4] & 0xFF00)
              + (*((_DWORD *)v8 - 1) & 0xFF00)
              + (*(_DWORD *)v8 & 0xFF00)
              + 512) & 0x3FC00 | ((*(_DWORD *)&v8[v6] & 0xFF00FF)
                                + (*(_DWORD *)&v8[v6 - 4] & 0xFF00FF)
                                + (*((_DWORD *)v8 - 1) & 0xFF00FF)
                                + (*(_DWORD *)v8 & 0xFF00FF)
                                + 131074) & 0x3FC03FC;
          v10 = v15;
          ++v15;
          v8 += 8;
          v11 = v14-- == 1;
          *v10 = v9 >> 2;
          v6 = a5;
        }
        while ( !v11 );
        v7 = a2;
      }
      a1 = (unsigned int *)((char *)a1 + a6);
      v16 += 2 * v6;
      v7 += 2 * v6;
      a2 = v7;
    }
    while ( v7 < v13 );
  }
  return 0;
}

//----- (004397E4) --------------------------------------------------------
int __stdcall sub_4397E4(int *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@2
  int v7; // eax@3
  int *i; // edx@3
  __m64 *v9; // edi@4
  __m64 *v10; // esi@4
  int v11; // ebx@4
  __m64 *j; // eax@4
  __m64 v13; // mm4@5
  __m64 v14; // mm6@5
  __m64 v15; // mm2@5
  __m64 v16; // mm3@5
  __m64 *v17; // ecx@5
  __m64 v18; // mm0@5
  int v19; // [sp+10h] [bp-8h]@4
  int v20; // [sp+28h] [bp+10h]@3
  int v21; // [sp+2Ch] [bp+14h]@3

  if ( a3 & 3 )
  {
    result = sub_4395A4(a1, a2, a3, a4, a5, a6);
  }
  else
  {
    v21 = a2 + a5 * a4;
    _m_femms();
    v20 = 4 * a3;
    v7 = a2;
    for ( i = a1; v7 < v21; i = (int *)((char *)i + a6) )
    {
      v9 = (__m64 *)v7;
      v10 = (__m64 *)(a5 + v7);
      v11 = v20 + v7;
      v19 = v7;
      for ( j = (__m64 *)i;
            (signed int)v9 < v11;
            v17->m64_u64 = (unsigned __int64)_m_packuswb(
                                               _m_psraw(
                                                 _m_paddw(_m_paddw(_m_paddw(v18, v15), v16), (__m64)562958543486978i64),
                                                 2u),
                                               _m_psraw(
                                                 _m_paddw(
                                                   _m_paddw(
                                                     _m_paddw(
                                                       _m_paddw(_m_punpcklbw(v13, 0i64), _m_punpckhbw(v13, 0i64)),
                                                       _m_punpcklbw(v14, 0i64)),
                                                     _m_punpckhbw(v14, 0i64)),
                                                   (__m64)562958543486978i64),
                                                 2u)) )
      {
        v13 = v9[1];
        v14 = v10[1];
        v15 = _m_punpcklbw((__m64)v10->m64_u64, 0i64);
        v16 = _m_punpckhbw((__m64)v10->m64_u64, 0i64);
        v17 = j;
        v18 = _m_paddw(_m_punpcklbw((__m64)v9->m64_u64, 0i64), _m_punpckhbw((__m64)v9->m64_u64, 0i64));
        v9 += 2;
        v10 += 2;
        ++j;
      }
      v7 = a5 + a5 + v19;
    }
    _m_femms();
    result = 0;
  }
  return result;
}

//----- (004398FC) --------------------------------------------------------
int __cdecl sub_4398FC(int a1, int a2, int a3, int a4, int a5, int a6)
{
  if ( sub_4491A5() )
  {
    off_52A534 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4397E4;
    off_52A538 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4397E4;
  }
  else
  {
    off_52A534 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4395A4;
    off_52A538 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4396FA;
  }
  return off_52A534(a1, a2, a3, a4, a5, a6);
}
// 52A534: using guessed type int (__stdcall *off_52A534)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 52A538: using guessed type int (__stdcall *off_52A538)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00439934) --------------------------------------------------------
int sub_439934()
{
  void *v0; // eax@2

  if ( sub_4491A5() )
  {
    v0 = sub_4397E4;
    off_52A534 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4397E4;
  }
  else
  {
    off_52A534 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_4395A4;
    v0 = sub_4396FA;
  }
  off_52A538 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v0;
  return ((int (*)(void))v0)();
}
// 52A534: using guessed type int (__stdcall *off_52A534)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 52A538: using guessed type int (__stdcall *off_52A538)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00439963) --------------------------------------------------------
int __thiscall sub_439963(_DWORD *this)
{
  return off_52A538(
           *(_DWORD *)(this[1] + 32),
           *(_DWORD *)(*this + 32),
           *(_DWORD *)(*this + 4192),
           *(_DWORD *)(*this + 4196),
           *(_DWORD *)(*this + 4184),
           *(_DWORD *)(this[1] + 4184));
}
// 52A538: using guessed type int (__stdcall *off_52A538)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00439991) --------------------------------------------------------
int __fastcall sub_439991(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  unsigned int v3; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // ebp@3
  __int16 v10; // bx@3
  _WORD *v11; // eax@3
  bool v12; // cf@3
  _WORD *v14; // [sp+Ch] [bp-24h]@2
  _WORD *v15; // [sp+10h] [bp-20h]@1
  unsigned int v16; // [sp+14h] [bp-1Ch]@2
  int v17; // [sp+18h] [bp-18h]@2
  unsigned int v18; // [sp+1Ch] [bp-14h]@1
  unsigned int v19; // [sp+24h] [bp-Ch]@2
  int v20; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v15 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v20 = a1;
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v18 = v3 )
  {
    v14 = v15;
    v5 = v3 + v2;
    v6 = v3;
    v16 = v3;
    v17 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v6;
        LOWORD(v9) = v9 & 0xF81F;
        v10 = (((*(_WORD *)v5 & 0xF81F) + (*(_WORD *)v6 & 0xF81F) + (v8 & 0xF81F) + (v7 & 0xF81Fu) + 4098) >> 2) ^ ((((v7 & 0xFFFF07E0) + (*(_WORD *)v5 & 0x7E0) + (*(_WORD *)v6 & 0x7E0) + (v8 & 0xFFFF07E0) + 64) >> 2) ^ (((*(_WORD *)v5 & 0xF81F) + v9 + (v8 & 0xFFFFF81F) + (v7 & 0xFFFFF81F) + 4098) >> 2)) & 0x7E0;
        v11 = v14;
        ++v14;
        *v11 = v10;
        v6 = v16 + 4;
        v5 = v17 + 4;
        v12 = v16 + 4 < v19;
        v16 += 4;
        v17 += 4;
      }
      while ( v12 );
      a1 = v20;
      v3 = v18;
      v4 = i;
    }
    v15 = (_WORD *)((char *)v15 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (00439AE1) --------------------------------------------------------
int __fastcall sub_439AE1(int a1)
{
  int v1; // eax@1
  int v2; // ebx@1
  unsigned int v3; // esi@1
  unsigned int v4; // edx@1
  int v5; // ebx@2
  int v6; // ebp@2
  int v7; // edx@3
  int v8; // eax@3
  int v9; // ebx@3
  int v10; // ST20_4@3
  unsigned int v11; // ebp@3
  int v12; // eax@3
  _WORD *v13; // eax@3
  _WORD *v15; // [sp+8h] [bp-20h]@2
  _WORD *v16; // [sp+Ch] [bp-1Ch]@1
  unsigned int v17; // [sp+10h] [bp-18h]@2
  int v18; // [sp+14h] [bp-14h]@2
  unsigned int v19; // [sp+1Ch] [bp-Ch]@2
  int v20; // [sp+20h] [bp-8h]@1
  int i; // [sp+24h] [bp-4h]@1

  v16 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v20 = a1;
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v3 += 2 * v2 )
  {
    v15 = v16;
    v5 = v3 + v2;
    v6 = v3;
    v17 = v3;
    v18 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v5;
        v10 = *(_WORD *)v6;
        v11 = (v7 & 0xFFFF03E0) + (v9 & 0xFFFF03E0) + (v10 & 0xFFFF03E0) + (v8 & 0xFFFF03E0) + 64;
        v12 = (v9 & 0x7C1F) + (v10 & 0x7C1F) + (v8 & 0x7C1F);
        v5 = v18 + 4;
        v18 += 4;
        LOWORD(v11) = ((v12 + (v7 & 0x7C1Fu) + 2050) >> 2) & 0x7C1F | (v11 >> 2) & 0x3E0;
        v13 = v15;
        ++v15;
        *v13 = v11;
        v6 = v17 + 4;
        v17 += 4;
      }
      while ( v17 < v19 );
      a1 = v20;
      v4 = i;
    }
    v16 = (_WORD *)((char *)v16 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  }
  return 0;
}

//----- (00439C05) --------------------------------------------------------
int __fastcall sub_439C05(int a1)
{
  int v1; // esi@1
  unsigned int v2; // edx@1
  int v3; // edi@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  __int16 v7; // si@3
  __int16 v8; // dx@3
  __int16 v9; // di@3
  _WORD *v10; // ecx@3
  bool v11; // cf@3
  _WORD *v13; // [sp+Ch] [bp-24h]@2
  _WORD *v14; // [sp+10h] [bp-20h]@1
  unsigned int v15; // [sp+14h] [bp-1Ch]@2
  int v16; // [sp+18h] [bp-18h]@2
  unsigned int v17; // [sp+1Ch] [bp-14h]@1
  unsigned int v18; // [sp+24h] [bp-Ch]@2
  int v19; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v4 = v2 + v3 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v19 = a1;
  v14 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v17 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v2 + v3 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v2 < v4; v17 = v2 )
  {
    v13 = v14;
    v5 = v2 + v3;
    v6 = v2;
    v15 = v2;
    v16 = v5;
    v18 = v2 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v2 < v18 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v5;
        v10 = v13;
        ++v13;
        *v10 = (((v9 & 0x83E0) + (*(_WORD *)v6 & 0x83E0) + (v8 & 0x83E0) + (v7 & 0x83E0u) + 65600) >> 2) ^ ((((v7 & 0x7C1F) + (v9 & 0x7C1F) + (*(_WORD *)v6 & 0x7C1F) + (v8 & 0x7C1Fu) + 2050) >> 2) ^ (((v9 & 0x83E0) + (*(_WORD *)v6 & 0x83E0) + (v8 & 0x83E0) + (v7 & 0x83E0u) + 65600) >> 2)) & 0x7C1F;
        v6 = v15 + 4;
        v5 = v16 + 4;
        v11 = v15 + 4 < v18;
        v15 += 4;
        v16 += 4;
      }
      while ( v11 );
      a1 = v19;
      v2 = v17;
      v4 = i;
    }
    v14 = (_WORD *)((char *)v14 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v3 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v2 += 2 * v3;
  }
  return 0;
}

//----- (00439D54) --------------------------------------------------------
int __fastcall sub_439D54(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  unsigned int v3; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // ebp@3
  __int16 v10; // bx@3
  _WORD *v11; // eax@3
  bool v12; // cf@3
  _WORD *v14; // [sp+Ch] [bp-24h]@2
  _WORD *v15; // [sp+10h] [bp-20h]@1
  unsigned int v16; // [sp+14h] [bp-1Ch]@2
  int v17; // [sp+18h] [bp-18h]@2
  unsigned int v18; // [sp+1Ch] [bp-14h]@1
  unsigned int v19; // [sp+24h] [bp-Ch]@2
  int v20; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v15 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v20 = a1;
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v18 = v3 )
  {
    v14 = v15;
    v5 = v3 + v2;
    v6 = v3;
    v16 = v3;
    v17 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v6;
        LOWORD(v9) = v9 & 0xF0F0;
        v10 = (((*(_WORD *)v5 & 0xF0F0) + (*(_WORD *)v6 & 0xF0F0) + (v8 & 0xF0F0) + (v7 & 0xF0F0u) + 8224) >> 2) ^ ((((v7 & 0xFFFF0F0F) + (*(_WORD *)v5 & 0xF0F) + (*(_WORD *)v6 & 0xF0F) + (v8 & 0xFFFF0F0F) + 514) >> 2) ^ (((*(_WORD *)v5 & 0xF0F0) + v9 + (v8 & 0xFFFFF0F0) + (v7 & 0xFFFFF0F0) + 8224) >> 2)) & 0xF0F;
        v11 = v14;
        ++v14;
        *v11 = v10;
        v6 = v16 + 4;
        v5 = v17 + 4;
        v12 = v16 + 4 < v19;
        v16 += 4;
        v17 += 4;
      }
      while ( v12 );
      a1 = v20;
      v3 = v18;
      v4 = i;
    }
    v15 = (_WORD *)((char *)v15 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (00439EA7) --------------------------------------------------------
int __fastcall sub_439EA7(int a1)
{
  int v1; // edx@1
  _BYTE *v2; // ebp@1
  unsigned int v3; // eax@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // ebp@3
  int v9; // esi@3
  int v10; // eax@3
  int v11; // edi@3
  char v12; // dl@3
  _BYTE *v13; // eax@3
  bool v14; // cf@3
  _BYTE *v16; // [sp+Ch] [bp-20h]@2
  unsigned int v17; // [sp+10h] [bp-1Ch]@2
  int v18; // [sp+14h] [bp-18h]@2
  _BYTE *v19; // [sp+18h] [bp-14h]@1
  unsigned int v20; // [sp+1Ch] [bp-10h]@1
  unsigned int v21; // [sp+20h] [bp-Ch]@2
  int v22; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v22 = a1;
  v19 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v20 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v5; v20 = v3 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v16 = v2;
    v17 = v3;
    v18 = v6;
    v21 = v3 + *(_DWORD *)(v1 + 4192);
    if ( v3 < v21 )
    {
      do
      {
        v8 = *(_BYTE *)v7;
        v9 = *(_BYTE *)(v7 + 1);
        v10 = *(_BYTE *)(v6 + 1);
        v11 = *(_BYTE *)v6;
        LOWORD(v8) = v8 & 0xE3;
        LOWORD(v9) = v9 & 0xE3;
        v12 = (((v11 & 0xE3) + v8 + (v10 & 0xE3u) + v9 + 66) >> 2) ^ ((((v11 & 0xFFFF00E3)
                                                                      + (*(_BYTE *)v7 & 0xE3)
                                                                      + (v10 & 0xFFFF00E3)
                                                                      + (*(_BYTE *)(v7 + 1) & 0xE3)
                                                                      + 66) >> 2) ^ (((v11 & 0x1C)
                                                                                    + (*(_BYTE *)v7 & 0x1C)
                                                                                    + (v10 & 0x1C)
                                                                                    + (*(_BYTE *)(v7 + 1) & 0x1Cu)
                                                                                    + 8) >> 2)) & 0x1C;
        v13 = v16++;
        v7 = v17 + 2;
        v6 = v18 + 2;
        v14 = v17 + 2 < v21;
        *v13 = v12;
        v17 += 2;
        v18 += 2;
      }
      while ( v14 );
      a1 = v22;
      v2 = v19;
      v3 = v20;
      v5 = i;
    }
    v2 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184);
    v1 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v4;
    v19 = v2;
  }
  return 0;
}

//----- (00439FE6) --------------------------------------------------------
int __thiscall sub_439FE6(_DWORD *this)
{
  int v1; // ebx@1
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  unsigned int v6; // eax@2
  int v7; // edi@2
  bool i; // cf@2
  int v9; // edi@3
  int v10; // ebx@3
  unsigned int v11; // ebx@3
  _BYTE *v12; // edi@3
  int v14; // [sp+Ch] [bp-10h]@6
  int v15; // [sp+10h] [bp-Ch]@4
  _BYTE *v16; // [sp+14h] [bp-8h]@2
  unsigned int v17; // [sp+18h] [bp-4h]@2

  v1 = *(_DWORD *)(this[1] + 32);
  v2 = *this;
  v3 = *(_DWORD *)(*this + 32);
  v4 = *(_DWORD *)(*this + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*this + 4196);
  while ( 1 )
  {
    v14 = v1;
    if ( v3 >= v5 )
      break;
    v6 = v3 + *(_DWORD *)(v2 + 4192);
    v7 = v3 + v4;
    v16 = (_BYTE *)v1;
    v17 = v3;
    for ( i = v3 < v6; ; i = v17 < v6 )
    {
      v15 = v7;
      if ( !i )
        break;
      v9 = *(_BYTE *)v7 + *(_BYTE *)(v17 + 1) + *(_BYTE *)(v7 + 1);
      v10 = *(_BYTE *)v17;
      v17 += 2;
      v11 = v9 + v10 + 2;
      v12 = v16++;
      *v12 = v11 >> 2;
      v7 = v15 + 2;
    }
    v1 = *(_DWORD *)(this[1] + 4184) + v14;
    v2 = *this;
    v4 = *(_DWORD *)(*this + 4184);
    v3 += 2 * v4;
  }
  return 0;
}

//----- (0043A081) --------------------------------------------------------
int __fastcall sub_43A081(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  unsigned int v3; // eax@1
  unsigned int v4; // edi@1
  int v5; // ebp@2
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // edi@3
  int v9; // eax@3
  int v10; // ebp@3
  int v11; // ST18_4@3
  unsigned int v12; // ebx@3
  int v13; // ecx@3
  int v14; // eax@3
  unsigned int v15; // edx@3
  int v16; // ebp@3
  unsigned int v17; // ecx@3
  int v18; // edi@3
  unsigned int v19; // edx@3
  _WORD *v20; // eax@3
  bool v21; // cf@3
  _WORD *v23; // [sp+8h] [bp-24h]@2
  _WORD *v24; // [sp+Ch] [bp-20h]@1
  unsigned int v25; // [sp+14h] [bp-18h]@2
  int v26; // [sp+18h] [bp-14h]@2
  unsigned int v27; // [sp+1Ch] [bp-10h]@1
  unsigned int v28; // [sp+20h] [bp-Ch]@2
  int v29; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v24 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v29 = a1;
  v27 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v27 = v3 )
  {
    v23 = v24;
    v5 = v3 + v2;
    v6 = v3;
    v25 = v3;
    v26 = v5;
    v28 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v28 )
    {
      do
      {
        v7 = *(_WORD *)v6;
        v8 = *(_WORD *)(v6 + 2);
        v9 = *(_WORD *)(v5 + 2);
        v10 = *(_WORD *)v5;
        v11 = *(_WORD *)v6;
        LOWORD(v7) = *(_WORD *)v6 & 0xE3;
        v12 = (v10 & 0xFFFF00E3) + v7 + (v9 & 0xFFFF00E3);
        HIWORD(v13) = HIWORD(v9);
        v14 = v9 & 0xFF1C;
        LOWORD(v13) = v14;
        v15 = (v12 + (v8 & 0xFFFF00E3) + 66) >> 2;
        HIWORD(v12) = HIWORD(v10);
        v16 = v10 & 0xFF1C;
        LOWORD(v12) = v16;
        v17 = v12 + (v11 & 0xFFFFFF1C) + v13;
        HIWORD(v12) = HIWORD(v8);
        v18 = v8 & 0xFF1C;
        LOWORD(v12) = v18;
        LOBYTE(v15) = ((v17 + v12 + 520) >> 2) ^ v15;
        v19 = ((v16 + (v11 & 0xFF1Cu) + v14 + v18 + 520) >> 2) ^ v15 & 0xFFFF00E3;
        v20 = v23;
        ++v23;
        v6 = v25 + 4;
        v5 = v26 + 4;
        v21 = v25 + 4 < v28;
        *v20 = v19;
        v25 += 4;
        v26 += 4;
      }
      while ( v21 );
      a1 = v29;
      v3 = v27;
      v4 = i;
    }
    v24 = (_WORD *)((char *)v24 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (0043A1CD) --------------------------------------------------------
int __fastcall sub_43A1CD(int a1)
{
  _WORD *v1; // ebp@1
  int v2; // eax@1
  unsigned int v3; // esi@1
  int v4; // edi@1
  unsigned int v5; // edx@1
  int v6; // edi@2
  unsigned int v7; // ebx@2
  int v8; // edx@3
  int v9; // eax@3
  int v10; // ebx@3
  int v11; // edi@3
  unsigned int v12; // ebp@3
  unsigned int v13; // eax@3
  unsigned int v14; // ebp@3
  _WORD *v15; // eax@3
  _WORD *v17; // [sp+Ch] [bp-1Ch]@2
  unsigned int v18; // [sp+10h] [bp-18h]@2
  int v19; // [sp+14h] [bp-14h]@2
  _WORD *v20; // [sp+18h] [bp-10h]@1
  unsigned int v21; // [sp+1Ch] [bp-Ch]@2
  int v22; // [sp+20h] [bp-8h]@1
  int i; // [sp+24h] [bp-4h]@1

  v1 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v2 = *(_DWORD *)a1;
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v22 = a1;
  v20 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v5; v20 = v1 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v17 = v1;
    v18 = v3;
    v19 = v6;
    v21 = v3 + 2 * *(_DWORD *)(v2 + 4192);
    if ( v3 < v21 )
    {
      do
      {
        v8 = *(_WORD *)(v7 + 2);
        v9 = *(_WORD *)(v6 + 2);
        v10 = *(_WORD *)v7;
        v11 = *(_WORD *)v6;
        v12 = (v11 & 0xFFFF00F0) + (v10 & 0xFFFF00F0) + (v9 & 0xFFFF00F0) + (v8 & 0xFFFF00F0) + 32;
        LOWORD(v9) = v9 & 0xF0F;
        LOWORD(v10) = v10 & 0xF0F;
        LOWORD(v11) = v11 & 0xF0F;
        LOWORD(v8) = v8 & 0xF0F;
        v13 = (unsigned int)(v11 + v10 + v9 + v8 + 514) >> 2;
        LOWORD(v13) = v13 & 0xF0F;
        v7 = v18 + 4;
        v6 = v19 + 4;
        v18 = v7;
        v19 += 4;
        v14 = v13 | (v12 >> 2) & 0xFFFF00F0;
        v15 = v17;
        ++v17;
        *v15 = v14;
      }
      while ( v7 < v21 );
      a1 = v22;
      v1 = v20;
      v5 = i;
    }
    v1 = (_WORD *)((char *)v1 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v2 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v4;
  }
  return 0;
}

//----- (0043A2EE) --------------------------------------------------------
int __fastcall sub_43A2EE(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  unsigned int v3; // eax@1
  unsigned int v4; // edi@1
  int v5; // ebp@2
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // edi@3
  int v9; // eax@3
  int v10; // ebp@3
  int v11; // ST18_4@3
  unsigned int v12; // ebx@3
  int v13; // ecx@3
  int v14; // eax@3
  unsigned int v15; // edx@3
  int v16; // ebp@3
  unsigned int v17; // ecx@3
  int v18; // edi@3
  unsigned int v19; // edx@3
  _WORD *v20; // eax@3
  bool v21; // cf@3
  _WORD *v23; // [sp+8h] [bp-24h]@2
  _WORD *v24; // [sp+Ch] [bp-20h]@1
  unsigned int v25; // [sp+14h] [bp-18h]@2
  int v26; // [sp+18h] [bp-14h]@2
  unsigned int v27; // [sp+1Ch] [bp-10h]@1
  unsigned int v28; // [sp+20h] [bp-Ch]@2
  int v29; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v24 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v29 = a1;
  v27 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v27 = v3 )
  {
    v23 = v24;
    v5 = v3 + v2;
    v6 = v3;
    v25 = v3;
    v26 = v5;
    v28 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v28 )
    {
      do
      {
        v7 = *(_WORD *)v6;
        v8 = *(_WORD *)(v6 + 2);
        v9 = *(_WORD *)(v5 + 2);
        v10 = *(_WORD *)v5;
        v11 = v7;
        LOWORD(v7) = (unsigned __int8)v7;
        v12 = (v10 & 0xFFFF00FF) + v7 + (v9 & 0xFFFF00FF);
        HIWORD(v13) = HIWORD(v9);
        v14 = v9 & 0xFF00;
        LOWORD(v13) = v14;
        v15 = (v12 + (v8 & 0xFFFF00FF) + 2) >> 2;
        HIWORD(v12) = HIWORD(v10);
        v16 = v10 & 0xFF00;
        LOWORD(v12) = v16;
        v17 = v12 + (v11 & 0xFFFFFF00) + v13;
        HIWORD(v12) = HIWORD(v8);
        v18 = v8 & 0xFF00;
        LOWORD(v12) = v18;
        LOBYTE(v15) = ((v17 + v12 + 512) >> 2) ^ v15;
        v19 = ((v16 + (v11 & 0xFF00u) + v14 + v18 + 512) >> 2) ^ v15 & 0xFFFF00FF;
        v20 = v23;
        ++v23;
        v6 = v25 + 4;
        v5 = v26 + 4;
        v21 = v25 + 4 < v28;
        *v20 = v19;
        v25 += 4;
        v26 += 4;
      }
      while ( v21 );
      a1 = v29;
      v3 = v27;
      v4 = i;
    }
    v24 = (_WORD *)((char *)v24 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (0043A43A) --------------------------------------------------------
int __fastcall sub_43A43A(int a1)
{
  int v1; // edx@1
  _BYTE *v2; // ebp@1
  unsigned int v3; // eax@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // ebp@3
  int v9; // esi@3
  int v10; // eax@3
  int v11; // edi@3
  char v12; // dl@3
  _BYTE *v13; // eax@3
  bool v14; // cf@3
  _BYTE *v16; // [sp+Ch] [bp-20h]@2
  unsigned int v17; // [sp+10h] [bp-1Ch]@2
  int v18; // [sp+14h] [bp-18h]@2
  _BYTE *v19; // [sp+18h] [bp-14h]@1
  unsigned int v20; // [sp+1Ch] [bp-10h]@1
  unsigned int v21; // [sp+20h] [bp-Ch]@2
  int v22; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v22 = a1;
  v19 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v20 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v5; v20 = v3 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v16 = v2;
    v17 = v3;
    v18 = v6;
    v21 = v3 + *(_DWORD *)(v1 + 4192);
    if ( v3 < v21 )
    {
      do
      {
        v8 = *(_BYTE *)v7;
        v9 = *(_BYTE *)(v7 + 1);
        v10 = *(_BYTE *)(v6 + 1);
        v11 = *(_BYTE *)v6;
        LOWORD(v8) = v8 & 0xF0;
        LOWORD(v9) = v9 & 0xF0;
        v12 = (((v11 & 0xF0) + v8 + (v10 & 0xF0u) + v9 + 32) >> 2) ^ ((((v11 & 0xFFFF00F0)
                                                                      + (*(_BYTE *)v7 & 0xF0)
                                                                      + (v10 & 0xFFFF00F0)
                                                                      + (*(_BYTE *)(v7 + 1) & 0xF0)
                                                                      + 32) >> 2) ^ (((v11 & 0xF)
                                                                                    + (*(_BYTE *)v7 & 0xF)
                                                                                    + (v10 & 0xF)
                                                                                    + (*(_BYTE *)(v7 + 1) & 0xFu)
                                                                                    + 2) >> 2)) & 0xF;
        v13 = v16++;
        v7 = v17 + 2;
        v6 = v18 + 2;
        v14 = v17 + 2 < v21;
        *v13 = v12;
        v17 += 2;
        v18 += 2;
      }
      while ( v14 );
      a1 = v22;
      v2 = v19;
      v3 = v20;
      v5 = i;
    }
    v2 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184);
    v1 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v4;
    v19 = v2;
  }
  return 0;
}

//----- (0043A579) --------------------------------------------------------
signed int __thiscall sub_43A579(int this)
{
  int v1; // edx@1
  int v2; // eax@1
  int v3; // ecx@1
  signed int result; // eax@2
  int v5; // eax@13
  int v6; // ecx@14
  unsigned int v7; // esi@14
  char *v8; // edx@15
  char *v9; // ebx@15
  int v10; // [sp+8h] [bp-Ch]@1
  unsigned int v11; // [sp+Ch] [bp-8h]@15
  unsigned int v12; // [sp+10h] [bp-4h]@13

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)this;
  v10 = v1;
  if ( *(_DWORD *)(v2 + 4) != *(_DWORD *)(v3 + 4) )
    return -2147467259;
  if ( *(_DWORD *)(v3 + 24)
    || *(_DWORD *)(v2 + 4192) != *(_DWORD *)(v3 + 4192)
    || *(_DWORD *)(v2 + 4196) != *(_DWORD *)(v3 + 4196)
    || *(_DWORD *)(v2 + 4200) != *(_DWORD *)(v3 + 4200)
    || *(_DWORD *)(v2 + 16) != *(_DWORD *)(v3 + 16) )
  {
    goto LABEL_22;
  }
  if ( !*(_DWORD *)(v2 + 12) )
    return sub_439416((_DWORD *)v1);
  if ( *(_DWORD *)(v2 + 28) && v2 + 56 != v3 + 56 && memcmp((const void *)(v2 + 56), (const void *)(v3 + 56), 0x400u) )
  {
LABEL_22:
    result = -2147467259;
  }
  else
  {
    *(_DWORD *)(v2 + 16) = 0;
    *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
    v5 = *(_DWORD *)(v1 + 4);
    v12 = 0;
    if ( *(_DWORD *)(v5 + 4200) > 0u )
    {
      v6 = *(_DWORD *)v1;
      v7 = *(_DWORD *)(v5 + 4196);
      do
      {
        v8 = (char *)(*(_DWORD *)(v5 + 32) + v12 * *(_DWORD *)(v5 + 4188));
        v9 = (char *)(*(_DWORD *)(v6 + 32) + v12 * *(_DWORD *)(v6 + 4188));
        v11 = 0;
        if ( v7 )
        {
          do
          {
            qmemcpy(v8, v9, *(_DWORD *)(v5 + 4204));
            v5 = *(_DWORD *)(v10 + 4);
            v6 = *(_DWORD *)v10;
            v8 += *(_DWORD *)(v5 + 4184);
            v9 += *(_DWORD *)(*(_DWORD *)v10 + 4184);
            ++v11;
            v7 = *(_DWORD *)(v5 + 4196);
          }
          while ( v11 < v7 );
        }
        ++v12;
        v5 = *(_DWORD *)(v10 + 4);
      }
      while ( v12 < *(_DWORD *)(v5 + 4200) );
    }
    result = 0;
  }
  return result;
}

//----- (0043A6B6) --------------------------------------------------------
signed int __thiscall sub_43A6B6(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // edi@1
  void *v5; // eax@4
  void *v6; // ebp@4
  unsigned int v7; // ebx@4
  int v8; // eax@8
  int v9; // eax@11
  unsigned int v10; // eax@12
  unsigned int v11; // edi@13
  signed int result; // eax@16

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)this;
  v4 = *(_DWORD *)(v2 + 4192);
  if ( v4 == *(_DWORD *)(v3 + 4192)
    && *(_DWORD *)(v2 + 4196) == *(_DWORD *)(v3 + 4196)
    && *(_DWORD *)(v2 + 4200) == *(_DWORD *)(v3 + 4200)
    && ((v5 = operator new(16 * v4), v6 = v5, v7 = 0, !v5) ? (v6 = 0) : 'vector constructor iterator'(v5,
                                                                          16,
                                                                          v4,
                                                                          sub_434D2D),
        v6) )
  {
    v8 = *(_DWORD *)(v1 + 4);
    if ( *(_DWORD *)(v8 + 16) && *(_DWORD *)(*(_DWORD *)v1 + 16) )
    {
      *(_DWORD *)(v8 + 16) = 0;
      *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
    }
    v9 = *(_DWORD *)(v1 + 4);
    if ( *(_DWORD *)(v9 + 4200) )
    {
      v10 = *(_DWORD *)(v9 + 4196);
      do
      {
        v11 = 0;
        if ( v10 )
        {
          do
          {
            (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)v1 + 4))(v11, v7, v6);
            (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)(v1 + 4) + 8))(v11, v7, v6);
            v10 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4196);
            ++v11;
          }
          while ( v11 < v10 );
        }
        ++v7;
      }
      while ( v7 < *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4200) );
    }
    j__free(v6);
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);





//----- (0043A794) --------------------------------------------------------
signed int __thiscall sub_43A794(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  int v3; // eax@3
  int v4; // ecx@3
  unsigned int v5; // ecx@7
  unsigned int v6; // edi@9
  void *v7; // eax@9
  void *v8; // eax@14
  int v9; // eax@19
  unsigned int v10; // ebx@22
  unsigned int v11; // edi@23
  int v12; // ecx@25
  unsigned int j; // edi@25
  int v14; // ecx@28
  unsigned int v15; // eax@29
  unsigned int v16; // edi@30
  unsigned int v17; // [sp+4h] [bp-14h]@5
  unsigned int v18; // [sp+8h] [bp-10h]@7
  void *v19; // [sp+Ch] [bp-Ch]@3
  void *v20; // [sp+Ch] [bp-Ch]@14
  void *v21; // [sp+Ch] [bp-Ch]@15
  void *v22; // [sp+10h] [bp-8h]@9
  void *v23; // [sp+10h] [bp-8h]@14
  unsigned int i; // [sp+10h] [bp-8h]@22
  void *v25; // [sp+14h] [bp-4h]@10

  v1 = this;
  if ( *(_BYTE *)(this + 8) == 1 )
  {
    v3 = *(_DWORD *)(this + 4);
    v4 = *(_DWORD *)this;
    v19 = *(void **)(v3 + 4192);
    if ( *(_DWORD *)(v3 + 4192) <= *(_DWORD *)(v4 + 4192) )
      v19 = *(void **)(v4 + 4192);
    v17 = *(_DWORD *)(v3 + 4196);
    if ( *(_DWORD *)(v3 + 4196) >= *(_DWORD *)(v4 + 4196) )
      v17 = *(_DWORD *)(v4 + 4196);
    v5 = *(_DWORD *)(v4 + 4200);
    v18 = *(_DWORD *)(v3 + 4200);
    if ( v18 >= v5 )
      v18 = v5;
    v6 = 16 * (_DWORD)v19;
    v7 = operator new(16 * (_DWORD)v19);
    v22 = v7;
    if ( v7 )
    {
      'vector constructor iterator'(v7, 16, v19, sub_434D2D);
      v25 = v22;
    }
    else
    {
      v25 = 0;
    }
    if ( v25 )
    {
      v20 = *(void **)(*(_DWORD *)(v1 + 4) + 4192);
      v8 = operator new(16 * (_DWORD)v20);
      v23 = v8;
      if ( v8 )
      {
        'vector constructor iterator'(v8, 16, v20, sub_434D2D);
        v21 = v23;
      }
      else
      {
        v21 = 0;
      }
      if ( v21 )
      {
        memset(v25, 0, v6);
        memset(v21, 0, 16 * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4192));
        v9 = *(_DWORD *)(v1 + 4);
        if ( *(_DWORD *)(v9 + 16) && *(_DWORD *)(*(_DWORD *)v1 + 16) )
        {
          *(_DWORD *)(v9 + 16) = 0;
          *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
        }
        v10 = v18;
        for ( i = 0; i < v18; v10 = v18 )
        {
          v11 = 0;
          if ( v17 )
          {
            do
            {
              (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)v1 + 4))(v11, i, v25);
              (*(void (__stdcall **)(int, unsigned int, void *))(**(_DWORD **)(v1 + 4) + 8))(v11++, i, v25);
            }
            while ( v11 < v17 );
          }
          v12 = *(_DWORD *)(v1 + 4);
          for ( j = v17; j < *(_DWORD *)(v12 + 4196); ++j )
          {
            (*(void (__stdcall **)(unsigned int, unsigned int, void *))(*(_DWORD *)v12 + 8))(j, i, v21);
            v12 = *(_DWORD *)(v1 + 4);
          }
          ++i;
        }
        v14 = *(_DWORD *)(v1 + 4);
        if ( v10 < *(_DWORD *)(v14 + 4200) )
        {
          v15 = *(_DWORD *)(v14 + 4196);
          do
          {
            v16 = 0;
            if ( v15 )
            {
              do
              {
                (*(void (__stdcall **)(unsigned int, unsigned int, void *))(*(_DWORD *)v14 + 8))(v16, v10, v21);
                v14 = *(_DWORD *)(v1 + 4);
                v15 = *(_DWORD *)(v14 + 4196);
                ++v16;
              }
              while ( v16 < v15 );
            }
            v14 = *(_DWORD *)(v1 + 4);
            ++v10;
          }
          while ( v10 < *(_DWORD *)(v14 + 4200) );
        }
        j__free(v25);
        j__free(v21);
        result = 0;
      }
      else
      {
        j__free(v25);
        result = -2147467259;
      }
    }
    else
    {
      result = -2147467259;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043A989) --------------------------------------------------------
signed int __thiscall sub_43A989(_BYTE *this)
{
  _BYTE *v1; // ebx@1
  signed int result; // eax@2
  int v3; // edi@3
  void *v4; // eax@3
  int v5; // edi@8
  void *v6; // eax@8
  int v7; // eax@13
  int v8; // esi@16
  int v9; // eax@16
  unsigned int v10; // edi@16
  unsigned int v11; // esi@16
  int v12; // edx@16
  unsigned int v13; // esi@17
  void *v14; // eax@21
  unsigned int v15; // esi@22
  int v16; // esi@22
  int v17; // [sp+4h] [bp-30h]@16
  int v18; // [sp+8h] [bp-2Ch]@16
  int v19; // [sp+Ch] [bp-28h]@16
  void *v20; // [sp+10h] [bp-24h]@3
  void *v21; // [sp+10h] [bp-24h]@8
  int v22; // [sp+10h] [bp-24h]@17
  signed int v23; // [sp+14h] [bp-20h]@17
  unsigned int v24; // [sp+18h] [bp-1Ch]@16
  unsigned int v25; // [sp+1Ch] [bp-18h]@18
  unsigned int v26; // [sp+20h] [bp-14h]@18
  unsigned int v27; // [sp+24h] [bp-10h]@16
  unsigned int v28; // [sp+28h] [bp-Ch]@17
  void *v29; // [sp+2Ch] [bp-8h]@9
  void *v30; // [sp+30h] [bp-4h]@4

  v1 = this;
  if ( this[8] == 2 )
  {
    v3 = *(_DWORD *)(*(_DWORD *)this + 4192);
    v4 = operator new(16 * *(_DWORD *)(*(_DWORD *)this + 4192));
    v20 = v4;
    if ( v4 )
    {
      'vector constructor iterator'(v4, 16, v3, sub_434D2D);
      v30 = v20;
    }
    else
    {
      v30 = 0;
    }
    if ( v30 )
    {
      v5 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192);
      v6 = operator new(16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192));
      v21 = v6;
      if ( v6 )
      {
        'vector constructor iterator'(v6, 16, v5, sub_434D2D);
        v29 = v21;
      }
      else
      {
        v29 = 0;
      }
      if ( v29 )
      {
        v7 = *((_DWORD *)v1 + 1);
        if ( *(_DWORD *)(v7 + 16) && *(_DWORD *)(*(_DWORD *)v1 + 16) )
        {
          *(_DWORD *)(v7 + 16) = 0;
          *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
        }
        v8 = *((_DWORD *)v1 + 1);
        v9 = (*(_DWORD *)(*(_DWORD *)v1 + 4192) << 16) / *(_DWORD *)(v8 + 4192);
        v10 = *(_DWORD *)(v8 + 4196);
        v11 = *(_DWORD *)(v8 + 4200);
        v24 = 0;
        v27 = 0;
        v19 = v9;
        v18 = (*(_DWORD *)(*(_DWORD *)v1 + 4196) << 16) / v10;
        v12 = (*(_DWORD *)(*(_DWORD *)v1 + 4200) << 16) % v11;
        v17 = (*(_DWORD *)(*(_DWORD *)v1 + 4200) << 16) / v11;
        if ( v11 )
        {
          do
          {
            v23 = -1;
            v13 = 0;
            v22 = 0;
            v28 = 0;
            if ( v10 )
            {
              do
              {
                v26 = 0;
                v25 = 0;
                if ( (v13 ^ v23) & 0xFFFF0000 )
                {
                  (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)v1 + 4))(
                    v13 >> 16,
                    v24 >> 16,
                    v30);
                  v23 = v13;
                }
                if ( *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192) )
                {
                  v14 = v29;
                  do
                  {
                    v15 = v26;
                    v26 += v19;
                    v16 = (int)v30 + 16 * (v15 >> 16);
                    v12 = ++v25;
                    *(_DWORD *)v14 = *(_DWORD *)v16;
                    v16 += 4;
                    *((_DWORD *)v14 + 1) = *(_DWORD *)v16;
                    v16 += 4;
                    *((_DWORD *)v14 + 2) = *(_DWORD *)v16;
                    *((_DWORD *)v14 + 3) = *(_DWORD *)(v16 + 4);
                    v14 = (char *)v14 + 16;
                  }
                  while ( v25 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192) );
                }
                (*(void (__fastcall **)(_DWORD, int, unsigned int, unsigned int, void *))(**((_DWORD **)v1 + 1) + 8))(
                  *((_DWORD *)v1 + 1),
                  v12,
                  v28,
                  v27,
                  v29);
                v13 = v18 + v22;
                ++v28;
                v10 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4196);
                v22 += v18;
              }
              while ( v28 < v10 );
            }
            v24 += v17;
            ++v27;
          }
          while ( v27 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4200) );
        }
        j__free(v30);
        j__free(v29);
        result = 0;
      }
      else
      {
        j__free(v30);
        result = -2147024882;
      }
    }
    else
    {
      result = -2147024882;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043AB82) --------------------------------------------------------
signed int __usercall sub_43AB82@<eax>(int a1@<ecx>, int a2@<edi>, void *a3@<esi>)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // ecx@3
  unsigned int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // esi@6
  _DWORD *v10; // ecx@14
  int v11; // eax@17
  int v12; // ecx@17
  signed int v13; // edx@17
  int v14; // eax@25
  int v15; // esi@47
  void *v16; // eax@47
  int v17; // esi@52
  char *v18; // eax@53
  char *v19; // esi@54
  int v20; // eax@56
  int v21; // esi@57
  char *v22; // eax@57
  signed int v23; // esi@62
  unsigned int v24; // edx@69
  int v25; // eax@71
  int v26; // ecx@71
  double v27; // st6@71
  void *v28; // edi@71
  double v29; // st5@71
  float v30; // ST44_4@71
  double v31; // st4@71
  int v32; // eax@71
  float v33; // ST48_4@71
  float v34; // ST2C_4@71
  double v35; // st6@71
  double v36; // st5@71
  double v37; // st4@71
  int v38; // eax@71
  float v39; // ST38_4@71
  float v40; // ST1C_4@71
  float v41; // ST20_4@71
  float v42; // ST4C_4@71
  float v43; // ST50_4@71
  float v44; // ST54_4@71
  float v45; // ST58_4@71
  int v46; // [sp-8h] [bp-68h]@3
  void *v47; // [sp-4h] [bp-64h]@3
  void *v48; // [sp+44h] [bp-1Ch]@47
  char *v49; // [sp+44h] [bp-1Ch]@53
  char *v50; // [sp+44h] [bp-1Ch]@57
  char *v51; // [sp+44h] [bp-1Ch]@66
  int v52; // [sp+48h] [bp-18h]@64
  void *v53; // [sp+4Ch] [bp-14h]@70
  void *v54; // [sp+50h] [bp-10h]@48
  unsigned int v55; // [sp+54h] [bp-Ch]@66
  int v56; // [sp+58h] [bp-8h]@56
  char *v57; // [sp+5Ch] [bp-4h]@54

  v3 = a1;
  if ( *(_BYTE *)(a1 + 8) != 5 )
    return -2147467259;
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
  v7 = *(_DWORD *)(v3 + 4);
  v47 = a3;
  v8 = *(_DWORD *)(v7 + 4192);
  v46 = a2;
  if ( v8 != v6 >> 1 && (v8 != 1 || v6 != 1) )
    return -2147467259;
  v9 = *(_DWORD *)(v7 + 4196);
  if ( v9 != *(_DWORD *)(v5 + 4196) >> 1 && (v9 != 1 || *(_DWORD *)(v5 + 4196) != 1) )
    return -2147467259;
  if ( *(_DWORD *)(v7 + 4200) != 1 || *(_DWORD *)(v5 + 4200) != 1 )
    return -2147467259;
  if ( v6 > 1 && v6 & 1 )
  {
    *(_DWORD *)(v5 + 4192) = v6 & 0xFFFFFFFE;
    *(_DWORD *)(*(_DWORD *)v3 + 4204) -= *(_DWORD *)(*(_DWORD *)v3 + 4208);
  }
  v10 = (_DWORD *)(*(_DWORD *)v3 + 4196);
  if ( *v10 > 1u )
    *v10 &= 0xFFFFFFFE;
  if ( !(*(_BYTE *)(v3 + 10) & 8) )
  {
    v11 = *(_DWORD *)v3;
    v12 = *(_DWORD *)(v3 + 4);
    v13 = *(_DWORD *)(*(_DWORD *)v3 + 4);
    if ( v13 == *(_DWORD *)(v12 + 4)
      && *(_DWORD *)(v11 + 4192) >= 2u
      && *(_DWORD *)(v11 + 4196) >= 2u
      && !*(_DWORD *)(v12 + 16)
      && !*(_DWORD *)(v11 + 16) )
    {
      if ( v13 <= 29 )
      {
        if ( v13 != 29 )
        {
          switch ( v13 )
          {
            case 23:
              v14 = sub_439991(v3);
              goto LABEL_45;
            case 24:
              v14 = sub_439AE1(v3);
              goto LABEL_45;
            case 25:
              v14 = sub_439C05(v3);
              goto LABEL_45;
            case 26:
              v14 = sub_439D54(v3);
              goto LABEL_45;
            case 27:
              v14 = sub_439EA7(v3);
              goto LABEL_45;
            case 22:
              goto LABEL_36;
            case 21:
              goto LABEL_37;
            case 28:
              goto LABEL_44;
            default:
              goto LABEL_47;
          }
          goto LABEL_47;
        }
        v14 = sub_43A081(v3);
LABEL_45:
        if ( v14 >= 0 )
          return 0;
        goto LABEL_47;
      }
      if ( v13 > 41 )
      {
        if ( v13 == 50 )
        {
LABEL_44:
          v14 = sub_439FE6((_DWORD *)v3);
          goto LABEL_45;
        }
        if ( v13 == 51 )
        {
          v14 = sub_43A2EE(v3);
          goto LABEL_45;
        }
        if ( v13 == 52 )
        {
          v14 = sub_43A43A(v3);
          goto LABEL_45;
        }
      }
      else if ( *(_DWORD *)(*(_DWORD *)v3 + 4) != 41 )
      {
        if ( v13 == 30 )
        {
          v14 = sub_43A1CD(v3);
          goto LABEL_45;
        }
        if ( v13 == 32 )
        {
LABEL_37:
          v14 = sub_4396CC((_DWORD *)v3);
          goto LABEL_45;
        }
        if ( v13 == 33 )
        {
LABEL_36:
          v14 = sub_439963((_DWORD *)v3);
          goto LABEL_45;
        }
      }
    }
  }
LABEL_47:
  v15 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192);
  v16 = operator new(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192));
  v48 = v16;
  if ( v16 )
  {
    'vector constructor iterator'(v16, 16, v15, sub_434D2D);
    v54 = v48;
  }
  else
  {
    v54 = 0;
  }
  if ( v54 )
  {
    v17 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
    if ( *(_DWORD *)(*(_DWORD *)v3 + 4196) == 1 )
    {
      v18 = (char *)operator new(16 * v17);
      v49 = v18;
      if ( v18 )
      {
        'vector constructor iterator'(v18, 16, v17, sub_434D2D);
        v19 = v49;
        v57 = v49;
      }
      else
      {
        v57 = 0;
        v19 = 0;
      }
      v20 = (int)v19;
      v56 = (int)v19;
    }
    else
    {
      v21 = 2 * v17;
      v22 = (char *)operator new(16 * v21);
      v50 = v22;
      if ( v22 )
      {
        'vector constructor iterator'(v22, 16, v21, sub_434D2D);
        v57 = v50;
      }
      else
      {
        v57 = 0;
      }
      v19 = v57;
      v20 = (int)&v57[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
      v56 = (int)&v57[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
    }
    if ( v19 )
    {
      if ( *(_DWORD *)(*(_DWORD *)v3 + 4192) == 1 )
      {
        v52 = (int)v19;
      }
      else
      {
        v52 = (int)(v19 + 16);
        v20 += 16;
      }
      v55 = 0;
      v51 = (char *)v20;
      if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4196) )
      {
        do
        {
          (*(void (__stdcall **)(int, _DWORD, void *, int, void *))(**(_DWORD **)v3 + 4))(2 * v55, 0, v19, v46, v47);
          if ( (char *)v56 != v19 )
            (*(void (__stdcall **)(int, _DWORD, int))(**(_DWORD **)v3 + 4))(2 * v55 + 1, 0, v56);
          v24 = 0;
          if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) )
          {
            v53 = v54;
            do
            {
              v25 = 32 * v24 + v52;
              v26 = (int)&v57[32 * v24];
              v27 = *(float *)v25 + *(float *)v26;
              v28 = v53;
              v29 = *(float *)(v25 + 4);
              v53 = (char *)v53 + 16;
              v30 = *(float *)(v25 + 8) + *(float *)(v26 + 8);
              v31 = *(float *)(v25 + 12);
              v32 = 32 * v24 + v56;
              v33 = v31 + *(float *)(v26 + 12);
              v34 = v27 + *(float *)v32;
              v35 = v29 + *(float *)(v26 + 4) + *(float *)(v32 + 4);
              v36 = v30 + *(float *)(v32 + 8);
              v37 = v33 + *(float *)(v32 + 12);
              v38 = (int)&v51[32 * v24];
              v39 = v37;
              ++v24;
              v40 = v34 + *(float *)v38;
              v41 = v35 + *(float *)(v38 + 4);
              v42 = v40 * 0.25;
              v43 = v41 * 0.25;
              v44 = (v36 + *(float *)(v38 + 8)) * 0.25;
              v45 = (v39 + *(float *)(v38 + 12)) * 0.25;
              *(float *)v28 = v42;
              v28 = (char *)v28 + 4;
              *(float *)v28 = v43;
              v28 = (char *)v28 + 4;
              *(float *)v28 = v44;
              *((float *)v28 + 1) = v45;
            }
            while ( v24 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) );
            v19 = v57;
          }
          v47 = v54;
          v46 = 0;
          (*(void (__stdcall **)(int))(**(_DWORD **)(v3 + 4) + 8))(v55++);
        }
        while ( v55 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4196) );
      }
      j__free(v19);
      v23 = 0;
    }
    else
    {
      v23 = -2147024882;
    }
    j__free(v54);
    result = v23;
  }
  else
  {
    result = -2147024882;
  }
  return result;
}
// 43AB82: could not find valid save-restore pair for edi
// 43AB82: could not find valid save-restore pair for esi
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043AF91) --------------------------------------------------------
signed int __usercall sub_43AF91@<eax>(int a1@<ecx>, unsigned int a2@<edi>, void *a3@<esi>)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // ecx@3
  unsigned int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // esi@7
  _DWORD *v10; // ecx@14
  _DWORD *v11; // ecx@16
  int v12; // esi@18
  void *v13; // eax@18
  int v14; // esi@23
  int v15; // esi@24
  char *v16; // eax@24
  int v17; // ecx@27
  int v18; // eax@27
  int v19; // esi@27
  int v20; // edx@27
  int v21; // esi@28
  char *v22; // eax@28
  char *v23; // edi@32
  signed int v24; // esi@33
  int v25; // eax@37
  int v26; // edi@39
  int v27; // ecx@48
  int v28; // edx@48
  double v29; // st6@48
  double v30; // st5@48
  float v31; // ST54_4@48
  double v32; // st4@48
  int v33; // ecx@48
  float v34; // ST58_4@48
  float v35; // ST2C_4@48
  double v36; // st6@48
  double v37; // st5@48
  double v38; // st4@48
  int v39; // ecx@48
  float v40; // ST38_4@48
  float v41; // ST5C_4@48
  float v42; // ST60_4@48
  double v43; // st6@48
  double v44; // st5@48
  int v45; // ecx@48
  float v46; // ST8C_4@48
  float v47; // ST90_4@48
  float v48; // ST94_4@48
  double v49; // st5@48
  int v50; // ecx@48
  double v51; // st6@48
  double v52; // st5@48
  float v53; // ST80_4@48
  float v54; // ST84_4@48
  float v55; // ST88_4@48
  int v56; // ecx@48
  void *v57; // edi@48
  float v58; // ST44_4@48
  int v59; // eax@48
  float v60; // ST48_4@48
  float v61; // ST1C_4@48
  float v62; // ST28_4@48
  float v63; // ST6C_4@48
  float v64; // ST70_4@48
  float v65; // ST74_4@48
  float v66; // ST78_4@48
  unsigned int v67; // [sp-8h] [bp-48h]@3
  void *v68; // [sp-4h] [bp-44h]@3
  int v69; // [sp+84h] [bp+44h]@37
  int v70; // [sp+88h] [bp+48h]@35
  int v71; // [sp+8Ch] [bp+4Ch]@35
  void *v72; // [sp+90h] [bp+50h]@47
  int v73; // [sp+94h] [bp+54h]@27
  int v74; // [sp+98h] [bp+58h]@27
  unsigned int v75; // [sp+9Ch] [bp+5Ch]@46
  int v76; // [sp+A0h] [bp+60h]@27
  unsigned int v77; // [sp+A4h] [bp+64h]@37
  void *v78; // [sp+A8h] [bp+68h]@19
  void *v79; // [sp+ACh] [bp+6Ch]@18
  char *v80; // [sp+ACh] [bp+6Ch]@24
  char *v81; // [sp+ACh] [bp+6Ch]@28
  int v82; // [sp+ACh] [bp+6Ch]@37
  unsigned int v83; // [sp+B0h] [bp+70h]@38
  char *v84; // [sp+B4h] [bp+74h]@25

  v3 = a1;
  if ( *(_BYTE *)(a1 + 8) == 5 )
  {
    v5 = *(_DWORD *)a1;
    v6 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
    v7 = *(_DWORD *)(v3 + 4);
    v68 = a3;
    v8 = *(_DWORD *)(v7 + 4192);
    v67 = a2;
    if ( v8 != v6 >> 1 && (v8 != 1 || v6 != 1)
      || (v9 = *(_DWORD *)(v7 + 4196), v9 != *(_DWORD *)(v5 + 4196) >> 1) && (v9 != 1 || *(_DWORD *)(v5 + 4196) != 1)
      || *(_DWORD *)(v7 + 4200) != *(_DWORD *)(v5 + 4200) >> 1 )
    {
      result = -2147467259;
    }
    else
    {
      if ( v6 > 1 && v6 & 1 )
      {
        *(_DWORD *)(v5 + 4192) = v6 & 0xFFFFFFFE;
        *(_DWORD *)(*(_DWORD *)v3 + 4204) -= *(_DWORD *)(*(_DWORD *)v3 + 4208);
      }
      v10 = (_DWORD *)(*(_DWORD *)v3 + 4196);
      if ( *v10 > 1u )
        *v10 &= 0xFFFFFFFE;
      v11 = (_DWORD *)(*(_DWORD *)v3 + 4200);
      if ( *v11 > 1u )
        *v11 &= 0xFFFFFFFE;
      v12 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192);
      v13 = operator new(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192));
      v79 = v13;
      if ( v13 )
      {
        'vector constructor iterator'(v13, 16, v12, sub_434D2D);
        v78 = v79;
      }
      else
      {
        v78 = 0;
      }
      if ( v78 )
      {
        v14 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
        if ( *(_DWORD *)(*(_DWORD *)v3 + 4196) == 1 )
        {
          v15 = 2 * v14;
          v16 = (char *)operator new(16 * v15);
          v80 = v16;
          if ( v16 )
          {
            'vector constructor iterator'(v16, 16, v15, sub_434D2D);
            v84 = v80;
          }
          else
          {
            v84 = 0;
          }
          v17 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
          v18 = (int)v84;
          v19 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v20 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v73 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v76 = (int)v84;
          v74 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
        }
        else
        {
          v21 = 4 * v14;
          v22 = (char *)operator new(16 * v21);
          v81 = v22;
          if ( v22 )
          {
            'vector constructor iterator'(v22, 16, v21, sub_434D2D);
            v84 = v81;
          }
          else
          {
            v84 = 0;
          }
          v17 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
          v73 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v19 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v76 = (int)&v84[32 * v17];
          v74 = (int)&v84[48 * v17];
          v18 = (int)&v84[32 * v17];
          v20 = (int)&v84[48 * v17];
        }
        v23 = v84;
        if ( v84 )
        {
          if ( v17 == 1 )
          {
            v70 = (int)v84;
            v71 = v19;
          }
          else
          {
            v70 = (int)(v84 + 16);
            v18 += 16;
            v71 = v19 + 16;
            v20 += 16;
          }
          v77 = 0;
          v69 = v18;
          v25 = *(_DWORD *)(v3 + 4);
          v82 = v20;
          if ( *(_DWORD *)(v25 + 4200) )
          {
            do
            {
              v83 = 0;
              if ( *(_DWORD *)(v25 + 4196) )
              {
                do
                {
                  v26 = 2 * v77;
                  (*(void (__stdcall **)(int, int, void *, unsigned int, void *))(**(_DWORD **)v3 + 4))(
                    2 * v83,
                    2 * v77,
                    v84,
                    v67,
                    v68);
                  if ( (char *)v19 != v84 )
                    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v3 + 4))(2 * v83, v26 + 1, v19);
                  if ( (char *)v76 != v84 )
                    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v3 + 4))(2 * v83 + 1, v26, v76);
                  if ( v74 != v19 && v74 != v76 )
                    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v3 + 4))(2 * v83 + 1, v26 + 1, v74);
                  v75 = 0;
                  if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) )
                  {
                    v72 = v78;
                    do
                    {
                      v27 = 32 * v75 + v70;
                      v28 = (int)&v84[32 * v75];
                      v29 = *(float *)v27 + *(float *)v28;
                      v30 = *(float *)(v27 + 4) + *(float *)(v28 + 4);
                      v31 = *(float *)(v27 + 8) + *(float *)(v28 + 8);
                      v32 = *(float *)(v27 + 12);
                      v33 = 32 * v75 + v19;
                      v34 = v32 + *(float *)(v28 + 12);
                      v35 = v29 + *(float *)v33;
                      v36 = v30 + *(float *)(v33 + 4);
                      v37 = v31 + *(float *)(v33 + 8);
                      v38 = v34 + *(float *)(v33 + 12);
                      v39 = 32 * v75 + v71;
                      v40 = v38;
                      v41 = v35 + *(float *)v39;
                      v42 = v36 + *(float *)(v39 + 4);
                      v43 = v37 + *(float *)(v39 + 8);
                      v44 = v40 + *(float *)(v39 + 12);
                      v45 = 32 * v75 + v76;
                      v46 = v41 + *(float *)v45;
                      v47 = v42 + *(float *)(v45 + 4);
                      v48 = v43 + *(float *)(v45 + 8);
                      v49 = v44 + *(float *)(v45 + 12);
                      v50 = 32 * v75 + v69;
                      v51 = v49;
                      v52 = v46 + *(float *)v50;
                      v53 = v47 + *(float *)(v50 + 4);
                      v54 = v48 + *(float *)(v50 + 8);
                      v55 = v51 + *(float *)(v50 + 12);
                      v56 = 32 * v75 + v74;
                      v57 = v72;
                      v72 = (char *)v72 + 16;
                      v58 = v54 + *(float *)(v56 + 8);
                      v59 = v82 + 32 * v75++;
                      v60 = v55 + *(float *)(v56 + 12);
                      v61 = v52 + *(float *)v56 + *(float *)v59;
                      v62 = v60 + *(float *)(v59 + 12);
                      v63 = v61 * 0.125;
                      v64 = (v53 + *(float *)(v56 + 4) + *(float *)(v59 + 4)) * 0.125;
                      v65 = (v58 + *(float *)(v59 + 8)) * 0.125;
                      v66 = v62 * 0.125;
                      *(float *)v57 = v63;
                      v57 = (char *)v57 + 4;
                      *(float *)v57 = v64;
                      v57 = (char *)v57 + 4;
                      *(float *)v57 = v65;
                      *((float *)v57 + 1) = v66;
                      v19 = v73;
                    }
                    while ( v75 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) );
                  }
                  v68 = v78;
                  v67 = v77;
                  (*(void (__stdcall **)(int))(**(_DWORD **)(v3 + 4) + 8))(v83++);
                }
                while ( v83 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4196) );
              }
              ++v77;
              v25 = *(_DWORD *)(v3 + 4);
            }
            while ( v77 < *(_DWORD *)(v25 + 4200) );
            v23 = v84;
          }
          j__free(v23);
          v24 = 0;
        }
        else
        {
          v24 = -2147024882;
        }
        j__free(v78);
        result = v24;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 43AF91: could not find valid save-restore pair for edi
// 43AF91: could not find valid save-restore pair for esi
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043B3C6) --------------------------------------------------------
void *__userpurge sub_43B3C6@<eax>(unsigned int a1@<edi>, unsigned int a2@<esi>, int a3)
{
  void *result; // eax@1
  void *v4; // ecx@1
  float v5; // ST10_4@3
  float v6; // ST14_4@3
  unsigned int v7; // eax@3
  int v8; // edx@3
  double v9; // st7@3
  void *v10; // [sp+0h] [bp-1Ch]@2
  int v11; // [sp+14h] [bp-8h]@0
  unsigned int v12; // [sp+18h] [bp-4h]@2

  result = operator new(16 * a1);
  v4 = result;
  if ( result )
  {
    v10 = result;
    v12 = 0;
    dword_537BFC = v11;
    if ( a1 )
    {
      do
      {
        v5 = (double)a2 / (double)a1;
        v6 = ((double)v12 + 0.5) * v5 + 0.5;
        v7 = (signed int)v6;
        v8 = v7 - 1;
        v9 = (double)(signed int)v7 + 1.0 - v6;
        if ( ((v7 - 1) & 0x80000000) != 0 )
          v8 = a3 != 0 ? a2 - 1 : 0;
        if ( v7 >= a2 )
          v7 = a3 == 0 ? a2 - 1 : 0;
        *((float *)v4 + 1) = v9;
        *(_DWORD *)v4 = v8;
        *((_DWORD *)v4 + 2) = v7;
        v4 = (char *)v4 + 16;
        ++v12;
        *((float *)v4 - 1) = 1.0 - v9;
      }
      while ( v12 < a1 );
    }
    result = v10;
  }
  return result;
}
// 537BFC: using guessed type int dword_537BFC;

//----- (0043B4B8) --------------------------------------------------------
signed int __thiscall sub_43B4B8(void *this)
{
  _DWORD *v1; // ebx@1
  unsigned int v2; // eax@1
  signed int result; // eax@2
  int v4; // esi@3
  void *v5; // STC8_4@5
  void *v6; // eax@5
  int v7; // edi@7
  void *v8; // eax@7
  int v9; // edi@11
  char *v10; // eax@11
  int v11; // edi@15
  signed int *v12; // esi@16
  int v13; // eax@17
  signed int v14; // ecx@18
  int v15; // eax@20
  int v16; // eax@24
  double v17; // st7@25
  int v18; // ecx@25
  float v19; // ST6C_4@25
  float v20; // ST70_4@25
  float v21; // ST74_4@25
  double v22; // st7@25
  double v23; // st6@25
  int v24; // esi@25
  int v25; // ecx@25
  float v26; // ST50_4@25
  float v27; // ST54_4@25
  float v28; // ST58_4@25
  float v29; // ST9C_4@25
  float v30; // STA0_4@25
  float v31; // STA4_4@25
  double v32; // st6@25
  float v33; // ST3C_4@25
  float v34; // ST40_4@25
  float v35; // ST44_4@25
  double v36; // st7@25
  double v37; // st6@25
  float v38; // ST2C_4@25
  float v39; // ST30_4@25
  float v40; // ST34_4@25
  int v41; // esi@25
  void *v42; // edi@25
  double v43; // st5@25
  float v44; // ST90_4@25
  float v45; // ST94_4@25
  float v46; // ST98_4@25
  float v47; // ST7C_4@25
  float v48; // ST80_4@25
  float v49; // ST84_4@25
  double v50; // st5@25
  float v51; // ST5C_4@25
  float v52; // ST60_4@25
  float v53; // ST64_4@25
  float v54; // ST1C_4@25
  float v55; // ST20_4@25
  float v56; // ST24_4@25
  float v57; // ST28_4@25
  signed int v58; // esi@28
  unsigned int v59; // [sp+94h] [bp+48h]@17
  signed int v60; // [sp+98h] [bp+4Ch]@15
  void *v61; // [sp+9Ch] [bp+50h]@24
  char *v62; // [sp+A0h] [bp+54h]@5
  char *v63; // [sp+A4h] [bp+58h]@15
  unsigned int v64; // [sp+A8h] [bp+5Ch]@15
  signed int v65; // [sp+ACh] [bp+60h]@15
  void *v66; // [sp+B0h] [bp+64h]@5
  char *v67; // [sp+B4h] [bp+68h]@1
  int v68; // [sp+B8h] [bp+6Ch]@15
  void *v69; // [sp+BCh] [bp+70h]@1
  void *v70; // [sp+C0h] [bp+74h]@7
  char *v71; // [sp+C0h] [bp+74h]@11
  int v72; // [sp+C0h] [bp+74h]@16

  v69 = 0;
  v67 = 0;
  v1 = this;
  v2 = *((_DWORD *)this + 2);
  if ( (_BYTE)v2 == 3 )
  {
    v4 = *((_DWORD *)this + 1);
    if ( *(_DWORD *)(v4 + 4200) != 1 || *(_DWORD *)(*(_DWORD *)this + 4200) != 1 )
    {
      result = -2147467259;
    }
    else
    {
      v5 = (void *)(~(v2 >> 17) & 1);
      v62 = (char *)sub_43B3C6(*(_DWORD *)(v4 + 4192), *(_DWORD *)(*(_DWORD *)this + 4192), ~(v2 >> 16) & 1);
      v6 = sub_43B3C6(*(_DWORD *)(v1[1] + 4196), *(_DWORD *)(*v1 + 4196), (int)v5);
      v66 = v6;
      if ( v62
        && v6
        && ((v7 = *(_DWORD *)(v1[1] + 4192), v8 = operator new(16 * *(_DWORD *)(v1[1] + 4192)), (v70 = v8) == 0) ? (v69 = 0) : ('vector constructor iterator'(v8, 16, v7, sub_434D2D), v69 = v70),
            v69
         && ((v9 = 2 * *(_DWORD *)(*v1 + 4192),
              v10 = (char *)operator new(32 * *(_DWORD *)(*v1 + 4192)),
              (v71 = v10) == 0) ? (v67 = 0) : ('vector constructor iterator'(v10, 16, v9, sub_434D2D), v67 = v71),
             v67)) )
      {
        v64 = 0;
        v60 = -1;
        v65 = -1;
        v11 = (int)&v67[16 * *(_DWORD *)(*v1 + 4192)];
        v63 = v67;
        v68 = (int)&v67[16 * *(_DWORD *)(*v1 + 4192)];
        if ( *(_DWORD *)(v1[1] + 4196) )
        {
          v12 = (signed int *)((char *)v66 + 8);
          v72 = (int)v66 + 8;
          do
          {
            v13 = *(v12 - 2);
            v59 = 0;
            if ( v13 != v60 )
            {
              v14 = v65;
              if ( v13 == v65 )
              {
                v15 = (int)v63;
                v65 = -1;
                v63 = (char *)v11;
                v60 = v14;
                v68 = v15;
                v11 = v15;
              }
              else
              {
                v60 = *(v12 - 2);
                (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)*v1 + 4))(v13, 0, v63);
              }
            }
            if ( *v12 != v65 )
            {
              v65 = *v12;
              (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(*v12, 0, v11);
            }
            if ( *(_DWORD *)(v1[1] + 4192) )
            {
              v16 = (int)(v62 + 8);
              v61 = v69;
              do
              {
                v17 = *(float *)(v16 + 4);
                v18 = 16 * *(_DWORD *)v16;
                v19 = v17 * *(float *)(v18 + v11);
                v20 = v17 * *(float *)(v18 + v11 + 4);
                v21 = v17 * *(float *)(v18 + v11 + 8);
                v22 = v17 * *(float *)(v18 + v11 + 12);
                v23 = *(float *)(v16 - 4);
                v24 = 16 * *(_DWORD *)(v16 - 8);
                v25 = (int)&v63[v18];
                v26 = v23 * *(float *)(v24 + v11 + 4);
                v27 = v23 * *(float *)(v24 + v11 + 8);
                v28 = v23 * *(float *)(v24 + v11 + 12);
                v29 = v23 * *(float *)(v24 + v11) + v19;
                v30 = v26 + v20;
                v31 = v27 + v21;
                v32 = *(float *)(v72 + 4);
                v33 = v29 * v32;
                v34 = v30 * v32;
                v35 = v31 * v32;
                v36 = (v28 + v22) * v32;
                v37 = *(float *)(v16 + 4);
                v38 = v37 * *(float *)v25;
                v39 = v37 * *(float *)(v25 + 4);
                v40 = v37 * *(float *)(v25 + 8);
                v41 = (int)&v63[v24];
                v42 = v61;
                v61 = (char *)v61 + 16;
                v43 = *(float *)(v16 - 4);
                v16 += 16;
                ++v59;
                v44 = v43 * *(float *)(v41 + 4);
                v45 = v43 * *(float *)(v41 + 8);
                v46 = v43 * *(float *)(v41 + 12);
                v47 = v43 * *(float *)v41 + v38;
                v48 = v44 + v39;
                v49 = v45 + v40;
                v50 = *(float *)(v72 - 4);
                v51 = v47 * v50;
                v52 = v48 * v50;
                v53 = v49 * v50;
                v54 = v51 + v33;
                v55 = v52 + v34;
                v56 = v53 + v35;
                v57 = (v46 + v37 * *(float *)(v25 + 12)) * v50 + v36;
                *(float *)v42 = v54;
                v42 = (char *)v42 + 4;
                *(float *)v42 = v55;
                v42 = (char *)v42 + 4;
                *(float *)v42 = v56;
                *((float *)v42 + 1) = v57;
                v11 = v68;
              }
              while ( v59 < *(_DWORD *)(v1[1] + 4192) );
              v12 = (signed int *)v72;
            }
            (*(void (__stdcall **)(unsigned int, _DWORD, void *))(*(_DWORD *)v1[1] + 8))(v64, 0, v69);
            v12 += 4;
            ++v64;
            v72 = (int)v12;
          }
          while ( v64 < *(_DWORD *)(v1[1] + 4196) );
        }
        v58 = 0;
      }
      else
      {
        v58 = -2147024882;
      }
      j__free(v62);
      j__free(v66);
      j__free(v69);
      j__free(v67);
      result = v58;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043B847) --------------------------------------------------------
signed int __thiscall sub_43B847(void *this)
{
  _DWORD *v1; // ebx@1
  unsigned int v2; // eax@1
  signed int result; // eax@2
  int v4; // ST1B0_4@3
  void *v5; // ST184_4@3
  char *v6; // eax@3
  int v7; // esi@6
  void *v8; // eax@6
  int v9; // esi@10
  char *v10; // eax@10
  int v11; // esi@14
  int v12; // eax@14
  int v13; // esi@14
  int v14; // edi@17
  int v15; // eax@18
  signed int v16; // ecx@19
  int v17; // ecx@21
  int v18; // eax@21
  int v19; // eax@25
  double v20; // st7@26
  int v21; // ecx@26
  int v22; // esi@26
  float v23; // STB0_4@26
  float v24; // STB4_4@26
  float v25; // STB8_4@26
  double v26; // st7@26
  double v27; // st6@26
  int v28; // esi@26
  float v29; // ST164_4@26
  float v30; // ST168_4@26
  float v31; // ST16C_4@26
  float v32; // ST130_4@26
  float v33; // ST134_4@26
  float v34; // ST138_4@26
  double v35; // st6@26
  float v36; // ST50_4@26
  float v37; // ST54_4@26
  float v38; // ST58_4@26
  double v39; // st7@26
  double v40; // st6@26
  float v41; // ST30_4@26
  float v42; // ST34_4@26
  float v43; // ST38_4@26
  double v44; // st5@26
  float v45; // ST114_4@26
  float v46; // ST118_4@26
  float v47; // ST11C_4@26
  float v48; // ST90_4@26
  float v49; // ST94_4@26
  float v50; // ST98_4@26
  double v51; // st5@26
  float v52; // STF0_4@26
  float v53; // STF4_4@26
  float v54; // STF8_4@26
  float v55; // STD0_4@26
  float v56; // STD4_4@26
  float v57; // STD8_4@26
  double v58; // st7@26
  double v59; // st6@26
  float v60; // ST40_4@26
  float v61; // ST44_4@26
  float v62; // ST48_4@26
  double v63; // st7@26
  double v64; // st6@26
  float v65; // ST70_4@26
  float v66; // ST74_4@26
  float v67; // ST78_4@26
  double v68; // st6@26
  double v69; // st5@26
  float v70; // ST154_4@26
  float v71; // ST158_4@26
  int v72; // ecx@26
  float v73; // ST15C_4@26
  float v74; // ST140_4@26
  float v75; // ST144_4@26
  float v76; // ST148_4@26
  double v77; // st5@26
  float v78; // STA0_4@26
  float v79; // STA4_4@26
  float v80; // STA8_4@26
  double v81; // st6@26
  double v82; // st5@26
  float v83; // ST120_4@26
  float v84; // ST124_4@26
  float v85; // ST128_4@26
  int v86; // esi@26
  double v87; // st4@26
  float v88; // ST104_4@26
  float v89; // ST108_4@26
  float v90; // ST10C_4@26
  float v91; // STE0_4@26
  float v92; // STE4_4@26
  float v93; // STE8_4@26
  double v94; // st4@26
  float v95; // STC0_4@26
  float v96; // STC4_4@26
  float v97; // STC8_4@26
  double v98; // st3@26
  float v99; // ST80_4@26
  float v100; // ST84_4@26
  float v101; // ST88_4@26
  double v102; // st5@26
  float v103; // ST60_4@26
  float v104; // ST64_4@26
  float v105; // ST68_4@26
  void *v106; // edi@26
  float v107; // ST20_4@26
  float v108; // ST24_4@26
  float v109; // ST28_4@26
  float v110; // ST2C_4@26
  signed int v111; // esi@29
  void *v112; // [sp+154h] [bp+34h]@25
  char *v113; // [sp+158h] [bp+38h]@3
  char *v114; // [sp+15Ch] [bp+3Ch]@3
  unsigned int v115; // [sp+160h] [bp+40h]@18
  char *v116; // [sp+164h] [bp+44h]@14
  char *v117; // [sp+168h] [bp+48h]@3
  unsigned int v118; // [sp+16Ch] [bp+4Ch]@14
  char *v119; // [sp+170h] [bp+50h]@1
  unsigned int v120; // [sp+174h] [bp+54h]@16
  int v121; // [sp+178h] [bp+58h]@14
  int v122; // [sp+17Ch] [bp+5Ch]@14
  int v123; // [sp+180h] [bp+60h]@14
  signed int v124; // [sp+184h] [bp+64h]@16
  void *v125; // [sp+188h] [bp+68h]@1
  signed int v126; // [sp+18Ch] [bp+6Ch]@16
  int v127; // [sp+190h] [bp+70h]@15
  void *v128; // [sp+194h] [bp+74h]@6
  char *v129; // [sp+194h] [bp+74h]@10
  int v130; // [sp+194h] [bp+74h]@17

  v125 = 0;
  v119 = 0;
  v1 = this;
  v2 = *((_DWORD *)this + 2);
  if ( (_BYTE)v2 == 3 )
  {
    v4 = ~(unsigned __int8)(v2 >> 18) & 1;
    v5 = (void *)(~(unsigned __int8)(v2 >> 17) & 1);
    v113 = (char *)sub_43B3C6(
                     *(_DWORD *)(*((_DWORD *)this + 1) + 4192),
                     *(_DWORD *)(*(_DWORD *)this + 4192),
                     ~(unsigned __int8)(v2 >> 16) & 1);
    v114 = (char *)sub_43B3C6(*(_DWORD *)(v1[1] + 4196), *(_DWORD *)(*v1 + 4196), (int)v5);
    v6 = (char *)sub_43B3C6(*(_DWORD *)(v1[1] + 4200), *(_DWORD *)(*v1 + 4200), v4);
    v117 = v6;
    if ( v113
      && v114
      && v6
      && ((v7 = *(_DWORD *)(v1[1] + 4192), v8 = operator new(16 * *(_DWORD *)(v1[1] + 4192)), (v128 = v8) == 0) ? (v125 = 0) : ('vector constructor iterator'(v8, 16, v7, sub_434D2D), v125 = v128),
          v125
       && ((v9 = 4 * *(_DWORD *)(*v1 + 4192), v10 = (char *)operator new(*(_DWORD *)(*v1 + 4192) << 6),
                                              (v129 = v10) == 0) ? (v119 = 0) : ('vector constructor iterator'(
                                                                                   v10,
                                                                                   16,
                                                                                   v9,
                                                                                   sub_434D2D),
                                                                                 v119 = v129),
           v119)) )
    {
      v11 = *(_DWORD *)(*v1 + 4192);
      v118 = 0;
      v122 = (int)&v119[16 * v11];
      v121 = (int)&v119[32 * v11];
      v12 = v1[1];
      v13 = (int)&v119[48 * v11];
      v116 = v119;
      v123 = v13;
      if ( *(_DWORD *)(v12 + 4200) )
      {
        v127 = (int)(v117 + 8);
        do
        {
          v120 = 0;
          v124 = -1;
          v126 = -1;
          if ( *(_DWORD *)(v12 + 4196) )
          {
            v14 = (int)(v114 + 8);
            v130 = (int)(v114 + 8);
            do
            {
              v15 = *(_DWORD *)(v14 - 8);
              v115 = 0;
              if ( v15 != v124 )
              {
                v16 = v126;
                if ( v15 == v126 )
                {
                  v126 = -1;
                  v124 = v16;
                  v17 = v122;
                  v122 = (int)v116;
                  v18 = v121;
                  v121 = v13;
                  v116 = (char *)v17;
                  v123 = v18;
                  v13 = v18;
                }
                else
                {
                  v124 = *(_DWORD *)(v14 - 8);
                  (*(void (__stdcall **)(int, _DWORD, void *))(*(_DWORD *)*v1 + 4))(v15, *(_DWORD *)(v127 - 8), v116);
                  (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(v124, *(_DWORD *)v127, v121);
                }
              }
              if ( *(_DWORD *)v14 != v126 )
              {
                v126 = *(_DWORD *)v14;
                (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(
                  *(_DWORD *)v14,
                  *(_DWORD *)(v127 - 8),
                  v122);
                (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(v126, *(_DWORD *)v127, v13);
              }
              if ( *(_DWORD *)(v1[1] + 4192) )
              {
                v19 = (int)(v113 + 8);
                v112 = v125;
                do
                {
                  v20 = *(float *)(v19 + 4);
                  v21 = 16 * *(_DWORD *)v19;
                  v22 = v21 + v13;
                  v23 = v20 * *(float *)v22;
                  v24 = v20 * *(float *)(v22 + 4);
                  v25 = v20 * *(float *)(v22 + 8);
                  v26 = v20 * *(float *)(v22 + 12);
                  v27 = *(float *)(v19 - 4);
                  v28 = 16 * *(_DWORD *)(v19 - 8);
                  v29 = v27 * *(float *)(v28 + v123 + 4);
                  v30 = v27 * *(float *)(v28 + v123 + 8);
                  v31 = v27 * *(float *)(v28 + v123 + 12);
                  v32 = v27 * *(float *)(v28 + v123) + v23;
                  v33 = v29 + v24;
                  v34 = v30 + v25;
                  v35 = *(float *)(v14 + 4);
                  v36 = v32 * v35;
                  v37 = v33 * v35;
                  v38 = v34 * v35;
                  v39 = (v31 + v26) * v35;
                  v40 = *(float *)(v19 + 4);
                  v41 = v40 * *(float *)(v21 + v121);
                  v42 = v40 * *(float *)(v21 + v121 + 4);
                  v43 = v40 * *(float *)(v21 + v121 + 8);
                  v44 = *(float *)(v19 - 4);
                  v45 = v44 * *(float *)(v28 + v121 + 4);
                  v46 = v44 * *(float *)(v28 + v121 + 8);
                  v47 = v44 * *(float *)(v28 + v121 + 12);
                  v48 = v44 * *(float *)(v28 + v121) + v41;
                  v49 = v45 + v42;
                  v50 = v46 + v43;
                  v51 = *(float *)(v14 - 4);
                  v52 = v48 * v51;
                  v53 = v49 * v51;
                  v54 = v50 * v51;
                  v55 = v52 + v36;
                  v56 = v53 + v37;
                  v57 = v54 + v38;
                  v58 = (v47 + v40 * *(float *)(v21 + v121 + 12)) * v51 + v39;
                  v59 = *(float *)(v127 + 4);
                  v60 = v55 * v59;
                  v61 = v56 * v59;
                  v62 = v57 * v59;
                  v63 = v58 * v59;
                  v64 = *(float *)(v19 + 4);
                  v65 = v64 * *(float *)(v21 + v122);
                  v66 = v64 * *(float *)(v21 + v122 + 4);
                  v67 = v64 * *(float *)(v21 + v122 + 8);
                  v68 = v64 * *(float *)(v21 + v122 + 12);
                  v69 = *(float *)(v19 - 4);
                  v70 = v69 * *(float *)(v28 + v122 + 4);
                  v71 = v69 * *(float *)(v28 + v122 + 8);
                  v72 = (int)&v116[v21];
                  v73 = v69 * *(float *)(v28 + v122 + 12);
                  v74 = v69 * *(float *)(v28 + v122) + v65;
                  v75 = v70 + v66;
                  v76 = v71 + v67;
                  v77 = *(float *)(v14 + 4);
                  v78 = v74 * v77;
                  v79 = v75 * v77;
                  v80 = v76 * v77;
                  v81 = (v73 + v68) * v77;
                  v82 = *(float *)(v19 + 4);
                  v83 = v82 * *(float *)v72;
                  v84 = v82 * *(float *)(v72 + 4);
                  v85 = v82 * *(float *)(v72 + 8);
                  v86 = (int)&v116[v28];
                  v87 = *(float *)(v19 - 4);
                  v88 = v87 * *(float *)(v86 + 4);
                  v89 = v87 * *(float *)(v86 + 8);
                  v90 = v87 * *(float *)(v86 + 12);
                  v91 = v87 * *(float *)v86 + v83;
                  v92 = v88 + v84;
                  v93 = v89 + v85;
                  v94 = *(float *)(v14 - 4);
                  v95 = v91 * v94;
                  v96 = v92 * v94;
                  v97 = v93 * v94;
                  v98 = (v90 + v82 * *(float *)(v72 + 12)) * v94;
                  v99 = v95 + v78;
                  v100 = v96 + v79;
                  v101 = v97 + v80;
                  v102 = *(float *)(v127 - 4);
                  v103 = v99 * v102;
                  v104 = v100 * v102;
                  v105 = v101 * v102;
                  v106 = v112;
                  v112 = (char *)v112 + 16;
                  v19 += 16;
                  ++v115;
                  v107 = v103 + v60;
                  v108 = v104 + v61;
                  v109 = v105 + v62;
                  v110 = (v98 + v81) * v102 + v63;
                  *(float *)v106 = v107;
                  v106 = (char *)v106 + 4;
                  *(float *)v106 = v108;
                  v106 = (char *)v106 + 4;
                  *(float *)v106 = v109;
                  *((float *)v106 + 1) = v110;
                  v13 = v123;
                  v14 = v130;
                }
                while ( v115 < *(_DWORD *)(v1[1] + 4192) );
              }
              (*(void (__stdcall **)(unsigned int, unsigned int, void *))(*(_DWORD *)v1[1] + 8))(v120, v118, v125);
              v14 += 16;
              ++v120;
              v130 = v14;
            }
            while ( v120 < *(_DWORD *)(v1[1] + 4196) );
          }
          v127 += 16;
          ++v118;
          v12 = v1[1];
        }
        while ( v118 < *(_DWORD *)(v12 + 4200) );
      }
      v111 = 0;
    }
    else
    {
      v111 = -2147024882;
    }
    j__free(v113);
    j__free(v114);
    j__free(v117);
    j__free(v125);
    j__free(v119);
    result = v111;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043BF12) --------------------------------------------------------
signed int __thiscall sub_43BF12(void *this)
{
  _DWORD *v1; // esi@1
  unsigned int v2; // eax@1
  int v3; // edi@1
  unsigned int v4; // ebx@4
  int v5; // edi@4
  _DWORD *v6; // eax@4
  int v7; // ST24_4@5
  int v8; // edi@8
  void *v9; // eax@8
  _DWORD *v10; // ecx@12
  unsigned int v11; // edx@13
  _DWORD *i; // ecx@13
  _DWORD *v13; // eax@17
  double v14; // st7@18
  void **v15; // ebx@20
  int v16; // edi@23
  void *v17; // eax@23
  void *v18; // eax@24
  int v19; // edx@32
  unsigned int v20; // eax@33
  unsigned int k; // ebx@34
  int v22; // eax@35
  unsigned int v23; // ecx@35
  double v24; // st7@36
  float *v25; // edi@36
  _DWORD *v26; // ebx@45
  int v27; // edi@46
  bool v28; // zf@46
  int v29; // eax@47
  int v30; // ecx@48
  int v31; // eax@48
  unsigned int v32; // edx@51
  int v33; // ecx@52
  double v34; // st6@54
  double v35; // st6@59
  double v36; // st6@64
  double v37; // st6@69
  unsigned int v38; // edx@75
  int v39; // ecx@76
  double v40; // st6@78
  double v41; // st6@83
  double v42; // st6@88
  double v43; // st6@93
  unsigned int v44; // edx@99
  int v45; // ecx@100
  double v46; // st6@102
  double v47; // st6@107
  double v48; // st6@112
  double v49; // st6@117
  signed int v50; // esi@127
  unsigned int v52; // [sp+Ch] [bp-48h]@4
  int v53; // [sp+10h] [bp-44h]@1
  void *v54; // [sp+10h] [bp-44h]@8
  int v55; // [sp+10h] [bp-44h]@19
  unsigned int v56; // [sp+14h] [bp-40h]@4
  unsigned int v57; // [sp+18h] [bp-3Ch]@4
  _DWORD *v58; // [sp+1Ch] [bp-38h]@1
  int v59; // [sp+20h] [bp-34h]@17
  void *v60; // [sp+24h] [bp-30h]@23
  char *v61; // [sp+24h] [bp-30h]@30
  unsigned int v62; // [sp+28h] [bp-2Ch]@31
  int v63; // [sp+2Ch] [bp-28h]@30
  char *v64; // [sp+30h] [bp-24h]@31
  unsigned int v65; // [sp+34h] [bp-20h]@33
  _DWORD *v66; // [sp+38h] [bp-1Ch]@1
  _DWORD *v67; // [sp+3Ch] [bp-18h]@1
  int v68; // [sp+40h] [bp-14h]@1
  unsigned int v69; // [sp+44h] [bp-10h]@19
  void *v70; // [sp+48h] [bp-Ch]@1
  _DWORD *v71; // [sp+4Ch] [bp-8h]@1
  _DWORD *j; // [sp+50h] [bp-4h]@19
  int v73; // [sp+50h] [bp-4h]@33
  unsigned int v74; // [sp+50h] [bp-4h]@47

  v1 = this;
  v2 = *((_DWORD *)this + 2);
  v53 = ~(unsigned __int8)(v2 >> 18) & 1;
  v66 = 0;
  v67 = 0;
  v71 = 0;
  v68 = 0;
  v70 = 0;
  v3 = ~(unsigned __int8)(v2 >> 17) & 1;
  v58 = sub_43915A(
          *(_DWORD *)(*(_DWORD *)this + 4192),
          *(_DWORD *)(*((_DWORD *)this + 1) + 4192),
          ~(unsigned __int8)(v2 >> 16) & 1);
  if ( v58
    && (v66 = sub_43915A(*(_DWORD *)(*v1 + 4196), *(_DWORD *)(v1[1] + 4196), v3)) != 0
    && (v67 = sub_43915A(*(_DWORD *)(*v1 + 4200), *(_DWORD *)(v1[1] + 4200), v53)) != 0 )
  {
    v57 = (unsigned int)v58 + *v58;
    v56 = (unsigned int)v66 + *v66;
    v4 = (unsigned int)v67 + *v67;
    v5 = *(_DWORD *)(v1[1] + 4200);
    v52 = (unsigned int)v67 + *v67;
    v6 = operator new(12 * v5 + 4);
    if ( v6 )
    {
      *v6 = v5;
      v7 = (int)(v6 + 1);
      'vector constructor iterator'(v6 + 1, 12, v5, unknown_libname_138);
      v71 = (_DWORD *)v7;
    }
    else
    {
      v71 = 0;
    }
    if ( v71
      && ((v8 = *(_DWORD *)(*v1 + 4192), v9 = operator new(16 * *(_DWORD *)(*v1 + 4192)), (v54 = v9) == 0) ? (v70 = 0) : ('vector constructor iterator'(v9, 16, v8, sub_434D2D), v70 = v54),
          v70) )
    {
      v10 = v67 + 1;
      if ( (unsigned int)(v67 + 1) < v4 )
      {
        do
        {
          v11 = (unsigned int)v10 + *v10;
          for ( i = v10 + 1; (unsigned int)i < v11; i += 2 )
            ++v71[3 * *i + 2];
          v10 = (_DWORD *)v11;
        }
        while ( v11 < v4 );
      }
      v13 = v67 + 1;
      v59 = 0;
      if ( (unsigned int)(v67 + 1) < v4 )
      {
        v14 = -1.0;
        do
        {
          v69 = (unsigned int)v13 + *v13;
          v55 = (int)(v13 + 1);
          for ( j = v13 + 1; (unsigned int)j < v69; j += 2 )
          {
            v15 = (void **)&v71[3 * *j];
            if ( !*v15 )
            {
              if ( v68 )
              {
                *v15 = *(void **)v68;
                *(_DWORD *)v68 = 0;
                v68 = *(_DWORD *)(v68 + 4);
              }
              else
              {
                v16 = *(_DWORD *)(v1[1] + 4192) * *(_DWORD *)(v1[1] + 4196);
                v17 = operator new(16 * v16);
                v60 = v17;
                if ( v17 )
                {
                  'vector constructor iterator'(v17, 16, v16, sub_434D2D);
                  v18 = v60;
                }
                else
                {
                  v18 = 0;
                }
                *v15 = v18;
                if ( !v18 )
                  goto LABEL_128;
                v14 = -1.0;
              }
              memset(*v15, 0, 16 * *(_DWORD *)(v1[1] + 4192) * *(_DWORD *)(v1[1] + 4196));
            }
          }
          v63 = 0;
          v61 = (char *)(v66 + 1);
          if ( (unsigned int)(v66 + 1) < v56 )
          {
            do
            {
              v62 = (unsigned int)&v61[*(_DWORD *)v61];
              (*(void (__stdcall **)(int, int, void *))(*(_DWORD *)*v1 + 4))(v63, v59, v70);
              v64 = (char *)(v58 + 1);
              if ( (unsigned int)(v58 + 1) < v57 )
              {
                v19 = (int)v70 + 8;
                do
                {
                  v65 = (unsigned int)&v64[*(_DWORD *)v64];
                  v20 = v55;
                  v73 = v55;
                  while ( v20 < v69 )
                  {
                    for ( k = (unsigned int)(v61 + 4); k < v62; k += 8 )
                    {
                      v22 = v71[3 * *(_DWORD *)v73] + 16 * *(_DWORD *)k * *(_DWORD *)(v1[1] + 4192);
                      v23 = (unsigned int)(v64 + 4);
                      while ( v23 < v65 )
                      {
                        v24 = *(float *)(v23 + 4) * *(float *)(k + 4) * *(float *)(v73 + 4);
                        *(float *)(v22 + 16 * *(_DWORD *)v23) = v24 * *(float *)(v19 - 8)
                                                              + *(float *)(v22 + 16 * *(_DWORD *)v23);
                        *(float *)(16 * *(_DWORD *)v23 + v22 + 4) = v24 * *(float *)(v19 - 4)
                                                                  + *(float *)(16 * *(_DWORD *)v23 + v22 + 4);
                        *(float *)(16 * *(_DWORD *)v23 + v22 + 8) = v24 * *(float *)v19
                                                                  + *(float *)(16 * *(_DWORD *)v23 + v22 + 8);
                        v25 = (float *)(16 * *(_DWORD *)v23 + v22 + 12);
                        v23 += 8;
                        *v25 = v24 * *(float *)(v19 + 4) + *v25;
                      }
                    }
                    v73 += 8;
                    v20 = v73;
                  }
                  v19 += 16;
                  v64 = (char *)v65;
                }
                while ( v65 < v57 );
              }
              ++v63;
              v61 = (char *)v62;
            }
            while ( v62 < v56 );
            v14 = -1.0;
          }
          v26 = (_DWORD *)v55;
          v13 = (_DWORD *)v69;
          while ( v26 < v13 )
          {
            v27 = (int)&v71[3 * *v26];
            v28 = (*(_DWORD *)(v27 + 8))-- == 1;
            if ( v28 )
            {
              v29 = v1[1];
              v74 = 0;
              if ( *(_DWORD *)(v29 + 4196) )
              {
                do
                {
                  v30 = *(_DWORD *)(v29 + 4192);
                  v31 = *(_DWORD *)v27 + 16 * v74 * *(_DWORD *)(v29 + 4192);
                  switch ( *(_DWORD *)(*v1 + 8) )
                  {
                    case 1:
                      v44 = 0;
                      if ( v30 )
                      {
                        v45 = v31 + 8;
                        do
                        {
                          if ( *(float *)(v45 - 8) >= 0.0 )
                          {
                            if ( *(float *)(v45 - 8) >= 1.0 )
                              v46 = 1.0;
                            else
                              v46 = *(float *)(v45 - 8);
                          }
                          else
                          {
                            v46 = 0.0;
                          }
                          *(float *)(v45 - 8) = v46;
                          if ( *(float *)(v45 - 4) >= 0.0 )
                          {
                            if ( *(float *)(v45 - 4) >= 1.0 )
                              v47 = 1.0;
                            else
                              v47 = *(float *)(v45 - 4);
                          }
                          else
                          {
                            v47 = 0.0;
                          }
                          *(float *)(v45 - 4) = v47;
                          if ( *(float *)v45 >= 0.0 )
                          {
                            if ( *(float *)v45 >= 1.0 )
                              v48 = 1.0;
                            else
                              v48 = *(float *)v45;
                          }
                          else
                          {
                            v48 = 0.0;
                          }
                          *(float *)v45 = v48;
                          if ( *(float *)(v45 + 4) >= 0.0 )
                          {
                            if ( *(float *)(v45 + 4) >= 1.0 )
                              v49 = 1.0;
                            else
                              v49 = *(float *)(v45 + 4);
                          }
                          else
                          {
                            v49 = 0.0;
                          }
                          *(float *)(v45 + 4) = v49;
                          ++v44;
                          v45 += 16;
                        }
                        while ( v44 < *(_DWORD *)(v1[1] + 4192) );
                      }
                      break;
                    case 2:
                      v38 = 0;
                      if ( v30 )
                      {
                        v39 = v31 + 8;
                        do
                        {
                          if ( v14 <= *(float *)(v39 - 8) )
                          {
                            if ( *(float *)(v39 - 8) >= 1.0 )
                              v40 = 1.0;
                            else
                              v40 = *(float *)(v39 - 8);
                          }
                          else
                          {
                            v40 = v14;
                          }
                          *(float *)(v39 - 8) = v40;
                          if ( v14 <= *(float *)(v39 - 4) )
                          {
                            if ( *(float *)(v39 - 4) >= 1.0 )
                              v41 = 1.0;
                            else
                              v41 = *(float *)(v39 - 4);
                          }
                          else
                          {
                            v41 = v14;
                          }
                          *(float *)(v39 - 4) = v41;
                          if ( v14 <= *(float *)v39 )
                          {
                            if ( *(float *)v39 >= 1.0 )
                              v42 = 1.0;
                            else
                              v42 = *(float *)v39;
                          }
                          else
                          {
                            v42 = v14;
                          }
                          *(float *)v39 = v42;
                          if ( *(float *)(v39 + 4) >= 0.0 )
                          {
                            if ( *(float *)(v39 + 4) >= 1.0 )
                              v43 = 1.0;
                            else
                              v43 = *(float *)(v39 + 4);
                          }
                          else
                          {
                            v43 = 0.0;
                          }
                          *(float *)(v39 + 4) = v43;
                          ++v38;
                          v39 += 16;
                        }
                        while ( v38 < *(_DWORD *)(v1[1] + 4192) );
                      }
                      break;
                    case 3:
                      v32 = 0;
                      if ( v30 )
                      {
                        v33 = v31 + 8;
                        do
                        {
                          if ( v14 <= *(float *)(v33 - 8) )
                          {
                            if ( *(float *)(v33 - 8) >= 1.0 )
                              v34 = 1.0;
                            else
                              v34 = *(float *)(v33 - 8);
                          }
                          else
                          {
                            v34 = v14;
                          }
                          *(float *)(v33 - 8) = v34;
                          if ( v14 <= *(float *)(v33 - 4) )
                          {
                            if ( *(float *)(v33 - 4) >= 1.0 )
                              v35 = 1.0;
                            else
                              v35 = *(float *)(v33 - 4);
                          }
                          else
                          {
                            v35 = v14;
                          }
                          *(float *)(v33 - 4) = v35;
                          if ( v14 <= *(float *)v33 )
                          {
                            if ( *(float *)v33 >= 1.0 )
                              v36 = 1.0;
                            else
                              v36 = *(float *)v33;
                          }
                          else
                          {
                            v36 = v14;
                          }
                          *(float *)v33 = v36;
                          if ( v14 <= *(float *)(v33 + 4) )
                          {
                            if ( *(float *)(v33 + 4) >= 1.0 )
                              v37 = 1.0;
                            else
                              v37 = *(float *)(v33 + 4);
                          }
                          else
                          {
                            v37 = v14;
                          }
                          *(float *)(v33 + 4) = v37;
                          ++v32;
                          v33 += 16;
                        }
                        while ( v32 < *(_DWORD *)(v1[1] + 4192) );
                      }
                      break;
                  }
                  (*(void (__stdcall **)(unsigned int, _DWORD, int))(*(_DWORD *)v1[1] + 8))(
                    v74,
                    *v26,
                    *(_DWORD *)v27 + 16 * v74 * *(_DWORD *)(v1[1] + 4192));
                  v14 = -1.0;
                  ++v74;
                  v29 = v1[1];
                }
                while ( v74 < *(_DWORD *)(v29 + 4196) );
              }
              *(_DWORD *)(v27 + 4) = v68;
              v13 = (_DWORD *)v69;
              v68 = v27;
            }
            v26 += 2;
          }
          ++v59;
        }
        while ( (unsigned int)v13 < v52 );
      }
      v50 = 0;
    }
    else
    {
LABEL_128:
      v50 = -2147024882;
    }
  }
  else
  {
    v50 = -2147467259;
  }
  if ( v71 )
    ATL::CComTypeInfoHolder::stringdispid::'vector deleting destructor'(v71, 3);
  j__free(v67);
  j__free(v66);
  j__free(v58);
  j__free(v70);
  j__free(0);
  return v50;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 448AB5: using guessed type int __thiscall unknown_libname_138(_DWORD);

//----- (0043C5D6) --------------------------------------------------------
signed int __thiscall sub_43C5D6(_DWORD *this)
{
  _DWORD *v1; // ebx@1
  int v2; // edx@1
  int v3; // edi@3
  unsigned int v4; // edi@5
  int v5; // esi@5
  _DWORD *v6; // eax@5
  int v7; // ST20_4@6
  int v8; // esi@9
  void *v9; // eax@9
  _DWORD *v10; // ecx@13
  unsigned int v11; // edx@14
  _DWORD *i; // ecx@14
  _DWORD *v13; // eax@18
  unsigned int v14; // ecx@19
  void **v15; // edi@20
  int v16; // esi@23
  void *v17; // eax@23
  void *v18; // eax@24
  char *v19; // eax@29
  int v20; // edx@30
  unsigned int v21; // edi@31
  int v22; // ecx@33
  unsigned int v23; // eax@33
  double v24; // st7@34
  float *v25; // esi@34
  _DWORD *v26; // edi@38
  int v27; // esi@39
  bool v28; // zf@39
  int v29; // edx@43
  unsigned int v30; // edi@43
  float *v31; // ecx@44
  double v32; // st5@45
  float *v33; // ecx@49
  double v34; // st5@50
  float *v35; // ecx@54
  double v36; // st5@55
  float *v37; // ecx@59
  double v38; // st5@60
  int v39; // edx@66
  unsigned int v40; // edi@66
  float *v41; // ecx@67
  double v42; // st5@68
  float *v43; // ecx@72
  double v44; // st5@73
  float *v45; // ecx@77
  double v46; // st5@78
  float *v47; // ecx@82
  double v48; // st5@83
  int v49; // edx@89
  unsigned int v50; // edi@89
  float *v51; // ecx@90
  double v52; // st6@91
  float *v53; // ecx@95
  double v54; // st6@96
  float *v55; // ecx@100
  double v56; // st6@101
  float *v57; // ecx@105
  double v58; // st6@106
  signed int v59; // esi@115
  signed int result; // eax@120
  unsigned int v61; // [sp+Ch] [bp-30h]@5
  unsigned int v62; // [sp+10h] [bp-2Ch]@19
  unsigned int v63; // [sp+14h] [bp-28h]@5
  void *v64; // [sp+18h] [bp-24h]@23
  int v65; // [sp+18h] [bp-24h]@32
  _DWORD *v66; // [sp+1Ch] [bp-20h]@3
  void *v67; // [sp+20h] [bp-1Ch]@9
  int v68; // [sp+20h] [bp-1Ch]@18
  _DWORD *v69; // [sp+24h] [bp-18h]@1
  int v70; // [sp+28h] [bp-14h]@1
  _DWORD *v71; // [sp+2Ch] [bp-10h]@19
  void *v72; // [sp+30h] [bp-Ch]@1
  _DWORD *v73; // [sp+34h] [bp-8h]@1
  _DWORD *j; // [sp+38h] [bp-4h]@19
  unsigned int v75; // [sp+38h] [bp-4h]@31
  _DWORD *v76; // [sp+38h] [bp-4h]@113

  v1 = this;
  v2 = this[1];
  v69 = 0;
  v73 = 0;
  v70 = 0;
  v72 = 0;
  if ( *(_DWORD *)(v2 + 4200) != 1 || *(_DWORD *)(*this + 4200) != 1 )
  {
    result = -2147467259;
  }
  else
  {
    v3 = ~(this[2] >> 17) & 1;
    v66 = sub_43915A(*(_DWORD *)(*this + 4192), *(_DWORD *)(v2 + 4192), ~(this[2] >> 16) & 1);
    if ( v66 && (v69 = sub_43915A(*(_DWORD *)(*v1 + 4196), *(_DWORD *)(v1[1] + 4196), v3)) != 0 )
    {
      v63 = (unsigned int)v66 + *v66;
      v4 = (unsigned int)v69 + *v69;
      v5 = *(_DWORD *)(v1[1] + 4196);
      v61 = (unsigned int)v69 + *v69;
      v6 = operator new(12 * v5 + 4);
      if ( v6 )
      {
        *v6 = v5;
        v7 = (int)(v6 + 1);
        'vector constructor iterator'(v6 + 1, 12, v5, unknown_libname_138);
        v73 = (_DWORD *)v7;
      }
      else
      {
        v73 = 0;
      }
      if ( v73
        && ((v8 = *(_DWORD *)(*v1 + 4192), v9 = operator new(16 * *(_DWORD *)(*v1 + 4192)), (v67 = v9) == 0) ? (v72 = 0) : ('vector constructor iterator'(v9, 16, v8, sub_434D2D), v72 = v67),
            v72) )
      {
        v10 = v69 + 1;
        if ( (unsigned int)(v69 + 1) < v4 )
        {
          do
          {
            v11 = (unsigned int)v10 + *v10;
            for ( i = v10 + 1; (unsigned int)i < v11; i += 2 )
              ++v73[3 * *i + 2];
            v10 = (_DWORD *)v11;
          }
          while ( v11 < v4 );
        }
        v13 = v69 + 1;
        v68 = 0;
        if ( (unsigned int)(v69 + 1) < v4 )
        {
          do
          {
            v14 = (unsigned int)v13 + *v13;
            v71 = (_DWORD *)v14;
            v62 = (unsigned int)(v13 + 1);
            for ( j = v13 + 1; (unsigned int)j < v14; j += 2 )
            {
              v15 = (void **)&v73[3 * *j];
              if ( !*v15 )
              {
                if ( v70 )
                {
                  *v15 = *(void **)v70;
                  *(_DWORD *)v70 = 0;
                  v70 = *(_DWORD *)(v70 + 4);
                }
                else
                {
                  v16 = *(_DWORD *)(v1[1] + 4192);
                  v17 = operator new(16 * *(_DWORD *)(v1[1] + 4192));
                  v64 = v17;
                  if ( v17 )
                  {
                    'vector constructor iterator'(v17, 16, v16, sub_434D2D);
                    v18 = v64;
                  }
                  else
                  {
                    v18 = 0;
                  }
                  *v15 = v18;
                  if ( !v18 )
                    goto LABEL_116;
                }
                memset(*v15, 0, 16 * *(_DWORD *)(v1[1] + 4192));
                v14 = (unsigned int)v71;
              }
            }
            (*(void (__stdcall **)(int, _DWORD, void *))(*(_DWORD *)*v1 + 4))(v68, 0, v72);
            v19 = (char *)(v66 + 1);
            if ( (unsigned int)(v66 + 1) < v63 )
            {
              v20 = (int)v72 + 8;
              do
              {
                v21 = (unsigned int)&v19[*(_DWORD *)v19];
                v75 = v62;
                if ( v62 < (unsigned int)v71 )
                {
                  v65 = (int)(v19 + 4);
                  do
                  {
                    v22 = v73[3 * *(_DWORD *)v75];
                    v23 = v65;
                    while ( v23 < v21 )
                    {
                      v24 = *(float *)(v23 + 4) * *(float *)(v75 + 4);
                      *(float *)(v22 + 16 * *(_DWORD *)v23) = v24 * *(float *)(v20 - 8)
                                                            + *(float *)(v22 + 16 * *(_DWORD *)v23);
                      *(float *)(16 * *(_DWORD *)v23 + v22 + 4) = v24 * *(float *)(v20 - 4)
                                                                + *(float *)(16 * *(_DWORD *)v23 + v22 + 4);
                      *(float *)(16 * *(_DWORD *)v23 + v22 + 8) = v24 * *(float *)v20
                                                                + *(float *)(16 * *(_DWORD *)v23 + v22 + 8);
                      v25 = (float *)(16 * *(_DWORD *)v23 + v22 + 12);
                      v23 += 8;
                      *v25 = v24 * *(float *)(v20 + 4) + *v25;
                    }
                    v75 += 8;
                  }
                  while ( v75 < (unsigned int)v71 );
                }
                v20 += 16;
                v19 = (char *)v21;
              }
              while ( v21 < v63 );
            }
            v26 = (_DWORD *)v62;
            v13 = v71;
            while ( 1 )
            {
              v76 = v26;
              if ( v26 >= v13 )
                break;
              v27 = (int)&v73[3 * *v26];
              v28 = (*(_DWORD *)(v27 + 8))-- == 1;
              if ( v28 )
              {
                switch ( *(_DWORD *)(*v1 + 8) )
                {
                  case 1:
                    v49 = 0;
                    v50 = 0;
                    if ( *(_DWORD *)(v1[1] + 4192) )
                    {
                      do
                      {
                        v51 = (float *)(*(_DWORD *)v27 + v49);
                        if ( *v51 >= 0.0 )
                        {
                          if ( *v51 >= 1.0 )
                            v52 = 1.0;
                          else
                            v52 = *v51;
                        }
                        else
                        {
                          v52 = 0.0;
                        }
                        *v51 = v52;
                        v53 = (float *)(*(_DWORD *)v27 + v49 + 4);
                        if ( *v53 >= 0.0 )
                        {
                          if ( *v53 >= 1.0 )
                            v54 = 1.0;
                          else
                            v54 = *v53;
                        }
                        else
                        {
                          v54 = 0.0;
                        }
                        *v53 = v54;
                        v55 = (float *)(*(_DWORD *)v27 + v49 + 8);
                        if ( *v55 >= 0.0 )
                        {
                          if ( *v55 >= 1.0 )
                            v56 = 1.0;
                          else
                            v56 = *v55;
                        }
                        else
                        {
                          v56 = 0.0;
                        }
                        *v55 = v56;
                        v57 = (float *)(*(_DWORD *)v27 + v49 + 12);
                        if ( *v57 >= 0.0 )
                        {
                          if ( *v57 >= 1.0 )
                            v58 = 1.0;
                          else
                            v58 = *v57;
                        }
                        else
                        {
                          v58 = 0.0;
                        }
                        *v57 = v58;
                        ++v50;
                        v49 += 16;
                      }
                      while ( v50 < *(_DWORD *)(v1[1] + 4192) );
                    }
                    break;
                  case 2:
                    v39 = 0;
                    v40 = 0;
                    if ( *(_DWORD *)(v1[1] + 4192) )
                    {
                      do
                      {
                        v41 = (float *)(*(_DWORD *)v27 + v39);
                        if ( *v41 >= -1.0 )
                        {
                          if ( *v41 >= 1.0 )
                            v42 = 1.0;
                          else
                            v42 = *v41;
                        }
                        else
                        {
                          v42 = -1.0;
                        }
                        *v41 = v42;
                        v43 = (float *)(*(_DWORD *)v27 + v39 + 4);
                        if ( *v43 >= -1.0 )
                        {
                          if ( *v43 >= 1.0 )
                            v44 = 1.0;
                          else
                            v44 = *v43;
                        }
                        else
                        {
                          v44 = -1.0;
                        }
                        *v43 = v44;
                        v45 = (float *)(*(_DWORD *)v27 + v39 + 8);
                        if ( *v45 >= -1.0 )
                        {
                          if ( *v45 >= 1.0 )
                            v46 = 1.0;
                          else
                            v46 = *v45;
                        }
                        else
                        {
                          v46 = -1.0;
                        }
                        *v45 = v46;
                        v47 = (float *)(*(_DWORD *)v27 + v39 + 12);
                        if ( *v47 >= 0.0 )
                        {
                          if ( *v47 >= 1.0 )
                            v48 = 1.0;
                          else
                            v48 = *v47;
                        }
                        else
                        {
                          v48 = 0.0;
                        }
                        *v47 = v48;
                        ++v40;
                        v39 += 16;
                      }
                      while ( v40 < *(_DWORD *)(v1[1] + 4192) );
                    }
                    break;
                  case 3:
                    v29 = 0;
                    v30 = 0;
                    if ( *(_DWORD *)(v1[1] + 4192) )
                    {
                      do
                      {
                        v31 = (float *)(*(_DWORD *)v27 + v29);
                        if ( *v31 >= -1.0 )
                        {
                          if ( *v31 >= 1.0 )
                            v32 = 1.0;
                          else
                            v32 = *v31;
                        }
                        else
                        {
                          v32 = -1.0;
                        }
                        *v31 = v32;
                        v33 = (float *)(*(_DWORD *)v27 + v29 + 4);
                        if ( *v33 >= -1.0 )
                        {
                          if ( *v33 >= 1.0 )
                            v34 = 1.0;
                          else
                            v34 = *v33;
                        }
                        else
                        {
                          v34 = -1.0;
                        }
                        *v33 = v34;
                        v35 = (float *)(*(_DWORD *)v27 + v29 + 8);
                        if ( *v35 >= -1.0 )
                        {
                          if ( *v35 >= 1.0 )
                            v36 = 1.0;
                          else
                            v36 = *v35;
                        }
                        else
                        {
                          v36 = -1.0;
                        }
                        *v35 = v36;
                        v37 = (float *)(*(_DWORD *)v27 + v29 + 12);
                        if ( *v37 >= -1.0 )
                        {
                          if ( *v37 >= 1.0 )
                            v38 = 1.0;
                          else
                            v38 = *v37;
                        }
                        else
                        {
                          v38 = -1.0;
                        }
                        *v37 = v38;
                        ++v30;
                        v29 += 16;
                      }
                      while ( v30 < *(_DWORD *)(v1[1] + 4192) );
                    }
                    break;
                }
                v26 = v76;
                (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)v1[1] + 8))(*v76, 0, *(_DWORD *)v27);
                *(_DWORD *)(v27 + 4) = v70;
                v13 = v71;
                v70 = v27;
              }
              v26 += 2;
            }
            ++v68;
          }
          while ( (unsigned int)v13 < v61 );
        }
        v59 = 0;
      }
      else
      {
LABEL_116:
        v59 = -2147024882;
      }
    }
    else
    {
      v59 = -2147467259;
    }
    if ( v73 )
      ATL::CComTypeInfoHolder::stringdispid::'vector deleting destructor'(v73, 3);
    j__free(v69);
    j__free(v66);
    j__free(v72);
    j__free(0);
    result = v59;
  }
  return result;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 448AB5: using guessed type int __thiscall unknown_libname_138(_DWORD);

//----- (0043CBC4) --------------------------------------------------------
signed int __thiscall sub_43CBC4(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  char *v6; // eax@4
  char *v7; // eax@5
  signed int v8; // edi@6
  void (__stdcall ***v9)(_DWORD); // ecx@19

  v4 = a4;
  v5 = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 8) = a4;
  if ( !(_WORD)a4 || (unsigned __int16)a4 > 5u || a4 & 0xFFC00000 )
    return -2005530516;
  *(_DWORD *)(a3 + 68) = v4 & 0x100000;
  *(_DWORD *)(a2 + 68) = v4 & 0x200000;
  *(_DWORD *)(a2 + 64) = v4 & 0x80000;
  v6 = sub_444171(a2);
  *(_DWORD *)(v5 + 4) = v6;
  if ( !v6 )
    goto LABEL_18;
  v7 = sub_444171(a3);
  *(_DWORD *)v5 = v7;
  if ( !v7 )
    goto LABEL_18;
  v8 = sub_43E179(*(_DWORD *)(v5 + 4), (int)v7);
  if ( v8 >= 0 )
  {
    if ( sub_43A579(v5) >= 0
      || sub_43A6B6(v5) >= 0
      || sub_43A794(v5) >= 0
      || sub_43A989((_BYTE *)v5) >= 0
      || sub_43AB82(v5, v8, (void *)v5) >= 0
      || sub_43AF91(v5, v8, (void *)v5) >= 0
      || sub_43B4B8((void *)v5) >= 0
      || sub_43B847((void *)v5) >= 0
      || sub_43C5D6((_DWORD *)v5) >= 0
      || sub_43BF12((void *)v5) >= 0 )
    {
      v8 = 0;
      goto LABEL_19;
    }
LABEL_18:
    v8 = -2147467259;
  }
LABEL_19:
  v9 = *(void (__stdcall ****)(_DWORD))(v5 + 4);
  if ( v9 )
  {
    (**v9)(1);
    *(_DWORD *)(v5 + 4) = 0;
  }
  if ( *(_DWORD *)v5 )
  {
    (***(void (__stdcall ****)(_DWORD))v5)(1);
    *(_DWORD *)v5 = 0;
  }
  return v8;
}

//----- (0043CCF3) --------------------------------------------------------
int __thiscall sub_43CCF3(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  return result;
}

//----- (0043CD06) --------------------------------------------------------
int __userpurge sub_43CD06@<eax>(int a1@<edi>, int a2, int a3)
{
  int v3; // ebx@1
  int v4; // esi@1
  int result; // eax@1
  int v6; // ST10_4@2
  int v7; // edi@2
  int v8; // eax@2
  unsigned int v9; // ecx@9
  char *v10; // eax@13
  char *v11; // edx@13
  int v12; // [sp+8h] [bp-38h]@1
  unsigned int v13; // [sp+24h] [bp-1Ch]@9
  int v14; // [sp+28h] [bp-18h]@2
  char *v15; // [sp+2Ch] [bp-14h]@13
  int v16; // [sp+30h] [bp-10h]@1
  char *v17; // [sp+34h] [bp-Ch]@13
  unsigned int v18; // [sp+38h] [bp-8h]@11
  unsigned int v19; // [sp+3Ch] [bp-4h]@13

  v3 = a2;
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a2 + 48))(a2, &v12);
  v4 = 0;
  result = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD))(*(_DWORD *)v3 + 52))(v3, &v16, 0, 0);
  if ( result >= 0 )
  {
    v6 = a1;
    v7 = a3;
    v8 = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD, int))(*(_DWORD *)a3 + 52))(a3, &v14, 0, 0, v6);
    if ( v8 >= 0 )
    {
      if ( v12 != 827611204 && v12 != 844388420 && v12 != 861165636 && v12 != 877942852 && v12 != 894720068 )
      {
        v9 = v13;
      }
      else
      {
        v9 = (v13 + 3) >> 2;
        v13 = (v13 + 3) >> 2;
      }
      v18 = v14;
      if ( v14 >= v16 )
        v18 = v16;
      v10 = v17;
      v11 = v15;
      v19 = 0;
      if ( v9 > 0 )
      {
        do
        {
          qmemcpy(v11, v10, v18);
          v10 += v16;
          v11 += v14;
          v9 = ++v19;
        }
        while ( v19 < v13 );
        v7 = a3;
        v3 = a2;
        v4 = 0;
      }
      (*(void (__fastcall **)(unsigned int, void *, int))(*(_DWORD *)v7 + 56))(v9, v11, v7);
    }
    else
    {
      v4 = v8;
    }
    (*(void (__cdecl **)(int))(*(_DWORD *)v3 + 56))(v3);
    result = v4;
  }
  return result;
}
// 43CD06: could not find valid save-restore pair for edi

//----- (0043CDE3) --------------------------------------------------------
int __thiscall sub_43CDE3(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ebx@8
  int v4; // eax@10
  int v5; // eax@12
  int v6; // eax@14
  int v7; // eax@16

  v1 = this;
  v2 = *(_DWORD *)(this + 8);
  if ( v2 || (v2 = *(_DWORD *)(this + 4)) != 0 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 56))(v2);
  if ( *(_DWORD *)(v1 + 4) )
  {
    if ( *(_DWORD *)(v1 + 8) )
    {
      if ( *(_DWORD *)(v1 + 16) )
      {
        if ( !(*(_BYTE *)v1 & 1) )
        {
          sub_43609C(1);
          v3 = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v1 + 16) + 120))(
                 *(_DWORD *)(v1 + 16),
                 *(_DWORD *)(v1 + 8),
                 0,
                 *(_DWORD *)(v1 + 4),
                 0);
          sub_43609C(0);
          if ( v3 < 0 )
          {
            sub_43609C(1);
            sub_43CD06(0, *(_DWORD *)(v1 + 8), *(_DWORD *)(v1 + 4));
            sub_43609C(0);
          }
        }
      }
    }
  }
  v4 = *(_DWORD *)(v1 + 8);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(v1 + 8));
    *(_DWORD *)(v1 + 8) = 0;
  }
  v5 = *(_DWORD *)(v1 + 12);
  if ( v5 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 12) = 0;
  }
  v6 = *(_DWORD *)(v1 + 16);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v1 + 16));
    *(_DWORD *)(v1 + 16) = 0;
  }
  v7 = *(_DWORD *)(v1 + 4);
  if ( v7 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(v1 + 4));
    *(_DWORD *)(v1 + 4) = 0;
  }
  return 0;
}

//----- (0043CE94) --------------------------------------------------------
void *__thiscall sub_43CE94(void *this)
{
  void *result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  return result;
}

//----- (0043CE9A) --------------------------------------------------------
int __thiscall sub_43CE9A(_DWORD *this)
{
  _DWORD *v1; // esi@1

  v1 = this;
  if ( *this )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*this + 40))(*this);
    if ( *v1 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v1 + 8))(*v1);
      *v1 = 0;
    }
  }
  return 0;
}

//----- (0043CEC1) --------------------------------------------------------
int __thiscall sub_43CEC1(void *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@8
  int result; // eax@16
  int v9; // ebx@27
  _DWORD *v10; // esi@27
  _DWORD *v11; // ebx@27
  int *v12; // edi@28
  int v13; // edi@44
  int v14; // eax@44
  int v15; // ebx@47
  unsigned int v16; // eax@65
  unsigned int v17; // ecx@65
  bool v18; // zf@72
  unsigned int v19; // eax@80
  int v20; // esi@88
  int v21; // ecx@93
  int v22; // [sp+Ch] [bp-70h]@1
  char v23; // [sp+15h] [bp-67h]@49
  int v24; // [sp+18h] [bp-64h]@27
  unsigned int v25; // [sp+24h] [bp-58h]@3
  unsigned int v26; // [sp+28h] [bp-54h]@6
  unsigned int v27; // [sp+2Ch] [bp-50h]@65
  unsigned int v28; // [sp+30h] [bp-4Ch]@65
  unsigned int v29; // [sp+34h] [bp-48h]@65
  unsigned int v30; // [sp+38h] [bp-44h]@65
  int v31; // [sp+3Ch] [bp-40h]@2
  int v32; // [sp+40h] [bp-3Ch]@2
  unsigned int v33; // [sp+44h] [bp-38h]@2
  unsigned int v34; // [sp+48h] [bp-34h]@2
  int v35; // [sp+4Ch] [bp-30h]@88
  int v36; // [sp+50h] [bp-2Ch]@93
  int v37; // [sp+54h] [bp-28h]@19
  unsigned int v38; // [sp+58h] [bp-24h]@20
  unsigned int v39; // [sp+5Ch] [bp-20h]@20
  int v40; // [sp+60h] [bp-1Ch]@52
  int v41; // [sp+64h] [bp-18h]@15
  int v42; // [sp+68h] [bp-14h]@1
  int v43; // [sp+6Ch] [bp-10h]@30
  int v44; // [sp+70h] [bp-Ch]@20
  int v45; // [sp+74h] [bp-8h]@27
  int v46; // [sp+78h] [bp-4h]@11

  v42 = (int)this;
  sub_43CDE3((int)this);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 48))(a3, &v22);
  if ( a5 )
  {
    v31 = *(_DWORD *)a5;
    v32 = *(_DWORD *)(a5 + 4);
    v33 = *(_DWORD *)(a5 + 8);
    v34 = *(_DWORD *)(a5 + 12);
    if ( v31 < 0 || v33 > v25 || v31 > (signed int)v33 || v32 < 0 || v34 > v26 || v32 > (signed int)v34 )
      return -2005530516;
    v7 = 1;
    if ( v31 || v33 != v25 || v32 || (v46 = 0, v34 != v26) )
      v46 = 1;
    if ( a7 & 1 || v46 )
    {
      v41 = 0;
      goto LABEL_19;
    }
  }
  else
  {
    v33 = v25;
    v34 = v26;
    v31 = 0;
    v32 = 0;
    v46 = 0;
    v7 = ~(_BYTE)a7 & 1;
  }
  v41 = v7;
LABEL_19:
  v37 = a7 & 0x10000;
  if ( a7 & 0x10000 )
  {
    v38 = v25;
    v39 = v26;
    v44 = 0;
    if ( (v22 == 827611204 || v22 == 844388420 || v22 == 861165636 || v22 == 877942852 || v22 == 894720068)
      && ((unsigned __int8)v25 | (unsigned __int8)v26) & 3 )
    {
      do
        ++v44;
      while ( ((v25 | v26) << v44) & 3 );
    }
    v9 = v42;
    v10 = (_DWORD *)(v42 + 16);
    (*(void (__stdcall **)(int, int))(*(_DWORD *)a3 + 12))(a3, v42 + 16);
    v11 = (_DWORD *)(v9 + 12);
    v45 = (*(int (__stdcall **)(_DWORD, int, int, int, _DWORD, int, int, _DWORD *, _DWORD))(*(_DWORD *)*v10 + 92))(
            *v10,
            v38 << v44,
            v39 << v44,
            v44 + 1,
            0,
            v22,
            (v24 == 3) + 2,
            v11,
            0);
    if ( v45 < 0
      || (v12 = (int *)(v42 + 8),
          v45 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)*v11 + 72))(*v11, v44, v42 + 8),
          v45 < 0) )
    {
      v13 = v42;
      v14 = *(_DWORD *)(v42 + 8);
      if ( v14 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v14 + 8))(*(_DWORD *)(v42 + 8));
        *(_DWORD *)(v13 + 8) = 0;
      }
      goto LABEL_38;
    }
    if ( !v41 )
    {
      v43 = 0;
      sub_43609C(1);
      v45 = sub_43CD06((int)v12, a3, *v12);
      sub_43609C(0);
      if ( v45 < 0 )
      {
        if ( v44 )
          goto LABEL_36;
        v45 = (*(int (__stdcall **)(_DWORD, unsigned int, unsigned int, int, _DWORD, _DWORD, signed int, int *, _DWORD))(*(_DWORD *)*v10 + 112))(
                *v10,
                v38,
                v39,
                v22,
                0,
                0,
                1,
                &v43,
                0);
        if ( v45 < 0 )
          goto LABEL_36;
        v45 = (*(int (__stdcall **)(_DWORD, int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)*v10 + 136))(
                *v10,
                a3,
                0,
                v43,
                0,
                0);
        if ( v45 < 0 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v43 + 8))(v43);
          goto LABEL_36;
        }
        v45 = sub_43CD06((int)v12, v43, *v12);
        (*(void (__stdcall **)(int))(*(_DWORD *)v43 + 8))(v43);
        if ( v45 < 0 )
        {
LABEL_36:
          if ( *v12 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)*v12 + 8))(*v12);
            *v12 = 0;
          }
LABEL_38:
          if ( *v11 )
          {
            (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v11 + 8))(*v11);
            *v11 = 0;
          }
          if ( *v10 )
          {
            (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v10 + 8))(*v10);
            *v10 = 0;
          }
          return v45;
        }
      }
    }
    v43 = *v12;
  }
  else
  {
    v43 = a3;
  }
  v15 = 16 * (a7 & 1 | 0x80);
  if ( v41 && !v37 && v23 & 2 )
  {
    if ( BYTE2(a7) & 2 )
    {
      v15 |= 0x2000u;
      v46 = 0;
      goto LABEL_88;
    }
    sub_43609C(1);
    if ( (*(int (__stdcall **)(int, void *, int *))(*(_DWORD *)a3 + 44))(a3, &unk_4BB1D8, &v40) >= 0 )
    {
      if ( (*(int (__stdcall **)(int))(*(_DWORD *)v40 + 52))(v40) == 1 )
      {
        v15 |= 0x2000u;
        v46 = 0;
      }
      if ( v40 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v40 + 8))(v40);
        v40 = 0;
      }
    }
    sub_43609C(0);
  }
  if ( v46 )
  {
    if ( v22 > 877942852 )
    {
      if ( v22 != 894720068 )
      {
        if ( v22 != 1111970375 && v22 != 1195525970 && v22 != 1498831189 )
          goto LABEL_79;
        goto LABEL_80;
      }
    }
    else if ( v22 != 877942852 && v22 != 827611204 && v22 != 844388420 )
    {
      if ( v22 != 844715353 )
      {
        if ( v22 == 861165636 )
          goto LABEL_65;
LABEL_79:
        v27 = v31;
        v28 = v32;
        v29 = v33;
        v30 = v34;
        goto LABEL_87;
      }
LABEL_80:
      v19 = (v33 + 1) & 0xFFFFFFFE;
      v27 = v31 & 0xFFFFFFFE;
      v29 = (v33 + 1) & 0xFFFFFFFE;
      v28 = v32;
      v30 = v34;
      if ( v19 > v25 )
      {
        v19 = v25;
        v29 = v25;
      }
      if ( !(v31 & 0xFFFFFFFE) && v19 == v25 && !v32 )
      {
        v18 = v34 == v26;
LABEL_73:
        if ( v18 )
        {
          v46 = 0;
          goto LABEL_87;
        }
      }
LABEL_86:
      v46 = 1;
      goto LABEL_87;
    }
LABEL_65:
    v16 = (v33 + 3) & 0xFFFFFFFC;
    v17 = (v34 + 3) & 0xFFFFFFFC;
    v27 = v31 & 0xFFFFFFFC;
    v29 = (v33 + 3) & 0xFFFFFFFC;
    v28 = v32 & 0xFFFFFFFC;
    v30 = (v34 + 3) & 0xFFFFFFFC;
    if ( v16 > v25 )
    {
      v16 = v25;
      v29 = v25;
    }
    if ( v17 > v26 )
    {
      v17 = v26;
      v30 = v26;
    }
    if ( !(v31 & 0xFFFFFFFC) && v16 == v25 && !(v32 & 0xFFFFFFFC) )
    {
      v18 = v17 == v26;
      goto LABEL_73;
    }
    goto LABEL_86;
  }
LABEL_87:
  if ( v37 )
  {
    result = (*(int (__stdcall **)(int, int *, unsigned int, int))(*(_DWORD *)v43 + 52))(
               v43,
               &v35,
               v46 != 0 ? (unsigned int)&v27 : 0,
               v15);
    if ( result < 0 )
      return result;
    goto LABEL_91;
  }
LABEL_88:
  sub_43609C(1);
  v20 = (*(int (__stdcall **)(int, int *, unsigned int, int))(*(_DWORD *)v43 + 52))(
          v43,
          &v35,
          v46 != 0 ? (unsigned int)&v27 : 0,
          v15);
  sub_43609C(0);
  if ( v20 < 0 )
    return sub_43CEC1(a2, a3, a4, a5, a6, a7 | 0x10000);
LABEL_91:
  if ( v46 )
  {
    v31 -= v27;
    v33 -= v27;
    v32 -= v28;
    v34 -= v28;
  }
  *(_DWORD *)a2 = v36;
  *(_DWORD *)(a2 + 4) = v22;
  *(_DWORD *)(a2 + 8) = v35;
  *(_DWORD *)(a2 + 24) = v25;
  *(_DWORD *)(a2 + 28) = v26;
  *(_DWORD *)(a2 + 40) = v31;
  *(_DWORD *)(a2 + 36) = 1;
  *(_DWORD *)(a2 + 44) = v32;
  *(_DWORD *)(a2 + 60) = 1;
  *(_DWORD *)(a2 + 64) = 1;
  *(_DWORD *)(a2 + 72) = a6;
  *(_DWORD *)(a2 + 48) = v33;
  *(_DWORD *)(a2 + 12) = 0;
  *(_DWORD *)(a2 + 16) = 0;
  *(_DWORD *)(a2 + 20) = 0;
  *(_DWORD *)(a2 + 32) = 0;
  *(_DWORD *)(a2 + 56) = 0;
  *(_DWORD *)(a2 + 68) = 0;
  *(_DWORD *)(a2 + 76) = a4;
  v21 = v42;
  *(_DWORD *)(a2 + 52) = v34;
  *(_DWORD *)(v21 + 4) = a3;
  *(_DWORD *)v21 = a7;
  (*(void (__stdcall **)(int))(*(_DWORD *)a3 + 4))(a3);
  return 0;
}

//----- (0043D3B0) --------------------------------------------------------
int __thiscall sub_43D3B0(_DWORD *this, int a2, int a3, int a4, const void *a5, int a6, int a7)
{
  bool v7; // zf@1
  unsigned int v8; // ebx@8
  int v9; // eax@19
  int result; // eax@24
  int v11; // esi@25
  unsigned int v12; // eax@42
  unsigned int v13; // ecx@42
  unsigned int v14; // eax@62
  unsigned int v15; // edx@74
  int v16; // ecx@74
  unsigned int v17; // edx@74
  _DWORD *v18; // ecx@74
  int v19; // [sp+Ch] [bp-64h]@3
  int v20; // [sp+14h] [bp-5Ch]@23
  int v21; // [sp+18h] [bp-58h]@22
  unsigned int v22; // [sp+1Ch] [bp-54h]@4
  unsigned int v23; // [sp+20h] [bp-50h]@6
  unsigned int v24; // [sp+24h] [bp-4Ch]@8
  unsigned int v25; // [sp+28h] [bp-48h]@42
  unsigned int v26; // [sp+2Ch] [bp-44h]@42
  unsigned int v27; // [sp+30h] [bp-40h]@42
  unsigned int v28; // [sp+34h] [bp-3Ch]@42
  unsigned int v29; // [sp+38h] [bp-38h]@42
  unsigned int v30; // [sp+3Ch] [bp-34h]@42
  unsigned int v31; // [sp+40h] [bp-30h]@4
  unsigned int v32; // [sp+44h] [bp-2Ch]@7
  unsigned int v33; // [sp+48h] [bp-28h]@4
  unsigned int v34; // [sp+4Ch] [bp-24h]@6
  unsigned int v35; // [sp+50h] [bp-20h]@9
  unsigned int v36; // [sp+54h] [bp-1Ch]@8
  int v37; // [sp+58h] [bp-18h]@55
  int v38; // [sp+5Ch] [bp-14h]@74
  int v39; // [sp+60h] [bp-10h]@74
  _DWORD *v40; // [sp+64h] [bp-Ch]@1
  int v41; // [sp+68h] [bp-8h]@25
  int v42; // [sp+6Ch] [bp-4h]@29
  signed int v43; // [sp+84h] [bp+14h]@15

  v7 = *this == 0;
  v40 = this;
  if ( !v7 )
    sub_43CE9A(this);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 32))(a3, &v19);
  if ( a5 )
  {
    qmemcpy(&v31, a5, 0x18u);
    if ( v33 > v22 )
      return -2005530516;
    if ( v31 > v33 )
      return -2005530516;
    if ( v34 > v23 )
      return -2005530516;
    if ( v32 > v34 )
      return -2005530516;
    v8 = v36;
    if ( v36 > v24 || v35 > v36 )
      return -2005530516;
    if ( v31 || v33 != v22 || v32 || v34 != v23 || v35 || (v43 = 0, v36 != v24) )
      v43 = 1;
    v9 = !(a7 & 1) && !v43;
  }
  else
  {
    v8 = v24;
    v43 = 0;
    v33 = v22;
    v34 = v23;
    v9 = ~(_BYTE)a7 & 1;
    v31 = 0;
    v32 = 0;
    v35 = 0;
    v36 = v24;
  }
  if ( !v21 && !(v20 & 0x200) )
    return -2005530516;
  v11 = 16 * (a7 & 1 | 0x80);
  v41 = 16 * (a7 & 1 | 0x80);
  if ( v9 && v20 & 0x200 )
  {
    if ( BYTE2(a7) & 2 )
    {
      v11 |= 0x2000u;
      goto LABEL_55;
    }
    sub_43609C(1);
    if ( (*(int (__stdcall **)(int, void *, int *))(*(_DWORD *)a3 + 28))(a3, &unk_4BB1C8, &v42) >= 0 )
    {
      if ( (*(int (__stdcall **)(int))(*(_DWORD *)v42 + 52))(v42) == 1 )
      {
        v11 |= 0x2000u;
        v41 = v11;
        v43 = 0;
      }
      if ( v42 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v42 + 8))(v42);
        v42 = 0;
      }
    }
    sub_43609C(0);
  }
  if ( v43 )
  {
    if ( v19 > 877942852 )
    {
      if ( v19 == 894720068 )
        goto LABEL_42;
      if ( v19 != 1111970375 && v19 != 1195525970 && v19 != 1498831189 )
      {
LABEL_61:
        qmemcpy(&v25, &v31, 0x18u);
LABEL_53:
        if ( !v43 )
        {
LABEL_54:
          v11 = v41;
          goto LABEL_55;
        }
        v11 = v41;
LABEL_72:
        result = (*(int (__stdcall **)(int, int *, int *, int))(*(_DWORD *)a3 + 36))(a3, &v37, (int *)&v25, v11);
        if ( result < 0 )
          return result;
        v31 -= v25;
        v33 -= v25;
        v32 -= v26;
        v34 -= v26;
        v35 -= v29;
        v36 = v8 - v29;
        goto LABEL_74;
      }
    }
    else
    {
      if ( v19 == 877942852 || v19 == 827611204 || v19 == 844388420 )
        goto LABEL_42;
      if ( v19 != 844715353 )
      {
        if ( v19 == 861165636 )
        {
LABEL_42:
          v12 = (v33 + 3) & 0xFFFFFFFC;
          v13 = (v34 + 3) & 0xFFFFFFFC;
          v25 = v31 & 0xFFFFFFFC;
          v27 = (v33 + 3) & 0xFFFFFFFC;
          v26 = v32 & 0xFFFFFFFC;
          v28 = (v34 + 3) & 0xFFFFFFFC;
          v29 = v35;
          v30 = v8;
          if ( v12 > v22 )
          {
            v12 = v22;
            v27 = v22;
          }
          if ( v13 > v23 )
          {
            v13 = v23;
            v28 = v23;
          }
          if ( !(v31 & 0xFFFFFFFC) && v12 == v22 && !(v32 & 0xFFFFFFFC) && v13 == v23 && !v35 && v8 == v24 )
            goto LABEL_54;
          v43 = 1;
          goto LABEL_53;
        }
        goto LABEL_61;
      }
    }
    v14 = (v33 + 1) & 0xFFFFFFFE;
    v28 = v34;
    v25 = v31 & 0xFFFFFFFE;
    v27 = (v33 + 1) & 0xFFFFFFFE;
    v26 = v32;
    v29 = v35;
    v30 = v8;
    if ( v14 > v22 )
    {
      v14 = v22;
      v27 = v22;
    }
    if ( v31 & 0xFFFFFFFE || v14 != v22 || v32 || v34 != v23 || v35 || v8 != v24 )
      goto LABEL_72;
  }
LABEL_55:
  result = (*(int (__stdcall **)(int, int *, _DWORD, int))(*(_DWORD *)a3 + 36))(a3, &v37, 0, v11);
  if ( result >= 0 )
  {
LABEL_74:
    v15 = v22;
    *(_DWORD *)a2 = v39;
    v16 = v19;
    *(_DWORD *)(a2 + 68) = 0;
    *(_DWORD *)(a2 + 4) = v16;
    *(_DWORD *)(a2 + 8) = v37;
    *(_DWORD *)(a2 + 12) = v38;
    *(_DWORD *)(a2 + 16) = 0;
    *(_DWORD *)(a2 + 20) = 0;
    *(_DWORD *)(a2 + 32) = 0;
    *(_DWORD *)(a2 + 36) = v24;
    qmemcpy((void *)(a2 + 40), &v31, 0x18u);
    *(_DWORD *)(a2 + 72) = a6;
    *(_DWORD *)(a2 + 24) = v15;
    v17 = v23;
    *(_DWORD *)(a2 + 76) = a4;
    v18 = v40;
    *(_DWORD *)(a2 + 28) = v17;
    *(_DWORD *)(a2 + 64) = 1;
    *v18 = a3;
    (*(void (__stdcall **)(int))(*(_DWORD *)a3 + 4))(a3);
    result = 0;
  }
  return result;
}

//----- (0043D71F) --------------------------------------------------------
void __thiscall sub_43D71F(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4180);
  *(_DWORD *)this = &off_4B7288;
  j__free(v1);
}
// 4B7288: using guessed type int (__thiscall *off_4B7288)(void *, char);

//----- (0043D732) --------------------------------------------------------
int __thiscall sub_43D732(int this, int a2)
{
  unsigned int v2; // edi@7
  int v3; // edx@8
  int v4; // ebx@8
  double v5; // st5@10
  int v6; // esi@14
  double v7; // st5@15
  double v8; // st5@20
  double v9; // st5@25
  unsigned int v10; // esi@31
  int v11; // edx@32
  int v12; // eax@32
  double v13; // st7@33
  unsigned int v14; // esi@35
  int v15; // edx@36
  float *v16; // eax@36
  double v17; // st5@37
  unsigned int v18; // edi@42
  int v19; // edx@43
  int v20; // ebx@43
  double v21; // st5@45
  int v22; // esi@49
  double v23; // st5@50
  double v24; // st5@55
  double v25; // st5@60
  unsigned int v26; // esi@66
  int v27; // edx@67
  int v28; // eax@67
  double v29; // st7@68
  unsigned int v30; // esi@70
  int v31; // edx@71
  float *v32; // eax@71
  double v33; // st5@72
  unsigned int v34; // edi@77
  int v35; // edx@78
  int v36; // ebx@78
  double v37; // st6@80
  int v38; // esi@84
  double v39; // st6@85
  double v40; // st6@90
  double v41; // st6@95
  unsigned int v42; // esi@101
  int v43; // edx@102
  float *v44; // eax@102
  double v45; // st5@103
  unsigned int v46; // esi@105
  int v47; // edx@106
  float *v48; // eax@106
  double v49; // st5@107

  switch ( *(_DWORD *)(this + 8) )
  {
    case 1:
      switch ( *(_DWORD *)(this + 4176) )
      {
        case 2:
          v46 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v47 = 0;
            v48 = (float *)(a2 + 8);
            do
            {
              ++v46;
              *(float *)(v47 + *(_DWORD *)(this + 4180)) = (*(v48 - 2) + 1.0) * 0.5;
              v47 += 16;
              *(float *)(v47 + *(_DWORD *)(this + 4180) - 12) = (*(v48 - 1) + 1.0) * 0.5;
              v49 = *v48;
              v48 += 4;
              *(float *)(v47 + *(_DWORD *)(this + 4180) - 8) = (v49 + 1.0) * 0.5;
              *(float *)(v47 + *(_DWORD *)(this + 4180) - 4) = *(v48 - 3);
            }
            while ( v46 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 3:
          v42 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v43 = 0;
            v44 = (float *)(a2 + 8);
            do
            {
              ++v42;
              *(float *)(v43 + *(_DWORD *)(this + 4180)) = (*(v44 - 2) + 1.0) * 0.5;
              v43 += 16;
              *(float *)(*(_DWORD *)(this + 4180) + v43 - 12) = (*(v44 - 1) + 1.0) * 0.5;
              v45 = *v44;
              v44 += 4;
              *(float *)(*(_DWORD *)(this + 4180) + v43 - 8) = (v45 + 1.0) * 0.5;
              *(float *)(*(_DWORD *)(this + 4180) + v43 - 4) = (*(v44 - 3) + 1.0) * 0.5;
            }
            while ( v42 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 4:
          v34 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v35 = a2 + 8;
            v36 = -8 - a2;
            do
            {
              if ( *(float *)(v35 - 8) >= 0.0 )
              {
                if ( *(float *)(v35 - 8) >= 1.0 )
                  v37 = 1.0;
                else
                  v37 = *(float *)(v35 - 8);
              }
              else
              {
                v37 = 0.0;
              }
              v38 = v36 + v35;
              *(float *)(v36 + v35 + *(_DWORD *)(this + 4180)) = v37;
              if ( *(float *)(v35 - 4) >= 0.0 )
              {
                if ( *(float *)(v35 - 4) >= 1.0 )
                  v39 = 1.0;
                else
                  v39 = *(float *)(v35 - 4);
              }
              else
              {
                v39 = 0.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v38 + 4) = v39;
              if ( *(float *)v35 >= 0.0 )
              {
                if ( *(float *)v35 >= 1.0 )
                  v40 = 1.0;
                else
                  v40 = *(float *)v35;
              }
              else
              {
                v40 = 0.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v38 + 8) = v40;
              if ( *(float *)(v35 + 4) >= 0.0 )
              {
                if ( *(float *)(v35 + 4) >= 1.0 )
                  v41 = 1.0;
                else
                  v41 = *(float *)(v35 + 4);
              }
              else
              {
                v41 = 0.0;
              }
              ++v34;
              *(float *)(*(_DWORD *)(this + 4180) + v38 + 12) = v41;
              v35 += 16;
            }
            while ( v34 < *(_DWORD *)(this + 4192) );
          }
          break;
      }
      break;
    case 2:
      switch ( *(_DWORD *)(this + 4176) )
      {
        case 1:
          v30 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v31 = 0;
            v32 = (float *)(a2 + 8);
            do
            {
              ++v30;
              *(float *)(v31 + *(_DWORD *)(this + 4180)) = *(v32 - 2) * 2.0 - 1.0;
              v31 += 16;
              *(float *)(v31 + *(_DWORD *)(this + 4180) - 12) = *(v32 - 1) * 2.0 - 1.0;
              v33 = *v32;
              v32 += 4;
              *(float *)(v31 + *(_DWORD *)(this + 4180) - 8) = v33 * 2.0 - 1.0;
              *(float *)(v31 + *(_DWORD *)(this + 4180) - 4) = *(v32 - 3);
            }
            while ( v30 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 3:
          v26 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v27 = 0;
            v28 = a2 + 8;
            do
            {
              *(float *)(v27 + *(_DWORD *)(this + 4180)) = *(float *)(v28 - 8);
              ++v26;
              *(float *)(v27 + *(_DWORD *)(this + 4180) + 4) = *(float *)(v28 - 4);
              v27 += 16;
              *(float *)(v27 + *(_DWORD *)(this + 4180) - 8) = *(float *)v28;
              v29 = *(float *)(v28 + 4);
              v28 += 16;
              *(float *)(v27 + *(_DWORD *)(this + 4180) - 4) = (v29 + 1.0) * 0.5;
            }
            while ( v26 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 4:
          v18 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v19 = a2 + 8;
            v20 = -8 - a2;
            do
            {
              if ( *(float *)(v19 - 8) >= -1.0 )
              {
                if ( *(float *)(v19 - 8) >= 1.0 )
                  v21 = 1.0;
                else
                  v21 = *(float *)(v19 - 8);
              }
              else
              {
                v21 = -1.0;
              }
              v22 = v19 + v20;
              *(float *)(v19 + v20 + *(_DWORD *)(this + 4180)) = v21;
              if ( *(float *)(v19 - 4) >= -1.0 )
              {
                if ( *(float *)(v19 - 4) >= 1.0 )
                  v23 = 1.0;
                else
                  v23 = *(float *)(v19 - 4);
              }
              else
              {
                v23 = -1.0;
              }
              *(float *)(v22 + *(_DWORD *)(this + 4180) + 4) = v23;
              if ( *(float *)v19 >= -1.0 )
              {
                if ( *(float *)v19 >= 1.0 )
                  v24 = 1.0;
                else
                  v24 = *(float *)v19;
              }
              else
              {
                v24 = -1.0;
              }
              *(float *)(v22 + *(_DWORD *)(this + 4180) + 8) = v24;
              if ( *(float *)(v19 + 4) >= 0.0 )
              {
                if ( *(float *)(v19 + 4) >= 1.0 )
                  v25 = 1.0;
                else
                  v25 = *(float *)(v19 + 4);
              }
              else
              {
                v25 = 0.0;
              }
              ++v18;
              *(float *)(v22 + *(_DWORD *)(this + 4180) + 12) = v25;
              v19 += 16;
            }
            while ( v18 < *(_DWORD *)(this + 4192) );
          }
          break;
      }
      break;
    case 3:
      switch ( *(_DWORD *)(this + 4176) )
      {
        case 1:
          v14 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v15 = 0;
            v16 = (float *)(a2 + 8);
            do
            {
              ++v14;
              *(float *)(v15 + *(_DWORD *)(this + 4180)) = *(v16 - 2) * 2.0 - 1.0;
              v15 += 16;
              *(float *)(v15 + *(_DWORD *)(this + 4180) - 12) = *(v16 - 1) * 2.0 - 1.0;
              v17 = *v16;
              v16 += 4;
              *(float *)(v15 + *(_DWORD *)(this + 4180) - 8) = v17 * 2.0 - 1.0;
              *(float *)(v15 + *(_DWORD *)(this + 4180) - 4) = *(v16 - 3) * 2.0 - 1.0;
            }
            while ( v14 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 2:
          v10 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v11 = 0;
            v12 = a2 + 8;
            do
            {
              *(float *)(v11 + *(_DWORD *)(this + 4180)) = *(float *)(v12 - 8);
              ++v10;
              *(float *)(*(_DWORD *)(this + 4180) + v11 + 4) = *(float *)(v12 - 4);
              v11 += 16;
              *(float *)(*(_DWORD *)(this + 4180) + v11 - 8) = *(float *)v12;
              v13 = *(float *)(v12 + 4);
              v12 += 16;
              *(float *)(*(_DWORD *)(this + 4180) + v11 - 4) = v13 + v13 - 1.0;
            }
            while ( v10 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 4:
          v2 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v3 = a2 + 8;
            v4 = -8 - a2;
            do
            {
              if ( *(float *)(v3 - 8) >= -1.0 )
              {
                if ( *(float *)(v3 - 8) >= 1.0 )
                  v5 = 1.0;
                else
                  v5 = *(float *)(v3 - 8);
              }
              else
              {
                v5 = -1.0;
              }
              v6 = v4 + v3;
              *(float *)(v4 + v3 + *(_DWORD *)(this + 4180)) = v5;
              if ( *(float *)(v3 - 4) >= -1.0 )
              {
                if ( *(float *)(v3 - 4) >= 1.0 )
                  v7 = 1.0;
                else
                  v7 = *(float *)(v3 - 4);
              }
              else
              {
                v7 = -1.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v6 + 4) = v7;
              if ( *(float *)v3 >= -1.0 )
              {
                if ( *(float *)v3 >= 1.0 )
                  v8 = 1.0;
                else
                  v8 = *(float *)v3;
              }
              else
              {
                v8 = -1.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v6 + 8) = v8;
              if ( *(float *)(v3 + 4) >= -1.0 )
              {
                if ( *(float *)(v3 + 4) >= 1.0 )
                  v9 = 1.0;
                else
                  v9 = *(float *)(v3 + 4);
              }
              else
              {
                v9 = -1.0;
              }
              ++v2;
              *(float *)(*(_DWORD *)(this + 4180) + v6 + 12) = v9;
              v3 += 16;
            }
            while ( v2 < *(_DWORD *)(this + 4192) );
          }
          break;
      }
      break;
  }
  return *(_DWORD *)(this + 4180);
}

//----- (0043DCF6) --------------------------------------------------------
void __thiscall sub_43DCF6(int this)
{
  int v1; // esi@1
  bool v2; // zf@1
  unsigned int v3; // edi@3
  int v4; // ebp@3
  unsigned int i; // ebx@4

  v1 = this;
  v2 = *(_DWORD *)(this + 4328) == 0;
  *(_DWORD *)this = &off_4B75B0;
  if ( !v2 )
  {
    if ( *(_DWORD *)(this + 4332) )
    {
      v3 = *(_DWORD *)(this + 4296);
      v4 = *(_DWORD *)(this + 4332);
      if ( v3 < *(_DWORD *)(this + 4300) )
      {
        do
        {
          for ( i = *(_DWORD *)(v1 + 4284); i < *(_DWORD *)(v1 + 4292); i += 4 )
          {
            j__free(*(void **)(v4 + 4));
            v4 += 8;
          }
          ++v3;
        }
        while ( v3 < *(_DWORD *)(v1 + 4300) );
      }
    }
  }
  j__free(*(void **)(v1 + 4324));
  j__free(*(void **)(v1 + 4332));
  sub_43D71F(v1);
}
// 4B75B0: using guessed type int (__thiscall *off_4B75B0)(void *, char);

//----- (0043DD70) --------------------------------------------------------
int __thiscall sub_43DD70(int this)
{
  int v1; // eax@1
  double v2; // st7@3
  float v3; // ST04_4@5
  float v4; // ST00_4@5
  float v5; // ST00_4@5
  float v6; // ST00_4@5
  int result; // eax@5

  v1 = *(_DWORD *)(this + 4);
  if ( v1 == 844388420 || v1 == 861165636 )
    v2 = 15.0;
  else
    v2 = 255.0;
  *(float *)(this + 4212) = v2;
  *(float *)(this + 4216) = 1.0 / *(float *)(this + 4212);
  v3 = *(float *)(this + 36) * 31.0 + 0.5;
  *(float *)(this + 36) = (double)(signed int)v3 * 0.032258064;
  v4 = *(float *)(this + 40) * 63.0 + 0.5;
  *(float *)(this + 40) = (double)(signed int)v4 * 0.015873017;
  v5 = *(float *)(this + 44) * 31.0 + 0.5;
  *(float *)(this + 44) = (double)(signed int)v5 * 0.032258064;
  v6 = *(float *)(this + 4212) * *(float *)(this + 48) + 0.5;
  result = this;
  *(float *)(this + 48) = (double)(signed int)v6 * *(float *)(this + 4216);
  return result;
}

//----- (0043DE71) --------------------------------------------------------
double __stdcall sub_43DE71(float a1)
{
  float v2; // [sp+10h] [bp+8h]@1

  v2 = sub_44E121(LODWORD(a1)) * a1 * 254.0;
  return flt_4B6A88[v2] + (flt_4B6A8C[v2] - flt_4B6A88[v2]) * (v2 - (double)(unsigned int)(signed int)v2);
}
// 4B6A88: using guessed type float flt_4B6A88[];
// 4B6A8C: using guessed type float flt_4B6A8C[];

//----- (0043DEC1) --------------------------------------------------------
double __stdcall sub_43DEC1(float a1)
{
  float v2; // [sp+Ch] [bp+8h]@1

  v2 = a1 * a1 * 254.0;
  return flt_4B6E88[v2] + (flt_4B6E8C[v2] - flt_4B6E88[v2]) * (v2 - (double)(unsigned int)(signed int)v2);
}
// 4B6E88: using guessed type float flt_4B6E88[];
// 4B6E8C: using guessed type float flt_4B6E8C[];

//----- (0043DF08) --------------------------------------------------------
char *__thiscall sub_43DF08(char *this, int a2, unsigned int a3, int a4)
{
  char *v4; // ebx@1
  void *v5; // ecx@1
  bool v6; // zf@3
  unsigned int v7; // esi@4
  float v8; // ST1C_4@4
  float v9; // ST20_4@4
  float v10; // ST24_4@4
  float v11; // ST28_4@4
  int v12; // ecx@10
  unsigned int v13; // esi@14
  float *v14; // ecx@14
  int v15; // eax@17
  signed int v16; // ecx@17
  _DWORD *v17; // esi@19
  int v18; // ecx@19
  int v19; // eax@19
  int v20; // edi@19
  int v21; // eax@19
  int v22; // eax@20
  signed int v24; // [sp+2Ch] [bp+10h]@15

  v4 = this;
  *(_DWORD *)this = &off_4B7288;
  'vector constructor iterator'(this + 56, 16, 256, sub_434D2D);
  *((_DWORD *)v4 + 8) = *(_DWORD *)a2;
  *((_DWORD *)v4 + 1) = *(_DWORD *)(a2 + 4);
  *((_DWORD *)v4 + 1046) = *(_DWORD *)(a2 + 8);
  *((_DWORD *)v4 + 1047) = *(_DWORD *)(a2 + 12);
  qmemcpy(v4 + 4152, (const void *)(a2 + 40), 0x18u);
  v5 = &unk_52A5C0;
  if ( !*(_DWORD *)(a2 + 64) )
    v5 = &unk_52A540;
  *((_DWORD *)v4 + 13) = v5;
  *((_DWORD *)v4 + 1052) = a3 >> 3;
  *((_DWORD *)v4 + 1044) = 0;
  *((_DWORD *)v4 + 1045) = 0;
  *((_DWORD *)v4 + 3) = a3 != 0;
  *((_DWORD *)v4 + 2) = a4;
  *((_DWORD *)v4 + 6) = *(_DWORD *)(a2 + 72);
  v6 = *((_DWORD *)v4 + 6) == 0;
  *((_DWORD *)v4 + 4) = *(_DWORD *)(a2 + 68);
  *((_DWORD *)v4 + 5) = 0;
  if ( !v6 )
  {
    v7 = *(_DWORD *)(a2 + 72);
    v8 = (double)(unsigned __int8)(*(_DWORD *)(a2 + 72) >> 16) * 0.0039215689;
    v9 = (double)BYTE1(v7) * 0.0039215689;
    v10 = (double)(unsigned __int8)v7 * 0.0039215689;
    v11 = (double)(v7 >> 24) * 0.0039215689;
    *((float *)v4 + 9) = v8;
    *((float *)v4 + 10) = v9;
    *((float *)v4 + 11) = v10;
    *((float *)v4 + 12) = v11;
  }
  if ( a4 == 2 )
  {
    if ( *((_DWORD *)v4 + 1) == 61 )
      goto LABEL_10;
    *((_DWORD *)v4 + 4) = 0;
  }
  if ( a4 == 3 )
    *((_DWORD *)v4 + 4) = 0;
LABEL_10:
  v12 = *((_DWORD *)v4 + 1);
  if ( v12 == 41 || v12 == 40 )
  {
    *((_DWORD *)v4 + 7) = 1;
    if ( *(_DWORD *)(a2 + 76) )
    {
      v13 = 0;
      v14 = (float *)(v4 + 60);
      do
      {
        v24 = *(_BYTE *)(v13 + *(_DWORD *)(a2 + 76));
        v13 += 4;
        *(v14 - 1) = (double)v24 * 0.0039215689;
        *v14 = (double)*(_BYTE *)(v13 + *(_DWORD *)(a2 + 76) - 3) * 0.0039215689;
        v14 += 4;
        *(v14 - 3) = (double)*(_BYTE *)(v13 + *(_DWORD *)(a2 + 76) - 2) * 0.0039215689;
        *(v14 - 2) = (double)*(_BYTE *)(v13 + *(_DWORD *)(a2 + 76) - 1) * 0.0039215689;
      }
      while ( v13 < 0x400 );
    }
    else
    {
      v15 = (int)(v4 + 64);
      v16 = 256;
      do
      {
        *(float *)(v15 + 4) = 1.0;
        *(float *)v15 = 1.0;
        v15 += 16;
        --v16;
        *(float *)(v15 - 20) = 1.0;
        *(float *)(v15 - 24) = 1.0;
      }
      while ( v16 );
    }
  }
  else
  {
    *((_DWORD *)v4 + 7) = 0;
  }
  v17 = v4 + 4152;
  v18 = *((_DWORD *)v4 + 1040) - *((_DWORD *)v4 + 1038);
  v19 = *((_DWORD *)v4 + 1042);
  *((_DWORD *)v4 + 1049) = *((_DWORD *)v4 + 1041) - *((_DWORD *)v4 + 1039);
  v20 = *((_DWORD *)v4 + 1043) - v19;
  v21 = *((_DWORD *)v4 + 1052);
  *((_DWORD *)v4 + 1050) = v20;
  v6 = *((_DWORD *)v4 + 3) == 0;
  *((_DWORD *)v4 + 1048) = v18;
  *((_DWORD *)v4 + 1051) = v18 * v21;
  if ( !v6 )
  {
    *((_DWORD *)v4 + 8) += *((_DWORD *)v4 + 1042) * *((_DWORD *)v4 + 1047)
                         + *((_DWORD *)v4 + 1039) * *((_DWORD *)v4 + 1046)
                         + *v17 * v21;
    *((_DWORD *)v4 + 1040) = *((_DWORD *)v4 + 1048);
    *((_DWORD *)v4 + 1041) = *((_DWORD *)v4 + 1049);
    v22 = *((_DWORD *)v4 + 1050);
    *v17 = 0;
    *((_DWORD *)v4 + 1039) = 0;
    *((_DWORD *)v4 + 1042) = 0;
    *((_DWORD *)v4 + 1043) = v22;
  }
  return v4;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 4B7288: using guessed type int (__thiscall *off_4B7288)(void *, char);

//----- (0043E179) --------------------------------------------------------
signed int __thiscall sub_43E179(int this, int a2)
{
  int v2; // eax@1
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // edi@6
  void *v6; // eax@6
  void *v7; // ebx@6
  void *v8; // eax@7

  v2 = *(_DWORD *)(a2 + 8);
  v3 = this;
  v4 = *(_DWORD *)(this + 8);
  if ( v4 != v2 && v4 != 4 )
    *(_DWORD *)(v3 + 4176) = v2;
  if ( *(_DWORD *)(v3 + 4176) || *(_DWORD *)(v3 + 16) )
  {
    v5 = *(_DWORD *)(v3 + 4192);
    v6 = operator new(16 * *(_DWORD *)(v3 + 4192));
    v7 = v6;
    if ( v6 )
    {
      'vector constructor iterator'(v6, 16, v5, sub_434D2D);
      v8 = v7;
    }
    else
    {
      v8 = 0;
    }
    *(_DWORD *)(v3 + 4180) = v8;
    if ( !v8 )
      return -2147024882;
    if ( *(_DWORD *)(v3 + 16) )
    {
      if ( *(_DWORD *)(a2 + 16) )
      {
        *(_DWORD *)(a2 + 20) = 1;
        *(_DWORD *)(v3 + 20) = 1;
      }
    }
  }
  return 0;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0043E202) --------------------------------------------------------
int __thiscall sub_43E202(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // ecx@3
  int result; // eax@4
  char v8; // [sp+Ch] [bp-24h]@1
  int v9; // [sp+14h] [bp-1Ch]@1
  int v10; // [sp+18h] [bp-18h]@1
  int v11; // [sp+1Ch] [bp-14h]@1
  int v12; // [sp+20h] [bp-10h]@1
  int v13; // [sp+24h] [bp-Ch]@1
  int v14; // [sp+28h] [bp-8h]@3
  int v15; // [sp+2Ch] [bp-4h]@3

  v1 = this;
  v2 = *(_DWORD *)(this + 4192);
  v3 = *(_DWORD *)(this + 4208);
  v13 = v2;
  v12 = *(_DWORD *)(v1 + 4204);
  v11 = *(_DWORD *)(v1 + 32);
  v10 = *(_DWORD *)(v1 + 52);
  v4 = *(_DWORD *)(v1 + 24);
  *(_DWORD *)(v1 + 4204) = v3;
  v9 = v4;
  *(_DWORD *)(v1 + 32) = &v8;
  v5 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(v1 + 4192) = 1;
  *(_DWORD *)(v1 + 52) = &unk_52A540;
  *(_DWORD *)(v1 + 24) = 0;
  if ( v5 != 1 && v5 != 4 )
  {
    v15 = *(_DWORD *)(v1 + 4176);
    v6 = *(_DWORD *)(v1 + 4180);
    *(_DWORD *)(v1 + 4176) = 1;
    v14 = v6;
    *(_DWORD *)(v1 + 4180) = v1 + 36;
    sub_43D732(v1, v1 + 36);
    *(_DWORD *)(v1 + 4176) = v15;
    *(_DWORD *)(v1 + 4180) = v14;
  }
  (*(void (__thiscall **)(int, _DWORD, _DWORD, int))(*(_DWORD *)v1 + 8))(v1, 0, 0, v1 + 36);
  (*(void (__thiscall **)(int, _DWORD, _DWORD, int))(*(_DWORD *)v1 + 4))(v1, 0, 0, v1 + 36);
  *(_DWORD *)(v1 + 4192) = v13;
  *(_DWORD *)(v1 + 4204) = v12;
  *(_DWORD *)(v1 + 32) = v11;
  *(_DWORD *)(v1 + 52) = v10;
  result = v9;
  *(_DWORD *)(v1 + 24) = v9;
  return result;
}

//----- (0043E2D5) --------------------------------------------------------
void __thiscall sub_43E2D5(int this, unsigned int a2)
{
  int v2; // edx@2
  unsigned int v3; // esi@2

  if ( a2 < a2 + 16 * *(_DWORD *)(this + 4192) )
  {
    v2 = a2 + 8;
    v3 = ((unsigned int)(16 * *(_DWORD *)(this + 4192) - 1) >> 4) + 1;
    do
    {
      if ( *(float *)(v2 - 8) == *(float *)(this + 36)
        && *(float *)(v2 - 4) == *(float *)(this + 40)
        && *(float *)v2 == *(float *)(this + 44)
        && *(float *)(v2 + 4) == *(float *)(this + 48) )
      {
        *(float *)(v2 + 4) = 0.0;
        *(float *)v2 = 0.0;
        *(float *)(v2 - 4) = 0.0;
        *(float *)(v2 - 8) = 0.0;
      }
      v2 += 16;
      --v3;
    }
    while ( v3 );
  }
}

//----- (0043E345) --------------------------------------------------------
int __thiscall sub_43E345(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  unsigned int v4; // edi@4
  unsigned int v5; // edi@7
  int v6; // eax@10
  int v7; // ecx@10
  unsigned int j; // edi@12
  unsigned int i; // edi@15
  int v11; // [sp+10h] [bp-8h]@0
  int v12; // [sp+14h] [bp-4h]@1

  v2 = 0;
  v12 = this;
  if ( *(_DWORD *)(this + 20) )
  {
    v3 = *(_DWORD *)(this + 8);
    if ( v3 == 1 || v3 == 4 )
    {
      v5 = 0;
      if ( *(_DWORD *)(this + 4192) > 0u )
      {
        do
        {
          *(float *)(v2 + *(_DWORD *)(v12 + 4180)) = sub_44E121(COERCE_UNSIGNED_INT(*(float *)(v2 + a2)))
                                                   * *(float *)(v2 + a2);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = sub_44E121(COERCE_UNSIGNED_INT(*(float *)(v2 + a2 + 4)))
                                                       * *(float *)(v2 + a2 + 4);
          ++v5;
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = sub_44E121(COERCE_UNSIGNED_INT(*(float *)(v2 + a2 + 8)))
                                                       * *(float *)(v2 + a2 + 8);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = *(float *)(v2 + a2 + 12);
          this = v12;
          v2 += 16;
        }
        while ( v5 < *(_DWORD *)(v12 + 4192) );
      }
    }
    else
    {
      v4 = 0;
      if ( *(_DWORD *)(this + 4192) > 0u )
      {
        do
        {
          *(float *)(v2 + *(_DWORD *)(this + 4180)) = *(float *)(v2 + a2);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = *(float *)(v2 + a2 + 4);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = *(float *)(v2 + a2 + 8);
          ++v4;
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = sub_44E121(COERCE_UNSIGNED_INT(*(float *)(v2 + a2 + 12)))
                                                        * *(float *)(v2 + a2 + 12);
          this = v12;
          v2 += 16;
        }
        while ( v4 < *(_DWORD *)(v12 + 4192) );
      }
    }
  }
  else
  {
    dword_537C00 = v11;
    v6 = this;
    v7 = *(_DWORD *)(this + 8);
    if ( v7 == 1 || v7 == 4 )
    {
      for ( i = 0; i < *(_DWORD *)(v12 + 4192); v2 += 16 )
      {
        *(float *)(v2 + *(_DWORD *)(v12 + 4180)) = sub_43DE71(*(float *)(v2 + a2));
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = sub_43DE71(*(float *)(v2 + a2 + 4));
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = sub_43DE71(*(float *)(v2 + a2 + 8));
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = *(float *)(v2 + a2 + 12);
        ++i;
      }
    }
    else
    {
      for ( j = 0; j < *(_DWORD *)(v12 + 4192); v2 += 16 )
      {
        *(float *)(v2 + *(_DWORD *)(v6 + 4180)) = *(float *)(v2 + a2);
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = *(float *)(v2 + a2 + 4);
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = *(float *)(v2 + a2 + 8);
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = sub_43DE71(*(float *)(v2 + a2 + 12));
        v6 = v12;
        ++j;
      }
    }
    this = v12;
  }
  return *(_DWORD *)(this + 4180);
}
// 537C00: using guessed type int dword_537C00;

//----- (0043E5C7) --------------------------------------------------------
void __thiscall sub_43E5C7(int this, unsigned int a2)
{
  unsigned int v2; // edx@1
  int v3; // ecx@2
  float *v4; // eax@5
  unsigned int v5; // edx@5
  float *v6; // eax@9
  unsigned int v7; // edx@9
  int v8; // eax@12
  float *v9; // esi@15
  unsigned int v10; // edi@15
  float *v11; // esi@19
  unsigned int v12; // edi@19
  int v13; // [sp+14h] [bp-8h]@0

  v2 = a2 + 16 * *(_DWORD *)(this + 4192);
  if ( *(_DWORD *)(this + 20) )
  {
    v3 = *(_DWORD *)(this + 8);
    if ( v3 == 1 || v3 == 4 )
    {
      if ( a2 < v2 )
      {
        v6 = (float *)(a2 + 8);
        v7 = ((v2 - a2 - 1) >> 4) + 1;
        do
        {
          *(v6 - 2) = *(v6 - 2) * *(v6 - 2);
          *(v6 - 1) = *(v6 - 1) * *(v6 - 1);
          *v6 = *v6 * *v6;
          v6 += 4;
          --v7;
        }
        while ( v7 );
      }
    }
    else if ( a2 < v2 )
    {
      v4 = (float *)(a2 + 12);
      v5 = ((v2 - a2 - 1) >> 4) + 1;
      do
      {
        *v4 = *v4 * *v4;
        v4 += 4;
        --v5;
      }
      while ( v5 );
    }
  }
  else
  {
    v8 = *(_DWORD *)(this + 8);
    dword_537C00 = v13;
    if ( v8 == 1 || v8 == 4 )
    {
      if ( a2 < v2 )
      {
        v11 = (float *)(a2 + 8);
        v12 = ((v2 - a2 - 1) >> 4) + 1;
        do
        {
          *(v11 - 2) = sub_43DEC1(*(v11 - 2));
          *(v11 - 1) = sub_43DEC1(*(v11 - 1));
          *v11 = sub_43DEC1(*v11);
          v11 += 4;
          --v12;
        }
        while ( v12 );
      }
    }
    else if ( a2 < v2 )
    {
      v9 = (float *)(a2 + 12);
      v10 = ((v2 - a2 - 1) >> 4) + 1;
      do
      {
        *v9 = sub_43DEC1(*v9);
        v9 += 4;
        --v10;
      }
      while ( v10 );
    }
  }
}
// 537C00: using guessed type int dword_537C00;

//----- (0043E6FD) --------------------------------------------------------
int __thiscall sub_43E6FD(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int v7; // edx@5
  int v8; // esi@5
  int v9; // eax@6
  float v10; // ST20_4@7
  float v11; // ST1C_4@7
  float v12; // ST1C_4@7
  float v13; // ST1C_4@7
  int v15; // [sp+20h] [bp-8h]@0
  int v16; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v16;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v16;
    a4 = v6;
  }
  v7 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v15;
  if ( *(_DWORD *)(v16 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      *(_BYTE *)v7 = (signed int)v11;
      v12 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      *(_BYTE *)(v7 + 1) = (signed int)v12;
      v13 = *(float *)(v9 + a4) * 255.0 + v10;
      *(_BYTE *)(v7 + 2) = (signed int)v13;
      v7 += 3;
      ++v4;
      v9 += 16;
    }
    while ( v4 < *(_DWORD *)(v16 + 4192) );
  }
  return v15;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043E80E) --------------------------------------------------------
int __thiscall sub_43E80E(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 255.0 + v10;
      v9 += 16;
      *v6 = v16 | ((v14 | ((v12 | ((signed int)v17 << 8)) << 8)) << 8);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043E957) --------------------------------------------------------
int __thiscall sub_43E957(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  signed int v12; // eax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | ((v14 | (v12 << 8)) << 8);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043EA7C) --------------------------------------------------------
int __thiscall sub_43EA7C(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  __int16 v12; // ax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 31.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 63.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 31.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | 32 * (v14 | (v12 << 6));
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043EBA1) --------------------------------------------------------
int __thiscall sub_43EBA1(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  __int16 v12; // ax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 31.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 31.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 31.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | 32 * (v14 | 32 * v12);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043ECC6) --------------------------------------------------------
int __thiscall sub_43ECC6(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 31.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 31.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 31.0 + v10;
      v16 = (signed int)v15;
      v17 = v10 + *(float *)(v9 + a4 + 12);
      v9 += 16;
      *v6 = v16 | 32 * (v14 | 32 * (v12 | 32 * (signed int)v17));
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043EE09) --------------------------------------------------------
int __thiscall sub_43EE09(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 15.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 15.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 15.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 15.0 + v10;
      v9 += 16;
      *v6 = v16 | 16 * (v14 | 16 * (v12 | 16 * (signed int)v17));
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043EF52) --------------------------------------------------------
int __thiscall sub_43EF52(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _BYTE *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // ecx@5
  int v9; // esi@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  char v12; // al@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v18;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v18;
    a4 = v5;
  }
  v6 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  v8 = 0;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 7.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 7.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 3.0 + v10;
      v9 += 16;
      *v6++ = (signed int)v15 | 4 * (v14 | 8 * v12);
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F077) --------------------------------------------------------
int __thiscall sub_43F077(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _BYTE *v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST10_4@6
  int v13; // [sp+10h] [bp-8h]@0
  int v14; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v14;
  v10 = 0;
  v11 = *(_DWORD *)(v14 + 4192) == 0;
  dword_537C00 = v13;
  if ( !v11 )
  {
    do
    {
      v12 = *(float *)(v8 + 4 * (v10 & 3)) + *(float *)(v4 + a4 + 12) * 255.0;
      *v7 = (signed int)v12;
      result = v14;
      ++v7;
      ++v10;
      v4 += 16;
    }
    while ( v10 < *(_DWORD *)(v14 + 4192) );
  }
  return result;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F143) --------------------------------------------------------
int __thiscall sub_43F143(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // eax@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 7.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 7.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 3.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 255.0 + v10;
      v9 += 16;
      *v6 = v16 | 4 * (v14 | 8 * (v12 | 8 * (signed int)v17));
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F28C) --------------------------------------------------------
int __thiscall sub_43F28C(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  __int16 v12; // ax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 15.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 15.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 15.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | 16 * (v14 | 16 * v12);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F3B1) --------------------------------------------------------
int __thiscall sub_43F3B1(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ST10_4@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ebx@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 1023.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 1023.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 1023.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 3.0 + v10;
      v9 += 16;
      *v6 = v12 | ((v14 | ((v16 | ((signed int)v17 << 10)) << 10)) << 10);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F4FA) --------------------------------------------------------
int __thiscall sub_43F4FA(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4) * 255.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 255.0 + v10;
      v9 += 16;
      *v6 = v16 | ((v14 | ((v12 | ((signed int)v17 << 8)) << 8)) << 8);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F643) --------------------------------------------------------
int __thiscall sub_43F643(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  signed int v12; // eax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4) * 255.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | ((v14 | (v12 << 8)) << 8);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F768) --------------------------------------------------------
int __thiscall sub_43F768(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // esi@5
  int result; // eax@5
  bool v10; // zf@5
  int v11; // ecx@6
  float v12; // ST18_4@7
  float v13; // ST14_4@7
  int v14; // [sp+18h] [bp-8h]@0
  int v15; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v15;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v15;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v15;
  v10 = *(_DWORD *)(v15 + 4192) == 0;
  dword_537C00 = v14;
  if ( !v10 )
  {
    v11 = 0;
    do
    {
      v12 = *(float *)(v11 + a4) * 65535.0 + *(float *)(v8 + 4 * (v4 & 3));
      v13 = *(float *)(v11 + a4 + 4) * 65535.0 + *(float *)(v8 + 4 * (v4 & 3));
      v11 += 16;
      *v7 = (signed int)v12 | ((signed int)v13 << 16);
      result = v15;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v15 + 4192) );
  }
  return result;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F85F) --------------------------------------------------------
int __thiscall sub_43F85F(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ST10_4@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ebx@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 1023.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 1023.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4) * 1023.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 3.0 + v10;
      v9 += 16;
      *v6 = v12 | ((v14 | ((v16 | ((signed int)v17 << 10)) << 10)) << 10);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043F9A8) --------------------------------------------------------
int __thiscall sub_43F9A8(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int v6; // esi@5
  int v7; // ecx@6
  float v8; // ST34_4@7
  float v9; // ST28_4@7
  signed int v10; // ST10_4@7
  float v11; // ST28_4@7
  signed int v12; // ST14_4@7
  float v13; // ST28_4@7
  signed int v14; // edi@7
  float v15; // ST28_4@7
  unsigned __int64 v16; // rt0@7
  int v18; // [sp+28h] [bp-14h]@5
  int v19; // [sp+2Ch] [bp-10h]@0
  unsigned int v20; // [sp+34h] [bp-8h]@5
  int v21; // [sp+38h] [bp-4h]@1

  v21 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v21;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v21;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v18 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v19;
  v20 = 0;
  if ( *(_DWORD *)(v21 + 4192) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v18 + 4 * (v20 & 3));
      v9 = *(float *)(v7 + a4) * 65535.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 65535.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 65535.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 65535.0 + v8;
      v16 = v14 | (unsigned __int64)((signed __int64)(signed int)v15 << 16);
      HIDWORD(v16) = ((unsigned __int64)v12 >> 32) | (v16 >> 16);
      LODWORD(v16) = v12 | ((_DWORD)v16 << 16);
      *(_DWORD *)v6 = v10 | ((_DWORD)v16 << 16);
      *(_DWORD *)(v6 + 4) = ((unsigned __int64)v10 >> 32) | (v16 >> 16);
      v6 += 8;
      ++v20;
      v7 += 16;
    }
    while ( v20 < *(_DWORD *)(v21 + 4192) );
  }
  return v19;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043FB29) --------------------------------------------------------
int __thiscall sub_43FB29(int this, int a2, int a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // edi@5
  int v9; // eax@5
  int v10; // ecx@7
  float *v11; // esi@7
  double v12; // st6@8
  double v13; // st5@8
  double v14; // st4@8
  double v15; // st3@8
  float v16; // ST24_4@11
  __int16 v17; // cx@11
  __int16 v19; // [sp+10h] [bp-18h]@7
  float v20; // [sp+14h] [bp-14h]@7
  int v21; // [sp+18h] [bp-10h]@0
  int v22; // [sp+1Ch] [bp-Ch]@6
  unsigned int v23; // [sp+20h] [bp-8h]@7
  int v24; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v24 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v24;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v24;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v21;
  v9 = v24;
  if ( *(_DWORD *)(v24 + 4192) )
  {
    v22 = 0;
    do
    {
      v19 = 0;
      v23 = 0;
      v10 = v22 + a4;
      v20 = 3.4028235e38;
      v11 = (float *)(v9 + 64);
      do
      {
        v12 = *(float *)v10 - *(v11 - 2);
        v13 = *(float *)(v10 + 4) - *(v11 - 1);
        v14 = *(float *)(v10 + 8) - *v11;
        v15 = v14 * v14 + v13 * v13 + v12 * v12;
        if ( v15 < v20 )
        {
          v20 = v15;
          v19 = v23;
        }
        ++v23;
        v11 += 4;
      }
      while ( v23 < 0x100 );
      v16 = *(float *)(v10 + 12) * 255.0 + *(float *)(v8 + 4 * (v4 & 3));
      v22 += 16;
      LOBYTE(v17) = 0;
      HIBYTE(v17) = (signed int)v16;
      *v7 = v19 | v17;
      v9 = v24;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v24 + 4192) );
  }
  return v21;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043FC70) --------------------------------------------------------
int __thiscall sub_43FC70(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  char v5; // bl@1
  int result; // eax@2
  _BYTE *v7; // ecx@6
  int v8; // edx@7
  int v9; // edi@9
  double v10; // st7@10
  double v11; // st6@10
  double v12; // st5@10
  double v13; // st4@10
  double v14; // st3@10
  unsigned int v15; // [sp+10h] [bp+8h]@6
  float v16; // [sp+14h] [bp+Ch]@9
  unsigned int v17; // [sp+18h] [bp+10h]@9

  v4 = this;
  v5 = 0;
  if ( *(_DWORD *)(this + 4176) )
    result = sub_43D732(this, a4);
  else
    result = a4;
  if ( *(_DWORD *)(v4 + 16) )
    result = sub_43E345(v4, result);
  v7 = (_BYTE *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184));
  v15 = 0;
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v8 = result + 8;
    while ( 1 )
    {
      v16 = 3.4028235e38;
      v17 = 0;
      v9 = v4 + 64;
      do
      {
        v10 = *(float *)(v8 - 8) - *(float *)(v9 - 8);
        v11 = *(float *)(v8 - 4) - *(float *)(v9 - 4);
        v12 = *(float *)v8 - *(float *)v9;
        v13 = *(float *)(v8 + 4) - *(float *)(v9 + 4);
        v14 = v13 * v13 + v12 * v12 + v11 * v11 + v10 * v10;
        if ( v14 < v16 )
        {
          v5 = v17;
          v16 = v14;
        }
        ++v17;
        v9 += 16;
      }
      while ( v17 < 0x100 );
      *v7++ = v5;
      result = ++v15;
      v8 += 16;
      if ( v15 >= *(_DWORD *)(v4 + 4192) )
        break;
      v5 = 0;
    }
  }
  return result;
}

//----- (0043FD4A) --------------------------------------------------------
int __thiscall sub_43FD4A(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _BYTE *v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST10_4@6
  int v13; // [sp+10h] [bp-8h]@0
  int v14; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v14;
  v10 = 0;
  v11 = *(_DWORD *)(v14 + 4192) == 0;
  dword_537C00 = v13;
  if ( !v11 )
  {
    do
    {
      v12 = (*(float *)(v4 + a4 + 8) * 0.072099999
           + *(float *)(v4 + a4 + 4) * 0.71539998
           + *(float *)(v4 + a4) * 0.21250001)
          * 255.0
          + *(float *)(v8 + 4 * (v10 & 3));
      *v7 = (signed int)v12;
      result = v14;
      ++v7;
      ++v10;
      v4 += 16;
    }
    while ( v10 < *(_DWORD *)(v14 + 4192) );
  }
  return result;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043FE32) --------------------------------------------------------
int __thiscall sub_43FE32(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // ecx@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  float v11; // ST14_4@7
  __int16 v12; // bx@7
  int v14; // [sp+1Ch] [bp-8h]@0
  int v15; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v15;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v15;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v14;
  if ( *(_DWORD *)(v15 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = (*(float *)(v9 + a4 + 8) * 0.072099999
           + *(float *)(v9 + a4 + 4) * 0.71539998
           + *(float *)(v9 + a4) * 0.21250001)
          * 255.0
          + *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 12) * 255.0 + *(float *)(v8 + 4 * (v4 & 3));
      LOBYTE(v12) = 0;
      HIBYTE(v12) = (signed int)v11;
      v9 += 16;
      *v7 = (signed int)v10 | v12;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v15 + 4192) );
  }
  return v14;
}
// 537C00: using guessed type int dword_537C00;

//----- (0043FF4D) --------------------------------------------------------
int __thiscall sub_43FF4D(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _BYTE *v7; // edx@5
  int v8; // ecx@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  float v11; // ST14_4@7
  int v13; // [sp+1Ch] [bp-8h]@0
  int v14; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v13;
  if ( *(_DWORD *)(v14 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = (*(float *)(v9 + a4 + 8) * 0.072099999
           + *(float *)(v9 + a4 + 4) * 0.71539998
           + *(float *)(v9 + a4) * 0.21250001)
          * 15.0
          + *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 12) * 15.0 + *(float *)(v8 + 4 * (v4 & 3));
      *v7++ = (signed int)v10 | 16 * (signed int)v11;
      ++v4;
      v9 += 16;
    }
    while ( v4 < *(_DWORD *)(v14 + 4192) );
  }
  return v13;
}
// 537C00: using guessed type int dword_537C00;

//----- (0044005D) --------------------------------------------------------
int __thiscall sub_44005D(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // eax@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  __int16 v11; // cx@7
  float v12; // ST14_4@7
  int v14; // [sp+1Ch] [bp-8h]@0
  int v15; // [sp+20h] [bp-4h]@1

  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v15;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v15;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v14;
  v8 = 0;
  if ( *(_DWORD *)(v15 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v9 + a4) * 127.0 + *(float *)(v7 + 4 * (v8 & 3));
      LOBYTE(v11) = (signed int)v10;
      v12 = *(float *)(v9 + a4 + 4) * 127.0 + *(float *)(v7 + 4 * (v8 & 3));
      v9 += 16;
      HIBYTE(v11) = (signed int)v12;
      *v6 = v11;
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v15 + 4192) );
  }
  return v14;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440158) --------------------------------------------------------
int __thiscall sub_440158(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  unsigned int i; // ebx@5
  float v9; // ST24_4@6
  float v10; // ST1C_4@6
  char v11; // cl@6
  float v12; // ST1C_4@6
  char v13; // al@6
  float v14; // ST1C_4@6
  int v16; // [sp+1Ch] [bp-10h]@5
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v16 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  for ( i = 0; i < *(_DWORD *)(v18 + 4192); v4 += 16 )
  {
    v9 = *(float *)(v16 + 4 * (i & 3));
    v10 = *(float *)(v4 + a4) * 15.0 + v9;
    v11 = (signed int)v10;
    v12 = *(float *)(v4 + a4 + 4) * 15.0 + v9;
    v13 = (signed int)v12;
    v14 = *(float *)(v4 + a4 + 12) * 63.0 + v9;
    *v7 = v11 & 0x1F | 32 * (32 * (signed int)v14 | v13 & 0x1F);
    ++v7;
    ++i;
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440282) --------------------------------------------------------
int __thiscall sub_440282(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // ecx@5
  int v8; // esi@6
  float v9; // ST24_4@7
  float v10; // ST20_4@7
  unsigned __int8 v11; // di@7
  float v12; // ST20_4@7
  signed int v13; // ST10_4@7
  float v14; // ST20_4@7
  unsigned __int16 v15; // bx@7
  int v17; // [sp+24h] [bp-Ch]@0
  unsigned int v18; // [sp+28h] [bp-8h]@5
  int v19; // [sp+2Ch] [bp-4h]@1

  v19 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v19;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v19;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v17;
  v18 = 0;
  if ( *(_DWORD *)(v19 + 4192) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v7 + 4 * (v18 & 3));
      v10 = *(float *)(v8 + a4) * 127.0 + v9;
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 127.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 12) * 255.0 + v9;
      HIBYTE(v15) = (signed int)v14;
      v8 += 16;
      LOBYTE(v15) = v13;
      *v6 = v11 | (v15 << 8);
      ++v6;
      ++v18;
    }
    while ( v18 < *(_DWORD *)(v19 + 4192) );
  }
  return v17;
}
// 537C00: using guessed type int dword_537C00;

//----- (004403B4) --------------------------------------------------------
int __thiscall sub_4403B4(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // ecx@6
  float v8; // ST30_4@7
  float v9; // ST24_4@7
  signed int v10; // edi@7
  float v11; // ST24_4@7
  signed int v12; // ST10_4@7
  float v13; // ST24_4@7
  signed int v14; // eax@7
  float v15; // ST24_4@7
  int v17; // [sp+24h] [bp-14h]@5
  int v18; // [sp+28h] [bp-10h]@0
  unsigned int v19; // [sp+30h] [bp-8h]@5
  int v20; // [sp+34h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v17 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v18;
  v19 = 0;
  if ( *(_DWORD *)(v20 + 4192) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v17 + 4 * (v19 & 3));
      v9 = *(float *)(v7 + a4) * 127.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 127.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 127.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 127.0 + v8;
      *v6 = (unsigned __int8)v10 | (((unsigned __int8)v12 | ((((signed int)v15 << 8) | (unsigned __int8)v14) << 8)) << 8);
      ++v6;
      ++v19;
      v7 += 16;
    }
    while ( v19 < *(_DWORD *)(v20 + 4192) );
  }
  return v18;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440513) --------------------------------------------------------
int __thiscall sub_440513(int this, int a2, int a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // edi@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  float v11; // ST14_4@7
  int v13; // [sp+1Ch] [bp-8h]@0
  int v14; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v13;
  if ( *(_DWORD *)(v14 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v9 + a4) * 32767.0 + *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 4) * 32767.0 + *(float *)(v8 + 4 * (v4 & 3));
      *v7 = (unsigned __int16)(signed int)v10 | ((signed int)v11 << 16);
      ++v7;
      ++v4;
      v9 += 16;
    }
    while ( v4 < *(_DWORD *)(v14 + 4192) );
  }
  return v13;
}
// 537C00: using guessed type int dword_537C00;

//----- (0044060E) --------------------------------------------------------
int __thiscall sub_44060E(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // ecx@6
  float v8; // ST30_4@7
  float v9; // ST24_4@7
  signed int v10; // edi@7
  float v11; // ST24_4@7
  signed int v12; // ST10_4@7
  float v13; // ST24_4@7
  signed int v14; // eax@7
  float v15; // ST24_4@7
  int v17; // [sp+24h] [bp-14h]@5
  int v18; // [sp+28h] [bp-10h]@0
  unsigned int v19; // [sp+30h] [bp-8h]@5
  int v20; // [sp+34h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v17 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v18;
  v19 = 0;
  if ( *(_DWORD *)(v20 + 4192) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v17 + 4 * (v19 & 3));
      v9 = *(float *)(v7 + a4) * 511.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 511.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 511.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 3.0 + v8;
      *v6 = v10 & 0x3FF | ((v12 & 0x3FF | ((((signed int)v15 << 10) | v14 & 0x3FF) << 10)) << 10);
      ++v6;
      ++v19;
      v7 += 16;
    }
    while ( v19 < *(_DWORD *)(v20 + 4192) );
  }
  return v18;
}
// 537C00: using guessed type int dword_537C00;

//----- (0044076D) --------------------------------------------------------
int __thiscall sub_44076D(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  unsigned __int64 *v6; // esi@5
  int v7; // eax@6
  float v8; // ST38_4@7
  float v9; // ST28_4@7
  signed int v10; // ST10_4@7
  float v11; // ST28_4@7
  signed int v12; // ST14_4@7
  float v13; // ST28_4@7
  signed int v14; // edi@7
  float v15; // ST28_4@7
  __int64 v16; // rt0@7
  int v18; // [sp+28h] [bp-18h]@5
  int v19; // [sp+2Ch] [bp-14h]@6
  int v20; // [sp+30h] [bp-10h]@0
  unsigned int v21; // [sp+38h] [bp-8h]@5
  int v22; // [sp+3Ch] [bp-4h]@1

  v22 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v22;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v22;
    a4 = v5;
  }
  v6 = (unsigned __int64 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v18 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_537C00 = v20;
  v21 = 0;
  if ( *(_DWORD *)(v22 + 4192) )
  {
    v7 = 0;
    v19 = 0;
    do
    {
      v8 = *(float *)(v18 + 4 * (v21 & 3));
      v9 = *(float *)(v7 + a4) * 32767.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 32767.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 32767.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 32767.0 + v8;
      HIDWORD(v16) = ((unsigned __int16)v14 | (unsigned __int64)((signed __int64)((signed int)v15 & 0xFFFF) << 16)) >> 16;
      LODWORD(v16) = (unsigned __int16)v12 | (((unsigned __int16)v14 | ((signed int)v15 << 16)) << 16);
      *v6 = (unsigned __int16)v10 | (unsigned __int64)(v16 << 16);
      ++v6;
      ++v21;
      v7 = v19 + 16;
      v19 += 16;
    }
    while ( v21 < *(_DWORD *)(v22 + 4192) );
  }
  return v20;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440904) --------------------------------------------------------
int __thiscall sub_440904(int this, int a2, int a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // esi@5
  int v8; // edi@5
  double v9; // st7@7
  __int16 v10; // ax@7
  float v12; // [sp+Ch] [bp-28h]@7
  float v13; // [sp+10h] [bp-24h]@7
  int v14; // [sp+1Ch] [bp-18h]@7
  float v15; // [sp+20h] [bp-14h]@7
  int v16; // [sp+24h] [bp-10h]@7
  int v17; // [sp+28h] [bp-Ch]@5
  int v18; // [sp+2Ch] [bp-8h]@5
  int v19; // [sp+30h] [bp-4h]@1

  v4 = 0;
  v19 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v19;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v19;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  v17 = v18 | 0xC00;
  dword_537C00 = v18;
  if ( *(_DWORD *)(v19 + 4192) > 0u )
  {
    v18 = 0;
    do
    {
      sub_444D4C(&v12, a4 + v18);
      v9 = *(float *)(v8 + 4 * (v4 & 3));
      v15 = *(float *)(v8 + 4 * (v4 & 3));
      *(float *)&v17 = v12 * 127.0 + v9;
      v16 = (signed int)*(float *)&v17;
      LOBYTE(v10) = v16;
      v15 = v13 * 127.0 + v15;
      v14 = (signed int)v15;
      v18 += 16;
      HIBYTE(v10) = v14;
      *v7 = v10;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v19 + 4192) );
  }
  return dword_537C00;
}
// 444D4C: using guessed type int __stdcall sub_444D4C(_DWORD, _DWORD);
// 537C00: using guessed type int dword_537C00;

//----- (00440A09) --------------------------------------------------------
int __thiscall sub_440A09(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST10_4@6
  int v13; // [sp+10h] [bp-8h]@0
  int v14; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v14;
  v10 = 0;
  v11 = *(_DWORD *)(v14 + 4192) == 0;
  dword_537C00 = v13;
  if ( !v11 )
  {
    do
    {
      v12 = (*(float *)(v4 + a4 + 8) * 0.072099999
           + *(float *)(v4 + a4 + 4) * 0.71539998
           + *(float *)(v4 + a4) * 0.21250001)
          * 65535.0
          + *(float *)(v8 + 4 * (v10 & 3));
      *v7 = (signed int)v12;
      result = v14;
      ++v7;
      ++v10;
      v4 += 16;
    }
    while ( v10 < *(_DWORD *)(v14 + 4192) );
  }
  return result;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440AF3) --------------------------------------------------------
int __thiscall sub_440AF3(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  unsigned int v5; // ebx@1
  int result; // eax@3
  int v7; // esi@3

  v4 = this;
  v5 = 0;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_43E345(this, a4);
  result = a3 * *(_DWORD *)(v4 + 4188);
  v7 = *(_DWORD *)(v4 + 32) + result + a2 * *(_DWORD *)(v4 + 4184);
  if ( *(_DWORD *)(v4 + 4192) > 0u )
  {
    do
    {
      result = sub_444976(v7, a4, 1);
      a4 += 16;
      v7 += 2;
      ++v5;
    }
    while ( v5 < *(_DWORD *)(v4 + 4192) );
  }
  return result;
}
// 444976: using guessed type int __stdcall sub_444976(_DWORD, _DWORD, _DWORD);

//----- (00440B55) --------------------------------------------------------
int __thiscall sub_440B55(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  unsigned int v5; // ebx@1
  int result; // eax@3
  int v7; // esi@3

  v4 = this;
  v5 = 0;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_43E345(this, a4);
  result = a3 * *(_DWORD *)(v4 + 4188);
  v7 = *(_DWORD *)(v4 + 32) + result + a2 * *(_DWORD *)(v4 + 4184);
  if ( *(_DWORD *)(v4 + 4192) > 0u )
  {
    do
    {
      result = sub_444976(v7, a4, 2);
      a4 += 16;
      v7 += 4;
      ++v5;
    }
    while ( v5 < *(_DWORD *)(v4 + 4192) );
  }
  return result;
}
// 444976: using guessed type int __stdcall sub_444976(_DWORD, _DWORD, _DWORD);

//----- (00440BB8) --------------------------------------------------------
int __thiscall sub_440BB8(int this, int a2, int a3, int a4)
{
  int v4; // esi@1

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_43E345(this, a4);
  return sub_444976(
           *(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184),
           a4,
           4 * *(_DWORD *)(v4 + 4192));
}
// 444976: using guessed type int __stdcall sub_444976(_DWORD, _DWORD, _DWORD);

//----- (00440C00) --------------------------------------------------------
_DWORD *__thiscall sub_440C00(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  _DWORD *result; // eax@3
  unsigned int v6; // edx@3
  unsigned int *v7; // ecx@3
  _DWORD *v8; // esi@4

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_43E345(this, a4);
  result = (_DWORD *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184));
  v6 = 0;
  v7 = (unsigned int *)(v4 + 4192);
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v8 = (_DWORD *)a4;
    do
    {
      *result = *v8;
      ++result;
      ++v6;
      v8 += 4;
    }
    while ( v6 < *v7 );
  }
  return result;
}

//----- (00440C55) --------------------------------------------------------
int __thiscall sub_440C55(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@3
  unsigned int v6; // edx@3
  int v7; // ecx@4

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_43E345(this, a4);
  result = *(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184);
  v6 = 0;
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v7 = a4;
    do
    {
      *(_DWORD *)result = *(_DWORD *)v7;
      *(_DWORD *)(result + 4) = *(_DWORD *)(v7 + 4);
      result += 8;
      ++v6;
      v7 += 16;
    }
    while ( v6 < *(_DWORD *)(v4 + 4192) );
  }
  return result;
}

//----- (00440CB2) --------------------------------------------------------
unsigned int __thiscall sub_440CB2(int this, int a2, int a3, const void *a4)
{
  int v4; // ebx@1
  unsigned int result; // eax@3

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = (const void *)sub_43E345(this, (int)a4);
  result = 16 * *(_DWORD *)(v4 + 4192);
  qmemcpy((void *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184)), a4, result);
  return result;
}

//----- (00440D05) --------------------------------------------------------
int __thiscall sub_440D05(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  int result; // eax@5
  int v9; // ecx@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST14_4@6
  float v13; // ST10_4@6
  int v14; // [sp+Ch] [bp-8h]@0
  int v15; // [sp+10h] [bp-4h]@1

  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_43D732(this, a4);
    this = v15;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_43E345(this, a4);
    this = v15;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v15;
  v9 = 0;
  v10 = 0;
  v11 = *(_DWORD *)(v15 + 4192) == 0;
  dword_537C00 = v14;
  if ( !v11 )
  {
    do
    {
      v12 = (*(float *)(v9 + a4 + 8) * 0.072099999
           + *(float *)(v9 + a4 + 4) * 0.71539998
           + *(float *)(v9 + a4) * 0.21250001)
          * 65535.0
          + *(float *)(v7 + 4 * (v10 & 3));
      v13 = *(float *)(v9 + a4 + 12) * 65535.0 + *(float *)(v7 + 4 * (v10 & 3));
      v9 += 16;
      *v6 = (signed int)v12 | ((signed int)v13 << 16);
      result = v15;
      ++v6;
      ++v10;
    }
    while ( v10 < *(_DWORD *)(v15 + 4192) );
  }
  return result;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440E1B) --------------------------------------------------------
int __thiscall sub_440E1B(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  bool v10; // zf@5
  float v11; // ST20_4@7
  float v12; // ST1C_4@7
  float v13; // ST1C_4@7
  float v14; // ST1C_4@7
  int v15; // [sp+1Ch] [bp-8h]@0
  int v16; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_43D732(this, a4);
    this = v16;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_43E345(this, a4);
    this = v16;
    a4 = v6;
  }
  v7 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v16;
  v10 = *(_DWORD *)(v16 + 4192) == 0;
  dword_537C00 = v15;
  if ( !v10 )
  {
    result = 0;
    do
    {
      v11 = *(float *)(v8 + 4 * (v4 & 3));
      v12 = *(float *)(result + a4 + 8) * 65535.0 + v11;
      *(_WORD *)v7 = (signed int)v12;
      v13 = *(float *)(result + a4 + 4) * 65535.0 + v11;
      *(_WORD *)(v7 + 2) = (signed int)v13;
      v14 = *(float *)(result + a4) * 65535.0 + v11;
      *(_WORD *)(v7 + 4) = (signed int)v14;
      v7 += 6;
      ++v4;
      result += 16;
    }
    while ( v4 < *(_DWORD *)(v16 + 4192) );
  }
  return result;
}
// 537C00: using guessed type int dword_537C00;

//----- (00440F2E) --------------------------------------------------------
void __thiscall sub_440F2E(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + *(_DWORD *)(this + 4204);
  for ( i = a4; v4 < v5; *(i - 1) = 1.0 )
  {
    *i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    i += 4;
    *(i - 3) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_BYTE *)v4;
    v4 += 3;
    *(i - 2) = (double)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00440FD3) --------------------------------------------------------
void __thiscall sub_440FD3(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + 4 * *(_DWORD *)(this + 4192);
  for ( i = a4; v4 < v5; *(float *)(i - 4) = (double)*(_BYTE *)(v4 - 1) * 0.0039215689 )
  {
    *(float *)i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    *(float *)(i + 4) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_DWORD *)v4 & 0xFF;
    v4 += 4;
    i += 16;
    *(float *)(i - 8) = (double)(unsigned int)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441092) --------------------------------------------------------
void __thiscall sub_441092(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + 4 * *(_DWORD *)(this + 4192);
  for ( i = a4; v4 < v5; *(float *)(i - 4) = 1.0 )
  {
    *(float *)i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    *(float *)(i + 4) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_DWORD *)v4 & 0xFF;
    v4 += 4;
    i += 16;
    *(float *)(i - 8) = (double)(unsigned int)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441147) --------------------------------------------------------
void __thiscall sub_441147(int this, int a2, int a3, float *a4)
{
  unsigned __int16 *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(v5 - 1) = 1.0 )
  {
    *v5 = (double)(*v4 >> 11) * 0.032258064;
    v5 += 4;
    *(v5 - 3) = (double)(((unsigned int)*v4 >> 5) & 0x3F) * 0.015873017;
    v7 = *(_BYTE *)v4 & 0x1F;
    ++v4;
    *(v5 - 2) = (double)v7 * 0.032258064;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00441201) --------------------------------------------------------
void __thiscall sub_441201(int this, int a2, int a3, float *a4)
{
  _WORD *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(v5 - 1) = 1.0 )
  {
    *v5 = (double)(((unsigned int)*v4 >> 10) & 0x1F) * 0.032258064;
    v5 += 4;
    *(v5 - 3) = (double)(((unsigned int)*v4 >> 5) & 0x1F) * 0.032258064;
    v7 = *(_BYTE *)v4 & 0x1F;
    ++v4;
    *(v5 - 2) = (double)v7 * 0.032258064;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004412B8) --------------------------------------------------------
void __thiscall sub_4412B8(int this, int a2, int a3, float *a4)
{
  unsigned __int16 *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  signed int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(v5 - 1) = (double)v7 )
  {
    *v5 = (double)(((unsigned int)*v4 >> 10) & 0x1F) * 0.032258064;
    v5 += 4;
    *(v5 - 3) = (double)(((unsigned int)*v4 >> 5) & 0x1F) * 0.032258064;
    *(v5 - 2) = (double)(*(_BYTE *)v4 & 0x1F) * 0.032258064;
    v7 = *v4 >> 15;
    ++v4;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (0044137D) --------------------------------------------------------
void __thiscall sub_44137D(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  signed int v7; // [sp+18h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 2 * *(_DWORD *)(this + 4192); v4 < i; *(v5 - 1) = (double)v7 * 0.06666667 )
  {
    *v5 = (double)(*(_BYTE *)(v4 + 1) & 0xF) * 0.06666667;
    v5 += 4;
    *(v5 - 3) = (double)((*(_BYTE *)v4 >> 4) & 0xF) * 0.06666667;
    *(v5 - 2) = (double)(*(_BYTE *)v4 & 0xF) * 0.06666667;
    v7 = (unsigned __int16)(*(_WORD *)v4 >> 12);
    v4 += 2;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00441441) --------------------------------------------------------
void __thiscall sub_441441(int this, int a2, int a3, int a4)
{
  unsigned int *v4; // eax@1
  int v5; // esi@1
  unsigned int i; // edi@1
  unsigned int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(float *)(v5 - 4) = (double)v7 * 0.33333334 )
  {
    *(float *)v5 = (double)(*v4 & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 4) = (double)((*v4 >> 10) & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 8) = (double)((*v4 >> 20) & 0x3FF) * 0.00097751711;
    v7 = *v4 >> 30;
    ++v4;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441530) --------------------------------------------------------
void __thiscall sub_441530(int this, int a2, int a3, float *a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = (double)*((_BYTE *)v4 - 1) * 0.0039215689 )
  {
    v7 = *v4 & 0xFF;
    ++v4;
    *i = (double)(unsigned int)v7 * 0.0039215689;
    i += 4;
    *(i - 3) = (double)*((_BYTE *)v4 - 3) * 0.0039215689;
    *(i - 2) = (double)*((_BYTE *)v4 - 2) * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004415EF) --------------------------------------------------------
void __thiscall sub_4415EF(int this, int a2, int a3, float *a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = 1.0 )
  {
    v7 = *v4 & 0xFF;
    ++v4;
    *i = (double)(unsigned int)v7 * 0.0039215689;
    i += 4;
    *(i - 3) = (double)*((_BYTE *)v4 - 3) * 0.0039215689;
    *(i - 2) = (double)*((_BYTE *)v4 - 2) * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004416A4) --------------------------------------------------------
void __thiscall sub_4416A4(int this, int a2, int a3, float *a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = 1.0 )
  {
    v7 = *v4 & 0xFFFF;
    ++v4;
    *i = (double)(unsigned int)v7 * 0.000015259022;
    i += 4;
    *(i - 3) = (double)*((_WORD *)v4 - 1) * 0.000015259022;
    *(i - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (0044174F) --------------------------------------------------------
void __thiscall sub_44174F(int this, int a2, int a3, int a4)
{
  unsigned int *v4; // eax@1
  int v5; // esi@1
  unsigned int i; // edi@1
  unsigned int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(float *)(v5 - 4) = (double)v7 * 0.33333334 )
  {
    *(float *)v5 = (double)((*v4 >> 20) & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 4) = (double)((*v4 >> 10) & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 8) = (double)(*v4 & 0x3FF) * 0.00097751711;
    v7 = *v4 >> 30;
    ++v4;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (0044183E) --------------------------------------------------------
void __thiscall sub_44183E(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  unsigned int *v5; // esi@1
  int v6; // edi@1
  double v7; // st7@2
  unsigned int v8; // [sp+14h] [bp+8h]@1
  unsigned int v9; // [sp+1Ch] [bp+10h]@3

  v4 = this;
  v5 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v6 = a4;
  v8 = (unsigned int)&v5[2 * *(_DWORD *)(this + 4192)];
  if ( v5 < &v5[2 * *(_DWORD *)(this + 4192)] )
  {
    v7 = 0.000015259022;
    do
    {
      *(float *)v6 = (double)(*v5 & 0xFFFF) * v7;
      *v5;
      *(float *)(v6 + 4) = (double)(*v5 >> 16) * v7;
      v7 = 0.000015259022;
      v9 = (*(_QWORD *)v5 >> 32) & 0xFFFF;
      v5 += 2;
      v6 += 16;
      *(float *)(v6 - 8) = (double)v9 * 0.000015259022;
      *(float *)(v6 - 4) = (double)*((_WORD *)v5 - 1) * 0.000015259022;
    }
    while ( (unsigned int)v5 < v8 );
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v6 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(v4 + 16) )
    sub_43E5C7(v4, v6 - 16 * *(_DWORD *)(v4 + 4192));
}

//----- (00441945) --------------------------------------------------------
void __thiscall sub_441945(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  unsigned __int8 *v5; // eax@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = (unsigned __int8 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v5[*(_DWORD *)(this + 4192)]; (unsigned int)v5 < i; *(v4 - 1) = 1.0 )
  {
    *v4 = (double)(*v5 >> 5) * 0.14285715;
    v4 += 4;
    *(v4 - 3) = (double)((*v5 >> 2) & 7) * 0.14285715;
    v7 = *v5++ & 3;
    *(v4 - 2) = (double)v7 * 0.33333334;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004419FC) --------------------------------------------------------
void __thiscall sub_4419FC(int this, int a2, int a3, float *a4)
{
  _BYTE *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = (double)v7 * 0.0039215689 )
  {
    *i = 0.0;
    i += 4;
    *(i - 3) = 0.0;
    *(i - 2) = 0.0;
    v7 = *v4++;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00441A87) --------------------------------------------------------
void __thiscall sub_441A87(int this, int a2, int a3, float *a4)
{
  unsigned __int8 *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned __int8 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[2 * *(_DWORD *)(this + 4192)];
        (unsigned int)v4 < i;
        *(v5 - 1) = (double)*(v4 - 1) * 0.0039215689 )
  {
    *v5 = (double)((*v4 >> 5) & 7) * 0.14285715;
    v5 += 4;
    *(v5 - 3) = (double)((*v4 >> 2) & 7) * 0.14285715;
    v7 = *v4 & 3;
    v4 += 2;
    *(v5 - 2) = (double)v7 * 0.33333334;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00441B4E) --------------------------------------------------------
char *__thiscall sub_441B4E(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x18u, 1);
  *(_DWORD *)v2 = &off_4B72E8;
  return v2;
}
// 4B72E8: using guessed type int (__thiscall *off_4B72E8)(void *, char);

//----- (00441B6A) --------------------------------------------------------
void __thiscall sub_441B6A(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 2 * *(_DWORD *)(this + 4192); v4 < i; *(v5 - 1) = 1.0 )
  {
    *v5 = (double)(*(_BYTE *)(v4 + 1) & 0xF) * 0.06666667;
    v5 += 4;
    *(v5 - 3) = (double)((*(_BYTE *)v4 >> 4) & 0xF) * 0.06666667;
    v7 = *(_BYTE *)v4 & 0xF;
    v4 += 2;
    *(v5 - 2) = (double)v7 * 0.06666667;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00441C1E) --------------------------------------------------------
char *__thiscall sub_441C1E(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B72F8;
  return v2;
}
// 4B72F8: using guessed type int (__thiscall *off_4B72F8)(void *, char);

//----- (00441C3A) --------------------------------------------------------
void __thiscall sub_441C3A(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  int v5; // ebx@1
  int v6; // edi@2
  int v7; // esi@2
  unsigned int i; // [sp+Ch] [bp+8h]@1
  signed int v9; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 2 * *(_DWORD *)(this + 4192); v4 < i; *(float *)(v5 - 4) = (double)v9 * 0.0039215689 )
  {
    v6 = v5;
    v5 += 16;
    v7 = 16 * *(_BYTE *)v4 + this + 56;
    *(_DWORD *)v6 = *(_DWORD *)v7;
    v7 += 4;
    v6 += 4;
    *(_DWORD *)v6 = *(_DWORD *)v7;
    v7 += 4;
    v6 += 4;
    *(_DWORD *)v6 = *(_DWORD *)v7;
    *(_DWORD *)(v6 + 4) = *(_DWORD *)(v7 + 4);
    v9 = *(_BYTE *)(v4 + 1);
    v4 += 2;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441CD7) --------------------------------------------------------
char *__thiscall sub_441CD7(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B7308;
  return v2;
}
// 4B7308: using guessed type int (__thiscall *off_4B7308)(void *, char);

//----- (00441CF3) --------------------------------------------------------
char *__thiscall sub_441CF3(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B7318;
  return v2;
}
// 4B7318: using guessed type int (__thiscall *off_4B7318)(void *, char);

//----- (00441D0F) --------------------------------------------------------
void __thiscall sub_441D0F(int this, int a2, int a3, int a4)
{
  _BYTE *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // ebx@1
  int v7; // esi@2
  _DWORD *v8; // edi@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *v8 = *(_DWORD *)(v7 + 4) )
  {
    v7 = 16 * *v4 + this + 56;
    *(_DWORD *)i = *(_DWORD *)v7;
    v7 += 4;
    *(_DWORD *)(i + 4) = *(_DWORD *)v7;
    v7 += 4;
    *(_DWORD *)(i + 8) = *(_DWORD *)v7;
    v8 = (_DWORD *)(i + 12);
    ++v4;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441D8B) --------------------------------------------------------
char *__thiscall sub_441D8B(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B7328;
  return v2;
}
// 4B7328: using guessed type int (__thiscall *off_4B7328)(void *, char);

//----- (00441DA7) --------------------------------------------------------
void __thiscall sub_441DA7(int this, int a2, int a3, int a4)
{
  _BYTE *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 4) = 1.0 )
  {
    v8 = *v4++;
    v7 = (double)v8 * 0.0039215689;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441E2E) --------------------------------------------------------
char *__thiscall sub_441E2E(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B7338;
  return v2;
}
// 4B7338: using guessed type int (__thiscall *off_4B7338)(void *, char);

//----- (00441E4A) --------------------------------------------------------
void __thiscall sub_441E4A(int this, int a2, int a3, int a4)
{
  _BYTE *v4; // eax@1
  int v5; // esi@1
  unsigned int i; // edi@1
  double v7; // st6@2
  signed int v8; // [sp+18h] [bp+10h]@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[2 * *(_DWORD *)(this + 4192)];
        (unsigned int)v4 < i;
        *(float *)(v5 - 4) = (double)*(v4 - 1) * 0.0039215689 )
  {
    v8 = *v4;
    v4 += 2;
    v7 = (double)v8 * 0.0039215689;
    *(float *)(v5 + 8) = v7;
    *(float *)(v5 + 4) = v7;
    *(float *)v5 = v7;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441EE8) --------------------------------------------------------
char *__thiscall sub_441EE8(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B7348;
  return v2;
}
// 4B7348: using guessed type int (__thiscall *off_4B7348)(void *, char);

//----- (00441F04) --------------------------------------------------------
void __thiscall sub_441F04(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  unsigned __int8 *v5; // eax@1
  unsigned int i; // edi@1
  double v7; // st6@2
  signed int v8; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = (unsigned __int8 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v5[*(_DWORD *)(this + 4192)]; (unsigned int)v5 < i; *(float *)(v4 - 4) = (double)v8 * 0.06666667 )
  {
    v7 = (double)(*v5 & 0xF) * 0.06666667;
    *(float *)(v4 + 8) = v7;
    *(float *)(v4 + 4) = v7;
    *(float *)v4 = v7;
    v8 = *v5++ >> 4;
    v4 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v4 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v4 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00441FA2) --------------------------------------------------------
char *__thiscall sub_441FA2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_4B7358;
  return v2;
}
// 4B7358: using guessed type int (__thiscall *off_4B7358)(void *, char);

//----- (00441FBE) --------------------------------------------------------
char *__thiscall sub_441FBE(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_4B7368;
  return v2;
}
// 4B7368: using guessed type int (__thiscall *off_4B7368)(void *, char);

//----- (00441FDA) --------------------------------------------------------
void __thiscall sub_441FDA(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  int v5; // edi@1
  unsigned int v6; // eax@1
  char v7; // dl@2
  unsigned int i; // [sp+10h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4192); v6 < i; *(v4 - 1) = 1.0 )
  {
    v7 = *(_BYTE *)(v6 + 1);
    *v4 = (double)(char)(*(_BYTE *)v6 + (*(_BYTE *)v6 == -128)) * 0.0078740157;
    v6 += 2;
    v4 += 4;
    *(v4 - 3) = (double)(char)(v7 + (v7 == -128)) * 0.0078740157;
    *(v4 - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, (unsigned int)&v4[-4 * *(_DWORD *)(v5 + 4192)]);
}

//----- (00442095) --------------------------------------------------------
char *__thiscall sub_442095(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B737C;
  return v2;
}
// 4B737C: using guessed type int (__thiscall *off_4B737C)(void *, char);

//----- (004420B1) --------------------------------------------------------
char *__thiscall sub_4420B1(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B738C;
  return v2;
}
// 4B738C: using guessed type int (__thiscall *off_4B738C)(void *, char);

//----- (004420CD) --------------------------------------------------------
void __thiscall sub_4420CD(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  int v5; // edi@1
  unsigned __int16 *v6; // eax@1
  char v7; // dl@2
  unsigned int i; // [sp+10h] [bp+8h]@1
  signed int v9; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = this;
  v6 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v6[*(_DWORD *)(this + 4192)]; (unsigned int)v6 < i; *(v4 - 1) = (double)v9 * 0.015873017 )
  {
    v7 = ((char)(8 * ((unsigned int)*v6 >> 5)) >> 3) + ((char)(8 * ((unsigned int)*v6 >> 5)) >> 3 == -16);
    *v4 = (double)(char)(((char)(8 * *(_BYTE *)v6) >> 3) + ((char)(8 * *(_BYTE *)v6) >> 3 == -16)) * 0.06666667;
    v4 += 4;
    *(v4 - 3) = (double)v7 * 0.06666667;
    *(v4 - 2) = 1.0;
    v9 = *v6 >> 10;
    ++v6;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, (unsigned int)&v4[-4 * *(_DWORD *)(v5 + 4192)]);
}

//----- (004421AD) --------------------------------------------------------
char *__thiscall sub_4421AD(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B739C;
  return v2;
}
// 4B739C: using guessed type int (__thiscall *off_4B739C)(void *, char);

//----- (004421C9) --------------------------------------------------------
void __thiscall sub_4421C9(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  int v5; // edi@1
  unsigned __int16 *v6; // eax@1
  char v7; // dl@2
  double v8; // st6@2
  unsigned int i; // [sp+10h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v6[2 * *(_DWORD *)(this + 4192)];
        (unsigned int)v6 < i;
        *(v4 - 1) = (double)*((_BYTE *)v6 - 2) * 0.0039215689 )
  {
    v7 = (*v6 >> 8) + (*v6 >> 8 == -128);
    v8 = (double)(char)(*(_BYTE *)v6 + (*(_BYTE *)v6 == -128)) * 0.0078740157;
    v6 += 2;
    *v4 = v8;
    v4 += 4;
    *(v4 - 3) = (double)v7 * 0.0078740157;
    *(v4 - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, (unsigned int)&v4[-4 * *(_DWORD *)(v5 + 4192)]);
}

//----- (00442295) --------------------------------------------------------
char *__thiscall sub_442295(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B73AC;
  return v2;
}
// 4B73AC: using guessed type int (__thiscall *off_4B73AC)(void *, char);

//----- (004422B1) --------------------------------------------------------
char *__thiscall sub_4422B1(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B73BC;
  return v2;
}
// 4B73BC: using guessed type int (__thiscall *off_4B73BC)(void *, char);

//----- (004422CD) --------------------------------------------------------
void __thiscall sub_4422CD(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // edi@1
  unsigned int *v6; // eax@1
  char v7; // cl@2
  unsigned int i; // [sp+8h] [bp-4h]@1
  char v9; // [sp+17h] [bp+Bh]@2
  signed int v10; // [sp+18h] [bp+Ch]@2

  v4 = a4;
  v5 = this;
  v6 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v6[*(_DWORD *)(this + 4192)];
        (unsigned int)v6 < i;
        *(float *)(v4 - 4) = (double)(char)(v9 + (v9 == -128)) * 0.0078740157 )
  {
    v9 = *v6 >> 24;
    v10 = (char)((*(_WORD *)v6 >> 8) + (*(_WORD *)v6 >> 8 == -128));
    v7 = (*v6 >> 16) + ((unsigned __int8)(*v6 >> 16) == -128);
    *(float *)v4 = (double)(char)(*v6 + ((unsigned __int8)*v6 == -128)) * 0.0078740157;
    *(float *)(v4 + 4) = (double)v10 * 0.0078740157;
    ++v6;
    v4 += 16;
    *(float *)(v4 - 8) = (double)v7 * 0.0078740157;
  }
  if ( *(_DWORD *)(v5 + 24) )
    sub_43E2D5(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}

//----- (004423C8) --------------------------------------------------------
char *__thiscall sub_4423C8(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B73CC;
  return v2;
}
// 4B73CC: using guessed type int (__thiscall *off_4B73CC)(void *, char);

//----- (004423E4) --------------------------------------------------------
void __thiscall sub_4423E4(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  float *v5; // esi@1
  __int16 v6; // dx@2
  signed int v7; // edi@2
  unsigned int i; // [sp+Ch] [bp+8h]@1

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 4 * *(_DWORD *)(this + 4192); v4 < i; *(v5 - 1) = 1.0 )
  {
    v6 = *(_WORD *)(v4 + 2);
    v7 = (signed __int16)(*(_WORD *)v4 + (*(_WORD *)v4 == -32768));
    v4 += 4;
    *v5 = (double)v7 * 0.000030518509;
    v5 += 4;
    *(v5 - 3) = (double)(signed __int16)(v6 + (v6 == -32768)) * 0.000030518509;
    *(v5 - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004424A6) --------------------------------------------------------
char *__thiscall sub_4424A6(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B73E0;
  return v2;
}
// 4B73E0: using guessed type int (__thiscall *off_4B73E0)(void *, char);

//----- (004424C2) --------------------------------------------------------
char *__thiscall sub_4424C2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x40u, 1);
  *(_DWORD *)v2 = &off_4B73F0;
  return v2;
}
// 4B73F0: using guessed type int (__thiscall *off_4B73F0)(void *, char);

//----- (004424DE) --------------------------------------------------------
void __thiscall sub_4424DE(int this, int a2, int a3, int a4)
{
  unsigned int *v4; // eax@1
  int v5; // esi@1
  unsigned int v6; // edx@2
  __int16 v7; // bx@2
  unsigned int v8; // [sp+10h] [bp+Ch]@1
  unsigned int v9; // [sp+14h] [bp+10h]@2

  v4 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  v8 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  if ( v4 < &v4[*(_DWORD *)(this + 4192)] )
  {
    do
    {
      v6 = *v4 >> 20;
      v7 = (signed __int16)((unsigned __int16)(*v4 >> 10) << 6) >> 6;
      *(float *)v5 = (double)(signed __int16)(((signed __int16)(*(_WORD *)v4 << 6) >> 6)
                                            + ((signed __int16)(*(_WORD *)v4 << 6) >> 6 == -512))
                   * 0.0019569471;
      *(float *)(v5 + 4) = (double)(signed __int16)(v7 + (v7 == -512)) * 0.0019569471;
      *(float *)(v5 + 8) = (double)(signed __int16)(((signed __int16)((_WORD)v6 << 6) >> 6)
                                                  + ((signed __int16)((_WORD)v6 << 6) >> 6 == -512))
                         * 0.0019569471;
      v9 = *v4 >> 30;
      ++v4;
      v5 += 16;
      *(float *)(v5 - 4) = (double)v9 * 0.33333334;
    }
    while ( (unsigned int)v4 < v8 );
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (004425F7) --------------------------------------------------------
char *__thiscall sub_4425F7(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B7404;
  return v2;
}
// 4B7404: using guessed type int (__thiscall *off_4B7404)(void *, char);

//----- (00442613) --------------------------------------------------------
char *__thiscall sub_442613(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_4B7414;
  return v2;
}
// 4B7414: using guessed type int (__thiscall *off_4B7414)(void *, char);

//----- (0044262F) --------------------------------------------------------
void __thiscall sub_44262F(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  int v5; // esi@1
  __int16 v6; // bx@2
  bool v7; // cl@2
  int v8; // [sp+Ch] [bp-8h]@1
  unsigned int v9; // [sp+10h] [bp-4h]@1
  int v10; // [sp+1Ch] [bp+8h]@2
  int v11; // [sp+24h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  v8 = this;
  v9 = v4 + 8 * *(_DWORD *)(this + 4192);
  if ( v4 < v4 + 8 * *(_DWORD *)(this + 4192) )
  {
    do
    {
      v11 = *(_QWORD *)v4 >> 16;
      v6 = *(_DWORD *)(v4 + 4);
      v10 = *(_DWORD *)(v4 + 4) >> 16;
      v7 = *(_DWORD *)v4 >> 16 == -32768;
      *(float *)v5 = (double)(signed __int16)(*(_WORD *)v4 + (*(_WORD *)v4 == -32768)) * 0.000030518509;
      *(float *)(v5 + 4) = (double)(signed __int16)(v11 + v7) * 0.000030518509;
      v4 += 8;
      v5 += 16;
      *(float *)(v5 - 8) = (double)(signed __int16)(v6 + (v6 == -32768)) * 0.000030518509;
      *(float *)(v5 - 4) = (double)(signed __int16)(v10 + ((_WORD)v10 == -32768)) * 0.000030518509;
    }
    while ( v4 < v9 );
    this = v8;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00442746) --------------------------------------------------------
char *__thiscall sub_442746(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_4B7424;
  return v2;
}
// 4B7424: using guessed type int (__thiscall *off_4B7424)(void *, char);

//----- (00442762) --------------------------------------------------------
void __thiscall sub_442762(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // edi@1
  unsigned int v6; // edx@1
  signed int v7; // eax@2
  double v8; // st6@2
  double v9; // st5@2
  long double v10; // st4@2
  long double v11; // st6@3
  unsigned int i; // [sp+10h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4192); v6 < i; v4 += 16 )
  {
    v7 = (char)(*(_BYTE *)(v6 + 1) + (*(_BYTE *)(v6 + 1) == -128));
    v8 = (double)(char)(*(_BYTE *)v6 + (*(_BYTE *)v6 == -128)) * 0.0078740157;
    *(float *)v4 = v8;
    v9 = (double)v7 * 0.0078740157;
    *(float *)(v4 + 4) = v9;
    v10 = 1.0 - v8 * v8 - v9 * v9;
    if ( v10 > 0.0 )
      v11 = sqrt(v10);
    else
      v11 = 0.0;
    *(float *)(v4 + 8) = v11;
    v6 += 2;
    *(float *)(v4 + 12) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, v4 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}

//----- (00442843) --------------------------------------------------------
char *__thiscall sub_442843(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B7434;
  return v2;
}
// 4B7434: using guessed type int (__thiscall *off_4B7434)(void *, char);

//----- (0044285F) --------------------------------------------------------
char *__thiscall sub_44285F(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_4B7444;
  return v2;
}
// 4B7444: using guessed type int (__thiscall *off_4B7444)(void *, char);

//----- (0044287B) --------------------------------------------------------
void __thiscall sub_44287B(int this, int a2, int a3, int a4)
{
  _WORD *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 4) = 1.0 )
  {
    v8 = *v4;
    ++v4;
    v7 = (double)v8 * 0.000015259022;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00442904) --------------------------------------------------------
char *__thiscall sub_442904(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_4B7454;
  return v2;
}
// 4B7454: using guessed type int (__thiscall *off_4B7454)(void *, char);

//----- (00442920) --------------------------------------------------------
void __thiscall sub_442920(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // esi@1
  unsigned int i; // [sp+14h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4192); v6 < i; *(float *)(v4 - 12) = 1.0 )
  {
    sub_444A18(v4, v6, 1);
    *(float *)(v4 + 12) = 1.0;
    v6 += 2;
    *(float *)(v4 + 8) = 1.0;
    v4 += 16;
  }
  if ( *(_DWORD *)(v5 + 24) )
    sub_43E2D5(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}
// 444A18: using guessed type int __stdcall sub_444A18(_DWORD, _DWORD, _DWORD);

//----- (004429B1) --------------------------------------------------------
char *__thiscall sub_4429B1(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_4B7464;
  return v2;
}
// 4B7464: using guessed type int (__thiscall *off_4B7464)(void *, char);

//----- (004429CD) --------------------------------------------------------
char *__thiscall sub_4429CD(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_4B7474;
  return v2;
}
// 4B7474: using guessed type int (__thiscall *off_4B7474)(void *, char);

//----- (004429E9) --------------------------------------------------------
void __thiscall sub_4429E9(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // esi@1
  unsigned int i; // [sp+14h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 4 * *(_DWORD *)(this + 4192); v6 < i; *(float *)(v4 - 8) = 1.0 )
  {
    sub_444A18(v4, v6, 2);
    *(float *)(v4 + 12) = 1.0;
    v6 += 4;
    v4 += 16;
  }
  if ( *(_DWORD *)(v5 + 24) )
    sub_43E2D5(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_43E5C7(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}
// 444A18: using guessed type int __stdcall sub_444A18(_DWORD, _DWORD, _DWORD);

//----- (00442A76) --------------------------------------------------------
char *__thiscall sub_442A76(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 3);
  *(_DWORD *)v2 = &off_4B7484;
  return v2;
}
// 4B7484: using guessed type int (__thiscall *off_4B7484)(void *, char);

//----- (00442A92) --------------------------------------------------------
void __thiscall sub_442A92(int this, int a2, int a3, unsigned int a4)
{
  int v4; // esi@1

  v4 = this;
  sub_444A18(
    a4,
    *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184),
    4 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(v4 + 24) )
    sub_43E2D5(v4, a4);
  if ( *(_DWORD *)(v4 + 16) )
    sub_43E5C7(v4, a4);
}
// 444A18: using guessed type int __stdcall sub_444A18(_DWORD, _DWORD, _DWORD);

//----- (00442AE9) --------------------------------------------------------
void *__thiscall sub_442AE9(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_43D71F((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00442B05) --------------------------------------------------------
void __thiscall sub_442B05(int this, int a2, int a3, int a4)
{
  int *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // edi@2

  v4 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 12) = 1.0 )
  {
    v7 = *v4;
    *(float *)(i + 12) = 1.0;
    *(_DWORD *)i = v7;
    ++v4;
    *(float *)(i + 8) = 1.0;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00442B85) --------------------------------------------------------
char *__thiscall sub_442B85(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_4B7494;
  return v2;
}
// 4B7494: using guessed type int (__thiscall *off_4B7494)(void *, char);

//----- (00442BA1) --------------------------------------------------------
void __thiscall sub_442BA1(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // edi@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + 8 * *(_DWORD *)(this + 4192);
  for ( i = a4; v4 < v5; i += 16 )
  {
    *(_DWORD *)i = *(_DWORD *)v4;
    v7 = *(_DWORD *)(v4 + 4);
    *(float *)(i + 12) = 1.0;
    *(_DWORD *)(i + 4) = v7;
    *(float *)(i + 8) = 1.0;
    v4 += 8;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00442C22) --------------------------------------------------------
void __thiscall sub_442C22(int this, int a2, int a3, void *a4)
{
  int v4; // ebx@1

  v4 = this;
  qmemcpy(
    a4,
    (const void *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(v4 + 4184)),
    16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)a4);
  if ( *(_DWORD *)(v4 + 16) )
    sub_43E5C7(v4, (unsigned int)a4);
}

//----- (00442C84) --------------------------------------------------------
void __thiscall sub_442C84(int this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  double v7; // st6@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 4) = (double)*((_WORD *)v4 - 1) * 0.000015259022 )
  {
    v7 = (double)(*v4 & 0xFFFF) * 0.000015259022;
    ++v4;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00442D2B) --------------------------------------------------------
char *__thiscall sub_442D2B(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_4B74A4;
  return v2;
}
// 4B74A4: using guessed type int (__thiscall *off_4B74A4)(void *, char);

//----- (00442D47) --------------------------------------------------------
char *__thiscall sub_442D47(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x40u, 3);
  *(_DWORD *)v2 = &off_4B74B4;
  return v2;
}
// 4B74B4: using guessed type int (__thiscall *off_4B74B4)(void *, char);

//----- (00442D63) --------------------------------------------------------
void __thiscall sub_442D63(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + *(_DWORD *)(this + 4204);
  for ( i = a4; v4 < v5; *(i - 1) = 1.0 )
  {
    *i = (double)*(_WORD *)(v4 + 4) * 0.000015259022;
    i += 4;
    *(i - 3) = (double)*(_WORD *)(v4 + 2) * 0.000015259022;
    v7 = *(_WORD *)v4;
    v4 += 6;
    *(i - 2) = (double)v7 * 0.000015259022;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_43E2D5(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00442E08) --------------------------------------------------------
char *__thiscall sub_442E08(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_4B74C4;
  return v2;
}
// 4B74C4: using guessed type int (__thiscall *off_4B74C4)(void *, char);

//----- (00442E24) --------------------------------------------------------
char *__thiscall sub_442E24(char *this, int a2)
{
  char *v2; // esi@1
  unsigned int v3; // ecx@1
  unsigned int v4; // edi@1
  void *v5; // eax@1
  void *v6; // eax@2
  int v7; // eax@6
  void *v9; // [sp+Ch] [bp-4h]@1

  v2 = this;
  sub_43DF08(this, a2, 0, 1);
  v3 = *((_DWORD *)v2 + 1038) & 0xFFFFFFFE;
  v4 = ((*((_DWORD *)v2 + 1040) + 1) & 0xFFFFFFFE) - v3;
  *((_DWORD *)v2 + 1056) = (*((_DWORD *)v2 + 1040) + 1) & 0xFFFFFFFE;
  *(_DWORD *)v2 = &off_4B75A0;
  *((_DWORD *)v2 + 1054) = v3;
  *((_DWORD *)v2 + 1055) = 0;
  *((_DWORD *)v2 + 1058) = 0;
  *((_DWORD *)v2 + 1057) = 0;
  *((_DWORD *)v2 + 1059) = 0;
  *((_DWORD *)v2 + 1060) = v4;
  *((_DWORD *)v2 + 1061) = 0;
  *((_DWORD *)v2 + 1062) = 1;
  v5 = operator new(16 * v4);
  v9 = v5;
  if ( v5 )
  {
    'vector constructor iterator'(v5, 16, v4, sub_434D2D);
    v6 = v9;
  }
  else
  {
    v6 = 0;
  }
  *((_DWORD *)v2 + 1053) = v6;
  if ( !v6 )
    *((_DWORD *)v2 + 1062) = 0;
  v7 = *(_DWORD *)(a2 + 4);
  if ( v7 == 844715353 )
    goto LABEL_15;
  if ( v7 == 1111970375 )
  {
LABEL_10:
    *((_DWORD *)v2 + 1063) = 8;
    *((_DWORD *)v2 + 1064) = 0;
    return v2;
  }
  if ( v7 == 1195525970 )
  {
LABEL_15:
    *((_DWORD *)v2 + 1063) = 0;
    *((_DWORD *)v2 + 1064) = 8;
    return v2;
  }
  if ( v7 == 1498831189 )
    goto LABEL_10;
  return v2;
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 4B75A0: using guessed type int (__thiscall *off_4B75A0)(void *, char);

//----- (00442F16) --------------------------------------------------------
char *__thiscall sub_442F16(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_4B74D4;
  return v2;
}
// 4B74D4: using guessed type int (__thiscall *off_4B74D4)(void *, char);

//----- (00442F32) --------------------------------------------------------
char *__thiscall sub_442F32(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 4);
  *(_DWORD *)v2 = &off_4B74E4;
  return v2;
}
// 4B74E4: using guessed type int (__thiscall *off_4B74E4)(void *, char);

//----- (00442F4E) --------------------------------------------------------
char *__thiscall sub_442F4E(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x10u, 4);
  *(_DWORD *)v2 = &off_4B74F4;
  return v2;
}
// 4B74F4: using guessed type int (__thiscall *off_4B74F4)(void *, char);

//----- (00442F6A) --------------------------------------------------------
int __thiscall sub_442F6A(int this)
{
  _WORD *v1; // esi@3
  int v2; // edx@3
  int v3; // eax@3
  int v4; // ecx@3
  unsigned int v5; // ecx@7
  unsigned int v6; // ecx@8
  float v7; // ST2C_4@9
  signed int v8; // eax@9
  float v9; // ST2C_4@9
  float v10; // ST2C_4@9
  signed int v11; // eax@9
  float v12; // ST2C_4@9
  float v13; // ST20_4@12
  float v14; // ST30_4@12
  float v15; // ST10_4@12
  float v16; // ST18_4@12
  int v17; // eax@12
  float v18; // ST18_4@12
  int v19; // edi@12
  float v20; // ST18_4@12
  int v21; // ebx@12
  float v22; // ST10_4@12
  int v24; // [sp+1Ch] [bp-10h]@0
  unsigned int v25; // [sp+20h] [bp-Ch]@7
  unsigned int v26; // [sp+24h] [bp-8h]@8
  int v27; // [sp+24h] [bp-8h]@12
  int v28; // [sp+28h] [bp-4h]@1

  v28 = this;
  if ( *(_DWORD *)(this + 4244) && *(_DWORD *)(this + 4248) )
  {
    v1 = (_WORD *)(*(_DWORD *)(this + 32)
                 + *(_DWORD *)(this + 4184) * *(_DWORD *)(this + 4220)
                 + *(_DWORD *)(this + 4188) * *(_DWORD *)(this + 4232)
                 + 2 * *(_DWORD *)(this + 4216));
    v2 = *(_DWORD *)(this + 4212);
    dword_537C00 = v24;
    v3 = this;
    v4 = *(_DWORD *)(this + 4);
    if ( v4 == 844715353 )
      goto LABEL_7;
    if ( v4 == 1111970375 || v4 == 1195525970 )
    {
      v6 = *(_DWORD *)(v28 + 4216);
      v26 = *(_DWORD *)(v28 + 4216);
      while ( v6 < *(_DWORD *)(v3 + 4224) )
      {
        v7 = *(float *)(v2 + 4) * 255.0 + 0.5;
        v8 = (signed int)v7;
        v9 = *(float *)v2 * 255.0 + 0.5;
        *v1 = ((signed int)v9 << *(_DWORD *)(v28 + 4256)) | (v8 << *(_DWORD *)(v28 + 4252));
        v10 = *(float *)(v2 + 20) * 255.0 + 0.5;
        v11 = (signed int)v10;
        v12 = *(float *)(v2 + 8) * 255.0 + 0.5;
        v2 += 32;
        v1 += 2;
        v26 += 2;
        v6 = v26;
        *(v1 - 1) = ((signed int)v12 << *(_DWORD *)(v28 + 4256)) | (v11 << *(_DWORD *)(v28 + 4252));
        v3 = v28;
      }
    }
    else if ( v4 == 1498831189 )
    {
LABEL_7:
      v5 = *(_DWORD *)(v28 + 4216);
      v25 = *(_DWORD *)(v28 + 4216);
      while ( v5 < *(_DWORD *)(v3 + 4224) )
      {
        v13 = *(float *)(v2 + 16) * 65.481003 + *(float *)(v2 + 24) * 24.966 + *(float *)(v2 + 20) * 128.55299;
        v14 = *(float *)(v2 + 8) * 112.0 - *(float *)(v2 + 4) * 74.203003 - *(float *)v2 * 37.797001;
        v15 = *(float *)v2 * 112.0 - (*(float *)(v2 + 4) * 93.786003 + *(float *)(v2 + 8) * 18.214001);
        v16 = *(float *)(v2 + 4) * 128.55299 + *(float *)(v2 + 8) * 24.966 + *(float *)v2 * 65.481003 + 0.5;
        v17 = (signed int)v16 + 16;
        v18 = v13 + 0.5;
        v19 = (signed int)v18 + 16;
        v20 = v14 + 0.5;
        v21 = (signed int)v20 + 128;
        v22 = v15 + 0.5;
        v27 = (signed int)v22 + 128;
        if ( v17 >= 0 )
        {
          if ( v17 > 255 )
            v17 = 255;
        }
        else
        {
          v17 = 0;
        }
        if ( v19 >= 0 )
        {
          if ( v19 > 255 )
            LOWORD(v19) = 255;
        }
        else
        {
          LOWORD(v19) = 0;
        }
        if ( v21 >= 0 )
        {
          if ( v21 > 255 )
            v21 = 255;
        }
        else
        {
          v21 = 0;
        }
        if ( v27 >= 0 )
        {
          if ( v27 > 255 )
            LOWORD(v27) = 255;
        }
        else
        {
          LOWORD(v27) = 0;
        }
        v2 += 32;
        *v1 = (v21 << *(_DWORD *)(v28 + 4256)) | (v17 << *(_DWORD *)(v28 + 4252));
        v1 += 2;
        v25 += 2;
        v5 = v25;
        *(v1 - 1) = ((_WORD)v27 << *(_DWORD *)(v28 + 4256)) | ((_WORD)v19 << *(_DWORD *)(v28 + 4252));
        v3 = v28;
      }
      goto LABEL_30;
    }
LABEL_30:
    *(_DWORD *)(v28 + 4244) = 0;
  }
  return 0;
}
// 537C00: using guessed type int dword_537C00;

//----- (0044327A) --------------------------------------------------------
char *__thiscall sub_44327A(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 4);
  *(_DWORD *)v2 = &off_4B7524;
  return v2;
}
// 4B7524: using guessed type int (__thiscall *off_4B7524)(void *, char);

//----- (00443296) --------------------------------------------------------
char *__thiscall sub_443296(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x40u, 4);
  *(_DWORD *)v2 = &off_4B7534;
  return v2;
}
// 4B7534: using guessed type int (__thiscall *off_4B7534)(void *, char);

//----- (004432B2) --------------------------------------------------------
char *__thiscall sub_4432B2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x40u, 4);
  *(_DWORD *)v2 = &off_4B7544;
  return v2;
}
// 4B7544: using guessed type int (__thiscall *off_4B7544)(void *, char);

//----- (004432CE) --------------------------------------------------------
int __thiscall sub_4432CE(int this, unsigned int a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@2
  unsigned int v6; // eax@9
  int v7; // edx@9
  int v8; // ecx@9
  int v9; // ebx@9
  float v10; // ST10_4@14
  unsigned __int16 v11; // ax@14
  float v12; // ST14_4@14
  double v13; // st4@14
  double v14; // st3@14
  double v15; // st3@14
  double v16; // st2@14
  double v17; // st2@14
  double v18; // st1@14
  double v19; // st1@14
  float v20; // ST14_4@31
  unsigned __int16 v21; // ax@17
  double v22; // st6@17
  double v23; // st5@17
  unsigned __int16 v24; // ax@17
  double v25; // st5@17
  __int16 v26; // ax@17
  double v27; // st4@17
  double v28; // st2@22
  double v29; // st2@27
  double v30; // st2@31
  double v31; // st4@31
  double v32; // st4@36
  double v33; // st4@41
  float v34; // [sp+4h] [bp-Ch]@14
  float v35; // [sp+8h] [bp-8h]@14
  float v36; // [sp+18h] [bp+8h]@14
  float v37; // [sp+18h] [bp+8h]@14
  unsigned int v38; // [sp+18h] [bp+8h]@16
  float v39; // [sp+18h] [bp+8h]@31
  float v40; // [sp+18h] [bp+8h]@31
  float v41; // [sp+1Ch] [bp+Ch]@14
  float v42; // [sp+1Ch] [bp+Ch]@14
  float v43; // [sp+1Ch] [bp+Ch]@31
  unsigned int v44; // [sp+20h] [bp+10h]@13
  signed int v45; // [sp+20h] [bp+10h]@17
  float v46; // [sp+20h] [bp+10h]@17

  v4 = this;
  if ( !*(_DWORD *)(this + 4248) )
    return -2147024882;
  if ( a2 < *(_DWORD *)(this + 4220)
    || a2 >= *(_DWORD *)(this + 4228)
    || a3 < *(_DWORD *)(this + 4232)
    || a3 >= *(_DWORD *)(this + 4236) )
  {
    result = sub_442F6A(this);
    if ( result < 0 )
      return result;
    *(_DWORD *)(v4 + 4228) = a2 + 1;
    *(_DWORD *)(v4 + 4220) = a2;
    *(_DWORD *)(v4 + 4232) = a3;
    *(_DWORD *)(v4 + 4236) = a3 + 1;
    if ( a4 )
    {
      v6 = *(_DWORD *)(v4 + 4216);
      v7 = *(_DWORD *)(v4 + 4212);
      v8 = *(_DWORD *)(v4 + 4);
      v9 = *(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184) + 2 * v6;
      if ( v8 == 844715353 )
        goto LABEL_49;
      if ( v8 == 1111970375 || v8 == 1195525970 )
      {
        v38 = *(_DWORD *)(v4 + 4216);
        if ( v6 < *(_DWORD *)(v4 + 4224) )
        {
          do
          {
            v21 = *(_WORD *)v9;
            v38 += 2;
            v9 += 4;
            v22 = (double)(unsigned __int8)(v21 >> *(_WORD *)(v4 + 4252)) * 0.0039215689;
            v23 = (double)(unsigned __int8)(v21 >> *(_WORD *)(v4 + 4256));
            v24 = *(_WORD *)(v9 - 2);
            v25 = v23 * 0.0039215689;
            v45 = (unsigned __int8)(v24 >> *(_WORD *)(v4 + 4252));
            v26 = v24 >> *(_WORD *)(v4 + 4256);
            v46 = (double)v45 * 0.0039215689;
            *(float *)(v7 + 20) = v46;
            v27 = (double)(unsigned __int8)v26 * 0.0039215689;
            *(float *)v7 = v25;
            v7 += 32;
            *(float *)(v7 - 28) = v22;
            *(float *)(v7 - 24) = v27;
            *(float *)(v7 - 20) = 1.0;
            *(float *)(v7 - 16) = v25;
            *(float *)(v7 - 8) = v27;
            *(float *)(v7 - 4) = 1.0;
          }
          while ( v38 < *(_DWORD *)(v4 + 4224) );
        }
        return 0;
      }
      if ( v8 == 1498831189 )
      {
LABEL_49:
        v44 = *(_DWORD *)(v4 + 4216);
        if ( v6 < *(_DWORD *)(v4 + 4224) )
        {
          do
          {
            v10 = (double)(unsigned __int8)(*(_WORD *)v9 >> *(_WORD *)(v4 + 4252)) - 16.0;
            v11 = *(_WORD *)(v9 + 2);
            v12 = (double)(unsigned __int8)(*(_WORD *)v9 >> *(_WORD *)(v4 + 4256)) - 128.0;
            v13 = (double)(unsigned __int8)(v11 >> *(_WORD *)(v4 + 4252)) - 16.0;
            v14 = (double)(unsigned __int8)(v11 >> *(_WORD *)(v4 + 4256)) - 128.0;
            v41 = v14;
            v15 = v14 * 0.0062589301;
            v16 = v10 * 0.0045662099;
            v36 = v16;
            v17 = v16 + v15;
            *(float *)v7 = v17;
            v35 = v12 * 0.00153632;
            v18 = v41 * 0.00318811;
            v34 = v18;
            v42 = v36 - v35 - v18;
            *(float *)(v7 + 4) = v42;
            v19 = v12 * 0.0079107098;
            v37 = v19 + v36;
            *(float *)(v7 + 8) = v37;
            *(float *)(v7 + 12) = 1.0;
            if ( v17 >= 0.0 )
            {
              if ( v17 > 1.0 )
                v17 = 1.0;
            }
            else
            {
              v17 = 0.0;
            }
            *(float *)v7 = v17;
            if ( v42 >= 0.0 )
            {
              if ( v42 <= 1.0 )
                v28 = v42;
              else
                v28 = 1.0;
            }
            else
            {
              v28 = 0.0;
            }
            *(float *)(v7 + 4) = v28;
            if ( v37 >= 0.0 )
            {
              if ( v37 <= 1.0 )
                v29 = v37;
              else
                v29 = 1.0;
            }
            else
            {
              v29 = 0.0;
            }
            *(float *)(v7 + 8) = v29;
            v39 = v13 * 0.0045662099;
            v30 = v13 * 0.0045662099 + v15;
            v31 = v30;
            *(float *)(v7 + 16) = v30;
            v43 = v39 - v35 - v34;
            *(float *)(v7 + 20) = v43;
            v20 = v19;
            v40 = v39 + v20;
            *(float *)(v7 + 24) = v40;
            *(float *)(v7 + 28) = 1.0;
            if ( v30 >= 0.0 )
            {
              if ( v30 > 1.0 )
                v31 = 1.0;
            }
            else
            {
              v31 = 0.0;
            }
            *(float *)(v7 + 16) = v31;
            if ( v43 >= 0.0 )
            {
              if ( v43 <= 1.0 )
                v32 = v43;
              else
                v32 = 1.0;
            }
            else
            {
              v32 = 0.0;
            }
            *(float *)(v7 + 20) = v32;
            if ( v40 >= 0.0 )
            {
              if ( v40 <= 1.0 )
                v33 = v40;
              else
                v33 = 1.0;
            }
            else
            {
              v33 = 0.0;
            }
            v44 += 2;
            *(float *)(v7 + 24) = v33;
            v7 += 32;
            v9 += 4;
          }
          while ( v44 < *(_DWORD *)(v4 + 4224) );
        }
      }
    }
  }
  return 0;
}

//----- (0044369A) --------------------------------------------------------
char *__thiscall sub_44369A(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x80u, 4);
  *(_DWORD *)v2 = &off_4B7570;
  return v2;
}
// 4B7570: using guessed type int (__thiscall *off_4B7570)(void *, char);

//----- (004436B9) --------------------------------------------------------
char *__thiscall sub_4436B9(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_4B7580;
  return v2;
}
// 4B7580: using guessed type int (__thiscall *off_4B7580)(void *, char);

//----- (004436D5) --------------------------------------------------------
char *__thiscall sub_4436D5(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_43DF08(this, a2, 0x30u, 1);
  *(_DWORD *)v2 = &off_4B7590;
  return v2;
}
// 4B7590: using guessed type int (__thiscall *off_4B7590)(void *, char);

//----- (004436F1) --------------------------------------------------------
int __thiscall sub_4436F1(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  const void *v5; // esi@2
  int result; // eax@6

  v4 = this;
  if ( *(_DWORD *)(this + 4176) )
    v5 = (const void *)sub_43D732(this, a4);
  else
    v5 = (const void *)a4;
  if ( *(_DWORD *)(v4 + 16) )
    v5 = (const void *)sub_43E345(v4, (int)v5);
  result = sub_4432CE(
             v4,
             *(_DWORD *)(v4 + 4156) + a2,
             *(_DWORD *)(v4 + 4168) + a3,
             *(_DWORD *)(v4 + 4240) != *(_DWORD *)(v4 + 4192));
  if ( result >= 0 )
  {
    result = 16 * *(_DWORD *)(v4 + 4192);
    qmemcpy((void *)(*(_DWORD *)(v4 + 4212) + 16 * (*(_DWORD *)(v4 + 4152) - *(_DWORD *)(v4 + 4216))), v5, result);
    *(_DWORD *)(v4 + 4244) = 1;
  }
  return result;
}

//----- (0044378F) --------------------------------------------------------
void __thiscall sub_44378F(int this, int a2, int a3, void *a4)
{
  int v4; // ebx@1

  v4 = this;
  if ( sub_4432CE(this, *(_DWORD *)(this + 4156) + a2, *(_DWORD *)(this + 4168) + a3, 1) >= 0 )
  {
    qmemcpy(
      a4,
      (const void *)(*(_DWORD *)(v4 + 4212) + 16 * (*(_DWORD *)(v4 + 4152) - *(_DWORD *)(v4 + 4216))),
      16 * *(_DWORD *)(v4 + 4192));
    if ( *(_DWORD *)(v4 + 24) )
      sub_43E2D5(v4, (unsigned int)a4);
    if ( *(_DWORD *)(v4 + 16) )
      sub_43E5C7(v4, (unsigned int)a4);
  }
}

//----- (0044380E) --------------------------------------------------------
char *__thiscall sub_44380E(char *this, int a2)
{
  char *v2; // ebx@1
  int v3; // eax@1
  int v4; // esi@11
  int v5; // ecx@11
  int v6; // edi@11
  unsigned int v7; // eax@11
  unsigned int v8; // eax@11
  unsigned int v9; // ecx@11
  int v10; // edx@11
  int v11; // edx@11

  v2 = this;
  sub_43DF08(this, a2, 0, 1);
  v3 = *((_DWORD *)v2 + 1);
  *(_DWORD *)v2 = &off_4B75B0;
  switch ( v3 )
  {
    case 827611204:
      *((_DWORD *)v2 + 1055) = 8;
      *((_DWORD *)v2 + 1057) = sub_44F9A9;
      *((_DWORD *)v2 + 1056) = sub_44F6AA;
      break;
    case 844388420:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_4500B6;
      *((_DWORD *)v2 + 1056) = sub_450070;
      break;
    case 861165636:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_44FAC1;
      *((_DWORD *)v2 + 1056) = sub_44F7EA;
      break;
    case 877942852:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_4500EA;
      *((_DWORD *)v2 + 1056) = sub_450093;
      break;
    case 894720068:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_44FBE7;
      *((_DWORD *)v2 + 1056) = sub_44F86D;
      break;
  }
  qmemcpy(v2 + 4232, (const void *)(a2 + 16), 0x18u);
  *((_DWORD *)v2 + 1064) = *((_DWORD *)v2 + 1058) & 0xFFFFFFFC;
  *((_DWORD *)v2 + 1065) = *((_DWORD *)v2 + 1059) & 0xFFFFFFFC;
  *((_DWORD *)v2 + 1068) = *((_DWORD *)v2 + 1062);
  v4 = *((_DWORD *)v2 + 1038);
  v5 = *((_DWORD *)v2 + 1041);
  v6 = *((_DWORD *)v2 + 1039);
  *((_DWORD *)v2 + 1066) = (*((_DWORD *)v2 + 1060) + 3) & 0xFFFFFFFC;
  v7 = (*((_DWORD *)v2 + 1061) + 3) & 0xFFFFFFFC;
  *((_DWORD *)v2 + 1079) = -1;
  *((_DWORD *)v2 + 1080) = -1;
  *((_DWORD *)v2 + 1067) = v7;
  *((_DWORD *)v2 + 1069) = *((_DWORD *)v2 + 1063);
  *((_DWORD *)v2 + 1074) = *((_DWORD *)v2 + 1042);
  v8 = (*((_DWORD *)v2 + 1040) + 3) & 0xFFFFFFFC;
  v4 &= 0xFFFFFFFC;
  *((_DWORD *)v2 + 1072) = v8;
  v6 &= 0xFFFFFFFC;
  v9 = (v5 + 3) & 0xFFFFFFFC;
  v10 = *((_DWORD *)v2 + 1043);
  *((_DWORD *)v2 + 1073) = v9;
  *((_DWORD *)v2 + 1076) = (v8 - v4) >> 2;
  *((_DWORD *)v2 + 1071) = v6;
  *((_DWORD *)v2 + 1075) = v10;
  v11 = v10 - *((_DWORD *)v2 + 1042);
  *((_DWORD *)v2 + 1070) = v4;
  *((_DWORD *)v2 + 1081) = 0;
  *((_DWORD *)v2 + 1082) = 0;
  *((_DWORD *)v2 + 1083) = 0;
  *((_DWORD *)v2 + 1077) = (v9 - v6) >> 2;
  *((_DWORD *)v2 + 1078) = v11;
  return v2;
}
// 450093: using guessed type int __stdcall sub_450093(int, int);
// 4B75B0: using guessed type int (__thiscall *off_4B75B0)(void *, char);

//----- (004439FA) --------------------------------------------------------
void *__thiscall sub_4439FA(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_43DCF6((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00443A16) --------------------------------------------------------
void __thiscall sub_443A16(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  void *v5; // edi@2
  unsigned int v6; // eax@4
  int v7; // ecx@4
  int v8; // esi@4
  bool v9; // zf@4
  int v10; // edi@5
  void *v11; // eax@5
  unsigned int v12; // eax@6
  unsigned int v13; // eax@11
  unsigned int v14; // edx@11
  unsigned int v15; // eax@13
  unsigned int v16; // eax@15
  int v17; // edi@15
  bool v18; // cf@15
  unsigned int v19; // eax@18
  unsigned int v20; // ecx@18
  unsigned int v21; // eax@21
  unsigned int v22; // ecx@21
  unsigned int v23; // ecx@25
  unsigned int v24; // ecx@34
  int v25; // edx@34
  unsigned int v26; // edi@35
  int v27; // esi@35
  int v28; // edi@37
  unsigned int v29; // eax@39
  unsigned int v30; // ecx@39
  unsigned int v31; // edx@42
  int v32; // esi@43
  int v33; // edi@43
  unsigned int v34; // eax@46
  int v35; // edx@46
  int v36; // edi@47
  int v37; // esi@47
  int v38; // [sp+8h] [bp-20h]@38
  int v39; // [sp+Ch] [bp-1Ch]@38
  int v40; // [sp+10h] [bp-18h]@38
  int v41; // [sp+14h] [bp-14h]@38
  unsigned int v42; // [sp+18h] [bp-10h]@5
  unsigned int v43; // [sp+1Ch] [bp-Ch]@15
  unsigned int v44; // [sp+20h] [bp-8h]@15
  int v45; // [sp+24h] [bp-4h]@4
  unsigned int v46; // [sp+30h] [bp+8h]@1
  unsigned int v47; // [sp+30h] [bp+8h]@40
  int v48; // [sp+34h] [bp+Ch]@1
  int v49; // [sp+34h] [bp+Ch]@37
  int v50; // [sp+38h] [bp+10h]@37

  v4 = this;
  v46 = *(_DWORD *)(this + 4156) + a2;
  v48 = *(_DWORD *)(this + 4168) + a3;
  if ( !*(_DWORD *)(this + 4332) )
  {
    v5 = operator new(8 * *(_DWORD *)(this + 4312) * *(_DWORD *)(this + 4308));
    *(_DWORD *)(v4 + 4332) = v5;
    if ( !v5 )
      return;
    memset(v5, 0, 8 * *(_DWORD *)(v4 + 4312) * *(_DWORD *)(v4 + 4308));
  }
  v6 = ((v46 - *(_DWORD *)(v4 + 4284)) >> 2) + *(_DWORD *)(v4 + 4308) * (v48 - *(_DWORD *)(v4 + 4296));
  v7 = *(_DWORD *)(v4 + 4332);
  v8 = v7 + 8 * v6;
  v9 = *(_DWORD *)(v8 + 4) == 0;
  v45 = v7 + 8 * v6;
  if ( v9 )
  {
    v10 = 16 * *(_DWORD *)(v4 + 4304);
    v11 = operator new(*(_DWORD *)(v4 + 4304) << 8);
    v42 = (unsigned int)v11;
    if ( v11 )
    {
      'vector constructor iterator'(v11, 16, v10, sub_434D2D);
      v12 = v42;
    }
    else
    {
      v12 = 0;
    }
    *(_DWORD *)(v8 + 4) = v12;
    if ( !v12 )
      return;
    *(_DWORD *)v8 = 0;
    ++*(_DWORD *)(v4 + 4328);
  }
  if ( !*(_DWORD *)v8 )
  {
    v13 = *(_DWORD *)(v4 + 4156);
    v14 = v46 & 0xFFFFFFFC;
    v42 = v46 & 0xFFFFFFFC;
    if ( ((v46 & 0xFFFFFFFC) >= v13 || v13 <= *(_DWORD *)(v4 + 4236))
      && ((v15 = *(_DWORD *)(v4 + 4164), (v46 & 0xFFFFFFFC) + 4 <= v15) || v15 >= *(_DWORD *)(v4 + 4244)) )
    {
      v19 = *(_DWORD *)(v4 + 4280);
      v20 = *(_DWORD *)(v4 + 4152);
      if ( v19 < v20 && v20 > *(_DWORD *)(v4 + 4232) )
      {
        (*(void (__stdcall **)(_DWORD, int))(v4 + 4224))(
          *(_DWORD *)(v8 + 4),
          *(_DWORD *)(v4 + 32)
        + v48 * *(_DWORD *)(v4 + 4188)
        + *(_DWORD *)(v4 + 4184) * (v46 >> 2)
        + *(_DWORD *)(v4 + 4220) * (v19 >> 2));
        v14 = v42;
      }
      v21 = *(_DWORD *)(v4 + 4288);
      v22 = *(_DWORD *)(v4 + 4160);
      if ( v21 <= v22 || v22 >= *(_DWORD *)(v4 + 4240) )
        goto LABEL_25;
      (*(void (__stdcall **)(_DWORD, unsigned int))(v4 + 4224))(
        *(_DWORD *)(v8 + 4),
        *(_DWORD *)(v4 + 32)
      + v48 * *(_DWORD *)(v4 + 4188)
      + *(_DWORD *)(v4 + 4184) * (v46 >> 2)
      + *(_DWORD *)(v4 + 4220) * ((v21 - 4) >> 2));
    }
    else
    {
      v16 = *(_DWORD *)(v4 + 4280);
      v17 = *(_DWORD *)(v4 + 32)
          + v48 * *(_DWORD *)(v4 + 4188)
          + *(_DWORD *)(v4 + 4220) * (*(_DWORD *)(v4 + 4280) >> 2)
          + *(_DWORD *)(v4 + 4184) * (v46 >> 2);
      v18 = v16 < *(_DWORD *)(v4 + 4288);
      v44 = *(_DWORD *)(v8 + 4);
      v43 = v16;
      if ( !v18 )
        goto LABEL_25;
      do
      {
        (*(void (__stdcall **)(unsigned int, int))(v4 + 4224))(v44, v17);
        v43 += 4;
        v17 += *(_DWORD *)(v4 + 4220);
        v44 += 256;
      }
      while ( v43 < *(_DWORD *)(v4 + 4288) );
    }
    v14 = v42;
LABEL_25:
    v23 = 0;
    do
    {
      if ( v23 + v14 < *(_DWORD *)(v4 + 4156) || v23 + v14 >= *(_DWORD *)(v4 + 4164) )
        *(_DWORD *)v8 |= 1 << v23;
      ++v23;
    }
    while ( v23 < 4 );
  }
  if ( *(_DWORD *)(v4 + 4176) )
    a4 = sub_43D732(v4, a4);
  if ( *(_DWORD *)(v4 + 16) )
    a4 = sub_43E345(v4, a4);
  v24 = *(_DWORD *)(v4 + 4152) - *(_DWORD *)(v4 + 4280);
  v25 = (v46 - *(_DWORD *)(v4 + 4284)) & 3;
  v42 = v24 + *(_DWORD *)(v4 + 4192);
  if ( v24 < v42 )
  {
    do
    {
      v26 = *(_DWORD *)(v8 + 4) + 16 * (v24 & 3 | 4 * (v25 | v24 & 0xFFFFFFFC));
      v27 = a4;
      a4 += 16;
      *(_DWORD *)v26 = *(_DWORD *)v27;
      v27 += 4;
      v26 += 4;
      *(_DWORD *)v26 = *(_DWORD *)v27;
      v27 += 4;
      v26 += 4;
      *(_DWORD *)v26 = *(_DWORD *)v27;
      v18 = ++v24 < v42;
      *(_DWORD *)(v26 + 4) = *(_DWORD *)(v27 + 4);
      v8 = v45;
    }
    while ( v18 );
  }
  *(_DWORD *)v8 |= 1 << (v46 & 3);
  if ( *(_DWORD *)v8 == 15 )
  {
    v28 = *(_DWORD *)(v4 + 32)
        + v48 * *(_DWORD *)(v4 + 4188)
        + *(_DWORD *)(v4 + 4220) * (*(_DWORD *)(v4 + 4280) >> 2)
        + *(_DWORD *)(v4 + 4184) * (v46 >> 2);
    v18 = *(_DWORD *)(v4 + 4280) < *(_DWORD *)(v4 + 4288);
    v49 = *(_DWORD *)(v4 + 32)
        + v48 * *(_DWORD *)(v4 + 4188)
        + *(_DWORD *)(v4 + 4220) * (*(_DWORD *)(v4 + 4280) >> 2)
        + *(_DWORD *)(v4 + 4184) * (v46 >> 2);
    v50 = *(_DWORD *)(v8 + 4);
    v44 = *(_DWORD *)(v4 + 4280);
    if ( v18 )
    {
      v38 = 0;
      v39 = 0;
      v40 = 0;
      v41 = 1;
      v42 = v46 & 0xFFFFFFFC;
      do
      {
        v29 = *(_DWORD *)(v4 + 4240) - v44;
        v30 = *(_DWORD *)(v4 + 4244) - v42;
        if ( v29 < 4 )
        {
          v47 = 0;
          if ( *(_DWORD *)(v4 + 4244) != v42 )
          {
            do
            {
              if ( v47 >= 4 )
                break;
              v31 = v29;
              do
              {
                v32 = v50 + 16 * (4 * v47 | *(&v38 + v31));
                v33 = v50 + 16 * (v31++ | 4 * v47);
                *(_DWORD *)v33 = *(_DWORD *)v32;
                v32 += 4;
                v33 += 4;
                *(_DWORD *)v33 = *(_DWORD *)v32;
                v32 += 4;
                v33 += 4;
                *(_DWORD *)v33 = *(_DWORD *)v32;
                *(_DWORD *)(v33 + 4) = *(_DWORD *)(v32 + 4);
              }
              while ( v31 < 4 );
              ++v47;
              v8 = v45;
              v28 = v49;
            }
            while ( v47 < v30 );
          }
        }
        if ( v30 < 4 )
        {
          do
          {
            v34 = 0;
            v35 = 4 * *(&v38 + v30);
            do
            {
              v36 = v50 + 16 * (v34 | 4 * v30);
              v37 = v50 + 16 * (v34++ | v35);
              *(_DWORD *)v36 = *(_DWORD *)v37;
              v37 += 4;
              v36 += 4;
              *(_DWORD *)v36 = *(_DWORD *)v37;
              v37 += 4;
              v36 += 4;
              *(_DWORD *)v36 = *(_DWORD *)v37;
              *(_DWORD *)(v36 + 4) = *(_DWORD *)(v37 + 4);
            }
            while ( v34 < 4 );
            ++v30;
          }
          while ( v30 < 4 );
          v28 = v49;
          v8 = v45;
        }
        (*(void (__stdcall **)(int, int))(v4 + 4228))(v28, v50);
        v44 += 4;
        v28 += *(_DWORD *)(v4 + 4220);
        v50 += 256;
        v49 = v28;
      }
      while ( v44 < *(_DWORD *)(v4 + 4288) );
    }
    if ( v8 + 8 >= (unsigned int)(*(_DWORD *)(v4 + 4332) + 8 * *(_DWORD *)(v4 + 4308) * *(_DWORD *)(v4 + 4312))
      || *(_DWORD *)(v8 + 8)
      || *(_DWORD *)(v8 + 12) )
    {
      j__free(*(void **)(v8 + 4));
      --*(_DWORD *)(v4 + 4328);
    }
    else
    {
      *(_DWORD *)(v8 + 12) = *(_DWORD *)(v8 + 4);
      *(_DWORD *)(v8 + 4) = 0;
    }
    *(_DWORD *)(v8 + 4) = 0;
  }
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00443E5B) --------------------------------------------------------
void __thiscall sub_443E5B(int this, int a2, int a3, unsigned int a4)
{
  int v4; // esi@2
  void *v5; // eax@2
  void *v6; // edi@2
  unsigned int v7; // edi@9
  int v8; // ebx@9
  int v9; // esi@9
  unsigned int v10; // eax@12
  int v11; // ebx@12
  unsigned int v12; // edx@12
  unsigned int v13; // esi@14
  unsigned int v14; // ebx@16
  float v15; // ST44_4@17
  float v16; // ST28_4@17
  float v17; // ST44_4@18
  float v18; // ST2C_4@18
  float v19; // ST44_4@19
  float v20; // ST30_4@19
  float v21; // ST44_4@20
  int v22; // [sp+38h] [bp-8h]@0
  int v23; // [sp+3Ch] [bp-4h]@1
  int v24; // [sp+48h] [bp+8h]@1
  int v25; // [sp+4Ch] [bp+Ch]@1

  v23 = this;
  v24 = *(_DWORD *)(this + 4156) + a2;
  v25 = *(_DWORD *)(this + 4168) + a3;
  if ( !*(_DWORD *)(this + 4324) )
  {
    v4 = 16 * *(_DWORD *)(this + 4304);
    v5 = operator new(*(_DWORD *)(this + 4304) << 8);
    v6 = v5;
    if ( v5 )
      'vector constructor iterator'(v5, 16, v4, sub_434D2D);
    else
      v6 = 0;
    *(_DWORD *)(v23 + 4324) = v6;
    if ( !v6 )
      return;
    this = v23;
  }
  if ( (v24 & 0xFFFFFFFC) != *(_DWORD *)(this + 4316) || v25 != *(_DWORD *)(this + 4320) )
  {
    *(_DWORD *)(this + 4316) = v24 & 0xFFFFFFFC;
    *(_DWORD *)(v23 + 4320) = v25;
    this = v23;
    v7 = *(_DWORD *)(v23 + 4280);
    v8 = *(_DWORD *)(v23 + 4324);
    v9 = *(_DWORD *)(v23 + 32)
       + *(_DWORD *)(v23 + 4188) * *(_DWORD *)(v23 + 4320)
       + *(_DWORD *)(v23 + 4220) * (*(_DWORD *)(v23 + 4280) >> 2)
       + *(_DWORD *)(v23 + 4184) * (*(_DWORD *)(v23 + 4316) >> 2);
    while ( v7 < *(_DWORD *)(this + 4288) )
    {
      (*(void (__stdcall **)(int, int))(this + 4224))(v8, v9);
      this = v23;
      v9 += *(_DWORD *)(v23 + 4220);
      v8 += 256;
      v7 += 4;
    }
  }
  v10 = *(_DWORD *)(this + 4152) - *(_DWORD *)(this + 4280);
  v11 = (v24 - *(_DWORD *)(this + 4284)) & 3;
  v12 = v10 + *(_DWORD *)(this + 4192);
  while ( v10 < v12 )
  {
    v13 = *(_DWORD *)(this + 4324) + 16 * (v10 & 3 | 4 * (v11 | v10 & 0xFFFFFFFC));
    *(_DWORD *)a4 = *(_DWORD *)v13;
    v13 += 4;
    *(_DWORD *)(a4 + 4) = *(_DWORD *)v13;
    v13 += 4;
    *(_DWORD *)(a4 + 8) = *(_DWORD *)v13;
    *(_DWORD *)(a4 + 12) = *(_DWORD *)(v13 + 4);
    a4 += 16;
    this = v23;
    ++v10;
  }
  if ( *(_DWORD *)(this + 24) )
  {
    v14 = a4;
    a4 += -16 * *(_DWORD *)(this + 4192);
    dword_537C00 = v22;
    while ( a4 < v14 )
    {
      v15 = *(float *)a4 * 31.0 + 0.5;
      v16 = (double)(signed int)v15 * 0.032258064;
      if ( v16 == *(float *)(v23 + 36) )
      {
        v17 = *(float *)(a4 + 4) * 63.0 + 0.5;
        v18 = (double)(signed int)v17 * 0.015873017;
        if ( v18 == *(float *)(v23 + 40) )
        {
          v19 = *(float *)(a4 + 8) * 31.0 + 0.5;
          v20 = (double)(signed int)v19 * 0.032258064;
          if ( v20 == *(float *)(v23 + 44) )
          {
            v21 = *(float *)(v23 + 4212) * *(float *)(a4 + 12) + 0.5;
            if ( (double)(signed int)v21 * *(float *)(v23 + 4216) == *(float *)(v23 + 48) )
            {
              *(float *)a4 = 0.0;
              *(float *)(a4 + 4) = 0.0;
              *(float *)(a4 + 8) = 0.0;
              *(float *)(a4 + 12) = 0.0;
            }
          }
        }
      }
      a4 += 16;
    }
    this = v23;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_43E5C7(this, a4 - 16 * *(_DWORD *)(this + 4192));
}
// 430EB3: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 537C00: using guessed type int dword_537C00;

//----- (0044411A) --------------------------------------------------------
void __thiscall sub_44411A(void *this)
{
  int v1; // esi@1

  v1 = (int)this;
  *(_DWORD *)this = &off_4B75A0;
  sub_442F6A((int)this);
  if ( *(_DWORD *)(v1 + 4212) )
    j__free(*(void **)(v1 + 4212));
  sub_43D71F(v1);
}
// 4B75A0: using guessed type int (__thiscall *off_4B75A0)(void *, char);

//----- (00444141) --------------------------------------------------------
char *__thiscall sub_444141(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_442E24(this, a2);
  *(_DWORD *)v2 = &off_4B75A0;
  return v2;
}
// 4B75A0: using guessed type int (__thiscall *off_4B75A0)(void *, char);

//----- (00444159) --------------------------------------------------------
char *__thiscall sub_444159(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_44380E(this, a2);
  *(_DWORD *)v2 = &off_4B75B0;
  return v2;
}
// 4B75B0: using guessed type int (__thiscall *off_4B75B0)(void *, char);

//----- (00444171) --------------------------------------------------------
char *__stdcall sub_444171(int a1)
{
  signed int v1; // eax@1
  char *v2; // esi@1
  char *v3; // eax@6
  char *v4; // eax@7
  char *v5; // eax@8
  char *v6; // eax@10
  char *v7; // eax@12
  char *v8; // eax@14
  char *v9; // eax@16
  char *v10; // eax@18
  char *v11; // eax@20
  char *v12; // eax@22
  char *v13; // eax@24
  char *v14; // eax@26
  char *v15; // eax@28
  char *v16; // eax@30
  char *v17; // eax@32
  char *v18; // eax@34
  char *v19; // eax@36
  char *v20; // eax@38
  char *v21; // eax@40
  char *v22; // eax@42
  char *v23; // eax@44
  int v24; // eax@50
  int v25; // eax@51
  int v26; // eax@52
  char *v27; // eax@54
  char *v28; // eax@56
  char *v29; // eax@58
  char *v30; // eax@60
  char *v31; // eax@62
  int v32; // eax@64
  int v33; // eax@65
  int v34; // eax@66
  char *v35; // eax@68
  char *v36; // eax@70
  char *v37; // eax@72
  char *v38; // eax@74
  char *v39; // eax@76
  int v40; // eax@80
  int v41; // eax@81
  int v42; // eax@82
  char *v43; // eax@84
  char *v44; // eax@86
  char *v45; // eax@88
  char *v46; // eax@90
  char *v47; // eax@92
  int v48; // eax@94
  int v49; // eax@95
  int v50; // eax@96
  char *v51; // eax@98
  char *v52; // eax@100
  char *v53; // eax@102
  char *v54; // eax@104
  char *v55; // eax@106
  char *v56; // eax@115
  char *v57; // eax@117
  char *v58; // eax@119
  char *v59; // eax@121
  char *v60; // eax@123
  char *v61; // eax@125
  char *v62; // eax@131
  char *v63; // eax@133
  char *v64; // eax@135
  char *v65; // eax@137

  v1 = *(_DWORD *)(a1 + 4);
  v2 = 0;
  if ( v1 > 827611204 )
  {
    if ( v1 > 909200449 )
    {
      switch ( v1 )
      {
        case 909201952:
          v65 = (char *)operator new(0x1074u);
          if ( v65 )
          {
            v4 = sub_4436D5(v65, a1);
            goto LABEL_139;
          }
          break;
        case 1111970375:
          v64 = (char *)operator new(0x10A4u);
          if ( v64 )
          {
            v4 = sub_444141(v64, a1);
            goto LABEL_139;
          }
          break;
        case 1195525970:
          v63 = (char *)operator new(0x10A4u);
          if ( v63 )
          {
            v4 = sub_444141(v63, a1);
            goto LABEL_139;
          }
          break;
        default:
          if ( v1 != 1498831189 )
            return v2;
          v62 = (char *)operator new(0x10A4u);
          if ( v62 )
          {
            v4 = sub_444141(v62, a1);
            goto LABEL_139;
          }
          break;
      }
    }
    else
    {
      switch ( v1 )
      {
        case 909200449:
          v61 = (char *)operator new(0x1074u);
          if ( v61 )
          {
            v4 = sub_4436B9(v61, a1);
            goto LABEL_139;
          }
          break;
        case 844388420:
          v60 = (char *)operator new(0x10F0u);
          if ( v60 )
          {
            v4 = sub_444159(v60, a1);
            goto LABEL_139;
          }
          break;
        case 844715353:
          v59 = (char *)operator new(0x10A4u);
          if ( v59 )
          {
            v4 = sub_444141(v59, a1);
            goto LABEL_139;
          }
          break;
        case 861165636:
          v58 = (char *)operator new(0x10F0u);
          if ( v58 )
          {
            v4 = sub_444159(v58, a1);
            goto LABEL_139;
          }
          break;
        case 877942852:
          v57 = (char *)operator new(0x10F0u);
          if ( v57 )
          {
            v4 = sub_444159(v57, a1);
            goto LABEL_139;
          }
          break;
        default:
          if ( v1 != 894720068 )
            return v2;
          v56 = (char *)operator new(0x10F0u);
          if ( v56 )
          {
            v4 = sub_444159(v56, a1);
            goto LABEL_139;
          }
          break;
      }
    }
    goto LABEL_140;
  }
  if ( v1 == 827611204 )
  {
    v55 = (char *)operator new(0x10F0u);
    if ( v55 )
    {
      v4 = sub_444159(v55, a1);
      goto LABEL_139;
    }
    goto LABEL_140;
  }
  if ( v1 > 50 )
  {
    if ( v1 > 81 )
    {
      if ( v1 > 113 )
      {
        v48 = v1 - 114;
        if ( v48 )
        {
          v49 = v48 - 1;
          if ( v49 )
          {
            v50 = v49 - 1;
            if ( v50 )
            {
              if ( v50 != 1 )
                return v2;
              v51 = (char *)operator new(0x1074u);
              if ( v51 )
              {
                v4 = sub_442E08(v51, a1);
                goto LABEL_139;
              }
            }
            else
            {
              v52 = (char *)operator new(0x1074u);
              if ( v52 )
              {
                v4 = sub_44369A(v52, a1);
                goto LABEL_139;
              }
            }
          }
          else
          {
            v53 = (char *)operator new(0x1074u);
            if ( v53 )
            {
              v4 = sub_4432B2(v53, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v54 = (char *)operator new(0x1074u);
          if ( v54 )
          {
            v4 = sub_442F32(v54, a1);
            goto LABEL_139;
          }
        }
      }
      else if ( v1 == 113 )
      {
        v47 = (char *)operator new(0x1074u);
        if ( v47 )
        {
          v4 = sub_443296(v47, a1);
          goto LABEL_139;
        }
      }
      else
      {
        v40 = v1 - 82;
        if ( v40 )
        {
          v41 = v40 - 28;
          if ( v41 )
          {
            v42 = v41 - 1;
            if ( v42 )
            {
              if ( v42 != 1 )
                return v2;
              v43 = (char *)operator new(0x1074u);
              if ( v43 )
              {
                v4 = sub_44327A(v43, a1);
                goto LABEL_139;
              }
            }
            else
            {
              v44 = (char *)operator new(0x1074u);
              if ( v44 )
              {
                v4 = sub_442F4E(v44, a1);
                goto LABEL_139;
              }
            }
          }
          else
          {
            v45 = (char *)operator new(0x1074u);
            if ( v45 )
            {
              v4 = sub_442D47(v45, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v46 = (char *)operator new(0x1074u);
          if ( v46 )
          {
            v4 = sub_442F32(v46, a1);
            goto LABEL_139;
          }
        }
      }
    }
    else if ( v1 == 81 )
    {
      v39 = (char *)operator new(0x1074u);
      if ( v39 )
      {
        v4 = sub_442F16(v39, a1);
        goto LABEL_139;
      }
    }
    else if ( v1 > 62 )
    {
      v32 = v1 - 63;
      if ( v32 )
      {
        v33 = v32 - 1;
        if ( v33 )
        {
          v34 = v33 - 3;
          if ( v34 )
          {
            if ( v34 != 3 )
              return v2;
            v35 = (char *)operator new(0x1074u);
            if ( v35 )
            {
              v4 = sub_442F16(v35, a1);
              goto LABEL_139;
            }
          }
          else
          {
            v36 = (char *)operator new(0x1074u);
            if ( v36 )
            {
              v4 = sub_442D2B(v36, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v37 = (char *)operator new(0x1074u);
          if ( v37 )
          {
            v4 = sub_442B85(v37, a1);
            goto LABEL_139;
          }
        }
      }
      else
      {
        v38 = (char *)operator new(0x1074u);
        if ( v38 )
        {
          v4 = sub_442A76(v38, a1);
          goto LABEL_139;
        }
      }
    }
    else if ( v1 == 62 )
    {
      v31 = (char *)operator new(0x1074u);
      if ( v31 )
      {
        v4 = sub_4429CD(v31, a1);
        goto LABEL_139;
      }
    }
    else
    {
      v24 = v1 - 51;
      if ( v24 )
      {
        v25 = v24 - 1;
        if ( v25 )
        {
          v26 = v25 - 8;
          if ( v26 )
          {
            if ( v26 != 1 )
              return v2;
            v27 = (char *)operator new(0x1074u);
            if ( v27 )
            {
              v4 = sub_4429B1(v27, a1);
              goto LABEL_139;
            }
          }
          else
          {
            v28 = (char *)operator new(0x1074u);
            if ( v28 )
            {
              v4 = sub_442904(v28, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v29 = (char *)operator new(0x1074u);
          if ( v29 )
          {
            v4 = sub_44285F(v29, a1);
            goto LABEL_139;
          }
        }
      }
      else
      {
        v30 = (char *)operator new(0x1074u);
        if ( v30 )
        {
          v4 = sub_442843(v30, a1);
          goto LABEL_139;
        }
      }
    }
LABEL_140:
    v2 = 0;
    goto LABEL_141;
  }
  if ( v1 == 50 )
  {
    v23 = (char *)operator new(0x1074u);
    if ( v23 )
    {
      v4 = sub_442746(v23, a1);
LABEL_139:
      v2 = v4;
LABEL_141:
      if ( v2 && *((_DWORD *)v2 + 6) )
        (*(void (__thiscall **)(char *))(*(_DWORD *)v2 + 12))(v2);
      return v2;
    }
    goto LABEL_140;
  }
  switch ( v1 )
  {
    case 20:
      v3 = (char *)operator new(0x1074u);
      if ( !v3 )
        goto LABEL_140;
      v4 = sub_441B4E(v3, a1);
      goto LABEL_139;
    case 21:
      v5 = (char *)operator new(0x1074u);
      if ( !v5 )
        goto LABEL_140;
      v4 = sub_441C1E(v5, a1);
      goto LABEL_139;
    case 22:
      v6 = (char *)operator new(0x1074u);
      if ( !v6 )
        goto LABEL_140;
      v4 = sub_441CD7(v6, a1);
      goto LABEL_139;
    case 23:
      v7 = (char *)operator new(0x1074u);
      if ( !v7 )
        goto LABEL_140;
      v4 = sub_441CF3(v7, a1);
      goto LABEL_139;
    case 24:
      v8 = (char *)operator new(0x1074u);
      if ( !v8 )
        goto LABEL_140;
      v4 = sub_441D8B(v8, a1);
      goto LABEL_139;
    case 25:
      v9 = (char *)operator new(0x1074u);
      if ( !v9 )
        goto LABEL_140;
      v4 = sub_441E2E(v9, a1);
      goto LABEL_139;
    case 26:
      v10 = (char *)operator new(0x1074u);
      if ( !v10 )
        goto LABEL_140;
      v4 = sub_441EE8(v10, a1);
      goto LABEL_139;
    case 27:
      v11 = (char *)operator new(0x1074u);
      if ( !v11 )
        goto LABEL_140;
      v4 = sub_441FA2(v11, a1);
      goto LABEL_139;
    case 28:
      v12 = (char *)operator new(0x1074u);
      if ( !v12 )
        goto LABEL_140;
      v4 = sub_441FBE(v12, a1);
      goto LABEL_139;
    case 29:
      v13 = (char *)operator new(0x1074u);
      if ( !v13 )
        goto LABEL_140;
      v4 = sub_442095(v13, a1);
      goto LABEL_139;
    case 30:
      v14 = (char *)operator new(0x1074u);
      if ( !v14 )
        goto LABEL_140;
      v4 = sub_4420B1(v14, a1);
      goto LABEL_139;
    case 31:
      v15 = (char *)operator new(0x1074u);
      if ( !v15 )
        goto LABEL_140;
      v4 = sub_4421AD(v15, a1);
      goto LABEL_139;
    case 32:
      v16 = (char *)operator new(0x1074u);
      if ( !v16 )
        goto LABEL_140;
      v4 = sub_442295(v16, a1);
      goto LABEL_139;
    case 33:
      v17 = (char *)operator new(0x1074u);
      if ( !v17 )
        goto LABEL_140;
      v4 = sub_4422B1(v17, a1);
      goto LABEL_139;
    case 34:
      v18 = (char *)operator new(0x1074u);
      if ( !v18 )
        goto LABEL_140;
      v4 = sub_4423C8(v18, a1);
      goto LABEL_139;
    case 35:
      v19 = (char *)operator new(0x1074u);
      if ( !v19 )
        goto LABEL_140;
      v4 = sub_4424A6(v19, a1);
      goto LABEL_139;
    case 36:
      v20 = (char *)operator new(0x1074u);
      if ( !v20 )
        goto LABEL_140;
      v4 = sub_4424C2(v20, a1);
      goto LABEL_139;
    case 40:
      v21 = (char *)operator new(0x1074u);
      if ( !v21 )
        goto LABEL_140;
      v4 = sub_4425F7(v21, a1);
      goto LABEL_139;
    case 41:
      v22 = (char *)operator new(0x1074u);
      if ( !v22 )
        goto LABEL_140;
      v4 = sub_442613(v22, a1);
      goto LABEL_139;
    default:
      return v2;
  }
  return v2;
}

//----- (0044491D) --------------------------------------------------------
void *__thiscall sub_44491D(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_44411A(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00444939) --------------------------------------------------------
BOOL __stdcall sub_444939(float a1, float a2)
{
  double v2; // st7@1

  v2 = a1 - a2;
  return v2 >= -0.00000011920929 && v2 <= 0.00000011920929;
}

//----- (00444969) --------------------------------------------------------
int sub_444969()
{
  sub_4492FA(1u);
  return off_52A724();
}
// 52A724: using guessed type int (*off_52A724)(void);

//----- (0044497C) --------------------------------------------------------
int __stdcall sub_44497C(int a1, int a2, unsigned int a3)
{
  int result; // eax@1
  unsigned int v4; // edi@1
  unsigned int v5; // edx@2
  int v6; // esi@2
  int v7; // ecx@3
  unsigned int v8; // edx@5
  unsigned int v9; // ecx@5

  result = a1;
  v4 = 0;
  if ( a3 )
  {
    do
    {
      v5 = *(_DWORD *)(a2 + 4 * v4) & 0x7FFFFFFF;
      v6 = (*(_DWORD *)(a2 + 4 * v4) >> 16) & 0x8000;
      if ( v5 <= 0x47FFEFFF )
      {
        if ( v5 >= 0x38800000 )
        {
          v9 = ((v5 >> 13) & 1) + v5 - 939520001;
        }
        else
        {
          v8 = (*(_DWORD *)(a2 + 4 * v4) & 0x7FFFFF | 0x800000u) >> (113
                                                                   - ((*(_DWORD *)(a2 + 4 * v4) & 0x7FFFFFFFu) >> 23));
          v9 = ((v8 >> 13) & 1) + v8 + 4095;
        }
        v7 = v6 | (v9 >> 13);
      }
      else
      {
        LOWORD(v7) = v6 | 0x7FFF;
      }
      *(_WORD *)(a1 + 2 * v4++) = v7;
    }
    while ( v4 < a3 );
  }
  return result;
}

//----- (00444A0B) --------------------------------------------------------
int sub_444A0B()
{
  sub_4492FA(1u);
  return off_52A728();
}
// 52A728: using guessed type int (*off_52A728)(void);

//----- (00444A1E) --------------------------------------------------------
int __stdcall sub_444A1E(int a1, int a2, unsigned int a3)
{
  unsigned int v3; // ebx@1
  int v4; // ecx@2
  signed int v5; // edi@4
  int i; // edx@4
  unsigned int v7; // ecx@7
  unsigned int v8; // edx@8

  v3 = 0;
  if ( a3 )
  {
    do
    {
      v4 = *(_WORD *)(a2 + 2 * v3);
      if ( v4 & 0xFFFF7C00 )
      {
        v8 = (((((unsigned int)*(_WORD *)(a2 + 2 * v3) >> 10) & 0x1F) + 112) << 23) | ((*(_WORD *)(a2 + 2 * v3) & 0x3FF | 8 * (*(_WORD *)(a2 + 2 * v3) & 0x8000)) << 13);
      }
      else
      {
        if ( *(_WORD *)(a2 + 2 * v3) & 0x3FF )
        {
          v5 = -14;
          for ( i = v4 & 0x3FF; !(i & 0x400); i *= 2 )
            --v5;
          v7 = ((v5 + 127) << 23) | (((i | 8 * (*(_WORD *)(a2 + 2 * v3) & 0x8080)) & 0xFFFFFBFF) << 13);
        }
        else
        {
          v7 = (unsigned __int16)(*(_WORD *)(a2 + 2 * v3) & 0x8000) << 16;
        }
        v8 = v7;
      }
      *(_DWORD *)(a1 + 4 * v3++) = v8;
    }
    while ( v3 < a3 );
  }
  return a1;
}

//----- (00444AC3) --------------------------------------------------------
int sub_444AC3()
{
  sub_4492FA(1u);
  return off_52A6F8();
}
// 52A6F8: using guessed type int (*off_52A6F8)(void);

//----- (00444AD0) --------------------------------------------------------
int __stdcall sub_444AD0(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A684(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A684: using guessed type int (__stdcall *off_52A684)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00444AFA) --------------------------------------------------------
int __stdcall sub_444AFA(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8 + v8 - v6 * 3.0 + 1.0;
  v10 = v8 - (v6 + v6) + a6;
  v12 = v6 * 3.0 - (v8 + v8);
  v11 = v8 - v6;
  *(float *)a1 = v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5;
  *(float *)(a1 + 4) = v11 * *(float *)(a5 + 4)
                     + v12 * *(float *)(a4 + 4)
                     + v10 * *(float *)(a3 + 4)
                     + v9 * *(float *)(a2 + 4);
  return result;
}

//----- (00444B88) --------------------------------------------------------
int __stdcall sub_444B88(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A6FC(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A6FC: using guessed type int (__stdcall *off_52A6FC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00444BB2) --------------------------------------------------------
int __stdcall sub_444BB2(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  return result;
}

//----- (00444C61) --------------------------------------------------------
int __stdcall sub_444C61(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_4492FA(1u);
  return off_52A700(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 52A700: using guessed type int (__stdcall *off_52A700)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00444C90) --------------------------------------------------------
int __stdcall sub_444C90(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int result; // eax@1

  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(a2 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(a2 + 4)) * a6
                     + *(float *)(a2 + 4);
  return result;
}

//----- (00444CD3) --------------------------------------------------------
int sub_444CD3()
{
  sub_4492FA(1u);
  return off_52A640();
}
// 52A640: invalid function type has been ignored
// 52A640: using guessed type int (*off_52A640)(void);

//----- (00444CE6) --------------------------------------------------------
int sub_444CE6()
{
  sub_4492FA(1u);
  return off_52A72C();
}
// 52A72C: using guessed type int (*off_52A72C)(void);

//----- (00444CF7) --------------------------------------------------------
int sub_444CF7()
{
  sub_4492FA(1u);
  return off_52A664();
}
// 52A664: using guessed type int (*off_52A664)(void);

//----- (00444D0A) --------------------------------------------------------
int sub_444D0A()
{
  sub_4492FA(1u);
  return off_52A730();
}
// 52A730: using guessed type int (*off_52A730)(void);

//----- (00444D1B) --------------------------------------------------------
int sub_444D1B()
{
  sub_4492FA(1u);
  return off_52A654();
}
// 52A654: using guessed type int (*off_52A654)(void);

//----- (00444D2E) --------------------------------------------------------
int sub_444D2E()
{
  sub_4492FA(1u);
  return off_52A734();
}
// 52A734: using guessed type int (*off_52A734)(void);

//----- (00444D3F) --------------------------------------------------------
int sub_444D3F()
{
  sub_4492FA(1u);
  return off_52A65C();
}
// 52A65C: using guessed type int (*off_52A65C)(void);

//----- (00444D52) --------------------------------------------------------
int __stdcall sub_444D52(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A704(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A704: using guessed type int (__stdcall *off_52A704)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00444D7C) --------------------------------------------------------
int __stdcall sub_444D7C(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8 + v8 - v6 * 3.0 + 1.0;
  v10 = v8 - (v6 + v6) + a6;
  v12 = v6 * 3.0 - (v8 + v8);
  v11 = v8 - v6;
  *(float *)a1 = v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5;
  *(float *)(a1 + 4) = v11 * *(float *)(a5 + 4)
                     + v12 * *(float *)(a4 + 4)
                     + v10 * *(float *)(a3 + 4)
                     + v9 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v11 * *(float *)(a5 + 8)
                     + v12 * *(float *)(a4 + 8)
                     + v10 * *(float *)(a3 + 8)
                     + v9 * *(float *)(a2 + 8);
  return result;
}

//----- (00444E2A) --------------------------------------------------------
int __stdcall sub_444E2A(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A708(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A708: using guessed type int (__stdcall *off_52A708)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00444E54) --------------------------------------------------------
int __stdcall sub_444E54(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  *(float *)(a1 + 8) = (v11 * *(float *)(a5 + 8)
                      + v12 * *(float *)(a4 + 8)
                      + v10 * *(float *)(a3 + 8)
                      + v9 * *(float *)(a2 + 8))
                     * 0.5;
  return result;
}

//----- (00444F25) --------------------------------------------------------
int __stdcall sub_444F25(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_4492FA(1u);
  return off_52A70C(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 52A70C: using guessed type int (__stdcall *off_52A70C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00444F54) --------------------------------------------------------
int __stdcall sub_444F54(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // ecx@1
  int result; // eax@1

  v6 = a2;
  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(v6 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(v6 + 4)) * a6
                     + *(float *)(v6 + 4);
  *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(v6 + 8)) * a5
                     + (*(float *)(a4 + 8) - *(float *)(a2 + 8)) * a6
                     + *(float *)(v6 + 8);
  return result;
}

//----- (00444FB1) --------------------------------------------------------
int sub_444FB1()
{
  sub_4492FA(1u);
  return off_52A644();
}
// 52A644: using guessed type int (*off_52A644)(void);

//----- (00444FBE) --------------------------------------------------------
int __stdcall sub_444FBE(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)a2 * *(float *)a3
     + *(float *)(a3 + 48);
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 52);
  v5 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 56);
  result = a1;
  v7 = *(float *)(a3 + 44) * *(float *)(a2 + 8)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 60);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (00445049) --------------------------------------------------------
int sub_445049()
{
  sub_4492FA(1u);
  return off_52A738();
}
// 52A738: using guessed type int (*off_52A738)(void);

//----- (0044505A) --------------------------------------------------------
int __stdcall sub_44505A(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // edx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4)
          + *(float *)(a5 + 32) * *(float *)(v8 + 8)
          + *(float *)v8 * *(float *)a5
          + *(float *)(a5 + 48);
      v11 = *(float *)(a5 + 4) * *(float *)v8
          + *(float *)(a5 + 20) * *(float *)(v8 + 4)
          + *(float *)(a5 + 36) * *(float *)(v8 + 8)
          + *(float *)(a5 + 52);
      v12 = *(float *)(v8 + 8) * *(float *)(a5 + 40)
          + *(float *)v8 * *(float *)(a5 + 8)
          + *(float *)(v8 + 4) * *(float *)(a5 + 24)
          + *(float *)(a5 + 56);
      v13 = *(float *)(a5 + 12) * *(float *)v8 + *(float *)(a5 + 28) * *(float *)(v8 + 4);
      v14 = *(float *)(a5 + 44) * *(float *)(v8 + 8);
      v8 += a4;
      --v6;
      v15 = v13 + v14 + *(float *)(a5 + 60);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (00445101) --------------------------------------------------------
int sub_445101()
{
  sub_4492FA(1u);
  return off_52A668();
}
// 52A668: using guessed type int (*off_52A668)(void);

//----- (00445114) --------------------------------------------------------
int sub_445114()
{
  sub_4492FA(1u);
  return off_52A73C();
}
// 52A73C: using guessed type int (*off_52A73C)(void);

//----- (0044512B) --------------------------------------------------------
int sub_44512B()
{
  sub_4492FA(1u);
  return off_52A658();
}
// 52A658: using guessed type int (*off_52A658)(void);

//----- (0044513E) --------------------------------------------------------
int __stdcall sub_44513E(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  int result; // eax@1
  float v6; // ST10_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8) + *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2;
  result = a1;
  v6 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2;
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v6;
  return result;
}

//----- (004451A4) --------------------------------------------------------
int sub_4451A4()
{
  sub_4492FA(1u);
  return off_52A740();
}
// 52A740: using guessed type int (*off_52A740)(void);

//----- (004451B5) --------------------------------------------------------
int __stdcall sub_4451B5(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // ecx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  double v12; // st7@3
  double v13; // st6@3
  float v14; // ST14_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4)
          + *(float *)(a5 + 32) * *(float *)(v8 + 8)
          + *(float *)v8 * *(float *)a5;
      v11 = *(float *)(a5 + 4) * *(float *)v8
          + *(float *)(a5 + 20) * *(float *)(v8 + 4)
          + *(float *)(a5 + 36) * *(float *)(v8 + 8);
      v12 = *(float *)(v8 + 8) * *(float *)(a5 + 40) + *(float *)v8 * *(float *)(a5 + 8);
      v13 = *(float *)(v8 + 4);
      v8 += a4;
      --v6;
      v14 = v12 + v13 * *(float *)(a5 + 24);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      *(float *)(v9 + 4) = v14;
    }
    while ( v6 );
  }
  return a1;
}

//----- (00445233) --------------------------------------------------------
int sub_445233()
{
  sub_4492FA(1u);
  return off_52A678();
}
// 52A678: using guessed type int (*off_52A678)(void);

//----- (00445244) --------------------------------------------------------
int sub_445244()
{
  sub_4492FA(1u);
  return off_52A748();
}
// 52A748: using guessed type int (*off_52A748)(void);

//----- (00445255) --------------------------------------------------------
int sub_445255()
{
  sub_4492FA(1u);
  return off_52A67C();
}
// 52A67C: using guessed type int (*off_52A67C)(void);

//----- (00445266) --------------------------------------------------------
int sub_445266()
{
  sub_4492FA(1u);
  return off_52A74C();
}
// 52A74C: using guessed type int (*off_52A74C)(void);

//----- (00445277) --------------------------------------------------------
int sub_445277()
{
  sub_4492FA(1u);
  return off_52A680();
}
// 52A680: using guessed type int (*off_52A680)(void);

//----- (00445284) --------------------------------------------------------
int __stdcall sub_445284(int a1, int a2, int a3, int a4)
{
  int v4; // ecx@1
  int v5; // eax@1
  double v6; // st7@1
  int v7; // edx@1
  double v8; // st6@1
  float v9; // ST1C_4@1
  float v10; // ST20_4@1
  float v11; // ST08_4@1
  float v12; // ST18_4@1
  float v13; // ST0C_4@1
  double v14; // st7@1
  double v15; // st6@1
  float v16; // ST10_4@1
  int result; // eax@1
  float v18; // ST14_4@1
  float v19; // [sp+30h] [bp+Ch]@1
  float v20; // [sp+34h] [bp+10h]@1
  float v21; // [sp+38h] [bp+14h]@1

  v4 = a4;
  v5 = a3;
  v6 = *(float *)(a4 + 12) * *(float *)(a3 + 8);
  v7 = a2;
  v8 = *(float *)(a3 + 12) * *(float *)(a4 + 8);
  v20 = *(float *)(a4 + 12) * *(float *)(a3 + 4) - *(float *)(a3 + 12) * *(float *)(a4 + 4);
  v9 = *(float *)(v5 + 4) * *(float *)(a4 + 8);
  v10 = *(float *)(v5 + 8) * *(float *)(a4 + 4);
  v11 = (v6 - v8) * *(float *)(a2 + 4) - v20 * *(float *)(a2 + 8) + (v9 - v10) * *(float *)(a2 + 12);
  v19 = *(float *)(v5 + 12) * *(float *)a4;
  v21 = *(float *)(a4 + 12) * *(float *)v5;
  v12 = *(float *)v4 * *(float *)(v5 + 8) - *(float *)v5 * *(float *)(v4 + 8);
  v13 = (v8 - v6) * *(float *)v7 - (v19 - v21) * *(float *)(v7 + 8) + v12 * *(float *)(v7 + 12);
  v14 = *(float *)v5 * *(float *)(v4 + 4);
  v15 = *(float *)v4 * *(float *)(v5 + 4);
  v16 = v20 * *(float *)v7 - (v21 - v19) * *(float *)(v7 + 4) + (v14 - v15) * *(float *)(v7 + 12);
  result = a1;
  v18 = (v10 - v9) * *(float *)v7 - v12 * *(float *)(v7 + 4) + (v15 - v14) * *(float *)(v7 + 8);
  *(float *)a1 = v11;
  *(float *)(a1 + 4) = v13;
  *(float *)(a1 + 8) = v16;
  *(float *)(a1 + 12) = v18;
  return result;
}

//----- (00445374) --------------------------------------------------------
int sub_445374()
{
  sub_4492FA(1u);
  return off_52A660();
}
// 52A660: using guessed type int (*off_52A660)(void);

//----- (00445381) --------------------------------------------------------
int __stdcall sub_445381(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A710(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A710: using guessed type int (__stdcall *off_52A710)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004453AB) --------------------------------------------------------
int __stdcall sub_4453AB(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST10_4@1
  float v10; // ST08_4@1
  float v11; // ST0C_4@1
  double v12; // st6@1
  double v13; // st5@1
  double v14; // st4@1
  double v15; // st3@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8;
  v10 = v8 + v8;
  v11 = 3.0 * v6;
  v12 = v10 - v11 + 1.0;
  v13 = v9 - (v6 + v6) + a6;
  v14 = v11 - v10;
  v15 = v9 - v6;
  *(float *)a1 = v12 * *(float *)a2 + v13 * *(float *)a3 + v14 * *(float *)a4 + v15 * *(float *)a5;
  *(float *)(a1 + 4) = v15 * *(float *)(a5 + 4)
                     + v14 * *(float *)(a4 + 4)
                     + v13 * *(float *)(a3 + 4)
                     + v12 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v15 * *(float *)(a5 + 8)
                     + v14 * *(float *)(a4 + 8)
                     + v13 * *(float *)(a3 + 8)
                     + v12 * *(float *)(a2 + 8);
  *(float *)(a1 + 12) = v15 * *(float *)(a5 + 12)
                      + v14 * *(float *)(a4 + 12)
                      + v13 * *(float *)(a3 + 12)
                      + v12 * *(float *)(a2 + 12);
  return result;
}

//----- (0044547C) --------------------------------------------------------
int __stdcall sub_44547C(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A714(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A714: using guessed type int (__stdcall *off_52A714)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004454A6) --------------------------------------------------------
int __stdcall sub_4454A6(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  *(float *)(a1 + 8) = (v11 * *(float *)(a5 + 8)
                      + v12 * *(float *)(a4 + 8)
                      + v10 * *(float *)(a3 + 8)
                      + v9 * *(float *)(a2 + 8))
                     * 0.5;
  *(float *)(a1 + 12) = (v11 * *(float *)(a5 + 12)
                       + v12 * *(float *)(a4 + 12)
                       + v10 * *(float *)(a3 + 12)
                       + v9 * *(float *)(a2 + 12))
                      * 0.5;
  return result;
}

//----- (00445599) --------------------------------------------------------
int __stdcall sub_445599(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_4492FA(1u);
  return off_52A718(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 52A718: using guessed type int (__stdcall *off_52A718)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004455C8) --------------------------------------------------------
int __stdcall sub_4455C8(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // ecx@1
  int result; // eax@1

  v6 = a2;
  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(v6 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(v6 + 4)) * a6
                     + *(float *)(v6 + 4);
  *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(v6 + 8)) * a5
                     + (*(float *)(a4 + 8) - *(float *)(v6 + 8)) * a6
                     + *(float *)(v6 + 8);
  *(float *)(a1 + 12) = (*(float *)(a3 + 12) - *(float *)(v6 + 12)) * a5
                      + (*(float *)(a4 + 12) - *(float *)(a2 + 12)) * a6
                      + *(float *)(v6 + 12);
  return result;
}

//----- (0044563F) --------------------------------------------------------
int sub_44563F()
{
  sub_4492FA(1u);
  return off_52A648();
}
// 52A648: using guessed type int (*off_52A648)(void);

//----- (0044564C) --------------------------------------------------------
int __stdcall sub_44564C(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 48) * *(float *)(a2 + 12)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 52) * *(float *)(a2 + 12)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 36) * *(float *)(a2 + 8);
  v5 = *(float *)(a3 + 56) * *(float *)(a2 + 12)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 40) * *(float *)(a2 + 8);
  result = a1;
  v7 = *(float *)(a3 + 60) * *(float *)(a2 + 12)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 44) * *(float *)(a2 + 8);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (004456EB) --------------------------------------------------------
int sub_4456EB()
{
  sub_4492FA(1u);
  return off_52A744();
}
// 52A744: using guessed type int (*off_52A744)(void);

//----- (004456FC) --------------------------------------------------------
int __stdcall sub_4456FC(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // ecx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4)
          + *(float *)(a5 + 32) * *(float *)(v8 + 8)
          + *(float *)(v8 + 12) * *(float *)(a5 + 48)
          + *(float *)v8 * *(float *)a5;
      v11 = *(float *)(a5 + 20) * *(float *)(v8 + 4)
          + *(float *)(a5 + 52) * *(float *)(v8 + 12)
          + *(float *)(a5 + 36) * *(float *)(v8 + 8)
          + *(float *)v8 * *(float *)(a5 + 4);
      v12 = *(float *)(a5 + 8) * *(float *)v8
          + *(float *)(a5 + 24) * *(float *)(v8 + 4)
          + *(float *)(a5 + 40) * *(float *)(v8 + 8)
          + *(float *)(v8 + 12) * *(float *)(a5 + 56);
      v13 = *(float *)(v8 + 12) * *(float *)(a5 + 60)
          + *(float *)(a5 + 12) * *(float *)v8
          + *(float *)(a5 + 28) * *(float *)(v8 + 4);
      v14 = *(float *)(a5 + 44) * *(float *)(v8 + 8);
      v8 += a4;
      --v6;
      v15 = v13 + v14;
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (004457BB) --------------------------------------------------------
int sub_4457BB()
{
  sub_4492FA(1u);
  return off_52A66C();
}
// 52A66C: using guessed type int (*off_52A66C)(void);

//----- (004457C8) --------------------------------------------------------
double __stdcall sub_4457C8(int a1)
{
  int v1; // eax@1
  double v2; // st7@1
  double v3; // st6@1
  double v4; // st5@1
  double v5; // st4@1
  double v6; // st3@1
  float v8; // [sp+8h] [bp+8h]@1

  v1 = a1;
  v2 = *(float *)(a1 + 40) * *(float *)(a1 + 60) - *(float *)(a1 + 56) * *(float *)(a1 + 44);
  v3 = *(float *)(a1 + 60) * *(float *)(a1 + 36) - *(float *)(a1 + 52) * *(float *)(a1 + 44);
  v4 = *(float *)(a1 + 56) * *(float *)(a1 + 36) - *(float *)(a1 + 40) * *(float *)(a1 + 52);
  v5 = *(float *)(a1 + 32) * *(float *)(a1 + 60) - *(float *)(a1 + 48) * *(float *)(a1 + 44);
  v6 = *(float *)(a1 + 56) * *(float *)(a1 + 32) - *(float *)(a1 + 48) * *(float *)(a1 + 40);
  v8 = *(float *)(a1 + 32) * *(float *)(a1 + 52) - *(float *)(a1 + 48) * *(float *)(a1 + 36);
  return (v2 * *(float *)(v1 + 20) - v3 * *(float *)(v1 + 24) + v4 * *(float *)(v1 + 28)) * *(float *)v1
       - (v2 * *(float *)(v1 + 16) - v5 * *(float *)(v1 + 24) + v6 * *(float *)(v1 + 28)) * *(float *)(v1 + 4)
       + (v3 * *(float *)(v1 + 16) - v5 * *(float *)(v1 + 20) + v8 * *(float *)(v1 + 28)) * *(float *)(v1 + 8)
       - (v4 * *(float *)(v1 + 16) - v6 * *(float *)(v1 + 20) + v8 * *(float *)(v1 + 24)) * *(float *)(v1 + 12);
}

//----- (00445892) --------------------------------------------------------
int sub_445892()
{
  sub_4492FA(1u);
  return off_52A64C();
}
// 52A64C: using guessed type int (*off_52A64C)(void);

//----- (004458A5) --------------------------------------------------------
char *__stdcall sub_4458A5(char *a1, int a2, int a3)
{
  char *result; // eax@1
  char *v4; // esi@2
  char v5; // [sp+4h] [bp-40h]@3

  result = a1;
  if ( a1 == (char *)a2 || (v4 = a1, a1 == (char *)a3) )
    v4 = &v5;
  *(float *)v4 = *(float *)(a2 + 12) * *(float *)(a3 + 48)
               + *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 16) * *(float *)(a2 + 4);
  *((float *)v4 + 1) = *(float *)(a2 + 4) * *(float *)(a3 + 20)
                     + *(float *)(a2 + 12) * *(float *)(a3 + 52)
                     + *(float *)(a2 + 8) * *(float *)(a3 + 36)
                     + *(float *)(a3 + 4) * *(float *)a2;
  *((float *)v4 + 2) = *(float *)(a2 + 12) * *(float *)(a3 + 56)
                     + *(float *)(a3 + 8) * *(float *)a2
                     + *(float *)(a2 + 8) * *(float *)(a3 + 40)
                     + *(float *)(a3 + 24) * *(float *)(a2 + 4);
  *((float *)v4 + 3) = *(float *)(a2 + 12) * *(float *)(a3 + 60)
                     + *(float *)(a3 + 44) * *(float *)(a2 + 8)
                     + *(float *)a2 * *(float *)(a3 + 12)
                     + *(float *)(a3 + 28) * *(float *)(a2 + 4);
  *((float *)v4 + 4) = *(float *)(a2 + 28) * *(float *)(a3 + 48)
                     + *(float *)(a2 + 16) * *(float *)a3
                     + *(float *)(a3 + 16) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 32);
  *((float *)v4 + 5) = *(float *)(a2 + 24) * *(float *)(a3 + 36)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 52)
                     + *(float *)(a3 + 20) * *(float *)(a2 + 20)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 16);
  *((float *)v4 + 6) = *(float *)(a3 + 24) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 56)
                     + *(float *)(a3 + 8) * *(float *)(a2 + 16)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 40);
  *((float *)v4 + 7) = *(float *)(a3 + 28) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 60)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 44)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 12);
  *((float *)v4 + 8) = *(float *)(a2 + 44) * *(float *)(a3 + 48)
                     + *(float *)(a2 + 32) * *(float *)a3
                     + *(float *)(a3 + 16) * *(float *)(a2 + 36)
                     + *(float *)(a2 + 40) * *(float *)(a3 + 32);
  *((float *)v4 + 9) = *(float *)(a2 + 44) * *(float *)(a3 + 52)
                     + *(float *)(a2 + 40) * *(float *)(a3 + 36)
                     + *(float *)(a3 + 20) * *(float *)(a2 + 36)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 32);
  *((float *)v4 + 10) = *(float *)(a3 + 24) * *(float *)(a2 + 36)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 32)
                      + *(float *)(a2 + 44) * *(float *)(a3 + 56)
                      + *(float *)(a2 + 40) * *(float *)(a3 + 40);
  *((float *)v4 + 11) = *(float *)(a2 + 44) * *(float *)(a3 + 60)
                      + *(float *)(a2 + 40) * *(float *)(a3 + 44)
                      + *(float *)(a3 + 28) * *(float *)(a2 + 36)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 12);
  *((float *)v4 + 12) = *(float *)(a2 + 60) * *(float *)(a3 + 48)
                      + *(float *)(a2 + 48) * *(float *)a3
                      + *(float *)(a3 + 16) * *(float *)(a2 + 52)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 32);
  *((float *)v4 + 13) = *(float *)(a2 + 60) * *(float *)(a3 + 52)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 36)
                      + *(float *)(a3 + 20) * *(float *)(a2 + 52)
                      + *(float *)(a3 + 4) * *(float *)(a2 + 48);
  *((float *)v4 + 14) = *(float *)(a3 + 24) * *(float *)(a2 + 52)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 48)
                      + *(float *)(a2 + 60) * *(float *)(a3 + 56)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 40);
  *((float *)v4 + 15) = *(float *)(a2 + 60) * *(float *)(a3 + 60)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 44)
                      + *(float *)(a3 + 28) * *(float *)(a2 + 52)
                      + *(float *)(a2 + 48) * *(float *)(a3 + 12);
  if ( v4 != a1 )
    qmemcpy(a1, v4, 0x40u);
  return result;
}

//----- (00445ADB) --------------------------------------------------------
int sub_445ADB()
{
  sub_4492FA(1u);
  return off_52A6D4();
}
// 52A6D4: using guessed type int (*off_52A6D4)(void);

//----- (00445AEE) --------------------------------------------------------
int __stdcall sub_445AEE(int a1, int a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st7@1
  double v5; // st7@1
  double v6; // st7@1
  double v7; // st7@1
  double v8; // st7@1

  v2 = *(float *)(a2 + 4);
  result = a1;
  *(float *)(a1 + 4) = *(float *)(a2 + 16);
  *(float *)(a1 + 16) = v2;
  v4 = *(float *)(a2 + 8);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 32);
  *(float *)(a1 + 32) = v4;
  v5 = *(float *)(a2 + 12);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 48);
  *(float *)(a1 + 48) = v5;
  v6 = *(float *)(a2 + 24);
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 36);
  *(float *)(a1 + 36) = v6;
  v7 = *(float *)(a2 + 28);
  *(_DWORD *)(a1 + 28) = *(_DWORD *)(a2 + 52);
  *(float *)(a1 + 52) = v7;
  v8 = *(float *)(a2 + 44);
  *(_DWORD *)(a1 + 44) = *(_DWORD *)(a2 + 56);
  *(float *)(a1 + 56) = v8;
  if ( a1 != a2 )
  {
    *(_DWORD *)a1 = *(_DWORD *)a2;
    *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)(a1 + 40) = *(_DWORD *)(a2 + 40);
    *(_DWORD *)(a1 + 60) = *(_DWORD *)(a2 + 60);
  }
  return result;
}

//----- (00445B5B) --------------------------------------------------------
int sub_445B5B()
{
  sub_4492FA(1u);
  return off_52A650();
}
// 52A650: using guessed type int (*off_52A650)(void);

//----- (00445B68) --------------------------------------------------------
char *__stdcall sub_445B68(char *a1, int a2, int a3)
{
  char *result; // eax@1
  char *v4; // esi@2
  char v5; // [sp+4h] [bp-40h]@3

  result = a1;
  if ( a1 == (char *)a2 || (v4 = a1, a1 == (char *)a3) )
    v4 = &v5;
  *(float *)v4 = *(float *)(a2 + 12) * *(float *)(a3 + 48)
               + *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 16) * *(float *)(a2 + 4);
  *((float *)v4 + 1) = *(float *)(a2 + 16) * *(float *)a3
                     + *(float *)(a3 + 48) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 32) * *(float *)(a2 + 24)
                     + *(float *)(a3 + 16) * *(float *)(a2 + 20);
  *((float *)v4 + 2) = *(float *)(a2 + 40) * *(float *)(a3 + 32)
                     + *(float *)(a2 + 36) * *(float *)(a3 + 16)
                     + *(float *)(a3 + 48) * *(float *)(a2 + 44)
                     + *(float *)(a2 + 32) * *(float *)a3;
  *((float *)v4 + 3) = *(float *)(a2 + 52) * *(float *)(a3 + 16)
                     + *(float *)(a2 + 60) * *(float *)(a3 + 48)
                     + *(float *)a3 * *(float *)(a2 + 48)
                     + *(float *)(a2 + 56) * *(float *)(a3 + 32);
  *((float *)v4 + 4) = *(float *)(a3 + 36) * *(float *)(a2 + 8)
                     + *(float *)(a3 + 4) * *(float *)a2
                     + *(float *)(a3 + 52) * *(float *)(a2 + 12)
                     + *(float *)(a2 + 4) * *(float *)(a3 + 20);
  *((float *)v4 + 5) = *(float *)(a3 + 52) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 24)
                     + *(float *)(a2 + 20) * *(float *)(a3 + 20)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 4);
  *((float *)v4 + 6) = *(float *)(a2 + 36) * *(float *)(a3 + 20)
                     + *(float *)(a3 + 52) * *(float *)(a2 + 44)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 40)
                     + *(float *)(a2 + 32) * *(float *)(a3 + 4);
  *((float *)v4 + 7) = *(float *)(a2 + 52) * *(float *)(a3 + 20)
                     + *(float *)(a3 + 52) * *(float *)(a2 + 60)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 56)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 48);
  *((float *)v4 + 8) = *(float *)(a3 + 40) * *(float *)(a2 + 8)
                     + *(float *)(a3 + 8) * *(float *)a2
                     + *(float *)(a2 + 4) * *(float *)(a3 + 24)
                     + *(float *)(a3 + 56) * *(float *)(a2 + 12);
  *((float *)v4 + 9) = *(float *)(a3 + 56) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 40) * *(float *)(a2 + 24)
                     + *(float *)(a2 + 20) * *(float *)(a3 + 24)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 8);
  *((float *)v4 + 10) = *(float *)(a2 + 36) * *(float *)(a3 + 24)
                      + *(float *)(a3 + 56) * *(float *)(a2 + 44)
                      + *(float *)(a3 + 40) * *(float *)(a2 + 40)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 8);
  *((float *)v4 + 11) = *(float *)(a2 + 52) * *(float *)(a3 + 24)
                      + *(float *)(a3 + 56) * *(float *)(a2 + 60)
                      + *(float *)(a3 + 40) * *(float *)(a2 + 56)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 48);
  *((float *)v4 + 12) = *(float *)(a3 + 44) * *(float *)(a2 + 8)
                      + *(float *)(a3 + 12) * *(float *)a2
                      + *(float *)(a2 + 4) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 12);
  *((float *)v4 + 13) = *(float *)(a3 + 60) * *(float *)(a2 + 28)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 24)
                      + *(float *)(a2 + 20) * *(float *)(a3 + 28)
                      + *(float *)(a2 + 16) * *(float *)(a3 + 12);
  *((float *)v4 + 14) = *(float *)(a2 + 36) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 44)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 40)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 12);
  *((float *)v4 + 15) = *(float *)(a2 + 52) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 60)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 56)
                      + *(float *)(a3 + 12) * *(float *)(a2 + 48);
  if ( v4 != a1 )
    qmemcpy(a1, v4, 0x40u);
  return result;
}

//----- (00445D9E) --------------------------------------------------------
int sub_445D9E()
{
  sub_4492FA(1u);
  return off_52A688();
}
// 52A688: using guessed type int (*off_52A688)(void);

//----- (00445DB1) --------------------------------------------------------
int __stdcall sub_445DB1(int a1, float *a2, int a3)
{
  int v3; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  float v6; // ST40_4@1
  float v7; // ST3C_4@1
  float v8; // ST44_4@1
  float v9; // ST58_4@1
  float v10; // ST48_4@1
  float v11; // ST50_4@1
  float v12; // ST4C_4@1
  float v13; // ST54_4@1
  float v14; // ST30_4@1
  float v15; // ST24_4@1
  float v16; // ST28_4@1
  double v17; // st7@1
  float v18; // ST2C_4@1
  double v19; // st7@1
  double v20; // st6@1
  double v21; // st5@1
  float v22; // ST34_4@1
  double v23; // st4@1
  float v24; // ST3C_4@1
  double v25; // st3@1
  float v26; // ST38_4@1
  double v27; // st2@1
  float v28; // ST58_4@1
  float v29; // ST50_4@1
  float v30; // ST54_4@1
  double v31; // st7@1
  double v32; // st6@1
  double v33; // st5@1
  double v34; // st3@1
  float v35; // ST58_4@1
  double v36; // st4@1
  double v37; // st3@1
  double v38; // st2@1
  float v39; // ST2C_4@6
  double v40; // st7@1
  int result; // eax@4
  float v42; // [sp+8h] [bp-54h]@1
  float v43; // [sp+Ch] [bp-50h]@1
  float v44; // [sp+10h] [bp-4Ch]@1
  float v45; // [sp+14h] [bp-48h]@1
  float v46; // [sp+18h] [bp-44h]@1
  float v47; // [sp+1Ch] [bp-40h]@1
  float v48; // [sp+20h] [bp-3Ch]@1
  float v49; // [sp+28h] [bp-34h]@1
  float v50; // [sp+30h] [bp-2Ch]@1
  float v51; // [sp+34h] [bp-28h]@1
  float v52; // [sp+38h] [bp-24h]@1
  float v53; // [sp+3Ch] [bp-20h]@1
  float v54; // [sp+40h] [bp-1Ch]@1
  float v55; // [sp+44h] [bp-18h]@1
  float v56; // [sp+48h] [bp-14h]@1
  float v57; // [sp+4Ch] [bp-10h]@1
  float v58; // [sp+54h] [bp-8h]@5
  float v59; // [sp+58h] [bp-4h]@1
  float v60; // [sp+6Ch] [bp+10h]@1
  float v61; // [sp+6Ch] [bp+10h]@1
  float v62; // [sp+6Ch] [bp+10h]@1
  float v63; // [sp+6Ch] [bp+10h]@1

  v3 = a3;
  v4 = *(float *)a3;
  v5 = *(float *)(a3 + 4);
  v6 = *(float *)(a3 + 16);
  v7 = *(float *)(a3 + 20);
  v8 = *(float *)(a3 + 32);
  v9 = *(float *)(a3 + 36);
  v10 = *(float *)(a3 + 48);
  v60 = *(float *)(a3 + 52);
  v11 = v7 * v4 - v6 * v5;
  v12 = *(float *)(v3 + 56);
  v13 = v9 * v4 - v8 * v5;
  v14 = v60 * v4 - v10 * v5;
  v15 = v9 * v6 - v8 * v7;
  v16 = v60 * v6 - v10 * v7;
  v17 = v60;
  v61 = *(float *)(v3 + 60);
  v18 = v17 * v8 - v10 * v9;
  v19 = *(float *)(v3 + 8);
  v20 = *(float *)(v3 + 12);
  v21 = *(float *)(v3 + 24);
  v22 = *(float *)(v3 + 24);
  v23 = *(float *)(v3 + 28);
  v24 = *(float *)(v3 + 28);
  v25 = *(float *)(v3 + 40);
  v26 = *(float *)(v3 + 40);
  v27 = *(float *)(v3 + 44);
  v28 = *(float *)(v3 + 44);
  v42 = v19 * v15 - v21 * v13 + v25 * v11;
  v43 = v21 * v14 - v12 * v11 - v19 * v16;
  v44 = v19 * v18 - v25 * v14 + v12 * v13;
  v45 = v25 * v16 - v12 * v15 - v21 * v18;
  v46 = v13 * v23 - v11 * v27 - v15 * v20;
  v47 = v16 * v20 - v14 * v23 + v11 * v61;
  v48 = v14 * v27 - v13 * v61 - v18 * v20;
  v50 = v18 * v23 - v16 * v27 + v15 * v61;
  v29 = v19 * v23 - v21 * v20;
  v30 = v19 * v28 - v26 * v20;
  v31 = v19 * v61 - v12 * v20;
  v54 = *(float *)(v3 + 16);
  v55 = *(float *)(v3 + 32);
  v32 = v22 * v28 - v26 * v24;
  v33 = v22 * v61 - v12 * v24;
  v34 = v12 * v28;
  v35 = *(float *)(v3 + 36);
  v56 = *(float *)(v3 + 48);
  v36 = v26 * v61 - v34;
  v37 = *(float *)(v3 + 4);
  v38 = *(float *)(v3 + 20);
  v62 = *(float *)(v3 + 52);
  v57 = v30 * v38 - v29 * v35 - v32 * v37;
  v52 = v33 * v37 - v31 * v38 + v29 * v62;
  v51 = v31 * v35 - v30 * v62 - v36 * v37;
  v49 = v36 * v38 - v33 * v35 + v32 * v62;
  v63 = v32 * *(float *)v3 - v30 * v54 + v29 * v55;
  v59 = v31 * v54 - v29 * v56 - v33 * *(float *)v3;
  v53 = *(float *)v3 * v36 - v31 * v55 + v30 * v56;
  v40 = v57 * v56 + v52 * v55 + v51 * v54 + v49 * *(float *)v3;
  if ( a2 )
    *a2 = v40;
  if ( 0.0 == v40 )
  {
    result = 0;
  }
  else
  {
    v58 = 1.0 / v40;
    result = _finite(v58);
    if ( result )
    {
      result = a1;
      *(float *)a1 = v49 * v58;
      *(float *)(a1 + 4) = v51 * v58;
      *(float *)(a1 + 8) = v52 * v58;
      *(float *)(a1 + 12) = v57 * v58;
      v39 = v33 * v55 - v32 * v56 - v36 * v54;
      *(float *)(a1 + 16) = v39 * v58;
      *(float *)(a1 + 20) = v53 * v58;
      *(float *)(a1 + 24) = v59 * v58;
      *(float *)(a1 + 28) = v63 * v58;
      *(float *)(a1 + 32) = v50 * v58;
      *(float *)(a1 + 36) = v48 * v58;
      *(float *)(a1 + 40) = v47 * v58;
      *(float *)(a1 + 44) = v46 * v58;
      *(float *)(a1 + 48) = v45 * v58;
      *(float *)(a1 + 52) = v44 * v58;
      *(float *)(a1 + 56) = v43 * v58;
      *(float *)(a1 + 60) = v42 * v58;
    }
  }
  return result;
}

//----- (00446150) --------------------------------------------------------
int __stdcall sub_446150(int a1, float a2, float a3, float a4)
{
  sub_4492FA(1u);
  return off_52A6C4(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 52A6C4: using guessed type int (__stdcall *off_52A6C4)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0044617E) --------------------------------------------------------
int __stdcall sub_44617E(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 56) = 0.0;
  *(_DWORD *)a1 = a2;
  *(float *)(a1 + 52) = 0.0;
  *(_DWORD *)(a1 + 20) = a3;
  *(float *)(a1 + 48) = 0.0;
  *(_DWORD *)(a1 + 40) = a4;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (004461DA) --------------------------------------------------------
int __stdcall sub_4461DA(int a1, float a2, float a3, float a4)
{
  sub_4492FA(1u);
  return off_52A6A8(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 52A6A8: using guessed type int (__stdcall *off_52A6A8)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00446208) --------------------------------------------------------
int __stdcall sub_446208(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 44) = 0.0;
  *(_DWORD *)(a1 + 48) = a2;
  *(float *)(a1 + 36) = 0.0;
  *(_DWORD *)(a1 + 52) = a3;
  *(float *)(a1 + 32) = 0.0;
  *(_DWORD *)(a1 + 56) = a4;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  *(float *)(a1 + 40) = 1.0;
  *(float *)(a1 + 20) = 1.0;
  *(float *)a1 = 1.0;
  return result;
}

//----- (00446264) --------------------------------------------------------
int __stdcall sub_446264(int a1, float a2)
{
  sub_4492FA(1u);
  return off_52A6B8(a1, LODWORD(a2));
}
// 52A6B8: using guessed type int (__stdcall *off_52A6B8)(_DWORD, _DWORD);

//----- (00446280) --------------------------------------------------------
int __stdcall sub_446280(int a1, float a2)
{
  int result; // eax@1
  float v3; // ecx@1
  double v4; // st7@1
  float v5; // [sp+8h] [bp-8h]@1
  float v6; // [sp+Ch] [bp-4h]@1

  v5 = cos(a2);
  v6 = sin(a2);
  result = a1;
  *(float *)a1 = 1.0;
  v3 = v6;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 24) = v3;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  v4 = v5;
  *(float *)(a1 + 20) = v5;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = -v6;
  *(float *)(a1 + 40) = v4;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (004462FA) --------------------------------------------------------
int __stdcall sub_4462FA(int a1, float a2)
{
  sub_4492FA(1u);
  return off_52A6BC(a1, LODWORD(a2));
}
// 52A6BC: using guessed type int (__stdcall *off_52A6BC)(_DWORD, _DWORD);

//----- (00446316) --------------------------------------------------------
int __stdcall sub_446316(int a1, float a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st6@1
  float v5; // [sp+8h] [bp-8h]@1
  float v6; // [sp+Ch] [bp-4h]@1

  v6 = cos(a2);
  v5 = sin(a2);
  v2 = v6;
  result = a1;
  *(float *)a1 = v6;
  *(float *)(a1 + 4) = 0.0;
  v4 = v5;
  *(float *)(a1 + 8) = -v5;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 20) = 1.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v4;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 40) = v2;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (00446391) --------------------------------------------------------
int __stdcall sub_446391(int a1, float a2)
{
  sub_4492FA(1u);
  return off_52A6C0(a1, LODWORD(a2));
}
// 52A6C0: using guessed type int (__stdcall *off_52A6C0)(_DWORD, _DWORD);

//----- (004463AD) --------------------------------------------------------
int __stdcall sub_4463AD(int a1, float a2)
{
  double v2; // st7@1
  int result; // eax@1
  float v4; // [sp+8h] [bp-8h]@1
  float v5; // [sp+Ch] [bp-4h]@1

  v4 = cos(a2);
  v5 = sin(a2);
  v2 = v4;
  result = a1;
  *(float *)a1 = v4;
  *(float *)(a1 + 4) = v5;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = -v5;
  *(float *)(a1 + 20) = v2;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 40) = 1.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (00446429) --------------------------------------------------------
int __stdcall sub_446429(int a1, int a2, float a3)
{
  sub_4492FA(1u);
  return off_52A6E8(a1, a2, LODWORD(a3));
}
// 52A6E8: using guessed type int (__stdcall *off_52A6E8)(_DWORD, _DWORD, _DWORD);

//----- (00446449) --------------------------------------------------------
int __stdcall sub_446449(int a1, int a2, float a3)
{
  int result; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  double v8; // st3@1
  double v9; // st2@1
  double v10; // st3@1
  float v11; // [sp+8h] [bp-1Ch]@1
  float v12; // [sp+Ch] [bp-18h]@1
  float v13; // [sp+10h] [bp-14h]@1
  float *v14; // [sp+14h] [bp-10h]@1
  float *v15; // [sp+18h] [bp-Ch]@1
  float v16; // [sp+1Ch] [bp-8h]@1
  float v17; // [sp+20h] [bp-4h]@1
  int v18; // [sp+30h] [bp+Ch]@1
  float v19; // [sp+34h] [bp+10h]@1
  float v20; // [sp+34h] [bp+10h]@1

  v15 = &v17;
  v14 = &v16;
  v17 = cos(a3);
  v16 = sin(a3);
  v11 = *(float *)a2;
  v19 = 1.0 - v17;
  v12 = *(float *)(a2 + 4);
  v13 = *(float *)(a2 + 8);
  sub_444D4C(&v11, &v11);
  result = a1;
  v4 = v19;
  v20 = v12 * v11 * v19;
  v5 = v13;
  v6 = v12 * v13 * v4;
  v7 = v13 * v11 * v4;
  *(float *)a1 = v11 * v11 * v4 + v17;
  v8 = v5 * v16;
  *(float *)(a1 + 4) = v20 + v8;
  v9 = v12 * v16;
  *(float *)&v18 = v9;
  *(float *)(a1 + 8) = v7 - v9;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v20 - v8;
  *(float *)(a1 + 20) = v12 * v12 * v4 + v17;
  v10 = v11 * v16;
  *(float *)(a1 + 24) = v10 + v6;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = *(float *)&v18 + v7;
  *(float *)(a1 + 36) = v6 - v10;
  *(float *)(a1 + 40) = v5 * v5 * v4 + v17;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 444D4C: using guessed type int __stdcall sub_444D4C(_DWORD, _DWORD);

//----- (0044654B) --------------------------------------------------------
int sub_44654B()
{
  sub_4492FA(1u);
  return off_52A6D8();
}
// 52A6D8: using guessed type int (*off_52A6D8)(void);

//----- (0044655E) --------------------------------------------------------
int __stdcall sub_44655E(int a1, int a2)
{
  int v2; // eax@1
  float v3; // ST0C_4@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  float v8; // ST00_4@1
  float v9; // ST0C_4@1
  float v10; // ST08_4@1
  float v11; // ST04_4@1
  double v12; // st3@1
  int result; // eax@1
  double v14; // st2@1
  float v15; // [sp+18h] [bp+8h]@1
  float v16; // [sp+1Ch] [bp+Ch]@1
  float v17; // [sp+1Ch] [bp+Ch]@1

  v2 = a2;
  v3 = *(float *)a2 * 2.0;
  v16 = *(float *)(a2 + 4) * 2.0;
  v4 = 2.0 * *(float *)(v2 + 8);
  v5 = v3 * *(float *)(v2 + 12);
  v6 = v16 * *(float *)(v2 + 12);
  v7 = v4 * *(float *)(v2 + 12);
  v8 = v3 * *(float *)v2;
  v9 = v16 * *(float *)v2;
  v10 = v4 * *(float *)v2;
  v11 = v16 * *(float *)(v2 + 4);
  v17 = v4 * *(float *)(v2 + 4);
  v12 = v4 * *(float *)(v2 + 8);
  result = a1;
  *(float *)a1 = 1.0 - v11 - v12;
  *(float *)(a1 + 4) = v9 + v7;
  *(float *)(a1 + 8) = v10 - v6;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v9 - v7;
  v14 = 1.0 - v8;
  v15 = v14;
  *(float *)(result + 20) = v14 - v12;
  *(float *)(result + 24) = v17 + v5;
  *(float *)(result + 28) = 0.0;
  *(float *)(result + 32) = v10 + v6;
  *(float *)(result + 36) = v17 - v5;
  *(float *)(result + 40) = v15 - v11;
  *(float *)(result + 44) = 0.0;
  *(float *)(result + 48) = 0.0;
  *(float *)(result + 52) = 0.0;
  *(float *)(result + 56) = 0.0;
  *(float *)(result + 60) = 1.0;
  return result;
}

//----- (00446640) --------------------------------------------------------
int __stdcall sub_446640(int a1, float a2, float a3, float a4)
{
  sub_4492FA(1u);
  return off_52A6E0(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 52A6E0: using guessed type int (__stdcall *off_52A6E0)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0044666E) --------------------------------------------------------
int sub_44666E()
{
  sub_4492FA(1u);
  return off_52A6DC();
}
// 52A6DC: using guessed type int (*off_52A6DC)(void);

//----- (0044667F) --------------------------------------------------------
int __stdcall sub_44667F(int a1, float a2, int a3, int a4, int a5)
{
  sub_4492FA(1u);
  return off_52A6E4(a1, LODWORD(a2), a3, a4, a5);
}
// 52A6E4: using guessed type int (__stdcall *off_52A6E4)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004466A6) --------------------------------------------------------
int __stdcall sub_4466A6(int a1, float a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+10h] [bp-40h]@2
  char v10; // [sp+1Ch] [bp-34h]@3

  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)a1 = a2;
  *(float *)(a1 + 20) = a2;
  *(float *)(a1 + 40) = a2;
  *(float *)(a1 + 60) = 1.0;
  if ( a4 )
  {
    sub_446558(&v9, a4, v6, v7, v8);
    if ( a3 )
    {
      *(float *)(a1 + 48) = *(float *)(a1 + 48) - *(float *)a3;
      *(float *)(a1 + 52) = *(float *)(a1 + 52) - *(float *)(a3 + 4);
      *(float *)(a1 + 56) = *(float *)(a1 + 56) - *(float *)(a3 + 8);
      sub_44589F(a1, a1, &v10);
      *(float *)(a1 + 48) = *(float *)a3 + *(float *)(a1 + 48);
      *(float *)(a1 + 52) = *(float *)(a1 + 52) + *(float *)(a3 + 4);
      *(float *)(a1 + 56) = *(float *)(a3 + 8) + *(float *)(a1 + 56);
    }
    else
    {
      sub_44589F(a1, a1, &v10);
    }
  }
  if ( a5 )
  {
    *(float *)(a1 + 48) = *(float *)a5 + *(float *)(a1 + 48);
    *(float *)(a1 + 52) = *(float *)(a5 + 4) + *(float *)(a1 + 52);
    *(float *)(a1 + 56) = *(float *)(a5 + 8) + *(float *)(a1 + 56);
  }
  return a1;
}
// 44589F: using guessed type int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD);
// 446558: using guessed type int __stdcall sub_446558(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0044678C) --------------------------------------------------------
int sub_44678C()
{
  sub_4492FA(1u);
  return off_52A6AC();
}
// 52A6AC: using guessed type int (*off_52A6AC)(void);

//----- (00446799) --------------------------------------------------------
int sub_446799()
{
  sub_4492FA(1u);
  return off_52A6B0();
}
// 52A6B0: using guessed type int (*off_52A6B0)(void);

//----- (004467A6) --------------------------------------------------------
int sub_4467A6()
{
  sub_4492FA(1u);
  return off_52A69C();
}
// 52A69C: using guessed type int (*off_52A69C)(void);

//----- (004467B3) --------------------------------------------------------
int __stdcall sub_4467B3(int a1, int a2, float *a3)
{
  int result; // eax@1
  long double v4; // st7@4

  result = a1;
  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)a1;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 8);
  }
  if ( a3 )
  {
    v4 = acos(*(float *)(a1 + 12));
    *a3 = v4 + v4;
  }
  return result;
}

//----- (004467E8) --------------------------------------------------------
int sub_4467E8()
{
  sub_4492FA(1u);
  return off_52A6A0();
}
// 52A6A0: using guessed type int (*off_52A6A0)(void);

//----- (004467F5) --------------------------------------------------------
int __stdcall sub_4467F5(int a1, int a2)
{
  int v2; // ecx@1
  double v3; // st7@1
  int result; // eax@2
  long double v5; // st7@2
  long double v6; // st7@2
  double v7; // st7@3
  signed int v8; // ebx@3
  double v9; // st6@3
  int v10; // edx@7
  int v11; // edi@7
  int v12; // esi@7
  long double v13; // st7@7
  long double v14; // st7@7
  long double v15; // st7@7
  double v16; // st6@7
  int v17; // ebx@7
  int v18; // edi@7
  int v19; // esi@7
  double v20; // st6@7
  int v21; // edi@7
  int v22; // [sp+0h] [bp-1Ch]@3
  int v23; // [sp+4h] [bp-18h]@3
  int v24; // [sp+8h] [bp-14h]@3
  float v25; // [sp+Ch] [bp-10h]@3
  float v26; // [sp+10h] [bp-Ch]@3
  float v27; // [sp+14h] [bp-8h]@3
  int v28; // [sp+18h] [bp-4h]@7
  int v29; // [sp+24h] [bp+8h]@7
  signed int v30; // [sp+28h] [bp+Ch]@5

  v2 = a2;
  v3 = *(float *)(a2 + 20) + *(float *)a2 + *(float *)(a2 + 40);
  if ( v3 <= 0.0 )
  {
    v24 = 0;
    v7 = *(float *)a2 - *(float *)(a2 + 20) - *(float *)(a2 + 40);
    v8 = 1;
    v25 = v7;
    v22 = 1;
    v9 = *(float *)(a2 + 20);
    v23 = 2;
    v26 = v9 - *(float *)a2 - *(float *)(a2 + 40);
    v27 = *(float *)(a2 + 40) - (*(float *)(a2 + 20) + *(float *)a2);
    if ( v7 >= v26 )
      v8 = 0;
    v30 = v8;
    if ( *(&v25 + v8) < (double)v27 )
    {
      v8 = 2;
      v30 = 2;
    }
    v10 = 4 * v8;
    result = a1;
    v12 = 4 * *(&v22 + v8);
    v13 = sqrt(*(&v25 + v8) + 1.0);
    v28 = *(&v22 + v8);
    v11 = v28;
    v14 = v13 * 0.5;
    *(float *)(v10 + a1) = v14;
    v15 = 0.25 / v14;
    v16 = *(float *)(v2 + 4 * (v12 + v8)) + *(float *)(v2 + 4 * (4 * v8 + v11));
    v17 = 4 * *(int *)((char *)&v22 + v12) + v30;
    v29 = 4 * *(int *)((char *)&v22 + v12);
    v18 = *(int *)((char *)&v22 + v12);
    *(float *)(v12 + result) = v16 * v15;
    v19 = v18 + v12;
    v20 = *(float *)(v2 + 4 * v17) + *(float *)(v2 + 4 * (v18 + v10));
    v21 = v28;
    *(float *)(v29 + result) = v20 * v15;
    *(float *)(result + 12) = (*(float *)(v2 + 4 * v19) - *(float *)(v2 + 4 * (v21 + v29))) * v15;
  }
  else
  {
    result = a1;
    v5 = sqrt(v3 + 1.0) * 0.5;
    *(float *)(a1 + 12) = v5;
    v6 = 0.25 / v5;
    *(float *)a1 = (*(float *)(a2 + 24) - *(float *)(a2 + 36)) * v6;
    *(float *)(a1 + 4) = (*(float *)(a2 + 32) - *(float *)(a2 + 8)) * v6;
    *(float *)(a1 + 8) = (*(float *)(a2 + 4) - *(float *)(a2 + 16)) * v6;
  }
  return result;
}

//----- (00446929) --------------------------------------------------------
int __stdcall sub_446929(int a1, int a2, float a3)
{
  sub_4492FA(1u);
  return off_52A6B4(a1, a2, LODWORD(a3));
}
// 52A6B4: using guessed type int (__stdcall *off_52A6B4)(_DWORD, _DWORD, _DWORD);

//----- (00446949) --------------------------------------------------------
int __stdcall sub_446949(int a1, int a2, float a3)
{
  int v3; // ecx@1
  int result; // eax@1
  float v5; // [sp+0h] [bp-14h]@1
  float v6; // [sp+4h] [bp-10h]@1
  float v7; // [sp+8h] [bp-Ch]@1
  float *v8; // [sp+10h] [bp-4h]@1
  int v9; // [sp+1Ch] [bp+8h]@1

  sub_444D4C(&v5, a2);
  v3 = a1;
  v8 = (float *)(a1 + 12);
  *(float *)&v9 = a3 * 0.5;
  *v8 = cos(*(float *)&v9);
  *(float *)&a2 = sin(*(float *)&v9);
  result = v3;
  *(float *)v3 = v5 * *(float *)&a2;
  *(float *)(v3 + 4) = v6 * *(float *)&a2;
  *(float *)(v3 + 8) = v7 * *(float *)&a2;
  return result;
}
// 444D4C: using guessed type int __stdcall sub_444D4C(_DWORD, _DWORD);

//----- (004469A5) --------------------------------------------------------
int __stdcall sub_4469A5(int a1, float a2, float a3, float a4)
{
  sub_4492FA(1u);
  return off_52A6A4(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 52A6A4: using guessed type int (__stdcall *off_52A6A4)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004469D9) --------------------------------------------------------
int __stdcall sub_4469D9(int a1, float a2, float a3, float a4)
{
  float v4; // ST08_4@1
  float v5; // ST0C_4@1
  int result; // eax@1
  double v7; // st7@1
  double v8; // st6@1
  double v9; // st7@1
  double v10; // st6@1
  float v11; // [sp+10h] [bp-10h]@1
  float v12; // [sp+14h] [bp-Ch]@1
  float v13; // [sp+18h] [bp-8h]@1
  float v14; // [sp+1Ch] [bp-4h]@1
  float v15; // [sp+30h] [bp+10h]@1
  float v16; // [sp+30h] [bp+10h]@1
  float v17; // [sp+34h] [bp+14h]@1

  v4 = a4 * 0.5;
  v14 = cos(v4);
  v17 = sin(v4);
  v15 = a3 * 0.5;
  v12 = cos(v15);
  v5 = sin(v15);
  v16 = a2 * 0.5;
  v13 = cos(v16);
  v11 = sin(v16);
  result = a1;
  v7 = v11 * v12;
  v8 = v13 * v5;
  *(float *)a1 = v14 * v8 + v7 * v17;
  *(float *)(a1 + 4) = v7 * v14 - v8 * v17;
  v9 = v13 * v12;
  v10 = v11 * v5;
  *(float *)(a1 + 8) = v9 * v17 - v10 * v14;
  *(float *)(a1 + 12) = v10 * v17 + v9 * v14;
  return result;
}

//----- (00446AB2) --------------------------------------------------------
int sub_446AB2()
{
  sub_4492FA(1u);
  return off_52A68C();
}
// 52A68C: using guessed type int (*off_52A68C)(void);

//----- (00446AC5) --------------------------------------------------------
int __stdcall sub_446AC5(int a1, int a2, int a3)
{
  double v3; // st5@1
  double v4; // st6@1
  double v5; // st7@1

  v3 = *(float *)(a3 + 12) * *(float *)(a2 + 4)
     - *(float *)a3 * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)(a2 + 12)
     + *(float *)(a3 + 8) * *(float *)a2;
  v4 = *(float *)(a3 + 12) * *(float *)(a2 + 8)
     + *(float *)a3 * *(float *)(a2 + 4)
     - *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 8) * *(float *)(a2 + 12);
  v5 = *(float *)(a3 + 12) * *(float *)(a2 + 12)
     - *(float *)a3 * *(float *)a2
     - *(float *)(a3 + 4) * *(float *)(a2 + 4)
     - *(float *)(a3 + 8) * *(float *)(a2 + 8);
  *(float *)a1 = *(float *)(a3 + 12) * *(float *)a2
               + *(float *)a3 * *(float *)(a2 + 12)
               + *(float *)(a3 + 4) * *(float *)(a2 + 8)
               - *(float *)(a3 + 8) * *(float *)(a2 + 4);
  *(float *)(a1 + 4) = v3;
  *(float *)(a1 + 8) = v4;
  *(float *)(a1 + 12) = v5;
  return a1;
}

//----- (00446B5B) --------------------------------------------------------
int sub_446B5B()
{
  sub_4492FA(1u);
  return off_52A690();
}
// 52A690: using guessed type int (*off_52A690)(void);

//----- (00446B68) --------------------------------------------------------
int __stdcall sub_446B68(int a1, int a2)
{
  float *v2; // esi@1
  int result; // eax@2
  int v4; // esi@3
  long double v5; // st7@5
  long double v6; // st7@5
  float v7; // [sp+10h] [bp-10h]@5
  float v8; // [sp+14h] [bp-Ch]@5
  float v9; // [sp+18h] [bp-8h]@5
  float v10; // [sp+1Ch] [bp-4h]@5
  float v11; // [sp+2Ch] [bp+Ch]@1

  v2 = (float *)a2;
  v11 = *(float *)a2 * *(float *)a2
      + *(float *)(a2 + 4) * *(float *)(a2 + 4)
      + *(float *)(a2 + 8) * *(float *)(a2 + 8)
      + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  if ( sub_444939(v11, 1.0) )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v11 > 1.1754944e-38 )
  {
    v5 = 1.0 / sqrt(v11);
    v7 = v5 * *v2;
    v8 = v5 * v2[1];
    v9 = v5 * v2[2];
    v6 = v5 * v2[3];
    v2 = &v7;
    v10 = v6;
LABEL_3:
    *(float *)result = *v2;
    v4 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v4;
    v4 += 4;
    *(_DWORD *)(result + 8) = *(_DWORD *)v4;
    *(_DWORD *)(result + 12) = *(_DWORD *)(v4 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  return result;
}

//----- (00446C1E) --------------------------------------------------------
int sub_446C1E()
{
  sub_4492FA(1u);
  return off_52A6F0();
}
// 52A6F0: using guessed type int (*off_52A6F0)(void);

//----- (00446C31) --------------------------------------------------------
int __stdcall sub_446C31(int a1, int a2)
{
  int v2; // edx@1
  int v3; // ecx@1
  double v4; // st7@3
  double v5; // st7@3
  float v7; // [sp+14h] [bp+Ch]@1

  v2 = a2;
  v3 = a1;
  v7 = *(float *)a2 * *(float *)a2
     + *(float *)(a2 + 4) * *(float *)(a2 + 4)
     + *(float *)(a2 + 8) * *(float *)(a2 + 8)
     + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  if ( v7 <= 1.0842022e-19 )
  {
    *(float *)a1 = 0.0;
    *(float *)(a1 + 4) = 0.0;
    *(float *)(a1 + 8) = 0.0;
    v5 = 0.0;
    goto LABEL_5;
  }
  *(float *)a1 = -*(float *)v2;
  *(float *)(a1 + 4) = -*(float *)(v2 + 4);
  *(float *)(a1 + 8) = -*(float *)(v2 + 8);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(v2 + 12);
  if ( !sub_444939(v7, 1.0) )
  {
    v4 = 1.0 / v7;
    *(float *)v3 = v4 * *(float *)v3;
    *(float *)(v3 + 4) = v4 * *(float *)(v3 + 4);
    *(float *)(v3 + 8) = v4 * *(float *)(v3 + 8);
    v5 = v4 * *(float *)(v3 + 12);
LABEL_5:
    *(float *)(v3 + 12) = v5;
  }
  return v3;
}

//----- (00446CE2) --------------------------------------------------------
int sub_446CE2()
{
  sub_4492FA(1u);
  return off_52A71C();
}
// 52A71C: using guessed type int (*off_52A71C)(void);

//----- (00446CF5) --------------------------------------------------------
int __stdcall sub_446CF5(int a1, int a2)
{
  int v2; // esi@1
  long double v3; // st7@2
  bool v4; // zf@2
  int result; // eax@2
  double v6; // st7@3
  float v7; // [sp+Ch] [bp-4h]@2
  float v8; // [sp+1Ch] [bp+Ch]@3

  v2 = a2;
  if ( *(float *)(a2 + 12) >= 1.0 )
  {
    result = a1;
    goto LABEL_5;
  }
  v3 = acos(*(float *)(a2 + 12));
  v7 = sin(v3);
  v4 = sub_444939(v7, 0.0) == 0;
  result = a1;
  if ( !v4 )
  {
LABEL_5:
    *(float *)result = *(float *)a2;
    *(_DWORD *)(result + 4) = *(_DWORD *)(a2 + 4);
    *(_DWORD *)(result + 8) = *(_DWORD *)(a2 + 8);
    goto LABEL_6;
  }
  v8 = v3;
  v6 = v8 / v7;
  *(float *)a1 = v6 * *(float *)v2;
  *(float *)(a1 + 4) = v6 * *(float *)(v2 + 4);
  *(float *)(a1 + 8) = v6 * *(float *)(v2 + 8);
LABEL_6:
  *(float *)(result + 12) = 0.0;
  return result;
}

//----- (00446D70) --------------------------------------------------------
int sub_446D70()
{
  sub_4492FA(1u);
  return off_52A720();
}
// 52A720: using guessed type int (*off_52A720)(void);

//----- (00446D83) --------------------------------------------------------
int __stdcall sub_446D83(int a1, float a2)
{
  int v2; // ecx@1
  double v3; // st7@4
  float v5; // [sp+10h] [bp-4h]@1

  v5 = sqrt(*(float *)LODWORD(a2) * *(float *)LODWORD(a2) + *(float *)(LODWORD(a2) + 4) * *(float *)(LODWORD(a2) + 4) + *(float *)(LODWORD(a2) + 8) * *(float *)(LODWORD(a2) + 8));
  *(float *)(a1 + 12) = cos(v5);
  a2 = sin(v5);
  if ( sub_444939(a2, 0.0) )
  {
    if ( a1 != v2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)v2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(v2 + 4);
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(v2 + 8);
    }
  }
  else
  {
    v3 = a2 / v5;
    *(float *)a1 = v3 * *(float *)v2;
    *(float *)(a1 + 4) = v3 * *(float *)(v2 + 4);
    *(float *)(a1 + 8) = v3 * *(float *)(v2 + 8);
  }
  return a1;
}

//----- (00446E1B) --------------------------------------------------------
int __stdcall sub_446E1B(int a1, int a2, int a3, float a4)
{
  sub_4492FA(1u);
  return off_52A6CC(a1, a2, a3, LODWORD(a4));
}
// 52A6CC: using guessed type int (__stdcall *off_52A6CC)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00446E45) --------------------------------------------------------
int __stdcall sub_446E45(int a1, int a2, int a3, float a4)
{
  int v4; // ecx@1
  double v5; // st7@1
  int v6; // edx@1
  double v7; // st6@1
  double v8; // st5@4
  long double v9; // st5@5
  float v10; // ST00_4@5
  long double v11; // st6@5
  long double v12; // st6@7
  int result; // eax@7
  float v14; // [sp+10h] [bp+Ch]@2
  int v15; // [sp+14h] [bp+10h]@4
  int v16; // [sp+14h] [bp+10h]@5

  v4 = a2;
  v5 = 1.0 - a4;
  v6 = a3;
  v7 = *(float *)a2 * *(float *)a3
     + *(float *)(a3 + 8) * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)(a2 + 12);
  if ( v7 < 0.0 )
    v14 = -1.0;
  else
    v14 = 1.0;
  v8 = v14 * v7;
  *(float *)&v15 = v8;
  if ( 1.0 - v8 <= 0.00000011920929 )
  {
    v11 = a4;
  }
  else
  {
    v9 = sqrt(1.0 - v8 * v8);
    *(float *)&v16 = atan2(*(float *)&v15, v9);
    v10 = 1.0 / v9;
    v5 = sin(*(float *)&v16 * v5) * v10;
    v11 = sin(*(float *)&v16 * a4) * v10;
  }
  v12 = v11 * v14;
  result = a1;
  *(float *)a1 = v5 * *(float *)v4 + v12 * *(float *)v6;
  *(float *)(a1 + 4) = v12 * *(float *)(v6 + 4) + v5 * *(float *)(v4 + 4);
  *(float *)(a1 + 8) = v12 * *(float *)(v6 + 8) + v5 * *(float *)(v4 + 8);
  *(float *)(a1 + 12) = v12 * *(float *)(v6 + 12) + v5 * *(float *)(v4 + 12);
  return result;
}

//----- (00446F28) --------------------------------------------------------
int __stdcall sub_446F28(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_4492FA(1u);
  return off_52A6EC(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 52A6EC: using guessed type int (__stdcall *off_52A6EC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00446F52) --------------------------------------------------------
int __stdcall sub_446F52(int a1, int a2, int a3, int a4, int a5, float a6)
{
  float v6; // ST0C_4@1
  int v8; // [sp+4h] [bp-20h]@1
  int v9; // [sp+14h] [bp-10h]@1

  sub_446E3F((int)&v8, a2, a5, a6);
  sub_446E3F((int)&v9, a3, a4, a6);
  v6 = (1.0 - a6) * a6 + (1.0 - a6) * a6;
  sub_446E3F(a1, (int)&v8, (int)&v9, v6);
  return a1;
}

//----- (00446FA9) --------------------------------------------------------
int sub_446FA9()
{
  sub_4492FA(1u);
  return off_52A6F4();
}
// 52A6F4: using guessed type int (*off_52A6F4)(void);

//----- (00446FBA) --------------------------------------------------------
int __stdcall sub_446FBA(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_4492FA(1u);
  return off_52A6D0(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 52A6D0: using guessed type int (__stdcall *off_52A6D0)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00446FE9) --------------------------------------------------------
int __stdcall sub_446FE9(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // edi@3
  float v7; // ST0C_4@4
  int v9; // [sp+Ch] [bp-20h]@4
  int v10; // [sp+1Ch] [bp-10h]@4
  float v11; // [sp+44h] [bp+18h]@1

  v11 = a5 + a6;
  if ( sub_444939(v11, 0.0) )
  {
    if ( a1 != a2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)a2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      v6 = a1 + 8;
      *(_DWORD *)v6 = *(_DWORD *)(a2 + 8);
      *(_DWORD *)(v6 + 4) = *(_DWORD *)(a2 + 12);
    }
  }
  else
  {
    sub_446E3F((int)&v9, a2, a3, v11);
    sub_446E3F((int)&v10, a2, a4, v11);
    v7 = a6 / v11;
    sub_446E3F(a1, (int)&v9, (int)&v10, v7);
  }
  return a1;
}

//----- (00447071) --------------------------------------------------------
int sub_447071()
{
  sub_4492FA(1u);
  return off_52A694();
}
// 52A694: using guessed type int (*off_52A694)(void);

//----- (00447084) --------------------------------------------------------
int __stdcall sub_447084(int a1, int a2)
{
  int v2; // esi@1
  int result; // eax@2
  int v4; // esi@3
  long double v5; // st7@5
  long double v6; // st7@5
  float v7; // [sp+18h] [bp+Ch]@1

  v2 = a2;
  v7 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4) + *(float *)(a2 + 8) * *(float *)(a2 + 8);
  if ( sub_444939(v7, 1.0) )
  {
    result = a1;
    if ( a1 != v2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)v2;
      v4 = v2 + 4;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)v4;
      v4 += 4;
      *(_DWORD *)(a1 + 8) = *(_DWORD *)v4;
      *(_DWORD *)(a1 + 12) = *(_DWORD *)(v4 + 4);
    }
  }
  else
  {
    result = a1;
    if ( v7 <= 1.1754944e-38 )
    {
      *(float *)a1 = 0.0;
      *(float *)(a1 + 4) = 0.0;
      *(float *)(a1 + 8) = 0.0;
      v6 = 0.0;
    }
    else
    {
      v5 = 1.0 / sqrt(v7);
      *(float *)a1 = v5 * *(float *)v2;
      *(float *)(a1 + 4) = v5 * *(float *)(v2 + 4);
      *(float *)(a1 + 8) = v5 * *(float *)(v2 + 8);
      v6 = v5 * *(float *)(v2 + 12);
    }
    *(float *)(a1 + 12) = v6;
  }
  return result;
}

//----- (00447125) --------------------------------------------------------
int sub_447125()
{
  sub_4492FA(1u);
  return off_52A698();
}
// 52A698: using guessed type int (*off_52A698)(void);

//----- (00447132) --------------------------------------------------------
int __stdcall sub_447132(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  double v5; // st6@1
  int result; // eax@3
  float v7; // [sp+1Ch] [bp+Ch]@2

  v4 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 4) + *(float *)(a3 + 8) * *(float *)(a2 + 8);
  v5 = v4
     - (*(float *)a2 * *(float *)a4
      + *(float *)(a4 + 8) * *(float *)(a2 + 8)
      + *(float *)(a2 + 4) * *(float *)(a4 + 4));
  if ( v5 != 0.0 && (v7 = (v4 + *(float *)(a2 + 12)) / v5, _finite(v7)) )
  {
    result = a1;
    *(float *)a1 = (*(float *)a4 - *(float *)a3) * v7 + *(float *)a3;
    *(float *)(a1 + 4) = (*(float *)(a4 + 4) - *(float *)(a3 + 4)) * v7 + *(float *)(a3 + 4);
    *(float *)(a1 + 8) = (*(float *)(a4 + 8) - *(float *)(a3 + 8)) * v7 + *(float *)(a3 + 8);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004471D4) --------------------------------------------------------
int sub_4471D4()
{
  sub_4492FA(1u);
  return off_52A670();
}
// 52A670: using guessed type int (*off_52A670)(void);

//----- (004471E1) --------------------------------------------------------
int __stdcall sub_4471E1(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a1 = *(float *)a3;
  *(_DWORD *)(a1 + 4) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a3 + 8);
  *(float *)(a1 + 12) = -(*(float *)(a2 + 4) * *(float *)(a3 + 4)
                        + *(float *)(a2 + 8) * *(float *)(a3 + 8)
                        + *(float *)a2 * *(float *)a3);
  return result;
}

//----- (00447219) --------------------------------------------------------
int sub_447219()
{
  sub_4492FA(1u);
  return off_52A674();
}
// 52A674: using guessed type int (*off_52A674)(void);

//----- (00447226) --------------------------------------------------------
int __stdcall sub_447226(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  float v7; // ST20_4@1
  float v8; // ST24_4@1
  double v9; // st4@1
  float v10; // ST14_4@1
  float v11; // ST18_4@1
  float v12; // ST1C_4@1
  int result; // eax@1

  v4 = *(float *)a2 - *(float *)a3;
  v5 = *(float *)(a2 + 4) - *(float *)(a3 + 4);
  v6 = *(float *)(a2 + 8) - *(float *)(a3 + 8);
  v7 = *(float *)a2 - *(float *)a4;
  v8 = *(float *)(a2 + 4) - *(float *)(a4 + 4);
  v9 = *(float *)(a2 + 8) - *(float *)(a4 + 8);
  v10 = v9 * v5 - v8 * v6;
  v11 = v6 * v7 - v9 * v4;
  v12 = v8 * v4 - v7 * v5;
  *(float *)a1 = v10;
  *(float *)(a1 + 4) = v11;
  *(float *)(a1 + 8) = v12;
  sub_444D4C(a1, a1);
  result = a1;
  *(float *)(a1 + 12) = -(*(float *)(a1 + 8) * *(float *)(a2 + 8)
                        + *(float *)(a1 + 4) * *(float *)(a2 + 4)
                        + *(float *)a1 * *(float *)a2);
  return result;
}
// 444D4C: using guessed type int __stdcall sub_444D4C(_DWORD, _DWORD);

//----- (004472C8) --------------------------------------------------------
int sub_4472C8()
{
  sub_4492FA(1u);
  return off_52A6C8();
}
// 52A6C8: using guessed type int (*off_52A6C8)(void);

//----- (004472D5) --------------------------------------------------------
int __stdcall sub_4472D5(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)(a3 + 48) * *(float *)(a2 + 12)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 52) * *(float *)(a2 + 12)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4);
  v5 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 56) * *(float *)(a2 + 12)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4);
  result = a1;
  v7 = *(float *)(a3 + 44) * *(float *)(a2 + 8)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 60) * *(float *)(a2 + 12)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (00447374) --------------------------------------------------------
int sub_447374()
{
  sub_4492FA(1u);
  return off_52A750();
}
// 52A750: using guessed type int (*off_52A750)(void);

//----- (00447385) --------------------------------------------------------
int __stdcall sub_447385(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // ecx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(v8 + 4) * *(float *)(a5 + 16)
          + *(float *)(a5 + 48) * *(float *)(v8 + 12)
          + *(float *)(v8 + 8) * *(float *)(a5 + 32)
          + *(float *)v8 * *(float *)a5;
      v11 = *(float *)(v8 + 8) * *(float *)(a5 + 36)
          + *(float *)v8 * *(float *)(a5 + 4)
          + *(float *)(v8 + 4) * *(float *)(a5 + 20)
          + *(float *)(a5 + 52) * *(float *)(v8 + 12);
      v12 = *(float *)(v8 + 12) * *(float *)(a5 + 56)
          + *(float *)(v8 + 4) * *(float *)(a5 + 24)
          + *(float *)(a5 + 8) * *(float *)v8
          + *(float *)(v8 + 8) * *(float *)(a5 + 40);
      v13 = *(float *)(v8 + 8) * *(float *)(a5 + 44)
          + *(float *)(a5 + 12) * *(float *)v8
          + *(float *)(v8 + 4) * *(float *)(a5 + 28);
      v14 = *(float *)(v8 + 12);
      v8 += a4;
      --v6;
      v15 = v13 + v14 * *(float *)(a5 + 60);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (00447444) --------------------------------------------------------
int sub_447444()
{
  sub_4492FA(1u);
  return off_52A754();
}
// 52A754: using guessed type int (*off_52A754)(void);

//----- (00447455) --------------------------------------------------------
int sub_447455()
{
  sub_4492FA(1u);
  return off_52A758();
}
// 52A758: using guessed type int (*off_52A758)(void);

//----- (00447466) --------------------------------------------------------
int __stdcall sub_447466(int a1, int a2)
{
  int v2; // ecx@1
  int result; // eax@2
  float v4; // ecx@3
  long double v5; // st7@6
  float v6; // ST08_4@6
  long double v7; // st7@6
  float v8; // ST0C_4@6
  float v9; // [sp+1Ch] [bp+Ch]@1

  v9 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4);
  if ( sub_444939(v9, 1.0) )
  {
    result = a1;
    if ( a1 == v2 )
      return result;
    *(_DWORD *)a1 = *(_DWORD *)v2;
    v4 = *(float *)(v2 + 4);
    goto LABEL_4;
  }
  result = a1;
  if ( v9 > 1.1754944e-38 )
  {
    v5 = 1.0 / sqrt(v9);
    v6 = v5 * *(float *)v2;
    v7 = v5 * *(float *)(v2 + 4);
    *(float *)a1 = v6;
    v8 = v7;
    v4 = v8;
LABEL_4:
    *(float *)(result + 4) = v4;
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  return result;
}

//----- (004474F0) --------------------------------------------------------
int __stdcall sub_4474F0(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3 + *(float *)(a3 + 48);
  v4 = *(float *)(a3 + 4) * *(float *)a2 + *(float *)(a3 + 20) * *(float *)(a2 + 4) + *(float *)(a3 + 52);
  v5 = *(float *)(a3 + 8) * *(float *)a2 + *(float *)(a3 + 24) * *(float *)(a2 + 4) + *(float *)(a3 + 56);
  result = a1;
  v7 = *(float *)(a3 + 12) * *(float *)a2 + *(float *)(a3 + 28) * *(float *)(a2 + 4) + *(float *)(a3 + 60);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (0044755B) --------------------------------------------------------
int __stdcall sub_44755B(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // edx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4) + *(float *)v8 * *(float *)a5 + *(float *)(a5 + 48);
      v11 = *(float *)(a5 + 4) * *(float *)v8 + *(float *)(a5 + 20) * *(float *)(v8 + 4) + *(float *)(a5 + 52);
      v12 = *(float *)(a5 + 8) * *(float *)v8 + *(float *)(a5 + 24) * *(float *)(v8 + 4) + *(float *)(a5 + 56);
      v13 = *(float *)v8 * *(float *)(a5 + 12);
      v14 = *(float *)(v8 + 4);
      v8 += a4;
      --v6;
      v15 = v13 + v14 * *(float *)(a5 + 28) + *(float *)(a5 + 60);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (004475DE) --------------------------------------------------------
int __stdcall sub_4475DE(int a1, int a2, int a3)
{
  double v3; // st6@1
  double v4; // st7@1
  bool v5; // zf@1
  int result; // eax@1
  double v7; // st7@2
  float v8; // [sp+8h] [bp-4h]@1

  v3 = *(float *)a2 * *(float *)(a3 + 4) + *(float *)(a2 + 4) * *(float *)(a3 + 20) + *(float *)(a3 + 52);
  v4 = *(float *)a2 * *(float *)(a3 + 12) + *(float *)(a2 + 4) * *(float *)(a3 + 28) + *(float *)(a3 + 60);
  *(float *)a1 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 16) + *(float *)(a3 + 48);
  *(float *)(a1 + 4) = v3;
  v8 = v4;
  v5 = sub_444939(v8, 1.0) == 0;
  result = a1;
  if ( v5 )
  {
    v7 = 1.0 / v8;
    *(float *)a1 = v7 * *(float *)a1;
    *(float *)(a1 + 4) = v7 * *(float *)(a1 + 4);
  }
  return result;
}

//----- (0044765B) --------------------------------------------------------
int __stdcall sub_44765B(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // edi@1
  int v8; // ebx@1
  int v9; // ecx@2
  int v10; // edx@2
  float v11; // ST14_4@3
  float v12; // ST18_4@3
  double v13; // st7@3
  int v14; // edx@3
  double v15; // st7@4
  float v17; // [sp+2Ch] [bp+8h]@3

  v6 = a1;
  v7 = a6;
  v8 = a1;
  if ( a6 )
  {
    v9 = a5;
    v10 = a3;
    do
    {
      v11 = *(float *)(v9 + 16) * *(float *)(v10 + 4) + *(float *)v10 * *(float *)v9 + *(float *)(v9 + 48);
      v12 = *(float *)(v9 + 4) * *(float *)v10 + *(float *)(v9 + 20) * *(float *)(v10 + 4) + *(float *)(v9 + 52);
      v13 = *(float *)(v9 + 12) * *(float *)v10 + *(float *)(v9 + 28) * *(float *)(v10 + 4) + *(float *)(v9 + 60);
      *(float *)v6 = v11;
      *(float *)(v6 + 4) = v12;
      v17 = v13;
      if ( !sub_444939(v17, 1.0) )
      {
        v15 = 1.0 / v17;
        *(float *)v6 = v15 * *(float *)v6;
        *(float *)(v6 + 4) = v15 * *(float *)(v6 + 4);
      }
      v10 = a4 + v14;
      v6 += a2;
      --v7;
    }
    while ( v7 );
  }
  return v8;
}

//----- (004476F3) --------------------------------------------------------
int __stdcall sub_4476F3(int a1, int a2, int a3)
{
  float v3; // ST00_4@1
  double v4; // st7@1
  double v5; // st6@1
  int result; // eax@1
  float v7; // ST04_4@1

  v3 = *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 4) * *(float *)a2;
  v5 = *(float *)(a3 + 20) * *(float *)(a2 + 4);
  result = a1;
  *(float *)a1 = v3;
  v7 = v4 + v5;
  *(float *)(a1 + 4) = v7;
  return result;
}

//----- (0044772F) --------------------------------------------------------
int __stdcall sub_44772F(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // edi@1
  int result; // eax@1
  int v9; // ecx@2
  float v10; // ST0C_4@3
  double v11; // st7@3
  double v12; // st6@3
  float v13; // ST10_4@3

  v6 = a1;
  v7 = a6;
  result = a1;
  if ( a6 )
  {
    v9 = a3;
    do
    {
      v10 = *(float *)(a5 + 16) * *(float *)(v9 + 4) + *(float *)v9 * *(float *)a5;
      v11 = *(float *)(a5 + 4) * *(float *)v9;
      v12 = *(float *)(a5 + 20) * *(float *)(v9 + 4);
      v9 += a4;
      *(float *)v6 = v10;
      v13 = v11 + v12;
      *(float *)(v6 + 4) = v13;
      v6 += a2;
      --v7;
    }
    while ( v7 );
  }
  return result;
}

//----- (00447783) --------------------------------------------------------
int __stdcall sub_447783(int a1, int a2)
{
  float *v2; // esi@1
  int result; // eax@2
  int v4; // esi@3
  long double v5; // st7@5
  long double v6; // st7@5
  float v7; // [sp+10h] [bp-Ch]@5
  float v8; // [sp+14h] [bp-8h]@5
  float v9; // [sp+18h] [bp-4h]@5
  float v10; // [sp+28h] [bp+Ch]@1

  v2 = (float *)a2;
  v10 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4) + *(float *)(a2 + 8) * *(float *)(a2 + 8);
  if ( sub_444939(v10, 1.0) )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v10 > 1.1754944e-38 )
  {
    v5 = 1.0 / sqrt(v10);
    v7 = v5 * *v2;
    v8 = v5 * v2[1];
    v6 = v5 * v2[2];
    v2 = &v7;
    v9 = v6;
LABEL_3:
    *(float *)result = *v2;
    v4 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v4;
    *(_DWORD *)(result + 8) = *(_DWORD *)(v4 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  return result;
}

//----- (00447820) --------------------------------------------------------
int __stdcall sub_447820(int a1, int a2, int a3)
{
  double v3; // st5@1
  double v4; // st6@1
  double v5; // st7@1
  bool v6; // zf@1
  int result; // eax@1
  double v8; // st7@2
  float v9; // [sp+8h] [bp-4h]@1

  v3 = *(float *)a2 * *(float *)(a3 + 4)
     + *(float *)(a2 + 4) * *(float *)(a3 + 20)
     + *(float *)(a2 + 8) * *(float *)(a3 + 36)
     + *(float *)(a3 + 52);
  v4 = *(float *)a2 * *(float *)(a3 + 8)
     + *(float *)(a2 + 4) * *(float *)(a3 + 24)
     + *(float *)(a2 + 8) * *(float *)(a3 + 40)
     + *(float *)(a3 + 56);
  v5 = *(float *)a2 * *(float *)(a3 + 12)
     + *(float *)(a2 + 4) * *(float *)(a3 + 28)
     + *(float *)(a2 + 8) * *(float *)(a3 + 44)
     + *(float *)(a3 + 60);
  *(float *)a1 = *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 4) * *(float *)(a3 + 16)
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 48);
  *(float *)(a1 + 4) = v3;
  *(float *)(a1 + 8) = v4;
  v9 = v5;
  v6 = sub_444939(v9, 1.0) == 0;
  result = a1;
  if ( v6 )
  {
    v8 = 1.0 / v9;
    *(float *)a1 = v8 * *(float *)a1;
    *(float *)(a1 + 4) = v8 * *(float *)(a1 + 4);
    *(float *)(a1 + 8) = v8 * *(float *)(a1 + 8);
  }
  return result;
}

//----- (004478DC) --------------------------------------------------------
int __stdcall sub_4478DC(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ebx@1
  int v7; // ecx@2
  int v8; // edx@2
  float v9; // ST14_4@3
  float v10; // ST18_4@3
  float v11; // ST1C_4@3
  double v12; // st7@3
  int v13; // edx@3
  double v14; // st7@4
  int v16; // [sp+20h] [bp-4h]@1
  float v17; // [sp+2Ch] [bp+8h]@3

  v6 = a1;
  v16 = a1;
  if ( a6 )
  {
    v7 = a5;
    v8 = a3;
    do
    {
      v9 = *(float *)(v7 + 16) * *(float *)(v8 + 4)
         + *(float *)(v7 + 32) * *(float *)(v8 + 8)
         + *(float *)v8 * *(float *)v7
         + *(float *)(v7 + 48);
      v10 = *(float *)(v7 + 4) * *(float *)v8
          + *(float *)(v7 + 20) * *(float *)(v8 + 4)
          + *(float *)(v7 + 36) * *(float *)(v8 + 8)
          + *(float *)(v7 + 52);
      v11 = *(float *)(v8 + 8) * *(float *)(v7 + 40)
          + *(float *)v8 * *(float *)(v7 + 8)
          + *(float *)(v8 + 4) * *(float *)(v7 + 24)
          + *(float *)(v7 + 56);
      v12 = *(float *)(v7 + 12) * *(float *)v8
          + *(float *)(v7 + 28) * *(float *)(v8 + 4)
          + *(float *)(v7 + 44) * *(float *)(v8 + 8)
          + *(float *)(v7 + 60);
      *(float *)v6 = v9;
      *(float *)(v6 + 4) = v10;
      v17 = v12;
      *(float *)(v6 + 8) = v11;
      if ( !sub_444939(v17, 1.0) )
      {
        v14 = 1.0 / v17;
        *(float *)v6 = v14 * *(float *)v6;
        *(float *)(v6 + 4) = v14 * *(float *)(v6 + 4);
        *(float *)(v6 + 8) = v14 * *(float *)(v6 + 8);
      }
      v8 = a4 + v13;
      v6 += a2;
      --a6;
    }
    while ( a6 );
  }
  return v16;
}

//----- (004479BB) --------------------------------------------------------
int __stdcall sub_4479BB(int a1, int a2, int a3, float *a4, float *a5, float *a6)
{
  float *v6; // esi@1
  float *v8; // [sp-4h] [bp-54h]@7
  float v9; // [sp+10h] [bp-40h]@1
  float v10; // [sp+14h] [bp-3Ch]@2
  float v11; // [sp+18h] [bp-38h]@2
  float v12; // [sp+1Ch] [bp-34h]@2
  float v13; // [sp+20h] [bp-30h]@2
  float v14; // [sp+24h] [bp-2Ch]@2
  float v15; // [sp+28h] [bp-28h]@2
  float v16; // [sp+2Ch] [bp-24h]@2
  float v17; // [sp+30h] [bp-20h]@2
  float v18; // [sp+34h] [bp-1Ch]@2
  float v19; // [sp+38h] [bp-18h]@2
  float v20; // [sp+3Ch] [bp-14h]@2
  float v21; // [sp+40h] [bp-10h]@2
  float v22; // [sp+44h] [bp-Ch]@2
  float v23; // [sp+48h] [bp-8h]@2
  float v24; // [sp+4Ch] [bp-4h]@2

  v6 = &v9;
  switch ( (a4 != 0) | 2 * ((a5 != 0) | 2 * (a6 != 0)) )
  {
    case 0:
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v15 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v11 = 0.0;
      v10 = 0.0;
      v24 = 1.0;
      v19 = 1.0;
      v14 = 1.0;
      v9 = 1.0;
      break;
    case 1:
      v6 = a4;
      break;
    case 2:
      v6 = a5;
      break;
    case 3:
      sub_44589F(&v9, a5, a4);
      break;
    case 4:
      v6 = a6;
      break;
    case 5:
      v8 = a4;
      goto LABEL_9;
    case 6:
      v8 = a5;
LABEL_9:
      sub_44589F(&v9, a6, v8);
      break;
    case 7:
      sub_44589F(&v9, a6, a5);
      sub_44589F(&v9, &v9, a4);
      break;
    default:
      break;
  }
  sub_44510E(a1, a2, v6);
  if ( a3 )
  {
    *(float *)a1 = (*(float *)a1 + 1.0) * (double)*(unsigned int *)(a3 + 8) * 0.5 + (double)*(unsigned int *)a3;
    *(float *)(a1 + 4) = (1.0 - *(float *)(a1 + 4)) * (double)*(unsigned int *)(a3 + 12) * 0.5
                       + (double)*(unsigned int *)(a3 + 4);
    *(float *)(a1 + 8) = (*(float *)(a3 + 20) - *(float *)(a3 + 16)) * *(float *)(a1 + 8) + *(float *)(a3 + 16);
  }
  return a1;
}
// 44510E: using guessed type int __stdcall sub_44510E(_DWORD, _DWORD, _DWORD);
// 44589F: using guessed type int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD);

//----- (00447B48) --------------------------------------------------------
int __stdcall sub_447B48(int a1, int a2, int a3, int a4, int a5, float *a6, float *a7, float *a8, int a9)
{
  float *v9; // esi@1
  double v10; // st7@12
  int v11; // ecx@12
  double v12; // st6@12
  bool v13; // sf@14
  double v14; // st5@14
  int v15; // ecx@16
  double v16; // st5@16
  float *v18; // [sp+10h] [bp-94h]@7
  float v19; // [sp+24h] [bp-80h]@1
  float v20; // [sp+28h] [bp-7Ch]@2
  float v21; // [sp+2Ch] [bp-78h]@2
  float v22; // [sp+30h] [bp-74h]@2
  float v23; // [sp+34h] [bp-70h]@2
  float v24; // [sp+38h] [bp-6Ch]@2
  float v25; // [sp+3Ch] [bp-68h]@2
  float v26; // [sp+40h] [bp-64h]@2
  float v27; // [sp+44h] [bp-60h]@2
  float v28; // [sp+48h] [bp-5Ch]@2
  float v29; // [sp+4Ch] [bp-58h]@2
  float v30; // [sp+50h] [bp-54h]@2
  float v31; // [sp+54h] [bp-50h]@2
  float v32; // [sp+58h] [bp-4Ch]@2
  float v33; // [sp+5Ch] [bp-48h]@2
  float v34; // [sp+60h] [bp-44h]@2
  float v35; // [sp+64h] [bp-40h]@12
  float v36; // [sp+68h] [bp-3Ch]@12
  float v37; // [sp+6Ch] [bp-38h]@12
  float v38; // [sp+70h] [bp-34h]@12
  float v39; // [sp+74h] [bp-30h]@12
  float v40; // [sp+78h] [bp-2Ch]@14
  float v41; // [sp+7Ch] [bp-28h]@14
  float v42; // [sp+80h] [bp-24h]@14
  float v43; // [sp+84h] [bp-20h]@14
  float v44; // [sp+88h] [bp-1Ch]@14
  float v45; // [sp+8Ch] [bp-18h]@14
  float v46; // [sp+90h] [bp-14h]@14
  float v47; // [sp+94h] [bp-10h]@16
  float v48; // [sp+98h] [bp-Ch]@18
  int v49; // [sp+9Ch] [bp-8h]@18
  float v50; // [sp+A0h] [bp-4h]@18

  v9 = &v19;
  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v33 = 0.0;
      v32 = 0.0;
      v31 = 0.0;
      v30 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v26 = 0.0;
      v25 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v34 = 1.0;
      v29 = 1.0;
      v24 = 1.0;
      v19 = 1.0;
      break;
    case 1:
      v9 = a6;
      break;
    case 2:
      v9 = a7;
      break;
    case 3:
      sub_44589F(&v19, a7, a6);
      break;
    case 4:
      v9 = a8;
      break;
    case 5:
      v18 = a6;
      goto LABEL_9;
    case 6:
      v18 = a7;
LABEL_9:
      sub_44589F(&v19, a8, v18);
      break;
    case 7:
      sub_44589F(&v19, a8, a7);
      sub_44589F(&v19, &v19, a6);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    v10 = (double)*(unsigned int *)(a5 + 8) * 0.5;
    v11 = *(_DWORD *)(a5 + 12);
    v35 = v10;
    v36 = 0.0;
    v37 = 0.0;
    v38 = 0.0;
    v39 = 0.0;
    v12 = (double)*(signed int *)(a5 + 12);
    if ( v11 < 0 )
      v12 = v12 + 4294967300.0;
    v13 = *(_DWORD *)a5 < 0;
    v40 = -0.5 * v12;
    v41 = 0.0;
    v42 = 0.0;
    v43 = 0.0;
    v44 = 0.0;
    v45 = *(float *)(a5 + 20) - *(float *)(a5 + 16);
    v46 = 0.0;
    v14 = (double)*(signed int *)a5;
    if ( v13 )
      v14 = v14 + 4294967300.0;
    v15 = *(_DWORD *)(a5 + 4);
    v47 = v14 + v10;
    v16 = (double)*(signed int *)(a5 + 4);
    if ( v15 < 0 )
      v16 = v16 + 4294967300.0;
    v49 = *(_DWORD *)(a5 + 16);
    v48 = v16 + v12 * 0.5;
    v50 = 1.0;
    sub_44589F(&v19, v9, &v35);
    v9 = &v19;
  }
  return sub_445125(a1, a2, a3, a4, v9, a9);
}
// 445125: using guessed type int __stdcall sub_445125(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 44589F: using guessed type int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD);

//----- (00447D48) --------------------------------------------------------
int __stdcall sub_447D48(int a1, int a2, int a3, int a4, int a5, int a6)
{
  double v6; // st7@13
  int v7; // esi@13
  double v8; // st7@13
  int v10; // [sp+10h] [bp-54h]@7
  float v11; // [sp+24h] [bp-40h]@2
  float v12; // [sp+28h] [bp-3Ch]@2
  float v13; // [sp+2Ch] [bp-38h]@2
  float v14; // [sp+30h] [bp-34h]@2
  float v15; // [sp+34h] [bp-30h]@2
  float v16; // [sp+38h] [bp-2Ch]@2
  float v17; // [sp+3Ch] [bp-28h]@2
  float v18; // [sp+40h] [bp-24h]@2
  float v19; // [sp+44h] [bp-20h]@2
  float v20; // [sp+48h] [bp-1Ch]@2
  float v21; // [sp+4Ch] [bp-18h]@2
  float v22; // [sp+50h] [bp-14h]@2
  float v23; // [sp+54h] [bp-10h]@2
  float v24; // [sp+58h] [bp-Ch]@2
  float v25; // [sp+5Ch] [bp-8h]@2
  float v26; // [sp+60h] [bp-4h]@2

  switch ( (a4 != 0) | 2 * ((a5 != 0) | 2 * (a6 != 0)) )
  {
    case 0:
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v15 = 0.0;
      v14 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      v11 = 1.0;
      break;
    case 1:
      sub_445DAB(&v11, 0, a4);
      break;
    case 2:
      sub_445DAB(&v11, 0, a5);
      break;
    case 3:
      sub_44589F(&v11, a5, a4);
      goto LABEL_11;
    case 4:
      sub_445DAB(&v11, 0, a6);
      break;
    case 5:
      v10 = a4;
      goto LABEL_9;
    case 6:
      v10 = a5;
LABEL_9:
      sub_44589F(&v11, a6, v10);
      goto LABEL_11;
    case 7:
      sub_44589F(&v11, a6, a5);
      sub_44589F(&v11, &v11, a4);
LABEL_11:
      sub_445DAB(&v11, 0, &v11);
      break;
    default:
      break;
  }
  if ( a3 )
  {
    v7 = a1;
    v6 = *(float *)a2 - (double)*(unsigned int *)a3;
    *(float *)a1 = v6 / (double)*(unsigned int *)(a3 + 8) + v6 / (double)*(unsigned int *)(a3 + 8) - 1.0;
    v8 = *(float *)(a2 + 4) - (double)*(unsigned int *)(a3 + 4);
    *(float *)(a1 + 4) = -(v8 / (double)*(unsigned int *)(a3 + 12) + v8 / (double)*(unsigned int *)(a3 + 12) - 1.0);
    *(float *)(a1 + 8) = (*(float *)(a2 + 8) - *(float *)(a3 + 16)) / (*(float *)(a3 + 20) - *(float *)(a3 + 16));
    sub_44510E(a1, a1, &v11);
  }
  else
  {
    v7 = a1;
    sub_44510E(a1, a2, &v11);
  }
  return v7;
}
// 44510E: using guessed type int __stdcall sub_44510E(_DWORD, _DWORD, _DWORD);
// 44589F: using guessed type int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD);
// 445DAB: using guessed type int __stdcall sub_445DAB(_DWORD, _DWORD, _DWORD);

//----- (00447EEE) --------------------------------------------------------
int __stdcall sub_447EEE(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  double v9; // st7@13
  double v10; // st6@13
  bool v11; // sf@13
  double v12; // st4@13
  double v13; // st4@13
  int v14; // ecx@15
  double v15; // st4@15
  int v17; // [sp+1Ch] [bp-A4h]@7
  float v18; // [sp+2Ch] [bp-94h]@13
  float v19; // [sp+30h] [bp-90h]@2
  float v20; // [sp+34h] [bp-8Ch]@2
  float v21; // [sp+38h] [bp-88h]@2
  float v22; // [sp+3Ch] [bp-84h]@2
  float v23; // [sp+40h] [bp-80h]@2
  float v24; // [sp+44h] [bp-7Ch]@2
  float v25; // [sp+48h] [bp-78h]@2
  float v26; // [sp+4Ch] [bp-74h]@2
  float v27; // [sp+50h] [bp-70h]@2
  float v28; // [sp+54h] [bp-6Ch]@2
  float v29; // [sp+58h] [bp-68h]@2
  float v30; // [sp+5Ch] [bp-64h]@2
  float v31; // [sp+60h] [bp-60h]@2
  float v32; // [sp+64h] [bp-5Ch]@2
  float v33; // [sp+68h] [bp-58h]@2
  float v34; // [sp+6Ch] [bp-54h]@2
  float v35; // [sp+80h] [bp-40h]@13
  float v36; // [sp+84h] [bp-3Ch]@13
  float v37; // [sp+88h] [bp-38h]@13
  float v38; // [sp+8Ch] [bp-34h]@13
  float v39; // [sp+90h] [bp-30h]@13
  float v40; // [sp+94h] [bp-2Ch]@13
  float v41; // [sp+98h] [bp-28h]@13
  float v42; // [sp+9Ch] [bp-24h]@13
  float v43; // [sp+A0h] [bp-20h]@13
  float v44; // [sp+A4h] [bp-1Ch]@13
  float v45; // [sp+A8h] [bp-18h]@13
  float v46; // [sp+ACh] [bp-14h]@13
  float v47; // [sp+B0h] [bp-10h]@15
  float v48; // [sp+B4h] [bp-Ch]@17
  float v49; // [sp+B8h] [bp-8h]@17
  float v50; // [sp+BCh] [bp-4h]@17

  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v33 = 0.0;
      v32 = 0.0;
      v31 = 0.0;
      v30 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v26 = 0.0;
      v25 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v34 = 1.0;
      v29 = 1.0;
      v24 = 1.0;
      v19 = 1.0;
      break;
    case 1:
      sub_445DAB(&v19, 0, a6);
      break;
    case 2:
      sub_445DAB(&v19, 0, a7);
      break;
    case 3:
      sub_44589F(&v19, a7, a6);
      goto LABEL_11;
    case 4:
      sub_445DAB(&v19, 0, a8);
      break;
    case 5:
      v17 = a6;
      goto LABEL_9;
    case 6:
      v17 = a7;
LABEL_9:
      sub_44589F(&v19, a8, v17);
      goto LABEL_11;
    case 7:
      sub_44589F(&v19, a8, a7);
      sub_44589F(&v19, &v19, a6);
LABEL_11:
      sub_445DAB(&v19, 0, &v19);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    v9 = 2.0 / (double)*(unsigned int *)(a5 + 8);
    v10 = 2.0 / (double)*(unsigned int *)(a5 + 12);
    v11 = *(_DWORD *)a5 < 0;
    v12 = 1.0 / (*(float *)(a5 + 20) - *(float *)(a5 + 16));
    v18 = v12;
    v35 = v9;
    v36 = 0.0;
    v37 = 0.0;
    v38 = 0.0;
    v39 = 0.0;
    v40 = -v10;
    v41 = 0.0;
    v42 = 0.0;
    v43 = 0.0;
    v44 = 0.0;
    v45 = v12;
    v46 = 0.0;
    v13 = (double)*(signed int *)a5;
    if ( v11 )
      v13 = v13 + 4294967300.0;
    v14 = *(_DWORD *)(a5 + 4);
    v47 = -(v13 * v9) - 1.0;
    v15 = (double)*(signed int *)(a5 + 4);
    if ( v14 < 0 )
      v15 = v15 + 4294967300.0;
    v48 = v15 * v10 - 1.0;
    v49 = -(v18 * *(float *)(a5 + 16));
    v50 = 1.0;
    sub_44589F(&v19, &v19, &v35);
  }
  return sub_445125(a1, a2, a3, a4, &v19, a9);
}
// 445125: using guessed type int __stdcall sub_445125(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 44589F: using guessed type int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD);
// 445DAB: using guessed type int __stdcall sub_445DAB(_DWORD, _DWORD, _DWORD);

//----- (0044811F) --------------------------------------------------------
int __stdcall sub_44811F(int a1, float a2, float a3, float a4)
{
  int v5; // [sp+Ch] [bp-10h]@1
  int v6; // [sp+10h] [bp-Ch]@1
  int v7; // [sp+14h] [bp-8h]@1

  sub_4469D3((int)&v5, a2, a3, a4);
  sub_446558(a1, &v5, v5, v6, v7);
  return a1;
}
// 446558: using guessed type int __stdcall sub_446558(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (00448158) --------------------------------------------------------
int __stdcall sub_448158(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ecx@3
  int v8; // ecx@3
  int v9; // esi@4
  int v10; // eax@6
  char *v12; // [sp+Ch] [bp-D0h]@0
  int v13; // [sp+10h] [bp-CCh]@0
  int v14; // [sp+14h] [bp-C8h]@0
  int v15; // [sp+1Ch] [bp-C0h]@3
  float v16; // [sp+20h] [bp-BCh]@3
  float v17; // [sp+24h] [bp-B8h]@3
  float v18; // [sp+28h] [bp-B4h]@3
  float v19; // [sp+2Ch] [bp-B0h]@3
  int v20; // [sp+30h] [bp-ACh]@3
  float v21; // [sp+34h] [bp-A8h]@3
  float v22; // [sp+38h] [bp-A4h]@3
  float v23; // [sp+3Ch] [bp-A0h]@3
  float v24; // [sp+40h] [bp-9Ch]@3
  int v25; // [sp+44h] [bp-98h]@3
  float v26; // [sp+48h] [bp-94h]@3
  float v27; // [sp+4Ch] [bp-90h]@3
  float v28; // [sp+50h] [bp-8Ch]@3
  float v29; // [sp+54h] [bp-88h]@3
  float v30; // [sp+58h] [bp-84h]@3
  char v31; // [sp+5Ch] [bp-80h]@3
  char v32; // [sp+60h] [bp-7Ch]@3
  char v33; // [sp+68h] [bp-74h]@10
  char v34; // [sp+9Ch] [bp-40h]@4
  char v35; // [sp+A0h] [bp-3Ch]@4

  if ( a4 )
  {
    if ( a3 )
    {
      v29 = 0.0;
      v7 = *(_DWORD *)a4;
      v28 = 0.0;
      v15 = v7;
      v8 = *(_DWORD *)(a4 + 4);
      v27 = 0.0;
      v25 = *(_DWORD *)(a4 + 8);
      v26 = 0.0;
      v20 = v8;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v30 = 1.0;
      sub_446558(&v31, a3, v12, v13, v14);
      v12 = &v32;
      if ( a2 )
      {
        sub_445AE8(&v35);
        v9 = a1;
        *(float *)(a1 + 56) = 0.0;
        *(float *)(a1 + 52) = 0.0;
        *(float *)(a1 + 48) = 0.0;
        *(float *)(a1 + 44) = 0.0;
        *(float *)(a1 + 36) = 0.0;
        *(float *)(a1 + 32) = 0.0;
        *(float *)(a1 + 28) = 0.0;
        *(float *)(a1 + 24) = 0.0;
        *(float *)(a1 + 16) = 0.0;
        *(float *)(a1 + 12) = 0.0;
        *(float *)(a1 + 8) = 0.0;
        *(float *)(a1 + 4) = 0.0;
        *(float *)(a1 + 60) = 1.0;
        *(float *)(a1 + 40) = 1.0;
        *(float *)(a1 + 20) = 1.0;
        *(float *)a1 = 1.0;
        *(float *)(a1 + 48) = -*(float *)a2;
        *(float *)(a1 + 52) = -*(float *)(a2 + 4);
        *(float *)(a1 + 56) = -*(float *)(a2 + 8);
        sub_44589F(a1, a1, &v34);
        sub_44589F(v9, v9, &v15);
        sub_44589F(v9, v9, &v31);
        *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a2;
        *(float *)(v9 + 52) = *(float *)(a2 + 4) + *(float *)(v9 + 52);
        *(float *)(v9 + 56) = *(float *)(v9 + 56) + *(float *)(a2 + 8);
      }
      else
      {
        v9 = a1;
        sub_445AE8(a1);
        sub_44589F(v9, v9, &v15);
        sub_44589F(v9, v9, &v31);
      }
    }
    else
    {
      v9 = a1;
      *(float *)(a1 + 56) = 0.0;
      *(float *)(a1 + 52) = 0.0;
      *(float *)(a1 + 48) = 0.0;
      *(float *)(a1 + 44) = 0.0;
      *(float *)(a1 + 36) = 0.0;
      *(float *)(a1 + 32) = 0.0;
      *(float *)(a1 + 28) = 0.0;
      *(float *)(a1 + 24) = 0.0;
      *(float *)(a1 + 16) = 0.0;
      *(float *)(a1 + 12) = 0.0;
      *(float *)(a1 + 8) = 0.0;
      *(float *)(a1 + 4) = 0.0;
      *(_DWORD *)a1 = *(_DWORD *)a4;
      *(_DWORD *)(a1 + 20) = *(_DWORD *)(a4 + 4);
      v10 = *(_DWORD *)(a4 + 8);
      *(float *)(a1 + 60) = 1.0;
      *(_DWORD *)(a1 + 40) = v10;
    }
  }
  else
  {
    v9 = a1;
    *(float *)(a1 + 56) = 0.0;
    *(float *)(a1 + 52) = 0.0;
    *(float *)(a1 + 48) = 0.0;
    *(float *)(a1 + 44) = 0.0;
    *(float *)(a1 + 36) = 0.0;
    *(float *)(a1 + 32) = 0.0;
    *(float *)(a1 + 28) = 0.0;
    *(float *)(a1 + 24) = 0.0;
    *(float *)(a1 + 16) = 0.0;
    *(float *)(a1 + 12) = 0.0;
    *(float *)(a1 + 8) = 0.0;
    *(float *)(a1 + 4) = 0.0;
    *(float *)(a1 + 60) = 1.0;
    *(float *)(a1 + 40) = 1.0;
    *(float *)(a1 + 20) = 1.0;
    *(float *)a1 = 1.0;
  }
  if ( a6 )
  {
    sub_446558(&v31, a6, v12, v13, v14);
    if ( a5 )
    {
      *(float *)(v9 + 48) = *(float *)(v9 + 48) - *(float *)a5;
      *(float *)(v9 + 52) = *(float *)(v9 + 52) - *(float *)(a5 + 4);
      *(float *)(v9 + 56) = *(float *)(v9 + 56) - *(float *)(a5 + 8);
      sub_44589F(v9, v9, &v33);
      *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a5;
      *(float *)(v9 + 52) = *(float *)(v9 + 52) + *(float *)(a5 + 4);
      *(float *)(v9 + 56) = *(float *)(v9 + 56) + *(float *)(a5 + 8);
    }
    else
    {
      sub_44589F(v9, v9, &v33);
    }
  }
  if ( a7 )
  {
    *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a7;
    *(float *)(v9 + 52) = *(float *)(a7 + 4) + *(float *)(v9 + 52);
    *(float *)(v9 + 56) = *(float *)(a7 + 8) + *(float *)(v9 + 56);
  }
  return v9;
}
// 44589F: using guessed type int __cdecl sub_44589F(_DWORD, _DWORD, _DWORD);
// 445AE8: using guessed type int __stdcall sub_445AE8(_DWORD);
// 446558: using guessed type int __stdcall sub_446558(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0044840C) --------------------------------------------------------
int __stdcall sub_44840C(int a1, int a2, int a3)
{
  int result; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  float v8; // ST10_4@1
  double v9; // st3@1
  float v10; // ST14_4@1
  float v11; // [sp+10h] [bp-10h]@1
  float v12; // [sp+14h] [bp-Ch]@1
  float v13; // [sp+18h] [bp-8h]@1
  float v14; // [sp+1Ch] [bp-4h]@1

  sub_44707E(&v11, a3);
  result = a1;
  v4 = v12 * *(float *)(a2 + 4) + v11 * *(float *)a2 + v14 * *(float *)(a2 + 12) + v13 * *(float *)(a2 + 8);
  v5 = -v11;
  v6 = -v12;
  v7 = -v13;
  v8 = v7;
  v9 = -v14;
  v10 = v9;
  *(float *)a1 = v5 * *(float *)a2 + v4;
  *(float *)(a1 + 16) = v6 * *(float *)a2;
  *(float *)(a1 + 32) = v7 * *(float *)a2;
  *(float *)(a1 + 48) = v9 * *(float *)a2;
  *(float *)(a1 + 4) = v5 * *(float *)(a2 + 4);
  *(float *)(a1 + 20) = v6 * *(float *)(a2 + 4) + v4;
  *(float *)(a1 + 36) = v7 * *(float *)(a2 + 4);
  *(float *)(a1 + 52) = v9 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v5 * *(float *)(a2 + 8);
  *(float *)(a1 + 24) = v6 * *(float *)(a2 + 8);
  *(float *)(a1 + 40) = v7 * *(float *)(a2 + 8) + v4;
  *(float *)(a1 + 56) = v9 * *(float *)(a2 + 8);
  *(float *)(a1 + 12) = v5 * *(float *)(a2 + 12);
  *(float *)(a1 + 28) = v6 * *(float *)(a2 + 12);
  *(float *)(a1 + 44) = v8 * *(float *)(a2 + 12);
  *(float *)(a1 + 60) = v10 * *(float *)(a2 + 12) + v4;
  return result;
}
// 44707E: using guessed type int __stdcall sub_44707E(_DWORD, _DWORD);

//----- (004484E6) --------------------------------------------------------
int __stdcall sub_4484E6(int a1, int a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st6@1
  double v5; // st5@1
  float v6; // [sp+0h] [bp-10h]@1
  float v7; // [sp+4h] [bp-Ch]@1
  float v8; // [sp+8h] [bp-8h]@1
  float v9; // [sp+Ch] [bp-4h]@1
  float v10; // [sp+1Ch] [bp+Ch]@1

  sub_44707E(&v6, a2);
  v2 = v6 * -2.0;
  result = a1;
  v4 = v7 * -2.0;
  v5 = v8 * -2.0;
  v10 = v5;
  *(float *)a1 = v6 * v2 + 1.0;
  *(float *)(a1 + 4) = v4 * v6;
  *(float *)(a1 + 8) = v5 * v6;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v7 * v2;
  *(float *)(a1 + 20) = v7 * v4 + 1.0;
  *(float *)(a1 + 24) = v5 * v7;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v8 * v2;
  *(float *)(a1 + 36) = v8 * v4;
  *(float *)(a1 + 40) = v8 * v5 + 1.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = v9 * v2;
  *(float *)(a1 + 52) = v9 * v4;
  *(float *)(a1 + 56) = v9 * v10;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 44707E: using guessed type int __stdcall sub_44707E(_DWORD, _DWORD);

//----- (004485A5) --------------------------------------------------------
int __stdcall sub_4485A5(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  unsigned __int8 v8; // c0@1
  unsigned __int8 v9; // c3@1
  unsigned __int8 v11; // c0@3
  unsigned __int8 v12; // c3@3
  unsigned __int8 v14; // c0@5
  unsigned __int8 v15; // c3@5
  int result; // eax@7
  int v17; // edi@7
  char v18; // [sp+8h] [bp-44h]@7
  float v19; // [sp+18h] [bp-34h]@7
  float v20; // [sp+1Ch] [bp-30h]@7
  float v21; // [sp+20h] [bp-2Ch]@7
  float v22; // [sp+24h] [bp-28h]@7
  float v23; // [sp+28h] [bp-24h]@1
  float v24; // [sp+2Ch] [bp-20h]@1
  float v25; // [sp+30h] [bp-1Ch]@1
  float v26; // [sp+34h] [bp-18h]@1
  float v27; // [sp+38h] [bp-14h]@1
  float v28; // [sp+3Ch] [bp-10h]@1
  float v29; // [sp+40h] [bp-Ch]@1
  float v30; // [sp+44h] [bp-8h]@1
  float v31; // [sp+48h] [bp-4h]@7
  float v32; // [sp+4Ch] [bp+0h]@7
  float v33; // [sp+50h] [bp+4h]@7
  float v34; // [sp+54h] [bp+8h]@7
  float v35; // [sp+58h] [bp+Ch]@1
  float v36; // [sp+5Ch] [bp+10h]@1
  float v37; // [sp+60h] [bp+14h]@1
  float v38; // [sp+64h] [bp+18h]@1
  float v39; // [sp+68h] [bp+1Ch]@7
  float v40; // [sp+6Ch] [bp+20h]@7
  float v41; // [sp+70h] [bp+24h]@7
  float v42; // [sp+74h] [bp+28h]@7
  float v43; // [sp+78h] [bp+2Ch]@2
  float v44; // [sp+7Ch] [bp+30h]@2
  float v45; // [sp+80h] [bp+34h]@2
  float v46; // [sp+84h] [bp+38h]@2
  float v47; // [sp+88h] [bp+3Ch]@1
  float v48; // [sp+8Ch] [bp+40h]@1
  float v49; // [sp+90h] [bp+44h]@1
  float v50; // [sp+94h] [bp+48h]@1
  float v51; // [sp+98h] [bp+4Ch]@7
  float v52; // [sp+9Ch] [bp+50h]@1
  float v53; // [sp+A0h] [bp+54h]@1
  float v54; // [sp+A4h] [bp+58h]@1

  v23 = *(float *)a4;
  v24 = *(float *)(a4 + 4);
  v25 = *(float *)(a4 + 8);
  v26 = *(float *)(a4 + 12);
  v35 = *(float *)a5;
  v36 = *(float *)(a5 + 4);
  v37 = *(float *)(a5 + 8);
  v38 = *(float *)(a5 + 12);
  v47 = *(float *)a6;
  v48 = *(float *)(a6 + 4);
  v49 = *(float *)(a6 + 8);
  v52 = v24 - v36;
  v50 = *(float *)(a6 + 12);
  v53 = v25 - v37;
  v27 = *(float *)a7;
  v28 = *(float *)(a7 + 4);
  v54 = v26 - v38;
  v29 = *(float *)(a7 + 8);
  v30 = *(float *)(a7 + 12);
  if ( !(v8 | v9) )
  {
    v43 = -v23;
    v44 = -v24;
    v45 = -v25;
    v46 = -v26;
    v23 = v43;
    v24 = v44;
    v25 = v45;
    v26 = v46;
  }
  v52 = v36 - v48;
  v53 = v37 - v49;
  v54 = v38 - v50;
  if ( !(v11 | v12) )
  {
    v43 = -v47;
    v44 = -v48;
    v45 = -v49;
    v46 = -v50;
    v47 = v43;
    v48 = v44;
    v49 = v45;
    v50 = v46;
  }
  v52 = v48 - v28;
  v53 = v49 - v29;
  v54 = v50 - v30;
  if ( !(v14 | v15) )
  {
    v43 = -v27;
    v44 = -v28;
    v45 = -v29;
    v46 = -v30;
    v27 = v43;
    v28 = v44;
    v29 = v45;
    v30 = v46;
  }
  sub_446C2B(&v43, &v35);
  sub_446ABF(&v39, &v43, &v23);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_446CEF(&v19, &v31);
  sub_446ABF(&v39, &v43, &v47);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_446CEF(&v51, &v31);
  v40 = v20 + v52;
  v41 = v21 + v53;
  v31 = (v19 + v51) * -0.25;
  v32 = v40 * -0.25;
  v33 = v41 * -0.25;
  v34 = (v22 + v54) * -0.25;
  sub_446D7D(&v18, &v31);
  sub_446ABF(&v39, &v35, &v18);
  *(float *)a1 = v39;
  *(float *)(a1 + 4) = v40;
  *(float *)(a1 + 8) = v41;
  *(float *)(a1 + 12) = v42;
  sub_446C2B(&v43, &v47);
  sub_446ABF(&v39, &v43, &v35);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_446CEF(&v19, &v31);
  sub_446ABF(&v39, &v43, &v27);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_446CEF(&v51, &v31);
  v40 = v20 + v52;
  v41 = v21 + v53;
  v31 = (v19 + v51) * -0.25;
  v32 = v40 * -0.25;
  v33 = v41 * -0.25;
  v34 = (v22 + v54) * -0.25;
  sub_446D7D(&v18, &v31);
  result = sub_446ABF(&v39, &v47, &v18);
  *(float *)a2 = v39;
  *(float *)(a2 + 4) = v40;
  v17 = a2 + 8;
  *(float *)v17 = v41;
  *(float *)(v17 + 4) = v42;
  *(float *)a3 = v47;
  *(float *)(a3 + 4) = v48;
  *(float *)(a3 + 8) = v49;
  *(float *)(a3 + 12) = v50;
  return result;
}
// 446ABF: using guessed type int __stdcall sub_446ABF(_DWORD, _DWORD, _DWORD);
// 446C2B: using guessed type int __stdcall sub_446C2B(_DWORD, _DWORD);
// 446CEF: using guessed type int __stdcall sub_446CEF(_DWORD, _DWORD);
// 446D7D: using guessed type int __stdcall sub_446D7D(_DWORD, _DWORD);

//----- (0044897F) --------------------------------------------------------
int __thiscall sub_44897F(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = -1;
  *(_DWORD *)(this + 4) = -1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  return result;
}

//----- (00448991) --------------------------------------------------------
int __thiscall sub_448991(_DWORD *this, LPCWSTR lpWideCharStr, LPSTR lpMultiByteStr)
{
  _DWORD *v3; // edi@1
  int result; // eax@2
  void *v5; // esp@5
  HANDLE v6; // eax@7
  int v7; // [sp+0h] [bp-38h]@5
  struct _OSVERSIONINFOA VersionInformation; // [sp+Ch] [bp-2Ch]@4
  int cbMultiByte; // [sp+A0h] [bp+68h]@5
  _DWORD *v10; // [sp+A4h] [bp+6Ch]@1

  v3 = this;
  v10 = this;
  if ( lpWideCharStr )
  {
    if ( !lpMultiByteStr )
      goto LABEL_14;
    VersionInformation.dwOSVersionInfoSize = 148;
    GetVersionExA(&VersionInformation);
    if ( VersionInformation.dwPlatformId != 2 )
    {
      cbMultiByte = WideCharToMultiByte(0xFDE9u, 0, lpWideCharStr, -1, 0, 0, 0, 0);
      v5 = alloca(cbMultiByte);
      WideCharToMultiByte(0xFDE9u, 0, lpWideCharStr, -1, (LPSTR)&v7, cbMultiByte, 0, 0);
      v3 = v10;
      lpWideCharStr = (LPCWSTR)&v7;
      lpMultiByteStr = 0;
    }
    if ( lpMultiByteStr )
      v6 = CreateFileW(lpWideCharStr, 0x40000000u, 0, 0, 2u, 0, 0);
    else
LABEL_14:
      v6 = CreateFileA((LPCSTR)lpWideCharStr, 0x40000000u, 0, 0, 2u, 0, 0);
    *v3 = v6;
    if ( v6 == (HANDLE)-1 )
    {
      GetLastError();
      result = -2005529767;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (00448AAA) --------------------------------------------------------
void __thiscall sub_448AAA(int this)
{
  int v1; // esi@2
  const void *v2; // eax@2

  if ( *(_DWORD *)this != -1 )
  {
    v1 = this;
    v2 = *(const void **)(this + 8);
    if ( v2 )
    {
      UnmapViewOfFile(v2);
      *(_DWORD *)(v1 + 8) = 0;
      *(_DWORD *)(v1 + 12) = 0;
    }
    if ( *(_DWORD *)(v1 + 4) != -1 )
    {
      CloseHandle(*(HANDLE *)(v1 + 4));
      *(_DWORD *)(v1 + 4) = -1;
    }
    if ( *(_DWORD *)v1 != -1 )
    {
      CloseHandle(*(HANDLE *)v1);
      *(_DWORD *)v1 = -1;
    }
  }
}

//----- (00448AD0) --------------------------------------------------------
int __thiscall sub_448AD0(HGDIOBJ *this)
{
  HGDIOBJ *v1; // esi@1

  v1 = this;
  if ( *this )
    DeleteObject(*this);
  *v1 = 0;
  v1[1] = 0;
  v1[2] = 0;
  return 0;
}

//----- (00448AEF) --------------------------------------------------------
int __thiscall sub_448AEF(HGDIOBJ *this, HMODULE hModule, LPCWSTR lpName, int a4, int a5)
{
  HGDIOBJ *v5; // ebx@1
  HRSRC (__stdcall *v6)(HMODULE, LPCWSTR, LPCWSTR); // edi@3
  HRSRC v7; // esi@6
  DWORD v8; // eax@8
  HGLOBAL v9; // eax@9
  LPVOID v10; // eax@10
  int result; // eax@11

  v5 = this;
  if ( *this )
    sub_448AD0(this);
  v6 = FindResourceW;
  if ( !a5 )
    v6 = (HRSRC (__stdcall *)(HMODULE, LPCWSTR, LPCWSTR))FindResourceA;
  if ( (a4 && (v7 = v6(hModule, lpName, (LPCWSTR)2)) != 0 || (v7 = v6(hModule, lpName, (LPCWSTR)0xA)) != 0)
    && (v8 = SizeofResource(hModule, v7), (v5[2] = (HGDIOBJ)v8) != 0)
    && (v9 = LoadResource(hModule, v7), (*v5 = v9) != 0)
    && (v10 = LockResource(v9), (v5[1] = v10) != 0) )
  {
    result = 0;
  }
  else
  {
    GetLastError();
    result = -2005529767;
  }
  return result;
}

//----- (00448B80) --------------------------------------------------------
signed int __usercall sub_448B80@<eax>(int a1@<esi>)
{
  int v1; // eax@4

  if ( *(_DWORD *)(a1 + 20) != 204 )
  {
    (**(void (__stdcall ***)(_DWORD))(a1 + 424))(a1);
    *(_DWORD *)(a1 + 140) = 0;
    *(_DWORD *)(a1 + 20) = 204;
  }
  while ( *(_DWORD *)(*(_DWORD *)(a1 + 424) + 8) )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 48;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  *(_DWORD *)(a1 + 20) = (*(_DWORD *)(a1 + 68) != 0) + 205;
  return 1;
}

//----- (00448BF0) --------------------------------------------------------
int __stdcall sub_448BF0(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // eax@2
  unsigned int v6; // ecx@3
  unsigned int v7; // edx@3
  int v8; // eax@4
  int result; // eax@4
  int v10; // eax@5
  int v11; // eax@7

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 20);
  if ( v4 != 205 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 20;
    *(_DWORD *)(v5 + 24) = v4;
    (*(void (__stdcall **)(int))v5)(v3);
  }
  v6 = *(_DWORD *)(v3 + 140);
  v7 = *(_DWORD *)(v3 + 116);
  if ( v6 < v7 )
  {
    v10 = *(_DWORD *)(v3 + 8);
    if ( v10 )
    {
      *(_DWORD *)(v10 + 4) = v6;
      *(_DWORD *)(v10 + 8) = v7;
      (*(void (__stdcall **)(int))v10)(v3);
    }
    v11 = *(_DWORD *)(v3 + 428);
    a1 = 0;
    (*(void (__stdcall **)(int, int, int *, int))(v11 + 4))(v3, a2, &a1, a3);
    result = a1;
    *(_DWORD *)(v3 + 140) += a1;
  }
  else
  {
    v8 = *(_DWORD *)v3;
    *(_DWORD *)(v8 + 20) = 123;
    (*(void (__stdcall **)(int, signed int))(v8 + 4))(v3, -1);
    result = 0;
  }
  return result;
}

//----- (00448C80) --------------------------------------------------------
signed int __stdcall sub_448C80(int a1)
{
  signed int result; // eax@3
  int v2; // ecx@5
  void (__stdcall **v3)(_DWORD); // eax@7
  int v4; // eax@9
  int v5; // ecx@11
  int v6; // eax@14
  int v7; // edx@14
  int v8; // eax@14
  int v9; // eax@19

  if ( *(_DWORD *)(a1 + 20) == 202 )
  {
    sub_450F10(a1);
    if ( *(_DWORD *)(a1 + 64) )
    {
      *(_DWORD *)(a1 + 20) = 207;
      return 1;
    }
    *(_DWORD *)(a1 + 20) = 203;
  }
  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 == 203 )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) )
    {
      while ( 1 )
      {
        v3 = *(void (__stdcall ***)(_DWORD))(a1 + 8);
        if ( v3 )
          (*v3)(a1);
        v4 = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
        if ( !v4 )
          break;
        if ( v4 == 2 )
          goto LABEL_17;
        v5 = *(_DWORD *)(a1 + 8);
        if ( v5 && (v4 == 3 || v4 == 1) )
        {
          v6 = *(_DWORD *)(v5 + 4) + 1;
          v7 = v6;
          *(_DWORD *)(v5 + 4) = v6;
          v8 = *(_DWORD *)(v5 + 8);
          if ( v7 >= v8 )
            *(_DWORD *)(v5 + 8) = v8 + *(_DWORD *)(a1 + 324);
        }
      }
      result = 0;
    }
    else
    {
LABEL_17:
      *(_DWORD *)(a1 + 156) = *(_DWORD *)(a1 + 148);
      result = sub_448B80(a1);
    }
  }
  else
  {
    if ( v2 != 204 )
    {
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 20) = 20;
      *(_DWORD *)(v9 + 24) = v2;
      (*(void (__stdcall **)(int))v9)(a1);
    }
    result = sub_448B80(a1);
  }
  return result;
}

//----- (00448D60) --------------------------------------------------------
int __stdcall sub_448D60(int a1, int a2, int a3)
{
  int v3; // eax@2
  int v4; // eax@4
  int v5; // edx@5
  int v6; // ebx@5
  _DWORD *v7; // eax@5
  signed int v8; // ecx@5
  int result; // eax@7

  *(_DWORD *)(a1 + 4) = 0;
  if ( a2 != 62 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 12;
    *(_DWORD *)(v3 + 24) = 62;
    *(_DWORD *)(v3 + 28) = a2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  if ( a3 != 472 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 21;
    *(_DWORD *)(v4 + 24) = 472;
    *(_DWORD *)(v4 + 28) = a3;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(a1 + 12);
  memset((void *)a1, 0, 0x1D8u);
  *(_DWORD *)a1 = v5;
  *(_DWORD *)(a1 + 12) = v6;
  *(_DWORD *)(a1 + 16) = 1;
  sub_451F50(a1);
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 24) = 0;
  *(_DWORD *)(a1 + 168) = 0;
  *(_DWORD *)(a1 + 172) = 0;
  *(_DWORD *)(a1 + 176) = 0;
  *(_DWORD *)(a1 + 180) = 0;
  v7 = (_DWORD *)(a1 + 200);
  v8 = 4;
  do
  {
    *(v7 - 4) = 0;
    *v7 = 0;
    ++v7;
    --v8;
  }
  while ( v8 );
  *(_DWORD *)(a1 + 308) = 0;
  sub_44AAD0(a1);
  result = sub_4514D0(a1);
  *(_DWORD *)(a1 + 20) = 200;
  return result;
}

//----- (00448E30) --------------------------------------------------------
signed int __usercall sub_448E30@<eax>(int a1@<esi>)
{
  int v1; // ecx@6
  int v2; // eax@8
  int v3; // ecx@13
  int v4; // eax@15
  int v5; // eax@17
  int v6; // ecx@17
  int v7; // edx@17
  int v8; // edi@17
  int v9; // eax@24
  signed int result; // eax@27

  if ( *(_DWORD *)(a1 + 36) == 1 )
  {
    *(_DWORD *)(a1 + 40) = 1;
    *(_DWORD *)(a1 + 44) = 1;
    goto LABEL_27;
  }
  if ( *(_DWORD *)(a1 + 36) == 3 )
  {
    if ( !*(_DWORD *)(a1 + 284) )
    {
      if ( *(_DWORD *)(a1 + 296) )
      {
        v3 = *(_BYTE *)(a1 + 300);
        if ( *(_BYTE *)(a1 + 300) )
        {
          if ( *(_BYTE *)(a1 + 300) != 1 )
          {
            v4 = *(_DWORD *)a1;
            *(_DWORD *)(v4 + 20) = 114;
            *(_DWORD *)(v4 + 24) = v3;
            (*(void (__stdcall **)(int, signed int))(v4 + 4))(a1, -1);
          }
          goto LABEL_25;
        }
LABEL_16:
        *(_DWORD *)(a1 + 40) = 2;
        *(_DWORD *)(a1 + 44) = 2;
        goto LABEL_27;
      }
      v5 = *(_DWORD *)(a1 + 220);
      v6 = *(_DWORD *)v5;
      v7 = *(_DWORD *)(v5 + 84);
      v8 = *(_DWORD *)(v5 + 168);
      if ( *(_DWORD *)v5 == 1 )
      {
        if ( v7 == 2 && v8 == 3 )
        {
          *(_DWORD *)(a1 + 40) = 3;
          *(_DWORD *)(a1 + 44) = 2;
          goto LABEL_27;
        }
      }
      else if ( v6 == 82 && v7 == 71 && v8 == 66 )
      {
        goto LABEL_16;
      }
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 24) = v6;
      *(_DWORD *)(v9 + 28) = v7;
      *(_DWORD *)(v9 + 32) = v8;
      *(_DWORD *)(v9 + 20) = 111;
      (*(void (__stdcall **)(int, signed int))(v9 + 4))(a1, 1);
    }
LABEL_25:
    *(_DWORD *)(a1 + 40) = 3;
    *(_DWORD *)(a1 + 44) = 2;
    goto LABEL_27;
  }
  if ( *(_DWORD *)(a1 + 36) == 4 )
  {
    if ( *(_DWORD *)(a1 + 296) && (v1 = *(_BYTE *)(a1 + 300)) != 0 )
    {
      if ( *(_BYTE *)(a1 + 300) != 2 )
      {
        v2 = *(_DWORD *)a1;
        *(_DWORD *)(v2 + 20) = 114;
        *(_DWORD *)(v2 + 24) = v1;
        (*(void (__stdcall **)(int, signed int))(v2 + 4))(a1, -1);
      }
      *(_DWORD *)(a1 + 40) = 5;
      *(_DWORD *)(a1 + 44) = 4;
    }
    else
    {
      *(_DWORD *)(a1 + 40) = 4;
      *(_DWORD *)(a1 + 44) = 4;
    }
  }
  else
  {
    *(_DWORD *)(a1 + 40) = 0;
    *(_DWORD *)(a1 + 44) = 0;
  }
LABEL_27:
  result = 1;
  *(_DWORD *)(a1 + 56) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 68) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  *(_DWORD *)(a1 + 92) = 0;
  *(_DWORD *)(a1 + 136) = 0;
  *(_DWORD *)(a1 + 100) = 0;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 48) = 1;
  *(_DWORD *)(a1 + 52) = 1;
  *(_DWORD *)(a1 + 60) = 1072693248;
  *(_DWORD *)(a1 + 76) = 1;
  *(_DWORD *)(a1 + 80) = 1;
  *(_DWORD *)(a1 + 88) = 2;
  *(_DWORD *)(a1 + 96) = 256;
  return result;
}

//----- (00448FA0) --------------------------------------------------------
int __stdcall sub_448FA0(int a1)
{
  int v1; // ecx@1
  int v2; // edi@1
  int result; // eax@4
  int v4; // eax@7

  v1 = *(_DWORD *)(a1 + 20);
  v2 = 0;
  switch ( v1 )
  {
    case 200:
      (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 440) + 4))(a1);
      (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 24) + 8))(a1);
      *(_DWORD *)(a1 + 20) = 201;
      goto LABEL_3;
    case 201:
LABEL_3:
      v2 = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
      if ( v2 != 1 )
        goto LABEL_8;
      sub_448E30(a1);
      result = 1;
      *(_DWORD *)(a1 + 20) = 202;
      break;
    case 202:
      result = 1;
      break;
    case 203:
    case 204:
    case 205:
    case 206:
    case 207:
    case 208:
    case 210:
      result = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
      break;
    default:
      v4 = *(_DWORD *)a1;
      *(_DWORD *)(v4 + 20) = 20;
      *(_DWORD *)(v4 + 24) = v1;
      (*(void (__stdcall **)(int))v4)(a1);
LABEL_8:
      result = v2;
      break;
  }
  return result;
}

//----- (00449050) --------------------------------------------------------
signed int __stdcall sub_449050(int a1)
{
  int v1; // ecx@1
  int v2; // eax@5
  int v3; // eax@10
  signed int result; // eax@14

  v1 = *(_DWORD *)(a1 + 20);
  if ( v1 != 205 && v1 != 206 || *(_DWORD *)(a1 + 64) )
  {
    if ( v1 == 207 )
    {
      *(_DWORD *)(a1 + 20) = 210;
    }
    else if ( v1 != 210 )
    {
      v3 = *(_DWORD *)a1;
      *(_DWORD *)(v3 + 20) = 20;
      *(_DWORD *)(v3 + 24) = v1;
      (*(void (__stdcall **)(int))v3)(a1);
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 140) < *(_DWORD *)(a1 + 116) )
    {
      v2 = *(_DWORD *)a1;
      *(_DWORD *)(v2 + 20) = 67;
      (*(void (__stdcall **)(int))v2)(a1);
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 424) + 4))(a1);
    *(_DWORD *)(a1 + 20) = 210;
  }
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 20) )
  {
LABEL_14:
    (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 24) + 24))(a1);
    sub_452010(a1);
    result = 1;
  }
  else
  {
    while ( (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1) )
    {
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 20) )
        goto LABEL_14;
    }
    result = 0;
  }
  return result;
}

//----- (00449110) --------------------------------------------------------
int __stdcall sub_449110(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // eax@3
  int result; // eax@4
  int v5; // eax@7

  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != 200 && v2 != 201 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  result = sub_448FA0(a1);
  if ( result == 1 )
  {
    result = 1;
  }
  else if ( result == 2 )
  {
    if ( a2 )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 51;
      (*(void (__thiscall **)(_DWORD, int))v5)(0, a1);
    }
    sub_452010(a1);
    result = 2;
  }
  return result;
}

//----- (00449180) --------------------------------------------------------
BOOL sub_449180()
{
  _EAX = 1;
  __asm { cpuid }
  return (_EDX & 0x800000) != 0;
}

//----- (004491A5) --------------------------------------------------------
int sub_4491A5()
{
  struct _SYSTEM_INFO SystemInfo; // [sp+4h] [bp-34h]@8
  BYTE Data[4]; // [sp+28h] [bp-10h]@2
  DWORD Type; // [sp+2Ch] [bp-Ch]@2
  DWORD cbData; // [sp+30h] [bp-8h]@2
  HKEY phkResult; // [sp+34h] [bp-4h]@1

  if ( !RegOpenKeyA(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Direct3D", &phkResult) )
  {
    cbData = 4;
    if ( !RegQueryValueExA(phkResult, "DisableMMX", 0, &Type, Data, &cbData) && Type == 4 && *(_DWORD *)Data )
    {
      RegCloseKey(phkResult);
      dword_52A87C = 0;
      return 0;
    }
    RegCloseKey(phkResult);
  }
  if ( dword_52A87C < 0 )
  {
    dword_52A87C = 0;
    GetSystemInfo(&SystemInfo);
    if ( !SystemInfo.wProcessorArchitecture && SystemInfo.wProcessorLevel >= 5u )
    {
      if ( sub_449180() )
      {
        _m_femms();
        dword_52A87C = 1;
      }
    }
  }
  return dword_52A87C;
}
// 52A87C: using guessed type int dword_52A87C;

//----- (00449255) --------------------------------------------------------
int sub_449255()
{
  int result; // eax@2
  int v11; // [sp-Ch] [bp-48h]@1
  int v12; // [sp+4h] [bp-38h]@1
  int v13; // [sp+8h] [bp-34h]@1
  int v14; // [sp+Ch] [bp-30h]@1
  int v15; // [sp+10h] [bp-2Ch]@3
  int v16; // [sp+14h] [bp-28h]@3
  int v17; // [sp+18h] [bp-24h]@1
  int v18; // [sp+1Ch] [bp-20h]@1
  int v19; // [sp+20h] [bp-1Ch]@1
  char v20; // [sp+24h] [bp-18h]@1
  int v21; // [sp+28h] [bp-14h]@1
  int *v22; // [sp+2Ch] [bp-10h]@1
  int v23; // [sp+38h] [bp-4h]@1

  v22 = &v11;
  v21 = 0;
  v17 = *(_DWORD *)"GenuineIntel";
  v18 = *(_DWORD *)"ineIntel";
  v19 = *(_DWORD *)"ntel";
  v20 = aGenuineintel[12];
  _EAX = 0;
  __asm { cpuid }
  v12 = _EBX;
  v13 = _EDX;
  v14 = _ECX;
  v23 = -1;
  if ( _EAX )
  {
    _EAX = 1;
    __asm { cpuid }
    v15 = _EAX;
    v16 = _EDX;
    if ( _EDX & 0x2000000 )
      v21 |= 4u;
    if ( v16 & 0x4000000 )
      v21 |= 8u;
    result = v21;
  }
  else
  {
    result = v21;
  }
  return result;
}

//----- (004492FA) --------------------------------------------------------
int __stdcall sub_4492FA(DWORD Type)
{
  DWORD v2; // [sp+Ch] [bp-4h]@6

  if ( Type )
  {
    if ( dword_52A880 == 0xFFFF )
    {
      dword_52A880 = 0;
      qmemcpy(&off_52A640, off_52A760, 0x11Cu);
      sub_44E3A1((int)&off_52A640);
      if ( !sub_43603F(4, "DisablePSGP", (DWORD)&Type, 4u) )
        Type = 0;
      if ( sub_43603F(4, "DisableD3DXPSGP", (DWORD)&v2, 4u) )
        Type = v2;
      if ( Type != 1 )
      {
        if ( Type != 2 && IsProcessorFeaturePresent(7u) )
        {
          sub_452466((int)&off_52A640);
          dword_52A880 = 1;
        }
        else if ( sub_449255() & 8 )
        {
          sub_45221E((int)&off_52A640);
          dword_52A880 = 2;
        }
        else if ( IsProcessorFeaturePresent(6u) )
        {
          sub_4520B0((int)&off_52A640);
          dword_52A880 = 3;
        }
      }
    }
  }
  else
  {
    dword_52A880 = 0xFFFF;
    qmemcpy(&off_52A640, off_52A760, 0x11Cu);
  }
  return dword_52A880;
}
// 52A640: using guessed type int (*off_52A640)(void);
// 52A760: using guessed type int (__stdcall *off_52A760[7])(int, int, int);
// 52A880: using guessed type int dword_52A880;

//----- (00449400) --------------------------------------------------------
signed int __usercall sub_449400@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  int v2; // eax@2
  _BYTE *v3; // eax@3
  signed int v4; // ecx@3
  int v5; // ecx@5

  v1 = *(_DWORD *)a1;
  *(_DWORD *)(v1 + 20) = 102;
  (*(void (__stdcall **)(int, signed int))(v1 + 4))(a1, 1);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 444) + 12) )
  {
    v2 = *(_DWORD *)a1;
    *(_DWORD *)(v2 + 20) = 61;
    (*(void (__stdcall **)(int))v2)(a1);
  }
  v3 = (_BYTE *)(a1 + 248);
  v4 = 16;
  do
  {
    *(v3 - 16) = 0;
    *v3 = 1;
    (v3++)[16] = 5;
    --v4;
  }
  while ( v4 );
  v5 = *(_DWORD *)(a1 + 444);
  *(_DWORD *)(a1 + 280) = 0;
  *(_DWORD *)(a1 + 40) = 0;
  *(_DWORD *)(a1 + 304) = 0;
  *(_DWORD *)(a1 + 284) = 0;
  *(_BYTE *)(a1 + 290) = 0;
  *(_DWORD *)(a1 + 296) = 0;
  *(_BYTE *)(a1 + 300) = 0;
  *(_BYTE *)(a1 + 288) = 1;
  *(_BYTE *)(a1 + 289) = 1;
  *(_WORD *)(a1 + 292) = 1;
  *(_WORD *)(a1 + 294) = 1;
  *(_DWORD *)(v5 + 12) = 1;
  return 1;
}

//----- (004494B0) --------------------------------------------------------
signed int __usercall sub_4494B0@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<esi>)
{
  int v3; // ebp@1
  int v4; // ebx@1
  _BYTE *v5; // edi@1
  unsigned __int16 v6; // dx@4
  int v7; // ebx@4
  _BYTE *v8; // edi@4
  int v9; // eax@7
  int v10; // ebx@7
  _BYTE *v11; // edi@7
  int v12; // ecx@10
  int v13; // ebx@10
  _BYTE *v14; // edi@10
  unsigned __int16 v15; // dx@13
  int v16; // ebx@13
  _BYTE *v17; // edi@13
  int v18; // edx@16
  int v19; // ebx@16
  _BYTE *v20; // edi@16
  unsigned __int16 v21; // cx@19
  int v22; // ebx@19
  _BYTE *v23; // edi@19
  int v24; // eax@22
  int v25; // ebx@22
  _BYTE *v26; // edi@22
  int v27; // ecx@25
  int v28; // edx@25
  int v29; // eax@25
  int v30; // ecx@25
  int v31; // edx@25
  int v32; // ebx@25
  _BYTE *v33; // edi@25
  int v34; // eax@26
  int v35; // eax@30
  int v36; // eax@32
  int v37; // ebp@35
  int v38; // edx@39
  int v39; // ebx@39
  _BYTE *v40; // edi@39
  int v41; // ebx@42
  int v42; // ecx@42
  int v43; // eax@42
  _BYTE *v44; // edi@42
  int v45; // ecx@45
  int v46; // eax@45
  int v48; // [sp+54h] [bp-8h]@4
  int v49; // [sp+54h] [bp-8h]@7
  int v50; // [sp+54h] [bp-8h]@25
  int i; // [sp+54h] [bp-8h]@35
  int v52; // [sp+58h] [bp-4h]@1

  v3 = *(_DWORD *)(a3 + 24);
  v4 = *(_DWORD *)(v3 + 4);
  v5 = *(_BYTE **)v3;
  v52 = *(_DWORD *)(a3 + 24);
  *(_DWORD *)(a3 + 224) = a1;
  *(_DWORD *)(a3 + 228) = a2;
  if ( !v4 )
  {
    if ( !(*(int (__stdcall **)(int))(v3 + 12))(a3) )
      return 0;
    v5 = *(_BYTE **)v3;
    v4 = *(_DWORD *)(v3 + 4);
  }
  LOBYTE(v6) = 0;
  HIBYTE(v6) = *v5;
  v7 = v4 - 1;
  v8 = v5 + 1;
  v48 = v6;
  if ( !v7 )
  {
    if ( !(*(int (__stdcall **)(int))(v3 + 12))(a3) )
      return 0;
    v8 = *(_BYTE **)v3;
    v7 = *(_DWORD *)(v3 + 4);
  }
  v9 = *v8;
  v10 = v7 - 1;
  v11 = v8 + 1;
  v49 = v9 + v48;
  if ( !v10 )
  {
    if ( !(*(int (__stdcall **)(int))(v3 + 12))(a3) )
      return 0;
    v11 = *(_BYTE **)v3;
    v10 = *(_DWORD *)(v3 + 4);
  }
  v12 = *v11;
  v13 = v10 - 1;
  v14 = v11 + 1;
  *(_DWORD *)(a3 + 216) = v12;
  if ( !v13 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v14 = *(_BYTE **)v3;
    v13 = *(_DWORD *)(v3 + 4);
  }
  LOBYTE(v15) = 0;
  HIBYTE(v15) = *v14;
  v16 = v13 - 1;
  v17 = v14 + 1;
  *(_DWORD *)(a3 + 32) = v15;
  if ( !v16 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v17 = *(_BYTE **)v3;
    v16 = *(_DWORD *)(v3 + 4);
  }
  v18 = *v17 + *(_DWORD *)(a3 + 32);
  v19 = v16 - 1;
  v20 = v17 + 1;
  *(_DWORD *)(a3 + 32) = v18;
  if ( !v19 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v20 = *(_BYTE **)v3;
    v19 = *(_DWORD *)(v3 + 4);
  }
  LOBYTE(v21) = 0;
  HIBYTE(v21) = *v20;
  v22 = v19 - 1;
  v23 = v20 + 1;
  *(_DWORD *)(a3 + 28) = v21;
  if ( !v22 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v23 = *(_BYTE **)v3;
    v22 = *(_DWORD *)(v3 + 4);
  }
  v24 = *v23 + *(_DWORD *)(a3 + 28);
  v25 = v22 - 1;
  v26 = v23 + 1;
  *(_DWORD *)(a3 + 28) = v24;
  if ( !v25 )
  {
    if ( (*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
    {
      v26 = *(_BYTE **)v3;
      v25 = *(_DWORD *)(v3 + 4);
      goto LABEL_25;
    }
    return 0;
  }
LABEL_25:
  v27 = *(_DWORD *)(a3 + 420);
  v28 = *(_DWORD *)(a3 + 28);
  *(_DWORD *)(a3 + 36) = *v26;
  v50 = v49 - 8;
  v29 = *(_DWORD *)a3;
  *(_DWORD *)(v29 + 24) = v27;
  v30 = *(_DWORD *)(a3 + 32);
  *(_DWORD *)(v29 + 28) = v28;
  v31 = *(_DWORD *)(a3 + 36);
  *(_DWORD *)(v29 + 32) = v30;
  *(_DWORD *)(v29 + 36) = v31;
  v32 = v25 - 1;
  v33 = v26 + 1;
  *(_DWORD *)(v29 + 20) = 100;
  (*(void (__stdcall **)(int, signed int))(v29 + 4))(a3, 1);
  if ( *(_DWORD *)(*(_DWORD *)(a3 + 444) + 16) )
  {
    v34 = *(_DWORD *)a3;
    *(_DWORD *)(v34 + 20) = 58;
    (*(void (__stdcall **)(int))v34)(a3);
  }
  if ( !*(_DWORD *)(a3 + 32) || !*(_DWORD *)(a3 + 28) || *(_DWORD *)(a3 + 36) <= 0 )
  {
    v35 = *(_DWORD *)a3;
    *(_DWORD *)(v35 + 20) = 32;
    (*(void (__stdcall **)(int))v35)(a3);
  }
  if ( v50 != 3 * *(_DWORD *)(a3 + 36) )
  {
    v36 = *(_DWORD *)a3;
    *(_DWORD *)(v36 + 20) = 11;
    (*(void (__stdcall **)(int))v36)(a3);
  }
  if ( !*(_DWORD *)(a3 + 220) )
    *(_DWORD *)(a3 + 220) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a3 + 4))(a3, 1, 84 * *(_DWORD *)(a3 + 36));
  v37 = *(_DWORD *)(a3 + 220);
  for ( i = 0; i < *(_DWORD *)(a3 + 36); ++i )
  {
    *(_DWORD *)(v37 + 4) = i;
    if ( !v32 )
    {
      if ( !(*(int (__stdcall **)(int))(v52 + 12))(a3) )
        return 0;
      v33 = *(_BYTE **)v52;
      v32 = *(_DWORD *)(v52 + 4);
    }
    v38 = *v33;
    v39 = v32 - 1;
    v40 = v33 + 1;
    *(_DWORD *)v37 = v38;
    if ( !v39 )
    {
      if ( !(*(int (__stdcall **)(int))(v52 + 12))(a3) )
        return 0;
      v40 = *(_BYTE **)v52;
      v39 = *(_DWORD *)(v52 + 4);
    }
    v41 = v39 - 1;
    v42 = ((signed int)*v40 >> 4) & 0xF;
    v43 = *v40 & 0xF;
    v44 = v40 + 1;
    *(_DWORD *)(v37 + 8) = v42;
    *(_DWORD *)(v37 + 12) = v43;
    if ( !v41 )
    {
      if ( !(*(int (__stdcall **)(int))(v52 + 12))(a3) )
        return 0;
      v44 = *(_BYTE **)v52;
      v41 = *(_DWORD *)(v52 + 4);
    }
    v45 = *(_DWORD *)v37;
    v46 = *(_DWORD *)a3;
    *(_DWORD *)(v37 + 16) = *v44;
    *(_DWORD *)(v46 + 24) = v45;
    *(_DWORD *)(v46 + 28) = *(_DWORD *)(v37 + 8);
    *(_DWORD *)(v46 + 32) = *(_DWORD *)(v37 + 12);
    *(_DWORD *)(v46 + 36) = *(_DWORD *)(v37 + 16);
    v32 = v41 - 1;
    v33 = v44 + 1;
    *(_DWORD *)(v46 + 20) = 101;
    (*(void (__stdcall **)(int, signed int))(v46 + 4))(a3, 1);
    v37 += 84;
  }
  *(_DWORD *)(*(_DWORD *)(a3 + 444) + 16) = 1;
  *(_DWORD *)v52 = v33;
  *(_DWORD *)(v52 + 4) = v32;
  return 1;
}

//----- (00449770) --------------------------------------------------------
signed int __usercall sub_449770@<eax>(int a1@<esi>)
{
  int v1; // edi@1
  _BYTE *v2; // ebx@1
  int v3; // ebp@1
  int v4; // eax@2
  unsigned __int16 v5; // dx@6
  int v6; // ebp@6
  _BYTE *v7; // ebx@6
  int v8; // ecx@9
  int v9; // ebp@9
  _BYTE *v10; // ebx@9
  signed int v11; // ecx@12
  int v12; // eax@12
  int v13; // ebp@12
  _BYTE *v14; // ebx@12
  signed int v15; // eax@12
  int v16; // eax@15
  int v17; // ecx@21
  int v18; // ebp@21
  _BYTE *v19; // ebx@21
  int v20; // edi@24
  signed int v21; // ebp@24
  int v22; // eax@24
  int v23; // eax@27
  int v24; // eax@28
  bool v25; // sf@28
  unsigned __int8 v26; // of@28
  int v27; // eax@32
  int v28; // ebp@32
  _BYTE *v29; // ebx@32
  int v30; // eax@35
  int v31; // ebp@35
  _BYTE *v32; // ebx@35
  int v34; // edx@39
  int v35; // ecx@39
  int v36; // ST50_4@39
  int v37; // eax@39
  int v38; // edx@39
  int v39; // eax@39
  int v40; // [sp+3Ch] [bp-18h]@24
  int v41; // [sp+40h] [bp-14h]@6
  int v42; // [sp+40h] [bp-14h]@9
  int v43; // [sp+40h] [bp-14h]@21
  _DWORD *v44; // [sp+44h] [bp-10h]@17
  signed int v45; // [sp+48h] [bp-Ch]@12
  int v46; // [sp+4Ch] [bp-8h]@16
  int v47; // [sp+50h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  v3 = *(_DWORD *)(v1 + 4);
  v47 = *(_DWORD *)(a1 + 24);
  if ( !*(_DWORD *)(*(_DWORD *)(a1 + 444) + 16) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 62;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v2 = *(_BYTE **)v1;
    v3 = *(_DWORD *)(v1 + 4);
  }
  LOBYTE(v5) = 0;
  HIBYTE(v5) = *v2;
  v6 = v3 - 1;
  v7 = v2 + 1;
  v41 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v7 = *(_BYTE **)v1;
    v6 = *(_DWORD *)(v1 + 4);
  }
  v8 = *v7;
  v9 = v6 - 1;
  v10 = v7 + 1;
  v42 = v8 + v41;
  if ( !v9 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v10 = *(_BYTE **)v1;
    v9 = *(_DWORD *)(v1 + 4);
  }
  v11 = *v10;
  v12 = *(_DWORD *)a1;
  *(_DWORD *)(v12 + 20) = 103;
  v13 = v9 - 1;
  v45 = v11;
  v14 = v10 + 1;
  *(_DWORD *)(v12 + 24) = v11;
  (*(void (__stdcall **)(int, signed int))(v12 + 4))(a1, 1);
  v15 = v45;
  if ( v42 != 2 * v45 + 6 || v45 < 1 || v45 > 4 )
  {
    v16 = *(_DWORD *)a1;
    *(_DWORD *)(v16 + 20) = 11;
    (*(void (__stdcall **)(int))v16)(a1);
    v15 = v45;
  }
  *(_DWORD *)(a1 + 332) = v15;
  v46 = 0;
  if ( v15 > 0 )
  {
    v44 = (_DWORD *)(a1 + 336);
    do
    {
      if ( !v13 )
      {
        if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v14 = *(_BYTE **)v1;
        v13 = *(_DWORD *)(v1 + 4);
      }
      v17 = *v14;
      v18 = v13 - 1;
      v19 = v14 + 1;
      v43 = v17;
      if ( !v18 )
      {
        if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v19 = *(_BYTE **)v1;
        v18 = *(_DWORD *)(v1 + 4);
      }
      v20 = *(_DWORD *)(a1 + 220);
      v40 = v18 - 1;
      v21 = *v19;
      v14 = v19 + 1;
      v22 = 0;
      if ( *(_DWORD *)(a1 + 36) <= 0 )
      {
LABEL_27:
        v23 = *(_DWORD *)a1;
        *(_DWORD *)(v23 + 20) = 5;
        *(_DWORD *)(v23 + 24) = v43;
        (*(void (__stdcall **)(int))v23)(a1);
      }
      else
      {
        while ( v43 != *(_DWORD *)v20 )
        {
          ++v22;
          v20 += 84;
          if ( v22 >= *(_DWORD *)(a1 + 36) )
            goto LABEL_27;
        }
      }
      *(_DWORD *)(v20 + 20) = (v21 >> 4) & 0xF;
      *v44 = v20;
      v24 = *(_DWORD *)a1;
      *(_DWORD *)(v20 + 24) = v21 & 0xF;
      *(_DWORD *)(v24 + 24) = v43;
      *(_DWORD *)(v24 + 28) = *(_DWORD *)(v20 + 20);
      *(_DWORD *)(v24 + 32) = *(_DWORD *)(v20 + 24);
      *(_DWORD *)(v24 + 20) = 104;
      (*(void (__stdcall **)(int, signed int))(v24 + 4))(a1, 1);
      v13 = v40;
      v1 = v47;
      v26 = __OFSUB__(v46 + 1, v45);
      v25 = v46++ + 1 - v45 < 0;
      ++v44;
    }
    while ( v25 ^ v26 );
  }
  if ( !v13 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v14 = *(_BYTE **)v1;
    v13 = *(_DWORD *)(v1 + 4);
  }
  v27 = *v14;
  v28 = v13 - 1;
  v29 = v14 + 1;
  *(_DWORD *)(a1 + 404) = v27;
  if ( v28 )
    goto LABEL_35;
  if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
    return 0;
  v29 = *(_BYTE **)v1;
  v28 = *(_DWORD *)(v1 + 4);
LABEL_35:
  v30 = *v29;
  v31 = v28 - 1;
  v32 = v29 + 1;
  *(_DWORD *)(a1 + 408) = v30;
  if ( !v31 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v32 = *(_BYTE **)v1;
    v31 = *(_DWORD *)(v1 + 4);
  }
  v34 = *(_DWORD *)(a1 + 404);
  v35 = ((signed int)*v32 >> 4) & 0xF;
  v36 = *v32 & 0xF;
  *(_DWORD *)(a1 + 416) = v36;
  v37 = *(_DWORD *)a1;
  *(_DWORD *)(v37 + 24) = v34;
  v38 = *(_DWORD *)(a1 + 408);
  *(_DWORD *)(v37 + 32) = v35;
  *(_DWORD *)(a1 + 412) = v35;
  *(_DWORD *)(v37 + 28) = v38;
  *(_DWORD *)(v37 + 36) = v36;
  *(_DWORD *)(v37 + 20) = 105;
  (*(void (__stdcall **)(int, signed int))(v37 + 4))(a1, 1);
  v39 = *(_DWORD *)(a1 + 148) + 1;
  *(_DWORD *)(*(_DWORD *)(a1 + 444) + 20) = 0;
  *(_DWORD *)v1 = v32 + 1;
  *(_DWORD *)(v1 + 4) = v31 - 1;
  *(_DWORD *)(a1 + 148) = v39;
  return 1;
}

//----- (00449A30) --------------------------------------------------------
signed int __usercall sub_449A30@<eax>(int a1@<ebx>)
{
  int v1; // edi@1
  int v2; // esi@1
  char *v3; // ebp@1
  int v4; // eax@4
  int v5; // esi@4
  char *v6; // ebp@4
  int v7; // esi@7
  int v8; // eax@7
  char *v9; // ebp@7
  int v10; // ecx@11
  int v11; // eax@11
  int v12; // esi@11
  signed int v13; // edi@11
  int v14; // esi@13
  char v15; // dl@15
  int v16; // eax@16
  int v17; // edx@16
  int v18; // ecx@16
  int v19; // edx@16
  int v20; // ecx@16
  int v21; // edx@16
  int v22; // ecx@16
  int v23; // edx@16
  int v24; // eax@16
  int v25; // edx@16
  int v26; // ecx@16
  int v27; // edx@16
  int v28; // ecx@16
  int v29; // edx@16
  int v30; // ecx@16
  int v31; // edx@16
  int v32; // eax@18
  signed int v33; // eax@19
  signed int j; // edi@19
  int v35; // esi@21
  char v36; // cl@23
  int v37; // edx@24
  int v38; // eax@24
  int *v39; // esi@25
  int v40; // ecx@29
  int v41; // eax@32
  void *v42; // edi@32
  int v43; // eax@34
  int v45; // [sp+34h] [bp-128h]@15
  int v46; // [sp+38h] [bp-124h]@4
  signed int i; // [sp+38h] [bp-124h]@7
  int v48; // [sp+38h] [bp-124h]@16
  signed int v49; // [sp+3Ch] [bp-120h]@11
  int v50; // [sp+40h] [bp-11Ch]@11
  int v51; // [sp+44h] [bp-118h]@16
  int v52; // [sp+48h] [bp-114h]@16
  int v53; // [sp+4Ch] [bp-110h]@16
  unsigned __int8 v54; // [sp+50h] [bp-10Ch]@16
  int v55; // [sp+54h] [bp-108h]@1
  int v56; // [sp+58h] [bp-104h]@11
  char v57[256]; // [sp+5Ch] [bp-100h]@23

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(char **)v1;
  v55 = *(_DWORD *)(a1 + 24);
  if ( !v2 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v3 = *(char **)v1;
    v2 = *(_DWORD *)(v1 + 4);
  }
  v4 = 0;
  BYTE1(v4) = *v3;
  v5 = v2 - 1;
  v6 = v3 + 1;
  v46 = (unsigned __int16)v4;
  if ( !v5 )
  {
    if ( (*(int (__stdcall **)(int))(v1 + 12))(a1) )
    {
      v6 = *(char **)v1;
      v4 = v46;
      v5 = *(_DWORD *)(v1 + 4);
      goto LABEL_7;
    }
    return 0;
  }
LABEL_7:
  v7 = v5 - 1;
  v8 = (unsigned __int8)*v6 + v4 - 2;
  v9 = v6 + 1;
  for ( i = v8; i > 16; v7 = v45 )
  {
    if ( !v7 )
    {
      if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
        return 0;
      v9 = *(char **)v1;
      v7 = *(_DWORD *)(v1 + 4);
    }
    v10 = (unsigned __int8)*v9;
    v11 = *(_DWORD *)a1;
    v12 = v7 - 1;
    *(_DWORD *)(v11 + 20) = 80;
    v56 = v10;
    ++v9;
    *(_DWORD *)(v11 + 24) = v10;
    (*(void (__stdcall **)(int, signed int))(v11 + 4))(a1, 1);
    LOBYTE(v50) = 0;
    v49 = 0;
    v13 = 1;
    do
    {
      if ( !v12 )
      {
        v14 = v55;
        if ( !(*(int (__stdcall **)(int))(v55 + 12))(a1) )
          return 0;
        v9 = *(char **)v14;
        v12 = *(_DWORD *)(v14 + 4);
      }
      v15 = *v9;
      *((_BYTE *)&v50 + v13) = *v9;
      --v12;
      ++v9;
      ++v13;
      v45 = v12;
      v49 += (unsigned __int8)v15;
    }
    while ( v13 <= 16 );
    v16 = *(_DWORD *)a1;
    v17 = BYTE2(v50);
    *(_DWORD *)(v16 + 24) = BYTE1(v50);
    v18 = BYTE3(v50);
    *(_DWORD *)(v16 + 28) = v17;
    v19 = (unsigned __int8)v51;
    *(_DWORD *)(v16 + 32) = v18;
    v20 = BYTE1(v51);
    *(_DWORD *)(v16 + 36) = v19;
    v21 = BYTE2(v51);
    *(_DWORD *)(v16 + 40) = v20;
    v22 = BYTE3(v51);
    *(_DWORD *)(v16 + 44) = v21;
    v23 = (unsigned __int8)v52;
    v48 = i - 17;
    *(_DWORD *)(v16 + 48) = v22;
    *(_DWORD *)(v16 + 52) = v23;
    *(_DWORD *)(v16 + 20) = 86;
    (*(void (__stdcall **)(int, signed int))(v16 + 4))(a1, 2);
    v24 = *(_DWORD *)a1;
    v25 = BYTE2(v52);
    *(_DWORD *)(v24 + 24) = BYTE1(v52);
    v26 = BYTE3(v52);
    *(_DWORD *)(v24 + 28) = v25;
    v27 = (unsigned __int8)v53;
    *(_DWORD *)(v24 + 32) = v26;
    v28 = BYTE1(v53);
    *(_DWORD *)(v24 + 36) = v27;
    v29 = BYTE2(v53);
    *(_DWORD *)(v24 + 40) = v28;
    v30 = BYTE3(v53);
    *(_DWORD *)(v24 + 44) = v29;
    v31 = v54;
    *(_DWORD *)(v24 + 48) = v30;
    *(_DWORD *)(v24 + 52) = v31;
    *(_DWORD *)(v24 + 20) = 86;
    (*(void (__stdcall **)(int, signed int))(v24 + 4))(a1, 2);
    if ( v49 > 256 || v49 > v48 )
    {
      v32 = *(_DWORD *)a1;
      *(_DWORD *)(v32 + 20) = 8;
      (*(void (__stdcall **)(int))v32)(a1);
    }
    v33 = v49;
    for ( j = 0; j < v33; v45 = v12 )
    {
      if ( !v12 )
      {
        v35 = v55;
        if ( !(*(int (__stdcall **)(int))(v55 + 12))(a1) )
          return 0;
        v9 = *(char **)v35;
        v12 = *(_DWORD *)(v35 + 4);
        v33 = v49;
      }
      v36 = *v9;
      --v12;
      ++v9;
      v57[j++] = v36;
    }
    v37 = v48 - v33;
    v38 = v56;
    i = v37;
    if ( v56 & 0x10 )
    {
      v38 = v56 - 16;
      v39 = (int *)(a1 + 4 * (v56 - 16) + 200);
    }
    else
    {
      v39 = (int *)(a1 + 4 * v56 + 184);
    }
    if ( v38 < 0 || v38 >= 4 )
    {
      v40 = *(_DWORD *)a1;
      *(_DWORD *)(v40 + 20) = 30;
      *(_DWORD *)(v40 + 24) = v38;
      (*(void (__stdcall **)(int))v40)(a1);
    }
    if ( !*v39 )
      *v39 = sub_452090(a1);
    v41 = *v39;
    *(_DWORD *)v41 = v50;
    *(_DWORD *)(v41 + 4) = v51;
    *(_DWORD *)(v41 + 8) = v52;
    *(_DWORD *)(v41 + 12) = v53;
    *(_BYTE *)(v41 + 16) = v54;
    v42 = (void *)(v41 + 17);
    v8 = i;
    qmemcpy(v42, v57, 0x100u);
    v1 = v55;
  }
  if ( v8 )
  {
    v43 = *(_DWORD *)a1;
    *(_DWORD *)(v43 + 20) = 11;
    (*(void (__stdcall **)(int))v43)(a1);
  }
  *(_DWORD *)v1 = v9;
  *(_DWORD *)(v1 + 4) = v7;
  return 1;
}
// 449A30: using guessed type char var_100[256];

//----- (00449D00) --------------------------------------------------------
signed int __stdcall sub_449D00(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // ebx@1
  char *v4; // edi@1
  int v5; // eax@4
  int v6; // ebx@4
  char *v7; // edi@4
  int v8; // ebx@7
  int v9; // eax@7
  char *v10; // edi@7
  bool v11; // zf@7
  char v12; // si@11
  int v13; // eax@11
  signed int v14; // ecx@11
  int v15; // esi@11
  int v16; // eax@12
  int v17; // edx@15
  int *v18; // esi@15
  __int16 v19; // ax@20
  __int16 v20; // dx@23
  int v21; // ecx@28
  int v22; // esi@30
  int v23; // eax@31
  int v24; // ecx@32
  int v25; // eax@37
  int v27; // [sp+24h] [bp-14h]@1
  __int16 v28; // [sp+28h] [bp-10h]@20
  int *v29; // [sp+2Ch] [bp-Ch]@15
  signed int v30; // [sp+2Ch] [bp-Ch]@30
  signed int v31; // [sp+30h] [bp-8h]@11
  int v32; // [sp+34h] [bp-4h]@15
  int v33; // [sp+3Ch] [bp+4h]@4
  int v34; // [sp+3Ch] [bp+4h]@7

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(char **)v2;
  v27 = *(_DWORD *)(a1 + 24);
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(char **)v2;
    v3 = *(_DWORD *)(v2 + 4);
  }
  v5 = 0;
  BYTE1(v5) = *v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v33 = (unsigned __int16)v5;
  if ( !v6 )
  {
    if ( (*(int (__stdcall **)(int))(v2 + 12))(v1) )
    {
      v7 = *(char **)v2;
      v6 = *(_DWORD *)(v2 + 4);
      v5 = v33;
      goto LABEL_7;
    }
    return 0;
  }
LABEL_7:
  v8 = v6 - 1;
  v9 = (unsigned __int8)*v7 + v5 - 2;
  v10 = v7 + 1;
  v11 = v9 == 0;
  v34 = v9;
  if ( v9 > 0 )
  {
    do
    {
      if ( !v8 )
      {
        if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
          return 0;
        v10 = *(char **)v2;
        v8 = *(_DWORD *)(v2 + 4);
      }
      v12 = *v10;
      v13 = *(_DWORD *)v1;
      v14 = (signed int)(unsigned __int8)*v10 >> 4;
      *(_DWORD *)(v13 + 20) = 81;
      v15 = v12 & 0xF;
      *(_DWORD *)(v13 + 24) = v15;
      --v8;
      ++v10;
      v31 = v14;
      *(_DWORD *)(v13 + 28) = v14;
      (*(void (__stdcall **)(int, signed int))(v13 + 4))(v1, 1);
      if ( v15 >= 4 )
      {
        v16 = *(_DWORD *)v1;
        *(_DWORD *)(v16 + 20) = 31;
        *(_DWORD *)(v16 + 24) = v15;
        (*(void (__stdcall **)(int))v16)(v1);
      }
      if ( !*(_DWORD *)(v1 + 4 * v15 + 168) )
        *(_DWORD *)(v1 + 4 * v15 + 168) = sub_452070(v1);
      v17 = *(_DWORD *)(v1 + 4 * v15 + 168);
      v18 = dword_4BB758;
      v32 = v17;
      v29 = dword_4BB758;
      do
      {
        if ( v31 )
        {
          if ( !v8 )
          {
            if ( !(*(int (__stdcall **)(int))(v27 + 12))(v1) )
              return 0;
            v10 = *(char **)v27;
            v8 = *(_DWORD *)(v27 + 4);
          }
          LOBYTE(v19) = 0;
          HIBYTE(v19) = *v10;
          --v8;
          ++v10;
          v28 = v19;
          if ( !v8 )
          {
            if ( !(*(int (__stdcall **)(int))(v27 + 12))(v1) )
              return 0;
            v10 = *(char **)v27;
            v8 = *(_DWORD *)(v27 + 4);
          }
          v18 = v29;
          v20 = (unsigned __int8)*v10 + v28;
        }
        else
        {
          if ( !v8 )
          {
            if ( !(*(int (__stdcall **)(int))(v27 + 12))(v1) )
              return 0;
            v10 = *(char **)v27;
            v8 = *(_DWORD *)(v27 + 4);
          }
          v20 = (unsigned __int8)*v10;
        }
        v21 = *v18;
        --v8;
        ++v18;
        ++v10;
        *(_WORD *)(v32 + 2 * v21) = v20;
        v29 = v18;
      }
      while ( (signed int)v18 < (signed int)&unk_4BB858 );
      if ( *(_DWORD *)(*(_DWORD *)v1 + 104) >= 2 )
      {
        v22 = v32 + 4;
        v30 = 8;
        do
        {
          v23 = *(_DWORD *)v1;
          *(_DWORD *)(v23 + 24) = *(_WORD *)(v22 - 4);
          *(_DWORD *)(v23 + 28) = *(_WORD *)(v22 - 2);
          *(_DWORD *)(v23 + 32) = *(_WORD *)v22;
          *(_DWORD *)(v23 + 36) = *(_WORD *)(v22 + 2);
          *(_DWORD *)(v23 + 40) = *(_WORD *)(v22 + 4);
          *(_DWORD *)(v23 + 44) = *(_WORD *)(v22 + 6);
          *(_DWORD *)(v23 + 48) = *(_WORD *)(v22 + 8);
          *(_DWORD *)(v23 + 52) = *(_WORD *)(v22 + 10);
          *(_DWORD *)(v23 + 20) = 93;
          (*(void (__stdcall **)(int, signed int))(v23 + 4))(v1, 2);
          v22 += 16;
          --v30;
        }
        while ( v30 );
      }
      v24 = v34 - 65;
      v34 -= 65;
      if ( v31 )
        v34 = v24 - 64;
      v2 = v27;
    }
    while ( v34 > 0 );
    v11 = v34 == 0;
  }
  if ( !v11 )
  {
    v25 = *(_DWORD *)v1;
    *(_DWORD *)(v25 + 20) = 11;
    (*(void (__stdcall **)(int))v25)(v1);
  }
  *(_DWORD *)v2 = v10;
  *(_DWORD *)(v2 + 4) = v8;
  return 1;
}
// 4BB758: using guessed type int dword_4BB758[];

//----- (00449F40) --------------------------------------------------------
signed int __stdcall sub_449F40(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // ebx@1
  _BYTE *v4; // edi@1
  int v5; // eax@4
  int v6; // ebx@4
  _BYTE *v7; // edi@4
  int v8; // ebx@7
  int v9; // eax@7
  _BYTE *v10; // edi@7
  int v11; // eax@8
  unsigned __int16 v12; // dx@12
  int v13; // ebx@12
  _BYTE *v14; // edi@12
  int v16; // ecx@16
  int v17; // eax@16
  int v18; // [sp+1Ch] [bp+4h]@4
  int v19; // [sp+1Ch] [bp+4h]@12
  int v20; // [sp+1Ch] [bp+4h]@16

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_BYTE **)v2;
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(_BYTE **)v2;
    v3 = *(_DWORD *)(v2 + 4);
  }
  v5 = 0;
  BYTE1(v5) = *v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v18 = (unsigned __int16)v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_BYTE **)v2;
    v6 = *(_DWORD *)(v2 + 4);
    v5 = v18;
  }
  v8 = v6 - 1;
  v9 = *v7 + v5;
  v10 = v7 + 1;
  if ( v9 != 4 )
  {
    v11 = *(_DWORD *)v1;
    *(_DWORD *)(v11 + 20) = 11;
    (*(void (__stdcall **)(int))v11)(v1);
  }
  if ( !v8 )
  {
    if ( (*(int (__stdcall **)(int))(v2 + 12))(v1) )
    {
      v10 = *(_BYTE **)v2;
      v8 = *(_DWORD *)(v2 + 4);
      goto LABEL_12;
    }
    return 0;
  }
LABEL_12:
  LOBYTE(v12) = 0;
  HIBYTE(v12) = *v10;
  v13 = v8 - 1;
  v14 = v10 + 1;
  v19 = v12;
  if ( !v13 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v14 = *(_BYTE **)v2;
    v13 = *(_DWORD *)(v2 + 4);
  }
  v16 = *v14 + v19;
  v17 = *(_DWORD *)v1;
  *(_DWORD *)(v17 + 20) = 82;
  v20 = v16;
  *(_DWORD *)(v17 + 24) = v16;
  (*(void (__stdcall **)(int, signed int))(v17 + 4))(v1, 1);
  *(_DWORD *)v2 = v14 + 1;
  *(_DWORD *)(v2 + 4) = v13 - 1;
  *(_DWORD *)(v1 + 280) = v20;
  return 1;
}

//----- (0044A010) --------------------------------------------------------
int __usercall sub_44A010@<eax>(unsigned int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // ebp@1
  unsigned __int8 v6; // cl@7
  unsigned __int8 v7; // dl@7
  int v8; // eax@7
  __int16 v9; // bx@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // edx@9
  int v13; // ecx@9
  int v14; // edx@9
  int v15; // ecx@9
  unsigned __int8 v16; // cl@9
  int v17; // eax@10
  unsigned __int8 v18; // dl@10
  int v19; // ebp@11
  int result; // eax@11
  int v21; // eax@12
  int v22; // ecx@19
  int v23; // eax@21
  int v24; // eax@24
  int v25; // eax@25
  int v26; // eax@26

  v5 = a1 + a2;
  LOBYTE(a2) = 70;
  if ( a1 < 0xE
    || *(_BYTE *)a4 != 74
    || *(_BYTE *)(a4 + 1) != 70
    || *(_BYTE *)(a4 + 2) != 73
    || *(_BYTE *)(a4 + 3) != 70
    || *(_BYTE *)(a4 + 4) )
  {
    if ( a1 < 6
      || *(_BYTE *)a4 != 74
      || *(_BYTE *)(a4 + 1) != 70
      || (LOBYTE(a2) = *(_BYTE *)(a4 + 2), (_BYTE)a2 != 88)
      || *(_BYTE *)(a4 + 3) != 88
      || *(_BYTE *)(a4 + 4) )
    {
      v26 = *(_DWORD *)a5;
      *(_DWORD *)(v26 + 20) = 77;
      *(_DWORD *)(v26 + 24) = v5;
      result = (*(int (__thiscall **)(int, int, signed int))(v26 + 4))(a2, a5, 1);
    }
    else
    {
      v22 = *(_BYTE *)(a4 + 5);
      if ( v22 == 16 )
      {
        v25 = *(_DWORD *)a5;
        *(_DWORD *)(v25 + 20) = 108;
        *(_DWORD *)(v25 + 24) = v5;
        result = (*(int (__stdcall **)(int, signed int))(v25 + 4))(a5, 1);
      }
      else if ( *(_BYTE *)(a4 + 5) == 17 )
      {
        v24 = *(_DWORD *)a5;
        *(_DWORD *)(v24 + 20) = 109;
        *(_DWORD *)(v24 + 24) = v5;
        result = (*(int (__stdcall **)(int, signed int))(v24 + 4))(a5, 1);
      }
      else
      {
        v23 = *(_DWORD *)a5;
        if ( *(_BYTE *)(a4 + 5) == 19 )
        {
          *(_DWORD *)(v23 + 20) = 110;
          *(_DWORD *)(v23 + 24) = v5;
          result = (*(int (__stdcall **)(int, signed int))(v23 + 4))(a5, 1);
        }
        else
        {
          *(_DWORD *)(v23 + 20) = 89;
          *(_DWORD *)(v23 + 24) = v22;
          *(_DWORD *)(v23 + 28) = v5;
          result = (*(int (__stdcall **)(int, signed int))(v23 + 4))(a5, 1);
        }
      }
    }
  }
  else
  {
    v6 = *(_BYTE *)(a4 + 5);
    *(_BYTE *)(a5 + 290) = *(_BYTE *)(a4 + 7);
    LOWORD(a1) = *(_BYTE *)(a4 + 8);
    v7 = *(_BYTE *)(a4 + 6);
    LOWORD(a3) = *(_BYTE *)(a4 + 9);
    *(_DWORD *)(a5 + 284) = 1;
    *(_BYTE *)(a5 + 288) = v6;
    *(_BYTE *)(a5 + 289) = v7;
    v8 = a3 + (a1 << 8);
    v9 = *(_BYTE *)(a4 + 11);
    *(_WORD *)(a5 + 292) = v8;
    *(_WORD *)(a5 + 294) = v9 + (*(_BYTE *)(a4 + 10) << 8);
    if ( v6 != 1 )
    {
      v10 = *(_DWORD *)a5;
      *(_DWORD *)(v10 + 20) = 119;
      *(_DWORD *)(v10 + 24) = v6;
      *(_DWORD *)(v10 + 28) = v7;
      (*(void (__stdcall **)(int, signed int))(v10 + 4))(a5, -1);
    }
    v11 = *(_DWORD *)a5;
    v12 = *(_BYTE *)(a5 + 289);
    *(_DWORD *)(v11 + 24) = *(_BYTE *)(a5 + 288);
    v13 = *(_WORD *)(a5 + 292);
    *(_DWORD *)(v11 + 28) = v12;
    v14 = *(_WORD *)(a5 + 294);
    *(_DWORD *)(v11 + 32) = v13;
    v15 = *(_BYTE *)(a5 + 290);
    *(_DWORD *)(v11 + 36) = v14;
    *(_DWORD *)(v11 + 40) = v15;
    *(_DWORD *)(v11 + 20) = 87;
    (*(void (__stdcall **)(int, signed int))(v11 + 4))(a5, 1);
    v16 = *(_BYTE *)(a4 + 13);
    if ( __PAIR__(*(_BYTE *)(a4 + 13), *(_BYTE *)(a4 + 12)) )
    {
      v17 = *(_DWORD *)a5;
      v18 = *(_BYTE *)(a4 + 12);
      *(_DWORD *)(v17 + 20) = 90;
      *(_DWORD *)(v17 + 24) = v18;
      *(_DWORD *)(v17 + 28) = v16;
      (*(void (__stdcall **)(int, signed int))(v17 + 4))(a5, 1);
    }
    v19 = v5 - 14;
    result = 3 * *(_BYTE *)(a4 + 13) * *(_BYTE *)(a4 + 12);
    if ( v19 != result )
    {
      v21 = *(_DWORD *)a5;
      *(_DWORD *)(v21 + 20) = 88;
      *(_DWORD *)(v21 + 24) = v19;
      result = (*(int (__stdcall **)(int, signed int))(v21 + 4))(a5, 1);
    }
  }
  return result;
}

//----- (0044A1F0) --------------------------------------------------------
int __userpurge sub_44A1F0@<eax>(int a1@<eax>, unsigned int a2@<ecx>, int a3@<esi>, int a4)
{
  int v4; // ecx@7
  int v5; // ebx@7
  int v6; // edi@7
  int result; // eax@7
  int v8; // eax@8

  if ( a2 < 0xC
    || *(_BYTE *)a1 != 65
    || *(_BYTE *)(a1 + 1) != 100
    || *(_BYTE *)(a1 + 2) != 111
    || *(_BYTE *)(a1 + 3) != 98
    || *(_BYTE *)(a1 + 4) != 101 )
  {
    v8 = *(_DWORD *)a3;
    *(_DWORD *)(v8 + 20) = 78;
    *(_DWORD *)(v8 + 24) = a4 + a2;
    result = (*(int (__stdcall **)(int, signed int))(v8 + 4))(a3, 1);
  }
  else
  {
    v4 = *(_DWORD *)a3;
    v5 = *(_BYTE *)(a1 + 11);
    v6 = *(_BYTE *)(a1 + 8);
    *(_DWORD *)(v4 + 24) = *(_BYTE *)(a1 + 6) + (*(_BYTE *)(a1 + 5) << 8);
    *(_DWORD *)(v4 + 28) = v6 + (*(_BYTE *)(a1 + 7) << 8);
    *(_DWORD *)(v4 + 32) = *(_BYTE *)(a1 + 10) + (*(_BYTE *)(a1 + 9) << 8);
    *(_DWORD *)(v4 + 36) = v5;
    *(_DWORD *)(v4 + 20) = 76;
    result = (*(int (__stdcall **)(int, signed int))(v4 + 4))(a3, 1);
    *(_BYTE *)(a3 + 300) = v5;
    *(_DWORD *)(a3 + 296) = 1;
  }
  return result;
}

//----- (0044A290) --------------------------------------------------------
int __stdcall sub_44A290(int a1)
{
  int v1; // edi@1
  int v2; // ebp@1
  char *v3; // ebx@1
  int result; // eax@2
  unsigned __int16 v5; // ax@4
  int v6; // ebp@4
  char *v7; // ebx@4
  int v8; // esi@4
  int v9; // ebp@8
  int v10; // esi@8
  char *v11; // ebx@8
  unsigned int v12; // eax@9
  int v13; // eax@10
  unsigned int v14; // ecx@11
  char v15; // dl@15
  int v16; // esi@16
  int v17; // eax@18
  int v18; // ecx@18
  signed int v19; // [sp+Ch] [bp-1Ch]@9
  unsigned int v20; // [sp+10h] [bp-18h]@11
  int v21; // [sp+14h] [bp-14h]@1
  char v22[16]; // [sp+18h] [bp-10h]@15

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(char **)v1;
  v21 = *(_DWORD *)(a1 + 24);
  if ( !v2 )
  {
    result = (*(int (__stdcall **)(int))(v1 + 12))(a1);
    if ( !result )
      return result;
    v3 = *(char **)v1;
    v2 = *(_DWORD *)(v1 + 4);
  }
  LOBYTE(v5) = 0;
  HIBYTE(v5) = *v3;
  v6 = v2 - 1;
  v7 = v3 + 1;
  v8 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v7 = *(char **)v1;
    v6 = *(_DWORD *)(v1 + 4);
  }
  v9 = v6 - 1;
  v10 = (unsigned __int8)*v7 + v8 - 2;
  v11 = v7 + 1;
  if ( v10 < 14 )
  {
    v13 = v10 < 0;
    LOBYTE(v13) = v10 <= 0;
    v12 = v10 & (v13 - 1);
    v19 = v12;
  }
  else
  {
    v12 = 14;
    v19 = 14;
  }
  v14 = 0;
  v20 = 0;
  if ( v12 )
  {
    do
    {
      if ( !v9 )
      {
        if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
          return 0;
        v11 = *(char **)v1;
        v9 = *(_DWORD *)(v1 + 4);
        v12 = v19;
        v14 = v20;
      }
      v15 = *v11;
      --v9;
      ++v11;
      v22[v14++] = v15;
      v20 = v14;
    }
    while ( v14 < v12 );
  }
  v16 = v10 - v12;
  if ( *(_DWORD *)(a1 + 420) == 224 )
  {
    sub_44A010(v12, v16, (int)v11, (int)v22, a1);
    v1 = v21;
  }
  else if ( *(_DWORD *)(a1 + 420) == 238 )
  {
    sub_44A1F0((int)v22, v12, a1, v16);
  }
  else
  {
    v17 = *(_DWORD *)a1;
    v18 = *(_DWORD *)(a1 + 420);
    *(_DWORD *)(v17 + 20) = 68;
    *(_DWORD *)(v17 + 24) = v18;
    (*(void (__stdcall **)(int))v17)(a1);
  }
  *(_DWORD *)v1 = v11;
  *(_DWORD *)(v1 + 4) = v9;
  if ( v16 > 0 )
    (*(void (__stdcall **)(int, int))(*(_DWORD *)(a1 + 24) + 16))(a1, v16);
  return 1;
}
// 44A290: using guessed type char var_10[16];

//----- (0044A3D0) --------------------------------------------------------
signed int __stdcall sub_44A3D0(int a1)
{
  int v1; // ebx@1
  int v2; // esi@1
  int v3; // ebp@1
  _BYTE *v4; // edi@1
  unsigned __int16 v5; // ax@4
  int v6; // ebp@4
  _BYTE *v7; // edi@4
  int v9; // eax@8
  int v10; // ecx@8
  int v11; // edx@8
  int v12; // [sp+14h] [bp+4h]@4
  int v13; // [sp+14h] [bp+4h]@8

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_BYTE **)v2;
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(_BYTE **)v2;
    v3 = *(_DWORD *)(v2 + 4);
  }
  LOBYTE(v5) = 0;
  HIBYTE(v5) = *v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v12 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_BYTE **)v2;
    v6 = *(_DWORD *)(v2 + 4);
  }
  v9 = *(_DWORD *)v1;
  v10 = v12 + *v7 - 2;
  v11 = *(_DWORD *)(v1 + 420);
  *(_DWORD *)(v9 + 20) = 91;
  *(_DWORD *)(v9 + 24) = v11;
  v13 = v10;
  *(_DWORD *)(v9 + 28) = v10;
  (*(void (__stdcall **)(int, signed int))(v9 + 4))(v1, 1);
  *(_DWORD *)v2 = v7 + 1;
  *(_DWORD *)(v2 + 4) = v6 - 1;
  if ( v13 > 0 )
    (*(void (__stdcall **)(int, int))(*(_DWORD *)(v1 + 24) + 16))(v1, v13);
  return 1;
}

//----- (0044A470) --------------------------------------------------------
signed int __stdcall sub_44A470(int a1)
{
  int v1; // ebp@1
  int v2; // ebx@1
  int v3; // esi@1
  _BYTE *v4; // edi@1
  int v5; // eax@5
  int v6; // eax@9
  int v7; // ebp@15
  int v9; // ecx@19
  int v10; // edx@19
  int v11; // eax@20

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_BYTE **)v2;
  while ( 1 )
  {
    if ( !v3 )
    {
      if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
        return 0;
      v4 = *(_BYTE **)v2;
      v3 = *(_DWORD *)(v2 + 4);
    }
    v5 = *v4;
    --v3;
    ++v4;
    if ( v5 == 255 )
      goto LABEL_12;
    do
    {
      ++*(_DWORD *)(*(_DWORD *)(v1 + 444) + 24);
      *(_DWORD *)v2 = v4;
      *(_DWORD *)(v2 + 4) = v3;
      if ( !v3 )
      {
        if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
          return 0;
        v4 = *(_BYTE **)v2;
        v3 = *(_DWORD *)(v2 + 4);
      }
      v6 = *v4;
      --v3;
      ++v4;
    }
    while ( v6 != 255 );
    while ( 1 )
    {
LABEL_12:
      if ( !v3 )
      {
        if ( !(*(int (__stdcall **)(_DWORD))(v2 + 12))(v1) )
          return 0;
        v4 = *(_BYTE **)v2;
        v3 = *(_DWORD *)(v2 + 4);
      }
      v7 = *v4;
      --v3;
      ++v4;
      if ( v7 != 255 )
        break;
      v1 = a1;
    }
    if ( v7 )
      break;
    v1 = a1;
    *(_DWORD *)(*(_DWORD *)(a1 + 444) + 24) += 2;
    *(_DWORD *)v2 = v4;
    *(_DWORD *)(v2 + 4) = v3;
  }
  v9 = a1;
  v10 = *(_DWORD *)(*(_DWORD *)(a1 + 444) + 24);
  if ( v10 )
  {
    v11 = *(_DWORD *)a1;
    *(_DWORD *)(v11 + 20) = 116;
    *(_DWORD *)(v11 + 24) = v10;
    *(_DWORD *)(v11 + 28) = v7;
    (*(void (__stdcall **)(int, signed int))(v11 + 4))(a1, -1);
    *(_DWORD *)(*(_DWORD *)(a1 + 444) + 24) = 0;
    v9 = a1;
  }
  *(_DWORD *)v2 = v4;
  *(_DWORD *)(v2 + 4) = v3;
  *(_DWORD *)(v9 + 420) = v7;
  return 1;
}

//----- (0044A580) --------------------------------------------------------
signed int __stdcall sub_44A580(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  _BYTE *v3; // ebx@1
  int v4; // edi@1
  int v5; // edx@4
  int v6; // edi@4
  _BYTE *v7; // ebx@4
  int v9; // ecx@8
  int v10; // edi@8
  int v11; // ebx@8
  int v12; // eax@10
  int v13; // [sp+14h] [bp+4h]@4
  int v14; // [sp+14h] [bp+4h]@8

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_BYTE **)v2;
  v4 = *(_DWORD *)(v2 + 4);
  if ( !v4 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v3 = *(_BYTE **)v2;
    v4 = *(_DWORD *)(v2 + 4);
  }
  v5 = *v3;
  v6 = v4 - 1;
  v7 = v3 + 1;
  v13 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_BYTE **)v2;
    v6 = *(_DWORD *)(v2 + 4);
    v5 = v13;
  }
  v9 = *v7;
  v10 = v6 - 1;
  v11 = (int)(v7 + 1);
  v14 = v9;
  if ( v5 != 255 || v9 != 216 )
  {
    v12 = *(_DWORD *)v1;
    *(_DWORD *)(v12 + 20) = 53;
    *(_DWORD *)(v12 + 24) = v5;
    *(_DWORD *)(v12 + 28) = v9;
    (*(void (__stdcall **)(int))v12)(v1);
    v9 = v14;
  }
  *(_DWORD *)(v2 + 4) = v10;
  *(_DWORD *)v2 = v11;
  *(_DWORD *)(v1 + 420) = v9;
  return 1;
}

//----- (0044A610) --------------------------------------------------------
signed int __stdcall sub_44A610(int a1)
{
  signed int v1; // eax@3
  int v2; // eax@6
  signed int v3; // eax@7
  int v4; // ecx@8
  int v5; // eax@8
  signed int result; // eax@11
  int v7; // ecx@17
  int v8; // ecx@28
  int v9; // ecx@31
  int v10; // eax@35

  while ( 2 )
  {
    if ( *(_DWORD *)(a1 + 420)
      || (*(_DWORD *)(*(_DWORD *)(a1 + 444) + 12) ? (v1 = sub_44A470(a1)) : (v1 = sub_44A580(a1)), v1) )
    {
      v2 = *(_DWORD *)(a1 + 420);
      switch ( v2 )
      {
        case 216:
          v3 = sub_449400(a1);
          goto LABEL_15;
        case 192:
        case 193:
          v4 = 0;
          v5 = 0;
          goto LABEL_14;
        case 194:
          v4 = 0;
          goto LABEL_13;
        case 201:
          if ( !sub_4494B0(0, 1, a1) )
            goto LABEL_11;
          goto LABEL_32;
        case 202:
          v4 = 1;
LABEL_13:
          v5 = 1;
LABEL_14:
          v3 = sub_4494B0(v5, v4, a1);
LABEL_15:
          if ( !v3 )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 195:
        case 197:
        case 198:
        case 199:
        case 200:
        case 203:
        case 205:
        case 206:
        case 207:
          v7 = *(_DWORD *)a1;
          *(_DWORD *)(v7 + 20) = 60;
          *(_DWORD *)(v7 + 24) = v2;
          (*(void (__stdcall **)(int))v7)(a1);
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 196:
          if ( !sub_449A30(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 219:
          if ( !sub_449D00(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 221:
          if ( !sub_449F40(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 224:
        case 225:
        case 226:
        case 227:
        case 228:
        case 229:
        case 230:
        case 231:
        case 232:
        case 233:
        case 234:
        case 235:
        case 236:
        case 237:
        case 238:
        case 239:
          if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(a1 + 444) + 4 * v2 - 864))(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 254:
          if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(a1 + 444) + 28))(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 1:
        case 208:
        case 209:
        case 210:
        case 211:
        case 212:
        case 213:
        case 214:
        case 215:
          v8 = *(_DWORD *)a1;
          *(_DWORD *)(v8 + 20) = 92;
          *(_DWORD *)(v8 + 24) = v2;
          (*(void (__stdcall **)(int, signed int))(v8 + 4))(a1, 1);
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 204:
        case 220:
          if ( !sub_44A3D0(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        default:
          v9 = *(_DWORD *)a1;
          *(_DWORD *)(v9 + 20) = 68;
          *(_DWORD *)(v9 + 24) = v2;
          (*(void (__stdcall **)(int))v9)(a1);
LABEL_32:
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 218:
          if ( !sub_449770(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          result = 1;
          break;
        case 217:
          v10 = *(_DWORD *)a1;
          *(_DWORD *)(v10 + 20) = 85;
          (*(void (__stdcall **)(int, signed int))(v10 + 4))(a1, 1);
          *(_DWORD *)(a1 + 420) = 0;
          result = 2;
          break;
      }
    }
    else
    {
LABEL_11:
      result = 0;
    }
    return result;
  }
}

//----- (0044A9A0) --------------------------------------------------------
signed int __stdcall sub_44A9A0(int a1, int a2)
{
  int v2; // eax@1
  signed int v3; // esi@1
  signed int v4; // edi@3
  int v5; // eax@12
  int v6; // edi@12
  int v7; // edi@13

  v2 = *(_DWORD *)a1;
  v3 = *(_DWORD *)(a1 + 420);
  *(_DWORD *)(v2 + 20) = 121;
  *(_DWORD *)(v2 + 24) = v3;
  *(_DWORD *)(v2 + 28) = a2;
  (*(void (__stdcall **)(int, signed int))(v2 + 4))(a1, -1);
  while ( 1 )
  {
    if ( v3 < 192 )
    {
LABEL_3:
      v4 = 2;
      goto LABEL_12;
    }
    if ( v3 < 208 || v3 > 215 || v3 == (((_BYTE)a2 + 1) & 7) + 208 || v3 == (((_BYTE)a2 + 2) & 7) + 208 )
    {
      v4 = 3;
    }
    else
    {
      if ( v3 == (((_BYTE)a2 - 1) & 7) + 208 || v3 == (((_BYTE)a2 - 2) & 7) + 208 )
        goto LABEL_3;
      v4 = 1;
    }
LABEL_12:
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 97;
    *(_DWORD *)(v5 + 24) = v3;
    *(_DWORD *)(v5 + 28) = v4;
    (*(void (__stdcall **)(int, signed int))(v5 + 4))(a1, 4);
    v6 = v4 - 1;
    if ( !v6 )
      break;
    v7 = v6 - 1;
    if ( v7 )
    {
      if ( v7 == 1 )
        return 1;
    }
    else
    {
      if ( !sub_44A470(a1) )
        return 0;
      v3 = *(_DWORD *)(a1 + 420);
    }
  }
  *(_DWORD *)(a1 + 420) = 0;
  return 1;
}

//----- (0044AAD0) --------------------------------------------------------
int __stdcall sub_44AAD0(int a1)
{
  int result; // eax@1
  _DWORD *v2; // ecx@1
  signed int v3; // edx@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 172);
  *(_DWORD *)(a1 + 444) = result;
  *(_DWORD *)result = sub_44AAA0;
  *(_DWORD *)(result + 4) = sub_44A610;
  *(_DWORD *)(result + 8) = sub_44A920;
  *(_DWORD *)(result + 28) = sub_44A3D0;
  *(_DWORD *)(result + 96) = 0;
  v2 = (_DWORD *)(result + 100);
  v3 = 16;
  do
  {
    *(v2 - 17) = sub_44A3D0;
    *v2 = 0;
    ++v2;
    --v3;
  }
  while ( v3 );
  *(_DWORD *)(result + 32) = sub_44A290;
  *(_DWORD *)(result + 88) = sub_44A290;
  *(_DWORD *)(a1 + 220) = 0;
  *(_DWORD *)(a1 + 148) = 0;
  *(_DWORD *)(a1 + 420) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 164) = 0;
  return result;
}
// 44A920: using guessed type int __stdcall sub_44A920(int);
// 44AAA0: using guessed type int __stdcall sub_44AAA0(int);

//----- (0044AB50) --------------------------------------------------------
void __stdcall __noreturn sub_44AB50(int a1)
{
  (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1);
  sub_452050(a1);
  exit_0(1);
}

//----- (0044ACA0) --------------------------------------------------------
int __stdcall sub_44ACA0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = sub_44AB50;
  *(_DWORD *)(a1 + 4) = sub_44AB90;
  *(_DWORD *)(a1 + 8) = sub_44AB70;
  *(_DWORD *)(a1 + 12) = sub_44ABD0;
  *(_DWORD *)(a1 + 16) = sub_44AC80;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  *(_DWORD *)(a1 + 112) = off_4B9640;
  *(_DWORD *)(a1 + 116) = 123;
  *(_DWORD *)(a1 + 120) = 0;
  *(_DWORD *)(a1 + 124) = 0;
  *(_DWORD *)(a1 + 128) = 0;
  return result;
}
// 44AB70: using guessed type int __stdcall sub_44AB70(int);
// 44AB90: using guessed type int __stdcall sub_44AB90(int, int);
// 44ABD0: using guessed type int __stdcall sub_44ABD0(int, int);
// 44AC80: using guessed type int __stdcall sub_44AC80(int);
// 4B9640: using guessed type char *off_4B9640[124];

//----- (0044ACF0) --------------------------------------------------------
int __thiscall sub_44ACF0(_BYTE *this, int a2, const void *a3)
{
  int result; // eax@1
  signed int v4; // esi@1
  signed int v5; // edx@2
  int v6; // eax@7
  int v7; // eax@11

  result = 0;
  v4 = 0;
  do
  {
    v5 = *(_BYTE *)(a2 + v4++ + 268);
    if ( v5 < 41 || v5 > 122 || v5 > 90 && v5 < 97 )
    {
      this[result] = 91;
      v6 = result + 1;
      this[v6++] = byte_4BAAC8[(v5 >> 4) & 0xF];
      this[v6] = byte_4BAAC8[v5 & 0xF];
      result = v6 + 1;
      this[result] = 93;
    }
    else
    {
      this[result] = v5;
    }
    ++result;
  }
  while ( v4 < 4 );
  if ( a3 )
  {
    this[result] = 58;
    v7 = result + 1;
    this[v7] = 32;
    result = (int)&this[v7 + 1];
    qmemcpy((void *)result, a3, 0x40u);
    *(_BYTE *)(result + 63) = 0;
  }
  else
  {
    this[result] = 0;
  }
  return result;
}

//----- (0044AD79) --------------------------------------------------------
int __stdcall sub_44AD79(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 72) = a2;
  *(_DWORD *)(a1 + 64) = a3;
  *(_DWORD *)(a1 + 68) = a4;
  return result;
}

//----- (0044AD95) --------------------------------------------------------
void __cdecl __noreturn sub_44AD95(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  void (__cdecl *v2)(int *__attribute__((__org_typedef(jmp_buf))) , int); // eax@1

  v2 = (void (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int))a1[16];
  if ( v2 )
    v2(a1, a2);
  longjmp(a1, 1);
}

//----- (0044ADB3) --------------------------------------------------------
int (__cdecl *__stdcall sub_44ADB3(int a1, int a2))(int, int)
{
  int (__cdecl *result)(int, int); // eax@1

  result = *(int (__cdecl **)(int, int))(a1 + 68);
  if ( result )
    result = (int (__cdecl *)(int, int))result(a1, a2);
  return result;
}

//----- (0044ADCA) --------------------------------------------------------
void __stdcall __noreturn sub_44ADCA(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  int v2; // [sp+0h] [bp-50h]@1

  sub_44ACF0(&v2, (int)a1, (const void *)a2);
  sub_44AD95(a1, (int)&v2);
}

//----- (0044ADEE) --------------------------------------------------------
int (__cdecl *__stdcall sub_44ADEE(int a1, const void *a2))(int, int)
{
  char v3; // [sp+0h] [bp-50h]@1

  sub_44ACF0(&v3, a1, a2);
  return sub_44ADB3(a1, (int)&v3);
}

//----- (0044AE12) --------------------------------------------------------
void *__stdcall sub_44AE12(_BYTE *a1, int a2, int a3, int a4)
{
  void *v4; // eax@1
  signed int v6; // eax@8
  void *v7; // [sp+4h] [bp-4h]@1

  v4 = sub_452CB4(1);
  v7 = v4;
  if ( !v4 )
    return 0;
  if ( _setjmp3(v4, 0) )
  {
    sub_452D43((int)v7, *((void **)v7 + 39));
    sub_452CF8(v7);
    return 0;
  }
  sub_44AD79((int)v7, a2, a3, a4);
  if ( !a1 || *a1 != 49 )
    sub_44AD95(
      (int *__attribute__((__org_typedef(jmp_buf))) )v7,
      (int)"Incompatible libpng version in application and library");
  *((_DWORD *)v7 + 40) = 0x2000;
  *((_DWORD *)v7 + 39) = sub_452D0C((int *__attribute__((__org_typedef(jmp_buf))) )v7, 0x2000u);
  *((_DWORD *)v7 + 33) = sub_44D17B;
  *((_DWORD *)v7 + 34) = sub_44D1CE;
  *((_DWORD *)v7 + 35) = v7;
  v6 = sub_45293B((int)v7 + 100, "1.1.4", 56);
  if ( v6 == -6 )
    sub_44AD95((int *__attribute__((__org_typedef(jmp_buf))) )v7, (int)"zlib version error");
  if ( v6 == -4 || v6 == -2 )
    sub_44AD95((int *__attribute__((__org_typedef(jmp_buf))) )v7, (int)"zlib memory error");
  if ( v6 )
    sub_44AD95((int *__attribute__((__org_typedef(jmp_buf))) )v7, (int)"Unknown zlib error");
  *((_DWORD *)v7 + 28) = *((_DWORD *)v7 + 39);
  *((_DWORD *)v7 + 29) = *((_DWORD *)v7 + 40);
  sub_44D0F2((int)v7, 0, 0);
  return v7;
}

//----- (0044AF06) --------------------------------------------------------
int __stdcall sub_44AF06(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  int *__attribute__((__org_typedef(jmp_buf))) v2; // esi@1
  unsigned __int8 v3; // al@1
  unsigned int v4; // ebx@2
  unsigned int v5; // edi@2
  int v6; // ST0C_4@2
  _DWORD *v7; // ebx@7
  int v8; // edi@8
  int result; // eax@22

  v2 = a1;
  v3 = *((_BYTE *)a1 + 284);
  if ( v3 < 8u )
  {
    v4 = v3;
    v5 = 8 - v3;
    sub_44D0C9(a1, v3 + a2 + 32, 8 - v3);
    v6 = a2 + 32;
    *((_BYTE *)v2 + 284) = 8;
    if ( sub_44D130(v6, v4, v5) )
    {
      if ( v4 < 4 )
      {
        if ( sub_44D130(a2 + 32, v4, v5 - 4) )
          sub_44AD95(v2, (int)"Not a PNG file");
      }
      sub_44AD95(v2, (int)"PNG file corrupted by ASCII conversion");
    }
  }
  v7 = v2 + 67;
  while ( 1 )
  {
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          sub_44D0C9(v2, (int)&a1, 4);
          v8 = sub_452DB6((int)&a1);
          sub_44D1D3((int)v2);
          sub_452DDB(v2, (int)(v2 + 67), 4);
          if ( *v7 != *(_DWORD *)"IHDR" )
            break;
          sub_453729(v2, a2, v8);
        }
        if ( *v7 != *(_DWORD *)"PLTE" )
          break;
        sub_453909(v2, a2, v8);
      }
      if ( *v7 != *(_DWORD *)"IEND" )
        break;
      sub_453A22(v2, a2, v8);
    }
    if ( *v7 == *(_DWORD *)"IDAT" )
      break;
    if ( *v7 == *(_DWORD *)"gAMA" )
    {
      sub_453A68(v2, a2, v8);
    }
    else if ( *v7 == *(_DWORD *)"sRGB" )
    {
      sub_453B69(v2, a2, v8);
    }
    else if ( *v7 == *(_DWORD *)"tRNS" )
    {
      sub_453C4B(v2, a2, v8);
    }
    else
    {
      sub_453DEC(v2, a2, v8);
    }
  }
  result = v2[22];
  if ( !(result & 1) )
    sub_44AD95(v2, (int)"Missing IHDR before IDAT");
  if ( *((_BYTE *)v2 + 278) == 3 && !(result & 2) )
    sub_44AD95(v2, (int)"Missing PLTE before IDAT");
  v2[22] |= 4u;
  v2[63] = v8;
  return result;
}

//----- (0044B074) --------------------------------------------------------
unsigned int __userpurge sub_44B074@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3)
{
  if ( !(*((_BYTE *)a2 + 92) & 0x40) )
    sub_45350A(a1, a2);
  return sub_44B9E4((int)a2, a3);
}

//----- (0044B093) --------------------------------------------------------
int (__cdecl *__userpurge sub_44B093@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3, int a4))(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD)
{
  int *__attribute__((__org_typedef(jmp_buf))) v4; // esi@1
  int (__cdecl *result)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD); // eax@13
  bool v6; // zf@20
  unsigned int v7; // eax@45
  unsigned int v8; // edx@45
  int v9; // ecx@45
  signed int v10; // eax@48
  const char *v11; // eax@50
  char v12; // al@60
  unsigned __int8 v13; // cl@60
  int v14; // eax@60
  unsigned int v15; // ecx@60
  int v16; // eax@60
  unsigned __int8 v17; // cl@64

  v4 = a2;
  if ( !(*((_BYTE *)a2 + 92) & 0x40) )
    sub_45350A(a1, a2);
  if ( !*((_BYTE *)v4 + 275) || !(*((_BYTE *)v4 + 96) & 2) )
    goto LABEL_37;
  if ( !*((_BYTE *)v4 + 276) )
  {
    if ( !(*((_BYTE *)v4 + 212) & 7) )
      goto LABEL_37;
    v6 = a4 == 0;
    goto LABEL_34;
  }
  if ( *((_BYTE *)v4 + 276) == 1 )
  {
    if ( *((_BYTE *)v4 + 212) & 7 || (unsigned int)v4[46] < 5 )
    {
      if ( a4 )
        sub_452EB0((int)v4, (void *)a4, 15);
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
    }
    goto LABEL_37;
  }
  if ( *((_BYTE *)v4 + 276) == 2 )
  {
    if ( (v4[53] & 7) == 4 )
      goto LABEL_37;
    if ( !a4 )
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
    v6 = (v4[53] & 4) == 0;
LABEL_34:
    if ( !v6 )
      sub_452EB0((int)v4, (void *)a4, 255);
    return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
  }
  if ( *((_BYTE *)v4 + 276) == 3 )
  {
    if ( *((_BYTE *)v4 + 212) & 3 || (unsigned int)v4[46] < 3 )
    {
      if ( a4 )
        sub_452EB0((int)v4, (void *)a4, 51);
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
    }
    goto LABEL_37;
  }
  if ( *((_BYTE *)v4 + 276) == 4 )
  {
    if ( (v4[53] & 3) == 2 )
      goto LABEL_37;
    if ( a4 )
    {
      v6 = (v4[53] & 2) == 0;
      goto LABEL_34;
    }
    return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
  }
  if ( *((_BYTE *)v4 + 276) == 5 )
  {
    if ( *((_BYTE *)v4 + 212) & 1 || (unsigned int)v4[46] < 2 )
    {
      if ( a4 )
        sub_452EB0((int)v4, (void *)a4, 85);
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
    }
  }
  else if ( *((_BYTE *)v4 + 276) == 6 && !(*((_BYTE *)v4 + 212) & 1) )
  {
    return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_453E32(a1, v4);
  }
LABEL_37:
  if ( !(*((_BYTE *)v4 + 88) & 4) )
    sub_44AD95(v4, (int)"Invalid attempt to read row data");
  v4[28] = v4[55];
  v4[29] = v4[51];
  while ( 1 )
  {
    if ( !v4[26] )
    {
      while ( !v4[63] )
      {
        sub_4536A4(v4, 0);
        sub_44D0C9(v4, (int)&a2, 4);
        v4[63] = sub_452DB6((int)&a2);
        sub_44D1D3((int)v4);
        sub_452DDB(v4, (int)(v4 + 67), 4);
        if ( v4[67] != *(_DWORD *)"IDAT" )
          sub_44AD95(v4, (int)"Not enough image data");
      }
      v7 = v4[40];
      v8 = v4[63];
      v9 = v4[39];
      v4[26] = v7;
      v4[25] = v9;
      if ( v7 > v8 )
        v4[26] = v8;
      sub_452DDB(v4, v9, v4[26]);
      v4[63] -= v4[26];
    }
    v10 = sub_452951((int)(v4 + 25), 1);
    if ( v10 == 1 )
      break;
    if ( v10 )
    {
      v11 = (const char *)v4[31];
      if ( !v11 )
        v11 = "Decompression error";
      sub_44AD95(v4, (int)v11);
    }
    if ( !v4[29] )
      goto LABEL_60;
  }
  if ( v4[29] || v4[26] || v4[63] )
    sub_44AD95(v4, (int)"Extra compressed data");
  v4[22] |= 8u;
  v4[23] |= 0x20u;
LABEL_60:
  v12 = *((_BYTE *)v4 + 278);
  *((_BYTE *)v4 + 250) = *((_BYTE *)v4 + 282);
  *((_BYTE *)v4 + 249) = *((_BYTE *)v4 + 279);
  v13 = *((_BYTE *)v4 + 281);
  *((_BYTE *)v4 + 251) = v13;
  *((_BYTE *)v4 + 248) = v12;
  v14 = v4[52];
  v15 = v14 * v13 + 7;
  v4[60] = v14;
  v16 = v4[55];
  v4[61] = v15 >> 3;
  sub_453391((int)v4, (int)(v4 + 60), (_BYTE *)(v16 + 1), (unsigned __int8 *)(v4[54] + 1), *(_BYTE *)v16);
  sub_452D5E((int)v4, (void *)v4[54], (const void *)v4[55], v4[50] + 1);
  if ( v4[24] )
    sub_44CDAC(v4);
  if ( *((_BYTE *)v4 + 275) && v4[24] & 2 )
  {
    v17 = *((_BYTE *)v4 + 276);
    if ( v17 < 6u )
      sub_4530C6((int)(v4 + 60), v4[55] + 1, v17, v4[24]);
    if ( a4 )
      sub_452EB0((int)v4, (void *)a4, dword_4BAB00[*((_BYTE *)v4 + 276)]);
    if ( a3 )
      sub_452EB0((int)v4, (void *)a3, dword_4BAAE4[*((_BYTE *)v4 + 276)]);
  }
  else
  {
    if ( a3 )
      sub_452EB0((int)v4, (void *)a3, 255);
    if ( a4 )
      sub_452EB0((int)v4, (void *)a4, 255);
  }
  sub_453E32(0, v4);
  result = (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))v4[91];
  if ( result )
    result = (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))result(
                                                                                            v4,
                                                                                            v4[53],
                                                                                            *((_BYTE *)v4 + 276));
  return result;
}
// 4BAAE4: using guessed type int dword_4BAAE4[];
// 4BAB00: using guessed type int dword_4BAB00[];

//----- (0044B416) --------------------------------------------------------
char *__stdcall sub_44B416(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  int *v2; // esi@1
  char *result; // eax@1
  int v4; // edi@1
  int *v5; // ebx@3
  char *v6; // [sp+8h] [bp-4h]@2
  int *__attribute__((__org_typedef(jmp_buf))) v7; // [sp+14h] [bp+8h]@4

  v2 = a1;
  result = (char *)sub_44B846((int)a1);
  v4 = a1[47];
  a1[48] = v4;
  if ( (signed int)result > 0 )
  {
    v6 = result;
    do
    {
      v5 = (int *)a2;
      if ( v4 )
      {
        v7 = (int *__attribute__((__org_typedef(jmp_buf))) )v4;
        do
        {
          result = (char *)sub_44B093((int)v5, v2, *v5, 0);
          ++v5;
          v7 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v7 - 1);
        }
        while ( v7 );
      }
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (0044B461) --------------------------------------------------------
int __stdcall sub_44B461(int a1, void *a2, void *a3)
{
  signed int v3; // edi@1
  signed int v4; // esi@10
  int result; // eax@13
  int v6; // edx@13
  int v7; // esi@13
  char v8; // [sp+Ch] [bp-40h]@13

  v3 = 0;
  if ( a2 )
    sub_44D229(a1, a2);
  if ( a3 )
    sub_44D229(a1, a3);
  sub_452D43(a1, *(void **)(a1 + 156));
  sub_452D43(a1, *(void **)(a1 + 220));
  sub_452D43(a1, *(void **)(a1 + 216));
  sub_452D43(a1, *(void **)(a1 + 372));
  sub_452D43(a1, *(void **)(a1 + 376));
  sub_452D43(a1, *(void **)(a1 + 312));
  if ( *(_BYTE *)(a1 + 93) & 0x10 )
    sub_44D1CE(a1, *(void **)(a1 + 260));
  if ( *(_BYTE *)(a1 + 93) & 0x20 )
    sub_452D43(a1, *(void **)(a1 + 348));
  if ( *(_DWORD *)(a1 + 324) )
  {
    v4 = 1 << (8 - *(_BYTE *)(a1 + 300));
    if ( v4 > 0 )
    {
      do
        sub_452D43(a1, *(void **)(*(_DWORD *)(a1 + 324) + 4 * v3++));
      while ( v3 < v4 );
    }
    sub_452D43(a1, *(void **)(a1 + 324));
  }
  sub_45281F(a1 + 100);
  result = *(_DWORD *)(a1 + 72);
  v6 = *(_DWORD *)(a1 + 64);
  qmemcpy(&v8, (const void *)a1, 0x40u);
  v7 = *(_DWORD *)(a1 + 68);
  memset((void *)a1, 0, 0x19Cu);
  *(_DWORD *)(a1 + 68) = v7;
  qmemcpy((void *)a1, &v8, 0x40u);
  *(_DWORD *)(a1 + 64) = v6;
  *(_DWORD *)(a1 + 72) = result;
  return result;
}

//----- (0044B576) --------------------------------------------------------
void __stdcall sub_44B576(void **a1, void **a2, void **a3)
{
  void *v3; // esi@1
  void *v4; // [sp+Ch] [bp-8h]@1
  void *v5; // [sp+10h] [bp-4h]@1

  v3 = 0;
  v5 = 0;
  v4 = 0;
  if ( a1 )
    v5 = *a1;
  if ( a2 )
    v3 = *a2;
  if ( a3 )
    v4 = *a3;
  if ( v5 )
    sub_44B461((int)v5, v3, v4);
  if ( v3 )
  {
    sub_452CF8(v3);
    *a2 = 0;
  }
  if ( v4 )
  {
    sub_452CF8(v4);
    *a3 = 0;
  }
  if ( v5 )
  {
    sub_452CF8(v5);
    *a1 = 0;
  }
}

//----- (0044B5F3) --------------------------------------------------------
int __stdcall sub_44B5F3(int a1, int a2, int a3)
{
  int result; // eax@3

  if ( a1 && a2 )
    result = a3 & *(_DWORD *)(a2 + 8);
  else
    result = 0;
  return result;
}

//----- (0044B610) --------------------------------------------------------
int __stdcall sub_44B610(int a1, int a2)
{
  int result; // eax@3

  if ( a1 && a2 )
    result = *(_DWORD *)(a2 + 12);
  else
    result = 0;
  return result;
}

//----- (0044B629) --------------------------------------------------------
char __stdcall sub_44B629(int a1, int a2)
{
  char result; // al@3

  if ( a1 && a2 )
    result = *(_BYTE *)(a2 + 29);
  else
    result = 0;
  return result;
}

//----- (0044B642) --------------------------------------------------------
signed int __stdcall sub_44B642(int a1, int a2, double *a3)
{
  signed int result; // eax@5

  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 1 && a3 )
  {
    *a3 = *(float *)(a2 + 40);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044B66E) --------------------------------------------------------
signed int __stdcall sub_44B66E(int a1, int a2, _DWORD *a3)
{
  signed int result; // eax@3

  if ( a1 && a2 && (result = 2048, *(_DWORD *)(a2 + 8) & 0x800) && a3 )
    *a3 = *(_BYTE *)(a2 + 44);
  else
    result = 0;
  return result;
}

//----- (0044B69C) --------------------------------------------------------
signed int __stdcall sub_44B69C(int a1, int a2, unsigned int *a3, _DWORD *a4, _DWORD *a5, int *a6, _DWORD *a7, _DWORD *a8, _DWORD *a9)
{
  int v9; // ecx@13
  int v10; // eax@14
  signed int result; // eax@20

  if ( a1 && a2 && a3 && a4 && a5 && a6 )
  {
    *a3 = *(_DWORD *)a2;
    *a4 = *(_DWORD *)(a2 + 4);
    *a5 = *(_BYTE *)(a2 + 24);
    *a6 = *(_BYTE *)(a2 + 25);
    if ( a8 )
      *a8 = *(_BYTE *)(a2 + 26);
    if ( a9 )
      *a9 = *(_BYTE *)(a2 + 27);
    if ( a7 )
      *a7 = *(_BYTE *)(a2 + 28);
    v9 = *a6;
    if ( *a6 == 3 )
      v10 = 1;
    else
      v10 = *a6 & 2 | 1;
    if ( v9 & 4 )
      ++v10;
    if ( *a3 > 0x7FFFFFFFu / ((v10 * *a5 + 7) >> 3) )
      sub_44ADB3(a1, (int)"Width too large for libpng to process image data.");
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044B76D) --------------------------------------------------------
signed int __stdcall sub_44B76D(int a1, int a2, _DWORD *a3, _DWORD *a4)
{
  signed int result; // eax@5

  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 8 && a3 )
  {
    *a3 = *(_DWORD *)(a2 + 16);
    *a4 = *(_WORD *)(a2 + 20);
    result = 8;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044B7A3) --------------------------------------------------------
signed int __stdcall sub_44B7A3(int a1, int a2, _DWORD *a3, _DWORD *a4, _DWORD *a5)
{
  signed int result; // eax@1

  result = 0;
  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 0x10 )
  {
    if ( *(_BYTE *)(a2 + 25) == 3 )
    {
      if ( a3 )
      {
        *a3 = *(_DWORD *)(a2 + 48);
        result = 16;
      }
      if ( a5 )
        *a5 = a2 + 52;
    }
    else
    {
      if ( a5 )
      {
        *a5 = a2 + 52;
        result = 16;
      }
      if ( a3 )
        *a3 = 0;
    }
    if ( a4 )
    {
      *a4 = *(_WORD *)(a2 + 22);
      result |= 0x10u;
    }
  }
  return result;
}

//----- (0044B80C) --------------------------------------------------------
int __stdcall sub_44B80C(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(result + 96) |= 1u;
  return result;
}

//----- (0044B817) --------------------------------------------------------
int __stdcall sub_44B817(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_BYTE *)(a1 + 279) == 16 )
    *(_DWORD *)(a1 + 96) |= 0x10u;
  return result;
}

//----- (0044B82B) --------------------------------------------------------
int __stdcall sub_44B82B(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_BYTE *)(a1 + 279) < 8u )
  {
    *(_DWORD *)(a1 + 96) |= 4u;
    *(_BYTE *)(a1 + 280) = 8;
  }
  return result;
}

//----- (0044B846) --------------------------------------------------------
signed int __stdcall sub_44B846(int a1)
{
  signed int result; // eax@2

  if ( *(_BYTE *)(a1 + 275) )
  {
    *(_DWORD *)(a1 + 96) |= 2u;
    result = 7;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0044B862) --------------------------------------------------------
int __stdcall sub_44B862(int a1, unsigned __int8 a2, int a3)
{
  int result; // eax@1
  char v4; // cl@4

  result = a1;
  *(_BYTE *)(result + 97) |= 0x80u;
  *(_WORD *)(a1 + 286) = a2;
  if ( a3 == 1 )
    *(_BYTE *)(a1 + 92) |= 0x80u;
  else
    *(_BYTE *)(a1 + 92) &= 0x7Fu;
  v4 = *(_BYTE *)(a1 + 278);
  if ( v4 == 2 )
    *(_BYTE *)(a1 + 283) = 4;
  if ( !v4 && *(_BYTE *)(a1 + 279) >= 8u )
    *(_BYTE *)(a1 + 283) = 2;
  return result;
}

//----- (0044B8B1) --------------------------------------------------------
void __stdcall sub_44B8B1(int a1, int a2)
{
  int v2; // eax@2
  int v3; // esi@3
  char v4; // dl@4

  if ( *(_BYTE *)(a1 + 9) == 16 )
  {
    v2 = a2;
    if ( *(_DWORD *)a1 * *(_BYTE *)(a1 + 10) )
    {
      v3 = *(_DWORD *)a1 * *(_BYTE *)(a1 + 10);
      do
      {
        v4 = *(_BYTE *)v2;
        *(_BYTE *)v2 = *(_BYTE *)(v2 + 1);
        *(_BYTE *)(v2 + 1) = v4;
        v2 += 2;
        --v3;
      }
      while ( v3 );
    }
  }
}

//----- (0044B8E0) --------------------------------------------------------
char __stdcall sub_44B8E0(int a1, int a2)
{
  int v2; // eax@1
  char v3; // dl@1
  int v4; // ecx@2
  int v5; // esi@5
  char v6; // dl@6
  int v7; // esi@10
  char v8; // dl@11
  int v9; // esi@16
  char v10; // cl@17
  char v11; // dl@17
  char v12; // cl@17
  int v13; // esi@21
  char v14; // cl@22
  char v15; // dl@22
  char v16; // cl@22

  LOBYTE(v2) = a1;
  v3 = *(_BYTE *)(a1 + 8);
  if ( v3 & 2 )
  {
    v4 = *(_DWORD *)a1;
    LOBYTE(v2) = *(_BYTE *)(a1 + 9);
    if ( (_BYTE)v2 == 8 )
    {
      if ( v3 == 2 )
      {
        v2 = a2;
        if ( v4 )
        {
          v5 = *(_DWORD *)a1;
          do
          {
            v6 = *(_BYTE *)v2;
            *(_BYTE *)v2 = *(_BYTE *)(v2 + 2);
            *(_BYTE *)(v2 + 2) = v6;
            v2 += 3;
            --v5;
          }
          while ( v5 );
        }
      }
      else if ( v3 == 6 )
      {
        v2 = a2;
        if ( v4 )
        {
          v7 = *(_DWORD *)a1;
          do
          {
            v8 = *(_BYTE *)v2;
            *(_BYTE *)v2 = *(_BYTE *)(v2 + 2);
            *(_BYTE *)(v2 + 2) = v8;
            v2 += 4;
            --v7;
          }
          while ( v7 );
        }
      }
    }
    else if ( (_BYTE)v2 == 16 )
    {
      if ( v3 == 2 )
      {
        if ( v4 )
        {
          v2 = a2 + 1;
          v9 = *(_DWORD *)a1;
          do
          {
            v10 = *(_BYTE *)(v2 - 1);
            *(_BYTE *)(v2 - 1) = *(_BYTE *)(v2 + 3);
            v11 = *(_BYTE *)(v2 + 4);
            *(_BYTE *)(v2 + 3) = v10;
            v12 = *(_BYTE *)v2;
            *(_BYTE *)v2 = v11;
            *(_BYTE *)(v2 + 4) = v12;
            v2 += 6;
            --v9;
          }
          while ( v9 );
        }
      }
      else if ( v3 == 6 && v4 )
      {
        v2 = a2 + 1;
        v13 = *(_DWORD *)a1;
        do
        {
          v14 = *(_BYTE *)(v2 - 1);
          *(_BYTE *)(v2 - 1) = *(_BYTE *)(v2 + 3);
          v15 = *(_BYTE *)(v2 + 4);
          *(_BYTE *)(v2 + 3) = v14;
          v16 = *(_BYTE *)v2;
          *(_BYTE *)v2 = v15;
          *(_BYTE *)(v2 + 4) = v16;
          v2 += 8;
          --v13;
        }
        while ( v13 );
      }
    }
  }
  return v2;
}

//----- (0044B9A1) --------------------------------------------------------
int __stdcall sub_44B9A1(int a1, double a2, double a3)
{
  int result; // eax@1

  result = a1;
  if ( fabs(a2 * a3 - 1.0) > 0.05 )
    *(_BYTE *)(a1 + 97) |= 0x20u;
  *(float *)(a1 + 304) = a3;
  *(float *)(a1 + 308) = a2;
  return result;
}

//----- (0044B9D9) --------------------------------------------------------
int __stdcall sub_44B9D9(int a1)
{
  int result; // eax@1

  result = a1;
  *(_BYTE *)(result + 97) |= 0x10u;
  return result;
}

//----- (0044B9E4) --------------------------------------------------------
unsigned int __stdcall sub_44B9E4(int a1, int a2)
{
  char v2; // dl@2
  char v3; // dl@15
  char v4; // dl@23
  unsigned __int8 v5; // al@33
  unsigned int result; // eax@33

  if ( *(_BYTE *)(a1 + 97) & 0x10 )
  {
    v2 = *(_BYTE *)(a2 + 25);
    if ( v2 == 3 )
    {
      *(_BYTE *)(a2 + 25) = 4 * (*(_WORD *)(a1 + 266) != 0) + 2;
    }
    else
    {
      if ( *(_WORD *)(a1 + 266) )
        *(_BYTE *)(a2 + 25) = v2 | 4;
      if ( *(_BYTE *)(a2 + 24) >= 8u )
        goto LABEL_8;
    }
    *(_BYTE *)(a2 + 24) = 8;
LABEL_8:
    *(_WORD *)(a2 + 22) = 0;
  }
  if ( *(_BYTE *)(a1 + 97) & 0x20 )
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a1 + 304);
  if ( *(_BYTE *)(a1 + 97) & 4 && *(_BYTE *)(a2 + 24) == 16 )
    *(_BYTE *)(a2 + 24) = 8;
  if ( *(_BYTE *)(a1 + 96) & 0x40 )
  {
    v3 = *(_BYTE *)(a2 + 25);
    if ( (v3 == 2 || v3 == 6) && *(_DWORD *)(a1 + 372) && *(_BYTE *)(a2 + 24) == 8 )
      *(_BYTE *)(a2 + 25) = 3;
  }
  if ( *(_BYTE *)(a1 + 96) & 4 && *(_BYTE *)(a2 + 24) < 8u )
    *(_BYTE *)(a2 + 24) = 8;
  v4 = *(_BYTE *)(a2 + 25);
  if ( v4 != 3 && v4 & 2 )
    *(_BYTE *)(a2 + 29) = 3;
  else
    *(_BYTE *)(a2 + 29) = 1;
  if ( v4 & 4 )
    ++*(_BYTE *)(a2 + 29);
  if ( *(_BYTE *)(a1 + 97) & 0x80 && (v4 == 2 || !v4) )
    ++*(_BYTE *)(a2 + 29);
  v5 = *(_BYTE *)(a2 + 29) * *(_BYTE *)(a2 + 24);
  *(_BYTE *)(a2 + 30) = v5;
  result = (*(_DWORD *)a2 * (unsigned int)v5 + 7) >> 3;
  *(_DWORD *)(a2 + 12) = result;
  return result;
}

//----- (0044BAD1) --------------------------------------------------------
void __stdcall sub_44BAD1(int a1, int a2)
{
  int v2; // ebx@1
  unsigned __int8 v3; // cl@1
  int v4; // eax@2
  int v5; // ecx@2
  int v6; // ecx@3
  unsigned __int8 *v7; // esi@5
  _BYTE *v8; // edi@5
  int v9; // edx@5
  unsigned __int8 *v10; // esi@12
  _BYTE *v11; // edi@12
  int v12; // edx@12
  unsigned __int8 *v13; // esi@19
  _BYTE *v14; // edi@19
  int v15; // edx@19
  unsigned __int8 v16; // cl@26
  int v17; // [sp+10h] [bp+Ch]@6
  int v18; // [sp+10h] [bp+Ch]@13
  int v19; // [sp+10h] [bp+Ch]@20

  v2 = a1;
  v3 = *(_BYTE *)(a1 + 9);
  if ( v3 < 8u )
  {
    v4 = *(_DWORD *)a1;
    v5 = v3 - 1;
    if ( v5 )
    {
      v6 = v5 - 1;
      if ( v6 )
      {
        if ( v6 != 2 )
          goto LABEL_26;
        v7 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 1));
        v8 = (_BYTE *)(v4 + a2 - 1);
        v9 = 4 - 4 * ((v4 - 1) & 1);
        if ( !v4 )
          goto LABEL_26;
        v17 = *(_DWORD *)a1;
        do
        {
          *v8 = (*v7 >> v9) & 0xF;
          if ( v9 == 4 )
          {
            v9 = 0;
            --v7;
          }
          else
          {
            v9 = 4;
          }
          --v8;
          --v17;
        }
        while ( v17 );
        goto LABEL_25;
      }
      v10 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 2));
      v11 = (_BYTE *)(v4 + a2 - 1);
      v12 = 6 - 2 * ((v4 - 1) & 3);
      if ( v4 )
      {
        v18 = *(_DWORD *)a1;
        do
        {
          *v11 = (*v10 >> v12) & 3;
          if ( v12 == 6 )
          {
            v12 = 0;
            --v10;
          }
          else
          {
            v12 += 2;
          }
          --v11;
          --v18;
        }
        while ( v18 );
LABEL_25:
        v2 = a1;
        goto LABEL_26;
      }
    }
    else
    {
      v13 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 3));
      v14 = (_BYTE *)(v4 + a2 - 1);
      v15 = 7 - ((v4 - 1) & 7);
      if ( v4 )
      {
        v19 = *(_DWORD *)a1;
        do
        {
          *v14 = (*v13 >> v15) & 1;
          if ( v15 == 7 )
          {
            v15 = 0;
            --v13;
          }
          else
          {
            ++v15;
          }
          --v14;
          --v19;
        }
        while ( v19 );
        goto LABEL_25;
      }
    }
LABEL_26:
    v16 = *(_BYTE *)(v2 + 10);
    *(_BYTE *)(v2 + 9) = 8;
    *(_BYTE *)(v2 + 11) = 8 * v16;
    *(_DWORD *)(v2 + 4) = v4 * v16;
  }
}

//----- (0044BBE2) --------------------------------------------------------
char __stdcall sub_44BBE2(int a1, unsigned __int8 *a2, int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  int v5; // edi@2
  bool v6; // zf@2
  int v7; // edx@3
  int v8; // ebx@3
  unsigned int v9; // ebx@3
  signed int v10; // ecx@7
  int v11; // esi@17
  _BYTE *v12; // esi@18
  unsigned __int8 *v13; // esi@20
  unsigned int i; // edi@20
  int v15; // esi@23
  unsigned __int8 *v16; // edi@23
  unsigned int v17; // esi@26
  int v19; // [sp+4h] [bp-10h]@5
  int v20; // [sp+8h] [bp-Ch]@3
  int v21; // [sp+Ch] [bp-8h]@3
  signed int v22; // [sp+1Ch] [bp+8h]@2
  unsigned int j; // [sp+20h] [bp+Ch]@17
  unsigned int v24; // [sp+20h] [bp+Ch]@20

  v3 = a1;
  LOBYTE(v4) = *(_BYTE *)(a1 + 8);
  if ( (_BYTE)v4 != 3 )
  {
    v22 = 0;
    v5 = *(_DWORD *)v3;
    v6 = (v4 & 2) == 0;
    LOBYTE(v4) = a3;
    if ( v6 )
    {
      v7 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 3);
      v9 = 1;
    }
    else
    {
      v7 = *(_BYTE *)(v3 + 9) - *(_BYTE *)a3;
      v8 = *(_BYTE *)(a3 + 2);
      v20 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 1);
      v21 = *(_BYTE *)(v3 + 9) - v8;
      v9 = 3;
    }
    v6 = (*(_BYTE *)(v3 + 8) & 4) == 0;
    v19 = v7;
    if ( !v6 )
    {
      v4 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 4);
      *(&v19 + v9) = v4;
      LOBYTE(v7) = v19;
      ++v9;
    }
    v10 = 0;
    if ( (signed int)v9 > 0 )
    {
      do
      {
        v4 = (int)(&v19 + v10);
        if ( *(_DWORD *)v4 > 0 )
        {
          v22 = 1;
        }
        else
        {
          *(_DWORD *)v4 = 0;
          LOBYTE(v7) = v19;
        }
        ++v10;
      }
      while ( v10 < (signed int)v9 );
      if ( (_WORD)v22 )
      {
        if ( *(_BYTE *)(v3 + 9) == 2 )
        {
          v17 = *(_DWORD *)(v3 + 4);
          v4 = (int)a2;
          if ( v17 > 0 )
          {
            do
            {
              *(_BYTE *)v4 = (*(_BYTE *)v4 >> 1) & 0x55;
              ++v4;
              --v17;
            }
            while ( v17 );
          }
        }
        else if ( *(_BYTE *)(v3 + 9) == 4 )
        {
          v15 = *(_DWORD *)(v3 + 4);
          v16 = a2;
          for ( LOBYTE(v4) = (15 >> v7) | (240 >> v7) & 0xF0; v15; --v15 )
          {
            *v16 = v4 & (*v16 >> v7);
            ++v16;
          }
        }
        else
        {
          LOBYTE(v4) = *(_BYTE *)(v3 + 9) - 8;
          if ( *(_BYTE *)(v3 + 9) == 8 )
          {
            v13 = a2;
            v24 = v9 * v5;
            for ( i = 0; i < v24; ++i )
            {
              v4 = i / v9;
              *v13++ >>= *((_BYTE *)&v19 + 4 * (i % v9));
            }
          }
          else
          {
            LOBYTE(v4) = *(_BYTE *)(v3 + 9) - 16;
            if ( *(_BYTE *)(v3 + 9) == 16 )
            {
              v11 = (int)a2;
              for ( j = 0; j < v9 * v5; LOBYTE(v4) = j )
              {
                LOWORD(v4) = (unsigned __int16)(*(_BYTE *)(v11 + 1) + (*(_BYTE *)v11 << 8)) >> *((_WORD *)&v19
                                                                                               + 2 * (j % v9));
                *(_BYTE *)v11 = BYTE1(v4);
                v12 = (_BYTE *)(v11 + 1);
                *v12 = v4;
                v11 = (int)(v12 + 1);
                ++j;
              }
            }
          }
        }
      }
    }
  }
  return v4;
}

//----- (0044BD5B) --------------------------------------------------------
int __stdcall sub_44BD5B(int a1, _BYTE *a2)
{
  int result; // eax@1
  _BYTE *v3; // esi@2
  char *v4; // edx@2
  int v5; // edi@3
  char v6; // cl@4
  unsigned __int8 v7; // cl@5
  char v8; // dl@5
  int v9; // ecx@5

  result = a1;
  if ( *(_BYTE *)(a1 + 9) == 16 )
  {
    v3 = a2;
    v4 = a2;
    if ( *(_DWORD *)a1 * *(_BYTE *)(a1 + 10) )
    {
      v5 = *(_DWORD *)a1 * *(_BYTE *)(a1 + 10);
      do
      {
        v6 = *v4;
        v4 += 2;
        *v3++ = v6;
        --v5;
      }
      while ( v5 );
    }
    v7 = *(_BYTE *)(a1 + 10);
    v8 = 8 * v7;
    v9 = *(_DWORD *)a1 * v7;
    *(_BYTE *)(a1 + 9) = 8;
    *(_BYTE *)(a1 + 11) = v8;
    *(_DWORD *)(a1 + 4) = v9;
  }
  return result;
}

//----- (0044BDA1) --------------------------------------------------------
unsigned int __stdcall sub_44BDA1(int a1, int a2, unsigned int a3, char a4)
{
  char v4; // cl@1
  unsigned int result; // eax@1
  unsigned int v6; // ebx@1
  char v7; // cl@2
  _BYTE *v8; // ecx@3
  _BYTE *v9; // edi@3
  _BYTE *v10; // edi@6
  bool v11; // zf@6
  _BYTE *v12; // edi@10
  int v13; // ecx@13
  _BYTE *v14; // ecx@14
  _BYTE *v15; // edi@15
  _BYTE *v16; // ecx@16
  _BYTE *v17; // edi@16
  _BYTE *v18; // ecx@17
  char *v19; // edi@18
  char v20; // cl@20
  char *v21; // edi@20
  char v22; // cl@23
  _BYTE *v23; // ecx@25
  _BYTE *v24; // edi@25
  _BYTE *v25; // edi@27
  _BYTE *v26; // ecx@27
  char v27; // bl@27
  _BYTE *v28; // edi@29
  _BYTE *v29; // ecx@29
  _BYTE *v30; // edi@31
  _BYTE *v31; // ecx@31
  _BYTE *v32; // edi@34
  _BYTE *v33; // ecx@34
  _BYTE *v34; // ecx@37
  _BYTE *v35; // edi@37
  char v36; // bl@37
  _BYTE *v37; // ecx@39
  _BYTE *v38; // edi@42
  _BYTE *v39; // ecx@42
  int v40; // [sp+18h] [bp+Ch]@5
  unsigned int v41; // [sp+18h] [bp+Ch]@9
  int v42; // [sp+18h] [bp+Ch]@15
  char *v43; // [sp+18h] [bp+Ch]@18
  char *v44; // [sp+18h] [bp+Ch]@20
  int v45; // [sp+18h] [bp+Ch]@26
  unsigned int v46; // [sp+18h] [bp+Ch]@30
  int v47; // [sp+18h] [bp+Ch]@36
  unsigned int v48; // [sp+18h] [bp+Ch]@41
  int v49; // [sp+20h] [bp+14h]@14
  unsigned int v50; // [sp+20h] [bp+14h]@19

  v4 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  v6 = a3 >> 8;
  if ( v4 )
  {
    if ( v4 != 2 )
      return result;
    v22 = *(_BYTE *)(a1 + 9);
    if ( v22 == 8 )
    {
      if ( a4 & 0x80 )
      {
        v23 = (_BYTE *)(a2 + 2 * result + result);
        v24 = &v23[result];
        if ( result > 1 )
        {
          v45 = result - 1;
          do
          {
            v25 = v24 - 1;
            *v25 = a3;
            v26 = v23 - 1;
            *--v25 = *v26;
            v27 = *--v26;
            --v25;
            v23 = v26 - 1;
            *v25 = v27;
            v24 = v25 - 1;
            v11 = v45-- == 1;
            *v24 = *v23;
          }
          while ( !v11 );
        }
        *(v24 - 1) = a3;
      }
      else
      {
        v28 = (_BYTE *)(a2 + 2 * result + result);
        v29 = &v28[result];
        if ( result )
        {
          v46 = *(_DWORD *)a1;
          do
          {
            v30 = v28 - 1;
            v31 = v29 - 1;
            *v31 = *v30--;
            *--v31 = *v30;
            v28 = v30 - 1;
            *--v31 = *v28;
            v29 = v31 - 1;
            v11 = v46-- == 1;
            *v29 = a3;
          }
          while ( !v11 );
        }
      }
      *(_BYTE *)(a1 + 11) = 32;
      result *= 4;
    }
    else
    {
      if ( v22 != 16 )
        return result;
      v32 = (_BYTE *)(a2 + 2 * result + result);
      v33 = &v32[result];
      if ( a4 & 0x80 )
      {
        if ( result > 1 )
        {
          v47 = result - 1;
          do
          {
            v34 = v33 - 1;
            *v34-- = BYTE1(a3);
            *v34 = a3;
            v35 = v32 - 1;
            *--v34 = *v35--;
            *--v34 = *v35--;
            *--v34 = *v35--;
            *--v34 = *v35;
            v36 = *--v35;
            --v34;
            v32 = v35 - 1;
            *v34 = v36;
            v33 = v34 - 1;
            v11 = v47-- == 1;
            *v33 = *v32;
          }
          while ( !v11 );
          LOBYTE(v6) = BYTE1(a3);
        }
        v37 = v33 - 1;
        *v37 = v6;
        *(v37 - 1) = a3;
      }
      else if ( result )
      {
        v48 = *(_DWORD *)a1;
        do
        {
          v38 = v32 - 1;
          v39 = v33 - 1;
          *v39 = *v38--;
          *--v39 = *v38--;
          *--v39 = *v38--;
          *--v39 = *v38--;
          *--v39 = *v38;
          v32 = v38 - 1;
          *--v39 = *v32;
          *--v39 = BYTE1(a3);
          v33 = v39 - 1;
          v11 = v48-- == 1;
          *v33 = a3;
        }
        while ( !v11 );
      }
      *(_BYTE *)(a1 + 11) = 64;
      result *= 8;
    }
    *(_BYTE *)(a1 + 10) = 4;
  }
  else
  {
    v7 = *(_BYTE *)(a1 + 9);
    if ( v7 == 8 )
    {
      v8 = (_BYTE *)(result + a2);
      v9 = (_BYTE *)(result + a2 + result);
      if ( a4 & 0x80 )
      {
        if ( result > 1 )
        {
          v40 = result - 1;
          do
          {
            v10 = v9 - 1;
            --v8;
            *v10 = a3;
            v9 = v10 - 1;
            v11 = v40-- == 1;
            *v9 = *v8;
          }
          while ( !v11 );
        }
        *(v9 - 1) = a3;
      }
      else if ( result )
      {
        v41 = *(_DWORD *)a1;
        do
        {
          --v8;
          v12 = v9 - 1;
          *v12 = *v8;
          v9 = v12 - 1;
          v11 = v41-- == 1;
          *v9 = a3;
        }
        while ( !v11 );
      }
      *(_BYTE *)(a1 + 10) = 2;
      *(_BYTE *)(a1 + 11) = 16;
      result *= 2;
    }
    else
    {
      if ( v7 != 16 )
        return result;
      v13 = a2;
      if ( a4 & 0x80 )
      {
        v49 = result + a2;
        v14 = (_BYTE *)(result + result + a2);
        if ( result > 1 )
        {
          v42 = result - 1;
          v15 = (_BYTE *)v49;
          do
          {
            v16 = v14 - 1;
            *v16-- = v6;
            *v16 = a3;
            v17 = v15 - 1;
            *--v16 = *v17;
            v15 = v17 - 1;
            v14 = v16 - 1;
            v11 = v42-- == 1;
            *v14 = *v15;
            LOBYTE(v6) = BYTE1(a3);
          }
          while ( !v11 );
        }
        v18 = v14 - 1;
        *v18 = v6;
        *(v18 - 1) = a3;
      }
      else
      {
        v43 = (char *)(result + a2);
        v19 = (char *)(result + result + v13);
        if ( result )
        {
          v50 = *(_DWORD *)a1;
          do
          {
            v44 = v43 - 1;
            v20 = *v44;
            v21 = v19 - 1;
            v43 = v44 - 1;
            *v21-- = v20;
            *v21-- = *v43;
            *v21 = v6;
            v19 = v21 - 1;
            v11 = v50-- == 1;
            *v19 = a3;
          }
          while ( !v11 );
        }
      }
      *(_BYTE *)(a1 + 10) = 2;
      *(_BYTE *)(a1 + 11) = 32;
      result *= 4;
    }
  }
  *(_DWORD *)(a1 + 4) = result;
  return result;
}

//----- (0044BFDA) --------------------------------------------------------
int __stdcall sub_44BFDA(int a1, _BYTE *a2, int a3, int a4, char a5)
{
  int result; // eax@1
  int v6; // esi@1
  int v7; // edi@1
  unsigned __int8 v8; // cl@1
  int v9; // edx@1
  _BYTE *v10; // ecx@10
  int v11; // esi@11
  _BYTE *v12; // ecx@12
  __int16 v13; // cx@16
  int v14; // eax@16
  __int16 v15; // cx@16
  __int16 v16; // cx@16
  _BYTE *v17; // ecx@19
  int v18; // esi@20
  __int16 v19; // cx@24
  _BYTE *v20; // ecx@27
  int v21; // esi@28
  _BYTE *v22; // ecx@29
  __int16 v23; // cx@33
  int v24; // eax@33
  __int16 v25; // cx@33
  __int16 v26; // cx@33
  char v27; // cl@38
  int v28; // edx@38
  int v29; // edi@38
  char *v30; // ecx@38
  bool v31; // zf@38
  char v32; // cl@40
  _BYTE *v33; // esi@41
  unsigned int v34; // edi@42
  _BYTE *v35; // ecx@46
  int v36; // esi@47
  __int16 v37; // cx@52
  int v38; // [sp+8h] [bp-Ch]@1
  int v39; // [sp+20h] [bp+Ch]@15
  int v40; // [sp+20h] [bp+Ch]@32
  unsigned int v41; // [sp+24h] [bp+10h]@37
  char *v42; // [sp+28h] [bp+14h]@36

  result = a3;
  v6 = a4;
  v7 = a1;
  v8 = *(_BYTE *)(a1 + 9);
  v9 = *(_DWORD *)a1;
  v38 = *(_DWORD *)a1;
  if ( v8 <= 8u && a3 || v8 == 16 && a4 )
  {
    if ( *(_BYTE *)(a1 + 8) )
    {
      switch ( *(_BYTE *)(a1 + 8) )
      {
        case 2:
          if ( v8 == 8 )
          {
            v20 = a2;
            if ( v9 )
            {
              v21 = *(_DWORD *)a1;
              do
              {
                *v20 = *(_BYTE *)(*v20 + a3);
                v22 = v20 + 1;
                *v22 = *(_BYTE *)(*v22 + a3);
                ++v22;
                *v22 = *(_BYTE *)(*v22 + a3);
                v20 = v22 + 1;
                --v21;
              }
              while ( v21 );
            }
          }
          else
          {
            result = (int)a2;
            if ( v9 )
            {
              v40 = *(_DWORD *)a1;
              do
              {
                v23 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5))
                               + 2 * *(_BYTE *)result);
                *(_BYTE *)(result + 1) = v23;
                *(_BYTE *)result = HIBYTE(v23);
                v24 = result + 2;
                v25 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v24 + 1) >> a5)) + 2 * *(_BYTE *)v24);
                *(_BYTE *)(v24 + 1) = v25;
                *(_BYTE *)v24 = HIBYTE(v25);
                v24 += 2;
                v26 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v24 + 1) >> a5)) + 2 * *(_BYTE *)v24);
                *(_BYTE *)v24 = HIBYTE(v26);
                *(_BYTE *)(v24 + 1) = v26;
                result = v24 + 2;
                --v40;
              }
              while ( v40 );
            }
          }
          break;
        case 4:
          if ( v8 == 8 )
          {
            v17 = a2;
            if ( v9 )
            {
              v18 = *(_DWORD *)a1;
              do
              {
                *v17 = *(_BYTE *)(*v17 + a3);
                v17 += 2;
                --v18;
              }
              while ( v18 );
            }
          }
          else
          {
            for ( result = (int)a2; v9; --v9 )
            {
              v19 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5)) + 2 * *(_BYTE *)result);
              *(_BYTE *)result = HIBYTE(v19);
              *(_BYTE *)(result + 1) = v19;
              result += 4;
            }
          }
          break;
        case 6:
          if ( v8 == 8 )
          {
            v10 = a2;
            if ( v9 )
            {
              v11 = *(_DWORD *)a1;
              do
              {
                *v10 = *(_BYTE *)(*v10 + a3);
                v12 = v10 + 1;
                *v12 = *(_BYTE *)(*v12 + a3);
                ++v12;
                *v12 = *(_BYTE *)(*v12 + a3);
                v10 = v12 + 2;
                --v11;
              }
              while ( v11 );
            }
          }
          else
          {
            result = (int)a2;
            if ( v9 )
            {
              v39 = *(_DWORD *)a1;
              do
              {
                v13 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5))
                               + 2 * *(_BYTE *)result);
                *(_BYTE *)(result + 1) = v13;
                *(_BYTE *)result = HIBYTE(v13);
                v14 = result + 2;
                v15 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v14 + 1) >> a5)) + 2 * *(_BYTE *)v14);
                *(_BYTE *)(v14 + 1) = v15;
                *(_BYTE *)v14 = HIBYTE(v15);
                v14 += 2;
                v16 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v14 + 1) >> a5)) + 2 * *(_BYTE *)v14);
                *(_BYTE *)v14 = HIBYTE(v16);
                *(_BYTE *)(v14 + 1) = v16;
                result = v14 + 4;
                --v39;
              }
              while ( v39 );
            }
          }
          break;
      }
    }
    else
    {
      if ( v8 == 2 )
      {
        v42 = a2;
        if ( v9 )
        {
          v41 = ((unsigned int)(v9 - 1) >> 2) + 1;
          do
          {
            v27 = *v42;
            v28 = *v42 & 0xC;
            v29 = *v42 & 0x30;
            LOBYTE(v28) = *(_BYTE *)((*v42 & 0xC0 | ((*v42 & 0xC0 | ((*v42 & 0xC0 | ((*v42 & 0xC0) >> 2)) >> 2)) >> 2))
                                   + result) & 0xC0 | ((unsigned __int8)(*(_BYTE *)((v29 | 4 * v29 | ((v29 | (v29 >> 2)) >> 2))
                                                                                  + result) & 0xC3 | ((unsigned __int8)((*(_BYTE *)((v27 & 3 | 4 * (v27 & 3 | 4 * (v27 & 3 | 4 * (v27 & 3)))) + result) >> 2) | *(_BYTE *)((v28 | (v28 >> 2) | 4 * (v28 | 4 * (v27 & 0xC))) + result) & 0xCF) >> 2)) >> 2);
            v30 = v42++;
            v31 = v41-- == 1;
            *v30 = v28;
          }
          while ( !v31 );
          v9 = v38;
          v7 = a1;
        }
      }
      v32 = *(_BYTE *)(v7 + 9);
      switch ( v32 )
      {
        case 4:
          v33 = a2;
          if ( v9 )
          {
            v34 = ((unsigned int)(v9 - 1) >> 1) + 1;
            do
            {
              *v33 = (*(_BYTE *)((*v33 & 0xF | 16 * (*v33 & 0xF)) + result) >> 4) | *(_BYTE *)((*v33 & 0xF0 | ((*v33 & 0xF0) >> 4))
                                                                                             + result) & 0xF0;
              ++v33;
              --v34;
            }
            while ( v34 );
          }
          break;
        case 8:
          v35 = a2;
          if ( v9 )
          {
            v36 = v9;
            do
            {
              *v35 = *(_BYTE *)(*v35 + result);
              ++v35;
              --v36;
            }
            while ( v36 );
          }
          break;
        case 16:
          for ( result = (int)a2; v9; --v9 )
          {
            v37 = *(_WORD *)(*(_DWORD *)(v6 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5)) + 2 * *(_BYTE *)result);
            *(_BYTE *)result = HIBYTE(v37);
            *(_BYTE *)(result + 1) = v37;
            result += 2;
          }
          break;
      }
    }
  }
  return result;
}

//----- (0044C32A) --------------------------------------------------------
int __stdcall sub_44C32A(int a1, int a2, int a3, int a4, signed int a5)
{
  int v5; // esi@1
  int result; // eax@1
  unsigned __int8 v7; // cl@2
  int v8; // edi@2
  int v9; // ecx@3
  int v10; // ecx@4
  int v11; // ecx@6
  unsigned __int8 *v12; // edx@6
  bool v13; // zf@11
  int v14; // ebx@13
  int v15; // ecx@13
  unsigned __int8 *v16; // edx@13
  int v17; // ebx@20
  int v18; // ecx@20
  unsigned __int8 *v19; // edx@20
  _BYTE *v20; // edx@28
  int v21; // ebx@29
  _BYTE *v22; // ecx@29
  _BYTE *v23; // ecx@34
  _BYTE *v24; // ecx@37
  _BYTE *v25; // ecx@39
  int v26; // [sp+4h] [bp-4h]@7
  int v27; // [sp+4h] [bp-4h]@14
  int v28; // [sp+4h] [bp-4h]@21
  int v29; // [sp+10h] [bp+8h]@6
  int v30; // [sp+10h] [bp+8h]@13
  int v31; // [sp+10h] [bp+8h]@20
  int v32; // [sp+10h] [bp+8h]@30
  int v33; // [sp+10h] [bp+8h]@37
  _BYTE *v34; // [sp+14h] [bp+Ch]@6
  _BYTE *v35; // [sp+14h] [bp+Ch]@13
  _BYTE *v36; // [sp+14h] [bp+Ch]@20
  int v37; // [sp+14h] [bp+Ch]@29
  int v38; // [sp+1Ch] [bp+14h]@38

  v5 = a1;
  result = *(_DWORD *)a1;
  if ( *(_BYTE *)(a1 + 8) == 3 )
  {
    v7 = *(_BYTE *)(a1 + 9);
    v8 = a2;
    if ( v7 < 8u )
    {
      v9 = v7 - 1;
      if ( v9 )
      {
        v10 = v9 - 1;
        if ( v10 )
        {
          if ( v10 == 2 )
          {
            v34 = (_BYTE *)(result + a2 - 1);
            LOBYTE(v11) = 4 * (result & 1);
            v12 = (unsigned __int8 *)(v8 + ((unsigned int)(result - 1) >> 1));
            v29 = 4 * (*(_DWORD *)a1 & 1);
            if ( result )
            {
              v26 = result;
              do
              {
                *v34 = (*v12 >> v11) & 0xF;
                if ( v29 == 4 )
                {
                  v11 = 0;
                  --v12;
                }
                else
                {
                  v11 = v29 + 4;
                }
                --v34;
                v13 = v26-- == 1;
                v29 = v11;
              }
              while ( !v13 );
            }
          }
        }
        else
        {
          v35 = (_BYTE *)(result + a2 - 1);
          v14 = ((_BYTE)result - 1) & 3;
          v15 = 2 * (3 - v14);
          v16 = (unsigned __int8 *)(v8 + ((unsigned int)(result - 1) >> 2));
          v30 = 2 * (3 - v14);
          if ( result )
          {
            v27 = result;
            do
            {
              *v35 = (*v16 >> v15) & 3;
              if ( v30 == 6 )
              {
                v15 = 0;
                --v16;
              }
              else
              {
                v15 = v30 + 2;
              }
              --v35;
              v13 = v27-- == 1;
              v30 = v15;
            }
            while ( !v13 );
          }
        }
      }
      else
      {
        v36 = (_BYTE *)(result + a2 - 1);
        v17 = ((_BYTE)result - 1) & 7;
        v18 = (unsigned __int8)(7 - v17);
        v19 = (unsigned __int8 *)(v8 + ((unsigned int)(result - 1) >> 3));
        v31 = 7 - v17;
        if ( result )
        {
          v28 = result;
          do
          {
            *v36 = (*v19 >> v18) & 1;
            if ( v31 == 7 )
            {
              v18 = 0;
              --v19;
            }
            else
            {
              v18 = v31 + 1;
            }
            --v36;
            v13 = v28-- == 1;
            v31 = v18;
          }
          while ( !v13 );
        }
      }
      *(_BYTE *)(v5 + 9) = 8;
      *(_BYTE *)(v5 + 11) = 8;
      *(_DWORD *)(v5 + 4) = result;
    }
    if ( *(_BYTE *)(v5 + 9) == 8 )
    {
      v20 = (_BYTE *)(result + v8 - 1);
      if ( a4 )
      {
        v21 = 4 * result;
        v37 = 4 * result;
        v22 = (_BYTE *)(4 * result + v8 - 1);
        if ( result )
        {
          v32 = result;
          result = a3;
          do
          {
            if ( *v20 < a5 )
              *v22 = *(_BYTE *)(*v20 + a4);
            else
              *v22 = -1;
            v23 = v22 - 1;
            *v23-- = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 2);
            *v23-- = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 1);
            *v23 = *(_BYTE *)(*v20 + a3 + 2 * *v20);
            v22 = v23 - 1;
            --v20;
            --v32;
          }
          while ( v32 );
          v21 = v37;
        }
        *(_BYTE *)(v5 + 11) = 32;
        *(_BYTE *)(v5 + 8) = 6;
        *(_BYTE *)(v5 + 10) = 4;
      }
      else
      {
        v21 = 3 * result;
        v33 = 3 * result;
        v24 = (_BYTE *)(3 * result + v8 - 1);
        if ( result )
        {
          v38 = result;
          result = a3;
          do
          {
            *v24 = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 2);
            v25 = v24 - 1;
            *v25-- = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 1);
            *v25 = *(_BYTE *)(*v20 + a3 + 2 * *v20);
            v24 = v25 - 1;
            --v20;
            --v38;
          }
          while ( v38 );
          v21 = v33;
        }
        *(_BYTE *)(v5 + 11) = 24;
        *(_BYTE *)(v5 + 8) = 2;
        *(_BYTE *)(v5 + 10) = 3;
      }
      *(_BYTE *)(v5 + 9) = 8;
      *(_DWORD *)(v5 + 4) = v21;
    }
  }
  return result;
}

//----- (0044C533) --------------------------------------------------------
int __stdcall sub_44C533(int a1, int a2, int a3)
{
  int v3; // esi@1
  char v4; // cl@1
  int result; // eax@1
  unsigned __int16 v6; // bx@2
  unsigned __int8 v7; // cl@4
  int v8; // edi@4
  int v9; // ecx@5
  int v10; // ecx@6
  int v11; // ebx@8
  signed int v12; // ecx@8
  _BYTE *v13; // edx@8
  bool v14; // zf@12
  int v15; // ebx@14
  int v16; // ecx@14
  _BYTE *v17; // edx@14
  char v18; // bl@16
  int v19; // ebx@21
  int v20; // ecx@21
  unsigned __int8 *v21; // edx@21
  char v22; // cl@29
  _BYTE *v23; // ecx@30
  _BYTE *v24; // edi@30
  int v25; // edx@31
  _BYTE *v26; // edi@35
  int v27; // edx@38
  _BYTE *v28; // ecx@38
  _BYTE *v29; // edi@38
  unsigned __int16 v30; // bx@40
  _BYTE *v31; // edi@41
  _BYTE *v32; // edi@43
  char v33; // cl@44
  unsigned __int8 v34; // cl@44
  int v35; // edx@46
  char v36; // cl@47
  _BYTE *v37; // ecx@48
  _BYTE *v38; // edi@48
  _BYTE *v39; // edi@55
  _BYTE *v40; // ecx@55
  _BYTE *v41; // ecx@58
  _BYTE *v42; // edi@58
  unsigned __int16 v43; // bx@61
  unsigned __int16 v44; // dx@62
  unsigned __int16 v45; // dx@63
  _BYTE *v46; // edi@64
  _BYTE *v47; // edi@66
  _BYTE *v48; // ecx@66
  char v49; // cl@67
  int v50; // [sp+Ch] [bp-8h]@9
  int v51; // [sp+Ch] [bp-8h]@15
  int v52; // [sp+Ch] [bp-8h]@22
  unsigned __int16 v53; // [sp+10h] [bp-4h]@4
  _BYTE *v54; // [sp+1Ch] [bp+8h]@8
  _BYTE *v55; // [sp+1Ch] [bp+8h]@14
  _BYTE *v56; // [sp+1Ch] [bp+8h]@21
  int v57; // [sp+20h] [bp+Ch]@8
  int v58; // [sp+20h] [bp+Ch]@14
  int v59; // [sp+20h] [bp+Ch]@21
  int v60; // [sp+20h] [bp+Ch]@39
  int v61; // [sp+20h] [bp+Ch]@59
  int v62; // [sp+24h] [bp+10h]@39
  int v63; // [sp+24h] [bp+10h]@49

  v3 = a1;
  v4 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  if ( v4 )
  {
    if ( v4 == 2 )
    {
      v35 = a3;
      if ( a3 )
      {
        v36 = *(_BYTE *)(a1 + 9);
        if ( v36 == 8 )
        {
          v37 = (_BYTE *)(*(_DWORD *)(a1 + 4) + a2 - 1);
          v38 = (_BYTE *)(a2 + 4 * result - 1);
          if ( result )
          {
            v63 = *(_DWORD *)a1;
            do
            {
              if ( *(v37 - 2) != *(_WORD *)(v35 + 2) || *(v37 - 1) != *(_WORD *)(v35 + 4) || *v37 != *(_WORD *)(v35 + 6) )
                *v38 = -1;
              else
                *v38 = 0;
              v39 = v38 - 1;
              *v39-- = *v37;
              v40 = v37 - 1;
              *v39-- = *v40;
              *v39 = *--v40;
              v38 = v39 - 1;
              v37 = v40 - 1;
              --v63;
            }
            while ( v63 );
          }
        }
        else if ( v36 == 16 )
        {
          v41 = (_BYTE *)(*(_DWORD *)(a1 + 4) + a2 - 1);
          v42 = (_BYTE *)(a2 + 8 * result - 1);
          if ( result )
          {
            v61 = *(_DWORD *)a1;
            while ( 1 )
            {
              HIBYTE(v43) = *(v41 - 5);
              LOBYTE(v43) = *(v41 - 4);
              if ( v43 != *(_WORD *)(v35 + 2)
                || (HIBYTE(v44) = *(v41 - 3), LOBYTE(v44) = *(v41 - 2), v44 != *(_WORD *)(a3 + 4))
                || (HIBYTE(v45) = *(v41 - 1), LOBYTE(v45) = *v41, v45 != *(_WORD *)(a3 + 6)) )
              {
                *v42 = -1;
                v46 = v42 - 1;
                *v46 = -1;
              }
              else
              {
                *v42 = 0;
                v46 = v42 - 1;
                *v46 = 0;
              }
              v47 = v46 - 1;
              *v47-- = *v41;
              v48 = v41 - 1;
              *v47-- = *v48;
              *v47-- = *--v48;
              *v47-- = *--v48;
              *v47-- = *--v48;
              *v47 = *--v48;
              v42 = v47 - 1;
              v41 = v48 - 1;
              if ( !--v61 )
                break;
              v35 = a3;
            }
          }
        }
        v49 = *(_BYTE *)(a1 + 9);
        *(_BYTE *)(a1 + 8) = 6;
        *(_BYTE *)(a1 + 10) = 4;
        v34 = 4 * v49;
        goto LABEL_68;
      }
    }
  }
  else
  {
    v6 = 0;
    if ( a3 )
      v6 = *(_WORD *)(a3 + 8);
    v7 = *(_BYTE *)(a1 + 9);
    v8 = a2;
    v53 = v6;
    if ( v7 < 8u )
    {
      v9 = v7 - 1;
      if ( v9 )
      {
        v10 = v9 - 1;
        if ( v10 )
        {
          if ( v10 == 2 )
          {
            v54 = (_BYTE *)(result + a2 - 1);
            v53 = 17 * v6;
            v11 = 4 * (((_BYTE)result - 1) & 1);
            LOBYTE(v12) = 4 - v11;
            v13 = (_BYTE *)(a2 + ((unsigned int)(result - 1) >> 1));
            v57 = 4 - v11;
            if ( result )
            {
              v50 = result;
              do
              {
                *v54 = ((unsigned int)*v13 >> v12) & 0xF | 16 * (((unsigned int)*v13 >> v12) & 0xF);
                v12 = 4;
                if ( v57 == 4 )
                {
                  v12 = 0;
                  --v13;
                }
                --v54;
                v14 = v50-- == 1;
                v57 = v12;
              }
              while ( !v14 );
            }
          }
        }
        else
        {
          v53 = 85 * v6;
          v55 = (_BYTE *)(result + a2 - 1);
          v15 = ((_BYTE)result - 1) & 3;
          v16 = 2 * (3 - v15);
          v17 = (_BYTE *)(a2 + ((unsigned int)(result - 1) >> 2));
          v58 = 2 * (3 - v15);
          if ( result )
          {
            v51 = result;
            do
            {
              v18 = ((unsigned int)*v17 >> v16) & 3;
              *v55 = v18 | 4 * (v18 | 4 * (v18 | 4 * v18));
              if ( v58 == 6 )
              {
                v16 = 0;
                --v17;
              }
              else
              {
                v16 = v58 + 2;
              }
              --v55;
              v14 = v51-- == 1;
              v58 = v16;
            }
            while ( !v14 );
          }
        }
      }
      else
      {
        v53 = 255 * v6;
        v56 = (_BYTE *)(result + a2 - 1);
        v19 = ((_BYTE)result - 1) & 7;
        v20 = (unsigned __int8)(7 - v19);
        v21 = (unsigned __int8 *)(a2 + ((unsigned int)(result - 1) >> 3));
        v59 = 7 - v19;
        if ( result )
        {
          v52 = result;
          do
          {
            *v56 = -(((*v21 >> v20) & 1) != 0);
            if ( v59 == 7 )
            {
              v20 = 0;
              --v21;
            }
            else
            {
              v20 = v59 + 1;
            }
            --v56;
            v14 = v52-- == 1;
            v59 = v20;
          }
          while ( !v14 );
        }
      }
      v6 = v53;
      *(_BYTE *)(v3 + 9) = 8;
      *(_BYTE *)(v3 + 11) = 8;
      *(_DWORD *)(v3 + 4) = result;
    }
    if ( a3 )
    {
      v22 = *(_BYTE *)(v3 + 9);
      if ( v22 == 8 )
      {
        v23 = (_BYTE *)(result + v8 - 1);
        v24 = (_BYTE *)(v8 + 2 * result - 1);
        if ( result )
        {
          v25 = result;
          do
          {
            if ( *v23 == v53 )
              *v24 = 0;
            else
              *v24 = -1;
            v26 = v24 - 1;
            *v26 = *v23;
            v24 = v26 - 1;
            --v23;
            --v25;
          }
          while ( v25 );
        }
      }
      else if ( v22 == 16 )
      {
        v27 = *(_DWORD *)(v3 + 4);
        v28 = (_BYTE *)(v27 + v8 - 1);
        v29 = (_BYTE *)(v8 + 2 * v27 - 1);
        if ( result )
        {
          v60 = v6;
          v62 = result;
          do
          {
            HIBYTE(v30) = *(v28 - 1);
            LOBYTE(v30) = *v28;
            if ( v30 == v60 )
            {
              *v29 = 0;
              v31 = v29 - 1;
              *v31 = 0;
            }
            else
            {
              *v29 = -1;
              v31 = v29 - 1;
              *v31 = -1;
            }
            v32 = v31 - 1;
            *v32-- = *v28;
            *v32 = *(v28 - 1);
            v29 = v32 - 1;
            v28 -= 2;
            --v62;
          }
          while ( v62 );
        }
      }
      v33 = *(_BYTE *)(v3 + 9);
      *(_BYTE *)(v3 + 8) = 4;
      *(_BYTE *)(v3 + 10) = 2;
      v34 = 2 * v33;
LABEL_68:
      *(_BYTE *)(v3 + 11) = v34;
      *(_DWORD *)(v3 + 4) = result * (unsigned int)v34 >> 3;
      return result;
    }
  }
  return result;
}

//----- (0044C886) --------------------------------------------------------
int __stdcall sub_44C886(int a1, _BYTE *a2, int a3, int a4)
{
  int v4; // edi@1
  char v5; // cl@1
  int result; // eax@1
  _BYTE *v7; // edx@4
  char v8; // al@6
  char *v9; // edx@6
  char v10; // bl@6
  char v11; // al@6
  _BYTE *v12; // esi@6
  bool v13; // zf@6
  unsigned __int8 v14; // cl@8
  _BYTE *v15; // edx@12
  char v16; // al@14
  char *v17; // edx@14
  char v18; // bl@14
  char v19; // al@14
  _BYTE *v20; // esi@14
  _BYTE *i; // ecx@19
  int v22; // [sp+Ch] [bp-4h]@1
  int v23; // [sp+18h] [bp+8h]@5
  int v24; // [sp+18h] [bp+8h]@13

  v4 = a1;
  v5 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  v22 = *(_DWORD *)a1;
  if ( v5 == 2 && a3 && *(_BYTE *)(a1 + 9) == 8 )
  {
    v7 = a2;
    if ( !result )
    {
LABEL_8:
      v14 = *(_BYTE *)(v4 + 9);
      *(_BYTE *)(v4 + 11) = v14;
      *(_BYTE *)(v4 + 8) = 3;
      *(_BYTE *)(v4 + 10) = 1;
      *(_DWORD *)(v4 + 4) = (result * (unsigned int)v14 + 7) >> 3;
      return result;
    }
    v23 = *(_DWORD *)a1;
    do
    {
      v8 = *v7;
      v9 = v7 + 1;
      v10 = *v9++;
      v11 = *(_BYTE *)((((signed int)(unsigned __int8)*v9 >> 3) & 0x1F | 4 * (v10 & 0xF8 | 32 * (v8 & 0xF8))) + a3);
      v12 = a2;
      v7 = v9 + 1;
      ++a2;
      v13 = v23-- == 1;
      *v12 = v11;
    }
    while ( !v13 );
LABEL_7:
    result = v22;
    goto LABEL_8;
  }
  if ( v5 == 6 && a3 && *(_BYTE *)(a1 + 9) == 8 )
  {
    v15 = a2;
    if ( !result )
      goto LABEL_8;
    v24 = *(_DWORD *)a1;
    do
    {
      v16 = *v15;
      v17 = v15 + 1;
      v18 = *v17++;
      v19 = *(_BYTE *)((((signed int)(unsigned __int8)*v17 >> 3) & 0x1F | 4 * (v18 & 0xF8 | 32 * (v16 & 0xF8))) + a3);
      v20 = a2;
      v15 = v17 + 2;
      ++a2;
      v13 = v24-- == 1;
      *v20 = v19;
    }
    while ( !v13 );
    goto LABEL_7;
  }
  if ( v5 == 3 )
  {
    if ( a4 )
    {
      if ( *(_BYTE *)(a1 + 9) == 8 )
      {
        for ( i = a2; result; --result )
        {
          *i = *(_BYTE *)(*i + a4);
          ++i;
        }
      }
    }
  }
  return result;
}

//----- (0044C995) --------------------------------------------------------
void __stdcall sub_44C995(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  int *__attribute__((__org_typedef(jmp_buf))) v1; // esi@1
  long double v2; // st7@4
  void *v3; // eax@6
  signed __int64 v4; // rax@7
  signed int v5; // eax@10
  unsigned int v6; // edi@15
  signed int v7; // ebx@25
  long double v8; // st7@26
  void *v9; // eax@28
  bool v10; // zf@28
  void *v11; // eax@30
  int *__attribute__((__org_typedef(jmp_buf))) v12; // edx@30
  __int16 v13; // cx@34
  unsigned int v14; // ebx@35
  int v15; // eax@35
  signed int v16; // ebx@41
  signed __int64 v17; // rax@42
  double v18; // [sp+4h] [bp-28h]@32
  unsigned int v19; // [sp+14h] [bp-18h]@33
  unsigned int v20; // [sp+18h] [bp-14h]@32
  char v21; // [sp+1Ch] [bp-10h]@25
  unsigned int v22; // [sp+20h] [bp-Ch]@41
  int v23; // [sp+28h] [bp-4h]@16
  int *__attribute__((__org_typedef(jmp_buf))) v24; // [sp+34h] [bp+8h]@6
  int *__attribute__((__org_typedef(jmp_buf))) v25; // [sp+34h] [bp+8h]@28
  signed int v26; // [sp+34h] [bp+8h]@32

  v1 = a1;
  if ( *((float *)a1 + 76) != 0.0 )
  {
    if ( *((_BYTE *)a1 + 279) > 8u )
    {
      if ( *((_BYTE *)a1 + 278) & 2 )
      {
        v5 = *((_BYTE *)a1 + 336);
        if ( *((_BYTE *)a1 + 337) > v5 )
          v5 = *((_BYTE *)a1 + 337);
        if ( *((_BYTE *)a1 + 338) > v5 )
          v5 = *((_BYTE *)a1 + 338);
      }
      else
      {
        v5 = *((_BYTE *)a1 + 339);
      }
      v6 = 0;
      if ( v5 <= 0 )
        v23 = 0;
      else
        v23 = 16 - v5;
      if ( *((_BYTE *)a1 + 97) & 4 && v23 < 5 )
        v23 = 5;
      if ( v23 > 8 )
        v23 = 8;
      if ( v23 < 0 )
        v23 = 0;
      v7 = 1 << (8 - v23);
      v21 = 8 - v23;
      a1[75] = (unsigned __int8)v23;
      if ( *((float *)a1 + 77) <= 0.000001 )
        v8 = 1.0;
      else
        v8 = 1.0 / (*((float *)a1 + 77) * *((float *)a1 + 76));
      v9 = sub_452D0C(a1, 4 * v7);
      v10 = (*((_WORD *)a1 + 48) & 0x480) == 0;
      a1[81] = (int)v9;
      v25 = 0;
      if ( v10 )
      {
        if ( v7 > 0 )
        {
          do
          {
            *(_DWORD *)(v1[81] + 4 * (_DWORD)v25) = sub_452D0C(v1, 0x200u);
            v16 = 0;
            v22 = (unsigned int)((_DWORD)v25 * dword_52A884[v23]) >> 4;
            do
            {
              v17 = (signed __int64)(pow((double)v22 * 0.00001525902189669642, v8) * 65535.0 + 0.5);
              v22 += 256;
              *(_WORD *)(v16 + *(_DWORD *)(v1[81] + 4 * (_DWORD)v25)) = v17;
              v16 += 2;
            }
            while ( v16 < 512 );
            v25 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v25 + 1);
          }
          while ( (signed int)v25 < 1 << (8 - v23) );
        }
      }
      else
      {
        if ( v7 > 0 )
        {
          do
          {
            v11 = sub_452D0C(v1, 0x200u);
            v12 = v25;
            v25 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v25 + 1);
            *(_DWORD *)(v1[81] + 4 * (_DWORD)v12) = v11;
          }
          while ( (signed int)v25 < v7 );
          v6 = 0;
        }
        v26 = 0;
        v20 = v7 << 8;
        v18 = (double)(unsigned int)(v7 << 8);
        do
        {
          v19 = (signed __int64)(pow(((double)v26 + 0.5) * 0.00390625, 1.0 / v8) * v18);
          if ( v6 <= v19 )
          {
            LOBYTE(v13) = 0;
            HIBYTE(v13) = v26;
            do
            {
              v14 = v6 >> v21;
              v15 = *(_DWORD *)(v1[81] + 4 * (v6++ & (255 >> v23)));
              *(_WORD *)(v15 + 2 * v14) = v26 | v13;
            }
            while ( v6 <= v19 );
          }
          ++v26;
        }
        while ( v26 < 256 );
        for ( ; v6 < v20; ++v6 )
          *(_WORD *)(*(_DWORD *)(v1[81] + 4 * (v6 & (255 >> v23))) + 2 * (v6 >> v21)) = -1;
      }
    }
    else
    {
      if ( *((float *)a1 + 77) <= 0.000001 )
        v2 = 1.0;
      else
        v2 = 1.0 / (*((float *)a1 + 77) * *((float *)a1 + 76));
      v3 = sub_452D0C(a1, 0x100u);
      v24 = 0;
      v1[78] = (int)v3;
      do
      {
        v4 = (signed __int64)(pow((double)(signed int)v24 * 0.00392156862745098, v2) * 255.0 + 0.5);
        HIDWORD(v4) = v24;
        v24 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v24 + 1);
        *(_BYTE *)(HIDWORD(v4) + v1[78]) = v4;
      }
      while ( (signed int)v24 < 256 );
    }
  }
}

//----- (0044CC98) --------------------------------------------------------
void __stdcall sub_44CC98(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  int *__attribute__((__org_typedef(jmp_buf))) v1; // esi@1
  int v2; // edi@1
  int v3; // ecx@3
  _BYTE *v4; // eax@4
  int v5; // edi@8
  int v6; // ebx@8
  int v7; // eax@8
  int v8; // ecx@8
  unsigned __int16 v9; // cx@17
  int v10; // eax@18
  int v11; // edi@18
  char v12; // [sp+Ch] [bp-4h]@8
  int *__attribute__((__org_typedef(jmp_buf))) v13; // [sp+18h] [bp+8h]@8

  v1 = a1;
  v2 = *((_BYTE *)a1 + 278);
  if ( a1[24] & 0x602000 )
  {
    sub_44C995(a1);
    if ( v2 == 3 )
    {
      v3 = *((_WORD *)a1 + 132);
      if ( v3 > 0 )
      {
        v4 = (_BYTE *)(a1[65] + 2);
        do
        {
          *(v4 - 2) = *(_BYTE *)(*(v4 - 2) + a1[78]);
          *(v4 - 1) = *(_BYTE *)(*(v4 - 1) + a1[78]);
          *v4 = *(_BYTE *)(*v4 + a1[78]);
          v4 += 3;
          --v3;
        }
        while ( v3 );
      }
    }
  }
  if ( *((_BYTE *)a1 + 96) & 8 && v2 == 3 )
  {
    v5 = *((_BYTE *)a1 + 338);
    v6 = 8 - *((_BYTE *)a1 + 336);
    v7 = 8 - *((_BYTE *)a1 + 337);
    v8 = 8 - v5;
    v13 = (int *__attribute__((__org_typedef(jmp_buf))) )(8 - *((_BYTE *)a1 + 337));
    v12 = 8 - v5;
    if ( v6 < 0 || v6 > 8 )
      LOBYTE(v6) = 0;
    if ( v7 < 0 || v7 > 8 )
      v13 = 0;
    if ( v8 < 0 || v8 > 8 )
      v12 = 0;
    v9 = *((_WORD *)v1 + 132);
    if ( v9 )
    {
      v10 = 0;
      v11 = v9;
      do
      {
        *(_BYTE *)(v10 + v1[65]) >>= v6;
        *(_BYTE *)(v10 + v1[65] + 1) >>= (char)v13;
        *(_BYTE *)(v10 + v1[65] + 2) >>= v12;
        v10 += 3;
        --v11;
      }
      while ( v11 );
    }
  }
}

//----- (0044CDAC) --------------------------------------------------------
void __stdcall sub_44CDAC(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  if ( !a1[55] )
    sub_44AD95(a1, (int)"NULL row buffer");
  if ( *((_BYTE *)a1 + 97) & 0x10 )
  {
    if ( *((_BYTE *)a1 + 248) == 3 )
    {
      sub_44C32A((int)(a1 + 60), a1[55] + 1, a1[65], a1[87], *((_WORD *)a1 + 133));
    }
    else if ( *((_WORD *)a1 + 133) )
    {
      sub_44C533((int)(a1 + 60), a1[55] + 1, (int)(a1 + 88));
    }
    else
    {
      sub_44C533((int)(a1 + 60), a1[55] + 1, 0);
    }
  }
  if ( *((_BYTE *)a1 + 97) & 0x20 && *((_BYTE *)a1 + 278) != 3 )
    sub_44BFDA((int)(a1 + 60), (_BYTE *)(a1[55] + 1), a1[78], a1[81], a1[75]);
  if ( *((_BYTE *)a1 + 97) & 4 )
    sub_44BD5B((int)(a1 + 60), (_BYTE *)(a1[55] + 1));
  if ( *((_BYTE *)a1 + 96) & 0x40 )
  {
    sub_44C886((int)(a1 + 60), (_BYTE *)(a1[55] + 1), a1[93], a1[94]);
    if ( !a1[61] )
      sub_44AD95(a1, (int)"png_do_dither returned rowbytes=0");
  }
  if ( *((_BYTE *)a1 + 96) & 8 )
    sub_44BBE2((int)(a1 + 60), (unsigned __int8 *)(a1[55] + 1), (int)a1 + 341);
  if ( *((_BYTE *)a1 + 96) & 4 )
    sub_44BAD1((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 96) & 1 )
    sub_44B8E0((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 97) & 0x80 )
    sub_44BDA1((int)(a1 + 60), a1[55] + 1, *((_WORD *)a1 + 143), a1[23]);
  if ( *((_BYTE *)a1 + 96) & 0x10 )
    sub_44B8B1((int)(a1 + 60), a1[55] + 1);
}

//----- (0044CF48) --------------------------------------------------------
void __stdcall sub_44CF48(int a1, int a2, double a3)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_DWORD *)(a2 + 8) |= 1u;
      *(float *)(a2 + 40) = a3;
    }
  }
}

//----- (0044CF65) --------------------------------------------------------
void __stdcall sub_44CF65(int a1, int a2, unsigned int a3, int a4, char a5, char a6, char a7, char a8, char a9)
{
  unsigned __int8 v9; // al@9

  if ( a1 && a2 )
  {
    *(_BYTE *)(a2 + 26) = a8;
    *(_DWORD *)(a2 + 4) = a4;
    *(_BYTE *)(a2 + 27) = a9;
    *(_DWORD *)a2 = a3;
    *(_BYTE *)(a2 + 24) = a5;
    *(_BYTE *)(a2 + 25) = a6;
    *(_BYTE *)(a2 + 28) = a7;
    if ( a6 != 3 && a6 & 2 )
      *(_BYTE *)(a2 + 29) = 3;
    else
      *(_BYTE *)(a2 + 29) = 1;
    if ( a6 & 4 )
      ++*(_BYTE *)(a2 + 29);
    v9 = a5 * *(_BYTE *)(a2 + 29);
    *(_BYTE *)(a2 + 30) = v9;
    if ( a3 <= 0x7FFFFFFFu / ((v9 + 7) >> 3) )
    {
      *(_DWORD *)(a2 + 12) = (a3 * v9 + 7) >> 3;
    }
    else
    {
      sub_44ADB3(a1, (int)"Width too large to process image data; rowbytes will overflow.");
      *(_DWORD *)(a2 + 12) = 0;
    }
  }
}

//----- (0044D006) --------------------------------------------------------
void __stdcall sub_44D006(int a1, int a2, int a3, __int16 a4)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_DWORD *)(a2 + 8) |= 8u;
      *(_DWORD *)(a2 + 16) = a3;
      *(_WORD *)(a2 + 20) = a4;
    }
  }
}

//----- (0044D02C) --------------------------------------------------------
void __stdcall sub_44D02C(int a1, int a2, char a3)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_BYTE *)(a2 + 9) |= 8u;
      *(_BYTE *)(a2 + 44) = a3;
    }
  }
}

//----- (0044D049) --------------------------------------------------------
void __stdcall sub_44D049(int a1, __int64 a2)
{
  if ( a1 )
  {
    if ( (_DWORD)a2 )
    {
      sub_44D02C(a1, a2, SBYTE4(a2));
      sub_44CF48(a1, a2, 0.4545499980449677);
    }
  }
}

//----- (0044D080) --------------------------------------------------------
void __stdcall sub_44D080(int a1, int a2, int a3, signed int a4, int a5)
{
  if ( a1 && a2 )
  {
    if ( a3 )
      *(_DWORD *)(a2 + 48) = a3;
    if ( a5 )
    {
      *(_DWORD *)(a2 + 52) = *(_DWORD *)a5;
      *(_DWORD *)(a2 + 56) = *(_DWORD *)(a5 + 4);
      *(_WORD *)(a2 + 60) = *(_WORD *)(a5 + 8);
      if ( !a4 )
        a4 = 1;
    }
    *(_DWORD *)(a2 + 8) |= 0x10u;
    *(_WORD *)(a2 + 22) = a4;
  }
}

//----- (0044D0C9) --------------------------------------------------------
int __stdcall sub_44D0C9(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int (__cdecl *v3)(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // eax@1

  v3 = (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, int))a1[20];
  if ( !v3 )
    sub_44AD95(a1, (int)"Call to NULL read function");
  return v3(a1, a2, a3);
}

//----- (0044D0F2) --------------------------------------------------------
int (__cdecl *__stdcall sub_44D0F2(int a1, int a2, int (__cdecl *a3)(int, int)))(int, int)
{
  bool v3; // zf@1
  int (__cdecl *result)(int, int); // eax@1

  v3 = *(_DWORD *)(a1 + 76) == 0;
  *(_DWORD *)(a1 + 84) = a2;
  result = a3;
  *(_DWORD *)(a1 + 80) = a3;
  if ( !v3 )
  {
    *(_DWORD *)(a1 + 76) = 0;
    sub_44ADB3(a1, (int)"It's an error to set both read_data_fn and write_data_fn in the ");
    result = sub_44ADB3(a1, (int)"same structure.  Resetting write_data_fn to NULL.");
  }
  *(_DWORD *)(a1 + 288) = 0;
  return result;
}

//----- (0044D130) --------------------------------------------------------
int __stdcall sub_44D130(int a1, unsigned int a2, unsigned int a3)
{
  int v3; // ecx@1

  v3 = a3;
  if ( a3 <= 8 )
  {
    if ( a3 < 1 )
      return 0;
  }
  else
  {
    v3 = 8;
  }
  if ( a2 > 7 )
    return 0;
  if ( a2 + v3 > 8 )
    v3 = 8 - a2;
  return memcmp((const char *)(a1 + a2), &byte_4BAE14[a2], v3);
}

//----- (0044D17B) --------------------------------------------------------
void *__stdcall sub_44D17B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  unsigned int v3; // esi@1
  void *v4; // edx@1
  void *result; // eax@1
  void *v6; // edi@2
  unsigned int v7; // ecx@3

  v3 = a3 * a2;
  v4 = sub_452D0C(a1, a3 * a2);
  result = 0;
  if ( v4 )
  {
    v6 = v4;
    if ( v3 <= 0x8000 )
    {
      v7 = a3 * a2;
    }
    else
    {
      memset(v4, 0, 0x8000u);
      v7 = v3 - 0x8000;
      v6 = (char *)v4 + 0x8000;
    }
    memset(v6, 0, v7);
    result = v4;
  }
  return result;
}

//----- (0044D1D3) --------------------------------------------------------
int __stdcall sub_44D1D3(int a1)
{
  int result; // eax@1

  result = sub_454042(0, 0, 0);
  *(_DWORD *)(a1 + 256) = result;
  return result;
}

//----- (0044D229) --------------------------------------------------------
int __stdcall sub_44D229(int a1, void *a2)
{
  int result; // eax@1

  result = 0;
  memset(a2, 0, 0x40u);
  return result;
}

//----- (0044D239) --------------------------------------------------------
void *__stdcall sub_44D239(int a1)
{
  void *result; // eax@2
  void *v2; // edx@3

  if ( a1 )
  {
    v2 = sub_452CB4(2);
    if ( v2 )
      memset(v2, 0, 0x40u);
    result = v2;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044D270) --------------------------------------------------------
_DWORD *__stdcall sub_44D270(int a1, int a2, int a3)
{
  int v3; // eax@2
  int v4; // eax@4
  int v5; // edx@5
  int v6; // ebp@5
  _DWORD *result; // eax@5
  signed int v8; // ecx@5

  *(_DWORD *)(a1 + 4) = 0;
  if ( a2 != 62 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 12;
    *(_DWORD *)(v3 + 24) = 62;
    *(_DWORD *)(v3 + 28) = a2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  if ( a3 != 384 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 21;
    *(_DWORD *)(v4 + 24) = 384;
    *(_DWORD *)(v4 + 28) = a3;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(a1 + 12);
  memset((void *)a1, 0, 0x180u);
  *(_DWORD *)a1 = v5;
  *(_DWORD *)(a1 + 12) = v6;
  *(_DWORD *)(a1 + 16) = 0;
  sub_451F50(a1);
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 24) = 0;
  *(_DWORD *)(a1 + 68) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  result = (_DWORD *)(a1 + 104);
  v8 = 4;
  do
  {
    *(result - 4) = 0;
    *result = 0;
    ++result;
    --v8;
  }
  while ( v8 );
  *(_DWORD *)(a1 + 376) = 0;
  *(_DWORD *)(a1 + 48) = 0;
  *(_DWORD *)(a1 + 52) = 1072693248;
  *(_DWORD *)(a1 + 20) = 100;
  return result;
}

//----- (0044D340) --------------------------------------------------------
int __stdcall sub_44D340(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // ecx@3
  int v4; // ecx@5
  int v5; // ecx@7
  int result; // eax@9
  signed int v7; // esi@9
  int v8; // ecx@10

  v2 = *(_DWORD *)(a1 + 72);
  if ( v2 )
    *(_DWORD *)(v2 + 128) = a2;
  v3 = *(_DWORD *)(a1 + 76);
  if ( v3 )
    *(_DWORD *)(v3 + 128) = a2;
  v4 = *(_DWORD *)(a1 + 80);
  if ( v4 )
    *(_DWORD *)(v4 + 128) = a2;
  v5 = *(_DWORD *)(a1 + 84);
  if ( v5 )
    *(_DWORD *)(v5 + 128) = a2;
  result = a1 + 104;
  v7 = 4;
  do
  {
    v8 = *(_DWORD *)(result - 16);
    if ( v8 )
      *(_DWORD *)(v8 + 276) = a2;
    if ( *(_DWORD *)result )
      *(_DWORD *)(*(_DWORD *)result + 276) = a2;
    result += 4;
    --v7;
  }
  while ( v7 );
  return result;
}

//----- (0044D3B0) --------------------------------------------------------
int __userpurge sub_44D3B0@<eax>(int a1@<edi>, int a2)
{
  int v2; // ecx@1
  int v3; // eax@4
  int v4; // eax@6
  int v5; // eax@8
  unsigned int v6; // ecx@10
  unsigned int v7; // edi@10
  int v8; // eax@11
  int v9; // eax@14
  int v11; // [sp-8h] [bp-Ch]@9

  v2 = *(_DWORD *)(a2 + 20);
  if ( v2 == 101 || v2 == 102 )
  {
    if ( *(_DWORD *)(a2 + 232) < *(_DWORD *)(a2 + 32) )
    {
      v4 = *(_DWORD *)a2;
      *(_DWORD *)(v4 + 20) = 67;
      (*(void (__stdcall **)(int))v4)(a2);
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)(a2 + 340) + 8))(a2);
  }
  else if ( v2 != 103 )
  {
    v3 = *(_DWORD *)a2;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a2);
  }
  v5 = *(_DWORD *)(a2 + 340);
  if ( !*(_DWORD *)(v5 + 16) )
  {
    v11 = a1;
    do
    {
      (*(void (__stdcall **)(int, int))v5)(a2, v11);
      v6 = *(_DWORD *)(a2 + 248);
      v7 = 0;
      if ( v6 )
      {
        do
        {
          v8 = *(_DWORD *)(a2 + 8);
          if ( v8 )
          {
            *(_DWORD *)(v8 + 4) = v7;
            *(_DWORD *)(v8 + 8) = v6;
            (*(void (__stdcall **)(int))v8)(a2);
          }
          if ( !(*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)(a2 + 352) + 4))(a2, 0) )
          {
            v9 = *(_DWORD *)a2;
            *(_DWORD *)(v9 + 20) = 24;
            (*(void (__stdcall **)(int))v9)(a2);
          }
          v6 = *(_DWORD *)(a2 + 248);
          ++v7;
        }
        while ( v7 < v6 );
      }
      v11 = a2;
      (*(void (**)(void))(*(_DWORD *)(a2 + 340) + 8))();
      v5 = *(_DWORD *)(a2 + 340);
    }
    while ( !*(_DWORD *)(v5 + 16) );
  }
  (*(void (__stdcall **)(int))(*(_DWORD *)(a2 + 356) + 12))(a2);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a2 + 24) + 16))(a2);
  return sub_452010(a2);
}
// 44D3B0: could not find valid save-restore pair for edi

//----- (0044D490) --------------------------------------------------------
int __stdcall sub_44D490(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // eax@2
  int v4; // edx@5
  int result; // eax@5

  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != 100 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  if ( a2 )
    sub_44D340(a1, 0);
  (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 16))(a1);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 24) + 8))(a1);
  sub_455340(a1);
  (**(void (__stdcall ***)(_DWORD))(a1 + 340))(a1);
  v4 = *(_DWORD *)(a1 + 176);
  *(_DWORD *)(a1 + 232) = 0;
  result = (v4 != 0) + 101;
  *(_DWORD *)(a1 + 20) = result;
  return result;
}

//----- (0044D500) --------------------------------------------------------
int __stdcall sub_44D500(int a1, int a2, unsigned int a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // eax@2
  int v6; // eax@4
  int v7; // eax@5
  int v8; // edx@6
  int v9; // eax@7
  int v10; // ecx@9
  int v11; // eax@11
  int result; // eax@11

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 20);
  if ( v4 != 101 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 20;
    *(_DWORD *)(v5 + 24) = v4;
    (*(void (__stdcall **)(int))v5)(v3);
  }
  if ( *(_DWORD *)(v3 + 232) >= *(_DWORD *)(v3 + 32) )
  {
    v6 = *(_DWORD *)v3;
    *(_DWORD *)(v6 + 20) = 123;
    (*(void (__stdcall **)(int, signed int))(v6 + 4))(v3, -1);
  }
  v7 = *(_DWORD *)(v3 + 8);
  if ( v7 )
  {
    v8 = *(_DWORD *)(v3 + 32);
    *(_DWORD *)(v7 + 4) = *(_DWORD *)(v3 + 232);
    *(_DWORD *)(v7 + 8) = v8;
    (*(void (__stdcall **)(int))v7)(v3);
  }
  v9 = *(_DWORD *)(v3 + 340);
  if ( *(_DWORD *)(v9 + 12) )
    (*(void (__stdcall **)(int))(v9 + 4))(v3);
  v10 = a3;
  if ( a3 > *(_DWORD *)(v3 + 32) - *(_DWORD *)(v3 + 232) )
    v10 = *(_DWORD *)(v3 + 32) - *(_DWORD *)(v3 + 232);
  v11 = *(_DWORD *)(v3 + 344);
  a1 = 0;
  (*(void (__stdcall **)(int, int, int *, int))(v11 + 4))(v3, a2, &a1, v10);
  result = a1;
  *(_DWORD *)(v3 + 232) += a1;
  return result;
}

//----- (0044D5B0) --------------------------------------------------------
int __stdcall sub_44D5B0(int a1, signed int a2, int a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // eax@2
  int v7; // eax@5
  int v8; // edi@8
  int v9; // esi@8
  int v10; // edx@9
  signed int v11; // ecx@16
  int v12; // edx@16
  int v13; // ecx@23
  int v14; // edx@23
  signed int v15; // ecx@30
  int v16; // edx@30
  int v17; // ecx@37
  int v18; // edx@37
  signed int v19; // ecx@44
  int v20; // edx@44
  int v21; // ecx@51
  int v22; // edx@51
  signed int v23; // ecx@58
  int v24; // edx@58
  int result; // eax@65
  signed int v26; // [sp+14h] [bp+4h]@8
  int v27; // [sp+18h] [bp+8h]@8

  v5 = *(_DWORD *)(a1 + 20);
  if ( v5 != 100 )
  {
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 20;
    *(_DWORD *)(v6 + 24) = v5;
    (*(void (__stdcall **)(int))v6)(a1);
  }
  if ( a2 < 0 || a2 >= 4 )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 31;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  if ( !*(_DWORD *)(a1 + 4 * a2 + 72) )
    *(_DWORD *)(a1 + 4 * a2 + 72) = sub_452070(a1);
  v27 = *(_DWORD *)(a1 + 4 * a2 + 72);
  v8 = v27 + 4;
  v9 = a3 + 8;
  v26 = 8;
  do
  {
    v10 = (a4 * *(_DWORD *)(v9 - 8) + 50) / 100;
    if ( v10 > 0 )
    {
      if ( v10 > 0x7FFF )
        v10 = 0x7FFF;
    }
    else
    {
      v10 = 1;
    }
    if ( a5 && v10 > 255 )
      LOWORD(v10) = 255;
    v11 = a4 * *(_DWORD *)(v9 - 4) + 50;
    *(_WORD *)(v8 - 4) = v10;
    v12 = v11 / 100;
    if ( v11 / 100 > 0 )
    {
      if ( v12 > 0x7FFF )
        v12 = 0x7FFF;
    }
    else
    {
      v12 = 1;
    }
    if ( a5 && v12 > 255 )
      LOWORD(v12) = 255;
    v13 = a4 * *(_DWORD *)v9;
    *(_WORD *)(v8 - 2) = v12;
    v14 = (v13 + 50) / 100;
    if ( v14 > 0 )
    {
      if ( v14 > 0x7FFF )
        v14 = 0x7FFF;
    }
    else
    {
      v14 = 1;
    }
    if ( a5 && v14 > 255 )
      LOWORD(v14) = 255;
    v15 = a4 * *(_DWORD *)(v9 + 4) + 50;
    *(_WORD *)v8 = v14;
    v16 = v15 / 100;
    if ( v15 / 100 > 0 )
    {
      if ( v16 > 0x7FFF )
        v16 = 0x7FFF;
    }
    else
    {
      v16 = 1;
    }
    if ( a5 && v16 > 255 )
      LOWORD(v16) = 255;
    v17 = a4 * *(_DWORD *)(v9 + 8);
    *(_WORD *)(v8 + 2) = v16;
    v18 = (v17 + 50) / 100;
    if ( v18 > 0 )
    {
      if ( v18 > 0x7FFF )
        v18 = 0x7FFF;
    }
    else
    {
      v18 = 1;
    }
    if ( a5 && v18 > 255 )
      LOWORD(v18) = 255;
    v19 = a4 * *(_DWORD *)(v9 + 12) + 50;
    *(_WORD *)(v8 + 4) = v18;
    v20 = v19 / 100;
    if ( v19 / 100 > 0 )
    {
      if ( v20 > 0x7FFF )
        v20 = 0x7FFF;
    }
    else
    {
      v20 = 1;
    }
    if ( a5 && v20 > 255 )
      LOWORD(v20) = 255;
    v21 = a4 * *(_DWORD *)(v9 + 16);
    *(_WORD *)(v8 + 6) = v20;
    v22 = (v21 + 50) / 100;
    if ( v22 > 0 )
    {
      if ( v22 > 0x7FFF )
        v22 = 0x7FFF;
    }
    else
    {
      v22 = 1;
    }
    if ( a5 && v22 > 255 )
      LOWORD(v22) = 255;
    v23 = a4 * *(_DWORD *)(v9 + 20) + 50;
    *(_WORD *)(v8 + 8) = v22;
    v24 = v23 / 100;
    if ( v23 / 100 > 0 )
    {
      if ( v24 > 0x7FFF )
        v24 = 0x7FFF;
    }
    else
    {
      v24 = 1;
    }
    if ( a5 && v24 > 255 )
      LOWORD(v24) = 255;
    *(_WORD *)(v8 + 10) = v24;
    v9 += 32;
    v8 += 16;
    result = v26 - 1;
    v26 = result;
  }
  while ( result );
  *(_DWORD *)(v27 + 128) = 0;
  return result;
}

//----- (0044D880) --------------------------------------------------------
int __userpurge sub_44D880@<eax>(int a1@<eax>, int a2@<ebx>, int *a3, const void *a4)
{
  int v4; // edi@1
  int v5; // ecx@3
  char v6; // al@3
  signed int v7; // esi@3
  int v8; // eax@3
  signed int v9; // ecx@3
  int v10; // edx@4
  int v11; // edi@4
  int v12; // eax@7
  int result; // eax@8

  v4 = a1;
  if ( !*(_DWORD *)a2 )
    *(_DWORD *)a2 = sub_452090((int)a3);
  v5 = *(_DWORD *)a2;
  *(_DWORD *)v5 = *(_DWORD *)v4;
  *(_DWORD *)(v5 + 4) = *(_DWORD *)(v4 + 4);
  *(_DWORD *)(v5 + 8) = *(_DWORD *)(v4 + 8);
  v6 = *(_BYTE *)(v4 + 16);
  *(_DWORD *)(v5 + 12) = *(_DWORD *)(v4 + 12);
  *(_BYTE *)(v5 + 16) = v6;
  v7 = 0;
  v8 = v4 + 7;
  v9 = 2;
  do
  {
    v10 = *(_BYTE *)(v8 + 1)
        + *(_BYTE *)(v8 - 1)
        + *(_BYTE *)(v8 - 2)
        + *(_BYTE *)(v8 - 3)
        + *(_BYTE *)(v8 - 4)
        + *(_BYTE *)(v8 - 5)
        + *(_BYTE *)(v8 - 6);
    v11 = v7 + *(_BYTE *)v8;
    v8 += 8;
    --v9;
    v7 = v11 + v10;
  }
  while ( v9 );
  if ( v7 < 1 || v7 > 256 )
  {
    v12 = *a3;
    *(_DWORD *)(v12 + 20) = 8;
    (*(void (__stdcall **)(int *))v12)(a3);
  }
  result = *(_DWORD *)a2;
  qmemcpy((void *)(*(_DWORD *)a2 + 17), a4, v7);
  *(_DWORD *)(result + 276) = 0;
  return result;
}

//----- (0044D940) --------------------------------------------------------
int __usercall sub_44D940@<eax>(int *a1@<esi>)
{
  sub_44D880((int)&unk_4BB1B4, (int)(a1 + 22), a1, &unk_4BB0F0);
  sub_44D880((int)&unk_4BB0FC, (int)(a1 + 26), a1, &unk_4BB110);
  sub_44D880((int)&unk_4BB0DC, (int)(a1 + 23), a1, &unk_4BB0F0);
  return sub_44D880((int)&unk_4BB020, (int)(a1 + 27), a1, &unk_4BB038);
}

//----- (0044D990) --------------------------------------------------------
int __stdcall sub_44D990(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // eax@2
  int result; // eax@3
  int v5; // esi@4
  int v6; // esi@5
  int v7; // esi@6
  int v8; // esi@7
  signed int v9; // ecx@9
  int v10; // eax@11
  int v11; // ecx@12
  int v12; // esi@13
  int v13; // eax@16

  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != 100 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  result = a2;
  *(_DWORD *)(a1 + 64) = a2;
  *(_DWORD *)(a1 + 208) = 0;
  *(_DWORD *)(a1 + 220) = 0;
  *(_DWORD *)(a1 + 224) = 1;
  *(_DWORD *)(a1 + 228) = 1;
  switch ( a2 )
  {
    case 1:
      *(_DWORD *)(a1 + 208) = 1;
      *(_DWORD *)(a1 + 60) = 1;
      v5 = *(_DWORD *)(a1 + 68);
      *(_DWORD *)v5 = 1;
      *(_DWORD *)(v5 + 8) = 1;
      *(_DWORD *)(v5 + 12) = 1;
      *(_DWORD *)(v5 + 16) = 0;
      *(_DWORD *)(v5 + 20) = 0;
      *(_DWORD *)(v5 + 24) = 0;
      break;
    case 2:
      *(_DWORD *)(a1 + 220) = 1;
      *(_DWORD *)(a1 + 60) = 3;
      v6 = *(_DWORD *)(a1 + 68);
      *(_DWORD *)(v6 + 8) = 1;
      *(_DWORD *)(v6 + 12) = 1;
      *(_DWORD *)(v6 + 16) = 0;
      *(_DWORD *)(v6 + 20) = 0;
      *(_DWORD *)(v6 + 24) = 0;
      *(_DWORD *)v6 = 82;
      *(_DWORD *)(v6 + 92) = 1;
      *(_DWORD *)(v6 + 96) = 1;
      *(_DWORD *)(v6 + 100) = 0;
      *(_DWORD *)(v6 + 104) = 0;
      *(_DWORD *)(v6 + 108) = 0;
      *(_DWORD *)(v6 + 84) = 71;
      *(_DWORD *)(v6 + 176) = 1;
      *(_DWORD *)(v6 + 180) = 1;
      *(_DWORD *)(v6 + 184) = 0;
      *(_DWORD *)(v6 + 188) = 0;
      *(_DWORD *)(v6 + 192) = 0;
      *(_DWORD *)(v6 + 168) = 66;
      break;
    case 3:
      result = 3;
      *(_DWORD *)(a1 + 208) = 1;
      *(_DWORD *)(a1 + 60) = 3;
      v7 = *(_DWORD *)(a1 + 68);
      *(_DWORD *)v7 = 1;
      *(_DWORD *)(v7 + 16) = 0;
      *(_DWORD *)(v7 + 20) = 0;
      *(_DWORD *)(v7 + 24) = 0;
      *(_DWORD *)(v7 + 8) = 2;
      *(_DWORD *)(v7 + 12) = 2;
      *(_DWORD *)(v7 + 92) = 1;
      *(_DWORD *)(v7 + 96) = 1;
      *(_DWORD *)(v7 + 100) = 1;
      *(_DWORD *)(v7 + 104) = 1;
      *(_DWORD *)(v7 + 108) = 1;
      *(_DWORD *)(v7 + 84) = 2;
      *(_DWORD *)(v7 + 176) = 1;
      *(_DWORD *)(v7 + 180) = 1;
      *(_DWORD *)(v7 + 184) = 1;
      *(_DWORD *)(v7 + 188) = 1;
      *(_DWORD *)(v7 + 192) = 1;
      *(_DWORD *)(v7 + 168) = 3;
      break;
    case 4:
      *(_DWORD *)(a1 + 220) = 1;
      *(_DWORD *)(a1 + 60) = 4;
      v8 = *(_DWORD *)(a1 + 68);
      *(_DWORD *)(v8 + 8) = 1;
      *(_DWORD *)(v8 + 12) = 1;
      *(_DWORD *)(v8 + 16) = 0;
      *(_DWORD *)(v8 + 20) = 0;
      *(_DWORD *)(v8 + 24) = 0;
      *(_DWORD *)v8 = 67;
      *(_DWORD *)(v8 + 92) = 1;
      *(_DWORD *)(v8 + 96) = 1;
      *(_DWORD *)(v8 + 100) = 0;
      *(_DWORD *)(v8 + 104) = 0;
      *(_DWORD *)(v8 + 108) = 0;
      *(_DWORD *)(v8 + 84) = 77;
      *(_DWORD *)(v8 + 176) = 1;
      *(_DWORD *)(v8 + 180) = 1;
      *(_DWORD *)(v8 + 184) = 0;
      *(_DWORD *)(v8 + 188) = 0;
      *(_DWORD *)(v8 + 192) = 0;
      *(_DWORD *)(v8 + 168) = 89;
      *(_DWORD *)(v8 + 260) = 1;
      *(_DWORD *)(v8 + 264) = 1;
      *(_DWORD *)(v8 + 268) = 0;
      *(_DWORD *)(v8 + 272) = 0;
      *(_DWORD *)(v8 + 276) = 0;
      *(_DWORD *)(v8 + 252) = 75;
      break;
    case 5:
      result = *(_DWORD *)(a1 + 68);
      *(_DWORD *)result = 1;
      *(_DWORD *)(result + 16) = 0;
      *(_DWORD *)(result + 20) = 0;
      *(_DWORD *)(result + 24) = 0;
      *(_DWORD *)(result + 8) = 2;
      *(_DWORD *)(result + 12) = 2;
      *(_DWORD *)(result + 92) = 1;
      *(_DWORD *)(result + 96) = 1;
      *(_DWORD *)(result + 100) = 1;
      *(_DWORD *)(result + 104) = 1;
      *(_DWORD *)(result + 108) = 1;
      *(_DWORD *)(result + 84) = 2;
      *(_DWORD *)(result + 176) = 1;
      *(_DWORD *)(result + 180) = 1;
      *(_DWORD *)(result + 184) = 1;
      *(_DWORD *)(result + 188) = 1;
      *(_DWORD *)(result + 192) = 1;
      *(_DWORD *)(result + 168) = 3;
      *(_DWORD *)(a1 + 220) = 1;
      *(_DWORD *)(a1 + 60) = 4;
      *(_DWORD *)(result + 268) = 0;
      *(_DWORD *)(result + 272) = 0;
      *(_DWORD *)(result + 276) = 0;
      *(_DWORD *)(result + 252) = 4;
      *(_DWORD *)(result + 260) = 2;
      *(_DWORD *)(result + 264) = 2;
      break;
    case 0:
      v9 = *(_DWORD *)(a1 + 36);
      *(_DWORD *)(a1 + 60) = v9;
      if ( v9 < 1 || v9 > 10 )
      {
        v10 = *(_DWORD *)a1;
        *(_DWORD *)(v10 + 20) = 26;
        *(_DWORD *)(v10 + 24) = v9;
        *(_DWORD *)(v10 + 28) = 10;
        (*(void (__stdcall **)(int))v10)(a1);
      }
      v11 = *(_DWORD *)(a1 + 60);
      result = 0;
      if ( v11 > 0 )
      {
        v12 = *(_DWORD *)(a1 + 68);
        do
        {
          *(_DWORD *)v12 = result;
          *(_DWORD *)(v12 + 8) = 1;
          *(_DWORD *)(v12 + 12) = 1;
          *(_DWORD *)(v12 + 16) = 0;
          *(_DWORD *)(v12 + 20) = 0;
          *(_DWORD *)(v12 + 24) = 0;
          ++result;
          v12 += 84;
        }
        while ( result < v11 );
      }
      break;
    default:
      v13 = *(_DWORD *)a1;
      *(_DWORD *)(v13 + 20) = 10;
      result = (*(int (__stdcall **)(int))v13)(a1);
      break;
  }
  return result;
}

//----- (0044DC70) --------------------------------------------------------
int __stdcall sub_44DC70(int a1)
{
  int result; // eax@1
  int v2; // ecx@2
  int v3; // eax@3
  int v4; // esi@4
  int v5; // ecx@7
  int v6; // eax@8
  int v7; // eax@11

  result = *(_DWORD *)(a1 + 40);
  switch ( result )
  {
    case 1:
    case 8:
      v2 = *(_DWORD *)(a1 + 20);
      if ( v2 != 100 )
      {
        v3 = *(_DWORD *)a1;
        *(_DWORD *)(v3 + 20) = 20;
        *(_DWORD *)(v3 + 24) = v2;
        result = (*(int (__stdcall **)(int))v3)(a1);
      }
      *(_DWORD *)(a1 + 64) = 1;
      *(_DWORD *)(a1 + 220) = 0;
      *(_DWORD *)(a1 + 224) = 1;
      *(_DWORD *)(a1 + 228) = 1;
      *(_DWORD *)(a1 + 208) = 1;
      *(_DWORD *)(a1 + 60) = 1;
      v4 = *(_DWORD *)(a1 + 68);
      *(_DWORD *)v4 = 1;
      *(_DWORD *)(v4 + 8) = 1;
      *(_DWORD *)(v4 + 12) = 1;
      *(_DWORD *)(v4 + 16) = 0;
      *(_DWORD *)(v4 + 20) = 0;
      *(_DWORD *)(v4 + 24) = 0;
      break;
    case 2:
    case 3:
    case 6:
    case 7:
      result = sub_44D990(a1, 3);
      break;
    case 4:
      result = sub_44D990(a1, 4);
      break;
    case 5:
      v5 = *(_DWORD *)(a1 + 20);
      if ( v5 != 100 )
      {
        v6 = *(_DWORD *)a1;
        *(_DWORD *)(v6 + 20) = 20;
        *(_DWORD *)(v6 + 24) = v5;
        (*(void (__stdcall **)(int))v6)(a1);
      }
      result = *(_DWORD *)(a1 + 68);
      *(_DWORD *)result = 1;
      *(_DWORD *)(result + 16) = 0;
      *(_DWORD *)(result + 20) = 0;
      *(_DWORD *)(result + 24) = 0;
      *(_DWORD *)(a1 + 64) = 5;
      *(_DWORD *)(a1 + 208) = 0;
      *(_DWORD *)(a1 + 224) = 1;
      *(_DWORD *)(a1 + 228) = 1;
      *(_DWORD *)(a1 + 220) = 1;
      *(_DWORD *)(a1 + 60) = 4;
      *(_DWORD *)(result + 8) = 2;
      *(_DWORD *)(result + 12) = 2;
      *(_DWORD *)(result + 84) = 2;
      *(_DWORD *)(result + 92) = 1;
      *(_DWORD *)(result + 96) = 1;
      *(_DWORD *)(result + 100) = 1;
      *(_DWORD *)(result + 104) = 1;
      *(_DWORD *)(result + 108) = 1;
      *(_DWORD *)(result + 168) = 3;
      *(_DWORD *)(result + 176) = 1;
      *(_DWORD *)(result + 180) = 1;
      *(_DWORD *)(result + 184) = 1;
      *(_DWORD *)(result + 188) = 1;
      *(_DWORD *)(result + 192) = 1;
      *(_DWORD *)(result + 260) = 2;
      *(_DWORD *)(result + 264) = 2;
      *(_DWORD *)(result + 252) = 4;
      *(_DWORD *)(result + 268) = 0;
      *(_DWORD *)(result + 272) = 0;
      *(_DWORD *)(result + 276) = 0;
      break;
    case 0:
      result = sub_44D990(a1, 0);
      break;
    default:
      v7 = *(_DWORD *)a1;
      *(_DWORD *)(v7 + 20) = 9;
      result = (*(int (__stdcall **)(int))v7)(a1);
      break;
  }
  return result;
}

//----- (0044DE00) --------------------------------------------------------
int __stdcall sub_44DE00(int a1)
{
  int v1; // ecx@1
  int v2; // eax@2
  _BYTE *v3; // eax@5
  signed int v4; // ecx@5
  bool v5; // zf@7
  bool v6; // sf@7
  unsigned __int8 v7; // of@7

  v1 = *(_DWORD *)(a1 + 20);
  if ( v1 != 100 )
  {
    v2 = *(_DWORD *)a1;
    *(_DWORD *)(v2 + 20) = 20;
    *(_DWORD *)(v2 + 24) = v1;
    (*(void (__stdcall **)(int))v2)(a1);
  }
  if ( !*(_DWORD *)(a1 + 68) )
    *(_DWORD *)(a1 + 68) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 840);
  *(_DWORD *)(a1 + 56) = 8;
  sub_44D5B0(a1, 0, (int)&unk_4BAF20, 50, 1);
  sub_44D5B0(a1, 1, (int)&unk_4BAE20, 50, 1);
  sub_44D940((int *)a1);
  v3 = (_BYTE *)(a1 + 136);
  v4 = 16;
  do
  {
    *(v3 - 16) = 0;
    *v3 = 1;
    (v3++)[16] = 5;
    --v4;
  }
  while ( v4 );
  v7 = __OFSUB__(*(_DWORD *)(a1 + 56), 8);
  v5 = *(_DWORD *)(a1 + 56) == 8;
  v6 = *(_DWORD *)(a1 + 56) - 8 < 0;
  *(_DWORD *)(a1 + 172) = 0;
  *(_DWORD *)(a1 + 168) = 0;
  *(_DWORD *)(a1 + 176) = 0;
  *(_DWORD *)(a1 + 180) = 0;
  *(_DWORD *)(a1 + 184) = 0;
  if ( !((unsigned __int8)(v6 ^ v7) | v5) )
    *(_DWORD *)(a1 + 184) = 1;
  *(_DWORD *)(a1 + 188) = 0;
  *(_DWORD *)(a1 + 192) = 0;
  *(_DWORD *)(a1 + 196) = 0;
  *(_DWORD *)(a1 + 200) = 0;
  *(_DWORD *)(a1 + 204) = 0;
  *(_BYTE *)(a1 + 212) = 1;
  *(_BYTE *)(a1 + 213) = 1;
  *(_BYTE *)(a1 + 214) = 0;
  *(_WORD *)(a1 + 216) = 1;
  *(_WORD *)(a1 + 218) = 1;
  return sub_44DC70(a1);
}

//----- (0044E121) --------------------------------------------------------
double __stdcall sub_44E121(unsigned int a1)
{
  return (COERCE_FLOAT(a1 & 0xFFFFFF | 0x3F000000) * *(float *)((char *)&unk_52A8A8 + ((a1 >> 12) & 0xFF8))
        + *(float *)((char *)&unk_52A8AC + ((a1 >> 12) & 0xFF8)))
       * COERCE_FLOAT(((-1090519041 - a1) >> 1) & 0xFF800000);
}

//----- (0044E166) --------------------------------------------------------
int __stdcall sub_44E166(int a1, int a2)
{
  float v3; // ST08_4@3
  int v5; // ST08_4@6
  unsigned int v6; // ST08_4@6
  float v11; // [sp+4h] [bp-8h]@1

  _EDX = a2;
  __asm
  {
    fld     dword ptr [edx]
    fmul    dword ptr [edx]
    fld     dword ptr [edx+4]
    fmul    dword ptr [edx+4]
    fld     dword ptr [edx+8]
    fmul    dword ptr [edx+8]
    fxch    st(2)
    faddp   st(1), st
    faddp   st(1), st
    fst     [ebp+var_8]
  }
  if ( v11 == 0.0 )
  {
    __asm { ffree   st }
    *(_DWORD *)a1 = LOBYTE(v11);
    *(_DWORD *)(a1 + 4) = LOBYTE(v11);
    *(_DWORD *)(a1 + 8) = LOBYTE(v11);
  }
  else
  {
    __asm
    {
      fld1
      fsubp   st(1), st
      fstp    [ebp+var_4]
    }
    if ( (LODWORD(v3) & 0x7FFFFFFF) > 925353388 )
    {
      _EDI = (LODWORD(v11) >> 12) & 0xFF8;
      v5 = LODWORD(v11) & 0xFFFFFF | 0x3F000000;
      __asm
      {
        fld     [ebp+var_4]
        fmul    dword ptr [edi+52A8A8h]
        fadd    dword ptr [edi+52A8ACh]
      }
      v6 = ((unsigned int)(-1090519041 - LODWORD(v11)) >> 1) & 0xFF800000;
      __asm
      {
        fmul    [ebp+var_4]
        fld     dword ptr [edx]
        fmul    st, st(1)
        fld     dword ptr [edx+4]
        fmul    st, st(2)
        fld     dword ptr [edx+8]
        fmul    st, st(3)
        fxch    st(2)
        fstp    dword ptr [ecx]
      }
      *(float *)a1 = _ET1;
      __asm { fstp    dword ptr [ecx+4] }
      *(float *)(a1 + 4) = _ET1;
      __asm { fstp    dword ptr [ecx+8] }
      *(float *)(a1 + 8) = _ET1;
      __asm { fstp    st }
    }
    else if ( a1 != a2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)a2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 8);
    }
  }
  return a1;
}
// 44E172: inconsistent fpu stack

//----- (0044E230) --------------------------------------------------------
char *__stdcall sub_44E230(char *a1, char *a2, char *a3)
{
  char *result; // eax@1
  char *v4; // ebx@3
  char *v10; // ebx@9
  signed int v13; // edi@9
  char v16; // [sp+Ch] [bp-40h]@8

  result = a1;
  if ( a3 == a1 )
  {
    if ( a2 != a1 )
    {
      v4 = a1;
      _ECX = a2;
      _EDX = a3;
      _EDI = -4;
      do
      {
        _ESI = -16;
        __asm
        {
          fld     dword ptr [edx+edi*4+10h]
          fld     dword ptr [edx+edi*4+20h]
          fld     dword ptr [edx+edi*4+30h]
          fld     dword ptr [edx+edi*4+40h]
        }
        do
        {
          __asm
          {
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+40h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+44h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+48h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+4Ch]
            fxch    st(3)
            faddp   st(1), st
            fxch    st(2)
            faddp   st(1), st
            faddp   st(1), st
            fstp    dword ptr [ebx+esi*4+40h]
          }
          *(float *)&v4[4 * _ESI + 64] = _ET1;
          _ESI += 4;
        }
        while ( _ESI );
        __asm
        {
          ffree   st(3)
          ffree   st(2)
          ffree   st(1)
          ffree   st
        }
        v4 += 4;
        ++_EDI;
      }
      while ( _EDI );
      return result;
    }
    qmemcpy(&v16, a3, 0x40u);
    a3 = &v16;
  }
  v10 = a1;
  _ECX = a2;
  _EDX = a3;
  v13 = -4;
  do
  {
    _ESI = -4;
    __asm
    {
      fld     dword ptr [ecx]
      fld     dword ptr [ecx+4]
      fld     dword ptr [ecx+8]
      fld     dword ptr [ecx+0Ch]
    }
    do
    {
      __asm
      {
        fld     st(3)
        fmul    dword ptr [edx+esi*4+10h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+20h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+30h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+40h]
        fxch    st(3)
        faddp   st(1), st
        fxch    st(2)
        faddp   st(1), st
        faddp   st(1), st
        fstp    dword ptr [ebx+esi*4+10h]
      }
      *(float *)&v10[4 * _ESI++ + 16] = _ET1;
    }
    while ( _ESI );
    __asm
    {
      ffree   st(3)
      ffree   st(2)
      ffree   st(1)
      ffree   st
    }
    _ECX += 16;
    v10 += 16;
    ++v13;
  }
  while ( v13 );
  return result;
}
// 44E25B: inconsistent fpu stack

//----- (0044E313) --------------------------------------------------------
char *__stdcall sub_44E313(char *a1, char *a2, char *a3)
{
  char *v3; // eax@1
  signed int v6; // edi@4
  float *v8; // ebx@5
  char *result; // eax@8
  char v11; // [sp+0h] [bp-44h]@3
  char *v12; // [sp+40h] [bp-4h]@4

  v3 = a1;
  if ( a1 == a2 || a1 == a3 )
    v3 = &v11;
  v12 = v3;
  _ECX = a2;
  _EDX = a3;
  v6 = -4;
  do
  {
    _ESI = -4;
    v8 = (float *)&v3[4 * v6 + 16];
    __asm
    {
      fld     dword ptr [ecx]
      fld     dword ptr [ecx+4]
      fld     dword ptr [ecx+8]
      fld     dword ptr [ecx+0Ch]
    }
    do
    {
      __asm
      {
        fld     st(3)
        fmul    dword ptr [edx+esi*4+10h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+20h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+30h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+40h]
        fxch    st(3)
        faddp   st(1), st
        fxch    st(2)
        faddp   st(1), st
        faddp   st(1), st
        fstp    dword ptr [ebx]
      }
      *v8 = _ET1;
      v8 += 4;
      ++_ESI;
    }
    while ( _ESI );
    __asm
    {
      ffree   st(3)
      ffree   st(2)
      ffree   st(1)
      ffree   st
    }
    _ECX += 16;
    ++v6;
  }
  while ( v6 );
  result = a1;
  if ( v12 != a1 )
    qmemcpy(a1, v12, 0x40u);
  return result;
}
// 44E346: inconsistent fpu stack

//----- (0044E3A1) --------------------------------------------------------
int __stdcall sub_44E3A1(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = sub_44DF00;
  *(_DWORD *)(a1 + 4) = sub_44DF9E;
  *(_DWORD *)(a1 + 8) = sub_44E088;
  *(_DWORD *)(a1 + 12) = sub_44E230;
  *(_DWORD *)(a1 + 16) = sub_44E313;
  *(_DWORD *)(a1 + 20) = sub_44DF69;
  *(_DWORD *)(a1 + 24) = sub_44E029;
  *(_DWORD *)(a1 + 28) = sub_44E166;
  *(_DWORD *)(a1 + 136) = sub_44E088;
  return result;
}
// 44DF00: using guessed type int __stdcall sub_44DF00(int, int, int);
// 44DF69: using guessed type int __stdcall sub_44DF69(int, int, int);
// 44DF9E: using guessed type int __stdcall sub_44DF9E(int, int, int);
// 44E029: using guessed type int __stdcall sub_44E029(int, int, int);
// 44E088: using guessed type int __stdcall sub_44E088(int, int, int);

//----- (0044E3E6) --------------------------------------------------------
int __usercall sub_44E3E6@<eax>(int result@<eax>, unsigned int a2@<ecx>)
{
  *(float *)result = (double)((unsigned __int16)a2 >> 11) * 0.032258064;
  *(float *)(result + 4) = (double)((a2 >> 5) & 0x3F) * 0.015873017;
  *(float *)(result + 8) = (double)(a2 & 0x1F) * 0.032258064;
  *(float *)(result + 12) = 1.0;
  return result;
}

//----- (0044E432) --------------------------------------------------------
int __fastcall sub_44E432(int a1)
{
  signed int v1; // edx@1
  double v2; // st7@3
  double v3; // st7@5
  double v4; // st6@6
  double v5; // st6@9

  v1 = 16;
  do
  {
    if ( 0.0 == *(float *)(a1 + 12) )
    {
      *(float *)a1 = 0.0;
      *(float *)(a1 + 4) = 0.0;
      v2 = 0.0;
    }
    else
    {
      if ( *(float *)(a1 + 12) >= 1.0 )
        goto LABEL_15;
      v3 = 1.0 / *(float *)(a1 + 12);
      if ( *(float *)a1 >= (double)*(float *)(a1 + 12) )
        v4 = 1.0;
      else
        v4 = v3 * *(float *)a1;
      *(float *)a1 = v4;
      if ( *(float *)(a1 + 4) >= (double)*(float *)(a1 + 12) )
        v5 = 1.0;
      else
        v5 = v3 * *(float *)(a1 + 4);
      *(float *)(a1 + 4) = v5;
      if ( *(float *)(a1 + 8) >= (double)*(float *)(a1 + 12) )
        v2 = 1.0;
      else
        v2 = v3 * *(float *)(a1 + 8);
    }
    *(float *)(a1 + 8) = v2;
LABEL_15:
    a1 += 16;
    --v1;
  }
  while ( v1 );
  return 0;
}

//----- (0044E4B0) --------------------------------------------------------
int __usercall sub_44E4B0@<eax>(int a1@<eax>, float *a2@<ecx>)
{
  signed int v2; // edx@1
  double v3; // st7@2

  v2 = 16;
  do
  {
    v3 = *(float *)(a1 + 12) * *(float *)a1;
    a1 += 16;
    *a2 = v3;
    a2 += 4;
    --v2;
    *(a2 - 3) = *(float *)(a1 - 12) * *(float *)(a1 - 4);
    *(a2 - 2) = *(float *)(a1 - 8) * *(float *)(a1 - 4);
    *(a2 - 1) = *(float *)(a1 - 4);
  }
  while ( v2 );
  return 0;
}

//----- (0044E4E0) --------------------------------------------------------
int __fastcall sub_44E4E0(int a1)
{
  double v1; // st6@2
  double v2; // st6@8
  double v3; // st7@14
  float v4; // ST14_4@19
  signed int v5; // eax@19
  float v6; // ST14_4@19
  signed int v7; // edx@19
  float v8; // ST14_4@19
  float v10; // [sp+0h] [bp-18h]@3
  float v11; // [sp+4h] [bp-14h]@9
  float v12; // [sp+8h] [bp-10h]@15
  int v13; // [sp+14h] [bp-4h]@0

  if ( *(float *)a1 < 0.0 )
  {
    v1 = 0.0;
LABEL_3:
    v10 = v1;
    goto LABEL_7;
  }
  if ( *(float *)a1 > 1.0 )
  {
    v1 = 1.0;
    goto LABEL_3;
  }
  v10 = *(float *)a1;
LABEL_7:
  if ( *(float *)(a1 + 4) < 0.0 )
  {
    v2 = 0.0;
LABEL_9:
    v11 = v2;
    goto LABEL_13;
  }
  if ( *(float *)(a1 + 4) > 1.0 )
  {
    v2 = 1.0;
    goto LABEL_9;
  }
  v11 = *(float *)(a1 + 4);
LABEL_13:
  if ( *(float *)(a1 + 8) >= 0.0 )
  {
    if ( *(float *)(a1 + 8) <= 1.0 )
    {
      v12 = *(float *)(a1 + 8);
      goto LABEL_19;
    }
    v3 = 1.0;
  }
  else
  {
    v3 = 0.0;
  }
  v12 = v3;
LABEL_19:
  dword_537C04 = v13;
  v4 = v10 * 31.0 + 0.5;
  v5 = (signed int)v4;
  v6 = v11 * 63.0 + 0.5;
  v7 = (signed int)v6;
  v8 = v12 * 31.0 + 0.5;
  return (signed int)v8 | 32 * (v7 | (v5 << 6));
}
// 537C04: using guessed type int dword_537C04;

//----- (0044E5E9) --------------------------------------------------------
float *__userpurge sub_44E5E9@<eax>(unsigned int a1@<ebx>, float *a2, float *a3, int a4)
{
  unsigned int v4; // edx@4
  float *v5; // ecx@5
  float *v6; // ecx@11
  double v7; // st7@19
  float *v8; // eax@21
  int v9; // edx@21
  char *v10; // ecx@21
  unsigned int v11; // esi@21
  unsigned int v12; // edx@25
  float *v13; // ecx@26
  double v14; // st7@26
  unsigned int v15; // eax@29
  unsigned int v16; // eax@36
  double v17; // st7@36
  double v18; // st6@36
  float *v19; // eax@36
  float v20; // eax@43
  double v21; // st7@48
  double v22; // st7@53
  float *result; // eax@57
  float v24[6]; // [sp+0h] [bp-58h]@21
  float v25; // [sp+18h] [bp-40h]@24
  float v26; // [sp+1Ch] [bp-3Ch]@24
  unsigned int v27; // [sp+20h] [bp-38h]@18
  float v28; // [sp+24h] [bp-34h]@34
  float v29; // [sp+28h] [bp-30h]@20
  float v30; // [sp+2Ch] [bp-2Ch]@18
  int v31; // [sp+30h] [bp-28h]@18
  unsigned int v32; // [sp+34h] [bp-24h]@18
  _BYTE *v33; // [sp+38h] [bp-20h]@2
  float *v34; // [sp+3Ch] [bp-1Ch]@2
  float v35; // [sp+40h] [bp-18h]@25
  float v36; // [sp+44h] [bp-14h]@25
  float v37; // [sp+48h] [bp-10h]@25
  float v38; // [sp+4Ch] [bp-Ch]@25
  float v39; // [sp+50h] [bp-8h]@4
  float v40; // [sp+54h] [bp-4h]@4

  if ( a1 == 6 )
  {
    v34 = (float *)&unk_4BB248;
    v33 = &unk_4BB230;
  }
  else
  {
    v34 = (float *)&unk_4BB210;
    v33 = &unk_4BB1F0;
  }
  v4 = 0;
  v40 = 1.0;
  v39 = 0.0;
  if ( a1 == 8 )
  {
    do
    {
      v5 = (float *)(a4 + 4 * v4);
      if ( *v5 < (double)v40 )
        v40 = *v5;
      if ( *v5 > (double)v39 )
        v39 = *v5;
      ++v4;
    }
    while ( v4 < 0x10 );
  }
  else
  {
    do
    {
      v6 = (float *)(a4 + 4 * v4);
      if ( *v6 < (double)v40 && *v6 > 0.0 )
        v40 = *v6;
      if ( *v6 > (double)v39 && *v6 < 1.0 )
        v39 = *v6;
      ++v4;
    }
    while ( v4 < 0x10 );
  }
  v27 = a1 - 1;
  v30 = (double)(a1 - 1);
  v32 = 0;
  dword_537C04 = v31;
  do
  {
    v7 = v39 - v40;
    if ( v7 < 0.00390625 )
      break;
    v29 = v30 / v7;
    if ( a1 )
    {
      v8 = v34;
      v9 = v33 - (_BYTE *)v34;
      v10 = (char *)((char *)v24 - (char *)v34);
      v11 = a1;
      do
      {
        *(float *)((char *)v8 + (_DWORD)v10) = v39 * *(float *)((char *)v8 + v9) + v40 * *v8;
        ++v8;
        --v11;
      }
      while ( v11 );
    }
    if ( a1 == 6 )
    {
      v25 = 0.0;
      v26 = 1.0;
    }
    v12 = 0;
    v38 = 0.0;
    v37 = 0.0;
    v36 = 0.0;
    v35 = 0.0;
    do
    {
      v13 = (float *)(a4 + 4 * v12);
      v14 = (*v13 - v40) * v29;
      if ( v14 > 0.0 )
      {
        if ( v14 < v30 )
        {
          v28 = v14 + 0.5;
          v27 = (signed int)v28;
          v15 = (signed int)v28;
        }
        else
        {
          if ( a1 == 6 && (v39 + 1.0) * 0.5 <= *v13 )
            goto LABEL_37;
          v15 = a1 - 1;
        }
      }
      else
      {
        if ( a1 == 6 && v40 * 0.5 >= *v13 )
          goto LABEL_37;
        v15 = 0;
      }
      if ( v15 < a1 )
      {
        v16 = v15;
        v17 = *v13 - v24[v16];
        v38 = v17 * v34[v16] + v38;
        v18 = v34[v16];
        v19 = (float *)&v33[v16 * 4];
        v36 = v18 * v18 + v36;
        v37 = v17 * *v19 + v37;
        v35 = *v19 * *v19 + v35;
      }
LABEL_37:
      ++v12;
    }
    while ( v12 < 0x10 );
    if ( v36 > 0.0 )
      v40 = v40 - v38 / v36;
    if ( v35 > 0.0 )
      v39 = v39 - v37 / v35;
    if ( v40 > (double)v39 )
    {
      v20 = v39;
      v39 = v40;
      v40 = v20;
    }
    if ( v38 * v38 < 0.015625 && v37 * v37 < 0.015625 )
      break;
    ++v32;
  }
  while ( v32 < 8 );
  if ( v40 >= 0.0 )
  {
    if ( v40 <= 1.0 )
      v21 = v40;
    else
      v21 = 1.0;
  }
  else
  {
    v21 = 0.0;
  }
  *a2 = v21;
  if ( v39 >= 0.0 )
  {
    if ( v39 <= 1.0 )
      v22 = v39;
    else
      v22 = 1.0;
  }
  else
  {
    v22 = 0.0;
  }
  result = a3;
  *a3 = v22;
  return result;
}
// 537C04: using guessed type int dword_537C04;
// 44E5E9: using guessed type float var_58[6];

//----- (0044E904) --------------------------------------------------------
int __stdcall sub_44E904(int a1, int a2, int a3, int a4)
{
  double v4; // st7@4
  float *v5; // ecx@4
  signed int v6; // edx@4
  double v7; // st6@18
  double v8; // st5@18
  unsigned __int8 v10; // c0@18
  unsigned __int8 v11; // c2@18
  int result; // eax@19
  float v13; // ecx@19
  float *v14; // eax@20
  double v15; // st5@20
  signed int v16; // ecx@20
  double v17; // st6@20
  double v18; // st5@21
  double v19; // st5@21
  double v20; // st4@21
  char v21; // bl@22
  unsigned int v22; // edx@22
  float *v23; // ecx@23
  float v24; // eax@27
  float v25; // eax@29
  float v26; // ecx@31
  double v27; // st7@32
  float *v28; // eax@34
  int v29; // esi@34
  float *v30; // ecx@34
  int v31; // edx@34
  double v32; // st6@35
  double v33; // st5@35
  double v34; // st6@36
  double v35; // st5@36
  double v36; // st4@36
  double v37; // st4@37
  float *v38; // ecx@37
  signed int v39; // esi@37
  double v40; // st6@38
  int v41; // edx@39
  double v42; // st6@41
  double v43; // st5@41
  int v44; // eax@41
  float *v45; // edx@41
  double v46; // st4@41
  float *v47; // eax@41
  double v48; // st4@41
  double v49; // st3@41
  double v50; // st6@43
  double v51; // st6@45
  float v52; // [sp+0h] [bp-5Ch]@41
  float v53; // [sp+4h] [bp-58h]@34
  float v54[14]; // [sp+8h] [bp-54h]@41
  int v55; // [sp+40h] [bp-1Ch]@40
  float *v56; // [sp+44h] [bp-18h]@4
  float v57; // [sp+48h] [bp-14h]@20
  float v58; // [sp+4Ch] [bp-10h]@20
  float v59; // [sp+50h] [bp-Ch]@20
  _BYTE *v60; // [sp+58h] [bp-4h]@2
  unsigned int v61; // [sp+5Ch] [bp+0h]@32
  int v62; // [sp+60h] [bp+4h]@32
  float *v63; // [sp+64h] [bp+8h]@2
  float v64; // [sp+68h] [bp+Ch]@38
  float v65; // [sp+6Ch] [bp+10h]@18
  float v66; // [sp+70h] [bp+14h]@37
  float v67; // [sp+74h] [bp+18h]@20
  float v68; // [sp+78h] [bp+1Ch]@20
  float v69; // [sp+7Ch] [bp+20h]@20
  float v70; // [sp+84h] [bp+28h]@18
  float v71; // [sp+88h] [bp+2Ch]@18
  float v72; // [sp+8Ch] [bp+30h]@37
  float v73; // [sp+94h] [bp+38h]@22
  float v74; // [sp+98h] [bp+3Ch]@20
  float v75; // [sp+9Ch] [bp+40h]@20
  float v76; // [sp+A0h] [bp+44h]@20
  float v77; // [sp+A4h] [bp+48h]@4
  float v78; // [sp+A8h] [bp+4Ch]@4
  float v79; // [sp+ACh] [bp+50h]@4
  float v80; // [sp+B4h] [bp+58h]@4
  float v81; // [sp+B8h] [bp+5Ch]@4
  float v82; // [sp+BCh] [bp+60h]@4
  int v83; // [sp+C0h] [bp+64h]@4
  float v84; // [sp+D4h] [bp+78h]@37

  if ( a4 == 3 )
  {
    v63 = (float *)&unk_4BB294;
    v60 = &unk_4BB288;
  }
  else
  {
    v63 = (float *)&unk_4BB278;
    v60 = &unk_4BB268;
  }
  v77 = 0.0;
  v4 = 0.0;
  v78 = 0.0;
  v80 = flt_52B8B0;
  v81 = *(&flt_52B8B0 + 1);
  v79 = 0.0;
  v82 = *(&flt_52B8B0 + 2);
  v83 = *((_DWORD *)&flt_52B8B0 + 3);
  v56 = (float *)(a3 + 8);
  v5 = (float *)(a3 + 8);
  v6 = 16;
  do
  {
    if ( *(v5 - 2) < (double)v80 )
      v80 = *(v5 - 2);
    if ( *(v5 - 1) < (double)v81 )
      v81 = *(v5 - 1);
    if ( *v5 < (double)v82 )
      v82 = *v5;
    if ( *(v5 - 2) > (double)v77 )
      v77 = *(v5 - 2);
    if ( v4 < *(v5 - 1) )
      v4 = *(v5 - 1);
    if ( *v5 > (double)v79 )
      v79 = *v5;
    v5 += 4;
    --v6;
  }
  while ( v6 );
  v78 = v4;
  v70 = v77 - v80;
  v71 = v4 - v81;
  v7 = v79 - v82;
  v8 = v7 * v7 + v71 * v71 + v70 * v70;
  v65 = v8;
  if ( v10 | v11 )
  {
    *(float *)a1 = v80;
    *(float *)(a1 + 4) = v81;
    *(float *)(a1 + 8) = v82;
    result = a2;
    v13 = v77;
    *(float *)(a2 + 4) = v4;
    *(float *)a2 = v13;
  }
  else
  {
    v14 = (float *)(a3 + 8);
    v15 = 1.0 / v8;
    v16 = 16;
    v57 = v70 * v15;
    v58 = v71 * v15;
    v59 = v15 * v7;
    v67 = (v77 + v80) * 0.5;
    v68 = (v4 + v81) * 0.5;
    v69 = (v79 + v82) * 0.5;
    v76 = 0.0;
    v75 = 0.0;
    v74 = 0.0;
    v17 = 0.0;
    do
    {
      v70 = (*(v14 - 2) - v67) * v57;
      v71 = (*(v14 - 1) - v68) * v58;
      v18 = *v14;
      v14 += 4;
      --v16;
      v19 = (v18 - v69) * v59;
      v17 = v17 + (v71 + v19 + v70) * (v71 + v19 + v70);
      v74 = (v71 + v70 - v19) * (v71 + v70 - v19) + v74;
      v20 = v70 - v71;
      v75 = (v20 + v19) * (v20 + v19) + v75;
      v76 = (v20 - v19) * (v20 - v19) + v76;
    }
    while ( v16 );
    v73 = v17;
    v21 = 0;
    v22 = 1;
    do
    {
      v23 = &v73 + v22;
      if ( v17 < *v23 )
      {
        v21 = v22;
        v17 = *v23;
      }
      ++v22;
    }
    while ( v22 < 4 );
    if ( v21 & 2 )
    {
      v24 = v81;
      v81 = v4;
      v4 = v24;
      v78 = v24;
    }
    if ( v21 & 1 )
    {
      v25 = v79;
      v79 = v82;
      v82 = v25;
    }
    if ( v65 >= 0.00024414062 )
    {
      v65 = (double)(unsigned int)(a4 - 1);
      v27 = 0.000015258789;
      v61 = 0;
      dword_537C04 = v62;
      do
      {
        if ( a4 )
        {
          v28 = v63;
          v29 = a4;
          v30 = &v53;
          v31 = v60 - (_BYTE *)v63;
          do
          {
            *(v30 - 1) = v77 * *(float *)((char *)v28 + v31) + v80 * *v28;
            *v30 = v78 * *(float *)((char *)v28 + v31) + v81 * *v28;
            v32 = v79 * *(float *)((char *)v28 + v31);
            v33 = v82 * *v28;
            ++v28;
            v30[1] = v32 + v33;
            v30 += 4;
            --v29;
          }
          while ( v29 );
        }
        v34 = v77 - v80;
        v71 = v78 - v81;
        v35 = v79 - v82;
        v36 = v35 * v35 + v71 * v71 + v34 * v34;
        if ( v36 < 0.00024414062 )
          break;
        v37 = v65 / v36;
        v38 = v56;
        v39 = 16;
        v70 = v37 * v34;
        v71 = v71 * v37;
        v72 = v37 * v35;
        v75 = 0.0;
        v74 = 0.0;
        v73 = 0.0;
        v69 = 0.0;
        v68 = 0.0;
        v67 = 0.0;
        v66 = 0.0;
        v84 = 0.0;
        do
        {
          v40 = (*v38 - v82) * v72 + (*(v38 - 1) - v81) * v71 + (*(v38 - 2) - v80) * v70;
          v64 = v40;
          if ( v40 < v65 )
          {
            v64 = v64 + 0.5;
            v55 = (signed int)v64;
            v41 = (signed int)v64;
            v27 = 0.000015258789;
          }
          else
          {
            v41 = a4 - 1;
          }
          v42 = *(&v52 + 4 * v41) - *(v38 - 2);
          v58 = *(&v53 + 4 * v41) - *(v38 - 1);
          v43 = v54[4 * v41] - *v38;
          v44 = v41;
          v45 = &v63[v44];
          v46 = v63[v44];
          v47 = (float *)&v60[v44 * 4];
          v48 = v46 * 0.125;
          v38 += 4;
          --v39;
          v49 = *v47 * 0.125;
          v84 = v48 * *v45 + v84;
          v67 = v48 * v42 + v67;
          v68 = v48 * v58 + v68;
          v69 = v48 * v43 + v69;
          v66 = v49 * *v47 + v66;
          v73 = v49 * v42 + v73;
          v74 = v58 * v49 + v74;
          v75 = v49 * v43 + v75;
        }
        while ( v39 );
        if ( v84 > 0.0 )
        {
          v50 = -1.0 / v84;
          v80 = v67 * v50 + v80;
          v81 = v68 * v50 + v81;
          v82 = v50 * v69 + v82;
        }
        if ( v66 > 0.0 )
        {
          v51 = -1.0 / v66;
          v77 = v73 * v51 + v77;
          v78 = v74 * v51 + v78;
          v79 = v51 * v75 + v79;
        }
        if ( v67 * v67 < v27
          && v68 * v68 < v27
          && v69 * v69 < v27
          && v73 * v73 < v27
          && v74 * v74 < v27
          && v75 * v75 < v27 )
        {
          break;
        }
        ++v61;
      }
      while ( v61 < 8 );
      *(float *)a1 = v80;
      *(float *)(a1 + 4) = v81;
      *(float *)(a1 + 8) = v82;
      result = a2;
      *(float *)a2 = v77;
      *(float *)(a2 + 4) = v78;
    }
    else
    {
      *(float *)a1 = v80;
      *(float *)(a1 + 4) = v81;
      *(float *)(a1 + 8) = v82;
      result = a2;
      v26 = v77;
      *(float *)(a2 + 4) = v4;
      *(float *)a2 = v26;
    }
  }
  *(float *)(result + 8) = v79;
  return result;
}
// 52B8B0: using guessed type float flt_52B8B0;
// 537C04: using guessed type int dword_537C04;
// 44E904: using guessed type float var_BC[14];

//----- (0044EE83) --------------------------------------------------------
int __userpurge sub_44EE83@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // esi@2
  float *v5; // ecx@2
  signed int v6; // edi@2
  char *v7; // esi@10
  char *v8; // edx@10
  char *v9; // edi@10
  float *v10; // eax@10
  unsigned int v11; // ecx@10
  double v12; // st7@12
  double v13; // st7@12
  double v14; // st7@12
  double v15; // st6@12
  double v16; // st5@12
  double v17; // st4@12
  bool v18; // zf@17
  char *v19; // eax@20
  unsigned int v20; // esi@20
  float *v21; // eax@20
  unsigned int v22; // edi@20
  float *v23; // esi@24
  int v24; // esi@26
  double v25; // st7@26
  double v26; // st6@27
  double v27; // st4@27
  double v28; // st5@28
  double v29; // st4@28
  double v30; // st7@29
  double v31; // st6@29
  double v32; // st5@30
  unsigned int v33; // edx@32
  char *v34; // esi@32
  char *v35; // edi@32
  int v36; // ecx@32
  double v37; // st7@36
  signed int v38; // eax@37
  signed int v39; // ebx@41
  int v40; // eax@41
  double v41; // st7@41
  int v42; // ebx@41
  double v43; // st6@41
  float v45; // [sp+0h] [bp-274h]@19
  float v46[3]; // [sp+4h] [bp-270h]@19
  float v47; // [sp+10h] [bp-264h]@10
  float v48; // [sp+14h] [bp-260h]@10
  char v49[248]; // [sp+18h] [bp-25Ch]@32
  float v50; // [sp+110h] [bp-164h]@10
  float v51; // [sp+114h] [bp-160h]@12
  char v52[4]; // [sp+118h] [bp-15Ch]@10
  char v53[4]; // [sp+11Ch] [bp-158h]@10
  char v54[4]; // [sp+120h] [bp-154h]@10
  char v55[20]; // [sp+124h] [bp-150h]@32
  char v56[4]; // [sp+138h] [bp-13Ch]@10
  char v57[4]; // [sp+13Ch] [bp-138h]@10
  char v58[4]; // [sp+140h] [bp-134h]@10
  char v59[4]; // [sp+144h] [bp-130h]@32
  char v60[4]; // [sp+148h] [bp-12Ch]@10
  char v61[4]; // [sp+14Ch] [bp-128h]@10
  char v62[4]; // [sp+150h] [bp-124h]@10
  char v63[4]; // [sp+154h] [bp-120h]@32
  char v64[4]; // [sp+158h] [bp-11Ch]@10
  char v65[4]; // [sp+15Ch] [bp-118h]@10
  char v66[4]; // [sp+160h] [bp-114h]@10
  char v67[172]; // [sp+164h] [bp-110h]@32
  int v68; // [sp+210h] [bp-64h]@12
  float v69; // [sp+214h] [bp-60h]@20
  float v70; // [sp+218h] [bp-5Ch]@20
  float v71; // [sp+21Ch] [bp-58h]@20
  char *v72; // [sp+224h] [bp-50h]@10
  char *v73; // [sp+228h] [bp-4Ch]@10
  char *v74; // [sp+22Ch] [bp-48h]@10
  char *v75; // [sp+230h] [bp-44h]@10
  char *v76; // [sp+234h] [bp-40h]@10
  char *v77; // [sp+238h] [bp-3Ch]@10
  float *v78; // [sp+23Ch] [bp-38h]@10
  char *v79; // [sp+240h] [bp-34h]@10
  char *v80; // [sp+244h] [bp-30h]@10
  float v81; // [sp+248h] [bp-2Ch]@24
  float v82; // [sp+24Ch] [bp-28h]@24
  float v83; // [sp+250h] [bp-24h]@24
  float v84; // [sp+254h] [bp-20h]@24
  float v85; // [sp+258h] [bp-1Ch]@26
  float v86; // [sp+25Ch] [bp-18h]@26
  float v87; // [sp+260h] [bp-14h]@26
  float v88; // [sp+264h] [bp-10h]@26
  float v89; // [sp+268h] [bp-Ch]@27
  float v90; // [sp+26Ch] [bp-8h]@27
  float v91; // [sp+270h] [bp-4h]@27
  float v92; // [sp+274h] [bp+0h]@27
  float v93; // [sp+278h] [bp+4h]@28
  float v94; // [sp+27Ch] [bp+8h]@28
  float v95; // [sp+280h] [bp+Ch]@28
  float v96; // [sp+284h] [bp+10h]@28
  char *v97; // [sp+288h] [bp+14h]@12
  int v98; // [sp+28Ch] [bp+18h]@10
  char *v99; // [sp+290h] [bp+1Ch]@10
  char *v100; // [sp+294h] [bp+20h]@12
  float v101; // [sp+298h] [bp+24h]@20
  float v102; // [sp+29Ch] [bp+28h]@20
  float v103; // [sp+2A0h] [bp+2Ch]@20
  float v104; // [sp+2A4h] [bp+30h]@24
  float v105; // [sp+2A8h] [bp+34h]@20
  float v106; // [sp+2ACh] [bp+38h]@12
  float v107; // [sp+2B0h] [bp+3Ch]@12
  float v108; // [sp+2B8h] [bp+44h]@12
  float *v109; // [sp+2BCh] [bp+48h]@10
  char *v110; // [sp+2C0h] [bp+4Ch]@10
  float v111; // [sp+2C4h] [bp+50h]@12
  float v112; // [sp+2C8h] [bp+54h]@12
  float v113; // [sp+2CCh] [bp+58h]@12
  float v114; // [sp+2D0h] [bp+5Ch]@25
  int v115; // [sp+2D4h] [bp+60h]@8
  float *v116; // [sp+2D8h] [bp+64h]@10
  int v117; // [sp+2DCh] [bp+68h]@12
  signed int v118; // [sp+2E0h] [bp+6Ch]@12
  int v119; // [sp+2F0h] [bp+7Ch]@10
  float v120; // [sp+2F0h] [bp+7Ch]@27
  unsigned int v121; // [sp+2F0h] [bp+7Ch]@32

  v3 = a1;
  if ( a3 )
  {
    v4 = 0;
    v5 = (float *)(a1 + 12);
    v6 = 16;
    do
    {
      if ( *v5 < 0.5 )
        ++v4;
      v5 += 4;
      --v6;
    }
    while ( v6 );
    if ( v4 == 16 )
    {
      *(_WORD *)(a2 + 2) = -1;
      *(_DWORD *)(a2 + 4) = -1;
      *(_WORD *)a2 = 0;
      return 0;
    }
    v115 = 4 - (v4 > 0);
  }
  else
  {
    v115 = 4;
  }
  memset(&v50, 0, 0x100u);
  v99 = &v52[-a1];
  v75 = &v53[-a1];
  v76 = &v54[-a1];
  v98 = (int)&v56[-a1];
  v77 = &v57[-a1];
  v74 = &v58[-a1];
  v110 = &v60[-a1];
  v72 = &v61[-a1];
  v73 = &v62[-a1];
  v109 = (float *)&v64[-a1];
  v79 = &v65[-a1];
  v119 = 0;
  v7 = (char *)&v50 - a1;
  dword_537C04 = (int)v116;
  v8 = (char *)&v48 - a1;
  v80 = &v66[-a1];
  v9 = (char *)&v47 - a1;
  v10 = (float *)(a1 + 8);
  v78 = (float *)((char *)&v50 - v3);
  v11 = 0;
  while ( 1 )
  {
    v111 = *(float *)((char *)&v50 + v11) + *(v10 - 2);
    v112 = *(v10 - 1) + *(float *)((char *)&v51 + v11);
    v113 = *(float *)((char *)v10 + (_DWORD)v7) + *v10;
    *(float *)&v118 = v111 * 31.0 + 0.5;
    v68 = (signed int)*(float *)&v118;
    v118 = (signed int)*(float *)&v118;
    v12 = (double)v118 * 0.032258064;
    v108 = v12;
    *(float *)((char *)&v47 + v11) = v12;
    *(float *)&v118 = v112 * 63.0 + 0.5;
    v97 = (char *)(signed int)*(float *)&v118;
    v118 = (signed int)*(float *)&v118;
    v13 = (double)v118 * 0.015873017;
    *(float *)&v118 = v13;
    *(float *)((char *)&v48 + v11) = v13;
    *(float *)&v117 = v113 * 31.0 + 0.5;
    v100 = (char *)(signed int)*(float *)&v117;
    v117 = (signed int)*(float *)&v117;
    v14 = (double)v117 * 0.032258064;
    v117 = v119 & 3;
    *(float *)((char *)v10 + (_DWORD)v9) = v14;
    *(float *)((char *)v10 + (_DWORD)v8) = 1.0;
    v15 = v111 - v108;
    v16 = v112 - *(float *)&v118;
    v106 = v16;
    v17 = v113 - v14;
    v107 = v17;
    if ( (v119 & 3) != 3 )
    {
      *(float *)&v99[(_DWORD)v10] = v15 * 0.4375 + *(float *)&v99[(_DWORD)v10];
      *(float *)&v75[(_DWORD)v10] = v16 * 0.4375 + *(float *)&v75[(_DWORD)v10];
      *(float *)&v76[(_DWORD)v10] = v17 * 0.4375 + *(float *)&v76[(_DWORD)v10];
    }
    if ( v11 < 0xC0 )
    {
      if ( *(float *)&v117 != 0.0 )
      {
        *(float *)((char *)v10 + v98) = v15 * 0.1875 + *(float *)((char *)v10 + v98);
        *(float *)&v77[(_DWORD)v10] = v16 * 0.1875 + *(float *)&v77[(_DWORD)v10];
        *(float *)&v74[(_DWORD)v10] = v17 * 0.1875 + *(float *)&v74[(_DWORD)v10];
      }
      *(float *)&v110[(_DWORD)v10] = v15 * 0.3125 + *(float *)&v110[(_DWORD)v10];
      *(float *)&v72[(_DWORD)v10] = v16 * 0.3125 + *(float *)&v72[(_DWORD)v10];
      v18 = v117 == 3;
      *(float *)&v73[(_DWORD)v10] = v17 * 0.3125 + *(float *)&v73[(_DWORD)v10];
      if ( !v18 )
      {
        *(float *)((char *)v109 + (_DWORD)v10) = v15 * 0.0625 + *(float *)((char *)v109 + (_DWORD)v10);
        *(float *)&v79[(_DWORD)v10] = v106 * 0.0625 + *(float *)&v79[(_DWORD)v10];
        *(float *)&v80[(_DWORD)v10] = v107 * 0.0625 + *(float *)&v80[(_DWORD)v10];
      }
    }
    ++v119;
    v11 += 16;
    *(float *)((char *)&v45 + v11) = v108 * flt_52B8B0;
    v46[v11 / 4] = *(float *)&v118 * flt_52B8B4;
    *(float *)((char *)v10 + (_DWORD)v9) = v14 * flt_52B8B8;
    v10 += 4;
    if ( v11 >= 0x100 )
      break;
    v7 = (char *)v78;
  }
  sub_44E904((int)&v101, (int)&v111, (int)&v47, v115);
  v69 = v101 * flt_52B8C0;
  v70 = v102 * flt_52B8C4;
  v71 = v103 * flt_52B8C8;
  v105 = v111 * flt_52B8C0;
  v106 = v112 * flt_52B8C4;
  v107 = v113 * flt_52B8C8;
  *(float *)&v19 = COERCE_FLOAT(sub_44E4E0((int)&v69));
  v20 = (unsigned int)v19;
  v110 = v19;
  v21 = (float *)sub_44E4E0((int)&v105);
  v22 = (unsigned int)v21;
  v109 = v21;
  if ( v115 != 4 || (_WORD)v20 != (_WORD)v21 )
  {
    sub_44E3E6((int)&v69, v20);
    sub_44E3E6((int)&v105, v22);
    v101 = v69 * flt_52B8B0;
    v102 = v70 * flt_52B8B4;
    v103 = v71 * flt_52B8B8;
    v111 = v105 * flt_52B8B0;
    v112 = v106 * flt_52B8B4;
    v113 = v107 * flt_52B8B8;
    if ( (v115 == 3) == (unsigned __int16)v22 >= (unsigned __int16)v20 )
    {
      *(_WORD *)a2 = v20;
      *(_WORD *)(a2 + 2) = v22;
      v81 = v101;
      v82 = v102;
      v83 = v103;
      v84 = v104;
      v23 = &v111;
    }
    else
    {
      *(_WORD *)(a2 + 2) = v20;
      *(_WORD *)a2 = v22;
      v81 = v111;
      v82 = v112;
      v83 = v113;
      v84 = v114;
      v23 = &v101;
    }
    v85 = *v23;
    v24 = (int)(v23 + 1);
    v86 = *(float *)v24;
    v24 += 4;
    v87 = *(float *)v24;
    v88 = *(float *)(v24 + 4);
    v25 = v85 - v81;
    if ( v115 == 3 )
    {
      v108 = COERCE_FLOAT(&unk_4BB2B4);
      v89 = 0.5 * v25 + v81;
      v26 = v86 - v82;
      v90 = v26 * 0.5 + v82;
      v27 = v87 - v83;
      v120 = v27;
      v91 = v27 * 0.5 + v83;
      v92 = (v88 - v84) * 0.5 + v84;
    }
    else
    {
      v108 = COERCE_FLOAT(&unk_4BB2A4);
      v89 = 0.33333334 * v25 + v81;
      v26 = v86 - v82;
      v90 = 0.33333334 * v26 + v82;
      v28 = v87 - v83;
      v120 = v28;
      v91 = 0.33333334 * v28 + v83;
      v29 = v88 - v84;
      v92 = 0.33333334 * v29 + v84;
      v93 = v25 * 0.66666669 + v81;
      v94 = v26 * 0.66666669 + v82;
      v95 = v28 * 0.66666669 + v83;
      v96 = v29 * 0.66666669 + v84;
    }
    v111 = v25;
    v30 = v26;
    v31 = v120;
    *(float *)&v118 = (double)(unsigned int)(v115 - 1);
    if ( (_WORD)v110 == (_WORD)v109 )
      v32 = 0.0;
    else
      v32 = *(float *)&v118 / (v31 * v31 + v30 * v30 + v111 * v111);
    v111 = v111 * v32;
    v33 = 0;
    memset(&v50, 0, 0x100u);
    v112 = v32 * v30;
    v113 = v32 * v31;
    dword_537C04 = v117;
    v116 = &v50;
    v109 = (float *)((char *)&v51 - v3);
    v99 = &v55[-v3];
    v100 = &v59[-v3];
    v34 = &v49[-v3];
    v35 = &v63[-v3];
    v121 = 0;
    v36 = v3 + 4;
    v97 = &v67[-v3];
    do
    {
      if ( v115 != 3 || *(float *)(v36 + 8) >= 0.5 )
      {
        v101 = flt_52B8B0 * *(float *)(v36 - 4) + *v116;
        v102 = flt_52B8B4 * *(float *)v36 + *(float *)((char *)v78 + v36);
        v103 = flt_52B8B8 * *(float *)(v36 + 4) + *(float *)((char *)v109 + v36);
        v37 = (v101 - v81) * v111 + (v103 - v83) * v113 + (v102 - v82) * v112;
        if ( v37 > 0.0 )
        {
          if ( v37 < *(float *)&v118 )
          {
            *(float *)&v110 = v37 + 0.5;
            v98 = (signed int)*(float *)&v110;
            v38 = *(_DWORD *)(LODWORD(v108) + 4 * v98);
          }
          else
          {
            v38 = 1;
          }
        }
        else
        {
          v38 = 0;
        }
        v39 = v38;
        v40 = 16 * v38;
        v33 = (v39 << 30) | (v33 >> 2);
        v41 = (v101 - *(float *)((char *)&v81 + v40)) * *(float *)&v34[v36];
        v42 = v121 & 3;
        v43 = (v102 - *(float *)((char *)&v82 + v40)) * *(float *)&v34[v36];
        v106 = v43;
        v107 = (v103 - *(float *)((char *)&v83 + v40)) * *(float *)&v34[v36];
        if ( v42 != 3 )
        {
          *(float *)&v75[v36] = v41 * 0.4375 + *(float *)&v75[v36];
          *(float *)&v76[v36] = 0.4375 * v43 + *(float *)&v76[v36];
          *(float *)&v99[v36] = v107 * 0.4375 + *(float *)&v99[v36];
        }
        if ( v121 < 0xC )
        {
          if ( v121 & 3 )
          {
            *(float *)&v77[v36] = v41 * 0.1875 + *(float *)&v77[v36];
            *(float *)&v74[v36] = 0.1875 * v43 + *(float *)&v74[v36];
            *(float *)&v100[v36] = v107 * 0.1875 + *(float *)&v100[v36];
          }
          *(float *)&v72[v36] = v41 * 0.3125 + *(float *)&v72[v36];
          *(float *)&v73[v36] = v43 * 0.3125 + *(float *)&v73[v36];
          *(float *)&v35[v36] = v107 * 0.3125 + *(float *)&v35[v36];
          if ( v42 != 3 )
          {
            *(float *)&v79[v36] = v41 * 0.0625 + *(float *)&v79[v36];
            *(float *)&v80[v36] = v106 * 0.0625 + *(float *)&v80[v36];
            *(float *)&v97[v36] = v107 * 0.0625 + *(float *)&v97[v36];
          }
        }
      }
      else
      {
        v33 = (v33 >> 2) | 0xC0000000;
      }
      ++v121;
      v116 += 4;
      v36 += 16;
    }
    while ( v121 < 0x10 );
    *(_DWORD *)(a2 + 4) = v33;
  }
  else
  {
    *(_DWORD *)(a2 + 4) = 0;
    *(_WORD *)a2 = v20;
    *(_WORD *)(a2 + 2) = (_WORD)v21;
  }
  return 0;
}
// 52B8B0: using guessed type float flt_52B8B0;
// 52B8B4: using guessed type float flt_52B8B4;
// 52B8B8: using guessed type float flt_52B8B8;
// 52B8C0: using guessed type float flt_52B8C0;
// 52B8C4: using guessed type float flt_52B8C4;
// 52B8C8: using guessed type float flt_52B8C8;
// 537C04: using guessed type int dword_537C04;
// 44EE83: using guessed type char var_1CC[4];
// 44EE83: using guessed type char var_1C8[4];
// 44EE83: using guessed type char var_1C4[4];
// 44EE83: using guessed type char var_1AC[4];
// 44EE83: using guessed type char var_1A8[4];
// 44EE83: using guessed type char var_1A4[4];
// 44EE83: using guessed type char var_19C[4];
// 44EE83: using guessed type char var_198[4];
// 44EE83: using guessed type char var_194[4];
// 44EE83: using guessed type char var_18C[4];
// 44EE83: using guessed type char var_188[4];
// 44EE83: using guessed type char var_184[4];
// 44EE83: using guessed type float var_2E0[3];
// 44EE83: using guessed type char var_1C0[20];
// 44EE83: using guessed type char var_1A0[4];
// 44EE83: using guessed type char var_2CC[248];
// 44EE83: using guessed type char var_190[4];
// 44EE83: using guessed type char var_180[172];

//----- (0044F6AA) --------------------------------------------------------
int __stdcall sub_44F6AA(int a1, int a2)
{
  int v2; // ebx@1
  unsigned __int16 v3; // si@1
  unsigned int v4; // edi@1
  double v5; // st7@3
  double v6; // st5@3
  double v7; // st5@3
  double v8; // st5@3
  unsigned int v9; // ebx@4
  int v10; // eax@4
  signed int v11; // ecx@4
  int v12; // edx@5
  float *v13; // edi@5
  float v15; // [sp+Ch] [bp-58h]@1
  float v16; // [sp+10h] [bp-54h]@2
  float v17; // [sp+14h] [bp-50h]@2
  float v18; // [sp+18h] [bp-4Ch]@2
  float v19; // [sp+1Ch] [bp-48h]@1
  float v20; // [sp+20h] [bp-44h]@2
  float v21; // [sp+24h] [bp-40h]@2
  float v22; // [sp+28h] [bp-3Ch]@2
  float v23; // [sp+2Ch] [bp-38h]@2
  float v24; // [sp+30h] [bp-34h]@2
  float v25; // [sp+34h] [bp-30h]@2
  float v26; // [sp+38h] [bp-2Ch]@2
  float v27; // [sp+3Ch] [bp-28h]@2
  float v28; // [sp+40h] [bp-24h]@2
  float v29; // [sp+44h] [bp-20h]@2
  float v30; // [sp+48h] [bp-1Ch]@2
  float v31; // [sp+4Ch] [bp-18h]@2
  float v32; // [sp+50h] [bp-14h]@2
  float v33; // [sp+54h] [bp-10h]@2
  float v34; // [sp+58h] [bp-Ch]@2
  float v35; // [sp+5Ch] [bp-8h]@3
  float v36; // [sp+60h] [bp-4h]@3
  float v37; // [sp+70h] [bp+Ch]@3

  v2 = a2;
  v3 = *(_WORD *)a2;
  sub_44E3E6((int)&v15, *(_WORD *)a2);
  v4 = *(_WORD *)(a2 + 2);
  sub_44E3E6((int)&v19, v4);
  if ( v3 > (unsigned __int16)v4 )
  {
    v5 = v19 - v15;
    v23 = v5 * 0.33333334 + v15;
    v6 = v20 - v16;
    v37 = v6;
    v24 = v6 * 0.33333334 + v16;
    v7 = v21 - v17;
    v36 = v7;
    v25 = v7 * 0.33333334 + v17;
    v8 = v22 - v18;
    v35 = v8;
    v26 = v8 * 0.33333334 + v18;
    v27 = v5 * 0.66666669 + v15;
    v28 = v37 * 0.66666669 + v16;
    v29 = v36 * 0.66666669 + v17;
    v30 = v35 * 0.66666669 + v18;
  }
  else
  {
    v23 = (v19 - v15) * 0.5 + v15;
    v24 = (v20 - v16) * 0.5 + v16;
    v25 = (v21 - v17) * 0.5 + v17;
    v26 = (v22 - v18) * 0.5 + v18;
    v31 = 0.0;
    v32 = 0.0;
    v33 = 0.0;
    v34 = 0.0;
    v27 = 0.0;
    v28 = 0.0;
    v29 = 0.0;
    v30 = 0.0;
  }
  v9 = *(_DWORD *)(v2 + 4);
  v10 = a1;
  v11 = 16;
  do
  {
    v12 = 16 * (v9 & 3);
    *(float *)v10 = *(float *)((char *)&v15 + v12);
    *(float *)(v10 + 4) = *(float *)((char *)&v15 + v12 + 4);
    *(float *)(v10 + 8) = *(float *)((char *)&v15 + v12 + 8);
    v13 = (float *)(v10 + 12);
    v10 += 16;
    v9 >>= 2;
    --v11;
    *v13 = *(float *)((char *)&v15 + v12 + 12);
  }
  while ( v11 );
  return 0;
}

//----- (0044F7EA) --------------------------------------------------------
int __stdcall sub_44F7EA(int a1, unsigned int *a2)
{
  unsigned int *v2; // esi@1
  int result; // eax@1
  unsigned int v4; // ecx@2
  signed int v5; // edx@2
  float *v6; // eax@2
  unsigned int v7; // esi@4
  signed int v8; // ecx@4
  float *v9; // eax@4
  int v10; // [sp+14h] [bp+Ch]@3
  int v11; // [sp+14h] [bp+Ch]@5

  v2 = a2;
  result = sub_44F6AA(a1, (int)(a2 + 2));
  if ( result >= 0 )
  {
    v4 = *a2;
    v5 = 8;
    v6 = (float *)(a1 + 12);
    do
    {
      v10 = v4 & 0xF;
      v4 >>= 4;
      *v6 = (double)(unsigned int)v10 * 0.06666667;
      v6 += 4;
      --v5;
    }
    while ( v5 );
    v7 = v2[1];
    v8 = 8;
    v9 = (float *)(a1 + 140);
    do
    {
      v11 = v7 & 0xF;
      v7 >>= 4;
      *v9 = (double)(unsigned int)v11 * 0.06666667;
      v9 += 4;
      --v8;
    }
    while ( v8 );
    result = 0;
  }
  return result;
}

//----- (0044F86D) --------------------------------------------------------
int __stdcall sub_44F86D(int a1, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  unsigned __int8 v4; // al@2
  unsigned __int8 v5; // cl@2
  unsigned int v6; // eax@3
  double v7; // st7@4
  double v8; // st6@4
  unsigned int v9; // eax@6
  double v10; // st7@7
  double v11; // st6@7
  unsigned __int16 v12; // cx@9
  signed int v13; // edx@9
  unsigned int v14; // ecx@9
  float *v15; // eax@9
  int v16; // ebx@10
  unsigned __int16 v17; // cx@11
  signed int v18; // edx@11
  unsigned int v19; // ecx@11
  float *v20; // eax@11
  int v21; // esi@12
  float v22; // [sp+8h] [bp-20h]@2
  float v23; // [sp+Ch] [bp-1Ch]@2
  float v24; // [sp+20h] [bp-8h]@8
  float v25; // [sp+24h] [bp-4h]@8
  signed int v26; // [sp+34h] [bp+Ch]@2

  v2 = a2;
  result = sub_44F6AA(a1, a2 + 8);
  if ( result >= 0 )
  {
    v4 = *(_BYTE *)a2;
    v5 = *(_BYTE *)(a2 + 1);
    v26 = *(_BYTE *)(a2 + 1);
    v22 = (double)*(_BYTE *)v2 * 0.0039215689;
    v23 = (double)v26 * 0.0039215689;
    if ( v4 <= v5 )
    {
      v9 = 1;
      do
      {
        v10 = (double)(5 - v9) * v22;
        v11 = (double)v9++ * v23;
        *(&v22 + v9) = (v10 + v11) * 0.2;
      }
      while ( v9 < 5 );
      v24 = 0.0;
      v25 = 1.0;
    }
    else
    {
      v6 = 1;
      do
      {
        v7 = (double)(7 - v6) * v22;
        v8 = (double)v6++ * v23;
        *(&v22 + v6) = (v7 + v8) * 0.14285715;
      }
      while ( v6 < 7 );
    }
    HIBYTE(v12) = *(_BYTE *)(v2 + 4);
    v13 = 8;
    LOBYTE(v12) = *(_BYTE *)(v2 + 3);
    v14 = *(_BYTE *)(v2 + 2) | (v12 << 8);
    v15 = (float *)(a1 + 12);
    do
    {
      v16 = v14 & 7;
      v14 >>= 3;
      *v15 = *(&v22 + v16);
      v15 += 4;
      --v13;
    }
    while ( v13 );
    HIBYTE(v17) = *(_BYTE *)(v2 + 7);
    v18 = 8;
    LOBYTE(v17) = *(_BYTE *)(v2 + 6);
    v19 = *(_BYTE *)(v2 + 5) | (v17 << 8);
    v20 = (float *)(a1 + 140);
    do
    {
      v21 = v19 & 7;
      v19 >>= 3;
      *v20 = *(&v22 + v21);
      v20 += 4;
      --v18;
    }
    while ( v18 );
    result = 0;
  }
  return result;
}

//----- (0044F9A9) --------------------------------------------------------
int __stdcall sub_44F9A9(int a1, int a2)
{
  unsigned int v2; // ebx@1
  char *v3; // ecx@1
  float *v4; // eax@1
  char *v5; // edi@1
  int v6; // edx@2
  double v7; // st7@2
  double v8; // st7@2
  int v9; // esi@2
  double v10; // st7@2
  double v11; // st7@2
  int result; // eax@10
  char v13[4]; // [sp+Ch] [bp-14Ch]@1
  char v14; // [sp+10h] [bp-148h]@1
  float v15; // [sp+10Ch] [bp-4Ch]@1
  char v16[8]; // [sp+110h] [bp-48h]@3
  char v17[4]; // [sp+118h] [bp-40h]@6
  char v18[4]; // [sp+11Ch] [bp-3Ch]@7
  char v19[44]; // [sp+120h] [bp-38h]@8
  float v20; // [sp+14Ch] [bp-Ch]@2
  int v21; // [sp+150h] [bp-8h]@1
  int v22; // [sp+154h] [bp-4h]@1
  float v23; // [sp+164h] [bp+Ch]@2

  memset(&v15, 0, 0x40u);
  v21 = v22 | 0xC00;
  dword_537C04 = v22;
  v2 = 0;
  v3 = &v14;
  v4 = (float *)(a2 + 12);
  v5 = &v13[-a2];
  do
  {
    v6 = 4 * v2;
    v7 = *(&v15 + v2);
    *((float *)v3 - 1) = *(v4 - 3);
    v8 = v7 + *v4;
    *(float *)v3 = *(v4 - 2);
    v9 = *((_DWORD *)v4 - 1);
    v20 = v8;
    *((_DWORD *)v3 + 1) = v9;
    v23 = v8 + 0.5;
    v21 = (signed int)v23;
    v10 = (double)v21;
    *(float *)((char *)v4 + (_DWORD)v5) = v10;
    v11 = v20 - v10;
    if ( (v2 & 3) != 3 )
      *(float *)&v16[v6] = 0.4375 * v11 + *(float *)&v16[v6];
    if ( v2 < 0xC )
    {
      if ( v2 & 3 )
        *(float *)&v17[v6] = 0.1875 * v11 + *(float *)&v17[v6];
      *(float *)&v18[v6] = 0.3125 * v11 + *(float *)&v18[v6];
      if ( (v2 & 3) != 3 )
        *(float *)&v19[v6] = v11 * 0.0625 + *(float *)&v19[v6];
    }
    ++v2;
    v3 += 16;
    v4 += 4;
  }
  while ( v2 < 0x10 );
  result = sub_44EE83((int)v13, a1, 1);
  if ( result >= 0 )
    result = 0;
  return result;
}
// 537C04: using guessed type int dword_537C04;
// 44F9A9: using guessed type char var_14C[4];
// 44F9A9: using guessed type char var_48[8];
// 44F9A9: using guessed type char var_40[4];
// 44F9A9: using guessed type char var_3C[4];
// 44F9A9: using guessed type char var_38[44];

//----- (0044FAC1) --------------------------------------------------------
int __stdcall sub_44FAC1(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ecx@2
  double v4; // st7@2
  int *v5; // edx@2
  int v6; // eax@2
  double v7; // st7@2
  int v8; // edx@2
  double v9; // st7@2
  float v11; // [sp+Ch] [bp-54h]@1
  char v12[8]; // [sp+10h] [bp-50h]@3
  char v13[4]; // [sp+18h] [bp-48h]@6
  char v14[4]; // [sp+1Ch] [bp-44h]@7
  char v15[44]; // [sp+20h] [bp-40h]@8
  int v16; // [sp+4Ch] [bp-14h]@2
  unsigned int v17; // [sp+50h] [bp-10h]@2
  float v18; // [sp+54h] [bp-Ch]@2
  int v19; // [sp+58h] [bp-8h]@1
  float *v20; // [sp+5Ch] [bp-4h]@1
  unsigned int v21; // [sp+68h] [bp+8h]@1

  v2 = a1;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  memset(&v11, 0, 0x40u);
  dword_537C04 = v19;
  v21 = 0;
  v20 = (float *)(a2 + 12);
  do
  {
    v3 = 4 * v21;
    v4 = *(&v11 + v21) + *v20;
    v18 = v4;
    *(float *)&v17 = v4 * 15.0 + 0.5;
    v16 = (signed int)*(float *)&v17;
    v5 = (int *)(v2 + 4 * (v21 >> 3));
    v6 = (v16 << 28) | ((unsigned int)*v5 >> 4);
    v17 = (signed int)*(float *)&v17;
    v7 = (double)v17;
    *v5 = v6;
    v8 = v21 & 3;
    v9 = v18 - v7 * 0.06666667;
    if ( v8 != 3 )
      *(float *)&v12[v3] = 0.4375 * v9 + *(float *)&v12[v3];
    if ( v21 < 0xC )
    {
      if ( v21 & 3 )
        *(float *)&v13[v3] = 0.1875 * v9 + *(float *)&v13[v3];
      *(float *)&v14[v3] = 0.3125 * v9 + *(float *)&v14[v3];
      if ( v8 != 3 )
        *(float *)&v15[v3] = v9 * 0.0625 + *(float *)&v15[v3];
    }
    ++v21;
    v20 += 4;
  }
  while ( v21 < 0x10 );
  return sub_44EE83(a2, v2 + 8, 0);
}
// 537C04: using guessed type int dword_537C04;
// 44FAC1: using guessed type char var_50[8];
// 44FAC1: using guessed type char var_48[4];
// 44FAC1: using guessed type char var_44[4];
// 44FAC1: using guessed type char var_40[44];

//----- (0044FBE7) --------------------------------------------------------
int __stdcall sub_44FBE7(int a1, float *a2)
{
  int v2; // ebx@1
  float *v3; // edx@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  int v6; // ecx@2
  double v7; // st7@2
  double v8; // st7@2
  unsigned __int8 v10; // c0@2
  unsigned __int8 v11; // c2@2
  double v12; // st7@6
  int v13; // edx@6
  int v14; // esi@14
  int result; // eax@14
  unsigned int v16; // ebx@19
  signed int v17; // eax@21
  signed int v18; // ecx@21
  double v19; // st7@21
  double v20; // st6@21
  unsigned int v21; // eax@26
  double v22; // st7@27
  double v23; // st6@27
  unsigned int v24; // eax@29
  double v25; // st7@30
  double v26; // st6@30
  double v27; // st7@33
  unsigned int v28; // eax@35
  int v29; // esi@35
  unsigned int v30; // edx@36
  unsigned int v31; // ebx@36
  int v32; // ecx@38
  double v33; // st7@38
  double v34; // st7@38
  signed int v35; // eax@42
  double v36; // st7@50
  int v37; // edi@50
  signed int v38; // [sp-4h] [bp-44h]@41
  float v39; // [sp+Ch] [bp-34h]@1
  char v40[8]; // [sp+10h] [bp-30h]@7
  char v41[4]; // [sp+18h] [bp-28h]@10
  char v42[4]; // [sp+1Ch] [bp-24h]@11
  char v43[44]; // [sp+20h] [bp-20h]@12
  float v44[8]; // [sp+4Ch] [bp+Ch]@2
  float v45; // [sp+6Ch] [bp+2Ch]@26
  float v46; // [sp+70h] [bp+30h]@26
  float v47; // [sp+84h] [bp+44h]@28
  float v48; // [sp+88h] [bp+48h]@28
  int v49; // [sp+8Ch] [bp+4Ch]@49
  float v50; // [sp+90h] [bp+50h]@32
  float v51; // [sp+94h] [bp+54h]@35
  float *v52; // [sp+98h] [bp+58h]@1
  float *v53; // [sp+9Ch] [bp+5Ch]@1
  float *v54; // [sp+A0h] [bp+60h]@1
  float v55; // [sp+A4h] [bp+64h]@2
  float v56; // [sp+A8h] [bp+68h]@1
  unsigned int v57; // [sp+ACh] [bp+6Ch]@1

  v2 = (int)a2;
  v3 = a2 + 3;
  a2 = *((float **)a2 + 3);
  v54 = a2;
  v52 = v3;
  memset(&v39, 0, 0x40u);
  v57 = LODWORD(v56) | 0xC00;
  v4 = LODWORD(v56);
  dword_537C04 = LODWORD(v56);
  v5 = 0;
  v53 = v3;
  do
  {
    v6 = 4 * v5;
    v7 = *(&v39 + v5) + *v53;
    v56 = v7;
    *(float *)&v57 = v7 * 255.0 + 0.5;
    LODWORD(v55) = (signed int)*(float *)&v57;
    v57 = (signed int)*(float *)&v57;
    v8 = (double)(signed int)v57 * 0.0039215689;
    v44[v5] = v8;
    if ( v10 | v11 )
    {
      *(float *)&a2 = v8;
    }
    else if ( v8 > *(float *)&v54 )
    {
      *(float *)&v54 = v8;
    }
    v12 = v56 - v8;
    v13 = v5 & 3;
    if ( v13 != 3 )
      *(float *)&v40[v6] = 0.4375 * v12 + *(float *)&v40[v6];
    if ( v5 < 0xC )
    {
      if ( v5 & 3 )
        *(float *)&v41[v6] = 0.1875 * v12 + *(float *)&v41[v6];
      *(float *)&v42[v6] = 0.3125 * v12 + *(float *)&v42[v6];
      if ( v13 != 3 )
        *(float *)&v43[v6] = v12 * 0.0625 + *(float *)&v43[v6];
    }
    v53 += 4;
    ++v5;
  }
  while ( v5 < 0x10 );
  v57 = v4;
  v14 = a1;
  result = sub_44EE83(v2, a1 + 8, 0);
  if ( result < 0 )
    return result;
  if ( 1.0 == *(float *)&a2 )
  {
    *(_BYTE *)v14 = -1;
    *(_BYTE *)(v14 + 1) = -1;
LABEL_24:
    *(_DWORD *)(v14 + 2) = 0;
    *(_WORD *)(v14 + 6) = 0;
    return 0;
  }
  if ( 0.0 == *(float *)&a2 || 1.0 == *(float *)&v54 )
  {
    a2 = (float *)6;
    v16 = 6;
  }
  else
  {
    v16 = 8;
    a2 = (float *)8;
  }
  sub_44E5E9(v16, &v55, (float *)&a1, (int)v44);
  dword_537C04 = LODWORD(v56);
  *(float *)&v57 = v55 * 255.0 + 0.5;
  LODWORD(v55) = (signed int)*(float *)&v57;
  v17 = (signed int)*(float *)&v57;
  *(float *)&a1 = *(float *)&a1 * 255.0 + 0.5;
  v57 = (signed int)*(float *)&a1;
  v18 = (signed int)*(float *)&a1;
  v19 = (double)(unsigned __int8)v17 * 0.0039215689;
  v20 = (double)(unsigned __int8)v18 * 0.0039215689;
  *(float *)&a1 = v20;
  if ( v16 == 8 )
  {
    if ( (_BYTE)v17 == (_BYTE)v18 )
    {
      *(_BYTE *)v14 = v17;
      *(_BYTE *)(v14 + 1) = v18;
      goto LABEL_24;
    }
    goto LABEL_29;
  }
  if ( v16 != 6 )
  {
LABEL_29:
    *(_BYTE *)(v14 + 1) = v17;
    v45 = v20;
    v46 = v19;
    *(_BYTE *)v14 = v18;
    v24 = 1;
    do
    {
      v25 = (double)(7 - v24) * v45;
      a1 = v24;
      v26 = (double)v24++ * v46;
      *(&v45 + v24) = (v25 + v26) * 0.14285715;
    }
    while ( v24 < 7 );
    v55 = COERCE_FLOAT(&unk_4BB2D4);
    goto LABEL_32;
  }
  *(_BYTE *)v14 = v17;
  v45 = v19;
  v46 = *(float *)&a1;
  *(_BYTE *)(v14 + 1) = v18;
  v21 = 1;
  do
  {
    v22 = (double)(5 - v21) * v45;
    a1 = v21;
    v23 = (double)v21++ * v46;
    *(&v45 + v21) = (v22 + v23) * 0.2;
  }
  while ( v21 < 5 );
  v55 = COERCE_FLOAT(&unk_4BB2F4);
  v47 = 0.0;
  v48 = 1.0;
LABEL_32:
  a1 = v16 - 1;
  v50 = (double)(v16 - 1);
  if ( v45 == v46 )
    v27 = 0.0;
  else
    v27 = v50 / (v46 - v45);
  v51 = v27;
  memset(&v39, 0, 0x40u);
  a1 = LODWORD(v56) | 0xC00;
  dword_537C04 = LODWORD(v56);
  v28 = 0;
  v29 = v14 + 3;
  v53 = v52;
  do
  {
    v30 = 0;
    *(float *)&a1 = 0.0;
    v57 = v28 + 8;
    v31 = v28;
    if ( v28 >= v28 + 8 )
      goto LABEL_59;
    v54 = v53;
    do
    {
      v32 = 4 * v31;
      v33 = *(&v39 + v31) + *v54;
      *(float *)&a1 = v33;
      v34 = (v33 - v45) * v51;
      if ( v34 <= 0.0 )
      {
        if ( a2 != (float *)6 || v45 * 0.5 < *(float *)&a1 )
        {
          v35 = 0;
          goto LABEL_50;
        }
        v38 = 6;
        goto LABEL_47;
      }
      if ( v34 < v50 )
      {
        *(float *)&v52 = v34 + 0.5;
        v49 = (signed int)*(float *)&v52;
        v35 = *(_DWORD *)(LODWORD(v55) + 4 * v49);
      }
      else
      {
        if ( a2 == (float *)6 && (v46 + 1.0) * 0.5 <= *(float *)&a1 )
        {
          v38 = 7;
LABEL_47:
          v35 = v38;
          goto LABEL_50;
        }
        v35 = 1;
      }
LABEL_50:
      v36 = *(float *)&a1 - *(&v45 + v35);
      v30 = (v35 << 21) | (v30 >> 3);
      v37 = v31 & 3;
      if ( v37 != 3 )
        *(float *)&v40[v32] = 0.4375 * v36 + *(float *)&v40[v32];
      if ( v31 < 0xC )
      {
        if ( v31 & 3 )
          *(float *)&v41[v32] = 0.1875 * v36 + *(float *)&v41[v32];
        *(float *)&v42[v32] = 0.3125 * v36 + *(float *)&v42[v32];
        if ( v37 != 3 )
          *(float *)&v43[v32] = v36 * 0.0625 + *(float *)&v43[v32];
      }
      v54 += 4;
      ++v31;
    }
    while ( v31 < v57 );
    a1 = v30;
LABEL_59:
    v53 += 32;
    *(_BYTE *)(v29 + 1) = BYTE2(a1);
    v28 = v57;
    *(_BYTE *)(v29 - 1) = v30;
    *(_BYTE *)v29 = BYTE1(v30);
    v29 += 3;
  }
  while ( v28 < 0x10 );
  *(float *)&a2 = v56;
  return 0;
}
// 537C04: using guessed type int dword_537C04;
// 44FBE7: using guessed type float var_64[8];
// 44FBE7: using guessed type char var_A0[8];
// 44FBE7: using guessed type char var_98[4];
// 44FBE7: using guessed type char var_94[4];
// 44FBE7: using guessed type char var_90[44];

//----- (00450070) --------------------------------------------------------
int __stdcall sub_450070(int a1, unsigned int *a2)
{
  int result; // eax@1

  result = sub_44F7EA(a1, a2);
  if ( result >= 0 )
  {
    result = sub_44E432(a1);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (004500B6) --------------------------------------------------------
int __stdcall sub_4500B6(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+0h] [bp-100h]@1

  result = sub_44E4B0(a2, (float *)&v3);
  if ( result >= 0 )
  {
    result = sub_44FAC1(a1, (int)&v3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (004500EA) --------------------------------------------------------
int __stdcall sub_4500EA(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+0h] [bp-100h]@1

  result = sub_44E4B0(a2, (float *)&v3);
  if ( result >= 0 )
  {
    result = sub_44FBE7(a1, (float *)&v3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (0045011E) --------------------------------------------------------
char *__stdcall sub_45011E(int a1, int a2, int a3, int a4, int a5, int a6, char *a7, _DWORD *a8, char *a9, int a10, float *a11, int a12)
{
  int v12; // eax@1
  int v13; // ebx@1
  char *result; // eax@3
  float *v15; // esi@6
  unsigned int v16; // eax@7
  unsigned int v17; // edi@7
  _DWORD *v18; // eax@10
  int v19; // edi@10
  int v20; // edi@10
  int v21; // edi@11
  int v22; // edi@11
  unsigned int v23; // ecx@15
  float *v24; // esi@17
  unsigned int v25; // eax@18
  unsigned int v26; // edi@18
  float *v27; // edi@19
  float *v28; // edx@25
  int v29; // edi@26
  char *v30; // eax@29
  float *v31; // edx@29
  int v32; // edi@30
  float v33; // [sp+Ch] [bp-340h]@6
  float v34; // [sp+10h] [bp-33Ch]@6
  float v35; // [sp+14h] [bp-338h]@6
  unsigned int v36; // [sp+318h] [bp-34h]@15
  unsigned int v37; // [sp+31Ch] [bp-30h]@19
  int v38; // [sp+320h] [bp-2Ch]@15
  float v39; // [sp+324h] [bp-28h]@7
  float v40; // [sp+328h] [bp-24h]@7
  float v41; // [sp+32Ch] [bp-20h]@7
  float v42; // [sp+330h] [bp-1Ch]@7
  float v43; // [sp+334h] [bp-18h]@7
  float v44; // [sp+338h] [bp-14h]@7
  float v45; // [sp+33Ch] [bp-10h]@6
  float v46; // [sp+340h] [bp-Ch]@6
  float v47; // [sp+344h] [bp-8h]@6
  char *v48; // [sp+348h] [bp-4h]@1
  unsigned int v49; // [sp+364h] [bp+18h]@18
  char *v50; // [sp+364h] [bp+18h]@25
  char *v51; // [sp+364h] [bp+18h]@29
  unsigned int v52; // [sp+368h] [bp+1Ch]@1
  int v53; // [sp+374h] [bp+28h]@5
  char *v54; // [sp+378h] [bp+2Ch]@1
  float v55; // [sp+37Ch] [bp+30h]@7
  float v56; // [sp+37Ch] [bp+30h]@18

  v12 = a10;
  v48 = (char *)(a10 + a3);
  v13 = a6;
  v54 = (char *)(a10 + a4);
  v52 = a6 - v12;
  if ( !a2 )
    a2 = a1;
  result = a9;
  if ( a9 == (char *)1 )
  {
    result = (char *)a5;
    if ( a5 )
    {
      v53 = a5;
      do
      {
        v15 = a11;
        v45 = 0.0;
        v46 = 0.0;
        v47 = 0.0;
        v33 = 0.0;
        v34 = 0.0;
        v35 = 0.0;
        if ( *a11 >= 0.0 )
        {
          do
          {
            v16 = (unsigned int)(signed __int64)*v15 >> 1;
            v17 = v16 << 6;
            v55 = *v15 - (double)(2 * v16);
            sub_44510E(&v39, a3, (v16 << 6) + a1);
            sub_445138(&v42, *(_DWORD *)a7, a2 + v17);
            ++v15;
            v39 = v39 * v55;
            v40 = v40 * v55;
            v41 = v41 * v55;
            v42 = v42 * v55;
            v43 = v43 * v55;
            v44 = v44 * v55;
            v45 = v39 + v45;
            v46 = v40 + v46;
            v47 = v41 + v47;
            v33 = v42 + v33;
            v34 = v43 + v34;
            v35 = v44 + v35;
          }
          while ( *v15 >= 0.0 );
          a11 = v15;
        }
        if ( a12 )
        {
          qmemcpy(v54, v48, v52);
          v18 = a8;
          *(float *)a4 = v45;
          v19 = a4 + 4;
          *(float *)v19 = v46;
          *(float *)(v19 + 4) = v47;
          v20 = *a8;
          *(float *)v20 = v33;
          v20 += 4;
          *(float *)v20 = v34;
          *(float *)(v20 + 4) = v35;
        }
        else
        {
          *(float *)a4 = v45;
          v21 = a4 + 4;
          *(float *)v21 = v46;
          *(float *)(v21 + 4) = v47;
          v22 = *a8;
          *(float *)v22 = v33;
          v22 += 4;
          *(float *)v22 = v34;
          *(float *)(v22 + 4) = v35;
          qmemcpy(v54, v48, v52);
          v18 = a8;
        }
        *v18 += v13;
        result = a7;
        v54 += v13;
        v48 += v13;
        a4 += v13;
        a3 += v13;
        *(_DWORD *)result += v13;
        ++a11;
        --v53;
      }
      while ( v53 );
    }
  }
  else if ( a5 )
  {
    v23 = 12 * (_DWORD)a9;
    v36 = 12 * (_DWORD)a9;
    v38 = a5;
    while ( 1 )
    {
      v24 = a11;
      v45 = 0.0;
      v46 = 0.0;
      memset(&v33, 0, v23);
      v47 = 0.0;
      if ( *a11 >= 0.0 )
      {
        do
        {
          v25 = (unsigned int)(signed __int64)*v24 >> 1;
          v26 = v25 << 6;
          v56 = *v24 - (double)(2 * v25);
          sub_44510E(&v42, a3, (v25 << 6) + a1);
          v49 = 0;
          v42 = v42 * v56;
          v43 = v43 * v56;
          v44 = v44 * v56;
          v45 = v42 + v45;
          v46 = v43 + v46;
          v47 = v44 + v47;
          if ( a9 )
          {
            v37 = a2 + v26;
            v27 = &v35;
            do
            {
              sub_445138(&v39, *(_DWORD *)&a7[4 * v49++], v37);
              v39 = v39 * v56;
              v40 = v40 * v56;
              v41 = v41 * v56;
              *(v27 - 2) = v39 + *(v27 - 2);
              *(v27 - 1) = v40 + *(v27 - 1);
              *v27 = v41 + *v27;
              v27 += 3;
            }
            while ( v49 < (unsigned int)a9 );
          }
          ++v24;
        }
        while ( *v24 >= 0.0 );
        a11 = v24;
      }
      if ( a12 )
      {
        result = (char *)v52;
        qmemcpy(v54, v48, v52);
        *(float *)a4 = v45;
        *(float *)(a4 + 4) = v46;
        *(float *)(a4 + 8) = v47;
        if ( a9 )
        {
          result = (char *)a8;
          v28 = &v33;
          v50 = a9;
          do
          {
            v29 = *(_DWORD *)result;
            *(float *)v29 = *v28;
            v29 += 4;
            *(float *)v29 = v28[1];
            *(float *)(v29 + 4) = v28[2];
            *(_DWORD *)result += v13;
            *(_DWORD *)&result[a7 - (char *)a8] += v13;
            v28 += 3;
            result += 4;
            --v50;
          }
          while ( v50 );
        }
      }
      else
      {
        *(float *)a4 = v45;
        *(float *)(a4 + 4) = v46;
        *(float *)(a4 + 8) = v47;
        if ( a9 )
        {
          v30 = (char *)a8;
          v31 = &v33;
          v51 = a9;
          do
          {
            v32 = *(_DWORD *)v30;
            *(float *)v32 = *v31;
            v32 += 4;
            *(float *)v32 = v31[1];
            *(float *)(v32 + 4) = v31[2];
            *(_DWORD *)v30 += v13;
            *(_DWORD *)&v30[a7 - (char *)a8] += v13;
            v31 += 3;
            v30 += 4;
            --v51;
          }
          while ( v51 );
        }
        result = (char *)v52;
        qmemcpy(v54, v48, v52);
      }
      v54 += v13;
      v48 += v13;
      a4 += v13;
      a3 += v13;
      ++a11;
      if ( !--v38 )
        break;
      v23 = v36;
    }
  }
  return result;
}
// 44510E: using guessed type int __stdcall sub_44510E(_DWORD, _DWORD, _DWORD);
// 445138: using guessed type int __stdcall sub_445138(_DWORD, _DWORD, _DWORD);

//----- (00450528) --------------------------------------------------------
int __stdcall sub_450528(int a1, int a2, int a3, float a4, int a5)
{
  int result; // eax@1
  int v6; // edi@1
  double v7; // st7@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  double v12; // st6@1

  result = a5;
  *(_DWORD *)a5 = *(_DWORD *)a1;
  v6 = a5 + 4;
  *(_DWORD *)v6 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(v6 + 4) = *(_DWORD *)(a1 + 8);
  *(float *)result = *(float *)result - *(float *)a2;
  *(float *)(result + 4) = *(float *)(result + 4) - *(float *)(a2 + 4);
  v7 = *(float *)(a5 + 8) - *(float *)(a2 + 8);
  *(float *)(a5 + 8) = v7;
  v8 = v7 * *(float *)(a3 + 8) + *(float *)a3 * *(float *)result + *(float *)(result + 4) * *(float *)(a3 + 4);
  v9 = v8 * *(float *)a3;
  v10 = v8 * *(float *)(a3 + 4);
  *(float *)(a5 + 8) = v7 - v8 * *(float *)(a3 + 8);
  v11 = (*(float *)a5 - v9) * a4;
  *(float *)a5 = v11;
  v12 = (*(float *)(a5 + 4) - v10) * a4;
  *(float *)(a5 + 4) = v12;
  *(float *)(result + 8) = a4 * *(float *)(result + 8);
  *(float *)a5 = v11 + *(float *)a2;
  *(float *)(a5 + 4) = v12 + *(float *)(a2 + 4);
  *(float *)(a5 + 8) = *(float *)(a2 + 8) + *(float *)(a5 + 8);
  return result;
}

//----- (004505C5) --------------------------------------------------------
int __stdcall sub_4505C5(int a1, int a2, unsigned int a3, float *a4, int a5, int a6, int a7, unsigned int a8)
{
  int v8; // ebx@1
  int result; // eax@1
  int v10; // eax@2
  double v11; // st6@2
  unsigned int v12; // edx@2
  double v13; // st5@2
  float *v14; // eax@2
  double v15; // st4@2
  double v16; // st3@2
  double v17; // st2@2
  double v18; // st1@2
  float *v19; // ecx@3
  double v20; // st0@3
  unsigned int v21; // edx@4
  float *v22; // eax@5
  int v23; // edx@5
  float *v24; // edi@8
  float v25; // [sp+14h] [bp-170h]@4
  float v26; // [sp+18h] [bp-16Ch]@4
  float v27; // [sp+1Ch] [bp-168h]@4
  float v28; // [sp+124h] [bp-60h]@2
  float v29; // [sp+128h] [bp-5Ch]@2
  float v30; // [sp+12Ch] [bp-58h]@2
  float v31; // [sp+130h] [bp-54h]@2
  float v32; // [sp+134h] [bp-50h]@2
  float v33; // [sp+138h] [bp-4Ch]@2
  float v34; // [sp+13Ch] [bp-48h]@2
  float v35; // [sp+140h] [bp-44h]@2
  float v36; // [sp+144h] [bp-40h]@2
  float v37; // [sp+148h] [bp-3Ch]@2
  float v38; // [sp+14Ch] [bp-38h]@1
  float v39; // [sp+150h] [bp-34h]@1
  float v40; // [sp+160h] [bp-24h]@1
  int v41; // [sp+164h] [bp-20h]@1
  float v42; // [sp+168h] [bp-1Ch]@1
  float v43; // [sp+16Ch] [bp-18h]@1
  int v44; // [sp+170h] [bp-14h]@1
  float v45; // [sp+174h] [bp-10h]@1
  float v46; // [sp+178h] [bp-Ch]@1
  int v47; // [sp+17Ch] [bp-8h]@1
  float v48; // [sp+180h] [bp-4h]@1
  float v49; // [sp+184h] [bp+0h]@1
  int v50; // [sp+188h] [bp+4h]@1
  float v51; // [sp+18Ch] [bp+8h]@1
  float v52; // [sp+190h] [bp+Ch]@1
  float v53; // [sp+194h] [bp+10h]@1
  float v54; // [sp+198h] [bp+14h]@1
  float v55; // [sp+19Ch] [bp+18h]@1
  int v56; // [sp+1A0h] [bp+1Ch]@1
  float v57; // [sp+1A4h] [bp+20h]@1
  float v58; // [sp+1A8h] [bp+24h]@1
  int v59; // [sp+1ACh] [bp+28h]@1
  float v60; // [sp+1B0h] [bp+2Ch]@1
  float v61; // [sp+1B4h] [bp+30h]@1
  int v62; // [sp+1B8h] [bp+34h]@1
  float v63; // [sp+1BCh] [bp+38h]@1
  float v64; // [sp+1C0h] [bp+3Ch]@1
  int v65; // [sp+1C4h] [bp+40h]@1
  float v66; // [sp+1C8h] [bp+44h]@1
  float v67; // [sp+1CCh] [bp+48h]@1
  int v68; // [sp+1D0h] [bp+4Ch]@1
  float v69; // [sp+1D4h] [bp+50h]@1
  float v70; // [sp+1D8h] [bp+54h]@1
  unsigned int v71; // [sp+1E4h] [bp+60h]@1
  float v72; // [sp+1F8h] [bp+74h]@2

  v8 = a6;
  v41 = *(int *)a5;
  v42 = *(float *)(a5 + 4);
  v43 = *(float *)(a5 + 8);
  v59 = *(int *)a6;
  v60 = *(float *)(a6 + 4);
  v61 = *(float *)(a6 + 8);
  v68 = *(int *)a7;
  v69 = *(float *)(a7 + 4);
  v70 = *(float *)(a7 + 8);
  sub_450528((int)&v59, (int)&v41, a1, 0.33333334, (int)&v44);
  sub_450528((int)&v68, (int)&v41, a1, 0.33333334, (int)&v47);
  sub_450528((int)&v41, (int)&v59, a1 + 12, 0.33333334, (int)&v50);
  sub_450528((int)&v41, (int)&v68, a1 + 24, 0.33333334, (int)&v56);
  sub_450528((int)&v68, (int)&v59, a1 + 12, 0.33333334, (int)&v62);
  sub_450528((int)&v59, (int)&v68, a1 + 24, 0.33333334, (int)&v65);
  v55 = v49 + v46;
  v53 = *(float *)&v50 + *(float *)&v44 + *(float *)&v47;
  v53 = *(float *)&v56 + v53;
  v54 = v57 + v51 + v48 + v45;
  v54 = v63 + v54;
  v55 = v64 + v58 + v52 + v55;
  v53 = *(float *)&v65 + *(float *)&v62 + v53;
  v54 = v66 + v54;
  v53 = v53 * 0.25;
  v54 = v54 * 0.25;
  v40 = v61 + v43;
  v38 = *(float *)&v68 + *(float *)&v59 + *(float *)&v41;
  v39 = v69 + v60 + v42;
  result = 0;
  v71 = 0;
  v40 = (v70 + v40) * 0.166666;
  v53 = v53 - v38 * 0.166666;
  v54 = v54 - v39 * 0.166666;
  v55 = (v67 + v55) * 0.25 - v40;
  if ( a3 )
  {
    do
    {
      v10 = 8 * result;
      v11 = *(float *)(v10 + a2);
      v12 = 0;
      v13 = *(float *)(v10 + a2 + 4);
      v14 = &v42;
      v15 = 1.0 - v11 - v13;
      v28 = v13 * v13 * v13;
      v72 = v15 * v13;
      v29 = v15 * v13 * v13 * 3.0;
      v30 = v13 * v13 * v11 * 3.0;
      v31 = v15 * v15 * v13 * 3.0;
      v32 = v72 * v11 * 6.0;
      v33 = v13 * v11 * v11 * 3.0;
      v34 = v15 * v15 * v15;
      v35 = v15 * v15 * v11 * 3.0;
      v36 = v15 * v11 * v11 * 3.0;
      v37 = v11 * v11 * v11;
      v16 = 0.0;
      v17 = 0.0;
      v18 = 0.0;
      do
      {
        v19 = &v28 + v12++;
        v16 = v16 + *(v14 - 1) * *v19;
        v20 = *v19 * *v14;
        v14 += 3;
        v17 = v17 + v20;
        v18 = v18 + *(v14 - 2) * *v19;
      }
      while ( v12 < 0xA );
      v21 = a8;
      v27 = v18;
      v26 = v17;
      v25 = v16;
      if ( a8 > 3 )
      {
        v22 = (float *)(v8 + 12);
        v23 = a8 - 3;
        do
        {
          *(float *)((char *)&v25 + (_DWORD)v22 - v8) = v11 * *(float *)((char *)v22 + a7 - v8)
                                                      + v13 * *(float *)((char *)v22 + a5 - v8)
                                                      + v15 * *v22;
          ++v22;
          --v23;
        }
        while ( v23 );
        v21 = a8;
      }
      v24 = a4;
      a4 += v21;
      qmemcpy(v24, &v25, 4 * v21);
      result = v71++ + 1;
    }
    while ( v71 < a3 );
  }
  return result;
}

//----- (00450900) --------------------------------------------------------
signed int __fastcall sub_450900(int a1, int a2)
{
  int v2; // ecx@7
  signed int result; // eax@8
  int v4; // edx@13

  if ( *(_DWORD *)(a2 + 76)
    || *(_DWORD *)(a2 + 304)
    || *(_DWORD *)(a2 + 40) != 3
    || *(_DWORD *)(a2 + 36) != 3
    || *(_DWORD *)(a2 + 44) != 2
    || *(_DWORD *)(a2 + 120) != 3
    || (v2 = *(_DWORD *)(a2 + 220), *(_DWORD *)(v2 + 8) != 2)
    || (result = 1, *(_DWORD *)(v2 + 92) != 1)
    || *(_DWORD *)(v2 + 176) != 1
    || *(_DWORD *)(v2 + 12) > 2
    || *(_DWORD *)(v2 + 96) != 1
    || *(_DWORD *)(v2 + 180) != 1
    || (v4 = *(_DWORD *)(a2 + 320), *(_DWORD *)(v2 + 36) != v4)
    || *(_DWORD *)(v2 + 120) != v4
    || *(_DWORD *)(v2 + 204) != v4 )
  {
    result = 0;
  }
  return result;
}

//----- (00450980) --------------------------------------------------------
signed int __stdcall sub_450980(int a1)
{
  int v1; // esi@1
  int v2; // ecx@1
  int v3; // eax@2
  int v4; // eax@3
  unsigned int v5; // ecx@3
  int v6; // eax@4
  int v7; // ST08_4@4
  int v8; // eax@4
  int v9; // eax@6
  int v10; // ST08_4@6
  int v11; // eax@8
  int v12; // ST08_4@8
  int v13; // ecx@10
  signed int v14; // edi@11
  signed int i; // eax@12
  int v16; // ebx@17
  int v17; // edi@18
  int v18; // eax@19
  int v19; // edx@19
  signed int v20; // eax@25
  signed int result; // eax@27
  int v22; // [sp+Ch] [bp+4h]@11

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != 202 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  v4 = *(_DWORD *)(a1 + 48);
  v5 = *(_DWORD *)(a1 + 52);
  if ( 8 * v4 > v5 )
  {
    if ( 4 * v4 > v5 )
    {
      if ( 2 * v4 > v5 )
      {
        v8 = *(_DWORD *)(a1 + 32);
        *(_DWORD *)(a1 + 112) = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 320) = 8;
      }
      else
      {
        v11 = sub_452700(*(_DWORD *)(a1 + 28), 2);
        v12 = *(_DWORD *)(a1 + 32);
        *(_DWORD *)(a1 + 112) = v11;
        v8 = sub_452700(v12, 2);
        *(_DWORD *)(a1 + 320) = 4;
      }
    }
    else
    {
      v9 = sub_452700(*(_DWORD *)(a1 + 28), 4);
      v10 = *(_DWORD *)(a1 + 32);
      *(_DWORD *)(a1 + 112) = v9;
      v8 = sub_452700(v10, 4);
      *(_DWORD *)(a1 + 320) = 2;
    }
  }
  else
  {
    v6 = sub_452700(*(_DWORD *)(a1 + 28), 8);
    v7 = *(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 112) = v6;
    v8 = sub_452700(v7, 8);
    *(_DWORD *)(a1 + 320) = 1;
  }
  v13 = *(_DWORD *)(a1 + 220);
  *(_DWORD *)(a1 + 116) = v8;
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v14 = *(_DWORD *)(a1 + 320);
    v13 += 12;
    v22 = *(_DWORD *)(a1 + 36);
    do
    {
      for ( i = v14; i < 8; i *= 2 )
      {
        if ( 2 * i * *(_DWORD *)(v13 - 4) > v14 * *(_DWORD *)(v1 + 312) )
          break;
        if ( 2 * i * *(_DWORD *)v13 > v14 * *(_DWORD *)(v1 + 316) )
          break;
      }
      *(_DWORD *)(v13 + 24) = i;
      v13 += 84;
      --v22;
    }
    while ( v22 );
  }
  v16 = 0;
  if ( *(_DWORD *)(v1 + 36) > 0 )
  {
    v17 = *(_DWORD *)(v1 + 220) + 36;
    do
    {
      v18 = sub_452700(*(_DWORD *)(v1 + 28) * *(_DWORD *)v17 * *(_DWORD *)(v17 - 28), 8 * *(_DWORD *)(v1 + 312));
      v19 = *(_DWORD *)(v1 + 316);
      *(_DWORD *)(v17 + 4) = v18;
      *(_DWORD *)(v17 + 8) = sub_452700(*(_DWORD *)v17 * *(_DWORD *)(v1 + 32) * *(_DWORD *)(v17 - 24), 8 * v19);
      ++v16;
      v17 += 84;
    }
    while ( v16 < *(_DWORD *)(v1 + 36) );
  }
  switch ( *(_DWORD *)(v1 + 44) )
  {
    case 1:
      *(_DWORD *)(v1 + 120) = 1;
      break;
    case 2:
    case 3:
      *(_DWORD *)(v1 + 120) = 3;
      break;
    case 4:
    case 5:
      *(_DWORD *)(v1 + 120) = 4;
      break;
    default:
      v13 = *(_DWORD *)(v1 + 36);
      *(_DWORD *)(v1 + 120) = v13;
      break;
  }
  v20 = 1;
  if ( !*(_DWORD *)(v1 + 84) )
    v20 = *(_DWORD *)(v1 + 120);
  *(_DWORD *)(v1 + 124) = v20;
  result = sub_450900(v13, v1);
  if ( result )
    *(_DWORD *)(v1 + 128) = *(_DWORD *)(v1 + 316);
  else
    *(_DWORD *)(v1 + 128) = 1;
  return result;
}

//----- (00450B90) --------------------------------------------------------
int __usercall sub_450B90@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edx@1
  signed int v3; // eax@1
  const void *v4; // esi@3
  int v5; // edx@3
  int result; // eax@3

  v1 = a1;
  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1408) + 256;
  v3 = 0;
  *(_DWORD *)(v1 + 328) = v2;
  memset((void *)(v2 - 256), 0, 0x100u);
  do
  {
    *(_BYTE *)(v3 + v2) = v3;
    ++v3;
  }
  while ( v3 <= 255 );
  v4 = *(const void **)(v1 + 328);
  v5 = v2 + 128;
  memset((void *)(v5 + 128), 0xFFu, 0x180u);
  result = 0;
  memset((void *)(v5 + 512), 0, 0x180u);
  qmemcpy((void *)(v5 + 896), v4, 0x80u);
  return result;
}

//----- (00450C10) --------------------------------------------------------
int __usercall sub_450C10@<eax>(int a1@<esi>)
{
  int v1; // ebp@1
  int v2; // ecx@1
  int v3; // eax@1
  int v4; // eax@6
  int v5; // eax@11
  int v6; // eax@14
  int v7; // eax@25
  int v8; // eax@31
  int result; // eax@35
  int v10; // ecx@38
  int v11; // edx@40
  int v12; // edx@40

  v1 = *(_DWORD *)(a1 + 424);
  sub_450980(a1);
  sub_450B90(a1);
  *(_DWORD *)(v1 + 12) = 0;
  *(_DWORD *)(v1 + 16) = sub_450900(v2, a1);
  v3 = *(_DWORD *)(a1 + 84);
  *(_DWORD *)(v1 + 20) = 0;
  *(_DWORD *)(v1 + 24) = 0;
  if ( !v3 || !*(_DWORD *)(a1 + 64) )
  {
    *(_DWORD *)(a1 + 100) = 0;
    *(_DWORD *)(a1 + 104) = 0;
    *(_DWORD *)(a1 + 108) = 0;
  }
  if ( v3 )
  {
    if ( *(_DWORD *)(a1 + 68) )
    {
      v4 = *(_DWORD *)a1;
      *(_DWORD *)(v4 + 20) = 47;
      (*(void (__stdcall **)(int))v4)(a1);
    }
    if ( *(_DWORD *)(a1 + 120) == 3 )
    {
      if ( *(_DWORD *)(a1 + 136) )
      {
        *(_DWORD *)(a1 + 104) = 1;
        goto LABEL_10;
      }
      if ( *(_DWORD *)(a1 + 92) )
      {
        *(_DWORD *)(a1 + 108) = 1;
        goto LABEL_10;
      }
    }
    else
    {
      *(_DWORD *)(a1 + 104) = 0;
      *(_DWORD *)(a1 + 108) = 0;
      *(_DWORD *)(a1 + 136) = 0;
    }
    *(_DWORD *)(a1 + 100) = 1;
LABEL_10:
    if ( *(_DWORD *)(a1 + 100) )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 48;
      (*(void (__stdcall **)(int))v5)(a1);
    }
    if ( *(_DWORD *)(a1 + 108) || *(_DWORD *)(a1 + 104) )
    {
      v6 = *(_DWORD *)a1;
      *(_DWORD *)(v6 + 20) = 48;
      (*(void (__stdcall **)(int))v6)(a1);
    }
  }
  if ( !*(_DWORD *)(a1 + 68) )
  {
    if ( *(_DWORD *)(v1 + 16) )
    {
      sub_45BB40(a1);
    }
    else
    {
      sub_45AEA0(a1);
      sub_459640(a1);
    }
    sub_458750(a1, *(_DWORD *)(a1 + 108));
  }
  sub_4585D0(a1);
  if ( *(_DWORD *)(a1 + 228) )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 1;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  else if ( *(_DWORD *)(a1 + 224) )
  {
    sub_458160(a1);
  }
  else
  {
    sub_457520(a1);
  }
  v8 = *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) || *(_DWORD *)(a1 + 64);
  sub_456950(a1, v8);
  if ( !*(_DWORD *)(a1 + 68) )
    sub_455990(a1, 0);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 4) + 24))(a1);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 440) + 8))(a1);
  result = *(_DWORD *)(a1 + 8);
  if ( result && !*(_DWORD *)(a1 + 64) && *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) )
  {
    v10 = *(_DWORD *)(a1 + 36);
    if ( *(_DWORD *)(a1 + 224) )
      v10 = 3 * v10 + 2;
    v11 = v10 * *(_DWORD *)(a1 + 324);
    *(_DWORD *)(result + 4) = 0;
    *(_DWORD *)(result + 8) = v11;
    v12 = *(_DWORD *)(a1 + 108);
    *(_DWORD *)(result + 12) = 0;
    *(_DWORD *)(result + 16) = (v12 != 0) + 2;
    ++*(_DWORD *)(v1 + 12);
  }
  return result;
}

//----- (00450F10) --------------------------------------------------------
int __stdcall sub_450F10(int a1)
{
  int v1; // eax@1

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 28);
  *(_DWORD *)(a1 + 424) = v1;
  *(_DWORD *)v1 = sub_450DB0;
  *(_DWORD *)(v1 + 4) = sub_450EE0;
  *(_DWORD *)(v1 + 8) = 0;
  return sub_450C10(a1);
}
// 450DB0: using guessed type int __stdcall sub_450DB0(int);
// 450EE0: using guessed type int __stdcall sub_450EE0(int);

//----- (00450F50) --------------------------------------------------------
int __usercall sub_450F50@<eax>(int a1@<esi>)
{
  int v1; // eax@3
  int v2; // ecx@4
  int v3; // eax@5
  signed int v4; // ecx@6
  int v5; // eax@7
  int v6; // ecx@8
  int v7; // ebx@8
  int *v8; // edi@9
  signed int v9; // eax@10
  int v10; // eax@14
  int v11; // eax@15
  int v12; // ecx@17
  int v13; // eax@17
  int v14; // ecx@20
  int v15; // eax@20
  int v16; // ebx@20
  int v17; // edi@21
  signed int v18; // ST04_4@22
  int v19; // ST00_4@22
  int v20; // eax@22
  int v21; // edx@22
  int v22; // eax@22
  signed int v23; // ST04_4@22
  int v24; // ST00_4@22
  int v25; // eax@22
  int v26; // ecx@22
  int v27; // eax@22
  int v28; // eax@23
  int v29; // ecx@23
  int result; // eax@24

  if ( *(_DWORD *)(a1 + 32) > 65500 || *(_DWORD *)(a1 + 28) > 65500 )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 41;
    *(_DWORD *)(v1 + 24) = 65500;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  v2 = *(_DWORD *)(a1 + 216);
  if ( v2 != 8 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 15;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  v4 = *(_DWORD *)(a1 + 36);
  if ( v4 > 10 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 26;
    *(_DWORD *)(v5 + 24) = v4;
    *(_DWORD *)(v5 + 28) = 10;
    (*(void (__stdcall **)(int))v5)(a1);
  }
  v6 = *(_DWORD *)(a1 + 36);
  v7 = 0;
  *(_DWORD *)(a1 + 312) = 1;
  *(_DWORD *)(a1 + 316) = 1;
  if ( v6 > 0 )
  {
    v8 = (int *)(*(_DWORD *)(a1 + 220) + 12);
    do
    {
      v9 = *(v8 - 1);
      if ( v9 <= 0 || v9 > 4 || *v8 <= 0 || *v8 > 4 )
      {
        v10 = *(_DWORD *)a1;
        *(_DWORD *)(v10 + 20) = 18;
        (*(void (__stdcall **)(int))v10)(a1);
      }
      v11 = *(_DWORD *)(a1 + 312);
      if ( v11 <= *(v8 - 1) )
        v11 = *(v8 - 1);
      v12 = *v8;
      *(_DWORD *)(a1 + 312) = v11;
      v13 = *(_DWORD *)(a1 + 316);
      if ( v13 <= v12 )
        v13 = v12;
      *(_DWORD *)(a1 + 316) = v13;
      ++v7;
      v8 += 21;
    }
    while ( v7 < *(_DWORD *)(a1 + 36) );
  }
  v14 = *(_DWORD *)(a1 + 36);
  v15 = *(_DWORD *)(a1 + 220);
  v16 = 0;
  *(_DWORD *)(a1 + 320) = 8;
  if ( v14 > 0 )
  {
    v17 = v15 + 28;
    do
    {
      v18 = 8 * *(_DWORD *)(a1 + 312);
      v19 = *(_DWORD *)(a1 + 28) * *(_DWORD *)(v17 - 20);
      *(_DWORD *)(v17 + 8) = 8;
      v20 = sub_452700(v19, v18);
      v21 = *(_DWORD *)(a1 + 316);
      *(_DWORD *)v17 = v20;
      v22 = sub_452700(*(_DWORD *)(a1 + 32) * *(_DWORD *)(v17 - 16), 8 * v21);
      v23 = *(_DWORD *)(a1 + 312);
      v24 = *(_DWORD *)(a1 + 28) * *(_DWORD *)(v17 - 20);
      *(_DWORD *)(v17 + 4) = v22;
      v25 = sub_452700(v24, v23);
      v26 = *(_DWORD *)(a1 + 32) * *(_DWORD *)(v17 - 16);
      *(_DWORD *)(v17 + 12) = v25;
      *(_DWORD *)(v17 + 16) = sub_452700(v26, *(_DWORD *)(a1 + 316));
      v27 = *(_DWORD *)(a1 + 36);
      *(_DWORD *)(v17 + 20) = 1;
      *(_DWORD *)(v17 + 48) = 0;
      ++v16;
      v17 += 84;
    }
    while ( v16 < v27 );
  }
  v28 = sub_452700(*(_DWORD *)(a1 + 32), 8 * *(_DWORD *)(a1 + 316));
  v29 = *(_DWORD *)(a1 + 332);
  *(_DWORD *)(a1 + 324) = v28;
  if ( v29 < *(_DWORD *)(a1 + 36) || (result = *(_DWORD *)(a1 + 224)) != 0 )
  {
    result = *(_DWORD *)(a1 + 440);
    *(_DWORD *)(result + 16) = 1;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) = 0;
  }
  return result;
}

//----- (00451130) --------------------------------------------------------
int __usercall sub_451130@<eax>(int a1@<esi>)
{
  signed int v1; // ecx@1
  int v2; // ecx@2
  int v3; // edx@2
  unsigned int v4; // edi@2
  unsigned int v5; // eax@2
  int result; // eax@2
  int v7; // edx@2
  unsigned __int64 v8; // rtt@2
  int v9; // eax@7
  int v10; // eax@8
  signed int v11; // edx@8
  bool v12; // zf@8
  bool v13; // sf@8
  int v14; // ecx@10
  unsigned int v15; // edi@10
  unsigned int v16; // ebp@10
  int v17; // edx@10
  int v18; // ebx@10
  unsigned int v19; // eax@12
  int v20; // edx@12
  int v21; // eax@15
  int v22; // ecx@18
  unsigned __int8 v23; // of@18
  int v24; // [sp+8h] [bp-8h]@8
  int v25; // [sp+Ch] [bp-4h]@9

  v1 = *(_DWORD *)(a1 + 332);
  if ( v1 == 1 )
  {
    v2 = *(_DWORD *)(a1 + 336);
    v3 = *(_DWORD *)(v2 + 36);
    v4 = *(_DWORD *)(v2 + 12);
    *(_DWORD *)(a1 + 352) = *(_DWORD *)(v2 + 28);
    v5 = *(_DWORD *)(v2 + 32);
    *(_DWORD *)(v2 + 64) = v3;
    *(_DWORD *)(a1 + 356) = v5;
    v8 = v5;
    result = v5 / v4;
    v7 = v8 % v4;
    *(_DWORD *)(v2 + 52) = 1;
    *(_DWORD *)(v2 + 56) = 1;
    *(_DWORD *)(v2 + 60) = 1;
    *(_DWORD *)(v2 + 68) = 1;
    if ( !v7 )
      v7 = v4;
    *(_DWORD *)(a1 + 360) = 1;
    *(_DWORD *)(v2 + 72) = v7;
    *(_DWORD *)(a1 + 364) = 0;
  }
  else
  {
    if ( v1 <= 0 || v1 > 4 )
    {
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 20) = 26;
      *(_DWORD *)(v9 + 24) = v1;
      *(_DWORD *)(v9 + 28) = 4;
      (*(void (__stdcall **)(int))v9)(a1);
    }
    v10 = sub_452700(*(_DWORD *)(a1 + 28), 8 * *(_DWORD *)(a1 + 312));
    v11 = 8 * *(_DWORD *)(a1 + 316);
    *(_DWORD *)(a1 + 352) = v10;
    result = sub_452700(*(_DWORD *)(a1 + 32), v11);
    *(_DWORD *)(a1 + 356) = result;
    v12 = *(_DWORD *)(a1 + 332) == 0;
    v13 = *(_DWORD *)(a1 + 332) < 0;
    *(_DWORD *)(a1 + 360) = 0;
    v24 = 0;
    if ( !v13 && !v12 )
    {
      v25 = a1 + 336;
      do
      {
        v14 = *(_DWORD *)v25;
        v15 = *(_DWORD *)(*(_DWORD *)v25 + 8);
        v16 = *(_DWORD *)(*(_DWORD *)v25 + 12);
        *(_DWORD *)(v14 + 64) = v15 * *(_DWORD *)(*(_DWORD *)v25 + 36);
        v17 = *(_DWORD *)(v14 + 28) % v15;
        v18 = v15 * v16;
        *(_DWORD *)(v14 + 52) = v15;
        *(_DWORD *)(v14 + 56) = v16;
        *(_DWORD *)(v14 + 60) = v15 * v16;
        if ( !v17 )
          v17 = v15;
        v19 = *(_DWORD *)(v14 + 32);
        *(_DWORD *)(v14 + 68) = v17;
        v20 = v19 % v16;
        if ( !(v19 % v16) )
          v20 = v16;
        *(_DWORD *)(v14 + 72) = v20;
        if ( v18 + *(_DWORD *)(a1 + 360) > 10 )
        {
          v21 = *(_DWORD *)a1;
          *(_DWORD *)(v21 + 20) = 13;
          (*(void (__stdcall **)(int))v21)(a1);
        }
        if ( v18 > 0 )
        {
          do
          {
            *(_DWORD *)(a1 + 4 * *(_DWORD *)(a1 + 360) + 364) = v24;
            --v18;
            ++*(_DWORD *)(a1 + 360);
          }
          while ( v18 );
        }
        v22 = *(_DWORD *)(a1 + 332);
        result = v24 + 1;
        v23 = __OFSUB__(v24 + 1, v22);
        v13 = v24++ + 1 - v22 < 0;
        v25 += 4;
      }
      while ( v13 ^ v23 );
    }
  }
  return result;
}

//----- (004512C0) --------------------------------------------------------
int __usercall sub_4512C0@<eax>(int a1@<ebx>)
{
  int result; // eax@1
  int v2; // ebp@3
  signed int v3; // esi@4
  int v4; // eax@7
  void *v5; // eax@8
  int v6; // ecx@9
  bool v7; // sf@9
  unsigned __int8 v8; // of@9
  int v9; // [sp+10h] [bp-8h]@2
  int v10; // [sp+14h] [bp-4h]@1

  result = *(_DWORD *)(a1 + 332);
  v10 = 0;
  if ( result > 0 )
  {
    v9 = a1 + 336;
    do
    {
      v2 = *(_DWORD *)v9;
      if ( !*(_DWORD *)(*(_DWORD *)v9 + 76) )
      {
        v3 = *(_DWORD *)(v2 + 16);
        if ( v3 < 0 || v3 >= 4 || !*(_DWORD *)(a1 + 4 * v3 + 168) )
        {
          v4 = *(_DWORD *)a1;
          *(_DWORD *)(v4 + 20) = 52;
          *(_DWORD *)(v4 + 24) = v3;
          (*(void (__stdcall **)(int))v4)(a1);
        }
        v5 = (void *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 132);
        qmemcpy(v5, *(const void **)(a1 + 4 * v3 + 168), 0x84u);
        *(_DWORD *)(v2 + 76) = v5;
      }
      v6 = *(_DWORD *)(a1 + 332);
      result = v10 + 1;
      v8 = __OFSUB__(v10 + 1, v6);
      v7 = v10++ + 1 - v6 < 0;
      v9 += 4;
    }
    while ( v7 ^ v8 );
  }
  return result;
}

//----- (00451360) --------------------------------------------------------
_DWORD *__stdcall sub_451360(int a1)
{
  int v1; // ebx@1
  _DWORD *result; // eax@1

  sub_451130(a1);
  v1 = a1;
  sub_4512C0(a1);
  (**(void (__stdcall ***)(_DWORD))(v1 + 448))(v1);
  (**(void (__stdcall ***)(_DWORD))(v1 + 432))(v1);
  result = *(_DWORD **)(a1 + 440);
  *result = *(_DWORD *)(*(_DWORD *)(a1 + 432) + 4);
  return result;
}

//----- (004513A0) --------------------------------------------------------
signed int __stdcall sub_4513A0(int a1)
{
  int v1; // edi@1
  signed int result; // eax@2
  int v3; // eax@3
  int v4; // ebx@3
  int v5; // eax@3
  int v6; // eax@5
  int v7; // eax@7
  int v8; // eax@8
  int v9; // eax@13

  v1 = *(_DWORD *)(a1 + 440);
  if ( *(_DWORD *)(v1 + 20) )
    return 2;
  v3 = (*(int (__stdcall **)(int))(*(_DWORD *)(a1 + 444) + 4))(a1);
  v4 = v3;
  v5 = v3 - 1;
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      v6 = *(_DWORD *)(v1 + 24);
      *(_DWORD *)(v1 + 20) = 1;
      if ( v6 )
      {
        if ( *(_DWORD *)(*(_DWORD *)(a1 + 444) + 16) )
        {
          v7 = *(_DWORD *)a1;
          *(_DWORD *)(v7 + 20) = 59;
          (*(void (__stdcall **)(int))v7)(a1);
          return v4;
        }
      }
      else
      {
        v8 = *(_DWORD *)(a1 + 148);
        if ( *(_DWORD *)(a1 + 156) > v8 )
        {
          *(_DWORD *)(a1 + 156) = v8;
          return v4;
        }
      }
    }
  }
  else
  {
    if ( *(_DWORD *)(v1 + 24) )
    {
      sub_450F50(a1);
      result = v4;
      *(_DWORD *)(v1 + 24) = 0;
      return result;
    }
    if ( !*(_DWORD *)(v1 + 16) )
    {
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 20) = 35;
      (*(void (__stdcall **)(int))v9)(a1);
    }
    sub_451360(a1);
  }
  return v4;
}

//----- (004514D0) --------------------------------------------------------
int __stdcall sub_4514D0(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 28);
  *(_DWORD *)(a1 + 440) = result;
  *(_DWORD *)result = sub_4513A0;
  *(_DWORD *)(result + 4) = sub_451460;
  *(_DWORD *)(result + 8) = sub_451360;
  *(_DWORD *)(result + 12) = sub_4514B0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 1;
  return result;
}
// 451460: using guessed type int __stdcall sub_451460(int);
// 4514B0: using guessed type int __stdcall sub_4514B0(int);

//----- (00451520) --------------------------------------------------------
int __stdcall sub_451520(int a1, signed int a2, unsigned int a3)
{
  unsigned int v3; // ebx@1
  int *v4; // edi@1
  int v5; // eax@2
  int v6; // eax@3
  int v7; // eax@7
  char *i; // eax@8
  _DWORD *v9; // ebp@8
  int v10; // ebx@11
  unsigned int v11; // esi@12
  int v12; // eax@18
  int v13; // ecx@23
  int v15; // [sp+14h] [bp+4h]@1

  v3 = a3;
  v4 = (int *)a1;
  v15 = *(_DWORD *)(a1 + 4);
  if ( a3 > 0x3B9AC9F0 )
  {
    v5 = *v4;
    *(_DWORD *)(v5 + 20) = 54;
    *(_DWORD *)(v5 + 24) = 1;
    (*(void (__stdcall **)(int *))v5)(v4);
  }
  v6 = a3 & 7;
  if ( a3 & 7 )
  {
    v3 = 8 - v6 + a3;
    a3 += 8 - v6;
  }
  if ( a2 < 0 || a2 >= 2 )
  {
    v7 = *v4;
    *(_DWORD *)(v7 + 20) = 14;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int *))v7)(v4);
  }
  i = *(char **)(v15 + 4 * a2 + 52);
  v9 = 0;
  if ( i )
  {
    while ( *((_DWORD *)i + 2) < v3 )
    {
      v9 = i;
      i = *(char **)i;
      if ( !i )
        goto LABEL_11;
    }
  }
  else
  {
LABEL_11:
    v10 = v3 + 16;
    if ( v9 )
      v11 = dword_4BB60C[a2];
    else
      v11 = dword_4BB604[a2];
    if ( v11 > 1000000000 - v10 )
      v11 = 1000000000 - v10;
    for ( i = sub_45BBC0((int)v4, v11 + v10); !i; i = sub_45BBC0((int)v4, v11 + v10) )
    {
      v11 >>= 1;
      if ( v11 < 0x32 )
      {
        v12 = *v4;
        *(_DWORD *)(v12 + 20) = 54;
        *(_DWORD *)(v12 + 24) = 2;
        (*(void (__stdcall **)(int *))v12)(v4);
      }
    }
    *(_DWORD *)(v15 + 76) += v11 + v10;
    *(_DWORD *)i = 0;
    *((_DWORD *)i + 1) = 0;
    *((_DWORD *)i + 2) = a3 + v11;
    v3 = a3;
    if ( v9 )
      *v9 = i;
    else
      *(_DWORD *)(v15 + 4 * a2 + 52) = i;
  }
  v13 = *((_DWORD *)i + 1);
  *((_DWORD *)i + 1) = v3 + v13;
  *((_DWORD *)i + 2) -= v3;
  return (int)&i[v13 + 16];
}
// 4BB604: using guessed type int dword_4BB604[];
// 4BB60C: using guessed type int dword_4BB60C[];

//----- (00451650) --------------------------------------------------------
int __stdcall sub_451650(int a1, signed int a2, unsigned int a3)
{
  int v3; // ebx@1
  int v4; // ebp@1
  int v5; // eax@2
  int v6; // eax@7
  char *v7; // esi@8
  int v8; // eax@9
  int v9; // ecx@10

  v3 = a3;
  v4 = *(_DWORD *)(a1 + 4);
  if ( a3 > 0x3B9AC9F0 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 54;
    *(_DWORD *)(v5 + 24) = 3;
    (*(void (__stdcall **)(int))v5)(a1);
  }
  if ( a3 & 7 )
    v3 = 8 - (a3 & 7) + a3;
  if ( a2 < 0 || a2 >= 2 )
  {
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 14;
    *(_DWORD *)(v6 + 24) = a2;
    (*(void (__stdcall **)(int))v6)(a1);
  }
  v7 = sub_45BBC0(a1, v3 + 16);
  if ( !v7 )
  {
    v8 = *(_DWORD *)a1;
    *(_DWORD *)(v8 + 20) = 54;
    *(_DWORD *)(v8 + 24) = 4;
    (*(void (__stdcall **)(int))v8)(a1);
  }
  *(_DWORD *)(v4 + 76) += v3 + 16;
  v9 = *(_DWORD *)(v4 + 4 * a2 + 60);
  *(_DWORD *)(v4 + 4 * a2 + 60) = v7;
  *((_DWORD *)v7 + 1) = v3;
  *(_DWORD *)v7 = v9;
  *((_DWORD *)v7 + 2) = 0;
  return (int)(v7 + 16);
}

//----- (00451700) --------------------------------------------------------
int __thiscall sub_451700(void *this, int a2, signed int a3, unsigned int a4, unsigned int a5)
{
  int v5; // ebp@1
  unsigned int v6; // edi@1
  int v7; // eax@2
  int v8; // ebp@5
  unsigned int v9; // esi@5
  int v10; // eax@8
  unsigned int v11; // ecx@9

  v5 = *(_DWORD *)(a2 + 4);
  v6 = 0x3B9AC9F0 / a4;
  if ( (signed int)(0x3B9AC9F0 / a4) <= 0 )
  {
    v7 = *(_DWORD *)a2;
    *(_DWORD *)(v7 + 20) = 70;
    (*(void (__fastcall **)(void *, unsigned int, int))v7)(this, 0x3B9AC9F0 % a4, a2);
  }
  if ( (signed int)v6 >= (signed int)a5 )
    v6 = a5;
  *(_DWORD *)(v5 + 80) = v6;
  v8 = sub_451520(a2, a3, 4 * a5);
  v9 = 0;
  if ( a5 )
  {
    do
    {
      if ( v6 >= a5 - v9 )
        v6 = a5 - v9;
      v10 = sub_451650(a2, a3, a4 * v6);
      if ( v6 )
      {
        v11 = v6;
        do
        {
          *(_DWORD *)(v8 + 4 * v9++) = v10;
          v10 += a4;
          --v11;
        }
        while ( v11 );
      }
    }
    while ( v9 < a5 );
  }
  return v8;
}

//----- (004517A0) --------------------------------------------------------
int __thiscall sub_4517A0(void *this, int a2, signed int a3, int a4, signed int a5)
{
  int v5; // ebp@1
  signed int v6; // edi@1
  int v7; // eax@2
  int v8; // ebp@5
  unsigned int v9; // esi@5
  int v10; // eax@8
  signed int v11; // ecx@9

  v5 = *(_DWORD *)(a2 + 4);
  v6 = 0x3B9AC9F0u / (a4 << 7);
  if ( v6 <= 0 )
  {
    v7 = *(_DWORD *)a2;
    *(_DWORD *)(v7 + 20) = 70;
    (*(void (__fastcall **)(void *, unsigned int, int))v7)(this, 0x3B9AC9F0u % (a4 << 7), a2);
  }
  if ( v6 >= a5 )
    v6 = a5;
  *(_DWORD *)(v5 + 80) = v6;
  v8 = sub_451520(a2, a3, 4 * a5);
  v9 = 0;
  if ( a5 )
  {
    do
    {
      if ( v6 >= a5 - v9 )
        v6 = a5 - v9;
      v10 = sub_451650(a2, a3, a4 * v6 << 7);
      if ( v6 )
      {
        v11 = v6;
        do
        {
          *(_DWORD *)(v8 + 4 * v9++) = v10;
          v10 += a4 << 7;
          --v11;
        }
        while ( v11 );
      }
    }
    while ( v9 < a5 );
  }
  return v8;
}

//----- (00451840) --------------------------------------------------------
int __stdcall sub_451840(int a1, signed int a2, int a3, int a4, int a5, int a6)
{
  int v6; // edi@1
  int v7; // eax@2
  int result; // eax@3
  int v9; // ecx@3

  v6 = *(_DWORD *)(a1 + 4);
  if ( a2 != 1 )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 14;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  result = sub_451520(a1, a2, 0x248u);
  *(_DWORD *)(result + 4) = a5;
  *(_DWORD *)(result + 12) = a6;
  v9 = *(_DWORD *)(v6 + 68);
  *(_DWORD *)(v6 + 68) = result;
  *(_DWORD *)(result + 8) = a4;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 32) = a3;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = v9;
  return result;
}

//----- (004518B0) --------------------------------------------------------
int __stdcall sub_4518B0(int a1, signed int a2, int a3, int a4, int a5, int a6)
{
  int v6; // edi@1
  int v7; // eax@2
  int result; // eax@3
  int v9; // ecx@3

  v6 = *(_DWORD *)(a1 + 4);
  if ( a2 != 1 )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 14;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  result = sub_451520(a1, a2, 0x248u);
  *(_DWORD *)(result + 4) = a5;
  *(_DWORD *)(result + 12) = a6;
  v9 = *(_DWORD *)(v6 + 72);
  *(_DWORD *)(v6 + 72) = result;
  *(_DWORD *)(result + 8) = a4;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 32) = a3;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = v9;
  return result;
}

//----- (00451920) --------------------------------------------------------
int __stdcall sub_451920(int a1)
{
  _DWORD *v1; // ebp@1
  int v2; // edx@1
  int v3; // eax@1
  int v4; // esi@1
  int v5; // edi@1
  int v6; // ecx@3
  int result; // eax@5
  int v8; // ecx@7
  signed int v9; // ebx@11
  int j; // esi@14
  int v11; // edi@16
  unsigned int v12; // ecx@16
  int v13; // ST0C_4@18
  int k; // esi@21
  int v15; // edi@23
  unsigned int v16; // ecx@23
  int v17; // eax@25
  int v18; // eax@26
  int v19; // edx@26
  int i; // [sp+14h] [bp+4h]@1

  v1 = (_DWORD *)a1;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = *(_DWORD *)(v2 + 68);
  v4 = 0;
  v5 = 0;
  for ( i = *(_DWORD *)(a1 + 4); v3; v3 = *(_DWORD *)(v3 + 44) )
  {
    if ( !*(_DWORD *)v3 )
    {
      v6 = *(_DWORD *)(v3 + 8);
      v4 += v6 * *(_DWORD *)(v3 + 12);
      v5 += v6 * *(_DWORD *)(v3 + 4);
    }
  }
  for ( result = *(_DWORD *)(v2 + 72); result; result = *(_DWORD *)(result + 44) )
  {
    if ( !*(_DWORD *)result )
    {
      v8 = *(_DWORD *)(result + 8);
      v4 += v8 * *(_DWORD *)(result + 12) << 7;
      v5 += v8 * *(_DWORD *)(result + 4) << 7;
    }
  }
  if ( v4 > 0 )
  {
    result = sub_45BC10((int)v1, v4, v5, *(_DWORD *)(v2 + 76));
    if ( result < v5 )
    {
      result /= v4;
      v9 = result;
      if ( result <= 0 )
        v9 = 1;
    }
    else
    {
      v9 = 1000000000;
    }
    for ( j = *(_DWORD *)(i + 68); j; j = *(_DWORD *)(j + 44) )
    {
      if ( !*(_DWORD *)j )
      {
        v11 = *(_DWORD *)(j + 4);
        v12 = *(_DWORD *)(j + 12);
        if ( (signed int)((v11 - 1) / v12 + 1) > v9 )
        {
          v13 = v11 * *(_DWORD *)(j + 8);
          *(_DWORD *)(j + 16) = v9 * v12;
          sub_45BD10(v1, j + 48, v13);
          *(_DWORD *)(j + 40) = 1;
        }
        else
        {
          *(_DWORD *)(j + 16) = v11;
        }
        *(_DWORD *)j = sub_451700(*(void **)(j + 16), (int)v1, 1, *(_DWORD *)(j + 8), *(_DWORD *)(j + 16));
        result = 0;
        *(_DWORD *)(j + 20) = *(_DWORD *)(i + 80);
        *(_DWORD *)(j + 24) = 0;
        *(_DWORD *)(j + 28) = 0;
        *(_DWORD *)(j + 36) = 0;
      }
    }
    for ( k = *(_DWORD *)(i + 72); k; k = *(_DWORD *)(k + 44) )
    {
      if ( !*(_DWORD *)k )
      {
        v15 = *(_DWORD *)(k + 4);
        v16 = *(_DWORD *)(k + 12);
        if ( (signed int)((v15 - 1) / v16 + 1) > v9 )
        {
          v17 = v15 * *(_DWORD *)(k + 8) << 7;
          *(_DWORD *)(k + 16) = v9 * v16;
          sub_45BD10(v1, k + 48, v17);
          *(_DWORD *)(k + 40) = 1;
        }
        else
        {
          *(_DWORD *)(k + 16) = v15;
        }
        v18 = sub_4517A0((void *)v16, (int)v1, 1, *(_DWORD *)(k + 8), *(_DWORD *)(k + 16));
        v19 = *(_DWORD *)(i + 80);
        *(_DWORD *)k = v18;
        result = 0;
        *(_DWORD *)(k + 20) = v19;
        *(_DWORD *)(k + 24) = 0;
        *(_DWORD *)(k + 28) = 0;
        *(_DWORD *)(k + 36) = 0;
      }
    }
  }
  return result;
}

//----- (00451AB0) --------------------------------------------------------
int __userpurge sub_451AB0@<eax>(int a1@<esi>, int a2, int a3)
{
  int result; // eax@1
  int v4; // ebx@1
  int v5; // ebp@1
  int v6; // edi@1
  int v7; // ecx@6
  int v8; // ebx@11
  int v9; // [sp+Ch] [bp-4h]@1

  result = *(_DWORD *)(a1 + 16);
  v4 = *(_DWORD *)(a1 + 8);
  v5 = v4 * *(_DWORD *)(a1 + 24);
  v6 = 0;
  v9 = *(_DWORD *)(a1 + 8);
  if ( result > 0 )
  {
    while ( 1 )
    {
      result -= v6;
      if ( *(_DWORD *)(a1 + 20) < result )
        result = *(_DWORD *)(a1 + 20);
      v7 = v6 + *(_DWORD *)(a1 + 24);
      if ( result >= *(_DWORD *)(a1 + 28) - v7 )
        result = *(_DWORD *)(a1 + 28) - v7;
      if ( result >= *(_DWORD *)(a1 + 4) - v7 )
        result = *(_DWORD *)(a1 + 4) - v7;
      if ( result <= 0 )
        break;
      v8 = v4 * result;
      if ( a3 )
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 52))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      else
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 48))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      result = *(_DWORD *)(a1 + 16);
      v6 += *(_DWORD *)(a1 + 20);
      v5 += v8;
      if ( v6 >= result )
        break;
      v4 = v9;
    }
  }
  return result;
}

//----- (00451B50) --------------------------------------------------------
int __userpurge sub_451B50@<eax>(int a1@<esi>, int a2, int a3)
{
  int result; // eax@1
  int v4; // ebx@1
  int v5; // ebp@1
  int v6; // edi@1
  int v7; // ecx@6
  int v8; // ebx@11
  int v9; // [sp+Ch] [bp-4h]@1

  result = *(_DWORD *)(a1 + 16);
  v4 = *(_DWORD *)(a1 + 8) << 7;
  v5 = v4 * *(_DWORD *)(a1 + 24);
  v6 = 0;
  v9 = *(_DWORD *)(a1 + 8) << 7;
  if ( result > 0 )
  {
    while ( 1 )
    {
      result -= v6;
      if ( *(_DWORD *)(a1 + 20) < result )
        result = *(_DWORD *)(a1 + 20);
      v7 = v6 + *(_DWORD *)(a1 + 24);
      if ( result >= *(_DWORD *)(a1 + 28) - v7 )
        result = *(_DWORD *)(a1 + 28) - v7;
      if ( result >= *(_DWORD *)(a1 + 4) - v7 )
        result = *(_DWORD *)(a1 + 4) - v7;
      if ( result <= 0 )
        break;
      v8 = v4 * result;
      if ( a3 )
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 52))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      else
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 48))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      result = *(_DWORD *)(a1 + 16);
      v6 += *(_DWORD *)(a1 + 20);
      v5 += v8;
      if ( v6 >= result )
        break;
      v4 = v9;
    }
  }
  return result;
}

//----- (00451E30) --------------------------------------------------------
int __stdcall sub_451E30(int a1, signed int a2)
{
  int v2; // esi@1
  signed int v3; // edi@1
  int v4; // eax@3
  int i; // edi@5
  int v6; // edi@9
  int v7; // eax@14
  int v8; // edi@15
  int v9; // ebx@15
  int result; // eax@17
  int v11; // edi@18
  int v12; // ebx@18

  v2 = *(_DWORD *)(a1 + 4);
  v3 = a2;
  if ( a2 < 0 || a2 >= 2 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 14;
    *(_DWORD *)(v4 + 24) = a2;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  if ( a2 == 1 )
  {
    for ( i = *(_DWORD *)(v2 + 68); i; i = *(_DWORD *)(i + 44) )
    {
      if ( *(_DWORD *)(i + 40) )
      {
        *(_DWORD *)(i + 40) = 0;
        (*(void (__stdcall **)(int, int))(i + 56))(a1, i + 48);
      }
    }
    v6 = *(_DWORD *)(v2 + 72);
    for ( *(_DWORD *)(v2 + 68) = 0; v6; v6 = *(_DWORD *)(v6 + 44) )
    {
      if ( *(_DWORD *)(v6 + 40) )
      {
        *(_DWORD *)(v6 + 40) = 0;
        (*(void (__stdcall **)(int, int))(v6 + 56))(a1, v6 + 48);
      }
    }
    v3 = a2;
    *(_DWORD *)(v2 + 72) = 0;
  }
  v7 = *(_DWORD *)(v2 + 4 * v3 + 60);
  *(_DWORD *)(v2 + 4 * v3 + 60) = 0;
  if ( v7 )
  {
    do
    {
      v8 = *(_DWORD *)v7;
      v9 = *(_DWORD *)(v7 + 8) + *(_DWORD *)(v7 + 4) + 16;
      sub_45BBF0(a1, v7, v9);
      *(_DWORD *)(v2 + 76) -= v9;
      v7 = v8;
    }
    while ( v8 );
    v3 = a2;
  }
  result = *(_DWORD *)(v2 + 4 * v3 + 52);
  *(_DWORD *)(v2 + 4 * v3 + 52) = 0;
  if ( result )
  {
    do
    {
      v11 = *(_DWORD *)result;
      v12 = *(_DWORD *)(result + 8) + *(_DWORD *)(result + 4) + 16;
      sub_45BBF0(a1, result, v12);
      *(_DWORD *)(v2 + 76) -= v12;
      result = v11;
    }
    while ( v11 );
  }
  return result;
}

//----- (00451F50) --------------------------------------------------------
_DWORD *__stdcall sub_451F50(int a1)
{
  signed int v1; // ebp@1
  char *v2; // esi@1
  int v3; // eax@2
  _DWORD *result; // eax@3
  signed int v5; // ecx@3

  *(_DWORD *)(a1 + 4) = 0;
  v1 = sub_45BD60(a1);
  v2 = sub_45BBC0(a1, 84);
  if ( !v2 )
  {
    nullsub_3(a1);
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 54;
    *(_DWORD *)(v3 + 24) = 0;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  *(_DWORD *)v2 = sub_451520;
  *((_DWORD *)v2 + 1) = sub_451650;
  *((_DWORD *)v2 + 2) = sub_451700;
  *((_DWORD *)v2 + 3) = sub_4517A0;
  *((_DWORD *)v2 + 4) = sub_451840;
  *((_DWORD *)v2 + 5) = sub_4518B0;
  *((_DWORD *)v2 + 6) = sub_451920;
  *((_DWORD *)v2 + 7) = sub_451BF0;
  *((_DWORD *)v2 + 8) = sub_451D10;
  *((_DWORD *)v2 + 9) = sub_451E30;
  *((_DWORD *)v2 + 10) = sub_451F10;
  *((_DWORD *)v2 + 12) = 1000000000;
  *((_DWORD *)v2 + 11) = v1;
  result = v2 + 64;
  v5 = 2;
  do
  {
    *(result - 2) = 0;
    *result = 0;
    --result;
    --v5;
  }
  while ( v5 );
  *(_DWORD *)(a1 + 4) = v2;
  *((_DWORD *)v2 + 17) = 0;
  *((_DWORD *)v2 + 18) = 0;
  *((_DWORD *)v2 + 19) = 84;
  return result;
}
// 451BF0: using guessed type int __stdcall sub_451BF0(int, int, int, int, int);
// 451D10: using guessed type int __stdcall sub_451D10(int, int, int, int, int);
// 451F10: using guessed type int __stdcall sub_451F10(int);
// 46BED0: using guessed type int __stdcall nullsub_3(int);

//----- (00452010) --------------------------------------------------------
int __stdcall sub_452010(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 4);
  if ( result )
  {
    (*(void (__stdcall **)(int, signed int))(result + 36))(a1, 1);
    result = *(_DWORD *)(a1 + 16);
    if ( result )
    {
      *(_DWORD *)(a1 + 20) = 200;
      *(_DWORD *)(a1 + 308) = 0;
    }
    else
    {
      *(_DWORD *)(a1 + 20) = 100;
    }
  }
  return result;
}

//----- (00452050) --------------------------------------------------------
int __stdcall sub_452050(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 4);
  if ( result )
    result = (*(int (__stdcall **)(int))(result + 40))(a1);
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  return result;
}

//----- (00452070) --------------------------------------------------------
int __stdcall sub_452070(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 132);
  *(_DWORD *)(result + 128) = 0;
  return result;
}

//----- (00452090) --------------------------------------------------------
int __stdcall sub_452090(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 280);
  *(_DWORD *)(result + 276) = 0;
  return result;
}

//----- (004520B0) --------------------------------------------------------
int __cdecl sub_4520B0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 8) = sub_45D5A8;
  *(_DWORD *)(a1 + 136) = sub_45D5A8;
  *(_DWORD *)a1 = sub_45D4DC;
  *(_DWORD *)(a1 + 4) = sub_45FC2A;
  *(_DWORD *)(a1 + 12) = sub_45D674;
  *(_DWORD *)(a1 + 16) = sub_45E64C;
  *(_DWORD *)(a1 + 20) = sub_45D571;
  *(_DWORD *)(a1 + 24) = sub_45E35F;
  *(_DWORD *)(a1 + 36) = sub_45D51A;
  *(_DWORD *)(a1 + 40) = sub_45E434;
  *(_DWORD *)(a1 + 28) = sub_45FCFE;
  *(_DWORD *)(a1 + 32) = sub_45DB64;
  *(_DWORD *)(a1 + 84) = sub_45E537;
  *(_DWORD *)(a1 + 64) = sub_45DAA4;
  *(_DWORD *)(a1 + 80) = sub_45BDE9;
  *(_DWORD *)(a1 + 76) = sub_45BD70;
  *(_DWORD *)(a1 + 96) = sub_460077;
  *(_DWORD *)(a1 + 100) = sub_45BF01;
  *(_DWORD *)(a1 + 88) = sub_45E0A5;
  *(_DWORD *)(a1 + 72) = sub_45D7A8;
  *(_DWORD *)(a1 + 196) = sub_45DDDA;
  *(_DWORD *)(a1 + 200) = sub_45DBFE;
  *(_DWORD *)(a1 + 204) = sub_45DFAD;
  *(_DWORD *)(a1 + 208) = sub_45DE8D;
  *(_DWORD *)(a1 + 212) = sub_45DD35;
  *(_DWORD *)(a1 + 216) = sub_45E00A;
  *(_DWORD *)(a1 + 68) = sub_45DF27;
  *(_DWORD *)(a1 + 188) = sub_45DCB0;
  *(_DWORD *)(a1 + 192) = sub_45E053;
  *(_DWORD *)(a1 + 44) = sub_45F913;
  *(_DWORD *)(a1 + 108) = sub_45E880;
  *(_DWORD *)(a1 + 52) = sub_45E153;
  *(_DWORD *)(a1 + 112) = sub_45E253;
  *(_DWORD *)(a1 + 232) = sub_45D408;
  *(_DWORD *)(a1 + 276) = sub_45CD86;
  *(_DWORD *)(a1 + 236) = sub_45C343;
  *(_DWORD *)(a1 + 240) = sub_45C4D1;
  *(_DWORD *)(a1 + 244) = sub_45C637;
  *(_DWORD *)(a1 + 248) = sub_45C13D;
  *(_DWORD *)(a1 + 252) = sub_45CB55;
  *(_DWORD *)(a1 + 256) = sub_45C985;
  *(_DWORD *)(a1 + 260) = sub_45C747;
  *(_DWORD *)(a1 + 272) = sub_45C747;
  *(_DWORD *)(a1 + 176) = sub_45BE83;
  return result;
}

//----- (0045221E) --------------------------------------------------------
int __cdecl sub_45221E(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 8) = sub_45D5A8;
  *(_DWORD *)(a1 + 136) = sub_45D5A8;
  *(_DWORD *)a1 = sub_45D4DC;
  *(_DWORD *)(a1 + 4) = sub_45FC2A;
  *(_DWORD *)(a1 + 12) = sub_45D674;
  *(_DWORD *)(a1 + 16) = sub_45E64C;
  *(_DWORD *)(a1 + 20) = sub_45D571;
  *(_DWORD *)(a1 + 24) = sub_45E35F;
  *(_DWORD *)(a1 + 36) = sub_45D51A;
  *(_DWORD *)(a1 + 40) = sub_45E434;
  *(_DWORD *)(a1 + 28) = sub_45FCFE;
  *(_DWORD *)(a1 + 32) = sub_45DB64;
  *(_DWORD *)(a1 + 84) = sub_45E537;
  *(_DWORD *)(a1 + 64) = sub_45F853;
  *(_DWORD *)(a1 + 80) = sub_45BDE9;
  *(_DWORD *)(a1 + 76) = sub_45BD70;
  *(_DWORD *)(a1 + 96) = sub_460077;
  *(_DWORD *)(a1 + 100) = sub_45FFB5;
  *(_DWORD *)(a1 + 88) = sub_45E0A5;
  *(_DWORD *)(a1 + 72) = sub_45D7A8;
  *(_DWORD *)(a1 + 196) = sub_45DDDA;
  *(_DWORD *)(a1 + 200) = sub_45DBFE;
  *(_DWORD *)(a1 + 204) = sub_45DFAD;
  *(_DWORD *)(a1 + 208) = sub_45DE8D;
  *(_DWORD *)(a1 + 212) = sub_45DD35;
  *(_DWORD *)(a1 + 216) = sub_45E00A;
  *(_DWORD *)(a1 + 68) = sub_45DF27;
  *(_DWORD *)(a1 + 188) = sub_45DCB0;
  *(_DWORD *)(a1 + 192) = sub_45E053;
  *(_DWORD *)(a1 + 44) = sub_45F913;
  *(_DWORD *)(a1 + 108) = sub_45FDEE;
  *(_DWORD *)(a1 + 52) = sub_45FA1E;
  *(_DWORD *)(a1 + 112) = sub_45FB1E;
  *(_DWORD *)(a1 + 232) = sub_45F781;
  *(_DWORD *)(a1 + 276) = sub_45CD86;
  *(_DWORD *)(a1 + 236) = sub_45EC4D;
  *(_DWORD *)(a1 + 240) = sub_45EDDB;
  *(_DWORD *)(a1 + 244) = sub_45EF41;
  *(_DWORD *)(a1 + 248) = sub_45EA47;
  *(_DWORD *)(a1 + 252) = sub_45F45F;
  *(_DWORD *)(a1 + 256) = sub_45F28F;
  *(_DWORD *)(a1 + 260) = sub_45F051;
  *(_DWORD *)(a1 + 272) = sub_45F051;
  return result;
}

//----- (00452382) --------------------------------------------------------
int sub_452382()
{
  int *v25; // esi@3
  int *v26; // edi@3
  signed int v27; // ecx@3
  bool v28; // zf@5
  int v30; // [sp+Ch] [bp-28h]@1
  int v31; // [sp+10h] [bp-24h]@1
  int v32; // [sp+14h] [bp-20h]@1
  char v33; // [sp+18h] [bp-1Ch]@1
  int v34; // [sp+1Ch] [bp-18h]@1
  int v35; // [sp+20h] [bp-14h]@1
  int v36; // [sp+24h] [bp-10h]@1
  char v37; // [sp+28h] [bp-Ch]@1
  int v38; // [sp+2Ch] [bp-8h]@2
  int v39; // [sp+30h] [bp-4h]@1

  v34 = *(_DWORD *)"UnknownVendr";
  v35 = *(_DWORD *)"ownVendr";
  v36 = *(_DWORD *)"endr";
  v37 = aUnknownvendr[12];
  v30 = *(_DWORD *)"AuthenticAMD";
  v31 = *(_DWORD *)"enticAMD";
  v32 = *(_DWORD *)"cAMD";
  v33 = aAuthenticamd[12];
  _EAX = 0;
  __asm { cpuid }
  v39 = 1;
  _EAX = 0;
  __asm { cpuid }
  v34 = _EBX;
  v35 = _EDX;
  v36 = _ECX;
  if ( _EAX )
  {
    _EAX = 1;
    __asm { cpuid }
    v38 = _EAX;
    v39 |= ((_EDX & 0x2000000) != 0 ? 0x40 : 0) | ((_EDX & 0x800000) != 0 ? 0x20 : 0) | 2;
    _EAX = 2147483648;
    __asm { cpuid }
    if ( _EAX > 0x80000000 )
    {
      v39 |= 4u;
      _EAX = -2147483647;
      __asm { cpuid }
      v39 |= (_EDX & 0x80000000) != 0 ? 0x80 : 0;
      v25 = &v30;
      v26 = &v34;
      v27 = 12;
      do
      {
        if ( !v27 )
          break;
        v28 = *(_BYTE *)v25 == *(_BYTE *)v26;
        v25 = (int *)((char *)v25 + 1);
        v26 = (int *)((char *)v26 + 1);
        --v27;
      }
      while ( v28 );
      v39 |= (_EDX & 0x40000000) != 0 ? 0x100 : 0;
      v39 |= (_EDX & (unsigned int)&_ImageBase) != 0 ? 0x200 : 0;
    }
  }
  return v39;
}

//----- (00452466) --------------------------------------------------------
int __cdecl sub_452466(int a1)
{
  int result; // eax@1

  result = sub_452382();
  if ( result & 0x20 )
  {
    if ( (char)result < 0 )
    {
      *(_DWORD *)a1 = sub_46703B;
      *(_DWORD *)(a1 + 4) = sub_466287;
      *(_DWORD *)(a1 + 8) = sub_4672FC;
      *(_DWORD *)(a1 + 12) = sub_4624D7;
      *(_DWORD *)(a1 + 20) = sub_467090;
      *(_DWORD *)(a1 + 24) = sub_4662F8;
      *(_DWORD *)(a1 + 28) = sub_46635F;
      *(_DWORD *)(a1 + 32) = sub_46737E;
      *(_DWORD *)(a1 + 36) = sub_4670C9;
      *(_DWORD *)(a1 + 40) = sub_46683F;
      *(_DWORD *)(a1 + 44) = sub_462709;
      *(_DWORD *)(a1 + 48) = sub_467726;
      *(_DWORD *)(a1 + 52) = sub_467769;
      *(_DWORD *)(a1 + 56) = sub_466844;
      *(_DWORD *)(a1 + 60) = sub_4669CC;
      *(_DWORD *)(a1 + 64) = sub_4673DD;
      *(_DWORD *)(a1 + 68) = sub_46712D;
      *(_DWORD *)(a1 + 72) = sub_46626B;
      *(_DWORD *)(a1 + 76) = sub_460FFC;
      *(_DWORD *)(a1 + 80) = sub_461095;
      *(_DWORD *)(a1 + 84) = sub_46790B;
      *(_DWORD *)(a1 + 88) = sub_46784D;
      *(_DWORD *)(a1 + 92) = sub_4610F2;
      *(_DWORD *)(a1 + 96) = sub_461136;
      *(_DWORD *)(a1 + 100) = sub_461567;
      *(_DWORD *)(a1 + 104) = sub_4627D8;
      *(_DWORD *)(a1 + 108) = sub_462828;
      *(_DWORD *)(a1 + 112) = sub_462913;
      *(_DWORD *)(a1 + 116) = sub_46162C;
      *(_DWORD *)(a1 + 120) = sub_4629EF;
      *(_DWORD *)(a1 + 124) = sub_462A52;
      *(_DWORD *)(a1 + 128) = sub_462AB0;
      *(_DWORD *)(a1 + 132) = sub_462B09;
      *(_DWORD *)(a1 + 136) = sub_46796F;
      *(_DWORD *)(a1 + 140) = sub_461698;
      *(_DWORD *)(a1 + 144) = sub_4617CF;
      *(_DWORD *)(a1 + 148) = sub_462B50;
      *(_DWORD *)(a1 + 152) = sub_462BF8;
      *(_DWORD *)(a1 + 156) = sub_462D7F;
      *(_DWORD *)(a1 + 160) = sub_463F17;
      *(_DWORD *)(a1 + 164) = sub_4640BC;
      *(_DWORD *)(a1 + 168) = sub_4645F0;
      *(_DWORD *)(a1 + 172) = sub_46185C;
      *(_DWORD *)(a1 + 176) = sub_4618EE;
      *(_DWORD *)(a1 + 216) = sub_46750F;
      *(_DWORD *)(a1 + 204) = sub_4663BE;
      *(_DWORD *)(a1 + 192) = sub_4671C5;
      *(_DWORD *)(a1 + 184) = sub_46720E;
      *(_DWORD *)(a1 + 208) = sub_467580;
      *(_DWORD *)(a1 + 196) = sub_46642F;
      *(_DWORD *)(a1 + 220) = sub_461952;
      *(_DWORD *)(a1 + 224) = sub_4619F9;
      *(_DWORD *)(a1 + 212) = sub_467648;
      *(_DWORD *)(a1 + 188) = sub_467251;
      *(_DWORD *)(a1 + 200) = sub_466503;
      *(_DWORD *)(a1 + 16) = sub_465B3F;
      *(_DWORD *)(a1 + 180) = sub_461A9E;
      *(_DWORD *)(a1 + 232) = sub_466D80;
      *(_DWORD *)(a1 + 228) = sub_466EC0;
      if ( BYTE1(result) & 1 )
      {
        if ( BYTE1(result) & 2 )
        {
          *(_DWORD *)(a1 + 60) = sub_466BF2;
          *(_DWORD *)(a1 + 72) = sub_46585D;
          *(_DWORD *)(a1 + 152) = sub_462CCA;
          *(_DWORD *)(a1 + 156) = sub_464709;
          *(_DWORD *)(a1 + 96) = sub_461352;
        }
      }
    }
  }
  if ( result & 0x40 )
  {
    *(_DWORD *)(a1 + 248) = sub_4609C0;
    *(_DWORD *)(a1 + 252) = sub_460A60;
    *(_DWORD *)(a1 + 256) = sub_460D80;
    *(_DWORD *)(a1 + 236) = sub_460340;
    *(_DWORD *)(a1 + 240) = sub_4605A0;
    *(_DWORD *)(a1 + 244) = sub_460800;
    *(_DWORD *)(a1 + 260) = sub_460280;
    *(_DWORD *)(a1 + 272) = sub_4601C0;
  }
  return result;
}
// 461567: using guessed type int __stdcall sub_461567(int, int, int, int);
// 466287: using guessed type int __stdcall sub_466287(int, int, int);
// 46683F: using guessed type _DWORD __stdcall sub_46683F(_DWORD, _DWORD, _DWORD);
// 4672FC: using guessed type int __stdcall sub_4672FC(int, int, int);
// 46737E: using guessed type int __stdcall sub_46737E(int, int);
// 467726: using guessed type int __stdcall sub_467726(int, int, int);
// 467769: using guessed type int __stdcall sub_467769(int, int, int, int);
// 46784D: using guessed type int __stdcall sub_46784D(int, int, int, int);

//----- (00452700) --------------------------------------------------------
int __stdcall sub_452700(int a1, signed int a2)
{
  return (a1 + a2 - 1) / a2;
}

//----- (00452720) --------------------------------------------------------
int __stdcall sub_452720(int a1, signed int a2)
{
  return a1 + a2 - 1 - (a1 + a2 - 1) % a2;
}

//----- (00452740) --------------------------------------------------------
const void **__stdcall sub_452740(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // ebx@1
  const void **result; // eax@1
  void **v8; // edx@1

  v6 = a5;
  result = (const void **)(a1 + 4 * a2);
  v8 = (void **)(a3 + 4 * a4);
  if ( a5 > 0 )
  {
    do
    {
      qmemcpy(*v8, *result, a6);
      ++result;
      ++v8;
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (00452790) --------------------------------------------------------
int __stdcall sub_452790(const void *a1, void *a2, int a3)
{
  int result; // eax@1

  result = a3 << 7;
  qmemcpy(a2, a1, a3 << 7);
  return result;
}

//----- (004527C0) --------------------------------------------------------
int __stdcall sub_4527C0(void *a1, unsigned int a2)
{
  int result; // eax@1

  result = 0;
  memset(a1, 0, a2);
  return result;
}

//----- (004527E0) --------------------------------------------------------
signed int __stdcall sub_4527E0(int a1)
{
  int v1; // ecx@2
  signed int result; // eax@3

  if ( a1 && (v1 = *(_DWORD *)(a1 + 28)) != 0 )
  {
    *(_DWORD *)(a1 + 20) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 24) = 0;
    *(_DWORD *)v1 = *(_DWORD *)(v1 + 12) != 0 ? 7 : 0;
    sub_4679ED(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, 0);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0045281F) --------------------------------------------------------
signed int __stdcall sub_45281F(int a1)
{
  int v1; // eax@2
  signed int result; // eax@6

  if ( a1 && (v1 = *(_DWORD *)(a1 + 28)) != 0 && *(_DWORD *)(a1 + 36) )
  {
    if ( *(_DWORD *)(v1 + 20) )
      sub_46821D(*(_DWORD *)(v1 + 20), a1);
    (*(void (__stdcall **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), *(_DWORD *)(a1 + 28));
    *(_DWORD *)(a1 + 28) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0045285C) --------------------------------------------------------
signed int __stdcall sub_45285C(int a1, int a2, _BYTE *a3, int a4)
{
  bool v4; // zf@6
  int v5; // eax@10
  int v6; // ecx@12
  signed int v7; // edi@18
  signed int v9; // [sp-4h] [bp-10h]@5
  signed int v10; // [sp-4h] [bp-10h]@17

  if ( a3 && *a3 == 49 && a4 == 56 )
  {
    if ( a1 )
    {
      v4 = *(_DWORD *)(a1 + 32) == 0;
      *(_DWORD *)(a1 + 24) = 0;
      if ( v4 )
      {
        *(_DWORD *)(a1 + 32) = sub_46836B;
        *(_DWORD *)(a1 + 40) = 0;
      }
      if ( !*(_DWORD *)(a1 + 36) )
        *(_DWORD *)(a1 + 36) = sub_468387;
      v5 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 24);
      *(_DWORD *)(a1 + 28) = v5;
      if ( v5 )
      {
        v6 = a2;
        *(_DWORD *)(v5 + 20) = 0;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) = 0;
        if ( a2 < 0 )
        {
          v6 = -a2;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) = 1;
        }
        if ( v6 < 8 || v6 > 15 )
        {
          v10 = -2;
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 16) = v6;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) = sub_467A53(
                                                     a1,
                                                     *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) == 0 ? (unsigned int)sub_468250 : 0,
                                                     1 << v6);
          if ( *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) )
          {
            sub_4527E0(a1);
            return 0;
          }
          v10 = -4;
        }
        v7 = v10;
        sub_45281F(a1);
        return v7;
      }
      v9 = -4;
    }
    else
    {
      v9 = -2;
    }
  }
  else
  {
    v9 = -6;
  }
  return v9;
}

//----- (0045293B) --------------------------------------------------------
signed int __stdcall sub_45293B(int a1, _BYTE *a2, int a3)
{
  return sub_45285C(a1, 15, a2, a3);
}

//----- (00452951) --------------------------------------------------------
signed int __stdcall sub_452951(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int *v3; // eax@2
  int v4; // edi@4
  int v5; // eax@8
  int v6; // ecx@9
  int v7; // eax@9
  int v8; // eax@14
  int v9; // ecx@15
  int v10; // ebx@15
  bool v11; // zf@17
  int v12; // eax@19
  int v13; // eax@24
  int v14; // eax@27
  int v15; // ecx@28
  _DWORD *v16; // eax@28
  int v17; // eax@29
  _BYTE *v18; // ecx@30
  _DWORD *v19; // eax@30
  int v20; // eax@31
  _BYTE *v21; // ecx@32
  _DWORD *v22; // eax@32
  int v23; // eax@33
  _BYTE *v24; // ecx@34
  int v25; // eax@34
  unsigned int v26; // eax@38
  int v28; // eax@44
  int v29; // ecx@45
  _DWORD *v30; // eax@45
  int v31; // eax@46
  _BYTE *v32; // ecx@47
  _DWORD *v33; // eax@47
  int v34; // eax@48
  _BYTE *v35; // ecx@49
  _DWORD *v36; // eax@49
  int v37; // eax@50
  _BYTE *v38; // ecx@51
  int v39; // eax@51
  int v40; // eax@52
  signed int v42; // [sp+18h] [bp+8h]@6

  v2 = 0;
  if ( !a1 )
    return -2;
  v3 = *(unsigned int **)(a1 + 28);
  if ( !v3 || !*(_DWORD *)a1 )
    return -2;
  v4 = -5;
  if ( a2 == 4 )
    v2 = -5;
  v42 = v2;
  while ( 1 )
  {
    v26 = *v3;
    if ( v26 > 0xD )
      return -2;
    switch ( v26 )
    {
      case 0u:
        v5 = *(_DWORD *)(a1 + 4);
        if ( !v5 )
          return v4;
        v6 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v5 - 1;
        *(_DWORD *)(v6 + 4) = **(_BYTE **)a1;
        v7 = *(_DWORD *)(a1 + 28);
        LOBYTE(v6) = *(_DWORD *)(v7 + 4) & 0xF;
        ++*(_DWORD *)a1;
        v4 = v2;
        if ( (_BYTE)v6 == 8 )
        {
          if ( (unsigned int)((*(_DWORD *)(v7 + 4) >> 4) + 8) <= *(_DWORD *)(v7 + 16) )
          {
            *(_DWORD *)v7 = 1;
LABEL_14:
            v8 = *(_DWORD *)(a1 + 4);
            if ( !v8 )
              return v4;
            v9 = *(_DWORD *)(a1 + 28);
            ++*(_DWORD *)(a1 + 8);
            *(_DWORD *)(a1 + 4) = v8 - 1;
            v4 = v2;
            v10 = *(_BYTE *)(*(_DWORD *)a1)++;
            if ( !((v10 + (*(_DWORD *)(v9 + 4) << 8)) % 0x1Fu) )
            {
              v11 = (v10 & 0x20) == 0;
              v2 = v42;
              if ( v11 )
              {
                *(_DWORD *)v9 = 7;
                goto LABEL_37;
              }
              **(_DWORD **)(a1 + 28) = 2;
LABEL_44:
              v28 = *(_DWORD *)(a1 + 4);
              if ( !v28 )
                return v4;
              v29 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v28 - 1;
              *(_DWORD *)(v29 + 8) = **(_BYTE **)a1 << 24;
              v30 = *(_DWORD **)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *v30 = 3;
LABEL_46:
              v31 = *(_DWORD *)(a1 + 4);
              if ( !v31 )
                return v4;
              v32 = *(_BYTE **)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v31 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v32 << 16;
              v33 = *(_DWORD **)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *v33 = 4;
LABEL_48:
              v34 = *(_DWORD *)(a1 + 4);
              if ( !v34 )
                return v4;
              v35 = *(_BYTE **)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v34 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v35 << 8;
              v36 = *(_DWORD **)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *v36 = 5;
LABEL_50:
              v37 = *(_DWORD *)(a1 + 4);
              if ( !v37 )
                return v4;
              v38 = *(_BYTE **)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v37 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v38;
              v39 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)a1;
              *(_DWORD *)(a1 + 48) = *(_DWORD *)(v39 + 8);
              *(_DWORD *)v39 = 6;
              return 2;
            }
            v2 = v42;
            *(_DWORD *)v9 = 13;
            *(_DWORD *)(a1 + 24) = "incorrect header check";
          }
          else
          {
            *(_DWORD *)v7 = 13;
            *(_DWORD *)(a1 + 24) = "invalid window size";
          }
        }
        else
        {
          *(_DWORD *)v7 = 13;
          *(_DWORD *)(a1 + 24) = "unknown compression method";
        }
LABEL_36:
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 4) = 5;
LABEL_37:
        v3 = *(unsigned int **)(a1 + 28);
        break;
      case 1u:
        goto LABEL_14;
      case 2u:
        goto LABEL_44;
      case 3u:
        goto LABEL_46;
      case 4u:
        goto LABEL_48;
      case 5u:
        goto LABEL_50;
      case 6u:
        **(_DWORD **)(a1 + 28) = 13;
        v40 = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 24) = "need dictionary";
        *(_DWORD *)(v40 + 4) = 0;
        return -2;
      case 7u:
        v12 = sub_467AD1(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, v4);
        v4 = v12;
        if ( v12 == -3 )
        {
          **(_DWORD **)(a1 + 28) = 13;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 4) = 0;
          goto LABEL_37;
        }
        if ( !v12 )
          v4 = v2;
        if ( v4 != 1 )
          return v4;
        v4 = v2;
        sub_4679ED(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, (_DWORD *)(*(_DWORD *)(a1 + 28) + 4));
        v13 = *(_DWORD *)(a1 + 28);
        if ( *(_DWORD *)(v13 + 12) )
        {
          *(_DWORD *)v13 = 12;
          goto LABEL_37;
        }
        *(_DWORD *)v13 = 8;
LABEL_27:
        v14 = *(_DWORD *)(a1 + 4);
        if ( !v14 )
          return v4;
        v15 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v14 - 1;
        *(_DWORD *)(v15 + 8) = **(_BYTE **)a1 << 24;
        v16 = *(_DWORD **)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *v16 = 9;
LABEL_29:
        v17 = *(_DWORD *)(a1 + 4);
        if ( !v17 )
          return v4;
        v18 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v17 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v18 << 16;
        v19 = *(_DWORD **)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *v19 = 10;
LABEL_31:
        v20 = *(_DWORD *)(a1 + 4);
        if ( !v20 )
          return v4;
        v21 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v20 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v21 << 8;
        v22 = *(_DWORD **)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *v22 = 11;
LABEL_33:
        v23 = *(_DWORD *)(a1 + 4);
        if ( !v23 )
          return v4;
        v24 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v23 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v24;
        v25 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        if ( *(_DWORD *)(v25 + 4) != *(_DWORD *)(v25 + 8) )
        {
          *(_DWORD *)v25 = 13;
          *(_DWORD *)(a1 + 24) = "incorrect data check";
          goto LABEL_36;
        }
        **(_DWORD **)(a1 + 28) = 12;
        return 1;
      case 8u:
        goto LABEL_27;
      case 9u:
        goto LABEL_29;
      case 0xAu:
        goto LABEL_31;
      case 0xBu:
        goto LABEL_33;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
    }
  }
}

//----- (00452CB4) --------------------------------------------------------
void *__stdcall sub_452CB4(int a1)
{
  size_t v1; // esi@2
  void *v2; // edx@5

  if ( a1 == 2 )
  {
    v1 = 64;
  }
  else
  {
    if ( a1 != 1 )
      return 0;
    v1 = 412;
  }
  v2 = malloc(v1);
  if ( v2 )
    memset(v2, 0, v1);
  return v2;
}

//----- (00452CF8) --------------------------------------------------------
void __stdcall sub_452CF8(void *a1)
{
  if ( a1 )
    free(a1);
}

//----- (00452D0C) --------------------------------------------------------
void *__stdcall sub_452D0C(int *__attribute__((__org_typedef(jmp_buf))) a1, size_t a2)
{
  void *result; // eax@3

  if ( a1 && a2 )
  {
    result = malloc(a2);
    if ( !result )
      sub_44AD95(a1, (int)"Out of Memory");
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00452D43) --------------------------------------------------------
void __stdcall sub_452D43(int a1, void *a2)
{
  if ( a1 )
  {
    if ( a2 )
      free(a2);
  }
}

//----- (00452D5E) --------------------------------------------------------
void *__stdcall sub_452D5E(int a1, void *a2, const void *a3, unsigned int a4)
{
  qmemcpy(a2, a3, a4);
  return a2;
}

//----- (00452D83) --------------------------------------------------------
void *__userpurge sub_452D83@<eax>(int a1@<ebx>, int a2, void *a3, char a4, unsigned int a5)
{
  int v5; // eax@1

  LOBYTE(a1) = a4;
  BYTE1(a1) = a4;
  v5 = a1 << 16;
  LOWORD(v5) = a1;
  memset32(a3, v5, a5 >> 2);
  memset((char *)a3 + 4 * (a5 >> 2), a4, a5 & 3);
  return a3;
}

//----- (00452DB6) --------------------------------------------------------
int __stdcall sub_452DB6(int a1)
{
  return *(_BYTE *)(a1 + 3) + ((*(_BYTE *)(a1 + 2) + ((*(_BYTE *)(a1 + 1) + (*(_BYTE *)a1 << 8)) << 8)) << 8);
}

//----- (00452DDB) --------------------------------------------------------
int *__attribute__((__org_typedef(jmp_buf))) __cdecl sub_452DDB(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) result; // eax@1

  sub_44D0C9(a1, a2, a3);
  result = a1;
  if ( !(*((_BYTE *)a1 + 268) & 0x20) )
  {
    if ( *((_BYTE *)a1 + 93) & 8 )
      return result;
    goto LABEL_5;
  }
  if ( (a1[23] & 0x300) != 768 )
  {
LABEL_5:
    result = (int *__attribute__((__org_typedef(jmp_buf))) )sub_454042(a1[64], (_BYTE *)a2, a3);
    a1[64] = (int)result;
  }
  return result;
}

//----- (00452DF2) --------------------------------------------------------
int __stdcall sub_452DF2(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  int *__attribute__((__org_typedef(jmp_buf))) v1; // esi@1
  signed int v2; // edi@1
  int result; // eax@7

  v1 = a1;
  v2 = 1;
  if ( *((_BYTE *)a1 + 268) & 0x20 )
  {
    if ( (a1[23] & 0x300) != 768 )
      goto LABEL_6;
  }
  else if ( !(*((_BYTE *)a1 + 93) & 8) )
  {
    goto LABEL_6;
  }
  v2 = 0;
LABEL_6:
  sub_44D0C9(a1, (int)&a1, 4);
  if ( v2 )
    result = sub_452DB6((int)&a1) != v1[64];
  else
    result = 0;
  return result;
}

//----- (00452E4E) --------------------------------------------------------
unsigned __int8 __stdcall sub_452E4E(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  unsigned __int8 v2; // al@1
  unsigned __int8 v3; // al@5
  unsigned __int8 v4; // al@9
  unsigned __int8 result; // al@13

  v2 = *(_BYTE *)a2;
  if ( *(_BYTE *)a2 < 0x29u
    || v2 > 0x7Au
    || v2 > 0x5Au && v2 < 0x61u
    || (v3 = *(_BYTE *)(a2 + 1), v3 < 0x29u)
    || v3 > 0x7Au
    || v3 > 0x5Au && v3 < 0x61u
    || (v4 = *(_BYTE *)(a2 + 2), v4 < 0x29u)
    || v4 > 0x7Au
    || v4 > 0x5Au && v4 < 0x61u
    || (result = *(_BYTE *)(a2 + 3), result < 0x29u)
    || result > 0x7Au
    || result > 0x5Au && result < 0x61u )
  {
    sub_44ADCA(a1, (int)"invalid chunk type");
  }
  return result;
}

//----- (00452EB0) --------------------------------------------------------
char __stdcall sub_452EB0(int a1, void *a2, int a3)
{
  unsigned int v3; // ecx@1
  unsigned int v4; // eax@2
  char *v5; // ebx@6
  char *v6; // edx@6
  _BYTE *v7; // edi@15
  _BYTE *v8; // esi@15
  signed int v9; // edx@15
  _BYTE *v10; // edi@27
  _BYTE *v11; // esi@27
  signed int v12; // edx@27
  _BYTE *v13; // edi@39
  _BYTE *v14; // esi@39
  signed int v15; // edx@39
  unsigned int v17; // [sp+8h] [bp-4h]@7
  unsigned int v18; // [sp+14h] [bp+8h]@6
  int v19; // [sp+14h] [bp+8h]@16
  int v20; // [sp+14h] [bp+8h]@28
  int v21; // [sp+14h] [bp+8h]@40
  signed int v22; // [sp+18h] [bp+Ch]@15
  signed int v23; // [sp+18h] [bp+Ch]@27
  signed int v24; // [sp+18h] [bp+Ch]@39
  unsigned __int8 v25; // [sp+1Bh] [bp+Fh]@6

  v3 = *(_BYTE *)(a1 + 251);
  if ( a3 == 255 )
  {
    v4 = (*(_DWORD *)(a1 + 184) * v3 + 7) >> 3;
    qmemcpy(a2, (const void *)(*(_DWORD *)(a1 + 220) + 1), 4 * ((*(_DWORD *)(a1 + 184) * v3 + 7) >> 5) + (v4 & 3));
  }
  else
  {
    switch ( v3 )
    {
      case 1u:
        v4 = *(_DWORD *)(a1 + 184);
        v13 = a2;
        v14 = (_BYTE *)(*(_DWORD *)(a1 + 220) + 1);
        v24 = 128;
        v15 = 7;
        if ( v4 )
        {
          v21 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v24 )
            {
              LOBYTE(v4) = (((unsigned int)*v14 >> v15) & 1) << v15;
              *v13 = v4 | *v13 & (32639 >> (7 - v15));
            }
            if ( v15 )
            {
              --v15;
            }
            else
            {
              ++v14;
              v15 = 7;
              ++v13;
            }
            if ( v24 == 1 )
              v24 = 128;
            else
              v24 >>= 1;
            --v21;
          }
          while ( v21 );
        }
        break;
      case 2u:
        v4 = *(_DWORD *)(a1 + 184);
        v10 = a2;
        v11 = (_BYTE *)(*(_DWORD *)(a1 + 220) + 1);
        v23 = 128;
        v12 = 6;
        if ( v4 )
        {
          v20 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v23 )
            {
              LOBYTE(v4) = (((unsigned int)*v11 >> v12) & 3) << v12;
              *v10 = v4 | *v10 & (16191 >> (6 - v12));
            }
            if ( v12 )
            {
              v12 -= 2;
            }
            else
            {
              ++v11;
              v12 = 6;
              ++v10;
            }
            if ( v23 == 1 )
              v23 = 128;
            else
              v23 >>= 1;
            --v20;
          }
          while ( v20 );
        }
        break;
      case 4u:
        v4 = *(_DWORD *)(a1 + 184);
        v7 = a2;
        v8 = (_BYTE *)(*(_DWORD *)(a1 + 220) + 1);
        v22 = 128;
        v9 = 4;
        if ( v4 )
        {
          v19 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v22 )
            {
              LOBYTE(v4) = (((unsigned int)*v8 >> v9) & 0xF) << v9;
              *v7 = v4 | *v7 & (3855 >> (4 - v9));
            }
            if ( v9 )
            {
              v9 -= 4;
            }
            else
            {
              ++v8;
              v9 = 4;
              ++v7;
            }
            if ( v22 == 1 )
              v22 = 128;
            else
              v22 >>= 1;
            --v19;
          }
          while ( v19 );
        }
        break;
      default:
        v4 = *(_DWORD *)(a1 + 184);
        v5 = (char *)a2;
        v6 = (char *)(*(_DWORD *)(a1 + 220) + 1);
        v18 = v3 >> 3;
        v25 = -128;
        if ( v4 )
        {
          v17 = v4;
          do
          {
            LOBYTE(v4) = a3;
            if ( (unsigned __int8)a3 & v25 )
            {
              v4 = v3 >> 3;
              qmemcpy(v5, v6, v18);
            }
            v6 += v18;
            v5 += v18;
            if ( v25 == 1 )
              v25 = -128;
            else
              v25 >>= 1;
            --v17;
          }
          while ( v17 );
        }
        break;
    }
  }
  return v4;
}

//----- (004530C6) --------------------------------------------------------
void __stdcall sub_4530C6(int a1, int a2, int a3, int a4)
{
  int v4; // eax@3
  int v5; // edx@3
  unsigned int v6; // esi@3
  unsigned int v7; // esi@6
  char *v8; // ebx@6
  char *v9; // edi@9
  unsigned __int8 *v10; // edi@12
  _BYTE *v11; // esi@12
  char v12; // al@13
  unsigned __int8 *v13; // edi@25
  _BYTE *v14; // esi@25
  char v15; // al@26
  unsigned __int8 *v16; // edi@38
  _BYTE *v17; // esi@38
  char v18; // al@39
  unsigned int v19; // ecx@50
  char v20; // [sp+0h] [bp-14h]@7
  int v21; // [sp+4h] [bp-10h]@14
  unsigned int v22; // [sp+8h] [bp-Ch]@8
  int v23; // [sp+Ch] [bp-8h]@3
  int v24; // [sp+10h] [bp-4h]@6
  int v25; // [sp+20h] [bp+Ch]@6
  char v26; // [sp+23h] [bp+Fh]@13
  char v27; // [sp+23h] [bp+Fh]@26
  char v28; // [sp+23h] [bp+Fh]@39
  int v29; // [sp+24h] [bp+10h]@12
  int v30; // [sp+24h] [bp+10h]@25
  int v31; // [sp+24h] [bp+10h]@38

  if ( a2 && a1 )
  {
    v4 = *(_DWORD *)a1;
    v5 = dword_4BB938[a3] * *(_DWORD *)a1;
    v23 = dword_4BB938[a3];
    v6 = *(_BYTE *)(a1 + 11);
    if ( v6 == 1 )
    {
      v22 = 0;
      v16 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 3));
      v17 = (_BYTE *)(a2 + ((unsigned int)(v5 - 1) >> 3));
      v24 = 7 - (((_BYTE)v4 - 1) & 7);
      v31 = 7 - (((_BYTE)v5 - 1) & 7);
      if ( v4 )
      {
        do
        {
          v18 = (*v16 >> v24) & 1;
          v28 = (*v16 >> v24) & 1;
          if ( v23 > 0 )
          {
            v21 = v23;
            while ( 1 )
            {
              *v17 = (v18 << v31) | *v17 & (32639 >> (7 - v31));
              if ( v31 == 7 )
              {
                v31 = 0;
                --v17;
              }
              else
              {
                ++v31;
              }
              if ( !--v21 )
                break;
              v18 = v28;
            }
          }
          if ( v24 == 7 )
          {
            v24 = 0;
            --v16;
          }
          else
          {
            ++v24;
          }
          ++v22;
        }
        while ( v22 < *(_DWORD *)a1 );
      }
    }
    else if ( *(_BYTE *)(a1 + 11) == 2 )
    {
      v22 = 0;
      v13 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 2));
      v14 = (_BYTE *)(a2 + ((unsigned int)(v5 - 1) >> 2));
      v24 = 2 * (3 - (((_BYTE)v4 - 1) & 3));
      v30 = 2 * (3 - (((_BYTE)v5 - 1) & 3));
      if ( v4 )
      {
        do
        {
          v15 = (*v13 >> v24) & 3;
          v27 = (*v13 >> v24) & 3;
          if ( v23 > 0 )
          {
            v21 = v23;
            while ( 1 )
            {
              *v14 = (v15 << v30) | *v14 & (16191 >> (6 - v30));
              if ( v30 == 6 )
              {
                v30 = 0;
                --v14;
              }
              else
              {
                v30 += 2;
              }
              if ( !--v21 )
                break;
              v15 = v27;
            }
          }
          if ( v24 == 6 )
          {
            v24 = 0;
            --v13;
          }
          else
          {
            v24 += 2;
          }
          ++v22;
        }
        while ( v22 < *(_DWORD *)a1 );
      }
    }
    else if ( *(_BYTE *)(a1 + 11) == 4 )
    {
      v22 = 0;
      v10 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 1));
      v11 = (_BYTE *)(a2 + ((unsigned int)(v5 - 1) >> 1));
      v24 = 4 - 4 * (((_BYTE)v4 - 1) & 1);
      v29 = 4 - 4 * (((_BYTE)v5 - 1) & 1);
      if ( v4 )
      {
        do
        {
          v12 = (*v10 >> v24) & 0xF;
          v26 = (*v10 >> v24) & 0xF;
          if ( v23 > 0 )
          {
            v21 = v23;
            while ( 1 )
            {
              *v11 = (v12 << v29) | *v11 & (3855 >> (4 - v29));
              if ( v29 == 4 )
              {
                v29 = 0;
                --v11;
              }
              else
              {
                v29 += 4;
              }
              if ( !--v21 )
                break;
              v12 = v26;
            }
          }
          if ( v24 == 4 )
          {
            v24 = 0;
            --v10;
          }
          else
          {
            v24 += 4;
          }
          ++v22;
        }
        while ( v22 < *(_DWORD *)a1 );
      }
    }
    else
    {
      v24 = 0;
      v7 = v6 >> 3;
      v8 = (char *)(a2 + v7 * (v4 - 1));
      v25 = a2 + v7 * (v5 - 1);
      if ( v4 )
      {
        do
        {
          qmemcpy(&v20, v8, v7);
          if ( v23 > 0 )
          {
            v22 = v23;
            do
            {
              v9 = (char *)v25;
              v25 -= v7;
              qmemcpy(v9, &v20, v7);
              --v22;
            }
            while ( v22 );
          }
          v8 -= v7;
          ++v24;
        }
        while ( (unsigned int)v24 < *(_DWORD *)a1 );
      }
    }
    v19 = (v5 * (unsigned int)*(_BYTE *)(a1 + 11) + 7) >> 3;
    *(_DWORD *)a1 = v5;
    *(_DWORD *)(a1 + 4) = v19;
  }
}
// 4BB938: using guessed type int dword_4BB938[];

//----- (00453391) --------------------------------------------------------
char __stdcall sub_453391(int a1, int a2, _BYTE *a3, unsigned __int8 *a4, int a5)
{
  _BYTE *v5; // eax@1
  _BYTE *v6; // edx@7
  unsigned __int8 *v7; // edi@7
  int v8; // ecx@7
  int v9; // esi@8
  int v10; // ecx@13
  int v11; // eax@13
  int v12; // esi@13
  int v13; // eax@13
  int v14; // edx@13
  int v15; // ebx@16
  int v16; // eax@18
  bool v17; // zf@24
  _BYTE *v18; // esi@26
  unsigned __int8 *v19; // edi@26
  int v20; // ecx@26
  _BYTE *i; // ebx@26
  __int64 v22; // rax@29
  unsigned int v23; // esi@31
  unsigned int v24; // ecx@31
  unsigned int v25; // ecx@34
  _BYTE *v26; // esi@34
  _BYTE *v27; // edx@35
  int v28; // ecx@35
  char v30; // [sp+8h] [bp-4h]@13
  int v31; // [sp+14h] [bp+8h]@12
  int v32; // [sp+18h] [bp+Ch]@14
  _BYTE *v33; // [sp+24h] [bp+18h]@7

  LOBYTE(v5) = a5;
  if ( a5 )
  {
    switch ( a5 )
    {
      case 1:
        v25 = *(_DWORD *)(a2 + 4);
        v5 = (_BYTE *)((*(_BYTE *)(a2 + 11) + 7) >> 3);
        v26 = &a3[(_DWORD)v5];
        if ( (unsigned int)v5 < v25 )
        {
          v27 = a3;
          v28 = v25 - (_DWORD)v5;
          do
          {
            LOBYTE(v5) = *v27;
            *v26++ += *v27++;
            --v28;
          }
          while ( v28 );
        }
        break;
      case 2:
        v23 = *(_DWORD *)(a2 + 4);
        v5 = a3;
        v24 = 0;
        if ( v23 )
        {
          do
            *v5++ += a4[v24++];
          while ( v24 < v23 );
        }
        break;
      case 3:
        v18 = a3;
        v19 = a4;
        v5 = (_BYTE *)((*(_BYTE *)(a2 + 11) + 7) >> 3);
        v20 = *(_DWORD *)(a2 + 4) - (_DWORD)v5;
        for ( i = a3; v5; --v5 )
          *v18++ += *v19++ >> 1;
        for ( ; v20; --v20 )
        {
          v22 = *v19 + *i;
          v5 = (_BYTE *)(((signed int)v22 - HIDWORD(v22)) >> 1);
          *v18 += (_BYTE)v5;
          ++i;
          ++v19;
          ++v18;
        }
        break;
      case 4:
        v6 = a3;
        v7 = a4;
        v5 = (_BYTE *)((*(_BYTE *)(a2 + 11) + 7) >> 3);
        v8 = *(_DWORD *)(a2 + 4) - (_DWORD)v5;
        v33 = a3;
        if ( v5 )
        {
          v9 = (*(_BYTE *)(a2 + 11) + 7) >> 3;
          do
          {
            LOBYTE(v5) = *v7;
            *v6++ += *v7++;
            --v9;
          }
          while ( v9 );
          v33 = v6;
        }
        if ( v8 )
        {
          v31 = v8;
          do
          {
            v10 = *a3;
            v11 = *v7;
            v12 = *a4;
            ++a3;
            v30 = *v7++;
            ++a4;
            v13 = v11 - v12;
            v14 = v10 - v12;
            if ( v13 >= 0 )
              v32 = v13;
            else
              v32 = -v13;
            v15 = v10 - v12;
            if ( v14 < 0 )
              v15 = -v14;
            v16 = v14 + v13;
            if ( v16 < 0 )
              v16 = -v16;
            if ( v32 > v15 || v32 > v16 )
            {
              LOBYTE(v10) = v30;
              if ( v15 > v16 )
                LOBYTE(v10) = v12;
            }
            *v33 += v10;
            LOBYTE(v5) = (_BYTE)v33 + 1;
            v17 = v31-- == 1;
            ++v33;
          }
          while ( !v17 );
        }
        break;
      default:
        sub_44ADB3(a1, (int)"Ignoring bad adaptive filter type");
        LOBYTE(v5) = (_BYTE)a3;
        *a3 = 0;
        break;
    }
  }
  return (unsigned int)v5;
}

//----- (0045350A) --------------------------------------------------------
void *__userpurge sub_45350A@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2)
{
  unsigned int v2; // eax@1
  int v3; // edi@4
  int v4; // eax@4
  unsigned int v5; // ecx@4
  int v6; // eax@4
  unsigned int v7; // ett@4
  unsigned int v8; // ecx@4
  int v9; // eax@5
  int v10; // eax@6
  int v11; // ebx@6
  char v12; // cl@10
  bool v13; // sf@20
  int v14; // ebx@20
  char v15; // cl@21
  int v16; // ecx@24
  unsigned int v17; // ecx@24
  int v18; // ecx@26
  void *v19; // eax@28
  unsigned int v20; // ST0C_4@28
  void *result; // eax@28
  int v22; // [sp-4h] [bp-Ch]@6

  a2[26] = 0;
  sub_44CC98(a2);
  v2 = a2[47];
  if ( *((_BYTE *)a2 + 275) )
  {
    if ( !(*((_BYTE *)a2 + 96) & 2) )
      v2 = (v2 + 7) >> 3;
    v3 = a2[46];
    a2[48] = v2;
    v4 = *((_BYTE *)a2 + 276);
    v5 = dword_4BB938[v4];
    v7 = v3 - dword_4BB91C[v4] + v5 - 1;
    v6 = v7 / v5;
    v8 = ((v7 / v5 * *((_BYTE *)a2 + 281) + 7) >> 3) + 1;
    a2[52] = v6;
    a2[51] = v8;
  }
  else
  {
    v3 = a2[46];
    a2[48] = v2;
    v9 = a2[50] + 1;
    a2[52] = v3;
    a2[51] = v9;
  }
  v10 = *((_BYTE *)a2 + 281);
  v22 = a1;
  v11 = a2[24];
  if ( v11 & 4 && *((_BYTE *)a2 + 279) < 8u )
    v10 = 8;
  if ( BYTE1(v11) & 0x10 )
  {
    v12 = *((_BYTE *)a2 + 278);
    if ( v12 == 3 )
    {
      v10 = 8 * (*((_WORD *)a2 + 133) != 0) + 24;
    }
    else if ( v12 )
    {
      if ( v12 == 2 && *((_WORD *)a2 + 133) )
        v10 = 4 * v10 / 3;
    }
    else
    {
      if ( v10 < 8 )
        v10 = 8;
      if ( *((_WORD *)a2 + 133) )
        v10 *= 2;
    }
  }
  v13 = SBYTE1(v11) < 0;
  v14 = v22;
  if ( v13 )
  {
    v15 = *((_BYTE *)a2 + 278);
    if ( v15 != 3 )
    {
      if ( v15 )
      {
        if ( v15 != 2 )
          goto LABEL_28;
        v18 = v10 < 32;
        LOBYTE(v18) = v10 > 32;
        v17 = ((v18 - 1) & 0xFFFFFFE0) + 64;
      }
      else
      {
        v16 = v10 < 8;
        LOBYTE(v16) = v10 > 8;
        v17 = ((v16 - 1) & 0xFFFFFFF0) + 32;
      }
      v10 = v17;
      goto LABEL_28;
    }
    v10 = 32;
  }
LABEL_28:
  a2[55] = (int)sub_452D0C(a2, ((v10 * ((v3 + 7) & 0xFFFFFFF8) + 7) >> 3) + ((v10 + 7) >> 3) + 1);
  v19 = sub_452D0C(a2, a2[50] + 1);
  v20 = a2[50] + 1;
  a2[54] = (int)v19;
  result = sub_452D83(v14, (int)a2, v19, 0, v20);
  a2[23] |= 0x40u;
  return result;
}
// 45350A: could not find valid save-restore pair for ebx
// 4BB91C: using guessed type int dword_4BB91C[];
// 4BB938: using guessed type int dword_4BB938[];

//----- (004536A4) --------------------------------------------------------
int __stdcall sub_4536A4(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  unsigned int v2; // ebx@1
  unsigned int i; // edi@1
  int result; // eax@11

  v2 = a2;
  for ( i = a1[40]; v2 > i; v2 -= i )
    sub_452DDB(a1, a1[39], a1[40]);
  if ( v2 )
    sub_452DDB(a1, a1[39], v2);
  if ( sub_452DF2(a1) )
  {
    if ( (!(*((_BYTE *)a1 + 268) & 0x20) || *((_BYTE *)a1 + 93) & 2)
      && (*((_BYTE *)a1 + 268) & 0x20 || !(*((_BYTE *)a1 + 93) & 4)) )
    {
      sub_44ADCA(a1, (int)"CRC error");
    }
    sub_44ADEE((int)a1, "CRC error");
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00453729) --------------------------------------------------------
void __stdcall sub_453729(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  unsigned int v4; // edi@5
  unsigned int v5; // eax@5
  char v6; // bl@5
  char v7; // ST20_1@42
  unsigned __int8 v8; // al@42
  char v9; // ST1C_1@42
  char v10; // ST18_1@42
  int v11; // [sp+Ch] [bp-1Ch]@5
  char v12; // [sp+10h] [bp-18h]@5
  unsigned __int8 v13; // [sp+14h] [bp-14h]@5
  unsigned __int8 v14; // [sp+15h] [bp-13h]@5
  unsigned __int8 v15; // [sp+16h] [bp-12h]@5
  unsigned __int8 v16; // [sp+17h] [bp-11h]@5
  unsigned __int8 v17; // [sp+18h] [bp-10h]@5
  int v18; // [sp+1Ch] [bp-Ch]@5
  int v19; // [sp+20h] [bp-8h]@5
  int v20; // [sp+24h] [bp-4h]@5
  int *__attribute__((__org_typedef(jmp_buf))) v21; // [sp+30h] [bp+8h]@5
  int v22; // [sp+38h] [bp+10h]@5

  v3 = a1;
  if ( a1[22] )
    sub_44AD95(a1, (int)"Out of place IHDR");
  if ( a3 != 13 )
    sub_44AD95(a1, (int)"Invalid IHDR chunk");
  a1[22] |= 1u;
  sub_452DDB(a1, (int)&v11, 13);
  sub_4536A4(a1, 0);
  v4 = sub_452DB6((int)&v11);
  v5 = sub_452DB6((int)&v12);
  v6 = v13;
  v21 = (int *__attribute__((__org_typedef(jmp_buf))) )v5;
  v22 = v14;
  v18 = v15;
  v19 = v16;
  v20 = v17;
  if ( !v4 || v4 > 0x7FFFFFFF || !v5 || v5 > 0x7FFFFFFF )
    sub_44AD95(v3, (int)"Invalid image size in IHDR");
  if ( v13 != 1 && v13 != 2 && v13 != 4 && v13 != 8 && v13 != 16 )
    sub_44AD95(v3, (int)"Invalid bit depth in IHDR");
  if ( v14 == 1 || v14 == 5 || (signed int)v14 > 6 )
    sub_44AD95(v3, (int)"Invalid color type in IHDR");
  if ( v14 == 3 && (signed int)v13 > 8 || (v14 == 2 || v14 == 4 || v14 == 6) && (signed int)v13 < 8 )
    sub_44AD95(v3, (int)"Invalid color type/bit depth combination in IHDR");
  if ( v20 >= 2 )
    sub_44AD95(v3, (int)"Unknown interlace method in IHDR");
  if ( v18 )
    sub_44AD95(v3, (int)"Unknown compression method in IHDR");
  if ( v19 )
    sub_44AD95(v3, (int)"Unknown filter method in IHDR");
  *((_BYTE *)v3 + 275) = v20;
  v3[46] = v4;
  v3[47] = v5;
  *((_BYTE *)v3 + 279) = v6;
  *((_BYTE *)v3 + 278) = v22;
  if ( !(_BYTE)v22 )
    goto LABEL_45;
  if ( (unsigned __int8)v22 == 2 )
  {
    *((_BYTE *)v3 + 282) = 3;
    goto LABEL_42;
  }
  if ( (unsigned __int8)v22 == 3 )
  {
LABEL_45:
    *((_BYTE *)v3 + 282) = 1;
    goto LABEL_42;
  }
  if ( (unsigned __int8)v22 == 4 )
  {
    *((_BYTE *)v3 + 282) = 2;
  }
  else if ( (unsigned __int8)v22 == 6 )
  {
    *((_BYTE *)v3 + 282) = 4;
  }
LABEL_42:
  v7 = v19;
  v8 = v6 * *((_BYTE *)v3 + 282);
  v9 = v18;
  *((_BYTE *)v3 + 281) = v8;
  v10 = v20;
  v3[50] = (v4 * v8 + 7) >> 3;
  sub_44CF65((int)v3, a2, v4, (int)v21, v6, v22, v10, v9, v7);
}

//----- (00453909) --------------------------------------------------------
void __stdcall sub_453909(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  int v4; // eax@1
  unsigned int v5; // edx@7
  int v6; // ebx@12
  void *v7; // eax@12
  _BYTE *v8; // edi@13
  int v9; // [sp+4h] [bp-4h]@12
  int *__attribute__((__org_typedef(jmp_buf))) v10; // [sp+10h] [bp+8h]@13

  v3 = a1;
  v4 = a1[22];
  if ( !(v4 & 1) )
    sub_44AD95(a1, (int)"Missing IHDR before PLTE");
  if ( v4 & 4 )
  {
    sub_44ADB3((int)a1, (int)"Invalid PLTE after IDAT");
LABEL_10:
    sub_4536A4(a1, a3);
    return;
  }
  if ( v4 & 2 )
    sub_44AD95(a1, (int)"Duplicate PLTE chunk");
  v5 = a3 % 3u;
  a1[22] |= 2u;
  if ( v5 )
  {
    if ( *((_BYTE *)a1 + 278) == 3 )
      sub_44AD95(a1, (int)"Invalid palette chunk");
    sub_44ADB3((int)a1, (int)"Invalid palette chunk");
    goto LABEL_10;
  }
  v6 = a3 / 3;
  v7 = sub_44D17B(a1, a3 / 3, 3);
  *((_BYTE *)a1 + 93) |= 0x10u;
  v9 = (int)v7;
  if ( v6 > 0 )
  {
    v8 = (char *)v7 + 2;
    v10 = (int *__attribute__((__org_typedef(jmp_buf))) )v6;
    do
    {
      sub_452DDB(v3, (int)&a3, 3);
      *(v8 - 2) = a3;
      *(v8 - 1) = BYTE1(a3);
      *v8 = BYTE2(a3);
      v8 += 3;
      v10 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v10 - 1);
    }
    while ( v10 );
  }
  sub_4536A4(v3, 0);
  v3[65] = v9;
  *((_WORD *)v3 + 132) = v6;
  sub_44D006((int)v3, a2, v9, v6);
  if ( *((_BYTE *)v3 + 278) == 3 && a2 && *(_BYTE *)(a2 + 8) & 0x10 && *((_WORD *)v3 + 133) > *((_WORD *)v3 + 132) )
  {
    sub_44ADB3((int)v3, (int)"Truncating incorrect tRNS chunk length");
    *((_WORD *)v3 + 133) = *((_WORD *)v3 + 132);
  }
}
// 453909: could not find valid save-restore pair for ebx
// 453909: could not find valid save-restore pair for edi

//----- (00453A22) --------------------------------------------------------
int __stdcall sub_453A22(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = a1[22];
  if ( !(v3 & 1) || !(v3 & 4) )
    sub_44AD95(a1, (int)"No image in file");
  a1[22] |= 0x18u;
  if ( a3 )
    sub_44ADB3((int)a1, (int)"Incorrect IEND chunk length");
  return sub_4536A4(a1, a3);
}

//----- (00453A68) --------------------------------------------------------
void __stdcall sub_453A68(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  int v4; // eax@1
  int v5; // edi@1
  int v6; // eax@10
  unsigned int v7; // eax@14
  double v8; // st7@18
  const char *v9; // [sp+10h] [bp-18h]@0

  v3 = a1;
  v4 = a1[22];
  v5 = a2;
  if ( !(v4 & 1) )
    sub_44AD95(a1, (int)"Missing IHDR before gAMA");
  if ( v4 & 4 )
    goto LABEL_5;
  if ( v4 & 2 )
  {
    sub_44ADB3((int)a1, (int)"Out of place gAMA chunk");
  }
  else if ( a2 )
  {
    v6 = *(_DWORD *)(a2 + 8);
    if ( v6 & 1 )
    {
      if ( !(v6 & 0x800) )
        goto LABEL_5;
    }
  }
  if ( a3 != 4 )
  {
    v9 = "Incorrect gAMA chunk length";
LABEL_5:
    sub_44ADB3((int)v3, (int)v9);
    sub_4536A4(v3, a3);
    return;
  }
  sub_452DDB(v3, (int)&a1, 4);
  if ( !sub_4536A4(v3, 0) )
  {
    v7 = sub_452DB6((int)&a1);
    if ( v7 )
    {
      if ( *(_DWORD *)(v5 + 8) & 0x800 && (a3 = v7, fabs((double)v7 - 45455.0) > 500.0) )
      {
        sub_44ADB3((int)v3, (int)"Ignoring incorrect gAMA value when sRGB is also present");
      }
      else
      {
        a3 = v7;
        v8 = (double)v7 * 0.0000099999997;
        *((float *)v3 + 76) = v8;
        sub_44CF48((int)v3, v5, v8);
      }
    }
  }
}

//----- (00453B69) --------------------------------------------------------
void __stdcall sub_453B69(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  int v4; // eax@1
  unsigned int v5; // edi@13
  const char *v6; // [sp-Ch] [bp-10h]@0

  v3 = a1;
  v4 = a1[22];
  if ( !(v4 & 1) )
    sub_44AD95(a1, (int)"Missing IHDR before sRGB");
  if ( v4 & 4 )
    goto LABEL_5;
  if ( v4 & 2 )
  {
    sub_44ADB3((int)a1, (int)"Out of place sRGB chunk");
  }
  else if ( a2 && *(_BYTE *)(a2 + 9) & 8 )
  {
    goto LABEL_5;
  }
  if ( a3 != 1 )
  {
    v6 = "Incorrect sRGB chunk length";
LABEL_5:
    sub_44ADB3((int)v3, (int)v6);
    sub_4536A4(v3, a3);
    return;
  }
  sub_452DDB(v3, (int)&a1 + 3, 1);
  if ( !sub_4536A4(v3, 0) )
  {
    v5 = BYTE3(a1);
    if ( (signed int)BYTE3(a1) < 4 )
    {
      if ( *(_BYTE *)(a2 + 8) & 1 )
      {
        if ( fabs(*((float *)v3 + 76) * 100000.0 + 0.5 - 45455.0) > 500.0 )
          sub_44ADB3((int)v3, (int)"Ignoring incorrect gAMA value when sRGB is also present");
      }
      sub_44D049((int)v3, __PAIR__(v5, a2));
    }
    else
    {
      sub_44ADB3((int)v3, (int)"Unknown sRGB intent");
    }
  }
}

//----- (00453C4B) --------------------------------------------------------
void __stdcall sub_453C4B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, size_t a3)
{
  int v3; // eax@1
  char v4; // al@3
  void *v5; // eax@16
  int *__attribute__((__org_typedef(jmp_buf))) v6; // eax@19
  int v7; // ecx@19
  int v8; // eax@19
  int v9; // eax@19
  int v10; // [sp+8h] [bp-8h]@19
  unsigned __int8 v11; // [sp+Ch] [bp-4h]@19
  unsigned __int8 v12; // [sp+Dh] [bp-3h]@19

  v3 = a1[22];
  if ( !(v3 & 1) )
    sub_44AD95(a1, (int)"Missing IHDR before tRNS");
  if ( v3 & 4 )
  {
    sub_44ADB3((int)a1, (int)"Invalid tRNS after IDAT");
LABEL_13:
    sub_4536A4(a1, a3);
    return;
  }
  if ( a2 && *(_BYTE *)(a2 + 8) & 0x10 )
  {
    sub_44ADB3((int)a1, (int)"Duplicate tRNS chunk");
    goto LABEL_13;
  }
  v4 = *((_BYTE *)a1 + 278);
  if ( v4 == 3 )
  {
    if ( *((_BYTE *)a1 + 88) & 2 )
    {
      if ( a3 > *((_WORD *)a1 + 132) )
      {
        sub_44ADB3((int)a1, (int)"Incorrect tRNS chunk length");
        sub_4536A4(a1, a3);
        return;
      }
    }
    else
    {
      sub_44ADB3((int)a1, (int)"Missing PLTE before tRNS");
    }
    if ( !a3 )
    {
      sub_44ADB3((int)a1, (int)"Zero length tRNS chunk");
      sub_4536A4(a1, 0);
      return;
    }
    v5 = sub_452D0C(a1, a3);
    *((_BYTE *)a1 + 93) |= 0x20u;
    a1[87] = (int)v5;
    sub_452DDB(a1, (int)v5, a3);
    *((_WORD *)a1 + 133) = a3;
    goto LABEL_25;
  }
  if ( v4 != 2 )
  {
    if ( v4 )
    {
      sub_44ADB3((int)a1, (int)"tRNS chunk not allowed with alpha channel");
      goto LABEL_28;
    }
    if ( a3 == 2 )
    {
      sub_452DDB(a1, (int)&v10, 2);
      *((_WORD *)a1 + 180) = BYTE1(v10) + ((unsigned __int8)v10 << 8);
      goto LABEL_24;
    }
LABEL_22:
    sub_44ADB3((int)a1, (int)"Incorrect tRNS chunk length");
LABEL_28:
    sub_4536A4(a1, a3);
    return;
  }
  if ( a3 != 6 )
    goto LABEL_22;
  v6 = sub_452DDB(a1, (int)&v10, 6);
  LOWORD(v7) = BYTE1(v10);
  LOWORD(v6) = (unsigned __int8)v10;
  v8 = v7 + ((_DWORD)v6 << 8);
  LOWORD(v7) = BYTE3(v10);
  *((_WORD *)a1 + 177) = v8;
  LOWORD(v8) = BYTE2(v10);
  v9 = v7 + (v8 << 8);
  LOWORD(v7) = v12;
  *((_WORD *)a1 + 178) = v9;
  *((_WORD *)a1 + 179) = v7 + (v11 << 8);
LABEL_24:
  *((_WORD *)a1 + 133) = 1;
LABEL_25:
  if ( !sub_4536A4(a1, 0) )
    sub_44D080((int)a1, a2, a1[87], *((_WORD *)a1 + 133), (int)(a1 + 88));
}

//----- (00453DEC) --------------------------------------------------------
int __stdcall sub_453DEC(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int v3; // eax@3

  sub_452E4E(a1, (int)(a1 + 67));
  if ( !(*((_BYTE *)a1 + 268) & 0x20) )
    sub_44ADCA(a1, (int)"unknown critical chunk");
  v3 = a1[22];
  if ( v3 & 4 )
    a1[22] = v3 | 8;
  return sub_4536A4(a1, a3);
}

//----- (00453E32) --------------------------------------------------------
int __userpurge sub_453E32@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2)
{
  int *__attribute__((__org_typedef(jmp_buf))) v2; // esi@1
  int result; // eax@1
  unsigned __int8 v4; // bl@4
  int v5; // ecx@5
  unsigned int v6; // edx@5
  bool v7; // zf@5
  unsigned int v8; // eax@15
  unsigned int v9; // edx@15
  int v10; // ecx@15
  signed int v11; // eax@18
  const char *v12; // eax@20
  int v13; // [sp+4h] [bp-4h]@12

  v2 = a2;
  result = (int)(a2 + 53);
  if ( ++*(_DWORD *)result >= (unsigned int)v2[48] )
  {
    if ( *((_BYTE *)v2 + 275) )
    {
      *(_DWORD *)result = 0;
      sub_452D83(a1, (int)v2, (void *)v2[54], 0, v2[50] + 1);
      while ( 1 )
      {
        v4 = ++*((_BYTE *)v2 + 276);
        if ( v4 >= 7u )
          break;
        v5 = v4;
        result = (v2[46] - dword_4BB91C[v5] + dword_4BB938[v5] - 1) / (unsigned int)dword_4BB938[v5];
        v6 = ((result * (unsigned int)*((_BYTE *)v2 + 281) + 7) >> 3) + 1;
        v7 = (*((_BYTE *)v2 + 96) & 2) == 0;
        v2[52] = result;
        v2[51] = v6;
        if ( v7 )
        {
          result = (v2[47] - dword_4BB954[v5] + dword_4BB970[v5] - 1) / (unsigned int)dword_4BB970[v5];
          v7 = v2[52] == 0;
          v2[48] = result;
          if ( v7 )
            continue;
        }
        if ( v4 < 7u )
          return result;
        break;
      }
    }
    if ( !(*((_BYTE *)v2 + 92) & 0x20) )
    {
      v2[28] = (int)&a2;
      v2[29] = 1;
      while ( 1 )
      {
        if ( !v2[26] )
        {
          while ( !v2[63] )
          {
            sub_4536A4(v2, 0);
            sub_44D0C9(v2, (int)&v13, 4);
            v2[63] = sub_452DB6((int)&v13);
            sub_44D1D3((int)v2);
            sub_452DDB(v2, (int)(v2 + 67), 4);
            if ( v2[67] != *(_DWORD *)"IDAT" )
              sub_44AD95(v2, (int)"Not enough image data");
          }
          v8 = v2[40];
          v9 = v2[63];
          v10 = v2[39];
          v2[26] = v8;
          v2[25] = v10;
          if ( v8 > v9 )
            v2[26] = v9;
          sub_452DDB(v2, v10, v2[26]);
          v2[63] -= v2[26];
        }
        v11 = sub_452951((int)(v2 + 25), 1);
        if ( v11 == 1 )
          break;
        if ( v11 )
        {
          v12 = (const char *)v2[31];
          if ( !v12 )
            v12 = "Decompression Error";
          sub_44AD95(v2, (int)v12);
        }
        if ( !v2[29] )
          sub_44AD95(v2, (int)"Extra compressed data");
      }
      if ( !v2[29] || v2[26] || v2[63] )
        sub_44AD95(v2, (int)"Extra compressed data");
      v2[22] |= 8u;
      v2[23] |= 0x20u;
      v2[29] = 0;
    }
    if ( v2[63] || v2[26] )
      sub_44AD95(v2, (int)"Extra compression data");
    result = sub_4527E0((int)(v2 + 25));
    v2[22] |= 8u;
  }
  return result;
}
// 453E32: could not find valid save-restore pair for ebp
// 453E32: could not find valid save-restore pair for edi
// 4BB91C: using guessed type int dword_4BB91C[];
// 4BB938: using guessed type int dword_4BB938[];
// 4BB954: using guessed type int dword_4BB954[];
// 4BB970: using guessed type int dword_4BB970[];

//----- (00454042) --------------------------------------------------------
int __stdcall sub_454042(int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // edx@1
  int result; // eax@2
  unsigned int v5; // eax@3
  unsigned int v6; // esi@3
  unsigned int v7; // edi@4
  unsigned int v8; // esi@5
  _BYTE *v9; // edx@5
  unsigned int v10; // esi@5
  unsigned int v11; // esi@5
  unsigned int v12; // esi@5
  unsigned int v13; // esi@5
  unsigned int v14; // esi@5
  unsigned int v15; // esi@5

  v3 = a2;
  if ( a2 )
  {
    v5 = a3;
    v6 = ~a1;
    if ( a3 >= 8 )
    {
      v7 = a3 >> 3;
      do
      {
        v5 -= 8;
        v8 = dword_4BBE20[(v6 ^ *v3) & 0xFF] ^ (v6 >> 8);
        v9 = v3 + 1;
        v10 = dword_4BBE20[(v8 ^ *v9++) & 0xFF] ^ (v8 >> 8);
        v11 = dword_4BBE20[(v10 ^ *v9++) & 0xFF] ^ (v10 >> 8);
        v12 = dword_4BBE20[(v11 ^ *v9++) & 0xFF] ^ (v11 >> 8);
        v13 = dword_4BBE20[(v12 ^ *v9++) & 0xFF] ^ (v12 >> 8);
        v14 = dword_4BBE20[(v13 ^ *v9++) & 0xFF] ^ (v13 >> 8);
        v15 = dword_4BBE20[(v14 ^ *v9++) & 0xFF] ^ (v14 >> 8);
        v6 = dword_4BBE20[(v15 ^ *v9) & 0xFF] ^ (v15 >> 8);
        v3 = v9 + 1;
        --v7;
      }
      while ( v7 );
    }
    for ( ; v5; --v5 )
      v6 = dword_4BBE20[(v6 ^ *v3++) & 0xFF] ^ (v6 >> 8);
    result = ~v6;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4BBE20: using guessed type int dword_4BBE20[];

//----- (00454140) --------------------------------------------------------
int __userpurge sub_454140@<eax>(int a1@<esi>, char a2)
{
  int v2; // eax@1
  _BYTE *v3; // ecx@1
  bool v4; // zf@1
  int v5; // eax@3
  int result; // eax@4
  _BYTE *v7; // ecx@4
  int v8; // eax@6

  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_BYTE **)v2;
  *v3 = -1;
  *(_DWORD *)v2 = v3 + 1;
  v4 = (*(_DWORD *)(v2 + 4))-- == 1;
  if ( v4 && !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 24;
    (*(void (__stdcall **)(int))v5)(a1);
  }
  result = *(_DWORD *)(a1 + 24);
  v7 = *(_BYTE **)result;
  *v7 = a2;
  *(_DWORD *)result = v7 + 1;
  v4 = (*(_DWORD *)(result + 4))-- == 1;
  if ( v4 )
  {
    result = (*(int (__stdcall **)(int))(result + 12))(a1);
    if ( !result )
    {
      v8 = *(_DWORD *)a1;
      *(_DWORD *)(v8 + 20) = 24;
      result = (*(int (__stdcall **)(int))v8)(a1);
    }
  }
  return result;
}

//----- (004541A0) --------------------------------------------------------
signed int __userpurge sub_4541A0@<eax>(int a1@<esi>, int a2)
{
  int v2; // edi@1
  int v3; // eax@2
  int v4; // eax@3
  signed int v5; // ebx@3
  signed int v6; // edx@3
  int v7; // eax@22
  _BYTE *v8; // ecx@22
  int v9; // ecx@22
  int v10; // eax@24
  int v11; // eax@25
  _BYTE *v12; // ecx@25
  int v13; // ecx@25
  bool v14; // zf@25
  int v15; // eax@27
  int v16; // eax@28
  _BYTE *v17; // edi@28
  signed int v18; // ecx@28
  int v19; // ecx@28
  int v20; // eax@30
  int v21; // eax@31
  _BYTE *v22; // ecx@31
  int v23; // ecx@31
  int v24; // eax@33
  int v25; // eax@34
  _BYTE *v26; // ecx@34
  int v27; // eax@36
  int *v28; // edi@37
  __int16 v29; // bx@38
  int v30; // eax@39
  _BYTE *v31; // ecx@39
  int v32; // eax@41
  int v33; // eax@42
  _BYTE *v34; // ecx@42
  int v35; // eax@44
  signed int v37; // [sp+3Ch] [bp-8h]@3
  int v38; // [sp+40h] [bp-4h]@1

  v2 = *(_DWORD *)(a1 + 4 * a2 + 72);
  v38 = *(_DWORD *)(a1 + 4 * a2 + 72);
  if ( !v2 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 52;
    *(_DWORD *)(v3 + 24) = a2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  v37 = 0;
  v4 = v2 + 4;
  v5 = 8;
  v6 = 255;
  do
  {
    if ( *(_WORD *)(v4 - 4) > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)(v4 - 2) > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)v4 > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)(v4 + 2) > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)(v4 + 4) > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)(v4 + 6) > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)(v4 + 8) > 0xFFu )
      v37 = 1;
    if ( *(_WORD *)(v4 + 10) > 0xFFu )
      v37 = 1;
    v4 += 16;
    --v5;
  }
  while ( v5 );
  if ( !*(_DWORD *)(v2 + 128) )
  {
    v7 = *(_DWORD *)(a1 + 24);
    v8 = *(_BYTE **)v7;
    *v8 = -1;
    *(_DWORD *)v7 = v8 + 1;
    v9 = *(_DWORD *)(v7 + 4) - 1;
    *(_DWORD *)(v7 + 4) = v9;
    if ( !v9 && !(*(int (__fastcall **)(_DWORD, signed int, int))(v7 + 12))(0, 255, a1) )
    {
      v10 = *(_DWORD *)a1;
      *(_DWORD *)(v10 + 20) = 24;
      (*(void (__stdcall **)(int))v10)(a1);
    }
    v11 = *(_DWORD *)(a1 + 24);
    v12 = *(_BYTE **)v11;
    *v12 = -37;
    v13 = (int)(v12 + 1);
    *(_DWORD *)v11 = v13;
    v14 = (*(_DWORD *)(v11 + 4))-- == 1;
    if ( v14 && !(*(int (__fastcall **)(int, signed int, int))(v11 + 12))(v13, v6, a1) )
    {
      v15 = *(_DWORD *)a1;
      *(_DWORD *)(v15 + 20) = 24;
      (*(void (__stdcall **)(int))v15)(a1);
    }
    v16 = *(_DWORD *)(a1 + 24);
    v17 = *(_BYTE **)v16;
    v18 = v37 != 0 ? 131 : 67;
    *v17 = BYTE1(v18);
    v19 = *(_DWORD *)(v16 + 4) - 1;
    *(_DWORD *)v16 = v17 + 1;
    *(_DWORD *)(v16 + 4) = v19;
    if ( !v19 && !(*(int (__fastcall **)(_DWORD, signed int, int))(v16 + 12))(0, v6, a1) )
    {
      v20 = *(_DWORD *)a1;
      *(_DWORD *)(v20 + 20) = 24;
      (*(void (__stdcall **)(int))v20)(a1);
    }
    v21 = *(_DWORD *)(a1 + 24);
    v22 = *(_BYTE **)v21;
    *v22 = v37 != 0 ? -125 : 67;
    v23 = (int)(v22 + 1);
    *(_DWORD *)v21 = v23;
    v14 = (*(_DWORD *)(v21 + 4))-- == 1;
    if ( v14 && !(*(int (__fastcall **)(int, signed int, int))(v21 + 12))(v23, v6, a1) )
    {
      v24 = *(_DWORD *)a1;
      *(_DWORD *)(v24 + 20) = 24;
      (*(void (__stdcall **)(int))v24)(a1);
    }
    v25 = *(_DWORD *)(a1 + 24);
    v26 = *(_BYTE **)v25;
    *v26 = a2 + 16 * v37;
    *(_DWORD *)v25 = v26 + 1;
    v14 = (*(_DWORD *)(v25 + 4))-- == 1;
    if ( v14 && !(*(int (__stdcall **)(int))(v25 + 12))(a1) )
    {
      v27 = *(_DWORD *)a1;
      *(_DWORD *)(v27 + 20) = 24;
      (*(void (__stdcall **)(int))v27)(a1);
    }
    v28 = dword_4BB758;
    do
    {
      v29 = *(_WORD *)(v38 + 2 * *v28);
      if ( v37 )
      {
        v30 = *(_DWORD *)(a1 + 24);
        v31 = *(_BYTE **)v30;
        *v31 = HIBYTE(v29);
        *(_DWORD *)v30 = v31 + 1;
        v14 = (*(_DWORD *)(v30 + 4))-- == 1;
        if ( v14 && !(*(int (__stdcall **)(int))(v30 + 12))(a1) )
        {
          v32 = *(_DWORD *)a1;
          *(_DWORD *)(v32 + 20) = 24;
          (*(void (__stdcall **)(int))v32)(a1);
        }
      }
      v33 = *(_DWORD *)(a1 + 24);
      v34 = *(_BYTE **)v33;
      *v34 = v29;
      *(_DWORD *)v33 = v34 + 1;
      v14 = (*(_DWORD *)(v33 + 4))-- == 1;
      if ( v14 && !(*(int (__stdcall **)(int))(v33 + 12))(a1) )
      {
        v35 = *(_DWORD *)a1;
        *(_DWORD *)(v35 + 20) = 24;
        (*(void (__stdcall **)(int))v35)(a1);
      }
      ++v28;
    }
    while ( (signed int)v28 < (signed int)&unk_4BB858 );
    *(_DWORD *)(v38 + 128) = 1;
  }
  return v37;
}
// 4BB758: using guessed type int dword_4BB758[];

//----- (004543A0) --------------------------------------------------------
int __userpurge sub_4543A0@<eax>(int a1@<eax>, int *a2@<ecx>, int a3)
{
  int v3; // esi@1
  int v4; // ebp@2
  int v5; // eax@5
  int result; // eax@6
  int v7; // edx@7
  int v8; // eax@7
  signed int v9; // ecx@7
  int v10; // ebx@9
  int v11; // eax@10
  _BYTE *v12; // ecx@10
  __int16 v13; // bx@10
  bool v14; // zf@10
  int v15; // eax@12
  int v16; // eax@13
  _BYTE *v17; // ecx@13
  int v18; // eax@15
  int v19; // eax@16
  _BYTE *v20; // ecx@16
  int v21; // eax@18
  signed int v22; // edi@19
  _BYTE *v23; // ecx@20
  int v24; // eax@22
  int i; // edi@24
  _BYTE *v26; // ecx@25
  int v27; // eax@27
  int v28; // [sp+24h] [bp-4h]@9

  v3 = (int)a2;
  if ( a1 )
  {
    v4 = a2[a3 + 26];
    a3 += 16;
  }
  else
  {
    v4 = a2[a3 + 22];
  }
  if ( !v4 )
  {
    v5 = *a2;
    *(_DWORD *)(v5 + 20) = 50;
    *(_DWORD *)(v5 + 24) = a3;
    (*(void (__stdcall **)(int *))v5)(a2);
  }
  result = *(_DWORD *)(v4 + 276);
  if ( !result )
  {
    sub_454140(v3, -60);
    v7 = 0;
    v8 = v4 + 7;
    v9 = 2;
    while ( 1 )
    {
      v10 = *(_BYTE *)(v8 + 1)
          + *(_BYTE *)(v8 - 1)
          + *(_BYTE *)(v8 - 2)
          + *(_BYTE *)(v8 - 3)
          + *(_BYTE *)(v8 - 4)
          + *(_BYTE *)(v8 - 5)
          + *(_BYTE *)(v8 - 6)
          + v7
          + *(_BYTE *)v8;
      v8 += 8;
      --v9;
      v28 = v10;
      if ( !v9 )
        break;
      v7 = v10;
    }
    v11 = *(_DWORD *)(v3 + 24);
    v12 = *(_BYTE **)v11;
    v13 = v10 + 19;
    *v12 = HIBYTE(v13);
    *(_DWORD *)v11 = v12 + 1;
    v14 = (*(_DWORD *)(v11 + 4))-- == 1;
    if ( v14 && !(*(int (__stdcall **)(int))(v11 + 12))(v3) )
    {
      v15 = *(_DWORD *)v3;
      *(_DWORD *)(v15 + 20) = 24;
      (*(void (__stdcall **)(int))v15)(v3);
    }
    v16 = *(_DWORD *)(v3 + 24);
    v17 = *(_BYTE **)v16;
    *v17 = v13;
    *(_DWORD *)v16 = v17 + 1;
    v14 = (*(_DWORD *)(v16 + 4))-- == 1;
    if ( v14 && !(*(int (__stdcall **)(int))(v16 + 12))(v3) )
    {
      v18 = *(_DWORD *)v3;
      *(_DWORD *)(v18 + 20) = 24;
      (*(void (__stdcall **)(int))v18)(v3);
    }
    v19 = *(_DWORD *)(v3 + 24);
    v20 = *(_BYTE **)v19;
    *v20 = a3;
    *(_DWORD *)v19 = v20 + 1;
    v14 = (*(_DWORD *)(v19 + 4))-- == 1;
    if ( v14 && !(*(int (__stdcall **)(int))(v19 + 12))(v3) )
    {
      v21 = *(_DWORD *)v3;
      *(_DWORD *)(v21 + 20) = 24;
      (*(void (__stdcall **)(int))v21)(v3);
    }
    v22 = 1;
    do
    {
      result = *(_DWORD *)(v3 + 24);
      v23 = *(_BYTE **)result;
      *v23 = *(_BYTE *)(v22 + v4);
      *(_DWORD *)result = v23 + 1;
      v14 = (*(_DWORD *)(result + 4))-- == 1;
      if ( v14 )
      {
        result = (*(int (__stdcall **)(int))(result + 12))(v3);
        if ( !result )
        {
          v24 = *(_DWORD *)v3;
          *(_DWORD *)(v24 + 20) = 24;
          result = (*(int (__stdcall **)(int))v24)(v3);
        }
      }
      ++v22;
    }
    while ( v22 <= 16 );
    for ( i = 0; i < v28; ++i )
    {
      result = *(_DWORD *)(v3 + 24);
      v26 = *(_BYTE **)result;
      *v26 = *(_BYTE *)(i + v4 + 17);
      *(_DWORD *)result = v26 + 1;
      v14 = (*(_DWORD *)(result + 4))-- == 1;
      if ( v14 )
      {
        result = (*(int (__stdcall **)(int))(result + 12))(v3);
        if ( !result )
        {
          v27 = *(_DWORD *)v3;
          *(_DWORD *)(v27 + 20) = 24;
          result = (*(int (__stdcall **)(int))v27)(v3);
        }
      }
    }
    *(_DWORD *)(v4 + 276) = 1;
  }
  return result;
}

//----- (00454530) --------------------------------------------------------
int __usercall sub_454530@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  _BYTE *v2; // ecx@1
  int v3; // ecx@1
  int v4; // eax@3
  int v5; // eax@4
  _BYTE *v6; // ecx@4
  bool v7; // zf@4
  int v8; // eax@6
  int v9; // eax@7
  _BYTE *v10; // ecx@7
  int v11; // eax@9
  int v12; // eax@10
  _BYTE *v13; // ecx@10
  int v14; // eax@12
  int v15; // eax@13
  _BYTE *v16; // ecx@13
  int v17; // ebx@13
  int v18; // eax@15
  int result; // eax@16
  _BYTE *v20; // ecx@16
  int v21; // ecx@16
  int v22; // eax@18

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  *v2 = -1;
  *(_DWORD *)v1 = v2 + 1;
  v3 = *(_DWORD *)(v1 + 4) - 1;
  *(_DWORD *)(v1 + 4) = v3;
  if ( !v3 && !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 24;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_BYTE **)v5;
  *v6 = -35;
  *(_DWORD *)v5 = v6 + 1;
  v7 = (*(_DWORD *)(v5 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v5 + 12))(a1) )
  {
    v8 = *(_DWORD *)a1;
    *(_DWORD *)(v8 + 20) = 24;
    (*(void (__stdcall **)(int))v8)(a1);
  }
  v9 = *(_DWORD *)(a1 + 24);
  v10 = *(_BYTE **)v9;
  *v10 = 0;
  *(_DWORD *)v9 = v10 + 1;
  v7 = (*(_DWORD *)(v9 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v9 + 12))(a1) )
  {
    v11 = *(_DWORD *)a1;
    *(_DWORD *)(v11 + 20) = 24;
    (*(void (__stdcall **)(int))v11)(a1);
  }
  v12 = *(_DWORD *)(a1 + 24);
  v13 = *(_BYTE **)v12;
  *v13 = 4;
  *(_DWORD *)v12 = v13 + 1;
  v7 = (*(_DWORD *)(v12 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v12 + 12))(a1) )
  {
    v14 = *(_DWORD *)a1;
    *(_DWORD *)(v14 + 20) = 24;
    (*(void (__stdcall **)(int))v14)(a1);
  }
  v15 = *(_DWORD *)(a1 + 24);
  v16 = *(_BYTE **)v15;
  v17 = *(_DWORD *)(a1 + 200);
  *v16 = *(_WORD *)(a1 + 200) >> 8;
  *(_DWORD *)v15 = v16 + 1;
  v7 = (*(_DWORD *)(v15 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v15 + 12))(a1) )
  {
    v18 = *(_DWORD *)a1;
    *(_DWORD *)(v18 + 20) = 24;
    (*(void (__stdcall **)(int))v18)(a1);
  }
  result = *(_DWORD *)(a1 + 24);
  v20 = *(_BYTE **)result;
  *v20 = v17;
  *(_DWORD *)result = v20 + 1;
  v21 = *(_DWORD *)(result + 4) - 1;
  *(_DWORD *)(result + 4) = v21;
  if ( !v21 )
  {
    result = (*(int (__stdcall **)(int))(result + 12))(a1);
    if ( !result )
    {
      v22 = *(_DWORD *)a1;
      *(_DWORD *)(v22 + 20) = 24;
      result = (*(int (__stdcall **)(int))v22)(a1);
    }
  }
  return result;
}

//----- (00454610) --------------------------------------------------------
int __usercall sub_454610@<eax>(char a1@<al>, int a2@<ecx>)
{
  int v2; // esi@1
  int v3; // ebx@1
  int v4; // eax@1
  _BYTE *v5; // ecx@1
  bool v6; // zf@1
  int v7; // eax@3
  int v8; // eax@4
  _BYTE *v9; // ecx@4
  int v10; // eax@6
  int v11; // eax@9
  int v12; // eax@10
  _BYTE *v13; // ecx@10
  int v14; // eax@12
  int v15; // eax@13
  int v16; // ebx@13
  _BYTE *v17; // ecx@13
  int v18; // eax@15
  int v19; // eax@16
  _BYTE *v20; // ecx@16
  int v21; // eax@18
  int v22; // eax@19
  int v23; // ebx@19
  _BYTE *v24; // ecx@19
  int v25; // eax@21
  int v26; // eax@22
  _BYTE *v27; // ecx@22
  int v28; // eax@24
  int v29; // eax@25
  _BYTE *v30; // ecx@25
  int v31; // eax@27
  int result; // eax@28
  int v33; // edi@28
  int i; // ebp@28
  int v35; // eax@29
  _BYTE *v36; // ecx@29
  int v37; // eax@31
  int v38; // eax@32
  int v39; // ecx@32
  int v40; // eax@34
  int v41; // eax@35
  _BYTE *v42; // ecx@35
  int v43; // eax@37

  v2 = a2;
  sub_454140(a2, a1);
  v3 = 3 * *(_DWORD *)(v2 + 60) + 8;
  v4 = *(_DWORD *)(v2 + 24);
  v5 = *(_BYTE **)v4;
  *v5 = (unsigned __int16)(3 * *(_WORD *)(v2 + 60) + 8) >> 8;
  *(_DWORD *)v4 = v5 + 1;
  v6 = (*(_DWORD *)(v4 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v4 + 12))(v2) )
  {
    v7 = *(_DWORD *)v2;
    *(_DWORD *)(v7 + 20) = 24;
    (*(void (__stdcall **)(int))v7)(v2);
  }
  v8 = *(_DWORD *)(v2 + 24);
  v9 = *(_BYTE **)v8;
  *v9 = v3;
  *(_DWORD *)v8 = v9 + 1;
  v6 = (*(_DWORD *)(v8 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v8 + 12))(v2) )
  {
    v10 = *(_DWORD *)v2;
    *(_DWORD *)(v10 + 20) = 24;
    (*(void (__stdcall **)(int))v10)(v2);
  }
  if ( *(_DWORD *)(v2 + 32) > 0xFFFF || *(_DWORD *)(v2 + 28) > 0xFFFF )
  {
    v11 = *(_DWORD *)v2;
    *(_DWORD *)(v11 + 20) = 41;
    *(_DWORD *)(v11 + 24) = 0xFFFF;
    (*(void (__stdcall **)(int))v11)(v2);
  }
  v12 = *(_DWORD *)(v2 + 24);
  v13 = *(_BYTE **)v12;
  *v13 = *(_BYTE *)(v2 + 56);
  *(_DWORD *)v12 = v13 + 1;
  v6 = (*(_DWORD *)(v12 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v12 + 12))(v2) )
  {
    v14 = *(_DWORD *)v2;
    *(_DWORD *)(v14 + 20) = 24;
    (*(void (__stdcall **)(int))v14)(v2);
  }
  v15 = *(_DWORD *)(v2 + 24);
  v16 = *(_DWORD *)(v2 + 32);
  v17 = *(_BYTE **)v15;
  *v17 = *(_WORD *)(v2 + 32) >> 8;
  *(_DWORD *)v15 = v17 + 1;
  v6 = (*(_DWORD *)(v15 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v15 + 12))(v2) )
  {
    v18 = *(_DWORD *)v2;
    *(_DWORD *)(v18 + 20) = 24;
    (*(void (__stdcall **)(int))v18)(v2);
  }
  v19 = *(_DWORD *)(v2 + 24);
  v20 = *(_BYTE **)v19;
  *v20 = v16;
  *(_DWORD *)v19 = v20 + 1;
  v6 = (*(_DWORD *)(v19 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v19 + 12))(v2) )
  {
    v21 = *(_DWORD *)v2;
    *(_DWORD *)(v21 + 20) = 24;
    (*(void (__stdcall **)(int))v21)(v2);
  }
  v22 = *(_DWORD *)(v2 + 24);
  v23 = *(_DWORD *)(v2 + 28);
  v24 = *(_BYTE **)v22;
  *v24 = *(_WORD *)(v2 + 28) >> 8;
  *(_DWORD *)v22 = v24 + 1;
  v6 = (*(_DWORD *)(v22 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v22 + 12))(v2) )
  {
    v25 = *(_DWORD *)v2;
    *(_DWORD *)(v25 + 20) = 24;
    (*(void (__stdcall **)(int))v25)(v2);
  }
  v26 = *(_DWORD *)(v2 + 24);
  v27 = *(_BYTE **)v26;
  *v27 = v23;
  *(_DWORD *)v26 = v27 + 1;
  v6 = (*(_DWORD *)(v26 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v26 + 12))(v2) )
  {
    v28 = *(_DWORD *)v2;
    *(_DWORD *)(v28 + 20) = 24;
    (*(void (__stdcall **)(int))v28)(v2);
  }
  v29 = *(_DWORD *)(v2 + 24);
  v30 = *(_BYTE **)v29;
  *v30 = *(_BYTE *)(v2 + 60);
  *(_DWORD *)v29 = v30 + 1;
  v6 = (*(_DWORD *)(v29 + 4))-- == 1;
  if ( v6 && !(*(int (__stdcall **)(int))(v29 + 12))(v2) )
  {
    v31 = *(_DWORD *)v2;
    *(_DWORD *)(v31 + 20) = 24;
    (*(void (__stdcall **)(int))v31)(v2);
  }
  result = *(_DWORD *)(v2 + 60);
  v33 = *(_DWORD *)(v2 + 68);
  for ( i = 0; i < result; v33 += 84 )
  {
    v35 = *(_DWORD *)(v2 + 24);
    v36 = *(_BYTE **)v35;
    *v36 = *(_BYTE *)v33;
    *(_DWORD *)v35 = v36 + 1;
    v6 = (*(_DWORD *)(v35 + 4))-- == 1;
    if ( v6 && !(*(int (__stdcall **)(int))(v35 + 12))(v2) )
    {
      v37 = *(_DWORD *)v2;
      *(_DWORD *)(v37 + 20) = 24;
      (*(void (__stdcall **)(int))v37)(v2);
    }
    v38 = *(_DWORD *)(v2 + 24);
    v39 = *(_DWORD *)v38 + 1;
    *(_BYTE *)(v39 - 1) = *(_BYTE *)(v33 + 12) + 16 * *(_BYTE *)(v33 + 8);
    *(_DWORD *)v38 = v39;
    v6 = (*(_DWORD *)(v38 + 4))-- == 1;
    if ( v6 && !(*(int (__stdcall **)(int))(v38 + 12))(v2) )
    {
      v40 = *(_DWORD *)v2;
      *(_DWORD *)(v40 + 20) = 24;
      (*(void (__stdcall **)(int))v40)(v2);
    }
    v41 = *(_DWORD *)(v2 + 24);
    v42 = *(_BYTE **)v41;
    *v42 = *(_BYTE *)(v33 + 16);
    *(_DWORD *)v41 = v42 + 1;
    v6 = (*(_DWORD *)(v41 + 4))-- == 1;
    if ( v6 && !(*(int (__stdcall **)(int))(v41 + 12))(v2) )
    {
      v43 = *(_DWORD *)v2;
      *(_DWORD *)(v43 + 20) = 24;
      (*(void (__stdcall **)(int))v43)(v2);
    }
    result = *(_DWORD *)(v2 + 60);
    ++i;
  }
  return result;
}

//----- (00454800) --------------------------------------------------------
int __usercall sub_454800@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  _BYTE *v2; // ecx@1
  int v3; // ecx@1
  int v4; // eax@3
  int v5; // eax@4
  _BYTE *v6; // ecx@4
  bool v7; // zf@4
  int v8; // eax@6
  int v9; // eax@7
  _BYTE *v10; // ecx@7
  int v11; // ebx@7
  int v12; // eax@9
  int v13; // eax@10
  _BYTE *v14; // ecx@10
  int v15; // eax@12
  int v16; // eax@13
  _BYTE *v17; // ecx@13
  int v18; // eax@15
  int v19; // ebx@16
  _BYTE **v20; // ebp@17
  int v21; // eax@18
  _BYTE *v22; // edi@18
  _BYTE *v23; // ecx@18
  int v24; // eax@20
  int v25; // ecx@21
  int v26; // edx@21
  int v27; // eax@26
  _BYTE *v28; // edi@26
  int v29; // ecx@26
  int v30; // eax@28
  int v31; // eax@30
  _BYTE *v32; // ecx@30
  int v33; // eax@32
  int v34; // eax@33
  _BYTE *v35; // ecx@33
  int v36; // eax@35
  int result; // eax@36
  _BYTE *v38; // ecx@36
  int v39; // ecx@36
  int v40; // eax@38

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  *v2 = -1;
  *(_DWORD *)v1 = v2 + 1;
  v3 = *(_DWORD *)(v1 + 4) - 1;
  *(_DWORD *)(v1 + 4) = v3;
  if ( !v3 && !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 24;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_BYTE **)v5;
  *v6 = -38;
  *(_DWORD *)v5 = v6 + 1;
  v7 = (*(_DWORD *)(v5 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v5 + 12))(a1) )
  {
    v8 = *(_DWORD *)a1;
    *(_DWORD *)(v8 + 20) = 24;
    (*(void (__stdcall **)(int))v8)(a1);
  }
  v9 = *(_DWORD *)(a1 + 24);
  v10 = *(_BYTE **)v9;
  v11 = 2 * *(_DWORD *)(a1 + 252) + 6;
  *v10 = (unsigned __int16)(2 * *(_WORD *)(a1 + 252) + 6) >> 8;
  *(_DWORD *)v9 = v10 + 1;
  v7 = (*(_DWORD *)(v9 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v9 + 12))(a1) )
  {
    v12 = *(_DWORD *)a1;
    *(_DWORD *)(v12 + 20) = 24;
    (*(void (__stdcall **)(int))v12)(a1);
  }
  v13 = *(_DWORD *)(a1 + 24);
  v14 = *(_BYTE **)v13;
  *v14 = v11;
  *(_DWORD *)v13 = v14 + 1;
  v7 = (*(_DWORD *)(v13 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v13 + 12))(a1) )
  {
    v15 = *(_DWORD *)a1;
    *(_DWORD *)(v15 + 20) = 24;
    (*(void (__stdcall **)(int))v15)(a1);
  }
  v16 = *(_DWORD *)(a1 + 24);
  v17 = *(_BYTE **)v16;
  *v17 = *(_BYTE *)(a1 + 252);
  *(_DWORD *)v16 = v17 + 1;
  v7 = (*(_DWORD *)(v16 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v16 + 12))(a1) )
  {
    v18 = *(_DWORD *)a1;
    *(_DWORD *)(v18 + 20) = 24;
    (*(void (__stdcall **)(int))v18)(a1);
  }
  v19 = 0;
  if ( *(_DWORD *)(a1 + 252) > 0 )
  {
    v20 = (_BYTE **)(a1 + 256);
    do
    {
      v21 = *(_DWORD *)(a1 + 24);
      v22 = *v20;
      v23 = *(_BYTE **)v21;
      *v23 = **v20;
      *(_DWORD *)v21 = v23 + 1;
      v7 = (*(_DWORD *)(v21 + 4))-- == 1;
      if ( v7 && !(*(int (__stdcall **)(int))(v21 + 12))(a1) )
      {
        v24 = *(_DWORD *)a1;
        *(_DWORD *)(v24 + 20) = 24;
        (*(void (__stdcall **)(int))v24)(a1);
      }
      v25 = *((_DWORD *)v22 + 5);
      v26 = *((_DWORD *)v22 + 6);
      if ( *(_DWORD *)(a1 + 236) )
      {
        if ( *(_DWORD *)(a1 + 324) || (LOBYTE(v26) = 0, *(_DWORD *)(a1 + 332)) && !*(_DWORD *)(a1 + 180) )
          LOBYTE(v25) = 0;
      }
      v27 = *(_DWORD *)(a1 + 24);
      v28 = *(_BYTE **)v27;
      *v28 = v26 + 16 * v25;
      v29 = *(_DWORD *)(v27 + 4) - 1;
      *(_DWORD *)v27 = v28 + 1;
      *(_DWORD *)(v27 + 4) = v29;
      if ( !v29 && !(*(int (__stdcall **)(int))(v27 + 12))(a1) )
      {
        v30 = *(_DWORD *)a1;
        *(_DWORD *)(v30 + 20) = 24;
        (*(void (__stdcall **)(int))v30)(a1);
      }
      ++v19;
      ++v20;
    }
    while ( v19 < *(_DWORD *)(a1 + 252) );
  }
  v31 = *(_DWORD *)(a1 + 24);
  v32 = *(_BYTE **)v31;
  *v32 = *(_BYTE *)(a1 + 324);
  *(_DWORD *)v31 = v32 + 1;
  v7 = (*(_DWORD *)(v31 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v31 + 12))(a1) )
  {
    v33 = *(_DWORD *)a1;
    *(_DWORD *)(v33 + 20) = 24;
    (*(void (__stdcall **)(int))v33)(a1);
  }
  v34 = *(_DWORD *)(a1 + 24);
  v35 = *(_BYTE **)v34;
  *v35 = *(_BYTE *)(a1 + 328);
  *(_DWORD *)v34 = v35 + 1;
  v7 = (*(_DWORD *)(v34 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v34 + 12))(a1) )
  {
    v36 = *(_DWORD *)a1;
    *(_DWORD *)(v36 + 20) = 24;
    (*(void (__stdcall **)(int))v36)(a1);
  }
  result = *(_DWORD *)(a1 + 24);
  v38 = *(_BYTE **)result;
  *v38 = *(_BYTE *)(a1 + 336) + 16 * *(_BYTE *)(a1 + 332);
  *(_DWORD *)result = v38 + 1;
  v39 = *(_DWORD *)(result + 4) - 1;
  *(_DWORD *)(result + 4) = v39;
  if ( !v39 )
  {
    result = (*(int (__stdcall **)(int))(result + 12))(a1);
    if ( !result )
    {
      v40 = *(_DWORD *)a1;
      *(_DWORD *)(v40 + 20) = 24;
      result = (*(int (__stdcall **)(int))v40)(a1);
    }
  }
  return result;
}

//----- (00454A00) --------------------------------------------------------
int __usercall sub_454A00@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  _BYTE *v2; // ecx@1
  int v3; // ecx@1
  int v4; // eax@3
  int v5; // eax@4
  _BYTE *v6; // ecx@4
  bool v7; // zf@4
  int v8; // eax@6
  int v9; // eax@7
  _BYTE *v10; // ecx@7
  int v11; // eax@9
  int v12; // eax@10
  _BYTE *v13; // ecx@10
  int v14; // eax@12
  int v15; // eax@13
  _BYTE *v16; // ecx@13
  int v17; // eax@15
  int v18; // eax@16
  _BYTE *v19; // ecx@16
  int v20; // eax@18
  int v21; // eax@19
  _BYTE *v22; // ecx@19
  int v23; // eax@21
  int v24; // eax@22
  _BYTE *v25; // ecx@22
  int v26; // eax@24
  int v27; // eax@25
  _BYTE *v28; // ecx@25
  int v29; // eax@27
  int v30; // eax@28
  _BYTE *v31; // ecx@28
  int v32; // eax@30
  int v33; // eax@31
  _BYTE *v34; // ecx@31
  int v35; // eax@33
  int v36; // eax@34
  _BYTE *v37; // ecx@34
  int v38; // eax@36
  int v39; // eax@37
  _BYTE *v40; // ecx@37
  __int16 v41; // bx@37
  int v42; // eax@39
  int v43; // eax@40
  _BYTE *v44; // ecx@40
  int v45; // eax@42
  __int16 v46; // bx@43
  int v47; // eax@43
  _BYTE *v48; // ecx@43
  int v49; // eax@45
  int v50; // eax@46
  _BYTE *v51; // ecx@46
  int v52; // ecx@46
  int v53; // eax@48
  int v54; // eax@49
  _BYTE *v55; // ecx@49
  int v56; // eax@51
  int result; // eax@52
  _BYTE *v58; // ecx@52
  int v59; // eax@54

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  *v2 = -1;
  *(_DWORD *)v1 = v2 + 1;
  v3 = *(_DWORD *)(v1 + 4) - 1;
  *(_DWORD *)(v1 + 4) = v3;
  if ( !v3 && !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 24;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_BYTE **)v5;
  *v6 = -32;
  *(_DWORD *)v5 = v6 + 1;
  v7 = (*(_DWORD *)(v5 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v5 + 12))(a1) )
  {
    v8 = *(_DWORD *)a1;
    *(_DWORD *)(v8 + 20) = 24;
    (*(void (__stdcall **)(int))v8)(a1);
  }
  v9 = *(_DWORD *)(a1 + 24);
  v10 = *(_BYTE **)v9;
  *v10 = 0;
  *(_DWORD *)v9 = v10 + 1;
  v7 = (*(_DWORD *)(v9 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v9 + 12))(a1) )
  {
    v11 = *(_DWORD *)a1;
    *(_DWORD *)(v11 + 20) = 24;
    (*(void (__stdcall **)(int))v11)(a1);
  }
  v12 = *(_DWORD *)(a1 + 24);
  v13 = *(_BYTE **)v12;
  *v13 = 16;
  *(_DWORD *)v12 = v13 + 1;
  v7 = (*(_DWORD *)(v12 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v12 + 12))(a1) )
  {
    v14 = *(_DWORD *)a1;
    *(_DWORD *)(v14 + 20) = 24;
    (*(void (__stdcall **)(int))v14)(a1);
  }
  v15 = *(_DWORD *)(a1 + 24);
  v16 = *(_BYTE **)v15;
  *v16 = 74;
  *(_DWORD *)v15 = v16 + 1;
  v7 = (*(_DWORD *)(v15 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v15 + 12))(a1) )
  {
    v17 = *(_DWORD *)a1;
    *(_DWORD *)(v17 + 20) = 24;
    (*(void (__stdcall **)(int))v17)(a1);
  }
  v18 = *(_DWORD *)(a1 + 24);
  v19 = *(_BYTE **)v18;
  *v19 = 70;
  *(_DWORD *)v18 = v19 + 1;
  v7 = (*(_DWORD *)(v18 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v18 + 12))(a1) )
  {
    v20 = *(_DWORD *)a1;
    *(_DWORD *)(v20 + 20) = 24;
    (*(void (__stdcall **)(int))v20)(a1);
  }
  v21 = *(_DWORD *)(a1 + 24);
  v22 = *(_BYTE **)v21;
  *v22 = 73;
  *(_DWORD *)v21 = v22 + 1;
  v7 = (*(_DWORD *)(v21 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v21 + 12))(a1) )
  {
    v23 = *(_DWORD *)a1;
    *(_DWORD *)(v23 + 20) = 24;
    (*(void (__stdcall **)(int))v23)(a1);
  }
  v24 = *(_DWORD *)(a1 + 24);
  v25 = *(_BYTE **)v24;
  *v25 = 70;
  *(_DWORD *)v24 = v25 + 1;
  v7 = (*(_DWORD *)(v24 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v24 + 12))(a1) )
  {
    v26 = *(_DWORD *)a1;
    *(_DWORD *)(v26 + 20) = 24;
    (*(void (__stdcall **)(int))v26)(a1);
  }
  v27 = *(_DWORD *)(a1 + 24);
  v28 = *(_BYTE **)v27;
  *v28 = 0;
  *(_DWORD *)v27 = v28 + 1;
  v7 = (*(_DWORD *)(v27 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v27 + 12))(a1) )
  {
    v29 = *(_DWORD *)a1;
    *(_DWORD *)(v29 + 20) = 24;
    (*(void (__stdcall **)(int))v29)(a1);
  }
  v30 = *(_DWORD *)(a1 + 24);
  v31 = *(_BYTE **)v30;
  *v31 = *(_BYTE *)(a1 + 212);
  *(_DWORD *)v30 = v31 + 1;
  v7 = (*(_DWORD *)(v30 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v30 + 12))(a1) )
  {
    v32 = *(_DWORD *)a1;
    *(_DWORD *)(v32 + 20) = 24;
    (*(void (__stdcall **)(int))v32)(a1);
  }
  v33 = *(_DWORD *)(a1 + 24);
  v34 = *(_BYTE **)v33;
  *v34 = *(_BYTE *)(a1 + 213);
  *(_DWORD *)v33 = v34 + 1;
  v7 = (*(_DWORD *)(v33 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v33 + 12))(a1) )
  {
    v35 = *(_DWORD *)a1;
    *(_DWORD *)(v35 + 20) = 24;
    (*(void (__stdcall **)(int))v35)(a1);
  }
  v36 = *(_DWORD *)(a1 + 24);
  v37 = *(_BYTE **)v36;
  *v37 = *(_BYTE *)(a1 + 214);
  *(_DWORD *)v36 = v37 + 1;
  v7 = (*(_DWORD *)(v36 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v36 + 12))(a1) )
  {
    v38 = *(_DWORD *)a1;
    *(_DWORD *)(v38 + 20) = 24;
    (*(void (__stdcall **)(int))v38)(a1);
  }
  v39 = *(_DWORD *)(a1 + 24);
  v40 = *(_BYTE **)v39;
  v41 = *(_WORD *)(a1 + 216);
  *v40 = *(_WORD *)(a1 + 216) >> 8;
  *(_DWORD *)v39 = v40 + 1;
  v7 = (*(_DWORD *)(v39 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v39 + 12))(a1) )
  {
    v42 = *(_DWORD *)a1;
    *(_DWORD *)(v42 + 20) = 24;
    (*(void (__stdcall **)(int))v42)(a1);
  }
  v43 = *(_DWORD *)(a1 + 24);
  v44 = *(_BYTE **)v43;
  *v44 = v41;
  *(_DWORD *)v43 = v44 + 1;
  v7 = (*(_DWORD *)(v43 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v43 + 12))(a1) )
  {
    v45 = *(_DWORD *)a1;
    *(_DWORD *)(v45 + 20) = 24;
    (*(void (__stdcall **)(int))v45)(a1);
  }
  v46 = *(_WORD *)(a1 + 218);
  v47 = *(_DWORD *)(a1 + 24);
  v48 = *(_BYTE **)v47;
  *v48 = *(_WORD *)(a1 + 218) >> 8;
  *(_DWORD *)v47 = v48 + 1;
  v7 = (*(_DWORD *)(v47 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v47 + 12))(a1) )
  {
    v49 = *(_DWORD *)a1;
    *(_DWORD *)(v49 + 20) = 24;
    (*(void (__stdcall **)(int))v49)(a1);
  }
  v50 = *(_DWORD *)(a1 + 24);
  v51 = *(_BYTE **)v50;
  *v51 = v46;
  *(_DWORD *)v50 = v51 + 1;
  v52 = *(_DWORD *)(v50 + 4) - 1;
  *(_DWORD *)(v50 + 4) = v52;
  if ( !v52 && !(*(int (__stdcall **)(int))(v50 + 12))(a1) )
  {
    v53 = *(_DWORD *)a1;
    *(_DWORD *)(v53 + 20) = 24;
    (*(void (__stdcall **)(int))v53)(a1);
  }
  v54 = *(_DWORD *)(a1 + 24);
  v55 = *(_BYTE **)v54;
  *v55 = 0;
  *(_DWORD *)v54 = v55 + 1;
  v7 = (*(_DWORD *)(v54 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v54 + 12))(a1) )
  {
    v56 = *(_DWORD *)a1;
    *(_DWORD *)(v56 + 20) = 24;
    (*(void (__stdcall **)(int))v56)(a1);
  }
  result = *(_DWORD *)(a1 + 24);
  v58 = *(_BYTE **)result;
  *v58 = 0;
  *(_DWORD *)result = v58 + 1;
  v7 = (*(_DWORD *)(result + 4))-- == 1;
  if ( v7 )
  {
    result = (*(int (__stdcall **)(int))(result + 12))(a1);
    if ( !result )
    {
      v59 = *(_DWORD *)a1;
      *(_DWORD *)(v59 + 20) = 24;
      result = (*(int (__stdcall **)(int))v59)(a1);
    }
  }
  return result;
}

//----- (00454C80) --------------------------------------------------------
int __usercall sub_454C80@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  _BYTE *v2; // ecx@1
  int v3; // ecx@1
  int v4; // eax@3
  int v5; // eax@4
  _BYTE *v6; // ecx@4
  bool v7; // zf@4
  int v8; // eax@6
  int v9; // eax@7
  _BYTE *v10; // ecx@7
  int v11; // eax@9
  int v12; // eax@10
  _BYTE *v13; // ecx@10
  int v14; // eax@12
  int v15; // eax@13
  _BYTE *v16; // ecx@13
  int v17; // eax@15
  int v18; // eax@16
  _BYTE *v19; // ecx@16
  int v20; // eax@18
  int v21; // eax@19
  _BYTE *v22; // ecx@19
  int v23; // eax@21
  int v24; // eax@22
  _BYTE *v25; // ecx@22
  int v26; // eax@24
  int v27; // eax@25
  _BYTE *v28; // ecx@25
  int v29; // eax@27
  int v30; // eax@28
  _BYTE *v31; // ecx@28
  int v32; // eax@30
  int v33; // eax@31
  _BYTE *v34; // ecx@31
  int v35; // eax@33
  int v36; // eax@34
  _BYTE *v37; // ecx@34
  int v38; // eax@36
  int v39; // eax@37
  _BYTE *v40; // ecx@37
  int v41; // eax@39
  int v42; // eax@40
  _BYTE *v43; // ecx@40
  int v44; // eax@42
  int v45; // eax@43
  _BYTE *v46; // ecx@43
  int v47; // eax@45
  int result; // eax@47
  _BYTE *v49; // ecx@47
  int v50; // eax@53

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  *v2 = -1;
  *(_DWORD *)v1 = v2 + 1;
  v3 = *(_DWORD *)(v1 + 4) - 1;
  *(_DWORD *)(v1 + 4) = v3;
  if ( !v3 && !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 24;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_BYTE **)v5;
  *v6 = -18;
  *(_DWORD *)v5 = v6 + 1;
  v7 = (*(_DWORD *)(v5 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v5 + 12))(a1) )
  {
    v8 = *(_DWORD *)a1;
    *(_DWORD *)(v8 + 20) = 24;
    (*(void (__stdcall **)(int))v8)(a1);
  }
  v9 = *(_DWORD *)(a1 + 24);
  v10 = *(_BYTE **)v9;
  *v10 = 0;
  *(_DWORD *)v9 = v10 + 1;
  v7 = (*(_DWORD *)(v9 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v9 + 12))(a1) )
  {
    v11 = *(_DWORD *)a1;
    *(_DWORD *)(v11 + 20) = 24;
    (*(void (__stdcall **)(int))v11)(a1);
  }
  v12 = *(_DWORD *)(a1 + 24);
  v13 = *(_BYTE **)v12;
  *v13 = 14;
  *(_DWORD *)v12 = v13 + 1;
  v7 = (*(_DWORD *)(v12 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v12 + 12))(a1) )
  {
    v14 = *(_DWORD *)a1;
    *(_DWORD *)(v14 + 20) = 24;
    (*(void (__stdcall **)(int))v14)(a1);
  }
  v15 = *(_DWORD *)(a1 + 24);
  v16 = *(_BYTE **)v15;
  *v16 = 65;
  *(_DWORD *)v15 = v16 + 1;
  v7 = (*(_DWORD *)(v15 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v15 + 12))(a1) )
  {
    v17 = *(_DWORD *)a1;
    *(_DWORD *)(v17 + 20) = 24;
    (*(void (__stdcall **)(int))v17)(a1);
  }
  v18 = *(_DWORD *)(a1 + 24);
  v19 = *(_BYTE **)v18;
  *v19 = 100;
  *(_DWORD *)v18 = v19 + 1;
  v7 = (*(_DWORD *)(v18 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v18 + 12))(a1) )
  {
    v20 = *(_DWORD *)a1;
    *(_DWORD *)(v20 + 20) = 24;
    (*(void (__stdcall **)(int))v20)(a1);
  }
  v21 = *(_DWORD *)(a1 + 24);
  v22 = *(_BYTE **)v21;
  *v22 = 111;
  *(_DWORD *)v21 = v22 + 1;
  v7 = (*(_DWORD *)(v21 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v21 + 12))(a1) )
  {
    v23 = *(_DWORD *)a1;
    *(_DWORD *)(v23 + 20) = 24;
    (*(void (__stdcall **)(int))v23)(a1);
  }
  v24 = *(_DWORD *)(a1 + 24);
  v25 = *(_BYTE **)v24;
  *v25 = 98;
  *(_DWORD *)v24 = v25 + 1;
  v7 = (*(_DWORD *)(v24 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v24 + 12))(a1) )
  {
    v26 = *(_DWORD *)a1;
    *(_DWORD *)(v26 + 20) = 24;
    (*(void (__stdcall **)(int))v26)(a1);
  }
  v27 = *(_DWORD *)(a1 + 24);
  v28 = *(_BYTE **)v27;
  *v28 = 101;
  *(_DWORD *)v27 = v28 + 1;
  v7 = (*(_DWORD *)(v27 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v27 + 12))(a1) )
  {
    v29 = *(_DWORD *)a1;
    *(_DWORD *)(v29 + 20) = 24;
    (*(void (__stdcall **)(int))v29)(a1);
  }
  v30 = *(_DWORD *)(a1 + 24);
  v31 = *(_BYTE **)v30;
  *v31 = 0;
  *(_DWORD *)v30 = v31 + 1;
  v7 = (*(_DWORD *)(v30 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v30 + 12))(a1) )
  {
    v32 = *(_DWORD *)a1;
    *(_DWORD *)(v32 + 20) = 24;
    (*(void (__stdcall **)(int))v32)(a1);
  }
  v33 = *(_DWORD *)(a1 + 24);
  v34 = *(_BYTE **)v33;
  *v34 = 100;
  *(_DWORD *)v33 = v34 + 1;
  v7 = (*(_DWORD *)(v33 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v33 + 12))(a1) )
  {
    v35 = *(_DWORD *)a1;
    *(_DWORD *)(v35 + 20) = 24;
    (*(void (__stdcall **)(int))v35)(a1);
  }
  v36 = *(_DWORD *)(a1 + 24);
  v37 = *(_BYTE **)v36;
  *v37 = 0;
  *(_DWORD *)v36 = v37 + 1;
  v7 = (*(_DWORD *)(v36 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v36 + 12))(a1) )
  {
    v38 = *(_DWORD *)a1;
    *(_DWORD *)(v38 + 20) = 24;
    (*(void (__stdcall **)(int))v38)(a1);
  }
  v39 = *(_DWORD *)(a1 + 24);
  v40 = *(_BYTE **)v39;
  *v40 = 0;
  *(_DWORD *)v39 = v40 + 1;
  v7 = (*(_DWORD *)(v39 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v39 + 12))(a1) )
  {
    v41 = *(_DWORD *)a1;
    *(_DWORD *)(v41 + 20) = 24;
    (*(void (__stdcall **)(int))v41)(a1);
  }
  v42 = *(_DWORD *)(a1 + 24);
  v43 = *(_BYTE **)v42;
  *v43 = 0;
  *(_DWORD *)v42 = v43 + 1;
  v7 = (*(_DWORD *)(v42 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v42 + 12))(a1) )
  {
    v44 = *(_DWORD *)a1;
    *(_DWORD *)(v44 + 20) = 24;
    (*(void (__stdcall **)(int))v44)(a1);
  }
  v45 = *(_DWORD *)(a1 + 24);
  v46 = *(_BYTE **)v45;
  *v46 = 0;
  *(_DWORD *)v45 = v46 + 1;
  v7 = (*(_DWORD *)(v45 + 4))-- == 1;
  if ( v7 && !(*(int (__stdcall **)(int))(v45 + 12))(a1) )
  {
    v47 = *(_DWORD *)a1;
    *(_DWORD *)(v47 + 20) = 24;
    (*(void (__stdcall **)(int))v47)(a1);
  }
  if ( *(_DWORD *)(a1 + 64) == 3 )
  {
    result = *(_DWORD *)(a1 + 24);
    v49 = *(_BYTE **)result;
    **(_BYTE **)result = 1;
  }
  else
  {
    result = *(_DWORD *)(a1 + 24);
    v49 = *(_BYTE **)result;
    if ( *(_DWORD *)(a1 + 64) == 5 )
      *v49 = 2;
    else
      *v49 = 0;
  }
  *(_DWORD *)result = v49 + 1;
  v7 = (*(_DWORD *)(result + 4))-- == 1;
  if ( v7 )
  {
    result = (*(int (__stdcall **)(int))(result + 12))(a1);
    if ( !result )
    {
      v50 = *(_DWORD *)a1;
      *(_DWORD *)(v50 + 20) = 24;
      result = (*(int (__stdcall **)(int))v50)(a1);
    }
  }
  return result;
}

//----- (00454FF0) --------------------------------------------------------
int __stdcall sub_454FF0(int a1)
{
  int v1; // ebp@1
  int v2; // edi@1
  int *v3; // ebx@2
  int v4; // ecx@7
  signed int v5; // edi@7
  _DWORD *v6; // eax@8
  int v7; // eax@15
  int result; // eax@18
  char v9; // al@21

  v1 = 0;
  v2 = 0;
  if ( *(_DWORD *)(a1 + 60) > 0 )
  {
    v3 = (int *)(*(_DWORD *)(a1 + 68) + 16);
    do
    {
      v1 += sub_4541A0(a1, *v3);
      ++v2;
      v3 += 21;
    }
    while ( v2 < *(_DWORD *)(a1 + 60) );
  }
  if ( *(_DWORD *)(a1 + 180) || *(_DWORD *)(a1 + 236) || *(_DWORD *)(a1 + 56) != 8 )
  {
    v5 = 0;
  }
  else
  {
    v4 = *(_DWORD *)(a1 + 60);
    v5 = 1;
    if ( v4 > 0 )
    {
      v6 = (_DWORD *)(*(_DWORD *)(a1 + 68) + 24);
      do
      {
        if ( *(v6 - 1) > 1 || *v6 > 1 )
          v5 = 0;
        v6 += 21;
        --v4;
      }
      while ( v4 );
    }
    if ( v1 && v5 )
    {
      v7 = *(_DWORD *)a1;
      v5 = 0;
      *(_DWORD *)(v7 + 20) = 75;
      (*(void (__stdcall **)(int, _DWORD))(v7 + 4))(a1, 0);
    }
  }
  if ( *(_DWORD *)(a1 + 180) )
  {
    result = sub_454610(-55, a1);
  }
  else if ( *(_DWORD *)(a1 + 236) )
  {
    result = sub_454610(-62, a1);
  }
  else
  {
    v9 = -64;
    if ( !v5 )
      v9 = -63;
    result = sub_454610(v9, a1);
  }
  return result;
}

//----- (00455200) --------------------------------------------------------
int __stdcall sub_455200(int a1)
{
  int v1; // eax@1
  _BYTE *v2; // ecx@1
  bool v3; // zf@1
  int v4; // eax@3
  int v5; // eax@4
  _BYTE *v6; // ecx@4
  int v7; // eax@6
  int v8; // edi@7
  _DWORD *v9; // ebx@7
  int v10; // edi@12
  _DWORD *v11; // ebx@12
  int v12; // eax@18
  _BYTE *v13; // ecx@18
  int v14; // ecx@18
  int v15; // eax@20
  int result; // eax@21
  _BYTE *v17; // ecx@21
  int v18; // eax@23

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  *v2 = -1;
  *(_DWORD *)v1 = v2 + 1;
  v3 = (*(_DWORD *)(v1 + 4))-- == 1;
  if ( v3 && !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 24;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_BYTE **)v5;
  *v6 = -40;
  *(_DWORD *)v5 = v6 + 1;
  v3 = (*(_DWORD *)(v5 + 4))-- == 1;
  if ( v3 && !(*(int (__stdcall **)(int))(v5 + 12))(a1) )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 24;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  v8 = 0;
  v9 = (_DWORD *)(a1 + 72);
  do
  {
    if ( *v9 )
      sub_4541A0(a1, v8);
    ++v8;
    ++v9;
  }
  while ( v8 < 4 );
  if ( !*(_DWORD *)(a1 + 180) )
  {
    v10 = 0;
    v11 = (_DWORD *)(a1 + 104);
    do
    {
      if ( *(v11 - 4) )
        sub_4543A0(0, (int *)a1, v10);
      if ( *v11 )
        sub_4543A0(1, (int *)a1, v10);
      ++v10;
      ++v11;
    }
    while ( v10 < 4 );
  }
  v12 = *(_DWORD *)(a1 + 24);
  v13 = *(_BYTE **)v12;
  *v13 = -1;
  *(_DWORD *)v12 = v13 + 1;
  v14 = *(_DWORD *)(v12 + 4) - 1;
  *(_DWORD *)(v12 + 4) = v14;
  if ( !v14 && !(*(int (__stdcall **)(int))(v12 + 12))(a1) )
  {
    v15 = *(_DWORD *)a1;
    *(_DWORD *)(v15 + 20) = 24;
    (*(void (__stdcall **)(int))v15)(a1);
  }
  result = *(_DWORD *)(a1 + 24);
  v17 = *(_BYTE **)result;
  *v17 = -39;
  *(_DWORD *)result = v17 + 1;
  v3 = (*(_DWORD *)(result + 4))-- == 1;
  if ( v3 )
  {
    result = (*(int (__stdcall **)(int))(result + 12))(a1);
    if ( !result )
    {
      v18 = *(_DWORD *)a1;
      *(_DWORD *)(v18 + 20) = 24;
      result = (*(int (__stdcall **)(int))v18)(a1);
    }
  }
  return result;
}

//----- (004552F0) --------------------------------------------------------
int __stdcall sub_4552F0(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 32);
  *(_DWORD *)(a1 + 356) = result;
  *(_DWORD *)result = sub_454F60;
  *(_DWORD *)(result + 4) = sub_454FF0;
  *(_DWORD *)(result + 8) = sub_4550E0;
  *(_DWORD *)(result + 12) = sub_4551A0;
  *(_DWORD *)(result + 16) = sub_455200;
  *(_DWORD *)(result + 20) = sub_454EB0;
  *(_DWORD *)(result + 24) = sub_454F30;
  *(_DWORD *)(result + 28) = 0;
  return result;
}
// 454EB0: using guessed type int __stdcall sub_454EB0(int, int, int);
// 454F30: using guessed type int __stdcall sub_454F30(int, int);
// 454F60: using guessed type int __stdcall sub_454F60(int);
// 4550E0: using guessed type int __stdcall sub_4550E0(int);
// 4551A0: using guessed type int __stdcall sub_4551A0(int);

//----- (00455340) --------------------------------------------------------
int __stdcall sub_455340(int a1)
{
  int v1; // eax@4
  int v2; // eax@10

  sub_46DD60(a1, 0);
  if ( !*(_DWORD *)(a1 + 176) )
  {
    sub_46D1D0(a1);
    sub_46C940(a1);
    sub_46BE20(a1, 0);
  }
  sub_46B7C0(a1);
  if ( *(_DWORD *)(a1 + 180) )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 1;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  else if ( *(_DWORD *)(a1 + 236) )
  {
    sub_46A720(a1);
  }
  else
  {
    sub_469AC0(a1);
  }
  v2 = *(_DWORD *)(a1 + 168) > 1 || *(_DWORD *)(a1 + 184);
  sub_468CC0(a1, v2);
  sub_4684A0(a1, 0);
  sub_4552F0(a1);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 4) + 24))(a1);
  return (**(int (__stdcall ***)(_DWORD))(a1 + 356))(a1);
}

//----- (004553F0) --------------------------------------------------------
int __usercall sub_4553F0@<eax>(int a1@<esi>)
{
  int v1; // ebp@1
  int v2; // edi@1
  int v3; // eax@1
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // ebx@1
  int result; // eax@1
  int v8; // ecx@2
  int v9; // edi@4
  int v10; // ST20_4@4
  int v11; // eax@4
  int i; // [sp+18h] [bp-Ch]@2
  int v13; // [sp+1Ch] [bp-8h]@2

  v1 = *(_DWORD *)(a1 + 428);
  v2 = *(_DWORD *)(a1 + 320);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 8 * *(_DWORD *)(a1 + 36));
  v4 = *(_DWORD *)(a1 + 36);
  v5 = v3 + 4 * v4;
  v6 = 0;
  *(_DWORD *)(v1 + 56) = v3;
  result = *(_DWORD *)(a1 + 220);
  *(_DWORD *)(v1 + 60) = v5;
  if ( v4 > 0 )
  {
    v8 = result + 12;
    v13 = v2 + 4;
    for ( i = result + 12; ; v8 = i )
    {
      v9 = *(_DWORD *)v8 * *(_DWORD *)(v8 + 24) / *(_DWORD *)(a1 + 320) * v13;
      v10 = *(_DWORD *)v8 * *(_DWORD *)(v8 + 24) / *(_DWORD *)(a1 + 320);
      v11 = (**(int (__fastcall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(a1 + 4))(
              8 * v9,
              *(_DWORD *)v8 * *(_DWORD *)(v8 + 24) % *(_DWORD *)(a1 + 320),
              a1,
              1,
              8 * v9)
          + 4 * v10;
      *(_DWORD *)(*(_DWORD *)(v1 + 56) + 4 * v6) = v11;
      *(_DWORD *)(*(_DWORD *)(v1 + 60) + 4 * v6) = v11 + 4 * v9;
      result = *(_DWORD *)(a1 + 36);
      ++v6;
      i += 84;
      if ( v6 >= result )
        break;
    }
  }
  return result;
}

//----- (004554A0) --------------------------------------------------------
int __thiscall sub_4554A0(int this)
{
  int result; // eax@1
  int v2; // edx@1
  signed int v3; // ebp@1
  int v4; // edi@1
  char *v5; // ecx@2
  int v6; // edx@2
  int v7; // esi@2
  int v8; // eax@4
  char *v9; // ebx@4
  char *v10; // ecx@4
  int v11; // edi@4
  char *v12; // edx@5
  int v13; // ebx@6
  char *v14; // esi@9
  int v15; // ebx@9
  char *v16; // edx@9
  int v17; // ecx@9
  char *v18; // ecx@13
  bool v19; // zf@15
  char *v20; // [sp+8h] [bp-24h]@2
  int *v21; // [sp+Ch] [bp-20h]@2
  int v22; // [sp+10h] [bp-1Ch]@2
  int v23; // [sp+14h] [bp-18h]@5
  int v24; // [sp+14h] [bp-18h]@9
  char *v25; // [sp+18h] [bp-14h]@4
  int v26; // [sp+1Ch] [bp-10h]@2
  int v27; // [sp+20h] [bp-Ch]@2
  int v28; // [sp+24h] [bp-8h]@5
  signed int v29; // [sp+28h] [bp-4h]@1

  result = *(_DWORD *)(this + 428);
  v2 = *(_DWORD *)(this + 220);
  v3 = *(_DWORD *)(this + 320);
  v4 = *(_DWORD *)(this + 36);
  v29 = *(_DWORD *)(this + 320);
  if ( v4 > 0 )
  {
    v5 = *(char **)(result + 60);
    v21 = (int *)(result + 8);
    v6 = v2 + 12;
    v7 = *(_DWORD *)(result + 56) - (_DWORD)v5;
    v22 = v6;
    v20 = *(char **)(result + 60);
    v27 = *(_DWORD *)(result + 56) - (_DWORD)v5;
    v26 = v4;
    while ( 1 )
    {
      v8 = *(_DWORD *)v6 * *(_DWORD *)(v6 + 24) / v3;
      v9 = *(char **)&v5[v7];
      v10 = *(char **)v5;
      v11 = *v21;
      v25 = v9;
      if ( v8 * (v3 + 2) > 0 )
      {
        v12 = v10;
        v28 = v9 - v10;
        v23 = v8 * (v3 + 2);
        do
        {
          v13 = *(_DWORD *)&v12[v11 - (_DWORD)v10];
          *(_DWORD *)&v12[v28] = v13;
          *(_DWORD *)v12 = v13;
          v12 += 4;
          --v23;
        }
        while ( v23 );
        v9 = v25;
        v3 = v29;
      }
      if ( 2 * v8 > 0 )
      {
        v14 = &v10[4 * v3 * v8];
        v15 = v11 - (_DWORD)v10;
        v16 = (char *)(v11 + 4 * v8 * (v3 - 2));
        v17 = (int)&v10[-v11];
        v24 = 2 * v8;
        do
        {
          *(_DWORD *)&v16[v17] = *(_DWORD *)&v14[v15];
          *(_DWORD *)v14 = *(_DWORD *)v16;
          v16 += 4;
          v14 += 4;
          --v24;
        }
        while ( v24 );
        v9 = v25;
      }
      if ( v8 > 0 )
      {
        v18 = &v9[-4 * v8];
        do
        {
          *(_DWORD *)v18 = *(_DWORD *)v9;
          v18 += 4;
          --v8;
        }
        while ( v8 );
      }
      result = v26 - 1;
      v19 = v26 == 1;
      v20 += 4;
      ++v21;
      v22 += 84;
      --v26;
      if ( v19 )
        break;
      v6 = v22;
      v5 = v20;
      v7 = v27;
    }
  }
  return result;
}

//----- (004555F0) --------------------------------------------------------
int __usercall sub_4555F0@<eax>(int a1@<eax>)
{
  int v1; // ecx@1
  int v2; // ebp@1
  signed int v3; // edi@1
  int result; // eax@1
  char *v5; // ebx@2
  int v6; // ebp@2
  int v7; // ecx@2
  int v8; // eax@4
  int v9; // ecx@4
  char *v10; // esi@4
  char *v11; // ebx@5
  char *v12; // edx@5
  char *v13; // edi@5
  int v14; // ecx@5
  bool v15; // zf@8
  char *v16; // [sp+8h] [bp-14h]@2
  int v17; // [sp+Ch] [bp-10h]@2
  int v18; // [sp+10h] [bp-Ch]@2
  int v19; // [sp+14h] [bp-8h]@2
  signed int v20; // [sp+18h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 428);
  v2 = *(_DWORD *)(a1 + 220);
  v3 = *(_DWORD *)(a1 + 320);
  result = *(_DWORD *)(a1 + 36);
  v20 = v3;
  if ( result > 0 )
  {
    v5 = *(char **)(v1 + 60);
    v6 = v2 + 12;
    v7 = *(_DWORD *)(v1 + 56) - (_DWORD)v5;
    v17 = v6;
    v16 = v5;
    v19 = v7;
    v18 = result;
    while ( 1 )
    {
      v8 = *(_DWORD *)v6 * *(_DWORD *)(v6 + 24) / v3;
      v9 = *(_DWORD *)&v5[v7];
      v10 = *(char **)v5;
      if ( v8 > 0 )
      {
        v11 = &v10[4 * v8 * (v3 + 2)];
        v12 = &v10[-4 * v8];
        v13 = &v10[4 * v8 * (v3 + 1)];
        v14 = v9 - (_DWORD)v10;
        do
        {
          *(_DWORD *)&v12[v14] = *(_DWORD *)&v13[v14];
          *(_DWORD *)v12 = *(_DWORD *)v13;
          *(_DWORD *)&v11[v14] = *(_DWORD *)&v10[v14];
          *(_DWORD *)v11 = *(_DWORD *)v10;
          v13 += 4;
          v12 += 4;
          v10 += 4;
          v11 += 4;
          --v8;
        }
        while ( v8 );
        v3 = v20;
        v6 = v17;
        v5 = v16;
      }
      v5 += 4;
      v6 += 84;
      result = v18 - 1;
      v15 = v18 == 1;
      v16 = v5;
      v17 = v6;
      --v18;
      if ( v15 )
        break;
      v7 = v19;
    }
  }
  return result;
}

//----- (004556D0) --------------------------------------------------------
int __usercall sub_4556D0@<eax>(int result@<eax>)
{
  int v1; // ebp@1
  int v2; // ebx@2
  int v3; // edi@3
  unsigned int v4; // esi@3
  int v5; // eax@7
  int v6; // edx@7
  int v7; // ecx@8
  _DWORD *v8; // eax@8
  signed int v9; // [sp+8h] [bp-10h]@2
  int v10; // [sp+Ch] [bp-Ch]@1
  _DWORD *v11; // [sp+10h] [bp-8h]@2
  int v12; // [sp+14h] [bp-4h]@1

  v1 = 0;
  v10 = *(_DWORD *)(result + 428);
  v12 = *(_DWORD *)(result + 36);
  if ( *(_DWORD *)(result + 36) > 0 )
  {
    v9 = *(_DWORD *)(result + 320);
    v11 = (_DWORD *)(*(_DWORD *)(result + 428) + 4 * *(_DWORD *)(*(_DWORD *)(result + 428) + 64) + 56);
    v2 = *(_DWORD *)(result + 220) + 12;
    do
    {
      v3 = *(_DWORD *)v2 * *(_DWORD *)(v2 + 24) / v9;
      v4 = *(_DWORD *)(v2 + 32) % (unsigned int)(*(_DWORD *)v2 * *(_DWORD *)(v2 + 24));
      if ( !v4 )
        v4 = *(_DWORD *)v2 * *(_DWORD *)(v2 + 24);
      if ( !v1 )
        *(_DWORD *)(v10 + 72) = (signed int)(v4 - 1) / v3 + 1;
      v5 = *(_DWORD *)(*v11 + 4 * v1);
      v6 = 2 * v3;
      if ( 2 * v3 > 0 )
      {
        v7 = v5 + 4 * v4;
        v8 = (_DWORD *)(v5 + 4 * v4);
        do
        {
          *v8 = *(_DWORD *)(v7 - 4);
          ++v8;
          --v6;
        }
        while ( v6 );
      }
      result = v12;
      ++v1;
      v2 += 84;
    }
    while ( v1 < v12 );
  }
  return result;
}

//----- (00455780) --------------------------------------------------------
int __stdcall sub_455780(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@2
  unsigned int v6; // ebp@4

  v4 = *(_DWORD *)(a1 + 428);
  if ( !*(_DWORD *)(v4 + 48) )
  {
    result = (*(int (__stdcall **)(int, int))(*(_DWORD *)(a1 + 432) + 12))(a1, v4 + 8);
    if ( !result )
      return result;
    *(_DWORD *)(v4 + 48) = 1;
  }
  v6 = *(_DWORD *)(a1 + 320);
  result = (*(int (__stdcall **)(int, int, int, _DWORD, int, int, int))(*(_DWORD *)(a1 + 436) + 4))(
             a1,
             v4 + 8,
             v4 + 52,
             *(_DWORD *)(a1 + 320),
             a2,
             a3,
             a4);
  if ( *(_DWORD *)(v4 + 52) >= v6 )
  {
    *(_DWORD *)(v4 + 48) = 0;
    *(_DWORD *)(v4 + 52) = 0;
  }
  return result;
}

//----- (004557F0) --------------------------------------------------------
int __stdcall sub_4557F0(int a1, int a2, unsigned int *a3, unsigned int a4)
{
  int v4; // esi@1
  int result; // eax@2
  int v6; // eax@3
  int v7; // eax@4
  int v8; // eax@5
  bool v9; // cf@8
  int v10; // edx@9
  int v11; // eax@9
  int v12; // ecx@9
  int v13; // edi@15

  v4 = *(_DWORD *)(a1 + 428);
  if ( !*(_DWORD *)(v4 + 48) )
  {
    result = (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)(a1 + 432) + 12))(
               a1,
               *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56));
    if ( !result )
      return result;
    v6 = *(_DWORD *)(v4 + 76) + 1;
    *(_DWORD *)(v4 + 48) = 1;
    *(_DWORD *)(v4 + 76) = v6;
  }
  v7 = *(_DWORD *)(v4 + 68);
  if ( !v7 )
  {
LABEL_9:
    v10 = *(_DWORD *)(v4 + 76);
    v11 = *(_DWORD *)(a1 + 324);
    v12 = *(_DWORD *)(a1 + 320) - 1;
    *(_DWORD *)(v4 + 52) = 0;
    *(_DWORD *)(v4 + 72) = v12;
    if ( v10 == v11 )
      sub_4556D0(a1);
    *(_DWORD *)(v4 + 68) = 1;
    goto LABEL_12;
  }
  v8 = v7 - 1;
  if ( v8 )
  {
    result = v8 - 1;
    if ( result )
      return result;
    result = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, int, unsigned int *, unsigned int))(*(_DWORD *)(a1 + 436)
                                                                                               + 4))(
               a1,
               *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56),
               v4 + 52,
               *(_DWORD *)(v4 + 72),
               a2,
               a3,
               a4);
    if ( *(_DWORD *)(v4 + 52) < *(_DWORD *)(v4 + 72) )
      return result;
    result = (int)a3;
    v9 = *a3 < a4;
    *(_DWORD *)(v4 + 68) = 0;
    if ( !v9 )
      return result;
    goto LABEL_9;
  }
LABEL_12:
  result = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, int, unsigned int *, unsigned int))(*(_DWORD *)(a1 + 436) + 4))(
             a1,
             *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56),
             v4 + 52,
             *(_DWORD *)(v4 + 72),
             a2,
             a3,
             a4);
  if ( *(_DWORD *)(v4 + 52) >= *(_DWORD *)(v4 + 72) )
  {
    if ( *(_DWORD *)(v4 + 76) == 1 )
      sub_4555F0(a1);
    v13 = *(_DWORD *)(a1 + 320);
    *(_DWORD *)(v4 + 64) ^= 1u;
    result = v13 + 1;
    *(_DWORD *)(v4 + 48) = 0;
    *(_DWORD *)(v4 + 52) = v13 + 1;
    *(_DWORD *)(v4 + 72) = v13 + 2;
    *(_DWORD *)(v4 + 68) = 2;
  }
  return result;
}

//----- (00455990) --------------------------------------------------------
int __stdcall sub_455990(int a1, int a2)
{
  int v2; // esi@1
  _DWORD *v3; // ebx@1
  int v4; // eax@2
  int v5; // eax@5
  int result; // eax@8
  int v7; // ebp@8
  _DWORD *v8; // edi@9
  _DWORD *v9; // ebx@9
  int v10; // [sp+14h] [bp+4h]@6

  v2 = a1;
  v3 = (_DWORD *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 80);
  *(_DWORD *)(a1 + 428) = v3;
  *v3 = sub_455920;
  if ( a2 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 4;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 456) + 8) )
  {
    if ( *(_DWORD *)(a1 + 320) < 2 )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 47;
      (*(void (__stdcall **)(int))v5)(a1);
    }
    sub_4553F0(a1);
    v10 = *(_DWORD *)(a1 + 320) + 2;
  }
  else
  {
    v10 = *(_DWORD *)(a1 + 320);
  }
  result = *(_DWORD *)(v2 + 220);
  v7 = 0;
  if ( *(_DWORD *)(v2 + 36) > 0 )
  {
    v8 = (_DWORD *)(result + 36);
    v9 = v3 + 2;
    do
    {
      *v9 = (*(int (__stdcall **)(int, signed int, int, int))(*(_DWORD *)(v2 + 4) + 8))(
              v2,
              1,
              *v8 * *(v8 - 2),
              v10 * (*v8 * *(v8 - 6) / *(_DWORD *)(v2 + 320)));
      result = *(_DWORD *)(v2 + 36);
      ++v7;
      ++v9;
      v8 += 21;
    }
    while ( v7 < result );
  }
  return result;
}
// 455920: using guessed type int __stdcall sub_455920(int, int);

//----- (00455A60) --------------------------------------------------------
int __thiscall sub_455A60(int this)
{
  int result; // eax@1
  signed int v2; // edx@1
  int v3; // edx@2
  unsigned int v4; // esi@2
  int v5; // ecx@2

  result = *(_DWORD *)(this + 432);
  v2 = 1;
  if ( *(_DWORD *)(this + 332) <= 1 )
  {
    v3 = *(_DWORD *)(this + 324);
    v4 = *(_DWORD *)(this + 152);
    v5 = *(_DWORD *)(this + 336);
    if ( v4 < v3 - 1 )
    {
      *(_DWORD *)(result + 28) = *(_DWORD *)(v5 + 12);
      *(_DWORD *)(result + 20) = 0;
      *(_DWORD *)(result + 24) = 0;
      return result;
    }
    v2 = *(_DWORD *)(v5 + 72);
  }
  *(_DWORD *)(result + 28) = v2;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  return result;
}

//----- (00455AD0) --------------------------------------------------------
signed int __stdcall sub_455AD0(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // ebp@1
  int v4; // esi@1
  int v5; // eax@1
  unsigned int v6; // edi@2
  int v7; // ecx@4
  int v8; // esi@6
  int v9; // eax@8
  int v10; // edx@9
  int v11; // edi@11
  int v12; // ebp@11
  int v13; // eax@11
  _DWORD *v14; // ebx@15
  int v15; // edx@19
  bool v16; // sf@19
  unsigned __int8 v17; // of@19
  int v18; // ecx@23
  unsigned int v19; // edx@23
  unsigned int v20; // ecx@23
  int v21; // eax@24
  signed int result; // eax@25
  bool v23; // cf@27
  int v24; // edx@27
  int v25; // ecx@28
  int v26; // [sp+1Ch] [bp-34h]@1
  unsigned int v27; // [sp+20h] [bp-30h]@2
  int v28; // [sp+24h] [bp-2Ch]@1
  int v29; // [sp+28h] [bp-28h]@4
  int v30; // [sp+2Ch] [bp-24h]@5
  int v31; // [sp+30h] [bp-20h]@11
  int v32; // [sp+34h] [bp-1Ch]@15
  int i; // [sp+38h] [bp-18h]@11
  int v34; // [sp+3Ch] [bp-14h]@4
  int v35; // [sp+40h] [bp-10h]@1
  unsigned int v36; // [sp+44h] [bp-Ch]@1
  void (__stdcall *v37)(int, int, _DWORD, int, int); // [sp+48h] [bp-8h]@8
  int v38; // [sp+4Ch] [bp-4h]@11

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 352) - 1;
  v4 = *(_DWORD *)(a1 + 432);
  v36 = *(_DWORD *)(a1 + 324) - 1;
  v5 = *(_DWORD *)(v4 + 24);
  v28 = *(_DWORD *)(a1 + 432);
  v35 = *(_DWORD *)(a1 + 352) - 1;
  v26 = *(_DWORD *)(v4 + 24);
  if ( v5 >= *(_DWORD *)(v4 + 28) )
  {
LABEL_23:
    v18 = *(_DWORD *)(v2 + 152);
    ++*(_DWORD *)(v2 + 160);
    v19 = *(_DWORD *)(v2 + 324);
    v20 = v18 + 1;
    *(_DWORD *)(v2 + 152) = v20;
    if ( v20 >= v19 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)(v2 + 440) + 12))(v2);
      result = 4;
    }
    else
    {
      v21 = *(_DWORD *)(v2 + 432);
      if ( *(_DWORD *)(v2 + 332) <= 1 )
      {
        v23 = v20 < v19 - 1;
        v24 = *(_DWORD *)(v2 + 336);
        if ( v23 )
          v25 = *(_DWORD *)(v24 + 12);
        else
          v25 = *(_DWORD *)(v24 + 72);
        *(_DWORD *)(v21 + 28) = v25;
        *(_DWORD *)(v21 + 20) = 0;
        *(_DWORD *)(v21 + 24) = 0;
        result = 3;
      }
      else
      {
        *(_DWORD *)(v21 + 28) = 1;
        *(_DWORD *)(v21 + 20) = 0;
        *(_DWORD *)(v21 + 24) = 0;
        result = 3;
      }
    }
  }
  else
  {
    while ( 1 )
    {
      v6 = *(_DWORD *)(v4 + 20);
      v27 = *(_DWORD *)(v4 + 20);
      if ( v6 <= v3 )
        break;
LABEL_22:
      *(_DWORD *)(v4 + 20) = 0;
      v26 = ++v5;
      if ( v5 >= *(_DWORD *)(v4 + 28) )
        goto LABEL_23;
    }
    while ( 1 )
    {
      sub_4527C0(*(void **)(v4 + 32), *(_DWORD *)(v2 + 360) << 7);
      if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)(v2 + 448) + 4))(v2, v4 + 32) )
        break;
      v7 = 0;
      v29 = 0;
      v34 = 0;
      if ( *(_DWORD *)(v2 + 332) > 0 )
      {
        v30 = v2 + 336;
        do
        {
          v8 = *(_DWORD *)v30;
          if ( *(_DWORD *)(*(_DWORD *)v30 + 48) )
          {
            v9 = 4 * *(_DWORD *)(v8 + 4);
            v37 = *(void (__stdcall **)(int, int, _DWORD, int, int))(*(_DWORD *)(v2 + 452) + v9 + 4);
            if ( v6 >= v3 )
              v10 = *(_DWORD *)(v8 + 68);
            else
              v10 = *(_DWORD *)(v8 + 52);
            v11 = v27 * *(_DWORD *)(v8 + 64);
            v31 = v10;
            v12 = *(_DWORD *)(v9 + a2) + 4 * v26 * *(_DWORD *)(v8 + 36);
            v13 = 0;
            v38 = v27 * *(_DWORD *)(v8 + 64);
            for ( i = 0; v13 < *(_DWORD *)(v8 + 56); i = v13 )
            {
              if ( (*(_DWORD *)(v2 + 152) < v36 || v13 + v26 < *(_DWORD *)(v8 + 72)) && v31 > 0 )
              {
                v14 = (_DWORD *)(v28 + 4 * v7 + 32);
                v32 = v31;
                do
                {
                  v37(a1, v8, *v14, v12, v11);
                  v11 += *(_DWORD *)(v8 + 36);
                  ++v14;
                  --v32;
                }
                while ( v32 );
                v13 = i;
                v11 = v38;
                v7 = v29;
                v2 = a1;
              }
              v7 += *(_DWORD *)(v8 + 52);
              v12 += 4 * *(_DWORD *)(v8 + 36);
              ++v13;
              v29 = v7;
            }
          }
          else
          {
            v7 += *(_DWORD *)(v8 + 60);
            v29 = v7;
          }
          v15 = *(_DWORD *)(v2 + 332);
          v3 = v35;
          v6 = v27;
          v17 = __OFSUB__(v34 + 1, v15);
          v16 = v34++ + 1 - v15 < 0;
          v30 += 4;
        }
        while ( v16 ^ v17 );
      }
      v4 = v28;
      v27 = ++v6;
      if ( v6 > v3 )
      {
        v5 = v26;
        goto LABEL_22;
      }
    }
    *(_DWORD *)(v28 + 20) = v6;
    *(_DWORD *)(v28 + 24) = v26;
    result = 0;
  }
  return result;
}

//----- (00455D80) --------------------------------------------------------
signed int __stdcall sub_455D80(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // edi@2
  int v4; // eax@4
  int v5; // edi@4
  unsigned int v6; // ebx@5
  int v7; // edx@6
  int v8; // esi@8
  int v9; // ebx@9
  _DWORD *v10; // edi@9
  int v11; // eax@10
  int *v12; // ecx@11
  int v13; // edx@11
  unsigned int v14; // edx@20
  unsigned int v15; // ecx@20
  int v16; // eax@21
  signed int result; // eax@22
  bool v18; // cf@24
  int v19; // edx@24
  int v20; // ecx@25
  int v21; // [sp+1Ch] [bp-30h]@1
  int v22; // [sp+20h] [bp-2Ch]@6
  int v23; // [sp+24h] [bp-28h]@7
  int v24; // [sp+28h] [bp-24h]@9
  int v25; // [sp+2Ch] [bp-20h]@6
  unsigned int v26; // [sp+30h] [bp-1Ch]@5
  int v27; // [sp+34h] [bp-18h]@4
  int v28; // [sp+38h] [bp-14h]@7
  int v29[4]; // [sp+3Ch] [bp-10h]@3

  v1 = a1;
  v21 = *(_DWORD *)(a1 + 432);
  v2 = 0;
  if ( *(_DWORD *)(a1 + 332) > 0 )
  {
    v3 = a1 + 336;
    do
    {
      v29[v2++] = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, signed int))(*(_DWORD *)(a1 + 4) + 32))(
                    a1,
                    *(_DWORD *)(v21 + 4 * *(_DWORD *)(*(_DWORD *)v3 + 4) + 72),
                    *(_DWORD *)(*(_DWORD *)v3 + 12) * *(_DWORD *)(a1 + 152),
                    *(_DWORD *)(*(_DWORD *)v3 + 12),
                    1);
      v3 += 4;
    }
    while ( v2 < *(_DWORD *)(a1 + 332) );
  }
  v4 = v21;
  v5 = *(_DWORD *)(v21 + 24);
  v27 = *(_DWORD *)(v21 + 24);
  if ( v5 >= *(_DWORD *)(v21 + 28) )
  {
LABEL_20:
    v14 = *(_DWORD *)(v1 + 324);
    v15 = *(_DWORD *)(v1 + 152) + 1;
    *(_DWORD *)(v1 + 152) = v15;
    if ( v15 >= v14 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)(v1 + 440) + 12))(v1);
      result = 4;
    }
    else
    {
      v16 = *(_DWORD *)(v1 + 432);
      if ( *(_DWORD *)(v1 + 332) <= 1 )
      {
        v18 = v15 < v14 - 1;
        v19 = *(_DWORD *)(v1 + 336);
        if ( v18 )
          v20 = *(_DWORD *)(v19 + 12);
        else
          v20 = *(_DWORD *)(v19 + 72);
        *(_DWORD *)(v16 + 28) = v20;
        *(_DWORD *)(v16 + 20) = 0;
        *(_DWORD *)(v16 + 24) = 0;
        result = 3;
      }
      else
      {
        *(_DWORD *)(v16 + 28) = 1;
        *(_DWORD *)(v16 + 20) = 0;
        *(_DWORD *)(v16 + 24) = 0;
        result = 3;
      }
    }
  }
  else
  {
    while ( 1 )
    {
      v6 = *(_DWORD *)(v4 + 20);
      v26 = *(_DWORD *)(v4 + 20);
      if ( v6 < *(_DWORD *)(v1 + 352) )
        break;
LABEL_19:
      v4 = v21;
      *(_DWORD *)(v21 + 20) = 0;
      v27 = ++v5;
      if ( v5 >= *(_DWORD *)(v21 + 28) )
        goto LABEL_20;
    }
    while ( 1 )
    {
      v7 = 0;
      v22 = 0;
      v25 = 0;
      if ( *(_DWORD *)(v1 + 332) > 0 )
      {
        v28 = *(_DWORD *)(v1 + 332);
        v23 = v1 + 336;
        do
        {
          v8 = *(_DWORD *)(*(_DWORD *)v23 + 52);
          if ( *(_DWORD *)(*(_DWORD *)v23 + 56) > 0 )
          {
            v9 = v6 * *(_DWORD *)(*(_DWORD *)v23 + 52) << 7;
            v10 = (_DWORD *)(v29[v7] + 4 * v5);
            v24 = *(_DWORD *)(*(_DWORD *)v23 + 56);
            do
            {
              v11 = v9 + *v10;
              if ( v8 > 0 )
              {
                v12 = (int *)(v21 + 4 * v22 + 32);
                v13 = v8;
                v22 += v8;
                do
                {
                  *v12 = v11;
                  ++v12;
                  v11 += 128;
                  --v13;
                }
                while ( v13 );
                v1 = a1;
              }
              ++v10;
              --v24;
            }
            while ( v24 );
            v5 = v27;
            v6 = v26;
            v7 = v25;
          }
          v25 = ++v7;
          v23 += 4;
        }
        while ( v7 < v28 );
      }
      if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)(v1 + 448) + 4))(v1, v21 + 32) )
        break;
      v26 = ++v6;
      if ( v6 >= *(_DWORD *)(v1 + 352) )
        goto LABEL_19;
    }
    *(_DWORD *)(v21 + 24) = v5;
    *(_DWORD *)(v21 + 20) = v6;
    result = 0;
  }
  return result;
}
// 455D80: using guessed type int var_10[4];

//----- (00455FC0) --------------------------------------------------------
int __stdcall sub_455FC0(int a1, int a2)
{
  int v2; // edi@1
  int v3; // ebp@1
  int v4; // eax@2
  int v5; // ecx@2
  int result; // eax@5
  int v7; // ebx@7
  int v8; // esi@7
  _DWORD *v9; // ebp@8
  int v10; // ecx@14
  unsigned int v11; // eax@15
  int v12; // ebx@16
  int v13; // edi@16
  unsigned int v14; // ebp@16
  unsigned int v15; // edx@22
  unsigned int v16; // eax@22
  int v17; // [sp+28h] [bp-20h]@11
  int v18; // [sp+2Ch] [bp-1Ch]@14
  int v19; // [sp+30h] [bp-18h]@14
  int v20; // [sp+34h] [bp-14h]@7
  _DWORD *v21; // [sp+38h] [bp-10h]@8
  unsigned int v22; // [sp+3Ch] [bp-Ch]@1
  int v23; // [sp+40h] [bp-8h]@10
  void (__stdcall *v24)(int, int, int, int, int); // [sp+44h] [bp-4h]@14

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 432);
  v22 = *(_DWORD *)(a1 + 324) - 1;
  while ( 1 )
  {
    v4 = *(_DWORD *)(a1 + 148);
    v5 = *(_DWORD *)(a1 + 156);
    if ( v4 >= v5 && (v4 != v5 || *(_DWORD *)(a1 + 152) > *(_DWORD *)(a1 + 160)) )
      break;
    result = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
    if ( !result )
      return result;
  }
  v7 = 0;
  v8 = *(_DWORD *)(a1 + 220);
  v20 = 0;
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v9 = (_DWORD *)(v3 + 72);
    v21 = v9;
    do
    {
      if ( *(_DWORD *)(v8 + 48) )
      {
        v23 = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)(v2 + 4) + 32))(
                v2,
                *v9,
                *(_DWORD *)(v8 + 12) * *(_DWORD *)(v2 + 160),
                *(_DWORD *)(v8 + 12),
                0);
        if ( *(_DWORD *)(v2 + 160) >= v22 )
        {
          v17 = *(_DWORD *)(v8 + 32) % *(_DWORD *)(v8 + 12);
          if ( !v17 )
            v17 = *(_DWORD *)(v8 + 12);
        }
        else
        {
          v17 = *(_DWORD *)(v8 + 12);
        }
        v18 = *(_DWORD *)(a2 + 4 * v7);
        v24 = *(void (__stdcall **)(int, int, int, int, int))(*(_DWORD *)(v2 + 452) + 4 * v7 + 4);
        v10 = 0;
        v19 = 0;
        if ( v17 > 0 )
        {
          v11 = *(_DWORD *)(v8 + 28);
          do
          {
            v12 = *(_DWORD *)(v23 + 4 * v10);
            v13 = 0;
            v14 = 0;
            if ( v11 )
            {
              do
              {
                v24(a1, v8, v12, v18, v13);
                v13 += *(_DWORD *)(v8 + 36);
                v11 = *(_DWORD *)(v8 + 28);
                v12 += 128;
                ++v14;
              }
              while ( v14 < v11 );
              v10 = v19;
            }
            v18 += 4 * *(_DWORD *)(v8 + 36);
            v19 = ++v10;
          }
          while ( v10 < v17 );
          v2 = a1;
          v7 = v20;
        }
      }
      ++v7;
      v9 = v21 + 1;
      v8 += 84;
      v20 = v7;
      ++v21;
    }
    while ( v7 < *(_DWORD *)(v2 + 36) );
  }
  v15 = *(_DWORD *)(v2 + 324);
  v16 = *(_DWORD *)(v2 + 160) + 1;
  *(_DWORD *)(v2 + 160) = v16;
  return 4 - (v16 < v15);
}

//----- (00456150) --------------------------------------------------------
signed int __usercall sub_456150@<eax>(int a1@<ebx>)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // esi@5
  int v4; // edi@5
  int v5; // ecx@6
  int v6; // eax@7
  int v7; // eax@14
  int v8; // edx@14
  int v9; // eax@14
  int v10; // edx@15
  int v11; // edx@17
  int v12; // edx@19
  int v13; // edx@21
  int v14; // eax@23
  signed int v16; // [sp+Ch] [bp-8h]@1
  int *v17; // [sp+10h] [bp-4h]@6

  v1 = 0;
  v2 = *(_DWORD *)(a1 + 432);
  v16 = 0;
  if ( *(_DWORD *)(a1 + 224) && *(_DWORD *)(a1 + 164) )
  {
    if ( !*(_DWORD *)(v2 + 112) )
      *(_DWORD *)(v2 + 112) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(
                                a1,
                                1,
                                24 * *(_DWORD *)(a1 + 36));
    v3 = *(_DWORD *)(v2 + 112);
    v4 = 0;
    if ( *(_DWORD *)(a1 + 36) <= 0 )
      return v16;
    v17 = (int *)(*(_DWORD *)(a1 + 220) + 76);
    v5 = v3 + 4;
    while ( 1 )
    {
      v6 = *v17;
      if ( !*v17 )
        break;
      if ( !*(_WORD *)v6 )
        break;
      if ( !*(_WORD *)(v6 + 2) )
        break;
      if ( !*(_WORD *)(v6 + 16) )
        break;
      if ( !*(_WORD *)(v6 + 32) )
        break;
      if ( !*(_WORD *)(v6 + 18) )
        break;
      if ( !*(_WORD *)(v6 + 4) )
        break;
      v7 = *(_DWORD *)(a1 + 164);
      v8 = *(_DWORD *)(v7 + v1);
      v9 = v1 + v7;
      if ( v8 < 0 )
        break;
      v10 = *(_DWORD *)(v9 + 4);
      *(_DWORD *)v5 = v10;
      if ( v10 )
        v16 = 1;
      v11 = *(_DWORD *)(v9 + 8);
      *(_DWORD *)(v5 + 4) = v11;
      if ( v11 )
        v16 = 1;
      v12 = *(_DWORD *)(v9 + 12);
      *(_DWORD *)(v5 + 8) = v12;
      if ( v12 )
        v16 = 1;
      v13 = *(_DWORD *)(v9 + 16);
      *(_DWORD *)(v5 + 12) = v13;
      if ( v13 )
        v16 = 1;
      v14 = *(_DWORD *)(v9 + 20);
      *(_DWORD *)(v5 + 16) = v14;
      if ( v14 )
        v16 = 1;
      v5 += 24;
      ++v4;
      v1 += 256;
      v17 += 21;
      if ( v4 >= *(_DWORD *)(a1 + 36) )
        return v16;
    }
  }
  return 0;
}

//----- (004562A0) --------------------------------------------------------
int __stdcall sub_4562A0(int a1, int a2)
{
  int v2; // eax@2
  int v3; // ebp@7
  unsigned int v4; // esi@10
  unsigned int v5; // ecx@10
  int v6; // ebx@11
  int v7; // eax@11
  unsigned int v9; // ett@13
  int v10; // ST08_4@17
  char *v11; // esi@17
  int v12; // eax@19
  _WORD *v13; // eax@20
  _WORD *v14; // ecx@21
  int v15; // esi@26
  int v16; // edi@26
  int v17; // ebx@26
  int v18; // ecx@29
  int v19; // edx@31
  signed int v20; // ebp@31
  int v21; // eax@31
  int v22; // eax@32
  int v23; // eax@35
  int v24; // ecx@40
  int v25; // edx@42
  signed int v26; // ebp@42
  int v27; // eax@42
  int v28; // eax@43
  int v29; // eax@46
  int v30; // ecx@51
  int v31; // edx@53
  signed int v32; // ebp@53
  int v33; // eax@53
  int v34; // eax@54
  int v35; // eax@57
  int v36; // ecx@62
  int v37; // edx@64
  signed int v38; // edi@64
  int v39; // eax@64
  int v40; // eax@65
  int v41; // eax@68
  int v42; // ecx@73
  int v43; // edx@75
  signed int v44; // edi@75
  int v45; // eax@75
  int v46; // eax@76
  int v47; // eax@79
  bool v48; // cf@84
  bool v49; // zf@84
  int v50; // ecx@86
  bool v51; // sf@86
  unsigned __int8 v52; // of@86
  unsigned int v53; // edx@87
  unsigned int v54; // esi@87
  int v55; // [sp+24h] [bp-104h]@19
  int v56; // [sp+28h] [bp-100h]@19
  int v57; // [sp+2Ch] [bp-FCh]@20
  int v58; // [sp+30h] [bp-F8h]@26
  int v59; // [sp+34h] [bp-F4h]@11
  int v60; // [sp+38h] [bp-F0h]@26
  char *v61; // [sp+3Ch] [bp-ECh]@8
  int v62; // [sp+40h] [bp-E8h]@26
  int v63; // [sp+44h] [bp-E4h]@7
  int v64; // [sp+48h] [bp-E0h]@19
  int v65; // [sp+4Ch] [bp-DCh]@26
  unsigned int v66; // [sp+50h] [bp-D8h]@26
  int v67; // [sp+54h] [bp-D4h]@26
  int v68; // [sp+58h] [bp-D0h]@26
  _WORD *v69; // [sp+5Ch] [bp-CCh]@26
  int v70; // [sp+60h] [bp-C8h]@19
  _WORD *v71; // [sp+64h] [bp-C4h]@26
  int v72; // [sp+68h] [bp-C0h]@7
  int v73; // [sp+6Ch] [bp-BCh]@26
  int v74; // [sp+70h] [bp-B8h]@8
  int v75; // [sp+74h] [bp-B4h]@17
  int v76; // [sp+78h] [bp-B0h]@19
  int v77; // [sp+7Ch] [bp-ACh]@1
  int v78; // [sp+80h] [bp-A8h]@19
  signed int v79; // [sp+84h] [bp-A4h]@11
  unsigned int v80; // [sp+88h] [bp-A0h]@26
  int v81; // [sp+8Ch] [bp-9Ch]@19
  int v82; // [sp+90h] [bp-98h]@19
  signed int v83; // [sp+94h] [bp-94h]@17
  int v84; // [sp+98h] [bp-90h]@19
  unsigned int v85; // [sp+9Ch] [bp-8Ch]@1
  void (__stdcall *v86)(int, int, char *, int, int); // [sp+A0h] [bp-88h]@19
  char v87; // [sp+A8h] [bp-80h]@27
  __int16 v88; // [sp+AAh] [bp-7Eh]@30
  __int16 v89; // [sp+ACh] [bp-7Ch]@74
  __int16 v90; // [sp+B8h] [bp-70h]@41
  __int16 v91; // [sp+BAh] [bp-6Eh]@63
  __int16 v92; // [sp+C8h] [bp-60h]@52

  v77 = *(_DWORD *)(a1 + 432);
  v85 = *(_DWORD *)(a1 + 324) - 1;
  while ( *(_DWORD *)(a1 + 148) <= *(_DWORD *)(a1 + 156) )
  {
    v2 = *(_DWORD *)(a1 + 440);
    if ( *(_DWORD *)(v2 + 20)
      || *(_DWORD *)(a1 + 148) == *(_DWORD *)(a1 + 156)
      && *(_DWORD *)(a1 + 152) > *(_DWORD *)(a1 + 160) + (unsigned int)(*(_DWORD *)(a1 + 404) == 0) )
    {
      break;
    }
    if ( !(*(int (__stdcall **)(int))v2)(a1) )
      return 0;
  }
  v3 = *(_DWORD *)(a1 + 220);
  v72 = 0;
  v63 = *(_DWORD *)(a1 + 220);
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v61 = (char *)(v77 + 72);
    v74 = 0;
    do
    {
      if ( *(_DWORD *)(v3 + 48) )
      {
        v4 = *(_DWORD *)(a1 + 160);
        v5 = *(_DWORD *)(v3 + 12);
        if ( v4 >= v85 )
        {
          v9 = *(_DWORD *)(v3 + 32);
          v6 = v9 % v5;
          v59 = v9 % v5;
          if ( !(v9 % v5) )
          {
            v6 = *(_DWORD *)(v3 + 12);
            v59 = *(_DWORD *)(v3 + 12);
          }
          v7 = v6;
          v79 = 1;
        }
        else
        {
          v6 = *(_DWORD *)(v3 + 12);
          v59 = *(_DWORD *)(v3 + 12);
          v7 = 2 * v5;
          v79 = 0;
        }
        if ( v4 )
        {
          v10 = v5 * (v4 - 1);
          v11 = v61;
          v75 = (*(int (__stdcall **)(int, _DWORD, int, int, _DWORD))(*(_DWORD *)(a1 + 4) + 32))(
                  a1,
                  *(_DWORD *)v61,
                  v10,
                  v5 + v7,
                  0)
              + 4 * *(_DWORD *)(v3 + 12);
          v83 = 0;
        }
        else
        {
          v11 = v61;
          v75 = (*(int (__stdcall **)(int, _DWORD, _DWORD, int, _DWORD))(*(_DWORD *)(a1 + 4) + 32))(
                  a1,
                  *(_DWORD *)v61,
                  0,
                  v7,
                  0);
          v83 = 1;
        }
        v56 = v74 + *(_DWORD *)(v77 + 112);
        v12 = *(_DWORD *)(v3 + 76);
        v55 = *(_WORD *)v12;
        v82 = *(_WORD *)(v12 + 2);
        v81 = *(_WORD *)(v12 + 16);
        v84 = *(_WORD *)(v12 + 32);
        v76 = *(_WORD *)(v12 + 18);
        v78 = *(_WORD *)(v12 + 4);
        v86 = *(void (__stdcall **)(int, int, char *, int, int))(&v11[*(_DWORD *)(a1 + 452) + 4] + -72 - v77);
        v64 = *(_DWORD *)(a2 + 4 * v72);
        v70 = 0;
        if ( v6 > 0 )
        {
          do
          {
            v13 = *(_WORD **)(v75 + 4 * v70);
            v57 = *(_DWORD *)(v75 + 4 * v70);
            if ( !v83 || (v14 = *(_WORD **)(v75 + 4 * v70), v70) )
              v14 = *(_WORD **)(v75 + 4 * v70 - 4);
            if ( !v79 || v70 != v59 - 1 )
              v13 = *(_WORD **)(v75 + 4 * v70 + 4);
            v15 = *(_WORD *)v57;
            v16 = *v14;
            v17 = *v13;
            v68 = *v14;
            v60 = *v14;
            v58 = *(_WORD *)v57;
            v73 = *(_WORD *)v57;
            v67 = *v13;
            v62 = *v13;
            v65 = 0;
            v80 = *(_DWORD *)(v3 + 28) - 1;
            v66 = 0;
            v69 = v13 + 64;
            v71 = v14 + 64;
            do
            {
              sub_452790((const void *)v57, &v87, 1);
              if ( v66 < v80 )
              {
                v15 = *(_WORD *)(v57 + 128);
                v68 = *v71;
                v67 = *v69;
              }
              v18 = *(_DWORD *)(v56 + 4);
              if ( v18 && !v88 )
              {
                v19 = 36 * v55 * (v73 - v15);
                v20 = v82 << 8;
                v21 = v82 << 7;
                if ( v19 < 0 )
                {
                  v23 = (v21 - v19) / v20;
                  if ( v18 > 0 && v23 >= 1 << v18 )
                    v23 = (1 << v18) - 1;
                  v22 = -v23;
                }
                else
                {
                  v22 = (v19 + v21) / v20;
                  if ( v18 > 0 && v22 >= 1 << v18 )
                    v22 = (1 << v18) - 1;
                }
                v3 = v63;
                v88 = v22;
              }
              v24 = *(_DWORD *)(v56 + 8);
              if ( v24 && !v90 )
              {
                v25 = 36 * v55 * (v60 - v62);
                v26 = v81 << 8;
                v27 = v81 << 7;
                if ( v25 < 0 )
                {
                  v29 = (v27 - v25) / v26;
                  if ( v24 > 0 && v29 >= 1 << v24 )
                    v29 = (1 << v24) - 1;
                  v28 = -v29;
                }
                else
                {
                  v28 = (v25 + v27) / v26;
                  if ( v24 > 0 && v28 >= 1 << v24 )
                    v28 = (1 << v24) - 1;
                }
                v3 = v63;
                v90 = v28;
              }
              v30 = *(_DWORD *)(v56 + 12);
              if ( v30 && !v92 )
              {
                v31 = 9 * v55 * (v60 + v62 - 2 * v58);
                v32 = v84 << 8;
                v33 = v84 << 7;
                if ( v31 < 0 )
                {
                  v35 = (v33 - v31) / v32;
                  if ( v30 > 0 && v35 >= 1 << v30 )
                    v35 = (1 << v30) - 1;
                  v34 = -v35;
                }
                else
                {
                  v34 = (v31 + v33) / v32;
                  if ( v30 > 0 && v34 >= 1 << v30 )
                    v34 = (1 << v30) - 1;
                }
                v3 = v63;
                v92 = v34;
              }
              v36 = *(_DWORD *)(v56 + 16);
              if ( v36 && !v91 )
              {
                v37 = 5 * v55 * (v16 + v67 - v17 - v68);
                v38 = v76 << 8;
                v39 = v76 << 7;
                if ( v37 < 0 )
                {
                  v41 = (v39 - v37) / v38;
                  if ( v36 > 0 && v41 >= 1 << v36 )
                    v41 = (1 << v36) - 1;
                  v40 = -v41;
                }
                else
                {
                  v40 = (v37 + v39) / v38;
                  if ( v36 > 0 && v40 >= 1 << v36 )
                    v40 = (1 << v36) - 1;
                }
                v91 = v40;
              }
              v42 = *(_DWORD *)(v56 + 20);
              if ( v42 && !v89 )
              {
                v43 = 9 * v55 * (v73 + v15 - 2 * v58);
                v44 = v78 << 8;
                v45 = v78 << 7;
                if ( v43 < 0 )
                {
                  v47 = (v45 - v43) / v44;
                  if ( v42 > 0 && v47 >= 1 << v42 )
                    v47 = (1 << v42) - 1;
                  v46 = -v47;
                }
                else
                {
                  v46 = (v43 + v45) / v44;
                  if ( v42 > 0 && v46 >= 1 << v42 )
                    v46 = (1 << v42) - 1;
                }
                v89 = v46;
              }
              v86(a1, v3, &v87, v64, v65);
              v16 = v60;
              v17 = v62;
              v60 = v68;
              v62 = v67;
              v57 += 128;
              v73 = v58;
              v69 += 64;
              v65 += *(_DWORD *)(v3 + 36);
              v48 = v66 + 1 < v80;
              v49 = v66 + 1 == v80;
              v58 = v15;
              v71 += 64;
              ++v66;
            }
            while ( v48 || v49 );
            v64 += 4 * *(_DWORD *)(v3 + 36);
            ++v70;
          }
          while ( v70 < v59 );
        }
      }
      v50 = *(_DWORD *)(a1 + 36);
      v3 += 84;
      v52 = __OFSUB__(v72 + 1, v50);
      v51 = v72++ + 1 - v50 < 0;
      v74 += 24;
      v61 += 4;
      v63 = v3;
    }
    while ( v51 ^ v52 );
  }
  v53 = *(_DWORD *)(a1 + 324);
  v54 = *(_DWORD *)(a1 + 160) + 1;
  *(_DWORD *)(a1 + 160) = v54;
  return 4 - (v54 < v53);
}

//----- (00456900) --------------------------------------------------------
signed int __stdcall sub_456900(int a1)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = *(_DWORD *)(a1 + 432);
  result = *(_DWORD *)(v1 + 16);
  if ( result )
  {
    result = *(_DWORD *)(a1 + 80);
    if ( result )
    {
      result = sub_456150(a1);
      if ( result )
      {
        *(_DWORD *)(v1 + 12) = sub_4562A0;
        *(_DWORD *)(a1 + 160) = 0;
        return result;
      }
    }
    *(_DWORD *)(v1 + 12) = sub_455FC0;
  }
  *(_DWORD *)(a1 + 160) = 0;
  return result;
}

//----- (00456950) --------------------------------------------------------
int __stdcall sub_456950(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ebx@1
  int result; // eax@1
  int v5; // edi@2
  int v6; // edi@3
  signed int v7; // ecx@4
  int v8; // ebp@6
  signed int v9; // ST14_4@6
  int v10; // ST10_4@6
  int v11; // eax@6
  int v12; // eax@8
  int v13; // [sp+24h] [bp+4h]@2
  _DWORD *v14; // [sp+28h] [bp+8h]@3

  v2 = a1;
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 116);
  result = a2;
  *(_DWORD *)(a1 + 432) = v3;
  *(_DWORD *)v3 = sub_455AB0;
  *(_DWORD *)(v3 + 8) = sub_456900;
  *(_DWORD *)(v3 + 112) = 0;
  if ( a2 )
  {
    v5 = *(_DWORD *)(a1 + 220);
    v13 = 0;
    if ( *(_DWORD *)(v2 + 36) > 0 )
    {
      v6 = v5 + 12;
      v14 = (_DWORD *)(v3 + 72);
      do
      {
        v7 = *(_DWORD *)v6;
        if ( *(_DWORD *)(v2 + 224) )
          v7 *= 3;
        v8 = *(_DWORD *)(v2 + 4);
        v9 = v7;
        v10 = sub_452720(*(_DWORD *)(v6 + 20), *(_DWORD *)v6);
        v11 = sub_452720(*(_DWORD *)(v6 + 16), *(_DWORD *)(v6 - 4));
        *v14 = (*(int (__stdcall **)(int, signed int, signed int, int, int, signed int))(v8 + 20))(
                 v2,
                 1,
                 1,
                 v11,
                 v10,
                 v9);
        result = v13 + 1;
        ++v14;
        v6 += 84;
        ++v13;
      }
      while ( v13 < *(_DWORD *)(v2 + 36) );
    }
    *(_DWORD *)(v3 + 4) = sub_455D80;
    *(_DWORD *)(v3 + 12) = sub_455FC0;
    *(_DWORD *)(v3 + 16) = v3 + 72;
  }
  else
  {
    v12 = (*(int (__stdcall **)(int, signed int, signed int))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, 1280);
    *(_DWORD *)(v3 + 36) = v12 + 128;
    *(_DWORD *)(v3 + 40) = v12 + 256;
    *(_DWORD *)(v3 + 44) = v12 + 384;
    *(_DWORD *)(v3 + 48) = v12 + 512;
    *(_DWORD *)(v3 + 52) = v12 + 640;
    *(_DWORD *)(v3 + 56) = v12 + 768;
    *(_DWORD *)(v3 + 32) = v12;
    *(_DWORD *)(v3 + 60) = v12 + 896;
    *(_DWORD *)(v3 + 64) = v12 + 1024;
    result = v12 + 1152;
    *(_DWORD *)(v3 + 68) = result;
    *(_DWORD *)(v3 + 16) = 0;
    *(_DWORD *)(v3 + 4) = std::_Ref_count_base::_Get_deleter;
    *(_DWORD *)(v3 + 12) = sub_455AD0;
  }
  return result;
}
// 455AB0: using guessed type int __stdcall sub_455AB0(int);

//----- (00456A90) --------------------------------------------------------
int __stdcall sub_456A90(int *a1, int a2, signed int a3, int a4)
{
  int *v4; // edi@3
  int v5; // eax@3
  int v6; // esi@6
  int v7; // eax@9
  signed int v8; // ebx@12
  int v9; // ebp@12
  unsigned int v10; // esi@14
  int v11; // eax@16
  int v12; // eax@18
  signed int v13; // edi@20
  int v14; // esi@20
  int v15; // ebx@20
  char *v16; // eax@21
  int v17; // ecx@23
  int v18; // eax@25
  int v19; // ecx@27
  signed int v20; // eax@27
  int v21; // ebx@28
  unsigned __int8 v22; // dl@28
  int v23; // edi@29
  int v24; // edx@29
  int v25; // esi@32
  int v26; // edx@32
  char v27; // cl@32
  signed int v28; // ebp@32
  int v29; // eax@35
  char v30; // bl@36
  _BYTE *v31; // edx@36
  signed int *v32; // eax@36
  signed int v33; // esi@36
  bool v34; // zf@39
  int result; // eax@41
  int i; // esi@42
  int v37; // eax@44
  signed int v38; // [sp+18h] [bp-524h]@12
  signed int v39; // [sp+18h] [bp-524h]@32
  int v40; // [sp+1Ch] [bp-520h]@6
  int v41; // [sp+20h] [bp-51Ch]@12
  char *v42; // [sp+24h] [bp-518h]@34
  int v43; // [sp+28h] [bp-514h]@32
  int v44; // [sp+2Ch] [bp-510h]@34
  int v45; // [sp+30h] [bp-50Ch]@20
  char v46; // [sp+34h] [bp-508h]@18
  char v47[255]; // [sp+35h] [bp-507h]@23
  int v48; // [sp+134h] [bp-408h]@29
  int v49[257]; // [sp+138h] [bp-404h]@23

  if ( a3 >= 0 && a3 < 4 )
  {
    v4 = a1;
  }
  else
  {
    v4 = a1;
    v5 = *a1;
    *(_DWORD *)(v5 + 20) = 50;
    *(_DWORD *)(v5 + 24) = a3;
    (*(void (__stdcall **)(int *))v5)(a1);
  }
  if ( a2 )
  {
    v6 = v4[a3 + 46];
    v40 = v4[a3 + 46];
  }
  else
  {
    v40 = v4[a3 + 50];
    v6 = v4[a3 + 50];
  }
  if ( !v6 )
  {
    v7 = *v4;
    *(_DWORD *)(v7 + 20) = 50;
    *(_DWORD *)(v7 + 24) = a3;
    (*(void (__stdcall **)(int *))v7)(v4);
  }
  if ( !*(_DWORD *)a4 )
    *(_DWORD *)a4 = (*(int (__stdcall **)(int *, signed int, signed int))v4[1])(v4, 1, 1424);
  v8 = 1;
  v41 = *(_DWORD *)a4;
  *(_DWORD *)(*(_DWORD *)a4 + 140) = v6;
  v9 = 0;
  v38 = 1;
  while ( 1 )
  {
    v10 = *(_BYTE *)(v8 + v6);
    if ( (v10 & 0x80000000) != 0 || (signed int)(v10 + v9) > 256 )
    {
      v11 = *v4;
      *(_DWORD *)(v11 + 20) = 8;
      (*(void (__stdcall **)(int *))v11)(v4);
    }
    if ( v10 )
    {
      BYTE1(v8) = v8;
      v12 = v8 << 16;
      LOWORD(v12) = v8;
      v8 = v38;
      memset32(&v46 + v9, v12, v10 >> 2);
      memset(&v46 + 4 * (v10 >> 2) + v9, v12, v10 & 3);
      v4 = a1;
      v9 += v10;
    }
    v38 = ++v8;
    if ( v8 > 16 )
      break;
    v6 = v40;
  }
  *(&v46 + v9) = 0;
  v13 = 0;
  v14 = 0;
  v45 = v9;
  v15 = v46;
  if ( v46 )
  {
    v16 = &v46;
    do
    {
      if ( *v16 == v15 )
      {
        do
        {
          v17 = v47[v14];
          v49[v14++] = v13++;
        }
        while ( v17 == v15 );
      }
      if ( v13 >= 1 << v15 )
      {
        v18 = *a1;
        *(_DWORD *)(v18 + 20) = 8;
        (*(void (__stdcall **)(int *))v18)(a1);
      }
      v16 = &v46 + v14;
      v13 *= 2;
      ++v15;
    }
    while ( *(&v46 + v14) );
  }
  v19 = 0;
  v20 = 1;
  do
  {
    v21 = v40;
    v22 = *(_BYTE *)(v20 + v40);
    if ( v22 )
    {
      v23 = v19 - v49[v19];
      v19 += v22;
      v24 = *(&v48 + v19);
      *(_DWORD *)(v41 + 4 * v20 + 72) = v23;
      *(_DWORD *)(v41 + 4 * v20) = v24;
    }
    else
    {
      *(_DWORD *)(v41 + 4 * v20) = -1;
    }
    ++v20;
  }
  while ( v20 <= 16 );
  v25 = v41;
  *(_DWORD *)(v41 + 68) = 0xFFFFF;
  memset((void *)(v41 + 144), 0, 0x400u);
  v26 = 0;
  v27 = 7;
  v43 = 0;
  v28 = 1;
  v39 = 7;
  do
  {
    if ( (signed int)*(_BYTE *)(v21 + v28) >= 1 )
    {
      v42 = (char *)(v26 + v21 + 17);
      v44 = *(_BYTE *)(v21 + v28);
      do
      {
        v29 = v49[v26] << v39;
        if ( 1 << v27 > 0 )
        {
          v30 = *v42;
          v31 = (_BYTE *)(v29 + v25 + 1168);
          v32 = (signed int *)(v25 + 4 * v29 + 144);
          v33 = 1 << v27;
          do
          {
            *v32 = v28;
            ++v32;
            *v31++ = v30;
            --v33;
          }
          while ( v33 );
          v25 = v41;
          v21 = v40;
          v26 = v43;
        }
        ++v26;
        v34 = v44 == 1;
        v43 = v26;
        ++v42;
        --v44;
      }
      while ( !v34 );
    }
    ++v28;
    v27 = v39-- - 1;
  }
  while ( v39 >= 0 );
  result = a2;
  if ( a2 )
  {
    for ( i = 0; i < v45; ++i )
    {
      result = *(_BYTE *)(v21 + i + 17);
      if ( result > 15 )
      {
        v37 = *a1;
        *(_DWORD *)(v37 + 20) = 8;
        result = (*(int (__stdcall **)(int *))v37)(a1);
      }
    }
  }
  return result;
}
// 456A90: using guessed type char var_507[255];
// 456A90: using guessed type int var_404[257];

//----- (00456D60) --------------------------------------------------------
signed int __stdcall sub_456D60(int a1, int a2, signed int a3, signed int a4)
{
  int v4; // ebx@1
  _BYTE *v5; // esi@1
  int v6; // edi@1
  int v7; // eax@5
  signed int v8; // eax@6
  int v9; // eax@9
  int v10; // eax@10
  bool v11; // sf@13
  unsigned __int8 v12; // of@13
  int v14; // eax@19
  int v15; // eax@20

  v4 = *(_DWORD *)(a1 + 16);
  v5 = *(_BYTE **)a1;
  v6 = *(_DWORD *)(a1 + 4);
  if ( *(_DWORD *)(v4 + 420) )
    goto LABEL_17;
  if ( a3 < 25 )
  {
    do
    {
      if ( !v6 )
      {
        if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(v4 + 24) + 12))(v4) )
          return 0;
        v7 = *(_DWORD *)(v4 + 24);
        v5 = *(_BYTE **)v7;
        v6 = *(_DWORD *)(v7 + 4);
      }
      v8 = *v5;
      --v6;
      ++v5;
      if ( v8 == 255 )
      {
        do
        {
          if ( !v6 )
          {
            if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(v4 + 24) + 12))(v4) )
              return 0;
            v9 = *(_DWORD *)(v4 + 24);
            v5 = *(_BYTE **)v9;
            v6 = *(_DWORD *)(v9 + 4);
          }
          v10 = *v5;
          --v6;
          ++v5;
        }
        while ( v10 == 255 );
        if ( v10 )
        {
          *(_DWORD *)(v4 + 420) = v10;
LABEL_17:
          if ( a4 > a3 )
          {
            if ( !*(_DWORD *)(*(_DWORD *)(v4 + 448) + 8) )
            {
              v14 = *(_DWORD *)v4;
              *(_DWORD *)(v14 + 20) = 117;
              (*(void (__stdcall **)(int, signed int))(v14 + 4))(v4, -1);
              *(_DWORD *)(*(_DWORD *)(v4 + 448) + 8) = 1;
            }
            v15 = a2 << (25 - a3);
            a3 = 25;
            a2 = v15;
          }
          break;
        }
        v8 = 255;
      }
      v12 = __OFSUB__(a3 + 8, 25);
      v11 = a3 - 17 < 0;
      a2 = v8 | (a2 << 8);
      a3 += 8;
    }
    while ( v11 ^ v12 );
  }
  *(_DWORD *)(a1 + 4) = v6;
  *(_DWORD *)a1 = v5;
  *(_DWORD *)(a1 + 8) = a2;
  *(_DWORD *)(a1 + 12) = a3;
  return 1;
}

//----- (00456E80) --------------------------------------------------------
signed int __stdcall sub_456E80(int a1, int a2, signed int a3, int a4, signed int a5)
{
  signed int v5; // eax@1
  signed int result; // eax@3
  int v7; // edx@4
  signed int v8; // eax@6
  int v9; // ecx@6
  int v10; // esi@6
  signed int v11; // ebx@6
  int v12; // esi@7
  int v13; // ebp@10
  int *v14; // edi@12
  int v15; // eax@12

  v5 = a3;
  if ( a3 >= a5 )
  {
    v7 = a2;
  }
  else
  {
    if ( !sub_456D60(a1, a2, a3, a5) )
      return -1;
    v7 = *(_DWORD *)(a1 + 8);
    v5 = *(_DWORD *)(a1 + 12);
  }
  v8 = v5 - a5;
  v9 = a4;
  v10 = ((1 << a5) - 1) & (v7 >> v8);
  v11 = a5;
  if ( v10 > *(_DWORD *)(a4 + 4 * a5) )
  {
    do
    {
      v12 = 2 * v10;
      if ( v8 < 1 )
      {
        if ( !sub_456D60(a1, v7, v8, 1) )
          return -1;
        v7 = *(_DWORD *)(a1 + 8);
        v8 = *(_DWORD *)(a1 + 12);
      }
      --v8;
      v9 = a4;
      v10 = (v7 >> v8) & 1 | v12;
      v13 = *(_DWORD *)(a4 + 4 * v11++ + 4);
    }
    while ( v10 > v13 );
  }
  *(_DWORD *)(a1 + 8) = v7;
  *(_DWORD *)(a1 + 12) = v8;
  if ( v11 <= 16 )
  {
    result = *(_BYTE *)(*(_DWORD *)(v9 + 140) + *(_DWORD *)(v9 + 4 * v11 + 72) + v10 + 17);
  }
  else
  {
    v14 = *(int **)(a1 + 16);
    v15 = *v14;
    *(_DWORD *)(v15 + 20) = 118;
    (*(void (__stdcall **)(int *, signed int))(v15 + 4))(v14, -1);
    result = 0;
  }
  return result;
}

//----- (00456F60) --------------------------------------------------------
int __usercall sub_456F60@<eax>(int a1@<esi>)
{
  int v1; // ecx@1
  int v2; // ebx@1
  int result; // eax@1
  int v4; // ecx@2

  v1 = *(_DWORD *)(a1 + 444);
  v2 = *(_DWORD *)(a1 + 448);
  *(_DWORD *)(v1 + 24) += *(_DWORD *)(v2 + 16) / 8;
  *(_DWORD *)(v2 + 16) = 0;
  result = (*(int (__stdcall **)(int))(v1 + 8))(a1);
  if ( result )
  {
    v4 = *(_DWORD *)(a1 + 332);
    if ( v4 > 0 )
      memset((void *)(v2 + 20), 0, 4 * v4);
    *(_DWORD *)(v2 + 36) = *(_DWORD *)(a1 + 280);
    if ( !*(_DWORD *)(a1 + 420) )
      *(_DWORD *)(v2 + 8) = 0;
    result = 1;
  }
  return result;
}

//----- (00456FD0) --------------------------------------------------------
int __stdcall sub_456FD0(int a1, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int result; // eax@3
  int v5; // eax@5
  int v6; // ecx@5
  int v7; // edx@5
  signed int v8; // eax@5
  int v9; // ebx@5
  int v10; // ecx@5
  int v11; // edx@5
  int *v12; // ecx@6
  _WORD *v13; // esi@8
  int v14; // ebp@8
  int v15; // ebx@8
  signed int v16; // ecx@11
  int v17; // edi@12
  int v18; // ecx@12
  int v19; // edi@13
  int v20; // ebx@21
  int v21; // ecx@25
  int v22; // esi@27
  signed int v23; // ecx@31
  int v24; // edi@32
  int v25; // ecx@32
  signed int v26; // edi@33
  signed int v27; // ecx@37
  int v28; // edi@37
  int v29; // esi@38
  int v30; // ebx@41
  int v31; // ebx@49
  signed int v32; // ecx@53
  int v33; // edi@54
  int v34; // ecx@54
  signed int v35; // edi@55
  signed int v36; // ecx@59
  int v37; // edi@59
  int v38; // ebx@60
  int v39; // edi@67
  bool v40; // sf@67
  unsigned __int8 v41; // of@67
  int v42; // ecx@69
  int v43; // esi@69
  int v44; // edx@69
  int v45; // eax@69
  int v46; // ecx@69
  int v47; // [sp+8h] [bp-3Ch]@6
  int v48; // [sp+Ch] [bp-38h]@8
  int v49; // [sp+10h] [bp-34h]@5
  int *v50; // [sp+14h] [bp-30h]@6
  int v51; // [sp+18h] [bp-2Ch]@8
  int v52; // [sp+1Ch] [bp-28h]@1
  int v53; // [sp+20h] [bp-24h]@5
  int v54; // [sp+24h] [bp-20h]@5
  int v55; // [sp+28h] [bp-1Ch]@5
  int v56; // [sp+2Ch] [bp-18h]@5
  int v57; // [sp+30h] [bp-14h]@5
  int v58; // [sp+34h] [bp-10h]@5
  int v59; // [sp+38h] [bp-Ch]@10
  int v60; // [sp+3Ch] [bp-8h]@10
  int v61; // [sp+40h] [bp-4h]@5

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 448);
  v52 = *(_DWORD *)(a1 + 448);
  if ( *(_DWORD *)(a1 + 280) )
  {
    if ( !*(_DWORD *)(v3 + 36) )
    {
      result = sub_456F60(a1);
      if ( !result )
        return result;
    }
  }
  if ( *(_DWORD *)(v3 + 8) )
    goto LABEL_70;
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_DWORD *)v5;
  v7 = *(_DWORD *)(v5 + 4);
  v8 = *(_DWORD *)(v3 + 16);
  v57 = v6;
  v53 = *(_DWORD *)(v3 + 20);
  v54 = *(_DWORD *)(v3 + 24);
  v9 = *(_DWORD *)(v3 + 28);
  v56 = *(_DWORD *)(v3 + 32);
  v10 = *(_DWORD *)(a1 + 360);
  v58 = v7;
  v11 = *(_DWORD *)(v3 + 12);
  v61 = a1;
  v55 = v9;
  v49 = 0;
  if ( v10 <= 0 )
    goto LABEL_69;
  v12 = (int *)(v3 + 112);
  v50 = (int *)(a1 + 364);
  v47 = v3 + 112;
  while ( 2 )
  {
    v13 = *(_WORD **)(a2 + 4 * v49);
    v14 = *v12;
    v15 = *(v12 - 10);
    v51 = *(_DWORD *)(a2 + 4 * v49);
    v48 = *v12;
    if ( v8 < 8 )
    {
      if ( !sub_456D60((int)&v57, v11, v8, 0) )
        return 0;
      v8 = v60;
      v11 = v59;
      if ( v60 < 8 )
      {
        v16 = 1;
LABEL_15:
        v19 = sub_456E80((int)&v57, v11, v8, v15, v16);
        if ( v19 < 0 )
          return 0;
        v11 = v59;
        v8 = v60;
        goto LABEL_17;
      }
    }
    v17 = (v11 >> (v8 - 8)) & 0xFF;
    v18 = *(_DWORD *)(v15 + 4 * v17 + 144);
    if ( !v18 )
    {
      v16 = 9;
      goto LABEL_15;
    }
    v19 = *(_BYTE *)(v17 + v15 + 1168);
    v8 -= v18;
LABEL_17:
    if ( v19 )
    {
      if ( v8 < v19 )
      {
        if ( !sub_456D60((int)&v57, v11, v8, v19) )
          return 0;
        v11 = v59;
        v8 = v60;
      }
      v8 -= v19;
      v20 = (v11 >> v8) & ((1 << v19) - 1);
      v14 = v48;
      if ( v20 >= dword_4BE288[v19] )
        v19 = (v11 >> v8) & ((1 << v19) - 1);
      else
        v19 = v20 + dword_4BE2C8[v19];
    }
    if ( *(_DWORD *)(v47 + 40) )
    {
      v21 = *v50;
      *(&v53 + v21) += v19;
      *v13 = *(&v53 + v21);
    }
    if ( *(_DWORD *)(v47 + 80) )
    {
      v22 = 1;
      while ( 1 )
      {
        if ( v8 < 8 )
        {
          if ( !sub_456D60((int)&v57, v11, v8, 0) )
            return 0;
          v8 = v60;
          v11 = v59;
          if ( v60 < 8 )
            break;
        }
        v24 = (v11 >> (v8 - 8)) & 0xFF;
        v25 = *(_DWORD *)(v14 + 4 * v24 + 144);
        if ( !v25 )
        {
          v23 = 9;
          goto LABEL_35;
        }
        v26 = *(_BYTE *)(v24 + v14 + 1168);
        v8 -= v25;
LABEL_37:
        v27 = v26 >> 4;
        v28 = v26 & 0xF;
        if ( v28 )
        {
          v29 = v27 + v22;
          if ( v8 < v28 )
          {
            if ( !sub_456D60((int)&v57, v11, v8, v28) )
              return 0;
            v11 = v59;
            v8 = v60;
          }
          v8 -= v28;
          v30 = (v11 >> v8) & ((1 << v28) - 1);
          if ( v30 >= dword_4BE288[v28] )
            v28 = (v11 >> v8) & ((1 << v28) - 1);
          else
            LOWORD(v28) = v30 + dword_4BE2C8[v28];
          v14 = v48;
          *(_WORD *)(v51 + 2 * dword_4BB758[v29]) = v28;
        }
        else
        {
          if ( v27 != 15 )
            goto LABEL_67;
          v29 = v22 + 15;
        }
        v22 = v29 + 1;
        if ( v22 >= 64 )
          goto LABEL_67;
      }
      v23 = 1;
LABEL_35:
      v26 = sub_456E80((int)&v57, v11, v8, v14, v23);
      if ( v26 < 0 )
        return 0;
      v11 = v59;
      v8 = v60;
      goto LABEL_37;
    }
    v31 = 1;
    do
    {
      if ( v8 >= 8 )
        goto LABEL_74;
      if ( !sub_456D60((int)&v57, v11, v8, 0) )
        return 0;
      v8 = v60;
      v11 = v59;
      if ( v60 >= 8 )
      {
LABEL_74:
        v33 = (v11 >> (v8 - 8)) & 0xFF;
        v34 = *(_DWORD *)(v14 + 4 * v33 + 144);
        if ( v34 )
        {
          v35 = *(_BYTE *)(v33 + v14 + 1168);
          v8 -= v34;
          goto LABEL_59;
        }
        v32 = 9;
      }
      else
      {
        v32 = 1;
      }
      v35 = sub_456E80((int)&v57, v11, v8, v14, v32);
      if ( v35 < 0 )
        return 0;
      v11 = v59;
      v8 = v60;
LABEL_59:
      v36 = v35 >> 4;
      v37 = v35 & 0xF;
      if ( v37 )
      {
        v38 = v36 + v31;
        if ( v8 < v37 )
        {
          if ( !sub_456D60((int)&v57, v11, v8, v37) )
            return 0;
          v11 = v59;
          v8 = v60;
        }
        v8 -= v37;
      }
      else
      {
        if ( v36 != 15 )
          break;
        v38 = v31 + 15;
      }
      v31 = v38 + 1;
    }
    while ( v31 < 64 );
LABEL_67:
    v2 = a1;
    v39 = *(_DWORD *)(a1 + 360);
    v41 = __OFSUB__(v49 + 1, v39);
    v40 = v49++ + 1 - v39 < 0;
    v47 += 4;
    ++v50;
    if ( v40 ^ v41 )
    {
      v12 = (int *)v47;
      continue;
    }
    break;
  }
  v3 = v52;
LABEL_69:
  v42 = *(_DWORD *)(v2 + 24);
  *(_DWORD *)v42 = v57;
  v43 = v58;
  *(_DWORD *)(v3 + 12) = v11;
  *(_DWORD *)(v3 + 20) = v53;
  v44 = v56;
  *(_DWORD *)(v3 + 16) = v8;
  v45 = v54;
  *(_DWORD *)(v42 + 4) = v43;
  v46 = v55;
  *(_DWORD *)(v3 + 24) = v45;
  *(_DWORD *)(v3 + 28) = v46;
  *(_DWORD *)(v3 + 32) = v44;
LABEL_70:
  --*(_DWORD *)(v3 + 36);
  return 1;
}
// 4BB758: using guessed type int dword_4BB758[];
// 4BE288: using guessed type int dword_4BE288[];
// 4BE2C8: using guessed type int dword_4BE2C8[];

//----- (00457520) --------------------------------------------------------
int __stdcall sub_457520(int a1)
{
  int v1; // eax@1
  int result; // eax@1
  signed int v3; // ecx@1

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 232);
  *(_DWORD *)(a1 + 448) = v1;
  *(_DWORD *)v1 = sub_4573E0;
  *(_DWORD *)(v1 + 4) = sub_456FD0;
  result = v1 + 40;
  v3 = 4;
  do
  {
    *(_DWORD *)(result + 16) = 0;
    *(_DWORD *)result = 0;
    result += 4;
    --v3;
  }
  while ( v3 );
  return result;
}
// 4573E0: using guessed type int __stdcall sub_4573E0(int);

//----- (00457560) --------------------------------------------------------
int __usercall sub_457560@<eax>(int a1@<ebx>)
{
  int v1; // ecx@1
  int v2; // esi@1
  int result; // eax@1
  int v4; // ecx@2
  int v5; // eax@4

  v1 = *(_DWORD *)(a1 + 444);
  v2 = *(_DWORD *)(a1 + 448);
  *(_DWORD *)(v1 + 24) += *(_DWORD *)(v2 + 16) / 8;
  *(_DWORD *)(v2 + 16) = 0;
  result = (*(int (__stdcall **)(int))(v1 + 8))(a1);
  if ( result )
  {
    v4 = *(_DWORD *)(a1 + 332);
    if ( v4 > 0 )
      memset((void *)(v2 + 24), 0, 4 * v4);
    *(_DWORD *)(v2 + 40) = *(_DWORD *)(a1 + 280);
    v5 = *(_DWORD *)(a1 + 420);
    *(_DWORD *)(v2 + 20) = 0;
    if ( !v5 )
      *(_DWORD *)(v2 + 8) = 0;
    result = 1;
  }
  return result;
}

//----- (004575D0) --------------------------------------------------------
int __stdcall sub_4575D0(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edx@1
  int result; // eax@3
  int v5; // eax@6
  int v6; // ebx@6
  signed int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@8
  signed int v10; // ecx@11
  int v11; // edx@12
  int v12; // ecx@12
  int v13; // esi@13
  int v14; // edx@21
  int v15; // edi@24
  int v16; // edx@24
  bool v17; // sf@24
  unsigned __int8 v18; // of@24
  int v19; // ebp@25
  int v20; // [sp+8h] [bp-3Ch]@1
  int v21; // [sp+Ch] [bp-38h]@6
  int v22; // [sp+10h] [bp-34h]@8
  int v23; // [sp+14h] [bp-30h]@1
  _WORD *v24; // [sp+18h] [bp-2Ch]@8
  int v25; // [sp+1Ch] [bp-28h]@6
  int v26; // [sp+20h] [bp-24h]@6
  int v27; // [sp+24h] [bp-20h]@10
  int v28; // [sp+28h] [bp-1Ch]@10
  int v29; // [sp+2Ch] [bp-18h]@6
  char v30; // [sp+30h] [bp-14h]@6
  int v31[4]; // [sp+34h] [bp-10h]@24
  int *v32; // [sp+48h] [bp+4h]@7

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 448);
  v23 = *(_DWORD *)(a1 + 416);
  v20 = *(_DWORD *)(a1 + 448);
  if ( *(_DWORD *)(a1 + 280) && !*(_DWORD *)(v3 + 40) )
  {
    result = sub_457560(a1);
    if ( !result )
      return result;
    v3 = v20;
  }
  if ( *(_DWORD *)(v3 + 8) )
    goto LABEL_26;
  v5 = *(_DWORD *)(a1 + 24);
  v29 = a1;
  v25 = *(_DWORD *)v5;
  v26 = *(_DWORD *)(v5 + 4);
  v6 = *(_DWORD *)(v3 + 12);
  v7 = *(_DWORD *)(v3 + 16);
  qmemcpy(&v30, (const void *)(v3 + 20), 0x14u);
  v8 = 0;
  v21 = 0;
  if ( *(_DWORD *)(a1 + 360) <= 0 )
  {
LABEL_25:
    v19 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)v19 = v25;
    *(_DWORD *)(v19 + 4) = v26;
    *(_DWORD *)(v3 + 12) = v6;
    *(_DWORD *)(v3 + 16) = v7;
    qmemcpy((void *)(v3 + 20), &v30, 0x14u);
LABEL_26:
    --*(_DWORD *)(v3 + 40);
    return 1;
  }
  v32 = (int *)(a1 + 364);
  while ( 1 )
  {
    v24 = *(_WORD **)(a2 + 4 * v8);
    v22 = *v32;
    v9 = *(_DWORD *)(v3 + 4 * *(_DWORD *)(*(_DWORD *)(v2 + 4 * *v32 + 336) + 20) + 44);
    if ( v7 >= 8 )
      goto LABEL_30;
    if ( !sub_456D60((int)&v25, v6, v7, 0) )
      return 0;
    v7 = v28;
    v6 = v27;
    if ( v28 >= 8 )
    {
LABEL_30:
      v11 = (v6 >> (v7 - 8)) & 0xFF;
      v12 = *(_DWORD *)(v9 + 4 * v11 + 144);
      if ( v12 )
      {
        v13 = *(_BYTE *)(v11 + v9 + 1168);
        v7 -= v12;
        goto LABEL_17;
      }
      v10 = 9;
    }
    else
    {
      v10 = 1;
    }
    v13 = sub_456E80((int)&v25, v6, v7, v9, v10);
    if ( v13 < 0 )
      return 0;
    v6 = v27;
    v7 = v28;
LABEL_17:
    if ( v13 )
      break;
LABEL_24:
    v15 = v13 + v31[v22];
    v31[v22] = v15;
    ++v32;
    *v24 = v15 << v23;
    v16 = *(_DWORD *)(v2 + 360);
    v8 = v21 + 1;
    v18 = __OFSUB__(v21 + 1, v16);
    v17 = v21 + 1 - v16 < 0;
    v3 = v20;
    ++v21;
    if ( !(v17 ^ v18) )
      goto LABEL_25;
  }
  if ( v7 >= v13 )
    goto LABEL_21;
  if ( sub_456D60((int)&v25, v6, v7, v13) )
  {
    v6 = v27;
    v7 = v28;
LABEL_21:
    v7 -= v13;
    v14 = (v6 >> v7) & ((1 << v13) - 1);
    if ( v14 >= dword_4BE308[v13] )
      v13 = (v6 >> v7) & ((1 << v13) - 1);
    else
      v13 = v14 + dword_4BE348[v13];
    goto LABEL_24;
  }
  return 0;
}
// 4BE308: using guessed type int dword_4BE308[];
// 4BE348: using guessed type int dword_4BE348[];
// 4575D0: using guessed type int var_10[4];

//----- (004577F0) --------------------------------------------------------
int __stdcall sub_4577F0(int a1, int *a2)
{
  int v2; // ebx@1
  int v3; // esi@1
  int result; // eax@3
  int v5; // edx@5
  int v6; // eax@7
  int v7; // ecx@7
  int v8; // edi@7
  signed int v9; // eax@7
  int v10; // ebp@7
  signed int v11; // ecx@11
  int v12; // edx@12
  int v13; // ecx@12
  signed int v14; // esi@13
  signed int v15; // ebx@17
  int v16; // esi@17
  int v17; // edx@21
  int v18; // esi@22
  signed int v19; // ebp@30
  int v20; // ecx@37
  int v21; // [sp+8h] [bp-28h]@5
  int v22; // [sp+Ch] [bp-24h]@1
  int v23; // [sp+10h] [bp-20h]@1
  int v24; // [sp+14h] [bp-1Ch]@1
  int v25; // [sp+18h] [bp-18h]@7
  int v26; // [sp+1Ch] [bp-14h]@7
  int v27; // [sp+20h] [bp-10h]@7
  int v28; // [sp+24h] [bp-Ch]@10
  int v29; // [sp+28h] [bp-8h]@10
  int v30; // [sp+2Ch] [bp-4h]@7
  int v31; // [sp+38h] [bp+8h]@7
  int v32; // [sp+38h] [bp+8h]@18

  v2 = a1;
  v22 = *(_DWORD *)(a1 + 408);
  v3 = *(_DWORD *)(a1 + 448);
  v23 = *(_DWORD *)(a1 + 448);
  v24 = *(_DWORD *)(a1 + 416);
  if ( *(_DWORD *)(a1 + 280) )
  {
    if ( !*(_DWORD *)(v3 + 40) )
    {
      result = sub_457560(a1);
      if ( !result )
        return result;
    }
  }
  if ( *(_DWORD *)(v3 + 8) )
    goto LABEL_39;
  v5 = *(_DWORD *)(v3 + 20);
  v21 = *(_DWORD *)(v3 + 20);
  if ( v5 )
  {
    --v5;
    goto LABEL_38;
  }
  v6 = *(_DWORD *)(a1 + 24);
  v30 = a1;
  v26 = *(_DWORD *)v6;
  v25 = *a2;
  v7 = *(_DWORD *)(a1 + 404);
  v27 = *(_DWORD *)(v6 + 4);
  v8 = *(_DWORD *)(v3 + 12);
  v9 = *(_DWORD *)(v3 + 16);
  v10 = *(_DWORD *)(v3 + 60);
  v31 = v7;
  if ( v7 > v22 )
    goto LABEL_37;
  while ( 1 )
  {
    if ( v9 >= 8 )
      goto LABEL_42;
    if ( !sub_456D60((int)&v26, v8, v9, 0) )
      return 0;
    v9 = v29;
    v8 = v28;
    if ( v29 >= 8 )
    {
LABEL_42:
      v12 = (v8 >> (v9 - 8)) & 0xFF;
      v13 = *(_DWORD *)(v10 + 4 * v12 + 144);
      if ( v13 )
      {
        v14 = *(_BYTE *)(v12 + v10 + 1168);
        v9 -= v13;
        goto LABEL_17;
      }
      v11 = 9;
    }
    else
    {
      v11 = 1;
    }
    v14 = sub_456E80((int)&v26, v8, v9, v10, v11);
    if ( v14 < 0 )
      return 0;
    v8 = v28;
    v9 = v29;
LABEL_17:
    v15 = v14 >> 4;
    v16 = v14 & 0xF;
    if ( v16 )
    {
      v32 = v15 + v31;
      if ( v9 < v16 )
      {
        if ( !sub_456D60((int)&v26, v8, v9, v16) )
          return 0;
        v8 = v28;
        v9 = v29;
      }
      v9 -= v16;
      v17 = (v8 >> v9) & ((1 << v16) - 1);
      if ( v17 >= dword_4BE308[v16] )
        v18 = (v8 >> v9) & ((1 << v16) - 1);
      else
        v18 = v17 + dword_4BE348[v16];
      *(_WORD *)(v25 + 2 * dword_4BB758[v32]) = v18 << v24;
      goto LABEL_27;
    }
    if ( v15 != 15 )
      break;
    v32 = v31 + 15;
LABEL_27:
    v31 = v32 + 1;
    if ( v31 > v22 )
      goto LABEL_36;
  }
  v19 = 1 << v15;
  if ( v15 )
  {
    if ( v9 < v15 )
    {
      if ( !sub_456D60((int)&v26, v8, v9, v15) )
        return 0;
      v8 = v28;
      v9 = v29;
    }
    v9 -= v15;
    v19 += ((1 << v15) - 1) & (v8 >> v9);
  }
  v21 = v19 - 1;
LABEL_36:
  v3 = v23;
  v2 = a1;
  v5 = v21;
LABEL_37:
  v20 = *(_DWORD *)(v2 + 24);
  *(_DWORD *)v20 = v26;
  *(_DWORD *)(v20 + 4) = v27;
  *(_DWORD *)(v3 + 12) = v8;
  *(_DWORD *)(v3 + 16) = v9;
LABEL_38:
  *(_DWORD *)(v3 + 20) = v5;
LABEL_39:
  --*(_DWORD *)(v3 + 40);
  return 1;
}
// 4BB758: using guessed type int dword_4BB758[];
// 4BE308: using guessed type int dword_4BE308[];
// 4BE348: using guessed type int dword_4BE348[];

//----- (00457A30) --------------------------------------------------------
int __stdcall sub_457A30(int a1, int a2)
{
  int v2; // ebx@1
  int v3; // esi@1
  int result; // eax@3
  int v5; // eax@4
  int v6; // edx@4
  int v7; // eax@4
  signed int v8; // ecx@4
  int v9; // ebp@4
  int v10; // edi@4
  _WORD *v11; // eax@5
  int v12; // ebx@11
  int v13; // eax@11
  signed int v14; // [sp+8h] [bp-18h]@1
  int v15; // [sp+Ch] [bp-14h]@4
  int v16; // [sp+10h] [bp-10h]@4
  int v17; // [sp+14h] [bp-Ch]@7
  int v18; // [sp+18h] [bp-8h]@7
  int v19; // [sp+1Ch] [bp-4h]@4
  _WORD *v20; // [sp+24h] [bp+4h]@5

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 448);
  v14 = 1 << *(_DWORD *)(a1 + 416);
  if ( !*(_DWORD *)(a1 + 280) || *(_DWORD *)(v3 + 40) || (result = sub_457560(a1)) != 0 )
  {
    v5 = *(_DWORD *)(a1 + 24);
    v19 = a1;
    v15 = *(_DWORD *)v5;
    v6 = *(_DWORD *)(v5 + 4);
    v7 = *(_DWORD *)(a1 + 360);
    v16 = v6;
    v8 = *(_DWORD *)(v3 + 16);
    v9 = 0;
    v10 = *(_DWORD *)(v3 + 12);
    if ( v7 <= 0 )
    {
LABEL_11:
      v12 = *(_DWORD *)(v2 + 24);
      *(_DWORD *)v12 = v15;
      *(_DWORD *)(v12 + 4) = v16;
      v13 = *(_DWORD *)(v3 + 40);
      *(_DWORD *)(v3 + 12) = v10;
      *(_DWORD *)(v3 + 40) = v13 - 1;
      *(_DWORD *)(v3 + 16) = v8;
      return 1;
    }
    while ( 1 )
    {
      v11 = *(_WORD **)(a2 + 4 * v9);
      v20 = *(_WORD **)(a2 + 4 * v9);
      if ( v8 < 1 )
      {
        if ( !sub_456D60((int)&v15, v10, v8, 1) )
          return 0;
        v10 = v17;
        v8 = v18;
        v11 = v20;
      }
      if ( (v10 >> --v8) & 1 )
        *v11 |= v14;
      if ( ++v9 >= *(_DWORD *)(v2 + 360) )
        goto LABEL_11;
    }
  }
  return result;
}

//----- (00457B30) --------------------------------------------------------
int __stdcall sub_457B30(int a1, int *a2)
{
  int v2; // edi@1
  int v3; // ecx@1
  int v4; // ebp@1
  int result; // eax@3
  int v6; // eax@5
  int v7; // edx@5
  signed int v8; // eax@5
  int v9; // ebx@5
  signed int v10; // esi@5
  int v11; // ecx@5
  signed int v12; // eax@10
  int v13; // eax@11
  int v14; // ecx@11
  signed int v15; // ebp@12
  signed int v16; // ecx@16
  int v17; // ebp@16
  int v18; // eax@18
  signed int v19; // edi@26
  int v20; // eax@33
  __int16 *v21; // edi@34
  __int16 v22; // cx@39
  __int16 v23; // ax@39
  int v24; // eax@46
  int v25; // edx@49
  __int16 *v26; // edi@49
  __int16 v27; // ax@54
  int v28; // eax@61
  int v29; // ecx@61
  int i; // eax@64
  int v31; // edx@65
  int v32; // [sp+Ch] [bp-13Ch]@5
  signed int v33; // [sp+10h] [bp-138h]@5
  int v34; // [sp+14h] [bp-134h]@16
  int v35; // [sp+18h] [bp-130h]@1
  int v36; // [sp+1Ch] [bp-12Ch]@5
  int v37; // [sp+20h] [bp-128h]@5
  int v38; // [sp+24h] [bp-124h]@5
  int v39; // [sp+28h] [bp-120h]@9
  int v40; // [sp+2Ch] [bp-11Ch]@9
  int v41; // [sp+30h] [bp-118h]@5
  int v42; // [sp+34h] [bp-114h]@1
  int v43; // [sp+38h] [bp-110h]@5
  int v44; // [sp+3Ch] [bp-10Ch]@1
  int v45; // [sp+40h] [bp-108h]@1
  int v46; // [sp+44h] [bp-104h]@5
  int v47[64]; // [sp+48h] [bp-100h]@61

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 416);
  v4 = *(_DWORD *)(a1 + 448);
  v35 = *(_DWORD *)(a1 + 408);
  v42 = *(_DWORD *)(a1 + 448);
  v44 = 1 << v3;
  v45 = -1 << v3;
  if ( *(_DWORD *)(a1 + 280) )
  {
    if ( !*(_DWORD *)(v4 + 40) )
    {
      result = sub_457560(a1);
      if ( !result )
        return result;
    }
  }
  if ( *(_DWORD *)(v4 + 8) )
  {
LABEL_47:
    --*(_DWORD *)(v4 + 40);
    return 1;
  }
  v6 = *(_DWORD *)(a1 + 24);
  v41 = a1;
  v37 = *(_DWORD *)v6;
  v38 = *(_DWORD *)(v6 + 4);
  v7 = *a2;
  v8 = *(_DWORD *)(v4 + 20);
  v9 = *(_DWORD *)(v4 + 12);
  v10 = *(_DWORD *)(v4 + 16);
  v46 = *(_DWORD *)(v4 + 60);
  v11 = *(_DWORD *)(a1 + 404);
  v33 = v8;
  v36 = v7;
  v43 = 0;
  v32 = v11;
  if ( v8 )
  {
LABEL_32:
    if ( v33 )
    {
      v20 = v32;
      if ( v32 <= v35 )
      {
        do
        {
          v21 = (__int16 *)(v36 + 2 * dword_4BB758[v20]);
          if ( *v21 )
          {
            if ( v10 < 1 )
            {
              if ( !sub_456D60((int)&v37, v9, v10, 1) )
                goto LABEL_64;
              v9 = v39;
              v10 = v40;
            }
            if ( (v9 >> --v10) & 1 )
            {
              v22 = v44;
              v23 = *v21;
              if ( !(*v21 & v44) )
              {
                if ( v23 < 0 )
                  v22 = v45;
                *v21 = v22 + v23;
              }
            }
          }
          v20 = v32++ + 1;
        }
        while ( v32 <= v35 );
        v2 = a1;
      }
      --v33;
    }
LABEL_46:
    v24 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)v24 = v37;
    *(_DWORD *)(v24 + 4) = v38;
    *(_DWORD *)(v4 + 12) = v9;
    *(_DWORD *)(v4 + 16) = v10;
    *(_DWORD *)(v4 + 20) = v33;
    goto LABEL_47;
  }
  if ( v11 > v35 )
    goto LABEL_46;
  while ( 1 )
  {
    if ( v10 >= 8 )
      goto LABEL_69;
    if ( !sub_456D60((int)&v37, v9, v10, 0) )
      goto LABEL_64;
    v10 = v40;
    v9 = v39;
    if ( v40 >= 8 )
    {
LABEL_69:
      v13 = (v9 >> (v10 - 8)) & 0xFF;
      v14 = *(_DWORD *)(v46 + 4 * v13 + 144);
      if ( v14 )
      {
        v15 = *(_BYTE *)(v13 + v46 + 1168);
        v10 -= v14;
        goto LABEL_16;
      }
      v12 = 9;
    }
    else
    {
      v12 = 1;
    }
    v15 = sub_456E80((int)&v37, v9, v10, v46, v12);
    if ( v15 < 0 )
      goto LABEL_64;
    v9 = v39;
    v10 = v40;
LABEL_16:
    v16 = v15 >> 4;
    v17 = v15 & 0xF;
    v34 = v16;
    if ( !v17 )
      break;
    if ( v17 != 1 )
    {
      v18 = *(_DWORD *)a1;
      *(_DWORD *)(v18 + 20) = 118;
      (*(void (__stdcall **)(int, signed int))(v18 + 4))(a1, -1);
    }
    if ( v10 < 1 )
    {
      if ( !sub_456D60((int)&v37, v9, v10, 1) )
        goto LABEL_64;
      v9 = v39;
      v10 = v40;
    }
    --v10;
    v16 = v34;
    if ( (v9 >> v10) & 1 )
      v17 = v44;
    else
      v17 = v45;
LABEL_49:
    while ( 1 )
    {
      v25 = v32;
      v26 = (__int16 *)(v36 + 2 * dword_4BB758[v32]);
      if ( *v26 )
      {
        if ( v10 < 1 )
        {
          if ( !sub_456D60((int)&v37, v9, v10, 1) )
            goto LABEL_64;
          v9 = v39;
          v10 = v40;
        }
        if ( (v9 >> --v10) & 1 )
        {
          v27 = *v26;
          if ( !(*v26 & v44) )
          {
            if ( v27 < 0 )
              *v26 = v45 + v27;
            else
              *v26 = v44 + v27;
          }
        }
      }
      else
      {
        v34 = v16 - 1;
        if ( v16 - 1 < 0 )
          break;
      }
      v25 = v32++ + 1;
      if ( v32 > v35 )
        break;
      v16 = v34;
    }
    if ( v17 )
    {
      v28 = dword_4BB758[v25];
      *(_WORD *)(v36 + 2 * v28) = v17;
      v29 = v43;
      v47[v43] = v28;
      v43 = v29 + 1;
    }
    v32 = v25 + 1;
    if ( v25 + 1 > v35 )
    {
      v4 = v42;
      v2 = a1;
      goto LABEL_46;
    }
  }
  if ( v16 == 15 )
    goto LABEL_49;
  v19 = 1 << v16;
  v33 = 1 << v16;
  if ( !v16 )
    goto LABEL_31;
  if ( v10 >= v16 )
    goto LABEL_30;
  if ( sub_456D60((int)&v37, v9, v10, v16) )
  {
    v9 = v39;
    v10 = v40;
LABEL_30:
    v10 -= v34;
    v33 += (v19 - 1) & (v9 >> v10);
LABEL_31:
    v4 = v42;
    v2 = a1;
    goto LABEL_32;
  }
LABEL_64:
  for ( i = v43; i > 0; *(_WORD *)(v36 + 2 * v31) = 0 )
    v31 = *(&v46 + i--);
  return 0;
}
// 4BB758: using guessed type int dword_4BB758[];
// 457B30: using guessed type int var_100[64];

//----- (00457F20) --------------------------------------------------------
int __stdcall sub_457F20(int a1)
{
  int v1; // esi@1
  signed int v2; // ecx@1
  int v3; // ebp@1
  signed int v4; // ebx@1
  signed int v5; // eax@1
  bool v6; // zf@2
  int v7; // edx@9
  signed int v8; // edi@12
  int v9; // eax@14
  int v10; // ebp@17
  _DWORD *v11; // ebx@17
  int v12; // eax@19
  int v13; // edi@20
  int v14; // eax@22
  int v15; // eax@23
  int v16; // ecx@24
  bool v17; // sf@24
  unsigned __int8 v18; // of@24
  int *v19; // edi@34
  int v20; // eax@35
  signed int v21; // eax@38
  _DWORD *v22; // ebx@38
  int result; // eax@40
  int v24; // [sp+14h] [bp-Ch]@1
  int v25; // [sp+18h] [bp-8h]@16
  _DWORD *v26; // [sp+18h] [bp-8h]@34
  int v27; // [sp+1Ch] [bp-4h]@1
  int v28; // [sp+24h] [bp+4h]@15
  int v29; // [sp+24h] [bp+4h]@33

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 404);
  v3 = *(_DWORD *)(a1 + 448);
  v4 = *(_DWORD *)(a1 + 408);
  v5 = 0;
  v27 = *(_DWORD *)(a1 + 448);
  v24 = v2 == 0;
  if ( v2 )
  {
    if ( v2 > v4 || v4 >= 64 )
      v5 = 1;
    v6 = *(_DWORD *)(a1 + 332) == 1;
  }
  else
  {
    v6 = v4 == 0;
  }
  if ( !v6 )
    v5 = 1;
  v7 = *(_DWORD *)(a1 + 412);
  if ( v7 && *(_DWORD *)(a1 + 416) != v7 - 1 )
    v5 = 1;
  v8 = *(_DWORD *)(a1 + 416);
  if ( v8 > 13 || v5 )
  {
    v9 = *(_DWORD *)a1;
    *(_DWORD *)(v9 + 20) = 16;
    *(_DWORD *)(v9 + 24) = v2;
    *(_DWORD *)(v9 + 28) = v4;
    *(_DWORD *)(v9 + 32) = v7;
    *(_DWORD *)(v9 + 36) = v8;
    (*(void (__stdcall **)(int))v9)(a1);
  }
  v28 = 0;
  if ( *(_DWORD *)(v1 + 332) > 0 )
  {
    v25 = v1 + 336;
    do
    {
      v10 = *(_DWORD *)(*(_DWORD *)v25 + 4);
      v11 = (_DWORD *)(*(_DWORD *)(v1 + 164) + (*(_DWORD *)(*(_DWORD *)v25 + 4) << 8));
      if ( !v24 && *v11 < 0 )
      {
        v12 = *(_DWORD *)v1;
        *(_DWORD *)(v12 + 20) = 115;
        *(_DWORD *)(v12 + 24) = v10;
        *(_DWORD *)(v12 + 28) = 0;
        (*(void (__stdcall **)(int, signed int))(v12 + 4))(v1, -1);
      }
      v13 = *(_DWORD *)(v1 + 404);
      if ( v13 <= *(_DWORD *)(v1 + 408) )
      {
        do
        {
          if ( *(_DWORD *)(v1 + 412) != (v11[v13] < 0 ? 0 : v11[v13]) )
          {
            v14 = *(_DWORD *)v1;
            *(_DWORD *)(v14 + 20) = 115;
            *(_DWORD *)(v14 + 24) = v10;
            *(_DWORD *)(v14 + 28) = v13;
            (*(void (__stdcall **)(int, signed int))(v14 + 4))(v1, -1);
          }
          v15 = *(_DWORD *)(v1 + 408);
          v11[v13++] = *(_DWORD *)(v1 + 416);
        }
        while ( v13 <= v15 );
      }
      v16 = *(_DWORD *)(v1 + 332);
      v18 = __OFSUB__(v28 + 1, v16);
      v17 = v28++ + 1 - v16 < 0;
      v25 += 4;
    }
    while ( v17 ^ v18 );
    v3 = v27;
  }
  if ( *(_DWORD *)(v1 + 412) )
  {
    if ( v24 )
      *(_DWORD *)(v3 + 4) = sub_457A30;
    else
      *(_DWORD *)(v3 + 4) = sub_457B30;
  }
  else if ( v24 )
  {
    *(_DWORD *)(v3 + 4) = sub_4575D0;
  }
  else
  {
    *(_DWORD *)(v3 + 4) = sub_4577F0;
  }
  v29 = 0;
  if ( *(_DWORD *)(v1 + 332) > 0 )
  {
    v26 = (_DWORD *)(v3 + 24);
    v19 = (int *)(v1 + 336);
    do
    {
      v20 = *v19;
      if ( v24 )
      {
        if ( !*(_DWORD *)(v1 + 412) )
          sub_456A90((int *)v1, 1, *(_DWORD *)(v20 + 20), v3 + 4 * *(_DWORD *)(v20 + 20) + 44);
      }
      else
      {
        v21 = *(_DWORD *)(v20 + 24);
        v22 = (_DWORD *)(v3 + 4 * v21 + 44);
        sub_456A90((int *)v1, 0, v21, (int)v22);
        *(_DWORD *)(v3 + 60) = *v22;
      }
      *v26 = 0;
      ++v26;
      ++v19;
      ++v29;
    }
    while ( v29 < *(_DWORD *)(v1 + 332) );
  }
  result = *(_DWORD *)(v1 + 280);
  *(_DWORD *)(v3 + 16) = 0;
  *(_DWORD *)(v3 + 12) = 0;
  *(_DWORD *)(v3 + 8) = 0;
  *(_DWORD *)(v3 + 20) = 0;
  *(_DWORD *)(v3 + 40) = result;
  return result;
}

//----- (00458160) --------------------------------------------------------
signed int __stdcall sub_458160(int a1)
{
  int v1; // eax@1
  int (__stdcall **v2)(_DWORD, _DWORD, _DWORD); // edx@1
  void *v3; // edi@1
  signed int result; // eax@1
  int v5; // ecx@2

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 64);
  v2 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4);
  *(_DWORD *)v1 = sub_457F20;
  *(_DWORD *)(a1 + 448) = v1;
  v1 += 44;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
  v3 = (void *)(*v2)(a1, 1, *(_DWORD *)(a1 + 36) << 8);
  result = *(_DWORD *)(a1 + 36);
  *(_DWORD *)(a1 + 164) = v3;
  if ( result > 0 )
  {
    v5 = (result & 0xFFFFFF) << 6;
    result = -1;
    memset(v3, 0xFFu, 4 * v5);
  }
  return result;
}

//----- (004581C0) --------------------------------------------------------
int __stdcall sub_4581C0(int a1)
{
  int v1; // ebp@1
  int result; // eax@1
  int v3; // ecx@1
  signed int v4; // ebx@1
  int v5; // esi@2
  _DWORD *v6; // edi@2
  int v7; // eax@13
  char *v8; // edi@18
  int v9; // eax@22
  int v10; // ecx@23
  double *v11; // edx@23
  char *v12; // eax@23
  signed int v13; // ST24_4@24
  int v14; // ecx@24
  int v15; // eax@24
  double v16; // st7@24
  int v17; // edx@26
  int v18; // ecx@26
  int v19; // eax@26
  int v20; // edi@26
  __int16 *v21; // esi@26
  int v22; // edx@26
  char *v23; // eax@29
  int v24; // edi@29
  signed int v25; // ecx@29
  int v26; // ecx@31
  bool v27; // sf@31
  unsigned __int8 v28; // of@31
  int (__stdcall *v29)(int, int, int, int, int); // [sp+8h] [bp-14h]@1
  signed int v30; // [sp+Ch] [bp-10h]@1
  signed int *v31; // [sp+10h] [bp-Ch]@2
  int v32; // [sp+14h] [bp-8h]@1
  int v33; // [sp+18h] [bp-4h]@2

  v1 = a1;
  result = *(_DWORD *)(a1 + 452);
  v3 = *(_DWORD *)(a1 + 220);
  v4 = 0;
  v30 = 0;
  v29 = 0;
  v32 = 0;
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v5 = v3 + 36;
    v6 = (_DWORD *)(result + 44);
    v33 = v3 + 36;
    v31 = (signed int *)(result + 44);
    do
    {
      switch ( *(_DWORD *)v5 )
      {
        case 1:
          v4 = 0;
          v29 = (int (__stdcall *)(int, int, int, int, int))sub_471AD0;
          v30 = 0;
          break;
        case 2:
          v4 = 0;
          v29 = (int (__stdcall *)(int, int, int, int, int))sub_471900;
          v30 = 0;
          break;
        case 4:
          v4 = 0;
          v29 = (int (__stdcall *)(int, int, int, int, int))sub_471240;
          v30 = 0;
          break;
        case 8:
          switch ( *(_DWORD *)(v1 + 72) )
          {
            case 5:
              v4 = 0;
              v29 = sub_4711F0;
              v30 = 0;
              break;
            case 3:
              v4 = 0;
              v29 = sub_470AE0;
              v30 = 0;
              break;
            case 0:
              v4 = 0;
              v29 = (int (__stdcall *)(int, int, int, int, int))sub_46F980;
              v30 = 0;
              break;
            case 1:
            case 4:
            case 6:
              v4 = 1;
              v29 = (int (__stdcall *)(int, int, int, int, int))sub_46EF30;
              v30 = 1;
              break;
            case 2:
              v4 = 2;
              v29 = sub_46DE20;
              v30 = 2;
              break;
            default:
              v7 = *(_DWORD *)v1;
              *(_DWORD *)(*(_DWORD *)v1 + 20) = 48;
              goto LABEL_15;
          }
          break;
        default:
          v7 = *(_DWORD *)v1;
          *(_DWORD *)(v7 + 20) = 7;
          *(_DWORD *)(v7 + 24) = *(_DWORD *)v5;
LABEL_15:
          (*(void (__stdcall **)(int))v7)(v1);
          break;
      }
      *(v6 - 10) = v29;
      if ( *(_DWORD *)(v5 + 12) )
      {
        if ( *v6 != v4 )
        {
          v8 = *(char **)(v5 + 40);
          if ( v8 )
          {
            *v31 = v4;
            if ( v4 )
            {
              if ( v4 == 1 )
              {
                v17 = *(_DWORD *)(v5 + 44);
                v18 = (int)(v8 + 6);
                v19 = v17 + 2;
                v20 = (int)&v8[-v17];
                v21 = &word_4BE590;
                v22 = -v17;
                do
                {
                  *(_WORD *)(v19 - 2) = (*v21 * *(_WORD *)(v18 - 6) + 2048) >> 12;
                  *(_WORD *)v19 = (*(_WORD *)(v20 + v19) * *(__int16 *)((char *)&word_4BE590 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 2) = (*(_WORD *)(v18 - 2) * *(__int16 *)((char *)&word_4BE592 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 4) = (*(_WORD *)v18 * *(__int16 *)((char *)&word_4BE594 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 6) = (*(_WORD *)(v18 + 2) * *(__int16 *)((char *)&word_4BE596 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 8) = (*(_WORD *)(v18 + 4) * *(__int16 *)((char *)&word_4BE598 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 10) = (*(_WORD *)(v18 + 6) * *(__int16 *)((char *)&word_4BE59A + v19 + v22) + 2048) >> 12;
                  *(_WORD *)(v19 + 12) = (*(_WORD *)(v18 + 8) * *(__int16 *)((char *)&word_4BE59C + v19 + v22) + 2048) >> 12;
                  v21 += 8;
                  v19 += 16;
                  v18 += 16;
                }
                while ( (signed int)v21 < (signed int)&flt_4BE610 );
                v5 = v33;
                v4 = v30;
                v1 = a1;
              }
              else if ( v4 == 2 )
              {
                v10 = *(_DWORD *)(v5 + 44);
                v11 = &dbl_4BE388;
                v12 = v8;
                do
                {
                  v13 = *(_WORD *)v12;
                  v14 = v10 + 16;
                  v15 = (int)(v12 + 10);
                  *(float *)(v14 - 16) = (double)v13 * *v11 * 1.0;
                  v16 = (double)*(_WORD *)(v15 - 8) * *v11;
                  ++v11;
                  v12 = (char *)(v15 + 6);
                  v10 = v14 + 16;
                  *(float *)(v10 - 28) = v16 * 1.387039845;
                  *(float *)(v10 - 24) = (double)*((_WORD *)v12 - 6) * *(v11 - 1) * 1.306562965;
                  *(float *)(v10 - 20) = (double)*((_WORD *)v12 - 5) * *(v11 - 1) * 1.175875602;
                  *(float *)(v10 - 16) = (double)*((_WORD *)v12 - 4) * *(v11 - 1) * 1.0;
                  *(float *)(v10 - 12) = (double)*((_WORD *)v12 - 3) * *(v11 - 1) * 0.785694958;
                  *(float *)(v10 - 8) = (double)*((_WORD *)v12 - 2) * *(v11 - 1) * 0.5411961;
                  *(float *)(v10 - 4) = (double)*((_WORD *)v12 - 1) * *(v11 - 1) * 0.275899379;
                }
                while ( (signed int)v11 < (signed int)&qword_4BE3C8 );
              }
              else
              {
                v9 = *(_DWORD *)v1;
                *(_DWORD *)(v9 + 20) = 48;
                (*(void (__stdcall **)(int))v9)(v1);
              }
            }
            else
            {
              v23 = *(char **)(v5 + 44);
              v24 = v8 - v23;
              v25 = 64;
              do
              {
                *(_WORD *)v23 = *(_WORD *)&v23[v24];
                v23 += 2;
                --v25;
              }
              while ( v25 );
            }
          }
        }
      }
      v26 = *(_DWORD *)(v1 + 36);
      result = v32 + 1;
      v6 = v31 + 1;
      v5 += 84;
      v28 = __OFSUB__(v32 + 1, v26);
      v27 = v32++ + 1 - v26 < 0;
      ++v31;
      v33 = v5;
    }
    while ( v27 ^ v28 );
  }
  return result;
}
// 46DE20: using guessed type int __stdcall sub_46DE20(int, int, int, int, int);
// 470AE0: using guessed type int __stdcall sub_470AE0(int, int, int, int, int);
// 4711F0: using guessed type int __stdcall sub_4711F0(int, int, int, int, int);
// 4BE388: using guessed type double dbl_4BE388;
// 4BE3C8: using guessed type __int64 qword_4BE3C8;
// 4BE590: using guessed type __int16 word_4BE590;
// 4BE592: using guessed type __int16 word_4BE592;
// 4BE594: using guessed type __int16 word_4BE594;
// 4BE596: using guessed type __int16 word_4BE596;
// 4BE598: using guessed type __int16 word_4BE598;
// 4BE59A: using guessed type __int16 word_4BE59A;
// 4BE59C: using guessed type __int16 word_4BE59C;
// 4BE610: using guessed type float flt_4BE610;

//----- (004585D0) --------------------------------------------------------
int (__stdcall **__stdcall sub_4585D0(int a1))(int a1)
{
  int v1; // esi@1
  int (__stdcall **result)(int); // eax@1
  int v3; // edx@1
  int v4; // ecx@1
  signed int v5; // ebx@1
  _DWORD *v6; // ebp@2
  void *v7; // eax@3
  _DWORD *v8; // [sp+18h] [bp+4h]@2

  v1 = a1;
  result = (int (__stdcall **)(int))(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 84);
  v3 = *(_DWORD *)(a1 + 36);
  v4 = *(_DWORD *)(a1 + 220);
  v5 = 0;
  *(_DWORD *)(a1 + 452) = result;
  *result = sub_4581C0;
  if ( v3 > 0 )
  {
    v8 = (_DWORD *)(v4 + 80);
    v6 = result + 11;
    do
    {
      v7 = (void *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 256);
      *v8 = v7;
      memset(v7, 0, 0x100u);
      result = *(int (__stdcall ***)(int))(v1 + 36);
      *v6 = -1;
      ++v5;
      ++v6;
      v8 += 21;
    }
    while ( v5 < (signed int)result );
  }
  return result;
}

//----- (00458650) --------------------------------------------------------
int __stdcall sub_458650(int a1, int a2, int a3, int a4, int a5, int *a6, int a7)
{
  int *v7; // ebx@1
  int v8; // esi@1
  int v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // ecx@3
  int result; // eax@3

  v7 = a6;
  v8 = a1;
  v9 = *(_DWORD *)(a1 + 436);
  v10 = a7 - *a6;
  if ( v10 > *(_DWORD *)(v9 + 16) )
    v10 = *(_DWORD *)(v9 + 16);
  v11 = *(_DWORD *)(a1 + 456);
  a1 = 0;
  (*(void (__stdcall **)(int, int, int, int, _DWORD, int *, unsigned int))(v11 + 4))(
    v8,
    a2,
    a3,
    a4,
    *(_DWORD *)(v9 + 12),
    &a1,
    v10);
  (*(void (__stdcall **)(int, _DWORD, int, int))(*(_DWORD *)(v8 + 464) + 4))(v8, *(_DWORD *)(v9 + 12), a5 + 4 * *v7, a1);
  result = a1 + *v7;
  *v7 = result;
  return result;
}

//----- (00458750) --------------------------------------------------------
int __stdcall sub_458750(int a1, int a2)
{
  int v2; // edi@1
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@3

  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 28);
  result = *(_DWORD *)(a1 + 84);
  *(_DWORD *)(a1 + 436) = v2;
  *(_DWORD *)v2 = sub_4586D0;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 12) = 0;
  if ( result )
  {
    v4 = *(_DWORD *)(a1 + 316);
    *(_DWORD *)(v2 + 16) = v4;
    if ( a2 )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 4;
      result = (*(int (__stdcall **)(int))v5)(a1);
    }
    else
    {
      result = (*(int (__stdcall **)(int, signed int, int, int))(*(_DWORD *)(a1 + 4) + 8))(
                 a1,
                 1,
                 *(_DWORD *)(a1 + 112) * *(_DWORD *)(a1 + 120),
                 v4);
      *(_DWORD *)(v2 + 12) = result;
    }
  }
  return result;
}
// 4586D0: using guessed type int __stdcall sub_4586D0(int, int);

//----- (004587E0) --------------------------------------------------------
_DWORD *__stdcall sub_4587E0(int a1, int a2, _DWORD *a3, int a4, int a5, _DWORD *a6, int a7)
{
  int v7; // edi@1
  int v8; // ebx@1
  int v9; // eax@2
  int v10; // ebp@2
  int v11; // esi@3
  unsigned int v12; // esi@6
  int v13; // edx@10
  int v14; // ecx@10
  _DWORD *result; // eax@10
  int v16; // ecx@10
  int v17; // [sp+1Ch] [bp+4h]@2

  v7 = a1;
  v8 = *(_DWORD *)(a1 + 456);
  if ( *(_DWORD *)(v8 + 92) >= *(_DWORD *)(a1 + 316) )
  {
    v9 = *(_DWORD *)(a1 + 36);
    v10 = 0;
    v17 = *(_DWORD *)(a1 + 220);
    if ( v9 > 0 )
    {
      v11 = v8 + 12;
      do
      {
        (*(void (__stdcall **)(int, int, int, int))(v11 + 40))(
          v7,
          v17,
          *(_DWORD *)(a2 + 4 * v10++) + 4 * *a3 * *(_DWORD *)(v11 + 88),
          v11);
        v11 += 4;
        v17 += 84;
      }
      while ( v10 < *(_DWORD *)(v7 + 36) );
    }
    *(_DWORD *)(v8 + 92) = 0;
  }
  v12 = *(_DWORD *)(v7 + 316) - *(_DWORD *)(v8 + 92);
  if ( v12 > *(_DWORD *)(v8 + 96) )
    v12 = *(_DWORD *)(v8 + 96);
  if ( v12 > a7 - *a6 )
    v12 = a7 - *a6;
  (*(void (__stdcall **)(int, int, _DWORD, int, unsigned int))(*(_DWORD *)(v7 + 460) + 4))(
    v7,
    v8 + 12,
    *(_DWORD *)(v8 + 92),
    a5 + 4 * *a6,
    v12);
  v13 = *(_DWORD *)(v8 + 96);
  v14 = *(_DWORD *)(v8 + 92);
  *a6 += v12;
  result = *(_DWORD **)(v7 + 316);
  v16 = v12 + v14;
  *(_DWORD *)(v8 + 96) = v13 - v12;
  *(_DWORD *)(v8 + 92) = v16;
  if ( v16 >= (signed int)result )
  {
    result = a3;
    ++*result;
  }
  return result;
}

//----- (004588E0) --------------------------------------------------------
int __stdcall sub_4588E0(int a1, int a2, char **a3, int *a4)
{
  int v4; // ebx@1
  int v5; // eax@1
  unsigned int v6; // edi@1
  int result; // eax@1
  int v8; // ebp@1
  char *v9; // esi@3
  int v10; // eax@3
  char *v11; // ecx@3
  unsigned int v12; // edx@3
  char v13; // al@4
  int v14; // eax@5
  signed int v15; // ecx@7
  int v16; // [sp+Ch] [bp-Ch]@1
  unsigned int v17; // [sp+10h] [bp-8h]@1
  int v18; // [sp+14h] [bp-4h]@3
  signed int v19; // [sp+20h] [bp+8h]@1
  char **v20; // [sp+28h] [bp+10h]@2

  v4 = a1;
  v16 = *a4;
  v5 = *(_DWORD *)(a2 + 4) + *(_DWORD *)(a1 + 456);
  v6 = *(_BYTE *)(v5 + 140);
  v19 = *(_BYTE *)(v5 + 150);
  result = *(_DWORD *)(a1 + 316);
  v8 = 0;
  v17 = v6;
  if ( result > 0 )
  {
    v20 = a3;
    do
    {
      v9 = *(char **)(v16 + 4 * v8);
      v10 = *(_DWORD *)(v4 + 112);
      v11 = *v20;
      v12 = (unsigned int)&v9[v10];
      v18 = (int)&v9[v10];
      if ( v9 < &v9[v10] )
      {
        do
        {
          v13 = *v11++;
          if ( (signed int)v6 > 0 )
          {
            LOBYTE(v4) = v13;
            BYTE1(v4) = v13;
            v14 = v4 << 16;
            LOWORD(v14) = v4;
            v4 = a1;
            memset32(v9, v14, v6 >> 2);
            v12 = v18;
            memset(&v9[4 * (v6 >> 2)], v14, v6 & 3);
            v6 = v17;
            v9 += v17;
          }
        }
        while ( (unsigned int)v9 < v12 );
      }
      v15 = v19;
      if ( v19 > 1 )
      {
        sub_452740(v16, v8, v16, v8 + 1, v19 - 1, *(_DWORD *)(v4 + 112));
        v15 = v19;
      }
      result = *(_DWORD *)(v4 + 316);
      v8 += v15;
      ++v20;
    }
    while ( v8 < result );
  }
  return result;
}

//----- (00458AC0) --------------------------------------------------------
char **__userpurge sub_458AC0@<eax>(char **result@<eax>, int a2@<edx>, int a3@<ecx>, int a4)
{
  int v4; // ecx@1
  char *v5; // ebp@1
  int v6; // edi@2
  int v7; // eax@2
  int v8; // ecx@4
  int v9; // edx@4
  int v10; // esi@4
  _BYTE *v11; // eax@4
  _BYTE *v12; // ecx@4
  int v13; // eax@4
  int v14; // edx@5
  int v15; // edi@6
  signed int v16; // ebx@6
  _BYTE *v17; // eax@6
  int v18; // edx@8
  int v19; // [sp+4h] [bp-8h]@2
  int v20; // [sp+8h] [bp-4h]@2
  int v21; // [sp+10h] [bp+4h]@2

  v4 = *(_DWORD *)(a3 + 316);
  v5 = *result;
  if ( v4 > 0 )
  {
    v6 = *(_DWORD *)(a2 + 40) - 2;
    v7 = a4 - (_DWORD)v5;
    v20 = *(_DWORD *)(a2 + 40) - 2;
    v19 = a4 - (_DWORD)v5;
    v21 = v4;
    while ( 1 )
    {
      v8 = *(_DWORD *)&v5[v7];
      v9 = *(_BYTE *)v8;
      v10 = *(_BYTE *)(v8 + 1);
      v11 = *(_BYTE **)v5;
      v12 = (_BYTE *)(v8 + 1);
      *v11++ = v9;
      *v11 = (v9 + v10 + 2 * v9 + 2) >> 2;
      v13 = (int)(v11 + 1);
      if ( v6 )
      {
        v14 = v6;
        do
        {
          ++v12;
          v15 = 3 * v10;
          v16 = *(v12 - 2) + 3 * v10 + 1;
          v10 = *v12;
          *(_BYTE *)v13 = v16 >> 2;
          v17 = (_BYTE *)(v13 + 1);
          *v17 = (v10 + v15 + 2) >> 2;
          v13 = (int)(v17 + 1);
          --v14;
        }
        while ( v14 );
        v6 = v20;
      }
      v18 = *v12;
      *(_BYTE *)v13 = (*(v12 - 1) + 3 * v18 + 1) >> 2;
      *(_BYTE *)(v13 + 1) = v18;
      v5 += 4;
      result = (char **)(v21-- - 1);
      if ( !v21 )
        break;
      v7 = v19;
    }
  }
  return result;
}

//----- (00458B80) --------------------------------------------------------
int __userpurge sub_458B80@<eax>(_DWORD *a1@<eax>, int a2@<ecx>, int a3, int a4)
{
  __int64 v4; // rax@1
  int v5; // ebx@2
  int v6; // esi@3
  int v7; // edi@3
  __m64 v8; // mm7@3
  __m64 v9; // mm0@3
  __m64 v10; // mm3@3
  __m64 v11; // mm0@3
  __m64 v12; // mm1@3
  __m64 v13; // mm2@3
  __m64 v14; // mm7@3
  int v15; // edi@3
  int v16; // esi@3
  int i; // ecx@3
  __m64 v18; // mm0@4
  __m64 v19; // mm0@4
  __m64 v20; // mm1@4
  __m64 v21; // mm2@4
  __m64 v22; // mm0@5
  __m64 v23; // mm0@6
  int v25; // [sp+4h] [bp-8h]@1

  v25 = *(_DWORD *)(a2 + 40);
  v4 = *a1;
  if ( *(_DWORD *)(a3 + 316) > 0 )
  {
    v5 = a4 - v4;
    do
    {
      v6 = *(_DWORD *)(v5 + v4);
      v7 = *(_DWORD *)v4;
      v8 = *(__m64 *)v6;
      v9 = _m_pmullw(_m_punpcklbw(*(__m64 *)v6, 0i64), (__m64)qword_4BE3C8);
      *(__m64 *)v7 = _m_paddb(
                       _m_psllq(
                         _m_psrlw(
                           _m_paddw(_m_paddw(_m_punpcklbw(_m_psrlq(*(__m64 *)v6, 8u), 0i64), v9), (__m64)qword_4BE400),
                           2u),
                         8u),
                       _m_psrlw(
                         _m_paddw(
                           _m_paddw(
                             _m_punpcklbw(
                               _m_paddb(_m_psllq(*(__m64 *)v6, 8u), _m_pand(*(__m64 *)v6, (__m64)qword_4BE410)),
                               0i64),
                             v9),
                           (__m64)qword_4BE3F8),
                         2u));
      v10 = v8;
      v11 = _m_pmullw(_m_punpckhbw(v8, 0i64), (__m64)qword_4BE3C8);
      v12 = _m_psllq(v8, 8u);
      v13 = _m_psrlq(v8, 8u);
      v14 = *(__m64 *)(v6 + 8);
      *(__m64 *)(v7 + 8) = _m_paddb(
                             _m_psllq(
                               _m_psrlw(
                                 _m_paddw(
                                   _m_paddw(_m_punpckhbw(_m_paddb(v13, _m_psllq(*(__m64 *)(v6 + 8), 0x38u)), 0i64), v11),
                                   (__m64)qword_4BE400),
                                 2u),
                               8u),
                             _m_psrlw(_m_paddw(_m_paddw(_m_punpckhbw(v12, 0i64), v11), (__m64)qword_4BE3F8), 2u));
      v15 = v7 + 16;
      v16 = v6 + 8;
      for ( i = v25 - 8; i > 8; i -= 8 )
      {
        v18 = _m_pmullw(_m_punpcklbw(v14, 0i64), (__m64)qword_4BE3C8);
        *(__m64 *)v15 = _m_paddb(
                          _m_psllq(
                            _m_psrlw(
                              _m_paddw(_m_paddw(_m_punpcklbw(_m_psrlq(v14, 8u), 0i64), v18), (__m64)qword_4BE400),
                              2u),
                            8u),
                          _m_psrlw(
                            _m_paddw(
                              _m_paddw(_m_punpcklbw(_m_paddb(_m_psllq(v14, 8u), _m_psrlq(v10, 0x38u)), 0i64), v18),
                              (__m64)qword_4BE3F8),
                            2u));
        v10 = v14;
        v19 = _m_pmullw(_m_punpckhbw(v14, 0i64), (__m64)qword_4BE3C8);
        v20 = _m_psllq(v14, 8u);
        v21 = _m_psrlq(v14, 8u);
        v14 = *(__m64 *)(v16 + 8);
        *(__m64 *)(v15 + 8) = _m_paddb(
                                _m_psllq(
                                  _m_psrlw(
                                    _m_paddw(
                                      _m_paddw(
                                        _m_punpckhbw(_m_paddb(v21, _m_psllq(*(__m64 *)(v16 + 8), 0x38u)), 0i64),
                                        v19),
                                      (__m64)qword_4BE400),
                                    2u),
                                  8u),
                                _m_psrlw(_m_paddw(_m_paddw(_m_punpckhbw(v20, 0i64), v19), (__m64)qword_4BE3F8), 2u));
        v15 += 16;
        v16 += 8;
      }
      v22 = _m_pmullw(_m_punpcklbw(v14, 0i64), (__m64)qword_4BE3C8);
      *(__m64 *)v15 = _m_paddb(
                        _m_psllq(
                          _m_psrlw(
                            _m_paddw(_m_paddw(_m_punpcklbw(_m_psrlq(v14, 8u), 0i64), v22), (__m64)qword_4BE400),
                            2u),
                          8u),
                        _m_psrlw(
                          _m_paddw(
                            _m_paddw(_m_punpcklbw(_m_paddb(_m_psllq(v14, 8u), _m_psrlq(v10, 0x38u)), 0i64), v22),
                            (__m64)qword_4BE3F8),
                          2u));
      if ( i > 4 )
      {
        v23 = _m_pmullw(_m_punpckhbw(v14, 0i64), (__m64)qword_4BE3C8);
        *(__m64 *)(v15 + 8) = _m_paddb(
                                _m_psllq(
                                  _m_psrlw(
                                    _m_paddw(
                                      _m_paddw(
                                        _m_punpckhbw(
                                          _m_paddb(_m_psrlq(v14, 8u), _m_pand(v14, (__m64)qword_4BE408)),
                                          0i64),
                                        v23),
                                      (__m64)qword_4BE400),
                                    2u),
                                  8u),
                                _m_psrlw(
                                  _m_paddw(_m_paddw(_m_punpckhbw(_m_psllq(v14, 8u), 0i64), v23), (__m64)qword_4BE3F8),
                                  2u));
      }
      _m_femms();
      ++HIDWORD(v4);
      LODWORD(v4) = v4 + 4;
    }
    while ( SHIDWORD(v4) < *(_DWORD *)(a3 + 316) );
  }
  return v4;
}
// 4BE3C8: using guessed type __int64 qword_4BE3C8;
// 4BE3F8: using guessed type __int64 qword_4BE3F8;
// 4BE400: using guessed type __int64 qword_4BE400;
// 4BE408: using guessed type __int64 qword_4BE408;
// 4BE410: using guessed type __int64 qword_4BE410;

//----- (00458E10) --------------------------------------------------------
int __userpurge sub_458E10@<eax>(int *a1@<eax>, int a2, int a3, _DWORD *a4)
{
  int v4; // ecx@1
  int result; // eax@1
  int v6; // edx@1
  _DWORD *v7; // eax@2
  int v8; // esi@6
  _BYTE *v9; // ecx@8
  int v10; // edi@8
  int v11; // eax@8
  _BYTE *v12; // esi@8
  _BYTE *v13; // ebp@8
  int v14; // ecx@8
  int v15; // ebx@8
  int v16; // edi@8
  _BYTE *v17; // ecx@10
  bool v18; // zf@10
  bool v19; // sf@11
  unsigned __int8 v20; // of@11
  int v21; // [sp+0h] [bp-14h]@2
  int i; // [sp+4h] [bp-10h]@2
  int v23; // [sp+8h] [bp-Ch]@1
  int v24; // [sp+10h] [bp-4h]@1
  _DWORD *v25; // [sp+18h] [bp+4h]@2
  int v26; // [sp+1Ch] [bp+8h]@2
  int v27; // [sp+20h] [bp+Ch]@9

  v4 = *a1;
  result = *(_DWORD *)(a2 + 316);
  v6 = 0;
  v23 = v4;
  v24 = *(_DWORD *)(a2 + 316);
  if ( result > 0 )
  {
    v21 = *(_DWORD *)(a3 + 40) - 2;
    v7 = a4;
    v25 = a4;
    v26 = 0;
    for ( i = *a4; ; i = *v25 )
    {
      while ( 1 )
      {
        v8 = v26 ? v7[1] : *(v7 - 1);
        v9 = *(_BYTE **)(v23 + 4 * v6++);
        v10 = *(_BYTE *)v8 + 3 * *(_BYTE *)i;
        v11 = *(_BYTE *)(v8 + 1) + 3 * *(_BYTE *)(i + 1);
        *v9 = (4 * v10 + 8) >> 4;
        v12 = (_BYTE *)(v8 + 2);
        v13 = (_BYTE *)(i + 2);
        *++v9 = (v10 + v11 + 2 * v10 + 7) >> 4;
        v14 = (int)(v9 + 1);
        v15 = v10;
        v16 = v11;
        if ( v21 )
        {
          v27 = v21;
          do
          {
            v11 = *v12++ + 3 * *v13;
            *(_BYTE *)v14 = (3 * v16 + v15 + 8) >> 4;
            ++v13;
            v17 = (_BYTE *)(v14 + 1);
            *v17 = (3 * v16 + v11 + 7) >> 4;
            v14 = (int)(v17 + 1);
            v18 = v27 == 1;
            v15 = v16;
            v16 = v11;
            --v27;
          }
          while ( !v18 );
        }
        *(_BYTE *)v14 = (v11 + v15 + 2 * v11 + 8) >> 4;
        *(_BYTE *)(v14 + 1) = (4 * v11 + 7) >> 4;
        v20 = __OFSUB__(v26 + 1, 2);
        v19 = v26++ - 1 < 0;
        if ( !(v19 ^ v20) )
          break;
        v7 = v25;
      }
      result = v24;
      ++v25;
      if ( v6 >= v24 )
        break;
      v7 = v25;
      v26 = 0;
    }
  }
  return result;
}

//----- (00458F70) --------------------------------------------------------
int __userpurge sub_458F70@<eax>(int *a1@<eax>, int a2@<edx>, int a3, int a4)
{
  int v4; // ecx@1
  int result; // eax@1
  int v6; // ebx@1
  __m64 **v7; // eax@2
  __m64 *v8; // edx@4
  __m64 *v9; // eax@4
  __m64 *v10; // ST20_4@4
  __m64 *v11; // edx@4
  __m64 *v12; // esi@4
  __m64 *v13; // edi@4
  int v14; // eax@4
  __m64 v15; // mm4@4
  __m64 v16; // mm5@4
  __m64 v17; // mm0@4
  __m64 v18; // mm2@4
  __m64 v19; // mm1@4
  __m64 v20; // mm6@4
  __m64 v21; // mm2@4
  __m64 v22; // mm0@4
  __m64 *v23; // edi@4
  int v24; // eax@4
  int i; // ecx@4
  __m64 v26; // ST0C_8@5
  __m64 v27; // ST14_8@5
  __m64 v28; // mm0@5
  __m64 v29; // mm2@5
  __m64 v30; // mm1@5
  __m64 v31; // mm6@5
  __m64 v32; // mm1@5
  __m64 v33; // mm3@5
  __m64 v34; // mm3@5
  __m64 v35; // mm0@5
  __m64 *v36; // edi@5
  __m64 v37; // mm0@5
  __m64 v38; // mm1@5
  __m64 v39; // mm0@5
  __m64 v40; // mm2@5
  __m64 v41; // mm3@5
  __m64 v42; // mm1@5
  __m64 v43; // mm0@5
  __m64 v44; // mm0@6
  __m64 v45; // mm1@6
  __m64 v46; // mm0@6
  __m64 *v47; // esi@6
  __m64 *v48; // edx@6
  __m64 v49; // mm5@6
  __m64 v50; // mm2@6
  __m64 *v51; // edi@6
  int j; // ecx@6
  __m64 v53; // mm1@7
  __m64 v54; // mm6@7
  __m64 v55; // mm2@7
  __m64 v56; // mm3@7
  __m64 *v57; // edi@7
  __m64 v58; // mm2@7
  unsigned __int64 v59; // mm4@7
  __m64 *v60; // [sp+14h] [bp-20h]@4
  int v61; // [sp+20h] [bp-14h]@4
  __m64 *v62; // [sp+24h] [bp-10h]@4
  __m64 *v63; // [sp+28h] [bp-Ch]@4
  int v64; // [sp+2Ch] [bp-8h]@1
  int v65; // [sp+30h] [bp-4h]@1
  int v66; // [sp+40h] [bp+Ch]@2

  v4 = *a1;
  result = *(_DWORD *)(a2 + 40);
  v6 = 0;
  v65 = *(_DWORD *)(a2 + 40);
  v64 = v4;
  if ( *(_DWORD *)(a3 + 316) > 0 )
  {
    v7 = (__m64 **)(a4 + 4);
    v66 = a4 + 4;
    while ( 1 )
    {
      v60 = *(v7 - 1);
      v8 = *(v7 - 2);
      v62 = *v7;
      v9 = *(__m64 **)(v4 + 4 * v6);
      v10 = v8;
      v63 = *(__m64 **)(v4 + 4 * v6 + 4);
      v6 += 2;
      v61 = (int)v9 + 4 * v65;
      v11 = v60;
      v12 = v10;
      v13 = v9;
      v14 = (int)v9 + 4 * v65;
      v15 = (__m64)v60->m64_u64;
      v16 = (__m64)v10->m64_u64;
      v17 = _m_punpcklbw((__m64)v60->m64_u64, (__m64)(unsigned int)qword_4BE418);
      v18 = _m_punpcklbw((__m64)v10->m64_u64, (__m64)(unsigned int)qword_4BE418);
      v19 = _m_paddw(_m_pmullw(_m_psllq(v17, 0x10u), (__m64)qword_4BE3C8), _m_pmullw(v17, (__m64)qword_4BE3D8));
      *(__m64 *)v14 = v19;
      v20 = _m_psrlw(
              _m_paddw(
                _m_paddw(v19, _m_paddw(_m_psllq(v18, 0x10u), _m_pmullw(v18, (__m64)qword_4BE3E0))),
                (__m64)qword_4BE3F0),
              4u);
      v21 = _m_pmullw(_m_punpcklbw(v16, (__m64)(unsigned int)qword_4BE418), (__m64)qword_4BE3C8);
      v22 = _m_paddw(
              _m_pmullw(_m_punpcklbw(v15, (__m64)(unsigned int)qword_4BE418), (__m64)qword_4BE3D0),
              _m_pmullw(_m_punpcklbw(_m_psrlq(v15, 8u), (__m64)(unsigned int)qword_4BE418), (__m64)qword_4BE3C8));
      *(__m64 *)(v14 + 8) = v22;
      v13->m64_u64 = (unsigned __int64)_m_paddw(
                                         v20,
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   v22,
                                                   _m_punpcklbw(_m_psrlq(v16, 8u), (__m64)(unsigned int)qword_4BE418)),
                                                 (__m64)qword_4BE3E8),
                                               v21),
                                             4u),
                                           8u));
      v23 = v13 + 1;
      v24 = v14 + 16;
      for ( i = v65 - 8; i > 0; i -= 8 )
      {
        v26 = v15;
        v27 = v16;
        v28 = _m_pmullw(_m_punpckhbw(v15, (__m64)qword_4BE418), (__m64)qword_4BE3D0);
        v29 = _m_pmullw(_m_punpckhbw(v16, (__m64)qword_4BE418), (__m64)qword_4BE3C8);
        v30 = _m_paddw(_m_pmullw(_m_punpckhbw(_m_psllq(v15, 8u), (__m64)qword_4BE418), (__m64)qword_4BE3C8), v28);
        *(__m64 *)v24 = v30;
        v31 = _m_psrlw(
                _m_paddw(
                  _m_paddw(v30, (__m64)qword_4BE3F0),
                  _m_paddw(_m_punpckhbw(_m_psllq(v16, 8u), (__m64)qword_4BE418), v29)),
                4u);
        v32 = _m_psrlq(v15, 8u);
        v15 = v11[1];
        v33 = _m_psrlq(v16, 8u);
        v16 = v12[1];
        v34 = _m_punpckhbw(_m_paddb(v33, _m_psllq(v12[1], 0x38u)), (__m64)qword_4BE418);
        v35 = _m_paddw(
                v28,
                _m_pmullw(
                  _m_punpckhbw(_m_paddb(v32, _m_psllq(v11[1], 0x38u)), (__m64)qword_4BE418),
                  (__m64)qword_4BE3C8));
        *(__m64 *)(v24 + 8) = v35;
        v23->m64_u64 = (unsigned __int64)_m_paddw(
                                           v31,
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(_m_paddw(v35, _m_paddw(v34, (__m64)qword_4BE3E8)), v29),
                                               4u),
                                             8u));
        v36 = v23 + 1;
        v37 = _m_punpcklbw(v15, (__m64)(unsigned int)qword_4BE418);
        v38 = _m_paddw(_m_psllq(v37, 0x10u), _m_psrlq(v26, 0x38u));
        v39 = _m_pmullw(v37, (__m64)qword_4BE3D0);
        v40 = _m_punpcklbw(v16, (__m64)(unsigned int)qword_4BE418);
        v41 = _m_paddw(_m_psllq(v40, 0x10u), _m_psrlq(v27, 0x38u));
        v21 = _m_pmullw(v40, (__m64)qword_4BE3C8);
        v42 = _m_paddw(_m_pmullw(v38, (__m64)qword_4BE3C8), v39);
        *(__m64 *)(v24 + 16) = v42;
        v43 = _m_paddw(
                v39,
                _m_pmullw(_m_punpcklbw(_m_psrlq(v15, 8u), (__m64)(unsigned int)qword_4BE418), (__m64)qword_4BE3C8));
        *(__m64 *)(v24 + 24) = v43;
        v36->m64_u64 = (unsigned __int64)_m_paddw(
                                           _m_psrlw(
                                             _m_paddw(_m_paddw(v42, (__m64)qword_4BE3F0), _m_paddw(v41, v21)),
                                             4u),
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   _m_paddw(
                                                     v43,
                                                     _m_punpcklbw(_m_psrlq(v16, 8u), (__m64)(unsigned int)qword_4BE418)),
                                                   (__m64)qword_4BE3E8),
                                                 v21),
                                               4u),
                                             8u));
        v23 = v36 + 1;
        ++v11;
        ++v12;
        v24 += 32;
      }
      v44 = _m_pmullw(_m_punpckhbw(v15, (__m64)qword_4BE418), (__m64)qword_4BE3D0);
      v45 = _m_paddw(_m_pmullw(_m_punpckhbw(_m_psllq(v15, 8u), (__m64)qword_4BE418), (__m64)qword_4BE3C8), v44);
      *(__m64 *)v24 = v45;
      v46 = _m_paddw(
              v44,
              _m_pmullw(
                _m_punpckhbw(_m_paddb(_m_psrlq(v15, 8u), _m_pand(v15, (__m64)qword_4BE408)), (__m64)qword_4BE418),
                (__m64)qword_4BE3C8));
      *(__m64 *)(v24 + 8) = v46;
      v23->m64_u64 = (unsigned __int64)_m_paddw(
                                         _m_psrlw(
                                           _m_paddw(
                                             _m_paddw(v45, (__m64)qword_4BE3F0),
                                             _m_paddw(_m_punpckhbw(_m_psllq(v16, 8u), (__m64)qword_4BE418), v21)),
                                           4u),
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 v46,
                                                 _m_paddw(
                                                   _m_punpckhbw(
                                                     _m_paddb(_m_psrlq(v16, 8u), _m_pand(v16, (__m64)qword_4BE408)),
                                                     (__m64)qword_4BE418),
                                                   (__m64)qword_4BE3E8)),
                                               v21),
                                             4u),
                                           8u));
      v47 = v62;
      v48 = v60;
      v49 = (__m64)v62->m64_u64;
      v50 = _m_punpcklbw((__m64)v62->m64_u64, (__m64)(unsigned int)qword_4BE418);
      v63->m64_u64 = (unsigned __int64)_m_paddw(
                                         _m_psrlw(
                                           _m_paddw(
                                             _m_paddw(
                                               *(__m64 *)v61,
                                               _m_paddw(_m_psllq(v50, 0x10u), _m_pmullw(v50, (__m64)qword_4BE3E0))),
                                             (__m64)qword_4BE3F0),
                                           4u),
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   *(__m64 *)(v61 + 8),
                                                   _m_punpcklbw(
                                                     _m_psrlq((__m64)v62->m64_u64, 8u),
                                                     (__m64)(unsigned int)qword_4BE418)),
                                                 (__m64)qword_4BE3E8),
                                               _m_pmullw(v50, (__m64)qword_4BE3C8)),
                                             4u),
                                           8u));
      v51 = v63 + 1;
      result = v61 + 16;
      for ( j = v65 - 8; j > 0; j -= 8 )
      {
        v53 = v49;
        v54 = _m_psrlw(
                _m_paddw(
                  _m_paddw(*(__m64 *)result, (__m64)qword_4BE3F0),
                  _m_paddw(
                    _m_punpckhbw(_m_psllq(v49, 8u), (__m64)qword_4BE418),
                    _m_pmullw(_m_punpckhbw(v49, (__m64)qword_4BE418), (__m64)qword_4BE3C8))),
                4u);
        v55 = _m_punpckhbw(v49, (__m64)qword_4BE418);
        v56 = _m_psrlq(v49, 8u);
        v49 = v47[1];
        v51->m64_u64 = (unsigned __int64)_m_paddw(
                                           v54,
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   *(__m64 *)(result + 8),
                                                   _m_paddw(
                                                     _m_punpckhbw(
                                                       _m_paddb(v56, _m_psllq(v47[1], 0x38u)),
                                                       (__m64)qword_4BE418),
                                                     (__m64)qword_4BE3E8)),
                                                 _m_pmullw(v55, (__m64)qword_4BE3C8)),
                                               4u),
                                             8u));
        v57 = v51 + 1;
        v58 = _m_punpcklbw(v49, (__m64)(unsigned int)qword_4BE418);
        v57->m64_u64 = (unsigned __int64)_m_paddw(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(*(__m64 *)(result + 16), (__m64)qword_4BE3F0),
                                               _m_paddw(
                                                 _m_paddw(_m_psllq(v58, 0x10u), _m_psrlq(v53, 0x38u)),
                                                 _m_pmullw(v58, (__m64)qword_4BE3C8))),
                                             4u),
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   _m_paddw(
                                                     *(__m64 *)(result + 24),
                                                     _m_punpcklbw(_m_psrlq(v49, 8u), (__m64)(unsigned int)qword_4BE418)),
                                                   (__m64)qword_4BE3E8),
                                                 _m_pmullw(v58, (__m64)qword_4BE3C8)),
                                               4u),
                                             8u));
        v51 = v57 + 1;
        ++v48;
        ++v47;
        result += 32;
        v59 = v48->m64_u64;
      }
      v51->m64_u64 = (unsigned __int64)_m_paddw(
                                         _m_psrlw(
                                           _m_paddw(
                                             _m_paddw(*(__m64 *)result, (__m64)qword_4BE3F0),
                                             _m_paddw(
                                               _m_punpckhbw(_m_psllq(v49, 8u), (__m64)qword_4BE418),
                                               _m_pmullw(_m_punpckhbw(v49, (__m64)qword_4BE418), (__m64)qword_4BE3C8))),
                                           4u),
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 *(__m64 *)(result + 8),
                                                 _m_paddw(
                                                   _m_punpckhbw(
                                                     _m_paddb(_m_psrlq(v49, 8u), _m_pand(v49, (__m64)qword_4BE408)),
                                                     (__m64)qword_4BE418),
                                                   (__m64)qword_4BE3E8)),
                                               _m_pmullw(_m_punpckhbw(v49, (__m64)qword_4BE418), (__m64)qword_4BE3C8)),
                                             4u),
                                           8u));
      v66 += 4;
      if ( v6 >= *(_DWORD *)(a3 + 316) )
        break;
      v7 = (__m64 **)v66;
      v4 = v64;
    }
  }
  _m_femms();
  return result;
}
// 4BE3C8: using guessed type __int64 qword_4BE3C8;
// 4BE3D0: using guessed type __int64 qword_4BE3D0;
// 4BE3D8: using guessed type __int64 qword_4BE3D8;
// 4BE3E0: using guessed type __int64 qword_4BE3E0;
// 4BE3E8: using guessed type __int64 qword_4BE3E8;
// 4BE3F0: using guessed type __int64 qword_4BE3F0;
// 4BE408: using guessed type __int64 qword_4BE408;
// 4BE418: using guessed type __int64 qword_4BE418;

//----- (00459540) --------------------------------------------------------
char **__stdcall sub_459540(int a1, int a2, int a3, char **a4)
{
  int v4; // eax@2
  int v5; // esi@2
  int v6; // eax@6
  int v7; // eax@8
  char **result; // eax@10

  if ( *(_DWORD *)(a2 + 40) <= 0x10u )
    goto LABEL_14;
  v4 = *(_DWORD *)(a1 + 316);
  v5 = 0;
  if ( v4 > 0 )
  {
    while ( !(*(_BYTE *)(a3 + 4 * v5) & 7) )
    {
      if ( ++v5 >= v4 )
        goto LABEL_7;
    }
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 2;
    (*(void (__stdcall **)(int, signed int))(v6 + 4))(a1, -1);
  }
LABEL_7:
  if ( v5 != *(_DWORD *)(a1 + 316) )
    goto LABEL_14;
  v7 = *(_DWORD *)(a1 + 72);
  if ( v7 != 5 && v7 != 6 )
LABEL_14:
    result = sub_458AC0(a4, a2, a1, a3);
  else
    result = (char **)sub_458B80(a4, a2, a1, a3);
  return result;
}

//----- (004595C0) --------------------------------------------------------
int __stdcall sub_4595C0(int a1, int a2, _DWORD *a3, int *a4)
{
  int v4; // eax@2
  int v5; // esi@2
  int v6; // eax@6
  int v7; // eax@8
  int result; // eax@10

  if ( *(_DWORD *)(a2 + 40) <= 0x10u )
    goto LABEL_14;
  v4 = *(_DWORD *)(a1 + 316);
  v5 = 0;
  if ( v4 > 0 )
  {
    while ( !(a3[v5] & 7) )
    {
      if ( ++v5 >= v4 )
        goto LABEL_7;
    }
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 2;
    (*(void (__stdcall **)(int, signed int))(v6 + 4))(a1, -1);
  }
LABEL_7:
  if ( v5 != *(_DWORD *)(a1 + 316) )
    goto LABEL_14;
  v7 = *(_DWORD *)(a1 + 72);
  if ( v7 != 5 && v7 != 6 )
LABEL_14:
    result = sub_458E10(a4, a1, a2, a3);
  else
    result = sub_458F70(a4, a2, a1, (int)a3);
  return result;
}

//----- (00459640) --------------------------------------------------------
int __stdcall sub_459640(int a1)
{
  int v1; // esi@1
  int v2; // ebp@1
  int result; // eax@1
  int v4; // eax@2
  int v5; // ebx@7
  int v6; // ebp@7
  signed int v7; // edi@8
  int v8; // eax@8
  int v9; // edi@8
  int v10; // edx@8
  signed int v11; // ecx@8
  signed int v12; // eax@8
  int v13; // eax@26
  int v14; // eax@28
  int v15; // edi@29
  int v16; // ST0C_4@29
  int v17; // eax@29
  int v18; // [sp+20h] [bp-10h]@1
  int v19; // [sp+24h] [bp-Ch]@6
  int v20; // [sp+28h] [bp-8h]@8
  int v21; // [sp+2Ch] [bp-4h]@8
  int v22; // [sp+2Ch] [bp-4h]@25
  signed int v23; // [sp+34h] [bp+4h]@4

  v1 = a1;
  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 160);
  result = *(_DWORD *)(a1 + 304);
  v18 = v2;
  *(_DWORD *)(a1 + 456) = v2;
  *(_DWORD *)v2 = sub_4587C0;
  *(_DWORD *)(v2 + 4) = sub_4587E0;
  *(_DWORD *)(v2 + 8) = 0;
  if ( result )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 25;
    result = (*(int (__stdcall **)(int))v4)(a1);
  }
  if ( !*(_DWORD *)(a1 + 76) || (v23 = 1, *(_DWORD *)(v1 + 320) <= 1) )
    v23 = 0;
  v19 = 0;
  if ( *(_DWORD *)(v1 + 36) > 0 )
  {
    v5 = *(_DWORD *)(v1 + 220) + 36;
    v6 = v2 + 52;
    do
    {
      v7 = *(_DWORD *)(v1 + 320);
      v20 = *(_DWORD *)v5 * *(_DWORD *)(v5 - 28) / v7;
      v8 = *(_DWORD *)v5 * *(_DWORD *)(v5 - 24) / v7;
      v9 = *(_DWORD *)(v5 + 12);
      v10 = *(_DWORD *)(v1 + 316);
      v21 = *(_DWORD *)(v1 + 316);
      v11 = v8;
      v12 = *(_DWORD *)(v1 + 312);
      *(_DWORD *)(v6 + 48) = v11;
      if ( v9 )
      {
        if ( v20 != v12 || v11 != v10 )
        {
          if ( 2 * v20 == v12 )
          {
            if ( v11 == v10 )
            {
              if ( v23 && *(_DWORD *)(v5 + 4) > 2u )
                *(_DWORD *)v6 = sub_459540;
              else
                *(_DWORD *)v6 = sub_4589E0;
LABEL_29:
              v15 = *(_DWORD *)(v1 + 4);
              v16 = (2 * (*(_DWORD *)(v18 + 8) == 1) + 1) * *(_DWORD *)(v1 + 316);
              v17 = sub_452720(*(_DWORD *)(v1 + 112), *(_DWORD *)(v1 + 312));
              *(_DWORD *)(v6 - 40) = (*(int (__stdcall **)(int, signed int, int, int))(v15 + 8))(v1, 1, v17, v16);
              goto LABEL_30;
            }
            if ( 2 * v20 == v12 && 2 * v11 == v21 )
            {
              if ( v23 && *(_DWORD *)(v5 + 4) > 2u )
              {
                *(_DWORD *)v6 = sub_4595C0;
                *(_DWORD *)(v18 + 8) = 1;
              }
              else
              {
                *(_DWORD *)v6 = sub_458A40;
              }
              goto LABEL_29;
            }
          }
          v22 = v12 / v20;
          if ( v12 % v20 || (v13 = *(_DWORD *)(v1 + 316) / v11, *(_DWORD *)(v1 + 316) % v11) )
          {
            v14 = *(_DWORD *)v1;
            *(_DWORD *)(v14 + 20) = 38;
            (*(void (__stdcall **)(int))v14)(v1);
          }
          else
          {
            *(_DWORD *)v6 = sub_4588E0;
            *(_BYTE *)(v19 + v18 + 140) = v22;
            *(_BYTE *)(v19 + v18 + 150) = v13;
          }
          goto LABEL_29;
        }
        *(_DWORD *)v6 = sub_4588C0;
      }
      else
      {
        *(_DWORD *)v6 = sub_4588D0;
      }
LABEL_30:
      result = v19 + 1;
      v6 += 4;
      v5 += 84;
      ++v19;
    }
    while ( v19 < *(_DWORD *)(v1 + 36) );
  }
  return result;
}
// 4587C0: using guessed type int __stdcall sub_4587C0(int);
// 4588C0: using guessed type int __stdcall sub_4588C0(int, int, int, int);
// 4588D0: using guessed type int __stdcall sub_4588D0(int, int, int, int);
// 4589E0: using guessed type int __stdcall sub_4589E0(int, int, int, int);
// 458A40: using guessed type int __stdcall sub_458A40(int, int, int, int);

//----- (00459830) --------------------------------------------------------
int __usercall sub_459830@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int (__stdcall **v4)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v5; // eax@1
  int (__stdcall **v6)(_DWORD, _DWORD, _DWORD); // edx@1
  int v7; // eax@1
  signed int *v8; // ecx@1
  int v9; // ST30_4@1
  int result; // eax@1
  char *v11; // ebp@1
  signed int v12; // ebx@1
  signed int v13; // esi@1
  signed int v14; // edx@1
  int v15; // [sp+30h] [bp-8h]@1
  int v16; // [sp+34h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 460);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  v4 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 8) = v3;
  v5 = (*v4)(v1, 1, 1024);
  v6 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 12) = v5;
  *(_DWORD *)(v2 + 16) = (*v6)(v1, 1, 1024);
  v7 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v8 = *(signed int **)(v2 + 12);
  *(_DWORD *)(v2 + 20) = v7;
  v9 = v7;
  v16 = *(_DWORD *)(v2 + 16) - (_DWORD)v8;
  result = *(_DWORD *)(v2 + 8) - (_DWORD)v8;
  v11 = (char *)&unk_5B6900;
  v12 = -14831872;
  v13 = -11728000;
  v14 = 2919680;
  v15 = v9 - (_DWORD)v8;
  do
  {
    *(signed int *)((char *)v8 + result) = v13 >> 16;
    *v8 = v12 >> 16;
    *(signed int *)((char *)v8 + v16) = (signed int)v11;
    *(signed int *)((char *)v8 + v15) = v14;
    v14 -= 22554;
    v13 += 91881;
    v12 += 116130;
    v11 -= 46802;
    ++v8;
  }
  while ( v14 >= -2831590 );
  return result;
}

//----- (00459900) --------------------------------------------------------
_BYTE *__stdcall sub_459900(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // edx@1
  int v7; // ecx@1
  _BYTE *result; // eax@1
  int v9; // eax@2
  int v10; // ebx@2
  int v11; // ecx@2
  char *v12; // esi@2
  int v13; // edi@4
  int v14; // ebx@4
  int v15; // ecx@4
  int v16; // esi@5
  int v17; // ebx@5
  int v18; // ebp@7
  int v19; // esi@7
  int v20; // edi@7
  int v21; // [sp+4h] [bp-24h]@1
  int v22; // [sp+8h] [bp-20h]@5
  int v23; // [sp+Ch] [bp-1Ch]@5
  int v24; // [sp+10h] [bp-18h]@1
  _BYTE *v25; // [sp+14h] [bp-14h]@1
  int v26; // [sp+18h] [bp-10h]@1
  int v27; // [sp+1Ch] [bp-Ch]@1
  int v28; // [sp+20h] [bp-8h]@1
  char *v29; // [sp+24h] [bp-4h]@4
  int v30; // [sp+2Ch] [bp+4h]@5
  int v31; // [sp+30h] [bp+8h]@2
  int v32; // [sp+34h] [bp+Ch]@2

  v5 = *(_DWORD *)(a1 + 460);
  v21 = *(_DWORD *)(a1 + 112);
  v6 = *(_DWORD *)(a1 + 328);
  v24 = *(_DWORD *)(v5 + 8);
  v28 = *(_DWORD *)(v5 + 12);
  v7 = *(_DWORD *)(v5 + 16);
  result = *(_BYTE **)(v5 + 20);
  v27 = *(_DWORD *)(a1 + 328);
  v26 = v7;
  v25 = result;
  if ( a5 - 1 >= 0 )
  {
    v9 = *(_DWORD *)(a2 + 4);
    v10 = *(_DWORD *)a2 - v9;
    v11 = *(_DWORD *)(a2 + 8) - v9;
    v12 = (char *)(v9 + 4 * a3);
    v32 = *(_DWORD *)a2 - v9;
    v31 = *(_DWORD *)(a2 + 8) - v9;
    while ( 1 )
    {
      v13 = *(_DWORD *)&v12[v10];
      v14 = *(_DWORD *)&v12[v11];
      v15 = *a4;
      result = *(_BYTE **)v12;
      ++a4;
      v12 += 4;
      v29 = v12;
      if ( v21 )
      {
        v16 = v13 - (_DWORD)result;
        v17 = v14 - (_DWORD)result;
        v22 = v13 - (_DWORD)result;
        v23 = v17;
        v30 = v21;
        while ( 1 )
        {
          v18 = result[v17];
          v19 = result[v16];
          v20 = *result;
          *(_BYTE *)v15 = *(_BYTE *)(v19 + *(_DWORD *)(v24 + 4 * v18) + v6);
          v6 = v27;
          *(_BYTE *)(v15 + 1) = *(_BYTE *)(v19 + ((*(_DWORD *)(v26 + 4 * v18) + *(_DWORD *)&v25[4 * v20]) >> 16) + v27);
          *(_BYTE *)(v15 + 2) = *(_BYTE *)(v19 + *(_DWORD *)(v28 + 4 * v20) + v27);
          v15 += 3;
          ++result;
          if ( !--v30 )
            break;
          v16 = v22;
          v17 = v23;
        }
        v12 = v29;
      }
      if ( !--a5 )
        break;
      v11 = v31;
      v10 = v32;
    }
  }
  return result;
}

//----- (00459A30) --------------------------------------------------------
unsigned int *__stdcall sub_459A30(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // ebx@1
  unsigned int v7; // edi@1
  int v8; // ecx@1
  int v9; // edx@1
  unsigned int v10; // edi@1
  unsigned int *result; // eax@1
  int v12; // ebp@2
  unsigned int *v13; // ecx@3
  unsigned int *v14; // edx@3
  int v15; // esi@3
  int v16; // esi@5
  int v17; // ecx@6
  int v18; // edx@6
  int v19; // ebp@8
  int v20; // ecx@8
  int v21; // edi@8
  unsigned int v22; // [sp+8h] [bp-28h]@1
  unsigned int *v23; // [sp+Ch] [bp-24h]@3
  int v24; // [sp+Ch] [bp-24h]@6
  int v25; // [sp+10h] [bp-20h]@2
  int v26; // [sp+14h] [bp-1Ch]@1
  int v27; // [sp+18h] [bp-18h]@1
  int v28; // [sp+1Ch] [bp-14h]@1
  int v29; // [sp+20h] [bp-10h]@1
  int v30; // [sp+24h] [bp-Ch]@1
  unsigned int v31; // [sp+28h] [bp-8h]@1
  int v32; // [sp+2Ch] [bp-4h]@3
  unsigned int *v33; // [sp+34h] [bp+4h]@3
  int v34; // [sp+34h] [bp+4h]@6
  int v35; // [sp+3Ch] [bp+Ch]@2
  unsigned int *v36; // [sp+44h] [bp+14h]@3
  int v37; // [sp+44h] [bp+14h]@6

  v5 = *(_DWORD *)(a1 + 460);
  v6 = *(_DWORD *)(a1 + 328);
  v7 = *(_DWORD *)(a1 + 112);
  v26 = *(_DWORD *)(v5 + 8);
  v8 = *(_DWORD *)(v5 + 16);
  v30 = *(_DWORD *)(v5 + 12);
  v9 = *(_DWORD *)(v5 + 20);
  v22 = v7;
  v10 = v7 & 0xFFFFFFF8;
  result = (unsigned int *)(a5 - 1);
  v29 = *(_DWORD *)(a1 + 328);
  v28 = v8;
  v27 = v9;
  v31 = v10;
  if ( a5 - 1 >= 0 )
  {
    v12 = 4 * a3;
    v25 = 3 * v10;
    v35 = a5;
    do
    {
      v13 = *(unsigned int **)(*(_DWORD *)a2 + v12);
      v14 = *(unsigned int **)(*(_DWORD *)(a2 + 4) + v12);
      v33 = *(unsigned int **)(*(_DWORD *)(a2 + 8) + v12);
      v15 = *a4;
      v12 += 4;
      result = (unsigned int *)(a4 + 1);
      v23 = v13;
      v36 = v14;
      v32 = v12;
      ++a4;
      if ( v10 )
      {
        result = sub_471B20(v10, v13, v14, v33, v15);
        v14 = v36;
        v13 = v23;
      }
      v16 = v25 + v15;
      if ( v10 < v22 )
      {
        v17 = (char *)v13 - (char *)v14;
        result = (unsigned int *)((char *)v14 + v10);
        v18 = (char *)v33 - (char *)v36;
        v24 = v17;
        v37 = (char *)v33 - (char *)v36;
        v34 = v22 - v10;
        while ( 1 )
        {
          v19 = *((_BYTE *)result + v18);
          v20 = *((_BYTE *)result + v17);
          v21 = *(_BYTE *)result;
          *(_BYTE *)v16 = *(_BYTE *)(v20 + *(_DWORD *)(v26 + 4 * v19) + v6);
          v6 = v29;
          *(_BYTE *)(v16 + 1) = *(_BYTE *)(v20 + ((*(_DWORD *)(v28 + 4 * v19) + *(_DWORD *)(v27 + 4 * v21)) >> 16) + v29);
          *(_BYTE *)(v16 + 2) = *(_BYTE *)(v20 + *(_DWORD *)(v30 + 4 * v21) + v29);
          v16 += 3;
          result = (unsigned int *)((char *)result + 1);
          if ( !--v34 )
            break;
          v17 = v24;
          v18 = v37;
        }
        v10 = v31;
        v12 = v32;
      }
      --v35;
    }
    while ( v35 );
  }
  _m_femms();
  return result;
}

//----- (00459CC0) --------------------------------------------------------
int __stdcall sub_459CC0(int a1, int a2, int a3, int *a4, int a5)
{
  int result; // eax@1
  int v6; // ebx@1
  int v7; // eax@2
  int v8; // edi@2
  int v9; // ebp@2
  int v10; // ecx@2
  char *v11; // edx@2
  int v12; // esi@4
  int v13; // ebp@4
  int v14; // ecx@4
  int v15; // edx@5
  int v16; // ebp@5
  int v17; // esi@7
  int v18; // ebp@7
  int v19; // edi@7
  int v20; // [sp+8h] [bp-2Ch]@2
  int v21; // [sp+Ch] [bp-28h]@1
  int v22; // [sp+10h] [bp-24h]@5
  int v23; // [sp+14h] [bp-20h]@5
  int v24; // [sp+18h] [bp-1Ch]@1
  int v25; // [sp+1Ch] [bp-18h]@1
  int v26; // [sp+20h] [bp-14h]@1
  int v27; // [sp+24h] [bp-10h]@1
  int v28; // [sp+28h] [bp-Ch]@1
  int v29; // [sp+2Ch] [bp-8h]@5
  char *v30; // [sp+30h] [bp-4h]@4
  int v31; // [sp+38h] [bp+4h]@4
  int v32; // [sp+38h] [bp+4h]@5
  int v33; // [sp+3Ch] [bp+8h]@2
  int v34; // [sp+40h] [bp+Ch]@2

  result = *(_DWORD *)(a1 + 460);
  v6 = *(_DWORD *)(a1 + 328);
  v21 = *(_DWORD *)(a1 + 112);
  v24 = *(_DWORD *)(result + 8);
  v28 = *(_DWORD *)(result + 12);
  v27 = *(_DWORD *)(a1 + 328);
  v26 = *(_DWORD *)(result + 16);
  v25 = *(_DWORD *)(result + 20);
  if ( a5 - 1 >= 0 )
  {
    v7 = *(_DWORD *)(a2 + 4);
    v8 = *(_DWORD *)a2 - v7;
    v9 = *(_DWORD *)(a2 + 8) - v7;
    v10 = *(_DWORD *)(a2 + 12) - v7;
    v11 = (char *)(v7 + 4 * a3);
    v20 = *(_DWORD *)a2 - v7;
    v33 = *(_DWORD *)(a2 + 8) - v7;
    v34 = v10;
    while ( 1 )
    {
      v12 = *(_DWORD *)&v11[v8];
      result = *(_DWORD *)v11;
      v13 = *(_DWORD *)&v11[v9];
      v31 = *(_DWORD *)&v11[v10];
      v14 = *a4;
      ++a4;
      v11 += 4;
      v30 = v11;
      if ( v21 )
      {
        v15 = v12 - result;
        v16 = v13 - result;
        v22 = v12 - result;
        v23 = v16;
        v29 = v31 - result;
        v32 = v21;
        while ( 1 )
        {
          v17 = *(_BYTE *)(v15 + result);
          v18 = *(_BYTE *)(result + v16);
          v19 = *(_BYTE *)result;
          *(_BYTE *)v14 = *(_BYTE *)(v6 - *(_DWORD *)(v24 + 4 * v18) - v17 + 255);
          v6 = v27;
          *(_BYTE *)(v14 + 1) = *(_BYTE *)(v27
                                         - ((*(_DWORD *)(v26 + 4 * v18) + *(_DWORD *)(v25 + 4 * v19)) >> 16)
                                         - v17
                                         + 255);
          v14 += 4;
          *(_BYTE *)(v14 - 2) = *(_BYTE *)(v27 - *(_DWORD *)(v28 + 4 * v19) - v17 + 255);
          *(_BYTE *)(v14 - 1) = *(_BYTE *)(v29 + result++);
          if ( !--v32 )
            break;
          v15 = v22;
          v16 = v23;
        }
        v11 = v30;
      }
      if ( !--a5 )
        break;
      v9 = v33;
      v10 = v34;
      v8 = v20;
    }
  }
  return result;
}

//----- (00459E30) --------------------------------------------------------
unsigned int __usercall sub_459E30@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int (__stdcall **v4)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v5; // eax@1
  int (__stdcall **v6)(_DWORD, _DWORD, _DWORD); // edx@1
  int v7; // eax@1
  int (__stdcall **v8)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v9; // eax@1
  int (__stdcall **v10)(_DWORD, _DWORD, _DWORD); // edx@1
  int v11; // eax@1
  int (__stdcall **v12)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v13; // eax@1
  int (__stdcall **v14)(_DWORD, _DWORD, _DWORD); // edx@1
  int v15; // eax@1
  int v16; // edx@1
  int v17; // ebp@1
  signed int v18; // ecx@1
  int v19; // edx@3
  signed int v20; // eax@3
  int v21; // edx@6
  signed int v22; // eax@6
  int v23; // edx@9
  signed int v24; // eax@9
  int v25; // eax@12
  int v26; // edx@15
  signed int v27; // eax@15
  int v28; // edx@18
  signed int v29; // eax@18
  int v30; // edx@21
  signed int v31; // eax@21
  int v32; // edx@24
  signed int v33; // eax@24
  int v34; // edx@27
  signed int v35; // eax@27
  int v36; // ebx@29
  int v37; // edx@30
  signed int v38; // eax@30
  int v39; // edx@33
  signed int v40; // eax@33
  int v41; // edx@36
  signed int v42; // eax@36
  int v43; // eax@39
  int v44; // edx@42
  signed int v45; // eax@42
  int v46; // edx@45
  signed int v47; // eax@45
  int v48; // edx@48
  signed int v49; // eax@48
  int v50; // edx@51
  signed int v51; // eax@51
  int v52; // edx@54
  signed int v53; // eax@54
  int v54; // esi@56
  int v55; // edx@57
  signed int v56; // eax@57
  int v57; // edx@60
  signed int v58; // eax@60
  int v59; // edx@63
  signed int v60; // eax@63
  int v61; // eax@66
  int v62; // edx@69
  signed int v63; // eax@69
  int v64; // edx@72
  signed int v65; // eax@72
  int v66; // edx@75
  signed int v67; // eax@75
  int v68; // edx@78
  signed int v69; // eax@78
  int v70; // edx@81
  signed int v71; // eax@81
  int v72; // esi@83
  int v73; // edx@84
  signed int v74; // eax@84
  int v75; // edx@87
  signed int v76; // eax@87
  int v77; // edx@90
  signed int v78; // eax@90
  int v79; // eax@93
  int v80; // edx@96
  signed int v81; // eax@96
  int v82; // edx@99
  signed int v83; // eax@99
  int v84; // edx@102
  signed int v85; // eax@102
  int v86; // edx@105
  signed int v87; // eax@105
  int v88; // edx@108
  signed int v89; // eax@108
  unsigned int result; // eax@110
  int v91; // [sp+78h] [bp-24h]@1
  int v92; // [sp+7Ch] [bp-20h]@1
  int v93; // [sp+80h] [bp-1Ch]@1
  int v94; // [sp+84h] [bp-18h]@1
  int v95; // [sp+88h] [bp-14h]@1
  int v96; // [sp+8Ch] [bp-10h]@1
  int v97; // [sp+90h] [bp-Ch]@1
  int v98; // [sp+94h] [bp-8h]@1
  int v99; // [sp+98h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 460);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  v4 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 24) = v3;
  v5 = (*v4)(v1, 1, 1024);
  v6 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 28) = v5;
  *(_DWORD *)(v2 + 32) = (*v6)(v1, 1, 1024);
  v7 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v8 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 36) = v7;
  v9 = (*v8)(v1, 1, 1024);
  v10 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 40) = v9;
  *(_DWORD *)(v2 + 44) = (*v10)(v1, 1, 1024);
  v11 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v12 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 48) = v11;
  v13 = (*v12)(v1, 1, 1024);
  v14 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 52) = v13;
  *(_DWORD *)(v2 + 56) = (*v14)(v1, 1, 1024);
  v15 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v16 = *(_DWORD *)(v2 + 24);
  v17 = *(_DWORD *)(v2 + 48);
  v98 = v15;
  *(_DWORD *)(v2 + 60) = v15;
  v91 = v16;
  v92 = *(_DWORD *)(v2 + 28);
  v93 = *(_DWORD *)(v2 + 32);
  v94 = *(_DWORD *)(v2 + 36);
  v18 = 0;
  v95 = *(_DWORD *)(v2 + 40);
  v96 = *(_DWORD *)(v2 + 44);
  v99 = *(_DWORD *)(v2 + 52);
  v97 = *(_DWORD *)(v2 + 56);
  do
  {
    if ( v18 >= 192 )
    {
      v19 = (22464 * v18 - ((signed int)sub_41CFE0 + 1)) / 63;
      v20 = 22464;
    }
    else
    {
      v19 = 223 * v18;
      v20 = 65153;
    }
    *(_DWORD *)(v91 + 4 * v18) = v20 - v19;
    if ( v18 >= 192 )
    {
      v21 = (25728 * v18 - (signed int)&unk_4B5FE1) / 63;
      v22 = 25728;
    }
    else
    {
      v21 = 206 * v18;
      v22 = 65153;
    }
    *(_DWORD *)(v92 + 4 * v18) = (unsigned int)(65793 * (v22 - v21)) >> 16;
    if ( v18 >= 192 )
    {
      v23 = (8217 * v18 - 1577633) / 63;
      v24 = 47232;
    }
    else
    {
      v23 = 94 * v18;
      v24 = 65153;
    }
    *(_DWORD *)(v93 + 4 * v18) = (unsigned int)(65793 * (v24 - v23)) >> 16;
    if ( v18 >= 192 )
      v25 = 65280 - (3060 * v18 - 587489) / 63;
    else
      v25 = 65153;
    *(_DWORD *)(v94 + 4 * v18) = (unsigned int)(65793 * v25) >> 16;
    if ( v18 >= 192 )
    {
      v26 = (7632 * v18 - 1465313) / 63;
      v27 = 60672;
    }
    else
    {
      v26 = 24 * v18;
      v27 = 65153;
    }
    *(_DWORD *)(v95 + 4 * v18) = (unsigned int)(65793 * (v27 - v26)) >> 16;
    if ( v18 >= 192 )
    {
      v28 = (29568 * v18 - (signed int)&unk_569FE1) / 63;
      v29 = 29568;
    }
    else
    {
      v28 = 186 * v18;
      v29 = 65153;
    }
    *(_DWORD *)(v96 + 4 * v18) = (unsigned int)(65793 * (v29 - v28)) >> 16;
    if ( v18 >= 192 )
    {
      v30 = (11376 * v18 - 2184161) / 63;
      v31 = 39936;
    }
    else
    {
      v30 = 132 * v18;
      v31 = 65153;
    }
    *(_DWORD *)(v17 + 4 * v18) = (unsigned int)(65793 * (v31 - v30)) >> 16;
    *(_DWORD *)(v99 + 4 * v18) = (unsigned int)(65793 * (v18 >= 192 ? 65280 : 65153)) >> 16;
    if ( v18 >= 192 )
    {
      v32 = (1461 * v18 - 280481) / 63;
      v33 = 63936;
    }
    else
    {
      v32 = 7 * v18;
      v33 = 65153;
    }
    *(_DWORD *)(v97 + 4 * v18) = (unsigned int)(65793 * (v33 - v32)) >> 16;
    if ( v18 >= 192 )
    {
      v34 = (25308 * v18 - ((signed int)&loc_4A24DE + 3)) / 63;
      v35 = 32448;
    }
    else
    {
      v34 = 171 * v18;
      v35 = 65153;
    }
    v36 = v18 + 1;
    *(_DWORD *)(v98 + 4 * v18) = (unsigned int)(65793 * (v35 - v34)) >> 16;
    if ( v18 + 1 >= 192 )
    {
      v37 = (22464 * v18 - ((signed int)&loc_417820 + 1)) / 63;
      v38 = 22464;
    }
    else
    {
      v37 = 223 * v18;
      v38 = 64930;
    }
    *(_DWORD *)(v91 + 4 * v18 + 4) = v38 - v37;
    if ( v36 >= 192 )
    {
      v39 = (25728 * v18 - (signed int)"_com_m.wav") / 63;
      v40 = 25728;
    }
    else
    {
      v39 = 206 * v18;
      v40 = 64947;
    }
    *(_DWORD *)(v92 + 4 * v18 + 4) = (unsigned int)(65793 * (v40 - v39)) >> 16;
    if ( v36 >= 192 )
    {
      v41 = (8217 * v18 - 1569416) / 63;
      v42 = 47232;
    }
    else
    {
      v41 = 94 * v18;
      v42 = 65059;
    }
    *(_DWORD *)(v93 + 4 * v18 + 4) = (unsigned int)(65793 * (v42 - v41)) >> 16;
    if ( v36 >= 192 )
      v43 = 65280 - (3060 * v18 - 584429) / 63;
    else
      v43 = 65153;
    *(_DWORD *)(v94 + 4 * v18 + 4) = (unsigned int)(65793 * v43) >> 16;
    if ( v36 >= 192 )
    {
      v44 = (7632 * v18 - 1457681) / 63;
      v45 = 60672;
    }
    else
    {
      v44 = 24 * v18;
      v45 = 65129;
    }
    *(_DWORD *)(v95 + 4 * v18 + 4) = (unsigned int)(65793 * (v45 - v44)) >> 16;
    if ( v36 >= 192 )
    {
      v46 = (29568 * v18 - (signed int)&unk_562C61) / 63;
      v47 = 29568;
    }
    else
    {
      v46 = 186 * v18;
      v47 = 64967;
    }
    *(_DWORD *)(v96 + 4 * v18 + 4) = (unsigned int)(65793 * (v47 - v46)) >> 16;
    if ( v36 >= 192 )
    {
      v48 = (11376 * v18 - 2172785) / 63;
      v49 = 39936;
    }
    else
    {
      v48 = 132 * v18;
      v49 = 65021;
    }
    *(_DWORD *)(v17 + 4 * v18 + 4) = (unsigned int)(65793 * (v49 - v48)) >> 16;
    *(_DWORD *)(v99 + 4 * v18 + 4) = (unsigned int)(65793 * (v36 >= 192 ? 65280 : 65153)) >> 16;
    if ( v36 >= 192 )
    {
      v50 = (1461 * v18 - 279020) / 63;
      v51 = 63936;
    }
    else
    {
      v50 = 7 * v18;
      v51 = 65146;
    }
    *(_DWORD *)(v97 + 4 * v18 + 4) = (unsigned int)(65793 * (v51 - v50)) >> 16;
    if ( v36 >= 192 )
    {
      v52 = (25308 * v18 - ((signed int)&loc_49C204 + 1)) / 63;
      v53 = 32448;
    }
    else
    {
      v52 = 171 * v18;
      v53 = 64982;
    }
    v54 = v18 + 2;
    *(_DWORD *)(v98 + 4 * v18 + 4) = (unsigned int)(65793 * (v53 - v52)) >> 16;
    if ( v18 + 2 >= 192 )
    {
      v55 = (22464 * v18 - (signed int)&loc_412061) / 63;
      v56 = 22464;
    }
    else
    {
      v55 = 223 * v18;
      v56 = 64707;
    }
    *(_DWORD *)(v91 + 4 * v54) = v56 - v55;
    if ( v54 >= 192 )
    {
      v57 = (25728 * v18 - ((signed int)&loc_4A96DE + 3)) / 63;
      v58 = 25728;
    }
    else
    {
      v57 = 206 * v18;
      v58 = 64741;
    }
    *(_DWORD *)(v92 + 4 * v54) = (unsigned int)(65793 * (v58 - v57)) >> 16;
    if ( v54 >= 192 )
    {
      v59 = (8217 * v18 - 1561199) / 63;
      v60 = 47232;
    }
    else
    {
      v59 = 94 * v18;
      v60 = 64965;
    }
    *(_DWORD *)(v93 + 4 * v54) = (unsigned int)(65793 * (v60 - v59)) >> 16;
    if ( v54 >= 192 )
      v61 = 65280 - (3060 * v18 - 581369) / 63;
    else
      v61 = 65153;
    *(_DWORD *)(v94 + 4 * v54) = (unsigned int)(65793 * v61) >> 16;
    if ( v54 >= 192 )
    {
      v62 = (7632 * v18 - 1450049) / 63;
      v63 = 60672;
    }
    else
    {
      v62 = 24 * v18;
      v63 = 65105;
    }
    *(_DWORD *)(v95 + 4 * v54) = (unsigned int)(65793 * (v63 - v62)) >> 16;
    if ( v54 >= 192 )
    {
      v64 = (29568 * v18 - (signed int)&unk_55B8E1) / 63;
      v65 = 29568;
    }
    else
    {
      v64 = 186 * v18;
      v65 = 64781;
    }
    *(_DWORD *)(v96 + 4 * v54) = (unsigned int)(65793 * (v65 - v64)) >> 16;
    if ( v54 >= 192 )
    {
      v66 = (11376 * v18 - 2161409) / 63;
      v67 = 39936;
    }
    else
    {
      v66 = 132 * v18;
      v67 = 64889;
    }
    *(_DWORD *)(v17 + 4 * v54) = (unsigned int)(65793 * (v67 - v66)) >> 16;
    *(_DWORD *)(v99 + 4 * v54) = (unsigned int)(65793 * (v54 >= 192 ? 65280 : 65153)) >> 16;
    if ( v54 >= 192 )
    {
      v68 = (1461 * v18 - 277559) / 63;
      v69 = 63936;
    }
    else
    {
      v68 = 7 * v18;
      v69 = 65139;
    }
    *(_DWORD *)(v97 + 4 * v54) = (unsigned int)(65793 * (v69 - v68)) >> 16;
    if ( v54 >= 192 )
    {
      v70 = (25308 * v18 - ((signed int)&loc_495F24 + 5)) / 63;
      v71 = 32448;
    }
    else
    {
      v70 = 171 * v18;
      v71 = 64811;
    }
    *(_DWORD *)(v98 + 4 * v54) = (unsigned int)(65793 * (v71 - v70)) >> 16;
    v72 = v18 + 3;
    if ( v18 + 3 >= 192 )
    {
      v73 = (22464 * v18 - 4245665) / 63;
      v74 = 22464;
    }
    else
    {
      v73 = 223 * v18;
      v74 = 64484;
    }
    *(_DWORD *)(v91 + 4 * v72) = v74 - v73;
    if ( v72 >= 192 )
    {
      v75 = (25728 * v18 - ((signed int)&loc_4A325E + 3)) / 63;
      v76 = 25728;
    }
    else
    {
      v75 = 206 * v18;
      v76 = 64535;
    }
    *(_DWORD *)(v92 + 4 * v72) = (unsigned int)(65793 * (v76 - v75)) >> 16;
    if ( v72 >= 192 )
    {
      v77 = (8217 * v18 - 1552982) / 63;
      v78 = 47232;
    }
    else
    {
      v77 = 94 * v18;
      v78 = 64871;
    }
    *(_DWORD *)(v93 + 4 * v72) = (unsigned int)(65793 * (v78 - v77)) >> 16;
    if ( v72 >= 192 )
      v79 = 65280 - (3060 * v18 - 578309) / 63;
    else
      v79 = 65153;
    *(_DWORD *)(v94 + 4 * v72) = (unsigned int)(65793 * v79) >> 16;
    if ( v72 >= 192 )
    {
      v80 = (7632 * v18 - 1442417) / 63;
      v81 = 60672;
    }
    else
    {
      v80 = 24 * v18;
      v81 = 65081;
    }
    *(_DWORD *)(v95 + 4 * v72) = (unsigned int)(65793 * (v81 - v80)) >> 16;
    if ( v72 >= 192 )
    {
      v82 = (29568 * v18 - (signed int)&unk_554561) / 63;
      v83 = 29568;
    }
    else
    {
      v82 = 186 * v18;
      v83 = 64595;
    }
    *(_DWORD *)(v96 + 4 * v72) = (unsigned int)(65793 * (v83 - v82)) >> 16;
    if ( v72 >= 192 )
    {
      v84 = (11376 * v18 - 2150033) / 63;
      v85 = 39936;
    }
    else
    {
      v84 = 132 * v18;
      v85 = 64757;
    }
    *(_DWORD *)(v17 + 4 * v72) = (unsigned int)(65793 * (v85 - v84)) >> 16;
    *(_DWORD *)(v99 + 4 * v72) = (unsigned int)(65793 * (v72 >= 192 ? 65280 : 65153)) >> 16;
    if ( v72 >= 192 )
    {
      v86 = (1461 * v18 - 276098) / 63;
      v87 = 63936;
    }
    else
    {
      v86 = 7 * v18;
      v87 = 65132;
    }
    *(_DWORD *)(v97 + 4 * v72) = (unsigned int)(65793 * (v87 - v86)) >> 16;
    if ( v72 >= 192 )
    {
      v88 = (25308 * v18 - ((signed int)&loc_48FC4B + 2)) / 63;
      v89 = 32448;
    }
    else
    {
      v88 = 171 * v18;
      v89 = 64640;
    }
    result = (unsigned int)(65793 * (v89 - v88)) >> 16;
    v18 += 4;
    *(_DWORD *)(v98 + 4 * v72) = result;
  }
  while ( v18 <= 255 );
  return result;
}

//----- (0045AA90) --------------------------------------------------------
char *__stdcall sub_45AA90(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // edx@1
  char *result; // eax@1
  int v8; // ecx@2
  int v9; // edi@2
  int v10; // ebx@2
  int v11; // ebp@2
  int v12; // edx@4
  int v13; // ebx@4
  int v14; // ebp@4
  int v15; // ecx@4
  _BYTE *v16; // edi@4
  int v17; // eax@5
  int v18; // edx@5
  int v19; // ebx@5
  int v20; // eax@7
  int v21; // ecx@7
  int v22; // esi@7
  int v23; // edx@7
  unsigned int v24; // ebx@7
  unsigned int v25; // edx@7
  int v26; // [sp+4h] [bp-44h]@2
  int v27; // [sp+8h] [bp-40h]@2
  int v28; // [sp+Ch] [bp-3Ch]@1
  int v29; // [sp+10h] [bp-38h]@5
  int v30; // [sp+14h] [bp-34h]@5
  int v31; // [sp+18h] [bp-30h]@5
  int v32; // [sp+1Ch] [bp-2Ch]@1
  int v33; // [sp+20h] [bp-28h]@1
  int v34; // [sp+24h] [bp-24h]@1
  int v35; // [sp+28h] [bp-20h]@1
  int v36; // [sp+2Ch] [bp-1Ch]@1
  int v37; // [sp+30h] [bp-18h]@1
  int v38; // [sp+34h] [bp-14h]@1
  char *v39; // [sp+38h] [bp-10h]@1
  int v40; // [sp+3Ch] [bp-Ch]@1
  int v41; // [sp+40h] [bp-8h]@1
  char *v42; // [sp+44h] [bp-4h]@4
  int v43; // [sp+4Ch] [bp+4h]@7
  int v44; // [sp+50h] [bp+8h]@2
  int v45; // [sp+54h] [bp+Ch]@2
  int v46; // [sp+5Ch] [bp+14h]@5

  v5 = *(_DWORD *)(a1 + 460);
  v32 = *(_DWORD *)(v5 + 24);
  v33 = *(_DWORD *)(v5 + 28);
  v38 = *(_DWORD *)(v5 + 32);
  v40 = *(_DWORD *)(v5 + 36);
  v34 = *(_DWORD *)(v5 + 40);
  v36 = *(_DWORD *)(v5 + 44);
  v41 = *(_DWORD *)(v5 + 48);
  v35 = *(_DWORD *)(v5 + 52);
  v6 = *(_DWORD *)(v5 + 56);
  result = *(char **)(v5 + 60);
  v37 = v6;
  v39 = result;
  v28 = *(_DWORD *)(a1 + 112);
  if ( a5 - 1 >= 0 )
  {
    v8 = *(_DWORD *)(a2 + 4);
    v9 = *(_DWORD *)a2 - v8;
    v10 = *(_DWORD *)(a2 + 8) - v8;
    v11 = *(_DWORD *)(a2 + 12) - v8;
    result = (char *)(v8 + 4 * a3);
    v27 = *(_DWORD *)a2 - v8;
    v45 = *(_DWORD *)(a2 + 8) - v8;
    v26 = *(_DWORD *)(a2 + 12) - v8;
    v44 = a5;
    while ( 1 )
    {
      v12 = *(_DWORD *)&result[v10];
      v13 = *(_DWORD *)&result[v11];
      v14 = *a4;
      v15 = *(_DWORD *)&result[v9];
      v16 = *(_BYTE **)result;
      ++a4;
      result += 4;
      v42 = result;
      if ( v28 )
      {
        v17 = v15 - (_DWORD)v16;
        v18 = v12 - (_DWORD)v16;
        v19 = v13 - (_DWORD)v16;
        v29 = v15 - (_DWORD)v16;
        v30 = v18;
        v31 = v19;
        v46 = v28;
        while ( 1 )
        {
          v20 = 255 - v16[v17];
          v21 = 255 - *v16;
          v22 = 255 - v16[v18];
          v23 = *(_DWORD *)(v32 + 4 * (255 - v16[v19]));
          v24 = v23 * *(_DWORD *)(v33 + 4 * v20);
          v43 = v23;
          v25 = (unsigned int)(v23 * *(_DWORD *)(v36 + 4 * v21)) >> 16;
          *(_BYTE *)v14 = *(_DWORD *)(v35 + 4 * v22) * (*(_DWORD *)(v34 + 4 * v21) * (v24 >> 16) >> 16) >> 24;
          *(_BYTE *)(v14 + 1) = *(_DWORD *)(v38 + 4 * v20) * (*(_DWORD *)(v37 + 4 * v22) * v25 >> 16) >> 24;
          *(_BYTE *)(v14 + 2) = *(_DWORD *)(v41 + 4 * v21)
                              * (*(_DWORD *)(v40 + 4 * v20) * ((unsigned int)(v43 * *(_DWORD *)&v39[4 * v22]) >> 16) >> 16) >> 24;
          v14 += 3;
          ++v16;
          if ( !--v46 )
            break;
          v17 = v29;
          v18 = v30;
          v19 = v31;
        }
        result = v42;
      }
      if ( !--v44 )
        break;
      v10 = v45;
      v11 = v26;
      v9 = v27;
    }
  }
  return result;
}

//----- (0045AC70) --------------------------------------------------------
_BYTE *__stdcall sub_45AC70(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  _BYTE *result; // eax@1
  int v7; // eax@2
  int v8; // edi@2
  int v9; // ebx@2
  int v10; // ecx@2
  char *v11; // edx@2
  int v12; // esi@4
  int v13; // ebx@4
  int v14; // ecx@4
  int v15; // edi@4
  int v16; // edx@5
  int v17; // esi@5
  int v18; // edx@7
  int v19; // edi@7
  int v20; // esi@7
  int v21; // edi@7
  int v22; // ebp@7
  unsigned int v23; // edx@7
  int v24; // [sp+4h] [bp-58h]@2
  int v25; // [sp+8h] [bp-54h]@2
  int v26; // [sp+Ch] [bp-50h]@2
  int v27; // [sp+10h] [bp-4Ch]@1
  int v28; // [sp+14h] [bp-48h]@5
  int v29; // [sp+18h] [bp-44h]@5
  int v30; // [sp+1Ch] [bp-40h]@1
  int v31; // [sp+20h] [bp-3Ch]@1
  int v32; // [sp+24h] [bp-38h]@1
  int v33; // [sp+28h] [bp-34h]@1
  int v34; // [sp+2Ch] [bp-30h]@5
  int v35; // [sp+30h] [bp-2Ch]@1
  int v36; // [sp+34h] [bp-28h]@1
  int v37; // [sp+38h] [bp-24h]@1
  int v38; // [sp+3Ch] [bp-20h]@1
  int v39; // [sp+40h] [bp-1Ch]@1
  int v40; // [sp+44h] [bp-18h]@1
  int v41; // [sp+48h] [bp-14h]@1
  int v42; // [sp+4Ch] [bp-10h]@1
  int v43; // [sp+50h] [bp-Ch]@1
  int v44; // [sp+54h] [bp-8h]@1
  char *v45; // [sp+58h] [bp-4h]@4
  int v46; // [sp+60h] [bp+4h]@1
  int v47; // [sp+64h] [bp+8h]@5
  int v48; // [sp+68h] [bp+Ch]@2
  int v49; // [sp+70h] [bp+14h]@7

  v5 = *(_DWORD *)(a1 + 460);
  v35 = *(_DWORD *)(v5 + 24);
  v36 = *(_DWORD *)(v5 + 28);
  v41 = *(_DWORD *)(v5 + 32);
  v43 = *(_DWORD *)(v5 + 36);
  v37 = *(_DWORD *)(v5 + 40);
  v39 = *(_DWORD *)(v5 + 44);
  v44 = *(_DWORD *)(v5 + 48);
  v38 = *(_DWORD *)(v5 + 52);
  v40 = *(_DWORD *)(v5 + 56);
  v42 = *(_DWORD *)(v5 + 60);
  v30 = *(_DWORD *)(v5 + 8);
  v33 = *(_DWORD *)(v5 + 12);
  v32 = *(_DWORD *)(v5 + 16);
  v31 = *(_DWORD *)(v5 + 20);
  result = *(_BYTE **)(a1 + 328);
  v27 = *(_DWORD *)(a1 + 112);
  v46 = *(_DWORD *)(a1 + 328);
  if ( a5 - 1 >= 0 )
  {
    v7 = *(_DWORD *)(a2 + 4);
    v8 = *(_DWORD *)a2 - v7;
    v9 = *(_DWORD *)(a2 + 8) - v7;
    v10 = *(_DWORD *)(a2 + 12) - v7;
    v11 = (char *)(v7 + 4 * a3);
    v26 = *(_DWORD *)a2 - v7;
    v24 = *(_DWORD *)(a2 + 8) - v7;
    v25 = *(_DWORD *)(a2 + 12) - v7;
    v48 = a5;
    while ( 1 )
    {
      v12 = *(_DWORD *)&v11[v9];
      v13 = *(_DWORD *)&v11[v10];
      v14 = *a4;
      v15 = *(_DWORD *)&v11[v8];
      result = *(_BYTE **)v11;
      ++a4;
      v11 += 4;
      v45 = v11;
      if ( v27 )
      {
        v16 = v15 - (_DWORD)result;
        v17 = v12 - (_DWORD)result;
        v29 = v15 - (_DWORD)result;
        v28 = v17;
        v34 = v13 - (_DWORD)result;
        v47 = v27;
        while ( 1 )
        {
          v18 = result[v16];
          v19 = result[v17];
          v20 = *(_BYTE *)(v18 + *(_DWORD *)(v30 + 4 * v19) + v46);
          v21 = *(_BYTE *)(v18 + ((*(_DWORD *)(v32 + 4 * v19) + *(_DWORD *)(v31 + 4 * *result)) >> 16) + v46);
          v22 = *(_BYTE *)(v18 + *(_DWORD *)(v33 + 4 * *result) + v46);
          v49 = *(_DWORD *)(v35 + 4 * (255 - result[v34]));
          v23 = (unsigned int)(v49 * *(_DWORD *)(v39 + 4 * v21)) >> 16;
          *(_BYTE *)v14 = *(_DWORD *)(v38 + 4 * v22)
                        * (*(_DWORD *)(v37 + 4 * v21)
                         * ((unsigned int)(*(_DWORD *)(v35 + 4 * (255 - result[v34])) * *(_DWORD *)(v36 + 4 * v20)) >> 16) >> 16) >> 24;
          *(_BYTE *)(v14 + 1) = *(_DWORD *)(v41 + 4 * v20) * (*(_DWORD *)(v40 + 4 * v22) * v23 >> 16) >> 24;
          *(_BYTE *)(v14 + 2) = *(_DWORD *)(v44 + 4 * v21)
                              * (*(_DWORD *)(v43 + 4 * v20) * ((unsigned int)(v49 * *(_DWORD *)(v42 + 4 * v22)) >> 16) >> 16) >> 24;
          v14 += 3;
          ++result;
          if ( !--v47 )
            break;
          v17 = v28;
          v16 = v29;
        }
        v11 = v45;
      }
      if ( !--v48 )
        break;
      v9 = v24;
      v10 = v25;
      v8 = v26;
    }
  }
  return result;
}

//----- (0045AEA0) --------------------------------------------------------
int __stdcall sub_45AEA0(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // eax@9
  int v4; // eax@15
  int v5; // eax@19
  int v6; // eax@20
  int v7; // eax@32
  int v8; // eax@34
  bool v9; // zf@35
  bool v10; // sf@35
  unsigned __int8 v11; // of@35
  _DWORD *v12; // eax@36
  int v13; // ecx@36
  int result; // eax@38

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 64);
  v2 = *(_DWORD *)(a1 + 40) - 1;
  *(_DWORD *)(a1 + 460) = v1;
  *(_DWORD *)v1 = nullsub_3;
  switch ( v2 )
  {
    case 0:
      if ( *(_DWORD *)(a1 + 36) != 1 )
        goto LABEL_9;
      break;
    case 1:
    case 2:
      if ( *(_DWORD *)(a1 + 36) != 3 )
        goto LABEL_9;
      break;
    case 3:
    case 4:
      if ( *(_DWORD *)(a1 + 36) != 4 )
        goto LABEL_9;
      break;
    default:
      if ( *(_DWORD *)(a1 + 36) < 1 )
      {
LABEL_9:
        v3 = *(_DWORD *)a1;
        *(_DWORD *)(v3 + 20) = 10;
        (*(void (__stdcall **)(int))v3)(a1);
      }
      break;
  }
  if ( *(_DWORD *)(a1 + 44) == 1 )
  {
    v7 = *(_DWORD *)(a1 + 40);
    *(_DWORD *)(a1 + 120) = 1;
    if ( v7 != 1 && v7 != 3 )
    {
LABEL_34:
      v8 = *(_DWORD *)a1;
      *(_DWORD *)(v8 + 20) = 27;
      (*(void (__stdcall **)(int))v8)(a1);
      goto LABEL_38;
    }
    v11 = __OFSUB__(*(_DWORD *)(a1 + 36), 1);
    v9 = *(_DWORD *)(a1 + 36) == 1;
    v10 = *(_DWORD *)(a1 + 36) - 1 < 0;
    *(_DWORD *)(v1 + 4) = sub_459C30;
    if ( !((unsigned __int8)(v10 ^ v11) | v9) )
    {
      v12 = (_DWORD *)(*(_DWORD *)(a1 + 220) + 132);
      v13 = *(_DWORD *)(a1 + 36) - 1;
      do
      {
        *v12 = 0;
        v12 += 21;
        --v13;
      }
      while ( v13 );
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 44) != 2 )
    {
      if ( *(_DWORD *)(a1 + 44) == 4 )
      {
        v4 = *(_DWORD *)(a1 + 40);
        *(_DWORD *)(a1 + 120) = 4;
        if ( v4 == 5 )
        {
          *(_DWORD *)(v1 + 4) = sub_459CC0;
          sub_459830(a1);
          goto LABEL_38;
        }
        if ( v4 == 4 )
        {
          *(_DWORD *)(v1 + 4) = sub_459BA0;
          goto LABEL_38;
        }
      }
      else if ( *(_DWORD *)(a1 + 44) == *(_DWORD *)(a1 + 40) )
      {
        *(_DWORD *)(a1 + 120) = *(_DWORD *)(a1 + 36);
        *(_DWORD *)(v1 + 4) = sub_459BA0;
        goto LABEL_38;
      }
      goto LABEL_34;
    }
    v5 = *(_DWORD *)(a1 + 40);
    *(_DWORD *)(a1 + 120) = 3;
    if ( v5 != 3 )
    {
      if ( v5 == 1 )
      {
        *(_DWORD *)(v1 + 4) = sub_459C60;
        goto LABEL_38;
      }
      if ( v5 == 2 )
      {
        *(_DWORD *)(v1 + 4) = sub_459BA0;
        goto LABEL_38;
      }
      if ( v5 == 4 )
      {
        *(_DWORD *)(v1 + 4) = sub_45AA90;
        sub_459E30(a1);
        goto LABEL_38;
      }
      if ( v5 == 5 )
      {
        *(_DWORD *)(v1 + 4) = sub_45AC70;
        sub_459830(a1);
        sub_459E30(a1);
        goto LABEL_38;
      }
      goto LABEL_34;
    }
    v6 = *(_DWORD *)(a1 + 72);
    if ( v6 == 5 || v6 == 6 )
    {
      *(_DWORD *)(v1 + 4) = sub_459A30;
      sub_459830(a1);
    }
    else
    {
      *(_DWORD *)(v1 + 4) = sub_459900;
      sub_459830(a1);
    }
  }
LABEL_38:
  result = *(_DWORD *)(a1 + 84);
  if ( result )
    *(_DWORD *)(a1 + 124) = 1;
  else
    *(_DWORD *)(a1 + 124) = *(_DWORD *)(a1 + 120);
  return result;
}
// 459BA0: using guessed type int __stdcall sub_459BA0(int, int, int, int, int);
// 459C30: using guessed type int __stdcall sub_459C30(int, int, int, int, int);
// 459C60: using guessed type int __stdcall sub_459C60(int, int, int, int, int);
// 46BED0: using guessed type int __stdcall nullsub_3(int);

//----- (0045B070) --------------------------------------------------------
int __usercall sub_45B070@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int (__stdcall **v4)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v5; // eax@1
  int (__stdcall **v6)(_DWORD, _DWORD, _DWORD); // edx@1
  int v7; // eax@1
  signed int *v8; // ecx@1
  int v9; // ST30_4@1
  int result; // eax@1
  char *v11; // ebp@1
  signed int v12; // ebx@1
  signed int v13; // esi@1
  signed int v14; // edx@1
  int v15; // [sp+30h] [bp-8h]@1
  int v16; // [sp+34h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 456);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  v4 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 16) = v3;
  v5 = (*v4)(v1, 1, 1024);
  v6 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 20) = v5;
  *(_DWORD *)(v2 + 24) = (*v6)(v1, 1, 1024);
  v7 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v8 = *(signed int **)(v2 + 20);
  *(_DWORD *)(v2 + 28) = v7;
  v9 = v7;
  v16 = *(_DWORD *)(v2 + 24) - (_DWORD)v8;
  result = *(_DWORD *)(v2 + 16) - (_DWORD)v8;
  v11 = (char *)&unk_5B6900;
  v12 = -14831872;
  v13 = -11728000;
  v14 = 2919680;
  v15 = v9 - (_DWORD)v8;
  do
  {
    *(signed int *)((char *)v8 + result) = v13 >> 16;
    *v8 = v12 >> 16;
    *(signed int *)((char *)v8 + v16) = (signed int)v11;
    *(signed int *)((char *)v8 + v15) = v14;
    v14 -= 22554;
    v13 += 91881;
    v12 += 116130;
    v11 -= 46802;
    ++v8;
  }
  while ( v14 >= -2831590 );
  return result;
}

//----- (0045B270) --------------------------------------------------------
int __stdcall sub_45B270(int a1, int a2, int a3, int *a4)
{
  int v4; // eax@1
  int v5; // ecx@1
  unsigned int v6; // ebp@1
  int v7; // edi@1
  _BYTE *v8; // ebx@1
  _BYTE *v9; // esi@1
  int result; // eax@1
  int v11; // ebp@3
  int v12; // edx@3
  signed int v13; // esi@3
  int v14; // ebp@3
  int v15; // edx@3
  char v16; // bl@3
  int v17; // ebp@3
  int v18; // eax@3
  char v19; // bl@3
  int v20; // edx@5
  int v21; // ebp@5
  int v22; // esi@5
  int v23; // edi@5
  int v24; // [sp+10h] [bp-14h]@1
  int v25; // [sp+14h] [bp-10h]@1
  int v26; // [sp+18h] [bp-Ch]@1
  int v27; // [sp+1Ch] [bp-8h]@1
  int v28; // [sp+20h] [bp-4h]@1
  int v29; // [sp+28h] [bp+4h]@3
  int v30; // [sp+2Ch] [bp+8h]@3
  unsigned int v31; // [sp+30h] [bp+Ch]@2
  int v32; // [sp+34h] [bp+10h]@3

  v4 = *(_DWORD *)(a1 + 456);
  v5 = *(_DWORD *)(a1 + 328);
  v6 = *(_DWORD *)(a1 + 112);
  v24 = *(_DWORD *)(v4 + 16);
  v27 = *(_DWORD *)(v4 + 20);
  v26 = *(_DWORD *)(v4 + 24);
  v25 = *(_DWORD *)(v4 + 28);
  v7 = *(_DWORD *)(*(_DWORD *)a2 + 4 * a3);
  v8 = *(_BYTE **)(*(_DWORD *)(a2 + 8) + 4 * a3);
  v9 = *(_BYTE **)(*(_DWORD *)(a2 + 4) + 4 * a3);
  result = *a4;
  v28 = *(_DWORD *)(a1 + 112);
  if ( v6 >> 1 )
  {
    v31 = v6 >> 1;
    do
    {
      v11 = *v8;
      v12 = *v9;
      v32 = (int)(v9 + 1);
      v30 = (int)(v8 + 1);
      v29 = *(_DWORD *)(v24 + 4 * v11);
      v13 = *(_DWORD *)(v26 + 4 * v11) + *(_DWORD *)(v25 + 4 * v12);
      v14 = *(_BYTE *)v7;
      v15 = *(_DWORD *)(v27 + 4 * v12);
      *(_BYTE *)result = *(_BYTE *)(v14 + v29 + v5);
      v13 >>= 16;
      *(_BYTE *)(result + 1) = *(_BYTE *)(v13 + v14 + v5);
      v16 = *(_BYTE *)(v5 + v15 + v14);
      v17 = *(_BYTE *)(v7 + 1);
      *(_BYTE *)(result + 2) = v16;
      v18 = result + 3;
      LOBYTE(v15) = *(_BYTE *)(v5 + v15 + v17);
      *(_BYTE *)v18 = *(_BYTE *)(v17 + v29 + v5);
      v19 = *(_BYTE *)(v17 + v13 + v5);
      v9 = (_BYTE *)v32;
      *(_BYTE *)(v18 + 2) = v15;
      *(_BYTE *)(v18 + 1) = v19;
      v8 = (_BYTE *)v30;
      v7 += 2;
      result = v18 + 3;
      --v31;
    }
    while ( v31 );
  }
  if ( v28 & 1 )
  {
    v20 = *v8;
    v21 = *v9;
    v22 = *(_BYTE *)v7;
    v23 = *(_DWORD *)(v25 + 4 * v21);
    *(_BYTE *)result = *(_BYTE *)(v22 + *(_DWORD *)(v24 + 4 * v20) + v5);
    *(_BYTE *)(result + 1) = *(_BYTE *)(v22 + ((*(_DWORD *)(v26 + 4 * v20) + v23) >> 16) + v5);
    *(_BYTE *)(result + 2) = *(_BYTE *)(v22 + *(_DWORD *)(v27 + 4 * v21) + v5);
  }
  return result;
}

//----- (0045B3C0) --------------------------------------------------------
int __userpurge sub_45B3C0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4)
{
  int v4; // ebx@1
  int v5; // ecx@1
  int v6; // edi@1
  int v7; // esi@1
  int result; // eax@1
  unsigned int v9; // ebx@1
  int v10; // ecx@1
  _BYTE *v11; // edi@1
  _BYTE *v12; // ebp@1
  int v13; // ecx@1
  int v14; // esi@1
  int v15; // ebx@3
  int v16; // edx@3
  int v17; // ST1C_4@3
  int v18; // ST20_4@3
  int v19; // ebp@3
  signed int v20; // edi@3
  int v21; // edx@3
  _BYTE *v22; // ST10_4@3
  int v23; // ecx@3
  _BYTE *v24; // ST14_4@3
  int v25; // esi@3
  int v26; // edx@6
  int v27; // ebx@6
  signed int v28; // edi@6
  int v29; // edx@6
  int v30; // ebp@6
  int v31; // ecx@6
  _BYTE *v32; // [sp+10h] [bp-28h]@1
  _BYTE *v33; // [sp+14h] [bp-24h]@1
  unsigned int v34; // [sp+18h] [bp-20h]@2
  int v35; // [sp+24h] [bp-14h]@1
  int v36; // [sp+28h] [bp-10h]@1
  int v37; // [sp+2Ch] [bp-Ch]@1
  int v38; // [sp+30h] [bp-8h]@1
  char v39; // [sp+34h] [bp-4h]@1
  int v40; // [sp+3Ch] [bp+4h]@3
  int v41; // [sp+3Ch] [bp+4h]@3
  int v42; // [sp+3Ch] [bp+4h]@3
  int v43; // [sp+3Ch] [bp+4h]@3
  int v44; // [sp+3Ch] [bp+4h]@6

  v4 = a3;
  v5 = *(_DWORD *)(a3 + 456);
  v35 = *(_DWORD *)(v5 + 16);
  v38 = *(_DWORD *)(v5 + 20);
  v6 = *(_DWORD *)(v5 + 24);
  v7 = a1;
  result = *(_DWORD *)(v4 + 328);
  v9 = *(_DWORD *)(v4 + 112);
  v36 = *(_DWORD *)(v5 + 28);
  v10 = *(_DWORD *)v7 + 8 * a2;
  v37 = v6;
  v33 = *(_BYTE **)(v10 + 4);
  v32 = *(_BYTE **)v10;
  v11 = *(_BYTE **)(*(_DWORD *)(v7 + 4) + 4 * a2);
  v12 = *(_BYTE **)(*(_DWORD *)(v7 + 8) + 4 * a2);
  v13 = *(_DWORD *)a4;
  v14 = *(_DWORD *)(a4 + 4);
  v39 = v9;
  if ( v9 >> 1 )
  {
    v34 = v9 >> 1;
    do
    {
      v15 = *v11;
      v16 = *v12;
      v17 = (int)(v11 + 1);
      v18 = (int)(v12 + 1);
      v19 = *(_DWORD *)(v35 + 4 * v16);
      v20 = *(_DWORD *)(v37 + 4 * v16) + *(_DWORD *)(v36 + 4 * v15);
      v21 = *(_DWORD *)(v38 + 4 * v15);
      v40 = *v32;
      v20 >>= 16;
      v22 = v32 + 1;
      *(_BYTE *)v13 = *(_BYTE *)(v19 + v40 + result);
      *(_BYTE *)(v13 + 1) = *(_BYTE *)(v20 + v40 + result);
      *(_BYTE *)(v13 + 2) = *(_BYTE *)(v21 + v40 + result);
      v41 = *v22;
      v23 = v13 + 3;
      v32 = v22 + 1;
      *(_BYTE *)v23 = *(_BYTE *)(v19 + v41 + result);
      *(_BYTE *)(v23 + 1) = *(_BYTE *)(v20 + v41 + result);
      *(_BYTE *)(v23 + 2) = *(_BYTE *)(v21 + v41 + result);
      v42 = *v33;
      v13 = v23 + 3;
      v24 = v33 + 1;
      *(_BYTE *)v14 = *(_BYTE *)(v19 + v42 + result);
      *(_BYTE *)(v14 + 1) = *(_BYTE *)(v20 + v42 + result);
      *(_BYTE *)(v14 + 2) = *(_BYTE *)(v21 + v42 + result);
      v43 = *v24;
      v25 = v14 + 3;
      v33 = v24 + 1;
      LOBYTE(v15) = *(_BYTE *)(v19 + v43 + result);
      v12 = (_BYTE *)v18;
      *(_BYTE *)v25 = v15;
      LOBYTE(v15) = *(_BYTE *)(v20 + v43 + result);
      v11 = (_BYTE *)v17;
      *(_BYTE *)(v25 + 2) = *(_BYTE *)(v21 + v43 + result);
      *(_BYTE *)(v25 + 1) = v15;
      v14 = v25 + 3;
      --v34;
    }
    while ( v34 );
    LOBYTE(v9) = v39;
  }
  if ( v9 & 1 )
  {
    v26 = *v11;
    v27 = *v12;
    v44 = *(_DWORD *)(v35 + 4 * v27);
    v28 = *(_DWORD *)(v37 + 4 * v27) + *(_DWORD *)(v36 + 4 * v26);
    v29 = *(_DWORD *)(v38 + 4 * v26);
    v30 = *v32;
    *(_BYTE *)v13 = *(_BYTE *)(v30 + v44 + result);
    v28 >>= 16;
    *(_BYTE *)(v13 + 1) = *(_BYTE *)(v28 + v30 + result);
    *(_BYTE *)(v13 + 2) = *(_BYTE *)(result + v29 + v30);
    v31 = *v33;
    LOBYTE(v29) = *(_BYTE *)(v29 + v31 + result);
    *(_BYTE *)v14 = *(_BYTE *)(v31 + v44 + result);
    *(_BYTE *)(v14 + 1) = *(_BYTE *)(v31 + v28 + result);
    *(_BYTE *)(v14 + 2) = v29;
  }
  return result;
}

//----- (0045B5F0) --------------------------------------------------------
char __userpurge sub_45B5F0@<al>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, _DWORD *a4)
{
  _DWORD *v4; // esi@1
  int v5; // edi@1
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // eax@1
  int v9; // ecx@1
  int v10; // eax@1
  int v11; // ecx@1
  unsigned int *v12; // eax@1
  unsigned int *v13; // edx@1
  int v14; // esi@1
  int v15; // eax@1
  unsigned int *v16; // ebx@1
  unsigned int *v17; // ecx@1
  int v18; // edi@1
  int v19; // edx@1
  __m64 v20; // mm0@2
  __m64 v21; // mm0@2
  __m64 v22; // mm0@2
  __m64 v23; // mm4@2
  __m64 v24; // mm1@2
  __m64 v25; // mm1@2
  __m64 v26; // mm5@2
  __m64 v27; // mm7@2
  __m64 v28; // mm6@2
  __m64 v29; // mm7@2
  __m64 v30; // mm0@2
  __m64 v31; // mm1@2
  __m64 v32; // mm4@2
  __m64 v33; // mm2@2
  __m64 v34; // mm3@2
  __m64 v35; // mm7@2
  __m64 v36; // mm6@2
  __m64 v37; // mm3@2
  __m64 v38; // mm5@2
  __m64 v39; // mm0@2
  __m64 v40; // mm1@2
  __m64 v41; // mm0@2
  __m64 v42; // mm5@2
  __m64 v43; // mm0@2
  __m64 v44; // mm4@2
  __m64 v45; // mm3@2
  __m64 v46; // mm3@2
  __m64 v47; // mm3@2
  __m64 v48; // mm0@2
  __m64 v49; // mm6@2
  __m64 v50; // mm4@2
  __m64 v51; // mm1@2
  __m64 v52; // mm3@2
  __m64 v53; // mm6@2
  __m64 v54; // mm2@2
  __m64 v55; // mm7@2
  __m64 v56; // mm0@2
  int v57; // esi@3
  int v58; // edi@3
  int v59; // eax@3
  int v60; // eax@5
  int v61; // edx@5
  int v62; // ST50_4@5
  signed int v63; // ecx@5
  int v64; // ST44_4@5
  int v65; // edx@5
  int v66; // ST40_4@5
  int v67; // esi@5
  int v68; // ST40_4@5
  int v69; // edx@5
  int v70; // edi@5
  int v71; // ecx@7
  int v72; // edx@7
  int v73; // ST50_4@7
  signed int v74; // eax@7
  int v75; // edx@7
  int v76; // ST44_4@7
  int v77; // esi@7
  int v79; // [sp+24h] [bp-34h]@1
  int v80; // [sp+28h] [bp-30h]@1
  int v81; // [sp+2Ch] [bp-2Ch]@1
  int v82; // [sp+30h] [bp-28h]@1
  int v83; // [sp+34h] [bp-24h]@1
  signed int v84; // [sp+38h] [bp-20h]@1
  int v85; // [sp+3Ch] [bp-1Ch]@1
  signed int v86; // [sp+3Ch] [bp-1Ch]@4
  int v87; // [sp+40h] [bp-18h]@1
  int v88; // [sp+44h] [bp-14h]@1
  unsigned int *v89; // [sp+48h] [bp-10h]@1
  unsigned int *v90; // [sp+48h] [bp-10h]@3
  unsigned int *v91; // [sp+4Ch] [bp-Ch]@1
  unsigned int *v92; // [sp+4Ch] [bp-Ch]@3
  int v93; // [sp+50h] [bp-8h]@1
  int v94; // [sp+54h] [bp-4h]@1
  int v95; // [sp+54h] [bp-4h]@3
  int v96; // [sp+60h] [bp+8h]@1
  _BYTE *v97; // [sp+60h] [bp+8h]@3
  _BYTE *v98; // [sp+60h] [bp+8h]@5

  v4 = a4;
  v5 = a1;
  v6 = *(_DWORD *)(a3 + 456);
  v79 = *(_DWORD *)(a3 + 328);
  v83 = *(_DWORD *)(v6 + 16);
  v80 = *(_DWORD *)(v6 + 20);
  v7 = *(_DWORD *)(v6 + 24);
  v82 = *(_DWORD *)(v6 + 28);
  v8 = *(_DWORD *)(a3 + 112);
  v9 = *(_DWORD *)(a3 + 112) >> 3;
  v87 = v9;
  v85 = v9;
  v81 = v7;
  v84 = v8 - 8 * v9;
  v10 = *a4 + 8 * a2;
  v11 = *(_DWORD *)v10;
  v96 = v11;
  v94 = *(_DWORD *)(v10 + 4);
  v12 = *(unsigned int **)(v4[1] + 4 * a2);
  v13 = *(unsigned int **)(v4[2] + 4 * a2);
  v91 = v12;
  v89 = v13;
  v88 = *(_DWORD *)v5;
  v93 = *(_DWORD *)(v5 + 4);
  v14 = v11;
  v15 = v94;
  v16 = v13;
  v17 = v91;
  v18 = *(_DWORD *)v5;
  v19 = v93;
  do
  {
    v20 = _mm_cvtsi32_si64(*v16);
    v21 = _m_punpcklbw(v20, v20);
    v22 = _m_punpcklwd(v21, v21);
    v23 = v22;
    v24 = _mm_cvtsi32_si64(*v17);
    v25 = _m_punpcklbw(v24, v24);
    v26 = _m_punpcklwd(v25, v25);
    v27 = _mm_cvtsi32_si64(*(_DWORD *)v14);
    v28 = v27;
    v29 = _m_punpcklbw(v27, v27);
    v30 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v22, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE440),
              (__m64)qword_4BE420),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v26, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE448),
              (__m64)qword_4BE428));
    v31 = _m_psrlq(v29, 0x10u);
    v32 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v23, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE450),
              (__m64)qword_4BE430),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v26, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE458),
              (__m64)qword_4BE438));
    v33 = _m_por(
            _m_psrlq(_m_pand(v30, (__m64)281474976645120i64), 0x10u),
            _m_psllq(_m_pand(v32, (__m64)281474976645120i64), 0x10u));
    v34 = _mm_cvtsi32_si64(*(_DWORD *)v15);
    v35 = _m_packuswb(
            _m_paddsw(_m_punpcklbw(_m_punpcklwd(v29, v28), 0i64), v30),
            _m_paddsw(_m_punpcklbw(v31, 0i64), v33));
    v36 = v34;
    v37 = _m_punpcklbw(v34, v34);
    *(__m64 *)v18 = v35;
    v38 = _m_psrlq(v37, 0x10u);
    *(__m64 *)v19 = _m_packuswb(
                      _m_paddsw(_m_punpcklbw(_m_punpcklwd(v37, v36), 0i64), v30),
                      _m_paddsw(_m_punpcklbw(_m_punpckldq(v38, v38), 0i64), v33));
    v39 = _m_psrlq(_mm_cvtsi32_si64(*v16), 0x10u);
    v40 = _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_psrlq(v31, 0x18u), _m_psrlq(v31, 0x20u)), 0i64), v32);
    v41 = _m_punpcklbw(v39, v39);
    v42 = _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_psrlq(v38, 0x18u), _m_psrlq(v38, 0x20u)), 0i64), v32);
    v43 = _m_punpcklwd(v41, v41);
    v44 = v43;
    v45 = _m_psrlq(_mm_cvtsi32_si64(*v17), 0x10u);
    v46 = _m_punpcklbw(v45, v45);
    v47 = _m_punpcklwd(v46, v46);
    v48 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v43, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE440),
              (__m64)qword_4BE420),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v47, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE448),
              (__m64)qword_4BE428));
    v49 = _mm_cvtsi32_si64(*(_DWORD *)(v14 + 4));
    v50 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v44, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE450),
              (__m64)qword_4BE430),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v47, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_4BE458),
              (__m64)qword_4BE438));
    v51 = _m_packuswb(v40, _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_punpcklbw(v49, v49), v49), 0i64), v48));
    v52 = _mm_cvtsi32_si64(*(_DWORD *)(v15 + 4));
    v53 = _m_psrlq(v49, 8u);
    *(__m64 *)(v18 + 8) = v51;
    v54 = _m_por(
            _m_psrlq(_m_pand(v48, (__m64)281474976645120i64), 0x10u),
            _m_psllq(_m_pand(v50, (__m64)281474976645120i64), 0x10u));
    v55 = _m_psrlq(v52, 8u);
    *(__m64 *)(v19 + 8) = _m_packuswb(
                            v42,
                            _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_punpcklbw(v52, v52), v52), 0i64), v48));
    v14 += 8;
    v15 += 8;
    v56 = _m_psrlq(v55, 8u);
    v18 += 24;
    v19 += 24;
    ++v16;
    *(__m64 *)(v18 - 8) = _m_packuswb(
                            _m_paddsw(_m_punpcklbw(_m_punpcklbw(v53, v53), 0i64), v54),
                            _m_paddsw(
                              _m_punpcklbw(_m_punpcklwd(v53, _m_psrlq(_m_punpcklbw(v53, v53), 0x10u)), 0i64),
                              v50));
    ++v17;
    *(__m64 *)(v19 - 8) = _m_packuswb(
                            _m_paddsw(_m_punpcklbw(_m_punpcklbw(v55, v55), 0i64), v54),
                            _m_paddsw(
                              _m_punpcklbw(_m_punpcklwd(v56, _m_psrlq(_m_punpcklbw(v56, v56), 0x10u)), 0i64),
                              v50));
    --v87;
  }
  while ( v87 );
  _m_femms();
  v97 = (_BYTE *)(8 * v85 + v96);
  v95 = 8 * v85 + v94;
  v57 = 24 * v85 + v88;
  v58 = 24 * v85 + v93;
  v59 = v84 >> 1;
  v92 = &v91[v85];
  v90 = &v89[v85];
  if ( v84 >> 1 )
  {
    v86 = v84 >> 1;
    do
    {
      v60 = *(_BYTE *)v92;
      v92 = (unsigned int *)((char *)v92 + 1);
      v61 = *(_BYTE *)v90;
      v90 = (unsigned int *)((char *)v90 + 1);
      v62 = *(_DWORD *)(v83 + 4 * v61);
      v63 = *(_DWORD *)(v81 + 4 * v61) + *(_DWORD *)(v82 + 4 * v60);
      v64 = *(_DWORD *)(v80 + 4 * v60);
      v65 = *v97;
      v63 >>= 16;
      v98 = v97 + 1;
      *(_BYTE *)v57 = *(_BYTE *)(v65 + v62 + v79);
      *(_BYTE *)(v57 + 1) = *(_BYTE *)(v65 + v63 + v79);
      *(_BYTE *)(v57 + 2) = *(_BYTE *)(v64 + v65 + v79);
      v66 = *v98;
      v67 = v57 + 3;
      v97 = v98 + 1;
      *(_BYTE *)v67 = *(_BYTE *)(v62 + v66 + v79);
      *(_BYTE *)(v67 + 1) = *(_BYTE *)(v66 + v63 + v79);
      *(_BYTE *)(v67 + 2) = *(_BYTE *)(v64 + v66 + v79);
      v57 = v67 + 3;
      v68 = *(_BYTE *)v95;
      *(_BYTE *)v58 = *(_BYTE *)(v62 + v68 + v79);
      *(_BYTE *)(v58 + 1) = *(_BYTE *)(v68 + v63 + v79);
      *(_BYTE *)(v58 + 2) = *(_BYTE *)(v64 + v68 + v79);
      v69 = *(_BYTE *)(v95 + 1);
      v70 = v58 + 3;
      v95 += 2;
      *(_BYTE *)v70 = *(_BYTE *)(v69 + v62 + v79);
      *(_BYTE *)(v70 + 1) = *(_BYTE *)(v69 + v63 + v79);
      *(_BYTE *)(v70 + 2) = *(_BYTE *)(v64 + v69 + v79);
      v58 = v70 + 3;
      v59 = v86 - 1;
      v86 = v59;
    }
    while ( v59 );
  }
  if ( v84 & 1 )
  {
    v71 = *(_BYTE *)v92;
    v72 = *(_BYTE *)v90;
    v73 = *(_DWORD *)(v83 + 4 * v72);
    v74 = *(_DWORD *)(v81 + 4 * v72) + *(_DWORD *)(v82 + 4 * v71);
    v75 = *v97;
    v76 = *(_DWORD *)(v80 + 4 * v71);
    *(_BYTE *)v57 = *(_BYTE *)(v75 + v73 + v79);
    v59 = v74 >> 16;
    *(_BYTE *)(v57 + 1) = *(_BYTE *)(v75 + v59 + v79);
    *(_BYTE *)(v57 + 2) = *(_BYTE *)(v76 + v75 + v79);
    v77 = *(_BYTE *)v95;
    *(_BYTE *)v58 = *(_BYTE *)(v77 + v73 + v79);
    LOBYTE(v75) = *(_BYTE *)(v77 + v59 + v79);
    LOBYTE(v59) = *(_BYTE *)(v76 + v77 + v79);
    *(_BYTE *)(v58 + 1) = v75;
    *(_BYTE *)(v58 + 2) = v59;
  }
  return v59;
}
// 4BE420: using guessed type __int64 qword_4BE420;
// 4BE428: using guessed type __int64 qword_4BE428;
// 4BE430: using guessed type __int64 qword_4BE430;
// 4BE438: using guessed type __int64 qword_4BE438;
// 4BE440: using guessed type __int64 qword_4BE440;
// 4BE448: using guessed type __int64 qword_4BE448;
// 4BE450: using guessed type __int64 qword_4BE450;
// 4BE458: using guessed type __int64 qword_4BE458;

//----- (0045BB40) --------------------------------------------------------
int __stdcall sub_45BB40(int a1)
{
  int v1; // eax@1
  int v2; // edx@1
  int v3; // esi@1
  int v4; // eax@1
  int v5; // ecx@2
  int result; // eax@2

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 48);
  v2 = *(_DWORD *)(a1 + 316);
  v3 = v1;
  v4 = *(_DWORD *)(a1 + 112) * *(_DWORD *)(a1 + 120);
  *(_DWORD *)(a1 + 456) = v3;
  *(_DWORD *)v3 = sub_45B140;
  *(_DWORD *)(v3 + 8) = 0;
  *(_DWORD *)(v3 + 40) = v4;
  if ( v2 == 2 )
  {
    v5 = *(_DWORD *)(a1 + 4);
    *(_DWORD *)(v3 + 4) = sub_45B160;
    *(_DWORD *)(v3 + 12) = sub_45BB00;
    *(_DWORD *)(v3 + 32) = (*(int (__stdcall **)(int, signed int, int))(v5 + 4))(a1, 1, v4);
    result = sub_45B070(a1);
  }
  else
  {
    *(_DWORD *)(v3 + 4) = sub_45B230;
    *(_DWORD *)(v3 + 12) = sub_45B270;
    *(_DWORD *)(v3 + 32) = 0;
    result = sub_45B070(a1);
  }
  return result;
}
// 45B140: using guessed type int __stdcall sub_45B140(int);
// 45B160: using guessed type int __stdcall sub_45B160(int, int, int, int, int, int, int);
// 45B230: using guessed type int __stdcall sub_45B230(int, int, int, int, int, int, int);
// 45BB00: using guessed type int __stdcall sub_45BB00(int, int, int, int);

//----- (0045BBC0) --------------------------------------------------------
char *__stdcall sub_45BBC0(int a1, int a2)
{
  char *result; // eax@1
  char v3; // cl@1

  result = (char *)malloc(a2 + 16);
  v3 = (char)result;
  if ( result )
  {
    result = (char *)((unsigned int)(result + 16) & 0xFFFFFFF0);
    *(result - 1) = ((v3 + 16) & 0xF0) - v3;
  }
  return result;
}

//----- (0045BBF0) --------------------------------------------------------
void __stdcall sub_45BBF0(int a1, int a2, int a3)
{
  if ( a2 )
    free((void *)(a2 - *(_BYTE *)(a2 - 1)));
}

//----- (0045BC10) --------------------------------------------------------
int __stdcall sub_45BC10(int a1, int a2, int a3, int a4)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 44) - a4;
}

//----- (0045BD10) --------------------------------------------------------
FILE *__stdcall sub_45BD10(_DWORD *a1, int a2, int a3)
{
  FILE *result; // eax@1
  int (__stdcall **v4)(_DWORD); // eax@2

  result = tmpfile();
  *(_DWORD *)(a2 + 12) = result;
  if ( !result )
  {
    v4 = (int (__stdcall **)(_DWORD))*a1;
    v4[5] = (int (__stdcall *)(_DWORD))63;
    strncpy((char *)v4 + 24, pszFaceName, 0x50u);
    result = (FILE *)(*(int (__stdcall **)(_DWORD *))*a1)(a1);
  }
  *(_DWORD *)a2 = sub_45BC30;
  *(_DWORD *)(a2 + 4) = sub_45BC90;
  *(_DWORD *)(a2 + 8) = sub_45BCF0;
  return result;
}
// 45BC30: using guessed type int __stdcall sub_45BC30(int, int, int, int, int);
// 45BC90: using guessed type int __stdcall sub_45BC90(int, int, int, int, int);
// 45BCF0: using guessed type int __stdcall sub_45BCF0(int, int);

//----- (0045BD60) --------------------------------------------------------
signed int __stdcall sub_45BD60(int a1)
{
  return 1000000;
}

//----- (0045BD70) --------------------------------------------------------
int __stdcall sub_45BD70(int a1, int a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm1@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm0@1
  __m128 v7; // xmm2@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 8));
  v5 = *(_QWORD *)a2;
  v6 = _mm_loadh_ps((const double *)(a2 + 8));
  v7 = v4;
  v8 = _mm_mul_ps(_mm_shuffle_ps(v4, v4, -1), v6);
  v9 = _mm_shuffle_ps(v6, v6, 27);
  v10 = _mm_add_ps(v8, _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v7, v7, 0), (__m128)xmmword_4BE480), v9));
  v11 = _mm_shuffle_ps(v9, v9, -79);
  v12 = _mm_add_ps(
          _mm_add_ps(v10, _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v7, v7, 85), (__m128)xmmword_4BE470), v11)),
          _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v7, v7, -86), (__m128)xmmword_4BE460), _mm_shuffle_ps(v11, v11, 27)));
  _mm_storel_ps((double *)a1, v12);
  _mm_storeh_ps((double *)(a1 + 8), v12);
  return a1;
}
// 4BE460: using guessed type __int128 xmmword_4BE460;
// 4BE470: using guessed type __int128 xmmword_4BE470;
// 4BE480: using guessed type __int128 xmmword_4BE480;

//----- (0045BDE9) --------------------------------------------------------
int __stdcall sub_45BDE9(int a1, int a2)
{
  float v2; // xmm1_4@1
  float v3; // xmm2_4@1
  float v4; // xmm3_4@1
  float v5; // xmm4_4@1
  float v6; // xmm6_4@1
  float v7; // xmm5_4@1

  v2 = *(float *)(a2 + 4);
  v3 = *(float *)(a2 + 8);
  v4 = *(float *)(a2 + 12);
  v5 = (float)((float)(*(float *)a2 * *(float *)a2) + (float)(v2 * v2)) + (float)((float)(v3 * v3) + (float)(v4 * v4));
  v6 = 1.0 / fsqrt(v5);
  v7 = (float)((float)(*(float *)&dword_52CAD0 - (float)(v5 * (float)(v6 * v6))) * *(float *)&dword_52CAC0) * v6;
  *(float *)a1 = *(float *)a2 * v7;
  *(float *)(a1 + 4) = v2 * v7;
  *(float *)(a1 + 8) = v3 * v7;
  *(float *)(a1 + 12) = v4 * v7;
  return a1;
}
// 52CAC0: using guessed type int dword_52CAC0;
// 52CAD0: using guessed type int dword_52CAD0;

//----- (0045BE83) --------------------------------------------------------
__m128 *__stdcall sub_45BE83(__m128 *a1, int a2)
{
  __int64 v2; // rt1@1
  __m128 v3; // xmm1@1
  __m128 *result; // eax@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  __m128 v7; // ST00_16@1
  float v8; // xmm3_4@1
  __m128 v9; // xmm0@1

  v2 = *(_QWORD *)a2;
  v3 = _mm_loadh_ps((const double *)(a2 + 8));
  result = a1;
  v5 = _mm_mul_ps(v3, v3);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v6, v6, 85));
  v7 = v6;
  v7.m128_f32[0] = 1.0 / v6.m128_f32[0];
  v8 = (float)(1.0 / v6.m128_f32[0]) * v6.m128_f32[0];
  v9 = v7;
  v9.m128_f32[0] = (float)(v9.m128_f32[0] + v9.m128_f32[0]) - (float)(v8 * v7.m128_f32[0]);
  *a1 = _mm_mul_ps(_mm_mul_ps(v3, (__m128)xmmword_52CAE0), _mm_shuffle_ps(v9, v9, 0));
  return result;
}
// 52CAE0: using guessed type __int128 xmmword_52CAE0;

//----- (0045BF01) --------------------------------------------------------
__m128 *__stdcall sub_45BF01(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  __m128 v4; // xmm1@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1
  __m128 v8; // xmm0@1
  __m128 *result; // eax@1
  __m128 v10; // [sp+0h] [bp-20h]@1
  __m128 v11; // [sp+10h] [bp-10h]@1

  v10.m128_u64[0] = __PAIR__(a3, a4);
  v10.m128_u64[1] = a2;
  v10 = _mm_mul_ps(v10, unk_4BE4A0);
  sub_471C60(&v10, &v10, &v11);
  v4 = _mm_shuffle_ps(v10, v11, -103);
  v5 = _mm_shuffle_ps(v10, v11, 0);
  v6 = _mm_shuffle_ps(v4, v4, -9);
  v7 = _mm_shuffle_ps(v4, v4, -88);
  v8 = _mm_shuffle_ps(v5, v5, -118);
  result = a1;
  *a1 = _mm_add_ps(
          _mm_mul_ps(_mm_mul_ps(v8, v6), v7),
          _mm_xor_ps(_mm_mul_ps(_mm_mul_ps(v8, _mm_shuffle_ps(v6, v6, 81)), _mm_shuffle_ps(v7, v7, 1)), unk_4BE490));
  return result;
}

//----- (0045BFC3) --------------------------------------------------------
int __thiscall sub_45BFC3(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(__m128 *)this = _mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0);
  *(__m128 *)(this + 64) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 16), (__m128)*(_DWORD *)(a2 + 16), 0);
  *(__m128 *)(this + 128) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 32), (__m128)*(_DWORD *)(a2 + 32), 0);
  *(__m128 *)(this + 192) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 48), (__m128)*(_DWORD *)(a2 + 48), 0);
  *(__m128 *)(this + 16) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0);
  *(__m128 *)(this + 80) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 20), (__m128)*(_DWORD *)(a2 + 20), 0);
  *(__m128 *)(this + 144) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 36), (__m128)*(_DWORD *)(a2 + 36), 0);
  *(__m128 *)(this + 208) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 52), (__m128)*(_DWORD *)(a2 + 52), 0);
  *(__m128 *)(this + 32) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0);
  *(__m128 *)(this + 96) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 24), (__m128)*(_DWORD *)(a2 + 24), 0);
  *(__m128 *)(this + 160) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 40), (__m128)*(_DWORD *)(a2 + 40), 0);
  *(__m128 *)(this + 224) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 56), (__m128)*(_DWORD *)(a2 + 56), 0);
  *(__m128 *)(this + 48) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 12), (__m128)*(_DWORD *)(a2 + 12), 0);
  *(__m128 *)(this + 112) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 28), (__m128)*(_DWORD *)(a2 + 28), 0);
  *(__m128 *)(this + 176) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 44), (__m128)*(_DWORD *)(a2 + 44), 0);
  *(__m128 *)(this + 240) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 60), (__m128)*(_DWORD *)(a2 + 60), 0);
  return result;
}

//----- (0045C13D) --------------------------------------------------------
int __stdcall sub_45C13D(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm5@4
  __m128 v21; // xmm6@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  __m128 v26; // xmm2@4
  __m128 v27; // xmm3@4
  unsigned int v29; // [sp+14h] [bp-11Ch]@3
  int v30; // [sp+14h] [bp-11Ch]@8
  int v31; // [sp+1Ch] [bp-114h]@1
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+60h] [bp-D0h]@4
  __m128 v36; // [sp+70h] [bp-C0h]@4
  __m128 v37; // [sp+80h] [bp-B0h]@4
  __m128 v38; // [sp+90h] [bp-A0h]@4
  __m128 v39; // [sp+A0h] [bp-90h]@4
  __m128 v40; // [sp+B0h] [bp-80h]@4
  __m128 v41; // [sp+C0h] [bp-70h]@4
  __m128 v42; // [sp+D0h] [bp-60h]@4
  __m128 v43; // [sp+E0h] [bp-50h]@4
  __m128 v44; // [sp+F0h] [bp-40h]@4
  __m128 v45; // [sp+100h] [bp-30h]@4
  __m128 v46; // [sp+110h] [bp-20h]@4
  __m128 v47; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v31 = v8;
  if ( v9 && (sub_45BFC3((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v29 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v32), _mm_mul_ps(v17, v36)), _mm_mul_ps(v18, v40)), v44);
      v20 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v33), _mm_mul_ps(v17, v37)), _mm_mul_ps(v18, v41)), v45);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v34), _mm_mul_ps(v17, v38)), _mm_mul_ps(v18, v42));
      v22 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v35), _mm_mul_ps(v17, v39)), _mm_mul_ps(v18, v43)), v47);
      v23 = _mm_add_ps(v21, v46);
      v24 = _mm_unpacklo_ps(v19, v20);
      _mm_storel_ps((double *)v6, v24);
      v25 = _mm_unpacklo_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 128), v25);
      _mm_storeh_ps((double *)(v6 + a2), v24);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v25);
      v26 = _mm_unpackhi_ps(v19, v20);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      v27 = _mm_unpackhi_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v27);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v27);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v29;
    }
    while ( v29 );
  }
  else
  {
    v11 = a3;
  }
  if ( v31 )
  {
    v30 = v31;
    do
    {
      sub_45FC2A((__m128 *)v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v30;
    }
    while ( v30 );
  }
  return a1;
}

//----- (0045C343) --------------------------------------------------------
int __stdcall sub_45C343(int a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  int v6; // esi@1
  unsigned int v7; // ebx@1
  int v8; // eax@1
  unsigned int v9; // ebx@1
  char *v10; // ebx@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm3@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm4@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm5@4
  __m128 v22; // xmm0@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm1@4
  __m128 v25; // xmm2@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+50h] [bp-E0h]@4
  __m128 v33; // [sp+60h] [bp-D0h]@4
  __m128 v34; // [sp+70h] [bp-C0h]@4
  __m128 v35; // [sp+80h] [bp-B0h]@4
  __m128 v36; // [sp+90h] [bp-A0h]@4
  __m128 v37; // [sp+A0h] [bp-90h]@4
  __m128 v38; // [sp+F0h] [bp-40h]@4
  __m128 v39; // [sp+100h] [bp-30h]@4
  __m128 v40; // [sp+110h] [bp-20h]@4
  __m128 v41; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_45BFC3((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v16;
      v18 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v30), _mm_mul_ps(v16, v34)), v38);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v31), _mm_mul_ps(v17, v35)), v39);
      v20 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v32), _mm_mul_ps(v17, v36)), v40);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v33), _mm_mul_ps(v17, v37)), v41);
      v22 = _mm_unpacklo_ps(v18, v19);
      _mm_storel_ps((double *)v6, v22);
      v23 = _mm_unpacklo_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 128), v23);
      _mm_storeh_ps((double *)(v6 + a2), v22);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v23);
      v24 = _mm_unpackhi_ps(v18, v19);
      _mm_storel_ps((double *)(v6 + 2 * a2), v24);
      v25 = _mm_unpackhi_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v25);
      _mm_storeh_ps((double *)(3 * a2 + v6), v24);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v25);
      v10 += 4 * a4;
      v6 += 4 * a2;
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_444CE0(v6, v10, a5);
      v10 += a4;
      v6 += a2;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 444CE0: using guessed type int __stdcall sub_444CE0(_DWORD, _DWORD, _DWORD);

//----- (0045C4D1) --------------------------------------------------------
double *__stdcall sub_45C4D1(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __m128 v13; // xmm0@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm4@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm2@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm1@4
  __m128 v23; // xmm2@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+60h] [bp-D0h]@4
  __m128 v33; // [sp+70h] [bp-C0h]@4
  __m128 v34; // [sp+80h] [bp-B0h]@4
  __m128 v35; // [sp+A0h] [bp-90h]@4
  __m128 v36; // [sp+F0h] [bp-40h]@4
  __m128 v37; // [sp+100h] [bp-30h]@4
  __m128 v38; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_45BFC3((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = v12;
      v14 = *(_QWORD *)&v10[2 * a4];
      v15 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v16 = _mm_shuffle_ps(v12, v15, -35);
      v17 = v16;
      v18 = _mm_shuffle_ps(v13, v15, -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v32), _mm_mul_ps(v16, v35)), v38);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v30), _mm_mul_ps(v17, v33)), v36), v21);
      v23 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v31), _mm_mul_ps(v17, v34)), v37), v21);
      v24 = _mm_unpacklo_ps(v22, v23);
      _mm_storel_ps(v6, v24);
      _mm_storeh_ps((double *)((char *)v6 + a2), v24);
      v25 = _mm_unpackhi_ps(v22, v23);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v25);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v25);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_444D04(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 444D04: using guessed type int __stdcall sub_444D04(_DWORD, _DWORD, _DWORD);

//----- (0045C637) --------------------------------------------------------
double *__stdcall sub_45C637(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm3@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm1@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm1@4
  unsigned int v23; // [sp+14h] [bp-11Ch]@3
  int v24; // [sp+14h] [bp-11Ch]@8
  int v25; // [sp+1Ch] [bp-114h]@1
  __m128 v26; // [sp+30h] [bp-100h]@2
  __m128 v27; // [sp+40h] [bp-F0h]@4
  __m128 v28; // [sp+70h] [bp-C0h]@4
  __m128 v29; // [sp+80h] [bp-B0h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v25 = v8;
  if ( v9 && (sub_45BFC3((int)&v26, a5), v9) )
  {
    v23 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -35);
      v16 = _mm_shuffle_ps(v12, v14, -120);
      v17 = _mm_mul_ps(v16, v26);
      v18 = _mm_add_ps(_mm_mul_ps(v16, v27), _mm_mul_ps(v15, v29));
      v19 = _mm_add_ps(v17, _mm_mul_ps(v15, v28));
      v20 = _mm_unpacklo_ps(v19, v18);
      _mm_storel_ps(v6, v20);
      _mm_storeh_ps((double *)((char *)v6 + a2), v20);
      v21 = _mm_unpackhi_ps(v19, v18);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v21);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v21);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v23;
    }
    while ( v23 );
  }
  else
  {
    v10 = a3;
  }
  if ( v25 )
  {
    v24 = v25;
    do
    {
      sub_444D28(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v24;
    }
    while ( v24 );
  }
  return a1;
}
// 444D28: using guessed type int __stdcall sub_444D28(_DWORD, _DWORD, _DWORD);

//----- (0045C747) --------------------------------------------------------
int __stdcall sub_45C747(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  __m128 *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm3@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  unsigned __int64 v17; // rt1@4
  __m128 v18; // xmm3@4
  __int64 v19; // rt1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm4@4
  __m128 v22; // xmm3@4
  __m128 v23; // xmm2@4
  __m128 v24; // ST2C_16@4
  __m128 v25; // xmm3@4
  __m128 v26; // ST3C_16@4
  __m128 v27; // xmm4@4
  __m128 v28; // xmm2@4
  __m128 v29; // xmm0@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm3@4
  __m128 v32; // xmm1@4
  __m128 v33; // xmm4@4
  unsigned int v35; // [sp+14h] [bp-12Ch]@3
  int v36; // [sp+14h] [bp-12Ch]@8
  int v37; // [sp+1Ch] [bp-124h]@1
  __m128 v38; // [sp+40h] [bp-100h]@2
  __m128 v39; // [sp+50h] [bp-F0h]@4
  __m128 v40; // [sp+60h] [bp-E0h]@4
  __m128 v41; // [sp+70h] [bp-D0h]@4
  __m128 v42; // [sp+80h] [bp-C0h]@4
  __m128 v43; // [sp+90h] [bp-B0h]@4
  __m128 v44; // [sp+A0h] [bp-A0h]@4
  __m128 v45; // [sp+B0h] [bp-90h]@4
  __m128 v46; // [sp+C0h] [bp-80h]@4
  __m128 v47; // [sp+D0h] [bp-70h]@4
  __m128 v48; // [sp+E0h] [bp-60h]@4
  __m128 v49; // [sp+F0h] [bp-50h]@4
  __m128 v50; // [sp+100h] [bp-40h]@4
  __m128 v51; // [sp+110h] [bp-30h]@4
  __m128 v52; // [sp+120h] [bp-20h]@4
  __m128 v53; // [sp+130h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v37 = v8;
  if ( v9 && (sub_45BFC3((int)&v38, a5), v9) )
  {
    v35 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)&v10->m128_i32[0];
      v12 = _mm_loadh_ps((const double *)((char *)v10 + a4));
      v13 = *(_QWORD *)((char *)v10->m128_i32 + 2 * a4);
      v14 = _mm_loadh_ps((const double *)((char *)v10 + 3 * a4));
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v10[8].m128_u64[0];
      v18 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + a4));
      v19 = *(_QWORD *)((char *)&v10->m128_i32[2] + 2 * a4);
      v20 = v18;
      v21 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + 3 * a4));
      v22 = _mm_shuffle_ps(v18, v21, -35);
      v23 = _mm_shuffle_ps(v20, v21, -120);
      v24 = v22;
      v25 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v38), _mm_mul_ps(v16, v42)), _mm_mul_ps(v23, v46)),
              _mm_mul_ps(v22, v50));
      v26 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v39), _mm_mul_ps(v16, v43)), _mm_mul_ps(v23, v47)),
              _mm_mul_ps(v24, v51));
      v27 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v40), _mm_mul_ps(v16, v44)), _mm_mul_ps(v23, v48)),
              _mm_mul_ps(v24, v52));
      v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v41), _mm_mul_ps(v16, v45)), _mm_mul_ps(v23, v49));
      v29 = _mm_unpacklo_ps(v25, v26);
      v30 = _mm_add_ps(v28, _mm_mul_ps(v24, v53));
      v31 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)v6, v29);
      v32 = _mm_unpacklo_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 128), v32);
      _mm_storeh_ps((double *)(v6 + a2), v29);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v32);
      _mm_storel_ps((double *)(v6 + 2 * a2), v31);
      v33 = _mm_unpackhi_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v33);
      _mm_storeh_ps((double *)(3 * a2 + v6), v31);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v33);
      v10 = (__m128 *)((char *)v10 + 4 * a4);
      v6 += 4 * a2;
      --v35;
    }
    while ( v35 );
  }
  else
  {
    v10 = a3;
  }
  if ( v37 )
  {
    v36 = v37;
    do
    {
      sub_45D5A8((__m128 *)v6, v10, a5);
      v6 += a2;
      v10 = (__m128 *)((char *)v10 + a4);
      --v36;
    }
    while ( v36 );
  }
  return a1;
}

//----- (0045C985) --------------------------------------------------------
int __stdcall sub_45C985(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm3@4
  __m128 v17; // xmm0@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm6@4
  __m128 v21; // xmm0@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm1@4
  __m128 v24; // xmm3@4
  __m128 v25; // xmm0@4
  __m128 v26; // xmm2@4
  unsigned int v28; // [sp+14h] [bp-11Ch]@3
  int v29; // [sp+14h] [bp-11Ch]@8
  int v30; // [sp+1Ch] [bp-114h]@1
  __m128 v31; // [sp+20h] [bp-110h]@0
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+70h] [bp-C0h]@4
  __m128 v36; // [sp+80h] [bp-B0h]@4
  __m128 v37; // [sp+90h] [bp-A0h]@4
  __m128 v38; // [sp+B0h] [bp-80h]@4
  __m128 v39; // [sp+C0h] [bp-70h]@4
  __m128 v40; // [sp+D0h] [bp-60h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v30 = v8;
  if ( v9 && (sub_45BFC3((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v28 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -35);
      v17 = _mm_shuffle_ps(v13, v15, -120);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v32), _mm_mul_ps(v16, v35)), _mm_mul_ps(v18, v38));
      v20 = v17;
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v34), _mm_mul_ps(v16, v37)), _mm_mul_ps(v18, v40));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v33), _mm_mul_ps(v16, v36)), _mm_mul_ps(v18, v39));
      v23 = _mm_unpacklo_ps(v19, v22);
      _mm_storel_ps((double *)v6, v23);
      _mm_storeh_ps((double *)(v6 + a2), v23);
      v24 = _mm_unpacklo_ps(v21, v31);
      v25 = _mm_unpackhi_ps(v21, v31);
      *(_DWORD *)(v6 + 96) = v24.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v24, v24);
      v26 = _mm_unpackhi_ps(v19, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v25.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v25, v25);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v28;
    }
    while ( v28 );
  }
  else
  {
    v11 = a3;
  }
  if ( v30 )
  {
    v29 = v30;
    do
    {
      sub_45E35F(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v29;
    }
    while ( v29 );
  }
  return a1;
}

//----- (0045CB55) --------------------------------------------------------
int __stdcall sub_45CB55(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm6@4
  __m128 v23; // xmm7@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm2@4
  __m128 v26; // xmm5@4
  __m128 v27; // xmm1@4
  __m128 v28; // xmm0@4
  __m128 v29; // xmm4@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm0@4
  unsigned int v33; // [sp+14h] [bp-11Ch]@3
  int v34; // [sp+14h] [bp-11Ch]@8
  int v35; // [sp+1Ch] [bp-114h]@1
  __m128 v36; // [sp+30h] [bp-100h]@2
  __m128 v37; // [sp+40h] [bp-F0h]@4
  __m128 v38; // [sp+50h] [bp-E0h]@4
  __m128 v39; // [sp+60h] [bp-D0h]@4
  __m128 v40; // [sp+70h] [bp-C0h]@4
  __m128 v41; // [sp+80h] [bp-B0h]@4
  __m128 v42; // [sp+90h] [bp-A0h]@4
  __m128 v43; // [sp+A0h] [bp-90h]@4
  __m128 v44; // [sp+B0h] [bp-80h]@4
  __m128 v45; // [sp+C0h] [bp-70h]@4
  __m128 v46; // [sp+D0h] [bp-60h]@4
  __m128 v47; // [sp+E0h] [bp-50h]@4
  __m128 v48; // [sp+F0h] [bp-40h]@4
  __m128 v49; // [sp+100h] [bp-30h]@4
  __m128 v50; // [sp+110h] [bp-20h]@4
  __m128 v51; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v35 = v8;
  if ( v9 && (sub_45BFC3((int)&v36, a5), v10 = 3 * a4, v9) )
  {
    v33 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v39), _mm_mul_ps(v17, v43)), _mm_mul_ps(v18, v47)), v51);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v36), _mm_mul_ps(v17, v40)), _mm_mul_ps(v18, v44));
      v23 = _mm_mul_ps(v16, v37);
      v24 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v38), _mm_mul_ps(v17, v42)), _mm_mul_ps(v18, v46)), v50);
      v25 = _mm_mul_ps(_mm_add_ps(v22, v48), v21);
      v26 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_add_ps(v23, _mm_mul_ps(v17, v41)), _mm_mul_ps(v18, v45)), v49), v21);
      v27 = _mm_unpacklo_ps(v25, v26);
      v28 = _mm_mul_ps(v24, v21);
      _mm_storel_ps((double *)v6, v27);
      v29 = _mm_unpacklo_ps(v28, v21);
      _mm_storeh_ps((double *)(v6 + a2), v27);
      *(_DWORD *)(v6 + 96) = v29.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v29, v29);
      v30 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)(v6 + 2 * a2), v30);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v30);
      v31 = _mm_unpackhi_ps(v28, v21);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v31.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v31, v31);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v33;
    }
    while ( v33 );
  }
  else
  {
    v11 = a3;
  }
  if ( v35 )
  {
    v34 = v35;
    do
    {
      sub_45E434(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v34;
    }
    while ( v34 );
  }
  return a1;
}

//----- (0045CD86) --------------------------------------------------------
int __stdcall sub_45CD86(int a1, int a2, int a3, double *a4, int a5, int a6, int a7, double **a8, unsigned int a9, int a10, float *a11, int a12)
{
  int result; // eax@1
  double *v13; // edi@1
  unsigned int v14; // ebx@3
  float *v15; // esi@7
  bool v16; // sf@7
  __m128 v17; // xmm3@7
  __m128 v18; // xmm0@7
  __m128 v19; // xmm4@7
  __m128 v20; // xmm5@7
  __int128 v21; // xmm1@8
  __m128 v22; // xmm0@8
  signed int v23; // eax@8
  __m128 v24; // xmm1@8
  __m128 v25; // xmm0@8
  __m128 v26; // xmm2@8
  __m128 v27; // xmm2@8
  int v28; // xmm1_4@10
  double *v29; // eax@11
  double *v30; // eax@12
  __m128 v31; // xmm3@18
  __m128 v32; // xmm4@18
  __m128 v33; // xmm5@18
  float *v34; // edi@20
  __int128 v35; // xmm1@21
  __m128 v36; // xmm0@21
  signed int v37; // eax@21
  __m128 v38; // xmm2@21
  __m128 v39; // xmm0@21
  __m128 v40; // xmm1@21
  __m128 v41; // xmm1@21
  int v42; // eax@21
  unsigned int v43; // esi@21
  __m128 v44; // xmm1@22
  __m128 *v45; // ecx@22
  int v46; // eax@23
  int v47; // xmm0_4@27
  unsigned int v48; // ebx@28
  double **v49; // eax@29
  __m128 *v50; // esi@29
  double *v51; // ecx@30
  __m128 v52; // xmm0@30
  double **v53; // eax@33
  __m128 *v54; // esi@33
  double *v55; // ecx@34
  __m128 v56; // xmm0@34
  bool v57; // zf@37
  char *v58; // [sp+10h] [bp-4A0h]@5
  char *v59; // [sp+10h] [bp-4A0h]@16
  char *v60; // [sp+14h] [bp-49Ch]@1
  char *v61; // [sp+18h] [bp-498h]@1
  int v62; // [sp+1Ch] [bp-494h]@5
  int v63; // [sp+1Ch] [bp-494h]@16
  unsigned int v64; // [sp+20h] [bp-490h]@1
  __int128 v65; // [sp+40h] [bp-470h]@0
  __m128 v66; // [sp+60h] [bp-450h]@7
  __m128 v67; // [sp+60h] [bp-450h]@22
  __m128 v68; // [sp+70h] [bp-440h]@7
  __m128 v69; // [sp+70h] [bp-440h]@18
  __m128 v70; // [sp+80h] [bp-430h]@7
  __m128 v71; // [sp+80h] [bp-430h]@22
  __m128 v72; // [sp+90h] [bp-420h]@7
  __m128 v73; // [sp+A0h] [bp-410h]@7
  char v74; // [sp+B0h] [bp-400h]@19

  result = a3;
  v13 = a4;
  v61 = (char *)(a3 + a10);
  v60 = (char *)a4 + a10;
  v64 = a6 - a10;
  if ( !a2 )
    a2 = a1;
  v14 = a9;
  if ( a9 == 1 )
  {
    if ( a5 )
    {
      v58 = (char *)(a4 + 1);
      v62 = a5;
      while ( 1 )
      {
        v15 = a11;
        v16 = *(_DWORD *)a11 < 0;
        v17 = 0i64;
        v72 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 8), (__m128)*(_DWORD *)(result + 8), 0);
        v68 = _mm_shuffle_ps((__m128)**(_DWORD **)a7, (__m128)**(_DWORD **)a7, 0);
        v66 = _mm_shuffle_ps((__m128)*(_DWORD *)(*(_DWORD *)a7 + 4), (__m128)*(_DWORD *)(*(_DWORD *)a7 + 4), 0);
        v70 = _mm_shuffle_ps((__m128)*(_DWORD *)(*(_DWORD *)a7 + 8), (__m128)*(_DWORD *)(*(_DWORD *)a7 + 8), 0);
        v18 = 0i64;
        v19 = _mm_shuffle_ps((__m128)*(_DWORD *)result, (__m128)*(_DWORD *)result, 0);
        v20 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 4), (__m128)*(_DWORD *)(result + 4), 0);
        v73 = 0i64;
        if ( !v16 )
        {
          do
          {
            v21 = v65;
            v22 = (__m128)*(_DWORD *)v15;
            v23 = (signed int)ffloor(*v15) >> 1;
            *(float *)&v21 = (float)(2 * v23);
            v65 = v21;
            v22.m128_f32[0] = *v15 - *(float *)&v21;
            v24 = _mm_shuffle_ps(v22, v22, 0);
            v23 <<= 6;
            v25 = _mm_add_ps(
                    _mm_add_ps(_mm_mul_ps(*(__m128 *)(v23 + a1), v19), _mm_mul_ps(*(__m128 *)(v23 + a1 + 16), v20)),
                    _mm_add_ps(_mm_mul_ps(*(__m128 *)(v23 + a1 + 32), v72), *(__m128 *)(v23 + a1 + 48)));
            v26 = _mm_rcp_ps(v25);
            v27 = _mm_sub_ps(_mm_add_ps(v26, v26), _mm_mul_ps(_mm_mul_ps(v26, v25), v26));
            v17 = _mm_add_ps(v17, _mm_mul_ps(_mm_mul_ps(v25, v24), _mm_shuffle_ps(v27, v27, -1)));
            ++v15;
            v16 = *(_DWORD *)v15 < 0;
            v18 = _mm_add_ps(
                    v73,
                    _mm_mul_ps(
                      _mm_add_ps(
                        _mm_add_ps(_mm_mul_ps(v68, *(__m128 *)(a2 + v23)), _mm_mul_ps(v66, *(__m128 *)(a2 + v23 + 16))),
                        _mm_mul_ps(v70, *(__m128 *)(a2 + v23 + 32))),
                      v24));
            v73 = v18;
          }
          while ( !v16 );
          v13 = a4;
          a11 = v15;
        }
        v28 = (unsigned __int128)_mm_movehl_ps(v17, v17);
        if ( a12 )
        {
          qmemcpy(v60, v61, v64);
          _mm_storel_ps(a4, v17);
          *(_DWORD *)v58 = v28;
          v29 = *a8;
          _mm_storel_ps(*a8, v18);
          *((_DWORD *)v29 + 2) = (unsigned __int128)_mm_movehl_ps(v18, v18);
        }
        else
        {
          _mm_storel_ps(v13, v17);
          *(_DWORD *)v58 = v28;
          v30 = *a8;
          _mm_storel_ps(*a8, v18);
          *((_DWORD *)v30 + 2) = (unsigned __int128)_mm_movehl_ps(v18, v18);
          qmemcpy(v60, v61, v64);
        }
        *a8 = (double *)((char *)*a8 + a6);
        result = a7;
        v60 += a6;
        v61 += a6;
        a4 = (double *)((char *)a4 + a6);
        v58 += a6;
        a3 += a6;
        *(_DWORD *)result += a6;
        ++a11;
        if ( !--v62 )
          break;
        result = a3;
        v13 = a4;
      }
    }
  }
  else if ( a5 )
  {
    v59 = (char *)(a4 + 1);
    v63 = a5;
    while ( 1 )
    {
      v31 = 0i64;
      v32 = _mm_shuffle_ps((__m128)*(_DWORD *)result, (__m128)*(_DWORD *)result, 0);
      v33 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 4), (__m128)*(_DWORD *)(result + 4), 0);
      v69 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 8), (__m128)*(_DWORD *)(result + 8), 0);
      if ( v14 )
      {
        v73 = 0i64;
        qmemcpy(&v74, &v73, 4 * ((16 * v14 - 13) >> 2));
      }
      v34 = a11;
      if ( *(_DWORD *)a11 >= 0 )
      {
        do
        {
          v35 = v65;
          v36 = (__m128)*(_DWORD *)v34;
          v37 = (signed int)ffloor(*v34) >> 1;
          *(float *)&v35 = (float)(2 * v37);
          v65 = v35;
          v36.m128_f32[0] = *v34 - *(float *)&v35;
          v38 = _mm_shuffle_ps(v36, v36, 0);
          v37 <<= 6;
          v39 = _mm_add_ps(
                  _mm_add_ps(_mm_mul_ps(*(__m128 *)(v37 + a1), v32), _mm_mul_ps(*(__m128 *)(v37 + a1 + 16), v33)),
                  _mm_add_ps(_mm_mul_ps(*(__m128 *)(v37 + a1 + 32), v69), *(__m128 *)(v37 + a1 + 48)));
          v40 = _mm_rcp_ps(v39);
          v41 = _mm_sub_ps(_mm_add_ps(v40, v40), _mm_mul_ps(_mm_mul_ps(v40, v39), v40));
          v42 = a2 + v37;
          v43 = 0;
          v31 = _mm_add_ps(v31, _mm_mul_ps(_mm_mul_ps(v39, v38), _mm_shuffle_ps(v41, v41, -1)));
          if ( v14 )
          {
            v44 = *(__m128 *)v42;
            v67 = *(__m128 *)(v42 + 32);
            v71 = *(__m128 *)(v42 + 16);
            v45 = &v73;
            do
            {
              v46 = *(_DWORD *)(a7 + 4 * v43);
              *v45 = _mm_add_ps(
                       *v45,
                       _mm_mul_ps(
                         _mm_add_ps(
                           _mm_add_ps(
                             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)v46, (__m128)*(_DWORD *)v46, 0), v44),
                             _mm_mul_ps(
                               _mm_shuffle_ps((__m128)*(_DWORD *)(v46 + 4), (__m128)*(_DWORD *)(v46 + 4), 0),
                               v71)),
                           _mm_mul_ps(
                             _mm_shuffle_ps((__m128)*(_DWORD *)(v46 + 8), (__m128)*(_DWORD *)(v46 + 8), 0),
                             v67)),
                         v38));
              ++v43;
              ++v45;
            }
            while ( v43 < v14 );
            v34 = a11;
          }
          ++v34;
          a11 = v34;
        }
        while ( *(_DWORD *)v34 >= 0 );
        result = a3;
      }
      v47 = (unsigned __int128)_mm_movehl_ps(v31, v31);
      if ( a12 )
      {
        qmemcpy(v60, v61, v64);
        v48 = a9;
        _mm_storel_ps(a4, v31);
        *(_DWORD *)v59 = v47;
        if ( a9 )
        {
          v49 = a8;
          v50 = &v73;
          do
          {
            v51 = *v49;
            v52 = *v50;
            _mm_storel_ps(*v49, *v50);
            *((_DWORD *)v51 + 2) = (unsigned __int128)_mm_movehl_ps(v52, v52);
            *v49 = (double *)((char *)*v49 + a6);
            *(double **)((char *)v49 + a7 - (_DWORD)a8) = (double *)(*(char **)((char *)v49 + a7 - (_DWORD)a8) + a6);
            ++v50;
            ++v49;
            --v48;
          }
          while ( v48 );
          result = a3;
        }
      }
      else
      {
        _mm_storel_ps(a4, v31);
        *(_DWORD *)v59 = v47;
        if ( v14 )
        {
          v53 = a8;
          v54 = &v73;
          do
          {
            v55 = *v53;
            v56 = *v54;
            _mm_storel_ps(*v53, *v54);
            *((_DWORD *)v55 + 2) = (unsigned __int128)_mm_movehl_ps(v56, v56);
            *v53 = (double *)((char *)*v53 + a6);
            *(double **)((char *)v53 + a7 - (_DWORD)a8) = (double *)(*(char **)((char *)v53 + a7 - (_DWORD)a8) + a6);
            ++v54;
            ++v53;
            --v14;
          }
          while ( v14 );
          result = a3;
        }
        qmemcpy(v60, v61, v64);
      }
      v60 += a6;
      v61 += a6;
      a4 = (double *)((char *)a4 + a6);
      v59 += a6;
      ++a11;
      result += a6;
      v57 = v63-- == 1;
      a3 = result;
      if ( v57 )
        break;
      v14 = a9;
    }
  }
  return result;
}

//----- (0045D2DE) --------------------------------------------------------
void sub_45D2DE()
{
  _m_femms();
}

//----- (0045D408) --------------------------------------------------------
int __userpurge sub_45D408@<eax>(__m128 a1@<xmm0>, __m128 a2@<xmm3>, int a3, int a4, unsigned int a5)
{
  unsigned int v5; // esi@2
  int v6; // eax@2
  __int64 v7; // mm0@3
  __int64 v8; // mm1@3
  double *v9; // ecx@3
  int v10; // edx@3
  unsigned int v11; // ebx@5
  unsigned int v12; // edx@6
  int v14; // [sp+10h] [bp-8h]@1

  v14 = a3;
  if ( a5 >= 8 )
  {
    v5 = a5 & 0xFFFFFFF8;
    v6 = a4;
    do
    {
      v7 = *(_QWORD *)v6;
      v8 = *(_QWORD *)(v6 + 8);
      sub_45D2DE();
      _mm_storel_ps(v9, a1);
      _mm_storeh_ps(v9 + 1, a1);
      _mm_storel_ps(v9 + 2, a2);
      _mm_storeh_ps(v9 + 3, a2);
    }
    while ( v10 != 8 );
    _m_femms();
    a5 -= v5;
    a4 += 2 * v5;
    a3 += 4 * v5;
  }
  v11 = 0;
  if ( a5 )
  {
    do
    {
      v12 = *(_WORD *)(a4 + 2 * v11) & 0x7C00;
      if ( v12 <= 0x400 )
        v12 = 1024;
      *(float *)(a3 + 4 * v11) = (double)(*(_WORD *)(a4 + 2 * v11) & 0x3FF | ((*(_WORD *)(a4 + 2 * v11) & 0x7C00) != 0 ? 0x400 : 0))
                               * COERCE_FLOAT(((unsigned __int16)(*(_WORD *)(a4 + 2 * v11) & 0x8000) << 16) | ((v12 + 104448) << 13));
      ++v11;
    }
    while ( v11 < a5 );
  }
  return v14;
}

//----- (0045D4DC) --------------------------------------------------------
__m128 *__stdcall sub_45D4DC(__m128 *a1, int a2, int a3)
{
  *a1 = _mm_add_ps(
          _mm_add_ps(
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
            *(__m128 *)(a3 + 48)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16)));
  return a1;
}

//----- (0045D51A) --------------------------------------------------------
double *__stdcall sub_45D51A(double *a1, int a2, int a3)
{
  __m128 v3; // xmm2@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm1@1

  v3 = _mm_add_ps(
         _mm_add_ps(
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
           *(__m128 *)(a3 + 48)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16)));
  v4 = _mm_rcp_ps(v3);
  v5 = _mm_mul_ps(_mm_mul_ps(v4, v4), v3);
  _mm_storel_ps(a1, _mm_mul_ps(v3, _mm_shuffle_ps(v5, v5, -1)));
  return a1;
}

//----- (0045D571) --------------------------------------------------------
double *__stdcall sub_45D571(double *a1, int a2, int a3)
{
  _mm_storel_ps(
    a1,
    _mm_add_ps(
      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16))));
  return a1;
}

//----- (0045D5A8) --------------------------------------------------------
__m128 *__stdcall sub_45D5A8(__m128 *a1, __m128 *a2, int a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm1@1
  __m128 v5; // xmm3@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm1@2
  __m128 v8; // xmm0@2
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  __int64 v11; // rt1@3
  __int64 v12; // rt1@3
  __m128 *result; // eax@4

  v3 = *a2;
  v4 = _mm_shuffle_ps(v3, v3, -1);
  if ( a3 & 0xF )
  {
    v9 = *(_QWORD *)(a3 + 48);
    v10 = *(_QWORD *)(a3 + 32);
    v5 = _mm_add_ps(
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps(v3, v3, -86)),
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 56)), v4));
    v11 = *(_QWORD *)(a3 + 16);
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v12 = *(_QWORD *)a3;
    v8 = _mm_loadh_ps((const double *)(a3 + 8));
  }
  else
  {
    v5 = _mm_add_ps(_mm_mul_ps(*(__m128 *)(a3 + 32), _mm_shuffle_ps(v3, v3, -86)), _mm_mul_ps(*(__m128 *)(a3 + 48), v4));
    v6 = _mm_mul_ps(*(__m128 *)(a3 + 16), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v8 = *(__m128 *)a3;
  }
  result = a1;
  *a1 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v8, v7), v6), v5);
  return result;
}

//----- (0045D674) --------------------------------------------------------
int __stdcall sub_45D674(int a1, int a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm0@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm1@1
  __int64 v7; // rt1@1
  __m128 v8; // xmm2@1
  __int64 v9; // rt1@1
  __m128 v10; // xmm3@1
  __m128 v11; // xmm4@1
  __m128 v12; // xmm5@1
  __m128 v13; // xmm6@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm1@1
  __m128 v16; // xmm2@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm0@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 8));
  v5 = *(_QWORD *)(a3 + 16);
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = *(_QWORD *)(a3 + 32);
  v8 = _mm_loadh_ps((const double *)(a3 + 40));
  v9 = *(_QWORD *)(a3 + 48);
  v10 = _mm_loadh_ps((const double *)(a3 + 56));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), v4),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), v6)),
          _mm_add_ps(
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), v8),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 12), (__m128)*(_DWORD *)(a2 + 12), 0), v10)));
  v12 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 16), (__m128)*(_DWORD *)(a2 + 16), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 20), (__m128)*(_DWORD *)(a2 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 24), (__m128)*(_DWORD *)(a2 + 24), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 28), (__m128)*(_DWORD *)(a2 + 28), 0), v10));
  v13 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 32), (__m128)*(_DWORD *)(a2 + 32), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 36), (__m128)*(_DWORD *)(a2 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 40), (__m128)*(_DWORD *)(a2 + 40), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 44), (__m128)*(_DWORD *)(a2 + 44), 0), v10));
  v14 = _mm_mul_ps(v4, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 48), (__m128)*(_DWORD *)(a2 + 48), 0));
  v15 = _mm_mul_ps(v6, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 52), (__m128)*(_DWORD *)(a2 + 52), 0));
  v16 = _mm_mul_ps(v8, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 56), (__m128)*(_DWORD *)(a2 + 56), 0));
  v17 = _mm_mul_ps(v10, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 60), (__m128)*(_DWORD *)(a2 + 60), 0));
  _mm_storel_ps((double *)a1, v11);
  _mm_storeh_ps((double *)(a1 + 8), v11);
  _mm_storel_ps((double *)(a1 + 16), v12);
  _mm_storeh_ps((double *)(a1 + 24), v12);
  _mm_storel_ps((double *)(a1 + 32), v13);
  _mm_storeh_ps((double *)(a1 + 40), v13);
  v18 = _mm_add_ps(_mm_add_ps(v14, v15), _mm_add_ps(v16, v17));
  _mm_storel_ps((double *)(a1 + 48), v18);
  _mm_storeh_ps((double *)(a1 + 56), v18);
  return a1;
}

//----- (0045D7A8) --------------------------------------------------------
int __stdcall sub_45D7A8(int a1, _DWORD *a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm2@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm1@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm1@1
  __int64 v9; // rt1@1
  __m128 v10; // xmm3@1
  __int64 v11; // rt1@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm5@1
  __m128 v14; // xmm2@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm3@1
  __m128 v17; // xmm4@1
  __m128 v18; // xmm6@1
  __m128 v19; // xmm3@1
  __m128 v20; // ST10_16@1
  __m128 v21; // xmm6@1
  __m128 v22; // xmm6@1
  __m128 v23; // ST40_16@1
  __m128 v24; // xmm4@1
  __m128 v25; // xmm6@1
  __m128 v26; // ST60_16@1
  __m128 v27; // ST40_16@1
  __m128 v28; // xmm6@1
  __m128 v29; // xmm6@1
  __m128 v30; // xmm5@1
  __m128 v31; // xmm4@1
  __m128 v32; // xmm3@1
  __m128 v33; // ST00_16@1
  __m128 v34; // xmm6@1
  __m128 v35; // ST00_16@1
  __m128 v36; // xmm6@1
  __m128 v37; // xmm6@1
  __m128 v38; // xmm3@1
  __m128 v39; // xmm4@1
  __m128 v40; // xmm6@1
  __m128 v41; // ST20_16@1
  __m128 v42; // ST70_16@1
  __m128 v43; // xmm6@1
  __m128 v44; // xmm6@1
  __m128 v45; // ST30_16@1
  __m128 v46; // xmm7@1
  __m128 v47; // xmm6@1
  __m128 v48; // ST80_16@1
  __m128 v49; // xmm3@1
  __m128 v50; // xmm0@1
  __m128 v51; // xmm3@1
  __m128 v52; // xmm5@1
  __m128 v53; // xmm3@1
  __m128 v54; // xmm6@1
  __m128 v55; // xmm5@1
  __m128 v56; // ST20_16@1
  __m128 v57; // xmm6@1
  __m128 v58; // xmm2@1
  __m128 v59; // xmm0@1
  __m128 v60; // xmm3@1
  __m128 v61; // xmm1@1
  signed int v62; // ecx@1
  int result; // eax@4
  __m128 v64; // ST10_16@7
  float v65; // xmm4_4@7
  __m128 v66; // xmm0@7
  __m128 v67; // xmm0@7
  __m128 v68; // xmm2@7
  __m128 v69; // xmm2@7
  __m128 v70; // xmm2@7
  __m128 v71; // xmm0@7
  __m128 v72; // [sp+0h] [bp-90h]@1
  __m128 v73; // [sp+50h] [bp-40h]@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 16));
  v5 = *(_QWORD *)(a3 + 32);
  v6 = _mm_loadh_ps((const double *)(a3 + 48));
  v7 = _mm_shuffle_ps(v4, v6, -120);
  v8 = _mm_shuffle_ps(v6, v4, -35);
  v9 = *(_QWORD *)(a3 + 8);
  v10 = _mm_loadh_ps((const double *)(a3 + 24));
  v11 = *(_QWORD *)(a3 + 40);
  v12 = _mm_loadh_ps((const double *)(a3 + 56));
  v13 = _mm_shuffle_ps(v10, v12, -120);
  v14 = _mm_shuffle_ps(v12, v10, -35);
  v15 = _mm_mul_ps(v13, v14);
  v16 = _mm_shuffle_ps(v15, v15, -79);
  v17 = _mm_shuffle_ps(v16, v16, 78);
  v18 = _mm_mul_ps(v7, v16);
  v19 = _mm_sub_ps(_mm_mul_ps(v8, v17), _mm_mul_ps(v8, v16));
  v20 = _mm_sub_ps(_mm_mul_ps(v7, v17), v18);
  v21 = _mm_mul_ps(v8, v13);
  v22 = _mm_shuffle_ps(v21, v21, -79);
  v23 = _mm_mul_ps(v7, v22);
  v24 = _mm_mul_ps(v14, v22);
  v25 = _mm_shuffle_ps(v22, v22, 78);
  v26 = _mm_mul_ps(v14, v25);
  v27 = _mm_sub_ps(_mm_mul_ps(v7, v25), v23);
  v28 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 78), v14);
  v29 = _mm_shuffle_ps(v28, v28, -79);
  v30 = _mm_shuffle_ps(v13, v13, 78);
  v31 = _mm_sub_ps(_mm_add_ps(v24, v19), v26);
  v32 = _mm_mul_ps(v30, v29);
  v33 = _mm_mul_ps(v7, v29);
  v34 = _mm_shuffle_ps(v29, v29, 78);
  v73 = _mm_sub_ps(_mm_add_ps(v32, v31), _mm_mul_ps(v30, v34));
  v35 = _mm_sub_ps(_mm_mul_ps(v7, v34), v33);
  v36 = _mm_mul_ps(v7, v8);
  v37 = _mm_shuffle_ps(v36, v36, -79);
  v38 = _mm_mul_ps(v14, v37);
  v39 = _mm_mul_ps(v30, v37);
  v40 = _mm_shuffle_ps(v37, v37, 78);
  v41 = _mm_mul_ps(v14, v40);
  v42 = _mm_mul_ps(v30, v40);
  v43 = _mm_mul_ps(v7, v14);
  v44 = _mm_shuffle_ps(v43, v43, -79);
  v45 = _mm_mul_ps(v30, v44);
  v46 = _mm_mul_ps(v8, v44);
  v47 = _mm_shuffle_ps(v44, v44, 78);
  v48 = _mm_mul_ps(v30, v47);
  v72 = _mm_sub_ps(_mm_add_ps(v46, _mm_sub_ps(v41, _mm_add_ps(v38, _mm_shuffle_ps(v35, v35, 78)))), _mm_mul_ps(v8, v47));
  v49 = v7;
  v50 = _mm_mul_ps(v7, v73);
  v51 = _mm_mul_ps(v49, v30);
  v52 = _mm_shuffle_ps(v51, v51, -79);
  v53 = _mm_mul_ps(v14, v52);
  v54 = _mm_mul_ps(v8, v52);
  v55 = _mm_shuffle_ps(v52, v52, 78);
  v56 = v54;
  v57 = _mm_mul_ps(v14, v55);
  v58 = _mm_add_ps(_mm_shuffle_ps(v50, v50, 78), v50);
  v59 = _mm_shuffle_ps(v58, v58, -79);
  v59.m128_f32[0] = v59.m128_f32[0] + v58.m128_f32[0];
  v60 = _mm_sub_ps(_mm_add_ps(v53, _mm_add_ps(v48, _mm_sub_ps(_mm_shuffle_ps(v20, v20, 78), v45))), v57);
  v61 = _mm_add_ps(_mm_mul_ps(v8, v55), _mm_sub_ps(_mm_sub_ps(_mm_sub_ps(v39, _mm_shuffle_ps(v27, v27, 78)), v42), v56));
  v62 = 0;
  if ( v59.m128_f32[0] == 0.0 )
    v62 = 1;
  if ( v62 )
  {
    result = 0;
  }
  else
  {
    if ( a2 )
      *a2 = v59.m128_i32[0];
    result = a1;
    v64 = v59;
    v64.m128_f32[0] = 1.0 / v59.m128_f32[0];
    v65 = v59.m128_f32[0] * (float)((float)(1.0 / v59.m128_f32[0]) * (float)(1.0 / v59.m128_f32[0]));
    v66 = v64;
    v66.m128_f32[0] = (float)(v66.m128_f32[0] + v66.m128_f32[0]) - v65;
    v67 = _mm_shuffle_ps(v66, v66, 0);
    v68 = _mm_mul_ps(v67, v73);
    _mm_storel_ps((double *)a1, v68);
    _mm_storeh_ps((double *)(a1 + 8), v68);
    v69 = _mm_mul_ps(v67, v60);
    _mm_storel_ps((double *)(a1 + 16), v69);
    _mm_storeh_ps((double *)(a1 + 24), v69);
    v70 = _mm_mul_ps(v67, v72);
    _mm_storel_ps((double *)(a1 + 32), v70);
    _mm_storeh_ps((double *)(a1 + 40), v70);
    v71 = _mm_mul_ps(v67, v61);
    _mm_storel_ps((double *)(a1 + 48), v71);
    _mm_storeh_ps((double *)(a1 + 56), v71);
  }
  return result;
}

//----- (0045DAA4) --------------------------------------------------------
__m128 *__stdcall sub_45DAA4(__m128 *a1, int a2, int a3, int a4)
{
  __int64 v4; // rt1@1
  __m128 v5; // xmm7@1
  __int64 v6; // rt1@1
  __m128 v7; // xmm0@1
  __int64 v8; // rt1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm2@1
  __m128 *result; // eax@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // ST00_16@1
  __m128 v16; // xmm4@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm1@1

  v4 = *(_QWORD *)a2;
  v5 = _mm_loadh_ps((const double *)(a2 + 8));
  v6 = *(_QWORD *)a3;
  v7 = _mm_loadh_ps((const double *)(a3 + 8));
  v8 = *(_QWORD *)a4;
  v9 = _mm_shuffle_ps(v7, v7, 57);
  v10 = _mm_loadh_ps((const double *)(a4 + 8));
  result = a1;
  v12 = _mm_mul_ps(v9, v10);
  v13 = _mm_shuffle_ps(v10, v10, 78);
  v14 = _mm_mul_ps(v9, v13);
  v15 = _mm_mul_ps(v9, _mm_shuffle_ps(v13, v13, 57));
  v16 = _mm_sub_ps(_mm_shuffle_ps(v14, v14, 57), _mm_shuffle_ps(v12, v12, 78));
  v17 = _mm_shuffle_ps(v12, v12, 57);
  v18 = _mm_shuffle_ps(v5, v5, 57);
  v19 = _mm_shuffle_ps(v18, v18, 57);
  *a1 = _mm_xor_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(v18, v16), _mm_mul_ps(v19, _mm_sub_ps(_mm_shuffle_ps(v15, v15, 78), v15))),
            _mm_mul_ps(_mm_shuffle_ps(v19, v19, 57), _mm_sub_ps(v14, v17))),
          (__m128)xmmword_52CBE0);
  return result;
}
// 52CBE0: using guessed type __int128 xmmword_52CBE0;

//----- (0045DB64) --------------------------------------------------------
int __stdcall sub_45DB64(int a1, int a2)
{
  float v2; // xmm1_4@1
  float v3; // xmm2_4@1
  float v4; // xmm3_4@1
  float v5; // xmm4_4@1
  float v6; // xmm6_4@1
  float v7; // xmm5_4@1

  v2 = *(float *)(a2 + 4);
  v3 = *(float *)(a2 + 8);
  v4 = *(float *)(a2 + 12);
  v5 = (float)((float)(*(float *)a2 * *(float *)a2) + (float)(v2 * v2)) + (float)((float)(v3 * v3) + (float)(v4 * v4));
  v6 = 1.0 / fsqrt(v5);
  v7 = (float)((float)(*(float *)&dword_52CC00 - (float)(v5 * (float)(v6 * v6))) * *(float *)&dword_52CBF0) * v6;
  *(float *)a1 = *(float *)a2 * v7;
  *(float *)(a1 + 4) = v2 * v7;
  *(float *)(a1 + 8) = v3 * v7;
  *(float *)(a1 + 12) = v4 * v7;
  return a1;
}
// 52CBF0: using guessed type int dword_52CBF0;
// 52CC00: using guessed type int dword_52CC00;

//----- (0045DBFE) --------------------------------------------------------
int __userpurge sub_45DBFE@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  int v10; // et1@1
  int v11; // et1@1
  int v12; // et1@1
  int v13; // et1@1
  __m128 v14; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_52CBC0), (__m128)xmmword_52CBD0),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_52CBB0)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_52CBA0));
  v10 = *(_DWORD *)(a4 + 8);
  v11 = *(_DWORD *)(a5 + 8);
  v12 = *(_DWORD *)(a6 + 8);
  v13 = *(_DWORD *)(a7 + 8);
  v14 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps((const double *)a4), _mm_shuffle_ps(v9, v9, 0)),
              _mm_mul_ps(_mm_loadh_ps((const double *)a5), _mm_shuffle_ps(v9, v9, 85))),
            _mm_mul_ps(_mm_loadh_ps((const double *)a6), _mm_shuffle_ps(v9, v9, -86))),
          _mm_mul_ps(_mm_loadh_ps((const double *)a7), _mm_shuffle_ps(v9, v9, -1)));
  _mm_storeh_ps((double *)a3, v14);
  *(_DWORD *)(a3 + 8) = v14.m128_i32[0];
  return a3;
}
// 52CBA0: using guessed type __int128 xmmword_52CBA0;
// 52CBB0: using guessed type __int128 xmmword_52CBB0;
// 52CBC0: using guessed type __int128 xmmword_52CBC0;
// 52CBD0: using guessed type __int128 xmmword_52CBD0;

//----- (0045DCB0) --------------------------------------------------------
double *__userpurge sub_45DCB0@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, double *a3, __int64 *a4, const double *a5, __int64 *a6, const double *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __int64 v10; // rt1@1
  __int64 v11; // rt1@1
  __m128 v12; // xmm6@1
  __m128 v13; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_52CBC0), (__m128)xmmword_52CBD0),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_52CBB0)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_52CBA0));
  v10 = *a4;
  v11 = *a6;
  v12 = _mm_mul_ps(_mm_loadh_ps(a7), _mm_shuffle_ps(v9, v9, -6));
  v13 = _mm_add_ps(_mm_mul_ps(_mm_loadh_ps(a5), _mm_shuffle_ps(v9, v9, 80)), v12);
  _mm_storel_ps(a3, _mm_add_ps(v13, _mm_movehl_ps(v12, v13)));
  return a3;
}
// 52CBA0: using guessed type __int128 xmmword_52CBA0;
// 52CBB0: using guessed type __int128 xmmword_52CBB0;
// 52CBC0: using guessed type __int128 xmmword_52CBC0;
// 52CBD0: using guessed type __int128 xmmword_52CBD0;

//----- (0045DD35) --------------------------------------------------------
__m128 *__userpurge sub_45DD35@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_52CBC0), (__m128)xmmword_52CBD0),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_52CBB0)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_52CBA0));
  *a3 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(*a4, _mm_shuffle_ps(v9, v9, 0)), _mm_mul_ps(*a5, _mm_shuffle_ps(v9, v9, 85))),
            _mm_mul_ps(*a6, _mm_shuffle_ps(v9, v9, -86))),
          _mm_mul_ps(*a7, _mm_shuffle_ps(v9, v9, -1)));
  return a3;
}
// 52CBA0: using guessed type __int128 xmmword_52CBA0;
// 52CBB0: using guessed type __int128 xmmword_52CBB0;
// 52CBC0: using guessed type __int128 xmmword_52CBC0;
// 52CBD0: using guessed type __int128 xmmword_52CBD0;

//----- (0045DDDA) --------------------------------------------------------
int __userpurge sub_45DDDA@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1
  int v11; // et1@1
  int v12; // et1@1
  int v13; // et1@1
  int v14; // et1@1
  __m128 v15; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_52CB80);
  v9.m128_f32[0] = v9.m128_f32[0] + *(float *)&dword_52CB90;
  v10 = _mm_add_ps(
          _mm_add_ps(v9, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_52CB70)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_52CB60));
  v11 = *(_DWORD *)(a4 + 8);
  v12 = *(_DWORD *)(a5 + 8);
  v13 = *(_DWORD *)(a6 + 8);
  v14 = *(_DWORD *)(a7 + 8);
  v15 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps((const double *)a4), _mm_shuffle_ps(v10, v10, 0)),
              _mm_mul_ps(_mm_loadh_ps((const double *)a5), _mm_shuffle_ps(v10, v10, 85))),
            _mm_mul_ps(_mm_loadh_ps((const double *)a6), _mm_shuffle_ps(v10, v10, -86))),
          _mm_mul_ps(_mm_loadh_ps((const double *)a7), _mm_shuffle_ps(v10, v10, -1)));
  _mm_storeh_ps((double *)a3, v15);
  *(_DWORD *)(a3 + 8) = v15.m128_i32[0];
  return a3;
}
// 52CB60: using guessed type __int128 xmmword_52CB60;
// 52CB70: using guessed type __int128 xmmword_52CB70;
// 52CB80: using guessed type __int128 xmmword_52CB80;
// 52CB90: using guessed type int dword_52CB90;

//----- (0045DE8D) --------------------------------------------------------
__m128 *__userpurge sub_45DE8D@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_52CB80);
  v9.m128_f32[0] = v9.m128_f32[0] + *(float *)&dword_52CB90;
  v10 = _mm_add_ps(
          _mm_add_ps(v9, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_52CB70)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_52CB60));
  *a3 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(*a4, _mm_shuffle_ps(v10, v10, 0)), _mm_mul_ps(*a5, _mm_shuffle_ps(v10, v10, 85))),
            _mm_mul_ps(*a6, _mm_shuffle_ps(v10, v10, -86))),
          _mm_mul_ps(*a7, _mm_shuffle_ps(v10, v10, -1)));
  return a3;
}
// 52CB60: using guessed type __int128 xmmword_52CB60;
// 52CB70: using guessed type __int128 xmmword_52CB70;
// 52CB80: using guessed type __int128 xmmword_52CB80;
// 52CB90: using guessed type int dword_52CB90;

//----- (0045DF27) --------------------------------------------------------
double *__userpurge sub_45DF27@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 a3@<xmm3>, double *a4, __int64 *a5, const double *a6, __int64 *a7, const double *a8, float a9)
{
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1
  __m128 v11; // xmm0@1
  __int64 v12; // rt1@1
  __int64 v13; // rt1@1
  __m128 v14; // xmm4@1

  v9 = (__m128)LODWORD(a9);
  a1.m128_f32[0] = v9.m128_f32[0] * v9.m128_f32[0];
  a2.m128_f32[0] = a9 * (float)(v9.m128_f32[0] * v9.m128_f32[0]);
  v10 = _mm_mul_ps(_mm_shuffle_ps(v9, v9, 0), (__m128)xmmword_52CB80);
  v10.m128_f32[0] = v10.m128_f32[0] + *(float *)&dword_52CB90;
  v11 = _mm_add_ps(
          _mm_add_ps(v10, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_52CB70)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_52CB60));
  v12 = *a5;
  v13 = *a7;
  v14 = _mm_add_ps(
          _mm_mul_ps(_mm_loadh_ps(a6), _mm_shuffle_ps(v11, v11, 80)),
          _mm_mul_ps(_mm_loadh_ps(a8), _mm_shuffle_ps(v11, v11, -6)));
  _mm_storel_ps(a4, _mm_add_ps(v14, _mm_movehl_ps(a3, v14)));
  return a4;
}
// 52CB60: using guessed type __int128 xmmword_52CB60;
// 52CB70: using guessed type __int128 xmmword_52CB70;
// 52CB80: using guessed type __int128 xmmword_52CB80;
// 52CB90: using guessed type int dword_52CB90;

//----- (0045DFAD) --------------------------------------------------------
int __stdcall sub_45DFAD(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // et1@1
  __m128 v7; // xmm2@1
  int v8; // et1@1
  int v9; // et1@1
  __m128 v10; // xmm3@1

  v6 = *(_DWORD *)(a2 + 8);
  v7 = _mm_loadh_ps((const double *)a2);
  v8 = *(_DWORD *)(a3 + 8);
  v9 = *(_DWORD *)(a4 + 8);
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps((const double *)a3), v7), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)),
            v7),
          _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps((const double *)a4), v7), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0)));
  *(_DWORD *)(a1 + 8) = v10.m128_i32[0];
  _mm_storeh_ps((double *)a1, v10);
  return a1;
}

//----- (0045E00A) --------------------------------------------------------
__m128 *__stdcall sub_45E00A(__m128 *a1, __m128 *a2, __m128 *a3, __m128 *a4, unsigned int a5, unsigned int a6)
{
  *a1 = _mm_add_ps(
          _mm_add_ps(_mm_mul_ps(_mm_sub_ps(*a3, *a2), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)), *a2),
          _mm_mul_ps(_mm_sub_ps(*a4, *a2), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0)));
  return a1;
}

//----- (0045E053) --------------------------------------------------------
double *__stdcall sub_45E053(double *a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6)
{
  __m128 v6; // xmm2@1

  v6 = _mm_loadh_ps(a2);
  _mm_storeh_ps(
    a1,
    _mm_add_ps(
      _mm_add_ps(_mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a3), v6), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)), v6),
      _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a4), v6), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0))));
  return a1;
}

//----- (0045E0A5) --------------------------------------------------------
int __userpurge sub_45E0A5@<eax>(__m128 a1@<xmm5>, __m128 a2@<xmm6>, int a3, __m128 *a4, int a5, int a6)
{
  __m128 v6; // xmm0@1
  int v7; // et1@1
  __m128 v8; // xmm1@1
  int v9; // et1@1
  __m128 v10; // xmm4@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm3@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm6@1
  __m128 v17; // xmm0@1
  float v18; // xmm5_4@1
  __m128 v19; // xmm3@1
  __m128 v20; // xmm1@2

  v6 = *a4;
  v7 = *(_DWORD *)(a5 + 8);
  v8 = _mm_loadh_ps((const double *)a5);
  v9 = *(_DWORD *)(a6 + 8);
  v10 = v6;
  v11 = _mm_shuffle_ps(v6, v6, 78);
  v12 = _mm_loadh_ps((const double *)a6);
  v13 = _mm_mul_ps(v8, v11);
  v14 = _mm_mul_ps(v11, v12);
  v15 = _mm_movehl_ps(a1, v13);
  v16 = _mm_movehl_ps(a2, v14);
  v19 = _mm_add_ps(v13, v15);
  v17 = _mm_add_ps(v14, v16);
  v19.m128_f32[0] = v19.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v15, v19, 85));
  v18 = v19.m128_f32[0] - (float)(v17.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v16, v17, 85)));
  v19.m128_f32[0] = v19.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v10, v10, -1));
  if ( v18 == *(float *)&dword_5393C4 )
  {
    a3 = 0;
  }
  else
  {
    v19.m128_f32[0] = v19.m128_f32[0]
                    * (float)((float)((float)(1.0 / v18) + (float)(1.0 / v18))
                            - (float)((float)(v18 * (float)(1.0 / v18)) * (float)(1.0 / v18)));
    v20 = _mm_add_ps(v8, _mm_mul_ps(_mm_shuffle_ps(v19, v19, 0), _mm_sub_ps(v12, v8)));
    _mm_storeh_ps((double *)a3, v20);
    *(_DWORD *)(a3 + 8) = v20.m128_i32[0];
  }
  return a3;
}
// 5393C4: using guessed type int dword_5393C4;

//----- (0045E153) --------------------------------------------------------
__m128 *__stdcall sub_45E153(__m128 *a1, int a2, int a3, int a4)
{
  int v4; // et1@1
  __m128 v5; // xmm2@1
  int v6; // et1@1
  __m128 v7; // xmm0@1
  int v8; // et1@1
  __m128 *result; // eax@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm1@1
  float v14; // xmm3_4@1
  float v15; // xmm5_4@1
  __int128 v16; // xmm4@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm0@1

  v4 = *(_DWORD *)(a2 + 8);
  v5 = _mm_loadh_ps((const double *)a2);
  v6 = *(_DWORD *)(a3 + 8);
  v7 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a3));
  v8 = *(_DWORD *)(a4 + 8);
  result = a1;
  v10 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a4));
  v11 = _mm_sub_ps(
          _mm_mul_ps(_mm_shuffle_ps(v10, v10, 120), _mm_shuffle_ps(v7, v7, 99)),
          _mm_mul_ps(_mm_shuffle_ps(v7, v7, 120), _mm_shuffle_ps(v10, v10, 99)));
  v12 = _mm_mul_ps(v11, v11);
  v13 = _mm_add_ps(v12, _mm_movehl_ps(v12, v12));
  v13.m128_f32[0] = v13.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v13, v13, 1));
  v14 = 1.0 / fsqrt(v13.m128_f32[0]);
  v15 = *(float *)&xmmword_52CC30 - (float)((float)(v13.m128_f32[0] * v14) * v14);
  v16 = xmmword_52CC20;
  *(float *)&v16 = *(float *)&xmmword_52CC20 * v14;
  v17 = (__m128)v16;
  v17.m128_f32[0] = *(float *)&v16 * v15;
  v18 = _mm_mul_ps(v11, _mm_shuffle_ps(v17, v17, 0));
  *a1 = v18;
  v19 = _mm_mul_ps(v18, _mm_shuffle_ps(v5, v5, 14));
  v19.m128_f32[0] = v19.m128_f32[0]
                  + (float)(COERCE_FLOAT(_mm_movehl_ps(v13, v19)) + COERCE_FLOAT(_mm_shuffle_ps(v19, v19, 85)));
  a1->m128_i32[3] = (unsigned __int128)_mm_xor_ps(v19, (__m128)xmmword_52CC10);
  return result;
}
// 52CC10: using guessed type __int128 xmmword_52CC10;
// 52CC20: using guessed type __int128 xmmword_52CC20;
// 52CC30: using guessed type __int128 xmmword_52CC30;

//----- (0045E253) --------------------------------------------------------
int __stdcall sub_45E253(int a1, int a2)
{
  __int64 v2; // rt1@1
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  float v7; // xmm2_4@1
  float v8; // xmm3_4@1
  __m128 v9; // xmm0@1
  int result; // eax@1
  __m128 v11; // xmm1@1
  __m128 v12; // xmm0@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm4@1

  v2 = *(_QWORD *)(a2 + 8);
  v3 = _mm_loadl_ps((const double *)a2);
  v4 = _mm_and_ps(v3, (__m128)xmmword_52CCB0);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v6, v6, 1));
  v7 = 1.0 / fsqrt(v6.m128_f32[0]);
  v8 = unk_52CCA0 - (float)((float)(v6.m128_f32[0] * v7) * v7);
  v9 = (__m128)dword_52CC90[0];
  result = a1;
  v9.m128_f32[0] = (float)(*(float *)dword_52CC90 * v7) * v8;
  v11 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  v12 = _mm_mul_ps((__m128)xmmword_52CC70, v11);
  v13 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 85)), (__m128)xmmword_52CC80);
  v14 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -86)), (__m128)xmmword_52CC60);
  v15 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -1)), (__m128)xmmword_52CC50);
  *(__m128 *)a1 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 0)), (__m128)xmmword_52CC40);
  *(__m128 *)(a1 + 16) = v13;
  *(__m128 *)(a1 + 32) = v14;
  *(__m128 *)(a1 + 48) = v15;
  return result;
}
// 52CC40: using guessed type __int128 xmmword_52CC40;
// 52CC50: using guessed type __int128 xmmword_52CC50;
// 52CC60: using guessed type __int128 xmmword_52CC60;
// 52CC70: using guessed type __int128 xmmword_52CC70;
// 52CC80: using guessed type __int128 xmmword_52CC80;
// 52CCB0: using guessed type __int128 xmmword_52CCB0;

//----- (0045E35F) --------------------------------------------------------
int __stdcall sub_45E35F(int a1, int a2, int a3)
{
  __m128 v3; // xmm1@2
  __m128 v4; // xmm2@2
  __m128 v5; // xmm3@2
  __m128 v6; // xmm0@2
  __m128 v7; // xmm0@3
  __int64 v8; // rt1@3
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  int result; // eax@4
  __m128 v12; // xmm0@4

  if ( a3 & 0xF )
  {
    v7 = _mm_loadl_ps((const double *)a2);
    v8 = *(_QWORD *)(a3 + 32);
    v4 = _mm_mul_ps(
           _mm_loadh_ps((const double *)(a3 + 40)),
           _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0));
    v9 = *(_QWORD *)(a3 + 16);
    v5 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v7, v7, 85));
    v10 = *(_QWORD *)a3;
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v7, v7, 0));
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    v4 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), *(__m128 *)(a3 + 32));
    v5 = _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16));
    v6 = _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3);
  }
  result = a1;
  v12 = _mm_add_ps(_mm_add_ps(v6, v5), v4);
  _mm_storel_ps((double *)a1, v12);
  *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v12, v12);
  return result;
}

//----- (0045E434) --------------------------------------------------------
int __stdcall sub_45E434(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  unsigned int v4; // ecx@1
  __m128 v5; // xmm3@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm1@2
  __m128 v8; // xmm0@2
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  __int64 v11; // rt1@3
  __int64 v12; // rt1@3
  int result; // eax@4
  __m128 v14; // xmm0@4
  __m128 v15; // xmm1@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm0@4

  v3 = _mm_loadl_ps((const double *)a2);
  v4 = *(_DWORD *)(a2 + 8);
  if ( a3 & 0xF )
  {
    v9 = *(_QWORD *)(a3 + 48);
    v10 = *(_QWORD *)(a3 + 32);
    v5 = _mm_add_ps(
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)),
           _mm_loadh_ps((const double *)(a3 + 56)));
    v11 = *(_QWORD *)(a3 + 16);
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v12 = *(_QWORD *)a3;
    v8 = _mm_loadh_ps((const double *)(a3 + 8));
  }
  else
  {
    v5 = _mm_add_ps(_mm_mul_ps(*(__m128 *)(a3 + 32), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)), *(__m128 *)(a3 + 48));
    v6 = _mm_mul_ps(*(__m128 *)(a3 + 16), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v8 = *(__m128 *)a3;
  }
  result = a1;
  v14 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v8, v7), v6), v5);
  v15 = _mm_rcp_ps(v14);
  v16 = _mm_sub_ps(_mm_add_ps(v15, v15), _mm_mul_ps(_mm_mul_ps(v15, v14), v15));
  v17 = _mm_mul_ps(v14, _mm_shuffle_ps(v16, v16, -1));
  _mm_storel_ps((double *)a1, v17);
  *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v17, v17);
  return result;
}

//----- (0045E537) --------------------------------------------------------
int __stdcall sub_45E537(int a1, int a2)
{
  float v2; // xmm2_4@1
  float v3; // xmm3_4@1
  float v4; // xmm4_4@1
  float v5; // xmm0_4@1
  signed int v6; // edx@1
  int result; // eax@3
  float v8; // xmm0_4@4
  float v9; // xmm1_4@5
  float v10; // xmm5_4@5

  v2 = *(float *)a2;
  v3 = *(float *)(a2 + 4);
  v4 = *(float *)(a2 + 8);
  v5 = (float)((float)(v2 * v2) + (float)(v3 * v3)) + (float)(v4 * v4);
  v6 = 0;
  if ( v5 < 1.4210855e-14 )
    v6 = 1;
  result = a1;
  if ( v6 )
  {
    v8 = 0.0;
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
  }
  else
  {
    v9 = 1.0 / fsqrt(v5);
    v10 = 3.0 - (float)((float)(v5 * v9) * v9);
    *(float *)a1 = (float)((float)(0.5 * v9) * v10) * v2;
    *(float *)(a1 + 4) = (float)((float)(0.5 * v9) * v10) * v3;
    *(float *)(a1 + 8) = (float)((float)(0.5 * v9) * v10) * v4;
    v8 = (float)((float)(0.5 * v9) * v10) * *(float *)(a2 + 12);
  }
  *(float *)(a1 + 12) = v8;
  return result;
}

//----- (0045E64C) --------------------------------------------------------
int __stdcall sub_45E64C(int a1, int a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm3@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm4@1
  __int64 v7; // rt1@1
  __m128 v8; // xmm5@1
  __int64 v9; // rt1@1
  __m128 v10; // xmm2@1
  __m128 v11; // xmm0@1
  __m128 v12; // ST20_16@1
  __m128 v13; // xmm1@1
  __m128 v14; // xmm6@1
  __m128 v15; // xmm5@1
  int result; // eax@1
  __m128 v17; // xmm4@1
  __m128 v18; // xmm2@1
  __m128 v19; // xmm0@1
  __m128 v20; // xmm4@1
  __m128 v21; // xmm3@1
  __m128 v22; // xmm1@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 8));
  v5 = *(_QWORD *)(a3 + 16);
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = *(_QWORD *)(a3 + 32);
  v8 = _mm_loadh_ps((const double *)(a3 + 40));
  v9 = *(_QWORD *)(a3 + 48);
  v10 = _mm_loadh_ps((const double *)(a3 + 56));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 12), (__m128)*(_DWORD *)(a2 + 12), 0), v10));
  v12 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 16), (__m128)*(_DWORD *)(a2 + 16), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 20), (__m128)*(_DWORD *)(a2 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 24), (__m128)*(_DWORD *)(a2 + 24), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 28), (__m128)*(_DWORD *)(a2 + 28), 0), v10));
  v13 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 32), (__m128)*(_DWORD *)(a2 + 32), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 36), (__m128)*(_DWORD *)(a2 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 40), (__m128)*(_DWORD *)(a2 + 40), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 44), (__m128)*(_DWORD *)(a2 + 44), 0), v10));
  v14 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 60), (__m128)*(_DWORD *)(a2 + 60), 0), v10);
  v15 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 56), (__m128)*(_DWORD *)(a2 + 56), 0), v8);
  result = a1;
  v17 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 48), (__m128)*(_DWORD *)(a2 + 48), 0), v4),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 52), (__m128)*(_DWORD *)(a2 + 52), 0), v6));
  v18 = _mm_unpacklo_ps(v11, v12);
  v19 = _mm_unpackhi_ps(v11, v12);
  _mm_storel_ps((double *)a1, v18);
  v20 = _mm_add_ps(_mm_add_ps(v17, v15), v14);
  v21 = _mm_unpacklo_ps(v13, v20);
  _mm_storel_ps((double *)(a1 + 8), v21);
  _mm_storeh_ps((double *)(a1 + 16), v18);
  _mm_storeh_ps((double *)(a1 + 24), v21);
  _mm_storel_ps((double *)(a1 + 32), v19);
  v22 = _mm_unpackhi_ps(v13, v20);
  _mm_storel_ps((double *)(a1 + 40), v22);
  _mm_storeh_ps((double *)(a1 + 48), v19);
  _mm_storeh_ps((double *)(a1 + 56), v22);
  return result;
}

//----- (0045E880) --------------------------------------------------------
int __stdcall sub_45E880(int a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm4@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm3@1
  signed int v7; // edx@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm2@5
  float v10; // xmm0_4@8
  float v11; // ST10_4@10
  int result; // eax@11
  __m128 v13; // xmm0@11
  __m128 v14; // xmm0@11
  __m128 v15; // xmm1@11
  __m128 v16; // xmm0@11
  __m128 v17; // xmm4@11
  __m128 v18; // xmm5@11
  __m128 v19; // xmm3@11
  __m128 v20; // xmm2@11
  __m128 v21; // [sp+10h] [bp-10h]@0

  v3 = *a3;
  v4 = _mm_and_ps(*a3, (__m128)xmmword_52CD00);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v21, v5));
  v8 = _mm_shuffle_ps(v6, v6, 1);
  v7 = 0;
  v8.m128_f32[0] = v8.m128_f32[0] + v6.m128_f32[0];
  if ( v8.m128_f32[0] == COERCE_FLOAT(_mm_xor_ps(v21, v21)) )
    v7 = 1;
  if ( v7 != 1 )
  {
    if ( dword_5393F0 & 1 )
    {
      v9 = (__m128)xmmword_5393E0;
    }
    else
    {
      dword_5393F0 |= 1u;
      v9 = (__m128)1056964608i64;
      xmmword_5393E0 = 1056964608i64;
    }
    if ( dword_5393F0 & 2 )
    {
      v10 = *(float *)&xmmword_5393D0;
    }
    else
    {
      dword_5393F0 |= 2u;
      v10 = 3.0;
      xmmword_5393D0 = 1077936128i64;
    }
    v11 = 1.0 / fsqrt(v8.m128_f32[0]);
    v9.m128_f32[0] = (float)(v9.m128_f32[0] * v11) * (float)(v10 - (float)((float)(v8.m128_f32[0] * v11) * v11));
    v8 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  }
  result = a1;
  v13 = _mm_mul_ps(v8, *a2);
  v14 = _mm_add_ps(v13, _mm_movehl_ps(v6, v13));
  v14.m128_f32[0] = v14.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v14, v14, 1));
  v15 = _mm_xor_ps(v8, (__m128)xmmword_52CCC0);
  v16 = _mm_shuffle_ps(v14, v14, 0);
  v19 = _mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 0));
  v17 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 85)), _mm_and_ps(v16, (__m128)xmmword_52CCD0));
  v18 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -86)), _mm_and_ps(v16, (__m128)xmmword_52CCE0));
  v19.m128_f32[0] = v19.m128_f32[0] + v16.m128_f32[0];
  v20 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -1)), _mm_and_ps(v16, (__m128)xmmword_52CCF0));
  if ( a1 & 0xF )
  {
    _mm_storel_ps((double *)a1, v19);
    _mm_storeh_ps((double *)(a1 + 8), v19);
    _mm_storel_ps((double *)(a1 + 16), v17);
    _mm_storeh_ps((double *)(a1 + 24), v17);
    _mm_storel_ps((double *)(a1 + 32), v18);
    _mm_storeh_ps((double *)(a1 + 40), v18);
    _mm_storel_ps((double *)(a1 + 48), v20);
    _mm_storeh_ps((double *)(a1 + 56), v20);
  }
  else
  {
    *(__m128 *)a1 = v19;
    *(__m128 *)(a1 + 16) = v17;
    *(__m128 *)(a1 + 32) = v18;
    *(__m128 *)(a1 + 48) = v20;
  }
  return result;
}
// 52CCC0: using guessed type __int128 xmmword_52CCC0;
// 52CCD0: using guessed type __int128 xmmword_52CCD0;
// 52CCE0: using guessed type __int128 xmmword_52CCE0;
// 52CCF0: using guessed type __int128 xmmword_52CCF0;
// 52CD00: using guessed type __int128 xmmword_52CD00;
// 5393D0: using guessed type __int128 xmmword_5393D0;
// 5393E0: using guessed type __int128 xmmword_5393E0;
// 5393F0: using guessed type int dword_5393F0;

//----- (0045EA47) --------------------------------------------------------
int __stdcall sub_45EA47(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm5@4
  __m128 v21; // xmm6@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  __m128 v26; // xmm2@4
  __m128 v27; // xmm3@4
  unsigned int v29; // [sp+14h] [bp-11Ch]@3
  int v30; // [sp+14h] [bp-11Ch]@8
  int v31; // [sp+1Ch] [bp-114h]@1
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+60h] [bp-D0h]@4
  __m128 v36; // [sp+70h] [bp-C0h]@4
  __m128 v37; // [sp+80h] [bp-B0h]@4
  __m128 v38; // [sp+90h] [bp-A0h]@4
  __m128 v39; // [sp+A0h] [bp-90h]@4
  __m128 v40; // [sp+B0h] [bp-80h]@4
  __m128 v41; // [sp+C0h] [bp-70h]@4
  __m128 v42; // [sp+D0h] [bp-60h]@4
  __m128 v43; // [sp+E0h] [bp-50h]@4
  __m128 v44; // [sp+F0h] [bp-40h]@4
  __m128 v45; // [sp+100h] [bp-30h]@4
  __m128 v46; // [sp+110h] [bp-20h]@4
  __m128 v47; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v31 = v8;
  if ( v9 && (sub_45BFC3((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v29 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v32), _mm_mul_ps(v17, v36)), _mm_mul_ps(v18, v40)), v44);
      v20 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v33), _mm_mul_ps(v17, v37)), _mm_mul_ps(v18, v41)), v45);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v34), _mm_mul_ps(v17, v38)), _mm_mul_ps(v18, v42));
      v22 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v35), _mm_mul_ps(v17, v39)), _mm_mul_ps(v18, v43)), v47);
      v23 = _mm_add_ps(v21, v46);
      v24 = _mm_unpacklo_ps(v19, v20);
      _mm_storel_ps((double *)v6, v24);
      v25 = _mm_unpacklo_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 128), v25);
      _mm_storeh_ps((double *)(v6 + a2), v24);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v25);
      v26 = _mm_unpackhi_ps(v19, v20);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      v27 = _mm_unpackhi_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v27);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v27);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v29;
    }
    while ( v29 );
  }
  else
  {
    v11 = a3;
  }
  if ( v31 )
  {
    v30 = v31;
    do
    {
      sub_45FC2A((__m128 *)v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v30;
    }
    while ( v30 );
  }
  return a1;
}

//----- (0045EC4D) --------------------------------------------------------
int __stdcall sub_45EC4D(int a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  int v6; // esi@1
  unsigned int v7; // ebx@1
  int v8; // eax@1
  unsigned int v9; // ebx@1
  char *v10; // ebx@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm3@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm4@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm5@4
  __m128 v22; // xmm0@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm1@4
  __m128 v25; // xmm2@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+50h] [bp-E0h]@4
  __m128 v33; // [sp+60h] [bp-D0h]@4
  __m128 v34; // [sp+70h] [bp-C0h]@4
  __m128 v35; // [sp+80h] [bp-B0h]@4
  __m128 v36; // [sp+90h] [bp-A0h]@4
  __m128 v37; // [sp+A0h] [bp-90h]@4
  __m128 v38; // [sp+F0h] [bp-40h]@4
  __m128 v39; // [sp+100h] [bp-30h]@4
  __m128 v40; // [sp+110h] [bp-20h]@4
  __m128 v41; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_45BFC3((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v16;
      v18 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v30), _mm_mul_ps(v16, v34)), v38);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v31), _mm_mul_ps(v17, v35)), v39);
      v20 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v32), _mm_mul_ps(v17, v36)), v40);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v33), _mm_mul_ps(v17, v37)), v41);
      v22 = _mm_unpacklo_ps(v18, v19);
      _mm_storel_ps((double *)v6, v22);
      v23 = _mm_unpacklo_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 128), v23);
      _mm_storeh_ps((double *)(v6 + a2), v22);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v23);
      v24 = _mm_unpackhi_ps(v18, v19);
      _mm_storel_ps((double *)(v6 + 2 * a2), v24);
      v25 = _mm_unpackhi_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v25);
      _mm_storeh_ps((double *)(3 * a2 + v6), v24);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v25);
      v10 += 4 * a4;
      v6 += 4 * a2;
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_444CE0(v6, v10, a5);
      v10 += a4;
      v6 += a2;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 444CE0: using guessed type int __stdcall sub_444CE0(_DWORD, _DWORD, _DWORD);

//----- (0045EDDB) --------------------------------------------------------
double *__stdcall sub_45EDDB(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __m128 v13; // xmm0@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm4@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm2@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm1@4
  __m128 v23; // xmm2@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+60h] [bp-D0h]@4
  __m128 v33; // [sp+70h] [bp-C0h]@4
  __m128 v34; // [sp+80h] [bp-B0h]@4
  __m128 v35; // [sp+A0h] [bp-90h]@4
  __m128 v36; // [sp+F0h] [bp-40h]@4
  __m128 v37; // [sp+100h] [bp-30h]@4
  __m128 v38; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_45BFC3((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = v12;
      v14 = *(_QWORD *)&v10[2 * a4];
      v15 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v16 = _mm_shuffle_ps(v12, v15, -35);
      v17 = v16;
      v18 = _mm_shuffle_ps(v13, v15, -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v32), _mm_mul_ps(v16, v35)), v38);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v30), _mm_mul_ps(v17, v33)), v36), v21);
      v23 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v31), _mm_mul_ps(v17, v34)), v37), v21);
      v24 = _mm_unpacklo_ps(v22, v23);
      _mm_storel_ps(v6, v24);
      _mm_storeh_ps((double *)((char *)v6 + a2), v24);
      v25 = _mm_unpackhi_ps(v22, v23);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v25);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v25);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_444D04(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 444D04: using guessed type int __stdcall sub_444D04(_DWORD, _DWORD, _DWORD);

//----- (0045EF41) --------------------------------------------------------
double *__stdcall sub_45EF41(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm3@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm1@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm1@4
  unsigned int v23; // [sp+14h] [bp-11Ch]@3
  int v24; // [sp+14h] [bp-11Ch]@8
  int v25; // [sp+1Ch] [bp-114h]@1
  __m128 v26; // [sp+30h] [bp-100h]@2
  __m128 v27; // [sp+40h] [bp-F0h]@4
  __m128 v28; // [sp+70h] [bp-C0h]@4
  __m128 v29; // [sp+80h] [bp-B0h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v25 = v8;
  if ( v9 && (sub_45BFC3((int)&v26, a5), v9) )
  {
    v23 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -35);
      v16 = _mm_shuffle_ps(v12, v14, -120);
      v17 = _mm_mul_ps(v16, v26);
      v18 = _mm_add_ps(_mm_mul_ps(v16, v27), _mm_mul_ps(v15, v29));
      v19 = _mm_add_ps(v17, _mm_mul_ps(v15, v28));
      v20 = _mm_unpacklo_ps(v19, v18);
      _mm_storel_ps(v6, v20);
      _mm_storeh_ps((double *)((char *)v6 + a2), v20);
      v21 = _mm_unpackhi_ps(v19, v18);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v21);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v21);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v23;
    }
    while ( v23 );
  }
  else
  {
    v10 = a3;
  }
  if ( v25 )
  {
    v24 = v25;
    do
    {
      sub_444D28(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v24;
    }
    while ( v24 );
  }
  return a1;
}
// 444D28: using guessed type int __stdcall sub_444D28(_DWORD, _DWORD, _DWORD);

//----- (0045F051) --------------------------------------------------------
int __stdcall sub_45F051(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  __m128 *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm3@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  unsigned __int64 v17; // rt1@4
  __m128 v18; // xmm3@4
  __int64 v19; // rt1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm4@4
  __m128 v22; // xmm3@4
  __m128 v23; // xmm2@4
  __m128 v24; // ST2C_16@4
  __m128 v25; // xmm3@4
  __m128 v26; // ST3C_16@4
  __m128 v27; // xmm4@4
  __m128 v28; // xmm2@4
  __m128 v29; // xmm0@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm3@4
  __m128 v32; // xmm1@4
  __m128 v33; // xmm4@4
  unsigned int v35; // [sp+14h] [bp-12Ch]@3
  int v36; // [sp+14h] [bp-12Ch]@8
  int v37; // [sp+1Ch] [bp-124h]@1
  __m128 v38; // [sp+40h] [bp-100h]@2
  __m128 v39; // [sp+50h] [bp-F0h]@4
  __m128 v40; // [sp+60h] [bp-E0h]@4
  __m128 v41; // [sp+70h] [bp-D0h]@4
  __m128 v42; // [sp+80h] [bp-C0h]@4
  __m128 v43; // [sp+90h] [bp-B0h]@4
  __m128 v44; // [sp+A0h] [bp-A0h]@4
  __m128 v45; // [sp+B0h] [bp-90h]@4
  __m128 v46; // [sp+C0h] [bp-80h]@4
  __m128 v47; // [sp+D0h] [bp-70h]@4
  __m128 v48; // [sp+E0h] [bp-60h]@4
  __m128 v49; // [sp+F0h] [bp-50h]@4
  __m128 v50; // [sp+100h] [bp-40h]@4
  __m128 v51; // [sp+110h] [bp-30h]@4
  __m128 v52; // [sp+120h] [bp-20h]@4
  __m128 v53; // [sp+130h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v37 = v8;
  if ( v9 && (sub_45BFC3((int)&v38, a5), v9) )
  {
    v35 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)&v10->m128_i32[0];
      v12 = _mm_loadh_ps((const double *)((char *)v10 + a4));
      v13 = *(_QWORD *)((char *)v10->m128_i32 + 2 * a4);
      v14 = _mm_loadh_ps((const double *)((char *)v10 + 3 * a4));
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v10[8].m128_u64[0];
      v18 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + a4));
      v19 = *(_QWORD *)((char *)&v10->m128_i32[2] + 2 * a4);
      v20 = v18;
      v21 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + 3 * a4));
      v22 = _mm_shuffle_ps(v18, v21, -35);
      v23 = _mm_shuffle_ps(v20, v21, -120);
      v24 = v22;
      v25 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v38), _mm_mul_ps(v16, v42)), _mm_mul_ps(v23, v46)),
              _mm_mul_ps(v22, v50));
      v26 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v39), _mm_mul_ps(v16, v43)), _mm_mul_ps(v23, v47)),
              _mm_mul_ps(v24, v51));
      v27 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v40), _mm_mul_ps(v16, v44)), _mm_mul_ps(v23, v48)),
              _mm_mul_ps(v24, v52));
      v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v41), _mm_mul_ps(v16, v45)), _mm_mul_ps(v23, v49));
      v29 = _mm_unpacklo_ps(v25, v26);
      v30 = _mm_add_ps(v28, _mm_mul_ps(v24, v53));
      v31 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)v6, v29);
      v32 = _mm_unpacklo_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 128), v32);
      _mm_storeh_ps((double *)(v6 + a2), v29);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v32);
      _mm_storel_ps((double *)(v6 + 2 * a2), v31);
      v33 = _mm_unpackhi_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v33);
      _mm_storeh_ps((double *)(3 * a2 + v6), v31);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v33);
      v10 = (__m128 *)((char *)v10 + 4 * a4);
      v6 += 4 * a2;
      --v35;
    }
    while ( v35 );
  }
  else
  {
    v10 = a3;
  }
  if ( v37 )
  {
    v36 = v37;
    do
    {
      sub_45D5A8((__m128 *)v6, v10, a5);
      v6 += a2;
      v10 = (__m128 *)((char *)v10 + a4);
      --v36;
    }
    while ( v36 );
  }
  return a1;
}

//----- (0045F28F) --------------------------------------------------------
int __stdcall sub_45F28F(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm3@4
  __m128 v17; // xmm0@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm6@4
  __m128 v21; // xmm0@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm1@4
  __m128 v24; // xmm3@4
  __m128 v25; // xmm0@4
  __m128 v26; // xmm2@4
  unsigned int v28; // [sp+14h] [bp-11Ch]@3
  int v29; // [sp+14h] [bp-11Ch]@8
  int v30; // [sp+1Ch] [bp-114h]@1
  __m128 v31; // [sp+20h] [bp-110h]@0
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+70h] [bp-C0h]@4
  __m128 v36; // [sp+80h] [bp-B0h]@4
  __m128 v37; // [sp+90h] [bp-A0h]@4
  __m128 v38; // [sp+B0h] [bp-80h]@4
  __m128 v39; // [sp+C0h] [bp-70h]@4
  __m128 v40; // [sp+D0h] [bp-60h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v30 = v8;
  if ( v9 && (sub_45BFC3((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v28 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -35);
      v17 = _mm_shuffle_ps(v13, v15, -120);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v32), _mm_mul_ps(v16, v35)), _mm_mul_ps(v18, v38));
      v20 = v17;
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v34), _mm_mul_ps(v16, v37)), _mm_mul_ps(v18, v40));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v33), _mm_mul_ps(v16, v36)), _mm_mul_ps(v18, v39));
      v23 = _mm_unpacklo_ps(v19, v22);
      _mm_storel_ps((double *)v6, v23);
      _mm_storeh_ps((double *)(v6 + a2), v23);
      v24 = _mm_unpacklo_ps(v21, v31);
      v25 = _mm_unpackhi_ps(v21, v31);
      *(_DWORD *)(v6 + 96) = v24.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v24, v24);
      v26 = _mm_unpackhi_ps(v19, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v25.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v25, v25);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v28;
    }
    while ( v28 );
  }
  else
  {
    v11 = a3;
  }
  if ( v30 )
  {
    v29 = v30;
    do
    {
      sub_45E35F(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v29;
    }
    while ( v29 );
  }
  return a1;
}

//----- (0045F45F) --------------------------------------------------------
int __stdcall sub_45F45F(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm6@4
  __m128 v23; // xmm7@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm2@4
  __m128 v26; // xmm5@4
  __m128 v27; // xmm1@4
  __m128 v28; // xmm0@4
  __m128 v29; // xmm4@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm0@4
  unsigned int v33; // [sp+14h] [bp-11Ch]@3
  int v34; // [sp+14h] [bp-11Ch]@8
  int v35; // [sp+1Ch] [bp-114h]@1
  __m128 v36; // [sp+30h] [bp-100h]@2
  __m128 v37; // [sp+40h] [bp-F0h]@4
  __m128 v38; // [sp+50h] [bp-E0h]@4
  __m128 v39; // [sp+60h] [bp-D0h]@4
  __m128 v40; // [sp+70h] [bp-C0h]@4
  __m128 v41; // [sp+80h] [bp-B0h]@4
  __m128 v42; // [sp+90h] [bp-A0h]@4
  __m128 v43; // [sp+A0h] [bp-90h]@4
  __m128 v44; // [sp+B0h] [bp-80h]@4
  __m128 v45; // [sp+C0h] [bp-70h]@4
  __m128 v46; // [sp+D0h] [bp-60h]@4
  __m128 v47; // [sp+E0h] [bp-50h]@4
  __m128 v48; // [sp+F0h] [bp-40h]@4
  __m128 v49; // [sp+100h] [bp-30h]@4
  __m128 v50; // [sp+110h] [bp-20h]@4
  __m128 v51; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v35 = v8;
  if ( v9 && (sub_45BFC3((int)&v36, a5), v10 = 3 * a4, v9) )
  {
    v33 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v39), _mm_mul_ps(v17, v43)), _mm_mul_ps(v18, v47)), v51);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v36), _mm_mul_ps(v17, v40)), _mm_mul_ps(v18, v44));
      v23 = _mm_mul_ps(v16, v37);
      v24 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v38), _mm_mul_ps(v17, v42)), _mm_mul_ps(v18, v46)), v50);
      v25 = _mm_mul_ps(_mm_add_ps(v22, v48), v21);
      v26 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_add_ps(v23, _mm_mul_ps(v17, v41)), _mm_mul_ps(v18, v45)), v49), v21);
      v27 = _mm_unpacklo_ps(v25, v26);
      v28 = _mm_mul_ps(v24, v21);
      _mm_storel_ps((double *)v6, v27);
      v29 = _mm_unpacklo_ps(v28, v21);
      _mm_storeh_ps((double *)(v6 + a2), v27);
      *(_DWORD *)(v6 + 96) = v29.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v29, v29);
      v30 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)(v6 + 2 * a2), v30);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v30);
      v31 = _mm_unpackhi_ps(v28, v21);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v31.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v31, v31);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v33;
    }
    while ( v33 );
  }
  else
  {
    v11 = a3;
  }
  if ( v35 )
  {
    v34 = v35;
    do
    {
      sub_45E434(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v34;
    }
    while ( v34 );
  }
  return a1;
}

//----- (0045F690) --------------------------------------------------------
void sub_45F690()
{
  ;
}

//----- (0045F781) --------------------------------------------------------
int __userpurge sub_45F781@<eax>(__m128 a1@<xmm3>, int a2, int a3, unsigned int a4)
{
  unsigned int v4; // esi@2
  int v5; // eax@2
  __int64 v6; // rt1@3
  __m128 v7; // xmm0@3
  double *v8; // ecx@3
  int v9; // edx@3
  unsigned int v10; // ebx@5
  unsigned int v11; // edx@6
  int v13; // [sp+10h] [bp-8h]@1

  v13 = a2;
  if ( a4 >= 8 )
  {
    v4 = a4 & 0xFFFFFFF8;
    v5 = a3;
    do
    {
      v6 = *(_QWORD *)v5;
      v7 = _mm_loadh_ps((const double *)(v5 + 8));
      sub_45F690();
      _mm_storel_ps(v8, v7);
      _mm_storeh_ps(v8 + 1, v7);
      _mm_storel_ps(v8 + 2, a1);
      _mm_storeh_ps(v8 + 3, a1);
    }
    while ( v9 != 8 );
    a4 -= v4;
    a3 += 2 * v4;
    a2 += 4 * v4;
  }
  v10 = 0;
  if ( a4 )
  {
    do
    {
      v11 = *(_WORD *)(a3 + 2 * v10) & 0x7C00;
      if ( v11 <= 0x400 )
        v11 = 1024;
      *(float *)(a2 + 4 * v10) = (double)(*(_WORD *)(a3 + 2 * v10) & 0x3FF | ((*(_WORD *)(a3 + 2 * v10) & 0x7C00) != 0 ? 0x400 : 0))
                               * COERCE_FLOAT(((unsigned __int16)(*(_WORD *)(a3 + 2 * v10) & 0x8000) << 16) | ((v11 + 104448) << 13));
      ++v10;
    }
    while ( v10 < a4 );
  }
  return v13;
}

//----- (0045F853) --------------------------------------------------------
__m128 *__stdcall sub_45F853(__m128 *a1, int a2, int a3, int a4)
{
  __int64 v4; // rt1@1
  __m128 v5; // xmm7@1
  __int64 v6; // rt1@1
  __m128 v7; // xmm0@1
  __int64 v8; // rt1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm2@1
  __m128 *result; // eax@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // ST00_16@1
  __m128 v16; // xmm4@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm1@1

  v4 = *(_QWORD *)a2;
  v5 = _mm_loadh_ps((const double *)(a2 + 8));
  v6 = *(_QWORD *)a3;
  v7 = _mm_loadh_ps((const double *)(a3 + 8));
  v8 = *(_QWORD *)a4;
  v9 = _mm_shuffle_ps(v7, v7, 57);
  v10 = _mm_loadh_ps((const double *)(a4 + 8));
  result = a1;
  v12 = _mm_mul_ps(v9, v10);
  v13 = _mm_shuffle_ps(v10, v10, 78);
  v14 = _mm_mul_ps(v9, v13);
  v15 = _mm_mul_ps(v9, _mm_shuffle_ps(v13, v13, 57));
  v16 = _mm_sub_ps(_mm_shuffle_ps(v14, v14, 57), _mm_shuffle_ps(v12, v12, 78));
  v17 = _mm_shuffle_ps(v12, v12, 57);
  v18 = _mm_shuffle_ps(v5, v5, 57);
  v19 = _mm_shuffle_ps(v18, v18, 57);
  *a1 = _mm_xor_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(v18, v16), _mm_mul_ps(v19, _mm_sub_ps(_mm_shuffle_ps(v15, v15, 78), v15))),
            _mm_mul_ps(_mm_shuffle_ps(v19, v19, 57), _mm_sub_ps(v14, v17))),
          (__m128)xmmword_52CD80);
  return result;
}
// 52CD80: using guessed type __int128 xmmword_52CD80;

//----- (0045F913) --------------------------------------------------------
double __stdcall sub_45F913(int a1)
{
  __m128 v1; // xmm7@2
  __m128 v2; // xmm2@2
  __m128 v3; // xmm0@2
  __int64 v4; // rt1@3
  __int64 v5; // rt1@3
  __int64 v6; // rt1@3
  __int64 v7; // rt1@3
  __m128 v8; // xmm0@4
  __m128 v9; // xmm1@4
  __m128 v10; // xmm2@4
  __m128 v11; // xmm3@4
  __m128 v12; // xmm4@4
  __m128 v13; // xmm5@4
  __m128 v14; // xmm0@4
  __m128 v15; // xmm1@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm0@4
  __m128 v20; // [sp+10h] [bp-20h]@2
  __m128 v21; // [sp+20h] [bp-10h]@4

  if ( a1 & 0xF )
  {
    v4 = *(_QWORD *)a1;
    v5 = *(_QWORD *)(a1 + 16);
    v1 = _mm_loadh_ps((const double *)(a1 + 24));
    v20 = _mm_loadh_ps((const double *)(a1 + 8));
    v6 = *(_QWORD *)(a1 + 32);
    v3 = _mm_loadh_ps((const double *)(a1 + 40));
    v7 = *(_QWORD *)(a1 + 48);
    v2 = _mm_loadh_ps((const double *)(a1 + 56));
  }
  else
  {
    v1 = *(__m128 *)(a1 + 16);
    v2 = *(__m128 *)(a1 + 48);
    v20 = *(__m128 *)a1;
    v3 = *(__m128 *)(a1 + 32);
  }
  v8 = _mm_shuffle_ps(v3, v3, 57);
  v9 = _mm_mul_ps(v8, v2);
  v10 = _mm_shuffle_ps(v2, v2, 78);
  v11 = _mm_mul_ps(v8, v10);
  v21 = _mm_mul_ps(v8, _mm_shuffle_ps(v10, v10, 57));
  v12 = _mm_sub_ps(_mm_shuffle_ps(v11, v11, 57), _mm_shuffle_ps(v9, v9, 78));
  v13 = _mm_shuffle_ps(v9, v9, 57);
  v14 = _mm_shuffle_ps(v1, v1, 57);
  v15 = _mm_shuffle_ps(v14, v14, 57);
  v16 = _mm_mul_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(v14, v12), _mm_mul_ps(v15, _mm_sub_ps(_mm_shuffle_ps(v21, v21, 78), v21))),
            _mm_mul_ps(_mm_shuffle_ps(v15, v15, 57), _mm_sub_ps(v11, v13))),
          v20);
  v17 = _mm_add_ps(v16, _mm_movehl_ps(v16, v16));
  return (float)(v17.m128_f32[0] - COERCE_FLOAT(_mm_shuffle_ps(v17, v17, 1)));
}

//----- (0045FA1E) --------------------------------------------------------
__m128 *__stdcall sub_45FA1E(__m128 *a1, int a2, int a3, int a4)
{
  int v4; // et1@1
  __m128 v5; // xmm2@1
  int v6; // et1@1
  __m128 v7; // xmm0@1
  int v8; // et1@1
  __m128 *result; // eax@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm1@1
  float v14; // xmm3_4@1
  float v15; // xmm5_4@1
  __int128 v16; // xmm4@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm0@1

  v4 = *(_DWORD *)(a2 + 8);
  v5 = _mm_loadh_ps((const double *)a2);
  v6 = *(_DWORD *)(a3 + 8);
  v7 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a3));
  v8 = *(_DWORD *)(a4 + 8);
  result = a1;
  v10 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a4));
  v11 = _mm_sub_ps(
          _mm_mul_ps(_mm_shuffle_ps(v10, v10, 120), _mm_shuffle_ps(v7, v7, 99)),
          _mm_mul_ps(_mm_shuffle_ps(v7, v7, 120), _mm_shuffle_ps(v10, v10, 99)));
  v12 = _mm_mul_ps(v11, v11);
  v13 = _mm_add_ps(v12, _mm_movehl_ps(v12, v12));
  v13.m128_f32[0] = v13.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v13, v13, 1));
  v14 = 1.0 / fsqrt(v13.m128_f32[0]);
  v15 = *(float *)&xmmword_52CDB0 - (float)((float)(v13.m128_f32[0] * v14) * v14);
  v16 = xmmword_52CDA0;
  *(float *)&v16 = *(float *)&xmmword_52CDA0 * v14;
  v17 = (__m128)v16;
  v17.m128_f32[0] = *(float *)&v16 * v15;
  v18 = _mm_mul_ps(v11, _mm_shuffle_ps(v17, v17, 0));
  *a1 = v18;
  v19 = _mm_mul_ps(v18, _mm_shuffle_ps(v5, v5, 14));
  v19.m128_f32[0] = v19.m128_f32[0]
                  + (float)(COERCE_FLOAT(_mm_movehl_ps(v13, v19)) + COERCE_FLOAT(_mm_shuffle_ps(v19, v19, 85)));
  a1->m128_i32[3] = (unsigned __int128)_mm_xor_ps(v19, (__m128)xmmword_52CD90);
  return result;
}
// 52CD90: using guessed type __int128 xmmword_52CD90;
// 52CDA0: using guessed type __int128 xmmword_52CDA0;
// 52CDB0: using guessed type __int128 xmmword_52CDB0;

//----- (0045FB1E) --------------------------------------------------------
int __stdcall sub_45FB1E(int a1, int a2)
{
  __int64 v2; // rt1@1
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  float v7; // xmm2_4@1
  float v8; // xmm3_4@1
  __m128 v9; // xmm0@1
  int result; // eax@1
  __m128 v11; // xmm1@1
  __m128 v12; // xmm0@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm4@1

  v2 = *(_QWORD *)(a2 + 8);
  v3 = _mm_loadl_ps((const double *)a2);
  v4 = _mm_and_ps(v3, (__m128)xmmword_52CE30);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v6, v6, 1));
  v7 = 1.0 / fsqrt(v6.m128_f32[0]);
  v8 = unk_52CE20 - (float)((float)(v6.m128_f32[0] * v7) * v7);
  v9 = (__m128)dword_52CE10[0];
  result = a1;
  v9.m128_f32[0] = (float)(*(float *)dword_52CE10 * v7) * v8;
  v11 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  v12 = _mm_mul_ps((__m128)xmmword_52CDF0, v11);
  v13 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 85)), (__m128)xmmword_52CE00);
  v14 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -86)), (__m128)xmmword_52CDE0);
  v15 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -1)), (__m128)xmmword_52CDD0);
  *(__m128 *)a1 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 0)), (__m128)xmmword_52CDC0);
  *(__m128 *)(a1 + 16) = v13;
  *(__m128 *)(a1 + 32) = v14;
  *(__m128 *)(a1 + 48) = v15;
  return result;
}
// 52CDC0: using guessed type __int128 xmmword_52CDC0;
// 52CDD0: using guessed type __int128 xmmword_52CDD0;
// 52CDE0: using guessed type __int128 xmmword_52CDE0;
// 52CDF0: using guessed type __int128 xmmword_52CDF0;
// 52CE00: using guessed type __int128 xmmword_52CE00;
// 52CE30: using guessed type __int128 xmmword_52CE30;

//----- (0045FC2A) --------------------------------------------------------
__m128 *__stdcall sub_45FC2A(__m128 *a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  unsigned int v4; // ecx@1
  __m128 v5; // xmm3@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm1@2
  __m128 v8; // xmm0@2
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  __int64 v11; // rt1@3
  __int64 v12; // rt1@3
  __m128 *result; // eax@4

  v3 = _mm_loadl_ps((const double *)a2);
  v4 = *(_DWORD *)(a2 + 8);
  if ( a3 & 0xF )
  {
    v9 = *(_QWORD *)(a3 + 48);
    v10 = *(_QWORD *)(a3 + 32);
    v5 = _mm_add_ps(
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)),
           _mm_loadh_ps((const double *)(a3 + 56)));
    v11 = *(_QWORD *)(a3 + 16);
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v12 = *(_QWORD *)a3;
    v8 = _mm_loadh_ps((const double *)(a3 + 8));
  }
  else
  {
    v5 = _mm_add_ps(_mm_mul_ps(*(__m128 *)(a3 + 32), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)), *(__m128 *)(a3 + 48));
    v6 = _mm_mul_ps(*(__m128 *)(a3 + 16), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v8 = *(__m128 *)a3;
  }
  result = a1;
  *a1 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v8, v7), v6), v5);
  return result;
}

//----- (0045FCFE) --------------------------------------------------------
int __stdcall sub_45FCFE(int a1, int a2)
{
  float v2; // xmm2_4@1
  float v3; // xmm3_4@1
  float v4; // xmm4_4@1
  signed int v5; // ecx@1
  float v6; // xmm0_4@1
  int result; // eax@3
  bool v8; // zf@3
  float *v9; // ecx@3
  float v10; // xmm0_4@4
  float v11; // xmm1_4@5
  float v12; // xmm0_4@5

  v2 = *(float *)a2;
  v3 = *(float *)(a2 + 4);
  v4 = *(float *)(a2 + 8);
  v5 = 0;
  v6 = (float)((float)(v2 * v2) + (float)(v3 * v3)) + (float)(v4 * v4);
  if ( v6 < 1.4210855e-14 )
    v5 = 1;
  result = a1;
  v8 = v5 == 0;
  v9 = (float *)(a1 + 4);
  if ( v8 )
  {
    v11 = 1.0 / fsqrt(v6);
    v12 = (float)(0.5 * v11) * (float)(3.0 - (float)((float)(v6 * v11) * v11));
    *(float *)a1 = v12 * v2;
    *v9 = v12 * v3;
    v10 = v12 * v4;
  }
  else
  {
    v10 = 0.0;
    *(_DWORD *)a1 = 0;
    *(_DWORD *)v9 = 0;
  }
  *(float *)(a1 + 8) = v10;
  return result;
}

//----- (0045FDEE) --------------------------------------------------------
int __stdcall sub_45FDEE(int a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm4@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm3@1
  signed int v7; // edx@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm2@5
  float v10; // xmm0_4@8
  float v11; // ST10_4@10
  int result; // eax@11
  __m128 v13; // xmm0@11
  __m128 v14; // xmm0@11
  __m128 v15; // xmm1@11
  __m128 v16; // xmm0@11
  __m128 v17; // xmm4@11
  __m128 v18; // xmm5@11
  __m128 v19; // xmm3@11
  __m128 v20; // xmm2@11
  __m128 v21; // [sp+10h] [bp-10h]@0

  v3 = *a3;
  v4 = _mm_and_ps(*a3, (__m128)xmmword_52CE80);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v21, v5));
  v8 = _mm_shuffle_ps(v6, v6, 1);
  v7 = 0;
  v8.m128_f32[0] = v8.m128_f32[0] + v6.m128_f32[0];
  if ( v8.m128_f32[0] == COERCE_FLOAT(_mm_xor_ps(v21, v21)) )
    v7 = 1;
  if ( v7 != 1 )
  {
    if ( dword_5393F0 & 1 )
    {
      v9 = (__m128)xmmword_5393E0;
    }
    else
    {
      dword_5393F0 |= 1u;
      v9 = (__m128)1056964608i64;
      xmmword_5393E0 = 1056964608i64;
    }
    if ( dword_5393F0 & 2 )
    {
      v10 = *(float *)&xmmword_5393D0;
    }
    else
    {
      dword_5393F0 |= 2u;
      v10 = 3.0;
      xmmword_5393D0 = 1077936128i64;
    }
    v11 = 1.0 / fsqrt(v8.m128_f32[0]);
    v9.m128_f32[0] = (float)(v9.m128_f32[0] * v11) * (float)(v10 - (float)((float)(v8.m128_f32[0] * v11) * v11));
    v8 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  }
  result = a1;
  v13 = _mm_mul_ps(v8, *a2);
  v14 = _mm_add_ps(v13, _mm_movehl_ps(v6, v13));
  v14.m128_f32[0] = v14.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v14, v14, 1));
  v15 = _mm_xor_ps(v8, (__m128)xmmword_52CE40);
  v16 = _mm_shuffle_ps(v14, v14, 0);
  v19 = _mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 0));
  v17 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 85)), _mm_and_ps(v16, (__m128)xmmword_52CE50));
  v18 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -86)), _mm_and_ps(v16, (__m128)xmmword_52CE60));
  v19.m128_f32[0] = v19.m128_f32[0] + v16.m128_f32[0];
  v20 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -1)), _mm_and_ps(v16, (__m128)xmmword_52CE70));
  if ( a1 & 0xF )
  {
    _mm_storel_ps((double *)a1, v19);
    _mm_storeh_ps((double *)(a1 + 8), v19);
    _mm_storel_ps((double *)(a1 + 16), v17);
    _mm_storeh_ps((double *)(a1 + 24), v17);
    _mm_storel_ps((double *)(a1 + 32), v18);
    _mm_storeh_ps((double *)(a1 + 40), v18);
    _mm_storel_ps((double *)(a1 + 48), v20);
    _mm_storeh_ps((double *)(a1 + 56), v20);
  }
  else
  {
    *(__m128 *)a1 = v19;
    *(__m128 *)(a1 + 16) = v17;
    *(__m128 *)(a1 + 32) = v18;
    *(__m128 *)(a1 + 48) = v20;
  }
  return result;
}
// 52CE40: using guessed type __int128 xmmword_52CE40;
// 52CE50: using guessed type __int128 xmmword_52CE50;
// 52CE60: using guessed type __int128 xmmword_52CE60;
// 52CE70: using guessed type __int128 xmmword_52CE70;
// 52CE80: using guessed type __int128 xmmword_52CE80;
// 5393D0: using guessed type __int128 xmmword_5393D0;
// 5393E0: using guessed type __int128 xmmword_5393E0;
// 5393F0: using guessed type int dword_5393F0;

//----- (0045FFB5) --------------------------------------------------------
__m128 *__stdcall sub_45FFB5(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  __m128 v4; // xmm1@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1
  __m128 v8; // xmm0@1
  __m128 *result; // eax@1
  __m128 v10; // [sp+0h] [bp-20h]@1
  __m128 v11; // [sp+10h] [bp-10h]@1

  v10.m128_u64[0] = __PAIR__(a3, a4);
  v10.m128_u64[1] = a2;
  v10 = _mm_mul_ps(v10, unk_4BE4A0);
  sub_471E49((__m128i *)&v10, &v10, &v11);
  v4 = _mm_shuffle_ps(v10, v11, -103);
  v5 = _mm_shuffle_ps(v10, v11, 0);
  v6 = _mm_shuffle_ps(v4, v4, -9);
  v7 = _mm_shuffle_ps(v4, v4, -88);
  v8 = _mm_shuffle_ps(v5, v5, -118);
  result = a1;
  *a1 = _mm_add_ps(
          _mm_mul_ps(_mm_mul_ps(v8, v6), v7),
          _mm_xor_ps(_mm_mul_ps(_mm_mul_ps(v8, _mm_shuffle_ps(v6, v6, 81)), _mm_shuffle_ps(v7, v7, 1)), unk_4BE490));
  return result;
}

//----- (00460077) --------------------------------------------------------
int __stdcall sub_460077(int a1, int a2)
{
  int v2; // ecx@1
  double v3; // st7@1
  int result; // eax@2
  long double v5; // st7@2
  long double v6; // st7@2
  double v7; // st7@3
  float v8; // eax@3
  signed int v9; // ebx@3
  int v10; // edx@7
  int v11; // edi@7
  unsigned int v12; // esi@7
  double v13; // st7@7
  int v14; // eax@7
  double v15; // st7@7
  long double v16; // st7@7
  long double v17; // st7@7
  double v18; // st6@7
  int v19; // ebx@7
  int v20; // edi@7
  int v21; // edx@7
  int v22; // esi@7
  double v23; // st6@7
  int v24; // edx@7
  int v25; // edi@7
  float v26; // [sp+0h] [bp-14h]@3
  float v27; // [sp+4h] [bp-10h]@3
  float v28; // [sp+8h] [bp-Ch]@3
  int v29; // [sp+Ch] [bp-8h]@7
  int v30; // [sp+10h] [bp-4h]@7
  signed int v31; // [sp+20h] [bp+Ch]@5

  v2 = a2;
  v3 = *(float *)(a2 + 20) + *(float *)a2 + *(float *)(a2 + 40);
  if ( v3 <= 0.0 )
  {
    v7 = *(float *)a2;
    v27 = *(float *)(a2 + 20);
    v8 = *(float *)(a2 + 40);
    v26 = v7;
    v28 = v8;
    v9 = 0;
    if ( v7 < v27 )
      v9 = 1;
    v31 = v9;
    if ( *(&v26 + v9) < (double)v28 )
    {
      v9 = 2;
      v31 = 2;
    }
    v10 = 4 * v9;
    v11 = dword_4BE4B0[v9];
    v12 = 4 * dword_4BE4B0[v9];
    v13 = *(&v26 + v9) - *(&v26 + dword_4BE4B0[v9]);
    v14 = dword_4BE4B0[v12 / 4];
    v30 = v14;
    v15 = v13 - *(&v26 + v14);
    result = a1;
    v29 = v11;
    v16 = sqrt(v15 + 1.0) * 0.5;
    *(float *)(v10 + a1) = v16;
    v17 = 0.25 / v16;
    v18 = *(float *)(v2 + 4 * (v12 + v9)) + *(float *)(v2 + 4 * (4 * v9 + v11));
    v19 = 4 * v30 + v31;
    v20 = v30;
    v21 = v30 + v10;
    *(float *)(v12 + a1) = v18 * v17;
    v22 = v20 + v12;
    v23 = *(float *)(v2 + 4 * v19) + *(float *)(v2 + 4 * v21);
    v24 = v20;
    v25 = v29;
    v24 *= 4;
    *(float *)(v24 + a1) = v23 * v17;
    *(float *)(a1 + 12) = (*(float *)(v2 + 4 * v22) - *(float *)(v2 + 4 * (v25 + v24))) * v17;
  }
  else
  {
    result = a1;
    v5 = sqrt(v3 + 1.0) * 0.5;
    *(float *)(a1 + 12) = v5;
    v6 = 0.25 / v5;
    *(float *)a1 = (*(float *)(a2 + 24) - *(float *)(a2 + 36)) * v6;
    *(float *)(a1 + 4) = (*(float *)(a2 + 32) - *(float *)(a2 + 8)) * v6;
    *(float *)(a1 + 8) = (*(float *)(a2 + 4) - *(float *)(a2 + 16)) * v6;
  }
  return result;
}
// 4BE4B0: using guessed type int dword_4BE4B0[];

//----- (004601C0) --------------------------------------------------------
__m128 *__stdcall sub_4601C0(__m128 *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@1
  __m128 *v7; // eax@1
  int v8; // ebx@1
  __m128 v9; // xmm4@2
  __m128 v10; // xmm5@2
  __m128 v11; // xmm6@2
  __m128 v12; // xmm7@2
  __m128 v13; // xmm0@3
  __m128 v14; // xmm1@3
  __m128 v15; // xmm2@3
  __m128 v16; // xmm3@3
  unsigned __int8 v17; // of@3

  v6 = a6;
  v7 = a1;
  v8 = a3;
  if ( a6 > 0 )
  {
    v9 = *(__m128 *)a5;
    v10 = *(__m128 *)(a5 + 16);
    v11 = *(__m128 *)(a5 + 32);
    v12 = *(__m128 *)(a5 + 48);
    do
    {
      v13 = _mm_shuffle_ps((__m128)*(_DWORD *)v8, (__m128)*(_DWORD *)v8, 0);
      v14 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 4), (__m128)*(_DWORD *)(v8 + 4), 0);
      v15 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 8), (__m128)*(_DWORD *)(v8 + 8), 0);
      v16 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 12), (__m128)*(_DWORD *)(v8 + 12), 0);
      v8 += a4;
      *v7 = _mm_add_ps(
              _mm_add_ps(_mm_mul_ps(v13, v9), _mm_mul_ps(v14, v10)),
              _mm_add_ps(_mm_mul_ps(v15, v11), _mm_mul_ps(v16, v12)));
      v7 = (__m128 *)((char *)v7 + a2);
      v17 = __OFSUB__(v6--, 1);
    }
    while ( !((unsigned __int8)((v6 < 0) ^ v17) | (v6 == 0)) );
  }
  return a1;
}

//----- (00460280) --------------------------------------------------------
__m128 *__stdcall sub_460280(__m128 *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@1
  __m128 *v7; // eax@1
  int v8; // ebx@1
  __m128 v9; // xmm4@2
  __m128 v10; // xmm5@2
  __m128 v11; // xmm6@2
  __m128 v12; // xmm7@2
  __m128 v13; // xmm0@3
  __m128 v14; // xmm1@3
  __m128 v15; // xmm2@3
  __m128 v16; // xmm3@3
  unsigned __int8 v17; // of@3

  v6 = a6;
  v7 = a1;
  v8 = a3;
  if ( a6 > 0 )
  {
    v9 = *(__m128 *)a5;
    v10 = *(__m128 *)(a5 + 16);
    v11 = *(__m128 *)(a5 + 32);
    v12 = *(__m128 *)(a5 + 48);
    do
    {
      v13 = _mm_shuffle_ps((__m128)*(_DWORD *)v8, (__m128)*(_DWORD *)v8, 0);
      v14 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 4), (__m128)*(_DWORD *)(v8 + 4), 0);
      v15 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 8), (__m128)*(_DWORD *)(v8 + 8), 0);
      v16 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 12), (__m128)*(_DWORD *)(v8 + 12), 0);
      v8 += a4;
      *v7 = _mm_add_ps(
              _mm_add_ps(_mm_mul_ps(v13, v9), _mm_mul_ps(v14, v10)),
              _mm_add_ps(_mm_mul_ps(v15, v11), _mm_mul_ps(v16, v12)));
      v7 = (__m128 *)((char *)v7 + a2);
      v17 = __OFSUB__(v6--, 1);
    }
    while ( !((unsigned __int8)((v6 < 0) ^ v17) | (v6 == 0)) );
  }
  return a1;
}

//----- (00460340) --------------------------------------------------------
__m64 *__stdcall sub_460340(__m64 *a1, int a2, double *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  __m64 *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  const double *v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  const double *v16; // edx@7
  __m128 v17; // xmm0@7
  __m128 v18; // xmm4@7
  __m128 v19; // xmm1@7
  __m128 v20; // xmm0@7
  __m128 v21; // xmm4@7
  __m128 v22; // xmm1@7
  __m128 v23; // xmm3@7
  __m128 v24; // xmm5@7
  __m128 v25; // xmm0@7
  __m128 v26; // xmm1@7
  __m128 v27; // xmm3@7
  __m128 v28; // xmm5@7
  __m128 v29; // xmm2@7
  __m128 v30; // xmm0@7
  __m128 v31; // xmm4@7
  __m128 v32; // xmm3@7
  __m128 v33; // xmm4@7
  __m128 v34; // xmm2@7
  __m128 *v35; // eax@7
  int v36; // ecx@9
  __m128 v38; // [sp+Ch] [bp-10Ch]@5
  __m128 v39; // [sp+1Ch] [bp-FCh]@5
  __m128 v40; // [sp+2Ch] [bp-ECh]@5
  __m128 v41; // [sp+3Ch] [bp-DCh]@5
  __m128 v42; // [sp+4Ch] [bp-CCh]@5
  __m128 v43; // [sp+5Ch] [bp-BCh]@5
  __m128 v44; // [sp+6Ch] [bp-ACh]@5
  __m128 v45; // [sp+7Ch] [bp-9Ch]@5
  __m128 v46; // [sp+CCh] [bp-4Ch]@5
  __m128 v47; // [sp+DCh] [bp-3Ch]@5
  __m128 v48; // [sp+ECh] [bp-2Ch]@5
  __m128 v49; // [sp+FCh] [bp-1Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v38 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v39 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v40 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 8), (__m128)*(_DWORD *)(a5 + 8), 0);
    v41 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 12), (__m128)*(_DWORD *)(a5 + 12), 0);
    v42 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v43 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v44 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 24), (__m128)*(_DWORD *)(a5 + 24), 0);
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 28), (__m128)*(_DWORD *)(a5 + 28), 0);
    v46 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 48), (__m128)*(_DWORD *)(a5 + 48), 0);
    v47 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 52), (__m128)*(_DWORD *)(a5 + 52), 0);
    v48 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 56), (__m128)*(_DWORD *)(a5 + 56), 0);
    v49 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 60), (__m128)*(_DWORD *)(a5 + 60), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps(v11);
        v15 = _mm_loadl_ps((const double *)((char *)v11 + v12));
        v16 = (const double *)((char *)v11 + 2 * v12);
        v17 = _mm_unpacklo_ps(v14, v15);
        v18 = _mm_unpacklo_ps(_mm_loadl_ps(v16), _mm_loadl_ps((const double *)((char *)v16 + v12)));
        v19 = v17;
        v20 = _mm_movelh_ps(v17, v18);
        v21 = _mm_movehl_ps(v18, v19);
        v11 = (const double *)((char *)v16 + 2 * v12);
        v22 = v20;
        v23 = v20;
        v24 = v20;
        v25 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v38), _mm_mul_ps(v21, v42)), v46);
        v26 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v22, v39), _mm_mul_ps(v21, v43)), v47);
        v27 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v40), _mm_mul_ps(v21, v44)), v48);
        v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v24, v41), _mm_mul_ps(v21, v45)), v49);
        v29 = v25;
        v30 = _mm_unpacklo_ps(v25, v26);
        v31 = v27;
        v32 = _mm_unpacklo_ps(v27, v28);
        v33 = _mm_unpackhi_ps(v31, v28);
        v34 = _mm_unpackhi_ps(v29, v26);
        *(__m128 *)&v7->m64_i32[0] = _mm_movelh_ps(v30, v32);
        *(__m128 *)((char *)v7->m64_i32 + i) = _mm_movehl_ps(v32, v30);
        v35 = (__m128 *)((char *)v7 + 2 * i);
        *v35 = _mm_movelh_ps(v34, v33);
        *(__m128 *)((char *)v35 + i) = _mm_movehl_ps(v33, v34);
        v7 = (__m64 *)((char *)v35 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v36 = v6 - 4;
      v11 = (const double *)((char *)v11 + v36 * v12);
      v7 = (__m64 *)((char *)v7 + v36 * i);
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = (__m64 *)a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (__m64 *)((char *)sub_46703B(v7, v9, v8) + a2);
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (double *)((char *)a3 + a4);
    }
  }
  return a1;
}

//----- (004605A0) --------------------------------------------------------
double *__stdcall sub_4605A0(double *a1, int a2, double *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  double *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  const double *v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  const double *v16; // edx@7
  __m128 v17; // xmm0@7
  __m128 v18; // xmm4@7
  __m128 v19; // xmm1@7
  __m128 v20; // xmm0@7
  __m128 v21; // xmm4@7
  __m128 v22; // xmm1@7
  __m128 v23; // xmm5@7
  __m128 v24; // xmm0@7
  __m128 v25; // xmm1@7
  __m128 v26; // xmm5@7
  __m128 v27; // xmm4@7
  __m128 v28; // xmm4@7
  __m128 v29; // xmm0@7
  __m128 v30; // xmm1@7
  __m128 v31; // xmm2@7
  __m128 v32; // xmm0@7
  __m128 v33; // xmm2@7
  double *v34; // eax@7
  int v35; // ecx@9
  __m128 v37; // [sp+Ch] [bp-10Ch]@5
  __m128 v38; // [sp+1Ch] [bp-FCh]@5
  __m128 v39; // [sp+3Ch] [bp-DCh]@5
  __m128 v40; // [sp+4Ch] [bp-CCh]@5
  __m128 v41; // [sp+5Ch] [bp-BCh]@5
  __m128 v42; // [sp+7Ch] [bp-9Ch]@5
  __m128 v43; // [sp+CCh] [bp-4Ch]@5
  __m128 v44; // [sp+DCh] [bp-3Ch]@5
  __m128 v45; // [sp+FCh] [bp-1Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v37 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v38 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v39 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 12), (__m128)*(_DWORD *)(a5 + 12), 0);
    v40 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v41 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v42 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 28), (__m128)*(_DWORD *)(a5 + 28), 0);
    v43 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 48), (__m128)*(_DWORD *)(a5 + 48), 0);
    v44 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 52), (__m128)*(_DWORD *)(a5 + 52), 0);
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 60), (__m128)*(_DWORD *)(a5 + 60), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps(v11);
        v15 = _mm_loadl_ps((const double *)((char *)v11 + v12));
        v16 = (const double *)((char *)v11 + 2 * v12);
        v17 = _mm_unpacklo_ps(v14, v15);
        v18 = _mm_unpacklo_ps(_mm_loadl_ps(v16), _mm_loadl_ps((const double *)((char *)v16 + v12)));
        v19 = v17;
        v20 = _mm_movelh_ps(v17, v18);
        v21 = _mm_movehl_ps(v18, v19);
        v11 = (const double *)((char *)v16 + 2 * v12);
        v22 = v20;
        v23 = v20;
        v24 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v37), _mm_mul_ps(v21, v40)), v43);
        v25 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v22, v38), _mm_mul_ps(v21, v41)), v44);
        v26 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v39), _mm_mul_ps(v21, v42)), v45);
        v27 = _mm_rcp_ps(v26);
        v28 = _mm_mul_ps(v27, _mm_sub_ps((__m128)xmmword_52CEC0, _mm_mul_ps(v26, v27)));
        v29 = _mm_mul_ps(v24, v28);
        v30 = _mm_mul_ps(v25, v28);
        v31 = v29;
        v32 = _mm_unpacklo_ps(v29, v30);
        v33 = _mm_unpackhi_ps(v31, v30);
        _mm_storel_ps(v7, v32);
        _mm_storel_ps((double *)((char *)v7 + i), _mm_movehl_ps(v32, v32));
        v34 = (double *)((char *)v7 + 2 * i);
        _mm_storel_ps(v34, v33);
        _mm_storel_ps((double *)((char *)v34 + i), _mm_movehl_ps(v33, v33));
        v7 = (double *)((char *)v34 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v35 = v6 - 4;
      v11 = (const double *)((char *)v11 + v35 * v12);
      v7 = (double *)((char *)v7 + v35 * i);
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = (__m64 *)a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (double *)((char *)sub_4670C9((__m64 *)v7, v9, v8)->m64_i32 + a2);
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (double *)((char *)a3 + a4);
    }
  }
  return a1;
}
// 52CEC0: using guessed type __int128 xmmword_52CEC0;

//----- (00460800) --------------------------------------------------------
double *__stdcall sub_460800(double *a1, int a2, double *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  double *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  const double *v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  const double *v16; // edx@7
  __m128 v17; // xmm0@7
  __m128 v18; // xmm4@7
  __m128 v19; // xmm1@7
  __m128 v20; // xmm0@7
  __m128 v21; // xmm4@7
  __m128 v22; // xmm1@7
  __m128 v23; // xmm0@7
  __m128 v24; // xmm1@7
  __m128 v25; // xmm2@7
  __m128 v26; // xmm0@7
  __m128 v27; // xmm2@7
  double *v28; // eax@7
  int v29; // ecx@9
  __m128 v31; // [sp+Ch] [bp-10Ch]@5
  __m128 v32; // [sp+1Ch] [bp-FCh]@5
  __m128 v33; // [sp+4Ch] [bp-CCh]@5
  __m128 v34; // [sp+5Ch] [bp-BCh]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v31 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v32 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v33 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v34 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps(v11);
        v15 = _mm_loadl_ps((const double *)((char *)v11 + v12));
        v16 = (const double *)((char *)v11 + 2 * v12);
        v17 = _mm_unpacklo_ps(v14, v15);
        v18 = _mm_unpacklo_ps(_mm_loadl_ps(v16), _mm_loadl_ps((const double *)((char *)v16 + v12)));
        v19 = v17;
        v20 = _mm_movelh_ps(v17, v18);
        v21 = _mm_movehl_ps(v18, v19);
        v11 = (const double *)((char *)v16 + 2 * v12);
        v22 = v20;
        v23 = _mm_add_ps(_mm_mul_ps(v20, v31), _mm_mul_ps(v21, v33));
        v24 = _mm_add_ps(_mm_mul_ps(v22, v32), _mm_mul_ps(v21, v34));
        v25 = v23;
        v26 = _mm_unpacklo_ps(v23, v24);
        v27 = _mm_unpackhi_ps(v25, v24);
        _mm_storel_ps(v7, v26);
        _mm_storel_ps((double *)((char *)v7 + i), _mm_movehl_ps(v26, v26));
        v28 = (double *)((char *)v7 + 2 * i);
        _mm_storel_ps(v28, v27);
        _mm_storel_ps((double *)((char *)v28 + i), _mm_movehl_ps(v27, v27));
        v7 = (double *)((char *)v28 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v29 = v6 - 4;
      v11 = (const double *)((char *)v11 + v29 * v12);
      v7 = (double *)((char *)v7 + v29 * i);
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = (__m64 *)a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (double *)((char *)sub_467090((__m64 *)v7, v9, v8)->m64_i32 + a2);
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (double *)((char *)a3 + a4);
    }
  }
  return a1;
}

//----- (004609C0) --------------------------------------------------------
__m128 *__stdcall sub_4609C0(__m128 *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@1
  __m128 *v7; // eax@1
  int v8; // ebx@1
  __m128 v9; // xmm4@2
  __m128 v10; // xmm5@2
  __m128 v11; // xmm6@2
  __m128 v12; // xmm7@2
  __m128 v13; // xmm0@3
  __m128 v14; // xmm1@3
  __m128 v15; // xmm2@3
  unsigned __int8 v16; // of@3

  v6 = a6;
  v7 = a1;
  v8 = a3;
  if ( a6 > 0 )
  {
    v9 = *(__m128 *)a5;
    v10 = *(__m128 *)(a5 + 16);
    v11 = *(__m128 *)(a5 + 32);
    v12 = *(__m128 *)(a5 + 48);
    do
    {
      v13 = _mm_shuffle_ps((__m128)*(_DWORD *)v8, (__m128)*(_DWORD *)v8, 0);
      v14 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 4), (__m128)*(_DWORD *)(v8 + 4), 0);
      v15 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 8), (__m128)*(_DWORD *)(v8 + 8), 0);
      v8 += a4;
      *v7 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v13, v9), _mm_mul_ps(v14, v10)), _mm_add_ps(_mm_mul_ps(v15, v11), v12));
      v7 = (__m128 *)((char *)v7 + a2);
      v16 = __OFSUB__(v6--, 1);
    }
    while ( !((unsigned __int8)((v6 < 0) ^ v16) | (v6 == 0)) );
  }
  return a1;
}

//----- (00460A60) --------------------------------------------------------
int __stdcall sub_460A60(int a1, int a2, int a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  int v7; // eax@1
  int v8; // edx@1
  int v9; // esi@2
  bool j; // zf@2
  int v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  __m128 v16; // xmm2@7
  __m128 v17; // xmm3@7
  int v18; // edx@7
  __m128 v19; // xmm0@7
  __m128 v20; // xmm4@7
  __m128 v21; // xmm1@7
  __m128 v22; // xmm2@7
  __m128 v23; // xmm0@7
  __m128 v24; // xmm4@7
  __m128 v25; // xmm1@7
  __m128 v26; // xmm3@7
  __m128 v27; // xmm5@7
  __m128 v28; // xmm0@7
  __m128 v29; // xmm1@7
  __m128 v30; // xmm3@7
  __m128 v31; // xmm5@7
  __m128 v32; // xmm4@7
  __m128 v33; // xmm4@7
  __m128 v34; // xmm0@7
  __m128 v35; // xmm1@7
  __m128 v36; // xmm3@7
  __m128 v37; // xmm2@7
  __m128 v38; // xmm0@7
  __m128 v39; // xmm2@7
  __m128 v40; // xmm3@7
  __m128 v41; // xmm3@7
  int v42; // eax@7
  int v43; // ecx@9
  __m128 v45; // [sp+Ch] [bp-10Ch]@5
  __m128 v46; // [sp+1Ch] [bp-FCh]@5
  __m128 v47; // [sp+2Ch] [bp-ECh]@5
  __m128 v48; // [sp+3Ch] [bp-DCh]@5
  __m128 v49; // [sp+4Ch] [bp-CCh]@5
  __m128 v50; // [sp+5Ch] [bp-BCh]@5
  __m128 v51; // [sp+6Ch] [bp-ACh]@5
  __m128 v52; // [sp+7Ch] [bp-9Ch]@5
  __m128 v53; // [sp+8Ch] [bp-8Ch]@5
  __m128 v54; // [sp+9Ch] [bp-7Ch]@5
  __m128 v55; // [sp+ACh] [bp-6Ch]@5
  __m128 v56; // [sp+BCh] [bp-5Ch]@5
  __m128 v57; // [sp+CCh] [bp-4Ch]@5
  __m128 v58; // [sp+DCh] [bp-3Ch]@5
  __m128 v59; // [sp+ECh] [bp-2Ch]@5
  __m128 v60; // [sp+FCh] [bp-1Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v46 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v47 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 8), (__m128)*(_DWORD *)(a5 + 8), 0);
    v48 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 12), (__m128)*(_DWORD *)(a5 + 12), 0);
    v49 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v50 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v51 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 24), (__m128)*(_DWORD *)(a5 + 24), 0);
    v52 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 28), (__m128)*(_DWORD *)(a5 + 28), 0);
    v53 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 32), (__m128)*(_DWORD *)(a5 + 32), 0);
    v54 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 36), (__m128)*(_DWORD *)(a5 + 36), 0);
    v55 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 40), (__m128)*(_DWORD *)(a5 + 40), 0);
    v56 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 44), (__m128)*(_DWORD *)(a5 + 44), 0);
    v57 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 48), (__m128)*(_DWORD *)(a5 + 48), 0);
    v58 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 52), (__m128)*(_DWORD *)(a5 + 52), 0);
    v59 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 56), (__m128)*(_DWORD *)(a5 + 56), 0);
    v60 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 60), (__m128)*(_DWORD *)(a5 + 60), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps((const double *)v11);
        v15 = _mm_loadl_ps((const double *)(v12 + v11));
        v16 = (__m128)*(_DWORD *)(v11 + 8);
        v17 = (__m128)*(_DWORD *)(v12 + v11 + 8);
        v18 = v11 + 2 * v12;
        v19 = _mm_unpacklo_ps(v14, v15);
        v20 = _mm_unpacklo_ps(_mm_loadl_ps((const double *)v18), _mm_loadl_ps((const double *)(v12 + v18)));
        v21 = v19;
        v22 = _mm_movelh_ps(
                _mm_unpacklo_ps(v16, v17),
                _mm_unpacklo_ps((__m128)*(_DWORD *)(v18 + 8), (__m128)*(_DWORD *)(v12 + v18 + 8)));
        v23 = _mm_movelh_ps(v19, v20);
        v24 = _mm_movehl_ps(v20, v21);
        v11 = v18 + 2 * v12;
        v25 = v23;
        v26 = v23;
        v27 = v23;
        v28 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v45), _mm_mul_ps(v24, v49)), _mm_mul_ps(v22, v53)), v57);
        v29 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v25, v46), _mm_mul_ps(v24, v50)), _mm_mul_ps(v22, v54)), v58);
        v30 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v26, v47), _mm_mul_ps(v24, v51)), _mm_mul_ps(v22, v55)), v59);
        v31 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v27, v48), _mm_mul_ps(v24, v52)), _mm_mul_ps(v22, v56)), v60);
        v32 = _mm_rcp_ps(v31);
        v33 = _mm_mul_ps(v32, _mm_sub_ps((__m128)xmmword_52CF00, _mm_mul_ps(v31, v32)));
        v34 = _mm_mul_ps(v28, v33);
        v35 = _mm_mul_ps(v29, v33);
        v36 = _mm_mul_ps(v30, v33);
        v37 = v34;
        v38 = _mm_unpacklo_ps(v34, v35);
        v39 = _mm_unpackhi_ps(v37, v35);
        _mm_storel_ps((double *)v7, v38);
        *(_DWORD *)(v7 + 8) = v36.m128_i32[0];
        v40 = _mm_shuffle_ps(v36, v36, -7);
        _mm_storel_ps((double *)(i + v7), _mm_movehl_ps(v38, v38));
        *(_DWORD *)(i + v7 + 8) = v40.m128_i32[0];
        v41 = v40;
        v42 = v7 + 2 * i;
        _mm_storel_ps((double *)v42, v39);
        *(_DWORD *)(v42 + 8) = v41.m128_i32[0];
        _mm_storel_ps((double *)(i + v42), _mm_movehl_ps(v39, v39));
        *(_DWORD *)(i + v42 + 8) = (unsigned __int128)_mm_shuffle_ps(v41, v41, -7);
        v7 = v42 + 2 * i;
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v43 = v6 - 4;
      v11 += v43 * v12;
      v7 += v43 * i;
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = a2 + sub_46683F(v7, v9, v8);
      v9 = a4 + a3;
      a3 += a4;
    }
  }
  return a1;
}
// 46683F: using guessed type _DWORD __stdcall sub_46683F(_DWORD, _DWORD, _DWORD);
// 52CF00: using guessed type __int128 xmmword_52CF00;

//----- (00460D80) --------------------------------------------------------
char *__stdcall sub_460D80(char *a1, int a2, __m64 *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  char *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  int v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  __m128 v16; // xmm2@7
  __m128 v17; // xmm3@7
  int v18; // edx@7
  __m128 v19; // xmm0@7
  __m128 v20; // xmm4@7
  __m128 v21; // xmm1@7
  __m128 v22; // xmm2@7
  __m128 v23; // xmm0@7
  __m128 v24; // xmm4@7
  __m128 v25; // xmm1@7
  __m128 v26; // xmm3@7
  __m128 v27; // xmm0@7
  __m128 v28; // xmm1@7
  __m128 v29; // xmm3@7
  __m128 v30; // xmm2@7
  __m128 v31; // xmm0@7
  __m128 v32; // xmm2@7
  __m128 v33; // xmm3@7
  __m128 v34; // xmm3@7
  int v35; // eax@7
  int v36; // ecx@9
  __m128 v38; // [sp+Ch] [bp-10Ch]@5
  __m128 v39; // [sp+1Ch] [bp-FCh]@5
  __m128 v40; // [sp+2Ch] [bp-ECh]@5
  __m128 v41; // [sp+4Ch] [bp-CCh]@5
  __m128 v42; // [sp+5Ch] [bp-BCh]@5
  __m128 v43; // [sp+6Ch] [bp-ACh]@5
  __m128 v44; // [sp+8Ch] [bp-8Ch]@5
  __m128 v45; // [sp+9Ch] [bp-7Ch]@5
  __m128 v46; // [sp+ACh] [bp-6Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v38 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v39 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v40 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 8), (__m128)*(_DWORD *)(a5 + 8), 0);
    v41 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v42 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v43 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 24), (__m128)*(_DWORD *)(a5 + 24), 0);
    v44 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 32), (__m128)*(_DWORD *)(a5 + 32), 0);
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 36), (__m128)*(_DWORD *)(a5 + 36), 0);
    v46 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 40), (__m128)*(_DWORD *)(a5 + 40), 0);
    v11 = (int)a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps((const double *)v11);
        v15 = _mm_loadl_ps((const double *)(v12 + v11));
        v16 = (__m128)*(_DWORD *)(v11 + 8);
        v17 = (__m128)*(_DWORD *)(v12 + v11 + 8);
        v18 = v11 + 2 * v12;
        v19 = _mm_unpacklo_ps(v14, v15);
        v20 = _mm_unpacklo_ps(_mm_loadl_ps((const double *)v18), _mm_loadl_ps((const double *)(v12 + v18)));
        v21 = v19;
        v22 = _mm_movelh_ps(
                _mm_unpacklo_ps(v16, v17),
                _mm_unpacklo_ps((__m128)*(_DWORD *)(v18 + 8), (__m128)*(_DWORD *)(v12 + v18 + 8)));
        v23 = _mm_movelh_ps(v19, v20);
        v24 = _mm_movehl_ps(v20, v21);
        v11 = v18 + 2 * v12;
        v25 = v23;
        v26 = v23;
        v27 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v38), _mm_mul_ps(v24, v41)), _mm_mul_ps(v22, v44));
        v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v25, v39), _mm_mul_ps(v24, v42)), _mm_mul_ps(v22, v45));
        v29 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v26, v40), _mm_mul_ps(v24, v43)), _mm_mul_ps(v22, v46));
        v30 = v27;
        v31 = _mm_unpacklo_ps(v27, v28);
        v32 = _mm_unpackhi_ps(v30, v28);
        _mm_storel_ps((double *)v7, v31);
        *((_DWORD *)v7 + 2) = v29.m128_i32[0];
        v33 = _mm_shuffle_ps(v29, v29, -7);
        _mm_storel_ps((double *)&v7[i], _mm_movehl_ps(v31, v31));
        *(_DWORD *)&v7[i + 8] = v33.m128_i32[0];
        v34 = v33;
        v35 = (int)&v7[2 * i];
        _mm_storel_ps((double *)v35, v32);
        *(_DWORD *)(v35 + 8) = v34.m128_i32[0];
        _mm_storel_ps((double *)(i + v35), _mm_movehl_ps(v32, v32));
        *(_DWORD *)(i + v35 + 8) = (unsigned __int128)_mm_shuffle_ps(v34, v34, -7);
        v7 = (char *)(v35 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v36 = v6 - 4;
      v11 += v36 * v12;
      v7 += v36 * i;
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (char *)sub_4662F8((__m64 *)v7, v9, v8) + a2;
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (__m64 *)((char *)a3 + a4);
    }
  }
  return a1;
}

//----- (00460FFC) --------------------------------------------------------
int __stdcall sub_460FFC(int a1, __m64 *a2, int a3)
{
  __m64 v3; // mm3@1
  __m64 v4; // mm1@1
  __m64 v5; // mm4@1
  __m64 v6; // mm5@1
  int result; // eax@1
  __m64 v8; // mm6@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm5@1
  __m64 v13; // mm3@1

  v3 = *(__m64 *)(a3 + 8);
  v4 = a2[1];
  v5 = _m_punpckldq(_m_punpckhdq(*(__m64 *)a3, *(__m64 *)a3), *(__m64 *)a3);
  v6 = _m_punpckldq(_m_punpckhdq(v3, v3), v3);
  result = a1;
  v8 = v5;
  v9 = _m_pfmul(v6, v4);
  v10 = _m_pfacc(
          _m_pfsub(_m_pfmul(v5, v4), _m_pfmul(_m_pxor(v6, (__m64)qword_4BB650), (__m64)a2->m64_u64)),
          _m_pfadd(_m_pxor(_m_pfmul(*(__m64 *)a3, v4), (__m64)qword_4BB650), _m_pfmul(v3, (__m64)a2->m64_u64)));
  v11 = _m_pfmul(_m_pxor(v8, (__m64)qword_4BB650), (__m64)a2->m64_u64);
  v12 = _m_pxor(*(__m64 *)(a3 + 8), (__m64)qword_4BB650);
  v13 = _m_pfmul(*(__m64 *)a3, (__m64)a2->m64_u64);
  *(__m64 *)a1 = v10;
  *(__m64 *)(a1 + 8) = _m_pfacc(_m_pfadd(v11, v9), _m_pfsub(_m_pfmul(v12, v4), v13));
  _m_femms();
  return result;
}
// 4BB650: using guessed type __int64 qword_4BB650;

//----- (00461095) --------------------------------------------------------
int __stdcall sub_461095(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm2@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  int result; // eax@1
  __m64 v7; // mm0@1
  __m64 v8; // mm4@1
  __m64 v9; // mm5@1
  __m64 v10; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = *(__m64 *)(a2 + 8);
  v4 = v2;
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v3, v3));
  result = a1;
  v7 = _m_pfacc(v5, v5);
  v8 = _m_pfrsqrt(v7);
  v9 = _m_pfcmpgt(v7, (__m64)qword_4BB6A8);
  v10 = _m_pfrcpit2(_m_pfrsqit1(v7, _m_pfmul(v8, v8)), v8);
  *(__m64 *)a1 = _m_pfmul(_m_pand(v4, v9), v10);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_pand(v3, v9), v10);
  _m_femms();
  return result;
}
// 4BB6A8: using guessed type __int64 qword_4BB6A8;

//----- (004610F2) --------------------------------------------------------
void __stdcall sub_4610F2(int a1, int a2, _DWORD *a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm0@3

  v3 = *(__m64 *)(a1 + 8);
  if ( a2 )
  {
    *(_QWORD *)a2 = *(_QWORD *)a1;
    *(_DWORD *)(a2 + 8) = _mm_cvtsi64_si32(v3);
  }
  v4 = _m_punpckhdq(v3, v3);
  if ( a3 )
  {
    sub_472180();
    *a3 = _mm_cvtsi64_si32(_m_pfmul(v4, (__m64)qword_4BB640));
  }
  _m_femms();
}
// 4BB640: using guessed type __int64 qword_4BB640;

//----- (00461136) --------------------------------------------------------
int __stdcall sub_461136(int a1, __m64 *a2)
{
  __m64 v2; // mm4@1
  __m64 v3; // mm5@1
  __m64 v4; // mm3@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm5@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm6@1
  int v13; // ecx@1
  __m64 v14; // mm6@1
  __m64 v15; // mm0@2
  __m64 v16; // mm7@2
  __m64 v17; // mm4@2
  __m64 v18; // mm0@2
  __m64 v19; // mm4@2
  int result; // eax@2
  __m64 v21; // mm1@2
  __m64 v22; // mm1@4
  __m64 v23; // mm4@4
  __m64 v24; // mm1@4
  __m64 v25; // mm4@4
  __m64 v26; // mm1@4
  __m64 v27; // mm2@6
  __m64 v28; // mm4@6
  __m64 v29; // mm2@6
  __m64 v30; // mm4@6
  __m64 v31; // mm1@6
  __m64 v32; // mm3@7
  __m64 v33; // mm2@7
  __m64 v34; // mm3@7
  __m64 v35; // mm2@7
  __m64 v36; // mm3@7

  v2 = _mm_cvtsi32_si64(a2[2].m64_u32[1]);
  v3 = _mm_cvtsi32_si64(a2[5].m64_u32[0]);
  v4 = _m_pfsubr((__m64)a2->m64_u64, v3);
  v5 = _m_pfadd(_m_pfadd((__m64)a2->m64_u64, v2), v3);
  v6 = _m_pfsub(_m_pfsub((__m64)a2->m64_u64, v2), v3);
  v7 = _m_pfsub(_m_pfsubr((__m64)a2->m64_u64, v2), v3);
  v8 = a2[4];
  v9 = _m_pfsub(v4, v2);
  v10 = _m_punpckldq(v5, v7);
  v11 = _m_punpckldq(v9, v9);
  v12 = _m_packssdw(_m_pfcmpge(_m_punpckldq(0i64, v6), v10), _m_pfcmpge(_m_punpckldq(v7, v6), v11));
  v13 = _mm_cvtsi64_si32(_m_packsswb(v12, v12));
  v14 = a2[4];
  if ( v13 & 1 )
  {
    if ( (v13 & 0xFF00FF00) == -16711936 )
    {
      v22 = _m_pfadd(v6, (__m64)qword_4BB628);
      v23 = _m_pfrsqrt(v22);
      v24 = _m_punpckldq(v22, v22);
      v25 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v23, v23), v24), v23), (__m64)qword_4BB6A0);
      result = a1;
      v26 = _m_punpckldq(
              _m_pfmul(v24, v25),
              _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a2[2].m64_u32[0]), _m_punpckhdq(v7, v7)), v25));
      *(__m64 *)(a1 + 8) = _m_pfmul(
                             _m_pfadd(
                               _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                               _m_pxor(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v14, v14)),
                                 (__m64)qword_4BB658)),
                             v25);
      *(__m64 *)a1 = v26;
      _m_femms();
    }
    else
    {
      result = a1;
      if ( v13 & 0x10000 )
      {
        v27 = _m_pfadd(v7, (__m64)qword_4BB628);
        v28 = _m_pfrsqrt(v27);
        v29 = _m_punpckldq(v27, v27);
        v30 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v28, v28), v29), v28), (__m64)qword_4BB6A0);
        v31 = _m_punpckldq(
                _m_pfmul(_m_pfadd(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v30),
                _m_pfmul(v29, v30));
        *(__m64 *)(a1 + 8) = _m_pfmul(
                               _m_pfadd(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                                 _m_pxor(
                                   _m_punpckldq(_m_punpckhdq(v8, v8), (__m64)LODWORD(a2[1].m64_f32[0])),
                                   (__m64)qword_4BB658)),
                               v30);
        *(__m64 *)a1 = v31;
        _m_femms();
      }
      else
      {
        v32 = _m_pfadd(v11, (__m64)qword_4BB628);
        v33 = _m_pfrsqrt(v32);
        v34 = _m_punpckldq(v32, v32);
        v35 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v33, v33), v34), v33), (__m64)qword_4BB6A0);
        v36 = _m_punpckldq(
                _m_pfmul(v34, v35),
                _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v35));
        *(__m64 *)a1 = _m_pfmul(
                         _m_pfadd(
                           _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                           _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v14, v14))),
                         v35);
        *(__m64 *)(a1 + 8) = v36;
        _m_femms();
      }
    }
  }
  else
  {
    v15 = _m_pfadd(v10, (__m64)qword_4BB628);
    v16 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
    v17 = _m_pfrsqrt(v15);
    v18 = _m_punpckldq(v15, v15);
    v19 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v17, v17), v18), v17), (__m64)qword_4BB6A0);
    result = a1;
    v21 = _m_punpckldq(
            _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v19),
            _m_pfmul(v18, v19));
    *(__m64 *)a1 = _m_pfmul(
                     _m_pfsub(
                       _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                       _m_punpckhdq(v8, _m_punpckldq(v16, v16))),
                     v19);
    *(__m64 *)(a1 + 8) = v21;
    _m_femms();
  }
  return result;
}
// 4BB628: using guessed type __int64 qword_4BB628;
// 4BB658: using guessed type __int64 qword_4BB658;
// 4BB6A0: using guessed type __int64 qword_4BB6A0;

//----- (00461352) --------------------------------------------------------
int __stdcall sub_461352(int a1, __m64 *a2)
{
  __m64 v2; // mm4@1
  __m64 v3; // mm5@1
  __m64 v4; // mm3@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm5@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  char v12; // cl@1
  __m64 v13; // mm6@1
  __m64 v14; // mm0@2
  __m64 v15; // mm7@2
  __m64 v16; // mm4@2
  __m64 v17; // mm0@2
  __m64 v18; // mm4@2
  int result; // eax@2
  __m64 v20; // mm1@2
  __m64 v21; // mm1@4
  __m64 v22; // mm4@4
  __m64 v23; // mm1@4
  __m64 v24; // mm4@4
  __m64 v25; // mm1@4
  __m64 v26; // mm2@6
  __m64 v27; // mm4@6
  __m64 v28; // mm2@6
  __m64 v29; // mm4@6
  __m64 v30; // mm1@6
  __m64 v31; // mm3@7
  __m64 v32; // mm2@7
  __m64 v33; // mm3@7
  __m64 v34; // mm2@7
  __m64 v35; // mm3@7

  v2 = _mm_cvtsi32_si64(a2[2].m64_u32[1]);
  v3 = _mm_cvtsi32_si64(a2[5].m64_u32[0]);
  v4 = _m_pfsubr((__m64)a2->m64_u64, v3);
  v5 = _m_pfadd(_m_pfadd((__m64)a2->m64_u64, v2), v3);
  v6 = _m_pfsub(_m_pfsub((__m64)a2->m64_u64, v2), v3);
  v7 = _m_pfsub(_m_pfsubr((__m64)a2->m64_u64, v2), v3);
  v8 = a2[4];
  v9 = _m_pfsub(v4, v2);
  v10 = _m_punpckldq(v5, v7);
  v11 = _m_punpckldq(v9, v9);
  v12 = _m_pmovmskb(_m_packssdw(_m_pfcmpge(_m_punpckldq(0i64, v6), v10), _m_pfcmpge(_m_punpckldq(v7, v6), v11)));
  v13 = a2[4];
  if ( v12 & 1 )
  {
    if ( (v12 & 0xCC) == 204 )
    {
      v21 = _m_pfadd(v6, (__m64)qword_4BB628);
      v22 = _m_pfrsqrt(v21);
      v23 = _m_punpckldq(v21, v21);
      v24 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v22, v22), v23), v22), (__m64)qword_4BB6A0);
      result = a1;
      v25 = _m_punpckldq(
              _m_pfmul(v23, v24),
              _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a2[2].m64_u32[0]), _m_punpckhdq(v7, v7)), v24));
      *(__m64 *)(a1 + 8) = _m_pfmul(
                             _m_pfadd(
                               _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                               _m_pxor(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v13, v13)),
                                 (__m64)qword_4BB658)),
                             v24);
      *(__m64 *)a1 = v25;
      _m_femms();
    }
    else
    {
      result = a1;
      if ( v12 & 0x10 )
      {
        v26 = _m_pfadd(v7, (__m64)qword_4BB628);
        v27 = _m_pfrsqrt(v26);
        v28 = _m_punpckldq(v26, v26);
        v29 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v27, v27), v28), v27), (__m64)qword_4BB6A0);
        v30 = _m_punpckldq(
                _m_pfmul(_m_pfadd(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v29),
                _m_pfmul(v28, v29));
        *(__m64 *)(a1 + 8) = _m_pfmul(
                               _m_pfadd(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                                 _m_pxor(
                                   _m_punpckldq(_m_punpckhdq(v8, v8), (__m64)LODWORD(a2[1].m64_f32[0])),
                                   (__m64)qword_4BB658)),
                               v29);
        *(__m64 *)a1 = v30;
        _m_femms();
      }
      else
      {
        v31 = _m_pfadd(v11, (__m64)qword_4BB628);
        v32 = _m_pfrsqrt(v31);
        v33 = _m_punpckldq(v31, v31);
        v34 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v32, v32), v33), v32), (__m64)qword_4BB6A0);
        v35 = _m_punpckldq(
                _m_pfmul(v33, v34),
                _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v34));
        *(__m64 *)a1 = _m_pfmul(
                         _m_pfadd(
                           _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                           _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v13, v13))),
                         v34);
        *(__m64 *)(a1 + 8) = v35;
        _m_femms();
      }
    }
  }
  else
  {
    v14 = _m_pfadd(v10, (__m64)qword_4BB628);
    v15 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
    v16 = _m_pfrsqrt(v14);
    v17 = _m_punpckldq(v14, v14);
    v18 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v16, v16), v17), v16), (__m64)qword_4BB6A0);
    result = a1;
    v20 = _m_punpckldq(
            _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v18),
            _m_pfmul(v17, v18));
    *(__m64 *)a1 = _m_pfmul(
                     _m_pfsub(
                       _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                       _m_punpckhdq(v8, _m_punpckldq(v15, v15))),
                     v18);
    *(__m64 *)(a1 + 8) = v20;
    _m_femms();
  }
  return result;
}
// 4BB628: using guessed type __int64 qword_4BB628;
// 4BB658: using guessed type __int64 qword_4BB658;
// 4BB6A0: using guessed type __int64 qword_4BB6A0;

//----- (0046162C) --------------------------------------------------------
__m64 *__stdcall sub_46162C(__m64 *a1, __m64 *a2, unsigned int a3)
{
  __m64 v3; // mm0@1
  __m64 *result; // eax@1
  __m64 v5; // mm3@1
  __m64 v6; // mm2@1
  __m64 v7; // [sp+0h] [bp-18h]@1
  unsigned int v8; // [sp+8h] [bp-10h]@1

  _m_femms();
  sub_46635F(&v7, a2);
  v3 = _m_pfmul(_mm_cvtsi32_si64(a3), (__m64)qword_4BB6C8);
  sub_472760(v3);
  result = a1;
  v5 = _m_punpckhdq(v3, v3);
  v6 = _m_punpckldq(_m_pfmul(_mm_cvtsi32_si64(v8), v5), v3);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(v7, v5);
  a1[1].m64_u64 = (unsigned __int64)v6;
  _m_femms();
  return result;
}
// 4BB6C8: using guessed type __int64 qword_4BB6C8;

//----- (00461698) --------------------------------------------------------
__m64 *__stdcall sub_461698(__m64 *a1, int a2, int a3, unsigned int a4)
{
  __m64 v4; // mm1@1
  __m64 v5; // mm4@1
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm7@1
  __m64 v9; // mm1@1
  __m64 v10; // mm3@1
  __m64 v11; // mm4@2
  unsigned int v12; // ST00_4@2
  __m64 v13; // mm0@2
  __m64 v14; // mm0@2
  __m64 v15; // mm1@2
  __m64 *result; // eax@3
  __m64 v17; // mm4@3
  __m64 v18; // mm0@3
  __m64 v19; // mm4@3
  __m64 v20; // mm5@3
  unsigned int v21; // [sp+28h] [bp+10h]@2

  _m_femms();
  v4 = _m_pfadd(_m_pfmul(*(__m64 *)a2, *(__m64 *)a3), _m_pfmul(*(__m64 *)(a2 + 8), *(__m64 *)(a3 + 8)));
  v5 = _mm_cvtsi32_si64(a4);
  v6 = _m_pfsub(_mm_cvtsi32_si64(qword_4BB6C0), v5);
  v7 = _m_pfacc(v4, v4);
  v8 = _m_pand(_m_pfcmpge(0i64, v7), (__m64)qword_4BB708);
  v9 = _m_pxor(v7, v8);
  v10 = _m_pfsubr(_m_pfmul(v9, v9), (__m64)qword_4BB6C0);
  if ( _mm_cvtsi64_si32(_m_pfcmpge((__m64)qword_4BB720, v9)) )
  {
    v11 = _m_pfrsqrt(v10);
    v12 = _mm_cvtsi64_si32(v6);
    sub_472080();
    v13 = _m_pfmul(v9, _mm_cvtsi32_si64(a4));
    sub_472860(v13);
    v21 = _mm_cvtsi64_si32(v13);
    v14 = _m_pfmul(_mm_cvtsi32_si64(_mm_cvtsi64_si32(v9)), _mm_cvtsi32_si64(v12));
    sub_472860(v14);
    v15 = _mm_cvtsi32_si64(_mm_cvtsi64_si32(_m_pfrcpit2(_m_pfrsqit1(v10, _m_pfmul(v11, v11)), v11)));
    v8 = _mm_cvtsi32_si64(_mm_cvtsi64_si32(v8));
    v6 = _m_pfmul(v14, v15);
    v5 = _m_pfmul(_mm_cvtsi32_si64(v21), v15);
  }
  result = a1;
  v17 = _m_pxor(v5, v8);
  v18 = _m_punpckldq(v6, v6);
  v19 = _m_punpckldq(v17, v17);
  v20 = _m_pfadd(_m_pfmul(v18, *(__m64 *)(a2 + 8)), _m_pfmul(v19, *(__m64 *)(a3 + 8)));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(_m_pfmul(v18, *(__m64 *)a2), _m_pfmul(v19, *(__m64 *)a3));
  a1[1].m64_u64 = (unsigned __int64)v20;
  _m_femms();
  return result;
}
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB708: using guessed type __int64 qword_4BB708;
// 4BB720: using guessed type __int64 qword_4BB720;

//----- (004617CF) --------------------------------------------------------
__m64 *__stdcall sub_4617CF(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm2@1
  __m64 *result; // eax@1
  char v9; // [sp+Ch] [bp-24h]@1
  char v10; // [sp+1Ch] [bp-14h]@1
  unsigned int v11; // [sp+44h] [bp+14h]@1

  _m_femms();
  v11 = _mm_cvtsi64_si32(_m_pfadd(_mm_cvtsi32_si64(a5), _mm_cvtsi32_si64(a6)));
  sub_461698((__m64 *)&v9, a2, a3, v11);
  sub_461698((__m64 *)&v10, a2, a4, v11);
  v6 = _mm_cvtsi32_si64(v11);
  v7 = _m_pfrcp(v6);
  sub_461698(
    a1,
    (int)&v9,
    (int)&v10,
    _mm_cvtsi64_si32(_m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v6, v7), v7), _mm_cvtsi32_si64(a6))));
  result = a1;
  _m_femms();
  return result;
}

//----- (0046185C) --------------------------------------------------------
__m64 *__stdcall sub_46185C(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 *result; // eax@1
  char v8; // [sp+10h] [bp-20h]@1
  char v9; // [sp+20h] [bp-10h]@1

  sub_461698((__m64 *)&v8, a2, a5, a6);
  sub_461698((__m64 *)&v9, a3, a4, a6);
  v6 = _mm_cvtsi32_si64(a6);
  result = sub_461698(
             a1,
             (int)&v8,
             (int)&v9,
             _mm_cvtsi64_si32(_m_pfmul(_m_pfsub(v6, _m_pfmul(v6, v6)), (__m64)qword_4BB640)));
  _m_femms();
  return result;
}
// 4BB640: using guessed type __int64 qword_4BB640;

//----- (004618EE) --------------------------------------------------------
int __stdcall sub_4618EE(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm0@1
  int result; // eax@1
  __m64 v8; // mm4@1
  __m64 v9; // mm5@1
  __m64 v10; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = v2;
  v4 = *(__m64 *)(a2 + 8);
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v4, v4));
  v6 = _m_pfacc(v5, v5);
  result = a1;
  v8 = _m_pfrcp(v6);
  v9 = _m_pfcmpgt(v6, (__m64)qword_4BB6A8);
  v10 = _m_pfrcpit2(_m_pfrcpit1(v6, v8), v8);
  *(__m64 *)a1 = _m_pfmul(_m_pand(_m_pxor(v3, (__m64)qword_4BB708), v9), v10);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_pand(_m_pxor(v4, (__m64)qword_4BB650), v9), v10);
  _m_femms();
  return result;
}
// 4BB650: using guessed type __int64 qword_4BB650;
// 4BB6A8: using guessed type __int64 qword_4BB6A8;
// 4BB708: using guessed type __int64 qword_4BB708;

//----- (00461952) --------------------------------------------------------
int __stdcall sub_461952(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm3@3
  __m64 v7; // mm4@3
  __m64 v8; // mm3@3
  unsigned int v9; // [sp+0h] [bp-Ch]@2

  _m_femms();
  result = a1;
  v3 = *(__m64 *)a2;
  v4 = *(__m64 *)(a2 + 8);
  v5 = _m_punpckhdq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8));
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v5, (__m64)qword_4BB6C0)) )
  {
    sub_472180();
    v9 = _mm_cvtsi64_si32(v5);
    sub_472860(v5);
    result = a1;
    v3 = *(__m64 *)a2;
    v4 = *(__m64 *)(a2 + 8);
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v5, (__m64)qword_4BB678), (__m64)qword_4BB680)) )
    {
      v6 = _mm_cvtsi32_si64(v9);
      v7 = _m_pfrcp(v5);
      v8 = _m_pfmul(_m_punpckldq(v6, v6), _m_pfrcpit2(_m_pfrcpit1(v5, v7), v7));
      v3 = _m_pfmul(v3, v8);
      v4 = _m_pfmul(v4, v8);
    }
  }
  *(__m64 *)result = v3;
  *(__m64 *)(result + 8) = _m_pand(v4, (__m64)qword_4BB688);
  _m_femms();
  return result;
}
// 4BB678: using guessed type __int64 qword_4BB678;
// 4BB680: using guessed type __int64 qword_4BB680;
// 4BB688: using guessed type __int64 qword_4BB688;
// 4BB6C0: using guessed type __int64 qword_4BB6C0;

//----- (004619F9) --------------------------------------------------------
int __userpurge sub_4619F9@<eax>(unsigned int a1@<esi>, int a2, __m64 *a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm1@1
  __m64 v8; // ST00_8@1
  __m64 v9; // mm0@1
  __m64 v10; // mm1@1
  __m64 v11; // mm0@1
  int result; // eax@1
  char v13; // cl@1
  __m64 v14; // mm2@1
  __m64 v15; // mm0@1
  __m64 v16; // mm1@1
  __m64 v17; // mm3@1
  __m64 v18; // mm1@2

  v3 = _mm_cvtsi32_si64(a3[1].m64_u32[0]);
  v4 = _m_pfadd(_m_pfmul((__m64)a3->m64_u64, (__m64)a3->m64_u64), _m_pfmul(v3, v3));
  v5 = _m_pfacc(v4, v4);
  v6 = _m_pfrsqrt(v5);
  v7 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v6, v6), v5), v6);
  v8.m64_u64 = __PAIR__(a1, _mm_cvtsi64_si32(v7));
  v9 = _m_pfmul(v5, v7);
  sub_472760(v9);
  v10 = v9;
  v11 = _m_pfcmpge(_m_pand(v9, (__m64)qword_4BB670), (__m64)qword_4BB680);
  result = a2;
  v13 = _mm_cvtsi64_si32(_m_punpckhdq(v11, v11));
  v14 = (__m64)a3->m64_u64;
  v15 = v10;
  v16 = _m_pfmul(_m_punpckhdq(v10, v10), v8);
  v17 = _mm_cvtsi32_si64(a3[1].m64_u32[0]);
  if ( v13 & 1 )
  {
    v18 = _m_punpckldq(v16, v16);
    v17 = _m_pfmul(v17, v18);
    v14 = _m_pfmul(v14, v18);
  }
  *(__m64 *)a2 = v14;
  *(__m64 *)(a2 + 8) = _m_punpckldq(v17, v15);
  _m_femms();
  return result;
}
// 4619F9: could not find valid save-restore pair for esi
// 4BB670: using guessed type __int64 qword_4BB670;
// 4BB680: using guessed type __int64 qword_4BB680;

//----- (00461A9E) --------------------------------------------------------
int __userpurge sub_461A9E@<eax>(unsigned int a1@<esi>, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm2@1
  __m64 v11; // mm3@1
  __m64 v12; // mm0@1
  __m64 v13; // mm2@1
  __m64 v14; // mm4@1
  __m64 v15; // mm5@1
  __m64 v16; // mm1@1
  __m64 v17; // mm3@1
  __m64 v18; // mm2@1
  int v19; // eax@1
  __m64 v20; // mm4@5
  __m64 v21; // mm6@5
  __m64 v22; // mm7@5
  __m64 v23; // mm3@5
  __m64 v24; // mm5@5
  __m64 v25; // mm6@5
  __m64 v26; // mm3@5
  __m64 v27; // mm0@7
  __m64 v28; // mm0@7
  __m64 v29; // mm4@7
  __m64 v30; // mm5@7
  __m64 v31; // mm0@7
  __m64 v32; // mm1@7
  __m64 v33; // ST54_8@7
  __m64 v34; // mm4@7
  __m64 v35; // mm5@7
  __m64 v36; // mm4@7
  __m64 v37; // mm5@7
  __m64 v38; // mm1@7
  __m64 v39; // mm2@7
  __m64 v40; // mm0@7
  __m64 v41; // mm3@9
  __m64 v42; // mm4@9
  __m64 v43; // mm3@9
  __m64 v44; // mm1@10
  __m64 v45; // mm2@10
  __m64 v46; // mm0@10
  __m64 v47; // mm3@12
  __m64 v48; // mm4@12
  __m64 v49; // mm3@12
  __m64 v50; // mm0@13
  __m64 v51; // mm1@13
  unsigned __int64 v52; // ST94_8@13
  __m64 v53; // mm1@13
  __m64 v54; // mm0@13
  __m64 v55; // mm0@13
  __m64 v56; // mm1@13
  __m64 v57; // mm1@13
  __m64 v58; // mm0@13
  __m64 v59; // mm1@13
  __m64 v60; // mm0@13
  char v61; // cl@13
  __m64 v62; // mm2@13
  __m64 v63; // mm0@13
  __m64 v64; // mm1@13
  __m64 v65; // mm3@13
  __m64 v66; // mm1@14
  __m64 v67; // ST84_8@15
  __m64 v68; // mm4@15
  __m64 v69; // mm5@15
  __m64 v70; // mm0@15
  __m64 v71; // mm0@15
  __m64 v72; // mm4@15
  __m64 v73; // mm5@15
  __m64 v74; // mm0@15
  __m64 v75; // mm1@15
  __m64 v76; // ST54_8@15
  __m64 v77; // mm4@15
  __m64 v78; // mm5@15
  __m64 v79; // mm4@15
  __m64 v80; // mm5@15
  __m64 v81; // mm1@15
  __m64 v82; // mm2@15
  __m64 v83; // mm0@15
  __m64 v84; // mm3@17
  __m64 v85; // mm4@17
  __m64 v86; // mm3@17
  __m64 v87; // mm1@18
  __m64 v88; // mm2@18
  __m64 v89; // mm0@18
  __m64 v90; // mm3@20
  __m64 v91; // mm4@20
  __m64 v92; // mm3@20
  __m64 v93; // mm0@21
  __m64 v94; // mm1@21
  unsigned __int64 v95; // ST94_8@21
  __m64 v96; // mm1@21
  __m64 v97; // mm0@21
  __m64 v98; // mm0@21
  __m64 v99; // mm1@21
  __m64 v100; // mm1@21
  __m64 v101; // ST00_8@21
  __m64 v102; // mm0@21
  __m64 v103; // mm1@21
  __m64 v104; // mm0@21
  char v105; // cl@21
  __m64 v106; // mm2@21
  __m64 v107; // mm0@21
  __m64 v108; // mm1@21
  __m64 v109; // mm3@21
  __m64 v110; // mm1@22
  __m64 v111; // ST84_8@23
  __m64 v112; // mm4@23
  __m64 v113; // mm5@23
  int result; // eax@23
  unsigned int v115; // [sp+0h] [bp-ACh]@8
  unsigned int v116; // [sp+0h] [bp-ACh]@11
  __m64 v117; // [sp+0h] [bp-ACh]@13
  unsigned int v118; // [sp+0h] [bp-ACh]@16
  unsigned int v119; // [sp+0h] [bp-ACh]@19
  __m64 v120; // [sp+Ch] [bp-A0h]@1
  __m64 v121; // [sp+14h] [bp-98h]@1
  __m64 v122; // [sp+1Ch] [bp-90h]@1
  __m64 v123; // [sp+24h] [bp-88h]@1
  __m64 v124; // [sp+2Ch] [bp-80h]@1
  __m64 v125; // [sp+34h] [bp-78h]@1
  __m64 v126; // [sp+3Ch] [bp-70h]@5
  __m64 v127; // [sp+44h] [bp-68h]@5
  __m64 v128; // [sp+5Ch] [bp-50h]@10
  __m64 v129; // [sp+5Ch] [bp-50h]@18
  __m64 v130; // [sp+64h] [bp-48h]@10
  __m64 v131; // [sp+64h] [bp-48h]@18
  __m64 v132; // [sp+8Ch] [bp-20h]@7
  __m64 v133; // [sp+8Ch] [bp-20h]@13
  __m64 v134; // [sp+8Ch] [bp-20h]@15
  __m64 v135; // [sp+8Ch] [bp-20h]@21
  __m64 v136; // [sp+94h] [bp-18h]@7
  __m64 v137; // [sp+94h] [bp-18h]@15
  __m64 v138; // [sp+9Ch] [bp-10h]@7
  __m64 v139; // [sp+9Ch] [bp-10h]@15
  __m64 v140; // [sp+A4h] [bp-8h]@7
  __m64 v141; // [sp+A4h] [bp-8h]@15

  v120 = *(__m64 *)a5;
  v121 = *(__m64 *)(a5 + 8);
  v122 = *(__m64 *)a6;
  v8 = _m_pfadd(*(__m64 *)a5, *(__m64 *)a6);
  v123 = *(__m64 *)(a6 + 8);
  v9 = _m_pfadd(v121, v123);
  v10 = _m_pfsub(*(__m64 *)a5, *(__m64 *)a6);
  v11 = _m_pfsub(v121, v123);
  v12 = _m_pfadd(_m_pfmul(v8, v8), _m_pfmul(v9, v9));
  v13 = _m_pfadd(_m_pfmul(v10, v10), _m_pfmul(v11, v11));
  v124 = *(__m64 *)a7;
  v125 = *(__m64 *)(a7 + 8);
  v14 = _m_pfadd(*(__m64 *)a6, *(__m64 *)a7);
  v15 = _m_pfadd(v123, v125);
  v16 = _m_pfsub(*(__m64 *)a6, *(__m64 *)a7);
  v17 = _m_pfsub(*(__m64 *)(a6 + 8), v125);
  v18 = _m_pfcmpgt(
          _m_pfacc(v13, _m_pfadd(_m_pfmul(v16, v16), _m_pfmul(v17, v17))),
          _m_pfacc(v12, _m_pfadd(_m_pfmul(v14, v14), _m_pfmul(v15, v15))));
  v19 = _mm_cvtsi64_si32(_m_packsswb(v18, v18));
  if ( v19 & 1 )
  {
    v120 = _m_pxor((__m64)qword_4BB660, *(__m64 *)a5);
    v121 = _m_pxor((__m64)qword_4BB660, *(__m64 *)(a5 + 8));
  }
  if ( v19 & 0x10000 )
  {
    v124 = _m_pxor((__m64)qword_4BB660, *(__m64 *)a7);
    v125 = _m_pxor((__m64)qword_4BB660, *(__m64 *)(a7 + 8));
  }
  v20 = *(__m64 *)(a8 + 8);
  v21 = _m_pfadd(v124, *(__m64 *)a8);
  v126 = *(__m64 *)a8;
  v22 = _m_pfadd(v125, v20);
  v127 = *(__m64 *)(a8 + 8);
  v23 = _m_pfsub(v124, *(__m64 *)a8);
  v24 = _m_pfsub(v125, v20);
  v25 = _m_pfadd(_m_pfmul(v21, v21), _m_pfmul(v22, v22));
  v26 = _m_pfadd(_m_pfmul(v23, v23), _m_pfmul(v24, v24));
  if ( _mm_cvtsi64_si32(_m_pfcmpgt(_m_pfacc(v26, v26), _m_pfacc(v25, v25))) & 1 )
  {
    v126 = _m_pxor((__m64)qword_4BB660, *(__m64 *)a8);
    v127 = _m_pxor((__m64)qword_4BB660, *(__m64 *)(a8 + 8));
  }
  v27 = _m_pfadd(_m_pfmul(v122, v122), _m_pfmul(v123, v123));
  v28 = _m_pfacc(v27, v27);
  v29 = _m_pfrcp(v28);
  v30 = _m_pfcmpgt(v28, (__m64)qword_4BB6A8);
  v31 = _m_pfrcpit2(_m_pfrcpit1(v28, v29), v29);
  v32 = _m_pfmul(_m_pand(_m_pxor(v122, (__m64)qword_4BB708), v30), v31);
  v33 = _m_pfmul(_m_pand(_m_pxor(v123, (__m64)qword_4BB650), v30), v31);
  v34 = _m_punpckldq(_m_punpckhdq(v120, v120), v120);
  v35 = _m_punpckldq(_m_punpckhdq(v121, v121), v121);
  v132 = _m_pfacc(
           _m_pfsub(_m_pfmul(v34, v33), _m_pfmul(_m_pxor(v35, (__m64)qword_4BB650), v32)),
           _m_pfadd(_m_pxor(_m_pfmul(v120, v33), (__m64)qword_4BB650), _m_pfmul(v121, v32)));
  v136 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v34, (__m64)qword_4BB650), v32), _m_pfmul(v35, v33)),
           _m_pfsub(_m_pfmul(_m_pxor(v121, (__m64)qword_4BB650), v33), _m_pfmul(v120, v32)));
  v36 = _m_punpckldq(_m_punpckhdq(v124, v124), v124);
  v37 = _m_punpckldq(_m_punpckhdq(v125, v125), v125);
  v138 = _m_pfacc(
           _m_pfsub(_m_pfmul(v36, v33), _m_pfmul(_m_pxor(v37, (__m64)qword_4BB650), v32)),
           _m_pfadd(_m_pxor(_m_pfmul(v124, v33), (__m64)qword_4BB650), _m_pfmul(v125, v32)));
  v140 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v36, (__m64)qword_4BB650), v32), _m_pfmul(v37, v33)),
           _m_pfsub(_m_pfmul(_m_pxor(v125, (__m64)qword_4BB650), v33), _m_pfmul(v124, v32)));
  v38 = v132;
  v39 = v136;
  v40 = _m_punpckhdq(v136, v136);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v40, (__m64)qword_4BB6C0)) )
  {
    sub_472180();
    v115 = _mm_cvtsi64_si32(v40);
    sub_472860(v40);
    v38 = v132;
    v39 = v136;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v40, (__m64)qword_4BB678), (__m64)qword_4BB680)) )
    {
      v41 = _mm_cvtsi32_si64(v115);
      v42 = _m_pfrcp(v40);
      v43 = _m_pfmul(_m_punpckldq(v41, v41), _m_pfrcpit2(_m_pfrcpit1(v40, v42), v42));
      v38 = _m_pfmul(v132, v43);
      v39 = _m_pfmul(v136, v43);
    }
  }
  v128 = v38;
  v130 = _m_pand(v39, (__m64)qword_4BB688);
  v44 = v138;
  v45 = v140;
  v46 = _m_punpckhdq(v140, v140);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v46, (__m64)qword_4BB6C0)) )
  {
    sub_472180();
    v116 = _mm_cvtsi64_si32(v46);
    sub_472860(v46);
    v44 = v138;
    v45 = v140;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v46, (__m64)qword_4BB678), (__m64)qword_4BB680)) )
    {
      v47 = _mm_cvtsi32_si64(v116);
      v48 = _m_pfrcp(v46);
      v49 = _m_pfmul(_m_punpckldq(v47, v47), _m_pfrcpit2(_m_pfrcpit1(v46, v48), v48));
      v44 = _m_pfmul(v138, v49);
      v45 = _m_pfmul(v140, v49);
    }
  }
  v50 = _m_pfmul(_m_pfadd(v128, v44), (__m64)qword_4BE4C0);
  v51 = _m_pfmul(_m_pfadd(v130, _m_pand(v45, (__m64)qword_4BB688)), (__m64)qword_4BE4C0);
  v133 = v50;
  v52 = v51.m64_u64;
  v53 = _mm_cvtsi32_si64(v51.m64_u32[0]);
  v54 = _m_pfadd(_m_pfmul(v50, v50), _m_pfmul(v53, v53));
  v55 = _m_pfacc(v54, v54);
  v56 = _m_pfrsqrt(v55);
  v57 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v56, v56), v55), v56);
  v117.m64_u64 = __PAIR__(a1, _mm_cvtsi64_si32(v57));
  v58 = _m_pfmul(v55, v57);
  sub_472760(v58);
  v59 = v58;
  v60 = _m_pfcmpge(_m_pand(v58, (__m64)qword_4BB670), (__m64)qword_4BB680);
  v61 = _mm_cvtsi64_si32(_m_punpckhdq(v60, v60));
  v62 = v133;
  v63 = v59;
  v64 = _m_pfmul(_m_punpckhdq(v59, v59), v117);
  v65 = _mm_cvtsi32_si64(v52);
  if ( v61 & 1 )
  {
    v66 = _m_punpckldq(v64, v64);
    v65 = _m_pfmul(v65, v66);
    v62 = _m_pfmul(v133, v66);
  }
  v67 = _m_punpckldq(v65, v63);
  v68 = _m_punpckldq(_m_punpckhdq(v62, v62), v62);
  v69 = _m_punpckldq(_m_punpckhdq(v67, v67), v67);
  *(__m64 *)a2 = _m_pfacc(
                   _m_pfsub(_m_pfmul(v68, v123), _m_pfmul(_m_pxor(v69, (__m64)qword_4BB650), v122)),
                   _m_pfadd(_m_pxor(_m_pfmul(v62, v123), (__m64)qword_4BB650), _m_pfmul(v67, v122)));
  *(__m64 *)(a2 + 8) = _m_pfacc(
                         _m_pfadd(_m_pfmul(_m_pxor(v68, (__m64)qword_4BB650), v122), _m_pfmul(v69, v123)),
                         _m_pfsub(_m_pfmul(_m_pxor(v67, (__m64)qword_4BB650), v123), _m_pfmul(v62, v122)));
  v70 = _m_pfadd(_m_pfmul(v124, v124), _m_pfmul(v125, v125));
  v71 = _m_pfacc(v70, v70);
  v72 = _m_pfrcp(v71);
  v73 = _m_pfcmpgt(v71, (__m64)qword_4BB6A8);
  v74 = _m_pfrcpit2(_m_pfrcpit1(v71, v72), v72);
  v75 = _m_pfmul(_m_pand(_m_pxor(v124, (__m64)qword_4BB708), v73), v74);
  v76 = _m_pfmul(_m_pand(_m_pxor(v125, (__m64)qword_4BB650), v73), v74);
  v77 = _m_punpckldq(_m_punpckhdq(v122, v122), v122);
  v78 = _m_punpckldq(_m_punpckhdq(v123, v123), v123);
  v134 = _m_pfacc(
           _m_pfsub(_m_pfmul(v77, v76), _m_pfmul(_m_pxor(v78, (__m64)qword_4BB650), v75)),
           _m_pfadd(_m_pxor(_m_pfmul(v122, v76), (__m64)qword_4BB650), _m_pfmul(v123, v75)));
  v137 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v77, (__m64)qword_4BB650), v75), _m_pfmul(v78, v76)),
           _m_pfsub(_m_pfmul(_m_pxor(v123, (__m64)qword_4BB650), v76), _m_pfmul(v122, v75)));
  v79 = _m_punpckldq(_m_punpckhdq(v126, v126), v126);
  v80 = _m_punpckldq(_m_punpckhdq(v127, v127), v127);
  v139 = _m_pfacc(
           _m_pfsub(_m_pfmul(v79, v76), _m_pfmul(_m_pxor(v80, (__m64)qword_4BB650), v75)),
           _m_pfadd(_m_pxor(_m_pfmul(v126, v76), (__m64)qword_4BB650), _m_pfmul(v127, v75)));
  v141 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v79, (__m64)qword_4BB650), v75), _m_pfmul(v80, v76)),
           _m_pfsub(_m_pfmul(_m_pxor(v127, (__m64)qword_4BB650), v76), _m_pfmul(v126, v75)));
  v81 = v134;
  v82 = v137;
  v83 = _m_punpckhdq(v137, v137);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v83, (__m64)qword_4BB6C0)) )
  {
    sub_472180();
    v118 = _mm_cvtsi64_si32(v83);
    sub_472860(v83);
    v81 = v134;
    v82 = v137;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v83, (__m64)qword_4BB678), (__m64)qword_4BB680)) )
    {
      v84 = _mm_cvtsi32_si64(v118);
      v85 = _m_pfrcp(v83);
      v86 = _m_pfmul(_m_punpckldq(v84, v84), _m_pfrcpit2(_m_pfrcpit1(v83, v85), v85));
      v81 = _m_pfmul(v134, v86);
      v82 = _m_pfmul(v137, v86);
    }
  }
  v129 = v81;
  v131 = _m_pand(v82, (__m64)qword_4BB688);
  v87 = v139;
  v88 = v141;
  v89 = _m_punpckhdq(v141, v141);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v89, (__m64)qword_4BB6C0)) )
  {
    sub_472180();
    v119 = _mm_cvtsi64_si32(v89);
    sub_472860(v89);
    v87 = v139;
    v88 = v141;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v89, (__m64)qword_4BB678), (__m64)qword_4BB680)) )
    {
      v90 = _mm_cvtsi32_si64(v119);
      v91 = _m_pfrcp(v89);
      v92 = _m_pfmul(_m_punpckldq(v90, v90), _m_pfrcpit2(_m_pfrcpit1(v89, v91), v91));
      v87 = _m_pfmul(v139, v92);
      v88 = _m_pfmul(v141, v92);
    }
  }
  v93 = _m_pfmul(_m_pfadd(v129, v87), (__m64)qword_4BE4C0);
  v94 = _m_pfmul(_m_pfadd(v131, _m_pand(v88, (__m64)qword_4BB688)), (__m64)qword_4BE4C0);
  v135 = v93;
  v95 = v94.m64_u64;
  v96 = _mm_cvtsi32_si64(v94.m64_u32[0]);
  v97 = _m_pfadd(_m_pfmul(v93, v93), _m_pfmul(v96, v96));
  v98 = _m_pfacc(v97, v97);
  v99 = _m_pfrsqrt(v98);
  v100 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v99, v99), v98), v99);
  v101.m64_u64 = __PAIR__(v117.m64_u32[1], _mm_cvtsi64_si32(v100));
  v102 = _m_pfmul(v98, v100);
  sub_472760(v102);
  v103 = v102;
  v104 = _m_pfcmpge(_m_pand(v102, (__m64)qword_4BB670), (__m64)qword_4BB680);
  v105 = _mm_cvtsi64_si32(_m_punpckhdq(v104, v104));
  v106 = v135;
  v107 = v103;
  v108 = _m_pfmul(_m_punpckhdq(v103, v103), v101);
  v109 = _mm_cvtsi32_si64(v95);
  if ( v105 & 1 )
  {
    v110 = _m_punpckldq(v108, v108);
    v109 = _m_pfmul(v109, v110);
    v106 = _m_pfmul(v135, v110);
  }
  v111 = _m_punpckldq(v109, v107);
  v112 = _m_punpckldq(_m_punpckhdq(v106, v106), v106);
  v113 = _m_punpckldq(_m_punpckhdq(v111, v111), v111);
  *(__m64 *)a3 = _m_pfacc(
                   _m_pfsub(_m_pfmul(v112, v125), _m_pfmul(_m_pxor(v113, (__m64)qword_4BB650), v124)),
                   _m_pfadd(_m_pxor(_m_pfmul(v106, v125), (__m64)qword_4BB650), _m_pfmul(v111, v124)));
  *(__m64 *)(a3 + 8) = _m_pfacc(
                         _m_pfadd(_m_pfmul(_m_pxor(v112, (__m64)qword_4BB650), v124), _m_pfmul(v113, v125)),
                         _m_pfsub(_m_pfmul(_m_pxor(v111, (__m64)qword_4BB650), v125), _m_pfmul(v106, v124)));
  result = a4;
  *(__m64 *)a4 = v124;
  *(__m64 *)(a4 + 8) = v125;
  _m_femms();
  return result;
}
// 461A9E: could not find valid save-restore pair for ebx
// 461A9E: could not find valid save-restore pair for esi
// 4BB650: using guessed type __int64 qword_4BB650;
// 4BB660: using guessed type __int64 qword_4BB660;
// 4BB670: using guessed type __int64 qword_4BB670;
// 4BB678: using guessed type __int64 qword_4BB678;
// 4BB680: using guessed type __int64 qword_4BB680;
// 4BB688: using guessed type __int64 qword_4BB688;
// 4BB6A8: using guessed type __int64 qword_4BB6A8;
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB708: using guessed type __int64 qword_4BB708;
// 4BE4C0: using guessed type __int64 qword_4BE4C0;

//----- (004624D7) --------------------------------------------------------
int __stdcall sub_4624D7(int a1, int a2, __m64 *a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // ST00_8@1
  __m64 v7; // ST10_8@1
  __m64 v8; // mm6@1
  __m64 v9; // mm7@1
  __m64 v10; // mm0@1
  __m64 v11; // ST28_8@1
  __m64 v12; // ST38_8@1
  __m64 v13; // mm4@1
  __m64 v14; // ST20_8@1
  __m64 v15; // ST30_8@1
  __m64 v16; // ST18_8@1
  __m64 v17; // ST08_8@1
  int result; // eax@1
  __m64 v19; // mm1@1
  __m64 v20; // mm4@1
  __m64 v21; // mm1@1
  __m64 v22; // mm2@1
  __m64 v23; // mm4@1
  __m64 v24; // mm1@1
  __m64 v25; // mm2@1
  __m64 v26; // mm4@1
  __m64 v27; // mm1@1
  __m64 v28; // mm2@1
  __m64 v29; // mm4@1

  _m_femms();
  v3 = a3[2];
  v4 = a3[5];
  v5 = a3[7];
  v6 = _m_punpckldq((__m64)a3->m64_u64, v3);
  v7 = _m_punpckhdq((__m64)a3->m64_u64, v3);
  v8 = a3[1];
  v9 = a3[3];
  v10 = a3[4];
  v11 = _m_punpckldq(v4, v5);
  v12 = _m_punpckhdq(v4, v5);
  v13 = a3[6];
  v14 = _m_punpckldq(v8, v9);
  v15 = _m_punpckhdq(v8, v9);
  v16 = _m_punpckhdq(v10, v13);
  v17 = _m_punpckldq(v10, v13);
  result = a1;
  v19 = *(__m64 *)(a2 + 8);
  v20 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)a2, v14), _m_pfmul(*(__m64 *)a2, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 8), v11), _m_pfmul(v19, v12)));
  *(__m64 *)a1 = _m_pfadd(
                   _m_pfacc(_m_pfmul(*(__m64 *)a2, v6), _m_pfmul(*(__m64 *)a2, v7)),
                   _m_pfacc(_m_pfmul(v19, v17), _m_pfmul(v19, v16)));
  *(__m64 *)(a1 + 8) = v20;
  v21 = *(__m64 *)(a2 + 24);
  v22 = *(__m64 *)(a2 + 16);
  v23 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 16), v14), _m_pfmul(v22, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 24), v11), _m_pfmul(v21, v12)));
  *(__m64 *)(a1 + 16) = _m_pfadd(
                          _m_pfacc(_m_pfmul(v22, v6), _m_pfmul(v22, v7)),
                          _m_pfacc(_m_pfmul(v21, v17), _m_pfmul(v21, v16)));
  *(__m64 *)(a1 + 24) = v23;
  v24 = *(__m64 *)(a2 + 40);
  v25 = *(__m64 *)(a2 + 32);
  v26 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 32), v14), _m_pfmul(v25, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 40), v11), _m_pfmul(v24, v12)));
  *(__m64 *)(a1 + 32) = _m_pfadd(
                          _m_pfacc(_m_pfmul(v25, v6), _m_pfmul(v25, v7)),
                          _m_pfacc(_m_pfmul(v24, v17), _m_pfmul(v24, v16)));
  *(__m64 *)(a1 + 40) = v26;
  v27 = *(__m64 *)(a2 + 56);
  v28 = *(__m64 *)(a2 + 48);
  v29 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 48), v14), _m_pfmul(v28, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 56), v11), _m_pfmul(v27, v12)));
  *(__m64 *)(a1 + 48) = _m_pfadd(
                          _m_pfacc(_m_pfmul(v28, v6), _m_pfmul(v28, v7)),
                          _m_pfacc(_m_pfmul(v27, v17), _m_pfmul(v27, v16)));
  *(__m64 *)(a1 + 56) = v29;
  _m_femms();
  return result;
}

//----- (00462709) --------------------------------------------------------
double __stdcall sub_462709(int a1)
{
  __m64 v1; // mm0@1
  __m64 v2; // mm3@1
  __m64 v3; // mm4@1
  __m64 v4; // mm2@1
  __m64 v5; // mm3@1
  __m64 v6; // mm4@1

  v1 = *(__m64 *)(a1 + 36);
  v2 = *(__m64 *)(a1 + 52);
  v3 = _m_pfsub(
         _m_pfmul(_m_punpckhdq(*(__m64 *)(a1 + 56), *(__m64 *)(a1 + 56)), v1),
         _m_pfmul(_m_punpckhdq(*(__m64 *)(a1 + 40), *(__m64 *)(a1 + 40)), v2));
  v4 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)(a1 + 32), *(__m64 *)(a1 + 32)), *(__m64 *)(a1 + 56)),
         _m_pfmul(_m_punpckldq(*(__m64 *)(a1 + 48), *(__m64 *)(a1 + 48)), *(__m64 *)(a1 + 40)));
  v5 = _m_pfsub(_m_pfmul(v2, *(__m64 *)(a1 + 32)), _m_pfmul(v1, *(__m64 *)(a1 + 48)));
  v6 = _m_pfsub(
         _m_pfmul(
           _m_pfsub(
             _m_pfadd(
               _m_pfmul(v3, *(__m64 *)(a1 + 16)),
               _m_pfmul(v5, _m_punpckhdq(*(__m64 *)(a1 + 24), *(__m64 *)(a1 + 24)))),
             _m_pfmul(_m_punpckldq(_m_punpckhdq(v4, v4), v3), *(__m64 *)(a1 + 20))),
           _m_punpckldq(*(__m64 *)(a1 + 8), (__m64)*(_DWORD *)a1)),
         _m_pfmul(
           _m_pfsub(
             _m_pfadd(
               _m_pfmul(_m_punpckhdq(v5, v3), _m_punpckldq(*(__m64 *)(a1 + 16), *(__m64 *)(a1 + 16))),
               _m_pfmul(_m_punpckldq(v5, v4), *(__m64 *)(a1 + 24))),
             _m_pfmul(v4, *(__m64 *)(a1 + 20))),
           _m_punpckhdq(*(__m64 *)(a1 + 8), *(__m64 *)a1)));
  _m_femms();
  return COERCE_FLOAT(_mm_cvtsi64_si32(_m_pfacc(v6, v6)));
}

//----- (004627D8) --------------------------------------------------------
int __stdcall sub_4627D8(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int result; // eax@1

  result = a1;
  _m_femms();
  *(_QWORD *)a1 = qword_4BB700;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 16) = qword_4BB6F8;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = qword_4BB700;
  *(__m64 *)(a1 + 48) = _m_punpckldq(_mm_cvtsi32_si64(a2), _mm_cvtsi32_si64(a3));
  *(__m64 *)(a1 + 56) = _m_punpckldq(_mm_cvtsi32_si64(a4), (__m64)qword_4BB700);
  _m_femms();
  return result;
}
// 4BB6F8: using guessed type __int64 qword_4BB6F8;
// 4BB700: using guessed type __int64 qword_4BB700;

//----- (00462828) --------------------------------------------------------
int __stdcall sub_462828(int a1, __m64 *a2, int a3)
{
  int result; // eax@1
  __m64 v4; // mm6@1
  __m64 v5; // mm3@1
  __m64 v6; // mm7@1
  __m64 v7; // mm3@1
  __m64 v8; // mm1@1
  __m64 v9; // mm0@1
  __m64 v10; // mm2@1
  __m64 v11; // mm1@1
  __m64 v12; // mm3@1
  __m64 v13; // mm1@1
  __m64 v14; // mm3@1
  __m64 v15; // [sp+0h] [bp-14h]@1
  __m64 v16; // [sp+8h] [bp-Ch]@1

  _m_femms();
  sub_46790B((int)&v15, a3);
  result = a1;
  v4 = (__m64)a2->m64_u64;
  v5 = a2[1];
  v6 = v5;
  v7 = _m_pfmul(v5, v16);
  v8 = _m_pfadd(_m_pfmul((__m64)a2->m64_u64, v15), v7);
  v9 = _m_pxor(v15, (__m64)qword_4BB708);
  v10 = _m_pxor(v16, (__m64)qword_4BB708);
  v11 = _m_pfacc(v8, v8);
  v12 = _m_punpckldq(v7, v11);
  v13 = _m_psllq(v11, 0x20u);
  v14 = _m_psrlq(v12, 0x20u);
  *(__m64 *)a1 = _m_pfadd(_m_pfmul(_m_punpckldq(v9, v9), (__m64)a2->m64_u64), v14);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_punpckldq(v9, v9), v6);
  *(__m64 *)(a1 + 16) = _m_pfadd(_m_pfmul(_m_punpckhdq(v9, v9), v4), v13);
  *(__m64 *)(a1 + 24) = _m_pfmul(_m_punpckhdq(v9, v9), v6);
  *(__m64 *)(a1 + 32) = _m_pfmul(_m_punpckldq(v10, v10), v4);
  *(__m64 *)(a1 + 40) = _m_pfadd(_m_pfmul(_m_punpckldq(v10, v10), v6), v14);
  *(__m64 *)(a1 + 48) = _m_pfmul(_m_punpckhdq(v10, v10), v4);
  *(__m64 *)(a1 + 56) = _m_pfadd(_m_pfmul(_m_punpckhdq(v10, v10), v6), v13);
  _m_femms();
  return result;
}
// 4BB708: using guessed type __int64 qword_4BB708;

//----- (00462913) --------------------------------------------------------
int __stdcall sub_462913(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm3@1
  __m64 v4; // mm0@1
  __m64 v5; // mm1@1
  __m64 v6; // mm6@1
  __m64 v7; // mm4@1
  __m64 v8; // mm6@1
  __m64 v9; // mm4@1
  __m64 v10; // mm6@1
  __m64 v11; // [sp+0h] [bp-14h]@1
  __m64 v12; // [sp+8h] [bp-Ch]@1

  _m_femms();
  sub_46790B((int)&v11, a2);
  result = a1;
  v3 = v12;
  v4 = _m_pfmul(v11, (__m64)qword_4BB710);
  v5 = _m_pfmul(v12, (__m64)qword_4BB718);
  v6 = v11;
  v7 = _m_punpckldq(v6, v6);
  v8 = _m_punpckhdq(v6, v6);
  *(__m64 *)a1 = _m_pfadd(_m_pfmul(v7, v4), (__m64)qword_4BB700);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_psrlq(v7, 0x20u), v5);
  *(__m64 *)(a1 + 16) = _m_pfadd(_m_pfmul(v8, v4), (__m64)qword_4BB6F8);
  *(__m64 *)(a1 + 24) = _m_pfmul(_m_psrlq(v8, 0x20u), v5);
  v9 = _m_punpckldq(v3, v3);
  v10 = _m_punpckhdq(v3, v3);
  *(__m64 *)(a1 + 32) = _m_pfmul(v9, v4);
  *(__m64 *)(a1 + 40) = _m_pfadd(_m_pfmul(_m_psrlq(v9, 0x20u), v5), (__m64)qword_4BB700);
  *(__m64 *)(a1 + 48) = _m_pfmul(v10, v4);
  *(__m64 *)(a1 + 56) = _m_pfadd(_m_pfmul(_m_psrlq(v10, 0x20u), v5), (__m64)qword_4BB6F8);
  _m_femms();
  return result;
}
// 4BB6F8: using guessed type __int64 qword_4BB6F8;
// 4BB700: using guessed type __int64 qword_4BB700;
// 4BB710: using guessed type __int64 qword_4BB710;
// 4BB718: using guessed type __int64 qword_4BB718;

//----- (004629EF) --------------------------------------------------------
int __stdcall sub_4629EF(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __m64 v4; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_472760(v2);
  result = a1;
  v4 = _m_psrlq(v2, 0x20u);
  *(_QWORD *)a1 = qword_4BB700;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_DWORD *)(a1 + 16) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 20) = _mm_cvtsi64_si32(v2);
  *(__m64 *)(a1 + 24) = v4;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_4BB6F8;
  *(_DWORD *)(a1 + 32) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 36) = _mm_cvtsi64_si32(_m_pxor(v4, (__m64)qword_4BB6B0));
  *(_DWORD *)(a1 + 40) = _mm_cvtsi64_si32(v2);
  *(_DWORD *)(a1 + 44) = _mm_cvtsi64_si32(0i64);
  _m_femms();
  return result;
}
// 4BB6B0: using guessed type __int64 qword_4BB6B0;
// 4BB6F8: using guessed type __int64 qword_4BB6F8;
// 4BB700: using guessed type __int64 qword_4BB700;

//----- (00462A52) --------------------------------------------------------
int __stdcall sub_462A52(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __m64 v4; // mm4@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_472760(v2);
  result = a1;
  v4 = v2;
  v5 = _m_pand(v2, (__m64)qword_4BB688);
  v6 = _m_psrlq(v4, 0x20u);
  *(_QWORD *)(a1 + 16) = qword_4BB6F8;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_4BB6F8;
  *(__m64 *)(a1 + 32) = v6;
  *(__m64 *)a1 = v5;
  *(__m64 *)(a1 + 40) = v5;
  *(__m64 *)(a1 + 8) = _m_pxor(v6, (__m64)qword_4BB6B0);
  _m_femms();
  return result;
}
// 4BB688: using guessed type __int64 qword_4BB688;
// 4BB6B0: using guessed type __int64 qword_4BB6B0;
// 4BB6F8: using guessed type __int64 qword_4BB6F8;
// 4BB700: using guessed type __int64 qword_4BB700;

//----- (00462AB0) --------------------------------------------------------
int __stdcall sub_462AB0(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_472760(v2);
  result = a1;
  *(__m64 *)a1 = v2;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = qword_4BB700;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_4BB6F8;
  *(__m64 *)(a1 + 16) = _m_pxor(_m_punpckldq(_m_punpckhdq(v2, v2), v2), (__m64)qword_4BB6B0);
  _m_femms();
  return result;
}
// 4BB6B0: using guessed type __int64 qword_4BB6B0;
// 4BB6F8: using guessed type __int64 qword_4BB6F8;
// 4BB700: using guessed type __int64 qword_4BB700;

//----- (00462B09) --------------------------------------------------------
int __stdcall sub_462B09(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int result; // eax@1

  _m_femms();
  result = a1;
  *(__m64 *)a1 = _mm_cvtsi32_si64(a2);
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(__m64 *)(a1 + 16) = _m_psllq(_mm_cvtsi32_si64(a3), 0x20u);
  *(__m64 *)(a1 + 40) = _mm_cvtsi32_si64(a4);
  *(_QWORD *)(a1 + 56) = qword_4BB6F8;
  _m_femms();
  return result;
}
// 4BB6F8: using guessed type __int64 qword_4BB6F8;

//----- (00462B50) --------------------------------------------------------
int __stdcall sub_462B50(int a1, __m64 *a2)
{
  __m64 v2; // mm1@1
  __m64 v3; // mm3@1
  __m64 v4; // mm4@1
  int result; // eax@1
  __m64 v6; // mm2@1
  __m64 v7; // mm6@1
  __m64 v8; // mm7@1
  __m64 v9; // mm0@1
  __m64 v10; // mm4@1

  v2 = a2[2];
  v3 = a2[5];
  v4 = a2[7];
  result = a1;
  v6 = _m_punpckhdq((__m64)a2->m64_u64, v2);
  *(__m64 *)a1 = _m_punpckldq((__m64)a2->m64_u64, v2);
  *(__m64 *)(a1 + 16) = v6;
  v7 = a2[1];
  v8 = a2[3];
  v9 = a2[4];
  *(__m64 *)(a1 + 40) = _m_punpckldq(v3, v4);
  *(__m64 *)(a1 + 56) = _m_punpckhdq(v3, v4);
  v10 = a2[6];
  *(__m64 *)(a1 + 32) = _m_punpckldq(v7, v8);
  *(__m64 *)(a1 + 48) = _m_punpckhdq(v7, v8);
  *(__m64 *)(a1 + 24) = _m_punpckhdq(v9, v10);
  *(__m64 *)(a1 + 8) = _m_punpckldq(v9, v10);
  _m_femms();
  return result;
}

//----- (00462BBF) --------------------------------------------------------
int __cdecl sub_462BBF(int a1)
{
  __m64 v1; // mm1@1
  int result; // eax@1
  __m64 v3; // mm2@1

  v1 = _mm_cvtsi32_si64(qword_4BB628);
  result = a1;
  *(__m64 *)a1 = v1;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(__m64 *)(a1 + 40) = v1;
  v3 = _m_punpckldq(_m_punpckhdq(v1, v1), v1);
  *(_QWORD *)(a1 + 48) = 0i64;
  *(__m64 *)(a1 + 16) = v3;
  *(__m64 *)(a1 + 56) = v3;
  _m_femms();
  return result;
}
// 4BB628: using guessed type __int64 qword_4BB628;

//----- (00462BF8) --------------------------------------------------------
int __stdcall sub_462BF8(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm0@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1
  __m64 v7; // mm3@1
  __m64 v8; // mm5@1
  __m64 v9; // mm6@1
  __m64 v10; // mm7@1
  __m64 v11; // mm1@1
  __m64 v12; // mm6@1
  __m64 v13; // mm2@1
  __m64 v14; // mm1@1
  __m64 v15; // mm4@1
  __m64 v16; // mm6@1
  __m64 v17; // mm7@1
  __m64 v18; // mm1@1
  __m64 v19; // mm3@1
  __m64 v20; // mm2@1
  __m64 v21; // mm3@1
  __m64 v22; // mm5@1

  result = a1;
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_pfadd(v3, v3);
  v6 = _m_punpckhdq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8));
  v7 = _m_pfmul(*(__m64 *)a2, v5);
  v8 = _m_pfmul(v5, v6);
  v9 = _m_punpckldq(_m_pfadd(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8)), v5);
  v10 = _m_pfmul(_m_punpckldq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8)), v9);
  v11 = _m_pfmul(v9, _m_punpckhdq(v4, v4));
  v12 = _m_pfmul(v9, v6);
  v13 = v11;
  v14 = _m_punpckhdq(v11, v10);
  *(_QWORD *)(a1 + 48) = 0i64;
  v15 = v14;
  v16 = _m_punpckhdq(_m_punpckldq(v12, v12), v8);
  v17 = _m_pfsubr(_m_pfadd(_m_punpckldq(v10, v10), v7), (__m64)qword_4BB638);
  v18 = _m_pfadd(v14, v16);
  *(__m64 *)(a1 + 40) = _m_punpckldq(_m_pfsubr(_m_pfacc(v7, v7), (__m64)qword_4BB638), 0i64);
  v19 = v13;
  v20 = _m_pfadd(v13, v8);
  v21 = _m_pfsub(v19, v8);
  v22 = _m_pfsub(v15, v16);
  *(__m64 *)(a1 + 24) = _m_punpckldq(v20, 0i64);
  *(__m64 *)(a1 + 8) = _m_punpckhdq(v22, 0i64);
  *(__m64 *)(a1 + 16) = _m_punpckldq(v22, v17);
  *(__m64 *)a1 = _m_punpckhdq(v17, _m_punpckldq(v18, v18));
  *(__m64 *)(a1 + 32) = _m_punpckldq(_m_punpckhdq(v18, v18), v21);
  *(__m64 *)(a1 + 56) = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;

//----- (00462CCA) --------------------------------------------------------
int __stdcall sub_462CCA(int a1, __m64 *a2)
{
  int result; // eax@1
  __m64 v3; // mm0@1
  __m64 v4; // mm6@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1
  __m64 v7; // mm1@1
  __m64 v8; // mm5@1
  __m64 v9; // mm0@1
  __m64 v10; // mm5@1
  __m64 v11; // mm2@1
  __m64 v12; // mm3@1
  __m64 v13; // mm1@1
  __m64 v14; // mm6@1
  __m64 v15; // mm4@1
  __m64 v16; // mm3@1
  __m64 v17; // mm6@1
  __m64 v18; // mm2@1
  __m64 v19; // mm0@1

  result = a1;
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_pfadd(v3, v3);
  v6 = a2[1];
  v7 = _m_pfadd(v6, v6);
  v8 = v5;
  v9 = _m_pfmul(v5, (__m64)a2->m64_u64);
  v10 = _m_punpckldq(v8, v7);
  v11 = _m_pfmul((__m64)a2->m64_u64, v7);
  v12 = _m_pfmul(_m_pswapd((__m64)a2->m64_u64), v7);
  v13 = _m_pfmul(v7, v6);
  v14 = _m_pfmul(_m_punpckhdq(v4, v6), v10);
  v15 = v9;
  v16 = _m_pfpnacc(v12, v12);
  v17 = _m_pfpnacc(v14, v14);
  v18 = _m_pfpnacc(v11, v11);
  v19 = _m_pfsub(_m_pfsubr(v9, (__m64)qword_4BB638), _m_punpckldq(v13, v13));
  *(_QWORD *)(a1 + 48) = 0i64;
  *(__m64 *)(a1 + 32) = _m_punpckldq(_m_pswapd(v18), v16);
  *(__m64 *)(a1 + 8) = _m_punpckldq(v18, 0i64);
  *(__m64 *)(a1 + 40) = _m_punpckhdq(_m_pfsubr(_m_pfacc(v15, v15), (__m64)qword_4BB638), 0i64);
  *(__m64 *)a1 = _m_punpckhdq(v19, v17);
  *(__m64 *)(a1 + 16) = _m_punpckldq(v17, v19);
  *(__m64 *)(a1 + 24) = _m_punpckhdq(v16, 0i64);
  *(__m64 *)(a1 + 56) = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;

//----- (00462D7F) --------------------------------------------------------
int __stdcall sub_462D7F(int a1, __m64 *a2, int a3, __m64 *a4, __m64 *a5, int a6, __m64 *a7)
{
  int result; // eax@1
  __m64 v8; // mm0@3
  __m64 v9; // mm2@3
  __m64 v10; // mm0@3
  __m64 v11; // mm4@3
  __m64 v12; // mm3@3
  __m64 v13; // mm5@3
  __m64 v14; // mm6@3
  __m64 v15; // mm7@3
  __m64 v16; // mm1@3
  __m64 v17; // mm6@3
  __m64 v18; // mm2@3
  __m64 v19; // mm1@3
  __m64 v20; // mm4@3
  __m64 v21; // mm6@3
  __m64 v22; // mm7@3
  __m64 v23; // mm1@3
  __m64 v24; // mm3@3
  __m64 v25; // mm2@3
  __m64 v26; // mm3@3
  __m64 v27; // mm5@3
  __m64 v28; // ST80_8@4
  __m64 v29; // ST90_8@4
  __m64 v30; // STA8_8@4
  __m64 v31; // STB8_8@4
  __m64 v32; // STA0_8@4
  __m64 v33; // STB0_8@4
  __m64 v34; // ST98_8@4
  __m64 v35; // ST88_8@4
  __m64 v36; // mm3@4
  __m64 v37; // mm4@4
  __m64 v38; // mm1@4
  __m64 v39; // mm2@4
  __m64 v40; // mm2@4
  __m64 v41; // mm1@4
  __m64 v42; // mm2@4
  __m64 v43; // mm3@4
  __m64 v44; // mm0@4
  __m64 v45; // mm1@4
  __m64 v46; // mm2@4
  __m64 v47; // mm5@4
  __m64 v48; // mm3@4
  __m64 v49; // mm2@4
  __m64 v50; // mm7@4
  __m64 v51; // mm0@4
  __m64 v52; // mm3@4
  __m64 v53; // mm1@4
  __m64 v54; // mm2@4
  __m64 v55; // mm3@4
  __m64 v56; // mm0@4
  __m64 v57; // mm1@4
  __m64 v58; // mm2@4
  __m64 v59; // mm5@4
  __m64 v60; // mm3@4
  __m64 v61; // mm2@4
  __m64 v62; // mm7@4
  __m64 v63; // mm0@4
  __m64 v64; // mm3@4
  __m64 v65; // mm1@4
  __m64 v66; // mm2@4
  __m64 v67; // mm3@4
  __m64 v68; // mm0@4
  __m64 v69; // mm1@4
  __m64 v70; // mm2@4
  __m64 v71; // mm5@4
  __m64 v72; // mm3@4
  __m64 v73; // mm2@4
  __m64 v74; // mm7@4
  __m64 v75; // mm0@4
  __m64 v76; // mm3@4
  __m64 v77; // mm1@4
  __m64 v78; // mm2@4
  __m64 v79; // mm3@4
  __m64 v80; // mm0@4
  __m64 v81; // mm1@4
  __m64 v82; // mm2@4
  __m64 v83; // mm5@4
  __m64 v84; // mm3@4
  __m64 v85; // mm7@4
  __m64 v86; // mm2@4
  __m64 v87; // mm3@4
  __m64 v88; // mm1@4
  __m64 v89; // mm2@4
  __m64 v90; // mm3@4
  __m64 v91; // mm0@4
  __m64 v92; // mm1@4
  __m64 v93; // mm2@4
  __m64 v94; // mm5@4
  __m64 v95; // mm3@4
  __m64 v96; // mm2@4
  __m64 v97; // mm7@4
  __m64 v98; // mm0@4
  __m64 v99; // mm3@4
  __m64 v100; // mm1@4
  __m64 v101; // mm2@4
  __m64 v102; // mm3@4
  __m64 v103; // mm0@4
  __m64 v104; // mm1@4
  __m64 v105; // mm2@4
  __m64 v106; // mm5@4
  __m64 v107; // mm3@4
  __m64 v108; // mm2@4
  __m64 v109; // mm7@4
  __m64 v110; // mm0@4
  __m64 v111; // mm3@4
  __m64 v112; // mm1@4
  __m64 v113; // mm2@4
  __m64 v114; // mm3@4
  __m64 v115; // mm0@4
  __m64 v116; // mm1@4
  __m64 v117; // mm2@4
  __m64 v118; // mm5@4
  __m64 v119; // mm3@4
  __m64 v120; // mm2@4
  __m64 v121; // mm7@4
  __m64 v122; // mm0@4
  __m64 v123; // mm3@4
  __m64 v124; // mm1@4
  __m64 v125; // mm2@4
  __m64 v126; // mm3@4
  __m64 v127; // mm0@4
  __m64 v128; // mm1@4
  __m64 v129; // mm2@4
  __m64 v130; // mm5@4
  __m64 v131; // mm3@4
  __m64 v132; // mm7@4
  __m64 v133; // mm2@4
  __m64 v134; // mm3@4
  __m64 v135; // mm1@4
  __m64 v136; // mm2@4
  __m64 v137; // mm3@4
  __m64 v138; // mm0@4
  __m64 v139; // mm1@4
  __m64 v140; // mm2@4
  __m64 v141; // mm5@4
  __m64 v142; // mm3@4
  __m64 v143; // mm2@4
  __m64 v144; // mm7@4
  __m64 v145; // mm0@4
  __m64 v146; // mm3@4
  __m64 v147; // mm1@4
  __m64 v148; // mm2@4
  __m64 v149; // mm3@4
  __m64 v150; // mm0@4
  __m64 v151; // mm1@4
  __m64 v152; // mm2@4
  __m64 v153; // mm5@4
  __m64 v154; // mm3@4
  __m64 v155; // mm2@4
  __m64 v156; // mm7@4
  __m64 v157; // mm0@4
  __m64 v158; // mm3@4
  __m64 v159; // mm1@4
  __m64 v160; // mm2@4
  __m64 v161; // mm3@4
  __m64 v162; // mm0@4
  __m64 v163; // mm1@4
  __m64 v164; // mm2@4
  __m64 v165; // mm5@4
  __m64 v166; // mm3@4
  __m64 v167; // mm2@4
  __m64 v168; // mm7@4
  __m64 v169; // mm0@4
  __m64 v170; // mm3@4
  __m64 v171; // mm1@4
  __m64 v172; // mm2@4
  __m64 v173; // mm3@4
  __m64 v174; // mm0@4
  __m64 v175; // mm1@4
  __m64 v176; // mm2@4
  __m64 v177; // mm3@4
  __m64 v178; // mm2@4
  __m64 v179; // mm3@5
  __m64 v180; // mm2@5
  __m64 v181; // mm1@5
  __m64 v182; // mm2@5
  __m64 v183; // mm3@5
  __m64 v184; // mm0@5
  __m64 v185; // mm1@5
  __m64 v186; // mm2@5
  __m64 v187; // mm5@5
  __m64 v188; // mm3@5
  __m64 v189; // mm2@5
  __m64 v190; // mm7@5
  __m64 v191; // mm0@5
  __m64 v192; // mm3@5
  __m64 v193; // mm1@5
  __m64 v194; // mm2@5
  __m64 v195; // mm3@5
  __m64 v196; // mm0@5
  __m64 v197; // mm1@5
  __m64 v198; // mm2@5
  __m64 v199; // mm5@5
  __m64 v200; // mm3@5
  __m64 v201; // mm2@5
  __m64 v202; // mm7@5
  __m64 v203; // mm0@5
  __m64 v204; // mm3@5
  __m64 v205; // mm1@5
  __m64 v206; // mm2@5
  __m64 v207; // mm3@5
  __m64 v208; // mm0@5
  __m64 v209; // mm1@5
  __m64 v210; // mm2@5
  __m64 v211; // mm5@5
  __m64 v212; // mm3@5
  __m64 v213; // mm2@5
  __m64 v214; // mm7@5
  __m64 v215; // mm0@5
  __m64 v216; // mm3@5
  __m64 v217; // mm1@5
  __m64 v218; // mm2@5
  __m64 v219; // mm3@5
  __m64 v220; // mm0@5
  __m64 v221; // mm1@5
  __m64 v222; // mm2@5
  __m64 v223; // mm5@5
  __m64 v224; // mm3@5
  __m64 v225; // mm7@5
  __m64 v226; // mm2@5
  __m64 v227; // mm3@5
  __m64 v228; // mm1@5
  __m64 v229; // mm2@5
  __m64 v230; // mm3@5
  __m64 v231; // mm0@5
  __m64 v232; // mm1@5
  __m64 v233; // mm2@5
  __m64 v234; // mm5@5
  __m64 v235; // mm3@5
  __m64 v236; // mm2@5
  __m64 v237; // mm7@5
  __m64 v238; // mm0@5
  __m64 v239; // mm3@5
  __m64 v240; // mm1@5
  __m64 v241; // mm2@5
  __m64 v242; // mm3@5
  __m64 v243; // mm0@5
  __m64 v244; // mm1@5
  __m64 v245; // mm2@5
  __m64 v246; // mm5@5
  __m64 v247; // mm3@5
  __m64 v248; // mm2@5
  __m64 v249; // mm7@5
  __m64 v250; // mm0@5
  __m64 v251; // mm3@5
  __m64 v252; // mm1@5
  __m64 v253; // mm2@5
  __m64 v254; // mm3@5
  __m64 v255; // mm0@5
  __m64 v256; // mm1@5
  __m64 v257; // mm2@5
  __m64 v258; // mm5@5
  __m64 v259; // mm3@5
  __m64 v260; // mm2@5
  __m64 v261; // mm7@5
  __m64 v262; // mm0@5
  __m64 v263; // mm3@5
  __m64 v264; // mm1@5
  __m64 v265; // mm2@5
  __m64 v266; // mm3@5
  __m64 v267; // mm0@5
  __m64 v268; // mm1@5
  __m64 v269; // mm2@5
  __m64 v270; // mm3@5
  __m64 v271; // mm4@6
  __m64 v272; // mm5@6
  __m64 v273; // mm1@7
  __m64 v274; // mm2@7
  __m64 v275; // mm0@9
  __m64 v276; // mm2@9
  __m64 v277; // mm0@9
  __m64 v278; // mm4@9
  __m64 v279; // mm3@9
  __m64 v280; // mm5@9
  __m64 v281; // mm6@9
  __m64 v282; // mm7@9
  __m64 v283; // mm1@9
  __m64 v284; // mm6@9
  __m64 v285; // mm2@9
  __m64 v286; // mm1@9
  __m64 v287; // mm4@9
  __m64 v288; // mm6@9
  __m64 v289; // mm7@9
  __m64 v290; // mm1@9
  __m64 v291; // mm3@9
  __m64 v292; // mm2@9
  __m64 v293; // mm3@9
  __m64 v294; // mm5@9
  __m64 v295; // mm2@9
  __m64 v296; // mm2@10
  __m64 v297; // mm3@10
  __m64 v298; // mm1@10
  __m64 v299; // mm1@10
  __m64 v300; // mm2@10
  __m64 v301; // mm3@10
  __m64 v302; // mm0@10
  __m64 v303; // mm1@10
  __m64 v304; // mm2@10
  __m64 v305; // mm5@10
  __m64 v306; // mm3@10
  __m64 v307; // mm2@10
  __m64 v308; // mm7@10
  __m64 v309; // mm0@10
  __m64 v310; // mm3@10
  __m64 v311; // mm1@10
  __m64 v312; // mm2@10
  __m64 v313; // mm3@10
  __m64 v314; // mm0@10
  __m64 v315; // mm1@10
  __m64 v316; // mm2@10
  __m64 v317; // mm5@10
  __m64 v318; // mm3@10
  __m64 v319; // mm2@10
  __m64 v320; // mm7@10
  __m64 v321; // mm0@10
  __m64 v322; // mm3@10
  __m64 v323; // mm1@10
  __m64 v324; // mm2@10
  __m64 v325; // mm3@10
  __m64 v326; // mm0@10
  __m64 v327; // mm1@10
  __m64 v328; // mm2@10
  __m64 v329; // mm5@10
  __m64 v330; // mm3@10
  __m64 v331; // mm2@10
  __m64 v332; // mm7@10
  __m64 v333; // mm0@10
  __m64 v334; // mm3@10
  __m64 v335; // mm1@10
  __m64 v336; // mm2@10
  __m64 v337; // mm3@10
  __m64 v338; // mm0@10
  __m64 v339; // mm1@10
  __m64 v340; // mm2@10
  __m64 v341; // mm3@10
  __m64 v342; // mm1@10
  __m64 v343; // mm1@11
  __m64 v344; // mm2@11
  __m64 v345; // mm3@11
  __m64 v346; // mm0@11
  __m64 v347; // mm1@11
  __m64 v348; // mm2@11
  __m64 v349; // mm5@11
  __m64 v350; // mm3@11
  __m64 v351; // mm2@11
  __m64 v352; // mm7@11
  __m64 v353; // mm0@11
  __m64 v354; // mm3@11
  __m64 v355; // mm1@11
  __m64 v356; // mm2@11
  __m64 v357; // mm3@11
  __m64 v358; // mm0@11
  __m64 v359; // mm1@11
  __m64 v360; // mm2@11
  __m64 v361; // mm5@11
  __m64 v362; // mm3@11
  __m64 v363; // mm2@11
  __m64 v364; // mm7@11
  __m64 v365; // mm0@11
  __m64 v366; // mm3@11
  __m64 v367; // mm1@11
  __m64 v368; // mm2@11
  __m64 v369; // mm3@11
  __m64 v370; // mm0@11
  __m64 v371; // mm1@11
  __m64 v372; // mm2@11
  __m64 v373; // mm5@11
  __m64 v374; // mm3@11
  __m64 v375; // mm2@11
  __m64 v376; // mm7@11
  __m64 v377; // mm0@11
  __m64 v378; // mm3@11
  __m64 v379; // mm1@11
  __m64 v380; // mm2@11
  __m64 v381; // mm3@11
  __m64 v382; // mm0@11
  __m64 v383; // mm1@11
  __m64 v384; // mm2@11
  __m64 v385; // mm3@11
  __m64 v386; // mm1@13
  __m64 v387; // [sp+0h] [bp-C0h]@3
  __m64 v388; // [sp+10h] [bp-B0h]@3
  __m64 v389; // [sp+28h] [bp-98h]@3
  __m64 v390; // [sp+40h] [bp-80h]@3
  __m64 v391; // [sp+40h] [bp-80h]@9
  __m64 v392; // [sp+48h] [bp-78h]@3
  __m64 v393; // [sp+48h] [bp-78h]@9
  __m64 v394; // [sp+50h] [bp-70h]@3
  __m64 v395; // [sp+50h] [bp-70h]@9
  __m64 v396; // [sp+58h] [bp-68h]@3
  __m64 v397; // [sp+58h] [bp-68h]@9
  __m64 v398; // [sp+60h] [bp-60h]@3
  __m64 v399; // [sp+60h] [bp-60h]@9
  __m64 v400; // [sp+68h] [bp-58h]@3
  __m64 v401; // [sp+68h] [bp-58h]@9
  __m64 v402; // [sp+78h] [bp-48h]@3
  __m64 v403; // [sp+78h] [bp-48h]@9

  result = a1;
  if ( a4 )
  {
    if ( a3 )
    {
      v387 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      v388 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      v389 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v8 = *(__m64 *)a3;
      v9 = v8;
      v10 = _m_pfadd(v8, v8);
      v11 = _m_punpckhdq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8));
      v12 = _m_pfmul(*(__m64 *)a3, v10);
      v13 = _m_pfmul(v10, v11);
      v14 = _m_punpckldq(_m_pfadd(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), v10);
      v15 = _m_pfmul(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), v14);
      v16 = _m_pfmul(v14, _m_punpckhdq(v9, v9));
      v17 = _m_pfmul(v14, v11);
      v18 = v16;
      v19 = _m_punpckhdq(v16, v15);
      v20 = v19;
      v21 = _m_punpckhdq(_m_punpckldq(v17, v17), v13);
      v22 = _m_pfsubr(_m_pfadd(_m_punpckldq(v15, v15), v12), (__m64)qword_4BB638);
      v23 = _m_pfadd(v19, v21);
      v400 = _m_punpckldq(_m_pfsubr(_m_pfacc(v12, v12), (__m64)qword_4BB638), 0i64);
      v24 = v18;
      v25 = _m_pfadd(v18, v13);
      v26 = _m_pfsub(v24, v13);
      v27 = _m_pfsub(v20, v21);
      v396 = _m_punpckldq(v25, 0i64);
      v392 = _m_punpckhdq(v27, 0i64);
      v394 = _m_punpckldq(v27, v22);
      v390 = _m_punpckhdq(v22, _m_punpckldq(v23, v23));
      v398 = _m_punpckldq(_m_punpckhdq(v23, v23), v26);
      v402 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
      if ( a2 )
      {
        v28 = _m_punpckldq(v390, v394);
        v29 = _m_punpckhdq(v390, v394);
        v30 = _m_punpckldq(v400, v402);
        v31 = _m_punpckhdq(v400, v402);
        v32 = _m_punpckldq(v392, v396);
        v33 = _m_punpckhdq(v392, v396);
        v34 = _m_punpckhdq(v398, 0i64);
        v35 = _m_punpckldq(v398, 0i64);
        result = a1;
        v36 = (__m64)a2->m64_u64;
        v37 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
        v38 = _mm_cvtsi32_si64(qword_4BB628);
        v39 = _m_punpckldq(_m_punpckhdq(v38, v38), v38);
        *(__m64 *)a1 = v38;
        *(_QWORD *)(a1 + 8) = 0i64;
        *(__m64 *)(a1 + 16) = v39;
        *(_QWORD *)(a1 + 24) = 0i64;
        *(_QWORD *)(a1 + 32) = 0i64;
        *(__m64 *)(a1 + 40) = v38;
        v40 = _m_pfsub(v39, v37);
        *(__m64 *)(a1 + 56) = v40;
        *(__m64 *)(a1 + 48) = _m_pfsub(0i64, v36);
        v41 = *(__m64 *)(a1 + 8);
        v42 = _m_punpckhdq(v40, *(__m64 *)a1);
        v43 = _m_punpckhdq(v36, v41);
        v44 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v45 = _m_punpckldq(v41, v41);
        v46 = _m_punpckhdq(v42, v42);
        v47 = _m_pfmul(v29, v46);
        v48 = _m_punpckhdq(v43, v43);
        v49 = _m_pfadd(_m_pfadd(_m_pfmul(v46, v34), _m_pfmul(v44, v35)), _m_pfmul(v45, v30));
        v50 = _m_pfadd(_m_pfmul(v33, v48), _m_pfadd(_m_pfmul(v32, v45), _m_pfadd(v47, _m_pfmul(v28, v44))));
        v51 = *(__m64 *)(a1 + 16);
        v52 = _m_pfadd(_m_pfmul(v48, v31), v49);
        v53 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v50;
        *(__m64 *)(a1 + 8) = v52;
        v54 = _m_punpckhdq(v49, v51);
        v55 = _m_punpckhdq(v52, v53);
        v56 = _m_punpckldq(v51, v51);
        v57 = _m_punpckldq(v53, v53);
        v58 = _m_punpckhdq(v54, v54);
        v59 = _m_pfmul(v29, v58);
        v60 = _m_punpckhdq(v55, v55);
        v61 = _m_pfadd(_m_pfadd(_m_pfmul(v58, v34), _m_pfmul(v56, v35)), _m_pfmul(v57, v30));
        v62 = _m_pfadd(_m_pfmul(v33, v60), _m_pfadd(_m_pfmul(v32, v57), _m_pfadd(v59, _m_pfmul(v28, v56))));
        v63 = *(__m64 *)(a1 + 32);
        v64 = _m_pfadd(_m_pfmul(v60, v31), v61);
        v65 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v62;
        *(__m64 *)(a1 + 24) = v64;
        v66 = _m_punpckhdq(v61, v63);
        v67 = _m_punpckhdq(v64, v65);
        v68 = _m_punpckldq(v63, v63);
        v69 = _m_punpckldq(v65, v65);
        v70 = _m_punpckhdq(v66, v66);
        v71 = _m_pfmul(v29, v70);
        v72 = _m_punpckhdq(v67, v67);
        v73 = _m_pfadd(_m_pfadd(_m_pfmul(v70, v34), _m_pfmul(v68, v35)), _m_pfmul(v69, v30));
        v74 = _m_pfadd(_m_pfmul(v33, v72), _m_pfadd(_m_pfmul(v32, v69), _m_pfadd(v71, _m_pfmul(v28, v68))));
        v75 = *(__m64 *)(a1 + 48);
        v76 = _m_pfadd(_m_pfmul(v72, v31), v73);
        v77 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v74;
        *(__m64 *)(a1 + 40) = v76;
        v78 = _m_punpckhdq(v73, v75);
        v79 = _m_punpckhdq(v76, v77);
        v80 = _m_punpckldq(v75, v75);
        v81 = _m_punpckldq(v77, v77);
        v82 = _m_punpckhdq(v78, v78);
        v83 = _m_pfmul(v29, v82);
        v84 = _m_punpckhdq(v79, v79);
        v85 = _m_pfmul(v33, v84);
        v86 = _m_pfadd(_m_pfadd(_m_pfmul(v82, v34), _m_pfmul(v80, v35)), _m_pfmul(v81, v30));
        v87 = _m_pfadd(_m_pfmul(v84, v31), v86);
        *(__m64 *)(a1 + 48) = _m_pfadd(v85, _m_pfadd(_m_pfmul(v32, v81), _m_pfadd(v83, _m_pfmul(v28, v80))));
        *(__m64 *)(a1 + 56) = v87;
        v88 = *(__m64 *)(a1 + 8);
        v89 = _m_punpckhdq(v86, *(__m64 *)a1);
        v90 = _m_punpckhdq(v87, v88);
        v91 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v92 = _m_punpckldq(v88, v88);
        v93 = _m_punpckhdq(v89, v89);
        v94 = _m_pfmul(v388, v93);
        v95 = _m_punpckhdq(v90, v90);
        v96 = _m_pfadd(_m_pfadd(_m_pfmul(v93, 0i64), _m_pfmul(v91, 0i64)), _m_pfmul(v92, v389));
        v97 = _m_pfadd(_m_pfmul(0i64, v95), _m_pfadd(_m_pfmul(0i64, v92), _m_pfadd(v94, _m_pfmul(v387, v91))));
        v98 = *(__m64 *)(a1 + 16);
        v99 = _m_pfadd(_m_pfmul(v95, (__m64)qword_4BB618), v96);
        v100 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v97;
        *(__m64 *)(a1 + 8) = v99;
        v101 = _m_punpckhdq(v96, v98);
        v102 = _m_punpckhdq(v99, v100);
        v103 = _m_punpckldq(v98, v98);
        v104 = _m_punpckldq(v100, v100);
        v105 = _m_punpckhdq(v101, v101);
        v106 = _m_pfmul(v388, v105);
        v107 = _m_punpckhdq(v102, v102);
        v108 = _m_pfadd(_m_pfadd(_m_pfmul(v105, 0i64), _m_pfmul(v103, 0i64)), _m_pfmul(v104, v389));
        v109 = _m_pfadd(_m_pfmul(0i64, v107), _m_pfadd(_m_pfmul(0i64, v104), _m_pfadd(v106, _m_pfmul(v387, v103))));
        v110 = *(__m64 *)(a1 + 32);
        v111 = _m_pfadd(_m_pfmul(v107, (__m64)qword_4BB618), v108);
        v112 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v109;
        *(__m64 *)(a1 + 24) = v111;
        v113 = _m_punpckhdq(v108, v110);
        v114 = _m_punpckhdq(v111, v112);
        v115 = _m_punpckldq(v110, v110);
        v116 = _m_punpckldq(v112, v112);
        v117 = _m_punpckhdq(v113, v113);
        v118 = _m_pfmul(v388, v117);
        v119 = _m_punpckhdq(v114, v114);
        v120 = _m_pfadd(_m_pfadd(_m_pfmul(v117, 0i64), _m_pfmul(v115, 0i64)), _m_pfmul(v116, v389));
        v121 = _m_pfadd(_m_pfmul(0i64, v119), _m_pfadd(_m_pfmul(0i64, v116), _m_pfadd(v118, _m_pfmul(v387, v115))));
        v122 = *(__m64 *)(a1 + 48);
        v123 = _m_pfadd(_m_pfmul(v119, (__m64)qword_4BB618), v120);
        v124 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v121;
        *(__m64 *)(a1 + 40) = v123;
        v125 = _m_punpckhdq(v120, v122);
        v126 = _m_punpckhdq(v123, v124);
        v127 = _m_punpckldq(v122, v122);
        v128 = _m_punpckldq(v124, v124);
        v129 = _m_punpckhdq(v125, v125);
        v130 = _m_pfmul(v388, v129);
        v131 = _m_punpckhdq(v126, v126);
        v132 = _m_pfmul(0i64, v131);
        v133 = _m_pfadd(_m_pfadd(_m_pfmul(v129, 0i64), _m_pfmul(v127, 0i64)), _m_pfmul(v128, v389));
        v134 = _m_pfadd(_m_pfmul(v131, (__m64)qword_4BB618), v133);
        *(__m64 *)(a1 + 48) = _m_pfadd(v132, _m_pfadd(_m_pfmul(0i64, v128), _m_pfadd(v130, _m_pfmul(v387, v127))));
        *(__m64 *)(a1 + 56) = v134;
        v135 = *(__m64 *)(a1 + 8);
        v136 = _m_punpckhdq(v133, *(__m64 *)a1);
        v137 = _m_punpckhdq(v134, v135);
        v138 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v139 = _m_punpckldq(v135, v135);
        v140 = _m_punpckhdq(v136, v136);
        v141 = _m_pfmul(v394, v140);
        v142 = _m_punpckhdq(v137, v137);
        v143 = _m_pfadd(_m_pfadd(_m_pfmul(v140, v396), _m_pfmul(v138, v392)), _m_pfmul(v139, v400));
        v144 = _m_pfadd(_m_pfmul(0i64, v142), _m_pfadd(_m_pfmul(v398, v139), _m_pfadd(v141, _m_pfmul(v390, v138))));
        v145 = *(__m64 *)(a1 + 16);
        v146 = _m_pfadd(_m_pfmul(v142, v402), v143);
        v147 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v144;
        *(__m64 *)(a1 + 8) = v146;
        v148 = _m_punpckhdq(v143, v145);
        v149 = _m_punpckhdq(v146, v147);
        v150 = _m_punpckldq(v145, v145);
        v151 = _m_punpckldq(v147, v147);
        v152 = _m_punpckhdq(v148, v148);
        v153 = _m_pfmul(v394, v152);
        v154 = _m_punpckhdq(v149, v149);
        v155 = _m_pfadd(_m_pfadd(_m_pfmul(v152, v396), _m_pfmul(v150, v392)), _m_pfmul(v151, v400));
        v156 = _m_pfadd(_m_pfmul(0i64, v154), _m_pfadd(_m_pfmul(v398, v151), _m_pfadd(v153, _m_pfmul(v390, v150))));
        v157 = *(__m64 *)(a1 + 32);
        v158 = _m_pfadd(_m_pfmul(v154, v402), v155);
        v159 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v156;
        *(__m64 *)(a1 + 24) = v158;
        v160 = _m_punpckhdq(v155, v157);
        v161 = _m_punpckhdq(v158, v159);
        v162 = _m_punpckldq(v157, v157);
        v163 = _m_punpckldq(v159, v159);
        v164 = _m_punpckhdq(v160, v160);
        v165 = _m_pfmul(v394, v164);
        v166 = _m_punpckhdq(v161, v161);
        v167 = _m_pfadd(_m_pfadd(_m_pfmul(v164, v396), _m_pfmul(v162, v392)), _m_pfmul(v163, v400));
        v168 = _m_pfadd(_m_pfmul(0i64, v166), _m_pfadd(_m_pfmul(v398, v163), _m_pfadd(v165, _m_pfmul(v390, v162))));
        v169 = *(__m64 *)(a1 + 48);
        v170 = _m_pfadd(_m_pfmul(v166, v402), v167);
        v171 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v168;
        *(__m64 *)(a1 + 40) = v170;
        v172 = _m_punpckhdq(v167, v169);
        v173 = _m_punpckhdq(v170, v171);
        v174 = _m_punpckldq(v169, v169);
        v175 = _m_punpckldq(v171, v171);
        v176 = _m_punpckhdq(v172, v172);
        v177 = _m_punpckhdq(v173, v173);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v177),
                                _m_pfadd(_m_pfmul(v398, v175), _m_pfadd(_m_pfmul(v394, v176), _m_pfmul(v390, v174))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v177, v402),
                                _m_pfadd(_m_pfadd(_m_pfmul(v176, v396), _m_pfmul(v174, v392)), _m_pfmul(v175, v400)));
        v178 = _m_pfadd(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
        *(__m64 *)(a1 + 48) = _m_pfadd((__m64)a2->m64_u64, *(__m64 *)(a1 + 48));
        *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v178);
      }
      else
      {
        result = a1;
        *(__m64 *)a1 = _m_punpckldq(v390, v394);
        *(__m64 *)(a1 + 16) = _m_punpckhdq(v390, v394);
        v179 = _m_punpckldq(v400, v402);
        *(__m64 *)(a1 + 40) = v179;
        *(__m64 *)(a1 + 56) = _m_punpckhdq(v400, v402);
        *(__m64 *)(a1 + 32) = _m_punpckldq(v392, v396);
        v180 = _m_punpckldq(v398, 0i64);
        *(__m64 *)(a1 + 48) = _m_punpckhdq(v392, v396);
        *(__m64 *)(a1 + 24) = _m_punpckhdq(v398, 0i64);
        *(__m64 *)(a1 + 8) = v180;
        v181 = *(__m64 *)(a1 + 8);
        v182 = _m_punpckhdq(v180, *(__m64 *)a1);
        v183 = _m_punpckhdq(v179, v181);
        v184 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v185 = _m_punpckldq(v181, v181);
        v186 = _m_punpckhdq(v182, v182);
        v187 = _m_pfmul(v388, v186);
        v188 = _m_punpckhdq(v183, v183);
        v189 = _m_pfadd(_m_pfadd(_m_pfmul(v186, 0i64), _m_pfmul(v184, 0i64)), _m_pfmul(v185, v389));
        v190 = _m_pfadd(_m_pfmul(0i64, v188), _m_pfadd(_m_pfmul(0i64, v185), _m_pfadd(v187, _m_pfmul(v387, v184))));
        v191 = *(__m64 *)(a1 + 16);
        v192 = _m_pfadd(_m_pfmul(v188, (__m64)qword_4BB618), v189);
        v193 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v190;
        *(__m64 *)(a1 + 8) = v192;
        v194 = _m_punpckhdq(v189, v191);
        v195 = _m_punpckhdq(v192, v193);
        v196 = _m_punpckldq(v191, v191);
        v197 = _m_punpckldq(v193, v193);
        v198 = _m_punpckhdq(v194, v194);
        v199 = _m_pfmul(v388, v198);
        v200 = _m_punpckhdq(v195, v195);
        v201 = _m_pfadd(_m_pfadd(_m_pfmul(v198, 0i64), _m_pfmul(v196, 0i64)), _m_pfmul(v197, v389));
        v202 = _m_pfadd(_m_pfmul(0i64, v200), _m_pfadd(_m_pfmul(0i64, v197), _m_pfadd(v199, _m_pfmul(v387, v196))));
        v203 = *(__m64 *)(a1 + 32);
        v204 = _m_pfadd(_m_pfmul(v200, (__m64)qword_4BB618), v201);
        v205 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v202;
        *(__m64 *)(a1 + 24) = v204;
        v206 = _m_punpckhdq(v201, v203);
        v207 = _m_punpckhdq(v204, v205);
        v208 = _m_punpckldq(v203, v203);
        v209 = _m_punpckldq(v205, v205);
        v210 = _m_punpckhdq(v206, v206);
        v211 = _m_pfmul(v388, v210);
        v212 = _m_punpckhdq(v207, v207);
        v213 = _m_pfadd(_m_pfadd(_m_pfmul(v210, 0i64), _m_pfmul(v208, 0i64)), _m_pfmul(v209, v389));
        v214 = _m_pfadd(_m_pfmul(0i64, v212), _m_pfadd(_m_pfmul(0i64, v209), _m_pfadd(v211, _m_pfmul(v387, v208))));
        v215 = *(__m64 *)(a1 + 48);
        v216 = _m_pfadd(_m_pfmul(v212, (__m64)qword_4BB618), v213);
        v217 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v214;
        *(__m64 *)(a1 + 40) = v216;
        v218 = _m_punpckhdq(v213, v215);
        v219 = _m_punpckhdq(v216, v217);
        v220 = _m_punpckldq(v215, v215);
        v221 = _m_punpckldq(v217, v217);
        v222 = _m_punpckhdq(v218, v218);
        v223 = _m_pfmul(v388, v222);
        v224 = _m_punpckhdq(v219, v219);
        v225 = _m_pfmul(0i64, v224);
        v226 = _m_pfadd(_m_pfadd(_m_pfmul(v222, 0i64), _m_pfmul(v220, 0i64)), _m_pfmul(v221, v389));
        v227 = _m_pfadd(_m_pfmul(v224, (__m64)qword_4BB618), v226);
        *(__m64 *)(a1 + 48) = _m_pfadd(v225, _m_pfadd(_m_pfmul(0i64, v221), _m_pfadd(v223, _m_pfmul(v387, v220))));
        *(__m64 *)(a1 + 56) = v227;
        v228 = *(__m64 *)(a1 + 8);
        v229 = _m_punpckhdq(v226, *(__m64 *)a1);
        v230 = _m_punpckhdq(v227, v228);
        v231 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v232 = _m_punpckldq(v228, v228);
        v233 = _m_punpckhdq(v229, v229);
        v234 = _m_pfmul(v394, v233);
        v235 = _m_punpckhdq(v230, v230);
        v236 = _m_pfadd(_m_pfadd(_m_pfmul(v233, v396), _m_pfmul(v231, v392)), _m_pfmul(v232, v400));
        v237 = _m_pfadd(_m_pfmul(0i64, v235), _m_pfadd(_m_pfmul(v398, v232), _m_pfadd(v234, _m_pfmul(v390, v231))));
        v238 = *(__m64 *)(a1 + 16);
        v239 = _m_pfadd(_m_pfmul(v235, v402), v236);
        v240 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v237;
        *(__m64 *)(a1 + 8) = v239;
        v241 = _m_punpckhdq(v236, v238);
        v242 = _m_punpckhdq(v239, v240);
        v243 = _m_punpckldq(v238, v238);
        v244 = _m_punpckldq(v240, v240);
        v245 = _m_punpckhdq(v241, v241);
        v246 = _m_pfmul(v394, v245);
        v247 = _m_punpckhdq(v242, v242);
        v248 = _m_pfadd(_m_pfadd(_m_pfmul(v245, v396), _m_pfmul(v243, v392)), _m_pfmul(v244, v400));
        v249 = _m_pfadd(_m_pfmul(0i64, v247), _m_pfadd(_m_pfmul(v398, v244), _m_pfadd(v246, _m_pfmul(v390, v243))));
        v250 = *(__m64 *)(a1 + 32);
        v251 = _m_pfadd(_m_pfmul(v247, v402), v248);
        v252 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v249;
        *(__m64 *)(a1 + 24) = v251;
        v253 = _m_punpckhdq(v248, v250);
        v254 = _m_punpckhdq(v251, v252);
        v255 = _m_punpckldq(v250, v250);
        v256 = _m_punpckldq(v252, v252);
        v257 = _m_punpckhdq(v253, v253);
        v258 = _m_pfmul(v394, v257);
        v259 = _m_punpckhdq(v254, v254);
        v260 = _m_pfadd(_m_pfadd(_m_pfmul(v257, v396), _m_pfmul(v255, v392)), _m_pfmul(v256, v400));
        v261 = _m_pfadd(_m_pfmul(0i64, v259), _m_pfadd(_m_pfmul(v398, v256), _m_pfadd(v258, _m_pfmul(v390, v255))));
        v262 = *(__m64 *)(a1 + 48);
        v263 = _m_pfadd(_m_pfmul(v259, v402), v260);
        v264 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v261;
        *(__m64 *)(a1 + 40) = v263;
        v265 = _m_punpckhdq(v260, v262);
        v266 = _m_punpckhdq(v263, v264);
        v267 = _m_punpckldq(v262, v262);
        v268 = _m_punpckldq(v264, v264);
        v269 = _m_punpckhdq(v265, v265);
        v270 = _m_punpckhdq(v266, v266);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v270),
                                _m_pfadd(_m_pfmul(v398, v268), _m_pfadd(_m_pfmul(v394, v269), _m_pfmul(v390, v267))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v270, v402),
                                _m_pfadd(_m_pfadd(_m_pfmul(v269, v396), _m_pfmul(v267, v392)), _m_pfmul(v268, v400)));
      }
    }
    else
    {
      v271 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v272 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      *(__m64 *)a1 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      *(_QWORD *)(a1 + 8) = 0i64;
      *(__m64 *)(a1 + 16) = v272;
      *(_QWORD *)(a1 + 24) = 0i64;
      *(_QWORD *)(a1 + 32) = 0i64;
      *(__m64 *)(a1 + 40) = v271;
      *(_QWORD *)(a1 + 48) = 0i64;
      *(_QWORD *)(a1 + 56) = qword_4BB618;
    }
  }
  else
  {
    v273 = _mm_cvtsi32_si64(qword_4BB628);
    v274 = _m_punpckldq(_m_punpckhdq(v273, v273), v273);
    *(__m64 *)a1 = v273;
    *(_QWORD *)(a1 + 8) = 0i64;
    *(__m64 *)(a1 + 16) = v274;
    *(_QWORD *)(a1 + 24) = 0i64;
    *(_QWORD *)(a1 + 32) = 0i64;
    *(__m64 *)(a1 + 40) = v273;
    *(_QWORD *)(a1 + 48) = 0i64;
    *(__m64 *)(a1 + 56) = v274;
  }
  if ( a6 )
  {
    v275 = *(__m64 *)a6;
    v276 = v275;
    v277 = _m_pfadd(v275, v275);
    v278 = _m_punpckhdq(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8));
    v279 = _m_pfmul(*(__m64 *)a6, v277);
    v280 = _m_pfmul(v277, v278);
    v281 = _m_punpckldq(_m_pfadd(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8)), v277);
    v282 = _m_pfmul(_m_punpckldq(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8)), v281);
    v283 = _m_pfmul(v281, _m_punpckhdq(v276, v276));
    v284 = _m_pfmul(v281, v278);
    v285 = v283;
    v286 = _m_punpckhdq(v283, v282);
    v287 = v286;
    v288 = _m_punpckhdq(_m_punpckldq(v284, v284), v280);
    v289 = _m_pfsubr(_m_pfadd(_m_punpckldq(v282, v282), v279), (__m64)qword_4BB638);
    v290 = _m_pfadd(v286, v288);
    v401 = _m_punpckldq(_m_pfsubr(_m_pfacc(v279, v279), (__m64)qword_4BB638), 0i64);
    v291 = v285;
    v292 = _m_pfadd(v285, v280);
    v293 = _m_pfsub(v291, v280);
    v294 = _m_pfsub(v287, v288);
    v295 = _m_punpckldq(v292, 0i64);
    v397 = v295;
    v393 = _m_punpckhdq(v294, 0i64);
    v395 = _m_punpckldq(v294, v289);
    v391 = _m_punpckhdq(v289, _m_punpckldq(v290, v290));
    v399 = _m_punpckldq(_m_punpckhdq(v290, v290), v293);
    v403 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
    if ( a5 )
    {
      v296 = (__m64)a5->m64_u64;
      v297 = _mm_cvtsi32_si64(a5[1].m64_u32[0]);
      v298 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), v297);
      *(__m64 *)(result + 48) = _m_pfsub(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v298);
      v299 = *(__m64 *)(result + 8);
      v300 = _m_punpckhdq(v296, *(__m64 *)result);
      v301 = _m_punpckhdq(v297, v299);
      v302 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v303 = _m_punpckldq(v299, v299);
      v304 = _m_punpckhdq(v300, v300);
      v305 = _m_pfmul(v395, v304);
      v306 = _m_punpckhdq(v301, v301);
      v307 = _m_pfadd(_m_pfadd(_m_pfmul(v304, v397), _m_pfmul(v302, v393)), _m_pfmul(v303, v401));
      v308 = _m_pfadd(_m_pfmul(0i64, v306), _m_pfadd(_m_pfmul(v399, v303), _m_pfadd(v305, _m_pfmul(v391, v302))));
      v309 = *(__m64 *)(result + 16);
      v310 = _m_pfadd(_m_pfmul(v306, v403), v307);
      v311 = *(__m64 *)(result + 24);
      *(__m64 *)result = v308;
      *(__m64 *)(result + 8) = v310;
      v312 = _m_punpckhdq(v307, v309);
      v313 = _m_punpckhdq(v310, v311);
      v314 = _m_punpckldq(v309, v309);
      v315 = _m_punpckldq(v311, v311);
      v316 = _m_punpckhdq(v312, v312);
      v317 = _m_pfmul(v395, v316);
      v318 = _m_punpckhdq(v313, v313);
      v319 = _m_pfadd(_m_pfadd(_m_pfmul(v316, v397), _m_pfmul(v314, v393)), _m_pfmul(v315, v401));
      v320 = _m_pfadd(_m_pfmul(0i64, v318), _m_pfadd(_m_pfmul(v399, v315), _m_pfadd(v317, _m_pfmul(v391, v314))));
      v321 = *(__m64 *)(result + 32);
      v322 = _m_pfadd(_m_pfmul(v318, v403), v319);
      v323 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v320;
      *(__m64 *)(result + 24) = v322;
      v324 = _m_punpckhdq(v319, v321);
      v325 = _m_punpckhdq(v322, v323);
      v326 = _m_punpckldq(v321, v321);
      v327 = _m_punpckldq(v323, v323);
      v328 = _m_punpckhdq(v324, v324);
      v329 = _m_pfmul(v395, v328);
      v330 = _m_punpckhdq(v325, v325);
      v331 = _m_pfadd(_m_pfadd(_m_pfmul(v328, v397), _m_pfmul(v326, v393)), _m_pfmul(v327, v401));
      v332 = _m_pfadd(_m_pfmul(0i64, v330), _m_pfadd(_m_pfmul(v399, v327), _m_pfadd(v329, _m_pfmul(v391, v326))));
      v333 = *(__m64 *)(result + 48);
      v334 = _m_pfadd(_m_pfmul(v330, v403), v331);
      v335 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v332;
      *(__m64 *)(result + 40) = v334;
      v336 = _m_punpckhdq(v331, v333);
      v337 = _m_punpckhdq(v334, v335);
      v338 = _m_punpckldq(v333, v333);
      v339 = _m_punpckldq(v335, v335);
      v340 = _m_punpckhdq(v336, v336);
      v341 = _m_punpckhdq(v337, v337);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v341),
                                  _m_pfadd(_m_pfmul(v399, v339), _m_pfadd(_m_pfmul(v395, v340), _m_pfmul(v391, v338))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v341, v403),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v340, v397), _m_pfmul(v338, v393)), _m_pfmul(v339, v401)));
      v342 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a5[1].m64_u32[0]));
      *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v342);
    }
    else
    {
      v343 = *(__m64 *)(result + 8);
      v344 = _m_punpckhdq(v295, *(__m64 *)result);
      v345 = _m_punpckhdq(v293, v343);
      v346 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v347 = _m_punpckldq(v343, v343);
      v348 = _m_punpckhdq(v344, v344);
      v349 = _m_pfmul(v395, v348);
      v350 = _m_punpckhdq(v345, v345);
      v351 = _m_pfadd(_m_pfadd(_m_pfmul(v348, v397), _m_pfmul(v346, v393)), _m_pfmul(v347, v401));
      v352 = _m_pfadd(_m_pfmul(0i64, v350), _m_pfadd(_m_pfmul(v399, v347), _m_pfadd(v349, _m_pfmul(v391, v346))));
      v353 = *(__m64 *)(result + 16);
      v354 = _m_pfadd(_m_pfmul(v350, v403), v351);
      v355 = *(__m64 *)(result + 24);
      *(__m64 *)result = v352;
      *(__m64 *)(result + 8) = v354;
      v356 = _m_punpckhdq(v351, v353);
      v357 = _m_punpckhdq(v354, v355);
      v358 = _m_punpckldq(v353, v353);
      v359 = _m_punpckldq(v355, v355);
      v360 = _m_punpckhdq(v356, v356);
      v361 = _m_pfmul(v395, v360);
      v362 = _m_punpckhdq(v357, v357);
      v363 = _m_pfadd(_m_pfadd(_m_pfmul(v360, v397), _m_pfmul(v358, v393)), _m_pfmul(v359, v401));
      v364 = _m_pfadd(_m_pfmul(0i64, v362), _m_pfadd(_m_pfmul(v399, v359), _m_pfadd(v361, _m_pfmul(v391, v358))));
      v365 = *(__m64 *)(result + 32);
      v366 = _m_pfadd(_m_pfmul(v362, v403), v363);
      v367 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v364;
      *(__m64 *)(result + 24) = v366;
      v368 = _m_punpckhdq(v363, v365);
      v369 = _m_punpckhdq(v366, v367);
      v370 = _m_punpckldq(v365, v365);
      v371 = _m_punpckldq(v367, v367);
      v372 = _m_punpckhdq(v368, v368);
      v373 = _m_pfmul(v395, v372);
      v374 = _m_punpckhdq(v369, v369);
      v375 = _m_pfadd(_m_pfadd(_m_pfmul(v372, v397), _m_pfmul(v370, v393)), _m_pfmul(v371, v401));
      v376 = _m_pfadd(_m_pfmul(0i64, v374), _m_pfadd(_m_pfmul(v399, v371), _m_pfadd(v373, _m_pfmul(v391, v370))));
      v377 = *(__m64 *)(result + 48);
      v378 = _m_pfadd(_m_pfmul(v374, v403), v375);
      v379 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v376;
      *(__m64 *)(result + 40) = v378;
      v380 = _m_punpckhdq(v375, v377);
      v381 = _m_punpckhdq(v378, v379);
      v382 = _m_punpckldq(v377, v377);
      v383 = _m_punpckldq(v379, v379);
      v384 = _m_punpckhdq(v380, v380);
      v385 = _m_punpckhdq(v381, v381);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v385),
                                  _m_pfadd(_m_pfmul(v399, v383), _m_pfadd(_m_pfmul(v395, v384), _m_pfmul(v391, v382))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v385, v403),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v384, v397), _m_pfmul(v382, v393)), _m_pfmul(v383, v401)));
    }
  }
  if ( a7 )
  {
    v386 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a7[1].m64_u32[0]));
    *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a7->m64_u64);
    *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v386);
  }
  _m_femms();
  return result;
}
// 4BB618: using guessed type __int64 qword_4BB618;
// 4BB628: using guessed type __int64 qword_4BB628;
// 4BB638: using guessed type __int64 qword_4BB638;

//----- (00463F17) --------------------------------------------------------
int __userpurge sub_463F17@<eax>(int a1@<ebp>, int a2, int a3, int a4, int a5)
{
  __m64 v5; // mm0@1
  __m64 v6; // ST18_8@1
  __m64 v7; // ST08_8@1
  __m64 v8; // mm0@1
  unsigned __int64 v9; // ST10_8@1
  __m64 v10; // mm0@1
  __m64 v11; // mm6@1
  __m64 v12; // mm2@1
  __m64 v13; // mm6@1
  __m64 v14; // mm7@1
  int result; // eax@1
  __m64 v16; // mm3@1
  __m64 v17; // mm0@1
  __m64 v18; // mm7@1
  __m64 v19; // mm2@1
  __m64 v20; // mm4@1
  __m64 v21; // mm3@1
  __m64 v22; // mm5@1
  __m64 v23; // mm6@1
  __m64 v24; // mm7@1
  __m64 v25; // mm1@1
  __m64 v26; // mm6@1
  __m64 v27; // mm2@1
  __m64 v28; // mm1@1
  __m64 v29; // mm4@1
  __m64 v30; // mm6@1
  __m64 v31; // mm7@1
  __m64 v32; // mm1@1
  __m64 v33; // mm3@1
  __m64 v34; // mm2@1
  __m64 v35; // mm3@1
  __m64 v36; // mm5@1
  int v37; // ebp@1
  __m64 v38; // [sp+20h] [bp-10h]@0
  unsigned __int64 v39; // [sp+28h] [bp-8h]@0

  v5 = _m_pfmul((__m64)qword_4BB6C8, *(__m64 *)(a1 + 20));
  v6 = _m_pfmul((__m64)qword_4BB6C8, *(__m64 *)(a1 + 12));
  sub_472760(v5);
  v7 = v5;
  v8 = _m_punpckhdq(v6, v6);
  sub_472760(v8);
  v9 = v8.m64_u64;
  v10 = v6;
  sub_472760(v6);
  v11.m64_u64 = v9;
  v12 = _m_punpckldq(v11, v11);
  v13 = _m_punpckhdq(v11, v11);
  v14 = _m_punpckldq(_m_punpckhdq(v7, v7), v7);
  *(__m64 *)(a1 - 16) = _m_pfadd(
                          _m_pfmul(_m_pfmul(_m_pxor(_m_punpckldq(v10, v10), (__m64)qword_4BB658), v13), v7),
                          _m_pfmul(_m_pfmul(_m_punpckhdq(v10, v10), v12), v14));
  *(__m64 *)(a1 - 8) = _m_pfadd(
                         _m_pfmul(_m_pfmul(_m_punpckldq(v10, v10), v12), v14),
                         _m_pfmul(
                           _m_pfmul(_m_pxor(_m_punpckhdq(v10, v10), _m_psrlq((__m64)qword_4BB658, 0x20u)), v13),
                           v7));
  result = *(_DWORD *)(a1 + 8);
  v16 = v38;
  v17 = _m_pfadd(v16, v16);
  v18.m64_u64 = v39;
  v19 = _m_punpckhdq(v16, v16);
  v20 = _m_punpckhdq(v18, v18);
  v21 = _m_pfmul(v38, v17);
  v22 = _m_pfmul(v17, v20);
  v23 = _m_punpckldq(_m_pfadd(v18, v18), v17);
  v24 = _m_pfmul(_m_punpckldq(v18, v18), v23);
  v25 = _m_pfmul(v23, v19);
  v26 = _m_pfmul(v23, v20);
  v27 = v25;
  v28 = _m_punpckhdq(v25, v24);
  *(_QWORD *)(result + 48) = 0i64;
  v29 = v28;
  v30 = _m_punpckhdq(_m_punpckldq(v26, v26), v22);
  v31 = _m_pfsubr(_m_pfadd(_m_punpckldq(v24, v24), v21), (__m64)qword_4BB638);
  v32 = _m_pfadd(v28, v30);
  *(__m64 *)(result + 40) = _m_punpckldq(_m_pfsubr(_m_pfacc(v21, v21), (__m64)qword_4BB638), 0i64);
  v33 = v27;
  v34 = _m_pfadd(v27, v22);
  v35 = _m_pfsub(v33, v22);
  v36 = _m_pfsub(v29, v30);
  *(__m64 *)(result + 24) = _m_punpckldq(v34, 0i64);
  *(__m64 *)(result + 8) = _m_punpckhdq(v36, 0i64);
  *(__m64 *)(result + 16) = _m_punpckldq(v36, v31);
  *(__m64 *)result = _m_punpckhdq(v31, _m_punpckldq(v32, v32));
  *(__m64 *)(result + 32) = _m_punpckldq(_m_punpckhdq(v32, v32), v35);
  *(__m64 *)(result + 56) = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
  v37 = *(_DWORD *)a1;
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;
// 4BB658: using guessed type __int64 qword_4BB658;
// 4BB6C8: using guessed type __int64 qword_4BB6C8;

//----- (004640BC) --------------------------------------------------------
int __stdcall sub_4640BC(int a1, unsigned int a2, __m64 *a3, int a4, __m64 *a5)
{
  int result; // eax@1
  __m64 v6; // mm6@1
  __m64 v7; // mm0@2
  __m64 v8; // mm2@2
  __m64 v9; // mm0@2
  __m64 v10; // mm4@2
  __m64 v11; // mm3@2
  __m64 v12; // mm5@2
  __m64 v13; // mm6@2
  __m64 v14; // mm7@2
  __m64 v15; // mm1@2
  __m64 v16; // mm6@2
  __m64 v17; // mm2@2
  __m64 v18; // mm1@2
  __m64 v19; // mm4@2
  __m64 v20; // mm6@2
  __m64 v21; // mm7@2
  __m64 v22; // mm1@2
  __m64 v23; // mm3@2
  __m64 v24; // mm2@2
  __m64 v25; // mm3@2
  __m64 v26; // mm5@2
  __m64 v27; // mm2@2
  __m64 v28; // mm2@3
  __m64 v29; // mm3@3
  __m64 v30; // mm1@3
  __m64 v31; // mm1@3
  __m64 v32; // mm2@3
  __m64 v33; // mm3@3
  __m64 v34; // mm0@3
  __m64 v35; // mm1@3
  __m64 v36; // mm2@3
  __m64 v37; // mm5@3
  __m64 v38; // mm3@3
  __m64 v39; // mm2@3
  __m64 v40; // mm7@3
  __m64 v41; // mm0@3
  __m64 v42; // mm3@3
  __m64 v43; // mm1@3
  __m64 v44; // mm2@3
  __m64 v45; // mm3@3
  __m64 v46; // mm0@3
  __m64 v47; // mm1@3
  __m64 v48; // mm2@3
  __m64 v49; // mm5@3
  __m64 v50; // mm3@3
  __m64 v51; // mm2@3
  __m64 v52; // mm7@3
  __m64 v53; // mm0@3
  __m64 v54; // mm3@3
  __m64 v55; // mm1@3
  __m64 v56; // mm2@3
  __m64 v57; // mm3@3
  __m64 v58; // mm0@3
  __m64 v59; // mm1@3
  __m64 v60; // mm2@3
  __m64 v61; // mm5@3
  __m64 v62; // mm3@3
  __m64 v63; // mm2@3
  __m64 v64; // mm7@3
  __m64 v65; // mm0@3
  __m64 v66; // mm3@3
  __m64 v67; // mm1@3
  __m64 v68; // mm2@3
  __m64 v69; // mm3@3
  __m64 v70; // mm0@3
  __m64 v71; // mm1@3
  __m64 v72; // mm2@3
  __m64 v73; // mm3@3
  __m64 v74; // mm1@3
  __m64 v75; // mm1@4
  __m64 v76; // mm2@4
  __m64 v77; // mm3@4
  __m64 v78; // mm0@4
  __m64 v79; // mm1@4
  __m64 v80; // mm2@4
  __m64 v81; // mm5@4
  __m64 v82; // mm3@4
  __m64 v83; // mm2@4
  __m64 v84; // mm7@4
  __m64 v85; // mm0@4
  __m64 v86; // mm3@4
  __m64 v87; // mm1@4
  __m64 v88; // mm2@4
  __m64 v89; // mm3@4
  __m64 v90; // mm0@4
  __m64 v91; // mm1@4
  __m64 v92; // mm2@4
  __m64 v93; // mm5@4
  __m64 v94; // mm3@4
  __m64 v95; // mm2@4
  __m64 v96; // mm7@4
  __m64 v97; // mm0@4
  __m64 v98; // mm3@4
  __m64 v99; // mm1@4
  __m64 v100; // mm2@4
  __m64 v101; // mm3@4
  __m64 v102; // mm0@4
  __m64 v103; // mm1@4
  __m64 v104; // mm2@4
  __m64 v105; // mm5@4
  __m64 v106; // mm3@4
  __m64 v107; // mm2@4
  __m64 v108; // mm7@4
  __m64 v109; // mm0@4
  __m64 v110; // mm3@4
  __m64 v111; // mm1@4
  __m64 v112; // mm2@4
  __m64 v113; // mm3@4
  __m64 v114; // mm0@4
  __m64 v115; // mm1@4
  __m64 v116; // mm2@4
  __m64 v117; // mm3@4
  __m64 v118; // mm1@6
  __m64 v119; // [sp+0h] [bp-40h]@2
  __m64 v120; // [sp+8h] [bp-38h]@2
  __m64 v121; // [sp+10h] [bp-30h]@2
  __m64 v122; // [sp+18h] [bp-28h]@2
  __m64 v123; // [sp+20h] [bp-20h]@2
  __m64 v124; // [sp+28h] [bp-18h]@2
  __m64 v125; // [sp+38h] [bp-8h]@2

  result = a1;
  v6 = _mm_cvtsi32_si64(a2);
  *(__m64 *)a1 = v6;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_DWORD *)(a1 + 16) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 20) = _mm_cvtsi64_si32(v6);
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(__m64 *)(a1 + 40) = v6;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_4BB618;
  if ( a4 )
  {
    v7 = *(__m64 *)a4;
    v8 = v7;
    v9 = _m_pfadd(v7, v7);
    v10 = _m_punpckhdq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8));
    v11 = _m_pfmul(*(__m64 *)a4, v9);
    v12 = _m_pfmul(v9, v10);
    v13 = _m_punpckldq(_m_pfadd(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), v9);
    v14 = _m_pfmul(_m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), v13);
    v15 = _m_pfmul(v13, _m_punpckhdq(v8, v8));
    v16 = _m_pfmul(v13, v10);
    v17 = v15;
    v18 = _m_punpckhdq(v15, v14);
    v19 = v18;
    v20 = _m_punpckhdq(_m_punpckldq(v16, v16), v12);
    v21 = _m_pfsubr(_m_pfadd(_m_punpckldq(v14, v14), v11), (__m64)qword_4BB638);
    v22 = _m_pfadd(v18, v20);
    v124 = _m_punpckldq(_m_pfsubr(_m_pfacc(v11, v11), (__m64)qword_4BB638), 0i64);
    v23 = v17;
    v24 = _m_pfadd(v17, v12);
    v25 = _m_pfsub(v23, v12);
    v26 = _m_pfsub(v19, v20);
    v27 = _m_punpckldq(v24, 0i64);
    v122 = v27;
    v120 = _m_punpckhdq(v26, 0i64);
    v121 = _m_punpckldq(v26, v21);
    v119 = _m_punpckhdq(v21, _m_punpckldq(v22, v22));
    v123 = _m_punpckldq(_m_punpckhdq(v22, v22), v25);
    v125 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
    if ( a3 )
    {
      v28 = (__m64)a3->m64_u64;
      v29 = _mm_cvtsi32_si64(a3[1].m64_u32[0]);
      v30 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)), v29);
      *(__m64 *)(a1 + 48) = _m_pfsub(*(__m64 *)(a1 + 48), (__m64)a3->m64_u64);
      *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v30);
      v31 = *(__m64 *)(a1 + 8);
      v32 = _m_punpckhdq(v28, *(__m64 *)a1);
      v33 = _m_punpckhdq(v29, v31);
      v34 = _m_punpckldq(*(__m64 *)a1, *(__m64 *)a1);
      v35 = _m_punpckldq(v31, v31);
      v36 = _m_punpckhdq(v32, v32);
      v37 = _m_pfmul(v121, v36);
      v38 = _m_punpckhdq(v33, v33);
      v39 = _m_pfadd(_m_pfadd(_m_pfmul(v36, v122), _m_pfmul(v34, v120)), _m_pfmul(v35, v124));
      v40 = _m_pfadd(_m_pfmul(0i64, v38), _m_pfadd(_m_pfmul(v123, v35), _m_pfadd(v37, _m_pfmul(v119, v34))));
      v41 = *(__m64 *)(a1 + 16);
      v42 = _m_pfadd(_m_pfmul(v38, v125), v39);
      v43 = *(__m64 *)(a1 + 24);
      *(__m64 *)a1 = v40;
      *(__m64 *)(a1 + 8) = v42;
      v44 = _m_punpckhdq(v39, v41);
      v45 = _m_punpckhdq(v42, v43);
      v46 = _m_punpckldq(v41, v41);
      v47 = _m_punpckldq(v43, v43);
      v48 = _m_punpckhdq(v44, v44);
      v49 = _m_pfmul(v121, v48);
      v50 = _m_punpckhdq(v45, v45);
      v51 = _m_pfadd(_m_pfadd(_m_pfmul(v48, v122), _m_pfmul(v46, v120)), _m_pfmul(v47, v124));
      v52 = _m_pfadd(_m_pfmul(0i64, v50), _m_pfadd(_m_pfmul(v123, v47), _m_pfadd(v49, _m_pfmul(v119, v46))));
      v53 = *(__m64 *)(a1 + 32);
      v54 = _m_pfadd(_m_pfmul(v50, v125), v51);
      v55 = *(__m64 *)(a1 + 40);
      *(__m64 *)(a1 + 16) = v52;
      *(__m64 *)(a1 + 24) = v54;
      v56 = _m_punpckhdq(v51, v53);
      v57 = _m_punpckhdq(v54, v55);
      v58 = _m_punpckldq(v53, v53);
      v59 = _m_punpckldq(v55, v55);
      v60 = _m_punpckhdq(v56, v56);
      v61 = _m_pfmul(v121, v60);
      v62 = _m_punpckhdq(v57, v57);
      v63 = _m_pfadd(_m_pfadd(_m_pfmul(v60, v122), _m_pfmul(v58, v120)), _m_pfmul(v59, v124));
      v64 = _m_pfadd(_m_pfmul(0i64, v62), _m_pfadd(_m_pfmul(v123, v59), _m_pfadd(v61, _m_pfmul(v119, v58))));
      v65 = *(__m64 *)(a1 + 48);
      v66 = _m_pfadd(_m_pfmul(v62, v125), v63);
      v67 = *(__m64 *)(a1 + 56);
      *(__m64 *)(a1 + 32) = v64;
      *(__m64 *)(a1 + 40) = v66;
      v68 = _m_punpckhdq(v63, v65);
      v69 = _m_punpckhdq(v66, v67);
      v70 = _m_punpckldq(v65, v65);
      v71 = _m_punpckldq(v67, v67);
      v72 = _m_punpckhdq(v68, v68);
      v73 = _m_punpckhdq(v69, v69);
      *(__m64 *)(a1 + 48) = _m_pfadd(
                              _m_pfmul(0i64, v73),
                              _m_pfadd(_m_pfmul(v123, v71), _m_pfadd(_m_pfmul(v121, v72), _m_pfmul(v119, v70))));
      *(__m64 *)(a1 + 56) = _m_pfadd(
                              _m_pfmul(v73, v125),
                              _m_pfadd(_m_pfadd(_m_pfmul(v72, v122), _m_pfmul(v70, v120)), _m_pfmul(v71, v124)));
      v74 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)), _mm_cvtsi32_si64(a3[1].m64_u32[0]));
      *(__m64 *)(a1 + 48) = _m_pfadd(*(__m64 *)(a1 + 48), (__m64)a3->m64_u64);
      *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v74);
    }
    else
    {
      v75 = *(__m64 *)(a1 + 8);
      v76 = _m_punpckhdq(v27, *(__m64 *)a1);
      v77 = _m_punpckhdq(v25, v75);
      v78 = _m_punpckldq(*(__m64 *)a1, *(__m64 *)a1);
      v79 = _m_punpckldq(v75, v75);
      v80 = _m_punpckhdq(v76, v76);
      v81 = _m_pfmul(v121, v80);
      v82 = _m_punpckhdq(v77, v77);
      v83 = _m_pfadd(_m_pfadd(_m_pfmul(v80, v122), _m_pfmul(v78, v120)), _m_pfmul(v79, v124));
      v84 = _m_pfadd(_m_pfmul(0i64, v82), _m_pfadd(_m_pfmul(v123, v79), _m_pfadd(v81, _m_pfmul(v119, v78))));
      v85 = *(__m64 *)(a1 + 16);
      v86 = _m_pfadd(_m_pfmul(v82, v125), v83);
      v87 = *(__m64 *)(a1 + 24);
      *(__m64 *)a1 = v84;
      *(__m64 *)(a1 + 8) = v86;
      v88 = _m_punpckhdq(v83, v85);
      v89 = _m_punpckhdq(v86, v87);
      v90 = _m_punpckldq(v85, v85);
      v91 = _m_punpckldq(v87, v87);
      v92 = _m_punpckhdq(v88, v88);
      v93 = _m_pfmul(v121, v92);
      v94 = _m_punpckhdq(v89, v89);
      v95 = _m_pfadd(_m_pfadd(_m_pfmul(v92, v122), _m_pfmul(v90, v120)), _m_pfmul(v91, v124));
      v96 = _m_pfadd(_m_pfmul(0i64, v94), _m_pfadd(_m_pfmul(v123, v91), _m_pfadd(v93, _m_pfmul(v119, v90))));
      v97 = *(__m64 *)(a1 + 32);
      v98 = _m_pfadd(_m_pfmul(v94, v125), v95);
      v99 = *(__m64 *)(a1 + 40);
      *(__m64 *)(a1 + 16) = v96;
      *(__m64 *)(a1 + 24) = v98;
      v100 = _m_punpckhdq(v95, v97);
      v101 = _m_punpckhdq(v98, v99);
      v102 = _m_punpckldq(v97, v97);
      v103 = _m_punpckldq(v99, v99);
      v104 = _m_punpckhdq(v100, v100);
      v105 = _m_pfmul(v121, v104);
      v106 = _m_punpckhdq(v101, v101);
      v107 = _m_pfadd(_m_pfadd(_m_pfmul(v104, v122), _m_pfmul(v102, v120)), _m_pfmul(v103, v124));
      v108 = _m_pfadd(_m_pfmul(0i64, v106), _m_pfadd(_m_pfmul(v123, v103), _m_pfadd(v105, _m_pfmul(v119, v102))));
      v109 = *(__m64 *)(a1 + 48);
      v110 = _m_pfadd(_m_pfmul(v106, v125), v107);
      v111 = *(__m64 *)(a1 + 56);
      *(__m64 *)(a1 + 32) = v108;
      *(__m64 *)(a1 + 40) = v110;
      v112 = _m_punpckhdq(v107, v109);
      v113 = _m_punpckhdq(v110, v111);
      v114 = _m_punpckldq(v109, v109);
      v115 = _m_punpckldq(v111, v111);
      v116 = _m_punpckhdq(v112, v112);
      v117 = _m_punpckhdq(v113, v113);
      *(__m64 *)(a1 + 48) = _m_pfadd(
                              _m_pfmul(0i64, v117),
                              _m_pfadd(_m_pfmul(v123, v115), _m_pfadd(_m_pfmul(v121, v116), _m_pfmul(v119, v114))));
      *(__m64 *)(a1 + 56) = _m_pfadd(
                              _m_pfmul(v117, v125),
                              _m_pfadd(_m_pfadd(_m_pfmul(v116, v122), _m_pfmul(v114, v120)), _m_pfmul(v115, v124)));
    }
  }
  if ( a5 )
  {
    v118 = _m_pfadd(_mm_cvtsi32_si64(a5[1].m64_u32[0]), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
    *(__m64 *)(a1 + 48) = _m_pfadd((__m64)a5->m64_u64, *(__m64 *)(a1 + 48));
    *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v118);
  }
  _m_femms();
  return result;
}
// 4BB618: using guessed type __int64 qword_4BB618;
// 4BB638: using guessed type __int64 qword_4BB638;

//----- (004645F0) --------------------------------------------------------
int __stdcall sub_4645F0(int a1, __m64 *a2, unsigned int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 v5; // mm7@1
  __m64 v6; // mm1@1
  __m64 v7; // mm0@1
  __m64 v8; // mm7@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm1@1
  __m64 v12; // mm2@1
  int result; // eax@1
  __m64 v14; // mm3@1
  __m64 v15; // mm4@1
  __m64 v16; // mm5@1
  __m64 v17; // mm1@1
  __m64 v18; // mm1@1
  __m64 v19; // mm6@1
  __m64 v20; // mm7@1
  __m64 v21; // mm1@1
  __m64 v22; // mm6@1
  __m64 v23; // mm2@1
  __m64 v24; // mm1@1
  __m64 v25; // [sp+0h] [bp-18h]@1
  unsigned int v26; // [sp+8h] [bp-10h]@1
  unsigned int v27; // [sp+Ch] [bp-Ch]@1

  v3 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v25 = (__m64)a2->m64_u64;
  v26 = _mm_cvtsi64_si32(v3);
  sub_46635F(&v25, &v25);
  v4 = _mm_cvtsi32_si64(a3);
  sub_472760(v4);
  v5 = v4;
  v6 = v4;
  v7 = _m_pfsubr(v4, (__m64)qword_4BB638);
  v27 = _mm_cvtsi64_si32(_m_punpckhdq(v5, v5));
  v8 = _mm_cvtsi32_si64(v26);
  v9 = _m_punpckldq(v8, v8);
  v10 = _m_punpckldq(v7, v7);
  v11 = _m_punpckldq(v6, v6);
  v12 = _m_pfmul(_m_pfmul(_m_punpckhdq(v25, v9), v25), v10);
  result = a1;
  v14 = _m_pfmul(_m_pfmul(v9, v25), v10);
  v15 = _m_pfadd(_m_pfmul(_m_pfmul(v25, v25), v10), v11);
  v16 = _m_pfadd(_m_pfmul(_m_pfmul(v8, v8), v10), v11);
  v17 = _mm_cvtsi32_si64(v27);
  v18 = _m_punpckldq(v17, v17);
  v19 = _m_pfmul(v25, v18);
  *(_QWORD *)(a1 + 48) = 0i64;
  v20 = _m_punpckldq(_m_pfmul(v8, v18), v19);
  v21 = v12;
  v22 = _m_punpckhdq(v19, v19);
  *(__m64 *)(a1 + 40) = _m_punpckldq(v16, 0i64);
  v23 = _m_pfsub(v12, v20);
  v24 = _m_pfadd(v21, v20);
  *(__m64 *)a1 = _m_punpckldq(v15, v24);
  *(__m64 *)(a1 + 8) = _m_punpckldq(_m_pfsub(v14, v22), 0i64);
  *(__m64 *)(a1 + 24) = _m_punpckhdq(v24, 0i64);
  *(__m64 *)(a1 + 56) = _m_punpckhdq(0i64, (__m64)qword_4BB638);
  *(__m64 *)(a1 + 32) = _m_punpckhdq(_m_pfadd(_m_punpckldq(v14, v14), v22), v23);
  *(__m64 *)(a1 + 16) = _m_punpckldq(v23, _m_punpckhdq(v15, v15));
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;

//----- (00464709) --------------------------------------------------------
int __stdcall sub_464709(int a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, __m64 *a6, __m64 *a7)
{
  int result; // eax@1
  __m64 v8; // mm0@3
  __m64 v9; // mm6@3
  __m64 v10; // mm0@3
  __m64 v11; // mm4@3
  __m64 v12; // mm1@3
  __m64 v13; // mm5@3
  __m64 v14; // mm0@3
  __m64 v15; // mm5@3
  __m64 v16; // mm2@3
  __m64 v17; // mm3@3
  __m64 v18; // mm1@3
  __m64 v19; // mm6@3
  __m64 v20; // mm4@3
  __m64 v21; // mm3@3
  __m64 v22; // mm6@3
  __m64 v23; // mm2@3
  __m64 v24; // mm0@3
  __m64 v25; // ST80_8@4
  __m64 v26; // ST90_8@4
  __m64 v27; // STA8_8@4
  __m64 v28; // STB8_8@4
  __m64 v29; // STA0_8@4
  __m64 v30; // STB0_8@4
  __m64 v31; // ST98_8@4
  __m64 v32; // ST88_8@4
  __m64 v33; // mm3@4
  __m64 v34; // mm4@4
  __m64 v35; // mm1@4
  __m64 v36; // mm2@4
  __m64 v37; // mm2@4
  __m64 v38; // mm1@4
  __m64 v39; // mm2@4
  __m64 v40; // mm3@4
  __m64 v41; // mm0@4
  __m64 v42; // mm1@4
  __m64 v43; // mm2@4
  __m64 v44; // mm5@4
  __m64 v45; // mm3@4
  __m64 v46; // mm2@4
  __m64 v47; // mm7@4
  __m64 v48; // mm0@4
  __m64 v49; // mm3@4
  __m64 v50; // mm1@4
  __m64 v51; // mm2@4
  __m64 v52; // mm3@4
  __m64 v53; // mm0@4
  __m64 v54; // mm1@4
  __m64 v55; // mm2@4
  __m64 v56; // mm5@4
  __m64 v57; // mm3@4
  __m64 v58; // mm2@4
  __m64 v59; // mm7@4
  __m64 v60; // mm0@4
  __m64 v61; // mm3@4
  __m64 v62; // mm1@4
  __m64 v63; // mm2@4
  __m64 v64; // mm3@4
  __m64 v65; // mm0@4
  __m64 v66; // mm1@4
  __m64 v67; // mm2@4
  __m64 v68; // mm5@4
  __m64 v69; // mm3@4
  __m64 v70; // mm2@4
  __m64 v71; // mm7@4
  __m64 v72; // mm0@4
  __m64 v73; // mm3@4
  __m64 v74; // mm1@4
  __m64 v75; // mm2@4
  __m64 v76; // mm3@4
  __m64 v77; // mm0@4
  __m64 v78; // mm1@4
  __m64 v79; // mm2@4
  __m64 v80; // mm5@4
  __m64 v81; // mm3@4
  __m64 v82; // mm7@4
  __m64 v83; // mm2@4
  __m64 v84; // mm3@4
  __m64 v85; // mm1@4
  __m64 v86; // mm2@4
  __m64 v87; // mm3@4
  __m64 v88; // mm0@4
  __m64 v89; // mm1@4
  __m64 v90; // mm2@4
  __m64 v91; // mm5@4
  __m64 v92; // mm3@4
  __m64 v93; // mm2@4
  __m64 v94; // mm7@4
  __m64 v95; // mm0@4
  __m64 v96; // mm3@4
  __m64 v97; // mm1@4
  __m64 v98; // mm2@4
  __m64 v99; // mm3@4
  __m64 v100; // mm0@4
  __m64 v101; // mm1@4
  __m64 v102; // mm2@4
  __m64 v103; // mm5@4
  __m64 v104; // mm3@4
  __m64 v105; // mm2@4
  __m64 v106; // mm7@4
  __m64 v107; // mm0@4
  __m64 v108; // mm3@4
  __m64 v109; // mm1@4
  __m64 v110; // mm2@4
  __m64 v111; // mm3@4
  __m64 v112; // mm0@4
  __m64 v113; // mm1@4
  __m64 v114; // mm2@4
  __m64 v115; // mm5@4
  __m64 v116; // mm3@4
  __m64 v117; // mm2@4
  __m64 v118; // mm7@4
  __m64 v119; // mm0@4
  __m64 v120; // mm3@4
  __m64 v121; // mm1@4
  __m64 v122; // mm2@4
  __m64 v123; // mm3@4
  __m64 v124; // mm0@4
  __m64 v125; // mm1@4
  __m64 v126; // mm2@4
  __m64 v127; // mm5@4
  __m64 v128; // mm3@4
  __m64 v129; // mm7@4
  __m64 v130; // mm2@4
  __m64 v131; // mm3@4
  __m64 v132; // mm1@4
  __m64 v133; // mm2@4
  __m64 v134; // mm3@4
  __m64 v135; // mm0@4
  __m64 v136; // mm1@4
  __m64 v137; // mm2@4
  __m64 v138; // mm5@4
  __m64 v139; // mm3@4
  __m64 v140; // mm2@4
  __m64 v141; // mm7@4
  __m64 v142; // mm0@4
  __m64 v143; // mm3@4
  __m64 v144; // mm1@4
  __m64 v145; // mm2@4
  __m64 v146; // mm3@4
  __m64 v147; // mm0@4
  __m64 v148; // mm1@4
  __m64 v149; // mm2@4
  __m64 v150; // mm5@4
  __m64 v151; // mm3@4
  __m64 v152; // mm2@4
  __m64 v153; // mm7@4
  __m64 v154; // mm0@4
  __m64 v155; // mm3@4
  __m64 v156; // mm1@4
  __m64 v157; // mm2@4
  __m64 v158; // mm3@4
  __m64 v159; // mm0@4
  __m64 v160; // mm1@4
  __m64 v161; // mm2@4
  __m64 v162; // mm5@4
  __m64 v163; // mm3@4
  __m64 v164; // mm2@4
  __m64 v165; // mm7@4
  __m64 v166; // mm0@4
  __m64 v167; // mm3@4
  __m64 v168; // mm1@4
  __m64 v169; // mm2@4
  __m64 v170; // mm3@4
  __m64 v171; // mm0@4
  __m64 v172; // mm1@4
  __m64 v173; // mm2@4
  __m64 v174; // mm3@4
  __m64 v175; // mm2@4
  __m64 v176; // mm3@5
  __m64 v177; // mm2@5
  __m64 v178; // mm1@5
  __m64 v179; // mm2@5
  __m64 v180; // mm3@5
  __m64 v181; // mm0@5
  __m64 v182; // mm1@5
  __m64 v183; // mm2@5
  __m64 v184; // mm5@5
  __m64 v185; // mm3@5
  __m64 v186; // mm2@5
  __m64 v187; // mm7@5
  __m64 v188; // mm0@5
  __m64 v189; // mm3@5
  __m64 v190; // mm1@5
  __m64 v191; // mm2@5
  __m64 v192; // mm3@5
  __m64 v193; // mm0@5
  __m64 v194; // mm1@5
  __m64 v195; // mm2@5
  __m64 v196; // mm5@5
  __m64 v197; // mm3@5
  __m64 v198; // mm2@5
  __m64 v199; // mm7@5
  __m64 v200; // mm0@5
  __m64 v201; // mm3@5
  __m64 v202; // mm1@5
  __m64 v203; // mm2@5
  __m64 v204; // mm3@5
  __m64 v205; // mm0@5
  __m64 v206; // mm1@5
  __m64 v207; // mm2@5
  __m64 v208; // mm5@5
  __m64 v209; // mm3@5
  __m64 v210; // mm2@5
  __m64 v211; // mm7@5
  __m64 v212; // mm0@5
  __m64 v213; // mm3@5
  __m64 v214; // mm1@5
  __m64 v215; // mm2@5
  __m64 v216; // mm3@5
  __m64 v217; // mm0@5
  __m64 v218; // mm1@5
  __m64 v219; // mm2@5
  __m64 v220; // mm5@5
  __m64 v221; // mm3@5
  __m64 v222; // mm7@5
  __m64 v223; // mm2@5
  __m64 v224; // mm3@5
  __m64 v225; // mm1@5
  __m64 v226; // mm2@5
  __m64 v227; // mm3@5
  __m64 v228; // mm0@5
  __m64 v229; // mm1@5
  __m64 v230; // mm2@5
  __m64 v231; // mm5@5
  __m64 v232; // mm3@5
  __m64 v233; // mm2@5
  __m64 v234; // mm7@5
  __m64 v235; // mm0@5
  __m64 v236; // mm3@5
  __m64 v237; // mm1@5
  __m64 v238; // mm2@5
  __m64 v239; // mm3@5
  __m64 v240; // mm0@5
  __m64 v241; // mm1@5
  __m64 v242; // mm2@5
  __m64 v243; // mm5@5
  __m64 v244; // mm3@5
  __m64 v245; // mm2@5
  __m64 v246; // mm7@5
  __m64 v247; // mm0@5
  __m64 v248; // mm3@5
  __m64 v249; // mm1@5
  __m64 v250; // mm2@5
  __m64 v251; // mm3@5
  __m64 v252; // mm0@5
  __m64 v253; // mm1@5
  __m64 v254; // mm2@5
  __m64 v255; // mm5@5
  __m64 v256; // mm3@5
  __m64 v257; // mm2@5
  __m64 v258; // mm7@5
  __m64 v259; // mm0@5
  __m64 v260; // mm3@5
  __m64 v261; // mm1@5
  __m64 v262; // mm2@5
  __m64 v263; // mm3@5
  __m64 v264; // mm0@5
  __m64 v265; // mm1@5
  __m64 v266; // mm2@5
  __m64 v267; // mm3@5
  __m64 v268; // mm4@6
  __m64 v269; // mm5@6
  __m64 v270; // mm1@7
  __m64 v271; // mm2@7
  __m64 v272; // mm0@9
  __m64 v273; // mm6@9
  __m64 v274; // mm0@9
  __m64 v275; // mm4@9
  __m64 v276; // mm1@9
  __m64 v277; // mm5@9
  __m64 v278; // mm0@9
  __m64 v279; // mm5@9
  __m64 v280; // mm2@9
  __m64 v281; // mm3@9
  __m64 v282; // mm1@9
  __m64 v283; // mm6@9
  __m64 v284; // mm4@9
  __m64 v285; // mm3@9
  __m64 v286; // mm6@9
  __m64 v287; // mm2@9
  __m64 v288; // mm0@9
  __m64 v289; // mm5@9
  __m64 v290; // mm2@9
  __m64 v291; // mm3@9
  __m64 v292; // mm2@10
  __m64 v293; // mm3@10
  __m64 v294; // mm1@10
  __m64 v295; // mm1@10
  __m64 v296; // mm2@10
  __m64 v297; // mm3@10
  __m64 v298; // mm0@10
  __m64 v299; // mm1@10
  __m64 v300; // mm2@10
  __m64 v301; // mm5@10
  __m64 v302; // mm3@10
  __m64 v303; // mm2@10
  __m64 v304; // mm7@10
  __m64 v305; // mm0@10
  __m64 v306; // mm3@10
  __m64 v307; // mm1@10
  __m64 v308; // mm2@10
  __m64 v309; // mm3@10
  __m64 v310; // mm0@10
  __m64 v311; // mm1@10
  __m64 v312; // mm2@10
  __m64 v313; // mm5@10
  __m64 v314; // mm3@10
  __m64 v315; // mm2@10
  __m64 v316; // mm7@10
  __m64 v317; // mm0@10
  __m64 v318; // mm3@10
  __m64 v319; // mm1@10
  __m64 v320; // mm2@10
  __m64 v321; // mm3@10
  __m64 v322; // mm0@10
  __m64 v323; // mm1@10
  __m64 v324; // mm2@10
  __m64 v325; // mm5@10
  __m64 v326; // mm3@10
  __m64 v327; // mm2@10
  __m64 v328; // mm7@10
  __m64 v329; // mm0@10
  __m64 v330; // mm3@10
  __m64 v331; // mm1@10
  __m64 v332; // mm2@10
  __m64 v333; // mm3@10
  __m64 v334; // mm0@10
  __m64 v335; // mm1@10
  __m64 v336; // mm2@10
  __m64 v337; // mm3@10
  __m64 v338; // mm1@10
  __m64 v339; // mm1@11
  __m64 v340; // mm2@11
  __m64 v341; // mm3@11
  __m64 v342; // mm0@11
  __m64 v343; // mm1@11
  __m64 v344; // mm2@11
  __m64 v345; // mm5@11
  __m64 v346; // mm3@11
  __m64 v347; // mm2@11
  __m64 v348; // mm7@11
  __m64 v349; // mm0@11
  __m64 v350; // mm3@11
  __m64 v351; // mm1@11
  __m64 v352; // mm2@11
  __m64 v353; // mm3@11
  __m64 v354; // mm0@11
  __m64 v355; // mm1@11
  __m64 v356; // mm2@11
  __m64 v357; // mm5@11
  __m64 v358; // mm3@11
  __m64 v359; // mm2@11
  __m64 v360; // mm7@11
  __m64 v361; // mm0@11
  __m64 v362; // mm3@11
  __m64 v363; // mm1@11
  __m64 v364; // mm2@11
  __m64 v365; // mm3@11
  __m64 v366; // mm0@11
  __m64 v367; // mm1@11
  __m64 v368; // mm2@11
  __m64 v369; // mm5@11
  __m64 v370; // mm3@11
  __m64 v371; // mm2@11
  __m64 v372; // mm7@11
  __m64 v373; // mm0@11
  __m64 v374; // mm3@11
  __m64 v375; // mm1@11
  __m64 v376; // mm2@11
  __m64 v377; // mm3@11
  __m64 v378; // mm0@11
  __m64 v379; // mm1@11
  __m64 v380; // mm2@11
  __m64 v381; // mm3@11
  __m64 v382; // mm1@13
  __m64 v383; // [sp+0h] [bp-C0h]@3
  __m64 v384; // [sp+10h] [bp-B0h]@3
  __m64 v385; // [sp+28h] [bp-98h]@3
  __m64 v386; // [sp+40h] [bp-80h]@3
  __m64 v387; // [sp+40h] [bp-80h]@9
  __m64 v388; // [sp+48h] [bp-78h]@3
  __m64 v389; // [sp+48h] [bp-78h]@9
  __m64 v390; // [sp+50h] [bp-70h]@3
  __m64 v391; // [sp+50h] [bp-70h]@9
  __m64 v392; // [sp+58h] [bp-68h]@3
  __m64 v393; // [sp+58h] [bp-68h]@9
  __m64 v394; // [sp+60h] [bp-60h]@3
  __m64 v395; // [sp+60h] [bp-60h]@9
  __m64 v396; // [sp+68h] [bp-58h]@3
  __m64 v397; // [sp+68h] [bp-58h]@9
  __m64 v398; // [sp+78h] [bp-48h]@3
  __m64 v399; // [sp+78h] [bp-48h]@9

  result = a1;
  if ( a4 )
  {
    if ( a3 )
    {
      v383 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      v384 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      v385 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v8 = (__m64)a3->m64_u64;
      v9 = v8;
      v10 = _m_pfadd(v8, v8);
      v11 = a3[1];
      v12 = _m_pfadd(v11, v11);
      v13 = v10;
      v14 = _m_pfmul(v10, (__m64)a3->m64_u64);
      v15 = _m_punpckldq(v13, v12);
      v16 = _m_pfmul((__m64)a3->m64_u64, v12);
      v17 = _m_pfmul(_m_pswapd((__m64)a3->m64_u64), v12);
      v18 = _m_pfmul(v12, v11);
      v19 = _m_pfmul(_m_punpckhdq(v9, v11), v15);
      v20 = v14;
      v21 = _m_pfpnacc(v17, v17);
      v22 = _m_pfpnacc(v19, v19);
      v23 = _m_pfpnacc(v16, v16);
      v24 = _m_pfsub(_m_pfsubr(v14, (__m64)qword_4BB638), _m_punpckldq(v18, v18));
      v394 = _m_punpckldq(_m_pswapd(v23), v21);
      v388 = _m_punpckldq(v23, 0i64);
      v396 = _m_punpckhdq(_m_pfsubr(_m_pfacc(v20, v20), (__m64)qword_4BB638), 0i64);
      v386 = _m_punpckhdq(v24, v22);
      v390 = _m_punpckldq(v22, v24);
      v392 = _m_punpckhdq(v21, 0i64);
      v398 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
      if ( a2 )
      {
        v25 = _m_punpckldq(v386, v390);
        v26 = _m_punpckhdq(v386, v390);
        v27 = _m_punpckldq(v396, v398);
        v28 = _m_punpckhdq(v396, v398);
        v29 = _m_punpckldq(v388, v392);
        v30 = _m_punpckhdq(v388, v392);
        v31 = _m_punpckhdq(v394, 0i64);
        v32 = _m_punpckldq(v394, 0i64);
        result = a1;
        v33 = (__m64)a2->m64_u64;
        v34 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
        v35 = _mm_cvtsi32_si64(qword_4BB628);
        v36 = _m_pswapd(v35);
        *(__m64 *)a1 = v35;
        *(_QWORD *)(a1 + 8) = 0i64;
        *(__m64 *)(a1 + 16) = v36;
        *(_QWORD *)(a1 + 24) = 0i64;
        *(_QWORD *)(a1 + 32) = 0i64;
        *(__m64 *)(a1 + 40) = v35;
        v37 = _m_pfsub(v36, v34);
        *(__m64 *)(a1 + 56) = v37;
        *(__m64 *)(a1 + 48) = _m_pfsub(0i64, v33);
        v38 = *(__m64 *)(a1 + 8);
        v39 = _m_punpckhdq(v37, *(__m64 *)a1);
        v40 = _m_punpckhdq(v33, v38);
        v41 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v42 = _m_punpckldq(v38, v38);
        v43 = _m_punpckhdq(v39, v39);
        v44 = _m_pfmul(v26, v43);
        v45 = _m_punpckhdq(v40, v40);
        v46 = _m_pfadd(_m_pfadd(_m_pfmul(v43, v31), _m_pfmul(v41, v32)), _m_pfmul(v42, v27));
        v47 = _m_pfadd(_m_pfmul(v30, v45), _m_pfadd(_m_pfmul(v29, v42), _m_pfadd(v44, _m_pfmul(v25, v41))));
        v48 = *(__m64 *)(a1 + 16);
        v49 = _m_pfadd(_m_pfmul(v45, v28), v46);
        v50 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v47;
        *(__m64 *)(a1 + 8) = v49;
        v51 = _m_punpckhdq(v46, v48);
        v52 = _m_punpckhdq(v49, v50);
        v53 = _m_punpckldq(v48, v48);
        v54 = _m_punpckldq(v50, v50);
        v55 = _m_punpckhdq(v51, v51);
        v56 = _m_pfmul(v26, v55);
        v57 = _m_punpckhdq(v52, v52);
        v58 = _m_pfadd(_m_pfadd(_m_pfmul(v55, v31), _m_pfmul(v53, v32)), _m_pfmul(v54, v27));
        v59 = _m_pfadd(_m_pfmul(v30, v57), _m_pfadd(_m_pfmul(v29, v54), _m_pfadd(v56, _m_pfmul(v25, v53))));
        v60 = *(__m64 *)(a1 + 32);
        v61 = _m_pfadd(_m_pfmul(v57, v28), v58);
        v62 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v59;
        *(__m64 *)(a1 + 24) = v61;
        v63 = _m_punpckhdq(v58, v60);
        v64 = _m_punpckhdq(v61, v62);
        v65 = _m_punpckldq(v60, v60);
        v66 = _m_punpckldq(v62, v62);
        v67 = _m_punpckhdq(v63, v63);
        v68 = _m_pfmul(v26, v67);
        v69 = _m_punpckhdq(v64, v64);
        v70 = _m_pfadd(_m_pfadd(_m_pfmul(v67, v31), _m_pfmul(v65, v32)), _m_pfmul(v66, v27));
        v71 = _m_pfadd(_m_pfmul(v30, v69), _m_pfadd(_m_pfmul(v29, v66), _m_pfadd(v68, _m_pfmul(v25, v65))));
        v72 = *(__m64 *)(a1 + 48);
        v73 = _m_pfadd(_m_pfmul(v69, v28), v70);
        v74 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v71;
        *(__m64 *)(a1 + 40) = v73;
        v75 = _m_punpckhdq(v70, v72);
        v76 = _m_punpckhdq(v73, v74);
        v77 = _m_punpckldq(v72, v72);
        v78 = _m_punpckldq(v74, v74);
        v79 = _m_punpckhdq(v75, v75);
        v80 = _m_pfmul(v26, v79);
        v81 = _m_punpckhdq(v76, v76);
        v82 = _m_pfmul(v30, v81);
        v83 = _m_pfadd(_m_pfadd(_m_pfmul(v79, v31), _m_pfmul(v77, v32)), _m_pfmul(v78, v27));
        v84 = _m_pfadd(_m_pfmul(v81, v28), v83);
        *(__m64 *)(a1 + 48) = _m_pfadd(v82, _m_pfadd(_m_pfmul(v29, v78), _m_pfadd(v80, _m_pfmul(v25, v77))));
        *(__m64 *)(a1 + 56) = v84;
        v85 = *(__m64 *)(a1 + 8);
        v86 = _m_punpckhdq(v83, *(__m64 *)a1);
        v87 = _m_punpckhdq(v84, v85);
        v88 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v89 = _m_punpckldq(v85, v85);
        v90 = _m_punpckhdq(v86, v86);
        v91 = _m_pfmul(v384, v90);
        v92 = _m_punpckhdq(v87, v87);
        v93 = _m_pfadd(_m_pfadd(_m_pfmul(v90, 0i64), _m_pfmul(v88, 0i64)), _m_pfmul(v89, v385));
        v94 = _m_pfadd(_m_pfmul(0i64, v92), _m_pfadd(_m_pfmul(0i64, v89), _m_pfadd(v91, _m_pfmul(v383, v88))));
        v95 = *(__m64 *)(a1 + 16);
        v96 = _m_pfadd(_m_pfmul(v92, (__m64)qword_4BB618), v93);
        v97 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v94;
        *(__m64 *)(a1 + 8) = v96;
        v98 = _m_punpckhdq(v93, v95);
        v99 = _m_punpckhdq(v96, v97);
        v100 = _m_punpckldq(v95, v95);
        v101 = _m_punpckldq(v97, v97);
        v102 = _m_punpckhdq(v98, v98);
        v103 = _m_pfmul(v384, v102);
        v104 = _m_punpckhdq(v99, v99);
        v105 = _m_pfadd(_m_pfadd(_m_pfmul(v102, 0i64), _m_pfmul(v100, 0i64)), _m_pfmul(v101, v385));
        v106 = _m_pfadd(_m_pfmul(0i64, v104), _m_pfadd(_m_pfmul(0i64, v101), _m_pfadd(v103, _m_pfmul(v383, v100))));
        v107 = *(__m64 *)(a1 + 32);
        v108 = _m_pfadd(_m_pfmul(v104, (__m64)qword_4BB618), v105);
        v109 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v106;
        *(__m64 *)(a1 + 24) = v108;
        v110 = _m_punpckhdq(v105, v107);
        v111 = _m_punpckhdq(v108, v109);
        v112 = _m_punpckldq(v107, v107);
        v113 = _m_punpckldq(v109, v109);
        v114 = _m_punpckhdq(v110, v110);
        v115 = _m_pfmul(v384, v114);
        v116 = _m_punpckhdq(v111, v111);
        v117 = _m_pfadd(_m_pfadd(_m_pfmul(v114, 0i64), _m_pfmul(v112, 0i64)), _m_pfmul(v113, v385));
        v118 = _m_pfadd(_m_pfmul(0i64, v116), _m_pfadd(_m_pfmul(0i64, v113), _m_pfadd(v115, _m_pfmul(v383, v112))));
        v119 = *(__m64 *)(a1 + 48);
        v120 = _m_pfadd(_m_pfmul(v116, (__m64)qword_4BB618), v117);
        v121 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v118;
        *(__m64 *)(a1 + 40) = v120;
        v122 = _m_punpckhdq(v117, v119);
        v123 = _m_punpckhdq(v120, v121);
        v124 = _m_punpckldq(v119, v119);
        v125 = _m_punpckldq(v121, v121);
        v126 = _m_punpckhdq(v122, v122);
        v127 = _m_pfmul(v384, v126);
        v128 = _m_punpckhdq(v123, v123);
        v129 = _m_pfmul(0i64, v128);
        v130 = _m_pfadd(_m_pfadd(_m_pfmul(v126, 0i64), _m_pfmul(v124, 0i64)), _m_pfmul(v125, v385));
        v131 = _m_pfadd(_m_pfmul(v128, (__m64)qword_4BB618), v130);
        *(__m64 *)(a1 + 48) = _m_pfadd(v129, _m_pfadd(_m_pfmul(0i64, v125), _m_pfadd(v127, _m_pfmul(v383, v124))));
        *(__m64 *)(a1 + 56) = v131;
        v132 = *(__m64 *)(a1 + 8);
        v133 = _m_punpckhdq(v130, *(__m64 *)a1);
        v134 = _m_punpckhdq(v131, v132);
        v135 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v136 = _m_punpckldq(v132, v132);
        v137 = _m_punpckhdq(v133, v133);
        v138 = _m_pfmul(v390, v137);
        v139 = _m_punpckhdq(v134, v134);
        v140 = _m_pfadd(_m_pfadd(_m_pfmul(v137, v392), _m_pfmul(v135, v388)), _m_pfmul(v136, v396));
        v141 = _m_pfadd(_m_pfmul(0i64, v139), _m_pfadd(_m_pfmul(v394, v136), _m_pfadd(v138, _m_pfmul(v386, v135))));
        v142 = *(__m64 *)(a1 + 16);
        v143 = _m_pfadd(_m_pfmul(v139, v398), v140);
        v144 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v141;
        *(__m64 *)(a1 + 8) = v143;
        v145 = _m_punpckhdq(v140, v142);
        v146 = _m_punpckhdq(v143, v144);
        v147 = _m_punpckldq(v142, v142);
        v148 = _m_punpckldq(v144, v144);
        v149 = _m_punpckhdq(v145, v145);
        v150 = _m_pfmul(v390, v149);
        v151 = _m_punpckhdq(v146, v146);
        v152 = _m_pfadd(_m_pfadd(_m_pfmul(v149, v392), _m_pfmul(v147, v388)), _m_pfmul(v148, v396));
        v153 = _m_pfadd(_m_pfmul(0i64, v151), _m_pfadd(_m_pfmul(v394, v148), _m_pfadd(v150, _m_pfmul(v386, v147))));
        v154 = *(__m64 *)(a1 + 32);
        v155 = _m_pfadd(_m_pfmul(v151, v398), v152);
        v156 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v153;
        *(__m64 *)(a1 + 24) = v155;
        v157 = _m_punpckhdq(v152, v154);
        v158 = _m_punpckhdq(v155, v156);
        v159 = _m_punpckldq(v154, v154);
        v160 = _m_punpckldq(v156, v156);
        v161 = _m_punpckhdq(v157, v157);
        v162 = _m_pfmul(v390, v161);
        v163 = _m_punpckhdq(v158, v158);
        v164 = _m_pfadd(_m_pfadd(_m_pfmul(v161, v392), _m_pfmul(v159, v388)), _m_pfmul(v160, v396));
        v165 = _m_pfadd(_m_pfmul(0i64, v163), _m_pfadd(_m_pfmul(v394, v160), _m_pfadd(v162, _m_pfmul(v386, v159))));
        v166 = *(__m64 *)(a1 + 48);
        v167 = _m_pfadd(_m_pfmul(v163, v398), v164);
        v168 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v165;
        *(__m64 *)(a1 + 40) = v167;
        v169 = _m_punpckhdq(v164, v166);
        v170 = _m_punpckhdq(v167, v168);
        v171 = _m_punpckldq(v166, v166);
        v172 = _m_punpckldq(v168, v168);
        v173 = _m_punpckhdq(v169, v169);
        v174 = _m_punpckhdq(v170, v170);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v174),
                                _m_pfadd(_m_pfmul(v394, v172), _m_pfadd(_m_pfmul(v390, v173), _m_pfmul(v386, v171))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v174, v398),
                                _m_pfadd(_m_pfadd(_m_pfmul(v173, v392), _m_pfmul(v171, v388)), _m_pfmul(v172, v396)));
        v175 = _m_pfadd(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
        *(__m64 *)(a1 + 48) = _m_pfadd((__m64)a2->m64_u64, *(__m64 *)(a1 + 48));
        *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v175);
      }
      else
      {
        result = a1;
        *(__m64 *)a1 = _m_punpckldq(v386, v390);
        *(__m64 *)(a1 + 16) = _m_punpckhdq(v386, v390);
        v176 = _m_punpckldq(v396, v398);
        *(__m64 *)(a1 + 40) = v176;
        *(__m64 *)(a1 + 56) = _m_punpckhdq(v396, v398);
        *(__m64 *)(a1 + 32) = _m_punpckldq(v388, v392);
        v177 = _m_punpckldq(v394, 0i64);
        *(__m64 *)(a1 + 48) = _m_punpckhdq(v388, v392);
        *(__m64 *)(a1 + 24) = _m_punpckhdq(v394, 0i64);
        *(__m64 *)(a1 + 8) = v177;
        v178 = *(__m64 *)(a1 + 8);
        v179 = _m_punpckhdq(v177, *(__m64 *)a1);
        v180 = _m_punpckhdq(v176, v178);
        v181 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v182 = _m_punpckldq(v178, v178);
        v183 = _m_punpckhdq(v179, v179);
        v184 = _m_pfmul(v384, v183);
        v185 = _m_punpckhdq(v180, v180);
        v186 = _m_pfadd(_m_pfadd(_m_pfmul(v183, 0i64), _m_pfmul(v181, 0i64)), _m_pfmul(v182, v385));
        v187 = _m_pfadd(_m_pfmul(0i64, v185), _m_pfadd(_m_pfmul(0i64, v182), _m_pfadd(v184, _m_pfmul(v383, v181))));
        v188 = *(__m64 *)(a1 + 16);
        v189 = _m_pfadd(_m_pfmul(v185, (__m64)qword_4BB618), v186);
        v190 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v187;
        *(__m64 *)(a1 + 8) = v189;
        v191 = _m_punpckhdq(v186, v188);
        v192 = _m_punpckhdq(v189, v190);
        v193 = _m_punpckldq(v188, v188);
        v194 = _m_punpckldq(v190, v190);
        v195 = _m_punpckhdq(v191, v191);
        v196 = _m_pfmul(v384, v195);
        v197 = _m_punpckhdq(v192, v192);
        v198 = _m_pfadd(_m_pfadd(_m_pfmul(v195, 0i64), _m_pfmul(v193, 0i64)), _m_pfmul(v194, v385));
        v199 = _m_pfadd(_m_pfmul(0i64, v197), _m_pfadd(_m_pfmul(0i64, v194), _m_pfadd(v196, _m_pfmul(v383, v193))));
        v200 = *(__m64 *)(a1 + 32);
        v201 = _m_pfadd(_m_pfmul(v197, (__m64)qword_4BB618), v198);
        v202 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v199;
        *(__m64 *)(a1 + 24) = v201;
        v203 = _m_punpckhdq(v198, v200);
        v204 = _m_punpckhdq(v201, v202);
        v205 = _m_punpckldq(v200, v200);
        v206 = _m_punpckldq(v202, v202);
        v207 = _m_punpckhdq(v203, v203);
        v208 = _m_pfmul(v384, v207);
        v209 = _m_punpckhdq(v204, v204);
        v210 = _m_pfadd(_m_pfadd(_m_pfmul(v207, 0i64), _m_pfmul(v205, 0i64)), _m_pfmul(v206, v385));
        v211 = _m_pfadd(_m_pfmul(0i64, v209), _m_pfadd(_m_pfmul(0i64, v206), _m_pfadd(v208, _m_pfmul(v383, v205))));
        v212 = *(__m64 *)(a1 + 48);
        v213 = _m_pfadd(_m_pfmul(v209, (__m64)qword_4BB618), v210);
        v214 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v211;
        *(__m64 *)(a1 + 40) = v213;
        v215 = _m_punpckhdq(v210, v212);
        v216 = _m_punpckhdq(v213, v214);
        v217 = _m_punpckldq(v212, v212);
        v218 = _m_punpckldq(v214, v214);
        v219 = _m_punpckhdq(v215, v215);
        v220 = _m_pfmul(v384, v219);
        v221 = _m_punpckhdq(v216, v216);
        v222 = _m_pfmul(0i64, v221);
        v223 = _m_pfadd(_m_pfadd(_m_pfmul(v219, 0i64), _m_pfmul(v217, 0i64)), _m_pfmul(v218, v385));
        v224 = _m_pfadd(_m_pfmul(v221, (__m64)qword_4BB618), v223);
        *(__m64 *)(a1 + 48) = _m_pfadd(v222, _m_pfadd(_m_pfmul(0i64, v218), _m_pfadd(v220, _m_pfmul(v383, v217))));
        *(__m64 *)(a1 + 56) = v224;
        v225 = *(__m64 *)(a1 + 8);
        v226 = _m_punpckhdq(v223, *(__m64 *)a1);
        v227 = _m_punpckhdq(v224, v225);
        v228 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v229 = _m_punpckldq(v225, v225);
        v230 = _m_punpckhdq(v226, v226);
        v231 = _m_pfmul(v390, v230);
        v232 = _m_punpckhdq(v227, v227);
        v233 = _m_pfadd(_m_pfadd(_m_pfmul(v230, v392), _m_pfmul(v228, v388)), _m_pfmul(v229, v396));
        v234 = _m_pfadd(_m_pfmul(0i64, v232), _m_pfadd(_m_pfmul(v394, v229), _m_pfadd(v231, _m_pfmul(v386, v228))));
        v235 = *(__m64 *)(a1 + 16);
        v236 = _m_pfadd(_m_pfmul(v232, v398), v233);
        v237 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v234;
        *(__m64 *)(a1 + 8) = v236;
        v238 = _m_punpckhdq(v233, v235);
        v239 = _m_punpckhdq(v236, v237);
        v240 = _m_punpckldq(v235, v235);
        v241 = _m_punpckldq(v237, v237);
        v242 = _m_punpckhdq(v238, v238);
        v243 = _m_pfmul(v390, v242);
        v244 = _m_punpckhdq(v239, v239);
        v245 = _m_pfadd(_m_pfadd(_m_pfmul(v242, v392), _m_pfmul(v240, v388)), _m_pfmul(v241, v396));
        v246 = _m_pfadd(_m_pfmul(0i64, v244), _m_pfadd(_m_pfmul(v394, v241), _m_pfadd(v243, _m_pfmul(v386, v240))));
        v247 = *(__m64 *)(a1 + 32);
        v248 = _m_pfadd(_m_pfmul(v244, v398), v245);
        v249 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v246;
        *(__m64 *)(a1 + 24) = v248;
        v250 = _m_punpckhdq(v245, v247);
        v251 = _m_punpckhdq(v248, v249);
        v252 = _m_punpckldq(v247, v247);
        v253 = _m_punpckldq(v249, v249);
        v254 = _m_punpckhdq(v250, v250);
        v255 = _m_pfmul(v390, v254);
        v256 = _m_punpckhdq(v251, v251);
        v257 = _m_pfadd(_m_pfadd(_m_pfmul(v254, v392), _m_pfmul(v252, v388)), _m_pfmul(v253, v396));
        v258 = _m_pfadd(_m_pfmul(0i64, v256), _m_pfadd(_m_pfmul(v394, v253), _m_pfadd(v255, _m_pfmul(v386, v252))));
        v259 = *(__m64 *)(a1 + 48);
        v260 = _m_pfadd(_m_pfmul(v256, v398), v257);
        v261 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v258;
        *(__m64 *)(a1 + 40) = v260;
        v262 = _m_punpckhdq(v257, v259);
        v263 = _m_punpckhdq(v260, v261);
        v264 = _m_punpckldq(v259, v259);
        v265 = _m_punpckldq(v261, v261);
        v266 = _m_punpckhdq(v262, v262);
        v267 = _m_punpckhdq(v263, v263);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v267),
                                _m_pfadd(_m_pfmul(v394, v265), _m_pfadd(_m_pfmul(v390, v266), _m_pfmul(v386, v264))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v267, v398),
                                _m_pfadd(_m_pfadd(_m_pfmul(v266, v392), _m_pfmul(v264, v388)), _m_pfmul(v265, v396)));
      }
    }
    else
    {
      v268 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v269 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      *(__m64 *)a1 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      *(_QWORD *)(a1 + 8) = 0i64;
      *(__m64 *)(a1 + 16) = v269;
      *(_QWORD *)(a1 + 24) = 0i64;
      *(_QWORD *)(a1 + 32) = 0i64;
      *(__m64 *)(a1 + 40) = v268;
      *(_QWORD *)(a1 + 48) = 0i64;
      *(_QWORD *)(a1 + 56) = qword_4BB618;
    }
  }
  else
  {
    v270 = _mm_cvtsi32_si64(qword_4BB628);
    v271 = _m_pswapd(v270);
    *(__m64 *)a1 = v270;
    *(_QWORD *)(a1 + 8) = 0i64;
    *(__m64 *)(a1 + 16) = v271;
    *(_QWORD *)(a1 + 24) = 0i64;
    *(_QWORD *)(a1 + 32) = 0i64;
    *(__m64 *)(a1 + 40) = v270;
    *(_QWORD *)(a1 + 48) = 0i64;
    *(__m64 *)(a1 + 56) = v271;
  }
  if ( a6 )
  {
    v272 = (__m64)a6->m64_u64;
    v273 = v272;
    v274 = _m_pfadd(v272, v272);
    v275 = a6[1];
    v276 = _m_pfadd(v275, v275);
    v277 = v274;
    v278 = _m_pfmul(v274, (__m64)a6->m64_u64);
    v279 = _m_punpckldq(v277, v276);
    v280 = _m_pfmul((__m64)a6->m64_u64, v276);
    v281 = _m_pfmul(_m_pswapd((__m64)a6->m64_u64), v276);
    v282 = _m_pfmul(v276, v275);
    v283 = _m_pfmul(_m_punpckhdq(v273, v275), v279);
    v284 = v278;
    v285 = _m_pfpnacc(v281, v281);
    v286 = _m_pfpnacc(v283, v283);
    v287 = _m_pfpnacc(v280, v280);
    v288 = _m_pfsub(_m_pfsubr(v278, (__m64)qword_4BB638), _m_punpckldq(v282, v282));
    v289 = _m_punpckldq(_m_pswapd(v287), v285);
    v290 = _m_punpckldq(v287, 0i64);
    v395 = v289;
    v291 = _m_punpckhdq(v285, 0i64);
    v389 = v290;
    v397 = _m_punpckhdq(_m_pfsubr(_m_pfacc(v284, v284), (__m64)qword_4BB638), 0i64);
    v387 = _m_punpckhdq(v288, v286);
    v391 = _m_punpckldq(v286, v288);
    v393 = v291;
    v399 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4BB638);
    if ( a5 )
    {
      v292 = (__m64)a5->m64_u64;
      v293 = _mm_cvtsi32_si64(a5[1].m64_u32[0]);
      v294 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), v293);
      *(__m64 *)(result + 48) = _m_pfsub(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v294);
      v295 = *(__m64 *)(result + 8);
      v296 = _m_punpckhdq(v292, *(__m64 *)result);
      v297 = _m_punpckhdq(v293, v295);
      v298 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v299 = _m_punpckldq(v295, v295);
      v300 = _m_punpckhdq(v296, v296);
      v301 = _m_pfmul(v391, v300);
      v302 = _m_punpckhdq(v297, v297);
      v303 = _m_pfadd(_m_pfadd(_m_pfmul(v300, v393), _m_pfmul(v298, v389)), _m_pfmul(v299, v397));
      v304 = _m_pfadd(_m_pfmul(0i64, v302), _m_pfadd(_m_pfmul(v395, v299), _m_pfadd(v301, _m_pfmul(v387, v298))));
      v305 = *(__m64 *)(result + 16);
      v306 = _m_pfadd(_m_pfmul(v302, v399), v303);
      v307 = *(__m64 *)(result + 24);
      *(__m64 *)result = v304;
      *(__m64 *)(result + 8) = v306;
      v308 = _m_punpckhdq(v303, v305);
      v309 = _m_punpckhdq(v306, v307);
      v310 = _m_punpckldq(v305, v305);
      v311 = _m_punpckldq(v307, v307);
      v312 = _m_punpckhdq(v308, v308);
      v313 = _m_pfmul(v391, v312);
      v314 = _m_punpckhdq(v309, v309);
      v315 = _m_pfadd(_m_pfadd(_m_pfmul(v312, v393), _m_pfmul(v310, v389)), _m_pfmul(v311, v397));
      v316 = _m_pfadd(_m_pfmul(0i64, v314), _m_pfadd(_m_pfmul(v395, v311), _m_pfadd(v313, _m_pfmul(v387, v310))));
      v317 = *(__m64 *)(result + 32);
      v318 = _m_pfadd(_m_pfmul(v314, v399), v315);
      v319 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v316;
      *(__m64 *)(result + 24) = v318;
      v320 = _m_punpckhdq(v315, v317);
      v321 = _m_punpckhdq(v318, v319);
      v322 = _m_punpckldq(v317, v317);
      v323 = _m_punpckldq(v319, v319);
      v324 = _m_punpckhdq(v320, v320);
      v325 = _m_pfmul(v391, v324);
      v326 = _m_punpckhdq(v321, v321);
      v327 = _m_pfadd(_m_pfadd(_m_pfmul(v324, v393), _m_pfmul(v322, v389)), _m_pfmul(v323, v397));
      v328 = _m_pfadd(_m_pfmul(0i64, v326), _m_pfadd(_m_pfmul(v395, v323), _m_pfadd(v325, _m_pfmul(v387, v322))));
      v329 = *(__m64 *)(result + 48);
      v330 = _m_pfadd(_m_pfmul(v326, v399), v327);
      v331 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v328;
      *(__m64 *)(result + 40) = v330;
      v332 = _m_punpckhdq(v327, v329);
      v333 = _m_punpckhdq(v330, v331);
      v334 = _m_punpckldq(v329, v329);
      v335 = _m_punpckldq(v331, v331);
      v336 = _m_punpckhdq(v332, v332);
      v337 = _m_punpckhdq(v333, v333);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v337),
                                  _m_pfadd(_m_pfmul(v395, v335), _m_pfadd(_m_pfmul(v391, v336), _m_pfmul(v387, v334))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v337, v399),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v336, v393), _m_pfmul(v334, v389)), _m_pfmul(v335, v397)));
      v338 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a5[1].m64_u32[0]));
      *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v338);
    }
    else
    {
      v339 = *(__m64 *)(result + 8);
      v340 = _m_punpckhdq(v290, *(__m64 *)result);
      v341 = _m_punpckhdq(v291, v339);
      v342 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v343 = _m_punpckldq(v339, v339);
      v344 = _m_punpckhdq(v340, v340);
      v345 = _m_pfmul(v391, v344);
      v346 = _m_punpckhdq(v341, v341);
      v347 = _m_pfadd(_m_pfadd(_m_pfmul(v344, v393), _m_pfmul(v342, v389)), _m_pfmul(v343, v397));
      v348 = _m_pfadd(_m_pfmul(0i64, v346), _m_pfadd(_m_pfmul(v395, v343), _m_pfadd(v345, _m_pfmul(v387, v342))));
      v349 = *(__m64 *)(result + 16);
      v350 = _m_pfadd(_m_pfmul(v346, v399), v347);
      v351 = *(__m64 *)(result + 24);
      *(__m64 *)result = v348;
      *(__m64 *)(result + 8) = v350;
      v352 = _m_punpckhdq(v347, v349);
      v353 = _m_punpckhdq(v350, v351);
      v354 = _m_punpckldq(v349, v349);
      v355 = _m_punpckldq(v351, v351);
      v356 = _m_punpckhdq(v352, v352);
      v357 = _m_pfmul(v391, v356);
      v358 = _m_punpckhdq(v353, v353);
      v359 = _m_pfadd(_m_pfadd(_m_pfmul(v356, v393), _m_pfmul(v354, v389)), _m_pfmul(v355, v397));
      v360 = _m_pfadd(_m_pfmul(0i64, v358), _m_pfadd(_m_pfmul(v395, v355), _m_pfadd(v357, _m_pfmul(v387, v354))));
      v361 = *(__m64 *)(result + 32);
      v362 = _m_pfadd(_m_pfmul(v358, v399), v359);
      v363 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v360;
      *(__m64 *)(result + 24) = v362;
      v364 = _m_punpckhdq(v359, v361);
      v365 = _m_punpckhdq(v362, v363);
      v366 = _m_punpckldq(v361, v361);
      v367 = _m_punpckldq(v363, v363);
      v368 = _m_punpckhdq(v364, v364);
      v369 = _m_pfmul(v391, v368);
      v370 = _m_punpckhdq(v365, v365);
      v371 = _m_pfadd(_m_pfadd(_m_pfmul(v368, v393), _m_pfmul(v366, v389)), _m_pfmul(v367, v397));
      v372 = _m_pfadd(_m_pfmul(0i64, v370), _m_pfadd(_m_pfmul(v395, v367), _m_pfadd(v369, _m_pfmul(v387, v366))));
      v373 = *(__m64 *)(result + 48);
      v374 = _m_pfadd(_m_pfmul(v370, v399), v371);
      v375 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v372;
      *(__m64 *)(result + 40) = v374;
      v376 = _m_punpckhdq(v371, v373);
      v377 = _m_punpckhdq(v374, v375);
      v378 = _m_punpckldq(v373, v373);
      v379 = _m_punpckldq(v375, v375);
      v380 = _m_punpckhdq(v376, v376);
      v381 = _m_punpckhdq(v377, v377);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v381),
                                  _m_pfadd(_m_pfmul(v395, v379), _m_pfadd(_m_pfmul(v391, v380), _m_pfmul(v387, v378))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v381, v399),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v380, v393), _m_pfmul(v378, v389)), _m_pfmul(v379, v397)));
    }
  }
  if ( a7 )
  {
    v382 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a7[1].m64_u32[0]));
    *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a7->m64_u64);
    *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v382);
  }
  _m_femms();
  return result;
}
// 4BB618: using guessed type __int64 qword_4BB618;
// 4BB628: using guessed type __int64 qword_4BB628;
// 4BB638: using guessed type __int64 qword_4BB638;

//----- (0046585D) --------------------------------------------------------
int __stdcall sub_46585D(int a1, _DWORD *a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm5@1
  __m64 v7; // mm6@1
  __m64 v8; // mm1@1
  __m64 v9; // mm0@1
  __m64 v10; // mm7@1
  __m64 v11; // mm2@1
  __m64 v12; // mm0@1
  __m64 v13; // mm1@1
  __m64 v14; // mm2@1
  __m64 v15; // mm3@1
  __m64 v16; // mm5@1
  __m64 v17; // mm4@1
  __m64 v18; // mm6@1
  __m64 v19; // mm0@1
  __m64 v20; // mm5@1
  __m64 v21; // mm6@1
  __m64 v22; // mm1@1
  __m64 v23; // mm0@1
  __m64 v24; // mm7@1
  __m64 v25; // mm2@1
  __m64 v26; // mm0@1
  __m64 v27; // mm0@1
  __m64 v28; // mm0@1
  __m64 v29; // mm1@3
  int result; // eax@3
  __m64 v31; // mm0@3
  __m64 v32; // mm1@3
  __m64 v33; // mm2@4
  __m64 v34; // mm3@4
  __m64 v35; // mm5@4
  __m64 v36; // mm6@4
  __m64 v37; // mm2@4
  __m64 v38; // mm3@4
  __m64 v39; // mm5@4
  __m64 v40; // mm6@4
  __m64 v41; // [sp+0h] [bp-40h]@1
  __m64 v42; // [sp+8h] [bp-38h]@1
  __m64 v43; // [sp+10h] [bp-30h]@1
  __m64 v44; // [sp+18h] [bp-28h]@1
  __m64 v45; // [sp+20h] [bp-20h]@1
  __m64 v46; // [sp+28h] [bp-18h]@1
  __m64 v47; // [sp+30h] [bp-10h]@1
  __m64 v48; // [sp+38h] [bp-8h]@1

  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 32);
  v5 = _m_pswapd(*(__m64 *)(a3 + 48));
  v6 = _m_pfnacc(_m_pfmul(_m_pswapd(v3), *(__m64 *)a3), _m_pfmul(_m_pswapd(v4), *(__m64 *)a3));
  v7 = _m_pfnacc(_m_pfmul(v5, *(__m64 *)a3), _m_pfmul(_m_pswapd(v4), v3));
  v8 = _m_pfnacc(_m_pfmul(v3, v5), _m_pfmul(v4, v5));
  v9 = *(__m64 *)(a3 + 56);
  v10 = *(__m64 *)(a3 + 40);
  v42 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v7, v7), v9), _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckldq(v8, v8), v10));
  v44 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v6, v6), v9), _m_pfmul(_m_punpckldq(v7, v7), v10)),
          _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 8)));
  v11 = _m_punpckldq(v6, v6);
  v46 = _m_pfsub(
          _m_pfadd(_m_pfmul(v9, v11), _m_pfmul(_m_punpckldq(v8, v8), *(__m64 *)(a3 + 8))),
          _m_pfmul(_m_punpckldq(v7, v7), *(__m64 *)(a3 + 24)));
  v12 = *(__m64 *)(a3 + 8);
  v48 = _m_pfadd(
          _m_pfsub(_m_pfmul(v11, v10), _m_pfmul(_m_punpckhdq(v6, v6), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckhdq(v7, v7), *(__m64 *)(a3 + 8)));
  v13 = *(__m64 *)(a3 + 24);
  v14 = *(__m64 *)(a3 + 40);
  v15 = *(__m64 *)(a3 + 56);
  v16 = _m_pfmul(_m_pswapd(v13), v12);
  v17 = _m_pfmul(_m_pswapd(v14), v12);
  v18 = _m_pfmul(_m_pswapd(v15), v12);
  v19 = _m_pswapd(v15);
  v20 = _m_pfnacc(v16, v17);
  v21 = _m_pfnacc(v18, _m_pfmul(_m_pswapd(v14), v13));
  v22 = _m_pfnacc(_m_pfmul(v13, v19), _m_pfmul(v14, v19));
  v23 = *(__m64 *)(a3 + 48);
  v24 = *(__m64 *)(a3 + 32);
  v41 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v21, v21), v23), _m_pfmul(_m_punpckhdq(v22, v22), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckldq(v22, v22), v24));
  v43 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v20, v20), v23), _m_pfmul(_m_punpckldq(v21, v21), v24)),
          _m_pfmul(_m_punpckhdq(v22, v22), *(__m64 *)a3));
  v25 = _m_punpckldq(v20, v20);
  v26 = _m_pfsub(
          _m_pfadd(_m_pfmul(v23, v25), _m_pfmul(_m_punpckldq(v22, v22), *(__m64 *)a3)),
          _m_pfmul(_m_punpckldq(v21, v21), *(__m64 *)(a3 + 16)));
  v45 = v26;
  v47 = _m_pfadd(
          _m_pfsub(_m_pfmul(v25, v24), _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckhdq(v21, v21), *(__m64 *)a3));
  v27 = _m_pfnacc(
          _m_pfmul(_m_punpckhdq(v26, v47), _m_punpckldq(v24, *(__m64 *)(a3 + 48))),
          _m_pfmul(_m_punpckldq(*(__m64 *)a3, (__m64)*(_DWORD *)(a3 + 16)), _m_punpckhdq(v41, v43)));
  v28 = _m_pfacc(v27, v27);
  if ( a2 )
    *a2 = _mm_cvtsi64_si32(v28);
  v29 = _m_pfrcp(v28);
  result = _mm_cvtsi64_si32(_m_pfcmpeq(0i64, v28));
  v31 = _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(_m_punpckldq(v28, v28), v29), v29), (__m64)qword_4BB628);
  v32 = _m_pswapd(v31);
  if ( !result )
  {
    result = a1;
    v33 = _m_pfmul(v41, v32);
    v34 = _m_pfmul(v43, v31);
    v35 = _m_pfmul(v42, v32);
    v36 = _m_pfmul(v44, v31);
    *(__m64 *)a1 = _m_punpckhdq(v33, v34);
    *(__m64 *)(a1 + 16) = _m_punpckldq(v33, v34);
    *(__m64 *)(a1 + 32) = _m_punpckhdq(v35, v36);
    *(__m64 *)(a1 + 48) = _m_punpckldq(v35, v36);
    v37 = _m_pfmul(v45, v32);
    v38 = _m_pfmul(v47, v31);
    v39 = _m_pfmul(v46, v32);
    v40 = _m_pfmul(v48, v31);
    *(__m64 *)(a1 + 8) = _m_punpckhdq(v37, v38);
    *(__m64 *)(a1 + 24) = _m_punpckldq(v37, v38);
    *(__m64 *)(a1 + 40) = _m_punpckhdq(v39, v40);
    *(__m64 *)(a1 + 56) = _m_punpckldq(v39, v40);
  }
  _m_femms();
  return result;
}
// 4BB628: using guessed type __int64 qword_4BB628;

//----- (00465B3F) --------------------------------------------------------
int __stdcall sub_465B3F(int a1, int a2, __m64 *a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 v8; // mm0@1
  __m64 v9; // mm4@1
  int result; // eax@2
  __m64 v11; // mm4@2
  __m64 v12; // mm4@2
  __m64 v13; // mm4@2
  __m64 v14; // mm4@2
  __m64 v15; // mm4@3
  __m64 v16; // ST00_8@3
  unsigned __int64 v17; // ST08_8@3
  __m64 v18; // mm4@3
  __m64 v19; // ST10_8@3
  unsigned __int64 v20; // ST18_8@3
  __m64 v21; // mm4@3
  __m64 v22; // ST20_8@3
  unsigned __int64 v23; // ST28_8@3
  __m64 v24; // mm4@3
  __m64 v25; // [sp+0h] [bp-44h]@1
  __m64 v26; // [sp+8h] [bp-3Ch]@1
  __m64 v27; // [sp+10h] [bp-34h]@1
  __m64 v28; // [sp+18h] [bp-2Ch]@1
  __m64 v29; // [sp+20h] [bp-24h]@1
  __m64 v30; // [sp+28h] [bp-1Ch]@1
  __m64 v31; // [sp+30h] [bp-14h]@1
  __m64 v32; // [sp+38h] [bp-Ch]@1

  _m_femms();
  v3 = a3[2];
  v4 = a3[5];
  v5 = a3[7];
  v25 = _m_punpckldq((__m64)a3->m64_u64, v3);
  v27 = _m_punpckhdq((__m64)a3->m64_u64, v3);
  v6 = a3[1];
  v7 = a3[3];
  v8 = a3[4];
  v30 = _m_punpckldq(v4, v5);
  v32 = _m_punpckhdq(v4, v5);
  v9 = a3[6];
  v29 = _m_punpckldq(v6, v7);
  v31 = _m_punpckhdq(v6, v7);
  v28 = _m_punpckhdq(v8, v9);
  v26 = _m_punpckldq(v8, v9);
  if ( a2 == a1 )
  {
    result = a1;
    v15 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)(a2 + 32)), _m_pfmul(v25, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 40)), _m_pfmul(v26, *(__m64 *)(a2 + 56))));
    v16 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)a2), _m_pfmul(v25, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 8)), _m_pfmul(v26, *(__m64 *)(a2 + 24))));
    v17 = v15.m64_u64;
    v18 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)(a2 + 32)), _m_pfmul(v27, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 40)), _m_pfmul(v28, *(__m64 *)(a2 + 56))));
    v19 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)a2), _m_pfmul(v27, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 8)), _m_pfmul(v28, *(__m64 *)(a2 + 24))));
    v20 = v18.m64_u64;
    v21 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)(a2 + 32)), _m_pfmul(v29, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 40)), _m_pfmul(v30, *(__m64 *)(a2 + 56))));
    v22 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)a2), _m_pfmul(v29, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 8)), _m_pfmul(v30, *(__m64 *)(a2 + 24))));
    v23 = v21.m64_u64;
    v24 = _m_pfadd(
            _m_pfacc(_m_pfmul(v31, *(__m64 *)(a2 + 32)), _m_pfmul(v31, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 40)), _m_pfmul(v32, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 48) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v31, *(__m64 *)a2), _m_pfmul(v31, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 8)), _m_pfmul(v32, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 56) = v24;
    *(__m64 *)a1 = v16;
    *(_QWORD *)(a1 + 8) = v17;
    *(__m64 *)(a1 + 16) = v19;
    *(_QWORD *)(a1 + 24) = v20;
    *(__m64 *)(a1 + 32) = v22;
    *(_QWORD *)(a1 + 40) = v23;
    _m_femms();
  }
  else
  {
    result = a1;
    v11 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)(a2 + 32)), _m_pfmul(v25, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 40)), _m_pfmul(v26, *(__m64 *)(a2 + 56))));
    *(__m64 *)a1 = _m_pfadd(
                     _m_pfacc(_m_pfmul(v25, *(__m64 *)a2), _m_pfmul(v25, *(__m64 *)(a2 + 16))),
                     _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 8)), _m_pfmul(v26, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 8) = v11;
    v12 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)(a2 + 32)), _m_pfmul(v27, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 40)), _m_pfmul(v28, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 16) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v27, *(__m64 *)a2), _m_pfmul(v27, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 8)), _m_pfmul(v28, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 24) = v12;
    v13 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)(a2 + 32)), _m_pfmul(v29, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 40)), _m_pfmul(v30, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 32) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v29, *(__m64 *)a2), _m_pfmul(v29, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 8)), _m_pfmul(v30, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 40) = v13;
    v14 = _m_pfadd(
            _m_pfacc(_m_pfmul(v31, *(__m64 *)(a2 + 32)), _m_pfmul(v31, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 40)), _m_pfmul(v32, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 48) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v31, *(__m64 *)a2), _m_pfmul(v31, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 8)), _m_pfmul(v32, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 56) = v14;
    _m_femms();
  }
  return result;
}

//----- (00465F37) --------------------------------------------------------
int __stdcall sub_465F37(int a1, _DWORD *a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm5@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1
  __m64 v8; // mm6@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm7@1
  __m64 v12; // mm2@1
  __m64 v13; // mm0@1
  __m64 v14; // mm1@1
  __m64 v15; // mm2@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm4@1
  __m64 v19; // mm6@1
  __m64 v20; // mm1@1
  __m64 v21; // mm0@1
  __m64 v22; // mm7@1
  __m64 v23; // mm2@1
  __m64 v24; // mm0@1
  __m64 v25; // mm2@1
  __m64 v26; // mm0@1
  __m64 v27; // mm0@1
  __m64 v28; // mm1@3
  int result; // eax@3
  __m64 v30; // mm0@3
  __m64 v31; // mm1@3
  __m64 v32; // mm2@4
  __m64 v33; // mm3@4
  __m64 v34; // mm5@4
  __m64 v35; // mm6@4
  __m64 v36; // mm2@4
  __m64 v37; // mm3@4
  __m64 v38; // mm5@4
  __m64 v39; // mm6@4
  __m64 v40; // [sp+0h] [bp-44h]@1
  __m64 v41; // [sp+8h] [bp-3Ch]@1
  __m64 v42; // [sp+10h] [bp-34h]@1
  __m64 v43; // [sp+18h] [bp-2Ch]@1
  __m64 v44; // [sp+20h] [bp-24h]@1
  __m64 v45; // [sp+28h] [bp-1Ch]@1
  __m64 v46; // [sp+30h] [bp-14h]@1
  __m64 v47; // [sp+38h] [bp-Ch]@1

  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 32);
  v5 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckhdq(*(__m64 *)(a3 + 16), v4)),
         _m_pfmul(_m_punpckhdq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckldq(v3, v4)));
  v6 = _m_punpckldq(*(__m64 *)a3, v3);
  v7 = _m_punpckldq(*(__m64 *)(a3 + 48), v4);
  v8 = _m_pfsub(_m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 48), v4), v6), _m_pfmul(_m_punpckhdq(*(__m64 *)a3, v3), v7));
  v9 = _m_pfsubr(
         _m_pfmul(_m_punpckhdq(v3, v4), _m_punpckldq(v7, v7)),
         _m_pfmul(_m_punpckhdq(v6, v7), _m_punpckhdq(*(__m64 *)(a3 + 48), *(__m64 *)(a3 + 48))));
  v10 = *(__m64 *)(a3 + 56);
  v11 = *(__m64 *)(a3 + 40);
  v41 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v8, v8), v10), _m_pfmul(_m_punpckhdq(v9, v9), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckldq(v9, v9), v11));
  v43 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v5, v5), v10), _m_pfmul(_m_punpckldq(v8, v8), v11)),
          _m_pfmul(_m_punpckhdq(v9, v9), *(__m64 *)(a3 + 8)));
  v12 = _m_punpckldq(v5, v5);
  v45 = _m_pfsub(
          _m_pfadd(_m_pfmul(v10, v12), _m_pfmul(_m_punpckldq(v9, v9), *(__m64 *)(a3 + 8))),
          _m_pfmul(_m_punpckldq(v8, v8), *(__m64 *)(a3 + 24)));
  v47 = _m_pfadd(
          _m_pfsub(_m_pfmul(v12, v11), _m_pfmul(_m_punpckhdq(v5, v5), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 8)));
  v13 = *(__m64 *)(a3 + 8);
  v14 = *(__m64 *)(a3 + 24);
  v15 = *(__m64 *)(a3 + 40);
  v16 = _m_pfsub(
          _m_pfmul(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), _m_punpckhdq(*(__m64 *)(a3 + 24), v15)),
          _m_pfmul(_m_punpckhdq(v13, v13), _m_punpckldq(v14, v15)));
  v17 = _m_punpckldq(v13, v14);
  v18 = _m_punpckldq(*(__m64 *)(a3 + 56), v15);
  v19 = _m_pfsub(
          _m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 56), v15), v17),
          _m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 8), v14), v18));
  v20 = _m_pfsubr(
          _m_pfmul(_m_punpckhdq(v14, v15), _m_punpckldq(v18, v18)),
          _m_pfmul(_m_punpckhdq(v17, v18), _m_punpckhdq(*(__m64 *)(a3 + 56), *(__m64 *)(a3 + 56))));
  v21 = *(__m64 *)(a3 + 48);
  v22 = *(__m64 *)(a3 + 32);
  v40 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v19, v19), v21), _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckldq(v20, v20), v22));
  v42 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v16, v16), v21), _m_pfmul(_m_punpckldq(v19, v19), v22)),
          _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)a3));
  v23 = _m_punpckldq(v16, v16);
  v24 = _m_pfsub(
          _m_pfadd(_m_pfmul(v21, v23), _m_pfmul(_m_punpckldq(v20, v20), *(__m64 *)a3)),
          _m_pfmul(_m_punpckldq(v19, v19), *(__m64 *)(a3 + 16)));
  v44 = v24;
  v25 = _m_pfadd(
          _m_pfsub(_m_pfmul(v23, v22), _m_pfmul(_m_punpckhdq(v16, v16), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckhdq(v19, v19), *(__m64 *)a3));
  v46 = v25;
  v26 = _m_pfadd(
          _m_pfmul(_m_punpckhdq(v24, v25), _m_pfmul(_m_punpckldq(v22, *(__m64 *)(a3 + 48)), (__m64)qword_4BB628)),
          _m_pfmul(
            _m_pfmul(_m_punpckldq(*(__m64 *)a3, (__m64)*(_DWORD *)(a3 + 16)), (__m64)qword_4BB628),
            _m_punpckhdq(v40, v42)));
  v27 = _m_pfacc(v26, v26);
  if ( a2 )
    *a2 = _mm_cvtsi64_si32(v27);
  v28 = _m_pfrcp(v27);
  result = _mm_cvtsi64_si32(_m_pfcmpeq(0i64, v27));
  v30 = _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(_m_punpckldq(v27, v27), v28), v28), (__m64)qword_4BB628);
  v31 = _m_punpckhdq(v30, _m_punpckldq(v25, v30));
  if ( !result )
  {
    result = a1;
    v32 = _m_pfmul(v40, v31);
    v33 = _m_pfmul(v42, v30);
    v34 = _m_pfmul(v41, v31);
    v35 = _m_pfmul(v43, v30);
    *(__m64 *)a1 = _m_punpckhdq(v32, v33);
    *(__m64 *)(a1 + 16) = _m_punpckldq(v32, v33);
    *(__m64 *)(a1 + 32) = _m_punpckhdq(v34, v35);
    *(__m64 *)(a1 + 48) = _m_punpckldq(v34, v35);
    v36 = _m_pfmul(v44, v31);
    v37 = _m_pfmul(v46, v30);
    v38 = _m_pfmul(v45, v31);
    v39 = _m_pfmul(v47, v30);
    *(__m64 *)(a1 + 8) = _m_punpckhdq(v36, v37);
    *(__m64 *)(a1 + 24) = _m_punpckldq(v36, v37);
    *(__m64 *)(a1 + 40) = _m_punpckhdq(v38, v39);
    *(__m64 *)(a1 + 56) = _m_punpckldq(v38, v39);
  }
  return result;
}
// 4BB628: using guessed type __int64 qword_4BB628;

//----- (0046626B) --------------------------------------------------------
int __stdcall sub_46626B(int a1, _DWORD *a2, int a3)
{
  _m_femms();
  sub_465F37(a1, a2, a3);
  _m_femms();
  return a1;
}

//----- (004662F8) --------------------------------------------------------
__m64 *__stdcall sub_4662F8(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm2@1
  __m64 v9; // mm3@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v8 = _m_punpckldq(v7, v7);
  v9 = _m_pfadd(
         _m_pfmul(v5, *(__m64 *)(a3 + 8)),
         _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 24)), _m_pfmul(v8, *(__m64 *)(a3 + 40))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfmul(v5, *(__m64 *)a3),
                                    _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 16)), _m_pfmul(v8, *(__m64 *)(a3 + 32))));
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(v9);
  _m_femms();
  return a1;
}

//----- (0046635F) --------------------------------------------------------
__m64 *__stdcall sub_46635F(__m64 *a1, __m64 *a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1
  __m64 v8; // mm5@1
  __m64 *result; // eax@1
  __m64 v10; // mm0@1

  _m_femms();
  v2 = (__m64)a2->m64_u64;
  v3 = v2;
  v4 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v4, v4));
  v6 = _m_pfacc(v5, v5);
  v7 = _m_pfrsqrt(v6);
  v8 = _m_pfcmpgt(v6, (__m64)qword_4BB6A8);
  result = a1;
  v10 = _m_pfrcpit2(_m_pfrsqit1(v6, _m_pfmul(v7, v7)), v7);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(_m_pand(v3, v8), v10);
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(_m_pfmul(_m_pand(v4, v8), v10));
  _m_femms();
  return result;
}
// 4BB6A8: using guessed type __int64 qword_4BB6A8;

//----- (004663BE) --------------------------------------------------------
__m64 *__stdcall sub_4663BE(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm5@1
  __m64 v8; // mm7@1
  __m64 *result; // eax@1
  __m64 v10; // mm6@1
  __m64 v11; // mm7@1
  __m64 v12; // mm1@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v8 = _mm_cvtsi32_si64(a6);
  result = a1;
  v10 = _m_punpckldq(v6, v6);
  v11 = _m_punpckldq(v8, v8);
  v12 = _m_pfadd(
          _m_pfadd(_m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a3[1].m64_u32[0]), v7), v10), v7),
          _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a4[1].m64_u32[0]), v7), v11));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(
                                      _m_pfmul(_m_pfsub((__m64)a3->m64_u64, (__m64)a2->m64_u64), v10),
                                      (__m64)a2->m64_u64),
                                    _m_pfmul(_m_pfsub((__m64)a4->m64_u64, (__m64)a2->m64_u64), v11));
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(v12);
  _m_femms();
  return result;
}

//----- (0046642F) --------------------------------------------------------
__m64 *__stdcall sub_46642F(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 v18; // mm7@1
  __m64 v19; // mm1@1
  __m64 v20; // mm6@1
  __m64 v21; // mm2@1
  __m64 *result; // eax@1
  __m64 v23; // mm0@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_4BB6D0);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_4BB6D8);
  v13 = _m_pfmul(v8, (__m64)qword_4BB6D0);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_4BB6C0);
  v18 = _m_punpckldq(v9, v9);
  v19 = _m_punpckldq(v15, v15);
  v20 = _m_punpckldq(v16, v16);
  v21 = _m_punpckldq(v17, v17);
  result = a1;
  v23 = _m_pfadd(
          _m_pfadd(_m_pfmul(v19, _mm_cvtsi32_si64(a4[1].m64_u32[0])), _m_pfmul(v18, _mm_cvtsi32_si64(a5[1].m64_u32[0]))),
          _m_pfadd(_m_pfmul(v21, _mm_cvtsi32_si64(a2[1].m64_u32[0])), _m_pfmul(v20, _mm_cvtsi32_si64(a3[1].m64_u32[0]))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v19, (__m64)a4->m64_u64), _m_pfmul(v18, (__m64)a5->m64_u64)),
                                    _m_pfadd(_m_pfmul(v21, (__m64)a2->m64_u64), _m_pfmul(v20, (__m64)a3->m64_u64)));
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(v23);
  _m_femms();
  return result;
}
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB6D0: using guessed type __int64 qword_4BB6D0;
// 4BB6D8: using guessed type __int64 qword_4BB6D8;

//----- (00466503) --------------------------------------------------------
__m64 *__stdcall sub_466503(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 v20; // mm2@1
  __m64 v21; // mm1@1
  __m64 v22; // mm3@1
  __m64 v23; // mm0@1
  __m64 v24; // mm2@1
  __m64 v25; // mm3@1
  __m64 *result; // eax@1
  __m64 v27; // mm4@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)(unsigned int)qword_4BB638);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_4BB648);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_4BB658)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  v20 = v18;
  v21 = _m_punpckhdq(v18, v18);
  v22 = v19;
  v23 = _m_punpckldq(v19, v19);
  v24 = _m_punpckldq(v20, v20);
  v25 = _m_punpckhdq(v22, v22);
  result = a1;
  v27 = _m_pfadd(
          _m_pfadd(
            _m_pfadd(
              _m_pfmul(v21, _mm_cvtsi32_si64(a2[1].m64_u32[0])),
              _m_pfmul(v23, _mm_cvtsi32_si64(a3[1].m64_u32[0]))),
            _m_pfmul(v24, _mm_cvtsi32_si64(a4[1].m64_u32[0]))),
          _m_pfmul(v25, _mm_cvtsi32_si64(a5[1].m64_u32[0])));
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(
                                        _m_pfadd(_m_pfmul(v23, (__m64)a3->m64_u64), _m_pfmul(v21, (__m64)a2->m64_u64)),
                                        _m_pfmul(v24, (__m64)a4->m64_u64)),
                                      _m_pfmul(v25, (__m64)a5->m64_u64)),
                                    (__m64)qword_4BB6A0);
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(_m_pfmul(v27, (__m64)qword_4BB6A0));
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;
// 4BB648: using guessed type __int64 qword_4BB648;
// 4BB658: using guessed type __int64 qword_4BB658;
// 4BB6A0: using guessed type __int64 qword_4BB6A0;

//----- (004665ED) --------------------------------------------------------
__m64 *__stdcall sub_4665ED(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm2@1
  __m64 v9; // mm3@1
  __m64 v10; // mm5@1
  __m64 v11; // mm4@1
  __m64 v12; // mm5@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v8 = _m_punpckldq(v7, v7);
  v9 = _m_pfadd(
         _m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)),
         _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 24)), _m_pfmul(v8, *(__m64 *)(a3 + 40))));
  v10 = _m_punpckhdq(v9, v9);
  v11 = _m_pfrcp(v10);
  v12 = _m_pfrcpit2(_m_pfrcpit1(v10, v11), v11);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                                      _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 16)), _m_pfmul(v8, *(__m64 *)(a3 + 32)))),
                                    v12);
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(_m_pfmul(v9, v12));
  _m_femms();
  return a1;
}

//----- (00466678) --------------------------------------------------------
int __userpurge sub_466678@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, int a3, __m64 *a4, int a5)
{
  __m64 v5; // mm1@1
  __m64 v6; // mm2@1
  __m64 v7; // mm3@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm2@1
  __m64 v11; // mm5@1
  __m64 v12; // mm3@1
  __m64 v13; // mm2@1
  __m64 v14; // mm7@1
  __m64 v15; // mm0@1
  __m64 v16; // mm3@1
  __m64 v17; // mm1@1
  __m64 v18; // mm4@1
  __m64 v19; // mm2@1
  __m64 v20; // mm3@1
  __m64 v21; // mm0@1
  __m64 v22; // mm1@1
  __m64 v23; // mm2@1
  __m64 v24; // mm5@1
  __m64 v25; // mm3@1
  __m64 v26; // mm2@1
  __m64 v27; // mm7@1
  __m64 v28; // mm0@1
  __m64 v29; // mm3@1
  __m64 v30; // mm1@1
  __m64 v31; // mm4@1
  __m64 v32; // mm2@1
  __m64 v33; // mm3@1
  __m64 v34; // mm0@1
  __m64 v35; // mm1@1
  __m64 v36; // mm2@1
  __m64 v37; // mm5@1
  __m64 v38; // mm3@1
  __m64 v39; // mm2@1
  __m64 v40; // mm7@1
  __m64 v41; // mm0@1
  __m64 v42; // mm3@1
  __m64 v43; // mm1@1
  __m64 v44; // mm4@1
  __m64 v45; // mm2@1
  __m64 v46; // mm3@1
  __m64 v47; // mm0@1
  __m64 v48; // mm1@1
  __m64 v49; // mm2@1
  __m64 v50; // mm3@1
  __m64 v51; // mm7@1
  __m64 v52; // mm3@1

  v5 = a4[1];
  v6 = _m_punpckhdq(a1, (__m64)a4->m64_u64);
  v7 = _m_punpckhdq(a2, v5);
  v8 = _m_punpckldq((__m64)a4->m64_u64, (__m64)a4->m64_u64);
  v9 = _m_punpckldq(v5, v5);
  v10 = _m_punpckhdq(v6, v6);
  v11 = _m_pfmul(*(__m64 *)(a5 + 16), v10);
  v12 = _m_punpckhdq(v7, v7);
  v13 = _m_pfadd(
          _m_pfadd(_m_pfmul(v10, *(__m64 *)(a5 + 24)), _m_pfmul(v8, *(__m64 *)(a5 + 8))),
          _m_pfmul(v9, *(__m64 *)(a5 + 40)));
  v14 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v12),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v9), _m_pfadd(v11, _m_pfmul(*(__m64 *)a5, v8))));
  v15 = a4[2];
  v16 = _m_pfadd(_m_pfmul(v12, *(__m64 *)(a5 + 56)), v13);
  v17 = a4[3];
  *(__m64 *)a3 = v14;
  v18 = *(__m64 *)a5;
  *(__m64 *)(a3 + 8) = v16;
  v19 = _m_punpckhdq(v13, v15);
  v20 = _m_punpckhdq(v16, v17);
  v21 = _m_punpckldq(v15, v15);
  v22 = _m_punpckldq(v17, v17);
  v23 = _m_punpckhdq(v19, v19);
  v24 = _m_pfmul(*(__m64 *)(a5 + 16), v23);
  v25 = _m_punpckhdq(v20, v20);
  v26 = _m_pfadd(
          _m_pfadd(_m_pfmul(v23, *(__m64 *)(a5 + 24)), _m_pfmul(v21, *(__m64 *)(a5 + 8))),
          _m_pfmul(v22, *(__m64 *)(a5 + 40)));
  v27 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v25),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v22), _m_pfadd(v24, _m_pfmul(v18, v21))));
  v28 = a4[4];
  v29 = _m_pfadd(_m_pfmul(v25, *(__m64 *)(a5 + 56)), v26);
  v30 = a4[5];
  *(__m64 *)(a3 + 16) = v27;
  v31 = *(__m64 *)a5;
  *(__m64 *)(a3 + 24) = v29;
  v32 = _m_punpckhdq(v26, v28);
  v33 = _m_punpckhdq(v29, v30);
  v34 = _m_punpckldq(v28, v28);
  v35 = _m_punpckldq(v30, v30);
  v36 = _m_punpckhdq(v32, v32);
  v37 = _m_pfmul(*(__m64 *)(a5 + 16), v36);
  v38 = _m_punpckhdq(v33, v33);
  v39 = _m_pfadd(
          _m_pfadd(_m_pfmul(v36, *(__m64 *)(a5 + 24)), _m_pfmul(v34, *(__m64 *)(a5 + 8))),
          _m_pfmul(v35, *(__m64 *)(a5 + 40)));
  v40 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v38),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v35), _m_pfadd(v37, _m_pfmul(v31, v34))));
  v41 = a4[6];
  v42 = _m_pfadd(_m_pfmul(v38, *(__m64 *)(a5 + 56)), v39);
  v43 = a4[7];
  *(__m64 *)(a3 + 32) = v40;
  v44 = *(__m64 *)a5;
  *(__m64 *)(a3 + 40) = v42;
  v45 = _m_punpckhdq(v39, v41);
  v46 = _m_punpckhdq(v42, v43);
  v47 = _m_punpckldq(v41, v41);
  v48 = _m_punpckldq(v43, v43);
  v49 = _m_punpckhdq(v45, v45);
  v50 = _m_punpckhdq(v46, v46);
  v51 = _m_pfmul(*(__m64 *)(a5 + 48), v50);
  v52 = _m_pfadd(
          _m_pfmul(v50, *(__m64 *)(a5 + 56)),
          _m_pfadd(
            _m_pfadd(_m_pfmul(v49, *(__m64 *)(a5 + 24)), _m_pfmul(v47, *(__m64 *)(a5 + 8))),
            _m_pfmul(v48, *(__m64 *)(a5 + 40))));
  *(__m64 *)(a3 + 48) = _m_pfadd(
                          v51,
                          _m_pfadd(
                            _m_pfmul(*(__m64 *)(a5 + 32), v48),
                            _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 16), v49), _m_pfmul(v44, v47))));
  *(__m64 *)(a3 + 56) = v52;
  _m_femms();
  return a3;
}

//----- (00466844) --------------------------------------------------------
__m64 *__userpurge sub_466844@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8)
{
  float *v8; // esi@1
  __m64 v9; // mm1@11
  float v11; // [sp+Ch] [bp-40h]@1
  float v12; // [sp+10h] [bp-3Ch]@2
  float v13; // [sp+14h] [bp-38h]@2
  float v14; // [sp+18h] [bp-34h]@2
  float v15; // [sp+1Ch] [bp-30h]@2
  float v16; // [sp+20h] [bp-2Ch]@2
  float v17; // [sp+24h] [bp-28h]@2
  float v18; // [sp+28h] [bp-24h]@2
  float v19; // [sp+2Ch] [bp-20h]@2
  float v20; // [sp+30h] [bp-1Ch]@2
  float v21; // [sp+34h] [bp-18h]@2
  float v22; // [sp+38h] [bp-14h]@2
  float v23; // [sp+3Ch] [bp-10h]@2
  float v24; // [sp+40h] [bp-Ch]@2
  float v25; // [sp+44h] [bp-8h]@2
  float v26; // [sp+48h] [bp-4h]@2

  v8 = &v11;
  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v15 = 0.0;
      v14 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      v11 = 1.0;
      break;
    case 1:
      v8 = (float *)a6;
      break;
    case 2:
      v8 = (float *)a7;
      break;
    case 3:
      _m_femms();
      sub_466678(a1, a2, (int)&v11, a7, a6);
      _m_femms();
      break;
    case 4:
      v8 = (float *)a8;
      break;
    case 5:
      _m_femms();
      sub_466678(a1, a2, (int)&v11, a8, a6);
      _m_femms();
      break;
    case 6:
      _m_femms();
      sub_466678(a1, a2, (int)&v11, a8, (int)a7);
      _m_femms();
      break;
    case 7:
      _m_femms();
      sub_466678(a1, a2, (int)&v11, a8, (int)a7);
      sub_466678(a1, a2, (int)&v11, (__m64 *)&v11, a6);
      _m_femms();
      break;
    default:
      break;
  }
  sub_4665ED(a3, a4, (int)v8);
  if ( a5 )
  {
    _m_femms();
    v9 = _m_pfadd(
           _m_pfmul(
             _mm_cvtsi32_si64(a3[1].m64_u32[0]),
             _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), *(__m64 *)(a5 + 16))),
           *(__m64 *)(a5 + 16));
    a3->m64_u64 = (unsigned __int64)_m_pfadd(
                                      _m_pfmul(
                                        _m_pfadd(_m_pxor((__m64)a3->m64_u64, (__m64)qword_4BB6B8), (__m64)qword_4BB6C0),
                                        _m_pfmul(_m_pi2fd(*(__m64 *)(a5 + 8)), (__m64)qword_4BB6C8)),
                                      _m_pi2fd(*(__m64 *)a5));
    a3[1].m64_i32[0] = _mm_cvtsi64_si32(v9);
    _m_femms();
  }
  return a3;
}
// 4BB6B8: using guessed type __int64 qword_4BB6B8;
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB6C8: using guessed type __int64 qword_4BB6C8;

//----- (004669CC) --------------------------------------------------------
__m64 *__userpurge sub_4669CC@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8)
{
  __m64 v8; // mm4@11
  __m64 v9; // mm2@11
  __m64 v10; // mm5@11
  __m64 v11; // mm0@11
  __m64 v12; // mm5@11
  __m64 v13; // mm6@11
  __m64 v14; // mm3@11
  float v16; // [sp+Ch] [bp-40h]@2
  float v17; // [sp+10h] [bp-3Ch]@2
  float v18; // [sp+14h] [bp-38h]@2
  float v19; // [sp+18h] [bp-34h]@2
  float v20; // [sp+1Ch] [bp-30h]@2
  float v21; // [sp+20h] [bp-2Ch]@2
  float v22; // [sp+24h] [bp-28h]@2
  float v23; // [sp+28h] [bp-24h]@2
  float v24; // [sp+2Ch] [bp-20h]@2
  float v25; // [sp+30h] [bp-1Ch]@2
  float v26; // [sp+34h] [bp-18h]@2
  float v27; // [sp+38h] [bp-14h]@2
  float v28; // [sp+3Ch] [bp-10h]@2
  float v29; // [sp+40h] [bp-Ch]@2
  float v30; // [sp+44h] [bp-8h]@2
  float v31; // [sp+48h] [bp-4h]@2

  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v30 = 0.0;
      v29 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v31 = 1.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      break;
    case 1:
      _m_femms();
      sub_465F37((int)&v16, 0, a6);
      _m_femms();
      break;
    case 2:
      _m_femms();
      sub_465F37((int)&v16, 0, (int)a7);
      _m_femms();
      break;
    case 3:
      _m_femms();
      sub_466678(a1, a2, (int)&v16, a7, a6);
      sub_465F37((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    case 4:
      _m_femms();
      sub_465F37((int)&v16, 0, (int)a8);
      _m_femms();
      break;
    case 5:
      _m_femms();
      sub_466678(a1, a2, (int)&v16, a8, a6);
      sub_465F37((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    case 6:
      _m_femms();
      sub_466678(a1, a2, (int)&v16, a8, (int)a7);
      sub_465F37((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    case 7:
      _m_femms();
      sub_466678(a1, a2, (int)&v16, a8, (int)a7);
      sub_466678(a1, a2, (int)&v16, (__m64 *)&v16, a6);
      sub_465F37((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    default:
      break;
  }
  if ( a5 )
  {
    _m_femms();
    v8 = *(__m64 *)(a5 + 16);
    v9 = _m_pi2fd(*(__m64 *)(a5 + 8));
    v10 = _m_punpckldq(_m_pfrcp(v9), _m_pfrcp(_m_punpckhdq(v9, v9)));
    v11 = _m_pfmul(
            _m_pfsub((__m64)a4->m64_u64, _m_pi2fd(*(__m64 *)a5)),
            _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v9, v10), v10), (__m64)qword_4BB6D0));
    v12 = _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), v8);
    v13 = _m_pfrcp(v12);
    v14 = _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a4[1].m64_u32[0]), v8), _m_pfrcpit2(_m_pfrcpit1(v12, v13), v13));
    a3->m64_u64 = (unsigned __int64)_m_pxor(_m_pfsub(v11, (__m64)qword_4BB6C0), (__m64)qword_4BB6B8);
    a3[1].m64_i32[0] = _mm_cvtsi64_si32(v14);
    _m_femms();
    sub_4665ED(a3, a3, (int)&v16);
  }
  else
  {
    sub_4665ED(a3, a4, (int)&v16);
  }
  return a3;
}
// 4BB6B8: using guessed type __int64 qword_4BB6B8;
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB6D0: using guessed type __int64 qword_4BB6D0;

//----- (00466BF2) --------------------------------------------------------
__m64 *__userpurge sub_466BF2@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8)
{
  __m64 v8; // mm4@13
  __m64 v9; // mm2@13
  __m64 v10; // mm5@13
  __m64 v11; // mm0@13
  __m64 v12; // mm5@13
  __m64 v13; // mm6@13
  __m64 v14; // mm3@13
  int v16; // [sp-4h] [bp-50h]@7
  char v17; // [sp+Ch] [bp-40h]@2

  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      sub_462BBF((int)&v17);
      break;
    case 1:
      sub_46585D((int)&v17, 0, a6);
      break;
    case 2:
      sub_46585D((int)&v17, 0, (int)a7);
      break;
    case 3:
      sub_466678(a1, a2, (int)&v17, a7, a6);
      goto LABEL_11;
    case 4:
      sub_46585D((int)&v17, 0, (int)a8);
      break;
    case 5:
      v16 = a6;
      goto LABEL_9;
    case 6:
      v16 = (int)a7;
LABEL_9:
      sub_466678(a1, a2, (int)&v17, a8, v16);
      goto LABEL_11;
    case 7:
      sub_466678(a1, a2, (int)&v17, a8, (int)a7);
      sub_466678(a1, a2, (int)&v17, (__m64 *)&v17, a6);
LABEL_11:
      sub_46585D((int)&v17, 0, (int)&v17);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    _m_femms();
    v8 = *(__m64 *)(a5 + 16);
    v9 = _m_pi2fd(*(__m64 *)(a5 + 8));
    v10 = _m_punpckldq(_m_pfrcp(v9), _m_pfrcp(_m_punpckhdq(v9, v9)));
    v11 = _m_pfmul(
            _m_pfsub((__m64)a4->m64_u64, _m_pi2fd(*(__m64 *)a5)),
            _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v9, v10), v10), (__m64)qword_4BB6D0));
    v12 = _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), v8);
    v13 = _m_pfrcp(v12);
    v14 = _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a4[1].m64_u32[0]), v8), _m_pfrcpit2(_m_pfrcpit1(v12, v13), v13));
    a3->m64_u64 = (unsigned __int64)_m_pxor(_m_pfsub(v11, (__m64)qword_4BB6C0), (__m64)qword_4BB6B8);
    a3[1].m64_i32[0] = _mm_cvtsi64_si32(v14);
    _m_femms();
    sub_4665ED(a3, a3, (int)&v17);
  }
  else
  {
    sub_4665ED(a3, a4, (int)&v17);
  }
  return a3;
}
// 4BB6B8: using guessed type __int64 qword_4BB6B8;
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB6D0: using guessed type __int64 qword_4BB6D0;

//----- (00466D80) --------------------------------------------------------
int __stdcall sub_466D80(int a1, int a2, signed int a3)
{
  signed int v3; // ecx@1
  __m64 *v4; // eax@1
  int v5; // edx@1
  __m64 v6; // mm3@5
  __m64 v7; // mm5@5
  __m64 v8; // mm0@5
  __m64 v9; // mm1@5
  __m64 v10; // mm2@5
  __m64 v11; // mm4@5
  __m64 v12; // mm5@5
  int v13; // ecx@7
  int result; // eax@8

  v3 = a3;
  v4 = (__m64 *)a1;
  v5 = a2;
  if ( a3 >= 4 )
  {
    while ( 1 )
    {
      while ( v3 >= 4 )
      {
        v6 = _m_punpcklwd(_mm_cvtsi32_si64(*(_DWORD *)v5), 0i64);
        v7 = _m_punpcklwd(_mm_cvtsi32_si64(*(_DWORD *)(v5 + 4)), 0i64);
        v8 = _m_pcmpeqd(_m_pand(v6, (__m64)qword_52CF40), 0i64);
        v9 = _m_pcmpeqd(_m_pand(v7, (__m64)qword_52CF40), 0i64);
        v10 = _m_pand(v6, (__m64)qword_52CF60);
        v11 = _m_pand(v7, (__m64)qword_52CF60);
        v12 = _m_por(
                _m_pfsub(
                  _m_pslld(
                    _m_paddd(_m_paddd(_m_pxor(v7, v11), (__m64)qword_52CF50), _m_pand(v9, (__m64)qword_52CF70)),
                    0xDu),
                  _m_pand(v9, (__m64)qword_52CF80)),
                _m_pslld(v11, 0x10u));
        v4->m64_u64 = (unsigned __int64)_m_por(
                                          _m_pfsub(
                                            _m_pslld(
                                              _m_paddd(
                                                _m_paddd(_m_pxor(v6, v10), (__m64)qword_52CF50),
                                                _m_pand(v8, (__m64)qword_52CF70)),
                                              0xDu),
                                            _m_pand(v8, (__m64)qword_52CF80)),
                                          _m_pslld(v10, 0x10u));
        v4[1].m64_u64 = (unsigned __int64)v12;
        v4 += 2;
        v5 += 8;
        v3 -= 4;
      }
      if ( !v3 )
        break;
      v13 = v3 - 4;
      v5 += 2 * v13;
      v4 = (__m64 *)((char *)v4 + 4 * v13);
      v3 = 4;
    }
  }
  else if ( a3 )
  {
    sub_444A1E(a1, a2, a3);
  }
  result = a1;
  _m_femms();
  return result;
}
// 52CF40: using guessed type __int64 qword_52CF40;
// 52CF50: using guessed type __int64 qword_52CF50;
// 52CF60: using guessed type __int64 qword_52CF60;
// 52CF70: using guessed type __int64 qword_52CF70;
// 52CF80: using guessed type __int64 qword_52CF80;

//----- (00466EC0) --------------------------------------------------------
int __stdcall sub_466EC0(int a1, int a2, signed int a3)
{
  signed int v3; // ecx@1
  __m64 *v4; // eax@1
  __m64 *v5; // edx@1
  __m64 v6; // mm1@5
  __m64 v7; // ST0C_8@5
  __m64 v8; // mm6@5
  __m64 v9; // mm7@5
  __m64 v10; // mm3@5
  __m64 v11; // mm0@5
  __m64 v12; // mm5@5
  __m64 v13; // mm1@5
  __m64 v14; // mm4@5
  __m64 v15; // mm5@5
  int v16; // ecx@7
  int result; // eax@8

  v3 = a3;
  v4 = (__m64 *)a1;
  v5 = (__m64 *)a2;
  if ( a3 >= 4 )
  {
    while ( 1 )
    {
      while ( v3 >= 4 )
      {
        v6 = v5[1];
        v7 = _m_pslld(
               _m_packssdw(
                 _m_psrld(_m_pand((__m64)qword_52CFB0, (__m64)v5->m64_u64), 0x12u),
                 _m_psrld(_m_pand((__m64)qword_52CFB0, v6), 0x12u)),
               2u);
        v8 = _m_pand((__m64)v5->m64_u64, (__m64)qword_52D000);
        v9 = _m_pand(v6, (__m64)qword_52D000);
        v10 = _m_pfcmpge((__m64)qword_52CFA0, v8);
        v11 = _m_psubd(_m_pfadd(v8, _m_pand(v10, (__m64)qword_52CFA0)), _m_pand(v10, (__m64)qword_52D010));
        v12 = _m_pfcmpge((__m64)qword_52CFA0, v9);
        v13 = _m_psubd(_m_pfadd(v9, _m_pand(v12, (__m64)qword_52CFA0)), _m_pand(v12, (__m64)qword_52D010));
        v14 = _m_pfcmpgt((__m64)qword_52CF90, v8);
        v15 = _m_pfcmpgt((__m64)qword_52CF90, v9);
        v4->m64_u64 = (unsigned __int64)_m_por(
                                          _m_packssdw(
                                            _m_por(
                                              _m_pand(
                                                _m_psrld(
                                                  _m_paddd(
                                                    _m_paddd(_m_pand(_m_psrld(v11, 0xDu), (__m64)qword_52CFD0), v11),
                                                    (__m64)qword_52CFE0),
                                                  0xDu),
                                                v14),
                                              _m_pandn(v14, (__m64)qword_52D020)),
                                            _m_por(
                                              _m_pand(
                                                _m_psrld(
                                                  _m_paddd(
                                                    _m_paddd(_m_pand(_m_psrld(v13, 0xDu), (__m64)qword_52CFD0), v13),
                                                    (__m64)qword_52CFE0),
                                                  0xDu),
                                                v15),
                                              _m_pandn(v15, (__m64)qword_52D020))),
                                          v7);
        ++v4;
        v5 += 2;
        v3 -= 4;
      }
      if ( !v3 )
        break;
      v16 = v3 - 4;
      v5 = (__m64 *)((char *)v5 + 4 * v16);
      v4 = (__m64 *)((char *)v4 + 2 * v16);
      v3 = 4;
    }
  }
  else if ( a3 )
  {
    sub_44497C(a1, a2, a3);
  }
  result = a1;
  _m_femms();
  return result;
}
// 52CF90: using guessed type __int64 qword_52CF90;
// 52CFA0: using guessed type __int64 qword_52CFA0;
// 52CFB0: using guessed type __int64 qword_52CFB0;
// 52CFD0: using guessed type __int64 qword_52CFD0;
// 52CFE0: using guessed type __int64 qword_52CFE0;
// 52D000: using guessed type __int64 qword_52D000;
// 52D010: using guessed type __int64 qword_52D010;
// 52D020: using guessed type __int64 qword_52D020;

//----- (0046703B) --------------------------------------------------------
__m64 *__stdcall sub_46703B(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm3@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _m_pfadd(_m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)), _m_pfmul(v6, *(__m64 *)(a3 + 24)));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                                    _m_pfmul(v6, *(__m64 *)(a3 + 16)));
  a1[1].m64_u64 = (unsigned __int64)v7;
  _m_femms();
  return a1;
}

//----- (00467090) --------------------------------------------------------
__m64 *__stdcall sub_467090(__m64 *a1, __m64 *a2, int a3)
{
  _m_femms();
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfmul(_m_punpckldq((__m64)a2->m64_u64, (__m64)a2->m64_u64), *(__m64 *)a3),
                                    _m_pfmul(_m_punpckhdq((__m64)a2->m64_u64, (__m64)a2->m64_u64), *(__m64 *)(a3 + 16)));
  _m_femms();
  return a1;
}

//----- (004670C9) --------------------------------------------------------
__m64 *__stdcall sub_4670C9(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm3@1
  __m64 v8; // mm3@1
  __m64 v9; // mm4@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _m_pfadd(_m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)), _m_pfmul(v6, *(__m64 *)(a3 + 24)));
  v8 = _m_punpckhdq(v7, v7);
  v9 = _m_pfrcp(v8);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                                      _m_pfmul(v6, *(__m64 *)(a3 + 16))),
                                    _m_pfrcpit2(_m_pfrcpit1(v8, v9), v9));
  _m_femms();
  return a1;
}

//----- (0046712D) --------------------------------------------------------
__m64 *__stdcall sub_46712D(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 *result; // eax@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_4BB6D0);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_4BB6D8);
  v13 = _m_pfmul(v8, (__m64)qword_4BB6D0);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_4BB6C0);
  result = a1;
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(
                                      _m_pfmul(_m_punpckldq(v17, v17), (__m64)a2->m64_u64),
                                      _m_pfmul(_m_punpckldq(v16, v16), (__m64)a3->m64_u64)),
                                    _m_pfadd(
                                      _m_pfmul(_m_punpckldq(v15, v15), (__m64)a4->m64_u64),
                                      _m_pfmul(_m_punpckldq(v9, v9), (__m64)a5->m64_u64)));
  _m_femms();
  return result;
}
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB6D0: using guessed type __int64 qword_4BB6D0;
// 4BB6D8: using guessed type __int64 qword_4BB6D8;

//----- (004671C5) --------------------------------------------------------
__m64 *__stdcall sub_4671C5(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 *result; // eax@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a6);
  result = a1;
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(
                                      (__m64)a2->m64_u64,
                                      _m_pfmul(_m_pfsub((__m64)a3->m64_u64, (__m64)a2->m64_u64), _m_punpckldq(v6, v6))),
                                    _m_pfmul(_m_pfsub((__m64)a4->m64_u64, (__m64)a2->m64_u64), _m_punpckldq(v7, v7)));
  _m_femms();
  return result;
}

//----- (0046720E) --------------------------------------------------------
__m64 *__stdcall sub_46720E(__m64 *a1, __m64 *a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 *result; // eax@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1

  v2 = (__m64)a2->m64_u64;
  v3 = v2;
  v4 = _m_pfmul(v2, v2);
  result = a1;
  v6 = _m_pfacc(v4, v4);
  v7 = _m_pfrsqrt(v6);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pand(v3, _m_pfcmpgt(v6, (__m64)qword_4BB6A8)),
                                    _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v7, v7), v6), v7));
  _m_femms();
  return result;
}
// 4BB6A8: using guessed type __int64 qword_4BB6A8;

//----- (00467251) --------------------------------------------------------
__m64 *__stdcall sub_467251(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 *result; // eax@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)(unsigned int)qword_4BB638);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_4BB648);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_4BB658)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  result = a1;
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(
                                        _m_pfadd(
                                          _m_pfmul(_m_punpckldq(v19, v19), (__m64)a3->m64_u64),
                                          _m_pfmul(_m_punpckhdq(v18, v18), (__m64)a2->m64_u64)),
                                        _m_pfmul(_m_punpckldq(v18, v18), (__m64)a4->m64_u64)),
                                      _m_pfmul(_m_punpckhdq(v19, v19), (__m64)a5->m64_u64)),
                                    (__m64)qword_4BB6A0);
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;
// 4BB648: using guessed type __int64 qword_4BB648;
// 4BB658: using guessed type __int64 qword_4BB658;
// 4BB6A0: using guessed type __int64 qword_4BB6A0;

//----- (004673DD) --------------------------------------------------------
int __stdcall sub_4673DD(int a1, __m64 *a2, int a3, int a4)
{
  int result; // eax@1
  __m64 v5; // mm2@1
  __m64 v6; // mm3@1
  __m64 v7; // mm4@1
  __m64 v8; // mm5@1
  __m64 v9; // mm6@1
  __m64 v10; // mm1@1
  __m64 v11; // mm0@1
  __m64 v12; // mm7@1
  __m64 v13; // mm2@1
  __m64 v14; // mm6@1
  __m64 v15; // mm7@1

  _m_femms();
  result = a1;
  v5 = *(__m64 *)(a3 + 8);
  v6 = *(__m64 *)(a4 + 8);
  v7 = _m_pfsub(
         _m_pfmul(
           _m_punpckhdq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)),
           _m_punpckhdq(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), *(__m64 *)a3)),
         _m_pfmul(
           _m_punpckhdq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)),
           _m_punpckhdq(_m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), *(__m64 *)a4)));
  v8 = _m_pfsub(
         _m_pfmul(_m_punpckhdq(*(__m64 *)a3, v5), _m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)a4)),
         _m_pfmul(_m_punpckhdq(*(__m64 *)a4, v6), _m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)a3)));
  v9 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)a4, *(__m64 *)a4), _m_punpckhdq(_m_punpckldq(v5, v5), *(__m64 *)a3)),
         _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckhdq(_m_punpckldq(v6, v6), *(__m64 *)a4)));
  v10 = a2[1];
  v11 = (__m64)a2->m64_u64;
  *(__m64 *)a1 = _m_pfsub(
                   _m_pfmul(
                     _m_pxor(_m_punpckldq(v7, v7), (__m64)qword_4BB6B8),
                     _m_punpckhdq((__m64)a2->m64_u64, _m_punpckldq((__m64)a2->m64_u64, (__m64)a2->m64_u64))),
                   _m_pfacc(
                     _m_pxor(_m_pfmul(_m_punpckldq(_m_punpckhdq(v7, v7), v8), v10), (__m64)qword_4BB6B8),
                     _m_pxor(_m_pfmul(_m_punpckldq(_m_punpckhdq(v8, v8), v9), v10), (__m64)qword_4BB6B8)));
  v12 = _m_psrlq((__m64)qword_4BB6B8, 0x20u);
  v13 = _m_pxor(_m_punpckldq(v8, v9), v12);
  v14 = _m_pxor(_m_punpckhdq(v9, v9), v12);
  v15 = _m_psllq(v12, 0x20u);
  *(__m64 *)(a1 + 8) = _m_pfadd(
                         _m_pfmul(_m_punpckhdq(v10, _m_punpckldq(v10, v10)), v14),
                         _m_pfacc(
                           _m_pxor(_m_pfmul(_m_pxor(_m_punpckhdq(v7, v8), (__m64)qword_4BB6B8), v11), v15),
                           _m_pxor(_m_pfmul(v13, v11), v15)));
  _m_femms();
  return result;
}
// 4BB6B8: using guessed type __int64 qword_4BB6B8;

//----- (0046750F) --------------------------------------------------------
__m64 *__stdcall sub_46750F(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 *result; // eax@1
  __m64 v9; // mm6@1
  __m64 v10; // mm7@1
  __m64 v11; // mm1@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a6);
  result = a1;
  v9 = _m_punpckldq(v6, v6);
  v10 = _m_punpckldq(v7, v7);
  v11 = _m_pfadd(
          _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)(a3 + 8), *(__m64 *)(a2 + 8)), v9), *(__m64 *)(a2 + 8)),
          _m_pfmul(_m_pfsub(*(__m64 *)(a4 + 8), *(__m64 *)(a2 + 8)), v10));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)a3, *(__m64 *)a2), v9), *(__m64 *)a2),
                                    _m_pfmul(_m_pfsub(*(__m64 *)a4, *(__m64 *)a2), v10));
  a1[1].m64_u64 = (unsigned __int64)v11;
  _m_femms();
  return result;
}

//----- (00467580) --------------------------------------------------------
__m64 *__stdcall sub_467580(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 v18; // mm7@1
  __m64 v19; // mm1@1
  __m64 v20; // mm6@1
  __m64 v21; // mm2@1
  __m64 *result; // eax@1
  __m64 v23; // mm0@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_4BB6D0);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_4BB6D8);
  v13 = _m_pfmul(v8, (__m64)qword_4BB6D0);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_4BB6C0);
  v18 = _m_punpckldq(v9, v9);
  v19 = _m_punpckldq(v15, v15);
  v20 = _m_punpckldq(v16, v16);
  v21 = _m_punpckldq(v17, v17);
  result = a1;
  v23 = _m_pfadd(
          _m_pfadd(_m_pfmul(v19, *(__m64 *)(a4 + 8)), _m_pfmul(v18, *(__m64 *)(a5 + 8))),
          _m_pfadd(_m_pfmul(v21, *(__m64 *)(a2 + 8)), _m_pfmul(v20, *(__m64 *)(a3 + 8))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v19, *(__m64 *)a4), _m_pfmul(v18, *(__m64 *)a5)),
                                    _m_pfadd(_m_pfmul(v21, *(__m64 *)a2), _m_pfmul(v20, *(__m64 *)a3)));
  a1[1].m64_u64 = (unsigned __int64)v23;
  _m_femms();
  return result;
}
// 4BB6C0: using guessed type __int64 qword_4BB6C0;
// 4BB6D0: using guessed type __int64 qword_4BB6D0;
// 4BB6D8: using guessed type __int64 qword_4BB6D8;

//----- (00467648) --------------------------------------------------------
int __stdcall sub_467648(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 v20; // mm2@1
  __m64 v21; // mm1@1
  __m64 v22; // mm3@1
  __m64 v23; // mm0@1
  __m64 v24; // mm2@1
  __m64 v25; // mm3@1
  int result; // eax@1
  __m64 v27; // mm4@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)(unsigned int)qword_4BB638);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_4BB648);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_4BB658)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  v20 = v18;
  v21 = _m_punpckhdq(v18, v18);
  v22 = v19;
  v23 = _m_punpckldq(v19, v19);
  v24 = _m_punpckldq(v20, v20);
  v25 = _m_punpckhdq(v22, v22);
  result = a1;
  v27 = _m_pfadd(
          _m_pfadd(
            _m_pfadd(_m_pfmul(v21, *(__m64 *)(a2 + 8)), _m_pfmul(v23, *(__m64 *)(a3 + 8))),
            _m_pfmul(v24, *(__m64 *)(a4 + 8))),
          _m_pfmul(v25, *(__m64 *)(a5 + 8)));
  *(__m64 *)a1 = _m_pfmul(
                   _m_pfadd(
                     _m_pfadd(
                       _m_pfadd(_m_pfmul(v23, *(__m64 *)a3), _m_pfmul(v21, *(__m64 *)a2)),
                       _m_pfmul(v24, *(__m64 *)a4)),
                     _m_pfmul(v25, *(__m64 *)a5)),
                   (__m64)qword_4BB6A0);
  *(__m64 *)(a1 + 8) = _m_pfmul(v27, (__m64)qword_4BB6A0);
  _m_femms();
  return result;
}
// 4BB638: using guessed type __int64 qword_4BB638;
// 4BB648: using guessed type __int64 qword_4BB648;
// 4BB658: using guessed type __int64 qword_4BB658;
// 4BB6A0: using guessed type __int64 qword_4BB6A0;

//----- (0046790B) --------------------------------------------------------
int __stdcall sub_46790B(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm2@1
  __m64 v4; // mm1@1
  __m64 v5; // mm3@1
  __m64 v6; // mm2@1
  __m64 v7; // mm0@1
  __m64 v8; // mm0@1
  __m64 v9; // mm4@1
  __m64 v10; // mm5@1
  int result; // eax@1
  __m64 v12; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = *(__m64 *)(a2 + 8);
  v4 = v2;
  v5 = v3;
  v6 = _m_pand(v3, (__m64)qword_4BB688);
  v7 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v6, v6));
  v8 = _m_pfacc(v7, v7);
  v9 = _m_pfrsqrt(v8);
  v10 = _m_pfcmpgt(v8, (__m64)qword_4BB6A8);
  result = a1;
  v12 = _m_pfrcpit2(_m_pfrsqit1(v8, _m_pfmul(v9, v9)), v9);
  *(__m64 *)a1 = _m_pfmul(_m_pand(v4, v10), v12);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_pand(v5, v10), v12);
  _m_femms();
  return result;
}
// 4BB688: using guessed type __int64 qword_4BB688;
// 4BB6A8: using guessed type __int64 qword_4BB6A8;

//----- (0046796F) --------------------------------------------------------
__m64 *__stdcall sub_46796F(__m64 *a1, int a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm3@1
  __m64 v9; // mm2@1
  __m64 v10; // mm3@1
  __m64 *result; // eax@1
  __m64 v12; // mm4@1

  _m_femms();
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = *(__m64 *)(a2 + 8);
  v8 = v7;
  v9 = _m_punpckldq(v7, v7);
  v10 = _m_punpckhdq(v8, v8);
  result = a1;
  v12 = _m_pfadd(
          _m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), _m_pfmul(v6, *(__m64 *)(a3 + 24))),
          _m_pfadd(_m_pfmul(v9, *(__m64 *)(a3 + 40)), _m_pfmul(v10, *(__m64 *)(a3 + 56))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), _m_pfmul(v6, *(__m64 *)(a3 + 16))),
                                    _m_pfadd(_m_pfmul(v9, *(__m64 *)(a3 + 32)), _m_pfmul(v10, *(__m64 *)(a3 + 48))));
  a1[1].m64_u64 = (unsigned __int64)v12;
  _m_femms();
  return result;
}

//----- (004679ED) --------------------------------------------------------
int (__stdcall *__stdcall sub_4679ED(int a1, int a2, _DWORD *a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax@8
  int (__stdcall *result)(_DWORD, _DWORD, _DWORD); // eax@8

  if ( a3 )
    *a3 = *(_DWORD *)(a1 + 60);
  if ( *(_DWORD *)a1 == 4 || *(_DWORD *)a1 == 5 )
    (*(void (__stdcall **)(_DWORD, _DWORD))(a2 + 36))(*(_DWORD *)(a2 + 40), *(_DWORD *)(a1 + 12));
  if ( *(_DWORD *)a1 == 6 )
    sub_4731A2(*(_DWORD *)(a1 + 4), a2);
  v3 = *(_DWORD *)(a1 + 40);
  *(_DWORD *)(a1 + 52) = v3;
  *(_DWORD *)(a1 + 48) = v3;
  result = *(int (__stdcall **)(_DWORD, _DWORD, _DWORD))(a1 + 56);
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 28) = 0;
  *(_DWORD *)(a1 + 32) = 0;
  if ( result )
  {
    result = (int (__stdcall *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    *(_DWORD *)(a1 + 60) = result;
    *(_DWORD *)(a2 + 48) = result;
  }
  return result;
}

//----- (00467A53) --------------------------------------------------------
int __stdcall sub_467A53(int a1, int a2, int a3)
{
  int v3; // edi@1
  int v4; // eax@2
  int result; // eax@4
  int v6; // eax@5

  v3 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 64);
  if ( !v3 )
    return 0;
  v4 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 8, 1440);
  *(_DWORD *)(v3 + 36) = v4;
  if ( !v4 )
  {
    (*(void (__stdcall **)(_DWORD, int))(a1 + 36))(*(_DWORD *)(a1 + 40), v3);
    return 0;
  }
  v6 = (*(int (__stdcall **)(_DWORD, signed int, int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, a3);
  *(_DWORD *)(v3 + 40) = v6;
  if ( v6 )
  {
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 44) = a3 + v6;
    *(_DWORD *)(v3 + 56) = a2;
    sub_4679ED(v3, a1, 0);
    result = v3;
  }
  else
  {
    (*(void (__stdcall **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), *(_DWORD *)(v3 + 36));
    (*(void (__stdcall **)(_DWORD, int))(a1 + 36))(*(_DWORD *)(a1 + 40), v3);
    result = 0;
  }
  return result;
}

//----- (00467AD1) --------------------------------------------------------
int __stdcall sub_467AD1(int a1, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // esi@1
  unsigned int v6; // eax@1
  _BYTE *v7; // edi@1
  unsigned int v8; // ecx@2
  int v9; // eax@4
  bool v10; // cf@4
  int v11; // eax@6
  unsigned int v12; // eax@8
  int v14; // eax@14
  unsigned int v15; // eax@16
  int v16; // eax@17
  int v17; // eax@18
  unsigned int v18; // eax@20
  int v19; // eax@21
  int v20; // eax@23
  int v21; // ecx@25
  unsigned int v22; // eax@25
  unsigned int v23; // ecx@26
  int v24; // eax@28
  int v25; // ecx@35
  unsigned int v26; // eax@36
  unsigned int v27; // edx@36
  int v28; // eax@41
  unsigned int v29; // ecx@41
  int v30; // edx@44
  unsigned int v31; // eax@52
  const void *v32; // esi@56
  void *v33; // edi@56
  unsigned int v34; // ecx@58
  int v35; // eax@60
  unsigned int v36; // eax@62
  unsigned int v37; // ecx@62
  unsigned int v38; // eax@63
  int v39; // eax@64
  unsigned int i; // ecx@66
  int v41; // eax@68
  char v42; // al@70
  int v43; // ecx@70
  int v44; // edx@70
  int v45; // ST1C_4@75
  _DWORD *v46; // ST10_4@75
  unsigned int v47; // eax@77
  int v48; // edx@79
  int v49; // eax@81
  int v50; // ecx@81
  unsigned int v51; // edx@81
  signed int v52; // eax@84
  int v53; // edx@88
  unsigned int v54; // ecx@90
  int v55; // eax@93
  unsigned int v56; // eax@98
  int v57; // ST1C_4@98
  _DWORD *v58; // ST08_4@98
  int v59; // eax@99
  int v60; // ST20_4@100
  unsigned int v61; // eax@101
  int v62; // eax@101
  unsigned int v63; // ecx@102
  unsigned int v64; // eax@102
  int v65; // eax@103
  bool v66; // zf@113
  int v67; // ecx@123
  int v68; // [sp-4h] [bp-44h]@5
  int v69; // [sp+Ch] [bp-34h]@98
  int v70; // [sp+10h] [bp-30h]@98
  unsigned int v71; // [sp+14h] [bp-2Ch]@44
  int v72; // [sp+18h] [bp-28h]@23
  int v73; // [sp+1Ch] [bp-24h]@23
  int v74; // [sp+20h] [bp-20h]@23
  int v75; // [sp+24h] [bp-1Ch]@23
  unsigned int v76; // [sp+28h] [bp-18h]@41
  _BYTE *v77; // [sp+2Ch] [bp-14h]@1
  unsigned int v78; // [sp+30h] [bp-10h]@4
  unsigned int v79; // [sp+34h] [bp-Ch]@1
  unsigned int v80; // [sp+38h] [bp-8h]@1
  unsigned int v81; // [sp+3Ch] [bp-4h]@1
  unsigned int v82; // [sp+48h] [bp+8h]@1
  int v83; // [sp+48h] [bp+8h]@25
  int v84; // [sp+50h] [bp+10h]@41

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 48);
  v5 = a2;
  v80 = *(_DWORD *)(a2 + 4);
  v81 = *(_DWORD *)(a1 + 32);
  v82 = *(_DWORD *)(a1 + 28);
  v6 = *(_DWORD *)(v3 + 52);
  v7 = *(_BYTE **)a2;
  v77 = *(_BYTE **)a2;
  v79 = v6;
  if ( v6 >= v4 )
    v8 = *(_DWORD *)(v3 + 44) - v6;
  else
    v8 = v4 - v6 - 1;
  v9 = *(_DWORD *)v3;
  v10 = *(_DWORD *)v3 < 9u;
  v66 = *(_DWORD *)v3 == 9;
  v78 = v8;
  if ( !v10 && !v66 )
  {
LABEL_5:
    v68 = -2;
    goto LABEL_6;
  }
  while ( 1 )
  {
    switch ( v9 )
    {
      case 0:
        while ( 2 )
        {
          if ( v82 < 3 )
          {
            if ( v80 )
            {
              v14 = *v7;
              a3 = 0;
              --v80;
              v81 |= v14 << v82;
              ++v7;
              v82 += 8;
              v77 = v7;
              continue;
            }
LABEL_114:
            v68 = a3;
            *(_DWORD *)(v3 + 32) = v81;
            *(_DWORD *)(v3 + 28) = v82;
            *(_DWORD *)(v5 + 4) = 0;
            goto LABEL_8;
          }
          break;
        }
        v15 = (v81 & 7) >> 1;
        *(_DWORD *)(v3 + 24) = v81 & 1;
        if ( !v15 )
        {
          v83 = v82 - 3;
          v21 = v83 & 7;
          v22 = v81 >> 3 >> v21;
          v82 = v83 - v21;
          *(_DWORD *)v3 = 1;
          v81 = v22;
          goto LABEL_107;
        }
        v16 = v15 - 1;
        if ( v16 )
        {
          v17 = v16 - 1;
          if ( v17 )
          {
            if ( v17 == 1 )
            {
              v18 = v81 >> 3;
              *(_DWORD *)v3 = 9;
              *(_DWORD *)(v5 + 24) = "invalid block type";
              *(_DWORD *)(v3 + 32) = v18;
              v11 = v82 - 3;
              v68 = -3;
              goto LABEL_7;
            }
            goto LABEL_107;
          }
          v81 >>= 3;
          v19 = 3;
          v82 -= 3;
LABEL_22:
          *(_DWORD *)v3 = v19;
          goto LABEL_107;
        }
        sub_4736A5(&v72, &v73, &v74, &v75, v5);
        v20 = sub_472C18(v72, v73, v74, v75, v5);
        *(_DWORD *)(v3 + 4) = v20;
        if ( !v20 )
          goto LABEL_120;
        v81 >>= 3;
        v82 -= 3;
        *(_DWORD *)v3 = 6;
LABEL_107:
        v9 = *(_DWORD *)v3;
        v7 = v77;
        v5 = a2;
        if ( *(_DWORD *)v3 > 9u )
          goto LABEL_5;
        v8 = v78;
        break;
      case 1:
        v23 = v82;
        while ( 2 )
        {
          if ( v23 >= 0x20 )
          {
            if ( ~v81 >> 16 != (unsigned __int16)v81 )
            {
              *(_DWORD *)v3 = 9;
              *(_DWORD *)(v5 + 24) = "invalid stored block lengths";
              goto LABEL_110;
            }
            *(_DWORD *)(v3 + 4) = (unsigned __int16)v81;
            v66 = *(_DWORD *)(v3 + 4) == 0;
            v82 = 0;
            v81 = 0;
            if ( v66 )
LABEL_57:
              v19 = *(_DWORD *)(v3 + 24) != 0 ? 7 : 0;
            else
              v19 = 2;
            goto LABEL_22;
          }
          if ( v80 )
          {
            v24 = *v7;
            a3 = 0;
            --v80;
            v81 |= v24 << v23;
            ++v7;
            v23 += 8;
            v77 = v7;
            v82 = v23;
            continue;
          }
          goto LABEL_114;
        }
      case 2:
        if ( !v80 )
          goto LABEL_114;
        if ( !v8 )
        {
          if ( (v25 = *(_DWORD *)(v3 + 44), v79 != v25)
            || (v26 = *(_DWORD *)(v3 + 48), v27 = *(_DWORD *)(v3 + 40), v27 == v26)
            || ((v79 = *(_DWORD *)(v3 + 40), v27 >= v26) ? (v8 = v25 - v27) : (v8 = v26 - v27 - 1), (v78 = v8) == 0) )
          {
            *(_DWORD *)(v3 + 52) = v79;
            v28 = sub_4736D6(v3, v5, a3);
            v29 = *(_DWORD *)(v3 + 48);
            v84 = v28;
            v79 = *(_DWORD *)(v3 + 52);
            v12 = v79;
            v76 = v29;
            if ( v79 >= v29 )
              v8 = *(_DWORD *)(v3 + 44) - v79;
            else
              v8 = v29 - v79 - 1;
            v30 = *(_DWORD *)(v3 + 44);
            v78 = v8;
            v71 = v30;
            if ( v79 == v30 )
            {
              v12 = *(_DWORD *)(v3 + 40);
              if ( v12 == v76 )
              {
                v12 = v79;
              }
              else
              {
                v79 = *(_DWORD *)(v3 + 40);
                if ( v12 >= v76 )
                  v8 = v71 - v12;
                else
                  v8 = v76 - v12 - 1;
                v78 = v8;
              }
            }
            if ( !v8 )
            {
              v68 = v84;
              *(_DWORD *)(v3 + 32) = v81;
              *(_DWORD *)(v3 + 28) = v82;
              *(_DWORD *)(v5 + 4) = v80;
              *(_DWORD *)(v5 + 8) += &v7[-*(_DWORD *)v5];
              goto LABEL_9;
            }
          }
        }
        v31 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v31 > v80 )
          v31 = v80;
        if ( v31 > v8 )
          v31 = v8;
        v32 = v77;
        v33 = (void *)v79;
        v77 += v31;
        v80 -= v31;
        v79 += v31;
        v78 -= v31;
        qmemcpy(v33, v32, v31);
        v66 = *(_DWORD *)(v3 + 4) == v31;
        *(_DWORD *)(v3 + 4) -= v31;
        if ( v66 )
          goto LABEL_57;
        goto LABEL_107;
      case 3:
        v34 = v82;
        while ( 2 )
        {
          if ( v34 < 0xE )
          {
            if ( v80 )
            {
              v35 = *v7;
              a3 = 0;
              --v80;
              v81 |= v35 << v34;
              ++v7;
              v34 += 8;
              v82 = v34;
              continue;
            }
            goto LABEL_114;
          }
          break;
        }
        v36 = v81 & 0x3FFF;
        v37 = v81 & 0x1F;
        *(_DWORD *)(v3 + 4) = v36;
        if ( v37 > 0x1D || (v38 = (v36 >> 5) & 0x1F, v38 > 0x1D) )
        {
          *(_DWORD *)v3 = 9;
          *(_DWORD *)(v5 + 24) = "too many length or distance symbols";
          goto LABEL_110;
        }
        v39 = (*(int (__stdcall **)(_DWORD, int, signed int))(v5 + 32))(*(_DWORD *)(v5 + 40), v38 + v37 + 258, 4);
        *(_DWORD *)(v3 + 12) = v39;
        if ( !v39 )
        {
LABEL_120:
          v68 = -4;
          goto LABEL_6;
        }
        v81 >>= 14;
        v82 -= 14;
        *(_DWORD *)(v3 + 8) = 0;
        *(_DWORD *)v3 = 4;
LABEL_71:
        while ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        {
          for ( i = v82; i < 3; v82 = i )
          {
            if ( !v80 )
              goto LABEL_114;
            v41 = *v7;
            a3 = 0;
            --v80;
            v81 |= v41 << i;
            ++v7;
            i += 8;
          }
          v42 = v81;
          v43 = dword_4BE4C8[*(_DWORD *)(v3 + 8)];
          v44 = *(_DWORD *)(v3 + 12);
          v81 >>= 3;
          *(_DWORD *)(v44 + 4 * v43) = v42 & 7;
          ++*(_DWORD *)(v3 + 8);
          v82 -= 3;
        }
        while ( *(_DWORD *)(v3 + 8) < 0x13u )
          *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * dword_4BE4C8[(*(_DWORD *)(v3 + 8))++]) = 0;
        v45 = *(_DWORD *)(v3 + 36);
        v46 = *(_DWORD **)(v3 + 12);
        *(_DWORD *)(v3 + 16) = 7;
        v78 = sub_473532(v46, (unsigned int *)(v3 + 16), (_DWORD *)(v3 + 20), v45, v5);
        if ( v78 )
        {
          v66 = v78 == -3;
LABEL_117:
          if ( v66 )
          {
            (*(void (__stdcall **)(_DWORD, _DWORD))(v5 + 36))(*(_DWORD *)(v5 + 40), *(_DWORD *)(v3 + 12));
            *(_DWORD *)v3 = 9;
          }
          v68 = v78;
          goto LABEL_6;
        }
        *(_DWORD *)(v3 + 8) = 0;
        *(_DWORD *)v3 = 5;
        while ( 1 )
        {
          while ( 1 )
          {
LABEL_97:
            if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
            {
              v56 = *(_DWORD *)(v3 + 4);
              *(_DWORD *)(v3 + 20) = 0;
              v57 = *(_DWORD *)(v3 + 36);
              v58 = *(_DWORD **)(v3 + 12);
              v76 = 9;
              v77 = (_BYTE *)6;
              v78 = sub_4735AB(
                      (v56 & 0x1F) + 257,
                      ((v56 >> 5) & 0x1F) + 1,
                      v58,
                      &v76,
                      (unsigned int *)&v77,
                      &v69,
                      &v70,
                      v57,
                      v5);
              if ( v78 )
              {
                v66 = v78 == -3;
                goto LABEL_117;
              }
              v59 = sub_472C18(v76, (char)v77, v69, v70, v5);
              if ( !v59 )
                goto LABEL_120;
              v60 = *(_DWORD *)(v3 + 12);
              *(_DWORD *)(v3 + 4) = v59;
              (*(void (__stdcall **)(_DWORD, int))(v5 + 36))(*(_DWORD *)(v5 + 40), v60);
              *(_DWORD *)v3 = 6;
LABEL_101:
              *(_DWORD *)(v3 + 32) = v81;
              *(_DWORD *)(v3 + 28) = v82;
              *(_DWORD *)(v5 + 4) = v80;
              *(_DWORD *)(v5 + 8) += &v7[-*(_DWORD *)v5];
              v61 = v79;
              *(_DWORD *)v5 = v7;
              *(_DWORD *)(v3 + 52) = v61;
              v62 = sub_472C4B(v3, v5, a3);
              if ( v62 != 1 )
                return sub_4736D6(v3, v5, v62);
              a3 = 0;
              sub_4731A2(*(_DWORD *)(v3 + 4), v5);
              v63 = *(_DWORD *)(v3 + 52);
              v7 = *(_BYTE **)v5;
              v80 = *(_DWORD *)(v5 + 4);
              v81 = *(_DWORD *)(v3 + 32);
              v82 = *(_DWORD *)(v3 + 28);
              v64 = *(_DWORD *)(v3 + 48);
              v77 = v7;
              v79 = v63;
              if ( v63 >= v64 )
                v65 = *(_DWORD *)(v3 + 44) - v79;
              else
                v65 = v64 - v63 - 1;
              v66 = *(_DWORD *)(v3 + 24) == 0;
              v78 = v65;
              if ( !v66 )
              {
                *(_DWORD *)v3 = 7;
LABEL_122:
                *(_DWORD *)(v3 + 52) = v79;
                v62 = sub_4736D6(v3, v5, a3);
                v66 = *(_DWORD *)(v3 + 48) == *(_DWORD *)(v3 + 52);
                v79 = *(_DWORD *)(v3 + 52);
                if ( v66 )
                {
                  *(_DWORD *)v3 = 8;
LABEL_126:
                  v68 = 1;
                  goto LABEL_6;
                }
                *(_DWORD *)(v3 + 32) = v81;
                *(_DWORD *)(v3 + 28) = v82;
                *(_DWORD *)(v5 + 4) = v80;
                v67 = (int)&v7[-*(_DWORD *)v5];
                *(_DWORD *)v5 = v7;
                *(_DWORD *)(v5 + 8) += v67;
                *(_DWORD *)(v3 + 52) = v79;
                return sub_4736D6(v3, v5, v62);
              }
              *(_DWORD *)v3 = 0;
              goto LABEL_107;
            }
            v47 = *(_DWORD *)(v3 + 16);
            while ( v82 < v47 )
            {
              if ( !v80 )
                goto LABEL_114;
              v48 = *v7;
              a3 = 0;
              --v80;
              v81 |= v48 << v82;
              ++v7;
              v82 += 8;
            }
            v49 = *(_DWORD *)(v3 + 20) + 8 * (v81 & dword_532D60[v47]);
            v50 = *(_BYTE *)(v49 + 1);
            v51 = *(_DWORD *)(v49 + 4);
            v78 = *(_BYTE *)(v49 + 1);
            v71 = v51;
            if ( v51 >= 0x10 )
              break;
            v81 >>= v50;
            v82 -= v50;
            *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * (*(_DWORD *)(v3 + 8))++) = v51;
          }
          v52 = v51 == 18 ? 7 : v51 - 14;
          v77 = (_BYTE *)(8 * (v51 == 18) + 3);
          while ( v82 < v52 + v78 )
          {
            if ( !v80 )
              goto LABEL_114;
            v53 = *v7;
            a3 = 0;
            --v80;
            v81 |= v53 << v82;
            ++v7;
            v82 += 8;
          }
          v81 >>= v78;
          v77 += v81 & dword_532D60[v52];
          v81 >>= v52;
          v82 -= v78 + v52;
          v54 = *(_DWORD *)(v3 + 8);
          if ( (unsigned int)&v77[v54] > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
            break;
          if ( v71 == 16 )
          {
            if ( v54 < 1 )
              break;
            v55 = *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * v54 - 4);
          }
          else
          {
            v55 = 0;
          }
          do
          {
            *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * v54++) = v55;
            --v77;
          }
          while ( v77 );
          *(_DWORD *)(v3 + 8) = v54;
        }
        (*(void (__stdcall **)(_DWORD, _DWORD))(v5 + 36))(*(_DWORD *)(v5 + 40), *(_DWORD *)(v3 + 12));
        *(_DWORD *)v3 = 9;
        *(_DWORD *)(v5 + 24) = "invalid bit length repeat";
LABEL_110:
        v68 = -3;
LABEL_6:
        *(_DWORD *)(v3 + 32) = v81;
        v11 = v82;
LABEL_7:
        *(_DWORD *)(v3 + 28) = v11;
        *(_DWORD *)(v5 + 4) = v80;
LABEL_8:
        *(_DWORD *)(v5 + 8) += &v7[-*(_DWORD *)v5];
        v12 = v79;
LABEL_9:
        *(_DWORD *)v5 = v7;
        *(_DWORD *)(v3 + 52) = v12;
        return sub_4736D6(v3, v5, v68);
      case 4:
        goto LABEL_71;
      case 5:
        goto LABEL_97;
      case 6:
        goto LABEL_101;
      case 9:
        goto LABEL_110;
      case 7:
        goto LABEL_122;
      case 8:
        goto LABEL_126;
      default:
        goto LABEL_5;
    }
  }
}
// 4BE4C8: using guessed type int dword_4BE4C8[];
// 532D60: using guessed type int dword_532D60[];

//----- (0046821D) --------------------------------------------------------
int __stdcall sub_46821D(int a1, int a2)
{
  int v2; // esi@1

  v2 = a2;
  sub_4679ED(a1, a2, 0);
  (*(void (__stdcall **)(_DWORD, _DWORD))(v2 + 36))(*(_DWORD *)(v2 + 40), *(_DWORD *)(a1 + 40));
  (*(void (__stdcall **)(_DWORD, _DWORD))(v2 + 36))(*(_DWORD *)(v2 + 40), *(_DWORD *)(a1 + 36));
  (*(void (__stdcall **)(_DWORD, int))(v2 + 36))(*(_DWORD *)(v2 + 40), a1);
  return 0;
}

//----- (00468250) --------------------------------------------------------
int __stdcall sub_468250(unsigned int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // ecx@1
  unsigned int v4; // esi@1
  unsigned int v5; // edi@1
  int result; // eax@2
  unsigned int v7; // edx@4
  unsigned int v8; // eax@7
  int v9; // esi@8
  int v10; // edi@8
  int v11; // esi@8
  int v12; // edi@8
  int v13; // esi@8
  int v14; // edi@8
  int v15; // esi@8
  int v16; // edi@8
  int v17; // esi@8
  int v18; // edi@8
  int v19; // esi@8
  int v20; // edi@8
  int v21; // esi@8
  int v22; // edi@8
  int v23; // esi@8
  int v24; // edi@8
  int v25; // esi@8
  int v26; // edi@8
  int v27; // esi@8
  int v28; // edi@8
  int v29; // esi@8
  int v30; // edi@8
  int v31; // esi@8
  int v32; // edi@8
  int v33; // esi@8
  int v34; // edi@8
  int v35; // esi@8
  int v36; // edi@8
  int v37; // esi@8
  int v38; // edi@8

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( ; a3; v5 %= 0xFFF1u )
    {
      v7 = 5552;
      if ( a3 < 0x15B0 )
        v7 = a3;
      a3 -= v7;
      if ( (signed int)v7 >= 16 )
      {
        v8 = v7 >> 4;
        v7 += -16 * (v7 >> 4);
        do
        {
          v9 = *v3 + v4;
          v10 = v9 + v5;
          v11 = v3[1] + v9;
          v12 = v11 + v10;
          v13 = v3[2] + v11;
          v14 = v13 + v12;
          v15 = v3[3] + v13;
          v16 = v15 + v14;
          v17 = v3[4] + v15;
          v18 = v17 + v16;
          v19 = v3[5] + v17;
          v20 = v19 + v18;
          v21 = v3[6] + v19;
          v22 = v21 + v20;
          v23 = v3[7] + v21;
          v24 = v23 + v22;
          v25 = v3[8] + v23;
          v26 = v25 + v24;
          v27 = v3[9] + v25;
          v28 = v27 + v26;
          v29 = v3[10] + v27;
          v30 = v29 + v28;
          v31 = v3[11] + v29;
          v32 = v31 + v30;
          v33 = v3[12] + v31;
          v34 = v33 + v32;
          v35 = v3[13] + v33;
          v36 = v35 + v34;
          v37 = v3[14] + v35;
          v38 = v37 + v36;
          v4 = v3[15] + v37;
          v5 = v4 + v38;
          v3 += 16;
          --v8;
        }
        while ( v8 );
      }
      for ( ; v7; --v7 )
      {
        v4 += *v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0046836B) --------------------------------------------------------
LPVOID __stdcall sub_46836B(int a1, int a2, int a3)
{
  HANDLE v3; // eax@1

  v3 = GetProcessHeap();
  return HeapAlloc(v3, 8u, a3 * a2);
}

//----- (00468387) --------------------------------------------------------
BOOL __stdcall sub_468387(int a1, LPVOID lpMem)
{
  HANDLE v2; // eax@1

  v2 = GetProcessHeap();
  return HeapFree(v2, 0, lpMem);
}

//----- (004683A0) --------------------------------------------------------
unsigned int __stdcall sub_4683A0(int a1, int a2, _DWORD *a3, int a4)
{
  int v4; // esi@1
  unsigned int result; // eax@1
  _DWORD *v6; // ebx@2
  bool v7; // zf@3
  unsigned int v8; // edx@9

  v4 = *(_DWORD *)(a1 + 344);
  result = *(_DWORD *)(v4 + 8);
  if ( result < *(_DWORD *)(a1 + 248) )
  {
    v6 = (_DWORD *)(v4 + 12);
    do
    {
      v7 = *v6 == 8;
      if ( *v6 < 8u )
      {
        result = (*(int (__stdcall **)(int, int, _DWORD *, int, int, int, signed int))(*(_DWORD *)(a1 + 348) + 4))(
                   a1,
                   a2,
                   a3,
                   a4,
                   v4 + 24,
                   v4 + 12,
                   8);
        v7 = *v6 == 8;
      }
      if ( !v7 )
        break;
      v7 = (*(int (__stdcall **)(int, int))(*(_DWORD *)(a1 + 352) + 4))(a1, v4 + 24) == 0;
      result = *(_DWORD *)(v4 + 16);
      if ( v7 )
      {
        if ( !result )
        {
          --*a3;
          *(_DWORD *)(v4 + 16) = 1;
        }
        return result;
      }
      if ( result )
      {
        ++*a3;
        *(_DWORD *)(v4 + 16) = 0;
      }
      result = *(_DWORD *)(a1 + 248);
      v8 = *(_DWORD *)(v4 + 8) + 1;
      *v6 = 0;
      *(_DWORD *)(v4 + 8) = v8;
    }
    while ( v8 < result );
  }
  return result;
}

//----- (004684A0) --------------------------------------------------------
_DWORD *__stdcall sub_4684A0(int a1, int a2)
{
  _DWORD *result; // eax@1
  int v3; // ecx@1
  int v4; // eax@3
  signed int v5; // ebp@4
  _DWORD *v6; // edi@5
  _DWORD *v7; // ebx@5

  result = (_DWORD *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 64);
  v3 = *(_DWORD *)(a1 + 176);
  *(_DWORD *)(a1 + 344) = result;
  *result = sub_468450;
  if ( !v3 )
  {
    if ( a2 )
    {
      v4 = *(_DWORD *)a1;
      *(_DWORD *)(v4 + 20) = 4;
      result = (_DWORD *)(*(int (__stdcall **)(int))v4)(a1);
    }
    else
    {
      v5 = 0;
      if ( *(_DWORD *)(a1 + 60) > 0 )
      {
        v6 = (_DWORD *)(*(_DWORD *)(a1 + 68) + 28);
        v7 = result + 6;
        do
        {
          *v7 = (*(int (__stdcall **)(int, signed int, int, int))(*(_DWORD *)(a1 + 4) + 8))(
                  a1,
                  1,
                  8 * *v6,
                  8 * *(v6 - 4));
          result = *(_DWORD **)(a1 + 60);
          ++v5;
          ++v7;
          v6 += 21;
        }
        while ( v5 < (signed int)result );
      }
    }
  }
  return result;
}
// 468450: using guessed type int __stdcall sub_468450(int, int);

//----- (00468520) --------------------------------------------------------
signed int __stdcall sub_468520(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ebp@1
  unsigned int v4; // ecx@1
  int v5; // eax@1
  signed int v6; // edx@2
  int v7; // ecx@2
  signed int result; // eax@2
  unsigned int v9; // edi@5
  int v10; // ebx@6
  _DWORD *v11; // esi@7
  int v12; // esi@8
  int v13; // edi@9
  int v14; // eax@12
  bool v15; // zf@17
  _WORD **v16; // ecx@21
  int v17; // edx@25
  bool v18; // sf@25
  unsigned __int8 v19; // of@25
  int v20; // edx@33
  int v21; // edx@34
  int v22; // [sp+10h] [bp-30h]@1
  unsigned int v23; // [sp+14h] [bp-2Ch]@5
  _WORD **v24; // [sp+18h] [bp-28h]@16
  int v25; // [sp+1Ch] [bp-24h]@11
  int v26; // [sp+20h] [bp-20h]@11
  unsigned int v27; // [sp+24h] [bp-1Ch]@1
  int v28; // [sp+28h] [bp-18h]@16
  int v29; // [sp+28h] [bp-18h]@21
  int v30; // [sp+2Ch] [bp-14h]@6
  _DWORD *v31; // [sp+30h] [bp-10h]@7
  unsigned int v32; // [sp+34h] [bp-Ch]@1
  int v33; // [sp+38h] [bp-8h]@11
  int v34; // [sp+3Ch] [bp-4h]@1

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 352);
  v4 = *(_DWORD *)(a1 + 272) - 1;
  v32 = *(_DWORD *)(a1 + 248) - 1;
  v5 = *(_DWORD *)(v3 + 16);
  v34 = *(_DWORD *)(a1 + 352);
  v27 = *(_DWORD *)(a1 + 272) - 1;
  v22 = *(_DWORD *)(v3 + 16);
  if ( v5 < *(_DWORD *)(v3 + 20) )
  {
    while ( 1 )
    {
      v9 = *(_DWORD *)(v3 + 12);
      v23 = *(_DWORD *)(v3 + 12);
      if ( v9 <= v4 )
        break;
LABEL_30:
      *(_DWORD *)(v3 + 12) = 0;
      v22 = ++v5;
      if ( v5 >= *(_DWORD *)(v3 + 20) )
        goto LABEL_2;
      v4 = v27;
    }
    while ( 1 )
    {
      v10 = 0;
      v30 = 0;
      if ( *(_DWORD *)(v2 + 252) > 0 )
      {
        v11 = (_DWORD *)(v2 + 256);
        v31 = v11;
        do
        {
          v12 = *v11;
          if ( v9 >= v27 )
            v13 = *(_DWORD *)(v12 + 68);
          else
            v13 = *(_DWORD *)(v12 + 52);
          v33 = v23 * *(_DWORD *)(v12 + 64);
          v25 = 8 * v22;
          v26 = 0;
          if ( *(_DWORD *)(v12 + 56) > 0 )
          {
            v14 = *(_DWORD *)(v12 + 52);
            do
            {
              if ( *(_DWORD *)(v3 + 8) < v32 || v22 + v26 < *(_DWORD *)(v12 + 72) )
              {
                (*(void (__stdcall **)(int, int, _DWORD, _DWORD, int, int, int))(*(_DWORD *)(a1 + 368) + 4))(
                  a1,
                  v12,
                  *(_DWORD *)(a2 + 4 * *(_DWORD *)(v12 + 4)),
                  *(_DWORD *)(v3 + 4 * v10 + 24),
                  v25,
                  v33,
                  v13);
                v14 = *(_DWORD *)(v12 + 52);
                if ( v13 < v14 )
                {
                  sub_4527C0(*(void **)(v3 + 4 * (v13 + v10) + 24), (v14 - v13) << 7);
                  v14 = *(_DWORD *)(v12 + 52);
                  if ( v13 < v14 )
                  {
                    v16 = (_WORD **)(v3 + 4 * (v13 + v10) + 24);
                    v29 = v14 - v13;
                    do
                    {
                      **v16 = **(v16 - 1);
                      ++v16;
                      --v29;
                    }
                    while ( v29 );
                    v3 = v34;
                  }
                }
              }
              else
              {
                sub_4527C0(*(void **)(v3 + 4 * v10 + 24), v14 << 7);
                v14 = *(_DWORD *)(v12 + 52);
                if ( v14 > 0 )
                {
                  v24 = (_WORD **)(v3 + 4 * v10 + 24);
                  v28 = *(_DWORD *)(v12 + 52);
                  do
                  {
                    **v24 = **(_WORD **)(v3 + 4 * v10 + 20);
                    v15 = v28 == 1;
                    ++v24;
                    --v28;
                  }
                  while ( !v15 );
                }
              }
              v25 += 8;
              v10 += v14;
              ++v26;
            }
            while ( v26 < *(_DWORD *)(v12 + 56) );
          }
          v17 = *(_DWORD *)(a1 + 252);
          v9 = v23;
          v11 = v31 + 1;
          v19 = __OFSUB__(v30 + 1, v17);
          v18 = v30++ + 1 - v17 < 0;
          ++v31;
        }
        while ( v18 ^ v19 );
        v2 = a1;
      }
      if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)(v2 + 372) + 4))(v2, v3 + 24) )
        break;
      v23 = ++v9;
      if ( v9 > v27 )
      {
        v5 = v22;
        goto LABEL_30;
      }
    }
    *(_DWORD *)(v3 + 12) = v9;
    *(_DWORD *)(v3 + 16) = v22;
    result = 0;
  }
  else
  {
LABEL_2:
    v6 = *(_DWORD *)(v2 + 252);
    v7 = *(_DWORD *)(v2 + 352);
    result = 1;
    ++*(_DWORD *)(v3 + 8);
    if ( v6 <= 1 )
    {
      v20 = *(_DWORD *)(v2 + 256);
      if ( *(_DWORD *)(v7 + 8) >= (unsigned int)(*(_DWORD *)(v2 + 248) - 1) )
        v21 = *(_DWORD *)(v20 + 72);
      else
        v21 = *(_DWORD *)(v20 + 12);
      *(_DWORD *)(v7 + 20) = v21;
      *(_DWORD *)(v7 + 12) = 0;
      *(_DWORD *)(v7 + 16) = 0;
    }
    else
    {
      *(_DWORD *)(v7 + 20) = 1;
      *(_DWORD *)(v7 + 12) = 0;
      *(_DWORD *)(v7 + 16) = 0;
    }
  }
  return result;
}

//----- (004687D0) --------------------------------------------------------
signed int __stdcall sub_4687D0(int a1, int a2)
{
  int v2; // ebx@1
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // edi@2
  int v6; // edx@3
  int v7; // eax@4
  unsigned int v8; // edi@5
  int v9; // edx@6
  int v10; // esi@8
  int v11; // ebx@9
  _DWORD *v12; // edi@9
  int v13; // eax@10
  int *v14; // ecx@11
  int v15; // edx@11
  signed int result; // eax@22
  signed int v17; // esi@23
  int v18; // ecx@23
  int v19; // esi@25
  int v20; // [sp+1Ch] [bp-30h]@4
  int v21; // [sp+20h] [bp-2Ch]@6
  int v22; // [sp+24h] [bp-28h]@7
  int v23; // [sp+28h] [bp-24h]@9
  int v24; // [sp+2Ch] [bp-20h]@6
  unsigned int v25; // [sp+30h] [bp-1Ch]@5
  int v26; // [sp+34h] [bp-18h]@1
  int v27; // [sp+38h] [bp-14h]@6
  int v28[4]; // [sp+3Ch] [bp-10h]@3

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 352);
  v4 = 0;
  v26 = *(_DWORD *)(a1 + 352);
  if ( *(_DWORD *)(a1 + 252) > 0 )
  {
    v5 = a1 + 256;
    do
    {
      v6 = *(_DWORD *)(v2 + 4);
      v2 = a1;
      v28[v4++] = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, _DWORD))(v6 + 32))(
                    a1,
                    *(_DWORD *)(v3 + 4 * *(_DWORD *)(*(_DWORD *)v5 + 4) + 64),
                    *(_DWORD *)(*(_DWORD *)v5 + 12) * *(_DWORD *)(v3 + 8),
                    *(_DWORD *)(*(_DWORD *)v5 + 12),
                    0);
      v5 += 4;
    }
    while ( v4 < *(_DWORD *)(a1 + 252) );
  }
  v7 = *(_DWORD *)(v3 + 16);
  v20 = *(_DWORD *)(v3 + 16);
  if ( v7 >= *(_DWORD *)(v3 + 20) )
  {
LABEL_23:
    v17 = *(_DWORD *)(v2 + 252);
    v18 = *(_DWORD *)(v2 + 352);
    result = 1;
    ++*(_DWORD *)(v3 + 8);
    if ( v17 <= 1 )
    {
      v19 = *(_DWORD *)(v2 + 256);
      if ( *(_DWORD *)(v18 + 8) >= (unsigned int)(*(_DWORD *)(v2 + 248) - 1) )
      {
        *(_DWORD *)(v18 + 20) = *(_DWORD *)(v19 + 72);
        *(_DWORD *)(v18 + 12) = 0;
        *(_DWORD *)(v18 + 16) = 0;
      }
      else
      {
        *(_DWORD *)(v18 + 20) = *(_DWORD *)(v19 + 12);
        *(_DWORD *)(v18 + 12) = 0;
        *(_DWORD *)(v18 + 16) = 0;
      }
    }
    else
    {
      *(_DWORD *)(v18 + 20) = 1;
      *(_DWORD *)(v18 + 12) = 0;
      *(_DWORD *)(v18 + 16) = 0;
    }
  }
  else
  {
    while ( 1 )
    {
      v8 = *(_DWORD *)(v3 + 12);
      v25 = *(_DWORD *)(v3 + 12);
      if ( v8 < *(_DWORD *)(v2 + 272) )
        break;
LABEL_20:
      *(_DWORD *)(v3 + 12) = 0;
      v20 = ++v7;
      if ( v7 >= *(_DWORD *)(v3 + 20) )
        goto LABEL_23;
    }
    while ( 1 )
    {
      v9 = 0;
      v21 = 0;
      v24 = 0;
      v27 = *(_DWORD *)(v2 + 252);
      if ( *(_DWORD *)(v2 + 252) > 0 )
      {
        v22 = v2 + 256;
        do
        {
          v10 = *(_DWORD *)(*(_DWORD *)v22 + 52);
          if ( *(_DWORD *)(*(_DWORD *)v22 + 56) > 0 )
          {
            v11 = v8 * *(_DWORD *)(*(_DWORD *)v22 + 52) << 7;
            v12 = (_DWORD *)(v28[v9] + 4 * v20);
            v23 = *(_DWORD *)(*(_DWORD *)v22 + 56);
            do
            {
              v13 = v11 + *v12;
              if ( v10 > 0 )
              {
                v14 = (int *)(v3 + 4 * v21 + 24);
                v15 = v10;
                v21 += v10;
                do
                {
                  *v14 = v13;
                  ++v14;
                  v13 += 128;
                  --v15;
                }
                while ( v15 );
                v3 = v26;
              }
              ++v12;
              --v23;
            }
            while ( v23 );
            v2 = a1;
            v8 = v25;
            v9 = v24;
          }
          v24 = ++v9;
          v22 += 4;
        }
        while ( v9 < v27 );
      }
      if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)(v2 + 372) + 4))(v2, v3 + 24) )
        break;
      v25 = ++v8;
      if ( v8 >= *(_DWORD *)(v2 + 272) )
      {
        v7 = v20;
        goto LABEL_20;
      }
    }
    *(_DWORD *)(v3 + 12) = v8;
    *(_DWORD *)(v3 + 16) = v20;
    result = 0;
  }
  return result;
}
// 4687D0: using guessed type int var_10[4];

//----- (004689E0) --------------------------------------------------------
signed int __stdcall sub_4689E0(int a1, int a2)
{
  int v2; // eax@1
  int v3; // esi@1
  int v4; // edi@1
  unsigned int v5; // ebx@1
  int v6; // ecx@4
  int v7; // ebx@8
  unsigned int v8; // ebp@8
  int v9; // edi@8
  int v10; // ebp@10
  int v11; // esi@11
  int v12; // esi@12
  __int16 v13; // cx@12
  int v14; // eax@13
  unsigned int v15; // ebx@18
  int v16; // ebp@18
  char *v17; // edi@21
  int v18; // ebx@21
  unsigned int v19; // ecx@22
  unsigned int v20; // edx@23
  __int16 v21; // si@23
  char *v22; // eax@24
  int v23; // ecx@29
  int v24; // eax@29
  bool v25; // sf@29
  unsigned __int8 v26; // of@29
  int v28; // [sp+30h] [bp-2Ch]@5
  int v29; // [sp+30h] [bp-2Ch]@22
  int v30; // [sp+34h] [bp-28h]@1
  int v31; // [sp+38h] [bp-24h]@4
  unsigned int v32; // [sp+3Ch] [bp-20h]@8
  _DWORD *v33; // [sp+40h] [bp-1Ch]@2
  _DWORD *v34; // [sp+44h] [bp-18h]@2
  int v35; // [sp+48h] [bp-14h]@1
  int v36; // [sp+4Ch] [bp-10h]@1
  int v37; // [sp+50h] [bp-Ch]@1
  unsigned int v38; // [sp+54h] [bp-8h]@19
  int v39; // [sp+58h] [bp-4h]@18

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 68);
  v4 = *(_DWORD *)(a1 + 352);
  v5 = *(_DWORD *)(a1 + 248) - 1;
  v36 = *(_DWORD *)(a1 + 352);
  v35 = *(_DWORD *)(a1 + 248) - 1;
  v37 = 0;
  v30 = *(_DWORD *)(a1 + 68);
  if ( *(_DWORD *)(a1 + 60) > 0 )
  {
    v34 = (_DWORD *)a2;
    v33 = (_DWORD *)(v4 + 64);
    while ( 1 )
    {
      v6 = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, signed int))(*(_DWORD *)(v2 + 4) + 32))(
             v2,
             *v33,
             *(_DWORD *)(v3 + 12) * *(_DWORD *)(v4 + 8),
             *(_DWORD *)(v3 + 12),
             1);
      v31 = v6;
      if ( *(_DWORD *)(v4 + 8) >= v5 )
      {
        v28 = *(_DWORD *)(v3 + 32) % *(_DWORD *)(v3 + 12);
        if ( !v28 )
          v28 = *(_DWORD *)(v3 + 12);
      }
      else
      {
        v28 = *(_DWORD *)(v3 + 12);
      }
      v7 = *(_DWORD *)(v3 + 28);
      v8 = *(_DWORD *)(v3 + 8);
      v32 = *(_DWORD *)(v3 + 8);
      v9 = *(_DWORD *)(v3 + 28) % v8;
      if ( v9 > 0 )
        v9 = v8 - v9;
      v10 = 0;
      if ( v28 > 0 )
      {
        do
        {
          v11 = *(_DWORD *)(v6 + 4 * v10);
          (*(void (__stdcall **)(int, int, _DWORD, int, int, _DWORD, int))(*(_DWORD *)(a1 + 368) + 4))(
            a1,
            v30,
            *v34,
            v11,
            8 * v10,
            0,
            v7);
          if ( v9 > 0 )
          {
            v12 = (v7 << 7) + v11;
            sub_4527C0((void *)v12, v9 << 7);
            v13 = *(_WORD *)(v12 - 128);
            if ( v9 > 0 )
            {
              v14 = v9;
              do
              {
                *(_WORD *)v12 = v13;
                v12 += 128;
                --v14;
              }
              while ( v14 );
            }
          }
          v6 = v31;
          ++v10;
        }
        while ( v10 < v28 );
        v3 = v30;
      }
      if ( *(_DWORD *)(v36 + 8) == v35 )
      {
        v15 = v9 + v7;
        v39 = v15 / v32;
        v16 = v28;
        if ( v28 < *(_DWORD *)(v3 + 12) )
        {
          v38 = v15 << 7;
          while ( 1 )
          {
            v17 = *(char **)(v6 + 4 * v16);
            v18 = *(_DWORD *)(v6 + 4 * v16 - 4);
            sub_4527C0(v17, v38);
            if ( v39 )
            {
              v19 = v32 << 7;
              v29 = v39;
              do
              {
                v20 = v32;
                v21 = *(_WORD *)(v19 + v18 - 128);
                if ( (signed int)v32 > 0 )
                {
                  v22 = v17;
                  do
                  {
                    *(_WORD *)v22 = v21;
                    v22 += 128;
                    --v20;
                  }
                  while ( v20 );
                }
                v17 += v19;
                v18 += v19;
                --v29;
              }
              while ( v29 );
              v3 = v30;
            }
            if ( ++v16 >= *(_DWORD *)(v3 + 12) )
              break;
            v6 = v31;
          }
        }
      }
      v23 = *(_DWORD *)(a1 + 60);
      v24 = v37 + 1;
      v3 += 84;
      v37 = v24;
      v26 = __OFSUB__(v24, v23);
      v25 = v24 - v23 < 0;
      ++v33;
      ++v34;
      v30 = v3;
      v2 = a1;
      if ( !(v25 ^ v26) )
        break;
      v4 = v36;
      v5 = v35;
    }
  }
  return sub_4687D0(v2, a2);
}

//----- (00468CC0) --------------------------------------------------------
int __stdcall sub_468CC0(int a1, int a2)
{
  int v2; // edi@1
  int v3; // ebx@1
  int result; // eax@2
  int v5; // esi@3
  int *v6; // ebx@3
  int v7; // ebp@4
  signed int v8; // ST14_4@4
  int v9; // ST10_4@4
  int v10; // eax@4
  int v11; // eax@4
  int v12; // ecx@4
  int v13; // eax@6
  int v14; // edx@6
  int v15; // ecx@6
  int v16; // [sp+24h] [bp+4h]@2

  v2 = a1;
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 104);
  *(_DWORD *)(a1 + 352) = v3;
  *(_DWORD *)v3 = sub_468C00;
  if ( a2 )
  {
    result = *(_DWORD *)(a1 + 68);
    v16 = 0;
    if ( *(_DWORD *)(v2 + 60) > 0 )
    {
      v5 = result + 12;
      v6 = (int *)(v3 + 64);
      do
      {
        v7 = *(_DWORD *)(v2 + 4);
        v8 = *(_DWORD *)v5;
        v9 = sub_452720(*(_DWORD *)(v5 + 20), *(_DWORD *)v5);
        v10 = sub_452720(*(_DWORD *)(v5 + 16), *(_DWORD *)(v5 - 4));
        v11 = (*(int (__stdcall **)(int, signed int, _DWORD, int, int, signed int))(v7 + 20))(v2, 1, 0, v10, v9, v8);
        v12 = *(_DWORD *)(v2 + 60);
        *v6 = v11;
        result = v16 + 1;
        ++v6;
        v5 += 84;
        ++v16;
      }
      while ( v16 < v12 );
    }
  }
  else
  {
    v13 = (*(int (__stdcall **)(int, signed int, signed int))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, 1280);
    *(_DWORD *)(v3 + 28) = v13 + 128;
    *(_DWORD *)(v3 + 32) = v13 + 256;
    *(_DWORD *)(v3 + 36) = v13 + 384;
    *(_DWORD *)(v3 + 40) = v13 + 512;
    *(_DWORD *)(v3 + 44) = v13 + 640;
    *(_DWORD *)(v3 + 48) = v13 + 768;
    *(_DWORD *)(v3 + 24) = v13;
    v14 = v13 + 896;
    v15 = v13 + 1024;
    result = v13 + 1152;
    *(_DWORD *)(v3 + 52) = v14;
    *(_DWORD *)(v3 + 56) = v15;
    *(_DWORD *)(v3 + 60) = result;
    *(_DWORD *)(v3 + 64) = 0;
  }
  return result;
}
// 468C00: using guessed type int __stdcall sub_468C00(int, int);

//----- (00468DB0) --------------------------------------------------------
int __stdcall sub_468DB0(int *a1, int a2, signed int a3, int *a4)
{
  int *v4; // edi@3
  int v5; // eax@3
  int v6; // eax@9
  signed int v7; // ebx@12
  int v8; // ebp@12
  unsigned int v9; // esi@13
  int v10; // eax@14
  int v11; // eax@16
  signed int v12; // edi@18
  int v13; // esi@18
  int v14; // ebx@18
  char *v15; // eax@19
  int v16; // ecx@21
  int v17; // eax@23
  int v18; // ebx@25
  int result; // eax@25
  int i; // esi@25
  signed int v21; // edi@26
  int v22; // eax@28
  int v23; // ecx@29
  char v24; // dl@29
  signed int v25; // [sp+1Ch] [bp-514h]@12
  int v26; // [sp+20h] [bp-510h]@6
  int v27; // [sp+24h] [bp-50Ch]@12
  char v28; // [sp+28h] [bp-508h]@16
  char v29[259]; // [sp+29h] [bp-507h]@21
  int v30[257]; // [sp+12Ch] [bp-404h]@21

  if ( a3 >= 0 && a3 < 4 )
  {
    v4 = a1;
  }
  else
  {
    v4 = a1;
    v5 = *a1;
    *(_DWORD *)(v5 + 20) = 50;
    *(_DWORD *)(v5 + 24) = a3;
    (*(void (__stdcall **)(int *))v5)(a1);
  }
  if ( a2 )
    v26 = v4[a3 + 22];
  else
    v26 = v4[a3 + 26];
  if ( !v26 )
  {
    v6 = *v4;
    *(_DWORD *)(v6 + 20) = 50;
    *(_DWORD *)(v6 + 24) = a3;
    (*(void (__stdcall **)(int *))v6)(v4);
  }
  if ( !*a4 )
    *a4 = (*(int (__stdcall **)(int *, signed int, signed int))v4[1])(v4, 1, 1280);
  v7 = 1;
  v27 = *a4;
  v8 = 0;
  v25 = 1;
  do
  {
    v9 = *(_BYTE *)(v7 + v26);
    if ( (signed int)(v9 + v8) > 256 )
    {
      v10 = *v4;
      *(_DWORD *)(v10 + 20) = 8;
      (*(void (__stdcall **)(int *))v10)(v4);
    }
    if ( v9 )
    {
      BYTE1(v7) = v7;
      v11 = v7 << 16;
      LOWORD(v11) = v7;
      v7 = v25;
      memset32(&v28 + v8, v11, v9 >> 2);
      memset(&v28 + 4 * (v9 >> 2) + v8, v11, v9 & 3);
      v4 = a1;
      v8 += v9;
    }
    v25 = ++v7;
  }
  while ( v7 <= 16 );
  *(&v28 + v8) = 0;
  v12 = 0;
  v13 = 0;
  v14 = v28;
  if ( v28 )
  {
    v15 = &v28;
    do
    {
      if ( *v15 == v14 )
      {
        do
        {
          v16 = v29[v13];
          v30[v13++] = v12++;
        }
        while ( v16 == v14 );
      }
      if ( v12 >= 1 << v14 )
      {
        v17 = *a1;
        *(_DWORD *)(v17 + 20) = 8;
        (*(void (__stdcall **)(int *))v17)(a1);
      }
      v15 = &v28 + v13;
      v12 *= 2;
      ++v14;
    }
    while ( *(&v28 + v13) );
  }
  v18 = v27 + 1024;
  memset((void *)(v27 + 1024), 0, 0x100u);
  result = v8;
  for ( i = 0; i < v8; *(_BYTE *)(v18 + v21) = v24 )
  {
    v21 = *(_BYTE *)(v26 + i + 17);
    if ( v21 > (a2 != 0 ? 15 : 255) || *(_BYTE *)(v18 + v21) )
    {
      v22 = *a1;
      *(_DWORD *)(v22 + 20) = 8;
      (*(void (__stdcall **)(int *))v22)(a1);
    }
    v23 = v30[i];
    v24 = *(&v28 + i);
    result = v8;
    ++i;
    *(_DWORD *)(v27 + 4 * v21) = v23;
  }
  return result;
}
// 468DB0: using guessed type char var_507[259];
// 468DB0: using guessed type int var_404[257];

//----- (00468FB0) --------------------------------------------------------
signed int __userpurge sub_468FB0@<eax>(int a1@<eax>, int a2@<esi>, int a3)
{
  int v3; // ebp@1
  int v4; // ebx@1
  int v5; // eax@2
  int v6; // ebp@3
  int v7; // edi@3
  _BYTE *v8; // eax@4
  bool v9; // zf@4
  int v10; // ebx@5
  int v11; // ecx@6
  _BYTE *v12; // eax@8
  int v13; // ebx@9
  int v14; // eax@10
  unsigned int v16; // [sp+10h] [bp+4h]@3

  v3 = *(_DWORD *)(a2 + 12);
  v4 = a1;
  if ( !a1 )
  {
    v5 = *(_DWORD *)(a2 + 32);
    *(_DWORD *)(*(_DWORD *)v5 + 20) = 40;
    (**(void (__stdcall ***)(_DWORD))v5)(v5);
  }
  v6 = v4 + v3;
  v7 = *(_DWORD *)(a2 + 8) | ((a3 & ((1 << v4) - 1)) << (24 - v6));
  v16 = *(_DWORD *)(a2 + 8) | ((a3 & ((1 << v4) - 1)) << (24 - v6));
  if ( v6 < 8 )
  {
LABEL_12:
    *(_DWORD *)(a2 + 8) = v7;
    *(_DWORD *)(a2 + 12) = v6;
    return 1;
  }
  while ( 1 )
  {
    v8 = *(_BYTE **)a2;
    *v8 = v16 >> 16;
    *(_DWORD *)a2 = v8 + 1;
    v9 = (*(_DWORD *)(a2 + 4))-- == 1;
    if ( v9 )
    {
      v10 = *(_DWORD *)(*(_DWORD *)(a2 + 32) + 24);
      if ( !(*(int (__stdcall **)(_DWORD))(v10 + 12))(*(_DWORD *)(a2 + 32)) )
        return 0;
      v11 = *(_DWORD *)(v10 + 4);
      *(_DWORD *)a2 = *(_DWORD *)v10;
      *(_DWORD *)(a2 + 4) = v11;
    }
    if ( BYTE2(v16) == 255 )
    {
      v12 = *(_BYTE **)a2;
      *v12 = 0;
      *(_DWORD *)a2 = v12 + 1;
      v9 = (*(_DWORD *)(a2 + 4))-- == 1;
      if ( v9 )
        break;
    }
LABEL_11:
    v7 <<= 8;
    v6 -= 8;
    v16 = v7;
    if ( v6 < 8 )
      goto LABEL_12;
  }
  v13 = *(_DWORD *)(*(_DWORD *)(a2 + 32) + 24);
  if ( (*(int (__stdcall **)(_DWORD))(v13 + 12))(*(_DWORD *)(a2 + 32)) )
  {
    v14 = *(_DWORD *)(v13 + 4);
    *(_DWORD *)a2 = *(_DWORD *)v13;
    *(_DWORD *)(a2 + 4) = v14;
    goto LABEL_11;
  }
  return 0;
}

//----- (00469080) --------------------------------------------------------
signed int __userpurge sub_469080@<eax>(int a1@<eax>, _WORD *a2, int a3, int a4, int a5)
{
  int v5; // esi@1
  int v6; // edi@1
  signed int v7; // eax@1
  int v8; // ebx@3
  int v9; // ecx@6
  int v10; // ST00_4@6
  _DWORD *v11; // eax@10
  signed int v12; // ebx@10
  signed int v13; // edi@11
  signed int v14; // edi@18
  int v15; // ebp@18
  int v16; // ecx@21
  int v17; // ST00_4@21
  _DWORD *v19; // [sp+18h] [bp+8h]@10
  int v20; // [sp+1Ch] [bp+Ch]@16

  v5 = a1;
  v6 = *a2 - a3;
  v7 = v6;
  if ( v6 < 0 )
    v7 = -v6--;
  v8 = 0;
  if ( v7 )
  {
    do
    {
      v7 >>= 1;
      ++v8;
    }
    while ( v7 );
    if ( v8 > 11 )
    {
      v9 = **(_DWORD **)(v5 + 32);
      v10 = *(_DWORD *)(v5 + 32);
      *(_DWORD *)(v9 + 20) = 6;
      (*(void (__stdcall **)(int))v9)(v10);
    }
  }
  if ( sub_468FB0(*(_BYTE *)(v8 + a4 + 1024), v5, *(_DWORD *)(a4 + 4 * v8)) && (!v8 || sub_468FB0(v8, v5, v6)) )
  {
    v11 = &unk_4BB75C;
    v12 = 0;
    v19 = &unk_4BB75C;
    do
    {
      v13 = a2[*v11];
      if ( a2[*v11] )
      {
        if ( v12 > 15 )
        {
          while ( sub_468FB0(*(_BYTE *)(a5 + 1264), v5, *(_DWORD *)(a5 + 960)) )
          {
            v12 -= 16;
            if ( v12 <= 15 )
              goto LABEL_16;
          }
          return 0;
        }
LABEL_16:
        v20 = v13;
        if ( v13 < 0 )
        {
          v13 = -v13;
          --v20;
        }
        v14 = v13 >> 1;
        v15 = 1;
        if ( v14 )
        {
          do
          {
            v14 >>= 1;
            ++v15;
          }
          while ( v14 );
          if ( v15 > 10 )
          {
            v16 = **(_DWORD **)(v5 + 32);
            v17 = *(_DWORD *)(v5 + 32);
            *(_DWORD *)(v16 + 20) = 6;
            (*(void (__stdcall **)(int))v16)(v17);
          }
        }
        if ( !sub_468FB0(*(_BYTE *)(v15 + 16 * v12 + a5 + 1024), v5, *(_DWORD *)(a5 + 4 * (v15 + 16 * v12)))
          || !sub_468FB0(v15, v5, v20) )
        {
          return 0;
        }
        v11 = v19;
        v12 = 0;
      }
      else
      {
        ++v12;
      }
      ++v11;
      v19 = v11;
    }
    while ( (signed int)v11 < (signed int)&unk_4BB858 );
    if ( v12 <= 0 || sub_468FB0(*(_BYTE *)(a5 + 1024), v5, *(_DWORD *)a5) )
      return 1;
  }
  return 0;
}

//----- (004691F0) --------------------------------------------------------
signed int __userpurge sub_4691F0@<eax>(int a1@<eax>, char a2)
{
  int v2; // esi@1
  _BYTE *v3; // eax@2
  int v4; // eax@2
  int v5; // edi@3
  int v6; // ecx@4
  _BYTE *v7; // eax@5
  bool v8; // zf@5
  int v9; // edi@6
  int v10; // eax@7
  int v11; // eax@8
  _DWORD *v12; // ecx@9

  v2 = a1;
  if ( !sub_468FB0(7, a1, 127) )
    return 0;
  v3 = *(_BYTE **)v2;
  *v3 = -1;
  *(_DWORD *)v2 = v3 + 1;
  v4 = *(_DWORD *)(v2 + 4) - 1;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 12) = 0;
  *(_DWORD *)(v2 + 4) = v4;
  if ( !v4 )
  {
    v5 = *(_DWORD *)(*(_DWORD *)(v2 + 32) + 24);
    if ( !(*(int (__stdcall **)(_DWORD))(v5 + 12))(*(_DWORD *)(v2 + 32)) )
      return 0;
    v6 = *(_DWORD *)(v5 + 4);
    *(_DWORD *)v2 = *(_DWORD *)v5;
    *(_DWORD *)(v2 + 4) = v6;
  }
  v7 = *(_BYTE **)v2;
  *v7 = a2 - 48;
  *(_DWORD *)v2 = v7 + 1;
  v8 = (*(_DWORD *)(v2 + 4))-- == 1;
  if ( v8 )
  {
    v9 = *(_DWORD *)(*(_DWORD *)(v2 + 32) + 24);
    if ( (*(int (__stdcall **)(_DWORD))(v9 + 12))(*(_DWORD *)(v2 + 32)) )
    {
      v10 = *(_DWORD *)(v9 + 4);
      *(_DWORD *)v2 = *(_DWORD *)v9;
      *(_DWORD *)(v2 + 4) = v10;
      goto LABEL_8;
    }
    return 0;
  }
LABEL_8:
  v11 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(v2 + 32) + 252) > 0 )
  {
    v12 = (_DWORD *)(v2 + 16);
    do
    {
      *v12 = 0;
      ++v11;
      ++v12;
    }
    while ( v11 < *(_DWORD *)(*(_DWORD *)(v2 + 32) + 252) );
  }
  return 1;
}

//----- (004692C0) --------------------------------------------------------
signed int __stdcall sub_4692C0(int a1, int a2)
{
  int v2; // ebx@1
  int v3; // eax@1
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // ebp@1
  int v8; // esi@4
  int v9; // ecx@6
  int *v10; // edi@6
  int v11; // eax@7
  int v12; // eax@8
  int v13; // ecx@8
  int v14; // ebx@8
  int v15; // edx@10
  int v17; // [sp+10h] [bp-24h]@1
  int v18; // [sp+14h] [bp-20h]@1
  char v19; // [sp+18h] [bp-1Ch]@1
  char v20[16]; // [sp+20h] [bp-14h]@6
  int v21; // [sp+30h] [bp-4h]@1
  _DWORD *v22; // [sp+38h] [bp+4h]@5

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 24);
  v4 = *(_DWORD *)v3;
  v5 = *(_DWORD *)(v3 + 4);
  v6 = *(_DWORD *)(a1 + 200);
  v7 = *(_DWORD *)(a1 + 372);
  v17 = v4;
  v18 = v5;
  qmemcpy(&v19, (const void *)(v7 + 12), 0x18u);
  v21 = a1;
  if ( v6 && !*(_DWORD *)(v7 + 36) && !sub_4691F0((int)&v17, *(_DWORD *)(v7 + 40)) )
    return 0;
  v8 = 0;
  if ( *(_DWORD *)(a1 + 280) > 0 )
  {
    v22 = (_DWORD *)(a1 + 284);
    do
    {
      v9 = *(_DWORD *)(v2 + 4 * *v22 + 256);
      v10 = (int *)&v20[4 * *v22];
      if ( !sub_469080(
              (int)&v17,
              *(_WORD **)(a2 + 4 * v8),
              *v10,
              *(_DWORD *)(v7 + 4 * *(_DWORD *)(v9 + 20) + 44),
              *(_DWORD *)(v7 + 4 * *(_DWORD *)(v9 + 24) + 60)) )
        return 0;
      v11 = *(_DWORD *)(v2 + 280);
      *v10 = **(_WORD **)(a2 + 4 * v8++);
      ++v22;
    }
    while ( v8 < v11 );
  }
  v12 = *(_DWORD *)(v2 + 24);
  v13 = v18;
  v14 = *(_DWORD *)(v2 + 200);
  *(_DWORD *)v12 = v17;
  *(_DWORD *)(v12 + 4) = v13;
  qmemcpy((void *)(v7 + 12), &v19, 0x18u);
  if ( v14 )
  {
    if ( !*(_DWORD *)(v7 + 36) )
    {
      v15 = ((unsigned __int8)*(_DWORD *)(v7 + 40) + 1) & 7;
      *(_DWORD *)(v7 + 36) = v14;
      *(_DWORD *)(v7 + 40) = v15;
    }
    --*(_DWORD *)(v7 + 36);
  }
  return 1;
}
// 4692C0: using guessed type char var_14[16];

//----- (004693F0) --------------------------------------------------------
int __stdcall sub_4693F0(int a1)
{
  int v1; // eax@1
  int v2; // edx@1
  const void *v3; // ebp@1
  int result; // eax@2
  int v5; // eax@3
  int v6; // ebx@4
  int v7; // edx@4
  int v8; // [sp+10h] [bp-24h]@1
  int v9; // [sp+14h] [bp-20h]@1
  int v10; // [sp+18h] [bp-1Ch]@1
  int v11; // [sp+1Ch] [bp-18h]@2
  int v12; // [sp+30h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)v1;
  v3 = (const void *)(*(_DWORD *)(a1 + 372) + 12);
  v9 = *(_DWORD *)(v1 + 4);
  v8 = v2;
  qmemcpy(&v10, v3, 0x18u);
  v12 = a1;
  if ( sub_468FB0(7, (int)&v8, 127) )
  {
    result = 0;
    v10 = 0;
    v11 = 0;
  }
  else
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 24;
    result = (*(int (__stdcall **)(int))v5)(a1);
  }
  v6 = *(_DWORD *)(a1 + 24);
  v7 = v9;
  *(_DWORD *)v6 = v8;
  *(_DWORD *)(v6 + 4) = v7;
  qmemcpy((void *)v3, &v10, 0x18u);
  return result;
}

//----- (00469480) --------------------------------------------------------
signed int __userpurge sub_469480@<eax>(int a1@<eax>, int a2@<ecx>, int *a3, _WORD *a4, int a5)
{
  int v5; // edi@1
  signed int v6; // eax@1
  signed int v7; // esi@3
  int v8; // eax@6
  signed int v9; // edi@7
  _DWORD *v10; // ebx@7
  signed int result; // eax@8
  unsigned int v12; // ecx@11
  signed int v13; // eax@14
  signed int v14; // esi@14
  int v15; // eax@17
  int v16; // edi@18

  v5 = a1;
  v6 = *a4 - a2;
  if ( v6 < 0 )
    v6 = -v6;
  v7 = 0;
  if ( v6 )
  {
    do
    {
      v6 >>= 1;
      ++v7;
    }
    while ( v6 );
    if ( v7 > 11 )
    {
      v8 = *a3;
      *(_DWORD *)(v8 + 20) = 6;
      (*(void (__stdcall **)(int *))v8)(a3);
    }
  }
  ++*(_DWORD *)(v5 + 4 * v7);
  v9 = 0;
  v10 = &unk_4BB75C;
  do
  {
    result = a4[*v10];
    if ( a4[*v10] )
    {
      if ( v9 > 15 )
      {
        v12 = ((unsigned int)(v9 - 16) >> 4) + 1;
        v9 += -16 * v12;
        *(_DWORD *)(a5 + 960) += v12;
      }
      if ( result < 0 )
        result = -result;
      v13 = result >> 1;
      v14 = 1;
      if ( v13 )
      {
        do
        {
          v13 >>= 1;
          ++v14;
        }
        while ( v13 );
        if ( v14 > 10 )
        {
          v15 = *a3;
          *(_DWORD *)(v15 + 20) = 6;
          (*(void (__stdcall **)(int *))v15)(a3);
        }
      }
      v16 = v14 + 16 * v9;
      result = a5 + 4 * v16;
      *(_DWORD *)result = *(_DWORD *)(a5 + 4 * v16) + 1;
      v9 = 0;
    }
    else
    {
      ++v9;
    }
    ++v10;
  }
  while ( (signed int)v10 < (signed int)&unk_4BB858 );
  if ( v9 > 0 )
    ++*(_DWORD *)a5;
  return result;
}

//----- (00469560) --------------------------------------------------------
signed int __stdcall sub_469560(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edx@1
  int v4; // esi@1
  int v5; // ecx@3
  int v6; // edi@7
  int v7; // ebx@9
  int v8; // eax@9
  int v9; // eax@9
  int *v11; // [sp+10h] [bp+4h]@8

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 200);
  v4 = *(_DWORD *)(a1 + 372);
  if ( v3 )
  {
    if ( !*(_DWORD *)(v4 + 36) )
    {
      v5 = *(_DWORD *)(a1 + 252);
      if ( v5 > 0 )
        memset((void *)(v4 + 20), 0, 4 * v5);
      *(_DWORD *)(v4 + 36) = v3;
    }
    --*(_DWORD *)(v4 + 36);
  }
  v6 = 0;
  if ( *(_DWORD *)(a1 + 280) > 0 )
  {
    v11 = (int *)(a1 + 284);
    do
    {
      v7 = *v11;
      v8 = *(_DWORD *)(v2 + 4 * *v11 + 256);
      sub_469480(
        *(_DWORD *)(v4 + 4 * *(_DWORD *)(v8 + 20) + 76),
        *(_DWORD *)(v4 + 4 * *v11 + 20),
        (int *)v2,
        *(_WORD **)(a2 + 4 * v6),
        *(_DWORD *)(v4 + 4 * *(_DWORD *)(v8 + 24) + 92));
      v9 = *(_DWORD *)(v2 + 280);
      *(_DWORD *)(v4 + 4 * v7 + 20) = **(_WORD **)(a2 + 4 * v6++);
      ++v11;
    }
    while ( v6 < v9 );
  }
  return 1;
}

//----- (00469610) --------------------------------------------------------
signed int __stdcall sub_469610(int *a1, int a2, int a3)
{
  signed int v3; // eax@2
  signed int v4; // esi@2
  signed int v5; // ecx@2
  signed int v6; // edx@3
  int v7; // edx@7
  signed int v8; // edi@7
  signed int v9; // ecx@7
  signed int v10; // esi@8
  int v11; // edi@14
  int v12; // esi@14
  int *v13; // ecx@14
  int v14; // edi@15
  int v15; // esi@15
  int v16; // esi@16
  int v17; // ecx@16
  int *v18; // eax@16
  int v19; // eax@17
  int v20; // ecx@17
  signed int v21; // edi@19
  int v22; // esi@20
  int v23; // eax@22
  signed int v24; // esi@25
  signed int v25; // ecx@25
  signed int v26; // edx@25
  signed int v27; // eax@27
  int v30; // ecx@33
  int v31; // eax@33
  int v32; // ecx@33
  int v33; // ecx@33
  signed int v34; // edx@33
  signed int result; // eax@34
  char v36; // [sp+Bh] [bp-82Dh]@28
  int v37; // [sp+Ch] [bp-82Ch]@1
  int v38; // [sp+10h] [bp-828h]@33
  int v39; // [sp+14h] [bp-824h]@33
  int v40; // [sp+18h] [bp-820h]@33
  char v41; // [sp+1Ch] [bp-81Ch]@31
  char v42; // [sp+2Ch] [bp-80Ch]@1
  int v43[257]; // [sp+30h] [bp-808h]@1
  int v44[257]; // [sp+434h] [bp-404h]@1

  memset(&v37, 0, 0x20u);
  v42 = 0;
  memset(v43, 0, sizeof(v43));
  memset(v44, 0xFFu, sizeof(v44));
  *(_DWORD *)(a3 + 1024) = 1;
  while ( 1 )
  {
    v3 = -1;
    v4 = 1000000000;
    v5 = 0;
    do
    {
      v6 = *(_DWORD *)(a3 + 4 * v5);
      if ( v6 && v6 <= v4 )
      {
        v4 = *(_DWORD *)(a3 + 4 * v5);
        v3 = v5;
      }
      ++v5;
    }
    while ( v5 <= 256 );
    v7 = -1;
    v8 = 1000000000;
    v9 = 0;
    do
    {
      v10 = *(_DWORD *)(a3 + 4 * v9);
      if ( v10 && v10 <= v8 && v9 != v3 )
      {
        v8 = *(_DWORD *)(a3 + 4 * v9);
        v7 = v9;
      }
      ++v9;
    }
    while ( v9 <= 256 );
    if ( v7 < 0 )
      break;
    v11 = v43[v3];
    *(_DWORD *)(a3 + 4 * v3) += *(_DWORD *)(a3 + 4 * v7);
    v12 = v44[v3];
    v13 = &v44[v3];
    *(_DWORD *)(a3 + 4 * v7) = 0;
    v43[v3] = v11 + 1;
    if ( v12 >= 0 )
    {
      do
      {
        v3 = *v13;
        v14 = v43[*v13];
        v15 = v44[*v13];
        v13 = &v44[*v13];
        v43[v3] = v14 + 1;
      }
      while ( v15 >= 0 );
    }
    v16 = v43[v7];
    v44[v3] = v7;
    v17 = v44[v7];
    v18 = &v44[v7];
    v43[v7] = v16 + 1;
    if ( v17 >= 0 )
    {
      do
      {
        v19 = *v18;
        v20 = v44[v19];
        ++v43[v19];
        v18 = &v44[v19];
      }
      while ( v20 >= 0 );
    }
  }
  v21 = 0;
  do
  {
    v22 = v43[v21];
    if ( v22 )
    {
      if ( v22 > 32 )
      {
        v23 = *a1;
        *(_DWORD *)(v23 + 20) = 39;
        (*(void (__stdcall **)(int *))v23)(a1);
      }
      ++*((_BYTE *)&v37 + v22);
    }
    ++v21;
  }
  while ( v21 <= 256 );
  v24 = 16;
  v25 = 30;
  v26 = 16;
  do
  {
    for ( ; *((_BYTE *)&v37 + v25 + 2); --*((_BYTE *)&v37 + v27) )
    {
      v27 = v25;
      if ( !*((_BYTE *)&v37 + v25) )
      {
        while ( !*(&v36 + v27--) )
          ;
      }
      *((_BYTE *)&v37 + v25 + 2) -= 2;
      ++*((_BYTE *)&v37 + v25 + 1);
      *((_BYTE *)&v37 + v27 + 1) += 2;
    }
    --v25;
    --v24;
  }
  while ( v24 );
  if ( !v41 )
  {
    while ( !*(&v36 + v26--) )
      ;
  }
  --*((_BYTE *)&v37 + v26);
  v30 = v38;
  *(_DWORD *)a2 = v37;
  v31 = v39;
  *(_DWORD *)(a2 + 4) = v30;
  v32 = v40;
  *(_DWORD *)(a2 + 8) = v31;
  LOBYTE(v31) = v41;
  *(_DWORD *)(a2 + 12) = v32;
  *(_BYTE *)(a2 + 16) = v31;
  v33 = 0;
  v34 = 1;
  do
  {
    result = 0;
    do
    {
      if ( v43[result] == v34 )
        *(_BYTE *)(v33++ + a2 + 17) = result;
      ++result;
    }
    while ( result <= 255 );
    ++v34;
  }
  while ( v34 <= 32 );
  *(_DWORD *)(a2 + 276) = 0;
  return result;
}
// 469610: using guessed type int var_808[257];
// 469610: using guessed type int var_404[257];

//----- (00469860) --------------------------------------------------------
int __stdcall sub_469860(int a1)
{
  int v1; // esi@1
  int v2; // eax@1
  int result; // eax@1
  int v4; // edi@3
  int v5; // ebx@3
  int v6; // ecx@11
  bool v7; // sf@11
  unsigned __int8 v8; // of@11
  int v9; // [sp+4h] [bp-28h]@1
  int v10; // [sp+8h] [bp-24h]@1
  int v11; // [sp+Ch] [bp-20h]@1
  int v12; // [sp+10h] [bp-1Ch]@1
  int v13; // [sp+14h] [bp-18h]@1
  int v14; // [sp+18h] [bp-14h]@1
  int v15; // [sp+1Ch] [bp-10h]@1
  int v16; // [sp+20h] [bp-Ch]@1
  int v17; // [sp+24h] [bp-8h]@1
  int v18; // [sp+28h] [bp-4h]@1
  int v19; // [sp+30h] [bp+4h]@2

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 372);
  v11 = 0;
  v15 = 0;
  v9 = v2;
  result = *(_DWORD *)(a1 + 252);
  v12 = 0;
  v16 = 0;
  v17 = 0;
  v13 = 0;
  v14 = 0;
  v18 = 0;
  v10 = 0;
  if ( result > 0 )
  {
    v19 = a1 + 256;
    do
    {
      v4 = *(_DWORD *)(*(_DWORD *)v19 + 20);
      v5 = *(_DWORD *)(*(_DWORD *)v19 + 24);
      if ( !*(&v11 + v4) )
      {
        if ( !*(_DWORD *)(v1 + 4 * v4 + 88) )
          *(_DWORD *)(v1 + 4 * v4 + 88) = sub_452090(v1);
        sub_469610((int *)v1, *(_DWORD *)(v1 + 4 * v4 + 88), *(_DWORD *)(v9 + 4 * v4 + 76));
        *(&v11 + v4) = 1;
      }
      if ( !*(&v15 + v5) )
      {
        if ( !*(_DWORD *)(v1 + 4 * v5 + 104) )
          *(_DWORD *)(v1 + 4 * v5 + 104) = sub_452090(v1);
        sub_469610((int *)v1, *(_DWORD *)(v1 + 4 * v5 + 104), *(_DWORD *)(v9 + 4 * v5 + 92));
        *(&v15 + v5) = 1;
      }
      v6 = *(_DWORD *)(v1 + 252);
      result = v10 + 1;
      v8 = __OFSUB__(v10 + 1, v6);
      v7 = v10++ + 1 - v6 < 0;
      v19 += 4;
    }
    while ( v7 ^ v8 );
  }
  return result;
}

//----- (00469AC0) --------------------------------------------------------
int __stdcall sub_469AC0(int a1)
{
  _DWORD *v1; // eax@1
  int result; // eax@1
  signed int v3; // ecx@1

  v1 = (_DWORD *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 108);
  *(_DWORD *)(a1 + 372) = v1;
  *v1 = sub_469960;
  result = (int)(v1 + 11);
  v3 = 4;
  do
  {
    *(_DWORD *)(result + 16) = 0;
    *(_DWORD *)result = 0;
    *(_DWORD *)(result + 48) = 0;
    *(_DWORD *)(result + 32) = 0;
    result += 4;
    --v3;
  }
  while ( v3 );
  return result;
}
// 469960: using guessed type int __stdcall sub_469960(int, int);

//----- (00469B00) --------------------------------------------------------
int __userpurge sub_469B00@<eax>(int a1@<eax>, int a2@<esi>, int a3)
{
  int v3; // ebx@1
  int v4; // ebp@1
  int v5; // ecx@2
  int v6; // ST08_4@2
  int result; // eax@3
  unsigned int v8; // ebp@4
  int v9; // edi@4
  _BYTE *v10; // eax@6
  bool v11; // zf@6
  int v12; // ebx@7
  int v13; // ecx@8
  int v14; // ST04_4@8
  int v15; // ecx@9
  _BYTE *v16; // eax@11
  int v17; // ebx@12
  int v18; // ecx@13
  int v19; // ST04_4@13
  int v20; // eax@14
  unsigned int v21; // [sp+14h] [bp-4h]@5
  unsigned int v22; // [sp+1Ch] [bp+4h]@4

  v3 = a1;
  v4 = *(_DWORD *)(a2 + 28);
  if ( !a1 )
  {
    v5 = **(_DWORD **)(a2 + 32);
    v6 = *(_DWORD *)(a2 + 32);
    *(_DWORD *)(v5 + 20) = 40;
    (*(void (__stdcall **)(int))v5)(v6);
  }
  result = *(_DWORD *)(a2 + 12);
  if ( !result )
  {
    result = a3;
    v8 = v3 + v4;
    v9 = *(_DWORD *)(a2 + 24) | ((a3 & ((1 << v3) - 1)) << (24 - v8));
    v22 = *(_DWORD *)(a2 + 24) | ((a3 & ((1 << v3) - 1)) << (24 - v8));
    if ( (signed int)v8 >= 8 )
    {
      v21 = v8 >> 3;
      v8 += -8 * (v8 >> 3);
      do
      {
        v10 = *(_BYTE **)(a2 + 16);
        *v10 = v22 >> 16;
        *(_DWORD *)(a2 + 16) = v10 + 1;
        v11 = (*(_DWORD *)(a2 + 20))-- == 1;
        if ( v11 )
        {
          v12 = *(_DWORD *)(*(_DWORD *)(a2 + 32) + 24);
          if ( !(*(int (__stdcall **)(_DWORD))(v12 + 12))(*(_DWORD *)(a2 + 32)) )
          {
            v13 = **(_DWORD **)(a2 + 32);
            v14 = *(_DWORD *)(a2 + 32);
            *(_DWORD *)(v13 + 20) = 24;
            (*(void (__stdcall **)(int))v13)(v14);
          }
          v15 = *(_DWORD *)(v12 + 4);
          *(_DWORD *)(a2 + 16) = *(_DWORD *)v12;
          *(_DWORD *)(a2 + 20) = v15;
        }
        if ( BYTE2(v22) == 255 )
        {
          v16 = *(_BYTE **)(a2 + 16);
          *v16 = 0;
          *(_DWORD *)(a2 + 16) = v16 + 1;
          v11 = (*(_DWORD *)(a2 + 20))-- == 1;
          if ( v11 )
          {
            v17 = *(_DWORD *)(*(_DWORD *)(a2 + 32) + 24);
            if ( !(*(int (__stdcall **)(_DWORD))(v17 + 12))(*(_DWORD *)(a2 + 32)) )
            {
              v18 = **(_DWORD **)(a2 + 32);
              v19 = *(_DWORD *)(a2 + 32);
              *(_DWORD *)(v18 + 20) = 24;
              (*(void (__stdcall **)(int))v18)(v19);
            }
            v20 = *(_DWORD *)(v17 + 4);
            *(_DWORD *)(a2 + 16) = *(_DWORD *)v17;
            *(_DWORD *)(a2 + 20) = v20;
          }
        }
        v9 <<= 8;
        result = v21 - 1;
        v11 = v21 == 1;
        v22 = v9;
        --v21;
      }
      while ( !v11 );
    }
    *(_DWORD *)(a2 + 24) = v9;
    *(_DWORD *)(a2 + 28) = v8;
  }
  return result;
}

//----- (00469C10) --------------------------------------------------------
int __usercall sub_469C10@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int result; // eax@1
  signed int v3; // eax@2
  int v4; // edi@2
  int v5; // ecx@5
  int v6; // ST00_4@5
  int v7; // eax@6
  _DWORD *v8; // eax@7
  int v9; // ebx@11
  _BYTE *v10; // edi@11

  v1 = a1;
  result = *(_DWORD *)(a1 + 56);
  if ( result )
  {
    v3 = result >> 1;
    v4 = 0;
    if ( v3 )
    {
      do
      {
        v3 >>= 1;
        ++v4;
      }
      while ( v3 );
      if ( v4 > 14 )
      {
        v5 = **(_DWORD **)(v1 + 32);
        v6 = *(_DWORD *)(v1 + 32);
        *(_DWORD *)(v5 + 20) = 40;
        (*(void (__stdcall **)(int))v5)(v6);
      }
    }
    v7 = *(_DWORD *)(v1 + 52);
    if ( *(_DWORD *)(v1 + 12) )
    {
      v8 = (_DWORD *)(*(_DWORD *)(v1 + 4 * v7 + 92) + (v4 << 6));
      ++*v8;
    }
    else
    {
      sub_469B00(
        *(_BYTE *)(*(_DWORD *)(v1 + 4 * v7 + 76) + 16 * v4 + 1024),
        v1,
        *(_DWORD *)(*(_DWORD *)(v1 + 4 * v7 + 76) + (v4 << 6)));
    }
    if ( v4 )
      sub_469B00(v4, v1, *(_DWORD *)(v1 + 56));
    result = *(_DWORD *)(v1 + 12);
    v9 = *(_DWORD *)(v1 + 60);
    v10 = *(_BYTE **)(v1 + 64);
    *(_DWORD *)(v1 + 56) = 0;
    if ( !result && v9 )
    {
      do
      {
        result = sub_469B00(1, v1, *v10++);
        --v9;
      }
      while ( v9 );
    }
    *(_DWORD *)(v1 + 60) = 0;
  }
  return result;
}

//----- (00469CC0) --------------------------------------------------------
int __userpurge sub_469CC0@<eax>(int a1@<eax>, char a2)
{
  int v2; // esi@1
  int result; // eax@1
  _BYTE *v4; // eax@2
  int v5; // eax@2
  int v6; // edi@3
  int v7; // ecx@4
  int v8; // ST00_4@4
  int v9; // ecx@5
  _BYTE *v10; // eax@6
  bool v11; // zf@6
  int v12; // edi@7
  int v13; // ecx@8
  int v14; // ST00_4@8
  int v15; // ecx@10
  _DWORD *v16; // ecx@12

  v2 = a1;
  sub_469C10(a1);
  result = *(_DWORD *)(v2 + 12);
  if ( !result )
  {
    sub_469B00(7, v2, 127);
    v4 = *(_BYTE **)(v2 + 16);
    *v4 = -1;
    *(_DWORD *)(v2 + 16) = v4 + 1;
    v5 = *(_DWORD *)(v2 + 20) - 1;
    *(_DWORD *)(v2 + 24) = 0;
    *(_DWORD *)(v2 + 28) = 0;
    *(_DWORD *)(v2 + 20) = v5;
    if ( !v5 )
    {
      v6 = *(_DWORD *)(*(_DWORD *)(v2 + 32) + 24);
      if ( !(*(int (__stdcall **)(_DWORD))(v6 + 12))(*(_DWORD *)(v2 + 32)) )
      {
        v7 = **(_DWORD **)(v2 + 32);
        v8 = *(_DWORD *)(v2 + 32);
        *(_DWORD *)(v7 + 20) = 24;
        (*(void (__stdcall **)(int))v7)(v8);
      }
      v9 = *(_DWORD *)(v6 + 4);
      *(_DWORD *)(v2 + 16) = *(_DWORD *)v6;
      *(_DWORD *)(v2 + 20) = v9;
    }
    v10 = *(_BYTE **)(v2 + 16);
    *v10 = a2 - 48;
    result = (int)(v10 + 1);
    *(_DWORD *)(v2 + 16) = result;
    v11 = (*(_DWORD *)(v2 + 20))-- == 1;
    if ( v11 )
    {
      v12 = *(_DWORD *)(*(_DWORD *)(v2 + 32) + 24);
      if ( !(*(int (__stdcall **)(_DWORD))(v12 + 12))(*(_DWORD *)(v2 + 32)) )
      {
        v13 = **(_DWORD **)(v2 + 32);
        v14 = *(_DWORD *)(v2 + 32);
        *(_DWORD *)(v13 + 20) = 24;
        (*(void (__stdcall **)(int))v13)(v14);
      }
      result = *(_DWORD *)(v12 + 4);
      *(_DWORD *)(v2 + 16) = *(_DWORD *)v12;
      *(_DWORD *)(v2 + 20) = result;
    }
  }
  v15 = *(_DWORD *)(v2 + 32);
  if ( *(_DWORD *)(v15 + 324) )
  {
    *(_DWORD *)(v2 + 56) = 0;
    *(_DWORD *)(v2 + 60) = 0;
  }
  else
  {
    result = 0;
    if ( *(_DWORD *)(v15 + 252) > 0 )
    {
      v16 = (_DWORD *)(v2 + 36);
      do
      {
        *v16 = 0;
        ++result;
        ++v16;
      }
      while ( result < *(_DWORD *)(*(_DWORD *)(v2 + 32) + 252) );
    }
  }
  return result;
}

//----- (00469DB0) --------------------------------------------------------
signed int __stdcall sub_469DB0(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // eax@1
  int v4; // esi@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edi@1
  int v8; // ebx@6
  signed int v9; // eax@6
  int v10; // edi@8
  int v11; // eax@11
  int v12; // eax@12
  _DWORD *v13; // eax@13
  int v14; // ecx@17
  bool v15; // sf@17
  unsigned __int8 v16; // of@17
  int v17; // eax@18
  int v18; // ebp@18
  int v19; // eax@20
  int v21; // [sp+Ch] [bp-Ch]@4
  _DWORD *v22; // [sp+10h] [bp-8h]@5
  char v23; // [sp+14h] [bp-4h]@5
  int v24; // [sp+1Ch] [bp+4h]@6

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 24);
  v4 = *(_DWORD *)(a1 + 372);
  *(_DWORD *)(v4 + 16) = *(_DWORD *)v3;
  v5 = *(_DWORD *)(v3 + 4);
  v6 = *(_DWORD *)(a1 + 200);
  v7 = *(_DWORD *)(a1 + 336);
  *(_DWORD *)(v4 + 20) = v5;
  if ( v6 && !*(_DWORD *)(v4 + 68) )
    sub_469CC0(v4, *(_DWORD *)(v4 + 72));
  v21 = 0;
  if ( *(_DWORD *)(a1 + 280) > 0 )
  {
    v23 = v7;
    v22 = (_DWORD *)(a1 + 284);
    do
    {
      v8 = *(_DWORD *)(v2 + 4 * *v22 + 256);
      v9 = ((signed int)**(_WORD **)(a2 + 4 * v21) >> v23) - *(_DWORD *)(v4 + 4 * *v22 + 36);
      *(_DWORD *)(v4 + 4 * *v22 + 36) = (signed int)**(_WORD **)(a2 + 4 * v21) >> v23;
      v24 = v9;
      if ( v9 < 0 )
      {
        v9 = -v9;
        --v24;
      }
      v10 = 0;
      if ( v9 )
      {
        do
        {
          v9 >>= 1;
          ++v10;
        }
        while ( v9 );
        if ( v10 > 11 )
        {
          v11 = *(_DWORD *)v2;
          *(_DWORD *)(v11 + 20) = 6;
          (*(void (__stdcall **)(int))v11)(v2);
        }
      }
      v12 = *(_DWORD *)(v8 + 20);
      if ( *(_DWORD *)(v4 + 12) )
      {
        v13 = (_DWORD *)(*(_DWORD *)(v4 + 4 * v12 + 92) + 4 * v10);
        ++*v13;
      }
      else
      {
        sub_469B00(
          *(_BYTE *)(*(_DWORD *)(v4 + 4 * v12 + 76) + v10 + 1024),
          v4,
          *(_DWORD *)(*(_DWORD *)(v4 + 4 * v12 + 76) + 4 * v10));
      }
      if ( v10 )
        sub_469B00(v10, v4, v24);
      v14 = *(_DWORD *)(v2 + 280);
      v16 = __OFSUB__(v21 + 1, v14);
      v15 = v21++ + 1 - v14 < 0;
      ++v22;
    }
    while ( v15 ^ v16 );
  }
  v17 = *(_DWORD *)(v2 + 24);
  v18 = *(_DWORD *)(v2 + 200);
  *(_DWORD *)v17 = *(_DWORD *)(v4 + 16);
  *(_DWORD *)(v17 + 4) = *(_DWORD *)(v4 + 20);
  if ( v18 )
  {
    if ( !*(_DWORD *)(v4 + 68) )
    {
      v19 = ((unsigned __int8)*(_DWORD *)(v4 + 72) + 1) & 7;
      *(_DWORD *)(v4 + 68) = v18;
      *(_DWORD *)(v4 + 72) = v19;
    }
    --*(_DWORD *)(v4 + 68);
  }
  return 1;
}

//----- (00469F20) --------------------------------------------------------
signed int __stdcall sub_469F20(int a1, int *a2)
{
  int v2; // ebx@1
  int v3; // eax@1
  int v4; // esi@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edi@1
  int v8; // edx@4
  signed int v9; // ebp@4
  int v10; // eax@5
  signed int v11; // edi@5
  signed int v12; // edi@8
  unsigned int v13; // ebx@15
  int v14; // eax@16
  signed int v15; // edi@20
  int v16; // ebx@20
  int v17; // eax@23
  int v18; // eax@24
  int v19; // ebp@24
  _DWORD *v20; // eax@25
  int v21; // eax@30
  int v22; // eax@32
  int v23; // ebx@32
  int v24; // eax@34
  int v26; // [sp+Ch] [bp-10h]@1
  int v27; // [sp+10h] [bp-Ch]@4
  int v28; // [sp+14h] [bp-8h]@4
  int v29; // [sp+18h] [bp-4h]@1
  int v30; // [sp+24h] [bp+8h]@8

  v2 = a1;
  v26 = *(_DWORD *)(a1 + 336);
  v3 = *(_DWORD *)(a1 + 24);
  v4 = *(_DWORD *)(a1 + 372);
  *(_DWORD *)(v4 + 16) = *(_DWORD *)v3;
  v5 = *(_DWORD *)(v3 + 4);
  v6 = *(_DWORD *)(a1 + 200);
  v7 = *(_DWORD *)(a1 + 328);
  v29 = *(_DWORD *)(a1 + 328);
  *(_DWORD *)(v4 + 20) = v5;
  if ( v6 && !*(_DWORD *)(v4 + 68) )
    sub_469CC0(v4, *(_DWORD *)(v4 + 72));
  v28 = *a2;
  v8 = *(_DWORD *)(a1 + 324);
  v9 = 0;
  v27 = *(_DWORD *)(a1 + 324);
  if ( v8 <= v7 )
  {
    do
    {
      v10 = dword_4BB758[v8];
      v11 = *(_WORD *)(v28 + 2 * v10);
      if ( *(_WORD *)(v28 + 2 * v10) )
      {
        if ( v11 >= 0 )
        {
          v12 = v11 >> v26;
          v30 = v12;
        }
        else
        {
          v12 = -v11 >> v26;
          v30 = ~v12;
        }
        if ( v12 )
        {
          if ( *(_DWORD *)(v4 + 56) )
            sub_469C10(v4);
          if ( v9 > 15 )
          {
            v13 = ((unsigned int)(v9 - 16) >> 4) + 1;
            v9 += -16 * v13;
            do
            {
              v14 = *(_DWORD *)(v4 + 52);
              if ( *(_DWORD *)(v4 + 12) )
                ++*(_DWORD *)(*(_DWORD *)(v4 + 4 * v14 + 92) + 960);
              else
                sub_469B00(
                  *(_BYTE *)(*(_DWORD *)(v4 + 4 * v14 + 76) + 1264),
                  v4,
                  *(_DWORD *)(*(_DWORD *)(v4 + 4 * v14 + 76) + 960));
              --v13;
            }
            while ( v13 );
          }
          v15 = v12 >> 1;
          v16 = 1;
          if ( v15 )
          {
            do
            {
              v15 >>= 1;
              ++v16;
            }
            while ( v15 );
            if ( v16 > 10 )
            {
              v17 = *(_DWORD *)a1;
              *(_DWORD *)(v17 + 20) = 6;
              (*(void (__stdcall **)(int))v17)(a1);
            }
          }
          v18 = *(_DWORD *)(v4 + 52);
          v19 = v16 + 16 * v9;
          if ( *(_DWORD *)(v4 + 12) )
          {
            v20 = (_DWORD *)(*(_DWORD *)(v4 + 4 * v18 + 92) + 4 * v19);
            ++*v20;
          }
          else
          {
            sub_469B00(
              *(_BYTE *)(*(_DWORD *)(v4 + 4 * v18 + 76) + v19 + 1024),
              v4,
              *(_DWORD *)(*(_DWORD *)(v4 + 4 * v18 + 76) + 4 * v19));
          }
          sub_469B00(v16, v4, v30);
          v2 = a1;
          v8 = v27;
          v9 = 0;
        }
        else
        {
          ++v9;
        }
      }
      else
      {
        ++v9;
      }
      v27 = ++v8;
    }
    while ( v8 <= v29 );
    if ( v9 > 0 )
    {
      v21 = *(_DWORD *)(v4 + 56) + 1;
      *(_DWORD *)(v4 + 56) = v21;
      if ( v21 == 0x7FFF )
        sub_469C10(v4);
    }
  }
  v22 = *(_DWORD *)(v2 + 24);
  v23 = *(_DWORD *)(v2 + 200);
  *(_DWORD *)v22 = *(_DWORD *)(v4 + 16);
  *(_DWORD *)(v22 + 4) = *(_DWORD *)(v4 + 20);
  if ( v23 )
  {
    if ( !*(_DWORD *)(v4 + 68) )
    {
      v24 = ((unsigned __int8)*(_DWORD *)(v4 + 72) + 1) & 7;
      *(_DWORD *)(v4 + 68) = v23;
      *(_DWORD *)(v4 + 72) = v24;
    }
    --*(_DWORD *)(v4 + 68);
  }
  return 1;
}
// 4BB758: using guessed type int dword_4BB758[];

//----- (0046A100) --------------------------------------------------------
signed int __stdcall sub_46A100(int a1, int a2)
{
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // edx@1
  int v5; // esi@1
  int v6; // eax@1
  int v7; // ebp@1
  int i; // ebx@4
  int v9; // eax@6
  int v10; // edi@6
  int v11; // ecx@6
  int v12; // edx@8

  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)v2;
  v4 = *(_DWORD *)(v2 + 4);
  v5 = *(_DWORD *)(a1 + 372);
  v6 = *(_DWORD *)(a1 + 200);
  v7 = *(_DWORD *)(a1 + 336);
  *(_DWORD *)(v5 + 16) = v3;
  *(_DWORD *)(v5 + 20) = v4;
  if ( v6 && !*(_DWORD *)(v5 + 68) )
    sub_469CC0(v5, *(_DWORD *)(v5 + 72));
  for ( i = 0; i < *(_DWORD *)(a1 + 280); ++i )
    sub_469B00(1, v5, (signed __int16)(**(_WORD **)(a2 + 4 * i) >> v7));
  v9 = *(_DWORD *)(a1 + 24);
  v10 = *(_DWORD *)(a1 + 200);
  v11 = *(_DWORD *)(v5 + 20);
  *(_DWORD *)v9 = *(_DWORD *)(v5 + 16);
  *(_DWORD *)(v9 + 4) = v11;
  if ( v10 )
  {
    if ( !*(_DWORD *)(v5 + 68) )
    {
      v12 = ((unsigned __int8)*(_DWORD *)(v5 + 72) + 1) & 7;
      *(_DWORD *)(v5 + 68) = v10;
      *(_DWORD *)(v5 + 72) = v12;
    }
    --*(_DWORD *)(v5 + 68);
  }
  return 1;
}

//----- (0046A1C0) --------------------------------------------------------
signed int __stdcall sub_46A1C0(int a1, int *a2)
{
  int v2; // ecx@1
  int v3; // eax@1
  int v4; // edx@1
  int v5; // esi@1
  int v6; // eax@1
  int v7; // edi@1
  int v8; // edx@4
  signed int v9; // eax@5
  int v10; // eax@7
  _BYTE *v11; // edi@11
  int v12; // eax@11
  signed int v13; // ebp@11
  int v14; // ebx@11
  int v15; // ecx@12
  int v16; // eax@16
  int v17; // eax@25
  int v18; // ebp@25
  unsigned int v19; // edi@35
  int v20; // eax@35
  int v21; // eax@39
  int v22; // ecx@39
  int v23; // eax@41
  int v25; // [sp+8h] [bp-114h]@11
  int v26; // [sp+Ch] [bp-110h]@1
  int v27; // [sp+10h] [bp-10Ch]@4
  int v28; // [sp+14h] [bp-108h]@4
  int v29; // [sp+18h] [bp-104h]@12
  int v30[64]; // [sp+1Ch] [bp-100h]@7

  v2 = a1;
  v26 = *(_DWORD *)(a1 + 328);
  v3 = *(_DWORD *)(a1 + 24);
  v4 = *(_DWORD *)v3;
  v5 = *(_DWORD *)(a1 + 372);
  *(_DWORD *)(v5 + 20) = *(_DWORD *)(v3 + 4);
  v6 = *(_DWORD *)(a1 + 200);
  v7 = *(_DWORD *)(a1 + 336);
  *(_DWORD *)(v5 + 16) = v4;
  if ( v6 && !*(_DWORD *)(v5 + 68) )
  {
    sub_469CC0(v5, *(_DWORD *)(v5 + 72));
    v2 = a1;
  }
  v8 = *(_DWORD *)(v2 + 324);
  v28 = *a2;
  v27 = 0;
  if ( v8 <= v26 )
  {
    do
    {
      v9 = *(_WORD *)(v28 + 2 * dword_4BB758[v8]);
      if ( v9 < 0 )
        v9 = -v9;
      v10 = v9 >> v7;
      v30[v8] = v10;
      if ( v10 == 1 )
        v27 = v8;
      ++v8;
    }
    while ( v8 <= v26 );
    v2 = a1;
  }
  v11 = (_BYTE *)(*(_DWORD *)(v5 + 60) + *(_DWORD *)(v5 + 64));
  v12 = *(_DWORD *)(v2 + 324);
  v13 = 0;
  v14 = 0;
  v25 = *(_DWORD *)(v2 + 324);
  if ( v12 <= v26 )
  {
    do
    {
      v15 = v30[v12];
      v29 = v30[v12];
      if ( v15 )
      {
        for ( ; v13 > 15; v14 = 0 )
        {
          if ( v12 > v27 )
            break;
          sub_469C10(v5);
          v16 = *(_DWORD *)(v5 + 52);
          if ( *(_DWORD *)(v5 + 12) )
            ++*(_DWORD *)(*(_DWORD *)(v5 + 4 * v16 + 92) + 960);
          else
            sub_469B00(
              *(_BYTE *)(*(_DWORD *)(v5 + 4 * v16 + 76) + 1264),
              v5,
              *(_DWORD *)(*(_DWORD *)(v5 + 4 * v16 + 76) + 960));
          v13 -= 16;
          if ( !*(_DWORD *)(v5 + 12) && v14 )
          {
            do
            {
              sub_469B00(1, v5, *v11++);
              --v14;
            }
            while ( v14 );
          }
          v11 = *(_BYTE **)(v5 + 64);
          v15 = v29;
          v12 = v25;
        }
        if ( v15 <= 1 )
        {
          sub_469C10(v5);
          v17 = *(_DWORD *)(v5 + 52);
          v18 = 16 * v13 + 1;
          if ( *(_DWORD *)(v5 + 12) )
            ++*(_DWORD *)(*(_DWORD *)(v5 + 4 * v17 + 92) + 4 * v18);
          else
            sub_469B00(
              *(_BYTE *)(*(_DWORD *)(v5 + 4 * v17 + 76) + v18 + 1024),
              v5,
              *(_DWORD *)(*(_DWORD *)(v5 + 4 * v17 + 76) + 4 * v18));
          sub_469B00(1, v5, *(_WORD *)(v28 + 2 * dword_4BB758[v25]) >= 0);
          if ( !*(_DWORD *)(v5 + 12) && v14 )
          {
            do
            {
              sub_469B00(1, v5, *v11++);
              --v14;
            }
            while ( v14 );
          }
          v11 = *(_BYTE **)(v5 + 64);
          v12 = v25;
          v14 = 0;
          v13 = 0;
        }
        else
        {
          v11[v14++] = v15 & 1;
        }
      }
      else
      {
        ++v13;
      }
      v25 = ++v12;
    }
    while ( v12 <= v26 );
    if ( v13 > 0 || v14 )
    {
      v19 = v14 + *(_DWORD *)(v5 + 60);
      v20 = *(_DWORD *)(v5 + 56) + 1;
      *(_DWORD *)(v5 + 56) = v20;
      *(_DWORD *)(v5 + 60) = v19;
      if ( v20 == 0x7FFF || v19 > 0x3A9 )
        sub_469C10(v5);
    }
    v2 = a1;
  }
  v21 = *(_DWORD *)(v2 + 24);
  v22 = *(_DWORD *)(v2 + 200);
  *(_DWORD *)v21 = *(_DWORD *)(v5 + 16);
  *(_DWORD *)(v21 + 4) = *(_DWORD *)(v5 + 20);
  if ( v22 )
  {
    if ( !*(_DWORD *)(v5 + 68) )
    {
      v23 = ((unsigned __int8)*(_DWORD *)(v5 + 72) + 1) & 7;
      *(_DWORD *)(v5 + 68) = v22;
      *(_DWORD *)(v5 + 72) = v23;
    }
    --*(_DWORD *)(v5 + 68);
  }
  return 1;
}
// 4BB758: using guessed type int dword_4BB758[];
// 46A1C0: using guessed type int var_100[64];

//----- (0046A4A0) --------------------------------------------------------
int __stdcall sub_46A4A0(int a1)
{
  int v1; // esi@1
  int v2; // edx@1
  int v3; // ecx@1
  int result; // eax@1
  int v5; // eax@3
  int v6; // ebx@5
  int *v7; // edi@8
  int v8; // edx@13
  bool v9; // sf@13
  unsigned __int8 v10; // of@13
  int v11; // [sp+4h] [bp-1Ch]@1
  int v12; // [sp+8h] [bp-18h]@1
  int v13; // [sp+Ch] [bp-14h]@1
  int v14; // [sp+10h] [bp-10h]@1
  int v15; // [sp+14h] [bp-Ch]@1
  int v16; // [sp+18h] [bp-8h]@1
  int v17; // [sp+1Ch] [bp-4h]@1
  int *v18; // [sp+24h] [bp+4h]@2

  v1 = a1;
  v12 = *(_DWORD *)(a1 + 372);
  sub_469C10(*(_DWORD *)(a1 + 372));
  v2 = *(_DWORD *)(a1 + 324);
  v3 = v2 == 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v11 = 0;
  result = *(_DWORD *)(a1 + 252);
  v13 = v2 == 0;
  if ( result > 0 )
  {
    v18 = (int *)(a1 + 256);
    while ( 1 )
    {
      v5 = *v18;
      if ( !v3 )
        break;
      if ( !*(_DWORD *)(v1 + 332) )
      {
        v6 = *(_DWORD *)(v5 + 20);
        goto LABEL_7;
      }
LABEL_13:
      v8 = *(_DWORD *)(v1 + 252);
      result = v11 + 1;
      v10 = __OFSUB__(v11 + 1, v8);
      v9 = v11++ + 1 - v8 < 0;
      ++v18;
      if ( !(v9 ^ v10) )
        return result;
    }
    v6 = *(_DWORD *)(v5 + 24);
LABEL_7:
    if ( !*(&v14 + v6) )
    {
      v7 = (int *)(v1 + 4 * v6 + 88);
      if ( !v3 )
        v7 = (int *)(v1 + 4 * v6 + 104);
      if ( !*v7 )
        *v7 = sub_452090(v1);
      sub_469610((int *)v1, *v7, *(_DWORD *)(v12 + 4 * v6 + 92));
      v3 = v13;
      *(&v14 + v6) = 1;
    }
    goto LABEL_13;
  }
  return result;
}

//----- (0046A590) --------------------------------------------------------
int __stdcall sub_46A590(int a1, int a2)
{
  int v2; // ebx@1
  int v3; // ecx@1
  int v4; // ebp@1
  int v5; // edi@1
  int result; // eax@1
  int v7; // eax@14
  signed int v8; // esi@16
  int v9; // eax@21
  int v10; // ecx@26
  bool v11; // sf@26
  unsigned __int8 v12; // of@26
  int v13; // edx@27
  _DWORD *v14; // [sp+14h] [bp-Ch]@13
  int v15; // [sp+18h] [bp-8h]@12
  int v16; // [sp+1Ch] [bp-4h]@1
  int *v17; // [sp+24h] [bp+4h]@13

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 324);
  v4 = *(_DWORD *)(a1 + 372);
  *(_DWORD *)(v4 + 32) = a1;
  v5 = v3 == 0;
  result = *(_DWORD *)(a1 + 332);
  *(_DWORD *)(v4 + 12) = a2;
  v16 = v3 == 0;
  if ( result )
  {
    if ( v3 == 0 )
    {
      *(_DWORD *)(v4 + 4) = sub_46A100;
    }
    else
    {
      result = *(_DWORD *)(v4 + 64);
      *(_DWORD *)(v4 + 4) = sub_46A1C0;
      if ( !result )
      {
        result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1000);
        *(_DWORD *)(v4 + 64) = result;
      }
    }
  }
  else if ( v3 == 0 )
  {
    *(_DWORD *)(v4 + 4) = sub_469DB0;
  }
  else
  {
    *(_DWORD *)(v4 + 4) = sub_469F20;
  }
  if ( a2 )
    *(_DWORD *)(v4 + 8) = sub_46A4A0;
  else
    *(_DWORD *)(v4 + 8) = sub_46A450;
  v15 = 0;
  if ( *(_DWORD *)(a1 + 252) > 0 )
  {
    v14 = (_DWORD *)(v4 + 36);
    v17 = (int *)(a1 + 256);
    while ( 1 )
    {
      v7 = *v17;
      *v14 = 0;
      if ( !v5 )
        break;
      if ( !*(_DWORD *)(v2 + 332) )
      {
        v8 = *(_DWORD *)(v7 + 20);
        goto LABEL_18;
      }
LABEL_26:
      v10 = *(_DWORD *)(v2 + 252);
      result = v15 + 1;
      v12 = __OFSUB__(v15 + 1, v10);
      v11 = v15++ + 1 - v10 < 0;
      ++v17;
      ++v14;
      if ( !(v11 ^ v12) )
        goto LABEL_27;
    }
    v8 = *(_DWORD *)(v7 + 24);
    *(_DWORD *)(v4 + 52) = v8;
LABEL_18:
    if ( a2 )
    {
      if ( v8 < 0 || v8 >= 4 )
      {
        v9 = *(_DWORD *)v2;
        *(_DWORD *)(v9 + 20) = 50;
        *(_DWORD *)(v9 + 24) = v8;
        (*(void (__stdcall **)(int))v9)(v2);
      }
      if ( !*(_DWORD *)(v4 + 4 * v8 + 92) )
        *(_DWORD *)(v4 + 4 * v8 + 92) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v2 + 4))(v2, 1, 1028);
      memset(*(void **)(v4 + 4 * v8 + 92), 0, 0x404u);
      v5 = v16;
    }
    else
    {
      sub_468DB0((int *)v2, v5, v8, (int *)(v4 + 4 * v8 + 76));
    }
    goto LABEL_26;
  }
LABEL_27:
  v13 = *(_DWORD *)(v2 + 200);
  *(_DWORD *)(v4 + 56) = 0;
  *(_DWORD *)(v4 + 60) = 0;
  *(_DWORD *)(v4 + 24) = 0;
  *(_DWORD *)(v4 + 28) = 0;
  *(_DWORD *)(v4 + 68) = v13;
  *(_DWORD *)(v4 + 72) = 0;
  return result;
}
// 46A450: using guessed type int __stdcall sub_46A450(int);

//----- (0046A720) --------------------------------------------------------
int __stdcall sub_46A720(int a1)
{
  int result; // eax@1
  _DWORD *v2; // ecx@1
  signed int v3; // edx@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 108);
  *(_DWORD *)(a1 + 372) = result;
  *(_DWORD *)result = sub_46A590;
  v2 = (_DWORD *)(result + 92);
  v3 = 4;
  do
  {
    *(v2 - 4) = 0;
    *v2 = 0;
    ++v2;
    --v3;
  }
  while ( v3 );
  *(_DWORD *)(result + 64) = 0;
  return result;
}

//----- (0046A760) --------------------------------------------------------
int __stdcall sub_46A760(int a1)
{
  int v1; // edi@1
  int v2; // ebp@1
  int result; // eax@1
  signed int v4; // esi@3
  int v5; // eax@6
  int v6; // ebx@7
  char *v7; // esi@10
  int v8; // ebx@10
  signed int v9; // eax@10
  int v10; // edx@15
  int v11; // eax@15
  int v12; // esi@15
  __int16 *v13; // edi@15
  int v14; // ecx@15
  int v15; // edx@15
  int v16; // ebp@16
  int v17; // ebx@16
  int v18; // ebp@16
  int v19; // ebx@16
  int v20; // ebp@16
  int v21; // ebx@16
  int v22; // ebp@16
  int v23; // ebx@16
  int v24; // ebp@16
  int v25; // ebx@16
  int v26; // ebp@16
  int v27; // ebx@16
  int v28; // ebp@16
  int v29; // ecx@20
  double *v30; // edx@20
  int v31; // eax@20
  signed int v32; // esi@21
  double v33; // st7@21
  int v34; // eax@21
  signed int v35; // ST28_4@21
  signed int v36; // esi@21
  int v37; // ecx@21
  double v38; // st7@21
  signed int v39; // ST28_4@21
  signed int v40; // esi@21
  double v41; // st7@21
  signed int v42; // ST28_4@21
  signed int v43; // esi@21
  double v44; // st7@21
  signed int v45; // ST28_4@21
  signed int v46; // esi@21
  double v47; // st7@21
  signed int v48; // ST28_4@21
  signed int v49; // esi@21
  double v50; // st7@21
  signed int v51; // ST28_4@21
  int v52; // eax@23
  int v53; // ecx@24
  bool v54; // sf@24
  unsigned __int8 v55; // of@24
  signed int *v56; // [sp+8h] [bp-10h]@2
  int v57; // [sp+Ch] [bp-Ch]@1
  int v58; // [sp+10h] [bp-8h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 368);
  result = *(_DWORD *)(a1 + 68);
  v58 = *(_DWORD *)(a1 + 368);
  v57 = 0;
  if ( *(_DWORD *)(a1 + 60) > 0 )
  {
    v56 = (signed int *)(result + 16);
    do
    {
      v4 = *v56;
      if ( *v56 < 0 || v4 >= 4 || !*(_DWORD *)(v1 + 4 * v4 + 72) )
      {
        v5 = *(_DWORD *)v1;
        *(_DWORD *)(v5 + 20) = 52;
        *(_DWORD *)(v5 + 24) = v4;
        (*(void (__stdcall **)(int))v5)(v1);
      }
      v6 = *(_DWORD *)(v1 + 4 * v4 + 72);
      switch ( *(_DWORD *)(v1 + 196) )
      {
        case 0:
        case 3:
        case 5:
          if ( !*(_DWORD *)(v2 + 4 * v4 + 12) )
            *(_DWORD *)(v2 + 4 * v4 + 12) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 128);
          v7 = *(char **)(v2 + 4 * v4 + 12);
          v8 = v6 - (_DWORD)v7;
          v9 = 64;
          do
          {
            *(_WORD *)v7 = 8 * *(_WORD *)&v7[v8];
            v7 += 2;
            --v9;
          }
          while ( v9 );
          break;
        case 1:
        case 4:
        case 6:
          if ( !*(_DWORD *)(v2 + 4 * v4 + 12) )
            *(_DWORD *)(v2 + 4 * v4 + 12) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 128);
          v10 = *(_DWORD *)(v2 + 4 * v4 + 12);
          v11 = v10 + 2;
          v12 = v6 - v10;
          v13 = &word_4BE590;
          v14 = v6 + 6;
          v15 = -v10;
          do
          {
            v16 = *(_WORD *)(v11 + v12);
            *(_WORD *)(v11 - 2) = (*v13 * *(_WORD *)(v14 - 6) + 1024) >> 11;
            v17 = v16 * *(__int16 *)((char *)&word_4BE590 + v15 + v11);
            v18 = *(_WORD *)(v14 - 2);
            *(_WORD *)v11 = (v17 + 1024) >> 11;
            v19 = v18 * *(__int16 *)((char *)&word_4BE592 + v15 + v11);
            v20 = *(_WORD *)v14;
            *(_WORD *)(v11 + 2) = (v19 + 1024) >> 11;
            v21 = v20 * *(__int16 *)((char *)&word_4BE594 + v15 + v11);
            v22 = *(_WORD *)(v14 + 2);
            *(_WORD *)(v11 + 4) = (v21 + 1024) >> 11;
            v23 = v22 * *(__int16 *)((char *)&word_4BE596 + v15 + v11);
            v24 = *(_WORD *)(v14 + 4);
            *(_WORD *)(v11 + 6) = (v23 + 1024) >> 11;
            v25 = v24 * *(__int16 *)((char *)&word_4BE598 + v15 + v11);
            v26 = *(_WORD *)(v14 + 6);
            *(_WORD *)(v11 + 8) = (v25 + 1024) >> 11;
            v27 = v26 * *(__int16 *)((char *)&word_4BE59A + v15 + v11);
            v28 = *(_WORD *)(v14 + 8);
            *(_WORD *)(v11 + 10) = (v27 + 1024) >> 11;
            *(_WORD *)(v11 + 12) = (v28 * *(__int16 *)((char *)&word_4BE59C + v15 + v11) + 1024) >> 11;
            v13 += 8;
            v11 += 16;
            v14 += 16;
          }
          while ( (signed int)v13 < (signed int)&flt_4BE610 );
          v2 = v58;
          v1 = a1;
          break;
        case 2:
          if ( !*(_DWORD *)(v2 + 4 * v4 + 32) )
            *(_DWORD *)(v2 + 4 * v4 + 32) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 256);
          v29 = *(_DWORD *)(v2 + 4 * v4 + 32);
          v30 = &dbl_4BE388;
          v31 = v6;
          do
          {
            v32 = *(_WORD *)(v31 + 2);
            v33 = (double)*(_WORD *)v31;
            v34 = v31 + 2;
            v35 = v32;
            v36 = *(_WORD *)(v34 + 2);
            v34 += 10;
            v37 = v29 + 24;
            *(float *)(v37 - 24) = 1.0 / (v33 * *v30 * 1.0 * 8.0);
            v38 = (double)v35;
            v39 = v36;
            v40 = *(_WORD *)(v34 - 6);
            *(float *)(v37 - 20) = 1.0 / (v38 * *v30 * 1.387039845 * 8.0);
            v41 = (double)v39;
            v42 = v40;
            v43 = *(_WORD *)(v34 - 4);
            *(float *)(v37 - 16) = 1.0 / (v41 * *v30 * 1.306562965 * 8.0);
            v44 = (double)v42;
            v45 = v43;
            v46 = *(_WORD *)(v34 - 2);
            *(float *)(v37 - 12) = 1.0 / (v44 * *v30 * 1.175875602 * 8.0);
            v47 = (double)v45;
            v48 = v46;
            v49 = *(_WORD *)v34;
            *(float *)(v37 - 8) = 1.0 / (v47 * *v30 * 1.0 * 8.0);
            *(float *)(v37 - 4) = 1.0 / ((double)v48 * *v30 * 0.785694958 * 8.0);
            v50 = (double)v49 * *v30;
            v51 = *(_WORD *)(v34 + 2);
            ++v30;
            v31 = v34 + 4;
            v29 = v37 + 8;
            *(float *)(v29 - 8) = 1.0 / (v50 * 0.5411961 * 8.0);
            *(float *)(v29 - 4) = 1.0 / ((double)v51 * *(v30 - 1) * 0.275899379 * 8.0);
          }
          while ( (signed int)v30 < (signed int)&qword_4BE3C8 );
          break;
        default:
          v52 = *(_DWORD *)v1;
          *(_DWORD *)(v52 + 20) = 48;
          (*(void (__stdcall **)(int))v52)(v1);
          break;
      }
      v53 = *(_DWORD *)(v1 + 60);
      result = v57 + 1;
      v55 = __OFSUB__(v57 + 1, v53);
      v54 = v57++ + 1 - v53 < 0;
      v56 += 21;
    }
    while ( v54 ^ v55 );
  }
  return result;
}
// 4BE388: using guessed type double dbl_4BE388;
// 4BE3C8: using guessed type __int64 qword_4BE3C8;
// 4BE590: using guessed type __int16 word_4BE590;
// 4BE592: using guessed type __int16 word_4BE592;
// 4BE594: using guessed type __int16 word_4BE594;
// 4BE596: using guessed type __int16 word_4BE596;
// 4BE598: using guessed type __int16 word_4BE598;
// 4BE59A: using guessed type __int16 word_4BE59A;
// 4BE59C: using guessed type __int16 word_4BE59C;
// 4BE610: using guessed type float flt_4BE610;

//----- (0046AB10) --------------------------------------------------------
int __userpurge sub_46AB10@<eax>(signed __int16 *a1@<ebx>, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax@1
  int result; // eax@1
  int v10; // ebp@2
  int v11; // edi@2
  _DWORD *v12; // edx@3
  __int16 *v13; // eax@3
  signed int v14; // esi@3
  int v15; // ecx@4
  int v16; // ecx@4
  _WORD *v17; // eax@4
  int v18; // ebx@4
  int v19; // ecx@4
  int v20; // ecx@4
  int v21; // ecx@4
  int v22; // ecx@4
  int v23; // ecx@4
  int v24; // ecx@5
  char *v25; // edi@5
  int v26; // eax@5
  signed __int16 v27; // dx@6
  __int16 v28; // ax@6
  __int16 v29; // si@6
  signed __int16 v30; // si@7
  int v31; // eax@8
  signed __int16 v32; // ax@10
  signed __int16 v33; // dx@13
  __int16 v34; // ax@13
  __int16 v35; // si@13
  signed __int16 v36; // si@14
  int v37; // eax@15
  signed __int16 v38; // ax@17
  signed __int16 v39; // dx@20
  __int16 v40; // ax@20
  __int16 v41; // si@20
  signed __int16 v42; // si@21
  int v43; // eax@22
  signed __int16 v44; // ax@24
  signed __int16 v45; // dx@27
  __int16 v46; // ax@27
  __int16 v47; // si@27
  signed __int16 v48; // si@28
  int v49; // eax@29
  signed __int16 v50; // ax@31
  bool v51; // sf@34
  unsigned __int8 v52; // of@34
  bool v53; // zf@35
  char *v54; // [sp+4h] [bp-9Ch]@2
  int v55; // [sp+4h] [bp-9Ch]@5
  int v56; // [sp+8h] [bp-98h]@5
  int v57; // [sp+Ch] [bp-94h]@2
  int v58; // [sp+14h] [bp-8Ch]@2
  int v59; // [sp+18h] [bp-88h]@2
  void (__stdcall *v60)(__int16 *); // [sp+1Ch] [bp-84h]@1
  __int16 v61[64]; // [sp+20h] [bp-80h]@2

  v8 = *(_DWORD *)(a2 + 368);
  v60 = *(void (__stdcall **)(__int16 *))(v8 + 8);
  result = *(_DWORD *)(v8 + 4 * *(_DWORD *)(a3 + 16) + 12);
  if ( a8 )
  {
    v10 = a7;
    v58 = result + 6;
    v11 = a5 + 2;
    v54 = (char *)v61 - a5;
    v59 = result - (_DWORD)v61;
    v57 = a8;
    do
    {
      v12 = (_DWORD *)(a4 + 4 * a6 + 8);
      v13 = v61;
      v14 = 2;
      do
      {
        v15 = *(v12 - 2);
        LOWORD(a1) = *(_BYTE *)(v15 + v10);
        v16 = v10 + v15;
        v17 = v13 + 5;
        v18 = (int)(a1 - 64);
        *(v17 - 5) = v18;
        LOWORD(v18) = *(_BYTE *)(v16++ + 1);
        v17 += 5;
        v18 -= 128;
        *(v17 - 9) = v18;
        LOWORD(v18) = *(_BYTE *)(v16++ + 1);
        v17 += 5;
        v18 -= 128;
        *(v17 - 13) = v18;
        LOWORD(v18) = *(_BYTE *)(v16++ + 1);
        v18 -= 128;
        *(v17 - 12) = v18;
        LOWORD(v18) = *(_BYTE *)(v16++ + 1);
        v18 -= 128;
        *(v17 - 11) = v18;
        LOWORD(v18) = *(_BYTE *)(v16++ + 1);
        v18 -= 128;
        *(v17 - 10) = v18;
        LOWORD(v18) = *(_BYTE *)(v16 + 1);
        v18 -= 128;
        *(v17 - 9) = v18;
        *(v17 - 8) = *(_BYTE *)(v16 + 2) - 128;
        v19 = *(v12 - 1);
        LOWORD(v18) = *(_BYTE *)(v19 + v10);
        v20 = v10 + v19;
        v18 -= 128;
        *(v17 - 7) = v18;
        LOWORD(v18) = *(_BYTE *)(v20++ + 1);
        v18 -= 128;
        *(v17 - 6) = v18;
        LOWORD(v18) = *(_BYTE *)(v20++ + 1);
        v18 -= 128;
        *(v17 - 5) = v18;
        LOWORD(v18) = *(_BYTE *)(v20++ + 1);
        v18 -= 128;
        *(v17 - 4) = v18;
        LOWORD(v18) = *(_BYTE *)(v20++ + 1);
        v18 -= 128;
        *(v17 - 3) = v18;
        LOWORD(v18) = *(_BYTE *)(v20++ + 1);
        v18 -= 128;
        *(v17 - 2) = v18;
        LOWORD(v18) = *(_BYTE *)(v20 + 1);
        v18 -= 128;
        *(v17 - 1) = v18;
        *v17 = *(_BYTE *)(v20 + 2) - 128;
        LOWORD(v18) = *(_BYTE *)(*v12 + v10);
        v21 = v10 + *v12;
        v17 += 6;
        v18 -= 128;
        *(v17 - 5) = v18;
        LOWORD(v18) = *(_BYTE *)(v21++ + 1);
        v17 += 5;
        v18 -= 128;
        *(v17 - 9) = v18;
        LOWORD(v18) = *(_BYTE *)(v21++ + 1);
        v17 += 5;
        v18 -= 128;
        *(v17 - 13) = v18;
        LOWORD(v18) = *(_BYTE *)(v21++ + 1);
        v13 = v17 + 1;
        v12 += 4;
        v18 -= 128;
        *(v13 - 13) = v18;
        LOWORD(v18) = *(_BYTE *)(v21++ + 1);
        v18 -= 128;
        *(v13 - 12) = v18;
        LOWORD(v18) = *(_BYTE *)(v21++ + 1);
        v18 -= 128;
        *(v13 - 11) = v18;
        LOWORD(v18) = *(_BYTE *)(v21 + 1);
        v18 -= 128;
        *(v13 - 10) = v18;
        *(v13 - 9) = *(_BYTE *)(v21 + 2) - 128;
        v22 = *(v12 - 3);
        LOWORD(v18) = *(_BYTE *)(v22 + v10);
        v23 = v10 + v22;
        v18 -= 128;
        *(v13 - 8) = v18;
        LOWORD(v18) = *(_BYTE *)(v23++ + 1);
        v18 -= 128;
        *(v13 - 7) = v18;
        LOWORD(v18) = *(_BYTE *)(v23++ + 1);
        v18 -= 128;
        *(v13 - 6) = v18;
        LOWORD(v18) = *(_BYTE *)(v23++ + 1);
        v18 -= 128;
        *(v13 - 5) = v18;
        LOWORD(v18) = *(_BYTE *)(v23++ + 1);
        v18 -= 128;
        *(v13 - 4) = v18;
        LOWORD(v18) = *(_BYTE *)(v23++ + 1);
        v18 -= 128;
        *(v13 - 3) = v18;
        LOWORD(v18) = *(_BYTE *)(v23 + 1);
        a1 = (signed __int16 *)(v18 - 128);
        *(v13 - 2) = (signed __int16)a1;
        *(v13 - 1) = *(_BYTE *)(v23 + 2) - 128;
        --v14;
      }
      while ( v14 );
      v60(v61);
      a1 = (signed __int16 *)v58;
      v24 = v11;
      v25 = v54;
      v26 = 0;
      v56 = 0;
      v55 = (int)&v54[v59];
      do
      {
        v27 = *(a1 - 3);
        v28 = v61[v26];
        v29 = *(a1 - 3) >> 1;
        if ( v28 >= 0 )
        {
          v32 = v29 + v28;
          if ( v32 < v27 )
            LOWORD(v31) = 0;
          else
            LOWORD(v31) = (signed __int16)v31 / v27;
        }
        else
        {
          v30 = v29 - v28;
          if ( v30 < v27 )
            LOWORD(v31) = 0;
          else
            v31 = -(v30 / v27);
        }
        *(_WORD *)(v24 - 2) = v31;
        v33 = *(_WORD *)(v55 + v24);
        v34 = *(_WORD *)&v25[v24];
        v35 = *(_WORD *)(v55 + v24) >> 1;
        if ( v34 >= 0 )
        {
          v38 = v35 + v34;
          if ( v38 < v33 )
            LOWORD(v37) = 0;
          else
            LOWORD(v37) = (signed __int16)v37 / v33;
        }
        else
        {
          v36 = v35 - v34;
          if ( v36 < v33 )
            LOWORD(v37) = 0;
          else
            v37 = -(v36 / v33);
        }
        v39 = *(a1 - 1);
        *(_WORD *)v24 = v37;
        v40 = *(_WORD *)&v25[v24 + 2];
        v41 = v39 >> 1;
        if ( v40 >= 0 )
        {
          v44 = v41 + v40;
          if ( v44 < v39 )
            LOWORD(v43) = 0;
          else
            LOWORD(v43) = (signed __int16)v43 / v39;
        }
        else
        {
          v42 = v41 - v40;
          if ( v42 < v39 )
            LOWORD(v43) = 0;
          else
            v43 = -(v42 / v39);
        }
        v45 = *a1;
        *(_WORD *)(v24 + 2) = v43;
        v46 = *(_WORD *)&v25[v24 + 4];
        v47 = v45 >> 1;
        if ( v46 >= 0 )
        {
          v50 = v47 + v46;
          if ( v50 < v45 )
            LOWORD(v49) = 0;
          else
            LOWORD(v49) = (signed __int16)v49 / v45;
        }
        else
        {
          v48 = v47 - v46;
          if ( v48 < v45 )
            LOWORD(v49) = 0;
          else
            v49 = -(v48 / v45);
        }
        *(_WORD *)(v24 + 4) = v49;
        v26 = v56 + 4;
        v24 += 8;
        a1 += 4;
        v52 = __OFSUB__(v56 + 4, 64);
        v51 = v56 - 60 < 0;
        v56 += 4;
      }
      while ( v51 ^ v52 );
      v10 += 8;
      result = v57 - 1;
      v53 = v57 == 1;
      v54 = v25 - 128;
      v11 = v24;
      --v57;
    }
    while ( !v53 );
  }
  return result;
}
// 46AB10: using guessed type __int16 var_80[64];

//----- (0046AFB0) --------------------------------------------------------
int __stdcall sub_46AFB0(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  int result; // eax@1
  int v9; // ebx@2
  int v10; // edi@2
  int v11; // eax@3
  int v12; // ST14_4@3
  _BYTE *v13; // eax@3
  int v14; // ST14_4@3
  int v15; // ST14_4@3
  int v16; // ST14_4@3
  int v17; // ST14_4@3
  int v18; // ST14_4@3
  int v19; // ST14_4@3
  _BYTE *v20; // eax@3
  int v21; // ST14_4@3
  int v22; // ST14_4@3
  int v23; // ST14_4@3
  int v24; // ST14_4@3
  int v25; // ST14_4@3
  int v26; // ST14_4@3
  _BYTE *v27; // eax@3
  int v28; // ST14_4@3
  int v29; // ST14_4@3
  int v30; // ST14_4@3
  int v31; // ST14_4@3
  int v32; // ST14_4@3
  int v33; // ST14_4@3
  int v34; // ST14_4@3
  _BYTE *v35; // eax@3
  int v36; // ST14_4@3
  int v37; // ST14_4@3
  int v38; // ST14_4@3
  int v39; // ST14_4@3
  int v40; // ST14_4@3
  int v41; // ST14_4@3
  int v42; // ST14_4@3
  _BYTE *v43; // eax@3
  int v44; // ST14_4@3
  int v45; // ST14_4@3
  int v46; // ST14_4@3
  int v47; // ST14_4@3
  int v48; // ST14_4@3
  int v49; // ST14_4@3
  int v50; // ST14_4@3
  int v51; // eax@3
  int v52; // ST14_4@3
  _BYTE *v53; // eax@3
  int v54; // ST14_4@3
  int v55; // ST14_4@3
  int v56; // ST14_4@3
  int v57; // ST14_4@3
  int v58; // ST14_4@3
  int v59; // ST14_4@3
  _BYTE *v60; // eax@3
  int v61; // ST14_4@3
  int v62; // ST14_4@3
  int v63; // ST14_4@3
  int v64; // ST14_4@3
  int v65; // ST14_4@3
  int v66; // esi@3
  int v67; // ST14_4@3
  _BYTE *v68; // eax@3
  int v69; // ST14_4@3
  int v70; // ST14_4@3
  int v71; // ST14_4@3
  int v72; // ST14_4@3
  int v73; // ST14_4@3
  int v74; // ST14_4@3
  int v75; // esi@3
  signed int v76; // ebp@3
  double v77; // st7@4
  signed __int64 v78; // rax@4
  double v79; // st7@4
  signed __int64 v80; // rax@4
  double v81; // st7@4
  double v82; // st7@4
  signed __int64 v83; // rax@4
  double v84; // st7@4
  signed __int64 v85; // rax@4
  int v86; // [sp+4h] [bp-124h]@2
  char *v87; // [sp+8h] [bp-120h]@2
  char *v88; // [sp+Ch] [bp-11Ch]@2
  char *v89; // [sp+10h] [bp-118h]@2
  char *v90; // [sp+14h] [bp-114h]@2
  char *v91; // [sp+18h] [bp-110h]@2
  int v92; // [sp+1Ch] [bp-10Ch]@2
  char *v93; // [sp+20h] [bp-108h]@2
  void (__stdcall *v94)(float *); // [sp+24h] [bp-104h]@1
  float v95; // [sp+28h] [bp-100h]@2
  float v96; // [sp+2Ch] [bp-FCh]@2
  float v97; // [sp+30h] [bp-F8h]@2
  float v98; // [sp+34h] [bp-F4h]@2
  float v99; // [sp+38h] [bp-F0h]@2
  float v100; // [sp+3Ch] [bp-ECh]@2
  float v101; // [sp+40h] [bp-E8h]@3
  float v102; // [sp+44h] [bp-E4h]@3
  float v103; // [sp+48h] [bp-E0h]@3
  float v104; // [sp+4Ch] [bp-DCh]@3
  float v105; // [sp+50h] [bp-D8h]@3
  float v106; // [sp+54h] [bp-D4h]@3
  float v107; // [sp+58h] [bp-D0h]@3
  float v108; // [sp+5Ch] [bp-CCh]@3
  float v109; // [sp+60h] [bp-C8h]@3
  float v110; // [sp+64h] [bp-C4h]@3
  float v111; // [sp+68h] [bp-C0h]@3
  float v112; // [sp+6Ch] [bp-BCh]@3
  float v113; // [sp+70h] [bp-B8h]@3
  float v114; // [sp+74h] [bp-B4h]@3
  float v115; // [sp+78h] [bp-B0h]@3
  float v116; // [sp+7Ch] [bp-ACh]@3
  float v117; // [sp+80h] [bp-A8h]@3
  float v118; // [sp+84h] [bp-A4h]@3
  float v119; // [sp+88h] [bp-A0h]@3
  float v120; // [sp+8Ch] [bp-9Ch]@3
  float v121; // [sp+90h] [bp-98h]@3
  float v122; // [sp+94h] [bp-94h]@3
  float v123; // [sp+98h] [bp-90h]@3
  float v124; // [sp+9Ch] [bp-8Ch]@3
  float v125; // [sp+A0h] [bp-88h]@3
  float v126; // [sp+A4h] [bp-84h]@3
  float v127; // [sp+A8h] [bp-80h]@3
  float v128; // [sp+ACh] [bp-7Ch]@3
  float v129; // [sp+B0h] [bp-78h]@3
  float v130; // [sp+B4h] [bp-74h]@3
  float v131; // [sp+B8h] [bp-70h]@3
  float v132; // [sp+BCh] [bp-6Ch]@3
  float v133; // [sp+C0h] [bp-68h]@3
  float v134; // [sp+C4h] [bp-64h]@3
  float v135; // [sp+C8h] [bp-60h]@3
  float v136; // [sp+CCh] [bp-5Ch]@3
  float v137; // [sp+D0h] [bp-58h]@3
  float v138; // [sp+D4h] [bp-54h]@3
  float v139; // [sp+D8h] [bp-50h]@3
  float v140; // [sp+DCh] [bp-4Ch]@3
  float v141; // [sp+E0h] [bp-48h]@3
  float v142; // [sp+E4h] [bp-44h]@3
  float v143; // [sp+E8h] [bp-40h]@3
  float v144; // [sp+ECh] [bp-3Ch]@3
  float v145; // [sp+F0h] [bp-38h]@3
  float v146; // [sp+F4h] [bp-34h]@3
  float v147; // [sp+F8h] [bp-30h]@3
  float v148; // [sp+FCh] [bp-2Ch]@3
  float v149; // [sp+100h] [bp-28h]@3
  float v150; // [sp+104h] [bp-24h]@3
  float v151; // [sp+108h] [bp-20h]@3
  float v152; // [sp+10Ch] [bp-1Ch]@3
  float v153; // [sp+110h] [bp-18h]@3
  float v154; // [sp+114h] [bp-14h]@3
  float v155; // [sp+118h] [bp-10h]@3
  float v156; // [sp+11Ch] [bp-Ch]@3
  float v157; // [sp+120h] [bp-8h]@3
  float v158; // [sp+124h] [bp-4h]@3

  v7 = *(_DWORD *)(a1 + 368);
  v94 = *(void (__stdcall **)(float *))(v7 + 28);
  result = *(_DWORD *)(v7 + 4 * *(_DWORD *)(a2 + 16) + 32);
  if ( a7 )
  {
    v92 = result + 8;
    v90 = (char *)&v95 - result;
    v87 = (char *)&v96 - result;
    v88 = (char *)&v97 - result;
    v89 = (char *)&v98 - result;
    v9 = a6;
    v91 = (char *)&v99 - result;
    v93 = (char *)&v100 - result;
    v10 = a4 + 4;
    v86 = a7;
    do
    {
      v11 = *(_DWORD *)(a3 + 4 * a5);
      v12 = *(_BYTE *)(v11 + v9) - 128;
      v13 = (_BYTE *)(v9 + v11 + 1);
      v95 = (double)v12;
      v14 = *v13++ - 128;
      v96 = (double)v14;
      v15 = *v13++ - 128;
      v97 = (double)v15;
      v16 = *v13++ - 128;
      v98 = (double)v16;
      v17 = *v13++ - 128;
      v99 = (double)v17;
      v18 = *v13++ - 128;
      v100 = (double)v18;
      v101 = (double)(*v13 - 128);
      v19 = v13[1] - 128;
      v20 = (_BYTE *)(v9 + *(_DWORD *)(a3 + 4 * a5 + 4));
      v102 = (double)v19;
      v21 = *v20++ - 128;
      v103 = (double)v21;
      v22 = *v20++ - 128;
      v104 = (double)v22;
      v23 = *v20++ - 128;
      v105 = (double)v23;
      v24 = *v20++ - 128;
      v106 = (double)v24;
      v107 = (double)(*v20 - 128);
      v25 = v20[1] - 128;
      v20 += 2;
      v108 = (double)v25;
      v109 = (double)(*v20 - 128);
      v26 = v20[1] - 128;
      v27 = (_BYTE *)(v9 + *(_DWORD *)(a3 + 4 * a5 + 8));
      v110 = (double)v26;
      v28 = *v27++ - 128;
      v111 = (double)v28;
      v29 = *v27++ - 128;
      v112 = (double)v29;
      v30 = *v27++ - 128;
      v113 = (double)v30;
      v31 = *v27++ - 128;
      v114 = (double)v31;
      v32 = *v27++ - 128;
      v115 = (double)v32;
      v33 = *v27++ - 128;
      v116 = (double)v33;
      v117 = (double)(*v27 - 128);
      v34 = v27[1] - 128;
      v35 = (_BYTE *)(v9 + *(_DWORD *)(a3 + 4 * a5 + 12));
      v118 = (double)v34;
      v36 = *v35++ - 128;
      v119 = (double)v36;
      v37 = *v35++ - 128;
      v120 = (double)v37;
      v38 = *v35++ - 128;
      v121 = (double)v38;
      v39 = *v35++ - 128;
      v122 = (double)v39;
      v40 = *v35++ - 128;
      v123 = (double)v40;
      v41 = *v35++ - 128;
      v124 = (double)v41;
      v125 = (double)(*v35 - 128);
      v42 = v35[1] - 128;
      v43 = (_BYTE *)(v9 + *(_DWORD *)(a3 + 4 * a5 + 16));
      v126 = (double)v42;
      v44 = *v43++ - 128;
      v127 = (double)v44;
      v45 = *v43++ - 128;
      v128 = (double)v45;
      v46 = *v43++ - 128;
      v129 = (double)v46;
      v47 = *v43++ - 128;
      v130 = (double)v47;
      v48 = *v43++ - 128;
      v131 = (double)v48;
      v49 = *v43++ - 128;
      v132 = (double)v49;
      v133 = (double)(*v43 - 128);
      v50 = v43[1] - 128;
      v51 = *(_DWORD *)(a3 + 4 * a5 + 20);
      v134 = (double)v50;
      v52 = *(_BYTE *)(v51 + v9) - 128;
      v53 = (_BYTE *)(v9 + v51 + 1);
      v135 = (double)v52;
      v54 = *v53++ - 128;
      v136 = (double)v54;
      v55 = *v53++ - 128;
      v137 = (double)v55;
      v56 = *v53++ - 128;
      v138 = (double)v56;
      v57 = *v53++ - 128;
      v139 = (double)v57;
      v58 = *v53++ - 128;
      v140 = (double)v58;
      v141 = (double)(*v53 - 128);
      v59 = v53[1] - 128;
      v60 = (_BYTE *)(v9 + *(_DWORD *)(a3 + 4 * a5 + 24));
      v142 = (double)v59;
      v61 = *v60++ - 128;
      v143 = (double)v61;
      v62 = *v60++ - 128;
      v144 = (double)v62;
      v63 = *v60++ - 128;
      v145 = (double)v63;
      v64 = *v60++ - 128;
      v146 = (double)v64;
      v65 = *v60++ - 128;
      v147 = (double)v65;
      v66 = *v60++ - 128;
      v148 = (double)v66;
      v149 = (double)(*v60 - 128);
      v67 = v60[1] - 128;
      v68 = (_BYTE *)(v9 + *(_DWORD *)(a3 + 4 * a5 + 28));
      v150 = (double)v67;
      v69 = *v68++ - 128;
      v151 = (double)v69;
      v70 = *v68++ - 128;
      v152 = (double)v70;
      v71 = *v68++ - 128;
      v153 = (double)v71;
      v72 = *v68++ - 128;
      v154 = (double)v72;
      v73 = *v68++ - 128;
      v155 = (double)v73;
      v74 = *v68++ - 128;
      v156 = (double)v74;
      v157 = (double)(*v68 - 128);
      v158 = (double)(v68[1] - 128);
      v94(&v95);
      v75 = v92;
      v76 = 0;
      do
      {
        v77 = *(&v96 + v76) * *(float *)(v75 - 4) + 16384.5;
        *(_WORD *)(v10 - 4) = (unsigned __int64)(signed __int64)(*(&v95 + v76) * *(float *)(v75 - 8) + 16384.5) - 0x4000;
        v78 = (signed __int64)v77;
        v79 = *(float *)&v90[v75] * *(float *)v75 + 16384.5;
        *(_WORD *)(v10 - 2) = v78 - 0x4000;
        v80 = (signed __int64)v79;
        v81 = *(float *)&v87[v75] * *(float *)(v75 + 4) + 16384.5;
        *(_WORD *)v10 = v80 - 0x4000;
        *(_WORD *)(v10 + 2) = (unsigned __int64)(signed __int64)v81 - 0x4000;
        v82 = *(float *)&v89[v75] * *(float *)(v75 + 12) + 16384.5;
        *(_WORD *)(v10 + 4) = (unsigned __int64)(signed __int64)(*(float *)&v88[v75] * *(float *)(v75 + 8) + 16384.5)
                            - 0x4000;
        v83 = (signed __int64)v82;
        v84 = *(float *)&v91[v75] * *(float *)(v75 + 16) + 16384.5;
        *(_WORD *)(v10 + 6) = v83 - 0x4000;
        *(_WORD *)(v10 + 8) = (unsigned __int64)(signed __int64)v84 - 0x4000;
        v85 = (signed __int64)(*(float *)&v93[v75] * *(float *)(v75 + 20) + 16384.5);
        v76 += 8;
        v10 += 16;
        v75 += 32;
        *(_WORD *)(v10 - 6) = v85 - 0x4000;
      }
      while ( v76 < 64 );
      v9 += 8;
      result = v86-- - 1;
    }
    while ( v86 );
  }
  return result;
}
// 4BE610: using guessed type float flt_4BE610;

//----- (0046B7C0) --------------------------------------------------------
_DWORD *__stdcall sub_46B7C0(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // eax@5
  _DWORD *result; // eax@6
  signed int v5; // ecx@6

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 48);
  v2 = *(_DWORD *)(a1 + 196);
  *(_DWORD *)(a1 + 368) = v1;
  *(_DWORD *)v1 = sub_46A760;
  switch ( v2 )
  {
    case 0:
    case 3:
    case 5:
      *(_DWORD *)(v1 + 4) = sub_46AB10;
      *(_DWORD *)(v1 + 8) = sub_473C80;
      break;
    case 1:
    case 4:
    case 6:
      *(_DWORD *)(v1 + 4) = sub_46AB10;
      *(_DWORD *)(v1 + 8) = sub_473A20;
      break;
    case 2:
      *(_DWORD *)(v1 + 4) = sub_46AFB0;
      *(_DWORD *)(v1 + 28) = sub_4737F0;
      break;
    default:
      v3 = *(_DWORD *)a1;
      *(_DWORD *)(v3 + 20) = 48;
      (*(void (__stdcall **)(int))v3)(a1);
      break;
  }
  result = (_DWORD *)(v1 + 32);
  v5 = 4;
  do
  {
    *(result - 5) = 0;
    *result = 0;
    ++result;
    --v5;
  }
  while ( v5 );
  return result;
}
// 4737F0: using guessed type int __stdcall sub_4737F0(int);

//----- (0046BAD0) --------------------------------------------------------
int __stdcall sub_46BAD0(int a1, int a2, int *a3, unsigned int a4, int a5, unsigned int *a6, unsigned int a7)
{
  int v7; // esi@1
  int v8; // ebx@1
  int result; // eax@1
  unsigned int *v10; // edi@1
  int v11; // edx@2
  int v12; // ecx@3
  unsigned int v13; // ebp@3
  signed int v14; // eax@7
  signed int v15; // edi@8
  int v16; // ebp@9
  int v17; // edx@12
  bool v18; // sf@12
  unsigned __int8 v19; // of@12
  int v20; // ecx@13
  int v21; // eax@13
  int v22; // edi@18
  int v23; // ebp@18
  int v24; // ecx@21
  int v25; // ebp@25
  int v26; // ebp@25
  int v27; // [sp+14h] [bp-14h]@3
  unsigned int v28; // [sp+14h] [bp-14h]@18
  int *v29; // [sp+18h] [bp-10h]@7
  int *v30; // [sp+18h] [bp-10h]@17
  int v31; // [sp+1Ch] [bp-Ch]@19
  int v32; // [sp+20h] [bp-8h]@18
  int v33; // [sp+24h] [bp-4h]@1
  int v34; // [sp+2Ch] [bp+4h]@6
  int v35; // [sp+2Ch] [bp+4h]@16

  v7 = a1;
  v8 = *(_DWORD *)(a1 + 348);
  result = 3 * *(_DWORD *)(a1 + 244);
  v10 = a6;
  v33 = 3 * *(_DWORD *)(a1 + 244);
  while ( *v10 < a7 )
  {
    v11 = *a3;
    if ( *a3 >= a4 )
    {
      result = *(_DWORD *)(v8 + 48);
      if ( result )
        return result;
      if ( *(_DWORD *)(v8 + 52) < *(_DWORD *)(v8 + 60) )
      {
        v35 = 0;
        if ( *(_DWORD *)(v7 + 60) > 0 )
        {
          v30 = (int *)(v8 + 8);
          do
          {
            v22 = *(_DWORD *)(v8 + 52);
            v23 = *v30;
            v32 = *(_DWORD *)(v8 + 60);
            v28 = *(_DWORD *)(v7 + 28);
            if ( v22 < *(_DWORD *)(v8 + 60) )
            {
              v31 = v22 - 1;
              do
                sub_452740(v23, v31, v23, v22++, 1, v28);
              while ( v22 < v32 );
            }
            v24 = *(_DWORD *)(v7 + 60);
            v19 = __OFSUB__(v35 + 1, v24);
            v18 = v35++ + 1 - v24 < 0;
            ++v30;
          }
          while ( v18 ^ v19 );
          v10 = a6;
        }
        *(_DWORD *)(v8 + 52) = *(_DWORD *)(v8 + 60);
      }
    }
    else
    {
      v12 = *(_DWORD *)(v8 + 52);
      v13 = *(_DWORD *)(v8 + 60) - v12;
      v27 = *(_DWORD *)(v8 + 60) - v12;
      if ( v13 >= a4 - v11 )
      {
        v27 = a4 - v11;
        v13 = a4 - v11;
      }
      (*(void (__stdcall **)(int, int, int, int, unsigned int))(*(_DWORD *)(v7 + 360) + 4))(
        v7,
        a2 + 4 * v11,
        v8 + 8,
        v12,
        v13);
      if ( *(_DWORD *)(v8 + 48) == *(_DWORD *)(v7 + 32) )
      {
        v34 = 0;
        if ( *(_DWORD *)(v7 + 60) > 0 )
        {
          v14 = *(_DWORD *)(v7 + 244);
          v29 = (int *)(v8 + 8);
          do
          {
            v15 = 1;
            if ( v14 >= 1 )
            {
              v16 = -1;
              do
              {
                sub_452740(*v29, 0, *v29, v16, 1, *(_DWORD *)(v7 + 28));
                v14 = *(_DWORD *)(v7 + 244);
                ++v15;
                --v16;
              }
              while ( v15 <= v14 );
              v13 = v27;
            }
            v17 = *(_DWORD *)(v7 + 60);
            v19 = __OFSUB__(v34 + 1, v17);
            v18 = v34++ + 1 - v17 < 0;
            ++v29;
          }
          while ( v18 ^ v19 );
        }
      }
      v20 = *(_DWORD *)(v8 + 52);
      v10 = a6;
      *a3 += v13;
      v21 = *(_DWORD *)(v8 + 48) - v13;
      *(_DWORD *)(v8 + 52) = v13 + v20;
      *(_DWORD *)(v8 + 48) = v21;
    }
    result = *(_DWORD *)(v8 + 52);
    if ( result == *(_DWORD *)(v8 + 60) )
    {
      (*(void (__stdcall **)(int, int, _DWORD, int, unsigned int))(*(_DWORD *)(v7 + 364) + 4))(
        v7,
        v8 + 8,
        *(_DWORD *)(v8 + 56),
        a5,
        *v10);
      v25 = *(_DWORD *)(v8 + 56);
      ++*v10;
      result = *(_DWORD *)(v7 + 244);
      v26 = result + v25;
      *(_DWORD *)(v8 + 56) = v26;
      if ( v26 >= v33 )
        *(_DWORD *)(v8 + 56) = 0;
      if ( *(_DWORD *)(v8 + 52) >= v33 )
        *(_DWORD *)(v8 + 52) = 0;
      *(_DWORD *)(v8 + 60) = result + *(_DWORD *)(v8 + 52);
    }
  }
  return result;
}

//----- (0046BCE0) --------------------------------------------------------
int __stdcall sub_46BCE0(int a1)
{
  int v1; // ebp@1
  int v2; // ebx@1
  int v3; // edi@1
  int result; // eax@1
  int v5; // edx@1
  unsigned int v6; // esi@2
  int v7; // ecx@2
  int v8; // eax@4
  _DWORD *v9; // ecx@5
  char *v10; // edx@5
  int v11; // esi@5
  int v12; // ecx@7
  bool v13; // sf@7
  unsigned __int8 v14; // of@7
  char *v15; // [sp+1Ch] [bp-1Ch]@2
  int v16; // [sp+20h] [bp-18h]@2
  int v17; // [sp+24h] [bp-14h]@5
  int v18; // [sp+28h] [bp-10h]@1
  char **v19; // [sp+2Ch] [bp-Ch]@2
  int v20; // [sp+34h] [bp-4h]@2
  int v21; // [sp+3Ch] [bp+4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 244);
  v3 = *(_DWORD *)(a1 + 348);
  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 20 * v2 * *(_DWORD *)(a1 + 60));
  v5 = *(_DWORD *)(a1 + 68);
  v21 = result;
  v18 = 0;
  if ( *(_DWORD *)(v1 + 60) > 0 )
  {
    v6 = 12 * v2;
    v20 = 20 * v2;
    v7 = v5 + 8;
    v16 = v5 + 8;
    v15 = (char *)(result + 4 * v2);
    v19 = (char **)(v3 + 8);
    while ( 1 )
    {
      v8 = (*(int (__fastcall **)(int, int, int, signed int, int, int))(*(_DWORD *)(v1 + 4) + 8))(
             v7,
             8 * *(_DWORD *)(v1 + 240) * *(_DWORD *)(v7 + 20) % *(_DWORD *)v7,
             v1,
             1,
             8 * *(_DWORD *)(v1 + 240) * *(_DWORD *)(v7 + 20) / *(_DWORD *)v7,
             3 * v2);
      qmemcpy(v15, (const void *)v8, v6);
      if ( v2 > 0 )
      {
        v9 = (_DWORD *)(v21 + 16 * v2);
        v10 = (char *)(v8 + 8 * v2);
        v11 = v21 - v8;
        v17 = v2;
        do
        {
          *(_DWORD *)(v11 + v8) = *(_DWORD *)v10;
          *v9 = *(_DWORD *)v8;
          v10 += 4;
          v8 += 4;
          ++v9;
          --v17;
        }
        while ( v17 );
      }
      *v19 = v15;
      v15 += v20;
      result = v18 + 1;
      ++v19;
      v12 = *(_DWORD *)(v1 + 60);
      v14 = __OFSUB__(v18 + 1, v12);
      v13 = v18 + 1 - v12 < 0;
      v21 += v20;
      ++v18;
      v16 += 84;
      if ( !(v13 ^ v14) )
        break;
      v7 = v16;
      v6 = 12 * v2;
    }
  }
  return result;
}

//----- (0046BE20) --------------------------------------------------------
int __stdcall sub_46BE20(int a1, int a2)
{
  int v2; // eax@2
  int result; // eax@3
  int v4; // edx@3
  int v5; // edx@5
  int v6; // ecx@5
  int v7; // ebp@5
  int v8; // edi@6
  _DWORD *v9; // ebx@6

  if ( a2 )
  {
    v2 = *(_DWORD *)a1;
    *(_DWORD *)(v2 + 20) = 4;
    (*(void (__stdcall **)(int))v2)(a1);
  }
  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 64);
  v4 = *(_DWORD *)(*(_DWORD *)(a1 + 364) + 8);
  *(_DWORD *)(a1 + 348) = result;
  *(_DWORD *)result = sub_46B870;
  if ( v4 )
  {
    *(_DWORD *)(result + 4) = sub_46BAD0;
    result = sub_46BCE0(a1);
  }
  else
  {
    v5 = *(_DWORD *)(a1 + 60);
    v6 = *(_DWORD *)(a1 + 68);
    v7 = 0;
    *(_DWORD *)(result + 4) = sub_46B8C0;
    if ( v5 > 0 )
    {
      v8 = v6 + 8;
      v9 = (_DWORD *)(result + 8);
      do
      {
        *v9 = (*(int (__fastcall **)(_DWORD, int, int, signed int, int, _DWORD))(*(_DWORD *)(a1 + 4) + 8))(
                *(_DWORD *)(a1 + 4),
                8 * *(_DWORD *)(a1 + 240) * *(_DWORD *)(v8 + 20) % *(_DWORD *)v8,
                a1,
                1,
                8 * *(_DWORD *)(a1 + 240) * *(_DWORD *)(v8 + 20) / *(_DWORD *)v8,
                *(_DWORD *)(a1 + 244));
        result = *(_DWORD *)(a1 + 60);
        ++v7;
        ++v9;
        v8 += 84;
      }
      while ( v7 < result );
    }
  }
  return result;
}
// 46B870: using guessed type int __stdcall sub_46B870(int, int);
// 46B8C0: using guessed type int __stdcall sub_46B8C0(int, int, int, int, int, int, int);

//----- (0046BEE0) --------------------------------------------------------
void __userpurge sub_46BEE0(int a1@<ebx>, int a2, int a3, int a4, int a5)
{
  unsigned int v5; // ebp@1
  int i; // esi@2
  char *v7; // edi@3
  int v8; // eax@3

  v5 = a5 - a4;
  if ( a5 - a4 > 0 )
  {
    for ( i = 0; i < a3; ++i )
    {
      v7 = (char *)(a4 + *(_DWORD *)(a2 + 4 * i));
      LOBYTE(a1) = *(v7 - 1);
      BYTE1(a1) = *(v7 - 1);
      v8 = a1 << 16;
      LOWORD(v8) = a1;
      memset32(v7, v8, v5 >> 2);
      memset(&v7[4 * (v5 >> 2)], a1, v5 & 3);
    }
  }
}

//----- (0046BFD0) --------------------------------------------------------
void __stdcall sub_46BFD0(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // ebp@1
  int v6; // edx@1
  int v7; // ecx@1
  int v8; // edi@3
  int v9; // ebx@5
  _DWORD *v10; // edx@6
  _BYTE *v11; // eax@7
  int v12; // ecx@8
  int v13; // [sp+10h] [bp-1Ch]@1
  int v14; // [sp+14h] [bp-18h]@4
  int v15; // [sp+18h] [bp-14h]@1
  int v16; // [sp+1Ch] [bp-10h]@1
  int v17; // [sp+20h] [bp-Ch]@1
  signed int v18; // [sp+24h] [bp-8h]@1
  int v19; // [sp+28h] [bp-4h]@1
  int v20; // [sp+30h] [bp+4h]@6
  _DWORD *v21; // [sp+34h] [bp+8h]@2
  int v22; // [sp+38h] [bp+Ch]@3

  v13 = 8 * *(_DWORD *)(a2 + 28);
  v4 = *(_DWORD *)(a1 + 240) / *(_DWORD *)(a2 + 8);
  v5 = *(_DWORD *)(a1 + 244) / *(_DWORD *)(a2 + 12);
  v18 = v4 * v5;
  v17 = v4 * v5 / 2;
  v16 = *(_DWORD *)(a1 + 244) / *(_DWORD *)(a2 + 12);
  sub_46BEE0(a3, a3, *(_DWORD *)(a1 + 244), *(_DWORD *)(a1 + 28), v13 * v4);
  v6 = *(_DWORD *)(a2 + 12);
  v7 = 0;
  v15 = 0;
  v19 = *(_DWORD *)(a2 + 12);
  if ( v6 > 0 )
  {
    v21 = (_DWORD *)a3;
    do
    {
      v22 = *(_DWORD *)(a4 + 4 * v7);
      v8 = 0;
      if ( v13 )
      {
        v14 = v13;
        do
        {
          v9 = 0;
          if ( v5 > 0 )
          {
            v10 = v21;
            v20 = v5;
            do
            {
              v11 = (_BYTE *)(v8 + *v10);
              if ( v4 > 0 )
              {
                v12 = v4;
                do
                {
                  v9 += *v11++;
                  --v12;
                }
                while ( v12 );
                v5 = v16;
              }
              ++v10;
              --v20;
            }
            while ( v20 );
          }
          v8 += v4;
          *(_BYTE *)(++v22 - 1) = (v9 + v17) / v18;
          --v14;
        }
        while ( v14 );
        v6 = v19;
        v7 = v15;
      }
      ++v7;
      v21 += v5;
      v15 = v7;
    }
    while ( v7 < v6 );
  }
}

//----- (0046C150) --------------------------------------------------------
int __userpurge sub_46C150@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4)
{
  int v4; // ebx@1
  char *v5; // esi@1
  int v6; // edi@1
  int result; // eax@1
  char *v8; // edx@2
  int v9; // ebx@2
  _BYTE *v10; // ecx@3
  int v11; // eax@3
  int v12; // esi@3
  bool v13; // zf@6
  char *v14; // [sp+Ch] [bp-Ch]@2
  int v15; // [sp+10h] [bp-8h]@1
  int v16; // [sp+14h] [bp-4h]@2
  int v17; // [sp+1Ch] [bp+4h]@2

  v4 = a2;
  v5 = (char *)a3;
  v6 = 8 * *(_DWORD *)(a2 + 28);
  v15 = 8 * *(_DWORD *)(a2 + 28);
  sub_46BEE0(a2, a3, *(_DWORD *)(a1 + 244), *(_DWORD *)(a1 + 28), 16 * *(_DWORD *)(a2 + 28));
  result = *(_DWORD *)(v4 + 12);
  if ( result > 0 )
  {
    v8 = v5;
    v9 = a4 - (_DWORD)v5;
    v14 = v5;
    v16 = a4 - (_DWORD)v5;
    v17 = result;
    do
    {
      v10 = *(_BYTE **)&v8[v9];
      v11 = *(_DWORD *)v8;
      v12 = 0;
      if ( v6 )
      {
        do
        {
          *v10++ = (*(_BYTE *)(v11 + 1) + v12 + *(_BYTE *)v11) >> 1;
          v12 ^= 1u;
          v11 += 2;
          --v6;
        }
        while ( v6 );
        v8 = v14;
        v6 = v15;
        v9 = v16;
      }
      v8 += 4;
      result = v17 - 1;
      v13 = v17 == 1;
      v14 = v8;
      --v17;
    }
    while ( !v13 );
  }
  return result;
}

//----- (0046C1F0) --------------------------------------------------------
int __userpurge sub_46C1F0@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4, int a5)
{
  int v5; // eax@1
  int result; // eax@1
  signed int v7; // edx@2
  unsigned __int64 *v8; // esi@2
  int v9; // edi@2
  __m64 v10; // mm1@3
  int v11; // [sp+Ch] [bp-8h]@1
  int v12; // [sp+10h] [bp-4h]@1

  v5 = *(_DWORD *)(a2 + 28);
  v11 = 8 * v5;
  v12 = *(_DWORD *)(a2 + 12);
  sub_46BEE0(a3, a4, *(_DWORD *)(a1 + 244), *(_DWORD *)(a1 + 28), 16 * v5);
  result = 0;
  do
  {
    v7 = v11;
    v8 = *(unsigned __int64 **)(a5 + 4 * result);
    v9 = *(_DWORD *)(a4 + 4 * result);
    do
    {
      v7 -= 8;
      v10 = _m_packuswb(
              _m_psrlw(
                _m_paddw(
                  _m_paddw(_m_psrlw(*(__m64 *)v9, 8u), _m_pand(*(__m64 *)v9, (__m64)qword_4BE628)),
                  (__m64)qword_4BE618),
                1u),
              _m_psrlw(
                _m_paddw(
                  _m_paddw(_m_psrlw(*(__m64 *)(v9 + 8), 8u), _m_pand(*(__m64 *)(v9 + 8), (__m64)qword_4BE628)),
                  (__m64)qword_4BE618),
                1u));
      v9 += 16;
      *v8 = v10.m64_u64;
      ++v8;
    }
    while ( v7 >= 8 );
    ++result;
  }
  while ( result < v12 );
  _m_femms();
  return result;
}
// 4BE618: using guessed type __int64 qword_4BE618;
// 4BE628: using guessed type __int64 qword_4BE628;

//----- (0046C2A0) --------------------------------------------------------
void __userpurge sub_46C2A0(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4)
{
  int v4; // esi@1
  int v5; // edi@1
  int v6; // ebx@1
  int v7; // ebp@1
  int v8; // ecx@1
  int v9; // edx@2
  _BYTE *v10; // esi@3
  int v11; // eax@3
  signed int v12; // edi@3
  int v13; // ecx@4
  int v14; // [sp+10h] [bp-18h]@4
  int v15; // [sp+14h] [bp-14h]@2
  int v16; // [sp+18h] [bp-10h]@1
  int v17; // [sp+20h] [bp-8h]@1
  int v18; // [sp+24h] [bp-4h]@1

  v4 = a2;
  v5 = a3;
  v6 = 8 * *(_DWORD *)(a2 + 28);
  v17 = 8 * *(_DWORD *)(a2 + 28);
  sub_46BEE0(8 * *(_DWORD *)(a2 + 28), a3, *(_DWORD *)(a1 + 244), *(_DWORD *)(a1 + 28), 16 * *(_DWORD *)(a2 + 28));
  v7 = *(_DWORD *)(v4 + 12);
  v8 = 0;
  v16 = 0;
  v18 = *(_DWORD *)(v4 + 12);
  if ( v7 > 0 )
  {
    v9 = v5;
    v15 = v5;
    do
    {
      v10 = *(_BYTE **)(a4 + 4 * v8);
      v11 = *(_DWORD *)v9;
      v12 = 1;
      if ( v6 )
      {
        v13 = *(_DWORD *)(v9 + 4) - v11;
        v14 = v6;
        do
        {
          *v10++ = (*(_BYTE *)(v13 + v11) + *(_BYTE *)(v13 + v11 + 1) + v12 + *(_BYTE *)(v11 + 1) + *(_BYTE *)v11) >> 2;
          v12 ^= 3u;
          v11 += 2;
          --v14;
        }
        while ( v14 );
        v8 = v16;
        v6 = v17;
        v7 = v18;
        v9 = v15;
      }
      v9 += 8;
      ++v8;
      v15 = v9;
      v16 = v8;
    }
    while ( v8 < v7 );
  }
}

//----- (0046C370) --------------------------------------------------------
int __userpurge sub_46C370@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebx>, int a4, int a5)
{
  int v5; // eax@1
  int result; // eax@1
  signed int v7; // edx@2
  __m64 *v8; // esi@2
  int v9; // edi@2
  int v10; // ebx@2
  __m64 v11; // mm1@3
  __m64 v12; // mm5@3
  int v13; // [sp-4h] [bp-18h]@2
  int v14; // [sp+Ch] [bp-8h]@1
  int v15; // [sp+10h] [bp-4h]@1

  v5 = *(_DWORD *)(a2 + 28);
  v14 = 8 * v5;
  v15 = *(_DWORD *)(a2 + 12);
  sub_46BEE0(a3, a4, *(_DWORD *)(a1 + 244), *(_DWORD *)(a1 + 28), 16 * v5);
  result = 0;
  do
  {
    v7 = v14;
    v8 = *(__m64 **)(a5 + 4 * result);
    v9 = *(_DWORD *)(a4 + 4 * result);
    v13 = result;
    v10 = *(_DWORD *)(a4 + 4 * (result + 1));
    do
    {
      v11 = _m_psrlw(
              _m_paddw(
                _m_paddw(
                  _m_paddw(_m_psrlw(*(__m64 *)v9, 8u), _m_pand(*(__m64 *)v9, (__m64)qword_4BE628)),
                  _m_paddw(_m_pand(*(__m64 *)v10, (__m64)qword_4BE628), _m_psrlw(*(__m64 *)v10, 8u))),
                (__m64)qword_4BE630),
              2u);
      v12 = _m_psrlw(
              _m_paddw(
                _m_paddw(
                  _m_paddw(_m_psrlw(*(__m64 *)(v9 + 8), 8u), _m_pand(*(__m64 *)(v9 + 8), (__m64)qword_4BE628)),
                  _m_paddw(_m_psrlw(*(__m64 *)(v10 + 8), 8u), _m_pand(*(__m64 *)(v10 + 8), (__m64)qword_4BE628))),
                (__m64)qword_4BE630),
              2u);
      v9 += 16;
      v10 += 16;
      v7 -= 8;
      v8->m64_u64 = (unsigned __int64)_m_packuswb(v11, v12);
      ++v8;
    }
    while ( v7 >= 8 );
    ++result;
  }
  while ( v13 + 1 < v15 );
  _m_femms();
  return result;
}
// 4BE628: using guessed type __int64 qword_4BE628;
// 4BE630: using guessed type __int64 qword_4BE630;

//----- (0046C450) --------------------------------------------------------
int __stdcall sub_46C450(int a1, int a2, int a3, int a4)
{
  int v4; // ebp@1
  int v5; // esi@1
  int v6; // ebx@1
  int v7; // eax@1
  int result; // eax@1
  int v9; // ecx@1
  int v10; // ebx@3
  int v11; // esi@3
  _BYTE *v12; // edi@3
  int v13; // ecx@3
  int v14; // eax@3
  int v15; // ST30_4@3
  int v16; // ST3C_4@3
  int v17; // ST20_4@3
  int v18; // edx@3
  _BYTE *v19; // ST2C_4@3
  int v20; // ebp@3
  int v21; // esi@3
  int v22; // ecx@3
  signed int v23; // edx@3
  int v24; // eax@3
  _BYTE *v25; // esi@3
  int v26; // edi@3
  bool v27; // zf@5
  bool v28; // sf@6
  unsigned __int8 v29; // of@6
  int v30; // [sp+20h] [bp-18h]@4
  int v31; // [sp+24h] [bp-14h]@2
  int v32; // [sp+28h] [bp-10h]@1
  int v33; // [sp+30h] [bp-8h]@2
  int v34; // [sp+34h] [bp-4h]@1
  int v35; // [sp+3Ch] [bp+4h]@3
  _BYTE *v36; // [sp+3Ch] [bp+4h]@3
  int v37; // [sp+40h] [bp+8h]@1
  int v38; // [sp+44h] [bp+Ch]@1

  v4 = a2;
  v5 = 8 * *(_DWORD *)(a2 + 28);
  v6 = a3 - 4;
  sub_46BEE0(a3 - 4, a3 - 4, *(_DWORD *)(a1 + 244) + 2, *(_DWORD *)(a1 + 28), 16 * *(_DWORD *)(a2 + 28));
  v7 = *(_DWORD *)(a1 + 192);
  v38 = 0x4000 - 80 * v7;
  result = 16 * v7;
  v9 = 0;
  v37 = result;
  v32 = 0;
  v34 = *(_DWORD *)(v4 + 12);
  if ( v34 > 0 )
  {
    result = v6;
    v33 = v5 - 2;
    v31 = v6;
    do
    {
      v10 = *(_DWORD *)(result + 4);
      v11 = *(_DWORD *)result;
      v12 = *(_BYTE **)(a4 + 4 * v9);
      v13 = *(_DWORD *)(result + 8);
      v14 = *(_DWORD *)(result + 12);
      v35 = *(_BYTE *)v14;
      v15 = v14 + 2;
      v16 = *(_BYTE *)v11;
      v17 = *(_BYTE *)v13;
      v18 = *(_BYTE *)v10;
      v19 = (_BYTE *)(v11 + 2);
      v20 = v35
          + v16
          + v17
          + *(_BYTE *)(v11 + 1)
          + *(_BYTE *)(v14 + 1)
          + v18
          + *(_BYTE *)(v13 + 2)
          + *(_BYTE *)(v10 + 2);
      v21 = v38 * (v17 + *(_BYTE *)(v13 + 1) + v18 + *(_BYTE *)(v10 + 1));
      v22 = v13 + 2;
      v23 = v37 * (v35 + v16 + *v19 + 2 * v20 + *(_BYTE *)(v14 + 2)) + v21 + 0x8000;
      v24 = v10 + 2;
      v25 = v19;
      *v12 = v23 >> 16;
      v36 = v12 + 1;
      v26 = v15;
      if ( v33 )
      {
        v30 = v33;
        do
        {
          *v36 = (v37
                * (*(_BYTE *)(v26 + 2)
                 + v25[2]
                 + *(v25 - 1)
                 + *(_BYTE *)(v26 - 1)
                 + 2
                 * (*(_BYTE *)(v24 + 2)
                  + *v25
                  + *(_BYTE *)(v22 + 2)
                  + *(_BYTE *)v26
                  + *(_BYTE *)(v24 - 1)
                  + *(_BYTE *)(v22 - 1)
                  + v25[1]
                  + *(_BYTE *)(v26 + 1)))
                + v38 * (*(_BYTE *)v24 + *(_BYTE *)v22 + *(_BYTE *)(v24 + 1) + *(_BYTE *)(v22 + 1))
                + 0x8000) >> 16;
          v24 += 2;
          v22 += 2;
          v25 += 2;
          v26 += 2;
          v27 = v30 == 1;
          ++v36;
          --v30;
        }
        while ( !v27 );
      }
      *v36 = (v37
            * (*(_BYTE *)(v26 + 1)
             + v25[1]
             + *(_BYTE *)(v26 - 1)
             + 2
             * (*(_BYTE *)(v26 + 1)
              + v25[1]
              + *(_BYTE *)(v22 + 1)
              + *(_BYTE *)(v24 - 1)
              + *(_BYTE *)(v22 - 1)
              + *(_BYTE *)(v24 + 1)
              + *(_BYTE *)v26
              + *v25)
             + *(v25 - 1))
            + v38 * (*(_BYTE *)(v22 + 1) + *(_BYTE *)v22 + *(_BYTE *)(v24 + 1) + *(_BYTE *)v24)
            + 0x8000) >> 16;
      result = v31 + 8;
      v9 = v32 + 1;
      v29 = __OFSUB__(v32 + 1, v34);
      v28 = v32 + 1 - v34 < 0;
      v31 += 8;
      ++v32;
    }
    while ( v28 ^ v29 );
  }
  return result;
}

//----- (0046C6E0) --------------------------------------------------------
_DWORD *__stdcall sub_46C6E0(int a1, int a2, int a3, int a4)
{
  int v4; // ebp@1
  int v5; // esi@1
  int v6; // eax@1
  _DWORD *result; // eax@1
  int v8; // ecx@1
  _BYTE *v9; // ebp@3
  _BYTE *v10; // edi@3
  int v11; // ecx@3
  int v12; // esi@3
  int v13; // eax@3
  int v14; // ebx@3
  int v15; // ebp@3
  int v16; // edx@3
  int v17; // edi@3
  int v18; // ecx@3
  int v19; // eax@3
  int v20; // edx@3
  _BYTE *v21; // esi@3
  int v22; // esi@5
  int v23; // edx@5
  int v24; // eax@5
  int v25; // edx@5
  bool v26; // zf@5
  bool v27; // sf@6
  unsigned __int8 v28; // of@6
  int v29; // [sp+10h] [bp-1Ch]@1
  int v30; // [sp+14h] [bp-18h]@3
  int v31; // [sp+18h] [bp-14h]@4
  int v32; // [sp+1Ch] [bp-10h]@1
  int v33; // [sp+20h] [bp-Ch]@2
  int v34; // [sp+24h] [bp-8h]@2
  int v35; // [sp+28h] [bp-4h]@1
  _BYTE *v36; // [sp+30h] [bp+4h]@3
  _BYTE *v37; // [sp+30h] [bp+4h]@3
  int v38; // [sp+34h] [bp+8h]@3
  int v39; // [sp+34h] [bp+8h]@3
  _DWORD *v40; // [sp+38h] [bp+Ch]@1

  v4 = a3;
  v5 = 8 * *(_DWORD *)(a2 + 28);
  sub_46BEE0(a2, a3 - 4, *(_DWORD *)(a1 + 244) + 2, *(_DWORD *)(a1 + 28), 8 * *(_DWORD *)(a2 + 28));
  v6 = *(_DWORD *)(a1 + 192);
  v29 = (128 - v6) << 9;
  result = (_DWORD *)(v6 << 6);
  v8 = 0;
  v40 = result;
  v32 = 0;
  v35 = *(_DWORD *)(a2 + 12);
  if ( v35 > 0 )
  {
    result = (_DWORD *)(v4 + 4);
    v34 = v5 - 2;
    v33 = v4 + 4;
    do
    {
      v9 = (_BYTE *)*result;
      v10 = (_BYTE *)*(result - 2);
      v36 = *(_BYTE **)(a4 + 4 * v8);
      v11 = *(result - 1);
      v12 = *(_BYTE *)v11;
      v13 = *(_BYTE *)*result + v12 + *v10;
      v14 = v9[1];
      v15 = (int)(v9 + 1);
      v16 = v14 + *(_BYTE *)(v11 + 1);
      v17 = (int)(v10 + 1);
      v18 = v11 + 1;
      v38 = v13;
      v19 = v16 + *(_BYTE *)v17;
      *v36 = ((signed int)v40 * (v19 + 2 * v38 - v12) + v29 * v12 + 0x8000) >> 16;
      v20 = v38;
      v21 = v36 + 1;
      v37 = v36 + 1;
      v30 = v38;
      v39 = v19;
      if ( v34 )
      {
        v31 = v34;
        do
        {
          v22 = *(_BYTE *)v18;
          v23 = *(_BYTE *)(v18 + 1);
          v24 = *(_BYTE *)(v17 + 1);
          ++v18;
          v25 = *(_BYTE *)(v15 + 1) + v23;
          ++v17;
          ++v15;
          v19 = v25 + v24;
          *v37 = ((signed int)v40 * (v39 + v19 + v30 - v22) + v29 * v22 + 0x8000) >> 16;
          v20 = v39;
          v21 = v37 + 1;
          v26 = v31 == 1;
          ++v37;
          v30 = v39;
          v39 = v19;
          --v31;
        }
        while ( !v26 );
      }
      *v21 = ((signed int)v40 * (v20 + 2 * v19 - *(_BYTE *)v18) + v29 * *(_BYTE *)v18 + 0x8000) >> 16;
      v8 = v32 + 1;
      result = (_DWORD *)(v33 + 4);
      v28 = __OFSUB__(v32 + 1, v35);
      v27 = v32++ + 1 - v35 < 0;
      v33 += 4;
    }
    while ( v27 ^ v28 );
  }
  return result;
}

//----- (0046C940) --------------------------------------------------------
int __stdcall sub_46C940(int a1)
{
  int v1; // esi@1
  int v2; // ebp@1
  int v3; // eax@1
  int v4; // eax@2
  signed int *v5; // ebx@4
  _DWORD *v6; // edi@4
  signed int v7; // ecx@5
  signed int v8; // eax@5
  int v9; // eax@21
  int result; // eax@23
  int v11; // eax@25
  signed int v12; // [sp+14h] [bp-8h]@1
  int v13; // [sp+18h] [bp-4h]@3
  int v14; // [sp+20h] [bp+4h]@1

  v1 = a1;
  v12 = 1;
  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 52);
  v3 = *(_DWORD *)(a1 + 188);
  v14 = v2;
  *(_DWORD *)(v1 + 364) = v2;
  *(_DWORD *)v2 = nullsub_3;
  *(_DWORD *)(v2 + 4) = sub_46BF40;
  *(_DWORD *)(v2 + 8) = 0;
  if ( v3 )
  {
    v4 = *(_DWORD *)v1;
    *(_DWORD *)(v4 + 20) = 25;
    (*(void (__stdcall **)(int))v4)(v1);
  }
  v13 = 0;
  if ( *(_DWORD *)(v1 + 60) > 0 )
  {
    v5 = (signed int *)(*(_DWORD *)(v1 + 68) + 12);
    v6 = (_DWORD *)(v2 + 12);
    do
    {
      v7 = *(v5 - 1);
      v8 = *(_DWORD *)(v1 + 240);
      if ( v7 != v8 || *v5 != *(_DWORD *)(v1 + 244) )
      {
        if ( 2 * v7 != v8 )
          goto LABEL_18;
        v2 = v14;
        if ( *v5 == *(_DWORD *)(v1 + 244) )
        {
          v12 = 0;
          *v6 = sub_46C880;
        }
        else
        {
          if ( 2 * v7 != v8 || 2 * *v5 != *(_DWORD *)(v1 + 244) )
          {
LABEL_18:
            if ( v8 % v7 || *(_DWORD *)(v1 + 244) % *v5 )
            {
              v9 = *(_DWORD *)v1;
              *(_DWORD *)(v9 + 20) = 38;
              (*(void (__stdcall **)(int))v9)(v1);
            }
            else
            {
              v12 = 0;
              *v6 = sub_46BFD0;
            }
            goto LABEL_22;
          }
          if ( *(_DWORD *)(v1 + 192) )
          {
            *v6 = sub_46C450;
            *(_DWORD *)(v14 + 8) = 1;
          }
          else
          {
            *v6 = sub_46C8E0;
          }
        }
      }
      else if ( *(_DWORD *)(v1 + 192) )
      {
        *v6 = sub_46C6E0;
        *(_DWORD *)(v2 + 8) = 1;
      }
      else
      {
        *v6 = sub_46C100;
      }
LABEL_22:
      ++v6;
      v5 += 21;
      ++v13;
    }
    while ( v13 < *(_DWORD *)(v1 + 60) );
  }
  result = *(_DWORD *)(v1 + 192);
  if ( result )
  {
    result = v12;
    if ( !v12 )
    {
      v11 = *(_DWORD *)v1;
      *(_DWORD *)(v11 + 20) = 99;
      result = (*(int (__stdcall **)(int, _DWORD))(v11 + 4))(v1, 0);
    }
  }
  return result;
}
// 46BED0: using guessed type int __stdcall nullsub_3(int);
// 46BF40: using guessed type int __stdcall sub_46BF40(int, int, int, int, int);
// 46C100: using guessed type int __stdcall sub_46C100(int, int, int, int);
// 46C880: using guessed type int __stdcall sub_46C880(int, int, int, int);
// 46C8E0: using guessed type int __stdcall sub_46C8E0(int, int, int, int);

//----- (0046CAC0) --------------------------------------------------------
int __stdcall sub_46CAC0(int a1)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // edx@1
  int v4; // ebx@1
  int v5; // edi@1
  int v6; // esi@1
  signed int v7; // ecx@1
  int result; // eax@1
  int v9; // [sp+10h] [bp-8h]@1
  int v10; // [sp+14h] [bp-4h]@1
  signed int v11; // [sp+1Ch] [bp+4h]@1

  v1 = *(_DWORD *)(a1 + 360);
  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 0x2000);
  v3 = 0;
  *(_DWORD *)(v1 + 8) = v2;
  v4 = 0;
  v5 = 0;
  v6 = 0;
  v10 = 0;
  v9 = 0;
  v11 = 8421375;
  v7 = 0x8000;
  result = v2 + 2048;
  do
  {
    *(_DWORD *)(result + 3072) = v11;
    *(_DWORD *)(result + 4096) = v9;
    *(_DWORD *)(result + 5120) = v10;
    v11 += 0x8000;
    v9 -= 27439;
    *(_DWORD *)result = v7;
    *(_DWORD *)(result - 2048) = v3;
    *(_DWORD *)(result - 1024) = v6;
    *(_DWORD *)(result + 1024) = v5;
    *(_DWORD *)(result + 2048) = v4;
    v7 += 7471;
    v3 += 19595;
    result += 4;
    v6 += 38470;
    v5 -= 11059;
    v4 -= 21709;
    v10 -= 5329;
  }
  while ( v7 <= 1937873 );
  return result;
}

//----- (0046CBA0) --------------------------------------------------------
int __stdcall sub_46CBA0(int a1, int *a2, int a3, int a4, int a5)
{
  int result; // eax@1
  int v6; // ecx@2
  int v7; // ebp@2
  int v8; // ebx@2
  char *v9; // edx@2
  int v10; // esi@4
  int v11; // edi@4
  int v12; // ebx@4
  _BYTE *v13; // ecx@4
  int v14; // ebp@6
  int v15; // edi@6
  int v16; // ST14_4@6
  int v17; // edx@6
  int v18; // [sp+4h] [bp-14h]@5
  int v19; // [sp+Ch] [bp-Ch]@5
  char *v20; // [sp+10h] [bp-8h]@4
  int v21; // [sp+14h] [bp-4h]@2
  int v22; // [sp+1Ch] [bp+4h]@1
  int v23; // [sp+24h] [bp+Ch]@2
  int v24; // [sp+28h] [bp+10h]@2
  int v25; // [sp+2Ch] [bp+14h]@5

  result = *(_DWORD *)(*(_DWORD *)(a1 + 360) + 8);
  v22 = *(_DWORD *)(a1 + 28);
  if ( a5 - 1 >= 0 )
  {
    v6 = *(_DWORD *)(a3 + 4);
    v7 = *(_DWORD *)a3 - v6;
    v8 = *(_DWORD *)(a3 + 8) - v6;
    v9 = (char *)(v6 + 4 * a4);
    v21 = *(_DWORD *)a3 - v6;
    v24 = *(_DWORD *)(a3 + 8) - v6;
    v23 = a5;
    while ( 1 )
    {
      v10 = *a2;
      v11 = *(_DWORD *)&v9[v7];
      v12 = *(_DWORD *)&v9[v8];
      ++a2;
      v13 = *(_BYTE **)v9;
      v9 += 4;
      v20 = v9;
      if ( v22 )
      {
        v18 = v11 - (_DWORD)v13;
        v19 = v12 - (_DWORD)v13;
        v25 = v22;
        do
        {
          v14 = *(_BYTE *)(v10 + 1);
          v15 = *(_BYTE *)v10;
          v16 = *(_BYTE *)(v10 + 2);
          v13[v18] = (*(_DWORD *)(result + 4 * v15)
                    + *(_DWORD *)(result + 4 * v14 + 1024)
                    + *(_DWORD *)(result + 4 * v16 + 2048)) >> 16;
          v17 = *(_DWORD *)(result + 4 * v16 + 7168);
          v10 += 3;
          *v13 = (*(_DWORD *)(result + 4 * v15 + 3072)
                + *(_DWORD *)(result + 4 * v14 + 4096)
                + *(_DWORD *)(result + 4 * v16 + 5120)) >> 16;
          (v13++)[v19] = (*(_DWORD *)(result + 4 * v15 + 5120) + *(_DWORD *)(result + 4 * v14 + 6144) + v17) >> 16;
          --v25;
        }
        while ( v25 );
        v9 = v20;
        v7 = v21;
      }
      if ( !--v23 )
        break;
      v8 = v24;
    }
  }
  return result;
}

//----- (0046CCD0) --------------------------------------------------------
int __stdcall sub_46CCD0(int a1, int *a2, int a3, int a4, int a5)
{
  int result; // eax@1
  int v6; // ecx@2
  int v7; // ebp@2
  int v8; // ebx@2
  char *v9; // edx@2
  int v10; // esi@4
  int v11; // edi@4
  int v12; // ebx@4
  _BYTE *v13; // ecx@4
  int v14; // ebp@6
  int v15; // edi@6
  int v16; // ST18_4@6
  int v17; // edx@6
  int v18; // [sp+4h] [bp-18h]@1
  int v19; // [sp+8h] [bp-14h]@5
  int v20; // [sp+10h] [bp-Ch]@5
  char *v21; // [sp+14h] [bp-8h]@4
  int v22; // [sp+18h] [bp-4h]@2
  int v23; // [sp+20h] [bp+4h]@1
  int v24; // [sp+28h] [bp+Ch]@2
  int v25; // [sp+2Ch] [bp+10h]@2
  int v26; // [sp+30h] [bp+14h]@5

  v18 = *(_DWORD *)(a1 + 36);
  result = *(_DWORD *)(*(_DWORD *)(a1 + 360) + 8);
  v23 = *(_DWORD *)(a1 + 28);
  if ( a5 - 1 >= 0 )
  {
    v6 = *(_DWORD *)(a3 + 4);
    v7 = *(_DWORD *)a3 - v6;
    v8 = *(_DWORD *)(a3 + 8) - v6;
    v9 = (char *)(v6 + 4 * a4);
    v22 = *(_DWORD *)a3 - v6;
    v25 = *(_DWORD *)(a3 + 8) - v6;
    v24 = a5;
    while ( 1 )
    {
      v10 = *a2;
      v11 = *(_DWORD *)&v9[v7];
      v12 = *(_DWORD *)&v9[v8];
      ++a2;
      v13 = *(_BYTE **)v9;
      v9 += 4;
      v21 = v9;
      if ( v23 )
      {
        v19 = v11 - (_DWORD)v13;
        v20 = v12 - (_DWORD)v13;
        v26 = v23;
        do
        {
          v14 = *(_BYTE *)(v10 + 1);
          v15 = *(_BYTE *)(v10 + 2);
          v16 = *(_BYTE *)v10;
          v10 += v18;
          v13[v19] = (*(_DWORD *)(result + 4 * v15)
                    + *(_DWORD *)(result + 4 * v14 + 1024)
                    + *(_DWORD *)(result + 4 * v16 + 2048)) >> 16;
          v17 = *(_DWORD *)(result + 4 * v16 + 7168);
          *v13 = (*(_DWORD *)(result + 4 * v15 + 3072)
                + *(_DWORD *)(result + 4 * v14 + 4096)
                + *(_DWORD *)(result + 4 * v16 + 5120)) >> 16;
          (v13++)[v20] = (*(_DWORD *)(result + 4 * v15 + 5120) + *(_DWORD *)(result + 4 * v14 + 6144) + v17) >> 16;
          --v26;
        }
        while ( v26 );
        v9 = v21;
        v7 = v22;
      }
      if ( !--v24 )
        break;
      v8 = v25;
    }
  }
  return result;
}

//----- (0046CEA0) --------------------------------------------------------
int __stdcall sub_46CEA0(int a1, int *a2, _DWORD *a3, int a4, int a5)
{
  int v5; // esi@1
  unsigned int v6; // edx@1
  int result; // eax@1
  _DWORD *v8; // edi@2
  unsigned int v9; // ecx@3
  int v10; // ebp@4
  int v11; // edi@4
  int v12; // edx@4
  int v13; // [sp+4h] [bp-8h]@1
  unsigned int v14; // [sp+8h] [bp-4h]@1
  int v15; // [sp+10h] [bp+4h]@2
  _DWORD *v16; // [sp+18h] [bp+Ch]@3
  int v17; // [sp+20h] [bp+14h]@3

  v5 = *(_DWORD *)(*(_DWORD *)(a1 + 360) + 8);
  v6 = *(_DWORD *)(a1 + 28);
  result = a5 - 1;
  v13 = *(_DWORD *)(a1 + 36);
  v14 = *(_DWORD *)(a1 + 28);
  if ( a5 - 1 >= 0 )
  {
    v8 = (_DWORD *)(*a3 + 4 * a4);
    v15 = a5;
    do
    {
      result = *a2;
      ++a2;
      v17 = *v8;
      ++v8;
      v9 = 0;
      v16 = v8;
      if ( v6 )
      {
        do
        {
          v10 = *(_BYTE *)(result + 1);
          v11 = *(_BYTE *)(result + 2);
          v12 = *(_DWORD *)(v5 + 4 * *(_BYTE *)result + 2048);
          result += v13;
          *(_BYTE *)(v9 + v17) = (*(_DWORD *)(v5 + 4 * v11) + *(_DWORD *)(v5 + 4 * v10 + 1024) + v12) >> 16;
          v6 = v14;
          ++v9;
        }
        while ( v9 < v14 );
        v8 = v16;
      }
      --v15;
    }
    while ( v15 );
  }
  return result;
}

//----- (0046CF50) --------------------------------------------------------
int __stdcall sub_46CF50(int a1, int *a2, int a3, int a4, int a5)
{
  int result; // eax@1
  int v6; // edx@2
  int v7; // ebp@2
  int v8; // ebx@2
  char *v9; // ecx@2
  int v10; // edi@4
  int v11; // edx@4
  _BYTE *v12; // ebp@4
  int v13; // esi@4
  int v14; // ecx@7
  int v15; // esi@7
  int v16; // edi@7
  int v17; // ebx@7
  int v18; // [sp+4h] [bp-1Ch]@2
  int v19; // [sp+8h] [bp-18h]@2
  int v20; // [sp+Ch] [bp-14h]@1
  int v21; // [sp+10h] [bp-10h]@5
  int v22; // [sp+14h] [bp-Ch]@5
  int v23; // [sp+18h] [bp-8h]@5
  char *v24; // [sp+1Ch] [bp-4h]@4
  int v25; // [sp+24h] [bp+4h]@4
  int v26; // [sp+2Ch] [bp+Ch]@2
  int v27; // [sp+30h] [bp+10h]@2
  int v28; // [sp+34h] [bp+14h]@4
  int v29; // [sp+34h] [bp+14h]@5

  result = *(_DWORD *)(*(_DWORD *)(a1 + 360) + 8);
  v20 = *(_DWORD *)(a1 + 28);
  if ( a5 - 1 >= 0 )
  {
    v6 = *(_DWORD *)(a3 + 4);
    v7 = *(_DWORD *)a3 - v6;
    v8 = *(_DWORD *)(a3 + 8) - v6;
    v9 = (char *)(v6 + 4 * a4);
    v27 = *(_DWORD *)a3 - v6;
    v18 = *(_DWORD *)(a3 + 8) - v6;
    v19 = *(_DWORD *)(a3 + 12) - v6;
    v26 = a5;
    while ( 1 )
    {
      v10 = *(_DWORD *)&v9[v8];
      v11 = *a2;
      v12 = *(_BYTE **)&v9[v7];
      ++a2;
      v13 = *(_DWORD *)v9;
      v28 = *(_DWORD *)&v9[v19];
      v9 += 4;
      v25 = v11;
      v24 = v9;
      if ( v20 )
      {
        v21 = v28 - (_DWORD)v12;
        v22 = v13 - (_DWORD)v12;
        v23 = v10 - (_DWORD)v12;
        v29 = v20;
        while ( 1 )
        {
          v14 = 255 - *(_BYTE *)v11;
          v15 = 255 - *(_BYTE *)(v11 + 1);
          v16 = 255 - *(_BYTE *)(v11 + 2);
          v12[v21] = *(_BYTE *)(v11 + 3);
          v25 += 4;
          v17 = *(_DWORD *)(result + 4 * v15 + 4096);
          *v12 = (*(_DWORD *)(result + 4 * v14)
                + *(_DWORD *)(result + 4 * v15 + 1024)
                + *(_DWORD *)(result + 4 * v16 + 2048)) >> 16;
          v12[v22] = (*(_DWORD *)(result + 4 * v14 + 3072) + v17 + *(_DWORD *)(result + 4 * v16 + 5120)) >> 16;
          (v12++)[v23] = (*(_DWORD *)(result + 4 * v14 + 5120)
                        + *(_DWORD *)(result + 4 * v15 + 6144)
                        + *(_DWORD *)(result + 4 * v16 + 7168)) >> 16;
          if ( !--v29 )
            break;
          v11 = v25;
        }
        v9 = v24;
      }
      if ( !--v26 )
        break;
      v7 = v27;
      v8 = v18;
    }
  }
  return result;
}

//----- (0046D1D0) --------------------------------------------------------
int __stdcall sub_46D1D0(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // eax@9
  int result; // eax@10
  int v5; // ecx@10
  int v6; // eax@12
  int v7; // eax@22
  bool v8; // zf@23
  int v9; // eax@25
  int v10; // eax@33
  int v11; // eax@36
  int v12; // eax@41
  int v13; // eax@44

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 12);
  v2 = *(_DWORD *)(a1 + 40) - 1;
  *(_DWORD *)(a1 + 360) = v1;
  *(_DWORD *)v1 = nullsub_3;
  switch ( v2 )
  {
    case 0:
      if ( *(_DWORD *)(a1 + 36) != 1 )
        goto LABEL_9;
      break;
    case 1:
    case 2:
      if ( *(_DWORD *)(a1 + 36) != 3 )
        goto LABEL_9;
      break;
    case 3:
    case 4:
      if ( *(_DWORD *)(a1 + 36) != 4 )
        goto LABEL_9;
      break;
    default:
      if ( *(_DWORD *)(a1 + 36) < 1 )
      {
LABEL_9:
        v3 = *(_DWORD *)a1;
        *(_DWORD *)(v3 + 20) = 9;
        (*(void (__stdcall **)(int))v3)(a1);
      }
      break;
  }
  result = *(_DWORD *)(a1 + 64);
  v5 = result - 1;
  switch ( result )
  {
    case 1:
      if ( *(_DWORD *)(a1 + 60) != 1 )
      {
        v6 = *(_DWORD *)a1;
        *(_DWORD *)(v6 + 20) = 10;
        (*(void (__thiscall **)(int, int))v6)(v5, a1);
      }
      result = *(_DWORD *)(a1 + 40);
      if ( result == 1 )
        goto LABEL_20;
      if ( result == 2 )
      {
        *(_DWORD *)v1 = sub_46CAC0;
        *(_DWORD *)(v1 + 4) = sub_46CE00;
      }
      else if ( result != 6 && result != 7 )
      {
        if ( result != 3 )
          goto LABEL_41;
LABEL_20:
        *(_DWORD *)(v1 + 4) = sub_46D0D0;
      }
      else
      {
        *(_DWORD *)v1 = sub_46CAC0;
        *(_DWORD *)(v1 + 4) = sub_46CEA0;
      }
      return result;
    case 2:
      if ( *(_DWORD *)(a1 + 60) != 3 )
      {
        v7 = *(_DWORD *)a1;
        *(_DWORD *)(v7 + 20) = 10;
        result = (*(int (__thiscall **)(int, int))v7)(v5, a1);
      }
      v8 = *(_DWORD *)(a1 + 40) == 2;
      goto LABEL_40;
    case 3:
      if ( *(_DWORD *)(a1 + 60) != 3 )
      {
        v9 = *(_DWORD *)a1;
        *(_DWORD *)(v9 + 20) = 10;
        (*(void (__thiscall **)(int, int))v9)(v5, a1);
      }
      result = *(_DWORD *)(a1 + 40);
      if ( result == 2 )
      {
        *(_DWORD *)v1 = sub_46CAC0;
        *(_DWORD *)(v1 + 4) = sub_46CBA0;
        return result;
      }
      if ( result == 6 || result == 7 )
      {
        *(_DWORD *)v1 = sub_46CAC0;
        *(_DWORD *)(v1 + 4) = sub_46CCD0;
        return result;
      }
      v8 = result == 3;
      goto LABEL_40;
    case 4:
      if ( *(_DWORD *)(a1 + 60) != 4 )
      {
        v10 = *(_DWORD *)a1;
        *(_DWORD *)(v10 + 20) = 10;
        result = (*(int (__thiscall **)(int, int))v10)(v5, a1);
      }
      v8 = *(_DWORD *)(a1 + 40) == 4;
      goto LABEL_40;
    case 5:
      if ( *(_DWORD *)(a1 + 60) != 4 )
      {
        v11 = *(_DWORD *)a1;
        *(_DWORD *)(v11 + 20) = 10;
        (*(void (__thiscall **)(int, int))v11)(v5, a1);
      }
      result = *(_DWORD *)(a1 + 40);
      if ( result == 4 )
      {
        *(_DWORD *)v1 = sub_46CAC0;
        *(_DWORD *)(v1 + 4) = sub_46CF50;
      }
      else
      {
        v8 = result == 5;
LABEL_40:
        if ( v8 )
        {
LABEL_45:
          *(_DWORD *)(v1 + 4) = sub_46D130;
        }
        else
        {
LABEL_41:
          v12 = *(_DWORD *)a1;
          *(_DWORD *)(v12 + 20) = 27;
          result = (*(int (__thiscall **)(int, int))v12)(v5, a1);
        }
      }
      return result;
    default:
      if ( result != *(_DWORD *)(a1 + 40) || (v5 = *(_DWORD *)(a1 + 60), v5 != *(_DWORD *)(a1 + 36)) )
      {
        v13 = *(_DWORD *)a1;
        *(_DWORD *)(v13 + 20) = 27;
        result = (*(int (__thiscall **)(int, int))v13)(v5, a1);
      }
      goto LABEL_45;
  }
}
// 46BED0: using guessed type int __stdcall nullsub_3(int);
// 46CE00: using guessed type int __stdcall sub_46CE00(int, int, int, int, int);
// 46D0D0: using guessed type int __stdcall sub_46D0D0(int, int, int, int, int);
// 46D130: using guessed type int __stdcall sub_46D130(int, int, int, int, int);

//----- (0046D3C0) --------------------------------------------------------
int __usercall sub_46D3C0@<eax>(int a1@<esi>)
{
  int v1; // eax@5
  int v2; // eax@8
  int v3; // ecx@9
  int v4; // eax@10
  signed int v5; // ecx@11
  int v6; // eax@12
  int v7; // ecx@13
  int v8; // eax@13
  int v9; // ebx@13
  int *v10; // edi@14
  signed int v11; // eax@15
  int v12; // eax@19
  int v13; // eax@20
  int v14; // ecx@22
  int v15; // eax@22
  int v16; // ebx@25
  int v17; // edi@26
  signed int v18; // ST04_4@27
  int v19; // ST00_4@27
  int v20; // eax@27
  int v21; // edx@27
  int v22; // eax@27
  signed int v23; // ST04_4@27
  int v24; // ST00_4@27
  int v25; // eax@27
  int v26; // ecx@27
  int v27; // eax@27
  int result; // eax@28

  if ( !*(_DWORD *)(a1 + 32) || !*(_DWORD *)(a1 + 28) || *(_DWORD *)(a1 + 60) <= 0 || *(_DWORD *)(a1 + 36) <= 0 )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 32;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  if ( *(_DWORD *)(a1 + 32) > 65500 || *(_DWORD *)(a1 + 28) > 65500 )
  {
    v2 = *(_DWORD *)a1;
    *(_DWORD *)(v2 + 20) = 41;
    *(_DWORD *)(v2 + 24) = 65500;
    (*(void (__stdcall **)(int))v2)(a1);
  }
  v3 = *(_DWORD *)(a1 + 56);
  if ( v3 != 8 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 15;
    *(_DWORD *)(v4 + 24) = v3;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)(a1 + 60);
  if ( v5 > 10 )
  {
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 26;
    *(_DWORD *)(v6 + 24) = v5;
    *(_DWORD *)(v6 + 28) = 10;
    (*(void (__stdcall **)(int))v6)(a1);
  }
  v7 = *(_DWORD *)(a1 + 60);
  v8 = *(_DWORD *)(a1 + 68);
  v9 = 0;
  *(_DWORD *)(a1 + 240) = 1;
  *(_DWORD *)(a1 + 244) = 1;
  if ( v7 > 0 )
  {
    v10 = (int *)(v8 + 12);
    do
    {
      v11 = *(v10 - 1);
      if ( v11 <= 0 || v11 > 4 || *v10 <= 0 || *v10 > 4 )
      {
        v12 = *(_DWORD *)a1;
        *(_DWORD *)(v12 + 20) = 18;
        (*(void (__stdcall **)(int))v12)(a1);
      }
      v13 = *(_DWORD *)(a1 + 240);
      if ( v13 <= *(v10 - 1) )
        v13 = *(v10 - 1);
      v14 = *v10;
      *(_DWORD *)(a1 + 240) = v13;
      v15 = *(_DWORD *)(a1 + 244);
      if ( v15 <= v14 )
        v15 = v14;
      *(_DWORD *)(a1 + 244) = v15;
      ++v9;
      v10 += 21;
    }
    while ( v9 < *(_DWORD *)(a1 + 60) );
  }
  v16 = 0;
  if ( *(_DWORD *)(a1 + 60) > 0 )
  {
    v17 = *(_DWORD *)(a1 + 68) + 36;
    do
    {
      v18 = 8 * *(_DWORD *)(a1 + 240);
      v19 = *(_DWORD *)(a1 + 28) * *(_DWORD *)(v17 - 28);
      *(_DWORD *)(v17 - 32) = v16;
      *(_DWORD *)v17 = 8;
      v20 = sub_452700(v19, v18);
      v21 = *(_DWORD *)(a1 + 244);
      *(_DWORD *)(v17 - 8) = v20;
      v22 = sub_452700(*(_DWORD *)(a1 + 32) * *(_DWORD *)(v17 - 24), 8 * v21);
      v23 = *(_DWORD *)(a1 + 240);
      v24 = *(_DWORD *)(a1 + 28) * *(_DWORD *)(v17 - 28);
      *(_DWORD *)(v17 - 4) = v22;
      v25 = sub_452700(v24, v23);
      v26 = *(_DWORD *)(a1 + 32) * *(_DWORD *)(v17 - 24);
      *(_DWORD *)(v17 + 4) = v25;
      *(_DWORD *)(v17 + 8) = sub_452700(v26, *(_DWORD *)(a1 + 244));
      v27 = *(_DWORD *)(a1 + 60);
      *(_DWORD *)(v17 + 12) = 1;
      ++v16;
      v17 += 84;
    }
    while ( v16 < v27 );
  }
  result = sub_452700(*(_DWORD *)(a1 + 32), 8 * *(_DWORD *)(a1 + 244));
  *(_DWORD *)(a1 + 248) = result;
  return result;
}

//----- (0046D570) --------------------------------------------------------
int __usercall sub_46D570@<eax>(int a1@<esi>)
{
  int v1; // eax@2
  int v2; // edx@3
  signed int v3; // eax@5
  unsigned int v4; // ecx@6
  int v5; // eax@6
  int *v6; // edi@6
  int v7; // eax@7
  signed int v8; // ebp@10
  signed int v9; // edi@13
  int v10; // eax@15
  signed int v11; // ebx@16
  int v12; // edx@17
  int v13; // edi@17
  int v14; // eax@19
  int v15; // eax@22
  signed int v16; // ebx@26
  signed int v17; // ecx@26
  signed int v18; // eax@26
  signed int v19; // edx@26
  int v20; // eax@35
  bool v21; // zf@37
  int v22; // eax@40
  signed int v23; // eax@41
  char *v24; // ebx@43
  int v25; // eax@45
  signed int v26; // edi@46
  int v27; // eax@47
  bool v28; // zf@48
  int v29; // eax@52
  int v30; // eax@60
  _DWORD *v31; // ebx@62
  signed int v32; // ebp@62
  int *v33; // edi@63
  int v34; // eax@64
  int v35; // edi@68
  int result; // eax@68
  char *v37; // ebx@70
  int v38; // eax@72
  int v39; // eax@77
  int v40; // [sp+10h] [bp-A44h]@3
  signed int v41; // [sp+14h] [bp-A40h]@13
  _DWORD *v42; // [sp+14h] [bp-A40h]@42
  signed int v43; // [sp+18h] [bp-A3Ch]@10
  signed int v44; // [sp+18h] [bp-A3Ch]@42
  signed int v45; // [sp+1Ch] [bp-A38h]@26
  signed int v46; // [sp+20h] [bp-A34h]@26
  signed int v47; // [sp+24h] [bp-A30h]@26
  signed int v48; // [sp+28h] [bp-A2Ch]@26
  int v49[10]; // [sp+2Ch] [bp-A28h]@6
  char v50[2560]; // [sp+54h] [bp-A00h]@8

  if ( *(_DWORD *)(a1 + 168) <= 0 )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 19;
    *(_DWORD *)(v1 + 24) = 0;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  v2 = *(_DWORD *)(a1 + 172);
  v40 = *(_DWORD *)(a1 + 172);
  if ( *(_DWORD *)(v2 + 20) || *(_DWORD *)(v2 + 24) != 63 )
  {
    v7 = *(_DWORD *)(a1 + 60);
    *(_DWORD *)(a1 + 236) = 1;
    if ( v7 <= 0 )
      goto LABEL_10;
    v4 = (v7 & 0xFFFFFF) << 6;
    v5 = -1;
    v6 = (int *)v50;
  }
  else
  {
    v3 = *(_DWORD *)(a1 + 60);
    *(_DWORD *)(a1 + 236) = 0;
    if ( v3 <= 0 )
      goto LABEL_10;
    v4 = v3;
    v5 = 0;
    v6 = v49;
  }
  memset32(v6, v5, v4);
LABEL_10:
  v8 = 1;
  v43 = 1;
  if ( *(_DWORD *)(a1 + 168) >= 1 )
  {
    while ( 1 )
    {
      v9 = *(_DWORD *)v2;
      v41 = *(_DWORD *)v2;
      if ( *(_DWORD *)v2 <= 0 || v9 > 4 )
      {
        v10 = *(_DWORD *)a1;
        *(_DWORD *)(v10 + 20) = 26;
        *(_DWORD *)(v10 + 24) = v9;
        *(_DWORD *)(v10 + 28) = 4;
        (*(void (__stdcall **)(int))v10)(a1);
      }
      v11 = 0;
      if ( v9 <= 0 )
      {
        v12 = v40;
      }
      else
      {
        do
        {
          v12 = v40;
          v13 = *(_DWORD *)(v40 + 4 * v11 + 4);
          if ( v13 < 0 || v13 >= *(_DWORD *)(a1 + 60) )
          {
            v14 = *(_DWORD *)a1;
            *(_DWORD *)(v14 + 20) = 19;
            *(_DWORD *)(v14 + 24) = v8;
            (*(void (__stdcall **)(int))v14)(a1);
            v12 = v40;
          }
          if ( v11 > 0 && v13 <= *(_DWORD *)(v12 + 4 * v11) )
          {
            v15 = *(_DWORD *)a1;
            *(_DWORD *)(v15 + 20) = 19;
            *(_DWORD *)(v15 + 24) = v8;
            (*(void (__stdcall **)(int))v15)(a1);
            v12 = v40;
          }
          ++v11;
        }
        while ( v11 < v41 );
        v9 = v41;
      }
      v16 = *(_DWORD *)(v12 + 20);
      v17 = *(_DWORD *)(v12 + 24);
      v18 = *(_DWORD *)(v12 + 28);
      v19 = *(_DWORD *)(v12 + 32);
      v46 = v16;
      v45 = v17;
      v47 = v18;
      v48 = v19;
      if ( *(_DWORD *)(a1 + 236) )
      {
        if ( v16 < 0 || v16 >= 64 || v17 < v16 || v17 >= 64 || v18 < 0 || v18 > 10 || v19 < 0 || v19 > 10 )
        {
          v20 = *(_DWORD *)a1;
          *(_DWORD *)(v20 + 20) = 17;
          *(_DWORD *)(v20 + 24) = v8;
          (*(void (__stdcall **)(int))v20)(a1);
          v17 = v45;
        }
        if ( v16 )
          v21 = v41 == 1;
        else
          v21 = v17 == 0;
        if ( !v21 )
        {
          v22 = *(_DWORD *)a1;
          *(_DWORD *)(v22 + 20) = 17;
          *(_DWORD *)(v22 + 24) = v8;
          (*(void (__stdcall **)(int))v22)(a1);
        }
        v23 = v41;
        if ( v41 > 0 )
        {
          v42 = (_DWORD *)(v40 + 4);
          v44 = v23;
          while ( 1 )
          {
            v24 = &v50[256 * *v42];
            if ( v46 && *(_DWORD *)v24 < 0 )
            {
              v25 = *(_DWORD *)a1;
              *(_DWORD *)(v25 + 20) = 17;
              *(_DWORD *)(v25 + 24) = v8;
              (*(void (__stdcall **)(int))v25)(a1);
            }
            v26 = v46;
            if ( v46 <= v45 )
              break;
LABEL_54:
            v21 = v44 == 1;
            ++v42;
            --v44;
            if ( v21 )
              goto LABEL_67;
          }
          while ( 2 )
          {
            v27 = *(_DWORD *)&v24[4 * v26];
            if ( v27 < 0 )
            {
              v28 = v47 == 0;
              goto LABEL_51;
            }
            if ( v47 != v27 )
              goto LABEL_81;
            v28 = v48 == v47 - 1;
LABEL_51:
            if ( !v28 )
            {
LABEL_81:
              v29 = *(_DWORD *)a1;
              *(_DWORD *)(v29 + 20) = 17;
              *(_DWORD *)(v29 + 24) = v8;
              (*(void (__stdcall **)(int))v29)(a1);
            }
            *(_DWORD *)&v24[4 * v26++] = v48;
            if ( v26 > v45 )
              goto LABEL_54;
            continue;
          }
        }
      }
      else
      {
        if ( v16 || v17 != 63 || v18 || v19 )
        {
          v30 = *(_DWORD *)a1;
          *(_DWORD *)(v30 + 20) = 17;
          *(_DWORD *)(v30 + 24) = v8;
          (*(void (__stdcall **)(int))v30)(a1);
        }
        if ( v9 > 0 )
        {
          v31 = (_DWORD *)(v40 + 4);
          v32 = v9;
          do
          {
            v33 = &v49[*v31];
            if ( *v33 )
            {
              v34 = *(_DWORD *)a1;
              *(_DWORD *)(v34 + 20) = 19;
              *(_DWORD *)(v34 + 24) = v43;
              (*(void (__stdcall **)(int))v34)(a1);
            }
            ++v31;
            --v32;
            *v33 = 1;
          }
          while ( v32 );
          v8 = v43;
        }
      }
LABEL_67:
      ++v8;
      v40 += 36;
      v43 = v8;
      if ( v8 > *(_DWORD *)(a1 + 168) )
        break;
      v2 = v40;
    }
  }
  v35 = 0;
  result = *(_DWORD *)(a1 + 60);
  if ( *(_DWORD *)(a1 + 236) )
  {
    if ( result > 0 )
    {
      v37 = v50;
      do
      {
        if ( *(_DWORD *)v37 < 0 )
        {
          v38 = *(_DWORD *)a1;
          *(_DWORD *)(v38 + 20) = 45;
          (*(void (__stdcall **)(int))v38)(a1);
        }
        result = *(_DWORD *)(a1 + 60);
        ++v35;
        v37 += 256;
      }
      while ( v35 < result );
    }
  }
  else if ( result > 0 )
  {
    do
    {
      if ( !v49[v35] )
      {
        v39 = *(_DWORD *)a1;
        *(_DWORD *)(v39 + 20) = 45;
        (*(void (__stdcall **)(int))v39)(a1);
      }
      result = *(_DWORD *)(a1 + 60);
      ++v35;
    }
    while ( v35 < result );
  }
  return result;
}
// 46D570: using guessed type int var_A28[10];
// 46D570: using guessed type char var_A00[2560];

//----- (0046D8A0) --------------------------------------------------------
int __usercall sub_46D8A0@<eax>(int a1@<esi>)
{
  int v1; // ecx@1
  int v2; // edi@2
  int v3; // edx@2
  bool v4; // zf@2
  bool v5; // sf@2
  _DWORD *v6; // ecx@3
  _DWORD *v7; // eax@3
  int v8; // ecx@5
  __int64 v9; // rax@5
  signed int v10; // ecx@6
  int v11; // eax@7
  int v12; // ecx@9

  v1 = *(_DWORD *)(a1 + 172);
  if ( v1 )
  {
    v2 = v1 + 36 * *(_DWORD *)(*(_DWORD *)(a1 + 340) + 32);
    v3 = *(_DWORD *)v2;
    v4 = *(_DWORD *)v2 == 0;
    v5 = *(_DWORD *)v2 < 0;
    *(_DWORD *)(a1 + 252) = *(_DWORD *)v2;
    if ( !v5 && !v4 )
    {
      v6 = (_DWORD *)(a1 + 256);
      v7 = (_DWORD *)(v2 + 4);
      do
      {
        *v6 = *(_DWORD *)(a1 + 68) + 84 * *v7;
        ++v7;
        ++v6;
        --v3;
      }
      while ( v3 );
    }
    v8 = *(_DWORD *)(v2 + 24);
    HIDWORD(v9) = *(_DWORD *)(v2 + 28);
    *(_DWORD *)(a1 + 324) = *(_DWORD *)(v2 + 20);
    LODWORD(v9) = *(_DWORD *)(v2 + 32);
    *(_DWORD *)(a1 + 328) = v8;
    *(_DWORD *)(a1 + 332) = HIDWORD(v9);
    *(_DWORD *)(a1 + 336) = v9;
  }
  else
  {
    v10 = *(_DWORD *)(a1 + 60);
    if ( v10 > 4 )
    {
      v11 = *(_DWORD *)a1;
      *(_DWORD *)(v11 + 20) = 26;
      *(_DWORD *)(v11 + 24) = v10;
      *(_DWORD *)(v11 + 28) = 4;
      (*(void (__stdcall **)(int))v11)(a1);
    }
    v9 = *(_DWORD *)(a1 + 60);
    *(_DWORD *)(a1 + 252) = v9;
    if ( (signed int)v9 > 0 )
    {
      v12 = 0;
      LODWORD(v9) = a1 + 256;
      do
      {
        *(_DWORD *)v9 = v12 + *(_DWORD *)(a1 + 68);
        ++HIDWORD(v9);
        LODWORD(v9) = v9 + 4;
        v12 += 84;
      }
      while ( SHIDWORD(v9) < *(_DWORD *)(a1 + 60) );
    }
    *(_DWORD *)(a1 + 324) = 0;
    *(_DWORD *)(a1 + 332) = 0;
    *(_DWORD *)(a1 + 336) = 0;
    *(_DWORD *)(a1 + 328) = 63;
  }
  return v9;
}

//----- (0046D980) --------------------------------------------------------
int __usercall sub_46D980@<eax>(int a1@<esi>)
{
  signed int v1; // ecx@1
  int v2; // ecx@2
  unsigned int v3; // edi@2
  unsigned int v4; // eax@2
  int result; // eax@2
  int v6; // edx@2
  unsigned __int64 v7; // rtt@2
  int v8; // eax@7
  int v9; // eax@8
  int v10; // ecx@8
  bool v11; // zf@8
  bool v12; // sf@8
  int v13; // ecx@10
  unsigned int v14; // edi@10
  unsigned int v15; // eax@10
  unsigned int v16; // ebp@10
  int v17; // edx@10
  int v18; // ebx@10
  unsigned int v19; // eax@12
  int v20; // edx@12
  int v21; // eax@14
  int v22; // eax@15
  int v23; // ecx@18
  unsigned __int8 v24; // of@18
  int v25; // ecx@19
  int v26; // [sp+8h] [bp-8h]@8
  int v27; // [sp+Ch] [bp-4h]@9

  v1 = *(_DWORD *)(a1 + 252);
  if ( v1 == 1 )
  {
    v2 = *(_DWORD *)(a1 + 256);
    v3 = *(_DWORD *)(v2 + 12);
    *(_DWORD *)(a1 + 272) = *(_DWORD *)(v2 + 28);
    v4 = *(_DWORD *)(v2 + 32);
    *(_DWORD *)(a1 + 276) = v4;
    v7 = v4;
    result = v4 / v3;
    v6 = v7 % v3;
    *(_DWORD *)(v2 + 52) = 1;
    *(_DWORD *)(v2 + 56) = 1;
    *(_DWORD *)(v2 + 60) = 1;
    *(_DWORD *)(v2 + 64) = 8;
    *(_DWORD *)(v2 + 68) = 1;
    if ( !v6 )
      v6 = v3;
    *(_DWORD *)(v2 + 72) = v6;
    *(_DWORD *)(a1 + 280) = 1;
    *(_DWORD *)(a1 + 284) = 0;
  }
  else
  {
    if ( v1 <= 0 || v1 > 4 )
    {
      v8 = *(_DWORD *)a1;
      *(_DWORD *)(v8 + 20) = 26;
      *(_DWORD *)(v8 + 24) = v1;
      *(_DWORD *)(v8 + 28) = 4;
      (*(void (__stdcall **)(int))v8)(a1);
    }
    v9 = sub_452700(*(_DWORD *)(a1 + 28), 8 * *(_DWORD *)(a1 + 240));
    v10 = *(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 272) = v9;
    result = sub_452700(v10, 8 * *(_DWORD *)(a1 + 244));
    *(_DWORD *)(a1 + 276) = result;
    v11 = *(_DWORD *)(a1 + 252) == 0;
    v12 = *(_DWORD *)(a1 + 252) < 0;
    *(_DWORD *)(a1 + 280) = 0;
    v26 = 0;
    if ( !v12 && !v11 )
    {
      v27 = a1 + 256;
      do
      {
        v13 = *(_DWORD *)v27;
        v14 = *(_DWORD *)(*(_DWORD *)v27 + 8);
        v15 = *(_DWORD *)(*(_DWORD *)v27 + 28);
        v16 = *(_DWORD *)(*(_DWORD *)v27 + 12);
        *(_DWORD *)(v13 + 64) = 8 * v14;
        v17 = v15 % v14;
        v18 = v14 * v16;
        *(_DWORD *)(v13 + 52) = v14;
        *(_DWORD *)(v13 + 56) = v16;
        *(_DWORD *)(v13 + 60) = v14 * v16;
        if ( !(v15 % v14) )
          v17 = v14;
        v19 = *(_DWORD *)(v13 + 32);
        *(_DWORD *)(v13 + 68) = v17;
        v20 = v19 % v16;
        if ( !(v19 % v16) )
          v20 = v16;
        v21 = v18 + *(_DWORD *)(a1 + 280);
        *(_DWORD *)(v13 + 72) = v20;
        if ( v21 > 10 )
        {
          v22 = *(_DWORD *)a1;
          *(_DWORD *)(v22 + 20) = 13;
          (*(void (__stdcall **)(int))v22)(a1);
        }
        if ( v18 > 0 )
        {
          do
          {
            *(_DWORD *)(a1 + 4 * *(_DWORD *)(a1 + 280) + 284) = v26;
            --v18;
            ++*(_DWORD *)(a1 + 280);
          }
          while ( v18 );
        }
        v23 = *(_DWORD *)(a1 + 252);
        result = v26 + 1;
        v24 = __OFSUB__(v26 + 1, v23);
        v12 = v26++ + 1 - v23 < 0;
        v27 += 4;
      }
      while ( v12 ^ v24 );
    }
  }
  v25 = *(_DWORD *)(a1 + 204);
  if ( v25 > 0 )
  {
    result = v25 * *(_DWORD *)(a1 + 272);
    if ( result >= 0xFFFF )
      result = 0xFFFF;
    *(_DWORD *)(a1 + 200) = result;
  }
  return result;
}

//----- (0046DD60) --------------------------------------------------------
int __stdcall sub_46DD60(int a1, int a2)
{
  int v2; // eax@1
  int v3; // edi@1
  int result; // eax@1
  bool v5; // zf@9

  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 36);
  v3 = v2;
  *(_DWORD *)(a1 + 340) = v2;
  *(_DWORD *)v2 = sub_46DB30;
  *(_DWORD *)(v2 + 4) = sub_46DCB0;
  *(_DWORD *)(v2 + 8) = sub_46DCE0;
  *(_DWORD *)(v2 + 16) = 0;
  result = sub_46D3C0(a1);
  if ( *(_DWORD *)(a1 + 172) )
  {
    result = sub_46D570(a1);
  }
  else
  {
    *(_DWORD *)(a1 + 236) = 0;
    *(_DWORD *)(a1 + 168) = 1;
  }
  if ( *(_DWORD *)(a1 + 236) )
    *(_DWORD *)(a1 + 184) = 1;
  if ( a2 )
    *(_DWORD *)(v3 + 20) = (*(_DWORD *)(a1 + 184) == 0) + 1;
  else
    *(_DWORD *)(v3 + 20) = 0;
  v5 = *(_DWORD *)(a1 + 184) == 0;
  *(_DWORD *)(v3 + 32) = 0;
  *(_DWORD *)(v3 + 24) = 0;
  if ( v5 )
  {
    result = *(_DWORD *)(a1 + 168);
    *(_DWORD *)(v3 + 28) = result;
  }
  else
  {
    *(_DWORD *)(v3 + 28) = 2 * *(_DWORD *)(a1 + 168);
  }
  return result;
}
// 46DB30: using guessed type int __stdcall sub_46DB30(int);
// 46DCB0: using guessed type int __stdcall sub_46DCB0(int);
// 46DCE0: using guessed type int __stdcall sub_46DCE0(int);

//----- (0046EF30) --------------------------------------------------------
char *__stdcall sub_46EF30(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // edx@1
  int v6; // esi@1
  int v7; // ecx@1
  char *v8; // eax@1
  __int16 v9; // bp@2
  int v10; // edi@2
  int v11; // edi@3
  int v12; // ST24_4@4
  unsigned __int16 v13; // bx@4
  int v14; // ST1C_4@4
  __int16 v15; // bp@4
  int v16; // ST30_4@4
  int v17; // esi@4
  int v18; // ST1C_4@4
  __int16 v19; // ST28_2@4
  __int16 v20; // bp@4
  int v21; // ST14_4@4
  unsigned __int16 v22; // di@4
  unsigned __int16 v23; // bx@4
  int v24; // ST18_4@4
  __int16 v25; // bp@4
  int v26; // edi@4
  int v27; // esi@4
  int v28; // ebx@4
  __int16 v29; // ST10_2@4
  int v30; // esi@4
  int v31; // ST14_4@4
  bool v32; // zf@5
  char *result; // eax@6
  int v34; // esi@7
  char v35; // dl@8
  __int16 v36; // bx@9
  unsigned __int16 v37; // bp@9
  __int16 v38; // di@9
  __int16 v39; // bx@9
  unsigned __int16 v40; // dx@9
  __int16 v41; // ST10_2@9
  int v42; // edx@9
  __int16 v43; // ST30_2@9
  __int16 v44; // ST1C_2@9
  __int16 v45; // di@9
  __int16 v46; // bx@9
  __int16 v47; // ST28_2@9
  unsigned __int16 v48; // di@9
  __int16 v49; // ST24_2@9
  int v50; // ebx@9
  __int16 v51; // ST10_2@9
  unsigned __int16 v52; // di@9
  __int16 v53; // ST18_2@9
  int v54; // ebp@9
  __int16 v55; // ST14_2@9
  int v56; // ebp@9
  int v57; // ebx@9
  int v58; // edi@9
  __int16 v59; // ST10_2@9
  int v60; // edi@9
  int v61; // ST14_4@9
  int v62; // ebp@10
  int v63; // ebx@10
  int v64; // edi@10
  int v65; // eax@10
  int v66; // esi@10
  char v67; // dl@11
  __int16 v68; // bx@12
  unsigned __int16 v69; // bp@12
  __int16 v70; // di@12
  __int16 v71; // bx@12
  unsigned __int16 v72; // dx@12
  __int16 v73; // ST10_2@12
  int v74; // edx@12
  __int16 v75; // ST30_2@12
  __int16 v76; // ST1C_2@12
  __int16 v77; // di@12
  __int16 v78; // bx@12
  __int16 v79; // ST28_2@12
  unsigned __int16 v80; // di@12
  __int16 v81; // ST24_2@12
  int v82; // ebx@12
  unsigned __int16 v83; // di@12
  int v84; // ST18_4@12
  __int16 v85; // ST14_2@12
  int v86; // ebp@12
  int v87; // edx@12
  int v88; // edi@12
  int v89; // ebx@12
  int v90; // edi@12
  __int16 v91; // ST10_2@12
  int v92; // edi@12
  int v93; // ST14_4@12
  int v94; // ebp@13
  int v95; // ebx@13
  int v96; // edi@13
  int v97; // eax@13
  int v98; // esi@13
  char v99; // dl@14
  __int16 v100; // bx@15
  unsigned __int16 v101; // bp@15
  __int16 v102; // di@15
  __int16 v103; // bx@15
  unsigned __int16 v104; // dx@15
  __int16 v105; // ST10_2@15
  int v106; // edx@15
  __int16 v107; // ST30_2@15
  __int16 v108; // ST1C_2@15
  __int16 v109; // di@15
  __int16 v110; // bx@15
  __int16 v111; // ST28_2@15
  unsigned __int16 v112; // di@15
  __int16 v113; // ST24_2@15
  int v114; // ebx@15
  __int16 v115; // ST10_2@15
  unsigned __int16 v116; // di@15
  __int16 v117; // ST18_2@15
  int v118; // ebp@15
  __int16 v119; // ST14_2@15
  int v120; // ebp@15
  int v121; // ebx@15
  int v122; // edi@15
  __int16 v123; // ST10_2@15
  int v124; // edi@15
  int v125; // ST14_4@15
  int v126; // ebp@16
  int v127; // ebx@16
  int v128; // edi@16
  int v129; // eax@16
  int v130; // esi@16
  char v131; // dl@17
  __int16 v132; // bx@18
  unsigned __int16 v133; // bp@18
  __int16 v134; // di@18
  __int16 v135; // bx@18
  unsigned __int16 v136; // dx@18
  __int16 v137; // ST10_2@18
  int v138; // edx@18
  __int16 v139; // ST30_2@18
  __int16 v140; // ST1C_2@18
  __int16 v141; // di@18
  __int16 v142; // bx@18
  __int16 v143; // ST28_2@18
  unsigned __int16 v144; // di@18
  __int16 v145; // ST24_2@18
  int v146; // ebx@18
  unsigned __int16 v147; // di@18
  int v148; // ST18_4@18
  __int16 v149; // ST14_2@18
  int v150; // ebp@18
  int v151; // edx@18
  int v152; // edi@18
  int v153; // ebx@18
  int v154; // edi@18
  __int16 v155; // ST10_2@18
  int v156; // edi@18
  int v157; // ST14_4@18
  __int16 v158; // [sp+14h] [bp-128h]@2
  unsigned __int16 v159; // [sp+18h] [bp-124h]@2
  __int16 v160; // [sp+1Ch] [bp-120h]@2
  int v161; // [sp+20h] [bp-11Ch]@0
  __int16 v162; // [sp+20h] [bp-11Ch]@2
  __int16 v163; // [sp+28h] [bp-114h]@2
  int v164; // [sp+2Ch] [bp-110h]@1
  int v165; // [sp+2Ch] [bp-110h]@6
  signed int v166; // [sp+34h] [bp-108h]@1
  signed int v167; // [sp+34h] [bp-108h]@6
  __int16 v168; // [sp+38h] [bp-104h]@2
  char v169; // [sp+3Ch] [bp-100h]@1

  v5 = *(_DWORD *)(a2 + 80);
  v6 = a3;
  v7 = *(_DWORD *)(a1 + 328) + 128;
  v164 = a3;
  v8 = &v169;
  v166 = 8;
  do
  {
    v9 = *(_WORD *)(v6 + 64);
    v159 = *(_WORD *)(v6 + 112);
    v160 = *(_WORD *)(v6 + 96);
    LOWORD(v161) = *(_WORD *)(v6 + 80);
    v158 = *(_WORD *)(v6 + 48);
    v168 = *(_WORD *)(v6 + 16);
    v163 = *(_WORD *)(v6 + 32);
    HIWORD(v10) = HIWORD(v161);
    if ( v159 | (unsigned __int16)(v160 | v161 | v9 | v158 | v163 | v168) )
    {
      LOWORD(v6) = *(_WORD *)v5 * *(_WORD *)v6;
      LOWORD(v10) = v163 * *(_WORD *)(v5 + 32);
      v12 = (unsigned __int16)(v9 * *(_WORD *)(v5 + 64));
      v13 = v160 * *(_WORD *)(v5 + 96);
      v14 = v6 + v12;
      v15 = v6 - v12;
      v16 = v13 + v10 + v6 + v12;
      v17 = (362 * ((signed __int16)v10 - (signed __int16)v13) >> 8) - (v13 + v10);
      v18 = v14 - (v13 + v10);
      v19 = v17 + v15;
      v20 = v15 - v17;
      LOWORD(v17) = v168 * *(_WORD *)(v5 + 16);
      v21 = (unsigned __int16)(v158 * *(_WORD *)(v5 + 48));
      v22 = v162 * *(_WORD *)(v5 + 80);
      v23 = v159 * *(_WORD *)(v5 + 112);
      LOWORD(v12) = v20;
      v24 = v22 + v21;
      v25 = v22 - v21;
      LOWORD(v21) = v23 + v17;
      v161 = v24 + v23 + v17;
      v26 = (signed __int16)(v17 - v23);
      v27 = (-669 * v25 >> 8) - v161;
      v28 = 473 * (v25 + v26) >> 8;
      v29 = v28 + v27;
      v30 = (362 * ((signed __int16)v21 - (signed __int16)v24) >> 8) - (v28 + v27);
      v31 = v30 + (277 * v26 >> 8) - v28;
      *((_DWORD *)v8 + 56) = (signed __int16)v16 - (signed __int16)v161;
      *(_DWORD *)v8 = (signed __int16)v16 + (signed __int16)v161;
      *((_DWORD *)v8 + 48) = v19 - v29;
      *((_DWORD *)v8 + 40) = (signed __int16)v12 - (signed __int16)v30;
      *((_DWORD *)v8 + 16) = (signed __int16)v12 + (signed __int16)v30;
      *((_DWORD *)v8 + 24) = (signed __int16)v18 - (signed __int16)v31;
      v6 = v164;
      *((_DWORD *)v8 + 8) = v29 + v19;
      *((_DWORD *)v8 + 32) = (signed __int16)v31 + (signed __int16)v18;
    }
    else
    {
      v11 = *(_WORD *)v5 * *(_WORD *)v6;
      *(_DWORD *)v8 = v11;
      *((_DWORD *)v8 + 8) = v11;
      *((_DWORD *)v8 + 16) = v11;
      *((_DWORD *)v8 + 24) = v11;
      *((_DWORD *)v8 + 32) = v11;
      *((_DWORD *)v8 + 40) = v11;
      *((_DWORD *)v8 + 48) = v11;
      *((_DWORD *)v8 + 56) = v11;
    }
    v6 += 2;
    v5 += 2;
    v8 += 4;
    v32 = v166 == 1;
    v164 = v6;
    --v166;
  }
  while ( !v32 );
  result = &v169;
  v165 = a4 + 8;
  v167 = 2;
  do
  {
    v34 = a5 + *(_DWORD *)(v165 - 8);
    if ( *((_DWORD *)result + 1) | *((_DWORD *)result + 2) | *((_DWORD *)result + 3) | *((_DWORD *)result + 4) | *((_DWORD *)result + 5) | *((_DWORD *)result + 6) | *((_DWORD *)result + 7) )
    {
      v36 = *((_WORD *)result + 8);
      v37 = *((_WORD *)result + 12);
      v38 = *(_WORD *)result + v36;
      v39 = *(_WORD *)result - v36;
      v40 = *((_WORD *)result + 4);
      v41 = v37 + v40;
      v42 = (362 * (*((_WORD *)result + 4) - (signed __int16)v37) >> 8) - (v37 + v40);
      v43 = v38 + v41;
      v44 = v38 - v41;
      v45 = v42 + v39;
      v46 = v39 - v42;
      LOWORD(v42) = *((_WORD *)result + 10);
      v47 = v45;
      v48 = *((_WORD *)result + 6);
      v49 = v46;
      v50 = v48 + (unsigned __int16)v42;
      v51 = v42 - v48;
      LOWORD(v42) = *((_WORD *)result + 2);
      v52 = *((_WORD *)result + 14);
      v53 = v50;
      v54 = (unsigned __int16)v42 + v52;
      LOWORD(v42) = v42 - v52;
      v55 = v54;
      v56 = v50 + v54;
      v57 = 473 * (v51 + (signed __int16)v42) >> 8;
      v58 = v57 + (-669 * v51 >> 8) - v56;
      v59 = v57 + (-669 * v51 >> 8) - v56;
      v60 = (362 * (v55 - v53) >> 8) - v58;
      v61 = v60 + (277 * (signed __int16)v42 >> 8) - v57;
      *(_BYTE *)v34 = *(_BYTE *)(((((signed __int16)v56 + v43) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 7) = *(_BYTE *)(v7 + (((v43 - (signed __int16)v56) >> 5) & 0x3FF));
      *(_BYTE *)(v34 + 6) = *(_BYTE *)(v7 + (((v47 - v59) >> 5) & 0x3FF));
      *(_BYTE *)(v34 + 2) = *(_BYTE *)((((v49 + (signed __int16)v60) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 5) = *(_BYTE *)((((v49 - (signed __int16)v60) >> 5) & 0x3FF) + v7);
      LOBYTE(v57) = *(_BYTE *)((((v59 + v47) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 4) = *(_BYTE *)((((v44 + (signed __int16)v61) >> 5) & 0x3FF) + v7);
      v35 = *(_BYTE *)((((v44 - (signed __int16)v61) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 1) = v57;
    }
    else
    {
      v35 = *(_BYTE *)(((*(_DWORD *)result >> 5) & 0x3FF) + v7);
      *(_BYTE *)v34 = v35;
      *(_BYTE *)(v34 + 1) = v35;
      *(_BYTE *)(v34 + 2) = v35;
      *(_BYTE *)(v34 + 4) = v35;
      *(_BYTE *)(v34 + 5) = v35;
      *(_BYTE *)(v34 + 6) = v35;
      *(_BYTE *)(v34 + 7) = v35;
    }
    v62 = *((_DWORD *)result + 14);
    v63 = *((_DWORD *)result + 13);
    v64 = *((_DWORD *)result + 12);
    *(_BYTE *)(v34 + 3) = v35;
    v65 = (int)(result + 32);
    v66 = a5 + *(_DWORD *)(v165 - 4);
    if ( *(_DWORD *)(v65 + 4) | *(_DWORD *)(v65 + 8) | *(_DWORD *)(v65 + 12) | v64 | v63 | v62 | *(_DWORD *)(v65 + 28) )
    {
      v68 = *(_WORD *)(v65 + 16);
      v69 = *(_WORD *)(v65 + 24);
      v70 = *(_WORD *)v65 + v68;
      v71 = *(_WORD *)v65 - v68;
      v72 = *(_WORD *)(v65 + 8);
      v73 = v69 + v72;
      v74 = (362 * (*(_WORD *)(v65 + 8) - (signed __int16)v69) >> 8) - (v69 + v72);
      v75 = v70 + v73;
      v76 = v70 - v73;
      v77 = v74 + v71;
      v78 = v71 - v74;
      LOWORD(v74) = *(_WORD *)(v65 + 20);
      v79 = v77;
      v80 = *(_WORD *)(v65 + 12);
      v81 = v78;
      v82 = v80 + (unsigned __int16)v74;
      LOWORD(v74) = v74 - v80;
      v83 = *(_WORD *)(v65 + 28);
      v84 = v82;
      LOWORD(v82) = v74;
      LOWORD(v74) = *(_WORD *)(v65 + 4);
      v85 = v74 + v83;
      v86 = v84 + (unsigned __int16)v74 + v83;
      v87 = (signed __int16)(v74 - v83);
      v88 = (signed __int16)v82;
      v89 = 473 * ((signed __int16)v82 + v87) >> 8;
      v90 = v89 + (-669 * v88 >> 8) - v86;
      v91 = v90;
      v92 = (362 * (v85 - (signed __int16)v84) >> 8) - v90;
      v93 = v92 + (277 * v87 >> 8) - v89;
      *(_BYTE *)v66 = *(_BYTE *)(((((signed __int16)v86 + v75) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 7) = *(_BYTE *)(v7 + (((v75 - (signed __int16)v86) >> 5) & 0x3FF));
      *(_BYTE *)(v66 + 6) = *(_BYTE *)(v7 + (((v79 - v91) >> 5) & 0x3FF));
      *(_BYTE *)(v66 + 2) = *(_BYTE *)((((v81 + (signed __int16)v92) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 5) = *(_BYTE *)((((v81 - (signed __int16)v92) >> 5) & 0x3FF) + v7);
      LOBYTE(v89) = *(_BYTE *)((((v91 + v79) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 4) = *(_BYTE *)((((v76 + (signed __int16)v93) >> 5) & 0x3FF) + v7);
      v67 = *(_BYTE *)((((v76 - (signed __int16)v93) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 1) = v89;
    }
    else
    {
      v67 = *(_BYTE *)(((*(_DWORD *)v65 >> 5) & 0x3FF) + v7);
      *(_BYTE *)v66 = v67;
      *(_BYTE *)(v66 + 1) = v67;
      *(_BYTE *)(v66 + 2) = v67;
      *(_BYTE *)(v66 + 4) = v67;
      *(_BYTE *)(v66 + 5) = v67;
      *(_BYTE *)(v66 + 6) = v67;
      *(_BYTE *)(v66 + 7) = v67;
    }
    v94 = *(_DWORD *)(v65 + 56);
    v95 = *(_DWORD *)(v65 + 52);
    v96 = *(_DWORD *)(v65 + 48);
    *(_BYTE *)(v66 + 3) = v67;
    v97 = v65 + 32;
    v98 = a5 + *(_DWORD *)v165;
    if ( *(_DWORD *)(v97 + 4) | *(_DWORD *)(v97 + 8) | *(_DWORD *)(v97 + 12) | v96 | v95 | v94 | *(_DWORD *)(v97 + 28) )
    {
      v100 = *(_WORD *)(v97 + 16);
      v101 = *(_WORD *)(v97 + 24);
      v102 = *(_WORD *)v97 + v100;
      v103 = *(_WORD *)v97 - v100;
      v104 = *(_WORD *)(v97 + 8);
      v105 = v101 + v104;
      v106 = (362 * (*(_WORD *)(v97 + 8) - (signed __int16)v101) >> 8) - (v101 + v104);
      v107 = v102 + v105;
      v108 = v102 - v105;
      v109 = v106 + v103;
      v110 = v103 - v106;
      LOWORD(v106) = *(_WORD *)(v97 + 20);
      v111 = v109;
      v112 = *(_WORD *)(v97 + 12);
      v113 = v110;
      v114 = v112 + (unsigned __int16)v106;
      v115 = v106 - v112;
      LOWORD(v106) = *(_WORD *)(v97 + 4);
      v116 = *(_WORD *)(v97 + 28);
      v117 = v114;
      v118 = (unsigned __int16)v106 + v116;
      LOWORD(v106) = v106 - v116;
      v119 = v118;
      v120 = v114 + v118;
      v121 = 473 * (v115 + (signed __int16)v106) >> 8;
      v122 = v121 + (-669 * v115 >> 8) - v120;
      v123 = v121 + (-669 * v115 >> 8) - v120;
      v124 = (362 * (v119 - v117) >> 8) - v122;
      v125 = v124 + (277 * (signed __int16)v106 >> 8) - v121;
      *(_BYTE *)v98 = *(_BYTE *)(((((signed __int16)v120 + v107) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 7) = *(_BYTE *)(v7 + (((v107 - (signed __int16)v120) >> 5) & 0x3FF));
      *(_BYTE *)(v98 + 6) = *(_BYTE *)(v7 + (((v111 - v123) >> 5) & 0x3FF));
      *(_BYTE *)(v98 + 2) = *(_BYTE *)((((v113 + (signed __int16)v124) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 5) = *(_BYTE *)((((v113 - (signed __int16)v124) >> 5) & 0x3FF) + v7);
      LOBYTE(v121) = *(_BYTE *)((((v123 + v111) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 4) = *(_BYTE *)((((v108 + (signed __int16)v125) >> 5) & 0x3FF) + v7);
      v99 = *(_BYTE *)((((v108 - (signed __int16)v125) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 1) = v121;
    }
    else
    {
      v99 = *(_BYTE *)(((*(_DWORD *)v97 >> 5) & 0x3FF) + v7);
      *(_BYTE *)v98 = v99;
      *(_BYTE *)(v98 + 1) = v99;
      *(_BYTE *)(v98 + 2) = v99;
      *(_BYTE *)(v98 + 4) = v99;
      *(_BYTE *)(v98 + 5) = v99;
      *(_BYTE *)(v98 + 6) = v99;
      *(_BYTE *)(v98 + 7) = v99;
    }
    v126 = *(_DWORD *)(v97 + 56);
    v127 = *(_DWORD *)(v97 + 52);
    v128 = *(_DWORD *)(v97 + 48);
    *(_BYTE *)(v98 + 3) = v99;
    v129 = v97 + 32;
    v130 = a5 + *(_DWORD *)(v165 + 4);
    if ( *(_DWORD *)(v129 + 4) | *(_DWORD *)(v129 + 8) | *(_DWORD *)(v129 + 12) | v128 | v127 | v126 | *(_DWORD *)(v129 + 28) )
    {
      v132 = *(_WORD *)(v129 + 16);
      v133 = *(_WORD *)(v129 + 24);
      v134 = *(_WORD *)v129 + v132;
      v135 = *(_WORD *)v129 - v132;
      v136 = *(_WORD *)(v129 + 8);
      v137 = v133 + v136;
      v138 = (362 * (*(_WORD *)(v129 + 8) - (signed __int16)v133) >> 8) - (v133 + v136);
      v139 = v134 + v137;
      v140 = v134 - v137;
      v141 = v138 + v135;
      v142 = v135 - v138;
      LOWORD(v138) = *(_WORD *)(v129 + 20);
      v143 = v141;
      v144 = *(_WORD *)(v129 + 12);
      v145 = v142;
      v146 = v144 + (unsigned __int16)v138;
      LOWORD(v138) = v138 - v144;
      v147 = *(_WORD *)(v129 + 28);
      v148 = v146;
      LOWORD(v146) = v138;
      LOWORD(v138) = *(_WORD *)(v129 + 4);
      v149 = v138 + v147;
      v150 = v148 + (unsigned __int16)v138 + v147;
      v151 = (signed __int16)(v138 - v147);
      v152 = (signed __int16)v146;
      v153 = 473 * ((signed __int16)v146 + v151) >> 8;
      v154 = v153 + (-669 * v152 >> 8) - v150;
      v155 = v154;
      v156 = (362 * (v149 - (signed __int16)v148) >> 8) - v154;
      v157 = v156 + (277 * v151 >> 8) - v153;
      *(_BYTE *)v130 = *(_BYTE *)(((((signed __int16)v150 + v139) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 7) = *(_BYTE *)(v7 + (((v139 - (signed __int16)v150) >> 5) & 0x3FF));
      *(_BYTE *)(v130 + 6) = *(_BYTE *)(v7 + (((v143 - v155) >> 5) & 0x3FF));
      *(_BYTE *)(v130 + 2) = *(_BYTE *)((((v145 + (signed __int16)v156) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 5) = *(_BYTE *)((((v145 - (signed __int16)v156) >> 5) & 0x3FF) + v7);
      LOBYTE(v153) = *(_BYTE *)((((v155 + v143) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 4) = *(_BYTE *)((((v140 + (signed __int16)v157) >> 5) & 0x3FF) + v7);
      v131 = *(_BYTE *)((((v140 - (signed __int16)v157) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 1) = v153;
    }
    else
    {
      v131 = *(_BYTE *)(((*(_DWORD *)v129 >> 5) & 0x3FF) + v7);
      *(_BYTE *)v130 = v131;
      *(_BYTE *)(v130 + 1) = v131;
      *(_BYTE *)(v130 + 2) = v131;
      *(_BYTE *)(v130 + 4) = v131;
      *(_BYTE *)(v130 + 5) = v131;
      *(_BYTE *)(v130 + 6) = v131;
      *(_BYTE *)(v130 + 7) = v131;
    }
    *(_BYTE *)(v130 + 3) = v131;
    result = (char *)(v129 + 32);
    v32 = v167 == 1;
    v165 += 16;
    --v167;
  }
  while ( !v32 );
  return result;
}

//----- (0046F980) --------------------------------------------------------
char *__stdcall sub_46F980(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebx@1
  int v6; // ebp@1
  int v7; // ecx@1
  char *v8; // eax@1
  int v9; // edx@9
  int v10; // edx@10
  int v11; // esi@10
  int v12; // edi@10
  int v13; // ST18_4@10
  int v14; // edi@10
  int v15; // ST14_4@10
  int v16; // esi@10
  int v17; // ST24_4@10
  int v18; // edi@10
  int v19; // edx@10
  int v20; // ST48_4@10
  int v21; // esi@10
  int v22; // ST44_4@10
  int v23; // ST38_4@10
  int v24; // edx@10
  int v25; // ST3C_4@10
  int v26; // esi@10
  int v27; // edi@10
  int v28; // ebx@10
  int v29; // ebp@10
  int v30; // ST14_4@10
  int v31; // ebx@10
  int v32; // ST28_4@10
  int v33; // ebx@10
  int v34; // ST30_4@10
  int v35; // ST18_4@10
  int v36; // ST1C_4@10
  int v37; // ebx@10
  int v38; // ebp@10
  int v39; // edx@10
  int v40; // esi@10
  int v41; // edi@10
  int v42; // ebp@10
  bool v43; // zf@11
  char *result; // eax@12
  int v45; // esi@13
  char v46; // dl@20
  int v47; // edx@21
  int v48; // edi@21
  int v49; // ebp@21
  int v50; // ST14_4@21
  int v51; // edx@21
  int v52; // ebx@21
  int v53; // ebp@21
  int v54; // ST10_4@21
  int v55; // edi@21
  int v56; // ebp@21
  int v57; // ST3C_4@21
  int v58; // edx@21
  int v59; // ST10_4@21
  int v60; // ST24_4@21
  int v61; // ST38_4@21
  int v62; // edx@21
  int v63; // ST30_4@21
  int v64; // ST18_4@21
  int v65; // ST1C_4@21
  int v66; // ST20_4@21
  int v67; // ST14_4@21
  int v68; // edx@21
  int v69; // edx@21
  int v70; // edx@21
  int v71; // edx@22
  int v72; // eax@22
  int v73; // esi@22
  char v74; // dl@29
  int v75; // edx@30
  int v76; // edi@30
  int v77; // ebp@30
  int v78; // ST14_4@30
  int v79; // edx@30
  int v80; // ebx@30
  int v81; // ebp@30
  int v82; // ST10_4@30
  int v83; // edi@30
  int v84; // ebp@30
  int v85; // ST3C_4@30
  int v86; // edx@30
  int v87; // ST10_4@30
  int v88; // ST24_4@30
  int v89; // ST38_4@30
  int v90; // edx@30
  int v91; // ST30_4@30
  int v92; // ST18_4@30
  int v93; // ST1C_4@30
  int v94; // ST20_4@30
  int v95; // ST14_4@30
  int v96; // edx@30
  int v97; // edx@30
  int v98; // edx@30
  int v99; // edx@31
  int v100; // eax@31
  int v101; // esi@31
  char v102; // dl@38
  int v103; // edx@39
  int v104; // edi@39
  int v105; // ebp@39
  int v106; // ST14_4@39
  int v107; // edx@39
  int v108; // ebx@39
  int v109; // ebp@39
  int v110; // ST10_4@39
  int v111; // edi@39
  int v112; // ebp@39
  int v113; // ST3C_4@39
  int v114; // edx@39
  int v115; // ST10_4@39
  int v116; // ST24_4@39
  int v117; // ST38_4@39
  int v118; // edx@39
  int v119; // ST30_4@39
  int v120; // ST18_4@39
  int v121; // ST1C_4@39
  int v122; // ST20_4@39
  int v123; // ST14_4@39
  int v124; // edx@39
  int v125; // edx@39
  int v126; // edx@39
  int v127; // edx@40
  int v128; // eax@40
  int v129; // esi@40
  char v130; // dl@47
  int v131; // edx@48
  int v132; // edi@48
  int v133; // ebp@48
  int v134; // ST14_4@48
  int v135; // edx@48
  int v136; // ebx@48
  int v137; // ebp@48
  int v138; // ST10_4@48
  int v139; // edi@48
  int v140; // ebp@48
  int v141; // ST3C_4@48
  int v142; // edx@48
  int v143; // ST10_4@48
  int v144; // ST24_4@48
  int v145; // ST38_4@48
  int v146; // edx@48
  int v147; // ST30_4@48
  int v148; // ST18_4@48
  int v149; // ST1C_4@48
  int v150; // ST20_4@48
  int v151; // ST14_4@48
  int v152; // edx@48
  int v153; // edx@48
  int v154; // edx@48
  signed int v155; // [sp+10h] [bp-13Ch]@1
  int v156; // [sp+2Ch] [bp-120h]@1
  int v157; // [sp+2Ch] [bp-120h]@13
  int v158; // [sp+2Ch] [bp-120h]@22
  int v159; // [sp+2Ch] [bp-120h]@31
  int v160; // [sp+2Ch] [bp-120h]@40
  int v161; // [sp+34h] [bp-118h]@1
  int v162; // [sp+34h] [bp-118h]@12
  __int16 v163; // [sp+40h] [bp-10Ch]@2
  signed int v164; // [sp+40h] [bp-10Ch]@12
  char v165; // [sp+4Ch] [bp-100h]@1

  v5 = *(_DWORD *)(a2 + 80);
  v6 = a3;
  v7 = *(_DWORD *)(a1 + 328) + 128;
  v161 = a3;
  v156 = *(_DWORD *)(a2 + 80);
  v8 = &v165;
  v155 = 8;
  do
  {
    v163 = *(_WORD *)(v6 + 16);
    if ( v163
      || *(_WORD *)(v6 + 32)
      || *(_WORD *)(v6 + 48)
      || *(_WORD *)(v6 + 64)
      || *(_WORD *)(v6 + 80)
      || *(_WORD *)(v6 + 96)
      || *(_WORD *)(v6 + 112) )
    {
      v10 = *(_WORD *)(v6 + 32) * *(_WORD *)(v5 + 32);
      v11 = *(_WORD *)(v6 + 96) * *(_WORD *)(v5 + 96);
      v12 = 4433 * (v11 + v10);
      v13 = v12;
      v14 = v12 - 15137 * v11;
      v15 = v13 + 6270 * v10;
      v16 = *(_WORD *)v5 * *(_WORD *)v6;
      v17 = v14;
      v18 = *(_WORD *)(v6 + 64) * *(_WORD *)(v5 + 64);
      v19 = (v18 + v16) << 13;
      v20 = v19 + v15;
      v21 = (v16 - v18) << 13;
      v22 = v19 - v15;
      v23 = v21 - v17;
      v24 = *(_WORD *)(v6 + 112) * *(_WORD *)(v5 + 112);
      v25 = v21 + v17;
      v26 = *(_WORD *)(v6 + 80) * *(_WORD *)(v5 + 80);
      v27 = *(_WORD *)(v6 + 48) * *(_WORD *)(v5 + 48);
      v28 = v163 * *(_WORD *)(v5 + 16);
      v29 = v24 + v28;
      v30 = v28;
      v31 = v26 + v28;
      v32 = v31;
      v33 = v24 + v27 + v31;
      v34 = 9633 * v33;
      v35 = -7373 * v29;
      v36 = -20995 * (v26 + v27);
      v37 = 9633 * v33 - 16069 * (v24 + v27);
      v38 = v34 - 3196 * v32;
      v39 = v37 + v35 + 2446 * v24;
      v40 = v36 + v38 + 16819 * v26;
      v41 = v36 + v37 + 25172 * v27;
      v42 = v35 + v38 + 12299 * v30;
      *(_DWORD *)v8 = (v20 + v42 + 1024) >> 11;
      *((_DWORD *)v8 + 56) = (v20 - v42 + 1024) >> 11;
      *((_DWORD *)v8 + 48) = (v25 - v41 + 1024) >> 11;
      *((_DWORD *)v8 + 40) = (v23 - v40 + 1024) >> 11;
      *((_DWORD *)v8 + 8) = (v25 + v41 + 1024) >> 11;
      v6 = v161;
      *((_DWORD *)v8 + 16) = (v23 + v40 + 1024) >> 11;
      v5 = v156;
      *((_DWORD *)v8 + 24) = (v22 + v39 + 1024) >> 11;
      *((_DWORD *)v8 + 32) = (v22 - v39 + 1024) >> 11;
    }
    else
    {
      v9 = 4 * *(_WORD *)v5 * *(_WORD *)v6;
      *(_DWORD *)v8 = v9;
      *((_DWORD *)v8 + 8) = v9;
      *((_DWORD *)v8 + 16) = v9;
      *((_DWORD *)v8 + 24) = v9;
      *((_DWORD *)v8 + 32) = v9;
      *((_DWORD *)v8 + 40) = v9;
      *((_DWORD *)v8 + 48) = v9;
      *((_DWORD *)v8 + 56) = v9;
    }
    v6 += 2;
    v5 += 2;
    v8 += 4;
    v43 = v155 == 1;
    v161 = v6;
    v156 = v5;
    --v155;
  }
  while ( !v43 );
  result = &v165;
  v162 = a4 + 8;
  v164 = 2;
  do
  {
    v45 = a5 + *(_DWORD *)(v162 - 8);
    v157 = *((_DWORD *)result + 1);
    if ( *((_DWORD *)result + 1)
      || *((_DWORD *)result + 2)
      || *((_DWORD *)result + 3)
      || *((_DWORD *)result + 4)
      || *((_DWORD *)result + 5)
      || *((_DWORD *)result + 6)
      || *((_DWORD *)result + 7) )
    {
      v47 = *((_DWORD *)result + 2);
      v48 = *((_DWORD *)result + 6);
      v49 = 4433 * (v48 + v47);
      v50 = v49 + 6270 * v47;
      v51 = *((_DWORD *)result + 4);
      v52 = v49 - 15137 * v48;
      v53 = (*(_DWORD *)result + v51) << 13;
      v54 = (*(_DWORD *)result - v51) << 13;
      v55 = v50 + v53;
      v56 = v53 - v50;
      v57 = v52 + v54;
      v58 = v54 - v52;
      v59 = *((_DWORD *)result + 5);
      v60 = *((_DWORD *)result + 3);
      v61 = v58;
      v62 = *((_DWORD *)result + 7);
      v63 = 9633 * (v60 + v62 + v59 + v157);
      v64 = -7373 * (v157 + v62);
      v65 = -20995 * (v60 + v59);
      v66 = 9633 * (v60 + v62 + v59 + v157) - 16069 * (v60 + v62);
      v67 = v66 + v64 + 2446 * v62;
      v68 = v64 + v63 - 3196 * (v59 + v157) + 12299 * v157;
      LOBYTE(v52) = *(_BYTE *)((((v55 + v68 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v45 + 7) = *(_BYTE *)((((v55 - v68 + 0x20000) >> 18) & 0x3FF) + v7);
      v69 = v65 + v66 + 25172 * v60;
      *(_BYTE *)v45 = v52;
      LOBYTE(v52) = *(_BYTE *)((((v57 + v69 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v45 + 6) = *(_BYTE *)((((v57 - v69 + 0x20000) >> 18) & 0x3FF) + v7);
      v70 = v65 + v63 - 3196 * (v59 + v157) + 16819 * v59;
      *(_BYTE *)(v45 + 1) = v52;
      *(_BYTE *)(v45 + 5) = *(_BYTE *)((((v61 - v70 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v52) = *(_BYTE *)((((v61 + v70 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v45 + 3) = *(_BYTE *)((((v67 + v56 + 0x20000) >> 18) & 0x3FF) + v7);
      v46 = *(_BYTE *)(v7 + (((v56 - v67 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v45 + 2) = v52;
    }
    else
    {
      v46 = *(_BYTE *)((((*(_DWORD *)result + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v45 = v46;
      *(_BYTE *)(v45 + 1) = v46;
      *(_BYTE *)(v45 + 2) = v46;
      *(_BYTE *)(v45 + 3) = v46;
      *(_BYTE *)(v45 + 5) = v46;
      *(_BYTE *)(v45 + 6) = v46;
      *(_BYTE *)(v45 + 7) = v46;
    }
    *(_BYTE *)(v45 + 4) = v46;
    v71 = *((_DWORD *)result + 9);
    v72 = (int)(result + 32);
    v73 = a5 + *(_DWORD *)(v162 - 4);
    v158 = v71;
    if ( v71
      || *(_DWORD *)(v72 + 8)
      || *(_DWORD *)(v72 + 12)
      || *(_DWORD *)(v72 + 16)
      || *(_DWORD *)(v72 + 20)
      || *(_DWORD *)(v72 + 24)
      || *(_DWORD *)(v72 + 28) )
    {
      v75 = *(_DWORD *)(v72 + 8);
      v76 = *(_DWORD *)(v72 + 24);
      v77 = 4433 * (v76 + v75);
      v78 = v77 + 6270 * v75;
      v79 = *(_DWORD *)(v72 + 16);
      v80 = v77 - 15137 * v76;
      v81 = (*(_DWORD *)v72 + v79) << 13;
      v82 = (*(_DWORD *)v72 - v79) << 13;
      v83 = v78 + v81;
      v84 = v81 - v78;
      v85 = v80 + v82;
      v86 = v82 - v80;
      v87 = *(_DWORD *)(v72 + 20);
      v88 = *(_DWORD *)(v72 + 12);
      v89 = v86;
      v90 = *(_DWORD *)(v72 + 28);
      v91 = 9633 * (v88 + v90 + v87 + v158);
      v92 = -7373 * (v158 + v90);
      v93 = -20995 * (v88 + v87);
      v94 = 9633 * (v88 + v90 + v87 + v158) - 16069 * (v88 + v90);
      v95 = v94 + v92 + 2446 * v90;
      v96 = v92 + v91 - 3196 * (v87 + v158) + 12299 * v158;
      LOBYTE(v80) = *(_BYTE *)((((v83 + v96 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v73 + 7) = *(_BYTE *)((((v83 - v96 + 0x20000) >> 18) & 0x3FF) + v7);
      v97 = v93 + v94 + 25172 * v88;
      *(_BYTE *)v73 = v80;
      LOBYTE(v80) = *(_BYTE *)((((v85 + v97 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v73 + 6) = *(_BYTE *)((((v85 - v97 + 0x20000) >> 18) & 0x3FF) + v7);
      v98 = v93 + v91 - 3196 * (v87 + v158) + 16819 * v87;
      *(_BYTE *)(v73 + 1) = v80;
      *(_BYTE *)(v73 + 5) = *(_BYTE *)((((v89 - v98 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v80) = *(_BYTE *)((((v89 + v98 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v73 + 3) = *(_BYTE *)((((v95 + v84 + 0x20000) >> 18) & 0x3FF) + v7);
      v74 = *(_BYTE *)(v7 + (((v84 - v95 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v73 + 2) = v80;
    }
    else
    {
      v74 = *(_BYTE *)((((*(_DWORD *)v72 + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v73 = v74;
      *(_BYTE *)(v73 + 1) = v74;
      *(_BYTE *)(v73 + 2) = v74;
      *(_BYTE *)(v73 + 3) = v74;
      *(_BYTE *)(v73 + 5) = v74;
      *(_BYTE *)(v73 + 6) = v74;
      *(_BYTE *)(v73 + 7) = v74;
    }
    *(_BYTE *)(v73 + 4) = v74;
    v99 = *(_DWORD *)(v72 + 36);
    v100 = v72 + 32;
    v101 = a5 + *(_DWORD *)v162;
    v159 = v99;
    if ( v99
      || *(_DWORD *)(v100 + 8)
      || *(_DWORD *)(v100 + 12)
      || *(_DWORD *)(v100 + 16)
      || *(_DWORD *)(v100 + 20)
      || *(_DWORD *)(v100 + 24)
      || *(_DWORD *)(v100 + 28) )
    {
      v103 = *(_DWORD *)(v100 + 8);
      v104 = *(_DWORD *)(v100 + 24);
      v105 = 4433 * (v104 + v103);
      v106 = v105 + 6270 * v103;
      v107 = *(_DWORD *)(v100 + 16);
      v108 = v105 - 15137 * v104;
      v109 = (*(_DWORD *)v100 + v107) << 13;
      v110 = (*(_DWORD *)v100 - v107) << 13;
      v111 = v106 + v109;
      v112 = v109 - v106;
      v113 = v108 + v110;
      v114 = v110 - v108;
      v115 = *(_DWORD *)(v100 + 20);
      v116 = *(_DWORD *)(v100 + 12);
      v117 = v114;
      v118 = *(_DWORD *)(v100 + 28);
      v119 = 9633 * (v116 + v118 + v115 + v159);
      v120 = -7373 * (v159 + v118);
      v121 = -20995 * (v116 + v115);
      v122 = 9633 * (v116 + v118 + v115 + v159) - 16069 * (v116 + v118);
      v123 = v122 + v120 + 2446 * v118;
      v124 = v120 + v119 - 3196 * (v115 + v159) + 12299 * v159;
      LOBYTE(v108) = *(_BYTE *)((((v111 + v124 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v101 + 7) = *(_BYTE *)((((v111 - v124 + 0x20000) >> 18) & 0x3FF) + v7);
      v125 = v121 + v122 + 25172 * v116;
      *(_BYTE *)v101 = v108;
      LOBYTE(v108) = *(_BYTE *)((((v113 + v125 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v101 + 6) = *(_BYTE *)((((v113 - v125 + 0x20000) >> 18) & 0x3FF) + v7);
      v126 = v121 + v119 - 3196 * (v115 + v159) + 16819 * v115;
      *(_BYTE *)(v101 + 1) = v108;
      *(_BYTE *)(v101 + 5) = *(_BYTE *)((((v117 - v126 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v108) = *(_BYTE *)((((v117 + v126 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v101 + 3) = *(_BYTE *)((((v123 + v112 + 0x20000) >> 18) & 0x3FF) + v7);
      v102 = *(_BYTE *)(v7 + (((v112 - v123 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v101 + 2) = v108;
    }
    else
    {
      v102 = *(_BYTE *)((((*(_DWORD *)v100 + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v101 = v102;
      *(_BYTE *)(v101 + 1) = v102;
      *(_BYTE *)(v101 + 2) = v102;
      *(_BYTE *)(v101 + 3) = v102;
      *(_BYTE *)(v101 + 5) = v102;
      *(_BYTE *)(v101 + 6) = v102;
      *(_BYTE *)(v101 + 7) = v102;
    }
    *(_BYTE *)(v101 + 4) = v102;
    v127 = *(_DWORD *)(v100 + 36);
    v128 = v100 + 32;
    v129 = a5 + *(_DWORD *)(v162 + 4);
    v160 = v127;
    if ( v127
      || *(_DWORD *)(v128 + 8)
      || *(_DWORD *)(v128 + 12)
      || *(_DWORD *)(v128 + 16)
      || *(_DWORD *)(v128 + 20)
      || *(_DWORD *)(v128 + 24)
      || *(_DWORD *)(v128 + 28) )
    {
      v131 = *(_DWORD *)(v128 + 8);
      v132 = *(_DWORD *)(v128 + 24);
      v133 = 4433 * (v132 + v131);
      v134 = v133 + 6270 * v131;
      v135 = *(_DWORD *)(v128 + 16);
      v136 = v133 - 15137 * v132;
      v137 = (*(_DWORD *)v128 + v135) << 13;
      v138 = (*(_DWORD *)v128 - v135) << 13;
      v139 = v134 + v137;
      v140 = v137 - v134;
      v141 = v136 + v138;
      v142 = v138 - v136;
      v143 = *(_DWORD *)(v128 + 20);
      v144 = *(_DWORD *)(v128 + 12);
      v145 = v142;
      v146 = *(_DWORD *)(v128 + 28);
      v147 = 9633 * (v144 + v146 + v143 + v160);
      v148 = -7373 * (v160 + v146);
      v149 = -20995 * (v144 + v143);
      v150 = 9633 * (v144 + v146 + v143 + v160) - 16069 * (v144 + v146);
      v151 = v150 + v148 + 2446 * v146;
      v152 = v148 + v147 - 3196 * (v143 + v160) + 12299 * v160;
      LOBYTE(v136) = *(_BYTE *)((((v139 + v152 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v129 + 7) = *(_BYTE *)((((v139 - v152 + 0x20000) >> 18) & 0x3FF) + v7);
      v153 = v149 + v150 + 25172 * v144;
      *(_BYTE *)v129 = v136;
      LOBYTE(v136) = *(_BYTE *)((((v141 + v153 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v129 + 6) = *(_BYTE *)((((v141 - v153 + 0x20000) >> 18) & 0x3FF) + v7);
      v154 = v149 + v147 - 3196 * (v143 + v160) + 16819 * v143;
      *(_BYTE *)(v129 + 1) = v136;
      *(_BYTE *)(v129 + 5) = *(_BYTE *)((((v145 - v154 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v136) = *(_BYTE *)((((v145 + v154 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v129 + 3) = *(_BYTE *)((((v151 + v140 + 0x20000) >> 18) & 0x3FF) + v7);
      v130 = *(_BYTE *)(v7 + (((v140 - v151 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v129 + 2) = v136;
    }
    else
    {
      v130 = *(_BYTE *)((((*(_DWORD *)v128 + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v129 = v130;
      *(_BYTE *)(v129 + 1) = v130;
      *(_BYTE *)(v129 + 2) = v130;
      *(_BYTE *)(v129 + 3) = v130;
      *(_BYTE *)(v129 + 5) = v130;
      *(_BYTE *)(v129 + 6) = v130;
      *(_BYTE *)(v129 + 7) = v130;
    }
    *(_BYTE *)(v129 + 4) = v130;
    result = (char *)(v128 + 32);
    v43 = v164 == 1;
    v162 += 16;
    --v164;
  }
  while ( !v43 );
  return result;
}

//----- (00470670) --------------------------------------------------------
int __stdcall sub_470670(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // et1@1
  int v7; // et1@1
  int v8; // et1@1
  int v9; // et1@1
  int v10; // eax@1
  int v11; // ebx@1
  int v12; // ecx@1
  int v13; // edx@1
  int v14; // ecx@2
  int v15; // ebx@2
  int v16; // ST1C_4@2
  int v17; // ST20_4@2
  int v18; // ecx@2
  int v19; // eax@2
  int v20; // edx@2
  int v21; // ecx@2
  int v22; // eax@2
  int v23; // ST24_4@2
  int v24; // ST28_4@2
  int v25; // ST2C_4@2
  int v26; // ST30_4@2
  int v27; // ST34_4@2
  int v28; // ST1C_4@2
  int v29; // ST20_4@2
  int v30; // ST38_4@2
  int v31; // eax@2
  int v32; // edx@2
  int v33; // esi@2
  int v34; // ecx@2
  int v35; // ebx@2
  int v36; // esi@2
  int v37; // eax@2
  int v38; // ecx@2
  int v39; // eax@2
  int v40; // edx@2
  int v41; // ecx@2
  int v42; // esi@2
  int v43; // edi@4
  int v44; // edi@4
  int v45; // ecx@4
  int v46; // et1@4
  int v47; // ebx@4
  int v48; // ST1C_4@4
  int v49; // ST20_4@4
  int v50; // ecx@4
  int v51; // edx@4
  int v52; // ecx@4
  int v53; // eax@4
  int v54; // ST24_4@4
  int v55; // ST28_4@4
  int v56; // ST2C_4@4
  int v57; // ST30_4@4
  int v58; // ST34_4@4
  int v59; // ST1C_4@4
  int v60; // eax@4
  int v61; // ST20_4@4
  int v62; // ST38_4@4
  int v63; // ST40_4@4
  int v64; // ebx@4
  int v65; // eax@4
  int v66; // edx@4
  int v67; // esi@4
  int v68; // ecx@4
  int v69; // ebx@4
  int v70; // esi@4
  int v71; // eax@4
  int v72; // ecx@4
  int v73; // eax@4
  int v74; // edx@4
  int v75; // ST34_4@4
  int v76; // ST38_4@4
  int v77; // ST1C_4@4
  int v78; // ST20_4@4
  int result; // eax@4
  int v80; // [sp+Ch] [bp-44h]@1
  int v81; // [sp+10h] [bp-40h]@1
  int v82; // [sp+14h] [bp-3Ch]@1
  int v83; // [sp+14h] [bp-3Ch]@3
  signed int v84; // [sp+18h] [bp-38h]@1
  signed int v85; // [sp+18h] [bp-38h]@3
  int v86; // [sp+4Ch] [bp-4h]@3

  v80 = a1;
  v81 = a2;
  v82 = a3;
  v84 = 8;
  v6 = *(_DWORD *)a1;
  v7 = *(_DWORD *)(a1 + 32);
  v8 = *(_DWORD *)(a1 + 64);
  v9 = *(_DWORD *)(a1 + 96);
  v10 = *(_DWORD *)a2;
  v11 = *(_DWORD *)(a2 + 32);
  v12 = *(_DWORD *)(a2 + 64);
  v13 = *(_DWORD *)(a2 + 96);
  do
  {
    v14 = *(_WORD *)(v81 + 96) * *(_WORD *)(v80 + 96);
    v15 = 4433 * (v14 + *(_WORD *)(v81 + 32) * *(_WORD *)(v80 + 32));
    v16 = v15 + -15137 * v14;
    v17 = v15 + 6270 * *(_WORD *)(v81 + 32) * *(_WORD *)(v80 + 32);
    v18 = *(_WORD *)(v81 + 64) * *(_WORD *)(v80 + 64);
    v19 = *(_WORD *)v81 * *(_WORD *)v80;
    v20 = v18;
    v21 = (v19 + v18) << 13;
    v22 = (v19 - v20) << 13;
    v23 = v17 + v21;
    v24 = v16 + v22;
    v25 = v21 - v17;
    v26 = v22 - v16;
    v27 = *(_WORD *)(v81 + 112) * *(_WORD *)(v80 + 112);
    v28 = *(_WORD *)(v81 + 48) * *(_WORD *)(v80 + 48);
    v29 = *(_WORD *)(v81 + 16) * *(_WORD *)(v80 + 16);
    v30 = *(_WORD *)(v81 + 80) * *(_WORD *)(v80 + 80);
    v31 = -7373 * (v29 + v27);
    v32 = -20995 * (v28 + v30);
    v33 = 9633 * (v29 + v30 + v28 + v27);
    v34 = v33 + -16069 * (v28 + v27);
    v35 = v33 + -3196 * (v29 + v30);
    v36 = v31;
    v37 = v34 + v31;
    v38 = v32 + v34;
    v39 = 2446 * v27 + v37;
    v40 = 16819 * v30 + v35 + v32;
    v41 = 25172 * v28 + v38;
    v42 = 12299 * v29 + v35 + v36;
    *(_DWORD *)(v82 + 128) = (v25 - v39 + 1024) >> 11;
    *(_DWORD *)(v82 + 96) = (v25 + v39 + 1024) >> 11;
    *(_DWORD *)(v82 + 160) = (v26 - v40 + 1024) >> 11;
    *(_DWORD *)(v82 + 192) = (v24 - v41 + 1024) >> 11;
    *(_DWORD *)(v82 + 64) = (v26 + v40 + 1024) >> 11;
    *(_DWORD *)(v82 + 32) = (v24 + v41 + 1024) >> 11;
    *(_DWORD *)(v82 + 224) = (v23 - v42 + 1024) >> 11;
    *(_DWORD *)v82 = (v42 + v23 + 1024) >> 11;
    v80 += 2;
    v82 += 4;
    v81 += 2;
    --v84;
  }
  while ( v84 );
  v85 = 8;
  v86 = 0;
  v83 = a3;
  do
  {
    v43 = *(_DWORD *)(v86 + a4);
    v86 += 4;
    v44 = a5 + v43;
    v45 = *(_DWORD *)(v83 + 24);
    v46 = *(_DWORD *)v44;
    v47 = 4433 * (v45 + *(_DWORD *)(v83 + 8));
    v48 = v47 + -15137 * v45;
    v49 = v47 + 6270 * *(_DWORD *)(v83 + 8);
    v50 = *(_DWORD *)(v83 + 16);
    v51 = v50;
    v52 = (*(_DWORD *)v83 + v50) << 13;
    v53 = (*(_DWORD *)v83 - v51) << 13;
    v54 = v49 + v52;
    v55 = v48 + v53;
    v56 = v52 - v49;
    v57 = v53 - v48;
    v58 = *(_DWORD *)(v83 + 28);
    v59 = *(_DWORD *)(v83 + 12);
    v60 = *(_DWORD *)(v83 + 20);
    v61 = *(_DWORD *)(v83 + 4);
    v62 = v60;
    v63 = 16819 * v60;
    v64 = v61 + v60;
    v65 = -7373 * (v61 + v58);
    v66 = -20995 * (v59 + v62);
    v67 = 9633 * (v64 + v59 + v58);
    v68 = v67 + -16069 * (v59 + v58);
    v69 = v67 + -3196 * v64;
    v70 = v65;
    v71 = v68 + v65;
    v72 = v66 + v68;
    v73 = 2446 * v58 + v71;
    v74 = v63 + v69 + v66;
    v75 = v73;
    v76 = v74;
    v77 = 25172 * v59 + v72;
    v78 = 12299 * v61 + v69 + v70;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v73 + v56 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v54 - v78 + 0x20000) >> 18) & 0x3FF));
    v73 <<= 8;
    v74 <<= 8;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v76 + v57 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v55 - v77 + 0x20000) >> 18) & 0x3FF));
    v73 <<= 8;
    v74 <<= 8;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v77 + v55 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v57 - v76 + 0x20000) >> 18) & 0x3FF));
    v73 <<= 8;
    v74 <<= 8;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v78 + v54 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v56 - v75 + 0x20000) >> 18) & 0x3FF));
    *(_DWORD *)v44 = v73;
    *(_DWORD *)(v44 + 4) = v74;
    v83 += 32;
    result = v85-- - 1;
  }
  while ( v85 );
  return result;
}

//----- (00470B30) --------------------------------------------------------
int __stdcall sub_470B30(int a1, int a2, __m64 *a3, int a4, int a5, int a6)
{
  __m64 v6; // mm0@2
  __m64 v7; // mm2@2
  __m64 v8; // mm4@2
  __m64 v9; // mm5@2
  __m64 v10; // mm3@2
  __m64 v11; // mm0@2
  __m64 v12; // mm6@2
  __m64 v13; // mm0@2
  __m64 v14; // mm6@2
  __m64 v15; // mm2@2
  __m64 v16; // mm4@2
  __m64 v17; // mm3@2
  __m64 v18; // mm5@2
  __m64 v19; // mm0@2
  __m64 v20; // ST0C_8@2
  __m64 v21; // mm6@2
  __m64 v22; // mm1@2
  __m64 v23; // mm0@2
  __m64 v24; // mm1@2
  __m64 v25; // mm6@2
  __m64 v26; // mm0@2
  __m64 v27; // mm6@2
  __m64 v28; // mm2@2
  __m64 v29; // ST1C_8@2
  __m64 v30; // ST2C_8@2
  __m64 v31; // ST3C_8@2
  __m64 v32; // ST4C_8@2
  __m64 v33; // mm1@2
  __m64 v34; // ST5C_8@2
  __m64 v35; // ST6C_8@2
  __m64 v36; // ST7C_8@2
  __m64 v37; // ST8C_8@2
  __m64 v38; // ST9C_8@2
  __m64 v39; // STAC_8@2
  __m64 v40; // mm0@2
  __m64 v41; // STBC_8@2
  __m64 v42; // STCC_8@2
  __m64 v43; // mm2@2
  __m64 v44; // mm1@2
  __m64 v45; // mm3@2
  __m64 v46; // mm5@2
  __m64 v47; // STDC_8@2
  __m64 v48; // mm4@2
  __m64 v49; // STE4_8@2
  __m64 v50; // mm5@2
  __m64 v51; // ST44_8@2
  __m64 v52; // mm7@2
  __m64 v53; // mm0@2
  __m64 v54; // mm2@2
  __m64 v55; // mm4@2
  __m64 v56; // ST84_8@2
  __m64 v57; // mm1@2
  __m64 v58; // mm5@2
  __m64 v59; // mm3@2
  __m64 v60; // mm0@2
  __m64 v61; // STEC_8@2
  __m64 v62; // ST34_8@2
  __m64 v63; // STB4_8@2
  __m64 v64; // ST24_8@2
  __m64 v65; // STD4_8@2
  __m64 v66; // mm7@2
  __m64 v67; // mm6@2
  __m64 v68; // ST74_8@2
  __m64 v69; // mm0@2
  __m64 v70; // ST14_8@2
  __m64 v71; // mm1@2
  __m64 v72; // mm5@2
  __m64 v73; // mm4@2
  __m64 v74; // mm6@2
  __m64 v75; // mm7@2
  __m64 v76; // mm2@2
  __m64 v77; // mm1@2
  __m64 v78; // mm5@2
  __m64 v79; // mm4@2
  __m64 v80; // mm7@2
  __m64 v81; // mm6@2
  __m64 v82; // mm2@2
  __m64 v83; // mm0@2
  __m64 v84; // mm2@2
  __m64 v85; // mm4@2
  __m64 v86; // mm5@2
  __m64 v87; // mm0@2
  __m64 v88; // mm1@2
  int result; // eax@2
  __m64 v90; // mm1@4
  __m64 v91; // mm2@4
  __m64 v92; // mm4@4
  __m64 v93; // mm3@4
  __m64 v94; // mm2@4
  __m64 v95; // mm4@4
  __m64 v96; // mm7@4
  __m64 v97; // mm5@4
  __m64 v98; // mm3@4
  __m64 v99; // mm4@4
  __m64 v100; // mm7@4
  __m64 v101; // mm5@4
  __m64 v102; // mm6@4
  __m64 v103; // mm3@4
  __m64 v104; // mm1@4
  __m64 v105; // mm0@4
  __m64 v106; // mm1@4
  __m64 v107; // mm3@4
  __m64 v108; // mm2@4
  __m64 v109; // mm1@4
  __m64 v110; // mm0@4
  int v111; // edi@4
  __m64 v112; // mm3@4
  unsigned int v113; // eax@4
  __m64 v114; // mm4@4
  __m64 v115; // mm2@4
  int v116; // [sp+F4h] [bp+4Ch]@1
  __m64 *v117; // [sp+F8h] [bp+50h]@1
  __m64 *v118; // [sp+F8h] [bp+50h]@3
  int v119; // [sp+FCh] [bp+54h]@1
  int v120; // [sp+100h] [bp+58h]@3
  signed int v121; // [sp+104h] [bp+5Ch]@1
  signed int v122; // [sp+104h] [bp+5Ch]@3

  v116 = a1;
  v119 = a2;
  v121 = 2;
  v117 = a3;
  do
  {
    v6 = _m_pmullw(*(__m64 *)(v116 + 32), *(__m64 *)(v119 + 32));
    v7 = _m_pmullw(*(__m64 *)(v116 + 96), *(__m64 *)(v119 + 96));
    v8 = _m_pmaddwd(v6, (__m64)qword_4C2858);
    v9 = _m_pmaddwd(_m_psrlq(v6, 0x10u), (__m64)qword_4C2858);
    v10 = _m_psrlq(v7, 0x10u);
    v11 = _m_paddw(v6, v7);
    v12 = _m_psrlq(v11, 0x10u);
    v13 = _m_pmaddwd(v11, (__m64)qword_4C2850);
    v14 = _m_pmaddwd(v12, (__m64)qword_4C2850);
    v15 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v7, (__m64)qword_4C2878), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
            v13);
    v16 = _m_paddd(v8, v13);
    v17 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v10, (__m64)qword_4C2878), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
            v14);
    v18 = _m_paddd(v9, v14);
    v19 = _m_pmullw(*(__m64 *)v116, *(__m64 *)v119);
    v20 = v15;
    v21 = _m_pmullw(*(__m64 *)(v116 + 64), *(__m64 *)(v119 + 64));
    v22 = v19;
    v23 = _m_paddw(v19, v21);
    v24 = _m_psubw(v22, v21);
    v25 = v23;
    v26 = _m_pslld(_m_pmaddwd(v23, (__m64)qword_4C28B0), 0xDu);
    v27 = _m_pslld(_m_pmaddwd(_m_psrlq(v25, 0x10u), (__m64)qword_4C28B0), 0xDu);
    v28 = _m_pslld(_m_pmaddwd(_m_psrlq(v24, 0x10u), (__m64)qword_4C28B0), 0xDu);
    v29 = _m_psubd(v26, v16);
    v30 = _m_paddd(v18, v27);
    v31 = _m_psubd(v27, v18);
    v32 = _m_paddd(v16, v26);
    v33 = _m_pslld(_m_pmaddwd(v24, (__m64)qword_4C28B0), 0xDu);
    v34 = _m_paddd(v17, v28);
    v35 = _m_psubd(v28, v17);
    v36 = _m_paddd(v20, v33);
    v37 = _m_psubd(v33, v20);
    v38 = _m_pmullw(*(__m64 *)(v116 + 16), *(__m64 *)(v119 + 16));
    v39 = _m_pmullw(*(__m64 *)(v116 + 112), *(__m64 *)(v119 + 112));
    v40 = _m_paddw(v39, v38);
    v41 = _m_pmullw(*(__m64 *)(v116 + 80), *(__m64 *)(v119 + 80));
    v42 = _m_pmullw(*(__m64 *)(v116 + 48), *(__m64 *)(v119 + 48));
    v43 = _m_paddw(v41, v42);
    v44 = _m_paddw(v39, v42);
    v45 = _m_paddw(v41, v38);
    v46 = _m_paddw(v44, v45);
    v47 = _m_pmaddwd(v46, (__m64)qword_4C2868);
    v48 = _m_psrlq(v43, 0x10u);
    v49 = _m_pmaddwd(_m_psrlq(v46, 0x10u), (__m64)qword_4C2868);
    v50 = _m_psrlq(v44, 0x10u);
    v51 = _m_paddd(_m_pxor(_m_pmaddwd(v40, (__m64)qword_4C2860), (__m64)qword_4C28A0), (__m64)qword_4C28A8);
    v52 = _m_pmaddwd(_m_psrlq(v40, 0x10u), (__m64)qword_4C2860);
    v53 = _m_psrlq(v45, 0x10u);
    v54 = _m_paddd(_m_pxor(_m_pmaddwd(v43, (__m64)qword_4C2890), (__m64)qword_4C28A0), (__m64)qword_4C28A8);
    v55 = _m_paddd(_m_pxor(_m_pmaddwd(v48, (__m64)qword_4C2890), (__m64)qword_4C28A0), (__m64)qword_4C28A8);
    v56 = _m_paddd(_m_pxor(v52, (__m64)qword_4C28A0), (__m64)qword_4C28A8);
    v57 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v44, (__m64)qword_4C2880), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
            v47);
    v58 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v50, (__m64)qword_4C2880), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
            v49);
    v59 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v45, (__m64)qword_4C2848), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
            v47);
    v60 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v53, (__m64)qword_4C2848), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
            v49);
    v61 = _m_paddd(v57, v54);
    v62 = _m_paddd(v55, v60);
    v63 = _m_paddd(v58, v55);
    v64 = _m_paddd(_m_pmaddwd(v39, (__m64)qword_4C2840), _m_paddd(v51, v57));
    v65 = _m_paddd(_m_pmaddwd(_m_psrlq(v39, 0x10u), (__m64)qword_4C2840), _m_paddd(v56, v58));
    v66 = _m_paddd(_m_pmaddwd(v38, (__m64)qword_4C2870), _m_paddd(v59, v51));
    v67 = _m_paddd(_m_pmaddwd(_m_psrlq(v38, 0x10u), (__m64)qword_4C2870), _m_paddd(v60, v56));
    v68 = _m_paddd(_m_pmaddwd(v41, (__m64)qword_4C2888), _m_paddd(v54, v59));
    v69 = _m_psrad(_m_paddd(_m_psubd(v32, v66), (__m64)qword_4C28B8), 0xBu);
    v70 = _m_paddd(_m_pmaddwd(_m_psrlq(v41, 0x10u), (__m64)qword_4C2888), v62);
    v71 = _m_psrad(_m_paddd(_m_psubd(v30, v67), (__m64)qword_4C28B8), 0xBu);
    v72 = _m_paddd(_m_pmaddwd(v42, (__m64)qword_4C2898), v61);
    v73 = _m_paddd(_m_pmaddwd(_m_psrlq(v42, 0x10u), (__m64)qword_4C2898), v63);
    v117[14].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v69, v71), _m_punpckhwd(v69, v71));
    v74 = _m_psrad(_m_paddd(_m_paddd(v67, v30), (__m64)qword_4C28B8), 0xBu);
    v75 = _m_psrad(_m_paddd(_m_paddd(v66, v32), (__m64)qword_4C28B8), 0xBu);
    v76 = _m_psrad(_m_paddd(_m_psubd(v36, v72), (__m64)qword_4C28B8), 0xBu);
    v117->m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v75, v74), _m_punpckhwd(v75, v74));
    v77 = _m_psrad(_m_paddd(_m_psubd(v34, v73), (__m64)qword_4C28B8), 0xBu);
    v78 = _m_psrad(_m_paddd(_m_paddd(v72, v36), (__m64)qword_4C28B8), 0xBu);
    v117[12].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v76, v77), _m_punpckhwd(v76, v77));
    v79 = _m_psrad(_m_paddd(_m_paddd(v73, v34), (__m64)qword_4C28B8), 0xBu);
    v117[2].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v78, v79), _m_punpckhwd(v78, v79));
    v80 = _m_psrad(_m_paddd(_m_paddd(v35, v70), (__m64)qword_4C28B8), 0xBu);
    v81 = _m_psrad(_m_paddd(_m_paddd(v37, v68), (__m64)qword_4C28B8), 0xBu);
    v82 = _m_psrad(_m_paddd(_m_psubd(v37, v68), (__m64)qword_4C28B8), 0xBu);
    v83 = _m_psrad(_m_paddd(_m_psubd(v35, v70), (__m64)qword_4C28B8), 0xBu);
    v117[4].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v81, v80), _m_punpckhwd(v81, v80));
    v84 = _m_punpckldq(_m_punpcklwd(v82, v83), _m_punpckhwd(v82, v83));
    v85 = _m_psrad(_m_paddd(_m_paddd(v29, v64), (__m64)qword_4C28B8), 0xBu);
    v86 = _m_psrad(_m_paddd(_m_psubd(v29, v64), (__m64)qword_4C28B8), 0xBu);
    v87 = _m_psrad(_m_paddd(_m_paddd(v31, v65), (__m64)qword_4C28B8), 0xBu);
    v117[10].m64_u64 = (unsigned __int64)v84;
    v88 = _m_psrad(_m_paddd(_m_psubd(v31, v65), (__m64)qword_4C28B8), 0xBu);
    v117[6].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v85, v87), _m_punpckhwd(v85, v87));
    v116 += 8;
    v119 += 8;
    v117[8].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v86, v88), _m_punpckhwd(v86, v88));
    ++v117;
    result = v121-- - 1;
  }
  while ( v121 );
  v122 = 8;
  v118 = a3;
  v120 = 0;
  do
  {
    v90 = v118[1];
    v91 = _m_paddw((__m64)v118->m64_u64, v90);
    v92 = v91;
    v93 = _m_pmaddwd(_m_punpckhdq((__m64)v118->m64_u64, v90), (__m64)qword_4C28D0);
    v94 = _m_pmaddwd(v91, (__m64)qword_4C28D8);
    v95 = _m_psrad(_m_pslld(_m_punpckldq(v92, _m_psubw((__m64)v118->m64_u64, v90)), 0x10u), 3u);
    v96 = v95;
    v97 = _m_paddd(
            _m_punpckldq(v93, _m_psrlq(_m_paddd(_m_pxor(v93, (__m64)qword_4C28A0), (__m64)qword_4C28A8), 0x20u)),
            _m_punpckhdq(v94, v94));
    v98 = _m_paddw((__m64)v118->m64_u64, v90);
    v99 = _m_paddd(v95, v97);
    v100 = _m_psubd(v96, v97);
    v101 = _m_pmaddwd(_m_paddw(_m_punpckldq(v98, v98), v98), (__m64)qword_4C2900);
    v102 = _m_paddd(
             _m_pxor(
               _m_pmaddwd(
                 _m_paddw(
                   _m_punpckhdq((__m64)v118->m64_u64, _m_punpckldq((__m64)v118->m64_u64, (__m64)v118->m64_u64)),
                   v90),
                 (__m64)qword_4C28F0),
               (__m64)qword_4C28A0),
             (__m64)qword_4C28A8);
    v103 = _m_paddd(
             _m_paddd(_m_pxor(_m_pmaddwd(v98, (__m64)qword_4C28F8), (__m64)qword_4C28A0), (__m64)qword_4C28A8),
             _m_punpckhdq(v101, v101));
    v104 = _m_paddd(_m_pmaddwd(v90, (__m64)qword_4C28E8), _m_paddd(v102, v103));
    v105 = _m_paddd(
             _m_pmaddwd((__m64)v118->m64_u64, (__m64)qword_4C28E0),
             _m_paddd(_m_punpckhdq(v102, _m_punpckldq(v102, v102)), v103));
    v106 = _m_punpckhdq(v104, _m_punpckldq(v104, v104));
    v107 = _m_psubd(v99, v105);
    v108 = _m_psubd(v100, v106);
    v109 = _m_pand(_m_psrad(_m_paddd(_m_paddd(v106, v100), (__m64)qword_4C28C0), 0x12u), (__m64)qword_4C28C8);
    v110 = _m_pand(_m_psrad(_m_paddd(_m_paddd(v105, v99), (__m64)qword_4C28C0), 0x12u), (__m64)qword_4C28C8);
    BYTE1(result) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v109));
    v111 = *(_DWORD *)(v120 + a4);
    LOBYTE(result) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v109, 0x20u)));
    v120 += 4;
    v112 = _m_pand(_m_psrad(_m_paddd(v107, (__m64)qword_4C28C0), 0x12u), (__m64)qword_4C28C8);
    v113 = result << 16;
    LOBYTE(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v110));
    BYTE1(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v110, 0x20u)));
    v114 = _mm_cvtsi32_si64(v113);
    v115 = _m_pand(_m_psrad(_m_paddd(v108, (__m64)qword_4C28C0), 0x12u), (__m64)qword_4C28C8);
    BYTE1(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v112));
    LOBYTE(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v112, 0x20u)));
    v113 <<= 16;
    LOBYTE(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v115));
    BYTE1(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v115, 0x20u)));
    v118 += 2;
    *(__m64 *)(a5 + v111) = _m_punpckldq(v114, _mm_cvtsi32_si64(v113));
    result = v122 - 1;
    v122 = result;
  }
  while ( result );
  _m_femms();
  return result;
}
// 4C2840: using guessed type __int64 qword_4C2840;
// 4C2848: using guessed type __int64 qword_4C2848;
// 4C2850: using guessed type __int64 qword_4C2850;
// 4C2858: using guessed type __int64 qword_4C2858;
// 4C2860: using guessed type __int64 qword_4C2860;
// 4C2868: using guessed type __int64 qword_4C2868;
// 4C2870: using guessed type __int64 qword_4C2870;
// 4C2878: using guessed type __int64 qword_4C2878;
// 4C2880: using guessed type __int64 qword_4C2880;
// 4C2888: using guessed type __int64 qword_4C2888;
// 4C2890: using guessed type __int64 qword_4C2890;
// 4C2898: using guessed type __int64 qword_4C2898;
// 4C28A0: using guessed type __int64 qword_4C28A0;
// 4C28A8: using guessed type __int64 qword_4C28A8;
// 4C28B0: using guessed type __int64 qword_4C28B0;
// 4C28B8: using guessed type __int64 qword_4C28B8;
// 4C28C0: using guessed type __int64 qword_4C28C0;
// 4C28C8: using guessed type __int64 qword_4C28C8;
// 4C28D0: using guessed type __int64 qword_4C28D0;
// 4C28D8: using guessed type __int64 qword_4C28D8;
// 4C28E0: using guessed type __int64 qword_4C28E0;
// 4C28E8: using guessed type __int64 qword_4C28E8;
// 4C28F0: using guessed type __int64 qword_4C28F0;
// 4C28F8: using guessed type __int64 qword_4C28F8;
// 4C2900: using guessed type __int64 qword_4C2900;

//----- (00471240) --------------------------------------------------------
char __userpurge sub_471240@<al>(int a1@<ebp>, int a2, int a3, int a4, int a5, int a6)
{
  signed int v6; // ecx@1
  int v7; // edi@1
  int v8; // esi@1
  int v9; // edx@1
  int v10; // eax@9
  int v11; // eax@10
  int v12; // ecx@10
  int v13; // ebx@10
  int v14; // ST24_4@10
  int v15; // ST18_4@10
  int v16; // ecx@10
  int v17; // ST20_4@10
  int v18; // eax@10
  int v19; // ST10_4@10
  int v20; // ecx@10
  int v21; // eax@10
  signed int v22; // ebx@10
  int v23; // eax@10
  int v24; // ebp@13
  char v25; // al@19
  int v26; // ebx@20
  int v27; // ecx@20
  int v28; // esi@20
  int v29; // eax@20
  int v30; // edx@20
  int v31; // ebp@21
  char v32; // al@27
  int v33; // ebx@28
  int v34; // ecx@28
  int v35; // esi@28
  int v36; // eax@28
  int v37; // edx@28
  int v38; // ebp@29
  char v39; // al@35
  int v40; // ebx@36
  int v41; // ecx@36
  int v42; // esi@36
  int v43; // eax@36
  int v44; // edx@36
  int v45; // ebp@37
  char result; // al@43
  int v47; // ebx@44
  int v48; // ecx@44
  int v49; // esi@44
  int v50; // eax@44
  int v51; // edx@44
  signed int v52; // ebx@44
  int v53; // ecx@44
  signed int v54; // [sp+14h] [bp-34h]@1
  int v55; // [sp+1Ch] [bp-2Ch]@1
  int v56; // [sp+28h] [bp-20h]@0
  int v57; // [sp+2Ch] [bp-1Ch]@0
  int v58; // [sp+30h] [bp-18h]@0
  int v59; // [sp+34h] [bp-14h]@0
  int v60; // [sp+3Ch] [bp-Ch]@0
  int v61; // [sp+40h] [bp-8h]@0
  int v62; // [sp+44h] [bp-4h]@0
  int v63; // [sp+48h] [bp+0h]@0
  int v64; // [sp+4Ch] [bp+4h]@0
  int v65; // [sp+50h] [bp+8h]@0
  int v66; // [sp+54h] [bp+Ch]@0
  int v67; // [sp+5Ch] [bp+14h]@0
  int v68; // [sp+60h] [bp+18h]@0
  int v69; // [sp+64h] [bp+1Ch]@0
  int v70; // [sp+68h] [bp+20h]@0
  int v71; // [sp+6Ch] [bp+24h]@0
  int v72; // [sp+70h] [bp+28h]@0
  int v73; // [sp+74h] [bp+2Ch]@0
  int v74; // [sp+7Ch] [bp+34h]@0
  int v75; // [sp+80h] [bp+38h]@0
  int v76; // [sp+84h] [bp+3Ch]@0
  int v77; // [sp+88h] [bp+40h]@0
  int v78; // [sp+8Ch] [bp+44h]@0
  int v79; // [sp+90h] [bp+48h]@0
  int v80; // [sp+94h] [bp+4Ch]@0
  int v81; // [sp+9Ch] [bp+54h]@0
  int v82; // [sp+A0h] [bp+58h]@0
  int v83; // [sp+A4h] [bp+5Ch]@0

  v6 = 8;
  v7 = *(_DWORD *)(a2 + 328) + 128;
  v8 = a4 + 96;
  v54 = 8;
  v55 = a1;
  v9 = *(_DWORD *)(a3 + 80) + 96;
  do
  {
    if ( v6 != 4 )
    {
      if ( *(_WORD *)(v8 - 80)
        || *(_WORD *)(v8 - 64)
        || *(_WORD *)(v8 - 48)
        || *(_WORD *)(v8 - 16)
        || *(_WORD *)v8
        || *(_WORD *)(v8 + 16) )
      {
        v11 = *(_WORD *)(v8 - 96) * *(_WORD *)(v9 - 96) << 14;
        v12 = 15137 * *(_WORD *)(v8 - 64) * *(_WORD *)(v9 - 64) - 6270 * *(_WORD *)v9 * *(_WORD *)v8;
        v13 = v12 + v11;
        v14 = v11 - v12;
        v15 = *(_WORD *)(v8 + 16) * *(_WORD *)(v9 + 16);
        v16 = *(_WORD *)(v8 - 16) * *(_WORD *)(v9 - 16);
        v17 = *(_WORD *)(v8 - 48) * *(_WORD *)(v9 - 48);
        v18 = *(_WORD *)(v8 - 80) * *(_WORD *)(v9 - 80);
        v19 = v16;
        v20 = 8697 * v18 + 11893 * v16 - 17799 * v17 - 1730 * v15;
        v21 = 7373 * v17 + 20995 * v18 - 4926 * v19 - 4176 * v15;
        a1 = v55;
        *(_DWORD *)(v55 - 32) = (v13 + v21 + 2048) >> 12;
        *(_DWORD *)(v55 + 64) = (v13 - v21 + 2048) >> 12;
        v22 = v14 + v20 + 2048;
        v23 = v14 - v20;
        v6 = v54;
        *(_DWORD *)v55 = v22 >> 12;
        v10 = (v23 + 2048) >> 12;
      }
      else
      {
        v10 = 4 * *(_WORD *)(v8 - 96) * *(_WORD *)(v9 - 96);
        *(_DWORD *)(a1 - 32) = v10;
        *(_DWORD *)a1 = v10;
        *(_DWORD *)(a1 + 64) = v10;
      }
      *(_DWORD *)(a1 + 32) = v10;
    }
    a1 += 4;
    v8 += 2;
    v9 += 2;
    --v6;
    v55 = a1;
    v54 = v6;
  }
  while ( v6 > 0 );
  v24 = a6 + *(_DWORD *)a5;
  if ( v57 || v58 || v59 || v60 || v61 || v62 )
  {
    v26 = 15137 * v58 - 6270 * v61;
    v27 = v26 + (v56 << 14);
    v28 = (v56 << 14) - v26;
    v29 = 11893 * v60 + 8697 * v57 + -17799 * v59 - 1730 * v62;
    v30 = 7373 * v59 + 20995 * v57 + -4176 * v62 - 4926 * v60;
    LOBYTE(v26) = *(_BYTE *)((((v27 + v30 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v24 + 3) = *(_BYTE *)((((v27 - v30 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v27) = *(_BYTE *)((((v28 + v29 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v30) = *(_BYTE *)((((v28 - v29 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)v24 = v26;
    *(_BYTE *)(v24 + 1) = v27;
    *(_BYTE *)(v24 + 2) = v30;
  }
  else
  {
    v25 = *(_BYTE *)((((v56 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v24 = v25;
    *(_BYTE *)(v24 + 1) = v25;
    *(_BYTE *)(v24 + 2) = v25;
    *(_BYTE *)(v24 + 3) = v25;
  }
  v31 = a6 + *(_DWORD *)(a5 + 4);
  if ( v64 || v65 || v66 || v67 || v68 || v69 )
  {
    v33 = 15137 * v65 - 6270 * v68;
    v34 = v33 + (v63 << 14);
    v35 = (v63 << 14) - v33;
    v36 = 8697 * v64 + 11893 * v67 + -17799 * v66 - 1730 * v69;
    v37 = 7373 * v66 + 20995 * v64 + -4176 * v69 - 4926 * v67;
    LOBYTE(v33) = *(_BYTE *)((((v34 + v37 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v31 + 3) = *(_BYTE *)((((v34 - v37 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v37) = *(_BYTE *)((((v35 + v36 + 0x40000) >> 19) & 0x3FF) + v7);
    v32 = *(_BYTE *)((((v35 - v36 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)v31 = v33;
    *(_BYTE *)(v31 + 1) = v37;
  }
  else
  {
    v32 = *(_BYTE *)((((v63 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v31 = v32;
    *(_BYTE *)(v31 + 1) = v32;
    *(_BYTE *)(v31 + 3) = v32;
  }
  *(_BYTE *)(v31 + 2) = v32;
  v38 = a6 + *(_DWORD *)(a5 + 8);
  if ( v71 || v72 || v73 || v74 || v75 || v76 )
  {
    v40 = 15137 * v72 - 6270 * v75;
    v41 = v40 + (v70 << 14);
    v42 = (v70 << 14) - v40;
    v43 = 8697 * v71 + 11893 * v74 + -17799 * v73 - 1730 * v76;
    v44 = 7373 * v73 + 20995 * v71 + -4176 * v76 - 4926 * v74;
    LOBYTE(v40) = *(_BYTE *)((((v41 + v44 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v38 + 3) = *(_BYTE *)((((v41 - v44 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v41) = *(_BYTE *)((((v42 + v43 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v44) = *(_BYTE *)((((v42 - v43 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)v38 = v40;
    *(_BYTE *)(v38 + 1) = v41;
    *(_BYTE *)(v38 + 2) = v44;
  }
  else
  {
    v39 = *(_BYTE *)((((v70 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v38 = v39;
    *(_BYTE *)(v38 + 1) = v39;
    *(_BYTE *)(v38 + 2) = v39;
    *(_BYTE *)(v38 + 3) = v39;
  }
  v45 = a6 + *(_DWORD *)(a5 + 12);
  if ( v78 || v79 || v80 || v81 || v82 || v83 )
  {
    v47 = 15137 * v79 - 6270 * v82;
    v48 = v47 + (v77 << 14);
    v49 = (v77 << 14) - v47;
    v50 = 8697 * v78 + 11893 * v81 + -17799 * v80 - 1730 * v83;
    v51 = 7373 * v80 + 20995 * v78 - 4926 * v81 - 4176 * v83;
    v52 = v48 + v51 + 0x40000;
    LOBYTE(v51) = *(_BYTE *)((((v48 - v51 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v52) = *(_BYTE *)(((v52 >> 19) & 0x3FF) + v7);
    v53 = ((v49 + v50 + 0x40000) >> 19) & 0x3FF;
    result = *(_BYTE *)((((v49 - v50 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v45 + 3) = v51;
    LOBYTE(v51) = *(_BYTE *)(v53 + v7);
    *(_BYTE *)v45 = v52;
    *(_BYTE *)(v45 + 1) = v51;
    *(_BYTE *)(v45 + 2) = result;
  }
  else
  {
    result = *(_BYTE *)((((v77 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v45 = result;
    *(_BYTE *)(v45 + 1) = result;
    *(_BYTE *)(v45 + 3) = result;
    *(_BYTE *)(v45 + 2) = result;
  }
  return result;
}

//----- (00471900) --------------------------------------------------------
char __stdcall sub_471900(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebp@1
  signed int v6; // ecx@1
  int v7; // edx@1
  char *v8; // edi@1
  int v9; // esi@1
  int v10; // eax@9
  int v11; // ecx@10
  int v12; // eax@10
  signed int v13; // ebx@10
  int v14; // eax@10
  signed int v15; // ecx@13
  char *v16; // esi@13
  int v17; // edi@14
  int v18; // edx@14
  char result; // al@18
  int v20; // eax@19
  int v21; // ecx@19
  signed int v22; // edx@19
  int v23; // eax@19
  int v24; // [sp+10h] [bp-44h]@1
  char v25; // [sp+14h] [bp-40h]@1
  signed int v26; // [sp+58h] [bp+4h]@1
  signed int v27; // [sp+58h] [bp+4h]@13

  v5 = *(_DWORD *)(a1 + 328) + 128;
  v6 = 8;
  v7 = a3 + 48;
  v24 = *(_DWORD *)(a1 + 328) + 128;
  v8 = &v25;
  v26 = 8;
  v9 = *(_DWORD *)(a2 + 80) + 48;
  do
  {
    if ( v6 != 6 && v6 != 4 && v6 != 2 )
    {
      if ( *(_WORD *)(v7 - 32) || *(_WORD *)v7 || *(_WORD *)(v7 + 32) || *(_WORD *)(v7 + 64) )
      {
        v5 = v24;
        v11 = 29692 * *(_WORD *)(v7 - 32) * *(_WORD *)(v9 - 32)
            + 6967 * *(_WORD *)(v7 + 32) * *(_WORD *)(v9 + 32)
            - 5906 * *(_WORD *)(v7 + 64) * *(_WORD *)(v9 + 64)
            - 10426 * *(_WORD *)v9 * *(_WORD *)v7;
        v12 = *(_WORD *)(v7 - 48) * *(_WORD *)(v9 - 48) << 15;
        v13 = v11 + v12 + 4096;
        v14 = v12 - v11;
        v6 = v26;
        *(_DWORD *)v8 = v13 >> 13;
        v10 = (v14 + 4096) >> 13;
      }
      else
      {
        v10 = 4 * *(_WORD *)(v7 - 48) * *(_WORD *)(v9 - 48);
        *(_DWORD *)v8 = v10;
      }
      *((_DWORD *)v8 + 8) = v10;
    }
    v7 += 2;
    v9 += 2;
    v8 += 4;
    v26 = --v6;
  }
  while ( v6 > 0 );
  v15 = 0;
  v16 = &v25;
  v27 = 0;
  do
  {
    v17 = a5 + *(_DWORD *)(a4 + 4 * v15);
    v18 = *((_DWORD *)v16 + 1);
    if ( v18 || *((_DWORD *)v16 + 3) || *((_DWORD *)v16 + 5) || *((_DWORD *)v16 + 7) )
    {
      v20 = *(_DWORD *)v16 << 15;
      v21 = 29692 * v18 + 6967 * *((_DWORD *)v16 + 5) - 10426 * *((_DWORD *)v16 + 3) - 5906 * *((_DWORD *)v16 + 7);
      v22 = v21 + v20 + 0x80000;
      v23 = v20 - v21;
      v15 = v27;
      result = *(_BYTE *)((((v23 + 0x80000) >> 20) & 0x3FF) + v5);
      *(_BYTE *)v17 = *(_BYTE *)(((v22 >> 20) & 0x3FF) + v5);
    }
    else
    {
      result = *(_BYTE *)((((*(_DWORD *)v16 + 16) >> 5) & 0x3FF) + v5);
      *(_BYTE *)v17 = result;
    }
    v16 += 32;
    ++v15;
    *(_BYTE *)(v17 + 1) = result;
    v27 = v15;
  }
  while ( v15 < 2 );
  return result;
}

//----- (00471AD0) --------------------------------------------------------
int __stdcall sub_471AD0(int a1, int a2, _WORD *a3, int *a4, int a5)
{
  int result; // eax@1

  result = *a4;
  *(_BYTE *)(a5 + *a4) = *(_BYTE *)((((*a3 * **(_WORD **)(a2 + 80) + 4) >> 3) & 0x3FF) + *(_DWORD *)(a1 + 328) + 128);
  return result;
}

//----- (00471B20) --------------------------------------------------------
unsigned int *__stdcall sub_471B20(unsigned int a1, unsigned int *a2, unsigned int *a3, unsigned int *a4, int a5)
{
  unsigned int *result; // eax@1
  unsigned int *v6; // ecx@1
  unsigned int *v7; // ebx@1
  unsigned int v8; // edi@1
  int v9; // edx@1
  __m64 v10; // mm0@2
  __m64 v11; // mm2@2
  __m64 v12; // mm6@2
  __m64 v13; // mm1@2
  __m64 v14; // mm7@2
  __m64 v15; // mm2@2
  __m64 v16; // mm5@2
  __m64 v17; // mm3@2
  __m64 v18; // mm4@2
  __m64 v19; // mm7@2
  __m64 v20; // mm1@2
  __m64 v21; // mm3@2
  __m64 v22; // mm0@2
  __m64 v23; // mm3@2
  __m64 v24; // mm2@2
  __m64 v25; // mm3@2

  result = a2;
  v6 = a4;
  v7 = a3;
  v8 = a1 >> 2;
  v9 = a5;
  do
  {
    v10 = _m_punpcklbw(_mm_cvtsi32_si64(*result), 0i64);
    v11 = _m_psubsw(_m_punpcklbw(_mm_cvtsi32_si64(*v7), 0i64), (__m64)qword_4C2910);
    v12 = _m_psllw(v10, 8u);
    v13 = _m_psubsw(_m_punpcklbw(_mm_cvtsi32_si64(*v6), 0i64), (__m64)qword_4C2910);
    v14 = v11;
    v15 = _m_psrad(_m_paddd(_m_pmaddwd(_m_punpcklwd(v11, v13), (__m64)qword_4C2918), _m_punpcklwd(v12, 0i64)), 8u);
    v16 = _m_psrad(_m_paddd(_m_pmaddwd(_m_punpckhwd(v14, v13), (__m64)qword_4C2918), _m_punpckhwd(v12, 0i64)), 8u);
    v17 = _m_psrad(_m_pmaddwd(_m_punpcklwd(v13, v10), (__m64)qword_4C2920), 8u);
    v18 = _m_psrad(_m_pmaddwd(_m_punpcklwd(v14, v10), (__m64)qword_4C2928), 8u);
    v19 = _m_psrad(_m_pmaddwd(_m_punpckhwd(v14, v10), (__m64)qword_4C2928), 8u);
    v20 = _m_psrad(_m_pmaddwd(_m_punpckhwd(v13, v10), (__m64)qword_4C2920), 8u);
    v21 = _m_packuswb(
            _m_packssdw(_m_punpckldq(v17, v15), _m_punpckldq(v18, (__m64)(unsigned int)qword_4C2908)),
            _m_packssdw(_m_punpckhdq(v17, v15), _m_punpckhdq(v18, (__m64)qword_4C2908)));
    v22 = v21;
    v23 = _m_psrlq(_m_pand(v21, (__m64)qword_4C2930), 8u);
    v9 += 12;
    v24 = _m_packuswb(
            _m_packssdw(_m_punpckldq(v20, v16), _m_punpckldq(v19, (__m64)(unsigned int)qword_4C2908)),
            _m_packssdw(_m_punpckhdq(v20, v16), _m_punpckhdq(v19, (__m64)qword_4C2908)));
    ++result;
    *(_DWORD *)(v9 - 12) = _mm_cvtsi64_si32(_m_por(v22, v23));
    v25 = _m_punpcklwd(_m_psrlq(v23, 0x20u), v24);
    ++v6;
    *(_DWORD *)(v9 - 8) = _mm_cvtsi64_si32(v25);
    ++v7;
    *(_DWORD *)(v9 - 4) = _mm_cvtsi64_si32(_m_por(_m_psrlq(v24, 0x18u), _m_psrlq(v25, 0x30u)));
    --v8;
  }
  while ( v8 );
  return result;
}
// 4C2908: using guessed type __int64 qword_4C2908;
// 4C2910: using guessed type __int64 qword_4C2910;
// 4C2918: using guessed type __int64 qword_4C2918;
// 4C2920: using guessed type __int64 qword_4C2920;
// 4C2928: using guessed type __int64 qword_4C2928;
// 4C2930: using guessed type __int64 qword_4C2930;

//----- (00471C60) --------------------------------------------------------
__m128 *__stdcall sub_471C60(__m128 *a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm1@1
  __m128 v5; // xmm2@1
  unsigned int v6; // edx@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm3@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm6@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm4@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm0@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm6@1
  __m128 v19; // xmm1@1
  __m128 v20; // xmm0@1
  __m128 *result; // eax@1
  void *retaddr; // [sp+0h] [bp+0h]@1

  v3 = _mm_and_ps(*a1, (__m128)xmmword_531990);
  v4 = _mm_and_ps(*a1, (__m128)xmmword_531980);
  v5 = v3;
  v6 = (unsigned int)(&retaddr - 16) & 0xFFFFFFF0;
  v7 = _mm_add_ps(_mm_mul_ps(v3, (__m128)xmmword_531970), (__m128)xmmword_531920);
  v8 = v7;
  v9 = _mm_sub_ps(v7, (__m128)xmmword_531920);
  v10 = (__m128)xmmword_531910;
  v11 = (__m128)xmmword_531900;
  v12 = _mm_sub_ps(
          _mm_sub_ps(
            _mm_sub_ps(_mm_sub_ps(v5, _mm_mul_ps((__m128)xmmword_531960, v9)), _mm_mul_ps((__m128)xmmword_531950, v9)),
            _mm_mul_ps((__m128)xmmword_531940, v9)),
          _mm_mul_ps((__m128)xmmword_531930, v9));
  v13 = _mm_mul_ps(v12, v12);
  v14 = _mm_and_ps(v8, (__m128)xmmword_5318F0);
  *(__m128 *)v6 = _mm_and_ps(v14, (__m128)xmmword_5318E0);
  *(__m128 *)(v6 + 16) = v14;
  *(__m128 *)(v6 + 32) = v14;
  *(_DWORD *)(v6 + 16) = (dword_5318D0 & (*(_DWORD *)(v6 + 16) - *(_DWORD *)v6)) << 30;
  *(_DWORD *)(v6 + 20) = (dword_5318D0 & (*(_DWORD *)(v6 + 20) - *(_DWORD *)(v6 + 4))) << 30;
  *(_DWORD *)(v6 + 24) = (dword_5318D0 & (*(_DWORD *)(v6 + 24) - *(_DWORD *)(v6 + 8))) << 30;
  *(_DWORD *)(v6 + 28) = (dword_5318D0 & (*(_DWORD *)(v6 + 28) - *(_DWORD *)(v6 + 12))) << 30;
  *(_DWORD *)(v6 + 32) = (dword_5318D0 & (*(_DWORD *)v6 + *(_DWORD *)(v6 + 32))) << 30;
  *(_DWORD *)(v6 + 36) = (dword_5318D0 & (*(_DWORD *)(v6 + 4) + *(_DWORD *)(v6 + 36))) << 30;
  *(_DWORD *)(v6 + 40) = (dword_5318D0 & (*(_DWORD *)(v6 + 8) + *(_DWORD *)(v6 + 40))) << 30;
  *(_DWORD *)(v6 + 44) = (dword_5318D0 & (*(_DWORD *)(v6 + 12) + *(_DWORD *)(v6 + 44))) << 30;
  *(_DWORD *)v6 <<= 30;
  *(_DWORD *)(v6 + 4) <<= 30;
  *(_DWORD *)(v6 + 8) <<= 30;
  *(_DWORD *)(v6 + 12) <<= 30;
  v15 = _mm_xor_ps(*(__m128 *)(v6 + 0x10), v4);
  v16 = _mm_cmpneqps(*(__m128 *)v6, 0i64);
  v17 = _mm_mul_ps(
          _mm_add_ps(
            _mm_mul_ps(
              _mm_add_ps(
                _mm_mul_ps(_mm_add_ps(_mm_mul_ps(v10, v13), (__m128)xmmword_5318C0), v13),
                (__m128)xmmword_5318A0),
              v13),
            (__m128)xmmword_531880),
          v12);
  v18 = _mm_add_ps(
          _mm_mul_ps(
            _mm_add_ps(
              _mm_mul_ps(
                _mm_add_ps(
                  _mm_mul_ps(_mm_add_ps(_mm_mul_ps(v11, v13), (__m128)xmmword_5318B0), v13),
                  (__m128)xmmword_531890),
                v13),
              (__m128)xmmword_531870),
            v13),
          (__m128)xmmword_531860);
  v19 = _mm_or_ps(_mm_andnot_ps(v16, v17), _mm_and_ps(v16, v18));
  v20 = _mm_xor_ps(_mm_or_ps(_mm_and_ps(v16, v17), _mm_andnot_ps(v16, v18)), *(__m128 *)(v6 + 0x20));
  result = a2;
  *a2 = _mm_xor_ps(v19, v15);
  *a3 = v20;
  return result;
}
// 531860: using guessed type __int128 xmmword_531860;
// 531870: using guessed type __int128 xmmword_531870;
// 531880: using guessed type __int128 xmmword_531880;
// 531890: using guessed type __int128 xmmword_531890;
// 5318A0: using guessed type __int128 xmmword_5318A0;
// 5318B0: using guessed type __int128 xmmword_5318B0;
// 5318C0: using guessed type __int128 xmmword_5318C0;
// 5318D0: using guessed type int dword_5318D0;
// 5318E0: using guessed type __int128 xmmword_5318E0;
// 5318F0: using guessed type __int128 xmmword_5318F0;
// 531900: using guessed type __int128 xmmword_531900;
// 531910: using guessed type __int128 xmmword_531910;
// 531920: using guessed type __int128 xmmword_531920;
// 531930: using guessed type __int128 xmmword_531930;
// 531940: using guessed type __int128 xmmword_531940;
// 531950: using guessed type __int128 xmmword_531950;
// 531960: using guessed type __int128 xmmword_531960;
// 531970: using guessed type __int128 xmmword_531970;
// 531980: using guessed type __int128 xmmword_531980;
// 531990: using guessed type __int128 xmmword_531990;

//----- (00471E49) --------------------------------------------------------
__m128 *__stdcall sub_471E49(__m128i *a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm2@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm2@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm7@1
  __m128i v11; // xmm0@1
  __m128i v12; // xmm3@1
  __m128 v13; // xmm7@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm6@1
  __m128 *result; // eax@1

  v3 = (__m128)_mm_and_si128(*a1, (__m128i)xmmword_531AD0);
  v4 = v3;
  v5 = _mm_add_ps(_mm_mul_ps(v3, (__m128)xmmword_531AB0), (__m128)xmmword_531A60);
  v6 = v5;
  v7 = _mm_sub_ps(v5, (__m128)xmmword_531A60);
  v8 = _mm_sub_ps(
         _mm_sub_ps(
           _mm_sub_ps(_mm_sub_ps(v4, _mm_mul_ps((__m128)xmmword_531AA0, v7)), _mm_mul_ps((__m128)xmmword_531A90, v7)),
           _mm_mul_ps((__m128)xmmword_531A80, v7)),
         _mm_mul_ps((__m128)xmmword_531A70, v7));
  v9 = _mm_mul_ps(v8, v8);
  v10 = _mm_and_ps(v6, (__m128)xmmword_531A30);
  v11 = (__m128i)_mm_and_ps(v10, (__m128)xmmword_531A20);
  v12 = _mm_sub_epi32((__m128i)v10, v11);
  v13 = (__m128)_mm_sll_epi32(_mm_and_si128(_mm_add_epi32((__m128i)v10, v11), (__m128i)xmmword_531A10), 0x1Eu);
  v14 = _mm_cmpneqps((__m128)_mm_sll_epi32(v11, 0x1Eu), 0i64);
  v15 = _mm_mul_ps(
          _mm_add_ps(
            _mm_mul_ps(
              _mm_add_ps(
                _mm_mul_ps(_mm_add_ps(_mm_mul_ps((__m128)xmmword_531A50, v9), (__m128)xmmword_531A00), v9),
                (__m128)xmmword_5319E0),
              v9),
            (__m128)xmmword_5319C0),
          v8);
  v16 = _mm_add_ps(
          _mm_mul_ps(
            _mm_add_ps(
              _mm_mul_ps(
                _mm_add_ps(
                  _mm_mul_ps(_mm_add_ps(_mm_mul_ps((__m128)xmmword_531A40, v9), (__m128)xmmword_5319F0), v9),
                  (__m128)xmmword_5319D0),
                v9),
              (__m128)xmmword_5319B0),
            v9),
          (__m128)xmmword_5319A0);
  result = a2;
  *a2 = _mm_xor_ps(
          _mm_or_ps(_mm_andnot_ps(v14, v15), _mm_and_ps(v14, v16)),
          (__m128)_mm_xor_si128(
                    _mm_sll_epi32(_mm_and_si128(v12, (__m128i)xmmword_531A10), 0x1Eu),
                    _mm_and_si128(*a1, (__m128i)xmmword_531AC0)));
  *a3 = _mm_xor_ps(_mm_or_ps(_mm_and_ps(v14, v15), _mm_andnot_ps(v14, v16)), v13);
  return result;
}
// 5319A0: using guessed type __int128 xmmword_5319A0;
// 5319B0: using guessed type __int128 xmmword_5319B0;
// 5319C0: using guessed type __int128 xmmword_5319C0;
// 5319D0: using guessed type __int128 xmmword_5319D0;
// 5319E0: using guessed type __int128 xmmword_5319E0;
// 5319F0: using guessed type __int128 xmmword_5319F0;
// 531A00: using guessed type __int128 xmmword_531A00;
// 531A10: using guessed type __int128 xmmword_531A10;
// 531A20: using guessed type __int128 xmmword_531A20;
// 531A30: using guessed type __int128 xmmword_531A30;
// 531A40: using guessed type __int128 xmmword_531A40;
// 531A50: using guessed type __int128 xmmword_531A50;
// 531A60: using guessed type __int128 xmmword_531A60;
// 531A70: using guessed type __int128 xmmword_531A70;
// 531A80: using guessed type __int128 xmmword_531A80;
// 531A90: using guessed type __int128 xmmword_531A90;
// 531AA0: using guessed type __int128 xmmword_531AA0;
// 531AB0: using guessed type __int128 xmmword_531AB0;
// 531AC0: using guessed type __int128 xmmword_531AC0;
// 531AD0: using guessed type __int128 xmmword_531AD0;

//----- (00472080) --------------------------------------------------------
void sub_472080()
{
  ;
}

//----- (00472180) --------------------------------------------------------
void sub_472180()
{
  ;
}

//----- (00472380) --------------------------------------------------------
void sub_472380()
{
  ;
}

//----- (00472760) --------------------------------------------------------
unsigned int __usercall sub_472760@<eax>(__m64 a1@<mm0>)
{
  int v1; // eax@1

  v1 = _mm_cvtsi64_si32(a1);
  return v1 & 0x80000000 ^ v1;
}

//----- (00472860) --------------------------------------------------------
unsigned int __usercall sub_472860@<eax>(__m64 a1@<mm0>)
{
  int v1; // eax@1

  v1 = _mm_cvtsi64_si32(a1);
  return v1 & 0x80000000 ^ v1;
}

//----- (00472C18) --------------------------------------------------------
int __stdcall sub_472C18(char a1, char a2, int a3, int a4, int a5)
{
  int result; // eax@1

  result = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a5 + 32))(*(_DWORD *)(a5 + 40), 1, 28);
  if ( result )
  {
    *(_DWORD *)result = 0;
    *(_BYTE *)(result + 16) = a1;
    *(_BYTE *)(result + 17) = a2;
    *(_DWORD *)(result + 20) = a3;
    *(_DWORD *)(result + 24) = a4;
  }
  return result;
}

//----- (00472C4B) --------------------------------------------------------
int __stdcall sub_472C4B(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  _BYTE *v5; // edx@1
  int v6; // ebx@1
  unsigned int v7; // eax@1
  unsigned int v8; // eax@2
  signed int v9; // eax@7
  unsigned int v10; // eax@7
  int v11; // eax@8
  unsigned int v12; // eax@15
  int v13; // eax@16
  int v14; // eax@17
  unsigned int v15; // eax@26
  int v16; // ecx@27
  unsigned int v17; // eax@30
  int v18; // eax@31
  int v19; // ecx@31
  int v20; // eax@31
  unsigned int v21; // eax@39
  int v22; // ecx@40
  unsigned int v23; // ecx@41
  unsigned int v24; // eax@47
  unsigned int v25; // ecx@47
  int v26; // eax@52
  unsigned int v27; // eax@52
  unsigned int v28; // ecx@56
  unsigned int v29; // eax@67
  unsigned int v30; // ecx@67
  int v31; // eax@72
  unsigned int v32; // eax@72
  unsigned int v33; // ecx@76
  int v34; // ecx@86
  int v36; // eax@95
  int v37; // ebx@96
  int v38; // [sp-4h] [bp-28h]@84
  int v39; // [sp+Ch] [bp-18h]@16
  unsigned int v40; // [sp+Ch] [bp-18h]@52
  unsigned int v41; // [sp+Ch] [bp-18h]@72
  _BYTE *v42; // [sp+14h] [bp-10h]@41
  unsigned int v43; // [sp+18h] [bp-Ch]@10
  unsigned int v44; // [sp+1Ch] [bp-8h]@1
  _BYTE *v45; // [sp+20h] [bp-4h]@1
  unsigned int v46; // [sp+2Ch] [bp+8h]@1
  unsigned int v47; // [sp+30h] [bp+Ch]@1
  int v48; // [sp+34h] [bp+10h]@52

  v3 = a2;
  v45 = *(_BYTE **)a2;
  v4 = a1;
  v5 = *(_BYTE **)(a1 + 52);
  v6 = *(_DWORD *)(a1 + 4);
  v44 = *(_DWORD *)(a2 + 4);
  v47 = *(_DWORD *)(a1 + 32);
  v46 = *(_DWORD *)(a1 + 28);
  v7 = *(_DWORD *)(v4 + 48);
  if ( (unsigned int)v5 >= v7 )
    v8 = *(_DWORD *)(v4 + 44) - (_DWORD)v5;
  else
    v8 = v7 - (_DWORD)v5 - 1;
LABEL_82:
  v43 = v8;
  while ( 2 )
  {
    if ( *(_DWORD *)v6 > 9u )
    {
      v38 = -2;
      goto LABEL_85;
    }
    switch ( *(_DWORD *)v6 )
    {
      case 0:
        if ( v8 >= 0x102 && v44 >= 0xA )
        {
          *(_DWORD *)(v4 + 32) = v47;
          *(_DWORD *)(v4 + 28) = v46;
          *(_DWORD *)(v3 + 4) = v44;
          *(_DWORD *)(v3 + 8) += &v45[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v45;
          *(_DWORD *)(v4 + 52) = v5;
          v9 = sub_473FE0(*(_BYTE *)(v6 + 16), *(_BYTE *)(v6 + 17), *(_DWORD *)(v6 + 20), *(_DWORD *)(v6 + 24), v4, v3);
          v5 = *(_BYTE **)(v4 + 52);
          a3 = v9;
          v45 = *(_BYTE **)v3;
          v44 = *(_DWORD *)(v3 + 4);
          v47 = *(_DWORD *)(v4 + 32);
          v46 = *(_DWORD *)(v4 + 28);
          v10 = *(_DWORD *)(v4 + 48);
          v11 = (unsigned int)v5 >= v10 ? *(_DWORD *)(v4 + 44) - (_DWORD)v5 : v10 - (_DWORD)v5 - 1;
          v43 = v11;
          if ( a3 )
          {
            *(_DWORD *)v6 = 2 * (a3 != 1) + 7;
            goto LABEL_36;
          }
        }
        *(_DWORD *)(v6 + 12) = *(_BYTE *)(v6 + 16);
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 20);
        *(_DWORD *)v6 = 1;
        goto LABEL_15;
      case 1:
LABEL_15:
        while ( 2 )
        {
          v12 = *(_DWORD *)(v6 + 12);
          if ( v46 >= v12 )
          {
            v13 = *(_DWORD *)(v6 + 8) + 8 * (v47 & dword_532D60[v12]);
            v47 >>= *(_BYTE *)(v13 + 1);
            v46 -= *(_BYTE *)(v13 + 1);
            v39 = *(_BYTE *)v13;
            if ( *(_BYTE *)v13 )
            {
              if ( v39 & 0x10 )
              {
                *(_DWORD *)(v6 + 8) = v39 & 0xF;
                *(_DWORD *)(v6 + 4) = *(_DWORD *)(v13 + 4);
                *(_DWORD *)v6 = 2;
                goto LABEL_36;
              }
              if ( v39 & 0x40 )
              {
                if ( v39 & 0x20 )
                {
                  *(_DWORD *)v6 = 7;
                  goto LABEL_36;
                }
                *(_DWORD *)v6 = 9;
                *(_DWORD *)(v3 + 24) = "invalid literal/length code";
LABEL_89:
                v38 = -3;
                goto LABEL_85;
              }
              *(_DWORD *)(v6 + 12) = v39;
              v14 = v13 + 8 * *(_DWORD *)(v13 + 4);
            }
            else
            {
              v14 = *(_DWORD *)(v13 + 4);
              *(_DWORD *)v6 = 6;
            }
            goto LABEL_35;
          }
          if ( v44 )
          {
            a3 = 0;
            --v44;
            v47 |= *v45++ << v46;
            v46 += 8;
            continue;
          }
          goto LABEL_91;
        }
      case 2:
        while ( 2 )
        {
          v15 = *(_DWORD *)(v6 + 8);
          if ( v46 < v15 )
          {
            if ( v44 )
            {
              a3 = 0;
              --v44;
              v47 |= *v45++ << v46;
              v46 += 8;
              continue;
            }
LABEL_91:
            v38 = a3;
            *(_DWORD *)(v4 + 32) = v47;
            *(_DWORD *)(v4 + 28) = v46;
            *(_DWORD *)(v3 + 4) = 0;
            goto LABEL_86;
          }
          break;
        }
        v16 = *(_DWORD *)(v6 + 8);
        *(_DWORD *)(v6 + 4) += v47 & dword_532D60[v15];
        v47 >>= v16;
        v46 -= v16;
        *(_DWORD *)(v6 + 12) = *(_BYTE *)(v6 + 17);
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 24);
        *(_DWORD *)v6 = 3;
LABEL_30:
        while ( 1 )
        {
          v17 = *(_DWORD *)(v6 + 12);
          if ( v46 >= v17 )
            break;
          if ( !v44 )
            goto LABEL_91;
          a3 = 0;
          --v44;
          v47 |= *v45++ << v46;
          v46 += 8;
        }
        v18 = *(_DWORD *)(v6 + 8) + 8 * (v47 & dword_532D60[v17]);
        v47 >>= *(_BYTE *)(v18 + 1);
        v46 -= *(_BYTE *)(v18 + 1);
        v19 = v18;
        v20 = *(_BYTE *)v18;
        if ( v20 & 0x10 )
        {
          *(_DWORD *)(v6 + 8) = v20 & 0xF;
          *(_DWORD *)(v6 + 12) = *(_DWORD *)(v19 + 4);
          *(_DWORD *)v6 = 4;
          goto LABEL_36;
        }
        if ( v20 & 0x40 )
        {
          *(_DWORD *)v6 = 9;
          *(_DWORD *)(v3 + 24) = "invalid distance code";
          goto LABEL_89;
        }
        *(_DWORD *)(v6 + 12) = v20;
        v14 = v19 + 8 * *(_DWORD *)(v19 + 4);
LABEL_35:
        *(_DWORD *)(v6 + 8) = v14;
LABEL_36:
        v8 = v43;
        continue;
      case 3:
        goto LABEL_30;
      case 4:
        while ( 2 )
        {
          v21 = *(_DWORD *)(v6 + 8);
          if ( v46 < v21 )
          {
            if ( v44 )
            {
              a3 = 0;
              --v44;
              v47 |= *v45++ << v46;
              v46 += 8;
              continue;
            }
            goto LABEL_91;
          }
          break;
        }
        v22 = *(_DWORD *)(v6 + 8);
        *(_DWORD *)(v6 + 12) += v47 & dword_532D60[v21];
        v47 >>= v22;
        v46 -= v22;
        *(_DWORD *)v6 = 5;
LABEL_41:
        v23 = *(_DWORD *)(v4 + 40);
        v42 = &v5[-*(_DWORD *)(v6 + 12)];
        if ( (unsigned int)&v5[-*(_DWORD *)(v6 + 12)] < v23 )
        {
          do
            v42 += *(_DWORD *)(v4 + 44) - v23;
          while ( (unsigned int)v42 < *(_DWORD *)(v4 + 40) );
        }
        v8 = v43;
LABEL_44:
        if ( !*(_DWORD *)(v6 + 4) )
        {
          *(_DWORD *)v6 = 0;
          continue;
        }
        if ( v8 )
          goto LABEL_101;
        if ( v5 == *(_BYTE **)(v4 + 44) )
        {
          v24 = *(_DWORD *)(v4 + 48);
          v25 = *(_DWORD *)(v4 + 40);
          if ( v24 != v25 )
          {
            v5 = *(_BYTE **)(v4 + 40);
            v8 = v25 >= v24 ? *(_DWORD *)(v4 + 44) - v25 : v24 - v25 - 1;
            if ( v8 )
              goto LABEL_101;
          }
        }
        *(_DWORD *)(v4 + 52) = v5;
        v26 = sub_4736D6(v4, v3, a3);
        v5 = *(_BYTE **)(v4 + 52);
        v48 = v26;
        v27 = *(_DWORD *)(v4 + 48);
        v40 = *(_DWORD *)(v4 + 48);
        if ( (unsigned int)v5 >= v27 )
          v8 = *(_DWORD *)(v4 + 44) - (_DWORD)v5;
        else
          v8 = v27 - (_DWORD)v5 - 1;
        if ( v5 == *(_BYTE **)(v4 + 44) )
        {
          v28 = *(_DWORD *)(v4 + 40);
          if ( v40 != v28 )
          {
            v5 = *(_BYTE **)(v4 + 40);
            if ( v28 >= v40 )
              v8 = *(_DWORD *)(v4 + 44) - v28;
            else
              v8 = v40 - v28 - 1;
          }
        }
        if ( v8 )
        {
LABEL_101:
          a3 = 0;
          *v5++ = *v42++;
          v43 = --v8;
          if ( v42 == *(_BYTE **)(v4 + 44) )
            v42 = *(_BYTE **)(v4 + 40);
          --*(_DWORD *)(v6 + 4);
          goto LABEL_44;
        }
LABEL_92:
        v38 = v48;
LABEL_85:
        *(_DWORD *)(v4 + 32) = v47;
        *(_DWORD *)(v4 + 28) = v46;
        *(_DWORD *)(v3 + 4) = v44;
LABEL_86:
        v34 = (int)&v45[-*(_DWORD *)v3];
        *(_DWORD *)v3 = v45;
        *(_DWORD *)(v3 + 8) += v34;
LABEL_87:
        *(_DWORD *)(v4 + 52) = v5;
        return sub_4736D6(v4, v3, v38);
      case 5:
        goto LABEL_41;
      case 6:
        if ( !v8 )
        {
          if ( v5 != *(_BYTE **)(v4 + 44)
            || (v29 = *(_DWORD *)(v4 + 48), v30 = *(_DWORD *)(v4 + 40), v29 == v30)
            || ((v5 = *(_BYTE **)(v4 + 40), v30 >= v29) ? (v8 = *(_DWORD *)(v4 + 44) - v30) : (v8 = v29 - v30 - 1), !v8) )
          {
            *(_DWORD *)(v4 + 52) = v5;
            v31 = sub_4736D6(v4, v3, a3);
            v5 = *(_BYTE **)(v4 + 52);
            v48 = v31;
            v32 = *(_DWORD *)(v4 + 48);
            v41 = *(_DWORD *)(v4 + 48);
            if ( (unsigned int)v5 >= v32 )
              v8 = *(_DWORD *)(v4 + 44) - (_DWORD)v5;
            else
              v8 = v32 - (_DWORD)v5 - 1;
            if ( v5 == *(_BYTE **)(v4 + 44) )
            {
              v33 = *(_DWORD *)(v4 + 40);
              if ( v41 != v33 )
              {
                v5 = *(_BYTE **)(v4 + 40);
                if ( v33 >= v41 )
                  v8 = *(_DWORD *)(v4 + 44) - v33;
                else
                  v8 = v41 - v33 - 1;
              }
            }
            if ( !v8 )
              goto LABEL_92;
          }
        }
        a3 = 0;
        *v5++ = *(_BYTE *)(v6 + 8);
        --v8;
        *(_DWORD *)v6 = 0;
        goto LABEL_82;
      case 7:
        if ( v46 > 7 )
        {
          v46 -= 8;
          ++v44;
          --v45;
        }
        *(_DWORD *)(v4 + 52) = v5;
        v36 = sub_4736D6(v4, v3, a3);
        v5 = *(_BYTE **)(v4 + 52);
        if ( *(_BYTE **)(v4 + 48) != v5 )
        {
          *(_DWORD *)(v4 + 32) = v47;
          *(_DWORD *)(v4 + 28) = v46;
          *(_DWORD *)(v3 + 4) = v44;
          v37 = (int)&v45[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v45;
          *(_DWORD *)(v3 + 8) += v37;
          v38 = v36;
          goto LABEL_87;
        }
        *(_DWORD *)v6 = 8;
LABEL_98:
        v38 = 1;
        goto LABEL_85;
      case 8:
        goto LABEL_98;
      case 9:
        goto LABEL_89;
    }
  }
}
// 532D60: using guessed type int dword_532D60[];

//----- (004731A2) --------------------------------------------------------
int __stdcall sub_4731A2(int a1, int a2)
{
  return (*(int (__stdcall **)(_DWORD, int))(a2 + 36))(*(_DWORD *)(a2 + 40), a1);
}

//----- (004731B3) --------------------------------------------------------
signed int __userpurge sub_4731B3@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, _DWORD *a7, int a8, unsigned int *a9, unsigned int *a10)
{
  _DWORD *v10; // ecx@1
  unsigned int *v11; // esi@1
  unsigned int v12; // edx@1
  unsigned int v14; // ebx@7
  unsigned int v15; // ecx@7
  unsigned int v16; // eax@7
  signed int v17; // edx@16
  int v18; // edx@17
  int v19; // esi@20
  int *v20; // ecx@20
  int v21; // ebx@20
  int v22; // edx@20
  int v23; // ecx@21
  int v24; // eax@21
  int v25; // ebx@22
  _DWORD *v26; // ecx@24
  unsigned int v27; // ebx@24
  int v28; // eax@25
  int *v29; // eax@26
  int v30; // ecx@26
  int v31; // eax@28
  int v32; // ebx@28
  int v33; // eax@31
  int j; // ecx@32
  unsigned int v35; // esi@35
  unsigned int v36; // ecx@37
  unsigned int v37; // eax@37
  int v38; // eax@38
  unsigned int v39; // edx@38
  unsigned int *v40; // edx@42
  unsigned int v41; // edx@42
  unsigned int v42; // eax@42
  unsigned int v43; // eax@44
  unsigned int v44; // esi@44
  int *v45; // edx@45
  unsigned int v46; // esi@46
  unsigned int v47; // eax@46
  int v48; // ecx@46
  int v49; // edx@46
  unsigned int v50; // eax@52
  int v51; // eax@54
  signed int v52; // esi@56
  unsigned int v53; // eax@56
  int v54; // ecx@57
  int v55; // esi@60
  unsigned int i; // eax@60
  int v57; // ecx@63
  int v58; // eax@63
  int v60[15]; // [sp+Ch] [bp-A4h]@28
  int v61; // [sp+48h] [bp-68h]@26
  int v62[15]; // [sp+4Ch] [bp-64h]@21
  int v63; // [sp+88h] [bp-28h]@1
  int v64; // [sp+8Ch] [bp-24h]@1
  int v65; // [sp+90h] [bp-20h]@1
  int v66; // [sp+94h] [bp-1Ch]@1
  int v67; // [sp+98h] [bp-18h]@1
  int v68; // [sp+9Ch] [bp-14h]@1
  int v69; // [sp+A0h] [bp-10h]@1
  int v70; // [sp+A4h] [bp-Ch]@1
  int v71; // [sp+A8h] [bp-8h]@1
  int v72; // [sp+ACh] [bp-4h]@1
  int v73; // [sp+B0h] [bp+0h]@1
  int v74; // [sp+B4h] [bp+4h]@1
  int v75; // [sp+B8h] [bp+8h]@1
  int v76; // [sp+BCh] [bp+Ch]@1
  int v77; // [sp+C0h] [bp+10h]@1
  int v78; // [sp+C4h] [bp+14h]@1
  int v79; // [sp+C8h] [bp+18h]@34
  int v80; // [sp+CCh] [bp+1Ch]@35
  int v81; // [sp+D0h] [bp+20h]@20
  int v82; // [sp+D4h] [bp+24h]@29
  int v83; // [sp+D8h] [bp+28h]@14
  int v84; // [sp+DCh] [bp+2Ch]@28
  int *v85; // [sp+E0h] [bp+30h]@29
  unsigned int v86; // [sp+E4h] [bp+34h]@28
  int v87; // [sp+E8h] [bp+38h]@30
  int v88; // [sp+ECh] [bp+3Ch]@46
  unsigned int v89; // [sp+F0h] [bp+40h]@46
  unsigned int v90; // [sp+F4h] [bp+44h]@28
  int v91; // [sp+F8h] [bp+48h]@28
  int v92; // [sp+FCh] [bp+4Ch]@10
  unsigned int v93; // [sp+100h] [bp+50h]@7
  _DWORD *v94; // [sp+10Ch] [bp+5Ch]@25
  unsigned int *v95; // [sp+10Ch] [bp+5Ch]@28
  int v96; // [sp+110h] [bp+60h]@28

  v10 = a2;
  v11 = a1;
  v63 = 0;
  v64 = 0;
  v65 = 0;
  v66 = 0;
  v67 = 0;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v12 = a3;
  do
  {
    ++*(&v63 + *v10);
    ++v10;
    --v12;
  }
  while ( v12 );
  if ( v63 != a3 )
  {
    v14 = *a1;
    v93 = *a1;
    v15 = 1;
    v16 = 15;
    do
    {
      if ( *(&v63 + v15) )
        break;
      ++v15;
    }
    while ( v15 <= 0xF );
    v92 = v15;
    if ( v14 < v15 )
      v93 = v15;
    do
    {
      if ( *(&v63 + v16) )
        break;
      --v16;
    }
    while ( v16 );
    v83 = v16;
    if ( v93 > v16 )
      v93 = v16;
    *v11 = v93;
    v17 = 1 << v15;
    while ( v15 < v16 )
    {
      v18 = v17 - *(&v63 + v15);
      if ( v18 < 0 )
        return -3;
      ++v15;
      v17 = 2 * v18;
    }
    v19 = 4 * v16;
    v20 = &v63 + v16;
    v21 = *v20;
    v22 = v17 - *v20;
    v81 = v22;
    if ( v22 >= 0 )
    {
      *v20 = v22 + v21;
      v23 = 0;
      v24 = v16 - 1;
      v62[0] = 0;
      if ( v24 )
      {
        v25 = 0;
        do
        {
          v23 += *(int *)((char *)&v64 + v25 * 4);
          ++v25;
          --v24;
          v62[v25] = v23;
        }
        while ( v24 );
      }
      v26 = a2;
      v27 = 0;
      do
      {
        v28 = *v26;
        ++v26;
        v94 = v26;
        if ( v28 )
        {
          v29 = &v61 + v28;
          v30 = *v29;
          a10[v30] = v27;
          v22 = v81;
          *v29 = v30 + 1;
          v26 = v94;
        }
        ++v27;
      }
      while ( v27 < a3 );
      v31 = *(int *)((char *)&v61 + v19);
      v91 = -1;
      v96 = v31;
      v95 = a10;
      v32 = -v93;
      v86 = 0;
      v61 = 0;
      v60[0] = 0;
      v84 = 0;
      v90 = 0;
      if ( v92 > v83 )
      {
LABEL_68:
        if ( !v22 || v83 == 1 )
          return 0;
        return -5;
      }
      v82 = v92 - 1;
      v85 = &v63 + v92;
      while ( 1 )
      {
        v87 = *v85;
        if ( v87 )
          break;
LABEL_67:
        ++v92;
        ++v85;
        ++v82;
        if ( v92 > v83 )
          goto LABEL_68;
      }
      while ( 1 )
      {
        --v87;
        v33 = v32 + v93;
        if ( v92 > (signed int)(v32 + v93) )
          break;
LABEL_50:
        BYTE1(v88) = v92 - v32;
        if ( v95 < &a10[v96] )
        {
          v50 = *v95;
          if ( *v95 >= a4 )
          {
            v51 = 4 * (v50 - a4);
            LOBYTE(v88) = *(_BYTE *)(v51 + a6) + 80;
            v50 = *(_DWORD *)(v51 + a5);
          }
          else
          {
            LOBYTE(v88) = v50 < 0x100 ? 0 : 0x60;
          }
          ++v95;
          v89 = v50;
        }
        else
        {
          LOBYTE(v88) = -64;
        }
        v52 = 1 << (v92 - v32);
        v53 = v86 >> v32;
        if ( v86 >> v32 < v90 )
        {
          v54 = v84 + 8 * v53;
          do
          {
            *(_DWORD *)v54 = v88;
            *(_DWORD *)(v54 + 4) = v89;
            v53 += v52;
            v54 += 8 * v52;
          }
          while ( v53 < v90 );
          v22 = v81;
        }
        v55 = v86;
        for ( i = 1 << v82; i & v55; i >>= 1 )
          v55 ^= i;
        v86 = i ^ v55;
        v57 = (i ^ v55) & ((1 << v32) - 1);
        v58 = v91;
        if ( v57 != *(&v61 + v91) )
        {
          do
          {
            v32 -= v93;
            --v58;
          }
          while ( (v86 & ((1 << v32) - 1)) != *(&v61 + v58) );
          v91 = v58;
        }
        if ( !v87 )
          goto LABEL_67;
      }
      for ( j = v32 - v93; ; j = v79 )
      {
        ++v91;
        v32 += v93;
        v35 = v83 - v32;
        v79 = v93 + j;
        v80 = v93 + v33;
        if ( v83 - v32 > v93 )
          v35 = v93;
        v36 = v92 - v32;
        v37 = 1 << (v92 - v32);
        if ( v37 > v87 + 1 )
        {
          v38 = -1 - v87 + v37;
          v39 = (unsigned int)v85;
          if ( v36 < v35 && ++v36 < v35 )
          {
            while ( 1 )
            {
              v40 = (unsigned int *)(v39 + 4);
              v90 = (unsigned int)v40;
              v41 = *v40;
              v42 = 2 * v38;
              if ( v42 <= v41 )
                break;
              v38 = v42 - v41;
              if ( ++v36 >= v35 )
                break;
              v39 = v90;
            }
          }
        }
        v43 = *a9;
        v44 = *a9 + (1 << v36);
        v90 = 1 << v36;
        if ( v44 > 0x5A0 )
          break;
        v45 = &v60[v91];
        v84 = a8 + 8 * v43;
        *v45 = v84;
        *a9 = v44;
        if ( v91 )
        {
          v46 = v86;
          *(&v61 + v91) = v86;
          BYTE1(v88) = v93;
          LOBYTE(v88) = v36;
          v47 = v46 >> v79;
          v48 = *(v45 - 1);
          v49 = ((v84 - v48) >> 3) - (v46 >> v79);
          *(_DWORD *)(v48 + 8 * v47) = v88;
          v89 = v49;
          *(_DWORD *)(v48 + 8 * v47 + 4) = v49;
        }
        else
        {
          *a7 = v84;
        }
        v33 = v80;
        if ( v92 <= v80 )
        {
          v22 = v81;
          goto LABEL_50;
        }
      }
    }
    return -3;
  }
  *a7 = 0;
  *a1 = 0;
  return 0;
}
// 4731B3: using guessed type int var_B8[15];
// 4731B3: using guessed type int var_F8[15];

//----- (00473532) --------------------------------------------------------
signed int __stdcall sub_473532(_DWORD *a1, unsigned int *a2, _DWORD *a3, int a4, int a5)
{
  int v5; // esi@1
  unsigned int *v6; // eax@1
  signed int result; // eax@2
  signed int v8; // eax@3
  signed int v9; // ebx@3
  int v10; // [sp+4h] [bp-4h]@1
  unsigned int *v11; // [sp+20h] [bp+18h]@1

  v10 = 0;
  v5 = a5;
  v6 = (unsigned int *)(*(int (__stdcall **)(_DWORD, signed int, signed int))(a5 + 32))(*(_DWORD *)(a5 + 40), 19, 4);
  v11 = v6;
  if ( v6 )
  {
    v8 = sub_4731B3(a2, a1, 0x13u, 19, 0, 0, a3, a4, (unsigned int *)&v10, v6);
    v9 = v8;
    if ( v8 == -3 )
    {
      *(_DWORD *)(v5 + 24) = "oversubscribed dynamic bit lengths tree";
    }
    else if ( v8 == -5 || !*a2 )
    {
      *(_DWORD *)(v5 + 24) = "incomplete dynamic bit lengths tree";
      v9 = -3;
    }
    (*(void (__stdcall **)(_DWORD, unsigned int *))(v5 + 36))(*(_DWORD *)(v5 + 40), v11);
    result = v9;
  }
  else
  {
    result = -4;
  }
  return result;
}

//----- (004735AB) --------------------------------------------------------
signed int __stdcall sub_4735AB(unsigned int a1, unsigned int a2, _DWORD *a3, unsigned int *a4, unsigned int *a5, _DWORD *a6, _DWORD *a7, int a8, int a9)
{
  int v9; // esi@1
  unsigned int *v10; // eax@1
  signed int v12; // eax@3
  signed int v13; // edi@8
  int v14; // [sp+4h] [bp-4h]@1
  unsigned int *v15; // [sp+30h] [bp+28h]@1

  v14 = 0;
  v9 = a9;
  v10 = (unsigned int *)(*(int (__stdcall **)(_DWORD, signed int, signed int))(a9 + 32))(*(_DWORD *)(a9 + 40), 288, 4);
  v15 = v10;
  if ( !v10 )
    return -4;
  v12 = sub_4731B3(a4, a3, a1, 257, (int)&unk_4C2C68, (int)&unk_4C2CE8, a6, a8, (unsigned int *)&v14, v10);
  if ( v12 )
  {
    if ( v12 == -3 )
    {
      *(_DWORD *)(v9 + 24) = "oversubscribed literal/length tree";
      goto LABEL_20;
    }
    if ( v12 == -4 )
      goto LABEL_20;
LABEL_18:
    *(_DWORD *)(v9 + 24) = "incomplete literal/length tree";
    goto LABEL_19;
  }
  if ( !*a4 )
    goto LABEL_18;
  v12 = sub_4731B3(a5, &a3[a1], a2, 0, (int)&unk_4C2D68, (int)&unk_4C2DE0, a7, a8, (unsigned int *)&v14, v15);
  if ( v12 )
  {
    if ( v12 == -3 )
    {
      *(_DWORD *)(v9 + 24) = "oversubscribed distance tree";
    }
    else
    {
      if ( v12 == -5 )
      {
        *(_DWORD *)(v9 + 24) = "incomplete distance tree";
LABEL_19:
        v12 = -3;
        goto LABEL_20;
      }
      if ( v12 != -4 )
      {
LABEL_14:
        *(_DWORD *)(v9 + 24) = "empty distance tree with lengths";
        goto LABEL_19;
      }
    }
LABEL_20:
    v13 = v12;
    goto LABEL_21;
  }
  if ( !*a5 && a1 > 0x101 )
    goto LABEL_14;
  v13 = 0;
LABEL_21:
  (*(void (__stdcall **)(_DWORD, unsigned int *))(v9 + 36))(*(_DWORD *)(v9 + 40), v15);
  return v13;
}

//----- (004736A5) --------------------------------------------------------
int __stdcall sub_4736A5(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, int a5)
{
  *a1 = dword_531C58;
  *a2 = dword_531C5C;
  *a3 = &unk_531C60;
  *a4 = &unk_532C60;
  return 0;
}
// 531C58: using guessed type int dword_531C58;
// 531C5C: using guessed type int dword_531C5C;

//----- (004736D6) --------------------------------------------------------
int __stdcall sub_4736D6(int a1, int a2, int a3)
{
  int v3; // ebx@1
  const void *v4; // edx@1
  unsigned int v5; // edi@1
  unsigned int v6; // eax@3
  unsigned int v7; // edi@3
  int (__stdcall *v8)(_DWORD, const void *, unsigned int); // eax@8
  int v9; // eax@9
  char v10; // al@10
  unsigned int v11; // ecx@10
  char *v12; // edi@10
  int v13; // eax@10
  const void *v14; // edx@11
  unsigned int v15; // eax@13
  unsigned int v16; // edi@13
  int (__stdcall *v17)(_DWORD, const void *, unsigned int); // eax@18
  int v18; // eax@19
  char v19; // al@20
  char *v20; // edi@20
  char *v21; // esi@20
  void *v23; // [sp+Ch] [bp-8h]@1
  char *v24; // [sp+Ch] [bp-8h]@10
  unsigned int v25; // [sp+10h] [bp-4h]@3
  int v26; // [sp+10h] [bp-4h]@13
  const void *v27; // [sp+1Ch] [bp+8h]@1
  int v28; // [sp+1Ch] [bp+8h]@10
  const void *v29; // [sp+1Ch] [bp+8h]@11

  v3 = a1;
  v5 = *(_DWORD *)(a1 + 52);
  v23 = *(void **)(a2 + 12);
  v27 = *(const void **)(a1 + 48);
  v4 = v27;
  if ( (unsigned int)v27 > v5 )
    v5 = *(_DWORD *)(v3 + 44);
  v6 = *(_DWORD *)(a2 + 16);
  v7 = v5 - (_DWORD)v27;
  v25 = v7;
  if ( v7 > v6 )
  {
    v25 = *(_DWORD *)(a2 + 16);
    v7 = *(_DWORD *)(a2 + 16);
  }
  if ( v7 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a2 + 20) += v7;
  *(_DWORD *)(a2 + 16) = v6 - v7;
  v8 = *(int (__stdcall **)(_DWORD, const void *, unsigned int))(v3 + 56);
  if ( v8 )
  {
    v9 = v8(*(_DWORD *)(v3 + 60), v27, v7);
    v4 = v27;
    *(_DWORD *)(v3 + 60) = v9;
    *(_DWORD *)(a2 + 48) = v9;
  }
  v10 = v7;
  v11 = v7 >> 2;
  qmemcpy(v23, v4, 4 * (v7 >> 2));
  v12 = (char *)v23 + 4 * (v7 >> 2);
  v24 = (char *)v23 + v25;
  v28 = (int)v27 + v25;
  qmemcpy(v12, (char *)v4 + 4 * v11, v10 & 3);
  v13 = *(_DWORD *)(v3 + 44);
  if ( v28 == v13 )
  {
    v14 = *(const void **)(v3 + 40);
    v29 = *(const void **)(v3 + 40);
    if ( *(_DWORD *)(v3 + 52) == v13 )
      *(_DWORD *)(v3 + 52) = v14;
    v15 = *(_DWORD *)(a2 + 16);
    v16 = *(_DWORD *)(v3 + 52) - (_DWORD)v14;
    v26 = *(_DWORD *)(v3 + 52) - (_DWORD)v14;
    if ( v16 > v15 )
    {
      v26 = *(_DWORD *)(a2 + 16);
      v16 = *(_DWORD *)(a2 + 16);
    }
    if ( v16 && a3 == -5 )
      a3 = 0;
    *(_DWORD *)(a2 + 20) += v16;
    *(_DWORD *)(a2 + 16) = v15 - v16;
    v17 = *(int (__stdcall **)(_DWORD, const void *, unsigned int))(v3 + 56);
    if ( v17 )
    {
      v18 = v17(*(_DWORD *)(v3 + 60), v14, v16);
      v14 = v29;
      *(_DWORD *)(v3 + 60) = v18;
      *(_DWORD *)(a2 + 48) = v18;
    }
    v19 = v16;
    qmemcpy(v24, v14, 4 * (v16 >> 2));
    v21 = (char *)v14 + 4 * (v16 >> 2);
    v20 = &v24[4 * (v16 >> 2)];
    v24 += v26;
    v28 = (int)v29 + v26;
    qmemcpy(v20, v21, v19 & 3);
  }
  *(_DWORD *)(a2 + 12) = v24;
  *(_DWORD *)(v3 + 48) = v28;
  return a3;
}

//----- (00473A20) --------------------------------------------------------
int __stdcall sub_473A20(int a1)
{
  int v1; // eax@1
  __int16 v2; // cx@2
  __int16 v3; // di@2
  __int16 v4; // bx@2
  __int16 v5; // dx@2
  __int16 v6; // di@2
  __int16 v7; // cx@2
  __int16 v8; // si@2
  __int16 v9; // bx@2
  __int16 v10; // ST10_2@2
  __int16 v11; // ST1C_2@2
  __int16 v12; // cx@2
  __int16 v13; // ST14_2@2
  __int16 v14; // ST18_2@2
  __int16 v15; // cx@2
  __int16 v16; // dx@2
  int v17; // ecx@2
  int v18; // edx@2
  int v19; // ecx@2
  int v20; // esi@2
  int v21; // edx@2
  int v22; // ecx@2
  __int16 v23; // bx@2
  __int16 v24; // di@2
  int result; // eax@3
  __int16 v26; // cx@4
  __int16 v27; // di@4
  __int16 v28; // bx@4
  __int16 v29; // dx@4
  __int16 v30; // di@4
  __int16 v31; // cx@4
  __int16 v32; // si@4
  __int16 v33; // bx@4
  __int16 v34; // ST10_2@4
  __int16 v35; // ST1C_2@4
  __int16 v36; // cx@4
  __int16 v37; // ST14_2@4
  __int16 v38; // ST18_2@4
  __int16 v39; // cx@4
  __int16 v40; // dx@4
  int v41; // ecx@4
  int v42; // edx@4
  int v43; // ecx@4
  int v44; // esi@4
  int v45; // edx@4
  int v46; // ecx@4
  __int16 v47; // bx@4
  __int16 v48; // di@4
  signed int v49; // [sp+20h] [bp-4h]@1
  signed int v50; // [sp+28h] [bp+4h]@3

  v1 = a1 + 4;
  v49 = 8;
  do
  {
    v2 = *(_WORD *)(v1 + 10);
    v3 = *(_WORD *)(v1 - 4);
    v4 = *(_WORD *)(v1 + 8);
    v5 = v3 + v2;
    v6 = v3 - v2;
    v7 = *(_WORD *)(v1 - 2);
    v8 = v7 + v4;
    v9 = v7 - v4;
    v10 = *(_WORD *)v1 + *(_WORD *)(v1 + 6);
    v11 = *(_WORD *)v1 - *(_WORD *)(v1 + 6);
    v12 = *(_WORD *)(v1 + 2);
    v13 = v12 + *(_WORD *)(v1 + 4);
    v14 = v12 - *(_WORD *)(v1 + 4);
    v15 = v5 + v13;
    v16 = v5 - v13;
    *(_WORD *)(v1 - 4) = v15 + v8 + v10;
    *(_WORD *)(v1 + 4) = v15 - (v8 + v10);
    v17 = 181 * (v16 + (signed __int16)(v8 - v10)) >> 8;
    *(_WORD *)(v1 + 8) = v16 - v17;
    *(_WORD *)v1 = v17 + v16;
    v18 = (signed __int16)(v9 + v6);
    v19 = 98 * ((signed __int16)(v11 + v14) - v18) >> 8;
    v20 = v19 + (139 * (signed __int16)(v11 + v14) >> 8);
    v21 = v19 + (334 * v18 >> 8);
    v22 = 181 * (signed __int16)(v9 + v11) >> 8;
    v23 = v22 + v6;
    v24 = v6 - v22;
    *(_WORD *)(v1 + 6) = v24 + v20;
    *(_WORD *)(v1 + 2) = v24 - v20;
    *(_WORD *)(v1 - 2) = v23 + v21;
    *(_WORD *)(v1 + 10) = v23 - v21;
    v1 += 16;
    --v49;
  }
  while ( v49 );
  result = a1 + 32;
  v50 = 8;
  do
  {
    v26 = *(_WORD *)(result + 80);
    v27 = *(_WORD *)(result - 32);
    v28 = *(_WORD *)(result + 64);
    v29 = v27 + v26;
    v30 = v27 - v26;
    v31 = *(_WORD *)(result - 16);
    v32 = v31 + v28;
    v33 = v31 - v28;
    v34 = *(_WORD *)result + *(_WORD *)(result + 48);
    v35 = *(_WORD *)result - *(_WORD *)(result + 48);
    v36 = *(_WORD *)(result + 16);
    v37 = v36 + *(_WORD *)(result + 32);
    v38 = v36 - *(_WORD *)(result + 32);
    v39 = v29 + v37;
    v40 = v29 - v37;
    *(_WORD *)(result - 32) = v39 + v32 + v34;
    *(_WORD *)(result + 32) = v39 - (v32 + v34);
    v41 = 181 * (v40 + (signed __int16)(v32 - v34)) >> 8;
    *(_WORD *)(result + 64) = v40 - v41;
    *(_WORD *)result = v41 + v40;
    v42 = (signed __int16)(v33 + v30);
    v43 = 98 * ((signed __int16)(v38 + v35) - v42) >> 8;
    v44 = v43 + (139 * (signed __int16)(v38 + v35) >> 8);
    v45 = v43 + (334 * v42 >> 8);
    v46 = 181 * (signed __int16)(v33 + v35) >> 8;
    v47 = v46 + v30;
    v48 = v30 - v46;
    *(_WORD *)(result + 48) = v48 + v44;
    *(_WORD *)(result + 16) = v48 - v44;
    *(_WORD *)(result - 16) = v47 + v45;
    *(_WORD *)(result + 80) = v47 - v45;
    result += 2;
    --v50;
  }
  while ( v50 );
  return result;
}

//----- (00473C80) --------------------------------------------------------
int __stdcall sub_473C80(int a1)
{
  int v1; // eax@1
  int v2; // esi@2
  int v3; // edx@2
  int v4; // edi@2
  int v5; // ecx@2
  int v6; // edx@2
  int v7; // esi@2
  int v8; // ST18_4@2
  int v9; // ebx@2
  int v10; // esi@2
  int v11; // edi@2
  int v12; // ST14_4@2
  int v13; // edi@2
  int v14; // ebx@2
  int v15; // ST10_4@2
  int v16; // ebx@2
  __int16 v17; // ST1C_2@2
  int v18; // ST20_4@2
  __int16 v19; // bp@2
  int v20; // ST14_4@2
  int v21; // ecx@2
  int v22; // ST14_4@2
  int v23; // ST10_4@2
  int v24; // ebp@2
  int v25; // ecx@2
  int v26; // ebx@2
  int result; // eax@3
  int v28; // esi@4
  int v29; // edx@4
  int v30; // edi@4
  int v31; // ecx@4
  int v32; // edx@4
  int v33; // esi@4
  int v34; // ST18_4@4
  int v35; // ebx@4
  int v36; // esi@4
  int v37; // edi@4
  int v38; // ST14_4@4
  int v39; // edi@4
  int v40; // ebx@4
  int v41; // ST10_4@4
  int v42; // ebx@4
  int v43; // ST1C_4@4
  int v44; // ST20_4@4
  int v45; // ST10_4@4
  int v46; // ebp@4
  int v47; // ST14_4@4
  int v48; // ecx@4
  int v49; // ST14_4@4
  int v50; // ST10_4@4
  int v51; // ebp@4
  int v52; // ecx@4
  int v53; // ebx@4
  signed int v54; // [sp+24h] [bp-4h]@1
  signed int v55; // [sp+2Ch] [bp+4h]@3

  v1 = a1 + 4;
  v54 = 8;
  do
  {
    v2 = *(_WORD *)(v1 + 10);
    v3 = *(_WORD *)(v1 - 4);
    v4 = *(_WORD *)(v1 + 8);
    v5 = v3 + v2;
    v6 = v3 - v2;
    v7 = *(_WORD *)(v1 - 2);
    v8 = v7 + v4;
    v9 = *(_WORD *)(v1 + 6);
    v10 = v7 - v4;
    v11 = *(_WORD *)v1;
    v12 = v9 + v11;
    v13 = v11 - v9;
    v14 = *(_WORD *)(v1 + 2);
    v15 = v14 + *(_WORD *)(v1 + 4);
    v16 = v14 - *(_WORD *)(v1 + 4);
    v17 = v5 + v15;
    v18 = v5 - v15;
    LOWORD(v15) = v8 + v12;
    v19 = v8 + v12;
    v20 = v8 - v12;
    *(_WORD *)(v1 - 4) = 4 * (v17 + v19);
    *(_WORD *)(v1 + 4) = 4 * (v17 - v15);
    v21 = 4433 * (v18 + v20);
    *(_WORD *)v1 = (v21 + 6270 * v18 + 1024) >> 11;
    *(_WORD *)(v1 + 8) = (v21 - 15137 * v20 + 1024) >> 11;
    v22 = 9633 * (v16 + v10 + v13 + v6);
    v23 = v22 - 16069 * (v16 + v10);
    v24 = v22 - 3196 * (v13 + v6);
    v25 = -7373 * (v16 + v6);
    *(_WORD *)(v1 + 10) = (v23 + 2446 * v16 + -7373 * (v16 + v6) + 1024) >> 11;
    v26 = -20995 * (v13 + v10);
    *(_WORD *)(v1 + 6) = (v24 + 16819 * v13 + v26 + 1024) >> 11;
    *(_WORD *)(v1 + 2) = (v23 + 25172 * v10 + v26 + 1024) >> 11;
    *(_WORD *)(v1 - 2) = (v24 + 12299 * v6 + v25 + 1024) >> 11;
    v1 += 16;
    --v54;
  }
  while ( v54 );
  result = a1 + 32;
  v55 = 8;
  do
  {
    v28 = *(_WORD *)(result + 80);
    v29 = *(_WORD *)(result - 32);
    v30 = *(_WORD *)(result + 64);
    v31 = v29 + v28;
    v32 = v29 - v28;
    v33 = *(_WORD *)(result - 16);
    v34 = v33 + v30;
    v35 = *(_WORD *)(result + 48);
    v36 = v33 - v30;
    v37 = *(_WORD *)result;
    v38 = v35 + v37;
    v39 = v37 - v35;
    v40 = *(_WORD *)(result + 16);
    v41 = v40 + *(_WORD *)(result + 32);
    v42 = v40 - *(_WORD *)(result + 32);
    v43 = v31 + v41;
    v44 = v31 - v41;
    v45 = v34 + v38;
    v46 = v34 + v38;
    v47 = v34 - v38;
    *(_WORD *)(result - 32) = (v43 + v46 + 2) >> 2;
    *(_WORD *)(result + 32) = (v43 - v45 + 2) >> 2;
    v48 = 4433 * (v44 + v47);
    *(_WORD *)result = (v48 + 6270 * v44 + 0x4000) >> 15;
    *(_WORD *)(result + 64) = (v48 - 15137 * v47 + 0x4000) >> 15;
    v49 = 9633 * (v42 + v36 + v39 + v32);
    v50 = v49 - 16069 * (v42 + v36);
    v51 = v49 - 3196 * (v39 + v32);
    v52 = -7373 * (v42 + v32);
    *(_WORD *)(result + 80) = (v50 + 2446 * v42 + -7373 * (v42 + v32) + 0x4000) >> 15;
    v53 = -20995 * (v39 + v36);
    *(_WORD *)(result + 48) = (v51 + 16819 * v39 + v53 + 0x4000) >> 15;
    *(_WORD *)(result + 16) = (v50 + 25172 * v36 + v53 + 0x4000) >> 15;
    *(_WORD *)(result - 16) = (v51 + 12299 * v32 + v52 + 0x4000) >> 15;
    result += 2;
    --v55;
  }
  while ( v55 );
  return result;
}

//----- (00473FE0) --------------------------------------------------------
signed int __stdcall sub_473FE0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  unsigned int v7; // ecx@1
  unsigned int j; // edx@1
  int v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // eax@2
  int v12; // eax@7
  bool i; // zf@7
  char v14; // cl@10
  int v15; // esi@12
  unsigned int v16; // edx@12
  int v17; // eax@15
  int v18; // ecx@17
  int v19; // ebx@18
  unsigned int v20; // ebx@19
  int v21; // esi@22
  _BYTE *v22; // ecx@22
  _BYTE *v23; // eax@22
  unsigned int v24; // esi@22
  int v25; // esi@25
  _BYTE *v26; // esi@28
  _BYTE *v27; // eax@31
  _BYTE *v28; // eax@31
  _BYTE *v29; // eax@34
  _BYTE *v30; // eax@34
  _BYTE *v31; // ecx@37
  unsigned int v32; // ecx@40
  signed int result; // eax@42
  unsigned int v34; // eax@46
  int v35; // ecx@46
  int v36; // ST20_4@53
  int v37; // edx@53
  int v38; // [sp+Ch] [bp-18h]@23
  int v39; // [sp+10h] [bp-14h]@4
  unsigned int v40; // [sp+14h] [bp-10h]@4
  _BYTE *v41; // [sp+18h] [bp-Ch]@1
  _BYTE *v42; // [sp+1Ch] [bp-8h]@1
  unsigned int v43; // [sp+20h] [bp-4h]@1
  int v44; // [sp+2Ch] [bp+8h]@7
  unsigned int v45; // [sp+2Ch] [bp+8h]@12
  int v46; // [sp+2Ch] [bp+8h]@26
  int v47; // [sp+2Ch] [bp+8h]@31
  int v48; // [sp+2Ch] [bp+8h]@34
  int v49; // [sp+30h] [bp+Ch]@4
  unsigned int v50; // [sp+40h] [bp+1Ch]@1
  unsigned int v51; // [sp+40h] [bp+1Ch]@12

  v6 = a5;
  v7 = *(_DWORD *)(a5 + 52);
  j = *(_DWORD *)(a5 + 28);
  v9 = a6;
  v42 = *(_BYTE **)a6;
  v43 = *(_DWORD *)(a6 + 4);
  v50 = *(_DWORD *)(a5 + 32);
  v10 = *(_DWORD *)(a5 + 48);
  v41 = *(_BYTE **)(a5 + 52);
  if ( v7 >= v10 )
    v11 = *(_DWORD *)(a5 + 44) - v7;
  else
    v11 = v10 - v7 - 1;
  v40 = v11;
  v39 = dword_532D60[a1];
  v49 = dword_532D60[a2];
LABEL_6:
  while ( j < 0x14 )
  {
    --v43;
    v50 |= *v42++ << j;
    j += 8;
  }
  v12 = a3 + 8 * (v50 & v39);
  v44 = *(_BYTE *)v12;
  for ( i = v44 == 0; ; i = v44 == 0 )
  {
    v14 = *(_BYTE *)(v12 + 1);
    if ( i )
    {
      v50 >>= v14;
      j -= *(_BYTE *)(v12 + 1);
      v31 = v41++;
      --v40;
      *v31 = *(_BYTE *)(v12 + 4);
LABEL_38:
      if ( v40 < 0x102 || v43 < 0xA )
      {
        v32 = *(_DWORD *)(v9 + 4) - v43;
        if ( j >> 3 < v32 )
          v32 = j >> 3;
        result = 0;
        goto LABEL_53;
      }
      goto LABEL_6;
    }
    v50 >>= v14;
    j -= *(_BYTE *)(v12 + 1);
    if ( v44 & 0x10 )
    {
      v15 = v50 & dword_532D60[v44 & 0xF];
      v51 = v50 >> (v44 & 0xF);
      v16 = j - (v44 & 0xF);
      v45 = *(_DWORD *)(v12 + 4) + v15;
      while ( v16 < 0xF )
      {
        --v43;
        v51 |= *v42++ << v16;
        v16 += 8;
      }
      v17 = a4 + 8 * (v51 & v49);
      v50 = v51 >> *(_BYTE *)(v17 + 1);
      for ( j = v16 - *(_BYTE *)(v17 + 1); ; j -= v18 )
      {
        v19 = *(_BYTE *)v17;
        if ( v19 & 0x10 )
        {
          v20 = v19 & 0xF;
          while ( j < v20 )
          {
            --v43;
            v50 |= *v42++ << j;
            j += 8;
          }
          v21 = *(_DWORD *)(v17 + 4) + (v50 & dword_532D60[v20]);
          v50 >>= v20;
          v40 -= v45;
          v22 = v41;
          j -= v20;
          v23 = &v41[-v21];
          v24 = *(_DWORD *)(a5 + 40);
          if ( (unsigned int)v23 >= v24 )
          {
            *v41 = *v23;
            v29 = v23 + 1;
            v41[1] = *v29;
            v22 = v41 + 2;
            v30 = v29 + 1;
            v48 = v45 - 2;
            do
            {
              *v22++ = *v30++;
              --v48;
            }
            while ( v48 );
          }
          else
          {
            v38 = *(_DWORD *)(a5 + 44);
            do
              v23 += v38 - v24;
            while ( (unsigned int)v23 < v24 );
            v25 = v38 - (_DWORD)v23;
            if ( v45 <= v38 - (signed int)v23 )
            {
              *v41 = *v23;
              v27 = v23 + 1;
              v41[1] = *v27;
              v22 = v41 + 2;
              v28 = v27 + 1;
              v47 = v45 - 2;
              do
              {
                *v22++ = *v28++;
                --v47;
              }
              while ( v47 );
            }
            else
            {
              v46 = v45 - v25;
              do
              {
                *v22++ = *v23++;
                --v25;
              }
              while ( v25 );
              v26 = *(_BYTE **)(a5 + 40);
              do
              {
                *v22++ = *v26++;
                --v46;
              }
              while ( v46 );
            }
          }
          v6 = a5;
          v41 = v22;
          goto LABEL_38;
        }
        if ( v19 & 0x40 )
          break;
        v17 += 8 * (*(_DWORD *)(v17 + 4) + (v50 & dword_532D60[v19]));
        v18 = *(_BYTE *)(v17 + 1);
        v50 >>= v18;
      }
      v32 = *(_DWORD *)(v9 + 4) - v43;
      *(_DWORD *)(v9 + 24) = "invalid distance code";
      if ( j >> 3 < v32 )
        v32 = j >> 3;
      v6 = a5;
      goto LABEL_52;
    }
    if ( v44 & 0x40 )
      break;
    v12 += 8 * (*(_DWORD *)(v12 + 4) + (v50 & dword_532D60[v44]));
    v44 = *(_BYTE *)v12;
  }
  v34 = j >> 3;
  v35 = *(_DWORD *)(v9 + 4);
  if ( !(v44 & 0x20) )
  {
    v32 = v35 - v43;
    *(_DWORD *)(v9 + 24) = "invalid literal/length code";
    if ( v34 < v32 )
      v32 = j >> 3;
LABEL_52:
    result = -3;
    goto LABEL_53;
  }
  v32 = v35 - v43;
  if ( v34 < v32 )
    v32 = j >> 3;
  result = 1;
LABEL_53:
  v36 = (int)&v42[-v32];
  *(_DWORD *)(v6 + 32) = v50;
  *(_DWORD *)(v6 + 28) = j - 8 * v32;
  *(_DWORD *)(v9 + 4) = v43 + v32;
  v37 = v36 - *(_DWORD *)v9;
  *(_DWORD *)v9 = v36;
  *(_DWORD *)(v9 + 8) += v37;
  *(_DWORD *)(v6 + 52) = v41;
  return result;
}
// 532D60: using guessed type int dword_532D60[];

//----- (00474CF0) --------------------------------------------------------
int __stdcall sub_474CF0(LPBYTE lpData)
{
  signed int v1; // esi@1
  int result; // eax@4
  DWORD cbData; // [sp+4h] [bp-8h]@2
  HKEY phkResult; // [sp+8h] [bp-4h]@1

  v1 = 0;
  if ( RegOpenKeyExA(
         HKEY_CLASSES_ROOT,
         "CLSID\\{ADB880A6-D8FF-11CF-9377-00AA003B7A11}\\InprocServer32",
         0,
         0x20019u,
         &phkResult) )
  {
    result = 0;
  }
  else
  {
    cbData = 260;
    if ( !RegQueryValueExA(phkResult, pszFaceName, 0, 0, lpData, &cbData) )
      v1 = 1;
    RegCloseKey(phkResult);
    result = v1;
  }
  return result;
}

//----- (00474D4F) --------------------------------------------------------
int __stdcall sub_474D4F(int a1, int a2, int a3, int a4)
{
  HMODULE v4; // ecx@1
  FARPROC v5; // eax@7
  int result; // eax@9
  CHAR LibFileName; // [sp+Ch] [bp-108h]@3
  int v8; // [sp+110h] [bp-4h]@1

  v4 = dword_539FE4;
  v8 = dword_532DC4;
  if ( !dword_539FE4 && (HMODULE)dword_539FE0 == dword_539FE4 )
  {
    if ( sub_474CF0((LPBYTE)&LibFileName) )
      dword_539FE4 = LoadLibraryA(&LibFileName);
    v4 = dword_539FE4;
    if ( !dword_539FE4 )
    {
      v4 = LoadLibraryA("hhctrl.ocx");
      dword_539FE4 = v4;
      if ( !v4 )
        goto LABEL_13;
    }
  }
  v5 = (FARPROC)dword_539FD8;
  if ( dword_539FD8 || (v5 = GetProcAddress(v4, (LPCSTR)0xE), (dword_539FD8 = (int)v5) != 0) )
  {
    result = ((int (__stdcall *)(int, int, int, int))v5)(a1, a2, a3, a4);
  }
  else
  {
LABEL_13:
    dword_539FE0 = 1;
    result = 0;
  }
  return result;
}
// 532DC4: using guessed type int dword_532DC4;
// 539FD8: using guessed type int dword_539FD8;
// 539FE0: using guessed type int dword_539FE0;

//----- (00474E50) --------------------------------------------------------
char __cdecl sub_474E50(__int64 a1)
{
  char result; // al@5

  if ( (unsigned int)a1 < 0x3E8 || (_DWORD)a1 == 262141 )
  {
    result = 4;
  }
  else if ( (_DWORD)a1 == 0x3FFFF || (_DWORD)a1 == 262142 )
  {
    result = 9;
  }
  else
  {
    result = sub_475D30(a1);
  }
  return result;
}

//----- (00474E80) --------------------------------------------------------
double __cdecl sub_474E80(float a1)
{
  unsigned int v1; // esi@1
  char v2; // al@1
  char v3; // al@2
  double result; // st7@2
  __int64 v5; // [sp-4h] [bp-20h]@0
  char v6; // [sp+4h] [bp-18h]@9
  char v7; // [sp+Ch] [bp-10h]@9

  v1 = LODWORD(a1);
  *(float *)&v5 = a1;
  v2 = sub_474E50(v5);
  if ( v1 == 262141 )
  {
    v3 = sub_480B80();
    a1 = sub_480AF0(v3);
    result = a1;
  }
  else
  {
    switch ( v2 )
    {
      case 9:
        a1 = 6.2831855;
        result = (float)6.2831855;
        break;
      case 8:
        a1 = sub_476A00(v1);
        result = a1;
        break;
      case 3:
        a1 = sub_476150(v1);
        result = a1;
        break;
      default:
        sub_475090(0, v1, (double *)&v7);
        sub_480D10((int)&v7, (int)&v6);
        sub_476130((int)&v6, &a1);
        result = a1;
        break;
    }
  }
  return result;
}

//----- (00474F40) --------------------------------------------------------
void __cdecl sub_474F40(unsigned int a1, int a2)
{
  __int64 v2; // [sp-4h] [bp-24h]@0
  int v3; // [sp+8h] [bp-18h]@10
  char v4[4]; // [sp+Ch] [bp-14h]@10
  char v5; // [sp+10h] [bp-10h]@10

  if ( a1 >= 0x3E8 )
  {
    switch ( a1 )
    {
      case 0x3FFFFu:
        *(_DWORD *)a2 = 1600085855;
        *(_WORD *)(a2 + 4) = 24415;
        *(_BYTE *)(a2 + 6) = 0;
        break;
      case 0x3FFFEu:
        *(_DWORD *)a2 = 1801678668;
        *(_WORD *)(a2 + 4) = 25701;
        *(_BYTE *)(a2 + 6) = 0;
        break;
      case 0x3FFFDu:
        *(_DWORD *)a2 = 1330654800;
        *(_WORD *)(a2 + 4) = 83;
        *(_BYTE *)(a2 + 6) = 0;
        break;
      default:
        LODWORD(v2) = a1;
        if ( sub_474E50(v2) == 11 )
        {
          sub_476D50(a1, &v3, v4);
          sub_475340(v3, v4[0], &v5);
          sub_4779E0(a2, &v5, 7);
        }
        else
        {
          sub_475910(a1, a2);
        }
        break;
    }
  }
  else
  {
    sub_4756C0(a1, a2);
  }
}

//----- (00475090) --------------------------------------------------------
double *__cdecl sub_475090(char a1, char a2, double *a3)
{
  unsigned int v3; // esi@1
  double *result; // eax@10
  __int64 v5; // [sp-4h] [bp-60h]@0
  int v6; // [sp+4h] [bp-58h]@7
  char v7; // [sp+8h] [bp-54h]@10
  double v8; // [sp+10h] [bp-4Ch]@3
  double v9; // [sp+18h] [bp-44h]@10
  char v10; // [sp+20h] [bp-3Ch]@10

  v3 = a2;
  if ( a2 == 0x3FFFF )
    goto LABEL_11;
  if ( (unsigned int)a2 >= 0x3E8 )
  {
    if ( a2 == 262141 )
    {
      sub_478170(a1, (int)&v8);
      goto LABEL_13;
    }
    LODWORD(v5) = a2;
    if ( sub_474E50(v5) != 11 )
    {
      sub_475B30(v3, (int)&v8);
      goto LABEL_13;
    }
    sub_476D50(v3, &v6, &a2);
    if ( (_BYTE)v6 != -1 && a2 != -1 && sub_476D70(v6, a2) == v3 )
    {
      sub_4752C0(v6, a2, &v10);
      sub_4751C0((int)&v10, (int)&v7);
      sub_480D30((int)&v7, (int)&v8);
      result = a3;
      *a3 = v8;
      result[1] = v9;
      return result;
    }
LABEL_11:
    result = a3;
    v8 = 6.2831853071796;
    v9 = 6.2831853071796;
    *a3 = 6.2831853071796;
    result[1] = v9;
    return result;
  }
  sub_475750(a2, (int)&v8);
LABEL_13:
  result = a3;
  *a3 = v8;
  result[1] = v9;
  return result;
}

//----- (004751C0) --------------------------------------------------------
int __cdecl sub_4751C0(int a1, int a2)
{
  int result; // eax@1

  result = a2;
  *(float *)a2 = 6.2831855;
  *(float *)(a2 + 4) = 6.2831855;
  switch ( *(_BYTE *)a1 )
  {
    case 1:
    case 4:
    case 0x12:
    case 0x14:
    case 0x15:
      *(_DWORD *)a2 = *(_DWORD *)(a1 + 44);
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 48);
      break;
    case 2:
    case 5:
    case 0x13:
    case 0x16:
      *(_DWORD *)a2 = *(_DWORD *)(a1 + 52);
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 56);
      break;
    default:
      return result;
  }
  return result;
}

//----- (00475230) --------------------------------------------------------
char __cdecl sub_475230(unsigned __int8 a1, char *a2)
{
  int v2; // eax@1
  int v3; // esi@1
  unsigned __int8 v4; // bl@2
  int v5; // edi@3
  signed int v6; // eax@3
  char result; // al@6
  char *v8; // edi@7
  unsigned int v9; // ecx@7

  sub_47FAD0(54, 60000);
  v2 = sub_476DD0(a1);
  v3 = v2;
  if ( v2 )
  {
    v4 = 0;
    *a2 = *(_BYTE *)(v2 + 1);
    if ( *(_BYTE *)(v2 + 1) )
    {
      do
      {
        v5 = v4;
        v6 = sub_478390(84 * v4++ + v3 + 148);
        *(_DWORD *)&a2[4 * v5 + 4] = v6;
      }
      while ( v4 < *(_BYTE *)(v3 + 1) );
    }
  }
  else
  {
    *a2 = 0;
  }
  sub_47FAB0(54);
  result = *a2;
  if ( (unsigned __int8)*a2 < 0x64u )
  {
    v8 = &a2[4 * (unsigned __int8)result + 4];
    v9 = (unsigned __int8)(100 - result);
    result = -1;
    memset32(v8, 0x3FFFF, v9);
  }
  return result;
}

//----- (004752C0) --------------------------------------------------------
int __cdecl sub_4752C0(int a1, char a2, void *a3)
{
  int v3; // eax@1
  int result; // eax@3

  sub_47FAD0(54, 60000);
  v3 = sub_476DD0(a1);
  if ( v3 && (unsigned __int8)a2 < *(_BYTE *)(v3 + 1) )
  {
    qmemcpy(a3, (const void *)(84 * (unsigned __int8)a2 + v3 + 148), 0x3Cu);
    result = sub_47FAB0(54);
  }
  else
  {
    memset(a3, 0, 0x3Cu);
    *(_BYTE *)a3 = 24;
    *((_BYTE *)a3 + 1) = 0;
    *((_BYTE *)a3 + 4) = 0;
    *((_BYTE *)a3 + 6) = 0;
    *((_BYTE *)a3 + 7) = 4;
    result = sub_47FAB0(54);
  }
  return result;
}

//----- (00475340) --------------------------------------------------------
char __cdecl sub_475340(int a1, char a2, char *a3)
{
  char result; // al@2
  int v4; // ebx@6
  unsigned int v5; // esi@8
  float v6; // edi@10
  unsigned int v7; // esi@10
  double v8; // ST28_8@10
  int v9; // eax@10
  int v10; // edi@13
  float v11; // [sp+1Ch] [bp-44h]@6
  float v12; // [sp+1Ch] [bp-44h]@13
  char v13; // [sp+24h] [bp-3Ch]@1
  float v14; // [sp+30h] [bp-30h]@5
  int v15; // [sp+48h] [bp-18h]@1
  float v16; // [sp+50h] [bp-10h]@6
  float v17; // [sp+54h] [bp-Ch]@6

  sub_4752C0(a1, a2, &v13);
  if ( v15 == 262142 )
  {
    result = sub_4779E0((int)a3, "Locked", 12);
  }
  else
  {
    switch ( v13 )
    {
      case 0:
        result = sub_4779E0((int)a3, "DME ARC", 12);
        break;
      case 1:
      case 7:
      case 0x12:
        sub_477B00(a3, 0xCu, "%d", (signed int)(v14 * 3.280839895013123 + 0.5));
        result = sub_477B30(a3, &unk_4C3CA0, 12);
        break;
      case 2:
      case 9:
      case 0x13:
        v11 = v17 * 0.0005399568034557236;
        sub_474F40(LODWORD(v16), (int)a3);
        v4 = 3;
        if ( v11 >= 9.9499998 )
          v4 = 4;
        v5 = strlen(a3);
        result = sub_477800(v11, v4, 1, (int)&a3[v5]);
        *(&a3[v4] + v5) = 0;
        break;
      case 4:
      case 0x14:
        result = sub_4779E0((int)a3, "INTRCPT ", 12);
        break;
      case 5:
      case 0x16:
        v6 = v16;
        sub_474F40(LODWORD(v16), (int)a3);
        v7 = strlen(a3);
        v8 = v17;
        *(float *)&v8 = v8 - sub_474E80(v6);
        *(float *)&v8 = sub_480CD0(*(float *)&v8);
        v9 = sub_480D50(*(float *)&v8);
        if ( !v9 )
          v9 = 360;
        result = sub_477B00(&a3[v7], 12 - v7, "%03i", v9);
        break;
      case 8:
        v10 = 3;
        v12 = v16 * 0.0005399568034557236;
        if ( v12 >= 9.9499998 )
          v10 = 4;
        *a3 = 68;
        result = sub_477800(v12, v10, 1, (int)(a3 + 1));
        a3[v10 + 1] = 0;
        break;
      case 0xA:
      case 0x15:
        result = sub_4779E0((int)a3, "MANSEQ", 12);
        break;
      case 0xF:
        result = sub_4779E0((int)a3, "PROC. TURN", 12);
        break;
      case 0xB:
      case 0xC:
      case 0xD:
        result = sub_4779E0((int)a3, "HOLD", 12);
        break;
      case 0x10:
        result = sub_4779E0((int)a3, &off_4C3C4C, 12);
        break;
      default:
        result = (char)a3;
        *a3 = 0;
        break;
    }
  }
  return result;
}
// 4C3C4C: using guessed type void *off_4C3C4C;

//----- (00475620) --------------------------------------------------------
void sub_475620()
{
  dword_5DAB08 = -15;
}
// 5DAB08: using guessed type int dword_5DAB08;

//----- (00475630) --------------------------------------------------------
signed int sub_475630()
{
  return sub_47FFC0((int)&off_4C3CC8);
}
// 4C3CC8: using guessed type char *off_4C3CC8;

//----- (00475640) --------------------------------------------------------
char __usercall sub_475640@<al>(unsigned __int16 a1@<ax>, void *a2)
{
  unsigned __int16 v2; // si@1
  char result; // al@4

  v2 = a1;
  if ( (unsigned __int8)sub_475630() && v2 < 0x3E8u && *(_WORD *)(dword_5DAB08 + 56 * v2 + 880428) == v2 )
  {
    qmemcpy(a2, (const void *)(dword_5DAB08 + 56 * (v2 + 15721)), 0x38u);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5DAB08: using guessed type int dword_5DAB08;

//----- (004756A0) --------------------------------------------------------
int __usercall sub_4756A0@<eax>(int result@<eax>, int a2@<ecx>)
{
  *(double *)result = (double)*(signed int *)a2 * 0.000000001462918079267163;
  *(double *)(result + 8) = 0.000000001462918079267163 * (double)*(signed int *)(a2 + 4);
  return result;
}

//----- (004756C0) --------------------------------------------------------
int __cdecl sub_4756C0(unsigned __int16 a1, int a2)
{
  char v3; // [sp+4h] [bp-3Ch]@1
  char v4; // [sp+8h] [bp-38h]@3

  sub_47FAD0(58, 60000);
  if ( sub_475640(a1, &v3) )
  {
    sub_476CB0(&v4, 6, a2);
    sub_477B70(a2, 6);
  }
  else
  {
    *(_DWORD *)a2 = 1600085855;
    *(_WORD *)(a2 + 4) = 24415;
    *(_BYTE *)(a2 + 6) = 0;
  }
  return sub_47FAB0(58);
}

//----- (00475750) --------------------------------------------------------
int __cdecl sub_475750(unsigned __int16 a1, int a2)
{
  char v3; // [sp+4h] [bp-3Ch]@1
  char v4; // [sp+Ch] [bp-34h]@3

  sub_47FAD0(58, 60000);
  if ( sub_475640(a1, &v3) )
  {
    sub_4756A0(a2, (int)&v4);
  }
  else
  {
    *(double *)a2 = 6.2831853071796;
    *(double *)(a2 + 8) = 6.2831853071796;
  }
  return sub_47FAB0(58);
}

//----- (004757C0) --------------------------------------------------------
char __cdecl sub_4757C0(unsigned __int8 a1, int a2, char a3, int a4)
{
  char result; // al@2

  if ( (unsigned __int8)(*(int (__cdecl **)(int, signed int, int))dword_5DAAFC)(a2 + dword_4C3D24[3 * a1] - 3, 4, a4) )
  {
    *(_BYTE *)(a4 + 4) = a3;
    *(_BYTE *)a4 &= byte_4C3CE8[5 * a1];
    *(_BYTE *)(a4 + 1) &= byte_4C3CE9[5 * a1];
    *(_BYTE *)(a4 + 2) &= byte_4C3CEA[5 * a1];
    *(_BYTE *)(a4 + 3) &= byte_4C3CEB[5 * a1];
    *(_BYTE *)(a4 + 4) &= byte_4C3CEC[5 * a1];
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4C3D24: using guessed type int dword_4C3D24[];
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (00475840) --------------------------------------------------------
char __usercall sub_475840@<al>(int a1@<eax>, unsigned __int8 a2)
{
  int v2; // edi@1
  unsigned int v3; // edi@2
  char v4; // dl@2
  signed int v5; // eax@2
  char result; // al@6
  __int16 v7; // [sp+Ch] [bp-1ECh]@1
  char v8[490]; // [sp+Eh] [bp-1EAh]@3

  v2 = a1;
  if ( (unsigned __int8)(*(int (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(
                          dword_5DAB40[3 * (unsigned __int8)byte_4C3D1C[12 * a2]],
                          492,
                          &v7) )
  {
    v3 = v2 - *(_DWORD *)(dword_5DB390 + 4 * a2 + 20812);
    v4 = 0;
    v5 = 163;
    do
    {
      if ( *(unsigned __int16 *)((char *)&v7 + 3 * v5) + ((v8[3 * v5] & 3u) << 16) <= v3 )
      {
        v4 = v5;
        v5 = 0;
      }
      --v5;
    }
    while ( v5 >= 0 );
    result = v4 + 4;
  }
  else
  {
    result = -92;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAB40: using guessed type int dword_5DAB40[];
// 5DB390: using guessed type int dword_5DB390;
// 475840: using guessed type char var_1EA[490];

//----- (004758E0) --------------------------------------------------------
int __fastcall sub_4758E0(int a1, int a2)
{
  int result; // eax@1

  result = ((*(_WORD *)a1 << 9) + (*(_WORD *)(a1 + 5) & 0x1FF)) << 7;
  *(_DWORD *)a2 = (*(_BYTE *)(a1 + 4) + (*(_WORD *)(a1 + 2) << 8)) << 7;
  *(_DWORD *)(a2 + 4) = result;
  return result;
}

//----- (00475910) --------------------------------------------------------
void __cdecl sub_475910(unsigned int a1, int a2)
{
  unsigned __int8 v2; // bl@4
  int v3; // ebp@4
  char v4; // ST34_1@4
  char v5; // [sp+Ch] [bp-Ch]@4
  char v6; // [sp+10h] [bp-8h]@5

  if ( a1 >= 0x3E8 )
  {
    if ( a1 >= *(_DWORD *)(dword_5DB390 + 20828) )
    {
      if ( ((a1 >> 16) & 0xFC00) == 12288 )
        sub_477140(a1, a2);
      else
        sub_476A70(a1, a2);
    }
    else
    {
      v2 = sub_475C50(a1);
      v3 = sub_475C80(a1, v2, 1);
      v4 = sub_475840(a1, v2);
      if ( sub_4757C0(v2, v3, v4, (int)&v5) )
      {
        sub_476CB0(&v6, 6, a2);
        sub_477B70(a2, 6);
      }
      else
      {
        *(_DWORD *)a2 = 1600085855;
        *(_WORD *)(a2 + 4) = 24415;
        *(_BYTE *)(a2 + 6) = 0;
      }
    }
  }
  else
  {
    *(_DWORD *)a2 = 1600085855;
    *(_WORD *)(a2 + 4) = 24415;
    *(_BYTE *)(a2 + 6) = 0;
  }
}
// 5DB390: using guessed type int dword_5DB390;

//----- (00475A50) --------------------------------------------------------
char __cdecl sub_475A50(unsigned int a1, int a2)
{
  char result; // al@2
  unsigned __int8 v3; // al@4
  int v4; // eax@4
  char v5; // [sp+4h] [bp-8h]@4

  if ( a1 >= 0x3E8 )
  {
    if ( a1 >= *(_DWORD *)(dword_5DB390 + 20828) )
    {
      if ( ((a1 >> 16) & 0xFC00) == 12288 )
        result = sub_477320(a1, a2);
      else
        result = sub_476C70(a1, a2);
    }
    else
    {
      v3 = sub_475C50(a1);
      v4 = sub_475C80(a1, v3, 1);
      (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v4, 7, &v5);
      result = sub_4758E0((int)&v5, a2);
    }
  }
  else
  {
    result = a2;
    *(_DWORD *)a2 = 2147483648;
    *(_DWORD *)(a2 + 4) = 2147483648;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB390: using guessed type int dword_5DB390;

//----- (00475B00) --------------------------------------------------------
void __usercall sub_475B00(int a1@<ecx>, int a2@<esi>)
{
  int v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  sub_4758E0(a1, (int)&v2);
  *(double *)a2 = sub_4783B0(v2, 24);
  *(double *)(a2 + 8) = sub_4783B0(v3, 24);
}

//----- (00475B30) --------------------------------------------------------
char __cdecl sub_475B30(unsigned int a1, int a2)
{
  char result; // al@2
  unsigned __int8 v3; // bl@4
  int v4; // eax@4
  unsigned int v5; // ebx@7
  char v6; // bl@13
  int v7; // [sp+4h] [bp-20h]@4
  int v8; // [sp+8h] [bp-1Ch]@10
  unsigned __int8 v9; // [sp+Ch] [bp-18h]@9
  unsigned int v10; // [sp+Eh] [bp-16h]@7
  unsigned int v11; // [sp+14h] [bp-10h]@8

  if ( a1 >= 0x3E8 )
  {
    if ( a1 >= *(_DWORD *)(dword_5DB390 + 20828) )
    {
      if ( ((a1 >> 16) & 0xFC00) == 12288 )
      {
        v6 = sub_477320(a1, (int)&v7);
        if ( v6 )
        {
          sub_4780F0(a2, v7, v8);
          result = v6;
        }
        else
        {
          *(double *)a2 = 6.2831853071796;
          *(double *)(a2 + 8) = 6.2831853071796;
          result = 0;
        }
      }
      else
      {
        result = sub_476C00(a1, a2);
      }
    }
    else
    {
      v3 = sub_475C50(a1);
      v4 = sub_475C80(a1, v3, 1);
      (*(void (__cdecl **)(int, signed int, int *))dword_5DAAFC)(v4, 32, &v7);
      if ( v3 )
      {
        if ( v3 == 1 )
        {
          LOBYTE(v5) = v9 >> 1;
        }
        else if ( v3 == 2 )
        {
          v5 = v11 >> 14;
        }
        else
        {
          v5 = v10 >> 23;
        }
      }
      else
      {
        v5 = (unsigned int)v8 >> 29;
      }
      sub_475B00((int)&v7, a2);
      result = v5 & 1;
    }
  }
  else
  {
    *(double *)a2 = 6.2831853071796;
    *(double *)(a2 + 8) = 6.2831853071796;
    result = 0;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB390: using guessed type int dword_5DB390;

//----- (00475C50) --------------------------------------------------------
unsigned __int8 __cdecl sub_475C50(unsigned int a1)
{
  unsigned __int8 result; // al@1

  result = 0;
  do
  {
    if ( a1 < *(_DWORD *)(dword_5DB390 + 4 * result + 20816) )
      break;
    ++result;
  }
  while ( result < 4u );
  return result;
}
// 5DB390: using guessed type int dword_5DB390;

//----- (00475C80) --------------------------------------------------------
int __cdecl sub_475C80(unsigned int a1, unsigned __int8 a2, char a3)
{
  unsigned int v3; // esi@2
  char v4; // bl@4
  int result; // eax@5

  if ( a2 >= 4u )
  {
    result = 0xFFFFFF;
  }
  else
  {
    v3 = a1;
    if ( a3 )
      v3 = a1 - *(_DWORD *)(dword_5DB390 + 4 * a2 + 20812);
    v4 = byte_4C3D20[12 * a2];
    if ( sub_4783F0(v3, (unsigned __int8)byte_4C3D20[12 * a2]) )
      result = dword_5DAB40[3 * (unsigned __int8)v4] + v3 * (unsigned __int16)word_5DAB44[6 * (unsigned __int8)v4];
    else
      result = 0xFFFFFF;
  }
  return result;
}
// 5DAB40: using guessed type int dword_5DAB40[];
// 5DAB44: using guessed type __int16 word_5DAB44[];
// 5DB390: using guessed type int dword_5DB390;

//----- (00475D00) --------------------------------------------------------
int __cdecl sub_475D00(unsigned int a1)
{
  unsigned __int8 v1; // ST14_1@1

  v1 = sub_475C50(a1);
  return sub_475C80(a1, v1, 1);
}

//----- (00475D30) --------------------------------------------------------
char __cdecl sub_475D30(__int64 a1)
{
  char v1; // bl@1
  char result; // al@3
  unsigned __int16 v3; // ax@7

  v1 = 9;
  if ( (unsigned int)a1 < 0x3E8 )
  {
LABEL_13:
    result = v1;
  }
  else
  {
    switch ( sub_475C50(a1) )
    {
      case 0u:
        result = 0;
        break;
      case 1u:
        result = 1;
        break;
      case 2u:
        result = 2;
        break;
      case 3u:
        result = 3;
        break;
      default:
        v3 = WORD1(a1) >> 10;
        if ( (unsigned __int16)(WORD1(a1) >> 10) >= 0xBu && v3 < 0xDu
          || v3 >= 5u && v3 <= 8u && (unsigned __int16)(a1 - 1000) < (unsigned int)sub_478430(8u) )
        {
          v1 = (*(_DWORD *)((char *)&a1 + 2) >> 10) & 0x3F;
        }
        goto LABEL_13;
    }
  }
  return result;
}

//----- (00475DD0) --------------------------------------------------------
int sub_475DD0()
{
  int result; // eax@2
  unsigned __int8 v1; // [sp+0h] [bp-Ch]@4
  int v2; // [sp+2h] [bp-Ah]@4
  int v3; // [sp+6h] [bp-6h]@4

  if ( sub_4783F0(0x4Du, 1u) )
  {
    result = dword_5DAEDC;
    dword_539FF4 = dword_5DAEDC;
    if ( dword_5DAEDC )
    {
      (*(void (__cdecl **)(int, signed int, unsigned __int8 *))dword_5DAAFC)(dword_5DAEDC, 8, &v1);
      word_539FEC = v1;
      result = v3 & 0x1FF;
      dword_539FF4 += (unsigned __int16)word_5DAEE0;
      word_539FF0 = v2 & 0x1FF;
      word_539FE8 = v3 & 0x1FF;
    }
  }
  else
  {
    word_539FEC = 6;
    word_539FF0 = 6;
    result = dword_5DAD5C;
    word_539FE8 = 60;
    dword_539FF4 = dword_5DAD5C;
  }
  return result;
}
// 539FE8: using guessed type __int16 word_539FE8;
// 539FEC: using guessed type __int16 word_539FEC;
// 539FF0: using guessed type __int16 word_539FF0;
// 539FF4: using guessed type int dword_539FF4;
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAD5C: using guessed type int dword_5DAD5C;
// 5DAEDC: using guessed type int dword_5DAEDC;
// 5DAEE0: using guessed type __int16 word_5DAEE0;

//----- (00475E70) --------------------------------------------------------
char __cdecl sub_475E70(float *a1)
{
  int v1; // ecx@0
  int v2; // esi@1
  char v3; // bl@1
  char v4; // al@1
  float v5; // ST44_4@4
  double v6; // st6@4
  signed __int16 v7; // si@4
  signed int v8; // eax@4
  signed __int16 v9; // di@4
  float v10; // ST44_4@7
  __int16 v11; // cx@8
  __int16 v12; // ax@8
  signed int v13; // edi@8
  __int16 v14; // bp@8
  int v15; // esi@8
  __int16 v16; // bx@8
  signed int v17; // esi@8
  int *v18; // edi@8
  signed int v19; // ecx@10
  __int64 v20; // rax@11
  __int16 v21; // si@16
  float v23; // [sp+Ch] [bp-1Ch]@8
  float v24; // [sp+10h] [bp-18h]@4
  float v25; // [sp+10h] [bp-18h]@8
  int v26; // [sp+18h] [bp-10h]@8
  int v27; // [sp+1Ch] [bp-Ch]@8

  *a1 = 0.0;
  v2 = v1;
  v3 = 0;
  v4 = sub_478AD0(v1, 0);
  if ( dword_539FF4 && v4 && sub_4783F0(0, 0x2Du) )
  {
    v24 = (*(float *)v2 + 1.570796370506287) * 57.29578018188477;
    v5 = 57.29578018188477 * (*(float *)(v2 + 4) + 3.141592741012573);
    v6 = v5;
    v7 = (signed int)v24;
    v8 = (signed int)v5;
    v9 = v8;
    if ( v7 > 179 )
      v7 = 179;
    if ( v9 >= 360 )
    {
      v9 = v8 - 360;
      v10 = v6 - 360.0;
      v6 = v10;
    }
    v11 = v7 / word_539FEC;
    v12 = v9 / word_539FF0;
    v13 = (signed __int16)(v7 / word_539FEC);
    v14 = v7 / word_539FEC + 1;
    v23 = v24 / (double)word_539FEC - (double)v13;
    v15 = v12;
    v25 = v6 / (double)word_539FF0 - (double)v12;
    v16 = (v12 + 1) % word_539FE8;
    (*(void (__cdecl **)(int, signed int, int *))dword_5DAAFC)(
      dword_539FF4 + (unsigned __int16)word_5DAD60 * (v12 + v11 * word_539FE8),
      2,
      &v26);
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(
      dword_539FF4 + (unsigned __int16)word_5DAD60 * (v16 + v13 * word_539FE8),
      2,
      (char *)&v26 + 2);
    (*(void (__cdecl **)(int, signed int, int *))dword_5DAAFC)(
      dword_539FF4 + (unsigned __int16)word_5DAD60 * (v15 + v14 * word_539FE8),
      2,
      &v27);
    (*(void (__cdecl **)(int, _DWORD, char *))dword_5DAAFC)(
      dword_539FF4 + (unsigned __int16)word_5DAD60 * (v16 + v14 * word_539FE8),
      2,
      (char *)&v27 + 2);
    v3 = 1;
    v17 = 1;
    v18 = &v26;
    do
    {
      if ( !v3 )
        break;
      v19 = v17;
      if ( v17 < 4 )
      {
        while ( 1 )
        {
          v20 = (signed __int16)(*(_WORD *)v18 - *((_WORD *)&v26 + v19));
          if ( (signed int)((HIDWORD(v20) ^ v20) - HIDWORD(v20)) > 1820 )
            break;
          if ( ++v19 >= 4 )
            goto LABEL_15;
        }
        v3 = 0;
      }
LABEL_15:
      ++v17;
      v18 = (int *)((char *)v18 + 2);
    }
    while ( v17 - 1 < 3 );
    v21 = v26 + (signed int)((double)(signed __int16)(v27 - v26) * v23);
    *a1 = (double)(signed __int16)(v21
                                 + (signed int)((double)(signed __int16)(HIWORD(v26)
                                                                       + (signed int)(v23
                                                                                    * (double)(signed __int16)(HIWORD(v27) - HIWORD(v26)))
                                                                       - v21)
                                              * v25))
        * 0.0000958738019107841;
  }
  return v3;
}
// 539FE8: using guessed type __int16 word_539FE8;
// 539FEC: using guessed type __int16 word_539FEC;
// 539FF0: using guessed type __int16 word_539FF0;
// 539FF4: using guessed type int dword_539FF4;
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAD60: using guessed type __int16 word_5DAD60;

//----- (00476130) --------------------------------------------------------
char __cdecl sub_476130(int a1, float *a2)
{
  return sub_475E70(a2);
}

//----- (00476150) --------------------------------------------------------
double __cdecl sub_476150(unsigned int a1)
{
  int v1; // eax@2
  __int64 v3; // [sp-4h] [bp-44h]@0
  float v4; // [sp+4h] [bp-3Ch]@1
  char v5; // [sp+8h] [bp-38h]@5
  char v6; // [sp+10h] [bp-30h]@5
  char v7; // [sp+20h] [bp-20h]@2
  unsigned int v8; // [sp+24h] [bp-1Ch]@2
  int v9; // [sp+2Eh] [bp-12h]@4

  v4 = 6.2831855;
  LODWORD(v3) = a1;
  if ( sub_475D30(v3) == 3 )
  {
    v1 = sub_475D00(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v1, 29, &v7);
    if ( v8 >> 29 != 2 && v8 >> 29 != 6 )
      return (float)((double)(v9 >> 23) * 0.01745329238474369 * 0.5);
    sub_475B30(a1, (int)&v6);
    sub_480D10((int)&v6, (int)&v5);
    sub_476130((int)&v5, &v4);
  }
  return v4;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (00476200) --------------------------------------------------------
int __cdecl sub_476200(int a1)
{
  int result; // eax@1
  signed int v2; // ecx@1
  unsigned __int16 v3; // [sp+Ch] [bp+4h]@1

  result = 0;
  v3 = *(_WORD *)(a1 + 4);
  v2 = 0;
  do
  {
    if ( v3 & (unsigned __int16)(1 << v2) )
      result += (unsigned __int16)word_5DB262;
    ++v2;
  }
  while ( v2 < 16 );
  return result;
}
// 5DB262: using guessed type __int16 word_5DB262;

//----- (00476240) --------------------------------------------------------
signed int __thiscall sub_476240(int this)
{
  int v1; // edi@1
  signed int result; // eax@1
  int v3; // ebx@2
  int v4; // esi@2
  __int16 v5; // cx@2
  char *v6; // eax@2
  unsigned __int16 v7; // [sp+4h] [bp-A4h]@2

  v1 = this;
  result = 0xFFFFFF;
  if ( *(_BYTE *)(this + 4) & 0x10 )
  {
    v3 = *(_DWORD *)this;
    v4 = v3 + sub_476200(this);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_5DAAFC)(v3, 160, &v7);
    v5 = *(_WORD *)(v1 + 4);
    v6 = (char *)&v7;
    if ( v5 & 1 )
    {
      v4 += v7;
      v6 = (char *)&v7 + (unsigned __int16)word_5DB262;
    }
    if ( v5 & 2 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_5DB262;
    }
    if ( v5 & 4 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_5DB262;
    }
    if ( v5 & 8 )
      v4 += *(_WORD *)v6;
    result = v4;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB262: using guessed type __int16 word_5DB262;

//----- (004762F0) --------------------------------------------------------
signed int __usercall sub_4762F0@<eax>(int a1@<edi>)
{
  signed int result; // eax@1
  int v2; // ebx@2
  int v3; // esi@2
  __int16 v4; // ax@2
  char *v5; // ecx@2
  unsigned __int16 v6; // [sp+0h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 4) & 4 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_476200(a1);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_5DAAFC)(v2, 160, &v6);
    v4 = *(_WORD *)(a1 + 4);
    v5 = (char *)&v6;
    if ( v4 & 1 )
    {
      v3 += v6;
      v5 = (char *)&v6 + (unsigned __int16)word_5DB262;
    }
    if ( v4 & 2 )
      v3 += *(_WORD *)v5;
    result = v3;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB262: using guessed type __int16 word_5DB262;

//----- (00476380) --------------------------------------------------------
signed int __thiscall sub_476380(int this)
{
  int v1; // edi@1
  signed int result; // eax@1
  int v3; // ebx@2
  int v4; // esi@2
  __int16 v5; // cx@2
  char *v6; // eax@2
  unsigned __int16 v7; // [sp+4h] [bp-A4h]@2

  v1 = this;
  result = 0xFFFFFF;
  if ( *(_BYTE *)(this + 4) & 8 )
  {
    v3 = *(_DWORD *)this;
    v4 = v3 + sub_476200(this);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_5DAAFC)(v3, 160, &v7);
    v5 = *(_WORD *)(v1 + 4);
    v6 = (char *)&v7;
    if ( v5 & 1 )
    {
      v4 += v7;
      v6 = (char *)&v7 + (unsigned __int16)word_5DB262;
    }
    if ( v5 & 2 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_5DB262;
    }
    if ( v5 & 4 )
      v4 += *(_WORD *)v6;
    result = v4;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB262: using guessed type __int16 word_5DB262;

//----- (00476420) --------------------------------------------------------
int __usercall sub_476420@<eax>(int a1@<esi>)
{
  int result; // eax@1

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 4) & 1 )
    result = *(_DWORD *)a1 + sub_476200(a1);
  return result;
}

//----- (00476440) --------------------------------------------------------
char __usercall sub_476440@<al>(unsigned int a1@<eax>, unsigned int *a2@<ebx>, _BYTE *a3@<edi>, int a4@<esi>, _DWORD *a5, int *a6)
{
  int *v6; // ebp@1

  v6 = a6;
  *a6 = 1000;
  *(_BYTE *)a1 = 95;
  *a2 = 1000;
  *a3 = 95;
  if ( *(_BYTE *)(a4 + 3) & 0x1F )
  {
    *v6 = *(_BYTE *)(a4 + 3) & 0x1F;
    *(_BYTE *)a1 = byte_4C3D78[((unsigned int)*(_BYTE *)(a4 + 3) >> 5) & 7];
    *a2 = (*(_BYTE *)(a4 + 3) & 0x1F) + 18;
    a1 = ((unsigned int)*(_BYTE *)(a4 + 3) >> 5) & 7;
    *a3 = byte_4C3D70[a1];
  }
  if ( *(_BYTE *)(a4 + 5) & 4 )
  {
    (*(void (__cdecl **)(_DWORD, signed int, int **))dword_5DAAFC)(*a5, 1, &a6);
    *a5 += (unsigned __int16)word_5DB266;
    LOBYTE(a1) = (_BYTE)a6;
    if ( (unsigned __int8)a6 & 0x1F )
    {
      a1 = ((unsigned __int8)a6 & 0x1F) + 18;
      *a2 = a1;
      *a3 = byte_4C3D70[((unsigned int)*(_BYTE *)(a4 + 3) >> 5) & 7];
    }
    else
    {
      *a2 = 1000;
      *a3 = 95;
    }
  }
  return a1;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB266: using guessed type __int16 word_5DB266;

//----- (00476500) --------------------------------------------------------
void *__usercall sub_476500@<eax>(int a1@<eax>, char *a2@<esi>)
{
  int v2; // ST0C_4@2
  int v3; // eax@2
  void *result; // eax@2

  if ( *(_WORD *)(a1 + 10) & 0x8000 )
  {
    LOWORD(v2) = *(_WORD *)(a1 + 22);
    HIWORD(v2) = (*(_DWORD *)(a1 + 16) >> 25) & 0x7F;
    v3 = v2 + dword_5DABC4;
    *(_DWORD *)a2 = v2 + dword_5DABC4;
    result = (void *)(*(int (__cdecl **)(int, signed int, char *, int))dword_5DAAFC)(v3, 2, a2 + 4, v2);
    *(_DWORD *)a2 += (unsigned __int16)word_5DABC8;
  }
  else
  {
    result = memcpy_0(a2, &unk_4C3D80, 6u);
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DABC4: using guessed type int dword_5DABC4;
// 5DABC8: using guessed type __int16 word_5DABC8;

//----- (00476560) --------------------------------------------------------
__int16 __usercall sub_476560@<ax>(int a1@<eax>, int a2@<esi>, int a3)
{
  int v3; // edi@1
  int v4; // eax@1
  int v5; // edi@2
  int v6; // ecx@6
  int v7; // edx@10
  char v8; // cl@10
  unsigned int v9; // eax@10
  int v10; // edx@16
  int v12; // [sp+0h] [bp-20h]@0
  __int16 v13; // [sp+Ch] [bp-14h]@2
  __int16 v14; // [sp+Eh] [bp-12h]@6
  int v15; // [sp+10h] [bp-10h]@2

  v3 = a1;
  sub_475A50(a3 & 0x3FFFF, v12);
  *(_DWORD *)a2 >>= 7;
  *(_DWORD *)(a2 + 4) >>= 7;
  LOWORD(v4) = HIWORD(a3) >> 10;
  if ( HIWORD(a3) >> 10 != 5 )
  {
    if ( (_WORD)v4 == 6 )
    {
      (*(void (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(v3, 9, &v13);
      v7 = *(_DWORD *)a2 - 16 * v14;
      v8 = v15;
      v9 = (unsigned int)(unsigned __int8)v15 >> 4;
    }
    else
    {
      if ( (_WORD)v4 == 7 )
      {
        (*(void (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(v3, 11, &v13);
      }
      else
      {
        if ( (_WORD)v4 != 8 )
          return v4;
        (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_5DAAFC)(v3, 15, &v13);
      }
      v7 = *(_DWORD *)a2 - 16 * v14;
      v8 = v15;
      v9 = (unsigned __int8)v15 >> 4;
    }
    *(_DWORD *)a2 = (v7 - (v8 & 0xF)) << 7;
    v10 = *(_DWORD *)(a2 + 4) - v9;
    v4 = 16 * v13;
    *(_DWORD *)(a2 + 4) = (v10 - v4) << 7;
    return v4;
  }
  (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_5DAAFC)(v3, 7, &v13);
  LOWORD(v4) = v15;
  v5 = (unsigned __int16)word_5DB264 + v3;
  if ( BYTE1(v15) & 8 )
  {
    if ( BYTE1(v15) & 4 )
      v5 += (unsigned __int16)word_5DB266;
    (*(void (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(v5, 19, &v13);
    if ( (HIWORD(a3) & 0x3FCu) > 0x1FC )
    {
      v4 = (signed __int16)v15;
      *(_DWORD *)a2 -= SHIWORD(v15);
      *(_DWORD *)(a2 + 4) -= v4;
      *(_DWORD *)a2 <<= 7;
      *(_DWORD *)(a2 + 4) <<= 7;
    }
    else
    {
      LOWORD(v4) = v14;
      v6 = v13;
      *(_DWORD *)a2 -= v14;
      *(_DWORD *)(a2 + 4) -= v6;
      *(_DWORD *)a2 <<= 7;
      *(_DWORD *)(a2 + 4) <<= 7;
    }
  }
  else
  {
    *(_DWORD *)a2 = 0x7FFFFFFF;
    *(_DWORD *)(a2 + 4) = 0x7FFFFFFF;
  }
  return v4;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB264: using guessed type __int16 word_5DB264;
// 5DB266: using guessed type __int16 word_5DB266;

//----- (004766D0) --------------------------------------------------------
void *__cdecl sub_4766D0(unsigned int a1, char *a2)
{
  int v2; // eax@2
  __int64 v4; // [sp-4h] [bp-24h]@0
  char v5; // [sp+4h] [bp-1Ch]@2
  __int16 v6; // [sp+Eh] [bp-12h]@1

  v6 &= 0x7FFFu;
  LODWORD(v4) = a1;
  if ( !sub_475D30(v4) )
  {
    v2 = sub_475D00(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v2, 28, &v5);
  }
  return sub_476500((int)&v5, a2);
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (00476720) --------------------------------------------------------
signed int __cdecl sub_476720(unsigned __int8 a1)
{
  int v1; // ecx@0
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-10h]@3
  int v6; // [sp+Eh] [bp-6h]@3

  result = sub_476240(v1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a1 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_5DAAFC)(v3, 15, &v5);
        if ( !(v6 & 0x400) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_5DB26C;
        if ( v6 & 0x200 )
          v3 += (unsigned __int16)word_5DB26E;
        if ( v4 >= a1 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB26C: using guessed type __int16 word_5DB26C;
// 5DB26E: using guessed type __int16 word_5DB26E;

//----- (004767A0) --------------------------------------------------------
signed int __usercall sub_4767A0@<eax>(int a1@<edi>, unsigned __int8 a2)
{
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-Ch]@3
  char v6; // [sp+9h] [bp-7h]@3

  result = sub_4762F0(a1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a2 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_5DAAFC)(v3, 9, &v5);
        if ( !(v6 & 1) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_5DB284;
        if ( v4 >= a2 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB284: using guessed type __int16 word_5DB284;

//----- (00476810) --------------------------------------------------------
signed int __cdecl sub_476810(unsigned __int8 a1)
{
  int v1; // ecx@0
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-Ch]@3
  int v6; // [sp+Ch] [bp-4h]@3

  result = sub_476380(v1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a1 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_5DAAFC)(v3, 11, &v5);
        if ( !(v6 & 0x8000) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_5DB286;
        if ( v4 >= a1 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB286: using guessed type __int16 word_5DB286;

//----- (00476880) --------------------------------------------------------
int __usercall sub_476880@<eax>(int a1@<eax>, char a2)
{
  int result; // eax@1
  int v3; // esi@1
  char v4; // bl@2
  char v5; // [sp+4h] [bp-8h]@3
  char v6; // [sp+6h] [bp-6h]@3
  char v7; // [sp+9h] [bp-3h]@4

  result = sub_476420(a1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a2 > 0 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v3, 7, &v5);
        if ( !(v6 & 0x80) )
          break;
        v3 += (unsigned __int16)word_5DB264;
        ++v4;
        if ( v7 & 4 )
          v3 += (unsigned __int16)word_5DB266;
        if ( v7 & 8 )
          v3 += (unsigned __int16)word_5DB268;
        if ( v7 & 0x10 )
          v3 += (unsigned __int16)word_5DB26A;
        if ( v4 >= a2 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB264: using guessed type __int16 word_5DB264;
// 5DB266: using guessed type __int16 word_5DB266;
// 5DB268: using guessed type __int16 word_5DB268;
// 5DB26A: using guessed type __int16 word_5DB26A;

//----- (00476910) --------------------------------------------------------
void __usercall sub_476910(int a1@<edi>, int a2, int a3)
{
  int v3; // [sp+4h] [bp-8h]@1
  int v4; // [sp+8h] [bp-4h]@1

  sub_476560(a3, (int)&v3, a2);
  *(double *)a1 = sub_4783B0(v3, 24);
  *(double *)(a1 + 8) = sub_4783B0(v4, 24);
}

//----- (00476950) --------------------------------------------------------
int __cdecl sub_476950(__int64 a1)
{
  int result; // eax@2
  char v2; // [sp+0h] [bp-8h]@1

  sub_4766D0(a1 & 0x3FFFF, &v2);
  switch ( (unsigned int)WORD1(a1) >> 10 )
  {
    case 5u:
      result = sub_476880((int)&v2, (*(_DWORD *)((char *)&a1 + 2) >> 2) & 0x7F);
      break;
    case 6u:
      result = sub_4767A0((int)&v2, *(_DWORD *)((char *)&a1 + 2) >> 2);
      break;
    case 7u:
      result = sub_476810(*(_DWORD *)((char *)&a1 + 2) >> 2);
      break;
    case 8u:
      result = sub_476720(*(_DWORD *)((char *)&a1 + 2) >> 2);
      break;
    default:
      result = 0xFFFFFF;
      break;
  }
  return result;
}

//----- (00476A00) --------------------------------------------------------
double __cdecl sub_476A00(int a1)
{
  __int64 v1; // ST08_8@1
  int v2; // eax@1
  float v4; // [sp+0h] [bp-14h]@1
  char v5; // [sp+4h] [bp-10h]@2
  __int16 v6; // [sp+Eh] [bp-6h]@2

  LODWORD(v1) = a1;
  *((float *)&v1 + 1) = 6.2831855;
  v2 = sub_476950(v1);
  if ( v2 != 0xFFFFFF )
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v2, 15, &v5);
    v4 = (double)(signed __int16)((signed __int16)(v6 << 7) >> 7) * 0.01745329238474369 * 0.5;
  }
  return v4;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (00476A70) --------------------------------------------------------
int __cdecl sub_476A70(int a1, int a2)
{
  int result; // eax@1
  int v3; // esi@1
  __int16 v4; // ax@2
  signed int v5; // eax@4
  char v6; // bl@4
  __int64 v7; // [sp-4h] [bp-58h]@0
  char v8; // [sp+Eh] [bp-46h]@3
  char v9; // [sp+Fh] [bp-45h]@3
  int v10; // [sp+10h] [bp-44h]@3
  int v11; // [sp+14h] [bp-40h]@3
  int v12; // [sp+18h] [bp-3Ch]@3
  char v13; // [sp+1Ch] [bp-38h]@3
  char v14; // [sp+23h] [bp-31h]@12
  char v15; // [sp+24h] [bp-30h]@10

  *(_DWORD *)a2 = 1600085855;
  *(_WORD *)(a2 + 4) = 24415;
  LODWORD(v7) = a1;
  *(_BYTE *)(a2 + 6) = 0;
  result = sub_476950(v7);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = HIWORD(a1) >> 10;
    if ( HIWORD(a1) >> 10 == 5 )
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v3, 12, &v13);
      v10 = (unsigned __int16)word_5DB264 + v3;
      sub_476440((unsigned int)&v9, (unsigned int *)&v12, &v8, (int)&v13, &v10, &v11);
      if ( (HIWORD(a1) & 0x3FCu) <= 0x1FC )
      {
        v6 = v9;
        v5 = v11;
      }
      else
      {
        v5 = v12;
        v6 = v8;
      }
      *(_BYTE *)a2 = 82;
      *(_BYTE *)(a2 + 1) = 87;
      if ( sub_477970(v5, 2, (_BYTE *)(a2 + 2)) )
      {
        *(_BYTE *)(a2 + 4) = v6;
        *(_BYTE *)(a2 + 6) = 0;
      }
      else
      {
        *(_DWORD *)(a2 + 2) = 1600085855;
        *(_BYTE *)(a2 + 6) = 0;
      }
    }
    else if ( v4 == 6 )
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v3, 9, &v13);
      sub_476CB0(&v15, 5, a2);
      *(_BYTE *)(a2 + 5) = 0;
    }
    else if ( v4 == 7 )
    {
      (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_5DAAFC)(v3, 11, &v13);
      sub_476CB0(&v14, 3, a2);
      *(_BYTE *)(a2 + 3) = 0;
    }
    else
    {
      (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_5DAAFC)(v3, 15, &v13);
      sub_476CB0(&v14, 4, a2);
      *(_BYTE *)(a2 + 4) = 0;
    }
    result = sub_477B70(a2, 0);
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB264: using guessed type __int16 word_5DB264;

//----- (00476C00) --------------------------------------------------------
char __cdecl sub_476C00(int a1, int a2)
{
  char v2; // bl@1
  int v3; // ebp@1
  int v4; // eax@2
  __int64 v6; // [sp-4h] [bp-30h]@0
  char v7; // [sp+10h] [bp-1Ch]@2
  unsigned int v8; // [sp+14h] [bp-18h]@2

  *(double *)a2 = 6.2831853071796;
  LODWORD(v6) = a1;
  *(double *)(a2 + 8) = 6.2831853071796;
  v2 = 0;
  v3 = sub_476950(v6);
  if ( v3 != 0xFFFFFF )
  {
    v4 = sub_475D00(a1 & 0x3FFFF);
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v4, 28, &v7);
    v2 = (v8 >> 29) & 1;
    sub_476910(a2, a1, v3);
  }
  return v2;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (00476C70) --------------------------------------------------------
__int16 __cdecl sub_476C70(int a1, int a2)
{
  int v2; // eax@1
  __int64 v4; // [sp-4h] [bp-Ch]@0

  LODWORD(v4) = a1;
  *(_DWORD *)a2 = 2147483648;
  *(_DWORD *)(a2 + 4) = 2147483648;
  v2 = sub_476950(v4);
  if ( v2 != 0xFFFFFF )
    LOWORD(v2) = sub_476560(v2, a2, a1);
  return v2;
}

//----- (00476CB0) --------------------------------------------------------
void __cdecl sub_476CB0(_BYTE *a1, signed int a2, int a3)
{
  signed int v3; // esi@1
  _BYTE *v4; // ecx@2
  unsigned int v5; // edx@2
  unsigned int v6; // eax@6
  unsigned __int16 v7; // ax@7
  char v8; // al@10

  v3 = 0;
  if ( a2 > 0 )
  {
    v4 = a1;
    v5 = a2;
    do
    {
      if ( v3 & 3 )
      {
        if ( (v3 & 3) == 1 )
        {
          v6 = v5 >> 4;
        }
        else
        {
          --v4;
          if ( (v3 & 3) == 2 )
          {
            HIBYTE(v7) = v4[1];
            LOBYTE(v7) = *v4;
            v5 = v7;
            v6 = (unsigned int)v7 >> 6;
          }
          else
          {
            LOBYTE(v6) = v5;
          }
        }
      }
      else
      {
        BYTE1(v5) = *v4--;
        LOBYTE(v5) = *v4;
        v5 = (unsigned __int16)v5;
        LOWORD(v6) = (unsigned __int16)v5 >> 10;
      }
      v8 = v6 & 0x3F;
      if ( v8 )
      {
        if ( (unsigned __int8)(v8 - 1) > 0x19u )
        {
          if ( (unsigned __int8)(v8 - 32) <= 9u )
            v8 += 16;
        }
        else
        {
          v8 += 64;
        }
        *(_BYTE *)(v3 + a3) = v8;
      }
      else
      {
        *(_BYTE *)(v3 + a3) = 32;
      }
      ++v3;
    }
    while ( v3 < a2 );
  }
}

//----- (00476D50) --------------------------------------------------------
unsigned int __cdecl sub_476D50(unsigned int a1, _BYTE *a2, _BYTE *a3)
{
  unsigned int result; // eax@1

  *a2 = a1;
  result = a1 >> 8;
  *a3 = BYTE1(a1);
  return result;
}

//----- (00476D70) --------------------------------------------------------
signed int __cdecl sub_476D70(unsigned __int8 a1, unsigned __int8 a2)
{
  signed int v2; // esi@1
  int v3; // eax@1

  sub_47FAD0(54, 60000);
  v2 = 0x3FFFF;
  v3 = sub_476DD0(a1);
  if ( v3 && a2 < *(_BYTE *)(v3 + 1) )
    v2 = sub_478390(84 * a2 + v3 + 148);
  sub_47FAB0(54);
  return v2;
}

//----- (00476DD0) --------------------------------------------------------
int __cdecl sub_476DD0(unsigned __int8 a1)
{
  int v1; // eax@3
  bool v2; // zf@3
  int result; // eax@3

  if ( a1 >= 0x67u
    || !(unsigned __int8)sub_475630()
    || (v1 = 8524 * a1, v2 = a1 == *(_BYTE *)(v1 + dword_5DAB08 + 2004), result = v1 + dword_5DAB08 + 2004, !v2) )
  {
    result = 0;
  }
  return result;
}
// 5DAB08: using guessed type int dword_5DAB08;

//----- (00476E10) --------------------------------------------------------
char *__cdecl sub_476E10(unsigned __int8 a1)
{
  int v1; // ecx@0
  int v2; // ebx@1
  char *result; // eax@1
  signed int v4; // ebp@1
  int v5; // esi@1
  int v6; // edi@1
  int v7; // esi@2
  char v8; // cl@4
  int v9; // ecx@8
  int v10; // [sp+10h] [bp-28h]@2
  int v11; // [sp+14h] [bp-24h]@1
  char v12[28]; // [sp+18h] [bp-20h]@2

  v2 = dword_5DAB40[3 * a1];
  result = (char *)(12 * a1);
  v4 = *(_DWORD *)&result[(_DWORD)dword_5DAB48];
  v5 = v1;
  v6 = *(_WORD *)&result[(_DWORD)word_5DAB44];
  v11 = v1;
  if ( v4 > 0 )
  {
    v7 = v1 - (_DWORD)v12;
    v10 = *(_DWORD *)&result[(_DWORD)dword_5DAB48];
    do
    {
      (*(void (__cdecl **)(int, int, char *))dword_5DAAFC)(v2, v6, v12);
      v12[v6] = 0;
      result = v12;
      do
      {
        v8 = *result;
        result[v7] = *result;
        ++result;
      }
      while ( v8 );
      v2 += v6;
      v7 += 25;
      --v10;
    }
    while ( v10 );
    v5 = v11;
  }
  if ( v4 < 64 )
  {
    result = (char *)(v5 + 25 * v4);
    v9 = 64 - v4;
    do
    {
      *result = 0;
      result += 25;
      --v9;
    }
    while ( v9 );
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAB40: using guessed type int dword_5DAB40[];
// 5DAB44: using guessed type __int16 word_5DAB44[];
// 5DAB48: using guessed type int dword_5DAB48[];
// 476E10: using guessed type char var_20[28];

//----- (00476ED0) --------------------------------------------------------
signed int sub_476ED0()
{
  signed int result; // eax@1

  result = 0xFFFFFF;
  byte_5DAB00 = 0;
  dword_5DAB04 = 0xFFFFFF;
  byte_5DAAF0 = 0;
  dword_5DAAF4 = 0xFFFFFF;
  return result;
}
// 5DAAF0: using guessed type char byte_5DAAF0;
// 5DAAF4: using guessed type int dword_5DAAF4;
// 5DAB00: using guessed type char byte_5DAB00;
// 5DAB04: using guessed type int dword_5DAB04;

//----- (00476EF0) --------------------------------------------------------
int sub_476EF0()
{
  int result; // eax@1

  result = (*(int (**)(void))(dword_5DAAFC + 16))();
  byte_5DAAF8 = (_BYTE)result == 0;
  return result;
}
// 5DAAF8: using guessed type char byte_5DAAF8;
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (00476F50) --------------------------------------------------------
int sub_476F50()
{
  int result; // eax@1

  *(_DWORD *)(dword_5DB390 + 20812) = 1000;
  *(_DWORD *)(dword_5DB390 + 20816) = dword_5DABA8 + *(_DWORD *)(dword_5DB390 + 20812);
  *(_DWORD *)(dword_5DB390 + 20820) = dword_5DAC08 + *(_DWORD *)(dword_5DB390 + 20816);
  *(_DWORD *)(dword_5DB390 + 20824) = dword_5DAC38 + *(_DWORD *)(dword_5DB390 + 20820);
  result = dword_5DB390;
  *(_DWORD *)(dword_5DB390 + 20828) = dword_5DAC80 + *(_DWORD *)(dword_5DB390 + 20824);
  return result;
}
// 5DABA8: using guessed type int dword_5DABA8;
// 5DAC08: using guessed type int dword_5DAC08;
// 5DAC38: using guessed type int dword_5DAC38;
// 5DAC80: using guessed type int dword_5DAC80;
// 5DB390: using guessed type int dword_5DB390;

//----- (00476FC0) --------------------------------------------------------
char *sub_476FC0()
{
  sub_476E10(0x40u);
  sub_476E10(0x39u);
  sub_476E10(0x33u);
  sub_476E10(0x31u);
  sub_476E10(0x32u);
  sub_476E10(0x4Eu);
  sub_476E10(0x4Fu);
  sub_476E10(0x3Du);
  sub_476E10(0x3Eu);
  sub_476E10(0x45u);
  return sub_476E10(0x38u);
}
// 5DB390: using guessed type int dword_5DB390;

//----- (00477090) --------------------------------------------------------
int __cdecl sub_477090(const void *a1)
{
  int result; // eax@1

  qmemcpy(dword_53A080, a1, 0x1Cu);
  dword_5DAAFC = (int)dword_53A080;
  dword_5DB390 = (int)&unk_53A0A0;
  memset(&unk_53A0A0, 0, 0x516Cu);
  dword_53A080[5](dword_5DB390 + 20832, dword_5DB390 + 20833, dword_5DB390 + 20836);
  (*(void (__cdecl **)(int))(dword_5DAAFC + 24))(dword_5DB390 + 20840);
  sub_4788A0();
  sub_478530();
  sub_4786E0();
  sub_478600();
  sub_476FC0();
  sub_476ED0();
  sub_4776A0();
  sub_475DD0();
  sub_476EF0();
  sub_476F50();
  *(_DWORD *)(dword_5DB390 + 20800) = 0;
  *(_DWORD *)(dword_5DB390 + 20804) = dword_5DAD28;
  result = dword_5DB390;
  *(_DWORD *)(dword_5DB390 + 20808) = dword_5DAD34 + *(_DWORD *)(dword_5DB390 + 20804);
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAD28: using guessed type int dword_5DAD28;
// 5DAD34: using guessed type int dword_5DAD34;
// 5DB390: using guessed type int dword_5DB390;

//----- (00477140) --------------------------------------------------------
void __cdecl sub_477140(unsigned int a1, int a2)
{
  unsigned int v2; // ebx@3
  unsigned int v3; // ebp@4
  unsigned int v4; // eax@5
  int v5; // ecx@5
  int v6; // eax@6
  char v7; // dl@10
  char v8; // cl@10
  char v9; // al@10
  char v10; // cl@11
  char v11; // dl@11
  char v12; // dl@13
  char v13; // cl@13
  char v14; // al@13
  char v15; // cl@14
  char v16; // dl@14
  char v17; // cl@14
  char v18; // [sp+4h] [bp-10h]@5
  char v19; // [sp+5h] [bp-Fh]@10
  char v20; // [sp+6h] [bp-Eh]@10
  char v21; // [sp+8h] [bp-Ch]@5
  char v22; // [sp+Ah] [bp-Ah]@10
  char v23; // [sp+Bh] [bp-9h]@10

  if ( a2 )
  {
    if ( (a1 & 0xFC000000) != 805306368 || (v2 = a1 & 0x1FF, v2 > 0x168) || (v3 = (a1 >> 9) & 0x1FF, v3 > 0x168) )
    {
      *(_DWORD *)a2 = 1600085855;
      *(_WORD *)(a2 + 4) = 24415;
      *(_BYTE *)(a2 + 6) = 0;
    }
    else
    {
      sub_477B00(&v18, 4u, "%+03d", (signed int)(v2 - 180) / 2);
      sub_477B00(&v21, 5u, "%+04d", v3 - 180);
      v4 = (v3 - 180) >> 31;
      v5 = (v3 - 180 - v4) ^ ((signed int)(v3 - 180 - v4) >> 31);
      if ( v2 < 0xB4 )
      {
        LOBYTE(v4) = v3 < 0xB4;
        v6 = 4 * v4 + 83;
      }
      else
      {
        LOBYTE(v6) = v3 < 0xB4 ? 78 : 69;
      }
      *(_BYTE *)(a2 + 5) = 0;
      if ( a1 & 1 )
      {
        if ( v5 >= 100 )
        {
          v10 = v22;
          *(_BYTE *)a2 = v19;
          v11 = v23;
          *(_BYTE *)(a2 + 1) = v6;
          *(_BYTE *)(a2 + 2) = v20;
          *(_BYTE *)(a2 + 3) = v10;
          *(_BYTE *)(a2 + 4) = v11;
        }
        else
        {
          v7 = v20;
          *(_BYTE *)(a2 + 1) = v19;
          v8 = v23;
          *(_BYTE *)a2 = v6;
          v9 = v22;
          *(_BYTE *)(a2 + 2) = v7;
          *(_BYTE *)(a2 + 3) = v9;
          *(_BYTE *)(a2 + 4) = v8;
        }
      }
      else if ( v5 < 100 )
      {
        v15 = v20;
        *(_BYTE *)a2 = v19;
        v16 = v22;
        *(_BYTE *)(a2 + 1) = v15;
        v17 = v23;
        *(_BYTE *)(a2 + 2) = v16;
        *(_BYTE *)(a2 + 3) = v17;
        *(_BYTE *)(a2 + 4) = v6;
      }
      else
      {
        v12 = v20;
        *(_BYTE *)a2 = v19;
        v13 = v23;
        *(_BYTE *)(a2 + 2) = v6;
        v14 = v22;
        *(_BYTE *)(a2 + 1) = v12;
        *(_BYTE *)(a2 + 3) = v14;
        *(_BYTE *)(a2 + 4) = v13;
      }
    }
  }
}

//----- (00477320) --------------------------------------------------------
char __cdecl sub_477320(unsigned int a1, int a2)
{
  char result; // al@1
  unsigned int v3; // edx@3
  unsigned int v4; // ecx@4

  result = 0;
  if ( a2 )
  {
    if ( (a1 & 0xFC000000) == 805306368 )
    {
      v3 = a1 & 0x1FF;
      if ( v3 <= 0x168 )
      {
        v4 = (a1 >> 9) & 0x1FF;
        if ( v4 <= 0x168 )
        {
          *(_DWORD *)a2 = (signed int)(11930464 * (v3 - 180)) / 2;
          *(_DWORD *)(a2 + 4) = 11930464 * (v4 - 180);
          result = 1;
        }
      }
    }
  }
  return result;
}

//----- (00477390) --------------------------------------------------------
int __cdecl sub_477390(_BYTE *a1, _BYTE *a2)
{
  int result; // eax@1

  result = sub_478430(0x2Bu);
  *a1 = result;
  if ( (_BYTE)result )
  {
    result = (int)a2;
    *a2 = 1;
  }
  else
  {
    *a2 = 0;
    *a1 = 1;
  }
  return result;
}

//----- (004773C0) --------------------------------------------------------
int sub_4773C0()
{
  return (*(int (**)(void))(dword_5DAAFC + 8))();
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (004773D0) --------------------------------------------------------
int __fastcall sub_4773D0(unsigned __int8 a1)
{
  return dword_5DAD44 + a1 * (unsigned __int16)word_5DAD48;
}
// 5DAD44: using guessed type int dword_5DAD44;
// 5DAD48: using guessed type __int16 word_5DAD48;

//----- (004773F0) --------------------------------------------------------
int __fastcall sub_4773F0(unsigned __int8 a1)
{
  return dword_5DAD50 + a1 * (unsigned __int16)word_5DAD54;
}
// 5DAD50: using guessed type int dword_5DAD50;
// 5DAD54: using guessed type __int16 word_5DAD54;

//----- (00477410) --------------------------------------------------------
void *__cdecl sub_477410(char a1, void *a2)
{
  void *result; // eax@2
  int v3; // eax@4
  int v4; // eax@4
  char v5; // [sp+6h] [bp-1Eh]@1
  unsigned __int8 v6; // [sp+7h] [bp-1Dh]@1
  char v7; // [sp+8h] [bp-1Ch]@4
  char v8; // [sp+16h] [bp-Eh]@4

  sub_477390(&v6, &v5);
  if ( (unsigned __int8)a1 < v6 )
  {
    if ( v5 )
    {
      v3 = sub_4773D0(a1);
      v4 = (*(int (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v3, 22, &v7);
      result = (void *)sub_478660(v4, &v8, 20, (int)a2);
      *((_BYTE *)a2 + 20) = 0;
    }
    else
    {
      result = memcpy_0(a2, &aWgs84[21 * (unsigned __int8)a1], 0x14u);
      *((_BYTE *)a2 + 20) = 0;
    }
  }
  else
  {
    result = (void *)1600085855;
    *(_DWORD *)a2 = 1600085855;
    *((_DWORD *)a2 + 1) = 1600085855;
    *((_DWORD *)a2 + 2) = 1600085855;
    *((_DWORD *)a2 + 3) = 1600085855;
    *((_DWORD *)a2 + 4) = 1600085855;
    *((_BYTE *)a2 + 20) = 0;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (004774E0) --------------------------------------------------------
int __cdecl sub_4774E0(int a1)
{
  bool v1; // zf@1
  int v2; // eax@2
  signed int v3; // eax@2
  float v4; // ST24_4@2
  unsigned __int8 v5; // cl@2
  int v6; // eax@2
  char v7; // al@2
  char v8; // cl@2
  float v9; // ST24_4@3
  double v10; // st6@3
  float v11; // ST24_4@3
  float v12; // ST24_4@3
  double v13; // st7@3
  float v14; // ST24_4@3
  float v16; // [sp+10h] [bp-34h]@2
  char v17; // [sp+14h] [bp-30h]@2
  char v18; // [sp+15h] [bp-2Fh]@2
  char v19; // [sp+16h] [bp-2Eh]@2
  char v20; // [sp+17h] [bp-2Dh]@2
  char v21; // [sp+26h] [bp-1Eh]@2
  char v22; // [sp+28h] [bp-1Ch]@2
  char v23; // [sp+36h] [bp-Eh]@2
  unsigned __int8 v24; // [sp+37h] [bp-Dh]@2
  __int16 v25; // [sp+38h] [bp-Ch]@2
  __int16 v26; // [sp+3Ah] [bp-Ah]@2
  __int16 v27; // [sp+3Ch] [bp-8h]@2

  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = 6378137.0;
  *(float *)(a1 + 40) = 0.0033528106;
  *(_BYTE *)(a1 + 56) = 0;
  memcpy_0((void *)(a1 + 1), "WGS 84              ", 0x15u);
  v1 = *(_BYTE *)(a1 + 81) == 0;
  *(_BYTE *)(a1 + 80) = 1;
  if ( !v1 )
  {
    v2 = sub_4773D0(*(_BYTE *)a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(v2, 22, &v22);
    sub_478660((int)&v23, &v23, 20, a1 + 1);
    v3 = v27;
    LODWORD(v4) = v26;
    v5 = v24;
    *(float *)(a1 + 24) = (double)v25;
    *(_BYTE *)(a1 + 21) = 0;
    *(float *)(a1 + 28) = (double)SLODWORD(v4);
    *(float *)(a1 + 32) = (double)v3;
    v6 = sub_4773F0(v5);
    (*(void (__cdecl **)(int, signed int, float *))dword_5DAAFC)(v6, 23, &v16);
    v7 = v18;
    v8 = v19;
    LOBYTE(v4) = v17;
    *(float *)(a1 + 36) = v16;
    BYTE1(v4) = v7;
    BYTE2(v4) = v8;
    BYTE3(v4) = v20;
    *(float *)(a1 + 40) = v4;
    sub_478660((int)&v21, &v21, 20, a1 + 56);
    *(_BYTE *)(a1 + 76) = 0;
  }
  *(float *)(a1 + 44) = *(float *)(a1 + 40) + *(float *)(a1 + 40) - *(float *)(a1 + 40) * *(float *)(a1 + 40);
  v9 = *(float *)(a1 + 36) - 6378137.0;
  v10 = v9;
  *(float *)(a1 + 48) = v9;
  v11 = *(float *)(a1 + 40) - 0.003352810628712177;
  v12 = 6378137.0 * v11;
  v13 = v12;
  v14 = v10 * 0.00335281066474748;
  *(float *)(a1 + 52) = v13 + v14;
  return (*(int (__cdecl **)(int))(dword_5DAAFC + 12))(a1);
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (004776A0) --------------------------------------------------------
char sub_4776A0()
{
  int v0; // eax@1
  unsigned __int8 v1; // bl@1
  char v2; // al@7
  unsigned __int8 v3; // bl@10
  unsigned __int8 v5; // [sp+6h] [bp-76h]@1
  unsigned __int8 v6; // [sp+7h] [bp-75h]@1
  char v7[4]; // [sp+8h] [bp-74h]@1
  char v8; // [sp+Ch] [bp-70h]@10
  unsigned __int8 v9; // [sp+5Ch] [bp-20h]@5
  char v10; // [sp+5Dh] [bp-1Fh]@8
  char v11; // [sp+5Eh] [bp-1Eh]@6
  char v12; // [sp+60h] [bp-1Ch]@2

  sub_4773C0();
  sub_477390(&v6, &v5);
  LOBYTE(v0) = v6;
  v1 = 0;
  v5 = v6;
  v7[0] = 0;
  if ( v6 )
  {
    do
    {
      sub_477410(v7[0], &v12);
      v0 = strcmp(&v12, "WGS 84              ");
      if ( !v0 )
        v5 = v1;
      v7[0] = ++v1;
    }
    while ( v1 < v6 );
  }
  if ( !v9 || v5 != v11 )
  {
    v2 = sub_478430(0x2Bu);
    v9 = v2;
    if ( v2 )
    {
      v10 = 1;
    }
    else
    {
      v2 = 1;
      v10 = 0;
      v9 = 1;
    }
    v3 = 0;
    v8 = v2;
    v11 = v2;
    v7[0] = 0;
    if ( v2 )
    {
      do
      {
        sub_477410(v7[0], &v12);
        if ( !strcmp(&v12, "WGS 84              ") )
        {
          v11 = v3;
          v8 = v3;
        }
        v7[0] = ++v3;
      }
      while ( v3 < v9 );
    }
    LOBYTE(v0) = sub_4774E0((int)&v8);
  }
  return v0;
}

//----- (00477800) --------------------------------------------------------
bool __cdecl sub_477800(float a1, int a2, int a3, int a4)
{
  int v4; // edi@2
  int v5; // esi@3
  int v6; // ecx@8
  unsigned int v7; // eax@9
  float v8; // ST14_4@10
  float v9; // ST14_4@10
  float v10; // ST14_4@10
  float v11; // ST14_4@10
  float v12; // ST14_4@10
  float v13; // ST14_4@10
  float v14; // ST14_4@10
  int v15; // eax@12
  float v16; // ST14_4@14
  signed int v17; // ebx@14
  bool result; // al@19
  int v19; // [sp+8h] [bp-8h]@5

  if ( a4 && (v4 = a3, a3 <= 9) && (v5 = a2, a2 > 0) && a3 <= a2 - 2 )
  {
    v19 = 0;
    if ( a1 < 0.0 )
    {
      v4 = a3 - 1;
      a1 = fabs(a1);
      *(_BYTE *)a4 = 45;
      v19 = 1;
      if ( a3 == 1 )
        v4 = -1;
    }
    v6 = 0;
    if ( v4 >= 8 )
    {
      v7 = ((unsigned int)(v4 - 8) >> 3) + 1;
      v6 = 8 * v7;
      do
      {
        --v7;
        v8 = a1 * 10.0;
        v9 = v8 * 10.0;
        v10 = v9 * 10.0;
        v11 = v10 * 10.0;
        v12 = v11 * 10.0;
        v13 = v12 * 10.0;
        v14 = v13 * 10.0;
        a1 = v14 * 10.0;
      }
      while ( v7 );
    }
    if ( v6 < v4 )
    {
      v15 = v4 - v6;
      do
      {
        --v15;
        a1 = a1 * 10.0;
      }
      while ( v15 );
    }
    v16 = a1 + 0.5;
    v17 = (signed int)v16;
    if ( a2 > v19 )
    {
      do
      {
        if ( --v5 == a2 - v4 - 1 )
        {
          *(_BYTE *)(v5 + a4) = 46;
        }
        else
        {
          *(_BYTE *)(v5 + a4) = v17 % 10 + 48;
          v17 /= 10;
        }
      }
      while ( v5 > v19 );
    }
    result = v17 == 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00477970) --------------------------------------------------------
bool __cdecl sub_477970(signed int a1, signed int a2, _BYTE *a3)
{
  bool result; // al@2
  signed int v4; // ebx@3
  signed int v5; // edi@3
  signed int i; // esi@5

  if ( a3 )
  {
    v4 = a1;
    v5 = 0;
    if ( a1 < 0 )
    {
      v4 = -a1;
      *a3 = 45;
      v5 = 1;
    }
    for ( i = a2; i > v5; v4 /= 10 )
      a3[--i] = v4 % 10 + 48;
    result = v4 == 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004779E0) --------------------------------------------------------
int __cdecl sub_4779E0(int a1, _BYTE *a2, int a3)
{
  int v3; // esi@2
  int v4; // eax@2
  _BYTE *v5; // ecx@3
  int result; // eax@7

  if ( a3 <= 0 )
    goto LABEL_11;
  v3 = a3 - 1;
  v4 = 0;
  if ( a3 - 1 > 0 )
  {
    v5 = a2;
    do
    {
      if ( !*v5 )
        break;
      v5[a1 - (_DWORD)a2] = *v5;
      ++v4;
      ++v5;
    }
    while ( v4 < v3 );
  }
  *(_BYTE *)(v4 + a1) = 0;
  *(_BYTE *)(v3 + a1) = 0;
  if ( a2[v4] )
LABEL_11:
    result = -1;
  else
    result = v4 + 1;
  return result;
}

//----- (00477A30) --------------------------------------------------------
int __cdecl sub_477A30(void *a1, size_t a2)
{
  _BYTE *v2; // eax@1
  int result; // eax@2

  v2 = memchr(a1, 0, a2);
  if ( v2 )
    result = v2 - (_BYTE *)a1;
  else
    result = -2;
  return result;
}

//----- (00477A60) --------------------------------------------------------
int __cdecl sub_477A60(int a1, char *a2, int a3)
{
  int v3; // eax@3
  int i; // esi@5
  int v5; // esi@8
  int result; // eax@8

  if ( a1 && a2 )
  {
    v3 = a3;
    if ( !a3 )
      v3 = strlen((const char *)a1);
    for ( i = v3 - 1; i >= 0; --i )
    {
      if ( !strchr(a2, *(_BYTE *)(i + a1)) )
        break;
    }
    v5 = i + 1;
    *(_BYTE *)(v5 + a1) = 0;
    result = v5;
  }
  else
  {
    result = a3;
  }
  return result;
}

//----- (00477AC0) --------------------------------------------------------
int __cdecl sub_477AC0(char *a1, size_t a2, char *a3, va_list a4)
{
  int result; // eax@2

  if ( (signed int)a2 > 0 )
  {
    result = _vsnprintf(a1, a2, a3, a4);
    if ( result < 0 )
      result = -1;
    a1[a2 - 1] = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00477B00) --------------------------------------------------------
int sub_477B00(char *a1, size_t a2, char *a3, ...)
{
  int result; // eax@1
  va_list va; // [sp+10h] [bp+10h]@1

  va_start(va, a3);
  result = sub_477AC0(a1, a2, a3, va);
  if ( result < 0 )
    result = -1;
  return result;
}

//----- (00477B30) --------------------------------------------------------
int __cdecl sub_477B30(const char *a1, _BYTE *a2, int a3)
{
  unsigned int v3; // kr00_4@1

  v3 = strlen(a1);
  return sub_4779E0((int)&a1[v3], a2, a3 - v3);
}

//----- (00477B70) --------------------------------------------------------
int __cdecl sub_477B70(int a1, int a2)
{
  return sub_477A60(a1, "_ ", a2);
}

//----- (00477B90) --------------------------------------------------------
char __cdecl sub_477B90(int a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@11
  int v4; // eax@16
  int v6; // [sp+8h] [bp-54h]@1
  int v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+10h] [bp-4Ch]@1
  int v9; // [sp+14h] [bp-48h]@1
  int v10; // [sp+18h] [bp-44h]@1
  char v11; // [sp+1Ch] [bp-40h]@16

  LOBYTE(v2) = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  if ( a1 == 28 || a1 == 29 || a1 == 30 || a1 == 31 || a1 == 32 || a1 == 48 || a1 == 33 || a1 == 34 )
  {
    v2 = sub_41AB20((_DWORD *)a2, 2u, (int)&unk_4C7EA0, 8, 77, 77);
    if ( v2 != 77 )
    {
      if ( *(_WORD *)a2 == -32768 )
      {
        v3 = *(_WORD *)(a2 + 10) + 16;
      }
      else if ( *(_WORD *)a2 == -32767 )
      {
        v3 = *(_DWORD *)(a2 + 4) + 8;
      }
      else
      {
        v3 = dword_4C7EA4[2 * v2] + 4;
      }
      v7 = v3;
      v10 = 65;
      v6 = a2;
      v9 = 10;
      v2 = sub_47FB30(a1, (int)&v6);
      if ( v2 == 16 )
      {
        v4 = sub_47FA00();
        sub_477B00(&v11, 0x3Cu, "message queue timed out sending from: %d to %d", v4, a1);
        LOBYTE(v2) = sub_478DA0("..\\lib\\adl\\iop_msg_intf.c", 433, 0, &v11);
      }
    }
  }
  return v2;
}
// 4C7EA4: using guessed type int dword_4C7EA4[];

//----- (00477CB0) --------------------------------------------------------
char __cdecl sub_477CB0(int a1)
{
  return sub_477B90(34, a1);
}

//----- (00477CC0) --------------------------------------------------------
BOOL __cdecl sub_477CC0(unsigned int a1)
{
  int v1; // edi@1
  __int16 i; // si@1
  char v4; // [sp+Bh] [bp-1h]@1

  v1 = sub_47FA20();
  for ( i = sub_480090(6, 0, 1, (int)&v4); i == 12; i = sub_480090(6, 0, 1, (int)&v4) )
  {
    if ( sub_47FA20() - v1 >= a1 )
      break;
    sub_47FB60(100);
  }
  return i == 12;
}

//----- (00477D30) --------------------------------------------------------
char __thiscall sub_477D30(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_47FC10(81, (_BYTE *)&v2 + 3);
  return BYTE3(v2);
}

//----- (00477D50) --------------------------------------------------------
void __cdecl sub_477D50(_BYTE *a1, _BYTE *a2, _BYTE *a3)
{
  sub_47FC10(120, a1);
  sub_47FC10(124, a2);
  sub_47FC10(121, a3);
}

//----- (00477D80) --------------------------------------------------------
int __cdecl sub_477D80(int a1)
{
  return sub_47F940(3025, a1, 84);
}

//----- (00477DA0) --------------------------------------------------------
signed int sub_477DA0()
{
  bool v0; // zf@1
  signed int result; // eax@1
  char v2; // [sp+3h] [bp-5h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v0 = sub_4800D0(6, &v3, &v2) == 0;
  result = -4;
  if ( v0 )
    result = v3;
  return result;
}

//----- (00477DD0) --------------------------------------------------------
void __cdecl sub_477DD0(_BYTE *a1)
{
  sub_47FC10(129, a1);
}

//----- (00477DF0) --------------------------------------------------------
char __cdecl sub_477DF0(int a1, size_t a2, void *a3)
{
  char result; // al@2

  if ( sub_480090(6, a1, a2, (int)a3) )
  {
    memset(a3, 0, a2);
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (00477E30) --------------------------------------------------------
int __cdecl sub_477E30(int a1)
{
  return sub_47F9E0(3025, a1, 84);
}

//----- (00477E50) --------------------------------------------------------
char __fastcall sub_477E50(int *a1)
{
  char v1; // bl@1
  unsigned int v2; // eax@7
  int *v3; // edx@7
  int v4; // esi@11
  int v5; // eax@12
  _BYTE *v6; // edx@12
  int v7; // eax@14
  _BYTE *v8; // edx@14
  _BYTE *v9; // edx@16
  signed int v10; // eax@18
  char result; // al@25
  char v12; // [sp+4h] [bp-68h]@1
  int v13; // [sp+8h] [bp-64h]@2
  int v14; // [sp+Ch] [bp-60h]@29
  int v15; // [sp+10h] [bp-5Ch]@29
  char v16; // [sp+12h] [bp-5Ah]@3
  char v17; // [sp+13h] [bp-59h]@4
  int v18; // [sp+14h] [bp-58h]@5
  char v19; // [sp+18h] [bp-54h]@6
  int v20; // [sp+1Ch] [bp-50h]@2
  int v21; // [sp+20h] [bp-4Ch]@29
  int v22; // [sp+24h] [bp-48h]@29
  char v23; // [sp+26h] [bp-46h]@3
  char v24; // [sp+27h] [bp-45h]@4
  int v25; // [sp+28h] [bp-44h]@5
  char v26; // [sp+2Ch] [bp-40h]@6
  int v27; // [sp+2Dh] [bp-3Fh]@7
  int v28; // [sp+31h] [bp-3Bh]@29
  int v29; // [sp+35h] [bp-37h]@29
  int v30; // [sp+3Ch] [bp-30h]@2
  int v31; // [sp+40h] [bp-2Ch]@2
  int v32; // [sp+44h] [bp-28h]@2
  int v33; // [sp+48h] [bp-24h]@2
  int v34; // [sp+4Ch] [bp-20h]@2
  int v35; // [sp+50h] [bp-1Ch]@2
  int v36; // [sp+54h] [bp-18h]@2
  char v37; // [sp+58h] [bp-14h]@2
  int v38; // [sp+5Ch] [bp-10h]@2
  int v39; // [sp+60h] [bp-Ch]@29
  int v40; // [sp+64h] [bp-8h]@29

  v1 = 1;
  v12 = 1;
  if ( byte_5DB394 )
  {
    v1 = 3;
    goto LABEL_24;
  }
  sub_477DF0(147, 0xCu, &v38);
  sub_477DF0(129, 0x11u, &v13);
  v30 = 0;
  v31 = 0;
  v32 = 0;
  v33 = 0;
  v34 = 0;
  v35 = 0;
  v36 = 0;
  v37 = 0;
  sub_47F9A0(2000, &v20, 29, &v30);
  LOWORD(a1) = v20;
  if ( (_WORD)v20 != (_WORD)v13
    || v23 != v16
    || v24 != v17
    || (LOWORD(a1) = v25, v25 != v18)
    || (LOBYTE(a1) = v26, v26 != v19) )
  {
LABEL_22:
    v1 = 2;
LABEL_24:
    v12 = v1;
    goto LABEL_25;
  }
  v2 = 12;
  a1 = &v38;
  v3 = &v27;
  do
  {
    if ( *v3 != *a1 )
      goto LABEL_11;
    v2 -= 4;
    ++a1;
    ++v3;
  }
  while ( v2 >= 4 );
  if ( !v2 )
  {
LABEL_20:
    v10 = 0;
    goto LABEL_21;
  }
LABEL_11:
  v4 = *(_BYTE *)v3 - *(_BYTE *)a1;
  if ( *(_BYTE *)v3 == *(_BYTE *)a1 )
  {
    v5 = v2 - 1;
    a1 = (int *)((char *)a1 + 1);
    v6 = (char *)v3 + 1;
    if ( !v5 )
      goto LABEL_20;
    v4 = *v6 - *(_BYTE *)a1;
    if ( *v6 == *(_BYTE *)a1 )
    {
      v7 = v5 - 1;
      a1 = (int *)((char *)a1 + 1);
      v8 = v6 + 1;
      if ( !v7 )
        goto LABEL_20;
      v4 = *v8 - *(_BYTE *)a1;
      if ( *v8 == *(_BYTE *)a1 )
      {
        a1 = (int *)((char *)a1 + 1);
        v9 = v8 + 1;
        if ( v7 == 1 )
          goto LABEL_20;
        v4 = *v9 - *(_BYTE *)a1;
        if ( *v9 == *(_BYTE *)a1 )
          goto LABEL_20;
      }
    }
  }
  v10 = 1;
  if ( v4 <= 0 )
    v10 = -1;
LABEL_21:
  if ( v10 )
    goto LABEL_22;
LABEL_25:
  result = sub_47AF00(a1);
  if ( !result || result == 3 )
    result = sub_478ED0(v12);
  if ( v1 == 2 )
  {
    v22 = v15;
    v20 = v13;
    v21 = v14;
    v27 = v38;
    v25 = v18;
    v26 = v19;
    v28 = v39;
    v29 = v40;
    result = sub_47F9E0(2000, (int)&v20, 29);
  }
  return result;
}
// 5DB394: using guessed type char byte_5DB394;

//----- (00478070) --------------------------------------------------------
char sub_478070()
{
  int *v0; // ecx@1

  sub_477CC0(0x9C40u);
  sub_477090(&off_4C8680);
  return sub_477E50(v0);
}
// 4C8680: using guessed type int (__cdecl *off_4C8680)(int, size_t, void *);

//----- (00478090) --------------------------------------------------------
void *__usercall sub_478090@<eax>(void *a1@<ebx>, const void *a2@<edi>, int a3@<esi>, int a4)
{
  void *result; // eax@1
  int v5; // [sp+0h] [bp-Ch]@0
  int v6; // [sp+4h] [bp-8h]@0

  result = (void *)sub_47F940(a4, v5, v6);
  if ( result )
  {
    sub_47F9E0(a4, (int)a2, a3);
    result = memcpy(a1, a2, (unsigned __int16)a3);
  }
  return result;
}

//----- (004780C0) --------------------------------------------------------
void *__cdecl sub_4780C0(void *a1)
{
  return sub_478090(a1, &unk_4C86F8, 60, 2116);
}

//----- (004780F0) --------------------------------------------------------
int __cdecl sub_4780F0(int a1, signed int a2, signed int a3)
{
  int result; // eax@1

  result = a1;
  *(double *)(a1 + 8) = (double)a3 * 0.000000001462918079267163;
  *(double *)a1 = 0.000000001462918079267163 * (double)a2;
  return result;
}

//----- (00478110) --------------------------------------------------------
int __cdecl sub_478110(double a1, double a2)
{
  double *v2; // ecx@0
  double v3; // ST00_8@1
  double v4; // st7@1
  int result; // eax@4

  v3 = *v2;
  v4 = a1;
  if ( (HIDWORD(v3) & 0x7FF00000) == 2146435072 || a1 < *v2 || (v4 = a2, a2 > *v2) )
  {
    *v2 = v4;
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (00478160) --------------------------------------------------------
signed int sub_478160()
{
  return sub_47FFC0((int)&off_4C8758);
}
// 4C8758: using guessed type char *off_4C8758;

//----- (00478170) --------------------------------------------------------
bool __cdecl sub_478170(char a1, int a2)
{
  bool v2; // bl@1
  double v3; // st7@4
  int v4; // eax@4
  int v5; // ecx@8
  int v6; // eax@8
  double v7; // st5@14
  double v8; // st6@14
  float v9; // ST40_4@15
  double v10; // st5@16
  double v11; // st7@19
  float v13; // ST40_4@23
  float v14; // [sp+40h] [bp-10h]@5
  float v15; // [sp+40h] [bp-10h]@12
  float v16; // [sp+40h] [bp-10h]@16
  int v17; // [sp+44h] [bp-Ch]@8
  float v18; // [sp+48h] [bp-8h]@9
  float v19; // [sp+4Ch] [bp-4h]@9

  v2 = 0;
  if ( sub_47F940(2047, a2, 16) )
  {
    *(double *)a2 = 0.68067840827779;
    *(double *)(a2 + 8) = -1.658062789394617;
  }
  if ( (unsigned __int8)sub_478160() )
  {
    sub_47FAD0(101, 10000);
    v3 = 0.0;
    v4 = dword_5DB398;
    v2 = *(_WORD *)(dword_5DB398 + 1456) > 1u;
    if ( *(_BYTE *)(dword_5DB398 + 1296) )
    {
      v14 = sub_47B590(*(_DWORD *)(dword_5DB398 + 1292));
      v4 = dword_5DB398;
      v3 = 0.0;
    }
    else
    {
      v14 = 0.0;
    }
    if ( v2 )
    {
      v5 = *(_DWORD *)(v4 + 1524);
      v6 = v4 + 1524;
      *(_DWORD *)a2 = v5;
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(v6 + 4);
      *(_DWORD *)(a2 + 8) = *(_DWORD *)(v6 + 8);
      *(_DWORD *)(a2 + 12) = *(_DWORD *)(v6 + 12);
      sub_478110(6.2831853071796, -6.2831853071796);
      sub_478110(6.2831853071796, -6.2831853071796);
      sub_480DE0(v14, dword_5DB398 + 1512, (int)&v17);
      v4 = dword_5DB398;
      v3 = 0.0;
    }
    else
    {
      *(float *)&v17 = v3;
      v18 = v3;
      v19 = v3;
    }
    if ( a1 == 1 )
    {
      sub_480DB0((int)&v17, v4 + 1432, (int)&v17);
      v3 = 0.0;
      v4 = dword_5DB398;
    }
    v15 = *(float *)(v4 + 1280);
    if ( (LODWORD(v15) & 0x7F800000) == 2139095040 || v15 > 0.0053898906 )
    {
      v8 = 0.0053898906;
    }
    else
    {
      v7 = v15;
      v8 = 0.0053898906;
      if ( v15 >= v3 )
        goto LABEL_16;
    }
    v9 = v3;
    v7 = v9;
LABEL_16:
    *(double *)a2 = v7 * v18 + *(double *)a2;
    v16 = *(float *)(dword_5DB398 + 1284);
    v10 = v16;
    if ( (LODWORD(v16) & 0x7F800000) == 2139095040 || v10 > v8 || v10 < v3 )
    {
      v13 = v3;
      v11 = v13;
    }
    else
    {
      v11 = v16;
    }
    *(double *)(a2 + 8) = v11 * *(float *)&v17 + *(double *)(a2 + 8);
    sub_47FAB0(101);
    sub_4789D0(a2);
  }
  return v2;
}
// 5DB398: using guessed type int dword_5DB398;

//----- (00478390) --------------------------------------------------------
signed int __cdecl sub_478390(int a1)
{
  signed int result; // eax@1

  result = 0x3FFFF;
  if ( a1 )
  {
    if ( *(_BYTE *)a1 < 0x17u )
      result = *(_DWORD *)(a1 + 36);
  }
  return result;
}

//----- (004783B0) --------------------------------------------------------
double __cdecl sub_4783B0(signed int a1, char a2)
{
  return (double)(a1 >> (31 - a2)) / (double)(1 << a2) * 3.1415926535898;
}

//----- (004783F0) --------------------------------------------------------
bool __cdecl sub_4783F0(unsigned int a1, unsigned __int16 a2)
{
  unsigned int v2; // eax@2
  bool result; // al@5

  result = 0;
  if ( a2 < 0x96u )
  {
    v2 = 12 * a2;
    if ( a1 < dword_5DAB48[v2 / 4] && word_5DAB44[v2 / 2] && dword_5DAB40[v2 / 4] )
      result = 1;
  }
  return result;
}
// 5DAB40: using guessed type int dword_5DAB40[];
// 5DAB44: using guessed type __int16 word_5DAB44[];
// 5DAB48: using guessed type int dword_5DAB48[];

//----- (00478430) --------------------------------------------------------
int __cdecl sub_478430(unsigned __int16 a1)
{
  unsigned __int16 v1; // dx@1
  int result; // eax@2

  if ( sub_4783F0(0, a1) )
    result = dword_5DAB48[3 * v1];
  else
    result = 0;
  return result;
}
// 5DAB48: using guessed type int dword_5DAB48[];

//----- (00478460) --------------------------------------------------------
int __cdecl sub_478460(_BYTE *a1)
{
  int result; // eax@1

  result = (int)a1;
  *a1 = 0;
  if ( !byte_5DB394 )
    result = (*(int (__cdecl **)(signed int, signed int, _BYTE *))dword_5DAAFC)(146, 1, a1);
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DB394: using guessed type char byte_5DB394;

//----- (00478490) --------------------------------------------------------
char __cdecl sub_478490(_BYTE *a1, _BYTE *a2)
{
  char result; // al@2
  char v3; // [sp+8h] [bp-14h]@2
  unsigned __int8 v4; // [sp+9h] [bp-13h]@2

  *a2 = 0;
  *a1 = 0;
  if ( !byte_5DB394 )
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_5DAAFC)(dword_5DAE64, 18, &v3);
    result = v4 & 0xF;
    *a2 = v4 >> 4;
    *a1 = result;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAE64: using guessed type int dword_5DAE64;
// 5DB394: using guessed type char byte_5DB394;

//----- (004784E0) --------------------------------------------------------
char __cdecl sub_4784E0(_BYTE *a1, _BYTE *a2)
{
  char result; // al@2
  unsigned __int8 v3; // [sp+8h] [bp-14h]@2

  *a2 = 0;
  *a1 = 0;
  if ( !byte_5DB394 )
  {
    (*(void (__cdecl **)(int, signed int, unsigned __int8 *))dword_5DAAFC)(dword_5DAE64, 18, &v3);
    result = v3 & 0xF;
    *a2 = v3 >> 4;
    *a1 = result;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAE64: using guessed type int dword_5DAE64;
// 5DB394: using guessed type char byte_5DB394;

//----- (00478530) --------------------------------------------------------
int sub_478530()
{
  int result; // eax@1
  unsigned int v1; // ecx@1
  int v2; // edi@4
  int *v3; // esi@5
  int v4; // ebx@5
  int v5; // edx@6
  int v6; // [sp+4h] [bp-Ch]@1
  int v7; // [sp+8h] [bp-8h]@4
  unsigned int v8; // [sp+Ch] [bp-4h]@4

  memset(dword_5DAB40, 0, 0x708u);
  result = (*(int (__cdecl **)(signed int, int *))dword_5DAAEC)(512, &v6);
  v1 = 0;
  do
  {
    word_5DAB44[v1 / 2] = 0;
    dword_5DAB48[v1 / 4] = 0;
    dword_5DAB40[v1 / 4] = 0;
    v1 += 12;
  }
  while ( v1 < 0x708 );
  if ( (_BYTE)result )
  {
    dword_5DAB4C = v6;
    result = v8;
    v2 = (unsigned __int16)v7 + 512;
    dword_5DAB50 = v7;
    dword_5DAB54 = v8;
    if ( v8 >= 2 )
    {
      v3 = &dword_5DAB58;
      v4 = v8 - 1;
      do
      {
        (*(void (__cdecl **)(int, int *))dword_5DAAEC)(v2, &v6);
        v5 = v7;
        result = v8;
        *v3 = v6;
        v3[1] = v5;
        v3[2] = result;
        v2 += (unsigned __int16)dword_5DAB50;
        v3 += 3;
        --v4;
      }
      while ( v4 );
    }
  }
  return result;
}
// 5DAAEC: using guessed type int dword_5DAAEC;
// 5DAB40: using guessed type int dword_5DAB40[];
// 5DAB44: using guessed type __int16 word_5DAB44[];
// 5DAB48: using guessed type int dword_5DAB48[];
// 5DAB4C: using guessed type int dword_5DAB4C;
// 5DAB50: using guessed type int dword_5DAB50;
// 5DAB54: using guessed type int dword_5DAB54;
// 5DAB58: using guessed type int dword_5DAB58;

//----- (00478600) --------------------------------------------------------
__int16 sub_478600()
{
  __int16 result; // ax@1
  unsigned int v1; // ebx@1
  unsigned int v2; // esi@1
  int v3; // edi@1
  int v4; // ebp@2
  __int16 v5; // [sp+Ch] [bp-4h]@3

  result = word_5DAB5C;
  v1 = dword_5DAB60;
  v2 = 1;
  v3 = dword_5DAB58;
  if ( (unsigned int)dword_5DAB60 >= 1 )
  {
    v4 = (unsigned __int16)word_5DAB5C;
    do
    {
      (*(void (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(v3, 2, &v5);
      result = v5;
      word_5DB260[v2++] = v5;
      v3 += v4;
    }
    while ( v2 <= v1 );
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAB58: using guessed type int dword_5DAB58;
// 5DAB5C: using guessed type __int16 word_5DAB5C;
// 5DAB60: using guessed type int dword_5DAB60;
// 5DB260: using guessed type __int16 word_5DB260[];

//----- (00478660) --------------------------------------------------------
int __usercall sub_478660@<eax>(int result@<eax>, _BYTE *a2, signed int a3, int a4)
{
  signed int v4; // edx@1
  _BYTE *v5; // ecx@2
  unsigned int v6; // ebx@2
  unsigned __int16 v7; // ax@7

  v4 = 0;
  if ( a3 > 0 )
  {
    v5 = a2;
    v6 = a3;
    do
    {
      if ( v4 & 3 )
      {
        if ( (v4 & 3) == 1 )
        {
          result = v6 >> 4;
        }
        else
        {
          --v5;
          result = (v4 & 3) - 2;
          if ( (v4 & 3) == 2 )
          {
            HIBYTE(v7) = v5[1];
            LOBYTE(v7) = *v5;
            v6 = v7;
            result = (unsigned int)v7 >> 6;
          }
          else
          {
            LOBYTE(result) = v6;
          }
        }
      }
      else
      {
        HIWORD(result) = 0;
        BYTE1(result) = *v5--;
        LOBYTE(result) = *v5;
        v6 = (unsigned __int16)result;
        LOWORD(result) = (unsigned __int16)result >> 10;
      }
      LOBYTE(result) = (result & 0x3F) + 32;
      *(_BYTE *)(v4++ + a4) = result;
    }
    while ( v4 < a3 );
  }
  return result;
}

//----- (004786E0) --------------------------------------------------------
char sub_4786E0()
{
  char v0; // al@1
  unsigned __int8 v1; // bl@2
  unsigned int v2; // ecx@3
  char *v3; // eax@3
  char *v4; // edx@3
  int v5; // esi@7
  int v6; // ecx@8
  _BYTE *v7; // eax@8
  _BYTE *v8; // edx@8
  int v9; // ecx@10
  _BYTE *v10; // eax@10
  _BYTE *v11; // edx@10
  _BYTE *v12; // eax@12
  _BYTE *v13; // edx@12
  signed int v14; // eax@14
  char result; // al@24
  char v16; // [sp+Fh] [bp-25h]@20
  char v17; // [sp+10h] [bp-24h]@1
  char v18; // [sp+1Bh] [bp-19h]@2
  char v19; // [sp+1Ch] [bp-18h]@2

  byte_5DB394 = 1;
  v0 = (*(int (__cdecl **)(signed int, signed int, char *))dword_5DAAFC)(147, 12, &v17);
  byte_5DB394 = 1;
  dword_544778 = 0;
  dword_54477C = 0;
  dword_544780 = 0;
  dword_544784 = 0;
  byte_544788 = 0;
  if ( !v0 )
    return (unsigned int)memset(dword_5DAB40, 0, 0x708u);
  sub_478660((int)&v19, &v18, 16, (int)&v19);
  v1 = 0;
  while ( 1 )
  {
    v2 = 10;
    v3 = &a006D0170[11 * v1];
    v4 = &v19;
    do
    {
      if ( *(_DWORD *)v4 != *(_DWORD *)v3 )
        goto LABEL_7;
      v2 -= 4;
      v3 += 4;
      v4 += 4;
    }
    while ( v2 >= 4 );
    if ( !v2 )
    {
LABEL_16:
      v14 = 0;
      goto LABEL_17;
    }
LABEL_7:
    v5 = (unsigned __int8)*v4 - (unsigned __int8)*v3;
    if ( (unsigned __int8)*v4 == (unsigned __int8)*v3 )
    {
      v6 = v2 - 1;
      v7 = v3 + 1;
      v8 = v4 + 1;
      if ( !v6 )
        goto LABEL_16;
      v5 = *v8 - *v7;
      if ( *v8 == *v7 )
      {
        v9 = v6 - 1;
        v10 = v7 + 1;
        v11 = v8 + 1;
        if ( !v9 )
          goto LABEL_16;
        v5 = *v11 - *v10;
        if ( *v11 == *v10 )
        {
          v12 = v10 + 1;
          v13 = v11 + 1;
          if ( v9 == 1 )
            goto LABEL_16;
          v5 = *v13 - *v12;
          if ( *v13 == *v12 )
            goto LABEL_16;
        }
      }
    }
    v14 = 1;
    if ( v5 <= 0 )
      v14 = -1;
LABEL_17:
    if ( !v14 )
      break;
    if ( ++v1 >= 3u )
      return (unsigned int)memset(dword_5DAB40, 0, 0x708u);
  }
  byte_5DB394 = 0;
  sub_478460(&v16);
  if ( v16 != 101 )
  {
    byte_5DB394 = 2;
    return (unsigned int)memset(dword_5DAB40, 0, 0x708u);
  }
  if ( byte_5DB394 )
    return (unsigned int)memset(dword_5DAB40, 0, 0x708u);
  sub_4784E0(&unk_5DB248, &byte_5DB38D);
  byte_5DB38C = byte_5DB38D - 1;
  if ( byte_5DB394 )
    return (unsigned int)memset(dword_5DAB40, 0, 0x708u);
  result = sub_478490(&unk_5DB249, &unk_5DB24A);
  byte_5DAB30 = 0;
  if ( byte_5DB394 )
    return (unsigned int)memset(dword_5DAB40, 0, 0x708u);
  return result;
}
// 544778: using guessed type int dword_544778;
// 54477C: using guessed type int dword_54477C;
// 544780: using guessed type int dword_544780;
// 544784: using guessed type int dword_544784;
// 544788: using guessed type char byte_544788;
// 5DAAFC: using guessed type int dword_5DAAFC;
// 5DAB30: using guessed type char byte_5DAB30;
// 5DAB40: using guessed type int dword_5DAB40[];
// 5DB38C: using guessed type char byte_5DB38C;
// 5DB38D: using guessed type char byte_5DB38D;
// 5DB394: using guessed type char byte_5DB394;

//----- (004788A0) --------------------------------------------------------
int (__cdecl *(*sub_4788A0())[2])(int, int)
{
  int (__cdecl *(*result)[2])(int, int); // eax@1
  unsigned int v1; // edi@2
  char *v2; // ecx@3
  unsigned int v3; // eax@3
  char *v4; // edx@3
  int v5; // esi@7
  int v6; // eax@8
  _BYTE *v7; // ecx@8
  _BYTE *v8; // edx@8
  int v9; // eax@10
  _BYTE *v10; // ecx@10
  _BYTE *v11; // edx@10
  _BYTE *v12; // ecx@12
  _BYTE *v13; // edx@12
  char v14; // [sp+0h] [bp-24h]@1
  char v15; // [sp+Bh] [bp-19h]@2
  char v16; // [sp+Ch] [bp-18h]@2

  dword_5DAAEC = (int)off_4E88E8;
  result = (int (__cdecl *(*)[2])(int, int))(*(int (__cdecl **)(signed int, signed int, char *))dword_5DAAFC)(
                                              147,
                                              12,
                                              &v14);
  if ( (_BYTE)result )
  {
    sub_478660((int)&v16, &v15, 16, (int)&v16);
    v1 = 0;
    do
    {
      v2 = (&off_4C8838)[8 * v1];
      v3 = strlen((&off_4C8838)[8 * v1]);
      v4 = &v16;
      if ( v3 < 4 )
      {
LABEL_6:
        if ( !v3 )
          goto LABEL_16;
      }
      else
      {
        while ( *(_DWORD *)v4 == *(_DWORD *)v2 )
        {
          v3 -= 4;
          v2 += 4;
          v4 += 4;
          if ( v3 < 4 )
            goto LABEL_6;
        }
      }
      v5 = (unsigned __int8)*v4 - (unsigned __int8)*v2;
      if ( (unsigned __int8)*v4 == (unsigned __int8)*v2 )
      {
        v6 = v3 - 1;
        v7 = v2 + 1;
        v8 = v4 + 1;
        if ( !v6
          || (v5 = *v8 - *v7, *v8 == *v7)
          && ((v9 = v6 - 1, v10 = v7 + 1, v11 = v8 + 1, !v9)
           || (v5 = *v11 - *v10, *v11 == *v10)
           && ((v12 = v10 + 1, v13 = v11 + 1, v9 == 1) || (v5 = *v13 - *v12, *v13 == *v12))) )
        {
LABEL_16:
          result = 0;
          goto LABEL_17;
        }
      }
      result = (int (__cdecl *(*)[2])(int, int))1;
      if ( v5 <= 0 )
        result = (int (__cdecl *(*)[2])(int, int))-1;
LABEL_17:
      if ( !result )
      {
        result = (&off_4C883C)[v1];
        dword_5DAAEC = (int)(&off_4C883C)[v1];
        return result;
      }
      ++v1;
    }
    while ( v1 < 3 );
  }
  return result;
}
// 4C8838: using guessed type char *off_4C8838;
// 4C883C: using guessed type int (__cdecl *(*off_4C883C)[2])(int, int);
// 4E88E8: using guessed type int (__cdecl *off_4E88E8[2])(int, int);
// 5DAAEC: using guessed type int dword_5DAAEC;
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (004789D0) --------------------------------------------------------
int __cdecl sub_4789D0(int a1)
{
  double v1; // ST0C_8@2
  double v2; // st6@4
  double v3; // st7@4
  double v4; // ST0C_8@7
  double v5; // rt2@8
  double v6; // st6@8
  double v7; // st7@8
  double v8; // st7@14
  double v9; // st7@18
  int result; // eax@18

  if ( a1 )
  {
    v1 = *(double *)a1;
    if ( (HIDWORD(v1) & 0x7FF00000) == 2146435072 || *(double *)a1 > 6.2831853071796 )
    {
      *(double *)a1 = 6.2831853071796;
      v2 = -6.2831853071796;
      v3 = 6.2831853071796;
    }
    else
    {
      v2 = -6.2831853071796;
      v3 = 6.2831853071796;
      if ( *(double *)a1 < -6.2831853071796 )
        *(double *)a1 = -6.2831853071796;
    }
    v4 = *(double *)(a1 + 8);
    if ( (HIDWORD(v4) & 0x7FF00000) == 2146435072 )
    {
      *(double *)(a1 + 8) = v3;
    }
    else
    {
      v5 = v2;
      v6 = v3;
      v7 = v5;
      if ( v6 < *(double *)(a1 + 8) )
      {
        *(double *)(a1 + 8) = v6;
      }
      else if ( v7 > *(double *)(a1 + 8) )
      {
        *(double *)(a1 + 8) = v7;
      }
    }
    if ( *(double *)a1 <= 1.5707963267949 )
    {
      if ( *(double *)a1 >= -1.5707963267949 )
      {
LABEL_18:
        v9 = *(double *)(a1 + 8);
        result = sub_480CB0(v9);
        *(double *)(a1 + 8) = v9;
        return result;
      }
      *(double *)a1 = -3.1415926535898 - *(double *)a1;
      v8 = *(double *)(a1 + 8) + 3.1415926535898;
    }
    else
    {
      *(double *)a1 = 3.1415926535898 - *(double *)a1;
      v8 = *(double *)(a1 + 8) + 3.1415926535898;
    }
    *(double *)(a1 + 8) = v8;
    goto LABEL_18;
  }
  return result;
}

//----- (00478AD0) --------------------------------------------------------
signed int __cdecl sub_478AD0(int a1, int a2)
{
  signed int result; // eax@2

  if ( a1 )
  {
    if ( (COERCE_UNSIGNED_INT(*(float *)a1) & 0x7F800000) == 2139095040
      || (COERCE_UNSIGNED_INT(*(float *)(a1 + 4)) & 0x7F800000) == 2139095040
      || *(float *)a1 >= 1.570796370506287
      || *(float *)a1 < -1.570796370506287
      || *(float *)(a1 + 4) >= 3.141592741012573
      || *(float *)(a1 + 4) < -3.141592741012573 )
    {
      if ( a2 )
      {
        *(_DWORD *)a1 = *(_DWORD *)a2;
        *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      }
      result = 0;
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00478B70) --------------------------------------------------------
char *__cdecl sub_478B70(int a1, char *a2, int a3, char *a4, int a5)
{
  char *v5; // edi@1
  char *result; // eax@4
  char v7[4]; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v5 = a2;
  *(_DWORD *)v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  *(_DWORD *)(a5 + 16) = sub_47FA00();
  *(_DWORD *)(a5 + 596) = sub_47FA20();
  sub_47FA40((int)v7, 1, *(_DWORD *)(a5 + 16), 40);
  *(_WORD *)(a5 + 594) = 0x7FFF;
  sub_4779E0(a5 + 585, "14.01", 8);
  *(_DWORD *)a5 = a1;
  sub_47B810((char *)(a5 + 4));
  *(_DWORD *)(a5 + 460) = a3;
  if ( strrchr(a2, 92) )
    v5 = strrchr(a2, 92) + 1;
  strncpy((char *)(a5 + 464), v5, 0x14u);
  *(_BYTE *)(a5 + 484) = 0;
  if ( a4 )
  {
    result = strncpy((char *)(a5 + 485), a4, 0x63u);
    *(_BYTE *)(a5 + 584) = 0;
  }
  else
  {
    result = strncpy((char *)(a5 + 485), v7, 0x64u);
  }
  return result;
}

//----- (00478CA0) --------------------------------------------------------
char __cdecl sub_478CA0(char *a1, int a2, char a3, char *a4, int a5)
{
  char result; // al@7
  char v6; // [sp+Bh] [bp-2Dh]@4
  int v7; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  if ( a3 & 3 )
    sub_478B70(-5, a1, a2, a4, a5);
  else
    sub_478B70(-44, a1, a2, a4, a5);
  v6 = a3 & 8;
  if ( a3 & 8 )
    sub_477B30((const char *)(a5 + 485), " DBGA", 100);
  sub_47FA40((int)&v7, 0, 0, 40);
  if ( a3 & 3 )
  {
    result = a3 & 8;
    if ( v6 )
    {
      if ( byte_544789 )
        return result;
      if ( v6 )
        goto LABEL_15;
    }
    if ( !byte_54478A )
LABEL_15:
      result = sub_47FA80(36, 1, *(_DWORD *)a5, a5);
  }
  else
  {
    result = j_HWM_pvg_log_err(a5);
  }
  return result;
}
// 47F910: using guessed type int __cdecl j_HWM_pvg_log_err(_DWORD);
// 544789: using guessed type char byte_544789;
// 54478A: using guessed type char byte_54478A;

//----- (00478DA0) --------------------------------------------------------
char __cdecl sub_478DA0(char *a1, int a2, char a3, char *a4)
{
  int v5; // [sp+8h] [bp-284h]@1

  memset(&v5, 0, 0x280u);
  return sub_478CA0(a1, a2, a3, a4, (int)&v5);
}

//----- (00478E10) --------------------------------------------------------
char __cdecl sub_478E10(int a1)
{
  char v1; // bl@1

  SYS_enter_krnl();
  v1 = SYS_pvg_is_booting(a1);
  SYS_exit_krnl();
  return v1;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD4E: using guessed type int __cdecl SYS_pvg_is_booting(_DWORD);
// 49DD54: using guessed type int SYS_enter_krnl(void);

//----- (00478E30) --------------------------------------------------------
int __cdecl sub_478E30(int a1, char *a2)
{
  if ( (unsigned __int8)a1 >= 0x5Fu )
    sub_478DA0("..\\lib\\adl\\sys_usr.c", 5389, 1, 0);
  if ( !a2 )
    sub_478DA0("..\\lib\\adl\\sys_usr.c", 5390, 1, 0);
  SYS_enter_krnl();
  SYS_pvg_var_ctrl(a1, a2);
  return SYS_exit_krnl();
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DD5A: using guessed type int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD);

//----- (00478E90) --------------------------------------------------------
char __thiscall sub_478E90(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_478E30(17, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (00478EB0) --------------------------------------------------------
char __thiscall sub_478EB0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_478E30(44, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (00478ED0) --------------------------------------------------------
int __cdecl sub_478ED0(char a1)
{
  return sub_478E30(56, &a1);
}

//----- (00478EE0) --------------------------------------------------------
char sub_478EE0()
{
  char v0; // bl@1
  signed int v1; // esi@2
  char result; // al@4

  v0 = sub_47FFC0((int)&off_4CD5DC);
  if ( v0 )
  {
    dword_5DAB2C = dword_54E170;
    v1 = *(_BYTE *)(dword_54E170 + 667) != 0 ? 1100 : 2000;
    if ( v1 + *(_DWORD *)(dword_5DAB2C + 36) < (unsigned int)sub_47FA20() )
      v0 = 0;
    dword_5DAB28 = dword_54E170 + 56116;
    result = v0;
    dword_5DAB20 = dword_54E170 + 1516;
    dword_5DAB24 = dword_54E170 + 20484;
  }
  else
  {
    dword_5DAB2C = 0;
    dword_5DAB20 = 0;
    dword_5DAB24 = 0;
    dword_5DAB28 = 0;
    result = 0;
  }
  return result;
}
// 4CD5DC: using guessed type char *off_4CD5DC;
// 54E170: using guessed type int dword_54E170;
// 5DAB20: using guessed type int dword_5DAB20;
// 5DAB24: using guessed type int dword_5DAB24;
// 5DAB28: using guessed type int dword_5DAB28;
// 5DAB2C: using guessed type int dword_5DAB2C;

//----- (00478F80) --------------------------------------------------------
unsigned int __cdecl sub_478F80(char *a1)
{
  return sub_47B980(a1, -100, 100, 0, 0);
}

//----- (00478FA0) --------------------------------------------------------
int __cdecl sub_478FA0(_BYTE *a1)
{
  return sub_47BBE0(a1, 0x1CCF0u, 0x2171Eu, 0x2171Eu, 0);
}

//----- (00478FC0) --------------------------------------------------------
int __cdecl sub_478FC0(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 1u, 1u, 0);
}

//----- (00478FE0) --------------------------------------------------------
unsigned int __cdecl sub_478FE0(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_47B840((_BYTE *)(a1 + 6), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  if ( sub_47BAF0((unsigned __int8 *)(a1 + 12), 0, 0xFFu, 0, a2) == 1 )
    v2 = 1;
  result = sub_47B840((_BYTE *)a1, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 2), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 9), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 3), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 14), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47BAF0((unsigned __int8 *)(a1 + 7), 0, 0x40u, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 10), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 5), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 11), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47BAF0((unsigned __int8 *)(a1 + 4), 0, 0x40u, 0x30u, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 13), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 1), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 17), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 24), 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (00479310) --------------------------------------------------------
unsigned int __cdecl sub_479310(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_47B840((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 24), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 26), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 10), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 30), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 31), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 27), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 29), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 28), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 17), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 13), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 5), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)a1, -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 1), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 2), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 3), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 4), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 12), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 14), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 11), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 7), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 9), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B840((_BYTE *)(a1 + 25), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_47B980((char *)(a1 + 6), -31, 31, 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (00479750) --------------------------------------------------------
unsigned int __cdecl sub_479750(_BYTE *a1)
{
  return sub_47B9D0(a1, -1, 5, -1, 0);
}

//----- (00479770) --------------------------------------------------------
int __cdecl sub_479770(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 5u, 0, 0);
}

//----- (00479790) --------------------------------------------------------
int __cdecl sub_479790(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 4u, 2u, 0);
}

//----- (004797B0) --------------------------------------------------------
int __cdecl sub_4797B0(_BYTE *a1)
{
  return sub_47BBE0(a1, 0, 2u, 0, 0);
}

//----- (004797D0) --------------------------------------------------------
int __cdecl sub_4797D0(int a1)
{
  return sub_47B890(a1, 0.1, 4.0, COERCE_INT(1.5), 0);
}

//----- (00479820) --------------------------------------------------------
int __cdecl sub_479820(unsigned __int8 *a1)
{
  int result; // eax@1

  result = sub_4797D0((int)(a1 + 4));
  if ( !result )
    result = sub_479790(a1);
  return result;
}

//----- (00479840) --------------------------------------------------------
int __cdecl sub_479840(int a1)
{
  int result; // eax@1

  result = sub_479770((unsigned __int8 *)(a1 + 1));
  if ( !result )
  {
    result = sub_479770((unsigned __int8 *)(a1 + 2));
    if ( !result )
    {
      result = sub_479770((unsigned __int8 *)(a1 + 3));
      if ( !result )
      {
        result = sub_47BF30((unsigned __int8 *)(a1 + 7));
        if ( !result )
        {
          result = sub_47B840((_BYTE *)(a1 + 5), 0, 0);
          if ( !result )
          {
            result = sub_47B840((_BYTE *)a1, 0, 0);
            if ( !result )
            {
              result = sub_47B840((_BYTE *)(a1 + 4), 0, 0);
              if ( !result )
                result = sub_47B840((_BYTE *)(a1 + 6), 0, 0);
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (004798D0) --------------------------------------------------------
unsigned int __cdecl sub_4798D0(int a1)
{
  unsigned int result; // eax@1

  result = sub_479750((_BYTE *)a1);
  if ( !result )
    result = sub_479750((_BYTE *)(a1 + 4));
  return result;
}

//----- (004798F0) --------------------------------------------------------
signed int __cdecl sub_4798F0(int a1)
{
  int v1; // esi@1
  signed int result; // eax@2
  signed int v3; // esi@4

  v1 = 0;
  while ( 1 )
  {
    result = sub_47B840((_BYTE *)(v1 + a1), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      v3 = 0;
      do
      {
        result = sub_47B840((_BYTE *)(a1 + v3 + 6), 0, 0);
        if ( result )
          break;
        ++v3;
      }
      while ( v3 < 6 );
      return result;
    }
  }
  return result;
}

//----- (00479940) --------------------------------------------------------
unsigned int __cdecl sub_479940(int a1)
{
  unsigned int result; // eax@1

  result = sub_479750((_BYTE *)a1);
  if ( !result )
  {
    result = sub_479750((_BYTE *)(a1 + 4));
    if ( !result )
    {
      result = sub_479750((_BYTE *)(a1 + 8));
      if ( !result )
      {
        result = sub_479750((_BYTE *)(a1 + 12));
        if ( !result )
          result = sub_47B840((_BYTE *)(a1 + 16), 1, 0);
      }
    }
  }
  return result;
}

//----- (004799A0) --------------------------------------------------------
int __cdecl sub_4799A0(_BYTE *a1)
{
  return sub_47BBE0(a1, 0, 0x20u, 2u, 0);
}

//----- (004799C0) --------------------------------------------------------
unsigned int __cdecl sub_4799C0(_BYTE *a1)
{
  return sub_47B9D0(a1, -1, 4, -1, 0);
}

//----- (004799E0) --------------------------------------------------------
int __cdecl sub_4799E0(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 9u, 0, 0);
}

//----- (00479A00) --------------------------------------------------------
int __cdecl sub_479A00(_BYTE *a1)
{
  return sub_47BBE0(a1, 0x81u, 0xFFu, 0xC0u, 0);
}

//----- (00479A20) --------------------------------------------------------
signed int __cdecl sub_479A20(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_47BBE0(a1, 0, 0xFFFFFFFF, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (00479A50) --------------------------------------------------------
int __cdecl sub_479A50(_BYTE *a1, int a2)
{
  int result; // eax@1

  result = sub_47BB40(a1, 0, 0xFFFu, 640, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (00479B20) --------------------------------------------------------
int __cdecl sub_479B20(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 2u, 0, 0);
}

//----- (00479B40) --------------------------------------------------------
int __cdecl sub_479B40(int a1)
{
  int result; // eax@1

  result = sub_47BAF0((unsigned __int8 *)a1, 0, 0x78u, 0, 0);
  if ( !result )
    result = sub_47BAF0((unsigned __int8 *)(a1 + 1), 0, 0x78u, 0, 0);
  return result;
}

//----- (00479B70) --------------------------------------------------------
int __cdecl sub_479B70(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 3u, 1u, 0);
}

//----- (00479B90) --------------------------------------------------------
unsigned int __cdecl sub_479B90(int a1)
{
  unsigned int result; // eax@1

  result = sub_47B9D0((_BYTE *)a1, -1, 5, -1, 0);
  if ( !result )
    result = sub_47B9D0((_BYTE *)(a1 + 4), -1, 5, -1, 0);
  return result;
}

//----- (00479BC0) --------------------------------------------------------
int __cdecl sub_479BC0(int a1)
{
  int result; // eax@1

  result = sub_47B890(a1, 0.0, 5.0, COERCE_INT(0.23), 0);
  if ( !result )
  {
    result = sub_47B890(a1 + 4, -10.0, 10.0, COERCE_INT(0.0), 0);
    if ( !result )
    {
      result = sub_47B890(a1 + 8, 0.0, 12.9, COERCE_INT(0.86000001), 0);
      if ( !result )
      {
        result = sub_47B890(a1 + 12, 0.0, 5.0, COERCE_INT(0.23), 0);
        if ( !result )
          result = sub_47B890(a1 + 16, -10.0, 10.0, COERCE_INT(0.0), 0);
      }
    }
  }
  return result;
}

//----- (00479CB0) --------------------------------------------------------
int __cdecl sub_479CB0(int a1)
{
  int v1; // edi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_47B840((_BYTE *)(a1 + v1 + 44), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      result = sub_47BAF0((unsigned __int8 *)(a1 + 1), 0, 3u, 1u, 0);
      if ( !result )
      {
        result = sub_479B90(a1 + 36);
        if ( !result )
        {
          result = sub_47B890(a1 + 52, -9.9999996e24, 9.9999996e24, COERCE_INT(77.166664), 0);
          if ( !result )
          {
            result = sub_479BC0(a1 + 8);
            if ( !result )
            {
              result = sub_479B90(a1 + 28);
              if ( !result )
              {
                result = sub_47BB40((_BYTE *)(a1 + 2), 0x1F4u, 0x800u, 600, 0);
                if ( !result )
                {
                  result = sub_479B20((unsigned __int8 *)(a1 + 50));
                  if ( !result )
                  {
                    result = sub_479B40(a1 + 57);
                    if ( !result )
                    {
                      result = sub_47B840((_BYTE *)(a1 + 56), 0, 0);
                      if ( !result )
                        result = sub_479B70((unsigned __int8 *)(a1 + 51));
                    }
                  }
                }
              }
            }
          }
        }
      }
      return result;
    }
  }
  return result;
}

//----- (00479DC0) --------------------------------------------------------
signed int __cdecl sub_479DC0(unsigned __int8 *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_47BAF0(a1, 0, 0xFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (00479DF0) --------------------------------------------------------
signed int __cdecl sub_479DF0(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_47BB40(a1, 0, 0xFFFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (00479E20) --------------------------------------------------------
int __cdecl sub_479E20(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 0x64u, 0x64u, 0);
}

//----- (00479E80) --------------------------------------------------------
int __cdecl sub_479E80(int a1)
{
  int v1; // esi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_47B840((_BYTE *)(v1 + a1 + 4), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 3 )
      return sub_479E20((unsigned __int8 *)(a1 + 10));
  }
  return result;
}

//----- (00479E90) --------------------------------------------------------
signed int __cdecl sub_479E90(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_47BBE0(a1, 0, 0xFFFFFFFF, 0xFFFFFFFF, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (00479EC0) --------------------------------------------------------
int __cdecl sub_479EC0(int a1, int a2)
{
  signed int v2; // ebp@1
  unsigned __int8 v3; // bl@1
  int result; // eax@3

  v2 = 0;
  v3 = 0;
  do
  {
    switch ( v3 )
    {
      case 4u:
      case 5u:
      case 6u:
      case 9u:
      case 0xAu:
        result = sub_47BAF0((unsigned __int8 *)(a1 + v3), 0, 0x3Fu, 0, a2);
        break;
      default:
        result = sub_47BAF0((unsigned __int8 *)(a1 + v3), 0, 0xFFu, 0xFFu, a2);
        break;
    }
    if ( result == 1 )
    {
      v2 = 1;
    }
    else if ( result )
    {
      return result;
    }
    ++v3;
  }
  while ( v3 < 0xDu );
  return v2;
}

//----- (00479F40) --------------------------------------------------------
unsigned int __cdecl sub_479F40(int a1)
{
  unsigned int result; // eax@1

  result = sub_478F80((char *)(a1 + 3));
  if ( !result )
  {
    result = sub_478F80((char *)(a1 + 2));
    if ( !result )
    {
      result = sub_478F80((char *)a1);
      if ( !result )
        result = sub_478F80((char *)(a1 + 1));
    }
  }
  return result;
}

//----- (00479F80) --------------------------------------------------------
unsigned int __cdecl sub_479F80(int a1)
{
  signed int v1; // esi@1
  int v2; // edi@1
  unsigned int result; // eax@2

  v1 = 0;
  v2 = a1;
  while ( 1 )
  {
    result = sub_479F40(v2);
    if ( result )
      break;
    ++v1;
    v2 += 4;
    if ( v1 >= 3 )
    {
      result = sub_479B20((unsigned __int8 *)(a1 + 12));
      if ( !result )
        result = sub_478FC0((unsigned __int8 *)(a1 + 13));
      return result;
    }
  }
  return result;
}

//----- (00479FD0) --------------------------------------------------------
int __cdecl sub_479FD0(int a1)
{
  int result; // eax@1

  result = sub_478FA0((_BYTE *)(a1 + 4));
  if ( !result )
    result = sub_47BB40((_BYTE *)a1, 0, 0x3FFFu, 0x3FFF, 0);
  return result;
}

//----- (0047A000) --------------------------------------------------------
int __cdecl sub_47A000(int a1)
{
  int result; // eax@1

  result = sub_4797B0((_BYTE *)a1);
  if ( !result )
    result = sub_479A00((_BYTE *)(a1 + 4));
  return result;
}

//----- (0047A030) --------------------------------------------------------
unsigned int __cdecl sub_47A030(int a1)
{
  unsigned int result; // eax@1

  result = sub_479750((_BYTE *)a1);
  if ( !result )
  {
    result = sub_479750((_BYTE *)(a1 + 4));
    if ( !result )
      result = sub_4799C0((_BYTE *)(a1 + 8));
  }
  return result;
}

//----- (0047A060) --------------------------------------------------------
unsigned int __cdecl sub_47A060(int a1)
{
  unsigned int result; // eax@1

  result = sub_479750((_BYTE *)a1);
  if ( !result )
    result = sub_4799E0((unsigned __int8 *)(a1 + 4));
  return result;
}

//----- (0047A080) --------------------------------------------------------
unsigned int __cdecl sub_47A080(int a1)
{
  unsigned int result; // eax@1

  result = sub_479750((_BYTE *)a1);
  if ( !result )
  {
    result = sub_47BAF0((unsigned __int8 *)(a1 + 8), 0, 0x1Eu, 0x1Eu, 0);
    if ( !result )
      result = sub_4799C0((_BYTE *)(a1 + 4));
  }
  return result;
}

//----- (0047A0C0) --------------------------------------------------------
void __cdecl __noreturn sub_47A0C0(int a1)
{
  exit(a1 + 4);
}

//----- (0047A230) --------------------------------------------------------
signed int __cdecl sub_47A230(int a1, int a2)
{
  signed int v2; // ebx@1
  bool v3; // zf@5
  signed int result; // eax@5

  v2 = 0;
  if ( sub_479DC0((unsigned __int8 *)a1, a2) == 1 )
    v2 = 1;
  if ( sub_479DF0((_BYTE *)(a1 + 2), a2) == 1 )
    v2 = 1;
  v3 = sub_479DC0((unsigned __int8 *)(a1 + 1), a2) == 1;
  result = 1;
  if ( !v3 )
    result = v2;
  return result;
}

//----- (0047A290) --------------------------------------------------------
signed int __usercall sub_47A290@<eax>(int a1@<eax>, int a2@<edi>)
{
  int v2; // esi@1
  signed int v3; // ebx@1
  char v4; // al@5
  signed int result; // eax@8
  int v6; // [sp+0h] [bp-Ch]@0

  v2 = a1;
  v3 = 0;
  if ( sub_47A230(a1, v6) == 1 )
    v3 = 1;
  if ( a2 == 2 )
  {
    *(_BYTE *)(v2 + 1) = 40;
    v3 = 1;
  }
  v4 = *(_BYTE *)(v2 + 1);
  if ( v4 == 26 || v4 == 12 )
  {
    result = sub_47BAF0((unsigned __int8 *)(v2 + 4), 0x20u, 0x20u, 0x20u, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    result = sub_47B840((_BYTE *)(v2 + 37), 0, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    if ( *(_BYTE *)(v2 + 1) == 26 )
      result = sub_479310(v2 + 5, a2);
    else
      result = sub_478FE0(v2 + 5, a2);
    if ( result != 1 )
    {
      if ( result )
        return result;
      goto LABEL_25;
    }
    return 1;
  }
  if ( v4 != 40 )
  {
    if ( a2 != 1 )
      return -4;
    *(_BYTE *)(v2 + 1) = 40;
    return 1;
  }
  result = sub_479E90((_BYTE *)(v2 + 4), a2);
  if ( result != 1 )
LABEL_25:
    result = v3;
  return result;
}

//----- (0047A360) --------------------------------------------------------
signed int __cdecl sub_47A360(int a1)
{
  return sub_47A290(a1, 0);
}

//----- (0047A370) --------------------------------------------------------
int __cdecl sub_47A370(char a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 < 7 )
    result = (unsigned __int16)word_4D1554[a1];
  return result;
}
// 4D1554: using guessed type __int16 word_4D1554[];

//----- (0047A390) --------------------------------------------------------
signed int __usercall sub_47A390@<eax>(char a1@<al>, int a2@<ecx>)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 6:
      result = sub_47FFC0((int)&off_4D1574);
      break;
    case 0:
      result = sub_47FFC0((int)&off_4D1588);
      break;
    case 1:
      result = sub_47FFC0((int)&off_4D159C);
      break;
    case 2:
      result = sub_47FFC0((int)&off_4D15C4);
      break;
    case 3:
      result = sub_47FFC0((int)&off_4D15B0);
      break;
    case 5:
      result = sub_47FFC0((int)&off_4D15D8);
      break;
    default:
      result = sub_47FFC0(a2);
      break;
  }
  return result;
}
// 4D1574: using guessed type char *off_4D1574;
// 4D1588: using guessed type char *off_4D1588;
// 4D159C: using guessed type char *off_4D159C;
// 4D15B0: using guessed type char *off_4D15B0;
// 4D15C4: using guessed type char *off_4D15C4;
// 4D15D8: using guessed type char *off_4D15D8;

//----- (0047A430) --------------------------------------------------------
int __usercall sub_47A430@<eax>(char a1@<al>)
{
  return sub_47FAB0(dword_4D10A4[a1]);
}
// 4D10A4: using guessed type int dword_4D10A4[];

//----- (0047A450) --------------------------------------------------------
int __usercall sub_47A450@<eax>(char a1@<al>)
{
  return sub_47FAD0(dword_4D10A4[a1], 10);
}
// 4D10A4: using guessed type int dword_4D10A4[];

//----- (0047A470) --------------------------------------------------------
signed __int16 __usercall sub_47A470@<ax>(char a1@<al>, unsigned __int16 a2@<si>)
{
  signed __int16 result; // ax@3
  bool v3; // cf@8

  switch ( a1 )
  {
    case 6:
      if ( a2 < 0x2E5u )
      {
        if ( !(unsigned __int8)sub_47A390(a1, a1) )
        {
          sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3201, 0, 0);
          goto LABEL_6;
        }
        result = *(_WORD *)(dword_54E1F8 + 2 * a2 + 241212);
        v3 = (unsigned __int16)result < 0x256u;
        goto LABEL_32;
      }
      sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3186, 0, 0);
      return -1;
    default:
      goto LABEL_6;
    case 0:
      if ( a2 >= 0x344u )
      {
        sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3224, 0, 0);
        return -1;
      }
      if ( (unsigned __int8)sub_47A390(a1, a1) )
      {
        result = *(_WORD *)(dword_54E204 + 2 * a2 + 284664);
        v3 = (unsigned __int16)result < 0x211u;
        goto LABEL_32;
      }
      if ( sub_478E10(15000) )
        goto LABEL_6;
      sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3242, 0, 0);
      return 0;
    case 1:
      if ( a2 >= 0xBCCu )
      {
        sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3265, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_47A390(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_54E1E0 + 2 * a2 + 447808);
      v3 = (unsigned __int16)result < 0x979u;
      goto LABEL_32;
    case 2:
      if ( a2 >= 0x388u )
      {
        sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3302, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_47A390(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_54E208 + 2 * a2 + 356016);
      v3 = (unsigned __int16)result < 0x23Du;
      goto LABEL_32;
    case 3:
      if ( a2 >= 0xBEu )
      {
        sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3339, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_47A390(a1, a1) )
      {
        sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3354, 0, 0);
        return 0;
      }
      result = *(_WORD *)(dword_54E1F4 + 2 * a2 + 23096);
      v3 = (unsigned __int16)result < 0x52u;
      goto LABEL_32;
    case 5:
      if ( a2 < 4u )
      {
        if ( (unsigned __int8)sub_47A390(a1, a1) )
        {
          result = *(_WORD *)(dword_54E1E4 + 2 * a2 + 1804);
          v3 = (unsigned __int16)result < 4u;
LABEL_32:
          if ( !v3 )
            result = -1;
        }
        else
        {
LABEL_6:
          result = 0;
        }
      }
      else
      {
        sub_478DA0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3377, 0, 0);
        result = -1;
      }
      return result;
  }
}
// 54E1E0: using guessed type int dword_54E1E0;
// 54E1E4: using guessed type int dword_54E1E4;
// 54E1F4: using guessed type int dword_54E1F4;
// 54E1F8: using guessed type int dword_54E1F8;
// 54E204: using guessed type int dword_54E204;
// 54E208: using guessed type int dword_54E208;

//----- (0047A6B0) --------------------------------------------------------
char __cdecl sub_47A6B0(char a1, unsigned __int16 a2, void *a3)
{
  int v3; // ecx@1
  signed __int16 v4; // si@1
  char result; // al@2

  v4 = sub_47A470(a1, a2);
  if ( v4 == -1 )
  {
    result = 0;
  }
  else
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_47A390(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_54E1F8 + 210116), 0x34u);
        result = 1;
        break;
      case 0:
        if ( (unsigned __int8)sub_47A390(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_54E204 + 257156), 0x34u);
        result = 1;
        break;
      case 1:
        result = sub_47A390(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_54E1E0 + 321708), 0x34u);
        break;
      case 2:
        if ( (unsigned __int8)sub_47A390(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_54E208 + 326220), 0x34u);
        result = 1;
        break;
      case 3:
        if ( (unsigned __int8)sub_47A390(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_54E1F4 + 18832), 0x34u);
        result = 1;
        break;
      case 5:
        result = sub_47A390(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_54E1E4 + 1596), 0x34u);
        break;
      default:
LABEL_16:
        result = 0;
        break;
    }
  }
  return result;
}
// 54E1E0: using guessed type int dword_54E1E0;
// 54E1E4: using guessed type int dword_54E1E4;
// 54E1F4: using guessed type int dword_54E1F4;
// 54E1F8: using guessed type int dword_54E1F8;
// 54E204: using guessed type int dword_54E204;
// 54E208: using guessed type int dword_54E208;

//----- (0047A830) --------------------------------------------------------
char __cdecl sub_47A830(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // si@1
  int v4; // ecx@2
  int v5; // eax@5

  v3 = sub_47A470(a1, a2);
  if ( v3 != -1 && !sub_47A450(a1) )
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_47A390(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_54E1F8 + 24 * ((unsigned __int16)v3 + 25);
        goto LABEL_16;
      case 0:
        if ( (unsigned __int8)sub_47A390(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_54E204 + 24 * (unsigned __int16)v3 + 532;
        goto LABEL_16;
      case 1:
        if ( (unsigned __int8)sub_47A390(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_54E1E0 + 24 * (unsigned __int16)v3 + 2428;
        goto LABEL_16;
      case 2:
        if ( (unsigned __int8)sub_47A390(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_54E208 + 24 * ((unsigned __int16)v3 + 24);
        goto LABEL_16;
      case 3:
        if ( (unsigned __int8)sub_47A390(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_54E1F4 + 24 * (unsigned __int16)v3 + 84;
        goto LABEL_16;
      case 5:
        if ( (unsigned __int8)sub_47A390(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_54E1E4 + 24 * (unsigned __int16)v3 + 4;
LABEL_16:
        *(_DWORD *)a3 = *(_DWORD *)v5;
        *(_DWORD *)(a3 + 4) = *(_DWORD *)(v5 + 4);
        *(_DWORD *)(a3 + 8) = *(_DWORD *)(v5 + 8);
        *(_DWORD *)(a3 + 12) = *(_DWORD *)(v5 + 12);
        *(_DWORD *)(a3 + 16) = *(_DWORD *)(v5 + 16);
        *(_DWORD *)(a3 + 20) = *(_DWORD *)(v5 + 20);
        sub_47A430(a1);
        return 1;
      default:
LABEL_17:
        sub_47A430(a1);
        break;
    }
  }
  return 0;
}
// 54E1E0: using guessed type int dword_54E1E0;
// 54E1E4: using guessed type int dword_54E1E4;
// 54E1F4: using guessed type int dword_54E1F4;
// 54E1F8: using guessed type int dword_54E1F8;
// 54E204: using guessed type int dword_54E204;
// 54E208: using guessed type int dword_54E208;

//----- (0047A990) --------------------------------------------------------
char __cdecl sub_47A990(int a1, int a2, void *a3, char a4, __int16 a5, char a6)
{
  int v6; // ecx@0
  signed __int16 v7; // ax@1
  int v8; // edi@2
  __int16 v9; // si@11
  __int16 v11; // [sp+8h] [bp-560h]@13
  __int16 v12; // [sp+3Ch] [bp-52Ch]@10
  char v13; // [sp+40h] [bp-528h]@16
  char v14; // [sp+41h] [bp-527h]@10
  __int16 v15; // [sp+42h] [bp-526h]@10
  char v16; // [sp+44h] [bp-524h]@10
  __int16 v17; // [sp+46h] [bp-522h]@15
  int v18; // [sp+48h] [bp-520h]@16
  char v19; // [sp+4Ch] [bp-51Ch]@15

  LOBYTE(v7) = a1;
  switch ( (char)a1 )
  {
    case 6:
      v8 = 28;
      goto LABEL_8;
    case 0:
      v8 = 29;
      goto LABEL_8;
    case 1:
      v8 = 30;
      goto LABEL_8;
    case 2:
      v8 = 31;
      goto LABEL_8;
    case 3:
      v8 = 32;
      goto LABEL_8;
    case 5:
      v8 = 33;
LABEL_8:
      LOBYTE(v7) = sub_47A390(a1, v6);
      if ( !(_BYTE)v7 )
        return v7;
      v7 = sub_47A470(a1, a2);
      if ( v7 == -1 )
        return v7;
      v14 = a6;
      LOBYTE(v7) = a4;
      v12 = -32768;
      v15 = a2;
      v16 = a4;
      if ( a4 == 1 )
      {
        v9 = a5;
        if ( (unsigned __int16)a5 > 0x514u )
          return v7;
      }
      else
      {
        if ( sub_47A6B0(a1, a2, &v11) != 1 )
          goto LABEL_16;
        v9 = v11;
      }
      memcpy(&v19, a3, (unsigned __int16)v9);
      v17 = v9;
LABEL_16:
      v18 = sub_47FA20();
      v13 = 0;
      LOBYTE(v7) = sub_477B90(v8, (int)&v12);
      return v7;
    default:
      return v7;
  }
}

//----- (0047AAD0) --------------------------------------------------------
char __cdecl sub_47AAD0(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // ax@1
  int v4; // edi@2
  __int16 v6; // [sp+4h] [bp-52Ch]@8
  unsigned __int16 v7; // [sp+8h] [bp-528h]@9
  int v8; // [sp+Ch] [bp-524h]@9

  LOBYTE(v3) = a1;
  switch ( a1 )
  {
    case 6:
      v4 = 28;
      goto LABEL_8;
    case 0:
      v4 = 29;
      goto LABEL_8;
    case 1:
      v4 = 30;
      goto LABEL_8;
    case 2:
      v4 = 31;
      goto LABEL_8;
    case 3:
      v4 = 32;
      goto LABEL_8;
    case 5:
      v4 = 33;
LABEL_8:
      memset(&v6, 0, 0x528u);
      v3 = sub_47A470(a1, a2);
      if ( v3 != -1 )
      {
        v6 = -32766;
        v7 = a2;
        v8 = a3;
        LOBYTE(v3) = sub_477B90(v4, (int)&v6);
      }
      break;
    default:
      return v3;
  }
  return v3;
}

//----- (0047ABB0) --------------------------------------------------------
char __cdecl sub_47ABB0(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6)
{
  char result; // al@2
  int v7; // ecx@3
  signed __int16 v8; // si@3
  int v9; // eax@7
  int v10; // ebp@7
  int v11; // esi@7
  int v12; // edi@7
  unsigned int v13; // ebx@7
  int v14; // eax@9
  int v15; // eax@11
  int v16; // eax@13
  int v17; // eax@15
  int v18; // eax@17
  int v19; // eax@25
  char v20; // [sp+7h] [bp-9h]@19
  __int16 v21; // [sp+8h] [bp-8h]@1
  unsigned int v22; // [sp+Ch] [bp-4h]@1

  v22 = sub_47FA20();
  v21 = 0;
  if ( a1 < 7 )
  {
    v8 = sub_47A470(a1, a2);
    if ( v8 == -1 )
    {
      result = 0;
    }
    else
    {
      switch ( a1 )
      {
        case 6:
          if ( !(unsigned __int8)sub_47A390(a1, v7) )
            goto LABEL_30;
          v9 = 3 * (unsigned __int16)v8 + 75;
          v10 = dword_54E1F8 + 14952;
          v11 = 52 * (unsigned __int16)v8 + dword_54E1F8 + 210116;
          v12 = dword_54E1F8 + 8 * v9;
          v13 = 195164;
          goto LABEL_18;
        case 0:
          if ( !(unsigned __int8)sub_47A390(a1, v7) )
            goto LABEL_30;
          v14 = 3 * (unsigned __int16)v8;
          v10 = dword_54E204 + 13228;
          v11 = 52 * (unsigned __int16)v8 + dword_54E204 + 257156;
          v12 = dword_54E204 + 8 * v14 + 532;
          v13 = 243928;
          goto LABEL_18;
        case 1:
          if ( !(unsigned __int8)sub_47A390(a1, v7) )
            goto LABEL_30;
          v15 = 3 * (unsigned __int16)v8;
          v10 = dword_54E1E0 + 60628;
          v11 = 52 * (unsigned __int16)v8 + dword_54E1E0 + 321708;
          v12 = dword_54E1E0 + 8 * v15 + 2428;
          v13 = 261080;
          goto LABEL_18;
        case 2:
          if ( !(unsigned __int8)sub_47A390(a1, v7) )
            goto LABEL_30;
          v16 = 3 * (unsigned __int16)v8 + 72;
          v10 = dword_54E208 + 14328;
          v11 = 52 * (unsigned __int16)v8 + dword_54E208 + 326220;
          v12 = dword_54E208 + 8 * v16;
          v13 = 311892;
          goto LABEL_18;
        case 3:
          if ( !(unsigned __int8)sub_47A390(a1, v7) )
            goto LABEL_30;
          v17 = 3 * (unsigned __int16)v8;
          v10 = dword_54E1F4 + 2052;
          v11 = 52 * (unsigned __int16)v8 + dword_54E1F4 + 18832;
          v12 = dword_54E1F4 + 8 * v17 + 84;
          v13 = 16780;
          goto LABEL_18;
        case 5:
          if ( !(unsigned __int8)sub_47A390(a1, v7) )
            goto LABEL_30;
          v18 = 3 * (unsigned __int16)v8;
          v10 = dword_54E1E4 + 100;
          v11 = 52 * (unsigned __int16)v8 + dword_54E1E4 + 1596;
          v12 = dword_54E1E4 + 8 * v18 + 4;
          v13 = 1496;
LABEL_18:
          if ( sub_47A450(a1) )
            goto LABEL_30;
          v20 = *(_BYTE *)(v12 + 1);
          if ( *(_BYTE *)(v12 + 1) == 1 && v10 )
          {
            if ( *(_DWORD *)(v11 + 12) && v22 > *(_DWORD *)(v11 + 16) + *(_DWORD *)(v12 + 16) )
              goto LABEL_33;
            v21 = a4;
            if ( !a4 )
              v21 = *(_WORD *)(v12 + 4) - a3;
            v19 = *(_DWORD *)(v11 + 4) + (unsigned __int16)a3;
            if ( !v21 || (unsigned int)(unsigned __int16)v21 + v19 > v13 )
LABEL_33:
              v20 = 0;
            else
              memcpy(a5, (const void *)(v10 + v19), (unsigned __int16)v21);
          }
          *(_WORD *)a6 = v21;
          sub_47A430(a1);
          result = v20;
          break;
        default:
LABEL_30:
          result = 0;
          break;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 54E1E0: using guessed type int dword_54E1E0;
// 54E1E4: using guessed type int dword_54E1E4;
// 54E1F4: using guessed type int dword_54E1F4;
// 54E1F8: using guessed type int dword_54E1F8;
// 54E204: using guessed type int dword_54E204;
// 54E208: using guessed type int dword_54E208;

//----- (0047AE30) --------------------------------------------------------
char __cdecl sub_47AE30(char a1, int a2, __int16 a3, __int16 a4, void *a5)
{
  int v5; // ecx@0
  int v7; // [sp+0h] [bp-4h]@1

  v7 = v5;
  return sub_47ABB0(a1, a2, a3, a4, a5, (int)&v7);
}

//----- (0047AE60) --------------------------------------------------------
char __cdecl sub_47AE60(char a1, int a2, void *a3)
{
  int v3; // ecx@0
  int v5; // [sp+0h] [bp-4h]@1

  v5 = v3;
  return sub_47ABB0(a1, a2, 0, 0, a3, (int)&v5);
}

//----- (0047AE90) --------------------------------------------------------
char __cdecl sub_47AE90(char a1, int a2, void *a3, int a4)
{
  return sub_47ABB0(a1, a2, 0, 0, a3, a4);
}

//----- (0047AEC0) --------------------------------------------------------
char __cdecl sub_47AEC0(char a1)
{
  char result; // al@3

  if ( a1 == 6 )
  {
    result = 0;
  }
  else if ( a1 == 7 )
  {
    result = 1;
  }
  else
  {
    sub_478DA0("..\\lib\\acl\\iop\\gia\\iop_gia_data_intf.c", 294, 0, 0);
    result = 2;
  }
  return result;
}

//----- (0047AF00) --------------------------------------------------------
char __thiscall sub_47AF00(void *this)
{
  char result; // al@1
  bool v2; // zf@2
  void *v3; // [sp-2h] [bp-4h]@1

  v3 = this;
  sub_478E30(4, (char *)&v3 + 3);
  result = BYTE3(v3);
  if ( BYTE3(v3) == 1 )
  {
    v2 = SIM_proc_rqst(50) == 0;
    result = 2;
    if ( v2 )
      result = BYTE3(v3);
  }
  return result;
}

//----- (0047AF30) --------------------------------------------------------
int __thiscall sub_47AF30(void *this)
{
  void *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  sub_478E30(46, (char *)&v2);
  return (int)v2;
}

//----- (0047AF50) --------------------------------------------------------
int __cdecl sub_47AF50(char *a1, char a2)
{
  signed int v2; // eax@2
  int result; // eax@4
  int v4; // [sp+8h] [bp-ECh]@1
  char v5; // [sp+24h] [bp-D0h]@4

  v4 = 0;
  if ( a2 == 1 )
    v2 = 2;
  else
    v2 = a2 == 2;
  result = j_HWM_pvg_rgn_get_info(v2, &v4);
  qmemcpy(a1, &v5, 0x74u);
  return result;
}
// 4800C0: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (0047AFC0) --------------------------------------------------------
bool __cdecl sub_47AFC0(int a1, void *a2)
{
  void *v2; // ecx@0
  char v3; // si@1
  char v4; // bl@1
  int v5; // esi@4
  bool result; // al@7

  v3 = sub_47B580(v2);
  v4 = 0;
  do
  {
    if ( (_BYTE)a1 == (char)off_4D22A8[(unsigned __int8)v4](v3) )
    {
      sub_47AF50((char *)a2, v4);
      return 1;
    }
    ++v4;
  }
  while ( (unsigned __int8)v4 < 3u );
  v5 = (unsigned __int16)sub_47C270(a1);
  if ( (unsigned __int16)v5 >= (unsigned __int16)sub_47A370(2) )
    result = 0;
  else
    result = sub_47AE60(2, v5, a2) == 1 && !sub_47BFF0(a2);
  return result;
}
// 4D22A8: using guessed type int (__cdecl *off_4D22A8[3])(char);

//----- (0047B080) --------------------------------------------------------
char __cdecl sub_47B080(int a1, bool *a2)
{
  char result; // al@3
  char v3; // [sp+8h] [bp-78h]@2
  int v4; // [sp+78h] [bp-8h]@3

  switch ( (unsigned __int8)a1 )
  {
    case 1u:
    case 4u:
    case 7u:
    case 0xAu:
      if ( sub_47AFC0(a1, &v3) )
      {
        *a2 = (v4 & 1) == 1;
        result = 1;
      }
      else
      {
        result = 0;
      }
      break;
    default:
      *a2 = sub_47C250(a1) != 67;
      result = 1;
      break;
  }
  return result;
}

//----- (0047B140) --------------------------------------------------------
char __cdecl sub_47B140(int a1, char a2)
{
  bool v2; // dl@1
  char result; // al@2
  int v4; // edi@4
  unsigned __int8 v5; // cl@6
  int v6; // eax@7
  char v7; // [sp+6h] [bp-2h]@1
  bool v8; // [sp+7h] [bp-1h]@1

  v2 = dword_54E210 != 1379255385;
  v7 = 0;
  v8 = dword_54E210 != 1379255385;
  if ( (unsigned __int8)a1 < 2u )
  {
    if ( v2 )
    {
      v4 = sub_47FBF0(86, 10);
      memset((char *)&unk_54E218 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
      sub_47C440(a1, (int)&unk_54E218 + 2720 * (unsigned __int8)a1);
      v2 = v8;
    }
    else
    {
      v4 = a1;
    }
    v5 = 0;
    while ( 1 )
    {
      v6 = 4 * (680 * (unsigned __int8)a1 + v5);
      if ( byte_54E4F0[v6] == a2 || byte_54E4F1[v6] == a2 )
        break;
      if ( ++v5 >= 8u )
        goto LABEL_12;
    }
    v7 = 1;
LABEL_12:
    if ( v2 )
      sub_47FBC0(v4, 86);
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 54E210: using guessed type int dword_54E210;

//----- (0047B200) --------------------------------------------------------
char __cdecl sub_47B200(char a1)
{
  char result; // al@1
  int v2; // esi@1

  result = 0;
  v2 = 0;
  do
  {
    if ( result )
      break;
    result = sub_47B140(v2++, a1);
  }
  while ( v2 < 2 );
  return result;
}

//----- (0047B230) --------------------------------------------------------
char __cdecl sub_47B230(char a1)
{
  char result; // al@1

  result = -80;
  switch ( a1 )
  {
    case 3:
      result = -126;
      break;
    case 4:
      result = -123;
      break;
    case 5:
      result = -108;
      break;
    case 6:
      result = -105;
      break;
    default:
      return result;
  }
  return result;
}

//----- (0047B270) --------------------------------------------------------
char __cdecl sub_47B270(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 74;
      break;
    case 1:
      result = 73;
      break;
    case 2:
      result = 75;
      break;
    case 3:
      result = -127;
      break;
    case 4:
      result = -124;
      break;
    case 5:
      result = -109;
      break;
    case 6:
      result = -106;
      break;
    default:
      sub_478DA0("..\\lib\\adl\\iop_cdu_unit_intf.c", 564, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (0047B2E0) --------------------------------------------------------
signed int __cdecl sub_47B2E0(char a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 0:
      result = 4;
      break;
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 3:
      result = 64;
      break;
    case 4:
      result = 128;
      break;
    case 5:
      result = 16;
      break;
    case 6:
      result = 32;
      break;
    default:
      sub_478DA0("..\\lib\\adl\\iop_cdu_unit_intf.c", 638, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (0047B360) --------------------------------------------------------
char __cdecl sub_47B360(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 13;
      break;
    case 1:
      result = 12;
      break;
    case 2:
      result = 14;
      break;
    case 3:
      result = -128;
      break;
    case 4:
      result = -125;
      break;
    case 5:
      result = -110;
      break;
    case 6:
      result = -107;
      break;
    default:
      sub_478DA0("..\\lib\\adl\\iop_cdu_unit_intf.c", 712, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (0047B3D0) --------------------------------------------------------
char __cdecl sub_47B3D0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 3:
      result = 0;
      break;
    case 4:
      result = 1;
      break;
    case 5:
      result = 2;
      break;
    case 0x28:
      result = 3;
      break;
    case 0x29:
      result = 4;
      break;
    case 0x33:
      result = 5;
      break;
    case 0x34:
      result = 6;
      break;
    default:
      sub_478DA0("..\\lib\\adl\\iop_cdu_unit_intf.c", 786, 0, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (0047B480) --------------------------------------------------------
char __cdecl sub_47B480(int a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 4:
      result = 0;
      break;
    case 64:
      result = 3;
      break;
    case 128:
      result = 4;
      break;
    case 16:
      result = 5;
      break;
    case 32:
      result = 6;
      break;
    default:
      sub_478DA0("..\\lib\\adl\\iop_cdu_unit_intf.c", 1096, 1, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (0047B580) --------------------------------------------------------
char __thiscall sub_47B580(void *this)
{
  int v1; // eax@1

  v1 = sub_47AF30(this);
  return sub_47B480(v1);
}

//----- (0047B590) --------------------------------------------------------
double __cdecl sub_47B590(int a1)
{
  double v1; // st6@1

  v1 = (double)(unsigned int)((*(int (**)(void))(dword_5DAB14 + 8))() - a1);
  return (float)(1.0 / (double)(*(int (**)(void))(dword_5DAB14 + 12))() * v1);
}
// 5DAB14: using guessed type int dword_5DAB14;

//----- (0047B5E0) --------------------------------------------------------
char __cdecl sub_47B5E0(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  int v4; // ecx@2
  int v5; // [sp+0h] [bp-Ch]@1
  __int16 v6; // [sp+4h] [bp-8h]@2
  int v7; // [sp+8h] [bp-4h]@2

  result = (*(int (__cdecl **)(int, signed int, int *))dword_5DAAFC)(a1, 12, &v5);
  if ( result )
  {
    v3 = v6;
    *(_DWORD *)a2 = v5;
    v4 = v7 & 0xFFFFFF;
    *(_WORD *)(a2 + 4) = v3;
    *(_DWORD *)(a2 + 8) = v4;
    result = 1;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (0047B630) --------------------------------------------------------
char __cdecl sub_47B630(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  __int16 v4; // cx@2
  __int16 v5; // dx@2
  __int16 v6; // cx@2
  int v7; // edx@2
  __int16 v8; // cx@2
  unsigned int v9; // ecx@2
  int v10; // edx@2
  __int16 v11; // [sp+0h] [bp-1Ch]@1
  __int16 v12; // [sp+2h] [bp-1Ah]@2
  __int16 v13; // [sp+4h] [bp-18h]@2
  __int16 v14; // [sp+6h] [bp-16h]@2
  __int16 v15; // [sp+8h] [bp-14h]@2
  int v16; // [sp+Ah] [bp-12h]@2
  __int16 v17; // [sp+Eh] [bp-Eh]@2
  int v18; // [sp+12h] [bp-Ah]@2
  unsigned int v19; // [sp+16h] [bp-6h]@2
  char v20; // [sp+1Ah] [bp-2h]@2

  result = (*(int (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(a1, 27, &v11);
  if ( result )
  {
    v3 = v12;
    *(_WORD *)a2 = v11;
    v4 = v13;
    *(_WORD *)(a2 + 2) = v3;
    v5 = v14;
    *(_WORD *)(a2 + 4) = v4;
    v6 = v15;
    *(_WORD *)(a2 + 6) = v5;
    *(_DWORD *)(a2 + 12) = v16;
    v7 = v18;
    *(_WORD *)(a2 + 8) = v6;
    v8 = v17;
    *(_DWORD *)(a2 + 20) = v7;
    *(_WORD *)(a2 + 16) = v8;
    v9 = v19;
    *(_DWORD *)(a2 + 24) = v19 & 3;
    *(_DWORD *)(a2 + 28) = (v9 >> 2) & 1;
    v10 = (v9 >> 3) & 3;
    *(_DWORD *)(a2 + 36) = (v9 >> 5) & 1;
    LOBYTE(v9) = v20;
    *(_DWORD *)(a2 + 32) = v10;
    *(_BYTE *)(a2 + 40) = ((unsigned __int8)v9 >> 3) & 7;
    *(_BYTE *)(a2 + 41) = (unsigned __int8)v9 >> 6;
    result = 1;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (0047B6E0) --------------------------------------------------------
char __cdecl sub_47B6E0(int a1, int a2)
{
  char result; // al@1
  char v3; // ah^2@2
  __int16 v4; // dx@2
  __int16 v5; // dx@2
  int v6; // [sp+0h] [bp-8h]@1
  unsigned int v7; // [sp+4h] [bp-4h]@2

  result = (*(int (__cdecl **)(int, signed int, int *))dword_5DAAFC)(a1, 8, &v6);
  if ( result )
  {
    v3 = BYTE3(v6);
    *(_DWORD *)a2 = v6 & 0xFFFFFF;
    LOBYTE(v4) = 0;
    HIBYTE(v4) = v3;
    v5 = (unsigned __int8)v7 ^ v4;
    *(_DWORD *)(a2 + 8) = v7 >> 8;
    *(_WORD *)(a2 + 4) = v5;
    result = 1;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (0047B740) --------------------------------------------------------
char __cdecl sub_47B740(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  int v4; // esi@2
  unsigned int v5; // ecx@2
  __int16 v6; // [sp+0h] [bp-14h]@1
  __int16 v7; // [sp+2h] [bp-12h]@2
  __int16 v8; // [sp+4h] [bp-10h]@2
  __int16 v9; // [sp+6h] [bp-Eh]@2
  __int16 v10; // [sp+8h] [bp-Ch]@2
  unsigned __int16 v11; // [sp+Ah] [bp-Ah]@2
  int v12; // [sp+Ch] [bp-8h]@2
  char v13; // [sp+12h] [bp-2h]@2

  result = (*(int (__cdecl **)(int, signed int, __int16 *))dword_5DAAFC)(a1, 19, &v6);
  if ( result )
  {
    v3 = v7;
    *(_WORD *)a2 = v6;
    *(_WORD *)(a2 + 4) = v8;
    *(_WORD *)(a2 + 8) = v10;
    *(_WORD *)(a2 + 2) = v3;
    v4 = v11;
    *(_WORD *)(a2 + 6) = v9;
    LOBYTE(v3) = v13;
    *(_DWORD *)(a2 + 12) = v4 + ((v13 & 7) << 16);
    *(_WORD *)(a2 + 16) = v12 & 0x3FFF;
    v5 = *(int *)((char *)&v12 + 2);
    *(_DWORD *)(a2 + 20) = *(int *)((char *)&v12 + 2) & 0xFFFFFF;
    *(_DWORD *)(a2 + 24) = (v5 >> 24) & 3;
    *(_DWORD *)(a2 + 28) = (v5 >> 26) & 1;
    *(_DWORD *)(a2 + 36) = (v5 >> 29) & 1;
    *(_DWORD *)(a2 + 32) = (v5 >> 27) & 3;
    *(_BYTE *)(a2 + 40) = ((unsigned __int8)v3 >> 3) & 7;
    *(_BYTE *)(a2 + 41) = (unsigned __int8)v3 >> 6;
    result = 1;
  }
  return result;
}
// 5DAAFC: using guessed type int dword_5DAAFC;

//----- (0047B810) --------------------------------------------------------
char __cdecl sub_47B810(char *a1)
{
  int v1; // ecx@0
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  sub_478E30(13, (char *)&v3 + 3);
  sub_478E30(12, a1);
  return BYTE3(v3);
}

//----- (0047B840) --------------------------------------------------------
signed int __cdecl sub_47B840(_BYTE *a1, char a2, int a3)
{
  signed int result; // eax@1

  result = -4;
  if ( a3 && a3 != 1 || (!*a1 || *a1 == 1 ? (result = 0) : (result = -2), a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_11;
  }
  if ( result )
  {
LABEL_11:
    *a1 = a2;
    result = 1;
  }
  return result;
}

//----- (0047B890) --------------------------------------------------------
int __cdecl sub_47B890(int a1, float a2, float a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // esi@1
  char v7; // dl@4
  char v8; // al@4
  char v9; // dl@4
  int result; // eax@5
  double v11; // st7@7
  unsigned int v12; // eax@21

  v5 = a1;
  v6 = a1 & 3;
  if ( a1 & 3 || (unsigned int)&a1 & 3 )
  {
    v7 = *(_BYTE *)(a1 + 1);
    LOBYTE(a1) = *(_BYTE *)a1;
    v8 = *(_BYTE *)(v5 + 2);
    BYTE1(a1) = v7;
    v9 = *(_BYTE *)(v5 + 3);
    BYTE2(a1) = v8;
    BYTE3(a1) = v9;
  }
  else
  {
    a1 = *(int *)a1;
  }
  result = -4;
  if ( a5 && a5 != 1
    || ((v11 = *(float *)&a1, (a1 & 0x7F800000) != 2139095040) ? (a2 <= v11 ? (a3 >= v11 ? (result = 0) : (result = -2)) : (result = -1)) : (result = -3),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v12 = a4;
    *(_BYTE *)(v5 + 1) = BYTE1(a4);
    *(_BYTE *)v5 = v12;
    *(_BYTE *)(v5 + 3) = BYTE3(v12);
    *(_BYTE *)(v5 + 2) = v12 >> 16;
    result = 1;
  }
  else
  {
    *(_DWORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (0047B980) --------------------------------------------------------
unsigned int __cdecl sub_47B980(char *a1, char a2, char a3, char a4, int a5)
{
  char v5; // dl@1
  unsigned int result; // eax@1
  int v7; // eax@5

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1
    || (v5 >= a2 ? (v7 = v5 < a3, LOBYTE(v7) = v5 <= a3, result = (v7 - 1) & 0xFFFFFFFE) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (0047B9D0) --------------------------------------------------------
unsigned int __cdecl sub_47B9D0(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  unsigned int result; // eax@1
  _BYTE *v8; // esi@3
  int v9; // eax@9
  signed int v10; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((signed int)v8 >= a2 ? (v9 = (signed int)v8 < a3,
                                LOBYTE(v9) = (signed int)v8 <= a3,
                                result = (v9 - 1) & 0xFFFFFFFE) : (result = -1),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v10 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v10;
    v5[3] = BYTE3(v10);
    v5[2] = v10 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (0047BA90) --------------------------------------------------------
unsigned int __cdecl sub_47BA90(void *a1, size_t a2, int a3)
{
  unsigned int result; // eax@1
  int v4; // eax@3
  int v5; // ecx@3
  unsigned int v6; // ecx@3

  result = -4;
  if ( a3 && a3 != 1
    || (v4 = sub_477A30(a1, a2), v5 = v4 < 0, LOBYTE(v5) = v4 >= 0, v6 = (v5 - 1) & 0xFFFFFFFC, result = v6, a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_7;
  }
  if ( v6 )
  {
LABEL_7:
    memset(a1, 0, a2);
    result = 1;
  }
  return result;
}

//----- (0047BAF0) --------------------------------------------------------
int __cdecl sub_47BAF0(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5)
{
  unsigned __int8 v5; // dl@1
  int result; // eax@1

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1 || (v5 >= a2 ? (result = a3 < v5 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (0047BB40) --------------------------------------------------------
int __cdecl sub_47BB40(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5)
{
  _BYTE *v5; // edx@1
  int v6; // esi@1
  int result; // eax@1
  char v8; // ah@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 1;
  result = -4;
  if ( (unsigned __int8)a1 & 1 || (unsigned int)&a1 & 1 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
  }
  else
  {
    a1 = (_BYTE *)*(_WORD *)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned __int16)a1 >= a2 ? (result = a3 < (unsigned __int16)a1 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 1 || v6 )
  {
    v8 = HIBYTE(a4);
    *v5 = a4;
    v5[1] = v8;
    result = 1;
  }
  else
  {
    *(_WORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (0047BBE0) --------------------------------------------------------
int __cdecl sub_47BBE0(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  int result; // eax@1
  _BYTE *v8; // esi@3
  unsigned int v9; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned int)v8 >= a2 ? (result = a3 < (unsigned int)v8 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v9 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v9;
    v5[3] = BYTE3(v9);
    v5[2] = v9 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (0047BDA0) --------------------------------------------------------
int __cdecl sub_47BDA0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_41AB20(&a1, 1u, (int)&unk_4EA508, 8, 4, 4);
  if ( v1 == 4 )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_intf.c", 437, 0, 0);
    result = 42066;
  }
  else
  {
    result = dword_4EA50C[2 * v1];
  }
  return result;
}
// 4EA50C: using guessed type int dword_4EA50C[];

//----- (0047BDF0) --------------------------------------------------------
bool __cdecl sub_47BDF0(void *a1)
{
  char v1; // cl@1

  v1 = sub_47AE60(1, 1946, a1);
  *((_DWORD *)a1 + 1) /= 0x3E8u;
  return v1 && !sub_479FD0((int)a1);
}

//----- (0047BE30) --------------------------------------------------------
char __cdecl sub_47BE30(char a1)
{
  return byte_4EC9D9[2 * (unsigned __int8)sub_41AB20(&a1, 1u, (int)&unk_4EC9D8, 2, 4, 3)];
}

//----- (0047BE60) --------------------------------------------------------
char __cdecl sub_47BE60(char a1, void *a2)
{
  void *v3; // esi@6
  char v4; // al@6

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v3 = a2;
      v4 = sub_47AE60(1, 546, a2);
    }
    else
    {
      if ( a1 != 2 )
      {
        sub_478DA0("..\\lib\\acl\\iop\\iop_com_intf.c", 187, 0, 0);
        return 0;
      }
      v3 = a2;
      v4 = sub_47BDF0(a2);
    }
  }
  else
  {
    v3 = a2;
    v4 = sub_47AE60(1, 538, a2);
  }
  if ( !v4 || sub_479FD0((int)v3) )
    return 0;
  return 1;
}

//----- (0047BEE0) --------------------------------------------------------
int __cdecl sub_47BEE0(char a1, _DWORD *a2)
{
  int result; // eax@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1

  v3 = 0;
  v4 = 0;
  LOBYTE(result) = sub_47BE60(a1, &v3);
  *a2 = v4;
  return result;
}

//----- (0047BF30) --------------------------------------------------------
int __cdecl sub_47BF30(unsigned __int8 *a1)
{
  return sub_47BAF0(a1, 0, 0, 0, 0);
}

//----- (0047BF50) --------------------------------------------------------
unsigned int __cdecl sub_47BF50(void *a1)
{
  return sub_47BA90(a1, 0xCu, 0);
}

//----- (0047BF70) --------------------------------------------------------
unsigned int __cdecl sub_47BF70(void *a1)
{
  return sub_47BA90(a1, 0x20u, 0);
}

//----- (0047BF90) --------------------------------------------------------
unsigned int __cdecl sub_47BF90(void *a1)
{
  return sub_47BA90(a1, 0x1Cu, 0);
}

//----- (0047BFB0) --------------------------------------------------------
unsigned int __cdecl sub_47BFB0(void *a1)
{
  return sub_47BA90(a1, 0x10u, 0);
}

//----- (0047BFD0) --------------------------------------------------------
unsigned int __cdecl sub_47BFD0(void *a1)
{
  return sub_47BA90(a1, 8u, 0);
}

//----- (0047BFF0) --------------------------------------------------------
unsigned int __cdecl sub_47BFF0(void *a1)
{
  unsigned int result; // eax@1

  result = sub_47BF70((char *)a1 + 64);
  if ( !result )
  {
    result = sub_47BF90((char *)a1 + 36);
    if ( !result )
    {
      result = sub_47BFB0(a1);
      if ( !result )
      {
        result = sub_47BF50((char *)a1 + 96);
        if ( !result )
        {
          result = sub_47BF50((char *)a1 + 24);
          if ( !result )
            result = sub_47BFD0((char *)a1 + 16);
        }
      }
    }
  }
  return result;
}

//----- (0047C050) --------------------------------------------------------
int __cdecl sub_47C050(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_47BAF0(a1, 0, 0x7Fu, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (0047C080) --------------------------------------------------------
int __cdecl sub_47C080(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  int result; // eax@1
  unsigned int v4; // edx@1
  char v5; // bl@8
  char v6; // dl@13
  char v7; // cl@13

  v2 = a2 / 0x15180 % 0x5B5;
  result = a1;
  v4 = 4 * (a2 / 0x15180 / 0x5B5) + 1990;
  *(_WORD *)(a1 + 2) = v4;
  if ( v2 > 0x16D )
  {
    do
    {
      v2 -= 365;
      if ( !((unsigned __int16)v4 % 4) )
        --v2;
      LOWORD(v4) = v4 + 1;
    }
    while ( v2 > 0x16D );
    *(_WORD *)(a1 + 2) = v4;
  }
  if ( v2 >= 1 )
  {
    v5 = 0;
    if ( v2 > 0x3B && !(*(_WORD *)(a1 + 2) % 4) )
    {
      --v2;
      v5 = 1;
    }
    *(_BYTE *)a1 = 12;
    if ( v2 <= 0x14E )
    {
      do
        --*(_BYTE *)a1;
      while ( v2 <= *(_WORD *)&word_4EF53E[2 * *(_BYTE *)a1] );
    }
    v6 = *(_BYTE *)a1;
    v7 = v2 - word_4EF53E[2 * *(_BYTE *)a1];
    *(_BYTE *)(a1 + 1) = v7;
    if ( v5 == 1 && v6 == 2 )
      *(_BYTE *)(a1 + 1) = v7 + 1;
  }
  else
  {
    --*(_WORD *)(a1 + 2);
    *(_BYTE *)a1 = 12;
    *(_BYTE *)(a1 + 1) = 31;
  }
  return result;
}

//----- (0047C170) --------------------------------------------------------
__int16 __cdecl sub_47C170(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  __int16 result; // ax@1

  v2 = a2 % 0x15180 % 0xE10;
  *(_WORD *)a1 = a2 % 0x15180 / 0xE10;
  *(_BYTE *)(a1 + 2) = v2 / 0x3C;
  result = 60 * (char)(v2 / 0x3C);
  *(_BYTE *)(a1 + 3) = v2 % 0x3C;
  return result;
}

//----- (0047C1C0) --------------------------------------------------------
__int16 __cdecl sub_47C1C0(unsigned int *a1, _WORD *a2, _WORD *a3)
{
  unsigned int v3; // esi@1
  __int16 result; // ax@1
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1

  v3 = *a1;
  sub_47C170((int)&v5, *a1);
  sub_47C080((int)&v6, v3);
  *a3 = (unsigned __int8)(BYTE3(v5) >> 1) | (unsigned __int16)(32 * (BYTE2(v5) | (unsigned __int16)((_WORD)v5 << 6)));
  result = BYTE1(v6);
  *a2 = BYTE1(v6) | (unsigned __int16)(32 * ((unsigned __int8)v6 | (unsigned __int16)(16 * (HIWORD(v6) - 60))));
  return result;
}

//----- (0047C240) --------------------------------------------------------
signed int __fastcall sub_47C240(unsigned __int8 a1)
{
  signed int result; // eax@1

  result = 176;
  if ( a1 < 0xB0u )
    result = a1;
  return result;
}

//----- (0047C250) --------------------------------------------------------
char __cdecl sub_47C250(unsigned __int8 a1)
{
  return byte_4EF55C[6 * sub_47C240(a1)];
}

//----- (0047C270) --------------------------------------------------------
__int16 __cdecl sub_47C270(unsigned __int8 a1)
{
  return word_4EF558[3 * sub_47C240(a1)];
}
// 4EF558: using guessed type __int16 word_4EF558[];

//----- (0047C290) --------------------------------------------------------
signed int __cdecl sub_47C290(char a1, char a2)
{
  _DWORD *v2; // esi@3
  int v3; // eax@5
  char *v5; // [sp-18h] [bp-20h]@3
  void *v6; // [sp-10h] [bp-18h]@3
  int v7; // [sp-8h] [bp-10h]@3

  if ( a2 == 11 )
  {
    v7 = 3;
    v2 = &unk_4EFA60;
    v6 = &unk_4EFA60;
    v5 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v7 = 7;
    v2 = &unk_4EFA78;
    v6 = &unk_4EFA78;
    v5 = &a1;
  }
  v3 = sub_41AB20(v5, 1u, (int)v6, 8, v7, 7);
  if ( v3 < 7 )
    return v2[2 * v3 + 1];
  return 42066;
}

//----- (0047C2F0) --------------------------------------------------------
int __cdecl sub_47C2F0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_41AB20(&a1, 1u, (int)&unk_4EFAC0, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_4EFAC4[2 * v1];
  return result;
}
// 4EFAC4: using guessed type int dword_4EFAC4[];

//----- (0047C330) --------------------------------------------------------
signed int __cdecl sub_47C330(char a1, char a2, char a3)
{
  _DWORD *v3; // esi@3
  int v4; // eax@5
  signed int result; // eax@7
  char *v6; // [sp-18h] [bp-20h]@3
  void *v7; // [sp-10h] [bp-18h]@3

  if ( a2 == 11 )
  {
    v3 = &unk_4EFAD0;
    v7 = &unk_4EFAD0;
    v6 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v3 = &unk_4EFAE8;
    v7 = &unk_4EFAE8;
    v6 = &a1;
  }
  v4 = sub_41AB20(v6, 1u, (int)v7, 12, 2, 2);
  if ( v4 == 2 )
    return 42066;
  if ( a3 )
    result = v3[3 * v4 + 1];
  else
    result = v3[3 * v4 + 2];
  return result;
}

//----- (0047C3A0) --------------------------------------------------------
int __cdecl sub_47C3A0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_41AB20(&a1, 1u, (int)&unk_4EFB00, 8, 3, 3);
  if ( v1 == 3 )
    result = 42066;
  else
    result = dword_4EFB04[2 * v1];
  return result;
}
// 4EFB04: using guessed type int dword_4EFB04[];

//----- (0047C3E0) --------------------------------------------------------
int __cdecl sub_47C3E0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_41AB20(&a1, 1u, (int)&unk_4EFB18, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_4EFB1C[2 * v1];
  return result;
}
// 4EFB1C: using guessed type int dword_4EFB1C[];

//----- (0047C420) --------------------------------------------------------
char __cdecl sub_47C420(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_47C290(a1, 11);
  return sub_47F960(v2, a2, 24);
}

//----- (0047C440) --------------------------------------------------------
char __cdecl sub_47C440(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_47C2F0(a1);
  return sub_47F960(v2, a2, 2720);
}

//----- (0047C470) --------------------------------------------------------
char __cdecl sub_47C470(char a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@1

  v2 = sub_47C330(a1, 11, 1);
  sub_47F960(v2, a2, 36);
  v3 = sub_47C330(a1, 11, 0);
  return sub_47F960(v3, a2 + 36, 32);
}

//----- (0047C4C0) --------------------------------------------------------
char __cdecl sub_47C4C0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_47C3A0(a1);
  return sub_47F960(v2, a2, 2192);
}

//----- (0047C4F0) --------------------------------------------------------
char __cdecl sub_47C4F0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_47C3E0(a1);
  return sub_47F960(v2, a2, 60);
}

//----- (0047C510) --------------------------------------------------------
char __cdecl sub_47C510(int a1)
{
  return sub_47F960(6453, a1, 5);
}

//----- (0047C530) --------------------------------------------------------
bool __cdecl sub_47C530(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  char v4; // dl@5
  bool result; // al@5

  v3 = a2;
  if ( a2 >= 0xFFu || a2 > 1u )
  {
    result = 0;
  }
  else
  {
    if ( dword_551140 != 1379255385 )
    {
      sub_47C420(a1, 24 * (unsigned __int8)a1 + 5574984);
      v3 = a2;
    }
    v4 = byte_55114D[4 * (v3 + 6 * (unsigned __int8)a1)];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_55114C[4 * (v3 + 6 * (unsigned __int8)a1)];
    result = (unsigned __int8)v4 < 0xBu;
  }
  return result;
}
// 551140: using guessed type int dword_551140;

//----- (0047C5A0) --------------------------------------------------------
bool __cdecl sub_47C5A0(char a1, unsigned __int8 a2, int a3)
{
  bool result; // al@2

  if ( a2 < 1u )
  {
    if ( dword_551140 != 1379255385 )
      sub_47C420(a1, 24 * (unsigned __int8)a1 + 5574984);
    *(_DWORD *)a3 = dword_55115C[a2 + 6 * (unsigned __int8)a1];
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 551140: using guessed type int dword_551140;
// 55115C: using guessed type int dword_55115C[];

//----- (0047C600) --------------------------------------------------------
bool __cdecl sub_47C600(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  bool result; // al@1
  int v5; // edx@5

  v3 = a2;
  result = 0;
  if ( (a2 & 0x80u) == 0 && a2 <= 1u )
  {
    if ( dword_551140 != 1379255385 )
    {
      sub_47C420(a1, 24 * (unsigned __int8)a1 + 5574984);
      v3 = a2;
    }
    v5 = dword_551154[v3 + 6 * (unsigned __int8)a1];
    *(_DWORD *)a3 = v5;
    result = (unsigned __int8)v5 < 0x13u && *(_BYTE *)(a3 + 1) < 0x13u;
  }
  return result;
}
// 551140: using guessed type int dword_551140;
// 551154: using guessed type int dword_551154[];

//----- (0047C670) --------------------------------------------------------
char __cdecl sub_47C670(char a1, _BYTE *a2)
{
  if ( dword_551140 != 1379255385 )
    sub_47C420(a1, 24 * (unsigned __int8)a1 + 5574984);
  *a2 = byte_551148[24 * (unsigned __int8)a1];
  return 1;
}
// 551140: using guessed type int dword_551140;

//----- (0047C6B0) --------------------------------------------------------
char __cdecl sub_47C6B0(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_47B2E0(a1);
  v3 = sub_4804B0(a2, 0, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (0047C6E0) --------------------------------------------------------
char __cdecl sub_47C6E0(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_47B2E0(a1);
  v3 = sub_480520(a2, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (0047C8E0) --------------------------------------------------------
char __cdecl sub_47C8E0(char a1)
{
  char result; // al@1

  result = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
      result = sub_47B200(11);
  }
  else
  {
    result = sub_47B200(5);
  }
  return result;
}

//----- (0047C910) --------------------------------------------------------
char __usercall sub_47C910@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4)
{
  char result; // al@1

  memset(a3, 0, (unsigned __int16)a2);
  result = 0;
  if ( a4 )
  {
    if ( a4 == 1 )
      result = sub_47AE30(6, 8, a1, a2, a3);
  }
  else
  {
    result = sub_47AE30(6, 5, a1, a2, a3);
  }
  return result;
}

//----- (0047C950) --------------------------------------------------------
void *__usercall sub_47C950@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4)
{
  int v4; // edi@1
  void *result; // eax@4

  v4 = 0;
  if ( dword_551190 == 1379255385 )
    goto LABEL_4;
  v4 = sub_47FBF0(86, 10);
  if ( !v4 )
  {
    memset((char *)&unk_551198 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
    sub_47C440(a1, (int)&unk_551198 + 2720 * (unsigned __int8)a1);
LABEL_4:
    result = memcpy(a4, (char *)&unk_551198 + 2720 * (unsigned __int8)a1 + (unsigned __int16)a2, (unsigned __int16)a3);
    goto LABEL_6;
  }
  result = memset(a4, 0, (unsigned __int16)a3);
LABEL_6:
  if ( dword_551190 != 1379255385 )
    result = (void *)sub_47FBC0(v4, 86);
  return result;
}
// 551190: using guessed type int dword_551190;

//----- (0047C9F0) --------------------------------------------------------
char __cdecl sub_47C9F0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 <= 0xAu )
    result = sub_47C910(4 * (a2 + 6), 4, a3, a1);
  return result;
}

//----- (0047CA30) --------------------------------------------------------
bool __cdecl sub_47CA30(char a1, char a2, void *a3)
{
  bool result; // al@1
  unsigned __int8 v4; // al@3

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 <= 0xAu )
  {
    sub_47C950(a1, 4 * ((unsigned __int8)a2 + 6), 4, a3);
    v4 = *((_BYTE *)a3 + 1);
    result = v4 < 0x33u || v4 >= 0x64u && v4 <= 0x81u || v4 >= 0x96u && v4 <= 0x9Eu;
  }
  return result;
}

//----- (0047CA90) --------------------------------------------------------
char __cdecl sub_47CA90(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xAu )
    result = sub_47C910(a2, 1, a3, a1);
  return result;
}

//----- (0047CAD0) --------------------------------------------------------
char __cdecl sub_47CAD0(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xAu )
  {
    sub_47C950(a1, (unsigned __int8)a2, 1, a3);
    result = 1;
  }
  return result;
}

//----- (0047CB00) --------------------------------------------------------
char __cdecl sub_47CB00(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xBu )
    result = sub_47C910(a2 + 10, 1, a3, a1);
  return result;
}

//----- (0047CB40) --------------------------------------------------------
char __cdecl sub_47CB40(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xBu )
  {
    sub_47C950(a1, (unsigned __int8)a2 + 10, 1, a3);
    result = 1;
  }
  return result;
}

//----- (0047CB80) --------------------------------------------------------
char __cdecl sub_47CB80(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 2u )
    result = sub_47C910(16 * (a2 + 50), 16, a3, a1);
  return result;
}

//----- (0047CBC0) --------------------------------------------------------
bool __cdecl sub_47CBC0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 2u )
  {
    sub_47C950(a1, 16 * ((unsigned __int8)a2 + 50), 16, a3);
    result = *(_BYTE *)a3 < 8u && *((_BYTE *)a3 + 1) < 8u;
  }
  return result;
}

//----- (0047CC10) --------------------------------------------------------
char __cdecl sub_47CC10(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x29u )
    result = sub_47C910(12 * a2 + 68, 12, a3, a1);
  return result;
}

//----- (0047CC50) --------------------------------------------------------
bool __cdecl sub_47CC50(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x29u )
  {
    sub_47C950(a1, 12 * (unsigned __int8)a2 + 68, 12, a3);
    result = *((_WORD *)a3 + 1) < 0x319u;
  }
  return result;
}

//----- (0047CC90) --------------------------------------------------------
char __cdecl sub_47CC90(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x2Au )
    result = sub_47C910(4 * (a2 + 140), 4, a3, a1);
  return result;
}

//----- (0047CCD0) --------------------------------------------------------
bool __cdecl sub_47CCD0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x2Au )
  {
    sub_47C950(a1, 4 * ((unsigned __int8)a2 + 140), 4, a3);
    result = *((_WORD *)a3 + 1) < 0x145u;
  }
  return result;
}

//----- (0047CD10) --------------------------------------------------------
char __cdecl sub_47CD10(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_47C910(1229, 1, a2, a1);
  return result;
}

//----- (0047CD40) --------------------------------------------------------
char __cdecl sub_47CD40(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_47C950(a1, 1229, 1, a2);
    result = 1;
  }
  return result;
}

//----- (0047CD70) --------------------------------------------------------
char __cdecl sub_47CD70(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_47C910(1212, 16, a2, a1);
  return result;
}

//----- (0047CDA0) --------------------------------------------------------
char __cdecl sub_47CDA0(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_47C950(a1, 1212, 16, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0047CDD0) --------------------------------------------------------
char __cdecl sub_47CDD0(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_47C910(2400, 65, a2, a1);
  return result;
}

//----- (0047CE00) --------------------------------------------------------
char __cdecl sub_47CE00(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_47C950(a1, 2400, 65, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0047CE30) --------------------------------------------------------
char __cdecl sub_47CE30(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 < 8u && (unsigned __int8)a1 < 2u )
    result = sub_47C910(4 * (a2 + 182), 4, a3, a1);
  return result;
}

//----- (0047CE70) --------------------------------------------------------
char __cdecl sub_47CE70(char a1, char a2, void *a3)
{
  char result; // al@2

  if ( (unsigned __int8)a2 > 7u )
    result = sub_478DA0("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 1428, 0, 0);
  else
    result = (unsigned int)sub_47C950(a1, 4 * ((unsigned __int8)a2 + 182), 4, a3);
  return result;
}

//----- (0047CEC0) --------------------------------------------------------
char __cdecl sub_47CEC0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 <= 4u )
    result = sub_47C910(8 * (a2 + 95), 8, a3, a1);
  return result;
}

//----- (0047CF00) --------------------------------------------------------
char __cdecl sub_47CF00(char a1, char a2, void *a3)
{
  char result; // al@1

  result = a2;
  if ( (unsigned __int8)a2 <= 4u )
    result = (unsigned int)sub_47C950(a1, 8 * ((unsigned __int8)a2 + 95), 8, a3);
  return result;
}

//----- (0047CF30) --------------------------------------------------------
char __cdecl sub_47CF30(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_47C910(22, 1, a2, a1);
  return result;
}

//----- (0047CF60) --------------------------------------------------------
char __cdecl sub_47CF60(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_47C910(832, 4, a2, a1);
  return result;
}

//----- (0047CF90) --------------------------------------------------------
char __cdecl sub_47CF90(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_47C950(a1, 832, 4, a2);
    result = 1;
  }
  return result;
}

//----- (0047D360) --------------------------------------------------------
char sub_47D360()
{
  char v1; // [sp+4h] [bp-100h]@1

  memset(&v1, 0, 0xFCu);
  if ( sub_47AE60(1, 1309, &v1) )
    sub_47A0C0((int)&v1);
  return 0;
}

//----- (0047D400) --------------------------------------------------------
BOOL __cdecl sub_47D400(int a1, int a2)
{
  return sub_47F940(6455, a2, 252) == 0;
}

//----- (0047D460) --------------------------------------------------------
int __cdecl sub_47D460(char a1, char a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = dword_4F3E8C[2 * sub_41AB20(&a1, 1u, (int)&unk_4F3E88, 8, 3, 3)];
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = v2 + dword_4F3ECC[2 * sub_41AB20(&a2, 1u, (int)&unk_4F3EC8, 8, 6, 6)];
    }
    else if ( a1 == 2 )
    {
      result = v2 + dword_4F3EFC[2 * sub_41AB20(&a2, 1u, (int)&unk_4F3EF8, 8, 5, 5)];
    }
    else
    {
      result = v2;
    }
  }
  else
  {
    result = v2 + dword_4F3EA4[2 * sub_41AB20(&a2, 1u, (int)&unk_4F3EA0, 8, 5, 5)];
  }
  return result;
}
// 4F3E8C: using guessed type int dword_4F3E8C[];
// 4F3EA4: using guessed type int dword_4F3EA4[];
// 4F3ECC: using guessed type int dword_4F3ECC[];
// 4F3EFC: using guessed type int dword_4F3EFC[];

//----- (0047D510) --------------------------------------------------------
bool __usercall sub_47D510@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3)
{
  return a2 == 7 && a3 >= (unsigned __int8)byte_4FF20F[44 * a1] - (unsigned __int8)byte_4FF20A[44 * a1];
}

//----- (0047D540) --------------------------------------------------------
char __usercall sub_47D540@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6)
{
  int v6; // eax@2
  char result; // al@3
  int v8; // eax@4

  if ( sub_47D510(a1, a4, a5) )
  {
    v6 = a3
       + sub_47D460(a1, 6)
       + 36 * (a5 + (unsigned __int8)byte_4FF20A[44 * a1] - (unsigned __int8)byte_4FF20F[44 * a1]);
    if ( *(_BYTE *)(v6 + 2) == 6 )
    {
      memcpy(a6, (const void *)(v6 + 4), a2);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    v8 = sub_47D460(a1, a4);
    memcpy(a6, (const void *)(a3 + v8 + a2 * a5), a2);
    result = 1;
  }
  return result;
}

//----- (0047D5E0) --------------------------------------------------------
char __cdecl sub_47D5E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_47BDA0(a1);
  sub_47F960(v5, (int)&v7, 3684);
  return sub_47D540(a2, 0x2Cu, (int)&v7, a3, a4, a5);
}

//----- (0047D660) --------------------------------------------------------
char __cdecl sub_47D660(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_47BDA0(a1);
  sub_47F960(v5, (int)&v7, 3684);
  return sub_47D540(a2, 3u, (int)&v7, a3, a4, a5);
}

//----- (0047D6E0) --------------------------------------------------------
char __cdecl sub_47D6E0(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_47BDA0(a1);
  sub_47F960(v5, (int)&v7, 3684);
  return sub_47D540(a2, 0x24u, (int)&v7, a3, a4, a5);
}

//----- (0047D760) --------------------------------------------------------
char __cdecl sub_47D760(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_47BDA0(a1);
  sub_47F960(v5, (int)&v7, 3684);
  return sub_47D540(a2, 0xCu, (int)&v7, a3, a4, a5);
}

//----- (0047D7E0) --------------------------------------------------------
char __cdecl sub_47D7E0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xC:
    case 0x3F:
      result = 0;
      break;
    case 0xD:
    case 0x40:
      result = 1;
      break;
    case 0xE:
    case 0x41:
      result = 2;
      break;
    case 0x2A:
    case 0x42:
      result = 3;
      break;
    default:
      sub_478DA0("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_utl.c", 139, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (0047D880) --------------------------------------------------------
BOOL __cdecl sub_47D880(unsigned __int8 a1)
{
  return a1 <= 1u;
}

//----- (0047D890) --------------------------------------------------------
BOOL __usercall sub_47D890@<eax>(unsigned __int8 a1@<al>, char a2)
{
  _BYTE *v2; // ecx@1

  return (unsigned __int8)sub_47D880(a1) && *v2 < 3u && a2 == 24;
}

//----- (0047D8C0) --------------------------------------------------------
bool __cdecl sub_47D8C0(char a1, char a2, unsigned __int8 a3, int a4)
{
  bool v4; // bl@1
  unsigned __int8 v5; // cl@2
  int v6; // esi@3
  char v8; // al@16
  char v9; // cl@16
  char v10; // dl@16
  int v11; // ecx@18
  int v12; // edx@18
  int v13; // eax@18
  char v14; // [sp+Bh] [bp-29h]@3
  int v15; // [sp+Ch] [bp-28h]@9
  struct tm Tm; // [sp+10h] [bp-24h]@5

  v4 = 0;
  if ( a3 < 3u )
  {
    if ( (unsigned __int8)sub_47D880(a1) )
    {
      v6 = 10 * v5;
      if ( sub_47B080((unsigned __int8)byte_4F4E28[20 * v5], (bool *)&v14) )
      {
        if ( v14 )
        {
          if ( !sub_47AE60(1, (unsigned __int16)word_4F4E20[v6], &Tm.tm_mon) || sub_479F80((int)&Tm.tm_mon) )
            return 0;
          v4 = 1;
        }
        else
        {
          if ( !(unsigned __int8)sub_47BEE0(a1, &v15) || v15 != dword_4F4E40[2 * a3] || a2 == 11 )
            return v4;
          Tm.tm_sec = 0;
          Tm.tm_min = 0;
          Tm.tm_hour = 0;
          LOBYTE(Tm.tm_mday) = 0;
          v4 = sub_47AE60(1, (unsigned __int16)word_4F4E24[v6], &Tm) && !_mkgmtime(&Tm);
          v8 = BYTE1(Tm.tm_hour);
          v9 = BYTE2(Tm.tm_min);
          *((_BYTE *)&Tm.tm_mon + 4 * a3) = Tm.tm_min;
          v10 = BYTE2(Tm.tm_hour);
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 2) = v8;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 1) = v9;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 3) = v10;
          if ( !v4 )
            return v4;
        }
        if ( a2 == 11 )
        {
          v11 = Tm.tm_year;
          v12 = Tm.tm_wday;
          *(_DWORD *)a4 = Tm.tm_mon;
          v13 = Tm.tm_yday;
          *(_DWORD *)(a4 + 4) = v11;
          *(_DWORD *)(a4 + 8) = v12;
          *(_DWORD *)(a4 + 12) = v13;
          return v4;
        }
        *(_DWORD *)a4 = *(&Tm.tm_mon + a3);
      }
    }
  }
  return v4;
}
// 4F4E20: using guessed type __int16 word_4F4E20[];
// 4F4E24: using guessed type __int16 word_4F4E24[];
// 4F4E40: using guessed type int dword_4F4E40[];

//----- (0047DA70) --------------------------------------------------------
bool __cdecl sub_47DA70(unsigned __int8 a1, int a2)
{
  bool v2; // dl@1
  unsigned __int8 v3; // cl@1
  bool result; // al@2

  if ( (unsigned __int8)sub_47D880(a1) )
    result = sub_47F940((unsigned __int16)word_4F4E2A[10 * v3], a2, 32) == 0;
  else
    result = v2;
  return result;
}
// 4F4E2A: using guessed type __int16 word_4F4E2A[];

//----- (0047DBA0) --------------------------------------------------------
bool __cdecl sub_47DBA0(unsigned __int8 a1, char a2, unsigned int a3)
{
  int v3; // eax@1
  bool result; // al@5

  v3 = sub_41AB20(&a2, 4u, (int)&dword_4F8898, 12, 3, 3);
  if ( a3 < 0xFFFFFFC2 && a3 && v3 < 3 && a1 < 2u )
  {
    result = sub_47F940((unsigned __int16)word_4F889C[a1 + 6 * v3], a3, (unsigned __int16)word_4F88A0[6 * v3]) == 0;
  }
  else
  {
    sub_478DA0("..\\lib\\acl\\iop\\gtx\\iop_gtx_intf.c", 254, 0, 0);
    result = 0;
  }
  return result;
}
// 4F8898: using guessed type int dword_4F8898;
// 4F889C: using guessed type __int16 word_4F889C[];
// 4F88A0: using guessed type __int16 word_4F88A0[];

//----- (0047DCD0) --------------------------------------------------------
char __cdecl sub_47DCD0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xA:
    case 0x30:
      result = 0;
      break;
    case 0xB:
    case 0x31:
      result = 1;
      break;
    default:
      sub_478DA0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_utl.c", 155, 0, 0);
      result = 2;
      break;
  }
  return result;
}

//----- (0047DD50) --------------------------------------------------------
char __cdecl sub_47DD50(char a1, int a2)
{
  char v2; // cl@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // eax@1
  int v8; // ecx@1
  int v9; // eax@1
  int v10; // ecx@1
  bool v11; // zf@1
  int v12; // eax@3
  int v13; // ecx@3
  char v14; // dl@3
  __int16 v15; // ax@5
  char v16; // dl@5
  int v18; // [sp+4h] [bp-58h]@1
  char v19; // [sp+8h] [bp-54h]@1
  __int64 v20; // [sp+Ch] [bp-50h]@1
  int v21; // [sp+14h] [bp-48h]@1
  int v22; // [sp+18h] [bp-44h]@1
  char v23; // [sp+1Ch] [bp-40h]@1
  __int16 v24; // [sp+1Eh] [bp-3Eh]@1
  int v25; // [sp+20h] [bp-3Ch]@4
  int v26; // [sp+24h] [bp-38h]@4
  char v27; // [sp+28h] [bp-34h]@4
  char v28; // [sp+2Ah] [bp-32h]@1
  char v29; // [sp+2Bh] [bp-31h]@1
  int v30; // [sp+2Ch] [bp-30h]@1
  int v31; // [sp+30h] [bp-2Ch]@1
  int v32; // [sp+34h] [bp-28h]@1
  int v33; // [sp+38h] [bp-24h]@1
  int v34; // [sp+3Ch] [bp-20h]@1
  int v35; // [sp+40h] [bp-1Ch]@1
  int v36; // [sp+44h] [bp-18h]@1
  int v37; // [sp+48h] [bp-14h]@1
  int v38; // [sp+4Ch] [bp-10h]@1
  int v39; // [sp+50h] [bp-Ch]@1
  int v40; // [sp+54h] [bp-8h]@1

  memset(&v23, 0, 0x3Cu);
  v20 = 0i64;
  v21 = 0;
  v22 = 0;
  v18 = 0;
  v19 = 0;
  sub_47C4F0(a1, (int)&v23);
  v2 = v28;
  v3 = v29;
  *(_WORD *)a2 = v24;
  *(_DWORD *)(a2 + 28) = v33;
  v4 = v36;
  *(_BYTE *)(a2 + 12) = v2;
  *(_DWORD *)(a2 + 32) = v34;
  v5 = v37;
  *(_BYTE *)(a2 + 13) = v3;
  *(_DWORD *)(a2 + 36) = v35;
  v6 = v38;
  *(_DWORD *)(a2 + 40) = v4;
  v7 = v30;
  *(_DWORD *)(a2 + 44) = v5;
  v8 = v31;
  *(_DWORD *)(a2 + 16) = v7;
  v9 = v39;
  *(_DWORD *)(a2 + 20) = v8;
  v10 = v40;
  *(_DWORD *)(a2 + 48) = v6;
  v11 = BYTE3(v30) == 1;
  *(_DWORD *)(a2 + 24) = v32;
  *(_DWORD *)(a2 + 52) = v9;
  *(_DWORD *)(a2 + 56) = v10;
  if ( !v11 || sub_47F940(2105, (int)&v20, 16) )
  {
    v12 = v25;
    v13 = v26;
    v14 = v27;
  }
  else
  {
    v13 = *(_DWORD *)((char *)&v20 + 6);
    v12 = *(_DWORD *)((char *)&v20 + 2);
    v14 = BYTE2(v21);
  }
  *(_DWORD *)(a2 + 2) = v12;
  *(_DWORD *)(a2 + 6) = v13;
  *(_BYTE *)(a2 + 10) = v14;
  sub_47C510((int)&v18);
  LOBYTE(v15) = v19;
  v16 = v18;
  v11 = (v19 & 1) == 0;
  *(_BYTE *)(a2 + 63) = BYTE3(v18);
  *(_BYTE *)(a2 + 60) = v16;
  *(_BYTE *)(a2 + 64) = 0;
  if ( !v11 )
    *(_BYTE *)(a2 + 64) = 1;
  *(_BYTE *)(a2 + 65) = 0;
  if ( v15 & 4 )
    *(_BYTE *)(a2 + 65) = 1;
  *(_BYTE *)(a2 + 66) = 0;
  if ( v15 & 2 )
  {
    v15 = *(_WORD *)((char *)&v18 + 1);
    *(_BYTE *)(a2 + 66) = 1;
    *(_WORD *)(a2 + 61) = v15;
  }
  else
  {
    *(_WORD *)(a2 + 61) = *(_WORD *)((char *)&v18 + 1);
  }
  return v15;
}

//----- (0047DEC0) --------------------------------------------------------
int __usercall sub_47DEC0@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@1
  int v5[10]; // [sp+1Ch] [bp-2Ch]@1

  sub_47DD50(a1, (int)&v4);
  result = v5[a3];
  *a2 = result;
  return result;
}
// 47DEC0: using guessed type int var_2C[10];

//----- (0047DF00) --------------------------------------------------------
int __usercall sub_47DF00@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@3
  int v5[4]; // [sp+34h] [bp-14h]@3

  result = a3;
  if ( (unsigned __int8)a3 < 2u && a1 < 2u )
  {
    sub_47DD50(a3, (int)&v4);
    result = v5[a1];
    *a2 = result;
  }
  return result;
}
// 47DF00: using guessed type int var_14[4];

//----- (0047DF40) --------------------------------------------------------
signed int sub_47DF40()
{
  return sub_47FFC0((int)&off_4FA760);
}
// 4FA760: using guessed type char *off_4FA760;

//----- (0047DF50) --------------------------------------------------------
char __cdecl sub_47DF50(unsigned __int8 a1, unsigned __int16 a2, int a3)
{
  int v3; // esi@2
  char result; // al@2

  if ( (unsigned __int8)sub_47DF40() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_5DAB0C + 4 * v3 + 29);
    *(_BYTE *)a3 = *(_BYTE *)(dword_5DAB0C + 4 * v3 + 28);
    result = *(_BYTE *)(a2 + 2 * (3 * a1 + 72) + dword_5DAB0C);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5DAB0C: using guessed type int dword_5DAB0C;

//----- (0047DFB0) --------------------------------------------------------
char __cdecl sub_47DFB0(char a1, void *a2)
{
  int v2; // edx@4
  char result; // al@20

  if ( (unsigned __int8)sub_47DF40() )
  {
    if ( (sub_47C8E0(a1)
       || *(_BYTE *)(dword_5DAB0C + 2 * (3 * (unsigned __int8)a1 + 72))
       && (v2 = dword_5DAB0C + 6 * (unsigned __int8)a1, *(_BYTE *)(dword_5DAB0C + 6 * (unsigned __int8)a1 + 145))
       && *(_BYTE *)(v2 + 146)
       && *(_BYTE *)(v2 + 147)
       && *(_BYTE *)(v2 + 148)
       && *(_BYTE *)(v2 + 149)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 142)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 170)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 168)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 166)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 172)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 174)
       && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 176))
      && *(_BYTE *)(dword_5DAB0C + 2 * (unsigned __int8)a1 + 158)
      && *(_BYTE *)(dword_5DAB0C + 2 * (unsigned __int8)a1 + 159)
      && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 156)
      && *(_BYTE *)((unsigned __int8)a1 + dword_5DAB0C + 162) )
    {
      qmemcpy(a2, (const void *)(dword_5DAB0C + 68 * (unsigned __int8)a1), 0x44u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5DAB0C: using guessed type int dword_5DAB0C;

//----- (0047E0D0) --------------------------------------------------------
char __cdecl sub_47E0D0(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@2
  char result; // al@2

  if ( (unsigned __int8)sub_47DF40() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 2) = *(_BYTE *)(dword_5DAB0C + 4 * v3 + 54);
    *(_BYTE *)a3 = *(_BYTE *)(dword_5DAB0C + 4 * v3 + 52);
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_5DAB0C + 4 * v3 + 53);
    *(_BYTE *)(a3 + 3) = *(_BYTE *)(dword_5DAB0C + 4 * v3 + 55);
    result = *(_BYTE *)(a2 + 2 * a1 + 158 + dword_5DAB0C);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 5DAB0C: using guessed type int dword_5DAB0C;

//----- (0047E300) --------------------------------------------------------
int __cdecl sub_47E300(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_41AB20(&a1, 1u, (int)&unk_4FC210, 8, 67, 0);
  if ( v1 )
  {
    result = dword_4FC214[2 * v1];
  }
  else
  {
    sub_478DA0("..\\lib\\adl\\iop_cnfg_mngr_intf.c", 1932, 0, 0);
    result = 0;
  }
  return result;
}
// 4FC214: using guessed type int dword_4FC214[];

//----- (0047E350) --------------------------------------------------------
int __cdecl sub_47E350(char a1)
{
  return sub_41AB20(&a1, 1u, (int)&unk_4FFBC0, 8, 2, 2);
}

//----- (0047E370) --------------------------------------------------------
BOOL __cdecl sub_47E370(int a1, void *a2)
{
  int v2; // esi@1
  char v4; // [sp+4h] [bp-18h]@2
  int v5; // [sp+18h] [bp-4h]@3

  v2 = sub_47E300(a1);
  return sub_47AE60(0, 604, a2) && sub_47A830(0, 0x25Cu, (int)&v4) && (v2 & v5) == v2;
}

//----- (0047E3D0) --------------------------------------------------------
int __usercall sub_47E3D0@<eax>(char a1@<al>)
{
  unsigned __int8 v1; // al@1
  int result; // eax@2

  v1 = sub_47E350(a1);
  if ( v1 >= 2u )
    result = 42066;
  else
    result = dword_4FFBC4[2 * v1];
  return result;
}
// 4FFBC4: using guessed type int dword_4FFBC4[];

//----- (0047E400) --------------------------------------------------------
BOOL __cdecl sub_47E400(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_47E3D0(a1);
  return sub_47F940(v2, a2, 16) == 0;
}

//----- (0047E460) --------------------------------------------------------
char __cdecl sub_47E460(void *a1)
{
  int v1; // ecx@0
  int v3; // [sp+0h] [bp-4h]@1

  v3 = v1;
  return sub_47AE90(1, 1947, a1, (int)&v3);
}

//----- (0047E480) --------------------------------------------------------
BOOL __cdecl sub_47E480(int a1)
{
  return sub_47F940(6792, a1, 284) == 0;
}

//----- (0047E4D0) --------------------------------------------------------
bool __cdecl sub_47E4D0(char a1, void *a2)
{
  memset(a2, 0, 0x2890u);
  return sub_47F940((a1 != 36) + 6534, (int)a2, 10384) == 0;
}

//----- (0047E510) --------------------------------------------------------
signed int __usercall sub_47E510@<eax>(char a1@<al>)
{
  return a1 != 36 ? 0x20000 : 0x10000;
}

//----- (0047E530) --------------------------------------------------------
bool __cdecl sub_47E530(char a1, void *a2)
{
  int v2; // esi@1
  bool result; // al@5
  void *v4; // ecx@6
  int v5; // [sp+Ch] [bp-28h]@4
  char v6; // [sp+10h] [bp-24h]@2
  int v7; // [sp+24h] [bp-10h]@3
  __int16 v8; // [sp+28h] [bp-Ch]@8
  int v9; // [sp+2Ch] [bp-8h]@8

  v2 = sub_47E510(a1);
  if ( (v2 & j_HWM_pvg_hsdb_get_lrus_online()) == v2
    && sub_47A830(1, 0x6ACu, (int)&v6)
    && v7 == v2
    && sub_47AE90(1, 1708, a2, (int)&v5) )
  {
    result = 1;
  }
  else if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    result = sub_47E4D0(a1, a2);
  }
  else
  {
    v9 = sub_47AF30(v4);
    v8 = 1708;
    sub_47A990(1, 0, &v8, 0, 8, 1);
    sub_47AAD0(1, 0, v2);
    result = 0;
  }
  return result;
}
// 47F900: using guessed type int j_HWM_pvg_hsdb_get_lrus_online(void);
// 47F930: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (0047E650) --------------------------------------------------------
char __cdecl sub_47E650(char a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@3
  char v4; // dl@3

  memset(byte_5B4CC0, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 215, 0, 0);
  }
  else
  {
    sub_47C4C0(a1, (int)byte_5B4CC0);
    v3 = 4 * a2 - 64;
    v4 = byte_5B4CC1[v3];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_5B4CC0[v3];
    if ( (unsigned __int8)v4 < 0x23u
      || (unsigned __int8)v4 >= 0x64u && (unsigned __int8)v4 <= 0x81u
      || (unsigned __int8)v4 >= 0x96u && (unsigned __int8)v4 <= 0x9Bu )
    {
      return 1;
    }
  }
  return 0;
}

//----- (0047E6F0) --------------------------------------------------------
bool __cdecl sub_47E6F0(char a1, unsigned __int8 a2, int a3)
{
  char *v3; // eax@3
  bool result; // al@3

  memset(byte_5B4CC0, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || a2 >= 0x2Du )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 340, 0, 0);
    result = 0;
  }
  else
  {
    sub_47C4C0(a1, (int)byte_5B4CC0);
    v3 = (char *)&unk_5B4D60 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v3;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v3 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v3 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v3 + 3);
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  return result;
}

//----- (0047E770) --------------------------------------------------------
char __cdecl sub_47E770(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_5B4CC0, 0, 0x890u);
  sub_47C4C0(a1, (int)byte_5B4CC0);
  if ( a2 > 0x10u )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 512, 0, 0);
    result = 0;
  }
  else
  {
    *(_DWORD *)a3 = dword_5B5030[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_5B5034[2 * a2];
    result = 1;
  }
  return result;
}
// 5B5030: using guessed type int dword_5B5030[];
// 5B5034: using guessed type int dword_5B5034[];

//----- (0047E7E0) --------------------------------------------------------
char __cdecl sub_47E7E0(char a1, void *a2)
{
  char result; // al@4

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = sub_47AE60(0, 227, a2);
    }
    else if ( a1 == 2 )
    {
      result = sub_47AE60(0, 572, a2);
    }
    else
    {
      sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 991, 0, 0);
      result = 0;
    }
  }
  else
  {
    result = sub_47AE60(0, 226, a2);
  }
  return result;
}

//----- (0047E860) --------------------------------------------------------
char __cdecl sub_47E860(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  int v4; // ecx@3

  memset(byte_5B4CC0, 0, 0x890u);
  if ( a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 153, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_47E7E0(a1, byte_5B4CC0);
    v4 = 4 * a2 - 64;
    *(_BYTE *)(a3 + 1) = byte_5B4CC1[v4];
    *(_BYTE *)a3 = byte_5B4CC0[v4];
  }
  return result;
}

//----- (0047E8E0) --------------------------------------------------------
char __cdecl sub_47E8E0(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  char *v4; // ecx@3

  memset(byte_5B4CC0, 0, 0x890u);
  if ( a1 >= 3u || a2 >= 0x2Du )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 280, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_47E7E0(a1, byte_5B4CC0);
    v4 = (char *)&unk_5B4D60 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v4;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v4 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v4 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v4 + 3);
  }
  return result;
}

//----- (0047E960) --------------------------------------------------------
char __cdecl sub_47E960(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_5B4CC0, 0, 0x890u);
  if ( a2 <= 0x10u )
  {
    result = sub_47E7E0(a1, byte_5B4CC0);
    *(_DWORD *)a3 = dword_5B5030[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_5B5034[2 * a2];
  }
  else
  {
    sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 445, 0, 0);
    result = 0;
  }
  return result;
}
// 5B5030: using guessed type int dword_5B5030[];
// 5B5034: using guessed type int dword_5B5034[];

//----- (0047EAE0) --------------------------------------------------------
char __cdecl sub_47EAE0(char a1, void *a2)
{
  return sub_47AE60(6, (unsigned __int16)word_500BFA[8 * (unsigned __int8)a1], a2);
}
// 500BFA: using guessed type __int16 word_500BFA[];

//----- (0047EB00) --------------------------------------------------------
bool __cdecl sub_47EB00(unsigned __int8 a1, char *a2)
{
  int v2; // eax@1
  char v4; // [sp+8h] [bp-30h]@1

  v2 = sub_47F940(dword_500C00[4 * a1], (int)&v4, 48);
  qmemcpy(a2, &v4, 0x2Cu);
  return v2 == 0;
}
// 500C00: using guessed type int dword_500C00[];

//----- (0047EB80) --------------------------------------------------------
BOOL sub_47EB80()
{
  char v1; // [sp+0h] [bp-78h]@1

  return sub_47AFC0(69, &v1) && !strncmp(&v1, "006-B0756-", 0xAu);
}

//----- (0047EBE0) --------------------------------------------------------
char __cdecl sub_47EBE0(int a1, char *a2)
{
  char result; // al@5
  char v3; // [sp+13h] [bp-7Dh]@1
  char v4; // [sp+14h] [bp-7Ch]@1
  char v5; // [sp+15h] [bp-7Bh]@2
  int v6; // [sp+30h] [bp-60h]@2
  int v7; // [sp+34h] [bp-5Ch]@2
  int v8; // [sp+38h] [bp-58h]@2
  int v9; // [sp+3Ch] [bp-54h]@2
  int v10; // [sp+40h] [bp-50h]@2
  __int16 v11; // [sp+44h] [bp-4Ch]@2
  char v12; // [sp+46h] [bp-4Ah]@2
  char v13; // [sp+47h] [bp-49h]@2
  float v14; // [sp+48h] [bp-48h]@2
  char v15; // [sp+4Ch] [bp-44h]@2
  char v16; // [sp+4Dh] [bp-43h]@2
  char v17; // [sp+4Eh] [bp-42h]@2
  char v18; // [sp+50h] [bp-40h]@1

  memset(&v18, 0, 0x3Cu);
  v3 = sub_47AE60(1, 292, &v18);
  qmemcpy(&v4, &v18, 0x3Cu);
  if ( !(unsigned __int8)sub_47EB80() )
  {
    v6 = -1;
    v14 = 77.166664;
    v7 = -1;
    v8 = -1;
    v9 = -1;
    v5 = 1;
    v12 = 0;
    v13 = 1;
    v4 = 0;
    v15 = 0;
    v16 = 0;
    v17 = 0;
    v10 = 0;
    v11 = 0;
  }
  if ( !v3 || sub_479CB0((int)&v4) )
  {
    result = 0;
  }
  else
  {
    result = 1;
    qmemcpy(a2, &v18, 0x3Cu);
  }
  return result;
}

//----- (0047ECD0) --------------------------------------------------------
BOOL __cdecl sub_47ECD0(int a1, int a2)
{
  return sub_47F940(6200, a2, 60) == 0;
}

//----- (0047ED30) --------------------------------------------------------
char __cdecl sub_47ED30(int a1, int a2)
{
  int v2; // ecx@3
  int v3; // edx@3
  int v4; // ecx@3
  char result; // al@3
  int v6; // [sp+4h] [bp-1Ch]@1
  int v7; // [sp+8h] [bp-18h]@1
  int v8; // [sp+Ch] [bp-14h]@1
  int v9; // [sp+10h] [bp-10h]@1
  int v10; // [sp+14h] [bp-Ch]@1
  __int16 v11; // [sp+18h] [bp-8h]@1
  char v12; // [sp+1Ah] [bp-6h]@1

  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  if ( !sub_47AE60(2, 284, &v6) || sub_479E80((int)&v6) )
  {
    result = 0;
  }
  else
  {
    v2 = v8;
    *(_DWORD *)a2 = v7;
    v3 = v9;
    *(_DWORD *)(a2 + 4) = v2;
    v4 = v10;
    *(_DWORD *)(a2 + 8) = v3;
    LOWORD(v3) = v11;
    *(_DWORD *)(a2 + 12) = v4;
    LOBYTE(v4) = v12;
    *(_WORD *)(a2 + 16) = v3;
    *(_BYTE *)(a2 + 18) = v4;
    result = 1;
  }
  return result;
}

//----- (0047EDE0) --------------------------------------------------------
BOOL __cdecl sub_47EDE0(int a1, int a2)
{
  return sub_47F940(6169, a2, 40) == 0;
}

//----- (0047EE40) --------------------------------------------------------
char __cdecl sub_47EE40(void *a1)
{
  *(_DWORD *)a1 = 0;
  return sub_47AE60(2, 363, a1);
}

//----- (0047EE60) --------------------------------------------------------
char __cdecl sub_47EE60(void *a1)
{
  int v1; // edx@2
  int v2; // eax@2
  int v3; // ecx@2
  int v4; // eax@2
  int v5; // ecx@2
  void *v6; // esi@2
  signed int v7; // edi@2
  char *v8; // eax@4
  signed int v9; // edx@4
  char result; // al@6
  char v11; // [sp+8h] [bp-208h]@1
  int v12; // [sp+47h] [bp-1C9h]@2
  int v13; // [sp+4Bh] [bp-1C5h]@2
  int v14; // [sp+4Fh] [bp-1C1h]@2
  int v15; // [sp+53h] [bp-1BDh]@2
  int v16; // [sp+58h] [bp-1B8h]@2
  int v17; // [sp+5Ch] [bp-1B4h]@2
  __int16 v18; // [sp+60h] [bp-1B0h]@2
  char v19; // [sp+62h] [bp-1AEh]@2
  char v20; // [sp+B6h] [bp-15Ah]@2
  char v21; // [sp+F6h] [bp-11Ah]@2

  *(_DWORD *)a1 = 0;
  if ( sub_47F940(6444, (int)&v11, 514) )
  {
    result = 0;
  }
  else
  {
    v1 = v13;
    v2 = v14;
    *((_DWORD *)a1 + 3330) = v12;
    v3 = v15;
    *((_DWORD *)a1 + 3331) = v1;
    LOWORD(v1) = v18;
    *((_DWORD *)a1 + 3332) = v2;
    v4 = v16;
    *((_DWORD *)a1 + 3333) = v3;
    qmemcpy((char *)a1 + 13340, &v19, 0x54u);
    v5 = v17;
    *((_WORD *)a1 + 6668) = v1;
    LOBYTE(v1) = v21;
    *((_DWORD *)a1 + 3009) = v5;
    qmemcpy((char *)a1 + 13424, &v20, 0x40u);
    *((_DWORD *)a1 + 3008) = v4;
    *((_BYTE *)a1 + 13488) = v1 & 2;
    v6 = a1;
    v7 = 32;
    do
    {
      memset(v6, 0, 0x38u);
      *((_DWORD *)v6 + 9) = 2048;
      v6 = (char *)v6 + 56;
      --v7;
    }
    while ( v7 );
    v8 = (char *)a1 + 1799;
    v9 = 512;
    do
    {
      *(_DWORD *)(v8 - 7) = 0;
      *(_DWORD *)(v8 - 3) = 0;
      *(_DWORD *)(v8 + 1) = 0;
      *(_DWORD *)(v8 + 5) = 0;
      *(_DWORD *)(v8 + 9) = 0;
      *v8 = -1;
      v8 += 20;
      --v9;
    }
    while ( v9 );
    result = 1;
  }
  return result;
}

//----- (0047F150) --------------------------------------------------------
char __cdecl sub_47F150(char a1)
{
  char result; // al@3

  if ( a1 == 15 )
  {
    result = 0;
  }
  else if ( a1 == 16 )
  {
    result = 1;
  }
  else
  {
    sub_478DA0("..\\lib\\acl\\iop\\iop_adc_intf.c", 178, 0, 0);
    result = 0;
  }
  return result;
}

//----- (0047F190) --------------------------------------------------------
__int16 __usercall sub_47F190@<ax>(unsigned __int8 a1@<al>)
{
  return word_5037B0[a1];
}
// 5037B0: using guessed type __int16 word_5037B0[];

//----- (0047F1A0) --------------------------------------------------------
char __cdecl sub_47F1A0(unsigned __int8 a1, char *a2)
{
  int v2; // eax@2
  char result; // al@5
  int v4; // [sp+4h] [bp-150h]@2
  char v5; // [sp+8h] [bp-14Ch]@1
  char v6; // [sp+9h] [bp-14Bh]@3
  char v7; // [sp+Ch] [bp-148h]@5

  memset(&v5, 0, 0x148u);
  if ( a1 >= 2u )
  {
    result = 0;
  }
  else
  {
    LOWORD(v2) = sub_47F190(a1);
    if ( sub_47AE90(0, v2, &v5, (int)&v4) && v6 == 3 && (unsigned int)(unsigned __int16)v4 - 4 >= 0xA0 )
    {
      qmemcpy(a2, &v7, 0xA0u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}

//----- (0047F2F0) --------------------------------------------------------
char __cdecl sub_47F2F0(unsigned __int16 a1, char *a2, char a3)
{
  char result; // al@4
  char v4; // al@5
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( (_BYTE)a1 )
  {
    if ( (unsigned __int8)a1 != 1 )
    {
      sub_478DA0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 188, 0, 0);
      return 0;
    }
    v4 = sub_47AE90(1, 555, &v5, (int)&a1);
  }
  else
  {
    v4 = sub_47AE90(1, 550, &v5, (int)&a1);
  }
  if ( !v4 )
    return 0;
  if ( sub_47A360((int)&v5) )
    return 0;
  result = 1;
  if ( !BYTE1(v14) || (unsigned int)a1 - 4 < 0x20 )
    return 0;
  if ( a3 )
  {
    if ( BYTE1(v5) == 26 )
    {
      qmemcpy(a2, (char *)&v6 + 1, 0x20u);
      qmemcpy(&unk_5B8A28, (char *)&v6 + 1, 0x20u);
      byte_5B8A20 = 1;
      byte_5B8A21 = 0;
      return result;
    }
  }
  else if ( BYTE1(v5) == 12 )
  {
    qmemcpy(a2, (char *)&v6 + 1, 0x20u);
    qmemcpy(&unk_5B8A48, (char *)&v6 + 1, 0x20u);
    byte_5B8A21 = 1;
    byte_5B8A22 = 1;
    return result;
  }
  return 0;
}
// 5B8A20: using guessed type char byte_5B8A20;
// 5B8A21: using guessed type char byte_5B8A21;
// 5B8A22: using guessed type char byte_5B8A22;

//----- (0047F420) --------------------------------------------------------
char __cdecl sub_47F420(char a1, int a2)
{
  char result; // al@3
  char v3; // [sp+4h] [bp-44h]@1
  char v4; // [sp+8h] [bp-40h]@3
  char v5; // [sp+28h] [bp-20h]@3

  memset(&v3, 0, 0x44u);
  if ( (unsigned __int8)a1 < 2u && a2 )
  {
    result = sub_47C470(a1, (int)&v3);
    qmemcpy((void *)a2, &v4, 0x20u);
    qmemcpy((void *)(a2 + 32), &v5, 0x20u);
  }
  else
  {
    result = sub_478DA0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 570, 0, 0);
  }
  return result;
}

//----- (0047F4A0) --------------------------------------------------------
bool __cdecl sub_47F4A0(void *a1)
{
  bool v1; // zf@2
  bool result; // al@4

  if ( a1 )
  {
    v1 = byte_5B8A20 == 0;
    qmemcpy(a1, &unk_5B8A28, 0x40u);
    result = !v1 && byte_5B8A22;
  }
  else
  {
    sub_478DA0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 617, 0, 0);
    result = 0;
  }
  return result;
}
// 5B8A20: using guessed type char byte_5B8A20;
// 5B8A22: using guessed type char byte_5B8A22;

//----- (0047F4F0) --------------------------------------------------------
char __cdecl sub_47F4F0(char a1, int a2)
{
  char result; // al@4
  int v3; // edx@5
  const void *v4; // esi@8
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( j_HWM_pvg_read_reg(1) != 1 )
    sub_478DA0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 857, 1, 0);
  if ( a1 )
  {
    result = a1 - 1;
    if ( a1 != 1 )
      return result;
    result = sub_47B200(15);
    v3 = 555;
  }
  else
  {
    result = sub_47B200(8);
    v3 = 550;
  }
  if ( result )
  {
    v4 = (const void *)a2;
    LOBYTE(v5) = 12;
    BYTE1(v14) = 1;
    LOBYTE(v6) = 32;
    HIWORD(v5) = 34;
    if ( byte_5B8A21 )
    {
      BYTE1(v5) = 26;
    }
    else
    {
      BYTE1(v5) = 12;
      v4 = (const void *)(a2 + 32);
    }
    qmemcpy((char *)&v6 + 1, v4, 0x20u);
    result = sub_47A990(1, v3, &v5, 1, 38, 1);
  }
  return result;
}
// 47F930: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 5B8A21: using guessed type char byte_5B8A21;

//----- (0047F5D0) --------------------------------------------------------
__int16 __usercall sub_47F5D0@<ax>(unsigned __int8 a1@<al>)
{
  return word_5038C0[a1];
}
// 5038C0: using guessed type __int16 word_5038C0[];

//----- (0047F5E0) --------------------------------------------------------
char __cdecl sub_47F5E0(unsigned __int8 a1, int *a2, const void *a3)
{
  int v3; // ebx@1
  int v5; // [sp+Ch] [bp-28h]@1
  int v6; // [sp+10h] [bp-24h]@1
  int v7; // [sp+14h] [bp-20h]@1
  int v8; // [sp+18h] [bp-1Ch]@1
  int v9; // [sp+1Ch] [bp-18h]@1
  int v10; // [sp+20h] [bp-14h]@1
  int v11; // [sp+24h] [bp-10h]@1
  int v12; // [sp+28h] [bp-Ch]@1
  int v13; // [sp+2Ch] [bp-8h]@1
  int v14; // [sp+30h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v3 = (unsigned __int16)sub_47F5D0(a1);
  v5 = *a2;
  qmemcpy(&v6, a3, 0x24u);
  sub_47A990(1, v3, &v5, 1, HIWORD(v5) + 4, 1);
  return sub_47AAD0(1, v3, 0xFFFFFFF);
}

//----- (0047F670) --------------------------------------------------------
char __cdecl sub_47F670(unsigned __int8 a1, char a2)
{
  int v3; // [sp+4h] [bp-28h]@1
  int v4; // [sp+8h] [bp-24h]@1
  int v5; // [sp+Ch] [bp-20h]@1
  int v6; // [sp+10h] [bp-1Ch]@1
  int v7; // [sp+14h] [bp-18h]@1
  int v8; // [sp+18h] [bp-14h]@1
  int v9; // [sp+1Ch] [bp-10h]@1
  int v10; // [sp+20h] [bp-Ch]@1
  int v11; // [sp+24h] [bp-8h]@1
  int v12; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v3 = 0;
  if ( a1 >= 2u )
  {
    sub_478DA0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 736, 0, 0);
  }
  else
  {
    HIWORD(v3) = 0;
    LOBYTE(v3) = 12;
    if ( a2 == 11 )
    {
      BYTE1(v3) = byte_5B8A21 != 0 ? 25 : 11;
      sub_47F5E0(a1, &v3, &v4);
      return 1;
    }
    if ( a2 == 17 )
    {
      LOWORD(v3) = 10042;
      sub_47F5E0(a1, &v3, &v4);
      return 1;
    }
  }
  return 0;
}
// 5B8A21: using guessed type char byte_5B8A21;

//----- (0047F830) --------------------------------------------------------
char __cdecl sub_47F830(char a1)
{
  char result; // al@4

  switch ( a1 )
  {
    case 25:
      result = 0;
      break;
    case 26:
      result = 1;
      break;
    case 43:
      result = 2;
      break;
    default:
      sub_478DA0("..\\lib\\acl\\iop\\gsd\\iop_gsd_data_intf.c", 169, 0, 0);
      result = 3;
      break;
  }
  return result;
}

//----- (0047F870) --------------------------------------------------------
char __cdecl sub_47F870(char a1)
{
  char result; // al@3

  if ( a1 == 20 )
  {
    result = 0;
  }
  else if ( a1 == 21 )
  {
    result = 2;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0047F890) --------------------------------------------------------
char __cdecl sub_47F890(int a1, char *a2, size_t a3, char a4)
{
  char result; // al@1
  char *v5; // eax@4

  result = 0;
  if ( a1 && *(_BYTE *)a1 == 4 )
  {
    if ( !a2 )
      return result;
    v5 = "%3u.%3u.%3u.%3u";
    if ( !(a4 & 1) )
      v5 = "%u.%u.%u.%u";
    if ( sub_477B00(a2, a3, v5, *(_BYTE *)(a1 + 4), *(_BYTE *)(a1 + 5), *(_BYTE *)(a1 + 6), *(_BYTE *)(a1 + 7)) > 0 )
      return 1;
    result = 0;
  }
  if ( a2 )
  {
    if ( (signed int)a3 > 0 )
      *a2 = 0;
  }
  return result;
}

//----- (0047F940) --------------------------------------------------------
int __cdecl sub_47F940(int a1, int a2, int a3)
{
  return reg_read(a1, a2, a3, 0);
}
// 49DD78: using guessed type int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047F960) --------------------------------------------------------
char __cdecl sub_47F960(int a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = sub_47F940(a1, a2, a3);
  if ( v3 )
    LOBYTE(v3) = sub_478DA0("..\\lib\\acl\\kernel\\reg_usr_intf.c", 1255, 1, 0);
  return v3;
}

//----- (0047F9A0) --------------------------------------------------------
int __cdecl sub_47F9A0(int a1, void *a2, int a3, void *a4)
{
  int result; // eax@1
  int v5; // esi@1

  result = sub_47F940(a1, (int)a2, a3);
  v5 = result;
  if ( result )
  {
    memcpy(a2, a4, (unsigned __int16)a3);
    result = v5;
  }
  return result;
}

//----- (0047F9E0) --------------------------------------------------------
int __cdecl sub_47F9E0(int a1, int a2, int a3)
{
  return reg_write(a1, a2, a3, 0);
}
// 49DD7E: using guessed type int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047FA00) --------------------------------------------------------
int sub_47FA00()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_id();
  SYS_exit_krnl();
  return v0;
}
// 474E00: using guessed type int TSK_pvg_get_id(void);
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);

//----- (0047FA20) --------------------------------------------------------
int sub_47FA20()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_timer();
  SYS_exit_krnl();
  return v0;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DD84: using guessed type int TSK_pvg_get_timer(void);

//----- (0047FA40) --------------------------------------------------------
int __cdecl sub_47FA40(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_get_tsk_info(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DD8A: using guessed type int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047FA80) --------------------------------------------------------
int __cdecl sub_47FA80(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_kill_process(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DD96: using guessed type int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047FAB0) --------------------------------------------------------
int __cdecl sub_47FAB0(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_release_smphr(a1);
  SYS_exit_krnl();
  return v1;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DD9C: using guessed type int __cdecl TSK_pvg_release_smphr(_DWORD);

//----- (0047FAD0) --------------------------------------------------------
int __cdecl sub_47FAD0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_reserve_smphr(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDA2: using guessed type int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD);

//----- (0047FB00) --------------------------------------------------------
int __cdecl sub_47FB00(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_evnt(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDA8: using guessed type int __cdecl TSK_pvg_send_evnt(_DWORD, _DWORD);

//----- (0047FB30) --------------------------------------------------------
int __cdecl sub_47FB30(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_msg_ex(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDAE: using guessed type int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD);

//----- (0047FB60) --------------------------------------------------------
int __cdecl sub_47FB60(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_suspend(a1);
  SYS_exit_krnl();
  return v1;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDB4: using guessed type int __cdecl TSK_pvg_suspend(_DWORD);

//----- (0047FB80) --------------------------------------------------------
int __cdecl sub_47FB80(_BYTE *a1)
{
  int v1; // edi@1
  int v2; // eax@2
  char v4; // [sp+8h] [bp-4h]@2

  SYS_enter_krnl();
  v1 = TSK_pvg_wait_evnt(a1);
  SYS_exit_krnl();
  if ( *a1 & 0x20 )
  {
    v2 = sub_47FA00();
    sub_47FA40((int)&v4, 5, v2, 4);
  }
  return v1;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDBA: using guessed type int __cdecl TSK_pvg_wait_evnt(_DWORD);

//----- (0047FBC0) --------------------------------------------------------
int __cdecl sub_47FBC0(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) != 1 && !a1 )
    result = sub_47FAB0(a2);
  return result;
}
// 4B29B0: using guessed type void *tsk_app_hdr_ptr;

//----- (0047FBF0) --------------------------------------------------------
int __cdecl sub_47FBF0(int a1, int a2)
{
  int result; // eax@2

  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) == 1 )
    result = 0;
  else
    result = sub_47FAD0(a1, a2);
  return result;
}
// 4B29B0: using guessed type void *tsk_app_hdr_ptr;

//----- (0047FC10) --------------------------------------------------------
void __cdecl sub_47FC10(int a1, _BYTE *a2)
{
  SYS_enter_krnl();
  SYS_pvg_ftr_get(a1, a2);
  SYS_exit_krnl();
  sub_4805C0(a1, a2);
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDC0: using guessed type int __cdecl SYS_pvg_ftr_get(_DWORD, _DWORD);

//----- (0047FC40) --------------------------------------------------------
int __cdecl sub_47FC40(int a1, int a2)
{
  int v2; // esi@3

  if ( *(_DWORD *)(a1 + 8) < 0 )
    sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 127, 0, 0);
  v2 = j_mem_unmap(a2 - 12, *(_DWORD *)(a1 + 8) + 12);
  if ( v2 )
    sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 132, 1, 0);
  return v2;
}
// 4805F0: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (0047FCA0) --------------------------------------------------------
int __usercall sub_47FCA0@<eax>(const char **a1@<esi>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // edi@2
  char v3; // ST28_1@2
  unsigned int v4; // eax@5
  char *v5; // edi@9
  char v6; // al@10
  unsigned int v7; // eax@12
  char v8; // ST28_1@12
  signed int v9; // ebx@15
  int v10; // eax@19
  int result; // eax@47
  unsigned int v12; // [sp+Ch] [bp-98h]@1
  int v13; // [sp+14h] [bp-90h]@29
  char v14; // [sp+1Dh] [bp-87h]@30
  char v15; // [sp+1Fh] [bp-85h]@9
  char v16; // [sp+20h] [bp-84h]@8

  v1 = 0;
  v12 = 0;
  if ( *((_BYTE *)a1 + 4) & 2 )
  {
    v2 = j_FIL_vfs_open(*a1, 4, 0);
    v3 = 4;
  }
  else
  {
    strncpy(&v16, *a1, 0x7Du);
    if ( !(*((_BYTE *)a1 + 4) & 8) )
    {
      v5 = &v15;
      do
        v6 = (v5++)[1];
      while ( v6 );
      *(_DWORD *)v5 = 7368052;
    }
    v12 = j_FIL_vfs_open(*a1, 6, 1809);
    v7 = j_FIL_vfs_open(&v16, 14, 1809);
    v2 = v7;
    v8 = 6;
    if ( v7 >= 0xFFFFFFC2 || !v7 )
    {
      sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 589, 1, 0);
      goto LABEL_39;
    }
    v9 = sub_480370(v7, 0, 2);
    if ( v9 < 0 )
    {
      sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 602, 1, 0);
      goto LABEL_39;
    }
    if ( (signed int)a1[2] < 0 )
      sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 610, 0, 0);
    v10 = (int)(a1[2] + 12);
    if ( v9 < v10 && sub_480390(v2, v10, (unsigned __int64)v10 >> 32) < 0 )
    {
      sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 625, 1, 0);
      goto LABEL_39;
    }
  }
  if ( v2 >= 0xFFFFFFC2 )
    goto LABEL_42;
  if ( v2 )
  {
    v4 = ((int (__cdecl *)(unsigned int, _DWORD, const char *, _DWORD))j_FIL_vfs_mmap)(v2, 0, a1[2] + 12, 0);
    v1 = v4;
    if ( v4 < 0xFFFFFFC2 && v4 )
    {
      if ( !(*((_BYTE *)a1 + 4) & 1) )
      {
        if ( *(_BYTE *)(v4 + 9) || *(_BYTE *)(v4 + 8) != 56 )
        {
          sub_47FC40((int)a1, v4 + 12);
          v1 = 0;
        }
        goto LABEL_39;
      }
      *(_DWORD *)(v4 + 4) = sub_47FA20();
      if ( *((_BYTE *)a1 + 4) & 4 )
        memset((void *)(v1 + 12), (int)a1[3], (size_t)a1[2]);
      if ( v12 < 0xFFFFFFC2 && v12 )
      {
        if ( *((_BYTE *)a1 + 4) & 8 )
        {
          ++*(_DWORD *)v1;
        }
        else if ( sub_4801E0(v12, &v13, 12) == 12 )
        {
          *(_DWORD *)v1 = ++v13;
          v14 = 1;
          *(_BYTE *)(v1 + 9) = 1;
          if ( sub_480350(v12, (int)&v13, 12, 0) != 12 )
          {
            sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 725, 1, 0);
            goto LABEL_39;
          }
        }
      }
      else
      {
        *(_BYTE *)(v1 + 9) = 1;
        *(_DWORD *)v1 = 1;
      }
      *(_BYTE *)(v1 + 8) = 56;
      if ( !(*((_BYTE *)a1 + 4) & 8) && j_FIL_vfs_rename(&v16, *a1) )
        sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 759, 1, 0);
      goto LABEL_39;
    }
    sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 664, 0, 0);
  }
LABEL_39:
  if ( v2 < 0xFFFFFFC2 && v2 )
    sub_480130(v2);
LABEL_42:
  if ( v12 < 0xFFFFFFC2 && v12 )
    sub_480130(v12);
  if ( v1 < 0xFFFFFFC2 && v1 )
    result = v1 + 12;
  else
    result = v1;
  return result;
}
// 4801C0: using guessed type int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4801D0: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);
// 4802A0: using guessed type int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD);

//----- (0047FFA0) --------------------------------------------------------
int __usercall sub_47FFA0@<eax>(int a1@<eax>, int a2@<ecx>)
{
  return j_mem_unmap(a2 - 12, a1 + 12);
}
// 4805F0: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (0047FFC0) --------------------------------------------------------
signed int __cdecl sub_47FFC0(int a1)
{
  unsigned int v1; // eax@1
  char v2; // bl@1
  int *v3; // edi@6
  int v4; // eax@6
  int v5; // ecx@6
  int v6; // ebp@6
  unsigned int v8; // eax@15

  v1 = **(_DWORD **)(a1 + 16);
  v2 = 0;
  if ( v1 != -858993460 && (v1 < 0xFFFFFFC2 && v1 || v1 == -15) )
  {
    if ( v1 < 0xFFFFFFC2 && v1 && !*(_BYTE *)(v1 - 3) )
      return 1;
  }
  else
  {
    sub_478DA0("..\\lib\\acl\\kernel\\mem_usr_share.c", 211, 0, *(char **)a1);
    **(_DWORD **)(a1 + 16) = -15;
  }
  v3 = *(int **)(a1 + 16);
  v4 = sub_47FBF0(81, 5000);
  v5 = *v3;
  v6 = v4;
  if ( (unsigned int)*v3 < 0xFFFFFFC2 && v5 )
  {
    if ( !*(_BYTE *)(v5 - 3) )
    {
      sub_47FBC0(v4, 81);
      return 1;
    }
    *v3 = -15;
    sub_47FFA0(*(_DWORD *)(a1 + 8), v5);
  }
  v8 = sub_47FCA0((const char **)a1);
  if ( v8 < 0xFFFFFFC2 && v8 )
  {
    *v3 = v8;
    if ( !*(_BYTE *)(v8 - 3) )
      v2 = 1;
  }
  sub_47FBC0(v6, 81);
  return (unsigned __int8)v2;
}

//----- (00480090) --------------------------------------------------------
__int16 __cdecl sub_480090(int a1, int a2, int a3, int a4)
{
  __int16 v4; // si@1

  SYS_enter_krnl();
  v4 = HWM_pvg_read_rgn(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 49DD48: using guessed type int SYS_exit_krnl(void);
// 49DD54: using guessed type int SYS_enter_krnl(void);
// 49DDC6: using guessed type int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004800D0) --------------------------------------------------------
__int16 __cdecl sub_4800D0(int a1, _DWORD *a2, _BYTE *a3)
{
  __int16 result; // ax@1
  char v4; // [sp+8h] [bp-ECh]@1
  unsigned __int8 v5; // [sp+Ah] [bp-EAh]@1
  int v6; // [sp+10h] [bp-E4h]@1

  j_HWM_pvg_rgn_get_info(a1, &v4);
  result = v5;
  *a2 = v6;
  *a3 = 2;
  return result;
}
// 4800C0: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (00480130) --------------------------------------------------------
signed int __cdecl sub_480130(unsigned int a1)
{
  signed int result; // eax@7
  int v2; // eax@8
  int v3; // edx@9
  unsigned int v4; // [sp+4h] [bp+4h]@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return FIL_vfs_close();
  if ( (a1 & 3) == 1 )
  {
    v4 = sub_49DEE0(a1);
    if ( v4 && *(_DWORD *)(v4 + 732) )
    {
      --*(_DWORD *)(*(_DWORD *)(v4 + 732) + 124);
      if ( *(_BYTE *)(v4 + 8) )
        exit_1(v4);
      sub_4A5CA0(v4 + 116);
      result = 0;
      *(_DWORD *)v4 = -858993460;
    }
    else
    {
      result = -6;
    }
    return result;
  }
  if ( !a1 || (a1 & 3) != 2 )
    return FIL_vfs_close();
  v2 = 0;
  if ( !dword_5CC490 )
    goto LABEL_11;
  while ( 1 )
  {
    v3 = dword_5CC498[v2];
    if ( *(_DWORD *)v3 == a1 )
      break;
    if ( ++v2 >= (unsigned int)dword_5CC490 )
      goto LABEL_11;
  }
  if ( v2 != -1 )
  {
    sub_480600(
      v2,
      *(_DWORD *)(dword_5CC498[v2] + 12),
      *(_DWORD *)(v3 + 16),
      *(_BYTE *)(v3 + 32),
      *(_WORD *)(v3 + 20),
      *(_DWORD *)(v3 + 4));
    result = sub_480130(a1 & 0xFFFFFFFC);
  }
  else
  {
LABEL_11:
    result = -6;
  }
  return result;
}
// 49DDD2: using guessed type int FIL_vfs_close(void);
// 5CC490: using guessed type int dword_5CC490;
// 5CC498: using guessed type int dword_5CC498[];

//----- (00480170) --------------------------------------------------------
int __cdecl sub_480170(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-1Ch]@1
  __int64 v7; // [sp+4h] [bp-18h]@1
  __int64 v8; // [sp+10h] [bp-Ch]@1

  v7 = a2;
  v8 = a4;
  return FIL_vfs_memmove_swi(&v6, a1, v7, HIDWORD(v7), a3, v8, HIDWORD(v8), a5);
}
// 49DDD8: using guessed type int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (004801E0) --------------------------------------------------------
signed int __cdecl sub_4801E0(unsigned int a1, void *a2, int a3)
{
  int v3; // eax@7
  unsigned int v4; // eax@4
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
  {
    v4 = sub_49DEE0(a1);
    return sub_49EDA0(v4, (int)a2, a3);
  }
  if ( a1 && (a1 & 3) == 2 )
  {
    v3 = sub_480370(a1 & 0xFFFFFFFC, 0, 1);
    result = sub_4809A0(a1, a2, a3, v3, (unsigned __int64)v3 >> 32);
  }
  else
  {
LABEL_11:
    result = FIL_vfs_read();
  }
  return result;
}
// 49DDEA: using guessed type int FIL_vfs_read(void);

//----- (00480220) --------------------------------------------------------
signed int __cdecl sub_480220(unsigned int a1, void *a2, int a3, int a4, int a5)
{
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
    return sub_49DE60(a1, (int)a2, a3, a4);
  if ( a1 && (a1 & 3) == 2 )
    result = sub_4809A0(a1, a2, a3, a4, a5);
  else
LABEL_11:
    result = FIL_vfs_read_ofst(a1, a2, a3, &a4);
  return result;
}
// 49DDF0: using guessed type int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004802B0) --------------------------------------------------------
signed int __cdecl sub_4802B0(unsigned int a1, int a2, int a3, int a4)
{
  signed int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = sub_49DEC0(a1, a2, a4);
  else
    result = FIL_vfs_seek(a1 & 0xFFFFFFFC, a2, a3, a4);
  return result;
}
// 49DDFC: using guessed type int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00480300) --------------------------------------------------------
__int64 __cdecl sub_480300(int a1)
{
  return FIL_vfs_size(a1 & 0xFFFFFFFC);
}
// 49DE02: using guessed type int __cdecl FIL_vfs_size(_DWORD);

//----- (00480320) --------------------------------------------------------
int __cdecl sub_480320(int a1, int a2, int a3)
{
  return FIL_vfs_truncate(a1, a2, a3);
}
// 49DE08: using guessed type int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD);

//----- (00480350) --------------------------------------------------------
int __cdecl sub_480350(int a1, int a2, int a3, char a4)
{
  return FIL_vfs_write_ofst(a1, a2, a3, &a4);
}
// 49DE14: using guessed type int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00480370) --------------------------------------------------------
signed int __cdecl sub_480370(unsigned int a1, int a2, int a3)
{
  return sub_4802B0(a1, a2, (unsigned __int64)a2 >> 32, a3);
}

//----- (00480390) --------------------------------------------------------
int __cdecl sub_480390(int a1, int a2, int a3)
{
  return sub_480320(a1, a2, a3);
}

//----- (004803B0) --------------------------------------------------------
int __cdecl sub_4803B0(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_47AF30(v1);
  a1 = v2;
  v3 = sub_41AB20(&a1, 4u, (int)&unk_50A5A8, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_50A5AC[2 * v3];
}
// 50A5AC: using guessed type int dword_50A5AC[];

//----- (004803F0) --------------------------------------------------------
int __cdecl sub_4803F0(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_47AF30(v1);
  a1 = v2;
  v3 = sub_41AB20(&a1, 4u, (int)&unk_50A5E0, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_50A5E4[2 * v3];
}
// 50A5E4: using guessed type int dword_50A5E4[];

//----- (00480430) --------------------------------------------------------
int __cdecl sub_480430(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_47AF30(v1);
  a1 = v2;
  v3 = sub_41AB20(&a1, 4u, (int)&unk_50A618, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_50A61C[2 * v3];
}
// 50A61C: using guessed type int dword_50A61C[];

//----- (00480470) --------------------------------------------------------
int __cdecl sub_480470(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_47AF30(v1);
  a1 = v2;
  v3 = sub_41AB20(&a1, 4u, (int)&unk_50A650, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_50A654[2 * v3];
}
// 50A654: using guessed type int dword_50A654[];

//----- (004804B0) --------------------------------------------------------
int __cdecl sub_4804B0(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // eax@2
  int v6; // eax@8

  result = 0;
  if ( a1 )
  {
    v5 = sub_4803F0(a4);
    result = sub_47F940(v5, a1, 104);
  }
  if ( a2 && !result )
    result = sub_47F940(3532, a2, 2);
  if ( a3 )
  {
    if ( !result )
    {
      v6 = sub_4803B0(a4);
      result = sub_47F940(v6, a3, 6);
    }
  }
  return result;
}

//----- (00480520) --------------------------------------------------------
int __cdecl sub_480520(int a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@3
  int v6; // eax@6
  int v7; // eax@7

  result = 0;
  if ( a1 )
  {
    v4 = sub_480470(a3);
    result = sub_47F940(v4, a1, 64);
    if ( result == -7 )
    {
      sub_47FB60(100);
      v5 = sub_480470(a3);
      result = sub_47F940(v5, a1, 64);
    }
  }
  if ( a2 && !result )
  {
    v6 = sub_480430(a3);
    result = sub_47F940(v6, a2, 8);
    if ( result == -7 )
    {
      sub_47FB60(100);
      v7 = sub_480430(a3);
      result = sub_47F940(v7, a2, 8);
    }
  }
  return result;
}

//----- (004805C0) --------------------------------------------------------
void __cdecl sub_4805C0(__int16 a1, _BYTE *a2)
{
  void *v2; // ecx@0
  void *v3; // ecx@2

  if ( a1 == 29 && sub_478E90(v2) && sub_478EB0(v3) != 1 )
    *a2 = 0;
}

//----- (00480600) --------------------------------------------------------
unsigned int __cdecl sub_480600(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6)
{
  size_t v6; // ebp@1
  int v7; // esi@1
  size_t v8; // ebx@1
  int v9; // edx@1
  unsigned int v10; // edi@1
  int v11; // ebx@2
  int v12; // edx@3
  int *v13; // ebp@3
  int v14; // eax@3
  int v15; // eax@3
  unsigned int result; // eax@4
  void **v17; // [sp+10h] [bp-Ch]@1
  void **v18; // [sp+20h] [bp+4h]@1

  v6 = 8 * a5;
  v7 = 4 * a1 + 6079640;
  v8 = 32 * (a3 / (1 << a4));
  v9 = a2 - v8 - v6;
  dword_5CC498[a1] = v9 + a3 - 52;
  v17 = (void **)(4 * a1 + 6079568);
  dword_5CC450[a1] = a3 + v9;
  dword_5CC410[a1] = a3 + a2 - v8;
  v18 = (void **)(4 * a1 + 6079504);
  memset((void *)(v9 + a3 - 52), 0, 0x34u);
  memset(*v17, 0, v6);
  memset(*v18, 0, v8);
  *(_DWORD *)(*(_DWORD *)v7 + 24) = 1 << a4;
  *(_DWORD *)(*(_DWORD *)v7 + 28) = ~(*(_DWORD *)(*(_DWORD *)v7 + 24) - 1);
  *(_BYTE *)(*(_DWORD *)v7 + 32) = a4;
  *(_DWORD *)(*(_DWORD *)v7 + 12) = a2;
  *(_DWORD *)(*(_DWORD *)v7 + 16) = a3;
  *(_DWORD *)(*(_DWORD *)v7 + 8) = a3 / (1 << a4) - (v8 + v6 + 52) / (1 << a4) - 1;
  *(_DWORD *)(*(_DWORD *)v7 + 4) = a6;
  *(_WORD *)(*(_DWORD *)v7 + 20) = a5;
  **(_DWORD **)v7 = -1;
  *(_DWORD *)(*(_DWORD *)v7 + 36) = *(_DWORD *)v7 + 36;
  *(_DWORD *)(*(_DWORD *)v7 + 40) = *(_DWORD *)v7 + 36;
  *(_DWORD *)(*(_DWORD *)v7 + 44) = *(_DWORD *)v7 + 44;
  *(_DWORD *)(*(_DWORD *)v7 + 48) = *(_DWORD *)v7 + 44;
  v10 = 0;
  if ( *(_DWORD *)(*(_DWORD *)v7 + 8) )
  {
    v11 = 0;
    do
    {
      v12 = *(_DWORD *)v7;
      v13 = *(int **)(*(_DWORD *)v7 + 40);
      v14 = (int)*v18 + v11;
      *(_DWORD *)(v12 + 40) = v14;
      *(_DWORD *)v14 = v12 + 36;
      *(_DWORD *)(v14 + 4) = v13;
      *v13 = v14;
      v15 = a2 + v10++ * *(_DWORD *)(*(_DWORD *)v7 + 24);
      *(_DWORD *)((char *)*v18 + v11 + 28) = v15;
      v11 += 32;
    }
    while ( v10 < *(_DWORD *)(*(_DWORD *)v7 + 8) );
  }
  result = 0;
  if ( *(_WORD *)(*(_DWORD *)v7 + 20) )
  {
    do
    {
      *((_DWORD *)*v17 + 2 * result) = (char *)*v17 + 8 * result;
      *((_DWORD *)*v17 + 2 * result + 1) = (char *)*v17 + 8 * result;
      ++result;
    }
    while ( result < *(_WORD *)(*(_DWORD *)v7 + 20) );
  }
  return result;
}
// 5CC450: using guessed type int dword_5CC450[];
// 5CC498: using guessed type int dword_5CC498[];

//----- (004807B0) --------------------------------------------------------
int __usercall sub_4807B0@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  int *v2; // ecx@1
  int result; // eax@2
  int v4; // eax@3
  int v5; // ecx@3
  _DWORD *v6; // edx@3
  int v7; // ecx@3
  _DWORD *v8; // edx@3
  int v9; // ecx@3
  int v10; // edx@3

  v1 = dword_5CC498[a1];
  v2 = (int *)(v1 + 36);
  if ( (int *)*v2 == v2 )
  {
    v4 = *(_DWORD *)(v1 + 44);
    v5 = *(_DWORD *)(v4 - 8);
    v6 = *(_DWORD **)(v4 - 4);
    result = v4 - 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v7 = *(_DWORD *)(result + 8);
    v8 = *(_DWORD **)(result + 12);
    *(_DWORD *)(v7 + 4) = v8;
    *v8 = v7;
    v9 = dword_5CC498[a1];
    v10 = *(_DWORD *)(v9 + 36);
    v9 += 36;
    *(_DWORD *)(v10 + 4) = result;
    *(_DWORD *)result = v10;
    *(_DWORD *)(result + 4) = v9;
    *(_DWORD *)v9 = result;
  }
  else
  {
    result = *v2;
  }
  return result;
}
// 5CC498: using guessed type int dword_5CC498[];

//----- (00480860) --------------------------------------------------------
int __cdecl sub_480860(int a1, unsigned __int64 a2)
{
  int v2; // edi@1
  signed int v3; // eax@1
  _DWORD *v4; // ecx@2
  int v5; // eax@2
  int *v6; // eax@2
  int v7; // ecx@2
  _DWORD *v8; // edx@2
  int v9; // eax@2
  int v10; // ecx@2
  int result; // eax@2

  v2 = sub_4807B0(a1);
  v3 = sub_480220(
         *(_DWORD *)dword_5CC498[a1] & 0xFFFFFFFC,
         *(void **)(v2 + 28),
         *(_DWORD *)(dword_5CC498[a1] + 24),
         a2,
         SHIDWORD(a2));
  if ( v3 <= 0 )
  {
    result = 0;
  }
  else
  {
    v4 = *(_DWORD **)(v2 + 4);
    *(_WORD *)(v2 + 24) = v3;
    v5 = *(_DWORD *)v2;
    *(_QWORD *)(v2 + 16) = a2;
    *(_DWORD *)(v5 + 4) = v4;
    *v4 = v5;
    v6 = (int *)(dword_5CC450[a1]
               + 8 * ((unsigned int)(a2 >> *(_BYTE *)(dword_5CC498[a1] + 32)) % *(_WORD *)(dword_5CC498[a1] + 20)));
    v7 = *v6;
    *(_DWORD *)(v7 + 4) = v2;
    *(_DWORD *)(v2 + 4) = v6;
    *(_DWORD *)v2 = v7;
    *v6 = v2;
    v8 = *(_DWORD **)(dword_5CC498[a1] + 48);
    v9 = dword_5CC498[a1] + 44;
    v10 = v2 + 8;
    *(_DWORD *)(v9 + 4) = v2 + 8;
    *(_DWORD *)v10 = v9;
    result = v2;
    *(_DWORD *)(v10 + 4) = v8;
    *v8 = v2 + 8;
  }
  return result;
}
// 5CC450: using guessed type int dword_5CC450[];
// 5CC498: using guessed type int dword_5CC498[];

//----- (00480910) --------------------------------------------------------
int __usercall sub_480910@<eax>(int a1@<ebx>, unsigned __int64 a2)
{
  int *v2; // ecx@1
  int result; // eax@1
  int v4; // edx@5
  _DWORD *v5; // esi@5
  int v6; // ecx@5
  _DWORD *v7; // esi@5
  int v8; // edx@5

  v2 = (int *)(dword_5CC450[a1]
             + 8 * ((unsigned int)(a2 >> *(_BYTE *)(dword_5CC498[a1] + 32)) % *(_WORD *)(dword_5CC498[a1] + 20)));
  result = *v2;
  if ( (int *)*v2 == v2 )
  {
LABEL_4:
    result = sub_480860(a1, a2);
  }
  else
  {
    while ( *(_QWORD *)(result + 16) != a2 )
    {
      result = *(_DWORD *)result;
      if ( (int *)result == v2 )
        goto LABEL_4;
    }
    v4 = *(_DWORD *)(result + 8);
    v5 = *(_DWORD **)(result + 12);
    v6 = result + 8;
    *(_DWORD *)(v4 + 4) = v5;
    *v5 = v4;
    v7 = *(_DWORD **)(dword_5CC498[a1] + 48);
    v8 = dword_5CC498[a1] + 44;
    *(_DWORD *)(v8 + 4) = result + 8;
    *(_DWORD *)(v6 + 4) = v7;
    *(_DWORD *)v6 = v8;
    *v7 = result + 8;
  }
  return result;
}
// 5CC450: using guessed type int dword_5CC450[];
// 5CC498: using guessed type int dword_5CC498[];

//----- (004809A0) --------------------------------------------------------
unsigned int __cdecl sub_4809A0(int a1, void *a2, int a3, int a4, int a5)
{
  unsigned int v5; // ebp@1
  int v6; // ebx@1
  int v7; // edi@1
  int v8; // edx@2
  unsigned int result; // eax@4
  int v10; // eax@7
  int v11; // esi@10
  int v12; // eax@10
  int v13; // ecx@11
  unsigned int v14; // eax@11
  const void *v15; // ecx@11
  size_t v16; // esi@12
  int v17; // ecx@13
  int v18; // et0@17

  v5 = a3;
  v6 = 0;
  v7 = a4;
  if ( !dword_5CC490 )
    goto LABEL_24;
  while ( 1 )
  {
    v8 = dword_5CC498[v6];
    if ( *(_DWORD *)v8 == a1 )
      break;
    if ( ++v6 >= (unsigned int)dword_5CC490 )
      return -1;
  }
  if ( v6 != -1 )
  {
    v10 = *(_DWORD *)(v8 + 4);
    if ( v10 != 138 )
      sub_47FAD0(v10, -1);
    if ( a3 )
    {
      while ( 1 )
      {
        v11 = v7 & ~*(_DWORD *)(dword_5CC498[v6] + 28);
        v12 = sub_480910(v6, (unsigned int)v7 & *(_DWORD *)(dword_5CC498[v6] + 28));
        if ( !v12 )
          break;
        v13 = *(_DWORD *)(v12 + 28);
        v14 = *(_WORD *)(v12 + 24) - v11;
        v15 = (const void *)(v11 + v13);
        if ( v5 <= v14 )
        {
          v16 = v5;
        }
        else
        {
          v16 = v14;
          if ( !v14 )
            goto LABEL_13;
        }
        memcpy(a2, v15, v16);
        v5 -= v16;
        v18 = (v16 + __PAIR__((unsigned int)a5, v7)) >> 32;
        v7 += v16;
        a5 = v18;
        a2 = (char *)a2 + v16;
        if ( !v5 )
          goto LABEL_13;
      }
      if ( *(_DWORD *)(dword_5CC498[v6] + 4) != 138 )
        sub_47FAB0(*(_DWORD *)(dword_5CC498[v6] + 4));
      result = -1;
    }
    else
    {
LABEL_13:
      v17 = dword_5CC498[v6];
      if ( *(_DWORD *)(v17 + 4) != 138 )
        sub_47FAB0(*(_DWORD *)(v17 + 4));
      result = a3 - v5;
    }
  }
  else
  {
LABEL_24:
    result = -1;
  }
  return result;
}
// 5CC490: using guessed type int dword_5CC490;
// 5CC498: using guessed type int dword_5CC498[];

//----- (00480AF0) --------------------------------------------------------
double __cdecl sub_480AF0(char a1)
{
  double v1; // st7@5
  double result; // st7@9
  float v3; // [sp+0h] [bp-4h]@1

  v3 = 0.0;
  if ( !sub_478EE0() )
    goto LABEL_13;
  if ( !a1 )
  {
    v1 = *(float *)(dword_5DAB2C + 124);
    goto LABEL_8;
  }
  if ( a1 == 2 )
  {
    v1 = *(float *)(dword_5DAB2C + 860);
    goto LABEL_8;
  }
  if ( a1 == 3 )
  {
    v1 = *(float *)(dword_5DAB2C + 1204);
LABEL_8:
    v3 = v1;
  }
  result = v3;
  if ( (LODWORD(v3) & 0x7F800000) == 2139095040 || result > 3.141592502593994 || result < -3.141592502593994 )
  {
    v3 = 0.0;
LABEL_13:
    result = v3;
  }
  return result;
}
// 5DAB2C: using guessed type int dword_5DAB2C;

//----- (00480B80) --------------------------------------------------------
char sub_480B80()
{
  unsigned __int8 v0; // cl@2
  signed int v1; // eax@4

  if ( !sub_478EE0() )
  {
    LOBYTE(v1) = 0;
    return v1;
  }
  v0 = *(_BYTE *)(dword_5DAB2C + 1200);
  if ( v0 || (v0 = *(_BYTE *)(dword_5DAB2C + 814)) != 0 )
  {
    LOBYTE(v1) = v0;
    if ( v0 < 4u )
      return v1;
    v1 = 4;
  }
  else
  {
    v1 = *(_BYTE *)(dword_5DAB2C + 122) == 0;
  }
  if ( v1 == 4 )
    LOBYTE(v1) = 0;
  return v1;
}
// 5DAB2C: using guessed type int dword_5DAB2C;

//----- (00480BD0) --------------------------------------------------------
double __cdecl sub_480BD0(double a1, double a2)
{
  double result; // st7@1
  double v3; // [sp+0h] [bp-8h]@2

  result = 0.0;
  if ( a2 > 0.0 )
  {
    v3 = a2 + a2;
    result = a1;
    _CIasin_0(a1);
    if ( a2 > a1 )
    {
      if ( -a2 > a1 )
        result = a1 + v3;
    }
    else
    {
      result = a1 - v3;
    }
  }
  return result;
}
// 48871A: using guessed type double __usercall _CIasin_0@<st0>(double@<st0>);

//----- (00480C30) --------------------------------------------------------
double __cdecl sub_480C30(float a1, float a2)
{
  double v2; // st7@1
  double result; // st7@2
  double v4; // st6@3
  double v5; // st5@5
  float v6; // [sp+8h] [bp+8h]@3
  float v7; // [sp+8h] [bp+8h]@3
  float v8; // [sp+8h] [bp+8h]@4
  float v9; // [sp+8h] [bp+8h]@6

  v2 = a2;
  if ( a2 > 0.000001 )
  {
    v6 = v2 + v2;
    v4 = v6;
    v7 = a1 - (double)(signed int)(a1 / v6) * v6;
    if ( v7 < v2 )
    {
      v5 = v2;
      result = v7;
      if ( -v5 > v7 )
      {
        v9 = result + v4;
        result = v9;
      }
    }
    else
    {
      v8 = v7 - v4;
      result = v8;
    }
  }
  else
  {
    result = 0.0;
  }
  return result;
}

//----- (00480CB0) --------------------------------------------------------
void __cdecl sub_480CB0(double a1)
{
  sub_480BD0(a1, 3.1415926535898);
}

//----- (00480CD0) --------------------------------------------------------
double __cdecl sub_480CD0(float a1)
{
  double result; // st7@3

  if ( a1 == -3.141592741012573 || a1 == 3.141592741012573 )
    result = -3.1415925;
  else
    result = sub_480C30(a1, 3.1415927);
  return result;
}

//----- (00480D10) --------------------------------------------------------
int __cdecl sub_480D10(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(float *)a2 = *(double *)a1;
  *(float *)(a2 + 4) = *(double *)(a1 + 8);
  return result;
}

//----- (00480D30) --------------------------------------------------------
int __cdecl sub_480D30(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(double *)a2 = *(float *)a1;
  *(double *)(a2 + 8) = *(float *)(a1 + 4);
  return result;
}

//----- (00480D50) --------------------------------------------------------
int __cdecl sub_480D50(float a1)
{
  double v1; // st7@1
  int result; // eax@3
  float v3; // [sp+8h] [bp+4h]@1
  float v4; // [sp+8h] [bp+4h]@2
  float v5; // [sp+8h] [bp+4h]@3

  v3 = sub_480CD0(a1);
  v1 = v3;
  if ( v3 < 0.0 )
  {
    v4 = v1 + 6.283185482025146;
    v1 = v4;
  }
  v5 = v1 * 180.0 / 3.1415926535898;
  result = (signed int)(v5 + 0.5);
  if ( result >= 360 )
    result = 0;
  return result;
}

//----- (00480DB0) --------------------------------------------------------
int __cdecl sub_480DB0(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a3 = *(float *)a1 + *(float *)a2;
  *(float *)(a3 + 4) = *(float *)(a1 + 4) + *(float *)(a2 + 4);
  *(float *)(a3 + 8) = *(float *)(a1 + 8) + *(float *)(a2 + 8);
  return result;
}

//----- (00480DE0) --------------------------------------------------------
int __cdecl sub_480DE0(float a1, int a2, int a3)
{
  int result; // eax@1

  result = a2;
  *(float *)a3 = *(float *)a2 * a1;
  *(float *)(a3 + 4) = *(float *)(a2 + 4) * a1;
  *(float *)(a3 + 8) = a1 * *(float *)(a2 + 8);
  return result;
}

//----- (00480E10) --------------------------------------------------------
int __cdecl sub_480E10(unsigned __int8 a1, unsigned int a2)
{
  return dword_50D3A0[a1 ^ (unsigned __int8)a2] ^ (a2 >> 8);
}
// 50D3A0: using guessed type int dword_50D3A0[];

//----- (00480E30) --------------------------------------------------------
unsigned int __cdecl sub_480E30(unsigned int *a1, signed int a2, unsigned int a3)
{
  unsigned int *v3; // edx@1
  unsigned int result; // eax@1
  signed int i; // esi@1
  unsigned int v6; // edi@5
  unsigned int v7; // eax@6
  unsigned int v8; // eax@6
  unsigned int v9; // eax@6
  unsigned int v10; // eax@6
  unsigned int v11; // ecx@6
  unsigned int v12; // ecx@6
  unsigned int v13; // ecx@6

  v3 = a1;
  result = a3;
  for ( i = a2; i; --i )
  {
    if ( !((unsigned __int8)v3 & 3) )
      break;
    result = dword_50D3A0[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    v3 = (unsigned int *)((char *)v3 + 1);
  }
  if ( i >= 8 )
  {
    v6 = (unsigned int)i >> 3;
    do
    {
      v7 = dword_50D3A0[(unsigned __int8)result ^ (unsigned __int8)*v3] ^ (result >> 8);
      v8 = dword_50D3A0[(unsigned __int8)v7 ^ (unsigned __int8)(*(_WORD *)v3 >> 8)] ^ (v7 >> 8);
      v9 = dword_50D3A0[(unsigned __int8)v8 ^ (unsigned __int8)(*v3 >> 16)] ^ (v8 >> 8);
      v10 = dword_50D3A0[(unsigned __int8)v9 ^ (*v3 >> 24)] ^ (v9 >> 8);
      v3 += 2;
      v11 = dword_50D3A0[(unsigned __int8)v10 ^ (unsigned __int8)*(v3 - 1)] ^ (v10 >> 8);
      v12 = dword_50D3A0[(unsigned __int8)v11 ^ (unsigned __int8)(*((_WORD *)v3 - 2) >> 8)] ^ (v11 >> 8);
      v13 = dword_50D3A0[(unsigned __int8)v12 ^ (unsigned __int8)(*(v3 - 1) >> 16)] ^ (v12 >> 8);
      i -= 8;
      --v6;
      result = dword_50D3A0[(unsigned __int8)v13 ^ (*(v3 - 1) >> 24)] ^ (v13 >> 8);
    }
    while ( v6 );
  }
  for ( ; i > 0; v3 = (unsigned int *)((char *)v3 + 1) )
  {
    result = dword_50D3A0[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    --i;
  }
  return result;
}
// 50D3A0: using guessed type int dword_50D3A0[];

//----- (00480F52) --------------------------------------------------------
void __thiscall sub_480F52(struct type_info *this)
{
  *(_DWORD *)this = &off_50DC64;
  type_info::_Type_info_dtor(this);
}
// 50DC64: using guessed type int (__thiscall *off_50DC64)(void *, char);

//----- (00480F60) --------------------------------------------------------
void *__thiscall sub_480F60(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_480F52((struct type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004815FE) --------------------------------------------------------
void __cdecl sub_4815FE(char a1)
{
  int v1; // ecx@0

  if ( v1 != dword_532DC4 )
    __report_gsfailure(a1);
}
// 48A118: using guessed type _DWORD __cdecl __report_gsfailure(char);
// 532DC4: using guessed type int dword_532DC4;

//----- (00481CB8) --------------------------------------------------------
int __thiscall sub_481CB8(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)this = &off_50DC6C;
  return result;
}
// 50DC6C: using guessed type int (__thiscall *off_50DC6C)(void *, char);

//----- (00481D6F) --------------------------------------------------------
void __thiscall sub_481D6F(int this)
{
  bool v1; // zf@1

  v1 = *(_DWORD *)(this + 8) == 0;
  *(_DWORD *)this = &off_50DC6C;
  if ( !v1 )
    free(*(void **)(this + 4));
}
// 50DC6C: using guessed type int (__thiscall *off_50DC6C)(void *, char);

//----- (00481D92) --------------------------------------------------------
void *__thiscall sub_481D92(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_481D6F((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00481DAE) --------------------------------------------------------
int __cdecl sub_481DAE(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5CC4F0 = a1;
  return result;
}
// 5CC4F0: using guessed type int dword_5CC4F0;

//----- (004822AC) --------------------------------------------------------
int __cdecl sub_4822AC(FILE *a1, int a2, char a3)
{
  int result; // eax@2
  _DWORD *v4; // edi@7
  _BYTE *v5; // eax@7
  _DWORD *v6; // edi@12
  _BYTE *v7; // eax@12
  int v8; // edi@17
  int v9; // [sp+10h] [bp-1Ch]@1

  v9 = 0;
  if ( a1 == 0 || a2 == 0 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  else
  {
    _lock_file(a1);
    if ( !(a1->_flag & 0x40) )
    {
      if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
      {
        v5 = &unk_533510;
      }
      else
      {
        v4 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864);
        v5 = (_BYTE *)(*v4 + ((_fileno(a1) & 0x1F) << 6));
      }
      if ( v5[36] & 0x7F
        || (_fileno(a1) == -1 || _fileno(a1) == -2 ? (v7 = &unk_533510) : (v6 = (_DWORD *)(4 * (_fileno(a1) >> 5)
                                                                                         + 6140864),
                                                                           v7 = (_BYTE *)(*v6
                                                                                        + ((_fileno(a1) & 0x1F) << 6))),
            v7[36] & 0x80) )
      {
        *_errno() = 22;
        _invalid_parameter(0, 0, 0, 0, 0);
        v9 = -1;
      }
    }
    if ( !v9 )
    {
      v8 = _stbuf(a1);
      v9 = _output_l((int)a1, a2, 0, (int)&a3);
      _ftbuf(v8, a1);
    }
    _unlock_file(a1);
    result = v9;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4824D2: using guessed type _DWORD __cdecl _lock_file(_DWORD);
// 48253C: using guessed type _DWORD __cdecl _unlock_file(_DWORD);

//----- (004823FB) --------------------------------------------------------
void **sub_4823FB()
{
  return &off_532DD8;
}
// 532DD8: using guessed type void *off_532DD8;

//----- (00483593) --------------------------------------------------------
int __cdecl sub_483593(int a1, int a2, char a3)
{
  return vscan_fn(sub_48F15E, a2, 0, &a3);
}
// 48352B: using guessed type int __cdecl vscan_fn(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004835B2) --------------------------------------------------------
int __cdecl sub_4835B2(int a1, int a2, char a3)
{
  return vscan_fn(sub_48FE15, a2, 0, &a3);
}
// 48352B: using guessed type int __cdecl vscan_fn(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004837EE) --------------------------------------------------------
int __cdecl sub_4837EE(int a1, FILE *a2, int a3, int a4, int a5)
{
  int result; // eax@2
  _DWORD *v6; // esi@7
  _BYTE *v7; // eax@7
  _DWORD *v8; // esi@12
  _BYTE *v9; // eax@12
  int v10; // [sp+10h] [bp-1Ch]@1

  v10 = 0;
  if ( a2 == 0 || a3 == 0 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  else
  {
    _lock_file(a2);
    if ( !(a2->_flag & 0x40) )
    {
      if ( _fileno(a2) == -1 || _fileno(a2) == -2 )
      {
        v7 = &unk_533510;
      }
      else
      {
        v6 = (_DWORD *)(4 * (_fileno(a2) >> 5) + 6140864);
        v7 = (_BYTE *)(*v6 + ((_fileno(a2) & 0x1F) << 6));
      }
      if ( v7[36] & 0x7F
        || (_fileno(a2) == -1 || _fileno(a2) == -2 ? (v9 = &unk_533510) : (v8 = (_DWORD *)(4 * (_fileno(a2) >> 5)
                                                                                         + 6140864),
                                                                           v9 = (_BYTE *)(*v8
                                                                                        + ((_fileno(a2) & 0x1F) << 6))),
            v9[36] & 0x80) )
      {
        *_errno() = 22;
        _invalid_parameter(0, 0, 0, 0, 0);
        v10 = -1;
      }
    }
    if ( !v10 )
      v10 = ((int (__cdecl *)(FILE *, int, int, int))a1)(a2, a3, a4, a5);
    _unlock_file(a2);
    result = v10;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4824D2: using guessed type _DWORD __cdecl _lock_file(_DWORD);
// 48253C: using guessed type _DWORD __cdecl _unlock_file(_DWORD);

//----- (0048392B) --------------------------------------------------------
int __cdecl sub_48392B(FILE *a1, int a2, int a3)
{
  return sub_4837EE((int)sub_48F15E, a1, a2, 0, (int)&a3);
}

//----- (00483DBA) --------------------------------------------------------
int __cdecl sub_483DBA(char *Str, size_t MaxCount)
{
  return _mbslwr_s_l(Str, MaxCount, 0);
}

//----- (00483EF2) --------------------------------------------------------
int __cdecl sub_483EF2(int C)
{
  return _ismbcspace_l(C, 0);
}

//----- (00484056) --------------------------------------------------------
signed int __cdecl sub_484056(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_5CC508 )
  {
    *a1 = dword_5CC508;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5CC508: using guessed type int dword_5CC508;

//----- (0048408D) --------------------------------------------------------
signed int __cdecl sub_48408D(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_5CC508 )
  {
    *a1 = dword_5CC514;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5CC508: using guessed type int dword_5CC508;
// 5CC514: using guessed type int dword_5CC514;

//----- (004847AC) --------------------------------------------------------
#error "4847B1: call analysis failed (funcsize=4)"

//----- (00484C31) --------------------------------------------------------
int __cdecl sub_484C31(int a1, HANDLE hHandle)
{
  int v2; // esi@3
  int result; // eax@11

  if ( a1 < 0 || a1 >= uNumber || (v2 = (a1 & 0x1F) << 6, *(_DWORD *)(v2 + dword_5DB3C0[a1 >> 5]) != -1) )
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  else
  {
    if ( dword_533074 == 1 )
    {
      if ( a1 )
      {
        if ( a1 == 1 )
        {
          SetStdHandle(0xFFFFFFF5, hHandle);
        }
        else if ( a1 == 2 )
        {
          SetStdHandle(0xFFFFFFF4, hHandle);
        }
      }
      else
      {
        SetStdHandle(0xFFFFFFF6, hHandle);
      }
    }
    *(_DWORD *)(v2 + dword_5DB3C0[a1 >> 5]) = hHandle;
    result = 0;
  }
  return result;
}
// 533074: using guessed type int dword_533074;
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00484CAE) --------------------------------------------------------
signed int __cdecl sub_484CAE(signed int a1)
{
  int v1; // esi@3
  int v2; // eax@3
  DWORD v4; // [sp-8h] [bp-14h]@9

  if ( a1 >= 0 && a1 < uNumber )
  {
    v1 = (a1 & 0x1F) << 6;
    v2 = v1 + dword_5DB3C0[a1 >> 5];
    if ( *(_BYTE *)(v2 + 4) & 1 )
    {
      if ( *(_DWORD *)v2 != -1 )
      {
        if ( dword_533074 == 1 )
        {
          if ( !a1 )
          {
            v4 = -10;
            goto LABEL_12;
          }
          if ( a1 == 1 )
          {
            v4 = -11;
            goto LABEL_12;
          }
          if ( a1 == 2 )
          {
            v4 = -12;
LABEL_12:
            SetStdHandle(v4, 0);
            goto LABEL_13;
          }
        }
LABEL_13:
        *(_DWORD *)(v1 + dword_5DB3C0[a1 >> 5]) = -1;
        return 0;
      }
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 533074: using guessed type int dword_533074;
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00484D2F) --------------------------------------------------------
signed int __cdecl sub_484D2F(signed int a1)
{
  signed int result; // eax@2
  int v2; // eax@5

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    result = -1;
  }
  else if ( a1 >= 0 && a1 < uNumber && (v2 = dword_5DB3C0[a1 >> 5] + ((a1 & 0x1F) << 6), *(_BYTE *)(v2 + 4) & 1) )
  {
    result = *(_DWORD *)v2;
  }
  else
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00484E40) --------------------------------------------------------
void __cdecl sub_484E40(signed int a1)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(dword_5DB3C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 12));
}
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00484FFC) --------------------------------------------------------
int __cdecl sub_484FFC(HANDLE hFile, int a2)
{
  char v2; // bl@1
  DWORD v3; // eax@7
  DWORD v4; // eax@8
  int v6; // eax@15
  signed int v7; // esi@15
  int v8; // eax@17
  _BYTE *v9; // edx@17
  _BYTE *v10; // eax@17

  v2 = 0;
  if ( a2 & 8 )
    v2 = 32;
  if ( a2 & 0x4000 )
    v2 |= 0x80u;
  if ( a2 & 0x80 )
    v2 |= 0x10u;
  v3 = GetFileType(hFile);
  if ( !v3 )
  {
    v4 = GetLastError();
    _dosmaperr(v4);
    return -1;
  }
  if ( v3 == 2 )
  {
    v2 |= 0x40u;
  }
  else if ( v3 == 3 )
  {
    v2 |= 8u;
  }
  v6 = _alloc_osfhnd();
  v7 = v6;
  if ( v6 == -1 )
  {
    *_errno() = 24;
    *__doserrno() = 0;
    return -1;
  }
  sub_484C31(v6, hFile);
  v8 = (v7 & 0x1F) << 6;
  *(_BYTE *)(dword_5DB3C0[v7 >> 5] + v8 + 4) = v2 | 1;
  v9 = (_BYTE *)(dword_5DB3C0[v7 >> 5] + v8 + 36);
  *v9 &= 0x80u;
  v10 = (_BYTE *)(dword_5DB3C0[v7 >> 5] + v8 + 36);
  *v10 &= 0x7Fu;
  sub_484E40(v7);
  return v7;
}
// 484934: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 484E62: using guessed type int _alloc_osfhnd(void);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (004852C4) --------------------------------------------------------
int __cdecl sub_4852C4(FILE *a1)
{
  int result; // eax@2
  _DWORD *v2; // esi@5
  _BYTE *v3; // eax@5

  if ( a1 != 0 )
  {
    _lock_file(a1);
    a1->_flag &= 0xFFFFFFCF;
    if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
    {
      v3 = &unk_533510;
    }
    else
    {
      v2 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864);
      v3 = (_BYTE *)(*v2 + ((_fileno(a1) & 0x1F) << 6));
    }
    v3[4] &= 0xFDu;
    _unlock_file(a1);
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4824D2: using guessed type _DWORD __cdecl _lock_file(_DWORD);
// 48253C: using guessed type _DWORD __cdecl _unlock_file(_DWORD);

//----- (0048560C) --------------------------------------------------------
size_t __cdecl sub_48560C(void *DstBuf, size_t ElementSize, size_t Count, FILE *File)
{
  return fread_s(DstBuf, 0xFFFFFFFF, ElementSize, Count, File);
}

//----- (00485627) --------------------------------------------------------
int __cdecl sub_485627(char *a1, FILE *File)
{
  int result; // eax@2
  _DWORD *v3; // edi@7
  _BYTE *v4; // eax@7
  _DWORD *v5; // edi@12
  _BYTE *v6; // eax@12
  size_t Count; // ST30_4@15
  int v8; // edi@15
  size_t v9; // ST2C_4@15

  if ( a1 == 0
    || File == 0
    || !(File->_flag & 0x40)
    && (_fileno(File) == -1 || _fileno(File) == -2 ? (v4 = &unk_533510) : (v3 = (_DWORD *)(4 * (_fileno(File) >> 5)
                                                                                         + 6140864),
                                                                           v4 = (_BYTE *)(*v3
                                                                                        + ((_fileno(File) & 0x1F) << 6))),
        v4[36] & 0x7F
     || (_fileno(File) == -1 || _fileno(File) == -2 ? (v6 = &unk_533510) : (v5 = (_DWORD *)(4 * (_fileno(File) >> 5)
                                                                                          + 6140864),
                                                                            v6 = (_BYTE *)(*v5
                                                                                         + ((_fileno(File) & 0x1F) << 6))),
         v6[36] & 0x80)) )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  else
  {
    Count = strlen(a1);
    _lock_file(File);
    v8 = _stbuf(File);
    v9 = _fwrite_nolock(a1, 1u, Count, File);
    _ftbuf(v8, File);
    _unlock_file(File);
    result = (v9 == Count) - 1;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4824D2: using guessed type _DWORD __cdecl _lock_file(_DWORD);
// 48253C: using guessed type _DWORD __cdecl _unlock_file(_DWORD);

//----- (00485769) --------------------------------------------------------
int __cdecl sub_485769(int a1, int a2, FILE *a3)
{
  FILE *v4; // edi@8
  _DWORD *v5; // edi@11
  _BYTE *v6; // eax@11
  _DWORD *v7; // edi@16
  _BYTE *v8; // eax@16
  bool v9; // sf@22
  int v10; // eax@23
  _BYTE *v11; // eax@26
  int v12; // [sp+18h] [bp-20h]@1
  _BYTE *v13; // [sp+1Ch] [bp-1Ch]@1

  v13 = (_BYTE *)a1;
  v12 = a1;
  if ( !a1 && a2 || a2 < 0 || a3 == 0 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return 0;
  }
  if ( !a2 )
    return 0;
  v4 = a3;
  _lock_file(a3);
  if ( !(a3->_flag & 0x40) )
  {
    if ( _fileno(a3) == -1 || _fileno(a3) == -2 )
    {
      v6 = &unk_533510;
    }
    else
    {
      v5 = (_DWORD *)(4 * (_fileno(a3) >> 5) + 6140864);
      v6 = (_BYTE *)(*v5 + ((_fileno(a3) & 0x1F) << 6));
      v4 = a3;
    }
    if ( v6[36] & 0x7F
      || (_fileno(a3) == -1 || _fileno(a3) == -2 ? (v8 = &unk_533510) : (v7 = (_DWORD *)(4 * (_fileno(a3) >> 5) + 6140864),
                                                                         v8 = (_BYTE *)(*v7 + ((_fileno(a3) & 0x1F) << 6)),
                                                                         v4 = a3),
          v8[36] & 0x80) )
    {
      *_errno() = 22;
      _invalid_parameter(0, 0, 0, 0, 0);
      v12 = 0;
    }
  }
  if ( v12 )
  {
    while ( 1 )
    {
      if ( !--a2 )
      {
LABEL_29:
        v11 = v13;
        goto LABEL_30;
      }
      v9 = v4->_cnt-- - 1 < 0;
      if ( v9 )
        v10 = sub_492714(v4);
      else
        v10 = *v4->_ptr++;
      if ( v10 == -1 )
        break;
      *v13++ = v10;
      if ( (_BYTE)v10 == 10 )
        goto LABEL_29;
    }
    v11 = v13;
    if ( v13 == (_BYTE *)a1 )
    {
      v12 = 0;
      goto LABEL_31;
    }
LABEL_30:
    *v11 = 0;
  }
LABEL_31:
  _unlock_file(v4);
  return v12;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4824D2: using guessed type _DWORD __cdecl _lock_file(_DWORD);
// 48253C: using guessed type _DWORD __cdecl _unlock_file(_DWORD);

//----- (004858F0) --------------------------------------------------------
char *__cdecl sub_4858F0(FILE *a1)
{
  FILE *v1; // edi@1
  int v3; // eax@4
  signed __int32 v4; // eax@6
  int v5; // edx@7
  char *v6; // eax@9
  char *v7; // ecx@9
  char *v8; // edx@11
  int v9; // edx@20
  int v10; // esi@22
  char *v11; // eax@24
  unsigned int v12; // ecx@24
  bool v13; // zf@29
  signed int v14; // eax@32
  int v15; // ecx@33
  char *v16; // [sp+8h] [bp-Ch]@9
  LONG lDistanceToMove; // [sp+Ch] [bp-8h]@6
  signed int v18; // [sp+10h] [bp-4h]@4
  FILE *v19; // [sp+1Ch] [bp+8h]@22

  v1 = a1;
  if ( !a1 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (char *)-1;
  }
  v3 = _fileno(a1);
  v18 = v3;
  if ( a1->_cnt < 0 )
    a1->_cnt = 0;
  v4 = sub_492F64(v3, 0, 1u);
  lDistanceToMove = v4;
  if ( v4 < 0 )
    return (char *)-1;
  v5 = a1->_flag;
  if ( !(v5 & 0x108) )
    return (char *)(v4 - a1->_cnt);
  v6 = a1->_ptr;
  v7 = a1->_base;
  v16 = (char *)(a1->_ptr - v7);
  if ( v5 & 3 )
  {
    if ( *(_BYTE *)(dword_5DB3C0[v18 >> 5] + ((v18 & 0x1F) << 6) + 4) & 0x80 )
    {
      v8 = a1->_base;
      if ( v7 < v6 )
      {
        do
        {
          if ( *v8 == 10 )
            ++v16;
          ++v8;
        }
        while ( v8 < v6 );
      }
    }
  }
  else if ( (char)v5 >= 0 )
  {
    *_errno() = 22;
    return (char *)-1;
  }
  if ( !lDistanceToMove )
    return v16;
  if ( !(a1->_flag & 1) )
    return &v16[lDistanceToMove];
  v9 = a1->_cnt;
  if ( v9 )
  {
    v19 = (FILE *)(v9 + v6 - v7);
    v10 = (v18 & 0x1F) << 6;
    if ( !(*(_BYTE *)(dword_5DB3C0[v18 >> 5] + v10 + 4) & 0x80) )
    {
LABEL_39:
      lDistanceToMove -= (signed int)v19;
      return &v16[lDistanceToMove];
    }
    if ( sub_492F64(v18, 0, 2u) == lDistanceToMove )
    {
      v11 = v1->_base;
      v12 = (unsigned int)v19 + (_DWORD)v11;
      while ( (unsigned int)v11 < v12 )
      {
        if ( *v11 == 10 )
          v19 = (FILE *)((char *)v19 + 1);
        ++v11;
      }
      v13 = (v1->_flag & 0x2000) == 0;
LABEL_37:
      if ( !v13 )
        v19 = (FILE *)((char *)v19 + 1);
      goto LABEL_39;
    }
    if ( (sub_492F64(v18, lDistanceToMove, 0) & 0x80000000) == 0 )
    {
      v14 = 512;
      if ( (unsigned int)v19 > 0x200 || (v15 = v1->_flag, !(v15 & 8)) || v15 & 0x400 )
        v14 = v1->_bufsiz;
      v19 = (FILE *)v14;
      v13 = (*(_BYTE *)(dword_5DB3C0[v18 >> 5] + v10 + 4) & 4) == 0;
      goto LABEL_37;
    }
    return (char *)-1;
  }
  v16 = 0;
  return &v16[lDistanceToMove];
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00485DD3) --------------------------------------------------------
int sub_485DD3()
{
  return flsall(1);
}
// 485CA6: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (0048A0EC) --------------------------------------------------------
int __cdecl sub_48A0EC(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5CCA0C = a1;
  return result;
}
// 5CCA0C: using guessed type int dword_5CCA0C;

//----- (0048A4B6) --------------------------------------------------------
void *__thiscall sub_48A4B6(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_50E3CC;
  sub_481D6F((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 50E3CC: using guessed type int (__thiscall *off_50E3CC)(void *, char);

//----- (0048B2A4) --------------------------------------------------------
int sub_48B2A4()
{
  return dword_5334F4;
}
// 5334F4: using guessed type int dword_5334F4;

//----- (0048BAFA) --------------------------------------------------------
void sub_48BAFA()
{
  dword_5DB4C0 = 0;
}
// 5DB4C0: using guessed type int dword_5DB4C0;

//----- (0048BB02) --------------------------------------------------------
int __cdecl sub_48BB02(int a1, FILE *a2)
{
  FILE *v2; // esi@1
  int v3; // eax@1
  unsigned int v5; // eax@9
  int v6; // eax@15
  char *v7; // edi@15
  signed __int32 v8; // edi@15
  _BYTE *v9; // eax@20
  __int64 v10; // rax@23
  _WORD *v11; // [sp+4h] [bp-4h]@9

  v2 = a2;
  a2 = (FILE *)_fileno(a2);
  v3 = v2->_flag;
  if ( !(v3 & 0x82) )
  {
    *_errno() = 9;
LABEL_3:
    v2->_flag |= 0x20u;
    return -1;
  }
  if ( v3 & 0x40 )
  {
    *_errno() = 34;
    goto LABEL_3;
  }
  if ( v3 & 1 )
  {
    v2->_cnt = 0;
    if ( !(v3 & 0x10) )
    {
      v2->_flag = v3 | 0x20;
      return -1;
    }
    v2->_ptr = v2->_base;
    v2->_flag = v3 & 0xFFFFFFFE;
  }
  v5 = v2->_flag & 0xFFFFFFEF | 2;
  v2->_flag = v5;
  v2->_cnt = 0;
  v11 = 0;
  if ( !(v5 & 0x10C)
    && ((void **)v2 != sub_4823FB() + 8 && (void **)v2 != sub_4823FB() + 16 || !sub_49A495((signed int)a2)) )
  {
    _getbuf(v2);
  }
  if ( v2->_flag & 0x108 )
  {
    v6 = (int)v2->_base;
    v7 = v2->_ptr;
    v2->_ptr = (char *)(v6 + 1);
    v8 = (signed __int32)&v7[-v6];
    v2->_cnt = v2->_bufsiz - 1;
    if ( v8 <= 0 )
    {
      if ( a2 == (FILE *)-1 || a2 == (FILE *)-2 )
        v9 = &unk_533510;
      else
        v9 = (_BYTE *)(dword_5DB3C0[(signed int)a2 >> 5] + (((unsigned __int8)a2 & 0x1F) << 6));
      if ( v9[4] & 0x20 )
      {
        v10 = _lseeki64((int)a2, 0i64, 2);
        if ( (HIDWORD(v10) & (unsigned int)v10) == -1 )
          goto LABEL_27;
      }
    }
    else
    {
      v11 = sub_491D7D((int)a2, v6, v8);
    }
    *v2->_base = a1;
  }
  else
  {
    v8 = 1;
    v11 = sub_491D7D((int)a2, (int)&a1, 1u);
  }
  if ( v11 != (_WORD *)v8 )
  {
LABEL_27:
    v2->_flag |= 0x20u;
    return -1;
  }
  return (unsigned __int8)a1;
}
// 49A451: using guessed type _DWORD __cdecl _getbuf(_DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (0048F15E) --------------------------------------------------------
int __cdecl sub_48F15E(FILE *a1, int a2, struct localeinfo_struct *a3, int a4)
{
  unsigned __int8 *v4; // edi@1
  int result; // eax@2
  _DWORD *v6; // edi@7
  _BYTE *v7; // eax@7
  _DWORD *v8; // edi@12
  _BYTE *v9; // eax@12
  unsigned __int8 v10; // al@16
  unsigned __int8 *v11; // edi@17
  int v12; // eax@19
  _WORD *v13; // esi@24
  int v14; // ebx@25
  int v15; // eax@25
  int v16; // ST10_4@25
  int v17; // ecx@25
  int v18; // eax@35
  unsigned __int8 v19; // al@59
  signed int v20; // ebx@62
  int v21; // eax@65
  int v22; // ecx@69
  int v23; // edi@79
  signed int v24; // ebx@82
  int v25; // ebx@84
  int i; // eax@90
  int v27; // eax@91
  int v28; // ecx@92
  int v29; // eax@96
  int j; // eax@98
  int v31; // eax@99
  int v32; // ecx@100
  int v33; // eax@106
  int v34; // ecx@107
  int v35; // ecx@108
  int v36; // eax@112
  int k; // eax@115
  int v38; // eax@116
  int v39; // ecx@117
  void *v40; // ST0C_4@124
  _WORD *v41; // ST08_4@124
  int v42; // ST04_4@124
  void (__cdecl *v43)(int, _WORD *, void *, struct localeinfo_struct *); // eax@124
  _WORD *v44; // edi@129
  int v45; // ST10_4@130
  int v46; // eax@132
  signed int v47; // eax@133
  _BYTE *v48; // edi@156
  unsigned __int8 *v49; // esi@156
  unsigned __int8 v50; // dl@159
  unsigned __int8 v51; // al@165
  unsigned int v52; // edi@168
  int v53; // edx@168
  unsigned int v54; // ecx@172
  unsigned int v55; // eax@172
  unsigned __int8 v56; // al@173
  int v57; // eax@181
  int v58; // ecx@181
  int v59; // eax@219
  int v60; // ST10_4@219
  int v61; // ecx@219
  unsigned int v62; // esi@222
  int v63; // eax@225
  int v64; // ST10_4@225
  int v65; // eax@238
  int v66; // ST10_4@238
  int v67; // ecx@238
  int v68; // edi@241
  int v69; // eax@244
  int v70; // ST10_4@244
  int v71; // ebx@265
  int v72; // eax@265
  int v73; // eax@267
  int v74; // ecx@267
  bool v75; // zf@275
  int v76; // [sp-4h] [bp-80h]@18
  int v77; // [sp-4h] [bp-80h]@94
  int v78; // [sp-4h] [bp-80h]@143
  int v79; // [sp-4h] [bp-80h]@266
  _WORD **v80; // [sp+Ch] [bp-70h]@0
  struct localeinfo_struct Locale; // [sp+10h] [bp-6Ch]@16
  int v82; // [sp+18h] [bp-64h]@288
  char v83; // [sp+1Ch] [bp-60h]@287
  wchar_t DstCh[2]; // [sp+20h] [bp-5Ch]@1
  _WORD **v85; // [sp+24h] [bp-58h]@1
  int v86; // [sp+28h] [bp-54h]@24
  char SrcCh; // [sp+2Ch] [bp-50h]@143
  char v88; // [sp+2Dh] [bp-4Fh]@144
  int v89; // [sp+30h] [bp-4Ch]@1
  int v90; // [sp+34h] [bp-48h]@24
  int v91; // [sp+38h] [bp-44h]@1
  unsigned __int8 v92; // [sp+3Fh] [bp-3Dh]@24
  int v93; // [sp+40h] [bp-3Ch]@16
  _WORD *v94; // [sp+44h] [bp-38h]@58
  unsigned __int64 v95; // [sp+48h] [bp-34h]@36
  int v96; // [sp+50h] [bp-2Ch]@24
  unsigned __int8 *v97; // [sp+54h] [bp-28h]@1
  void *v98; // [sp+58h] [bp-24h]@1
  int v99; // [sp+5Ch] [bp-20h]@62
  int v100; // [sp+60h] [bp-1Ch]@24
  char v101; // [sp+64h] [bp-18h]@24
  char v102; // [sp+65h] [bp-17h]@24
  char v103; // [sp+66h] [bp-16h]@24
  char v104; // [sp+67h] [bp-15h]@16
  FILE *v105; // [sp+68h] [bp-14h]@1
  char v106; // [sp+6Eh] [bp-Eh]@24
  char v107; // [sp+6Fh] [bp-Dh]@24
  int v108; // [sp+70h] [bp-Ch]@24
  char v109; // [sp+77h] [bp-5h]@24
  int v110; // [sp+78h] [bp-4h]@1
  char v111; // [sp+7Fh] [bp+3h]@24
  int v112; // [sp+80h] [bp+4h]@16
  char v113; // [sp+84h] [bp+8h]@1
  char v114[11]; // [sp+1E4h] [bp+168h]@140
  char v115; // [sp+1EFh] [bp+173h]@159

  v4 = (unsigned __int8 *)a2;
  v85 = (_WORD **)a4;
  v105 = a1;
  v97 = (unsigned __int8 *)a2;
  v98 = &v113;
  v89 = 350;
  v91 = 0;
  *(_DWORD *)DstCh = 0;
  v110 = 0;
  if ( !a2 || !a1 )
    goto LABEL_294;
  if ( a1->_flag & 0x40 )
    goto LABEL_16;
  if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
  {
    v7 = &unk_533510;
  }
  else
  {
    v6 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864);
    v7 = (_BYTE *)(*v6 + ((_fileno(a1) & 0x1F) << 6));
  }
  if ( v7[36] & 0x7F
    || (_fileno(a1) == -1 || _fileno(a1) == -2 ? (v9 = &unk_533510) : (v8 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864),
                                                                       v9 = (_BYTE *)(*v8 + ((_fileno(a1) & 0x1F) << 6))),
        v9[36] & 0x80) )
  {
LABEL_294:
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
  v4 = v97;
LABEL_16:
  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&Locale, a3);
  v10 = *v4;
  v75 = *v4 == 0;
  v104 = 0;
  v112 = 0;
  v93 = 0;
  if ( v75 )
    goto LABEL_289;
  v11 = v97;
  while ( 2 )
  {
    if ( isspace(v10) )
    {
      --v112;
      v12 = _whiteout(v105);
      if ( v12 != -1 )
        sub_49AD68(v12, v105);
      do
        ++v11;
      while ( isspace(*v11) );
      goto LABEL_273;
    }
    if ( *v11 != 37 )
    {
      ++v112;
      v71 = _inc(v76, v105);
      v72 = *v11++;
      v110 = v71;
      v97 = v11;
      if ( v72 == v71 )
      {
        if ( !isleadbyte((unsigned __int8)v71) )
          goto LABEL_269;
        ++v112;
        v73 = _inc(v79, v105);
        v74 = *v11++;
        v97 = v11;
        if ( v74 == v73 )
        {
          --v112;
          goto LABEL_269;
        }
        if ( v73 != -1 )
          sub_49AD68(v73, v105);
      }
      v75 = v71 == -1;
      goto LABEL_279;
    }
    v86 = 0;
    v92 = 0;
    v100 = 0;
    v96 = 0;
    v108 = 0;
    v101 = 0;
    v102 = 0;
    v107 = 0;
    v111 = 0;
    v103 = 0;
    v109 = 0;
    v106 = 1;
    v90 = 0;
    v13 = 0;
    do
    {
      v14 = *++v11;
      v15 = isdigit(v14);
      v17 = v16;
      if ( v15 )
      {
        ++v96;
        v108 = 10 * v108 + v14 - 48;
        continue;
      }
      if ( v14 > 78 )
      {
        if ( v14 == 104 )
        {
          --v106;
          --v109;
        }
        else
        {
          if ( v14 == 108 )
          {
            v18 = (int)(v11 + 1);
            if ( v11[1] == 108 )
              goto LABEL_36;
            ++v106;
          }
          else if ( v14 != 119 )
          {
            goto LABEL_50;
          }
          ++v109;
        }
      }
      else
      {
        if ( v14 == 78 )
          continue;
        if ( v14 == 42 )
        {
          ++v107;
          continue;
        }
        if ( v14 == 70 )
          continue;
        if ( v14 != 73 )
        {
          if ( v14 == 76 )
          {
            ++v106;
            continue;
          }
LABEL_50:
          ++v111;
          continue;
        }
        LOBYTE(v17) = v11[1];
        if ( (_BYTE)v17 == 54 )
        {
          v18 = (int)(v11 + 2);
          if ( v11[2] == 52 )
          {
LABEL_36:
            ++v90;
            v11 = (unsigned __int8 *)v18;
            v95 = 0i64;
            continue;
          }
        }
        if ( (_BYTE)v17 == 51 && v11[2] == 50 )
        {
          v11 += 2;
          continue;
        }
        if ( (_BYTE)v17 != 100 && (_BYTE)v17 != 105 && (_BYTE)v17 != 111 && (_BYTE)v17 != 120 && (_BYTE)v17 != 88 )
          goto LABEL_50;
      }
    }
    while ( !v111 );
    v97 = v11;
    if ( !v107 )
    {
      v13 = *v85;
      v80 = v85;
      ++v85;
    }
    v94 = v13;
    v111 = 0;
    if ( !v109 )
    {
      v19 = *v11;
      if ( *v11 == 83 || (v109 = -1, v19 == 67) )
        v109 = 1;
    }
    v99 = *v11 | 0x20;
    v20 = v99;
    if ( v99 != 110 )
    {
      if ( v99 == 99 || v99 == 123 )
      {
        ++v112;
        v21 = _inc(v17, v105);
      }
      else
      {
        v21 = _whiteout(v105);
      }
      v110 = v21;
      if ( v21 == -1 )
        goto LABEL_281;
      v13 = v94;
      v11 = v97;
    }
    v22 = v96;
    if ( v96 && !v108 )
      goto LABEL_275;
    if ( v20 > 111 )
    {
      if ( v20 == 112 )
      {
        v106 = 1;
      }
      else
      {
        if ( v20 == 115 )
        {
LABEL_127:
          if ( v109 > 0 )
            v103 = 1;
          goto LABEL_129;
        }
        if ( v20 != 117 )
        {
          if ( v20 == 120 )
            goto LABEL_82;
          if ( v20 != 123 )
            goto LABEL_151;
          if ( v109 > 0 )
            v103 = 1;
          v48 = v11 + 1;
          v49 = v48;
          if ( *v48 == 94 )
          {
            v49 = v48 + 1;
            v101 = -1;
          }
          memset(v114, 0, 0x20u);
          if ( *v49 == 93 )
          {
            v50 = 93;
            ++v49;
            v115 = 32;
          }
          else
          {
            v50 = v92;
          }
          while ( 1 )
          {
            v56 = *v49;
            if ( *v49 == 93 )
              break;
            ++v49;
            if ( v56 == 45 && v50 && (LOBYTE(v22) = *v49, *v49 != 93) )
            {
              ++v49;
              if ( v50 >= (unsigned __int8)v22 )
              {
                v51 = v50;
                v50 = v22;
              }
              else
              {
                v51 = v22;
              }
              if ( v50 <= v51 )
              {
                v52 = v50;
                v53 = (unsigned __int8)(v51 - v50 + 1);
                do
                {
                  v22 = v52 & 7;
                  v114[v52 >> 3] |= 1 << v22;
                  ++v52;
                  --v53;
                }
                while ( v53 );
                v20 = v99;
              }
              v50 = 0;
            }
            else
            {
              v54 = v56;
              v50 = v56;
              v55 = v54;
              v22 = v54 & 7;
              v114[v55 >> 3] |= 1 << v22;
              v20 = v99;
            }
          }
          v97 = v49;
          v13 = v94;
LABEL_129:
          --v112;
          v44 = v13;
          if ( v110 != -1 )
          {
            sub_49AD68(v110, v105);
            v22 = v45;
          }
          while ( 1 )
          {
            if ( v96 )
            {
              v46 = v108--;
              if ( !v46 )
                goto LABEL_200;
            }
            ++v112;
            v47 = _inc(v22, v105);
            v110 = v47;
            if ( v47 == -1 )
              goto LABEL_198;
            if ( v20 != 99 )
            {
              if ( v20 != 115 )
                goto LABEL_295;
              if ( v47 >= 9 && v47 <= 13 )
              {
LABEL_198:
                --v112;
                if ( v47 != -1 )
                  sub_49AD68(v47, v105);
LABEL_200:
                if ( v44 != v13 )
                {
                  if ( !v107 )
                  {
                    ++v93;
                    if ( v20 != 99 )
                    {
                      if ( v103 )
                        *v94 = 0;
                      else
                        *(_BYTE *)v94 = 0;
                    }
                  }
                  goto LABEL_264;
                }
                goto LABEL_281;
              }
              if ( v47 == 32 )
              {
LABEL_295:
                if ( v20 != 123 )
                  goto LABEL_198;
                v22 = v101 ^ v114[v47 >> 3];
                v20 = v99;
                if ( !((1 << (v47 & 7)) & v22) )
                  goto LABEL_198;
              }
            }
            if ( v107 )
            {
              v44 = (_WORD *)((char *)v44 + 1);
            }
            else
            {
              if ( v103 )
              {
                SrcCh = v47;
                if ( isleadbyte((unsigned __int8)v47) )
                {
                  ++v112;
                  v88 = _inc(v78, v105);
                }
                *(_DWORD *)DstCh = 63;
                _mbtowc_l(DstCh, &SrcCh, Locale.locinfo->mb_cur_max, &Locale);
                *v13 = DstCh[0];
                ++v13;
              }
              else
              {
                *(_BYTE *)v13 = v47;
                v13 = (_WORD *)((char *)v13 + 1);
              }
              v94 = v13;
            }
          }
        }
      }
LABEL_207:
      v24 = v110;
      if ( v110 == 45 )
      {
        v102 = 1;
      }
      else if ( v110 != 43 )
      {
        goto LABEL_215;
      }
      if ( !--v108 && v96 )
      {
        v111 = 1;
        goto LABEL_215;
      }
      ++v112;
      v24 = _inc(v96, v105);
      goto LABEL_214;
    }
    if ( v20 == 111 )
      goto LABEL_207;
    if ( v20 == 99 )
    {
      if ( !v96 )
      {
        ++v108;
        v96 = 1;
      }
      goto LABEL_127;
    }
    if ( v20 == 100 )
      goto LABEL_207;
    if ( v20 <= 100 )
      goto LABEL_151;
    if ( v20 <= 103 )
    {
      v25 = 0;
      if ( v110 == 45 )
      {
        *(_BYTE *)v98 = 45;
        v25 = 1;
        goto LABEL_87;
      }
      if ( v110 == 43 )
      {
LABEL_87:
        --v108;
        ++v112;
        v110 = _inc(v22, v105);
      }
      if ( !v96 )
        v108 = -1;
      for ( i = (unsigned __int8)v110; isdigit(i); i = (unsigned __int8)v110 )
      {
        v27 = v108--;
        if ( !v27 )
          break;
        ++v100;
        *((_BYTE *)v98 + v25++) = v110;
        if ( !__check_float_string(v25, &v113, (int)&v91) )
          goto LABEL_281;
        ++v112;
        v110 = _inc(v28, v105);
      }
      v101 = **(_BYTE **)Locale.locinfo->lconv;
      if ( v101 == (_BYTE)v110 )
      {
        v29 = v108--;
        if ( v29 )
        {
          ++v112;
          v110 = _inc(v77, v105);
          *((_BYTE *)v98 + v25++) = v101;
          if ( !__check_float_string(v25, &v113, (int)&v91) )
            goto LABEL_281;
          for ( j = (unsigned __int8)v110; isdigit(j); j = (unsigned __int8)v110 )
          {
            v31 = v108--;
            if ( !v31 )
              break;
            ++v100;
            *((_BYTE *)v98 + v25++) = v110;
            if ( !__check_float_string(v25, &v113, (int)&v91) )
              goto LABEL_281;
            ++v112;
            v110 = _inc(v32, v105);
          }
        }
      }
      if ( v100 && (v110 == 101 || v110 == 69) )
      {
        v33 = v108--;
        if ( v33 )
        {
          *((_BYTE *)v98 + v25++) = 101;
          if ( !__check_float_string(v25, &v113, (int)&v91) )
            goto LABEL_281;
          ++v112;
          v110 = _inc(v34, v105);
          if ( v110 == 45 )
          {
            *((_BYTE *)v98 + v25++) = 45;
            if ( !__check_float_string(v25, &v113, (int)&v91) )
              goto LABEL_281;
LABEL_112:
            v36 = v108--;
            if ( v36 )
            {
              ++v112;
              v110 = _inc(v35, v105);
            }
            else
            {
              v108 = 0;
            }
          }
          else if ( v110 == 43 )
          {
            goto LABEL_112;
          }
          for ( k = (unsigned __int8)v110; isdigit(k); k = (unsigned __int8)v110 )
          {
            v38 = v108--;
            if ( !v38 )
              break;
            ++v100;
            *((_BYTE *)v98 + v25++) = v110;
            if ( !__check_float_string(v25, &v113, (int)&v91) )
              goto LABEL_281;
            ++v112;
            v110 = _inc(v39, v105);
          }
        }
      }
      --v112;
      if ( v110 != -1 )
        sub_49AD68(v110, v105);
      if ( v100 )
      {
        if ( !v107 )
        {
          ++v93;
          v40 = v98;
          v41 = v94;
          *((_BYTE *)v98 + v25) = 0;
          v42 = v106 - 1;
          v43 = (void (__cdecl *)(int, _WORD *, void *, struct localeinfo_struct *))_decode_pointer(off_533B84[0]);
          v43(v42, v41, v40, &Locale);
        }
        goto LABEL_264;
      }
      goto LABEL_281;
    }
    if ( v20 != 105 )
    {
      if ( v20 == 110 )
      {
        v23 = v112;
        if ( !v107 )
        {
LABEL_259:
          if ( v90 )
          {
            *(_QWORD *)v13 = v95;
          }
          else if ( v106 )
          {
            *(_DWORD *)v13 = v23;
          }
          else
          {
            *v13 = v23;
          }
        }
        goto LABEL_264;
      }
LABEL_151:
      if ( *v11 == v110 )
      {
        --v104;
        if ( !v107 )
          v85 = v80;
        goto LABEL_264;
      }
LABEL_275:
      v75 = v110 == -1;
LABEL_279:
      if ( !v75 )
        sub_49AD68(v110, v105);
      goto LABEL_281;
    }
    v99 = 100;
LABEL_82:
    v24 = v110;
    if ( v110 == 45 )
    {
      v102 = 1;
      goto LABEL_176;
    }
    if ( v110 == 43 )
    {
LABEL_176:
      if ( --v108 || !v96 )
      {
        ++v112;
        v24 = _inc(v96, v105);
        v110 = v24;
      }
      else
      {
        v111 = 1;
      }
    }
    if ( v24 == 48 )
    {
      ++v112;
      v57 = _inc(v22, v105);
      v24 = v57;
      v110 = v57;
      if ( (_BYTE)v57 != 120 && (_BYTE)v57 != 88 )
      {
        v100 = 1;
        if ( v99 != 120 )
        {
          if ( v96 )
          {
            if ( !--v108 )
              ++v111;
          }
          v99 = 111;
          goto LABEL_215;
        }
        --v112;
        if ( v57 != -1 )
          sub_49AD68(v57, v105);
        v24 = 48;
LABEL_214:
        v110 = v24;
        goto LABEL_215;
      }
      ++v112;
      v24 = _inc(v58, v105);
      v110 = v24;
      if ( v96 )
      {
        v108 -= 2;
        if ( v108 < 1 )
          ++v111;
      }
      v99 = 120;
    }
LABEL_215:
    if ( !v90 )
    {
      v23 = v86;
      if ( !v111 )
      {
        while ( 1 )
        {
          if ( v99 == 120 || v99 == 112 )
          {
            if ( !isxdigit((unsigned __int8)v24) )
            {
LABEL_250:
              --v112;
              if ( v24 != -1 )
                sub_49AD68(v24, v105);
              break;
            }
            v68 = 16 * v23;
            v69 = isdigit((unsigned __int8)v24);
            v67 = v70;
            v24 = (char)v24;
            if ( !v69 )
              v24 = (v24 & 0xFFFFFFDF) - 7;
            v110 = v24;
          }
          else
          {
            v65 = isdigit((unsigned __int8)v24);
            v67 = v66;
            if ( !v65 )
              goto LABEL_250;
            if ( v99 == 111 )
            {
              if ( v24 >= 56 )
                goto LABEL_250;
              v68 = 8 * v23;
            }
            else
            {
              v68 = 10 * v23;
            }
          }
          ++v100;
          v23 = v68 + v24 - 48;
          if ( v96 )
          {
            if ( !--v108 )
              break;
          }
          ++v112;
          v24 = _inc(v67, v105);
          v110 = v24;
        }
      }
      if ( v102 )
        v23 = -v23;
      goto LABEL_254;
    }
    if ( v111 )
      goto LABEL_233;
    while ( 2 )
    {
      if ( v99 != 120 && v99 != 112 )
      {
        v59 = isdigit((unsigned __int8)v24);
        v61 = v60;
        if ( !v59 )
          break;
        if ( v99 == 111 )
        {
          if ( v24 >= 56 )
            break;
          v62 = 8 * v95;
          HIDWORD(v95) = v95 >> 29;
        }
        else
        {
          HIDWORD(v95) = 10 * v95 >> 32;
          v62 = 10 * v95;
        }
        goto LABEL_228;
      }
      if ( isxdigit((unsigned __int8)v24) )
      {
        v62 = 16 * v95;
        HIDWORD(v95) = v95 >> 28;
        v63 = isdigit((unsigned __int8)v24);
        v61 = v64;
        v24 = (char)v24;
        if ( !v63 )
          v24 = (v24 & 0xFFFFFFDF) - 7;
        v110 = v24;
LABEL_228:
        ++v100;
        v95 = v24 - 48 + __PAIR__(HIDWORD(v95), v62);
        if ( v96 )
        {
          if ( !--v108 )
            goto LABEL_233;
        }
        ++v112;
        v24 = _inc(v61, v105);
        v110 = v24;
        continue;
      }
      break;
    }
    --v112;
    if ( v24 != -1 )
      sub_49AD68(v24, v105);
LABEL_233:
    v23 = v86;
    if ( v102 )
      v95 = -(signed __int64)v95;
LABEL_254:
    if ( v99 == 70 )
      v100 = 0;
    if ( !v100 )
      goto LABEL_281;
    if ( !v107 )
    {
      ++v93;
      v13 = v94;
      goto LABEL_259;
    }
LABEL_264:
    ++v104;
    v11 = v97++ + 1;
LABEL_269:
    if ( v110 != -1 )
    {
LABEL_273:
      v10 = *v11;
      if ( !*v11 )
        goto LABEL_281;
      continue;
    }
    break;
  }
  if ( *v11 == 37 && v97[1] == 110 )
  {
    v11 = v97;
    goto LABEL_273;
  }
LABEL_281:
  if ( v91 == 1 )
    free(v98);
  if ( v110 == -1 )
  {
    result = v93;
    if ( !v93 && v104 == (_BYTE)v93 )
      result = -1;
    if ( v83 )
      *(_DWORD *)(v82 + 112) &= 0xFFFFFFFD;
    return result;
  }
LABEL_289:
  if ( v83 )
    *(_DWORD *)(v82 + 112) &= 0xFFFFFFFD;
  return v93;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 48B218: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 48F139: using guessed type _DWORD __cdecl _whiteout(_DWORD);
// 48FDFF: using guessed type int __fastcall _inc(_DWORD, _DWORD);
// 533B84: using guessed type int (*off_533B84[3])();
// 48F15E: using guessed type char var_24[11];

//----- (0048FE15) --------------------------------------------------------
int __cdecl sub_48FE15(FILE *a1, int a2, struct localeinfo_struct *a3, int a4)
{
  unsigned __int8 *v4; // edi@1
  int result; // eax@2
  _DWORD *v6; // edi@7
  _BYTE *v7; // eax@7
  _DWORD *v8; // edi@12
  _BYTE *v9; // eax@12
  unsigned __int8 v10; // al@16
  int v11; // eax@18
  unsigned __int8 *v12; // esi@20
  int v13; // esi@23
  int v14; // ebx@25
  int v15; // eax@25
  int v16; // ST10_4@25
  int v17; // ecx@25
  int v18; // eax@35
  _BYTE *v19; // ebx@57
  char v20; // al@60
  signed int v21; // edi@63
  int v22; // eax@66
  int v23; // ecx@70
  int v24; // eax@76
  unsigned int v25; // eax@76
  int v26; // eax@85
  signed int v27; // ebx@88
  int v28; // ebx@90
  int i; // eax@96
  int v30; // eax@97
  int v31; // ecx@98
  int v32; // eax@102
  int j; // eax@104
  int v34; // eax@105
  int v35; // ecx@106
  int v36; // eax@112
  int v37; // ecx@113
  int v38; // ecx@114
  int v39; // eax@118
  int k; // eax@121
  int v41; // eax@122
  int v42; // ecx@123
  void *v43; // ST0C_4@130
  _WORD *v44; // ST08_4@130
  int v45; // ST04_4@130
  void (__cdecl *v46)(int, _WORD *, void *, struct localeinfo_struct *); // eax@130
  _BYTE *v47; // esi@135
  int v48; // ST10_4@136
  int v49; // eax@140
  signed int v50; // eax@141
  unsigned __int8 *v51; // esi@166
  unsigned __int8 v52; // dl@169
  unsigned __int8 v53; // al@175
  unsigned int v54; // edi@178
  int v55; // edx@178
  unsigned int v56; // ecx@181
  unsigned int v57; // eax@181
  unsigned __int8 v58; // al@182
  int v59; // eax@190
  int v60; // ecx@190
  int v61; // eax@229
  int v62; // ST10_4@229
  int v63; // ecx@229
  int v64; // eax@235
  int v65; // ST10_4@235
  int v66; // eax@248
  int v67; // ST10_4@248
  int v68; // ecx@248
  int v69; // eax@254
  int v70; // ST10_4@254
  int v71; // ebx@275
  int v72; // eax@275
  int v73; // eax@277
  int v74; // ecx@277
  bool v75; // zf@285
  int *v76; // eax@293
  int v77; // [sp-4h] [bp-80h]@17
  int v78; // [sp-4h] [bp-80h]@100
  int v79; // [sp-4h] [bp-80h]@153
  signed int v80; // [sp-4h] [bp-80h]@196
  int v81; // [sp-4h] [bp-80h]@276
  struct localeinfo_struct Locale; // [sp+Ch] [bp-70h]@16
  int v83; // [sp+14h] [bp-68h]@308
  char v84; // [sp+18h] [bp-64h]@307
  int v85; // [sp+1Ch] [bp-60h]@1
  wchar_t DstCh[2]; // [sp+20h] [bp-5Ch]@1
  _BYTE **v87; // [sp+24h] [bp-58h]@57
  int v88; // [sp+28h] [bp-54h]@63
  _BYTE **v89; // [sp+2Ch] [bp-50h]@1
  char SrcCh; // [sp+30h] [bp-4Ch]@153
  char v91; // [sp+31h] [bp-4Bh]@154
  int v92; // [sp+34h] [bp-48h]@24
  int v93; // [sp+38h] [bp-44h]@1
  unsigned __int8 v94; // [sp+3Fh] [bp-3Dh]@24
  int v95; // [sp+40h] [bp-3Ch]@1
  unsigned int v96; // [sp+44h] [bp-38h]@24
  int v97; // [sp+48h] [bp-34h]@16
  int v98; // [sp+4Ch] [bp-30h]@24
  _WORD *v99; // [sp+50h] [bp-2Ch]@59
  int v100; // [sp+54h] [bp-28h]@24
  __int64 v101; // [sp+58h] [bp-24h]@36
  unsigned __int8 *v102; // [sp+60h] [bp-1Ch]@1
  int v103; // [sp+64h] [bp-18h]@24
  void *v104; // [sp+68h] [bp-14h]@1
  char v105; // [sp+6Ch] [bp-10h]@24
  char v106; // [sp+6Dh] [bp-Fh]@24
  char v107; // [sp+6Eh] [bp-Eh]@16
  char v108; // [sp+6Fh] [bp-Dh]@24
  FILE *v109; // [sp+70h] [bp-Ch]@1
  char v110; // [sp+77h] [bp-5h]@24
  int v111; // [sp+78h] [bp-4h]@24
  char v112; // [sp+7Eh] [bp+2h]@24
  char v113; // [sp+7Fh] [bp+3h]@24
  int v114; // [sp+80h] [bp+4h]@1
  char v115; // [sp+87h] [bp+Bh]@24
  int v116; // [sp+88h] [bp+Ch]@16
  char v117; // [sp+8Ch] [bp+10h]@1
  char v118[11]; // [sp+1ECh] [bp+170h]@148
  char v119; // [sp+1F7h] [bp+17Bh]@169

  v4 = (unsigned __int8 *)a2;
  v89 = (_BYTE **)a4;
  v109 = a1;
  v102 = (unsigned __int8 *)a2;
  v104 = &v117;
  v93 = 350;
  v95 = 0;
  *(_DWORD *)DstCh = 0;
  v114 = 0;
  v85 = 0;
  if ( !a2 || !a1 )
    goto LABEL_2;
  if ( !(a1->_flag & 0x40) )
  {
    if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
    {
      v7 = &unk_533510;
    }
    else
    {
      v6 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864);
      v7 = (_BYTE *)(*v6 + ((_fileno(a1) & 0x1F) << 6));
    }
    if ( !(v7[36] & 0x7F) )
    {
      if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
      {
        v9 = &unk_533510;
      }
      else
      {
        v8 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864);
        v9 = (_BYTE *)(*v8 + ((_fileno(a1) & 0x1F) << 6));
      }
      if ( !(v9[36] & 0x80) )
      {
        v4 = v102;
        goto LABEL_16;
      }
    }
LABEL_2:
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
LABEL_16:
  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&Locale, a3);
  v10 = *v4;
  v75 = *v4 == 0;
  v107 = 0;
  v116 = 0;
  v97 = 0;
  if ( v75 )
    goto LABEL_311;
  while ( 2 )
  {
    if ( isspace(v10) )
    {
      --v116;
      v11 = _whiteout(v109);
      if ( v11 != -1 )
        sub_49AD68(v11, v109);
      v12 = v102;
      do
        ++v12;
      while ( isspace(*v12) );
      v102 = v12;
      goto LABEL_283;
    }
    v13 = (int)v102;
    if ( *v102 != 37 )
    {
      ++v116;
      v71 = _inc(v77, v109);
      v72 = *(_BYTE *)v13;
      v12 = (unsigned __int8 *)(v13 + 1);
      v114 = v71;
      v102 = v12;
      if ( v72 == v71 )
      {
        if ( !isleadbyte((unsigned __int8)v71) )
          goto LABEL_279;
        ++v116;
        v73 = _inc(v81, v109);
        v74 = *v12++;
        v102 = v12;
        if ( v74 == v73 )
        {
          --v116;
          goto LABEL_279;
        }
        if ( v73 != -1 )
          sub_49AD68(v73, v109);
      }
      v75 = v71 == -1;
      goto LABEL_299;
    }
    v100 = 0;
    v94 = 0;
    v103 = 0;
    v98 = 0;
    v111 = 0;
    v96 = 0;
    v106 = 0;
    v105 = 0;
    v112 = 0;
    v115 = 0;
    v108 = 0;
    v113 = 0;
    v110 = 1;
    v92 = 0;
    do
    {
      v14 = *(_BYTE *)++v13;
      v15 = isdigit(v14);
      v17 = v16;
      if ( v15 )
      {
        ++v98;
        v111 = 10 * v111 + v14 - 48;
        continue;
      }
      if ( v14 > 78 )
      {
        if ( v14 == 104 )
        {
          --v110;
          --v113;
        }
        else
        {
          if ( v14 == 108 )
          {
            v18 = v13 + 1;
            if ( *(_BYTE *)(v13 + 1) == 108 )
              goto LABEL_36;
            ++v110;
          }
          else if ( v14 != 119 )
          {
            goto LABEL_50;
          }
          ++v113;
        }
      }
      else
      {
        if ( v14 == 78 )
          continue;
        if ( v14 == 42 )
        {
          ++v112;
          continue;
        }
        if ( v14 == 70 )
          continue;
        if ( v14 != 73 )
        {
          if ( v14 == 76 )
          {
            ++v110;
            continue;
          }
LABEL_50:
          ++v115;
          continue;
        }
        LOBYTE(v17) = *(_BYTE *)(v13 + 1);
        if ( (_BYTE)v17 == 54 )
        {
          v18 = v13 + 2;
          if ( *(_BYTE *)(v13 + 2) == 52 )
          {
LABEL_36:
            ++v92;
            v13 = v18;
            v101 = 0i64;
            continue;
          }
        }
        if ( (_BYTE)v17 == 51 && *(_BYTE *)(v13 + 2) == 50 )
        {
          v13 += 2;
          continue;
        }
        if ( (_BYTE)v17 != 100 && (_BYTE)v17 != 105 && (_BYTE)v17 != 111 && (_BYTE)v17 != 120 && (_BYTE)v17 != 88 )
          goto LABEL_50;
      }
    }
    while ( !v115 );
    v102 = (unsigned __int8 *)v13;
    if ( v112 )
    {
      v19 = 0;
    }
    else
    {
      v19 = *v89;
      v87 = v89;
      ++v89;
    }
    v99 = v19;
    v115 = 0;
    if ( !v113 )
    {
      v20 = *(_BYTE *)v13;
      if ( *(_BYTE *)v13 == 83 || (v113 = -1, v20 == 67) )
        v113 = 1;
    }
    v88 = *(_BYTE *)v13 | 0x20;
    v21 = v88;
    if ( v88 != 110 )
    {
      if ( v88 == 99 || v88 == 123 )
      {
        ++v116;
        v22 = _inc(v17, v109);
      }
      else
      {
        v22 = _whiteout(v109);
      }
      v114 = v22;
      if ( v22 == -1 )
        goto LABEL_301;
      v19 = v99;
      v13 = (int)v102;
      v21 = v88;
    }
    v23 = v98;
    if ( v98 && !v111 )
    {
      v75 = v114 == -1;
LABEL_299:
      if ( !v75 )
        sub_49AD68(v114, v109);
      goto LABEL_301;
    }
    if ( !v112 && (v21 == 99 || v21 == 115 || v21 == 123) )
    {
      v19 = *v87;
      v24 = (int)(v87 + 1);
      v87 = (_BYTE **)v24;
      v24 += 4;
      v89 = (_BYTE **)v24;
      v25 = *(_DWORD *)(v24 - 4);
      v99 = v19;
      v96 = v25;
      if ( v25 < 1 )
      {
        if ( v113 <= 0 )
          *v19 = 0;
        else
          *(_WORD *)v19 = 0;
        *_errno() = 12;
        goto LABEL_301;
      }
    }
    if ( v21 > 111 )
    {
      if ( v21 == 112 )
      {
        v110 = 1;
        goto LABEL_217;
      }
      if ( v21 != 115 )
      {
        if ( v21 == 117 )
          goto LABEL_217;
        if ( v21 == 120 )
          goto LABEL_88;
        if ( v21 != 123 )
          goto LABEL_161;
        if ( v113 > 0 )
          v108 = 1;
        v51 = (unsigned __int8 *)(v13 + 1);
        if ( *v51 == 94 )
        {
          ++v51;
          v106 = -1;
        }
        memset(v118, 0, 0x20u);
        if ( *v51 == 93 )
        {
          v52 = 93;
          ++v51;
          v119 = 32;
        }
        else
        {
          v52 = v94;
        }
        while ( 1 )
        {
          v58 = *v51;
          if ( *v51 == 93 )
            break;
          ++v51;
          if ( v58 == 45 && v52 && (LOBYTE(v23) = *v51, *v51 != 93) )
          {
            ++v51;
            if ( v52 >= (unsigned __int8)v23 )
            {
              v53 = v52;
              v52 = v23;
            }
            else
            {
              v53 = v23;
            }
            if ( v52 <= v53 )
            {
              v54 = v52;
              v55 = (unsigned __int8)(v53 - v52 + 1);
              do
              {
                v23 = v54 & 7;
                v118[v54 >> 3] |= 1 << v23;
                ++v54;
                --v55;
              }
              while ( v55 );
            }
            v52 = 0;
          }
          else
          {
            v56 = v58;
            v52 = v58;
            v57 = v56;
            v23 = v56 & 7;
            v118[v57 >> 3] |= 1 << v23;
          }
        }
        v19 = v99;
        v21 = v88;
        v102 = v51;
LABEL_135:
        --v116;
        v47 = v19;
        if ( v114 != -1 )
        {
          sub_49AD68(v114, v109);
          v23 = v48;
        }
        if ( v21 == 99 )
        {
          while ( 1 )
          {
LABEL_139:
            if ( v98 )
            {
              v49 = v111--;
              if ( !v49 )
                goto LABEL_210;
            }
            ++v116;
            v50 = _inc(v23, v109);
            v114 = v50;
            if ( v50 == -1 )
              goto LABEL_208;
            if ( v21 != 99 )
            {
              if ( v21 != 115 )
                goto LABEL_316;
              if ( v50 >= 9 && v50 <= 13 )
              {
LABEL_208:
                --v116;
                if ( v50 != -1 )
                  sub_49AD68(v50, v109);
LABEL_210:
                if ( v47 != v19 )
                {
                  if ( !v112 )
                  {
                    ++v97;
                    if ( v88 != 99 )
                    {
                      if ( v108 )
                        *v99 = 0;
                      else
                        *(_BYTE *)v99 = 0;
                    }
                  }
                  goto LABEL_274;
                }
                goto LABEL_301;
              }
              if ( v50 == 32 )
              {
LABEL_316:
                if ( v21 != 123 )
                  goto LABEL_208;
                v23 = v106 ^ v118[v50 >> 3];
                if ( !((1 << (v50 & 7)) & v23) )
                  goto LABEL_208;
                v21 = v88;
              }
            }
            if ( !v112 )
              break;
            ++v47;
          }
          if ( !v96 )
          {
            v76 = _errno();
            v75 = v108 == 0;
            *v76 = 12;
            if ( v75 )
              *v47 = 0;
            else
              *(_WORD *)v47 = 0;
            goto LABEL_301;
          }
          if ( v108 )
          {
            SrcCh = v50;
            if ( isleadbyte((unsigned __int8)v50) )
            {
              ++v116;
              v91 = _inc(v79, v109);
            }
            *(_DWORD *)DstCh = 63;
            _mbtowc_l(DstCh, &SrcCh, Locale.locinfo->mb_cur_max, &Locale);
            *(_WORD *)v19 = DstCh[0];
            v19 += 2;
          }
          else
          {
            *v19++ = v50;
          }
          v99 = v19;
        }
        --v96;
        goto LABEL_139;
      }
LABEL_133:
      if ( v113 > 0 )
        v108 = 1;
      goto LABEL_135;
    }
    if ( v21 == 111 )
      goto LABEL_217;
    if ( v21 == 99 )
    {
      if ( !v98 )
      {
        ++v111;
        v98 = 1;
      }
      goto LABEL_133;
    }
    if ( v21 != 100 )
    {
      if ( v21 > 100 )
      {
        if ( v21 > 103 )
        {
          if ( v21 != 105 )
          {
            if ( v21 == 110 )
            {
              v26 = v116;
              if ( !v112 )
              {
LABEL_269:
                if ( v92 )
                {
                  *(_QWORD *)v19 = v101;
                }
                else if ( v110 )
                {
                  *(_DWORD *)v19 = v26;
                }
                else
                {
                  *(_WORD *)v19 = v26;
                }
              }
              goto LABEL_274;
            }
            goto LABEL_161;
          }
          v21 = 100;
LABEL_88:
          v27 = v114;
          if ( v114 == 45 )
          {
            v105 = 1;
            goto LABEL_185;
          }
          if ( v114 == 43 )
          {
LABEL_185:
            if ( --v111 || !v98 )
            {
              ++v116;
              v27 = _inc(v98, v109);
              v114 = v27;
            }
            else
            {
              v115 = 1;
            }
          }
          if ( v27 == 48 )
          {
            ++v116;
            v59 = _inc(v23, v109);
            v27 = v59;
            v114 = v59;
            if ( (_BYTE)v59 == 120 || (_BYTE)v59 == 88 )
            {
              ++v116;
              v27 = _inc(v60, v109);
              v114 = v27;
              if ( v98 )
              {
                v111 -= 2;
                if ( v111 < 1 )
                  ++v115;
              }
              v80 = 120;
LABEL_204:
              v21 = v80;
            }
            else
            {
              v103 = 1;
              if ( v21 != 120 )
              {
                if ( v98 )
                {
                  if ( !--v111 )
                    ++v115;
                }
                v80 = 111;
                goto LABEL_204;
              }
              --v116;
              if ( v59 != -1 )
                sub_49AD68(v59, v109);
              v27 = 48;
LABEL_224:
              v114 = v27;
            }
          }
          goto LABEL_225;
        }
        v28 = 0;
        if ( v114 == 45 )
        {
          *(_BYTE *)v104 = 45;
          v28 = 1;
          goto LABEL_93;
        }
        if ( v114 == 43 )
        {
LABEL_93:
          --v111;
          ++v116;
          v114 = _inc(v23, v109);
        }
        if ( !v98 )
          v111 = -1;
        for ( i = (unsigned __int8)v114; isdigit(i); i = (unsigned __int8)v114 )
        {
          v30 = v111--;
          if ( !v30 )
            break;
          ++v103;
          *((_BYTE *)v104 + v28++) = v114;
          if ( !__check_float_string(v28, &v117, (int)&v95) )
            goto LABEL_301;
          ++v116;
          v114 = _inc(v31, v109);
        }
        v106 = **(_BYTE **)Locale.locinfo->lconv;
        if ( v106 == (_BYTE)v114 )
        {
          v32 = v111--;
          if ( v32 )
          {
            ++v116;
            v114 = _inc(v78, v109);
            *((_BYTE *)v104 + v28++) = v106;
            if ( !__check_float_string(v28, &v117, (int)&v95) )
              goto LABEL_301;
            for ( j = (unsigned __int8)v114; isdigit(j); j = (unsigned __int8)v114 )
            {
              v34 = v111--;
              if ( !v34 )
                break;
              ++v103;
              *((_BYTE *)v104 + v28++) = v114;
              if ( !__check_float_string(v28, &v117, (int)&v95) )
                goto LABEL_301;
              ++v116;
              v114 = _inc(v35, v109);
            }
          }
        }
        if ( v103 && (v114 == 101 || v114 == 69) )
        {
          v36 = v111--;
          if ( v36 )
          {
            *((_BYTE *)v104 + v28++) = 101;
            if ( !__check_float_string(v28, &v117, (int)&v95) )
              goto LABEL_301;
            ++v116;
            v114 = _inc(v37, v109);
            if ( v114 == 45 )
            {
              *((_BYTE *)v104 + v28++) = 45;
              if ( !__check_float_string(v28, &v117, (int)&v95) )
                goto LABEL_301;
LABEL_118:
              v39 = v111--;
              if ( v39 )
              {
                ++v116;
                v114 = _inc(v38, v109);
              }
              else
              {
                v111 = 0;
              }
            }
            else if ( v114 == 43 )
            {
              goto LABEL_118;
            }
            for ( k = (unsigned __int8)v114; isdigit(k); k = (unsigned __int8)v114 )
            {
              v41 = v111--;
              if ( !v41 )
                break;
              ++v103;
              *((_BYTE *)v104 + v28++) = v114;
              if ( !__check_float_string(v28, &v117, (int)&v95) )
                goto LABEL_301;
              ++v116;
              v114 = _inc(v42, v109);
            }
          }
        }
        --v116;
        if ( v114 != -1 )
          sub_49AD68(v114, v109);
        if ( v103 )
        {
          if ( !v112 )
          {
            ++v97;
            v43 = v104;
            v44 = v99;
            *((_BYTE *)v104 + v28) = 0;
            v45 = v110 - 1;
            v46 = (void (__cdecl *)(int, _WORD *, void *, struct localeinfo_struct *))_decode_pointer(off_533B84[0]);
            v46(v45, v44, v43, &Locale);
          }
          goto LABEL_274;
        }
        goto LABEL_301;
      }
LABEL_161:
      if ( *(_BYTE *)v13 == v114 )
      {
        --v107;
        if ( !v112 )
          v89 = v87;
        goto LABEL_274;
      }
      if ( v114 != -1 )
        sub_49AD68(v114, v109);
      v85 = 1;
      goto LABEL_301;
    }
LABEL_217:
    v27 = v114;
    if ( v114 == 45 )
    {
      v105 = 1;
    }
    else if ( v114 != 43 )
    {
      goto LABEL_225;
    }
    if ( --v111 || !v98 )
    {
      ++v116;
      v27 = _inc(v98, v109);
      goto LABEL_224;
    }
    v115 = 1;
LABEL_225:
    if ( !v92 )
    {
      if ( !v115 )
      {
        while ( 1 )
        {
          if ( v21 == 120 || v21 == 112 )
          {
            if ( !isxdigit((unsigned __int8)v27) )
            {
LABEL_260:
              --v116;
              if ( v27 != -1 )
                sub_49AD68(v27, v109);
              break;
            }
            v100 *= 16;
            v69 = isdigit((unsigned __int8)v27);
            v68 = v70;
            v27 = (char)v27;
            if ( !v69 )
              v27 = (v27 & 0xFFFFFFDF) - 7;
            v114 = v27;
          }
          else
          {
            v66 = isdigit((unsigned __int8)v27);
            v68 = v67;
            if ( !v66 )
              goto LABEL_260;
            if ( v21 == 111 )
            {
              if ( v27 >= 56 )
                goto LABEL_260;
              v100 *= 8;
            }
            else
            {
              v100 *= 10;
            }
          }
          ++v103;
          v100 = v100 + v27 - 48;
          if ( v98 )
          {
            if ( !--v111 )
              break;
          }
          ++v116;
          v27 = _inc(v68, v109);
          v114 = v27;
        }
      }
      if ( v105 )
        v100 = -v100;
      goto LABEL_264;
    }
    if ( v115 )
      goto LABEL_243;
    while ( 2 )
    {
      if ( v21 != 120 && v21 != 112 )
      {
        v61 = isdigit((unsigned __int8)v27);
        v63 = v62;
        if ( !v61 )
          break;
        if ( v21 == 111 )
        {
          if ( v27 >= 56 )
            break;
          v63 = (unsigned __int64)v101 >> 29;
          v101 *= 8i64;
        }
        else
        {
          v101 *= 10i64;
        }
        goto LABEL_238;
      }
      if ( isxdigit((unsigned __int8)v27) )
      {
        v101 *= 16i64;
        v64 = isdigit((unsigned __int8)v27);
        v63 = v65;
        v27 = (char)v27;
        if ( !v64 )
          v27 = (v27 & 0xFFFFFFDF) - 7;
        v114 = v27;
LABEL_238:
        ++v103;
        v101 += v27 - 48;
        if ( v98 )
        {
          if ( !--v111 )
            goto LABEL_243;
        }
        ++v116;
        v27 = _inc(v63, v109);
        v114 = v27;
        continue;
      }
      break;
    }
    --v116;
    if ( v27 != -1 )
      sub_49AD68(v27, v109);
LABEL_243:
    if ( v105 )
      v101 = -v101;
LABEL_264:
    if ( v21 == 70 )
      v103 = 0;
    if ( !v103 )
      goto LABEL_301;
    if ( !v112 )
    {
      ++v97;
      v19 = v99;
      v26 = v100;
      goto LABEL_269;
    }
LABEL_274:
    ++v107;
    v12 = v102++ + 1;
LABEL_279:
    if ( v114 != -1 )
    {
LABEL_283:
      v10 = *v12;
      if ( !*v12 )
        goto LABEL_301;
      continue;
    }
    break;
  }
  if ( *v12 == 37 && v102[1] == 110 )
  {
    v12 = v102;
    goto LABEL_283;
  }
LABEL_301:
  if ( v95 == 1 )
    free(v104);
  if ( v114 == -1 )
  {
    result = v97;
    if ( !v97 && v107 == (_BYTE)v97 )
      result = -1;
    if ( v84 )
      *(_DWORD *)(v83 + 112) &= 0xFFFFFFFD;
    return result;
  }
  if ( v85 == 1 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
  }
LABEL_311:
  if ( v84 )
    *(_DWORD *)(v83 + 112) &= 0xFFFFFFFD;
  return v97;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 48B218: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 48F139: using guessed type _DWORD __cdecl _whiteout(_DWORD);
// 48FDFF: using guessed type int __fastcall _inc(_DWORD, _DWORD);
// 533B84: using guessed type int (*off_533B84[3])();
// 48FE15: using guessed type char var_24[11];

//----- (00490B40) --------------------------------------------------------
signed int __cdecl sub_490B40(signed int a1)
{
  signed int v1; // edi@6
  void *v2; // eax@7
  DWORD v3; // edi@8
  signed int result; // eax@11

  if ( sub_484D2F(a1) == -1
    || (a1 == 1 && *(_BYTE *)(dword_5DB3C0[0] + 132) & 1 || a1 == 2 && *(_BYTE *)(dword_5DB3C0[0] + 68) & 1)
    && (v1 = sub_484D2F(2), sub_484D2F(1) == v1)
    || (v2 = (void *)sub_484D2F(a1), CloseHandle(v2)) )
  {
    v3 = 0;
  }
  else
  {
    v3 = GetLastError();
  }
  sub_484CAE(a1);
  *(_BYTE *)(dword_5DB3C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) = 0;
  if ( v3 )
  {
    _dosmaperr(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 484934: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00490F70) --------------------------------------------------------
int sub_490F70()
{
  int v0; // edi@1
  int i; // esi@1
  int v2; // eax@3
  int v3; // eax@4
  int v4; // esi@12

  v0 = 0;
  _lock(1);
  for ( i = 0; i < dword_5DC500; ++i )
  {
    v2 = dword_5DB4F8 + 4 * i;
    if ( !*(_DWORD *)v2 )
    {
      v4 = 4 * i;
      *(_DWORD *)(v4 + dword_5DB4F8) = _malloc_crt(0x38u);
      if ( *(_DWORD *)(v4 + dword_5DB4F8) )
      {
        if ( __crtInitCritSecAndSpinCount(*(_DWORD *)(v4 + dword_5DB4F8) + 32, 4000) )
        {
          EnterCriticalSection((LPCRITICAL_SECTION)(*(_DWORD *)(v4 + dword_5DB4F8) + 32));
          v0 = *(_DWORD *)(v4 + dword_5DB4F8);
          *(_DWORD *)(v0 + 12) = 0;
        }
        else
        {
          free(*(void **)(v4 + dword_5DB4F8));
          *(_DWORD *)(v4 + dword_5DB4F8) = 0;
        }
      }
      break;
    }
    v3 = *(_DWORD *)(*(_DWORD *)v2 + 12);
    if ( !(v3 & 0x83) && (signed __int16)v3 >= 0 )
    {
      if ( (unsigned int)(i - 3) <= 0x10 && !_mtinitlocknum(i + 16) )
        break;
      _lock_file2(i, *(_DWORD *)(dword_5DB4F8 + 4 * i));
      if ( !(*(_BYTE *)(*(_DWORD *)(dword_5DB4F8 + 4 * i) + 12) & 0x83) )
      {
        v0 = *(_DWORD *)(dword_5DB4F8 + 4 * i);
        break;
      }
      _unlock_file2(i, *(_DWORD *)(dword_5DB4F8 + 4 * i));
    }
  }
  if ( v0 )
  {
    *(_DWORD *)(v0 + 12) &= 0x8000u;
    *(_DWORD *)(v0 + 4) = 0;
    *(_DWORD *)(v0 + 8) = 0;
    *(_DWORD *)v0 = 0;
    *(_DWORD *)(v0 + 28) = 0;
    *(_DWORD *)(v0 + 16) = -1;
  }
  _unlock(1);
  return v0;
}
// 48250E: using guessed type _DWORD __cdecl _lock_file2(_DWORD, _DWORD);
// 482572: using guessed type _DWORD __cdecl _unlock_file2(_DWORD, _DWORD);
// 489256: using guessed type _DWORD __cdecl _unlock(_DWORD);
// 48926B: using guessed type _DWORD __cdecl _mtinitlocknum(_DWORD);
// 48932E: using guessed type _DWORD __cdecl _lock(_DWORD);
// 491696: using guessed type _DWORD __cdecl __crtInitCritSecAndSpinCount(_DWORD, _DWORD);
// 5DB4F8: using guessed type int dword_5DB4F8;
// 5DC500: using guessed type int dword_5DC500;

//----- (004912B8) --------------------------------------------------------
int (*sub_4912B8())(void)
{
  int (*result)(void); // eax@1
  int (**v1)(void); // esi@1

  result = (int (*)(void))&unk_5218A8;
  v1 = (int (**)(void))&unk_5218A8;
  if ( &unk_5218A8 < &unk_5218A8 )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = (int (*)(void))result();
      ++v1;
    }
    while ( v1 < (int (**)(void))&unk_5218A8 );
  }
  return result;
}

//----- (004912DC) --------------------------------------------------------
void __cdecl sub_4912DC()
{
  void (**v0)(void); // esi@1

  v0 = (void (**)(void))&unk_5218B0;
  if ( &unk_5218B0 < &unk_5218B0 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < (void (**)(void))&unk_5218B0 );
  }
}

//----- (004914AB) --------------------------------------------------------
int sub_4914AB()
{
  return _decode_pointer(dword_5CCDC4);
}
// 48B218: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 5CCDC4: using guessed type int dword_5CCDC4;

//----- (00491668) --------------------------------------------------------
int __cdecl sub_491668(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5CCDD0 = a1;
  return result;
}
// 5CCDD0: using guessed type int dword_5CCDD0;

//----- (00491672) --------------------------------------------------------
int __cdecl sub_491672(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5CCDDC = a1;
  return result;
}
// 5CCDDC: using guessed type int dword_5CCDDC;

//----- (0049167C) --------------------------------------------------------
int __cdecl sub_49167C(int a1)
{
  int result; // eax@1

  result = a1;
  dword_5CCDE0 = a1;
  return result;
}
// 5CCDE0: using guessed type int dword_5CCDE0;

//----- (0049175B) --------------------------------------------------------
_WORD *__cdecl sub_49175B(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // esi@5
  int v5; // edi@5
  int v6; // eax@5
  char v7; // bl@5
  int v8; // eax@13
  void *v9; // ST18_4@13
  DWORD v10; // eax@16
  const char *v11; // ebx@16
  char v12; // cl@19
  int *v13; // esi@19
  int v14; // eax@19
  int v15; // eax@20
  int v16; // eax@27
  signed int v17; // esi@27
  int v18; // eax@31
  int v19; // esi@36
  __int16 v20; // ax@39
  int v21; // ecx@45
  char v22; // dl@45
  int v23; // eax@46
  DWORD v24; // ecx@51
  char *v25; // eax@51
  char *v26; // edx@53
  char v27; // dl@53
  int v28; // ebx@56
  DWORD v29; // ecx@64
  char *v30; // eax@64
  __int16 *v31; // edx@66
  __int16 v32; // dx@66
  int v33; // ebx@69
  DWORD v34; // ecx@74
  WCHAR *v35; // eax@74
  WCHAR v36; // dx@76
  int v37; // esi@79
  int v38; // ebx@79
  DWORD Mode; // [sp+4h] [bp-7Ch]@13
  int v40; // [sp+8h] [bp-78h]@13
  char v41; // [sp+Fh] [bp-71h]@5
  int *v42; // [sp+10h] [bp-70h]@5
  DWORD v43; // [sp+14h] [bp-6Ch]@56
  int v44; // [sp+18h] [bp-68h]@1
  LPCVOID lpBuffer; // [sp+1Ch] [bp-64h]@1
  _WORD *v46; // [sp+20h] [bp-60h]@1
  DWORD NumberOfBytesWritten; // [sp+24h] [bp-5Ch]@16
  WCHAR WideCharStr[2]; // [sp+28h] [bp-58h]@20
  _WORD *v49; // [sp+2Ch] [bp-54h]@17
  char Buffer; // [sp+30h] [bp-50h]@51
  CHAR v51[688]; // [sp+184h] [bp+104h]@79
  WCHAR v52; // [sp+434h] [bp+3B4h]@74
  CHAR MultiByteStr; // [sp+588h] [bp+508h]@20
  char v54; // [sp+589h] [bp+509h]@20

  lpBuffer = (LPCVOID)a2;
  v46 = 0;
  v44 = 0;
  if ( !nNumberOfBytesToWrite )
    return 0;
  if ( !a2 )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  v4 = (int *)(4 * (a1 >> 5) + 6140864);
  v5 = (a1 & 0x1F) << 6;
  v6 = v5 + dword_5DB3C0[a1 >> 5];
  v7 = (char)(2 * *(_BYTE *)(v6 + 36)) >> 1;
  v42 = (int *)(4 * (a1 >> 5) + 6140864);
  v41 = v7;
  if ( (v7 == 2 || v7 == 1) && !(~(_BYTE)nNumberOfBytesToWrite & 1) )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  if ( *(_BYTE *)(v6 + 4) & 0x20 )
    sub_49A2B5(a1, 0, 0, 2u);
  if ( sub_49A495(a1) )
  {
    if ( *(_BYTE *)(v5 + dword_5DB3C0[a1 >> 5] + 4) & 0x80 )
    {
      v8 = _getptd();
      v9 = *(void **)(v5 + dword_5DB3C0[a1 >> 5]);
      v40 = *(_DWORD *)(*(_DWORD *)(v8 + 108) + 20) == 0;
      if ( GetConsoleMode(v9, &Mode) )
      {
        if ( !v40 || v7 )
        {
          v10 = GetConsoleCP();
          v11 = (const char *)lpBuffer;
          Mode = v10;
          NumberOfBytesWritten = 0;
          if ( nNumberOfBytesToWrite )
          {
            v49 = 0;
            while ( 1 )
            {
              if ( v41 )
              {
                if ( v41 == 1 || v41 == 2 )
                {
                  v19 = *(_WORD *)v11;
                  v11 += 2;
                  ++v49;
                  *(_DWORD *)WideCharStr = v19;
                  v40 = (_WORD)v19 == 10;
                }
                if ( v41 == 1 || v41 == 2 )
                {
                  v20 = _putwch_nolock(WideCharStr[0]);
                  if ( v20 != WideCharStr[0] )
                    goto LABEL_89;
                  v46 = (_WORD *)((char *)v46 + 1);
                  if ( v40 )
                  {
                    *(_DWORD *)WideCharStr = 13;
                    if ( (unsigned __int16)_putwch_nolock(13) != 13 )
                      goto LABEL_89;
                    v46 = (_WORD *)((char *)v46 + 1);
                    ++v44;
                  }
                }
                goto LABEL_43;
              }
              v12 = *v11;
              v13 = v42;
              v40 = *v11 == 10;
              v14 = v5 + *v42;
              if ( *(_DWORD *)(v14 + 56) )
              {
                MultiByteStr = *(_BYTE *)(v14 + 52);
                v54 = v12;
                *(_DWORD *)(v14 + 56) = 0;
                v15 = mbtowc(WideCharStr, &MultiByteStr, 2u);
              }
              else
              {
                if ( isleadbyte(v12) )
                {
                  if ( nNumberOfBytesToWrite + (_BYTE *)lpBuffer - v11 <= 1 )
                  {
                    v21 = *v13;
                    v22 = *v11;
                    v46 = (_WORD *)((char *)v46 + 1);
                    *(_BYTE *)(v5 + v21 + 52) = v22;
                    *(_DWORD *)(v5 + *v13 + 56) = 1;
                    goto LABEL_90;
                  }
                  if ( mbtowc(WideCharStr, v11, 2u) == -1 )
                    goto LABEL_90;
                  ++v11;
                  v49 = (_WORD *)((char *)v49 + 1);
                  goto LABEL_27;
                }
                v15 = mbtowc(WideCharStr, v11, 1u);
              }
              if ( v15 == -1 )
                goto LABEL_90;
LABEL_27:
              ++v11;
              v49 = (_WORD *)((char *)v49 + 1);
              v16 = WideCharToMultiByte(Mode, 0, WideCharStr, 1, &MultiByteStr, 5, 0, 0);
              v17 = v16;
              if ( !v16 )
                goto LABEL_90;
              if ( !WriteFile(*(HANDLE *)(v5 + *v42), &MultiByteStr, v16, &NumberOfBytesWritten, 0) )
                goto LABEL_89;
              v46 = (_WORD *)((char *)v49 + v44);
              if ( (signed int)NumberOfBytesWritten < v17 )
                goto LABEL_90;
              if ( v40 )
              {
                v18 = *v42;
                MultiByteStr = 13;
                if ( !WriteFile(*(HANDLE *)(v5 + v18), &MultiByteStr, 1u, &NumberOfBytesWritten, 0) )
                  goto LABEL_89;
                if ( (signed int)NumberOfBytesWritten < 1 )
                  goto LABEL_90;
                ++v44;
                v46 = (_WORD *)((char *)v46 + 1);
              }
LABEL_43:
              if ( (unsigned int)v49 >= nNumberOfBytesToWrite )
                goto LABEL_90;
            }
          }
          goto LABEL_91;
        }
      }
    }
  }
  v23 = v5 + dword_5DB3C0[a1 >> 5];
  if ( *(_BYTE *)(v23 + 4) & 0x80 )
  {
    *(_DWORD *)WideCharStr = 0;
    if ( v7 )
    {
      v49 = lpBuffer;
      if ( v7 == 2 )
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v29 = (char *)v49 - (_BYTE *)lpBuffer;
          v30 = &Buffer;
          do
          {
            if ( v29 >= nNumberOfBytesToWrite )
              break;
            v31 = v49;
            ++v49;
            v32 = *v31;
            v29 += 2;
            if ( v32 == 10 )
            {
              v44 += 2;
              *(_WORD *)v30 = 13;
              v30 += 2;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *(_WORD *)v30 = v32;
            v30 += 2;
          }
          while ( NumberOfBytesWritten < 0x3FF );
          v33 = v30 - &Buffer;
          if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v30 - &Buffer, &v43, 0) )
            break;
          v46 = (_WORD *)((char *)v46 + v43);
          if ( (signed int)v43 < v33 || (char *)v49 - (_BYTE *)lpBuffer >= nNumberOfBytesToWrite )
            goto LABEL_90;
          v4 = v42;
        }
      }
      else
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v34 = (char *)v49 - (_BYTE *)lpBuffer;
          v35 = &v52;
          do
          {
            if ( v34 >= nNumberOfBytesToWrite )
              break;
            v36 = *v49;
            ++v49;
            v34 += 2;
            if ( v36 == 10 )
            {
              *v35 = 13;
              ++v35;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *v35 = v36;
            ++v35;
          }
          while ( NumberOfBytesWritten < 0x152 );
          v37 = 0;
          v38 = WideCharToMultiByte(0xFDE9u, 0, &v52, v35 - &v52, v51, 683, 0, 0);
          if ( !v38 )
            break;
          while ( WriteFile(*(HANDLE *)(v5 + *v42), &v51[v37], v38 - v37, &v43, 0) )
          {
            v37 += v43;
            if ( v38 <= v37 )
              goto LABEL_84;
          }
          *(_DWORD *)WideCharStr = GetLastError();
LABEL_84:
          if ( v38 <= v37 )
          {
            v46 = (_WORD *)((char *)v49 - (_BYTE *)lpBuffer);
            if ( (char *)v49 - (_BYTE *)lpBuffer < nNumberOfBytesToWrite )
              continue;
          }
          goto LABEL_90;
        }
      }
    }
    else
    {
      NumberOfBytesWritten = (DWORD)lpBuffer;
      if ( nNumberOfBytesToWrite <= 0 )
        goto LABEL_96;
      while ( 1 )
      {
        v49 = 0;
        v24 = NumberOfBytesWritten - (_DWORD)lpBuffer;
        v25 = &Buffer;
        do
        {
          if ( v24 >= nNumberOfBytesToWrite )
            break;
          v26 = (char *)NumberOfBytesWritten++;
          v27 = *v26;
          ++v24;
          if ( v27 == 10 )
          {
            ++v44;
            *v25++ = 13;
            v49 = (_WORD *)((char *)v49 + 1);
          }
          *v25++ = v27;
          v49 = (_WORD *)((char *)v49 + 1);
        }
        while ( (unsigned int)v49 < 0x400 );
        v28 = v25 - &Buffer;
        if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v25 - &Buffer, &v43, 0) )
          break;
        v46 = (_WORD *)((char *)v46 + v43);
        if ( (signed int)v43 < v28 || NumberOfBytesWritten - (unsigned int)lpBuffer >= nNumberOfBytesToWrite )
          goto LABEL_90;
        v4 = v42;
      }
    }
  }
  else if ( WriteFile(*(HANDLE *)v23, lpBuffer, nNumberOfBytesToWrite, &v43, 0) )
  {
    *(_DWORD *)WideCharStr = 0;
    v46 = (_WORD *)v43;
    goto LABEL_90;
  }
LABEL_89:
  *(_DWORD *)WideCharStr = GetLastError();
LABEL_90:
  if ( !v46 )
  {
LABEL_91:
    if ( *(_DWORD *)WideCharStr )
    {
      if ( *(_DWORD *)WideCharStr == 5 )
      {
        *_errno() = 9;
        *__doserrno() = 5;
      }
      else
      {
        _dosmaperr(*(_DWORD *)WideCharStr);
      }
      return (_WORD *)-1;
    }
    v4 = v42;
LABEL_96:
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x40 && *(_BYTE *)lpBuffer == 26 )
      return 0;
    *_errno() = 28;
    *__doserrno() = 0;
    return (_WORD *)-1;
  }
  return (_WORD *)((char *)v46 - v44);
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 484934: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 48B468: using guessed type int _getptd(void);
// 5DB3C0: using guessed type int dword_5DB3C0[];
// 49175B: using guessed type CHAR var_410[688];

//----- (00491D7D) --------------------------------------------------------
_WORD *__cdecl sub_491D7D(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int v4; // esi@7
  _WORD *v5; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return (_WORD *)-1;
  }
  if ( a1 < 0 || a1 >= uNumber || (v4 = (a1 & 0x1F) << 6, !(*(_BYTE *)(dword_5DB3C0[a1 >> 5] + v4 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(dword_5DB3C0[a1 >> 5] + v4 + 4) & 1 )
  {
    v5 = sub_49175B(a1, a2, nNumberOfBytesToWrite);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v5 = (_WORD *)-1;
  }
  sub_484E40(a1);
  return v5;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 484DA0: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00492714) --------------------------------------------------------
int __cdecl sub_492714(FILE *a1)
{
  int v1; // eax@3
  int v2; // eax@7
  int v3; // ST10_4@10
  char *v4; // ST0C_4@10
  int v5; // eax@10
  int v6; // eax@10
  _DWORD *v7; // edi@15
  _BYTE *v8; // eax@15
  int v9; // eax@20
  char *v10; // ecx@23
  int result; // eax@23

  if ( !a1 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
  v1 = a1->_flag;
  if ( !(v1 & 0x83) || v1 & 0x40 )
    return -1;
  if ( v1 & 2 )
  {
    a1->_flag = v1 | 0x20;
    return -1;
  }
  v2 = v1 | 1;
  a1->_flag = v2;
  if ( v2 & 0x10C )
    a1->_ptr = a1->_base;
  else
    _getbuf(a1);
  v3 = a1->_bufsiz;
  v4 = a1->_base;
  v5 = _fileno(a1);
  v6 = _read(v5, v4, v3);
  a1->_cnt = v6;
  if ( !v6 || v6 == -1 )
  {
    a1->_flag |= v6 != 0 ? 32 : 16;
    a1->_cnt = 0;
    return -1;
  }
  if ( !(a1->_flag & 0x82) )
  {
    if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
    {
      v8 = &unk_533510;
    }
    else
    {
      v7 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 6140864);
      v8 = (_BYTE *)(*v7 + ((_fileno(a1) & 0x1F) << 6));
    }
    if ( (v8[4] & 0x82) == -126 )
      a1->_flag |= 0x2000u;
  }
  if ( a1->_bufsiz == 512 )
  {
    v9 = a1->_flag;
    if ( v9 & 8 )
    {
      if ( !(v9 & 0x400) )
        a1->_bufsiz = 4096;
    }
  }
  v10 = a1->_ptr;
  --a1->_cnt;
  result = (unsigned __int8)*v10;
  a1->_ptr = v10 + 1;
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 49A451: using guessed type _DWORD __cdecl _getbuf(_DWORD);

//----- (00492EF2) --------------------------------------------------------
DWORD __cdecl sub_492EF2(int a1, LONG lDistanceToMove, DWORD dwMoveMethod)
{
  void *v3; // eax@1
  DWORD result; // eax@2
  DWORD v5; // edi@3
  DWORD v6; // eax@4
  _BYTE *v7; // eax@8

  v3 = (void *)sub_484D2F(a1);
  if ( v3 == (void *)-1 )
  {
    *_errno() = 9;
    result = -1;
  }
  else
  {
    v5 = SetFilePointer(v3, lDistanceToMove, 0, dwMoveMethod);
    if ( v5 == -1 )
      v6 = GetLastError();
    else
      v6 = 0;
    if ( v6 )
    {
      _dosmaperr(v6);
      result = -1;
    }
    else
    {
      v7 = (_BYTE *)(dword_5DB3C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
      *v7 &= 0xFDu;
      result = v5;
    }
  }
  return result;
}
// 484934: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (00492F64) --------------------------------------------------------
DWORD __cdecl sub_492F64(int a1, LONG lDistanceToMove, DWORD dwMoveMethod)
{
  int v4; // esi@7
  DWORD v5; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return -1;
  }
  if ( a1 < 0 || a1 >= uNumber || (v4 = (a1 & 0x1F) << 6, !(*(_BYTE *)(dword_5DB3C0[a1 >> 5] + v4 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(dword_5DB3C0[a1 >> 5] + v4 + 4) & 1 )
  {
    v5 = sub_492EF2(a1, lDistanceToMove, dwMoveMethod);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v5 = -1;
  }
  sub_484E40(a1);
  return v5;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 484DA0: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (0049335D) --------------------------------------------------------
signed int __cdecl sub_49335D(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_533D24;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 533D24: using guessed type int dword_533D24;

//----- (00493391) --------------------------------------------------------
signed int __cdecl sub_493391(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_533D28;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 533D28: using guessed type int dword_533D28;

//----- (004933C5) --------------------------------------------------------
signed int __cdecl sub_4933C5(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_533D20;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 533D20: using guessed type int dword_533D20;

//----- (004933F9) --------------------------------------------------------
int *sub_4933F9()
{
  return &dword_533D24;
}
// 533D24: using guessed type int dword_533D24;

//----- (004933FF) --------------------------------------------------------
int *sub_4933FF()
{
  return &dword_533D28;
}
// 533D28: using guessed type int dword_533D28;

//----- (00493405) --------------------------------------------------------
int *sub_493405()
{
  return &dword_533D20;
}
// 533D20: using guessed type int dword_533D20;

//----- (0049340B) --------------------------------------------------------
void ***sub_49340B()
{
  return off_533DB0;
}
// 533DB0: using guessed type void **off_533DB0[2];

//----- (0049394F) --------------------------------------------------------
signed int __usercall sub_49394F@<eax>(int a1@<edi>)
{
  signed int v2; // edx@5
  signed int v3; // ecx@15
  int v4; // edx@18
  int v5; // eax@30
  int v6; // ecx@31
  signed int v7; // [sp+8h] [bp-8h]@15
  int v8; // [sp+Ch] [bp-4h]@1

  v8 = 0;
  if ( sub_49335D(&v8) )
    _invoke_watson(0, 0, 0, 0, 0);
  if ( !v8 )
    return 0;
  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != dword_533DB8 || v2 != dword_533DC4 )
  {
    if ( dword_5CCFA4 )
    {
      if ( TimeZoneInformation.DaylightDate.wYear )
        cvtdate(
          1,
          0,
          v2,
          0,
          0,
          TimeZoneInformation.DaylightDate.wDay,
          TimeZoneInformation.DaylightDate.wMinute,
          TimeZoneInformation.DaylightDate.wSecond,
          TimeZoneInformation.DaylightDate.wMilliseconds);
      else
        cvtdate(
          1,
          1,
          v2,
          TimeZoneInformation.DaylightDate.wDay,
          TimeZoneInformation.DaylightDate.wDayOfWeek,
          0,
          TimeZoneInformation.DaylightDate.wMinute,
          TimeZoneInformation.DaylightDate.wSecond,
          TimeZoneInformation.DaylightDate.wMilliseconds);
      if ( TimeZoneInformation.StandardDate.wYear )
        cvtdate(
          0,
          0,
          *(_DWORD *)(a1 + 20),
          0,
          0,
          TimeZoneInformation.StandardDate.wDay,
          TimeZoneInformation.StandardDate.wMinute,
          TimeZoneInformation.StandardDate.wSecond,
          TimeZoneInformation.StandardDate.wMilliseconds);
      else
        cvtdate(
          0,
          1,
          *(_DWORD *)(a1 + 20),
          TimeZoneInformation.StandardDate.wDay,
          TimeZoneInformation.StandardDate.wDayOfWeek,
          0,
          TimeZoneInformation.StandardDate.wMinute,
          TimeZoneInformation.StandardDate.wSecond,
          TimeZoneInformation.StandardDate.wMilliseconds);
    }
    else
    {
      v3 = 2;
      v7 = 1;
      if ( v2 < 107 )
      {
        v3 = 1;
        v7 = 5;
      }
      cvtdate(1, 1, v2, v3, 0, 0, 0, 0, 0);
      cvtdate(0, 1, *(_DWORD *)(a1 + 20), v7, 0, 0, 0, 0, 0);
    }
  }
  v4 = *(_DWORD *)(a1 + 28);
  if ( dword_533DBC >= dword_533DC8 )
  {
    if ( v4 < dword_533DC8 || v4 > dword_533DBC )
      return 1;
    if ( v4 <= dword_533DC8 || v4 >= dword_533DBC )
      goto LABEL_30;
    return 0;
  }
  if ( v4 < dword_533DBC || v4 > dword_533DC8 )
    return 0;
  if ( v4 > dword_533DBC && v4 < dword_533DC8 )
    return 1;
LABEL_30:
  v5 = 1000 * (*(_DWORD *)a1 + 60 * (*(_DWORD *)(a1 + 4) + 60 * *(_DWORD *)(a1 + 8)));
  if ( v4 == dword_533DBC )
  {
    v6 = v5 < dword_533DC0;
    LOBYTE(v6) = v5 >= dword_533DC0;
  }
  else
  {
    v6 = v5 < dword_533DCC;
  }
  return v6;
}
// 481DB8: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 49375A: using guessed type _DWORD __cdecl cvtdate(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 533DB8: using guessed type int dword_533DB8;
// 533DBC: using guessed type int dword_533DBC;
// 533DC0: using guessed type int dword_533DC0;
// 533DC4: using guessed type int dword_533DC4;
// 533DC8: using guessed type int dword_533DC8;
// 533DCC: using guessed type int dword_533DCC;
// 5CCFA4: using guessed type int dword_5CCFA4;

//----- (004985A4) --------------------------------------------------------
#error "4985A9: positive sp value has been found (funcsize=0)"

//----- (004985AF) --------------------------------------------------------
#error "4985B4: positive sp value has been found (funcsize=0)"

//----- (004985BA) --------------------------------------------------------
#error "4985BF: positive sp value has been found (funcsize=0)"

//----- (004985C0) --------------------------------------------------------
#error "4985C5: positive sp value has been found (funcsize=0)"

//----- (004985C6) --------------------------------------------------------
#error "4985CB: positive sp value has been found (funcsize=0)"

//----- (004985CC) --------------------------------------------------------
#error "4985D1: positive sp value has been found (funcsize=0)"

//----- (004985D2) --------------------------------------------------------
#error "4985ED: positive sp value has been found (funcsize=0)"

//----- (004985F3) --------------------------------------------------------
#error "498608: positive sp value has been found (funcsize=0)"

//----- (0049860E) --------------------------------------------------------
#error "498629: positive sp value has been found (funcsize=0)"

//----- (0049862A) --------------------------------------------------------
#error "498639: positive sp value has been found (funcsize=0)"

//----- (0049863A) --------------------------------------------------------
#error "49864D: positive sp value has been found (funcsize=0)"

//----- (0049864E) --------------------------------------------------------
#error "49865D: positive sp value has been found (funcsize=0)"

//----- (0049865E) --------------------------------------------------------
#error "49867D: positive sp value has been found (funcsize=0)"

//----- (00498683) --------------------------------------------------------
#error "49869C: positive sp value has been found (funcsize=0)"

//----- (004986A2) --------------------------------------------------------
#error "4986C1: positive sp value has been found (funcsize=0)"

//----- (004986C2) --------------------------------------------------------
#error "4986D5: positive sp value has been found (funcsize=0)"

//----- (004986D6) --------------------------------------------------------
#error "4986ED: positive sp value has been found (funcsize=0)"

//----- (004986EE) --------------------------------------------------------
#error "498701: positive sp value has been found (funcsize=0)"

//----- (00498702) --------------------------------------------------------
#error "498721: positive sp value has been found (funcsize=0)"

//----- (00498727) --------------------------------------------------------
#error "498740: positive sp value has been found (funcsize=0)"

//----- (00498746) --------------------------------------------------------
#error "498765: positive sp value has been found (funcsize=0)"

//----- (00498766) --------------------------------------------------------
#error "498779: positive sp value has been found (funcsize=0)"

//----- (0049877A) --------------------------------------------------------
#error "498791: positive sp value has been found (funcsize=0)"

//----- (00498792) --------------------------------------------------------
#error "4987A5: positive sp value has been found (funcsize=0)"

//----- (004987A6) --------------------------------------------------------
#error "4987C5: positive sp value has been found (funcsize=0)"

//----- (004987CB) --------------------------------------------------------
#error "4987E4: positive sp value has been found (funcsize=0)"

//----- (004987EA) --------------------------------------------------------
#error "498809: positive sp value has been found (funcsize=0)"

//----- (0049880A) --------------------------------------------------------
#error "49881D: positive sp value has been found (funcsize=0)"

//----- (0049881E) --------------------------------------------------------
#error "498835: positive sp value has been found (funcsize=0)"

//----- (00498836) --------------------------------------------------------
#error "498849: positive sp value has been found (funcsize=0)"

//----- (0049884A) --------------------------------------------------------
#error "498869: positive sp value has been found (funcsize=0)"

//----- (0049886F) --------------------------------------------------------
#error "498888: positive sp value has been found (funcsize=0)"

//----- (0049888E) --------------------------------------------------------
#error "4988AD: positive sp value has been found (funcsize=0)"

//----- (004988AE) --------------------------------------------------------
#error "4988C1: positive sp value has been found (funcsize=0)"

//----- (004988C2) --------------------------------------------------------
#error "4988D9: positive sp value has been found (funcsize=0)"

//----- (004988DA) --------------------------------------------------------
#error "4988ED: positive sp value has been found (funcsize=0)"

//----- (004988EE) --------------------------------------------------------
#error "49890D: positive sp value has been found (funcsize=0)"

//----- (00498913) --------------------------------------------------------
#error "49892C: positive sp value has been found (funcsize=0)"

//----- (00498932) --------------------------------------------------------
#error "498951: positive sp value has been found (funcsize=0)"

//----- (00498952) --------------------------------------------------------
#error "498965: positive sp value has been found (funcsize=0)"

//----- (00498966) --------------------------------------------------------
#error "49897D: positive sp value has been found (funcsize=0)"

//----- (0049897E) --------------------------------------------------------
#error "498991: positive sp value has been found (funcsize=0)"

//----- (00498992) --------------------------------------------------------
#error "4989B1: positive sp value has been found (funcsize=0)"

//----- (004989B7) --------------------------------------------------------
#error "4989D0: positive sp value has been found (funcsize=0)"

//----- (004989D6) --------------------------------------------------------
#error "4989F5: positive sp value has been found (funcsize=0)"

//----- (004989F6) --------------------------------------------------------
#error "498A09: positive sp value has been found (funcsize=0)"

//----- (00498A0A) --------------------------------------------------------
#error "498A21: positive sp value has been found (funcsize=0)"

//----- (00498A22) --------------------------------------------------------
#error "498A35: positive sp value has been found (funcsize=0)"

//----- (0049A00C) --------------------------------------------------------
int __cdecl sub_49A00C(int a1, int a2, int a3)
{
  HMODULE v3; // eax@2
  HMODULE v4; // edi@2
  FARPROC v5; // eax@3
  FARPROC v6; // eax@4
  FARPROC v7; // eax@4
  FARPROC v8; // eax@7
  FARPROC v9; // eax@8
  int (*v10)(void); // esi@11
  int (__stdcall *v11)(int, signed int, char *, signed int, char *); // eax@11
  int (__stdcall *v12)(int, signed int, char *, signed int, char *); // edi@11
  int v13; // eax@13
  int (*v14)(void); // eax@22
  int (__stdcall *v15)(int); // eax@25
  int (__stdcall *v16)(int, int, int, int); // eax@27
  char v18; // [sp+10h] [bp-20h]@14
  char v19; // [sp+18h] [bp-18h]@15
  char v20; // [sp+1Ch] [bp-14h]@14
  unsigned int v21; // [sp+20h] [bp-10h]@1
  int v22; // [sp+24h] [bp-Ch]@1
  int v23; // [sp+28h] [bp-8h]@1
  int v24; // [sp+2Ch] [bp-4h]@1

  v23 = _encoded_null();
  v24 = 0;
  v22 = 0;
  v21 = 0;
  if ( !dword_5CD120 )
  {
    v3 = LoadLibraryA("USER32.DLL");
    v4 = v3;
    if ( !v3 )
      return 0;
    v5 = GetProcAddress(v3, "MessageBoxA");
    if ( !v5 )
      return 0;
    dword_5CD120 = _encode_pointer(v5);
    v6 = GetProcAddress(v4, "GetActiveWindow");
    dword_5CD124 = _encode_pointer(v6);
    v7 = GetProcAddress(v4, "GetLastActivePopup");
    dword_5CD128 = _encode_pointer(v7);
    if ( sub_484056(&v22) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v22 == 2 )
    {
      v8 = GetProcAddress(v4, "GetUserObjectInformationA");
      dword_5CD130 = _encode_pointer(v8);
      if ( dword_5CD130 )
      {
        v9 = GetProcAddress(v4, "GetProcessWindowStation");
        dword_5CD12C = _encode_pointer(v9);
      }
    }
  }
  if ( dword_5CD12C == v23
    || dword_5CD130 == v23
    || (v10 = (int (*)(void))_decode_pointer(dword_5CD12C),
        v11 = (int (__stdcall *)(int, signed int, char *, signed int, char *))_decode_pointer(dword_5CD130),
        v12 = v11,
        !v10)
    || !v11
    || (v13 = v10()) != 0 && v12(v13, 1, &v18, 12, &v20) && v19 & 1 )
  {
    if ( dword_5CD124 != v23 )
    {
      v14 = (int (*)(void))_decode_pointer(dword_5CD124);
      if ( v14 )
      {
        v24 = v14();
        if ( v24 )
        {
          if ( dword_5CD128 != v23 )
          {
            v15 = (int (__stdcall *)(int))_decode_pointer(dword_5CD128);
            if ( v15 )
              v24 = v15(v24);
          }
        }
      }
    }
  }
  else
  {
    if ( sub_48408D(&v21) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v21 < 4 )
      a3 |= 0x40000u;
    else
      a3 |= 0x200000u;
  }
  v16 = (int (__stdcall *)(int, int, int, int))_decode_pointer(dword_5CD120);
  if ( v16 )
    return v16(v24, a1, a2, a3);
  return 0;
}
// 481DB8: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 48B1A1: using guessed type _DWORD __cdecl _encode_pointer(_DWORD);
// 48B20F: using guessed type int _encoded_null(void);
// 48B218: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 5CD120: using guessed type int dword_5CD120;
// 5CD124: using guessed type int dword_5CD124;
// 5CD128: using guessed type int dword_5CD128;
// 5CD12C: using guessed type int dword_5CD12C;
// 5CD130: using guessed type int dword_5CD130;

//----- (0049A2B5) --------------------------------------------------------
DWORD __cdecl sub_49A2B5(int a1, int a2, int a3, DWORD dwMoveMethod)
{
  void *v4; // eax@1
  DWORD v6; // eax@5
  _BYTE *v7; // eax@7
  DWORD lDistanceToMove; // [sp+8h] [bp-8h]@4
  LONG DistanceToMoveHigh; // [sp+Ch] [bp-4h]@1

  DistanceToMoveHigh = a3;
  v4 = (void *)sub_484D2F(a1);
  if ( v4 == (void *)-1 )
  {
    *_errno() = 9;
    return -1;
  }
  lDistanceToMove = SetFilePointer(v4, a2, &DistanceToMoveHigh, dwMoveMethod);
  if ( lDistanceToMove == -1 )
  {
    v6 = GetLastError();
    if ( v6 )
    {
      _dosmaperr(v6);
      return -1;
    }
  }
  v7 = (_BYTE *)(dword_5DB3C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
  *v7 &= 0xFDu;
  return lDistanceToMove;
}
// 484934: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (0049A495) --------------------------------------------------------
int __cdecl sub_49A495(signed int a1)
{
  int result; // eax@2

  if ( a1 == -2 )
  {
    *_errno() = 9;
    result = 0;
  }
  else if ( a1 >= 0 && a1 < uNumber )
  {
    result = *(_BYTE *)(dword_5DB3C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) & 0x40;
  }
  else
  {
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 0;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (0049A923) --------------------------------------------------------
int __cdecl sub_49A923(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_49B69D((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 496F80: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0049A9C9) --------------------------------------------------------
int __cdecl sub_49A9C9(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_49BBDF((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 496F80: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0049AD68) --------------------------------------------------------
int __cdecl sub_49AD68(int a1, FILE *a2)
{
  _DWORD *v2; // edi@4
  _BYTE *v3; // eax@4
  _DWORD *v4; // edi@9
  _BYTE *v5; // eax@9
  int v7; // eax@16
  char *v8; // eax@24
  int v9; // eax@28

  if ( !(a2->_flag & 0x40) )
  {
    if ( _fileno(a2) == -1 || _fileno(a2) == -2 )
    {
      v3 = &unk_533510;
    }
    else
    {
      v2 = (_DWORD *)(4 * (_fileno(a2) >> 5) + 6140864);
      v3 = (_BYTE *)(*v2 + ((_fileno(a2) & 0x1F) << 6));
    }
    if ( v3[36] & 0x7F
      || (_fileno(a2) == -1 || _fileno(a2) == -2 ? (v5 = &unk_533510) : (v4 = (_DWORD *)(4 * (_fileno(a2) >> 5) + 6140864),
                                                                         v5 = (_BYTE *)(*v4 + ((_fileno(a2) & 0x1F) << 6))),
          v5[36] & 0x80) )
    {
      *_errno() = 22;
      _invalid_parameter(0, 0, 0, 0, 0);
      return -1;
    }
  }
  if ( a1 == -1 )
    return -1;
  v7 = a2->_flag;
  if ( !(v7 & 1) && ((char)v7 >= 0 || v7 & 2) )
    return -1;
  if ( !a2->_base )
    _getbuf(a2);
  if ( a2->_ptr == a2->_base )
  {
    if ( a2->_cnt )
      return -1;
    ++a2->_ptr;
  }
  v8 = --a2->_ptr;
  if ( a2->_flag & 0x40 )
  {
    if ( *v8 != (_BYTE)a1 )
    {
      a2->_ptr = v8 + 1;
      return -1;
    }
  }
  else
  {
    *v8 = a1;
  }
  v9 = a2->_flag;
  ++a2->_cnt;
  a2->_flag = v9 & 0xFFFFFFEF | 1;
  return (unsigned __int8)a1;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 49A451: using guessed type _DWORD __cdecl _getbuf(_DWORD);

//----- (0049B69D) --------------------------------------------------------
signed int __cdecl sub_49B69D(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_534310 - 1;
    v64 = v3;
    v65 = dword_534310 / 32;
    v9 = dword_534310 % 32;
    v10 = (int *)(&v60 + dword_534310 / 32);
    v66 = 31 - dword_534310 % 32;
    if ( (1 << (31 - dword_534310 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_53430C - dword_534310 )
    {
      if ( v3 > dword_53430C )
      {
        if ( v3 < dword_534308 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_53431C + v3;
          v50 = dword_534314 / 32;
          v51 = dword_534314 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_534314 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_534314 / 32;
          v44 = dword_534314 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_534314 % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_53431C + dword_534308;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_53430C - v64) / 32;
      v62 = v59;
      v18 = (dword_53430C - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_534310 - 1;
      v25 = dword_534310 / 32;
      v65 = dword_534310 / 32;
      v26 = (int *)(&v60 + dword_534310 / 32);
      v64 = 31 - dword_534310 % 32;
      if ( (1 << (31 - dword_534310 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_534310 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_534314 + 1) / 32;
      v37 = (dword_534314 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_534314));
  if ( dword_534318 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_534318 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 534308: using guessed type int dword_534308;
// 53430C: using guessed type int dword_53430C;
// 534310: using guessed type int dword_534310;
// 534314: using guessed type int dword_534314;
// 534318: using guessed type int dword_534318;
// 53431C: using guessed type int dword_53431C;

//----- (0049BBDF) --------------------------------------------------------
signed int __cdecl sub_49BBDF(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_534328 - 1;
    v64 = v3;
    v65 = dword_534328 / 32;
    v9 = dword_534328 % 32;
    v10 = (int *)(&v60 + dword_534328 / 32);
    v66 = 31 - dword_534328 % 32;
    if ( (1 << (31 - dword_534328 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_534324 - dword_534328 )
    {
      if ( v3 > dword_534324 )
      {
        if ( v3 < dword_534320 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_534334 + v3;
          v50 = dword_53432C / 32;
          v51 = dword_53432C % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_53432C % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_53432C / 32;
          v44 = dword_53432C % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_53432C % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_534334 + dword_534320;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_534324 - v64) / 32;
      v62 = v59;
      v18 = (dword_534324 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_534328 - 1;
      v25 = dword_534328 / 32;
      v65 = dword_534328 / 32;
      v26 = (int *)(&v60 + dword_534328 / 32);
      v64 = 31 - dword_534328 % 32;
      if ( (1 << (31 - dword_534328 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_534328 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_53432C + 1) / 32;
      v37 = (dword_53432C + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_53432C));
  if ( dword_534330 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_534330 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 534320: using guessed type int dword_534320;
// 534324: using guessed type int dword_534324;
// 534328: using guessed type int dword_534328;
// 53432C: using guessed type int dword_53432C;
// 534330: using guessed type int dword_534330;
// 534334: using guessed type int dword_534334;

//----- (0049C4A1) --------------------------------------------------------
signed int __cdecl sub_49C4A1(signed int a1, int a2)
{
  _DWORD *v2; // edx@1
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // eax@1
  _BYTE *v6; // ecx@6
  char v7; // dl@6
  signed int result; // eax@12
  int v9; // [sp+14h] [bp+8h]@1

  v2 = (_DWORD *)(4 * (a1 >> 5) + 6140864);
  v3 = (a1 & 0x1F) << 6;
  v4 = dword_5DB3C0[a1 >> 5] + v3;
  v9 = *(_BYTE *)(v4 + 4) & 0x80;
  v5 = (char)(2 * *(_BYTE *)(v4 + 36)) >> 1;
  if ( a2 == 0x4000 )
  {
    *(_BYTE *)(v4 + 4) |= 0x80u;
    *(_BYTE *)(*v2 + v3 + 36) &= 0x80u;
  }
  else if ( a2 == 0x8000 )
  {
    *(_BYTE *)(v4 + 4) &= 0x7Fu;
  }
  else
  {
    if ( a2 == 0x10000 || a2 == 0x20000 )
    {
      *(_BYTE *)(v4 + 4) |= 0x80u;
      v6 = (_BYTE *)(*v2 + v3 + 36);
      v7 = *v6 & 0x82 | 2;
    }
    else
    {
      if ( a2 != 0x40000 )
        goto LABEL_11;
      *(_BYTE *)(v4 + 4) |= 0x80u;
      v6 = (_BYTE *)(*v2 + v3 + 36);
      v7 = *v6 & 0x81 | 1;
    }
    *v6 = v7;
  }
LABEL_11:
  if ( v9 )
    result = v5 != 0 ? 0x10000 : 0x4000;
  else
    result = 0x8000;
  return result;
}
// 5DB3C0: using guessed type int dword_5DB3C0[];

//----- (0049C55D) --------------------------------------------------------
signed int __cdecl sub_49C55D(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_5CD138;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 481EB4: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 5CD138: using guessed type int dword_5CD138;

//----- (0049D887) --------------------------------------------------------
void *__thiscall sub_49D887(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_51B08C;
  sub_404470((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 51B08C: using guessed type int (__thiscall *off_51B08C)(void *, char);

//----- (0049D8A9) --------------------------------------------------------
void __noreturn sub_49D8A9()
{
  int (__thiscall **v0)(void *, char); // [sp+Ch] [bp-50h]@1
  char v1; // [sp+34h] [bp-28h]@1
  int v2; // [sp+58h] [bp-4h]@1

  sub_404980((int)&v1, "string too long");
  v2 = 0;
  sub_404400(&v0, (int)&v1);
  v0 = &off_4AB9E0;
  _CxxThrowException(&v0, &unk_521B60);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4AB9E0: using guessed type int (__thiscall *off_4AB9E0)(void *, char);

//----- (0049D8E8) --------------------------------------------------------
void __noreturn sub_49D8E8()
{
  int (__thiscall **v0)(void *, char); // [sp+Ch] [bp-50h]@1
  char v1; // [sp+34h] [bp-28h]@1
  int v2; // [sp+58h] [bp-4h]@1

  sub_404980((int)&v1, "invalid string position");
  v2 = 0;
  sub_404400(&v0, (int)&v1);
  v0 = &off_51B08C;
  _CxxThrowException(&v0, &unk_524F3C);
}
// 481EE8: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 51B08C: using guessed type int (__thiscall *off_51B08C)(void *, char);

//----- (0049D93F) --------------------------------------------------------
UINT sub_49D93F()
{
  UINT v0; // esi@1
  LCID v1; // eax@1
  CHAR v2; // cl@2
  CHAR *v3; // eax@2
  CHAR LCData; // [sp+4h] [bp-Ch]@1

  v0 = 0;
  v1 = GetThreadLocale();
  if ( !GetLocaleInfoA(v1, 0x1004u, &LCData, 7) )
    goto LABEL_9;
  v2 = LCData;
  v3 = &LCData;
  if ( !LCData )
    goto LABEL_9;
  do
  {
    ++v3;
    v0 = 10 * v0 + v2 - 48;
    v2 = *v3;
  }
  while ( *v3 );
  if ( !v0 )
LABEL_9:
    v0 = GetACP();
  return v0;
}

//----- (0049D9A4) --------------------------------------------------------
signed int sub_49D9A4()
{
  return 3;
}

//----- (0049D9A8) --------------------------------------------------------
int sub_49D9A8()
{
  void *v0; // eax@2
  struct _OSVERSIONINFOA VersionInformation; // [sp+0h] [bp-98h]@1

  VersionInformation.dwOSVersionInfoSize = 148;
  GetVersionExA(&VersionInformation);
  if ( VersionInformation.dwPlatformId != 2 || (v0 = sub_49D9A4, VersionInformation.dwMajorVersion < 5) )
    v0 = sub_49D93F;
  InterlockedExchange(&Target, (LONG)v0);
  return ((int (*)(void))Target)();
}
// 534624: invalid function type has been ignored

//----- (0049DA6B) --------------------------------------------------------
__int32 __stdcall sub_49DA6B(int a1)
{
  __int32 result; // eax@2

  if ( a1 && *(_DWORD *)a1 == 44 )
  {
    *(_DWORD *)(a1 + 28) = 0;
    result = ATL::CComCriticalSection::Init((ATL::CComCriticalSection *)(a1 + 4));
  }
  else
  {
    result = -2147024809;
  }
  return result;
}

//----- (0049DAEC) --------------------------------------------------------
int __stdcall sub_49DAEC(int a1, HINSTANCE hInstance)
{
  int i; // edi@5
  _WORD *v4; // eax@6

  if ( !a1 )
    return -2147024809;
  if ( *(_DWORD *)a1 )
  {
    if ( *(_DWORD *)a1 != 44 )
      return -2147024809;
    for ( i = 0; i < *(_DWORD *)(a1 + 36); ++i )
    {
      v4 = (_WORD *)ATL::CSimpleArray<unsigned short,ATL::CSimpleArrayEqualHelper<unsigned short>>::operator[](i);
      UnregisterClassA((LPCSTR)*v4, hInstance);
    }
    unknown_libname_139(a1 + 32);
    DeleteCriticalSection((LPCRITICAL_SECTION)(a1 + 4));
    *(_DWORD *)a1 = 0;
  }
  return 0;
}
// 49DA8E: using guessed type int __thiscall unknown_libname_139(_DWORD);
// 49DAAB: using guessed type _DWORD __stdcall ATL::CSimpleArray<unsigned short,ATL::CSimpleArrayEqualHelper<unsigned short>>::operator[](_DWORD);

//----- (0049DB4C) --------------------------------------------------------
int __thiscall sub_49DB4C(int this)
{
  int v1; // esi@1

  v1 = this;
  ATL::CComCriticalSection::CComCriticalSection((ATL::CComCriticalSection *)(this + 24));
  *(_DWORD *)(v1 + 48) = 0;
  *(_DWORD *)(v1 + 52) = 0;
  *(_DWORD *)(v1 + 56) = 0;
  return v1;
}

//----- (0049DB7C) --------------------------------------------------------
ATL::_ATL_WIN_MODULE70 *__thiscall sub_49DB7C(ATL::_ATL_WIN_MODULE70 *this)
{
  ATL::_ATL_WIN_MODULE70 *v1; // esi@1

  v1 = this;
  ATL::_ATL_WIN_MODULE70::_ATL_WIN_MODULE70(this);
  *(_DWORD *)v1 = 44;
  if ( sub_49DA6B((int)v1) < 0 )
  {
    byte_534640 = 1;
    *(_DWORD *)v1 = 0;
  }
  return v1;
}
// 534640: using guessed type char byte_534640;

//----- (0049DBA2) --------------------------------------------------------
void *__thiscall sub_49DBA2(void *this)
{
  void *v1; // esi@1
  struct _OSVERSIONINFOA VersionInformation; // [sp+4h] [bp-20h]@1

  v1 = this;
  sub_49DB4C((int)this);
  *((_DWORD *)v1 + 2) = &_ImageBase;
  *((_DWORD *)v1 + 1) = &_ImageBase;
  *(_DWORD *)v1 = 60;
  *((_BYTE *)v1 + 12) = 0;
  memset(&VersionInformation, 0, 0x94u);
  VersionInformation.dwOSVersionInfoSize = 148;
  GetVersionExA(&VersionInformation);
  if ( VersionInformation.dwPlatformId == 2 )
  {
    if ( VersionInformation.dwMajorVersion < 5 )
      goto LABEL_9;
    goto LABEL_8;
  }
  if ( VersionInformation.dwPlatformId == 1
    && (VersionInformation.dwMajorVersion > 4
     || VersionInformation.dwMajorVersion == 4 && VersionInformation.dwMinorVersion) )
  {
LABEL_8:
    *((_BYTE *)v1 + 12) = 1;
  }
LABEL_9:
  *((_DWORD *)v1 + 4) = 2048;
  *((_DWORD *)v1 + 5) = &unk_51B0CC;
  if ( ATL::CComCriticalSection::Init((ATL::CComCriticalSection *)((char *)v1 + 24)) < 0 )
    byte_534640 = 1;
  return v1;
}
// 534640: using guessed type char byte_534640;

//----- (0049DE60) --------------------------------------------------------
signed int __cdecl sub_49DE60(unsigned int a1, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // esi@1
  signed int result; // eax@3

  v4 = sub_49DEE0(a1);
  v5 = v4;
  if ( v4 < 0xFFFFFFC2 && v4 )
  {
    if ( sub_49EE00(v4, a4, 0) == a4 )
      result = sub_49EDA0(v5, a2, a3);
    else
      result = -15;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (0049DEC0) --------------------------------------------------------
signed int __cdecl sub_49DEC0(unsigned int a1, int a2, int a3)
{
  unsigned int v3; // eax@1

  v3 = sub_49DEE0(a1);
  return sub_49EE00(v3, a2, a3);
}

//----- (0049DEE0) --------------------------------------------------------
unsigned int __cdecl sub_49DEE0(unsigned int a1)
{
  unsigned int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = a1 & 0xFFFFFFFC;
  else
    result = 0;
  return result;
}

//----- (0049DF00) --------------------------------------------------------
bool __cdecl sub_49DF00(int a1)
{
  bool result; // al@1
  unsigned int v2; // eax@4
  _DWORD *v3; // edx@4
  _DWORD *v4; // esi@4
  int v5; // ecx@8
  int v6; // eax@9
  _BYTE *v7; // edx@9
  _BYTE *v8; // esi@9
  int v9; // eax@11
  _BYTE *v10; // edx@11
  _BYTE *v11; // esi@11
  _BYTE *v12; // edx@13
  _BYTE *v13; // esi@13
  int v14; // edx@14
  signed int v15; // eax@15

  result = *(_DWORD *)(a1 + 88) == ~*(_DWORD *)(a1 + 36);
  if ( *(_WORD *)(a1 + 30) != 99 || !result && *(_WORD *)(a1 + 684) != 2 )
    return result;
  v2 = 10;
  v3 = (_DWORD *)(a1 + 693);
  v4 = (_DWORD *)(a1 + 721);
  do
  {
    if ( *v4 != *v3 )
      goto LABEL_8;
    v2 -= 4;
    ++v3;
    ++v4;
  }
  while ( v2 >= 4 );
  if ( !v2 )
  {
LABEL_17:
    v15 = 0;
    return v15 == 0;
  }
LABEL_8:
  v5 = *(_BYTE *)v4 - *(_BYTE *)v3;
  if ( *(_BYTE *)v4 == *(_BYTE *)v3 )
  {
    v6 = v2 - 1;
    v7 = (char *)v3 + 1;
    v8 = (char *)v4 + 1;
    if ( !v6 )
      goto LABEL_17;
    v5 = *v8 - *v7;
    if ( *v8 == *v7 )
    {
      v9 = v6 - 1;
      v10 = v7 + 1;
      v11 = v8 + 1;
      if ( !v9 )
        goto LABEL_17;
      v5 = *v11 - *v10;
      if ( *v11 == *v10 )
      {
        v12 = v10 + 1;
        v13 = v11 + 1;
        if ( v9 == 1 )
          goto LABEL_17;
        v14 = *v12;
        v5 = *v13 - v14;
        if ( *v13 == v14 )
          goto LABEL_17;
      }
    }
  }
  v15 = 1;
  if ( v5 <= 0 )
    return 0;
  return v15 == 0;
}

//----- (0049DFD0) --------------------------------------------------------
int __cdecl sub_49DFD0(int a1)
{
  return *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 32) + *(_WORD *)(a1 + 28) + 46;
}

//----- (0049DFF0) --------------------------------------------------------
int __cdecl sub_49DFF0(int a1, int a2)
{
  int result; // eax@2

  if ( a2 )
    result = *(_WORD *)(a2 + 28) + *(_WORD *)(a2 + 26) + 30;
  else
    result = -16 - *(_WORD *)(a1 + 52) + sub_49DFD0(a1 + 20);
  return result;
}

//----- (0049E030) --------------------------------------------------------
signed int __cdecl sub_49E030(int a1, void *a2, unsigned __int16 a3, __int16 a4)
{
  int v4; // edi@1
  int v5; // ebx@1
  int v6; // esi@1
  signed int result; // eax@1
  int v8; // ebp@1

  v4 = a1;
  v5 = *(_DWORD *)(a1 + 732);
  v6 = 0;
  result = -15;
  v8 = *(_WORD *)(a1 + 48) + *(_DWORD *)(a1 + 16) + 46;
  if ( *(_WORD *)(a1 + 50) >= 4u )
  {
    while ( (unsigned int)(v6 + v8) < *(_DWORD *)(v5 + 120) )
    {
      if ( sub_480220(*(_DWORD *)(v5 + 4), &a1, 4, v6 + v8, 0) != 4 )
        return -15;
      if ( (_WORD)a1 == a4 && (unsigned int)HIWORD(a1) + 4 <= a3 )
        return sub_480220(*(_DWORD *)(v5 + 4), a2, HIWORD(a1) + 4, v6 + v8, 0);
      v6 += HIWORD(a1) + 4;
      result = -15;
      if ( v6 + 4 > (unsigned int)*(_WORD *)(v4 + 50) )
        return result;
    }
  }
  return result;
}

//----- (0049E0F0) --------------------------------------------------------
int __cdecl sub_49E0F0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 12) = 0;
  return result;
}

//----- (0049E130) --------------------------------------------------------
int __usercall sub_49E130@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // eax@2
  int result; // eax@2
  int v4; // eax@3
  __int16 v5; // cx@3
  int v6; // edx@3

  sub_4A2B60(a2 + 721, a1 + 64);
  if ( *(_DWORD *)(a2 + 44) )
  {
    v4 = *(_DWORD *)(a2 + 725);
    v5 = *(_WORD *)(a2 + 729);
    *(_DWORD *)(a2 + 693) = *(_DWORD *)(a2 + 721);
    v6 = *(_DWORD *)(a2 + 732);
    *(_DWORD *)(a2 + 697) = v4;
    *(_WORD *)(a2 + 701) = v5;
    result = j_FIL_vfs_write(*(_DWORD *)(v6 + 116), a2 + 721, 10);
    *(_DWORD *)(a2 + 136) += 10;
    *(_DWORD *)(a2 + 40) += 10;
  }
  else
  {
    v2 = sub_480300(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116));
    result = sub_480320(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), v2 - *(_WORD *)(a2 + 50) - *(_DWORD *)(a2 + 40), 0);
    *(_DWORD *)(a2 + 84) -= *(_WORD *)(a2 + 50);
    *(_DWORD *)(a2 + 136) = 0;
    *(_WORD *)(a2 + 28) &= 0xFFFEu;
    *(_DWORD *)(a2 + 40) = 0;
    *(_WORD *)(a2 + 50) = 0;
    *(_WORD *)(a2 + 30) = 0;
    *(_WORD *)(a2 + 80) = 0;
  }
  return result;
}
// 480340: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (0049E1E0) --------------------------------------------------------
signed int __usercall sub_49E1E0@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // edi@1
  char v3; // ST30_1@2
  int v4; // ST28_4@2
  int v5; // eax@2
  __int64 v6; // rax@2
  int v7; // ebx@2
  char *v8; // ebp@2
  __int64 v9; // rax@3
  signed int result; // eax@4
  _WORD *v11; // edi@5
  _WORD *v12; // [sp+Ch] [bp-4h]@4

  v2 = a1;
  if ( *(_BYTE *)(a2 + 8) )
  {
    *(_WORD *)(a1 + 532) = -26367;
    *(_WORD *)(a1 + 534) = 7;
    *(_WORD *)(a1 + 536) = 1;
    *(_BYTE *)(a1 + 538) = 65;
    *(_BYTE *)(a1 + 539) = 69;
    v3 = *(_DWORD *)(a2 + 84);
    *(_DWORD *)(a2 + 76) = a1 + 532;
    v4 = a1 + 532;
    v5 = *(_DWORD *)(a2 + 732);
    *(_WORD *)(a2 + 50) = 11;
    *(_WORD *)(a2 + 80) = 11;
    sub_480350(*(_DWORD *)(v5 + 116), v4, 11, v3);
    *(_DWORD *)(a2 + 84) += *(_WORD *)(a2 + 80);
    *(_BYTE *)(v2 + 540) = *(_BYTE *)(*(_DWORD *)(a2 + 732) + 112);
    v6 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v6) & 7) + (signed int)v6) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_4A2FB0((void *)(v2 + 555), v7);
  }
  else
  {
    sub_49E030(a2, (void *)(a1 + 532), 0xBu, -26367);
    v9 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v9) & 7) + (signed int)v9) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_480220(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 555), v7, *(_DWORD *)(a2 + 84), 0);
    sub_480220(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 571), 2, v7 + *(_DWORD *)(a2 + 84), 0);
  }
  v12 = (_WORD *)(v2 + 543);
  result = sub_4A2E80(*(_BYTE *)(v2 + 540), (void *)v2, strlen((const char *)v2), v8, (_WORD *)(v2 + 543), v2 + 64);
  if ( *(_BYTE *)(a2 + 8) )
  {
    sub_480350(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v8, v7, *(_DWORD *)(a2 + 84));
    v11 = (_WORD *)(v2 + 571);
    *v11 = *v12;
    sub_480350(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v11, 2, v7 + *(_DWORD *)(a2 + 84));
    result = v7 + 2;
    *(_DWORD *)(a2 + 136) += v7 + 2;
    *(_DWORD *)(a2 + 40) += v7 + 2;
  }
  else
  {
    *(_DWORD *)(a2 + 92) += -12 - v7;
    *(_DWORD *)(a2 + 124) += v7 + 2;
  }
  return result;
}

//----- (0049E3B0) --------------------------------------------------------
char __usercall sub_49E3B0@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>)
{
  return sub_4A2B10(a2, a3, a1 + 212);
}

//----- (0049E3C0) --------------------------------------------------------
int __usercall sub_49E3C0@<eax>(int result@<eax>)
{
  if ( *(_WORD *)(result + 30) == 99 )
    result = sub_49E130(result + 148, result);
  return result;
}

//----- (0049E3E0) --------------------------------------------------------
char __usercall sub_49E3E0@<al>(int a1@<eax>)
{
  int v1; // eax@1

  v1 = (*(_DWORD *)(a1 + 72) & 0xFFFD | 2) * ((*(_DWORD *)(a1 + 72) & 0xFFFD | 2) ^ 1);
  return BYTE1(v1);
}

//----- (0049E400) --------------------------------------------------------
int __usercall sub_49E400@<eax>(int a1@<esi>, unsigned __int8 a2)
{
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@1
  int result; // eax@1

  v2 = sub_480E10(a2, *(_DWORD *)(a1 + 64));
  v3 = *(_DWORD *)(a1 + 72);
  *(_DWORD *)(a1 + 64) = v2;
  v4 = 134775813 * (*(_DWORD *)(a1 + 68) + (unsigned __int8)v2) + 1;
  *(_DWORD *)(a1 + 68) = v4;
  result = sub_480E10(BYTE3(v4), v3);
  *(_DWORD *)(a1 + 72) = result;
  return result;
}

//----- (0049E440) --------------------------------------------------------
int __fastcall sub_49E440(int a1, int a2)
{
  int result; // eax@1

  result = *(_WORD *)(a2 + 30);
  if ( *(_WORD *)(a2 + 30) == 99 )
    result = *(_WORD *)(a2 + 689);
  return result;
}

//----- (0049E460) --------------------------------------------------------
int __usercall sub_49E460@<eax>(int a1@<esi>)
{
  int v1; // ST1C_4@1
  unsigned int v2; // ST18_4@1
  int v3; // eax@1
  int v4; // ST00_4@1

  v1 = *(_DWORD *)(a1 + 20) + *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)a1 = v1;
  sub_480370(v2, v1, 0);
  j_FIL_vfs_write(*(_DWORD *)(a1 + 4), a1 + 8, 22);
  v3 = *(_DWORD *)a1 + 22;
  v4 = *(_DWORD *)(a1 + 116);
  *(_DWORD *)(a1 + 120) = v3;
  return sub_480320(v4, v3, 0);
}
// 480340: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (0049E4A0) --------------------------------------------------------
signed int __usercall sub_49E4A0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6)
{
  __int16 v6; // ax@1
  unsigned int *v7; // ecx@1
  int v8; // esi@1
  signed int v9; // eax@1
  unsigned int v10; // eax@1
  int v11; // ebx@1
  int v12; // ebx@1
  int v13; // eax@4
  int v14; // ecx@6
  int v15; // ebp@8
  unsigned int v16; // ebx@11
  __int64 v17; // rax@14
  unsigned int v18; // ecx@15
  unsigned int v19; // ebp@15
  int v21; // ebx@20
  signed int v22; // eax@23
  size_t v23; // ebp@29
  int v24; // ebx@33
  int v25; // [sp+Ch] [bp-8h]@1
  __int16 v26; // [sp+10h] [bp-4h]@1

  v6 = sub_49E440(a1, a3);
  v7 = *(unsigned int **)(a2 + 16);
  v8 = a2 + 28;
  v26 = v6;
  *(_DWORD *)v8 = v7;
  v9 = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v8 + 4) = v9;
  v25 = 0;
  v10 = sub_480E30(v7, v9, *(_DWORD *)a2);
  v11 = *(_DWORD *)(a2 + 12);
  *(_DWORD *)a2 = v10;
  v12 = v11 + 0xFFFFF;
  while ( 1 )
  {
    if ( !*(_DWORD *)(a2 + 32) )
    {
      if ( !a6 )
        goto LABEL_37;
      v13 = *(_DWORD *)(a2 + 12);
      if ( *(_DWORD *)(a2 + 44) == v13 && v12 != v13 + 0xFFFFF )
        break;
    }
    v14 = *(_DWORD *)(a2 + 12);
    if ( !v14 )
      break;
    if ( !--v12 )
      break;
    v15 = *(_DWORD *)(a2 + 44);
    if ( !v15 || a6 && v15 != v14 )
    {
      v16 = *(_DWORD *)(a2 + 48);
      if ( v16
        && (v16 >= 0x28
         || *(_WORD *)(a3 + 30) != 99
         || (v17 = ((*(_BYTE *)(a3 + 688) & 3) + 1) << 6, v16 != (((BYTE4(v17) & 7) + (signed int)v17) >> 3) / 2 + 2)) )
      {
        v18 = v14 - v15;
        v19 = v18;
        if ( *(_BYTE *)(a3 + 28) & 1 )
          sub_49E3B0(a3, *(char **)(a2 + 8), v18);
        if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v19) != v19 )
          return -16;
      }
      else
      {
        v19 = 0;
      }
      v21 = *(_DWORD *)(a2 + 12);
      *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
      v12 = v21 + 0xFFFFF;
      v25 += v19;
      *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    }
    if ( v26 == 8 )
    {
      if ( a6 )
        v22 = sub_4A4D60(a2 + 28, 4);
      else
        v22 = sub_4A4D60(a2 + 28, 0);
      if ( v22 && v22 != 1 )
        return -15;
    }
    else
    {
      if ( v26 )
        return -15;
      v23 = *(_DWORD *)(a2 + 44);
      if ( *(_DWORD *)(a2 + 32) < v23 )
        v23 = *(_DWORD *)(a2 + 32);
      memcpy(*(void **)(a2 + 40), *(const void **)v8, v23);
      *(_DWORD *)(a2 + 32) -= v23;
      *(_DWORD *)(a2 + 44) -= v23;
      *(_DWORD *)v8 += v23;
      *(_DWORD *)(a2 + 40) += v23;
      *(_DWORD *)(a2 + 36) += v23;
      *(_DWORD *)(a2 + 48) += v23;
    }
  }
  if ( a6 )
  {
    v24 = *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44);
    if ( *(_BYTE *)(a3 + 28) & 1 )
      sub_49E3B0(a3, *(char **)(a2 + 8), *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44));
    if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v24) != v24 )
      return -16;
    v25 += v24;
    *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
  }
LABEL_37:
  *(_DWORD *)(a5 + 24) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(a5 + 20) = *(_DWORD *)(a2 + 48);
  return v25;
}
// 480340: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (0049E6B0) --------------------------------------------------------
int __cdecl sub_49E6B0(int a1)
{
  int v1; // ebx@1
  int v2; // esi@1
  unsigned int v3; // ebp@1
  bool v4; // zf@1
  int v5; // ecx@1
  __int16 v6; // cx@4
  __int16 v7; // ax@4
  __int16 v8; // dx@4
  __int16 v9; // cx@4
  unsigned int v10; // edx@4
  int v11; // eax@4
  unsigned int v12; // ecx@4
  int v13; // eax@4
  int result; // eax@5
  int v15; // eax@6
  unsigned __int16 v16; // ax@7
  int v17; // eax@11
  int v18; // edx@13
  int v19; // edi@13
  int v20; // eax@13
  unsigned __int16 v21; // cx@14
  int v22; // [sp+10h] [bp-28h]@4
  char v23; // [sp+14h] [bp-24h]@3
  int v24; // [sp+18h] [bp-20h]@1
  int v25; // [sp+1Ch] [bp-1Ch]@1
  int v26; // [sp+20h] [bp-18h]@1
  int v27; // [sp+24h] [bp-14h]@1
  __int64 v28; // [sp+28h] [bp-10h]@1
  int v29; // [sp+30h] [bp-8h]@1
  __int16 v30; // [sp+34h] [bp-4h]@1
  int v31; // [sp+3Ch] [bp+4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 732);
  v31 = *(_DWORD *)(v2 + 116);
  sub_49E3C0(v1);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_WORD *)(v1 + 32) == 0;
  v5 = ~*(_DWORD *)(v1 + 88);
  v24 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0i64;
  v29 = 0;
  v30 = 0;
  *(_DWORD *)(v1 + 36) = v5;
  if ( v4 || !*(_WORD *)(v1 + 34) )
  {
    sub_47B810(&v23);
    sub_47C1C0((unsigned int *)&v23, (_WORD *)(v1 + 34), (_WORD *)(v1 + 32));
  }
  v6 = *(_WORD *)(v1 + 24);
  v7 = *(_WORD *)(v1 + 30);
  HIWORD(v25) = *(_WORD *)(v1 + 28);
  v8 = *(_WORD *)(v1 + 34);
  LOWORD(v25) = v6;
  v9 = *(_WORD *)(v1 + 32);
  LOWORD(v27) = v8;
  v10 = *(_DWORD *)(v1 + 44);
  LOWORD(v26) = v7;
  v11 = *(_DWORD *)(v1 + 36);
  HIWORD(v26) = v9;
  v12 = *(_DWORD *)(v1 + 40);
  *(int *)((char *)&v27 + 2) = v11;
  LOWORD(v11) = *(_WORD *)(v1 + 48);
  *(__int64 *)((char *)&v28 + 2) = __PAIR__(v10, v12);
  LOWORD(v12) = *(_WORD *)(v1 + 50);
  v24 = 67324752;
  HIWORD(v29) = v11;
  v30 = v12;
  v22 = sub_49DFF0(v1, (int)&v24);
  v13 = sub_480300(v31);
  if ( v3 == v31 )
  {
    result = sub_480170(v31, v13, v31, *(_DWORD *)(v2 + 24), *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v15 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)(v1 + 62) = v15;
    *(_DWORD *)(v1 + 84) = v22 + v15;
  }
  sub_480370(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 62), 0);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), &v24, 30);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72));
  v16 = *(_WORD *)(v1 + 80);
  if ( v16 )
    j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 76), v16);
  if ( v3 == v31 )
  {
    result = sub_480170(
               v31,
               *(_DWORD *)(v1 + 84),
               v31,
               v22 + *(_DWORD *)(v2 + 120),
               *(_DWORD *)(v1 + 40) + *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v17 = *(_DWORD *)((char *)&v28 + 2) + v22 + *(_DWORD *)(v2 + 24);
  }
  else
  {
    v17 = 0;
  }
  v18 = v17 + *(_DWORD *)(v2 + 20);
  ++*(_WORD *)(v2 + 16);
  ++*(_WORD *)(v2 + 18);
  *(_DWORD *)(v2 + 8) = 101010256;
  *(_DWORD *)(v2 + 24) = v17;
  *(_WORD *)(v2 + 28) = 0;
  sub_480370(v3, v18, 0);
  *(_DWORD *)(v2 + 20) += sub_49DFD0(v1 + 20);
  j_FIL_vfs_write(v3, v1 + 20, 46);
  v19 = j_FIL_vfs_write(v3, *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72)) != *(_WORD *)(v1 + 72) ? 0xFFFFFFF1 : 0;
  v20 = *(_DWORD *)(v1 + 76);
  if ( v20 )
  {
    v21 = *(_WORD *)(v1 + 80);
    if ( v21 )
    {
      v19 |= j_FIL_vfs_write(v3, v20, v21);
      if ( v19 >= 0 )
        v19 = 0;
    }
  }
  *(_DWORD *)v2 = *(_DWORD *)(v2 + 20) + *(_DWORD *)(v2 + 24);
  if ( v3 == v31 )
    sub_49E460(v2);
  else
    *(_DWORD *)(v2 + 120) = sub_480300(v31);
  *(_DWORD *)(v2 + 36) = *(_DWORD *)(v2 + 24);
  *(_DWORD *)(v2 + 32) = 0;
  return v19;
}
// 480340: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (0049E920) --------------------------------------------------------
signed int __cdecl sub_49E920(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ecx@7
  int v5; // eax@10

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    if ( *(_DWORD *)(a1 + 112) == *(_DWORD *)(a1 + 44) && !*(_DWORD *)(a1 + 124) )
      sub_480370(*(_DWORD *)(*(_DWORD *)(a1 + 732) + 116), *(_DWORD *)(a1 + 136) + *(_DWORD *)(a1 + 84), 0);
    v4 = *(_DWORD *)(a1 + 112) - a3;
    *(_DWORD *)(a1 + 104) = a2;
    *(_DWORD *)(a1 + 108) = a3;
    v5 = !v4 && *(_DWORD *)(a1 + 136) || !a2;
    result = sub_49E4A0(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 88,
               a1,
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 20,
               v5);
    if ( result >= 0 )
    {
      *(_DWORD *)(a1 + 40) = *(_DWORD *)(a1 + 136);
      *(_DWORD *)(a1 + 112) -= a3;
    }
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (0049E9C0) --------------------------------------------------------
int __usercall sub_49E9C0@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  char v2; // al@1
  unsigned __int8 *v3; // edx@1

  v1 = a1;
  v2 = sub_49E3E0(a1);
  *v3 ^= v2;
  return sub_49E400(v1, *v3);
}

//----- (0049E9E0) --------------------------------------------------------
int __usercall sub_49E9E0@<eax>(int a1@<edi>, int a2)
{
  int i; // esi@1
  int result; // eax@2

  for ( i = 0; i < a1; ++i )
    result = sub_49E9C0(a2);
  return result;
}

//----- (0049EA10) --------------------------------------------------------
signed int __usercall sub_49EA10@<eax>(int a1@<eax>, int a2@<ebx>)
{
  int v2; // esi@1
  signed int v3; // edi@1
  signed int result; // eax@4

  v2 = a1;
  *(_DWORD *)(a1 + 64) = 305419896;
  *(_DWORD *)(a1 + 68) = 591751049;
  *(_DWORD *)(a1 + 72) = 878082192;
  v3 = 0;
  do
  {
    if ( !*(_BYTE *)(v3 + v2) )
      break;
    sub_49E400(v2, *(_BYTE *)(v3++ + v2));
  }
  while ( v3 < 64 );
  result = sub_480220(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 76), 12, *(_DWORD *)(a2 + 84), 0);
  *(_DWORD *)(a2 + 92) -= 12;
  *(_DWORD *)(a2 + 124) += 12;
  return result;
}

//----- (0049EB00) --------------------------------------------------------
char __usercall sub_49EB00@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>)
{
  char result; // al@2

  if ( *(_WORD *)(a3 + 30) == 99 )
    result = sub_4A2AC0(a1, a2, a3 + 212);
  else
    result = sub_49E9E0(a2, a3 + 148);
  return result;
}

//----- (0049EB30) --------------------------------------------------------
signed int __usercall sub_49EB30@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  bool v2; // zf@1
  int v3; // eax@1
  signed int result; // eax@2

  v1 = a1;
  v2 = *(_WORD *)(a1 + 30) == 99;
  v3 = a1 + 148;
  if ( v2 )
    result = sub_49E1E0(v3, v1);
  else
    result = sub_49EA10(v3, v1);
  return result;
}

//----- (0049EB60) --------------------------------------------------------
signed int __cdecl sub_49EB60(unsigned int a1)
{
  signed int result; // eax@3
  int v2; // eax@4
  int v3; // ecx@4
  int v4; // edx@4

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    sub_49E0F0(a1 + 116);
    v2 = *(_DWORD *)(a1 + 40);
    v3 = *(_DWORD *)(a1 + 44);
    *(_DWORD *)(a1 + 88) = -1;
    *(_DWORD *)(a1 + 92) = v2;
    *(_DWORD *)(a1 + 112) = v3;
    sub_4A67D0(v4);
    if ( *(_BYTE *)(a1 + 28) & 1 )
      sub_49EB30(a1);
    result = 0;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (0049EBB0) --------------------------------------------------------
signed int __cdecl sub_49EBB0(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edi@1
  unsigned int v4; // eax@1
  unsigned int v5; // ecx@1
  signed int v6; // eax@4
  size_t v8; // eax@9
  size_t v9; // ebx@10
  int v10; // esi@13
  int v11; // edx@18
  __int16 v12; // ax@20
  size_t v13; // esi@21
  int v14; // ST30_4@25
  unsigned int *v15; // ST34_4@25
  int v16; // ebx@25
  int v17; // [sp+10h] [bp-Ch]@1
  int v18; // [sp+24h] [bp+8h]@7

  v2 = a2;
  v3 = a2 + 28;
  *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 16);
  v4 = *(_DWORD *)(a2 + 20);
  v5 = *(_DWORD *)(a2 + 24);
  v17 = 0;
  if ( v4 <= v5 )
    *(_DWORD *)(a2 + 44) = v4;
  else
    *(_DWORD *)(a2 + 44) = v5;
  v6 = 0xFFFFF;
  if ( *(_DWORD *)(a2 + 44) )
  {
    while ( 1 )
    {
      v18 = v6 - 1;
      if ( v6 - 1 <= 0 )
        break;
      if ( *(_DWORD *)(v3 + 4) || (v8 = *(_DWORD *)(v2 + 4)) == 0 )
      {
        v10 = a1;
      }
      else
      {
        v9 = *(_DWORD *)(v2 + 12);
        if ( v8 < v9 )
          v9 = *(_DWORD *)(v2 + 4);
        if ( !v9 )
          return v17;
        v10 = a1;
        if ( sub_480220(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               *(void **)(v2 + 8),
               v9,
               *(_DWORD *)(a1 + 84) + *(_DWORD *)(v3 + 8),
               0) != v9 )
          return -15;
        if ( *(_BYTE *)(a1 + 28) & 1 )
        {
          sub_49EB00(*(char **)(v2 + 8), v9, a1);
          if ( *(_DWORD *)(v2 + 4) == v9 && *(_WORD *)(a1 + 30) == 99 )
          {
            sub_480220(
              *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
              (void *)(a1 + 721),
              10,
              *(_DWORD *)(a1 + 84) + v9 + *(_DWORD *)(v3 + 4) + *(_DWORD *)(v3 + 8),
              0);
            sub_4A2B60(a1 + 693, a1 + 212);
            v10 = a1;
          }
        }
        v11 = *(_DWORD *)(v2 + 8);
        *(_DWORD *)(v2 + 4) -= v9;
        v18 = 0xFFFFF;
        *(_DWORD *)v3 = v11;
        *(_DWORD *)(v3 + 4) = v9;
      }
      v12 = sub_49E440(v5, v10);
      if ( v12 )
      {
        if ( v12 != 8 )
          return -15;
        v14 = *(_DWORD *)(v3 + 20);
        v15 = *(unsigned int **)(v3 + 12);
        v16 = (char)sub_4A7B90(v3, 2);
        v17 += *(_DWORD *)(v3 + 20) - v14;
        *(_DWORD *)v2 = sub_480E30(v15, *(_DWORD *)(v3 + 20) - v14, *(_DWORD *)v2);
        if ( v16 == 1 )
          return v17;
        if ( v16 < 0 )
          return -14;
      }
      else
      {
        v13 = *(_DWORD *)(v3 + 4);
        if ( *(_DWORD *)(v3 + 16) < v13 )
          v13 = *(_DWORD *)(v3 + 16);
        memcpy(*(void **)(v3 + 12), *(const void **)v3, v13);
        *(_DWORD *)v2 = sub_480E30(*(unsigned int **)(v3 + 12), v13, *(_DWORD *)v2);
        *(_DWORD *)(v3 + 4) -= v13;
        *(_DWORD *)(v3 + 16) -= v13;
        *(_DWORD *)(v3 + 12) += v13;
        *(_DWORD *)v3 += v13;
        *(_DWORD *)(v3 + 20) += v13;
        *(_DWORD *)(v3 + 8) += v13;
        v17 += v13;
      }
      if ( !*(_DWORD *)(v3 + 16) )
        return v17;
      v6 = v18;
    }
  }
  return v17;
}

//----- (0049EDA0) --------------------------------------------------------
signed int __cdecl sub_49EDA0(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ST04_4@4
  signed int v5; // eax@4
  signed int v6; // ebx@4
  bool v7; // zf@5

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    v4 = a1 + 88;
    *(_DWORD *)(v4 + 16) = a2;
    *(_DWORD *)(v4 + 20) = a3;
    v5 = sub_49EBB0(a1, a1 + 88);
    v6 = v5;
    if ( v5 > 0 )
    {
      v7 = *(_DWORD *)(a1 + 112) == v5;
      *(_DWORD *)(a1 + 112) -= v5;
      if ( v7 && !(*(_BYTE *)a1 & 1) && !sub_49DF00(a1) )
        v6 = -14;
    }
    result = v6;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (0049EE00) --------------------------------------------------------
signed int __cdecl sub_49EE00(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  unsigned int v4; // edx@4
  int v5; // ebx@4
  int v6; // esi@16
  int v7; // eax@17
  char v8; // [sp+4h] [bp-204h]@19

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return -6;
  v4 = *(_DWORD *)(a1 + 44);
  result = *(_DWORD *)(a1 + 44) - *(_DWORD *)(a1 + 112);
  v5 = a2;
  if ( a3 == 1 )
  {
    v5 = result + a2;
  }
  else if ( a3 == 2 )
  {
    v5 = v4 + a2;
  }
  if ( v5 > v4 || v5 < 0 )
    return -15;
  if ( result == v5 )
    return result;
  if ( !v5 )
  {
    sub_49EB60(a1);
    return 0;
  }
  if ( !*(_WORD *)(a1 + 30) && *(_BYTE *)a1 & 3 )
  {
    sub_49E0F0(a1 + 116);
    *(_DWORD *)(a1 + 124) = v5;
    *(_DWORD *)(a1 + 112) = *(_DWORD *)(a1 + 44) - v5;
    *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 40) - v5;
    return v5;
  }
  if ( result > v5 )
  {
    sub_49EB60(a1);
    result = 0;
  }
  v6 = v5 - result;
  if ( v5 - result <= 0 )
    return v5;
  while ( 1 )
  {
    v7 = 512;
    if ( (unsigned int)v6 < 0x200 )
      v7 = v6;
    result = sub_49EDA0(a1, (int)&v8, v7);
    if ( result <= 0 )
      break;
    v6 -= result;
    if ( v6 <= 0 )
      return v5;
  }
  return result;
}

//----- (0049EF90) --------------------------------------------------------
signed int __usercall sub_49EF90@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edi@1
  signed int result; // eax@1
  int v5; // esi@1
  unsigned __int16 v6; // bx@2
  unsigned __int16 v7; // ax@2
  unsigned int v8; // ebx@2
  unsigned __int16 v9; // dx@2
  int v10; // edx@2
  int v11; // eax@2
  int v12; // esi@2
  unsigned int v13; // edx@2
  int v14; // eax@2
  int v15; // esi@2
  unsigned int v16; // ST2C_4@4
  unsigned int v17; // ST30_4@4
  unsigned int v18; // ST34_4@4
  unsigned int v19; // esi@4
  unsigned int v20; // ST2C_4@5
  unsigned int v21; // ST30_4@5
  unsigned int v22; // ST34_4@5
  unsigned int v23; // esi@5
  unsigned int v24; // ST30_4@6
  unsigned int v25; // ST34_4@6
  unsigned int v26; // edx@6
  unsigned int v27; // esi@6
  __int16 v28; // ST38_2@6
  unsigned int v29; // ST1C_4@6
  unsigned int v30; // ST20_4@6
  unsigned int v31; // ST24_4@6
  unsigned int v32; // esi@6
  unsigned int v33; // edx@6
  unsigned int v34; // ST30_4@6
  unsigned int v35; // ST34_4@6
  unsigned int v36; // esi@6
  unsigned int v37; // ST1C_4@6
  unsigned int v38; // ST20_4@6
  unsigned int v39; // ST24_4@6
  unsigned int v40; // esi@6
  unsigned int v41; // ST30_4@6
  unsigned int v42; // edx@6
  unsigned int v43; // ST34_4@6
  unsigned int v44; // esi@6
  unsigned int v45; // ST1C_4@6
  unsigned int v46; // ST20_4@6
  unsigned int v47; // ST24_4@6
  unsigned int v48; // esi@6
  unsigned int v49; // edx@6
  unsigned int v50; // ST30_4@6
  unsigned int v51; // ST34_4@6
  unsigned int v52; // esi@6
  unsigned int v53; // ST1C_4@6
  unsigned int v54; // ST20_4@6
  unsigned int v55; // ST24_4@6
  unsigned int v56; // ST28_4@6
  unsigned int v57; // ST30_4@6
  unsigned int v58; // edx@6
  unsigned int v59; // ST34_4@6
  unsigned int v60; // ST38_4@6
  unsigned int v61; // ST20_4@6
  unsigned int v62; // ST24_4@6
  unsigned int v63; // ebx@6
  unsigned int v64; // eax@6
  unsigned int v65; // [sp+14h] [bp-20h]@2
  unsigned int v66; // [sp+18h] [bp-1Ch]@2
  unsigned int v67; // [sp+1Ch] [bp-18h]@2
  unsigned int v68; // [sp+20h] [bp-14h]@2

  v3 = a1;
  result = 0;
  v5 = a2;
  if ( *(_BYTE *)(v3 + 260) & 1 )
  {
    BYTE1(result) = *(_BYTE *)(a2 + 3);
    HIBYTE(v6) = *(_BYTE *)(a2 + 7);
    LOBYTE(result) = *(_BYTE *)(a2 + 2);
    LOBYTE(v6) = *(_BYTE *)(a2 + 6);
    v65 = *(_DWORD *)v3 ^ (*(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (result << 8)) << 8));
    HIBYTE(v7) = *(_BYTE *)(a2 + 11);
    v8 = *(_DWORD *)(v3 + 4) ^ (*(_BYTE *)(a2 + 4) | ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8));
    LOBYTE(v7) = *(_BYTE *)(a2 + 10);
    v66 = v8;
    HIBYTE(v9) = *(_BYTE *)(a2 + 15);
    v67 = *(_DWORD *)(v3 + 8) ^ (*(_BYTE *)(v5 + 8) | ((*(_BYTE *)(v5 + 9) | (v7 << 8)) << 8));
    LOBYTE(v9) = *(_BYTE *)(v5 + 14);
    v10 = *(_BYTE *)(v5 + 13) | (v9 << 8);
    v11 = *(_BYTE *)(v5 + 12);
    v12 = *(_DWORD *)(v3 + 256);
    v13 = *(_DWORD *)(v3 + 12) ^ (v11 | (v10 << 8));
    v14 = v3 + 16 * (v12 - 9);
    v15 = v12 - 12;
    v68 = v13;
    if ( v15 )
    {
      if ( v15 != 2 )
      {
LABEL_6:
        v24 = *(_DWORD *)(v14 + 4) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v66] ^ *(_DWORD *)&dword_51C408[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v68 >> 16)];
        v25 = *(_DWORD *)(v14 + 8) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v66 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v68)];
        v26 = *(_DWORD *)v14 ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v13 >> 24)];
        v27 = *(_DWORD *)(v14 + 12) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v66 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v67 >> 24)];
        v28 = *(_WORD *)(v14 + 12) ^ dword_51B808[2 * (unsigned __int8)v68] ^ dword_51BC08[2 * BYTE1(v65)] ^ dword_51C008[2 * (unsigned __int8)(v66 >> 16)] ^ dword_51C408[2 * (v67 >> 24)];
        v29 = *(_DWORD *)(v14 + 16) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v26] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v24)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v25 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v27 >> 24)];
        v30 = *(_DWORD *)(v14 + 20) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v24] ^ *(_DWORD *)&dword_51C408[2 * (v26 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v25)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v27 >> 16)];
        v31 = *(_DWORD *)(v14 + 24) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v25] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v26 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v24 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * HIBYTE(v28)];
        v32 = *(_DWORD *)(v14 + 28) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v28] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v26)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v24 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v25 >> 24)];
        v33 = *(_DWORD *)(v14 + 32) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v29] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v30)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v31 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v32 >> 24)];
        v34 = *(_DWORD *)(v14 + 36) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v30] ^ *(_DWORD *)&dword_51C408[2 * (v29 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v31)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v32 >> 16)];
        v35 = *(_DWORD *)(v14 + 40) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v31] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v29 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v30 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v32)];
        v36 = *(_DWORD *)(v14 + 44) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v32] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v29)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v30 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v31 >> 24)];
        v37 = *(_DWORD *)(v14 + 48) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v33] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v34)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v35 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v36 >> 24)];
        v38 = *(_DWORD *)(v14 + 52) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v34] ^ *(_DWORD *)&dword_51C408[2 * (v33 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v35)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v36 >> 16)];
        v39 = *(_DWORD *)(v14 + 56) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v35] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v33 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v34 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v36)];
        v40 = *(_DWORD *)(v14 + 60) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v36] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v33)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v34 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v35 >> 24)];
        v41 = *(_DWORD *)(v14 + 68) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v38] ^ *(_DWORD *)&dword_51C408[2 * (v37 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v39)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v40 >> 16)];
        v42 = *(_DWORD *)(v14 + 64) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v37] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v38)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v39 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v40 >> 24)];
        v43 = *(_DWORD *)(v14 + 72) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v39] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v37 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v38 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v40)];
        v44 = *(_DWORD *)(v14 + 76) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v40] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v37)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v38 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v39 >> 24)];
        v45 = *(_DWORD *)(v14 + 80) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v42] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v41)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v43 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v44 >> 24)];
        v46 = *(_DWORD *)(v14 + 84) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v41] ^ *(_DWORD *)&dword_51C408[2 * (v42 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v43)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v44 >> 16)];
        v47 = *(_DWORD *)(v14 + 88) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v43] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v42 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v41 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v44)];
        v48 = *(_DWORD *)(v14 + 92) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v44] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v42)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v41 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v43 >> 24)];
        v49 = *(_DWORD *)(v14 + 96) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v45] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v46)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v47 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v48 >> 24)];
        v50 = *(_DWORD *)(v14 + 100) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v46] ^ *(_DWORD *)&dword_51C408[2 * (v45 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v47)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v48 >> 16)];
        v51 = *(_DWORD *)(v14 + 104) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v47] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v45 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v46 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v48)];
        v52 = *(_DWORD *)(v14 + 108) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v48] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v45)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v46 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v47 >> 24)];
        v53 = *(_DWORD *)(v14 + 112) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v49] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v50)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v51 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v52 >> 24)];
        v54 = *(_DWORD *)(v14 + 116) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v50] ^ *(_DWORD *)&dword_51C408[2 * (v49 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v51)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v52 >> 16)];
        v55 = *(_DWORD *)(v14 + 120) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v51] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v49 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v50 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v52)];
        v56 = *(_DWORD *)(v14 + 124) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v52] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v49)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v50 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v51 >> 24)];
        v57 = *(_DWORD *)(v14 + 132) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v54] ^ *(_DWORD *)&dword_51C408[2 * (v53 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v55)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v56 >> 16)];
        v58 = *(_DWORD *)(v14 + 128) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v53] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v54)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v55 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v56 >> 24)];
        v59 = *(_DWORD *)(v14 + 136) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v55] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v53 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v54 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v56)];
        v60 = *(_DWORD *)(v14 + 140) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v56] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v53)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v54 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v55 >> 24)];
        v61 = *(_DWORD *)(v14 + 148) ^ dword_51C808[(unsigned __int8)v57] ^ dword_51D408[v58 >> 24] ^ dword_51CC08[BYTE1(v59)] ^ dword_51D008[(unsigned __int8)(v60 >> 16)];
        v62 = *(_DWORD *)(v14 + 152) ^ dword_51C808[(unsigned __int8)v59] ^ dword_51D008[(unsigned __int8)(v58 >> 16)] ^ dword_51D408[v57 >> 24] ^ dword_51CC08[BYTE1(v60)];
        v63 = *(_DWORD *)(v14 + 156) ^ dword_51C808[(unsigned __int8)v60] ^ dword_51CC08[BYTE1(v58)] ^ dword_51D008[(unsigned __int8)(v57 >> 16)] ^ dword_51D408[v59 >> 24];
        v64 = *(_DWORD *)(v14 + 144) ^ dword_51C808[(unsigned __int8)v58] ^ dword_51CC08[BYTE1(v57)] ^ dword_51D008[(unsigned __int8)(v59 >> 16)] ^ dword_51D408[v60 >> 24];
        *(_BYTE *)(a3 + 1) = BYTE1(v64);
        *(_BYTE *)a3 = v64;
        *(_BYTE *)(a3 + 2) = v64 >> 16;
        *(_BYTE *)(a3 + 3) = BYTE3(v64);
        *(_BYTE *)(a3 + 5) = BYTE1(v61);
        *(_BYTE *)(a3 + 4) = v61;
        *(_BYTE *)(a3 + 7) = BYTE3(v61);
        *(_BYTE *)(a3 + 6) = v61 >> 16;
        *(_BYTE *)(a3 + 9) = BYTE1(v62);
        *(_BYTE *)(a3 + 8) = v62;
        *(_BYTE *)(a3 + 11) = BYTE3(v62);
        *(_BYTE *)(a3 + 10) = v62 >> 16;
        *(_BYTE *)(a3 + 12) = v63;
        *(_BYTE *)(a3 + 13) = BYTE1(v63);
        *(_BYTE *)(a3 + 15) = BYTE3(v63);
        *(_BYTE *)(a3 + 14) = v63 >> 16;
        return 1;
      }
      v16 = *(_DWORD *)(v14 - 64) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v13 >> 24)];
      v17 = *(_DWORD *)(v14 - 60) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_51C408[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v13 >> 16)];
      v18 = *(_DWORD *)(v14 - 56) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v68)];
      v19 = *(_DWORD *)(v14 - 52) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v13] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v67 >> 24)];
      v8 = *(_DWORD *)(v14 - 44) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v17] ^ *(_DWORD *)&dword_51C408[2 * (v16 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v18)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v19 >> 16)];
      v67 = *(_DWORD *)(v14 - 40) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v18] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v16 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v17 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v19)];
      v65 = *(_DWORD *)(v14 - 48) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v16] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v17)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v18 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v19 >> 24)];
      v13 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v18 >> 24)];
      v68 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v18 >> 24)];
    }
    v20 = *(_DWORD *)(v14 - 32) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v13 >> 24)];
    v21 = *(_DWORD *)(v14 - 28) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_51C408[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v68 >> 16)];
    v22 = *(_DWORD *)(v14 - 24) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v68)];
    v23 = *(_DWORD *)(v14 - 20) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v67 >> 24)];
    v8 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_51C408[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v23 >> 16)];
    v67 = *(_DWORD *)(v14 - 8) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v22] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v20 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v21 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v23)];
    v65 = *(_DWORD *)(v14 - 16) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v20] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v21)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v22 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v23 >> 24)];
    v66 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_51C408[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v23 >> 16)];
    v13 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v22 >> 24)];
    v68 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_51B808[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_51BC08[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_51C008[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_51C408[2 * (v22 >> 24)];
    goto LABEL_6;
  }
  return result;
}
// 51C808: using guessed type int dword_51C808[];
// 51CC08: using guessed type int dword_51CC08[];
// 51D008: using guessed type int dword_51D008[];
// 51D408: using guessed type int dword_51D408[];

//----- (004A0040) --------------------------------------------------------
int __usercall sub_4A0040@<eax>(int a1@<esi>, int a2, unsigned int a3)
{
  int result; // eax@1
  unsigned int v4; // edi@1
  unsigned int v5; // eax@3
  bool v6; // zf@4

  result = *(_DWORD *)(a1 + 456);
  v4 = 0;
  if ( a3 )
  {
    do
    {
      if ( result == 16 )
      {
        v5 = 0;
        do
        {
          v6 = (*(_BYTE *)(v5 + a1))++ == -1;
          if ( !v6 )
            break;
          ++v5;
        }
        while ( v5 < 8 );
        sub_49EF90(a1 + 32, a1, a1 + 16);
        result = 0;
      }
      *(_BYTE *)(v4++ + a2) ^= *(_BYTE *)(a1 + 16 + result++);
    }
    while ( v4 < a3 );
  }
  *(_DWORD *)(a1 + 456) = result;
  return result;
}

//----- (004A00A0) --------------------------------------------------------
signed int __usercall sub_4A00A0@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned __int16 v4; // dx@1
  int v5; // edx@1
  unsigned __int16 v6; // cx@1
  int v7; // esi@1
  int v8; // edi@1
  unsigned int v9; // ecx@1
  unsigned __int16 v10; // dx@2
  int v11; // edx@2
  int v12; // ebx@2
  int v13; // edx@3
  int v14; // ST20_4@3
  int v15; // edx@3
  int v16; // ST24_4@3
  int v17; // edx@3
  int v18; // ST28_4@3
  unsigned int v19; // edx@3
  int v20; // ebp@3
  int v21; // esi@3
  int v22; // edi@3
  unsigned int v23; // ecx@3
  int v24; // ST20_4@3
  int v25; // ebx@3
  unsigned int v26; // edx@3
  int v27; // ST28_4@3
  int v28; // ebp@3
  int v29; // esi@3
  int v30; // edi@3
  unsigned int v31; // ecx@3
  int v32; // ST10_4@3
  int v33; // ebx@3
  int v34; // ebp@3
  unsigned int v35; // edx@3
  int v36; // ST28_4@3
  int v37; // ST24_4@3
  int v38; // ebp@3
  int v39; // esi@3
  int v40; // edi@3
  unsigned int v41; // ecx@3
  int v42; // ebx@3
  unsigned int v43; // edx@3
  int v44; // ebp@3
  int v45; // esi@3
  int v46; // edi@3
  unsigned int v47; // ecx@3
  int v48; // ST10_4@3
  int v49; // ST20_4@3
  int v50; // ebp@3
  int v51; // ebx@3
  unsigned int v52; // edx@3
  int v53; // ST28_4@3
  int v54; // ST24_4@3
  int v55; // ebp@3
  int v56; // esi@3
  int v57; // edi@3
  unsigned int v58; // ecx@3
  int v59; // ebx@3
  unsigned int v60; // edx@3
  int v61; // ST28_4@3
  int v62; // ST24_4@3
  int v63; // ebp@3
  int v64; // esi@3
  int v65; // edi@3
  unsigned int v66; // ecx@3
  int v67; // ST10_4@3
  int v68; // ebx@3
  unsigned int v69; // edx@3
  int v70; // ebp@3
  int v71; // ebp@3
  int v72; // esi@3
  int v73; // edi@3
  signed int result; // eax@3
  int v75; // edx@4
  int v76; // ST20_4@4
  unsigned int v77; // edx@4
  int v78; // ebp@4
  int v79; // esi@4
  int v80; // edi@4
  int v81; // ecx@4
  unsigned int v82; // edx@4
  int v83; // ST20_4@4
  int v84; // ebp@4
  int v85; // esi@4
  int v86; // edi@4
  int v87; // ecx@4
  int v88; // ebx@4
  unsigned int v89; // edx@4
  int v90; // ebp@4
  int v91; // esi@4
  int v92; // edi@4
  int v93; // ecx@4
  unsigned int v94; // edx@4
  int v95; // ST20_4@4
  int v96; // ebp@4
  int v97; // esi@4
  int v98; // edi@4
  int v99; // ecx@4
  unsigned int v100; // edx@4
  int v101; // ST20_4@4
  int v102; // ST10_4@4
  int v103; // ebp@4
  int v104; // esi@4
  int v105; // edi@4
  int v106; // ST10_4@4
  int v107; // ecx@4
  unsigned int v108; // edx@4
  int v109; // ST20_4@4
  int v110; // ebp@4
  int v111; // esi@4
  int v112; // edi@4
  int v113; // ecx@4
  unsigned int v114; // edx@4
  int v115; // ST20_4@4
  int v116; // ebp@4
  int v117; // esi@4
  int v118; // edi@4
  int v119; // ecx@4
  unsigned int v120; // edx@4
  int v121; // ST10_4@4
  int v122; // ebp@4
  int v123; // ebp@4
  int v124; // esi@4
  int v125; // edi@4
  int v126; // ebp@5
  int v127; // esi@5
  int v128; // edi@5
  unsigned int v129; // ecx@5
  int v130; // edx@5
  int v131; // esi@5
  int v132; // edi@5
  unsigned int v133; // ecx@5
  int v134; // ebp@5
  int v135; // esi@5
  int v136; // edi@5
  unsigned int v137; // ecx@5
  int v138; // edx@5
  int v139; // esi@5
  int v140; // edi@5
  unsigned int v141; // ecx@5
  int v142; // ebp@5
  int v143; // esi@5
  int v144; // edi@5
  unsigned int v145; // ecx@5
  int v146; // edx@5
  int v147; // esi@5
  int v148; // edi@5
  unsigned int v149; // ecx@5
  int v150; // ebp@5
  int v151; // esi@5
  int v152; // edi@5
  unsigned int v153; // ecx@5
  int v154; // edx@5
  int v155; // esi@5
  int v156; // edi@5
  unsigned int v157; // ecx@5
  int v158; // ebp@5
  int v159; // esi@5
  int v160; // edi@5
  unsigned int v161; // ecx@5
  int v162; // edx@5
  int v163; // edx@5
  int v164; // esi@5
  int v165; // edi@5
  int v166; // [sp+10h] [bp-20h]@1

  *(_DWORD *)(a1 + 260) = 17;
  v3 = a2;
  HIBYTE(v4) = *(_BYTE *)(a2 + 3);
  LOBYTE(v4) = *(_BYTE *)(a2 + 2);
  v5 = *(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (v4 << 8)) << 8);
  *(_DWORD *)a1 = v5;
  HIBYTE(v6) = *(_BYTE *)(a2 + 7);
  v166 = v5;
  LOBYTE(v6) = *(_BYTE *)(a2 + 6);
  v7 = ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8) | *(_BYTE *)(a2 + 4);
  *(_DWORD *)(a1 + 4) = v7;
  HIBYTE(v6) = *(_BYTE *)(a2 + 11);
  LOBYTE(v6) = *(_BYTE *)(a2 + 10);
  v8 = ((*(_BYTE *)(v3 + 9) | (v6 << 8)) << 8) | *(_BYTE *)(v3 + 8);
  *(_DWORD *)(a1 + 8) = v8;
  HIBYTE(v6) = *(_BYTE *)(a2 + 15);
  LOBYTE(v6) = *(_BYTE *)(a2 + 14);
  v9 = *(_BYTE *)(v3 + 12) | ((*(_BYTE *)(v3 + 13) | (v6 << 8)) << 8);
  *(_DWORD *)(a1 + 12) = v9;
  if ( a3 == 16 )
  {
    v126 = v5 ^ dword_51D408[(unsigned __int8)v9] ^ dword_51C808[BYTE1(v9)] ^ dword_51CC08[(unsigned __int8)(v9 >> 16)] ^ dword_51D008[v9 >> 24] ^ 1;
    v127 = v126 ^ v7;
    *(_DWORD *)(a1 + 16) = v126;
    *(_DWORD *)(a1 + 20) = v127;
    v128 = v127 ^ v8;
    *(_DWORD *)(a1 + 24) = v128;
    v129 = v128 ^ v9;
    *(_DWORD *)(a1 + 28) = v129;
    v130 = v126 ^ dword_51D408[(unsigned __int8)v129] ^ dword_51C808[BYTE1(v129)] ^ dword_51CC08[(unsigned __int8)(v129 >> 16)] ^ dword_51D008[v129 >> 24] ^ 2;
    v131 = v130 ^ v127;
    *(_DWORD *)(a1 + 32) = v130;
    *(_DWORD *)(a1 + 36) = v131;
    v132 = v131 ^ v128;
    *(_DWORD *)(a1 + 40) = v132;
    v133 = v132 ^ v129;
    *(_DWORD *)(a1 + 44) = v133;
    v134 = v130 ^ dword_51D408[(unsigned __int8)v133] ^ dword_51C808[BYTE1(v133)] ^ dword_51CC08[(unsigned __int8)(v133 >> 16)] ^ dword_51D008[v133 >> 24] ^ 4;
    v135 = v134 ^ v131;
    v136 = v135 ^ v132;
    v137 = v136 ^ v133;
    *(_DWORD *)(a1 + 48) = v134;
    *(_DWORD *)(a1 + 52) = v135;
    *(_DWORD *)(a1 + 56) = v136;
    *(_DWORD *)(a1 + 60) = v137;
    v138 = v134 ^ dword_51D408[(unsigned __int8)v137] ^ dword_51C808[BYTE1(v137)] ^ dword_51CC08[(unsigned __int8)(v137 >> 16)] ^ dword_51D008[v137 >> 24] ^ 8;
    *(_DWORD *)(a1 + 64) = v138;
    v139 = v138 ^ v135;
    *(_DWORD *)(a1 + 68) = v139;
    v140 = v139 ^ v136;
    *(_DWORD *)(a1 + 72) = v140;
    v141 = v140 ^ v137;
    *(_DWORD *)(a1 + 76) = v141;
    v142 = v138 ^ dword_51D408[(unsigned __int8)v141] ^ dword_51C808[BYTE1(v141)] ^ dword_51CC08[(unsigned __int8)(v141 >> 16)] ^ dword_51D008[v141 >> 24] ^ 0x10;
    v143 = v142 ^ v139;
    v144 = v143 ^ v140;
    v145 = v144 ^ v141;
    *(_DWORD *)(a1 + 80) = v142;
    *(_DWORD *)(a1 + 84) = v143;
    *(_DWORD *)(a1 + 88) = v144;
    *(_DWORD *)(a1 + 92) = v145;
    v146 = v142 ^ dword_51D408[(unsigned __int8)v145] ^ dword_51C808[BYTE1(v145)] ^ dword_51CC08[(unsigned __int8)(v145 >> 16)] ^ dword_51D008[v145 >> 24] ^ 0x20;
    v147 = v146 ^ v143;
    v148 = v147 ^ v144;
    v149 = v148 ^ v145;
    *(_DWORD *)(a1 + 100) = v147;
    *(_DWORD *)(a1 + 104) = v148;
    *(_DWORD *)(a1 + 108) = v149;
    *(_DWORD *)(a1 + 96) = v146;
    v150 = v146 ^ dword_51D408[(unsigned __int8)v149] ^ dword_51C808[BYTE1(v149)] ^ dword_51CC08[(unsigned __int8)(v149 >> 16)] ^ dword_51D008[v149 >> 24] ^ 0x40;
    v151 = v150 ^ v147;
    v152 = v151 ^ v148;
    v153 = v152 ^ v149;
    *(_DWORD *)(a1 + 112) = v150;
    *(_DWORD *)(a1 + 116) = v151;
    *(_DWORD *)(a1 + 120) = v152;
    *(_DWORD *)(a1 + 124) = v153;
    v154 = v150 ^ dword_51D408[(unsigned __int8)v153] ^ dword_51C808[BYTE1(v153)] ^ dword_51CC08[(unsigned __int8)(v153 >> 16)] ^ dword_51D008[v153 >> 24] ^ 0x80;
    v155 = v154 ^ v151;
    *(_DWORD *)(a1 + 128) = v154;
    *(_DWORD *)(a1 + 132) = v155;
    v156 = v155 ^ v152;
    *(_DWORD *)(a1 + 136) = v156;
    v157 = v156 ^ v153;
    *(_DWORD *)(a1 + 140) = v157;
    v158 = v154 ^ dword_51D408[(unsigned __int8)v157] ^ dword_51C808[BYTE1(v157)] ^ dword_51CC08[(unsigned __int8)(v157 >> 16)] ^ dword_51D008[v157 >> 24] ^ 0x1B;
    v159 = v158 ^ v155;
    v160 = v159 ^ v156;
    v161 = v160 ^ v157;
    *(_DWORD *)(a1 + 148) = v159;
    *(_DWORD *)(a1 + 152) = v160;
    *(_DWORD *)(a1 + 144) = v158;
    *(_DWORD *)(a1 + 156) = v161;
    v162 = dword_51D408[(unsigned __int8)v161] ^ dword_51C808[BYTE1(v161)] ^ dword_51CC08[(unsigned __int8)(v161 >> 16)] ^ dword_51D008[v161 >> 24];
    *(_DWORD *)(a1 + 256) = 10;
    v163 = v158 ^ v162 ^ 0x36;
    v164 = v163 ^ v159;
    v165 = v164 ^ v160;
    *(_DWORD *)(a1 + 168) = v165;
    *(_DWORD *)(a1 + 164) = v164;
    *(_DWORD *)(a1 + 160) = v163;
    *(_DWORD *)(a1 + 172) = v165 ^ v161;
    result = 1;
  }
  else
  {
    HIBYTE(v10) = *(_BYTE *)(a2 + 19);
    LOBYTE(v10) = *(_BYTE *)(a2 + 18);
    v11 = v10 << 8;
    v12 = *(_BYTE *)(a2 + 17);
    if ( a3 == 24 )
    {
      v75 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v75;
      v76 = v75;
      BYTE1(v75) = *(_BYTE *)(a2 + 23);
      LOBYTE(v75) = *(_BYTE *)(a2 + 22);
      v77 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v75 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v77;
      v78 = v166 ^ dword_51D408[(unsigned __int8)v77] ^ dword_51C808[BYTE1(v77)] ^ dword_51CC08[(unsigned __int8)(v77 >> 16)] ^ dword_51D008[v77 >> 24] ^ 1;
      v79 = v78 ^ v7;
      v80 = v79 ^ v8;
      v81 = v80 ^ v9;
      *(_DWORD *)(a1 + 40) = v81 ^ v76;
      v82 = v81 ^ v76 ^ v77;
      v83 = v81 ^ v76;
      *(_DWORD *)(a1 + 36) = v81;
      *(_DWORD *)(a1 + 24) = v78;
      *(_DWORD *)(a1 + 28) = v79;
      *(_DWORD *)(a1 + 32) = v80;
      *(_DWORD *)(a1 + 44) = v82;
      v84 = v78 ^ dword_51D408[(unsigned __int8)v82] ^ dword_51C808[BYTE1(v82)] ^ dword_51CC08[(unsigned __int8)(v82 >> 16)] ^ dword_51D008[v82 >> 24] ^ 2;
      v85 = v84 ^ v79;
      v86 = v85 ^ v80;
      v87 = v86 ^ v81;
      v89 = v87 ^ v83 ^ v82;
      v88 = v87 ^ v83;
      *(_DWORD *)(a1 + 64) = v87 ^ v83;
      *(_DWORD *)(a1 + 48) = v84;
      *(_DWORD *)(a1 + 52) = v85;
      *(_DWORD *)(a1 + 56) = v86;
      *(_DWORD *)(a1 + 60) = v87;
      *(_DWORD *)(a1 + 68) = v89;
      v90 = v84 ^ dword_51D408[(unsigned __int8)v89] ^ dword_51C808[BYTE1(v89)] ^ dword_51CC08[(unsigned __int8)(v89 >> 16)] ^ dword_51D008[v89 >> 24] ^ 4;
      v91 = v90 ^ v85;
      v92 = v91 ^ v86;
      v93 = v92 ^ v87;
      *(_DWORD *)(a1 + 88) = v93 ^ v88;
      v94 = v93 ^ v88 ^ v89;
      v95 = v93 ^ v88;
      *(_DWORD *)(a1 + 84) = v93;
      *(_DWORD *)(a1 + 72) = v90;
      *(_DWORD *)(a1 + 76) = v91;
      *(_DWORD *)(a1 + 80) = v92;
      *(_DWORD *)(a1 + 92) = v94;
      v96 = v90 ^ dword_51D408[(unsigned __int8)v94] ^ dword_51C808[BYTE1(v94)] ^ dword_51CC08[(unsigned __int8)(v94 >> 16)] ^ dword_51D008[v94 >> 24] ^ 8;
      v97 = v96 ^ v91;
      v98 = v97 ^ v92;
      v99 = v98 ^ v93;
      *(_DWORD *)(a1 + 112) = v99 ^ v95;
      v100 = v99 ^ v95 ^ v94;
      v101 = v99 ^ v95;
      *(_DWORD *)(a1 + 108) = v99;
      v102 = v96;
      *(_DWORD *)(a1 + 96) = v96;
      *(_DWORD *)(a1 + 100) = v97;
      *(_DWORD *)(a1 + 104) = v98;
      *(_DWORD *)(a1 + 116) = v100;
      v103 = v96 ^ dword_51D408[(unsigned __int8)v100] ^ dword_51C808[BYTE1(v100)] ^ dword_51CC08[(unsigned __int8)(v100 >> 16)] ^ dword_51D008[v100 >> 24] ^ 0x10;
      v104 = v103 ^ v97;
      v105 = v104 ^ v98;
      v106 = v102 ^ dword_51D408[(unsigned __int8)v100] ^ dword_51C808[BYTE1(v100)] ^ dword_51CC08[(unsigned __int8)(v100 >> 16)] ^ dword_51D008[v100 >> 24] ^ 0x10;
      *(_DWORD *)(a1 + 120) = v103;
      *(_DWORD *)(a1 + 124) = v104;
      *(_DWORD *)(a1 + 128) = v105;
      v107 = v105 ^ v99;
      *(_DWORD *)(a1 + 136) = v107 ^ v101;
      v108 = v107 ^ v101 ^ v100;
      v109 = v107 ^ v101;
      *(_DWORD *)(a1 + 132) = v107;
      *(_DWORD *)(a1 + 140) = v108;
      v110 = v106 ^ dword_51D408[(unsigned __int8)v108] ^ dword_51C808[BYTE1(v108)] ^ dword_51CC08[(unsigned __int8)(v108 >> 16)] ^ dword_51D008[v108 >> 24] ^ 0x20;
      v111 = v110 ^ v104;
      v112 = v111 ^ v105;
      v113 = v112 ^ v107;
      *(_DWORD *)(a1 + 160) = v113 ^ v109;
      v114 = v113 ^ v109 ^ v108;
      v115 = v113 ^ v109;
      *(_DWORD *)(a1 + 156) = v113;
      *(_DWORD *)(a1 + 144) = v110;
      *(_DWORD *)(a1 + 148) = v111;
      *(_DWORD *)(a1 + 152) = v112;
      *(_DWORD *)(a1 + 164) = v114;
      v116 = v110 ^ dword_51D408[(unsigned __int8)v114] ^ dword_51C808[BYTE1(v114)] ^ dword_51CC08[(unsigned __int8)(v114 >> 16)] ^ dword_51D008[v114 >> 24] ^ 0x40;
      v117 = v116 ^ v111;
      v118 = v117 ^ v112;
      v119 = v118 ^ v113;
      v120 = v119 ^ v115 ^ v114;
      *(_DWORD *)(a1 + 180) = v119;
      *(_DWORD *)(a1 + 184) = v119 ^ v115;
      v121 = v116;
      *(_DWORD *)(a1 + 168) = v116;
      *(_DWORD *)(a1 + 172) = v117;
      *(_DWORD *)(a1 + 176) = v118;
      *(_DWORD *)(a1 + 188) = v120;
      v122 = dword_51D408[(unsigned __int8)v120] ^ dword_51C808[BYTE1(v120)] ^ dword_51CC08[(unsigned __int8)(v120 >> 16)] ^ dword_51D008[v120 >> 24];
      *(_DWORD *)(a1 + 256) = 12;
      v123 = v121 ^ v122 ^ 0x80;
      v124 = v123 ^ v117;
      v125 = v124 ^ v118;
      *(_DWORD *)(a1 + 200) = v125;
      *(_DWORD *)(a1 + 196) = v124;
      *(_DWORD *)(a1 + 192) = v123;
      *(_DWORD *)(a1 + 204) = v125 ^ v119;
      result = 1;
    }
    else
    {
      v13 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v13;
      v14 = v13;
      BYTE1(v13) = *(_BYTE *)(a2 + 23);
      LOBYTE(v13) = *(_BYTE *)(a2 + 22);
      v15 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v13 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v15;
      v16 = v15;
      BYTE1(v15) = *(_BYTE *)(a2 + 27);
      LOBYTE(v15) = *(_BYTE *)(a2 + 26);
      v17 = *(_BYTE *)(a2 + 24) | ((*(_BYTE *)(a2 + 25) | ((unsigned __int16)v15 << 8)) << 8);
      *(_DWORD *)(a1 + 24) = v17;
      v18 = v17;
      BYTE1(v17) = *(_BYTE *)(a2 + 31);
      LOBYTE(v17) = *(_BYTE *)(a2 + 30);
      v19 = *(_BYTE *)(a2 + 28) | ((*(_BYTE *)(a2 + 29) | ((unsigned __int16)v17 << 8)) << 8);
      *(_DWORD *)(a1 + 28) = v19;
      v20 = v166 ^ dword_51D408[(unsigned __int8)v19] ^ dword_51C808[BYTE1(v19)] ^ dword_51CC08[(unsigned __int8)(v19 >> 16)] ^ dword_51D008[v19 >> 24] ^ 1;
      v21 = v20 ^ v7;
      v22 = v21 ^ v8;
      v23 = v22 ^ v9;
      *(_DWORD *)(a1 + 32) = v20;
      *(_DWORD *)(a1 + 36) = v21;
      *(_DWORD *)(a1 + 40) = v22;
      *(_DWORD *)(a1 + 44) = v23;
      v24 = dword_51C808[(unsigned __int8)v23] ^ dword_51CC08[BYTE1(v23)] ^ dword_51D008[(unsigned __int8)(v23 >> 16)] ^ dword_51D408[v23 >> 24] ^ v14;
      *(_DWORD *)(a1 + 48) = v24;
      v25 = v24 ^ v16 ^ v18;
      v26 = v25 ^ v19;
      *(_DWORD *)(a1 + 56) = v25;
      v27 = v24 ^ v16 ^ v18;
      *(_DWORD *)(a1 + 52) = v24 ^ v16;
      *(_DWORD *)(a1 + 60) = v26;
      v28 = v20 ^ dword_51D408[(unsigned __int8)v26] ^ dword_51C808[BYTE1(v26)] ^ dword_51CC08[(unsigned __int8)(v26 >> 16)] ^ dword_51D008[v26 >> 24] ^ 2;
      v29 = v28 ^ v21;
      *(_DWORD *)(a1 + 64) = v28;
      v30 = v29 ^ v22;
      v31 = v30 ^ v23;
      *(_DWORD *)(a1 + 76) = v31;
      v32 = v28;
      *(_DWORD *)(a1 + 68) = v29;
      *(_DWORD *)(a1 + 72) = v30;
      v33 = dword_51C808[(unsigned __int8)v31] ^ dword_51CC08[BYTE1(v31)] ^ dword_51D008[(unsigned __int8)(v31 >> 16)] ^ dword_51D408[v31 >> 24] ^ v24;
      v34 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 80) = v33;
      *(_DWORD *)(a1 + 88) = v34 ^ v27;
      v35 = v34 ^ v27 ^ v26;
      v36 = v34 ^ v27;
      v37 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 84) = v34;
      *(_DWORD *)(a1 + 92) = v35;
      v38 = v32 ^ dword_51D408[(unsigned __int8)v35] ^ dword_51C808[BYTE1(v35)] ^ dword_51CC08[(unsigned __int8)(v35 >> 16)] ^ dword_51D008[v35 >> 24] ^ 4;
      v39 = v38 ^ v29;
      *(_DWORD *)(a1 + 96) = v38;
      *(_DWORD *)(a1 + 100) = v39;
      v40 = v39 ^ v30;
      v41 = v40 ^ v31;
      *(_DWORD *)(a1 + 108) = v41;
      *(_DWORD *)(a1 + 104) = v40;
      v42 = dword_51C808[(unsigned __int8)v41] ^ dword_51CC08[BYTE1(v41)] ^ dword_51D008[(unsigned __int8)(v41 >> 16)] ^ dword_51D408[v41 >> 24] ^ v33;
      *(_DWORD *)(a1 + 112) = v42;
      v43 = v42 ^ v37 ^ v36 ^ v35;
      *(_DWORD *)(a1 + 120) = v42 ^ v37 ^ v36;
      *(_DWORD *)(a1 + 116) = v42 ^ v37;
      *(_DWORD *)(a1 + 124) = v43;
      v44 = v38 ^ dword_51D408[(unsigned __int8)v43] ^ dword_51C808[BYTE1(v43)] ^ dword_51CC08[(unsigned __int8)(v43 >> 16)] ^ dword_51D008[v43 >> 24] ^ 8;
      v45 = v44 ^ v39;
      v46 = v45 ^ v40;
      v47 = v46 ^ v41;
      *(_DWORD *)(a1 + 128) = v44;
      *(_DWORD *)(a1 + 132) = v45;
      *(_DWORD *)(a1 + 136) = v46;
      *(_DWORD *)(a1 + 140) = v47;
      v48 = v44;
      v49 = dword_51C808[(unsigned __int8)v47] ^ dword_51CC08[BYTE1(v47)] ^ dword_51D008[(unsigned __int8)(v47 >> 16)] ^ dword_51D408[v47 >> 24] ^ v42;
      *(_DWORD *)(a1 + 144) = v49;
      v50 = v49 ^ v42 ^ v37;
      v51 = v50 ^ v42 ^ v37 ^ v36;
      v52 = v51 ^ v43;
      *(_DWORD *)(a1 + 152) = v51;
      v53 = v51;
      *(_DWORD *)(a1 + 148) = v50;
      v54 = v50;
      *(_DWORD *)(a1 + 156) = v52;
      v55 = v48 ^ dword_51D408[(unsigned __int8)v52] ^ dword_51C808[BYTE1(v52)] ^ dword_51CC08[(unsigned __int8)(v52 >> 16)] ^ dword_51D008[v52 >> 24] ^ 0x10;
      v56 = v55 ^ v45;
      *(_DWORD *)(a1 + 160) = v55;
      v57 = v56 ^ v46;
      v58 = v57 ^ v47;
      *(_DWORD *)(a1 + 172) = v58;
      *(_DWORD *)(a1 + 164) = v56;
      *(_DWORD *)(a1 + 168) = v57;
      v59 = dword_51C808[(unsigned __int8)v58] ^ dword_51CC08[BYTE1(v58)] ^ dword_51D008[(unsigned __int8)(v58 >> 16)] ^ dword_51D408[v58 >> 24] ^ v49;
      *(_DWORD *)(a1 + 176) = v59;
      *(_DWORD *)(a1 + 184) = v59 ^ v54 ^ v53;
      v60 = v59 ^ v54 ^ v53 ^ v52;
      v61 = v59 ^ v54 ^ v53;
      v62 = v59 ^ v54;
      *(_DWORD *)(a1 + 180) = v62;
      *(_DWORD *)(a1 + 188) = v60;
      v63 = v55 ^ dword_51D408[(unsigned __int8)v60] ^ dword_51C808[BYTE1(v60)] ^ dword_51CC08[(unsigned __int8)(v60 >> 16)] ^ dword_51D008[v60 >> 24] ^ 0x20;
      v64 = v63 ^ v56;
      *(_DWORD *)(a1 + 192) = v63;
      v65 = v64 ^ v57;
      v66 = v65 ^ v58;
      *(_DWORD *)(a1 + 204) = v66;
      v67 = v63;
      *(_DWORD *)(a1 + 196) = v64;
      *(_DWORD *)(a1 + 200) = v65;
      v68 = dword_51C808[(unsigned __int8)v66] ^ dword_51CC08[BYTE1(v66)] ^ dword_51D008[(unsigned __int8)(v66 >> 16)] ^ dword_51D408[v66 >> 24] ^ v59;
      *(_DWORD *)(a1 + 208) = v68;
      *(_DWORD *)(a1 + 216) = v68 ^ v62 ^ v61;
      v69 = v68 ^ v62 ^ v61 ^ v60;
      *(_DWORD *)(a1 + 212) = v68 ^ v62;
      *(_DWORD *)(a1 + 220) = v69;
      v70 = dword_51D408[(unsigned __int8)v69] ^ dword_51C808[BYTE1(v69)] ^ dword_51CC08[(unsigned __int8)(v69 >> 16)] ^ dword_51D008[v69 >> 24];
      *(_DWORD *)(a1 + 256) = 14;
      v71 = v67 ^ v70 ^ 0x40;
      v72 = v71 ^ v64;
      v73 = v72 ^ v65;
      *(_DWORD *)(a1 + 232) = v73;
      *(_DWORD *)(a1 + 228) = v72;
      *(_DWORD *)(a1 + 224) = v71;
      *(_DWORD *)(a1 + 236) = v73 ^ v66;
      result = 1;
    }
  }
  return result;
}
// 51C808: using guessed type int dword_51C808[];
// 51CC08: using guessed type int dword_51CC08[];
// 51D008: using guessed type int dword_51D008[];
// 51D408: using guessed type int dword_51D408[];

//----- (004A0E20) --------------------------------------------------------
void *__usercall sub_4A0E20@<eax>(void *a1@<eax>)
{
  return memset(a1, 0, 0xA0u);
}

//----- (004A0E40) --------------------------------------------------------
unsigned int __cdecl sub_4A0E40(int a1, unsigned int a2)
{
  int v2; // eax@1
  unsigned int result; // eax@1
  _BYTE *v4; // ecx@3
  char v5; // dl@3
  unsigned __int64 v6; // [sp+Ch] [bp-8h]@1

  v2 = sub_47FA20();
  v6 = ((unsigned __int64)(unsigned int)v2 << 32) + (unsigned int)j_TSK_pvg_get_us_timer();
  result = 0;
  do
  {
    if ( result >= a2 )
      break;
    v4 = (_BYTE *)(result + a1);
    v5 = *((_BYTE *)&v6 + result++ + a1 - a1);
    *v4 = v5;
  }
  while ( result < 8 );
  return result;
}
// 47FA70: using guessed type int j_TSK_pvg_get_us_timer(void);

//----- (004A0EA0) --------------------------------------------------------
int __usercall sub_4A0EA0@<eax>(int result@<eax>)
{
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 8) = 1732584193;
  *(_DWORD *)(result + 12) = -271733879;
  *(_DWORD *)(result + 16) = -1732584194;
  *(_DWORD *)(result + 20) = 271733878;
  *(_DWORD *)(result + 24) = -1009589776;
  return result;
}

//----- (004A0EE0) --------------------------------------------------------
int __usercall sub_4A0EE0@<eax>(int result@<eax>)
{
  int v1; // ebx@1
  int v2; // esi@1
  int v3; // edx@1
  unsigned int v4; // ST28_4@1
  int v5; // edx@1
  int v6; // ST18_4@1
  unsigned int v7; // ST2C_4@1
  int v8; // edi@1
  int v9; // esi@1
  int v10; // edi@1
  int v11; // ST14_4@1
  int v12; // ST20_4@1
  unsigned int v13; // ST30_4@1
  int v14; // esi@1
  unsigned int v15; // ST34_4@1
  int v16; // edi@1
  int v17; // edi@1
  int v18; // ecx@1
  int v19; // ST1C_4@1
  int v20; // ebx@1
  unsigned int v21; // ebp@1
  unsigned int v22; // ST38_4@1
  int v23; // edx@1
  int v24; // ST10_4@1
  unsigned int v25; // ST3C_4@1
  int v26; // esi@1
  int v27; // esi@1
  int v28; // ST18_4@1
  int v29; // ebp@1
  unsigned int v30; // ST40_4@1
  int v31; // edi@1
  int v32; // ebx@1
  int v33; // ST14_4@1
  unsigned int v34; // ST44_4@1
  int v35; // edi@1
  int v36; // ST20_4@1
  int v37; // ST1C_4@1
  unsigned int v38; // ST48_4@1
  int v39; // ebx@1
  int v40; // ebx@1
  int v41; // ecx@1
  int v42; // ebp@1
  unsigned int v43; // ST4C_4@1
  int v44; // edx@1
  int v45; // edx@1
  int v46; // ST10_4@1
  int v47; // esi@1
  unsigned int v48; // ST50_4@1
  int v49; // esi@1
  int v50; // ST18_4@1
  unsigned int v51; // ST54_4@1
  int v52; // edi@1
  int v53; // ebx@1
  int v54; // ST14_4@1
  unsigned int v55; // ST58_4@1
  int v56; // edi@1
  int v57; // ST20_4@1
  int v58; // ebx@1
  unsigned int v59; // ST5C_4@1
  int v60; // ebx@1
  int v61; // ecx@1
  int v62; // ST14_4@1
  int v63; // ST1C_4@1
  unsigned int v64; // ST60_4@1
  int v65; // edx@1
  int v66; // edx@1
  int v67; // ST10_4@1
  unsigned int v68; // ST64_4@1
  int v69; // esi@1
  int v70; // esi@1
  int v71; // ST18_4@1
  int v72; // ebp@1
  int v73; // ecx@1
  int v74; // ebx@1
  int v75; // ST68_4@1
  int v76; // edi@1
  int v77; // edi@1
  int v78; // ST14_4@1
  int v79; // ST20_4@1
  int v80; // ecx@1
  int v81; // ST6C_4@1
  int v82; // edi@1
  int v83; // ecx@1
  int v84; // ST70_4@1
  int v85; // ebx@1
  int v86; // ST1C_4@1
  int v87; // ebx@1
  int v88; // ecx@1
  int v89; // ST14_4@1
  int v90; // ecx@1
  int v91; // ST74_4@1
  int v92; // edx@1
  int v93; // edx@1
  int v94; // ST10_4@1
  int v95; // ecx@1
  int v96; // ST78_4@1
  int v97; // esi@1
  int v98; // esi@1
  int v99; // ST18_4@1
  int v100; // ebx@1
  int v101; // ecx@1
  int v102; // edi@1
  int v103; // ST7C_4@1
  int v104; // edi@1
  int v105; // ST20_4@1
  int v106; // ecx@1
  int v107; // ST80_4@1
  int v108; // edx@1
  int v109; // edx@1
  int v110; // ecx@1
  int v111; // ST84_4@1
  int v112; // ebx@1
  int v113; // ebx@1
  int v114; // ST14_4@1
  int v115; // ecx@1
  int v116; // ebp@1
  int v117; // ST88_4@1
  int v118; // edi@1
  int v119; // edi@1
  int v120; // ST10_4@1
  int v121; // ebp@1
  int v122; // ecx@1
  int v123; // ST8C_4@1
  int v124; // edx@1
  int v125; // ebp@1
  int v126; // edx@1
  int v127; // ecx@1
  int v128; // ST18_4@1
  int v129; // ST90_4@1
  int v130; // esi@1
  int v131; // esi@1
  int v132; // ST20_4@1
  int v133; // ecx@1
  int v134; // ST94_4@1
  int v135; // edi@1
  int v136; // edi@1
  int v137; // ecx@1
  int v138; // ST98_4@1
  int v139; // ebx@1
  int v140; // ebx@1
  int v141; // ST14_4@1
  int v142; // ecx@1
  int v143; // ebp@1
  int v144; // ST9C_4@1
  int v145; // esi@1
  int v146; // esi@1
  int v147; // ST10_4@1
  int v148; // ebp@1
  int v149; // ecx@1
  int v150; // STA0_4@1
  int v151; // edi@1
  int v152; // ebp@1
  int v153; // edx@1
  int v154; // ecx@1
  int v155; // ST18_4@1
  int v156; // STA4_4@1
  int v157; // edi@1
  int v158; // edi@1
  int v159; // ST20_4@1
  int v160; // ecx@1
  int v161; // STA8_4@1
  int v162; // esi@1
  int v163; // esi@1
  int v164; // ecx@1
  int v165; // STAC_4@1
  int v166; // ebx@1
  int v167; // ebx@1
  int v168; // ST14_4@1
  int v169; // ecx@1
  int v170; // ebp@1
  int v171; // STB0_4@1
  int v172; // edi@1
  int v173; // edi@1
  int v174; // ST10_4@1
  int v175; // ebp@1
  int v176; // ecx@1
  int v177; // STB4_4@1
  int v178; // esi@1
  int v179; // ebp@1
  int v180; // edx@1
  int v181; // ST18_4@1
  int v182; // ecx@1
  int v183; // STB8_4@1
  int v184; // esi@1
  int v185; // ebx@1
  int v186; // ST20_4@1
  int v187; // esi@1
  int v188; // ecx@1
  int v189; // STBC_4@1
  int v190; // edi@1
  int v191; // edi@1
  int v192; // ST1C_4@1
  int v193; // ecx@1
  int v194; // ebp@1
  int v195; // STC0_4@1
  int v196; // edx@1
  int v197; // ecx@1
  int v198; // esi@1
  int v199; // STC4_4@1
  int v200; // ebp@1
  int v201; // esi@1
  int v202; // ST10_4@1
  int v203; // ecx@1
  int v204; // ebp@1
  int v205; // edi@1
  int v206; // STC8_4@1
  int v207; // ST1C_4@1
  int v208; // ecx@1
  int v209; // STCC_4@1
  int v210; // ebx@1
  int v211; // ST18_4@1
  int v212; // ecx@1
  int v213; // STD0_4@1
  int v214; // edx@1
  int v215; // edi@1
  int v216; // ebx@1
  int v217; // ecx@1
  int v218; // edx@1
  int v219; // ebx@1
  int v220; // ecx@1
  int v221; // ST1C_4@1
  int v222; // ebp@1
  int v223; // STD4_4@1
  int v224; // ST10_4@1
  int v225; // edx@1
  int v226; // ecx@1
  int v227; // ST14_4@1
  int v228; // STD8_4@1
  int v229; // ebp@1
  int v230; // ebx@1
  int v231; // ecx@1
  int v232; // esi@1
  int v233; // ST10_4@1
  int v234; // ecx@1
  int v235; // STDC_4@1
  int v236; // edi@1
  int v237; // ebx@1
  int v238; // ecx@1
  int v239; // edi@1
  int v240; // STE0_4@1
  int v241; // ebx@1
  int v242; // ST18_4@1
  int v243; // ST1C_4@1
  int v244; // ecx@1
  int v245; // edx@1
  int v246; // STE4_4@1
  int v247; // edi@1
  int v248; // ebx@1
  int v249; // ecx@1
  int v250; // edx@1
  int v251; // ebx@1
  int v252; // ecx@1
  int v253; // ST1C_4@1
  int v254; // ebp@1
  int v255; // STE8_4@1
  int v256; // ST10_4@1
  int v257; // edx@1
  int v258; // ecx@1
  int v259; // ebx@1
  int v260; // ST14_4@1
  int v261; // STEC_4@1
  int v262; // ebp@1
  int v263; // ecx@1
  int v264; // esi@1
  int v265; // ST10_4@1
  int v266; // ecx@1
  int v267; // edi@1
  int v268; // STF0_4@1
  int v269; // ebx@1
  int v270; // edi@1
  int v271; // ecx@1
  int v272; // ebx@1
  int v273; // STF4_4@1
  int v274; // ST1C_4@1
  int v275; // ST18_4@1
  int v276; // ecx@1
  int v277; // edx@1
  int v278; // edi@1
  int v279; // STF8_4@1
  int v280; // ebx@1
  int v281; // ecx@1
  int v282; // edx@1
  int v283; // ST1C_4@1
  int v284; // ecx@1
  int v285; // ST10_4@1
  int v286; // STFC_4@1
  int v287; // ebp@1
  int v288; // edx@1
  int v289; // ecx@1
  int v290; // ST100_4@1
  int v291; // ST14_4@1
  int v292; // ebp@1
  int v293; // ebx@1
  int v294; // ecx@1
  int v295; // esi@1
  int v296; // ST10_4@1
  int v297; // ecx@1
  int v298; // edi@1
  int v299; // ST104_4@1
  int v300; // ebx@1
  int v301; // edi@1
  int v302; // ecx@1
  int v303; // ebx@1
  int v304; // ST108_4@1
  int v305; // ST1C_4@1
  int v306; // ST18_4@1
  int v307; // ecx@1
  int v308; // edi@1
  int v309; // ST10C_4@1
  int v310; // ebx@1
  int v311; // edx@1
  int v312; // ecx@1
  int v313; // ST1C_4@1
  int v314; // ecx@1
  int v315; // ST110_4@1
  int v316; // ebp@1
  int v317; // ebx@1
  int v318; // edx@1
  int v319; // ecx@1
  int v320; // ST114_4@1
  int v321; // ST14_4@1
  int v322; // ebp@1
  int v323; // edi@1
  int v324; // ecx@1
  int v325; // edx@1
  int v326; // ebp@1
  int v327; // ST118_4@1
  int v328; // esi@1
  int v329; // ST10_4@1
  int v330; // ecx@1
  int v331; // ST18_4@1
  int v332; // ST11C_4@1
  int v333; // ebx@1
  int v334; // esi@1
  int v335; // edi@1
  int v336; // edi@1
  int v337; // ST20_4@1
  int v338; // ebx@1
  int v339; // ecx@1
  int v340; // edx@1
  int v341; // ST120_4@1
  int v342; // edx@1
  int v343; // ecx@1
  int v344; // ST124_4@1
  int v345; // ebx@1
  int v346; // ebx@1
  int v347; // ecx@1
  int v348; // ST14_4@1
  int v349; // ST128_4@1
  int v350; // ebp@1
  int v351; // edi@1
  int v352; // edi@1
  int v353; // ecx@1
  int v354; // ST10_4@1
  int v355; // ST12C_4@1
  int v356; // ebp@1
  int v357; // edx@1
  int v358; // ST18_4@1
  int v359; // ecx@1
  int v360; // ST130_4@1
  int v361; // edx@1
  int v362; // esi@1
  int v363; // esi@1
  int v364; // ST20_4@1
  int v365; // ecx@1
  int v366; // ebx@1
  int v367; // edi@1
  int v368; // ST134_4@1
  int v369; // edi@1
  int v370; // ecx@1
  int v371; // ebp@1
  int v372; // ST138_4@1
  int v373; // ebx@1
  int v374; // ebx@1
  int v375; // ecx@1
  int v376; // ST14_4@1
  int v377; // ST13C_4@1
  int v378; // ebp@1
  int v379; // esi@1
  int v380; // esi@1
  int v381; // ecx@1
  int v382; // ST10_4@1
  int v383; // ST140_4@1
  int v384; // ebp@1
  int v385; // edi@1
  int v386; // edi@1
  int v387; // ecx@1
  int v388; // ebp@1
  int v389; // edx@1
  int v390; // ST18_4@1
  int v391; // ebx@1
  int v392; // ST20_4@1
  int v393; // edx@1
  int v394; // ST14_4@1
  int v395; // esi@1
  int v396; // ST148_4@1
  int v397; // ST10_4@1
  int v398; // ST1C_4@1
  int v399; // edx@1
  int v400; // ebx@1
  int v401; // ST14C_4@1
  int v402; // esi@1
  int v403; // ebx@1
  int v404; // ST18_4@1
  int v405; // ST14_4@1
  int v406; // edx@1
  int v407; // edi@1
  int v408; // esi@1
  int v409; // ebx@1
  int v410; // ST20_4@1
  int v411; // esi@1
  int v412; // ST10_4@1
  int v413; // ebx@1
  int v414; // edi@1
  int v415; // ebp@1
  int v416; // edi@1
  int v417; // ST24_4@1
  int v418; // ST1C_4@1
  int v419; // edi@1
  int v420; // ebx@1
  int v421; // ST20_4@1
  int v422; // edx@1
  int v423; // ebx@1
  int v424; // edx@1
  int v425; // ebx@1
  int v426; // ST1C_4@1
  int v427; // esi@1
  int v428; // ebx@1
  int v429; // esi@1
  int v430; // ecx@1
  int v431; // ebx@1
  int v432; // ebx@1
  int v433; // edx@1
  int v434; // ecx@1

  v1 = *(_DWORD *)(result + 8);
  v2 = *(_DWORD *)(result + 12);
  v3 = __ROL4__(*(_DWORD *)(result + 8), 5);
  v4 = ((*(_DWORD *)(result + 28) & 0xFF00 | (*(_DWORD *)(result + 28) << 16)) << 8) | (((*(_DWORD *)(result + 28) >> 16) | *(_DWORD *)(result + 28) & 0xFF0000u) >> 8);
  v5 = v4
     + *(_DWORD *)(result + 24)
     + v3
     + (v2 & *(_DWORD *)(result + 16) ^ *(_DWORD *)(result + 20) & ~*(_DWORD *)(result + 12))
     + 1518500249;
  v2 = __ROR4__(v2, 2);
  v6 = v2;
  v7 = ((*(_DWORD *)(result + 32) & 0xFF00 | (*(_DWORD *)(result + 32) << 16)) << 8) | (((*(_DWORD *)(result + 32) >> 16) | *(_DWORD *)(result + 32) & 0xFF0000u) >> 8);
  v8 = v1 & v2 ^ *(_DWORD *)(result + 16) & ~v1;
  v9 = __ROL4__(v5, 5);
  v10 = *(_DWORD *)(result + 20) + v7 + v9 + v8 + 1518500249;
  v1 = __ROR4__(v1, 2);
  v11 = v10;
  v10 = __ROL4__(v10, 5);
  v12 = v1;
  v13 = ((*(_DWORD *)(result + 36) & 0xFF00 | (*(_DWORD *)(result + 36) << 16)) << 8) | (((*(_DWORD *)(result + 36) >> 16) | *(_DWORD *)(result + 36) & 0xFF0000u) >> 8);
  v14 = *(_DWORD *)(result + 16) + v13 + v10 + (v1 & v5 ^ v6 & ~v5) + 1518500249;
  v5 = __ROR4__(v5, 2);
  v15 = ((*(_DWORD *)(result + 40) & 0xFF00 | (*(_DWORD *)(result + 40) << 16)) << 8) | (((*(_DWORD *)(result + 40) >> 16) | *(_DWORD *)(result + 40) & 0xFF0000u) >> 8);
  v16 = __ROL4__(v14, 5);
  v17 = v6 + v15 + v16 + (v11 & v5 ^ v1 & ~v11) + 1518500249;
  v18 = __ROR4__(v11, 2);
  v19 = v5;
  v20 = __ROL4__(v17, 5);
  v21 = (((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8))
      + v20
      + (v14 & v18 ^ v5 & ~v14);
  v22 = ((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8);
  v14 = __ROR4__(v14, 2);
  v23 = v12 + v21 + 1518500249;
  v24 = v14;
  v25 = ((*(_DWORD *)(result + 48) & 0xFF00 | (*(_DWORD *)(result + 48) << 16)) << 8) | (((*(_DWORD *)(result + 48) >> 16) | *(_DWORD *)(result + 48) & 0xFF0000u) >> 8);
  v26 = __ROL4__(v23, 5);
  v27 = v19 + v25 + v26 + (v17 & v24 ^ v18 & ~v17) + 1518500249;
  v17 = __ROR4__(v17, 2);
  v28 = v17;
  v29 = v23 & v17;
  v30 = ((*(_DWORD *)(result + 52) & 0xFF00 | (*(_DWORD *)(result + 52) << 16)) << 8) | (((*(_DWORD *)(result + 52) >> 16) | *(_DWORD *)(result + 52) & 0xFF0000u) >> 8);
  v31 = __ROL4__(v27, 5);
  v32 = v18 + v30 + v31 + (v29 ^ v24 & ~v23) + 1518500249;
  v23 = __ROR4__(v23, 2);
  v33 = v32;
  v32 = __ROL4__(v32, 5);
  v34 = ((*(_DWORD *)(result + 56) & 0xFF00 | (*(_DWORD *)(result + 56) << 16)) << 8) | (((*(_DWORD *)(result + 56) >> 16) | *(_DWORD *)(result + 56) & 0xFF0000u) >> 8);
  v35 = v24 + v34 + v32 + (v23 & v27 ^ v28 & ~v27) + 1518500249;
  v27 = __ROR4__(v27, 2);
  v36 = v23;
  v37 = v27;
  v38 = ((*(_DWORD *)(result + 60) & 0xFF00 | (*(_DWORD *)(result + 60) << 16)) << 8) | (((*(_DWORD *)(result + 60) >> 16) | *(_DWORD *)(result + 60) & 0xFF0000u) >> 8);
  v39 = __ROL4__(v35, 5);
  v40 = v28 + v38 + v39 + (v33 & v27 ^ v23 & ~v33) + 1518500249;
  v41 = __ROR4__(v33, 2);
  v42 = v35 & v41 ^ v27 & ~v35;
  v43 = ((*(_DWORD *)(result + 64) & 0xFF00 | (*(_DWORD *)(result + 64) << 16)) << 8) | (((*(_DWORD *)(result + 64) >> 16) | *(_DWORD *)(result + 64) & 0xFF0000u) >> 8);
  v44 = __ROL4__(v40, 5);
  v35 = __ROR4__(v35, 2);
  v45 = v36 + v43 + v44 + v42 + 1518500249;
  v46 = v35;
  v47 = __ROL4__(v45, 5);
  v48 = ((*(_DWORD *)(result + 68) & 0xFF00 | (*(_DWORD *)(result + 68) << 16)) << 8) | (((*(_DWORD *)(result + 68) >> 16) | *(_DWORD *)(result + 68) & 0xFF0000u) >> 8);
  v49 = v37 + v48 + v47 + (v40 & v35 ^ v41 & ~v40) + 1518500249;
  v40 = __ROR4__(v40, 2);
  v50 = v40;
  v51 = ((*(_DWORD *)(result + 72) & 0xFF00 | (*(_DWORD *)(result + 72) << 16)) << 8) | (((*(_DWORD *)(result + 72) >> 16) | *(_DWORD *)(result + 72) & 0xFF0000u) >> 8);
  v52 = __ROL4__(v49, 5);
  v53 = v41 + v51 + v52 + (v45 & v40 ^ v46 & ~v45) + 1518500249;
  v54 = v53;
  v45 = __ROR4__(v45, 2);
  v53 = __ROL4__(v53, 5);
  v55 = ((*(_DWORD *)(result + 76) & 0xFF00 | (*(_DWORD *)(result + 76) << 16)) << 8) | (((*(_DWORD *)(result + 76) >> 16) | *(_DWORD *)(result + 76) & 0xFF0000u) >> 8);
  v56 = v46 + v55 + v53 + (v45 & v49 ^ v50 & ~v49) + 1518500249;
  v49 = __ROR4__(v49, 2);
  v57 = v45;
  v58 = __ROL4__(v56, 5);
  v59 = ((*(_DWORD *)(result + 80) & 0xFF00 | (*(_DWORD *)(result + 80) << 16)) << 8) | (((*(_DWORD *)(result + 80) >> 16) | *(_DWORD *)(result + 80) & 0xFF0000u) >> 8);
  v60 = v50 + v59 + v58 + (v54 & v49 ^ v45 & ~v54) + 1518500249;
  v61 = __ROR4__(v54, 2);
  v62 = v61;
  v63 = v49;
  v64 = ((*(_DWORD *)(result + 84) & 0xFF00 | (*(_DWORD *)(result + 84) << 16)) << 8) | (((*(_DWORD *)(result + 84) >> 16) | *(_DWORD *)(result + 84) & 0xFF0000u) >> 8);
  v65 = __ROL4__(v60, 5);
  v66 = v57 + v64 + v65 + (v56 & v61 ^ v49 & ~v56) + 1518500249;
  v56 = __ROR4__(v56, 2);
  v67 = v56;
  v68 = ((*(_DWORD *)(result + 88) & 0xFF00 | (*(_DWORD *)(result + 88) << 16)) << 8) | (((*(_DWORD *)(result + 88) >> 16) | *(_DWORD *)(result + 88) & 0xFF0000u) >> 8);
  v69 = __ROL4__(v66, 5);
  v70 = v63 + v68 + v69 + (v60 & v56 ^ v61 & ~v60) + 1518500249;
  v60 = __ROR4__(v60, 2);
  v71 = v60;
  v72 = v60;
  v73 = __ROL4__(v4 ^ v13 ^ v38 ^ v59, 1);
  v74 = v56 & ~v66;
  v75 = v73;
  v76 = __ROL4__(v70, 5);
  v77 = v62 + v73 + v76 + (v66 & v72 ^ v74) + 1518500249;
  v66 = __ROR4__(v66, 2);
  v78 = v77;
  v79 = v66;
  v80 = __ROL4__(v7 ^ v15 ^ v43 ^ v64, 1);
  v81 = v80;
  v77 = __ROL4__(v77, 5);
  v82 = v67 + v80 + v77 + (v66 & v70 ^ v71 & ~v70) + 1518500249;
  v70 = __ROR4__(v70, 2);
  v83 = __ROL4__(v13 ^ v22 ^ v48 ^ v68, 1);
  v84 = v83;
  v85 = __ROL4__(v82, 5);
  v86 = v70;
  v87 = v71 + v83 + v85 + (v78 & v70 ^ v66 & ~v78) + 1518500249;
  v88 = __ROR4__(v78, 2);
  v89 = v88;
  v90 = __ROL4__(v15 ^ v25 ^ v51 ^ v75, 1);
  v91 = v90;
  v92 = __ROL4__(v87, 5);
  v93 = v79 + v90 + v92 + (v82 & v89 ^ v70 & ~v82) + 1518500249;
  v82 = __ROR4__(v82, 2);
  v94 = v82;
  v95 = __ROL4__(v22 ^ v30 ^ v55 ^ v81, 1);
  v96 = v95;
  v97 = __ROL4__(v93, 5);
  v98 = v86 + v95 + v97 + (v87 ^ v82 ^ v89) + 1859775393;
  v87 = __ROR4__(v87, 2);
  v99 = v87;
  v100 = v87 ^ v82;
  v101 = __ROL4__(v25 ^ v34 ^ v59 ^ v84, 1);
  v102 = __ROL4__(v98, 5);
  v103 = v101;
  v104 = v89 + v101 + v102 + (v93 ^ v100) + 1859775393;
  v93 = __ROR4__(v93, 2);
  v105 = v93;
  v106 = __ROL4__(v30 ^ v38 ^ v64 ^ v91, 1);
  v107 = v106;
  v108 = __ROL4__(v104, 5);
  v109 = v94 + v106 + v108 + (v105 ^ v99 ^ v98) + 1859775393;
  v98 = __ROR4__(v98, 2);
  v110 = __ROL4__(v34 ^ v43 ^ v68 ^ v96, 1);
  v111 = v110;
  v112 = __ROL4__(v109, 5);
  v113 = v99 + v110 + v112 + (v105 ^ v104 ^ v98) + 1859775393;
  v104 = __ROR4__(v104, 2);
  v114 = v104;
  v115 = __ROL4__(v38 ^ v48 ^ v75 ^ v103, 1);
  v116 = v109 ^ v104 ^ v98;
  v117 = v115;
  v118 = __ROL4__(v113, 5);
  v119 = v105 + v115 + v118 + v116 + 1859775393;
  v109 = __ROR4__(v109, 2);
  v120 = v109;
  v121 = v109 ^ v114;
  v122 = __ROL4__(v43 ^ v51 ^ v81 ^ v107, 1);
  v123 = v122;
  v124 = __ROL4__(v119, 5);
  v125 = v122 + v124 + (v113 ^ v121);
  v113 = __ROR4__(v113, 2);
  v126 = v98 + v125 + 1859775393;
  v127 = __ROL4__(v48 ^ v55 ^ v84 ^ v111, 1);
  v128 = v113;
  v129 = v127;
  v130 = __ROL4__(v126, 5);
  v131 = v114 + v127 + v130 + (v119 ^ v113 ^ v120) + 1859775393;
  v119 = __ROR4__(v119, 2);
  v132 = v119;
  v133 = __ROL4__(v51 ^ v59 ^ v91 ^ v117, 1);
  v134 = v133;
  v135 = __ROL4__(v131, 5);
  v136 = v120 + v133 + v135 + (v132 ^ v113 ^ v126) + 1859775393;
  v126 = __ROR4__(v126, 2);
  v137 = __ROL4__(v55 ^ v64 ^ v96 ^ v123, 1);
  v138 = v137;
  v139 = __ROL4__(v136, 5);
  v140 = v128 + v137 + v139 + (v132 ^ v131 ^ v126) + 1859775393;
  v131 = __ROR4__(v131, 2);
  v141 = v131;
  v142 = __ROL4__(v59 ^ v68 ^ v103 ^ v129, 1);
  v143 = v136 ^ v131 ^ v126;
  v144 = v142;
  v145 = __ROL4__(v140, 5);
  v146 = v132 + v142 + v145 + v143 + 1859775393;
  v136 = __ROR4__(v136, 2);
  v147 = v136;
  v148 = v136 ^ v141;
  v149 = __ROL4__(v64 ^ v75 ^ v107 ^ v134, 1);
  v150 = v149;
  v151 = __ROL4__(v146, 5);
  v152 = v149 + v151 + (v140 ^ v148);
  v140 = __ROR4__(v140, 2);
  v153 = v126 + v152 + 1859775393;
  v154 = __ROL4__(v68 ^ v81 ^ v111 ^ v138, 1);
  v155 = v140;
  v156 = v154;
  v157 = __ROL4__(v153, 5);
  v158 = v141 + v154 + v157 + (v146 ^ v140 ^ v147) + 1859775393;
  v146 = __ROR4__(v146, 2);
  v159 = v146;
  v160 = __ROL4__(v75 ^ v84 ^ v117 ^ v144, 1);
  v161 = v160;
  v162 = __ROL4__(v158, 5);
  v163 = v147 + v160 + v162 + (v159 ^ v140 ^ v153) + 1859775393;
  v153 = __ROR4__(v153, 2);
  v164 = __ROL4__(v81 ^ v91 ^ v123 ^ v150, 1);
  v165 = v164;
  v166 = __ROL4__(v163, 5);
  v167 = v155 + v164 + v166 + (v159 ^ v158 ^ v153) + 1859775393;
  v158 = __ROR4__(v158, 2);
  v168 = v158;
  v169 = __ROL4__(v84 ^ v96 ^ v129 ^ v156, 1);
  v170 = v163 ^ v158 ^ v153;
  v171 = v169;
  v172 = __ROL4__(v167, 5);
  v173 = v159 + v169 + v172 + v170 + 1859775393;
  v163 = __ROR4__(v163, 2);
  v174 = v163;
  v175 = v163 ^ v168;
  v176 = __ROL4__(v91 ^ v103 ^ v134 ^ v161, 1);
  v177 = v176;
  v178 = __ROL4__(v173, 5);
  v179 = v176 + v178 + (v167 ^ v175);
  v167 = __ROR4__(v167, 2);
  v180 = v153 + v179 + 1859775393;
  v181 = v167;
  v182 = __ROL4__(v96 ^ v107 ^ v138 ^ v165, 1);
  v183 = v182;
  v184 = __ROL4__(v180, 5);
  v185 = v168 + v182 + v184 + (v173 ^ v167 ^ v174) + 1859775393;
  v173 = __ROR4__(v173, 2);
  v186 = v173;
  v187 = v173;
  v188 = __ROL4__(v103 ^ v111 ^ v144 ^ v171, 1);
  v189 = v188;
  v190 = __ROL4__(v185, 5);
  v191 = v174 + v188 + v190 + (v187 ^ v181 ^ v180) + 1859775393;
  v180 = __ROR4__(v180, 2);
  v192 = v180;
  v193 = __ROL4__(v107 ^ v117 ^ v150 ^ v177, 1);
  v194 = __ROL4__(v191, 5);
  v195 = v193;
  v196 = v181 + v193 + v194 + (v187 ^ v185 ^ v180) + 1859775393;
  v185 = __ROR4__(v185, 2);
  v197 = __ROL4__(v111 ^ v123 ^ v156 ^ v183, 1);
  v198 = __ROL4__(v196, 5);
  v199 = v197;
  v200 = v197 + v198 + (v191 ^ v185 ^ v192);
  v191 = __ROR4__(v191, 2);
  v201 = v186 + v200 + 1859775393;
  v202 = v191;
  v203 = __ROL4__(v117 ^ v129 ^ v161 ^ v189, 1);
  v204 = __ROL4__(v201, 5);
  v205 = v192 + v203 + (v196 & v191 ^ v185 & (v196 ^ v191)) + v204 - 1894007588;
  v206 = v203;
  v207 = v205;
  v196 = __ROR4__(v196, 2);
  v208 = __ROL4__(v123 ^ v134 ^ v165 ^ v195, 1);
  v209 = v208;
  v210 = v185 + v208 + (v201 & v196 ^ v202 & (v201 ^ v196));
  v205 = __ROL4__(v205, 5);
  v201 = __ROR4__(v201, 2);
  v211 = v196;
  v212 = __ROL4__(v129 ^ v138 ^ v171 ^ v199, 1);
  v213 = v212;
  v214 = v202 + v212 + (v201 & v196 ^ v207 & (v201 ^ v196));
  v215 = v210 + v205 - 1894007588;
  v216 = __ROL4__(v215, 5);
  v217 = __ROR4__(v207, 2);
  v218 = v214 + v216 - 1894007588;
  v219 = v217;
  v220 = __ROL4__(v134 ^ v144 ^ v177 ^ v206, 1);
  v221 = v219;
  v222 = v211 + v220 + (v201 & v215 ^ v219 & (v201 ^ v215));
  v223 = v220;
  v224 = v218;
  v218 = __ROL4__(v218, 5);
  v215 = __ROR4__(v215, 2);
  v225 = v218 + v222 - 1894007588;
  v226 = __ROL4__(v138 ^ v150 ^ v183 ^ v209, 1);
  v227 = v215;
  v228 = v226;
  v229 = v226 + (v224 & v215 ^ v219 & (v224 ^ v215));
  v230 = __ROL4__(v225, 5);
  v231 = __ROR4__(v224, 2);
  v232 = v230 + v201 + v229 - 1894007588;
  v233 = v231;
  v234 = __ROL4__(v144 ^ v156 ^ v189 ^ v213, 1);
  v235 = v234;
  v236 = v221 + v234 + (v225 & v233 ^ v215 & (v225 ^ v233));
  v237 = __ROL4__(v232, 5);
  v225 = __ROR4__(v225, 2);
  v238 = __ROL4__(v150 ^ v161 ^ v195 ^ v223, 1);
  v239 = v236 + v237 - 1894007588;
  v240 = v238;
  v241 = v227 + v238 + (v232 & v225 ^ v233 & (v232 ^ v225));
  v242 = v225;
  v243 = v239;
  v239 = __ROL4__(v239, 5);
  v232 = __ROR4__(v232, 2);
  v244 = __ROL4__(v156 ^ v165 ^ v199 ^ v228, 1);
  v245 = v233 + v244 + (v232 & v225 ^ v243 & (v232 ^ v225));
  v246 = v244;
  v247 = v241 + v239 - 1894007588;
  v248 = __ROL4__(v247, 5);
  v249 = __ROR4__(v243, 2);
  v250 = v245 + v248 - 1894007588;
  v251 = v249;
  v252 = __ROL4__(v161 ^ v171 ^ v206 ^ v235, 1);
  v253 = v251;
  v254 = v242 + v252 + (v232 & v247 ^ v251 & (v232 ^ v247));
  v255 = v252;
  v256 = v250;
  v250 = __ROL4__(v250, 5);
  v247 = __ROR4__(v247, 2);
  v257 = v250 + v254 - 1894007588;
  v258 = __ROL4__(v165 ^ v177 ^ v209 ^ v240, 1);
  v259 = __ROL4__(v257, 5);
  v260 = v247;
  v261 = v258;
  v262 = v258 + (v256 & v247 ^ v253 & (v256 ^ v247));
  v263 = __ROR4__(v256, 2);
  v264 = v259 + v232 + v262 - 1894007588;
  v265 = v263;
  v266 = __ROL4__(v171 ^ v183 ^ v213 ^ v246, 1);
  v267 = v253 + v266 + (v257 & v265 ^ v247 & (v257 ^ v265));
  v268 = v266;
  v269 = __ROL4__(v264, 5);
  v257 = __ROR4__(v257, 2);
  v270 = v267 + v269 - 1894007588;
  v271 = __ROL4__(v177 ^ v189 ^ v223 ^ v255, 1);
  v272 = v260 + v271 + (v264 & v257 ^ v265 & (v264 ^ v257));
  v273 = v271;
  v274 = v270;
  v270 = __ROL4__(v270, 5);
  v264 = __ROR4__(v264, 2);
  v275 = v257;
  v276 = __ROL4__(v183 ^ v195 ^ v228 ^ v261, 1);
  v277 = v265 + v276 + (v264 & v257 ^ v274 & (v264 ^ v257));
  v278 = v272 + v270 - 1894007588;
  v279 = v276;
  v280 = __ROL4__(v278, 5);
  v281 = __ROR4__(v274, 2);
  v282 = v277 + v280 - 1894007588;
  v283 = v281;
  v284 = __ROL4__(v189 ^ v199 ^ v235 ^ v268, 1);
  v285 = v282;
  v282 = __ROL4__(v282, 5);
  v286 = v284;
  v287 = v275 + v284 + (v264 & v278 ^ v283 & (v264 ^ v278));
  v278 = __ROR4__(v278, 2);
  v288 = v282 + v287 - 1894007588;
  v289 = __ROL4__(v195 ^ v206 ^ v240 ^ v273, 1);
  v290 = v289;
  v291 = v278;
  v292 = v289 + (v285 & v278 ^ v283 & (v285 ^ v278));
  v293 = __ROL4__(v288, 5);
  v294 = __ROR4__(v285, 2);
  v295 = v293 + v264 + v292 - 1894007588;
  v296 = v294;
  v297 = __ROL4__(v199 ^ v209 ^ v246 ^ v279, 1);
  v298 = v283 + v297 + (v288 & v296 ^ v278 & (v288 ^ v296));
  v299 = v297;
  v300 = __ROL4__(v295, 5);
  v288 = __ROR4__(v288, 2);
  v301 = v298 + v300 - 1894007588;
  v302 = __ROL4__(v206 ^ v213 ^ v255 ^ v286, 1);
  v303 = v291 + v302 + (v295 & v288 ^ v296 & (v295 ^ v288));
  v304 = v302;
  v305 = v301;
  v306 = v288;
  v301 = __ROL4__(v301, 5);
  v295 = __ROR4__(v295, 2);
  v307 = __ROL4__(v209 ^ v223 ^ v261 ^ v290, 1);
  v308 = v303 + v301 - 1894007588;
  v309 = v307;
  v310 = __ROL4__(v308, 5);
  v311 = v296 + v307 + (v295 & v288 ^ v305 & (v295 ^ v288)) + v310 - 1894007588;
  v312 = __ROR4__(v305, 2);
  v313 = v312;
  v314 = __ROL4__(v213 ^ v228 ^ v268 ^ v299, 1);
  v315 = v314;
  v316 = v306 + v314 + (v295 & v308 ^ v313 & (v295 ^ v308));
  v317 = v311;
  v311 = __ROL4__(v311, 5);
  v308 = __ROR4__(v308, 2);
  v318 = v311 + v316 - 1894007588;
  v319 = __ROL4__(v223 ^ v235 ^ v273 ^ v304, 1);
  v320 = v319;
  v321 = v308;
  v322 = v319 + (v317 & v308 ^ v313 & (v317 ^ v308));
  v323 = v318;
  v318 = __ROL4__(v318, 5);
  v317 = __ROR4__(v317, 2);
  v324 = __ROL4__(v228 ^ v240 ^ v279 ^ v309, 1);
  v325 = v318 + v295 + v322 - 1894007588;
  v326 = v313 + v324 + (v323 ^ v317 ^ v321);
  v327 = v324;
  v328 = __ROL4__(v325, 5);
  v323 = __ROR4__(v323, 2);
  v329 = v317;
  v330 = __ROL4__(v235 ^ v246 ^ v286 ^ v315, 1);
  v331 = v323;
  v332 = v330;
  v333 = v321 + v330 + (v325 ^ v323 ^ v317);
  v334 = v328 + v326 - 899497514;
  v335 = __ROL4__(v334, 5);
  v336 = v333 + v335 - 899497514;
  v325 = __ROR4__(v325, 2);
  v337 = v325;
  v338 = v325 ^ v331 ^ v334;
  v339 = __ROL4__(v240 ^ v255 ^ v290 ^ v320, 1);
  v340 = __ROL4__(v336, 5);
  v341 = v339;
  v334 = __ROR4__(v334, 2);
  v342 = v329 + v339 + v338 + v340 - 899497514;
  v343 = __ROL4__(v246 ^ v261 ^ v299 ^ v327, 1);
  v344 = v343;
  v345 = __ROL4__(v342, 5);
  v346 = v345 + v331 + v343 + (v337 ^ v336 ^ v334) - 899497514;
  v336 = __ROR4__(v336, 2);
  v347 = __ROL4__(v255 ^ v268 ^ v304 ^ v332, 1);
  v348 = v336;
  v349 = v347;
  v350 = v337 + v347 + (v342 ^ v336 ^ v334);
  v351 = __ROL4__(v346, 5);
  v342 = __ROR4__(v342, 2);
  v352 = v351 + v350 - 899497514;
  v353 = __ROL4__(v261 ^ v273 ^ v309 ^ v341, 1);
  v354 = v342;
  v355 = v353;
  v356 = v353 + (v346 ^ v342 ^ v348);
  v357 = __ROL4__(v352, 5);
  v346 = __ROR4__(v346, 2);
  v358 = v346;
  v359 = __ROL4__(v268 ^ v279 ^ v315 ^ v344, 1);
  v360 = v359;
  v361 = v357 + v334 + v356 - 899497514;
  v362 = __ROL4__(v361, 5);
  v363 = v348 + v359 + (v352 ^ v346 ^ v354) + v362 - 899497514;
  v352 = __ROR4__(v352, 2);
  v364 = v352;
  v365 = __ROL4__(v273 ^ v286 ^ v320 ^ v349, 1);
  v366 = v352 ^ v346 ^ v361;
  v367 = __ROL4__(v363, 5);
  v368 = v365;
  v369 = v354 + v365 + v366 + v367 - 899497514;
  v361 = __ROR4__(v361, 2);
  v370 = __ROL4__(v279 ^ v290 ^ v327 ^ v355, 1);
  v371 = v358 + v370 + (v364 ^ v363 ^ v361);
  v372 = v370;
  v373 = __ROL4__(v369, 5);
  v363 = __ROR4__(v363, 2);
  v374 = v373 + v371 - 899497514;
  v375 = __ROL4__(v286 ^ v299 ^ v332 ^ v360, 1);
  v376 = v363;
  v377 = v375;
  v378 = v364 + v375 + (v369 ^ v363 ^ v361);
  v379 = __ROL4__(v374, 5);
  v380 = v379 + v378 - 899497514;
  v369 = __ROR4__(v369, 2);
  v381 = __ROL4__(v290 ^ v304 ^ v341 ^ v368, 1);
  v382 = v369;
  v383 = v381;
  v384 = v381 + (v374 ^ v369 ^ v376);
  v385 = __ROL4__(v380, 5);
  v386 = v385 + v361 + v384 - 899497514;
  v374 = __ROR4__(v374, 2);
  v387 = __ROL4__(v299 ^ v309 ^ v344 ^ v372, 1);
  v388 = v376 + v387 + (v380 ^ v374 ^ v382);
  v389 = __ROL4__(v386, 5);
  v380 = __ROR4__(v380, 2);
  v390 = v374;
  v391 = v389 + v388 - 899497514;
  v392 = v380;
  v393 = __ROL4__(v304 ^ v315 ^ v349 ^ v377, 1);
  v394 = v391;
  v391 = __ROL4__(v391, 5);
  v395 = v382 + v393 + (v380 ^ v390 ^ v386) + v391 - 899497514;
  v386 = __ROR4__(v386, 2);
  v396 = v393;
  v397 = v395;
  v398 = v386;
  v399 = __ROL4__(v309 ^ v320 ^ v355 ^ v383, 1);
  v400 = __ROL4__(v395, 5);
  v401 = v399;
  v402 = __ROR4__(v394, 2);
  v403 = v400 + v390 + v399 + (v392 ^ v394 ^ v386) - 899497514;
  v404 = v403;
  v405 = v402;
  v406 = __ROL4__(v315 ^ v327 ^ v360 ^ v387, 1);
  v403 = __ROL4__(v403, 5);
  v407 = v392 + v406 + (v397 ^ v402 ^ v386) + v403 - 899497514;
  v408 = __ROR4__(v397, 2);
  v409 = v408;
  v410 = v407;
  v411 = __ROL4__(v320 ^ v332 ^ v368 ^ v396, 1);
  v407 = __ROL4__(v407, 5);
  v412 = v409;
  v413 = v407 + v398 + v411 + (v404 ^ v409 ^ v405) - 899497514;
  v414 = __ROR4__(v404, 2);
  v415 = v414;
  v416 = __ROL4__(v327 ^ v341 ^ v372 ^ v401, 1);
  v417 = v416;
  v418 = v413;
  v413 = __ROL4__(v413, 5);
  v419 = v405 + v416 + (v410 ^ v415 ^ v412) + v413 - 899497514;
  v420 = __ROR4__(v410, 2);
  v421 = v420;
  v422 = __ROL4__(v332 ^ v344 ^ v377 ^ v406, 1);
  v423 = __ROL4__(v419, 5);
  v424 = v412 + (v421 ^ v415 ^ v418) + v423 + v422 - 899497514;
  v425 = __ROR4__(v418, 2);
  v426 = v425;
  v427 = __ROL4__(v341 ^ v349 ^ v383 ^ v411, 1);
  v428 = __ROL4__(v424, 5);
  v429 = v415 + (v421 ^ v419 ^ v426) + v428 + v427 - 899497514;
  v419 = __ROR4__(v419, 2);
  v430 = __ROL4__(v417 ^ v344 ^ v355 ^ v387, 1);
  v431 = __ROL4__(v429, 5);
  v432 = v421 + (v424 ^ v419 ^ v426) + v431 + v430 - 899497514 + *(_DWORD *)(result + 8);
  *(_DWORD *)(result + 12) += v429;
  v424 = __ROR4__(v424, 2);
  v433 = *(_DWORD *)(result + 16) + v424;
  *(_DWORD *)(result + 20) += v419;
  v434 = *(_DWORD *)(result + 24);
  *(_DWORD *)(result + 8) = v432;
  *(_DWORD *)(result + 16) = v433;
  *(_DWORD *)(result + 24) = v426 + v434;
  return result;
}

//----- (004A2600) --------------------------------------------------------
unsigned int __usercall sub_4A2600@<eax>(int a1@<esi>, int a2)
{
  unsigned int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@4
  unsigned int v5; // eax@7
  unsigned int result; // eax@7
  int v7; // edx@8

  v2 = *(_DWORD *)a1 & 0x3F;
  v3 = v2 >> 2;
  *(_DWORD *)(a1 + 4 * v3 + 28) = dword_51D830[*(_BYTE *)a1 & 3] | *(_DWORD *)(a1 + 4 * v3 + 28) & dword_51D840[*(_BYTE *)a1 & 3];
  if ( v2 > 0x37 )
  {
    if ( v2 < 0x3C )
      *(_DWORD *)(a1 + 88) = 0;
    sub_4A0EE0(a1);
    v4 = 0;
    goto LABEL_6;
  }
  v4 = v3 + 1;
  if ( v3 + 1 < 0xE )
LABEL_6:
    memset((void *)(a1 + 4 * v4 + 28), 0, 4 * (14 - v4));
  v5 = 8 * *(_DWORD *)a1;
  *(_DWORD *)(a1 + 84) = ((((unsigned int)(*(_QWORD *)a1 >> 29) << 16) | (*(_QWORD *)a1 >> 29) & 0xFF00) << 8) | ((((unsigned int)(*(_QWORD *)a1 >> 29) >> 16) | (*(_QWORD *)a1 >> 29) & 0xFF0000) >> 8);
  *(_DWORD *)(a1 + 88) = (((v5 << 16) | v5 & 0xFF00) << 8) | (((v5 >> 16) | v5 & 0xFF0000) >> 8);
  sub_4A0EE0(a1);
  result = 0;
  do
  {
    v7 = *(_DWORD *)(a1 + 4 * (result >> 2) + 8) >> 8 * (~(_BYTE)result & 3);
    *(_BYTE *)(++result + a2 - 1) = v7;
  }
  while ( result < 0x14 );
  return result;
}
// 51D830: using guessed type int dword_51D830[];
// 51D840: using guessed type int dword_51D840[];

//----- (004A2700) --------------------------------------------------------
void *__usercall sub_4A2700@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3)
{
  int v3; // ebp@1
  size_t v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // eax@1
  size_t v7; // esi@1
  char *v9; // [sp+14h] [bp+4h]@1

  v3 = (int)a3;
  v4 = a1;
  v5 = *a3 & 0x3F;
  v6 = a1 + *a3;
  v7 = 64 - v5;
  v9 = a2;
  *(_DWORD *)v3 = v6;
  if ( v6 < v4 )
    ++*(_DWORD *)(v3 + 4);
  if ( v4 >= v7 )
  {
    do
    {
      memcpy((void *)(v5 + v3 + 28), v9, v7);
      v9 += v7;
      v4 -= v7;
      v7 = 64;
      v5 = 0;
      sub_4A0EE0(v3);
    }
    while ( v4 >= 0x40 );
  }
  return memcpy((void *)(v5 + v3 + 28), v9, v4);
}

//----- (004A2780) --------------------------------------------------------
void *__usercall sub_4A2780@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3)
{
  int v3; // edi@1
  void *result; // eax@1
  unsigned int v5; // eax@4
  _DWORD *v6; // eax@6

  v3 = a1;
  result = *(void **)(a1 + 156);
  if ( result != (void *)-1 )
  {
    if ( (unsigned int)result > 0x40 )
    {
      sub_4A2600(v3 + 64, v3);
      *(_DWORD *)(v3 + 156) = 20;
    }
    memset((void *)(v3 + *(_DWORD *)(v3 + 156)), 0, 64 - *(_DWORD *)(v3 + 156));
    v5 = 0;
    do
      *(_DWORD *)(v3 + 4 * v5++) ^= 0x36363636u;
    while ( v5 < 0x10 );
    v6 = (_DWORD *)sub_4A0EA0(v3 + 64);
    result = sub_4A2700(0x40u, (char *)v3, v6);
    *(_DWORD *)(v3 + 156) = -1;
  }
  if ( a2 )
    result = sub_4A2700(a2, a3, (_DWORD *)(v3 + 64));
  return result;
}

//----- (004A2820) --------------------------------------------------------
int __usercall sub_4A2820@<eax>(int a1@<edi>, int a2, size_t a3)
{
  unsigned int v3; // eax@3
  int result; // eax@5
  char v5; // [sp+8h] [bp-18h]@3

  if ( *(_DWORD *)(a1 + 156) != -1 )
    sub_4A2780(a1, 0, 0);
  sub_4A2600(a1 + 64, (int)&v5);
  v3 = 0;
  do
    *(_DWORD *)(a1 + 4 * v3++) ^= 0x6A6A6A6Au;
  while ( v3 < 0x10 );
  sub_4A0EA0(a1 + 64);
  sub_4A2700(0x40u, (char *)a1, (_DWORD *)(a1 + 64));
  sub_4A2700(0x14u, &v5, (_DWORD *)(a1 + 64));
  result = sub_4A2600(a1 + 64, (int)&v5);
  if ( a3 )
    result = (int)memcpy((void *)a2, &v5, a3);
  return result;
}

//----- (004A28E0) --------------------------------------------------------
int __usercall sub_4A28E0@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3)
{
  int v3; // eax@1
  int result; // eax@2

  v3 = *(_DWORD *)(a2 + 156);
  if ( v3 + a1 <= 0x40 )
  {
    memcpy((void *)(a2 + v3), a3, a1);
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  else
  {
    sub_4A0EA0(a2 + 64);
    sub_4A2700(*(_DWORD *)(a2 + 156), (char *)a2, (_DWORD *)(a2 + 64));
    sub_4A2700(a1, (char *)a3, (_DWORD *)(a2 + 64));
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  return result;
}

//----- (004A2940) --------------------------------------------------------
int __usercall sub_4A2940@<eax>(char *a1@<edi>)
{
  unsigned int v1; // ebp@1
  signed int v2; // eax@2
  int v3; // edx@4
  int v4; // ecx@4
  int v5; // edx@4
  unsigned int v6; // esi@4
  size_t v7; // eax@4
  int v8; // ebx@6
  int v9; // edx@8
  int result; // eax@8
  int v11; // ecx@8
  int v12; // edx@8
  char v13; // [sp+Ch] [bp-5Ch]@8
  int v14; // [sp+14h] [bp-54h]@4
  int v15; // [sp+18h] [bp-50h]@4
  int v16; // [sp+1Ch] [bp-4Ch]@4
  int v17; // [sp+20h] [bp-48h]@4
  int v18; // [sp+24h] [bp-44h]@4
  char v19[64]; // [sp+28h] [bp-40h]@6

  v1 = 0;
  do
  {
    v2 = v1;
    if ( !v1 )
      v2 = 260;
    v3 = *(_DWORD *)&a1[v2 - 16];
    v14 = *(_DWORD *)&a1[v2 - 20];
    v4 = *(_DWORD *)&a1[v2 - 12];
    v15 = v3;
    v5 = *(_DWORD *)&a1[v2 - 8];
    v6 = 260 - v1;
    v18 = *(_DWORD *)&a1[v2 - 4];
    v16 = v4;
    v17 = v5;
    v7 = 64;
    if ( 260 - v1 <= 0x40 )
      v7 = 260 - v1;
    v8 = (int)&a1[v1];
    memcpy(v19, &a1[v1], v7);
    if ( v6 < 0x40 )
      memcpy(&v19[v6], a1, 64 - v6);
    sub_4A0EE0((int)&v13);
    v9 = v15;
    result = v16;
    *(_DWORD *)v8 = v14;
    v11 = v17;
    *(_DWORD *)(v8 + 4) = v9;
    v12 = v18;
    *(_DWORD *)(v8 + 8) = result;
    v1 += 20;
    *(_DWORD *)(v8 + 12) = v11;
    *(_DWORD *)(v8 + 16) = v12;
  }
  while ( v1 < 0x104 );
  return result;
}
// 4A2940: using guessed type char var_40[64];

//----- (004A2A00) --------------------------------------------------------
int __usercall sub_4A2A00@<eax>(int a1@<ebx>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // eax@3
  char v3; // cl@4
  char v4; // dl@4
  char v5; // cl@4
  char v6; // dl@4
  char *v8; // [sp+Ch] [bp-4h]@1

  v8 = (char *)(a1 + 260);
  v1 = 0;
  qmemcpy((void *)(a1 + 260), (const void *)a1, 0x104u);
  do
    v1 += (*(int (__cdecl **)(unsigned int, unsigned int))(a1 + 524))(a1 + v1, 260 - v1);
  while ( v1 < 0x104 );
  v2 = 0;
  do
  {
    v3 = *(_BYTE *)(v2 + a1 + 261);
    *(_BYTE *)(v2 + a1) ^= ~v8[v2];
    v4 = *(_BYTE *)(v2 + a1 + 262);
    *(_BYTE *)(v2 + a1 + 1) ^= ~v3;
    v5 = *(_BYTE *)(v2 + a1 + 263);
    *(_BYTE *)(v2 + a1 + 2) ^= ~v4;
    v6 = *(_BYTE *)(v2 + a1 + 264);
    *(_BYTE *)(v2 + a1 + 3) ^= ~v5;
    *(_BYTE *)(v2 + a1 + 4) ^= ~v6;
    v2 += 5;
  }
  while ( v2 < 0x104 );
  sub_4A2940((char *)a1);
  return sub_4A2940(v8);
}

//----- (004A2AC0) --------------------------------------------------------
char __cdecl sub_4A2AC0(char *a1, size_t a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_4A2780(a3 + 296, a2, a1);
    sub_4A0040(a3, (int)a1, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004A2B10) --------------------------------------------------------
char __cdecl sub_4A2B10(char *a1, unsigned int a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_4A0040(a3, (int)a1, a2);
    sub_4A2780(a3 + 296, a2, a1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004A2B60) --------------------------------------------------------
bool __cdecl sub_4A2B60(int a1, int a2)
{
  if ( a2 )
    sub_4A2820(a2 + 296, a1, 0xAu);
  return a2 != 0;
}

//----- (004A2B90) --------------------------------------------------------
int __usercall sub_4A2B90@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7)
{
  void *v7; // esi@1
  char *v8; // ebx@1
  int result; // eax@1
  unsigned int v10; // edx@1
  unsigned int v11; // ebx@2
  size_t v12; // edx@3
  char v13; // al@6
  char v14; // al@6
  bool v15; // zf@7
  unsigned int v16; // eax@9
  unsigned int v17; // ecx@9
  int *v18; // [sp+10h] [bp-228h]@2
  unsigned int v19; // [sp+14h] [bp-224h]@2
  int v20; // [sp+18h] [bp-220h]@4
  signed int v21; // [sp+1Ch] [bp-21Ch]@2
  unsigned int v22; // [sp+20h] [bp-218h]@1
  char v23; // [sp+28h] [bp-210h]@3
  char v24; // [sp+C8h] [bp-170h]@1
  char v25; // [sp+168h] [bp-D0h]@1
  int v26; // [sp+20Ch] [bp-2Ch]@2
  int v27; // [sp+210h] [bp-28h]@3
  int v28; // [sp+214h] [bp-24h]@3
  int v29; // [sp+218h] [bp-20h]@3
  int v30; // [sp+21Ch] [bp-1Ch]@3
  int v31; // [sp+220h] [bp-18h]@3
  char v32[16]; // [sp+224h] [bp-14h]@6

  v7 = a2;
  v8 = a1;
  sub_4A0E20(&v24);
  sub_4A28E0(a3, (int)&v24, v7);
  qmemcpy(&v25, &v24, 0xA0u);
  sub_4A2780((int)&v25, a4, v8);
  result = -858993459 * (a7 - 1);
  v10 = (a7 - 1) / 0x14;
  v22 = v10 + 1;
  if ( v10 != -1 )
  {
    v11 = 1;
    v19 = 0;
    v21 = 1;
    v18 = &v26;
    do
    {
      v26 = 0;
      v27 = 0;
      v28 = 0;
      v29 = 0;
      v30 = 0;
      qmemcpy(&v23, &v25, 0xA0u);
      LOBYTE(v31) = BYTE3(v11);
      BYTE2(v31) = BYTE1(v11);
      BYTE1(v31) = v11 >> 16;
      BYTE3(v31) = v11;
      v12 = 4;
      if ( a5 )
      {
        v20 = a5;
        do
        {
          sub_4A2780((int)&v23, v12, (char *)&v31);
          sub_4A2820((int)&v23, (int)&v31, 0x14u);
          v12 = 0;
          do
          {
            *((_BYTE *)&v26 + v12) ^= *((_BYTE *)&v31 + v12);
            v13 = *((_BYTE *)&v31 + v12 + 2);
            *((_BYTE *)&v26 + v12 + 1) ^= *((_BYTE *)&v31 + v12 + 1);
            *((_BYTE *)&v26 + v12 + 2) ^= v13;
            v14 = v32[v12];
            *((_BYTE *)&v26 + v12 + 3) ^= *((_BYTE *)&v31 + v12 + 3);
            *((_BYTE *)&v27 + v12) ^= v14;
            v12 += 5;
          }
          while ( v12 < 0x14 );
          v15 = v20-- == 1;
          qmemcpy(&v23, &v24, 0xA0u);
        }
        while ( !v15 );
        v11 = v21;
      }
      v16 = v19;
      v17 = 0;
      do
      {
        if ( v16 >= a7 )
          break;
        *(_BYTE *)(v16 + a6) = *((_BYTE *)v18 + v16);
        ++v17;
        ++v16;
      }
      while ( v17 < 0x14 );
      v19 += 20;
      v18 -= 5;
      result = ++v11 - 1;
      v21 = v11;
    }
    while ( v11 - 1 < v22 );
  }
  return result;
}
// 4A2B90: using guessed type char var_14[16];

//----- (004A2DA0) --------------------------------------------------------
int __usercall sub_4A2DA0@<eax>(void *a1@<eax>, int a2)
{
  int v2; // ebx@1
  signed int v3; // esi@1

  v2 = (int)a1;
  memset(a1, 0, 0x210u);
  *(_DWORD *)(v2 + 524) = a2;
  sub_4A2A00(v2);
  v3 = 20;
  do
  {
    sub_4A2940((char *)v2);
    --v3;
  }
  while ( v3 );
  return sub_4A2A00(v2);
}

//----- (004A2DF0) --------------------------------------------------------
char *__cdecl sub_4A2DF0(int a1, int a2)
{
  void *v2; // ecx@0
  char *result; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@1
  char *v6; // ebx@1
  size_t v7; // esi@4

  result = (char *)a2;
  v4 = a1;
  v5 = *(_DWORD *)(a2 + 520);
  v6 = (char *)v2;
  if ( a1 )
  {
    while ( 1 )
    {
      v7 = 260 - v5;
      if ( v4 < 260 - v5 )
        v7 = v4;
      result = (char *)memcpy(v6, &result[v5 + 260], v7);
      v6 += v7;
      v5 += v7;
      v4 -= v7;
      if ( v5 == 260 )
      {
        result = (char *)sub_4A2A00(a2);
        v5 = 0;
      }
      if ( !v4 )
        break;
      result = (char *)a2;
    }
    *(_DWORD *)(a2 + 520) = v5;
  }
  else
  {
    *(_DWORD *)(a2 + 520) = v5;
  }
  return result;
}

//----- (004A2E80) --------------------------------------------------------
signed int __cdecl sub_4A2E80(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6)
{
  signed int result; // eax@2
  int v7; // ebx@6
  char v8; // [sp+Ch] [bp-48h]@6
  char v9[8]; // [sp+14h] [bp-40h]@6
  __int16 v10[26]; // [sp+1Ch] [bp-38h]@6

  if ( a3 <= 0x80 )
  {
    if ( (unsigned __int8)(a1 - 1) > 2u )
    {
      result = -101;
    }
    else if ( a6 )
    {
      *(_BYTE *)(a6 + 464) = a1;
      v7 = a1 & 3;
      *(_DWORD *)(a6 + 460) = a3;
      sub_4A2B90(a4, a2, a3, 4 * v7 + 4, 1000, (int)&v8, 16 * v7 + 18);
      *(_DWORD *)(a6 + 456) = 16;
      *(_DWORD *)a6 = 0;
      *(_DWORD *)(a6 + 4) = 0;
      *(_DWORD *)(a6 + 8) = 0;
      *(_DWORD *)(a6 + 12) = 0;
      sub_4A00A0(a6 + 32, (int)&v8, 8 * v7 + 8);
      sub_4A0E20((void *)(a6 + 296));
      sub_4A28E0(8 * v7 + 8, a6 + 296, &v9[8 * v7]);
      *a5 = v10[8 * v7];
      result = 0;
    }
    else
    {
      result = -102;
    }
  }
  else
  {
    result = -100;
  }
  return result;
}
// 4A2E80: using guessed type char var_40[8];
// 4A2E80: using guessed type __int16 var_38[26];

//----- (004A2FB0) --------------------------------------------------------
bool __cdecl sub_4A2FB0(void *a1, int a2)
{
  bool v2; // bl@3
  int v4; // [sp+Ch] [bp-214h]@5

  v2 = a1 && a2;
  sub_4A2DA0(&v4, (int)sub_4A0E40);
  if ( v2 )
    sub_4A2DF0(a2, (int)&v4);
  return v2;
}

//----- (004A3030) --------------------------------------------------------
BOOL __usercall sub_4A3030@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  unsigned int v3; // ecx@3
  int v4; // ecx@4

  *(_WORD *)(*(_DWORD *)(a1 + 5712) + 2 * *(_DWORD *)(a1 + 5728)) = a3;
  *(_BYTE *)(*(_DWORD *)(a1 + 5716) + (*(_DWORD *)(a1 + 5728))++) = a2;
  if ( a3 )
  {
    ++*(_DWORD *)(a1 + 2920);
    ++*(_WORD *)(a1 + 4 * (unsigned __int8)byte_51E048[a2] + 3964);
    v3 = a3 - 1;
    if ( v3 >= 0x100 )
      v4 = (unsigned __int8)byte_51DF48[v3 >> 7];
    else
      v4 = (unsigned __int8)byte_51DE48[v3];
    ++*(_WORD *)(a1 + 4 * v4 + 5228);
  }
  else
  {
    ++*(_WORD *)(a1 + 4 * a2 + 2936);
  }
  return *(_DWORD *)(a1 + 5728) == *(_DWORD *)(a1 + 5724) - 1;
}

//----- (004A30D0) --------------------------------------------------------
int __usercall sub_4A30D0@<eax>(int result@<eax>)
{
  signed int v1; // ecx@1
  __int16 v2; // cx@4

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 == 16 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)((*(_DWORD *)(result + 5812))++ + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
    *(_DWORD *)(result + 2932) = 0;
    *(_WORD *)(result + 2924) = 0;
  }
  else if ( v1 >= 8 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) -= 8;
    *(_WORD *)(result + 2924) = v2;
  }
  return result;
}

//----- (004A3160) --------------------------------------------------------
unsigned int __fastcall sub_4A3160(unsigned int a1, int a2)
{
  unsigned int v2; // eax@1
  int v3; // esi@2

  v2 = 0;
  do
  {
    v3 = a1 & 1;
    --a2;
    a1 >>= 1;
    v2 = 2 * (v3 | v2);
  }
  while ( a2 > 0 );
  return v2 >> 1;
}

//----- (004A3180) --------------------------------------------------------
int __usercall sub_4A3180@<eax>(int result@<eax>)
{
  signed int v1; // edx@1
  char v2; // bl@2
  int v3; // edx@2

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 <= 8 )
  {
    if ( v1 > 0 )
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    v3 = *(_DWORD *)(result + 5800);
    *(_BYTE *)(++*(_DWORD *)(result + 5812) + v3) = v2;
    ++*(_DWORD *)(result + 5812);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  return result;
}

//----- (004A3210) --------------------------------------------------------
int __usercall sub_4A3210@<eax>(int result@<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // ebp@2
  int v6; // esi@2
  int v7; // ecx@2
  int v8; // edi@3
  int v9; // esi@4
  int v10; // edx@4
  int v11; // ecx@4
  int v12; // edx@4
  int v13; // ecx@4
  int v14; // edx@6
  int v15; // edi@7
  int v16; // edx@7
  int v17; // ecx@7
  int v18; // edx@7
  int v19; // edi@9
  int v20; // esi@10
  int v21; // ecx@10
  int v22; // edx@11
  int v23; // ecx@11
  int v24; // edx@11
  int v25; // ecx@11
  unsigned int v26; // ebp@14
  int v27; // edi@15
  int v28; // edx@17
  int v29; // ecx@17
  unsigned __int16 v30; // si@18
  int v31; // edx@18
  int v32; // ecx@18
  int v33; // edx@18
  int v34; // esi@20
  int v35; // ecx@21
  int v36; // ebp@21
  int v37; // edx@22
  int v38; // ecx@22
  int v39; // edx@22
  int v40; // edi@26
  int v41; // ecx@26
  unsigned __int16 v42; // si@27
  int v43; // edx@27
  int v44; // ecx@27
  int v45; // edx@27
  int v46; // [sp+10h] [bp-Ch]@6
  int v47; // [sp+14h] [bp-8h]@6
  int v48; // [sp+14h] [bp-8h]@17
  unsigned int v49; // [sp+18h] [bp-4h]@2

  v3 = a2;
  v4 = 0;
  if ( *(_DWORD *)(result + 5728) )
  {
    do
    {
      v5 = *(_WORD *)(*(_DWORD *)(result + 5712) + 2 * v4);
      v6 = *(_BYTE *)(v4 + *(_DWORD *)(result + 5716));
      v49 = v4 + 1;
      v7 = *(_DWORD *)(result + 2932);
      if ( v5 )
      {
        v14 = (unsigned __int8)byte_51E048[v6];
        v46 = *(_WORD *)(v3 + 4 * v14 + 1030);
        v47 = (unsigned __int8)byte_51E048[v6];
        if ( v7 <= 16 - v46 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a2 + 4 * v14 + 1028) << v7;
          *(_DWORD *)(result + 2932) = v46 + v7;
        }
        else
        {
          v15 = *(_WORD *)(a2 + 4 * v14 + 1028);
          v16 = v15 << v7;
          v17 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v16;
          *(_BYTE *)(v17 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v18 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          LOWORD(v15) = (unsigned __int16)v15 >> (16 - v18);
          *(_DWORD *)(result + 2932) = v18 + v46 - 16;
          v14 = v47;
          *(_WORD *)(result + 2924) = v15;
        }
        v19 = dword_51D850[v14];
        v3 = a2;
        if ( v19 )
        {
          v20 = v6 - dword_51E148[v14];
          v21 = *(_DWORD *)(result + 2932);
          if ( v21 <= 16 - v19 )
          {
            *(_WORD *)(result + 2924) |= v20 << v21;
            v25 = v19 + v21;
          }
          else
          {
            v22 = v20 << v21;
            v23 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v22;
            *(_BYTE *)(v23 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v24 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v3 = a2;
            v25 = v24 + v19 - 16;
            *(_WORD *)(result + 2924) = (unsigned __int16)v20 >> (16 - v24);
          }
          *(_DWORD *)(result + 2932) = v25;
        }
        v26 = v5 - 1;
        if ( v26 >= 0x100 )
          v27 = (unsigned __int8)byte_51DF48[v26 >> 7];
        else
          v27 = (unsigned __int8)byte_51DE48[v26];
        v28 = *(_WORD *)(a3 + 4 * v27 + 2);
        v29 = *(_DWORD *)(result + 2932);
        v48 = *(_WORD *)(a3 + 4 * v27 + 2);
        if ( v29 <= 16 - v28 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a3 + 4 * v27) << v29;
          *(_DWORD *)(result + 2932) = v28 + v29;
        }
        else
        {
          v30 = *(_WORD *)(a3 + 4 * v27);
          v31 = *(_WORD *)(a3 + 4 * v27) << v29;
          v32 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v31;
          *(_BYTE *)(v32 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v33 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v3 = a2;
          *(_DWORD *)(result + 2932) = v33 + v48 - 16;
          *(_WORD *)(result + 2924) = v30 >> (16 - v33);
        }
        v34 = dword_51D8D8[v27];
        if ( !v34 )
          goto LABEL_25;
        v35 = *(_DWORD *)(result + 2932);
        v36 = v26 - dword_51E1C0[v27];
        if ( v35 <= 16 - v34 )
        {
          *(_WORD *)(result + 2924) |= v36 << v35;
          v13 = v34 + v35;
        }
        else
        {
          v37 = v36 << v35;
          v38 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v37;
          *(_BYTE *)(v38 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v39 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v39 + v34 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v36 >> (16 - v39);
        }
      }
      else
      {
        v8 = *(_WORD *)(v3 + 4 * v6 + 2);
        if ( v7 <= 16 - v8 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 4 * v6) << v7;
          v13 = v8 + v7;
        }
        else
        {
          v9 = *(_WORD *)(v3 + 4 * v6);
          v10 = v9 << v7;
          v11 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v10;
          *(_BYTE *)(v11 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v12 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v12 + v8 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v9 >> (16 - v12);
        }
      }
      *(_DWORD *)(result + 2932) = v13;
LABEL_25:
      v4 = v49;
    }
    while ( v49 < *(_DWORD *)(result + 5728) );
  }
  v40 = *(_WORD *)(v3 + 1026);
  v41 = *(_DWORD *)(result + 2932);
  if ( v41 <= 16 - v40 )
  {
    *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 1024) << v41;
    *(_DWORD *)(result + 2932) = v40 + v41;
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  else
  {
    v42 = *(_WORD *)(v3 + 1024);
    v43 = *(_WORD *)(v3 + 1024) << v41;
    v44 = *(_DWORD *)(result + 5800);
    *(_WORD *)(result + 2924) |= v43;
    *(_BYTE *)(v44 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2925);
    v45 = *(_DWORD *)(result + 2932);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) = v45 + v40 - 16;
    *(_WORD *)(result + 2924) = v42 >> (16 - v45);
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  return result;
}
// 51D850: using guessed type int dword_51D850[];
// 51D8D8: using guessed type int dword_51D8D8[];
// 51E148: using guessed type int dword_51E148[];
// 51E1C0: using guessed type int dword_51E1C0[];

//----- (004A3690) --------------------------------------------------------
int __usercall sub_4A3690@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>)
{
  int v3; // ebx@1
  _BYTE *v4; // edi@1
  int result; // eax@1
  int v6; // ecx@1
  int v7; // edx@1
  int v8; // edx@1
  int i; // esi@1

  v3 = a3;
  v4 = a2;
  result = sub_4A3180(a1);
  v6 = *(_DWORD *)(result + 5812);
  v7 = *(_DWORD *)(result + 5800);
  *(_DWORD *)(result + 2928) = 8;
  *(_BYTE *)(v6 + v7) = v3;
  v8 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v8) = BYTE1(v3);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~(_BYTE)v3;
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~BYTE1(v3);
  for ( i = ++*(_DWORD *)(result + 5812); v3; ++v4 )
  {
    *(_BYTE *)(i + *(_DWORD *)(result + 5800)) = *v4;
    i = ++*(_DWORD *)(result + 5812);
    --v3;
  }
  return result;
}

//----- (004A3740) --------------------------------------------------------
void *__usercall sub_4A3740@<eax>(int a1@<edi>)
{
  void *result; // eax@1
  int v2; // ebx@1
  size_t v3; // esi@1
  bool v4; // zf@4

  result = *(void **)(a1 + 16);
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 5812);
  if ( v3 > (unsigned int)result )
    v3 = *(_DWORD *)(a1 + 16);
  if ( v3 )
  {
    result = memcpy(*(void **)(a1 + 12), *(const void **)(v2 + 5808), v3);
    *(_DWORD *)(a1 + 12) += v3;
    *(_DWORD *)(v2 + 5808) += v3;
    *(_DWORD *)(a1 + 20) += v3;
    *(_DWORD *)(a1 + 16) -= v3;
    v4 = *(_DWORD *)(v2 + 5812) == v3;
    *(_DWORD *)(v2 + 5812) -= v3;
    if ( v4 )
      *(_DWORD *)(v2 + 5808) = *(_DWORD *)(v2 + 5800);
  }
  return result;
}

//----- (004A37A0) --------------------------------------------------------
int __usercall sub_4A37A0@<eax>(int result@<eax>, int a2@<edx>)
{
  int v2; // ecx@1
  int v3; // ebp@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // esi@1
  int v7; // ecx@1
  int v8; // edx@3
  int v9; // ecx@3
  int v10; // esi@6
  int v11; // ebx@8
  int i; // ecx@13
  int v13; // edx@17
  int v14; // ebx@18
  int v15; // ecx@19
  int v16; // esi@20
  int v17; // [sp+Ch] [bp-20h]@1
  int *v18; // [sp+10h] [bp-1Ch]@2
  int v19; // [sp+10h] [bp-1Ch]@17
  signed int v20; // [sp+14h] [bp-18h]@2
  int v21; // [sp+18h] [bp-14h]@1
  int v22; // [sp+1Ch] [bp-10h]@2
  int v23; // [sp+20h] [bp-Ch]@1
  int v24; // [sp+24h] [bp-8h]@1
  int v25; // [sp+28h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)a2;
  v24 = *(_DWORD *)(v2 + 8);
  v4 = *(_DWORD *)(v2 + 16);
  v21 = *(_DWORD *)v2;
  v25 = *(_DWORD *)(v2 + 4);
  v5 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 28) = 0;
  v23 = v5;
  v6 = 0;
  *(_WORD *)(v3 + 4 * *(_DWORD *)(result + 4 * *(_DWORD *)(result + 2328) + 32) + 2) = 0;
  v7 = *(_DWORD *)(result + 2328) + 1;
  v17 = 0;
  if ( v7 < 573 )
  {
    v18 = (int *)(result + 4 * v7 + 32);
    v22 = 573 - v7;
    v20 = 573;
    do
    {
      v8 = *v18;
      v9 = *(_WORD *)(v3 + 4 * *(_WORD *)(v3 + 4 * *v18 + 2) + 2) + 1;
      if ( v9 > v4 )
      {
        ++v6;
        v9 = v4;
        v17 = v6;
      }
      *(_WORD *)(v3 + 4 * v8 + 2) = v9;
      if ( v8 <= v23 )
      {
        ++*(_WORD *)(result + 2 * v9);
        v10 = 0;
        if ( v8 >= v24 )
          v10 = *(_DWORD *)(v25 + 4 * (v8 - v24));
        v11 = *(_WORD *)(v3 + 4 * v8);
        *(_DWORD *)(result + 2912) += v11 * (v10 + v9);
        if ( v21 )
          *(_DWORD *)(result + 2916) += v11 * (v10 + *(_WORD *)(v21 + 4 * v8 + 2));
        v6 = v17;
      }
      ++v18;
      --v22;
    }
    while ( v22 );
    if ( v6 )
    {
      do
      {
        for ( i = v4 - 1; !*(_WORD *)(result + 2 * i); --i )
          ;
        --*(_WORD *)(result + 2 * i);
        *(_WORD *)(result + 2 * i + 2) += 2;
        --*(_WORD *)(result + 2 * v4);
        v6 -= 2;
      }
      while ( v6 > 0 );
      for ( ; v4; --v4 )
      {
        v13 = *(_WORD *)(result + 2 * v4);
        v19 = *(_WORD *)(result + 2 * v4);
        if ( *(_WORD *)(result + 2 * v4) )
        {
          v14 = result + 4 * v20 + 32;
          do
          {
            v15 = *(_DWORD *)(v14 - 4);
            --v20;
            v14 -= 4;
            if ( v15 <= v23 )
            {
              v16 = *(_WORD *)(v3 + 4 * v15 + 2);
              if ( v16 != v4 )
              {
                *(_DWORD *)(result + 2912) += *(_WORD *)(v3 + 4 * v15) * (v4 - v16);
                *(_WORD *)(v3 + 4 * v15 + 2) = v4;
              }
              v13 = --v19;
            }
          }
          while ( v13 );
        }
      }
    }
  }
  return result;
}

//----- (004A3970) --------------------------------------------------------
signed int __usercall sub_4A3970@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>)
{
  __int16 v3; // cx@1
  signed int result; // eax@1
  int v5; // edx@1
  int i; // esi@3
  int v7; // edx@4
  unsigned int v8; // ecx@5
  __int16 v9; // [sp+4h] [bp-24h]@2
  char v10; // [sp+6h] [bp-22h]@1

  v3 = 0;
  result = 1;
  v5 = a1 - (_DWORD)&v10;
  do
  {
    v3 = 2 * (v3 + *(__int16 *)((char *)&v9 + 2 * result + v5));
    *(&v9 + result++) = v3;
  }
  while ( result <= 15 );
  for ( i = 0; i <= a2; ++i )
  {
    v7 = *(_WORD *)(a3 + 4 * i + 2);
    if ( *(_WORD *)(a3 + 4 * i + 2) )
    {
      v8 = (unsigned __int16)(*(&v9 + v7))++;
      result = sub_4A3160(v8, v7);
      *(_WORD *)(a3 + 4 * i) = result;
    }
  }
  return result;
}

//----- (004A39F0) --------------------------------------------------------
_WORD *__fastcall sub_4A39F0(int a1, int a2)
{
  _WORD *v2; // eax@1
  signed int v3; // ecx@1
  _WORD *v4; // eax@3
  signed int v5; // ecx@3
  _WORD *result; // eax@5
  signed int v7; // ecx@5

  v2 = (_WORD *)(a2 + 2936);
  v3 = 286;
  do
  {
    *v2 = 0;
    v2 += 2;
    --v3;
  }
  while ( v3 );
  v4 = (_WORD *)(a2 + 5228);
  v5 = 30;
  do
  {
    *v4 = 0;
    v4 += 2;
    --v5;
  }
  while ( v5 );
  result = (_WORD *)(a2 + 5472);
  v7 = 19;
  do
  {
    *result = 0;
    result += 2;
    --v7;
  }
  while ( v7 );
  *(_DWORD *)(a2 + 2916) = 0;
  *(_DWORD *)(a2 + 2912) = 0;
  *(_DWORD *)(a2 + 2920) = 0;
  *(_DWORD *)(a2 + 5728) = 0;
  *(_WORD *)(a2 + 3960) = 1;
  return result;
}

//----- (004A3A60) --------------------------------------------------------
unsigned int __usercall sub_4A3A60@<eax>(int a1@<esi>, unsigned int a2)
{
  int v2; // edx@1
  unsigned int v3; // ecx@1
  unsigned int v4; // ebp@1
  unsigned int v5; // edi@1
  int v6; // ecx@4
  unsigned int v7; // ebx@4
  int v8; // edx@8
  char v9; // al@11
  int v10; // edx@11
  unsigned int v11; // ecx@12
  _BYTE *v12; // edx@12
  char v13; // al@13
  _BYTE *v14; // edx@13
  char v15; // al@14
  _BYTE *v16; // edx@14
  char v17; // al@15
  _BYTE *v18; // edx@15
  char v19; // al@16
  _BYTE *v20; // edx@16
  char v21; // al@17
  _BYTE *v22; // edx@17
  char v23; // al@18
  _BYTE *v24; // edx@18
  char v25; // al@19
  _BYTE *v26; // edx@19
  char v27; // al@20
  int v28; // edx@22
  unsigned int result; // eax@27
  char v30; // [sp+Fh] [bp-11h]@4
  unsigned int v31; // [sp+10h] [bp-10h]@1
  int v32; // [sp+14h] [bp-Ch]@4
  unsigned int v33; // [sp+18h] [bp-8h]@2
  char v34; // [sp+24h] [bp+4h]@4

  v2 = *(_DWORD *)(a1 + 5748);
  v3 = *(_DWORD *)(a1 + 5680);
  v4 = a2;
  v31 = *(_DWORD *)(a1 + 5696);
  v5 = *(_DWORD *)(a1 + 5692);
  if ( v3 <= v2 - 262 )
    v33 = 0;
  else
    v33 = v3 - v2 + 262;
  v6 = *(_DWORD *)(a1 + 5740) + v3;
  v34 = *(_BYTE *)(v6 + v5 - 1);
  v32 = *(_DWORD *)(a1 + 5708);
  v7 = v6 + 258;
  v30 = *(_BYTE *)(v6 + v5);
  if ( v5 >= *(_DWORD *)(a1 + 5704) )
    v31 >>= 2;
  if ( *(_DWORD *)(a1 + 5708) > *(_DWORD *)(a1 + 5688) )
    v32 = *(_DWORD *)(a1 + 5688);
  do
  {
    v8 = v4 + *(_DWORD *)(a1 + 5740);
    if ( *(_BYTE *)(v8 + v5) == v30 && *(_BYTE *)(v8 + v5 - 1) == v34 && *(_BYTE *)v8 == *(_BYTE *)v6 )
    {
      v9 = *(_BYTE *)(v8 + 1);
      v10 = v8 + 1;
      if ( v9 == *(_BYTE *)(v6 + 1) )
      {
        v11 = v6 + 2;
        v12 = (_BYTE *)(v10 + 1);
        do
        {
          v13 = *(_BYTE *)(v11++ + 1);
          v14 = v12 + 1;
          if ( v13 != *v14 )
            break;
          v15 = *(_BYTE *)(v11++ + 1);
          v16 = v14 + 1;
          if ( v15 != *v16 )
            break;
          v17 = *(_BYTE *)(v11++ + 1);
          v18 = v16 + 1;
          if ( v17 != *v18 )
            break;
          v19 = *(_BYTE *)(v11++ + 1);
          v20 = v18 + 1;
          if ( v19 != *v20 )
            break;
          v21 = *(_BYTE *)(v11++ + 1);
          v22 = v20 + 1;
          if ( v21 != *v22 )
            break;
          v23 = *(_BYTE *)(v11++ + 1);
          v24 = v22 + 1;
          if ( v23 != *v24 )
            break;
          v25 = *(_BYTE *)(v11++ + 1);
          v26 = v24 + 1;
          if ( v25 != *v26 )
            break;
          v27 = *(_BYTE *)(v11++ + 1);
          v12 = v26 + 1;
          if ( v27 != *v12 )
            break;
        }
        while ( v11 < v7 );
        v28 = v11 - v7 + 258;
        v6 = v7 - 258;
        if ( v28 > (signed int)v5 )
        {
          *(_DWORD *)(a1 + 5684) = v4;
          v5 = v28;
          if ( v28 >= v32 )
            break;
          v34 = *(_BYTE *)(v28 + v6 - 1);
          v30 = *(_BYTE *)(v28 + v6);
        }
      }
    }
    v4 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & *(_DWORD *)(a1 + 5756)));
    if ( v4 <= v33 )
      break;
    --v31;
  }
  while ( v31 );
  result = *(_DWORD *)(a1 + 5688);
  if ( v5 <= result )
    result = v5;
  return result;
}

//----- (004A3C10) --------------------------------------------------------
unsigned int __usercall sub_4A3C10@<eax>(int a1@<esi>, int a2)
{
  int v2; // ecx@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  unsigned int v6; // edi@1
  unsigned int v7; // eax@3
  _BYTE *v8; // ecx@3
  char v9; // dl@4
  _BYTE *v10; // ecx@4
  char v11; // dl@5
  _BYTE *v12; // ecx@5
  char v13; // dl@6
  _BYTE *v14; // ecx@6
  char v15; // dl@7
  _BYTE *v16; // ecx@7
  char v17; // dl@8
  _BYTE *v18; // ecx@8
  char v19; // dl@9
  _BYTE *v20; // ecx@9
  char v21; // dl@10
  _BYTE *v22; // ecx@10
  char v23; // dl@11
  unsigned int v24; // ecx@13
  unsigned int result; // eax@13

  v2 = *(_DWORD *)(a1 + 5740);
  v3 = *(_BYTE *)(v2 + a2);
  v4 = v2 + *(_DWORD *)(a1 + 5680);
  v5 = a2 + v2;
  v6 = v4 + 258;
  if ( v3 != *(_BYTE *)v4 || *(_BYTE *)(v5 + 1) != *(_BYTE *)(v4 + 1) )
  {
    result = 2;
  }
  else
  {
    v7 = v4 + 2;
    v8 = (_BYTE *)(v5 + 2);
    do
    {
      v9 = *(_BYTE *)(v7++ + 1);
      v10 = v8 + 1;
      if ( v9 != *v10 )
        break;
      v11 = *(_BYTE *)(v7++ + 1);
      v12 = v10 + 1;
      if ( v11 != *v12 )
        break;
      v13 = *(_BYTE *)(v7++ + 1);
      v14 = v12 + 1;
      if ( v13 != *v14 )
        break;
      v15 = *(_BYTE *)(v7++ + 1);
      v16 = v14 + 1;
      if ( v15 != *v16 )
        break;
      v17 = *(_BYTE *)(v7++ + 1);
      v18 = v16 + 1;
      if ( v17 != *v18 )
        break;
      v19 = *(_BYTE *)(v7++ + 1);
      v20 = v18 + 1;
      if ( v19 != *v20 )
        break;
      v21 = *(_BYTE *)(v7++ + 1);
      v22 = v20 + 1;
      if ( v21 != *v22 )
        break;
      v23 = *(_BYTE *)(v7++ + 1);
      v8 = v22 + 1;
      if ( v23 != *v8 )
        break;
    }
    while ( v7 < v6 );
    v24 = *(_DWORD *)(a1 + 5688);
    result = v7 - v6 + 258;
    *(_DWORD *)(a1 + 5684) = a2;
    if ( result > v24 )
      result = v24;
  }
  return result;
}

//----- (004A3CE0) --------------------------------------------------------
int __usercall sub_4A3CE0@<eax>(int result@<eax>, int a2@<edi>, int a3)
{
  int v3; // edx@1
  int v4; // ebp@1
  int v5; // ecx@1
  bool v6; // sf@1
  unsigned __int8 v7; // of@1
  int v8; // esi@3
  int v9; // ebp@3
  unsigned __int16 v10; // dx@3
  unsigned __int16 v11; // bx@3
  int v12; // esi@8
  unsigned __int16 v13; // dx@8
  unsigned __int16 v14; // bx@8
  int v15; // edx@11
  int v16; // [sp+8h] [bp-4h]@1

  v3 = *(_DWORD *)(result + 2324);
  v4 = *(_DWORD *)(result + 4 * a3 + 32);
  v5 = 2 * a3;
  v7 = __OFSUB__(2 * a3, v3);
  v6 = 2 * a3 - v3 < 0;
  v16 = *(_DWORD *)(result + 4 * a3 + 32);
  if ( 2 * a3 > v3 )
  {
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  else
  {
    while ( 1 )
    {
      if ( v6 ^ v7 )
      {
        v8 = *(_DWORD *)(result + 4 * v5 + 36);
        v9 = *(_DWORD *)(result + 4 * v5 + 32);
        v10 = *(_WORD *)(a2 + 4 * v8);
        v11 = *(_WORD *)(a2 + 4 * v9);
        if ( v10 < v11 || v10 == v11 && *(_BYTE *)(v8 + result + 2332) <= *(_BYTE *)(result + v9 + 2332) )
          ++v5;
        v4 = v16;
      }
      v12 = *(_DWORD *)(result + 4 * v5 + 32);
      v13 = *(_WORD *)(a2 + 4 * v4);
      v14 = *(_WORD *)(a2 + 4 * v12);
      if ( v13 < v14 )
      {
LABEL_12:
        *(_DWORD *)(result + 4 * a3 + 32) = v4;
        return result;
      }
      if ( v13 == v14 && *(_BYTE *)(result + v4 + 2332) <= *(_BYTE *)(v12 + result + 2332) )
        break;
      *(_DWORD *)(result + 4 * a3 + 32) = v12;
      v15 = *(_DWORD *)(result + 2324);
      a3 = v5;
      v5 *= 2;
      v7 = __OFSUB__(v5, v15);
      v6 = v5 - v15 < 0;
      if ( v5 > v15 )
        goto LABEL_12;
    }
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  return result;
}

//----- (004A3D90) --------------------------------------------------------
int __usercall sub_4A3D90@<eax>(int result@<eax>, __int16 a2@<cx>)
{
  int v2; // edi@1

  *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = HIBYTE(a2);
  v2 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v2) = a2;
  ++*(_DWORD *)(result + 5812);
  return result;
}

//----- (004A3DD0) --------------------------------------------------------
unsigned int __usercall sub_4A3DD0@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3)
{
  int v3; // ecx@1
  unsigned int v4; // edi@1
  unsigned int result; // eax@4

  v3 = *(_DWORD *)(a2 + 24);
  v4 = *(_DWORD *)(a2 + 4);
  if ( v4 > a1 )
    v4 = a1;
  if ( v4 )
  {
    *(_DWORD *)(a2 + 4) -= v4;
    if ( *(_DWORD *)(v3 + 5780) == 1 )
      *(_DWORD *)(a2 + 28) = sub_4A5BA0(*(_DWORD *)(a2 + 28), *(_BYTE **)a2, v4);
    memcpy(a3, *(const void **)a2, v4);
    *(_DWORD *)a2 += v4;
    *(_DWORD *)(a2 + 8) += v4;
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004A3E30) --------------------------------------------------------
signed int __usercall sub_4A3E30@<eax>(signed int result@<eax>, int a2@<ecx>, int a3)
{
  signed int v3; // edi@1
  signed int v4; // edx@1
  signed int v5; // ebp@1
  int v6; // ebx@1
  signed int v7; // ecx@1
  signed int v8; // esi@1
  _WORD *v9; // [sp+10h] [bp-8h]@4
  int v10; // [sp+14h] [bp-4h]@4

  v3 = *(_WORD *)(result + 2);
  v4 = 0;
  v5 = -1;
  v6 = a2;
  v7 = 7;
  v8 = 4;
  if ( !*(_WORD *)(result + 2) )
  {
    v7 = 138;
    v8 = 3;
  }
  *(_WORD *)(result + 4 * v6 + 6) = -1;
  if ( v6 >= 0 )
  {
    v10 = v6 + 1;
    v9 = (_WORD *)(result + 6);
    do
    {
      result = v3;
      v3 = *v9;
      if ( ++v4 >= v7 || result != v3 )
      {
        if ( v4 >= v8 )
        {
          if ( result )
          {
            if ( result != v5 )
              ++*(_WORD *)(a3 + 4 * result + 5472);
            ++*(_WORD *)(a3 + 5536);
          }
          else if ( v4 > 10 )
          {
            ++*(_WORD *)(a3 + 5544);
          }
          else
          {
            ++*(_WORD *)(a3 + 5540);
          }
        }
        else
        {
          *(_WORD *)(a3 + 4 * result + 5472) += v4;
        }
        v4 = 0;
        v5 = result;
        if ( v3 )
        {
          if ( result == v3 )
          {
            v7 = 6;
            v8 = 3;
          }
          else
          {
            v7 = 7;
            v8 = 4;
          }
        }
        else
        {
          v7 = 138;
          v8 = 3;
        }
      }
      v9 += 2;
      --v10;
    }
    while ( v10 );
  }
  return result;
}

//----- (004A3F10) --------------------------------------------------------
int __usercall sub_4A3F10@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>)
{
  signed int v3; // esi@1
  int v4; // ebx@1
  signed int v5; // ecx@1
  signed int v6; // edi@1
  signed int v7; // edx@5
  int v8; // edi@8
  int v9; // ecx@8
  unsigned __int16 v10; // si@9
  int v11; // edx@9
  int v12; // ecx@9
  int v13; // edx@9
  __int16 v14; // si@9
  int v15; // ecx@9
  int v16; // ecx@15
  unsigned __int16 v17; // si@16
  int v18; // edi@16
  int v19; // ecx@16
  int v20; // ebx@16
  int v21; // ecx@16
  int v22; // ecx@19
  unsigned __int16 v23; // si@20
  int v24; // edi@20
  int v25; // ecx@20
  int v26; // ebx@20
  int v27; // ecx@20
  int v28; // esi@22
  int v29; // edi@23
  int v30; // ecx@23
  int v31; // ebx@23
  int v32; // ecx@24
  int v33; // ecx@25
  unsigned __int16 v34; // si@27
  int v35; // edi@27
  int v36; // ecx@27
  int v37; // ebx@27
  int v38; // ecx@27
  int v39; // esi@29
  int v40; // edi@30
  int v41; // ecx@30
  int v42; // ebx@30
  unsigned __int16 v43; // si@33
  int v44; // edi@33
  int v45; // ecx@33
  int v46; // ebx@33
  int v47; // ecx@33
  int v48; // esi@35
  int v49; // edi@36
  int v50; // ecx@36
  int v51; // ebx@36
  signed int v52; // [sp+10h] [bp-18h]@5
  signed int v53; // [sp+14h] [bp-14h]@1
  _WORD *v54; // [sp+18h] [bp-10h]@4
  signed int v55; // [sp+1Ch] [bp-Ch]@1
  int v56; // [sp+1Ch] [bp-Ch]@15
  int v57; // [sp+1Ch] [bp-Ch]@19
  int v58; // [sp+1Ch] [bp-Ch]@26
  int v59; // [sp+1Ch] [bp-Ch]@32
  int v60; // [sp+20h] [bp-8h]@4
  signed int v61; // [sp+24h] [bp-4h]@5

  v3 = 0;
  v4 = a3;
  v5 = 7;
  v6 = 4;
  v53 = *(_WORD *)(a2 + 2);
  v55 = -1;
  if ( !*(_WORD *)(a2 + 2) )
  {
    v5 = 138;
    v6 = 3;
  }
  if ( v4 >= 0 )
  {
    v54 = (_WORD *)(a2 + 6);
    v60 = v4 + 1;
    do
    {
      v7 = v53;
      ++v3;
      v61 = v53;
      v53 = *v54;
      v52 = v3;
      if ( v3 < v5 && v7 == *v54 )
        goto LABEL_44;
      if ( v3 < v6 )
      {
        do
        {
          v8 = *(_WORD *)(result + 4 * v7 + 5474);
          v9 = *(_DWORD *)(result + 2932);
          if ( v9 <= 16 - v8 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v15 = v8 + v9;
          }
          else
          {
            v10 = *(_WORD *)(result + 4 * v7 + 5472);
            v11 = *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v12 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v11;
            *(_BYTE *)(v12 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v13 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v14 = v10 >> (16 - v13);
            v15 = v13 + v8 - 16;
            v7 = v61;
            *(_WORD *)(result + 2924) = v14;
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v15;
          v52 = v3;
        }
        while ( v3 );
        goto LABEL_39;
      }
      if ( v7 )
      {
        if ( v7 != v55 )
        {
          v16 = *(_DWORD *)(result + 2932);
          v56 = *(_WORD *)(result + 4 * v7 + 5474);
          if ( v16 <= 16 - v56 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v21 = v56 + v16;
          }
          else
          {
            v17 = *(_WORD *)(result + 4 * v7 + 5472);
            v18 = *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v19 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v18;
            *(_BYTE *)(v19 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v20 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v21 = v20 + v56 - 16;
            *(_WORD *)(result + 2924) = v17 >> (16 - v20);
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v21;
          v52 = v3;
        }
        v22 = *(_DWORD *)(result + 2932);
        v57 = *(_WORD *)(result + 5538);
        if ( v22 <= 16 - v57 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5536) << v22;
          v27 = v57 + v22;
        }
        else
        {
          v23 = *(_WORD *)(result + 5536);
          v24 = *(_WORD *)(result + 5536) << v22;
          v25 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v24;
          *(_BYTE *)(v25 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v26 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v27 = v26 + v57 - 16;
          *(_WORD *)(result + 2924) = v23 >> (16 - v26);
          v3 = v52;
        }
        v28 = v3 - 3;
        *(_DWORD *)(result + 2932) = v27;
        if ( v27 > 14 )
        {
          v29 = v28 << v27;
          v30 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v29;
          *(_BYTE *)(v30 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v31 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          *(_DWORD *)(result + 2932) = v31 - 14;
          *(_WORD *)(result + 2924) = (unsigned __int16)v28 >> (16 - v31);
          goto LABEL_39;
        }
        *(_WORD *)(result + 2924) |= v28 << v27;
        v32 = v27 + 2;
      }
      else
      {
        v33 = *(_DWORD *)(result + 2932);
        if ( v3 > 10 )
        {
          v59 = *(_WORD *)(result + 5546);
          if ( v33 <= 16 - v59 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5544) << v33;
            v47 = v59 + v33;
          }
          else
          {
            v43 = *(_WORD *)(result + 5544);
            v44 = *(_WORD *)(result + 5544) << v33;
            v45 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v44;
            *(_BYTE *)(v45 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v46 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v47 = v46 + v59 - 16;
            *(_WORD *)(result + 2924) = v43 >> (16 - v46);
            v3 = v52;
          }
          v48 = v3 - 11;
          *(_DWORD *)(result + 2932) = v47;
          if ( v47 > 9 )
          {
            v49 = v48 << v47;
            v50 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v49;
            *(_BYTE *)(v50 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v51 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v51 - 9;
            *(_WORD *)(result + 2924) = (unsigned __int16)v48 >> (16 - v51);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v48 << v47;
          v32 = v47 + 7;
        }
        else
        {
          v58 = *(_WORD *)(result + 5542);
          if ( v33 <= 16 - v58 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5540) << v33;
            v38 = v58 + v33;
          }
          else
          {
            v34 = *(_WORD *)(result + 5540);
            v35 = *(_WORD *)(result + 5540) << v33;
            v36 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v35;
            *(_BYTE *)(v36 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v37 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v38 = v37 + v58 - 16;
            *(_WORD *)(result + 2924) = v34 >> (16 - v37);
            v3 = v52;
          }
          v39 = v3 - 3;
          *(_DWORD *)(result + 2932) = v38;
          if ( v38 > 13 )
          {
            v40 = v39 << v38;
            v41 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v40;
            *(_BYTE *)(v41 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v42 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v42 - 13;
            *(_WORD *)(result + 2924) = (unsigned __int16)v39 >> (16 - v42);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v39 << v38;
          v32 = v38 + 3;
        }
      }
      *(_DWORD *)(result + 2932) = v32;
LABEL_39:
      v3 = 0;
      v55 = v7;
      if ( v53 )
      {
        if ( v7 == v53 )
        {
          v5 = 6;
          v6 = 3;
        }
        else
        {
          v5 = 7;
          v6 = 4;
        }
      }
      else
      {
        v5 = 138;
        v6 = 3;
      }
LABEL_44:
      v54 += 2;
      --v60;
    }
    while ( v60 );
  }
  return result;
}

//----- (004A44B0) --------------------------------------------------------
int __usercall sub_4A44B0@<eax>(int a1@<eax>)
{
  signed int v1; // ecx@1
  int v2; // edx@2
  signed int v3; // ecx@4
  int v4; // edx@5
  int result; // eax@7
  signed int v6; // ecx@7
  int v7; // edx@9
  signed int v8; // ecx@11
  int v9; // edx@12

  v1 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) |= 2 << v1;
  if ( v1 <= 13 )
  {
    *(_DWORD *)(a1 + 2932) = v1 + 3;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v2 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v2 - 13;
    *(_WORD *)(a1 + 2924) = 2u >> (16 - v2);
  }
  v3 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) = *(_WORD *)(a1 + 2924);
  if ( v3 <= 9 )
  {
    *(_DWORD *)(a1 + 2932) = v3 + 7;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v4 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v4 - 9;
    *(_WORD *)(a1 + 2924) = 0;
  }
  result = sub_4A30D0(a1);
  v6 = *(_DWORD *)(result + 2932);
  if ( *(_DWORD *)(result + 2928) - v6 + 11 < 9 )
  {
    *(_WORD *)(result + 2924) |= 2 << v6;
    if ( v6 <= 13 )
    {
      *(_DWORD *)(result + 2932) = v6 + 3;
    }
    else
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v7 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v7 - 13;
      *(_WORD *)(result + 2924) = 2u >> (16 - v7);
    }
    v8 = *(_DWORD *)(result + 2932);
    *(_WORD *)(result + 2924) = *(_WORD *)(result + 2924);
    if ( v8 > 9 )
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v9 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v9 - 9;
      *(_WORD *)(result + 2924) = 0;
      result = sub_4A30D0(result);
      *(_DWORD *)(result + 2928) = 7;
      return result;
    }
    *(_DWORD *)(result + 2932) = v8 + 7;
    result = sub_4A30D0(result);
  }
  *(_DWORD *)(result + 2928) = 7;
  return result;
}

//----- (004A46F0) --------------------------------------------------------
int __usercall sub_4A46F0@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4)
{
  int v4; // esi@1
  signed int v5; // ecx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  int result; // eax@2

  v4 = a2;
  v5 = *(_DWORD *)(a1 + 2932);
  if ( v5 <= 13 )
  {
    *(_WORD *)(a1 + 2924) |= v4 << v5;
    *(_DWORD *)(a1 + 2932) = v5 + 3;
    result = sub_4A3690(a1, a3, a4);
  }
  else
  {
    v6 = v4 << v5;
    v7 = *(_DWORD *)(a1 + 5800);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) = (unsigned __int16)v4 >> (16 - v8);
    *(_DWORD *)(a1 + 2932) = v8 - 13;
    result = sub_4A3690(a1, a3, a4);
  }
  return result;
}

//----- (004A4790) --------------------------------------------------------
signed int __usercall sub_4A4790@<eax>(int a1@<esi>, int a2)
{
  int v2; // eax@1
  int v3; // ebp@1
  signed int v4; // ebx@1
  int v5; // edi@1
  int v6; // eax@1
  signed int v7; // eax@8
  signed int i; // ebp@14
  int v9; // ebx@16
  int v10; // eax@17
  int v11; // edx@17
  int v12; // ebp@17
  int v13; // eax@17
  unsigned __int8 v14; // cl@17
  int v16; // [sp+Ch] [bp-8h]@1
  int v17; // [sp+10h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)v2;
  v17 = *(_DWORD *)(v2 + 12);
  v4 = -1;
  v5 = *(_DWORD *)a2;
  v6 = 0;
  v16 = -1;
  *(_DWORD *)(a1 + 2324) = 0;
  for ( *(_DWORD *)(a1 + 2328) = 573; v6 < v17; ++v6 )
  {
    if ( *(_WORD *)(v5 + 4 * v6) )
    {
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v6;
      v16 = v6;
      *(_BYTE *)(v6 + a1 + 2332) = 0;
      v4 = v6;
    }
    else
    {
      *(_WORD *)(v5 + 4 * v6 + 2) = 0;
    }
  }
  if ( *(_DWORD *)(a1 + 2324) < 2 )
  {
    do
    {
      if ( v4 >= 2 )
        v7 = 0;
      else
        v7 = ++v4;
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v7;
      *(_WORD *)(v5 + 4 * v7) = 1;
      *(_BYTE *)(a1 + v7 + 2332) = 0;
      --*(_DWORD *)(a1 + 2912);
      if ( v3 )
        *(_DWORD *)(a1 + 2916) -= *(_WORD *)(v3 + 4 * v7 + 2);
    }
    while ( *(_DWORD *)(a1 + 2324) < 2 );
    v16 = v4;
  }
  *(_DWORD *)(a2 + 4) = v4;
  for ( i = *(_DWORD *)(a1 + 2324) / 2; i >= 1; --i )
    sub_4A3CE0(a1, v5, i);
  v9 = v17;
  do
  {
    v10 = *(_DWORD *)(a1 + 2324);
    v11 = *(_DWORD *)(a1 + 4 * v10 + 32);
    v12 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 2324) = v10 - 1;
    *(_DWORD *)(a1 + 36) = v11;
    sub_4A3CE0(a1, v5, 1);
    v13 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v12;
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v13;
    *(_WORD *)(v5 + 4 * v9) = *(_WORD *)(v5 + 4 * v12) + *(_WORD *)(v5 + 4 * v13);
    v14 = *(_BYTE *)(a1 + v13 + 2332);
    if ( *(_BYTE *)(a1 + v12 + 2332) >= v14 )
      v14 = *(_BYTE *)(a1 + v12 + 2332);
    *(_BYTE *)(a1 + v9 + 2332) = v14 + 1;
    *(_WORD *)(v5 + 4 * v13 + 2) = v9;
    *(_WORD *)(v5 + 4 * v12 + 2) = v9;
    *(_DWORD *)(a1 + 36) = v9++;
    sub_4A3CE0(a1, v5, 1);
  }
  while ( *(_DWORD *)(a1 + 2324) >= 2 );
  *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = *(_DWORD *)(a1 + 36);
  sub_4A37A0(a1, a2);
  return sub_4A3970(a1, v16, v5);
}

//----- (004A4970) --------------------------------------------------------
unsigned int __usercall sub_4A4970@<eax>(int a1@<edi>)
{
  size_t v1; // ebx@1
  unsigned int result; // eax@2
  unsigned int v3; // ebp@2
  int v4; // edx@3
  int v5; // eax@3
  _WORD *v6; // ecx@3
  int v7; // eax@4
  __int16 v8; // ax@5
  size_t v9; // edx@8
  _WORD *v10; // ecx@8
  int v11; // eax@9
  int v12; // esi@14
  unsigned int v13; // edx@15
  int v14; // esi@16
  int v15; // eax@16
  int v16; // ecx@16

  v1 = *(_DWORD *)(a1 + 5748);
  do
  {
    result = *(_DWORD *)(a1 + 5680);
    v3 = *(_DWORD *)(a1 + 5744) - result - *(_DWORD *)(a1 + 5688);
    if ( result >= v1 + *(_DWORD *)(a1 + 5748) - 262 )
    {
      memcpy(*(void **)(a1 + 5740), (const void *)(*(_DWORD *)(a1 + 5740) + v1), v1);
      v4 = *(_DWORD *)(a1 + 5764);
      v5 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5684) -= v1;
      *(_DWORD *)(a1 + 5680) -= v1;
      *(_DWORD *)(a1 + 5664) -= v1;
      v6 = (_WORD *)(v5 + 2 * v4);
      do
      {
        v7 = *(v6 - 1);
        --v6;
        if ( v7 < v1 )
          v8 = 0;
        else
          v8 = v7 - v1;
        --v4;
        *v6 = v8;
      }
      while ( v4 );
      v9 = v1;
      v10 = (_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * v1);
      do
      {
        v11 = *(v10 - 1);
        --v10;
        if ( v11 < v1 )
          result = 0;
        else
          result = v11 - v1;
        --v9;
        *v10 = result;
      }
      while ( v9 );
      v3 += v1;
    }
    v12 = *(_DWORD *)(a1 + 2908);
    if ( !*(_DWORD *)(v12 + 4) )
      break;
    result = sub_4A3DD0(v3, v12, (void *)(*(_DWORD *)(a1 + 5688) + *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)));
    *(_DWORD *)(a1 + 5688) += result;
    v13 = *(_DWORD *)(a1 + 5688);
    if ( v13 >= 3 )
    {
      v14 = *(_DWORD *)(a1 + 5680) + *(_DWORD *)(a1 + 5740);
      v15 = *(_BYTE *)v14;
      v16 = *(_DWORD *)(a1 + 5776);
      *(_DWORD *)(a1 + 5760) = v15;
      result = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v14 + 1) ^ (v15 << v16));
      *(_DWORD *)(a1 + 5760) = result;
    }
  }
  while ( v13 < 0x106 && *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 4) );
  return result;
}

//----- (004A4AB0) --------------------------------------------------------
int __usercall sub_4A4AB0@<eax>(int a1@<eax>, int a2, int a3, int a4)
{
  signed int v4; // ecx@1
  int v5; // ebx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  signed int v9; // ecx@4
  int v10; // edx@5
  int v11; // ecx@5
  int v12; // edx@5
  signed int v13; // ecx@7
  int v14; // edx@8
  int v15; // ecx@8
  int v16; // edx@8
  int i; // edi@10
  signed int v18; // ecx@11
  int v19; // edx@11
  unsigned __int16 v20; // si@12
  int v21; // edx@12
  int v22; // ecx@12
  int v23; // edx@12
  int v24; // eax@15

  v4 = *(_DWORD *)(a1 + 2932);
  v5 = a4;
  if ( v4 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a2 - 257) << v4;
    *(_DWORD *)(a1 + 2932) = v4 + 5;
  }
  else
  {
    v6 = (a2 - 257) << v4;
    v7 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    v5 = a4;
    *(_DWORD *)(a1 + 2932) = v8 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a2 - 257) >> (16 - v8);
  }
  v9 = *(_DWORD *)(a1 + 2932);
  if ( v9 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a3 - 1) << v9;
    *(_DWORD *)(a1 + 2932) = v9 + 5;
  }
  else
  {
    v10 = (a3 - 1) << v9;
    v11 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v10;
    *(_BYTE *)(v11 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v12 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v12 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a3 - 1) >> (16 - v12);
  }
  v13 = *(_DWORD *)(a1 + 2932);
  if ( v13 <= 12 )
  {
    *(_WORD *)(a1 + 2924) |= (v5 - 4) << v13;
    *(_DWORD *)(a1 + 2932) = v13 + 4;
  }
  else
  {
    v14 = (v5 - 4) << v13;
    v15 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v14;
    *(_BYTE *)(v15 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v16 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v16 - 12;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(v5 - 4) >> (16 - v16);
  }
  for ( i = 0; i < v5; ++i )
  {
    v18 = *(_DWORD *)(a1 + 2932);
    v19 = (unsigned __int8)byte_51D8C4[i];
    if ( v18 <= 13 )
    {
      *(_WORD *)(a1 + 2924) |= *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      *(_DWORD *)(a1 + 2932) = v18 + 3;
    }
    else
    {
      v20 = *(_WORD *)(a1 + 4 * v19 + 5474);
      v21 = *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      v22 = *(_DWORD *)(a1 + 5812);
      *(_WORD *)(a1 + 2924) |= v21;
      *(_BYTE *)(v22 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
      *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
      v23 = *(_DWORD *)(a1 + 2932);
      ++*(_DWORD *)(a1 + 5812);
      v5 = a4;
      *(_DWORD *)(a1 + 2932) = v23 - 13;
      *(_WORD *)(a1 + 2924) = v20 >> (16 - v23);
    }
  }
  v24 = sub_4A3F10(a1, a1 + 2936, a2 - 1);
  return sub_4A3F10(v24, v24 + 5228, a3 - 1);
}

//----- (004A4D60) --------------------------------------------------------
signed int __cdecl sub_4A4D60(int a1, int a2)
{
  int v2; // esi@3
  int v3; // eax@6
  signed int result; // eax@9
  int v5; // ebx@10
  char v6; // al@12
  int v7; // eax@14
  unsigned int v8; // ecx@17
  int v9; // eax@19
  int v10; // eax@20
  int v11; // eax@29
  signed int v12; // eax@36
  int v13; // eax@50
  bool v14; // zf@50

  if ( !a1 || (unsigned int)a2 > 4 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  if ( !*(_DWORD *)(a1 + 12) || !*(_DWORD *)a1 && *(_DWORD *)(a1 + 4) )
    return -2;
  v3 = *(_DWORD *)(v2 + 5788);
  if ( v3 == 666 && a2 != 4 )
    return -2;
  if ( !*(_DWORD *)(a1 + 16) )
    return -5;
  v5 = *(_DWORD *)(v2 + 5792);
  *(_DWORD *)(v2 + 2908) = a1;
  *(_DWORD *)(v2 + 5792) = a2;
  if ( v3 == 42 )
  {
    if ( *(_BYTE *)(v2 + 5796) >= 2 || (v6 = *(_BYTE *)(v2 + 5784), v6 < 2) )
    {
      v7 = 0;
    }
    else if ( v6 >= 6 )
    {
      v7 = (v6 != 6) + 2;
    }
    else
    {
      v7 = 1;
    }
    v8 = (v7 << 6) | (((*(_DWORD *)(v2 + 5752) - 8) << 12) + 2048);
    if ( *(_DWORD *)(v2 + 5680) )
      v8 |= 0x20u;
    *(_DWORD *)(v2 + 5788) = 113;
    v9 = sub_4A3D90(v2, 31 * (v8 / 0x1F + 1));
    if ( *(_DWORD *)(v2 + 5680) )
    {
      v10 = sub_4A3D90(v9, *(_WORD *)(a1 + 30));
      sub_4A3D90(v10, *(_WORD *)(a1 + 28));
    }
    *(_DWORD *)(a1 + 28) = sub_4A5BA0(0, 0, 0);
  }
  if ( *(_DWORD *)(v2 + 5812) )
  {
    sub_4A3740(a1);
    if ( !*(_DWORD *)(a1 + 16) )
    {
LABEL_24:
      *(_DWORD *)(v2 + 5792) = -1;
      return 0;
    }
  }
  else if ( !*(_DWORD *)(a1 + 4) && a2 <= v5 && a2 != 4 )
  {
    return -5;
  }
  v11 = *(_DWORD *)(v2 + 5788);
  if ( v11 == 666 )
  {
    if ( *(_DWORD *)(a1 + 4) )
      return -5;
LABEL_33:
    if ( !*(_DWORD *)(v2 + 5688) && (!a2 || v11 == 666) )
      goto LABEL_47;
    goto LABEL_36;
  }
  if ( !*(_DWORD *)(a1 + 4) )
    goto LABEL_33;
LABEL_36:
  v12 = (*(&off_51E240 + 3 * *(_BYTE *)(v2 + 5784)))(v2, a2);
  if ( v12 == 2 || v12 == 3 )
    *(_DWORD *)(v2 + 5788) = 666;
  if ( !v12 || v12 == 2 )
  {
    if ( *(_DWORD *)(a1 + 16) )
      return 0;
    *(_DWORD *)(v2 + 5792) = -1;
    return 0;
  }
  if ( v12 == 1 )
  {
    if ( a2 == 1 )
    {
      sub_4A44B0(v2);
    }
    else
    {
      sub_4A46F0(v2, 0, 0, 0);
      if ( a2 == 3 )
      {
        *(_WORD *)(*(_DWORD *)(v2 + 5736) + 2 * *(_DWORD *)(v2 + 5764) - 2) = 0;
        memset(*(void **)(v2 + 5736), 0, 2 * *(_DWORD *)(v2 + 5764) - 2);
      }
    }
    sub_4A3740(a1);
    if ( !*(_DWORD *)(a1 + 16) )
      goto LABEL_24;
  }
LABEL_47:
  if ( a2 != 4 )
    return 0;
  if ( *(_DWORD *)(v2 + 5780) > 0 )
  {
    v13 = sub_4A3D90(v2, *(_WORD *)(a1 + 30));
    sub_4A3D90(v13, *(_WORD *)(a1 + 28));
    sub_4A3740(a1);
    v14 = *(_DWORD *)(v2 + 5812) == 0;
    *(_DWORD *)(v2 + 5780) = -*(_DWORD *)(v2 + 5780);
    result = v14;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 51E240: using guessed type int (__cdecl *off_51E240)(int, int);

//----- (004A5020) --------------------------------------------------------
signed int __usercall sub_4A5020@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = a1;
  sub_4A3E30(a1 + 2936, *(_DWORD *)(a1 + 5632), a1);
  sub_4A3E30(v1 + 5228, *(_DWORD *)(v1 + 5644), v1);
  sub_4A4790(v1, v1 + 5652);
  result = 18;
  while ( !*(_WORD *)(v1 + 4 * (unsigned __int8)byte_51D8C4[result] + 5474) )
  {
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_51D8C3[result] + 5474) )
    {
      *(_DWORD *)(v1 + 2912) += 3 * --result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_51D8C2[result] + 5474) )
    {
      result -= 2;
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_51D8C1[result] + 5474) )
    {
      result -= 3;
      break;
    }
    result -= 4;
    if ( result < 3 )
    {
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
  }
  *(_DWORD *)(v1 + 2912) += 3 * result + 17;
  return result;
}

//----- (004A50F0) --------------------------------------------------------
_WORD *__usercall sub_4A50F0@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // ebx@1
  int v6; // eax@1
  _BYTE *v7; // edi@2
  signed int v8; // eax@5
  unsigned int v9; // edx@5
  unsigned int v10; // ecx@5
  int v11; // ecx@11
  bool v12; // zf@12
  signed int v13; // ecx@12
  int v14; // eax@13
  int v15; // edx@14
  int v16; // ecx@14
  int v17; // edx@14
  int v18; // edx@17
  int v19; // eax@18
  int v20; // ecx@18
  int v21; // ebx@18
  _WORD *result; // eax@21
  signed int v23; // [sp+14h] [bp+4h]@4

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = *(_DWORD *)(a2 + 5664);
  if ( v6 < 0 )
    v7 = 0;
  else
    v7 = (_BYTE *)(v6 + *(_DWORD *)(a2 + 5740));
  v23 = 0;
  if ( *(_BYTE *)(a2 + 5784) <= 0 )
  {
    v10 = v5 + 5;
LABEL_8:
    v9 = v10;
    goto LABEL_9;
  }
  sub_4A4790(a2, a2 + 5628);
  sub_4A4790(v4, v4 + 5640);
  v8 = sub_4A5020(v4);
  v9 = (unsigned int)(*(_DWORD *)(v4 + 2912) + 10) >> 3;
  v10 = (unsigned int)(*(_DWORD *)(v4 + 2916) + 10) >> 3;
  v23 = v8;
  if ( v10 <= v9 )
    goto LABEL_8;
LABEL_9:
  if ( v5 + 4 <= v9 && v7 )
  {
    sub_4A46F0(v4, v3, v7, v5);
  }
  else
  {
    v12 = v10 == v9;
    v13 = *(_DWORD *)(v4 + 2932);
    if ( v12 )
    {
      v14 = v3 + 2;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v14 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v15 = v14 << v13;
        v16 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v15;
        *(_BYTE *)(v16 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v17 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v17 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v14 >> (16 - v17);
      }
      sub_4A3210(v4, (int)&unk_51D950, (int)&unk_51DDD0);
    }
    else
    {
      v18 = v3 + 4;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v18 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v19 = v18 << v13;
        v20 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v19;
        *(_BYTE *)(v20 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v21 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v21 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v18 >> (16 - v21);
      }
      sub_4A4AB0(v4, *(_DWORD *)(v4 + 5632) + 1, *(_DWORD *)(v4 + 5644) + 1, v23 + 1);
      sub_4A3210(v4, v4 + 2936, v4 + 5228);
    }
  }
  result = sub_4A39F0(v11, v4);
  if ( v3 )
    result = (_WORD *)sub_4A3180(v4);
  return result;
}

//----- (004A5A30) --------------------------------------------------------
signed int __cdecl sub_4A5A30(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // eax@3
  bool v4; // zf@5
  int v5; // edx@5
  unsigned int v6; // ecx@5
  unsigned int v7; // eax@5
  int v8; // edi@7
  unsigned int v9; // eax@8
  int v10; // edi@9
  signed int result; // eax@10
  int v12; // edi@12
  int v13; // eax@12

  v2 = 0xFFFF;
  if ( (unsigned int)(*(_DWORD *)(a1 + 5804) - 5) <= 0xFFFF )
    v2 = *(_DWORD *)(a1 + 5804) - 5;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 <= 1 )
    {
      sub_4A4970(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( !v3 )
        break;
    }
    v4 = v3 + *(_DWORD *)(a1 + 5680) == 0;
    *(_DWORD *)(a1 + 5680) += v3;
    v5 = *(_DWORD *)(a1 + 5664);
    v6 = *(_DWORD *)(a1 + 5680);
    *(_DWORD *)(a1 + 5688) = 0;
    v7 = v5 + v2;
    if ( !v4 && v6 < v7
      || (*(_DWORD *)(a1 + 5688) = v6 - v7,
          *(_DWORD *)(a1 + 5680) = v7,
          sub_4A50F0(v2, a1, 0),
          v8 = *(_DWORD *)(a1 + 2908),
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680),
          sub_4A3740(v8),
          *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16)) )
    {
      v9 = *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664);
      if ( v9 < *(_DWORD *)(a1 + 5748) - 262 )
        continue;
      sub_4A50F0(v9, a1, 0);
      v10 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_4A3740(v10);
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        continue;
    }
    return 0;
  }
  if ( !a2 )
    return 0;
  sub_4A50F0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v12 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_4A3740(v12);
  v13 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v13) = a2 == 4;
    result = 2 * v13 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (004A5BA0) --------------------------------------------------------
int __cdecl sub_4A5BA0(unsigned int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // edi@1
  unsigned int v4; // ecx@1
  unsigned int v5; // esi@1
  int result; // eax@2
  unsigned int i; // ebp@3
  unsigned int v8; // ebx@4
  int v9; // eax@8
  signed int v10; // edx@8
  int v11; // ecx@9
  int v12; // esi@9
  int v13; // ecx@9
  int v14; // esi@9
  int v15; // ecx@9
  int v16; // esi@9
  unsigned int v17; // [sp+Ch] [bp+4h]@7

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( i = a3; i; v5 %= 0xFFF1u )
    {
      v8 = i;
      if ( i >= 0x15B0 )
        v8 = 5552;
      i -= v8;
      if ( (signed int)v8 >= 16 )
      {
        v17 = v8 >> 4;
        v8 += -16 * (v8 >> 4);
        do
        {
          v9 = (int)(v3 + 1);
          v10 = 4;
          do
          {
            v11 = *(_BYTE *)(v9 - 1) + v4;
            v12 = v11 + v5;
            v13 = *(_BYTE *)v9 + v11;
            v14 = v13 + v12;
            v15 = *(_BYTE *)(v9 + 1) + v13;
            v16 = v15 + v14;
            v4 = *(_BYTE *)(v9 + 2) + v15;
            v5 = v4 + v16;
            v9 += 4;
            --v10;
          }
          while ( v10 );
          v3 += 16;
          --v17;
        }
        while ( v17 );
      }
      for ( ; v8; --v8 )
      {
        v4 += *v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = (int)(a2 + 1);
  }
  return result;
}

//----- (004A5CA0) --------------------------------------------------------
signed int __cdecl sub_4A5CA0(int a1)
{
  signed int result; // eax@3

  if ( a1 && *(_DWORD *)(a1 + 24) )
  {
    *(_DWORD *)(a1 + 24) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (004A5CC0) --------------------------------------------------------
signed int __usercall sub_4A5CC0@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10)
{
  unsigned int v10; // ebp@1
  unsigned int *v11; // edi@1
  _DWORD *v12; // eax@1
  unsigned int v13; // edx@1
  signed int result; // eax@4
  unsigned int v15; // eax@5
  int v16; // ecx@7
  signed int v17; // edx@9
  signed int v18; // esi@13
  int i; // edi@13
  int v20; // esi@14
  int v21; // edi@16
  int v22; // esi@16
  int v23; // edi@17
  int v24; // ebx@17
  int v25; // esi@17
  int v26; // edi@18
  _DWORD *v27; // edi@20
  unsigned int v28; // ebx@20
  int v29; // esi@21
  int v30; // edi@22
  signed int v31; // edi@24
  int v32; // ebx@24
  unsigned int v33; // esi@25
  int v34; // edx@27
  int l; // ebp@28
  unsigned int v36; // edx@31
  unsigned int v37; // ecx@33
  int *v38; // ebp@34
  int v39; // eax@34
  unsigned int v40; // edi@36
  unsigned int v41; // eax@36
  unsigned int v42; // edx@39
  int v43; // eax@40
  unsigned int v44; // eax@41
  int v45; // ecx@41
  int v46; // esi@48
  signed int v47; // edx@50
  unsigned int v48; // eax@50
  int v49; // ecx@51
  unsigned int j; // eax@54
  int v51; // [sp+Ch] [bp-F4h]@7
  unsigned int v52; // [sp+Ch] [bp-F4h]@24
  signed int v53; // [sp+Ch] [bp-F4h]@31
  unsigned int v54; // [sp+10h] [bp-F0h]@9
  int v55; // [sp+14h] [bp-ECh]@24
  int v56; // [sp+18h] [bp-E8h]@26
  _DWORD *v57; // [sp+1Ch] [bp-E4h]@21
  int v58; // [sp+1Ch] [bp-E4h]@31
  unsigned int k; // [sp+20h] [bp-E0h]@24
  int *v60; // [sp+24h] [bp-DCh]@25
  int v61; // [sp+28h] [bp-D8h]@0
  unsigned int v62; // [sp+2Ch] [bp-D4h]@0
  int v63; // [sp+30h] [bp-D0h]@24
  unsigned int *v64; // [sp+34h] [bp-CCh]@24
  int v65; // [sp+38h] [bp-C8h]@11
  int v66; // [sp+3Ch] [bp-C4h]@31
  int v67; // [sp+40h] [bp-C0h]@16
  int v68; // [sp+44h] [bp-BCh]@1
  int v69; // [sp+48h] [bp-B8h]@1
  int v70; // [sp+4Ch] [bp-B4h]@1
  int v71; // [sp+50h] [bp-B0h]@1
  int v72; // [sp+54h] [bp-ACh]@1
  int v73; // [sp+58h] [bp-A8h]@1
  int v74; // [sp+5Ch] [bp-A4h]@1
  int v75; // [sp+60h] [bp-A0h]@1
  int v76; // [sp+64h] [bp-9Ch]@1
  int v77; // [sp+68h] [bp-98h]@1
  int v78; // [sp+6Ch] [bp-94h]@1
  int v79; // [sp+70h] [bp-90h]@1
  int v80; // [sp+74h] [bp-8Ch]@1
  int v81; // [sp+78h] [bp-88h]@1
  int v82; // [sp+7Ch] [bp-84h]@1
  int v83; // [sp+80h] [bp-80h]@1
  int v84; // [sp+84h] [bp-7Ch]@22
  int v85[14]; // [sp+88h] [bp-78h]@17
  int v86; // [sp+C0h] [bp-40h]@41
  int v87[15]; // [sp+C4h] [bp-3Ch]@24
  int v88; // [sp+108h] [bp+8h]@24

  v10 = 0;
  v11 = a1;
  v12 = a2;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v79 = 0;
  v80 = 0;
  v81 = 0;
  v82 = 0;
  v83 = 0;
  v13 = a3;
  do
  {
    ++*(&v68 + *v12);
    ++v12;
    --v13;
  }
  while ( v13 );
  if ( v68 == a3 )
  {
    *a7 = 0;
    *v11 = 0;
    return 0;
  }
  v15 = 1;
  if ( !v69 )
  {
    do
      ++v15;
    while ( !*(&v68 + v15) );
  }
  v16 = v15;
  v51 = v15;
  if ( *v11 > v15 )
    v15 = *v11;
  v54 = v15;
  v17 = 15;
  if ( !v83 )
  {
    do
      --v17;
    while ( !*(&v68 + v17) );
  }
  v65 = v17;
  if ( (signed int)v15 > v17 )
  {
    v54 = v17;
    v15 = v17;
  }
  v18 = 1 << v16;
  *v11 = v15;
  for ( i = v16; i < v17; v18 = 2 * v20 )
  {
    v20 = v18 - *(&v68 + i);
    if ( v20 < 0 )
      return -3;
    ++i;
  }
  v21 = *(&v68 + v17);
  v22 = v18 - v21;
  v67 = v22;
  if ( v22 < 0 )
    return -3;
  v23 = v22 + v21;
  v24 = v17 - 1;
  v25 = 0;
  *(&v68 + v17) = v23;
  v85[0] = 0;
  if ( v17 != 1 )
  {
    v26 = 0;
    do
    {
      v25 += *(int *)((char *)&v69 + v26 * 4);
      ++v26;
      --v24;
      v85[v26] = v25;
    }
    while ( v24 );
  }
  v27 = a2;
  v28 = 0;
  do
  {
    v29 = *v27;
    ++v27;
    v57 = v27;
    if ( v29 )
    {
      v30 = *(&v84 + v29);
      a10[v30] = v28;
      v16 = v51;
      *(&v84 + v29) = v30 + 1;
      v27 = v57;
    }
    ++v28;
  }
  while ( v28 < a3 );
  v88 = *(&v84 + v17);
  v31 = -1;
  v32 = -v15;
  v84 = 0;
  k = 0;
  v64 = a10;
  v87[0] = 0;
  v63 = 0;
  v52 = 0;
  v55 = v16;
  if ( v16 > v17 )
  {
LABEL_60:
    if ( v67 && v17 != 1 )
      result = -5;
    else
      result = 0;
  }
  else
  {
    v33 = v62;
    v60 = &v68 + v16;
    while ( 1 )
    {
      v56 = *v60;
      if ( *v60 )
        break;
LABEL_59:
      v17 = v65;
      ++v60;
      v55 = ++v16;
      if ( v16 > v65 )
        goto LABEL_60;
    }
    while ( 1 )
    {
      --v56;
      v34 = v32 + v15;
      if ( (signed int)(v32 + v15) < v16 )
        break;
LABEL_44:
      BYTE1(v61) = v16 - v32;
      if ( v64 < &a10[v88] )
      {
        v33 = *v64;
        if ( *v64 >= a4 )
        {
          v46 = 4 * (v33 - a4);
          LOBYTE(v61) = *(_BYTE *)(v46 + a6) + 80;
          v33 = *(_DWORD *)(v46 + a5);
        }
        else
        {
          LOBYTE(v61) = v33 < 0x100 ? 0 : 96;
        }
        ++v64;
      }
      else
      {
        LOBYTE(v61) = -64;
      }
      v47 = 1 << (v16 - v32);
      v48 = v10 >> v32;
      if ( v10 >> v32 < v52 )
      {
        v49 = v63 + 8 * v48;
        do
        {
          *(_DWORD *)v49 = v61;
          *(_DWORD *)(v49 + 4) = v33;
          v48 += v47;
          v49 += 8 * v47;
        }
        while ( v48 < v52 );
        v10 = k;
      }
      for ( j = 1 << (v55 - 1); v10 & j; j >>= 1 )
        v10 ^= j;
      v10 ^= j;
      for ( k = v10; (v10 & ((1 << v32) - 1)) != *(&v84 + v31); --v31 )
        v32 -= v54;
      v15 = v54;
      v16 = v55;
      if ( !v56 )
        goto LABEL_59;
    }
    for ( l = v32 - v15; ; l = v58 )
    {
      v66 = v15 + v34;
      v32 += v15;
      ++v31;
      v36 = v65 - v32;
      v53 = v31;
      v58 = v15 + l;
      if ( v65 - v32 > v15 )
        v36 = v15;
      v37 = v16 - v32;
      if ( 1 << v37 > (unsigned int)(v56 + 1) )
      {
        v38 = v60;
        v39 = -1 - v56 + (1 << v37);
        if ( v37 < v36 )
        {
          while ( ++v37 < v36 )
          {
            v40 = v38[1];
            ++v38;
            v41 = 2 * v39;
            if ( v41 <= v40 )
              break;
            v39 = v41 - v40;
          }
        }
        v31 = v53;
      }
      v52 = 1 << v37;
      v42 = *a9 + (1 << v37);
      if ( v42 > 0x5A0 )
        break;
      v43 = a8 + 8 * *a9;
      *a9 = v42;
      v10 = k;
      v87[v31] = v43;
      v63 = v43;
      if ( v31 )
      {
        LOBYTE(v61) = v37;
        v44 = k >> v58;
        v45 = *(&v86 + v31);
        BYTE1(v61) = v54;
        v33 = ((v63 - v45) >> 3) - (k >> v58);
        *(_DWORD *)(v45 + 8 * v44) = v61;
        *(&v84 + v31) = k;
        *(_DWORD *)(v45 + 8 * v44 + 4) = v33;
      }
      else
      {
        *a7 = v43;
      }
      v34 = v66;
      v16 = v55;
      if ( v66 >= v55 )
        goto LABEL_44;
      v15 = v54;
    }
    result = -3;
  }
  return result;
}
// 4A5CC0: using guessed type int var_78[14];
// 4A5CC0: using guessed type int var_3C[15];

//----- (004A6160) --------------------------------------------------------
int (__cdecl *__usercall sub_4A6160@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax@3
  int (__cdecl *result)(_DWORD, _DWORD, _DWORD); // eax@3

  if ( a1 )
    *a1 = *(_DWORD *)(a2 + 14124);
  v3 = *(_DWORD *)(a2 + 14104);
  *(_DWORD *)(a2 + 14112) = v3;
  *(_DWORD *)(a2 + 14116) = v3;
  result = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(a2 + 14120);
  *(_BYTE *)a2 = 0;
  *(_DWORD *)(a2 + 1424) = 0;
  *(_DWORD *)(a2 + 1428) = 0;
  if ( result )
  {
    result = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    *(_DWORD *)(a2 + 14124) = result;
    *(_DWORD *)(a3 + 28) = result;
  }
  return result;
}

//----- (004A61B0) --------------------------------------------------------
int __usercall sub_4A61B0@<eax>(int result@<eax>, char a2, char a3, int a4, int a5)
{
  *(_BYTE *)(result + 16) = a2;
  *(_BYTE *)(result + 17) = a3;
  *(_BYTE *)result = 0;
  *(_DWORD *)(result + 20) = a4;
  *(_DWORD *)(result + 24) = a5;
  return result;
}

//----- (004A61D0) --------------------------------------------------------
signed int __cdecl sub_4A61D0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _BYTE *v6; // ebp@1
  unsigned int v7; // ecx@1
  unsigned int v8; // edx@1
  _BYTE *v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // esi@6
  int v12; // ebx@8
  int v13; // esi@8
  int v14; // ecx@8
  int v15; // ecx@11
  int v16; // ebx@13
  unsigned int v17; // eax@13
  unsigned int v18; // edx@13
  int v19; // esi@14
  int v20; // ebx@16
  int v21; // esi@16
  unsigned int v22; // edx@16
  unsigned int v23; // eax@16
  int v24; // ecx@18
  int v25; // ecx@18
  int i; // ebx@19
  char v27; // cl@21
  int v28; // ebx@21
  int v29; // ecx@21
  int v30; // esi@22
  _BYTE *v31; // edi@22
  _BYTE *v32; // esi@22
  unsigned int v33; // ecx@23
  unsigned int v34; // ecx@32
  int v35; // ebp@34
  int v36; // ebx@34
  unsigned int v38; // ecx@35
  int v39; // ebp@37
  int v40; // ebx@37
  int v41; // esi@37
  int v42; // eax@37
  unsigned int v43; // ecx@38
  int v44; // ebp@41
  int v45; // ebx@41
  int v46; // ebp@44
  unsigned int v47; // [sp+10h] [bp-14h]@1
  unsigned int v48; // [sp+14h] [bp-10h]@2
  _BYTE *v49; // [sp+18h] [bp-Ch]@1
  int v50; // [sp+1Ch] [bp-8h]@4
  int v51; // [sp+20h] [bp-4h]@4
  unsigned int v52; // [sp+28h] [bp+4h]@21
  unsigned int v53; // [sp+2Ch] [bp+8h]@13
  int v54; // [sp+2Ch] [bp+8h]@24

  v6 = *(_BYTE **)a6;
  v7 = *(_DWORD *)(a5 + 14112);
  v8 = *(_DWORD *)(a5 + 1428);
  v9 = *(_BYTE **)(a5 + 14116);
  v47 = *(_DWORD *)(a6 + 4);
  v10 = *(_DWORD *)(a5 + 1424);
  v49 = *(_BYTE **)a6;
  if ( (unsigned int)v9 >= v7 )
    v48 = *(_DWORD *)(a5 + 14108) - (_DWORD)v9;
  else
    v48 = v7 - (_DWORD)v9 - 1;
  v50 = dword_51E428[a1];
  v51 = dword_51E428[a2];
  while ( 1 )
  {
    if ( v10 < 0x14 )
    {
      do
      {
        --v47;
        v11 = *v6 << v10;
        v10 += 8;
        ++v6;
        v8 |= v11;
      }
      while ( v10 < 0x14 );
      v49 = v6;
    }
    v12 = *(_BYTE *)(a3 + 8 * (v8 & v50));
    v13 = a3 + 8 * (v8 & v50);
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( v12 )
      break;
LABEL_29:
    v10 -= v14;
    *v9++ = *(_BYTE *)(v13 + 4);
    --v48;
LABEL_30:
    if ( v48 < 0x102 || v47 < 0xA )
    {
      v34 = *(_DWORD *)(a6 + 4) - v47;
      if ( v10 >> 3 < v34 )
        v34 = v10 >> 3;
      v35 = (int)&v6[-v34];
      *(_DWORD *)(a6 + 4) = v34 + v47;
      v36 = v35 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v35;
      *(_DWORD *)(a6 + 8) += v36;
      *(_DWORD *)(a5 + 14116) = v9;
      *(_DWORD *)(a5 + 1424) = v10 - 8 * v34;
      *(_DWORD *)(a5 + 1428) = v8;
      return 0;
    }
  }
  v10 -= *(_BYTE *)(v13 + 1);
  if ( v12 & 0x10 )
  {
LABEL_13:
    v16 = v12 & 0xF;
    v17 = v10 - v16;
    v53 = *(_DWORD *)(v13 + 4) + (v8 & dword_51E428[v16]);
    v18 = v8 >> v16;
    if ( v17 < 0xF )
    {
      do
      {
        --v47;
        v19 = *v6 << v17;
        v17 += 8;
        ++v6;
        v18 |= v19;
      }
      while ( v17 < 0xF );
      v49 = v6;
    }
    v20 = *(_BYTE *)(a4 + 8 * (v18 & v51));
    v21 = a4 + 8 * (v18 & v51);
    v22 = v18 >> *(_BYTE *)(v21 + 1);
    v23 = v17 - *(_BYTE *)(v21 + 1);
    if ( !(v20 & 0x10) )
    {
      while ( !(v20 & 0x40) )
      {
        v24 = *(_DWORD *)(v21 + 4) + (v22 & dword_51E428[v20]);
        v20 = *(_BYTE *)(v21 + 8 * v24);
        v21 += 8 * v24;
        v25 = *(_BYTE *)(v21 + 1);
        v22 >>= v25;
        v23 -= v25;
        if ( v20 & 0x10 )
          goto LABEL_19;
      }
      v38 = *(_DWORD *)(a6 + 4) - v47;
      if ( v23 >> 3 < v38 )
        v38 = v23 >> 3;
      v39 = (int)&v6[-v38];
      *(_DWORD *)(a6 + 4) = v38 + v47;
      v40 = v39 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v39;
      *(_DWORD *)(a6 + 8) += v40;
      v41 = a5;
      *(_DWORD *)(a5 + 1428) = v22;
      v42 = v23 - 8 * v38;
      goto LABEL_45;
    }
LABEL_19:
    for ( i = v20 & 0xF; v23 < (unsigned __int16)i; ++v49 )
    {
      --v47;
      v22 |= *v6 << v23;
      v6 = v49 + 1;
      v23 += 8;
    }
    v10 = v23 - i;
    v52 = *(_DWORD *)(v21 + 4) + (v22 & dword_51E428[i]);
    v27 = i;
    v28 = v53;
    v48 -= v53;
    v8 = v22 >> v27;
    v29 = *(_DWORD *)(a5 + 14104);
    if ( (unsigned int)&v9[-v29] < v52 )
    {
      v33 = v52 + v29 - (_DWORD)v9;
      v32 = (_BYTE *)(*(_DWORD *)(a5 + 14108) - v33);
      if ( v53 > v33 )
      {
        v54 = v53 - v33;
        do
        {
          *v9++ = *v32++;
          --v33;
        }
        while ( v33 );
        v32 = *(_BYTE **)(a5 + 14104);
        v28 = v54;
      }
    }
    else
    {
      v30 = (int)&v9[-v52];
      v31 = v9 + 1;
      *(v31 - 1) = *(_BYTE *)v30;
      *v31 = *(_BYTE *)(v30 + 1);
      v9 = v31 + 1;
      v32 = (_BYTE *)(v30 + 2);
      v28 = v53 - 2;
    }
    do
    {
      *v9++ = *v32++;
      --v28;
    }
    while ( v28 );
    goto LABEL_30;
  }
  while ( !(v12 & 0x40) )
  {
    v15 = *(_DWORD *)(v13 + 4) + (v8 & dword_51E428[v12]);
    v12 = *(_BYTE *)(v13 + 8 * v15);
    v13 += 8 * v15;
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( !v12 )
      goto LABEL_29;
    v10 -= *(_BYTE *)(v13 + 1);
    if ( v12 & 0x10 )
      goto LABEL_13;
  }
  v43 = *(_DWORD *)(a6 + 4) - v47;
  if ( !(v12 & 0x20) )
  {
    if ( v10 >> 3 < v43 )
      v43 = v10 >> 3;
    v46 = (int)&v6[-v43];
    *(_DWORD *)(a6 + 4) = v43 + v47;
    *(_DWORD *)(a6 + 8) += v46 - *(_DWORD *)a6;
    *(_DWORD *)a6 = v46;
    v41 = a5;
    *(_DWORD *)(a5 + 1428) = v8;
    v42 = v10 - 8 * v43;
LABEL_45:
    *(_DWORD *)(v41 + 14116) = v9;
    *(_DWORD *)(v41 + 1424) = v42;
    return -3;
  }
  if ( v10 >> 3 < v43 )
    v43 = v10 >> 3;
  *(_DWORD *)(a6 + 4) = v43 + v47;
  v44 = (int)&v6[-v43];
  v45 = v44 - *(_DWORD *)a6;
  *(_DWORD *)a6 = v44;
  *(_DWORD *)(a6 + 8) += v45;
  *(_DWORD *)(a5 + 1428) = v8;
  *(_DWORD *)(a5 + 14116) = v9;
  *(_DWORD *)(a5 + 1424) = v10 - 8 * v43;
  return 1;
}
// 51E428: using guessed type int dword_51E428[];

//----- (004A6580) --------------------------------------------------------
int __usercall sub_4A6580@<eax>(int a1@<edi>, int a2@<esi>, int a3)
{
  const void *v3; // ebx@1
  unsigned int v4; // ebp@1
  size_t v5; // eax@3
  size_t v6; // ebp@3
  int (__cdecl *v7)(_DWORD, const void *, size_t); // eax@8
  int v8; // eax@9
  int v9; // eax@10
  int v10; // ebx@10
  const void *v11; // ebx@11
  size_t v12; // eax@13
  size_t v13; // ebp@13
  int (__cdecl *v14)(_DWORD, const void *, size_t); // eax@15
  int v15; // eax@16
  int result; // eax@18
  void *v17; // [sp+8h] [bp-4h]@1
  char *v18; // [sp+8h] [bp-4h]@10

  v3 = *(const void **)(a2 + 14112);
  v4 = *(_DWORD *)(a2 + 14116);
  v17 = *(void **)(a1 + 12);
  if ( (unsigned int)v3 > v4 )
    v4 = *(_DWORD *)(a2 + 14108);
  v5 = *(_DWORD *)(a1 + 16);
  v6 = v4 - (_DWORD)v3;
  if ( v6 > v5 )
    v6 = *(_DWORD *)(a1 + 16);
  if ( v6 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a1 + 20) += v6;
  *(_DWORD *)(a1 + 16) = v5 - v6;
  v7 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
  if ( v7 )
  {
    v8 = v7(*(_DWORD *)(a2 + 14124), v3, v6);
    *(_DWORD *)(a2 + 14124) = v8;
    *(_DWORD *)(a1 + 28) = v8;
  }
  memcpy(v17, v3, v6);
  v9 = *(_DWORD *)(a2 + 14108);
  v18 = (char *)v17 + v6;
  v10 = (int)v3 + v6;
  if ( v10 == v9 )
  {
    v11 = *(const void **)(a2 + 14104);
    if ( *(_DWORD *)(a2 + 14116) == v9 )
      *(_DWORD *)(a2 + 14116) = v11;
    v12 = *(_DWORD *)(a1 + 16);
    v13 = *(_DWORD *)(a2 + 14116) - (_DWORD)v11;
    if ( v13 > v12 )
      v13 = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(a1 + 20) += v13;
    *(_DWORD *)(a1 + 16) = v12 - v13;
    v14 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
    if ( v14 )
    {
      v15 = v14(*(_DWORD *)(a2 + 14124), v11, v13);
      *(_DWORD *)(a2 + 14124) = v15;
      *(_DWORD *)(a1 + 28) = v15;
    }
    memcpy(v18, v11, v13);
    v18 += v13;
    v10 = (int)v11 + v13;
  }
  *(_DWORD *)(a1 + 12) = v18;
  result = a3;
  *(_DWORD *)(a2 + 14112) = v10;
  return result;
}

//----- (004A66C0) --------------------------------------------------------
signed int __usercall sub_4A66C0@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4)
{
  signed int result; // eax@1
  int v5; // [sp+0h] [bp-50h]@1
  char v6; // [sp+4h] [bp-4Ch]@1

  v5 = 0;
  result = sub_4A5CC0(a2, a3, 0x13u, 19, 0, 0, a4, a1, (unsigned int *)&v5, (unsigned int *)&v6);
  if ( result == -5 || !*a2 )
    result = -3;
  return result;
}

//----- (004A6710) --------------------------------------------------------
signed int __usercall sub_4A6710@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9)
{
  unsigned int *v9; // edi@1
  signed int result; // eax@6
  int v11; // [sp+8h] [bp-4h]@1

  v9 = a1;
  v11 = 0;
  if ( sub_4A5CC0(a7, a6, a4, 257, (int)&unk_51E4C0, (int)&unk_51E540, a2, a3, (unsigned int *)&v11, a1)
    || !*a7
    || sub_4A5CC0(a8, &a6[a4], a5, 0, (int)&unk_51E5C0, (int)&unk_51E638, a9, a3, (unsigned int *)&v11, v9)
    || !*a8 && a4 > 0x101 )
  {
    result = -3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004A67B0) --------------------------------------------------------
int __usercall sub_4A67B0@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4)
{
  *a1 = 9;
  *a3 = 5;
  *a2 = &unk_51E6B0;
  *a4 = &unk_51F6B0;
  return 0;
}

//----- (004A67D0) --------------------------------------------------------
signed int __cdecl sub_4A67D0(int a1)
{
  signed int result; // eax@2
  int v2; // ecx@3
  int v3; // esi@3

  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 24);
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 20) = 0;
    v3 = *(_DWORD *)(v2 + 20);
    *(_BYTE *)v2 = *(_DWORD *)(v2 + 12) != 0 ? 7 : 0;
    sub_4A6160(0, v3, a1);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (004A67E0) --------------------------------------------------------
int __usercall sub_4A67E0@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // edi@1
  _BYTE *v4; // ebx@1
  int v5; // esi@1
  _BYTE *v6; // edx@1
  unsigned int v7; // ebp@1
  unsigned int v8; // eax@1
  unsigned int v9; // eax@2
  unsigned int v10; // ecx@4
  int v11; // ecx@8
  signed int v12; // eax@8
  int v13; // ecx@8
  unsigned int v14; // eax@8
  int v15; // ecx@13
  int v16; // eax@16
  int v17; // eax@17
  int v18; // ecx@17
  int v19; // eax@17
  int v20; // eax@27
  int v21; // eax@28
  int v22; // ecx@28
  int v23; // ecx@28
  int v24; // eax@31
  int v25; // eax@32
  int v26; // ecx@32
  int v27; // eax@32
  int v28; // eax@38
  int v29; // eax@39
  int v30; // ecx@39
  int v31; // ecx@40
  int v32; // eax@41
  unsigned int v33; // eax@46
  unsigned int v34; // ecx@46
  int v35; // eax@51
  unsigned int v36; // eax@51
  unsigned int v37; // ecx@55
  unsigned int v38; // eax@55
  bool v39; // zf@61
  unsigned int v40; // eax@67
  unsigned int v41; // ecx@67
  int v42; // eax@72
  unsigned int v43; // eax@72
  unsigned int v44; // ecx@76
  unsigned int v45; // eax@76
  int v47; // eax@91
  int v48; // ecx@93
  int v49; // eax@97
  int v50; // ecx@98
  int v51; // eax@101
  int v52; // [sp-4h] [bp-2Ch]@85
  unsigned int v53; // [sp+10h] [bp-18h]@1
  unsigned int v54; // [sp+14h] [bp-14h]@1
  unsigned int v55; // [sp+18h] [bp-10h]@4
  unsigned int v56; // [sp+18h] [bp-10h]@54
  unsigned int v57; // [sp+18h] [bp-10h]@75
  _BYTE *v58; // [sp+20h] [bp-8h]@43
  int v59; // [sp+2Ch] [bp+4h]@51

  v3 = a1;
  v4 = *(_BYTE **)a1;
  v5 = a2;
  v6 = *(_BYTE **)(a2 + 14116);
  v7 = *(_DWORD *)(a2 + 1424);
  v54 = *(_DWORD *)(a1 + 4);
  v8 = *(_DWORD *)(a2 + 14112);
  v53 = *(_DWORD *)(a2 + 1428);
  if ( (unsigned int)v6 >= v8 )
    v9 = *(_DWORD *)(a2 + 14108) - (_DWORD)v6;
  else
    v9 = v8 - (_DWORD)v6 - 1;
  v10 = *(_BYTE *)(a2 + 4);
  v55 = v9;
  while ( 2 )
  {
    switch ( v10 )
    {
      case 0u:
        if ( v9 >= 0x102 && v54 >= 0xA )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v11 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v11;
          *(_DWORD *)(v5 + 1428) = v53;
          *(_DWORD *)(v5 + 1424) = v7;
          *(_DWORD *)(v5 + 14116) = v6;
          v12 = sub_4A61D0(*(_BYTE *)(v5 + 20), *(_BYTE *)(v5 + 21), *(_DWORD *)(v5 + 24), *(_DWORD *)(v5 + 28), v5, v3);
          v4 = *(_BYTE **)v3;
          v7 = *(_DWORD *)(v5 + 1424);
          v13 = v12;
          v54 = *(_DWORD *)(v3 + 4);
          v6 = *(_BYTE **)(v5 + 14116);
          v53 = *(_DWORD *)(v5 + 1428);
          v14 = *(_DWORD *)(v5 + 14112);
          a3 = v13;
          v9 = (unsigned int)v6 >= v14 ? *(_DWORD *)(v5 + 14108) - (_DWORD)v6 : v14 - (_DWORD)v6 - 1;
          v55 = v9;
          if ( v13 )
          {
            *(_BYTE *)(v5 + 4) = 2 * (v13 != 1) + 7;
            goto LABEL_84;
          }
        }
        v15 = *(_DWORD *)(v5 + 24);
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 20);
        *(_DWORD *)(v5 + 12) = v15;
        *(_BYTE *)(v5 + 4) = 1;
        goto LABEL_14;
      case 1u:
LABEL_14:
        if ( v7 >= *(_WORD *)(v5 + 16) )
          goto LABEL_17;
        do
        {
          if ( !v54 )
            goto LABEL_91;
          --v54;
          v16 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v16;
        }
        while ( v7 < *(_WORD *)(v5 + 16) );
LABEL_17:
        v17 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_51E428[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v17 + 1);
        v18 = v17;
        v7 -= *(_BYTE *)(v17 + 1);
        v19 = *(_BYTE *)v17;
        if ( v19 )
        {
          if ( v19 & 0x10 )
          {
            *(_DWORD *)(v5 + 12) = v19 & 0xF;
            *(_DWORD *)(v5 + 8) = *(_DWORD *)(v18 + 4);
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 2;
          }
          else if ( v19 & 0x40 )
          {
            if ( !(v19 & 0x20) )
              goto LABEL_92;
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 7;
          }
          else
          {
            *(_DWORD *)(v5 + 16) = v19;
            v9 = v55;
            *(_DWORD *)(v5 + 12) = v18 + 8 * *(_DWORD *)(v18 + 4);
          }
        }
        else
        {
          v9 = v55;
          *(_DWORD *)(v5 + 12) = *(_DWORD *)(v18 + 4);
          *(_BYTE *)(v5 + 4) = 6;
        }
        goto LABEL_84;
      case 2u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_28;
        do
        {
          if ( !v54 )
            goto LABEL_93;
          --v54;
          v20 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v20;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_28:
        v21 = *(_DWORD *)(v5 + 12);
        v22 = v53 & dword_51E428[v21];
        *(_BYTE *)(v5 + 4) = 3;
        *(_DWORD *)(v5 + 8) += v22;
        v53 >>= v21;
        v23 = *(_DWORD *)(v5 + 28);
        v7 -= v21;
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 21);
        *(_DWORD *)(v5 + 12) = v23;
LABEL_29:
        if ( v7 < *(_WORD *)(v5 + 16) )
        {
          while ( v54 )
          {
            --v54;
            v24 = *v4 << v7;
            v7 += 8;
            ++v4;
            a3 = 0;
            v53 |= v24;
            if ( v7 >= *(_WORD *)(v5 + 16) )
              goto LABEL_32;
          }
LABEL_91:
          v47 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)(v3 + 4) = 0;
          *(_DWORD *)(v3 + 8) += v47;
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v5 + 14116) = v6;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = a3;
          goto LABEL_90;
        }
LABEL_32:
        v25 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_51E428[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v25 + 1);
        v26 = v25;
        v7 -= *(_BYTE *)(v25 + 1);
        v27 = *(_BYTE *)v25;
        if ( v27 & 0x10 )
        {
          *(_DWORD *)(v5 + 12) = v27 & 0xF;
          v9 = v55;
          *(_DWORD *)(v5 + 16) = *(_DWORD *)(v26 + 4);
          *(_BYTE *)(v5 + 4) = 4;
        }
        else
        {
          if ( v27 & 0x40 )
          {
LABEL_92:
            *(_BYTE *)(v5 + 4) = 9;
            v52 = -3;
            goto LABEL_86;
          }
          *(_DWORD *)(v5 + 16) = v27;
          v9 = v55;
          *(_DWORD *)(v5 + 12) = v26 + 8 * *(_DWORD *)(v26 + 4);
        }
        goto LABEL_84;
      case 3u:
        goto LABEL_29;
      case 4u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_39;
        do
        {
          if ( !v54 )
          {
LABEL_93:
            v48 = (int)&v4[-*(_DWORD *)v3];
            *(_DWORD *)(v3 + 4) = 0;
            *(_DWORD *)(v3 + 8) += v48;
            v52 = a3;
            goto LABEL_88;
          }
          --v54;
          v28 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v28;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_39:
        v29 = *(_DWORD *)(v5 + 12);
        v30 = v53 & dword_51E428[v29];
        *(_BYTE *)(v5 + 4) = 5;
        *(_DWORD *)(v5 + 16) += v30;
        v53 >>= v29;
        v7 -= v29;
LABEL_40:
        v31 = *(_DWORD *)(v5 + 16);
        if ( (signed int)&v6[-*(_DWORD *)(v5 + 14104)] >= v31 )
          v32 = (int)&v6[-v31];
        else
          v32 = (int)&v6[*(_DWORD *)(v5 + 14108) - v31 - *(_DWORD *)(v5 + 14104)];
        v58 = (_BYTE *)v32;
        v9 = v55;
        if ( !*(_DWORD *)(v5 + 8) )
        {
LABEL_83:
          *(_BYTE *)(v5 + 4) = 0;
LABEL_84:
          v10 = *(_BYTE *)(v5 + 4);
          if ( v10 > 9 )
          {
LABEL_85:
            v52 = -2;
LABEL_86:
            *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
            goto LABEL_87;
          }
          continue;
        }
        while ( 1 )
        {
          if ( !v9 )
          {
            if ( v6 != *(_BYTE **)(v5 + 14108)
              || (v33 = *(_DWORD *)(v5 + 14112), v34 = *(_DWORD *)(v5 + 14104), v33 == v34)
              || ((v6 = *(_BYTE **)(v5 + 14104), v34 >= v33) ? (v9 = *(_DWORD *)(v5 + 14108) - v34) : (v9 = v33 - v34 - 1),
                  !v9) )
            {
              *(_DWORD *)(v5 + 14116) = v6;
              v35 = sub_4A6580(v3, v5, a3);
              v6 = *(_BYTE **)(v5 + 14116);
              v59 = v35;
              v36 = *(_DWORD *)(v5 + 14112);
              if ( (unsigned int)v6 >= v36 )
                v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
              else
                v9 = v36 - (_DWORD)v6 - 1;
              v56 = v9;
              if ( v6 == *(_BYTE **)(v5 + 14108) )
              {
                v37 = *(_DWORD *)(v5 + 14104);
                v38 = *(_DWORD *)(v5 + 14112);
                if ( v38 == v37 )
                {
                  v9 = v56;
                }
                else
                {
                  v6 = *(_BYTE **)(v5 + 14104);
                  if ( v37 >= v38 )
                    v9 = *(_DWORD *)(v5 + 14108) - v37;
                  else
                    v9 = v38 - v37 - 1;
                }
              }
              if ( !v9 )
                break;
            }
          }
          *v6 = *v58;
          --v9;
          ++v6;
          v39 = v58 + 1 == *(_BYTE **)(v5 + 14108);
          a3 = 0;
          v55 = v9;
          ++v58;
          if ( v39 )
            v58 = *(_BYTE **)(v5 + 14104);
          if ( !--*(_DWORD *)(v5 + 8) )
            goto LABEL_83;
        }
LABEL_94:
        *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
        v52 = v59;
LABEL_87:
        *(_DWORD *)(v3 + 4) = v54;
LABEL_88:
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
LABEL_89:
        *(_DWORD *)(v5 + 14116) = v6;
LABEL_90:
        *(_DWORD *)(v5 + 1424) = v7;
        return sub_4A6580(v3, v5, v52);
      case 5u:
        goto LABEL_40;
      case 6u:
        if ( !v9 )
        {
          if ( v6 != *(_BYTE **)(v5 + 14108)
            || (v40 = *(_DWORD *)(v5 + 14112), v41 = *(_DWORD *)(v5 + 14104), v40 == v41)
            || ((v6 = *(_BYTE **)(v5 + 14104), v41 >= v40) ? (v9 = *(_DWORD *)(v5 + 14108) - v41) : (v9 = v40 - v41 - 1),
                !v9) )
          {
            *(_DWORD *)(v5 + 14116) = v6;
            v42 = sub_4A6580(v3, v5, a3);
            v6 = *(_BYTE **)(v5 + 14116);
            v59 = v42;
            v43 = *(_DWORD *)(v5 + 14112);
            if ( (unsigned int)v6 >= v43 )
              v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
            else
              v9 = v43 - (_DWORD)v6 - 1;
            v57 = v9;
            if ( v6 == *(_BYTE **)(v5 + 14108) )
            {
              v44 = *(_DWORD *)(v5 + 14104);
              v45 = *(_DWORD *)(v5 + 14112);
              if ( v45 == v44 )
              {
                v9 = v57;
              }
              else
              {
                v6 = *(_BYTE **)(v5 + 14104);
                if ( v44 >= v45 )
                  v9 = *(_DWORD *)(v5 + 14108) - v44;
                else
                  v9 = v45 - v44 - 1;
              }
            }
            if ( !v9 )
              goto LABEL_94;
          }
        }
        *v6++ = *(_BYTE *)(v5 + 12);
        --v9;
        a3 = 0;
        v55 = v9;
        goto LABEL_83;
      case 7u:
        if ( v7 > 7 )
        {
          ++v54;
          v7 -= 8;
          --v4;
        }
        *(_DWORD *)(v5 + 14116) = v6;
        v49 = sub_4A6580(v3, v5, a3);
        v6 = *(_BYTE **)(v5 + 14116);
        if ( *(_BYTE **)(v5 + 14112) != v6 )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v50 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v50;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = v49;
          goto LABEL_89;
        }
        *(_BYTE *)(v5 + 4) = 8;
LABEL_100:
        v52 = 1;
        goto LABEL_86;
      case 8u:
        goto LABEL_100;
      case 9u:
        v51 = (int)&v4[-*(_DWORD *)v3];
        *(_DWORD *)(v3 + 4) = v54;
        *(_DWORD *)(v3 + 8) += v51;
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
        v52 = -3;
        goto LABEL_89;
      default:
        goto LABEL_85;
    }
  }
}
// 51E428: using guessed type int dword_51E428[];

//----- (004A6E80) --------------------------------------------------------
int __usercall sub_4A6E80@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned int v4; // edx@1
  unsigned int v5; // ebx@1
  unsigned int v6; // esi@1
  int v7; // edi@1
  size_t v8; // ecx@1
  char *v9; // eax@1
  char *v10; // ecx@1
  int v11; // edx@2
  unsigned int v12; // edx@4
  int v13; // edx@8
  unsigned int v14; // eax@9
  int v15; // eax@10
  int v16; // ebx@14
  int v17; // ecx@14
  int v18; // edx@17
  char *v19; // edx@24
  unsigned int v20; // eax@25
  unsigned int v21; // ecx@25
  int v22; // eax@27
  int v23; // eax@30
  unsigned int v24; // ecx@30
  int v25; // edx@31
  char *v26; // esi@33
  unsigned int v27; // edx@34
  size_t v28; // esi@39
  bool v29; // zf@43
  int v30; // edx@47
  int v31; // ecx@48
  int v32; // edx@54
  unsigned int v33; // ecx@61
  int v34; // edx@63
  int v35; // edx@64
  int v36; // ecx@64
  unsigned int v37; // edx@64
  int v38; // edx@71
  unsigned int v39; // esi@72
  unsigned int v40; // ecx@72
  unsigned int *v41; // eax@77
  unsigned int v42; // esi@81
  int v43; // eax@81
  int v44; // edx@83
  char *v45; // ecx@84
  unsigned int v46; // eax@84
  int v47; // eax@85
  char *v48; // eax@91
  int v49; // ecx@92
  int v50; // ecx@94
  int v51; // edx@96
  int v52; // edx@97
  int v53; // edx@99
  int v55; // eax@102
  int v56; // edx@103
  int v57; // edx@106
  int v58; // [sp-4h] [bp-3Ch]@91
  size_t v59; // [sp+10h] [bp-28h]@1
  char *v60; // [sp+14h] [bp-24h]@1
  char *v61; // [sp+18h] [bp-20h]@1
  unsigned int v62; // [sp+1Ch] [bp-1Ch]@4
  int v63; // [sp+1Ch] [bp-1Ch]@69
  int v64; // [sp+1Ch] [bp-1Ch]@72
  unsigned int v65; // [sp+20h] [bp-18h]@1
  unsigned int v66; // [sp+24h] [bp-14h]@13
  unsigned int v67; // [sp+28h] [bp-10h]@13
  int v68; // [sp+2Ch] [bp-Ch]@13
  int v69; // [sp+30h] [bp-8h]@13
  unsigned int v70; // [sp+34h] [bp-4h]@69
  unsigned int v71; // [sp+3Ch] [bp+4h]@1

  v3 = a2;
  v4 = *(_DWORD *)(a2 + 14112);
  v5 = *(_DWORD *)(a2 + 1424);
  v6 = *(_DWORD *)(a2 + 1428);
  v7 = a1;
  v8 = *(_DWORD *)(a1 + 4);
  v9 = *(char **)a1;
  v59 = v8;
  v10 = *(char **)(a2 + 14116);
  v61 = v9;
  v71 = *(_DWORD *)(a2 + 1428);
  v65 = v5;
  v60 = v10;
  if ( (unsigned int)v10 >= v4 )
    v11 = *(_DWORD *)(v3 + 14108) - (_DWORD)v10;
  else
    v11 = v4 - (_DWORD)v10 - 1;
  v62 = v11;
  v12 = *(_BYTE *)v3;
  while ( 2 )
  {
    switch ( v12 )
    {
      case 0u:
        for ( ; v5 < 3; v71 = v6 )
        {
          if ( !v59 )
            goto LABEL_91;
          --v59;
          a3 = 0;
          v13 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v13;
        }
        v14 = (v6 & 7) >> 1;
        *(_DWORD *)(v3 + 1420) = v6 & 1;
        if ( !v14 )
        {
          v16 = v5 - 3;
          v17 = v16 & 7;
          v5 = v16 - v17;
          v65 = v5;
          *(_BYTE *)v3 = 1;
          v71 = v6 >> 3 >> v17;
          goto LABEL_89;
        }
        v15 = v14 - 1;
        if ( !v15 )
        {
          sub_4A67B0(&v67, &v69, &v66, &v68);
          sub_4A61B0(v3 + 4, v67, v66, v69, v68);
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 6;
          goto LABEL_89;
        }
        if ( v15 == 1 )
        {
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 3;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 9;
        v49 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v49;
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v3 + 1428) = v71 >> 3;
        v5 -= 3;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      case 1u:
        if ( v5 >= 0x20 )
          goto LABEL_18;
        do
        {
          if ( !v59 )
          {
LABEL_91:
            v48 = v61;
            *(_DWORD *)(v7 + 4) = 0;
            *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
            v58 = a3;
            goto LABEL_110;
          }
          --v59;
          a3 = 0;
          v18 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v18;
          v71 = v6;
        }
        while ( v5 < 0x20 );
LABEL_18:
        if ( ~v6 >> 16 != (unsigned __int16)v6 )
          goto LABEL_93;
        v5 = 0;
        *(_DWORD *)(v3 + 4) = (unsigned __int16)v6;
        v65 = 0;
        v71 = 0;
        if ( (_WORD)v6 )
          *(_BYTE *)v3 = 2;
        else
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
LABEL_89:
        v12 = *(_BYTE *)v3;
        if ( v12 <= 9 )
        {
          v10 = v60;
          v9 = v61;
          v6 = v71;
          continue;
        }
LABEL_107:
        v58 = -2;
        goto LABEL_108;
      case 2u:
        if ( !v59 )
          goto LABEL_94;
        if ( !v62 )
        {
          if ( (v19 = *(char **)(v3 + 14108), v60 != v19)
            || (v20 = *(_DWORD *)(v3 + 14112), v21 = *(_DWORD *)(v3 + 14104), v21 == v20)
            || ((v60 = *(char **)(v3 + 14104), v21 >= v20) ? (v22 = (int)&v19[-v21], v62 = (unsigned int)&v19[-v21]) : (v22 = v20 - v21 - 1, v62 = v22),
                !v22) )
          {
            *(_DWORD *)(v3 + 14116) = v60;
            v23 = sub_4A6580(v7, v3, a3);
            v24 = *(_DWORD *)(v3 + 14112);
            v60 = *(char **)(v3 + 14116);
            if ( *(_DWORD *)(v3 + 14116) >= v24 )
              v25 = *(_DWORD *)(v3 + 14108) - (_DWORD)v60;
            else
              v25 = v24 - (_DWORD)v60 - 1;
            v26 = *(char **)(v3 + 14108);
            v62 = v25;
            if ( v60 == v26 )
            {
              v27 = *(_DWORD *)(v3 + 14104);
              if ( v27 != v24 )
              {
                v60 = *(char **)(v3 + 14104);
                if ( v27 >= v24 )
                  v62 = (unsigned int)&v26[-v27];
                else
                  v62 = v24 - v27 - 1;
              }
            }
            if ( !v62 )
              goto LABEL_96;
          }
        }
        v28 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v28 > v59 )
          v28 = v59;
        if ( v28 > v62 )
          v28 = v62;
        memcpy(v60, v61, v28);
        v61 += v28;
        v59 -= v28;
        v60 += v28;
        v62 -= v28;
        v29 = *(_DWORD *)(v3 + 4) == v28;
        *(_DWORD *)(v3 + 4) -= v28;
        if ( v29 )
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
        goto LABEL_89;
      case 3u:
        if ( v5 >= 0xE )
          goto LABEL_48;
        break;
      case 4u:
        goto LABEL_51;
      case 5u:
        goto LABEL_60;
      case 6u:
        goto LABEL_83;
      case 7u:
        goto LABEL_102;
      case 8u:
        goto LABEL_105;
      case 9u:
        v57 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v7 + 8) += v57;
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      default:
        goto LABEL_107;
    }
    break;
  }
  do
  {
    if ( !v59 )
      goto LABEL_94;
    --v59;
    v30 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v30;
    v71 = v6;
    v61 = v9;
  }
  while ( v5 < 0xE );
LABEL_48:
  v31 = v6 & 0x3FFF;
  *(_DWORD *)(v3 + 4) = v31;
  if ( (v6 & 0x1F) > 0x1D || (v6 & 0x3E0) > 0x3A0 )
  {
LABEL_93:
    *(_BYTE *)v3 = 9;
    v58 = -3;
LABEL_108:
    *(_DWORD *)(v7 + 4) = v59;
LABEL_109:
    v48 = v61;
    *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
    goto LABEL_110;
  }
  v6 >>= 14;
  v5 -= 14;
  v71 = v6;
  v65 = v5;
  *(_DWORD *)(v3 + 8) = 0;
  *(_BYTE *)v3 = 4;
LABEL_51:
  if ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
  {
    while ( v5 >= 3 )
    {
LABEL_55:
      *(_DWORD *)(v3 + 4 * dword_51E470[(*(_DWORD *)(v3 + 8))++] + 12) = v6 & 7;
      v6 >>= 3;
      v5 -= 3;
      v71 = v6;
      v65 = v5;
      if ( *(_DWORD *)(v3 + 8) >= (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        goto LABEL_56;
    }
    while ( v59 )
    {
      --v59;
      v32 = (unsigned __int8)*v9++ << v5;
      v5 += 8;
      a3 = 0;
      v6 |= v32;
      v71 = v6;
      v61 = v9;
      if ( v5 >= 3 )
        goto LABEL_55;
    }
    goto LABEL_94;
  }
LABEL_56:
  while ( *(_DWORD *)(v3 + 8) < 0x13u )
    *(_DWORD *)(v3 + 4 * dword_51E470[(*(_DWORD *)(v3 + 8))++] + 12) = 0;
  *(_DWORD *)(v3 + 1412) = 7;
  v23 = sub_4A66C0(v3 + 1432, (unsigned int *)(v3 + 1412), (_DWORD *)(v3 + 12), (int *)(v3 + 1416));
  if ( v23 )
  {
    *(_BYTE *)v3 = 9;
LABEL_96:
    *(_DWORD *)(v7 + 4) = v59;
    v51 = (int)&v61[-*(_DWORD *)v7];
    *(_DWORD *)v7 = v61;
    *(_DWORD *)(v7 + 8) += v51;
    *(_DWORD *)(v3 + 1428) = v71;
    *(_DWORD *)(v3 + 14116) = v60;
    v58 = v23;
    goto LABEL_111;
  }
  v6 = v71;
  *(_DWORD *)(v3 + 8) = 0;
  v9 = v61;
  *(_BYTE *)v3 = 5;
LABEL_60:
  if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
  {
LABEL_81:
    v42 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v3 + 1416) = 0;
    v67 = 9;
    v66 = 6;
    v43 = sub_4A6710(
            (unsigned int *)(v3 + 12952),
            &v69,
            v3 + 1432,
            (v42 & 0x1F) + 257,
            ((v42 >> 5) & 0x1F) + 1,
            (_DWORD *)(v3 + 12),
            &v67,
            &v66,
            &v68);
    if ( v43 )
    {
      *(_BYTE *)v3 = 9;
      *(_DWORD *)(v7 + 4) = v59;
      v53 = (int)&v61[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v61;
      *(_DWORD *)(v7 + 8) += v53;
      *(_DWORD *)(v3 + 1428) = v71;
      *(_DWORD *)(v3 + 1424) = v65;
      *(_DWORD *)(v3 + 14116) = v60;
    }
    else
    {
      sub_4A61B0(v3 + 4, v67, v66, v69, v68);
      v5 = v65;
      v10 = v60;
      v9 = v61;
      v6 = v71;
      *(_BYTE *)v3 = 6;
LABEL_83:
      *(_DWORD *)(v7 + 4) = v59;
      v44 = (int)&v9[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v9;
      *(_DWORD *)(v7 + 8) += v44;
      *(_DWORD *)(v3 + 14116) = v10;
      *(_DWORD *)(v3 + 1428) = v6;
      *(_DWORD *)(v3 + 1424) = v5;
      v43 = sub_4A67E0(v7, v3, a3);
      if ( v43 == 1 )
      {
        v5 = *(_DWORD *)(v3 + 1424);
        v61 = *(char **)v7;
        v45 = *(char **)(v3 + 14116);
        v71 = *(_DWORD *)(v3 + 1428);
        v46 = *(_DWORD *)(v3 + 14112);
        a3 = 0;
        v59 = *(_DWORD *)(v7 + 4);
        v65 = *(_DWORD *)(v3 + 1424);
        v60 = v45;
        if ( (unsigned int)v45 >= v46 )
          v47 = *(_DWORD *)(v3 + 14108) - (_DWORD)v45;
        else
          v47 = v46 - (_DWORD)v45 - 1;
        v62 = v47;
        if ( !*(_DWORD *)(v3 + 1420) )
        {
          *(_BYTE *)v3 = 0;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 7;
LABEL_102:
        *(_DWORD *)(v3 + 14116) = v60;
        v55 = sub_4A6580(v7, v3, a3);
        v60 = *(char **)(v3 + 14116);
        if ( *(_DWORD *)(v3 + 14112) != *(_DWORD *)(v3 + 14116) )
        {
          *(_DWORD *)(v7 + 4) = v59;
          v56 = (int)&v61[-*(_DWORD *)v7];
          *(_DWORD *)v7 = v61;
          *(_DWORD *)(v7 + 8) += v56;
          *(_DWORD *)(v3 + 1428) = v71;
          *(_DWORD *)(v3 + 1424) = v5;
          *(_DWORD *)(v3 + 14116) = v60;
          return sub_4A6580(v7, v3, v55);
        }
        *(_BYTE *)v3 = 8;
LABEL_105:
        *(_DWORD *)(v7 + 4) = v59;
        v58 = 1;
        goto LABEL_109;
      }
    }
    return sub_4A6580(v7, v3, v43);
  }
  while ( 1 )
  {
    v33 = *(_WORD *)(v3 + 1412);
    v67 = *(_WORD *)(v3 + 1412);
    if ( v5 < v33 )
      break;
LABEL_64:
    v35 = *(_DWORD *)(v3 + 1416) + 8 * (v6 & dword_51E428[*(_DWORD *)(v3 + 1412)]);
    v36 = *(_BYTE *)(v35 + 1);
    v37 = *(_DWORD *)(v35 + 4);
    v66 = v37;
    if ( v37 >= 0x10 )
    {
      if ( v37 == 18 )
        v67 = 7;
      else
        v67 = v37 - 14;
      v63 = 8 * (v37 == 18) + 3;
      v70 = (unsigned __int16)(v36 + v67);
      if ( v5 < v70 )
      {
        while ( v59 )
        {
          --v59;
          v38 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          a3 = 0;
          v6 |= v38;
          v71 = v6;
          v61 = v9;
          if ( v5 >= v70 )
            goto LABEL_72;
        }
        v52 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v52;
        *(_DWORD *)(v7 + 4) = 0;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = a3;
        goto LABEL_111;
      }
LABEL_72:
      v39 = v6 >> v36;
      v64 = (v39 & dword_51E428[v67]) + v63;
      v6 = v39 >> v67;
      v5 -= v36 + v67;
      v40 = *(_DWORD *)(v3 + 8);
      v71 = v6;
      v65 = v5;
      if ( v40 + v64 > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
        goto LABEL_98;
      if ( v66 == 16 )
      {
        if ( v40 < 1 )
        {
LABEL_98:
          *(_BYTE *)v3 = 9;
          *(_DWORD *)(v7 + 4) = v59;
          v58 = -3;
          goto LABEL_109;
        }
        v66 = *(_DWORD *)(v3 + 4 * v40 + 8);
      }
      else
      {
        v66 = 0;
      }
      v41 = (unsigned int *)(v3 + 4 * v40 + 12);
      do
      {
        *v41 = v66;
        ++v40;
        ++v41;
        --v64;
      }
      while ( v64 );
      v9 = v61;
      *(_DWORD *)(v3 + 8) = v40;
    }
    else
    {
      v6 >>= v36;
      v5 -= v36;
      *(_DWORD *)(v3 + 4 * (*(_DWORD *)(v3 + 8))++ + 12) = v37;
      v71 = v6;
      v65 = v5;
    }
    if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
      goto LABEL_81;
  }
  while ( v59 )
  {
    --v59;
    v34 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v34;
    v71 = v6;
    v61 = v9;
    if ( v5 >= v67 )
      goto LABEL_64;
  }
LABEL_94:
  v48 = v61;
  v50 = (int)&v61[-*(_DWORD *)v7];
  *(_DWORD *)(v7 + 4) = 0;
  *(_DWORD *)(v7 + 8) += v50;
  v58 = a3;
LABEL_110:
  *(_DWORD *)v7 = v48;
  *(_DWORD *)(v3 + 14116) = v60;
  *(_DWORD *)(v3 + 1428) = v71;
LABEL_111:
  *(_DWORD *)(v3 + 1424) = v5;
  return sub_4A6580(v7, v3, v58);
}
// 51E428: using guessed type int dword_51E428[];
// 51E470: using guessed type int dword_51E470[];

//----- (004A7860) --------------------------------------------------------
signed int __usercall sub_4A7860@<eax>(int a1@<edi>, int a2)
{
  int v2; // ebp@3
  int v3; // ebx@3
  signed int v4; // esi@3
  unsigned int v5; // eax@3
  int v6; // eax@5
  _BYTE *v7; // ecx@6
  int v8; // eax@9
  int v9; // ecx@10
  int v10; // eax@13
  int v11; // eax@21
  int v12; // eax@23
  _BYTE *v13; // edx@24
  int v14; // eax@25
  _BYTE *v15; // ecx@26
  int v16; // eax@27
  signed int result; // eax@32
  int v18; // eax@34
  int v19; // eax@36
  _BYTE *v20; // edx@37
  int v21; // eax@38
  _BYTE *v22; // ecx@39
  int v23; // eax@40
  signed int v24; // [sp+8h] [bp+4h]@3

  if ( !a1 || !*(_DWORD *)a1 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = -5;
  v4 = a2 != 4 ? 0 : 0xFFFFFFFB;
  v5 = *(_BYTE *)v2;
  v24 = a2 != 4 ? 0 : 0xFFFFFFFB;
  while ( 2 )
  {
    switch ( v5 )
    {
      case 0u:
        v6 = *(_DWORD *)(a1 + 4);
        if ( !v6 )
          goto LABEL_44;
        v7 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v6 - 1;
        *(_DWORD *)(v2 + 4) = *v7;
        ++*(_DWORD *)a1;
        v3 = v4;
        if ( (*(_DWORD *)(v2 + 4) & 0xF) != 8 || (unsigned int)((*(_DWORD *)(v2 + 4) >> 4) + 8) > *(_DWORD *)(v2 + 16) )
          goto LABEL_29;
        *(_BYTE *)v2 = 1;
        goto LABEL_9;
      case 1u:
LABEL_9:
        v8 = *(_DWORD *)(a1 + 4);
        if ( !v8 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v8 - 1;
        v9 = *(_BYTE *)(*(_DWORD *)a1)++;
        v3 = v4;
        if ( (v9 + (*(_DWORD *)(v2 + 4) << 8)) % 0x1Fu )
          goto LABEL_29;
        if ( !(v9 & 0x20) )
        {
          *(_BYTE *)v2 = 7;
LABEL_31:
          v5 = *(_BYTE *)v2;
          if ( v5 > 0xD )
            return -2;
          continue;
        }
        *(_BYTE *)v2 = 2;
LABEL_34:
        v18 = *(_DWORD *)(a1 + 4);
        if ( !v18 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v18 - 1;
        *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
        v3 = v4;
        *(_BYTE *)v2 = 3;
LABEL_36:
        v19 = *(_DWORD *)(a1 + 4);
        if ( !v19 )
          goto LABEL_44;
        v20 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v19 - 1;
        *(_DWORD *)(v2 + 8) += *v20 << 16;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 4;
LABEL_38:
        v21 = *(_DWORD *)(a1 + 4);
        if ( !v21 )
          goto LABEL_44;
        v22 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v21 - 1;
        *(_DWORD *)(v2 + 8) += *v22 << 8;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 5;
LABEL_40:
        v23 = *(_DWORD *)(a1 + 4);
        if ( v23 )
        {
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v23 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          *(_DWORD *)(a1 + 28) = *(_DWORD *)(v2 + 8);
          *(_BYTE *)v2 = 6;
          result = 2;
        }
        else
        {
LABEL_44:
          result = v3;
        }
        return result;
      case 7u:
        v10 = sub_4A6E80(a1, *(_DWORD *)(v2 + 20), v3);
        v3 = v10;
        if ( v10 == -3 )
        {
          *(_DWORD *)(v2 + 4) = 0;
        }
        else
        {
          if ( !v10 )
            v3 = v4;
          if ( v3 != 1 )
            goto LABEL_44;
          v3 = v4;
          sub_4A6160((_DWORD *)(v2 + 4), *(_DWORD *)(v2 + 20), a1);
          v4 = v24;
          if ( *(_DWORD *)(v2 + 12) )
          {
            *(_BYTE *)v2 = 12;
            goto LABEL_31;
          }
          *(_BYTE *)v2 = 8;
LABEL_21:
          v11 = *(_DWORD *)(a1 + 4);
          if ( !v11 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v11 - 1;
          *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
          v3 = v4;
          *(_BYTE *)v2 = 9;
LABEL_23:
          v12 = *(_DWORD *)(a1 + 4);
          if ( !v12 )
            goto LABEL_44;
          v13 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v12 - 1;
          *(_DWORD *)(v2 + 8) += *v13 << 16;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 10;
LABEL_25:
          v14 = *(_DWORD *)(a1 + 4);
          if ( !v14 )
            goto LABEL_44;
          v15 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v14 - 1;
          *(_DWORD *)(v2 + 8) += *v15 << 8;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 11;
LABEL_27:
          v16 = *(_DWORD *)(a1 + 4);
          if ( !v16 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v16 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          v3 = v4;
          if ( *(_DWORD *)(v2 + 4) == *(_DWORD *)(v2 + 8) )
          {
            *(_BYTE *)v2 = 12;
            return 1;
          }
LABEL_29:
          *(_DWORD *)(v2 + 4) = 5;
        }
        *(_BYTE *)v2 = 13;
        goto LABEL_31;
      case 8u:
        goto LABEL_21;
      case 9u:
        goto LABEL_23;
      case 0xAu:
        goto LABEL_25;
      case 0xBu:
        goto LABEL_27;
      case 2u:
        goto LABEL_34;
      case 3u:
        goto LABEL_36;
      case 4u:
        goto LABEL_38;
      case 5u:
        goto LABEL_40;
      case 6u:
        *(_BYTE *)v2 = 13;
        *(_DWORD *)(v2 + 4) = 0;
        return -2;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
      default:
        return -2;
    }
  }
}

//----- (004A7B90) --------------------------------------------------------
signed int __cdecl sub_4A7B90(int a1, int a2)
{
  return sub_4A7860(a1, a2);
}

//----- (004A7BA4) --------------------------------------------------------
FARPROC __stdcall sub_4A7BA4(ULONG_PTR a1, ULONG_PTR Arguments)
{
  ULONG_PTR v2; // esi@1
  int v3; // ebx@1
  char *v4; // edi@1
  const CHAR *v5; // ecx@1
  char *v6; // ebx@1
  char *v7; // edx@1
  bool v8; // zf@1
  HMODULE v10; // edi@3
  unsigned int v11; // edx@3
  const CHAR *v12; // eax@3
  FARPROC v13; // ebx@5
  _DWORD *v14; // eax@16
  int v15; // eax@24
  int v16; // [sp+Ch] [bp-44h]@1
  ULONG_PTR v17; // [sp+10h] [bp-40h]@1
  ULONG_PTR v18; // [sp+14h] [bp-3Ch]@1
  LPCSTR lpLibFileName; // [sp+18h] [bp-38h]@1
  unsigned int v20; // [sp+1Ch] [bp-34h]@1
  LPCSTR lpProcName; // [sp+20h] [bp-30h]@1
  HMODULE v22; // [sp+24h] [bp-2Ch]@1
  int (__stdcall *v23)(); // [sp+28h] [bp-28h]@1
  DWORD v24; // [sp+2Ch] [bp-24h]@1
  volatile LONG *Target; // [sp+38h] [bp-18h]@1
  char *v26; // [sp+44h] [bp-Ch]@1
  int v27; // [sp+4Ch] [bp-4h]@1

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 12);
  v4 = (char *)&_ImageBase + *(_DWORD *)(a1 + 20);
  v5 = (char *)&_ImageBase + *(_DWORD *)(a1 + 4);
  Target = (volatile LONG *)((char *)&_ImageBase.unused + *(_DWORD *)(a1 + 8));
  v6 = (char *)&_ImageBase + v3;
  v7 = (char *)&_ImageBase + *(_DWORD *)(a1 + 16);
  v27 = *(_DWORD *)(a1 + 28);
  lpLibFileName = v5;
  v26 = v4;
  v18 = Arguments;
  v8 = (*(_DWORD *)a1 & 1) == 0;
  v16 = 36;
  v17 = a1;
  v20 = 0;
  lpProcName = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  if ( v8 )
  {
    Arguments = (ULONG_PTR)&v16;
    RaiseException(0xC06D0057, 0, 1u, &Arguments);
    return 0;
  }
  v10 = (HMODULE)*Target;
  v11 = *(_DWORD *)&v7[4 * ((signed int)(Arguments - (_DWORD)v6) >> 2)];
  a1 = 4 * ((signed int)(Arguments - (_DWORD)v6) >> 2);
  v20 = ~(v11 >> 31) & 1;
  v12 = (char *)&_ImageBase.unused + v11 + 2;
  if ( !(~(v11 >> 31) & 1) )
    v12 = (const CHAR *)(unsigned __int16)v11;
  lpProcName = v12;
  v13 = 0;
  if ( !dword_5DAAE8 || (v13 = (FARPROC)dword_5DAAE8(0, &v16)) == 0 )
  {
    if ( !v10 )
    {
      if ( !dword_5DAAE8 || (v10 = (HMODULE)dword_5DAAE8(1, &v16)) == 0 )
      {
        v10 = LoadLibraryA(lpLibFileName);
        if ( !v10 )
        {
          v24 = GetLastError();
          if ( !dword_5DAAE4 || (v10 = (HMODULE)dword_5DAAE4(3, &v16)) == 0 )
          {
            Arguments = (ULONG_PTR)&v16;
            RaiseException(0xC06D007E, 0, 1u, &Arguments);
            return v23;
          }
        }
      }
      if ( (HMODULE)InterlockedExchange(Target, (LONG)v10) == v10 )
      {
        FreeLibrary(v10);
      }
      else if ( *(_DWORD *)(v2 + 24) )
      {
        v14 = LocalAlloc(0x40u, 8u);
        if ( v14 )
        {
          v14[1] = v2;
          *v14 = dword_5DAAE0;
          dword_5DAAE0 = (int)v14;
        }
      }
    }
    v22 = v10;
    if ( dword_5DAAE8 )
      v13 = (FARPROC)dword_5DAAE8(2, &v16);
    if ( !v13 )
    {
      if ( !*(_DWORD *)(v2 + 20)
        || !*(_DWORD *)(v2 + 28)
        || (v15 = (int)v10 + *((_DWORD *)v10 + 15), *(_DWORD *)v15 != 17744)
        || *(_DWORD *)(v15 + 8) != v27
        || v10 != *(HMODULE *)(v15 + 52)
        || (v13 = *(FARPROC *)&v26[a1]) == 0 )
      {
        v13 = GetProcAddress(v10, lpProcName);
        if ( !v13 )
        {
          v24 = GetLastError();
          if ( dword_5DAAE4 )
            v13 = (FARPROC)dword_5DAAE4(4, &v16);
          if ( !v13 )
          {
            a1 = (ULONG_PTR)&v16;
            RaiseException(0xC06D007F, 0, 1u, &a1);
            v13 = v23;
          }
        }
      }
    }
    *(_DWORD *)Arguments = v13;
  }
  if ( dword_5DAAE8 )
  {
    v24 = 0;
    v22 = v10;
    v23 = v13;
    dword_5DAAE8(5, &v16);
  }
  return v13;
}
// 5DAAE0: using guessed type int dword_5DAAE0;
// 5DAAE4: using guessed type int (__stdcall *dword_5DAAE4)(_DWORD, _DWORD);
// 5DAAE8: using guessed type int (__stdcall *dword_5DAAE8)(_DWORD, _DWORD);

//----- (004AA445) --------------------------------------------------------
void __cdecl sub_4AA445()
{
  CWnd::~CWnd((CWnd *)&hWndInsertAfter);
}

//----- (004AA44F) --------------------------------------------------------
void __cdecl sub_4AA44F()
{
  CWnd::~CWnd((CWnd *)&stru_5376B8);
}

//----- (004AA459) --------------------------------------------------------
void __cdecl sub_4AA459()
{
  CWnd::~CWnd((CWnd *)&dword_537710);
}
// 537710: using guessed type int dword_537710;

//----- (004AA463) --------------------------------------------------------
void __cdecl sub_4AA463()
{
  CWnd::~CWnd((CWnd *)&dword_537768);
}
// 537768: using guessed type int dword_537768;

//----- (004AA46D) --------------------------------------------------------
void __cdecl sub_4AA46D()
{
  dword_5377C8 = (int)&off_4B4040;
}
// 4B4040: using guessed type int (*off_4B4040)();
// 5377C8: using guessed type int dword_5377C8;

//----- (004AA478) --------------------------------------------------------
void __cdecl sub_4AA478()
{
  dword_537860 = (int)&off_4B405C;
}
// 4B405C: using guessed type int (*off_4B405C)();
// 537860: using guessed type int dword_537860;

//----- (004AA483) --------------------------------------------------------
int sub_4AA483()
{
  return CThreadLocalObject::~CThreadLocalObject((CThreadLocalObject *)&unk_537910);
}

//----- (004AA48D) --------------------------------------------------------
int sub_4AA48D()
{
  return CProcessLocalObject::~CProcessLocalObject((CProcessLocalObject *)&unk_53790C);
}

//----- (004AA497) --------------------------------------------------------
int sub_4AA497()
{
  return AUX_DATA::~AUX_DATA((AUX_DATA *)&dword_537978);
}
// 537978: using guessed type int dword_537978;

//----- (004AA4A1) --------------------------------------------------------
int sub_4AA4A1()
{
  DeleteCriticalSection((LPCRITICAL_SECTION)&unk_5CD140 + 1);
  return unknown_libname_139((char *)&unk_5CD140 + 48);
}
// 49DA8E: using guessed type int __thiscall unknown_libname_139(_DWORD);

//----- (004AA4AB) --------------------------------------------------------
int sub_4AA4AB()
{
  return ATL::CAtlWinModule::~CAtlWinModule((ATL::CAtlWinModule *)&unk_5CD17C);
}

#error "There were 49 decompilation failure(s) on 2088 function(s)"
