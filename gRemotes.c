/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

int sub_401000();
void __stdcall __noreturn sub_401010(__int32 a1);
// int __cdecl AfxCrtErrorCheck(int); idb
int __thiscall sub_4010E0(void *this, char a2);
int __thiscall sub_401600(int this);
int __thiscall sub_401710(int this, unsigned int (__cdecl *a2)(void *), void *a3);
int __thiscall sub_401790(int this, BOOL bWait);
BOOL __thiscall sub_401870(int this);
signed int __stdcall sub_4018C0(char a1);
DWORD __thiscall sub_4019B0(int this, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, int a4);
BOOL __thiscall sub_401B20(int this, DWORD a2);
BOOL __thiscall sub_401B90(int this, DWORD dwEvtMask);
BOOL __thiscall sub_401BE0(int this, BYTE a2, BYTE a3, BYTE a4);
BOOL __thiscall sub_401C60(int this, DWORD a2, DWORD a3, DWORD a4);
BOOL __thiscall sub_401CD0(int this, DWORD a2, DWORD a3);
BOOL __thiscall sub_401D40(int this, DWORD a2, int a3);
BOOL __thiscall sub_401DD0(int this);
DWORD __thiscall sub_401E70(int this, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite);
void *__thiscall sub_401FB0(void *this, char a2);
void *__thiscall sub_402040(void *this);
// _DWORD __stdcall unknown_libname_3(_DWORD); weak
// int __thiscall unknown_libname_4(_DWORD); weak
// _DWORD __stdcall unknown_libname_5(_DWORD); weak
// _DWORD __stdcall ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(char); weak
ATL::CStringData *__thiscall sub_4020E0(void *this);
// bool __thiscall ATL::CStringData::IsLocked(ATL::CStringData *__hidden this); idb
int __thiscall sub_402170(_DWORD *this);
int __thiscall sub_4021B0(void *this);
void *__thiscall sub_4021D0(void *this, int a2);
int __thiscall sub_402220(void *this, int a2);
int __thiscall sub_402260(void *this);
int __thiscall sub_402280(void *this, void *a2);
// int __thiscall unknown_libname_79(_DWORD); weak
// int __stdcall unknown_libname_80(ATL::CStringData *); idb
// int __cdecl unknown_libname_81(_DWORD); weak
_DWORD *__thiscall sub_4023A0(void *this, int a2);
// int unknown_libname_82(void); weak
// _DWORD __stdcall ATL::CSimpleStringT<char,0>::AppendChar(char); weak
// _DWORD __stdcall unknown_libname_8(_DWORD); weak
int __thiscall sub_402470(void *this, int a2);
// _DWORD __stdcall unknown_libname_9(_DWORD); weak
// int __stdcall ATL::CSimpleStringT<char,0>::SetString(void *Src, rsize_t DstSize); idb
int __thiscall sub_402590(void *this, int a2);
// bool __thiscall ATL::CStringData::IsShared(ATL::CStringData *__hidden this); idb
// int __cdecl ATL::CSimpleStringT<char,0>::CloneData(ATL::CStringData *); idb
int __thiscall sub_402700(int this);
// int unknown_libname_83(void); weak
// _DWORD __stdcall ATL::CSimpleStringT<char,0>::Fork(_DWORD); weak
int __thiscall sub_402830(void *this, int a2);
int __cdecl sub_4028A0(int a1, int a2);
// _DWORD __cdecl unknown_libname_84(_DWORD, _DWORD, _DWORD); weak
unsigned int __cdecl sub_402920(_WORD *a1, signed int a2);
int __thiscall sub_402990(void *this, char a2, __int16 a3, __int16 a4);
void **__thiscall sub_402DF0(DWORD this);
bool __thiscall sub_402E90(int this, void *a2, int a3);
BOOL __thiscall sub_402F20(int this, void *a2, size_t a3);
signed int __stdcall sub_402FD0(char a1);
HANDLE __thiscall sub_403100(int this);
DWORD __stdcall sub_403200(LPVOID lpThreadParameter); // idb
// int __cdecl unknown_libname_10(__time64_t *Time); idb
// int __cdecl unknown_libname_11(__time64_t *Time); idb
DWORD __stdcall StartAddress(LPVOID lpThreadParameter); // idb
int __stdcall sub_403860(int a1);
DWORD __thiscall sub_403EA0(DWORD this);
void *__thiscall sub_404010(void *this, char a2);
void **__thiscall sub_404040(void **this, char a2);
int __thiscall sub_404070(void *this, unsigned __int8 *a2, int a3);
int __thiscall sub_4040F0(int this, int a2);
void __thiscall sub_404190(void **this);
int __thiscall sub_4041C0(int this, const void *a2, int a3);
unsigned int __thiscall sub_404250(int this, void *a2, int a3);
unsigned int __thiscall sub_4042F0(int this);
unsigned __int8 *__cdecl sub_404340(unsigned __int8 *a1, unsigned __int8 *a2);
signed int __cdecl sub_404360(int a1, signed int a2);
signed int __cdecl sub_4043E0(int a1, int a2, int a3);
unsigned __int16 __cdecl sub_404440(int a1, int a2, int a3);
char __cdecl sub_4044C0(int a1, int a2, int a3);
char __cdecl sub_404500(int a1, int a2, int a3);
char __cdecl sub_404550(int a1, int a2, int a3);
int __cdecl sub_404590(int, int, int, void *, size_t); // idb
int __cdecl sub_404620(int, int, int, void *, size_t); // idb
int (**sub_4046B0())();
int (**sub_4046C0())();
// int unknown_libname_85(void); weak
_DWORD *__thiscall sub_4046E0(_DWORD *this);
int __thiscall sub_404750(CWinApp *this);
_DWORD *__thiscall sub_4047C0(int this, int a2);
BOOL __thiscall sub_4048E0(int this, char a2);
_DWORD *__thiscall sub_404900(int this, int a2);
int __thiscall sub_404990(int this, int a2);
int sub_4049B0();
// _DWORD __stdcall unknown_libname_86(_DWORD); weak
CWinApp *__thiscall sub_4049D0(CWinApp *this, char a2);
void __stdcall sub_404A00(void *a1);
BOOL __thiscall sub_404A20(int this, UINT Msg, WPARAM wParam, LPARAM lParam);
int __thiscall sub_404A50(void *this);
// int __thiscall unknown_libname_14(_DWORD); weak
_DWORD *__thiscall sub_404AB0(int this, _DWORD *a2);
_DWORD *__thiscall sub_404AE0(int this, _DWORD *a2);
_DWORD *__thiscall sub_404B10(void *this, _DWORD *a2);
BOOL __thiscall sub_404B40(_DWORD *this, int *a2);
// int __thiscall unknown_libname_15(_DWORD); weak
int __thiscall sub_404BE0(_DWORD *this, int a2, int a3);
BOOL __fastcall sub_404C20(_DWORD *a1, _DWORD *a2, int a3);
// _DWORD __cdecl unknown_libname_87(_DWORD); weak
_DWORD *__thiscall sub_404C60(void *this, char a2, int a3, _DWORD *a4);
int __thiscall sub_404CE0(_DWORD *this, int a2, int a3, int a4);
void *__thiscall sub_404DA0(void *this);
void *__thiscall sub_404EA0(void *this);
void *__thiscall sub_404F10(void *this, char a2);
_DWORD *__thiscall sub_404F50(_DWORD *this, int a2, int a3);
// int __cdecl unknown_libname_17(_DWORD, _DWORD, _DWORD); weak
int __fastcall sub_404F90(_DWORD *a1, int a2);
bool __fastcall sub_404FE0(_DWORD *this, _DWORD *edx0, int a2);
int __cdecl sub_405030(int a1);
int __cdecl sub_405040(int a1);
void *__thiscall sub_405050(int this);
void *__thiscall sub_4050F0(void *this, char a2, char a3, _DWORD *a4);
int __thiscall sub_405240(int this, unsigned int a2);
// _DWORD __stdcall unknown_libname_18(_DWORD); weak
void *__thiscall sub_405310(void *this, _AfxBindStatusCallback *a2);
void *__thiscall sub_4053A0(void *this, char a2);
void __thiscall sub_4053D0(int this);
void __thiscall sub_405400(void *this);
void *__thiscall sub_405420(void *this, char a2);
void *__thiscall sub_405450(void *this, _AfxBindStatusCallback *a2);
int __thiscall sub_405490(void *this);
int __thiscall sub_4054D0(void *this, _AfxBindStatusCallback *a2, int a3, int a4);
int __thiscall sub_405590(int this, char a2, rsize_t MaxCount);
// int __thiscall unknown_libname_20(_DWORD); weak
// _DWORD __stdcall unknown_libname_180(_DWORD); weak
int __thiscall sub_405660(int this, unsigned int a2, unsigned int a3);
// const struct CAsyncMonikerFile *__thiscall _AfxBindStatusCallback::GetOwner(_AfxBindStatusCallback *__hidden this); idb
int __thiscall sub_405720(int this, int a2);
// _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD); weak
BOOL __thiscall sub_405770(void *this, unsigned int a2, char a3);
// int __stdcall unknown_libname_23(void *, int); idb
void *__thiscall sub_405830(void *this, char a2);
void *__stdcall sub_405870(unsigned int a1);
_DWORD *__stdcall sub_405890(void *a1, _DWORD *a2);
void __stdcall sub_4058B0(int a1);
_DWORD *__thiscall sub_4058D0(_DWORD *this, int a2, int a3);
_DWORD *__fastcall sub_405910(_DWORD *a1, int a2);
// int __thiscall unknown_libname_88(_DWORD); weak
std::exception *__thiscall sub_4059C0(std::exception *this, struct std::exception *a2);
// int unknown_libname_26(void); weak
void *__thiscall sub_405A70(void *this, char *a2);
// int __thiscall unknown_libname_78(_DWORD); weak
int __thiscall sub_405AF0(_DWORD *this, int a2, rsize_t MaxCount);
signed int sub_405C70();
_AfxBindStatusCallback *__thiscall sub_405C90(_AfxBindStatusCallback *this, char *a2);
// int __cdecl unknown_libname_28(char *); idb
// int __stdcall std::allocator<char>::allocate(size_t); idb
_AfxBindStatusCallback *__thiscall sub_405D30(_AfxBindStatusCallback *this, void *Src, rsize_t MaxCount);
bool __thiscall sub_405DC0(_DWORD *this, unsigned int a2);
int __cdecl sub_405E00(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); // idb
int __cdecl sub_405E30(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); // idb
// _DWORD __stdcall IUnknown::operator=(_DWORD); weak
void *__cdecl sub_405E70(unsigned int a1);
std::exception *__thiscall sub_405EC0(std::exception *this, char *a2);
void __thiscall sub_405EF0(void *this);
void *__thiscall sub_405F10(void *this, char a2);
_DWORD *__cdecl sub_405F40(void *a1, _DWORD *a2);
// void *__cdecl operator new(unsigned int, void *); idb
void sub_405F90();
// int __cdecl std::_Traits_helper::copy_s<std::char_traits<char>>(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); idb
// int __cdecl std::_Traits_helper::move_s<std::char_traits<char>>(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); idb
int (**sub_4060A0())();
int (**sub_4060B0())();
int (**sub_4060C0())();
int (**sub_4060D0())();
int (**sub_4060E0())();
int (**sub_4060F0())();
// _DWORD __thiscall Concurrency::details::VirtualProcessor::~VirtualProcessor(Concurrency::details::VirtualProcessor *__hidden this); idb
int __thiscall sub_406220(CWinApp *this);
int __thiscall sub_406C10(_DWORD *this, int a2, int a3, int a4, int a5);
int __thiscall sub_407D90(int this);
signed int __thiscall sub_408120(void *this, char a2);
CWnd *__thiscall sub_408760(CWnd *this, __int16 a2, struct CCreateContext *a3, int a4, int a5);
// int __cdecl unknown_libname_31(__time64_t *Time); idb
int __thiscall sub_40B3A0(int this);
unsigned int __stdcall sub_40B720(unsigned __int16 a1, unsigned __int16 a2, _BYTE *a3);
int __thiscall sub_40B7F0(int this, unsigned __int16 a2);
__int16 __stdcall sub_40C570(unsigned __int8 a1);
int __thiscall sub_40C5D0(_DWORD **this);
int __stdcall sub_40CCA0(int, unsigned __int8 *, int, int); // idb
int __thiscall sub_40CDF0(int this);
int __thiscall sub_40D4D0(void *this, char a2);
int __thiscall sub_40D830(void *this);
void __thiscall sub_40E110(_DWORD **this, __int16 a2, char a3, char a4);
void __thiscall sub_40E4F0(CFrameWnd *this);
void __thiscall sub_40F0D0(void *this, int a2, int a3, int a4);
BOOL __thiscall sub_40F580(int this, int a2, int a3, int a4);
DWORD __thiscall sub_40F940(int this);
void __thiscall sub_40FA00(int this);
DWORD __thiscall sub_410090(int this);
void __thiscall sub_410150(void *this, int a2, int a3, int a4);
signed int __thiscall sub_4113E0(void *this, unsigned __int16 a2, char a3);
signed int __thiscall sub_411520(int this);
int __stdcall sub_411660(_BYTE *a1, _BYTE *a2, unsigned __int16 a3);
int __thiscall sub_4116D0(int this);
signed int __thiscall sub_411760(int this);
int __stdcall sub_412061(int); // weak
DWORD __thiscall sub_412500(void *this, unsigned __int16 a2, _BYTE *a3, unsigned __int16 a4, int a5, int a6);
DWORD __thiscall sub_412730(void *this, unsigned __int16 a2, _BYTE *a3, unsigned __int16 a4);
DWORD __thiscall sub_4128C0(int this, __int16 a2, char a3);
DWORD __thiscall sub_412980(int this, __int16 a2, char a3, char a4);
DWORD __thiscall sub_412B80(void *this, __int16 a2, char a3);
DWORD __thiscall sub_412BA0(void *this);
__int32 __thiscall sub_412E60(int this, unsigned int a2, unsigned int a3, __int32 a4);
signed int __cdecl sub_4130A0(int a1);
_DWORD *__thiscall sub_413170(_DWORD *this, int a2);
int __thiscall sub_4131C0(CWnd *this);
void *__thiscall sub_4131E0(void *this);
int __thiscall sub_413280(int this);
int __thiscall sub_4132C0(_DWORD *this, int a2);
int __thiscall sub_413300(_DWORD *this, int a2);
char *__thiscall sub_413330(char *this, int a2);
Concurrency::details::VirtualProcessor *__thiscall sub_413390(Concurrency::details::VirtualProcessor *this, char a2);
int __thiscall sub_4133C0(int this);
void *__stdcall sub_4134C0(size_t a1);
LRESULT __thiscall sub_4134E0(int this, LPARAM lParam, WPARAM wParam);
HICON __stdcall sub_413510(unsigned __int16 a1);
int sub_413530();
BOOL __thiscall sub_413540(struct tagRECT *this, int xLeft, int yTop, int xRight, int yBottom);
_AfxBindHost *__thiscall sub_413570(_AfxBindHost *this);
// _DWORD __thiscall _AfxBindHost::_AfxBindHost(_AfxBindHost *__hidden this); idb
void *__thiscall sub_4135C0(void *this, char a2);
int __cdecl sub_4135F0();
// _DWORD __thiscall ATL::CComCriticalSection::~CComCriticalSection(ATL::CComCriticalSection *__hidden this); idb
void *__thiscall sub_4137A0(void *this, char a2);
int __thiscall sub_4137D0(void *this);
_AfxBindHost *__thiscall sub_4137F0(_AfxBindHost *this);
void *__thiscall sub_413810(void *this, char a2);
int __thiscall sub_413840(void *this);
DWORD __thiscall sub_413860(int this, UINT uIDCheckItem, UINT uCheck);
struct CMenu *__thiscall sub_413890(int this);
void __thiscall sub_4138B0(int this, BOOL fAccept);
BOOL __thiscall sub_4138D0(int this, LPRECT lpRect);
BOOL __thiscall sub_4138F0(int this, LPRECT lpRect);
UINT_PTR __thiscall sub_413910(int this, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
BOOL __thiscall sub_413940(int this, int backlog);
int __thiscall sub_413970(CAsyncSocket *this, u_short hostshort, int type, char *cp);
void *__thiscall sub_4139A0(void *this, char a2);
// int __thiscall unknown_libname_34(_DWORD); weak
int __thiscall sub_4139F0(char *this);
// _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __thiscall Concurrency::target_block<Concurrency::multi_link_registry<Concurrency::ISource<unsigned int>>,Concurrency::ordered_message_processor<unsigned int>>::target_block<Concurrency::multi_link_registry<Concurrency::ISource<unsigned int>>,Concurrency::ordered_message_processor<unsigned int>>(_DWORD); weak
void *__thiscall sub_413CC0(void *this, char a2);
// int sub_413CF0(void); weak
// int __stdcall Concurrency::details::LockFreeStack<Concurrency::details::SubAllocator>::Push(RECT *lprcSrc); idb
BOOL __thiscall sub_413D70(int this, RECT *lpRect, BOOL bErase);
int __thiscall sub_413DA0(void *this);
void *__thiscall sub_413DC0(void *this, char a2);
int __thiscall sub_413DF0(CGdiObject *this, int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, char a7, char a8, char a9, char a10, char a11, char a12, char a13, char a14, LPCSTR pszFaceName);
void __thiscall sub_413E50(CWnd *this, int a2, int a3);
BOOL __thiscall sub_413E90(int this, UINT_PTR uIDEvent);
int __thiscall sub_413EB0(void *this);
struct CWnd *sub_413ED0();
int sub_413EF0();
BOOL __thiscall sub_413F30(int this);
BOOL __thiscall sub_413F50(int this);
int __thiscall sub_413F70(CDialog *this, __int16 a2, struct CWnd *a3);
void *__thiscall sub_413F90(void *this, char a2);
void *__thiscall sub_413FC0(void *this, char a2);
void *__thiscall sub_413FF0(void *this, char *a2);
// int __stdcall ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=(char *); idb
void *__thiscall sub_414090(void *this);
BOOL __cdecl sub_4140E0(void *a1, int a2);
int __cdecl sub_414100(int, unsigned __int8 *); // idb
BOOL __cdecl sub_414120(void *a1, int a2);
char __thiscall sub_414140(_DWORD *this, int a2);
BOOL __thiscall sub_414180(void *this);
void *__thiscall sub_4141A0(void *this);
// int __thiscall unknown_libname_36(_DWORD); weak
int __thiscall sub_4141F0(int this);
int __thiscall sub_414230(_DWORD *this, unsigned int a2);
int __thiscall sub_414260(void *this, int a2);
int __thiscall sub_4142D0(void *this, unsigned __int8 *a2);
// _DWORD __cdecl _CrtIsValidPointer(_DWORD); weak
char __stdcall sub_414330(unsigned int a1);
int __stdcall sub_414380(unsigned int a1);
// int __stdcall unknown_libname_90(HINSTANCE hModule, unsigned int); idb
// _DWORD __cdecl unknown_libname_91(unsigned int); weak
// int __cdecl UnDecorator::getVbTableType(_DWORD, _DWORD); weak
int __thiscall sub_4145C0(int this);
_DWORD *__thiscall sub_414600(int this, _DWORD *a2);
int __thiscall sub_414630(void *this, int a2, int a3, int a4, int a5);
char __thiscall sub_4146B0(int this, unsigned int a2);
int __thiscall sub_414730(int this);
int __stdcall sub_4147A0(int a1, int a2, int a3);
void *__thiscall sub_4147D0(void *this, char a2);
// int __thiscall unknown_libname_92(_DWORD); weak
// int __stdcall ATL::CSimpleStringT<char,0>::SetString(char *); idb
int __cdecl sub_414850(unsigned __int8 *, unsigned __int8 *); // idb
_DWORD *__thiscall sub_4148D0(int this, _DWORD *a2);
// int __thiscall unknown_libname_39(_DWORD); weak
char *__stdcall sub_414920(void *a1, int a2);
int __thiscall sub_414950(void *this, int a2, int a3, unsigned int a4, int a5);
void __noreturn sub_414CB0();
void *__stdcall sub_414D30(unsigned int a1);
_DWORD *__thiscall sub_414D50(_DWORD *this, unsigned int a2, int a3);
int __thiscall sub_414D70(int this, int a2, int a3);
// _DWORD __stdcall unknown_libname_40(_DWORD); weak
signed int sub_414DD0();
// _DWORD __stdcall unknown_libname_41(_DWORD); weak
_DWORD *__thiscall sub_414E20(_DWORD *this, unsigned int a2, int a3);
int __fastcall sub_414E70(_DWORD *a1, int a2, int a3);
_DWORD *__fastcall sub_414EB0(_DWORD *a1, int a2, int a3);
int sub_414F10(int arg0, char *Format, ...);
int __cdecl sub_414F40(int a1, int a2, int a3);
char *__cdecl sub_414F80(void *a1, int a2);
void *__stdcall sub_414FC0(char a1, char a2, void *a3);
int __cdecl sub_414FF0(char a1, char a2, int a3);
int __cdecl sub_415020(char a1, char a2, int a3);
void *__cdecl sub_415090(unsigned int a1);
int __stdcall sub_4150E0(char *Format, va_list ArgList); // idb
// int __cdecl ATL::ChTraitsCRT<char>::GetFormattedLength(char *Format, va_list ArgList); idb
// int __cdecl ATL::ChTraitsCRT<char>::Format(char *DstBuf, size_t SizeInBytes, char *Format, va_list ArgList); idb
// int __cdecl unknown_libname_42(_DWORD); weak
int __cdecl sub_4151A0(int a1, int a2, int a3);
char *__cdecl sub_415260(void *a1, int a2);
void *__cdecl sub_415290(char a1, char a2, void *a3);
int __cdecl sub_4152E0(int a1);
int __cdecl sub_415300(int a1, int a2, int a3);
// _DWORD __cdecl unknown_libname_43(_DWORD); weak
int __cdecl sub_415340(int a1, int a2, int a3);
int __stdcall sub_415380(void *a1, int a2);
void __stdcall sub_4153A0(void *a1);
void *__cdecl sub_4153C0(char a1, char a2, void *a3);
// _DWORD __cdecl unknown_libname_44(_DWORD); weak
int __cdecl sub_4153F0(int a1, int a2, int a3);
int __cdecl sub_415450(void *a1, int a2);
// void __cdecl __ExceptionPtrDestroy(void *); idb
void *__cdecl sub_4154E0(char a1, char a2, void *a3);
int __cdecl sub_415540(int a1, int a2, int a3);
void *__cdecl sub_415570(int a1, int a2, void *a3);
int (**sub_415630())();
int (**sub_415640())();
_DWORD *__thiscall sub_415650(_DWORD *this, int a2);
void __thiscall sub_4157C0(HWND this, HWND hWnd);
int __thiscall sub_415C10(int this);
LRESULT __thiscall sub_4164B0(_DWORD *this);
int __thiscall sub_4165E0(void *this);
_DWORD *__thiscall sub_4166F0(_DWORD *this);
CWnd *__thiscall sub_416710(CWnd *this, char a2);
_DWORD *__thiscall sub_416740(_DWORD *this);
CWnd *__thiscall sub_416760(CWnd *this, char a2);
void *__thiscall sub_416790(void *this, char a2);
LRESULT __thiscall sub_4167C0(int this);
LRESULT __thiscall sub_4167F0(int this, WPARAM wParam);
int (**sub_416820())();
int (**sub_416830())();
_DWORD *__thiscall sub_416840(_DWORD *this, int a2);
unsigned __int16 __cdecl sub_4169C0(_BYTE *a1, int a2, unsigned __int16 a3, char a4);
int (**sub_416B30())();
int (**sub_416B40())();
_DWORD *__thiscall sub_416B50(_DWORD *this, int a2);
int __thiscall sub_416C90(int this);
int __thiscall sub_416DB0(void *this);
void __thiscall sub_416DD0(HWND this, HWND hWnd);
int __thiscall sub_417020(CDialog *this);
int __thiscall sub_417380(int this);
int __thiscall sub_417420(void *this);
signed int __thiscall sub_417510(CWnd *this, int a2, int a3);
_DWORD *__thiscall sub_4176D0(_DWORD *this);
CWnd *__thiscall sub_4176F0(CWnd *this, char a2);
_DWORD *__thiscall sub_417720(_DWORD *this);
CWnd *__thiscall sub_417740(CWnd *this, char a2);
void *__thiscall sub_417770(void *this, char a2);
LRESULT __thiscall sub_4177A0(int this, LPARAM lParam);
LRESULT __thiscall sub_4177D0(int this);
_DWORD *__thiscall sub_417800(_DWORD *this);
CWnd *__thiscall sub_417820(CWnd *this, char a2);
LRESULT __thiscall sub_417850(void *this, int a2, LPARAM lParam);
int __thiscall sub_417880(int this);
int (**sub_4178B0())();
int (**sub_4178C0())();
void *__thiscall sub_4178D0(void *this, int a2);
void __thiscall sub_417BA0(HWND this, HWND hWnd);
int __thiscall sub_417FB0(int this);
void __thiscall sub_418710(CWnd *this);
int __thiscall sub_418B80(int this, struct tagMSG *a2);
_DWORD *__thiscall sub_418D30(_DWORD *this);
int __thiscall sub_419B90(void *this);
char *__thiscall sub_41A680(char *this, char a2);
LRESULT __thiscall sub_41A6B0(int this, LPARAM lParam);
LRESULT __thiscall sub_41A6E0(int this);
int __cdecl sub_41A710(unsigned __int8 *, int); // idb
// IDirect3D9 *__stdcall Direct3DCreate9(UINT SDKVersion);
void *__thiscall sub_41A72E(void *this, char a2);
void *__thiscall sub_41A74A(void *this, char a2);
int __stdcall sub_41A766(int, LOGFONTA *lplf, int); // idb
signed int __stdcall sub_41A7D5(int a1, _DWORD *a2);
int __stdcall sub_41A841(int, HANDLE h, int); // idb
_DWORD *__stdcall sub_41A874(int a1);
unsigned int __fastcall sub_41A89A(int a1, int a2);
int __stdcall sub_41A90F(int a1, int a2, int a3, _DWORD *a4);
signed int __stdcall sub_41AA0B(signed int a1);
signed int __stdcall sub_41AA27(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10);
void *__thiscall sub_41AB0C(void *this);
signed int __stdcall sub_41AB0F(int a1, int a2, const void *a3, int a4, int a5, int a6, int a7, int a8, const void *a9, int a10, int a11);
signed int __fastcall sub_41ABE8(int a1, int a2, unsigned int *a3, unsigned int *a4, unsigned int *a5, int *a6, int a7, int *a8, int a9, int a10);
signed int __thiscall sub_41AF46(void *this, int a2, unsigned int *a3, unsigned int *a4, int *a5, int a6, int *a7, int a8);
signed int __thiscall sub_41AF6B(void *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __stdcall sub_41AFD9(int a1, int a2, int a3, int (__thiscall *a4)(int));
// signed int __userpurge sub_41B003@<eax>(int a1@<edi>, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8, int a9);
signed int __stdcall sub_41B20B(int a1, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8);
signed int __stdcall sub_41B291(int a1, const void *a2, unsigned int a3, int a4);
signed int __stdcall sub_41B581(int a1, char *a2, unsigned int a3, unsigned int i, unsigned int j, unsigned int k, unsigned int a7, int a8, unsigned int a9, int a10, int a11, int a12, int a13, int a14, void *a15, int a16, int *a17);
signed int __stdcall sub_41BCFB(int a1, char *a2, unsigned int a3, unsigned int a4, unsigned int a5, unsigned int a6, int a7, unsigned int a8, int a9, int a10, int a11, int a12, int a13, void *a14, int *a15);
int __stdcall sub_41BD38(int, HMODULE hModule, LPCWSTR lpName, int, int, int, int, int, int, int, int, int, int, int, int); // idb
int __stdcall sub_41BDA0(int, HMODULE hModule, LPCWSTR lpName, int); // idb
int __thiscall sub_41BDC9(int this);
int __thiscall sub_41BE03(int this, int a2, LOGFONTA *lplf);
signed int __stdcall sub_41BE5F(int a1, _DWORD *a2);
signed int __stdcall sub_41BE85(int a1, void *a2);
// signed int __userpurge sub_41BEA9@<eax>(int a1@<ebx>, int a2@<edi>, int a3);
signed int __stdcall sub_41BEB8(int a1);
HGDIOBJ __stdcall sub_41BEC7(int a1, LPCWSTR lpWideCharStr, int cchWideChar, int a4, UINT format, int a6);
HGDIOBJ __stdcall sub_41BEED(int a1, LPCWSTR lpWideCharStr, int cchWideChar, int a4, UINT format, int a6);
int __stdcall sub_41BF13(int a1);
signed int __stdcall sub_41BF22(int a1);
signed int __stdcall sub_41BF31(int a1, const void *a2, _DWORD *a3);
int __stdcall sub_41BF75(void *); // idb
int __thiscall sub_41BF8D(int this);
void __thiscall sub_41BFA8(int this);
int __stdcall sub_41BFE4(int a1);
signed int __thiscall sub_41BFF1(int this, int a2);
signed int __stdcall sub_41C06D(int a1, _DWORD *a2);
signed int __stdcall sub_41C093(int a1);
int __stdcall sub_41C0B8(int a1);
signed int __stdcall sub_41C0EB(int a1, const void *a2, _DWORD *a3);
int __stdcall sub_41C12F(void *); // idb
// signed int __userpurge sub_41C147@<eax>(int a1@<ebx>, int a2);
int __stdcall sub_41C5EC(int, int, int, int, int, float, int, int); // idb
int __stdcall sub_41C6C3(int a1, int a2, int a3, int a4, int a5);
int __thiscall sub_41CAB9(int this);
int __stdcall sub_41CAD7(int, LPCSTR lpValueName, DWORD Type, DWORD cbData); // idb
void __stdcall sub_41CB34(int a1);
int __thiscall sub_41CC04(int this);
void __thiscall sub_41CC1D(int this);
void *__thiscall sub_41CC76(void *this, char a2);
signed int __thiscall sub_41CC92(void *this, int a2, unsigned int a3);
void __cdecl __noreturn sub_41D7BE(int a1);
int __stdcall sub_41D7D9(int a1);
signed int __stdcall sub_41D7F6(int a1);
int __stdcall sub_41D80E(int a1, int a2);
signed int __thiscall sub_41D821(_DWORD *this, int a2, int a3);
signed int __thiscall sub_41DA99(void *this, int a2, unsigned int a3);
int __thiscall sub_41E011(_DWORD *this, char *a2, unsigned int a3);
int __cdecl sub_41E297(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
void __cdecl __noreturn sub_41E2D8(int *__attribute__((__org_typedef(jmp_buf))) a1);
signed int __thiscall sub_41E2E4(int *this, int a2, unsigned int a3);
signed int __thiscall sub_41E835(int this, int a2, unsigned int a3);
signed int __thiscall sub_41EBA1(void *this, int a2, unsigned int a3);
signed int __thiscall sub_41EBD1(void *this, char *a2, unsigned int a3, signed int a4, int a5);
int __thiscall sub_41EDBA(int this);
int __thiscall sub_41EDC4(int this);
double __stdcall sub_41EDE2(float a1);
// int __thiscall unknown_libname_93(_DWORD); weak
_DWORD *__stdcall sub_41EE0B(unsigned int a1, signed int a2, int a3);
signed int __thiscall sub_41F0C7(_DWORD *this);
int __stdcall sub_41F255(int *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __thiscall sub_41F37D(_DWORD *this);
int __stdcall sub_41F3AB(unsigned int *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_41F495(int *a1, unsigned int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_41F5AD(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_41F5E5();
int __thiscall sub_41F614(_DWORD *this);
int __fastcall sub_41F642(int a1);
int __fastcall sub_41F792(int a1);
int __fastcall sub_41F8B6(int a1);
int __fastcall sub_41FA05(int a1);
int __fastcall sub_41FB58(int a1);
int __thiscall sub_41FC97(_DWORD *this);
int __fastcall sub_41FD32(int a1);
int __fastcall sub_41FE7E(int a1);
int __fastcall sub_41FF9F(int a1);
int __fastcall sub_4200EB(int a1);
signed int __thiscall sub_42022A(int this);
signed int __thiscall sub_420367(int this);
signed int __thiscall sub_420445(int this);
signed int __thiscall sub_42063A(_BYTE *this);
// signed int __usercall sub_420833@<eax>(int a1@<ecx>, int a2@<edi>, void *a3@<esi>);
// signed int __usercall sub_420C42@<eax>(int a1@<ecx>, unsigned int a2@<edi>, void *a3@<esi>);
// void *__userpurge sub_421077@<eax>(unsigned int a1@<edi>, unsigned int a2@<esi>, int a3);
signed int __thiscall sub_421169(void *this);
signed int __thiscall sub_4214F8(void *this);
// int __thiscall ATL::CComTypeInfoHolder::stringdispid::'vector deleting destructor'(void *, char); idb
signed int __thiscall sub_421BC3(void *this);
signed int __thiscall sub_422287(_DWORD *this);
signed int __thiscall sub_422875(int this, int a2, int a3, int a4);
int __thiscall sub_4229A4(int this);
// int __userpurge sub_4229B7@<eax>(int a1@<edi>, int a2, int a3);
int __thiscall sub_422A94(int this);
void *__thiscall sub_422B45(void *this);
int __thiscall sub_422B4B(_DWORD *this);
int __thiscall sub_422B6D(_DWORD); // weak
int __thiscall sub_422B72(void *this, int a2, int a3, int a4, int a5, int a6, int a7);
int __thiscall sub_42305C(_DWORD); // weak
int __thiscall sub_423061(_DWORD *this, int a2, int a3, int a4, const void *a5, int a6, int a7);
void __thiscall sub_4233D0(int this);
int __thiscall sub_4233E6(int this, int a2);
void __thiscall sub_4239AA(int this);
int __thiscall sub_423A24(int this);
double __stdcall sub_423B25(float a1);
double __stdcall sub_423B75(float a1);
char *__thiscall sub_423BBC(char *this, int a2, unsigned int a3, int a4);
signed int __thiscall sub_423E2D(int this, int a2);
int __thiscall sub_423EB6(int this);
void __thiscall sub_423F89(int this, unsigned int a2);
int __thiscall sub_423FF9(int this, int a2);
void __thiscall sub_42427B(int this, unsigned int a2);
int __thiscall sub_4243B1(int this, int a2, int a3, int a4);
int __thiscall sub_4244C2(int this, int a2, int a3, int a4);
int __thiscall sub_42460B(int this, int a2, int a3, int a4);
int __thiscall sub_424730(int this, int a2, int a3, int a4);
int __thiscall sub_424855(int this, int a2, int a3, int a4);
int __thiscall sub_42497A(int this, int a2, int a3, int a4);
int __thiscall sub_424ABD(int this, int a2, int a3, int a4);
int __thiscall sub_424C06(int this, int a2, int a3, int a4);
int __thiscall sub_424D2B(int this, int a2, int a3, int a4);
int __thiscall sub_424DF7(int this, int a2, int a3, int a4);
int __thiscall sub_424F40(int this, int a2, int a3, int a4);
int __thiscall sub_425065(int this, int a2, int a3, int a4);
int __thiscall sub_4251AE(int this, int a2, int a3, int a4);
int __thiscall sub_4252F7(int this, int a2, int a3, int a4);
int __thiscall sub_42541C(int this, int a2, int a3, int a4);
int __thiscall sub_425513(int this, int a2, int a3, int a4);
int __thiscall sub_42565C(int this, int a2, int a3, int a4);
int __thiscall sub_4257DD(int this, int a2, int a3, int a4);
int __thiscall sub_425924(int this, int a2, int a3, int a4);
int __thiscall sub_4259FE(int this, int a2, int a3, int a4);
int __thiscall sub_425AE6(int this, int a2, int a3, int a4);
int __thiscall sub_425C01(int this, int a2, int a3, int a4);
int __thiscall sub_425D11(int this, int a2, int a3, int a4);
int __thiscall sub_425DFB(int this, int a2, int a3, int a4);
int __thiscall sub_425EF6(int this, int a2, int a3, int a4);
int __thiscall sub_426020(int this, int a2, int a3, int a4);
int __thiscall sub_426152(int this, int a2, int a3, int a4);
int __thiscall sub_4262B1(int this, int a2, int a3, int a4);
int __thiscall sub_4263AC(int this, int a2, int a3, int a4);
int __thiscall sub_42650B(int this, int a2, int a3, int a4);
int __thiscall sub_4266A2(int this, int a2, int a3, int a4);
_DWORD *__thiscall sub_4267A7(int this, int a2, int a3, int a4);
int __thiscall sub_4267FC(int this, int a2, int a3, int a4);
int __thiscall sub_42685E(int this, int a2, int a3, int a4);
int __thiscall sub_4268C1(int this, int a2, int a3, int a4);
int __thiscall sub_426909(int this, int a2, int a3, int a4);
unsigned int __thiscall sub_426966(int this, int a2, int a3, const void *a4);
int __thiscall sub_4269B9(int this, int a2, int a3, int a4);
int __thiscall sub_426ACF(int this, int a2, int a3, int a4);
void __thiscall sub_426BE2(int this, int a2, int a3, float *a4);
void __thiscall sub_426C87(int this, int a2, int a3, int a4);
void __thiscall sub_426D46(int this, int a2, int a3, int a4);
void __thiscall sub_426DFB(int this, int a2, int a3, float *a4);
void __thiscall sub_426EB5(int this, int a2, int a3, float *a4);
void __thiscall sub_426F6C(int this, int a2, int a3, float *a4);
void __thiscall sub_427031(int this, int a2, int a3, float *a4);
void __thiscall sub_4270F5(int this, int a2, int a3, int a4);
void __thiscall sub_4271E4(int this, int a2, int a3, float *a4);
void __thiscall sub_4272A3(int this, int a2, int a3, float *a4);
void __thiscall sub_427358(int this, int a2, int a3, float *a4);
void __thiscall sub_427403(int this, int a2, int a3, int a4);
void __thiscall sub_4274F2(int this, int a2, int a3, int a4);
void __thiscall sub_4275F9(int this, int a2, int a3, float *a4);
void __thiscall sub_4276B0(int this, int a2, int a3, float *a4);
void __thiscall sub_42773B(int this, int a2, int a3, float *a4);
char *__thiscall sub_427802(char *this, int a2);
void __thiscall sub_42781E(int this, int a2, int a3, float *a4);
char *__thiscall sub_4278D2(char *this, int a2);
void __thiscall sub_4278EE(int this, int a2, int a3, int a4);
char *__thiscall sub_42798B(char *this, int a2);
char *__thiscall sub_4279A7(char *this, int a2);
void __thiscall sub_4279C3(int this, int a2, int a3, int a4);
char *__thiscall sub_427A3F(char *this, int a2);
void __thiscall sub_427A5B(int this, int a2, int a3, int a4);
char *__thiscall sub_427AE2(char *this, int a2);
void __thiscall sub_427AFE(int this, int a2, int a3, int a4);
char *__thiscall sub_427B9C(char *this, int a2);
void __thiscall sub_427BB8(int this, int a2, int a3, int a4);
char *__thiscall sub_427C56(char *this, int a2);
void __thiscall sub_427C72(int this, int a2, int a3, int a4);
char *__thiscall sub_427CFB(char *this, int a2);
void __thiscall sub_427D17(int this, int a2, int a3, float *a4);
char *__thiscall sub_427DD2(char *this, int a2);
char *__thiscall sub_427DEE(char *this, int a2);
void __thiscall sub_427E0A(int this, int a2, int a3, float *a4);
char *__thiscall sub_427EEA(char *this, int a2);
void __thiscall sub_427F06(int this, int a2, int a3, float *a4);
char *__thiscall sub_427FD2(char *this, int a2);
char *__thiscall sub_427FEE(char *this, int a2);
void __thiscall sub_42800A(int this, int a2, int a3, int a4);
char *__thiscall sub_428105(char *this, int a2);
void __thiscall sub_428121(int this, int a2, int a3, float *a4);
char *__thiscall sub_4281E3(char *this, int a2);
char *__thiscall sub_4281FF(char *this, int a2);
void __thiscall sub_42821B(int this, int a2, int a3, int a4);
char *__thiscall sub_428334(char *this, int a2);
char *__thiscall sub_428350(char *this, int a2);
void __thiscall sub_42836C(int this, int a2, int a3, int a4);
char *__thiscall sub_428483(char *this, int a2);
void __thiscall sub_42849F(int this, int a2, int a3, int a4);
char *__thiscall sub_428580(char *this, int a2);
char *__thiscall sub_42859C(char *this, int a2);
char *__thiscall sub_4285B8(char *this, int a2);
void __thiscall sub_4285D4(int this, int a2, int a3, int a4);
char *__thiscall sub_428654(char *this, int a2);
void __thiscall sub_428670(int this, int a2, int a3, int a4);
char *__thiscall sub_428701(char *this, int a2);
char *__thiscall sub_42871D(char *this, int a2);
void __thiscall sub_428739(int this, int a2, int a3, int a4);
char *__thiscall sub_4287C6(char *this, int a2);
void __thiscall sub_4287E2(int this, int a2, int a3, unsigned int a4);
char *__thiscall sub_428839(char *this, int a2);
void __thiscall sub_428855(int this, int a2, int a3, int a4);
void __thiscall sub_4288D6(int this, int a2, int a3, void *a4);
void __thiscall sub_428938(int this, int a2, int a3, int a4);
char *__thiscall sub_4289DF(char *this, int a2);
char *__thiscall sub_4289FB(char *this, int a2);
void __thiscall sub_428A17(int this, int a2, int a3, float *a4);
char *__thiscall sub_428ABC(char *this, int a2);
char *__thiscall sub_428AD8(char *this, int a2);
char *__thiscall sub_428BCA(char *this, int a2);
char *__thiscall sub_428BE6(char *this, int a2);
char *__thiscall sub_428C02(char *this, int a2);
int __thiscall sub_428C1E(int this);
char *__thiscall sub_428F2E(char *this, int a2);
char *__thiscall sub_428F4A(char *this, int a2);
void *__thiscall sub_428F66(void *this, char a2);
char *__thiscall sub_428F82(char *this, int a2);
char *__thiscall sub_428F9E(char *this, int a2);
int __thiscall sub_428FBA(int this, unsigned int a2, unsigned int a3, int a4);
char *__thiscall sub_429386(char *this, int a2);
char *__thiscall sub_4293A5(char *this, int a2);
char *__thiscall sub_4293C1(char *this, int a2);
int __thiscall sub_4293DD(int this, int a2, int a3, int a4);
void __thiscall sub_42947B(int this, int a2, int a3, void *a4);
char *__thiscall sub_4294FA(char *this, int a2);
char *__thiscall sub_4296E6(char *this, int a2);
char *__thiscall sub_4296FE(char *this, int a2);
char *__thiscall sub_429716(char *this, int a2);
void __thiscall sub_42972E(int this, int a2, int a3, int a4);
void __thiscall sub_429B73(int this, int a2, int a3, unsigned int a4);
void __thiscall sub_429E32(void *this);
char *__thiscall sub_429E59(char *this, int a2);
char *__thiscall sub_429E71(char *this, int a2);
char *__thiscall sub_429E89(char *this, int a2);
char *__thiscall sub_429EA1(char *this, int a2);
char *__thiscall sub_429EB9(char *this, int a2);
char *__thiscall sub_429ED1(char *this, int a2);
void *__thiscall sub_429EE9(void *this, char a2);
char *__stdcall sub_429F05(int a1);
void *__thiscall sub_42A6B1(void *this, char a2);
int __stdcall sub_42A6CD(float, float); // idb
int sub_42A6FD();
int __stdcall sub_42A70A(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42A710(int a1, int a2, unsigned int a3);
int sub_42A79F();
int __stdcall sub_42A7AC(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42A7B2(int a1, int a2, unsigned int a3);
int sub_42A857();
int __stdcall sub_42A864(int, int, int, int, int, float); // idb
int __stdcall sub_42A88E(int, int, int, int, int, float); // idb
int __stdcall sub_42A91C(int, int, int, int, int, float); // idb
int __stdcall sub_42A946(int, int, int, int, int, float); // idb
int __stdcall sub_42A9F5(int, int, int, int, float, float); // idb
int __stdcall sub_42AA24(int, int, int, int, float, float); // idb
int sub_42AA67();
int __stdcall sub_42AA74(_DWORD, _DWORD, _DWORD); // weak
int sub_42AA7A();
int sub_42AA8B();
int __stdcall sub_42AA98(_DWORD, _DWORD, _DWORD); // weak
int sub_42AA9E();
int sub_42AAAF();
int __stdcall sub_42AABC(_DWORD, _DWORD, _DWORD); // weak
int sub_42AAC2();
int sub_42AAD3();
int __stdcall sub_42AAE0(_DWORD, _DWORD); // weak
int __stdcall sub_42AAE6(int, int, int, int, int, float); // idb
int __stdcall sub_42AB10(int, int, int, int, int, float); // idb
int __stdcall sub_42ABBE(int, int, int, int, int, float); // idb
int __stdcall sub_42ABE8(int, int, int, int, int, float); // idb
int __stdcall sub_42ACB9(int, int, int, int, float, float); // idb
int __stdcall sub_42ACE8(int, int, int, int, float, float); // idb
int sub_42AD45();
int __stdcall sub_42AD52(int a1, int a2, int a3);
int sub_42ADDD();
int __stdcall sub_42ADEE(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_42AE95();
int __stdcall sub_42AEA2(_DWORD, _DWORD, _DWORD); // weak
int sub_42AEA8();
int __stdcall sub_42AEB9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_42AEBF();
int __stdcall sub_42AECC(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42AED2(int a1, int a2, int a3);
int sub_42AF38();
int __stdcall sub_42AF49(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_42AFC7();
int sub_42AFD8();
int sub_42AFE9();
int sub_42AFFA();
int sub_42B00B();
int __stdcall sub_42B018(int a1, int a2, int a3, int a4);
int sub_42B108();
int __stdcall sub_42B115(int, int, int, int, int, float); // idb
int __stdcall sub_42B13F(int, int, int, int, int, float); // idb
int __stdcall sub_42B210(int, int, int, int, int, float); // idb
int __stdcall sub_42B23A(int, int, int, int, int, float); // idb
int __stdcall sub_42B32D(int, int, int, int, float, float); // idb
int __stdcall sub_42B35C(int, int, int, int, float, float); // idb
int sub_42B3D3();
int __stdcall sub_42B3E0(int a1, int a2, int a3);
int sub_42B47F();
int __stdcall sub_42B490(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_42B54F();
double __stdcall sub_42B55C(int a1);
int sub_42B626();
int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD); // weak
char *__stdcall sub_42B639(char *a1, int a2, int a3);
int sub_42B86F();
int __stdcall sub_42B87C(_DWORD); // weak
int __stdcall sub_42B882(int a1, int a2);
int sub_42B8EF();
char *__stdcall sub_42B8FC(char *a1, int a2, int a3);
int sub_42BB32();
int __stdcall sub_42BB3F(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42BB45(int a1, float *a2, int a3);
int __stdcall sub_42BEE4(int, float, float, float); // idb
int __stdcall sub_42BF12(int a1, int a2, int a3, int a4);
int __stdcall sub_42BF6E(int, float, float, float); // idb
int __stdcall sub_42BF9C(int a1, int a2, int a3, int a4);
int __stdcall sub_42BFF8(int, float); // idb
int __stdcall sub_42C014(int, float); // idb
int __stdcall sub_42C08E(int, float); // idb
int __stdcall sub_42C0AA(int, float); // idb
int __stdcall sub_42C125(int, float); // idb
int __stdcall sub_42C141(int, float); // idb
int __stdcall sub_42C1BD(int, int, float); // idb
int __stdcall sub_42C1DD(int, int, float); // idb
int sub_42C2DF();
int __stdcall sub_42C2EC(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42C2F2(int a1, int a2);
int __stdcall sub_42C3D4(int, float, float, float); // idb
int sub_42C402();
int __stdcall sub_42C413(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42C419(int, float, int, int, int); // idb
int __stdcall sub_42C440(int, float, int, int, int); // idb
int sub_42C526();
int sub_42C533();
int sub_42C540();
int __stdcall sub_42C54D(int a1, int a2, float *a3);
int sub_42C582();
int __stdcall sub_42C58F(int a1, int a2);
int __stdcall sub_42C6C3(int, int, float); // idb
int __stdcall sub_42C6E3(int, int, float); // idb
int __stdcall sub_42C73F(int, float, float, float); // idb
int __stdcall sub_42C76D(int, float, float, float); // idb
int __stdcall sub_42C773(int, float, float, float); // idb
int sub_42C84C();
int __stdcall sub_42C859(_DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_42C85F(int a1, int a2, int a3);
int sub_42C8F5();
int __stdcall sub_42C902(int a1, int a2);
int sub_42C9B8();
int __stdcall sub_42C9C5(_DWORD, _DWORD); // weak
int __stdcall sub_42C9CB(int a1, int a2);
int sub_42CA7C();
int __stdcall sub_42CA89(_DWORD, _DWORD); // weak
int __stdcall sub_42CA8F(int a1, int a2);
int sub_42CB0A();
int __stdcall sub_42CB17(_DWORD, _DWORD); // weak
int __stdcall sub_42CB1D(int a1, float a2);
int __stdcall sub_42CBB5(int, int, int, float); // idb
int __stdcall sub_42CBD9(int, int, int, float); // idb
int __stdcall sub_42CBDF(int, int, int, float); // idb
int __stdcall sub_42CCC2(int, int, int, int, int, float); // idb
int __stdcall sub_42CCEC(int, int, int, int, int, float); // idb
int sub_42CD43();
int __stdcall sub_42CD54(int, int, int, int, float, float); // idb
int __stdcall sub_42CD83(int, int, int, int, float, float); // idb
int sub_42CE0B();
int __stdcall sub_42CE18(_DWORD, _DWORD); // weak
int __stdcall sub_42CE1E(int a1, int a2);
int sub_42CEBF();
int __stdcall sub_42CECC(int a1, int a2, int a3, int a4);
int sub_42CF6E();
int __stdcall sub_42CF7B(int a1, int a2, int a3);
int sub_42CFB3();
int __stdcall sub_42CFC0(int a1, int a2, int a3, int a4);
int sub_42D062();
int __stdcall sub_42D06F(int a1, int a2, int a3);
int sub_42D10E();
int __stdcall sub_42D11F(int a1, int a2, int a3, int a4, int a5, int a6);
int sub_42D1DE();
int sub_42D1EF();
int __stdcall sub_42D200(int a1, int a2);
int __stdcall sub_42D28A(int a1, int a2, int a3);
int __stdcall sub_42D2F5(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_42D378(int a1, int a2, int a3);
int __stdcall sub_42D3F5(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_42D48D(int a1, int a2, int a3);
int __stdcall sub_42D4C9(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_42D51D(int a1, int a2);
int __stdcall sub_42D5BA(int a1, int a2, int a3);
int __stdcall sub_42D676(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_42D755(int a1, int a2, int a3, float *a4, float *a5, float *a6);
int __stdcall sub_42D8E2(int a1, int a2, int a3, int a4, int a5, float *a6, float *a7, float *a8, int a9);
int __stdcall sub_42DAE2(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_42DC88(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __stdcall sub_42DEB9(int, float, float, float); // idb
int __stdcall sub_42DEF2(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_42E1A6(int a1, int a2, int a3);
int __stdcall sub_42E280(int a1, int a2);
int __stdcall sub_42E33F(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
// _DWORD __thiscall Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::~InitialThreadParam(Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam *__hidden this); idb
int __thiscall sub_42E727(HGDIOBJ *this);
int __thiscall sub_42E746(HGDIOBJ *this, HMODULE hModule, LPCWSTR lpName, int a4, int a5);
int __thiscall sub_42E7D4(int this);
int *__thiscall sub_42E81F(int this);
void *__thiscall sub_42E910(void *this, char a2);
// signed int __usercall sub_42E92C@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<edi>);
signed int __thiscall sub_42E9AD(int this);
int __thiscall sub_42E9D7(int this);
signed int __thiscall sub_42EA45(int this);
int __thiscall sub_42EAFF(int this);
void *__thiscall sub_42EB22(void *this);
signed int __thiscall sub_42EB2E(int this, int a2);
HGDIOBJ __thiscall sub_42EC6F(void *this, HGDIOBJ h, LPCWSTR lpWideCharStr, int cchWideChar, int a5, UINT format, int a7, LPSTR lpMultiByteStr);
signed int __stdcall sub_42F186(int a1, int *a2);
// signed int __usercall sub_42F200@<eax>(int a1@<esi>);
int __stdcall sub_42F270(int a1, int a2, int a3);
signed int __stdcall sub_42F300(int a1);
int __stdcall sub_42F3E0(int a1, int a2, int a3);
_DWORD __stdcall sub_42F4B0(_DWORD); // weak
// signed int __usercall sub_42F4C0@<eax>(int a1@<esi>);
int __stdcall sub_42F630(int a1);
signed int __stdcall sub_42F6E0(int a1);
int __stdcall sub_42F7A0(int a1, int a2);
BOOL sub_42F810();
int sub_42F835();
int sub_42F8E5();
int __stdcall sub_42F98A(DWORD Type); // idb
// signed int __usercall sub_42FA90@<eax>(int a1@<esi>);
// signed int __usercall sub_42FB40@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<esi>);
// signed int __usercall sub_42FE00@<eax>(int a1@<esi>);
// signed int __usercall sub_4300C0@<eax>(int a1@<ebx>);
signed int __stdcall sub_430390(int a1);
signed int __stdcall sub_4305D0(int a1);
// int __usercall sub_4306A0@<eax>(unsigned int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>);
// int __userpurge sub_430880@<eax>(int a1@<eax>, unsigned int a2@<ecx>, int a3@<esi>, int a4);
int __stdcall sub_430920(int a1);
signed int __stdcall sub_430A60(int a1);
signed int __stdcall sub_430B00(int a1);
signed int __stdcall sub_430C10(int a1);
signed int __stdcall sub_430CA0(int a1);
int __stdcall sub_430FB0(int); // weak
signed int __stdcall sub_431030(int a1, int a2);
int __stdcall sub_431130(int); // weak
int __stdcall sub_431160(int a1);
void __stdcall __noreturn sub_4311E0(int a1);
int __stdcall sub_431200(int); // weak
int __stdcall sub_431220(int, int); // weak
int __stdcall sub_431260(int, int); // weak
int __stdcall sub_431310(int); // weak
int __stdcall sub_431330(int a1);
int __thiscall sub_431380(_BYTE *this, int a2, const void *a3);
int __stdcall sub_431409(int a1, int a2, int a3, int a4);
void __cdecl __noreturn sub_431425(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
int (__cdecl *__stdcall sub_431443(int a1, int a2))(int, int);
void __stdcall __noreturn sub_43145A(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
int (__cdecl *__stdcall sub_43147E(int a1, const void *a2))(int, int);
void *__stdcall sub_4314A2(_BYTE *a1, int a2, int a3, int a4);
int __stdcall sub_431596(int *__attribute__((__org_typedef(jmp_buf))) , int); // idb
// unsigned int __userpurge sub_431704@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3);
// int (__cdecl *__userpurge sub_431723@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3, int a4))(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD);
char *__stdcall sub_431AA6(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
int __stdcall sub_431AF1(int a1, void *a2, void *a3);
void __stdcall sub_431C06(void **a1, void **a2, void **a3);
int __stdcall sub_431C83(int a1, int a2, int a3);
int __stdcall sub_431CA0(int a1, int a2);
char __stdcall sub_431CB9(int a1, int a2);
signed int __stdcall sub_431CD2(int a1, int a2, double *a3);
signed int __stdcall sub_431CFE(int a1, int a2, _DWORD *a3);
signed int __stdcall sub_431D2C(int a1, int a2, unsigned int *a3, _DWORD *a4, _DWORD *a5, int *a6, _DWORD *a7, _DWORD *a8, _DWORD *a9);
signed int __stdcall sub_431DFD(int a1, int a2, _DWORD *a3, _DWORD *a4);
signed int __stdcall sub_431E33(int a1, int a2, _DWORD *a3, _DWORD *a4, _DWORD *a5);
int __stdcall sub_431E9C(int a1);
int __stdcall sub_431EA7(int a1);
int __stdcall sub_431EBB(int a1);
signed int __stdcall sub_431ED6(int a1);
int __stdcall sub_431EF2(int a1, unsigned __int8 a2, int a3);
void __stdcall sub_431F41(int a1, int a2);
char __stdcall sub_431F70(int a1, int a2);
int __stdcall sub_432031(int, double, double); // idb
int __stdcall sub_432069(int a1);
unsigned int __stdcall sub_432074(int a1, int a2);
void __stdcall sub_432161(int a1, int a2);
char __stdcall sub_432272(int a1, unsigned __int8 *a2, int a3);
int __stdcall sub_4323EB(int a1, _BYTE *a2);
unsigned int __stdcall sub_432431(int a1, int a2, unsigned int a3, char a4);
int __stdcall sub_43266A(int a1, _BYTE *a2, int a3, int a4, char a5);
int __stdcall sub_4329BA(int a1, int a2, int a3, int a4, signed int a5);
int __stdcall sub_432BC3(int a1, int a2, int a3);
int __stdcall sub_432F16(int a1, _BYTE *a2, int a3, int a4);
void __stdcall sub_433025(int *__attribute__((__org_typedef(jmp_buf))) a1);
void __stdcall sub_433328(int *__attribute__((__org_typedef(jmp_buf))) a1);
void __stdcall sub_43343C(int *__attribute__((__org_typedef(jmp_buf))) a1);
void __stdcall sub_4335D8(int a1, int a2, double a3);
void __stdcall sub_4335F5(int a1, int a2, unsigned int a3, int a4, char a5, char a6, char a7, char a8, char a9);
void __stdcall sub_433696(int a1, int a2, int a3, __int16 a4);
void __stdcall sub_4336BC(int a1, int a2, char a3);
void __stdcall sub_4336D9(int a1, __int64 a2);
void __stdcall sub_433710(int a1, int a2, int a3, signed int a4, int a5);
int __stdcall sub_433759(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
int (__cdecl *__stdcall sub_433782(int a1, int a2, int (__cdecl *a3)(int, int)))(int, int);
int __stdcall sub_4337C0(int a1, unsigned int a2, unsigned int a3);
void *__stdcall sub_43380B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
int __stdcall sub_43385E(int, void *); // idb
int __stdcall sub_433863(int a1);
int __stdcall sub_4338B9(int a1, void *a2);
void *__stdcall sub_4338C9(int a1);
int __stdcall sub_4338F1(int a1, int a2, int a3);
int __stdcall sub_43395A(int a1, int a2, int a3);
int __stdcall sub_43398F(int, int, int); // weak
int __stdcall sub_433A1A(int, int, int); // weak
int __stdcall sub_433A79(int, int, int); // weak
double __stdcall sub_433B12(unsigned int a1);
int __stdcall sub_433B57(int a1, int a2);
char *__stdcall sub_433C21(char *a1, char *a2, char *a3);
char *__stdcall sub_433D04(char *a1, char *a2, char *a3);
int __stdcall sub_433D92(int a1);
// int __usercall sub_433DD7@<eax>(int result@<eax>, unsigned int a2@<ecx>);
int __fastcall sub_433E23(int a1);
// int __usercall sub_433EA1@<eax>(int a1@<eax>, float *a2@<ecx>);
int __fastcall sub_433ED1(int a1);
// float *__userpurge sub_433FDA@<eax>(unsigned int a1@<ebx>, float *a2, float *a3, int a4);
int __stdcall sub_4342F5(int a1, int a2, int a3, int a4);
// int __userpurge sub_434874@<eax>(int a1@<eax>, int a2, int a3);
int __stdcall sub_43509B(int a1, int a2);
int __stdcall sub_4351DB(int a1, unsigned int *a2);
int __stdcall sub_43525E(int a1, int a2);
int __stdcall sub_43539A(int a1, int a2);
int __stdcall sub_4354B2(int a1, int a2);
int __stdcall sub_4355D8(int a1, float *a2);
int __stdcall sub_435A61(int a1, unsigned int *a2);
int __stdcall sub_435A84(int, int); // weak
int __stdcall sub_435AA7(int a1, int a2);
int __stdcall sub_435ADB(int a1, int a2);
char *__stdcall sub_435B0F(int a1, int a2, int a3, int a4, int a5, int a6, char *a7, _DWORD *a8, char *a9, int a10, float *a11, int a12);
int __stdcall sub_435F19(int, int, int, float, int); // idb
int __stdcall sub_435FB6(int a1, int a2, unsigned int a3, float *a4, int a5, int a6, int a7, unsigned int a8);
signed int __fastcall sub_4362F0(int a1, int a2);
signed int __stdcall sub_436370(int a1);
// int __usercall sub_436580@<eax>(int a1@<eax>);
// int __usercall sub_436600@<eax>(int a1@<esi>);
int __stdcall sub_4367A0(int); // weak
int __stdcall sub_4368D0(int); // weak
int __stdcall sub_436900(int a1);
// int __usercall sub_436940@<eax>(int a1@<esi>);
// int __usercall sub_436B20@<eax>(int a1@<esi>);
// int __usercall sub_436CB0@<eax>(int a1@<ebx>);
_DWORD *__stdcall sub_436D50(int a1);
signed int __stdcall sub_436D90(int a1);
int __stdcall sub_436E50(int); // weak
int __stdcall sub_436EA0(int); // weak
int __stdcall sub_436EC0(int a1);
int __stdcall sub_436F10(int a1, signed int a2, unsigned int a3);
int __stdcall sub_437040(int a1, signed int a2, unsigned int a3);
int __thiscall sub_4370F0(void *this, int a2, signed int a3, unsigned int a4, unsigned int a5);
int __thiscall sub_437190(void *this, int a2, signed int a3, int a4, signed int a5);
int __stdcall sub_437230(int a1, signed int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4372A0(int a1, signed int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_437310(int a1);
// int __userpurge sub_4374A0@<eax>(int a1@<esi>, int a2, int a3);
// int __userpurge sub_437540@<eax>(int a1@<esi>, int a2, int a3);
int __stdcall sub_4375E0(int, int, int, int, int); // weak
int __stdcall sub_437700(int, int, int, int, int); // weak
int __stdcall sub_437820(int a1, signed int a2);
int __stdcall sub_437900(int); // weak
_DWORD *__stdcall sub_437940(int a1);
int __stdcall sub_437A00(int a1);
int __stdcall sub_437A40(int a1);
int __stdcall sub_437A60(int a1);
int __stdcall sub_437A80(int a1);
int __cdecl sub_437AA0(int a1);
int __cdecl sub_437C0E(int a1);
int sub_437D72();
int __cdecl sub_437E56(int a1);
int __stdcall sub_4380F0(int a1, signed int a2);
int __stdcall sub_438110(int a1, signed int a2);
const void **__stdcall sub_438130(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_438180(const void *a1, void *a2, int a3);
int __stdcall sub_4381B0(void *a1, unsigned int a2);
signed int __stdcall sub_4381D0(int a1);
signed int __stdcall sub_43820F(int a1);
signed int __stdcall sub_43824C(int a1, int a2, _BYTE *a3, int a4);
signed int __stdcall sub_43832B(int a1, _BYTE *a2, int a3);
signed int __stdcall sub_438341(int a1, int a2);
void *__stdcall sub_4386A4(int a1);
void __stdcall sub_4386E8(void *a1);
void *__stdcall sub_4386FC(int *__attribute__((__org_typedef(jmp_buf))) a1, size_t a2);
void __stdcall sub_438733(int a1, void *a2);
void *__stdcall sub_43874E(int a1, void *a2, const void *a3, unsigned int a4);
// void *__userpurge sub_438773@<eax>(int a1@<ebx>, int a2, void *a3, char a4, unsigned int a5);
int __stdcall sub_4387A6(int a1);
int *__attribute__((__org_typedef(jmp_buf))) __cdecl sub_4387CB(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
int __stdcall sub_4387E2(int *__attribute__((__org_typedef(jmp_buf))) ); // idb
unsigned __int8 __stdcall sub_43883E(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2);
char __stdcall sub_4388A0(int a1, void *a2, int a3);
void __stdcall sub_438AB6(int a1, int a2, int a3, int a4);
char __stdcall sub_438D81(int a1, int a2, _BYTE *a3, unsigned __int8 *a4, int a5);
// void *__userpurge sub_438EFA@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2);
int __stdcall sub_439094(int *__attribute__((__org_typedef(jmp_buf))) , int); // idb
void __stdcall sub_439119(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
void __stdcall sub_4392F9(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
int __stdcall sub_439412(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
void __stdcall sub_439458(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
void __stdcall sub_439559(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3);
void __stdcall sub_43963B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, size_t a3);
int __stdcall sub_4397DC(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // idb
// int __userpurge sub_439822@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2);
int __stdcall sub_439A32(int a1, _BYTE *a2, unsigned int a3);
// int __usercall sub_439B30@<eax>(int a1@<esi>);
int __thiscall sub_439BE0(int this);
// int __usercall sub_439D30@<eax>(int a1@<eax>);
// int __usercall sub_439E10@<eax>(int result@<eax>);
int __stdcall sub_439EC0(int a1, int a2, int a3, int a4);
int __stdcall sub_439F30(int a1, int a2, unsigned int *a3, unsigned int a4);
int __stdcall sub_43A060(int, int); // weak
int __stdcall sub_43A0D0(int a1, int a2);
int __thiscall sub_43A1A0(int this);
int __stdcall sub_43A1F0(int); // weak
signed int __stdcall sub_43A210(int a1, int a2);
// void *__thiscall std::_Ref_count_base::_Get_deleter(std::_Ref_count_base *this, const struct type_info *); idb
signed int __stdcall sub_43A4C0(int a1);
int __stdcall sub_43A700(int a1, int a2);
// signed int __usercall sub_43A890@<eax>(int a1@<ebx>);
int __stdcall sub_43A9E0(int a1, int a2);
signed int __stdcall sub_43B040(int a1);
int __stdcall sub_43B090(int a1, int a2);
int __stdcall sub_43B1D0(int *a1, int a2, signed int a3, int a4);
signed int __stdcall sub_43B4A0(int a1, int a2, signed int a3, signed int a4);
signed int __stdcall sub_43B5C0(int a1, int a2, signed int a3, int a4, signed int a5);
// int __usercall sub_43B6A0@<eax>(int a1@<esi>);
int __stdcall sub_43B710(int a1, int a2);
int __stdcall sub_43BB20(int); // weak
int __stdcall sub_43BC60(int a1);
// int __usercall sub_43BCA0@<eax>(int a1@<ebx>);
int __stdcall sub_43BD10(int a1, int a2);
int __stdcall sub_43BF30(int a1, int *a2);
int __stdcall sub_43C170(int a1, int a2);
int __stdcall sub_43C270(int a1, int *a2);
int __stdcall sub_43C660(int a1);
signed int __stdcall sub_43C8A0(int a1);
int __stdcall sub_43C900(int a1);
int (__stdcall **__stdcall sub_43CD10(int a1))(int a1);
int __stdcall sub_43CD90(int a1, int a2, int a3, int a4, int a5, int *a6, int a7);
int __stdcall sub_43CE10(int, int); // weak
int __stdcall sub_43CE90(int a1, int a2);
int __stdcall sub_43CF00(int); // weak
_DWORD *__stdcall sub_43CF20(int a1, int a2, _DWORD *a3, int a4, int a5, _DWORD *a6, int a7);
int __stdcall sub_43D000(int, int, int, int); // weak
int __stdcall sub_43D010(int, int, int, int); // weak
int __stdcall sub_43D020(int a1, int a2, char **a3, int *a4);
int __stdcall sub_43D120(int, int, int, int); // weak
int __stdcall sub_43D180(int, int, int, int); // weak
// char **__userpurge sub_43D200@<eax>(char **result@<eax>, int a2@<edx>, int a3@<ecx>, int a4);
// int __userpurge sub_43D2C0@<eax>(_DWORD *a1@<eax>, int a2@<ecx>, int a3, int a4);
// int __userpurge sub_43D550@<eax>(int *a1@<eax>, int a2, int a3, _DWORD *a4);
// int __userpurge sub_43D6B0@<eax>(int *a1@<eax>, int a2@<edx>, int a3, int a4);
char **__stdcall sub_43DC80(int a1, int a2, int a3, char **a4);
int __stdcall sub_43DD00(int a1, int a2, _DWORD *a3, int *a4);
int __stdcall sub_43DD80(int a1);
// int __usercall sub_43DF70@<eax>(int a1@<eax>);
_BYTE *__stdcall sub_43E040(int a1, int a2, int a3, int *a4, int a5);
unsigned int *__stdcall sub_43E170(int a1, int a2, int a3, int *a4, int a5);
int __stdcall sub_43E2E0(int, int, int, int, int); // weak
int __stdcall sub_43E370(int, int, int, int, int); // weak
int __stdcall sub_43E3A0(int, int, int, int, int); // weak
int __stdcall sub_43E400(int a1, int a2, int a3, int *a4, int a5);
// unsigned int __usercall sub_43E570@<eax>(int a1@<eax>);
char *__stdcall sub_43F1D0(int a1, int a2, int a3, int *a4, int a5);
_BYTE *__stdcall sub_43F3B0(int a1, int a2, int a3, int *a4, int a5);
int __stdcall nullsub_1(int); // weak
int __stdcall sub_43F5F0(int a1);
// int __usercall sub_43F7C0@<eax>(int a1@<eax>);
int __stdcall sub_43F890(int); // weak
int __stdcall sub_43F8B0(int, int, int, int, int, int, int); // weak
int __stdcall sub_43F980(int, int, int, int, int, int, int); // weak
int __stdcall sub_43F9C0(int a1, int a2, int a3, int *a4);
// int __userpurge sub_43FB10@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4);
// char __userpurge sub_43FD40@<al>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, _DWORD *a4);
int __stdcall sub_440250(int, int, int, int); // weak
int __stdcall sub_440290(int a1);
char *__stdcall sub_440310(int a1, int a2);
void __stdcall sub_440340(int a1, int a2, int a3);
int __stdcall sub_440360(int a1, int a2, int a3, int a4);
int __stdcall sub_440380(int, int, int, int, int); // weak
int __stdcall sub_4403E0(int, int, int, int, int); // weak
int __stdcall sub_440440(int, int); // weak
FILE *__stdcall sub_440460(_DWORD *a1, int a2, int a3);
signed int __stdcall sub_4404B0(int a1);
int __stdcall sub_4404C0(int a1, int a2, int a3);
int __stdcall sub_440539(int a1, int a2);
__m128 *__stdcall sub_4405D3(__m128 *a1, int a2);
__m128 *__stdcall sub_440651(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_440713(int a1, int a2);
int __thiscall sub_44083D(int this, int a2);
int __stdcall sub_4409B7(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_440BBD(int a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_440D4B(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_440EB1(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_440FC1(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_4411FF(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_4413CF(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_441600(int a1, int a2, int a3, double *a4, int a5, int a6, int a7, double **a8, unsigned int a9, int a10, float *a11, int a12);
void sub_441B58();
// int __userpurge sub_441C82@<eax>(__m128 a1@<xmm0>, __m128 a2@<xmm3>, int a3, int a4, unsigned int a5);
__m128 *__stdcall sub_441D56(__m128 *a1, int a2, int a3);
double *__stdcall sub_441D94(double *a1, int a2, int a3);
double *__stdcall sub_441DEB(double *a1, int a2, int a3);
__m128 *__stdcall sub_441E22(__m128 *a1, __m128 *a2, int a3);
int __stdcall sub_441EEE(int a1, int a2, int a3);
int __stdcall sub_442022(int a1, _DWORD *a2, int a3);
__m128 *__stdcall sub_44231E(__m128 *a1, int a2, int a3, int a4);
int __stdcall sub_4423DE(int a1, int a2);
// int __userpurge sub_442478@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8);
// double *__userpurge sub_44252A@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, double *a3, __int64 *a4, const double *a5, __int64 *a6, const double *a7, float a8);
// __m128 *__userpurge sub_4425AF@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8);
// int __userpurge sub_442654@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8);
// __m128 *__userpurge sub_442707@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8);
// double *__userpurge sub_4427A1@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 a3@<xmm3>, double *a4, __int64 *a5, const double *a6, __int64 *a7, const double *a8, float a9);
int __stdcall sub_442827(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
__m128 *__stdcall sub_442884(__m128 *a1, __m128 *a2, __m128 *a3, __m128 *a4, unsigned int a5, unsigned int a6);
double *__stdcall sub_4428CD(double *a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6);
// int __userpurge sub_44291F@<eax>(__m128 a1@<xmm5>, __m128 a2@<xmm6>, int a3, __m128 *a4, int a5, int a6);
double __stdcall sub_4429CD(int a1);
__m128 *__stdcall sub_442AD8(__m128 *a1, int a2, int a3, int a4);
int __stdcall sub_442BD8(int a1, int a2);
int __stdcall sub_442CE4(int a1, int a2, int a3);
int __stdcall sub_442DB9(int a1, int a2, int a3);
int __stdcall sub_442EBC(int a1, __m128 *a2, __m128 *a3);
int __stdcall sub_443083(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_443289(int a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_443417(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
double *__stdcall sub_44357D(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_44368D(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6);
int __stdcall sub_4438CB(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_443A9B(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
void sub_443CCC();
// int __userpurge sub_443DBD@<eax>(__m128 a1@<xmm3>, int a2, int a3, unsigned int a4);
__m128 *__stdcall sub_443E8F(__m128 *a1, int a2, int a3, int a4);
__m128 *__stdcall sub_443F4F(__m128 *a1, int a2, int a3, int a4);
int __stdcall sub_44404F(int a1, int a2);
__m128 *__stdcall sub_44415B(__m128 *a1, int a2, int a3);
int __stdcall sub_44422F(int a1, int a2);
int __stdcall sub_44431F(int a1, int a2);
int __stdcall sub_444434(int a1, int a2, int a3);
int __stdcall sub_444668(int a1, __m128 *a2, __m128 *a3);
__m128 *__stdcall sub_44482F(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_4448F1(int a1, int a2);
__m128 *__stdcall sub_444A40(__m128 *a1, int a2, int a3, int a4, int a5, int a6);
__m128 *__stdcall sub_444B00(__m128 *a1, int a2, int a3, int a4, int a5, int a6);
__m64 *__stdcall sub_444BC0(__m64 *a1, int a2, double *a3, int a4, int a5, signed int a6);
double *__stdcall sub_444E20(double *a1, int a2, double *a3, int a4, int a5, signed int a6);
double *__stdcall sub_445080(double *a1, int a2, double *a3, int a4, int a5, signed int a6);
__m128 *__stdcall sub_445240(__m128 *a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_4452E0(int a1, int a2, int a3, int a4, int a5, signed int a6);
char *__stdcall sub_445600(char *a1, int a2, __m64 *a3, int a4, int a5, signed int a6);
int __stdcall sub_44587C(int a1, __m64 *a2, int a3);
int __stdcall sub_445915(int a1, int a2);
void __stdcall sub_445972(int a1, int a2, _DWORD *a3);
int __stdcall sub_4459B6(int a1, __m64 *a2);
int __stdcall sub_445BD2(int a1, __m64 *a2);
int __stdcall sub_445DE7(int, int, int, int); // weak
__m64 *__stdcall sub_445EAC(__m64 *a1, __m64 *a2, unsigned int a3);
__m64 *__stdcall sub_445F18(__m64 *a1, int a2, int a3, unsigned int a4);
__m64 *__stdcall sub_44604F(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_4460DC(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_44616E(int a1, int a2);
int __stdcall sub_4461D2(int a1, int a2);
// int __userpurge sub_446279@<eax>(unsigned int a1@<esi>, int a2, __m64 *a3);
// int __userpurge sub_44631E@<eax>(unsigned int a1@<esi>, int a2, int a3, int a4, int a5, int a6, int a7, int a8);
int __stdcall sub_446D57(int a1, int a2, __m64 *a3);
double __stdcall sub_446F89(int a1);
int __stdcall sub_447058(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_4470A8(int a1, __m64 *a2, int a3);
int __stdcall sub_447193(int a1, int a2);
int __stdcall sub_44726F(int a1, unsigned int a2);
int __stdcall sub_4472D2(int a1, unsigned int a2);
int __stdcall sub_447330(int a1, unsigned int a2);
int __stdcall sub_447389(int a1, unsigned int a2, unsigned int a3, unsigned int a4);
int __stdcall sub_4473D0(int a1, __m64 *a2);
int __cdecl sub_44743F(int a1);
int __stdcall sub_447478(int a1, int a2);
int __stdcall sub_44754A(int a1, __m64 *a2);
int __stdcall sub_4475FF(int a1, __m64 *a2, int a3, __m64 *a4, __m64 *a5, int a6, __m64 *a7);
// int __userpurge sub_448797@<eax>(int a1@<ebp>, int a2, int a3, int a4, int a5);
int __stdcall sub_44893C(int a1, unsigned int a2, __m64 *a3, int a4, __m64 *a5);
int __stdcall sub_448E70(int a1, __m64 *a2, unsigned int a3);
int __stdcall sub_448F89(int a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, __m64 *a6, __m64 *a7);
int __stdcall sub_44A0DD(int a1, _DWORD *a2, int a3);
int __stdcall sub_44A3BF(int a1, int a2, __m64 *a3);
int __stdcall sub_44A7B7(int a1, _DWORD *a2, int a3);
int __stdcall sub_44AAEB(int a1, _DWORD *a2, int a3);
int __stdcall sub_44AB07(int, int, int); // weak
__m64 *__stdcall sub_44AB78(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_44ABDF(__m64 *a1, __m64 *a2);
__m64 *__stdcall sub_44AC3E(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_44ACAF(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
__m64 *__stdcall sub_44AD83(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
__m64 *__stdcall sub_44AE6D(__m64 *a1, __m64 *a2, int a3);
// int __userpurge sub_44AEF8@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, int a3, __m64 *a4, int a5);
_DWORD __stdcall sub_44B0BF(_DWORD, _DWORD, _DWORD); // weak
// __m64 *__userpurge sub_44B0C4@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8);
// __m64 *__userpurge sub_44B24C@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8);
// __m64 *__userpurge sub_44B472@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8);
int __stdcall sub_44B600(int a1, int a2, signed int a3);
int __stdcall sub_44B740(int a1, int a2, signed int a3);
__m64 *__stdcall sub_44B8BB(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_44B910(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_44B949(__m64 *a1, __m64 *a2, int a3);
__m64 *__stdcall sub_44B9AD(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
__m64 *__stdcall sub_44BA45(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_44BA8E(__m64 *a1, __m64 *a2);
__m64 *__stdcall sub_44BAD1(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6);
int __stdcall sub_44BB7C(int, int, int); // weak
int __stdcall sub_44BBFE(int, int); // weak
int __stdcall sub_44BC5D(int a1, __m64 *a2, int a3, int a4);
__m64 *__stdcall sub_44BD8F(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6);
__m64 *__stdcall sub_44BE00(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_44BEC8(int a1, int a2, int a3, int a4, int a5, unsigned int a6);
int __stdcall sub_44BFA6(int, int, int); // weak
int __stdcall sub_44BFE9(int, int, int, int); // weak
int __stdcall sub_44C0CD(int, int, int, int); // weak
int __stdcall sub_44C18B(int a1, int a2);
__m64 *__stdcall sub_44C1EF(__m64 *a1, int a2, int a3);
int (__stdcall *__stdcall sub_44C26D(int a1, int a2, _DWORD *a3))(_DWORD, _DWORD, _DWORD);
int __stdcall sub_44C2D3(int a1, int a2, int a3);
int __stdcall sub_44C351(int a1, int a2, int a3);
int __stdcall sub_44CA9D(int a1, int a2);
int __stdcall sub_44CAD0(unsigned int a1, _BYTE *a2, unsigned int a3);
LPVOID __stdcall sub_44CBEB(int a1, int a2, int a3);
int __stdcall sub_44CC07(int, LPVOID lpMem); // idb
int __stdcall sub_44CC20(int, int, int, int, int); // weak
char *__stdcall sub_44DD30(int a1, int a2, int a3, int a4, int a5);
char *__stdcall sub_44E780(int a1, int a2, int a3, int a4, int a5);
int __stdcall sub_44F470(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_44F8E0(int, int, int, int, int); // weak
int __stdcall sub_44F930(int a1, int a2, __m64 *a3, int a4, int a5, int a6);
int __stdcall sub_44FFF0(int, int, int, int, int); // weak
// char __userpurge sub_450040@<al>(int a1@<ebp>, int a2, int a3, int a4, int a5, int a6);
char __stdcall sub_450700(int a1, int a2, int a3, int a4, int a5);
int __stdcall sub_4508D0(int a1, int a2, _WORD *a3, int *a4, int a5);
unsigned int *__stdcall sub_450920(unsigned int a1, unsigned int *a2, unsigned int *a3, unsigned int *a4, int a5);
__m128 *__stdcall sub_450A60(__m128 *a1, __m128 *a2, __m128 *a3);
__m128 *__stdcall sub_450C49(__m128i *a1, __m128 *a2, __m128 *a3);
void sub_450E80();
void sub_450F80();
void sub_451180();
// unsigned int __usercall sub_451560@<eax>(__m64 a1@<mm0>);
// unsigned int __usercall sub_451660@<eax>(__m64 a1@<mm0>);
int __stdcall sub_451A18(char a1, char a2, int a3, int a4, int a5);
int __stdcall sub_451A4B(int a1, int a2, int a3);
int __stdcall sub_451FA2(int a1, int a2);
// signed int __userpurge sub_451FB3@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, _DWORD *a7, int a8, unsigned int *a9, unsigned int *a10);
signed int __stdcall sub_452332(_DWORD *a1, unsigned int *a2, _DWORD *a3, int a4, int a5);
signed int __stdcall sub_4523AB(unsigned int a1, unsigned int a2, _DWORD *a3, unsigned int *a4, unsigned int *a5, _DWORD *a6, _DWORD *a7, int a8, int a9);
int __stdcall sub_4524A5(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, int a5);
int __stdcall sub_4524D6(int a1, int a2, int a3);
signed int __stdcall sub_4525E7(int a1, int a2, int a3, int a4, int a5, int a6);
// void *__cdecl operator new(size_t); idb
void __cdecl j__free(void *);
void *__cdecl operator new(size_t); // idb
char **sub_4528F5();
// int __cdecl ATL::Checked::tcsncpy_s(ATL::Checked *this, char *, unsigned int, const char *, unsigned int); idb
// void __stdcall AfxThrowOleException(__int32); idb
// int __cdecl ATL::AtlCrtErrorCheck(int); idb
int __thiscall sub_452AC0(void *this);
char **sub_452B37();
char **sub_452B3D();
char **sub_452B43();
// int unknown_libname_94(void); weak
// int unknown_libname_96(void); weak
// int CException::CException(void); weak
// struct CWinThread *__stdcall AfxGetThread(); idb
// _DWORD __thiscall CWinThread::~CWinThread(CWinThread *__hidden this); idb
int sub_452EB4();
char **sub_452F54();
void *__thiscall sub_453131(void *this, char a2);
// int CWinThread::CWinThread(void); weak
// int __thiscall CThreadLocal<AFX_MODULE_THREAD_STATE>::GetData(_DWORD); weak
// struct CWinThread *__stdcall AfxBeginThread(unsigned int (__cdecl *)(void *), void *, int nPriority, unsigned int, unsigned __int32, struct _SECURITY_ATTRIBUTES *); idb
void *sub_453767();
int (**sub_453878())();
bool __thiscall sub_453944(int *this, int a2);
char **sub_453D03();
HMODULE __cdecl sub_453D40(int a1, LCID Locale);
int __thiscall sub_453EFC(_DWORD *this, int a2, int a3);
int __thiscall sub_453F39(_DWORD *this, int a2, int a3);
_DWORD *__thiscall sub_454326(_DWORD *this, char *a2);
// _DWORD __thiscall CWinApp::~CWinApp(CWinApp *__hidden this); idb
void *__thiscall sub_4545EF(void *this, char a2);
int __stdcall sub_45469D(int a1, int a2);
int __stdcall sub_4546AD(int a1, int a2);
// int __stdcall AfxActivateActCtxWrapper(_DWORD, _DWORD); weak
// struct _AFX_THREAD_STATE *__stdcall AfxGetThreadState(); idb
int __thiscall sub_454A25(int this, int a2);
// struct AFX_MODULE_STATE *__stdcall AfxGetModuleState(); idb
// _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD); weak
signed int __stdcall sub_45517E(int a1);
int sub_455184();
void *sub_45518F();
void *sub_455195();
void *sub_45519B();
signed int sub_4551CF();
void *sub_4551D3();
void *sub_4551DE();
// _DWORD __thiscall CCmdUI::CCmdUI(CCmdUI *__hidden this); idb
BOOL __thiscall sub_455274(int this, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem);
// void __thiscall CCmdTarget::BeginWaitCursor(CCmdTarget *__hidden this); idb
void *sub_4552F5();
void __thiscall sub_4553FF(int this, LPCSTR lpNewItem);
// _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD); weak
// int __thiscall unknown_libname_102(_DWORD); weak
// int __cdecl ATL::CSimpleStringT<char,0>::Concatenate(int, void *Src, rsize_t DstSize, void *, rsize_t MaxCount); idb
int __cdecl sub_455694(int, int, char *); // idb
// int __cdecl CWinApp::ShowAppMessageBox(struct CWinApp *, const char *, UINT uType, unsigned int); idb
// int __stdcall AfxMessageBox(const char *, UINT uType, unsigned int); idb
int __thiscall sub_455E47(struct CWinApp *, char *, UINT uType, unsigned int); // idb
// int __stdcall AfxMessageBox(unsigned int, UINT uType, unsigned int); idb
signed int __stdcall sub_4560BC(int a1);
char **sub_45626C();
int __thiscall sub_456272(int this, int a2, int a3);
// int unknown_libname_110(void); weak
// void __thiscall CFrameWnd::OnClose(CFrameWnd *__hidden this); idb
// _DWORD __thiscall type_info::~type_info(type_info *__hidden this); idb
int __thiscall sub_457986(int this, int a2);
void *__thiscall sub_4579B4(void *this, char a2);
void *__thiscall sub_4579D0(void *this, char a2);
// _DWORD __stdcall unknown_libname_113(_DWORD, _DWORD); weak
void *__thiscall sub_457C8B(void *this, char a2);
int __thiscall sub_457F2F(int this, int a2);
void __thiscall sub_457F58(int this, CArchive *a2);
// int CFrameWnd::CFrameWnd(void); weak
// _DWORD __thiscall CFrameWnd::~CFrameWnd(CFrameWnd *__hidden this); idb
void *__thiscall sub_45871E(void *this, char a2);
// _DWORD __thiscall CChevronOwnerDrawMenu::~CChevronOwnerDrawMenu(CChevronOwnerDrawMenu *__hidden this); idb
// int __thiscall CFrameWnd::Create(CFrameWnd *this, const char *, const char *, unsigned __int32, const struct tagRECT *, struct CWnd *, LPCSTR lpMenuName, unsigned __int32, struct CCreateContext *); idb
int (**sub_458E37())();
int __thiscall sub_459948(char *this);
int __thiscall sub_459968(int this, struct tagPOINT Point, int a3);
// __int32 __thiscall CWnd::WindowProc(CWnd *this, unsigned int, unsigned int, __int32); idb
CCmdUI *__thiscall sub_459A5F(CCmdUI *this);
void **sub_459B42();
signed int __stdcall sub_459B7D(int a1, int a2, int a3, int a4);
char **sub_459EAF();
// HWND __cdecl AfxCtxCreateWindowExA(DWORD dwExStyle, LPCSTR lpClassName, LPCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, void *lpParam); idb
HMODULE __cdecl sub_45A08B(LPCSTR lpLibFileName);
// int CWnd::CWnd(void); weak
BOOL __thiscall sub_45A380(int this);
void *__thiscall sub_45A395(void *this, char a2);
unsigned __int32 __stdcall sub_45A45E(int a1);
unsigned __int32 __stdcall sub_45A4A6(int a1);
int __stdcall sub_45A6E8(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45A742(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45A79C(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45A7F6(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45A850(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45A907(int a1, int a2, int a3, int a4, int a5, int a6);
unsigned __int32 __stdcall sub_45ACD0(int a1);
unsigned __int32 __stdcall sub_45AD18(int a1);
// int __thiscall CWnd::UpdateData(CWnd *this, int); idb
// struct CWnd *__stdcall CWnd::FromHandle(HWND); idb
// int __stdcall AfxUnhookWindowCreate(); idb
// int __thiscall CWnd::DestroyWindow(CWnd *__hidden this); idb
// void __thiscall CWnd::OnPaint(CWnd *__hidden this); idb
_DWORD *sub_45BBE3();
// _DWORD __thiscall CWnd::~CWnd(CWnd *__hidden this); idb
int __stdcall sub_45C169(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C1A7(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C1E5(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C223(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C261(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C29F(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C2DD(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C31B(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_45C362(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C3FE(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C43C(int a1, int a2, int a3, int a4, int a5, int a6);
int __stdcall sub_45C46C(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9);
int __stdcall sub_45C4C3(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
int __stdcall sub_45C53A(int a1, int a2, int a3, int a4, int a5);
int __thiscall sub_45C65D(void *this, int a2);
void *__thiscall sub_45C67E(void *this, char a2);
// _DWORD __stdcall unknown_libname_129(_DWORD, _DWORD, _DWORD, _DWORD); weak
// struct CWnd *__thiscall CWnd::GetTopLevelParent(CWnd *__hidden this); idb
int __stdcall sub_45CA5A(int a1, int a2);
signed int __stdcall sub_45CA5F(int a1, int a2);
// int CMFCComObject<ATL::CAccessibleProxy>::~CMFCComObject<ATL::CAccessibleProxy>(void); weak
// _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::AddRef(_DWORD); weak
// _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::Release(_DWORD); weak
void *__thiscall sub_45CBB1(void *this, char a2);
int __stdcall sub_45CBCD(int a1);
int __stdcall sub_45CBE1(int a1);
int __stdcall sub_45CBF5(int a1);
int __stdcall sub_45CBFF(int a1);
// void __stdcall AfxHookWindowCreate(struct CWnd *); idb
int __thiscall sub_45D0E7(struct CWnd *, int, int, int, int, int, int, int, int, int, int, int); // idb
// void __thiscall CWnd::PrepareForHelp(CWnd *this); idb
// _DWORD __thiscall CWaitCursor::~CWaitCursor(CWaitCursor *__hidden this); idb
int __thiscall sub_45DADF(CWnd *this, ULONG_PTR dwData, UINT uCommand);
int __thiscall sub_45DB54(CWnd *this, int a2, int a3);
int (**sub_45DCD2())();
// int __stdcall AfxEndDeferRegisterClass(__int32); idb
signed int __stdcall sub_45E292(int a1);
int __thiscall sub_45E351(int this);
int __thiscall sub_45E3D8(int this);
// _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD); weak
// void __thiscall CDialog::OnOK(CDialog *this); idb
char **sub_45E46F();
// int __thiscall CDialog::PreTranslateMessage(CDialog *this, struct tagMSG *); idb
void *__thiscall sub_45E59D(void *this, char a2);
// int __thiscall CDialog::OnInitDialog(CDialog *this); idb
int (**sub_45E874())();
// int __thiscall CDialog::DoModal(CDialog *__hidden this); idb
// int __thiscall CDialog::CreateIndirect(CDialog *this, const struct DLGTEMPLATE *, struct CWnd *, void *, HINSTANCE); idb
// int __thiscall CDialog::CreateIndirect(CDialog *this, HGLOBAL hResData, struct CWnd *, HINSTANCE); idb
int __thiscall sub_45EC8B(CDialog *this, struct DLGTEMPLATE *a2, struct CWnd *a3, void *a4);
// int __thiscall CDialog::Create(CDialog *this, LPCSTR lpName, struct CWnd *); idb
int __thiscall sub_45ECFB(CDialog *this, HGLOBAL hResData, struct CWnd *a3);
int __thiscall sub_45ED2F(CWnd *this);
int __thiscall sub_45EDA3(CWnd *this);
int __thiscall sub_45EDF5(CWnd *this);
int __thiscall sub_45EE80(CWnd *this);
char **sub_45EEB1();
char **sub_45EEB7();
char **sub_45EEBD();
char **sub_45EEC3();
// void __thiscall CWinApp::SetRegistryKey(CWinApp *this, const char *); idb
// unsigned int __thiscall CWinApp::GetProfileIntA(CWinApp *this, DWORD cbData, LPCSTR lpValueName, int); idb
// int __thiscall CWinApp::WriteProfileInt(CWinApp *this, LPCSTR lpAppName, LPCSTR lpValueName, int); idb
// int __thiscall CWinApp::WriteProfileStringA(CWinApp *this, LPCSTR lpSubKey, LPCSTR lpValueName, const char *); idb
// int __stdcall CWinApp::GetProfileStringA(int, LPCSTR lpAppName, LPCSTR lpValueName, int); idb
_DWORD *__thiscall sub_45F5F1(_DWORD *this);
char **sub_45F603();
char **sub_45F609();
// int __thiscall CAsyncSocket::Create(CAsyncSocket *this, u_short hostshort, int type, __int32, const char *cp); idb
int (**sub_45FDF2())();
// int __stdcall AfxSocketInit(LPWSADATA lpWSAData); idb
// _DWORD __thiscall CAsyncSocket::~CAsyncSocket(CAsyncSocket *__hidden this); idb
// int CSocket::CSocket(void); weak
// _DWORD __thiscall CSocket::~CSocket(CSocket *__hidden this); idb
void *__thiscall sub_46018D(void *this, char a2);
void *__thiscall sub_4601A9(void *this, char a2);
// void __thiscall CWnd::MoveWindow(CWnd *this, int X, int Y, int nWidth, int nHeight, int); idb
// int __thiscall CWnd::ShowWindow(CWnd *this, int); idb
// int __thiscall CWnd::EnableWindow(CWnd *this, int); idb
// int __thiscall CWnd::SetWindowPos(CWnd *this, HWND hWndInsertAfter, int X, int Y, int, int cy, unsigned int); idb
int __thiscall sub_4605A7(int this, int iMode);
int __thiscall sub_4605D5(int this, LPRECT lprect);
char **sub_4605E5();
char **sub_4605EB();
void ***sub_4605F1();
char **sub_4605F7();
char **sub_4605FD();
char **sub_460603();
char **sub_460609();
char **sub_46060F();
char **sub_460615();
char **sub_46061B();
// int unknown_libname_148(void); weak
BOOL __thiscall sub_460699(int this, int x, int y);
BOOL __thiscall sub_4606AD(int this, RECT *lprect);
BOOL __thiscall sub_4606BD(int this, int x, int y, LPCSTR lpString, int c);
int __thiscall sub_460736(int this, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format);
int __thiscall sub_4607A1(int this, int iEscape, int cjIn, LPCSTR pvIn, LPVOID pvOut);
void __stdcall sub_460A12(struct CObject *); // idb
// int __thiscall CDC::Attach(CDC *this, HDC); idb
// HDC __thiscall CDC::Detach(CDC *__hidden this); idb
// _DWORD __thiscall CDC::~CDC(CDC *__hidden this); idb
CDC *__thiscall sub_460B60(int this, int a2);
int __thiscall sub_460BB4(CDC *this);
CDC *__thiscall sub_460BEF(int this, int a2);
int __thiscall sub_460C43(CDC *this);
// _DWORD __thiscall CPaintDC::~CPaintDC(CPaintDC *__hidden this); idb
// int __thiscall CGdiObject::Attach(CGdiObject *this, void *); idb
// int __thiscall CGdiObject::DeleteObject(CGdiObject *__hidden this); idb
void *__thiscall sub_460E46(void *this, char a2);
void *__thiscall sub_460EFB(void *this, char a2);
void *__thiscall sub_460F17(void *this, char a2);
void *__thiscall sub_460F33(void *this, char a2);
void *__thiscall sub_4614FD(void *this, char a2);
int __stdcall nullsub_2(int); // weak
char **sub_461522();
void __stdcall sub_46155B(struct CObject *); // idb
// struct CMenu *__stdcall CMenu::FromHandle(HMENU); idb
// int __thiscall CMenu::DestroyMenu(CMenu *__hidden this); idb
void *__thiscall sub_461852(void *this, char a2);
int __stdcall sub_461D3D(int a1, int a2, int a3, int a4);
char **sub_461D42();
void __thiscall sub_461ECE(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToLockLow, DWORD nNumberOfBytesToLockHigh);
void __thiscall sub_461F01(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToUnlockLow, DWORD nNumberOfBytesToUnlockHigh);
// unsigned int __stdcall AfxGetFileTitle(LPCSTR, LPSTR Buf, WORD cchSize); idb
// int __thiscall CFile::CFile(_DWORD); weak
int __stdcall sub_462104(unsigned int a1, void *a2);
// int unknown_libname_152(void); weak
void *__thiscall sub_462287(void *this, char a2);
void *__thiscall sub_462480(void *this, int a2, int a3, char *a4);
// void __stdcall DDX_Check(HWND hWnd, int nIDDlgItem, int *); idb
// void __stdcall DDX_Control(struct CDataExchange *, HWND, HWND); idb
// HWND __thiscall CDataExchange::PrepareEditCtrl(CDataExchange *this, int); idb
// int __stdcall unknown_libname_155(struct CDataExchange *, int, int); idb
void __stdcall sub_4629F1(CDataExchange *a1, int a2, int a3);
int __thiscall sub_462AAA(CWnd *this);
char **sub_462ADB();
char **sub_462AE1();
// void __thiscall CSliderCtrl::SetRange(CSliderCtrl *this, LPARAM lParam, LPARAM, int); idb
void __stdcall sub_462B64(struct CObject *); // idb
// _DWORD __thiscall CImageList::~CImageList(CImageList *__hidden this); idb
void *__thiscall sub_462E13(void *this, char a2);
// int __thiscall CFont::CreatePointFont(CFont *this, int, const char *, struct CDC *); idb
char **sub_46303F();
// unsigned __int32 __thiscall CCmdTarget::ExternalAddRef(CCmdTarget *__hidden this); idb
// unsigned __int32 __thiscall CCmdTarget::ExternalRelease(CCmdTarget *__hidden this); idb
// _DWORD __thiscall AUX_DATA::~AUX_DATA(AUX_DATA *__hidden this); idb
// int __stdcall unknown_libname_158(SIZE_T uBytes); idb
// void __stdcall CNoTrackObject::operator delete(void *); idb
// _DWORD __thiscall CProcessLocalObject::~CProcessLocalObject(CProcessLocalObject *__hidden this); idb
// _DWORD __thiscall CThreadLocalObject::~CThreadLocalObject(CThreadLocalObject *__hidden this); idb
// _DWORD __stdcall unknown_libname_164(_DWORD, _DWORD); weak
// void __cdecl ATL::Checked::memmove_s(ATL::Checked *this, rsize_t DstSize, void *Src, rsize_t MaxCount, unsigned int); idb
// void __thiscall CArchive::WriteCount(CArchive *this, unsigned __int32); idb
// unsigned __int32 __thiscall CArchive::ReadCount(CArchive *this); idb
char **sub_46447C();
int __thiscall sub_464482(int this, ATL::Checked *a2, char *a3, int a4);
void *__thiscall sub_464539(void *this, int a2, char *a3);
void __cdecl __noreturn sub_4645A5(int a1, char *a2);
// void __stdcall AfxSetWindowText(HWND hWnd, LPCSTR lpString); idb
// HWND __stdcall _AfxChildWindowFromPoint(HWND hWnd, struct tagPOINT Point); idb
// _DWORD __stdcall unknown_libname_168(_DWORD, _DWORD); weak
// int sub_4649A2(void); weak
int __thiscall sub_4649CD(int this, _DWORD *a2);
// _DWORD __stdcall unknown_libname_169(_DWORD, _DWORD, _DWORD); weak
signed int __thiscall sub_464A5E(void *this, int a2, _DWORD *a3);
signed int __thiscall sub_464A85(int this, unsigned int a2);
char **sub_464B43();
_DWORD *__thiscall sub_464B49(_DWORD *this, signed int a2);
int __thiscall sub_464B77(void *this);
// struct CMapPtrToPtr::CAssoc *__thiscall CMapPtrToPtr::NewAssoc(CMapPtrToPtr *__hidden this); idb
struct CMapPtrToPtr::CAssoc *__thiscall sub_464BD0(CMapPtrToPtr *this, int a2);
void *__thiscall sub_464C25(void *this, char a2);
// int unknown_libname_170(void); weak
// _DWORD __stdcall unknown_libname_171(_DWORD); weak
int __thiscall sub_464C89(int this);
char **sub_464CBA();
int __thiscall sub_464CC0(int this, int a2);
int __thiscall sub_464CE3(void *this);
// _DWORD __stdcall unknown_libname_172(_DWORD, _DWORD); weak
int __thiscall sub_464D47(int this, int a2);
void *__thiscall sub_464D70(void *this, char a2);
void *__thiscall sub_464E72(void *this, char *a2, int a3);
char **sub_46516D();
int __thiscall sub_46518B(int this);
void __thiscall sub_4651A2(int this);
int __thiscall sub_4651B2(int this, int a2, int a3);
void *__thiscall sub_46525F(void *this, char a2);
// int __thiscall CFile::GetStatus(CFile *this, struct CFileStatus *); idb
void *__thiscall sub_465A81(CFile *this, void *a2);
void *__thiscall sub_465B2A(CFile *this, void *a2);
// int __stdcall CFileException::OsErrorToException(__int32); idb
char **sub_465ECE();
int __thiscall sub_465ED4(int this, ATL::Checked *a2, char *a3, int a4);
void __cdecl __noreturn sub_465F88(int a1, int a2, char *a3);
void __stdcall sub_465FCE(__int32 a1, char *a2);
// unsigned int __stdcall AfxGetFileName(const char *, char *, unsigned int); idb
// int __stdcall AfxFormatStrings(_DWORD, _DWORD, _DWORD, _DWORD); weak
int __stdcall sub_466372(int a1, unsigned int a2, int a3, int a4);
int __stdcall sub_4663C9(int a1, unsigned int a2, char a3);
char **sub_466464();
void __thiscall sub_466481(int this);
void *__thiscall sub_466634(void *this, char a2);
int __thiscall sub_466664(int this);
// _DWORD __stdcall CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(_DWORD, _DWORD); weak
// _DWORD __thiscall type_info::~type_info(type_info *__hidden this); idb
void *__thiscall sub_466867(void *this, char a2);
// int __stdcall SerializeElements<enum  CArchive::LoadArrayObjType>(CArchive *, int, void *Src); idb
int __thiscall sub_466D7A(int this, CArchive *a2);
char **sub_466FA8();
int __thiscall sub_466FAE(int this);
void __thiscall sub_466FC5(int this);
// _DWORD __stdcall unknown_libname_176(_DWORD, _DWORD); weak
int __thiscall sub_4670F9(int this, int a2, int a3, int a4);
void *__thiscall sub_46719D(void *this, char a2);
void __cdecl sub_467580(char a1);
__int32 __cdecl j__atol(const char *);
// void *__cdecl memset(void *, int, size_t);
void __thiscall sub_46784A(struct type_info *this);
void *__thiscall sub_467858(void *this, char a2);
// int __cdecl strncmp(const char *, const char *, size_t);
// int __cdecl strcmp(const char *, const char *);
// void *__cdecl malloc(size_t);
// void __cdecl free(void *);
// void *__cdecl memcpy(void *, const void *, size_t);
// char *__cdecl strcpy(char *, const char *);
// size_t __cdecl strlen(const char *);
// int sprintf(char *, const char *, ...);
// int _snprintf_s(char *DstBuf, size_t SizeInBytes, size_t MaxCount, const char *Format, ...);
// char *__cdecl strncpy(char *, const char *, size_t);
int __cdecl sub_468833(FILE *, int, char); // idb
void **sub_468982();
// _DWORD __cdecl _lock_file(_DWORD); weak
// _DWORD __cdecl _lock_file2(_DWORD, _DWORD); weak
// _DWORD __cdecl _unlock_file(_DWORD); weak
// _DWORD __cdecl _unlock_file2(_DWORD, _DWORD); weak
// _DWORD __thiscall _LocaleUpdate::_LocaleUpdate(_LocaleUpdate *this, struct localeinfo_struct *); idb
// unsigned __int8 *__cdecl _mbsstr(const unsigned __int8 *, const unsigned __int8 *);
// _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD); weak
int __cdecl sub_468D41(int a1);
// int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD); weak
int __thiscall sub_468E7B(int this);
// _DWORD __thiscall std::exception::exception(std::exception *this, const char *const *); idb
// _DWORD __thiscall std::exception::exception(std::exception *this, const struct std::exception *); idb
void __thiscall sub_468F32(int this);
void *__thiscall sub_468F55(void *this, char a2);
signed int __cdecl sub_46901A(_DWORD *a1);
signed int __cdecl sub_469051(_DWORD *a1);
// void __cdecl __noreturn exit(int);
// void __cdecl srand(unsigned int);
// int __cdecl rand();
// char *__cdecl strncat(char *, const char *, size_t);
// int __cdecl _mbscmp(const unsigned __int8 *, const unsigned __int8 *);
// void __cdecl __noreturn longjmp(jmp_buf, int);
// _DWORD __cdecl _setjmp3(_DWORD, _DWORD);
// int __cdecl isdigit(int);
// int __cdecl isxdigit(int);
// int __cdecl isspace(int);
// double __cdecl floor(double);
// int __cdecl _finite(double);
// char *__cdecl _strdup(const char *);
// size_t __cdecl fread_s(void *DstBuf, size_t DstSize, size_t ElementSize, size_t Count, FILE *File);
size_t __cdecl sub_46BBD1(void *DstBuf, size_t ElementSize, size_t Count, FILE *File);
// FILE *__cdecl tmpfile();
// _DWORD _EH_epilog3(); weak
// int *__cdecl _errno();
// unsigned __int32 *__cdecl __doserrno();
// _DWORD __cdecl _dosmaperr(_DWORD); weak
// errno_t __cdecl strcpy_s(char *Dst, rsize_t SizeInBytes, const char *Src);
// int __cdecl vscan_fn(_DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_46C8E3(int a1, int a2, char a3);
// _DWORD __cdecl vscan_fn_0(_DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_46E239(int a1, int a2, int a3, char a4);
void *__thiscall sub_46ED34(void *this, char a2);
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
int sub_46FB22();
// int _getptd(void); weak
// _DWORD __cdecl __report_gsfailure(char); weak
// void __cdecl type_info::_Type_info_dtor(struct type_info *); idb
// _DWORD __cdecl _unlock(_DWORD); weak
// _DWORD __cdecl _mtinitlocknum(_DWORD); weak
// _DWORD __cdecl _lock(_DWORD); weak
int __cdecl sub_4717A7(int a1);
int __cdecl sub_47193D(int, FILE *); // idb
// int __cdecl _output_l(int, int, struct localeinfo_struct *, int); idb
// int __cdecl _stbuf(FILE *); idb
// _DWORD __cdecl _ftbuf(_DWORD, FILE *); weak
// int __cdecl _fileno(FILE *);
// int __cdecl _malloc_crt(size_t); idb
// _DWORD __cdecl flsall(_DWORD); weak
int sub_472D36();
void sub_473486();
int (*sub_47348E())(void);
void __cdecl sub_4734B2(); // idb
int nullsub_3(); // weak
int sub_4736A1();
int __cdecl sub_47385E(int a1);
int __cdecl sub_473868(int a1);
int __cdecl sub_473872(int a1);
// _DWORD __cdecl __crtInitCritSecAndSpinCount(_DWORD, _DWORD); weak
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl isleadbyte(int);
int __cdecl sub_4795B4(FILE *); // idb
// int __cdecl _read(int, void *, unsigned int);
DWORD __cdecl sub_479D92(int a1, LONG lDistanceToMove, DWORD dwMoveMethod);
DWORD __cdecl sub_479E04(int a1, LONG lDistanceToMove, DWORD dwMoveMethod);
char *__cdecl sub_479EE0(FILE *a1);
_WORD *__cdecl sub_47A078(int a1, int a2, DWORD nNumberOfBytesToWrite);
_WORD *__cdecl sub_47A69A(int a1, int a2, DWORD nNumberOfBytesToWrite);
signed int __cdecl sub_47A776(signed int a1);
int sub_47B2EB();
// int __cdecl __check_float_string(int, void *, int); idb
// int __fastcall _inc(_DWORD, _DWORD); weak
// _DWORD __cdecl _whiteout(_DWORD); weak
int __cdecl sub_47CB6C(FILE *, int, struct localeinfo_struct *, int); // idb
signed int __cdecl sub_47DD29(_DWORD *a1);
signed int __cdecl sub_47DD5D(_DWORD *a1);
signed int __cdecl sub_47DD91(_DWORD *a1);
int *sub_47DDC5();
int *sub_47DDCB();
int *sub_47DDD1();
void **sub_47DDD7();
// _DWORD __cdecl cvtdate(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// signed int __usercall sub_47E31B@<eax>(int a1@<edi>);
int __cdecl sub_47E7A2(int a1, int a2, int a3);
DWORD __cdecl sub_47E9A5(int a1, int a2, int a3, DWORD dwMoveMethod);
// __int64 __cdecl _lseeki64(int, __int64, int);
// _DWORD __cdecl _getbuf(_DWORD); weak
int __cdecl sub_47EB85(signed int a1);
int __cdecl sub_47EE5D(int, int, struct localeinfo_struct *); // idb
int __cdecl sub_47EF03(int, int, struct localeinfo_struct *); // idb
signed int __cdecl sub_47F685(int a1, int a2);
signed int __cdecl sub_47FBC7(int a1, int a2);
int __cdecl sub_4802D5(int, HANDLE hHandle); // idb
signed int __cdecl sub_480352(signed int a1);
signed int __cdecl sub_4803D3(signed int a1);
// _DWORD __cdecl __lock_fhandle(_DWORD); weak
void __cdecl sub_4804E4(signed int a1);
// int __cdecl _putwch_nolock(__int16 Buffer); idb
// int __cdecl _mbtowc_l(wchar_t *DstCh, const char *SrcCh, size_t SrcSizeInBytes, _locale_t Locale);
// int __cdecl mbtowc(wchar_t *, const char *, size_t);
signed int __cdecl sub_480A40(signed int a1, int a2);
signed int __cdecl sub_480AFC(_DWORD *a1);
int __cdecl sub_480B30(int, FILE *); // idb
void *__thiscall sub_481FCB(void *this, char a2);
void __noreturn sub_481FED();
void __noreturn sub_48202C();
UINT sub_482083();
signed int sub_4820E8();
int sub_4820EC();
// int __thiscall unknown_libname_177(_DWORD); weak
// _DWORD __thiscall ATL::CComCriticalSection::CComCriticalSection(ATL::CComCriticalSection *this); idb
// __int32 __thiscall ATL::CComCriticalSection::Init(ATL::CComCriticalSection *__hidden this); idb
__int32 __stdcall sub_4821CC(int a1);
// _DWORD __stdcall ATL::CSimpleArray<unsigned short,ATL::CSimpleArrayEqualHelper<unsigned short>>::operator[](_DWORD); weak
// _DWORD __thiscall ATL::_ATL_WIN_MODULE70::_ATL_WIN_MODULE70(ATL::_ATL_WIN_MODULE70 *__hidden this); idb
int __stdcall sub_482230(int, HINSTANCE hInstance); // idb
int __thiscall sub_482290(int this);
ATL::_ATL_WIN_MODULE70 *__thiscall sub_4822C0(ATL::_ATL_WIN_MODULE70 *this);
void *__thiscall sub_4822E6(void *this);
// _DWORD __thiscall ATL::CAtlWinModule::~CAtlWinModule(ATL::CAtlWinModule *this); idb
FARPROC __stdcall sub_4823DE(ULONG_PTR a1, ULONG_PTR Arguments);
int sub_484F80();
void sub_484F8F();
void sub_484F9A();
void sub_484FA5();
int sub_484FB0();
int sub_484FBA();
int sub_484FC4();
void __cdecl sub_484FCE(); // idb
void __cdecl sub_484FD8(); // idb
void __cdecl sub_484FE2(); // idb
void __cdecl sub_484FEC(); // idb
int sub_484FF6();
void __cdecl sub_485000(); // idb
void __cdecl sub_48500B(); // idb
int sub_485016();
int sub_485020();
int sub_48502A();
// LSTATUS __stdcall RegOpenKeyA(HKEY hKey, LPCSTR lpSubKey, PHKEY phkResult);
// LSTATUS __stdcall RegQueryValueExA(HKEY hKey, LPCSTR lpValueName, LPDWORD lpReserved, LPDWORD lpType, LPBYTE lpData, LPDWORD lpcbData);
// LSTATUS __stdcall RegCloseKey(HKEY hKey);
// int __stdcall GetClipBox(HDC hdc, LPRECT lprect);
// BOOL __stdcall PtVisible(HDC hdc, int x, int y);
// BOOL __stdcall RectVisible(HDC hdc, const RECT *lprect);
// BOOL __stdcall TextOutA(HDC hdc, int x, int y, LPCSTR lpString, int c);
// int __stdcall Escape(HDC hdc, int iEscape, int cjIn, LPCSTR pvIn, LPVOID pvOut);
// HDC __stdcall CreateCompatibleDC(HDC hdc);
// HBITMAP __stdcall CreateDIBSection(HDC hdc, const BITMAPINFO *lpbmi, UINT usage, void **ppvBits, HANDLE hSection, DWORD offset);
// int __stdcall SetBkMode(HDC hdc, int mode);
// COLORREF __stdcall SetBkColor(HDC hdc, COLORREF color);
// COLORREF __stdcall SetTextColor(HDC hdc, COLORREF color);
// HGDIOBJ __stdcall SelectObject(HDC hdc, HGDIOBJ h);
// BOOL __stdcall DeleteDC(HDC hdc);
// HFONT __stdcall CreateFontIndirectA(const LOGFONTA *lplf);
// BOOL __stdcall DeleteObject(HGDIOBJ ho);
// int __stdcall GetObjectA(HANDLE h, int c, LPVOID pv);
// HFONT __stdcall CreateFontA(int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, DWORD bItalic, DWORD bUnderline, DWORD bStrikeOut, DWORD iCharSet, DWORD iOutPrecision, DWORD iClipPrecision, DWORD iQuality, DWORD iPitchAndFamily, LPCSTR pszFaceName);
// int __stdcall SetMapMode(HDC hdc, int iMode);
// LCID __stdcall GetThreadLocale();
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// BOOL __stdcall LockFile(HANDLE hFile, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToLockLow, DWORD nNumberOfBytesToLockHigh);
// BOOL __stdcall UnlockFile(HANDLE hFile, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToUnlockLow, DWORD nNumberOfBytesToUnlockHigh);
// HLOCAL __stdcall LocalAlloc(UINT uFlags, SIZE_T uBytes);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// void __stdcall RaiseException(DWORD dwExceptionCode, DWORD dwExceptionFlags, DWORD nNumberOfArguments, const ULONG_PTR *lpArguments);
// UINT __stdcall GetACP();
// UINT __stdcall GetConsoleCP();
// BOOL __stdcall GetConsoleMode(HANDLE hConsoleHandle, LPDWORD lpMode);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// HANDLE __stdcall GetCurrentThread();
// int __stdcall GetLocaleInfoA(LCID Locale, LCTYPE LCType, LPSTR lpLCData, int cchData);
// HMODULE __stdcall LoadLibraryExA(LPCSTR lpLibFileName, HANDLE hFile, DWORD dwFlags);
// BOOL __stdcall FreeLibrary(HMODULE hLibModule);
// DWORD __stdcall GetCurrentThreadId();
// void __stdcall SetLastError(DWORD dwErrCode);
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// HANDLE __stdcall GetProcessHeap();
// LPVOID __stdcall HeapAlloc(HANDLE hHeap, DWORD dwFlags, SIZE_T dwBytes);
// BOOL __stdcall IsProcessorFeaturePresent(DWORD ProcessorFeature);
// void __stdcall GetSystemInfo(LPSYSTEM_INFO lpSystemInfo);
// HRSRC __stdcall FindResourceW(HMODULE hModule, LPCWSTR lpName, LPCWSTR lpType);
// BOOL __stdcall GetVersionExA(LPOSVERSIONINFOA lpVersionInformation);
// HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// HGLOBAL __stdcall LoadResource(HMODULE hModule, HRSRC hResInfo);
// LPVOID __stdcall LockResource(HGLOBAL hResData);
// DWORD __stdcall SizeofResource(HMODULE hModule, HRSRC hResInfo);
// HRSRC __stdcall FindResourceA(HMODULE hModule, LPCSTR lpName, LPCSTR lpType);
// HANDLE __stdcall CreateMutexA(LPSECURITY_ATTRIBUTES lpMutexAttributes, BOOL bInitialOwner, LPCSTR lpName);
// BOOL __stdcall TerminateThread(HANDLE hThread, DWORD dwExitCode);
// DWORD __stdcall GetCurrentProcessId();
// void __stdcall Sleep(DWORD dwMilliseconds);
// DWORD __stdcall GetTickCount();
// HANDLE __stdcall CreateThread(LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, LPTHREAD_START_ROUTINE lpStartAddress, LPVOID lpParameter, DWORD dwCreationFlags, LPDWORD lpThreadId);
// BOOL __stdcall SetEvent(HANDLE hEvent);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// BOOL __stdcall WaitCommEvent(HANDLE hFile, LPDWORD lpEvtMask, LPOVERLAPPED lpOverlapped);
// DWORD __stdcall WaitForSingleObject(HANDLE hHandle, DWORD dwMilliseconds);
// BOOL __stdcall GetCommTimeouts(HANDLE hFile, LPCOMMTIMEOUTS lpCommTimeouts);
// BOOL __stdcall SetCommTimeouts(HANDLE hFile, LPCOMMTIMEOUTS lpCommTimeouts);
// BOOL __stdcall GetCommState(HANDLE hFile, LPDCB lpDCB);
// BOOL __stdcall SetCommState(HANDLE hFile, LPDCB lpDCB);
// BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// BOOL __stdcall GetOverlappedResult(HANDLE hFile, LPOVERLAPPED lpOverlapped, LPDWORD lpNumberOfBytesTransferred, BOOL bWait);
// BOOL __stdcall ClearCommError(HANDLE hFile, LPDWORD lpErrors, LPCOMSTAT lpStat);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// DWORD __stdcall GetLastError();
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// HANDLE __stdcall CreateEventA(LPSECURITY_ATTRIBUTES lpEventAttributes, BOOL bManualReset, BOOL bInitialState, LPCSTR lpName);
// BOOL __stdcall SetupComm(HANDLE hFile, DWORD dwInQueue, DWORD dwOutQueue);
// BOOL __stdcall SetCommMask(HANDLE hFile, DWORD dwEvtMask);
// BOOL __stdcall PurgeComm(HANDLE hFile, DWORD dwFlags);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);
// void __stdcall DragAcceptFiles(HWND hWnd, BOOL fAccept);
// BOOL __stdcall PathStripToRootA(LPSTR pszPath);
// LPSTR __stdcall PathFindFileNameA(LPCSTR pszPath);
// HDC __stdcall GetDC(HWND hWnd);
// int __stdcall ReleaseDC(HWND hWnd, HDC hDC);
// HDC __stdcall GetWindowDC(HWND hWnd);
// BOOL __stdcall UnregisterClassA(LPCSTR lpClassName, HINSTANCE hInstance);
// int __stdcall GetWindowTextA(HWND hWnd, LPSTR lpString, int nMaxCount);
// BOOL __stdcall WinHelpA(HWND hWndMain, LPCSTR lpszHelp, UINT uCommand, ULONG_PTR dwData);
// int __stdcall GetDlgCtrlID(HWND hWnd);
// BOOL __stdcall ModifyMenuA(HMENU hMnu, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem);
// UINT __stdcall GetMenuState(HMENU hMenu, UINT uId, UINT uFlags);
// int __stdcall DrawTextW(HDC hdc, LPCWSTR lpchText, int cchText, LPRECT lprc, UINT format);
// int __stdcall DrawTextA(HDC hdc, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format);
// BOOL __stdcall EnableWindow(HWND hWnd, BOOL bEnable);
// HWND __stdcall GetFocus();
// BOOL __stdcall KillTimer(HWND hWnd, UINT_PTR uIDEvent);
// BOOL __stdcall InvalidateRect(HWND hWnd, const RECT *lpRect, BOOL bErase);
// UINT __stdcall MapVirtualKeyA(UINT uCode, UINT uMapType);
// int __stdcall GetKeyNameTextA(LONG lParam, LPSTR lpString, int cchSize);
// UINT_PTR __stdcall SetTimer(HWND hWnd, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc);
// BOOL __stdcall GetClientRect(HWND hWnd, LPRECT lpRect);
// BOOL __stdcall GetWindowRect(HWND hWnd, LPRECT lpRect);
// int __stdcall GetWindowTextLengthA(HWND hWnd);
// HMENU __stdcall GetMenu(HWND hWnd);
// DWORD __stdcall CheckMenuItem(HMENU hMenu, UINT uIDCheckItem, UINT uCheck);
// BOOL __stdcall SetRect(LPRECT lprc, int xLeft, int yTop, int xRight, int yBottom);
// HICON __stdcall LoadIconA(HINSTANCE hInstance, LPCSTR lpIconName);
// LRESULT __stdcall SendMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// BOOL __stdcall PostMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);
// int __stdcall WSACleanup();
// int __stdcall WSAStartup(WORD wVersionRequested, LPWSADATA lpWSAData);
// int __stdcall closesocket(SOCKET s);
// int __stdcall WSAGetLastError();
// int __stdcall sendto(SOCKET s, const char *buf, int len, int flags, const struct sockaddr *to, int tolen);
// u_short __stdcall htons(u_short hostshort);
// struct hostent *__stdcall gethostbyname(const char *name);
// SOCKET __stdcall socket(int af, int type, int protocol);
// char *__stdcall inet_ntoa(struct in_addr in);
// int __stdcall recvfrom(SOCKET s, char *buf, int len, int flags, struct sockaddr *from, int *fromlen);
// int __stdcall setsockopt(SOCKET s, int level, int optname, const char *optval, int optlen);
// int __stdcall bind(SOCKET s, const struct sockaddr *name, int namelen);
// SOCKET __stdcall WSASocketA(int af, int type, int protocol, LPWSAPROTOCOL_INFOA lpProtocolInfo, GROUP g, DWORD dwFlags);
// int __stdcall listen(SOCKET s, int backlog);
// unsigned __int32 __stdcall inet_addr(const char *cp);
// int __stdcall getsockopt(SOCKET s, int level, int optname, char *optval, int *optlen);

//-------------------------------------------------------------------------
// Data declarations

struct HINSTANCE__ _ImageBase = { 9460301 }; // idb
_UNKNOWN loc_417821; // weak
int (__stdcall *off_486700)(int) = &sub_401FB0; // weak
int (__stdcall *off_4868A4)(int) = &sub_404010; // weak
int (*off_486910)() = &sub_453878; // weak
int (*off_486934)() = &sub_453D03; // weak
int (__stdcall *off_486A04)(int) = &sub_405420; // weak
int (__stdcall *off_486A10)(int) = &sub_4053A0; // weak
int (__stdcall *off_486A20)(int) = &sub_405F10; // weak
const CHAR pszFaceName = '\0'; // idb
CHAR byte_486A3A[2] = { '\0', '\0' }; // idb
char byte_487234[4] = { '\0', '\0', '\0', '\0' }; // idb
char byte_48723C[4] = { '\0', '\0', '\0', '\0' }; // idb
int (*off_4875F0)() = &sub_4046C0; // weak
int (*off_487610)() = &sub_458E37; // weak
int (*off_487900)() = &sub_45E874; // weak
int (*off_4879E4)() = &sub_45626C; // weak
int (*off_487B5C)() = &sub_460615; // weak
int (*off_487B6C)() = &sub_460609; // weak
int (*off_487C0C)() = &sub_46061B; // weak
char byte_487C68[] = { '\t' }; // weak
__int16 word_487C6A[] = { 11 }; // weak
int (*off_487CCC)() = &sub_45E46F; // weak
int (*off_487E2C)() = &sub_45F609; // weak
int (*off_488044)() = &sub_45E874; // weak
int (*off_4880FC)() = &sub_45E46F; // weak
int (*off_48825C)() = &sub_45EEB7; // weak
int (*off_48839C)() = &sub_45EEBD; // weak
int (*off_488510)() = &sub_45E874; // weak
int (*off_48857C)() = &sub_45E46F; // weak
__int16 word_4887D8[] = { 0 }; // weak
__int16 word_4889D8[] = { 0 }; // weak
int (*off_48947C)() = &sub_45E874; // weak
int (*off_489564)() = &sub_45E46F; // weak
int (*off_4896C4)() = &sub_45EEC3; // weak
int (*off_4897FC)() = &sub_462ADB; // weak
int (*off_48993C)() = &sub_45EEB1; // weak
char byte_489A89 = '\0'; // idb
int (*off_48B120)() = &sub_45E874; // weak
int (*off_48B2F4)() = &sub_45E46F; // weak
_UNKNOWN unk_48B460; // weak
_UNKNOWN unk_48B488; // weak
int dword_48BC90[] = { 1 }; // weak
int (__stdcall *off_48BD08)(int, int, int) = &sub_41BF31; // weak
int (__stdcall *off_48BD34)(int, int, int) = &sub_41C0EB; // weak
float flt_48BE10[] = {  0.0 }; // weak
float flt_48BE14[] = {  0.0065130978 }; // weak
float flt_48C210[] = {  0.0 }; // weak
float flt_48C214[] = {  0.0022629909 }; // weak
int (__thiscall *off_48C610)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C620)(void *, char) = &sub_429EE9; // weak
int (__thiscall *off_48C674)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C684)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C694)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C6A4)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C6B4)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C6C4)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C6D4)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C6E4)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C6F4)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C708)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C718)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C728)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C738)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C748)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C758)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C76C)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C77C)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C790)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C7A0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C7B0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C7C0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C7D0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C7E0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C7F0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C800)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C810)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C820)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C830)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C840)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C850)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C860)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C870)(void *, char) = &sub_42A6B1; // weak
int (__thiscall *off_48C880)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C890)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C8A0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C8D0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C8E0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C8F0)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C900)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C92C)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C93C)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C94C)(void *, char) = &sub_428F66; // weak
int (__thiscall *off_48C95C)(void *, char) = &sub_429EE9; // weak
int (__thiscall *off_48C96C)(void *, char) = &sub_429EE9; // weak
int (__thiscall *off_48C97C)(void *, char) = &sub_429EE9; // weak
int (__thiscall *off_48C98C)(void *, char) = &sub_42A6B1; // weak
int (__thiscall *off_48C99C)(void *, char) = &sub_42A6B1; // weak
int (__thiscall *off_48C9AC)(void *, char) = &sub_42A6B1; // weak
int (__thiscall *off_48C9BC)(void *, char) = &sub_42A6B1; // weak
int (__thiscall *off_48C9CC)(void *, char) = &sub_429EE9; // weak
int (__thiscall *off_48C9DC)(void *, char) = &sub_429EE9; // weak
_UNKNOWN unk_48EA34; // weak
_UNKNOWN unk_48EA44; // weak
_UNKNOWN unk_48EA54; // weak
_UNKNOWN unk_48EA64; // weak
char aGenuineintel[13] = "GenuineIntel"; // weak
char *off_48EAB0[20] =
{
  "Bogus message code %d",
  "Sorry, there are legal restrictions on arithmetic coding",
  "ALIGN_TYPE is wrong, please fix",
  "MAX_ALLOC_CHUNK is wrong, please fix",
  "Bogus buffer control mode",
  "Invalid component ID %d in SOS",
  "DCT coefficient out of range",
  "IDCT output block size %d not supported",
  "Bogus Huffman table definition",
  "Bogus input colorspace",
  "Bogus JPEG colorspace",
  "Bogus marker length",
  "Wrong JPEG library version: library is %d, caller expects %d",
  "Sampling factors too large for interleaved scan",
  "Invalid memory pool code %d",
  "Unsupported JPEG data precision %d",
  "Invalid progressive parameters Ss=%d Se=%d Ah=%d Al=%d",
  "Invalid progressive parameters at scan script entry %d",
  "Bogus sampling factors",
  "Invalid scan script at entry %d"
}; // weak
char byte_48FF38[] = { '0' }; // weak
int dword_48FF54[] = { 128 }; // weak
int dword_48FF70[] = { 255 }; // weak
char byte_49028C[8] = { '', 'P', 'N', 'G', '\r', '\n', '\x1A', '\n' }; // idb
_UNKNOWN unk_490298; // weak
_UNKNOWN unk_4902B8; // weak
_UNKNOWN unk_4902D8; // weak
_UNKNOWN unk_4902F0; // weak
_UNKNOWN unk_490310; // weak
_UNKNOWN unk_490320; // weak
_UNKNOWN unk_490330; // weak
_UNKNOWN unk_49033C; // weak
_UNKNOWN unk_49034C; // weak
_UNKNOWN unk_49035C; // weak
_UNKNOWN unk_490378; // weak
_UNKNOWN unk_490398; // weak
int dword_4906A4[] = { 1600 }; // weak
int dword_4906AC[] = { 0 }; // weak
__int64 qword_4906B8 = 4575657221408423936i64; // weak
__int64 qword_4906C8 = -4647714814380998656i64; // weak
__int64 qword_4906D8 = 4575657222473777152i64; // weak
__int64 qword_4906E0 = 4611686019501129728i64; // weak
__int64 qword_4906E8 = 4611686019505324032i64; // weak
__int64 qword_4906F0 = 2147483648i64; // weak
__int64 qword_4906F8 = -9223372036854775808i64; // weak
__int64 qword_490700 = -9223372034707292160i64; // weak
__int64 qword_490710 = 9223372036854775807i64; // weak
__int64 qword_490718 = 9223372034707292159i64; // weak
__int64 qword_490720 = 3746994890844667904i64; // weak
__int64 qword_490728 = 4294967295i64; // weak
__int64 qword_490740 = 4539628425446424576i64; // weak
__int64 qword_490748 = 36028797027352576i64; // weak
__int64 qword_490750 = 2147483648i64; // weak
__int64 qword_490758 = -9223372036854775808i64; // weak
__int64 qword_490760 = 4575657222473777152i64; // weak
__int64 qword_490768 = 4539628425446424576i64; // weak
__int64 qword_490770 = 4611686019501129728i64; // weak
__int64 qword_490778 = 4629700418014806016i64; // weak
__int64 qword_490798 = 4575657221408423936i64; // weak
__int64 qword_4907A0 = 1065353216i64; // weak
__int64 qword_4907A8 = -9223372034707292160i64; // weak
__int64 qword_4907B0 = -4611686015206162432i64; // weak
__int64 qword_4907B8 = 4575657224629649408i64; // weak
__int64 qword_4907C0 = 4575656500919271256i64; // weak
char aAuthenticamd[13] = "AuthenticAMD"; // weak
char aUnknownvendr[13] = "UnknownVendr"; // weak
int dword_4907F8[] = { 0 }; // weak
_UNKNOWN unk_4908F8; // weak
int dword_4909BC[] = { 0 }; // weak
int dword_4909D8[] = { 8 }; // weak
int dword_4909F4[] = { 0 }; // weak
int dword_490A10[] = { 8 }; // weak
int dword_490EC0[] = { 0 }; // weak
char byte_4932FE[2] = { '\0', '\0' }; // idb
int dword_493308[] = { 0 }; // weak
int dword_493348[] = { 0 }; // weak
int dword_493388[] = { 0 }; // weak
int dword_4933C8[] = { 0 }; // weak
__int16 word_493408 = 16384; // weak
__int16 word_49340A = 22725; // weak
__int16 word_49340C = 21407; // weak
__int16 word_49340E = 19266; // weak
__int16 word_493410 = 16384; // weak
__int16 word_493412 = 12873; // weak
__int16 word_493414 = 8867; // weak
double dbl_493488 =  1.0; // weak
__int64 qword_4934C8 = 844437815230467i64; // weak
__int64 qword_4934D0 = 2533313445691401i64; // weak
__int64 qword_4934D8 = 2533313445691404i64; // weak
__int64 qword_4934E0 = 844437815230468i64; // weak
__int64 qword_4934E8 = 1970354902204423i64; // weak
__int64 qword_4934F0 = 2251834173947912i64; // weak
__int64 qword_4934F8 = 281479271743489i64; // weak
__int64 qword_493500 = 562958543486978i64; // weak
__int64 qword_493508 = -72057594037927936i64; // weak
__int64 qword_493510 = 255i64; // weak
__int64 qword_493518 = 0i64; // weak
__int64 qword_493520 = 6465480218571921850i64; // weak
__int64 qword_493528 = 124695416012800i64; // weak
__int64 qword_493530 = 231221069742080i64; // weak
__int64 qword_493538 = 8172038783814889832i64; // weak
__int64 qword_493540 = 281474976710657i64; // weak
__int64 qword_493548 = 8589541376i64; // weak
__int64 qword_493550 = 65536i64; // weak
__int64 qword_493558 = 562924183617537i64; // weak
__int128 xmmword_493560 = 0x800000000000000080000000i64; // weak
__int128 xmmword_493570 = 0x800000008000000000000000i64; // weak
__int128 xmmword_493580 = 0x80000000000000008000000000000000i64; // weak
_UNKNOWN unk_493590; // weak
_UNKNOWN unk_4935A0; // weak
int dword_4935B0[] = { 1 }; // weak
_UNKNOWN unk_4935C0; // weak
_UNKNOWN unk_4935D0; // weak
int dword_4935E0[] = { 1 }; // weak
__int64 qword_4935F0 = -4719772406288220160i64; // weak
int dword_4935F8[] = { 16 }; // weak
_UNKNOWN unk_495F29; // weak
__int64 qword_4978C0 = 10505490008462i64; // weak
__int64 qword_4978C8 = 13726715481212i64; // weak
__int64 qword_4978D0 = 19039590027601i64; // weak
__int64 qword_4978D8 = 26929444952190i64; // weak
__int64 qword_4978E0 = 31666793880781i64; // weak
__int64 qword_4978E8 = 41373419972001i64; // weak
__int64 qword_4978F0 = 52823802785803i64; // weak
__int64 qword_4978F8 = 65012919974689i64; // weak
__int64 qword_497900 = 69015829495493i64; // weak
__int64 qword_497908 = 72237054968243i64; // weak
__int64 qword_497910 = 90172838400515i64; // weak
__int64 qword_497918 = 108112916800084i64; // weak
__int64 qword_497920 = -1i64; // weak
__int64 qword_497928 = 4294967297i64; // weak
__int64 qword_497930 = 4294967297i64; // weak
__int64 qword_497938 = 4398046512128i64; // weak
__int64 qword_497940 = 562949953552384i64; // weak
__int64 qword_497948 = 4393751544831i64; // weak
__int64 qword_497950 = 65012919965822i64; // weak
__int64 qword_497958 = 19039590023168i64; // weak
__int64 qword_497960 = 7085288114566660096i64; // weak
__int64 qword_497968 = 688487794136514560i64; // weak
__int64 qword_497970 = 2075315004663595008i64; // weak
__int64 qword_497978 = 4523021400972984320i64; // weak
__int64 qword_497980 = 2711448450653749248i64; // weak
__int64 qword_497988 = 0i64; // weak
__int64 qword_497990 = 36029346783166592i64; // weak
__int64 qword_497998 = -51228819435421784i64; // weak
__int64 qword_4979A0 = 72059135947964775i64; // weak
__int64 qword_4979A8 = 72059543969857990i64; // weak
__int64 qword_4979B0 = -4294967296i64; // weak
_UNKNOWN unk_497CE8; // weak
_UNKNOWN unk_497D68; // weak
_UNKNOWN unk_497DE8; // weak
_UNKNOWN unk_497E60; // weak
char *off_498490 = "COleException"; // weak
char *off_49853C = "CMemoryException"; // weak
char *off_498558 = "CNotSupportedException"; // weak
char *off_498574 = "CInvalidArgException"; // weak
int (*off_498594)() = &sub_452B37; // weak
int (*off_4985B0)() = &sub_452B3D; // weak
int (*off_4985CC)() = &sub_452B43; // weak
char *off_4985F0 = "CWinThread"; // weak
char *off_4986CC = "CWinApp"; // weak
int (*off_4986E8)() = &sub_4552F5; // weak
char Src[] = { 'L', 'O', 'C', '\0' }; // idb
int (*off_498994)() = &sub_453D03; // weak
int (__thiscall *off_498AB0)(void *, char) = &unknown_libname_100; // weak
_UNKNOWN unk_498B18; // weak
_UNKNOWN unk_498B50; // weak
_UNKNOWN unk_498B6C; // weak
_UNKNOWN unk_498B7C; // weak
_UNKNOWN unk_498B90; // weak
_UNKNOWN unk_498BBC; // weak
char *off_498C18 = "CFrameWnd"; // weak
int (*off_498C64)() = &sub_461522; // weak
int (*off_498C8C)() = &sub_46303F; // weak
int (*off_498E90)() = &sub_45DCD2; // weak
void *off_4993AC = &unk_498B6C; // weak
char *off_4993B4 = "CWnd"; // weak
void (__thiscall *off_499804)(CTestCmdUI *this, int) = &CTestCmdUI::Enable; // weak
int (__thiscall *off_499838)(void *, char) = &sub_45A395; // weak
int (*off_4999C8)() = &sub_4552F5; // weak
char *off_499CE0 = "CDialog"; // weak
int (*off_499D04)() = &sub_45E46F; // weak
int (*off_499E68)() = &sub_45DCD2; // weak
char *off_499F64 = "CStatic"; // weak
char *off_499F80 = "CButton"; // weak
char *off_499F9C = "CComboBox"; // weak
char *off_499FB8 = "CEdit"; // weak
char *off_49A018 = "CAsyncSocket"; // weak
char *off_49A034 = "CSocket"; // weak
int (*off_49A054)() = &sub_459EAF; // weak
int (*off_49A1F0)() = &sub_45DCD2; // weak
char *off_49A334 = "CResourceException"; // weak
char *off_49A350 = "CUserException"; // weak
void **off_49A36C = &off_49A30C; // weak
char *off_49A388 = "CClientDC"; // weak
char *off_49A3A4 = "CWindowDC"; // weak
char *off_49A3C0 = "CPaintDC"; // weak
char *off_49A3DC = "CGdiObject"; // weak
char *off_49A3F8 = "CBrush"; // weak
char *off_49A414 = "CFont"; // weak
char *off_49A430 = "CBitmap"; // weak
int (*off_49A450)() = &sub_4605E5; // weak
int (*off_49A46C)() = &sub_4605EB; // weak
int (*off_49A50C)() = &sub_4605F7; // weak
int (*off_49A58C)() = &sub_4605FD; // weak
int (*off_49A688)() = &sub_46060F; // weak
char *off_49A6AC = "CMenu"; // weak
char *off_49A6EC = "CFile"; // weak
int (*off_49A764)() = &sub_465ECE; // weak
char *off_49A7D4 = "CSliderCtrl"; // weak
char *off_49A7F0 = "CImageList"; // weak
int (*off_49A824)() = &sub_462AE1; // weak
char *off_49A8D8 = "CObject"; // weak
char *off_49A950 = "CArchiveException"; // weak
int (*off_49A970)() = &sub_46447C; // weak
char *off_49A9A4 = "CMapPtrToPtr"; // weak
int (*off_49A9C4)() = &sub_464B43; // weak
char *off_49A9DC = "CPtrList"; // weak
int (*off_49A9FC)() = &sub_464CBA; // weak
int (*off_49AA1C)() = &sub_46516D; // weak
char *off_49AAB4 = "CFileException"; // weak
int (*off_49AB14)() = &sub_466464; // weak
int (*off_49AB24)() = &sub_46303F; // weak
char *off_49AB3C = "CPtrArray"; // weak
int (*off_49AB5C)() = &sub_466FA8; // weak
int (__thiscall *off_49AB9C)(void *, char) = &sub_467858; // weak
int (__thiscall *off_49ABC4)(void *, char) = &sub_468F55; // weak
int (__thiscall *off_49AD80)(void *, char) = &sub_46ED34; // weak
_UNKNOWN unk_49C205; // weak
_UNKNOWN unk_4A24E1; // weak
int dword_4A3588 = 0; // weak
int (__thiscall *off_4A35AC)(void *, char) = &sub_481FCB; // weak
_UNKNOWN unk_4A35EC; // weak
_UNKNOWN unk_4A52CC; // weak
_UNKNOWN unk_4A52D4; // weak
_UNKNOWN unk_4A5494; // weak
_UNKNOWN unk_4A5618; // weak
_UNKNOWN unk_4A829C; // weak
_UNKNOWN unk_4A83F4; // weak
_UNKNOWN unk_4A8CFC; // weak
int dword_4AB030[] = { 0 }; // weak
_UNKNOWN unk_4AB178; // weak
int dword_4AB17C[] = { 27 }; // weak
int dword_4AB180[] = { 0 }; // weak
_UNKNOWN unk_4AFB61; // weak
_UNKNOWN unk_4B01E8; // weak
int dword_4B01F0[] = { 107 }; // weak
void *off_4B1C30 = &unk_48BC8C; // weak
int dword_4B1C34 = 4294967295; // weak
int dword_4B1D58 = 20; // weak
int (__stdcall *off_4B243C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_41F5AD; // weak
int (__stdcall *off_4B2440)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_41F5E5; // weak
_UNKNOWN unk_4B2448; // weak
_UNKNOWN unk_4B24C8; // weak
int (*off_4B2548)(void) = &sub_42AA67; // weak
int (*off_4B254C)(void) = &sub_42AD45; // weak
int (*off_4B2550)(void) = &sub_42B3D3; // weak
int (*off_4B2554)(void) = &sub_42B626; // weak
int (*off_4B2558)(void) = &sub_42B8EF; // weak
int (*off_4B255C)(void) = &sub_42AAAF; // weak
int (*off_4B2560)(void) = &sub_42AEBF; // weak
int (*off_4B2564)(void) = &sub_42AAD3; // weak
int (*off_4B2568)(void) = &sub_42B108; // weak
int (*off_4B256C)(void) = &sub_42AA8B; // weak
int (*off_4B2570)(void) = &sub_42AE95; // weak
int (*off_4B2574)(void) = &sub_42B54F; // weak
int (*off_4B2578)(void) = &sub_42CF6E; // weak
int (*off_4B257C)(void) = &sub_42CFB3; // weak
int (*off_4B2580)(void) = &sub_42AFC7; // weak
int (*off_4B2584)(void) = &sub_42AFE9; // weak
int (*off_4B2588)(void) = &sub_42B00B; // weak
int (__stdcall *off_4B258C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42A864; // weak
int (*off_4B2590)(void) = &sub_42BB32; // weak
int (*off_4B2594)(void) = &sub_42C84C; // weak
int (*off_4B2598)(void) = &sub_42C8F5; // weak
int (*off_4B259C)(void) = &sub_42CE0B; // weak
int (*off_4B25A0)(void) = &sub_42CEBF; // weak
int (*off_4B25A4)(void) = &sub_42C540; // weak
int (*off_4B25A8)(void) = &sub_42C582; // weak
int (__stdcall *off_4B25AC)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_42C73F; // weak
int (__stdcall *off_4B25B0)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_42BF6E; // weak
int (*off_4B25B4)(void) = &sub_42C526; // weak
int (*off_4B25B8)(void) = &sub_42C533; // weak
int (__stdcall *off_4B25BC)(_DWORD, _DWORD, _DWORD) = &sub_42C6C3; // weak
int (__stdcall *off_4B25C0)(_DWORD, _DWORD) = &sub_42BFF8; // weak
int (__stdcall *off_4B25C4)(_DWORD, _DWORD) = &sub_42C08E; // weak
int (__stdcall *off_4B25C8)(_DWORD, _DWORD) = &sub_42C125; // weak
int (__stdcall *off_4B25CC)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_42BEE4; // weak
int (*off_4B25D0)(void) = &sub_42D062; // weak
int (__stdcall *off_4B25D4)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_42CBB5; // weak
int (__stdcall *off_4B25D8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42CD54; // weak
int (*off_4B25DC)(void) = &sub_42B86F; // weak
int (*off_4B25E0)(void) = &sub_42C2DF; // weak
int (*off_4B25E4)(void) = &sub_42C402; // weak
int (__stdcall *off_4B25E8)(_DWORD, _DWORD, _DWORD, _DWORD) = &sub_42C3D4; // weak
int (__stdcall *off_4B25EC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42C419; // weak
int (__stdcall *off_4B25F0)(_DWORD, _DWORD, _DWORD) = &sub_42C1BD; // weak
int (__stdcall *off_4B25F4)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42CCC2; // weak
int (*off_4B25F8)(void) = &sub_42C9B8; // weak
int (*off_4B25FC)(void) = &sub_42CD43; // weak
int (*off_4B2600)(void) = &sub_42A857; // weak
int (__stdcall *off_4B2604)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42A91C; // weak
int (__stdcall *off_4B2608)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42A9F5; // weak
int (__stdcall *off_4B260C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42AAE6; // weak
int (__stdcall *off_4B2610)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42ABBE; // weak
int (__stdcall *off_4B2614)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42ACB9; // weak
int (__stdcall *off_4B2618)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42B115; // weak
int (__stdcall *off_4B261C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42B210; // weak
int (__stdcall *off_4B2620)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD) = &sub_42B32D; // weak
int (*off_4B2624)(void) = &sub_42CA7C; // weak
int (*off_4B2628)(void) = &sub_42CB0A; // weak
int (*off_4B262C)(void) = &sub_42A6FD; // weak
int (*off_4B2630)(void) = &sub_42A79F; // weak
int (*off_4B2634)(void) = &sub_42AA7A; // weak
int (*off_4B2638)(void) = &sub_42AA9E; // weak
int (*off_4B263C)(void) = &sub_42AAC2; // weak
int (*off_4B2640)(void) = &sub_42ADDD; // weak
int (*off_4B2644)(void) = &sub_42AEA8; // weak
int (*off_4B2648)(void) = &sub_42AF38; // weak
int (*off_4B264C)(void) = &sub_42B47F; // weak
int (*off_4B2650)(void) = &sub_42AFD8; // weak
int (*off_4B2654)(void) = &sub_42AFFA; // weak
int (*off_4B2658)(void) = &sub_42D10E; // weak
int (*off_4B265C)(void) = &sub_42D1DE; // weak
int (*off_4B2660)(void) = &sub_42D1EF; // weak
int (__stdcall *off_4B2668[7])(int, int, int) =
{
  &sub_42D28A,
  &sub_42AD52,
  &sub_42B3E0,
  &sub_42B639,
  &sub_42B8FC,
  &sub_42D48D,
  &sub_42AED2
}; // weak
int dword_4B2784 = 4294967295; // weak
int dword_4B2788 = 65535; // weak
_DWORD dword_4B278C[9] = { 16, 33, 66, 132, 272, 584, 1360, 4080, 0 }; // idb
_UNKNOWN unk_4B27B0; // weak
_UNKNOWN unk_4B27B4; // weak
float flt_4B37B8 =  0.29703665; // weak
float flt_4B37BC =  1.0; // weak
float flt_4B37C0 =  0.10078278; // weak
float flt_4B37C8 =  3.3665881; // weak
float flt_4B37CC =  1.0; // weak
float flt_4B37D0 =  9.9223299; // weak
int dword_4B49D0 = 1056964608; // weak
int dword_4B49E0 = 1077936128; // weak
__int128 xmmword_4B49F0 = 0x3F800000BF800000BF800000BF800000i64; // weak
__int128 xmmword_4B4A70 = 0x3F800000C00000003F80000040000000i64; // weak
__int128 xmmword_4B4A80 = 0xBF80000040400000C0000000C0400000i64; // weak
__int128 xmmword_4B4A90 = 4575657221408423936i64; // weak
int dword_4B4AA0 = 1065353216; // weak
__int128 xmmword_4B4AB0 = 0x3F000000BFC000003FC00000BF000000i64; // weak
__int128 xmmword_4B4AC0 = 0xBF00000040000000C02000003F800000i64; // weak
__int128 xmmword_4B4AD0 = 0x3F000000BF000000i64; // weak
__int128 xmmword_4B4AE0 = 4575657221408423936i64; // weak
__int128 xmmword_4B4AF0 = 0x80000000000000008000000000000000i64; // weak
int dword_4B4B00 = 1056964608; // weak
int dword_4B4B10 = 1077936128; // weak
__int128 xmmword_4B4B20 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_4B4B30 = 1056964608i64; // weak
__int128 xmmword_4B4B40 = 1077936128i64; // weak
__int128 xmmword_4B4B50 = 1065353216i64; // weak
__int128 xmmword_4B4B60 = 0x3F8000000000000000000000i64; // weak
__int128 xmmword_4B4B70 = 0x3F80000000000000i64; // weak
__int128 xmmword_4B4B80 = 0xC0000000C0000000C0000000i64; // weak
__int128 xmmword_4B4B90 = 4575657221408423936i64; // weak
unsigned int dword_4B4BA0[4] = { 1056964608u, 0u, 0u, 0u }; // idb
_UNKNOWN unk_4B4BB0; // weak
__int128 xmmword_4B4BC0 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_4B4BD0 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_4B4BE0 = 0x0FFFFFFFF00000000i64; // weak
__int128 xmmword_4B4BF0 = 0xFFFFFFFF00000000i64; // weak
__int128 xmmword_4B4C00 = 0xFFFFFFFF0000000000000000i64; // weak
__int128 xmmword_4B4C10 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_4B4C90 = 0x80000000000000008000000000000000i64; // weak
__int128 xmmword_4B4CA0 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_4B4CB0 = 1056964608i64; // weak
__int128 xmmword_4B4CC0 = 1077936128i64; // weak
__int128 xmmword_4B4CD0 = 1065353216i64; // weak
__int128 xmmword_4B4CE0 = 0x3F8000000000000000000000i64; // weak
__int128 xmmword_4B4CF0 = 0x3F80000000000000i64; // weak
__int128 xmmword_4B4D00 = 0xC0000000C0000000C0000000i64; // weak
__int128 xmmword_4B4D10 = 4575657221408423936i64; // weak
unsigned int dword_4B4D20[4] = { 1056964608u, 0u, 0u, 0u }; // idb
_UNKNOWN unk_4B4D30; // weak
__int128 xmmword_4B4D40 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_4B4D50 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_4B4D60 = 0x0FFFFFFFF00000000i64; // weak
__int128 xmmword_4B4D70 = 0xFFFFFFFF00000000i64; // weak
__int128 xmmword_4B4D80 = 0xFFFFFFFF0000000000000000i64; // weak
__int128 xmmword_4B4D90 = 0xFFFFFFFFFFFFFFFFFFFFFFFFi64; // weak
__int128 xmmword_4B4DC0 = 0x40000000400000004000000040000000i64; // weak
__int128 xmmword_4B4E00 = 0x40000000400000004000000040000000i64; // weak
__int64 qword_4B4E40 = 136339441875968i64; // weak
__int64 qword_4B4E50 = 492581209358336i64; // weak
__int64 qword_4B4E60 = 140737488388096i64; // weak
__int64 qword_4B4E70 = 4398046512128i64; // weak
__int64 qword_4B4E80 = 4071254064090841088i64; // weak
__int64 qword_4B4E90 = 5152100378430402559i64; // weak
__int64 qword_4B4EA0 = 4071254064090841088i64; // weak
__int64 qword_4B4EB0 = -9223372034707292160i64; // weak
__int64 qword_4B4ED0 = 4294967297i64; // weak
__int64 qword_4B4EE0 = -4035207674877440001i64; // weak
__int64 qword_4B4F00 = 9223372034707292159i64; // weak
__int64 qword_4B4F10 = 36028797027352576i64; // weak
__int64 qword_4B4F20 = 140733193420799i64; // weak
_UNKNOWN unk_4B5FE1; // weak
__int128 xmmword_4B9760 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_4B9770 = 0xBF000000BF000000BF000000BF000000i64; // weak
__int128 xmmword_4B9780 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_4B9790 = 0x3D2AAAA53D2AAAA53D2AAAA53D2AAAA5i64; // weak
__int128 xmmword_4B97A0 = 0xBE2AAAA3BE2AAAA3BE2AAAA3BE2AAAA3i64; // weak
__int128 xmmword_4B97B0 = 0xBAB6061ABAB6061ABAB6061ABAB6061Ai64; // weak
__int128 xmmword_4B97C0 = 0x3C08839D3C08839D3C08839D3C08839Di64; // weak
int dword_4B97D0 = 2; // weak
__int128 xmmword_4B97E0 = 0x100000001100000001i64; // weak
__int128 xmmword_4B97F0 = 0x7FFFFF007FFFFF7FFFFF007FFFFFi64; // weak
__int128 xmmword_4B9800 = 0x37CCF5CE37CCF5CE37CCF5CE37CCF5CEi64; // weak
__int128 xmmword_4B9810 = 0xB94CA1F0B94CA1F0B94CA1F0B94CA1F0i64; // weak
__int128 xmmword_4B9820 = 0x4B0000004B0000004B0000004B000000i64; // weak
__int128 xmmword_4B9830 = 0x2C34611A2C34611A2C34611A2C34611Ai64; // weak
__int128 xmmword_4B9840 = 0x33A2200033A2200033A2200033A22000i64; // weak
__int128 xmmword_4B9850 = 0x39FDA00039FDA00039FDA00039FDA000i64; // weak
__int128 xmmword_4B9860 = 0x3FC900003FC900003FC900003FC90000i64; // weak
__int128 xmmword_4B9870 = 0x3F22F9833F22F9833F22F9833F22F983i64; // weak
__int128 xmmword_4B9880 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_4B9890 = 0x7FFFFFFF7FFFFFFF7FFFFFFF7FFFFFFFi64; // weak
__int128 xmmword_4B98A0 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_4B98B0 = 0xBF000000BF000000BF000000BF000000i64; // weak
__int128 xmmword_4B98C0 = 0x3F8000003F8000003F8000003F800000i64; // weak
__int128 xmmword_4B98D0 = 0x3D2AAAA53D2AAAA53D2AAAA53D2AAAA5i64; // weak
__int128 xmmword_4B98E0 = 0xBE2AAAA3BE2AAAA3BE2AAAA3BE2AAAA3i64; // weak
__int128 xmmword_4B98F0 = 0xBAB6061ABAB6061ABAB6061ABAB6061Ai64; // weak
__int128 xmmword_4B9900 = 0x3C08839D3C08839D3C08839D3C08839Di64; // weak
__int128 xmmword_4B9910 = 0x200000002200000002i64; // weak
__int128 xmmword_4B9920 = 0x100000001100000001i64; // weak
__int128 xmmword_4B9930 = 0x7FFFFF007FFFFF7FFFFF007FFFFFi64; // weak
__int128 xmmword_4B9940 = 0x37CCF5CE37CCF5CE37CCF5CE37CCF5CEi64; // weak
__int128 xmmword_4B9950 = 0xB94CA1F0B94CA1F0B94CA1F0B94CA1F0i64; // weak
__int128 xmmword_4B9960 = 0x4B0000004B0000004B0000004B000000i64; // weak
__int128 xmmword_4B9970 = 0x2C34611A2C34611A2C34611A2C34611Ai64; // weak
__int128 xmmword_4B9980 = 0x33A2200033A2200033A2200033A22000i64; // weak
__int128 xmmword_4B9990 = 0x39FDA00039FDA00039FDA00039FDA000i64; // weak
__int128 xmmword_4B99A0 = 0x3FC900003FC900003FC900003FC90000i64; // weak
__int128 xmmword_4B99B0 = 0x3F22F9833F22F9833F22F9833F22F983i64; // weak
__int128 xmmword_4B99C0 = 0x80000000800000008000000080000000i64; // weak
__int128 xmmword_4B99D0 = 0x7FFFFFFF7FFFFFFF7FFFFFFF7FFFFFFFi64; // weak
int dword_4B9B58 = 9; // weak
int dword_4B9B5C = 5; // weak
_UNKNOWN unk_4B9B60; // weak
_UNKNOWN unk_4BAB60; // weak
int dword_4BAC60[] = { 0 }; // weak
int (**off_4BAE40)() = &off_498594; // weak
int (**off_4BAED8)() = &off_4985B0; // weak
int (**off_4BAF70)() = &off_4985CC; // weak
char *off_4BB7E8 = "CObArray"; // weak
char *off_4BB82C = "CByteArray"; // weak
int dword_4BB8B8 = 3141592654; // weak
void *off_4BB8E0 = &unk_4C8E00; // weak
int dword_4BBB70 = 2; // weak
int dword_4BBDA4 = 4294967295; // weak
_UNKNOWN unk_4BBFA0; // weak
int (*off_4BC61C[3])() = { &_fptrap, &_fptrap, &_fptrap }; // weak
int dword_4BCC80 = 28800; // weak
int dword_4BCC84 = 1; // weak
int dword_4BCC88 = 4294963696; // weak
void *off_4BCD10 = &unk_4BCC90; // weak
int dword_4BCD18 = 4294967295; // weak
int dword_4BCD1C = 0; // weak
int dword_4BCD20 = 0; // weak
int dword_4BCD24 = 4294967295; // weak
int dword_4BCD28 = 0; // weak
int dword_4BCD2C = 0; // weak
int dword_4BCDA4 = 1024; // weak
int dword_4BCDA8 = 4294966273; // weak
int dword_4BCDAC = 53; // weak
int dword_4BCDB0 = 11; // weak
int dword_4BCDB4 = 64; // weak
int dword_4BCDB8 = 1023; // weak
int dword_4BCDBC = 128; // weak
int dword_4BCDC0 = 4294967169; // weak
int dword_4BCDC4 = 24; // weak
int dword_4BCDC8 = 8; // weak
int dword_4BCDCC = 32; // weak
int dword_4BCDD0 = 127; // weak
volatile LONG Target = 4727020; // idb
char byte_4BD0E0 = '\0'; // weak
__int16 word_4BD0E8[] = { 0 }; // weak
int dword_4BD0EC[] = { 0 }; // weak
int dword_4BD0F0[] = { 0 }; // weak
int dword_4BD0F4[] = { 0 }; // weak
int dword_4BD0F8[] = { 0 }; // weak
int dword_4BD0FC[] = { 0 }; // weak
int dword_4BD100[] = { 0 }; // weak
int dword_4BD104[] = { 0 }; // weak
_UNKNOWN unk_4BD108; // weak
__int16 word_4BE8E0[]; // weak
int dword_4BE8E4[]; // weak
int dword_4BE8E8[]; // weak
int dword_4BE8EC[]; // weak
int dword_4BE8F0[]; // weak
int dword_4BE8F4[]; // weak
int dword_4BE8F8[]; // weak
int dword_4BE8FC[]; // weak
_UNKNOWN unk_4BE900; // weak
_UNKNOWN unk_4C3950; // weak
int (__cdecl *dword_4C3E04)(_DWORD); // weak
int (__cdecl *dword_4C3E08)(_DWORD); // weak
int dword_4C3E0C; // weak
int dword_4C3E10; // weak
int dword_4C3E14; // weak
int dword_4C3E18; // weak
int dword_4C55DC; // weak
__int128 xmmword_4C55E0; // weak
__int128 xmmword_4C55F0; // weak
int dword_4C5600; // weak
_UNKNOWN unk_4C61EC; // weak
int (__stdcall *dword_4C620C)(_DWORD); // weak
int (__stdcall *dword_4C622C)(_DWORD, _DWORD); // weak
int (__stdcall *dword_4C6230)(_DWORD, _DWORD); // weak
_UNKNOWN unk_4C6238; // weak
_UNKNOWN unk_4C623C; // weak
int dword_4C7A80; // weak
HWND__ hWndInsertAfter; // idb
int dword_4C7B30; // weak
int dword_4C7B88; // weak
_UNKNOWN unk_4C7BE0; // weak
_UNKNOWN unk_4C7BE4; // weak
int dword_4C7BE8; // weak
int dword_4C7C80; // weak
int dword_4C7D20; // weak
int dword_4C7FD4; // weak
int dword_4C7FDC; // weak
int dword_4C7FE8; // weak
int dword_4C8824; // weak
int dword_4C8898; // weak
int dword_4C88A4; // weak
int dword_4C88B0; // weak
int dword_4C88B4; // weak
struct _TIME_ZONE_INFORMATION TimeZoneInformation; // idb
int dword_4C8BB4; // weak
int dword_4C8BFC; // weak
int dword_4C8C00; // weak
int dword_4C8C04; // weak
int dword_4C8C08; // weak
int dword_4C8C0C; // weak
int dword_4C8C18; // weak
_UNKNOWN unk_4C8C20; // weak
_UNKNOWN unk_4C8C5C; // weak
int dword_4C8C8C; // weak
int (__stdcall *dword_4C8C90)(_DWORD, _DWORD); // weak
int (__stdcall *dword_4C8C94)(_DWORD, _DWORD); // weak
int dword_4C8CA0; // weak
UINT uNumber; // idb
int dword_4C8CC0[]; // weak
int dword_4C8DFC; // weak
int dword_4C9E00; // weak


//----- (00401000) --------------------------------------------------------
int sub_401000()
{
  return ((int (*)(void))Target)();
}
// 4BD0CC: invalid function type has been ignored

//----- (00401010) --------------------------------------------------------
void __stdcall __noreturn sub_401010(__int32 a1)
{
  if ( a1 == -2147024882 )
    unknown_libname_94();
  AfxThrowOleException(a1);
}
// 452B72: using guessed type int unknown_libname_94(void);

//----- (004010E0) --------------------------------------------------------
int __thiscall sub_4010E0(void *this, char a2)
{
  void *v2; // ecx@1
  const CHAR *v3; // eax@11
  int v4; // eax@24
  char v5; // al@26
  int v6; // eax@28
  char v7; // al@30
  int v8; // eax@32
  char v9; // al@34
  const char *v10; // eax@35
  int v11; // eax@36
  char v12; // al@37
  const char *v13; // eax@38
  int v14; // edx@38
  void *v15; // ecx@38
  void *v17; // [sp-Ch] [bp-60h]@39
  int v18; // [sp-8h] [bp-5Ch]@39
  void *v19; // [sp-4h] [bp-58h]@1
  int v20; // [sp+4h] [bp-50h]@39
  int v21; // [sp+8h] [bp-4Ch]@39
  int v22; // [sp+Ch] [bp-48h]@39
  int v23; // [sp+10h] [bp-44h]@1
  int v24; // [sp+14h] [bp-40h]@1
  int v25; // [sp+18h] [bp-3Ch]@1
  void **v26; // [sp+1Ch] [bp-38h]@39
  void *v27; // [sp+20h] [bp-34h]@38
  int v28; // [sp+24h] [bp-30h]@41
  void **v29; // [sp+28h] [bp-2Ch]@1
  int v30; // [sp+2Ch] [bp-28h]@19
  __int16 v31; // [sp+30h] [bp-24h]@38
  int i; // [sp+34h] [bp-20h]@23
  int v33; // [sp+38h] [bp-1Ch]@23
  char v34; // [sp+3Ch] [bp-18h]@1
  char v35; // [sp+40h] [bp-14h]@1
  __int16 v36; // [sp+44h] [bp-10h]@35
  int v37; // [sp+50h] [bp-4h]@1

  v25 = (int)this;
  v37 = 0;
  *(_DWORD *)this = &off_486700;
  sub_402040((void *)(v25 + 104));
  LOBYTE(v37) = 1;
  sub_402040(&v34);
  LOBYTE(v37) = 2;
  sub_402040(&v35);
  LOBYTE(v37) = 3;
  *(_DWORD *)(v25 + 20) = -1;
  *(_DWORD *)(v25 + 24) = 0;
  *(_DWORD *)(v25 + 88) = 0;
  *(_DWORD *)(v25 + 92) = 0;
  *(_DWORD *)(v25 + 96) = 0;
  *(_DWORD *)(v25 + 4) = 0;
  *(_DWORD *)(v25 + 8) = 0;
  memset((void *)(v25 + 28), 0, 0x14u);
  memset((void *)(v25 + 48), 0, 0x14u);
  memset((void *)(v25 + 68), 0, 0x14u);
  unknown_libname_5(&a2);
  v19 = v2;
  v29 = &v19;
  v24 = unknown_libname_3(v25 + 104);
  v23 = sub_4018C0((char)v19);
  *(_DWORD *)(v25 + 16) = v23;
  if ( *(_DWORD *)(v25 + 20) == -1 )
  {
    *(_DWORD *)(v25 + 88) = GetLastError();
  }
  else
  {
    if ( *(_DWORD *)(v25 + 44) )
    {
      v19 = *(void **)(v25 + 44);
      CloseHandle(v19);
    }
    if ( *(_DWORD *)(v25 + 64) )
    {
      v19 = *(void **)(v25 + 64);
      CloseHandle(v19);
    }
    if ( *(_DWORD *)(v25 + 84) )
    {
      v19 = *(void **)(v25 + 84);
      CloseHandle(v19);
    }
    CloseHandle(*(HANDLE *)(v25 + 20));
    *(_DWORD *)(v25 + 20) = -1;
  }
  if ( *(_DWORD *)(v25 + 16) )
  {
    v19 = 0;
    v3 = (const CHAR *)unknown_libname_79(v25 + 104);
    *(_DWORD *)(v25 + 20) = CreateFileA(v3, 0xC0000000, 0, 0, 3u, 0x40000080u, v19);
    if ( *(_DWORD *)(v25 + 20) == -1 )
    {
      if ( *(_DWORD *)(v25 + 16) == 3 )
      {
        v33 = 0;
        for ( i = 0; ; ++i )
        {
          v4 = sub_4021B0((void *)(v25 + 104));
          if ( i >= v4 || sub_414140((_DWORD *)(v25 + 104), i) == 58 )
            break;
          v5 = sub_414140((_DWORD *)(v25 + 104), i);
          ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(v5);
        }
        ++i;
        sub_4020E0(&v35);
        while ( 1 )
        {
          v6 = sub_4021B0((void *)(v25 + 104));
          if ( i >= v6 || sub_414140((_DWORD *)(v25 + 104), i) == 58 )
            break;
          v7 = sub_414140((_DWORD *)(v25 + 104), i);
          ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(v7);
          ++i;
        }
        ++i;
        unknown_libname_5(&v35);
        sub_4020E0(&v35);
        while ( 1 )
        {
          v8 = sub_4021B0((void *)(v25 + 104));
          if ( i >= v8 || sub_414140((_DWORD *)(v25 + 104), i) == 58 )
            break;
          v9 = sub_414140((_DWORD *)(v25 + 104), i);
          ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(v9);
          ++i;
        }
        ++i;
        v10 = (const char *)unknown_libname_79(&v35);
        v36 = j__atol(v10);
        sub_4020E0(&v35);
        while ( 1 )
        {
          v11 = sub_4021B0((void *)(v25 + 104));
          if ( i >= v11 )
            break;
          v12 = sub_414140((_DWORD *)(v25 + 104), i);
          ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(v12);
          ++i;
        }
        v13 = (const char *)unknown_libname_79(&v35);
        v31 = j__atol(v13);
        v27 = operator new(0x84Cu);
        LOBYTE(v37) = 4;
        if ( v27 )
        {
          LOWORD(v15) = v31;
          v19 = v15;
          LOWORD(v14) = v36;
          v18 = v14;
          v17 = v15;
          v26 = &v17;
          v22 = unknown_libname_3(&v34);
          v21 = sub_402990(v27, (char)v17, v18, (__int16)v19);
          v20 = v21;
        }
        else
        {
          v20 = 0;
        }
        v28 = v20;
        LOBYTE(v37) = 3;
        *(_DWORD *)(v25 + 12) = v20;
        sub_403100(*(_DWORD *)(v25 + 12));
      }
      else
      {
        *(_DWORD *)(v25 + 88) = GetLastError();
      }
    }
    else
    {
      *(_DWORD *)(v25 + 44) = CreateEventA(0, 1, 0, 0);
      if ( *(_DWORD *)(v25 + 44) )
      {
        *(_DWORD *)(v25 + 64) = CreateEventA(0, 1, 0, 0);
        if ( *(_DWORD *)(v25 + 64) )
          *(_DWORD *)(v25 + 84) = CreateEventA(0, 1, 0, 0);
      }
      if ( *(_DWORD *)(v25 + 16) == 2 && *(_DWORD *)(v25 + 44) && *(_DWORD *)(v25 + 64) && *(_DWORD *)(v25 + 84) )
      {
        sub_401B20(v25, 0x12C0u);
        sub_401BE0(v25, 0, 8u, 0);
        sub_401C60(v25, 0xFFFFFFFF, 0, 0);
        sub_401CD0(v25, 0, 0x3E8u);
        v19 = (void *)0x4000;
        v30 = SetupComm(*(HANDLE *)(v25 + 20), 0x4000u, 0x4000u);
        v19 = (void *)1;
        SetCommMask(*(HANDLE *)(v25 + 20), 1u);
        v19 = (void *)15;
        PurgeComm(*(HANDLE *)(v25 + 20), 0xFu);
      }
      else
      {
        *(_DWORD *)(v25 + 88) = GetLastError();
      }
    }
  }
  LOBYTE(v37) = 2;
  unknown_libname_4(&v35);
  LOBYTE(v37) = 1;
  unknown_libname_4(&v34);
  v37 = -1;
  unknown_libname_4(&a2);
  return v25;
}
// 402060: using guessed type _DWORD __stdcall unknown_libname_3(_DWORD);
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 4020A0: using guessed type _DWORD __stdcall unknown_libname_5(_DWORD);
// 4020C0: using guessed type _DWORD __stdcall ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(char);
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 486700: using guessed type int (__stdcall *off_486700)(int);

//----- (00401600) --------------------------------------------------------
int __thiscall sub_401600(int this)
{
  int v2; // [sp+8h] [bp-18h]@1

  v2 = this;
  *(_DWORD *)this = &off_486700;
  if ( *(_DWORD *)(this + 20) != -1 )
  {
    sub_401870(this);
    PurgeComm(*(HANDLE *)(v2 + 20), 0xFu);
    if ( *(_DWORD *)(v2 + 44) )
      CloseHandle(*(HANDLE *)(v2 + 44));
    if ( *(_DWORD *)(v2 + 64) )
      CloseHandle(*(HANDLE *)(v2 + 64));
    if ( *(_DWORD *)(v2 + 84) )
      CloseHandle(*(HANDLE *)(v2 + 84));
    CloseHandle(*(HANDLE *)(v2 + 20));
    *(_DWORD *)(v2 + 20) = -1;
  }
  if ( *(_DWORD *)(v2 + 16) == 3 && *(_DWORD *)(v2 + 12) )
    (***(void (__thiscall ****)(_DWORD, _DWORD))(v2 + 12))(*(_DWORD *)(v2 + 12), 1);
  return unknown_libname_4(v2 + 104);
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 486700: using guessed type int (__stdcall *off_486700)(int);

//----- (00401710) --------------------------------------------------------
int __thiscall sub_401710(int this, unsigned int (__cdecl *a2)(void *), void *a3)
{
  int result; // eax@2
  int v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  if ( *(_DWORD *)(this + 24) )
  {
    *(_DWORD *)(this + 88) = 183;
    result = 0;
  }
  else
  {
    *(_DWORD *)(this + 88) = 0;
    if ( !a3 )
      a3 = (void *)this;
    *(_DWORD *)(this + 24) = AfxBeginThread(a2, a3, 0, 0, 0, 0);
    if ( !*(_DWORD *)(v4 + 24) )
      *(_DWORD *)(v4 + 88) = GetLastError();
    result = *(_DWORD *)(v4 + 24) != 0;
  }
  return result;
}

//----- (00401790) --------------------------------------------------------
int __thiscall sub_401790(int this, BOOL bWait)
{
  int result; // eax@5
  int v3; // [sp+0h] [bp-14h]@1
  DWORD NumberOfBytesTransferred; // [sp+4h] [bp-10h]@2
  struct _COMSTAT Stat; // [sp+8h] [bp-Ch]@4

  v3 = this;
  if ( *(_DWORD *)(this + 16) == 3 )
  {
    result = 1;
  }
  else if ( GetOverlappedResult(*(HANDLE *)(this + 20), (LPOVERLAPPED)(this + 68), &NumberOfBytesTransferred, bWait) )
  {
    result = *(_DWORD *)(v3 + 96);
  }
  else
  {
    if ( GetLastError() != 996 )
    {
      ClearCommError(*(HANDLE *)(v3 + 20), (LPDWORD)(v3 + 92), &Stat);
      sub_401DD0(v3);
    }
    result = 0;
  }
  return result;
}

//----- (00401870) --------------------------------------------------------
BOOL __thiscall sub_401870(int this)
{
  BOOL result; // eax@1
  int v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  result = this;
  if ( *(_DWORD *)(this + 24) )
  {
    if ( !*(_DWORD *)(this + 8) )
    {
      *(_DWORD *)(this + 8) = 1;
      SetCommMask(*(HANDLE *)(this + 20), 0);
    }
    result = PurgeComm(*(HANDLE *)(v2 + 20), 0xFu);
    *(_DWORD *)(v2 + 24) = 0;
  }
  return result;
}

//----- (004018C0) --------------------------------------------------------
signed int __stdcall sub_4018C0(char a1)
{
  const char *v1; // eax@1
  const char *v2; // eax@2
  const char *v3; // eax@3
  const char *v4; // eax@4
  const char *v5; // eax@6
  const char *v6; // eax@8
  signed int v8; // [sp+8h] [bp-4h]@5

  v1 = (const char *)unknown_libname_79(&a1);
  if ( !strcmp(v1, "COM1")
    || (v2 = (const char *)unknown_libname_79(&a1), !strcmp(v2, "COM2"))
    || (v3 = (const char *)unknown_libname_79(&a1), !strcmp(v3, "COM3"))
    || (v4 = (const char *)unknown_libname_79(&a1), !strcmp(v4, "COM4")) )
  {
    v8 = 2;
  }
  else
  {
    v5 = (const char *)unknown_libname_79(&a1);
    if ( !strcmp(v5, "NONE") )
    {
      v8 = 0;
    }
    else
    {
      v6 = (const char *)unknown_libname_79(&a1);
      if ( !strncmp(v6, "ETHR:", 5u) )
        v8 = 3;
      else
        v8 = 1;
    }
  }
  unknown_libname_4(&a1);
  return v8;
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);

//----- (004019B0) --------------------------------------------------------
DWORD __thiscall sub_4019B0(int this, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, int a4)
{
  DWORD result; // eax@3
  int v5; // [sp+0h] [bp-24h]@1
  DWORD NumberOfBytesRead; // [sp+Ch] [bp-18h]@1
  struct _COMSTAT Stat; // [sp+10h] [bp-14h]@4
  unsigned __int16 v8; // [sp+1Ch] [bp-8h]@17
  int v9; // [sp+20h] [bp-4h]@17

  v5 = this;
  NumberOfBytesRead = 0;
  if ( *(_DWORD *)(this + 16) == 3 )
  {
    v9 = (int)operator new(2u);
    sub_402E90(*(_DWORD *)(v5 + 12), lpBuffer, v9);
    v8 = *(_WORD *)v9;
    j__free((void *)v9);
    result = v8;
  }
  else if ( *(_DWORD *)(this + 20) == -1 )
  {
    result = 0;
  }
  else
  {
    ClearCommError(*(HANDLE *)(this + 20), (LPDWORD)(this + 92), &Stat);
    if ( !a4 && (signed int)nNumberOfBytesToRead > (signed __int32)Stat.cbInQue )
      nNumberOfBytesToRead = Stat.cbInQue;
    if ( (signed int)nNumberOfBytesToRead > 0
      && !ReadFile(*(HANDLE *)(v5 + 20), lpBuffer, nNumberOfBytesToRead, &NumberOfBytesRead, (LPOVERLAPPED)(v5 + 28)) )
    {
      *(_DWORD *)(v5 + 88) = GetLastError();
      if ( *(_DWORD *)(v5 + 88) == 997 )
      {
        while ( !GetOverlappedResult(*(HANDLE *)(v5 + 20), (LPOVERLAPPED)(v5 + 28), &NumberOfBytesRead, 1) )
        {
          *(_DWORD *)(v5 + 88) = GetLastError();
          if ( *(_DWORD *)(v5 + 88) != 996 )
          {
            ClearCommError(*(HANDLE *)(v5 + 20), (LPDWORD)(v5 + 92), &Stat);
            break;
          }
        }
      }
      else
      {
        ClearCommError(*(HANDLE *)(v5 + 20), (LPDWORD)(v5 + 92), &Stat);
      }
    }
    result = NumberOfBytesRead;
  }
  return result;
}

//----- (00401B20) --------------------------------------------------------
BOOL __thiscall sub_401B20(int this, DWORD a2)
{
  int v3; // [sp+0h] [bp-24h]@1
  BOOL v4; // [sp+4h] [bp-20h]@1
  struct _DCB DCB; // [sp+8h] [bp-1Ch]@1

  v3 = this;
  *(_DWORD *)(this + 88) = 0;
  DCB.DCBlength = 28;
  v4 = GetCommState(*(HANDLE *)(this + 20), &DCB);
  if ( v4 )
  {
    DCB.BaudRate = a2;
    v4 = SetCommState(*(HANDLE *)(v3 + 20), &DCB);
  }
  if ( !v4 )
    *(_DWORD *)(v3 + 88) = GetLastError();
  return v4;
}

//----- (00401B90) --------------------------------------------------------
BOOL __thiscall sub_401B90(int this, DWORD dwEvtMask)
{
  int v3; // [sp+0h] [bp-8h]@1
  BOOL v4; // [sp+4h] [bp-4h]@1

  v3 = this;
  *(_DWORD *)(this + 88) = 0;
  v4 = SetCommMask(*(HANDLE *)(this + 20), dwEvtMask);
  if ( !v4 )
    *(_DWORD *)(v3 + 88) = GetLastError();
  return v4;
}

//----- (00401BE0) --------------------------------------------------------
BOOL __thiscall sub_401BE0(int this, BYTE a2, BYTE a3, BYTE a4)
{
  int v5; // [sp+0h] [bp-24h]@1
  BOOL v6; // [sp+4h] [bp-20h]@1
  struct _DCB DCB; // [sp+8h] [bp-1Ch]@1

  v5 = this;
  *(_DWORD *)(this + 88) = 0;
  DCB.DCBlength = 28;
  v6 = GetCommState(*(HANDLE *)(this + 20), &DCB);
  if ( v6 )
  {
    DCB.Parity = a2;
    DCB.ByteSize = a3;
    DCB.StopBits = a4;
    *((_DWORD *)&DCB + 2) |= 2u;
    v6 = SetCommState(*(HANDLE *)(v5 + 20), &DCB);
  }
  if ( !v6 )
    *(_DWORD *)(v5 + 88) = GetLastError();
  return v6;
}

//----- (00401C60) --------------------------------------------------------
BOOL __thiscall sub_401C60(int this, DWORD a2, DWORD a3, DWORD a4)
{
  int v5; // [sp+0h] [bp-1Ch]@1
  BOOL v6; // [sp+4h] [bp-18h]@1
  struct _COMMTIMEOUTS CommTimeouts; // [sp+8h] [bp-14h]@1

  v5 = this;
  *(_DWORD *)(this + 88) = 0;
  v6 = GetCommTimeouts(*(HANDLE *)(this + 20), &CommTimeouts);
  if ( v6 )
  {
    CommTimeouts.ReadIntervalTimeout = a2;
    CommTimeouts.ReadTotalTimeoutMultiplier = a3;
    CommTimeouts.ReadTotalTimeoutConstant = a4;
    v6 = SetCommTimeouts(*(HANDLE *)(v5 + 20), &CommTimeouts);
  }
  if ( !v6 )
    *(_DWORD *)(v5 + 88) = GetLastError();
  return v6;
}

//----- (00401CD0) --------------------------------------------------------
BOOL __thiscall sub_401CD0(int this, DWORD a2, DWORD a3)
{
  int v4; // [sp+0h] [bp-1Ch]@1
  BOOL v5; // [sp+4h] [bp-18h]@1
  struct _COMMTIMEOUTS CommTimeouts; // [sp+8h] [bp-14h]@1

  v4 = this;
  *(_DWORD *)(this + 88) = 0;
  v5 = GetCommTimeouts(*(HANDLE *)(this + 20), &CommTimeouts);
  if ( v5 )
  {
    CommTimeouts.WriteTotalTimeoutMultiplier = a2;
    CommTimeouts.WriteTotalTimeoutConstant = a3;
    v5 = SetCommTimeouts(*(HANDLE *)(v4 + 20), &CommTimeouts);
  }
  if ( !v5 )
    *(_DWORD *)(v4 + 88) = GetLastError();
  return v5;
}

//----- (00401D40) --------------------------------------------------------
BOOL __thiscall sub_401D40(int this, DWORD a2, int a3)
{
  int v4; // [sp+0h] [bp-24h]@1
  BOOL v5; // [sp+4h] [bp-20h]@1
  struct _DCB DCB; // [sp+8h] [bp-1Ch]@1

  v4 = this;
  *(_DWORD *)(this + 88) = 0;
  DCB.DCBlength = 28;
  v5 = GetCommState(*(HANDLE *)(this + 20), &DCB);
  if ( v5 && (DCB.BaudRate != a2 || DCB.Parity != a3) )
  {
    DCB.BaudRate = a2;
    DCB.Parity = a3;
    DCB.ByteSize = 8;
    DCB.StopBits = 0;
    v5 = SetCommState(*(HANDLE *)(v4 + 20), &DCB);
  }
  if ( !v5 )
    *(_DWORD *)(v4 + 88) = GetLastError();
  return v5;
}

//----- (00401DD0) --------------------------------------------------------
BOOL __thiscall sub_401DD0(int this)
{
  BOOL result; // eax@5
  int v2; // [sp+0h] [bp-8h]@1
  BOOL v3; // [sp+4h] [bp-4h]@2

  v2 = this;
  *(_DWORD *)(this + 88) = 0;
  *(_DWORD *)(this + 96) = 0;
  if ( *(_DWORD *)(this + 16) == 3 )
  {
    result = WaitForSingleObject(*(HANDLE *)(*(_DWORD *)(this + 12) + 24), 0x1388u) == 0;
  }
  else
  {
    v3 = WaitCommEvent(*(HANDLE *)(this + 20), (LPDWORD)(this + 96), (LPOVERLAPPED)(this + 68));
    if ( !v3 )
    {
      *(_DWORD *)(v2 + 88) = GetLastError();
      if ( *(_DWORD *)(v2 + 88) == 997 )
        v3 = 1;
    }
    result = v3;
  }
  return result;
}

//----- (00401E70) --------------------------------------------------------
DWORD __thiscall sub_401E70(int this, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite)
{
  DWORD result; // eax@3
  int v4; // [sp+4h] [bp-1Ch]@1
  struct _COMSTAT Stat; // [sp+8h] [bp-18h]@8
  DWORD v6; // [sp+14h] [bp-Ch]@6
  int v7; // [sp+18h] [bp-8h]@4
  DWORD NumberOfBytesWritten; // [sp+1Ch] [bp-4h]@1

  v4 = this;
  NumberOfBytesWritten = 0;
  if ( *(_DWORD *)(this + 16) == 3 )
  {
    sub_402F20(*(_DWORD *)(this + 12), (void *)lpBuffer, nNumberOfBytesToWrite);
    result = nNumberOfBytesToWrite;
  }
  else if ( *(_DWORD *)(this + 20) == -1 )
  {
    result = 0;
  }
  else
  {
    v7 = WriteFile(
           *(HANDLE *)(this + 20),
           lpBuffer,
           nNumberOfBytesToWrite,
           &NumberOfBytesWritten,
           (LPOVERLAPPED)(this + 48));
    if ( !v7 )
    {
      *(_DWORD *)(v4 + 88) = GetLastError();
      if ( *(_DWORD *)(v4 + 88) == 997 )
      {
        v6 = WaitForSingleObject(*(HANDLE *)(v4 + 64), 0xFFFFFFFF);
        if ( v6 )
        {
          ClearCommError(*(HANDLE *)(v4 + 20), (LPDWORD)(v4 + 92), &Stat);
        }
        else if ( !GetOverlappedResult(*(HANDLE *)(v4 + 20), (LPOVERLAPPED)(v4 + 48), &NumberOfBytesWritten, 0) )
        {
          ClearCommError(*(HANDLE *)(v4 + 20), (LPDWORD)(v4 + 92), &Stat);
        }
      }
      else
      {
        ClearCommError(*(HANDLE *)(v4 + 20), (LPDWORD)(v4 + 92), &Stat);
      }
    }
    result = NumberOfBytesWritten;
  }
  return result;
}

//----- (00401FB0) --------------------------------------------------------
void *__thiscall sub_401FB0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_401600((int)this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}

//----- (00402040) --------------------------------------------------------
void *__thiscall sub_402040(void *this)
{
  void *v1; // ST04_4@1
  int v2; // eax@1

  v1 = this;
  v2 = unknown_libname_82();
  sub_4021D0(v1, v2);
  return v1;
}
// 4023F0: using guessed type int unknown_libname_82(void);

//----- (004020E0) --------------------------------------------------------
ATL::CStringData *__thiscall sub_4020E0(void *this)
{
  ATL::CStringData *result; // eax@1
  ATL::CStringData *v2; // ST08_4@4
  void *v3; // [sp+0h] [bp-10h]@1
  ATL::CStringData *v4; // [sp+8h] [bp-8h]@1
  int v5; // [sp+Ch] [bp-4h]@1

  result = (ATL::CStringData *)unknown_libname_81(this);
  v4 = result;
  v5 = *(_DWORD *)result;
  if ( *((_DWORD *)result + 1) )
  {
    if ( ATL::CStringData::IsLocked(result) )
    {
      result = (ATL::CStringData *)sub_4023A0(v3, 0);
    }
    else
    {
      sub_402170(v4);
      v2 = (ATL::CStringData *)(*(int (__thiscall **)(int))(*(_DWORD *)v5 + 12))(v5);
      result = (ATL::CStringData *)unknown_libname_80(v2);
    }
  }
  return result;
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (00402170) --------------------------------------------------------
int __thiscall sub_402170(_DWORD *this)
{
  int result; // eax@1

  result = (int)(this + 3);
  if ( _InterlockedDecrement(this + 3) <= 0 )
    result = (*(int (__thiscall **)(_DWORD, _DWORD *))(*(_DWORD *)*this + 4))(*this, this);
  return result;
}

//----- (004021B0) --------------------------------------------------------
int __thiscall sub_4021B0(void *this)
{
  return *(_DWORD *)(unknown_libname_81(this) + 4);
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (004021D0) --------------------------------------------------------
void *__thiscall sub_4021D0(void *this, int a2)
{
  ATL::CStringData *v2; // ST0C_4@3
  void *v4; // [sp+0h] [bp-Ch]@1

  v4 = this;
  if ( !a2 )
    sub_401010(-2147467259);
  v2 = (ATL::CStringData *)(*(int (__thiscall **)(int))(*(_DWORD *)a2 + 12))(a2);
  unknown_libname_80(v2);
  return v4;
}

//----- (00402220) --------------------------------------------------------
int __thiscall sub_402220(void *this, int a2)
{
  ATL::CStringData *v2; // ST0C_4@1
  ATL::CStringData *v3; // ST08_4@1
  int v4; // ST04_4@1

  v2 = (ATL::CStringData *)unknown_libname_81(this);
  v3 = (ATL::CStringData *)ATL::CSimpleStringT<char,0>::CloneData(v2);
  unknown_libname_80(v3);
  return v4;
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (00402260) --------------------------------------------------------
int __thiscall sub_402260(void *this)
{
  _DWORD *v1; // ST04_4@1

  v1 = (_DWORD *)unknown_libname_81(this);
  return sub_402170(v1);
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (00402280) --------------------------------------------------------
int __thiscall sub_402280(void *this, void *a2)
{
  int v2; // ST08_4@1
  int v3; // ST04_4@4
  void *v4; // eax@4
  ATL::CStringData *v5; // ST0C_4@5
  int v7; // [sp+0h] [bp-10h]@1
  ATL::CStringData *v8; // [sp+8h] [bp-8h]@1
  ATL::CStringData *v9; // [sp+Ch] [bp-4h]@1

  v9 = (ATL::CStringData *)unknown_libname_81(this);
  v8 = (ATL::CStringData *)unknown_libname_81(v2);
  if ( v9 != v8 )
  {
    if ( ATL::CStringData::IsLocked(v8) || *(_DWORD *)v9 != *(_DWORD *)v8 )
    {
      v3 = sub_4021B0(a2);
      v4 = (void *)unknown_libname_79(a2);
      ATL::CSimpleStringT<char,0>::SetString(v4, v3);
    }
    else
    {
      v5 = (ATL::CStringData *)ATL::CSimpleStringT<char,0>::CloneData(v9);
      sub_402170(v8);
      unknown_libname_80(v5);
    }
  }
  return v7;
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (004023A0) --------------------------------------------------------
_DWORD *__thiscall sub_4023A0(void *this, int a2)
{
  _DWORD *result; // eax@4
  _DWORD *v3; // [sp+0h] [bp-4h]@2

  if ( a2 < 0 || a2 > *(_DWORD *)(unknown_libname_81(this) + 8) )
    sub_401010(-2147024809);
  *(_DWORD *)(unknown_libname_81(v3) + 4) = a2;
  result = v3;
  *(_BYTE *)(*v3 + a2) = 0;
  return result;
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (00402470) --------------------------------------------------------
int __thiscall sub_402470(void *this, int a2)
{
  int v2; // edx@1
  void *v4; // [sp+0h] [bp-10h]@1

  v2 = unknown_libname_81(this);
  if ( ((*(_DWORD *)(v2 + 8) - a2) | (1 - *(_DWORD *)(v2 + 12))) < 0 )
    sub_402590(v4, a2);
  return *(_DWORD *)v4;
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);

//----- (00402590) --------------------------------------------------------
int __thiscall sub_402590(void *this, int a2)
{
  int result; // eax@4
  void *v3; // [sp+0h] [bp-Ch]@1
  signed int v4; // [sp+4h] [bp-8h]@6
  int v5; // [sp+4h] [bp-8h]@7
  ATL::CStringData *v6; // [sp+8h] [bp-4h]@1

  v6 = (ATL::CStringData *)unknown_libname_81(this);
  if ( *((_DWORD *)v6 + 1) > a2 )
    a2 = *((_DWORD *)v6 + 1);
  if ( ATL::CStringData::IsShared(v6) )
  {
    result = ATL::CSimpleStringT<char,0>::Fork(a2);
  }
  else
  {
    result = (int)v6;
    if ( *((_DWORD *)v6 + 2) < a2 )
    {
      v4 = *((_DWORD *)v6 + 2);
      if ( v4 <= 1024 )
        v5 = 2 * v4;
      else
        v5 = v4 + 1024;
      if ( v5 < a2 )
        v5 = a2;
      result = sub_402830(v3, v5);
    }
  }
  return result;
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);
// 402770: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::Fork(_DWORD);

//----- (00402700) --------------------------------------------------------
int __thiscall sub_402700(int this)
{
  int result; // eax@1

  result = this + 12;
  _InterlockedExchangeAdd((volatile signed __int32 *)(this + 12), 1u);
  return result;
}

//----- (00402830) --------------------------------------------------------
int __thiscall sub_402830(void *this, int a2)
{
  _DWORD *v3; // [sp+4h] [bp-Ch]@1
  ATL::CStringData *v4; // [sp+Ch] [bp-4h]@4

  v3 = (_DWORD *)unknown_libname_81(this);
  if ( v3[2] >= a2 || a2 <= 0 )
    unknown_libname_83();
  v4 = (ATL::CStringData *)(*(int (__thiscall **)(_DWORD, _DWORD *, int, signed int))(*(_DWORD *)*v3 + 8))(
                             *v3,
                             v3,
                             a2,
                             1);
  if ( !v4 )
    unknown_libname_83();
  return unknown_libname_80(v4);
}
// 402380: using guessed type int __cdecl unknown_libname_81(_DWORD);
// 402760: using guessed type int unknown_libname_83(void);

//----- (004028A0) --------------------------------------------------------
int __cdecl sub_4028A0(int a1, int a2)
{
  __int32 v3; // [sp+0h] [bp-8h]@1
  int v4; // [sp+4h] [bp-4h]@1

  v3 = unknown_libname_84(&v4, a1, a2);
  if ( v3 < 0 )
    sub_401010(v3);
  return v4;
}
// 4028E0: using guessed type _DWORD __cdecl unknown_libname_84(_DWORD, _DWORD, _DWORD);

//----- (00402920) --------------------------------------------------------
unsigned int __cdecl sub_402920(_WORD *a1, signed int a2)
{
  unsigned int v3; // [sp+0h] [bp-4h]@1

  v3 = 0;
  while ( a2 > 1 )
  {
    v3 += *a1;
    ++a1;
    a2 -= 2;
  }
  if ( a2 )
    v3 += *(_BYTE *)a1;
  return ~((unsigned __int16)v3 + (v3 >> 16) + (((unsigned __int16)v3 + (v3 >> 16)) >> 16));
}

//----- (00402990) --------------------------------------------------------
int __thiscall sub_402990(void *this, char a2, __int16 a3, __int16 a4)
{
  const char *v4; // eax@1
  int v5; // ecx@1
  int v7; // [sp-4h] [bp-1D8h]@1
  int v8; // [sp+4h] [bp-1D0h]@21
  int v9; // [sp+8h] [bp-1CCh]@18
  int v10; // [sp+Ch] [bp-1C8h]@1
  int v11; // [sp+10h] [bp-1C4h]@1
  int v12; // [sp+14h] [bp-1C0h]@1
  void *v13; // [sp+18h] [bp-1BCh]@20
  int v14; // [sp+1Ch] [bp-1B8h]@23
  void *v15; // [sp+20h] [bp-1B4h]@17
  int v16; // [sp+24h] [bp-1B0h]@20
  int *v17; // [sp+28h] [bp-1ACh]@1
  struct hostent *v18; // [sp+2Ch] [bp-1A8h]@8
  struct WSAData WSAData; // [sp+30h] [bp-1A4h]@1
  int v20; // [sp+1D0h] [bp-4h]@1

  v12 = (int)this;
  v20 = 0;
  *(_DWORD *)this = &off_4868A4;
  *(_DWORD *)(v12 + 2104) = -1;
  *(_BYTE *)(v12 + 76) = 0;
  *(_BYTE *)(v12 + 156) = 0;
  *(_DWORD *)(v12 + 2108) = 0;
  *(_DWORD *)(v12 + 2112) = 0;
  *(_DWORD *)(v12 + 2116) = 0;
  *(_DWORD *)(v12 + 28) = -1;
  *(_DWORD *)(v12 + 32) = 1;
  *(_DWORD *)(v12 + 36) = 0;
  *(_DWORD *)(v12 + 24) = 0;
  *(_DWORD *)(v12 + 48) = -1;
  *(_DWORD *)(v12 + 52) = 1;
  *(_DWORD *)(v12 + 56) = 0;
  *(_DWORD *)(v12 + 44) = 0;
  *(_DWORD *)(v12 + 64) = 0;
  *(_DWORD *)(v12 + 4) = 0;
  *(_DWORD *)(v12 + 2076) = 0;
  *(_DWORD *)(v12 + 2092) = 2;
  v4 = (const char *)unknown_libname_79(&a2);
  strcpy((char *)(v12 + 156), v4);
  *(_WORD *)(v12 + 2088) = a3;
  v5 = v12;
  *(_WORD *)(v12 + 2090) = a4;
  v7 = v5;
  v17 = &v7;
  v11 = unknown_libname_3(&a2);
  v10 = sub_402FD0(v7);
  *(_DWORD *)(v12 + 2096) = v10;
  if ( WSAStartup(0x202u, &WSAData) == -1 )
  {
    WSACleanup();
  }
  else
  {
    if ( *(_DWORD *)(v12 + 2096) != 1 )
    {
      if ( *(_DWORD *)(v12 + 2096) != 2 && *(_DWORD *)(v12 + 2096) != 3 )
      {
        *(_DWORD *)(v12 + 2108) = GetLastError();
      }
      else
      {
        if ( *(_DWORD *)(v12 + 2096) == 3 )
        {
          *(_WORD *)(v12 + 2088) = *(_WORD *)(v12 + 2090);
          strcpy((char *)(v12 + 156), "localhost");
        }
        v18 = gethostbyname("localhost");
        if ( v18 )
        {
          strcpy((char *)(v12 + 76), v18->h_name);
          memcpy((void *)(v12 + 2080), *(const void **)v18->h_addr_list, v18->h_length);
        }
        else
        {
          *(_BYTE *)(v12 + 76) = 0;
        }
        v18 = gethostbyname((const char *)(v12 + 156));
        if ( v18 )
          memcpy((void *)(v12 + 2084), *(const void **)v18->h_addr_list, v18->h_length);
        else
          *(_DWORD *)(v12 + 2084) = inet_addr((const char *)(v12 + 156));
      }
    }
    if ( *(_DWORD *)(v12 + 2096) )
    {
      v15 = operator new(0x10u);
      LOBYTE(v20) = 1;
      if ( v15 )
        v9 = sub_4040F0((int)v15, 16000);
      else
        v9 = 0;
      v16 = v9;
      LOBYTE(v20) = 0;
      *(_DWORD *)(v12 + 68) = v9;
      v13 = operator new(0x10u);
      LOBYTE(v20) = 2;
      if ( v13 )
        v8 = sub_4040F0((int)v13, 500);
      else
        v8 = 0;
      v14 = v8;
      LOBYTE(v20) = 0;
      *(_DWORD *)(v12 + 72) = v8;
    }
    else
    {
      *(_DWORD *)(v12 + 68) = 0;
      *(_DWORD *)(v12 + 72) = 0;
    }
  }
  v20 = -1;
  unknown_libname_4(&a2);
  return v12;
}
// 402060: using guessed type _DWORD __stdcall unknown_libname_3(_DWORD);
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 4868A4: using guessed type int (__stdcall *off_4868A4)(int);

//----- (00402DF0) --------------------------------------------------------
void **__thiscall sub_402DF0(DWORD this)
{
  void **result; // eax@5
  DWORD v2; // [sp+8h] [bp-14h]@1
  void **v3; // [sp+10h] [bp-Ch]@5
  void **v4; // [sp+18h] [bp-4h]@3

  v2 = this;
  *(_DWORD *)this = &off_4868A4;
  if ( *(_DWORD *)(this + 2104) != -1 )
  {
    CloseHandle(*(HANDLE *)(this + 2104));
    *(_DWORD *)(v2 + 2104) = -1;
  }
  sub_403EA0(v2);
  v4 = *(void ***)(v2 + 68);
  if ( v4 )
    sub_404040(v4, 1);
  result = *(void ***)(v2 + 72);
  v3 = *(void ***)(v2 + 72);
  if ( v3 )
    result = sub_404040(v3, 1);
  return result;
}
// 4868A4: using guessed type int (__stdcall *off_4868A4)(int);

//----- (00402E90) --------------------------------------------------------
bool __thiscall sub_402E90(int this, void *a2, int a3)
{
  unsigned int v3; // eax@2
  char v5; // [sp+4h] [bp-5F0h]@2
  size_t v6; // [sp+5E0h] [bp-14h]@3
  bool v7; // [sp+5F3h] [bp-1h]@2

  *(_WORD *)a3 = 0;
  if ( *(_DWORD *)(this + 32) == 1 )
  {
    v7 = 0;
  }
  else
  {
    v3 = sub_404250(*(_DWORD *)(this + 68), &v5, 1);
    v7 = v3 != 0;
    if ( v3 )
    {
      *(_WORD *)a3 = v6;
      memcpy(a2, &v5, v6);
    }
  }
  return v7;
}

//----- (00402F20) --------------------------------------------------------
BOOL __thiscall sub_402F20(int this, void *a2, size_t a3)
{
  int v4; // [sp+0h] [bp-5F4h]@1
  char v5; // [sp+4h] [bp-5F0h]@2
  size_t v6; // [sp+5E0h] [bp-14h]@2
  int v7; // [sp+5F0h] [bp-4h]@1

  v4 = this;
  v7 = 0;
  if ( *(_DWORD *)(this + 52) != 1 )
  {
    v7 = 1;
    memcpy(&v5, a2, a3);
    v6 = a3;
    sub_4041C0(*(_DWORD *)(v4 + 72), &v5, 1);
    if ( sub_4042F0(*(_DWORD *)(v4 + 72)) == 1 )
      SetEvent(*(HANDLE *)(v4 + 44));
  }
  return v7 != 0;
}

//----- (00402FD0) --------------------------------------------------------
signed int __stdcall sub_402FD0(char a1)
{
  const char *v1; // eax@3
  const char *v2; // eax@5
  signed int v4; // [sp+8h] [bp-4h]@2

  if ( sub_404070(&a1, "FILE", 0) )
  {
    v1 = (const char *)unknown_libname_79(&a1);
    if ( !strcmp(v1, "NONE") )
    {
      v4 = 0;
    }
    else
    {
      v2 = (const char *)unknown_libname_79(&a1);
      if ( !strcmp(v2, "LOOPBACK") )
        v4 = 3;
      else
        v4 = 2;
    }
  }
  else
  {
    v4 = 1;
  }
  unknown_libname_4(&a1);
  return v4;
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);

//----- (00403100) --------------------------------------------------------
HANDLE __thiscall sub_403100(int this)
{
  HANDLE result; // eax@3
  int v2; // [sp+0h] [bp-Ch]@1
  DWORD v3; // [sp+4h] [bp-8h]@5
  DWORD ThreadId; // [sp+8h] [bp-4h]@2

  v2 = this;
  if ( *(_DWORD *)(this + 2096) )
  {
    *(_DWORD *)(this + 36) = *(_WORD *)(this + 2088);
    *(_DWORD *)(this + 24) = CreateEventA(0, 0, 0, 0);
    *(_DWORD *)(v2 + 40) = *(_DWORD *)(v2 + 68);
    *(_DWORD *)(v2 + 32) = 0;
    *(_DWORD *)(v2 + 8) = CreateThread(0, 0, StartAddress, (LPVOID)(v2 + 24), 0, &ThreadId);
  }
  result = (HANDLE)v2;
  if ( *(_DWORD *)(v2 + 2096) || *(_DWORD *)(v2 + 2100) )
  {
    *(_DWORD *)(v2 + 44) = CreateEventA(0, 0, 0, 0);
    *(_DWORD *)(v2 + 60) = *(_DWORD *)(v2 + 72);
    *(_DWORD *)(v2 + 52) = 0;
    *(_DWORD *)(v2 + 64) = v2 + 156;
    *(_DWORD *)(v2 + 56) = *(_WORD *)(v2 + 2090);
    result = CreateThread(0, 0, sub_403200, (LPVOID)(v2 + 44), 0, &v3);
    *(_DWORD *)(v2 + 12) = result;
  }
  return result;
}

//----- (00403200) --------------------------------------------------------
DWORD __stdcall sub_403200(LPVOID lpThreadParameter)
{
  int v1; // eax@14
  DWORD v2; // eax@14
  char buf; // [sp+0h] [bp-6A8h]@9
  int len; // [sp+5DCh] [bp-CCh]@10
  char Buffer; // [sp+5E8h] [bp-C0h]@14
  LPVOID v7; // [sp+664h] [bp-44h]@1
  struct hostent *v8; // [sp+668h] [bp-40h]@2
  int v9; // [sp+66Ch] [bp-3Ch]@14
  SOCKET s; // [sp+670h] [bp-38h]@1
  int optlen; // [sp+674h] [bp-34h]@3
  __time64_t Time; // [sp+678h] [bp-30h]@14
  struct sockaddr to; // [sp+684h] [bp-24h]@10
  int v14; // [sp+698h] [bp-10h]@10
  char optval; // [sp+69Ch] [bp-Ch]@3
  int v16; // [sp+6A0h] [bp-8h]@1
  DWORD NumberOfBytesWritten; // [sp+6A4h] [bp-4h]@14

  s = -1;
  v7 = lpThreadParameter;
  v16 = 0;
  if ( strcmp(*((const char **)lpThreadParameter + 5), "NONE") )
  {
    v8 = gethostbyname(*((const char **)v7 + 5));
    if ( v8 )
    {
      s = socket(2, 2, 0);
      optlen = 4;
      getsockopt(s, 0xFFFF, 8195, &optval, &optlen);
    }
  }
  while ( *((_DWORD *)v7 + 2) != 1 && (s != -1 || *((_DWORD *)v7 + 1) != -1) )
  {
    WaitForSingleObject(*(HANDLE *)v7, 0xFFFFFFFF);
    while ( sub_404250(*((_DWORD *)v7 + 4), 0, 0) )
    {
      ++v16;
      sub_404250(*((_DWORD *)v7 + 4), &buf, 1);
      if ( s != -1 )
      {
        to.sa_family = 2;
        memcpy(&to.sa_data[2], *(const void **)v8->h_addr_list, v8->h_length);
        *(_WORD *)&to.sa_data[0] = htons(*((_WORD *)v7 + 6));
        v14 = sendto(s, &buf, len, 0, &to, 16);
        if ( v14 == -1 )
        {
          v14 = WSAGetLastError();
          if ( v14 == 10004 )
            *((_DWORD *)v7 + 2) = 1;
        }
      }
      if ( *((_DWORD *)v7 + 1) != -1 )
      {
        v9 = 0;
        unknown_libname_11(&Time);
        Buffer = 0;
        v1 = unknown_libname_10(&Time);
        sprintf(
          &Buffer,
          "\n\nTX packet size = %u. \nTX packet # = %u. \nDestination Address = %s UDP Port = %i\n%s",
          len,
          v16,
          *((_DWORD *)v7 + 5),
          *((_DWORD *)v7 + 3),
          v1);
        v2 = strlen(&Buffer);
        v9 = WriteFile(*((HANDLE *)v7 + 1), &Buffer, v2, &NumberOfBytesWritten, 0);
        v9 = WriteFile(*((HANDLE *)v7 + 1), &buf, len, &NumberOfBytesWritten, 0);
      }
    }
  }
  closesocket(s);
  return 0;
}

//----- (00403490) --------------------------------------------------------
DWORD __stdcall StartAddress(LPVOID lpThreadParameter)
{
  int v1; // ST18_4@12
  int v2; // ST14_4@12
  char *v3; // eax@12
  DWORD v4; // eax@12
  char Buffer; // [sp+0h] [bp-6B8h]@12
  LPVOID v7; // [sp+78h] [bp-640h]@1
  char optval[4]; // [sp+7Ch] [bp-63Ch]@1
  struct sockaddr from; // [sp+80h] [bp-638h]@10
  struct hostent *v10; // [sp+90h] [bp-628h]@1
  int v11; // [sp+94h] [bp-624h]@12
  char buf; // [sp+98h] [bp-620h]@10
  DWORD nNumberOfBytesToWrite; // [sp+674h] [bp-44h]@11
  DWORD v14; // [sp+678h] [bp-40h]@11
  int fromlen; // [sp+680h] [bp-38h]@1
  int v16; // [sp+684h] [bp-34h]@1
  int v17; // [sp+688h] [bp-30h]@1
  int v18; // [sp+68Ch] [bp-2Ch]@4
  __time64_t Time; // [sp+690h] [bp-28h]@12
  SOCKET s; // [sp+698h] [bp-20h]@1
  int v21; // [sp+69Ch] [bp-1Ch]@10
  struct sockaddr name; // [sp+6A0h] [bp-18h]@2
  DWORD NumberOfBytesWritten; // [sp+6B4h] [bp-4h]@12

  *(_DWORD *)optval = 1000;
  v16 = 0;
  v7 = lpThreadParameter;
  s = -1;
  fromlen = 16;
  v17 = 1;
  v10 = gethostbyname("localhost");
  if ( v10 )
  {
    name.sa_family = 2;
    *(_DWORD *)&name.sa_data[2] = 0;
    *(_WORD *)&name.sa_data[0] = htons(*((_WORD *)v7 + 6));
    s = socket(2, 2, 17);
    if ( s != -1 )
    {
      if ( bind(s, &name, 16) == -1 )
      {
        v18 = WSAGetLastError();
        s = -1;
      }
      if ( setsockopt(s, 0xFFFF, 4102, optval, 4) == -1 )
      {
        v18 = WSAGetLastError();
        s = -1;
      }
    }
  }
  while ( *((_DWORD *)v7 + 2) != 1 && s != -1 )
  {
    if ( s != -1 )
    {
      v21 = recvfrom(s, &buf, 1500, 0, &from, &fromlen);
      if ( v21 == -1 )
      {
        v18 = WSAGetLastError();
        if ( v18 != 10060 && v18 == 10004 )
          *((_DWORD *)v7 + 2) = 1;
      }
      else
      {
        v14 = GetTickCount();
        nNumberOfBytesToWrite = v21;
        sub_4041C0(*((_DWORD *)v7 + 4), &buf, 1);
        ++v16;
        SetEvent(*(HANDLE *)v7);
        if ( *((_DWORD *)v7 + 1) != -1 )
        {
          v11 = 0;
          unknown_libname_11(&Time);
          Buffer = 0;
          v1 = unknown_libname_10(&Time);
          v2 = *((_DWORD *)v7 + 3);
          v3 = inet_ntoa(*(struct in_addr *)&from.sa_data[2]);
          sprintf(
            &Buffer,
            "\n\nRX packet size = %u. \nRX packet # = %u.\nSource IP Address  = %s UDP Port = %u\n%s",
            v21,
            v16,
            v3,
            v2,
            v1);
          v4 = strlen(&Buffer);
          v11 = WriteFile(*((HANDLE *)v7 + 1), &Buffer, v4, &NumberOfBytesWritten, 0);
          v11 = WriteFile(*((HANDLE *)v7 + 1), &buf, nNumberOfBytesToWrite, &NumberOfBytesWritten, 0);
        }
      }
    }
  }
  closesocket(s);
  return 0;
}

//----- (00403860) --------------------------------------------------------
int __stdcall sub_403860(int a1)
{
  char v1; // ST14_1@2
  void **v2; // eax@2
  int result; // eax@2
  char v4; // ST14_1@6
  void **v5; // eax@6
  char v6; // ST14_1@8
  void **v7; // eax@8
  __int16 v8; // ax@23
  __int16 v9; // ax@23
  char v10; // ST14_1@27
  void **v11; // eax@27
  int v12; // esi@32
  struct sockaddr from; // [sp+4h] [bp-B30h]@28
  char optval[4]; // [sp+14h] [bp-B20h]@1
  unsigned __int32 v15; // [sp+18h] [bp-B1Ch]@1
  __int16 v16; // [sp+1Ch] [bp-B18h]@1
  struct hostent *v17; // [sp+20h] [bp-B14h]@12
  int len; // [sp+24h] [bp-B10h]@23
  unsigned __int16 v19; // [sp+28h] [bp-B0Ch]@30
  char v20[4]; // [sp+2Ch] [bp-B08h]@23
  char *v21; // [sp+30h] [bp-B04h]@23
  int fromlen; // [sp+34h] [bp-B00h]@1
  int v23; // [sp+38h] [bp-AFCh]@9
  char *v24; // [sp+3Ch] [bp-AF8h]@30
  SOCKET s; // [sp+40h] [bp-AF4h]@3
  struct sockaddr to[20]; // [sp+44h] [bp-AF0h]@12
  char *v27; // [sp+188h] [bp-9ACh]@23
  char v28[1028]; // [sp+18Ch] [bp-9A8h]@28
  int v29; // [sp+590h] [bp-5A4h]@1
  struct WSAData WSAData; // [sp+594h] [bp-5A0h]@1
  int v31; // [sp+724h] [bp-410h]@5
  char v32; // [sp+72Bh] [bp-409h]@28
  char buf; // [sp+72Ch] [bp-408h]@23
  char v34; // [sp+72Dh] [bp-407h]@23
  char v35; // [sp+738h] [bp-3FCh]@23

  fromlen = 16;
  *(_DWORD *)optval = 1000;
  v15 = 0;
  v16 = 0;
  v29 = a1;
  if ( WSAStartup(0x102u, &WSAData) )
  {
    v1 = GetLastError();
    v2 = sub_468982();
    sub_468833((FILE *)v2 + 2, (int)"WSAStartup failed: %d\n", v1);
    result = 0;
  }
  else
  {
    s = WSASocketA(2, 3, 1, 0, 0, 1u);
    if ( s == -1 )
    {
      result = 0;
    }
    else
    {
      v31 = setsockopt(s, 0xFFFF, 4102, optval, 4);
      if ( v31 == -1 )
      {
        v4 = WSAGetLastError();
        v5 = sub_468982();
        sub_468833((FILE *)v5 + 2, (int)"failed to set recv timeout: %d\n", v4);
        result = 0;
      }
      else
      {
        *(_DWORD *)optval = 1000;
        v31 = setsockopt(s, 0xFFFF, 4101, optval, 4);
        if ( v31 == -1 )
        {
          v6 = WSAGetLastError();
          v7 = sub_468982();
          sub_468833((FILE *)v7 + 2, (int)"failed to set send timeout: %d\n", v6);
          result = 0;
        }
        else
        {
          v23 = 0;
          while ( *(_DWORD *)(v29 + 2092) != 2 )
          {
            if ( *(_DWORD *)(v29 + 2092) != 1 )
            {
              memset(to, 0, 0x140u);
              v17 = gethostbyname((const char *)(v29 + 92 * v23 + 236));
              if ( !v17 )
              {
                v15 = inet_addr((const char *)(v29 + 92 * v23 + 236));
                *(_DWORD *)(v29 + 92 * v23 + 316) = v15;
              }
              if ( !v17 && v15 == -1 )
                return 0;
              if ( v17 )
              {
                memcpy(&to[v23].sa_data[2], *(const void **)v17->h_addr_list, v17->h_length);
                memcpy((void *)(v29 + 92 * v23 + 316), *(const void **)v17->h_addr_list, v17->h_length);
              }
              else
              {
                *(_DWORD *)&to[v23].sa_data[2] = v15;
              }
              if ( v17 )
                to[v23].sa_family = v17->h_addrtype;
              else
                to[v23].sa_family = 2;
              v27 = inet_ntoa(*(struct in_addr *)&to[v23].sa_data[2]);
              len = 44;
              memset(&buf, 0, 0x400u);
              v21 = &buf;
              buf = 8;
              v34 = 0;
              v8 = GetCurrentProcessId();
              *((_WORD *)v21 + 2) = v23 + v8;
              *((_WORD *)v21 + 1) = 0;
              *((_WORD *)v21 + 3) = 0;
              memset(&v35, 69, len - 12);
              *((_WORD *)v21 + 1) = 0;
              *((_DWORD *)v21 + 2) = GetTickCount();
              *((_WORD *)v21 + 3) = v16++;
              v9 = sub_402920(&buf, len);
              *((_WORD *)v21 + 1) = v9;
              *(_DWORD *)v20 = sendto(s, &buf, len, 0, &to[v23], 16);
              if ( *(_DWORD *)v20 == -1 && WSAGetLastError() != 10060 )
                return 0;
              if ( *(_DWORD *)v20 < len )
              {
                v10 = v20[0];
                v11 = sub_468982();
                sub_468833((FILE *)v11 + 1, (int)"Wrote %d bytes\n", v10);
              }
              v31 = recvfrom(s, v28, 1024, 0, &from, &fromlen);
              v32 = 0;
              if ( v31 == -1 )
              {
                WSAGetLastError();
              }
              else
              {
                v24 = v28;
                v19 = 4 * (v28[0] & 0xF);
                if ( v31 >= v19 + 8 )
                {
                  v21 = &v28[v19];
                  if ( !v28[v19] )
                  {
                    v12 = *((_WORD *)v21 + 2);
                    if ( v12 == v23 + (unsigned __int16)GetCurrentProcessId() )
                    {
                      *(_DWORD *)(v29 + 92 * v23 + 320) = 0;
                      *(_BYTE *)(v29 + 92 * v23 + 324) = 1;
                      v32 = 1;
                    }
                  }
                }
              }
              if ( !v32 && ++*(_DWORD *)(v29 + 92 * v23 + 320) > 3 )
                *(_BYTE *)(v29 + 92 * v23 + 324) = 0;
            }
            Sleep(0x3E8u);
            if ( ++v23 >= *(_DWORD *)(v29 + 2076) )
              v23 = 0;
          }
          closesocket(s);
          result = 0;
        }
      }
    }
  }
  return result;
}
// 403860: using guessed type struct sockaddr to[20];
// 403860: using guessed type char var_9A8[1028];

//----- (00403EA0) --------------------------------------------------------
DWORD __thiscall sub_403EA0(DWORD this)
{
  DWORD result; // eax@3
  DWORD v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  *(_DWORD *)(this + 52) = 1;
  *(_DWORD *)(this + 32) = 1;
  *(_DWORD *)(this + 2092) = 2;
  if ( *(_DWORD *)(this + 2096) )
  {
    SetEvent(*(HANDLE *)(this + 44));
    WaitForSingleObject(*(HANDLE *)(v2 + 12), 0xFFFFFFFF);
    CloseHandle(*(HANDLE *)(v2 + 44));
    TerminateThread(*(HANDLE *)(v2 + 12), 0);
    CloseHandle(*(HANDLE *)(v2 + 12));
    *(_DWORD *)(v2 + 12) = 0;
    Sleep(8u);
    WaitForSingleObject(*(HANDLE *)(v2 + 8), 0xFFFFFFFF);
    CloseHandle(*(HANDLE *)(v2 + 24));
    TerminateThread(*(HANDLE *)(v2 + 8), 0);
    CloseHandle(*(HANDLE *)(v2 + 8));
    *(_DWORD *)(v2 + 8) = 0;
    Sleep(8u);
  }
  result = v2;
  if ( *(_DWORD *)(v2 + 4) )
    result = WaitForSingleObject(*(HANDLE *)(v2 + 4), 0xFFFFFFFF);
  return result;
}

//----- (00404010) --------------------------------------------------------
void *__thiscall sub_404010(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_402DF0((DWORD)this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}

//----- (00404040) --------------------------------------------------------
void **__thiscall sub_404040(void **this, char a2)
{
  void **v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_404190(this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}

//----- (00404070) --------------------------------------------------------
int __thiscall sub_404070(void *this, unsigned __int8 *a2, int a3)
{
  int result; // eax@2
  int v4; // eax@6
  int v5; // [sp+0h] [bp-10h]@7
  void *v6; // [sp+4h] [bp-Ch]@1
  int v7; // [sp+8h] [bp-8h]@3
  unsigned __int8 *v8; // [sp+Ch] [bp-4h]@6

  v6 = this;
  if ( a2 )
  {
    v7 = sub_4021B0(this);
    if ( a3 >= 0 && a3 <= v7 )
    {
      v4 = unknown_libname_79(v6);
      v8 = sub_404340((unsigned __int8 *)(a3 + v4), a2);
      if ( v8 )
        v5 = (int)&v8[-unknown_libname_79(v6)];
      else
        v5 = -1;
      result = v5;
    }
    else
    {
      result = -1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);

//----- (004040F0) --------------------------------------------------------
int __thiscall sub_4040F0(int this, int a2)
{
  int v3; // [sp+0h] [bp-Ch]@1
  signed int i; // [sp+8h] [bp-4h]@1

  v3 = this;
  *(_DWORD *)(this + 4) = 2147483648;
  for ( i = 0; i < 32 && !(*(_DWORD *)(this + 4) & a2); ++i )
    *(_DWORD *)(this + 4) >>= 1;
  *(_DWORD *)this = operator new(1508 * *(_DWORD *)(this + 4));
  *(_DWORD *)(v3 + 8) = 0;
  *(_DWORD *)(v3 + 12) = 0;
  return v3;
}

//----- (00404190) --------------------------------------------------------
void __thiscall sub_404190(void **this)
{
  j__free(*this);
}

//----- (004041C0) --------------------------------------------------------
int __thiscall sub_4041C0(int this, const void *a2, int a3)
{
  int result; // eax@2

  while ( a3 )
  {
    qmemcpy((void *)(1508 * *(_DWORD *)(this + 8) + *(_DWORD *)this), a2, 0x5E4u);
    a2 = (char *)a2 + 1508;
    result = this;
    if ( ((*(_DWORD *)(this + 4) - 1) & (*(_DWORD *)(this + 8) + 1)) == *(_DWORD *)(this + 12) )
      break;
    result = this;
    *(_DWORD *)(this + 8) = (*(_DWORD *)(this + 4) - 1) & (*(_DWORD *)(this + 8) + 1);
    --a3;
  }
  return result;
}

//----- (00404250) --------------------------------------------------------
unsigned int __thiscall sub_404250(int this, void *a2, int a3)
{
  unsigned int result; // eax@2
  unsigned int v4; // [sp+Ch] [bp-4h]@3

  if ( a2 )
  {
    v4 = 0;
    while ( a3 && *(_DWORD *)(this + 8) != *(_DWORD *)(this + 12) )
    {
      qmemcpy(a2, (const void *)(1508 * *(_DWORD *)(this + 12) + *(_DWORD *)this), 0x5E4u);
      a2 = (char *)a2 + 1508;
      *(_DWORD *)(this + 12) = (*(_DWORD *)(this + 4) - 1) & (*(_DWORD *)(this + 12) + 1);
      --a3;
      ++v4;
    }
    result = v4;
  }
  else
  {
    result = sub_4042F0(this);
  }
  return result;
}

//----- (004042F0) --------------------------------------------------------
unsigned int __thiscall sub_4042F0(int this)
{
  unsigned int v2; // [sp+4h] [bp-4h]@1

  v2 = *(_DWORD *)(this + 8) - *(_DWORD *)(this + 12);
  if ( v2 > *(_DWORD *)(this + 4) )
  {
    v2 += *(_DWORD *)(this + 4);
    if ( v2 > *(_DWORD *)(this + 4) )
      v2 = 0;
  }
  return v2;
}

//----- (00404340) --------------------------------------------------------
unsigned __int8 *__cdecl sub_404340(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return _mbsstr(a1, a2);
}

//----- (00404360) --------------------------------------------------------
signed int __cdecl sub_404360(int a1, signed int a2)
{
  signed int v3; // [sp+0h] [bp-Ch]@1
  signed int v4; // [sp+4h] [bp-8h]@1
  signed int v5; // [sp+8h] [bp-4h]@1

  v3 = 0;
  v5 = 0;
  v4 = -1;
  while ( v5 < a2 && !v3 )
  {
    if ( *(_BYTE *)(v5 + a1) == 212 && v5 + 1 < a2 - 1 && *(_BYTE *)(v5 + a1 + 1) == 238 )
    {
      v3 = 1;
      v4 = v5;
    }
    ++v5;
  }
  return v4;
}

//----- (004043E0) --------------------------------------------------------
signed int __cdecl sub_4043E0(int a1, int a2, int a3)
{
  char v4; // [sp+0h] [bp-8h]@1
  signed int v5; // [sp+4h] [bp-4h]@1

  v5 = 9;
  v4 = *(_BYTE *)(a3 + a1 + 2);
  if ( v4 > 0 && v4 <= 7 && dword_4AB030[*(_BYTE *)(a3 + a1 + 2)] <= a2 - a3 - 1 )
    v5 = *(_BYTE *)(a3 + a1 + 2);
  return v5;
}
// 4AB030: using guessed type int dword_4AB030[];

//----- (00404440) --------------------------------------------------------
unsigned __int16 __cdecl sub_404440(int a1, int a2, int a3)
{
  unsigned __int16 v4; // [sp+4h] [bp-Ch]@1
  signed int v5; // [sp+Ch] [bp-4h]@1

  v4 = -1;
  v5 = sub_4043E0(a1, a2, a3);
  if ( v5 == 1 || v5 == 2 || v5 == 6 || v5 == 7 )
    v4 = _byteswap_ushort(*(_WORD *)(a3 + a1 + 3));
  return v4;
}

//----- (004044C0) --------------------------------------------------------
char __cdecl sub_4044C0(int a1, int a2, int a3)
{
  char v4; // [sp+3h] [bp-5h]@1
  signed int v5; // [sp+4h] [bp-4h]@1

  v4 = 16;
  v5 = sub_4043E0(a1, a2, a3);
  if ( v5 == 1 || v5 == 2 )
    v4 = *(_BYTE *)(a3 + a1 + 6);
  return v4;
}

//----- (00404500) --------------------------------------------------------
char __cdecl sub_404500(int a1, int a2, int a3)
{
  char v4; // [sp+3h] [bp-5h]@1
  signed int v5; // [sp+4h] [bp-4h]@1

  v4 = 0;
  v5 = sub_4043E0(a1, a2, a3);
  if ( v5 == 1 || v5 == 2 || v5 == 6 || v5 == 7 )
    v4 = *(_BYTE *)(a3 + a1 + 5);
  return v4;
}

//----- (00404550) --------------------------------------------------------
char __cdecl sub_404550(int a1, int a2, int a3)
{
  char v4; // [sp+3h] [bp-5h]@1

  v4 = 0;
  if ( sub_4043E0(a1, a2, a3) == 6 )
    v4 = *(_BYTE *)(a3 + a1 + 6);
  return v4;
}

//----- (00404590) --------------------------------------------------------
int __cdecl sub_404590(int a1, int a2, int a3, void *a4, size_t a5)
{
  int result; // eax@1
  signed int v6; // [sp+0h] [bp-Ch]@2
  signed int i; // [sp+4h] [bp-8h]@2

  memset(a4, 0, a5);
  result = sub_4043E0(a1, a2, a3);
  if ( result == 4 )
  {
    result = *(_BYTE *)(a3 + a1 + 3);
    v6 = *(_BYTE *)(a3 + a1 + 3);
    for ( i = 0; i < v6 && i < (signed int)(a5 - 1); ++i )
    {
      *((_BYTE *)a4 + i) = *(_BYTE *)(a1 + a3 + i + 4);
      result = i + 1;
    }
  }
  return result;
}

//----- (00404620) --------------------------------------------------------
int __cdecl sub_404620(int a1, int a2, int a3, void *a4, size_t a5)
{
  int result; // eax@1
  signed int v6; // [sp+0h] [bp-Ch]@2
  signed int i; // [sp+4h] [bp-8h]@2

  memset(a4, 0, a5);
  result = sub_4043E0(a1, a2, a3);
  if ( result == 5 )
  {
    result = *(_BYTE *)(a3 + a1 + 3);
    v6 = *(_BYTE *)(a3 + a1 + 3);
    for ( i = 0; i < v6 && i < (signed int)(a5 - 1); ++i )
    {
      *((_BYTE *)a4 + i) = *(_BYTE *)(a1 + a3 + i + 4);
      result = i + 1;
    }
  }
  return result;
}

//----- (004046B0) --------------------------------------------------------
int (**sub_4046B0())()
{
  return sub_4046C0();
}

//----- (004046C0) --------------------------------------------------------
int (**sub_4046C0())()
{
  return &off_486910;
}
// 486910: using guessed type int (*off_486910)();

//----- (004046E0) --------------------------------------------------------
_DWORD *__thiscall sub_4046E0(_DWORD *this)
{
  _DWORD *v1; // ST08_4@1

  v1 = this;
  sub_454326(this, 0);
  *v1 = &off_486934;
  sub_404A50(v1 + 41);
  return v1;
}
// 486934: using guessed type int (*off_486934)();

//----- (00404750) --------------------------------------------------------
int __thiscall sub_404750(CWinApp *this)
{
  CWinApp *v1; // ST04_4@1

  v1 = this;
  *(_DWORD *)this = &off_486934;
  unknown_libname_14((char *)this + 164);
  return CWinApp::~CWinApp(v1);
}
// 404A90: using guessed type int __thiscall unknown_libname_14(_DWORD);
// 486934: using guessed type int (*off_486934)();

//----- (004047C0) --------------------------------------------------------
_DWORD *__thiscall sub_4047C0(int this, int a2)
{
  if ( !*(_DWORD *)(this + 32) )
    *(_DWORD *)(this + 32) = a2;
  return sub_404B10((void *)(this + 164), &a2);
}

//----- (004048E0) --------------------------------------------------------
BOOL __thiscall sub_4048E0(int this, char a2)
{
  return sub_404B40((_DWORD *)(this + 164), (int *)&a2);
}

//----- (00404900) --------------------------------------------------------
_DWORD *__thiscall sub_404900(int this, int a2)
{
  _DWORD *result; // eax@1
  _DWORD *v3; // eax@3
  _DWORD *v4; // edx@3
  int v5; // [sp+0h] [bp-1Ch]@1
  char v6; // [sp+4h] [bp-18h]@6
  char v7; // [sp+Ch] [bp-10h]@3
  char v8; // [sp+14h] [bp-8h]@2

  v5 = this;
  result = (_DWORD *)this;
  if ( a2 == *(_DWORD *)(this + 32) )
  {
    sub_404AB0(this + 164, &v8);
    while ( 1 )
    {
      v3 = sub_404AE0(v5 + 164, &v7);
      result = (_DWORD *)sub_404C20(&v8, v4, (int)v3);
      if ( !(_BYTE)result )
        break;
      if ( *(_DWORD *)unknown_libname_15(&v8) != a2 )
      {
        result = (_DWORD *)unknown_libname_15(&v8);
        *(_DWORD *)(v5 + 32) = *result;
        return result;
      }
      sub_404BE0(&v8, (int)&v6, 0);
    }
  }
  return result;
}
// 404BC0: using guessed type int __thiscall unknown_libname_15(_DWORD);

//----- (00404990) --------------------------------------------------------
int __thiscall sub_404990(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 32) = a2;
  return result;
}

//----- (004049B0) --------------------------------------------------------
int sub_4049B0()
{
  return *((_DWORD *)AfxGetModuleState() + 1);
}

//----- (004049D0) --------------------------------------------------------
CWinApp *__thiscall sub_4049D0(CWinApp *this, char a2)
{
  CWinApp *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_404750(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (00404A00) --------------------------------------------------------
void __stdcall sub_404A00(void *a1)
{
  j__free(a1);
}

//----- (00404A20) --------------------------------------------------------
BOOL __thiscall sub_404A20(int this, UINT Msg, WPARAM wParam, LPARAM lParam)
{
  return PostMessageA(*(HWND *)(this + 32), Msg, wParam, lParam);
}

//----- (00404A50) --------------------------------------------------------
int __thiscall sub_404A50(void *this)
{
  void *v2; // [sp-4h] [bp-Ch]@1
  void *v3; // [sp+0h] [bp-8h]@1

  v3 = this;
  v2 = this;
  unknown_libname_92(&v2);
  sub_404F10(v3, (char)v2);
  *((_DWORD *)v3 + 1) = sub_404DA0(v3);
  *((_DWORD *)v3 + 2) = 0;
  return (int)v3;
}
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);

//----- (00404AB0) --------------------------------------------------------
_DWORD *__thiscall sub_404AB0(int this, _DWORD *a2)
{
  int v2; // ST04_4@1
  int *v3; // eax@1

  v2 = this;
  v3 = (int *)unknown_libname_87(*(_DWORD *)(this + 4));
  sub_404F50(a2, *v3, v2);
  return a2;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);

//----- (00404AE0) --------------------------------------------------------
_DWORD *__thiscall sub_404AE0(int this, _DWORD *a2)
{
  sub_404F50(a2, *(_DWORD *)(this + 4), this);
  return a2;
}

//----- (00404B10) --------------------------------------------------------
_DWORD *__thiscall sub_404B10(void *this, _DWORD *a2)
{
  void *v2; // ST0C_4@1
  _DWORD *v3; // eax@1
  char v5; // [sp+4h] [bp-8h]@1

  v2 = this;
  v3 = sub_404AE0((int)this, &v5);
  return sub_404C60(v2, *v3, v3[1], a2);
}

//----- (00404B40) --------------------------------------------------------
BOOL __thiscall sub_404B40(_DWORD *this, int *a2)
{
  _DWORD *v2; // edx@1
  BOOL result; // eax@2
  _DWORD *v4; // eax@3
  int v5; // eax@4
  _DWORD *v6; // [sp+0h] [bp-20h]@1
  char v7; // [sp+4h] [bp-1Ch]@4
  int v8; // [sp+8h] [bp-18h]@5
  int v9; // [sp+Ch] [bp-14h]@1
  _DWORD *v10; // [sp+10h] [bp-10h]@4
  int v11; // [sp+14h] [bp-Ch]@1
  char v12; // [sp+18h] [bp-8h]@1

  v6 = this;
  v11 = *a2;
  sub_404AE0((int)this, &v12);
  sub_404AB0((int)v6, &v9);
  while ( 1 )
  {
    result = sub_404C20(&v9, v2, (int)&v12);
    if ( !(_BYTE)result )
      break;
    v4 = (_DWORD *)unknown_libname_15(&v9);
    if ( *v4 == v11 )
    {
      v5 = sub_404CE0(v6, (int)&v7, v9, (int)v10);
      v2 = *(_DWORD **)(v5 + 4);
      v9 = *(_DWORD *)v5;
      v10 = v2;
    }
    else
    {
      unknown_libname_17(v6, *(_DWORD *)&v7, v8);
    }
  }
  return result;
}
// 404BC0: using guessed type int __thiscall unknown_libname_15(_DWORD);
// 404F70: using guessed type int __cdecl unknown_libname_17(_DWORD, _DWORD, _DWORD);

//----- (00404BE0) --------------------------------------------------------
int __thiscall sub_404BE0(_DWORD *this, int a2, int a3)
{
  int v3; // ST04_4@1
  int v4; // ST08_4@1

  unknown_libname_17(this, *this, this[1]);
  *(_DWORD *)a2 = v3;
  *(_DWORD *)(a2 + 4) = v4;
  return a2;
}
// 404F70: using guessed type int __cdecl unknown_libname_17(_DWORD, _DWORD, _DWORD);

//----- (00404C20) --------------------------------------------------------
BOOL __fastcall sub_404C20(_DWORD *a1, _DWORD *a2, int a3)
{
  return sub_404FE0(a1, a2, a3) == 0;
}

//----- (00404C60) --------------------------------------------------------
_DWORD *__thiscall sub_404C60(void *this, char a2, int a3, _DWORD *a4)
{
  void *v4; // ST0C_4@1
  int v5; // eax@1
  int v6; // ST10_4@1
  _DWORD *v7; // ST08_4@1
  _DWORD *v8; // eax@1
  void *v9; // ST14_4@1
  _DWORD *v10; // eax@1
  _DWORD *result; // eax@1

  v4 = this;
  v5 = unknown_libname_88(&a2);
  v6 = v5;
  v7 = a4;
  v8 = (_DWORD *)sub_405030(v5);
  v9 = sub_4050F0(v4, v6, *v8, v7);
  sub_405240((int)v4, 1u);
  *(_DWORD *)sub_405030(v6) = v9;
  v10 = (_DWORD *)sub_405030((int)v9);
  result = (_DWORD *)unknown_libname_87(*v10);
  *result = v9;
  return result;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);
// 405970: using guessed type int __thiscall unknown_libname_88(_DWORD);

//----- (00404CE0) --------------------------------------------------------
int __thiscall sub_404CE0(_DWORD *this, int a2, int a3, int a4)
{
  int v4; // eax@1
  _DWORD *v5; // esi@2
  _DWORD *v6; // eax@2
  _DWORD *v7; // esi@2
  int *v8; // eax@2
  _DWORD *v10; // [sp+4h] [bp-10h]@1
  char v11; // [sp+8h] [bp-Ch]@1
  void *v12; // [sp+10h] [bp-4h]@1

  v10 = this;
  v4 = sub_404BE0(&a3, (int)&v11, 0);
  v12 = (void *)unknown_libname_88(v4);
  if ( v12 != (void *)v10[1] )
  {
    v5 = (_DWORD *)unknown_libname_87(v12);
    v6 = (_DWORD *)sub_405030((int)v12);
    *(_DWORD *)unknown_libname_87(*v6) = *v5;
    v7 = (_DWORD *)sub_405030((int)v12);
    v8 = (int *)unknown_libname_87(v12);
    *(_DWORD *)sub_405030(*v8) = *v7;
    sub_4058B0((int)v12);
    unknown_libname_23(v12, 1);
    --v10[2];
  }
  *(_DWORD *)a2 = a3;
  *(_DWORD *)(a2 + 4) = a4;
  return a2;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);
// 405970: using guessed type int __thiscall unknown_libname_88(_DWORD);

//----- (00404DA0) --------------------------------------------------------
void *__thiscall sub_404DA0(void *this)
{
  int v2; // [sp+0h] [bp-34h]@1
  void *v3; // [sp+10h] [bp-24h]@1
  void *v4; // [sp+14h] [bp-20h]@1
  void *v5; // [sp+18h] [bp-1Ch]@1
  void *v6; // [sp+1Ch] [bp-18h]@1
  int v7; // [sp+20h] [bp-14h]@1
  int *v8; // [sp+24h] [bp-10h]@1
  int v9; // [sp+30h] [bp-4h]@1

  v8 = &v2;
  v5 = this;
  v6 = sub_405870(1u);
  v7 = 0;
  v9 = 0;
  v4 = (void *)unknown_libname_87(v6);
  sub_405890(v4, &v6);
  ++v7;
  v3 = (void *)sub_405030((int)v6);
  sub_405890(v3, &v6);
  return v6;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);

//----- (00404EA0) --------------------------------------------------------
void *__thiscall sub_404EA0(void *this)
{
  void *v1; // ST08_4@1
  int v2; // eax@1
  int v3; // eax@1
  void *result; // eax@1

  v1 = this;
  sub_405050((int)this);
  v2 = unknown_libname_87(*((_DWORD *)v1 + 1));
  sub_4058B0(v2);
  v3 = sub_405030(*((_DWORD *)v1 + 1));
  sub_4058B0(v3);
  unknown_libname_23(*((void **)v1 + 1), 1);
  result = v1;
  *((_DWORD *)v1 + 1) = 0;
  return result;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);

//----- (00404F10) --------------------------------------------------------
void *__thiscall sub_404F10(void *this, char a2)
{
  void *v2; // ST08_4@1
  char v3; // ST04_1@1

  v2 = this;
  v3 = (char)this;
  IUnknown::operator=(&a2);
  sub_405830(v2, v3);
  IUnknown::operator=(&a2);
  return v2;
}
// 405E60: using guessed type _DWORD __stdcall IUnknown::operator=(_DWORD);

//----- (00404F50) --------------------------------------------------------
_DWORD *__thiscall sub_404F50(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // ST08_4@1

  v3 = this;
  sub_4058D0(this, a2, a3);
  return v3;
}

//----- (00404F90) --------------------------------------------------------
int __fastcall sub_404F90(_DWORD *a1, int a2)
{
  _DWORD *v3; // [sp+0h] [bp-4h]@1

  v3 = a1;
  if ( !*a1 )
    _invalid_parameter_noinfo(a1, a2);
  if ( v3[1] == *(_DWORD *)(*v3 + 4) )
    _invalid_parameter_noinfo(*v3, v3);
  return sub_405040(v3[1]);
}
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00404FE0) --------------------------------------------------------
bool __fastcall sub_404FE0(_DWORD *this, _DWORD *edx0, int a2)
{
  _DWORD *v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  if ( !*this || (edx0 = this, this = (_DWORD *)*this, *v4 != *(_DWORD *)a2) )
    _invalid_parameter_noinfo(this, edx0);
  return v4[1] == *(_DWORD *)(a2 + 4);
}
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00405030) --------------------------------------------------------
int __cdecl sub_405030(int a1)
{
  return a1 + 4;
}

//----- (00405040) --------------------------------------------------------
int __cdecl sub_405040(int a1)
{
  return a1 + 8;
}

//----- (00405050) --------------------------------------------------------
void *__thiscall sub_405050(int this)
{
  void *result; // eax@2
  void *v2; // ST0C_4@3
  int v3; // [sp+0h] [bp-Ch]@1
  void *v4; // [sp+8h] [bp-4h]@1

  v3 = this;
  v4 = *(void **)unknown_libname_87(*(_DWORD *)(this + 4));
  *(_DWORD *)unknown_libname_87(*(_DWORD *)(v3 + 4)) = *(_DWORD *)(v3 + 4);
  *(_DWORD *)sub_405030(*(_DWORD *)(v3 + 4)) = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(v3 + 8) = 0;
  while ( 1 )
  {
    result = v4;
    if ( v4 == *(void **)(v3 + 4) )
      break;
    v2 = *(void **)unknown_libname_87(v4);
    sub_4058B0((int)v4);
    unknown_libname_23(v4, 1);
    v4 = v2;
  }
  return result;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);

//----- (004050F0) --------------------------------------------------------
void *__thiscall sub_4050F0(void *this, char a2, char a3, _DWORD *a4)
{
  int v5; // [sp+0h] [bp-38h]@1
  void *v6; // [sp+10h] [bp-28h]@1
  void *v7; // [sp+14h] [bp-24h]@1
  void *v8; // [sp+18h] [bp-20h]@1
  void *v9; // [sp+1Ch] [bp-1Ch]@1
  void *v10; // [sp+20h] [bp-18h]@1
  int v11; // [sp+24h] [bp-14h]@1
  int *v12; // [sp+28h] [bp-10h]@1
  int v13; // [sp+34h] [bp-4h]@1

  v12 = &v5;
  v9 = this;
  v10 = sub_405870(1u);
  v11 = 0;
  v13 = 0;
  v8 = (void *)unknown_libname_87(v10);
  sub_405890(v8, &a2);
  ++v11;
  v7 = (void *)sub_405030((int)v10);
  sub_405890(v7, &a3);
  ++v11;
  v6 = (void *)sub_405040((int)v10);
  sub_405890(v6, a4);
  return v10;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);

//----- (00405240) --------------------------------------------------------
int __thiscall sub_405240(int this, unsigned int a2)
{
  int result; // eax@4
  int v3; // [sp+4h] [bp-54h]@1
  char v4; // [sp+8h] [bp-50h]@2
  char v5; // [sp+24h] [bp-34h]@3
  int v6; // [sp+54h] [bp-4h]@2

  v3 = this;
  if ( sub_405C70() - *(_DWORD *)(this + 8) < a2 )
  {
    sub_405A70(&v4, "list<T> too long");
    v6 = 0;
    unknown_libname_18(&v4);
    _CxxThrowException(&v5, &unk_4A5494);
  }
  result = v3;
  *(_DWORD *)(v3 + 8) += a2;
  return result;
}
// 4052E0: using guessed type _DWORD __stdcall unknown_libname_18(_DWORD);
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00405310) --------------------------------------------------------
void *__thiscall sub_405310(void *this, _AfxBindStatusCallback *a2)
{
  void *v2; // ST08_4@1

  v2 = this;
  sub_468E7B((int)this);
  *(_DWORD *)v2 = &off_486A10;
  sub_405450((char *)v2 + 12, a2);
  return v2;
}
// 486A10: using guessed type int (__stdcall *off_486A10)(int);

//----- (004053A0) --------------------------------------------------------
void *__thiscall sub_4053A0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_4053D0((int)this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}

//----- (004053D0) --------------------------------------------------------
void __thiscall sub_4053D0(int this)
{
  int v1; // ST00_4@1

  v1 = this;
  *(_DWORD *)this = &off_486A10;
  sub_405490((void *)(this + 12));
  sub_468F32(v1);
}
// 486A10: using guessed type int (__stdcall *off_486A10)(int);

//----- (00405400) --------------------------------------------------------
void __thiscall sub_405400(void *this)
{
  *(_DWORD *)this = &off_486A04;
  sub_4053D0((int)this);
}
// 486A04: using guessed type int (__stdcall *off_486A04)(int);

//----- (00405420) --------------------------------------------------------
void *__thiscall sub_405420(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_405400(this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}

//----- (00405450) --------------------------------------------------------
void *__thiscall sub_405450(void *this, _AfxBindStatusCallback *a2)
{
  void *v2; // ST0C_4@1

  v2 = this;
  unknown_libname_180(a2);
  sub_405590((int)v2, 0, 0);
  sub_4054D0(v2, a2, 0, -1);
  return v2;
}
// 405640: using guessed type _DWORD __stdcall unknown_libname_180(_DWORD);

//----- (00405490) --------------------------------------------------------
int __thiscall sub_405490(void *this)
{
  return sub_405590((int)this, 1, 0);
}

//----- (004054D0) --------------------------------------------------------
int __thiscall sub_4054D0(void *this, _AfxBindStatusCallback *a2, int a3, int a4)
{
  void *v4; // ST08_4@8
  rsize_t v5; // ST04_4@8
  void *v6; // eax@8
  int v8; // [sp+0h] [bp-8h]@1
  char *MaxCount; // [sp+4h] [bp-4h]@3

  v8 = (int)this;
  if ( (unsigned int)_AfxBindStatusCallback::GetOwner(a2) < a3 )
    sub_48202C();
  MaxCount = (char *)_AfxBindStatusCallback::GetOwner(a2) - a3;
  if ( a4 < (unsigned int)MaxCount )
    MaxCount = (char *)a4;
  if ( (_AfxBindStatusCallback *)v8 == a2 )
  {
    sub_405660(v8, (unsigned int)&MaxCount[a3], 0xFFFFFFFF);
    sub_405660(v8, 0, a3);
  }
  else if ( (unsigned __int8)sub_405770((void *)v8, (unsigned int)MaxCount, 0) )
  {
    v4 = (void *)(a3 + unknown_libname_20(a2));
    v5 = *(_DWORD *)(v8 + 24);
    v6 = (void *)unknown_libname_20(v8);
    sub_405E00(v6, v5, v4, (rsize_t)MaxCount);
    sub_405720(v8, (int)MaxCount);
  }
  return v8;
}
// 405610: using guessed type int __thiscall unknown_libname_20(_DWORD);

//----- (00405590) --------------------------------------------------------
int __thiscall sub_405590(int this, char a2, rsize_t MaxCount)
{
  int v4; // [sp+0h] [bp-8h]@1
  void *Src; // [sp+4h] [bp-4h]@3

  v4 = this;
  if ( a2 && *(_DWORD *)(this + 24) >= 0x10u )
  {
    Src = *(void **)(this + 4);
    if ( MaxCount )
      sub_405E00((void *)(this + 4), 0x10u, Src, MaxCount);
    unknown_libname_23(Src, *(_DWORD *)(v4 + 24) + 1);
  }
  *(_DWORD *)(v4 + 24) = 15;
  return sub_405720(v4, MaxCount);
}

//----- (00405660) --------------------------------------------------------
int __thiscall sub_405660(int this, unsigned int a2, unsigned int a3)
{
  rsize_t v3; // ST0C_4@6
  void *v4; // ST08_4@6
  rsize_t v5; // ST04_4@6
  int v6; // eax@6
  int v8; // [sp+0h] [bp-8h]@1

  v8 = this;
  if ( *(_DWORD *)(this + 20) < a2 )
    sub_48202C();
  if ( *(_DWORD *)(this + 20) - a2 < a3 )
    a3 = *(_DWORD *)(this + 20) - a2;
  if ( a3 )
  {
    v3 = *(_DWORD *)(this + 20) - a2 - a3;
    v4 = (void *)(a3 + a2 + unknown_libname_20(this));
    v5 = *(_DWORD *)(v8 + 24) - a2;
    v6 = unknown_libname_20(v8);
    sub_405E30((void *)(a2 + v6), v5, v4, v3);
    sub_405720(v8, *(_DWORD *)(v8 + 20) - a3);
  }
  return v8;
}
// 405610: using guessed type int __thiscall unknown_libname_20(_DWORD);

//----- (00405720) --------------------------------------------------------
int __thiscall sub_405720(int this, int a2)
{
  int v2; // eax@1
  char v4; // [sp+7h] [bp-1h]@1

  v4 = 0;
  *(_DWORD *)(this + 20) = a2;
  v2 = unknown_libname_20(this);
  return std::char_traits<char>::assign(a2 + v2, &v4);
}
// 405610: using guessed type int __thiscall unknown_libname_20(_DWORD);
// 405760: using guessed type _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD);

//----- (00405770) --------------------------------------------------------
BOOL __thiscall sub_405770(void *this, unsigned int a2, char a3)
{
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (int)this;
  if ( unknown_libname_78(this) < a2 )
    sub_481FED();
  if ( *(_DWORD *)(v4 + 24) >= a2 )
  {
    if ( a3 && a2 < 0x10 )
    {
      if ( a2 >= *(_DWORD *)(v4 + 20) )
        sub_405590(v4, 1, *(_DWORD *)(v4 + 20));
      else
        sub_405590(v4, 1, a2);
    }
    else if ( !a2 )
    {
      sub_405720(v4, 0);
    }
  }
  else
  {
    sub_405AF0((_DWORD *)v4, a2, *(_DWORD *)(v4 + 20));
  }
  return a2 > 0;
}
// 405AB0: using guessed type int __thiscall unknown_libname_78(_DWORD);

//----- (00405830) --------------------------------------------------------
void *__thiscall sub_405830(void *this, char a2)
{
  void *v2; // ST08_4@1
  char v3; // ST04_1@1

  v2 = this;
  v3 = (char)this;
  IUnknown::operator=(&a2);
  sub_4147D0(v2, v3);
  IUnknown::operator=(&a2);
  return v2;
}
// 405E60: using guessed type _DWORD __stdcall IUnknown::operator=(_DWORD);

//----- (00405870) --------------------------------------------------------
void *__stdcall sub_405870(unsigned int a1)
{
  return sub_405E70(a1);
}

//----- (00405890) --------------------------------------------------------
_DWORD *__stdcall sub_405890(void *a1, _DWORD *a2)
{
  return sub_405F40(a1, a2);
}

//----- (004058B0) --------------------------------------------------------
void __stdcall sub_4058B0(int a1)
{
  sub_405F90();
}

//----- (004058D0) --------------------------------------------------------
_DWORD *__thiscall sub_4058D0(_DWORD *this, int a2, int a3)
{
  _DWORD *v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  unknown_libname_26();
  v4[1] = a2;
  if ( !a3 )
    _invalid_parameter_noinfo(a2, 1);
  *v4 = a3;
  return v4;
}
// 405A30: using guessed type int unknown_libname_26(void);
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00405910) --------------------------------------------------------
_DWORD *__fastcall sub_405910(_DWORD *a1, int a2)
{
  _DWORD *v3; // [sp+0h] [bp-4h]@1

  v3 = a1;
  if ( !*a1 )
    _invalid_parameter_noinfo(a1, a2);
  if ( v3[1] == *(_DWORD *)(*v3 + 4) )
    _invalid_parameter_noinfo(*v3, v3);
  v3[1] = *(_DWORD *)unknown_libname_87(v3[1]);
  return v3;
}
// 404C50: using guessed type _DWORD __cdecl unknown_libname_87(_DWORD);
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (004059C0) --------------------------------------------------------
std::exception *__thiscall sub_4059C0(std::exception *this, struct std::exception *a2)
{
  std::exception *v2; // ST08_4@1

  v2 = this;
  std::exception::exception(this, a2);
  *(_DWORD *)v2 = &off_486A10;
  sub_405450((char *)v2 + 12, (struct std::exception *)((char *)a2 + 12));
  return v2;
}
// 486A10: using guessed type int (__stdcall *off_486A10)(int);

//----- (00405A70) --------------------------------------------------------
void *__thiscall sub_405A70(void *this, char *a2)
{
  void *v3; // [sp-4h] [bp-Ch]@1
  void *v4; // [sp+0h] [bp-8h]@1

  v4 = this;
  v3 = this;
  unknown_libname_92(&v3);
  sub_4147D0(v4, (char)v3);
  sub_405590((int)v4, 0, 0);
  sub_405C90((_AfxBindStatusCallback *)v4, a2);
  return v4;
}
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);

//----- (00405AF0) --------------------------------------------------------
int __thiscall sub_405AF0(_DWORD *this, int a2, rsize_t MaxCount)
{
  int v3; // esi@4
  int v4; // eax@4
  void *v5; // eax@7
  int v7; // [sp+0h] [bp-34h]@1
  void *v8; // [sp+14h] [bp-20h]@6
  _DWORD *v9; // [sp+18h] [bp-1Ch]@1
  unsigned int v10; // [sp+1Ch] [bp-18h]@1
  void *Dst; // [sp+20h] [bp-14h]@6
  int *v12; // [sp+24h] [bp-10h]@1
  int v13; // [sp+30h] [bp-4h]@6

  v12 = &v7;
  v9 = this;
  v10 = a2 | 0xF;
  if ( ((int (*)(void))unknown_libname_78)() >= (a2 | 0xFu) )
  {
    if ( v10 / 3 < v9[6] >> 1 )
    {
      v3 = v9[6] >> 1;
      v4 = unknown_libname_78(v9);
      if ( v9[6] <= (unsigned int)(v4 - v3) )
        v10 = v9[6] + (v9[6] >> 1);
    }
  }
  else
  {
    v10 = a2;
  }
  Dst = 0;
  v13 = 0;
  v8 = (void *)std::allocator<char>::allocate(v10 + 1);
  Dst = v8;
  v13 = -1;
  if ( MaxCount )
  {
    v5 = (void *)unknown_libname_20(v9);
    sub_405E00(Dst, v10 + 1, v5, MaxCount);
  }
  sub_405590((int)v9, 1, 0);
  v9[1] = Dst;
  v9[6] = v10;
  return sub_405720((int)v9, MaxCount);
}
// 405610: using guessed type int __thiscall unknown_libname_20(_DWORD);
// 405AB0: using guessed type int __thiscall unknown_libname_78(_DWORD);

//----- (00405C70) --------------------------------------------------------
signed int sub_405C70()
{
  return sub_414DD0();
}

//----- (00405C90) --------------------------------------------------------
_AfxBindStatusCallback *__thiscall sub_405C90(_AfxBindStatusCallback *this, char *a2)
{
  _AfxBindStatusCallback *v2; // ST08_4@1
  rsize_t v3; // eax@1

  v2 = this;
  v3 = unknown_libname_28(a2);
  return sub_405D30(v2, a2, v3);
}

//----- (00405D30) --------------------------------------------------------
_AfxBindStatusCallback *__thiscall sub_405D30(_AfxBindStatusCallback *this, void *Src, rsize_t MaxCount)
{
  int v3; // eax@2
  _AfxBindStatusCallback *result; // eax@2
  rsize_t v5; // ST04_4@4
  void *v6; // eax@4
  _AfxBindStatusCallback *v7; // [sp+0h] [bp-4h]@1

  v7 = this;
  if ( sub_405DC0(this, (unsigned int)Src) )
  {
    v3 = unknown_libname_20(v7);
    result = (_AfxBindStatusCallback *)sub_4054D0((void *)v7, v7, (int)Src - v3, MaxCount);
  }
  else
  {
    if ( (unsigned __int8)sub_405770((void *)v7, MaxCount, 0) )
    {
      v5 = *((_DWORD *)v7 + 6);
      v6 = (void *)unknown_libname_20(v7);
      sub_405E00(v6, v5, Src, MaxCount);
      sub_405720((int)v7, MaxCount);
    }
    result = v7;
  }
  return result;
}
// 405610: using guessed type int __thiscall unknown_libname_20(_DWORD);

//----- (00405DC0) --------------------------------------------------------
bool __thiscall sub_405DC0(_DWORD *this, unsigned int a2)
{
  _DWORD *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  return a2 >= unknown_libname_20(this) && v3[5] + unknown_libname_20(v3) > a2;
}
// 405610: using guessed type int __thiscall unknown_libname_20(_DWORD);

//----- (00405E00) --------------------------------------------------------
int __cdecl sub_405E00(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount)
{
  int v4; // ecx@0

  unknown_libname_42(v4);
  return std::_Traits_helper::copy_s<std::char_traits<char>>(Dst, DstSize, Src, MaxCount);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (00405E30) --------------------------------------------------------
int __cdecl sub_405E30(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount)
{
  int v4; // ecx@0

  unknown_libname_42(v4);
  return std::_Traits_helper::move_s<std::char_traits<char>>(Dst, DstSize, Src, MaxCount);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (00405E70) --------------------------------------------------------
void *__cdecl sub_405E70(unsigned int a1)
{
  char v2; // [sp+0h] [bp-Ch]@4

  if ( a1 )
  {
    if ( 0xFFFFFFFF / a1 < 0xC )
    {
      sub_405EC0((std::exception *)&v2, 0);
      _CxxThrowException(&v2, &unk_4A5618);
    }
  }
  else
  {
    a1 = 0;
  }
  return operator new(12 * a1);
}
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00405EC0) --------------------------------------------------------
std::exception *__thiscall sub_405EC0(std::exception *this, char *a2)
{
  std::exception *v2; // ST04_4@1

  v2 = this;
  std::exception::exception(this, (const char *const *)&a2);
  *(_DWORD *)v2 = &off_486A20;
  return v2;
}
// 486A20: using guessed type int (__stdcall *off_486A20)(int);

//----- (00405EF0) --------------------------------------------------------
void __thiscall sub_405EF0(void *this)
{
  *(_DWORD *)this = &off_486A20;
  sub_468F32((int)this);
}
// 486A20: using guessed type int (__stdcall *off_486A20)(int);

//----- (00405F10) --------------------------------------------------------
void *__thiscall sub_405F10(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_405EF0(this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}

//----- (00405F40) --------------------------------------------------------
_DWORD *__cdecl sub_405F40(void *a1, _DWORD *a2)
{
  _DWORD *result; // eax@1
  _DWORD *v3; // [sp+4h] [bp-8h]@1

  result = operator new(4u, a1);
  v3 = result;
  if ( result )
  {
    result = a2;
    *v3 = *a2;
  }
  return result;
}

//----- (00405F90) --------------------------------------------------------
void sub_405F90()
{
  ;
}

//----- (004060A0) --------------------------------------------------------
int (**sub_4060A0())()
{
  return sub_4060B0();
}

//----- (004060B0) --------------------------------------------------------
int (**sub_4060B0())()
{
  return &off_4875F0;
}
// 4875F0: using guessed type int (*off_4875F0)();

//----- (004060C0) --------------------------------------------------------
int (**sub_4060C0())()
{
  return sub_4060D0();
}

//----- (004060D0) --------------------------------------------------------
int (**sub_4060D0())()
{
  return &off_487610;
}
// 487610: using guessed type int (*off_487610)();

//----- (004060E0) --------------------------------------------------------
int (**sub_4060E0())()
{
  return sub_4060F0();
}

//----- (004060F0) --------------------------------------------------------
int (**sub_4060F0())()
{
  return &off_487900;
}
// 487900: using guessed type int (*off_487900)();

//----- (00406220) --------------------------------------------------------
int __thiscall sub_406220(CWinApp *this)
{
  int result; // eax@2
  unsigned __int8 *v2; // ecx@3
  unsigned int v3; // eax@13
  unsigned int v4; // eax@15
  void *v5; // eax@16
  int v6; // eax@21
  int v7; // eax@24
  int v8; // eax@27
  int v9; // eax@29
  int v10; // eax@31
  int v11; // eax@35
  int v12; // eax@39
  int v13; // eax@43
  int v14; // [sp-10h] [bp-14Ch]@24
  int v15; // [sp-Ch] [bp-148h]@24
  int v16; // [sp-8h] [bp-144h]@24
  unsigned __int8 *v17; // [sp-4h] [bp-140h]@3
  int v18; // [sp+4h] [bp-138h]@47
  int v19; // [sp+8h] [bp-134h]@24
  int v20; // [sp+Ch] [bp-130h]@6
  int v21; // [sp+10h] [bp-12Ch]@3
  int v22; // [sp+14h] [bp-128h]@3
  CWinApp *v23; // [sp+18h] [bp-124h]@1
  int v24; // [sp+1Ch] [bp-120h]@49
  int *v25; // [sp+20h] [bp-11Ch]@47
  int *v26; // [sp+24h] [bp-118h]@24
  int v27; // [sp+28h] [bp-114h]@4
  unsigned __int8 **v28; // [sp+2Ch] [bp-110h]@3
  char v29; // [sp+30h] [bp-10Ch]@3
  char v30; // [sp+34h] [bp-108h]@3
  char v31; // [sp+38h] [bp-104h]@3
  char v32; // [sp+3Ch] [bp-100h]@3
  char v33; // [sp+40h] [bp-FCh]@3
  char v34; // [sp+44h] [bp-F8h]@3
  char v35; // [sp+48h] [bp-F4h]@3
  char v36; // [sp+4Ch] [bp-F0h]@3
  char v37; // [sp+50h] [bp-ECh]@3
  char v38; // [sp+54h] [bp-E8h]@3
  char v39; // [sp+58h] [bp-E4h]@3
  char v40; // [sp+5Ch] [bp-E0h]@3
  char v41; // [sp+60h] [bp-DCh]@3
  char v42; // [sp+64h] [bp-D8h]@3
  char v43; // [sp+68h] [bp-D4h]@3
  char v44; // [sp+6Ch] [bp-D0h]@3
  int v45; // [sp+74h] [bp-C8h]@6
  unsigned int i; // [sp+78h] [bp-C4h]@14
  int v47; // [sp+7Ch] [bp-C0h]@12
  int v48; // [sp+80h] [bp-BCh]@3
  char v49; // [sp+84h] [bp-B8h]@1
  int v50; // [sp+88h] [bp-B4h]@14
  int v51; // [sp+8Ch] [bp-B0h]@21
  char v52; // [sp+90h] [bp-ACh]@1
  unsigned int v53; // [sp+94h] [bp-A8h]@12
  int v54; // [sp+98h] [bp-A4h]@21
  int v55; // [sp+9Ch] [bp-A0h]@12
  unsigned __int8 *v56; // [sp+A0h] [bp-9Ch]@21
  int v57; // [sp+A4h] [bp-98h]@17
  char v58; // [sp+A8h] [bp-94h]@1
  char v59; // [sp+B8h] [bp-84h]@1
  int v60; // [sp+138h] [bp-4h]@1

  v23 = this;
  sub_402040(&v49);
  v60 = 0;
  sub_4141A0(&v58);
  LOBYTE(v60) = 1;
  sub_402040(&v52);
  LOBYTE(v60) = 2;
  sub_413170(&v59, 0);
  LOBYTE(v60) = 3;
  if ( AfxSocketInit(0) )
  {
    sub_413FF0(&v44, "275");
    LOBYTE(v60) = 4;
    sub_414260(&v58, (int)&v44);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v44);
    sub_413FF0(&v43, "475");
    LOBYTE(v60) = 5;
    sub_414260(&v58, (int)&v43);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v43);
    sub_413FF0(&v42, "476");
    LOBYTE(v60) = 6;
    sub_414260(&v58, (int)&v42);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v42);
    sub_413FF0(&v41, "477");
    LOBYTE(v60) = 7;
    sub_414260(&v58, (int)&v41);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v41);
    sub_413FF0(&v40, "478");
    LOBYTE(v60) = 8;
    sub_414260(&v58, (int)&v40);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v40);
    sub_413FF0(&v39, "705_00");
    LOBYTE(v60) = 9;
    sub_414260(&v58, (int)&v39);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v39);
    sub_413FF0(&v38, "705_20");
    LOBYTE(v60) = 10;
    sub_414260(&v58, (int)&v38);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v38);
    sub_413FF0(&v37, "705_80");
    LOBYTE(v60) = 11;
    sub_414260(&v58, (int)&v37);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v37);
    sub_413FF0(&v36, "710");
    LOBYTE(v60) = 12;
    sub_414260(&v58, (int)&v36);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v36);
    sub_413FF0(&v35, "715");
    LOBYTE(v60) = 13;
    sub_414260(&v58, (int)&v35);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v35);
    sub_413FF0(&v34, "720_00");
    LOBYTE(v60) = 14;
    sub_414260(&v58, (int)&v34);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v34);
    sub_413FF0(&v33, "720_20");
    LOBYTE(v60) = 15;
    sub_414260(&v58, (int)&v33);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v33);
    sub_413FF0(&v32, "720_30");
    LOBYTE(v60) = 16;
    sub_414260(&v58, (int)&v32);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v32);
    sub_413FF0(&v31, "720_80");
    LOBYTE(v60) = 17;
    sub_414260(&v58, (int)&v31);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v31);
    sub_413FF0(&v30, "7200_00");
    LOBYTE(v60) = 18;
    sub_414260(&v58, (int)&v30);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v30);
    sub_413FF0(&v29, "7250_00");
    LOBYTE(v60) = 19;
    sub_414260(&v58, (int)&v29);
    LOBYTE(v60) = 3;
    unknown_libname_4(&v29);
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=(*((char **)v23 + 18));
    v17 = v2;
    v28 = &v17;
    v22 = unknown_libname_3(&v49);
    v21 = sub_408120((void *)v23, (char)v17);
    v48 = v21;
    if ( v21 )
    {
      memcpy(word_4BE8E0, &unk_4AB178, 0x5070u);
      memcpy(word_4BD0E8, &unk_4B01E8, 0x17F8u);
      CWinApp::SetRegistryKey(v23, "GARMIN International");
      if ( sub_4141F0((int)v23 + 1172) )
      {
        v47 = 1;
        v53 = 0;
        v55 = 0;
        while ( 1 )
        {
          v3 = sub_4141F0((int)v23 + 1172);
          if ( v53 >= v3 )
            break;
          v50 = 0;
          for ( i = 0; ; ++i )
          {
            v4 = sub_4141F0((int)&v58);
            if ( i >= v4 )
              break;
            v17 = (unsigned __int8 *)sub_414230(&v58, i);
            v5 = (void *)sub_414230((_DWORD *)v23 + 293, v53);
            if ( (unsigned __int8)sub_4140E0(v5, (int)v17) )
            {
              v50 = 1;
              v57 = 0;
            }
          }
          if ( !v50 || v55 )
          {
            if ( v50 && v55 )
            {
              v17 = v56;
              v16 = v54;
              v15 = v51;
              v14 = v54;
              v26 = &v14;
              v19 = unknown_libname_3(&v52);
              sub_406C10(v23, v14, v15, v16, (int)v17);
              v7 = sub_414230((_DWORD *)v23 + 293, v53);
              unknown_libname_5(v7);
              v55 = 1;
              v51 = -1;
              v54 = 0;
              v56 = 0;
            }
            else if ( !v50 && v55 )
            {
              v17 = "m";
              v8 = sub_414230((_DWORD *)v23 + 293, v53);
              if ( (unsigned __int8)sub_414100(v8, v17) )
              {
                v54 = 1;
              }
              else
              {
                v17 = "h";
                v9 = sub_414230((_DWORD *)v23 + 293, v53);
                if ( (unsigned __int8)sub_414100(v9, v17) )
                {
                  v56 = (unsigned __int8 *)1;
                }
                else
                {
                  v17 = "ethr1";
                  v10 = sub_414230((_DWORD *)v23 + 293, v53);
                  if ( (unsigned __int8)sub_414100(v10, v17) )
                  {
                    if ( !v57 )
                    {
                      v51 = 27;
                      v57 = 1;
                    }
                  }
                  else
                  {
                    v17 = "ethr2";
                    v11 = sub_414230((_DWORD *)v23 + 293, v53);
                    if ( (unsigned __int8)sub_414100(v11, v17) )
                    {
                      if ( !v57 )
                      {
                        v51 = 28;
                        v57 = 1;
                      }
                    }
                    else
                    {
                      v17 = "com1";
                      v12 = sub_414230((_DWORD *)v23 + 293, v53);
                      if ( (unsigned __int8)sub_414100(v12, v17) )
                      {
                        if ( !v57 )
                        {
                          v51 = 25;
                          v57 = 1;
                        }
                      }
                      else
                      {
                        v17 = "com2";
                        v13 = sub_414230((_DWORD *)v23 + 293, v53);
                        if ( (unsigned __int8)sub_414100(v13, v17) && !v57 )
                        {
                          v51 = 26;
                          v57 = 1;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          else
          {
            v6 = sub_414230((_DWORD *)v23 + 293, v53);
            unknown_libname_5(v6);
            v55 = 1;
            v51 = -1;
            v54 = 0;
            v56 = 0;
          }
          ++v53;
        }
        v17 = v56;
        v16 = v54;
        v15 = v51;
        v14 = v54;
        v25 = &v14;
        v18 = unknown_libname_3(&v52);
        sub_406C10(v23, v14, v15, v16, (int)v17);
        if ( v47 )
          sub_407D90((int)v23);
      }
      else
      {
        v45 = (*(int (__thiscall **)(char *))(*((_DWORD *)v23 + 44) + 324))((char *)v23 + 176);
        v20 = v45;
        if ( v45 == -1 )
        {
          AfxMessageBox("Dialog box could not be created!", 0, 0);
        }
        else if ( v20 == 1 )
        {
          sub_407D90((int)v23);
        }
      }
      v24 = 1;
      LOBYTE(v60) = 2;
      unknown_libname_34(&v59);
      LOBYTE(v60) = 1;
      unknown_libname_4(&v52);
      LOBYTE(v60) = 0;
      unknown_libname_36(&v58);
      v60 = -1;
      unknown_libname_4(&v49);
      result = v24;
    }
    else
    {
      CDialog::DoModal((CDialog *)&v59);
      v27 = 1;
      LOBYTE(v60) = 2;
      unknown_libname_34(&v59);
      LOBYTE(v60) = 1;
      unknown_libname_4(&v52);
      LOBYTE(v60) = 0;
      unknown_libname_36(&v58);
      v60 = -1;
      unknown_libname_4(&v49);
      result = v27;
    }
  }
  else
  {
    AfxMessageBox("could not init sockets", 0, 0);
    LOBYTE(v60) = 2;
    unknown_libname_34(&v59);
    LOBYTE(v60) = 1;
    unknown_libname_4(&v52);
    LOBYTE(v60) = 0;
    unknown_libname_36(&v58);
    v60 = -1;
    unknown_libname_4(&v49);
    result = 0;
  }
  return result;
}
// 402060: using guessed type _DWORD __stdcall unknown_libname_3(_DWORD);
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 4020A0: using guessed type _DWORD __stdcall unknown_libname_5(_DWORD);
// 4139D0: using guessed type int __thiscall unknown_libname_34(_DWORD);
// 4141D0: using guessed type int __thiscall unknown_libname_36(_DWORD);
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];

//----- (00406C10) --------------------------------------------------------
int __thiscall sub_406C10(_DWORD *this, int a2, int a3, int a4, int a5)
{
  _DWORD *v6; // [sp+0h] [bp-4h]@1

  v6 = this;
  if ( (unsigned __int8)sub_414100((int)&a2, "275") )
  {
    v6[73] = 1;
    if ( v6[75] != 12 && v6[75] != 13 && v6[75] != 14 && v6[75] != 15 )
    {
      v6[75] = 11;
      if ( a3 != -1 && a3 != v6[78] )
      {
        v6[77] = a3;
      }
      else if ( v6[78] == 27 )
      {
        v6[77] = 28;
      }
      else
      {
        v6[77] = 27;
      }
      v6[79] = a4;
      v6[81] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "475") )
  {
    v6[73] = 1;
    if ( v6[75] != 11 && v6[75] != 13 && v6[75] != 14 && v6[75] != 15 )
    {
      v6[75] = 12;
      if ( a3 != -1 && a3 != v6[78] )
      {
        v6[77] = a3;
      }
      else if ( v6[78] == 27 )
      {
        v6[77] = 28;
      }
      else
      {
        v6[77] = 27;
      }
      v6[79] = a4;
      v6[81] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "476") )
  {
    v6[73] = 1;
    if ( v6[75] != 11 && v6[75] != 12 && v6[75] != 14 && v6[75] != 15 )
    {
      v6[75] = 13;
      if ( a3 != -1 && a3 != v6[78] )
      {
        v6[77] = a3;
      }
      else if ( v6[78] == 27 )
      {
        v6[77] = 28;
      }
      else
      {
        v6[77] = 27;
      }
      v6[79] = a4;
      v6[81] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "477") )
  {
    v6[73] = 1;
    if ( v6[75] != 11 && v6[75] != 12 && v6[75] != 13 && v6[75] != 15 )
    {
      v6[75] = 14;
      if ( a3 != -1 && a3 != v6[78] )
      {
        v6[77] = a3;
      }
      else if ( v6[78] == 27 )
      {
        v6[77] = 28;
      }
      else
      {
        v6[77] = 27;
      }
      v6[79] = a4;
      v6[81] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "478") )
  {
    v6[73] = 1;
    if ( v6[75] != 11 && v6[75] != 12 && v6[75] != 13 && v6[75] != 14 )
    {
      v6[75] = 15;
      if ( a3 != -1 && a3 != v6[78] )
      {
        v6[77] = a3;
      }
      else if ( v6[78] == 27 )
      {
        v6[77] = 28;
      }
      else
      {
        v6[77] = 27;
      }
      v6[79] = a4;
      v6[81] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "705_00") )
  {
    v6[74] = 1;
    if ( v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 0;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "705_20") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 1;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "705_80") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 2;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "710") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 3;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "715") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 4;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "720_00") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 5;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "720_20") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 6;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "720_30") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 8
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 7;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "720_80") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 9
      && v6[75] != 10 )
    {
      v6[76] = 8;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "7200_00") )
  {
    v6[74] = 1;
    if ( v6[75]
      && v6[75] != 1
      && v6[75] != 2
      && v6[75] != 3
      && v6[75] != 4
      && v6[75] != 5
      && v6[75] != 6
      && v6[75] != 7
      && v6[75] != 8
      && v6[75] != 10 )
    {
      v6[76] = 9;
      if ( a3 != -1 && a3 != v6[77] )
      {
        v6[78] = a3;
      }
      else if ( v6[77] == 28 )
      {
        v6[78] = 27;
      }
      else
      {
        v6[78] = 28;
      }
      v6[80] = a4;
      v6[82] = a5;
    }
  }
  else if ( (unsigned __int8)sub_414100((int)&a2, "7250_00") )
  {
    v6[74] = 1;
    if ( v6[75] )
    {
      if ( v6[75] != 1
        && v6[75] != 2
        && v6[75] != 3
        && v6[75] != 4
        && v6[75] != 5
        && v6[75] != 6
        && v6[75] != 7
        && v6[75] != 8
        && v6[75] != 9 )
      {
        v6[76] = 10;
        if ( a3 != -1 && a3 != v6[77] )
        {
          v6[78] = a3;
        }
        else if ( v6[77] == 28 )
        {
          v6[78] = 27;
        }
        else
        {
          v6[78] = 28;
        }
        v6[80] = a4;
        v6[82] = a5;
      }
    }
  }
  return unknown_libname_4(&a2);
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);

//----- (00407D90) --------------------------------------------------------
int __thiscall sub_407D90(int this)
{
  HICON v1; // eax@9
  HICON v2; // eax@10
  HICON v3; // eax@11
  HICON v4; // eax@12
  HICON v5; // eax@13
  HICON v6; // eax@14
  int result; // eax@19
  HICON v8; // eax@24
  HICON v9; // eax@25
  HICON v10; // eax@26
  HICON v11; // eax@27
  HICON v12; // eax@28
  HICON v13; // eax@29
  HICON v14; // eax@30
  CWnd *v15; // [sp+8h] [bp-34h]@21
  CWnd *v16; // [sp+10h] [bp-2Ch]@6
  int v17; // [sp+14h] [bp-28h]@1
  CWnd *v18; // [sp+18h] [bp-24h]@20
  CWnd *v19; // [sp+20h] [bp-1Ch]@5
  CWnd *v20; // [sp+2Ch] [bp-10h]@0

  v17 = this;
  if ( *(_DWORD *)(this + 308) == *(_DWORD *)(this + 312) && *(_DWORD *)(this + 308) != -1 )
  {
    AfxMessageBox("Each remote must use a different communications channel", 0, 0);
    *(_DWORD *)(v17 + 292) = 0;
    *(_DWORD *)(v17 + 296) = 0;
  }
  if ( *(_DWORD *)(v17 + 292) )
  {
    v19 = (CWnd *)sub_4134C0(0x864u);
    if ( v19 )
      v16 = sub_408760(v19, *(_DWORD *)(v17 + 300), *(struct CCreateContext **)(v17 + 308), 0, *(_DWORD *)(v17 + 316));
    else
      v16 = 0;
    v20 = v16;
    switch ( *(_DWORD *)(v17 + 300) )
    {
      case 0xB:
        v1 = sub_413510(0x9Eu);
        sub_4134E0((int)v16, (LPARAM)v1, 1u);
        break;
      case 0xC:
        v2 = sub_413510(0x77u);
        sub_4134E0((int)v16, (LPARAM)v2, 1u);
        break;
      case 0xD:
        v3 = sub_413510(0x78u);
        sub_4134E0((int)v16, (LPARAM)v3, 1u);
        break;
      case 0xE:
        v4 = sub_413510(0x92u);
        sub_4134E0((int)v16, (LPARAM)v4, 1u);
        break;
      case 0xF:
        v5 = sub_413510(0x96u);
        sub_4134E0((int)v16, (LPARAM)v5, 1u);
        break;
      default:
        v6 = sub_413510(0x76u);
        sub_4134E0((int)v16, (LPARAM)v6, 1u);
        break;
    }
    if ( *(_DWORD *)(v17 + 324) == 1 )
      *(_DWORD *)(v17 + 76) = 0;
    else
      *(_DWORD *)(v17 + 76) = 5;
    CWnd::ShowWindow(v16, *(_DWORD *)(v17 + 76));
  }
  result = v17;
  if ( *(_DWORD *)(v17 + 296) )
  {
    v18 = (CWnd *)sub_4134C0(0x864u);
    if ( v18 )
      v15 = sub_408760(v18, *(_DWORD *)(v17 + 304), *(struct CCreateContext **)(v17 + 312), 1, *(_DWORD *)(v17 + 320));
    else
      v15 = 0;
    switch ( *(_DWORD *)(v17 + 304) )
    {
      case 0:
      case 1:
      case 2:
        v8 = sub_413510(0x97u);
        sub_4134E0((int)v15, (LPARAM)v8, 1u);
        break;
      case 3:
        v9 = sub_413510(0x79u);
        sub_4134E0((int)v15, (LPARAM)v9, 1u);
        break;
      case 4:
        v10 = sub_413510(0x98u);
        sub_4134E0((int)v15, (LPARAM)v10, 1u);
        break;
      case 5:
      case 6:
      case 7:
      case 8:
        v11 = sub_413510(0xA1u);
        sub_4134E0((int)v15, (LPARAM)v11, 1u);
        break;
      case 9:
        v12 = sub_413510(0xA9u);
        sub_4134E0((int)v15, (LPARAM)v12, 1u);
        break;
      case 0xA:
        v13 = sub_413510(0xAAu);
        sub_4134E0((int)v15, (LPARAM)v13, 1u);
        break;
      default:
        v14 = sub_413510(0x76u);
        sub_4134E0((int)v20, (LPARAM)v14, 1u);
        break;
    }
    if ( *(_DWORD *)(v17 + 328) == 1 )
      *(_DWORD *)(v17 + 76) = 0;
    else
      *(_DWORD *)(v17 + 76) = 5;
    result = CWnd::ShowWindow(v15, *(_DWORD *)(v17 + 76));
  }
  return result;
}

//----- (00408120) --------------------------------------------------------
signed int __thiscall sub_408120(void *this, char a2)
{
  int v2; // eax@2
  char v3; // al@4
  int v4; // eax@7
  int v5; // eax@11
  char v6; // al@13
  int v7; // eax@13
  unsigned int v8; // eax@16
  int v9; // eax@17
  int v11; // [sp+4h] [bp-80h]@1
  char v12; // [sp+10h] [bp-74h]@1
  char v13; // [sp+14h] [bp-70h]@1
  char v14; // [sp+18h] [bp-6Ch]@1
  char v15; // [sp+1Ch] [bp-68h]@1
  char v16; // [sp+20h] [bp-64h]@1
  char v17; // [sp+24h] [bp-60h]@1
  char v18; // [sp+28h] [bp-5Ch]@1
  char v19; // [sp+2Ch] [bp-58h]@1
  char v20; // [sp+30h] [bp-54h]@1
  char v21; // [sp+34h] [bp-50h]@1
  char v22; // [sp+38h] [bp-4Ch]@1
  char v23; // [sp+3Ch] [bp-48h]@1
  char v24; // [sp+40h] [bp-44h]@1
  char v25; // [sp+44h] [bp-40h]@1
  char v26; // [sp+48h] [bp-3Ch]@1
  char v27; // [sp+4Ch] [bp-38h]@1
  char v28; // [sp+50h] [bp-34h]@1
  char v29; // [sp+54h] [bp-30h]@1
  char v30; // [sp+58h] [bp-2Ch]@1
  char v31; // [sp+5Ch] [bp-28h]@1
  char v32; // [sp+60h] [bp-24h]@1
  char v33; // [sp+64h] [bp-20h]@1
  unsigned int j; // [sp+68h] [bp-1Ch]@15
  char v35; // [sp+6Ch] [bp-18h]@1
  int i; // [sp+70h] [bp-14h]@1
  int v37; // [sp+74h] [bp-10h]@15
  int v38; // [sp+80h] [bp-4h]@1

  v11 = (int)this;
  v38 = 0;
  sub_402040(&v35);
  LOBYTE(v38) = 1;
  sub_413FF0(&v33, "275");
  LOBYTE(v38) = 2;
  sub_414260((void *)(v11 + 1188), (int)&v33);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v33);
  sub_413FF0(&v32, "475");
  LOBYTE(v38) = 3;
  sub_414260((void *)(v11 + 1188), (int)&v32);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v32);
  sub_413FF0(&v31, "476");
  LOBYTE(v38) = 4;
  sub_414260((void *)(v11 + 1188), (int)&v31);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v31);
  sub_413FF0(&v30, "477");
  LOBYTE(v38) = 5;
  sub_414260((void *)(v11 + 1188), (int)&v30);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v30);
  sub_413FF0(&v29, "478");
  LOBYTE(v38) = 6;
  sub_414260((void *)(v11 + 1188), (int)&v29);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v29);
  sub_413FF0(&v28, "705_00");
  LOBYTE(v38) = 7;
  sub_414260((void *)(v11 + 1188), (int)&v28);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v28);
  sub_413FF0(&v27, "705_20");
  LOBYTE(v38) = 8;
  sub_414260((void *)(v11 + 1188), (int)&v27);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v27);
  sub_413FF0(&v26, "705_80");
  LOBYTE(v38) = 9;
  sub_414260((void *)(v11 + 1188), (int)&v26);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v26);
  sub_413FF0(&v25, "710");
  LOBYTE(v38) = 10;
  sub_414260((void *)(v11 + 1188), (int)&v25);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v25);
  sub_413FF0(&v24, "715");
  LOBYTE(v38) = 11;
  sub_414260((void *)(v11 + 1188), (int)&v24);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v24);
  sub_413FF0(&v23, "720_00");
  LOBYTE(v38) = 12;
  sub_414260((void *)(v11 + 1188), (int)&v23);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v23);
  sub_413FF0(&v22, "720_20");
  LOBYTE(v38) = 13;
  sub_414260((void *)(v11 + 1188), (int)&v22);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v22);
  sub_413FF0(&v21, "720_30");
  LOBYTE(v38) = 14;
  sub_414260((void *)(v11 + 1188), (int)&v21);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v21);
  sub_413FF0(&v20, "720_80");
  LOBYTE(v38) = 15;
  sub_414260((void *)(v11 + 1188), (int)&v20);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v20);
  sub_413FF0(&v19, "7200_00");
  LOBYTE(v38) = 16;
  sub_414260((void *)(v11 + 1188), (int)&v19);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v19);
  sub_413FF0(&v18, "7250_00");
  LOBYTE(v38) = 17;
  sub_414260((void *)(v11 + 1188), (int)&v18);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v18);
  sub_413FF0(&v17, "m");
  LOBYTE(v38) = 18;
  sub_414260((void *)(v11 + 1188), (int)&v17);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v17);
  sub_413FF0(&v16, "h");
  LOBYTE(v38) = 19;
  sub_414260((void *)(v11 + 1188), (int)&v16);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v16);
  sub_413FF0(&v15, "ethr1");
  LOBYTE(v38) = 20;
  sub_414260((void *)(v11 + 1188), (int)&v15);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v15);
  sub_413FF0(&v14, "ethr2");
  LOBYTE(v38) = 21;
  sub_414260((void *)(v11 + 1188), (int)&v14);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v14);
  sub_413FF0(&v13, "com1");
  LOBYTE(v38) = 22;
  sub_414260((void *)(v11 + 1188), (int)&v13);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v13);
  sub_413FF0(&v12, "com2");
  LOBYTE(v38) = 23;
  sub_414260((void *)(v11 + 1188), (int)&v12);
  LOBYTE(v38) = 1;
  unknown_libname_4(&v12);
  sub_414090(&a2);
  for ( i = 0; ; ++i )
  {
    v2 = sub_4021B0(&a2);
    if ( i >= v2 )
      break;
    if ( sub_414140(&a2, i) != 32 )
    {
      v3 = sub_414140(&a2, i);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(v3);
    }
  }
  sub_4020E0(&a2);
  unknown_libname_5(&v35);
  sub_4020E0(&v35);
  for ( i = 0; ; ++i )
  {
    v4 = sub_4021B0(&a2);
    if ( i >= v4 || sub_414140(&a2, i) == 45 )
      break;
  }
  ++i;
  while ( 1 )
  {
    v5 = sub_4021B0(&a2);
    if ( i >= v5 )
      break;
    do
    {
      if ( sub_414140(&a2, i) == 45 )
        break;
      v6 = sub_414140(&a2, i);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(v6);
      ++i;
      v7 = sub_4021B0(&a2);
    }
    while ( i < v7 );
    if ( !(unsigned __int8)sub_414180(&v35) )
    {
      v37 = 0;
      for ( j = 0; ; ++j )
      {
        v8 = sub_4141F0(v11 + 1188);
        if ( j >= v8 )
          break;
        v9 = sub_414230((_DWORD *)(v11 + 1188), j);
        if ( (unsigned __int8)sub_4140E0(&v35, v9) )
          v37 = 1;
      }
      if ( !v37 )
      {
        LOBYTE(v38) = 0;
        unknown_libname_4(&v35);
        v38 = -1;
        unknown_libname_4(&a2);
        return 0;
      }
      sub_414260((void *)(v11 + 1172), (int)&v35);
      sub_4020E0(&v35);
    }
    ++i;
  }
  LOBYTE(v38) = 0;
  unknown_libname_4(&v35);
  v38 = -1;
  unknown_libname_4(&a2);
  return 1;
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 4020A0: using guessed type _DWORD __stdcall unknown_libname_5(_DWORD);
// 4020C0: using guessed type _DWORD __stdcall ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator+=(char);

//----- (00408760) --------------------------------------------------------
CWnd *__thiscall sub_408760(CWnd *this, __int16 a2, struct CCreateContext *a3, int a4, int a5)
{
  unsigned int v5; // eax@1
  struct CCreateContext *v6; // ecx@32
  const CHAR *v7; // ST14_4@54
  const char *v8; // eax@54
  struct CCreateContext *v9; // ecx@54
  UINT v10; // ST18_4@69
  struct CMenu *v11; // eax@69
  struct CCreateContext *v13; // [sp-4h] [bp-2E4h]@37
  int v14; // [sp+4h] [bp-2DCh]@63
  int v15; // [sp+8h] [bp-2D8h]@61
  int v16; // [sp+Ch] [bp-2D4h]@55
  int v17; // [sp+10h] [bp-2D0h]@55
  int v18; // [sp+14h] [bp-2CCh]@55
  int v19; // [sp+18h] [bp-2C8h]@54
  int v20; // [sp+1Ch] [bp-2C4h]@54
  int v21; // [sp+20h] [bp-2C0h]@54
  int v22; // [sp+24h] [bp-2BCh]@54
  int v23; // [sp+28h] [bp-2B8h]@54
  int v24; // [sp+2Ch] [bp-2B4h]@54
  int v25; // [sp+30h] [bp-2B0h]@54
  int v26; // [sp+34h] [bp-2ACh]@54
  int v27; // [sp+38h] [bp-2A8h]@54
  int v28; // [sp+3Ch] [bp-2A4h]@54
  int v29; // [sp+40h] [bp-2A0h]@54
  int v30; // [sp+44h] [bp-29Ch]@54
  int v31; // [sp+48h] [bp-298h]@54
  int v32; // [sp+4Ch] [bp-294h]@54
  int v33; // [sp+50h] [bp-290h]@54
  int v34; // [sp+54h] [bp-28Ch]@54
  int v35; // [sp+58h] [bp-288h]@54
  int v36; // [sp+5Ch] [bp-284h]@54
  int v37; // [sp+60h] [bp-280h]@54
  int v38; // [sp+64h] [bp-27Ch]@54
  int v39; // [sp+68h] [bp-278h]@54
  int v40; // [sp+6Ch] [bp-274h]@54
  int v41; // [sp+70h] [bp-270h]@54
  int v42; // [sp+74h] [bp-26Ch]@54
  int v43; // [sp+78h] [bp-268h]@54
  int v44; // [sp+7Ch] [bp-264h]@54
  int v45; // [sp+80h] [bp-260h]@54
  int v46; // [sp+84h] [bp-25Ch]@54
  int v47; // [sp+88h] [bp-258h]@54
  int v48; // [sp+8Ch] [bp-254h]@54
  int v49; // [sp+90h] [bp-250h]@54
  int v50; // [sp+94h] [bp-24Ch]@54
  int v51; // [sp+98h] [bp-248h]@54
  int v52; // [sp+9Ch] [bp-244h]@54
  int v53; // [sp+A0h] [bp-240h]@54
  int v54; // [sp+A4h] [bp-23Ch]@54
  int v55; // [sp+A8h] [bp-238h]@54
  int v56; // [sp+ACh] [bp-234h]@54
  int v57; // [sp+B0h] [bp-230h]@54
  int v58; // [sp+B4h] [bp-22Ch]@54
  int v59; // [sp+B8h] [bp-228h]@54
  int v60; // [sp+BCh] [bp-224h]@54
  int v61; // [sp+C0h] [bp-220h]@54
  int v62; // [sp+C4h] [bp-21Ch]@54
  int v63; // [sp+C8h] [bp-218h]@54
  int v64; // [sp+CCh] [bp-214h]@54
  int v65; // [sp+D0h] [bp-210h]@54
  int v66; // [sp+D4h] [bp-20Ch]@54
  int v67; // [sp+D8h] [bp-208h]@54
  int v68; // [sp+DCh] [bp-204h]@54
  int v69; // [sp+E0h] [bp-200h]@54
  int v70; // [sp+E4h] [bp-1FCh]@54
  int v71; // [sp+E8h] [bp-1F8h]@54
  int v72; // [sp+ECh] [bp-1F4h]@54
  int v73; // [sp+F0h] [bp-1F0h]@54
  int v74; // [sp+F4h] [bp-1ECh]@54
  int v75; // [sp+F8h] [bp-1E8h]@54
  int v76; // [sp+FCh] [bp-1E4h]@54
  int v77; // [sp+100h] [bp-1E0h]@54
  int v78; // [sp+104h] [bp-1DCh]@54
  int v79; // [sp+108h] [bp-1D8h]@54
  int v80; // [sp+10Ch] [bp-1D4h]@54
  int v81; // [sp+110h] [bp-1D0h]@54
  int v82; // [sp+114h] [bp-1CCh]@54
  int v83; // [sp+118h] [bp-1C8h]@54
  int v84; // [sp+11Ch] [bp-1C4h]@54
  int v85; // [sp+120h] [bp-1C0h]@54
  int v86; // [sp+124h] [bp-1BCh]@54
  int v87; // [sp+128h] [bp-1B8h]@54
  int v88; // [sp+12Ch] [bp-1B4h]@54
  int v89; // [sp+130h] [bp-1B0h]@54
  int v90; // [sp+134h] [bp-1ACh]@54
  int v91; // [sp+138h] [bp-1A8h]@54
  int v92; // [sp+13Ch] [bp-1A4h]@54
  int v93; // [sp+140h] [bp-1A0h]@54
  int v94; // [sp+144h] [bp-19Ch]@54
  int v95; // [sp+148h] [bp-198h]@54
  int v96; // [sp+14Ch] [bp-194h]@54
  int v97; // [sp+150h] [bp-190h]@54
  int v98; // [sp+154h] [bp-18Ch]@54
  int v99; // [sp+158h] [bp-188h]@54
  int v100; // [sp+15Ch] [bp-184h]@54
  int v101; // [sp+160h] [bp-180h]@54
  int v102; // [sp+164h] [bp-17Ch]@54
  int v103; // [sp+168h] [bp-178h]@54
  int v104; // [sp+16Ch] [bp-174h]@54
  int v105; // [sp+170h] [bp-170h]@54
  int v106; // [sp+174h] [bp-16Ch]@54
  int v107; // [sp+178h] [bp-168h]@54
  int v108; // [sp+17Ch] [bp-164h]@54
  int v109; // [sp+180h] [bp-160h]@54
  int v110; // [sp+184h] [bp-15Ch]@54
  int v111; // [sp+188h] [bp-158h]@54
  int v112; // [sp+18Ch] [bp-154h]@54
  int v113; // [sp+190h] [bp-150h]@54
  int v114; // [sp+194h] [bp-14Ch]@54
  int v115; // [sp+198h] [bp-148h]@54
  int v116; // [sp+19Ch] [bp-144h]@54
  int v117; // [sp+1A0h] [bp-140h]@54
  int v118; // [sp+1A4h] [bp-13Ch]@54
  int v119; // [sp+1A8h] [bp-138h]@54
  int v120; // [sp+1ACh] [bp-134h]@54
  int v121; // [sp+1B0h] [bp-130h]@54
  int v122; // [sp+1B4h] [bp-12Ch]@54
  int v123; // [sp+1B8h] [bp-128h]@54
  int v124; // [sp+1BCh] [bp-124h]@54
  int v125; // [sp+1C0h] [bp-120h]@54
  int v126; // [sp+1C4h] [bp-11Ch]@54
  int v127; // [sp+1C8h] [bp-118h]@54
  int v128; // [sp+1CCh] [bp-114h]@54
  int v129; // [sp+1D0h] [bp-110h]@54
  int v130; // [sp+1D4h] [bp-10Ch]@54
  int v131; // [sp+1D8h] [bp-108h]@54
  int v132; // [sp+1DCh] [bp-104h]@54
  int v133; // [sp+1E0h] [bp-100h]@54
  int v134; // [sp+1E4h] [bp-FCh]@54
  int v135; // [sp+1E8h] [bp-F8h]@54
  int v136; // [sp+1ECh] [bp-F4h]@54
  int v137; // [sp+1F0h] [bp-F0h]@54
  int v138; // [sp+1F4h] [bp-ECh]@54
  int v139; // [sp+1F8h] [bp-E8h]@54
  int v140; // [sp+1FCh] [bp-E4h]@54
  int v141; // [sp+200h] [bp-E0h]@54
  int v142; // [sp+204h] [bp-DCh]@54
  int v143; // [sp+208h] [bp-D8h]@54
  int v144; // [sp+20Ch] [bp-D4h]@54
  int v145; // [sp+210h] [bp-D0h]@54
  int v146; // [sp+214h] [bp-CCh]@54
  int v147; // [sp+218h] [bp-C8h]@37
  void *v148; // [sp+21Ch] [bp-C4h]@37
  struct CCreateContext *v149; // [sp+220h] [bp-C0h]@32
  void *v150; // [sp+224h] [bp-BCh]@22
  void *v151; // [sp+228h] [bp-B8h]@14
  CWnd *v152; // [sp+22Ch] [bp-B4h]@1
  void *v153; // [sp+230h] [bp-B0h]@70
  void *v154; // [sp+234h] [bp-ACh]@60
  int v155; // [sp+238h] [bp-A8h]@63
  struct CCreateContext **v156; // [sp+23Ch] [bp-A4h]@55
  void *v157; // [sp+240h] [bp-A0h]@54
  int v158; // [sp+244h] [bp-9Ch]@57
  struct CCreateContext **v159; // [sp+248h] [bp-98h]@37
  void *v160; // [sp+24Ch] [bp-94h]@21
  void *v161; // [sp+250h] [bp-90h]@13
  void *v162; // [sp+254h] [bp-8Ch]@10
  void *v163; // [sp+258h] [bp-88h]@7
  void *v164; // [sp+25Ch] [bp-84h]@4
  void *v165; // [sp+260h] [bp-80h]@4
  void *v166; // [sp+264h] [bp-7Ch]@1
  void *v167; // [sp+268h] [bp-78h]@1
  int v168; // [sp+26Ch] [bp-74h]@70
  LPCSTR lpMenuName; // [sp+270h] [bp-70h]@30
  int v170; // [sp+274h] [bp-6Ch]@63
  int v171; // [sp+278h] [bp-68h]@38
  int v172; // [sp+27Ch] [bp-64h]@13
  struct tagRECT Rect; // [sp+280h] [bp-60h]@1
  int v174; // [sp+290h] [bp-50h]@38
  int v175; // [sp+294h] [bp-4Ch]@38
  struct tagRECT v176; // [sp+298h] [bp-48h]@1
  unsigned int i; // [sp+2A8h] [bp-38h]@1
  int v178; // [sp+2ACh] [bp-34h]@38
  LONG v179; // [sp+2B0h] [bp-30h]@54
  int Y; // [sp+2B4h] [bp-2Ch]@38
  struct tagRECT v181; // [sp+2B8h] [bp-28h]@1
  LONG v182; // [sp+2C8h] [bp-18h]@54
  int v183; // [sp+2CCh] [bp-14h]@54
  int X; // [sp+2D0h] [bp-10h]@38
  int v185; // [sp+2DCh] [bp-4h]@1

  v152 = this;
  CFrameWnd::CFrameWnd();
  v185 = 0;
  *(_DWORD *)v152 = &off_4879E4;
  sub_4137F0((CWnd *)((char *)v152 + 212));
  sub_416840((_DWORD *)v152 + 167, 0);
  unknown_libname_92((char *)v152 + 860);
  sub_413570((CWnd *)((char *)v152 + 880));
  sub_413570((CWnd *)((char *)v152 + 888));
  sub_4178D0((char *)v152 + 916, 0);
  sub_402040((char *)v152 + 2132);
  sub_402040((char *)v152 + 2136);
  sub_402040((char *)v152 + 2140);
  sub_402040((char *)v152 + 2144);
  LOBYTE(v185) = 9;
  unknown_libname_92(&v181);
  unknown_libname_92(&Rect);
  unknown_libname_92(&v176);
  *((_DWORD *)v152 + 529) = 429;
  *((_DWORD *)v152 + 530) = 118;
  *((_WORD *)v152 + 516) = a2;
  *((_DWORD *)v152 + 531) = 0;
  *((_DWORD *)v152 + 532) = 0;
  *((_DWORD *)v152 + 163) = 0;
  *((_DWORD *)v152 + 164) = 0;
  v5 = unknown_libname_31(0);
  srand(v5);
  *((_DWORD *)v152 + 165) = 0;
  *((_DWORD *)v152 + 166) = 0;
  sub_418D30((_DWORD *)v152 + 229);
  *((_DWORD *)v152 + 66) = 0;
  *((_DWORD *)v152 + 104) = 0;
  *((_DWORD *)v152 + 105) = 0;
  ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("006-B0XXX-SIM");
  ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("1.0");
  ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("006-B0XXX-SIM");
  ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("1.0");
  v167 = operator new(0x1ADu);
  *((_DWORD *)v152 + 102) = v167;
  v166 = operator new(0x1ADu);
  *((_DWORD *)v152 + 103) = v166;
  for ( i = 0; i < 0x1AD; ++i )
  {
    *(_BYTE *)(*((_DWORD *)v152 + 102) + i) = 0;
    *(_BYTE *)(*((_DWORD *)v152 + 103) + i) = 0;
  }
  v165 = operator new(0x1D8u);
  *((_DWORD *)v152 + 108) = v165;
  v164 = operator new(0x1D8u);
  *((_DWORD *)v152 + 109) = v164;
  for ( i = 0; i < 0x76; ++i )
  {
    *(_DWORD *)(*((_DWORD *)v152 + 108) + 4 * i) = 0;
    *(_DWORD *)(*((_DWORD *)v152 + 109) + 4 * i) = 0;
  }
  v163 = operator new(0x1ADu);
  *((_DWORD *)v152 + 106) = v163;
  for ( i = 0; i < 0x1AD; ++i )
    *(_BYTE *)(*((_DWORD *)v152 + 106) + i) = 0;
  v162 = operator new(0x76u);
  *((_DWORD *)v152 + 107) = v162;
  for ( i = 0; i < 0x76; ++i )
    *(_BYTE *)(*((_DWORD *)v152 + 107) + i) = 0;
  v172 = 0;
  v161 = operator new(0x1AD0u);
  if ( v161 )
  {
    'vector constructor iterator'(v161, 16, 429, unknown_libname_92);
    v151 = v161;
  }
  else
  {
    v151 = 0;
  }
  *((_DWORD *)v152 + 110) = v151;
  for ( i = 0; i < 0x1AD; ++i )
  {
    *(_DWORD *)(*((_DWORD *)v152 + 110) + 16 * i + 4) = dword_4BE8F0[12 * i];
    *(_DWORD *)(*((_DWORD *)v152 + 110) + 16 * i + 12) = dword_4BE8F8[12 * i];
    *(_DWORD *)(*((_DWORD *)v152 + 110) + 16 * i + 8) = dword_4BE8F4[12 * i];
    *(_DWORD *)(16 * i + *((_DWORD *)v152 + 110)) = dword_4BE8EC[12 * i];
    if ( dword_4BE8FC[12 * i] == *((_WORD *)v152 + 516) )
      ++v172;
  }
  v160 = operator new(0x760u);
  if ( v160 )
  {
    'vector constructor iterator'(v160, 16, 118, unknown_libname_92);
    v150 = v160;
  }
  else
  {
    v150 = 0;
  }
  *((_DWORD *)v152 + 111) = v150;
  for ( i = 0; i < 0x76; ++i )
  {
    *(_DWORD *)(*((_DWORD *)v152 + 111) + 16 * i + 4) = dword_4BD0F8[13 * i];
    *(_DWORD *)(*((_DWORD *)v152 + 111) + 16 * i + 12) = dword_4BD100[13 * i];
    *(_DWORD *)(*((_DWORD *)v152 + 111) + 16 * i + 8) = dword_4BD0FC[13 * i];
    *(_DWORD *)(16 * i + *((_DWORD *)v152 + 111)) = dword_4BD0F4[13 * i];
    if ( dword_4BD104[13 * i] == *((_WORD *)v152 + 516) )
      ++v172;
  }
  *((_DWORD *)v152 + 68) = 0;
  *((_DWORD *)v152 + 69) = 0;
  if ( a5 )
    lpMenuName = (LPCSTR)107;
  else
    lpMenuName = 0;
  v6 = a3;
  v149 = (struct CCreateContext *)((char *)a3 - 25);
  switch ( a3 )
  {
    case 0x19u:
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("COM1");
      break;
    case 0x1Au:
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("COM2");
      break;
    case 0x1Bu:
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("ETHR:127.0.0.1:5539:6539");
      break;
    case 0x1Cu:
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("ETHR:127.0.0.1:5549:6549");
      break;
    default:
      break;
  }
  v13 = v6;
  v159 = &v13;
  v148 = sub_413FF0(&v13, ".\\part_number.cfg");
  sub_40D4D0((void *)v152, (char)v13);
  sub_40B7F0((int)v152, *((_WORD *)v152 + 516));
  v147 = *((_WORD *)v152 + 516);
  switch ( v147 )
  {
    case 11:
      v171 = 820;
      v174 = 300;
      v175 = *((_DWORD *)v152 + 315);
      v178 = *((_DWORD *)v152 + 316);
      X = *((_DWORD *)v152 + 317);
      Y = *((_DWORD *)v152 + 318);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU 275");
      *((_DWORD *)v152 + 261) = 40026;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 9;
      break;
    case 12:
      v171 = 698;
      v174 = 534;
      v175 = *((_DWORD *)v152 + 319);
      v178 = *((_DWORD *)v152 + 320);
      X = *((_DWORD *)v152 + 321);
      Y = *((_DWORD *)v152 + 322);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU 475");
      *((_DWORD *)v152 + 261) = 40004;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 0;
      break;
    case 13:
      v171 = 519;
      v174 = 770;
      v175 = *((_DWORD *)v152 + 323);
      v178 = *((_DWORD *)v152 + 324);
      X = *((_DWORD *)v152 + 325);
      Y = *((_DWORD *)v152 + 326);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU 476");
      *((_DWORD *)v152 + 261) = 40005;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_WORD *)v152 + 290) |= 2u;
      *((_BYTE *)v152 + 584) = 2;
      break;
    case 14:
      v171 = 747;
      v174 = 508;
      v175 = *((_DWORD *)v152 + 327);
      v178 = *((_DWORD *)v152 + 328);
      X = *((_DWORD *)v152 + 329);
      Y = *((_DWORD *)v152 + 330);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU 477");
      *((_DWORD *)v152 + 261) = 40015;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_WORD *)v152 + 290) |= 2u;
      *((_BYTE *)v152 + 584) = 6;
      break;
    case 15:
      v171 = 753;
      v174 = 531;
      v175 = *((_DWORD *)v152 + 331);
      v178 = *((_DWORD *)v152 + 332);
      X = *((_DWORD *)v152 + 333);
      Y = *((_DWORD *)v152 + 334);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU 478");
      *((_DWORD *)v152 + 261) = 40018;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_WORD *)v152 + 290) |= 2u;
      *((_BYTE *)v152 + 584) = 7;
      break;
    case 0:
      v171 = 752;
      v174 = 220;
      v175 = *((_DWORD *)v152 + 335);
      v178 = *((_DWORD *)v152 + 336);
      X = *((_DWORD *)v152 + 337);
      Y = *((_DWORD *)v152 + 338);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 705-00");
      *((_DWORD *)v152 + 261) = 40024;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 4;
      break;
    case 1:
      v171 = 752;
      v174 = 220;
      v175 = *((_DWORD *)v152 + 339);
      v178 = *((_DWORD *)v152 + 340);
      X = *((_DWORD *)v152 + 341);
      Y = *((_DWORD *)v152 + 342);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 705-20");
      *((_DWORD *)v152 + 261) = 40023;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 5;
      break;
    case 2:
      v171 = 752;
      v174 = 220;
      v175 = *((_DWORD *)v152 + 343);
      v178 = *((_DWORD *)v152 + 344);
      X = *((_DWORD *)v152 + 345);
      Y = *((_DWORD *)v152 + 346);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 705-80");
      *((_DWORD *)v152 + 261) = 40019;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 8;
      break;
    case 3:
      v171 = 881;
      v174 = 154;
      v175 = *((_DWORD *)v152 + 347);
      v178 = *((_DWORD *)v152 + 348);
      X = *((_DWORD *)v152 + 349);
      Y = *((_DWORD *)v152 + 350);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 710");
      *((_DWORD *)v152 + 261) = 40006;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 1;
      break;
    case 4:
      v171 = 950;
      v174 = 243;
      v175 = *((_DWORD *)v152 + 351);
      v178 = *((_DWORD *)v152 + 352);
      X = *((_DWORD *)v152 + 353);
      Y = *((_DWORD *)v152 + 354);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 715");
      *((_DWORD *)v152 + 261) = 40017;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 3;
      break;
    case 5:
      v171 = 886;
      v174 = 217;
      v175 = *((_DWORD *)v152 + 355);
      v178 = *((_DWORD *)v152 + 356);
      X = *((_DWORD *)v152 + 357);
      Y = *((_DWORD *)v152 + 358);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 720-00");
      *((_DWORD *)v152 + 261) = 40027;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 10;
      break;
    case 6:
      v171 = 877;
      v174 = 216;
      v175 = *((_DWORD *)v152 + 359);
      v178 = *((_DWORD *)v152 + 360);
      X = *((_DWORD *)v152 + 361);
      Y = *((_DWORD *)v152 + 362);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 720-20");
      *((_DWORD *)v152 + 261) = 40028;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 11;
      break;
    case 7:
      v171 = 877;
      v174 = 216;
      v175 = *((_DWORD *)v152 + 363);
      v178 = *((_DWORD *)v152 + 364);
      X = *((_DWORD *)v152 + 365);
      Y = *((_DWORD *)v152 + 366);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 720-30");
      *((_DWORD *)v152 + 261) = 40029;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 12;
      break;
    case 8:
      v171 = 624;
      v174 = 153;
      v175 = *((_DWORD *)v152 + 367);
      v178 = *((_DWORD *)v152 + 368);
      X = *((_DWORD *)v152 + 369);
      Y = *((_DWORD *)v152 + 370);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 720-80");
      *((_DWORD *)v152 + 261) = 40030;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 13;
      break;
    case 9:
      v171 = 998;
      v174 = 181;
      v175 = *((_DWORD *)v152 + 371);
      v178 = *((_DWORD *)v152 + 372);
      X = *((_DWORD *)v152 + 373);
      Y = *((_DWORD *)v152 + 374);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 7200-00");
      *((_DWORD *)v152 + 261) = 40031;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 15;
      break;
    case 10:
      v171 = 877;
      v174 = 181;
      v175 = *((_DWORD *)v152 + 375);
      v178 = *((_DWORD *)v152 + 376);
      X = *((_DWORD *)v152 + 377);
      Y = *((_DWORD *)v152 + 378);
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC 7250-00");
      *((_DWORD *)v152 + 261) = 40032;
      memset((char *)v152 + 580, 0, 0x14u);
      *((_BYTE *)v152 + 584) = 15;
      break;
    default:
      break;
  }
  v146 = *((_DWORD *)v152 + 68) + 752;
  v145 = *((_DWORD *)v152 + 69) + 220;
  *((float *)v152 + 70) = (double)v146 / (double)v145;
  v144 = *((_DWORD *)v152 + 69) + 220;
  v143 = *((_DWORD *)v152 + 68) + 752;
  *((float *)v152 + 86) = (double)v144 / (double)v143;
  v142 = *((_DWORD *)v152 + 68) + 752;
  v141 = *((_DWORD *)v152 + 69) + 220;
  *((float *)v152 + 71) = (double)v142 / (double)v141;
  v140 = *((_DWORD *)v152 + 69) + 220;
  v139 = *((_DWORD *)v152 + 68) + 752;
  *((float *)v152 + 87) = (double)v140 / (double)v139;
  v138 = *((_DWORD *)v152 + 68) + 752;
  v137 = *((_DWORD *)v152 + 69) + 220;
  *((float *)v152 + 72) = (double)v138 / (double)v137;
  v136 = *((_DWORD *)v152 + 69) + 220;
  v135 = *((_DWORD *)v152 + 68) + 752;
  *((float *)v152 + 88) = (double)v136 / (double)v135;
  v134 = *((_DWORD *)v152 + 68) + 881;
  v133 = *((_DWORD *)v152 + 69) + 154;
  *((float *)v152 + 73) = (double)v134 / (double)v133;
  v132 = *((_DWORD *)v152 + 69) + 154;
  v131 = *((_DWORD *)v152 + 68) + 881;
  *((float *)v152 + 89) = (double)v132 / (double)v131;
  v130 = *((_DWORD *)v152 + 68) + 950;
  v129 = *((_DWORD *)v152 + 69) + 243;
  *((float *)v152 + 74) = (double)v130 / (double)v129;
  v128 = *((_DWORD *)v152 + 69) + 243;
  v127 = *((_DWORD *)v152 + 68) + 950;
  *((float *)v152 + 90) = (double)v128 / (double)v127;
  v126 = *((_DWORD *)v152 + 68) + 886;
  v125 = *((_DWORD *)v152 + 69) + 217;
  *((float *)v152 + 75) = (double)v126 / (double)v125;
  v124 = *((_DWORD *)v152 + 69) + 217;
  v123 = *((_DWORD *)v152 + 68) + 886;
  *((float *)v152 + 91) = (double)v124 / (double)v123;
  v122 = *((_DWORD *)v152 + 68) + 877;
  v121 = *((_DWORD *)v152 + 69) + 216;
  *((float *)v152 + 76) = (double)v122 / (double)v121;
  v120 = *((_DWORD *)v152 + 69) + 216;
  v119 = *((_DWORD *)v152 + 68) + 877;
  *((float *)v152 + 92) = (double)v120 / (double)v119;
  v118 = *((_DWORD *)v152 + 68) + 877;
  v117 = *((_DWORD *)v152 + 69) + 216;
  *((float *)v152 + 77) = (double)v118 / (double)v117;
  v116 = *((_DWORD *)v152 + 69) + 216;
  v115 = *((_DWORD *)v152 + 68) + 877;
  *((float *)v152 + 93) = (double)v116 / (double)v115;
  v114 = *((_DWORD *)v152 + 68) + 624;
  v113 = *((_DWORD *)v152 + 69) + 153;
  *((float *)v152 + 78) = (double)v114 / (double)v113;
  v112 = *((_DWORD *)v152 + 69) + 153;
  v111 = *((_DWORD *)v152 + 68) + 624;
  *((float *)v152 + 94) = (double)v112 / (double)v111;
  v110 = *((_DWORD *)v152 + 68) + 998;
  v109 = *((_DWORD *)v152 + 69) + 181;
  *((float *)v152 + 79) = (double)v110 / (double)v109;
  v108 = *((_DWORD *)v152 + 69) + 181;
  v107 = *((_DWORD *)v152 + 68) + 998;
  *((float *)v152 + 95) = (double)v108 / (double)v107;
  v106 = *((_DWORD *)v152 + 68) + 877;
  v105 = *((_DWORD *)v152 + 69) + 181;
  *((float *)v152 + 80) = (double)v106 / (double)v105;
  v104 = *((_DWORD *)v152 + 69) + 181;
  v103 = *((_DWORD *)v152 + 68) + 877;
  *((float *)v152 + 96) = (double)v104 / (double)v103;
  v102 = *((_DWORD *)v152 + 68) + 820;
  v101 = *((_DWORD *)v152 + 69) + 300;
  *((float *)v152 + 81) = (double)v102 / (double)v101;
  v100 = *((_DWORD *)v152 + 69) + 300;
  v99 = *((_DWORD *)v152 + 68) + 820;
  *((float *)v152 + 97) = (double)v100 / (double)v99;
  v98 = *((_DWORD *)v152 + 68) + 698;
  v97 = *((_DWORD *)v152 + 69) + 534;
  *((float *)v152 + 82) = (double)v98 / (double)v97;
  v96 = *((_DWORD *)v152 + 69) + 534;
  v95 = *((_DWORD *)v152 + 68) + 698;
  *((float *)v152 + 98) = (double)v96 / (double)v95;
  v94 = *((_DWORD *)v152 + 68) + 519;
  v93 = *((_DWORD *)v152 + 69) + 770;
  *((float *)v152 + 83) = (double)v94 / (double)v93;
  v92 = *((_DWORD *)v152 + 69) + 770;
  v91 = *((_DWORD *)v152 + 68) + 519;
  *((float *)v152 + 99) = (double)v92 / (double)v91;
  v90 = *((_DWORD *)v152 + 68) + 747;
  v89 = *((_DWORD *)v152 + 69) + 508;
  *((float *)v152 + 84) = (double)v90 / (double)v89;
  v88 = *((_DWORD *)v152 + 69) + 508;
  v87 = *((_DWORD *)v152 + 68) + 747;
  *((float *)v152 + 100) = (double)v88 / (double)v87;
  v86 = *((_DWORD *)v152 + 68) + 753;
  v85 = *((_DWORD *)v152 + 69) + 531;
  *((float *)v152 + 85) = (double)v86 / (double)v85;
  v84 = *((_DWORD *)v152 + 69) + 531;
  v83 = *((_DWORD *)v152 + 68) + 753;
  *((float *)v152 + 101) = (double)v84 / (double)v83;
  sub_413540(&v181, 0, 0, *((_DWORD *)v152 + 68) + v171, *((_DWORD *)v152 + 69) + v174);
  v13 = 0;
  v7 = lpMenuName;
  v8 = (const char *)unknown_libname_79((char *)v152 + 1040);
  v183 = CFrameWnd::Create(v152, 0, v8, 0xCF0000u, &v181, 0, v7, 0, v13);
  sub_4138B0((int)v152, 1);
  sub_4138D0((int)v152, &Rect);
  sub_4138F0((int)v152, &v176);
  v179 = v176.bottom - v176.top - v174;
  v182 = v176.right - v176.left - v171;
  *((_DWORD *)v152 + 68) -= v182;
  *((_DWORD *)v152 + 69) -= v179;
  v82 = *((_DWORD *)v152 + 68) + 752;
  v81 = *((_DWORD *)v152 + 69) + 220;
  *((float *)v152 + 70) = (double)v82 / (double)v81;
  v80 = *((_DWORD *)v152 + 69) + 220;
  v79 = *((_DWORD *)v152 + 68) + 752;
  *((float *)v152 + 86) = (double)v80 / (double)v79;
  v78 = *((_DWORD *)v152 + 68) + 752;
  v77 = *((_DWORD *)v152 + 69) + 220;
  *((float *)v152 + 71) = (double)v78 / (double)v77;
  v76 = *((_DWORD *)v152 + 69) + 220;
  v75 = *((_DWORD *)v152 + 68) + 752;
  *((float *)v152 + 87) = (double)v76 / (double)v75;
  v74 = *((_DWORD *)v152 + 68) + 752;
  v73 = *((_DWORD *)v152 + 69) + 220;
  *((float *)v152 + 72) = (double)v74 / (double)v73;
  v72 = *((_DWORD *)v152 + 69) + 220;
  v71 = *((_DWORD *)v152 + 68) + 752;
  *((float *)v152 + 88) = (double)v72 / (double)v71;
  v70 = *((_DWORD *)v152 + 68) + 881;
  v69 = *((_DWORD *)v152 + 69) + 154;
  *((float *)v152 + 73) = (double)v70 / (double)v69;
  v68 = *((_DWORD *)v152 + 69) + 154;
  v67 = *((_DWORD *)v152 + 68) + 881;
  *((float *)v152 + 89) = (double)v68 / (double)v67;
  v66 = *((_DWORD *)v152 + 68) + 950;
  v65 = *((_DWORD *)v152 + 69) + 243;
  *((float *)v152 + 74) = (double)v66 / (double)v65;
  v64 = *((_DWORD *)v152 + 69) + 243;
  v63 = *((_DWORD *)v152 + 68) + 950;
  *((float *)v152 + 90) = (double)v64 / (double)v63;
  v62 = *((_DWORD *)v152 + 68) + 886;
  v61 = *((_DWORD *)v152 + 69) + 217;
  *((float *)v152 + 75) = (double)v62 / (double)v61;
  v60 = *((_DWORD *)v152 + 69) + 217;
  v59 = *((_DWORD *)v152 + 68) + 886;
  *((float *)v152 + 91) = (double)v60 / (double)v59;
  v58 = *((_DWORD *)v152 + 68) + 877;
  v57 = *((_DWORD *)v152 + 69) + 216;
  *((float *)v152 + 76) = (double)v58 / (double)v57;
  v56 = *((_DWORD *)v152 + 69) + 216;
  v55 = *((_DWORD *)v152 + 68) + 877;
  *((float *)v152 + 92) = (double)v56 / (double)v55;
  v54 = *((_DWORD *)v152 + 68) + 877;
  v53 = *((_DWORD *)v152 + 69) + 216;
  *((float *)v152 + 77) = (double)v54 / (double)v53;
  v52 = *((_DWORD *)v152 + 69) + 216;
  v51 = *((_DWORD *)v152 + 68) + 877;
  *((float *)v152 + 93) = (double)v52 / (double)v51;
  v50 = *((_DWORD *)v152 + 68) + 624;
  v49 = *((_DWORD *)v152 + 69) + 153;
  *((float *)v152 + 78) = (double)v50 / (double)v49;
  v48 = *((_DWORD *)v152 + 69) + 153;
  v47 = *((_DWORD *)v152 + 68) + 624;
  *((float *)v152 + 94) = (double)v48 / (double)v47;
  v46 = *((_DWORD *)v152 + 68) + 998;
  v45 = *((_DWORD *)v152 + 69) + 181;
  *((float *)v152 + 79) = (double)v46 / (double)v45;
  v44 = *((_DWORD *)v152 + 69) + 181;
  v43 = *((_DWORD *)v152 + 68) + 998;
  *((float *)v152 + 95) = (double)v44 / (double)v43;
  v42 = *((_DWORD *)v152 + 68) + 877;
  v41 = *((_DWORD *)v152 + 69) + 181;
  *((float *)v152 + 80) = (double)v42 / (double)v41;
  v40 = *((_DWORD *)v152 + 69) + 181;
  v39 = *((_DWORD *)v152 + 68) + 877;
  *((float *)v152 + 96) = (double)v40 / (double)v39;
  v38 = *((_DWORD *)v152 + 68) + 820;
  v37 = *((_DWORD *)v152 + 69) + 300;
  *((float *)v152 + 81) = (double)v38 / (double)v37;
  v36 = *((_DWORD *)v152 + 69) + 300;
  v35 = *((_DWORD *)v152 + 68) + 820;
  *((float *)v152 + 97) = (double)v36 / (double)v35;
  v34 = *((_DWORD *)v152 + 68) + 698;
  v33 = *((_DWORD *)v152 + 69) + 534;
  *((float *)v152 + 82) = (double)v34 / (double)v33;
  v32 = *((_DWORD *)v152 + 69) + 534;
  v31 = *((_DWORD *)v152 + 68) + 698;
  *((float *)v152 + 98) = (double)v32 / (double)v31;
  v30 = *((_DWORD *)v152 + 68) + 519;
  v29 = *((_DWORD *)v152 + 69) + 770;
  *((float *)v152 + 83) = (double)v30 / (double)v29;
  v28 = *((_DWORD *)v152 + 69) + 770;
  v27 = *((_DWORD *)v152 + 68) + 519;
  *((float *)v152 + 99) = (double)v28 / (double)v27;
  v26 = *((_DWORD *)v152 + 68) + 747;
  v25 = *((_DWORD *)v152 + 69) + 508;
  *((float *)v152 + 84) = (double)v26 / (double)v25;
  v24 = *((_DWORD *)v152 + 69) + 508;
  v23 = *((_DWORD *)v152 + 68) + 747;
  *((float *)v152 + 100) = (double)v24 / (double)v23;
  v22 = *((_DWORD *)v152 + 68) + 753;
  v21 = *((_DWORD *)v152 + 69) + 531;
  *((float *)v152 + 85) = (double)v22 / (double)v21;
  v20 = *((_DWORD *)v152 + 69) + 531;
  v19 = *((_DWORD *)v152 + 68) + 753;
  *((float *)v152 + 101) = (double)v20 / (double)v19;
  v13 = (struct CCreateContext *)4;
  CWnd::SetWindowPos(v152, 0, X, Y, *((_DWORD *)v152 + 68) + v175, *((_DWORD *)v152 + 69) + v178, 4u);
  sub_40D830((void *)v152);
  v157 = operator new(0x6Cu);
  LOBYTE(v185) = 10;
  if ( v157 )
  {
    v13 = v9;
    v156 = &v13;
    v18 = unknown_libname_3((char *)v152 + 1644);
    v17 = sub_4010E0(v157, (char)v13);
    v16 = v17;
  }
  else
  {
    v16 = 0;
  }
  v158 = v16;
  LOBYTE(v185) = 9;
  *((_DWORD *)v152 + 227) = v16;
  if ( (unsigned __int8)sub_414100((int)v152 + 1644, "COM1") || (unsigned __int8)sub_414100((int)v152 + 1644, "COM2") )
  {
    v13 = 0;
    sub_401D40(*((_DWORD *)v152 + 227), 0x4B00u, 0);
  }
  v13 = 0;
  sub_401710(*((_DWORD *)v152 + 227), (unsigned int (__cdecl *)(void *))sub_4130A0, 0);
  v154 = sub_4134C0(0x34u);
  LOBYTE(v185) = 11;
  if ( v154 )
    v15 = Concurrency::target_block<Concurrency::multi_link_registry<Concurrency::ISource<unsigned int>>,Concurrency::ordered_message_processor<unsigned int>>::target_block<Concurrency::multi_link_registry<Concurrency::ISource<unsigned int>>,Concurrency::ordered_message_processor<unsigned int>>(v154);
  else
    v15 = 0;
  v155 = v15;
  LOBYTE(v185) = 9;
  *((_DWORD *)v152 + 228) = v15;
  v170 = 0;
  v14 = a4;
  if ( a4 )
  {
    if ( v14 == 1 )
    {
      v13 = 0;
      v170 = sub_413970(*((CAsyncSocket **)v152 + 228), 0x15A5u, 1, 0);
    }
  }
  else
  {
    v13 = 0;
    v170 = sub_413970(*((CAsyncSocket **)v152 + 228), 0x15A4u, 1, 0);
  }
  v13 = (struct CCreateContext *)5;
  v170 = sub_413940(*((_DWORD *)v152 + 228), 5);
  if ( a5 )
  {
    v13 = (struct CCreateContext *)8;
    v10 = *((_DWORD *)v152 + 261);
    v11 = sub_413890((int)v152);
    sub_413860((int)v11, v10, (UINT)v13);
  }
  *((_DWORD *)v152 + 290) = v172;
  v153 = operator new(24 * *((_DWORD *)v152 + 290));
  *((_DWORD *)v152 + 314) = v153;
  v168 = 0;
  for ( i = 0; i < 0x1AD; ++i )
  {
    if ( dword_4BE8FC[12 * i] == *((_WORD *)v152 + 516) && v168 < v172 )
    {
      *(_BYTE *)(24 * v168 + *((_DWORD *)v152 + 314)) = 51;
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 4) = i;
      *(_WORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 8) = word_4BE8E0[24 * i];
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 12) = 0;
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 16) = (char *)&unk_4BE900 + 48 * i;
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168++ + 20) = 0;
    }
  }
  for ( i = 0; i < 0x76; ++i )
  {
    if ( dword_4BD104[13 * i] == *((_WORD *)v152 + 516) && v168 < v172 )
    {
      *(_BYTE *)(24 * v168 + *((_DWORD *)v152 + 314)) = 50;
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 4) = i;
      *(_WORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 8) = word_4BD0E8[26 * i];
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 12) = dword_4BD0EC[13 * i];
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168 + 16) = (char *)&unk_4BD108 + 52 * i;
      *(_DWORD *)(*((_DWORD *)v152 + 314) + 24 * v168++ + 20) = 0;
    }
  }
  if ( *((_WORD *)v152 + 516) == 3
    || *((_WORD *)v152 + 516) == 4
    || *((_WORD *)v152 + 516) == 5
    || *((_WORD *)v152 + 516) == 6
    || *((_WORD *)v152 + 516) == 7
    || *((_WORD *)v152 + 516) == 8
    || *((_WORD *)v152 + 516) == 9
    || *((_WORD *)v152 + 516) == 10 )
  {
    *((_DWORD *)v152 + 150) = sub_413910((int)v152, 0x65u, 0x64u, 0);
    if ( !*((_DWORD *)v152 + 150) )
      exit(-1);
    *((_BYTE *)v152 + 604) = 1;
    *((_WORD *)v152 + 290) |= 0x40u;
  }
  *((_DWORD *)v152 + 144) = sub_413910((int)v152, 0x66u, 0x3E8u, 0);
  if ( !*((_DWORD *)v152 + 144) )
    exit(-1);
  *((_DWORD *)v152 + 112) = sub_413910((int)v152, 0x67u, 0x1388u, 0);
  if ( !*((_DWORD *)v152 + 112) )
    exit(-1);
  *((_DWORD *)v152 + 142) = sub_413910((int)v152, 0x6Eu, 0x2710u, 0);
  if ( !*((_DWORD *)v152 + 142) )
    exit(-1);
  *((_DWORD *)v152 + 143) = sub_413910((int)v152, 0x6Fu, 0x2710u, 0);
  if ( !*((_DWORD *)v152 + 143) )
    exit(-1);
  *((_DWORD *)v152 + 154) = 0;
  *((_BYTE *)v152 + 620) = 0;
  *((_DWORD *)v152 + 153) = 0;
  *((_DWORD *)v152 + 152) = sub_413910((int)v152, 0x68u, 0x32u, 0);
  if ( !*((_DWORD *)v152 + 152) )
    exit(-1);
  *((_DWORD *)v152 + 158) = 0;
  *((_DWORD *)v152 + 159) = 0;
  *((_DWORD *)v152 + 160) = 0;
  *((_DWORD *)v152 + 157) = 0;
  *((_DWORD *)v152 + 156) = sub_413910((int)v152, 0x69u, 0x32u, 0);
  if ( !*((_DWORD *)v152 + 156) )
    exit(-1);
  *((_DWORD *)v152 + 161) = sub_413910((int)v152, 0x6Au, 0x96u, 0);
  if ( !*((_DWORD *)v152 + 161) )
    exit(-1);
  return v152;
}
// 402060: using guessed type _DWORD __stdcall unknown_libname_3(_DWORD);
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 413C50: using guessed type int __thiscall Concurrency::target_block<Concurrency::multi_link_registry<Concurrency::ISource<unsigned int>>,Concurrency::ordered_message_processor<unsigned int>>::target_block<Concurrency::multi_link_registry<Concurrency::ISource<unsigned int>>,Concurrency::ordered_message_processor<unsigned int>>(_DWORD);
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);
// 458330: using guessed type int CFrameWnd::CFrameWnd(void);
// 4879E4: using guessed type int (*off_4879E4)();
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD0EC: using guessed type int dword_4BD0EC[];
// 4BD0F4: using guessed type int dword_4BD0F4[];
// 4BD0F8: using guessed type int dword_4BD0F8[];
// 4BD0FC: using guessed type int dword_4BD0FC[];
// 4BD100: using guessed type int dword_4BD100[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8EC: using guessed type int dword_4BE8EC[];
// 4BE8F0: using guessed type int dword_4BE8F0[];
// 4BE8F4: using guessed type int dword_4BE8F4[];
// 4BE8F8: using guessed type int dword_4BE8F8[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (0040B3A0) --------------------------------------------------------
int __thiscall sub_40B3A0(int this)
{
  CFrameWnd *v2; // [sp+18h] [bp-5Ch]@1
  int v3; // [sp+20h] [bp-54h]@17
  void (__thiscall ***v4)(_DWORD, _DWORD); // [sp+28h] [bp-4Ch]@15
  int v5; // [sp+54h] [bp-20h]@10
  int v6; // [sp+5Ch] [bp-18h]@6
  int v7; // [sp+64h] [bp-10h]@2

  v2 = (CFrameWnd *)this;
  *(_DWORD *)this = &off_4879E4;
  if ( *(_DWORD *)(this + 664) )
  {
    (*(void (__thiscall **)(_DWORD))(**(_DWORD **)(this + 664) + 76))(*(_DWORD *)(this + 664));
    v7 = *((_DWORD *)v2 + 166);
    if ( v7 )
      (*(void (__thiscall **)(int, signed int))(*(_DWORD *)v7 + 4))(v7, 1);
    *((_DWORD *)v2 + 166) = 0;
  }
  if ( *((_DWORD *)v2 + 532) )
  {
    (*(void (__thiscall **)(_DWORD))(**((_DWORD **)v2 + 531) + 96))(*((_DWORD *)v2 + 531));
    v6 = *((_DWORD *)v2 + 531);
    if ( v6 )
      (*(void (__thiscall **)(int, signed int))(*(_DWORD *)v6 + 4))(v6, 1);
    *((_DWORD *)v2 + 531) = 0;
  }
  if ( *((_DWORD *)v2 + 531) )
  {
    v5 = *((_DWORD *)v2 + 531);
    if ( v5 )
      (*(void (__thiscall **)(int, signed int))(*(_DWORD *)v5 + 4))(v5, 1);
    *((_DWORD *)v2 + 531) = 0;
  }
  sub_401870(*((_DWORD *)v2 + 227));
  while ( *(_DWORD *)(*((_DWORD *)v2 + 227) + 4) )
    ;
  sub_411760((int)v2);
  j__free(*((void **)v2 + 314));
  j__free(*((void **)v2 + 102));
  j__free(*((void **)v2 + 103));
  j__free(*((void **)v2 + 108));
  j__free(*((void **)v2 + 109));
  j__free(*((void **)v2 + 106));
  j__free(*((void **)v2 + 107));
  j__free(*((void **)v2 + 111));
  j__free(*((void **)v2 + 110));
  v4 = (void (__thiscall ***)(_DWORD, _DWORD))*((_DWORD *)v2 + 227);
  if ( v4 )
    (**v4)(v4, 1);
  v3 = *((_DWORD *)v2 + 228);
  if ( v3 )
    (*(void (__thiscall **)(int, signed int))(*(_DWORD *)v3 + 4))(v3, 1);
  unknown_libname_4((char *)v2 + 2144);
  unknown_libname_4((char *)v2 + 2140);
  unknown_libname_4((char *)v2 + 2136);
  unknown_libname_4((char *)v2 + 2132);
  sub_4139F0((char *)v2 + 916);
  sub_4137D0((char *)v2 + 888);
  sub_4137D0((char *)v2 + 880);
  unknown_libname_34((char *)v2 + 668);
  sub_413840((char *)v2 + 212);
  return CFrameWnd::~CFrameWnd(v2);
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 4139D0: using guessed type int __thiscall unknown_libname_34(_DWORD);
// 4879E4: using guessed type int (*off_4879E4)();

//----- (0040B720) --------------------------------------------------------
unsigned int __stdcall sub_40B720(unsigned __int16 a1, unsigned __int16 a2, _BYTE *a3)
{
  unsigned int v4; // [sp+4h] [bp-8h]@1
  unsigned int i; // [sp+8h] [bp-4h]@1
  unsigned int j; // [sp+8h] [bp-4h]@8

  v4 = 0;
  *a3 = 0;
  for ( i = 0; i < 0x1AD && v4 != 1; ++i )
  {
    if ( (unsigned __int16)word_4BE8E0[24 * i] == a2 && dword_4BE8FC[12 * i] == a1 )
    {
      v4 = i;
      *a3 = 1;
    }
  }
  for ( j = 0; j < 0x76 && v4 != 1; ++j )
  {
    if ( (unsigned __int16)word_4BD0E8[26 * j] == a2 && dword_4BD104[13 * j] == a1 )
    {
      v4 = j;
      *a3 = 2;
    }
  }
  return v4;
}
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (0040B7F0) --------------------------------------------------------
int __thiscall sub_40B7F0(int this, unsigned __int16 a2)
{
  int result; // eax@1
  const char *v3; // eax@2
  const char *v4; // eax@2
  const char *v5; // eax@3
  const char *v6; // eax@3
  const char *v7; // eax@4
  const char *v8; // eax@4
  const char *v9; // eax@5
  const char *v10; // eax@5
  const char *v11; // eax@6
  const char *v12; // eax@6
  const char *v13; // eax@7
  const char *v14; // eax@7
  const char *v15; // eax@8
  const char *v16; // eax@8
  const char *v17; // eax@9
  const char *v18; // eax@9
  const char *v19; // eax@10
  const char *v20; // eax@10
  const char *v21; // eax@11
  const char *v22; // eax@11
  const char *v23; // eax@12
  const char *v24; // eax@12
  const char *v25; // eax@13
  const char *v26; // eax@13
  const char *v27; // eax@14
  const char *v28; // eax@14
  const char *v29; // eax@15
  const char *v30; // eax@15
  const char *v31; // eax@16
  const char *v32; // eax@16
  const char *v33; // eax@17
  const char *v34; // eax@17
  int v35; // [sp+4h] [bp-4h]@1

  v35 = this;
  result = a2;
  switch ( a2 )
  {
    case 0xBu:
      memset((void *)(this + 452), 0, 0x74u);
      v3 = (const char *)unknown_libname_79(v35 + 2132);
      strcpy((char *)(v35 + 452), v3);
      v4 = (const char *)unknown_libname_79(v35 + 2136);
      strcpy((char *)(v35 + 468), v4);
      strcpy((char *)(v35 + 476), "GCU275");
      strcpy((char *)(v35 + 488), "G1000 GCU275 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2012 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 0xCu:
      memset((void *)(this + 452), 0, 0x74u);
      v5 = (const char *)unknown_libname_79(v35 + 2132);
      strcpy((char *)(v35 + 452), v5);
      v6 = (const char *)unknown_libname_79(v35 + 2136);
      strcpy((char *)(v35 + 468), v6);
      strcpy((char *)(v35 + 476), "GCU475");
      strcpy((char *)(v35 + 488), "G1000 GCU475 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2006-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 0xDu:
      memset((void *)(this + 452), 0, 0x74u);
      v7 = (const char *)unknown_libname_79(v35 + 2132);
      strcpy((char *)(v35 + 452), v7);
      v8 = (const char *)unknown_libname_79(v35 + 2136);
      strcpy((char *)(v35 + 468), v8);
      strcpy((char *)(v35 + 476), "GCU476");
      strcpy((char *)(v35 + 488), "G1000 GCU476 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2006-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 0xEu:
      memset((void *)(this + 452), 0, 0x74u);
      v9 = (const char *)unknown_libname_79(v35 + 2132);
      strcpy((char *)(v35 + 452), v9);
      v10 = (const char *)unknown_libname_79(v35 + 2136);
      strcpy((char *)(v35 + 468), v10);
      strcpy((char *)(v35 + 476), "GCU477");
      strcpy((char *)(v35 + 488), "G1000 GCU477 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2008-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 0xFu:
      memset((void *)(this + 452), 0, 0x74u);
      v11 = (const char *)unknown_libname_79(v35 + 2132);
      strcpy((char *)(v35 + 452), v11);
      v12 = (const char *)unknown_libname_79(v35 + 2136);
      strcpy((char *)(v35 + 468), v12);
      strcpy((char *)(v35 + 476), "GCU478");
      strcpy((char *)(v35 + 488), "G1000 GCU478 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2008-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 0u:
      memset((void *)(this + 452), 0, 0x74u);
      v13 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v13);
      v14 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v14);
      strcpy((char *)(v35 + 476), "GMC705-00");
      strcpy((char *)(v35 + 488), "G1000 GMC705-00 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2008-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 1u:
      memset((void *)(this + 452), 0, 0x74u);
      v15 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v15);
      v16 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v16);
      strcpy((char *)(v35 + 476), "GMC705-20");
      strcpy((char *)(v35 + 488), "G1000 GMC705-20 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2008-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 2u:
      memset((void *)(this + 452), 0, 0x74u);
      v17 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v17);
      v18 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v18);
      strcpy((char *)(v35 + 476), "GMC705-80");
      strcpy((char *)(v35 + 488), "G1000 GMC705-80 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2008-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 3u:
      memset((void *)(this + 452), 0, 0x74u);
      v19 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v19);
      v20 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v20);
      strcpy((char *)(v35 + 476), "GMC710");
      strcpy((char *)(v35 + 488), "G1000 GMC710 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2006-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 4u:
      memset((void *)(this + 452), 0, 0x74u);
      v21 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v21);
      v22 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v22);
      strcpy((char *)(v35 + 476), "GMC715");
      strcpy((char *)(v35 + 488), "G1000 GMC715 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2008-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 5u:
      memset((void *)(this + 452), 0, 0x74u);
      v23 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v23);
      v24 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v24);
      strcpy((char *)(v35 + 476), "GMC720-00");
      strcpy((char *)(v35 + 488), "G1000 GMC720-00 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2011-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 6u:
      memset((void *)(this + 452), 0, 0x74u);
      v25 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v25);
      v26 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v26);
      strcpy((char *)(v35 + 476), "GMC720-20");
      strcpy((char *)(v35 + 488), "G1000 GMC720-20 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2011-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 7u:
      memset((void *)(this + 452), 0, 0x74u);
      v27 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v27);
      v28 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v28);
      strcpy((char *)(v35 + 476), "GMC720-30");
      strcpy((char *)(v35 + 488), "G1000 GMC720-30 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2011-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 8u:
      memset((void *)(this + 452), 0, 0x74u);
      v29 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v29);
      v30 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v30);
      strcpy((char *)(v35 + 476), "GMC720-80");
      strcpy((char *)(v35 + 488), "G1000 GMC720-80 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2011-12 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 9u:
      memset((void *)(this + 452), 0, 0x74u);
      v31 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v31);
      v32 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v32);
      strcpy((char *)(v35 + 476), "GMC7200-00");
      strcpy((char *)(v35 + 488), "G1000 GMC7200-00 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2012 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    case 0xAu:
      memset((void *)(this + 452), 0, 0x74u);
      v33 = (const char *)unknown_libname_79(v35 + 2140);
      strcpy((char *)(v35 + 452), v33);
      v34 = (const char *)unknown_libname_79(v35 + 2144);
      strcpy((char *)(v35 + 468), v34);
      strcpy((char *)(v35 + 476), "GMC7250-00");
      strcpy((char *)(v35 + 488), "G1000 GMC7250-00 SIMULATOR");
      strcpy((char *)(v35 + 516), "(c) 2012 Garmin Ltd or subs.");
      strcpy((char *)(v35 + 548), "SIM");
      result = v35;
      *(_DWORD *)(v35 + 560) = 0;
      *(_DWORD *)(v35 + 564) = 0;
      break;
    default:
      return result;
  }
  return result;
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);

//----- (0040C570) --------------------------------------------------------
__int16 __stdcall sub_40C570(unsigned __int8 a1)
{
  signed __int16 v2; // [sp+4h] [bp-8h]@1
  unsigned int i; // [sp+8h] [bp-4h]@1

  v2 = 12;
  for ( i = 0; i < 0x40; ++i )
  {
    if ( (unsigned __int8)byte_487C68[4 * i] == a1 )
      return word_487C6A[2 * i];
  }
  return v2;
}
// 487C6A: using guessed type __int16 word_487C6A[];

//----- (0040C5D0) --------------------------------------------------------
int __thiscall sub_40C5D0(_DWORD **this)
{
  size_t v1; // eax@11
  _DWORD **v3; // [sp+8h] [bp-70h]@1
  int v4; // [sp+Ch] [bp-6Ch]@1
  CHAR String; // [sp+10h] [bp-68h]@10
  char v6; // [sp+2Ch] [bp-4Ch]@11
  int v7; // [sp+4Ch] [bp-2Ch]@1
  int v8; // [sp+50h] [bp-28h]@1
  int v9; // [sp+54h] [bp-24h]@13
  int v10; // [sp+58h] [bp-20h]@13
  int v11; // [sp+5Ch] [bp-1Ch]@13
  unsigned int i; // [sp+60h] [bp-18h]@3
  int v13; // [sp+64h] [bp-14h]@1
  int v14; // [sp+68h] [bp-10h]@19
  int v15; // [sp+6Ch] [bp-Ch]@18
  int v16; // [sp+70h] [bp-8h]@19
  LONG lParam; // [sp+74h] [bp-4h]@8

  v3 = this;
  unknown_libname_92(&v8);
  unknown_libname_92(&v13);
  v7 = (*(int (__stdcall **)(_DWORD *, _DWORD, _DWORD, _DWORD, int *))(*v3[213] + 72))(v3[213], 0, 0, 0, &v4);
  if ( v7 )
    exit(-1);
  for ( i = 0; i < 0x1AD; ++i )
  {
    if ( dword_4BE8FC[12 * i] == *((_WORD *)v3 + 516) )
    {
      if ( dword_4BE8E4[12 * i] )
      {
        lParam = MapVirtualKeyA(dword_4BE8E4[12 * i], 0);
        switch ( dword_4BE8E4[12 * i] )
        {
          case 33:
          case 34:
          case 35:
          case 36:
          case 37:
          case 38:
          case 39:
          case 40:
          case 45:
          case 46:
            lParam |= 0x100u;
            break;
          default:
            break;
        }
        lParam <<= 16;
        lParam |= 0x2000000u;
        GetKeyNameTextA(lParam, &String, 25);
        if ( dword_4BE8E8[12 * i] )
        {
          strncpy(&v6, "CTRL-", 6u);
          v1 = strlen(&v6);
          strncat(&v6, &String, 25 - v1);
          strcpy(&String, &v6);
        }
      }
      else
      {
        Concurrency::details::LockFreeStack<Concurrency::details::SubAllocator>::Push((RECT *)&dword_4BE8EC[12 * i]);
        ++v10;
        --v8;
        --v9;
        ++v11;
        (*(void (__stdcall **)(_DWORD *, int, int *, signed int))(*v3[213] + 140))(v3[213], v4, &v8, -16777216);
        (*(void (__stdcall **)(_DWORD *, int, int *, signed int))(*v3[213] + 140))(
          v3[213],
          v4,
          &dword_4BE8EC[12 * i],
          16776960);
        strncpy(&String, byte_487234, 1u);
      }
      Concurrency::details::LockFreeStack<Concurrency::details::SubAllocator>::Push((RECT *)&dword_4BE8EC[12 * i]);
      if ( strlen(&String) > 2 || !strncmp(&String, "Up", 2u) )
        v3[226] = v3[225];
      else
        v3[226] = v3[224];
      (*(void (__stdcall **)(_DWORD *, CHAR *, signed int, int *, signed int, signed int))(*v3[226] + 24))(
        v3[226],
        &String,
        -1,
        &v13,
        1061,
        -16776961);
      v15 += 2;
      v13 -= 2;
      if ( dword_4BE8E4[12 * i] )
      {
        v10 = v15 + 1;
        v8 = v13 - 1;
        v9 = v14 - 1;
        v11 = v16 + 1;
        (*(void (__stdcall **)(_DWORD *, int, int *, signed int))(*v3[213] + 140))(v3[213], v4, &v8, -16777216);
        (*(void (__stdcall **)(_DWORD *, int, int *, signed int))(*v3[213] + 140))(v3[213], v4, &v13, 16776960);
      }
      (*(void (__stdcall **)(_DWORD *, CHAR *, signed int, int *, signed int, signed int))(*v3[226] + 24))(
        v3[226],
        &String,
        -1,
        &v13,
        37,
        -16776961);
    }
  }
  for ( i = 0; i < 0x76; ++i )
  {
    if ( dword_4BD104[13 * i] == *((_WORD *)v3 + 516) )
    {
      if ( dword_4BD0F0[13 * i] )
      {
        lParam = MapVirtualKeyA(dword_4BD0F0[13 * i], 0);
        switch ( dword_4BD0F0[13 * i] )
        {
          case 33:
          case 34:
          case 35:
          case 36:
          case 37:
          case 38:
          case 39:
          case 40:
          case 45:
          case 46:
            lParam |= 0x100u;
            break;
          default:
            break;
        }
        lParam <<= 16;
        lParam |= 0x2000000u;
        GetKeyNameTextA(lParam, &String, 25);
      }
      else
      {
        Concurrency::details::LockFreeStack<Concurrency::details::SubAllocator>::Push((RECT *)&dword_4BD0F4[13 * i]);
        ++v10;
        --v8;
        --v9;
        ++v11;
        (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(*v3[213] + 140))(v3[213], v4, &v8, -16777216);
        (*(void (__stdcall **)(_DWORD, _DWORD, int *, _DWORD))(*v3[213] + 140))(
          v3[213],
          v4,
          &dword_4BD0F4[13 * i],
          16776960);
        strncpy(&String, byte_48723C, 5u);
      }
      Concurrency::details::LockFreeStack<Concurrency::details::SubAllocator>::Push((RECT *)&dword_4BD0F4[13 * i]);
      if ( strlen(&String) > 2 || !strncmp(&String, "Up", 2u) )
        v3[226] = v3[225];
      else
        v3[226] = v3[224];
      (*(void (__stdcall **)(_DWORD *, CHAR *, signed int, int *, signed int, signed int))(*v3[226] + 24))(
        v3[226],
        &String,
        -1,
        &v13,
        1061,
        -16776961);
      v15 += 2;
      v13 -= 2;
      if ( dword_4BD0F0[13 * i] )
      {
        v10 = v15 + 1;
        v8 = v13 - 1;
        v9 = v14 - 1;
        v11 = v16 + 1;
        (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD))(*v3[213] + 140))(v3[213], v4, &v8, -16777216);
        (*(void (__stdcall **)(_DWORD, _DWORD, int *, signed int))(*v3[213] + 140))(v3[213], v4, &v13, 16776960);
      }
      (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, signed int, _DWORD))(*v3[226] + 24))(
        v3[226],
        &String,
        -1,
        &v13,
        37,
        -16776961);
    }
  }
  v3[226] = 0;
  return (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 8))(v4);
}
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);
// 4BD0F0: using guessed type int dword_4BD0F0[];
// 4BD0F4: using guessed type int dword_4BD0F4[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E4: using guessed type int dword_4BE8E4[];
// 4BE8E8: using guessed type int dword_4BE8E8[];
// 4BE8EC: using guessed type int dword_4BE8EC[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (0040CCA0) --------------------------------------------------------
int __stdcall sub_40CCA0(int a1, unsigned __int8 *a2, int a3, int a4)
{
  char v4; // al@18
  int v6; // [sp+8h] [bp-14h]@2
  signed int v7; // [sp+Ch] [bp-10h]@1
  int v8; // [sp+10h] [bp-Ch]@1
  int v9; // [sp+14h] [bp-8h]@8
  int i; // [sp+18h] [bp-4h]@2
  int j; // [sp+18h] [bp-4h]@8
  int k; // [sp+18h] [bp-4h]@16

  v7 = 0;
  sub_4020E0((void *)a4);
  v8 = sub_404070((void *)a1, a2, 0);
  if ( v8 != -1 )
  {
    v6 = -1;
    for ( i = a3 - 1; v8 + i < sub_4021B0((void *)a1) && v6 == -1; ++i )
    {
      if ( sub_414140((_DWORD *)a1, v8 + i) == 61 )
        v6 = i + v8 + 1;
    }
    v9 = -1;
    for ( j = 0; v6 != -1 && v6 + j < sub_4021B0((void *)a1) && v9 == -1; ++j )
    {
      if ( sub_414140((_DWORD *)a1, v6 + j) == 10 )
        v9 = v6 + j;
    }
    if ( v9 != -1 )
    {
      v7 = 1;
      for ( k = 0; k < v9 - v6 - 1; ++k )
      {
        v4 = sub_414140((_DWORD *)a1, v6 + k);
        ATL::CSimpleStringT<char,0>::AppendChar(v4);
      }
    }
  }
  return v7;
}
// 402400: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::AppendChar(char);

//----- (0040CDF0) --------------------------------------------------------
int __thiscall sub_40CDF0(int this)
{
  unsigned __int8 v1; // ST2B_1@3
  unsigned __int8 v2; // ST2B_1@8
  char v4; // [sp+0h] [bp-16Ch]@40
  char v5; // [sp+4h] [bp-168h]@17
  int v6; // [sp+Ch] [bp-160h]@1
  unsigned __int16 v7; // [sp+10h] [bp-15Ch]@3
  unsigned __int16 v8; // [sp+10h] [bp-15Ch]@8
  unsigned __int16 v9; // [sp+10h] [bp-15Ch]@14
  __int16 v10; // [sp+10h] [bp-15Ch]@40
  char v11; // [sp+16h] [bp-156h]@8
  char v12; // [sp+16h] [bp-156h]@14
  __int16 v13; // [sp+18h] [bp-154h]@3
  __int16 v14; // [sp+18h] [bp-154h]@8
  char v15; // [sp+1Ch] [bp-150h]@38
  int v16; // [sp+154h] [bp-18h]@1
  int i; // [sp+158h] [bp-14h]@21
  int v18; // [sp+15Ch] [bp-10h]@1
  unsigned int v19; // [sp+164h] [bp-8h]@1
  char v20; // [sp+16Ah] [bp-2h]@3
  char v21; // [sp+16Bh] [bp-1h]@1

  v6 = this;
  v16 = 0;
  v19 = 0;
  v21 = 0;
  v18 = sub_404360(*(_DWORD *)(*(_DWORD *)(this + 912) + 40), 1024);
  if ( v18 != -1 )
  {
    switch ( sub_4043E0(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18) )
    {
      case 1:
        v7 = sub_404440(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v20 = sub_404500(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v1 = sub_4044C0(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v13 = sub_40C570(v1);
        if ( (unsigned __int16)v13 == *(_WORD *)(v6 + 1032) )
          v19 = sub_40B720(v13, v7, &v21);
        sub_4128C0(v6, v7, 0);
        sub_412B80((void *)v6, v7, 0);
        if ( v21 == 1 )
        {
          *(_DWORD *)(v6 + 616) = 1;
          *(_BYTE *)(v6 + 620) = 0;
          *(_BYTE *)(*(_DWORD *)(v6 + 408) + v19) = 1;
          sub_413D70(v6, (RECT *)(*(_DWORD *)(v6 + 440) + 16 * v19), 0);
          sub_40FA00(v6);
        }
        break;
      case 2:
        v8 = sub_404440(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v11 = sub_404500(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v2 = sub_4044C0(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v14 = sub_40C570(v2);
        if ( (unsigned __int16)v14 == *(_WORD *)(v6 + 1032) )
          v19 = sub_40B720(v14, v8, &v21);
        sub_412B80((void *)v6, v8, v11);
        if ( v21 == 2 )
        {
          *(_DWORD *)(v6 + 616) = 1;
          *(_BYTE *)(v6 + 620) = 0;
          *(_DWORD *)(*(_DWORD *)(v6 + 432) + 4 * v19) = 1;
          sub_413D70(v6, (RECT *)(*(_DWORD *)(v6 + 444) + 16 * v19), 0);
          sub_40FA00(v6);
        }
        break;
      case 3:
        *(_DWORD *)(v6 + 612) = 1;
        break;
      case 6:
        v9 = sub_404440(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v12 = sub_404500(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        if ( v12 >= 0 )
          v20 = v12 > 0;
        else
          v20 = -1;
        v5 = sub_404550(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        if ( v5 )
        {
          if ( v5 == 1 )
          {
            for ( i = 0; i < *(_DWORD *)(v6 + 1160); ++i )
            {
              if ( v9 == *(_WORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 8)
                && v20 == *(_DWORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 12) )
              {
                *(_DWORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 20) = 1;
              }
            }
          }
          else if ( v5 == 2 )
          {
            for ( i = 0; i < *(_DWORD *)(v6 + 1160); ++i )
              *(_DWORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 20) = 0;
          }
        }
        else
        {
          for ( i = 0; i < *(_DWORD *)(v6 + 1160); ++i )
          {
            if ( v9 == *(_WORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 8)
              && v20 == *(_DWORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 12) )
            {
              *(_DWORD *)(*(_DWORD *)(v6 + 1256) + 24 * i + 20) = 0;
            }
          }
        }
        goto LABEL_38;
      case 4:
LABEL_38:
        sub_404590(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18, &v15, 0x12Cu);
        strcpy((char *)(v6 + 452), &v15);
        break;
      case 5:
        sub_404620(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18, &v15, 0x12Cu);
        strcpy((char *)(v6 + 468), &v15);
        break;
      case 7:
        v10 = sub_404440(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        v4 = sub_404500(*(_DWORD *)(*(_DWORD *)(v6 + 912) + 40), 1024, v18);
        if ( v4 )
        {
          if ( v4 == 1 )
            sub_412B80((void *)v6, v10, 0);
        }
        else
        {
          sub_4128C0(v6, v10, 0);
        }
        break;
      default:
        return v16;
    }
  }
  return v16;
}

//----- (0040D4D0) --------------------------------------------------------
int __thiscall sub_40D4D0(void *this, char a2)
{
  int v2; // eax@4
  void *v4; // [sp+Ch] [bp-850h]@6
  void *v5; // [sp+10h] [bp-84Ch]@2
  int v6; // [sp+14h] [bp-848h]@1
  void *v7; // [sp+28h] [bp-834h]@5
  void *v8; // [sp+30h] [bp-82Ch]@1
  char v9; // [sp+38h] [bp-824h]@1
  int v10; // [sp+840h] [bp-1Ch]@8
  int v11; // [sp+844h] [bp-18h]@4
  int v12; // [sp+848h] [bp-14h]@8
  void *v13; // [sp+84Ch] [bp-10h]@4
  int v14; // [sp+858h] [bp-4h]@1

  v6 = (int)this;
  v14 = 0;
  memset(&v9, 0, 0x800u);
  v8 = sub_4134C0(0x10u);
  LOBYTE(v14) = 1;
  if ( v8 )
    v5 = (void *)CFile::CFile(v8);
  else
    v5 = 0;
  LOBYTE(v14) = 0;
  v13 = v5;
  v2 = unknown_libname_79(&a2);
  v11 = (*(int (__thiscall **)(void *, int, _DWORD, _DWORD))(*(_DWORD *)v13 + 32))(v13, v2, 0, 0);
  if ( v11 )
  {
    sub_413DA0(v13);
    (*(void (__thiscall **)(void *, char *, signed int))(*(_DWORD *)v13 + 52))(v13, &v9, 2048);
    v7 = operator new(4u);
    LOBYTE(v14) = 2;
    if ( v7 )
      v4 = sub_413FF0(v7, &v9);
    else
      v4 = 0;
    LOBYTE(v14) = 0;
    v12 = (int)v4;
    v10 = sub_40CCA0((int)v4, "ch1_part_num", 13, v6 + 2132);
    if ( !v10 )
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("006-B0XXX-SIM");
    v10 = sub_40CCA0(v12, "ch1_version", 12, v6 + 2136);
    if ( !v10 )
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("1.0");
    v10 = sub_40CCA0(v12, "ch2_part_num", 13, v6 + 2140);
    if ( !v10 )
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("006-B0XXX-SIM");
    v10 = sub_40CCA0(v12, "ch2_version", 12, v6 + 2144);
    if ( !v10 )
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("1.0");
    if ( v12 )
      sub_413DC0((void *)v12, 1);
  }
  else
  {
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("006-B0XXX-SIM");
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("1.0");
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("006-B0XXX-SIM");
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("1.0");
  }
  if ( v13 )
    (*(void (__thiscall **)(void *, signed int))(*(_DWORD *)v13 + 4))(v13, 1);
  v13 = 0;
  v14 = -1;
  return unknown_libname_4(&a2);
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 462073: using guessed type int __thiscall CFile::CFile(_DWORD);

//----- (0040D830) --------------------------------------------------------
int __thiscall sub_40D830(void *this)
{
  void *v1; // eax@23
  void *v2; // eax@23
  int v4; // [sp+8h] [bp-B8h]@1
  void *v5; // [sp+Ch] [bp-B4h]@23
  int v6; // [sp+10h] [bp-B0h]@1
  int v7; // [sp+14h] [bp-ACh]@2
  LPCWSTR lpName; // [sp+18h] [bp-A8h]@2
  float v9; // [sp+1Ch] [bp-A4h]@23
  float v10; // [sp+20h] [bp-A0h]@23
  float v11; // [sp+24h] [bp-9Ch]@23
  float v12; // [sp+28h] [bp-98h]@23
  int v13; // [sp+2Ch] [bp-94h]@23
  float v14; // [sp+30h] [bp-90h]@23
  float v15; // [sp+34h] [bp-8Ch]@23
  float v16; // [sp+38h] [bp-88h]@23
  float v17; // [sp+3Ch] [bp-84h]@23
  float v18; // [sp+40h] [bp-80h]@23
  float v19; // [sp+44h] [bp-7Ch]@23
  int v20; // [sp+48h] [bp-78h]@23
  float v21; // [sp+4Ch] [bp-74h]@23
  float v22; // [sp+50h] [bp-70h]@23
  float v23; // [sp+54h] [bp-6Ch]@23
  float v24; // [sp+58h] [bp-68h]@23
  float v25; // [sp+5Ch] [bp-64h]@23
  float v26; // [sp+60h] [bp-60h]@23
  int v27; // [sp+64h] [bp-5Ch]@23
  float v28; // [sp+68h] [bp-58h]@23
  float v29; // [sp+6Ch] [bp-54h]@23
  float v30; // [sp+70h] [bp-50h]@23
  float v31; // [sp+74h] [bp-4Ch]@23
  float v32; // [sp+78h] [bp-48h]@23
  float v33; // [sp+7Ch] [bp-44h]@23
  int v34; // [sp+80h] [bp-40h]@23
  float v35; // [sp+84h] [bp-3Ch]@23
  float v36; // [sp+88h] [bp-38h]@23
  int v37; // [sp+8Ch] [bp-34h]@2
  struct tagRECT Rect; // [sp+90h] [bp-30h]@1
  struct tagRECT v39; // [sp+A0h] [bp-20h]@1
  char v40; // [sp+B0h] [bp-10h]@1
  int v41; // [sp+BCh] [bp-4h]@1

  v4 = (int)this;
  sub_402040(&v40);
  v41 = 0;
  unknown_libname_92(&v39);
  unknown_libname_92(&Rect);
  v6 = 0;
  sub_4138D0(v4, &Rect);
  switch ( *(_WORD *)(v4 + 1032) )
  {
    case 0xB:
      v37 = 300;
      v7 = 820;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU_275.bmp");
      lpName = (LPCWSTR)159;
      break;
    case 0xC:
      v37 = 534;
      v7 = 698;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU_475.bmp");
      lpName = (LPCWSTR)105;
      break;
    case 0xD:
      v37 = 770;
      v7 = 519;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU_476.bmp");
      lpName = (LPCWSTR)106;
      break;
    case 0xE:
      v37 = 508;
      v7 = 747;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU_477.bmp");
      lpName = (LPCWSTR)145;
      break;
    case 0xF:
      v37 = 531;
      v7 = 753;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU_478.bmp");
      lpName = (LPCWSTR)147;
      break;
    case 0:
      v37 = 220;
      v7 = 752;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_705_00.bmp");
      lpName = (LPCWSTR)156;
      break;
    case 1:
      v37 = 220;
      v7 = 752;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_705_20.bmp");
      lpName = (LPCWSTR)157;
      break;
    case 2:
      v37 = 220;
      v7 = 752;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_705_80.bmp");
      lpName = (LPCWSTR)148;
      break;
    case 3:
      v37 = 154;
      v7 = 881;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_710.bmp");
      lpName = (LPCWSTR)108;
      break;
    case 4:
      v37 = 243;
      v7 = 950;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_715.bmp");
      lpName = (LPCWSTR)149;
      break;
    case 5:
      v37 = 217;
      v7 = 886;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_720_00.bmp");
      lpName = (LPCWSTR)162;
      break;
    case 6:
      v37 = 216;
      v7 = 877;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_720_20.bmp");
      lpName = (LPCWSTR)163;
      break;
    case 7:
      v37 = 216;
      v7 = 877;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_720_30.bmp");
      lpName = (LPCWSTR)165;
      break;
    case 8:
      v37 = 153;
      v7 = 624;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_720_80.bmp");
      lpName = (LPCWSTR)166;
      break;
    case 9:
      v37 = 181;
      v7 = 998;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_7200_00.bmp");
      lpName = (LPCWSTR)167;
      break;
    case 0xA:
      v37 = 181;
      v7 = 877;
      ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GMC_7250_00.bmp");
      lpName = (LPCWSTR)168;
      break;
    default:
      break;
  }
  sub_4138D0(v4, &v39);
  v39.right = *(_DWORD *)(v4 + 272) + v7 + v39.left;
  v39.bottom = *(_DWORD *)(v4 + 276) + v37 + v39.top;
  sub_413E50((CWnd *)v4, (int)&v39, 1);
  memset((void *)(v4 + 792), 0, 0x38u);
  *(_DWORD *)(v4 + 796) = v37;
  *(_DWORD *)(v4 + 792) = v7;
  *(_DWORD *)(v4 + 800) = 0;
  *(_DWORD *)(v4 + 804) = 1;
  *(_DWORD *)(v4 + 808) = 0;
  *(_DWORD *)(v4 + 812) = 0;
  *(_DWORD *)(v4 + 816) = 1;
  *(_DWORD *)(v4 + 820) = *(_DWORD *)(v4 + 32);
  *(_DWORD *)(v4 + 824) = 1;
  *(_DWORD *)(v4 + 828) = 0;
  *(_DWORD *)(v4 + 832) = 0;
  *(_DWORD *)(v4 + 836) = 0;
  *(_DWORD *)(v4 + 844) = 2147483648;
  *(_DWORD *)(v4 + 788) = Direct3DCreate9(0x1Fu);
  if ( !*(_DWORD *)(v4 + 788) )
  {
    AfxMessageBox("This program requires DirectX 9.0b or higher!", 0x30u, 0);
    exit(-1);
  }
  v6 = (*(int (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD, signed int, int, int))(**(_DWORD **)(v4 + 788) + 64))(
         *(_DWORD *)(v4 + 788),
         0,
         1,
         *(_DWORD *)(v4 + 32),
         32,
         v4 + 792,
         v4 + 852);
  if ( v6 )
    exit(-1);
  (*(void (__stdcall **)(_DWORD, signed int))(**(_DWORD **)(v4 + 852) + 228))(*(_DWORD *)(v4 + 852), 22);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v4 + 852) + 228))(*(_DWORD *)(v4 + 852), 137, 0);
  (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v4 + 852) + 228))(*(_DWORD *)(v4 + 852), 7, 1);
  *(_DWORD *)(v4 + 848) = CreateMutexA(0, 0, 0);
  sub_41BDA0(*(_DWORD *)(v4 + 852), 0, lpName, v4 + 876);
  v9 = 0.0;
  v10 = 0.0;
  v11 = 0.5;
  v12 = 1.0;
  v13 = -1;
  v14 = 0.0;
  v15 = 0.0;
  v16 = (double)v7 - 1.0;
  v17 = 0.0;
  v18 = 0.5;
  v19 = 1.0;
  v20 = -1;
  v21 = (double)v7 / 1024.0;
  v22 = 0.0;
  v23 = (double)v7 - 1.0;
  v24 = (double)v37 - 1.0;
  v25 = 0.5;
  v26 = 1.0;
  v27 = -1;
  v28 = (double)v7 / 1024.0;
  v29 = (double)v37 / 1024.0;
  v30 = 0.0;
  v31 = (double)v37 - 1.0;
  v32 = 0.5;
  v33 = 1.0;
  v34 = -1;
  v35 = 0.0;
  v36 = (double)v37 / 1024.0;
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int, signed int, int, _DWORD))(**(_DWORD **)(v4 + 852) + 104))(
    *(_DWORD *)(v4 + 852),
    112,
    0,
    324,
    1,
    v4 + 856,
    0);
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, void **, _DWORD))(**(_DWORD **)(v4 + 856) + 44))(
    *(_DWORD *)(v4 + 856),
    0,
    112,
    &v5,
    0);
  memcpy(v5, &v9, 0x70u);
  (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v4 + 856) + 48))(*(_DWORD *)(v4 + 856));
  sub_413E50((CWnd *)v4, (int)&Rect, 1);
  sub_413DF0((CGdiObject *)(v4 + 888), 20, 0, 0, 0, 700, 0, 0, 0, 1, 0, 0, 2, 0, &pszFaceName);
  sub_413DF0((CGdiObject *)(v4 + 880), 12, 0, 0, 0, 700, 0, 0, 0, 1, 0, 0, 2, 0, byte_486A3A);
  v1 = (void *)sub_417880(v4 + 888);
  sub_41A841(*(_DWORD *)(v4 + 852), v1, v4 + 896);
  v2 = (void *)sub_417880(v4 + 880);
  sub_41A841(*(_DWORD *)(v4 + 852), v2, v4 + 900);
  CGdiObject::DeleteObject((CGdiObject *)(v4 + 888));
  CGdiObject::DeleteObject((CGdiObject *)(v4 + 880));
  v41 = -1;
  return unknown_libname_4(&v40);
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);

//----- (0040E110) --------------------------------------------------------
void __thiscall sub_40E110(_DWORD **this, __int16 a2, char a3, char a4)
{
  _DWORD **v4; // ST08_4@1
  _BYTE *v5; // ST18_4@1

  v4 = this;
  v5 = operator new(4u);
  *v5 = (unsigned __int16)(a2 & 0xFF00) >> 8;
  v5[1] = a2;
  v5[2] = a3;
  v5[3] = a4;
  (*(void (__thiscall **)(_DWORD *, _BYTE *, signed int))(*v4[166] + 56))(v4[166], v5, 4);
  j__free(v5);
}

//----- (0040E4F0) --------------------------------------------------------
void __thiscall sub_40E4F0(CFrameWnd *this)
{
  int v1; // eax@20
  CFrameWnd *v2; // [sp+4h] [bp-24h]@1
  struct tagRECT Rect; // [sp+8h] [bp-20h]@1
  struct tagRECT v4; // [sp+18h] [bp-10h]@1

  v2 = this;
  unknown_libname_92(&v4);
  unknown_libname_92(&Rect);
  sub_4138F0((int)v2, &v4);
  sub_4138D0((int)v2, &Rect);
  if ( Rect.left != -32000 || Rect.top != -32000 )
  {
    switch ( *((_WORD *)v2 + 516) )
    {
      case 0xB:
        *((_DWORD *)v2 + 315) = v4.right - v4.left;
        *((_DWORD *)v2 + 316) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 317) = Rect.left;
        *((_DWORD *)v2 + 318) = Rect.top;
        break;
      case 0xC:
        *((_DWORD *)v2 + 319) = v4.right - v4.left;
        *((_DWORD *)v2 + 320) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 321) = Rect.left;
        *((_DWORD *)v2 + 322) = Rect.top;
        break;
      case 0xD:
        *((_DWORD *)v2 + 323) = v4.right - v4.left;
        *((_DWORD *)v2 + 324) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 325) = Rect.left;
        *((_DWORD *)v2 + 326) = Rect.top;
        break;
      case 0xE:
        *((_DWORD *)v2 + 327) = v4.right - v4.left;
        *((_DWORD *)v2 + 328) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 329) = Rect.left;
        *((_DWORD *)v2 + 330) = Rect.top;
        break;
      case 0xF:
        *((_DWORD *)v2 + 331) = v4.right - v4.left;
        *((_DWORD *)v2 + 332) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 333) = Rect.left;
        *((_DWORD *)v2 + 334) = Rect.top;
        break;
      case 0:
        *((_DWORD *)v2 + 335) = v4.right - v4.left;
        *((_DWORD *)v2 + 336) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 337) = Rect.left;
        *((_DWORD *)v2 + 338) = Rect.top;
        break;
      case 1:
        *((_DWORD *)v2 + 339) = v4.right - v4.left;
        *((_DWORD *)v2 + 340) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 341) = Rect.left;
        *((_DWORD *)v2 + 342) = Rect.top;
        break;
      case 2:
        *((_DWORD *)v2 + 343) = v4.right - v4.left;
        *((_DWORD *)v2 + 344) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 345) = Rect.left;
        *((_DWORD *)v2 + 346) = Rect.top;
        break;
      case 3:
        *((_DWORD *)v2 + 347) = v4.right - v4.left;
        *((_DWORD *)v2 + 348) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 349) = Rect.left;
        *((_DWORD *)v2 + 350) = Rect.top;
        break;
      case 4:
        *((_DWORD *)v2 + 351) = v4.right - v4.left;
        *((_DWORD *)v2 + 352) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 353) = Rect.left;
        *((_DWORD *)v2 + 354) = Rect.top;
        break;
      case 5:
        *((_DWORD *)v2 + 355) = v4.right - v4.left;
        *((_DWORD *)v2 + 356) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 357) = Rect.left;
        *((_DWORD *)v2 + 358) = Rect.top;
        break;
      case 6:
        *((_DWORD *)v2 + 359) = v4.right - v4.left;
        *((_DWORD *)v2 + 360) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 361) = Rect.left;
        *((_DWORD *)v2 + 362) = Rect.top;
        break;
      case 7:
        *((_DWORD *)v2 + 363) = v4.right - v4.left;
        *((_DWORD *)v2 + 364) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 365) = Rect.left;
        *((_DWORD *)v2 + 366) = Rect.top;
        break;
      case 8:
        *((_DWORD *)v2 + 367) = v4.right - v4.left;
        *((_DWORD *)v2 + 368) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 369) = Rect.left;
        *((_DWORD *)v2 + 370) = Rect.top;
        break;
      case 9:
        *((_DWORD *)v2 + 371) = v4.right - v4.left;
        *((_DWORD *)v2 + 372) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 373) = Rect.left;
        *((_DWORD *)v2 + 374) = Rect.top;
        break;
      case 0xA:
        *((_DWORD *)v2 + 375) = v4.right - v4.left;
        *((_DWORD *)v2 + 376) = v4.bottom - v4.top;
        *((_DWORD *)v2 + 377) = Rect.left;
        *((_DWORD *)v2 + 378) = Rect.top;
        break;
      default:
        break;
    }
  }
  sub_419B90((char *)v2 + 916);
  v1 = unknown_libname_85();
  sub_404900(v1, (int)v2);
  CFrameWnd::OnClose(v2);
}
// 4046D0: using guessed type int unknown_libname_85(void);
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);

//----- (0040F0D0) --------------------------------------------------------
void __thiscall sub_40F0D0(void *this, int a2, int a3, int a4)
{
  int v4; // ecx@11
  int v5; // edx@11
  int v6; // edx@30
  int v7; // eax@30
  int v8; // [sp+0h] [bp-14h]@1
  int j; // [sp+4h] [bp-10h]@13
  int l; // [sp+4h] [bp-10h]@32
  char v11; // [sp+Bh] [bp-9h]@1
  unsigned int i; // [sp+Ch] [bp-8h]@1
  unsigned int k; // [sp+Ch] [bp-8h]@20
  int v14; // [sp+10h] [bp-4h]@6
  int v15; // [sp+10h] [bp-4h]@25

  v8 = (int)this;
  v11 = 0;
  for ( i = 0; i < 0x1AD && !v11; ++i )
  {
    if ( dword_4BE8FC[12 * i] == *(_WORD *)(v8 + 1032) )
    {
      v14 = *(_DWORD *)(v8 + 440) + 16 * i;
      if ( a3 >= *(_DWORD *)v14
        && a3 <= *(_DWORD *)(v14 + 8)
        && a4 >= *(_DWORD *)(v14 + 4)
        && a4 <= *(_DWORD *)(v14 + 12) )
      {
        if ( *(_BYTE *)(*(_DWORD *)(v8 + 424) + i) )
        {
          if ( AfxMessageBox("Key is stuck. Release Stuck Key?", 4u, 0) == 6 )
          {
            for ( j = 0; j < *(_DWORD *)(v8 + 1160); ++j )
            {
              if ( *(_WORD *)(*(_DWORD *)(v8 + 1256) + 24 * j + 8) == (unsigned __int16)word_4BE8E0[24 * i] )
                *(_DWORD *)(*(_DWORD *)(v8 + 1256) + 24 * j + 20) = 0;
            }
            *(_BYTE *)(*(_DWORD *)(v8 + 424) + i) = 0;
          }
        }
        else
        {
          *(_BYTE *)(*(_DWORD *)(v8 + 408) + i) = 1;
          v11 = 1;
          sub_4128C0(v8, word_4BE8E0[24 * i], 0);
          sub_413D70(v8, (RECT *)(*(_DWORD *)(v8 + 440) + 16 * i), 0);
          *(_WORD *)(v8 + 224) = word_4BE8E0[24 * i];
          *(_DWORD *)(v8 + 228) = dword_4BE8E4[12 * i];
          *(_BYTE *)(v8 + 236) = 51;
          *(_DWORD *)(v8 + 240) = 0;
          *(_BYTE *)(v8 + 244) = 52;
          v4 = 16 * i + *(_DWORD *)(v8 + 440);
          v5 = v8 + 248;
          *(_DWORD *)v5 = *(_DWORD *)v4;
          *(_DWORD *)(v5 + 4) = *(_DWORD *)(v4 + 4);
          *(_DWORD *)(v5 + 8) = *(_DWORD *)(v4 + 8);
          *(_DWORD *)(v5 + 12) = *(_DWORD *)(v4 + 12);
          *(_DWORD *)(v8 + 264) = 1;
          *(_DWORD *)(v8 + 268) = i;
          *(_DWORD *)(v8 + 648) = sub_413910(v8, 0x6Cu, 0x7530u, 0);
        }
      }
    }
  }
  for ( k = 0; k < 0x76 && !v11; ++k )
  {
    if ( dword_4BD104[13 * k] == *(_WORD *)(v8 + 1032) )
    {
      v15 = *(_DWORD *)(v8 + 444) + 16 * k;
      if ( a3 >= *(_DWORD *)v15
        && a3 <= *(_DWORD *)(v15 + 8)
        && a4 >= *(_DWORD *)(v15 + 4)
        && a4 <= *(_DWORD *)(v15 + 12) )
      {
        if ( *(_BYTE *)(*(_DWORD *)(v8 + 428) + k) )
        {
          if ( AfxMessageBox("Knob is stuck. Release Stuck Knob?", 4u, 0) == 6 )
          {
            for ( l = 0; l < *(_DWORD *)(v8 + 1160); ++l )
            {
              if ( *(_WORD *)(*(_DWORD *)(v8 + 1256) + 24 * l + 8) == (unsigned __int16)word_4BD0E8[26 * k]
                && *(_DWORD *)(*(_DWORD *)(v8 + 1256) + 24 * l + 12) == dword_4BD0EC[13 * k] )
              {
                *(_DWORD *)(*(_DWORD *)(v8 + 1256) + 24 * l + 20) = 0;
              }
            }
            *(_BYTE *)(*(_DWORD *)(v8 + 428) + k) = 0;
          }
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)(v8 + 432) + 4 * k) = 1;
          v11 = 1;
          sub_412B80((void *)v8, word_4BD0E8[26 * k], dword_4BD0EC[13 * k]);
          sub_413D70(v8, (RECT *)(*(_DWORD *)(v8 + 444) + 16 * k), 0);
          *(_WORD *)(v8 + 224) = word_4BD0E8[26 * k];
          *(_DWORD *)(v8 + 228) = dword_4BD0F0[13 * k];
          *(_BYTE *)(v8 + 236) = 50;
          *(_DWORD *)(v8 + 240) = dword_4BD0EC[13 * k];
          *(_BYTE *)(v8 + 244) = 52;
          v6 = 16 * k + *(_DWORD *)(v8 + 444);
          v7 = v8 + 248;
          *(_DWORD *)v7 = *(_DWORD *)v6;
          *(_DWORD *)(v7 + 4) = *(_DWORD *)(v6 + 4);
          *(_DWORD *)(v7 + 8) = *(_DWORD *)(v6 + 8);
          *(_DWORD *)(v7 + 12) = *(_DWORD *)(v6 + 12);
          *(_DWORD *)(v8 + 264) = 1;
          *(_DWORD *)(v8 + 268) = k;
          *(_DWORD *)(v8 + 628) = 1;
          *(_DWORD *)(v8 + 648) = sub_413910(v8, 0x6Cu, 0x7530u, 0);
        }
      }
    }
  }
}
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD0EC: using guessed type int dword_4BD0EC[];
// 4BD0F0: using guessed type int dword_4BD0F0[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8E4: using guessed type int dword_4BE8E4[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (0040F580) --------------------------------------------------------
BOOL __thiscall sub_40F580(int this, int a2, int a3, int a4)
{
  int v5; // [sp+0h] [bp-Ch]@1
  char v6; // [sp+7h] [bp-5h]@1
  unsigned int i; // [sp+8h] [bp-4h]@3
  unsigned int j; // [sp+8h] [bp-4h]@12

  v5 = this;
  v6 = 0;
  if ( *(_DWORD *)(this + 264) )
  {
    if ( *(_BYTE *)(this + 236) == 51 )
    {
      sub_412B80((void *)this, *(_WORD *)(this + 224), 0);
      for ( i = 0; i < 0x1AD && !v6; ++i )
      {
        if ( dword_4BE8FC[12 * i] == *(_WORD *)(v5 + 1032)
          && (unsigned __int16)word_4BE8E0[24 * i] == *(_WORD *)(v5 + 224) )
        {
          *(_BYTE *)(*(_DWORD *)(v5 + 408) + i) = 0;
          v6 = 1;
        }
      }
    }
    else
    {
      for ( j = 0; j < 0x76 && !v6; ++j )
      {
        if ( dword_4BD104[13 * j] == *(_WORD *)(this + 1032)
          && (unsigned __int16)word_4BD0E8[26 * j] == *(_WORD *)(this + 224)
          && dword_4BD0EC[13 * j] == *(_DWORD *)(this + 240) )
        {
          *(_DWORD *)(*(_DWORD *)(this + 432) + 4 * j) = 0;
          v6 = 1;
        }
      }
    }
    *(_DWORD *)(v5 + 264) = 0;
  }
  if ( *(_DWORD *)(v5 + 648) == 108 )
    sub_413E90(v5, *(_DWORD *)(v5 + 648));
  *(_DWORD *)(v5 + 628) = 0;
  return sub_413D70(v5, 0, 0);
}
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD0EC: using guessed type int dword_4BD0EC[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (0040F940) --------------------------------------------------------
DWORD __thiscall sub_40F940(int this)
{
  DWORD result; // eax@1
  struct CMenu *v2; // eax@2
  struct CMenu *v3; // eax@2
  int v4; // [sp+4h] [bp-Ch]@1

  v4 = this;
  result = this;
  if ( !*(_DWORD *)(this + 2128) )
  {
    *(_DWORD *)(this + 660) = 0;
    v2 = sub_413890(this);
    sub_413860((int)v2, 0x9C4Eu, 0);
    v3 = sub_413890(v4);
    result = sub_413860((int)v3, 0x9C4Cu, 8u);
    if ( *(_DWORD *)(v4 + 664) )
    {
      (*(void (__thiscall **)(_DWORD))(**(_DWORD **)(v4 + 664) + 76))(*(_DWORD *)(v4 + 664));
      result = *(_DWORD *)(v4 + 664);
      if ( result )
        result = (*(int (__thiscall **)(_DWORD, _DWORD))(**(_DWORD **)(v4 + 664) + 4))(*(_DWORD *)(v4 + 664), 1);
      *(_DWORD *)(v4 + 664) = 0;
    }
  }
  return result;
}

//----- (0040FA00) --------------------------------------------------------
void __thiscall sub_40FA00(int this)
{
  int v1; // eax@21
  CWnd *v2; // [sp+0h] [bp-10h]@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@21
  unsigned int i; // [sp+Ch] [bp-4h]@3

  v2 = (CWnd *)this;
  WaitForSingleObject(*(HANDLE *)(this + 848), 0xFFFFFFFF);
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, int *))(**((_DWORD **)v2 + 213) + 72))(
    *((_DWORD *)v2 + 213),
    0,
    0,
    0,
    &v3);
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v2 + 213) + 164))(*((_DWORD *)v2 + 213));
  (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**((_DWORD **)v2 + 213) + 276))(
    *((_DWORD *)v2 + 213),
    0,
    5,
    1);
  (*(void (__stdcall **)(_DWORD, signed int))(**((_DWORD **)v2 + 213) + 356))(*((_DWORD *)v2 + 213), 324);
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v2 + 213) + 260))(
    *((_DWORD *)v2 + 213),
    0,
    *((_DWORD *)v2 + 219));
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, signed int))(**((_DWORD **)v2 + 213) + 400))(
    *((_DWORD *)v2 + 213),
    0,
    *((_DWORD *)v2 + 214),
    0,
    28);
  (*(void (__stdcall **)(_DWORD, signed int, _DWORD, signed int))(**((_DWORD **)v2 + 213) + 324))(
    *((_DWORD *)v2 + 213),
    6,
    0,
    2);
  if ( *((_DWORD *)v2 + 259) )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 8))(v3);
    sub_40C5D0((_DWORD **)v2);
    (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, int *))(**((_DWORD **)v2 + 213) + 72))(
      *((_DWORD *)v2 + 213),
      0,
      0,
      0,
      &v3);
  }
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**((_DWORD **)v2 + 213) + 260))(*((_DWORD *)v2 + 213), 0, 0);
  (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**((_DWORD **)v2 + 213) + 400))(
    *((_DWORD *)v2 + 213),
    0,
    0,
    0,
    0);
  (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v2 + 213) + 168))(*((_DWORD *)v2 + 213));
  for ( i = 0; i < 0x1AD; ++i )
  {
    if ( dword_4BE8FC[12 * i] == *((_WORD *)v2 + 516)
      && (*(_BYTE *)(*((_DWORD *)v2 + 102) + i) == 1
       || *(_BYTE *)(*((_DWORD *)v2 + 103) + i) == 1
       || *(_BYTE *)(*((_DWORD *)v2 + 106) + i) == 1) )
    {
      (*(void (__stdcall **)(_DWORD, int, int *, signed int))(**((_DWORD **)v2 + 213) + 140))(
        *((_DWORD *)v2 + 213),
        v3,
        &dword_4BE8EC[12 * i],
        0xFFFFFFF);
    }
  }
  for ( i = 0; i < 0x76; ++i )
  {
    if ( dword_4BD104[13 * i] == *((_WORD *)v2 + 516)
      && (*(_DWORD *)(*((_DWORD *)v2 + 108) + 4 * i)
       || *(_DWORD *)(*((_DWORD *)v2 + 109) + 4 * i)
       || *(_BYTE *)(*((_DWORD *)v2 + 107) + i) == 1) )
    {
      (*(void (__stdcall **)(_DWORD, int, int *, signed int))(**((_DWORD **)v2 + 213) + 140))(
        *((_DWORD *)v2 + 213),
        v3,
        &dword_4BD0F4[13 * i],
        0xFFFFFFF);
    }
  }
  (*(void (__stdcall **)(int))(*(_DWORD *)v3 + 8))(v3);
  v1 = unknown_libname_92((char *)v2 + 860);
  v4 = (*(int (__stdcall **)(_DWORD, _DWORD, int, _DWORD, _DWORD))(**((_DWORD **)v2 + 213) + 68))(
         *((_DWORD *)v2 + 213),
         0,
         v1,
         0,
         0);
  if ( v4 == -2005530520 || v4 == -2005530585 )
  {
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v2 + 224) + 36))(*((_DWORD *)v2 + 224));
    (*(void (__stdcall **)(_DWORD))(**((_DWORD **)v2 + 225) + 36))(*((_DWORD *)v2 + 225));
    if ( sub_411760((int)v2) )
      sub_40D830((void *)v2);
    sub_40FA00(v2);
  }
  CWnd::OnPaint(v2);
}
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);
// 4BD0F4: using guessed type int dword_4BD0F4[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8EC: using guessed type int dword_4BE8EC[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (00410090) --------------------------------------------------------
DWORD __thiscall sub_410090(int this)
{
  DWORD result; // eax@1
  struct CMenu *v2; // eax@3
  struct CMenu *v3; // eax@6
  int v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  result = this;
  if ( !*(_DWORD *)(this + 2128) )
  {
    if ( *(_DWORD *)(this + 652) )
    {
      *(_DWORD *)(this + 652) = 0;
      sub_413E90(this, *(_DWORD *)(this + 656));
      v2 = sub_413890(v4);
      sub_413860((int)v2, 0x9C4Au, 0);
      result = sub_4116D0(v4);
    }
    else
    {
      *(_DWORD *)(this + 652) = 1;
      *(_DWORD *)(this + 656) = sub_413910(this, 0x6Bu, 0x14u, 0);
      if ( !*(_DWORD *)(v4 + 656) )
        exit(-1);
      v3 = sub_413890(v4);
      result = sub_413860((int)v3, 0x9C4Au, 8u);
    }
  }
  return result;
}

//----- (00410150) --------------------------------------------------------
void __thiscall sub_410150(void *this, int a2, int a3, int a4)
{
  int v4; // ecx@11
  int v5; // edx@11
  int v6; // ecx@30
  int v7; // edx@30
  int v8; // [sp+0h] [bp-14h]@1
  int j; // [sp+4h] [bp-10h]@13
  int l; // [sp+4h] [bp-10h]@32
  char v11; // [sp+Bh] [bp-9h]@1
  unsigned int i; // [sp+Ch] [bp-8h]@1
  unsigned int k; // [sp+Ch] [bp-8h]@20
  int v14; // [sp+10h] [bp-4h]@6
  int v15; // [sp+10h] [bp-4h]@25

  v8 = (int)this;
  v11 = 0;
  for ( i = 0; i < 0x1AD && !v11; ++i )
  {
    if ( dword_4BE8FC[12 * i] == *(_WORD *)(v8 + 1032) )
    {
      v14 = *(_DWORD *)(v8 + 440) + 16 * i;
      if ( a3 >= *(_DWORD *)v14
        && a3 <= *(_DWORD *)(v14 + 8)
        && a4 >= *(_DWORD *)(v14 + 4)
        && a4 <= *(_DWORD *)(v14 + 12) )
      {
        if ( *(_BYTE *)(*(_DWORD *)(v8 + 424) + i) )
        {
          if ( AfxMessageBox("Key is stuck. Release Stuck Key?", 4u, 0) == 6 )
          {
            for ( j = 0; j < *(_DWORD *)(v8 + 1160); ++j )
            {
              if ( *(_WORD *)(*(_DWORD *)(v8 + 1256) + 24 * j + 8) == (unsigned __int16)word_4BE8E0[24 * i] )
                *(_DWORD *)(*(_DWORD *)(v8 + 1256) + 24 * j + 20) = 0;
            }
            *(_BYTE *)(*(_DWORD *)(v8 + 424) + i) = 0;
          }
        }
        else
        {
          *(_BYTE *)(*(_DWORD *)(v8 + 408) + i) = 1;
          v11 = 1;
          sub_4128C0(v8, word_4BE8E0[24 * i], 0);
          sub_413D70(v8, (RECT *)(*(_DWORD *)(v8 + 440) + 16 * i), 0);
          *(_WORD *)(v8 + 224) = word_4BE8E0[24 * i];
          *(_DWORD *)(v8 + 228) = dword_4BE8E4[12 * i];
          *(_BYTE *)(v8 + 236) = 51;
          *(_DWORD *)(v8 + 240) = 0;
          *(_BYTE *)(v8 + 244) = 53;
          v4 = 16 * i + *(_DWORD *)(v8 + 440);
          v5 = v8 + 248;
          *(_DWORD *)v5 = *(_DWORD *)v4;
          *(_DWORD *)(v5 + 4) = *(_DWORD *)(v4 + 4);
          *(_DWORD *)(v5 + 8) = *(_DWORD *)(v4 + 8);
          *(_DWORD *)(v5 + 12) = *(_DWORD *)(v4 + 12);
          *(_DWORD *)(v8 + 264) = 1;
          *(_DWORD *)(v8 + 268) = i;
          *(_DWORD *)(v8 + 648) = sub_413910(v8, 0x6Cu, 0x7530u, 0);
        }
      }
    }
  }
  for ( k = 0; k < 0x76 && !v11; ++k )
  {
    if ( dword_4BD104[13 * k] == *(_WORD *)(v8 + 1032) )
    {
      v15 = *(_DWORD *)(v8 + 444) + 16 * k;
      if ( a3 >= *(_DWORD *)v15
        && a3 <= *(_DWORD *)(v15 + 8)
        && a4 >= *(_DWORD *)(v15 + 4)
        && a4 <= *(_DWORD *)(v15 + 12) )
      {
        if ( *(_BYTE *)(*(_DWORD *)(v8 + 428) + k) )
        {
          if ( AfxMessageBox("Knob is stuck. Release Stuck Knob?", 4u, 0) == 6 )
          {
            for ( l = 0; l < *(_DWORD *)(v8 + 1160); ++l )
            {
              if ( *(_WORD *)(*(_DWORD *)(v8 + 1256) + 24 * l + 8) == (unsigned __int16)word_4BD0E8[26 * k]
                && *(_DWORD *)(*(_DWORD *)(v8 + 1256) + 24 * l + 12) == dword_4BD0EC[13 * k] )
              {
                *(_DWORD *)(*(_DWORD *)(v8 + 1256) + 24 * l + 20) = 0;
              }
            }
            *(_BYTE *)(*(_DWORD *)(v8 + 428) + k) = 0;
          }
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)(v8 + 432) + 4 * k) = 5;
          v11 = 1;
          sub_412B80(
            (void *)v8,
            word_4BD0E8[26 * k],
            *(_BYTE *)(*(_DWORD *)(v8 + 432) + 4 * k) * LOBYTE(dword_4BD0EC[13 * k]));
          sub_413D70(v8, (RECT *)(*(_DWORD *)(v8 + 444) + 16 * k), 0);
          *(_WORD *)(v8 + 224) = word_4BD0E8[26 * k];
          *(_DWORD *)(v8 + 228) = dword_4BD0F0[13 * k];
          *(_BYTE *)(v8 + 236) = 50;
          *(_DWORD *)(v8 + 240) = dword_4BD0EC[13 * k];
          *(_BYTE *)(v8 + 244) = 53;
          v6 = 16 * k + *(_DWORD *)(v8 + 444);
          v7 = v8 + 248;
          *(_DWORD *)v7 = *(_DWORD *)v6;
          *(_DWORD *)(v7 + 4) = *(_DWORD *)(v6 + 4);
          *(_DWORD *)(v7 + 8) = *(_DWORD *)(v6 + 8);
          *(_DWORD *)(v7 + 12) = *(_DWORD *)(v6 + 12);
          *(_DWORD *)(v8 + 264) = 1;
          *(_DWORD *)(v8 + 268) = k;
          *(_DWORD *)(v8 + 628) = 1;
          *(_DWORD *)(v8 + 648) = sub_413910(v8, 0x6Cu, 0x7530u, 0);
        }
      }
    }
  }
}
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD0EC: using guessed type int dword_4BD0EC[];
// 4BD0F0: using guessed type int dword_4BD0F0[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8E4: using guessed type int dword_4BE8E4[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (004113E0) --------------------------------------------------------
signed int __thiscall sub_4113E0(void *this, unsigned __int16 a2, char a3)
{
  int v4; // [sp+0h] [bp-Ch]@1
  signed int v5; // [sp+4h] [bp-8h]@1
  unsigned int i; // [sp+8h] [bp-4h]@1
  unsigned int j; // [sp+8h] [bp-4h]@11

  v4 = (int)this;
  v5 = 0;
  for ( i = 0; i < 0x1AD && !v5; ++i )
  {
    if ( dword_4BE8FC[12 * i] == *(_WORD *)(v4 + 1032) && (unsigned __int16)word_4BE8E0[24 * i] == a2 )
    {
      if ( a3 == 1 )
      {
        *(_BYTE *)(*(_DWORD *)(v4 + 408) + i) = 1;
        sub_413D70(v4, (RECT *)(*(_DWORD *)(v4 + 440) + 16 * i), 0);
        sub_40FA00(v4);
      }
      v5 = 1;
    }
  }
  for ( j = 0; j < 0x76 && !v5; ++j )
  {
    if ( dword_4BD104[13 * j] == *(_WORD *)(v4 + 1032) && (unsigned __int16)word_4BD0E8[26 * j] == a2 )
    {
      *(_DWORD *)(*(_DWORD *)(v4 + 432) + 4 * j) = 1;
      sub_413D70(v4, (RECT *)(*(_DWORD *)(v4 + 444) + 16 * j), 0);
      sub_40FA00(v4);
      v5 = 1;
    }
  }
  return v5;
}
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (00411520) --------------------------------------------------------
signed int __thiscall sub_411520(int this)
{
  signed int result; // eax@2
  unsigned __int64 v2; // rax@3
  int v3; // [sp+8h] [bp-28h]@1
  unsigned __int16 v4; // [sp+Ch] [bp-24h]@9
  char v5; // [sp+13h] [bp-1Dh]@9
  unsigned __int16 v6; // [sp+14h] [bp-1Ch]@7
  char v7; // [sp+16h] [bp-1Ah]@9
  char v8; // [sp+17h] [bp-19h]@9
  unsigned int v9; // [sp+18h] [bp-18h]@7
  int v10; // [sp+1Ch] [bp-14h]@9
  unsigned __int64 v11; // [sp+20h] [bp-10h]@3
  char v12; // [sp+2Bh] [bp-5h]@9
  int v13; // [sp+2Ch] [bp-4h]@5

  v3 = this;
  if ( *(_DWORD *)(this + 664) )
  {
    LODWORD(v2) = (*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 664) + 48))(*(_DWORD *)(this + 664));
    v11 = v2;
    if ( v2 % 4 )
    {
      result = 0;
    }
    else
    {
      v13 = 0;
      sub_413DA0(*(void **)(v3 + 664));
      while ( !v13 )
      {
        v9 = (*(int (__thiscall **)(_DWORD, unsigned __int16 *, signed int))(**(_DWORD **)(v3 + 664) + 52))(
               *(_DWORD *)(v3 + 664),
               &v6,
               4);
        if ( v9 >= 4 )
        {
          v4 = _byteswap_ushort(v6);
          v5 = v7;
          v12 = v8;
          v10 = sub_4113E0((void *)v3, v4, v8);
          if ( v10 )
          {
            sub_412980(v3, v4, v5, v12);
            Sleep(0x14u);
            sub_4116D0(v3);
          }
        }
        else
        {
          v13 = 1;
        }
      }
      result = 1;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00411660) --------------------------------------------------------
int __stdcall sub_411660(_BYTE *a1, _BYTE *a2, unsigned __int16 a3)
{
  int v4; // [sp+4h] [bp-4h]@1

  v4 = a3;
  while ( (signed int)a3 > 0 )
  {
    if ( *a2 == 16 )
    {
      *a1++ = 16;
      ++v4;
    }
    *a1++ = *a2++;
    --a3;
  }
  return v4;
}

//----- (004116D0) --------------------------------------------------------
int __thiscall sub_4116D0(int this)
{
  int result; // eax@9
  unsigned int i; // [sp+4h] [bp-4h]@1
  unsigned int j; // [sp+4h] [bp-4h]@6

  for ( i = 0; i < 0x1AD; ++i )
  {
    if ( *(_BYTE *)(*(_DWORD *)(this + 408) + i) == 1 )
      *(_BYTE *)(*(_DWORD *)(this + 408) + i) = 0;
  }
  for ( j = 0; j < 0x76; ++j )
    *(_DWORD *)(*(_DWORD *)(this + 432) + 4 * j) = 0;
  result = this;
  *(_DWORD *)(this + 264) = 0;
  return result;
}

//----- (00411760) --------------------------------------------------------
signed int __thiscall sub_411760(int this)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@1

  v2 = this;
  v3 = 0;
  if ( (*(int (__stdcall **)(_DWORD))(**(_DWORD **)(this + 852) + 12))(*(_DWORD *)(this + 852)) == -2005530519 )
  {
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 896) + 40))(*(_DWORD *)(v2 + 896));
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 900) + 40))(*(_DWORD *)(v2 + 900));
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 876) + 8))(*(_DWORD *)(v2 + 876));
    (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v2 + 852) + 64))(*(_DWORD *)(v2 + 852), v2 + 792);
    (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 852) + 228))(
      *(_DWORD *)(v2 + 852),
      22,
      1);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 852) + 228))(*(_DWORD *)(v2 + 852), 137, 0);
    (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 852) + 228))(*(_DWORD *)(v2 + 852), 7, 0);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 896) + 8))(*(_DWORD *)(v2 + 896));
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 900) + 8))(*(_DWORD *)(v2 + 900));
    v3 = 1;
  }
  else
  {
    Sleep(0x64u);
  }
  return v3;
}

//----- (00412500) --------------------------------------------------------
DWORD __thiscall sub_412500(void *this, unsigned __int16 a2, _BYTE *a3, unsigned __int16 a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // eax@5
  int v9; // eax@6
  void *v11; // [sp+0h] [bp-148h]@1
  __int16 v12; // [sp+4h] [bp-144h]@2
  char Buffer[3]; // [sp+8h] [bp-140h]@1
  char v14; // [sp+9h] [bp-13Fh]@1
  char v15; // [sp+Ah] [bp-13Eh]@1
  char v16; // [sp+Bh] [bp-13Dh]@1
  char v17; // [sp+Ch] [bp-13Ch]@2
  __int16 v18; // [sp+13Ch] [bp-Ch]@1
  DWORD nNumberOfBytesToWrite; // [sp+140h] [bp-8h]@1
  unsigned __int16 v20; // [sp+144h] [bp-4h]@2

  v11 = this;
  v18 = ((signed int)a2 >> 8) | (a2 << 8);
  Buffer[0] = 16;
  v14 = HIBYTE(a2);
  v15 = HIBYTE(v18);
  nNumberOfBytesToWrite = 3;
  v6 = sub_411660(&v16, &a4, 2u);
  nNumberOfBytesToWrite += v6;
  v7 = sub_411660(&Buffer[nNumberOfBytesToWrite], a3, a4);
  nNumberOfBytesToWrite += v7;
  if ( a6 )
  {
    v16 = 0;
    v17 = 0;
    v12 = 0;
    v20 = sub_4169C0(&v18, 2, 0xFFFFu, 2);
    v20 = sub_4169C0(&v12, 2, v20, 2);
    v20 = sub_4169C0(a3, a4, v20, 2);
  }
  else
  {
    v20 = sub_4169C0(&v18, 2, 0xFFFFu, 2);
    v20 = sub_4169C0(&a4, 2, v20, 2);
    v20 = sub_4169C0(a3, a4, v20, 2);
  }
  if ( a5 )
  {
    v20 = 0;
    v8 = sub_411660(&Buffer[nNumberOfBytesToWrite], &v20, 2u);
    nNumberOfBytesToWrite += v8;
  }
  else
  {
    v9 = sub_411660(&Buffer[nNumberOfBytesToWrite], &v20, 2u);
    nNumberOfBytesToWrite += v9;
  }
  Buffer[nNumberOfBytesToWrite++] = 16;
  Buffer[nNumberOfBytesToWrite++] = 3;
  return sub_401E70(*((_DWORD *)v11 + 227), Buffer, nNumberOfBytesToWrite);
}
// 412500: using guessed type char Buffer[3];

//----- (00412730) --------------------------------------------------------
DWORD __thiscall sub_412730(void *this, unsigned __int16 a2, _BYTE *a3, unsigned __int16 a4)
{
  void *v4; // ST10_4@1
  int v5; // eax@1
  int v6; // eax@1
  int v7; // eax@1
  char Buffer[304]; // [sp+4h] [bp-140h]@1
  char v10; // [sp+5h] [bp-13Fh]@1
  char v11; // [sp+6h] [bp-13Eh]@1
  char v12[304]; // [sp+7h] [bp-13Dh]@1
  unsigned __int16 v13; // [sp+138h] [bp-Ch]@1
  DWORD nNumberOfBytesToWrite; // [sp+13Ch] [bp-8h]@1
  unsigned __int16 v15; // [sp+140h] [bp-4h]@1

  v4 = this;
  v13 = ((signed int)a2 >> 8) | (a2 << 8);
  Buffer[0] = 16;
  v10 = HIBYTE(a2);
  v11 = v13 >> 8;
  nNumberOfBytesToWrite = 3;
  v5 = sub_411660(v12, &a4, 2u);
  nNumberOfBytesToWrite += v5;
  v6 = sub_411660(&Buffer[nNumberOfBytesToWrite], a3, a4);
  nNumberOfBytesToWrite += v6;
  v15 = sub_4169C0(&v13, 2, 0xFFFFu, 2);
  v15 = sub_4169C0(&a4, 2, v15, 2);
  v15 = sub_4169C0(a3, a4, v15, 2);
  v7 = sub_411660(&Buffer[nNumberOfBytesToWrite], &v15, 2u);
  nNumberOfBytesToWrite += v7;
  Buffer[nNumberOfBytesToWrite++] = 16;
  Buffer[nNumberOfBytesToWrite] = 3;
  return sub_401E70(*((_DWORD *)v4 + 227), Buffer, nNumberOfBytesToWrite + 1);
}
// 412730: using guessed type char Buffer[304];

//----- (004128C0) --------------------------------------------------------
DWORD __thiscall sub_4128C0(int this, __int16 a2, char a3)
{
  if ( a2 == 83 )
  {
    if ( *(_BYTE *)(this + 604) == 1 )
    {
      *(_BYTE *)(this + 604) = 2;
      *(_WORD *)(this + 580) &= 0xFFBFu;
      *(_WORD *)(this + 580) |= 0x80u;
    }
    else
    {
      *(_BYTE *)(this + 604) = 1;
      *(_WORD *)(this + 580) &= 0xFF7Fu;
      *(_WORD *)(this + 580) |= 0x40u;
    }
  }
  return sub_412980(this, a2, a3, 1);
}

//----- (00412980) --------------------------------------------------------
DWORD __thiscall sub_412980(int this, __int16 a2, char a3, char a4)
{
  int v4; // eax@3
  int v5; // eax@3
  int v6; // eax@3
  int v8; // [sp+0h] [bp-154h]@1
  unsigned __int16 v9; // [sp+8h] [bp-14Ch]@3
  char Buffer[308]; // [sp+Ch] [bp-148h]@3
  char v11; // [sp+Dh] [bp-147h]@3
  char v12; // [sp+Eh] [bp-146h]@3
  char v13[308]; // [sp+Fh] [bp-145h]@3
  __int16 v14; // [sp+144h] [bp-10h]@3
  DWORD nNumberOfBytesToWrite; // [sp+148h] [bp-Ch]@3
  unsigned __int16 v16; // [sp+14Ch] [bp-8h]@3
  __int16 v17; // [sp+150h] [bp-4h]@3
  char v18; // [sp+152h] [bp-2h]@3
  char v19; // [sp+153h] [bp-1h]@3

  v8 = this;
  if ( *(_DWORD *)(this + 660) )
    sub_40E110((_DWORD **)this, a2, a3, a4);
  v9 = 4;
  v18 = a3;
  v19 = a4;
  v17 = a2;
  v14 = 376;
  Buffer[0] = 16;
  v11 = 120;
  v12 = 1;
  nNumberOfBytesToWrite = 3;
  v4 = sub_411660(v13, &v9, 2u);
  nNumberOfBytesToWrite += v4;
  v5 = sub_411660(&Buffer[nNumberOfBytesToWrite], &v17, v9);
  nNumberOfBytesToWrite += v5;
  v16 = sub_4169C0(&v14, 2, 0xFFFFu, 2);
  v16 = sub_4169C0(&v9, 2, v16, 2);
  v16 = sub_4169C0(&v17, v9, v16, 2);
  v6 = sub_411660(&Buffer[nNumberOfBytesToWrite], &v16, 2u);
  nNumberOfBytesToWrite += v6;
  Buffer[nNumberOfBytesToWrite++] = 16;
  Buffer[nNumberOfBytesToWrite++] = 3;
  return sub_401E70(*(_DWORD *)(v8 + 908), Buffer, nNumberOfBytesToWrite);
}
// 412980: using guessed type char Buffer[308];

//----- (00412B80) --------------------------------------------------------
DWORD __thiscall sub_412B80(void *this, __int16 a2, char a3)
{
  return sub_412980((int)this, a2, a3, 0);
}

//----- (00412BA0) --------------------------------------------------------
DWORD __thiscall sub_412BA0(void *this)
{
  DWORD result; // eax@9
  int v2; // [sp+4h] [bp-18h]@1
  int v3; // [sp+8h] [bp-14h]@1
  unsigned int v4; // [sp+10h] [bp-Ch]@1
  int v5; // [sp+14h] [bp-8h]@6
  unsigned int j; // [sp+18h] [bp-4h]@18
  unsigned int i; // [sp+18h] [bp-4h]@22

  v2 = (int)this;
  v3 = rand() % 3;
  v4 = rand();
  if ( *(_WORD *)(v2 + 1032) != 11
    && *(_WORD *)(v2 + 1032) != 12
    && *(_WORD *)(v2 + 1032) != 13
    && *(_WORD *)(v2 + 1032) != 14
    && *(_WORD *)(v2 + 1032) != 15 )
  {
    v5 = 14;
  }
  else
  {
    v5 = (signed int)v4 % 14;
  }
  switch ( v5 )
  {
    case 0:
      sub_4128C0(v2, 40, 0);
      result = sub_412B80((void *)v2, 40, 0);
      break;
    case 1:
      sub_4128C0(v2, 32, 0);
      result = sub_412B80((void *)v2, 32, 0);
      break;
    case 2:
      sub_4128C0(v2, 33, 0);
      result = sub_412B80((void *)v2, 33, 0);
      break;
    case 3:
      sub_4128C0(v2, 29, 0);
      result = sub_412B80((void *)v2, 29, 0);
      break;
    case 4:
      result = sub_412B80((void *)v2, 56, -1);
      break;
    case 5:
      result = sub_412B80((void *)v2, 56, 1);
      break;
    case 6:
      result = sub_412B80((void *)v2, 57, -1);
      break;
    case 7:
      result = sub_412B80((void *)v2, 57, 1);
      break;
    default:
      if ( v3 )
      {
        for ( i = v4 % 0x1AD; dword_4BE8FC[12 * i] != *(_WORD *)(v2 + 1032); i = rand() % 0x1ADu )
          ;
        *(_BYTE *)(*(_DWORD *)(v2 + 408) + i) = 1;
        sub_4128C0(v2, word_4BE8E0[24 * i], 0);
        sub_412B80((void *)v2, word_4BE8E0[24 * i], 0);
        result = sub_413D70(v2, (RECT *)(*(_DWORD *)(v2 + 440) + 16 * i), 0);
      }
      else
      {
        for ( j = v4 % 0x76; dword_4BD104[13 * j] != *(_WORD *)(v2 + 1032); j = rand() % 0x76u )
          ;
        *(_DWORD *)(*(_DWORD *)(v2 + 432) + 4 * j) = 1;
        sub_412B80((void *)v2, word_4BD0E8[26 * j], dword_4BD0EC[13 * j]);
        result = sub_413D70(v2, (RECT *)(*(_DWORD *)(v2 + 444) + 16 * j), 0);
      }
      break;
  }
  return result;
}
// 4BD0E8: using guessed type __int16 word_4BD0E8[];
// 4BD0EC: using guessed type int dword_4BD0EC[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E0: using guessed type __int16 word_4BE8E0[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (00412E60) --------------------------------------------------------
__int32 __thiscall sub_412E60(int this, unsigned int a2, unsigned int a3, __int32 a4)
{
  int v4; // eax@6
  int v5; // edx@6
  struct CMenu *v6; // eax@12
  __int32 result; // eax@14
  CWnd *v8; // [sp+8h] [bp-28h]@1
  unsigned __int16 v9; // [sp+14h] [bp-1Ch]@7
  char v10; // [sp+1Bh] [bp-15h]@7
  unsigned __int16 v11; // [sp+1Ch] [bp-14h]@7
  char v12; // [sp+1Eh] [bp-12h]@7
  char v13; // [sp+1Fh] [bp-11h]@7
  unsigned int v14; // [sp+20h] [bp-10h]@5
  int v15; // [sp+24h] [bp-Ch]@1
  int v16; // [sp+28h] [bp-8h]@7
  char v17; // [sp+2Fh] [bp-1h]@7

  v8 = (CWnd *)this;
  v15 = 0;
  if ( *(_DWORD *)(this + 2124) && *(_DWORD *)(*(_DWORD *)(this + 2124) + 116) && *(_DWORD *)(this + 2128) )
  {
    switch ( a2 )
    {
      case 0x401u:
        v14 = 4 * a3;
        (*(void (__thiscall **)(_DWORD, unsigned int, _DWORD, _DWORD))(**(_DWORD **)(this + 664) + 40))(
          *(_DWORD *)(this + 664),
          4 * a3,
          0,
          0);
        goto LABEL_15;
      case 0x402u:
        v4 = (*(int (__thiscall **)(_DWORD))(**(_DWORD **)(this + 664) + 48))(*(_DWORD *)(this + 664));
        sub_417510(*((CWnd **)v8 + 531), v4, v5);
        goto LABEL_15;
      case 0x403u:
        sub_4116D0(this);
        sub_40FA00((int)v8);
        (*(void (__thiscall **)(_DWORD, unsigned __int16 *, signed int))(**((_DWORD **)v8 + 166) + 52))(
          *((_DWORD *)v8 + 166),
          &v11,
          4);
        v15 = 4;
        v9 = _byteswap_ushort(v11);
        v10 = v12;
        v17 = v13;
        v16 = sub_4113E0((void *)v8, v9, v13);
        if ( v16 )
          sub_412980((int)v8, v9, v10, v17);
        goto LABEL_15;
      case 0x404u:
        Sleep(0x64u);
        *((_DWORD *)v8 + 532) = 0;
        if ( *((_DWORD *)v8 + 531) )
          (*(void (__thiscall **)(_DWORD, signed int))(**((_DWORD **)v8 + 531) + 4))(*((_DWORD *)v8 + 531), 1);
        *((_DWORD *)v8 + 531) = 0;
        v6 = sub_413890((int)v8);
        sub_413860((int)v6, 0x9C4Du, 0);
        goto LABEL_15;
      case 0x405u:
        sub_4116D0(this);
        sub_40FA00((int)v8);
LABEL_15:
        result = 1;
        break;
      default:
        result = CWnd::WindowProc((CWnd *)this, a2, a3, a4);
        break;
    }
  }
  else
  {
    result = CWnd::WindowProc((CWnd *)this, a2, a3, a4);
  }
  return result;
}

//----- (004130A0) --------------------------------------------------------
signed int __cdecl sub_4130A0(int a1)
{
  signed int result; // eax@2
  char Buffer; // [sp+4h] [bp-1010h]@6
  int v3; // [sp+100Ch] [bp-8h]@1
  int v4; // [sp+1010h] [bp-4h]@5

  v3 = a1;
  sub_401C60(a1, 0x400u, 0x64u, 0xAu);
  sub_401B90(a1, 1u);
  if ( sub_401DD0(a1) )
  {
    *(_DWORD *)(v3 + 4) = 1;
    *(_DWORD *)(v3 + 8) = 0;
    while ( !*(_DWORD *)(v3 + 8) )
    {
      v4 = sub_401790(v3, 1);
      if ( v4 & 1 )
      {
        while ( sub_4019B0(v3, &Buffer, 0x1000u, 0) )
          ;
        sub_401DD0(v3);
      }
    }
    *(_DWORD *)(v3 + 4) = 0;
    result = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00413170) --------------------------------------------------------
_DWORD *__thiscall sub_413170(_DWORD *this, int a2)
{
  _DWORD *v2; // ST08_4@1

  v2 = this;
  CDialog::CDialog(121, a2);
  *v2 = &off_487CCC;
  return v2;
}
// 45E3DC: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 487CCC: using guessed type int (*off_487CCC)();

//----- (004131C0) --------------------------------------------------------
int __thiscall sub_4131C0(CWnd *this)
{
  CWnd *v1; // ST04_4@1

  v1 = this;
  CWnd::UpdateData(this, 0);
  return CDialog::OnInitDialog(v1);
}

//----- (004131E0) --------------------------------------------------------
void *__thiscall sub_4131E0(void *this)
{
  void *v1; // ST10_4@1

  v1 = this;
  CSocket::CSocket();
  *(_DWORD *)v1 = &off_487E2C;
  *((_DWORD *)v1 + 5) = operator new(0x400u);
  memset(*((void **)v1 + 5), 0, 0x400u);
  *((_DWORD *)v1 + 6) = 0;
  *((_DWORD *)v1 + 7) = 0;
  return v1;
}
// 46005D: using guessed type int CSocket::CSocket(void);
// 487E2C: using guessed type int (*off_487E2C)();

//----- (00413280) --------------------------------------------------------
int __thiscall sub_413280(int this)
{
  CSocket *v1; // ST04_4@1

  v1 = (CSocket *)this;
  *(_DWORD *)this = &off_487E2C;
  j__free(*(void **)(this + 20));
  return CSocket::~CSocket(v1);
}
// 487E2C: using guessed type int (*off_487E2C)();

//----- (004132C0) --------------------------------------------------------
int __thiscall sub_4132C0(_DWORD *this, int a2)
{
  int result; // eax@1
  _DWORD *v3; // [sp+0h] [bp-8h]@1

  v3 = this;
  result = (*(int (__stdcall **)(_DWORD, signed int, _DWORD))(*this + 20))(this[5], 1024, 0);
  if ( result )
  {
    result = (int)v3;
    v3[6] = 1;
  }
  return result;
}

//----- (00413300) --------------------------------------------------------
int __thiscall sub_413300(_DWORD *this, int a2)
{
  _DWORD *v2; // ST00_4@1
  int result; // eax@1

  v2 = this;
  result = (*(int (**)(void))(*this + 16))();
  v2[7] = 0;
  return result;
}

//----- (00413330) --------------------------------------------------------
char *__thiscall sub_413330(char *this, int a2)
{
  char *result; // eax@1
  char *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  result = this;
  if ( *((_DWORD *)this + 12) != 1 )
  {
    (*(void (__thiscall **)(char *, char *, _DWORD, _DWORD))(*(_DWORD *)this + 12))(this, this + 20, 0, 0);
    result = v3;
    *((_DWORD *)v3 + 12) = 1;
  }
  return result;
}

//----- (00413390) --------------------------------------------------------
Concurrency::details::VirtualProcessor *__thiscall sub_413390(Concurrency::details::VirtualProcessor *this, char a2)
{
  Concurrency::details::VirtualProcessor *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  Concurrency::details::VirtualProcessor::~VirtualProcessor(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (004133C0) --------------------------------------------------------
int __thiscall sub_4133C0(int this)
{
  int v1; // ST04_4@1

  v1 = this;
  sub_45EDA3((CWnd *)(this + 912));
  sub_45EDA3((CWnd *)(v1 + 828));
  sub_45EDA3((CWnd *)(v1 + 744));
  sub_45EDA3((CWnd *)(v1 + 660));
  sub_45EDA3((CWnd *)(v1 + 576));
  sub_45EDA3((CWnd *)(v1 + 492));
  sub_45EDF5((CWnd *)(v1 + 408));
  sub_45EDF5((CWnd *)(v1 + 324));
  sub_45EDF5((CWnd *)(v1 + 240));
  sub_45EDF5((CWnd *)(v1 + 156));
  return sub_45E351(v1);
}

//----- (004134C0) --------------------------------------------------------
void *__stdcall sub_4134C0(size_t a1)
{
  return operator new(a1);
}

//----- (004134E0) --------------------------------------------------------
LRESULT __thiscall sub_4134E0(int this, LPARAM lParam, WPARAM wParam)
{
  return SendMessageA(*(HWND *)(this + 32), 0x80u, wParam, lParam);
}

//----- (00413510) --------------------------------------------------------
HICON __stdcall sub_413510(unsigned __int16 a1)
{
  HINSTANCE v1; // eax@1

  v1 = (HINSTANCE)sub_413530();
  return LoadIconA(v1, (LPCSTR)a1);
}

//----- (00413530) --------------------------------------------------------
int sub_413530()
{
  return *((_DWORD *)AfxGetModuleState() + 3);
}

//----- (00413540) --------------------------------------------------------
BOOL __thiscall sub_413540(struct tagRECT *this, int xLeft, int yTop, int xRight, int yBottom)
{
  return SetRect(this, xLeft, yTop, xRight, yBottom);
}

//----- (00413570) --------------------------------------------------------
_AfxBindHost *__thiscall sub_413570(_AfxBindHost *this)
{
  _AfxBindHost *v1; // ST00_4@1

  v1 = this;
  _AfxBindHost::_AfxBindHost(this);
  *(_DWORD *)v1 = &off_487B5C;
  return v1;
}
// 487B5C: using guessed type int (*off_487B5C)();

//----- (004135C0) --------------------------------------------------------
void *__thiscall sub_4135C0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_4135F0();
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (004135F0) --------------------------------------------------------
#error "41377F: positive sp value has been found (funcsize=40)"

//----- (004137A0) --------------------------------------------------------
void *__thiscall sub_4137A0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_4137D0(this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (004137D0) --------------------------------------------------------
int __thiscall sub_4137D0(void *this)
{
  *(_DWORD *)this = &off_487B5C;
  return sub_4135F0();
}
// 487B5C: using guessed type int (*off_487B5C)();

//----- (004137F0) --------------------------------------------------------
_AfxBindHost *__thiscall sub_4137F0(_AfxBindHost *this)
{
  _AfxBindHost *v1; // ST00_4@1

  v1 = this;
  _AfxBindHost::_AfxBindHost(this);
  *(_DWORD *)v1 = &off_487C0C;
  return v1;
}
// 487C0C: using guessed type int (*off_487C0C)();

//----- (00413810) --------------------------------------------------------
void *__thiscall sub_413810(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_413840(this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (00413840) --------------------------------------------------------
int __thiscall sub_413840(void *this)
{
  *(_DWORD *)this = &off_487C0C;
  return sub_4135F0();
}
// 487C0C: using guessed type int (*off_487C0C)();

//----- (00413860) --------------------------------------------------------
DWORD __thiscall sub_413860(int this, UINT uIDCheckItem, UINT uCheck)
{
  return CheckMenuItem(*(HMENU *)(this + 4), uIDCheckItem, uCheck);
}

//----- (00413890) --------------------------------------------------------
struct CMenu *__thiscall sub_413890(int this)
{
  HMENU v1; // eax@1

  v1 = GetMenu(*(HWND *)(this + 32));
  return CMenu::FromHandle(v1);
}

//----- (004138B0) --------------------------------------------------------
void __thiscall sub_4138B0(int this, BOOL fAccept)
{
  DragAcceptFiles(*(HWND *)(this + 32), fAccept);
}

//----- (004138D0) --------------------------------------------------------
BOOL __thiscall sub_4138D0(int this, LPRECT lpRect)
{
  return GetWindowRect(*(HWND *)(this + 32), lpRect);
}

//----- (004138F0) --------------------------------------------------------
BOOL __thiscall sub_4138F0(int this, LPRECT lpRect)
{
  return GetClientRect(*(HWND *)(this + 32), lpRect);
}

//----- (00413910) --------------------------------------------------------
UINT_PTR __thiscall sub_413910(int this, UINT_PTR nIDEvent, UINT uElapse, TIMERPROC lpTimerFunc)
{
  return SetTimer(*(HWND *)(this + 32), nIDEvent, uElapse, lpTimerFunc);
}

//----- (00413940) --------------------------------------------------------
BOOL __thiscall sub_413940(int this, int backlog)
{
  return listen(*(_DWORD *)(this + 4), backlog) != -1;
}

//----- (00413970) --------------------------------------------------------
int __thiscall sub_413970(CAsyncSocket *this, u_short hostshort, int type, char *cp)
{
  return CAsyncSocket::Create(this, hostshort, type, 63, cp);
}

//----- (004139A0) --------------------------------------------------------
void *__thiscall sub_4139A0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_40B3A0((int)this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (004139F0) --------------------------------------------------------
int __thiscall sub_4139F0(char *this)
{
  int v1; // ST04_4@1

  v1 = (int)this;
  unknown_libname_4(this + 1168);
  unknown_libname_4(v1 + 1164);
  sub_45EDA3((CWnd *)(v1 + 1068));
  sub_45EDA3((CWnd *)(v1 + 984));
  sub_45EE80((CWnd *)(v1 + 900));
  sub_45EDF5((CWnd *)(v1 + 816));
  sub_45EDF5((CWnd *)(v1 + 732));
  unknown_libname_4(v1 + 728);
  sub_413840((void *)(v1 + 720));
  sub_413840((void *)(v1 + 712));
  sub_413840((void *)(v1 + 704));
  sub_413840((void *)(v1 + 696));
  sub_413840((void *)(v1 + 688));
  sub_413840((void *)(v1 + 680));
  sub_413840((void *)(v1 + 672));
  sub_413840((void *)(v1 + 664));
  sub_413840((void *)(v1 + 656));
  sub_413840((void *)(v1 + 648));
  sub_413840((void *)(v1 + 640));
  sub_413840((void *)(v1 + 632));
  sub_413840((void *)(v1 + 624));
  sub_413840((void *)(v1 + 616));
  sub_413840((void *)(v1 + 608));
  sub_413840((void *)(v1 + 600));
  sub_45EDF5((CWnd *)(v1 + 256));
  sub_45EDF5((CWnd *)(v1 + 156));
  unknown_libname_4(v1 + 124);
  return sub_45E351(v1);
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);

//----- (00413CC0) --------------------------------------------------------
void *__thiscall sub_413CC0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_413CF0();
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}
// 413CF0: using guessed type int sub_413CF0(void);

//----- (00413D70) --------------------------------------------------------
BOOL __thiscall sub_413D70(int this, RECT *lpRect, BOOL bErase)
{
  return InvalidateRect(*(HWND *)(this + 32), lpRect, bErase);
}

//----- (00413DA0) --------------------------------------------------------
int __thiscall sub_413DA0(void *this)
{
  return (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)this + 40))(0, 0, 0);
}

//----- (00413DC0) --------------------------------------------------------
void *__thiscall sub_413DC0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  unknown_libname_4(this);
  if ( a2 & 1 )
    j__free(v3);
  return v3;
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);

//----- (00413DF0) --------------------------------------------------------
int __thiscall sub_413DF0(CGdiObject *this, int cHeight, int cWidth, int cEscapement, int cOrientation, int cWeight, char a7, char a8, char a9, char a10, char a11, char a12, char a13, char a14, LPCSTR pszFaceName)
{
  CGdiObject *v15; // ST38_4@1
  HFONT v16; // eax@1

  v15 = this;
  v16 = CreateFontA(
          cHeight,
          cWidth,
          cEscapement,
          cOrientation,
          cWeight,
          (unsigned __int8)a7,
          (unsigned __int8)a8,
          (unsigned __int8)a9,
          (unsigned __int8)a10,
          (unsigned __int8)a11,
          (unsigned __int8)a12,
          (unsigned __int8)a13,
          (unsigned __int8)a14,
          pszFaceName);
  return CGdiObject::Attach(v15, v16);
}

//----- (00413E50) --------------------------------------------------------
void __thiscall sub_413E50(CWnd *this, int a2, int a3)
{
  CWnd::MoveWindow(
    this,
    *(_DWORD *)a2,
    *(_DWORD *)(a2 + 4),
    *(_DWORD *)(a2 + 8) - *(_DWORD *)a2,
    *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 4),
    a3);
}

//----- (00413E90) --------------------------------------------------------
BOOL __thiscall sub_413E90(int this, UINT_PTR uIDEvent)
{
  return KillTimer(*(HWND *)(this + 32), uIDEvent);
}

//----- (00413EB0) --------------------------------------------------------
int __thiscall sub_413EB0(void *this)
{
  return (*(int (__stdcall **)(_DWORD, _DWORD, signed int))(*(_DWORD *)this + 40))(0, 0, 2);
}

//----- (00413ED0) --------------------------------------------------------
struct CWnd *sub_413ED0()
{
  HWND v0; // eax@1

  v0 = GetFocus();
  return CWnd::FromHandle(v0);
}

//----- (00413EF0) --------------------------------------------------------
int sub_413EF0()
{
  int v1; // [sp+0h] [bp-8h]@2
  struct CWinThread *v2; // [sp+4h] [bp-4h]@1

  v2 = AfxGetThread();
  if ( v2 )
    v1 = (*(int (__thiscall **)(_DWORD))(*(_DWORD *)v2 + 116))(v2);
  else
    v1 = 0;
  return v1;
}

//----- (00413F30) --------------------------------------------------------
BOOL __thiscall sub_413F30(int this)
{
  return EnableWindow(*(HWND *)(this + 32), 0);
}

//----- (00413F50) --------------------------------------------------------
BOOL __thiscall sub_413F50(int this)
{
  return EnableWindow(*(HWND *)(this + 32), 1);
}

//----- (00413F70) --------------------------------------------------------
int __thiscall sub_413F70(CDialog *this, __int16 a2, struct CWnd *a3)
{
  return CDialog::Create(this, (LPCSTR)(unsigned __int16)a2, a3);
}

//----- (00413F90) --------------------------------------------------------
void *__thiscall sub_413F90(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  unknown_libname_34(this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}
// 4139D0: using guessed type int __thiscall unknown_libname_34(_DWORD);

//----- (00413FC0) --------------------------------------------------------
void *__thiscall sub_413FC0(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_413280((int)this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (00413FF0) --------------------------------------------------------
void *__thiscall sub_413FF0(void *this, char *a2)
{
  int v2; // eax@1
  void *v4; // [sp+4h] [bp-10h]@1

  v4 = this;
  v2 = unknown_libname_82();
  sub_4021D0(v4, v2);
  if ( !sub_414330((unsigned int)a2) )
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=(a2);
  return v4;
}
// 4023F0: using guessed type int unknown_libname_82(void);

//----- (00414090) --------------------------------------------------------
void *__thiscall sub_414090(void *this)
{
  void *v1; // ST08_4@1
  int v2; // ST0C_4@1
  int v3; // ST10_4@1

  v1 = this;
  v2 = sub_4021B0(this);
  v3 = unknown_libname_8(v2);
  UnDecorator::getVbTableType(v3, v2 + 1);
  unknown_libname_9(v2);
  return v1;
}
// 402450: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4024C0: using guessed type _DWORD __stdcall unknown_libname_9(_DWORD);
// 414580: using guessed type int __cdecl UnDecorator::getVbTableType(_DWORD, _DWORD);

//----- (004140E0) --------------------------------------------------------
BOOL __cdecl sub_4140E0(void *a1, int a2)
{
  unsigned __int8 *v2; // eax@1

  v2 = (unsigned __int8 *)unknown_libname_79(a2);
  return sub_4142D0(a1, v2) == 0;
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);

//----- (00414100) --------------------------------------------------------
BOOL __cdecl sub_414100(int a1, unsigned __int8 *a2)
{
  return sub_4142D0((void *)a1, a2) == 0;
}

//----- (00414120) --------------------------------------------------------
BOOL __cdecl sub_414120(void *a1, int a2)
{
  unsigned __int8 *v2; // eax@1

  v2 = (unsigned __int8 *)unknown_libname_79(a2);
  return sub_4142D0(a1, v2) != 0;
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);

//----- (00414140) --------------------------------------------------------
char __thiscall sub_414140(_DWORD *this, int a2)
{
  _DWORD *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  if ( a2 < 0 || a2 > sub_4021B0(this) )
    sub_401010(-2147024809);
  return *(_BYTE *)(*v3 + a2);
}

//----- (00414180) --------------------------------------------------------
BOOL __thiscall sub_414180(void *this)
{
  return sub_4021B0(this) == 0;
}

//----- (004141A0) --------------------------------------------------------
void *__thiscall sub_4141A0(void *this)
{
  void *v2; // [sp-4h] [bp-Ch]@1
  void *v3; // [sp+0h] [bp-8h]@1

  v3 = this;
  v2 = this;
  unknown_libname_92(&v2);
  sub_4147D0(v3, (char)v2);
  sub_4146B0((int)v3, 0);
  return v3;
}
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);

//----- (004141F0) --------------------------------------------------------
int __thiscall sub_4141F0(int this)
{
  int v2; // [sp+0h] [bp-8h]@2

  if ( *(_DWORD *)(this + 4) )
    v2 = (*(_DWORD *)(this + 8) - *(_DWORD *)(this + 4)) >> 2;
  else
    v2 = 0;
  return v2;
}

//----- (00414230) --------------------------------------------------------
int __thiscall sub_414230(_DWORD *this, unsigned int a2)
{
  int v2; // edx@1
  int v3; // ecx@1
  _DWORD *v5; // [sp+0h] [bp-4h]@1

  v5 = this;
  if ( a2 >= sub_4141F0((int)this) )
    _invalid_parameter_noinfo(v3, v2);
  return v5[1] + 4 * a2;
}
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00414260) --------------------------------------------------------
int __thiscall sub_414260(void *this, int a2)
{
  unsigned int v2; // esi@1
  int result; // eax@2
  int *v4; // eax@3
  int v5; // [sp+4h] [bp-14h]@1
  char v6; // [sp+8h] [bp-10h]@3
  char v7; // [sp+10h] [bp-8h]@3

  v5 = (int)this;
  v2 = sub_4141F0((int)this);
  if ( v2 >= sub_4145C0(v5) )
  {
    v4 = sub_414600(v5, &v7);
    result = sub_414630((void *)v5, (int)&v6, *v4, v4[1], a2);
  }
  else
  {
    result = sub_4147A0(*(_DWORD *)(v5 + 8), 1, a2);
    *(_DWORD *)(v5 + 8) = result;
  }
  return result;
}

//----- (004142D0) --------------------------------------------------------
int __thiscall sub_4142D0(void *this, unsigned __int8 *a2)
{
  unsigned __int8 *v2; // eax@3
  void *v4; // [sp+0h] [bp-8h]@1

  v4 = this;
  if ( _CrtIsValidPointer(a2) == 0 )
    sub_401010(-2147467259);
  v2 = (unsigned __int8 *)unknown_libname_79(v4);
  return sub_414850(v2, a2);
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 414320: using guessed type _DWORD __cdecl _CrtIsValidPointer(_DWORD);

//----- (00414330) --------------------------------------------------------
char __stdcall sub_414330(unsigned int a1)
{
  char v2; // [sp+Bh] [bp-1h]@1

  v2 = 0;
  if ( a1 && !(a1 >> 16) )
  {
    sub_414380((unsigned __int16)a1);
    v2 = 1;
  }
  return v2;
}

//----- (00414380) --------------------------------------------------------
int __stdcall sub_414380(unsigned int a1)
{
  int result; // eax@2
  HINSTANCE hModule; // [sp+4h] [bp-4h]@1

  hModule = (HINSTANCE)unknown_libname_91(a1);
  if ( hModule )
    result = unknown_libname_90(hModule, a1);
  else
    result = 0;
  return result;
}
// 414570: using guessed type _DWORD __cdecl unknown_libname_91(unsigned int);

//----- (004145C0) --------------------------------------------------------
int __thiscall sub_4145C0(int this)
{
  int v2; // [sp+0h] [bp-8h]@2

  if ( *(_DWORD *)(this + 4) )
    v2 = (*(_DWORD *)(this + 12) - *(_DWORD *)(this + 4)) >> 2;
  else
    v2 = 0;
  return v2;
}

//----- (00414600) --------------------------------------------------------
_DWORD *__thiscall sub_414600(int this, _DWORD *a2)
{
  sub_414D50(a2, *(_DWORD *)(this + 8), this);
  return a2;
}

//----- (00414630) --------------------------------------------------------
int __thiscall sub_414630(void *this, int a2, int a3, int a4, int a5)
{
  _DWORD *v5; // eax@3
  int v6; // ST0C_4@4
  _DWORD *v7; // eax@4
  int v9; // [sp+0h] [bp-1Ch]@2
  void *v10; // [sp+4h] [bp-18h]@1
  char v11; // [sp+8h] [bp-14h]@4
  char v12; // [sp+10h] [bp-Ch]@3
  int v13; // [sp+18h] [bp-4h]@4

  v10 = this;
  if ( sub_4141F0((int)this) )
  {
    v5 = sub_4148D0((int)v10, &v12);
    v9 = unknown_libname_40(v5);
  }
  else
  {
    v9 = 0;
  }
  v13 = v9;
  sub_414950(v10, a3, a4, 1u, a5);
  v6 = v13;
  v7 = sub_4148D0((int)v10, &v11);
  sub_414D70((int)v7, a2, v6);
  return a2;
}
// 414DB0: using guessed type _DWORD __stdcall unknown_libname_40(_DWORD);

//----- (004146B0) --------------------------------------------------------
char __thiscall sub_4146B0(int this, unsigned int a2)
{
  char result; // al@2
  int v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  if ( a2 )
  {
    if ( unknown_libname_39(this) < a2 )
      sub_414CB0();
    *(_DWORD *)(v3 + 4) = sub_414D30(a2);
    *(_DWORD *)(v3 + 8) = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v3 + 12) = *(_DWORD *)(v3 + 4) + 4 * a2;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 414900: using guessed type int __thiscall unknown_libname_39(_DWORD);

//----- (00414730) --------------------------------------------------------
int __thiscall sub_414730(int this)
{
  int result; // eax@3
  int v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  if ( *(_DWORD *)(this + 4) )
  {
    sub_414920(*(void **)(this + 4), *(_DWORD *)(this + 8));
    unknown_libname_23(*(void **)(v2 + 4), (*(_DWORD *)(v2 + 12) - *(_DWORD *)(v2 + 4)) >> 2);
  }
  *(_DWORD *)(v2 + 4) = 0;
  *(_DWORD *)(v2 + 8) = 0;
  result = v2;
  *(_DWORD *)(v2 + 12) = 0;
  return result;
}

//----- (004147A0) --------------------------------------------------------
int __stdcall sub_4147A0(int a1, int a2, int a3)
{
  sub_414F40(a1, a2, a3);
  return a1 + 4 * a2;
}

//----- (004147D0) --------------------------------------------------------
void *__thiscall sub_4147D0(void *this, char a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  IUnknown::operator=(&a2);
  return v2;
}
// 405E60: using guessed type _DWORD __stdcall IUnknown::operator=(_DWORD);

//----- (00414850) --------------------------------------------------------
int __cdecl sub_414850(unsigned __int8 *a1, unsigned __int8 *a2)
{
  return _mbscmp(a1, a2);
}

//----- (004148D0) --------------------------------------------------------
_DWORD *__thiscall sub_4148D0(int this, _DWORD *a2)
{
  sub_414D50(a2, *(_DWORD *)(this + 4), this);
  return a2;
}

//----- (00414920) --------------------------------------------------------
char *__stdcall sub_414920(void *a1, int a2)
{
  return sub_414F80(a1, a2);
}

//----- (00414950) --------------------------------------------------------
int __thiscall sub_414950(void *this, int a2, int a3, unsigned int a4, int a5)
{
  int v5; // esi@2
  int v6; // eax@4
  unsigned int v7; // esi@5
  int v8; // eax@5
  int v9; // eax@8
  int v11; // [sp+0h] [bp-44h]@1
  void *v12; // [sp+10h] [bp-34h]@10
  void *v13; // [sp+14h] [bp-30h]@10
  int v14; // [sp+18h] [bp-2Ch]@6
  int v15; // [sp+1Ch] [bp-28h]@1
  int v16; // [sp+20h] [bp-24h]@15
  void *v17; // [sp+24h] [bp-20h]@10
  int v18; // [sp+28h] [bp-1Ch]@10
  int v19; // [sp+2Ch] [bp-18h]@1
  char v20; // [sp+30h] [bp-14h]@10
  int *v21; // [sp+34h] [bp-10h]@1
  int v22; // [sp+40h] [bp-4h]@1
  int v23; // [sp+54h] [bp+10h]@10

  v21 = &v11;
  v15 = (int)this;
  unknown_libname_3(a5);
  v22 = 0;
  v19 = sub_4145C0(v15);
  if ( a4 )
  {
    v5 = sub_4141F0(v15);
    if ( unknown_libname_39(v15) - v5 < a4 )
      sub_414CB0();
    v6 = sub_4141F0(v15);
    if ( v19 >= a4 + v6 )
    {
      if ( (*(_DWORD *)(v15 + 8) - a3) >> 2 >= a4 )
      {
        v16 = *(_DWORD *)(v15 + 8);
        *(_DWORD *)(v15 + 8) = sub_414FC0(v16 - 4 * a4, v16, *(void **)(v15 + 8));
        sub_415020(a3, v16 - 4 * a4, v16);
        sub_414FF0(a3, a3 + 4 * a4, (int)&v20);
      }
      else
      {
        sub_414FC0(a3, *(_DWORD *)(v15 + 8), (void *)(a3 + 4 * a4));
        LOBYTE(v22) = 3;
        sub_4147A0(*(_DWORD *)(v15 + 8), a4 - ((*(_DWORD *)(v15 + 8) - a3) >> 2), (int)&v20);
        v22 = 0;
        *(_DWORD *)(v15 + 8) += 4 * a4;
        sub_414FF0(a3, *(_BYTE *)(v15 + 8) - 4 * a4, (int)&v20);
      }
    }
    else
    {
      v7 = (unsigned int)v19 >> 1;
      v8 = unknown_libname_39(v15);
      if ( v8 - v7 >= v19 )
        v14 = v19 + ((unsigned int)v19 >> 1);
      else
        v14 = 0;
      v19 = v14;
      v9 = sub_4141F0(v15);
      if ( v19 < a4 + v9 )
        v19 = a4 + sub_4141F0(v15);
      v17 = sub_414D30(v19);
      v18 = (int)v17;
      LOBYTE(v22) = 1;
      v13 = sub_414FC0(*(_DWORD *)(v15 + 4), a3, v17);
      v18 = (int)v13;
      v12 = (void *)sub_4147A0((int)v13, a4, (int)&v20);
      v18 = (int)v12;
      sub_414FC0(a3, *(_DWORD *)(v15 + 8), v12);
      v22 = 0;
      v23 = a4 + sub_4141F0(v15);
      if ( *(_DWORD *)(v15 + 4) )
      {
        sub_414920(*(void **)(v15 + 4), *(_DWORD *)(v15 + 8));
        unknown_libname_23(*(void **)(v15 + 4), (*(_DWORD *)(v15 + 12) - *(_DWORD *)(v15 + 4)) >> 2);
      }
      *(_DWORD *)(v15 + 12) = (char *)v17 + 4 * v19;
      *(_DWORD *)(v15 + 8) = (char *)v17 + 4 * v23;
      *(_DWORD *)(v15 + 4) = v17;
    }
  }
  v22 = -1;
  return unknown_libname_4(&v20);
}
// 402060: using guessed type _DWORD __stdcall unknown_libname_3(_DWORD);
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 414900: using guessed type int __thiscall unknown_libname_39(_DWORD);

//----- (00414CB0) --------------------------------------------------------
void __noreturn sub_414CB0()
{
  char v0; // [sp+4h] [bp-50h]@1
  char v1; // [sp+20h] [bp-34h]@2
  int v2; // [sp+50h] [bp-4h]@1

  sub_405A70(&v0, "vector<T> too long");
  v2 = 0;
  unknown_libname_18(&v0);
  _CxxThrowException(&v1, &unk_4A5494);
}
// 4052E0: using guessed type _DWORD __stdcall unknown_libname_18(_DWORD);
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00414D30) --------------------------------------------------------
void *__stdcall sub_414D30(unsigned int a1)
{
  return sub_415090(a1);
}

//----- (00414D50) --------------------------------------------------------
_DWORD *__thiscall sub_414D50(_DWORD *this, unsigned int a2, int a3)
{
  _DWORD *v3; // ST08_4@1

  v3 = this;
  sub_414E20(this, a2, a3);
  return v3;
}

//----- (00414D70) --------------------------------------------------------
int __thiscall sub_414D70(int this, int a2, int a3)
{
  int v3; // ST08_4@1
  int v4; // ST0C_4@1
  int v5; // eax@1
  int v6; // edx@1

  v3 = *(_DWORD *)this;
  v4 = *(_DWORD *)(this + 4);
  v5 = unknown_libname_41(a3);
  v6 = *(_DWORD *)(v5 + 4);
  *(_DWORD *)a2 = *(_DWORD *)v5;
  *(_DWORD *)(a2 + 4) = v6;
  return a2;
}
// 414E00: using guessed type _DWORD __stdcall unknown_libname_41(_DWORD);

//----- (00414DD0) --------------------------------------------------------
signed int sub_414DD0()
{
  return 0x3FFFFFFF;
}

//----- (00414E20) --------------------------------------------------------
_DWORD *__thiscall sub_414E20(_DWORD *this, unsigned int a2, int a3)
{
  int v3; // edx@1
  unsigned int v4; // ecx@1
  _DWORD *v6; // [sp+0h] [bp-4h]@1

  v6 = this;
  unknown_libname_26();
  if ( !a3 || (v4 = *(_DWORD *)(a3 + 4), v4 > a2) || (v3 = a3, a2 > *(_DWORD *)(a3 + 8)) )
    _invalid_parameter_noinfo(v4, v3);
  *v6 = a3;
  v6[1] = a2;
  return v6;
}
// 405A30: using guessed type int unknown_libname_26(void);
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00414E70) --------------------------------------------------------
int __fastcall sub_414E70(_DWORD *a1, int a2, int a3)
{
  _DWORD *v4; // [sp+0h] [bp-4h]@1

  v4 = a1;
  if ( !*a1 || (a2 = a3, *a1 != *(_DWORD *)a3) )
    _invalid_parameter_noinfo(a1, a2);
  return (v4[1] - *(_DWORD *)(a3 + 4)) >> 2;
}
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00414EB0) --------------------------------------------------------
_DWORD *__fastcall sub_414EB0(_DWORD *a1, int a2, int a3)
{
  unsigned int v3; // ecx@3
  _DWORD *v4; // edx@3
  _DWORD *v6; // [sp+0h] [bp-4h]@1

  v6 = a1;
  if ( !*a1 )
    _invalid_parameter_noinfo(a1, a2);
  v3 = v6[1] + 4 * a3;
  v4 = v6;
  if ( v3 > *(_DWORD *)(*v6 + 8) || (v3 = v6[1] + 4 * a3, v4 = v6, v3 < *(_DWORD *)(*v6 + 4)) )
    _invalid_parameter_noinfo(v3, v4);
  v6[1] += 4 * a3;
  return v6;
}
// 468E6B: using guessed type int __fastcall _invalid_parameter_noinfo(_DWORD, _DWORD);

//----- (00414F10) --------------------------------------------------------
int sub_414F10(int a1, char *Format, ...)
{
  va_list va; // [sp+14h] [bp+10h]@1

  va_start(va, Format);
  return sub_4150E0(Format, va);
}

//----- (00414F40) --------------------------------------------------------
int __cdecl sub_414F40(int a1, int a2, int a3)
{
  unknown_libname_42(&a1);
  return sub_4151A0(a1, a2, a3);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (00414F80) --------------------------------------------------------
char *__cdecl sub_414F80(void *a1, int a2)
{
  char v2; // al@1

  v2 = unknown_libname_42(&a1);
  return sub_415260(a1, a2);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (00414FC0) --------------------------------------------------------
void *__stdcall sub_414FC0(char a1, char a2, void *a3)
{
  return sub_415290(a1, a2, a3);
}

//----- (00414FF0) --------------------------------------------------------
int __cdecl sub_414FF0(char a1, char a2, int a3)
{
  int v3; // ST08_4@1
  int v4; // ST04_4@1
  int v5; // eax@1

  v3 = a3;
  v4 = sub_4152E0((int)&a2);
  v5 = sub_4152E0((int)&a1);
  return sub_415300(v5, v4, v3);
}

//----- (00415020) --------------------------------------------------------
int __cdecl sub_415020(char a1, char a2, int a3)
{
  char v3; // cl@1
  int v4; // ST08_4@1
  int v5; // ST04_4@1
  int v6; // eax@1
  char v8; // [sp+1h] [bp-3h]@1
  char v9; // [sp+2h] [bp-2h]@1
  char v10; // [sp+3h] [bp-1h]@1

  v10 = 0;
  v9 = unknown_libname_42(&a3);
  v3 = *(_BYTE *)unknown_libname_43(&v8);
  v4 = a3;
  v5 = sub_4152E0((int)&a2);
  v6 = sub_4152E0((int)&a1);
  return sub_415340(v6, v5, v4);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);
// 415330: using guessed type _DWORD __cdecl unknown_libname_43(_DWORD);

//----- (00415090) --------------------------------------------------------
void *__cdecl sub_415090(unsigned int a1)
{
  char v2; // [sp+0h] [bp-Ch]@4

  if ( a1 )
  {
    if ( 0xFFFFFFFF / a1 < 4 )
    {
      sub_405EC0((std::exception *)&v2, 0);
      _CxxThrowException(&v2, &unk_4A5618);
    }
  }
  else
  {
    a1 = 0;
  }
  return operator new(4 * a1);
}
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (004150E0) --------------------------------------------------------
int __stdcall sub_4150E0(char *Format, va_list ArgList)
{
  int v2; // ST14_4@3
  char *DstBuf; // ST18_4@3

  if ( !Format )
    sub_401010(-2147024809);
  v2 = ATL::ChTraitsCRT<char>::GetFormattedLength(Format, ArgList);
  DstBuf = (char *)unknown_libname_8(v2);
  ATL::ChTraitsCRT<char>::Format(DstBuf, v2 + 1, Format, ArgList);
  return unknown_libname_9(v2);
}
// 402450: using guessed type _DWORD __stdcall unknown_libname_8(_DWORD);
// 4024C0: using guessed type _DWORD __stdcall unknown_libname_9(_DWORD);

//----- (004151A0) --------------------------------------------------------
int __cdecl sub_4151A0(int a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // [sp+0h] [bp-24h]@1
  void *v5; // [sp+10h] [bp-14h]@1
  int *v6; // [sp+14h] [bp-10h]@1
  int v7; // [sp+20h] [bp-4h]@1

  v6 = &v4;
  result = a1;
  v5 = (void *)a1;
  v7 = 0;
  while ( a2 )
  {
    result = sub_415380((void *)a1, a3);
    --a2;
    a1 += 4;
  }
  return result;
}

//----- (00415260) --------------------------------------------------------
char *__cdecl sub_415260(void *a1, int a2)
{
  char *result; // eax@2

  while ( a1 != (void *)a2 )
  {
    sub_4153A0(a1);
    result = (char *)a1 + 4;
    a1 = (char *)a1 + 4;
  }
  return result;
}

//----- (00415290) --------------------------------------------------------
void *__cdecl sub_415290(char a1, char a2, void *a3)
{
  void *v3; // ST08_4@1
  char v4; // ST04_1@1
  char v5; // al@1

  unknown_libname_42(&a3);
  v3 = a3;
  v4 = sub_4152E0((int)&a2);
  v5 = sub_4152E0((int)&a1);
  return sub_4153C0(v5, v4, v3);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (004152E0) --------------------------------------------------------
int __cdecl sub_4152E0(int a1)
{
  return unknown_libname_44(a1);
}
// 4153E0: using guessed type _DWORD __cdecl unknown_libname_44(_DWORD);

//----- (00415300) --------------------------------------------------------
int __cdecl sub_415300(int a1, int a2, int a3)
{
  int result; // eax@2

  while ( a1 != a2 )
  {
    unknown_libname_5(a3);
    result = a1 + 4;
    a1 += 4;
  }
  return result;
}
// 4020A0: using guessed type _DWORD __stdcall unknown_libname_5(_DWORD);

//----- (00415340) --------------------------------------------------------
int __cdecl sub_415340(int a1, int a2, int a3)
{
  unknown_libname_42(&a1);
  return sub_4153F0(a1, a2, a3);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (00415380) --------------------------------------------------------
int __stdcall sub_415380(void *a1, int a2)
{
  return sub_415450(a1, a2);
}

//----- (004153A0) --------------------------------------------------------
void __stdcall sub_4153A0(void *a1)
{
  __ExceptionPtrDestroy(a1);
}

//----- (004153C0) --------------------------------------------------------
void *__cdecl sub_4153C0(char a1, char a2, void *a3)
{
  return sub_4154E0(a1, a2, a3);
}

//----- (004153F0) --------------------------------------------------------
int __cdecl sub_4153F0(int a1, int a2, int a3)
{
  int v3; // ST1C_4@1
  int v4; // eax@1

  v3 = a3 - 4 * ((a2 - a1) >> 2);
  v4 = sub_4152E0((int)&a3);
  sub_415540(a1, a2, v4);
  return v3;
}

//----- (00415450) --------------------------------------------------------
int __cdecl sub_415450(void *a1, int a2)
{
  int v3; // [sp+4h] [bp-1Ch]@2

  if ( operator new(4u, a1) )
    v3 = unknown_libname_3(a2);
  else
    v3 = 0;
  return v3;
}
// 402060: using guessed type _DWORD __stdcall unknown_libname_3(_DWORD);

//----- (004154E0) --------------------------------------------------------
void *__cdecl sub_4154E0(char a1, char a2, void *a3)
{
  void *v3; // ST08_4@1
  int v4; // ST04_4@1
  int v5; // eax@1

  unknown_libname_42(&a1);
  v3 = a3;
  v4 = sub_4152E0((int)&a2);
  v5 = sub_4152E0((int)&a1);
  return sub_415570(v5, v4, v3);
}
// 415190: using guessed type int __cdecl unknown_libname_42(_DWORD);

//----- (00415540) --------------------------------------------------------
int __cdecl sub_415540(int a1, int a2, int a3)
{
  while ( a1 != a2 )
  {
    a2 -= 4;
    a3 -= 4;
    unknown_libname_5(a2);
  }
  return a3;
}
// 4020A0: using guessed type _DWORD __stdcall unknown_libname_5(_DWORD);

//----- (00415570) --------------------------------------------------------
void *__cdecl sub_415570(int a1, int a2, void *a3)
{
  int v4; // [sp+0h] [bp-24h]@1
  void *v5; // [sp+10h] [bp-14h]@1
  int *v6; // [sp+14h] [bp-10h]@1
  int v7; // [sp+20h] [bp-4h]@1

  v6 = &v4;
  v5 = a3;
  v7 = 0;
  while ( a1 != a2 )
  {
    sub_415380(a3, a1);
    a3 = (char *)a3 + 4;
    a1 += 4;
  }
  return a3;
}

//----- (00415630) --------------------------------------------------------
int (**sub_415630())()
{
  return sub_415640();
}

//----- (00415640) --------------------------------------------------------
int (**sub_415640())()
{
  return &off_488044;
}
// 488044: using guessed type int (*off_488044)();

//----- (00415650) --------------------------------------------------------
_DWORD *__thiscall sub_415650(_DWORD *this, int a2)
{
  _DWORD *v2; // ST0C_4@1

  v2 = this;
  CDialog::CDialog(117, a2);
  *v2 = &off_4880FC;
  sub_416740(v2 + 39);
  sub_416740(v2 + 60);
  sub_416740(v2 + 81);
  sub_416740(v2 + 102);
  sub_4166F0(v2 + 123);
  sub_4166F0(v2 + 144);
  sub_4166F0(v2 + 165);
  sub_4166F0(v2 + 186);
  sub_4166F0(v2 + 207);
  sub_4166F0(v2 + 228);
  v2[35] = 0;
  v2[36] = 0;
  v2[29] = 0;
  v2[30] = 0;
  v2[31] = -1;
  v2[32] = -1;
  v2[33] = -1;
  v2[34] = -1;
  return v2;
}
// 45E3DC: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 4880FC: using guessed type int (*off_4880FC)();

//----- (004157C0) --------------------------------------------------------
void __thiscall sub_4157C0(HWND this, HWND hWnd)
{
  HWND v2; // ST0C_4@1

  v2 = this;
  unknown_libname_86(hWnd);
  DDX_Check(hWnd, 1036, (int *)v2 + 35);
  DDX_Check(hWnd, 1037, (int *)v2 + 36);
  DDX_Check(hWnd, 1041, (int *)v2 + 37);
  DDX_Check(hWnd, 1043, (int *)v2 + 38);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x40F, v2 + 39);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x412, v2 + 60);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x40A, v2 + 81);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x40B, v2 + 102);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x40C, v2 + 165);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x40D, v2 + 186);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x411, v2 + 207);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x413, v2 + 228);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x40E, v2 + 123);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x410, v2 + 144);
}
// 4049C0: using guessed type _DWORD __stdcall unknown_libname_86(_DWORD);

//----- (00415C10) --------------------------------------------------------
int __thiscall sub_415C10(int this)
{
  CWnd *v2; // [sp+10h] [bp-8h]@1
  int v3; // [sp+14h] [bp-4h]@1

  v2 = (CWnd *)this;
  *(_DWORD *)(this + 140) = 0;
  *(_DWORD *)(this + 144) = 0;
  *(_DWORD *)(this + 148) = 0;
  *(_DWORD *)(this + 152) = 0;
  *(_DWORD *)(this + 116) = 0;
  *(_DWORD *)(this + 120) = 0;
  *(_DWORD *)(this + 124) = 0;
  *(_DWORD *)(this + 128) = 0;
  *(_DWORD *)(this + 132) = 0;
  *(_DWORD *)(this + 136) = 0;
  v3 = CDialog::OnInitDialog((CDialog *)this);
  sub_4164B0(v2);
  CWnd::UpdateData(v2, 0);
  switch ( sub_4167C0((int)v2 + 156) )
  {
    case 1:
      *((_DWORD *)v2 + 31) = 11;
      *((_DWORD *)v2 + 29) = 1;
      break;
    case 2:
      *((_DWORD *)v2 + 31) = 12;
      *((_DWORD *)v2 + 29) = 1;
      break;
    case 3:
      *((_DWORD *)v2 + 31) = 13;
      *((_DWORD *)v2 + 29) = 1;
      break;
    case 4:
      *((_DWORD *)v2 + 31) = 14;
      *((_DWORD *)v2 + 29) = 1;
      break;
    case 5:
      *((_DWORD *)v2 + 31) = 15;
      *((_DWORD *)v2 + 29) = 1;
      break;
    default:
      *((_DWORD *)v2 + 29) = 0;
      break;
  }
  if ( *((_DWORD *)v2 + 29) == 1 )
  {
    CWnd::EnableWindow((CWnd *)((char *)v2 + 324), 1);
    CWnd::EnableWindow((CWnd *)((char *)v2 + 660), 1);
    CWnd::EnableWindow((CWnd *)((char *)v2 + 828), 1);
  }
  switch ( sub_4167C0((int)v2 + 240) )
  {
    case 1:
      *((_DWORD *)v2 + 32) = 0;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 2:
      *((_DWORD *)v2 + 32) = 1;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 3:
      *((_DWORD *)v2 + 32) = 2;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 4:
      *((_DWORD *)v2 + 32) = 3;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 5:
      *((_DWORD *)v2 + 32) = 4;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 6:
      *((_DWORD *)v2 + 32) = 5;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 7:
      *((_DWORD *)v2 + 32) = 6;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 8:
      *((_DWORD *)v2 + 32) = 7;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 9:
      *((_DWORD *)v2 + 32) = 8;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 10:
      *((_DWORD *)v2 + 32) = 9;
      *((_DWORD *)v2 + 30) = 1;
      break;
    case 11:
      *((_DWORD *)v2 + 32) = 10;
      *((_DWORD *)v2 + 30) = 1;
      break;
    default:
      *((_DWORD *)v2 + 30) = 0;
      break;
  }
  if ( *((_DWORD *)v2 + 30) == 1 )
  {
    CWnd::EnableWindow((CWnd *)((char *)v2 + 408), 1);
    CWnd::EnableWindow((CWnd *)((char *)v2 + 744), 1);
    CWnd::EnableWindow((CWnd *)((char *)v2 + 912), 1);
  }
  switch ( sub_4167C0((int)v2 + 324) )
  {
    case 0:
      *((_DWORD *)v2 + 33) = 27;
      break;
    case 1:
      *((_DWORD *)v2 + 33) = 28;
      break;
    case 2:
      *((_DWORD *)v2 + 33) = 25;
      break;
    case 3:
      *((_DWORD *)v2 + 33) = 26;
      break;
    default:
      break;
  }
  switch ( sub_4167C0((int)v2 + 408) )
  {
    case 0:
      *((_DWORD *)v2 + 34) = 27;
      break;
    case 1:
      *((_DWORD *)v2 + 34) = 28;
      break;
    case 2:
      *((_DWORD *)v2 + 34) = 25;
      break;
    case 3:
      *((_DWORD *)v2 + 34) = 26;
      break;
    default:
      return v3;
  }
  return v3;
}

//----- (004164B0) --------------------------------------------------------
LRESULT __thiscall sub_4164B0(_DWORD *this)
{
  _DWORD *v1; // ST0C_4@1
  CWinApp *v2; // ST14_4@1
  unsigned int wParam; // ST10_4@1
  unsigned int v4; // ST18_4@1
  unsigned int v5; // ST20_4@1
  unsigned int v6; // ST1C_4@1

  v1 = this;
  v2 = (CWinApp *)sub_4049B0();
  v1[35] = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_menu_1", 0);
  v1[36] = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_menu_2", 0);
  v1[37] = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_hide_1", 0);
  v1[38] = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_hide_2", 0);
  wParam = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_unit_1", -1);
  v4 = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_unit_2", -1);
  v5 = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_chansel_1", -1);
  v6 = CWinApp::GetProfileIntA(v2, (DWORD)"Settings", "last_chansel_2", -1);
  sub_4167F0((int)(v1 + 39), wParam);
  sub_4167F0((int)(v1 + 60), v4);
  sub_4167F0((int)(v1 + 81), v5);
  return sub_4167F0((int)(v1 + 102), v6);
}

//----- (004165E0) --------------------------------------------------------
int __thiscall sub_4165E0(void *this)
{
  int v1; // ST0C_4@1
  CWinApp *v2; // ST10_4@1
  int v3; // eax@1
  int v4; // eax@1
  int v5; // eax@1
  int v6; // eax@1

  v1 = (int)this;
  v2 = (CWinApp *)sub_4049B0();
  CWinApp::WriteProfileInt(v2, "Settings", "last_menu_1", *(_DWORD *)(v1 + 140));
  CWinApp::WriteProfileInt(v2, "Settings", "last_menu_2", *(_DWORD *)(v1 + 144));
  CWinApp::WriteProfileInt(v2, "Settings", "last_hide_1", *(_DWORD *)(v1 + 148));
  CWinApp::WriteProfileInt(v2, "Settings", "last_hide_2", *(_DWORD *)(v1 + 152));
  v3 = sub_4167C0(v1 + 156);
  CWinApp::WriteProfileInt(v2, "Settings", "last_unit_1", v3);
  v4 = sub_4167C0(v1 + 240);
  CWinApp::WriteProfileInt(v2, "Settings", "last_unit_2", v4);
  v5 = sub_4167C0(v1 + 324);
  CWinApp::WriteProfileInt(v2, "Settings", "last_chansel_1", v5);
  v6 = sub_4167C0(v1 + 408);
  return CWinApp::WriteProfileInt(v2, "Settings", "last_chansel_2", v6);
}

//----- (004166F0) --------------------------------------------------------
_DWORD *__thiscall sub_4166F0(_DWORD *this)
{
  _DWORD *v1; // ST00_4@1

  v1 = this;
  CWnd::CWnd();
  *v1 = &off_48825C;
  return v1;
}
// 45A172: using guessed type int CWnd::CWnd(void);
// 48825C: using guessed type int (*off_48825C)();

//----- (00416710) --------------------------------------------------------
CWnd *__thiscall sub_416710(CWnd *this, char a2)
{
  CWnd *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_45EDA3(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (00416740) --------------------------------------------------------
_DWORD *__thiscall sub_416740(_DWORD *this)
{
  _DWORD *v1; // ST00_4@1

  v1 = this;
  CWnd::CWnd();
  *v1 = &off_48839C;
  return v1;
}
// 45A172: using guessed type int CWnd::CWnd(void);
// 48839C: using guessed type int (*off_48839C)();

//----- (00416760) --------------------------------------------------------
CWnd *__thiscall sub_416760(CWnd *this, char a2)
{
  CWnd *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_45EDF5(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (00416790) --------------------------------------------------------
void *__thiscall sub_416790(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_4133C0((int)this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (004167C0) --------------------------------------------------------
LRESULT __thiscall sub_4167C0(int this)
{
  return SendMessageA(*(HWND *)(this + 32), 0x147u, 0, 0);
}

//----- (004167F0) --------------------------------------------------------
LRESULT __thiscall sub_4167F0(int this, WPARAM wParam)
{
  return SendMessageA(*(HWND *)(this + 32), 0x14Eu, wParam, 0);
}

//----- (00416820) --------------------------------------------------------
int (**sub_416820())()
{
  return sub_416830();
}

//----- (00416830) --------------------------------------------------------
int (**sub_416830())()
{
  return &off_488510;
}
// 488510: using guessed type int (*off_488510)();

//----- (00416840) --------------------------------------------------------
_DWORD *__thiscall sub_416840(_DWORD *this, int a2)
{
  _DWORD *v2; // ST08_4@1

  v2 = this;
  CDialog::CDialog(142, a2);
  *v2 = &off_48857C;
  v2[29] = 0;
  return v2;
}
// 45E3DC: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 48857C: using guessed type int (*off_48857C)();

//----- (004169C0) --------------------------------------------------------
unsigned __int16 __cdecl sub_4169C0(_BYTE *a1, int a2, unsigned __int16 a3, char a4)
{
  int v4; // edx@2
  int v5; // ecx@5
  _BYTE *v7; // [sp+0h] [bp-4h]@1

  v7 = a1;
  if ( a4 == 1 )
  {
    while ( 1 )
    {
      v4 = a2--;
      if ( !v4 )
        break;
      a3 = word_4887D8[*v7++ ^ ((signed int)a3 >> 8)] ^ (a3 << 8);
    }
  }
  else
  {
    while ( 1 )
    {
      v5 = a2--;
      if ( !v5 )
        break;
      a3 = word_4889D8[*v7++ ^ (unsigned __int8)a3] ^ ((signed int)a3 >> 8);
    }
  }
  return a3;
}
// 4887D8: using guessed type __int16 word_4887D8[];
// 4889D8: using guessed type __int16 word_4889D8[];

//----- (00416B30) --------------------------------------------------------
int (**sub_416B30())()
{
  return sub_416B40();
}

//----- (00416B40) --------------------------------------------------------
int (**sub_416B40())()
{
  return &off_48947C;
}
// 48947C: using guessed type int (*off_48947C)();

//----- (00416B50) --------------------------------------------------------
_DWORD *__thiscall sub_416B50(_DWORD *this, int a2)
{
  _DWORD *v2; // ST0C_4@1

  v2 = this;
  CDialog::CDialog(143, a2);
  *v2 = &off_489564;
  sub_4166F0(v2 + 36);
  sub_4166F0(v2 + 57);
  sub_4166F0(v2 + 78);
  sub_417720(v2 + 99);
  sub_4166F0(v2 + 121);
  sub_4176D0(v2 + 146);
  v2[29] = 0;
  v2[30] = a2;
  v2[143] = 0;
  v2[144] = 0;
  v2[35] = 0;
  v2[145] = 0;
  v2[34] = 0;
  v2[32] = 0;
  v2[33] = 0;
  return v2;
}
// 45E3DC: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 489564: using guessed type int (*off_489564)();

//----- (00416C90) --------------------------------------------------------
int __thiscall sub_416C90(int this)
{
  int v2; // [sp+8h] [bp-18h]@1

  v2 = this;
  *(_DWORD *)this = &off_489564;
  if ( *(_DWORD *)(this + 480) )
    (*(void (__thiscall **)(_DWORD, _DWORD))(**(_DWORD **)(this + 480) + 4))(*(_DWORD *)(this + 480), 1);
  sub_45EE80((CWnd *)(v2 + 584));
  sub_45EDA3((CWnd *)(v2 + 484));
  sub_462AAA((CWnd *)(v2 + 396));
  sub_45EDA3((CWnd *)(v2 + 312));
  sub_45EDA3((CWnd *)(v2 + 228));
  sub_45EDA3((CWnd *)(v2 + 144));
  return sub_45E351(v2);
}
// 489564: using guessed type int (*off_489564)();

//----- (00416DB0) --------------------------------------------------------
int __thiscall sub_416DB0(void *this)
{
  return (*(int (__cdecl **)(void *))(*(_DWORD *)this + 96))(this);
}

//----- (00416DD0) --------------------------------------------------------
void __thiscall sub_416DD0(HWND this, HWND hWnd)
{
  HWND v2; // ST0C_4@1

  v2 = this;
  unknown_libname_86(hWnd);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x419, v2 + 36);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x41A, v2 + 57);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x418, v2 + 78);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x41F, v2 + 146);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x41B, v2 + 99);
  unknown_libname_155((struct CDataExchange *)hWnd, 1055, (int)(v2 + 145));
  DDX_Check(hWnd, 1057, (int *)v2 + 142);
}
// 4049C0: using guessed type _DWORD __stdcall unknown_libname_86(_DWORD);

//----- (00417020) --------------------------------------------------------
int __thiscall sub_417020(CDialog *this)
{
  _DWORD *v2; // [sp+4h] [bp-20h]@2
  CDialog *v3; // [sp+8h] [bp-1Ch]@1
  _DWORD *v4; // [sp+Ch] [bp-18h]@1
  int v5; // [sp+14h] [bp-10h]@1

  v3 = this;
  v5 = CDialog::OnInitDialog(this);
  sub_404A20(*((_DWORD *)v3 + 30), 0x402u, 0, 0);
  *((_DWORD *)v3 + 29) = 1;
  *((_DWORD *)v3 + 142) = 0;
  v4 = sub_4134C0(0x54u);
  if ( v4 )
    v2 = sub_417800(v4);
  else
    v2 = 0;
  *((_DWORD *)v3 + 120) = v2;
  return v5;
}

//----- (00417380) --------------------------------------------------------
int __thiscall sub_417380(int this)
{
  CWnd *v2; // [sp+0h] [bp-4h]@1

  v2 = (CWnd *)this;
  CWnd::EnableWindow((CWnd *)(this + 144), 1);
  CWnd::EnableWindow((CWnd *)((char *)v2 + 312), 1);
  CWnd::EnableWindow((CWnd *)((char *)v2 + 228), 0);
  *((_DWORD *)v2 + 143) = 0;
  if ( *((_DWORD *)v2 + 144) )
  {
    sub_413E90((int)v2, *((_DWORD *)v2 + 144));
    *((_DWORD *)v2 + 144) = 0;
  }
  sub_404A20(*((_DWORD *)v2 + 30), 0x405u, 0, 0);
  *((_DWORD *)v2 + 29) = 1;
  return CWnd::UpdateData(v2, 0);
}

//----- (00417420) --------------------------------------------------------
int __thiscall sub_417420(void *this)
{
  return (*(int (__cdecl **)(void *))(*(_DWORD *)this + 96))(this);
}

//----- (00417510) --------------------------------------------------------
signed int __thiscall sub_417510(CWnd *this, int a2, int a3)
{
  _AfxBindHost *v4; // [sp+4h] [bp-3Ch]@2
  CWnd *v5; // [sp+8h] [bp-38h]@1
  _AfxBindHost *v6; // [sp+10h] [bp-30h]@1
  char v7; // [sp+20h] [bp-20h]@1
  char *v8; // [sp+30h] [bp-10h]@1
  int v9; // [sp+3Ch] [bp-4h]@1

  v5 = this;
  unknown_libname_92(&v7);
  v8 = (char *)operator new(0x64u);
  sub_413540((struct tagRECT *)&v7, 175, 16, 225, 35);
  *((_DWORD *)v5 + 32) = a2;
  *((_DWORD *)v5 + 33) = a3;
  *((_DWORD *)v5 + 34) = *((_QWORD *)v5 + 16) / 4ui64;
  *((_DWORD *)v5 + 145) = *((_DWORD *)v5 + 35);
  CSliderCtrl::SetRange((CWnd *)((char *)v5 + 396), 0, *((_DWORD *)v5 + 34), 1);
  sub_4177A0((int)v5 + 396, *((_DWORD *)v5 + 35));
  sprintf(v8, "out of %i", *((_DWORD *)v5 + 34));
  (*(void (__thiscall **)(_DWORD, char *, signed int, char *, CWnd *, signed int))(**((_DWORD **)v5 + 120) + 308))(
    *((_DWORD *)v5 + 120),
    v8,
    1342177281,
    &v7,
    v5,
    0xFFFF);
  v6 = (_AfxBindHost *)sub_4134C0(8u);
  v9 = 0;
  if ( v6 )
    v4 = sub_413570(v6);
  else
    v4 = 0;
  v9 = -1;
  CFont::CreatePointFont(v4, 80, "MS Sans Serif", 0);
  sub_417850(*((void **)v5 + 120), (int)v4, 1);
  CWnd::UpdateData(v5, 0);
  j__free(v8);
  return 1;
}
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);

//----- (004176D0) --------------------------------------------------------
_DWORD *__thiscall sub_4176D0(_DWORD *this)
{
  _DWORD *v1; // ST00_4@1

  v1 = this;
  CWnd::CWnd();
  *v1 = &off_4896C4;
  return v1;
}
// 45A172: using guessed type int CWnd::CWnd(void);
// 4896C4: using guessed type int (*off_4896C4)();

//----- (004176F0) --------------------------------------------------------
CWnd *__thiscall sub_4176F0(CWnd *this, char a2)
{
  CWnd *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_45EE80(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (00417720) --------------------------------------------------------
_DWORD *__thiscall sub_417720(_DWORD *this)
{
  _DWORD *v1; // ST00_4@1

  v1 = this;
  CWnd::CWnd();
  *v1 = &off_4897FC;
  return v1;
}
// 45A172: using guessed type int CWnd::CWnd(void);
// 4897FC: using guessed type int (*off_4897FC)();

//----- (00417740) --------------------------------------------------------
CWnd *__thiscall sub_417740(CWnd *this, char a2)
{
  CWnd *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_462AAA(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (00417770) --------------------------------------------------------
void *__thiscall sub_417770(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_416C90((int)this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (004177A0) --------------------------------------------------------
LRESULT __thiscall sub_4177A0(int this, LPARAM lParam)
{
  return SendMessageA(*(HWND *)(this + 32), 0x405u, 1u, lParam);
}

//----- (004177D0) --------------------------------------------------------
LRESULT __thiscall sub_4177D0(int this)
{
  return SendMessageA(*(HWND *)(this + 32), 0x400u, 0, 0);
}

//----- (00417800) --------------------------------------------------------
_DWORD *__thiscall sub_417800(_DWORD *this)
{
  _DWORD *v1; // ST00_4@1

  v1 = this;
  CWnd::CWnd();
  *v1 = &off_48993C;
  return v1;
}
// 45A172: using guessed type int CWnd::CWnd(void);
// 48993C: using guessed type int (*off_48993C)();

//----- (00417820) --------------------------------------------------------
CWnd *__thiscall sub_417820(CWnd *this, char a2)
{
  CWnd *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_45ED2F(this);
  if ( a2 & 1 )
    sub_404A00((void *)v3);
  return v3;
}

//----- (00417850) --------------------------------------------------------
LRESULT __thiscall sub_417850(void *this, int a2, LPARAM lParam)
{
  void *v3; // ST10_4@1
  int v4; // eax@1

  v3 = this;
  v4 = sub_417880(a2);
  return SendMessageA(*((HWND *)v3 + 8), 0x30u, v4, lParam);
}

//----- (00417880) --------------------------------------------------------
int __thiscall sub_417880(int this)
{
  int v2; // [sp+0h] [bp-8h]@2

  if ( this )
    v2 = *(_DWORD *)(this + 4);
  else
    v2 = 0;
  return v2;
}

//----- (004178B0) --------------------------------------------------------
int (**sub_4178B0())()
{
  return sub_4178C0();
}

//----- (004178C0) --------------------------------------------------------
int (**sub_4178C0())()
{
  return &off_48B120;
}
// 48B120: using guessed type int (*off_48B120)();

//----- (004178D0) --------------------------------------------------------
void *__thiscall sub_4178D0(void *this, int a2)
{
  void *v3; // [sp+4h] [bp-14h]@1
  signed int i; // [sp+8h] [bp-10h]@1

  v3 = this;
  CDialog::CDialog(109, a2);
  *(_DWORD *)v3 = &off_48B2F4;
  sub_402040((char *)v3 + 124);
  sub_416740((_DWORD *)v3 + 39);
  sub_416740((_DWORD *)v3 + 64);
  sub_4137F0((_AfxBindHost *)((char *)v3 + 600));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 608));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 616));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 624));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 632));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 640));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 648));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 656));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 664));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 672));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 680));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 688));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 696));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 704));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 712));
  sub_4137F0((_AfxBindHost *)((char *)v3 + 720));
  sub_402040((char *)v3 + 728);
  sub_416740((_DWORD *)v3 + 183);
  sub_416740((_DWORD *)v3 + 204);
  sub_4176D0((_DWORD *)v3 + 225);
  sub_4166F0((_DWORD *)v3 + 246);
  sub_4166F0((_DWORD *)v3 + 267);
  sub_402040((char *)v3 + 1164);
  sub_402040((char *)v3 + 1168);
  *((_DWORD *)v3 + 61) = 0;
  *((_DWORD *)v3 + 300) = 0;
  *((_DWORD *)v3 + 301) = 0;
  *((_DWORD *)v3 + 293) = 0;
  *((_DWORD *)v3 + 288) = 0;
  *((_DWORD *)v3 + 289) = 0;
  *((_DWORD *)v3 + 298) = 0;
  *((_DWORD *)v3 + 299) = 0;
  for ( i = 0; i < 5; ++i )
    *((_DWORD *)v3 + i + 34) = 1;
  return v3;
}
// 45E3DC: using guessed type _DWORD __stdcall CDialog::CDialog(_DWORD, _DWORD);
// 48B2F4: using guessed type int (*off_48B2F4)();

//----- (00417BA0) --------------------------------------------------------
void __thiscall sub_417BA0(HWND this, HWND hWnd)
{
  HWND v2; // ST0C_4@1

  v2 = this;
  unknown_libname_86(hWnd);
  DDX_Check(hWnd, 1014, (int *)v2 + 30);
  DDX_Check(hWnd, 1059, (int *)v2 + 62);
  DDX_Check(hWnd, 1060, (int *)v2 + 33);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3F1, v2 + 204);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x400, v2 + 225);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3F3, v2 + 246);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3F7, v2 + 267);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3F2, v2 + 64);
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3F8, v2 + 39);
  sub_4629F1((CDataExchange *)hWnd, 1024, (int)(v2 + 292));
  DDX_Control((struct CDataExchange *)hWnd, (HWND)0x3F5, v2 + 183);
}
// 4049C0: using guessed type _DWORD __stdcall unknown_libname_86(_DWORD);

//----- (00417FB0) --------------------------------------------------------
int __thiscall sub_417FB0(int this)
{
  CWnd *v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v2 = (CWnd *)this;
  *(_DWORD *)(this + 248) = 0;
  *(_DWORD *)(this + 252) = 1;
  ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=(&byte_489A89);
  *((_DWORD *)v2 + 297) = 1;
  CWnd::UpdateData(v2, 0);
  v3 = CDialog::OnInitDialog(v2);
  *((_DWORD *)v2 + 33) = 0;
  *((_DWORD *)v2 + 60) = 1;
  if ( (unsigned __int8)sub_414100((int)v2 + 728, "ETHR:127.0.0.1:5539:6539") )
  {
    sub_4167F0((int)v2 + 732, 0);
  }
  else if ( (unsigned __int8)sub_414100((int)v2 + 728, "ETHR:127.0.0.1:5549:6549") )
  {
    sub_4167F0((int)v2 + 732, 1u);
  }
  else if ( (unsigned __int8)sub_414100((int)v2 + 728, "COM1") )
  {
    sub_4167F0((int)v2 + 732, 2u);
  }
  else if ( (unsigned __int8)sub_414100((int)v2 + 728, "COM2") )
  {
    sub_4167F0((int)v2 + 732, 3u);
  }
  return v3;
}

//----- (00418710) --------------------------------------------------------
void __thiscall sub_418710(CWnd *this)
{
  CWnd *v1; // ST04_4@1

  v1 = this;
  CWnd::UpdateData(this, 1);
  CDialog::OnOK(v1);
}

//----- (00418B80) --------------------------------------------------------
int __thiscall sub_418B80(int this, struct tagMSG *a2)
{
  size_t v2; // eax@8
  UINT v4; // [sp+0h] [bp-4Ch]@2
  CWnd *v5; // [sp+4h] [bp-48h]@1
  CHAR String; // [sp+8h] [bp-44h]@6
  char v7; // [sp+24h] [bp-28h]@6
  LPARAM v8; // [sp+44h] [bp-8h]@7
  WPARAM v9; // [sp+48h] [bp-4h]@7

  v5 = (CWnd *)this;
  if ( !*(_DWORD *)(this + 1172) )
    return CDialog::PreTranslateMessage((CDialog *)this, a2);
  v4 = a2->message;
  if ( v4 != 256 )
  {
    if ( v4 == 257 && a2->wParam == 17 )
      *(_DWORD *)(this + 1192) = 0;
    return CDialog::PreTranslateMessage((CDialog *)this, a2);
  }
  CWnd::EnableWindow((CWnd *)(this + 984), 1);
  *((_DWORD *)v5 + 299) = 0;
  if ( a2->wParam == 17 )
  {
    *((_DWORD *)v5 + 296) = a2->wParam;
    *((_DWORD *)v5 + 298) = 1;
    *((_DWORD *)v5 + 299) = 1;
    strncpy(&v7, "CTRL-", 6u);
    strcpy(&String, &v7);
  }
  else
  {
    *((_DWORD *)v5 + 296) = a2->wParam;
    v9 = a2->wParam;
    v8 = a2->lParam;
    GetKeyNameTextA(a2->lParam, &String, 25);
    if ( *((_DWORD *)v5 + 298) )
    {
      *((_DWORD *)v5 + 299) = 1;
      strncpy(&v7, "CTRL-", 6u);
      v2 = strlen(&v7);
      strncat(&v7, &String, 25 - v2);
      strcpy(&String, &v7);
    }
  }
  ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=(&String);
  CWnd::UpdateData(v5, 0);
  return 1;
}

//----- (00418D30) --------------------------------------------------------
_DWORD *__thiscall sub_418D30(_DWORD *this)
{
  int v1; // ST20_4@10
  int v2; // ST18_4@10
  unsigned __int8 v3; // al@46
  char v4; // al@46
  _DWORD *result; // eax@48
  unsigned __int8 v6; // al@49
  _DWORD *v7; // [sp+18h] [bp-74h]@1
  int v8; // [sp+1Ch] [bp-70h]@10
  int v9; // [sp+20h] [bp-6Ch]@10
  CWinApp *v10; // [sp+24h] [bp-68h]@1
  int v11; // [sp+2Ch] [bp-60h]@4
  unsigned int v12; // [sp+30h] [bp-5Ch]@6
  CHAR ValueName; // [sp+58h] [bp-34h]@4
  int i; // [sp+7Ch] [bp-10h]@2
  int v15; // [sp+88h] [bp-4h]@10

  v7 = this;
  v10 = (CWinApp *)sub_4049B0();
  if ( !(CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "275_reset", 0) & 1) )
  {
    for ( i = 0; i < v7[300]; ++i )
    {
      sprintf(&ValueName, "sc_key_%i", i);
      v11 = (unsigned __int8)CWinApp::GetProfileIntA(v10, (DWORD)"SC_Keys", &ValueName, dword_4AB17C[12 * i]);
      if ( v11 != dword_4AB17C[12 * i] )
        CWinApp::WriteProfileInt(v10, "SC_Keys", &ValueName, dword_4AB17C[12 * i]);
      sprintf(&ValueName, "sc_key_%i_ctrl", i);
      v12 = CWinApp::GetProfileIntA(v10, (DWORD)"SC_Keys", &ValueName, dword_4AB180[12 * i]) & 1;
      if ( v12 != dword_4AB180[12 * i] )
        CWinApp::WriteProfileInt(v10, "SC_Keys", &ValueName, dword_4AB180[12 * i]);
    }
    CWinApp::WriteProfileInt(v10, "Settings", "275_reset", 1);
  }
  *((_WORD *)v7 + 59) = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "comm_port", 2);
  v1 = CWinApp::GetProfileStringA((int)&v9, "Settings", "wnd_title", (int)"GCU 475");
  v15 = 0;
  unknown_libname_5(v1);
  v15 = -1;
  unknown_libname_4(&v9);
  v7[32] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "dev_check", 40004);
  v2 = CWinApp::GetProfileStringA((int)&v8, "Settings", "com_port_name", (int)"COM2");
  v15 = 1;
  unknown_libname_5(v2);
  v15 = -1;
  unknown_libname_4(&v8);
  switch ( *((_WORD *)v7 + 58) )
  {
    case 0xB:
      v7[86] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_275_lst_w", 410);
      v7[87] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_275_lst_h", 150);
      v7[88] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_275_lst_x", 0);
      v7[89] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_275_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "275_short_cuts", 0);
      break;
    default:
      v7[90] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_475_lst_w", 349);
      v7[91] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_475_lst_h", 267);
      v7[92] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_475_lst_x", 0);
      v7[93] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_475_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "475_short_cuts", 0);
      break;
    case 0xD:
      v7[94] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_476_lst_w", 259);
      v7[95] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_476_lst_h", 385);
      v7[96] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_476_lst_x", 0);
      v7[97] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_476_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "476_short_cuts", 0);
      break;
    case 0xE:
      v7[98] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_477_lst_w", 373);
      v7[99] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_477_lst_h", 254);
      v7[100] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_477_lst_x", 0);
      v7[101] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_477_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "477_short_cuts", 0);
      break;
    case 0xF:
      v7[102] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_478_lst_w", 376);
      v7[103] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_478_lst_h", 265);
      v7[104] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_478_lst_x", 0);
      v7[105] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_478_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "478_short_cuts", 0);
      break;
    case 0:
      v7[106] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_00_lst_w", 752);
      v7[107] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_00_lst_h", 220);
      v7[108] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_00_lst_x", 0);
      v7[109] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_00_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "705_00_short_cuts", 0);
      break;
    case 1:
      v7[110] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_20_lst_w", 752);
      v7[111] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_20_lst_h", 220);
      v7[112] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_20_lst_x", 0);
      v7[113] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_20_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "705_20_short_cuts", 0);
      break;
    case 2:
      v7[114] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_80_lst_w", 752);
      v7[115] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_80_lst_h", 220);
      v7[116] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_80_lst_x", 0);
      v7[117] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_705_80_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "705_80_short_cuts", 0);
      break;
    case 3:
      v7[118] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_710_lst_w", 881);
      v7[119] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_710_lst_h", 154);
      v7[120] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_710_lst_x", 0);
      v7[121] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_710_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "710_short_cuts", 0);
      break;
    case 4:
      v7[122] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_715_lst_w", 950);
      v7[123] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_715_lst_h", 243);
      v7[124] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_715_lst_x", 0);
      v7[125] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_715_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "715_short_cuts", 0);
      break;
    case 5:
      v7[126] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_00_lst_w", 886);
      v7[127] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_00_lst_h", 217);
      v7[128] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_00_lst_x", 0);
      v7[129] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_00_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "720_00_short_cuts", 0);
      break;
    case 6:
      v7[130] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_20_lst_w", 877);
      v7[131] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_20_lst_h", 216);
      v7[132] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_20_lst_x", 0);
      v7[133] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_20_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "720_20_short_cuts", 0);
      break;
    case 7:
      v7[134] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_30_lst_w", 877);
      v7[135] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_30_lst_h", 216);
      v7[136] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_30_lst_x", 0);
      v7[137] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_30_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "720_30_short_cuts", 0);
      break;
    case 8:
      v7[138] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_80_lst_w", 624);
      v7[139] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_80_lst_h", 153);
      v7[140] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_80_lst_x", 0);
      v7[141] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_720_80_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "720_80_short_cuts", 0);
      break;
    case 9:
      v7[142] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7200_00_lst_w", 998);
      v7[143] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7200_00_lst_h", 181);
      v7[144] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7200_00_lst_x", 0);
      v7[145] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7200_00_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "7200_00_short_cuts", 0);
      break;
    case 0xA:
      v7[146] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7250_00_lst_w", 877);
      v7[147] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7250_00_lst_h", 181);
      v7[148] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7250_00_lst_x", 0);
      v7[149] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "wnd_7250_00_lst_y", 0);
      v7[30] = CWinApp::GetProfileIntA(v10, (DWORD)"Settings", "7250_00_short_cuts", 0);
      break;
  }
  if ( *((_WORD *)v7 + 58) != 11
    && *((_WORD *)v7 + 58) != 12
    && *((_WORD *)v7 + 58) != 13
    && *((_WORD *)v7 + 58) != 14
    && *((_WORD *)v7 + 58) != 15
    && *((_WORD *)v7 + 58)
    && *((_WORD *)v7 + 58) != 1
    && *((_WORD *)v7 + 58) != 2
    && *((_WORD *)v7 + 58) != 3
    && *((_WORD *)v7 + 58) != 4
    && *((_WORD *)v7 + 58) != 5
    && *((_WORD *)v7 + 58) != 6
    && *((_WORD *)v7 + 58) != 7
    && *((_WORD *)v7 + 58) != 8
    && *((_WORD *)v7 + 58) != 9
    && *((_WORD *)v7 + 58) != 10 )
  {
    *((_WORD *)v7 + 58) = 12;
    ATL::CStringT<char,StrTraitMFC<char,ATL::ChTraitsCRT<char>>>::operator=("GCU 475");
  }
  for ( i = 0; i < v7[300]; ++i )
  {
    sprintf(&ValueName, "sc_key_%i", i);
    v3 = CWinApp::GetProfileIntA(v10, (DWORD)"SC_Keys", &ValueName, dword_4AB17C[12 * i]);
    dword_4BE8E4[12 * i] = v3;
    sprintf(&ValueName, "sc_key_%i_ctrl", i);
    v4 = CWinApp::GetProfileIntA(v10, (DWORD)"SC_Keys", &ValueName, dword_4AB180[12 * i]);
    dword_4BE8E8[12 * i] = v4 & 1;
  }
  for ( i = 0; ; ++i )
  {
    result = v7;
    if ( i >= v7[301] )
      break;
    sprintf(&ValueName, "sc_knob_%i", i);
    v6 = CWinApp::GetProfileIntA(v10, (DWORD)"SC_Keys", &ValueName, dword_4B01F0[13 * i]);
    dword_4BD0F0[13 * i] = v6;
  }
  return result;
}
// 402080: using guessed type int __thiscall unknown_libname_4(_DWORD);
// 4020A0: using guessed type _DWORD __stdcall unknown_libname_5(_DWORD);
// 4AB17C: using guessed type int dword_4AB17C[];
// 4AB180: using guessed type int dword_4AB180[];
// 4B01F0: using guessed type int dword_4B01F0[];
// 4BD0F0: using guessed type int dword_4BD0F0[];
// 4BE8E4: using guessed type int dword_4BE8E4[];
// 4BE8E8: using guessed type int dword_4BE8E8[];

//----- (00419B90) --------------------------------------------------------
int __thiscall sub_419B90(void *this)
{
  const char *v1; // eax@1
  const char *v2; // eax@1
  int result; // eax@19
  int v4; // [sp+4h] [bp-40h]@1
  CWinApp *v5; // [sp+8h] [bp-3Ch]@1
  CHAR ValueName; // [sp+Ch] [bp-38h]@21
  int i; // [sp+30h] [bp-14h]@18
  char v8; // [sp+34h] [bp-10h]@1

  v4 = (int)this;
  unknown_libname_92(&v8);
  v5 = (CWinApp *)sub_4049B0();
  CWinApp::WriteProfileInt(v5, "Settings", "comm_port", *(_WORD *)(v4 + 118));
  v1 = (const char *)unknown_libname_79(v4 + 124);
  CWinApp::WriteProfileStringA(v5, "Settings", "wnd_title", v1);
  CWinApp::WriteProfileInt(v5, "Settings", "dev_check", *(_DWORD *)(v4 + 128));
  v2 = (const char *)unknown_libname_79(v4 + 728);
  CWinApp::WriteProfileStringA(v5, "Settings", "com_port_name", v2);
  switch ( *(_WORD *)(v4 + 116) )
  {
    case 0xB:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_275_lst_w", *(_DWORD *)(v4 + 344));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_275_lst_h", *(_DWORD *)(v4 + 348));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_275_lst_x", *(_DWORD *)(v4 + 352));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_275_lst_y", *(_DWORD *)(v4 + 356));
      CWinApp::WriteProfileInt(v5, "Settings", "275_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 0xC:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_475_lst_w", *(_DWORD *)(v4 + 360));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_475_lst_h", *(_DWORD *)(v4 + 364));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_475_lst_x", *(_DWORD *)(v4 + 368));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_475_lst_y", *(_DWORD *)(v4 + 372));
      CWinApp::WriteProfileInt(v5, "Settings", "475_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 0xD:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_476_lst_w", *(_DWORD *)(v4 + 376));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_476_lst_h", *(_DWORD *)(v4 + 380));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_476_lst_x", *(_DWORD *)(v4 + 384));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_476_lst_y", *(_DWORD *)(v4 + 388));
      CWinApp::WriteProfileInt(v5, "Settings", "476_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 0xE:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_477_lst_w", *(_DWORD *)(v4 + 392));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_477_lst_h", *(_DWORD *)(v4 + 396));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_477_lst_x", *(_DWORD *)(v4 + 400));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_477_lst_y", *(_DWORD *)(v4 + 404));
      CWinApp::WriteProfileInt(v5, "Settings", "477_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 0xF:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_478_lst_w", *(_DWORD *)(v4 + 408));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_478_lst_h", *(_DWORD *)(v4 + 412));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_478_lst_x", *(_DWORD *)(v4 + 416));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_478_lst_y", *(_DWORD *)(v4 + 420));
      CWinApp::WriteProfileInt(v5, "Settings", "478_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 0:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_00_lst_w", *(_DWORD *)(v4 + 424));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_00_lst_h", *(_DWORD *)(v4 + 428));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_00_lst_x", *(_DWORD *)(v4 + 432));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_00_lst_y", *(_DWORD *)(v4 + 436));
      CWinApp::WriteProfileInt(v5, "Settings", "705_00_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 1:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_20_lst_w", *(_DWORD *)(v4 + 440));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_20_lst_h", *(_DWORD *)(v4 + 444));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_20_lst_x", *(_DWORD *)(v4 + 448));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_20_lst_y", *(_DWORD *)(v4 + 452));
      CWinApp::WriteProfileInt(v5, "Settings", "705_20_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 2:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_80_lst_w", *(_DWORD *)(v4 + 456));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_80_lst_h", *(_DWORD *)(v4 + 460));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_80_lst_x", *(_DWORD *)(v4 + 464));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_705_80_lst_y", *(_DWORD *)(v4 + 468));
      CWinApp::WriteProfileInt(v5, "Settings", "705_80_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 3:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_710_lst_w", *(_DWORD *)(v4 + 472));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_710_lst_h", *(_DWORD *)(v4 + 476));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_710_lst_x", *(_DWORD *)(v4 + 480));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_710_lst_y", *(_DWORD *)(v4 + 484));
      CWinApp::WriteProfileInt(v5, "Settings", "710_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 4:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_715_lst_w", *(_DWORD *)(v4 + 488));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_715_lst_h", *(_DWORD *)(v4 + 492));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_715_lst_x", *(_DWORD *)(v4 + 496));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_715_lst_y", *(_DWORD *)(v4 + 500));
      CWinApp::WriteProfileInt(v5, "Settings", "715_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 5:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_00_lst_w", *(_DWORD *)(v4 + 504));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_00_lst_h", *(_DWORD *)(v4 + 508));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_00_lst_x", *(_DWORD *)(v4 + 512));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_00_lst_y", *(_DWORD *)(v4 + 516));
      CWinApp::WriteProfileInt(v5, "Settings", "720_00_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 6:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_20_lst_w", *(_DWORD *)(v4 + 520));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_20_lst_h", *(_DWORD *)(v4 + 524));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_20_lst_x", *(_DWORD *)(v4 + 528));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_20_lst_y", *(_DWORD *)(v4 + 532));
      CWinApp::WriteProfileInt(v5, "Settings", "720_20_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 7:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_30_lst_w", *(_DWORD *)(v4 + 536));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_30_lst_h", *(_DWORD *)(v4 + 540));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_30_lst_x", *(_DWORD *)(v4 + 544));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_30_lst_y", *(_DWORD *)(v4 + 548));
      CWinApp::WriteProfileInt(v5, "Settings", "720_30_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 8:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_80_lst_w", *(_DWORD *)(v4 + 552));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_80_lst_h", *(_DWORD *)(v4 + 556));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_80_lst_x", *(_DWORD *)(v4 + 560));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_720_80_lst_y", *(_DWORD *)(v4 + 564));
      CWinApp::WriteProfileInt(v5, "Settings", "720_80_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 9:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7200_00_lst_w", *(_DWORD *)(v4 + 568));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7200_00_lst_h", *(_DWORD *)(v4 + 572));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7200_00_lst_x", *(_DWORD *)(v4 + 576));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7200_00_lst_y", *(_DWORD *)(v4 + 580));
      CWinApp::WriteProfileInt(v5, "Settings", "7200_00_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    case 0xA:
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7250_00_lst_w", *(_DWORD *)(v4 + 584));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7250_00_lst_h", *(_DWORD *)(v4 + 588));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7250_00_lst_x", *(_DWORD *)(v4 + 592));
      CWinApp::WriteProfileInt(v5, "Settings", "wnd_7250_00_lst_y", *(_DWORD *)(v4 + 596));
      CWinApp::WriteProfileInt(v5, "Settings", "7250_00_short_cuts", *(_DWORD *)(v4 + 120));
      break;
    default:
      break;
  }
  for ( i = 0; ; ++i )
  {
    result = v4;
    if ( i >= *(_DWORD *)(v4 + 1200) )
      break;
    if ( dword_4BE8FC[12 * i] == *(_WORD *)(v4 + 116) )
    {
      sprintf(&ValueName, "sc_key_%i", i);
      CWinApp::WriteProfileInt(v5, "SC_Keys", &ValueName, dword_4BE8E4[12 * i]);
      sprintf(&ValueName, "sc_key_%i_ctrl", i);
      CWinApp::WriteProfileInt(v5, "SC_Keys", &ValueName, dword_4BE8E8[12 * i]);
    }
  }
  for ( i = 0; i < *(_DWORD *)(v4 + 1204); ++i )
  {
    if ( dword_4BD104[13 * i] == *(_WORD *)(v4 + 116) )
    {
      sprintf(&ValueName, "sc_knob_%i", i);
      CWinApp::WriteProfileInt(v5, "SC_Keys", &ValueName, dword_4BD0F0[13 * i]);
    }
    result = i + 1;
  }
  return result;
}
// 402310: using guessed type int __thiscall unknown_libname_79(_DWORD);
// 4147F0: using guessed type int __thiscall unknown_libname_92(_DWORD);
// 4BD0F0: using guessed type int dword_4BD0F0[];
// 4BD104: using guessed type int dword_4BD104[];
// 4BE8E4: using guessed type int dword_4BE8E4[];
// 4BE8E8: using guessed type int dword_4BE8E8[];
// 4BE8FC: using guessed type int dword_4BE8FC[];

//----- (0041A680) --------------------------------------------------------
char *__thiscall sub_41A680(char *this, char a2)
{
  char *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_4139F0(this);
  if ( a2 & 1 )
    sub_404A00(v3);
  return v3;
}

//----- (0041A6B0) --------------------------------------------------------
LRESULT __thiscall sub_41A6B0(int this, LPARAM lParam)
{
  return SendMessageA(*(HWND *)(this + 32), 0x143u, 0, lParam);
}

//----- (0041A6E0) --------------------------------------------------------
LRESULT __thiscall sub_41A6E0(int this)
{
  return SendMessageA(*(HWND *)(this + 32), 0x14Bu, 0, 0);
}

//----- (0041A710) --------------------------------------------------------
BOOL __cdecl sub_41A710(unsigned __int8 *a1, int a2)
{
  return sub_4142D0((void *)a2, a1) == 0;
}

//----- (0041A72E) --------------------------------------------------------
void *__thiscall sub_41A72E(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_41BDC9((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0041A74A) --------------------------------------------------------
void *__thiscall sub_41A74A(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_41BFA8((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0041A766) --------------------------------------------------------
int __stdcall sub_41A766(int a1, LOGFONTA *lplf, int a3)
{
  void *v3; // eax@4
  void *v4; // esi@5
  int result; // eax@8
  int v6; // edi@9

  if ( a1 && lplf && a3 )
  {
    v3 = operator new(0x50u);
    if ( v3 )
      v4 = (void *)sub_41BF8D((int)v3);
    else
      v4 = 0;
    if ( v4 )
    {
      v6 = sub_41BE03((int)v4, a1, lplf);
      if ( v6 >= 0 )
      {
        *(_DWORD *)a3 = v4;
        result = 0;
      }
      else
      {
        sub_41A72E(v4, 1);
        result = v6;
      }
    }
    else
    {
      result = -2147024882;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041A7D5) --------------------------------------------------------
signed int __stdcall sub_41A7D5(int a1, _DWORD *a2)
{
  signed int result; // eax@2
  void *v3; // eax@5
  void *v4; // esi@6
  signed int v5; // edi@10

  if ( a1 )
  {
    if ( a2 )
    {
      v3 = operator new(0x20u);
      if ( v3 )
        v4 = (void *)sub_41CAB9((int)v3);
      else
        v4 = 0;
      if ( v4 )
      {
        v5 = sub_41BFF1((int)v4, a1);
        if ( v5 >= 0 )
        {
          *a2 = v4;
          result = 0;
        }
        else
        {
          sub_41A74A(v4, 1);
          result = v5;
        }
      }
      else
      {
        result = -2147024882;
      }
    }
    else
    {
      result = -2005530516;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041A841) --------------------------------------------------------
int __stdcall sub_41A841(int a1, HANDLE h, int a3)
{
  int result; // eax@2
  char pv; // [sp+0h] [bp-3Ch]@1

  if ( GetObjectA(h, 60, &pv) )
    result = sub_41A766(a1, (LOGFONTA *)&pv, a3);
  else
    result = -2005530516;
  return result;
}

//----- (0041A874) --------------------------------------------------------
_DWORD *__stdcall sub_41A874(int a1)
{
  _DWORD *result; // eax@1

  result = &unk_48B488;
  if ( off_4B1C30 <= &unk_48B488 )
  {
LABEL_4:
    result = &unk_48B460;
  }
  else
  {
    while ( a1 != *result )
    {
      result += 9;
      if ( result >= off_4B1C30 )
        goto LABEL_4;
    }
  }
  return result;
}
// 4B1C30: using guessed type void *off_4B1C30;

//----- (0041A89A) --------------------------------------------------------
unsigned int __fastcall sub_41A89A(int a1, int a2)
{
  unsigned int result; // eax@1
  char *v3; // esi@2
  int v4; // edi@2
  signed int v5; // ebx@2
  unsigned int v6; // ecx@3
  unsigned int v7; // edx@5
  int v8; // [sp+4h] [bp-4h]@2

  result = 0;
  if ( !dword_48BC90[*(_DWORD *)(a2 + 4) + 5 * *(_DWORD *)(a1 + 4)] )
    goto LABEL_18;
  v8 = 0;
  v3 = (char *)(a1 + 12);
  v4 = a2 - a1;
  v5 = 5;
  do
  {
    v6 = *(_DWORD *)v3;
    if ( *(_DWORD *)v3 )
      ++v8;
    v7 = *(_DWORD *)&v3[v4];
    if ( v6 >= v7 )
    {
      if ( v6 > v7 )
      {
        if ( v7 )
          result += (v6 - v7) << 16;
        else
          result += 0x1000000;
      }
    }
    else if ( v6 )
    {
      result += v7 - v6;
    }
    else
    {
      result += 256;
    }
    v3 += 4;
    --v5;
  }
  while ( v5 );
  if ( v8 == result >> 24 )
LABEL_18:
    result = -1;
  return result;
}
// 48BC90: using guessed type int dword_48BC90[];

//----- (0041A90F) --------------------------------------------------------
int __stdcall sub_41A90F(int a1, int a2, int a3, _DWORD *a4)
{
  unsigned int v4; // ebx@5
  _DWORD *v5; // edi@5
  _DWORD *v6; // esi@5
  unsigned int v7; // eax@11
  int v9; // [sp+Ch] [bp-154h]@2
  int v10; // [sp+10h] [bp-150h]@8
  char v11; // [sp+13Ch] [bp-24h]@2
  int v12; // [sp+148h] [bp-18h]@8
  char v13; // [sp+14Ch] [bp-14h]@3
  char v14; // [sp+158h] [bp-8h]@3
  int v15; // [sp+15Ch] [bp-4h]@1

  v15 = 0;
  sub_41CB34(1);
  if ( a1 )
  {
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)a1 + 24))(a1, &v15);
    (*(void (__stdcall **)(int, int *))(*(_DWORD *)a1 + 28))(a1, &v9);
    (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)a1 + 32))(a1, 0, &v11);
    if ( BYTE2(a2) & 0x10 )
    {
      (*(void (__stdcall **)(int, char *))(*(_DWORD *)a1 + 36))(a1, &v13);
      if ( v14 & 0x20 )
        a2 |= 0x10u;
    }
  }
  v4 = -1;
  v5 = &unk_48B460;
  v6 = &unk_48B488;
  if ( off_4B1C30 > &unk_48B488 )
  {
    do
    {
      if ( *v6
        && (!v15
         || (*(int (__stdcall **)(int, int, int, int, int, int, _DWORD))(*(_DWORD *)v15 + 40))(
              v15,
              v10,
              v9,
              v12,
              a2,
              a3,
              *v6) >= 0) )
      {
        if ( *a4 == *v6 )
        {
          v5 = v6;
          break;
        }
        if ( v6[8] )
        {
          v7 = sub_41A89A((int)a4, (int)v6);
          if ( v7 != -1 && v7 <= v4 && (v7 != v4 || v6[2] < v5[2]) )
          {
            v4 = v7;
            v5 = v6;
          }
        }
      }
      v6 += 9;
    }
    while ( v6 < off_4B1C30 );
  }
  if ( v15 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v15 + 8))(v15);
    v15 = 0;
  }
  sub_41CB34(0);
  return *v5;
}
// 4B1C30: using guessed type void *off_4B1C30;

//----- (0041AA0B) --------------------------------------------------------
signed int __stdcall sub_41AA0B(signed int a1)
{
  signed int result; // eax@1
  signed int v2; // [sp-4h] [bp-4h]@3

  result = a1;
  if ( a1 == 909200449 )
  {
    v2 = 51;
  }
  else
  {
    if ( a1 != 909201952 )
      return result;
    v2 = 20;
  }
  return v2;
}

//----- (0041AA27) --------------------------------------------------------
signed int __stdcall sub_41AA27(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  signed int v10; // ebx@1
  int v11; // eax@8
  char v13; // [sp+4h] [bp-70h]@8
  int v14; // [sp+48h] [bp-2Ch]@9
  char v15; // [sp+54h] [bp-20h]@1
  int v16; // [sp+68h] [bp-Ch]@9
  int v17; // [sp+6Ch] [bp-8h]@9
  int v18; // [sp+70h] [bp-4h]@9
  int v19; // [sp+74h] [bp+0h]@9
  int v20; // [sp+78h] [bp+4h]@9
  int v21; // [sp+7Ch] [bp+8h]@9
  int v22; // [sp+80h] [bp+Ch]@9
  int v23; // [sp+84h] [bp+10h]@9
  int v24; // [sp+88h] [bp+14h]@9
  int v25; // [sp+8Ch] [bp+18h]@9
  char v26; // [sp+90h] [bp+1Ch]@9
  int v27; // [sp+ACh] [bp+38h]@9
  int v28; // [sp+B0h] [bp+3Ch]@9
  int v29; // [sp+B4h] [bp+40h]@9
  char v30; // [sp+B8h] [bp+44h]@1

  sub_41EDBA((int)&v30);
  sub_4229A4((int)&v15);
  v10 = 0;
  if ( a1 )
  {
    if ( a4 && a8 )
    {
      if ( a9 == -1 )
        a9 = 524292;
      v11 = sub_422B72(&v15, (int)&v13, a1, a2, a3, 0, 0);
      if ( v11 < 0
        || (v17 = a5,
            v18 = a6,
            v16 = a4,
            v19 = 0,
            v20 = *(_DWORD *)a8,
            v21 = *(_DWORD *)(a8 + 4),
            v22 = *(_DWORD *)(a8 + 8),
            v23 = *(_DWORD *)(a8 + 12),
            v24 = 0,
            v25 = 1,
            qmemcpy(&v26, &v20, 0x18u),
            v27 = v14,
            v28 = a10,
            v29 = a7,
            v11 = sub_422875((int)&v30, (int)&v13, (int)&v16, a9),
            v11 < 0) )
      {
        v10 = v11;
      }
    }
    else
    {
      v10 = -2005530516;
    }
  }
  else
  {
    v10 = -2005530516;
  }
  sub_422B6D(&v15);
  sub_41EDC4((int)&v30);
  return v10;
}
// 422B6D: using guessed type int __thiscall sub_422B6D(_DWORD);

//----- (0041AB0C) --------------------------------------------------------
void *__thiscall sub_41AB0C(void *this)
{
  return this;
}

//----- (0041AB0F) --------------------------------------------------------
signed int __stdcall sub_41AB0F(int a1, int a2, const void *a3, int a4, int a5, int a6, int a7, int a8, const void *a9, int a10, int a11)
{
  signed int v11; // esi@2
  int v12; // eax@7
  char v14; // [sp+4h] [bp-64h]@7
  int v15; // [sp+48h] [bp-20h]@9
  int v16; // [sp+54h] [bp-14h]@9
  int v17; // [sp+58h] [bp-10h]@9
  int v18; // [sp+5Ch] [bp-Ch]@9
  int v19; // [sp+60h] [bp-8h]@9
  char v20; // [sp+64h] [bp-4h]@9
  char v21; // [sp+7Ch] [bp+14h]@9
  int v22; // [sp+98h] [bp+30h]@9
  int v23; // [sp+9Ch] [bp+34h]@9
  int v24; // [sp+A0h] [bp+38h]@9
  char v25; // [sp+A4h] [bp+3Ch]@1
  char v26; // [sp+B0h] [bp+48h]@1

  sub_41EDBA((int)&v25);
  sub_422B45(&v26);
  if ( a1 && a4 && a9 )
  {
    if ( a10 == -1 )
      a10 = 524292;
    v12 = sub_423061(&v26, (int)&v14, a1, a2, a3, 0, 0);
    if ( v12 < 0
      || (v17 = a5,
          v18 = a6,
          v19 = a7,
          v16 = a4,
          qmemcpy(&v20, a9, 0x18u),
          qmemcpy(&v21, a9, 0x18u),
          v22 = v15,
          v23 = a11,
          v24 = a8,
          v12 = sub_422875((int)&v25, (int)&v14, (int)&v16, a10),
          v12 < 0) )
    {
      v11 = v12;
    }
    else
    {
      v11 = 0;
    }
  }
  else
  {
    v11 = -2005530516;
  }
  sub_42305C(&v26);
  sub_41EDC4((int)&v25);
  return v11;
}
// 42305C: using guessed type int __thiscall sub_42305C(_DWORD);

//----- (0041ABE8) --------------------------------------------------------
signed int __fastcall sub_41ABE8(int a1, int a2, unsigned int *a3, unsigned int *a4, unsigned int *a5, int *a6, int a7, int *a8, int a9, int a10)
{
  int v10; // edi@1
  _DWORD *v12; // eax@15
  unsigned int v13; // ebx@23
  int v14; // edx@49
  unsigned int v15; // eax@50
  signed int v16; // eax@60
  signed int v17; // eax@71
  unsigned int v18; // eax@79
  bool v19; // cf@79
  bool v20; // zf@79
  unsigned int v21; // eax@81
  unsigned int v22; // eax@83
  unsigned int v23; // edi@92
  signed int v24; // eax@97
  signed int v25; // ecx@107
  unsigned int v26; // esi@108
  unsigned int i; // eax@108
  unsigned int v28; // ecx@110
  unsigned int j; // eax@110
  unsigned int v30; // eax@112
  unsigned int k; // edx@112
  unsigned int v32; // eax@114
  char v33; // [sp+8h] [bp-140h]@49
  int v34; // [sp+44h] [bp-104h]@49
  unsigned int v35; // [sp+60h] [bp-E8h]@54
  unsigned int v36; // [sp+64h] [bp-E4h]@56
  unsigned int v37; // [sp+68h] [bp-E0h]@50
  int v38; // [sp+70h] [bp-D8h]@61
  unsigned int v39; // [sp+138h] [bp-10h]@29
  int v40; // [sp+13Ch] [bp-Ch]@12
  unsigned int v41; // [sp+140h] [bp-8h]@26
  unsigned int v42; // [sp+144h] [bp-4h]@20

  v10 = a2;
  if ( !a2 )
    return -2005530516;
  if ( a7 == -1 )
    a7 = 0;
  if ( a7 & 0xFFE039EC || a9 && a9 != 1 && a9 != 2 && a9 != 3 )
    return -2005530516;
  if ( a8 )
    v40 = *a8;
  else
    v40 = 0;
  if ( a9 == 3 )
  {
    if ( !v40 )
      v40 = 21;
  }
  else
  {
    v12 = sub_41A874(v40);
    v40 = sub_41A90F(v10, a7, a10, v12);
    if ( !v40 )
      return -2005530518;
  }
  if ( a3 )
    v42 = *a3;
  else
    v42 = -1;
  if ( a4 )
    v13 = *a4;
  else
    v13 = -1;
  if ( a5 )
    v41 = *a5;
  else
    v41 = -1;
  if ( a6 )
    v39 = *a6;
  else
    v39 = -1;
  if ( v42 == -1 )
  {
    if ( v13 == -1 )
    {
      v13 = 256;
      v42 = 256;
      goto LABEL_41;
    }
    v42 = v13;
  }
  else if ( v13 == -1 )
  {
    v13 = v42;
  }
  if ( !v42 )
    v42 = 1;
  if ( !v13 )
    v13 = 1;
LABEL_41:
  if ( a10 == 5 )
  {
    if ( v42 > v13 )
      v13 = v42;
    v42 = v13;
  }
  if ( v41 == -1 || !v41 )
    v41 = 1;
  if ( a9 != 3 )
  {
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)v10 + 28))(v10, &v33);
    v14 = v34;
    if ( a10 == 4 )
    {
      v15 = v37;
      if ( v41 > v37 )
        v41 = v37;
      if ( v42 > v37 )
        v42 = v37;
    }
    else
    {
      if ( v42 > v35 )
        v42 = v35;
      if ( v13 > v36 )
        v13 = v36;
      if ( a10 != 3 )
        goto LABEL_68;
      v16 = v34 & 0x20 ? 1 : v38;
      if ( !v16 )
        goto LABEL_68;
      if ( v42 > v13 * v16 )
        v42 = v13 * v16;
      v15 = v42 * v16;
    }
    if ( v13 > v15 )
      v13 = v15;
LABEL_68:
    switch ( a10 )
    {
      case 3:
        v17 = 2;
        break;
      case 4:
        v17 = 0x40000;
        break;
      case 5:
        v17 = 0x20000;
        break;
      default:
        v17 = a10;
        break;
    }
    if ( v39 == 1 && BYTE1(v14) & 1 )
      v17 = 0;
    if ( v17 & v34 )
    {
      v18 = v42;
      v19 = v42 < 1;
      v20 = v42 == 1;
      v42 = 1;
      if ( !v19 && !v20 )
      {
        do
          v42 *= 2;
        while ( v42 < v18 );
      }
      v21 = v13;
      v19 = v13 < 1;
      v20 = v13 == 1;
      v13 = 1;
      if ( !v19 && !v20 )
      {
        do
          v13 *= 2;
        while ( v13 < v21 );
      }
      v22 = v41;
      v19 = v41 < 1;
      v20 = v41 == 1;
      v41 = 1;
      if ( !v19 && !v20 )
      {
        do
          v41 *= 2;
        while ( v41 < v22 );
      }
    }
    goto LABEL_87;
  }
  v14 = v34;
LABEL_87:
  if ( v40 != 827611204 && v40 != 844388420 && v40 != 861165636 && v40 != 877942852 && v40 != 894720068 )
  {
    v23 = v42;
  }
  else
  {
    v23 = (v42 + 3) & 0xFFFFFFFC;
    v42 = (v42 + 3) & 0xFFFFFFFC;
    v13 = (v13 + 3) & 0xFFFFFFFC;
  }
  switch ( a10 )
  {
    case 3:
      v24 = 0x4000;
      break;
    case 4:
      v24 = 0x8000;
      break;
    case 5:
      v24 = 0x10000;
      break;
    default:
      v24 = a10;
      break;
  }
  if ( a9 != 3 && (!(v24 & v14) || BYTE1(v14) & 1 && ((v23 - 1) & v23 || (v13 - 1) & v13 || (v41 - 1) & v41)) )
  {
    v39 = 1;
    v25 = 1;
  }
  else
  {
    v26 = 0;
    for ( i = v23; i; ++v26 )
      i >>= 1;
    v28 = 0;
    for ( j = v13; j; ++v28 )
      j >>= 1;
    v30 = v41;
    for ( k = 0; v30; ++k )
      v30 >>= 1;
    v32 = v26;
    if ( v26 <= v28 )
      v32 = v28;
    if ( a10 == 4 && k > v32 )
      v32 = k;
    v25 = v39;
    if ( v39 > v32 || !v39 )
      v25 = v32;
    if ( v25 != 1 && BYTE1(a7) & 4 )
      v25 = 0;
  }
  if ( a3 )
    *a3 = v42;
  if ( a4 )
    *a4 = v13;
  if ( a5 )
    *a5 = v41;
  if ( a6 )
    *a6 = v25;
  if ( a8 )
    *a8 = v40;
  return 0;
}

//----- (0041AF46) --------------------------------------------------------
signed int __thiscall sub_41AF46(void *this, int a2, unsigned int *a3, unsigned int *a4, int *a5, int a6, int *a7, int a8)
{
  return sub_41ABE8((int)this, a2, a3, a4, 0, a5, a6, a7, a8, 3);
}

//----- (0041AF6B) --------------------------------------------------------
signed int __thiscall sub_41AF6B(void *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  signed int result; // eax@3
  int v10; // esi@4

  if ( a2 && a9 )
  {
    v10 = a6;
    if ( a6 == -1 )
      v10 = 0;
    result = sub_41AF46(this, a2, (unsigned int *)&a3, (unsigned int *)&a4, &a5, v10, &a7, a8);
    if ( result >= 0 )
    {
      result = (*(int (__stdcall **)(int, int, int, int, unsigned int, int, int, int, _DWORD))(*(_DWORD *)a2 + 92))(
                 a2,
                 a3,
                 a4,
                 a5,
                 v10 & 0xFFE07FFF,
                 a7,
                 a8,
                 a9,
                 0);
      if ( result >= 0 )
        result = 0;
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041AFD9) --------------------------------------------------------
int __stdcall sub_41AFD9(int a1, int a2, int a3, int (__thiscall *a4)(int))
{
  int v4; // edi@1
  int result; // eax@1
  int v6; // esi@2

  v4 = a3 * a2 + a1;
  result = a3 - 1;
  if ( a3 - 1 >= 0 )
  {
    v6 = a3;
    do
    {
      v4 -= a2;
      result = a4(v4);
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (0041B003) --------------------------------------------------------
signed int __userpurge sub_41B003@<eax>(int a1@<edi>, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8, int a9)
{
  signed int v9; // esi@2
  int v10; // ebx@3
  int v11; // edx@12
  int v12; // esi@12
  int v13; // ecx@15
  int v14; // eax@15
  signed int v15; // esi@19
  int v16; // eax@21
  int v17; // eax@26
  int v18; // eax@28
  int v19; // esi@33
  int v21; // [sp-8h] [bp-78h]@3
  int v22; // [sp+4h] [bp-6Ch]@28
  int v23; // [sp+8h] [bp-68h]@30
  int v24; // [sp+Ch] [bp-64h]@30
  char v25; // [sp+2Ch] [bp-44h]@30
  char v26; // [sp+54h] [bp-1Ch]@1
  char v27; // [sp+68h] [bp-8h]@5
  int v28; // [sp+74h] [bp+4h]@19
  int v29; // [sp+80h] [bp+10h]@13
  int v30; // [sp+84h] [bp+14h]@13
  char v31; // [sp+88h] [bp+18h]@5
  int v32; // [sp+94h] [bp+24h]@20
  int v33; // [sp+A0h] [bp+30h]@16
  int v34; // [sp+A4h] [bp+34h]@16
  int v35; // [sp+A8h] [bp+38h]@15
  int v36; // [sp+ACh] [bp+3Ch]@15
  int v37; // [sp+B0h] [bp+40h]@15
  int v38; // [sp+B4h] [bp+44h]@15
  int v39; // [sp+B8h] [bp+48h]@12
  int v40; // [sp+BCh] [bp+4Ch]@12
  int v41; // [sp+C0h] [bp+50h]@12
  int v42; // [sp+C4h] [bp+54h]@12

  sub_4229A4((int)&v26);
  if ( a2 )
  {
    v10 = a5;
    v21 = a1;
    if ( !a5 )
    {
      v9 = -2005530516;
      goto LABEL_36;
    }
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)a2 + 48))(a2, &v27);
    (*(void (__stdcall **)(int, char *))(*(_DWORD *)v10 + 48))(v10, &v31);
    if ( (unsigned __int16)a8 == 5
      || a9
      || a3 != a6 && (!a3 || !a6 || memcmp(a3, a6, 0x400u))
      || (!a4 ? (v11 = v29, v12 = v30, v39 = 0, v40 = 0, v41 = v29, v42 = v30) : (v39 = *(_DWORD *)a4,
                                                                                  v40 = *(_DWORD *)(a4 + 4),
                                                                                  v41 = *(_DWORD *)(a4 + 8),
                                                                                  v42 = *(_DWORD *)(a4 + 12),
                                                                                  v11 = v41,
                                                                                  v12 = v42),
          !a7 ? (v13 = v34, v35 = 0, v36 = 0, v14 = v33, v37 = v33, v38 = v34) : (v35 = *(_DWORD *)a7,
                                                                                  v36 = *(_DWORD *)(a7 + 4),
                                                                                  v37 = *(_DWORD *)(a7 + 8),
                                                                                  v38 = *(_DWORD *)(a7 + 12),
                                                                                  v13 = v38,
                                                                                  v14 = v37,
                                                                                  v12 = v42),
          v11 - v39 != v14 - v35 || v12 - v40 != v13 - v36) )
    {
LABEL_26:
      v17 = 1;
      if ( a2 == v10 )
        v17 = 65537;
      v18 = sub_422B72(&v26, (int)&v22, v10, (int)a6, a7, 0, v17);
      if ( v18 < 0 || (v18 = sub_41AA27(a2, (int)a3, a4, v22, v23, v24, (int)a6, (int)&v25, a8, a9), v18 < 0) )
      {
        v9 = v18;
        goto LABEL_36;
      }
      if ( !v32 )
      {
        if ( v28 )
        {
          (*(void (__stdcall **)(int, int *))(*(_DWORD *)v10 + 12))(v10, &a2);
          v19 = (*(int (__stdcall **)(int))(*(_DWORD *)a2 + 12))(a2);
          (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 8))(a2);
          if ( v19 )
          {
            v9 = -2005530520;
            goto LABEL_36;
          }
        }
      }
LABEL_35:
      v9 = 0;
      goto LABEL_36;
    }
    (*(void (__stdcall **)(int, int *, int))(*(_DWORD *)v10 + 12))(v10, &a5, v21);
    sub_41CB34(1);
    v15 = -2147467259;
    if ( !v28 )
    {
      if ( v32 )
      {
        if ( v32 != 2 )
          goto LABEL_25;
        v16 = (*(int (__stdcall **)(int, int, int *, int, int *))(*(_DWORD *)a5 + 120))(a5, v10, &v35, a2, &v39);
      }
      else
      {
        v16 = (*(int (__stdcall **)(int, int, int *, int, int *, _DWORD))(*(_DWORD *)a5 + 136))(
                a5,
                v10,
                &v35,
                a2,
                &v39,
                0);
      }
      v15 = v16;
    }
LABEL_25:
    sub_41CB34(0);
    (*(void (__cdecl **)(int))(*(_DWORD *)a5 + 8))(a5);
    if ( v15 >= 0 )
      goto LABEL_35;
    goto LABEL_26;
  }
  v9 = -2005530516;
LABEL_36:
  sub_422B6D(&v26);
  return v9;
}
// 41B003: could not find valid save-restore pair for edi
// 422B6D: using guessed type int __thiscall sub_422B6D(_DWORD);

//----- (0041B20B) --------------------------------------------------------
signed int __stdcall sub_41B20B(int a1, int a2, const void *a3, int a4, int a5, const void *a6, int a7, int a8)
{
  signed int v8; // esi@1
  int v9; // eax@4
  int v10; // eax@6
  int v12; // [sp+4h] [bp-54h]@6
  int v13; // [sp+8h] [bp-50h]@7
  int v14; // [sp+Ch] [bp-4Ch]@7
  int v15; // [sp+10h] [bp-48h]@7
  char v16; // [sp+2Ch] [bp-2Ch]@7
  char v17; // [sp+54h] [bp-4h]@1

  sub_422B45(&v17);
  v8 = 0;
  if ( a1 && a4 )
  {
    v9 = 1;
    if ( a1 == a4 )
      v9 = 65537;
    v10 = sub_423061(&v17, (int)&v12, a4, a5, a6, 0, v9);
    if ( v10 < 0 || (v10 = sub_41AB0F(a1, a2, a3, v12, v13, v14, v15, a5, &v16, a7, a8), v10 < 0) )
      v8 = v10;
  }
  else
  {
    v8 = -2005530516;
  }
  sub_42305C(&v17);
  return v8;
}
// 42305C: using guessed type int __thiscall sub_42305C(_DWORD);

//----- (0041B291) --------------------------------------------------------
signed int __stdcall sub_41B291(int a1, const void *a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  int v5; // eax@2
  int v6; // eax@2
  int v7; // eax@3
  int v9; // eax@11
  unsigned int v10; // eax@27
  int v11; // esi@35
  int v12; // eax@39
  int *v13; // edx@40
  int v14; // edi@45
  int v15; // eax@49
  int *v16; // edx@50
  signed int v17; // eax@58
  char v18; // [sp+8h] [bp-60h]@10
  int v19; // [sp+20h] [bp-48h]@10
  int v20; // [sp+24h] [bp-44h]@11
  char v21; // [sp+28h] [bp-40h]@12
  int v22; // [sp+38h] [bp-30h]@12
  int v23; // [sp+3Ch] [bp-2Ch]@13
  int v24; // [sp+40h] [bp-28h]@14
  int v25; // [sp+44h] [bp-24h]@31
  unsigned int v26; // [sp+48h] [bp-20h]@27
  int v27; // [sp+4Ch] [bp-1Ch]@32
  int v28; // [sp+50h] [bp-18h]@6
  int v29; // [sp+54h] [bp-14h]@34
  int v30; // [sp+58h] [bp-10h]@2
  int v31; // [sp+5Ch] [bp-Ch]@31
  int v32; // [sp+60h] [bp-8h]@31
  int v33; // [sp+64h] [bp-4h]@31

  v4 = a1;
  if ( !a1 )
    return -2005530516;
  v5 = (*(int (__stdcall **)(int))(*(_DWORD *)a1 + 40))(a1);
  v30 = v5;
  v6 = v5 - 3;
  if ( v6 )
  {
    v7 = v6 - 1;
    if ( v7 )
    {
      if ( v7 != 1 )
        return -2005530516;
    }
  }
  v28 = v4;
  if ( a4 == -1 )
  {
    if ( v30 == 3 )
    {
      (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 68))(v28, 0, &v18);
      if ( !((v19 - 1) & v19) && !((v20 - 1) & v20) )
      {
LABEL_25:
        a4 = 5;
        goto LABEL_17;
      }
      a4 = 0;
    }
    else
    {
      if ( v30 == 4 )
      {
        (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 68))(v28, 0, &v21);
        if ( (v22 - 1) & v22 || (v23 - 1) & v23 )
          goto LABEL_16;
        v9 = v24;
LABEL_15:
        if ( (v9 - 1) & v9 )
          goto LABEL_16;
        goto LABEL_25;
      }
      if ( v30 == 5 )
      {
        (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)v28 + 68))(v28, 0, &v18);
        if ( (v19 - 1) & v19 )
        {
LABEL_16:
          a4 = 524292;
          goto LABEL_17;
        }
        v9 = v20;
        goto LABEL_15;
      }
    }
    if ( !a4 )
      goto LABEL_16;
    goto LABEL_25;
  }
LABEL_17:
  if ( v30 == 5 )
    BYTE2(a4) |= 7u;
  if ( BYTE2(a4) & 0x20 )
    BYTE2(a4) |= 0x30u;
  else
    BYTE2(a4) &= 0xCFu;
  v10 = (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 52))(v4);
  v26 = v10;
  if ( a3 == -1 )
    a3 = 0;
  if ( a3 >= v10 )
    return -2005530516;
  a1 = 0;
  v32 = 0;
  v33 = 0;
  v31 = 0;
  v25 = v30 != 5 ? 1 : 6;
  if ( (unsigned __int8)a4 == 2 || (v27 = 0, (unsigned __int8)a4 == 5) )
    v27 = 1;
  v29 = 0;
  if ( (unsigned int)v25 > 0 )
  {
    v11 = a4;
    while ( v30 != 3 )
    {
      if ( v30 == 4 )
      {
        v13 = &v32;
LABEL_42:
        v12 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v28 + 72))(v28, a3, v13);
        goto LABEL_43;
      }
      if ( v30 == 5 )
      {
        v12 = (*(int (__stdcall **)(int, int, unsigned int, int *))(*(_DWORD *)v28 + 72))(v28, v29, a3, &a1);
LABEL_43:
        v11 = v12;
      }
      if ( v11 < 0 )
        goto LABEL_80;
      v14 = a3;
      while ( ++v14 < v26 )
      {
        if ( v30 == 3 )
        {
          v16 = &v33;
          goto LABEL_52;
        }
        if ( v30 == 4 )
        {
          v16 = &v31;
LABEL_52:
          v15 = (*(int (__stdcall **)(int, int, int *))(*(_DWORD *)v28 + 72))(v28, v14, v16);
          goto LABEL_53;
        }
        if ( v30 != 5 )
          goto LABEL_54;
        v15 = (*(int (__stdcall **)(int, int, int, int *))(*(_DWORD *)v28 + 72))(v28, v29, v14, &v33);
LABEL_53:
        v11 = v15;
LABEL_54:
        if ( v11 < 0 )
          goto LABEL_80;
        if ( v30 == 3 )
        {
LABEL_58:
          v17 = sub_41B003(v14, v33, a2, 0, a1, a2, 0, a4, 0);
LABEL_59:
          v11 = v17;
          goto LABEL_60;
        }
        if ( v30 == 4 )
        {
          v17 = sub_41B20B(v31, (int)a2, 0, v32, (int)a2, 0, a4, 0);
          goto LABEL_59;
        }
        if ( v30 == 5 )
          goto LABEL_58;
LABEL_60:
        if ( v11 < 0 )
          goto LABEL_80;
        if ( v27 )
        {
          if ( a1 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
            a1 = 0;
          }
          if ( v32 )
            (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
          a1 = v33;
          v33 = 0;
          v32 = v31;
LABEL_72:
          v31 = 0;
        }
        else
        {
          if ( v33 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v33 + 8))(v33);
            v33 = 0;
          }
          if ( v31 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)v31 + 8))(v31);
            goto LABEL_72;
          }
        }
      }
      if ( a1 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
        a1 = 0;
      }
      if ( v32 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
        v32 = 0;
      }
      if ( ++v29 >= (unsigned int)v25 )
        goto LABEL_79;
    }
    v13 = &a1;
    goto LABEL_42;
  }
LABEL_79:
  v11 = 0;
LABEL_80:
  if ( a1 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 8))(a1);
    a1 = 0;
  }
  if ( v32 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v32 + 8))(v32);
    v32 = 0;
  }
  if ( v33 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v33 + 8))(v33);
    v33 = 0;
  }
  if ( v31 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v31 + 8))(v31);
  return v11;
}

//----- (0041B581) --------------------------------------------------------
signed int __stdcall sub_41B581(int a1, char *a2, unsigned int a3, unsigned int i, unsigned int j, unsigned int k, unsigned int a7, int a8, unsigned int a9, int a10, int a11, int a12, int a13, int a14, void *a15, int a16, int *a17)
{
  char *v17; // edi@1
  signed int v18; // edi@2
  signed int v19; // eax@9
  int v20; // eax@13
  int v21; // eax@17
  unsigned int v22; // eax@56
  unsigned int v23; // ecx@56
  int v24; // edx@56
  unsigned int v25; // eax@60
  unsigned int v26; // eax@65
  int v27; // edi@72
  _DWORD *v28; // eax@73
  int v29; // ecx@73
  signed int v30; // eax@79
  bool v31; // zf@83
  int v32; // eax@86
  unsigned int v33; // esi@95
  unsigned int v34; // ebx@95
  int v35; // eax@98
  int v36; // eax@107
  int v37; // ebx@112
  int *v38; // esi@114
  int v39; // eax@120
  int *v40; // ecx@121
  signed int v41; // eax@129
  int v42; // eax@144
  int *v43; // ecx@145
  signed int v44; // eax@153
  int v45; // ecx@167
  int v47[256]; // [sp+8h] [bp-484h]@56
  char v48; // [sp+408h] [bp-84h]@8
  int v49; // [sp+424h] [bp-68h]@1
  int v50; // [sp+42Ch] [bp-60h]@55
  unsigned int v51; // [sp+430h] [bp-5Ch]@22
  unsigned int v52; // [sp+434h] [bp-58h]@30
  unsigned int v53; // [sp+438h] [bp-54h]@38
  int v54; // [sp+470h] [bp-1Ch]@13
  int v55; // [sp+474h] [bp-18h]@17
  int v56; // [sp+478h] [bp-14h]@65
  int v57; // [sp+47Ch] [bp-10h]@65
  int v58; // [sp+480h] [bp-Ch]@65
  int v59; // [sp+484h] [bp-8h]@65
  int v60; // [sp+488h] [bp-4h]@77
  int v61; // [sp+48Ch] [bp+0h]@65
  int v62; // [sp+490h] [bp+4h]@65
  int v63; // [sp+494h] [bp+8h]@65
  int v64; // [sp+498h] [bp+Ch]@65
  int v65; // [sp+49Ch] [bp+10h]@65
  int v66; // [sp+4A0h] [bp+14h]@65
  int v67; // [sp+4A4h] [bp+18h]@65
  int v68; // [sp+4A8h] [bp+1Ch]@65
  int v69; // [sp+4ACh] [bp+20h]@53
  int v70; // [sp+4B0h] [bp+24h]@92
  int v71; // [sp+4B4h] [bp+28h]@1
  int v72; // [sp+4B8h] [bp+2Ch]@1
  int v73; // [sp+4BCh] [bp+30h]@1
  unsigned int v74; // [sp+4CCh] [bp+40h]@16
  unsigned int v75; // [sp+4D0h] [bp+44h]@13

  v17 = (char *)a14;
  sub_41CC04((int)&v49);
  v73 = 0;
  a14 = 0;
  v72 = 0;
  v71 = 0;
  if ( !a1 || !a2 || !a3 || !a17 )
  {
    v18 = -2005530516;
    goto LABEL_176;
  }
  if ( !v17 && a16 == -1 )
    v17 = &v48;
  v19 = sub_41EBD1(&v49, a2, a3, (signed int)v17, 1);
  if ( v19 < 0 )
  {
    v18 = v19;
    goto LABEL_176;
  }
  if ( a16 == -1 )
    a16 = *((_DWORD *)v17 + 5);
  v20 = v54;
  v75 = 1;
  while ( v20 )
  {
    ++v75;
    v20 = *(_DWORD *)(v20 + 76);
  }
  v74 = 1;
  if ( a16 == 5 )
  {
    v21 = v55;
    if ( !v55 )
      goto LABEL_180;
    do
    {
      v21 = *(_DWORD *)(v21 + 80);
      ++v74;
    }
    while ( v21 );
    if ( v74 != 6 )
    {
LABEL_180:
      v18 = -2147467259;
      goto LABEL_176;
    }
  }
  if ( i == -2 || (v51 & 0x80000000) != 0 )
  {
    i = v51;
  }
  else if ( !i || i == -1 )
  {
    for ( i = 1; i < v51; i *= 2 )
      ;
  }
  if ( j == -2 || (v52 & 0x80000000) != 0 )
  {
    j = v52;
  }
  else if ( !j || j == -1 )
  {
    for ( j = 1; j < v52; j *= 2 )
      ;
  }
  if ( k == -2 || (v53 & 0x80000000) != 0 )
  {
    k = v53;
  }
  else if ( !k || k == -1 )
  {
    for ( k = 1; k < v53; k *= 2 )
      ;
  }
  if ( a11 == -1 )
    a11 = 524292;
  if ( a12 == -1 )
    a12 = 5;
  if ( a16 == 5 )
  {
    a11 |= 0x70000u;
    a12 |= 0x70000u;
  }
  if ( (_BYTE)a11 == 1 || (unsigned __int8)a12 == 2 || (v69 = 0, (unsigned __int8)a12 == 5) )
    v69 = 1;
  if ( v50 )
  {
    v22 = a13 & 0xFF00FF00 | ((unsigned __int8)a13 << 16) | BYTE2(a13);
    v23 = 0;
    v24 = v50 - (_DWORD)v47;
    do
    {
      v47[v23] = *(int *)((char *)&v47[v23] + v24) != v22 ? *(int *)((char *)&v47[v23] + v24) : 0;
      ++v23;
    }
    while ( v23 < 0x100 );
    a13 = 0;
    if ( a9 != 41 && v49 == 41 )
    {
      v25 = 0;
      v23 = -256;
      do
      {
        if ( v47[v25] != (v25 | ((v25 | ((v25 | 0xFFFFFF00) << 8)) << 8)) )
          break;
        ++v25;
      }
      while ( v25 < 0x100 );
      if ( v25 == 256 )
      {
        v49 = 50;
      }
      else
      {
        v59 = 255;
        v68 = 255;
        v56 = 0;
        v57 = 85;
        v58 = 170;
        v61 = 0;
        v62 = 36;
        v63 = 73;
        v64 = 109;
        v65 = 146;
        v66 = 182;
        v67 = 219;
        v26 = 0;
        do
        {
          if ( v47[v26] != (*(&v61 + (v26 >> 5)) | ((*(&v61 + ((v26 >> 2) & 7)) | ((*(&v56 + (v26 & 3)) | 0xFFFFFF00) << 8)) << 8)) )
            break;
          ++v26;
        }
        while ( v26 < 0x100 );
        if ( v26 == 256 )
          v49 = 27;
      }
    }
  }
  else
  {
    memset(v47, 0xFFu, sizeof(v47));
    v23 = 0;
  }
  if ( !a9 )
  {
    v27 = v49;
    if ( a13 )
    {
      v28 = sub_41A874(v49);
      v29 = v28[1];
      if ( (!v29 || v29 == 1 || v29 == 2) && !v28[4] )
      {
        qmemcpy(&v60, v28, 0x24u);
        v60 = 0;
        v64 = 1;
        v27 = sub_41A90F(0, a8, a16, &v60);
        if ( !v27 )
          v27 = v49;
      }
    }
    v30 = sub_41AA0B(v27);
    a9 = v30;
    if ( a10 != 3 && v30 == 20 )
      a9 = 22;
  }
  if ( !a15 || (v31 = v50 == 0, qmemcpy(a15, v47, 0x400u), v23 = 0, v31) )
  {
    if ( a9 == 40 )
    {
LABEL_90:
      a9 = 21;
      goto LABEL_91;
    }
    if ( a9 == 41 )
    {
      a9 = 22;
      v32 = 0;
      while ( BYTE3(v47[v32]) == -1 )
      {
        if ( (unsigned int)++v32 >= 0x100 )
          goto LABEL_91;
      }
      goto LABEL_90;
    }
  }
LABEL_91:
  if ( a10 || (v70 = 1, BYTE1(a8) & 2) )
    v70 = 0;
  v18 = sub_41ABE8(v23, a1, &i, &j, &k, (int *)&a7, a8, (int *)&a9, a10, a16);
  if ( v18 < 0 )
    goto LABEL_168;
  v33 = a9;
  v34 = i;
  if ( a16 == 3 )
  {
    v35 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, int, int *, _DWORD))(*(_DWORD *)a1 + 92))(
            a1,
            i,
            j,
            a7,
            a8 & 0xFFE07FFF,
            a9,
            a10,
            &v72,
            0);
  }
  else if ( a16 == 4 )
  {
    v35 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int, int, int *, _DWORD))(*(_DWORD *)a1 + 96))(
            a1,
            i,
            j,
            k,
            a7,
            a8 & 0xFFE07FFF,
            a9,
            a10,
            &v72,
            0);
  }
  else
  {
    if ( a16 != 5 )
      goto LABEL_102;
    v35 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, int, int *, _DWORD))(*(_DWORD *)a1 + 100))(
            a1,
            i,
            a7,
            a8 & 0xFFE07FFF,
            a9,
            a10,
            &v72,
            0);
  }
  v18 = v35;
LABEL_102:
  if ( v18 < 0 )
    goto LABEL_168;
  if ( !v70 )
  {
    v37 = v72;
    goto LABEL_114;
  }
  if ( a16 == 3 )
  {
    v36 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, _DWORD, unsigned int, signed int, int *, _DWORD))(*(_DWORD *)a1 + 92))(
            a1,
            v34,
            j,
            a7,
            0,
            v33,
            2,
            &v71,
            0);
  }
  else if ( a16 == 4 )
  {
    v36 = (*(int (__stdcall **)(int, unsigned int, unsigned int, unsigned int, unsigned int, _DWORD, unsigned int, signed int, int *, _DWORD))(*(_DWORD *)a1 + 96))(
            a1,
            v34,
            j,
            k,
            a7,
            0,
            v33,
            2,
            &v71,
            0);
  }
  else
  {
    if ( a16 != 5 )
      goto LABEL_111;
    v36 = (*(int (__stdcall **)(int, unsigned int, unsigned int, _DWORD, unsigned int, signed int, int *, _DWORD))(*(_DWORD *)a1 + 100))(
            a1,
            v34,
            a7,
            0,
            v33,
            2,
            &v71,
            0);
  }
  v18 = v36;
LABEL_111:
  if ( v18 >= 0 )
  {
    v37 = v71;
LABEL_114:
    a9 = 0;
    v38 = &v49;
    k = (unsigned int)&v49;
    if ( v74 )
    {
      while ( 1 )
      {
        j = 0;
        if ( v75 )
        {
          while ( 1 )
          {
            if ( j >= a7 )
              goto LABEL_139;
            if ( a16 == 3 )
              break;
            if ( a16 == 4 )
            {
              v40 = &v73;
LABEL_123:
              v39 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, j, v40);
              goto LABEL_124;
            }
            if ( a16 != 5 )
              goto LABEL_125;
            v39 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, a9, j, &a14);
LABEL_124:
            v18 = v39;
LABEL_125:
            if ( v18 < 0 )
              goto LABEL_168;
            if ( a16 != 3 )
            {
              if ( a16 == 4 )
              {
                v41 = sub_41AB0F(v73, (int)a15, 0, v38[1], *v38, v38[12], v38[13], (int)v47, v38 + 6, a11, a13);
                goto LABEL_130;
              }
              if ( a16 != 5 )
                goto LABEL_131;
            }
            v41 = sub_41AA27(a14, (int)a15, 0, v38[1], *v38, v38[12], (int)v47, (int)(v38 + 6), a11, a13);
LABEL_130:
            v18 = v41;
LABEL_131:
            if ( v18 < 0 )
              goto LABEL_168;
            if ( v73 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)v73 + 8))(v73);
              v73 = 0;
            }
            if ( a14 )
            {
              (*(void (__stdcall **)(int))(*(_DWORD *)a14 + 8))(a14);
              a14 = 0;
            }
            if ( ++j >= v75 )
              goto LABEL_139;
            v38 = (int *)v38[19];
          }
          v40 = &a14;
          goto LABEL_123;
        }
LABEL_139:
        if ( !v69 && j < a7 )
          break;
LABEL_161:
        v38 = *(int **)(k + 80);
        ++a9;
        k = (unsigned int)v38;
        if ( a9 >= v74 )
          goto LABEL_162;
      }
      while ( a16 != 3 )
      {
        if ( a16 == 4 )
        {
          v43 = &v73;
LABEL_147:
          v42 = (*(int (__stdcall **)(int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, j, v43);
          goto LABEL_148;
        }
        if ( a16 != 5 )
          goto LABEL_149;
        v42 = (*(int (__stdcall **)(int, unsigned int, unsigned int, int *))(*(_DWORD *)v37 + 72))(v37, a9, j, &a14);
LABEL_148:
        v18 = v42;
LABEL_149:
        if ( v18 < 0 )
          goto LABEL_168;
        if ( a16 == 3 )
        {
LABEL_153:
          v44 = sub_41AA27(a14, (int)a15, 0, v38[1], *v38, v38[12], (int)v47, (int)(v38 + 6), a11, a13);
LABEL_154:
          v18 = v44;
          goto LABEL_155;
        }
        if ( a16 == 4 )
        {
          v44 = sub_41AB0F(v73, (int)a15, 0, v38[1], *v38, v38[12], v38[13], (int)v47, v38 + 6, a11, a13);
          goto LABEL_154;
        }
        if ( a16 == 5 )
          goto LABEL_153;
LABEL_155:
        if ( v18 < 0 )
          goto LABEL_168;
        if ( v73 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v73 + 8))(v73);
          v73 = 0;
        }
        if ( a14 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)a14 + 8))(a14);
          a14 = 0;
        }
        if ( ++j >= a7 )
          goto LABEL_161;
      }
      v43 = &a14;
      goto LABEL_147;
    }
LABEL_162:
    if ( !v69 || v75 >= a7 || (v18 = sub_41B291(v37, v47, v75 - 1, a12), v18 >= 0) )
    {
      if ( !v70 || (v18 = (*(int (__stdcall **)(int, int, int))(*(_DWORD *)a1 + 124))(a1, v71, v72), v18 >= 0) )
      {
        v45 = v72;
        v72 = 0;
        *a17 = v45;
        v18 = 0;
      }
    }
  }
LABEL_168:
  if ( v73 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v73 + 8))(v73);
    v73 = 0;
  }
  if ( a14 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)a14 + 8))(a14);
    a14 = 0;
  }
  if ( v72 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v72 + 8))(v72);
    v72 = 0;
  }
  if ( v71 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v71 + 8))(v71);
    v71 = 0;
  }
LABEL_176:
  sub_41CC1D((int)&v49);
  return v18;
}
// 41B581: using guessed type int var_4B8[256];

//----- (0041BCFB) --------------------------------------------------------
signed int __stdcall sub_41BCFB(int a1, char *a2, unsigned int a3, unsigned int a4, unsigned int a5, unsigned int a6, int a7, unsigned int a8, int a9, int a10, int a11, int a12, int a13, void *a14, int *a15)
{
  return sub_41B581(a1, a2, a3, a4, a5, 1u, a6, a7, a8, a9, a10, a11, a12, a13, a14, 3, a15);
}

//----- (0041BD38) --------------------------------------------------------
int __stdcall sub_41BD38(int a1, HMODULE hModule, LPCWSTR lpName, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15)
{
  int v15; // eax@1
  int v16; // esi@3
  HGDIOBJ v18; // [sp+4h] [bp-Ch]@1
  char *v19; // [sp+8h] [bp-8h]@2
  unsigned int v20; // [sp+Ch] [bp-4h]@2

  unknown_libname_93(&v18);
  v15 = sub_42E746(&v18, hModule, lpName, 1, 0);
  if ( v15 >= 0 )
    v15 = sub_41BCFB(a1, v19, v20, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, (void *)a14, (int *)a15);
  v16 = v15;
  Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam::~InitialThreadParam((Concurrency::details::UMSFreeVirtualProcessorRoot::InitialThreadParam *)&v18);
  return v16;
}
// 41EDF5: using guessed type int __thiscall unknown_libname_93(_DWORD);

//----- (0041BDA0) --------------------------------------------------------
int __stdcall sub_41BDA0(int a1, HMODULE hModule, LPCWSTR lpName, int a4)
{
  return sub_41BD38(a1, hModule, lpName, -1, -1, -1, 0, 0, 1, -1, -1, 0, 0, 0, a4);
}

//----- (0041BDC9) --------------------------------------------------------
int __thiscall sub_41BDC9(int this)
{
  int v1; // esi@1
  int v2; // ecx@1
  int result; // eax@3
  int v4; // esi@5

  v1 = this;
  v2 = *(_DWORD *)(this + 72);
  *(_DWORD *)v1 = &off_48BD08;
  if ( v2 )
  {
    sub_42EAFF(v2);
    sub_42EB22(*(void **)(v1 + 72));
  }
  result = *(_DWORD *)(v1 + 8);
  if ( result )
    result = DeleteObject(*(HGDIOBJ *)(v1 + 8));
  v4 = *(_DWORD *)(v1 + 76);
  if ( v4 )
    result = (*(int (__stdcall **)(int))(*(_DWORD *)v4 + 8))(v4);
  return result;
}
// 48BD08: using guessed type int (__stdcall *off_48BD08)(int, int, int);

//----- (0041BE03) --------------------------------------------------------
int __thiscall sub_41BE03(int this, int a2, LOGFONTA *lplf)
{
  int v3; // esi@1
  int result; // eax@3
  HFONT v5; // eax@4

  v3 = this;
  if ( a2 && lplf )
  {
    result = sub_42F186(a2, (int *)(this + 72));
    if ( result >= 0 )
    {
      v5 = CreateFontIndirectA(lplf);
      *(_DWORD *)(v3 + 8) = v5;
      if ( v5 )
      {
        *(_DWORD *)(v3 + 76) = a2;
        (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
        qmemcpy((void *)(v3 + 12), lplf, 0x3Cu);
        result = 0;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041BE5F) --------------------------------------------------------
signed int __stdcall sub_41BE5F(int a1, _DWORD *a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *a2 = *(_DWORD *)(a1 + 76);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 76) + 4))(*(_DWORD *)(a1 + 76));
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041BE85) --------------------------------------------------------
signed int __stdcall sub_41BE85(int a1, void *a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    qmemcpy(a2, (const void *)(a1 + 12), 0x3Cu);
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041BEA9) --------------------------------------------------------
signed int __userpurge sub_41BEA9@<eax>(int a1@<ebx>, int a2@<edi>, int a3)
{
  return sub_42E92C(*(_DWORD *)(a3 + 72), a1, a2);
}

//----- (0041BEB8) --------------------------------------------------------
signed int __stdcall sub_41BEB8(int a1)
{
  return sub_42E9AD(*(_DWORD *)(a1 + 72));
}

//----- (0041BEC7) --------------------------------------------------------
HGDIOBJ __stdcall sub_41BEC7(int a1, LPCWSTR lpWideCharStr, int cchWideChar, int a4, UINT format, int a6)
{
  return sub_42EC6F(*(void **)(a1 + 72), *(HGDIOBJ *)(a1 + 8), lpWideCharStr, cchWideChar, a4, format, a6, 0);
}

//----- (0041BEED) --------------------------------------------------------
HGDIOBJ __stdcall sub_41BEED(int a1, LPCWSTR lpWideCharStr, int cchWideChar, int a4, UINT format, int a6)
{
  return sub_42EC6F(*(void **)(a1 + 72), *(HGDIOBJ *)(a1 + 8), lpWideCharStr, cchWideChar, a4, format, a6, (LPSTR)1);
}

//----- (0041BF13) --------------------------------------------------------
int __stdcall sub_41BF13(int a1)
{
  return sub_42E9D7(*(_DWORD *)(a1 + 72));
}

//----- (0041BF22) --------------------------------------------------------
signed int __stdcall sub_41BF22(int a1)
{
  return sub_42EA45(*(_DWORD *)(a1 + 72));
}

//----- (0041BF31) --------------------------------------------------------
signed int __stdcall sub_41BF31(int a1, const void *a2, _DWORD *a3)
{
  signed int result; // eax@3

  if ( !memcmp(a2, &unk_48EA44, 0x10u) || !memcmp(a2, &dword_4A3588, 0x10u) )
  {
    *a3 = a1;
    (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 4))(a1);
    result = 0;
  }
  else
  {
    result = -2147467262;
  }
  return result;
}
// 4A3588: using guessed type int dword_4A3588;

//----- (0041BF75) --------------------------------------------------------
int __stdcall sub_41BF75(void *a1)
{
  bool v1; // zf@1
  int result; // eax@1

  v1 = (*((_DWORD *)a1 + 1))-- == 1;
  result = *((_DWORD *)a1 + 1);
  if ( v1 )
  {
    sub_41A72E(a1, 1);
    result = 0;
  }
  return result;
}

//----- (0041BF8D) --------------------------------------------------------
int __thiscall sub_41BF8D(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_48BD08;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 72) = 0;
  *(_DWORD *)(this + 76) = 0;
  return result;
}
// 48BD08: using guessed type int (__stdcall *off_48BD08)(int, int, int);

//----- (0041BFA8) --------------------------------------------------------
void __thiscall sub_41BFA8(int this)
{
  int v1; // esi@1
  bool v2; // zf@1
  int v3; // eax@2
  int v4; // eax@4

  v1 = this;
  v2 = *(_DWORD *)(this + 8) == 0;
  *(_DWORD *)this = &off_48BD34;
  if ( !v2 )
  {
    v3 = *(_DWORD *)(this + 20);
    if ( v3 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(this + 20));
      *(_DWORD *)(v1 + 20) = 0;
    }
    v4 = *(_DWORD *)(v1 + 16);
    if ( v4 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(v1 + 16));
      *(_DWORD *)(v1 + 16) = 0;
    }
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 8) + 8))(*(_DWORD *)(v1 + 8));
  }
}
// 48BD34: using guessed type int (__stdcall *off_48BD34)(int, int, int);

//----- (0041BFE4) --------------------------------------------------------
int __stdcall sub_41BFE4(int a1)
{
  return ++*(_DWORD *)(a1 + 4);
}

//----- (0041BFF1) --------------------------------------------------------
signed int __thiscall sub_41BFF1(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  int v4; // eax@5
  bool v5; // zf@7
  int v6; // eax@9
  char v7; // [sp+4h] [bp-140h]@3
  char v8; // [sp+25h] [bp-11Fh]@3
  char v9; // [sp+30h] [bp-114h]@7
  char v10; // [sp+34h] [bp-110h]@8
  char v11; // [sp+134h] [bp-10h]@3
  char v12; // [sp+140h] [bp-4h]@4

  v2 = this;
  if ( a2 )
  {
    *(_DWORD *)(this + 8) = a2;
    (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
    (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 8) + 28))(*(_DWORD *)(v2 + 8), &v7);
    (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 8) + 36))(*(_DWORD *)(v2 + 8), &v11);
    v4 = v8 & 2 || v12 & 0x10;
    v5 = (v9 & 0x10) == 0;
    *(_DWORD *)(v2 + 28) = v4;
    v6 = !v5 && v10 & 0x20;
    *(_DWORD *)(v2 + 24) = v6;
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041C06D) --------------------------------------------------------
signed int __stdcall sub_41C06D(int a1, _DWORD *a2)
{
  signed int result; // eax@2

  if ( a2 )
  {
    *a2 = *(_DWORD *)(a1 + 8);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 8) + 4))(*(_DWORD *)(a1 + 8));
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041C093) --------------------------------------------------------
signed int __stdcall sub_41C093(int a1)
{
  signed int result; // eax@2

  if ( *(_DWORD *)(a1 + 12) )
  {
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(a1 + 16) + 20))(*(_DWORD *)(a1 + 16));
    *(_DWORD *)(a1 + 12) = 0;
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0041C0B8) --------------------------------------------------------
int __stdcall sub_41C0B8(int a1)
{
  int v1; // eax@2
  int v2; // eax@4

  if ( *(_DWORD *)(a1 + 8) )
  {
    v1 = *(_DWORD *)(a1 + 20);
    if ( v1 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v1 + 8))(*(_DWORD *)(a1 + 20));
      *(_DWORD *)(a1 + 20) = 0;
    }
    v2 = *(_DWORD *)(a1 + 16);
    if ( v2 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v2 + 8))(*(_DWORD *)(a1 + 16));
      *(_DWORD *)(a1 + 16) = 0;
    }
  }
  return 0;
}

//----- (0041C0EB) --------------------------------------------------------
signed int __stdcall sub_41C0EB(int a1, const void *a2, _DWORD *a3)
{
  signed int result; // eax@3

  if ( !memcmp(a2, &unk_48EA34, 0x10u) || !memcmp(a2, &dword_4A3588, 0x10u) )
  {
    *a3 = a1;
    (*(void (__stdcall **)(int))(*(_DWORD *)a1 + 4))(a1);
    result = 0;
  }
  else
  {
    result = -2147467262;
  }
  return result;
}
// 4A3588: using guessed type int dword_4A3588;

//----- (0041C12F) --------------------------------------------------------
int __stdcall sub_41C12F(void *a1)
{
  bool v1; // zf@1
  int result; // eax@1

  v1 = (*((_DWORD *)a1 + 1))-- == 1;
  result = *((_DWORD *)a1 + 1);
  if ( v1 )
  {
    sub_41A74A(a1, 1);
    result = 0;
  }
  return result;
}

//----- (0041C147) --------------------------------------------------------
signed int __userpurge sub_41C147@<eax>(int a1@<ebx>, int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  int v4; // eax@6
  int *v5; // eax@10
  int v6; // ecx@10
  int v7; // ecx@14
  double v8; // st6@17
  int v9; // ST88_4@17
  int v10; // [sp+90h] [bp-68h]@3
  signed int v11; // [sp+94h] [bp-64h]@0
  signed int v12; // [sp+98h] [bp-60h]@0
  float v13; // [sp+9Ch] [bp-5Ch]@6
  float v14; // [sp+A0h] [bp-58h]@6
  float v15; // [sp+A4h] [bp-54h]@6
  float v16; // [sp+A8h] [bp-50h]@6
  float v17; // [sp+ACh] [bp-4Ch]@6
  float v18; // [sp+B0h] [bp-48h]@6
  float v19; // [sp+B4h] [bp-44h]@6
  float v20; // [sp+B8h] [bp-40h]@6
  float v21; // [sp+BCh] [bp-3Ch]@6
  float v22; // [sp+C0h] [bp-38h]@6
  float v23; // [sp+C4h] [bp-34h]@6
  float v24; // [sp+C8h] [bp-30h]@6
  float v25; // [sp+CCh] [bp-2Ch]@6
  float v26; // [sp+D0h] [bp-28h]@6
  float v27; // [sp+D4h] [bp-24h]@6
  float v28; // [sp+D8h] [bp-20h]@6
  unsigned int v29; // [sp+DCh] [bp-1Ch]@17
  unsigned int v30; // [sp+E0h] [bp-18h]@17
  unsigned int v31; // [sp+E4h] [bp-14h]@17
  unsigned int v32; // [sp+E8h] [bp-10h]@17
  unsigned int v33; // [sp+F4h] [bp-4h]@17
  unsigned int v34; // [sp+100h] [bp+8h]@4
  float v35; // [sp+100h] [bp+8h]@17

  v2 = a2;
  if ( *(_DWORD *)(a2 + 12) )
  {
    result = -2005530516;
  }
  else
  {
    v10 = a1;
    if ( !*(_DWORD *)(a2 + 16) )
    {
      v34 = 0;
      do
      {
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v2 + 8) + 240))(*(_DWORD *)(v2 + 8), v10);
        (*(void (__stdcall **)(_DWORD, int))(**(_DWORD **)(v2 + 8) + 356))(
          *(_DWORD *)(v2 + 8),
          2 * (*(_DWORD *)(v2 + 28) != 0) + 322);
        (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 368))(*(_DWORD *)(v2 + 8), 0);
        if ( !*(_DWORD *)(v2 + 28) )
        {
          v4 = *(_DWORD *)(v2 + 8);
          v27 = 0.0;
          v26 = 0.0;
          v25 = 0.0;
          v24 = 0.0;
          v22 = 0.0;
          v21 = 0.0;
          v20 = 0.0;
          v19 = 0.0;
          v17 = 0.0;
          v16 = 0.0;
          v15 = 0.0;
          v14 = 0.0;
          v28 = 1.0;
          v23 = 1.0;
          v18 = 1.0;
          v13 = 1.0;
          (*(void (__stdcall **)(int, signed int, float *))(*(_DWORD *)v4 + 176))(v4, 2, &v13);
          (*(void (__stdcall **)(_DWORD, signed int, float *))(**(_DWORD **)(v2 + 8) + 176))(
            *(_DWORD *)(v2 + 8),
            3,
            &v13);
          if ( !v34 )
            (*(void (__stdcall **)(_DWORD, signed int, float *))(**(_DWORD **)(v2 + 8) + 176))(
              *(_DWORD *)(v2 + 8),
              256,
              &v13);
        }
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 7, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 8, 3);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
          *(_DWORD *)(v2 + 8),
          22,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 128, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
          *(_DWORD *)(v2 + 8),
          136,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 151, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 152, 0);
        (*(void (__stdcall **)(_DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 316))(*(_DWORD *)(v2 + 8), 0.0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 167, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 184, 0);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 194, 0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
          *(_DWORD *)(v2 + 8),
          168,
          15);
        if ( !*(_DWORD *)(v2 + 28) )
        {
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 28, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 29, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 52, 0);
          (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8), 137, 0);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
            *(_DWORD *)(v2 + 8),
            145,
            1);
        }
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int, signed int))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          1,
          4,
          v11);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          2,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          3,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          4,
          4);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          5,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          6,
          0);
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          1,
          1,
          1);
        (*(void (__stdcall **)(_DWORD, signed int, signed int, signed int))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          1,
          4,
          1);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 276))(
          *(_DWORD *)(v2 + 8),
          0,
          5,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 276))(
          *(_DWORD *)(v2 + 8),
          0,
          6,
          2);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 276))(
          *(_DWORD *)(v2 + 8),
          0,
          7,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          11,
          0);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 276))(
          *(_DWORD *)(v2 + 8),
          0,
          1,
          3);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 276))(
          *(_DWORD *)(v2 + 8),
          0,
          2,
          3);
        (*(void (__stdcall **)(_DWORD, _DWORD, signed int, _DWORD))(**(_DWORD **)(v2 + 8) + 268))(
          *(_DWORD *)(v2 + 8),
          0,
          24,
          0);
        v5 = *(int **)(v2 + 8);
        v6 = *v5;
        if ( *(_DWORD *)(v2 + 24) )
        {
          (*(void (__stdcall **)(int *, signed int, signed int, signed int))(v6 + 228))(v5, 27, 1, v12);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
            *(_DWORD *)(v2 + 8),
            19,
            5);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
            *(_DWORD *)(v2 + 8),
            20,
            6);
          v12 = 1;
          v11 = 171;
        }
        else
        {
          (*(void (__stdcall **)(int *, signed int, signed int, signed int))(v6 + 228))(v5, 15, 1, v12);
          (*(void (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(v2 + 8) + 228))(
            *(_DWORD *)(v2 + 8),
            25,
            7);
          v12 = 127;
          v11 = 24;
        }
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 8) + 228))(*(_DWORD *)(v2 + 8));
        if ( v34 )
        {
          v7 = v2 + 20;
        }
        else
        {
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 260))(*(_DWORD *)(v2 + 8), 0, 0);
          (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v2 + 8) + 400))(
            *(_DWORD *)(v2 + 8),
            0,
            0,
            0,
            0);
          v7 = v2 + 16;
        }
        v10 = v7;
        (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 8) + 244))(*(_DWORD *)(v2 + 8));
        ++v34;
      }
      while ( v34 < 2 );
    }
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 16) + 16))(*(_DWORD *)(v2 + 16));
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v2 + 20) + 20))(*(_DWORD *)(v2 + 20));
    if ( !*(_DWORD *)(v2 + 28) )
    {
      (*(void (__stdcall **)(_DWORD, int *, int))(**(_DWORD **)(v2 + 8) + 192))(*(_DWORD *)(v2 + 8), (int *)&v29, v10);
      v8 = 1.0 / (double)v31;
      memset(&v13, 0, 0x40u);
      v33 = v29;
      v35 = 1.0 / (double)v32;
      v13 = v8 + v8;
      v25 = (double)v29 * v8 * -2.0 - v8 - 1.0;
      v18 = v35 * -2.0;
      v9 = *(_DWORD *)(v2 + 8);
      v26 = ((double)v30 + (double)v30 + 1.0) * v35 + 1.0;
      v28 = 1.0;
      (*(void (__stdcall **)(int, signed int))(*(_DWORD *)v9 + 176))(v9, 256);
    }
    *(_DWORD *)(v2 + 12) = 1;
    result = 0;
  }
  return result;
}
// 41C147: could not find valid save-restore pair for ebx

//----- (0041C5EC) --------------------------------------------------------
int __stdcall sub_41C5EC(int a1, int a2, int a3, int a4, int a5, float a6, int a7, int a8)
{
  double v8; // st7@5
  float *v9; // eax@10
  char v11; // [sp+8h] [bp-74h]@12
  float v12; // [sp+48h] [bp-34h]@6
  float v13; // [sp+4Ch] [bp-30h]@6
  float v14; // [sp+50h] [bp-2Ch]@6
  float v15; // [sp+54h] [bp-28h]@6
  int v16; // [sp+58h] [bp-24h]@2
  int v17; // [sp+5Ch] [bp-20h]@2
  float v18; // [sp+60h] [bp-1Ch]@2
  int v19; // [sp+64h] [bp-18h]@4
  int v20; // [sp+68h] [bp-14h]@4
  float v21; // [sp+6Ch] [bp-10h]@4
  int v22; // [sp+70h] [bp-Ch]@8
  int v23; // [sp+74h] [bp-8h]@8
  float v24; // [sp+78h] [bp-4h]@8

  if ( a4 )
  {
    v16 = *(_DWORD *)a4;
    v18 = 1.0;
    v17 = *(_DWORD *)(a4 + 4);
  }
  if ( a5 )
  {
    v19 = *(_DWORD *)a5;
    v21 = 0.0;
    v20 = *(_DWORD *)(a5 + 4);
  }
  v8 = a6;
  if ( a6 != 0.0 )
  {
    v12 = 0.0;
    v13 = 0.0;
    v14 = sin(-0.5 * v8);
    v15 = cos(-0.5 * v8);
  }
  if ( a7 )
  {
    v22 = *(_DWORD *)a7;
    v24 = 0.0;
    v23 = *(_DWORD *)(a7 + 4);
  }
  if ( v8 == 0.0 )
    v9 = 0;
  else
    v9 = &v12;
  sub_42C413(
    &v11,
    0,
    0,
    a4 != 0 ? (unsigned int)&v16 : 0,
    a5 != 0 ? (unsigned int)&v19 : 0,
    v9,
    a7 != 0 ? (unsigned int)&v22 : 0);
  return (*(int (__stdcall **)(int, int, int, char *, int))(*(_DWORD *)a1 + 24))(a1, a2, a3, &v11, a8);
}
// 42C413: using guessed type int __stdcall sub_42C413(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0041C6C3) --------------------------------------------------------
int __stdcall sub_41C6C3(int a1, int a2, int a3, int a4, int a5)
{
  int result; // eax@2
  int v6; // edi@8
  int v7; // ebx@28
  int v8; // esi@30
  double v9; // st7@32
  double v10; // st6@32
  bool v11; // zf@32
  double v12; // st5@32
  double v13; // st4@32
  float *v14; // esi@33
  signed int v15; // edi@33
  int *v16; // esi@39
  signed int v17; // edi@39
  int v18; // eax@37
  int v19; // eax@45
  int v20; // [sp+4h] [bp-44h]@3
  int v21; // [sp+1Ch] [bp-2Ch]@6
  int v22; // [sp+20h] [bp-28h]@9
  float v23; // [sp+24h] [bp-24h]@33
  float v24; // [sp+28h] [bp-20h]@33
  float v25; // [sp+2Ch] [bp-1Ch]@33
  float v26; // [sp+30h] [bp-18h]@33
  float v27; // [sp+34h] [bp-14h]@33
  float v28; // [sp+38h] [bp-10h]@33
  float v29; // [sp+3Ch] [bp-Ch]@33
  float v30; // [sp+40h] [bp-8h]@33
  int v31; // [sp+44h] [bp-4h]@33
  float v32; // [sp+48h] [bp+0h]@33
  float v33; // [sp+4Ch] [bp+4h]@33
  int v34; // [sp+50h] [bp+8h]@33
  float v35; // [sp+54h] [bp+Ch]@33
  int v36; // [sp+58h] [bp+10h]@33
  int v37; // [sp+5Ch] [bp+14h]@33
  int v38; // [sp+60h] [bp+18h]@33
  float v39; // [sp+64h] [bp+1Ch]@33
  int v40; // [sp+68h] [bp+20h]@33
  float v41; // [sp+6Ch] [bp+24h]@33
  int v42; // [sp+70h] [bp+28h]@33
  int v43; // [sp+74h] [bp+2Ch]@33
  int v44; // [sp+78h] [bp+30h]@33
  float v45; // [sp+7Ch] [bp+34h]@33
  float v46; // [sp+80h] [bp+38h]@33
  float v47; // [sp+84h] [bp+3Ch]@33
  int v48; // [sp+88h] [bp+40h]@33
  int v49; // [sp+8Ch] [bp+44h]@33
  int v50; // [sp+90h] [bp+48h]@33
  int v51; // [sp+94h] [bp+4Ch]@28
  int v52; // [sp+98h] [bp+50h]@32
  int v53; // [sp+9Ch] [bp+54h]@4
  int v54; // [sp+A0h] [bp+58h]@4
  int v55; // [sp+A4h] [bp+5Ch]@4
  int v56; // [sp+A8h] [bp+60h]@4
  float v57; // [sp+B4h] [bp+6Ch]@32
  float v58; // [sp+B8h] [bp+70h]@32
  int v59; // [sp+B8h] [bp+70h]@32
  signed int v60; // [sp+BCh] [bp+74h]@12
  int v61; // [sp+BCh] [bp+74h]@32

  if ( !a2 )
    return -2005530516;
  (*(void (__stdcall **)(int, _DWORD, int *))(*(_DWORD *)a2 + 68))(a2, 0, &v20);
  if ( a3 )
  {
    v53 = *(int *)a3;
    v54 = *(int *)(a3 + 4);
    v55 = *(int *)(a3 + 8);
    v56 = *(int *)(a3 + 12);
    if ( v53 < 0 )
      return -2005530516;
    if ( v53 > v55 )
      return -2005530516;
    if ( v53 > v21 )
      return -2005530516;
    if ( v54 < 0 )
      return -2005530516;
    v6 = v56;
    if ( v54 > v56 || v54 > v22 )
      return -2005530516;
  }
  else
  {
    v6 = v22;
    *(float *)&v53 = 0.0;
    *(float *)&v54 = 0.0;
    v55 = v21;
    v56 = v22;
  }
  v60 = (a5 & 0xFF000000) != -16777216;
  if ( (a5 & 0xFF000000) == -16777216 )
  {
    if ( v20 <= 52 )
    {
      if ( v20 < 51 && v20 != 21 && (v20 <= 24 || v20 > 26 && (v20 <= 27 || v20 > 29 && (v20 <= 39 || v20 > 41))) )
        goto LABEL_28;
LABEL_27:
      v60 = 1;
      goto LABEL_28;
    }
    if ( v20 == 844388420 || v20 == 861165636 || v20 == 877942852 || v20 == 894720068 )
      goto LABEL_27;
  }
LABEL_28:
  v7 = a1;
  v51 = *(_DWORD *)(a1 + 12);
  if ( v51 || (result = (*(int (__stdcall **)(int))(*(_DWORD *)a1 + 16))(a1), result >= 0) )
  {
    v8 = (*(int (__stdcall **)(_DWORD, _DWORD, int))(**(_DWORD **)(a1 + 8) + 260))(*(_DWORD *)(a1 + 8), 0, a2);
    if ( v8 >= 0 )
    {
      v8 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(**(_DWORD **)(a1 + 8) + 228))(
             *(_DWORD *)(a1 + 8),
             *(_DWORD *)(a1 + 24) != 0 ? 27 : 15,
             v60);
      if ( v8 >= 0 )
      {
        v9 = (double)(v55 - v53);
        v10 = (double)(v6 - v54);
        v58 = 1.0 / (double)(unsigned int)v21;
        v11 = *(_DWORD *)(a1 + 28) == 0;
        v57 = 1.0 / (double)(unsigned int)v22;
        v12 = (double)v53 * v58;
        *(float *)&v61 = (double)v55 * v58;
        v13 = (double)v54 * v57;
        *(float *)&v52 = v13;
        *(float *)&v59 = (double)v56 * v57;
        if ( v11 )
        {
          v27 = 0.0;
          v28 = 0.0;
          v29 = 0.0;
          *(float *)&v55 = v12;
          *(float *)&v56 = v13;
          v31 = v55;
          v32 = *(float *)&v56;
          *(float *)&v55 = v10;
          v30 = *(float *)&a5;
          v33 = 0.0;
          v34 = v55;
          v35 = 0.0;
          *(float *)&v55 = v12;
          *(float *)&v54 = v9;
          v37 = v55;
          *(float *)&v55 = v10;
          v36 = a5;
          v38 = v59;
          v39 = *(float *)&v54;
          v40 = v55;
          v41 = 0.0;
          *(float *)&v54 = v9;
          v42 = a5;
          v43 = v61;
          v44 = v59;
          v45 = *(float *)&v54;
          v46 = 0.0;
          v47 = 0.0;
          v48 = a5;
          v55 = v61;
          v56 = v52;
          v49 = v61;
          v50 = v52;
          if ( a4 )
          {
            v16 = (int *)&v27;
            v17 = 4;
            do
            {
              sub_42AEA2(v16, v16, a4);
              v16 += 6;
              --v17;
            }
            while ( v17 );
          }
          v18 = (*(int (__stdcall **)(_DWORD, signed int, signed int, int *, signed int))(**(_DWORD **)(v7 + 8) + 332))(
                  *(_DWORD *)(v7 + 8),
                  6,
                  2,
                  (int *)&v27,
                  24);
        }
        else
        {
          v23 = 0.0;
          v24 = 0.0;
          v25 = 0.0;
          v26 = 1.0;
          *(float *)&v55 = v12;
          *(float *)&v56 = v13;
          v28 = *(float *)&v55;
          v29 = *(float *)&v56;
          *(float *)&v54 = v10;
          v27 = *(float *)&a5;
          v30 = 0.0;
          v31 = v54;
          v32 = 0.0;
          v33 = 1.0;
          *(float *)&v55 = v12;
          *(float *)&v53 = v9;
          *(float *)&v54 = v10;
          v35 = *(float *)&v55;
          v36 = v59;
          v34 = a5;
          v37 = v53;
          v38 = v54;
          v39 = 0.0;
          *(float *)&v40 = 1.0;
          *(float *)&v53 = v9;
          *(float *)&v54 = 0.0;
          v42 = v61;
          v41 = *(float *)&a5;
          v43 = v59;
          v44 = v53;
          v45 = 0.0;
          v46 = 0.0;
          v47 = 1.0;
          v48 = a5;
          v55 = v61;
          v56 = v52;
          v49 = v61;
          v50 = v52;
          v14 = &v23;
          v15 = 4;
          do
          {
            if ( a4 )
              sub_42AEA2(v14, v14, a4);
            *v14 = *v14 - 0.5;
            v14 += 7;
            --v15;
            *(v14 - 6) = *(v14 - 6) - 0.5;
            *(v14 - 5) = 0.0;
            *(v14 - 4) = 1.0;
          }
          while ( v15 );
          v18 = (*(int (__stdcall **)(_DWORD, signed int, signed int, int *, signed int))(**(_DWORD **)(v7 + 8) + 332))(
                  *(_DWORD *)(v7 + 8),
                  6,
                  2,
                  (int *)&v23,
                  28);
        }
        v8 = v18;
        if ( v18 >= 0 )
          v8 = 0;
      }
    }
    if ( !v51 )
    {
      v19 = (*(int (__stdcall **)(int))(*(_DWORD *)v7 + 28))(v7);
      if ( v19 < 0 && v8 >= 0 )
        v8 = v19;
    }
    result = v8;
  }
  return result;
}
// 42AEA2: using guessed type int __stdcall sub_42AEA2(_DWORD, _DWORD, _DWORD);

//----- (0041CAB9) --------------------------------------------------------
int __thiscall sub_41CAB9(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_48BD34;
  *(_DWORD *)(this + 4) = 1;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 20) = 0;
  return result;
}
// 48BD34: using guessed type int (__stdcall *off_48BD34)(int, int, int);

//----- (0041CAD7) --------------------------------------------------------
int __stdcall sub_41CAD7(int a1, LPCSTR lpValueName, DWORD Type, DWORD cbData)
{
  LSTATUS v4; // esi@2
  int result; // eax@4
  HKEY phkResult; // [sp+0h] [bp-4h]@1

  phkResult = 0;
  result = 0;
  if ( !RegOpenKeyA(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Direct3D", &phkResult) )
  {
    v4 = RegQueryValueExA(phkResult, lpValueName, 0, &Type, (LPBYTE)Type, &cbData);
    RegCloseKey(phkResult);
    if ( !v4 && Type == a1 )
      result = 1;
  }
  return result;
}

//----- (0041CB34) --------------------------------------------------------
void __stdcall sub_41CB34(int a1)
{
  HMODULE v1; // eax@4
  HMODULE v2; // eax@7

  if ( !dword_4C3E08 && !dword_4C3E04 )
  {
    if ( GetModuleHandleA("d3d9.dll") )
    {
      v1 = LoadLibraryA("d3d9.dll");
      if ( v1 )
        dword_4C3E08 = (int (__cdecl *)(_DWORD))GetProcAddress(v1, "DebugSetMute");
    }
    if ( GetModuleHandleA("d3d9d.dll") )
    {
      v2 = LoadLibraryA("d3d9d.dll");
      if ( v2 )
        dword_4C3E04 = (int (__cdecl *)(_DWORD))GetProcAddress(v2, "DebugSetMute");
    }
  }
  if ( dword_4B1C34 != -1 )
  {
LABEL_14:
    if ( dword_4B1C34 )
      return;
    goto LABEL_15;
  }
  if ( !sub_41CAD7(4, "D3DXDoNotMute", (DWORD)&dword_4B1C34, 4u) )
    dword_4B1C34 = 0;
  if ( dword_4B1C34 )
  {
    dword_4B1C34 = 1;
    goto LABEL_14;
  }
LABEL_15:
  if ( dword_4C3E08 )
    dword_4C3E08(a1);
  if ( dword_4C3E04 )
    dword_4C3E04(a1);
}
// 4B1C34: using guessed type int dword_4B1C34;
// 4C3E04: using guessed type int (__cdecl *dword_4C3E04)(_DWORD);
// 4C3E08: using guessed type int (__cdecl *dword_4C3E08)(_DWORD);

//----- (0041CC04) --------------------------------------------------------
int __thiscall sub_41CC04(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 56) = 0;
  *(_DWORD *)(this + 60) = 0;
  *(_DWORD *)(this + 76) = 0;
  *(_DWORD *)(this + 80) = 0;
  return result;
}

//----- (0041CC1D) --------------------------------------------------------
void __thiscall sub_41CC1D(int this)
{
  int v1; // esi@1
  void *v2; // edi@7
  void *v3; // esi@9

  v1 = this;
  if ( *(_DWORD *)(this + 4) && *(_DWORD *)(this + 56) )
    j__free(*(void **)(this + 4));
  if ( *(_DWORD *)(v1 + 8) && *(_DWORD *)(v1 + 60) )
    j__free(*(void **)(v1 + 8));
  v2 = *(void **)(v1 + 76);
  if ( v2 )
  {
    sub_41CC1D(*(_DWORD *)(v1 + 76));
    j__free(v2);
  }
  v3 = *(void **)(v1 + 80);
  if ( v3 )
  {
    sub_41CC1D(v3);
    j__free(v3);
  }
}

//----- (0041CC76) --------------------------------------------------------
void *__thiscall sub_41CC76(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_41CC1D((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0041CC92) --------------------------------------------------------
signed int __thiscall sub_41CC92(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int *v5; // ebx@3
  unsigned int v6; // eax@3
  bool v7; // cf@3
  __int16 v8; // ax@5
  int v9; // eax@7
  unsigned int v10; // edi@9
  bool v11; // zf@9
  unsigned __int16 v12; // dx@9
  signed int v13; // eax@9
  unsigned int v14; // ecx@12
  unsigned int v15; // eax@14
  unsigned int v16; // edx@17
  int v17; // eax@17
  int v18; // edi@18
  unsigned int v19; // eax@20
  unsigned int v20; // edi@106
  void *v21; // eax@108
  int v22; // eax@110
  int v23; // ecx@111
  char v24; // bl@111
  int v25; // eax@114
  unsigned int v26; // eax@118
  int v27; // edx@123
  unsigned int v28; // ecx@123
  unsigned int v29; // edx@125
  unsigned int v30; // eax@132
  unsigned int v31; // eax@139
  int v32; // edi@139
  unsigned int v33; // ecx@139
  unsigned int v34; // eax@139
  int v35; // ecx@140
  int v36; // ecx@145
  size_t v37; // ST00_4@147
  char *v38; // edi@147
  int v39; // esi@148
  _BYTE *v40; // eax@148
  bool v41; // sf@148
  char *v42; // edx@149
  int v43; // ecx@151
  _BYTE *v44; // edi@155
  unsigned __int8 v45; // cl@156
  int v46; // esi@157
  signed int v47; // ebx@164
  unsigned int v48; // ecx@165
  unsigned int v49; // ecx@169
  int v50; // ecx@171
  signed int v51; // ebx@176
  unsigned int v52; // ecx@178
  _BYTE *v53; // esi@188
  unsigned int v54; // ecx@189
  unsigned int v55; // ecx@190
  int v56; // esi@190
  int v57; // esi@191
  int v58; // ecx@196
  int v59; // ecx@198
  unsigned __int8 v60; // si@203
  unsigned int v61; // ecx@203
  int v62; // eax@203
  __int16 v63; // bx@207
  unsigned int v64; // ebx@217
  unsigned int v65; // ecx@218
  const void *v66; // esi@227
  char *v67; // edi@227
  unsigned int v68; // edi@229
  char *v69; // esi@230
  int v70; // ebx@230
  _BYTE *v71; // edi@242
  int v72; // ecx@244
  int v73; // ecx@247
  unsigned __int16 v74; // cx@248
  unsigned int v75; // esi@251
  double v76; // st7@253
  int v77[4]; // [sp+4h] [bp-24h]@230
  int v78; // [sp+14h] [bp-14h]@5
  int v79; // [sp+18h] [bp-10h]@5
  int v80; // [sp+1Ch] [bp-Ch]@5
  __int16 v81; // [sp+20h] [bp-8h]@5
  __int16 v82; // [sp+22h] [bp-6h]@5
  int v83; // [sp+24h] [bp-4h]@5
  int v84; // [sp+28h] [bp+0h]@5
  int v85; // [sp+2Ch] [bp+4h]@5
  int v86; // [sp+30h] [bp+8h]@5
  int v87; // [sp+34h] [bp+Ch]@5
  int v88; // [sp+38h] [bp+10h]@5
  float v89; // [sp+3Ch] [bp+14h]@235
  float v90; // [sp+40h] [bp+18h]@240
  float v91; // [sp+44h] [bp+1Ch]@240
  int v92; // [sp+4Ch] [bp+24h]@229
  int v93; // [sp+50h] [bp+28h]@229
  unsigned int v94; // [sp+54h] [bp+2Ch]@229
  int v95; // [sp+58h] [bp+30h]@229
  unsigned int v96; // [sp+5Ch] [bp+34h]@148
  _BYTE *v97; // [sp+60h] [bp+38h]@148
  int *v98; // [sp+64h] [bp+3Ch]@3
  unsigned int v99; // [sp+68h] [bp+40h]@17
  int v100; // [sp+6Ch] [bp+44h]@9
  unsigned int v101; // [sp+70h] [bp+48h]@20
  int v102; // [sp+74h] [bp+4Ch]@18
  unsigned int v103; // [sp+78h] [bp+50h]@12
  unsigned int v104; // [sp+7Ch] [bp+54h]@7
  unsigned int v105; // [sp+80h] [bp+58h]@130
  unsigned int v106; // [sp+84h] [bp+5Ch]@110
  int v107; // [sp+88h] [bp+60h]@17
  int v108; // [sp+8Ch] [bp+64h]@17
  int v109; // [sp+90h] [bp+68h]@9
  int v110; // [sp+94h] [bp+6Ch]@20
  unsigned int v111; // [sp+A0h] [bp+78h]@151
  unsigned int v112; // [sp+A4h] [bp+7Ch]@151
  unsigned int v113; // [sp+A4h] [bp+7Ch]@210

  v3 = this;
  if ( a3 < 4 )
    return -2147467259;
  v5 = (int *)a2;
  v6 = *(_DWORD *)a2;
  v7 = a3 < *(_DWORD *)a2;
  v98 = (int *)a2;
  if ( v7 )
    return -2147467259;
  if ( v6 == 12 )
  {
    v79 = *(_WORD *)(a2 + 4);
    v80 = *(_WORD *)(a2 + 6);
    v81 = *(_WORD *)(a2 + 8);
    v8 = *(_WORD *)(a2 + 10);
    v5 = &v78;
    v78 = 12;
    v82 = v8;
    v83 = 0;
    v84 = 0;
    v85 = 0;
    v86 = 0;
    v87 = 0;
    v88 = 0;
    v98 = &v78;
  }
  else if ( v6 < 0x28 )
  {
    return -2147467259;
  }
  v104 = v5[1];
  v9 = v5[2];
  if ( v9 <= 0 )
    v9 = -v9;
  v10 = *v5;
  v11 = *v5 == 12;
  v12 = *((_WORD *)v5 + 7);
  v100 = v9;
  v13 = v5[8];
  v109 = !v11 + 3;
  if ( v12 <= 8u && !v13 )
    v13 = 1 << v12;
  v14 = v10 + v13 * v109;
  v103 = v10 + v13 * v109;
  if ( v14 > a3 || *((_WORD *)v5 + 6) != 1 )
    return -2147467259;
  v15 = v5[4];
  if ( v15 <= 2 )
  {
    v101 = v12;
    if ( v12 == 1 || v12 == 4 || v12 == 8 )
    {
      v110 = 41;
      goto LABEL_104;
    }
    if ( v12 == 16 )
      goto LABEL_75;
    if ( v12 == 24 )
      goto LABEL_61;
    if ( v12 == 32 )
      goto LABEL_27;
    return -2147467259;
  }
  if ( v15 != 3 || v10 < 0x34 )
    return -2147467259;
  v16 = v5[12];
  v107 = v5[11];
  v17 = v5[10];
  v99 = v16;
  v108 = v17;
  if ( v10 < 0x38 )
  {
    v102 = 0;
    v18 = 0;
  }
  else
  {
    v18 = v5[13];
    v102 = v5[13];
  }
  v19 = *((_WORD *)v5 + 7);
  v110 = 116;
  v101 = v19;
  if ( v19 == 16 )
  {
    if ( v16 == 255 )
    {
      if ( v107 == 255 && v108 == 255 && v18 == 65280 )
        v110 = 51;
      goto LABEL_104;
    }
    if ( v16 != 31 )
    {
      if ( v16 == 15 )
      {
        if ( v107 == 240 && v108 == 3840 )
        {
          if ( v18 == 61440 )
          {
            v110 = 26;
          }
          else if ( !v18 )
          {
            v110 = 30;
          }
        }
      }
      else if ( v16 == 3 )
      {
        if ( v107 == 28 && v108 == 224 && v18 == 65280 )
          v110 = 29;
      }
      else if ( v16 == 0xFFFF && v107 == 0xFFFF && v108 == 0xFFFF && !v18 )
      {
        v110 = 81;
      }
      goto LABEL_104;
    }
    if ( v107 == 2016 )
    {
      if ( v108 == 63488 && !v18 )
        v110 = 23;
      goto LABEL_104;
    }
    if ( v107 != 992 || v108 != 31744 )
      goto LABEL_104;
    if ( v18 )
    {
      if ( v18 == 0x8000 )
        v110 = 25;
      goto LABEL_104;
    }
LABEL_75:
    v110 = 24;
    goto LABEL_104;
  }
  if ( v19 == 24 )
  {
    if ( v16 != 255 || v107 != 65280 || v108 != 16711680 || v18 )
      goto LABEL_104;
LABEL_61:
    v110 = 20;
    goto LABEL_104;
  }
  if ( v19 != 32 )
    return -2147467259;
  switch ( v16 )
  {
    case 0xFFu:
      if ( v107 == 65280 && v108 == 16711680 )
      {
        if ( !v18 )
        {
LABEL_27:
          v110 = 22;
          break;
        }
        if ( v18 == -16777216 )
          v110 = 21;
      }
      break;
    case 0x3FF00000u:
      if ( v107 == 1047552 && v108 == 1023 && v102 == -1073741824 )
        v110 = 31;
      break;
    case 0xFF0000u:
      if ( v107 == 65280 && v108 == 255 )
      {
        if ( v102 == -16777216 )
        {
          v110 = 32;
        }
        else if ( !v102 )
        {
          v110 = 33;
        }
      }
      break;
    default:
      if ( v16 )
      {
        if ( v16 == 1023 )
        {
          if ( v107 == 1047552 && v108 == 1072693248 && v102 == -1073741824 )
            v110 = 35;
        }
        else if ( v16 == 65280 && v107 == 16711680 && v108 == -16777216 && !v102 )
        {
          v110 = 22;
          v103 = v14 + 1;
        }
      }
      else if ( v107 == -65536 && v108 == 0xFFFF && !v102 )
      {
        v110 = 34;
      }
      break;
  }
LABEL_104:
  if ( *((_DWORD *)v3 + 16) && v110 == 41 )
  {
    v20 = v5[8];
    if ( !v20 )
      v20 = 1 << v101;
    *((_DWORD *)v3 + 15) = 1;
    v21 = operator new(0x400u);
    *((_DWORD *)v3 + 2) = v21;
    if ( !v21 )
      return -2147024882;
    v22 = a2 + *v5;
    v106 = 0;
    if ( v20 )
    {
      do
      {
        v23 = 4 * v106;
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2)) = *(_BYTE *)(v22 + 2);
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2) + 1) = *(_BYTE *)(v22 + 1);
        v24 = *(_BYTE *)v22;
        v22 += v109;
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2) + 2) = v24;
        *(_BYTE *)(v23 + *((_DWORD *)v3 + 2) + 3) = -1;
        ++v106;
      }
      while ( v106 < v20 );
      v5 = v98;
    }
    while ( v20 < 0x100 )
    {
      v25 = 4 * v20;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2)) = -1;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2) + 1) = -1;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2) + 2) = -1;
      *(_BYTE *)(v25 + *((_DWORD *)v3 + 2) + 3) = -1;
      ++v20;
    }
  }
  if ( *((_WORD *)v5 + 7) == 1 )
  {
    v106 = v104;
    v26 = (v104 + 7) >> 3;
  }
  else if ( *((_WORD *)v5 + 7) == 4 )
  {
    v106 = v104;
    v26 = (v104 + 1) >> 1;
  }
  else
  {
    v26 = v104 * ((unsigned int)*((_WORD *)v5 + 7) >> 3);
    v106 = v104 * ((unsigned int)*((_WORD *)v5 + 7) >> 3);
  }
  if ( v110 == 116 )
    v106 = 16 * v104;
  v27 = v5[4];
  v28 = (v26 + 3) & 0xFFFFFFFC;
  v101 = (v26 + 3) & 0xFFFFFFFC;
  if ( v27 && v27 != 3 )
  {
    v29 = v100;
  }
  else
  {
    v29 = v100;
    if ( v103 + v26 + v28 * (v100 - 1) > a3 )
      return -2147467259;
  }
  if ( !v5[4] && v110 == 22 )
  {
    v105 = 0;
    if ( v29 )
    {
      v109 = a2 + v103;
      do
      {
        v30 = 0;
        if ( v104 )
        {
          while ( !*(_BYTE *)(v109 + 4 * v30 + 3) )
          {
            if ( ++v30 >= v104 )
              goto LABEL_137;
          }
          v110 = 21;
LABEL_137:
          if ( v30 < v104 )
            break;
        }
        ++v105;
        v109 += v28;
      }
      while ( v105 < v29 );
    }
  }
  v31 = v106;
  v32 = v110;
  *((_DWORD *)v3 + 13) = 0;
  v33 = v104;
  v34 = (v31 + 3) & 0xFFFFFFFC;
  v11 = *((_DWORD *)v3 + 16) == 0;
  *(_DWORD *)v3 = v32;
  *((_DWORD *)v3 + 12) = v34;
  *((_DWORD *)v3 + 3) = v33;
  *((_DWORD *)v3 + 4) = v29;
  *((_DWORD *)v3 + 5) = 1;
  if ( !v11 )
  {
    v35 = v5[4];
    if ( (!v35 || v35 == 3) && v5[2] < 0 && *((_WORD *)v5 + 7) >= 8u && v32 != 116 )
    {
      v36 = v103;
      *((_DWORD *)v3 + 14) = 0;
      *((_DWORD *)v3 + 1) = a2 + v36;
      return 0;
    }
    v37 = v100 * v34;
    *((_DWORD *)v3 + 14) = 1;
    v38 = (char *)operator new(v37);
    v105 = (unsigned int)v38;
    *((_DWORD *)v3 + 1) = v38;
    if ( !v38 )
      return -2147024882;
    v39 = *((_DWORD *)v3 + 12);
    v40 = (_BYTE *)(a2 + v103);
    v41 = v5[2] < 0;
    v97 = (_BYTE *)(a2 + v103);
    v96 = a2 + v103;
    v103 = a3 + a2;
    if ( v41 )
    {
      v109 = v39;
      v42 = v38;
    }
    else
    {
      v109 = -v39;
      v42 = &v38[v39 * (v100 - 1)];
    }
    v43 = v5[4];
    v111 = (unsigned int)&v38[v100 * v39];
    v112 = (unsigned int)v42;
    if ( v43 == 2 )
    {
      if ( v42 >= v38 )
      {
        while ( v112 < v111 )
        {
          if ( (unsigned int)v40 < v96 )
            return -2147467259;
          v44 = v40 + 1;
          if ( (unsigned int)(v40 + 1) >= v103 )
            return -2147467259;
          v45 = *v40;
          if ( *v40 )
          {
            if ( (unsigned int)v42 < v105 || (unsigned int)&v42[v45] > v111 )
              return -2147467259;
            v51 = 0;
            if ( (signed int)v45 > 0 )
            {
              do
              {
                if ( v51 & 1 )
                  LOBYTE(v52) = *v44 & 0xF;
                else
                  v52 = (unsigned int)*v44 >> 4;
                v42[v51++] = v52;
              }
              while ( v51 < *v40 );
            }
            v42 += *v40;
          }
          else
          {
            v46 = *v44;
            if ( *v44 )
            {
              if ( *v44 == 1 )
              {
                v112 = v111;
              }
              else if ( *v44 == 2 )
              {
                if ( (unsigned int)(v40 + 3) >= v103 )
                  return -2147467259;
                v50 = v109 * v40[3];
                v40 += 2;
                v42 += *v40 + v50;
              }
              else
              {
                if ( (unsigned int)v42 < v105
                  || (unsigned int)&v42[v46] > v111
                  || *v44 && (unsigned int)&v40[((v46 - 1) >> 1) + 2] >= v103 )
                {
                  return -2147467259;
                }
                v47 = 0;
                if ( v46 > 0 )
                {
                  do
                  {
                    v48 = v40[(v47 >> 1) + 2];
                    if ( v47 & 1 )
                      LOBYTE(v48) = v48 & 0xF;
                    else
                      v48 >>= 4;
                    v42[v47++] = v48;
                  }
                  while ( v47 < *v44 );
                }
                v49 = *v44;
                v42 += v49;
                v40 += ((v49 >> 1) + 1) & 0xFFFFFFFE;
              }
            }
            else
            {
              v42 = (char *)(v109 + v112);
              v112 += v109;
            }
          }
          v40 += 2;
          if ( v112 < v105 )
            return 0;
        }
      }
      return 0;
    }
    if ( v43 == 1 )
    {
      if ( v42 < v38 )
        return 0;
      while ( 1 )
      {
        if ( v112 >= v111 )
          return 0;
        if ( (unsigned int)v40 < v96 )
          return -2147467259;
        v53 = v40 + 1;
        if ( (unsigned int)(v40 + 1) >= v103 )
          return -2147467259;
        LOBYTE(v54) = *v40;
        if ( *v40 )
          break;
        v55 = *v53;
        v56 = *v53;
        if ( v56 )
        {
          v57 = v56 - 1;
          if ( v57 )
          {
            if ( v57 == 1 )
            {
              if ( (unsigned int)(v40 + 3) >= v103 )
                return -2147467259;
              v59 = v109 * v40[3];
              v40 += 2;
              v42 += *v40 + v59;
              goto LABEL_205;
            }
            if ( v42 < v38 || (unsigned int)&v42[v55] > v111 || (unsigned int)&v40[v55 + 2] > v103 )
              return -2147467259;
            HIWORD(v5) = HIWORD(v55);
            qmemcpy(v42, v40 + 2, v55);
            v58 = v40[1];
            v42 += v58;
            v40 += (v58 + 1) & 0xFFFFFFFE;
            goto LABEL_204;
          }
          v112 = v111;
        }
        else
        {
          v42 = (char *)(v109 + v112);
          v112 += v109;
        }
LABEL_205:
        v40 += 2;
        v97 = v40;
        if ( v112 < (unsigned int)v38 )
          return 0;
      }
      if ( v42 < v38 )
        return -2147467259;
      v54 = (unsigned __int8)v54;
      if ( (unsigned int)&v42[(unsigned __int8)v54] > v111 )
        return -2147467259;
      LOBYTE(v5) = *v53;
      BYTE1(v5) = *v53;
      v60 = *v40;
      v61 = v54 >> 2;
      v62 = (_DWORD)v5 << 16;
      LOWORD(v62) = (_WORD)v5;
      memset32(v42, v62, v61);
      memset(&v42[4 * v61], (char)v5, v60 & 3);
      v40 = v97;
      v42 += *v97;
LABEL_204:
      v38 = (char *)v105;
      goto LABEL_205;
    }
    v63 = *((_WORD *)v5 + 7);
    if ( v63 == 1 )
    {
      if ( v42 >= v38 )
      {
        do
        {
          if ( (unsigned int)v42 >= v111 )
            break;
          v113 = 0;
          if ( v104 )
          {
            do
            {
              v42[v113] = (v40[v113 >> 3] >> (7 - (v113 & 7))) & 1;
              ++v113;
            }
            while ( v113 < v104 );
          }
          v42 += v109;
          v40 += v101;
        }
        while ( (unsigned int)v42 >= v105 );
      }
      return 0;
    }
    if ( v63 == 4 )
    {
      if ( v42 >= v38 )
      {
        do
        {
          if ( (unsigned int)v42 >= v111 )
            break;
          v64 = 0;
          if ( v104 )
          {
            do
            {
              v65 = v40[v64 >> 1];
              if ( v64 & 1 )
                LOBYTE(v65) = v65 & 0xF;
              else
                v65 >>= 4;
              v42[v64++] = v65;
            }
            while ( v64 < v104 );
          }
          v42 += v109;
          v40 += v101;
        }
        while ( (unsigned int)v42 >= v105 );
      }
      return 0;
    }
    if ( v110 != 116 )
    {
      if ( v42 >= v38 )
      {
        do
        {
          if ( (unsigned int)v42 >= v111 )
            break;
          v66 = v40;
          v40 += v101;
          v67 = v42;
          v42 += v109;
          qmemcpy(v67, v66, v106);
        }
        while ( (unsigned int)v42 >= v105 );
      }
      return 0;
    }
    v92 = v108;
    v93 = v107;
    v94 = v99;
    v95 = v102;
    v68 = 0;
    do
    {
      v69 = (char *)&v92 + v68 * 4;
      v70 = *(int *)((char *)&v92 + v68 * 4);
      v77[v68] = 0;
      if ( v70 )
      {
        if ( !(v70 & 1) )
        {
          v112 = 0;
          do
          {
            *(_DWORD *)v69 >>= 1;
            ++v112;
          }
          while ( !(*v69 & 1) );
          v77[v68] = v112;
        }
        *(float *)((char *)&v89 + v68 * 4) = 1.0 / (double)*(unsigned int *)v69;
      }
      ++v68;
    }
    while ( v68 < 4 );
    if ( !v108 && !v107 && !v99 )
    {
      v91 = 0.0;
      v94 = 1;
      v93 = 1;
      v90 = 0.0;
      v92 = 1;
      v89 = 0.0;
    }
    while ( 1 )
    {
      if ( (unsigned int)v42 < v105 || (unsigned int)v42 >= v111 )
        return 0;
      v106 = (unsigned int)v42;
      v71 = v40;
      if ( v104 )
        break;
LABEL_257:
      v42 += v109;
      v40 += v101;
    }
    v99 = v104;
    while ( 1 )
    {
      v72 = *((_WORD *)v98 + 7);
      if ( v72 == 16 )
      {
        v73 = *(_WORD *)v71;
        v71 += 2;
      }
      else if ( v72 == 24 )
      {
        HIBYTE(v74) = v71[2];
        LOBYTE(v74) = v71[1];
        v73 = *v71 | (v74 << 8);
        v71 += 3;
      }
      else
      {
        if ( v72 != 32 )
          goto LABEL_251;
        v73 = *(_DWORD *)v71;
        v71 += 4;
      }
      v112 = v73;
LABEL_251:
      v75 = 0;
      do
      {
        if ( *(int *)((char *)&v92 + v75) )
        {
          v97 = (_BYTE *)(*(int *)((char *)&v92 + v75) & (v112 >> v77[v75 / 4]));
          v76 = (double)(unsigned int)v97 * *(float *)((char *)&v89 + v75);
        }
        else
        {
          v76 = 1.0;
        }
        *(float *)(v106 + v75) = v76;
        v75 += 4;
      }
      while ( v75 < 0x10 );
      v106 += 16;
      if ( !--v99 )
        goto LABEL_257;
    }
  }
  return 0;
}
// 41CC92: using guessed type int var_94[4];

//----- (0041D7BE) --------------------------------------------------------
void __cdecl __noreturn sub_41D7BE(int a1)
{
  (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1);
  longjmp((int *__attribute__((__org_typedef(jmp_buf))) )(*(_DWORD *)a1 + 132), 1);
}

//----- (0041D7D9) --------------------------------------------------------
int __stdcall sub_41D7D9(int a1)
{
  char v2; // [sp+0h] [bp-C8h]@1

  return (*(int (__stdcall **)(int, char *))(*(_DWORD *)a1 + 12))(a1, &v2);
}

//----- (0041D7F6) --------------------------------------------------------
signed int __stdcall sub_41D7F6(int a1)
{
  int v1; // eax@1

  v1 = *(_DWORD *)(a1 + 24);
  *(_DWORD *)v1 = *(_DWORD *)(v1 + 28);
  *(_DWORD *)(v1 + 4) = *(_DWORD *)(v1 + 32);
  return 1;
}

//----- (0041D80E) --------------------------------------------------------
int __stdcall sub_41D80E(int a1, int a2)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 24);
  *(_DWORD *)result += a2;
  *(_DWORD *)(result + 4) -= a2;
  return result;
}

//----- (0041D821) --------------------------------------------------------
signed int __thiscall sub_41D821(_DWORD *this, int a2, int a3)
{
  signed int v3; // ebx@1
  int v4; // eax@5
  unsigned int v5; // eax@9
  _DWORD *v6; // esi@9
  int v7; // ecx@9
  bool v8; // zf@11
  unsigned int v9; // eax@11
  size_t v10; // ST0C_4@12
  void *v11; // eax@12
  char *i; // ebx@16
  int *v14; // esi@23
  const void *v15; // eax@24
  unsigned int v16; // ecx@24
  int v17; // ebx@25
  unsigned __int16 v18; // dx@25
  void (__cdecl __noreturn *v19)(int); // [sp+Ch] [bp-2A4h]@3
  int (__stdcall *v20)(int); // [sp+14h] [bp-29Ch]@3
  char v21; // [sp+90h] [bp-220h]@3
  int v22; // [sp+D0h] [bp-1E0h]@3
  int v23; // [sp+D4h] [bp-1DCh]@5
  int v24; // [sp+E8h] [bp-1C8h]@5
  int v25; // [sp+118h] [bp-198h]@6
  unsigned int v26; // [sp+140h] [bp-170h]@9
  unsigned int v27; // [sp+144h] [bp-16Ch]@11
  int v28; // [sp+14Ch] [bp-164h]@7
  unsigned int v29; // [sp+15Ch] [bp-154h]@16
  _DWORD *v30; // [sp+2A8h] [bp-8h]@1
  const void **v31; // [sp+2ACh] [bp-4h]@14

  v3 = 0;
  v30 = this;
  if ( a2 && a3 )
  {
    v22 = sub_431330((int)&v19);
    v19 = sub_41D7BE;
    v20 = nullsub_2;
    if ( _setjmp3(&v21, 0) )
    {
LABEL_4:
      v3 = -2147467259;
LABEL_19:
      sub_42F4B0(&v22);
      return v3;
    }
    sub_42F3E0((int)&v22, 62, 472);
    v4 = (*(int (__stdcall **)(int *, _DWORD, signed int))v23)(&v22, 0, 36);
    v24 = v4;
    *(_DWORD *)(v4 + 32) = a3;
    *(_DWORD *)(v4 + 8) = nullsub_2;
    *(_DWORD *)(v4 + 12) = sub_41D7F6;
    *(_DWORD *)(v4 + 16) = sub_41D80E;
    *(_DWORD *)(v4 + 20) = sub_431030;
    *(_DWORD *)(v4 + 24) = nullsub_2;
    *(_DWORD *)(v4 + 4) = 0;
    *(_DWORD *)v4 = 0;
    *(_DWORD *)(v4 + 28) = a2;
    sub_42F7A0((int)&v22, 1);
    if ( !sub_42F835() )
      v25 = 1;
    v20 = sub_41D7D9;
    sub_42F300((int)&v22);
    if ( v28 == 1 )
    {
      v6 = v30;
      v5 = v26;
      *v30 = 50;
      v6[12] = v5;
    }
    else
    {
      if ( v28 != 3 )
        goto LABEL_4;
      v5 = v26;
      v6 = v30;
      v7 = 4 * v26;
      *v30 = 22;
      v6[12] = v7;
    }
    v8 = v6[16] == 0;
    v6[3] = v5;
    v9 = v27;
    v6[13] = 0;
    v6[4] = v9;
    v6[5] = 1;
    if ( !v8 )
    {
      v10 = v9 * v6[12];
      v6[14] = 1;
      v11 = operator new(v10);
      v6[1] = v11;
      if ( v11
        && (v31 = (const void **)(*(int (__stdcall **)(int *, signed int, int, signed int))(v23 + 8))(
                                   &v22,
                                   1,
                                   v28 * v26,
                                   1)) != 0 )
      {
        if ( *v6 == 50 )
        {
          for ( i = (char *)v6[1]; v29 < v27; i += v26 )
          {
            sub_42F270((int)&v22, (int)v31, 1);
            qmemcpy(i, *v31, v26);
          }
          v3 = 0;
        }
        else if ( *v6 == 22 )
        {
          v14 = (int *)v6[1];
          while ( v29 < v27 )
          {
            sub_42F270((int)&v22, (int)v31, 1);
            v15 = *v31;
            v16 = (unsigned int)&v14[v26];
            if ( (unsigned int)v14 < v16 )
            {
              do
              {
                v17 = *((_BYTE *)v15 + 2);
                HIBYTE(v18) = *(_BYTE *)v15;
                v15 = (char *)v15 + 3;
                LOBYTE(v18) = *((char *)v15 - 2);
                *v14 = v17 | (v18 << 8);
                ++v14;
              }
              while ( (unsigned int)v14 < v16 );
              v3 = 0;
            }
          }
        }
        sub_42F6E0((int)&v22);
      }
      else
      {
        v3 = -2147024882;
      }
    }
    goto LABEL_19;
  }
  return -2147467259;
}
// 42F4B0: using guessed type _DWORD __stdcall sub_42F4B0(_DWORD);
// 46151F: using guessed type int __stdcall nullsub_2(int);

//----- (0041DA99) --------------------------------------------------------
signed int __thiscall sub_41DA99(void *this, int a2, unsigned int a3)
{
  void *v3; // esi@1
  int v5; // ebx@3
  char v6; // cl@3
  int v7; // edx@4
  int v8; // eax@7
  unsigned int v9; // edi@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // eax@10
  int v13; // ecx@16
  int v14; // ecx@21
  int v15; // ecx@22
  int v16; // ecx@23
  unsigned int v17; // eax@32
  void *v18; // edx@37
  int v19; // edi@39
  unsigned int v20; // eax@39
  unsigned int v21; // eax@40
  unsigned int v22; // ecx@41
  unsigned int v23; // eax@45
  unsigned int v24; // edi@45
  unsigned int v25; // edx@45
  unsigned int v26; // eax@46
  unsigned int v27; // edi@46
  unsigned int v28; // edx@46
  int v29; // ST34_4@47
  unsigned int i; // eax@53
  int v31; // ecx@56
  size_t v32; // eax@56
  char *v33; // eax@62
  int v34; // edx@64
  unsigned int v35; // eax@70
  int v36; // ecx@73
  unsigned int v37; // ecx@93
  unsigned int v38; // eax@93
  bool v39; // zf@93
  int v40; // edx@94
  unsigned int v41; // edi@95
  unsigned int v42; // ebx@95
  unsigned int v43; // ecx@103
  unsigned int v44; // eax@103
  bool v45; // zf@103
  int v46; // edx@104
  unsigned int v47; // edi@105
  unsigned int v48; // ebx@105
  void *v49; // [sp+8h] [bp-3Ch]@1
  int v50; // [sp+Ch] [bp-38h]@33
  int v51; // [sp+Ch] [bp-38h]@76
  int v52; // [sp+10h] [bp-34h]@32
  int v53; // [sp+14h] [bp-30h]@32
  int v54; // [sp+18h] [bp-2Ch]@32
  unsigned int v55; // [sp+1Ch] [bp-28h]@39
  int v56; // [sp+1Ch] [bp-28h]@73
  int v57; // [sp+20h] [bp-24h]@39
  int v58; // [sp+20h] [bp-24h]@70
  unsigned int v59; // [sp+24h] [bp-20h]@39
  int v60; // [sp+24h] [bp-20h]@66
  int v61; // [sp+28h] [bp-1Ch]@0
  char v62; // [sp+2Ch] [bp-18h]@0
  signed int v63; // [sp+30h] [bp-14h]@7
  int v64; // [sp+34h] [bp-10h]@39
  char *v65; // [sp+34h] [bp-10h]@68
  signed int v66; // [sp+38h] [bp-Ch]@20
  int v67; // [sp+3Ch] [bp-8h]@0
  unsigned int v68; // [sp+40h] [bp-4h]@16
  int v69; // [sp+4Ch] [bp+8h]@33
  _BYTE *v70; // [sp+4Ch] [bp+8h]@56
  unsigned int v71; // [sp+50h] [bp+Ch]@32
  unsigned int v72; // [sp+50h] [bp+Ch]@33
  unsigned int v73; // [sp+50h] [bp+Ch]@56

  v3 = this;
  v49 = this;
  if ( a3 < 0x12 )
    return -2147467259;
  v5 = a2;
  v6 = *(_BYTE *)(a2 + 1);
  if ( v6 & 0xFE )
    return -2147467259;
  v7 = *(_BYTE *)(a2 + 2);
  if ( v7 & 0xFFFFFFF4 || !*(_WORD *)(a2 + 12) || !*(_WORD *)(a2 + 14) )
    return -2147467259;
  v8 = *(_BYTE *)(a2 + 7);
  v63 = 0;
  v9 = (unsigned int)(v8 + 7) >> 3;
  if ( v6 )
  {
    v10 = v8 - 15;
    if ( v10 )
    {
      v11 = v10 - 1;
      if ( v11 )
      {
        v12 = v11 - 8;
        if ( v12 )
        {
          if ( v12 != 8 )
            return -2147467259;
          v63 = 21;
        }
        else
        {
          v63 = 20;
        }
      }
      else
      {
        v63 = 25;
      }
    }
    else
    {
      v63 = 24;
    }
  }
  v13 = *(_BYTE *)(a2 + 16);
  v68 = (unsigned int)(v13 + 7) >> 3;
  if ( (v7 & 3) == 1 )
  {
    if ( !*(_BYTE *)(a2 + 1) || *(_BYTE *)(a2 + 16) != 8 )
      return -2147467259;
    v66 = 41;
  }
  else if ( (v7 & 3) == 2 )
  {
    v14 = v13 - 15;
    if ( v14 )
    {
      v15 = v14 - 1;
      if ( v15 )
      {
        v16 = v15 - 8;
        if ( v16 )
        {
          if ( v16 != 8 )
            return -2147467259;
          v66 = 21;
        }
        else
        {
          v66 = 20;
        }
      }
      else
      {
        v66 = 25;
      }
    }
    else
    {
      v66 = 24;
    }
  }
  else
  {
    if ( (v7 & 3) != 3 || *(_BYTE *)(a2 + 16) != 8 )
      return -2147467259;
    v66 = 50;
  }
  v52 = v7 & 8;
  v53 = (*(_BYTE *)(a2 + 17) & 0x20) == 32;
  v17 = *(_BYTE *)a2;
  v71 = a3 - 18;
  v54 = (*(_BYTE *)(a2 + 17) & 0x10) != 16;
  if ( v71 < v17 )
    return -2147467259;
  v72 = v71 - v17;
  v69 = v17 + a2 + 18;
  v50 = v9 * *(_WORD *)(v5 + 5);
  if ( v72 < v9 * *(_WORD *)(v5 + 5) )
    return -2147467259;
  if ( !*((_DWORD *)v3 + 16) || v66 != 41 )
    goto LABEL_56;
  if ( *(_WORD *)(v5 + 5) + *(_WORD *)(v5 + 3) > 256 )
    return -2147467259;
  v18 = operator new(0x400u);
  *((_DWORD *)v3 + 2) = v18;
  if ( !v18 )
    return -2147024882;
  v57 = 0;
  *((_DWORD *)v3 + 15) = 1;
  memset(v18, 0xFFu, 0x400u);
  v19 = v69;
  v20 = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3);
  v64 = v69;
  v59 = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3);
  v55 = v20 + 4 * *(_WORD *)(v5 + 5);
  if ( v20 >= v20 + 4 * *(_WORD *)(v5 + 5) )
  {
LABEL_53:
    for ( i = *((_DWORD *)v3 + 2) + 4 * *(_WORD *)(v5 + 3); i < v55; i += 4 )
      *(_BYTE *)(i + 3) = -1;
    goto LABEL_56;
  }
  LOBYTE(v21) = v72;
  do
  {
    LOBYTE(v22) = v62;
    if ( v63 == 20 )
    {
      LOBYTE(v21) = *(_BYTE *)(v19 + 2);
      LOBYTE(v22) = *(_BYTE *)(v19 + 1);
      LOBYTE(v67) = *(_BYTE *)v19;
      v19 += 3;
      goto LABEL_49;
    }
    if ( v63 == 21 )
    {
      v29 = *(_DWORD *)v19;
      LOBYTE(v22) = BYTE1(v29);
      v61 = *(_DWORD *)v19 >> 24;
      LOBYTE(v21) = *(_DWORD *)v19 >> 16;
      v67 = *(_DWORD *)v19 & 0xFF;
      v19 += 4;
      goto LABEL_50;
    }
    if ( v63 == 24 )
    {
      v26 = *(_WORD *)v19;
      v27 = v26 & 0x1F;
      v28 = v26 >> 5;
      v21 = 8 * ((v26 >> 10) & 0x1F) | (((v26 >> 10) & 0x1F) >> 2);
      v22 = 8 * (v28 & 0x1F) | ((v28 & 0x1F) >> 2);
      v67 = 8 * v27 | (v27 >> 2);
      v19 = v64 + 2;
LABEL_49:
      v61 = 255;
      goto LABEL_50;
    }
    if ( v63 != 25 )
      goto LABEL_51;
    v23 = *(_WORD *)v19;
    v61 = 255 * (v23 >> 15);
    v24 = v23 & 0x1F;
    v25 = v23 >> 5;
    v21 = 8 * ((v23 >> 10) & 0x1F) | (((v23 >> 10) & 0x1F) >> 2);
    v22 = 8 * (v25 & 0x1F) | ((v25 & 0x1F) >> 2);
    v67 = 8 * v24 | (v24 >> 2);
    v19 = v64 + 2;
LABEL_50:
    v62 = v22;
    v64 = v19;
LABEL_51:
    *(_BYTE *)(v59 + 1) = v22;
    *(_BYTE *)(v59 + 2) = v67;
    *(_BYTE *)(v59 + 3) = v61;
    *(_BYTE *)v59 = v21;
    v59 += 4;
    v57 |= v61 != 0;
  }
  while ( v59 < v55 );
  if ( !v57 )
    goto LABEL_53;
LABEL_56:
  v73 = v72 - v50;
  v31 = v50 + v69;
  v32 = v68 * *(_WORD *)(v5 + 12) * *(_WORD *)(v5 + 14);
  *(_DWORD *)v3 = v66;
  *((_DWORD *)v3 + 1) = v50 + v69;
  *((_DWORD *)v3 + 12) = v68 * *(_WORD *)(v5 + 12);
  v39 = *((_DWORD *)v3 + 16) == 0;
  *((_DWORD *)v3 + 13) = 0;
  *((_DWORD *)v3 + 3) = *(_WORD *)(v5 + 12);
  v70 = (_BYTE *)(v50 + v69);
  *((_DWORD *)v3 + 4) = *(_WORD *)(v5 + 14);
  *((_DWORD *)v3 + 5) = 1;
  if ( v39 )
    return 0;
  if ( v52 || !v53 || !v54 )
  {
    v33 = (char *)operator new(v32);
    *((_DWORD *)v3 + 1) = v33;
    if ( !v33 )
      return -2147024882;
    *((_DWORD *)v3 + 14) = 1;
    if ( v53 )
      v34 = (int)v33;
    else
      v34 = (int)&v33[*((_DWORD *)v3 + 12) * (*(_WORD *)(v5 + 14) - 1)];
    v60 = 0;
    if ( !*(_WORD *)(v5 + 14) )
      goto LABEL_91;
    while ( 1 )
    {
      v65 = (char *)(v54 ? v34 : v34 + *((_DWORD *)v3 + 12) - v68);
      v35 = *(_WORD *)(v5 + 12);
      v58 = 0;
      if ( v35 > 0 )
        break;
LABEL_87:
      if ( v53 )
        v34 += *((_DWORD *)v3 + 12);
      else
        v34 -= *((_DWORD *)v3 + 12);
      if ( ++v60 >= (unsigned int)*(_WORD *)(v5 + 14) )
        goto LABEL_91;
    }
    while ( 1 )
    {
      if ( v52 )
      {
        if ( v73 < 1 )
          return -2147467259;
        v36 = *v70 & 0x80;
        v35 = (*v70++ & 0x7F) + 1;
        --v73;
        v56 = v36;
      }
      else
      {
        v56 = 0;
      }
      v58 += v35;
      if ( v35 )
        break;
LABEL_84:
      if ( v56 )
      {
        v70 += v68;
        v73 -= v68;
      }
      v35 = *(_WORD *)(v5 + 12);
      if ( v58 >= v35 )
        goto LABEL_87;
    }
    while ( 1 )
    {
      v51 = v35 - 1;
      if ( v73 < v68 )
        return -2147467259;
      qmemcpy(v65, v70, v68);
      if ( !v56 )
      {
        v70 += v68;
        v73 -= v68;
      }
      if ( v54 )
        v65 += v68;
      else
        v65 -= v68;
      --v35;
      if ( !v51 )
      {
        v3 = v49;
        goto LABEL_84;
      }
    }
  }
  if ( v73 < v32 )
    return -2147467259;
  *((_DWORD *)v3 + 1) = v31;
  *((_DWORD *)v3 + 14) = 0;
LABEL_91:
  if ( *(_DWORD *)v3 == 21 )
  {
    v43 = *((_DWORD *)v3 + 1);
    v44 = v43 + *((_DWORD *)v3 + 12) * *((_DWORD *)v3 + 4);
    v45 = v43 == v44;
    if ( v43 < v44 )
    {
      v46 = 4 * *((_DWORD *)v3 + 3);
      do
      {
        v47 = v46 + v43;
        v48 = v43;
        if ( v43 < v46 + v43 )
        {
          do
          {
            if ( *(_BYTE *)(v48 + 3) )
              break;
            v48 += 4;
          }
          while ( v48 < v47 );
          if ( v48 < v47 )
            break;
        }
        v43 += *((_DWORD *)v3 + 12);
      }
      while ( v43 < v44 );
      v45 = v43 == v44;
    }
    if ( v45 )
      *(_DWORD *)v3 = 22;
  }
  else if ( *(_DWORD *)v3 == 25 )
  {
    v37 = *((_DWORD *)v3 + 1);
    v38 = v37 + *((_DWORD *)v3 + 12) * *((_DWORD *)v3 + 4);
    v39 = v37 == v38;
    if ( v37 < v38 )
    {
      v40 = 2 * *((_DWORD *)v3 + 3);
      do
      {
        v41 = v40 + v37;
        v42 = v37;
        if ( v37 < v40 + v37 )
        {
          do
          {
            if ( *(_BYTE *)(v42 + 1) & 0x80 )
              break;
            v42 += 2;
          }
          while ( v42 < v41 );
          if ( v42 < v41 )
            break;
        }
        v37 += *((_DWORD *)v3 + 12);
      }
      while ( v37 < v38 );
      v39 = v37 == v38;
    }
    if ( v39 )
      *(_DWORD *)v3 = 24;
  }
  return 0;
}

//----- (0041E011) --------------------------------------------------------
int __thiscall sub_41E011(_DWORD *this, char *a2, unsigned int a3)
{
  _DWORD *v3; // esi@1
  _BYTE *v5; // edi@8
  bool v6; // zf@8
  int v7; // ebx@8
  int v8; // ecx@21
  char *v9; // eax@35
  _BYTE *v10; // edi@47
  unsigned __int8 v11; // al@49
  signed int v12; // [sp+8h] [bp-18h]@5
  int v13; // [sp+Ch] [bp-14h]@8
  unsigned int v14; // [sp+10h] [bp-10h]@0
  int v15; // [sp+14h] [bp-Ch]@8
  unsigned int v16; // [sp+18h] [bp-8h]@8
  signed int v17; // [sp+1Ch] [bp-4h]@8
  unsigned int v18; // [sp+2Ch] [bp+Ch]@8
  int v19; // [sp+2Ch] [bp+Ch]@47

  v3 = this;
  if ( a3 < 2 )
    return -2147467259;
  if ( *a2 != 80 )
    return -2147467259;
  if ( a2[1] == 51 )
  {
    v12 = 1;
  }
  else
  {
    if ( a2[1] != 54 )
      return -2147467259;
    v12 = 0;
  }
  v5 = a2 + 2;
  v6 = a3 == 2;
  v18 = a3 - 2;
  v7 = 0;
  v15 = (int)(a2 + 2);
  v17 = 0;
  v13 = 0;
  v16 = 255;
  if ( v6 )
    return -2147467259;
  while ( v12 || v17 != 3 )
  {
    if ( !isspace(*v5) )
    {
      if ( *v5 != 35 )
      {
        if ( v18 )
        {
          do
          {
            if ( isspace(*v5) )
              break;
            if ( !isdigit(*v5) )
              return -2147467259;
            v8 = *v5++;
            v6 = v18-- == 1;
            v7 = v8 + 10 * v7 - 48;
            v15 = (int)v5;
          }
          while ( !v6 );
        }
        if ( v17 )
        {
          if ( v17 == 1 )
          {
            if ( !v7 )
              return -2147467259;
            v9 = (char *)operator new(4 * v13 * v7);
            v3[1] = v9;
            if ( !v9 )
              return -2147024882;
            a2 = v9;
            v3[13] = 0;
            v14 = (unsigned int)&v9[4 * v13 * v7];
            v5 = (_BYTE *)v15;
            v3[14] = 1;
            *v3 = 22;
            v3[12] = 4 * v13;
            v3[3] = v13;
            v3[4] = v7;
            v3[5] = 1;
            goto LABEL_39;
          }
          if ( v17 != 2 )
          {
            switch ( v17 )
            {
              case 3:
                if ( (unsigned int)a2 >= v14 )
                  return -2147467259;
                *(_DWORD *)a2 = (255 * v7 / v16 | 0xFFFFFF00) << 16;
                break;
              case 4:
                *(_DWORD *)a2 |= 255 * v7 / v16 << 8;
                break;
              case 5:
                *(_DWORD *)a2 |= 255 * v7 / v16;
                a2 += 4;
                if ( a2 == (char *)v14 )
                  return 0;
                v17 = 2;
                break;
            }
            goto LABEL_39;
          }
          v16 = v7;
        }
        else
        {
          v13 = v7;
        }
        if ( !v7 )
          return -2147467259;
LABEL_39:
        ++v17;
        goto LABEL_40;
      }
      for ( ; v18; --v18 )
      {
        if ( *v5 == 10 )
          break;
        ++v5;
      }
    }
    ++v5;
    --v18;
    v15 = (int)v5;
LABEL_40:
    v7 = 0;
    if ( !v18 )
      return -2147467259;
  }
  if ( v16 > 0xFF )
    return -2147467259;
  if ( v18 > 1 && *v5 == 13 )
  {
    ++v5;
    --v18;
  }
  v10 = v5 + 1;
  v19 = v18 - 1;
  if ( v19 )
  {
    do
    {
      if ( (unsigned int)a2 >= v14 )
        break;
      v11 = 255 * (unsigned int)*v10 / v16;
      v10 += 3;
      *(_DWORD *)a2 = 255 * (unsigned int)*(v10 - 1) / v16 | ((255 * (unsigned int)*(v10 - 2) / v16 | ((v11 | 0xFFFFFF00) << 8)) << 8);
      v6 = v19 == 3;
      v19 -= 3;
      a2 += 4;
    }
    while ( !v6 );
  }
  return a2 != (char *)v14 ? 0x80004005 : 0;
}

//----- (0041E297) --------------------------------------------------------
int __cdecl sub_41E297(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int v3; // ebx@1
  int result; // eax@3

  v3 = a1[21];
  if ( (unsigned int)a3 > *(_DWORD *)(v3 + 4) )
    sub_431425(a1, (int)"read error");
  qmemcpy((void *)a2, *(const void **)v3, a3);
  result = a3;
  *(_DWORD *)v3 += a3;
  *(_DWORD *)(v3 + 4) -= a3;
  return result;
}

//----- (0041E2D8) --------------------------------------------------------
void __cdecl __noreturn sub_41E2D8(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  longjmp(a1, 1);
}

//----- (0041E2E4) --------------------------------------------------------
signed int __thiscall sub_41E2E4(int *this, int a2, unsigned int a3)
{
  int *v3; // eax@2
  int *v4; // esi@5
  int v6; // eax@36
  int v7; // eax@44
  int v8; // eax@50
  int v9; // eax@52
  int v10; // eax@53
  int v11; // eax@54
  int v12; // eax@55
  char v13; // al@65
  signed int v14; // esi@66
  int v15; // ST20_4@67
  int *__attribute__((__org_typedef(jmp_buf))) v16; // ST1C_4@67
  int v17; // eax@67
  bool v18; // zf@67
  void *v19; // eax@68
  size_t v20; // ST20_4@69
  unsigned int i; // eax@70
  double v22; // st7@79
  signed __int64 v23; // rax@80
  int v24; // ecx@80
  bool v25; // sf@80
  unsigned __int8 v26; // of@80
  signed int v27; // eax@82
  void *v28; // eax@84
  signed int v29; // eax@86
  int v30; // edi@87
  int v31; // ecx@88
  char v32; // bl@88
  int v33; // edi@90
  int v34; // ecx@91
  int v35; // eax@93
  char v36[256]; // [sp+1Ch] [bp-154h]@80
  double v37; // [sp+11Ch] [bp-54h]@32
  long double v38; // [sp+124h] [bp-4Ch]@79
  int v39; // [sp+12Ch] [bp-44h]@5
  unsigned int v40; // [sp+130h] [bp-40h]@5
  int v41; // [sp+134h] [bp-3Ch]@76
  int v42; // [sp+138h] [bp-38h]@30
  int *v43; // [sp+13Ch] [bp-34h]@1
  int v44; // [sp+140h] [bp-30h]@5
  int v45; // [sp+144h] [bp-2Ch]@5
  int v46; // [sp+148h] [bp-28h]@73
  int v47; // [sp+14Ch] [bp-24h]@5
  int v48; // [sp+150h] [bp-20h]@73
  void *v49; // [sp+154h] [bp-1Ch]@1
  unsigned int v50; // [sp+158h] [bp-18h]@5
  int v51; // [sp+15Ch] [bp-14h]@79
  int v52; // [sp+160h] [bp-10h]@74
  int v53; // [sp+164h] [bp-Ch]@57
  int v54; // [sp+168h] [bp-8h]@1
  int *__attribute__((__org_typedef(jmp_buf))) v55; // [sp+16Ch] [bp-4h]@1

  v43 = this;
  v55 = 0;
  v54 = 0;
  v49 = 0;
  if ( sub_4337C0(a2, 0, a3) )
    return -2147467259;
  v3 = (int *)sub_4314A2("1.0.5", 0, (int)sub_41E2D8, (int)nullsub_3);
  v55 = v3;
  if ( !v3 )
    goto LABEL_85;
  v54 = (int)sub_4338C9((int)v3);
  if ( !v54 )
    goto LABEL_85;
  if ( !_setjmp3(v55, 0) )
  {
    v39 = a2;
    v40 = a3;
    sub_433782((int)v55, (int)&v39, (int (__cdecl *)(int, int))sub_41E297);
    sub_431596(v55, v54);
    sub_431D2C((int)v55, v54, (unsigned int *)&v44, &v50, &v47, &v45, 0, 0, 0);
    v4 = v43;
    if ( v45 )
    {
      switch ( v45 )
      {
        case 2:
          *v43 = 20;
          break;
        case 3:
          *v43 = 41;
          break;
        case 4:
          *v43 = 51;
          break;
        case 6:
          *v43 = 21;
          break;
      }
    }
    else
    {
      *v43 = 50;
    }
    if ( v47 == 16 )
    {
      sub_431EA7((int)v55);
      switch ( *v4 )
      {
        case 20:
          *v4 = 909201952;
          break;
        case 21:
          *v4 = 36;
          break;
        case 50:
          *v4 = 81;
          break;
        default:
          if ( *v4 != 51 )
            return -2147467259;
          *v4 = 909200449;
          break;
      }
    }
    if ( v47 < 8 )
      sub_431EBB((int)v55);
    if ( !v45 && v47 < 8 )
      sub_432069((int)v55);
    if ( sub_431CFE((int)v55, v54, &v42) )
    {
      sub_4336BC((int)v55, v54, v42);
    }
    else if ( sub_431CD2((int)v55, v54, &v37) )
    {
      sub_432031((int)v55, 2.2, v37);
    }
    if ( *v4 != 41 && sub_431C83((int)v55, v54, 16) )
    {
      sub_432069((int)v55);
      v6 = *v4;
      if ( *v4 == 20 )
      {
        *v4 = 21;
      }
      else
      {
        switch ( v6 )
        {
          case 50:
            *v4 = 51;
            break;
          case 81:
            *v4 = 909200449;
            break;
          case 909201952:
            *v4 = 36;
            break;
        }
      }
    }
    v7 = *v4;
    if ( *v4 == 20 || v7 == 909201952 || v7 == 21 )
      sub_431E9C((int)v55);
    if ( *v4 == 20 )
    {
      sub_431EF2((int)v55, 0xFFu, 1);
      *v4 = 22;
    }
    sub_431704(1, v55, v54);
    v8 = *v4;
    if ( *v4 <= 50 )
    {
      if ( *v4 != 50 )
      {
        v9 = v8 - 20;
        if ( v9 )
        {
          v10 = v9 - 1;
          if ( v10 )
          {
            v11 = v10 - 1;
            if ( v11 )
            {
              v12 = v11 - 14;
              if ( v12 )
              {
                if ( v12 != 5 )
                  goto LABEL_65;
                goto LABEL_57;
              }
            }
          }
          v53 = 4;
LABEL_65:
          v13 = sub_431CB9((int)v55, v54);
          if ( v53 != (unsigned __int8)v13 )
            goto LABEL_66;
          v15 = v54;
          v4[3] = v44;
          v16 = v55;
          v4[4] = v50;
          v4[5] = 1;
          v17 = sub_431CA0((int)v16, v15);
          v18 = v4[16] == 0;
          v4[12] = v17;
          v4[13] = 0;
          if ( !v18 )
          {
            v19 = operator new(v50 * v17);
            v4[1] = (int)v19;
            if ( !v19 || (v20 = 4 * v50, v4[14] = 1, (v49 = operator new(v20)) == 0) )
            {
LABEL_85:
              v14 = -2147024882;
              goto LABEL_96;
            }
            for ( i = 0; i < v50; ++i )
              *((_DWORD *)v49 + i) = v4[1] + i * v4[12];
            sub_431AA6(v55, (int)v49);
            if ( *v4 == 41 )
            {
              v46 = 0;
              v48 = 0;
              if ( sub_431C83((int)v55, v54, 8) )
                sub_431DFD((int)v55, v54, &v52, &v48);
              if ( sub_431C83((int)v55, v54, 16) )
                sub_431E33((int)v55, v54, &v41, &v46, 0);
              if ( *((float *)v55 + 76) <= 0.000001 || *((float *)v55 + 77) <= 0.000001 )
              {
                v27 = 0;
                do
                {
                  v36[v27] = v27;
                  ++v27;
                }
                while ( v27 < 256 );
              }
              else
              {
                v22 = *((float *)v55 + 77);
                v51 = 0;
                v38 = 1.0 / (v22 * *((float *)v55 + 76));
                do
                {
                  v23 = (signed __int64)(pow((double)v51 * 0.00392156862745098, v38) * 255.0 + 0.5);
                  v24 = v51++;
                  v26 = __OFSUB__(v51, 256);
                  v25 = v51 - 256 < 0;
                  v36[v24] = v23;
                }
                while ( v25 ^ v26 );
              }
              v28 = operator new(0x400u);
              v4[2] = (int)v28;
              if ( !v28 )
                goto LABEL_85;
              v29 = 0;
              v18 = v46 == 0;
              v25 = v46 < 0;
              v4[15] = 1;
              if ( !v25 && !v18 )
              {
                v30 = 0;
                do
                {
                  v31 = 4 * v29;
                  *(_BYTE *)(v31 + v4[2]) = v36[*(_BYTE *)(v30 + v52)];
                  *(_BYTE *)(v31 + v4[2] + 1) = v36[*(_BYTE *)(v30 + v52 + 1)];
                  *(_BYTE *)(v31 + v4[2] + 2) = v36[*(_BYTE *)(v30 + v52 + 2)];
                  v32 = *(_BYTE *)(v29++ + v41);
                  *(_BYTE *)(v31 + v4[2] + 3) = v32;
                  v30 += 3;
                }
                while ( v29 < v46 );
              }
              if ( v29 < v48 )
              {
                v33 = 3 * v29;
                do
                {
                  v34 = 4 * v29;
                  *(_BYTE *)(v34 + v4[2]) = v36[*(_BYTE *)(v33 + v52)];
                  *(_BYTE *)(v34 + v4[2] + 1) = v36[*(_BYTE *)(v33 + v52 + 1)];
                  *(_BYTE *)(v34 + v4[2] + 2) = v36[*(_BYTE *)(v33 + v52 + 2)];
                  *(_BYTE *)(v34 + v4[2] + 3) = -1;
                  ++v29;
                  v33 += 3;
                }
                while ( v29 < v48 );
              }
              if ( v29 < 256 )
              {
                v35 = 4 * v29;
                do
                {
                  *(_BYTE *)(v35 + v4[2]) = -1;
                  *(_BYTE *)(v35 + v4[2] + 1) = -1;
                  *(_BYTE *)(v35 + v4[2] + 2) = -1;
                  *(_BYTE *)(v35 + v4[2] + 3) = -1;
                  v35 += 4;
                }
                while ( v35 < 1024 );
              }
            }
          }
          v14 = 0;
          goto LABEL_96;
        }
LABEL_63:
        v53 = 3;
        goto LABEL_65;
      }
LABEL_57:
      v53 = 1;
      goto LABEL_65;
    }
    if ( v8 != 51 )
    {
      if ( v8 == 81 )
        goto LABEL_57;
      if ( v8 != 909200449 )
      {
        if ( v8 != 909201952 )
          goto LABEL_65;
        goto LABEL_63;
      }
    }
    v53 = 2;
    goto LABEL_65;
  }
LABEL_66:
  v14 = -2147467259;
LABEL_96:
  if ( v55 )
    sub_431C06((void **)&v55, (void **)&v54, 0);
  if ( v49 )
    j__free(v49);
  return v14;
}
// 4734F5: using guessed type int nullsub_3();
// 41E2E4: using guessed type char var_154[256];

//----- (0041E835) --------------------------------------------------------
signed int __thiscall sub_41E835(int this, int a2, unsigned int a3)
{
  int v3; // ebx@1
  signed int v5; // eax@6
  int v6; // eax@10
  signed int v7; // ecx@16
  int *v8; // eax@18
  int v9; // eax@35
  _DWORD *v10; // eax@36
  unsigned int v11; // esi@44
  unsigned int v12; // edi@45
  void *v13; // eax@47
  int v14; // eax@48
  signed int v15; // ebx@53
  signed int v16; // eax@54
  void *v17; // eax@56
  int v18; // eax@57
  int v19; // eax@67
  int v20; // ecx@68
  int v21; // edx@69
  _DWORD *v22; // [sp+8h] [bp-2Ch]@36
  int v23; // [sp+Ch] [bp-28h]@41
  int v24; // [sp+10h] [bp-24h]@1
  unsigned int v25; // [sp+14h] [bp-20h]@14
  int v26; // [sp+18h] [bp-1Ch]@18
  unsigned int v27; // [sp+1Ch] [bp-18h]@11
  int v28; // [sp+20h] [bp-14h]@43
  unsigned int v29; // [sp+24h] [bp-10h]@52
  unsigned int v30; // [sp+28h] [bp-Ch]@45
  int v31; // [sp+2Ch] [bp-8h]@35
  int v32; // [sp+30h] [bp-4h]@5
  unsigned int v33; // [sp+3Ch] [bp+8h]@45
  unsigned int v34; // [sp+40h] [bp+Ch]@3
  unsigned int v35; // [sp+40h] [bp+Ch]@5

  v3 = this;
  v24 = this;
  if ( a3 < 4 )
    return -2147467259;
  if ( *(_DWORD *)a2 != 542327876 )
    return -2147467259;
  v34 = a3 - 4;
  if ( v34 < 0x7C )
    return -2147467259;
  v35 = v34 - 124;
  v32 = a2 + 128;
  *(_DWORD *)(this + 12) = *(_DWORD *)(a2 + 16);
  *(_DWORD *)(this + 16) = *(_DWORD *)(a2 + 12);
  if ( *(_BYTE *)(a2 + 10) & 0x80 )
    v5 = *(_DWORD *)(a2 + 24);
  else
    v5 = 1;
  *(_DWORD *)(this + 20) = v5;
  if ( !v5 )
    *(_DWORD *)(this + 20) = 1;
  v6 = *(_DWORD *)(a2 + 112) & 0xFC00;
  if ( v6 == 64512 )
  {
    v27 = 6;
  }
  else
  {
    if ( v6 )
      return -2147467259;
    v27 = 1;
  }
  v25 = *(_DWORD *)(a2 + 28);
  if ( !*(_DWORD *)(a2 + 28) )
    v25 = 1;
  v7 = *(_DWORD *)(a2 + 80);
  if ( v7 & 4 )
    v7 = 4;
  v26 = v7 & 0xC4040;
  v8 = &dword_4B1D58;
  if ( dword_4B1D58 )
  {
    do
    {
      if ( *(_DWORD *)(a2 + 76) == 32
        && v8[2] == v7
        && (!(v7 & 4) || *(_DWORD *)(a2 + 84) == v8[3])
        && (!(v7 & 0xC4462) || *(_DWORD *)(a2 + 88) == v8[4])
        && (!(v7 & 0xE4040) || *(_DWORD *)(a2 + 92) == v8[5])
        && (!(v7 & 0xC4440) || *(_DWORD *)(a2 + 96) == v8[6])
        && (!v26 || *(_DWORD *)(a2 + 100) == v8[7])
        && (!(v7 & 0x80003) || *(_DWORD *)(a2 + 104) == v8[8]) )
      {
        break;
      }
      v8 += 9;
    }
    while ( *v8 );
    v3 = v24;
  }
  v9 = *v8;
  v31 = v9;
  if ( v9 )
  {
    v10 = sub_41A874(v9);
    v22 = v10;
    if ( *(_BYTE *)(a2 + 10) & 0x80 )
      *(_DWORD *)(v3 + 68) = 4;
    else
      *(_DWORD *)(v3 + 68) = 2 * (v27 == 6) + 3;
    if ( v10[1] != 1 )
    {
      v23 = 0;
      goto LABEL_43;
    }
    if ( v35 >= 0x400 )
    {
      v32 = a2 + 1152;
      v35 -= 1024;
      v23 = a2 + 128;
LABEL_43:
      v28 = 0;
      if ( v27 <= 0 )
        return 0;
      v11 = v35;
      while ( 1 )
      {
        v12 = *(_DWORD *)(v3 + 12);
        v30 = *(_DWORD *)(v3 + 16);
        v33 = *(_DWORD *)(v3 + 20);
        if ( v28 )
        {
          v13 = operator new(0x54u);
          if ( v13 )
            v14 = sub_41CC04((int)v13);
          else
            v14 = 0;
          if ( !v14 )
            return -2147024882;
          *(_DWORD *)(v26 + 80) = v14;
          v26 = v14;
        }
        else
        {
          v26 = v3;
        }
        v29 = 0;
        if ( !v25 )
          goto LABEL_89;
        v15 = v30;
        do
        {
          v16 = v31;
          if ( v29 )
          {
            v17 = operator new(0x54u);
            if ( v17 )
              v18 = sub_41CC04((int)v17);
            else
              v18 = 0;
            if ( !v18 )
              return -2147024882;
            *(_DWORD *)(v11 + 76) = v18;
            v11 = v18;
            v16 = v31;
          }
          else
          {
            v11 = v26;
          }
          if ( v16 > 877942852 )
          {
            if ( v16 == 894720068 )
            {
LABEL_67:
              v19 = 16 * ((v12 + 3) >> 2);
LABEL_68:
              v20 = v19 * ((unsigned int)(v15 + 3) >> 2);
              goto LABEL_69;
            }
            if ( v16 == 1111970375 || v16 == 1195525970 || v16 == 1498831189 )
            {
LABEL_78:
              v19 = 4 * ((v12 + 1) >> 1);
              goto LABEL_79;
            }
          }
          else
          {
            if ( v16 == 877942852 )
              goto LABEL_67;
            if ( v16 == 827611204 )
            {
              v19 = 8 * ((v12 + 3) >> 2);
              goto LABEL_68;
            }
            if ( v16 == 844388420 )
              goto LABEL_67;
            if ( v16 == 844715353 )
              goto LABEL_78;
            if ( v16 == 861165636 )
              goto LABEL_67;
          }
          v19 = v12 * (v22[2] >> 3);
LABEL_79:
          v20 = v15 * v19;
LABEL_69:
          *(_DWORD *)(v11 + 56) = 0;
          *(_DWORD *)(v11 + 60) = 0;
          v21 = v33 * v20;
          *(_DWORD *)v11 = v31;
          *(_DWORD *)(v11 + 48) = v19;
          *(_DWORD *)(v11 + 4) = v32;
          *(_DWORD *)(v11 + 20) = v33;
          *(_DWORD *)(v11 + 52) = v20;
          *(_DWORD *)(v11 + 12) = v12;
          *(_DWORD *)(v11 + 16) = v30;
          *(_DWORD *)(v11 + 8) = v23;
          if ( v35 < v33 * v20 )
            return -2147467259;
          v32 += v21;
          v35 -= v21;
          if ( v12 == 1 )
            v12 = 1;
          else
            v12 >>= 1;
          if ( v30 == 1 )
            v15 = 1;
          else
            v15 = v30 >> 1;
          v30 = v15;
          if ( v33 == 1 )
            v33 = 1;
          else
            v33 >>= 1;
          ++v29;
        }
        while ( v29 < v25 );
        v3 = v24;
LABEL_89:
        if ( ++v28 >= v27 )
          return 0;
      }
    }
  }
  return -2147467259;
}
// 4B1D58: using guessed type int dword_4B1D58;

//----- (0041EBA1) --------------------------------------------------------
signed int __thiscall sub_41EBA1(void *this, int a2, unsigned int a3)
{
  signed int result; // eax@4

  if ( a3 < 0xE || *(_WORD *)a2 != 19778 || *(_DWORD *)(a2 + 2) > a3 )
    result = -2147467259;
  else
    result = sub_41CC92(this, a2 + 14, a3 - 14);
  return result;
}

//----- (0041EBD1) --------------------------------------------------------
signed int __thiscall sub_41EBD1(void *this, char *a2, unsigned int a3, signed int a4, int a5)
{
  char *v5; // edx@1
  int v6; // esi@1
  unsigned int v7; // ecx@2
  signed int v8; // ebx@3
  int v9; // eax@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // eax@10
  int v13; // eax@11
  int v14; // eax@12
  signed int v15; // eax@14
  void *v16; // ecx@29
  void *v17; // ecx@31
  bool v18; // cf@33
  _DWORD *i; // eax@37
  int j; // eax@40
  int v22; // ecx@41
  int v23; // [sp+Ch] [bp-20h]@5
  int v24; // [sp+10h] [bp-1Ch]@5
  int v25; // [sp+14h] [bp-18h]@5
  int v26; // [sp+18h] [bp-14h]@5
  int v27; // [sp+1Ch] [bp-10h]@5
  int v28; // [sp+20h] [bp-Ch]@5
  int v29; // [sp+24h] [bp-8h]@5
  int v30; // [sp+28h] [bp-4h]@5

  v5 = a2;
  v6 = (int)this;
  if ( !a2 )
    return -2005530516;
  v7 = a3;
  if ( !a3 )
    return -2005530516;
  v8 = a4;
  if ( !a4 && !a5 )
    return 0;
  v23 = 0;
  v24 = 5;
  v25 = 4;
  v26 = 1;
  v27 = 3;
  v28 = 2;
  v29 = 6;
  v30 = 0;
  while ( 1 )
  {
    *(_DWORD *)(v6 + 64) = a5;
    v9 = *(&v23 + v30);
    *(_DWORD *)(v6 + 72) = v9;
    *(_DWORD *)(v6 + 68) = 3;
    if ( !v9 )
    {
      v15 = sub_41EBA1((void *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v10 = v9 - 1;
    if ( !v10 )
    {
      v15 = sub_41D821((_DWORD *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v11 = v10 - 1;
    if ( !v11 )
    {
      v15 = sub_41DA99((void *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v12 = v11 - 1;
    if ( !v12 )
    {
      v15 = sub_41E2E4((int *)v6, (int)v5, v7);
      goto LABEL_21;
    }
    v13 = v12 - 1;
    if ( !v13 )
    {
      v15 = sub_41E835(v6, (int)v5, v7);
      goto LABEL_21;
    }
    v14 = v13 - 1;
    if ( !v14 )
    {
      v15 = sub_41E011((_DWORD *)v6, v5, v7);
      goto LABEL_21;
    }
    if ( v14 == 1 )
    {
      v15 = sub_41CC92((void *)v6, (int)v5, v7);
LABEL_21:
      a4 = v15;
    }
    if ( a4 >= 0 )
      break;
    if ( *(_DWORD *)(v6 + 4) && *(_DWORD *)(v6 + 56) )
      j__free(*(void **)(v6 + 4));
    if ( *(_DWORD *)(v6 + 8) && *(_DWORD *)(v6 + 60) )
      j__free(*(void **)(v6 + 8));
    v16 = *(void **)(v6 + 76);
    if ( v16 )
      sub_41CC76(v16, 1);
    v17 = *(void **)(v6 + 80);
    if ( v17 )
      sub_41CC76(v17, 1);
    v18 = (unsigned int)++v30 < 7;
    *(_DWORD *)(v6 + 4) = 0;
    *(_DWORD *)(v6 + 8) = 0;
    *(_DWORD *)(v6 + 56) = 0;
    *(_DWORD *)(v6 + 60) = 0;
    *(_DWORD *)(v6 + 76) = 0;
    *(_DWORD *)(v6 + 80) = 0;
    if ( !v18 )
      break;
    v7 = a3;
    v5 = a2;
  }
  if ( v30 == 7 )
    return -2005529767;
  if ( v8 )
  {
    memset((void *)v8, 0, 0x1Cu);
    *(_DWORD *)v8 = *(_DWORD *)(v6 + 12);
    *(_DWORD *)(v8 + 4) = *(_DWORD *)(v6 + 16);
    *(_DWORD *)(v8 + 8) = *(_DWORD *)(v6 + 20);
    *(_DWORD *)(v8 + 12) = 1;
    *(_DWORD *)(v8 + 16) = sub_41AA0B(*(_DWORD *)v6);
    *(_DWORD *)(v8 + 20) = *(_DWORD *)(v6 + 68);
    *(_DWORD *)(v8 + 24) = *(_DWORD *)(v6 + 72);
    for ( i = (_DWORD *)(v6 + 76); *i; i = (_DWORD *)(*i + 76) )
      ++*(_DWORD *)(v8 + 12);
  }
  do
  {
    for ( j = v6; j; j = *(_DWORD *)(j + 76) )
    {
      *(_DWORD *)(j + 32) = *(_DWORD *)(j + 12);
      *(_DWORD *)(j + 36) = *(_DWORD *)(j + 16);
      v22 = *(_DWORD *)(j + 20);
      *(_DWORD *)(j + 24) = 0;
      *(_DWORD *)(j + 28) = 0;
      *(_DWORD *)(j + 40) = 0;
      *(_DWORD *)(j + 44) = v22;
    }
    v6 = *(_DWORD *)(v6 + 80);
  }
  while ( v6 );
  return 0;
}

//----- (0041EDBA) --------------------------------------------------------
int __thiscall sub_41EDBA(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = 0;
  return result;
}

//----- (0041EDC4) --------------------------------------------------------
int __thiscall sub_41EDC4(int this)
{
  int (__stdcall ****v1)(_DWORD); // esi@1
  int (__stdcall ***v2)(_DWORD); // ecx@1
  int result; // eax@2

  v1 = (int (__stdcall ****)(_DWORD))this;
  v2 = *(int (__stdcall ****)(_DWORD))(this + 4);
  if ( v2 )
    result = (**v2)(1);
  if ( *v1 )
    result = (***v1)(1);
  return result;
}

//----- (0041EDE2) --------------------------------------------------------
double __stdcall sub_41EDE2(float a1)
{
  return floor(a1);
}

//----- (0041EE0B) --------------------------------------------------------
_DWORD *__stdcall sub_41EE0B(unsigned int a1, signed int a2, int a3)
{
  unsigned int v3; // edi@1
  double v4; // st7@3
  double v5; // st6@3
  size_t v6; // esi@3
  signed __int64 v7; // rax@4
  _DWORD *v8; // edi@5
  int v9; // ebx@6
  signed int v10; // esi@6
  float v11; // ST20_4@8
  double v12; // st7@8
  double v13; // st7@8
  float v14; // ST00_4@13
  signed int v15; // edx@13
  double v16; // st7@13
  int v17; // ecx@14
  int v18; // eax@22
  double v19; // st6@30
  int v20; // eax@39
  _DWORD *v22; // [sp+10h] [bp-3Ch]@7
  int v23; // [sp+14h] [bp-38h]@7
  float v24; // [sp+18h] [bp-34h]@3
  float v25; // [sp+1Ch] [bp-30h]@3
  float v26; // [sp+24h] [bp-28h]@3
  int i; // [sp+28h] [bp-24h]@14
  float v28; // [sp+2Ch] [bp-20h]@8
  float v29; // [sp+30h] [bp-1Ch]@3
  unsigned int v30; // [sp+34h] [bp-18h]@6
  float v31; // [sp+38h] [bp-14h]@16
  float v32; // [sp+3Ch] [bp-10h]@8
  unsigned int v33; // [sp+40h] [bp-Ch]@7
  float v34; // [sp+44h] [bp-8h]@8
  float v35; // [sp+48h] [bp-4h]@6

  v3 = 0;
  if ( a1 && a2 )
  {
    v29 = (double)(unsigned int)a2;
    v4 = (double)a1;
    v25 = v4;
    v5 = v29 / v4;
    v6 = 16;
    v26 = v5;
    v24 = 0.5 / v5;
    if ( a1 > 0 )
    {
      do
      {
        v7 = (signed __int64)(((double)v3 - 0.5) * v5 + v5 - ((double)v3 - 0.5) * v5 + (double)(a3 != 0) + 1.0);
        ++v3;
        v6 += 16 * v7 + 12;
      }
      while ( v3 < a1 );
    }
    v8 = operator new(v6);
    if ( v8 )
    {
      v9 = 0;
      v30 = 0;
      v35 = 0.0;
      v10 = 1;
      if ( !a1 )
        goto LABEL_41;
      while ( 1 )
      {
        v33 = 0;
        v22 = &v8[v10];
        v23 = v10 * 4;
        ++v10;
        do
        {
          v11 = (double)v30;
          v12 = (double)v33 + v11 - 0.5;
          v32 = v12;
          v13 = v12 * v26;
          v28 = v13;
          v34 = v26 + v13;
          if ( !a3 )
          {
            if ( v13 < 0.0 )
            {
              v13 = 0.0;
              v28 = 0.0;
            }
            if ( v34 > (double)v29 )
              v34 = (double)(unsigned int)a2;
          }
          v14 = v13;
          v15 = (signed __int64)sub_41EDE2(v14);
          v16 = (double)v15;
          if ( v16 < v34 )
          {
            v17 = v15 - a2;
            for ( i = v15 - a2; ; v17 = i )
            {
              v31 = v16 + 1.0;
              if ( v15 >= 0 )
              {
                if ( v15 < a2 )
                  v17 = v15;
              }
              else
              {
                v17 = v15 + a2;
              }
              if ( v17 != v9 )
              {
                if ( v35 > 0.0000099999997 )
                {
                  v18 = (int)&v8[v10];
                  *(_DWORD *)v18 = v9;
                  v10 += 2;
                  *(float *)(v18 + 4) = v35;
                }
                v9 = v17;
                v35 = 0.0;
              }
              if ( v16 < v28 )
                v16 = v28;
              if ( v31 > (double)v34 )
                v31 = v34;
              if ( a3 )
                goto LABEL_45;
              if ( v32 < 0.0 )
              {
                v19 = 1.0;
                goto LABEL_34;
              }
              if ( v32 + 1.0 < v25 )
LABEL_45:
                v19 = (v31 + v16) * v24 - v32;
              else
                v19 = 0.0;
LABEL_34:
              if ( v33 )
                v19 = 1.0 - v19;
              ++v15;
              ++i;
              v35 = (v31 - v16) * v19 + v35;
              v16 = (double)v15;
              if ( v16 >= v34 )
                break;
            }
          }
          ++v33;
        }
        while ( v33 < 2 );
        if ( v35 > 0.0000099999997 )
        {
          v20 = (int)&v8[v10];
          v10 += 2;
          *(_DWORD *)v20 = v9;
          *(float *)(v20 + 4) = v35;
        }
        v35 = 0.0;
        ++v30;
        *v22 = v10 * 4 - v23;
        if ( v30 >= a1 )
        {
LABEL_41:
          *v8 = v10 * 4;
          return v8;
        }
      }
    }
  }
  return 0;
}

//----- (0041F0C7) --------------------------------------------------------
signed int __thiscall sub_41F0C7(_DWORD *this)
{
  int v1; // edi@1
  unsigned int v2; // esi@1
  int v4; // eax@3
  unsigned int v5; // ecx@3
  int v6; // edx@5
  unsigned int v7; // ecx@12
  int v8; // esi@12
  unsigned int v9; // eax@13
  _DWORD *v10; // edx@13
  char *v11; // ebx@14
  int v12; // eax@15
  int v13; // ecx@16
  signed int v14; // [sp-8h] [bp-28h]@10
  unsigned int v15; // [sp+8h] [bp-18h]@12
  unsigned int v16; // [sp+Ch] [bp-14h]@3
  int v17; // [sp+Ch] [bp-14h]@12
  unsigned int v18; // [sp+10h] [bp-10h]@1
  unsigned int v19; // [sp+10h] [bp-10h]@12
  int v20; // [sp+14h] [bp-Ch]@12
  _DWORD *v21; // [sp+18h] [bp-8h]@1
  unsigned int v22; // [sp+18h] [bp-8h]@14
  char *v23; // [sp+1Ch] [bp-4h]@14

  v1 = *this;
  v2 = *(_DWORD *)(*this + 4156);
  v21 = this;
  v18 = *(_DWORD *)(*this + 4152);
  if ( ((unsigned __int8)v2 | (unsigned __int8)(*(_BYTE *)(*this + 4152) | *(_BYTE *)(*this + 4160) | *(_BYTE *)(*this + 4164))) & 3 )
    return -2147467259;
  v4 = this[1];
  v5 = *(_DWORD *)(v4 + 4156);
  v16 = *(_DWORD *)(v4 + 4152);
  if ( ((unsigned __int8)v5 | (unsigned __int8)(v16 | *(_BYTE *)(v4 + 4160) | *(_BYTE *)(v4 + 4164))) & 3 )
    return -2147467259;
  v6 = *(_DWORD *)(v4 + 4);
  if ( v6 == 827611204 )
  {
    v14 = 8;
  }
  else
  {
    if ( v6 != 844388420 && v6 != 861165636 && v6 != 877942852 && v6 != 894720068 )
      return -2147467259;
    v14 = 16;
  }
  v15 = v14 * (*(_DWORD *)(v4 + 4192) >> 2);
  v20 = *(_DWORD *)(v4 + 32)
      + v14 * (v16 >> 2)
      + *(_DWORD *)(v4 + 4168) * *(_DWORD *)(v4 + 4188)
      + *(_DWORD *)(v4 + 4184) * (v5 >> 2);
  v7 = v18;
  v19 = 0;
  v8 = *(_DWORD *)(v1 + 32)
     + v14 * (v7 >> 2)
     + *(_DWORD *)(v1 + 4168) * *(_DWORD *)(v1 + 4188)
     + *(_DWORD *)(v1 + 4184) * (v2 >> 2);
  v17 = v8;
  if ( *(_DWORD *)(v4 + 4200) )
  {
    v9 = *(_DWORD *)(v4 + 4196);
    v10 = v21;
    do
    {
      v22 = 0;
      v11 = (char *)v20;
      v23 = (char *)v8;
      if ( v9 )
      {
        do
        {
          v22 += 4;
          qmemcpy(v11, v23, v15);
          v12 = v10[1];
          v11 += *(_DWORD *)(v12 + 4184);
          v9 = *(_DWORD *)(v12 + 4196);
          v23 += *(_DWORD *)(*v10 + 4184);
        }
        while ( v22 < v9 );
      }
      v13 = v10[1];
      v20 += *(_DWORD *)(v13 + 4188);
      v8 = *(_DWORD *)(*v10 + 4188) + v17;
      ++v19;
      v17 += *(_DWORD *)(*v10 + 4188);
    }
    while ( v19 < *(_DWORD *)(v13 + 4200) );
  }
  return 0;
}

//----- (0041F255) --------------------------------------------------------
int __stdcall sub_41F255(int *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  unsigned int v6; // edx@1
  int v7; // edi@1
  char *v8; // ecx@4
  unsigned int v9; // edx@5
  unsigned int v10; // edi@5
  unsigned int v11; // edx@5
  unsigned int v12; // ecx@5
  unsigned int v13; // ebx@5
  unsigned int v14; // esi@5
  int v15; // ecx@5
  int v16; // ebx@5
  int *v17; // ecx@5
  bool v18; // zf@5
  unsigned int v20; // [sp+4h] [bp-14h]@1
  unsigned int v21; // [sp+8h] [bp-10h]@4
  int v22; // [sp+Ch] [bp-Ch]@4
  int *v23; // [sp+14h] [bp-4h]@3
  unsigned int v24; // [sp+28h] [bp+10h]@5
  unsigned int v25; // [sp+2Ch] [bp+14h]@2

  v6 = a2;
  v7 = a5;
  v20 = a2 + a5 * a4;
  if ( a2 < a2 + a5 * a4 )
  {
    v25 = a2 + 4 * a3;
    do
    {
      v23 = a1;
      if ( v6 < v25 )
      {
        v8 = (char *)(v6 + 4);
        v22 = v6 + 4;
        v21 = ((v25 - v6 - 1) >> 3) + 1;
        do
        {
          v9 = *(_DWORD *)&v8[v7];
          v10 = *(_DWORD *)&v8[v7 - 4];
          v24 = v9;
          v11 = *(_DWORD *)v8;
          v12 = *((_DWORD *)v8 - 1);
          v13 = ((v24 >> 2) & 0xFFC03FC0)
              + ((v10 >> 2) & 0xFFC03FC0)
              + ((v12 >> 2) & 0xFFC03FC0)
              + ((v11 >> 2) & 0xFFC03FC0)
              - 8388480;
          v14 = (v24 & 0xFF00FF) + (v10 & 0xFF00FF) + (v12 & 0xFF00FF) + (v11 & 0xFF00FF) + 131074;
          v15 = ((v24 >> 2) & 0x3FC03FC0) + ((v10 >> 2) & 0x3FC03FC0) + ((v12 >> 2) & 0x3FC03FC0);
          v7 = a5;
          v16 = (v15 + ((v11 >> 2) & 0x3FC03FC0) + 8388736) ^ ((v14 >> 2) ^ v13) & 0xFF00FF;
          v17 = v23;
          ++v23;
          *v17 = v16;
          v8 = (char *)(v22 + 8);
          v18 = v21-- == 1;
          v22 += 8;
        }
        while ( !v18 );
        v6 = a2;
      }
      a1 = (int *)((char *)a1 + a6);
      v25 += 2 * v7;
      v6 += 2 * v7;
      a2 = v6;
    }
    while ( v6 < v20 );
  }
  return 0;
}

//----- (0041F37D) --------------------------------------------------------
int __thiscall sub_41F37D(_DWORD *this)
{
  return off_4B243C(
           *(_DWORD *)(this[1] + 32),
           *(_DWORD *)(*this + 32),
           *(_DWORD *)(*this + 4192),
           *(_DWORD *)(*this + 4196),
           *(_DWORD *)(*this + 4184),
           *(_DWORD *)(this[1] + 4184));
}
// 4B243C: using guessed type int (__stdcall *off_4B243C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0041F3AB) --------------------------------------------------------
int __stdcall sub_41F3AB(unsigned int *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  unsigned int v7; // edi@1
  char *v8; // esi@4
  unsigned int v9; // ebx@5
  unsigned int *v10; // eax@5
  bool v11; // zf@5
  unsigned int v13; // [sp+4h] [bp-14h]@1
  unsigned int v14; // [sp+Ch] [bp-Ch]@4
  unsigned int *v15; // [sp+28h] [bp+10h]@3
  unsigned int v16; // [sp+2Ch] [bp+14h]@2

  v6 = a5;
  v7 = a2;
  v13 = a2 + a5 * a4;
  if ( a2 < a2 + a5 * a4 )
  {
    v16 = a2 + 4 * a3;
    do
    {
      v15 = a1;
      if ( v7 < v16 )
      {
        v8 = (char *)(v7 + 4);
        v14 = ((v16 - v7 - 1) >> 3) + 1;
        do
        {
          v9 = ((*(_DWORD *)&v8[v6] & 0xFF00)
              + (*(_DWORD *)&v8[v6 - 4] & 0xFF00)
              + (*((_DWORD *)v8 - 1) & 0xFF00)
              + (*(_DWORD *)v8 & 0xFF00)
              + 512) & 0x3FC00 | ((*(_DWORD *)&v8[v6] & 0xFF00FF)
                                + (*(_DWORD *)&v8[v6 - 4] & 0xFF00FF)
                                + (*((_DWORD *)v8 - 1) & 0xFF00FF)
                                + (*(_DWORD *)v8 & 0xFF00FF)
                                + 131074) & 0x3FC03FC;
          v10 = v15;
          ++v15;
          v8 += 8;
          v11 = v14-- == 1;
          *v10 = v9 >> 2;
          v6 = a5;
        }
        while ( !v11 );
        v7 = a2;
      }
      a1 = (unsigned int *)((char *)a1 + a6);
      v16 += 2 * v6;
      v7 += 2 * v6;
      a2 = v7;
    }
    while ( v7 < v13 );
  }
  return 0;
}

//----- (0041F495) --------------------------------------------------------
int __stdcall sub_41F495(int *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@2
  int v7; // eax@3
  int *i; // edx@3
  __m64 *v9; // edi@4
  __m64 *v10; // esi@4
  int v11; // ebx@4
  __m64 *j; // eax@4
  __m64 v13; // mm4@5
  __m64 v14; // mm6@5
  __m64 v15; // mm2@5
  __m64 v16; // mm3@5
  __m64 *v17; // ecx@5
  __m64 v18; // mm0@5
  int v19; // [sp+10h] [bp-8h]@4
  int v20; // [sp+28h] [bp+10h]@3
  int v21; // [sp+2Ch] [bp+14h]@3

  if ( a3 & 3 )
  {
    result = sub_41F255(a1, a2, a3, a4, a5, a6);
  }
  else
  {
    v21 = a2 + a5 * a4;
    _m_femms();
    v20 = 4 * a3;
    v7 = a2;
    for ( i = a1; v7 < v21; i = (int *)((char *)i + a6) )
    {
      v9 = (__m64 *)v7;
      v10 = (__m64 *)(a5 + v7);
      v11 = v20 + v7;
      v19 = v7;
      for ( j = (__m64 *)i;
            (signed int)v9 < v11;
            v17->m64_u64 = (unsigned __int64)_m_packuswb(
                                               _m_psraw(
                                                 _m_paddw(_m_paddw(_m_paddw(v18, v15), v16), (__m64)562958543486978i64),
                                                 2u),
                                               _m_psraw(
                                                 _m_paddw(
                                                   _m_paddw(
                                                     _m_paddw(
                                                       _m_paddw(_m_punpcklbw(v13, 0i64), _m_punpckhbw(v13, 0i64)),
                                                       _m_punpcklbw(v14, 0i64)),
                                                     _m_punpckhbw(v14, 0i64)),
                                                   (__m64)562958543486978i64),
                                                 2u)) )
      {
        v13 = v9[1];
        v14 = v10[1];
        v15 = _m_punpcklbw((__m64)v10->m64_u64, 0i64);
        v16 = _m_punpckhbw((__m64)v10->m64_u64, 0i64);
        v17 = j;
        v18 = _m_paddw(_m_punpcklbw((__m64)v9->m64_u64, 0i64), _m_punpckhbw((__m64)v9->m64_u64, 0i64));
        v9 += 2;
        v10 += 2;
        ++j;
      }
      v7 = a5 + a5 + v19;
    }
    _m_femms();
    result = 0;
  }
  return result;
}

//----- (0041F5AD) --------------------------------------------------------
int __cdecl sub_41F5AD(int a1, int a2, int a3, int a4, int a5, int a6)
{
  if ( sub_42F835() )
  {
    off_4B243C = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_41F495;
    off_4B2440 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_41F495;
  }
  else
  {
    off_4B243C = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_41F255;
    off_4B2440 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_41F3AB;
  }
  return off_4B243C(a1, a2, a3, a4, a5, a6);
}
// 4B243C: using guessed type int (__stdcall *off_4B243C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4B2440: using guessed type int (__stdcall *off_4B2440)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0041F5E5) --------------------------------------------------------
int sub_41F5E5()
{
  void *v0; // eax@2

  if ( sub_42F835() )
  {
    v0 = sub_41F495;
    off_4B243C = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_41F495;
  }
  else
  {
    off_4B243C = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))sub_41F255;
    v0 = sub_41F3AB;
  }
  off_4B2440 = (int (__stdcall *)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))v0;
  return ((int (*)(void))v0)();
}
// 4B243C: using guessed type int (__stdcall *off_4B243C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4B2440: using guessed type int (__stdcall *off_4B2440)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0041F614) --------------------------------------------------------
int __thiscall sub_41F614(_DWORD *this)
{
  return off_4B2440(
           *(_DWORD *)(this[1] + 32),
           *(_DWORD *)(*this + 32),
           *(_DWORD *)(*this + 4192),
           *(_DWORD *)(*this + 4196),
           *(_DWORD *)(*this + 4184),
           *(_DWORD *)(this[1] + 4184));
}
// 4B2440: using guessed type int (__stdcall *off_4B2440)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0041F642) --------------------------------------------------------
int __fastcall sub_41F642(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  unsigned int v3; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // ebp@3
  __int16 v10; // bx@3
  _WORD *v11; // eax@3
  bool v12; // cf@3
  _WORD *v14; // [sp+Ch] [bp-24h]@2
  _WORD *v15; // [sp+10h] [bp-20h]@1
  unsigned int v16; // [sp+14h] [bp-1Ch]@2
  int v17; // [sp+18h] [bp-18h]@2
  unsigned int v18; // [sp+1Ch] [bp-14h]@1
  unsigned int v19; // [sp+24h] [bp-Ch]@2
  int v20; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v15 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v20 = a1;
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v18 = v3 )
  {
    v14 = v15;
    v5 = v3 + v2;
    v6 = v3;
    v16 = v3;
    v17 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v6;
        LOWORD(v9) = v9 & 0xF81F;
        v10 = (((*(_WORD *)v5 & 0xF81F) + (*(_WORD *)v6 & 0xF81F) + (v8 & 0xF81F) + (v7 & 0xF81Fu) + 4098) >> 2) ^ ((((v7 & 0xFFFF07E0) + (*(_WORD *)v5 & 0x7E0) + (*(_WORD *)v6 & 0x7E0) + (v8 & 0xFFFF07E0) + 64) >> 2) ^ (((*(_WORD *)v5 & 0xF81F) + v9 + (v8 & 0xFFFFF81F) + (v7 & 0xFFFFF81F) + 4098) >> 2)) & 0x7E0;
        v11 = v14;
        ++v14;
        *v11 = v10;
        v6 = v16 + 4;
        v5 = v17 + 4;
        v12 = v16 + 4 < v19;
        v16 += 4;
        v17 += 4;
      }
      while ( v12 );
      a1 = v20;
      v3 = v18;
      v4 = i;
    }
    v15 = (_WORD *)((char *)v15 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (0041F792) --------------------------------------------------------
int __fastcall sub_41F792(int a1)
{
  int v1; // eax@1
  int v2; // ebx@1
  unsigned int v3; // esi@1
  unsigned int v4; // edx@1
  int v5; // ebx@2
  int v6; // ebp@2
  int v7; // edx@3
  int v8; // eax@3
  int v9; // ebx@3
  int v10; // ST20_4@3
  unsigned int v11; // ebp@3
  int v12; // eax@3
  _WORD *v13; // eax@3
  _WORD *v15; // [sp+8h] [bp-20h]@2
  _WORD *v16; // [sp+Ch] [bp-1Ch]@1
  unsigned int v17; // [sp+10h] [bp-18h]@2
  int v18; // [sp+14h] [bp-14h]@2
  unsigned int v19; // [sp+1Ch] [bp-Ch]@2
  int v20; // [sp+20h] [bp-8h]@1
  int i; // [sp+24h] [bp-4h]@1

  v16 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v20 = a1;
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v3 += 2 * v2 )
  {
    v15 = v16;
    v5 = v3 + v2;
    v6 = v3;
    v17 = v3;
    v18 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v5;
        v10 = *(_WORD *)v6;
        v11 = (v7 & 0xFFFF03E0) + (v9 & 0xFFFF03E0) + (v10 & 0xFFFF03E0) + (v8 & 0xFFFF03E0) + 64;
        v12 = (v9 & 0x7C1F) + (v10 & 0x7C1F) + (v8 & 0x7C1F);
        v5 = v18 + 4;
        v18 += 4;
        LOWORD(v11) = ((v12 + (v7 & 0x7C1Fu) + 2050) >> 2) & 0x7C1F | (v11 >> 2) & 0x3E0;
        v13 = v15;
        ++v15;
        *v13 = v11;
        v6 = v17 + 4;
        v17 += 4;
      }
      while ( v17 < v19 );
      a1 = v20;
      v4 = i;
    }
    v16 = (_WORD *)((char *)v16 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  }
  return 0;
}

//----- (0041F8B6) --------------------------------------------------------
int __fastcall sub_41F8B6(int a1)
{
  int v1; // esi@1
  unsigned int v2; // edx@1
  int v3; // edi@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  __int16 v7; // si@3
  __int16 v8; // dx@3
  __int16 v9; // di@3
  _WORD *v10; // ecx@3
  bool v11; // cf@3
  _WORD *v13; // [sp+Ch] [bp-24h]@2
  _WORD *v14; // [sp+10h] [bp-20h]@1
  unsigned int v15; // [sp+14h] [bp-1Ch]@2
  int v16; // [sp+18h] [bp-18h]@2
  unsigned int v17; // [sp+1Ch] [bp-14h]@1
  unsigned int v18; // [sp+24h] [bp-Ch]@2
  int v19; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v4 = v2 + v3 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v19 = a1;
  v14 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v17 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v2 + v3 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v2 < v4; v17 = v2 )
  {
    v13 = v14;
    v5 = v2 + v3;
    v6 = v2;
    v15 = v2;
    v16 = v5;
    v18 = v2 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v2 < v18 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v5;
        v10 = v13;
        ++v13;
        *v10 = (((v9 & 0x83E0) + (*(_WORD *)v6 & 0x83E0) + (v8 & 0x83E0) + (v7 & 0x83E0u) + 65600) >> 2) ^ ((((v7 & 0x7C1F) + (v9 & 0x7C1F) + (*(_WORD *)v6 & 0x7C1F) + (v8 & 0x7C1Fu) + 2050) >> 2) ^ (((v9 & 0x83E0) + (*(_WORD *)v6 & 0x83E0) + (v8 & 0x83E0) + (v7 & 0x83E0u) + 65600) >> 2)) & 0x7C1F;
        v6 = v15 + 4;
        v5 = v16 + 4;
        v11 = v15 + 4 < v18;
        v15 += 4;
        v16 += 4;
      }
      while ( v11 );
      a1 = v19;
      v2 = v17;
      v4 = i;
    }
    v14 = (_WORD *)((char *)v14 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v3 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v2 += 2 * v3;
  }
  return 0;
}

//----- (0041FA05) --------------------------------------------------------
int __fastcall sub_41FA05(int a1)
{
  int v1; // esi@1
  int v2; // edi@1
  unsigned int v3; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@2
  int v6; // ebx@2
  int v7; // esi@3
  int v8; // eax@3
  int v9; // ebp@3
  __int16 v10; // bx@3
  _WORD *v11; // eax@3
  bool v12; // cf@3
  _WORD *v14; // [sp+Ch] [bp-24h]@2
  _WORD *v15; // [sp+10h] [bp-20h]@1
  unsigned int v16; // [sp+14h] [bp-1Ch]@2
  int v17; // [sp+18h] [bp-18h]@2
  unsigned int v18; // [sp+1Ch] [bp-14h]@1
  unsigned int v19; // [sp+24h] [bp-Ch]@2
  int v20; // [sp+28h] [bp-8h]@1
  int i; // [sp+2Ch] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v15 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v20 = a1;
  v18 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v18 = v3 )
  {
    v14 = v15;
    v5 = v3 + v2;
    v6 = v3;
    v16 = v3;
    v17 = v5;
    v19 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v19 )
    {
      do
      {
        v7 = *(_WORD *)(v6 + 2);
        v8 = *(_WORD *)(v5 + 2);
        v9 = *(_WORD *)v6;
        LOWORD(v9) = v9 & 0xF0F0;
        v10 = (((*(_WORD *)v5 & 0xF0F0) + (*(_WORD *)v6 & 0xF0F0) + (v8 & 0xF0F0) + (v7 & 0xF0F0u) + 8224) >> 2) ^ ((((v7 & 0xFFFF0F0F) + (*(_WORD *)v5 & 0xF0F) + (*(_WORD *)v6 & 0xF0F) + (v8 & 0xFFFF0F0F) + 514) >> 2) ^ (((*(_WORD *)v5 & 0xF0F0) + v9 + (v8 & 0xFFFFF0F0) + (v7 & 0xFFFFF0F0) + 8224) >> 2)) & 0xF0F;
        v11 = v14;
        ++v14;
        *v11 = v10;
        v6 = v16 + 4;
        v5 = v17 + 4;
        v12 = v16 + 4 < v19;
        v16 += 4;
        v17 += 4;
      }
      while ( v12 );
      a1 = v20;
      v3 = v18;
      v4 = i;
    }
    v15 = (_WORD *)((char *)v15 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (0041FB58) --------------------------------------------------------
int __fastcall sub_41FB58(int a1)
{
  int v1; // edx@1
  _BYTE *v2; // ebp@1
  unsigned int v3; // eax@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // ebp@3
  int v9; // esi@3
  int v10; // eax@3
  int v11; // edi@3
  char v12; // dl@3
  _BYTE *v13; // eax@3
  bool v14; // cf@3
  _BYTE *v16; // [sp+Ch] [bp-20h]@2
  unsigned int v17; // [sp+10h] [bp-1Ch]@2
  int v18; // [sp+14h] [bp-18h]@2
  _BYTE *v19; // [sp+18h] [bp-14h]@1
  unsigned int v20; // [sp+1Ch] [bp-10h]@1
  unsigned int v21; // [sp+20h] [bp-Ch]@2
  int v22; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v22 = a1;
  v19 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v20 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v5; v20 = v3 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v16 = v2;
    v17 = v3;
    v18 = v6;
    v21 = v3 + *(_DWORD *)(v1 + 4192);
    if ( v3 < v21 )
    {
      do
      {
        v8 = *(_BYTE *)v7;
        v9 = *(_BYTE *)(v7 + 1);
        v10 = *(_BYTE *)(v6 + 1);
        v11 = *(_BYTE *)v6;
        LOWORD(v8) = v8 & 0xE3;
        LOWORD(v9) = v9 & 0xE3;
        v12 = (((v11 & 0xE3) + v8 + (v10 & 0xE3u) + v9 + 66) >> 2) ^ ((((v11 & 0xFFFF00E3)
                                                                      + (*(_BYTE *)v7 & 0xE3)
                                                                      + (v10 & 0xFFFF00E3)
                                                                      + (*(_BYTE *)(v7 + 1) & 0xE3)
                                                                      + 66) >> 2) ^ (((v11 & 0x1C)
                                                                                    + (*(_BYTE *)v7 & 0x1C)
                                                                                    + (v10 & 0x1C)
                                                                                    + (*(_BYTE *)(v7 + 1) & 0x1Cu)
                                                                                    + 8) >> 2)) & 0x1C;
        v13 = v16++;
        v7 = v17 + 2;
        v6 = v18 + 2;
        v14 = v17 + 2 < v21;
        *v13 = v12;
        v17 += 2;
        v18 += 2;
      }
      while ( v14 );
      a1 = v22;
      v2 = v19;
      v3 = v20;
      v5 = i;
    }
    v2 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184);
    v1 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v4;
    v19 = v2;
  }
  return 0;
}

//----- (0041FC97) --------------------------------------------------------
int __thiscall sub_41FC97(_DWORD *this)
{
  int v1; // ebx@1
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  unsigned int v6; // eax@2
  int v7; // edi@2
  bool i; // cf@2
  int v9; // edi@3
  int v10; // ebx@3
  unsigned int v11; // ebx@3
  _BYTE *v12; // edi@3
  int v14; // [sp+Ch] [bp-10h]@6
  int v15; // [sp+10h] [bp-Ch]@4
  _BYTE *v16; // [sp+14h] [bp-8h]@2
  unsigned int v17; // [sp+18h] [bp-4h]@2

  v1 = *(_DWORD *)(this[1] + 32);
  v2 = *this;
  v3 = *(_DWORD *)(*this + 32);
  v4 = *(_DWORD *)(*this + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*this + 4196);
  while ( 1 )
  {
    v14 = v1;
    if ( v3 >= v5 )
      break;
    v6 = v3 + *(_DWORD *)(v2 + 4192);
    v7 = v3 + v4;
    v16 = (_BYTE *)v1;
    v17 = v3;
    for ( i = v3 < v6; ; i = v17 < v6 )
    {
      v15 = v7;
      if ( !i )
        break;
      v9 = *(_BYTE *)v7 + *(_BYTE *)(v17 + 1) + *(_BYTE *)(v7 + 1);
      v10 = *(_BYTE *)v17;
      v17 += 2;
      v11 = v9 + v10 + 2;
      v12 = v16++;
      *v12 = v11 >> 2;
      v7 = v15 + 2;
    }
    v1 = *(_DWORD *)(this[1] + 4184) + v14;
    v2 = *this;
    v4 = *(_DWORD *)(*this + 4184);
    v3 += 2 * v4;
  }
  return 0;
}

//----- (0041FD32) --------------------------------------------------------
int __fastcall sub_41FD32(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  unsigned int v3; // eax@1
  unsigned int v4; // edi@1
  int v5; // ebp@2
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // edi@3
  int v9; // eax@3
  int v10; // ebp@3
  int v11; // ST18_4@3
  unsigned int v12; // ebx@3
  int v13; // ecx@3
  int v14; // eax@3
  unsigned int v15; // edx@3
  int v16; // ebp@3
  unsigned int v17; // ecx@3
  int v18; // edi@3
  unsigned int v19; // edx@3
  _WORD *v20; // eax@3
  bool v21; // cf@3
  _WORD *v23; // [sp+8h] [bp-24h]@2
  _WORD *v24; // [sp+Ch] [bp-20h]@1
  unsigned int v25; // [sp+14h] [bp-18h]@2
  int v26; // [sp+18h] [bp-14h]@2
  unsigned int v27; // [sp+1Ch] [bp-10h]@1
  unsigned int v28; // [sp+20h] [bp-Ch]@2
  int v29; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v24 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v29 = a1;
  v27 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v27 = v3 )
  {
    v23 = v24;
    v5 = v3 + v2;
    v6 = v3;
    v25 = v3;
    v26 = v5;
    v28 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v28 )
    {
      do
      {
        v7 = *(_WORD *)v6;
        v8 = *(_WORD *)(v6 + 2);
        v9 = *(_WORD *)(v5 + 2);
        v10 = *(_WORD *)v5;
        v11 = *(_WORD *)v6;
        LOWORD(v7) = *(_WORD *)v6 & 0xE3;
        v12 = (v10 & 0xFFFF00E3) + v7 + (v9 & 0xFFFF00E3);
        HIWORD(v13) = HIWORD(v9);
        v14 = v9 & 0xFF1C;
        LOWORD(v13) = v14;
        v15 = (v12 + (v8 & 0xFFFF00E3) + 66) >> 2;
        HIWORD(v12) = HIWORD(v10);
        v16 = v10 & 0xFF1C;
        LOWORD(v12) = v16;
        v17 = v12 + (v11 & 0xFFFFFF1C) + v13;
        HIWORD(v12) = HIWORD(v8);
        v18 = v8 & 0xFF1C;
        LOWORD(v12) = v18;
        LOBYTE(v15) = ((v17 + v12 + 520) >> 2) ^ v15;
        v19 = ((v16 + (v11 & 0xFF1Cu) + v14 + v18 + 520) >> 2) ^ v15 & 0xFFFF00E3;
        v20 = v23;
        ++v23;
        v6 = v25 + 4;
        v5 = v26 + 4;
        v21 = v25 + 4 < v28;
        *v20 = v19;
        v25 += 4;
        v26 += 4;
      }
      while ( v21 );
      a1 = v29;
      v3 = v27;
      v4 = i;
    }
    v24 = (_WORD *)((char *)v24 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (0041FE7E) --------------------------------------------------------
int __fastcall sub_41FE7E(int a1)
{
  _WORD *v1; // ebp@1
  int v2; // eax@1
  unsigned int v3; // esi@1
  int v4; // edi@1
  unsigned int v5; // edx@1
  int v6; // edi@2
  unsigned int v7; // ebx@2
  int v8; // edx@3
  int v9; // eax@3
  int v10; // ebx@3
  int v11; // edi@3
  unsigned int v12; // ebp@3
  unsigned int v13; // eax@3
  unsigned int v14; // ebp@3
  _WORD *v15; // eax@3
  _WORD *v17; // [sp+Ch] [bp-1Ch]@2
  unsigned int v18; // [sp+10h] [bp-18h]@2
  int v19; // [sp+14h] [bp-14h]@2
  _WORD *v20; // [sp+18h] [bp-10h]@1
  unsigned int v21; // [sp+1Ch] [bp-Ch]@2
  int v22; // [sp+20h] [bp-8h]@1
  int i; // [sp+24h] [bp-4h]@1

  v1 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v2 = *(_DWORD *)a1;
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v22 = a1;
  v20 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v5; v20 = v1 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v17 = v1;
    v18 = v3;
    v19 = v6;
    v21 = v3 + 2 * *(_DWORD *)(v2 + 4192);
    if ( v3 < v21 )
    {
      do
      {
        v8 = *(_WORD *)(v7 + 2);
        v9 = *(_WORD *)(v6 + 2);
        v10 = *(_WORD *)v7;
        v11 = *(_WORD *)v6;
        v12 = (v11 & 0xFFFF00F0) + (v10 & 0xFFFF00F0) + (v9 & 0xFFFF00F0) + (v8 & 0xFFFF00F0) + 32;
        LOWORD(v9) = v9 & 0xF0F;
        LOWORD(v10) = v10 & 0xF0F;
        LOWORD(v11) = v11 & 0xF0F;
        LOWORD(v8) = v8 & 0xF0F;
        v13 = (unsigned int)(v11 + v10 + v9 + v8 + 514) >> 2;
        LOWORD(v13) = v13 & 0xF0F;
        v7 = v18 + 4;
        v6 = v19 + 4;
        v18 = v7;
        v19 += 4;
        v14 = v13 | (v12 >> 2) & 0xFFFF00F0;
        v15 = v17;
        ++v17;
        *v15 = v14;
      }
      while ( v7 < v21 );
      a1 = v22;
      v1 = v20;
      v5 = i;
    }
    v1 = (_WORD *)((char *)v1 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v2 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v4;
  }
  return 0;
}

//----- (0041FF9F) --------------------------------------------------------
int __fastcall sub_41FF9F(int a1)
{
  int v1; // edx@1
  int v2; // ebp@1
  unsigned int v3; // eax@1
  unsigned int v4; // edi@1
  int v5; // ebp@2
  int v6; // ebx@2
  int v7; // edx@3
  int v8; // edi@3
  int v9; // eax@3
  int v10; // ebp@3
  int v11; // ST18_4@3
  unsigned int v12; // ebx@3
  int v13; // ecx@3
  int v14; // eax@3
  unsigned int v15; // edx@3
  int v16; // ebp@3
  unsigned int v17; // ecx@3
  int v18; // edi@3
  unsigned int v19; // edx@3
  _WORD *v20; // eax@3
  bool v21; // cf@3
  _WORD *v23; // [sp+8h] [bp-24h]@2
  _WORD *v24; // [sp+Ch] [bp-20h]@1
  unsigned int v25; // [sp+14h] [bp-18h]@2
  int v26; // [sp+18h] [bp-14h]@2
  unsigned int v27; // [sp+1Ch] [bp-10h]@1
  unsigned int v28; // [sp+20h] [bp-Ch]@2
  int v29; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v24 = *(_WORD **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v29 = a1;
  v27 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v2 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v4; v27 = v3 )
  {
    v23 = v24;
    v5 = v3 + v2;
    v6 = v3;
    v25 = v3;
    v26 = v5;
    v28 = v3 + 2 * *(_DWORD *)(v1 + 4192);
    if ( v3 < v28 )
    {
      do
      {
        v7 = *(_WORD *)v6;
        v8 = *(_WORD *)(v6 + 2);
        v9 = *(_WORD *)(v5 + 2);
        v10 = *(_WORD *)v5;
        v11 = v7;
        LOWORD(v7) = (unsigned __int8)v7;
        v12 = (v10 & 0xFFFF00FF) + v7 + (v9 & 0xFFFF00FF);
        HIWORD(v13) = HIWORD(v9);
        v14 = v9 & 0xFF00;
        LOWORD(v13) = v14;
        v15 = (v12 + (v8 & 0xFFFF00FF) + 2) >> 2;
        HIWORD(v12) = HIWORD(v10);
        v16 = v10 & 0xFF00;
        LOWORD(v12) = v16;
        v17 = v12 + (v11 & 0xFFFFFF00) + v13;
        HIWORD(v12) = HIWORD(v8);
        v18 = v8 & 0xFF00;
        LOWORD(v12) = v18;
        LOBYTE(v15) = ((v17 + v12 + 512) >> 2) ^ v15;
        v19 = ((v16 + (v11 & 0xFF00u) + v14 + v18 + 512) >> 2) ^ v15 & 0xFFFF00FF;
        v20 = v23;
        ++v23;
        v6 = v25 + 4;
        v5 = v26 + 4;
        v21 = v25 + 4 < v28;
        *v20 = v19;
        v25 += 4;
        v26 += 4;
      }
      while ( v21 );
      a1 = v29;
      v3 = v27;
      v4 = i;
    }
    v24 = (_WORD *)((char *)v24 + *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184));
    v1 = *(_DWORD *)a1;
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v2;
  }
  return 0;
}

//----- (004200EB) --------------------------------------------------------
int __fastcall sub_4200EB(int a1)
{
  int v1; // edx@1
  _BYTE *v2; // ebp@1
  unsigned int v3; // eax@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  int v6; // edi@2
  int v7; // ebx@2
  int v8; // ebp@3
  int v9; // esi@3
  int v10; // eax@3
  int v11; // edi@3
  char v12; // dl@3
  _BYTE *v13; // eax@3
  bool v14; // cf@3
  _BYTE *v16; // [sp+Ch] [bp-20h]@2
  unsigned int v17; // [sp+10h] [bp-1Ch]@2
  int v18; // [sp+14h] [bp-18h]@2
  _BYTE *v19; // [sp+18h] [bp-14h]@1
  unsigned int v20; // [sp+1Ch] [bp-10h]@1
  unsigned int v21; // [sp+20h] [bp-Ch]@2
  int v22; // [sp+24h] [bp-8h]@1
  int i; // [sp+28h] [bp-4h]@1

  v1 = *(_DWORD *)a1;
  v2 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v3 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
  v5 = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196);
  v22 = a1;
  v19 = *(_BYTE **)(*(_DWORD *)(a1 + 4) + 32);
  v20 = *(_DWORD *)(*(_DWORD *)a1 + 32);
  for ( i = v3 + v4 * *(_DWORD *)(*(_DWORD *)a1 + 4196); v3 < v5; v20 = v3 )
  {
    v6 = v3 + v4;
    v7 = v3;
    v16 = v2;
    v17 = v3;
    v18 = v6;
    v21 = v3 + *(_DWORD *)(v1 + 4192);
    if ( v3 < v21 )
    {
      do
      {
        v8 = *(_BYTE *)v7;
        v9 = *(_BYTE *)(v7 + 1);
        v10 = *(_BYTE *)(v6 + 1);
        v11 = *(_BYTE *)v6;
        LOWORD(v8) = v8 & 0xF0;
        LOWORD(v9) = v9 & 0xF0;
        v12 = (((v11 & 0xF0) + v8 + (v10 & 0xF0u) + v9 + 32) >> 2) ^ ((((v11 & 0xFFFF00F0)
                                                                      + (*(_BYTE *)v7 & 0xF0)
                                                                      + (v10 & 0xFFFF00F0)
                                                                      + (*(_BYTE *)(v7 + 1) & 0xF0)
                                                                      + 32) >> 2) ^ (((v11 & 0xF)
                                                                                    + (*(_BYTE *)v7 & 0xF)
                                                                                    + (v10 & 0xF)
                                                                                    + (*(_BYTE *)(v7 + 1) & 0xFu)
                                                                                    + 2) >> 2)) & 0xF;
        v13 = v16++;
        v7 = v17 + 2;
        v6 = v18 + 2;
        v14 = v17 + 2 < v21;
        *v13 = v12;
        v17 += 2;
        v18 += 2;
      }
      while ( v14 );
      a1 = v22;
      v2 = v19;
      v3 = v20;
      v5 = i;
    }
    v2 += *(_DWORD *)(*(_DWORD *)(a1 + 4) + 4184);
    v1 = *(_DWORD *)a1;
    v4 = *(_DWORD *)(*(_DWORD *)a1 + 4184);
    v3 += 2 * v4;
    v19 = v2;
  }
  return 0;
}

//----- (0042022A) --------------------------------------------------------
signed int __thiscall sub_42022A(int this)
{
  int v1; // edx@1
  int v2; // eax@1
  int v3; // ecx@1
  signed int result; // eax@2
  int v5; // eax@13
  int v6; // ecx@14
  unsigned int v7; // esi@14
  char *v8; // edx@15
  char *v9; // ebx@15
  int v10; // [sp+8h] [bp-Ch]@1
  unsigned int v11; // [sp+Ch] [bp-8h]@15
  unsigned int v12; // [sp+10h] [bp-4h]@13

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)this;
  v10 = v1;
  if ( *(_DWORD *)(v2 + 4) != *(_DWORD *)(v3 + 4) )
    return -2147467259;
  if ( *(_DWORD *)(v3 + 24)
    || *(_DWORD *)(v2 + 4192) != *(_DWORD *)(v3 + 4192)
    || *(_DWORD *)(v2 + 4196) != *(_DWORD *)(v3 + 4196)
    || *(_DWORD *)(v2 + 4200) != *(_DWORD *)(v3 + 4200)
    || *(_DWORD *)(v2 + 16) != *(_DWORD *)(v3 + 16) )
  {
    goto LABEL_22;
  }
  if ( !*(_DWORD *)(v2 + 12) )
    return sub_41F0C7((_DWORD *)v1);
  if ( *(_DWORD *)(v2 + 28) && v2 + 56 != v3 + 56 && memcmp((const void *)(v2 + 56), (const void *)(v3 + 56), 0x400u) )
  {
LABEL_22:
    result = -2147467259;
  }
  else
  {
    *(_DWORD *)(v2 + 16) = 0;
    *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
    v5 = *(_DWORD *)(v1 + 4);
    v12 = 0;
    if ( *(_DWORD *)(v5 + 4200) > 0u )
    {
      v6 = *(_DWORD *)v1;
      v7 = *(_DWORD *)(v5 + 4196);
      do
      {
        v8 = (char *)(*(_DWORD *)(v5 + 32) + v12 * *(_DWORD *)(v5 + 4188));
        v9 = (char *)(*(_DWORD *)(v6 + 32) + v12 * *(_DWORD *)(v6 + 4188));
        v11 = 0;
        if ( v7 )
        {
          do
          {
            qmemcpy(v8, v9, *(_DWORD *)(v5 + 4204));
            v5 = *(_DWORD *)(v10 + 4);
            v6 = *(_DWORD *)v10;
            v8 += *(_DWORD *)(v5 + 4184);
            v9 += *(_DWORD *)(*(_DWORD *)v10 + 4184);
            ++v11;
            v7 = *(_DWORD *)(v5 + 4196);
          }
          while ( v11 < v7 );
        }
        ++v12;
        v5 = *(_DWORD *)(v10 + 4);
      }
      while ( v12 < *(_DWORD *)(v5 + 4200) );
    }
    result = 0;
  }
  return result;
}

//----- (00420367) --------------------------------------------------------
signed int __thiscall sub_420367(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // edi@1
  void *v5; // eax@4
  void *v6; // ebp@4
  unsigned int v7; // ebx@4
  int v8; // eax@8
  int v9; // eax@11
  unsigned int v10; // eax@12
  unsigned int v11; // edi@13
  signed int result; // eax@16

  v1 = this;
  v2 = *(_DWORD *)(this + 4);
  v3 = *(_DWORD *)this;
  v4 = *(_DWORD *)(v2 + 4192);
  if ( v4 == *(_DWORD *)(v3 + 4192)
    && *(_DWORD *)(v2 + 4196) == *(_DWORD *)(v3 + 4196)
    && *(_DWORD *)(v2 + 4200) == *(_DWORD *)(v3 + 4200)
    && ((v5 = operator new(16 * v4), v6 = v5, v7 = 0, !v5) ? (v6 = 0) : 'vector constructor iterator'(
                                                                          v5,
                                                                          16,
                                                                          v4,
                                                                          sub_41AB0C),
        v6) )
  {
    v8 = *(_DWORD *)(v1 + 4);
    if ( *(_DWORD *)(v8 + 16) && *(_DWORD *)(*(_DWORD *)v1 + 16) )
    {
      *(_DWORD *)(v8 + 16) = 0;
      *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
    }
    v9 = *(_DWORD *)(v1 + 4);
    if ( *(_DWORD *)(v9 + 4200) )
    {
      v10 = *(_DWORD *)(v9 + 4196);
      do
      {
        v11 = 0;
        if ( v10 )
        {
          do
          {
            (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)v1 + 4))(v11, v7, v6);
            (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)(v1 + 4) + 8))(v11, v7, v6);
            v10 = *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4196);
            ++v11;
          }
          while ( v11 < v10 );
        }
        ++v7;
      }
      while ( v7 < *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4200) );
    }
    j__free(v6);
    result = 0;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00420445) --------------------------------------------------------
signed int __thiscall sub_420445(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  int v3; // eax@3
  int v4; // ecx@3
  unsigned int v5; // ecx@7
  unsigned int v6; // edi@9
  void *v7; // eax@9
  void *v8; // eax@14
  int v9; // eax@19
  unsigned int v10; // ebx@22
  unsigned int v11; // edi@23
  int v12; // ecx@25
  unsigned int j; // edi@25
  int v14; // ecx@28
  unsigned int v15; // eax@29
  unsigned int v16; // edi@30
  unsigned int v17; // [sp+4h] [bp-14h]@5
  unsigned int v18; // [sp+8h] [bp-10h]@7
  void *v19; // [sp+Ch] [bp-Ch]@3
  void *v20; // [sp+Ch] [bp-Ch]@14
  void *v21; // [sp+Ch] [bp-Ch]@15
  void *v22; // [sp+10h] [bp-8h]@9
  void *v23; // [sp+10h] [bp-8h]@14
  unsigned int i; // [sp+10h] [bp-8h]@22
  void *v25; // [sp+14h] [bp-4h]@10

  v1 = this;
  if ( *(_BYTE *)(this + 8) == 1 )
  {
    v3 = *(_DWORD *)(this + 4);
    v4 = *(_DWORD *)this;
    v19 = *(void **)(v3 + 4192);
    if ( *(_DWORD *)(v3 + 4192) <= *(_DWORD *)(v4 + 4192) )
      v19 = *(void **)(v4 + 4192);
    v17 = *(_DWORD *)(v3 + 4196);
    if ( *(_DWORD *)(v3 + 4196) >= *(_DWORD *)(v4 + 4196) )
      v17 = *(_DWORD *)(v4 + 4196);
    v5 = *(_DWORD *)(v4 + 4200);
    v18 = *(_DWORD *)(v3 + 4200);
    if ( v18 >= v5 )
      v18 = v5;
    v6 = 16 * (_DWORD)v19;
    v7 = operator new(16 * (_DWORD)v19);
    v22 = v7;
    if ( v7 )
    {
      'vector constructor iterator'(v7, 16, v19, sub_41AB0C);
      v25 = v22;
    }
    else
    {
      v25 = 0;
    }
    if ( v25 )
    {
      v20 = *(void **)(*(_DWORD *)(v1 + 4) + 4192);
      v8 = operator new(16 * (_DWORD)v20);
      v23 = v8;
      if ( v8 )
      {
        'vector constructor iterator'(v8, 16, v20, sub_41AB0C);
        v21 = v23;
      }
      else
      {
        v21 = 0;
      }
      if ( v21 )
      {
        memset(v25, 0, v6);
        memset(v21, 0, 16 * *(_DWORD *)(*(_DWORD *)(v1 + 4) + 4192));
        v9 = *(_DWORD *)(v1 + 4);
        if ( *(_DWORD *)(v9 + 16) && *(_DWORD *)(*(_DWORD *)v1 + 16) )
        {
          *(_DWORD *)(v9 + 16) = 0;
          *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
        }
        v10 = v18;
        for ( i = 0; i < v18; v10 = v18 )
        {
          v11 = 0;
          if ( v17 )
          {
            do
            {
              (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)v1 + 4))(v11, i, v25);
              (*(void (__stdcall **)(int, unsigned int, void *))(**(_DWORD **)(v1 + 4) + 8))(v11++, i, v25);
            }
            while ( v11 < v17 );
          }
          v12 = *(_DWORD *)(v1 + 4);
          for ( j = v17; j < *(_DWORD *)(v12 + 4196); ++j )
          {
            (*(void (__stdcall **)(unsigned int, unsigned int, void *))(*(_DWORD *)v12 + 8))(j, i, v21);
            v12 = *(_DWORD *)(v1 + 4);
          }
          ++i;
        }
        v14 = *(_DWORD *)(v1 + 4);
        if ( v10 < *(_DWORD *)(v14 + 4200) )
        {
          v15 = *(_DWORD *)(v14 + 4196);
          do
          {
            v16 = 0;
            if ( v15 )
            {
              do
              {
                (*(void (__stdcall **)(unsigned int, unsigned int, void *))(*(_DWORD *)v14 + 8))(v16, v10, v21);
                v14 = *(_DWORD *)(v1 + 4);
                v15 = *(_DWORD *)(v14 + 4196);
                ++v16;
              }
              while ( v16 < v15 );
            }
            v14 = *(_DWORD *)(v1 + 4);
            ++v10;
          }
          while ( v10 < *(_DWORD *)(v14 + 4200) );
        }
        j__free(v25);
        j__free(v21);
        result = 0;
      }
      else
      {
        j__free(v25);
        result = -2147467259;
      }
    }
    else
    {
      result = -2147467259;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042063A) --------------------------------------------------------
signed int __thiscall sub_42063A(_BYTE *this)
{
  _BYTE *v1; // ebx@1
  signed int result; // eax@2
  int v3; // edi@3
  void *v4; // eax@3
  int v5; // edi@8
  void *v6; // eax@8
  int v7; // eax@13
  int v8; // esi@16
  int v9; // eax@16
  unsigned int v10; // edi@16
  unsigned int v11; // esi@16
  int v12; // edx@16
  unsigned int v13; // esi@17
  void *v14; // eax@21
  unsigned int v15; // esi@22
  int v16; // esi@22
  int v17; // [sp+4h] [bp-30h]@16
  int v18; // [sp+8h] [bp-2Ch]@16
  int v19; // [sp+Ch] [bp-28h]@16
  void *v20; // [sp+10h] [bp-24h]@3
  void *v21; // [sp+10h] [bp-24h]@8
  int v22; // [sp+10h] [bp-24h]@17
  signed int v23; // [sp+14h] [bp-20h]@17
  unsigned int v24; // [sp+18h] [bp-1Ch]@16
  unsigned int v25; // [sp+1Ch] [bp-18h]@18
  unsigned int v26; // [sp+20h] [bp-14h]@18
  unsigned int v27; // [sp+24h] [bp-10h]@16
  unsigned int v28; // [sp+28h] [bp-Ch]@17
  void *v29; // [sp+2Ch] [bp-8h]@9
  void *v30; // [sp+30h] [bp-4h]@4

  v1 = this;
  if ( this[8] == 2 )
  {
    v3 = *(_DWORD *)(*(_DWORD *)this + 4192);
    v4 = operator new(16 * *(_DWORD *)(*(_DWORD *)this + 4192));
    v20 = v4;
    if ( v4 )
    {
      'vector constructor iterator'(v4, 16, v3, sub_41AB0C);
      v30 = v20;
    }
    else
    {
      v30 = 0;
    }
    if ( v30 )
    {
      v5 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192);
      v6 = operator new(16 * *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192));
      v21 = v6;
      if ( v6 )
      {
        'vector constructor iterator'(v6, 16, v5, sub_41AB0C);
        v29 = v21;
      }
      else
      {
        v29 = 0;
      }
      if ( v29 )
      {
        v7 = *((_DWORD *)v1 + 1);
        if ( *(_DWORD *)(v7 + 16) && *(_DWORD *)(*(_DWORD *)v1 + 16) )
        {
          *(_DWORD *)(v7 + 16) = 0;
          *(_DWORD *)(*(_DWORD *)v1 + 16) = 0;
        }
        v8 = *((_DWORD *)v1 + 1);
        v9 = (*(_DWORD *)(*(_DWORD *)v1 + 4192) << 16) / *(_DWORD *)(v8 + 4192);
        v10 = *(_DWORD *)(v8 + 4196);
        v11 = *(_DWORD *)(v8 + 4200);
        v24 = 0;
        v27 = 0;
        v19 = v9;
        v18 = (*(_DWORD *)(*(_DWORD *)v1 + 4196) << 16) / v10;
        v12 = (*(_DWORD *)(*(_DWORD *)v1 + 4200) << 16) % v11;
        v17 = (*(_DWORD *)(*(_DWORD *)v1 + 4200) << 16) / v11;
        if ( v11 )
        {
          do
          {
            v23 = -1;
            v13 = 0;
            v22 = 0;
            v28 = 0;
            if ( v10 )
            {
              do
              {
                v26 = 0;
                v25 = 0;
                if ( (v13 ^ v23) & 0xFFFF0000 )
                {
                  (*(void (__stdcall **)(unsigned int, unsigned int, void *))(**(_DWORD **)v1 + 4))(
                    v13 >> 16,
                    v24 >> 16,
                    v30);
                  v23 = v13;
                }
                if ( *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192) )
                {
                  v14 = v29;
                  do
                  {
                    v15 = v26;
                    v26 += v19;
                    v16 = (int)v30 + 16 * (v15 >> 16);
                    v12 = ++v25;
                    *(_DWORD *)v14 = *(_DWORD *)v16;
                    v16 += 4;
                    *((_DWORD *)v14 + 1) = *(_DWORD *)v16;
                    v16 += 4;
                    *((_DWORD *)v14 + 2) = *(_DWORD *)v16;
                    *((_DWORD *)v14 + 3) = *(_DWORD *)(v16 + 4);
                    v14 = (char *)v14 + 16;
                  }
                  while ( v25 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4192) );
                }
                (*(void (__fastcall **)(_DWORD, int, unsigned int, unsigned int, void *))(**((_DWORD **)v1 + 1) + 8))(
                  *((_DWORD *)v1 + 1),
                  v12,
                  v28,
                  v27,
                  v29);
                v13 = v18 + v22;
                ++v28;
                v10 = *(_DWORD *)(*((_DWORD *)v1 + 1) + 4196);
                v22 += v18;
              }
              while ( v28 < v10 );
            }
            v24 += v17;
            ++v27;
          }
          while ( v27 < *(_DWORD *)(*((_DWORD *)v1 + 1) + 4200) );
        }
        j__free(v30);
        j__free(v29);
        result = 0;
      }
      else
      {
        j__free(v30);
        result = -2147024882;
      }
    }
    else
    {
      result = -2147024882;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00420833) --------------------------------------------------------
signed int __usercall sub_420833@<eax>(int a1@<ecx>, int a2@<edi>, void *a3@<esi>)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // ecx@3
  unsigned int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // esi@6
  _DWORD *v10; // ecx@14
  int v11; // eax@17
  int v12; // ecx@17
  signed int v13; // edx@17
  int v14; // eax@25
  int v15; // esi@47
  void *v16; // eax@47
  int v17; // esi@52
  char *v18; // eax@53
  char *v19; // esi@54
  int v20; // eax@56
  int v21; // esi@57
  char *v22; // eax@57
  signed int v23; // esi@62
  unsigned int v24; // edx@69
  int v25; // eax@71
  int v26; // ecx@71
  double v27; // st6@71
  void *v28; // edi@71
  double v29; // st5@71
  float v30; // ST44_4@71
  double v31; // st4@71
  int v32; // eax@71
  float v33; // ST48_4@71
  float v34; // ST2C_4@71
  double v35; // st6@71
  double v36; // st5@71
  double v37; // st4@71
  int v38; // eax@71
  float v39; // ST38_4@71
  float v40; // ST1C_4@71
  float v41; // ST20_4@71
  float v42; // ST4C_4@71
  float v43; // ST50_4@71
  float v44; // ST54_4@71
  float v45; // ST58_4@71
  int v46; // [sp-8h] [bp-68h]@3
  void *v47; // [sp-4h] [bp-64h]@3
  void *v48; // [sp+44h] [bp-1Ch]@47
  char *v49; // [sp+44h] [bp-1Ch]@53
  char *v50; // [sp+44h] [bp-1Ch]@57
  char *v51; // [sp+44h] [bp-1Ch]@66
  int v52; // [sp+48h] [bp-18h]@64
  void *v53; // [sp+4Ch] [bp-14h]@70
  void *v54; // [sp+50h] [bp-10h]@48
  unsigned int v55; // [sp+54h] [bp-Ch]@66
  int v56; // [sp+58h] [bp-8h]@56
  char *v57; // [sp+5Ch] [bp-4h]@54

  v3 = a1;
  if ( *(_BYTE *)(a1 + 8) != 5 )
    return -2147467259;
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
  v7 = *(_DWORD *)(v3 + 4);
  v47 = a3;
  v8 = *(_DWORD *)(v7 + 4192);
  v46 = a2;
  if ( v8 != v6 >> 1 && (v8 != 1 || v6 != 1) )
    return -2147467259;
  v9 = *(_DWORD *)(v7 + 4196);
  if ( v9 != *(_DWORD *)(v5 + 4196) >> 1 && (v9 != 1 || *(_DWORD *)(v5 + 4196) != 1) )
    return -2147467259;
  if ( *(_DWORD *)(v7 + 4200) != 1 || *(_DWORD *)(v5 + 4200) != 1 )
    return -2147467259;
  if ( v6 > 1 && v6 & 1 )
  {
    *(_DWORD *)(v5 + 4192) = v6 & 0xFFFFFFFE;
    *(_DWORD *)(*(_DWORD *)v3 + 4204) -= *(_DWORD *)(*(_DWORD *)v3 + 4208);
  }
  v10 = (_DWORD *)(*(_DWORD *)v3 + 4196);
  if ( *v10 > 1u )
    *v10 &= 0xFFFFFFFE;
  if ( !(*(_BYTE *)(v3 + 10) & 8) )
  {
    v11 = *(_DWORD *)v3;
    v12 = *(_DWORD *)(v3 + 4);
    v13 = *(_DWORD *)(*(_DWORD *)v3 + 4);
    if ( v13 == *(_DWORD *)(v12 + 4)
      && *(_DWORD *)(v11 + 4192) >= 2u
      && *(_DWORD *)(v11 + 4196) >= 2u
      && !*(_DWORD *)(v12 + 16)
      && !*(_DWORD *)(v11 + 16) )
    {
      if ( v13 <= 29 )
      {
        if ( v13 != 29 )
        {
          switch ( v13 )
          {
            case 23:
              v14 = sub_41F642(v3);
              goto LABEL_45;
            case 24:
              v14 = sub_41F792(v3);
              goto LABEL_45;
            case 25:
              v14 = sub_41F8B6(v3);
              goto LABEL_45;
            case 26:
              v14 = sub_41FA05(v3);
              goto LABEL_45;
            case 27:
              v14 = sub_41FB58(v3);
              goto LABEL_45;
            case 22:
              goto LABEL_36;
            case 21:
              goto LABEL_37;
            case 28:
              goto LABEL_44;
            default:
              goto LABEL_47;
          }
          goto LABEL_47;
        }
        v14 = sub_41FD32(v3);
LABEL_45:
        if ( v14 >= 0 )
          return 0;
        goto LABEL_47;
      }
      if ( v13 > 41 )
      {
        if ( v13 == 50 )
        {
LABEL_44:
          v14 = sub_41FC97((_DWORD *)v3);
          goto LABEL_45;
        }
        if ( v13 == 51 )
        {
          v14 = sub_41FF9F(v3);
          goto LABEL_45;
        }
        if ( v13 == 52 )
        {
          v14 = sub_4200EB(v3);
          goto LABEL_45;
        }
      }
      else if ( *(_DWORD *)(*(_DWORD *)v3 + 4) != 41 )
      {
        if ( v13 == 30 )
        {
          v14 = sub_41FE7E(v3);
          goto LABEL_45;
        }
        if ( v13 == 32 )
        {
LABEL_37:
          v14 = sub_41F37D((_DWORD *)v3);
          goto LABEL_45;
        }
        if ( v13 == 33 )
        {
LABEL_36:
          v14 = sub_41F614((_DWORD *)v3);
          goto LABEL_45;
        }
      }
    }
  }
LABEL_47:
  v15 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192);
  v16 = operator new(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192));
  v48 = v16;
  if ( v16 )
  {
    'vector constructor iterator'(v16, 16, v15, sub_41AB0C);
    v54 = v48;
  }
  else
  {
    v54 = 0;
  }
  if ( v54 )
  {
    v17 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
    if ( *(_DWORD *)(*(_DWORD *)v3 + 4196) == 1 )
    {
      v18 = (char *)operator new(16 * v17);
      v49 = v18;
      if ( v18 )
      {
        'vector constructor iterator'(v18, 16, v17, sub_41AB0C);
        v19 = v49;
        v57 = v49;
      }
      else
      {
        v57 = 0;
        v19 = 0;
      }
      v20 = (int)v19;
      v56 = (int)v19;
    }
    else
    {
      v21 = 2 * v17;
      v22 = (char *)operator new(16 * v21);
      v50 = v22;
      if ( v22 )
      {
        'vector constructor iterator'(v22, 16, v21, sub_41AB0C);
        v57 = v50;
      }
      else
      {
        v57 = 0;
      }
      v19 = v57;
      v20 = (int)&v57[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
      v56 = (int)&v57[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
    }
    if ( v19 )
    {
      if ( *(_DWORD *)(*(_DWORD *)v3 + 4192) == 1 )
      {
        v52 = (int)v19;
      }
      else
      {
        v52 = (int)(v19 + 16);
        v20 += 16;
      }
      v55 = 0;
      v51 = (char *)v20;
      if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4196) )
      {
        do
        {
          (*(void (__stdcall **)(int, _DWORD, void *, int, void *))(**(_DWORD **)v3 + 4))(2 * v55, 0, v19, v46, v47);
          if ( (char *)v56 != v19 )
            (*(void (__stdcall **)(int, _DWORD, int))(**(_DWORD **)v3 + 4))(2 * v55 + 1, 0, v56);
          v24 = 0;
          if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) )
          {
            v53 = v54;
            do
            {
              v25 = 32 * v24 + v52;
              v26 = (int)&v57[32 * v24];
              v27 = *(float *)v25 + *(float *)v26;
              v28 = v53;
              v29 = *(float *)(v25 + 4);
              v53 = (char *)v53 + 16;
              v30 = *(float *)(v25 + 8) + *(float *)(v26 + 8);
              v31 = *(float *)(v25 + 12);
              v32 = 32 * v24 + v56;
              v33 = v31 + *(float *)(v26 + 12);
              v34 = v27 + *(float *)v32;
              v35 = v29 + *(float *)(v26 + 4) + *(float *)(v32 + 4);
              v36 = v30 + *(float *)(v32 + 8);
              v37 = v33 + *(float *)(v32 + 12);
              v38 = (int)&v51[32 * v24];
              v39 = v37;
              ++v24;
              v40 = v34 + *(float *)v38;
              v41 = v35 + *(float *)(v38 + 4);
              v42 = v40 * 0.25;
              v43 = v41 * 0.25;
              v44 = (v36 + *(float *)(v38 + 8)) * 0.25;
              v45 = (v39 + *(float *)(v38 + 12)) * 0.25;
              *(float *)v28 = v42;
              v28 = (char *)v28 + 4;
              *(float *)v28 = v43;
              v28 = (char *)v28 + 4;
              *(float *)v28 = v44;
              *((float *)v28 + 1) = v45;
            }
            while ( v24 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) );
            v19 = v57;
          }
          v47 = v54;
          v46 = 0;
          (*(void (__stdcall **)(int))(**(_DWORD **)(v3 + 4) + 8))(v55++);
        }
        while ( v55 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4196) );
      }
      j__free(v19);
      v23 = 0;
    }
    else
    {
      v23 = -2147024882;
    }
    j__free(v54);
    result = v23;
  }
  else
  {
    result = -2147024882;
  }
  return result;
}
// 420833: could not find valid save-restore pair for edi
// 420833: could not find valid save-restore pair for esi
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00420C42) --------------------------------------------------------
signed int __usercall sub_420C42@<eax>(int a1@<ecx>, unsigned int a2@<edi>, void *a3@<esi>)
{
  int v3; // ebx@1
  signed int result; // eax@2
  int v5; // ecx@3
  unsigned int v6; // eax@3
  int v7; // edx@3
  int v8; // esi@3
  int v9; // esi@7
  _DWORD *v10; // ecx@14
  _DWORD *v11; // ecx@16
  int v12; // esi@18
  void *v13; // eax@18
  int v14; // esi@23
  int v15; // esi@24
  char *v16; // eax@24
  int v17; // ecx@27
  int v18; // eax@27
  int v19; // esi@27
  int v20; // edx@27
  int v21; // esi@28
  char *v22; // eax@28
  char *v23; // edi@32
  signed int v24; // esi@33
  int v25; // eax@37
  int v26; // edi@39
  int v27; // ecx@48
  int v28; // edx@48
  double v29; // st6@48
  double v30; // st5@48
  float v31; // ST54_4@48
  double v32; // st4@48
  int v33; // ecx@48
  float v34; // ST58_4@48
  float v35; // ST2C_4@48
  double v36; // st6@48
  double v37; // st5@48
  double v38; // st4@48
  int v39; // ecx@48
  float v40; // ST38_4@48
  float v41; // ST5C_4@48
  float v42; // ST60_4@48
  double v43; // st6@48
  double v44; // st5@48
  int v45; // ecx@48
  float v46; // ST8C_4@48
  float v47; // ST90_4@48
  float v48; // ST94_4@48
  double v49; // st5@48
  int v50; // ecx@48
  double v51; // st6@48
  double v52; // st5@48
  float v53; // ST80_4@48
  float v54; // ST84_4@48
  float v55; // ST88_4@48
  int v56; // ecx@48
  void *v57; // edi@48
  float v58; // ST44_4@48
  int v59; // eax@48
  float v60; // ST48_4@48
  float v61; // ST1C_4@48
  float v62; // ST28_4@48
  float v63; // ST6C_4@48
  float v64; // ST70_4@48
  float v65; // ST74_4@48
  float v66; // ST78_4@48
  unsigned int v67; // [sp-8h] [bp-48h]@3
  void *v68; // [sp-4h] [bp-44h]@3
  int v69; // [sp+84h] [bp+44h]@37
  int v70; // [sp+88h] [bp+48h]@35
  int v71; // [sp+8Ch] [bp+4Ch]@35
  void *v72; // [sp+90h] [bp+50h]@47
  int v73; // [sp+94h] [bp+54h]@27
  int v74; // [sp+98h] [bp+58h]@27
  unsigned int v75; // [sp+9Ch] [bp+5Ch]@46
  int v76; // [sp+A0h] [bp+60h]@27
  unsigned int v77; // [sp+A4h] [bp+64h]@37
  void *v78; // [sp+A8h] [bp+68h]@19
  void *v79; // [sp+ACh] [bp+6Ch]@18
  char *v80; // [sp+ACh] [bp+6Ch]@24
  char *v81; // [sp+ACh] [bp+6Ch]@28
  int v82; // [sp+ACh] [bp+6Ch]@37
  unsigned int v83; // [sp+B0h] [bp+70h]@38
  char *v84; // [sp+B4h] [bp+74h]@25

  v3 = a1;
  if ( *(_BYTE *)(a1 + 8) == 5 )
  {
    v5 = *(_DWORD *)a1;
    v6 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
    v7 = *(_DWORD *)(v3 + 4);
    v68 = a3;
    v8 = *(_DWORD *)(v7 + 4192);
    v67 = a2;
    if ( v8 != v6 >> 1 && (v8 != 1 || v6 != 1)
      || (v9 = *(_DWORD *)(v7 + 4196), v9 != *(_DWORD *)(v5 + 4196) >> 1) && (v9 != 1 || *(_DWORD *)(v5 + 4196) != 1)
      || *(_DWORD *)(v7 + 4200) != *(_DWORD *)(v5 + 4200) >> 1 )
    {
      result = -2147467259;
    }
    else
    {
      if ( v6 > 1 && v6 & 1 )
      {
        *(_DWORD *)(v5 + 4192) = v6 & 0xFFFFFFFE;
        *(_DWORD *)(*(_DWORD *)v3 + 4204) -= *(_DWORD *)(*(_DWORD *)v3 + 4208);
      }
      v10 = (_DWORD *)(*(_DWORD *)v3 + 4196);
      if ( *v10 > 1u )
        *v10 &= 0xFFFFFFFE;
      v11 = (_DWORD *)(*(_DWORD *)v3 + 4200);
      if ( *v11 > 1u )
        *v11 &= 0xFFFFFFFE;
      v12 = *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192);
      v13 = operator new(16 * *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192));
      v79 = v13;
      if ( v13 )
      {
        'vector constructor iterator'(v13, 16, v12, sub_41AB0C);
        v78 = v79;
      }
      else
      {
        v78 = 0;
      }
      if ( v78 )
      {
        v14 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
        if ( *(_DWORD *)(*(_DWORD *)v3 + 4196) == 1 )
        {
          v15 = 2 * v14;
          v16 = (char *)operator new(16 * v15);
          v80 = v16;
          if ( v16 )
          {
            'vector constructor iterator'(v16, 16, v15, sub_41AB0C);
            v84 = v80;
          }
          else
          {
            v84 = 0;
          }
          v17 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
          v18 = (int)v84;
          v19 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v20 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v73 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v76 = (int)v84;
          v74 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
        }
        else
        {
          v21 = 4 * v14;
          v22 = (char *)operator new(16 * v21);
          v81 = v22;
          if ( v22 )
          {
            'vector constructor iterator'(v22, 16, v21, sub_41AB0C);
            v84 = v81;
          }
          else
          {
            v84 = 0;
          }
          v17 = *(_DWORD *)(*(_DWORD *)v3 + 4192);
          v73 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v19 = (int)&v84[16 * *(_DWORD *)(*(_DWORD *)v3 + 4192)];
          v76 = (int)&v84[32 * v17];
          v74 = (int)&v84[48 * v17];
          v18 = (int)&v84[32 * v17];
          v20 = (int)&v84[48 * v17];
        }
        v23 = v84;
        if ( v84 )
        {
          if ( v17 == 1 )
          {
            v70 = (int)v84;
            v71 = v19;
          }
          else
          {
            v70 = (int)(v84 + 16);
            v18 += 16;
            v71 = v19 + 16;
            v20 += 16;
          }
          v77 = 0;
          v69 = v18;
          v25 = *(_DWORD *)(v3 + 4);
          v82 = v20;
          if ( *(_DWORD *)(v25 + 4200) )
          {
            do
            {
              v83 = 0;
              if ( *(_DWORD *)(v25 + 4196) )
              {
                do
                {
                  v26 = 2 * v77;
                  (*(void (__stdcall **)(int, int, void *, unsigned int, void *))(**(_DWORD **)v3 + 4))(
                    2 * v83,
                    2 * v77,
                    v84,
                    v67,
                    v68);
                  if ( (char *)v19 != v84 )
                    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v3 + 4))(2 * v83, v26 + 1, v19);
                  if ( (char *)v76 != v84 )
                    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v3 + 4))(2 * v83 + 1, v26, v76);
                  if ( v74 != v19 && v74 != v76 )
                    (*(void (__stdcall **)(int, int, int))(**(_DWORD **)v3 + 4))(2 * v83 + 1, v26 + 1, v74);
                  v75 = 0;
                  if ( *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) )
                  {
                    v72 = v78;
                    do
                    {
                      v27 = 32 * v75 + v70;
                      v28 = (int)&v84[32 * v75];
                      v29 = *(float *)v27 + *(float *)v28;
                      v30 = *(float *)(v27 + 4) + *(float *)(v28 + 4);
                      v31 = *(float *)(v27 + 8) + *(float *)(v28 + 8);
                      v32 = *(float *)(v27 + 12);
                      v33 = 32 * v75 + v19;
                      v34 = v32 + *(float *)(v28 + 12);
                      v35 = v29 + *(float *)v33;
                      v36 = v30 + *(float *)(v33 + 4);
                      v37 = v31 + *(float *)(v33 + 8);
                      v38 = v34 + *(float *)(v33 + 12);
                      v39 = 32 * v75 + v71;
                      v40 = v38;
                      v41 = v35 + *(float *)v39;
                      v42 = v36 + *(float *)(v39 + 4);
                      v43 = v37 + *(float *)(v39 + 8);
                      v44 = v40 + *(float *)(v39 + 12);
                      v45 = 32 * v75 + v76;
                      v46 = v41 + *(float *)v45;
                      v47 = v42 + *(float *)(v45 + 4);
                      v48 = v43 + *(float *)(v45 + 8);
                      v49 = v44 + *(float *)(v45 + 12);
                      v50 = 32 * v75 + v69;
                      v51 = v49;
                      v52 = v46 + *(float *)v50;
                      v53 = v47 + *(float *)(v50 + 4);
                      v54 = v48 + *(float *)(v50 + 8);
                      v55 = v51 + *(float *)(v50 + 12);
                      v56 = 32 * v75 + v74;
                      v57 = v72;
                      v72 = (char *)v72 + 16;
                      v58 = v54 + *(float *)(v56 + 8);
                      v59 = v82 + 32 * v75++;
                      v60 = v55 + *(float *)(v56 + 12);
                      v61 = v52 + *(float *)v56 + *(float *)v59;
                      v62 = v60 + *(float *)(v59 + 12);
                      v63 = v61 * 0.125;
                      v64 = (v53 + *(float *)(v56 + 4) + *(float *)(v59 + 4)) * 0.125;
                      v65 = (v58 + *(float *)(v59 + 8)) * 0.125;
                      v66 = v62 * 0.125;
                      *(float *)v57 = v63;
                      v57 = (char *)v57 + 4;
                      *(float *)v57 = v64;
                      v57 = (char *)v57 + 4;
                      *(float *)v57 = v65;
                      *((float *)v57 + 1) = v66;
                      v19 = v73;
                    }
                    while ( v75 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4192) );
                  }
                  v68 = v78;
                  v67 = v77;
                  (*(void (__stdcall **)(int))(**(_DWORD **)(v3 + 4) + 8))(v83++);
                }
                while ( v83 < *(_DWORD *)(*(_DWORD *)(v3 + 4) + 4196) );
              }
              ++v77;
              v25 = *(_DWORD *)(v3 + 4);
            }
            while ( v77 < *(_DWORD *)(v25 + 4200) );
            v23 = v84;
          }
          j__free(v23);
          v24 = 0;
        }
        else
        {
          v24 = -2147024882;
        }
        j__free(v78);
        result = v24;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 420C42: could not find valid save-restore pair for edi
// 420C42: could not find valid save-restore pair for esi
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00421077) --------------------------------------------------------
void *__userpurge sub_421077@<eax>(unsigned int a1@<edi>, unsigned int a2@<esi>, int a3)
{
  void *result; // eax@1
  void *v4; // ecx@1
  float v5; // ST10_4@3
  float v6; // ST14_4@3
  unsigned int v7; // eax@3
  int v8; // edx@3
  double v9; // st7@3
  void *v10; // [sp+0h] [bp-1Ch]@2
  int v11; // [sp+14h] [bp-8h]@0
  unsigned int v12; // [sp+18h] [bp-4h]@2

  result = operator new(16 * a1);
  v4 = result;
  if ( result )
  {
    v10 = result;
    v12 = 0;
    dword_4C3E0C = v11;
    if ( a1 )
    {
      do
      {
        v5 = (double)a2 / (double)a1;
        v6 = ((double)v12 + 0.5) * v5 + 0.5;
        v7 = (signed int)v6;
        v8 = v7 - 1;
        v9 = (double)(signed int)v7 + 1.0 - v6;
        if ( ((v7 - 1) & 0x80000000) != 0 )
          v8 = a3 != 0 ? a2 - 1 : 0;
        if ( v7 >= a2 )
          v7 = a3 == 0 ? a2 - 1 : 0;
        *((float *)v4 + 1) = v9;
        *(_DWORD *)v4 = v8;
        *((_DWORD *)v4 + 2) = v7;
        v4 = (char *)v4 + 16;
        ++v12;
        *((float *)v4 - 1) = 1.0 - v9;
      }
      while ( v12 < a1 );
    }
    result = v10;
  }
  return result;
}
// 4C3E0C: using guessed type int dword_4C3E0C;

//----- (00421169) --------------------------------------------------------
signed int __thiscall sub_421169(void *this)
{
  _DWORD *v1; // ebx@1
  unsigned int v2; // eax@1
  signed int result; // eax@2
  int v4; // esi@3
  void *v5; // STC8_4@5
  void *v6; // eax@5
  int v7; // edi@7
  void *v8; // eax@7
  int v9; // edi@11
  char *v10; // eax@11
  int v11; // edi@15
  signed int *v12; // esi@16
  int v13; // eax@17
  signed int v14; // ecx@18
  int v15; // eax@20
  int v16; // eax@24
  double v17; // st7@25
  int v18; // ecx@25
  float v19; // ST6C_4@25
  float v20; // ST70_4@25
  float v21; // ST74_4@25
  double v22; // st7@25
  double v23; // st6@25
  int v24; // esi@25
  int v25; // ecx@25
  float v26; // ST50_4@25
  float v27; // ST54_4@25
  float v28; // ST58_4@25
  float v29; // ST9C_4@25
  float v30; // STA0_4@25
  float v31; // STA4_4@25
  double v32; // st6@25
  float v33; // ST3C_4@25
  float v34; // ST40_4@25
  float v35; // ST44_4@25
  double v36; // st7@25
  double v37; // st6@25
  float v38; // ST2C_4@25
  float v39; // ST30_4@25
  float v40; // ST34_4@25
  int v41; // esi@25
  void *v42; // edi@25
  double v43; // st5@25
  float v44; // ST90_4@25
  float v45; // ST94_4@25
  float v46; // ST98_4@25
  float v47; // ST7C_4@25
  float v48; // ST80_4@25
  float v49; // ST84_4@25
  double v50; // st5@25
  float v51; // ST5C_4@25
  float v52; // ST60_4@25
  float v53; // ST64_4@25
  float v54; // ST1C_4@25
  float v55; // ST20_4@25
  float v56; // ST24_4@25
  float v57; // ST28_4@25
  signed int v58; // esi@28
  unsigned int v59; // [sp+94h] [bp+48h]@17
  signed int v60; // [sp+98h] [bp+4Ch]@15
  void *v61; // [sp+9Ch] [bp+50h]@24
  char *v62; // [sp+A0h] [bp+54h]@5
  char *v63; // [sp+A4h] [bp+58h]@15
  unsigned int v64; // [sp+A8h] [bp+5Ch]@15
  signed int v65; // [sp+ACh] [bp+60h]@15
  void *v66; // [sp+B0h] [bp+64h]@5
  char *v67; // [sp+B4h] [bp+68h]@1
  int v68; // [sp+B8h] [bp+6Ch]@15
  void *v69; // [sp+BCh] [bp+70h]@1
  void *v70; // [sp+C0h] [bp+74h]@7
  char *v71; // [sp+C0h] [bp+74h]@11
  int v72; // [sp+C0h] [bp+74h]@16

  v69 = 0;
  v67 = 0;
  v1 = this;
  v2 = *((_DWORD *)this + 2);
  if ( (_BYTE)v2 == 3 )
  {
    v4 = *((_DWORD *)this + 1);
    if ( *(_DWORD *)(v4 + 4200) != 1 || *(_DWORD *)(*(_DWORD *)this + 4200) != 1 )
    {
      result = -2147467259;
    }
    else
    {
      v5 = (void *)(~(v2 >> 17) & 1);
      v62 = (char *)sub_421077(*(_DWORD *)(v4 + 4192), *(_DWORD *)(*(_DWORD *)this + 4192), ~(v2 >> 16) & 1);
      v6 = sub_421077(*(_DWORD *)(v1[1] + 4196), *(_DWORD *)(*v1 + 4196), (int)v5);
      v66 = v6;
      if ( v62
        && v6
        && ((v7 = *(_DWORD *)(v1[1] + 4192), v8 = operator new(16 * *(_DWORD *)(v1[1] + 4192)), (v70 = v8) == 0) ? (v69 = 0) : ('vector constructor iterator'(v8, 16, v7, sub_41AB0C), v69 = v70),
            v69
         && ((v9 = 2 * *(_DWORD *)(*v1 + 4192),
              v10 = (char *)operator new(32 * *(_DWORD *)(*v1 + 4192)),
              (v71 = v10) == 0) ? (v67 = 0) : ('vector constructor iterator'(v10, 16, v9, sub_41AB0C), v67 = v71),
             v67)) )
      {
        v64 = 0;
        v60 = -1;
        v65 = -1;
        v11 = (int)&v67[16 * *(_DWORD *)(*v1 + 4192)];
        v63 = v67;
        v68 = (int)&v67[16 * *(_DWORD *)(*v1 + 4192)];
        if ( *(_DWORD *)(v1[1] + 4196) )
        {
          v12 = (signed int *)((char *)v66 + 8);
          v72 = (int)v66 + 8;
          do
          {
            v13 = *(v12 - 2);
            v59 = 0;
            if ( v13 != v60 )
            {
              v14 = v65;
              if ( v13 == v65 )
              {
                v15 = (int)v63;
                v65 = -1;
                v63 = (char *)v11;
                v60 = v14;
                v68 = v15;
                v11 = v15;
              }
              else
              {
                v60 = *(v12 - 2);
                (*(void (__stdcall **)(int, _DWORD, char *))(*(_DWORD *)*v1 + 4))(v13, 0, v63);
              }
            }
            if ( *v12 != v65 )
            {
              v65 = *v12;
              (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(*v12, 0, v11);
            }
            if ( *(_DWORD *)(v1[1] + 4192) )
            {
              v16 = (int)(v62 + 8);
              v61 = v69;
              do
              {
                v17 = *(float *)(v16 + 4);
                v18 = 16 * *(_DWORD *)v16;
                v19 = v17 * *(float *)(v18 + v11);
                v20 = v17 * *(float *)(v18 + v11 + 4);
                v21 = v17 * *(float *)(v18 + v11 + 8);
                v22 = v17 * *(float *)(v18 + v11 + 12);
                v23 = *(float *)(v16 - 4);
                v24 = 16 * *(_DWORD *)(v16 - 8);
                v25 = (int)&v63[v18];
                v26 = v23 * *(float *)(v24 + v11 + 4);
                v27 = v23 * *(float *)(v24 + v11 + 8);
                v28 = v23 * *(float *)(v24 + v11 + 12);
                v29 = v23 * *(float *)(v24 + v11) + v19;
                v30 = v26 + v20;
                v31 = v27 + v21;
                v32 = *(float *)(v72 + 4);
                v33 = v29 * v32;
                v34 = v30 * v32;
                v35 = v31 * v32;
                v36 = (v28 + v22) * v32;
                v37 = *(float *)(v16 + 4);
                v38 = v37 * *(float *)v25;
                v39 = v37 * *(float *)(v25 + 4);
                v40 = v37 * *(float *)(v25 + 8);
                v41 = (int)&v63[v24];
                v42 = v61;
                v61 = (char *)v61 + 16;
                v43 = *(float *)(v16 - 4);
                v16 += 16;
                ++v59;
                v44 = v43 * *(float *)(v41 + 4);
                v45 = v43 * *(float *)(v41 + 8);
                v46 = v43 * *(float *)(v41 + 12);
                v47 = v43 * *(float *)v41 + v38;
                v48 = v44 + v39;
                v49 = v45 + v40;
                v50 = *(float *)(v72 - 4);
                v51 = v47 * v50;
                v52 = v48 * v50;
                v53 = v49 * v50;
                v54 = v51 + v33;
                v55 = v52 + v34;
                v56 = v53 + v35;
                v57 = (v46 + v37 * *(float *)(v25 + 12)) * v50 + v36;
                *(float *)v42 = v54;
                v42 = (char *)v42 + 4;
                *(float *)v42 = v55;
                v42 = (char *)v42 + 4;
                *(float *)v42 = v56;
                *((float *)v42 + 1) = v57;
                v11 = v68;
              }
              while ( v59 < *(_DWORD *)(v1[1] + 4192) );
              v12 = (signed int *)v72;
            }
            (*(void (__stdcall **)(unsigned int, _DWORD, void *))(*(_DWORD *)v1[1] + 8))(v64, 0, v69);
            v12 += 4;
            ++v64;
            v72 = (int)v12;
          }
          while ( v64 < *(_DWORD *)(v1[1] + 4196) );
        }
        v58 = 0;
      }
      else
      {
        v58 = -2147024882;
      }
      j__free(v62);
      j__free(v66);
      j__free(v69);
      j__free(v67);
      result = v58;
    }
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004214F8) --------------------------------------------------------
signed int __thiscall sub_4214F8(void *this)
{
  _DWORD *v1; // ebx@1
  unsigned int v2; // eax@1
  signed int result; // eax@2
  int v4; // ST1B0_4@3
  void *v5; // ST184_4@3
  char *v6; // eax@3
  int v7; // esi@6
  void *v8; // eax@6
  int v9; // esi@10
  char *v10; // eax@10
  int v11; // esi@14
  int v12; // eax@14
  int v13; // esi@14
  int v14; // edi@17
  int v15; // eax@18
  signed int v16; // ecx@19
  int v17; // ecx@21
  int v18; // eax@21
  int v19; // eax@25
  double v20; // st7@26
  int v21; // ecx@26
  int v22; // esi@26
  float v23; // STB0_4@26
  float v24; // STB4_4@26
  float v25; // STB8_4@26
  double v26; // st7@26
  double v27; // st6@26
  int v28; // esi@26
  float v29; // ST164_4@26
  float v30; // ST168_4@26
  float v31; // ST16C_4@26
  float v32; // ST130_4@26
  float v33; // ST134_4@26
  float v34; // ST138_4@26
  double v35; // st6@26
  float v36; // ST50_4@26
  float v37; // ST54_4@26
  float v38; // ST58_4@26
  double v39; // st7@26
  double v40; // st6@26
  float v41; // ST30_4@26
  float v42; // ST34_4@26
  float v43; // ST38_4@26
  double v44; // st5@26
  float v45; // ST114_4@26
  float v46; // ST118_4@26
  float v47; // ST11C_4@26
  float v48; // ST90_4@26
  float v49; // ST94_4@26
  float v50; // ST98_4@26
  double v51; // st5@26
  float v52; // STF0_4@26
  float v53; // STF4_4@26
  float v54; // STF8_4@26
  float v55; // STD0_4@26
  float v56; // STD4_4@26
  float v57; // STD8_4@26
  double v58; // st7@26
  double v59; // st6@26
  float v60; // ST40_4@26
  float v61; // ST44_4@26
  float v62; // ST48_4@26
  double v63; // st7@26
  double v64; // st6@26
  float v65; // ST70_4@26
  float v66; // ST74_4@26
  float v67; // ST78_4@26
  double v68; // st6@26
  double v69; // st5@26
  float v70; // ST154_4@26
  float v71; // ST158_4@26
  int v72; // ecx@26
  float v73; // ST15C_4@26
  float v74; // ST140_4@26
  float v75; // ST144_4@26
  float v76; // ST148_4@26
  double v77; // st5@26
  float v78; // STA0_4@26
  float v79; // STA4_4@26
  float v80; // STA8_4@26
  double v81; // st6@26
  double v82; // st5@26
  float v83; // ST120_4@26
  float v84; // ST124_4@26
  float v85; // ST128_4@26
  int v86; // esi@26
  double v87; // st4@26
  float v88; // ST104_4@26
  float v89; // ST108_4@26
  float v90; // ST10C_4@26
  float v91; // STE0_4@26
  float v92; // STE4_4@26
  float v93; // STE8_4@26
  double v94; // st4@26
  float v95; // STC0_4@26
  float v96; // STC4_4@26
  float v97; // STC8_4@26
  double v98; // st3@26
  float v99; // ST80_4@26
  float v100; // ST84_4@26
  float v101; // ST88_4@26
  double v102; // st5@26
  float v103; // ST60_4@26
  float v104; // ST64_4@26
  float v105; // ST68_4@26
  void *v106; // edi@26
  float v107; // ST20_4@26
  float v108; // ST24_4@26
  float v109; // ST28_4@26
  float v110; // ST2C_4@26
  signed int v111; // esi@29
  void *v112; // [sp+154h] [bp+34h]@25
  char *v113; // [sp+158h] [bp+38h]@3
  char *v114; // [sp+15Ch] [bp+3Ch]@3
  unsigned int v115; // [sp+160h] [bp+40h]@18
  char *v116; // [sp+164h] [bp+44h]@14
  char *v117; // [sp+168h] [bp+48h]@3
  unsigned int v118; // [sp+16Ch] [bp+4Ch]@14
  char *v119; // [sp+170h] [bp+50h]@1
  unsigned int v120; // [sp+174h] [bp+54h]@16
  int v121; // [sp+178h] [bp+58h]@14
  int v122; // [sp+17Ch] [bp+5Ch]@14
  int v123; // [sp+180h] [bp+60h]@14
  signed int v124; // [sp+184h] [bp+64h]@16
  void *v125; // [sp+188h] [bp+68h]@1
  signed int v126; // [sp+18Ch] [bp+6Ch]@16
  int v127; // [sp+190h] [bp+70h]@15
  void *v128; // [sp+194h] [bp+74h]@6
  char *v129; // [sp+194h] [bp+74h]@10
  int v130; // [sp+194h] [bp+74h]@17

  v125 = 0;
  v119 = 0;
  v1 = this;
  v2 = *((_DWORD *)this + 2);
  if ( (_BYTE)v2 == 3 )
  {
    v4 = ~(unsigned __int8)(v2 >> 18) & 1;
    v5 = (void *)(~(unsigned __int8)(v2 >> 17) & 1);
    v113 = (char *)sub_421077(
                     *(_DWORD *)(*((_DWORD *)this + 1) + 4192),
                     *(_DWORD *)(*(_DWORD *)this + 4192),
                     ~(unsigned __int8)(v2 >> 16) & 1);
    v114 = (char *)sub_421077(*(_DWORD *)(v1[1] + 4196), *(_DWORD *)(*v1 + 4196), (int)v5);
    v6 = (char *)sub_421077(*(_DWORD *)(v1[1] + 4200), *(_DWORD *)(*v1 + 4200), v4);
    v117 = v6;
    if ( v113
      && v114
      && v6
      && ((v7 = *(_DWORD *)(v1[1] + 4192), v8 = operator new(16 * *(_DWORD *)(v1[1] + 4192)), (v128 = v8) == 0) ? (v125 = 0) : ('vector constructor iterator'(v8, 16, v7, sub_41AB0C), v125 = v128),
          v125
       && ((v9 = 4 * *(_DWORD *)(*v1 + 4192), v10 = (char *)operator new(*(_DWORD *)(*v1 + 4192) << 6),
                                              (v129 = v10) == 0) ? (v119 = 0) : ('vector constructor iterator'(
                                                                                   v10,
                                                                                   16,
                                                                                   v9,
                                                                                   sub_41AB0C),
                                                                                 v119 = v129),
           v119)) )
    {
      v11 = *(_DWORD *)(*v1 + 4192);
      v118 = 0;
      v122 = (int)&v119[16 * v11];
      v121 = (int)&v119[32 * v11];
      v12 = v1[1];
      v13 = (int)&v119[48 * v11];
      v116 = v119;
      v123 = v13;
      if ( *(_DWORD *)(v12 + 4200) )
      {
        v127 = (int)(v117 + 8);
        do
        {
          v120 = 0;
          v124 = -1;
          v126 = -1;
          if ( *(_DWORD *)(v12 + 4196) )
          {
            v14 = (int)(v114 + 8);
            v130 = (int)(v114 + 8);
            do
            {
              v15 = *(_DWORD *)(v14 - 8);
              v115 = 0;
              if ( v15 != v124 )
              {
                v16 = v126;
                if ( v15 == v126 )
                {
                  v126 = -1;
                  v124 = v16;
                  v17 = v122;
                  v122 = (int)v116;
                  v18 = v121;
                  v121 = v13;
                  v116 = (char *)v17;
                  v123 = v18;
                  v13 = v18;
                }
                else
                {
                  v124 = *(_DWORD *)(v14 - 8);
                  (*(void (__stdcall **)(int, _DWORD, void *))(*(_DWORD *)*v1 + 4))(v15, *(_DWORD *)(v127 - 8), v116);
                  (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(v124, *(_DWORD *)v127, v121);
                }
              }
              if ( *(_DWORD *)v14 != v126 )
              {
                v126 = *(_DWORD *)v14;
                (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(
                  *(_DWORD *)v14,
                  *(_DWORD *)(v127 - 8),
                  v122);
                (*(void (__stdcall **)(signed int, _DWORD, int))(*(_DWORD *)*v1 + 4))(v126, *(_DWORD *)v127, v13);
              }
              if ( *(_DWORD *)(v1[1] + 4192) )
              {
                v19 = (int)(v113 + 8);
                v112 = v125;
                do
                {
                  v20 = *(float *)(v19 + 4);
                  v21 = 16 * *(_DWORD *)v19;
                  v22 = v21 + v13;
                  v23 = v20 * *(float *)v22;
                  v24 = v20 * *(float *)(v22 + 4);
                  v25 = v20 * *(float *)(v22 + 8);
                  v26 = v20 * *(float *)(v22 + 12);
                  v27 = *(float *)(v19 - 4);
                  v28 = 16 * *(_DWORD *)(v19 - 8);
                  v29 = v27 * *(float *)(v28 + v123 + 4);
                  v30 = v27 * *(float *)(v28 + v123 + 8);
                  v31 = v27 * *(float *)(v28 + v123 + 12);
                  v32 = v27 * *(float *)(v28 + v123) + v23;
                  v33 = v29 + v24;
                  v34 = v30 + v25;
                  v35 = *(float *)(v14 + 4);
                  v36 = v32 * v35;
                  v37 = v33 * v35;
                  v38 = v34 * v35;
                  v39 = (v31 + v26) * v35;
                  v40 = *(float *)(v19 + 4);
                  v41 = v40 * *(float *)(v21 + v121);
                  v42 = v40 * *(float *)(v21 + v121 + 4);
                  v43 = v40 * *(float *)(v21 + v121 + 8);
                  v44 = *(float *)(v19 - 4);
                  v45 = v44 * *(float *)(v28 + v121 + 4);
                  v46 = v44 * *(float *)(v28 + v121 + 8);
                  v47 = v44 * *(float *)(v28 + v121 + 12);
                  v48 = v44 * *(float *)(v28 + v121) + v41;
                  v49 = v45 + v42;
                  v50 = v46 + v43;
                  v51 = *(float *)(v14 - 4);
                  v52 = v48 * v51;
                  v53 = v49 * v51;
                  v54 = v50 * v51;
                  v55 = v52 + v36;
                  v56 = v53 + v37;
                  v57 = v54 + v38;
                  v58 = (v47 + v40 * *(float *)(v21 + v121 + 12)) * v51 + v39;
                  v59 = *(float *)(v127 + 4);
                  v60 = v55 * v59;
                  v61 = v56 * v59;
                  v62 = v57 * v59;
                  v63 = v58 * v59;
                  v64 = *(float *)(v19 + 4);
                  v65 = v64 * *(float *)(v21 + v122);
                  v66 = v64 * *(float *)(v21 + v122 + 4);
                  v67 = v64 * *(float *)(v21 + v122 + 8);
                  v68 = v64 * *(float *)(v21 + v122 + 12);
                  v69 = *(float *)(v19 - 4);
                  v70 = v69 * *(float *)(v28 + v122 + 4);
                  v71 = v69 * *(float *)(v28 + v122 + 8);
                  v72 = (int)&v116[v21];
                  v73 = v69 * *(float *)(v28 + v122 + 12);
                  v74 = v69 * *(float *)(v28 + v122) + v65;
                  v75 = v70 + v66;
                  v76 = v71 + v67;
                  v77 = *(float *)(v14 + 4);
                  v78 = v74 * v77;
                  v79 = v75 * v77;
                  v80 = v76 * v77;
                  v81 = (v73 + v68) * v77;
                  v82 = *(float *)(v19 + 4);
                  v83 = v82 * *(float *)v72;
                  v84 = v82 * *(float *)(v72 + 4);
                  v85 = v82 * *(float *)(v72 + 8);
                  v86 = (int)&v116[v28];
                  v87 = *(float *)(v19 - 4);
                  v88 = v87 * *(float *)(v86 + 4);
                  v89 = v87 * *(float *)(v86 + 8);
                  v90 = v87 * *(float *)(v86 + 12);
                  v91 = v87 * *(float *)v86 + v83;
                  v92 = v88 + v84;
                  v93 = v89 + v85;
                  v94 = *(float *)(v14 - 4);
                  v95 = v91 * v94;
                  v96 = v92 * v94;
                  v97 = v93 * v94;
                  v98 = (v90 + v82 * *(float *)(v72 + 12)) * v94;
                  v99 = v95 + v78;
                  v100 = v96 + v79;
                  v101 = v97 + v80;
                  v102 = *(float *)(v127 - 4);
                  v103 = v99 * v102;
                  v104 = v100 * v102;
                  v105 = v101 * v102;
                  v106 = v112;
                  v112 = (char *)v112 + 16;
                  v19 += 16;
                  ++v115;
                  v107 = v103 + v60;
                  v108 = v104 + v61;
                  v109 = v105 + v62;
                  v110 = (v98 + v81) * v102 + v63;
                  *(float *)v106 = v107;
                  v106 = (char *)v106 + 4;
                  *(float *)v106 = v108;
                  v106 = (char *)v106 + 4;
                  *(float *)v106 = v109;
                  *((float *)v106 + 1) = v110;
                  v13 = v123;
                  v14 = v130;
                }
                while ( v115 < *(_DWORD *)(v1[1] + 4192) );
              }
              (*(void (__stdcall **)(unsigned int, unsigned int, void *))(*(_DWORD *)v1[1] + 8))(v120, v118, v125);
              v14 += 16;
              ++v120;
              v130 = v14;
            }
            while ( v120 < *(_DWORD *)(v1[1] + 4196) );
          }
          v127 += 16;
          ++v118;
          v12 = v1[1];
        }
        while ( v118 < *(_DWORD *)(v12 + 4200) );
      }
      v111 = 0;
    }
    else
    {
      v111 = -2147024882;
    }
    j__free(v113);
    j__free(v114);
    j__free(v117);
    j__free(v125);
    j__free(v119);
    result = v111;
  }
  else
  {
    result = -2147467259;
  }
  return result;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00421BC3) --------------------------------------------------------
signed int __thiscall sub_421BC3(void *this)
{
  _DWORD *v1; // esi@1
  unsigned int v2; // eax@1
  int v3; // edi@1
  unsigned int v4; // ebx@4
  int v5; // edi@4
  _DWORD *v6; // eax@4
  int v7; // ST24_4@5
  int v8; // edi@8
  void *v9; // eax@8
  _DWORD *v10; // ecx@12
  unsigned int v11; // edx@13
  _DWORD *i; // ecx@13
  _DWORD *v13; // eax@17
  double v14; // st7@18
  void **v15; // ebx@20
  int v16; // edi@23
  void *v17; // eax@23
  void *v18; // eax@24
  int v19; // edx@32
  unsigned int v20; // eax@33
  unsigned int k; // ebx@34
  int v22; // eax@35
  unsigned int v23; // ecx@35
  double v24; // st7@36
  float *v25; // edi@36
  _DWORD *v26; // ebx@45
  int v27; // edi@46
  bool v28; // zf@46
  int v29; // eax@47
  int v30; // ecx@48
  int v31; // eax@48
  unsigned int v32; // edx@51
  int v33; // ecx@52
  double v34; // st6@54
  double v35; // st6@59
  double v36; // st6@64
  double v37; // st6@69
  unsigned int v38; // edx@75
  int v39; // ecx@76
  double v40; // st6@78
  double v41; // st6@83
  double v42; // st6@88
  double v43; // st6@93
  unsigned int v44; // edx@99
  int v45; // ecx@100
  double v46; // st6@102
  double v47; // st6@107
  double v48; // st6@112
  double v49; // st6@117
  signed int v50; // esi@127
  unsigned int v52; // [sp+Ch] [bp-48h]@4
  int v53; // [sp+10h] [bp-44h]@1
  void *v54; // [sp+10h] [bp-44h]@8
  int v55; // [sp+10h] [bp-44h]@19
  unsigned int v56; // [sp+14h] [bp-40h]@4
  unsigned int v57; // [sp+18h] [bp-3Ch]@4
  _DWORD *v58; // [sp+1Ch] [bp-38h]@1
  int v59; // [sp+20h] [bp-34h]@17
  void *v60; // [sp+24h] [bp-30h]@23
  char *v61; // [sp+24h] [bp-30h]@30
  unsigned int v62; // [sp+28h] [bp-2Ch]@31
  int v63; // [sp+2Ch] [bp-28h]@30
  char *v64; // [sp+30h] [bp-24h]@31
  unsigned int v65; // [sp+34h] [bp-20h]@33
  _DWORD *v66; // [sp+38h] [bp-1Ch]@1
  _DWORD *v67; // [sp+3Ch] [bp-18h]@1
  int v68; // [sp+40h] [bp-14h]@1
  unsigned int v69; // [sp+44h] [bp-10h]@19
  void *v70; // [sp+48h] [bp-Ch]@1
  _DWORD *v71; // [sp+4Ch] [bp-8h]@1
  _DWORD *j; // [sp+50h] [bp-4h]@19
  int v73; // [sp+50h] [bp-4h]@33
  unsigned int v74; // [sp+50h] [bp-4h]@47

  v1 = this;
  v2 = *((_DWORD *)this + 2);
  v53 = ~(unsigned __int8)(v2 >> 18) & 1;
  v66 = 0;
  v67 = 0;
  v71 = 0;
  v68 = 0;
  v70 = 0;
  v3 = ~(unsigned __int8)(v2 >> 17) & 1;
  v58 = sub_41EE0B(
          *(_DWORD *)(*(_DWORD *)this + 4192),
          *(_DWORD *)(*((_DWORD *)this + 1) + 4192),
          ~(unsigned __int8)(v2 >> 16) & 1);
  if ( v58
    && (v66 = sub_41EE0B(*(_DWORD *)(*v1 + 4196), *(_DWORD *)(v1[1] + 4196), v3)) != 0
    && (v67 = sub_41EE0B(*(_DWORD *)(*v1 + 4200), *(_DWORD *)(v1[1] + 4200), v53)) != 0 )
  {
    v57 = (unsigned int)v58 + *v58;
    v56 = (unsigned int)v66 + *v66;
    v4 = (unsigned int)v67 + *v67;
    v5 = *(_DWORD *)(v1[1] + 4200);
    v52 = (unsigned int)v67 + *v67;
    v6 = operator new(12 * v5 + 4);
    if ( v6 )
    {
      *v6 = v5;
      v7 = (int)(v6 + 1);
      'vector constructor iterator'(v6 + 1, 12, v5, unknown_libname_93);
      v71 = (_DWORD *)v7;
    }
    else
    {
      v71 = 0;
    }
    if ( v71
      && ((v8 = *(_DWORD *)(*v1 + 4192), v9 = operator new(16 * *(_DWORD *)(*v1 + 4192)), (v54 = v9) == 0) ? (v70 = 0) : ('vector constructor iterator'(v9, 16, v8, sub_41AB0C), v70 = v54),
          v70) )
    {
      v10 = v67 + 1;
      if ( (unsigned int)(v67 + 1) < v4 )
      {
        do
        {
          v11 = (unsigned int)v10 + *v10;
          for ( i = v10 + 1; (unsigned int)i < v11; i += 2 )
            ++v71[3 * *i + 2];
          v10 = (_DWORD *)v11;
        }
        while ( v11 < v4 );
      }
      v13 = v67 + 1;
      v59 = 0;
      if ( (unsigned int)(v67 + 1) < v4 )
      {
        v14 = -1.0;
        do
        {
          v69 = (unsigned int)v13 + *v13;
          v55 = (int)(v13 + 1);
          for ( j = v13 + 1; (unsigned int)j < v69; j += 2 )
          {
            v15 = (void **)&v71[3 * *j];
            if ( !*v15 )
            {
              if ( v68 )
              {
                *v15 = *(void **)v68;
                *(_DWORD *)v68 = 0;
                v68 = *(_DWORD *)(v68 + 4);
              }
              else
              {
                v16 = *(_DWORD *)(v1[1] + 4192) * *(_DWORD *)(v1[1] + 4196);
                v17 = operator new(16 * v16);
                v60 = v17;
                if ( v17 )
                {
                  'vector constructor iterator'(v17, 16, v16, sub_41AB0C);
                  v18 = v60;
                }
                else
                {
                  v18 = 0;
                }
                *v15 = v18;
                if ( !v18 )
                  goto LABEL_128;
                v14 = -1.0;
              }
              memset(*v15, 0, 16 * *(_DWORD *)(v1[1] + 4192) * *(_DWORD *)(v1[1] + 4196));
            }
          }
          v63 = 0;
          v61 = (char *)(v66 + 1);
          if ( (unsigned int)(v66 + 1) < v56 )
          {
            do
            {
              v62 = (unsigned int)&v61[*(_DWORD *)v61];
              (*(void (__stdcall **)(int, int, void *))(*(_DWORD *)*v1 + 4))(v63, v59, v70);
              v64 = (char *)(v58 + 1);
              if ( (unsigned int)(v58 + 1) < v57 )
              {
                v19 = (int)v70 + 8;
                do
                {
                  v65 = (unsigned int)&v64[*(_DWORD *)v64];
                  v20 = v55;
                  v73 = v55;
                  while ( v20 < v69 )
                  {
                    for ( k = (unsigned int)(v61 + 4); k < v62; k += 8 )
                    {
                      v22 = v71[3 * *(_DWORD *)v73] + 16 * *(_DWORD *)k * *(_DWORD *)(v1[1] + 4192);
                      v23 = (unsigned int)(v64 + 4);
                      while ( v23 < v65 )
                      {
                        v24 = *(float *)(v23 + 4) * *(float *)(k + 4) * *(float *)(v73 + 4);
                        *(float *)(v22 + 16 * *(_DWORD *)v23) = v24 * *(float *)(v19 - 8)
                                                              + *(float *)(v22 + 16 * *(_DWORD *)v23);
                        *(float *)(16 * *(_DWORD *)v23 + v22 + 4) = v24 * *(float *)(v19 - 4)
                                                                  + *(float *)(16 * *(_DWORD *)v23 + v22 + 4);
                        *(float *)(16 * *(_DWORD *)v23 + v22 + 8) = v24 * *(float *)v19
                                                                  + *(float *)(16 * *(_DWORD *)v23 + v22 + 8);
                        v25 = (float *)(16 * *(_DWORD *)v23 + v22 + 12);
                        v23 += 8;
                        *v25 = v24 * *(float *)(v19 + 4) + *v25;
                      }
                    }
                    v73 += 8;
                    v20 = v73;
                  }
                  v19 += 16;
                  v64 = (char *)v65;
                }
                while ( v65 < v57 );
              }
              ++v63;
              v61 = (char *)v62;
            }
            while ( v62 < v56 );
            v14 = -1.0;
          }
          v26 = (_DWORD *)v55;
          v13 = (_DWORD *)v69;
          while ( v26 < v13 )
          {
            v27 = (int)&v71[3 * *v26];
            v28 = (*(_DWORD *)(v27 + 8))-- == 1;
            if ( v28 )
            {
              v29 = v1[1];
              v74 = 0;
              if ( *(_DWORD *)(v29 + 4196) )
              {
                do
                {
                  v30 = *(_DWORD *)(v29 + 4192);
                  v31 = *(_DWORD *)v27 + 16 * v74 * *(_DWORD *)(v29 + 4192);
                  switch ( *(_DWORD *)(*v1 + 8) )
                  {
                    case 1:
                      v44 = 0;
                      if ( v30 )
                      {
                        v45 = v31 + 8;
                        do
                        {
                          if ( *(float *)(v45 - 8) >= 0.0 )
                          {
                            if ( *(float *)(v45 - 8) >= 1.0 )
                              v46 = 1.0;
                            else
                              v46 = *(float *)(v45 - 8);
                          }
                          else
                          {
                            v46 = 0.0;
                          }
                          *(float *)(v45 - 8) = v46;
                          if ( *(float *)(v45 - 4) >= 0.0 )
                          {
                            if ( *(float *)(v45 - 4) >= 1.0 )
                              v47 = 1.0;
                            else
                              v47 = *(float *)(v45 - 4);
                          }
                          else
                          {
                            v47 = 0.0;
                          }
                          *(float *)(v45 - 4) = v47;
                          if ( *(float *)v45 >= 0.0 )
                          {
                            if ( *(float *)v45 >= 1.0 )
                              v48 = 1.0;
                            else
                              v48 = *(float *)v45;
                          }
                          else
                          {
                            v48 = 0.0;
                          }
                          *(float *)v45 = v48;
                          if ( *(float *)(v45 + 4) >= 0.0 )
                          {
                            if ( *(float *)(v45 + 4) >= 1.0 )
                              v49 = 1.0;
                            else
                              v49 = *(float *)(v45 + 4);
                          }
                          else
                          {
                            v49 = 0.0;
                          }
                          *(float *)(v45 + 4) = v49;
                          ++v44;
                          v45 += 16;
                        }
                        while ( v44 < *(_DWORD *)(v1[1] + 4192) );
                      }
                      break;
                    case 2:
                      v38 = 0;
                      if ( v30 )
                      {
                        v39 = v31 + 8;
                        do
                        {
                          if ( v14 <= *(float *)(v39 - 8) )
                          {
                            if ( *(float *)(v39 - 8) >= 1.0 )
                              v40 = 1.0;
                            else
                              v40 = *(float *)(v39 - 8);
                          }
                          else
                          {
                            v40 = v14;
                          }
                          *(float *)(v39 - 8) = v40;
                          if ( v14 <= *(float *)(v39 - 4) )
                          {
                            if ( *(float *)(v39 - 4) >= 1.0 )
                              v41 = 1.0;
                            else
                              v41 = *(float *)(v39 - 4);
                          }
                          else
                          {
                            v41 = v14;
                          }
                          *(float *)(v39 - 4) = v41;
                          if ( v14 <= *(float *)v39 )
                          {
                            if ( *(float *)v39 >= 1.0 )
                              v42 = 1.0;
                            else
                              v42 = *(float *)v39;
                          }
                          else
                          {
                            v42 = v14;
                          }
                          *(float *)v39 = v42;
                          if ( *(float *)(v39 + 4) >= 0.0 )
                          {
                            if ( *(float *)(v39 + 4) >= 1.0 )
                              v43 = 1.0;
                            else
                              v43 = *(float *)(v39 + 4);
                          }
                          else
                          {
                            v43 = 0.0;
                          }
                          *(float *)(v39 + 4) = v43;
                          ++v38;
                          v39 += 16;
                        }
                        while ( v38 < *(_DWORD *)(v1[1] + 4192) );
                      }
                      break;
                    case 3:
                      v32 = 0;
                      if ( v30 )
                      {
                        v33 = v31 + 8;
                        do
                        {
                          if ( v14 <= *(float *)(v33 - 8) )
                          {
                            if ( *(float *)(v33 - 8) >= 1.0 )
                              v34 = 1.0;
                            else
                              v34 = *(float *)(v33 - 8);
                          }
                          else
                          {
                            v34 = v14;
                          }
                          *(float *)(v33 - 8) = v34;
                          if ( v14 <= *(float *)(v33 - 4) )
                          {
                            if ( *(float *)(v33 - 4) >= 1.0 )
                              v35 = 1.0;
                            else
                              v35 = *(float *)(v33 - 4);
                          }
                          else
                          {
                            v35 = v14;
                          }
                          *(float *)(v33 - 4) = v35;
                          if ( v14 <= *(float *)v33 )
                          {
                            if ( *(float *)v33 >= 1.0 )
                              v36 = 1.0;
                            else
                              v36 = *(float *)v33;
                          }
                          else
                          {
                            v36 = v14;
                          }
                          *(float *)v33 = v36;
                          if ( v14 <= *(float *)(v33 + 4) )
                          {
                            if ( *(float *)(v33 + 4) >= 1.0 )
                              v37 = 1.0;
                            else
                              v37 = *(float *)(v33 + 4);
                          }
                          else
                          {
                            v37 = v14;
                          }
                          *(float *)(v33 + 4) = v37;
                          ++v32;
                          v33 += 16;
                        }
                        while ( v32 < *(_DWORD *)(v1[1] + 4192) );
                      }
                      break;
                  }
                  (*(void (__stdcall **)(unsigned int, _DWORD, int))(*(_DWORD *)v1[1] + 8))(
                    v74,
                    *v26,
                    *(_DWORD *)v27 + 16 * v74 * *(_DWORD *)(v1[1] + 4192));
                  v14 = -1.0;
                  ++v74;
                  v29 = v1[1];
                }
                while ( v74 < *(_DWORD *)(v29 + 4196) );
              }
              *(_DWORD *)(v27 + 4) = v68;
              v13 = (_DWORD *)v69;
              v68 = v27;
            }
            v26 += 2;
          }
          ++v59;
        }
        while ( (unsigned int)v13 < v52 );
      }
      v50 = 0;
    }
    else
    {
LABEL_128:
      v50 = -2147024882;
    }
  }
  else
  {
    v50 = -2147467259;
  }
  if ( v71 )
    ATL::CComTypeInfoHolder::stringdispid::'vector deleting destructor'(v71, 3);
  j__free(v67);
  j__free(v66);
  j__free(v58);
  j__free(v70);
  j__free(0);
  return v50;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 41EDF5: using guessed type int __thiscall unknown_libname_93(_DWORD);

//----- (00422287) --------------------------------------------------------
signed int __thiscall sub_422287(_DWORD *this)
{
  _DWORD *v1; // ebx@1
  int v2; // edx@1
  int v3; // edi@3
  unsigned int v4; // edi@5
  int v5; // esi@5
  _DWORD *v6; // eax@5
  int v7; // ST20_4@6
  int v8; // esi@9
  void *v9; // eax@9
  _DWORD *v10; // ecx@13
  unsigned int v11; // edx@14
  _DWORD *i; // ecx@14
  _DWORD *v13; // eax@18
  unsigned int v14; // ecx@19
  void **v15; // edi@20
  int v16; // esi@23
  void *v17; // eax@23
  void *v18; // eax@24
  char *v19; // eax@29
  int v20; // edx@30
  unsigned int v21; // edi@31
  int v22; // ecx@33
  unsigned int v23; // eax@33
  double v24; // st7@34
  float *v25; // esi@34
  _DWORD *v26; // edi@38
  int v27; // esi@39
  bool v28; // zf@39
  int v29; // edx@43
  unsigned int v30; // edi@43
  float *v31; // ecx@44
  double v32; // st5@45
  float *v33; // ecx@49
  double v34; // st5@50
  float *v35; // ecx@54
  double v36; // st5@55
  float *v37; // ecx@59
  double v38; // st5@60
  int v39; // edx@66
  unsigned int v40; // edi@66
  float *v41; // ecx@67
  double v42; // st5@68
  float *v43; // ecx@72
  double v44; // st5@73
  float *v45; // ecx@77
  double v46; // st5@78
  float *v47; // ecx@82
  double v48; // st5@83
  int v49; // edx@89
  unsigned int v50; // edi@89
  float *v51; // ecx@90
  double v52; // st6@91
  float *v53; // ecx@95
  double v54; // st6@96
  float *v55; // ecx@100
  double v56; // st6@101
  float *v57; // ecx@105
  double v58; // st6@106
  signed int v59; // esi@115
  signed int result; // eax@120
  unsigned int v61; // [sp+Ch] [bp-30h]@5
  unsigned int v62; // [sp+10h] [bp-2Ch]@19
  unsigned int v63; // [sp+14h] [bp-28h]@5
  void *v64; // [sp+18h] [bp-24h]@23
  int v65; // [sp+18h] [bp-24h]@32
  _DWORD *v66; // [sp+1Ch] [bp-20h]@3
  void *v67; // [sp+20h] [bp-1Ch]@9
  int v68; // [sp+20h] [bp-1Ch]@18
  _DWORD *v69; // [sp+24h] [bp-18h]@1
  int v70; // [sp+28h] [bp-14h]@1
  _DWORD *v71; // [sp+2Ch] [bp-10h]@19
  void *v72; // [sp+30h] [bp-Ch]@1
  _DWORD *v73; // [sp+34h] [bp-8h]@1
  _DWORD *j; // [sp+38h] [bp-4h]@19
  unsigned int v75; // [sp+38h] [bp-4h]@31
  _DWORD *v76; // [sp+38h] [bp-4h]@113

  v1 = this;
  v2 = this[1];
  v69 = 0;
  v73 = 0;
  v70 = 0;
  v72 = 0;
  if ( *(_DWORD *)(v2 + 4200) != 1 || *(_DWORD *)(*this + 4200) != 1 )
  {
    result = -2147467259;
  }
  else
  {
    v3 = ~(this[2] >> 17) & 1;
    v66 = sub_41EE0B(*(_DWORD *)(*this + 4192), *(_DWORD *)(v2 + 4192), ~(this[2] >> 16) & 1);
    if ( v66 && (v69 = sub_41EE0B(*(_DWORD *)(*v1 + 4196), *(_DWORD *)(v1[1] + 4196), v3)) != 0 )
    {
      v63 = (unsigned int)v66 + *v66;
      v4 = (unsigned int)v69 + *v69;
      v5 = *(_DWORD *)(v1[1] + 4196);
      v61 = (unsigned int)v69 + *v69;
      v6 = operator new(12 * v5 + 4);
      if ( v6 )
      {
        *v6 = v5;
        v7 = (int)(v6 + 1);
        'vector constructor iterator'(v6 + 1, 12, v5, unknown_libname_93);
        v73 = (_DWORD *)v7;
      }
      else
      {
        v73 = 0;
      }
      if ( v73
        && ((v8 = *(_DWORD *)(*v1 + 4192), v9 = operator new(16 * *(_DWORD *)(*v1 + 4192)), (v67 = v9) == 0) ? (v72 = 0) : ('vector constructor iterator'(v9, 16, v8, sub_41AB0C), v72 = v67),
            v72) )
      {
        v10 = v69 + 1;
        if ( (unsigned int)(v69 + 1) < v4 )
        {
          do
          {
            v11 = (unsigned int)v10 + *v10;
            for ( i = v10 + 1; (unsigned int)i < v11; i += 2 )
              ++v73[3 * *i + 2];
            v10 = (_DWORD *)v11;
          }
          while ( v11 < v4 );
        }
        v13 = v69 + 1;
        v68 = 0;
        if ( (unsigned int)(v69 + 1) < v4 )
        {
          do
          {
            v14 = (unsigned int)v13 + *v13;
            v71 = (_DWORD *)v14;
            v62 = (unsigned int)(v13 + 1);
            for ( j = v13 + 1; (unsigned int)j < v14; j += 2 )
            {
              v15 = (void **)&v73[3 * *j];
              if ( !*v15 )
              {
                if ( v70 )
                {
                  *v15 = *(void **)v70;
                  *(_DWORD *)v70 = 0;
                  v70 = *(_DWORD *)(v70 + 4);
                }
                else
                {
                  v16 = *(_DWORD *)(v1[1] + 4192);
                  v17 = operator new(16 * *(_DWORD *)(v1[1] + 4192));
                  v64 = v17;
                  if ( v17 )
                  {
                    'vector constructor iterator'(v17, 16, v16, sub_41AB0C);
                    v18 = v64;
                  }
                  else
                  {
                    v18 = 0;
                  }
                  *v15 = v18;
                  if ( !v18 )
                    goto LABEL_116;
                }
                memset(*v15, 0, 16 * *(_DWORD *)(v1[1] + 4192));
                v14 = (unsigned int)v71;
              }
            }
            (*(void (__stdcall **)(int, _DWORD, void *))(*(_DWORD *)*v1 + 4))(v68, 0, v72);
            v19 = (char *)(v66 + 1);
            if ( (unsigned int)(v66 + 1) < v63 )
            {
              v20 = (int)v72 + 8;
              do
              {
                v21 = (unsigned int)&v19[*(_DWORD *)v19];
                v75 = v62;
                if ( v62 < (unsigned int)v71 )
                {
                  v65 = (int)(v19 + 4);
                  do
                  {
                    v22 = v73[3 * *(_DWORD *)v75];
                    v23 = v65;
                    while ( v23 < v21 )
                    {
                      v24 = *(float *)(v23 + 4) * *(float *)(v75 + 4);
                      *(float *)(v22 + 16 * *(_DWORD *)v23) = v24 * *(float *)(v20 - 8)
                                                            + *(float *)(v22 + 16 * *(_DWORD *)v23);
                      *(float *)(16 * *(_DWORD *)v23 + v22 + 4) = v24 * *(float *)(v20 - 4)
                                                                + *(float *)(16 * *(_DWORD *)v23 + v22 + 4);
                      *(float *)(16 * *(_DWORD *)v23 + v22 + 8) = v24 * *(float *)v20
                                                                + *(float *)(16 * *(_DWORD *)v23 + v22 + 8);
                      v25 = (float *)(16 * *(_DWORD *)v23 + v22 + 12);
                      v23 += 8;
                      *v25 = v24 * *(float *)(v20 + 4) + *v25;
                    }
                    v75 += 8;
                  }
                  while ( v75 < (unsigned int)v71 );
                }
                v20 += 16;
                v19 = (char *)v21;
              }
              while ( v21 < v63 );
            }
            v26 = (_DWORD *)v62;
            v13 = v71;
            while ( 1 )
            {
              v76 = v26;
              if ( v26 >= v13 )
                break;
              v27 = (int)&v73[3 * *v26];
              v28 = (*(_DWORD *)(v27 + 8))-- == 1;
              if ( v28 )
              {
                switch ( *(_DWORD *)(*v1 + 8) )
                {
                  case 1:
                    v49 = 0;
                    v50 = 0;
                    if ( *(_DWORD *)(v1[1] + 4192) )
                    {
                      do
                      {
                        v51 = (float *)(*(_DWORD *)v27 + v49);
                        if ( *v51 >= 0.0 )
                        {
                          if ( *v51 >= 1.0 )
                            v52 = 1.0;
                          else
                            v52 = *v51;
                        }
                        else
                        {
                          v52 = 0.0;
                        }
                        *v51 = v52;
                        v53 = (float *)(*(_DWORD *)v27 + v49 + 4);
                        if ( *v53 >= 0.0 )
                        {
                          if ( *v53 >= 1.0 )
                            v54 = 1.0;
                          else
                            v54 = *v53;
                        }
                        else
                        {
                          v54 = 0.0;
                        }
                        *v53 = v54;
                        v55 = (float *)(*(_DWORD *)v27 + v49 + 8);
                        if ( *v55 >= 0.0 )
                        {
                          if ( *v55 >= 1.0 )
                            v56 = 1.0;
                          else
                            v56 = *v55;
                        }
                        else
                        {
                          v56 = 0.0;
                        }
                        *v55 = v56;
                        v57 = (float *)(*(_DWORD *)v27 + v49 + 12);
                        if ( *v57 >= 0.0 )
                        {
                          if ( *v57 >= 1.0 )
                            v58 = 1.0;
                          else
                            v58 = *v57;
                        }
                        else
                        {
                          v58 = 0.0;
                        }
                        *v57 = v58;
                        ++v50;
                        v49 += 16;
                      }
                      while ( v50 < *(_DWORD *)(v1[1] + 4192) );
                    }
                    break;
                  case 2:
                    v39 = 0;
                    v40 = 0;
                    if ( *(_DWORD *)(v1[1] + 4192) )
                    {
                      do
                      {
                        v41 = (float *)(*(_DWORD *)v27 + v39);
                        if ( *v41 >= -1.0 )
                        {
                          if ( *v41 >= 1.0 )
                            v42 = 1.0;
                          else
                            v42 = *v41;
                        }
                        else
                        {
                          v42 = -1.0;
                        }
                        *v41 = v42;
                        v43 = (float *)(*(_DWORD *)v27 + v39 + 4);
                        if ( *v43 >= -1.0 )
                        {
                          if ( *v43 >= 1.0 )
                            v44 = 1.0;
                          else
                            v44 = *v43;
                        }
                        else
                        {
                          v44 = -1.0;
                        }
                        *v43 = v44;
                        v45 = (float *)(*(_DWORD *)v27 + v39 + 8);
                        if ( *v45 >= -1.0 )
                        {
                          if ( *v45 >= 1.0 )
                            v46 = 1.0;
                          else
                            v46 = *v45;
                        }
                        else
                        {
                          v46 = -1.0;
                        }
                        *v45 = v46;
                        v47 = (float *)(*(_DWORD *)v27 + v39 + 12);
                        if ( *v47 >= 0.0 )
                        {
                          if ( *v47 >= 1.0 )
                            v48 = 1.0;
                          else
                            v48 = *v47;
                        }
                        else
                        {
                          v48 = 0.0;
                        }
                        *v47 = v48;
                        ++v40;
                        v39 += 16;
                      }
                      while ( v40 < *(_DWORD *)(v1[1] + 4192) );
                    }
                    break;
                  case 3:
                    v29 = 0;
                    v30 = 0;
                    if ( *(_DWORD *)(v1[1] + 4192) )
                    {
                      do
                      {
                        v31 = (float *)(*(_DWORD *)v27 + v29);
                        if ( *v31 >= -1.0 )
                        {
                          if ( *v31 >= 1.0 )
                            v32 = 1.0;
                          else
                            v32 = *v31;
                        }
                        else
                        {
                          v32 = -1.0;
                        }
                        *v31 = v32;
                        v33 = (float *)(*(_DWORD *)v27 + v29 + 4);
                        if ( *v33 >= -1.0 )
                        {
                          if ( *v33 >= 1.0 )
                            v34 = 1.0;
                          else
                            v34 = *v33;
                        }
                        else
                        {
                          v34 = -1.0;
                        }
                        *v33 = v34;
                        v35 = (float *)(*(_DWORD *)v27 + v29 + 8);
                        if ( *v35 >= -1.0 )
                        {
                          if ( *v35 >= 1.0 )
                            v36 = 1.0;
                          else
                            v36 = *v35;
                        }
                        else
                        {
                          v36 = -1.0;
                        }
                        *v35 = v36;
                        v37 = (float *)(*(_DWORD *)v27 + v29 + 12);
                        if ( *v37 >= -1.0 )
                        {
                          if ( *v37 >= 1.0 )
                            v38 = 1.0;
                          else
                            v38 = *v37;
                        }
                        else
                        {
                          v38 = -1.0;
                        }
                        *v37 = v38;
                        ++v30;
                        v29 += 16;
                      }
                      while ( v30 < *(_DWORD *)(v1[1] + 4192) );
                    }
                    break;
                }
                v26 = v76;
                (*(void (__stdcall **)(_DWORD, _DWORD, _DWORD))(*(_DWORD *)v1[1] + 8))(*v76, 0, *(_DWORD *)v27);
                *(_DWORD *)(v27 + 4) = v70;
                v13 = v71;
                v70 = v27;
              }
              v26 += 2;
            }
            ++v68;
          }
          while ( (unsigned int)v13 < v61 );
        }
        v59 = 0;
      }
      else
      {
LABEL_116:
        v59 = -2147024882;
      }
    }
    else
    {
      v59 = -2147467259;
    }
    if ( v73 )
      ATL::CComTypeInfoHolder::stringdispid::'vector deleting destructor'(v73, 3);
    j__free(v69);
    j__free(v66);
    j__free(v72);
    j__free(0);
    result = v59;
  }
  return result;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 41EDF5: using guessed type int __thiscall unknown_libname_93(_DWORD);

//----- (00422875) --------------------------------------------------------
signed int __thiscall sub_422875(int this, int a2, int a3, int a4)
{
  int v4; // eax@1
  int v5; // esi@1
  char *v6; // eax@4
  char *v7; // eax@5
  signed int v8; // edi@6
  void (__stdcall ***v9)(_DWORD); // ecx@19

  v4 = a4;
  v5 = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 8) = a4;
  if ( !(_WORD)a4 || (unsigned __int16)a4 > 5u || a4 & 0xFFC00000 )
    return -2005530516;
  *(_DWORD *)(a3 + 68) = v4 & 0x100000;
  *(_DWORD *)(a2 + 68) = v4 & 0x200000;
  *(_DWORD *)(a2 + 64) = v4 & 0x80000;
  v6 = sub_429F05(a2);
  *(_DWORD *)(v5 + 4) = v6;
  if ( !v6 )
    goto LABEL_18;
  v7 = sub_429F05(a3);
  *(_DWORD *)v5 = v7;
  if ( !v7 )
    goto LABEL_18;
  v8 = sub_423E2D(*(_DWORD *)(v5 + 4), (int)v7);
  if ( v8 >= 0 )
  {
    if ( sub_42022A(v5) >= 0
      || sub_420367(v5) >= 0
      || sub_420445(v5) >= 0
      || sub_42063A((_BYTE *)v5) >= 0
      || sub_420833(v5, v8, (void *)v5) >= 0
      || sub_420C42(v5, v8, (void *)v5) >= 0
      || sub_421169((void *)v5) >= 0
      || sub_4214F8((void *)v5) >= 0
      || sub_422287((_DWORD *)v5) >= 0
      || sub_421BC3((void *)v5) >= 0 )
    {
      v8 = 0;
      goto LABEL_19;
    }
LABEL_18:
    v8 = -2147467259;
  }
LABEL_19:
  v9 = *(void (__stdcall ****)(_DWORD))(v5 + 4);
  if ( v9 )
  {
    (**v9)(1);
    *(_DWORD *)(v5 + 4) = 0;
  }
  if ( *(_DWORD *)v5 )
  {
    (***(void (__stdcall ****)(_DWORD))v5)(1);
    *(_DWORD *)v5 = 0;
  }
  return v8;
}

//----- (004229A4) --------------------------------------------------------
int __thiscall sub_4229A4(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  return result;
}

//----- (004229B7) --------------------------------------------------------
int __userpurge sub_4229B7@<eax>(int a1@<edi>, int a2, int a3)
{
  int v3; // ebx@1
  int v4; // esi@1
  int result; // eax@1
  int v6; // ST10_4@2
  int v7; // edi@2
  int v8; // eax@2
  unsigned int v9; // ecx@9
  char *v10; // eax@13
  char *v11; // edx@13
  int v12; // [sp+8h] [bp-38h]@1
  unsigned int v13; // [sp+24h] [bp-1Ch]@9
  int v14; // [sp+28h] [bp-18h]@2
  char *v15; // [sp+2Ch] [bp-14h]@13
  int v16; // [sp+30h] [bp-10h]@1
  char *v17; // [sp+34h] [bp-Ch]@13
  unsigned int v18; // [sp+38h] [bp-8h]@11
  unsigned int v19; // [sp+3Ch] [bp-4h]@13

  v3 = a2;
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a2 + 48))(a2, &v12);
  v4 = 0;
  result = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD))(*(_DWORD *)v3 + 52))(v3, &v16, 0, 0);
  if ( result >= 0 )
  {
    v6 = a1;
    v7 = a3;
    v8 = (*(int (__stdcall **)(int, int *, _DWORD, _DWORD, int))(*(_DWORD *)a3 + 52))(a3, &v14, 0, 0, v6);
    if ( v8 >= 0 )
    {
      if ( v12 != 827611204 && v12 != 844388420 && v12 != 861165636 && v12 != 877942852 && v12 != 894720068 )
      {
        v9 = v13;
      }
      else
      {
        v9 = (v13 + 3) >> 2;
        v13 = (v13 + 3) >> 2;
      }
      v18 = v14;
      if ( v14 >= v16 )
        v18 = v16;
      v10 = v17;
      v11 = v15;
      v19 = 0;
      if ( v9 > 0 )
      {
        do
        {
          qmemcpy(v11, v10, v18);
          v10 += v16;
          v11 += v14;
          v9 = ++v19;
        }
        while ( v19 < v13 );
        v7 = a3;
        v3 = a2;
        v4 = 0;
      }
      (*(void (__fastcall **)(unsigned int, void *, int))(*(_DWORD *)v7 + 56))(v9, v11, v7);
    }
    else
    {
      v4 = v8;
    }
    (*(void (__cdecl **)(int))(*(_DWORD *)v3 + 56))(v3);
    result = v4;
  }
  return result;
}
// 4229B7: could not find valid save-restore pair for edi

//----- (00422A94) --------------------------------------------------------
int __thiscall sub_422A94(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ebx@8
  int v4; // eax@10
  int v5; // eax@12
  int v6; // eax@14
  int v7; // eax@16

  v1 = this;
  v2 = *(_DWORD *)(this + 8);
  if ( v2 || (v2 = *(_DWORD *)(this + 4)) != 0 )
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 56))(v2);
  if ( *(_DWORD *)(v1 + 4) )
  {
    if ( *(_DWORD *)(v1 + 8) )
    {
      if ( *(_DWORD *)(v1 + 16) )
      {
        if ( !(*(_BYTE *)v1 & 1) )
        {
          sub_41CB34(1);
          v3 = (*(int (__stdcall **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(**(_DWORD **)(v1 + 16) + 120))(
                 *(_DWORD *)(v1 + 16),
                 *(_DWORD *)(v1 + 8),
                 0,
                 *(_DWORD *)(v1 + 4),
                 0);
          sub_41CB34(0);
          if ( v3 < 0 )
          {
            sub_41CB34(1);
            sub_4229B7(0, *(_DWORD *)(v1 + 8), *(_DWORD *)(v1 + 4));
            sub_41CB34(0);
          }
        }
      }
    }
  }
  v4 = *(_DWORD *)(v1 + 8);
  if ( v4 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 8))(*(_DWORD *)(v1 + 8));
    *(_DWORD *)(v1 + 8) = 0;
  }
  v5 = *(_DWORD *)(v1 + 12);
  if ( v5 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v5 + 8))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 12) = 0;
  }
  v6 = *(_DWORD *)(v1 + 16);
  if ( v6 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(*(_DWORD *)(v1 + 16));
    *(_DWORD *)(v1 + 16) = 0;
  }
  v7 = *(_DWORD *)(v1 + 4);
  if ( v7 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(v1 + 4));
    *(_DWORD *)(v1 + 4) = 0;
  }
  return 0;
}

//----- (00422B45) --------------------------------------------------------
void *__thiscall sub_422B45(void *this)
{
  void *result; // eax@1

  result = this;
  *(_DWORD *)this = 0;
  return result;
}

//----- (00422B4B) --------------------------------------------------------
int __thiscall sub_422B4B(_DWORD *this)
{
  _DWORD *v1; // esi@1

  v1 = this;
  if ( *this )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*this + 40))(*this);
    if ( *v1 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v1 + 8))(*v1);
      *v1 = 0;
    }
  }
  return 0;
}

//----- (00422B72) --------------------------------------------------------
int __thiscall sub_422B72(void *this, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@8
  int result; // eax@16
  int v9; // ebx@27
  _DWORD *v10; // esi@27
  _DWORD *v11; // ebx@27
  int *v12; // edi@28
  int v13; // edi@44
  int v14; // eax@44
  int v15; // ebx@47
  unsigned int v16; // eax@65
  unsigned int v17; // ecx@65
  bool v18; // zf@72
  unsigned int v19; // eax@80
  int v20; // esi@88
  int v21; // ecx@93
  int v22; // [sp+Ch] [bp-70h]@1
  char v23; // [sp+15h] [bp-67h]@49
  int v24; // [sp+18h] [bp-64h]@27
  unsigned int v25; // [sp+24h] [bp-58h]@3
  unsigned int v26; // [sp+28h] [bp-54h]@6
  unsigned int v27; // [sp+2Ch] [bp-50h]@65
  unsigned int v28; // [sp+30h] [bp-4Ch]@65
  unsigned int v29; // [sp+34h] [bp-48h]@65
  unsigned int v30; // [sp+38h] [bp-44h]@65
  int v31; // [sp+3Ch] [bp-40h]@2
  int v32; // [sp+40h] [bp-3Ch]@2
  unsigned int v33; // [sp+44h] [bp-38h]@2
  unsigned int v34; // [sp+48h] [bp-34h]@2
  int v35; // [sp+4Ch] [bp-30h]@88
  int v36; // [sp+50h] [bp-2Ch]@93
  int v37; // [sp+54h] [bp-28h]@19
  unsigned int v38; // [sp+58h] [bp-24h]@20
  unsigned int v39; // [sp+5Ch] [bp-20h]@20
  int v40; // [sp+60h] [bp-1Ch]@52
  int v41; // [sp+64h] [bp-18h]@15
  int v42; // [sp+68h] [bp-14h]@1
  int v43; // [sp+6Ch] [bp-10h]@30
  int v44; // [sp+70h] [bp-Ch]@20
  int v45; // [sp+74h] [bp-8h]@27
  int v46; // [sp+78h] [bp-4h]@11

  v42 = (int)this;
  sub_422A94((int)this);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 48))(a3, &v22);
  if ( a5 )
  {
    v31 = *(_DWORD *)a5;
    v32 = *(_DWORD *)(a5 + 4);
    v33 = *(_DWORD *)(a5 + 8);
    v34 = *(_DWORD *)(a5 + 12);
    if ( v31 < 0 || v33 > v25 || v31 > (signed int)v33 || v32 < 0 || v34 > v26 || v32 > (signed int)v34 )
      return -2005530516;
    v7 = 1;
    if ( v31 || v33 != v25 || v32 || (v46 = 0, v34 != v26) )
      v46 = 1;
    if ( a7 & 1 || v46 )
    {
      v41 = 0;
      goto LABEL_19;
    }
  }
  else
  {
    v33 = v25;
    v34 = v26;
    v31 = 0;
    v32 = 0;
    v46 = 0;
    v7 = ~(_BYTE)a7 & 1;
  }
  v41 = v7;
LABEL_19:
  v37 = a7 & 0x10000;
  if ( a7 & 0x10000 )
  {
    v38 = v25;
    v39 = v26;
    v44 = 0;
    if ( (v22 == 827611204 || v22 == 844388420 || v22 == 861165636 || v22 == 877942852 || v22 == 894720068)
      && ((unsigned __int8)v25 | (unsigned __int8)v26) & 3 )
    {
      do
        ++v44;
      while ( ((v25 | v26) << v44) & 3 );
    }
    v9 = v42;
    v10 = (_DWORD *)(v42 + 16);
    (*(void (__stdcall **)(int, int))(*(_DWORD *)a3 + 12))(a3, v42 + 16);
    v11 = (_DWORD *)(v9 + 12);
    v45 = (*(int (__stdcall **)(_DWORD, int, int, int, _DWORD, int, int, _DWORD *, _DWORD))(*(_DWORD *)*v10 + 92))(
            *v10,
            v38 << v44,
            v39 << v44,
            v44 + 1,
            0,
            v22,
            (v24 == 3) + 2,
            v11,
            0);
    if ( v45 < 0
      || (v12 = (int *)(v42 + 8),
          v45 = (*(int (__stdcall **)(_DWORD, int, int))(*(_DWORD *)*v11 + 72))(*v11, v44, v42 + 8),
          v45 < 0) )
    {
      v13 = v42;
      v14 = *(_DWORD *)(v42 + 8);
      if ( v14 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v14 + 8))(*(_DWORD *)(v42 + 8));
        *(_DWORD *)(v13 + 8) = 0;
      }
      goto LABEL_38;
    }
    if ( !v41 )
    {
      v43 = 0;
      sub_41CB34(1);
      v45 = sub_4229B7((int)v12, a3, *v12);
      sub_41CB34(0);
      if ( v45 < 0 )
      {
        if ( v44 )
          goto LABEL_36;
        v45 = (*(int (__stdcall **)(_DWORD, unsigned int, unsigned int, int, _DWORD, _DWORD, signed int, int *, _DWORD))(*(_DWORD *)*v10 + 112))(
                *v10,
                v38,
                v39,
                v22,
                0,
                0,
                1,
                &v43,
                0);
        if ( v45 < 0 )
          goto LABEL_36;
        v45 = (*(int (__stdcall **)(_DWORD, int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)*v10 + 136))(
                *v10,
                a3,
                0,
                v43,
                0,
                0);
        if ( v45 < 0 )
        {
          (*(void (__stdcall **)(int))(*(_DWORD *)v43 + 8))(v43);
          goto LABEL_36;
        }
        v45 = sub_4229B7((int)v12, v43, *v12);
        (*(void (__stdcall **)(int))(*(_DWORD *)v43 + 8))(v43);
        if ( v45 < 0 )
        {
LABEL_36:
          if ( *v12 )
          {
            (*(void (__stdcall **)(int))(*(_DWORD *)*v12 + 8))(*v12);
            *v12 = 0;
          }
LABEL_38:
          if ( *v11 )
          {
            (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v11 + 8))(*v11);
            *v11 = 0;
          }
          if ( *v10 )
          {
            (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v10 + 8))(*v10);
            *v10 = 0;
          }
          return v45;
        }
      }
    }
    v43 = *v12;
  }
  else
  {
    v43 = a3;
  }
  v15 = 16 * (a7 & 1 | 0x80);
  if ( v41 && !v37 && v23 & 2 )
  {
    if ( BYTE2(a7) & 2 )
    {
      v15 |= 0x2000u;
      v46 = 0;
      goto LABEL_88;
    }
    sub_41CB34(1);
    if ( (*(int (__stdcall **)(int, void *, int *))(*(_DWORD *)a3 + 44))(a3, &unk_48EA64, &v40) >= 0 )
    {
      if ( (*(int (__stdcall **)(int))(*(_DWORD *)v40 + 52))(v40) == 1 )
      {
        v15 |= 0x2000u;
        v46 = 0;
      }
      if ( v40 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v40 + 8))(v40);
        v40 = 0;
      }
    }
    sub_41CB34(0);
  }
  if ( v46 )
  {
    if ( v22 > 877942852 )
    {
      if ( v22 != 894720068 )
      {
        if ( v22 != 1111970375 && v22 != 1195525970 && v22 != 1498831189 )
          goto LABEL_79;
        goto LABEL_80;
      }
    }
    else if ( v22 != 877942852 && v22 != 827611204 && v22 != 844388420 )
    {
      if ( v22 != 844715353 )
      {
        if ( v22 == 861165636 )
          goto LABEL_65;
LABEL_79:
        v27 = v31;
        v28 = v32;
        v29 = v33;
        v30 = v34;
        goto LABEL_87;
      }
LABEL_80:
      v19 = (v33 + 1) & 0xFFFFFFFE;
      v27 = v31 & 0xFFFFFFFE;
      v29 = (v33 + 1) & 0xFFFFFFFE;
      v28 = v32;
      v30 = v34;
      if ( v19 > v25 )
      {
        v19 = v25;
        v29 = v25;
      }
      if ( !(v31 & 0xFFFFFFFE) && v19 == v25 && !v32 )
      {
        v18 = v34 == v26;
LABEL_73:
        if ( v18 )
        {
          v46 = 0;
          goto LABEL_87;
        }
      }
LABEL_86:
      v46 = 1;
      goto LABEL_87;
    }
LABEL_65:
    v16 = (v33 + 3) & 0xFFFFFFFC;
    v17 = (v34 + 3) & 0xFFFFFFFC;
    v27 = v31 & 0xFFFFFFFC;
    v29 = (v33 + 3) & 0xFFFFFFFC;
    v28 = v32 & 0xFFFFFFFC;
    v30 = (v34 + 3) & 0xFFFFFFFC;
    if ( v16 > v25 )
    {
      v16 = v25;
      v29 = v25;
    }
    if ( v17 > v26 )
    {
      v17 = v26;
      v30 = v26;
    }
    if ( !(v31 & 0xFFFFFFFC) && v16 == v25 && !(v32 & 0xFFFFFFFC) )
    {
      v18 = v17 == v26;
      goto LABEL_73;
    }
    goto LABEL_86;
  }
LABEL_87:
  if ( v37 )
  {
    result = (*(int (__stdcall **)(int, int *, unsigned int, int))(*(_DWORD *)v43 + 52))(
               v43,
               &v35,
               v46 != 0 ? (unsigned int)&v27 : 0,
               v15);
    if ( result < 0 )
      return result;
    goto LABEL_91;
  }
LABEL_88:
  sub_41CB34(1);
  v20 = (*(int (__stdcall **)(int, int *, unsigned int, int))(*(_DWORD *)v43 + 52))(
          v43,
          &v35,
          v46 != 0 ? (unsigned int)&v27 : 0,
          v15);
  sub_41CB34(0);
  if ( v20 < 0 )
    return sub_422B72(a2, a3, a4, a5, a6, a7 | 0x10000);
LABEL_91:
  if ( v46 )
  {
    v31 -= v27;
    v33 -= v27;
    v32 -= v28;
    v34 -= v28;
  }
  *(_DWORD *)a2 = v36;
  *(_DWORD *)(a2 + 4) = v22;
  *(_DWORD *)(a2 + 8) = v35;
  *(_DWORD *)(a2 + 24) = v25;
  *(_DWORD *)(a2 + 28) = v26;
  *(_DWORD *)(a2 + 40) = v31;
  *(_DWORD *)(a2 + 36) = 1;
  *(_DWORD *)(a2 + 44) = v32;
  *(_DWORD *)(a2 + 60) = 1;
  *(_DWORD *)(a2 + 64) = 1;
  *(_DWORD *)(a2 + 72) = a6;
  *(_DWORD *)(a2 + 48) = v33;
  *(_DWORD *)(a2 + 12) = 0;
  *(_DWORD *)(a2 + 16) = 0;
  *(_DWORD *)(a2 + 20) = 0;
  *(_DWORD *)(a2 + 32) = 0;
  *(_DWORD *)(a2 + 56) = 0;
  *(_DWORD *)(a2 + 68) = 0;
  *(_DWORD *)(a2 + 76) = a4;
  v21 = v42;
  *(_DWORD *)(a2 + 52) = v34;
  *(_DWORD *)(v21 + 4) = a3;
  *(_DWORD *)v21 = a7;
  (*(void (__stdcall **)(int))(*(_DWORD *)a3 + 4))(a3);
  return 0;
}

//----- (00423061) --------------------------------------------------------
int __thiscall sub_423061(_DWORD *this, int a2, int a3, int a4, const void *a5, int a6, int a7)
{
  bool v7; // zf@1
  unsigned int v8; // ebx@8
  int v9; // eax@19
  int result; // eax@24
  int v11; // esi@25
  unsigned int v12; // eax@42
  unsigned int v13; // ecx@42
  unsigned int v14; // eax@62
  unsigned int v15; // edx@74
  int v16; // ecx@74
  unsigned int v17; // edx@74
  _DWORD *v18; // ecx@74
  int v19; // [sp+Ch] [bp-64h]@3
  int v20; // [sp+14h] [bp-5Ch]@23
  int v21; // [sp+18h] [bp-58h]@22
  unsigned int v22; // [sp+1Ch] [bp-54h]@4
  unsigned int v23; // [sp+20h] [bp-50h]@6
  unsigned int v24; // [sp+24h] [bp-4Ch]@8
  unsigned int v25; // [sp+28h] [bp-48h]@42
  unsigned int v26; // [sp+2Ch] [bp-44h]@42
  unsigned int v27; // [sp+30h] [bp-40h]@42
  unsigned int v28; // [sp+34h] [bp-3Ch]@42
  unsigned int v29; // [sp+38h] [bp-38h]@42
  unsigned int v30; // [sp+3Ch] [bp-34h]@42
  unsigned int v31; // [sp+40h] [bp-30h]@4
  unsigned int v32; // [sp+44h] [bp-2Ch]@7
  unsigned int v33; // [sp+48h] [bp-28h]@4
  unsigned int v34; // [sp+4Ch] [bp-24h]@6
  unsigned int v35; // [sp+50h] [bp-20h]@9
  unsigned int v36; // [sp+54h] [bp-1Ch]@8
  int v37; // [sp+58h] [bp-18h]@55
  int v38; // [sp+5Ch] [bp-14h]@74
  int v39; // [sp+60h] [bp-10h]@74
  _DWORD *v40; // [sp+64h] [bp-Ch]@1
  int v41; // [sp+68h] [bp-8h]@25
  int v42; // [sp+6Ch] [bp-4h]@29
  signed int v43; // [sp+84h] [bp+14h]@15

  v7 = *this == 0;
  v40 = this;
  if ( !v7 )
    sub_422B4B(this);
  (*(void (__stdcall **)(int, int *))(*(_DWORD *)a3 + 32))(a3, &v19);
  if ( a5 )
  {
    qmemcpy(&v31, a5, 0x18u);
    if ( v33 > v22 )
      return -2005530516;
    if ( v31 > v33 )
      return -2005530516;
    if ( v34 > v23 )
      return -2005530516;
    if ( v32 > v34 )
      return -2005530516;
    v8 = v36;
    if ( v36 > v24 || v35 > v36 )
      return -2005530516;
    if ( v31 || v33 != v22 || v32 || v34 != v23 || v35 || (v43 = 0, v36 != v24) )
      v43 = 1;
    v9 = !(a7 & 1) && !v43;
  }
  else
  {
    v8 = v24;
    v43 = 0;
    v33 = v22;
    v34 = v23;
    v9 = ~(_BYTE)a7 & 1;
    v31 = 0;
    v32 = 0;
    v35 = 0;
    v36 = v24;
  }
  if ( !v21 && !(v20 & 0x200) )
    return -2005530516;
  v11 = 16 * (a7 & 1 | 0x80);
  v41 = 16 * (a7 & 1 | 0x80);
  if ( v9 && v20 & 0x200 )
  {
    if ( BYTE2(a7) & 2 )
    {
      v11 |= 0x2000u;
      goto LABEL_55;
    }
    sub_41CB34(1);
    if ( (*(int (__stdcall **)(int, void *, int *))(*(_DWORD *)a3 + 28))(a3, &unk_48EA54, &v42) >= 0 )
    {
      if ( (*(int (__stdcall **)(int))(*(_DWORD *)v42 + 52))(v42) == 1 )
      {
        v11 |= 0x2000u;
        v41 = v11;
        v43 = 0;
      }
      if ( v42 )
      {
        (*(void (__stdcall **)(int))(*(_DWORD *)v42 + 8))(v42);
        v42 = 0;
      }
    }
    sub_41CB34(0);
  }
  if ( v43 )
  {
    if ( v19 > 877942852 )
    {
      if ( v19 == 894720068 )
        goto LABEL_42;
      if ( v19 != 1111970375 && v19 != 1195525970 && v19 != 1498831189 )
      {
LABEL_61:
        qmemcpy(&v25, &v31, 0x18u);
LABEL_53:
        if ( !v43 )
        {
LABEL_54:
          v11 = v41;
          goto LABEL_55;
        }
        v11 = v41;
LABEL_72:
        result = (*(int (__stdcall **)(int, int *, int *, int))(*(_DWORD *)a3 + 36))(a3, &v37, (int *)&v25, v11);
        if ( result < 0 )
          return result;
        v31 -= v25;
        v33 -= v25;
        v32 -= v26;
        v34 -= v26;
        v35 -= v29;
        v36 = v8 - v29;
        goto LABEL_74;
      }
    }
    else
    {
      if ( v19 == 877942852 || v19 == 827611204 || v19 == 844388420 )
        goto LABEL_42;
      if ( v19 != 844715353 )
      {
        if ( v19 == 861165636 )
        {
LABEL_42:
          v12 = (v33 + 3) & 0xFFFFFFFC;
          v13 = (v34 + 3) & 0xFFFFFFFC;
          v25 = v31 & 0xFFFFFFFC;
          v27 = (v33 + 3) & 0xFFFFFFFC;
          v26 = v32 & 0xFFFFFFFC;
          v28 = (v34 + 3) & 0xFFFFFFFC;
          v29 = v35;
          v30 = v8;
          if ( v12 > v22 )
          {
            v12 = v22;
            v27 = v22;
          }
          if ( v13 > v23 )
          {
            v13 = v23;
            v28 = v23;
          }
          if ( !(v31 & 0xFFFFFFFC) && v12 == v22 && !(v32 & 0xFFFFFFFC) && v13 == v23 && !v35 && v8 == v24 )
            goto LABEL_54;
          v43 = 1;
          goto LABEL_53;
        }
        goto LABEL_61;
      }
    }
    v14 = (v33 + 1) & 0xFFFFFFFE;
    v28 = v34;
    v25 = v31 & 0xFFFFFFFE;
    v27 = (v33 + 1) & 0xFFFFFFFE;
    v26 = v32;
    v29 = v35;
    v30 = v8;
    if ( v14 > v22 )
    {
      v14 = v22;
      v27 = v22;
    }
    if ( v31 & 0xFFFFFFFE || v14 != v22 || v32 || v34 != v23 || v35 || v8 != v24 )
      goto LABEL_72;
  }
LABEL_55:
  result = (*(int (__stdcall **)(int, int *, _DWORD, int))(*(_DWORD *)a3 + 36))(a3, &v37, 0, v11);
  if ( result >= 0 )
  {
LABEL_74:
    v15 = v22;
    *(_DWORD *)a2 = v39;
    v16 = v19;
    *(_DWORD *)(a2 + 68) = 0;
    *(_DWORD *)(a2 + 4) = v16;
    *(_DWORD *)(a2 + 8) = v37;
    *(_DWORD *)(a2 + 12) = v38;
    *(_DWORD *)(a2 + 16) = 0;
    *(_DWORD *)(a2 + 20) = 0;
    *(_DWORD *)(a2 + 32) = 0;
    *(_DWORD *)(a2 + 36) = v24;
    qmemcpy((void *)(a2 + 40), &v31, 0x18u);
    *(_DWORD *)(a2 + 72) = a6;
    *(_DWORD *)(a2 + 24) = v15;
    v17 = v23;
    *(_DWORD *)(a2 + 76) = a4;
    v18 = v40;
    *(_DWORD *)(a2 + 28) = v17;
    *(_DWORD *)(a2 + 64) = 1;
    *v18 = a3;
    (*(void (__stdcall **)(int))(*(_DWORD *)a3 + 4))(a3);
    result = 0;
  }
  return result;
}

//----- (004233D0) --------------------------------------------------------
void __thiscall sub_4233D0(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4180);
  *(_DWORD *)this = &off_48C610;
  j__free(v1);
}
// 48C610: using guessed type int (__thiscall *off_48C610)(void *, char);

//----- (004233E6) --------------------------------------------------------
int __thiscall sub_4233E6(int this, int a2)
{
  unsigned int v2; // edi@7
  int v3; // edx@8
  int v4; // ebx@8
  double v5; // st5@10
  int v6; // esi@14
  double v7; // st5@15
  double v8; // st5@20
  double v9; // st5@25
  unsigned int v10; // esi@31
  int v11; // edx@32
  int v12; // eax@32
  double v13; // st7@33
  unsigned int v14; // esi@35
  int v15; // edx@36
  float *v16; // eax@36
  double v17; // st5@37
  unsigned int v18; // edi@42
  int v19; // edx@43
  int v20; // ebx@43
  double v21; // st5@45
  int v22; // esi@49
  double v23; // st5@50
  double v24; // st5@55
  double v25; // st5@60
  unsigned int v26; // esi@66
  int v27; // edx@67
  int v28; // eax@67
  double v29; // st7@68
  unsigned int v30; // esi@70
  int v31; // edx@71
  float *v32; // eax@71
  double v33; // st5@72
  unsigned int v34; // edi@77
  int v35; // edx@78
  int v36; // ebx@78
  double v37; // st6@80
  int v38; // esi@84
  double v39; // st6@85
  double v40; // st6@90
  double v41; // st6@95
  unsigned int v42; // esi@101
  int v43; // edx@102
  float *v44; // eax@102
  double v45; // st5@103
  unsigned int v46; // esi@105
  int v47; // edx@106
  float *v48; // eax@106
  double v49; // st5@107

  switch ( *(_DWORD *)(this + 8) )
  {
    case 1:
      switch ( *(_DWORD *)(this + 4176) )
      {
        case 2:
          v46 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v47 = 0;
            v48 = (float *)(a2 + 8);
            do
            {
              ++v46;
              *(float *)(v47 + *(_DWORD *)(this + 4180)) = (*(v48 - 2) + 1.0) * 0.5;
              v47 += 16;
              *(float *)(v47 + *(_DWORD *)(this + 4180) - 12) = (*(v48 - 1) + 1.0) * 0.5;
              v49 = *v48;
              v48 += 4;
              *(float *)(v47 + *(_DWORD *)(this + 4180) - 8) = (v49 + 1.0) * 0.5;
              *(float *)(v47 + *(_DWORD *)(this + 4180) - 4) = *(v48 - 3);
            }
            while ( v46 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 3:
          v42 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v43 = 0;
            v44 = (float *)(a2 + 8);
            do
            {
              ++v42;
              *(float *)(v43 + *(_DWORD *)(this + 4180)) = (*(v44 - 2) + 1.0) * 0.5;
              v43 += 16;
              *(float *)(*(_DWORD *)(this + 4180) + v43 - 12) = (*(v44 - 1) + 1.0) * 0.5;
              v45 = *v44;
              v44 += 4;
              *(float *)(*(_DWORD *)(this + 4180) + v43 - 8) = (v45 + 1.0) * 0.5;
              *(float *)(*(_DWORD *)(this + 4180) + v43 - 4) = (*(v44 - 3) + 1.0) * 0.5;
            }
            while ( v42 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 4:
          v34 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v35 = a2 + 8;
            v36 = -8 - a2;
            do
            {
              if ( *(float *)(v35 - 8) >= 0.0 )
              {
                if ( *(float *)(v35 - 8) >= 1.0 )
                  v37 = 1.0;
                else
                  v37 = *(float *)(v35 - 8);
              }
              else
              {
                v37 = 0.0;
              }
              v38 = v36 + v35;
              *(float *)(v36 + v35 + *(_DWORD *)(this + 4180)) = v37;
              if ( *(float *)(v35 - 4) >= 0.0 )
              {
                if ( *(float *)(v35 - 4) >= 1.0 )
                  v39 = 1.0;
                else
                  v39 = *(float *)(v35 - 4);
              }
              else
              {
                v39 = 0.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v38 + 4) = v39;
              if ( *(float *)v35 >= 0.0 )
              {
                if ( *(float *)v35 >= 1.0 )
                  v40 = 1.0;
                else
                  v40 = *(float *)v35;
              }
              else
              {
                v40 = 0.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v38 + 8) = v40;
              if ( *(float *)(v35 + 4) >= 0.0 )
              {
                if ( *(float *)(v35 + 4) >= 1.0 )
                  v41 = 1.0;
                else
                  v41 = *(float *)(v35 + 4);
              }
              else
              {
                v41 = 0.0;
              }
              ++v34;
              *(float *)(*(_DWORD *)(this + 4180) + v38 + 12) = v41;
              v35 += 16;
            }
            while ( v34 < *(_DWORD *)(this + 4192) );
          }
          break;
      }
      break;
    case 2:
      switch ( *(_DWORD *)(this + 4176) )
      {
        case 1:
          v30 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v31 = 0;
            v32 = (float *)(a2 + 8);
            do
            {
              ++v30;
              *(float *)(v31 + *(_DWORD *)(this + 4180)) = *(v32 - 2) * 2.0 - 1.0;
              v31 += 16;
              *(float *)(v31 + *(_DWORD *)(this + 4180) - 12) = *(v32 - 1) * 2.0 - 1.0;
              v33 = *v32;
              v32 += 4;
              *(float *)(v31 + *(_DWORD *)(this + 4180) - 8) = v33 * 2.0 - 1.0;
              *(float *)(v31 + *(_DWORD *)(this + 4180) - 4) = *(v32 - 3);
            }
            while ( v30 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 3:
          v26 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v27 = 0;
            v28 = a2 + 8;
            do
            {
              *(float *)(v27 + *(_DWORD *)(this + 4180)) = *(float *)(v28 - 8);
              ++v26;
              *(float *)(v27 + *(_DWORD *)(this + 4180) + 4) = *(float *)(v28 - 4);
              v27 += 16;
              *(float *)(v27 + *(_DWORD *)(this + 4180) - 8) = *(float *)v28;
              v29 = *(float *)(v28 + 4);
              v28 += 16;
              *(float *)(v27 + *(_DWORD *)(this + 4180) - 4) = (v29 + 1.0) * 0.5;
            }
            while ( v26 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 4:
          v18 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v19 = a2 + 8;
            v20 = -8 - a2;
            do
            {
              if ( *(float *)(v19 - 8) >= -1.0 )
              {
                if ( *(float *)(v19 - 8) >= 1.0 )
                  v21 = 1.0;
                else
                  v21 = *(float *)(v19 - 8);
              }
              else
              {
                v21 = -1.0;
              }
              v22 = v19 + v20;
              *(float *)(v19 + v20 + *(_DWORD *)(this + 4180)) = v21;
              if ( *(float *)(v19 - 4) >= -1.0 )
              {
                if ( *(float *)(v19 - 4) >= 1.0 )
                  v23 = 1.0;
                else
                  v23 = *(float *)(v19 - 4);
              }
              else
              {
                v23 = -1.0;
              }
              *(float *)(v22 + *(_DWORD *)(this + 4180) + 4) = v23;
              if ( *(float *)v19 >= -1.0 )
              {
                if ( *(float *)v19 >= 1.0 )
                  v24 = 1.0;
                else
                  v24 = *(float *)v19;
              }
              else
              {
                v24 = -1.0;
              }
              *(float *)(v22 + *(_DWORD *)(this + 4180) + 8) = v24;
              if ( *(float *)(v19 + 4) >= 0.0 )
              {
                if ( *(float *)(v19 + 4) >= 1.0 )
                  v25 = 1.0;
                else
                  v25 = *(float *)(v19 + 4);
              }
              else
              {
                v25 = 0.0;
              }
              ++v18;
              *(float *)(v22 + *(_DWORD *)(this + 4180) + 12) = v25;
              v19 += 16;
            }
            while ( v18 < *(_DWORD *)(this + 4192) );
          }
          break;
      }
      break;
    case 3:
      switch ( *(_DWORD *)(this + 4176) )
      {
        case 1:
          v14 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v15 = 0;
            v16 = (float *)(a2 + 8);
            do
            {
              ++v14;
              *(float *)(v15 + *(_DWORD *)(this + 4180)) = *(v16 - 2) * 2.0 - 1.0;
              v15 += 16;
              *(float *)(v15 + *(_DWORD *)(this + 4180) - 12) = *(v16 - 1) * 2.0 - 1.0;
              v17 = *v16;
              v16 += 4;
              *(float *)(v15 + *(_DWORD *)(this + 4180) - 8) = v17 * 2.0 - 1.0;
              *(float *)(v15 + *(_DWORD *)(this + 4180) - 4) = *(v16 - 3) * 2.0 - 1.0;
            }
            while ( v14 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 2:
          v10 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v11 = 0;
            v12 = a2 + 8;
            do
            {
              *(float *)(v11 + *(_DWORD *)(this + 4180)) = *(float *)(v12 - 8);
              ++v10;
              *(float *)(*(_DWORD *)(this + 4180) + v11 + 4) = *(float *)(v12 - 4);
              v11 += 16;
              *(float *)(*(_DWORD *)(this + 4180) + v11 - 8) = *(float *)v12;
              v13 = *(float *)(v12 + 4);
              v12 += 16;
              *(float *)(*(_DWORD *)(this + 4180) + v11 - 4) = v13 + v13 - 1.0;
            }
            while ( v10 < *(_DWORD *)(this + 4192) );
          }
          break;
        case 4:
          v2 = 0;
          if ( *(_DWORD *)(this + 4192) )
          {
            v3 = a2 + 8;
            v4 = -8 - a2;
            do
            {
              if ( *(float *)(v3 - 8) >= -1.0 )
              {
                if ( *(float *)(v3 - 8) >= 1.0 )
                  v5 = 1.0;
                else
                  v5 = *(float *)(v3 - 8);
              }
              else
              {
                v5 = -1.0;
              }
              v6 = v4 + v3;
              *(float *)(v4 + v3 + *(_DWORD *)(this + 4180)) = v5;
              if ( *(float *)(v3 - 4) >= -1.0 )
              {
                if ( *(float *)(v3 - 4) >= 1.0 )
                  v7 = 1.0;
                else
                  v7 = *(float *)(v3 - 4);
              }
              else
              {
                v7 = -1.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v6 + 4) = v7;
              if ( *(float *)v3 >= -1.0 )
              {
                if ( *(float *)v3 >= 1.0 )
                  v8 = 1.0;
                else
                  v8 = *(float *)v3;
              }
              else
              {
                v8 = -1.0;
              }
              *(float *)(*(_DWORD *)(this + 4180) + v6 + 8) = v8;
              if ( *(float *)(v3 + 4) >= -1.0 )
              {
                if ( *(float *)(v3 + 4) >= 1.0 )
                  v9 = 1.0;
                else
                  v9 = *(float *)(v3 + 4);
              }
              else
              {
                v9 = -1.0;
              }
              ++v2;
              *(float *)(*(_DWORD *)(this + 4180) + v6 + 12) = v9;
              v3 += 16;
            }
            while ( v2 < *(_DWORD *)(this + 4192) );
          }
          break;
      }
      break;
  }
  return *(_DWORD *)(this + 4180);
}

//----- (004239AA) --------------------------------------------------------
void __thiscall sub_4239AA(int this)
{
  int v1; // esi@1
  bool v2; // zf@1
  unsigned int v3; // edi@3
  int v4; // ebp@3
  unsigned int i; // ebx@4

  v1 = this;
  v2 = *(_DWORD *)(this + 4328) == 0;
  *(_DWORD *)this = &off_48C620;
  if ( !v2 )
  {
    if ( *(_DWORD *)(this + 4332) )
    {
      v3 = *(_DWORD *)(this + 4296);
      v4 = *(_DWORD *)(this + 4332);
      if ( v3 < *(_DWORD *)(this + 4300) )
      {
        do
        {
          for ( i = *(_DWORD *)(v1 + 4284); i < *(_DWORD *)(v1 + 4292); i += 4 )
          {
            j__free(*(void **)(v4 + 4));
            v4 += 8;
          }
          ++v3;
        }
        while ( v3 < *(_DWORD *)(v1 + 4300) );
      }
    }
  }
  j__free(*(void **)(v1 + 4324));
  j__free(*(void **)(v1 + 4332));
  sub_4233D0(v1);
}
// 48C620: using guessed type int (__thiscall *off_48C620)(void *, char);

//----- (00423A24) --------------------------------------------------------
int __thiscall sub_423A24(int this)
{
  int v1; // eax@1
  double v2; // st7@3
  float v3; // ST04_4@5
  float v4; // ST00_4@5
  float v5; // ST00_4@5
  float v6; // ST00_4@5
  int result; // eax@5

  v1 = *(_DWORD *)(this + 4);
  if ( v1 == 844388420 || v1 == 861165636 )
    v2 = 15.0;
  else
    v2 = 255.0;
  *(float *)(this + 4212) = v2;
  *(float *)(this + 4216) = 1.0 / *(float *)(this + 4212);
  v3 = *(float *)(this + 36) * 31.0 + 0.5;
  *(float *)(this + 36) = (double)(signed int)v3 * 0.032258064;
  v4 = *(float *)(this + 40) * 63.0 + 0.5;
  *(float *)(this + 40) = (double)(signed int)v4 * 0.015873017;
  v5 = *(float *)(this + 44) * 31.0 + 0.5;
  *(float *)(this + 44) = (double)(signed int)v5 * 0.032258064;
  v6 = *(float *)(this + 4212) * *(float *)(this + 48) + 0.5;
  result = this;
  *(float *)(this + 48) = (double)(signed int)v6 * *(float *)(this + 4216);
  return result;
}

//----- (00423B25) --------------------------------------------------------
double __stdcall sub_423B25(float a1)
{
  float v2; // [sp+10h] [bp+8h]@1

  v2 = sub_433B12(LODWORD(a1)) * a1 * 254.0;
  return flt_48BE10[v2] + (flt_48BE14[v2] - flt_48BE10[v2]) * (v2 - (double)(unsigned int)(signed int)v2);
}
// 48BE10: using guessed type float flt_48BE10[];
// 48BE14: using guessed type float flt_48BE14[];

//----- (00423B75) --------------------------------------------------------
double __stdcall sub_423B75(float a1)
{
  float v2; // [sp+Ch] [bp+8h]@1

  v2 = a1 * a1 * 254.0;
  return flt_48C210[v2] + (flt_48C214[v2] - flt_48C210[v2]) * (v2 - (double)(unsigned int)(signed int)v2);
}
// 48C210: using guessed type float flt_48C210[];
// 48C214: using guessed type float flt_48C214[];

//----- (00423BBC) --------------------------------------------------------
char *__thiscall sub_423BBC(char *this, int a2, unsigned int a3, int a4)
{
  char *v4; // ebx@1
  void *v5; // ecx@1
  bool v6; // zf@3
  unsigned int v7; // esi@4
  float v8; // ST1C_4@4
  float v9; // ST20_4@4
  float v10; // ST24_4@4
  float v11; // ST28_4@4
  int v12; // ecx@10
  unsigned int v13; // esi@14
  float *v14; // ecx@14
  int v15; // eax@17
  signed int v16; // ecx@17
  _DWORD *v17; // esi@19
  int v18; // ecx@19
  int v19; // eax@19
  int v20; // edi@19
  int v21; // eax@19
  int v22; // eax@20
  signed int v24; // [sp+2Ch] [bp+10h]@15

  v4 = this;
  *(_DWORD *)this = &off_48C610;
  'vector constructor iterator'(this + 56, 16, 256, sub_41AB0C);
  *((_DWORD *)v4 + 8) = *(_DWORD *)a2;
  *((_DWORD *)v4 + 1) = *(_DWORD *)(a2 + 4);
  *((_DWORD *)v4 + 1046) = *(_DWORD *)(a2 + 8);
  *((_DWORD *)v4 + 1047) = *(_DWORD *)(a2 + 12);
  qmemcpy(v4 + 4152, (const void *)(a2 + 40), 0x18u);
  v5 = &unk_4B24C8;
  if ( !*(_DWORD *)(a2 + 64) )
    v5 = &unk_4B2448;
  *((_DWORD *)v4 + 13) = v5;
  *((_DWORD *)v4 + 1052) = a3 >> 3;
  *((_DWORD *)v4 + 1044) = 0;
  *((_DWORD *)v4 + 1045) = 0;
  *((_DWORD *)v4 + 3) = a3 != 0;
  *((_DWORD *)v4 + 2) = a4;
  *((_DWORD *)v4 + 6) = *(_DWORD *)(a2 + 72);
  v6 = *((_DWORD *)v4 + 6) == 0;
  *((_DWORD *)v4 + 4) = *(_DWORD *)(a2 + 68);
  *((_DWORD *)v4 + 5) = 0;
  if ( !v6 )
  {
    v7 = *(_DWORD *)(a2 + 72);
    v8 = (double)(unsigned __int8)(*(_DWORD *)(a2 + 72) >> 16) * 0.0039215689;
    v9 = (double)BYTE1(v7) * 0.0039215689;
    v10 = (double)(unsigned __int8)v7 * 0.0039215689;
    v11 = (double)(v7 >> 24) * 0.0039215689;
    *((float *)v4 + 9) = v8;
    *((float *)v4 + 10) = v9;
    *((float *)v4 + 11) = v10;
    *((float *)v4 + 12) = v11;
  }
  if ( a4 == 2 )
  {
    if ( *((_DWORD *)v4 + 1) == 61 )
      goto LABEL_10;
    *((_DWORD *)v4 + 4) = 0;
  }
  if ( a4 == 3 )
    *((_DWORD *)v4 + 4) = 0;
LABEL_10:
  v12 = *((_DWORD *)v4 + 1);
  if ( v12 == 41 || v12 == 40 )
  {
    *((_DWORD *)v4 + 7) = 1;
    if ( *(_DWORD *)(a2 + 76) )
    {
      v13 = 0;
      v14 = (float *)(v4 + 60);
      do
      {
        v24 = *(_BYTE *)(v13 + *(_DWORD *)(a2 + 76));
        v13 += 4;
        *(v14 - 1) = (double)v24 * 0.0039215689;
        *v14 = (double)*(_BYTE *)(v13 + *(_DWORD *)(a2 + 76) - 3) * 0.0039215689;
        v14 += 4;
        *(v14 - 3) = (double)*(_BYTE *)(v13 + *(_DWORD *)(a2 + 76) - 2) * 0.0039215689;
        *(v14 - 2) = (double)*(_BYTE *)(v13 + *(_DWORD *)(a2 + 76) - 1) * 0.0039215689;
      }
      while ( v13 < 0x400 );
    }
    else
    {
      v15 = (int)(v4 + 64);
      v16 = 256;
      do
      {
        *(float *)(v15 + 4) = 1.0;
        *(float *)v15 = 1.0;
        v15 += 16;
        --v16;
        *(float *)(v15 - 20) = 1.0;
        *(float *)(v15 - 24) = 1.0;
      }
      while ( v16 );
    }
  }
  else
  {
    *((_DWORD *)v4 + 7) = 0;
  }
  v17 = v4 + 4152;
  v18 = *((_DWORD *)v4 + 1040) - *((_DWORD *)v4 + 1038);
  v19 = *((_DWORD *)v4 + 1042);
  *((_DWORD *)v4 + 1049) = *((_DWORD *)v4 + 1041) - *((_DWORD *)v4 + 1039);
  v20 = *((_DWORD *)v4 + 1043) - v19;
  v21 = *((_DWORD *)v4 + 1052);
  *((_DWORD *)v4 + 1050) = v20;
  v6 = *((_DWORD *)v4 + 3) == 0;
  *((_DWORD *)v4 + 1048) = v18;
  *((_DWORD *)v4 + 1051) = v18 * v21;
  if ( !v6 )
  {
    *((_DWORD *)v4 + 8) += *((_DWORD *)v4 + 1042) * *((_DWORD *)v4 + 1047)
                         + *((_DWORD *)v4 + 1039) * *((_DWORD *)v4 + 1046)
                         + *v17 * v21;
    *((_DWORD *)v4 + 1040) = *((_DWORD *)v4 + 1048);
    *((_DWORD *)v4 + 1041) = *((_DWORD *)v4 + 1049);
    v22 = *((_DWORD *)v4 + 1050);
    *v17 = 0;
    *((_DWORD *)v4 + 1039) = 0;
    *((_DWORD *)v4 + 1042) = 0;
    *((_DWORD *)v4 + 1043) = v22;
  }
  return v4;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 48C610: using guessed type int (__thiscall *off_48C610)(void *, char);

//----- (00423E2D) --------------------------------------------------------
signed int __thiscall sub_423E2D(int this, int a2)
{
  int v2; // eax@1
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // edi@6
  void *v6; // eax@6
  void *v7; // ebx@6
  void *v8; // eax@7

  v2 = *(_DWORD *)(a2 + 8);
  v3 = this;
  v4 = *(_DWORD *)(this + 8);
  if ( v4 != v2 && v4 != 4 )
    *(_DWORD *)(v3 + 4176) = v2;
  if ( *(_DWORD *)(v3 + 4176) || *(_DWORD *)(v3 + 16) )
  {
    v5 = *(_DWORD *)(v3 + 4192);
    v6 = operator new(16 * *(_DWORD *)(v3 + 4192));
    v7 = v6;
    if ( v6 )
    {
      'vector constructor iterator'(v6, 16, v5, sub_41AB0C);
      v8 = v7;
    }
    else
    {
      v8 = 0;
    }
    *(_DWORD *)(v3 + 4180) = v8;
    if ( !v8 )
      return -2147024882;
    if ( *(_DWORD *)(v3 + 16) )
    {
      if ( *(_DWORD *)(a2 + 16) )
      {
        *(_DWORD *)(a2 + 20) = 1;
        *(_DWORD *)(v3 + 20) = 1;
      }
    }
  }
  return 0;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00423EB6) --------------------------------------------------------
int __thiscall sub_423EB6(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // ecx@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // ecx@3
  int result; // eax@4
  char v8; // [sp+Ch] [bp-24h]@1
  int v9; // [sp+14h] [bp-1Ch]@1
  int v10; // [sp+18h] [bp-18h]@1
  int v11; // [sp+1Ch] [bp-14h]@1
  int v12; // [sp+20h] [bp-10h]@1
  int v13; // [sp+24h] [bp-Ch]@1
  int v14; // [sp+28h] [bp-8h]@3
  int v15; // [sp+2Ch] [bp-4h]@3

  v1 = this;
  v2 = *(_DWORD *)(this + 4192);
  v3 = *(_DWORD *)(this + 4208);
  v13 = v2;
  v12 = *(_DWORD *)(v1 + 4204);
  v11 = *(_DWORD *)(v1 + 32);
  v10 = *(_DWORD *)(v1 + 52);
  v4 = *(_DWORD *)(v1 + 24);
  *(_DWORD *)(v1 + 4204) = v3;
  v9 = v4;
  *(_DWORD *)(v1 + 32) = &v8;
  v5 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(v1 + 4192) = 1;
  *(_DWORD *)(v1 + 52) = &unk_4B2448;
  *(_DWORD *)(v1 + 24) = 0;
  if ( v5 != 1 && v5 != 4 )
  {
    v15 = *(_DWORD *)(v1 + 4176);
    v6 = *(_DWORD *)(v1 + 4180);
    *(_DWORD *)(v1 + 4176) = 1;
    v14 = v6;
    *(_DWORD *)(v1 + 4180) = v1 + 36;
    sub_4233E6(v1, v1 + 36);
    *(_DWORD *)(v1 + 4176) = v15;
    *(_DWORD *)(v1 + 4180) = v14;
  }
  (*(void (__thiscall **)(int, _DWORD, _DWORD, int))(*(_DWORD *)v1 + 8))(v1, 0, 0, v1 + 36);
  (*(void (__thiscall **)(int, _DWORD, _DWORD, int))(*(_DWORD *)v1 + 4))(v1, 0, 0, v1 + 36);
  *(_DWORD *)(v1 + 4192) = v13;
  *(_DWORD *)(v1 + 4204) = v12;
  *(_DWORD *)(v1 + 32) = v11;
  *(_DWORD *)(v1 + 52) = v10;
  result = v9;
  *(_DWORD *)(v1 + 24) = v9;
  return result;
}

//----- (00423F89) --------------------------------------------------------
void __thiscall sub_423F89(int this, unsigned int a2)
{
  int v2; // edx@2
  unsigned int v3; // esi@2

  if ( a2 < a2 + 16 * *(_DWORD *)(this + 4192) )
  {
    v2 = a2 + 8;
    v3 = ((unsigned int)(16 * *(_DWORD *)(this + 4192) - 1) >> 4) + 1;
    do
    {
      if ( *(float *)(v2 - 8) == *(float *)(this + 36)
        && *(float *)(v2 - 4) == *(float *)(this + 40)
        && *(float *)v2 == *(float *)(this + 44)
        && *(float *)(v2 + 4) == *(float *)(this + 48) )
      {
        *(float *)(v2 + 4) = 0.0;
        *(float *)v2 = 0.0;
        *(float *)(v2 - 4) = 0.0;
        *(float *)(v2 - 8) = 0.0;
      }
      v2 += 16;
      --v3;
    }
    while ( v3 );
  }
}

//----- (00423FF9) --------------------------------------------------------
int __thiscall sub_423FF9(int this, int a2)
{
  int v2; // esi@1
  int v3; // eax@2
  unsigned int v4; // edi@4
  unsigned int v5; // edi@7
  int v6; // eax@10
  int v7; // ecx@10
  unsigned int j; // edi@12
  unsigned int i; // edi@15
  int v11; // [sp+10h] [bp-8h]@0
  int v12; // [sp+14h] [bp-4h]@1

  v2 = 0;
  v12 = this;
  if ( *(_DWORD *)(this + 20) )
  {
    v3 = *(_DWORD *)(this + 8);
    if ( v3 == 1 || v3 == 4 )
    {
      v5 = 0;
      if ( *(_DWORD *)(this + 4192) > 0u )
      {
        do
        {
          *(float *)(v2 + *(_DWORD *)(v12 + 4180)) = sub_433B12(COERCE_UNSIGNED_INT(*(float *)(v2 + a2)))
                                                   * *(float *)(v2 + a2);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = sub_433B12(COERCE_UNSIGNED_INT(*(float *)(v2 + a2 + 4)))
                                                       * *(float *)(v2 + a2 + 4);
          ++v5;
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = sub_433B12(COERCE_UNSIGNED_INT(*(float *)(v2 + a2 + 8)))
                                                       * *(float *)(v2 + a2 + 8);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = *(float *)(v2 + a2 + 12);
          this = v12;
          v2 += 16;
        }
        while ( v5 < *(_DWORD *)(v12 + 4192) );
      }
    }
    else
    {
      v4 = 0;
      if ( *(_DWORD *)(this + 4192) > 0u )
      {
        do
        {
          *(float *)(v2 + *(_DWORD *)(this + 4180)) = *(float *)(v2 + a2);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = *(float *)(v2 + a2 + 4);
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = *(float *)(v2 + a2 + 8);
          ++v4;
          *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = sub_433B12(COERCE_UNSIGNED_INT(*(float *)(v2 + a2 + 12)))
                                                        * *(float *)(v2 + a2 + 12);
          this = v12;
          v2 += 16;
        }
        while ( v4 < *(_DWORD *)(v12 + 4192) );
      }
    }
  }
  else
  {
    dword_4C3E10 = v11;
    v6 = this;
    v7 = *(_DWORD *)(this + 8);
    if ( v7 == 1 || v7 == 4 )
    {
      for ( i = 0; i < *(_DWORD *)(v12 + 4192); v2 += 16 )
      {
        *(float *)(v2 + *(_DWORD *)(v12 + 4180)) = sub_423B25(*(float *)(v2 + a2));
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = sub_423B25(*(float *)(v2 + a2 + 4));
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = sub_423B25(*(float *)(v2 + a2 + 8));
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = *(float *)(v2 + a2 + 12);
        ++i;
      }
    }
    else
    {
      for ( j = 0; j < *(_DWORD *)(v12 + 4192); v2 += 16 )
      {
        *(float *)(v2 + *(_DWORD *)(v6 + 4180)) = *(float *)(v2 + a2);
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 4) = *(float *)(v2 + a2 + 4);
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 8) = *(float *)(v2 + a2 + 8);
        *(float *)(*(_DWORD *)(v12 + 4180) + v2 + 12) = sub_423B25(*(float *)(v2 + a2 + 12));
        v6 = v12;
        ++j;
      }
    }
    this = v12;
  }
  return *(_DWORD *)(this + 4180);
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (0042427B) --------------------------------------------------------
void __thiscall sub_42427B(int this, unsigned int a2)
{
  unsigned int v2; // edx@1
  int v3; // ecx@2
  float *v4; // eax@5
  unsigned int v5; // edx@5
  float *v6; // eax@9
  unsigned int v7; // edx@9
  int v8; // eax@12
  float *v9; // esi@15
  unsigned int v10; // edi@15
  float *v11; // esi@19
  unsigned int v12; // edi@19
  int v13; // [sp+14h] [bp-8h]@0

  v2 = a2 + 16 * *(_DWORD *)(this + 4192);
  if ( *(_DWORD *)(this + 20) )
  {
    v3 = *(_DWORD *)(this + 8);
    if ( v3 == 1 || v3 == 4 )
    {
      if ( a2 < v2 )
      {
        v6 = (float *)(a2 + 8);
        v7 = ((v2 - a2 - 1) >> 4) + 1;
        do
        {
          *(v6 - 2) = *(v6 - 2) * *(v6 - 2);
          *(v6 - 1) = *(v6 - 1) * *(v6 - 1);
          *v6 = *v6 * *v6;
          v6 += 4;
          --v7;
        }
        while ( v7 );
      }
    }
    else if ( a2 < v2 )
    {
      v4 = (float *)(a2 + 12);
      v5 = ((v2 - a2 - 1) >> 4) + 1;
      do
      {
        *v4 = *v4 * *v4;
        v4 += 4;
        --v5;
      }
      while ( v5 );
    }
  }
  else
  {
    v8 = *(_DWORD *)(this + 8);
    dword_4C3E10 = v13;
    if ( v8 == 1 || v8 == 4 )
    {
      if ( a2 < v2 )
      {
        v11 = (float *)(a2 + 8);
        v12 = ((v2 - a2 - 1) >> 4) + 1;
        do
        {
          *(v11 - 2) = sub_423B75(*(v11 - 2));
          *(v11 - 1) = sub_423B75(*(v11 - 1));
          *v11 = sub_423B75(*v11);
          v11 += 4;
          --v12;
        }
        while ( v12 );
      }
    }
    else if ( a2 < v2 )
    {
      v9 = (float *)(a2 + 12);
      v10 = ((v2 - a2 - 1) >> 4) + 1;
      do
      {
        *v9 = sub_423B75(*v9);
        v9 += 4;
        --v10;
      }
      while ( v10 );
    }
  }
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004243B1) --------------------------------------------------------
int __thiscall sub_4243B1(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int v7; // edx@5
  int v8; // esi@5
  int v9; // eax@6
  float v10; // ST20_4@7
  float v11; // ST1C_4@7
  float v12; // ST1C_4@7
  float v13; // ST1C_4@7
  int v15; // [sp+20h] [bp-8h]@0
  int v16; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v16;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v16;
    a4 = v6;
  }
  v7 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v15;
  if ( *(_DWORD *)(v16 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      *(_BYTE *)v7 = (signed int)v11;
      v12 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      *(_BYTE *)(v7 + 1) = (signed int)v12;
      v13 = *(float *)(v9 + a4) * 255.0 + v10;
      *(_BYTE *)(v7 + 2) = (signed int)v13;
      v7 += 3;
      ++v4;
      v9 += 16;
    }
    while ( v4 < *(_DWORD *)(v16 + 4192) );
  }
  return v15;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004244C2) --------------------------------------------------------
int __thiscall sub_4244C2(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 255.0 + v10;
      v9 += 16;
      *v6 = v16 | ((v14 | ((v12 | ((signed int)v17 << 8)) << 8)) << 8);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (0042460B) --------------------------------------------------------
int __thiscall sub_42460B(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  signed int v12; // eax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | ((v14 | (v12 << 8)) << 8);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424730) --------------------------------------------------------
int __thiscall sub_424730(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  __int16 v12; // ax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 31.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 63.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 31.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | 32 * (v14 | (v12 << 6));
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424855) --------------------------------------------------------
int __thiscall sub_424855(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  __int16 v12; // ax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 31.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 31.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 31.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | 32 * (v14 | 32 * v12);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (0042497A) --------------------------------------------------------
int __thiscall sub_42497A(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 31.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 31.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 31.0 + v10;
      v16 = (signed int)v15;
      v17 = v10 + *(float *)(v9 + a4 + 12);
      v9 += 16;
      *v6 = v16 | 32 * (v14 | 32 * (v12 | 32 * (signed int)v17));
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424ABD) --------------------------------------------------------
int __thiscall sub_424ABD(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 15.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 15.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 15.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 15.0 + v10;
      v9 += 16;
      *v6 = v16 | 16 * (v14 | 16 * (v12 | 16 * (signed int)v17));
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424C06) --------------------------------------------------------
int __thiscall sub_424C06(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _BYTE *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // ecx@5
  int v9; // esi@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  char v12; // al@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v18;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v18;
    a4 = v5;
  }
  v6 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  v8 = 0;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 7.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 7.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 3.0 + v10;
      v9 += 16;
      *v6++ = (signed int)v15 | 4 * (v14 | 8 * v12);
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424D2B) --------------------------------------------------------
int __thiscall sub_424D2B(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _BYTE *v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST10_4@6
  int v13; // [sp+10h] [bp-8h]@0
  int v14; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v14;
  v10 = 0;
  v11 = *(_DWORD *)(v14 + 4192) == 0;
  dword_4C3E10 = v13;
  if ( !v11 )
  {
    do
    {
      v12 = *(float *)(v8 + 4 * (v10 & 3)) + *(float *)(v4 + a4 + 12) * 255.0;
      *v7 = (signed int)v12;
      result = v14;
      ++v7;
      ++v10;
      v4 += 16;
    }
    while ( v10 < *(_DWORD *)(v14 + 4192) );
  }
  return result;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424DF7) --------------------------------------------------------
int __thiscall sub_424DF7(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // eax@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 7.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 7.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 3.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 255.0 + v10;
      v9 += 16;
      *v6 = v16 | 4 * (v14 | 8 * (v12 | 8 * (signed int)v17));
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00424F40) --------------------------------------------------------
int __thiscall sub_424F40(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  __int16 v12; // ax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4) * 15.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 15.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 15.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | 16 * (v14 | 16 * v12);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425065) --------------------------------------------------------
int __thiscall sub_425065(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ST10_4@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ebx@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4) * 1023.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 1023.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4 + 8) * 1023.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 3.0 + v10;
      v9 += 16;
      *v6 = v12 | ((v14 | ((v16 | ((signed int)v17 << 10)) << 10)) << 10);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004251AE) --------------------------------------------------------
int __thiscall sub_4251AE(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ebx@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ST10_4@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4) * 255.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 255.0 + v10;
      v9 += 16;
      *v6 = v16 | ((v14 | ((v12 | ((signed int)v17 << 8)) << 8)) << 8);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004252F7) --------------------------------------------------------
int __thiscall sub_4252F7(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST24_4@7
  float v11; // ST20_4@7
  signed int v12; // eax@7
  float v13; // ST20_4@7
  signed int v14; // ST10_4@7
  float v15; // ST20_4@7
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  if ( *(_DWORD *)(v18 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 255.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 255.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4) * 255.0 + v10;
      v9 += 16;
      *v7 = (signed int)v15 | ((v14 | (v12 << 8)) << 8);
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v18 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (0042541C) --------------------------------------------------------
int __thiscall sub_42541C(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // esi@5
  int result; // eax@5
  bool v10; // zf@5
  int v11; // ecx@6
  float v12; // ST18_4@7
  float v13; // ST14_4@7
  int v14; // [sp+18h] [bp-8h]@0
  int v15; // [sp+1Ch] [bp-4h]@1

  v4 = 0;
  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v15;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v15;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v15;
  v10 = *(_DWORD *)(v15 + 4192) == 0;
  dword_4C3E10 = v14;
  if ( !v10 )
  {
    v11 = 0;
    do
    {
      v12 = *(float *)(v11 + a4) * 65535.0 + *(float *)(v8 + 4 * (v4 & 3));
      v13 = *(float *)(v11 + a4 + 4) * 65535.0 + *(float *)(v8 + 4 * (v4 & 3));
      v11 += 16;
      *v7 = (signed int)v12 | ((signed int)v13 << 16);
      result = v15;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v15 + 4192) );
  }
  return result;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425513) --------------------------------------------------------
int __thiscall sub_425513(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // esi@5
  int v9; // ecx@6
  float v10; // ST30_4@7
  float v11; // ST28_4@7
  signed int v12; // ST10_4@7
  float v13; // ST28_4@7
  signed int v14; // ST14_4@7
  float v15; // ST28_4@7
  signed int v16; // ebx@7
  float v17; // ST28_4@7
  int v19; // [sp+28h] [bp-Ch]@0
  int v20; // [sp+30h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v8 = 0;
  if ( *(_DWORD *)(v20 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v7 + 4 * (v8 & 3));
      v11 = *(float *)(v9 + a4 + 8) * 1023.0 + v10;
      v12 = (signed int)v11;
      v13 = *(float *)(v9 + a4 + 4) * 1023.0 + v10;
      v14 = (signed int)v13;
      v15 = *(float *)(v9 + a4) * 1023.0 + v10;
      v16 = (signed int)v15;
      v17 = *(float *)(v9 + a4 + 12) * 3.0 + v10;
      v9 += 16;
      *v6 = v12 | ((v14 | ((v16 | ((signed int)v17 << 10)) << 10)) << 10);
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v20 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (0042565C) --------------------------------------------------------
int __thiscall sub_42565C(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int v6; // esi@5
  int v7; // ecx@6
  float v8; // ST34_4@7
  float v9; // ST28_4@7
  signed int v10; // ST10_4@7
  float v11; // ST28_4@7
  signed int v12; // ST14_4@7
  float v13; // ST28_4@7
  signed int v14; // edi@7
  float v15; // ST28_4@7
  unsigned __int64 v16; // rt0@7
  int v18; // [sp+28h] [bp-14h]@5
  int v19; // [sp+2Ch] [bp-10h]@0
  unsigned int v20; // [sp+34h] [bp-8h]@5
  int v21; // [sp+38h] [bp-4h]@1

  v21 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v21;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v21;
    a4 = v5;
  }
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v18 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v19;
  v20 = 0;
  if ( *(_DWORD *)(v21 + 4192) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v18 + 4 * (v20 & 3));
      v9 = *(float *)(v7 + a4) * 65535.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 65535.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 65535.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 65535.0 + v8;
      v16 = v14 | (unsigned __int64)((signed __int64)(signed int)v15 << 16);
      HIDWORD(v16) = ((unsigned __int64)v12 >> 32) | (v16 >> 16);
      LODWORD(v16) = v12 | ((_DWORD)v16 << 16);
      *(_DWORD *)v6 = v10 | ((_DWORD)v16 << 16);
      *(_DWORD *)(v6 + 4) = ((unsigned __int64)v10 >> 32) | (v16 >> 16);
      v6 += 8;
      ++v20;
      v7 += 16;
    }
    while ( v20 < *(_DWORD *)(v21 + 4192) );
  }
  return v19;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004257DD) --------------------------------------------------------
int __thiscall sub_4257DD(int this, int a2, int a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // edi@5
  int v9; // eax@5
  int v10; // ecx@7
  float *v11; // esi@7
  double v12; // st6@8
  double v13; // st5@8
  double v14; // st4@8
  double v15; // st3@8
  float v16; // ST24_4@11
  __int16 v17; // cx@11
  __int16 v19; // [sp+10h] [bp-18h]@7
  float v20; // [sp+14h] [bp-14h]@7
  int v21; // [sp+18h] [bp-10h]@0
  int v22; // [sp+1Ch] [bp-Ch]@6
  unsigned int v23; // [sp+20h] [bp-8h]@7
  int v24; // [sp+24h] [bp-4h]@1

  v4 = 0;
  v24 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v24;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v24;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v21;
  v9 = v24;
  if ( *(_DWORD *)(v24 + 4192) )
  {
    v22 = 0;
    do
    {
      v19 = 0;
      v23 = 0;
      v10 = v22 + a4;
      v20 = 3.4028235e38;
      v11 = (float *)(v9 + 64);
      do
      {
        v12 = *(float *)v10 - *(v11 - 2);
        v13 = *(float *)(v10 + 4) - *(v11 - 1);
        v14 = *(float *)(v10 + 8) - *v11;
        v15 = v14 * v14 + v13 * v13 + v12 * v12;
        if ( v15 < v20 )
        {
          v20 = v15;
          v19 = v23;
        }
        ++v23;
        v11 += 4;
      }
      while ( v23 < 0x100 );
      v16 = *(float *)(v10 + 12) * 255.0 + *(float *)(v8 + 4 * (v4 & 3));
      v22 += 16;
      LOBYTE(v17) = 0;
      HIBYTE(v17) = (signed int)v16;
      *v7 = v19 | v17;
      v9 = v24;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v24 + 4192) );
  }
  return v21;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425924) --------------------------------------------------------
int __thiscall sub_425924(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  char v5; // bl@1
  int result; // eax@2
  _BYTE *v7; // ecx@6
  int v8; // edx@7
  int v9; // edi@9
  double v10; // st7@10
  double v11; // st6@10
  double v12; // st5@10
  double v13; // st4@10
  double v14; // st3@10
  unsigned int v15; // [sp+10h] [bp+8h]@6
  float v16; // [sp+14h] [bp+Ch]@9
  unsigned int v17; // [sp+18h] [bp+10h]@9

  v4 = this;
  v5 = 0;
  if ( *(_DWORD *)(this + 4176) )
    result = sub_4233E6(this, a4);
  else
    result = a4;
  if ( *(_DWORD *)(v4 + 16) )
    result = sub_423FF9(v4, result);
  v7 = (_BYTE *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184));
  v15 = 0;
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v8 = result + 8;
    while ( 1 )
    {
      v16 = 3.4028235e38;
      v17 = 0;
      v9 = v4 + 64;
      do
      {
        v10 = *(float *)(v8 - 8) - *(float *)(v9 - 8);
        v11 = *(float *)(v8 - 4) - *(float *)(v9 - 4);
        v12 = *(float *)v8 - *(float *)v9;
        v13 = *(float *)(v8 + 4) - *(float *)(v9 + 4);
        v14 = v13 * v13 + v12 * v12 + v11 * v11 + v10 * v10;
        if ( v14 < v16 )
        {
          v5 = v17;
          v16 = v14;
        }
        ++v17;
        v9 += 16;
      }
      while ( v17 < 0x100 );
      *v7++ = v5;
      result = ++v15;
      v8 += 16;
      if ( v15 >= *(_DWORD *)(v4 + 4192) )
        break;
      v5 = 0;
    }
  }
  return result;
}

//----- (004259FE) --------------------------------------------------------
int __thiscall sub_4259FE(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _BYTE *v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST10_4@6
  int v13; // [sp+10h] [bp-8h]@0
  int v14; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v14;
  v10 = 0;
  v11 = *(_DWORD *)(v14 + 4192) == 0;
  dword_4C3E10 = v13;
  if ( !v11 )
  {
    do
    {
      v12 = (*(float *)(v4 + a4 + 8) * 0.072099999
           + *(float *)(v4 + a4 + 4) * 0.71539998
           + *(float *)(v4 + a4) * 0.21250001)
          * 255.0
          + *(float *)(v8 + 4 * (v10 & 3));
      *v7 = (signed int)v12;
      result = v14;
      ++v7;
      ++v10;
      v4 += 16;
    }
    while ( v10 < *(_DWORD *)(v14 + 4192) );
  }
  return result;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425AE6) --------------------------------------------------------
int __thiscall sub_425AE6(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // ecx@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  float v11; // ST14_4@7
  __int16 v12; // bx@7
  int v14; // [sp+1Ch] [bp-8h]@0
  int v15; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v15;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v15;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v14;
  if ( *(_DWORD *)(v15 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = (*(float *)(v9 + a4 + 8) * 0.072099999
           + *(float *)(v9 + a4 + 4) * 0.71539998
           + *(float *)(v9 + a4) * 0.21250001)
          * 255.0
          + *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 12) * 255.0 + *(float *)(v8 + 4 * (v4 & 3));
      LOBYTE(v12) = 0;
      HIBYTE(v12) = (signed int)v11;
      v9 += 16;
      *v7 = (signed int)v10 | v12;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v15 + 4192) );
  }
  return v14;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425C01) --------------------------------------------------------
int __thiscall sub_425C01(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _BYTE *v7; // edx@5
  int v8; // ecx@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  float v11; // ST14_4@7
  int v13; // [sp+1Ch] [bp-8h]@0
  int v14; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v13;
  if ( *(_DWORD *)(v14 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = (*(float *)(v9 + a4 + 8) * 0.072099999
           + *(float *)(v9 + a4 + 4) * 0.71539998
           + *(float *)(v9 + a4) * 0.21250001)
          * 15.0
          + *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 12) * 15.0 + *(float *)(v8 + 4 * (v4 & 3));
      *v7++ = (signed int)v10 | 16 * (signed int)v11;
      ++v4;
      v9 += 16;
    }
    while ( v4 < *(_DWORD *)(v14 + 4192) );
  }
  return v13;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425D11) --------------------------------------------------------
int __thiscall sub_425D11(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST10_4@6
  int v13; // [sp+10h] [bp-8h]@0
  int v14; // [sp+14h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v14;
  v10 = 0;
  v11 = *(_DWORD *)(v14 + 4192) == 0;
  dword_4C3E10 = v13;
  if ( !v11 )
  {
    do
    {
      v12 = (*(float *)(v4 + a4 + 8) * 0.072099999
           + *(float *)(v4 + a4 + 4) * 0.71539998
           + *(float *)(v4 + a4) * 0.21250001)
          * 65535.0
          + *(float *)(v8 + 4 * (v10 & 3));
      *v7 = (signed int)v12;
      result = v14;
      ++v7;
      ++v10;
      v4 += 16;
    }
    while ( v10 < *(_DWORD *)(v14 + 4192) );
  }
  return result;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425DFB) --------------------------------------------------------
int __thiscall sub_425DFB(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  _WORD *v6; // edx@5
  int v7; // edi@5
  unsigned int v8; // eax@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  __int16 v11; // cx@7
  float v12; // ST14_4@7
  int v14; // [sp+1Ch] [bp-8h]@0
  int v15; // [sp+20h] [bp-4h]@1

  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v15;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v15;
    a4 = v5;
  }
  v6 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v14;
  v8 = 0;
  if ( *(_DWORD *)(v15 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v9 + a4) * 127.0 + *(float *)(v7 + 4 * (v8 & 3));
      LOBYTE(v11) = (signed int)v10;
      v12 = *(float *)(v9 + a4 + 4) * 127.0 + *(float *)(v7 + 4 * (v8 & 3));
      v9 += 16;
      HIBYTE(v11) = (signed int)v12;
      *v6 = v11;
      ++v6;
      ++v8;
    }
    while ( v8 < *(_DWORD *)(v15 + 4192) );
  }
  return v14;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00425EF6) --------------------------------------------------------
int __thiscall sub_425EF6(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // edx@5
  unsigned int i; // ebx@5
  float v9; // ST24_4@6
  float v10; // ST1C_4@6
  char v11; // cl@6
  float v12; // ST1C_4@6
  char v13; // al@6
  float v14; // ST1C_4@6
  int v16; // [sp+1Ch] [bp-10h]@5
  int v17; // [sp+24h] [bp-8h]@0
  int v18; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v18 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v18;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v18;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v16 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  for ( i = 0; i < *(_DWORD *)(v18 + 4192); v4 += 16 )
  {
    v9 = *(float *)(v16 + 4 * (i & 3));
    v10 = *(float *)(v4 + a4) * 15.0 + v9;
    v11 = (signed int)v10;
    v12 = *(float *)(v4 + a4 + 4) * 15.0 + v9;
    v13 = (signed int)v12;
    v14 = *(float *)(v4 + a4 + 12) * 63.0 + v9;
    *v7 = v11 & 0x1F | 32 * (32 * (signed int)v14 | v13 & 0x1F);
    ++v7;
    ++i;
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00426020) --------------------------------------------------------
int __thiscall sub_426020(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // ecx@5
  int v8; // esi@6
  float v9; // ST24_4@7
  float v10; // ST20_4@7
  unsigned __int8 v11; // di@7
  float v12; // ST20_4@7
  signed int v13; // ST10_4@7
  float v14; // ST20_4@7
  unsigned __int16 v15; // bx@7
  int v17; // [sp+24h] [bp-Ch]@0
  unsigned int v18; // [sp+28h] [bp-8h]@5
  int v19; // [sp+2Ch] [bp-4h]@1

  v19 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v19;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v19;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v17;
  v18 = 0;
  if ( *(_DWORD *)(v19 + 4192) )
  {
    v8 = 0;
    do
    {
      v9 = *(float *)(v7 + 4 * (v18 & 3));
      v10 = *(float *)(v8 + a4) * 127.0 + v9;
      v11 = (signed int)v10;
      v12 = *(float *)(v8 + a4 + 4) * 127.0 + v9;
      v13 = (signed int)v12;
      v14 = *(float *)(v8 + a4 + 12) * 255.0 + v9;
      HIBYTE(v15) = (signed int)v14;
      v8 += 16;
      LOBYTE(v15) = v13;
      *v6 = v11 | (v15 << 8);
      ++v6;
      ++v18;
    }
    while ( v18 < *(_DWORD *)(v19 + 4192) );
  }
  return v17;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00426152) --------------------------------------------------------
int __thiscall sub_426152(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // ecx@6
  float v8; // ST30_4@7
  float v9; // ST24_4@7
  signed int v10; // edi@7
  float v11; // ST24_4@7
  signed int v12; // ST10_4@7
  float v13; // ST24_4@7
  signed int v14; // eax@7
  float v15; // ST24_4@7
  int v17; // [sp+24h] [bp-14h]@5
  int v18; // [sp+28h] [bp-10h]@0
  unsigned int v19; // [sp+30h] [bp-8h]@5
  int v20; // [sp+34h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v17 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v18;
  v19 = 0;
  if ( *(_DWORD *)(v20 + 4192) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v17 + 4 * (v19 & 3));
      v9 = *(float *)(v7 + a4) * 127.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 127.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 127.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 127.0 + v8;
      *v6 = (unsigned __int8)v10 | (((unsigned __int8)v12 | ((((signed int)v15 << 8) | (unsigned __int8)v14) << 8)) << 8);
      ++v6;
      ++v19;
      v7 += 16;
    }
    while ( v19 < *(_DWORD *)(v20 + 4192) );
  }
  return v18;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004262B1) --------------------------------------------------------
int __thiscall sub_4262B1(int this, int a2, int a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // eax@4
  int *v7; // edx@5
  int v8; // edi@5
  int v9; // esi@6
  float v10; // ST1C_4@7
  float v11; // ST14_4@7
  int v13; // [sp+1Ch] [bp-8h]@0
  int v14; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v14 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v14;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v14;
    a4 = v6;
  }
  v7 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v13;
  if ( *(_DWORD *)(v14 + 4192) > 0u )
  {
    v9 = 0;
    do
    {
      v10 = *(float *)(v9 + a4) * 32767.0 + *(float *)(v8 + 4 * (v4 & 3));
      v11 = *(float *)(v9 + a4 + 4) * 32767.0 + *(float *)(v8 + 4 * (v4 & 3));
      *v7 = (unsigned __int16)(signed int)v10 | ((signed int)v11 << 16);
      ++v7;
      ++v4;
      v9 += 16;
    }
    while ( v4 < *(_DWORD *)(v14 + 4192) );
  }
  return v13;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004263AC) --------------------------------------------------------
int __thiscall sub_4263AC(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // ecx@6
  float v8; // ST30_4@7
  float v9; // ST24_4@7
  signed int v10; // edi@7
  float v11; // ST24_4@7
  signed int v12; // ST10_4@7
  float v13; // ST24_4@7
  signed int v14; // eax@7
  float v15; // ST24_4@7
  int v17; // [sp+24h] [bp-14h]@5
  int v18; // [sp+28h] [bp-10h]@0
  unsigned int v19; // [sp+30h] [bp-8h]@5
  int v20; // [sp+34h] [bp-4h]@1

  v20 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v20;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v20;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v17 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v18;
  v19 = 0;
  if ( *(_DWORD *)(v20 + 4192) )
  {
    v7 = 0;
    do
    {
      v8 = *(float *)(v17 + 4 * (v19 & 3));
      v9 = *(float *)(v7 + a4) * 511.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 511.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 511.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 3.0 + v8;
      *v6 = v10 & 0x3FF | ((v12 & 0x3FF | ((((signed int)v15 << 10) | v14 & 0x3FF) << 10)) << 10);
      ++v6;
      ++v19;
      v7 += 16;
    }
    while ( v19 < *(_DWORD *)(v20 + 4192) );
  }
  return v18;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (0042650B) --------------------------------------------------------
int __thiscall sub_42650B(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  unsigned __int64 *v6; // esi@5
  int v7; // eax@6
  float v8; // ST38_4@7
  float v9; // ST28_4@7
  signed int v10; // ST10_4@7
  float v11; // ST28_4@7
  signed int v12; // ST14_4@7
  float v13; // ST28_4@7
  signed int v14; // edi@7
  float v15; // ST28_4@7
  __int64 v16; // rt0@7
  int v18; // [sp+28h] [bp-18h]@5
  int v19; // [sp+2Ch] [bp-14h]@6
  int v20; // [sp+30h] [bp-10h]@0
  unsigned int v21; // [sp+38h] [bp-8h]@5
  int v22; // [sp+3Ch] [bp-4h]@1

  v22 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v22;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v22;
    a4 = v5;
  }
  v6 = (unsigned __int64 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v18 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  dword_4C3E10 = v20;
  v21 = 0;
  if ( *(_DWORD *)(v22 + 4192) )
  {
    v7 = 0;
    v19 = 0;
    do
    {
      v8 = *(float *)(v18 + 4 * (v21 & 3));
      v9 = *(float *)(v7 + a4) * 32767.0 + v8;
      v10 = (signed int)v9;
      v11 = *(float *)(v7 + a4 + 4) * 32767.0 + v8;
      v12 = (signed int)v11;
      v13 = *(float *)(v7 + a4 + 8) * 32767.0 + v8;
      v14 = (signed int)v13;
      v15 = *(float *)(v7 + a4 + 12) * 32767.0 + v8;
      HIDWORD(v16) = ((unsigned __int16)v14 | (unsigned __int64)((signed __int64)((signed int)v15 & 0xFFFF) << 16)) >> 16;
      LODWORD(v16) = (unsigned __int16)v12 | (((unsigned __int16)v14 | ((signed int)v15 << 16)) << 16);
      *v6 = (unsigned __int16)v10 | (unsigned __int64)(v16 << 16);
      ++v6;
      ++v21;
      v7 = v19 + 16;
      v19 += 16;
    }
    while ( v21 < *(_DWORD *)(v22 + 4192) );
  }
  return v20;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004266A2) --------------------------------------------------------
int __thiscall sub_4266A2(int this, int a2, int a3, int a4)
{
  unsigned int v4; // ebx@1
  int v5; // eax@2
  int v6; // eax@4
  _WORD *v7; // esi@5
  int v8; // edi@5
  double v9; // st7@7
  __int16 v10; // ax@7
  float v12; // [sp+Ch] [bp-28h]@7
  float v13; // [sp+10h] [bp-24h]@7
  int v14; // [sp+1Ch] [bp-18h]@7
  float v15; // [sp+20h] [bp-14h]@7
  int v16; // [sp+24h] [bp-10h]@7
  int v17; // [sp+28h] [bp-Ch]@5
  int v18; // [sp+2Ch] [bp-8h]@5
  int v19; // [sp+30h] [bp-4h]@1

  v4 = 0;
  v19 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v19;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v19;
    a4 = v6;
  }
  v7 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  v17 = v18 | 0xC00;
  dword_4C3E10 = v18;
  if ( *(_DWORD *)(v19 + 4192) > 0u )
  {
    v18 = 0;
    do
    {
      sub_42AAE0(&v12, a4 + v18);
      v9 = *(float *)(v8 + 4 * (v4 & 3));
      v15 = *(float *)(v8 + 4 * (v4 & 3));
      *(float *)&v17 = v12 * 127.0 + v9;
      v16 = (signed int)*(float *)&v17;
      LOBYTE(v10) = v16;
      v15 = v13 * 127.0 + v15;
      v14 = (signed int)v15;
      v18 += 16;
      HIBYTE(v10) = v14;
      *v7 = v10;
      ++v7;
      ++v4;
    }
    while ( v4 < *(_DWORD *)(v19 + 4192) );
  }
  return dword_4C3E10;
}
// 42AAE0: using guessed type int __stdcall sub_42AAE0(_DWORD, _DWORD);
// 4C3E10: using guessed type int dword_4C3E10;

//----- (004267A7) --------------------------------------------------------
_DWORD *__thiscall sub_4267A7(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  _DWORD *result; // eax@3
  unsigned int v6; // edx@3
  unsigned int *v7; // ecx@3
  _DWORD *v8; // esi@4

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_423FF9(this, a4);
  result = (_DWORD *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184));
  v6 = 0;
  v7 = (unsigned int *)(v4 + 4192);
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v8 = (_DWORD *)a4;
    do
    {
      *result = *v8;
      ++result;
      ++v6;
      v8 += 4;
    }
    while ( v6 < *v7 );
  }
  return result;
}

//----- (004267FC) --------------------------------------------------------
int __thiscall sub_4267FC(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  unsigned int v5; // ebx@1
  int result; // eax@3
  int v7; // esi@3

  v4 = this;
  v5 = 0;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_423FF9(this, a4);
  result = a3 * *(_DWORD *)(v4 + 4188);
  v7 = *(_DWORD *)(v4 + 32) + result + a2 * *(_DWORD *)(v4 + 4184);
  if ( *(_DWORD *)(v4 + 4192) > 0u )
  {
    do
    {
      result = sub_42A70A(v7, a4, 1);
      a4 += 16;
      v7 += 2;
      ++v5;
    }
    while ( v5 < *(_DWORD *)(v4 + 4192) );
  }
  return result;
}
// 42A70A: using guessed type int __stdcall sub_42A70A(_DWORD, _DWORD, _DWORD);

//----- (0042685E) --------------------------------------------------------
int __thiscall sub_42685E(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  unsigned int v5; // ebx@1
  int result; // eax@3
  int v7; // esi@3

  v4 = this;
  v5 = 0;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_423FF9(this, a4);
  result = a3 * *(_DWORD *)(v4 + 4188);
  v7 = *(_DWORD *)(v4 + 32) + result + a2 * *(_DWORD *)(v4 + 4184);
  if ( *(_DWORD *)(v4 + 4192) > 0u )
  {
    do
    {
      result = sub_42A70A(v7, a4, 2);
      a4 += 16;
      v7 += 4;
      ++v5;
    }
    while ( v5 < *(_DWORD *)(v4 + 4192) );
  }
  return result;
}
// 42A70A: using guessed type int __stdcall sub_42A70A(_DWORD, _DWORD, _DWORD);

//----- (004268C1) --------------------------------------------------------
int __thiscall sub_4268C1(int this, int a2, int a3, int a4)
{
  int v4; // esi@1

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_423FF9(this, a4);
  return sub_42A70A(
           *(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184),
           a4,
           4 * *(_DWORD *)(v4 + 4192));
}
// 42A70A: using guessed type int __stdcall sub_42A70A(_DWORD, _DWORD, _DWORD);

//----- (00426909) --------------------------------------------------------
int __thiscall sub_426909(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@3
  unsigned int v6; // edx@3
  int v7; // ecx@4

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = sub_423FF9(this, a4);
  result = *(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184);
  v6 = 0;
  if ( *(_DWORD *)(v4 + 4192) )
  {
    v7 = a4;
    do
    {
      *(_DWORD *)result = *(_DWORD *)v7;
      *(_DWORD *)(result + 4) = *(_DWORD *)(v7 + 4);
      result += 8;
      ++v6;
      v7 += 16;
    }
    while ( v6 < *(_DWORD *)(v4 + 4192) );
  }
  return result;
}

//----- (00426966) --------------------------------------------------------
unsigned int __thiscall sub_426966(int this, int a2, int a3, const void *a4)
{
  int v4; // ebx@1
  unsigned int result; // eax@3

  v4 = this;
  if ( *(_DWORD *)(this + 16) )
    a4 = (const void *)sub_423FF9(this, (int)a4);
  result = 16 * *(_DWORD *)(v4 + 4192);
  qmemcpy((void *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184)), a4, result);
  return result;
}

//----- (004269B9) --------------------------------------------------------
int __thiscall sub_4269B9(int this, int a2, int a3, int a4)
{
  int v4; // eax@2
  int v5; // eax@4
  int *v6; // edx@5
  int v7; // edi@5
  int result; // eax@5
  int v9; // ecx@5
  unsigned int v10; // esi@5
  bool v11; // zf@5
  float v12; // ST14_4@6
  float v13; // ST10_4@6
  int v14; // [sp+Ch] [bp-8h]@0
  int v15; // [sp+10h] [bp-4h]@1

  v15 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v4 = sub_4233E6(this, a4);
    this = v15;
    a4 = v4;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v5 = sub_423FF9(this, a4);
    this = v15;
    a4 = v5;
  }
  v6 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v7 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v15;
  v9 = 0;
  v10 = 0;
  v11 = *(_DWORD *)(v15 + 4192) == 0;
  dword_4C3E10 = v14;
  if ( !v11 )
  {
    do
    {
      v12 = (*(float *)(v9 + a4 + 8) * 0.072099999
           + *(float *)(v9 + a4 + 4) * 0.71539998
           + *(float *)(v9 + a4) * 0.21250001)
          * 65535.0
          + *(float *)(v7 + 4 * (v10 & 3));
      v13 = *(float *)(v9 + a4 + 12) * 65535.0 + *(float *)(v7 + 4 * (v10 & 3));
      v9 += 16;
      *v6 = (signed int)v12 | ((signed int)v13 << 16);
      result = v15;
      ++v6;
      ++v10;
    }
    while ( v10 < *(_DWORD *)(v15 + 4192) );
  }
  return result;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00426ACF) --------------------------------------------------------
int __thiscall sub_426ACF(int this, int a2, int a3, int a4)
{
  unsigned int v4; // edi@1
  int v5; // eax@2
  int v6; // eax@4
  int v7; // edx@5
  int v8; // ecx@5
  int result; // eax@5
  bool v10; // zf@5
  float v11; // ST20_4@7
  float v12; // ST1C_4@7
  float v13; // ST1C_4@7
  float v14; // ST1C_4@7
  int v15; // [sp+1Ch] [bp-8h]@0
  int v16; // [sp+20h] [bp-4h]@1

  v4 = 0;
  v16 = this;
  if ( *(_DWORD *)(this + 4176) )
  {
    v5 = sub_4233E6(this, a4);
    this = v16;
    a4 = v5;
  }
  if ( *(_DWORD *)(this + 16) )
  {
    v6 = sub_423FF9(this, a4);
    this = v16;
    a4 = v6;
  }
  v7 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v8 = *(_DWORD *)(this + 52) + 4 * ((a3 & 3) + 8 * (a2 & 3));
  result = v16;
  v10 = *(_DWORD *)(v16 + 4192) == 0;
  dword_4C3E10 = v15;
  if ( !v10 )
  {
    result = 0;
    do
    {
      v11 = *(float *)(v8 + 4 * (v4 & 3));
      v12 = *(float *)(result + a4 + 8) * 65535.0 + v11;
      *(_WORD *)v7 = (signed int)v12;
      v13 = *(float *)(result + a4 + 4) * 65535.0 + v11;
      *(_WORD *)(v7 + 2) = (signed int)v13;
      v14 = *(float *)(result + a4) * 65535.0 + v11;
      *(_WORD *)(v7 + 4) = (signed int)v14;
      v7 += 6;
      ++v4;
      result += 16;
    }
    while ( v4 < *(_DWORD *)(v16 + 4192) );
  }
  return result;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00426BE2) --------------------------------------------------------
void __thiscall sub_426BE2(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + *(_DWORD *)(this + 4204);
  for ( i = a4; v4 < v5; *(i - 1) = 1.0 )
  {
    *i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    i += 4;
    *(i - 3) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_BYTE *)v4;
    v4 += 3;
    *(i - 2) = (double)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00426C87) --------------------------------------------------------
void __thiscall sub_426C87(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + 4 * *(_DWORD *)(this + 4192);
  for ( i = a4; v4 < v5; *(float *)(i - 4) = (double)*(_BYTE *)(v4 - 1) * 0.0039215689 )
  {
    *(float *)i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    *(float *)(i + 4) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_DWORD *)v4 & 0xFF;
    v4 += 4;
    i += 16;
    *(float *)(i - 8) = (double)(unsigned int)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00426D46) --------------------------------------------------------
void __thiscall sub_426D46(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + 4 * *(_DWORD *)(this + 4192);
  for ( i = a4; v4 < v5; *(float *)(i - 4) = 1.0 )
  {
    *(float *)i = (double)*(_BYTE *)(v4 + 2) * 0.0039215689;
    *(float *)(i + 4) = (double)*(_BYTE *)(v4 + 1) * 0.0039215689;
    v7 = *(_DWORD *)v4 & 0xFF;
    v4 += 4;
    i += 16;
    *(float *)(i - 8) = (double)(unsigned int)v7 * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00426DFB) --------------------------------------------------------
void __thiscall sub_426DFB(int this, int a2, int a3, float *a4)
{
  unsigned __int16 *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(v5 - 1) = 1.0 )
  {
    *v5 = (double)(*v4 >> 11) * 0.032258064;
    v5 += 4;
    *(v5 - 3) = (double)(((unsigned int)*v4 >> 5) & 0x3F) * 0.015873017;
    v7 = *(_BYTE *)v4 & 0x1F;
    ++v4;
    *(v5 - 2) = (double)v7 * 0.032258064;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00426EB5) --------------------------------------------------------
void __thiscall sub_426EB5(int this, int a2, int a3, float *a4)
{
  _WORD *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(v5 - 1) = 1.0 )
  {
    *v5 = (double)(((unsigned int)*v4 >> 10) & 0x1F) * 0.032258064;
    v5 += 4;
    *(v5 - 3) = (double)(((unsigned int)*v4 >> 5) & 0x1F) * 0.032258064;
    v7 = *(_BYTE *)v4 & 0x1F;
    ++v4;
    *(v5 - 2) = (double)v7 * 0.032258064;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00426F6C) --------------------------------------------------------
void __thiscall sub_426F6C(int this, int a2, int a3, float *a4)
{
  unsigned __int16 *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  signed int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(v5 - 1) = (double)v7 )
  {
    *v5 = (double)(((unsigned int)*v4 >> 10) & 0x1F) * 0.032258064;
    v5 += 4;
    *(v5 - 3) = (double)(((unsigned int)*v4 >> 5) & 0x1F) * 0.032258064;
    *(v5 - 2) = (double)(*(_BYTE *)v4 & 0x1F) * 0.032258064;
    v7 = *v4 >> 15;
    ++v4;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00427031) --------------------------------------------------------
void __thiscall sub_427031(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  signed int v7; // [sp+18h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 2 * *(_DWORD *)(this + 4192); v4 < i; *(v5 - 1) = (double)v7 * 0.06666667 )
  {
    *v5 = (double)(*(_BYTE *)(v4 + 1) & 0xF) * 0.06666667;
    v5 += 4;
    *(v5 - 3) = (double)((*(_BYTE *)v4 >> 4) & 0xF) * 0.06666667;
    *(v5 - 2) = (double)(*(_BYTE *)v4 & 0xF) * 0.06666667;
    v7 = (unsigned __int16)(*(_WORD *)v4 >> 12);
    v4 += 2;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004270F5) --------------------------------------------------------
void __thiscall sub_4270F5(int this, int a2, int a3, int a4)
{
  unsigned int *v4; // eax@1
  int v5; // esi@1
  unsigned int i; // edi@1
  unsigned int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(float *)(v5 - 4) = (double)v7 * 0.33333334 )
  {
    *(float *)v5 = (double)(*v4 & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 4) = (double)((*v4 >> 10) & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 8) = (double)((*v4 >> 20) & 0x3FF) * 0.00097751711;
    v7 = *v4 >> 30;
    ++v4;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (004271E4) --------------------------------------------------------
void __thiscall sub_4271E4(int this, int a2, int a3, float *a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = (double)*((_BYTE *)v4 - 1) * 0.0039215689 )
  {
    v7 = *v4 & 0xFF;
    ++v4;
    *i = (double)(unsigned int)v7 * 0.0039215689;
    i += 4;
    *(i - 3) = (double)*((_BYTE *)v4 - 3) * 0.0039215689;
    *(i - 2) = (double)*((_BYTE *)v4 - 2) * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004272A3) --------------------------------------------------------
void __thiscall sub_4272A3(int this, int a2, int a3, float *a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = 1.0 )
  {
    v7 = *v4 & 0xFF;
    ++v4;
    *i = (double)(unsigned int)v7 * 0.0039215689;
    i += 4;
    *(i - 3) = (double)*((_BYTE *)v4 - 3) * 0.0039215689;
    *(i - 2) = (double)*((_BYTE *)v4 - 2) * 0.0039215689;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00427358) --------------------------------------------------------
void __thiscall sub_427358(int this, int a2, int a3, float *a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  int v7; // [sp+14h] [bp+10h]@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = 1.0 )
  {
    v7 = *v4 & 0xFFFF;
    ++v4;
    *i = (double)(unsigned int)v7 * 0.000015259022;
    i += 4;
    *(i - 3) = (double)*((_WORD *)v4 - 1) * 0.000015259022;
    *(i - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00427403) --------------------------------------------------------
void __thiscall sub_427403(int this, int a2, int a3, int a4)
{
  unsigned int *v4; // eax@1
  int v5; // esi@1
  unsigned int i; // edi@1
  unsigned int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[*(_DWORD *)(this + 4192)]; (unsigned int)v4 < i; *(float *)(v5 - 4) = (double)v7 * 0.33333334 )
  {
    *(float *)v5 = (double)((*v4 >> 20) & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 4) = (double)((*v4 >> 10) & 0x3FF) * 0.00097751711;
    *(float *)(v5 + 8) = (double)(*v4 & 0x3FF) * 0.00097751711;
    v7 = *v4 >> 30;
    ++v4;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (004274F2) --------------------------------------------------------
void __thiscall sub_4274F2(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  unsigned int *v5; // esi@1
  int v6; // edi@1
  double v7; // st7@2
  unsigned int v8; // [sp+14h] [bp+8h]@1
  unsigned int v9; // [sp+1Ch] [bp+10h]@3

  v4 = this;
  v5 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v6 = a4;
  v8 = (unsigned int)&v5[2 * *(_DWORD *)(this + 4192)];
  if ( v5 < &v5[2 * *(_DWORD *)(this + 4192)] )
  {
    v7 = 0.000015259022;
    do
    {
      *(float *)v6 = (double)(*v5 & 0xFFFF) * v7;
      *v5;
      *(float *)(v6 + 4) = (double)(*v5 >> 16) * v7;
      v7 = 0.000015259022;
      v9 = (*(_QWORD *)v5 >> 32) & 0xFFFF;
      v5 += 2;
      v6 += 16;
      *(float *)(v6 - 8) = (double)v9 * 0.000015259022;
      *(float *)(v6 - 4) = (double)*((_WORD *)v5 - 1) * 0.000015259022;
    }
    while ( (unsigned int)v5 < v8 );
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v6 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(v4 + 16) )
    sub_42427B(v4, v6 - 16 * *(_DWORD *)(v4 + 4192));
}

//----- (004275F9) --------------------------------------------------------
void __thiscall sub_4275F9(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  unsigned __int8 *v5; // eax@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = (unsigned __int8 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v5[*(_DWORD *)(this + 4192)]; (unsigned int)v5 < i; *(v4 - 1) = 1.0 )
  {
    *v4 = (double)(*v5 >> 5) * 0.14285715;
    v4 += 4;
    *(v4 - 3) = (double)((*v5 >> 2) & 7) * 0.14285715;
    v7 = *v5++ & 3;
    *(v4 - 2) = (double)v7 * 0.33333334;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004276B0) --------------------------------------------------------
void __thiscall sub_4276B0(int this, int a2, int a3, float *a4)
{
  _BYTE *v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(i - 1) = (double)v7 * 0.0039215689 )
  {
    *i = 0.0;
    i += 4;
    *(i - 3) = 0.0;
    *(i - 2) = 0.0;
    v7 = *v4++;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (0042773B) --------------------------------------------------------
void __thiscall sub_42773B(int this, int a2, int a3, float *a4)
{
  unsigned __int8 *v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = (unsigned __int8 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[2 * *(_DWORD *)(this + 4192)];
        (unsigned int)v4 < i;
        *(v5 - 1) = (double)*(v4 - 1) * 0.0039215689 )
  {
    *v5 = (double)((*v4 >> 5) & 7) * 0.14285715;
    v5 += 4;
    *(v5 - 3) = (double)((*v4 >> 2) & 7) * 0.14285715;
    v7 = *v4 & 3;
    v4 += 2;
    *(v5 - 2) = (double)v7 * 0.33333334;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00427802) --------------------------------------------------------
char *__thiscall sub_427802(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x18u, 1);
  *(_DWORD *)v2 = &off_48C674;
  return v2;
}
// 48C674: using guessed type int (__thiscall *off_48C674)(void *, char);

//----- (0042781E) --------------------------------------------------------
void __thiscall sub_42781E(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  float *v5; // esi@1
  unsigned int i; // edi@1
  int v7; // [sp+18h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 2 * *(_DWORD *)(this + 4192); v4 < i; *(v5 - 1) = 1.0 )
  {
    *v5 = (double)(*(_BYTE *)(v4 + 1) & 0xF) * 0.06666667;
    v5 += 4;
    *(v5 - 3) = (double)((*(_BYTE *)v4 >> 4) & 0xF) * 0.06666667;
    v7 = *(_BYTE *)v4 & 0xF;
    v4 += 2;
    *(v5 - 2) = (double)v7 * 0.06666667;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004278D2) --------------------------------------------------------
char *__thiscall sub_4278D2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C684;
  return v2;
}
// 48C684: using guessed type int (__thiscall *off_48C684)(void *, char);

//----- (004278EE) --------------------------------------------------------
void __thiscall sub_4278EE(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  int v5; // ebx@1
  int v6; // edi@2
  int v7; // esi@2
  unsigned int i; // [sp+Ch] [bp+8h]@1
  signed int v9; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 2 * *(_DWORD *)(this + 4192); v4 < i; *(float *)(v5 - 4) = (double)v9 * 0.0039215689 )
  {
    v6 = v5;
    v5 += 16;
    v7 = 16 * *(_BYTE *)v4 + this + 56;
    *(_DWORD *)v6 = *(_DWORD *)v7;
    v7 += 4;
    v6 += 4;
    *(_DWORD *)v6 = *(_DWORD *)v7;
    v7 += 4;
    v6 += 4;
    *(_DWORD *)v6 = *(_DWORD *)v7;
    *(_DWORD *)(v6 + 4) = *(_DWORD *)(v7 + 4);
    v9 = *(_BYTE *)(v4 + 1);
    v4 += 2;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (0042798B) --------------------------------------------------------
char *__thiscall sub_42798B(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C694;
  return v2;
}
// 48C694: using guessed type int (__thiscall *off_48C694)(void *, char);

//----- (004279A7) --------------------------------------------------------
char *__thiscall sub_4279A7(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C6A4;
  return v2;
}
// 48C6A4: using guessed type int (__thiscall *off_48C6A4)(void *, char);

//----- (004279C3) --------------------------------------------------------
void __thiscall sub_4279C3(int this, int a2, int a3, int a4)
{
  _BYTE *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // ebx@1
  int v7; // esi@2
  _DWORD *v8; // edi@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *v8 = *(_DWORD *)(v7 + 4) )
  {
    v7 = 16 * *v4 + this + 56;
    *(_DWORD *)i = *(_DWORD *)v7;
    v7 += 4;
    *(_DWORD *)(i + 4) = *(_DWORD *)v7;
    v7 += 4;
    *(_DWORD *)(i + 8) = *(_DWORD *)v7;
    v8 = (_DWORD *)(i + 12);
    ++v4;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00427A3F) --------------------------------------------------------
char *__thiscall sub_427A3F(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C6B4;
  return v2;
}
// 48C6B4: using guessed type int (__thiscall *off_48C6B4)(void *, char);

//----- (00427A5B) --------------------------------------------------------
void __thiscall sub_427A5B(int this, int a2, int a3, int a4)
{
  _BYTE *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 4) = 1.0 )
  {
    v8 = *v4++;
    v7 = (double)v8 * 0.0039215689;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00427AE2) --------------------------------------------------------
char *__thiscall sub_427AE2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C6C4;
  return v2;
}
// 48C6C4: using guessed type int (__thiscall *off_48C6C4)(void *, char);

//----- (00427AFE) --------------------------------------------------------
void __thiscall sub_427AFE(int this, int a2, int a3, int a4)
{
  _BYTE *v4; // eax@1
  int v5; // esi@1
  unsigned int i; // edi@1
  double v7; // st6@2
  signed int v8; // [sp+18h] [bp+10h]@2

  v4 = (_BYTE *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  for ( i = (unsigned int)&v4[2 * *(_DWORD *)(this + 4192)];
        (unsigned int)v4 < i;
        *(float *)(v5 - 4) = (double)*(v4 - 1) * 0.0039215689 )
  {
    v8 = *v4;
    v4 += 2;
    v7 = (double)v8 * 0.0039215689;
    *(float *)(v5 + 8) = v7;
    *(float *)(v5 + 4) = v7;
    *(float *)v5 = v7;
    v5 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00427B9C) --------------------------------------------------------
char *__thiscall sub_427B9C(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C6D4;
  return v2;
}
// 48C6D4: using guessed type int (__thiscall *off_48C6D4)(void *, char);

//----- (00427BB8) --------------------------------------------------------
void __thiscall sub_427BB8(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  unsigned __int8 *v5; // eax@1
  unsigned int i; // edi@1
  double v7; // st6@2
  signed int v8; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = (unsigned __int8 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v5[*(_DWORD *)(this + 4192)]; (unsigned int)v5 < i; *(float *)(v4 - 4) = (double)v8 * 0.06666667 )
  {
    v7 = (double)(*v5 & 0xF) * 0.06666667;
    *(float *)(v4 + 8) = v7;
    *(float *)(v4 + 4) = v7;
    *(float *)v4 = v7;
    v8 = *v5++ >> 4;
    v4 += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v4 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v4 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00427C56) --------------------------------------------------------
char *__thiscall sub_427C56(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_48C6E4;
  return v2;
}
// 48C6E4: using guessed type int (__thiscall *off_48C6E4)(void *, char);

//----- (00427C72) --------------------------------------------------------
void __thiscall sub_427C72(int this, int a2, int a3, int a4)
{
  _WORD *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  double v7; // st7@2
  signed int v8; // [sp+14h] [bp+10h]@2

  v4 = (_WORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 4) = 1.0 )
  {
    v8 = *v4;
    ++v4;
    v7 = (double)v8 * 0.000015259022;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00427CFB) --------------------------------------------------------
char *__thiscall sub_427CFB(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_48C6F4;
  return v2;
}
// 48C6F4: using guessed type int (__thiscall *off_48C6F4)(void *, char);

//----- (00427D17) --------------------------------------------------------
void __thiscall sub_427D17(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  int v5; // edi@1
  unsigned int v6; // eax@1
  char v7; // dl@2
  unsigned int i; // [sp+10h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4192); v6 < i; *(v4 - 1) = 1.0 )
  {
    v7 = *(_BYTE *)(v6 + 1);
    *v4 = (double)(char)(*(_BYTE *)v6 + (*(_BYTE *)v6 == -128)) * 0.0078740157;
    v6 += 2;
    v4 += 4;
    *(v4 - 3) = (double)(char)(v7 + (v7 == -128)) * 0.0078740157;
    *(v4 - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, (unsigned int)&v4[-4 * *(_DWORD *)(v5 + 4192)]);
}

//----- (00427DD2) --------------------------------------------------------
char *__thiscall sub_427DD2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C708;
  return v2;
}
// 48C708: using guessed type int (__thiscall *off_48C708)(void *, char);

//----- (00427DEE) --------------------------------------------------------
char *__thiscall sub_427DEE(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C718;
  return v2;
}
// 48C718: using guessed type int (__thiscall *off_48C718)(void *, char);

//----- (00427E0A) --------------------------------------------------------
void __thiscall sub_427E0A(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  int v5; // edi@1
  unsigned __int16 *v6; // eax@1
  char v7; // dl@2
  unsigned int i; // [sp+10h] [bp+8h]@1
  signed int v9; // [sp+18h] [bp+10h]@2

  v4 = a4;
  v5 = this;
  v6 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v6[*(_DWORD *)(this + 4192)]; (unsigned int)v6 < i; *(v4 - 1) = (double)v9 * 0.015873017 )
  {
    v7 = ((char)(8 * ((unsigned int)*v6 >> 5)) >> 3) + ((char)(8 * ((unsigned int)*v6 >> 5)) >> 3 == -16);
    *v4 = (double)(char)(((char)(8 * *(_BYTE *)v6) >> 3) + ((char)(8 * *(_BYTE *)v6) >> 3 == -16)) * 0.06666667;
    v4 += 4;
    *(v4 - 3) = (double)v7 * 0.06666667;
    *(v4 - 2) = 1.0;
    v9 = *v6 >> 10;
    ++v6;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, (unsigned int)&v4[-4 * *(_DWORD *)(v5 + 4192)]);
}

//----- (00427EEA) --------------------------------------------------------
char *__thiscall sub_427EEA(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C728;
  return v2;
}
// 48C728: using guessed type int (__thiscall *off_48C728)(void *, char);

//----- (00427F06) --------------------------------------------------------
void __thiscall sub_427F06(int this, int a2, int a3, float *a4)
{
  float *v4; // esi@1
  int v5; // edi@1
  unsigned __int16 *v6; // eax@1
  char v7; // dl@2
  double v8; // st6@2
  unsigned int i; // [sp+10h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = (unsigned __int16 *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v6[2 * *(_DWORD *)(this + 4192)];
        (unsigned int)v6 < i;
        *(v4 - 1) = (double)*((_BYTE *)v6 - 2) * 0.0039215689 )
  {
    v7 = (*v6 >> 8) + (*v6 >> 8 == -128);
    v8 = (double)(char)(*(_BYTE *)v6 + (*(_BYTE *)v6 == -128)) * 0.0078740157;
    v6 += 2;
    *v4 = v8;
    v4 += 4;
    *(v4 - 3) = (double)v7 * 0.0078740157;
    *(v4 - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v4[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, (unsigned int)&v4[-4 * *(_DWORD *)(v5 + 4192)]);
}

//----- (00427FD2) --------------------------------------------------------
char *__thiscall sub_427FD2(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C738;
  return v2;
}
// 48C738: using guessed type int (__thiscall *off_48C738)(void *, char);

//----- (00427FEE) --------------------------------------------------------
char *__thiscall sub_427FEE(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C748;
  return v2;
}
// 48C748: using guessed type int (__thiscall *off_48C748)(void *, char);

//----- (0042800A) --------------------------------------------------------
void __thiscall sub_42800A(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // edi@1
  unsigned int *v6; // eax@1
  char v7; // cl@2
  unsigned int i; // [sp+8h] [bp-4h]@1
  char v9; // [sp+17h] [bp+Bh]@2
  signed int v10; // [sp+18h] [bp+Ch]@2

  v4 = a4;
  v5 = this;
  v6 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  for ( i = (unsigned int)&v6[*(_DWORD *)(this + 4192)];
        (unsigned int)v6 < i;
        *(float *)(v4 - 4) = (double)(char)(v9 + (v9 == -128)) * 0.0078740157 )
  {
    v9 = *v6 >> 24;
    v10 = (char)((*(_WORD *)v6 >> 8) + (*(_WORD *)v6 >> 8 == -128));
    v7 = (*v6 >> 16) + ((unsigned __int8)(*v6 >> 16) == -128);
    *(float *)v4 = (double)(char)(*v6 + ((unsigned __int8)*v6 == -128)) * 0.0078740157;
    *(float *)(v4 + 4) = (double)v10 * 0.0078740157;
    ++v6;
    v4 += 16;
    *(float *)(v4 - 8) = (double)v7 * 0.0078740157;
  }
  if ( *(_DWORD *)(v5 + 24) )
    sub_423F89(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}

//----- (00428105) --------------------------------------------------------
char *__thiscall sub_428105(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C758;
  return v2;
}
// 48C758: using guessed type int (__thiscall *off_48C758)(void *, char);

//----- (00428121) --------------------------------------------------------
void __thiscall sub_428121(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  float *v5; // esi@1
  __int16 v6; // dx@2
  signed int v7; // edi@2
  unsigned int i; // [sp+Ch] [bp+8h]@1

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  for ( i = v4 + 4 * *(_DWORD *)(this + 4192); v4 < i; *(v5 - 1) = 1.0 )
  {
    v6 = *(_WORD *)(v4 + 2);
    v7 = (signed __int16)(*(_WORD *)v4 + (*(_WORD *)v4 == -32768));
    v4 += 4;
    *v5 = (double)v7 * 0.000030518509;
    v5 += 4;
    *(v5 - 3) = (double)(signed __int16)(v6 + (v6 == -32768)) * 0.000030518509;
    *(v5 - 2) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&v5[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (004281E3) --------------------------------------------------------
char *__thiscall sub_4281E3(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C76C;
  return v2;
}
// 48C76C: using guessed type int (__thiscall *off_48C76C)(void *, char);

//----- (004281FF) --------------------------------------------------------
char *__thiscall sub_4281FF(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x40u, 1);
  *(_DWORD *)v2 = &off_48C77C;
  return v2;
}
// 48C77C: using guessed type int (__thiscall *off_48C77C)(void *, char);

//----- (0042821B) --------------------------------------------------------
void __thiscall sub_42821B(int this, int a2, int a3, int a4)
{
  unsigned int *v4; // eax@1
  int v5; // esi@1
  unsigned int v6; // edx@2
  __int16 v7; // bx@2
  unsigned int v8; // [sp+10h] [bp+Ch]@1
  unsigned int v9; // [sp+14h] [bp+10h]@2

  v4 = (unsigned int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = a4;
  v8 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  if ( v4 < &v4[*(_DWORD *)(this + 4192)] )
  {
    do
    {
      v6 = *v4 >> 20;
      v7 = (signed __int16)((unsigned __int16)(*v4 >> 10) << 6) >> 6;
      *(float *)v5 = (double)(signed __int16)(((signed __int16)(*(_WORD *)v4 << 6) >> 6)
                                            + ((signed __int16)(*(_WORD *)v4 << 6) >> 6 == -512))
                   * 0.0019569471;
      *(float *)(v5 + 4) = (double)(signed __int16)(v7 + (v7 == -512)) * 0.0019569471;
      *(float *)(v5 + 8) = (double)(signed __int16)(((signed __int16)((_WORD)v6 << 6) >> 6)
                                                  + ((signed __int16)((_WORD)v6 << 6) >> 6 == -512))
                         * 0.0019569471;
      v9 = *v4 >> 30;
      ++v4;
      v5 += 16;
      *(float *)(v5 - 4) = (double)v9 * 0.33333334;
    }
    while ( (unsigned int)v4 < v8 );
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00428334) --------------------------------------------------------
char *__thiscall sub_428334(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C790;
  return v2;
}
// 48C790: using guessed type int (__thiscall *off_48C790)(void *, char);

//----- (00428350) --------------------------------------------------------
char *__thiscall sub_428350(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_48C7A0;
  return v2;
}
// 48C7A0: using guessed type int (__thiscall *off_48C7A0)(void *, char);

//----- (0042836C) --------------------------------------------------------
void __thiscall sub_42836C(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  int v5; // esi@1
  __int16 v6; // bx@2
  bool v7; // cl@2
  int v8; // [sp+Ch] [bp-8h]@1
  unsigned int v9; // [sp+10h] [bp-4h]@1
  int v10; // [sp+1Ch] [bp+8h]@2
  int v11; // [sp+24h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = a4;
  v8 = this;
  v9 = v4 + 8 * *(_DWORD *)(this + 4192);
  if ( v4 < v4 + 8 * *(_DWORD *)(this + 4192) )
  {
    do
    {
      v11 = *(_QWORD *)v4 >> 16;
      v6 = *(_DWORD *)(v4 + 4);
      v10 = *(_DWORD *)(v4 + 4) >> 16;
      v7 = *(_DWORD *)v4 >> 16 == -32768;
      *(float *)v5 = (double)(signed __int16)(*(_WORD *)v4 + (*(_WORD *)v4 == -32768)) * 0.000030518509;
      *(float *)(v5 + 4) = (double)(signed __int16)(v11 + v7) * 0.000030518509;
      v4 += 8;
      v5 += 16;
      *(float *)(v5 - 8) = (double)(signed __int16)(v6 + (v6 == -32768)) * 0.000030518509;
      *(float *)(v5 - 4) = (double)(signed __int16)(v10 + ((_WORD)v10 == -32768)) * 0.000030518509;
    }
    while ( v4 < v9 );
    this = v8;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v5 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, v5 - 16 * *(_DWORD *)(this + 4192));
}

//----- (00428483) --------------------------------------------------------
char *__thiscall sub_428483(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_48C7B0;
  return v2;
}
// 48C7B0: using guessed type int (__thiscall *off_48C7B0)(void *, char);

//----- (0042849F) --------------------------------------------------------
void __thiscall sub_42849F(int this, int a2, int a3, int a4)
{
  int v4; // esi@1
  int v5; // edi@1
  unsigned int v6; // edx@1
  signed int v7; // eax@2
  double v8; // st6@2
  double v9; // st5@2
  long double v10; // st4@2
  long double v11; // st6@3
  unsigned int i; // [sp+10h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4192); v6 < i; v4 += 16 )
  {
    v7 = (char)(*(_BYTE *)(v6 + 1) + (*(_BYTE *)(v6 + 1) == -128));
    v8 = (double)(char)(*(_BYTE *)v6 + (*(_BYTE *)v6 == -128)) * 0.0078740157;
    *(float *)v4 = v8;
    v9 = (double)v7 * 0.0078740157;
    *(float *)(v4 + 4) = v9;
    v10 = 1.0 - v8 * v8 - v9 * v9;
    if ( v10 > 0.0 )
      v11 = sqrt(v10);
    else
      v11 = 0.0;
    *(float *)(v4 + 8) = v11;
    v6 += 2;
    *(float *)(v4 + 12) = 1.0;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, v4 - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}

//----- (00428580) --------------------------------------------------------
char *__thiscall sub_428580(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C7C0;
  return v2;
}
// 48C7C0: using guessed type int (__thiscall *off_48C7C0)(void *, char);

//----- (0042859C) --------------------------------------------------------
char *__thiscall sub_42859C(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 8u, 1);
  *(_DWORD *)v2 = &off_48C7D0;
  return v2;
}
// 48C7D0: using guessed type int (__thiscall *off_48C7D0)(void *, char);

//----- (004285B8) --------------------------------------------------------
char *__thiscall sub_4285B8(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C7E0;
  return v2;
}
// 48C7E0: using guessed type int (__thiscall *off_48C7E0)(void *, char);

//----- (004285D4) --------------------------------------------------------
void __thiscall sub_4285D4(int this, int a2, int a3, int a4)
{
  int *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // edi@2

  v4 = (int *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 12) = 1.0 )
  {
    v7 = *v4;
    *(float *)(i + 12) = 1.0;
    *(_DWORD *)i = v7;
    ++v4;
    *(float *)(i + 8) = 1.0;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (00428654) --------------------------------------------------------
char *__thiscall sub_428654(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_48C7F0;
  return v2;
}
// 48C7F0: using guessed type int (__thiscall *off_48C7F0)(void *, char);

//----- (00428670) --------------------------------------------------------
void __thiscall sub_428670(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // esi@1
  unsigned int i; // [sp+14h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 2 * *(_DWORD *)(this + 4192); v6 < i; *(float *)(v4 - 12) = 1.0 )
  {
    sub_42A7AC(v4, v6, 1);
    *(float *)(v4 + 12) = 1.0;
    v6 += 2;
    *(float *)(v4 + 8) = 1.0;
    v4 += 16;
  }
  if ( *(_DWORD *)(v5 + 24) )
    sub_423F89(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}
// 42A7AC: using guessed type int __stdcall sub_42A7AC(_DWORD, _DWORD, _DWORD);

//----- (00428701) --------------------------------------------------------
char *__thiscall sub_428701(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_48C800;
  return v2;
}
// 48C800: using guessed type int (__thiscall *off_48C800)(void *, char);

//----- (0042871D) --------------------------------------------------------
char *__thiscall sub_42871D(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_48C810;
  return v2;
}
// 48C810: using guessed type int (__thiscall *off_48C810)(void *, char);

//----- (00428739) --------------------------------------------------------
void __thiscall sub_428739(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // esi@1
  unsigned int i; // [sp+14h] [bp+8h]@1

  v4 = a4;
  v5 = this;
  v6 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  for ( i = v6 + 4 * *(_DWORD *)(this + 4192); v6 < i; *(float *)(v4 - 8) = 1.0 )
  {
    sub_42A7AC(v4, v6, 2);
    *(float *)(v4 + 12) = 1.0;
    v6 += 4;
    v4 += 16;
  }
  if ( *(_DWORD *)(v5 + 24) )
    sub_423F89(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
  if ( *(_DWORD *)(v5 + 16) )
    sub_42427B(v5, v4 - 16 * *(_DWORD *)(v5 + 4192));
}
// 42A7AC: using guessed type int __stdcall sub_42A7AC(_DWORD, _DWORD, _DWORD);

//----- (004287C6) --------------------------------------------------------
char *__thiscall sub_4287C6(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 3);
  *(_DWORD *)v2 = &off_48C820;
  return v2;
}
// 48C820: using guessed type int (__thiscall *off_48C820)(void *, char);

//----- (004287E2) --------------------------------------------------------
void __thiscall sub_4287E2(int this, int a2, int a3, unsigned int a4)
{
  int v4; // esi@1

  v4 = this;
  sub_42A7AC(
    a4,
    *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184),
    4 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(v4 + 24) )
    sub_423F89(v4, a4);
  if ( *(_DWORD *)(v4 + 16) )
    sub_42427B(v4, a4);
}
// 42A7AC: using guessed type int __stdcall sub_42A7AC(_DWORD, _DWORD, _DWORD);

//----- (00428839) --------------------------------------------------------
char *__thiscall sub_428839(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_48C830;
  return v2;
}
// 48C830: using guessed type int (__thiscall *off_48C830)(void *, char);

//----- (00428855) --------------------------------------------------------
void __thiscall sub_428855(int this, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  int v7; // edi@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + 8 * *(_DWORD *)(this + 4192);
  for ( i = a4; v4 < v5; i += 16 )
  {
    *(_DWORD *)i = *(_DWORD *)v4;
    v7 = *(_DWORD *)(v4 + 4);
    *(float *)(i + 12) = 1.0;
    *(_DWORD *)(i + 4) = v7;
    *(float *)(i + 8) = 1.0;
    v4 += 8;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (004288D6) --------------------------------------------------------
void __thiscall sub_4288D6(int this, int a2, int a3, void *a4)
{
  int v4; // ebx@1

  v4 = this;
  qmemcpy(
    a4,
    (const void *)(*(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(v4 + 4184)),
    16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)a4);
  if ( *(_DWORD *)(v4 + 16) )
    sub_42427B(v4, (unsigned int)a4);
}

//----- (00428938) --------------------------------------------------------
void __thiscall sub_428938(int this, int a2, int a3, int a4)
{
  _DWORD *v4; // eax@1
  unsigned int v5; // edx@1
  int i; // esi@1
  double v7; // st6@2

  v4 = (_DWORD *)(*(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184));
  v5 = (unsigned int)&v4[*(_DWORD *)(this + 4192)];
  for ( i = a4; (unsigned int)v4 < v5; *(float *)(i - 4) = (double)*((_WORD *)v4 - 1) * 0.000015259022 )
  {
    v7 = (double)(*v4 & 0xFFFF) * 0.000015259022;
    ++v4;
    *(float *)(i + 8) = v7;
    *(float *)(i + 4) = v7;
    *(float *)i = v7;
    i += 16;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, i - 16 * *(_DWORD *)(this + 4192));
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, i - 16 * *(_DWORD *)(this + 4192));
}

//----- (004289DF) --------------------------------------------------------
char *__thiscall sub_4289DF(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 2);
  *(_DWORD *)v2 = &off_48C840;
  return v2;
}
// 48C840: using guessed type int (__thiscall *off_48C840)(void *, char);

//----- (004289FB) --------------------------------------------------------
char *__thiscall sub_4289FB(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x40u, 3);
  *(_DWORD *)v2 = &off_48C850;
  return v2;
}
// 48C850: using guessed type int (__thiscall *off_48C850)(void *, char);

//----- (00428A17) --------------------------------------------------------
void __thiscall sub_428A17(int this, int a2, int a3, float *a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // edx@1
  float *i; // esi@1
  signed int v7; // [sp+14h] [bp+10h]@2

  v4 = *(_DWORD *)(this + 32) + a3 * *(_DWORD *)(this + 4188) + a2 * *(_DWORD *)(this + 4184);
  v5 = v4 + *(_DWORD *)(this + 4204);
  for ( i = a4; v4 < v5; *(i - 1) = 1.0 )
  {
    *i = (double)*(_WORD *)(v4 + 4) * 0.000015259022;
    i += 4;
    *(i - 3) = (double)*(_WORD *)(v4 + 2) * 0.000015259022;
    v7 = *(_WORD *)v4;
    v4 += 6;
    *(i - 2) = (double)v7 * 0.000015259022;
  }
  if ( *(_DWORD *)(this + 24) )
    sub_423F89(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, (unsigned int)&i[-4 * *(_DWORD *)(this + 4192)]);
}

//----- (00428ABC) --------------------------------------------------------
char *__thiscall sub_428ABC(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 2);
  *(_DWORD *)v2 = &off_48C860;
  return v2;
}
// 48C860: using guessed type int (__thiscall *off_48C860)(void *, char);

//----- (00428AD8) --------------------------------------------------------
char *__thiscall sub_428AD8(char *this, int a2)
{
  char *v2; // esi@1
  unsigned int v3; // ecx@1
  unsigned int v4; // edi@1
  void *v5; // eax@1
  void *v6; // eax@2
  int v7; // eax@6
  void *v9; // [sp+Ch] [bp-4h]@1

  v2 = this;
  sub_423BBC(this, a2, 0, 1);
  v3 = *((_DWORD *)v2 + 1038) & 0xFFFFFFFE;
  v4 = ((*((_DWORD *)v2 + 1040) + 1) & 0xFFFFFFFE) - v3;
  *((_DWORD *)v2 + 1056) = (*((_DWORD *)v2 + 1040) + 1) & 0xFFFFFFFE;
  *(_DWORD *)v2 = &off_48C870;
  *((_DWORD *)v2 + 1054) = v3;
  *((_DWORD *)v2 + 1055) = 0;
  *((_DWORD *)v2 + 1058) = 0;
  *((_DWORD *)v2 + 1057) = 0;
  *((_DWORD *)v2 + 1059) = 0;
  *((_DWORD *)v2 + 1060) = v4;
  *((_DWORD *)v2 + 1061) = 0;
  *((_DWORD *)v2 + 1062) = 1;
  v5 = operator new(16 * v4);
  v9 = v5;
  if ( v5 )
  {
    'vector constructor iterator'(v5, 16, v4, sub_41AB0C);
    v6 = v9;
  }
  else
  {
    v6 = 0;
  }
  *((_DWORD *)v2 + 1053) = v6;
  if ( !v6 )
    *((_DWORD *)v2 + 1062) = 0;
  v7 = *(_DWORD *)(a2 + 4);
  if ( v7 == 844715353 )
    goto LABEL_15;
  if ( v7 == 1111970375 )
  {
LABEL_10:
    *((_DWORD *)v2 + 1063) = 8;
    *((_DWORD *)v2 + 1064) = 0;
    return v2;
  }
  if ( v7 == 1195525970 )
  {
LABEL_15:
    *((_DWORD *)v2 + 1063) = 0;
    *((_DWORD *)v2 + 1064) = 8;
    return v2;
  }
  if ( v7 == 1498831189 )
    goto LABEL_10;
  return v2;
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 48C870: using guessed type int (__thiscall *off_48C870)(void *, char);

//----- (00428BCA) --------------------------------------------------------
char *__thiscall sub_428BCA(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 1);
  *(_DWORD *)v2 = &off_48C880;
  return v2;
}
// 48C880: using guessed type int (__thiscall *off_48C880)(void *, char);

//----- (00428BE6) --------------------------------------------------------
char *__thiscall sub_428BE6(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 4);
  *(_DWORD *)v2 = &off_48C890;
  return v2;
}
// 48C890: using guessed type int (__thiscall *off_48C890)(void *, char);

//----- (00428C02) --------------------------------------------------------
char *__thiscall sub_428C02(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x10u, 4);
  *(_DWORD *)v2 = &off_48C8A0;
  return v2;
}
// 48C8A0: using guessed type int (__thiscall *off_48C8A0)(void *, char);

//----- (00428C1E) --------------------------------------------------------
int __thiscall sub_428C1E(int this)
{
  _WORD *v1; // esi@3
  int v2; // edx@3
  int v3; // eax@3
  int v4; // ecx@3
  unsigned int v5; // ecx@7
  unsigned int v6; // ecx@8
  float v7; // ST2C_4@9
  signed int v8; // eax@9
  float v9; // ST2C_4@9
  float v10; // ST2C_4@9
  signed int v11; // eax@9
  float v12; // ST2C_4@9
  float v13; // ST20_4@12
  float v14; // ST30_4@12
  float v15; // ST10_4@12
  float v16; // ST18_4@12
  int v17; // eax@12
  float v18; // ST18_4@12
  int v19; // edi@12
  float v20; // ST18_4@12
  int v21; // ebx@12
  float v22; // ST10_4@12
  int v24; // [sp+1Ch] [bp-10h]@0
  unsigned int v25; // [sp+20h] [bp-Ch]@7
  unsigned int v26; // [sp+24h] [bp-8h]@8
  int v27; // [sp+24h] [bp-8h]@12
  int v28; // [sp+28h] [bp-4h]@1

  v28 = this;
  if ( *(_DWORD *)(this + 4244) && *(_DWORD *)(this + 4248) )
  {
    v1 = (_WORD *)(*(_DWORD *)(this + 32)
                 + *(_DWORD *)(this + 4184) * *(_DWORD *)(this + 4220)
                 + *(_DWORD *)(this + 4188) * *(_DWORD *)(this + 4232)
                 + 2 * *(_DWORD *)(this + 4216));
    v2 = *(_DWORD *)(this + 4212);
    dword_4C3E10 = v24;
    v3 = this;
    v4 = *(_DWORD *)(this + 4);
    if ( v4 == 844715353 )
      goto LABEL_7;
    if ( v4 == 1111970375 || v4 == 1195525970 )
    {
      v6 = *(_DWORD *)(v28 + 4216);
      v26 = *(_DWORD *)(v28 + 4216);
      while ( v6 < *(_DWORD *)(v3 + 4224) )
      {
        v7 = *(float *)(v2 + 4) * 255.0 + 0.5;
        v8 = (signed int)v7;
        v9 = *(float *)v2 * 255.0 + 0.5;
        *v1 = ((signed int)v9 << *(_DWORD *)(v28 + 4256)) | (v8 << *(_DWORD *)(v28 + 4252));
        v10 = *(float *)(v2 + 20) * 255.0 + 0.5;
        v11 = (signed int)v10;
        v12 = *(float *)(v2 + 8) * 255.0 + 0.5;
        v2 += 32;
        v1 += 2;
        v26 += 2;
        v6 = v26;
        *(v1 - 1) = ((signed int)v12 << *(_DWORD *)(v28 + 4256)) | (v11 << *(_DWORD *)(v28 + 4252));
        v3 = v28;
      }
    }
    else if ( v4 == 1498831189 )
    {
LABEL_7:
      v5 = *(_DWORD *)(v28 + 4216);
      v25 = *(_DWORD *)(v28 + 4216);
      while ( v5 < *(_DWORD *)(v3 + 4224) )
      {
        v13 = *(float *)(v2 + 16) * 65.481003 + *(float *)(v2 + 24) * 24.966 + *(float *)(v2 + 20) * 128.55299;
        v14 = *(float *)(v2 + 8) * 112.0 - *(float *)(v2 + 4) * 74.203003 - *(float *)v2 * 37.797001;
        v15 = *(float *)v2 * 112.0 - (*(float *)(v2 + 4) * 93.786003 + *(float *)(v2 + 8) * 18.214001);
        v16 = *(float *)(v2 + 4) * 128.55299 + *(float *)(v2 + 8) * 24.966 + *(float *)v2 * 65.481003 + 0.5;
        v17 = (signed int)v16 + 16;
        v18 = v13 + 0.5;
        v19 = (signed int)v18 + 16;
        v20 = v14 + 0.5;
        v21 = (signed int)v20 + 128;
        v22 = v15 + 0.5;
        v27 = (signed int)v22 + 128;
        if ( v17 >= 0 )
        {
          if ( v17 > 255 )
            v17 = 255;
        }
        else
        {
          v17 = 0;
        }
        if ( v19 >= 0 )
        {
          if ( v19 > 255 )
            LOWORD(v19) = 255;
        }
        else
        {
          LOWORD(v19) = 0;
        }
        if ( v21 >= 0 )
        {
          if ( v21 > 255 )
            v21 = 255;
        }
        else
        {
          v21 = 0;
        }
        if ( v27 >= 0 )
        {
          if ( v27 > 255 )
            LOWORD(v27) = 255;
        }
        else
        {
          LOWORD(v27) = 0;
        }
        v2 += 32;
        *v1 = (v21 << *(_DWORD *)(v28 + 4256)) | (v17 << *(_DWORD *)(v28 + 4252));
        v1 += 2;
        v25 += 2;
        v5 = v25;
        *(v1 - 1) = ((_WORD)v27 << *(_DWORD *)(v28 + 4256)) | ((_WORD)v19 << *(_DWORD *)(v28 + 4252));
        v3 = v28;
      }
      goto LABEL_30;
    }
LABEL_30:
    *(_DWORD *)(v28 + 4244) = 0;
  }
  return 0;
}
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00428F2E) --------------------------------------------------------
char *__thiscall sub_428F2E(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 4);
  *(_DWORD *)v2 = &off_48C8D0;
  return v2;
}
// 48C8D0: using guessed type int (__thiscall *off_48C8D0)(void *, char);

//----- (00428F4A) --------------------------------------------------------
char *__thiscall sub_428F4A(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x40u, 4);
  *(_DWORD *)v2 = &off_48C8E0;
  return v2;
}
// 48C8E0: using guessed type int (__thiscall *off_48C8E0)(void *, char);

//----- (00428F66) --------------------------------------------------------
void *__thiscall sub_428F66(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_4233D0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00428F82) --------------------------------------------------------
char *__thiscall sub_428F82(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 4);
  *(_DWORD *)v2 = &off_48C8F0;
  return v2;
}
// 48C8F0: using guessed type int (__thiscall *off_48C8F0)(void *, char);

//----- (00428F9E) --------------------------------------------------------
char *__thiscall sub_428F9E(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x40u, 4);
  *(_DWORD *)v2 = &off_48C900;
  return v2;
}
// 48C900: using guessed type int (__thiscall *off_48C900)(void *, char);

//----- (00428FBA) --------------------------------------------------------
int __thiscall sub_428FBA(int this, unsigned int a2, unsigned int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@2
  unsigned int v6; // eax@9
  int v7; // edx@9
  int v8; // ecx@9
  int v9; // ebx@9
  float v10; // ST10_4@14
  unsigned __int16 v11; // ax@14
  float v12; // ST14_4@14
  double v13; // st4@14
  double v14; // st3@14
  double v15; // st3@14
  double v16; // st2@14
  double v17; // st2@14
  double v18; // st1@14
  double v19; // st1@14
  float v20; // ST14_4@31
  unsigned __int16 v21; // ax@17
  double v22; // st6@17
  double v23; // st5@17
  unsigned __int16 v24; // ax@17
  double v25; // st5@17
  __int16 v26; // ax@17
  double v27; // st4@17
  double v28; // st2@22
  double v29; // st2@27
  double v30; // st2@31
  double v31; // st4@31
  double v32; // st4@36
  double v33; // st4@41
  float v34; // [sp+4h] [bp-Ch]@14
  float v35; // [sp+8h] [bp-8h]@14
  float v36; // [sp+18h] [bp+8h]@14
  float v37; // [sp+18h] [bp+8h]@14
  unsigned int v38; // [sp+18h] [bp+8h]@16
  float v39; // [sp+18h] [bp+8h]@31
  float v40; // [sp+18h] [bp+8h]@31
  float v41; // [sp+1Ch] [bp+Ch]@14
  float v42; // [sp+1Ch] [bp+Ch]@14
  float v43; // [sp+1Ch] [bp+Ch]@31
  unsigned int v44; // [sp+20h] [bp+10h]@13
  signed int v45; // [sp+20h] [bp+10h]@17
  float v46; // [sp+20h] [bp+10h]@17

  v4 = this;
  if ( !*(_DWORD *)(this + 4248) )
    return -2147024882;
  if ( a2 < *(_DWORD *)(this + 4220)
    || a2 >= *(_DWORD *)(this + 4228)
    || a3 < *(_DWORD *)(this + 4232)
    || a3 >= *(_DWORD *)(this + 4236) )
  {
    result = sub_428C1E(this);
    if ( result < 0 )
      return result;
    *(_DWORD *)(v4 + 4228) = a2 + 1;
    *(_DWORD *)(v4 + 4220) = a2;
    *(_DWORD *)(v4 + 4232) = a3;
    *(_DWORD *)(v4 + 4236) = a3 + 1;
    if ( a4 )
    {
      v6 = *(_DWORD *)(v4 + 4216);
      v7 = *(_DWORD *)(v4 + 4212);
      v8 = *(_DWORD *)(v4 + 4);
      v9 = *(_DWORD *)(v4 + 32) + a3 * *(_DWORD *)(v4 + 4188) + a2 * *(_DWORD *)(v4 + 4184) + 2 * v6;
      if ( v8 == 844715353 )
        goto LABEL_49;
      if ( v8 == 1111970375 || v8 == 1195525970 )
      {
        v38 = *(_DWORD *)(v4 + 4216);
        if ( v6 < *(_DWORD *)(v4 + 4224) )
        {
          do
          {
            v21 = *(_WORD *)v9;
            v38 += 2;
            v9 += 4;
            v22 = (double)(unsigned __int8)(v21 >> *(_WORD *)(v4 + 4252)) * 0.0039215689;
            v23 = (double)(unsigned __int8)(v21 >> *(_WORD *)(v4 + 4256));
            v24 = *(_WORD *)(v9 - 2);
            v25 = v23 * 0.0039215689;
            v45 = (unsigned __int8)(v24 >> *(_WORD *)(v4 + 4252));
            v26 = v24 >> *(_WORD *)(v4 + 4256);
            v46 = (double)v45 * 0.0039215689;
            *(float *)(v7 + 20) = v46;
            v27 = (double)(unsigned __int8)v26 * 0.0039215689;
            *(float *)v7 = v25;
            v7 += 32;
            *(float *)(v7 - 28) = v22;
            *(float *)(v7 - 24) = v27;
            *(float *)(v7 - 20) = 1.0;
            *(float *)(v7 - 16) = v25;
            *(float *)(v7 - 8) = v27;
            *(float *)(v7 - 4) = 1.0;
          }
          while ( v38 < *(_DWORD *)(v4 + 4224) );
        }
        return 0;
      }
      if ( v8 == 1498831189 )
      {
LABEL_49:
        v44 = *(_DWORD *)(v4 + 4216);
        if ( v6 < *(_DWORD *)(v4 + 4224) )
        {
          do
          {
            v10 = (double)(unsigned __int8)(*(_WORD *)v9 >> *(_WORD *)(v4 + 4252)) - 16.0;
            v11 = *(_WORD *)(v9 + 2);
            v12 = (double)(unsigned __int8)(*(_WORD *)v9 >> *(_WORD *)(v4 + 4256)) - 128.0;
            v13 = (double)(unsigned __int8)(v11 >> *(_WORD *)(v4 + 4252)) - 16.0;
            v14 = (double)(unsigned __int8)(v11 >> *(_WORD *)(v4 + 4256)) - 128.0;
            v41 = v14;
            v15 = v14 * 0.0062589301;
            v16 = v10 * 0.0045662099;
            v36 = v16;
            v17 = v16 + v15;
            *(float *)v7 = v17;
            v35 = v12 * 0.00153632;
            v18 = v41 * 0.00318811;
            v34 = v18;
            v42 = v36 - v35 - v18;
            *(float *)(v7 + 4) = v42;
            v19 = v12 * 0.0079107098;
            v37 = v19 + v36;
            *(float *)(v7 + 8) = v37;
            *(float *)(v7 + 12) = 1.0;
            if ( v17 >= 0.0 )
            {
              if ( v17 > 1.0 )
                v17 = 1.0;
            }
            else
            {
              v17 = 0.0;
            }
            *(float *)v7 = v17;
            if ( v42 >= 0.0 )
            {
              if ( v42 <= 1.0 )
                v28 = v42;
              else
                v28 = 1.0;
            }
            else
            {
              v28 = 0.0;
            }
            *(float *)(v7 + 4) = v28;
            if ( v37 >= 0.0 )
            {
              if ( v37 <= 1.0 )
                v29 = v37;
              else
                v29 = 1.0;
            }
            else
            {
              v29 = 0.0;
            }
            *(float *)(v7 + 8) = v29;
            v39 = v13 * 0.0045662099;
            v30 = v13 * 0.0045662099 + v15;
            v31 = v30;
            *(float *)(v7 + 16) = v30;
            v43 = v39 - v35 - v34;
            *(float *)(v7 + 20) = v43;
            v20 = v19;
            v40 = v39 + v20;
            *(float *)(v7 + 24) = v40;
            *(float *)(v7 + 28) = 1.0;
            if ( v30 >= 0.0 )
            {
              if ( v30 > 1.0 )
                v31 = 1.0;
            }
            else
            {
              v31 = 0.0;
            }
            *(float *)(v7 + 16) = v31;
            if ( v43 >= 0.0 )
            {
              if ( v43 <= 1.0 )
                v32 = v43;
              else
                v32 = 1.0;
            }
            else
            {
              v32 = 0.0;
            }
            *(float *)(v7 + 20) = v32;
            if ( v40 >= 0.0 )
            {
              if ( v40 <= 1.0 )
                v33 = v40;
              else
                v33 = 1.0;
            }
            else
            {
              v33 = 0.0;
            }
            v44 += 2;
            *(float *)(v7 + 24) = v33;
            v7 += 32;
            v9 += 4;
          }
          while ( v44 < *(_DWORD *)(v4 + 4224) );
        }
      }
    }
  }
  return 0;
}

//----- (00429386) --------------------------------------------------------
char *__thiscall sub_429386(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x80u, 4);
  *(_DWORD *)v2 = &off_48C92C;
  return v2;
}
// 48C92C: using guessed type int (__thiscall *off_48C92C)(void *, char);

//----- (004293A5) --------------------------------------------------------
char *__thiscall sub_4293A5(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x20u, 1);
  *(_DWORD *)v2 = &off_48C93C;
  return v2;
}
// 48C93C: using guessed type int (__thiscall *off_48C93C)(void *, char);

//----- (004293C1) --------------------------------------------------------
char *__thiscall sub_4293C1(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_423BBC(this, a2, 0x30u, 1);
  *(_DWORD *)v2 = &off_48C94C;
  return v2;
}
// 48C94C: using guessed type int (__thiscall *off_48C94C)(void *, char);

//----- (004293DD) --------------------------------------------------------
int __thiscall sub_4293DD(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  const void *v5; // esi@2
  int result; // eax@6

  v4 = this;
  if ( *(_DWORD *)(this + 4176) )
    v5 = (const void *)sub_4233E6(this, a4);
  else
    v5 = (const void *)a4;
  if ( *(_DWORD *)(v4 + 16) )
    v5 = (const void *)sub_423FF9(v4, (int)v5);
  result = sub_428FBA(
             v4,
             *(_DWORD *)(v4 + 4156) + a2,
             *(_DWORD *)(v4 + 4168) + a3,
             *(_DWORD *)(v4 + 4240) != *(_DWORD *)(v4 + 4192));
  if ( result >= 0 )
  {
    result = 16 * *(_DWORD *)(v4 + 4192);
    qmemcpy((void *)(*(_DWORD *)(v4 + 4212) + 16 * (*(_DWORD *)(v4 + 4152) - *(_DWORD *)(v4 + 4216))), v5, result);
    *(_DWORD *)(v4 + 4244) = 1;
  }
  return result;
}

//----- (0042947B) --------------------------------------------------------
void __thiscall sub_42947B(int this, int a2, int a3, void *a4)
{
  int v4; // ebx@1

  v4 = this;
  if ( sub_428FBA(this, *(_DWORD *)(this + 4156) + a2, *(_DWORD *)(this + 4168) + a3, 1) >= 0 )
  {
    qmemcpy(
      a4,
      (const void *)(*(_DWORD *)(v4 + 4212) + 16 * (*(_DWORD *)(v4 + 4152) - *(_DWORD *)(v4 + 4216))),
      16 * *(_DWORD *)(v4 + 4192));
    if ( *(_DWORD *)(v4 + 24) )
      sub_423F89(v4, (unsigned int)a4);
    if ( *(_DWORD *)(v4 + 16) )
      sub_42427B(v4, (unsigned int)a4);
  }
}

//----- (004294FA) --------------------------------------------------------
char *__thiscall sub_4294FA(char *this, int a2)
{
  char *v2; // ebx@1
  int v3; // eax@1
  int v4; // esi@11
  int v5; // ecx@11
  int v6; // edi@11
  unsigned int v7; // eax@11
  unsigned int v8; // eax@11
  unsigned int v9; // ecx@11
  int v10; // edx@11
  int v11; // edx@11

  v2 = this;
  sub_423BBC(this, a2, 0, 1);
  v3 = *((_DWORD *)v2 + 1);
  *(_DWORD *)v2 = &off_48C620;
  switch ( v3 )
  {
    case 827611204:
      *((_DWORD *)v2 + 1055) = 8;
      *((_DWORD *)v2 + 1057) = sub_43539A;
      *((_DWORD *)v2 + 1056) = sub_43509B;
      break;
    case 844388420:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_435AA7;
      *((_DWORD *)v2 + 1056) = sub_435A61;
      break;
    case 861165636:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_4354B2;
      *((_DWORD *)v2 + 1056) = sub_4351DB;
      break;
    case 877942852:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_435ADB;
      *((_DWORD *)v2 + 1056) = sub_435A84;
      break;
    case 894720068:
      *((_DWORD *)v2 + 1055) = 16;
      *((_DWORD *)v2 + 1057) = sub_4355D8;
      *((_DWORD *)v2 + 1056) = sub_43525E;
      break;
  }
  qmemcpy(v2 + 4232, (const void *)(a2 + 16), 0x18u);
  *((_DWORD *)v2 + 1064) = *((_DWORD *)v2 + 1058) & 0xFFFFFFFC;
  *((_DWORD *)v2 + 1065) = *((_DWORD *)v2 + 1059) & 0xFFFFFFFC;
  *((_DWORD *)v2 + 1068) = *((_DWORD *)v2 + 1062);
  v4 = *((_DWORD *)v2 + 1038);
  v5 = *((_DWORD *)v2 + 1041);
  v6 = *((_DWORD *)v2 + 1039);
  *((_DWORD *)v2 + 1066) = (*((_DWORD *)v2 + 1060) + 3) & 0xFFFFFFFC;
  v7 = (*((_DWORD *)v2 + 1061) + 3) & 0xFFFFFFFC;
  *((_DWORD *)v2 + 1079) = -1;
  *((_DWORD *)v2 + 1080) = -1;
  *((_DWORD *)v2 + 1067) = v7;
  *((_DWORD *)v2 + 1069) = *((_DWORD *)v2 + 1063);
  *((_DWORD *)v2 + 1074) = *((_DWORD *)v2 + 1042);
  v8 = (*((_DWORD *)v2 + 1040) + 3) & 0xFFFFFFFC;
  v4 &= 0xFFFFFFFC;
  *((_DWORD *)v2 + 1072) = v8;
  v6 &= 0xFFFFFFFC;
  v9 = (v5 + 3) & 0xFFFFFFFC;
  v10 = *((_DWORD *)v2 + 1043);
  *((_DWORD *)v2 + 1073) = v9;
  *((_DWORD *)v2 + 1076) = (v8 - v4) >> 2;
  *((_DWORD *)v2 + 1071) = v6;
  *((_DWORD *)v2 + 1075) = v10;
  v11 = v10 - *((_DWORD *)v2 + 1042);
  *((_DWORD *)v2 + 1070) = v4;
  *((_DWORD *)v2 + 1081) = 0;
  *((_DWORD *)v2 + 1082) = 0;
  *((_DWORD *)v2 + 1083) = 0;
  *((_DWORD *)v2 + 1077) = (v9 - v6) >> 2;
  *((_DWORD *)v2 + 1078) = v11;
  return v2;
}
// 435A84: using guessed type int __stdcall sub_435A84(int, int);
// 48C620: using guessed type int (__thiscall *off_48C620)(void *, char);

//----- (004296E6) --------------------------------------------------------
char *__thiscall sub_4296E6(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_4294FA(this, a2);
  *(_DWORD *)v2 = &off_48C95C;
  return v2;
}
// 48C95C: using guessed type int (__thiscall *off_48C95C)(void *, char);

//----- (004296FE) --------------------------------------------------------
char *__thiscall sub_4296FE(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_4294FA(this, a2);
  *(_DWORD *)v2 = &off_48C96C;
  return v2;
}
// 48C96C: using guessed type int (__thiscall *off_48C96C)(void *, char);

//----- (00429716) --------------------------------------------------------
char *__thiscall sub_429716(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_4294FA(this, a2);
  *(_DWORD *)v2 = &off_48C97C;
  return v2;
}
// 48C97C: using guessed type int (__thiscall *off_48C97C)(void *, char);

//----- (0042972E) --------------------------------------------------------
void __thiscall sub_42972E(int this, int a2, int a3, int a4)
{
  int v4; // ebx@1
  void *v5; // edi@2
  unsigned int v6; // eax@4
  int v7; // ecx@4
  int v8; // esi@4
  bool v9; // zf@4
  int v10; // edi@5
  void *v11; // eax@5
  unsigned int v12; // eax@6
  unsigned int v13; // eax@11
  unsigned int v14; // edx@11
  unsigned int v15; // eax@13
  unsigned int v16; // eax@15
  int v17; // edi@15
  bool v18; // cf@15
  unsigned int v19; // eax@18
  unsigned int v20; // ecx@18
  unsigned int v21; // eax@21
  unsigned int v22; // ecx@21
  unsigned int v23; // ecx@25
  unsigned int v24; // ecx@34
  int v25; // edx@34
  unsigned int v26; // edi@35
  int v27; // esi@35
  int v28; // edi@37
  unsigned int v29; // eax@39
  unsigned int v30; // ecx@39
  unsigned int v31; // edx@42
  int v32; // esi@43
  int v33; // edi@43
  unsigned int v34; // eax@46
  int v35; // edx@46
  int v36; // edi@47
  int v37; // esi@47
  int v38; // [sp+8h] [bp-20h]@38
  int v39; // [sp+Ch] [bp-1Ch]@38
  int v40; // [sp+10h] [bp-18h]@38
  int v41; // [sp+14h] [bp-14h]@38
  unsigned int v42; // [sp+18h] [bp-10h]@5
  unsigned int v43; // [sp+1Ch] [bp-Ch]@15
  unsigned int v44; // [sp+20h] [bp-8h]@15
  int v45; // [sp+24h] [bp-4h]@4
  unsigned int v46; // [sp+30h] [bp+8h]@1
  unsigned int v47; // [sp+30h] [bp+8h]@40
  int v48; // [sp+34h] [bp+Ch]@1
  int v49; // [sp+34h] [bp+Ch]@37
  int v50; // [sp+38h] [bp+10h]@37

  v4 = this;
  v46 = *(_DWORD *)(this + 4156) + a2;
  v48 = *(_DWORD *)(this + 4168) + a3;
  if ( !*(_DWORD *)(this + 4332) )
  {
    v5 = operator new(8 * *(_DWORD *)(this + 4312) * *(_DWORD *)(this + 4308));
    *(_DWORD *)(v4 + 4332) = v5;
    if ( !v5 )
      return;
    memset(v5, 0, 8 * *(_DWORD *)(v4 + 4312) * *(_DWORD *)(v4 + 4308));
  }
  v6 = ((v46 - *(_DWORD *)(v4 + 4284)) >> 2) + *(_DWORD *)(v4 + 4308) * (v48 - *(_DWORD *)(v4 + 4296));
  v7 = *(_DWORD *)(v4 + 4332);
  v8 = v7 + 8 * v6;
  v9 = *(_DWORD *)(v8 + 4) == 0;
  v45 = v7 + 8 * v6;
  if ( v9 )
  {
    v10 = 16 * *(_DWORD *)(v4 + 4304);
    v11 = operator new(*(_DWORD *)(v4 + 4304) << 8);
    v42 = (unsigned int)v11;
    if ( v11 )
    {
      'vector constructor iterator'(v11, 16, v10, sub_41AB0C);
      v12 = v42;
    }
    else
    {
      v12 = 0;
    }
    *(_DWORD *)(v8 + 4) = v12;
    if ( !v12 )
      return;
    *(_DWORD *)v8 = 0;
    ++*(_DWORD *)(v4 + 4328);
  }
  if ( !*(_DWORD *)v8 )
  {
    v13 = *(_DWORD *)(v4 + 4156);
    v14 = v46 & 0xFFFFFFFC;
    v42 = v46 & 0xFFFFFFFC;
    if ( ((v46 & 0xFFFFFFFC) >= v13 || v13 <= *(_DWORD *)(v4 + 4236))
      && ((v15 = *(_DWORD *)(v4 + 4164), (v46 & 0xFFFFFFFC) + 4 <= v15) || v15 >= *(_DWORD *)(v4 + 4244)) )
    {
      v19 = *(_DWORD *)(v4 + 4280);
      v20 = *(_DWORD *)(v4 + 4152);
      if ( v19 < v20 && v20 > *(_DWORD *)(v4 + 4232) )
      {
        (*(void (__stdcall **)(_DWORD, int))(v4 + 4224))(
          *(_DWORD *)(v8 + 4),
          *(_DWORD *)(v4 + 32)
        + v48 * *(_DWORD *)(v4 + 4188)
        + *(_DWORD *)(v4 + 4184) * (v46 >> 2)
        + *(_DWORD *)(v4 + 4220) * (v19 >> 2));
        v14 = v42;
      }
      v21 = *(_DWORD *)(v4 + 4288);
      v22 = *(_DWORD *)(v4 + 4160);
      if ( v21 <= v22 || v22 >= *(_DWORD *)(v4 + 4240) )
        goto LABEL_25;
      (*(void (__stdcall **)(_DWORD, unsigned int))(v4 + 4224))(
        *(_DWORD *)(v8 + 4),
        *(_DWORD *)(v4 + 32)
      + v48 * *(_DWORD *)(v4 + 4188)
      + *(_DWORD *)(v4 + 4184) * (v46 >> 2)
      + *(_DWORD *)(v4 + 4220) * ((v21 - 4) >> 2));
    }
    else
    {
      v16 = *(_DWORD *)(v4 + 4280);
      v17 = *(_DWORD *)(v4 + 32)
          + v48 * *(_DWORD *)(v4 + 4188)
          + *(_DWORD *)(v4 + 4220) * (*(_DWORD *)(v4 + 4280) >> 2)
          + *(_DWORD *)(v4 + 4184) * (v46 >> 2);
      v18 = v16 < *(_DWORD *)(v4 + 4288);
      v44 = *(_DWORD *)(v8 + 4);
      v43 = v16;
      if ( !v18 )
        goto LABEL_25;
      do
      {
        (*(void (__stdcall **)(unsigned int, int))(v4 + 4224))(v44, v17);
        v43 += 4;
        v17 += *(_DWORD *)(v4 + 4220);
        v44 += 256;
      }
      while ( v43 < *(_DWORD *)(v4 + 4288) );
    }
    v14 = v42;
LABEL_25:
    v23 = 0;
    do
    {
      if ( v23 + v14 < *(_DWORD *)(v4 + 4156) || v23 + v14 >= *(_DWORD *)(v4 + 4164) )
        *(_DWORD *)v8 |= 1 << v23;
      ++v23;
    }
    while ( v23 < 4 );
  }
  if ( *(_DWORD *)(v4 + 4176) )
    a4 = sub_4233E6(v4, a4);
  if ( *(_DWORD *)(v4 + 16) )
    a4 = sub_423FF9(v4, a4);
  v24 = *(_DWORD *)(v4 + 4152) - *(_DWORD *)(v4 + 4280);
  v25 = (v46 - *(_DWORD *)(v4 + 4284)) & 3;
  v42 = v24 + *(_DWORD *)(v4 + 4192);
  if ( v24 < v42 )
  {
    do
    {
      v26 = *(_DWORD *)(v8 + 4) + 16 * (v24 & 3 | 4 * (v25 | v24 & 0xFFFFFFFC));
      v27 = a4;
      a4 += 16;
      *(_DWORD *)v26 = *(_DWORD *)v27;
      v27 += 4;
      v26 += 4;
      *(_DWORD *)v26 = *(_DWORD *)v27;
      v27 += 4;
      v26 += 4;
      *(_DWORD *)v26 = *(_DWORD *)v27;
      v18 = ++v24 < v42;
      *(_DWORD *)(v26 + 4) = *(_DWORD *)(v27 + 4);
      v8 = v45;
    }
    while ( v18 );
  }
  *(_DWORD *)v8 |= 1 << (v46 & 3);
  if ( *(_DWORD *)v8 == 15 )
  {
    v28 = *(_DWORD *)(v4 + 32)
        + v48 * *(_DWORD *)(v4 + 4188)
        + *(_DWORD *)(v4 + 4220) * (*(_DWORD *)(v4 + 4280) >> 2)
        + *(_DWORD *)(v4 + 4184) * (v46 >> 2);
    v18 = *(_DWORD *)(v4 + 4280) < *(_DWORD *)(v4 + 4288);
    v49 = *(_DWORD *)(v4 + 32)
        + v48 * *(_DWORD *)(v4 + 4188)
        + *(_DWORD *)(v4 + 4220) * (*(_DWORD *)(v4 + 4280) >> 2)
        + *(_DWORD *)(v4 + 4184) * (v46 >> 2);
    v50 = *(_DWORD *)(v8 + 4);
    v44 = *(_DWORD *)(v4 + 4280);
    if ( v18 )
    {
      v38 = 0;
      v39 = 0;
      v40 = 0;
      v41 = 1;
      v42 = v46 & 0xFFFFFFFC;
      do
      {
        v29 = *(_DWORD *)(v4 + 4240) - v44;
        v30 = *(_DWORD *)(v4 + 4244) - v42;
        if ( v29 < 4 )
        {
          v47 = 0;
          if ( *(_DWORD *)(v4 + 4244) != v42 )
          {
            do
            {
              if ( v47 >= 4 )
                break;
              v31 = v29;
              do
              {
                v32 = v50 + 16 * (4 * v47 | *(&v38 + v31));
                v33 = v50 + 16 * (v31++ | 4 * v47);
                *(_DWORD *)v33 = *(_DWORD *)v32;
                v32 += 4;
                v33 += 4;
                *(_DWORD *)v33 = *(_DWORD *)v32;
                v32 += 4;
                v33 += 4;
                *(_DWORD *)v33 = *(_DWORD *)v32;
                *(_DWORD *)(v33 + 4) = *(_DWORD *)(v32 + 4);
              }
              while ( v31 < 4 );
              ++v47;
              v8 = v45;
              v28 = v49;
            }
            while ( v47 < v30 );
          }
        }
        if ( v30 < 4 )
        {
          do
          {
            v34 = 0;
            v35 = 4 * *(&v38 + v30);
            do
            {
              v36 = v50 + 16 * (v34 | 4 * v30);
              v37 = v50 + 16 * (v34++ | v35);
              *(_DWORD *)v36 = *(_DWORD *)v37;
              v37 += 4;
              v36 += 4;
              *(_DWORD *)v36 = *(_DWORD *)v37;
              v37 += 4;
              v36 += 4;
              *(_DWORD *)v36 = *(_DWORD *)v37;
              *(_DWORD *)(v36 + 4) = *(_DWORD *)(v37 + 4);
            }
            while ( v34 < 4 );
            ++v30;
          }
          while ( v30 < 4 );
          v28 = v49;
          v8 = v45;
        }
        (*(void (__stdcall **)(int, int))(v4 + 4228))(v28, v50);
        v44 += 4;
        v28 += *(_DWORD *)(v4 + 4220);
        v50 += 256;
        v49 = v28;
      }
      while ( v44 < *(_DWORD *)(v4 + 4288) );
    }
    if ( v8 + 8 >= (unsigned int)(*(_DWORD *)(v4 + 4332) + 8 * *(_DWORD *)(v4 + 4308) * *(_DWORD *)(v4 + 4312))
      || *(_DWORD *)(v8 + 8)
      || *(_DWORD *)(v8 + 12) )
    {
      j__free(*(void **)(v8 + 4));
      --*(_DWORD *)(v4 + 4328);
    }
    else
    {
      *(_DWORD *)(v8 + 12) = *(_DWORD *)(v8 + 4);
      *(_DWORD *)(v8 + 4) = 0;
    }
    *(_DWORD *)(v8 + 4) = 0;
  }
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00429B73) --------------------------------------------------------
void __thiscall sub_429B73(int this, int a2, int a3, unsigned int a4)
{
  int v4; // esi@2
  void *v5; // eax@2
  void *v6; // edi@2
  unsigned int v7; // edi@9
  int v8; // ebx@9
  int v9; // esi@9
  unsigned int v10; // eax@12
  int v11; // ebx@12
  unsigned int v12; // edx@12
  unsigned int v13; // esi@14
  unsigned int v14; // ebx@16
  float v15; // ST44_4@17
  float v16; // ST28_4@17
  float v17; // ST44_4@18
  float v18; // ST2C_4@18
  float v19; // ST44_4@19
  float v20; // ST30_4@19
  float v21; // ST44_4@20
  int v22; // [sp+38h] [bp-8h]@0
  int v23; // [sp+3Ch] [bp-4h]@1
  int v24; // [sp+48h] [bp+8h]@1
  int v25; // [sp+4Ch] [bp+Ch]@1

  v23 = this;
  v24 = *(_DWORD *)(this + 4156) + a2;
  v25 = *(_DWORD *)(this + 4168) + a3;
  if ( !*(_DWORD *)(this + 4324) )
  {
    v4 = 16 * *(_DWORD *)(this + 4304);
    v5 = operator new(*(_DWORD *)(this + 4304) << 8);
    v6 = v5;
    if ( v5 )
      'vector constructor iterator'(v5, 16, v4, sub_41AB0C);
    else
      v6 = 0;
    *(_DWORD *)(v23 + 4324) = v6;
    if ( !v6 )
      return;
    this = v23;
  }
  if ( (v24 & 0xFFFFFFFC) != *(_DWORD *)(this + 4316) || v25 != *(_DWORD *)(this + 4320) )
  {
    *(_DWORD *)(this + 4316) = v24 & 0xFFFFFFFC;
    *(_DWORD *)(v23 + 4320) = v25;
    this = v23;
    v7 = *(_DWORD *)(v23 + 4280);
    v8 = *(_DWORD *)(v23 + 4324);
    v9 = *(_DWORD *)(v23 + 32)
       + *(_DWORD *)(v23 + 4188) * *(_DWORD *)(v23 + 4320)
       + *(_DWORD *)(v23 + 4220) * (*(_DWORD *)(v23 + 4280) >> 2)
       + *(_DWORD *)(v23 + 4184) * (*(_DWORD *)(v23 + 4316) >> 2);
    while ( v7 < *(_DWORD *)(this + 4288) )
    {
      (*(void (__stdcall **)(int, int))(this + 4224))(v8, v9);
      this = v23;
      v9 += *(_DWORD *)(v23 + 4220);
      v8 += 256;
      v7 += 4;
    }
  }
  v10 = *(_DWORD *)(this + 4152) - *(_DWORD *)(this + 4280);
  v11 = (v24 - *(_DWORD *)(this + 4284)) & 3;
  v12 = v10 + *(_DWORD *)(this + 4192);
  while ( v10 < v12 )
  {
    v13 = *(_DWORD *)(this + 4324) + 16 * (v10 & 3 | 4 * (v11 | v10 & 0xFFFFFFFC));
    *(_DWORD *)a4 = *(_DWORD *)v13;
    v13 += 4;
    *(_DWORD *)(a4 + 4) = *(_DWORD *)v13;
    v13 += 4;
    *(_DWORD *)(a4 + 8) = *(_DWORD *)v13;
    *(_DWORD *)(a4 + 12) = *(_DWORD *)(v13 + 4);
    a4 += 16;
    this = v23;
    ++v10;
  }
  if ( *(_DWORD *)(this + 24) )
  {
    v14 = a4;
    a4 += -16 * *(_DWORD *)(this + 4192);
    dword_4C3E10 = v22;
    while ( a4 < v14 )
    {
      v15 = *(float *)a4 * 31.0 + 0.5;
      v16 = (double)(signed int)v15 * 0.032258064;
      if ( v16 == *(float *)(v23 + 36) )
      {
        v17 = *(float *)(a4 + 4) * 63.0 + 0.5;
        v18 = (double)(signed int)v17 * 0.015873017;
        if ( v18 == *(float *)(v23 + 40) )
        {
          v19 = *(float *)(a4 + 8) * 31.0 + 0.5;
          v20 = (double)(signed int)v19 * 0.032258064;
          if ( v20 == *(float *)(v23 + 44) )
          {
            v21 = *(float *)(v23 + 4212) * *(float *)(a4 + 12) + 0.5;
            if ( (double)(signed int)v21 * *(float *)(v23 + 4216) == *(float *)(v23 + 48) )
            {
              *(float *)a4 = 0.0;
              *(float *)(a4 + 4) = 0.0;
              *(float *)(a4 + 8) = 0.0;
              *(float *)(a4 + 12) = 0.0;
            }
          }
        }
      }
      a4 += 16;
    }
    this = v23;
  }
  if ( *(_DWORD *)(this + 16) )
    sub_42427B(this, a4 - 16 * *(_DWORD *)(this + 4192));
}
// 413C20: using guessed type _DWORD __stdcall 'vector constructor iterator'(_DWORD, _DWORD, _DWORD, _DWORD);
// 4C3E10: using guessed type int dword_4C3E10;

//----- (00429E32) --------------------------------------------------------
void __thiscall sub_429E32(void *this)
{
  int v1; // esi@1

  v1 = (int)this;
  *(_DWORD *)this = &off_48C870;
  sub_428C1E((int)this);
  if ( *(_DWORD *)(v1 + 4212) )
    j__free(*(void **)(v1 + 4212));
  sub_4233D0(v1);
}
// 48C870: using guessed type int (__thiscall *off_48C870)(void *, char);

//----- (00429E59) --------------------------------------------------------
char *__thiscall sub_429E59(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_428AD8(this, a2);
  *(_DWORD *)v2 = &off_48C98C;
  return v2;
}
// 48C98C: using guessed type int (__thiscall *off_48C98C)(void *, char);

//----- (00429E71) --------------------------------------------------------
char *__thiscall sub_429E71(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_428AD8(this, a2);
  *(_DWORD *)v2 = &off_48C99C;
  return v2;
}
// 48C99C: using guessed type int (__thiscall *off_48C99C)(void *, char);

//----- (00429E89) --------------------------------------------------------
char *__thiscall sub_429E89(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_428AD8(this, a2);
  *(_DWORD *)v2 = &off_48C9AC;
  return v2;
}
// 48C9AC: using guessed type int (__thiscall *off_48C9AC)(void *, char);

//----- (00429EA1) --------------------------------------------------------
char *__thiscall sub_429EA1(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_428AD8(this, a2);
  *(_DWORD *)v2 = &off_48C9BC;
  return v2;
}
// 48C9BC: using guessed type int (__thiscall *off_48C9BC)(void *, char);

//----- (00429EB9) --------------------------------------------------------
char *__thiscall sub_429EB9(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_4294FA(this, a2);
  *(_DWORD *)v2 = &off_48C9CC;
  return v2;
}
// 48C9CC: using guessed type int (__thiscall *off_48C9CC)(void *, char);

//----- (00429ED1) --------------------------------------------------------
char *__thiscall sub_429ED1(char *this, int a2)
{
  char *v2; // esi@1

  v2 = this;
  sub_4294FA(this, a2);
  *(_DWORD *)v2 = &off_48C9DC;
  return v2;
}
// 48C9DC: using guessed type int (__thiscall *off_48C9DC)(void *, char);

//----- (00429EE9) --------------------------------------------------------
void *__thiscall sub_429EE9(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_4239AA((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00429F05) --------------------------------------------------------
char *__stdcall sub_429F05(int a1)
{
  signed int v1; // eax@1
  char *v2; // esi@1
  char *v3; // eax@6
  char *v4; // eax@7
  char *v5; // eax@8
  char *v6; // eax@10
  char *v7; // eax@12
  char *v8; // eax@14
  char *v9; // eax@16
  char *v10; // eax@18
  char *v11; // eax@20
  char *v12; // eax@22
  char *v13; // eax@24
  char *v14; // eax@26
  char *v15; // eax@28
  char *v16; // eax@30
  char *v17; // eax@32
  char *v18; // eax@34
  char *v19; // eax@36
  char *v20; // eax@38
  char *v21; // eax@40
  char *v22; // eax@42
  char *v23; // eax@44
  int v24; // eax@50
  int v25; // eax@51
  int v26; // eax@52
  char *v27; // eax@54
  char *v28; // eax@56
  char *v29; // eax@58
  char *v30; // eax@60
  char *v31; // eax@62
  int v32; // eax@64
  int v33; // eax@65
  int v34; // eax@66
  char *v35; // eax@68
  char *v36; // eax@70
  char *v37; // eax@72
  char *v38; // eax@74
  char *v39; // eax@76
  int v40; // eax@80
  int v41; // eax@81
  int v42; // eax@82
  char *v43; // eax@84
  char *v44; // eax@86
  char *v45; // eax@88
  char *v46; // eax@90
  char *v47; // eax@92
  int v48; // eax@94
  int v49; // eax@95
  int v50; // eax@96
  char *v51; // eax@98
  char *v52; // eax@100
  char *v53; // eax@102
  char *v54; // eax@104
  char *v55; // eax@106
  char *v56; // eax@115
  char *v57; // eax@117
  char *v58; // eax@119
  char *v59; // eax@121
  char *v60; // eax@123
  char *v61; // eax@125
  char *v62; // eax@131
  char *v63; // eax@133
  char *v64; // eax@135
  char *v65; // eax@137

  v1 = *(_DWORD *)(a1 + 4);
  v2 = 0;
  if ( v1 > 827611204 )
  {
    if ( v1 > 909200449 )
    {
      switch ( v1 )
      {
        case 909201952:
          v65 = (char *)operator new(0x1074u);
          if ( v65 )
          {
            v4 = sub_4293C1(v65, a1);
            goto LABEL_139;
          }
          break;
        case 1111970375:
          v64 = (char *)operator new(0x10A4u);
          if ( v64 )
          {
            v4 = sub_429E71(v64, a1);
            goto LABEL_139;
          }
          break;
        case 1195525970:
          v63 = (char *)operator new(0x10A4u);
          if ( v63 )
          {
            v4 = sub_429EA1(v63, a1);
            goto LABEL_139;
          }
          break;
        default:
          if ( v1 != 1498831189 )
            return v2;
          v62 = (char *)operator new(0x10A4u);
          if ( v62 )
          {
            v4 = sub_429E59(v62, a1);
            goto LABEL_139;
          }
          break;
      }
    }
    else
    {
      switch ( v1 )
      {
        case 909200449:
          v61 = (char *)operator new(0x1074u);
          if ( v61 )
          {
            v4 = sub_4293A5(v61, a1);
            goto LABEL_139;
          }
          break;
        case 844388420:
          v60 = (char *)operator new(0x10F0u);
          if ( v60 )
          {
            v4 = sub_429ED1(v60, a1);
            goto LABEL_139;
          }
          break;
        case 844715353:
          v59 = (char *)operator new(0x10A4u);
          if ( v59 )
          {
            v4 = sub_429E89(v59, a1);
            goto LABEL_139;
          }
          break;
        case 861165636:
          v58 = (char *)operator new(0x10F0u);
          if ( v58 )
          {
            v4 = sub_4296E6(v58, a1);
            goto LABEL_139;
          }
          break;
        case 877942852:
          v57 = (char *)operator new(0x10F0u);
          if ( v57 )
          {
            v4 = sub_4296FE(v57, a1);
            goto LABEL_139;
          }
          break;
        default:
          if ( v1 != 894720068 )
            return v2;
          v56 = (char *)operator new(0x10F0u);
          if ( v56 )
          {
            v4 = sub_429716(v56, a1);
            goto LABEL_139;
          }
          break;
      }
    }
    goto LABEL_140;
  }
  if ( v1 == 827611204 )
  {
    v55 = (char *)operator new(0x10F0u);
    if ( v55 )
    {
      v4 = sub_429EB9(v55, a1);
      goto LABEL_139;
    }
    goto LABEL_140;
  }
  if ( v1 > 50 )
  {
    if ( v1 > 81 )
    {
      if ( v1 > 113 )
      {
        v48 = v1 - 114;
        if ( v48 )
        {
          v49 = v48 - 1;
          if ( v49 )
          {
            v50 = v49 - 1;
            if ( v50 )
            {
              if ( v50 != 1 )
                return v2;
              v51 = (char *)operator new(0x1074u);
              if ( v51 )
              {
                v4 = sub_428ABC(v51, a1);
                goto LABEL_139;
              }
            }
            else
            {
              v52 = (char *)operator new(0x1074u);
              if ( v52 )
              {
                v4 = sub_429386(v52, a1);
                goto LABEL_139;
              }
            }
          }
          else
          {
            v53 = (char *)operator new(0x1074u);
            if ( v53 )
            {
              v4 = sub_428F9E(v53, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v54 = (char *)operator new(0x1074u);
          if ( v54 )
          {
            v4 = sub_428F82(v54, a1);
            goto LABEL_139;
          }
        }
      }
      else if ( v1 == 113 )
      {
        v47 = (char *)operator new(0x1074u);
        if ( v47 )
        {
          v4 = sub_428F4A(v47, a1);
          goto LABEL_139;
        }
      }
      else
      {
        v40 = v1 - 82;
        if ( v40 )
        {
          v41 = v40 - 28;
          if ( v41 )
          {
            v42 = v41 - 1;
            if ( v42 )
            {
              if ( v42 != 1 )
                return v2;
              v43 = (char *)operator new(0x1074u);
              if ( v43 )
              {
                v4 = sub_428F2E(v43, a1);
                goto LABEL_139;
              }
            }
            else
            {
              v44 = (char *)operator new(0x1074u);
              if ( v44 )
              {
                v4 = sub_428C02(v44, a1);
                goto LABEL_139;
              }
            }
          }
          else
          {
            v45 = (char *)operator new(0x1074u);
            if ( v45 )
            {
              v4 = sub_4289FB(v45, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v46 = (char *)operator new(0x1074u);
          if ( v46 )
          {
            v4 = sub_428BE6(v46, a1);
            goto LABEL_139;
          }
        }
      }
    }
    else if ( v1 == 81 )
    {
      v39 = (char *)operator new(0x1074u);
      if ( v39 )
      {
        v4 = sub_4285B8(v39, a1);
        goto LABEL_139;
      }
    }
    else if ( v1 > 62 )
    {
      v32 = v1 - 63;
      if ( v32 )
      {
        v33 = v32 - 1;
        if ( v33 )
        {
          v34 = v33 - 3;
          if ( v34 )
          {
            if ( v34 != 3 )
              return v2;
            v35 = (char *)operator new(0x1074u);
            if ( v35 )
            {
              v4 = sub_428BCA(v35, a1);
              goto LABEL_139;
            }
          }
          else
          {
            v36 = (char *)operator new(0x1074u);
            if ( v36 )
            {
              v4 = sub_4289DF(v36, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v37 = (char *)operator new(0x1074u);
          if ( v37 )
          {
            v4 = sub_428839(v37, a1);
            goto LABEL_139;
          }
        }
      }
      else
      {
        v38 = (char *)operator new(0x1074u);
        if ( v38 )
        {
          v4 = sub_4287C6(v38, a1);
          goto LABEL_139;
        }
      }
    }
    else if ( v1 == 62 )
    {
      v31 = (char *)operator new(0x1074u);
      if ( v31 )
      {
        v4 = sub_42871D(v31, a1);
        goto LABEL_139;
      }
    }
    else
    {
      v24 = v1 - 51;
      if ( v24 )
      {
        v25 = v24 - 1;
        if ( v25 )
        {
          v26 = v25 - 8;
          if ( v26 )
          {
            if ( v26 != 1 )
              return v2;
            v27 = (char *)operator new(0x1074u);
            if ( v27 )
            {
              v4 = sub_428701(v27, a1);
              goto LABEL_139;
            }
          }
          else
          {
            v28 = (char *)operator new(0x1074u);
            if ( v28 )
            {
              v4 = sub_428654(v28, a1);
              goto LABEL_139;
            }
          }
        }
        else
        {
          v29 = (char *)operator new(0x1074u);
          if ( v29 )
          {
            v4 = sub_42859C(v29, a1);
            goto LABEL_139;
          }
        }
      }
      else
      {
        v30 = (char *)operator new(0x1074u);
        if ( v30 )
        {
          v4 = sub_428580(v30, a1);
          goto LABEL_139;
        }
      }
    }
LABEL_140:
    v2 = 0;
    goto LABEL_141;
  }
  if ( v1 == 50 )
  {
    v23 = (char *)operator new(0x1074u);
    if ( v23 )
    {
      v4 = sub_428483(v23, a1);
LABEL_139:
      v2 = v4;
LABEL_141:
      if ( v2 && *((_DWORD *)v2 + 6) )
        (*(void (__thiscall **)(char *))(*(_DWORD *)v2 + 12))(v2);
      return v2;
    }
    goto LABEL_140;
  }
  switch ( v1 )
  {
    case 20:
      v3 = (char *)operator new(0x1074u);
      if ( !v3 )
        goto LABEL_140;
      v4 = sub_427802(v3, a1);
      goto LABEL_139;
    case 21:
      v5 = (char *)operator new(0x1074u);
      if ( !v5 )
        goto LABEL_140;
      v4 = sub_4278D2(v5, a1);
      goto LABEL_139;
    case 22:
      v6 = (char *)operator new(0x1074u);
      if ( !v6 )
        goto LABEL_140;
      v4 = sub_42798B(v6, a1);
      goto LABEL_139;
    case 23:
      v7 = (char *)operator new(0x1074u);
      if ( !v7 )
        goto LABEL_140;
      v4 = sub_4279A7(v7, a1);
      goto LABEL_139;
    case 24:
      v8 = (char *)operator new(0x1074u);
      if ( !v8 )
        goto LABEL_140;
      v4 = sub_427A3F(v8, a1);
      goto LABEL_139;
    case 25:
      v9 = (char *)operator new(0x1074u);
      if ( !v9 )
        goto LABEL_140;
      v4 = sub_427AE2(v9, a1);
      goto LABEL_139;
    case 26:
      v10 = (char *)operator new(0x1074u);
      if ( !v10 )
        goto LABEL_140;
      v4 = sub_427B9C(v10, a1);
      goto LABEL_139;
    case 27:
      v11 = (char *)operator new(0x1074u);
      if ( !v11 )
        goto LABEL_140;
      v4 = sub_427C56(v11, a1);
      goto LABEL_139;
    case 28:
      v12 = (char *)operator new(0x1074u);
      if ( !v12 )
        goto LABEL_140;
      v4 = sub_427CFB(v12, a1);
      goto LABEL_139;
    case 29:
      v13 = (char *)operator new(0x1074u);
      if ( !v13 )
        goto LABEL_140;
      v4 = sub_427DD2(v13, a1);
      goto LABEL_139;
    case 30:
      v14 = (char *)operator new(0x1074u);
      if ( !v14 )
        goto LABEL_140;
      v4 = sub_427DEE(v14, a1);
      goto LABEL_139;
    case 31:
      v15 = (char *)operator new(0x1074u);
      if ( !v15 )
        goto LABEL_140;
      v4 = sub_427EEA(v15, a1);
      goto LABEL_139;
    case 32:
      v16 = (char *)operator new(0x1074u);
      if ( !v16 )
        goto LABEL_140;
      v4 = sub_427FD2(v16, a1);
      goto LABEL_139;
    case 33:
      v17 = (char *)operator new(0x1074u);
      if ( !v17 )
        goto LABEL_140;
      v4 = sub_427FEE(v17, a1);
      goto LABEL_139;
    case 34:
      v18 = (char *)operator new(0x1074u);
      if ( !v18 )
        goto LABEL_140;
      v4 = sub_428105(v18, a1);
      goto LABEL_139;
    case 35:
      v19 = (char *)operator new(0x1074u);
      if ( !v19 )
        goto LABEL_140;
      v4 = sub_4281E3(v19, a1);
      goto LABEL_139;
    case 36:
      v20 = (char *)operator new(0x1074u);
      if ( !v20 )
        goto LABEL_140;
      v4 = sub_4281FF(v20, a1);
      goto LABEL_139;
    case 40:
      v21 = (char *)operator new(0x1074u);
      if ( !v21 )
        goto LABEL_140;
      v4 = sub_428334(v21, a1);
      goto LABEL_139;
    case 41:
      v22 = (char *)operator new(0x1074u);
      if ( !v22 )
        goto LABEL_140;
      v4 = sub_428350(v22, a1);
      goto LABEL_139;
    default:
      return v2;
  }
  return v2;
}

//----- (0042A6B1) --------------------------------------------------------
void *__thiscall sub_42A6B1(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_429E32(this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042A6CD) --------------------------------------------------------
BOOL __stdcall sub_42A6CD(float a1, float a2)
{
  double v2; // st7@1

  v2 = a1 - a2;
  return v2 >= -0.00000011920929 && v2 <= 0.00000011920929;
}

//----- (0042A6FD) --------------------------------------------------------
int sub_42A6FD()
{
  sub_42F98A(1u);
  return off_4B262C();
}
// 4B262C: using guessed type int (*off_4B262C)(void);

//----- (0042A710) --------------------------------------------------------
int __stdcall sub_42A710(int a1, int a2, unsigned int a3)
{
  int result; // eax@1
  unsigned int v4; // edi@1
  unsigned int v5; // edx@2
  int v6; // esi@2
  int v7; // ecx@3
  unsigned int v8; // edx@5
  unsigned int v9; // ecx@5

  result = a1;
  v4 = 0;
  if ( a3 )
  {
    do
    {
      v5 = *(_DWORD *)(a2 + 4 * v4) & 0x7FFFFFFF;
      v6 = (*(_DWORD *)(a2 + 4 * v4) >> 16) & 0x8000;
      if ( v5 <= 0x47FFEFFF )
      {
        if ( v5 >= 0x38800000 )
        {
          v9 = ((v5 >> 13) & 1) + v5 - 939520001;
        }
        else
        {
          v8 = (*(_DWORD *)(a2 + 4 * v4) & 0x7FFFFF | 0x800000u) >> (113
                                                                   - ((*(_DWORD *)(a2 + 4 * v4) & 0x7FFFFFFFu) >> 23));
          v9 = ((v8 >> 13) & 1) + v8 + 4095;
        }
        v7 = v6 | (v9 >> 13);
      }
      else
      {
        LOWORD(v7) = v6 | 0x7FFF;
      }
      *(_WORD *)(a1 + 2 * v4++) = v7;
    }
    while ( v4 < a3 );
  }
  return result;
}

//----- (0042A79F) --------------------------------------------------------
int sub_42A79F()
{
  sub_42F98A(1u);
  return off_4B2630();
}
// 4B2630: using guessed type int (*off_4B2630)(void);

//----- (0042A7B2) --------------------------------------------------------
int __stdcall sub_42A7B2(int a1, int a2, unsigned int a3)
{
  unsigned int v3; // ebx@1
  int v4; // ecx@2
  signed int v5; // edi@4
  int i; // edx@4
  unsigned int v7; // ecx@7
  unsigned int v8; // edx@8

  v3 = 0;
  if ( a3 )
  {
    do
    {
      v4 = *(_WORD *)(a2 + 2 * v3);
      if ( v4 & 0xFFFF7C00 )
      {
        v8 = (((((unsigned int)*(_WORD *)(a2 + 2 * v3) >> 10) & 0x1F) + 112) << 23) | ((*(_WORD *)(a2 + 2 * v3) & 0x3FF | 8 * (*(_WORD *)(a2 + 2 * v3) & 0x8000)) << 13);
      }
      else
      {
        if ( *(_WORD *)(a2 + 2 * v3) & 0x3FF )
        {
          v5 = -14;
          for ( i = v4 & 0x3FF; !(i & 0x400); i *= 2 )
            --v5;
          v7 = ((v5 + 127) << 23) | (((i | 8 * (*(_WORD *)(a2 + 2 * v3) & 0x8080)) & 0xFFFFFBFF) << 13);
        }
        else
        {
          v7 = (unsigned __int16)(*(_WORD *)(a2 + 2 * v3) & 0x8000) << 16;
        }
        v8 = v7;
      }
      *(_DWORD *)(a1 + 4 * v3++) = v8;
    }
    while ( v3 < a3 );
  }
  return a1;
}

//----- (0042A857) --------------------------------------------------------
int sub_42A857()
{
  sub_42F98A(1u);
  return off_4B2600();
}
// 4B2600: using guessed type int (*off_4B2600)(void);

//----- (0042A864) --------------------------------------------------------
int __stdcall sub_42A864(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B258C(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B258C: using guessed type int (__stdcall *off_4B258C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042A88E) --------------------------------------------------------
int __stdcall sub_42A88E(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8 + v8 - v6 * 3.0 + 1.0;
  v10 = v8 - (v6 + v6) + a6;
  v12 = v6 * 3.0 - (v8 + v8);
  v11 = v8 - v6;
  *(float *)a1 = v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5;
  *(float *)(a1 + 4) = v11 * *(float *)(a5 + 4)
                     + v12 * *(float *)(a4 + 4)
                     + v10 * *(float *)(a3 + 4)
                     + v9 * *(float *)(a2 + 4);
  return result;
}

//----- (0042A91C) --------------------------------------------------------
int __stdcall sub_42A91C(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B2604(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B2604: using guessed type int (__stdcall *off_4B2604)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042A946) --------------------------------------------------------
int __stdcall sub_42A946(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  return result;
}

//----- (0042A9F5) --------------------------------------------------------
int __stdcall sub_42A9F5(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_42F98A(1u);
  return off_4B2608(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 4B2608: using guessed type int (__stdcall *off_4B2608)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042AA24) --------------------------------------------------------
int __stdcall sub_42AA24(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int result; // eax@1

  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(a2 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(a2 + 4)) * a6
                     + *(float *)(a2 + 4);
  return result;
}

//----- (0042AA67) --------------------------------------------------------
int sub_42AA67()
{
  sub_42F98A(1u);
  return off_4B2548();
}
// 4B2548: invalid function type has been ignored
// 4B2548: using guessed type int (*off_4B2548)(void);

//----- (0042AA7A) --------------------------------------------------------
int sub_42AA7A()
{
  sub_42F98A(1u);
  return off_4B2634();
}
// 4B2634: using guessed type int (*off_4B2634)(void);

//----- (0042AA8B) --------------------------------------------------------
int sub_42AA8B()
{
  sub_42F98A(1u);
  return off_4B256C();
}
// 4B256C: using guessed type int (*off_4B256C)(void);

//----- (0042AA9E) --------------------------------------------------------
int sub_42AA9E()
{
  sub_42F98A(1u);
  return off_4B2638();
}
// 4B2638: using guessed type int (*off_4B2638)(void);

//----- (0042AAAF) --------------------------------------------------------
int sub_42AAAF()
{
  sub_42F98A(1u);
  return off_4B255C();
}
// 4B255C: using guessed type int (*off_4B255C)(void);

//----- (0042AAC2) --------------------------------------------------------
int sub_42AAC2()
{
  sub_42F98A(1u);
  return off_4B263C();
}
// 4B263C: using guessed type int (*off_4B263C)(void);

//----- (0042AAD3) --------------------------------------------------------
int sub_42AAD3()
{
  sub_42F98A(1u);
  return off_4B2564();
}
// 4B2564: using guessed type int (*off_4B2564)(void);

//----- (0042AAE6) --------------------------------------------------------
int __stdcall sub_42AAE6(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B260C(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B260C: using guessed type int (__stdcall *off_4B260C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042AB10) --------------------------------------------------------
int __stdcall sub_42AB10(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8 + v8 - v6 * 3.0 + 1.0;
  v10 = v8 - (v6 + v6) + a6;
  v12 = v6 * 3.0 - (v8 + v8);
  v11 = v8 - v6;
  *(float *)a1 = v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5;
  *(float *)(a1 + 4) = v11 * *(float *)(a5 + 4)
                     + v12 * *(float *)(a4 + 4)
                     + v10 * *(float *)(a3 + 4)
                     + v9 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v11 * *(float *)(a5 + 8)
                     + v12 * *(float *)(a4 + 8)
                     + v10 * *(float *)(a3 + 8)
                     + v9 * *(float *)(a2 + 8);
  return result;
}

//----- (0042ABBE) --------------------------------------------------------
int __stdcall sub_42ABBE(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B2610(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B2610: using guessed type int (__stdcall *off_4B2610)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042ABE8) --------------------------------------------------------
int __stdcall sub_42ABE8(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  *(float *)(a1 + 8) = (v11 * *(float *)(a5 + 8)
                      + v12 * *(float *)(a4 + 8)
                      + v10 * *(float *)(a3 + 8)
                      + v9 * *(float *)(a2 + 8))
                     * 0.5;
  return result;
}

//----- (0042ACB9) --------------------------------------------------------
int __stdcall sub_42ACB9(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_42F98A(1u);
  return off_4B2614(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 4B2614: using guessed type int (__stdcall *off_4B2614)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042ACE8) --------------------------------------------------------
int __stdcall sub_42ACE8(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // ecx@1
  int result; // eax@1

  v6 = a2;
  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(v6 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(v6 + 4)) * a6
                     + *(float *)(v6 + 4);
  *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(v6 + 8)) * a5
                     + (*(float *)(a4 + 8) - *(float *)(a2 + 8)) * a6
                     + *(float *)(v6 + 8);
  return result;
}

//----- (0042AD45) --------------------------------------------------------
int sub_42AD45()
{
  sub_42F98A(1u);
  return off_4B254C();
}
// 4B254C: using guessed type int (*off_4B254C)(void);

//----- (0042AD52) --------------------------------------------------------
int __stdcall sub_42AD52(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)a2 * *(float *)a3
     + *(float *)(a3 + 48);
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 52);
  v5 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 56);
  result = a1;
  v7 = *(float *)(a3 + 44) * *(float *)(a2 + 8)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 60);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (0042ADDD) --------------------------------------------------------
int sub_42ADDD()
{
  sub_42F98A(1u);
  return off_4B2640();
}
// 4B2640: using guessed type int (*off_4B2640)(void);

//----- (0042ADEE) --------------------------------------------------------
int __stdcall sub_42ADEE(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // edx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4)
          + *(float *)(a5 + 32) * *(float *)(v8 + 8)
          + *(float *)v8 * *(float *)a5
          + *(float *)(a5 + 48);
      v11 = *(float *)(a5 + 4) * *(float *)v8
          + *(float *)(a5 + 20) * *(float *)(v8 + 4)
          + *(float *)(a5 + 36) * *(float *)(v8 + 8)
          + *(float *)(a5 + 52);
      v12 = *(float *)(v8 + 8) * *(float *)(a5 + 40)
          + *(float *)v8 * *(float *)(a5 + 8)
          + *(float *)(v8 + 4) * *(float *)(a5 + 24)
          + *(float *)(a5 + 56);
      v13 = *(float *)(a5 + 12) * *(float *)v8 + *(float *)(a5 + 28) * *(float *)(v8 + 4);
      v14 = *(float *)(a5 + 44) * *(float *)(v8 + 8);
      v8 += a4;
      --v6;
      v15 = v13 + v14 + *(float *)(a5 + 60);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (0042AE95) --------------------------------------------------------
int sub_42AE95()
{
  sub_42F98A(1u);
  return off_4B2570();
}
// 4B2570: using guessed type int (*off_4B2570)(void);

//----- (0042AEA8) --------------------------------------------------------
int sub_42AEA8()
{
  sub_42F98A(1u);
  return off_4B2644();
}
// 4B2644: using guessed type int (*off_4B2644)(void);

//----- (0042AEBF) --------------------------------------------------------
int sub_42AEBF()
{
  sub_42F98A(1u);
  return off_4B2560();
}
// 4B2560: using guessed type int (*off_4B2560)(void);

//----- (0042AED2) --------------------------------------------------------
int __stdcall sub_42AED2(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  int result; // eax@1
  float v6; // ST10_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8) + *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2;
  result = a1;
  v6 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2;
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v6;
  return result;
}

//----- (0042AF38) --------------------------------------------------------
int sub_42AF38()
{
  sub_42F98A(1u);
  return off_4B2648();
}
// 4B2648: using guessed type int (*off_4B2648)(void);

//----- (0042AF49) --------------------------------------------------------
int __stdcall sub_42AF49(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // ecx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  double v12; // st7@3
  double v13; // st6@3
  float v14; // ST14_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4)
          + *(float *)(a5 + 32) * *(float *)(v8 + 8)
          + *(float *)v8 * *(float *)a5;
      v11 = *(float *)(a5 + 4) * *(float *)v8
          + *(float *)(a5 + 20) * *(float *)(v8 + 4)
          + *(float *)(a5 + 36) * *(float *)(v8 + 8);
      v12 = *(float *)(v8 + 8) * *(float *)(a5 + 40) + *(float *)v8 * *(float *)(a5 + 8);
      v13 = *(float *)(v8 + 4);
      v8 += a4;
      --v6;
      v14 = v12 + v13 * *(float *)(a5 + 24);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      *(float *)(v9 + 4) = v14;
    }
    while ( v6 );
  }
  return a1;
}

//----- (0042AFC7) --------------------------------------------------------
int sub_42AFC7()
{
  sub_42F98A(1u);
  return off_4B2580();
}
// 4B2580: using guessed type int (*off_4B2580)(void);

//----- (0042AFD8) --------------------------------------------------------
int sub_42AFD8()
{
  sub_42F98A(1u);
  return off_4B2650();
}
// 4B2650: using guessed type int (*off_4B2650)(void);

//----- (0042AFE9) --------------------------------------------------------
int sub_42AFE9()
{
  sub_42F98A(1u);
  return off_4B2584();
}
// 4B2584: using guessed type int (*off_4B2584)(void);

//----- (0042AFFA) --------------------------------------------------------
int sub_42AFFA()
{
  sub_42F98A(1u);
  return off_4B2654();
}
// 4B2654: using guessed type int (*off_4B2654)(void);

//----- (0042B00B) --------------------------------------------------------
int sub_42B00B()
{
  sub_42F98A(1u);
  return off_4B2588();
}
// 4B2588: using guessed type int (*off_4B2588)(void);

//----- (0042B018) --------------------------------------------------------
int __stdcall sub_42B018(int a1, int a2, int a3, int a4)
{
  int v4; // ecx@1
  int v5; // eax@1
  double v6; // st7@1
  int v7; // edx@1
  double v8; // st6@1
  float v9; // ST1C_4@1
  float v10; // ST20_4@1
  float v11; // ST08_4@1
  float v12; // ST18_4@1
  float v13; // ST0C_4@1
  double v14; // st7@1
  double v15; // st6@1
  float v16; // ST10_4@1
  int result; // eax@1
  float v18; // ST14_4@1
  float v19; // [sp+30h] [bp+Ch]@1
  float v20; // [sp+34h] [bp+10h]@1
  float v21; // [sp+38h] [bp+14h]@1

  v4 = a4;
  v5 = a3;
  v6 = *(float *)(a4 + 12) * *(float *)(a3 + 8);
  v7 = a2;
  v8 = *(float *)(a3 + 12) * *(float *)(a4 + 8);
  v20 = *(float *)(a4 + 12) * *(float *)(a3 + 4) - *(float *)(a3 + 12) * *(float *)(a4 + 4);
  v9 = *(float *)(v5 + 4) * *(float *)(a4 + 8);
  v10 = *(float *)(v5 + 8) * *(float *)(a4 + 4);
  v11 = (v6 - v8) * *(float *)(a2 + 4) - v20 * *(float *)(a2 + 8) + (v9 - v10) * *(float *)(a2 + 12);
  v19 = *(float *)(v5 + 12) * *(float *)a4;
  v21 = *(float *)(a4 + 12) * *(float *)v5;
  v12 = *(float *)v4 * *(float *)(v5 + 8) - *(float *)v5 * *(float *)(v4 + 8);
  v13 = (v8 - v6) * *(float *)v7 - (v19 - v21) * *(float *)(v7 + 8) + v12 * *(float *)(v7 + 12);
  v14 = *(float *)v5 * *(float *)(v4 + 4);
  v15 = *(float *)v4 * *(float *)(v5 + 4);
  v16 = v20 * *(float *)v7 - (v21 - v19) * *(float *)(v7 + 4) + (v14 - v15) * *(float *)(v7 + 12);
  result = a1;
  v18 = (v10 - v9) * *(float *)v7 - v12 * *(float *)(v7 + 4) + (v15 - v14) * *(float *)(v7 + 8);
  *(float *)a1 = v11;
  *(float *)(a1 + 4) = v13;
  *(float *)(a1 + 8) = v16;
  *(float *)(a1 + 12) = v18;
  return result;
}

//----- (0042B108) --------------------------------------------------------
int sub_42B108()
{
  sub_42F98A(1u);
  return off_4B2568();
}
// 4B2568: using guessed type int (*off_4B2568)(void);

//----- (0042B115) --------------------------------------------------------
int __stdcall sub_42B115(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B2618(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B2618: using guessed type int (__stdcall *off_4B2618)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042B13F) --------------------------------------------------------
int __stdcall sub_42B13F(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST10_4@1
  float v10; // ST08_4@1
  float v11; // ST0C_4@1
  double v12; // st6@1
  double v13; // st5@1
  double v14; // st4@1
  double v15; // st3@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v8;
  v10 = v8 + v8;
  v11 = 3.0 * v6;
  v12 = v10 - v11 + 1.0;
  v13 = v9 - (v6 + v6) + a6;
  v14 = v11 - v10;
  v15 = v9 - v6;
  *(float *)a1 = v12 * *(float *)a2 + v13 * *(float *)a3 + v14 * *(float *)a4 + v15 * *(float *)a5;
  *(float *)(a1 + 4) = v15 * *(float *)(a5 + 4)
                     + v14 * *(float *)(a4 + 4)
                     + v13 * *(float *)(a3 + 4)
                     + v12 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v15 * *(float *)(a5 + 8)
                     + v14 * *(float *)(a4 + 8)
                     + v13 * *(float *)(a3 + 8)
                     + v12 * *(float *)(a2 + 8);
  *(float *)(a1 + 12) = v15 * *(float *)(a5 + 12)
                      + v14 * *(float *)(a4 + 12)
                      + v13 * *(float *)(a3 + 12)
                      + v12 * *(float *)(a2 + 12);
  return result;
}

//----- (0042B210) --------------------------------------------------------
int __stdcall sub_42B210(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B261C(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B261C: using guessed type int (__stdcall *off_4B261C)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042B23A) --------------------------------------------------------
int __stdcall sub_42B23A(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@1
  int result; // eax@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  float v12; // [sp+24h] [bp+1Ch]@1

  v6 = a6 * a6;
  result = a1;
  v8 = a6 * v6;
  v9 = v6 * 2.0 - v8 - a6;
  v10 = v8 * 3.0 - v6 * 5.0 + 2.0;
  v12 = v6 * 4.0 - v8 * 3.0 + a6;
  v11 = v8 - v6;
  *(float *)a1 = (v9 * *(float *)a2 + v10 * *(float *)a3 + v12 * *(float *)a4 + v11 * *(float *)a5) * 0.5;
  *(float *)(a1 + 4) = (v11 * *(float *)(a5 + 4)
                      + v12 * *(float *)(a4 + 4)
                      + v10 * *(float *)(a3 + 4)
                      + v9 * *(float *)(a2 + 4))
                     * 0.5;
  *(float *)(a1 + 8) = (v11 * *(float *)(a5 + 8)
                      + v12 * *(float *)(a4 + 8)
                      + v10 * *(float *)(a3 + 8)
                      + v9 * *(float *)(a2 + 8))
                     * 0.5;
  *(float *)(a1 + 12) = (v11 * *(float *)(a5 + 12)
                       + v12 * *(float *)(a4 + 12)
                       + v10 * *(float *)(a3 + 12)
                       + v9 * *(float *)(a2 + 12))
                      * 0.5;
  return result;
}

//----- (0042B32D) --------------------------------------------------------
int __stdcall sub_42B32D(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_42F98A(1u);
  return off_4B2620(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 4B2620: using guessed type int (__stdcall *off_4B2620)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042B35C) --------------------------------------------------------
int __stdcall sub_42B35C(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // ecx@1
  int result; // eax@1

  v6 = a2;
  result = a1;
  *(float *)a1 = (*(float *)a3 - *(float *)a2) * a5 + (*(float *)a4 - *(float *)a2) * a6 + *(float *)a2;
  *(float *)(a1 + 4) = (*(float *)(a3 + 4) - *(float *)(v6 + 4)) * a5
                     + (*(float *)(a4 + 4) - *(float *)(v6 + 4)) * a6
                     + *(float *)(v6 + 4);
  *(float *)(a1 + 8) = (*(float *)(a3 + 8) - *(float *)(v6 + 8)) * a5
                     + (*(float *)(a4 + 8) - *(float *)(v6 + 8)) * a6
                     + *(float *)(v6 + 8);
  *(float *)(a1 + 12) = (*(float *)(a3 + 12) - *(float *)(v6 + 12)) * a5
                      + (*(float *)(a4 + 12) - *(float *)(a2 + 12)) * a6
                      + *(float *)(v6 + 12);
  return result;
}

//----- (0042B3D3) --------------------------------------------------------
int sub_42B3D3()
{
  sub_42F98A(1u);
  return off_4B2550();
}
// 4B2550: using guessed type int (*off_4B2550)(void);

//----- (0042B3E0) --------------------------------------------------------
int __stdcall sub_42B3E0(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 48) * *(float *)(a2 + 12)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 52) * *(float *)(a2 + 12)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 36) * *(float *)(a2 + 8);
  v5 = *(float *)(a3 + 56) * *(float *)(a2 + 12)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 40) * *(float *)(a2 + 8);
  result = a1;
  v7 = *(float *)(a3 + 60) * *(float *)(a2 + 12)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 44) * *(float *)(a2 + 8);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (0042B47F) --------------------------------------------------------
int sub_42B47F()
{
  sub_42F98A(1u);
  return off_4B264C();
}
// 4B264C: using guessed type int (*off_4B264C)(void);

//----- (0042B490) --------------------------------------------------------
int __stdcall sub_42B490(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // ecx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4)
          + *(float *)(a5 + 32) * *(float *)(v8 + 8)
          + *(float *)(v8 + 12) * *(float *)(a5 + 48)
          + *(float *)v8 * *(float *)a5;
      v11 = *(float *)(a5 + 20) * *(float *)(v8 + 4)
          + *(float *)(a5 + 52) * *(float *)(v8 + 12)
          + *(float *)(a5 + 36) * *(float *)(v8 + 8)
          + *(float *)v8 * *(float *)(a5 + 4);
      v12 = *(float *)(a5 + 8) * *(float *)v8
          + *(float *)(a5 + 24) * *(float *)(v8 + 4)
          + *(float *)(a5 + 40) * *(float *)(v8 + 8)
          + *(float *)(v8 + 12) * *(float *)(a5 + 56);
      v13 = *(float *)(v8 + 12) * *(float *)(a5 + 60)
          + *(float *)(a5 + 12) * *(float *)v8
          + *(float *)(a5 + 28) * *(float *)(v8 + 4);
      v14 = *(float *)(a5 + 44) * *(float *)(v8 + 8);
      v8 += a4;
      --v6;
      v15 = v13 + v14;
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (0042B54F) --------------------------------------------------------
int sub_42B54F()
{
  sub_42F98A(1u);
  return off_4B2574();
}
// 4B2574: using guessed type int (*off_4B2574)(void);

//----- (0042B55C) --------------------------------------------------------
double __stdcall sub_42B55C(int a1)
{
  int v1; // eax@1
  double v2; // st7@1
  double v3; // st6@1
  double v4; // st5@1
  double v5; // st4@1
  double v6; // st3@1
  float v8; // [sp+8h] [bp+8h]@1

  v1 = a1;
  v2 = *(float *)(a1 + 40) * *(float *)(a1 + 60) - *(float *)(a1 + 56) * *(float *)(a1 + 44);
  v3 = *(float *)(a1 + 60) * *(float *)(a1 + 36) - *(float *)(a1 + 52) * *(float *)(a1 + 44);
  v4 = *(float *)(a1 + 56) * *(float *)(a1 + 36) - *(float *)(a1 + 40) * *(float *)(a1 + 52);
  v5 = *(float *)(a1 + 32) * *(float *)(a1 + 60) - *(float *)(a1 + 48) * *(float *)(a1 + 44);
  v6 = *(float *)(a1 + 56) * *(float *)(a1 + 32) - *(float *)(a1 + 48) * *(float *)(a1 + 40);
  v8 = *(float *)(a1 + 32) * *(float *)(a1 + 52) - *(float *)(a1 + 48) * *(float *)(a1 + 36);
  return (v2 * *(float *)(v1 + 20) - v3 * *(float *)(v1 + 24) + v4 * *(float *)(v1 + 28)) * *(float *)v1
       - (v2 * *(float *)(v1 + 16) - v5 * *(float *)(v1 + 24) + v6 * *(float *)(v1 + 28)) * *(float *)(v1 + 4)
       + (v3 * *(float *)(v1 + 16) - v5 * *(float *)(v1 + 20) + v8 * *(float *)(v1 + 28)) * *(float *)(v1 + 8)
       - (v4 * *(float *)(v1 + 16) - v6 * *(float *)(v1 + 20) + v8 * *(float *)(v1 + 24)) * *(float *)(v1 + 12);
}

//----- (0042B626) --------------------------------------------------------
int sub_42B626()
{
  sub_42F98A(1u);
  return off_4B2554();
}
// 4B2554: using guessed type int (*off_4B2554)(void);

//----- (0042B639) --------------------------------------------------------
char *__stdcall sub_42B639(char *a1, int a2, int a3)
{
  char *result; // eax@1
  char *v4; // esi@2
  char v5; // [sp+4h] [bp-40h]@3

  result = a1;
  if ( a1 == (char *)a2 || (v4 = a1, a1 == (char *)a3) )
    v4 = &v5;
  *(float *)v4 = *(float *)(a2 + 12) * *(float *)(a3 + 48)
               + *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 16) * *(float *)(a2 + 4);
  *((float *)v4 + 1) = *(float *)(a2 + 4) * *(float *)(a3 + 20)
                     + *(float *)(a2 + 12) * *(float *)(a3 + 52)
                     + *(float *)(a2 + 8) * *(float *)(a3 + 36)
                     + *(float *)(a3 + 4) * *(float *)a2;
  *((float *)v4 + 2) = *(float *)(a2 + 12) * *(float *)(a3 + 56)
                     + *(float *)(a3 + 8) * *(float *)a2
                     + *(float *)(a2 + 8) * *(float *)(a3 + 40)
                     + *(float *)(a3 + 24) * *(float *)(a2 + 4);
  *((float *)v4 + 3) = *(float *)(a2 + 12) * *(float *)(a3 + 60)
                     + *(float *)(a3 + 44) * *(float *)(a2 + 8)
                     + *(float *)a2 * *(float *)(a3 + 12)
                     + *(float *)(a3 + 28) * *(float *)(a2 + 4);
  *((float *)v4 + 4) = *(float *)(a2 + 28) * *(float *)(a3 + 48)
                     + *(float *)(a2 + 16) * *(float *)a3
                     + *(float *)(a3 + 16) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 32);
  *((float *)v4 + 5) = *(float *)(a2 + 24) * *(float *)(a3 + 36)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 52)
                     + *(float *)(a3 + 20) * *(float *)(a2 + 20)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 16);
  *((float *)v4 + 6) = *(float *)(a3 + 24) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 56)
                     + *(float *)(a3 + 8) * *(float *)(a2 + 16)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 40);
  *((float *)v4 + 7) = *(float *)(a3 + 28) * *(float *)(a2 + 20)
                     + *(float *)(a2 + 28) * *(float *)(a3 + 60)
                     + *(float *)(a2 + 24) * *(float *)(a3 + 44)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 12);
  *((float *)v4 + 8) = *(float *)(a2 + 44) * *(float *)(a3 + 48)
                     + *(float *)(a2 + 32) * *(float *)a3
                     + *(float *)(a3 + 16) * *(float *)(a2 + 36)
                     + *(float *)(a2 + 40) * *(float *)(a3 + 32);
  *((float *)v4 + 9) = *(float *)(a2 + 44) * *(float *)(a3 + 52)
                     + *(float *)(a2 + 40) * *(float *)(a3 + 36)
                     + *(float *)(a3 + 20) * *(float *)(a2 + 36)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 32);
  *((float *)v4 + 10) = *(float *)(a3 + 24) * *(float *)(a2 + 36)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 32)
                      + *(float *)(a2 + 44) * *(float *)(a3 + 56)
                      + *(float *)(a2 + 40) * *(float *)(a3 + 40);
  *((float *)v4 + 11) = *(float *)(a2 + 44) * *(float *)(a3 + 60)
                      + *(float *)(a2 + 40) * *(float *)(a3 + 44)
                      + *(float *)(a3 + 28) * *(float *)(a2 + 36)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 12);
  *((float *)v4 + 12) = *(float *)(a2 + 60) * *(float *)(a3 + 48)
                      + *(float *)(a2 + 48) * *(float *)a3
                      + *(float *)(a3 + 16) * *(float *)(a2 + 52)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 32);
  *((float *)v4 + 13) = *(float *)(a2 + 60) * *(float *)(a3 + 52)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 36)
                      + *(float *)(a3 + 20) * *(float *)(a2 + 52)
                      + *(float *)(a3 + 4) * *(float *)(a2 + 48);
  *((float *)v4 + 14) = *(float *)(a3 + 24) * *(float *)(a2 + 52)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 48)
                      + *(float *)(a2 + 60) * *(float *)(a3 + 56)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 40);
  *((float *)v4 + 15) = *(float *)(a2 + 60) * *(float *)(a3 + 60)
                      + *(float *)(a2 + 56) * *(float *)(a3 + 44)
                      + *(float *)(a3 + 28) * *(float *)(a2 + 52)
                      + *(float *)(a2 + 48) * *(float *)(a3 + 12);
  if ( v4 != a1 )
    qmemcpy(a1, v4, 0x40u);
  return result;
}

//----- (0042B86F) --------------------------------------------------------
int sub_42B86F()
{
  sub_42F98A(1u);
  return off_4B25DC();
}
// 4B25DC: using guessed type int (*off_4B25DC)(void);

//----- (0042B882) --------------------------------------------------------
int __stdcall sub_42B882(int a1, int a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st7@1
  double v5; // st7@1
  double v6; // st7@1
  double v7; // st7@1
  double v8; // st7@1

  v2 = *(float *)(a2 + 4);
  result = a1;
  *(float *)(a1 + 4) = *(float *)(a2 + 16);
  *(float *)(a1 + 16) = v2;
  v4 = *(float *)(a2 + 8);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 32);
  *(float *)(a1 + 32) = v4;
  v5 = *(float *)(a2 + 12);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(a2 + 48);
  *(float *)(a1 + 48) = v5;
  v6 = *(float *)(a2 + 24);
  *(_DWORD *)(a1 + 24) = *(_DWORD *)(a2 + 36);
  *(float *)(a1 + 36) = v6;
  v7 = *(float *)(a2 + 28);
  *(_DWORD *)(a1 + 28) = *(_DWORD *)(a2 + 52);
  *(float *)(a1 + 52) = v7;
  v8 = *(float *)(a2 + 44);
  *(_DWORD *)(a1 + 44) = *(_DWORD *)(a2 + 56);
  *(float *)(a1 + 56) = v8;
  if ( a1 != a2 )
  {
    *(_DWORD *)a1 = *(_DWORD *)a2;
    *(_DWORD *)(a1 + 20) = *(_DWORD *)(a2 + 20);
    *(_DWORD *)(a1 + 40) = *(_DWORD *)(a2 + 40);
    *(_DWORD *)(a1 + 60) = *(_DWORD *)(a2 + 60);
  }
  return result;
}

//----- (0042B8EF) --------------------------------------------------------
int sub_42B8EF()
{
  sub_42F98A(1u);
  return off_4B2558();
}
// 4B2558: using guessed type int (*off_4B2558)(void);

//----- (0042B8FC) --------------------------------------------------------
char *__stdcall sub_42B8FC(char *a1, int a2, int a3)
{
  char *result; // eax@1
  char *v4; // esi@2
  char v5; // [sp+4h] [bp-40h]@3

  result = a1;
  if ( a1 == (char *)a2 || (v4 = a1, a1 == (char *)a3) )
    v4 = &v5;
  *(float *)v4 = *(float *)(a2 + 12) * *(float *)(a3 + 48)
               + *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 16) * *(float *)(a2 + 4);
  *((float *)v4 + 1) = *(float *)(a2 + 16) * *(float *)a3
                     + *(float *)(a3 + 48) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 32) * *(float *)(a2 + 24)
                     + *(float *)(a3 + 16) * *(float *)(a2 + 20);
  *((float *)v4 + 2) = *(float *)(a2 + 40) * *(float *)(a3 + 32)
                     + *(float *)(a2 + 36) * *(float *)(a3 + 16)
                     + *(float *)(a3 + 48) * *(float *)(a2 + 44)
                     + *(float *)(a2 + 32) * *(float *)a3;
  *((float *)v4 + 3) = *(float *)(a2 + 52) * *(float *)(a3 + 16)
                     + *(float *)(a2 + 60) * *(float *)(a3 + 48)
                     + *(float *)a3 * *(float *)(a2 + 48)
                     + *(float *)(a2 + 56) * *(float *)(a3 + 32);
  *((float *)v4 + 4) = *(float *)(a3 + 36) * *(float *)(a2 + 8)
                     + *(float *)(a3 + 4) * *(float *)a2
                     + *(float *)(a3 + 52) * *(float *)(a2 + 12)
                     + *(float *)(a2 + 4) * *(float *)(a3 + 20);
  *((float *)v4 + 5) = *(float *)(a3 + 52) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 24)
                     + *(float *)(a2 + 20) * *(float *)(a3 + 20)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 4);
  *((float *)v4 + 6) = *(float *)(a2 + 36) * *(float *)(a3 + 20)
                     + *(float *)(a3 + 52) * *(float *)(a2 + 44)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 40)
                     + *(float *)(a2 + 32) * *(float *)(a3 + 4);
  *((float *)v4 + 7) = *(float *)(a2 + 52) * *(float *)(a3 + 20)
                     + *(float *)(a3 + 52) * *(float *)(a2 + 60)
                     + *(float *)(a3 + 36) * *(float *)(a2 + 56)
                     + *(float *)(a3 + 4) * *(float *)(a2 + 48);
  *((float *)v4 + 8) = *(float *)(a3 + 40) * *(float *)(a2 + 8)
                     + *(float *)(a3 + 8) * *(float *)a2
                     + *(float *)(a2 + 4) * *(float *)(a3 + 24)
                     + *(float *)(a3 + 56) * *(float *)(a2 + 12);
  *((float *)v4 + 9) = *(float *)(a3 + 56) * *(float *)(a2 + 28)
                     + *(float *)(a3 + 40) * *(float *)(a2 + 24)
                     + *(float *)(a2 + 20) * *(float *)(a3 + 24)
                     + *(float *)(a2 + 16) * *(float *)(a3 + 8);
  *((float *)v4 + 10) = *(float *)(a2 + 36) * *(float *)(a3 + 24)
                      + *(float *)(a3 + 56) * *(float *)(a2 + 44)
                      + *(float *)(a3 + 40) * *(float *)(a2 + 40)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 8);
  *((float *)v4 + 11) = *(float *)(a2 + 52) * *(float *)(a3 + 24)
                      + *(float *)(a3 + 56) * *(float *)(a2 + 60)
                      + *(float *)(a3 + 40) * *(float *)(a2 + 56)
                      + *(float *)(a3 + 8) * *(float *)(a2 + 48);
  *((float *)v4 + 12) = *(float *)(a3 + 44) * *(float *)(a2 + 8)
                      + *(float *)(a3 + 12) * *(float *)a2
                      + *(float *)(a2 + 4) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 12);
  *((float *)v4 + 13) = *(float *)(a3 + 60) * *(float *)(a2 + 28)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 24)
                      + *(float *)(a2 + 20) * *(float *)(a3 + 28)
                      + *(float *)(a2 + 16) * *(float *)(a3 + 12);
  *((float *)v4 + 14) = *(float *)(a2 + 36) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 44)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 40)
                      + *(float *)(a2 + 32) * *(float *)(a3 + 12);
  *((float *)v4 + 15) = *(float *)(a2 + 52) * *(float *)(a3 + 28)
                      + *(float *)(a3 + 60) * *(float *)(a2 + 60)
                      + *(float *)(a3 + 44) * *(float *)(a2 + 56)
                      + *(float *)(a3 + 12) * *(float *)(a2 + 48);
  if ( v4 != a1 )
    qmemcpy(a1, v4, 0x40u);
  return result;
}

//----- (0042BB32) --------------------------------------------------------
int sub_42BB32()
{
  sub_42F98A(1u);
  return off_4B2590();
}
// 4B2590: using guessed type int (*off_4B2590)(void);

//----- (0042BB45) --------------------------------------------------------
int __stdcall sub_42BB45(int a1, float *a2, int a3)
{
  int v3; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  float v6; // ST40_4@1
  float v7; // ST3C_4@1
  float v8; // ST44_4@1
  float v9; // ST58_4@1
  float v10; // ST48_4@1
  float v11; // ST50_4@1
  float v12; // ST4C_4@1
  float v13; // ST54_4@1
  float v14; // ST30_4@1
  float v15; // ST24_4@1
  float v16; // ST28_4@1
  double v17; // st7@1
  float v18; // ST2C_4@1
  double v19; // st7@1
  double v20; // st6@1
  double v21; // st5@1
  float v22; // ST34_4@1
  double v23; // st4@1
  float v24; // ST3C_4@1
  double v25; // st3@1
  float v26; // ST38_4@1
  double v27; // st2@1
  float v28; // ST58_4@1
  float v29; // ST50_4@1
  float v30; // ST54_4@1
  double v31; // st7@1
  double v32; // st6@1
  double v33; // st5@1
  double v34; // st3@1
  float v35; // ST58_4@1
  double v36; // st4@1
  double v37; // st3@1
  double v38; // st2@1
  float v39; // ST2C_4@6
  double v40; // st7@1
  int result; // eax@4
  float v42; // [sp+8h] [bp-54h]@1
  float v43; // [sp+Ch] [bp-50h]@1
  float v44; // [sp+10h] [bp-4Ch]@1
  float v45; // [sp+14h] [bp-48h]@1
  float v46; // [sp+18h] [bp-44h]@1
  float v47; // [sp+1Ch] [bp-40h]@1
  float v48; // [sp+20h] [bp-3Ch]@1
  float v49; // [sp+28h] [bp-34h]@1
  float v50; // [sp+30h] [bp-2Ch]@1
  float v51; // [sp+34h] [bp-28h]@1
  float v52; // [sp+38h] [bp-24h]@1
  float v53; // [sp+3Ch] [bp-20h]@1
  float v54; // [sp+40h] [bp-1Ch]@1
  float v55; // [sp+44h] [bp-18h]@1
  float v56; // [sp+48h] [bp-14h]@1
  float v57; // [sp+4Ch] [bp-10h]@1
  float v58; // [sp+54h] [bp-8h]@5
  float v59; // [sp+58h] [bp-4h]@1
  float v60; // [sp+6Ch] [bp+10h]@1
  float v61; // [sp+6Ch] [bp+10h]@1
  float v62; // [sp+6Ch] [bp+10h]@1
  float v63; // [sp+6Ch] [bp+10h]@1

  v3 = a3;
  v4 = *(float *)a3;
  v5 = *(float *)(a3 + 4);
  v6 = *(float *)(a3 + 16);
  v7 = *(float *)(a3 + 20);
  v8 = *(float *)(a3 + 32);
  v9 = *(float *)(a3 + 36);
  v10 = *(float *)(a3 + 48);
  v60 = *(float *)(a3 + 52);
  v11 = v7 * v4 - v6 * v5;
  v12 = *(float *)(v3 + 56);
  v13 = v9 * v4 - v8 * v5;
  v14 = v60 * v4 - v10 * v5;
  v15 = v9 * v6 - v8 * v7;
  v16 = v60 * v6 - v10 * v7;
  v17 = v60;
  v61 = *(float *)(v3 + 60);
  v18 = v17 * v8 - v10 * v9;
  v19 = *(float *)(v3 + 8);
  v20 = *(float *)(v3 + 12);
  v21 = *(float *)(v3 + 24);
  v22 = *(float *)(v3 + 24);
  v23 = *(float *)(v3 + 28);
  v24 = *(float *)(v3 + 28);
  v25 = *(float *)(v3 + 40);
  v26 = *(float *)(v3 + 40);
  v27 = *(float *)(v3 + 44);
  v28 = *(float *)(v3 + 44);
  v42 = v19 * v15 - v21 * v13 + v25 * v11;
  v43 = v21 * v14 - v12 * v11 - v19 * v16;
  v44 = v19 * v18 - v25 * v14 + v12 * v13;
  v45 = v25 * v16 - v12 * v15 - v21 * v18;
  v46 = v13 * v23 - v11 * v27 - v15 * v20;
  v47 = v16 * v20 - v14 * v23 + v11 * v61;
  v48 = v14 * v27 - v13 * v61 - v18 * v20;
  v50 = v18 * v23 - v16 * v27 + v15 * v61;
  v29 = v19 * v23 - v21 * v20;
  v30 = v19 * v28 - v26 * v20;
  v31 = v19 * v61 - v12 * v20;
  v54 = *(float *)(v3 + 16);
  v55 = *(float *)(v3 + 32);
  v32 = v22 * v28 - v26 * v24;
  v33 = v22 * v61 - v12 * v24;
  v34 = v12 * v28;
  v35 = *(float *)(v3 + 36);
  v56 = *(float *)(v3 + 48);
  v36 = v26 * v61 - v34;
  v37 = *(float *)(v3 + 4);
  v38 = *(float *)(v3 + 20);
  v62 = *(float *)(v3 + 52);
  v57 = v30 * v38 - v29 * v35 - v32 * v37;
  v52 = v33 * v37 - v31 * v38 + v29 * v62;
  v51 = v31 * v35 - v30 * v62 - v36 * v37;
  v49 = v36 * v38 - v33 * v35 + v32 * v62;
  v63 = v32 * *(float *)v3 - v30 * v54 + v29 * v55;
  v59 = v31 * v54 - v29 * v56 - v33 * *(float *)v3;
  v53 = *(float *)v3 * v36 - v31 * v55 + v30 * v56;
  v40 = v57 * v56 + v52 * v55 + v51 * v54 + v49 * *(float *)v3;
  if ( a2 )
    *a2 = v40;
  if ( 0.0 == v40 )
  {
    result = 0;
  }
  else
  {
    v58 = 1.0 / v40;
    result = _finite(v58);
    if ( result )
    {
      result = a1;
      *(float *)a1 = v49 * v58;
      *(float *)(a1 + 4) = v51 * v58;
      *(float *)(a1 + 8) = v52 * v58;
      *(float *)(a1 + 12) = v57 * v58;
      v39 = v33 * v55 - v32 * v56 - v36 * v54;
      *(float *)(a1 + 16) = v39 * v58;
      *(float *)(a1 + 20) = v53 * v58;
      *(float *)(a1 + 24) = v59 * v58;
      *(float *)(a1 + 28) = v63 * v58;
      *(float *)(a1 + 32) = v50 * v58;
      *(float *)(a1 + 36) = v48 * v58;
      *(float *)(a1 + 40) = v47 * v58;
      *(float *)(a1 + 44) = v46 * v58;
      *(float *)(a1 + 48) = v45 * v58;
      *(float *)(a1 + 52) = v44 * v58;
      *(float *)(a1 + 56) = v43 * v58;
      *(float *)(a1 + 60) = v42 * v58;
    }
  }
  return result;
}

//----- (0042BEE4) --------------------------------------------------------
int __stdcall sub_42BEE4(int a1, float a2, float a3, float a4)
{
  sub_42F98A(1u);
  return off_4B25CC(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 4B25CC: using guessed type int (__stdcall *off_4B25CC)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042BF12) --------------------------------------------------------
int __stdcall sub_42BF12(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 56) = 0.0;
  *(_DWORD *)a1 = a2;
  *(float *)(a1 + 52) = 0.0;
  *(_DWORD *)(a1 + 20) = a3;
  *(float *)(a1 + 48) = 0.0;
  *(_DWORD *)(a1 + 40) = a4;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (0042BF6E) --------------------------------------------------------
int __stdcall sub_42BF6E(int a1, float a2, float a3, float a4)
{
  sub_42F98A(1u);
  return off_4B25B0(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 4B25B0: using guessed type int (__stdcall *off_4B25B0)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042BF9C) --------------------------------------------------------
int __stdcall sub_42BF9C(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 44) = 0.0;
  *(_DWORD *)(a1 + 48) = a2;
  *(float *)(a1 + 36) = 0.0;
  *(_DWORD *)(a1 + 52) = a3;
  *(float *)(a1 + 32) = 0.0;
  *(_DWORD *)(a1 + 56) = a4;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  *(float *)(a1 + 40) = 1.0;
  *(float *)(a1 + 20) = 1.0;
  *(float *)a1 = 1.0;
  return result;
}

//----- (0042BFF8) --------------------------------------------------------
int __stdcall sub_42BFF8(int a1, float a2)
{
  sub_42F98A(1u);
  return off_4B25C0(a1, LODWORD(a2));
}
// 4B25C0: using guessed type int (__stdcall *off_4B25C0)(_DWORD, _DWORD);

//----- (0042C014) --------------------------------------------------------
int __stdcall sub_42C014(int a1, float a2)
{
  int result; // eax@1
  float v3; // ecx@1
  double v4; // st7@1
  float v5; // [sp+8h] [bp-8h]@1
  float v6; // [sp+Ch] [bp-4h]@1

  v5 = cos(a2);
  v6 = sin(a2);
  result = a1;
  *(float *)a1 = 1.0;
  v3 = v6;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 24) = v3;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  v4 = v5;
  *(float *)(a1 + 20) = v5;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = -v6;
  *(float *)(a1 + 40) = v4;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (0042C08E) --------------------------------------------------------
int __stdcall sub_42C08E(int a1, float a2)
{
  sub_42F98A(1u);
  return off_4B25C4(a1, LODWORD(a2));
}
// 4B25C4: using guessed type int (__stdcall *off_4B25C4)(_DWORD, _DWORD);

//----- (0042C0AA) --------------------------------------------------------
int __stdcall sub_42C0AA(int a1, float a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st6@1
  float v5; // [sp+8h] [bp-8h]@1
  float v6; // [sp+Ch] [bp-4h]@1

  v6 = cos(a2);
  v5 = sin(a2);
  v2 = v6;
  result = a1;
  *(float *)a1 = v6;
  *(float *)(a1 + 4) = 0.0;
  v4 = v5;
  *(float *)(a1 + 8) = -v5;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 20) = 1.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v4;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 40) = v2;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (0042C125) --------------------------------------------------------
int __stdcall sub_42C125(int a1, float a2)
{
  sub_42F98A(1u);
  return off_4B25C8(a1, LODWORD(a2));
}
// 4B25C8: using guessed type int (__stdcall *off_4B25C8)(_DWORD, _DWORD);

//----- (0042C141) --------------------------------------------------------
int __stdcall sub_42C141(int a1, float a2)
{
  double v2; // st7@1
  int result; // eax@1
  float v4; // [sp+8h] [bp-8h]@1
  float v5; // [sp+Ch] [bp-4h]@1

  v4 = cos(a2);
  v5 = sin(a2);
  v2 = v4;
  result = a1;
  *(float *)a1 = v4;
  *(float *)(a1 + 4) = v5;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = -v5;
  *(float *)(a1 + 20) = v2;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 40) = 1.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}

//----- (0042C1BD) --------------------------------------------------------
int __stdcall sub_42C1BD(int a1, int a2, float a3)
{
  sub_42F98A(1u);
  return off_4B25F0(a1, a2, LODWORD(a3));
}
// 4B25F0: using guessed type int (__stdcall *off_4B25F0)(_DWORD, _DWORD, _DWORD);

//----- (0042C1DD) --------------------------------------------------------
int __stdcall sub_42C1DD(int a1, int a2, float a3)
{
  int result; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  double v8; // st3@1
  double v9; // st2@1
  double v10; // st3@1
  float v11; // [sp+8h] [bp-1Ch]@1
  float v12; // [sp+Ch] [bp-18h]@1
  float v13; // [sp+10h] [bp-14h]@1
  float *v14; // [sp+14h] [bp-10h]@1
  float *v15; // [sp+18h] [bp-Ch]@1
  float v16; // [sp+1Ch] [bp-8h]@1
  float v17; // [sp+20h] [bp-4h]@1
  int v18; // [sp+30h] [bp+Ch]@1
  float v19; // [sp+34h] [bp+10h]@1
  float v20; // [sp+34h] [bp+10h]@1

  v15 = &v17;
  v14 = &v16;
  v17 = cos(a3);
  v16 = sin(a3);
  v11 = *(float *)a2;
  v19 = 1.0 - v17;
  v12 = *(float *)(a2 + 4);
  v13 = *(float *)(a2 + 8);
  sub_42AAE0(&v11, &v11);
  result = a1;
  v4 = v19;
  v20 = v12 * v11 * v19;
  v5 = v13;
  v6 = v12 * v13 * v4;
  v7 = v13 * v11 * v4;
  *(float *)a1 = v11 * v11 * v4 + v17;
  v8 = v5 * v16;
  *(float *)(a1 + 4) = v20 + v8;
  v9 = v12 * v16;
  *(float *)&v18 = v9;
  *(float *)(a1 + 8) = v7 - v9;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v20 - v8;
  *(float *)(a1 + 20) = v12 * v12 * v4 + v17;
  v10 = v11 * v16;
  *(float *)(a1 + 24) = v10 + v6;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = *(float *)&v18 + v7;
  *(float *)(a1 + 36) = v6 - v10;
  *(float *)(a1 + 40) = v5 * v5 * v4 + v17;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 42AAE0: using guessed type int __stdcall sub_42AAE0(_DWORD, _DWORD);

//----- (0042C2DF) --------------------------------------------------------
int sub_42C2DF()
{
  sub_42F98A(1u);
  return off_4B25E0();
}
// 4B25E0: using guessed type int (*off_4B25E0)(void);

//----- (0042C2F2) --------------------------------------------------------
int __stdcall sub_42C2F2(int a1, int a2)
{
  int v2; // eax@1
  float v3; // ST0C_4@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  float v8; // ST00_4@1
  float v9; // ST0C_4@1
  float v10; // ST08_4@1
  float v11; // ST04_4@1
  double v12; // st3@1
  int result; // eax@1
  double v14; // st2@1
  float v15; // [sp+18h] [bp+8h]@1
  float v16; // [sp+1Ch] [bp+Ch]@1
  float v17; // [sp+1Ch] [bp+Ch]@1

  v2 = a2;
  v3 = *(float *)a2 * 2.0;
  v16 = *(float *)(a2 + 4) * 2.0;
  v4 = 2.0 * *(float *)(v2 + 8);
  v5 = v3 * *(float *)(v2 + 12);
  v6 = v16 * *(float *)(v2 + 12);
  v7 = v4 * *(float *)(v2 + 12);
  v8 = v3 * *(float *)v2;
  v9 = v16 * *(float *)v2;
  v10 = v4 * *(float *)v2;
  v11 = v16 * *(float *)(v2 + 4);
  v17 = v4 * *(float *)(v2 + 4);
  v12 = v4 * *(float *)(v2 + 8);
  result = a1;
  *(float *)a1 = 1.0 - v11 - v12;
  *(float *)(a1 + 4) = v9 + v7;
  *(float *)(a1 + 8) = v10 - v6;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v9 - v7;
  v14 = 1.0 - v8;
  v15 = v14;
  *(float *)(result + 20) = v14 - v12;
  *(float *)(result + 24) = v17 + v5;
  *(float *)(result + 28) = 0.0;
  *(float *)(result + 32) = v10 + v6;
  *(float *)(result + 36) = v17 - v5;
  *(float *)(result + 40) = v15 - v11;
  *(float *)(result + 44) = 0.0;
  *(float *)(result + 48) = 0.0;
  *(float *)(result + 52) = 0.0;
  *(float *)(result + 56) = 0.0;
  *(float *)(result + 60) = 1.0;
  return result;
}

//----- (0042C3D4) --------------------------------------------------------
int __stdcall sub_42C3D4(int a1, float a2, float a3, float a4)
{
  sub_42F98A(1u);
  return off_4B25E8(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 4B25E8: using guessed type int (__stdcall *off_4B25E8)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042C402) --------------------------------------------------------
int sub_42C402()
{
  sub_42F98A(1u);
  return off_4B25E4();
}
// 4B25E4: using guessed type int (*off_4B25E4)(void);

//----- (0042C419) --------------------------------------------------------
int __stdcall sub_42C419(int a1, float a2, int a3, int a4, int a5)
{
  sub_42F98A(1u);
  return off_4B25EC(a1, LODWORD(a2), a3, a4, a5);
}
// 4B25EC: using guessed type int (__stdcall *off_4B25EC)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042C440) --------------------------------------------------------
int __stdcall sub_42C440(int a1, float a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-50h]@0
  int v7; // [sp+4h] [bp-4Ch]@0
  int v8; // [sp+8h] [bp-48h]@0
  char v9; // [sp+10h] [bp-40h]@2
  char v10; // [sp+1Ch] [bp-34h]@3

  *(float *)(a1 + 56) = 0.0;
  *(float *)(a1 + 52) = 0.0;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 36) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 16) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)a1 = a2;
  *(float *)(a1 + 20) = a2;
  *(float *)(a1 + 40) = a2;
  *(float *)(a1 + 60) = 1.0;
  if ( a4 )
  {
    sub_42C2EC(&v9, a4, v6, v7, v8);
    if ( a3 )
    {
      *(float *)(a1 + 48) = *(float *)(a1 + 48) - *(float *)a3;
      *(float *)(a1 + 52) = *(float *)(a1 + 52) - *(float *)(a3 + 4);
      *(float *)(a1 + 56) = *(float *)(a1 + 56) - *(float *)(a3 + 8);
      sub_42B633(a1, a1, &v10);
      *(float *)(a1 + 48) = *(float *)a3 + *(float *)(a1 + 48);
      *(float *)(a1 + 52) = *(float *)(a1 + 52) + *(float *)(a3 + 4);
      *(float *)(a1 + 56) = *(float *)(a3 + 8) + *(float *)(a1 + 56);
    }
    else
    {
      sub_42B633(a1, a1, &v10);
    }
  }
  if ( a5 )
  {
    *(float *)(a1 + 48) = *(float *)a5 + *(float *)(a1 + 48);
    *(float *)(a1 + 52) = *(float *)(a5 + 4) + *(float *)(a1 + 52);
    *(float *)(a1 + 56) = *(float *)(a5 + 8) + *(float *)(a1 + 56);
  }
  return a1;
}
// 42B633: using guessed type int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD);
// 42C2EC: using guessed type int __stdcall sub_42C2EC(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042C526) --------------------------------------------------------
int sub_42C526()
{
  sub_42F98A(1u);
  return off_4B25B4();
}
// 4B25B4: using guessed type int (*off_4B25B4)(void);

//----- (0042C533) --------------------------------------------------------
int sub_42C533()
{
  sub_42F98A(1u);
  return off_4B25B8();
}
// 4B25B8: using guessed type int (*off_4B25B8)(void);

//----- (0042C540) --------------------------------------------------------
int sub_42C540()
{
  sub_42F98A(1u);
  return off_4B25A4();
}
// 4B25A4: using guessed type int (*off_4B25A4)(void);

//----- (0042C54D) --------------------------------------------------------
int __stdcall sub_42C54D(int a1, int a2, float *a3)
{
  int result; // eax@1
  long double v4; // st7@4

  result = a1;
  if ( a2 )
  {
    *(_DWORD *)a2 = *(_DWORD *)a1;
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 4);
    *(_DWORD *)(a2 + 8) = *(_DWORD *)(a1 + 8);
  }
  if ( a3 )
  {
    v4 = acos(*(float *)(a1 + 12));
    *a3 = v4 + v4;
  }
  return result;
}

//----- (0042C582) --------------------------------------------------------
int sub_42C582()
{
  sub_42F98A(1u);
  return off_4B25A8();
}
// 4B25A8: using guessed type int (*off_4B25A8)(void);

//----- (0042C58F) --------------------------------------------------------
int __stdcall sub_42C58F(int a1, int a2)
{
  int v2; // ecx@1
  double v3; // st7@1
  int result; // eax@2
  long double v5; // st7@2
  long double v6; // st7@2
  double v7; // st7@3
  signed int v8; // ebx@3
  double v9; // st6@3
  int v10; // edx@7
  int v11; // edi@7
  int v12; // esi@7
  long double v13; // st7@7
  long double v14; // st7@7
  long double v15; // st7@7
  double v16; // st6@7
  int v17; // ebx@7
  int v18; // edi@7
  int v19; // esi@7
  double v20; // st6@7
  int v21; // edi@7
  int v22; // [sp+0h] [bp-1Ch]@3
  int v23; // [sp+4h] [bp-18h]@3
  int v24; // [sp+8h] [bp-14h]@3
  float v25; // [sp+Ch] [bp-10h]@3
  float v26; // [sp+10h] [bp-Ch]@3
  float v27; // [sp+14h] [bp-8h]@3
  int v28; // [sp+18h] [bp-4h]@7
  int v29; // [sp+24h] [bp+8h]@7
  signed int v30; // [sp+28h] [bp+Ch]@5

  v2 = a2;
  v3 = *(float *)(a2 + 20) + *(float *)a2 + *(float *)(a2 + 40);
  if ( v3 <= 0.0 )
  {
    v24 = 0;
    v7 = *(float *)a2 - *(float *)(a2 + 20) - *(float *)(a2 + 40);
    v8 = 1;
    v25 = v7;
    v22 = 1;
    v9 = *(float *)(a2 + 20);
    v23 = 2;
    v26 = v9 - *(float *)a2 - *(float *)(a2 + 40);
    v27 = *(float *)(a2 + 40) - (*(float *)(a2 + 20) + *(float *)a2);
    if ( v7 >= v26 )
      v8 = 0;
    v30 = v8;
    if ( *(&v25 + v8) < (double)v27 )
    {
      v8 = 2;
      v30 = 2;
    }
    v10 = 4 * v8;
    result = a1;
    v12 = 4 * *(&v22 + v8);
    v13 = sqrt(*(&v25 + v8) + 1.0);
    v28 = *(&v22 + v8);
    v11 = v28;
    v14 = v13 * 0.5;
    *(float *)(v10 + a1) = v14;
    v15 = 0.25 / v14;
    v16 = *(float *)(v2 + 4 * (v12 + v8)) + *(float *)(v2 + 4 * (4 * v8 + v11));
    v17 = 4 * *(int *)((char *)&v22 + v12) + v30;
    v29 = 4 * *(int *)((char *)&v22 + v12);
    v18 = *(int *)((char *)&v22 + v12);
    *(float *)(v12 + result) = v16 * v15;
    v19 = v18 + v12;
    v20 = *(float *)(v2 + 4 * v17) + *(float *)(v2 + 4 * (v18 + v10));
    v21 = v28;
    *(float *)(v29 + result) = v20 * v15;
    *(float *)(result + 12) = (*(float *)(v2 + 4 * v19) - *(float *)(v2 + 4 * (v21 + v29))) * v15;
  }
  else
  {
    result = a1;
    v5 = sqrt(v3 + 1.0) * 0.5;
    *(float *)(a1 + 12) = v5;
    v6 = 0.25 / v5;
    *(float *)a1 = (*(float *)(a2 + 24) - *(float *)(a2 + 36)) * v6;
    *(float *)(a1 + 4) = (*(float *)(a2 + 32) - *(float *)(a2 + 8)) * v6;
    *(float *)(a1 + 8) = (*(float *)(a2 + 4) - *(float *)(a2 + 16)) * v6;
  }
  return result;
}

//----- (0042C6C3) --------------------------------------------------------
int __stdcall sub_42C6C3(int a1, int a2, float a3)
{
  sub_42F98A(1u);
  return off_4B25BC(a1, a2, LODWORD(a3));
}
// 4B25BC: using guessed type int (__stdcall *off_4B25BC)(_DWORD, _DWORD, _DWORD);

//----- (0042C6E3) --------------------------------------------------------
int __stdcall sub_42C6E3(int a1, int a2, float a3)
{
  int v3; // ecx@1
  int result; // eax@1
  float v5; // [sp+0h] [bp-14h]@1
  float v6; // [sp+4h] [bp-10h]@1
  float v7; // [sp+8h] [bp-Ch]@1
  float *v8; // [sp+10h] [bp-4h]@1
  int v9; // [sp+1Ch] [bp+8h]@1

  sub_42AAE0(&v5, a2);
  v3 = a1;
  v8 = (float *)(a1 + 12);
  *(float *)&v9 = a3 * 0.5;
  *v8 = cos(*(float *)&v9);
  *(float *)&a2 = sin(*(float *)&v9);
  result = v3;
  *(float *)v3 = v5 * *(float *)&a2;
  *(float *)(v3 + 4) = v6 * *(float *)&a2;
  *(float *)(v3 + 8) = v7 * *(float *)&a2;
  return result;
}
// 42AAE0: using guessed type int __stdcall sub_42AAE0(_DWORD, _DWORD);

//----- (0042C73F) --------------------------------------------------------
int __stdcall sub_42C73F(int a1, float a2, float a3, float a4)
{
  sub_42F98A(1u);
  return off_4B25AC(a1, LODWORD(a2), LODWORD(a3), LODWORD(a4));
}
// 4B25AC: using guessed type int (__stdcall *off_4B25AC)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042C773) --------------------------------------------------------
int __stdcall sub_42C773(int a1, float a2, float a3, float a4)
{
  float v4; // ST08_4@1
  float v5; // ST0C_4@1
  int result; // eax@1
  double v7; // st7@1
  double v8; // st6@1
  double v9; // st7@1
  double v10; // st6@1
  float v11; // [sp+10h] [bp-10h]@1
  float v12; // [sp+14h] [bp-Ch]@1
  float v13; // [sp+18h] [bp-8h]@1
  float v14; // [sp+1Ch] [bp-4h]@1
  float v15; // [sp+30h] [bp+10h]@1
  float v16; // [sp+30h] [bp+10h]@1
  float v17; // [sp+34h] [bp+14h]@1

  v4 = a4 * 0.5;
  v14 = cos(v4);
  v17 = sin(v4);
  v15 = a3 * 0.5;
  v12 = cos(v15);
  v5 = sin(v15);
  v16 = a2 * 0.5;
  v13 = cos(v16);
  v11 = sin(v16);
  result = a1;
  v7 = v11 * v12;
  v8 = v13 * v5;
  *(float *)a1 = v14 * v8 + v7 * v17;
  *(float *)(a1 + 4) = v7 * v14 - v8 * v17;
  v9 = v13 * v12;
  v10 = v11 * v5;
  *(float *)(a1 + 8) = v9 * v17 - v10 * v14;
  *(float *)(a1 + 12) = v10 * v17 + v9 * v14;
  return result;
}

//----- (0042C84C) --------------------------------------------------------
int sub_42C84C()
{
  sub_42F98A(1u);
  return off_4B2594();
}
// 4B2594: using guessed type int (*off_4B2594)(void);

//----- (0042C85F) --------------------------------------------------------
int __stdcall sub_42C85F(int a1, int a2, int a3)
{
  double v3; // st5@1
  double v4; // st6@1
  double v5; // st7@1

  v3 = *(float *)(a3 + 12) * *(float *)(a2 + 4)
     - *(float *)a3 * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)(a2 + 12)
     + *(float *)(a3 + 8) * *(float *)a2;
  v4 = *(float *)(a3 + 12) * *(float *)(a2 + 8)
     + *(float *)a3 * *(float *)(a2 + 4)
     - *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 8) * *(float *)(a2 + 12);
  v5 = *(float *)(a3 + 12) * *(float *)(a2 + 12)
     - *(float *)a3 * *(float *)a2
     - *(float *)(a3 + 4) * *(float *)(a2 + 4)
     - *(float *)(a3 + 8) * *(float *)(a2 + 8);
  *(float *)a1 = *(float *)(a3 + 12) * *(float *)a2
               + *(float *)a3 * *(float *)(a2 + 12)
               + *(float *)(a3 + 4) * *(float *)(a2 + 8)
               - *(float *)(a3 + 8) * *(float *)(a2 + 4);
  *(float *)(a1 + 4) = v3;
  *(float *)(a1 + 8) = v4;
  *(float *)(a1 + 12) = v5;
  return a1;
}

//----- (0042C8F5) --------------------------------------------------------
int sub_42C8F5()
{
  sub_42F98A(1u);
  return off_4B2598();
}
// 4B2598: using guessed type int (*off_4B2598)(void);

//----- (0042C902) --------------------------------------------------------
int __stdcall sub_42C902(int a1, int a2)
{
  float *v2; // esi@1
  int result; // eax@2
  int v4; // esi@3
  long double v5; // st7@5
  long double v6; // st7@5
  float v7; // [sp+10h] [bp-10h]@5
  float v8; // [sp+14h] [bp-Ch]@5
  float v9; // [sp+18h] [bp-8h]@5
  float v10; // [sp+1Ch] [bp-4h]@5
  float v11; // [sp+2Ch] [bp+Ch]@1

  v2 = (float *)a2;
  v11 = *(float *)a2 * *(float *)a2
      + *(float *)(a2 + 4) * *(float *)(a2 + 4)
      + *(float *)(a2 + 8) * *(float *)(a2 + 8)
      + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  if ( sub_42A6CD(v11, 1.0) )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v11 > 1.1754944e-38 )
  {
    v5 = 1.0 / sqrt(v11);
    v7 = v5 * *v2;
    v8 = v5 * v2[1];
    v9 = v5 * v2[2];
    v6 = v5 * v2[3];
    v2 = &v7;
    v10 = v6;
LABEL_3:
    *(float *)result = *v2;
    v4 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v4;
    v4 += 4;
    *(_DWORD *)(result + 8) = *(_DWORD *)v4;
    *(_DWORD *)(result + 12) = *(_DWORD *)(v4 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  *(float *)(a1 + 12) = 0.0;
  return result;
}

//----- (0042C9B8) --------------------------------------------------------
int sub_42C9B8()
{
  sub_42F98A(1u);
  return off_4B25F8();
}
// 4B25F8: using guessed type int (*off_4B25F8)(void);

//----- (0042C9CB) --------------------------------------------------------
int __stdcall sub_42C9CB(int a1, int a2)
{
  int v2; // edx@1
  int v3; // ecx@1
  double v4; // st7@3
  double v5; // st7@3
  float v7; // [sp+14h] [bp+Ch]@1

  v2 = a2;
  v3 = a1;
  v7 = *(float *)a2 * *(float *)a2
     + *(float *)(a2 + 4) * *(float *)(a2 + 4)
     + *(float *)(a2 + 8) * *(float *)(a2 + 8)
     + *(float *)(a2 + 12) * *(float *)(a2 + 12);
  if ( v7 <= 1.0842022e-19 )
  {
    *(float *)a1 = 0.0;
    *(float *)(a1 + 4) = 0.0;
    *(float *)(a1 + 8) = 0.0;
    v5 = 0.0;
    goto LABEL_5;
  }
  *(float *)a1 = -*(float *)v2;
  *(float *)(a1 + 4) = -*(float *)(v2 + 4);
  *(float *)(a1 + 8) = -*(float *)(v2 + 8);
  *(_DWORD *)(a1 + 12) = *(_DWORD *)(v2 + 12);
  if ( !sub_42A6CD(v7, 1.0) )
  {
    v4 = 1.0 / v7;
    *(float *)v3 = v4 * *(float *)v3;
    *(float *)(v3 + 4) = v4 * *(float *)(v3 + 4);
    *(float *)(v3 + 8) = v4 * *(float *)(v3 + 8);
    v5 = v4 * *(float *)(v3 + 12);
LABEL_5:
    *(float *)(v3 + 12) = v5;
  }
  return v3;
}

//----- (0042CA7C) --------------------------------------------------------
int sub_42CA7C()
{
  sub_42F98A(1u);
  return off_4B2624();
}
// 4B2624: using guessed type int (*off_4B2624)(void);

//----- (0042CA8F) --------------------------------------------------------
int __stdcall sub_42CA8F(int a1, int a2)
{
  int v2; // esi@1
  long double v3; // st7@2
  bool v4; // zf@2
  int result; // eax@2
  double v6; // st7@3
  float v7; // [sp+Ch] [bp-4h]@2
  float v8; // [sp+1Ch] [bp+Ch]@3

  v2 = a2;
  if ( *(float *)(a2 + 12) >= 1.0 )
  {
    result = a1;
    goto LABEL_5;
  }
  v3 = acos(*(float *)(a2 + 12));
  v7 = sin(v3);
  v4 = sub_42A6CD(v7, 0.0) == 0;
  result = a1;
  if ( !v4 )
  {
LABEL_5:
    *(float *)result = *(float *)a2;
    *(_DWORD *)(result + 4) = *(_DWORD *)(a2 + 4);
    *(_DWORD *)(result + 8) = *(_DWORD *)(a2 + 8);
    goto LABEL_6;
  }
  v8 = v3;
  v6 = v8 / v7;
  *(float *)a1 = v6 * *(float *)v2;
  *(float *)(a1 + 4) = v6 * *(float *)(v2 + 4);
  *(float *)(a1 + 8) = v6 * *(float *)(v2 + 8);
LABEL_6:
  *(float *)(result + 12) = 0.0;
  return result;
}

//----- (0042CB0A) --------------------------------------------------------
int sub_42CB0A()
{
  sub_42F98A(1u);
  return off_4B2628();
}
// 4B2628: using guessed type int (*off_4B2628)(void);

//----- (0042CB1D) --------------------------------------------------------
int __stdcall sub_42CB1D(int a1, float a2)
{
  int v2; // ecx@1
  double v3; // st7@4
  float v5; // [sp+10h] [bp-4h]@1

  v5 = sqrt(*(float *)LODWORD(a2) * *(float *)LODWORD(a2) + *(float *)(LODWORD(a2) + 4) * *(float *)(LODWORD(a2) + 4) + *(float *)(LODWORD(a2) + 8) * *(float *)(LODWORD(a2) + 8));
  *(float *)(a1 + 12) = cos(v5);
  a2 = sin(v5);
  if ( sub_42A6CD(a2, 0.0) )
  {
    if ( a1 != v2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)v2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(v2 + 4);
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(v2 + 8);
    }
  }
  else
  {
    v3 = a2 / v5;
    *(float *)a1 = v3 * *(float *)v2;
    *(float *)(a1 + 4) = v3 * *(float *)(v2 + 4);
    *(float *)(a1 + 8) = v3 * *(float *)(v2 + 8);
  }
  return a1;
}

//----- (0042CBB5) --------------------------------------------------------
int __stdcall sub_42CBB5(int a1, int a2, int a3, float a4)
{
  sub_42F98A(1u);
  return off_4B25D4(a1, a2, a3, LODWORD(a4));
}
// 4B25D4: using guessed type int (__stdcall *off_4B25D4)(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042CBDF) --------------------------------------------------------
int __stdcall sub_42CBDF(int a1, int a2, int a3, float a4)
{
  int v4; // ecx@1
  double v5; // st7@1
  int v6; // edx@1
  double v7; // st6@1
  double v8; // st5@4
  long double v9; // st5@5
  float v10; // ST00_4@5
  long double v11; // st6@5
  long double v12; // st6@7
  int result; // eax@7
  float v14; // [sp+10h] [bp+Ch]@2
  int v15; // [sp+14h] [bp+10h]@4
  int v16; // [sp+14h] [bp+10h]@5

  v4 = a2;
  v5 = 1.0 - a4;
  v6 = a3;
  v7 = *(float *)a2 * *(float *)a3
     + *(float *)(a3 + 8) * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)(a2 + 4)
     + *(float *)(a3 + 12) * *(float *)(a2 + 12);
  if ( v7 < 0.0 )
    v14 = -1.0;
  else
    v14 = 1.0;
  v8 = v14 * v7;
  *(float *)&v15 = v8;
  if ( 1.0 - v8 <= 0.00000011920929 )
  {
    v11 = a4;
  }
  else
  {
    v9 = sqrt(1.0 - v8 * v8);
    *(float *)&v16 = atan2(*(float *)&v15, v9);
    v10 = 1.0 / v9;
    v5 = sin(*(float *)&v16 * v5) * v10;
    v11 = sin(*(float *)&v16 * a4) * v10;
  }
  v12 = v11 * v14;
  result = a1;
  *(float *)a1 = v5 * *(float *)v4 + v12 * *(float *)v6;
  *(float *)(a1 + 4) = v12 * *(float *)(v6 + 4) + v5 * *(float *)(v4 + 4);
  *(float *)(a1 + 8) = v12 * *(float *)(v6 + 8) + v5 * *(float *)(v4 + 8);
  *(float *)(a1 + 12) = v12 * *(float *)(v6 + 12) + v5 * *(float *)(v4 + 12);
  return result;
}

//----- (0042CCC2) --------------------------------------------------------
int __stdcall sub_42CCC2(int a1, int a2, int a3, int a4, int a5, float a6)
{
  sub_42F98A(1u);
  return off_4B25F4(a1, a2, a3, a4, a5, LODWORD(a6));
}
// 4B25F4: using guessed type int (__stdcall *off_4B25F4)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042CCEC) --------------------------------------------------------
int __stdcall sub_42CCEC(int a1, int a2, int a3, int a4, int a5, float a6)
{
  float v6; // ST0C_4@1
  int v8; // [sp+4h] [bp-20h]@1
  int v9; // [sp+14h] [bp-10h]@1

  sub_42CBD9((int)&v8, a2, a5, a6);
  sub_42CBD9((int)&v9, a3, a4, a6);
  v6 = (1.0 - a6) * a6 + (1.0 - a6) * a6;
  sub_42CBD9(a1, (int)&v8, (int)&v9, v6);
  return a1;
}

//----- (0042CD43) --------------------------------------------------------
int sub_42CD43()
{
  sub_42F98A(1u);
  return off_4B25FC();
}
// 4B25FC: using guessed type int (*off_4B25FC)(void);

//----- (0042CD54) --------------------------------------------------------
int __stdcall sub_42CD54(int a1, int a2, int a3, int a4, float a5, float a6)
{
  sub_42F98A(1u);
  return off_4B25D8(a1, a2, a3, a4, LODWORD(a5), LODWORD(a6));
}
// 4B25D8: using guessed type int (__stdcall *off_4B25D8)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042CD83) --------------------------------------------------------
int __stdcall sub_42CD83(int a1, int a2, int a3, int a4, float a5, float a6)
{
  int v6; // edi@3
  float v7; // ST0C_4@4
  int v9; // [sp+Ch] [bp-20h]@4
  int v10; // [sp+1Ch] [bp-10h]@4
  float v11; // [sp+44h] [bp+18h]@1

  v11 = a5 + a6;
  if ( sub_42A6CD(v11, 0.0) )
  {
    if ( a1 != a2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)a2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      v6 = a1 + 8;
      *(_DWORD *)v6 = *(_DWORD *)(a2 + 8);
      *(_DWORD *)(v6 + 4) = *(_DWORD *)(a2 + 12);
    }
  }
  else
  {
    sub_42CBD9((int)&v9, a2, a3, v11);
    sub_42CBD9((int)&v10, a2, a4, v11);
    v7 = a6 / v11;
    sub_42CBD9(a1, (int)&v9, (int)&v10, v7);
  }
  return a1;
}

//----- (0042CE0B) --------------------------------------------------------
int sub_42CE0B()
{
  sub_42F98A(1u);
  return off_4B259C();
}
// 4B259C: using guessed type int (*off_4B259C)(void);

//----- (0042CE1E) --------------------------------------------------------
int __stdcall sub_42CE1E(int a1, int a2)
{
  int v2; // esi@1
  int result; // eax@2
  int v4; // esi@3
  long double v5; // st7@5
  long double v6; // st7@5
  float v7; // [sp+18h] [bp+Ch]@1

  v2 = a2;
  v7 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4) + *(float *)(a2 + 8) * *(float *)(a2 + 8);
  if ( sub_42A6CD(v7, 1.0) )
  {
    result = a1;
    if ( a1 != v2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)v2;
      v4 = v2 + 4;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)v4;
      v4 += 4;
      *(_DWORD *)(a1 + 8) = *(_DWORD *)v4;
      *(_DWORD *)(a1 + 12) = *(_DWORD *)(v4 + 4);
    }
  }
  else
  {
    result = a1;
    if ( v7 <= 1.1754944e-38 )
    {
      *(float *)a1 = 0.0;
      *(float *)(a1 + 4) = 0.0;
      *(float *)(a1 + 8) = 0.0;
      v6 = 0.0;
    }
    else
    {
      v5 = 1.0 / sqrt(v7);
      *(float *)a1 = v5 * *(float *)v2;
      *(float *)(a1 + 4) = v5 * *(float *)(v2 + 4);
      *(float *)(a1 + 8) = v5 * *(float *)(v2 + 8);
      v6 = v5 * *(float *)(v2 + 12);
    }
    *(float *)(a1 + 12) = v6;
  }
  return result;
}

//----- (0042CEBF) --------------------------------------------------------
int sub_42CEBF()
{
  sub_42F98A(1u);
  return off_4B25A0();
}
// 4B25A0: using guessed type int (*off_4B25A0)(void);

//----- (0042CECC) --------------------------------------------------------
int __stdcall sub_42CECC(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  double v5; // st6@1
  int result; // eax@3
  float v7; // [sp+1Ch] [bp+Ch]@2

  v4 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 4) + *(float *)(a3 + 8) * *(float *)(a2 + 8);
  v5 = v4
     - (*(float *)a2 * *(float *)a4
      + *(float *)(a4 + 8) * *(float *)(a2 + 8)
      + *(float *)(a2 + 4) * *(float *)(a4 + 4));
  if ( v5 != 0.0 && (v7 = (v4 + *(float *)(a2 + 12)) / v5, _finite(v7)) )
  {
    result = a1;
    *(float *)a1 = (*(float *)a4 - *(float *)a3) * v7 + *(float *)a3;
    *(float *)(a1 + 4) = (*(float *)(a4 + 4) - *(float *)(a3 + 4)) * v7 + *(float *)(a3 + 4);
    *(float *)(a1 + 8) = (*(float *)(a4 + 8) - *(float *)(a3 + 8)) * v7 + *(float *)(a3 + 8);
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0042CF6E) --------------------------------------------------------
int sub_42CF6E()
{
  sub_42F98A(1u);
  return off_4B2578();
}
// 4B2578: using guessed type int (*off_4B2578)(void);

//----- (0042CF7B) --------------------------------------------------------
int __stdcall sub_42CF7B(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a1 = *(float *)a3;
  *(_DWORD *)(a1 + 4) = *(_DWORD *)(a3 + 4);
  *(_DWORD *)(a1 + 8) = *(_DWORD *)(a3 + 8);
  *(float *)(a1 + 12) = -(*(float *)(a2 + 4) * *(float *)(a3 + 4)
                        + *(float *)(a2 + 8) * *(float *)(a3 + 8)
                        + *(float *)a2 * *(float *)a3);
  return result;
}

//----- (0042CFB3) --------------------------------------------------------
int sub_42CFB3()
{
  sub_42F98A(1u);
  return off_4B257C();
}
// 4B257C: using guessed type int (*off_4B257C)(void);

//----- (0042CFC0) --------------------------------------------------------
int __stdcall sub_42CFC0(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  float v7; // ST20_4@1
  float v8; // ST24_4@1
  double v9; // st4@1
  float v10; // ST14_4@1
  float v11; // ST18_4@1
  float v12; // ST1C_4@1
  int result; // eax@1

  v4 = *(float *)a2 - *(float *)a3;
  v5 = *(float *)(a2 + 4) - *(float *)(a3 + 4);
  v6 = *(float *)(a2 + 8) - *(float *)(a3 + 8);
  v7 = *(float *)a2 - *(float *)a4;
  v8 = *(float *)(a2 + 4) - *(float *)(a4 + 4);
  v9 = *(float *)(a2 + 8) - *(float *)(a4 + 8);
  v10 = v9 * v5 - v8 * v6;
  v11 = v6 * v7 - v9 * v4;
  v12 = v8 * v4 - v7 * v5;
  *(float *)a1 = v10;
  *(float *)(a1 + 4) = v11;
  *(float *)(a1 + 8) = v12;
  sub_42AAE0(a1, a1);
  result = a1;
  *(float *)(a1 + 12) = -(*(float *)(a1 + 8) * *(float *)(a2 + 8)
                        + *(float *)(a1 + 4) * *(float *)(a2 + 4)
                        + *(float *)a1 * *(float *)a2);
  return result;
}
// 42AAE0: using guessed type int __stdcall sub_42AAE0(_DWORD, _DWORD);

//----- (0042D062) --------------------------------------------------------
int sub_42D062()
{
  sub_42F98A(1u);
  return off_4B25D0();
}
// 4B25D0: using guessed type int (*off_4B25D0)(void);

//----- (0042D06F) --------------------------------------------------------
int __stdcall sub_42D06F(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 32) * *(float *)(a2 + 8)
     + *(float *)(a3 + 48) * *(float *)(a2 + 12)
     + *(float *)(a3 + 16) * *(float *)(a2 + 4)
     + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 36) * *(float *)(a2 + 8)
     + *(float *)(a3 + 4) * *(float *)a2
     + *(float *)(a3 + 52) * *(float *)(a2 + 12)
     + *(float *)(a3 + 20) * *(float *)(a2 + 4);
  v5 = *(float *)(a3 + 40) * *(float *)(a2 + 8)
     + *(float *)(a3 + 8) * *(float *)a2
     + *(float *)(a3 + 56) * *(float *)(a2 + 12)
     + *(float *)(a3 + 24) * *(float *)(a2 + 4);
  result = a1;
  v7 = *(float *)(a3 + 44) * *(float *)(a2 + 8)
     + *(float *)(a3 + 12) * *(float *)a2
     + *(float *)(a3 + 60) * *(float *)(a2 + 12)
     + *(float *)(a3 + 28) * *(float *)(a2 + 4);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (0042D10E) --------------------------------------------------------
int sub_42D10E()
{
  sub_42F98A(1u);
  return off_4B2658();
}
// 4B2658: using guessed type int (*off_4B2658)(void);

//----- (0042D11F) --------------------------------------------------------
int __stdcall sub_42D11F(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // ecx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(v8 + 4) * *(float *)(a5 + 16)
          + *(float *)(a5 + 48) * *(float *)(v8 + 12)
          + *(float *)(v8 + 8) * *(float *)(a5 + 32)
          + *(float *)v8 * *(float *)a5;
      v11 = *(float *)(v8 + 8) * *(float *)(a5 + 36)
          + *(float *)v8 * *(float *)(a5 + 4)
          + *(float *)(v8 + 4) * *(float *)(a5 + 20)
          + *(float *)(a5 + 52) * *(float *)(v8 + 12);
      v12 = *(float *)(v8 + 12) * *(float *)(a5 + 56)
          + *(float *)(v8 + 4) * *(float *)(a5 + 24)
          + *(float *)(a5 + 8) * *(float *)v8
          + *(float *)(v8 + 8) * *(float *)(a5 + 40);
      v13 = *(float *)(v8 + 8) * *(float *)(a5 + 44)
          + *(float *)(a5 + 12) * *(float *)v8
          + *(float *)(v8 + 4) * *(float *)(a5 + 28);
      v14 = *(float *)(v8 + 12);
      v8 += a4;
      --v6;
      v15 = v13 + v14 * *(float *)(a5 + 60);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (0042D1DE) --------------------------------------------------------
int sub_42D1DE()
{
  sub_42F98A(1u);
  return off_4B265C();
}
// 4B265C: using guessed type int (*off_4B265C)(void);

//----- (0042D1EF) --------------------------------------------------------
int sub_42D1EF()
{
  sub_42F98A(1u);
  return off_4B2660();
}
// 4B2660: using guessed type int (*off_4B2660)(void);

//----- (0042D200) --------------------------------------------------------
int __stdcall sub_42D200(int a1, int a2)
{
  int v2; // ecx@1
  int result; // eax@2
  float v4; // ecx@3
  long double v5; // st7@6
  float v6; // ST08_4@6
  long double v7; // st7@6
  float v8; // ST0C_4@6
  float v9; // [sp+1Ch] [bp+Ch]@1

  v9 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4);
  if ( sub_42A6CD(v9, 1.0) )
  {
    result = a1;
    if ( a1 == v2 )
      return result;
    *(_DWORD *)a1 = *(_DWORD *)v2;
    v4 = *(float *)(v2 + 4);
    goto LABEL_4;
  }
  result = a1;
  if ( v9 > 1.1754944e-38 )
  {
    v5 = 1.0 / sqrt(v9);
    v6 = v5 * *(float *)v2;
    v7 = v5 * *(float *)(v2 + 4);
    *(float *)a1 = v6;
    v8 = v7;
    v4 = v8;
LABEL_4:
    *(float *)(result + 4) = v4;
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  return result;
}

//----- (0042D28A) --------------------------------------------------------
int __stdcall sub_42D28A(int a1, int a2, int a3)
{
  float v3; // ST08_4@1
  float v4; // ST0C_4@1
  float v5; // ST10_4@1
  int result; // eax@1
  float v7; // ST14_4@1

  v3 = *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3 + *(float *)(a3 + 48);
  v4 = *(float *)(a3 + 4) * *(float *)a2 + *(float *)(a3 + 20) * *(float *)(a2 + 4) + *(float *)(a3 + 52);
  v5 = *(float *)(a3 + 8) * *(float *)a2 + *(float *)(a3 + 24) * *(float *)(a2 + 4) + *(float *)(a3 + 56);
  result = a1;
  v7 = *(float *)(a3 + 12) * *(float *)a2 + *(float *)(a3 + 28) * *(float *)(a2 + 4) + *(float *)(a3 + 60);
  *(float *)a1 = v3;
  *(float *)(a1 + 4) = v4;
  *(float *)(a1 + 8) = v5;
  *(float *)(a1 + 12) = v7;
  return result;
}

//----- (0042D2F5) --------------------------------------------------------
int __stdcall sub_42D2F5(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // edx@2
  int v9; // edi@3
  float v10; // ST0C_4@3
  float v11; // ST10_4@3
  float v12; // ST14_4@3
  double v13; // st7@3
  double v14; // st6@3
  float v15; // ST18_4@3

  v6 = a6;
  v7 = a1;
  if ( a6 )
  {
    v8 = a3;
    do
    {
      v9 = v7;
      v7 += a2;
      v10 = *(float *)(a5 + 16) * *(float *)(v8 + 4) + *(float *)v8 * *(float *)a5 + *(float *)(a5 + 48);
      v11 = *(float *)(a5 + 4) * *(float *)v8 + *(float *)(a5 + 20) * *(float *)(v8 + 4) + *(float *)(a5 + 52);
      v12 = *(float *)(a5 + 8) * *(float *)v8 + *(float *)(a5 + 24) * *(float *)(v8 + 4) + *(float *)(a5 + 56);
      v13 = *(float *)v8 * *(float *)(a5 + 12);
      v14 = *(float *)(v8 + 4);
      v8 += a4;
      --v6;
      v15 = v13 + v14 * *(float *)(a5 + 28) + *(float *)(a5 + 60);
      *(float *)v9 = v10;
      v9 += 4;
      *(float *)v9 = v11;
      v9 += 4;
      *(float *)v9 = v12;
      *(float *)(v9 + 4) = v15;
    }
    while ( v6 );
  }
  return a1;
}

//----- (0042D378) --------------------------------------------------------
int __stdcall sub_42D378(int a1, int a2, int a3)
{
  double v3; // st6@1
  double v4; // st7@1
  bool v5; // zf@1
  int result; // eax@1
  double v7; // st7@2
  float v8; // [sp+8h] [bp-4h]@1

  v3 = *(float *)a2 * *(float *)(a3 + 4) + *(float *)(a2 + 4) * *(float *)(a3 + 20) + *(float *)(a3 + 52);
  v4 = *(float *)a2 * *(float *)(a3 + 12) + *(float *)(a2 + 4) * *(float *)(a3 + 28) + *(float *)(a3 + 60);
  *(float *)a1 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 16) + *(float *)(a3 + 48);
  *(float *)(a1 + 4) = v3;
  v8 = v4;
  v5 = sub_42A6CD(v8, 1.0) == 0;
  result = a1;
  if ( v5 )
  {
    v7 = 1.0 / v8;
    *(float *)a1 = v7 * *(float *)a1;
    *(float *)(a1 + 4) = v7 * *(float *)(a1 + 4);
  }
  return result;
}

//----- (0042D3F5) --------------------------------------------------------
int __stdcall sub_42D3F5(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // edi@1
  int v8; // ebx@1
  int v9; // ecx@2
  int v10; // edx@2
  float v11; // ST14_4@3
  float v12; // ST18_4@3
  double v13; // st7@3
  int v14; // edx@3
  double v15; // st7@4
  float v17; // [sp+2Ch] [bp+8h]@3

  v6 = a1;
  v7 = a6;
  v8 = a1;
  if ( a6 )
  {
    v9 = a5;
    v10 = a3;
    do
    {
      v11 = *(float *)(v9 + 16) * *(float *)(v10 + 4) + *(float *)v10 * *(float *)v9 + *(float *)(v9 + 48);
      v12 = *(float *)(v9 + 4) * *(float *)v10 + *(float *)(v9 + 20) * *(float *)(v10 + 4) + *(float *)(v9 + 52);
      v13 = *(float *)(v9 + 12) * *(float *)v10 + *(float *)(v9 + 28) * *(float *)(v10 + 4) + *(float *)(v9 + 60);
      *(float *)v6 = v11;
      *(float *)(v6 + 4) = v12;
      v17 = v13;
      if ( !sub_42A6CD(v17, 1.0) )
      {
        v15 = 1.0 / v17;
        *(float *)v6 = v15 * *(float *)v6;
        *(float *)(v6 + 4) = v15 * *(float *)(v6 + 4);
      }
      v10 = a4 + v14;
      v6 += a2;
      --v7;
    }
    while ( v7 );
  }
  return v8;
}

//----- (0042D48D) --------------------------------------------------------
int __stdcall sub_42D48D(int a1, int a2, int a3)
{
  float v3; // ST00_4@1
  double v4; // st7@1
  double v5; // st6@1
  int result; // eax@1
  float v7; // ST04_4@1

  v3 = *(float *)(a3 + 16) * *(float *)(a2 + 4) + *(float *)a2 * *(float *)a3;
  v4 = *(float *)(a3 + 4) * *(float *)a2;
  v5 = *(float *)(a3 + 20) * *(float *)(a2 + 4);
  result = a1;
  *(float *)a1 = v3;
  v7 = v4 + v5;
  *(float *)(a1 + 4) = v7;
  return result;
}

//----- (0042D4C9) --------------------------------------------------------
int __stdcall sub_42D4C9(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  int v7; // edi@1
  int result; // eax@1
  int v9; // ecx@2
  float v10; // ST0C_4@3
  double v11; // st7@3
  double v12; // st6@3
  float v13; // ST10_4@3

  v6 = a1;
  v7 = a6;
  result = a1;
  if ( a6 )
  {
    v9 = a3;
    do
    {
      v10 = *(float *)(a5 + 16) * *(float *)(v9 + 4) + *(float *)v9 * *(float *)a5;
      v11 = *(float *)(a5 + 4) * *(float *)v9;
      v12 = *(float *)(a5 + 20) * *(float *)(v9 + 4);
      v9 += a4;
      *(float *)v6 = v10;
      v13 = v11 + v12;
      *(float *)(v6 + 4) = v13;
      v6 += a2;
      --v7;
    }
    while ( v7 );
  }
  return result;
}

//----- (0042D51D) --------------------------------------------------------
int __stdcall sub_42D51D(int a1, int a2)
{
  float *v2; // esi@1
  int result; // eax@2
  int v4; // esi@3
  long double v5; // st7@5
  long double v6; // st7@5
  float v7; // [sp+10h] [bp-Ch]@5
  float v8; // [sp+14h] [bp-8h]@5
  float v9; // [sp+18h] [bp-4h]@5
  float v10; // [sp+28h] [bp+Ch]@1

  v2 = (float *)a2;
  v10 = *(float *)a2 * *(float *)a2 + *(float *)(a2 + 4) * *(float *)(a2 + 4) + *(float *)(a2 + 8) * *(float *)(a2 + 8);
  if ( sub_42A6CD(v10, 1.0) )
  {
    result = a1;
    if ( (float *)a1 == v2 )
      return result;
    goto LABEL_3;
  }
  result = a1;
  if ( v10 > 1.1754944e-38 )
  {
    v5 = 1.0 / sqrt(v10);
    v7 = v5 * *v2;
    v8 = v5 * v2[1];
    v6 = v5 * v2[2];
    v2 = &v7;
    v9 = v6;
LABEL_3:
    *(float *)result = *v2;
    v4 = (int)(v2 + 1);
    *(_DWORD *)(result + 4) = *(_DWORD *)v4;
    *(_DWORD *)(result + 8) = *(_DWORD *)(v4 + 4);
    return result;
  }
  *(float *)a1 = 0.0;
  *(float *)(a1 + 4) = 0.0;
  *(float *)(a1 + 8) = 0.0;
  return result;
}

//----- (0042D5BA) --------------------------------------------------------
int __stdcall sub_42D5BA(int a1, int a2, int a3)
{
  double v3; // st5@1
  double v4; // st6@1
  double v5; // st7@1
  bool v6; // zf@1
  int result; // eax@1
  double v8; // st7@2
  float v9; // [sp+8h] [bp-4h]@1

  v3 = *(float *)a2 * *(float *)(a3 + 4)
     + *(float *)(a2 + 4) * *(float *)(a3 + 20)
     + *(float *)(a2 + 8) * *(float *)(a3 + 36)
     + *(float *)(a3 + 52);
  v4 = *(float *)a2 * *(float *)(a3 + 8)
     + *(float *)(a2 + 4) * *(float *)(a3 + 24)
     + *(float *)(a2 + 8) * *(float *)(a3 + 40)
     + *(float *)(a3 + 56);
  v5 = *(float *)a2 * *(float *)(a3 + 12)
     + *(float *)(a2 + 4) * *(float *)(a3 + 28)
     + *(float *)(a2 + 8) * *(float *)(a3 + 44)
     + *(float *)(a3 + 60);
  *(float *)a1 = *(float *)a2 * *(float *)a3
               + *(float *)(a2 + 4) * *(float *)(a3 + 16)
               + *(float *)(a2 + 8) * *(float *)(a3 + 32)
               + *(float *)(a3 + 48);
  *(float *)(a1 + 4) = v3;
  *(float *)(a1 + 8) = v4;
  v9 = v5;
  v6 = sub_42A6CD(v9, 1.0) == 0;
  result = a1;
  if ( v6 )
  {
    v8 = 1.0 / v9;
    *(float *)a1 = v8 * *(float *)a1;
    *(float *)(a1 + 4) = v8 * *(float *)(a1 + 4);
    *(float *)(a1 + 8) = v8 * *(float *)(a1 + 8);
  }
  return result;
}

//----- (0042D676) --------------------------------------------------------
int __stdcall sub_42D676(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ebx@1
  int v7; // ecx@2
  int v8; // edx@2
  float v9; // ST14_4@3
  float v10; // ST18_4@3
  float v11; // ST1C_4@3
  double v12; // st7@3
  int v13; // edx@3
  double v14; // st7@4
  int v16; // [sp+20h] [bp-4h]@1
  float v17; // [sp+2Ch] [bp+8h]@3

  v6 = a1;
  v16 = a1;
  if ( a6 )
  {
    v7 = a5;
    v8 = a3;
    do
    {
      v9 = *(float *)(v7 + 16) * *(float *)(v8 + 4)
         + *(float *)(v7 + 32) * *(float *)(v8 + 8)
         + *(float *)v8 * *(float *)v7
         + *(float *)(v7 + 48);
      v10 = *(float *)(v7 + 4) * *(float *)v8
          + *(float *)(v7 + 20) * *(float *)(v8 + 4)
          + *(float *)(v7 + 36) * *(float *)(v8 + 8)
          + *(float *)(v7 + 52);
      v11 = *(float *)(v8 + 8) * *(float *)(v7 + 40)
          + *(float *)v8 * *(float *)(v7 + 8)
          + *(float *)(v8 + 4) * *(float *)(v7 + 24)
          + *(float *)(v7 + 56);
      v12 = *(float *)(v7 + 12) * *(float *)v8
          + *(float *)(v7 + 28) * *(float *)(v8 + 4)
          + *(float *)(v7 + 44) * *(float *)(v8 + 8)
          + *(float *)(v7 + 60);
      *(float *)v6 = v9;
      *(float *)(v6 + 4) = v10;
      v17 = v12;
      *(float *)(v6 + 8) = v11;
      if ( !sub_42A6CD(v17, 1.0) )
      {
        v14 = 1.0 / v17;
        *(float *)v6 = v14 * *(float *)v6;
        *(float *)(v6 + 4) = v14 * *(float *)(v6 + 4);
        *(float *)(v6 + 8) = v14 * *(float *)(v6 + 8);
      }
      v8 = a4 + v13;
      v6 += a2;
      --a6;
    }
    while ( a6 );
  }
  return v16;
}

//----- (0042D755) --------------------------------------------------------
int __stdcall sub_42D755(int a1, int a2, int a3, float *a4, float *a5, float *a6)
{
  float *v6; // esi@1
  float *v8; // [sp-4h] [bp-54h]@7
  float v9; // [sp+10h] [bp-40h]@1
  float v10; // [sp+14h] [bp-3Ch]@2
  float v11; // [sp+18h] [bp-38h]@2
  float v12; // [sp+1Ch] [bp-34h]@2
  float v13; // [sp+20h] [bp-30h]@2
  float v14; // [sp+24h] [bp-2Ch]@2
  float v15; // [sp+28h] [bp-28h]@2
  float v16; // [sp+2Ch] [bp-24h]@2
  float v17; // [sp+30h] [bp-20h]@2
  float v18; // [sp+34h] [bp-1Ch]@2
  float v19; // [sp+38h] [bp-18h]@2
  float v20; // [sp+3Ch] [bp-14h]@2
  float v21; // [sp+40h] [bp-10h]@2
  float v22; // [sp+44h] [bp-Ch]@2
  float v23; // [sp+48h] [bp-8h]@2
  float v24; // [sp+4Ch] [bp-4h]@2

  v6 = &v9;
  switch ( (a4 != 0) | 2 * ((a5 != 0) | 2 * (a6 != 0)) )
  {
    case 0:
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v15 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v11 = 0.0;
      v10 = 0.0;
      v24 = 1.0;
      v19 = 1.0;
      v14 = 1.0;
      v9 = 1.0;
      break;
    case 1:
      v6 = a4;
      break;
    case 2:
      v6 = a5;
      break;
    case 3:
      sub_42B633(&v9, a5, a4);
      break;
    case 4:
      v6 = a6;
      break;
    case 5:
      v8 = a4;
      goto LABEL_9;
    case 6:
      v8 = a5;
LABEL_9:
      sub_42B633(&v9, a6, v8);
      break;
    case 7:
      sub_42B633(&v9, a6, a5);
      sub_42B633(&v9, &v9, a4);
      break;
    default:
      break;
  }
  sub_42AEA2(a1, a2, v6);
  if ( a3 )
  {
    *(float *)a1 = (*(float *)a1 + 1.0) * (double)*(unsigned int *)(a3 + 8) * 0.5 + (double)*(unsigned int *)a3;
    *(float *)(a1 + 4) = (1.0 - *(float *)(a1 + 4)) * (double)*(unsigned int *)(a3 + 12) * 0.5
                       + (double)*(unsigned int *)(a3 + 4);
    *(float *)(a1 + 8) = (*(float *)(a3 + 20) - *(float *)(a3 + 16)) * *(float *)(a1 + 8) + *(float *)(a3 + 16);
  }
  return a1;
}
// 42AEA2: using guessed type int __stdcall sub_42AEA2(_DWORD, _DWORD, _DWORD);
// 42B633: using guessed type int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD);

//----- (0042D8E2) --------------------------------------------------------
int __stdcall sub_42D8E2(int a1, int a2, int a3, int a4, int a5, float *a6, float *a7, float *a8, int a9)
{
  float *v9; // esi@1
  double v10; // st7@12
  int v11; // ecx@12
  double v12; // st6@12
  bool v13; // sf@14
  double v14; // st5@14
  int v15; // ecx@16
  double v16; // st5@16
  float *v18; // [sp+10h] [bp-94h]@7
  float v19; // [sp+24h] [bp-80h]@1
  float v20; // [sp+28h] [bp-7Ch]@2
  float v21; // [sp+2Ch] [bp-78h]@2
  float v22; // [sp+30h] [bp-74h]@2
  float v23; // [sp+34h] [bp-70h]@2
  float v24; // [sp+38h] [bp-6Ch]@2
  float v25; // [sp+3Ch] [bp-68h]@2
  float v26; // [sp+40h] [bp-64h]@2
  float v27; // [sp+44h] [bp-60h]@2
  float v28; // [sp+48h] [bp-5Ch]@2
  float v29; // [sp+4Ch] [bp-58h]@2
  float v30; // [sp+50h] [bp-54h]@2
  float v31; // [sp+54h] [bp-50h]@2
  float v32; // [sp+58h] [bp-4Ch]@2
  float v33; // [sp+5Ch] [bp-48h]@2
  float v34; // [sp+60h] [bp-44h]@2
  float v35; // [sp+64h] [bp-40h]@12
  float v36; // [sp+68h] [bp-3Ch]@12
  float v37; // [sp+6Ch] [bp-38h]@12
  float v38; // [sp+70h] [bp-34h]@12
  float v39; // [sp+74h] [bp-30h]@12
  float v40; // [sp+78h] [bp-2Ch]@14
  float v41; // [sp+7Ch] [bp-28h]@14
  float v42; // [sp+80h] [bp-24h]@14
  float v43; // [sp+84h] [bp-20h]@14
  float v44; // [sp+88h] [bp-1Ch]@14
  float v45; // [sp+8Ch] [bp-18h]@14
  float v46; // [sp+90h] [bp-14h]@14
  float v47; // [sp+94h] [bp-10h]@16
  float v48; // [sp+98h] [bp-Ch]@18
  int v49; // [sp+9Ch] [bp-8h]@18
  float v50; // [sp+A0h] [bp-4h]@18

  v9 = &v19;
  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v33 = 0.0;
      v32 = 0.0;
      v31 = 0.0;
      v30 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v26 = 0.0;
      v25 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v34 = 1.0;
      v29 = 1.0;
      v24 = 1.0;
      v19 = 1.0;
      break;
    case 1:
      v9 = a6;
      break;
    case 2:
      v9 = a7;
      break;
    case 3:
      sub_42B633(&v19, a7, a6);
      break;
    case 4:
      v9 = a8;
      break;
    case 5:
      v18 = a6;
      goto LABEL_9;
    case 6:
      v18 = a7;
LABEL_9:
      sub_42B633(&v19, a8, v18);
      break;
    case 7:
      sub_42B633(&v19, a8, a7);
      sub_42B633(&v19, &v19, a6);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    v10 = (double)*(unsigned int *)(a5 + 8) * 0.5;
    v11 = *(_DWORD *)(a5 + 12);
    v35 = v10;
    v36 = 0.0;
    v37 = 0.0;
    v38 = 0.0;
    v39 = 0.0;
    v12 = (double)*(signed int *)(a5 + 12);
    if ( v11 < 0 )
      v12 = v12 + 4294967300.0;
    v13 = *(_DWORD *)a5 < 0;
    v40 = -0.5 * v12;
    v41 = 0.0;
    v42 = 0.0;
    v43 = 0.0;
    v44 = 0.0;
    v45 = *(float *)(a5 + 20) - *(float *)(a5 + 16);
    v46 = 0.0;
    v14 = (double)*(signed int *)a5;
    if ( v13 )
      v14 = v14 + 4294967300.0;
    v15 = *(_DWORD *)(a5 + 4);
    v47 = v14 + v10;
    v16 = (double)*(signed int *)(a5 + 4);
    if ( v15 < 0 )
      v16 = v16 + 4294967300.0;
    v49 = *(_DWORD *)(a5 + 16);
    v48 = v16 + v12 * 0.5;
    v50 = 1.0;
    sub_42B633(&v19, v9, &v35);
    v9 = &v19;
  }
  return sub_42AEB9(a1, a2, a3, a4, v9, a9);
}
// 42AEB9: using guessed type int __stdcall sub_42AEB9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 42B633: using guessed type int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD);

//----- (0042DAE2) --------------------------------------------------------
int __stdcall sub_42DAE2(int a1, int a2, int a3, int a4, int a5, int a6)
{
  double v6; // st7@13
  int v7; // esi@13
  double v8; // st7@13
  int v10; // [sp+10h] [bp-54h]@7
  float v11; // [sp+24h] [bp-40h]@2
  float v12; // [sp+28h] [bp-3Ch]@2
  float v13; // [sp+2Ch] [bp-38h]@2
  float v14; // [sp+30h] [bp-34h]@2
  float v15; // [sp+34h] [bp-30h]@2
  float v16; // [sp+38h] [bp-2Ch]@2
  float v17; // [sp+3Ch] [bp-28h]@2
  float v18; // [sp+40h] [bp-24h]@2
  float v19; // [sp+44h] [bp-20h]@2
  float v20; // [sp+48h] [bp-1Ch]@2
  float v21; // [sp+4Ch] [bp-18h]@2
  float v22; // [sp+50h] [bp-14h]@2
  float v23; // [sp+54h] [bp-10h]@2
  float v24; // [sp+58h] [bp-Ch]@2
  float v25; // [sp+5Ch] [bp-8h]@2
  float v26; // [sp+60h] [bp-4h]@2

  switch ( (a4 != 0) | 2 * ((a5 != 0) | 2 * (a6 != 0)) )
  {
    case 0:
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v15 = 0.0;
      v14 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      v11 = 1.0;
      break;
    case 1:
      sub_42BB3F(&v11, 0, a4);
      break;
    case 2:
      sub_42BB3F(&v11, 0, a5);
      break;
    case 3:
      sub_42B633(&v11, a5, a4);
      goto LABEL_11;
    case 4:
      sub_42BB3F(&v11, 0, a6);
      break;
    case 5:
      v10 = a4;
      goto LABEL_9;
    case 6:
      v10 = a5;
LABEL_9:
      sub_42B633(&v11, a6, v10);
      goto LABEL_11;
    case 7:
      sub_42B633(&v11, a6, a5);
      sub_42B633(&v11, &v11, a4);
LABEL_11:
      sub_42BB3F(&v11, 0, &v11);
      break;
    default:
      break;
  }
  if ( a3 )
  {
    v7 = a1;
    v6 = *(float *)a2 - (double)*(unsigned int *)a3;
    *(float *)a1 = v6 / (double)*(unsigned int *)(a3 + 8) + v6 / (double)*(unsigned int *)(a3 + 8) - 1.0;
    v8 = *(float *)(a2 + 4) - (double)*(unsigned int *)(a3 + 4);
    *(float *)(a1 + 4) = -(v8 / (double)*(unsigned int *)(a3 + 12) + v8 / (double)*(unsigned int *)(a3 + 12) - 1.0);
    *(float *)(a1 + 8) = (*(float *)(a2 + 8) - *(float *)(a3 + 16)) / (*(float *)(a3 + 20) - *(float *)(a3 + 16));
    sub_42AEA2(a1, a1, &v11);
  }
  else
  {
    v7 = a1;
    sub_42AEA2(a1, a2, &v11);
  }
  return v7;
}
// 42AEA2: using guessed type int __stdcall sub_42AEA2(_DWORD, _DWORD, _DWORD);
// 42B633: using guessed type int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD);
// 42BB3F: using guessed type int __stdcall sub_42BB3F(_DWORD, _DWORD, _DWORD);

//----- (0042DC88) --------------------------------------------------------
int __stdcall sub_42DC88(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  double v9; // st7@13
  double v10; // st6@13
  bool v11; // sf@13
  double v12; // st4@13
  double v13; // st4@13
  int v14; // ecx@15
  double v15; // st4@15
  int v17; // [sp+1Ch] [bp-A4h]@7
  float v18; // [sp+2Ch] [bp-94h]@13
  float v19; // [sp+30h] [bp-90h]@2
  float v20; // [sp+34h] [bp-8Ch]@2
  float v21; // [sp+38h] [bp-88h]@2
  float v22; // [sp+3Ch] [bp-84h]@2
  float v23; // [sp+40h] [bp-80h]@2
  float v24; // [sp+44h] [bp-7Ch]@2
  float v25; // [sp+48h] [bp-78h]@2
  float v26; // [sp+4Ch] [bp-74h]@2
  float v27; // [sp+50h] [bp-70h]@2
  float v28; // [sp+54h] [bp-6Ch]@2
  float v29; // [sp+58h] [bp-68h]@2
  float v30; // [sp+5Ch] [bp-64h]@2
  float v31; // [sp+60h] [bp-60h]@2
  float v32; // [sp+64h] [bp-5Ch]@2
  float v33; // [sp+68h] [bp-58h]@2
  float v34; // [sp+6Ch] [bp-54h]@2
  float v35; // [sp+80h] [bp-40h]@13
  float v36; // [sp+84h] [bp-3Ch]@13
  float v37; // [sp+88h] [bp-38h]@13
  float v38; // [sp+8Ch] [bp-34h]@13
  float v39; // [sp+90h] [bp-30h]@13
  float v40; // [sp+94h] [bp-2Ch]@13
  float v41; // [sp+98h] [bp-28h]@13
  float v42; // [sp+9Ch] [bp-24h]@13
  float v43; // [sp+A0h] [bp-20h]@13
  float v44; // [sp+A4h] [bp-1Ch]@13
  float v45; // [sp+A8h] [bp-18h]@13
  float v46; // [sp+ACh] [bp-14h]@13
  float v47; // [sp+B0h] [bp-10h]@15
  float v48; // [sp+B4h] [bp-Ch]@17
  float v49; // [sp+B8h] [bp-8h]@17
  float v50; // [sp+BCh] [bp-4h]@17

  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v33 = 0.0;
      v32 = 0.0;
      v31 = 0.0;
      v30 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v26 = 0.0;
      v25 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v20 = 0.0;
      v34 = 1.0;
      v29 = 1.0;
      v24 = 1.0;
      v19 = 1.0;
      break;
    case 1:
      sub_42BB3F(&v19, 0, a6);
      break;
    case 2:
      sub_42BB3F(&v19, 0, a7);
      break;
    case 3:
      sub_42B633(&v19, a7, a6);
      goto LABEL_11;
    case 4:
      sub_42BB3F(&v19, 0, a8);
      break;
    case 5:
      v17 = a6;
      goto LABEL_9;
    case 6:
      v17 = a7;
LABEL_9:
      sub_42B633(&v19, a8, v17);
      goto LABEL_11;
    case 7:
      sub_42B633(&v19, a8, a7);
      sub_42B633(&v19, &v19, a6);
LABEL_11:
      sub_42BB3F(&v19, 0, &v19);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    v9 = 2.0 / (double)*(unsigned int *)(a5 + 8);
    v10 = 2.0 / (double)*(unsigned int *)(a5 + 12);
    v11 = *(_DWORD *)a5 < 0;
    v12 = 1.0 / (*(float *)(a5 + 20) - *(float *)(a5 + 16));
    v18 = v12;
    v35 = v9;
    v36 = 0.0;
    v37 = 0.0;
    v38 = 0.0;
    v39 = 0.0;
    v40 = -v10;
    v41 = 0.0;
    v42 = 0.0;
    v43 = 0.0;
    v44 = 0.0;
    v45 = v12;
    v46 = 0.0;
    v13 = (double)*(signed int *)a5;
    if ( v11 )
      v13 = v13 + 4294967300.0;
    v14 = *(_DWORD *)(a5 + 4);
    v47 = -(v13 * v9) - 1.0;
    v15 = (double)*(signed int *)(a5 + 4);
    if ( v14 < 0 )
      v15 = v15 + 4294967300.0;
    v48 = v15 * v10 - 1.0;
    v49 = -(v18 * *(float *)(a5 + 16));
    v50 = 1.0;
    sub_42B633(&v19, &v19, &v35);
  }
  return sub_42AEB9(a1, a2, a3, a4, &v19, a9);
}
// 42AEB9: using guessed type int __stdcall sub_42AEB9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 42B633: using guessed type int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD);
// 42BB3F: using guessed type int __stdcall sub_42BB3F(_DWORD, _DWORD, _DWORD);

//----- (0042DEB9) --------------------------------------------------------
int __stdcall sub_42DEB9(int a1, float a2, float a3, float a4)
{
  int v5; // [sp+Ch] [bp-10h]@1
  int v6; // [sp+10h] [bp-Ch]@1
  int v7; // [sp+14h] [bp-8h]@1

  sub_42C76D((int)&v5, a2, a3, a4);
  sub_42C2EC(a1, &v5, v5, v6, v7);
  return a1;
}
// 42C2EC: using guessed type int __stdcall sub_42C2EC(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042DEF2) --------------------------------------------------------
int __stdcall sub_42DEF2(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // ecx@3
  int v8; // ecx@3
  int v9; // esi@4
  int v10; // eax@6
  char *v12; // [sp+Ch] [bp-D0h]@0
  int v13; // [sp+10h] [bp-CCh]@0
  int v14; // [sp+14h] [bp-C8h]@0
  int v15; // [sp+1Ch] [bp-C0h]@3
  float v16; // [sp+20h] [bp-BCh]@3
  float v17; // [sp+24h] [bp-B8h]@3
  float v18; // [sp+28h] [bp-B4h]@3
  float v19; // [sp+2Ch] [bp-B0h]@3
  int v20; // [sp+30h] [bp-ACh]@3
  float v21; // [sp+34h] [bp-A8h]@3
  float v22; // [sp+38h] [bp-A4h]@3
  float v23; // [sp+3Ch] [bp-A0h]@3
  float v24; // [sp+40h] [bp-9Ch]@3
  int v25; // [sp+44h] [bp-98h]@3
  float v26; // [sp+48h] [bp-94h]@3
  float v27; // [sp+4Ch] [bp-90h]@3
  float v28; // [sp+50h] [bp-8Ch]@3
  float v29; // [sp+54h] [bp-88h]@3
  float v30; // [sp+58h] [bp-84h]@3
  char v31; // [sp+5Ch] [bp-80h]@3
  char v32; // [sp+60h] [bp-7Ch]@3
  char v33; // [sp+68h] [bp-74h]@10
  char v34; // [sp+9Ch] [bp-40h]@4
  char v35; // [sp+A0h] [bp-3Ch]@4

  if ( a4 )
  {
    if ( a3 )
    {
      v29 = 0.0;
      v7 = *(_DWORD *)a4;
      v28 = 0.0;
      v15 = v7;
      v8 = *(_DWORD *)(a4 + 4);
      v27 = 0.0;
      v25 = *(_DWORD *)(a4 + 8);
      v26 = 0.0;
      v20 = v8;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v21 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v16 = 0.0;
      v30 = 1.0;
      sub_42C2EC(&v31, a3, v12, v13, v14);
      v12 = &v32;
      if ( a2 )
      {
        sub_42B87C(&v35);
        v9 = a1;
        *(float *)(a1 + 56) = 0.0;
        *(float *)(a1 + 52) = 0.0;
        *(float *)(a1 + 48) = 0.0;
        *(float *)(a1 + 44) = 0.0;
        *(float *)(a1 + 36) = 0.0;
        *(float *)(a1 + 32) = 0.0;
        *(float *)(a1 + 28) = 0.0;
        *(float *)(a1 + 24) = 0.0;
        *(float *)(a1 + 16) = 0.0;
        *(float *)(a1 + 12) = 0.0;
        *(float *)(a1 + 8) = 0.0;
        *(float *)(a1 + 4) = 0.0;
        *(float *)(a1 + 60) = 1.0;
        *(float *)(a1 + 40) = 1.0;
        *(float *)(a1 + 20) = 1.0;
        *(float *)a1 = 1.0;
        *(float *)(a1 + 48) = -*(float *)a2;
        *(float *)(a1 + 52) = -*(float *)(a2 + 4);
        *(float *)(a1 + 56) = -*(float *)(a2 + 8);
        sub_42B633(a1, a1, &v34);
        sub_42B633(v9, v9, &v15);
        sub_42B633(v9, v9, &v31);
        *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a2;
        *(float *)(v9 + 52) = *(float *)(a2 + 4) + *(float *)(v9 + 52);
        *(float *)(v9 + 56) = *(float *)(v9 + 56) + *(float *)(a2 + 8);
      }
      else
      {
        v9 = a1;
        sub_42B87C(a1);
        sub_42B633(v9, v9, &v15);
        sub_42B633(v9, v9, &v31);
      }
    }
    else
    {
      v9 = a1;
      *(float *)(a1 + 56) = 0.0;
      *(float *)(a1 + 52) = 0.0;
      *(float *)(a1 + 48) = 0.0;
      *(float *)(a1 + 44) = 0.0;
      *(float *)(a1 + 36) = 0.0;
      *(float *)(a1 + 32) = 0.0;
      *(float *)(a1 + 28) = 0.0;
      *(float *)(a1 + 24) = 0.0;
      *(float *)(a1 + 16) = 0.0;
      *(float *)(a1 + 12) = 0.0;
      *(float *)(a1 + 8) = 0.0;
      *(float *)(a1 + 4) = 0.0;
      *(_DWORD *)a1 = *(_DWORD *)a4;
      *(_DWORD *)(a1 + 20) = *(_DWORD *)(a4 + 4);
      v10 = *(_DWORD *)(a4 + 8);
      *(float *)(a1 + 60) = 1.0;
      *(_DWORD *)(a1 + 40) = v10;
    }
  }
  else
  {
    v9 = a1;
    *(float *)(a1 + 56) = 0.0;
    *(float *)(a1 + 52) = 0.0;
    *(float *)(a1 + 48) = 0.0;
    *(float *)(a1 + 44) = 0.0;
    *(float *)(a1 + 36) = 0.0;
    *(float *)(a1 + 32) = 0.0;
    *(float *)(a1 + 28) = 0.0;
    *(float *)(a1 + 24) = 0.0;
    *(float *)(a1 + 16) = 0.0;
    *(float *)(a1 + 12) = 0.0;
    *(float *)(a1 + 8) = 0.0;
    *(float *)(a1 + 4) = 0.0;
    *(float *)(a1 + 60) = 1.0;
    *(float *)(a1 + 40) = 1.0;
    *(float *)(a1 + 20) = 1.0;
    *(float *)a1 = 1.0;
  }
  if ( a6 )
  {
    sub_42C2EC(&v31, a6, v12, v13, v14);
    if ( a5 )
    {
      *(float *)(v9 + 48) = *(float *)(v9 + 48) - *(float *)a5;
      *(float *)(v9 + 52) = *(float *)(v9 + 52) - *(float *)(a5 + 4);
      *(float *)(v9 + 56) = *(float *)(v9 + 56) - *(float *)(a5 + 8);
      sub_42B633(v9, v9, &v33);
      *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a5;
      *(float *)(v9 + 52) = *(float *)(v9 + 52) + *(float *)(a5 + 4);
      *(float *)(v9 + 56) = *(float *)(v9 + 56) + *(float *)(a5 + 8);
    }
    else
    {
      sub_42B633(v9, v9, &v33);
    }
  }
  if ( a7 )
  {
    *(float *)(v9 + 48) = *(float *)(v9 + 48) + *(float *)a7;
    *(float *)(v9 + 52) = *(float *)(a7 + 4) + *(float *)(v9 + 52);
    *(float *)(v9 + 56) = *(float *)(a7 + 8) + *(float *)(v9 + 56);
  }
  return v9;
}
// 42B633: using guessed type int __cdecl sub_42B633(_DWORD, _DWORD, _DWORD);
// 42B87C: using guessed type int __stdcall sub_42B87C(_DWORD);
// 42C2EC: using guessed type int __stdcall sub_42C2EC(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0042E1A6) --------------------------------------------------------
int __stdcall sub_42E1A6(int a1, int a2, int a3)
{
  int result; // eax@1
  double v4; // st7@1
  double v5; // st6@1
  double v6; // st5@1
  double v7; // st4@1
  float v8; // ST10_4@1
  double v9; // st3@1
  float v10; // ST14_4@1
  float v11; // [sp+10h] [bp-10h]@1
  float v12; // [sp+14h] [bp-Ch]@1
  float v13; // [sp+18h] [bp-8h]@1
  float v14; // [sp+1Ch] [bp-4h]@1

  sub_42CE18(&v11, a3);
  result = a1;
  v4 = v12 * *(float *)(a2 + 4) + v11 * *(float *)a2 + v14 * *(float *)(a2 + 12) + v13 * *(float *)(a2 + 8);
  v5 = -v11;
  v6 = -v12;
  v7 = -v13;
  v8 = v7;
  v9 = -v14;
  v10 = v9;
  *(float *)a1 = v5 * *(float *)a2 + v4;
  *(float *)(a1 + 16) = v6 * *(float *)a2;
  *(float *)(a1 + 32) = v7 * *(float *)a2;
  *(float *)(a1 + 48) = v9 * *(float *)a2;
  *(float *)(a1 + 4) = v5 * *(float *)(a2 + 4);
  *(float *)(a1 + 20) = v6 * *(float *)(a2 + 4) + v4;
  *(float *)(a1 + 36) = v7 * *(float *)(a2 + 4);
  *(float *)(a1 + 52) = v9 * *(float *)(a2 + 4);
  *(float *)(a1 + 8) = v5 * *(float *)(a2 + 8);
  *(float *)(a1 + 24) = v6 * *(float *)(a2 + 8);
  *(float *)(a1 + 40) = v7 * *(float *)(a2 + 8) + v4;
  *(float *)(a1 + 56) = v9 * *(float *)(a2 + 8);
  *(float *)(a1 + 12) = v5 * *(float *)(a2 + 12);
  *(float *)(a1 + 28) = v6 * *(float *)(a2 + 12);
  *(float *)(a1 + 44) = v8 * *(float *)(a2 + 12);
  *(float *)(a1 + 60) = v10 * *(float *)(a2 + 12) + v4;
  return result;
}
// 42CE18: using guessed type int __stdcall sub_42CE18(_DWORD, _DWORD);

//----- (0042E280) --------------------------------------------------------
int __stdcall sub_42E280(int a1, int a2)
{
  double v2; // st7@1
  int result; // eax@1
  double v4; // st6@1
  double v5; // st5@1
  float v6; // [sp+0h] [bp-10h]@1
  float v7; // [sp+4h] [bp-Ch]@1
  float v8; // [sp+8h] [bp-8h]@1
  float v9; // [sp+Ch] [bp-4h]@1
  float v10; // [sp+1Ch] [bp+Ch]@1

  sub_42CE18(&v6, a2);
  v2 = v6 * -2.0;
  result = a1;
  v4 = v7 * -2.0;
  v5 = v8 * -2.0;
  v10 = v5;
  *(float *)a1 = v6 * v2 + 1.0;
  *(float *)(a1 + 4) = v4 * v6;
  *(float *)(a1 + 8) = v5 * v6;
  *(float *)(a1 + 12) = 0.0;
  *(float *)(a1 + 16) = v7 * v2;
  *(float *)(a1 + 20) = v7 * v4 + 1.0;
  *(float *)(a1 + 24) = v5 * v7;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = v8 * v2;
  *(float *)(a1 + 36) = v8 * v4;
  *(float *)(a1 + 40) = v8 * v5 + 1.0;
  *(float *)(a1 + 44) = 0.0;
  *(float *)(a1 + 48) = v9 * v2;
  *(float *)(a1 + 52) = v9 * v4;
  *(float *)(a1 + 56) = v9 * v10;
  *(float *)(a1 + 60) = 1.0;
  return result;
}
// 42CE18: using guessed type int __stdcall sub_42CE18(_DWORD, _DWORD);

//----- (0042E33F) --------------------------------------------------------
int __stdcall sub_42E33F(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  unsigned __int8 v8; // c0@1
  unsigned __int8 v9; // c3@1
  unsigned __int8 v11; // c0@3
  unsigned __int8 v12; // c3@3
  unsigned __int8 v14; // c0@5
  unsigned __int8 v15; // c3@5
  int result; // eax@7
  int v17; // edi@7
  char v18; // [sp+8h] [bp-44h]@7
  float v19; // [sp+18h] [bp-34h]@7
  float v20; // [sp+1Ch] [bp-30h]@7
  float v21; // [sp+20h] [bp-2Ch]@7
  float v22; // [sp+24h] [bp-28h]@7
  float v23; // [sp+28h] [bp-24h]@1
  float v24; // [sp+2Ch] [bp-20h]@1
  float v25; // [sp+30h] [bp-1Ch]@1
  float v26; // [sp+34h] [bp-18h]@1
  float v27; // [sp+38h] [bp-14h]@1
  float v28; // [sp+3Ch] [bp-10h]@1
  float v29; // [sp+40h] [bp-Ch]@1
  float v30; // [sp+44h] [bp-8h]@1
  float v31; // [sp+48h] [bp-4h]@7
  float v32; // [sp+4Ch] [bp+0h]@7
  float v33; // [sp+50h] [bp+4h]@7
  float v34; // [sp+54h] [bp+8h]@7
  float v35; // [sp+58h] [bp+Ch]@1
  float v36; // [sp+5Ch] [bp+10h]@1
  float v37; // [sp+60h] [bp+14h]@1
  float v38; // [sp+64h] [bp+18h]@1
  float v39; // [sp+68h] [bp+1Ch]@7
  float v40; // [sp+6Ch] [bp+20h]@7
  float v41; // [sp+70h] [bp+24h]@7
  float v42; // [sp+74h] [bp+28h]@7
  float v43; // [sp+78h] [bp+2Ch]@2
  float v44; // [sp+7Ch] [bp+30h]@2
  float v45; // [sp+80h] [bp+34h]@2
  float v46; // [sp+84h] [bp+38h]@2
  float v47; // [sp+88h] [bp+3Ch]@1
  float v48; // [sp+8Ch] [bp+40h]@1
  float v49; // [sp+90h] [bp+44h]@1
  float v50; // [sp+94h] [bp+48h]@1
  float v51; // [sp+98h] [bp+4Ch]@7
  float v52; // [sp+9Ch] [bp+50h]@1
  float v53; // [sp+A0h] [bp+54h]@1
  float v54; // [sp+A4h] [bp+58h]@1

  v23 = *(float *)a4;
  v24 = *(float *)(a4 + 4);
  v25 = *(float *)(a4 + 8);
  v26 = *(float *)(a4 + 12);
  v35 = *(float *)a5;
  v36 = *(float *)(a5 + 4);
  v37 = *(float *)(a5 + 8);
  v38 = *(float *)(a5 + 12);
  v47 = *(float *)a6;
  v48 = *(float *)(a6 + 4);
  v49 = *(float *)(a6 + 8);
  v52 = v24 - v36;
  v50 = *(float *)(a6 + 12);
  v53 = v25 - v37;
  v27 = *(float *)a7;
  v28 = *(float *)(a7 + 4);
  v54 = v26 - v38;
  v29 = *(float *)(a7 + 8);
  v30 = *(float *)(a7 + 12);
  if ( !(v8 | v9) )
  {
    v43 = -v23;
    v44 = -v24;
    v45 = -v25;
    v46 = -v26;
    v23 = v43;
    v24 = v44;
    v25 = v45;
    v26 = v46;
  }
  v52 = v36 - v48;
  v53 = v37 - v49;
  v54 = v38 - v50;
  if ( !(v11 | v12) )
  {
    v43 = -v47;
    v44 = -v48;
    v45 = -v49;
    v46 = -v50;
    v47 = v43;
    v48 = v44;
    v49 = v45;
    v50 = v46;
  }
  v52 = v48 - v28;
  v53 = v49 - v29;
  v54 = v50 - v30;
  if ( !(v14 | v15) )
  {
    v43 = -v27;
    v44 = -v28;
    v45 = -v29;
    v46 = -v30;
    v27 = v43;
    v28 = v44;
    v29 = v45;
    v30 = v46;
  }
  sub_42C9C5(&v43, &v35);
  sub_42C859(&v39, &v43, &v23);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_42CA89(&v19, &v31);
  sub_42C859(&v39, &v43, &v47);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_42CA89(&v51, &v31);
  v40 = v20 + v52;
  v41 = v21 + v53;
  v31 = (v19 + v51) * -0.25;
  v32 = v40 * -0.25;
  v33 = v41 * -0.25;
  v34 = (v22 + v54) * -0.25;
  sub_42CB17(&v18, &v31);
  sub_42C859(&v39, &v35, &v18);
  *(float *)a1 = v39;
  *(float *)(a1 + 4) = v40;
  *(float *)(a1 + 8) = v41;
  *(float *)(a1 + 12) = v42;
  sub_42C9C5(&v43, &v47);
  sub_42C859(&v39, &v43, &v35);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_42CA89(&v19, &v31);
  sub_42C859(&v39, &v43, &v27);
  v31 = v39;
  v32 = v40;
  v33 = v41;
  v34 = v42;
  sub_42CA89(&v51, &v31);
  v40 = v20 + v52;
  v41 = v21 + v53;
  v31 = (v19 + v51) * -0.25;
  v32 = v40 * -0.25;
  v33 = v41 * -0.25;
  v34 = (v22 + v54) * -0.25;
  sub_42CB17(&v18, &v31);
  result = sub_42C859(&v39, &v47, &v18);
  *(float *)a2 = v39;
  *(float *)(a2 + 4) = v40;
  v17 = a2 + 8;
  *(float *)v17 = v41;
  *(float *)(v17 + 4) = v42;
  *(float *)a3 = v47;
  *(float *)(a3 + 4) = v48;
  *(float *)(a3 + 8) = v49;
  *(float *)(a3 + 12) = v50;
  return result;
}
// 42C859: using guessed type int __stdcall sub_42C859(_DWORD, _DWORD, _DWORD);
// 42C9C5: using guessed type int __stdcall sub_42C9C5(_DWORD, _DWORD);
// 42CA89: using guessed type int __stdcall sub_42CA89(_DWORD, _DWORD);
// 42CB17: using guessed type int __stdcall sub_42CB17(_DWORD, _DWORD);

//----- (0042E727) --------------------------------------------------------
int __thiscall sub_42E727(HGDIOBJ *this)
{
  HGDIOBJ *v1; // esi@1

  v1 = this;
  if ( *this )
    DeleteObject(*this);
  *v1 = 0;
  v1[1] = 0;
  v1[2] = 0;
  return 0;
}

//----- (0042E746) --------------------------------------------------------
int __thiscall sub_42E746(HGDIOBJ *this, HMODULE hModule, LPCWSTR lpName, int a4, int a5)
{
  HGDIOBJ *v5; // ebx@1
  HRSRC (__stdcall *v6)(HMODULE, LPCWSTR, LPCWSTR); // edi@3
  HRSRC v7; // esi@6
  DWORD v8; // eax@8
  HGLOBAL v9; // eax@9
  LPVOID v10; // eax@10
  int result; // eax@11

  v5 = this;
  if ( *this )
    sub_42E727(this);
  v6 = FindResourceW;
  if ( !a5 )
    v6 = (HRSRC (__stdcall *)(HMODULE, LPCWSTR, LPCWSTR))FindResourceA;
  if ( (a4 && (v7 = v6(hModule, lpName, (LPCWSTR)2)) != 0 || (v7 = v6(hModule, lpName, (LPCWSTR)0xA)) != 0)
    && (v8 = SizeofResource(hModule, v7), (v5[2] = (HGDIOBJ)v8) != 0)
    && (v9 = LoadResource(hModule, v7), (*v5 = v9) != 0)
    && (v10 = LockResource(v9), (v5[1] = v10) != 0) )
  {
    result = 0;
  }
  else
  {
    GetLastError();
    result = -2005529767;
  }
  return result;
}

//----- (0042E7D4) --------------------------------------------------------
int __thiscall sub_42E7D4(int this)
{
  int result; // eax@1
  _DWORD *v2; // ecx@1
  signed int v3; // esi@1

  result = this;
  *(_DWORD *)this = 1;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  v2 = (_DWORD *)(this + 48);
  v3 = 8;
  do
  {
    *(v2 - 8) = 0;
    *v2 = 0;
    ++v2;
    --v3;
  }
  while ( v3 );
  *(_DWORD *)(result + 96) = 0;
  *(_DWORD *)(result + 100) = 0;
  *(_DWORD *)(result + 104) = 0;
  *(_DWORD *)(result + 152) = 0;
  *(_DWORD *)(result + 156) = 0;
  *(_DWORD *)(result + 168) = 0;
  *(_DWORD *)(result + 108) = 0;
  *(_DWORD *)(result + 172) = 0;
  return result;
}

//----- (0042E81F) --------------------------------------------------------
int *__thiscall sub_42E81F(int this)
{
  int v1; // esi@1
  int v2; // eax@1
  int v3; // eax@3
  _DWORD *v4; // edi@5
  signed int v5; // ebp@5
  int v6; // eax@6
  int v7; // eax@11
  int v8; // eax@13
  HDC v9; // eax@15
  HDC v10; // ecx@18
  int *result; // eax@25
  int v12; // ecx@26

  v1 = this;
  v2 = *(_DWORD *)(this + 100);
  if ( v2 )
  {
    (*(void (__stdcall **)(int))(*(_DWORD *)v2 + 8))(v2);
    *(_DWORD *)(v1 + 100) = 0;
  }
  v3 = *(_DWORD *)(v1 + 104);
  if ( v3 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(v1 + 104));
    *(_DWORD *)(v1 + 104) = 0;
  }
  v4 = (_DWORD *)(v1 + 16);
  v5 = 8;
  do
  {
    v6 = v4[8];
    if ( v6 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v6 + 8))(v4[8]);
      v4[8] = 0;
    }
    if ( *v4 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v4 + 8))(*v4);
      *v4 = 0;
    }
    ++v4;
    --v5;
  }
  while ( v5 );
  v7 = *(_DWORD *)(v1 + 12);
  if ( v7 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 12) = 0;
  }
  v8 = *(_DWORD *)(v1 + 4);
  if ( v8 )
  {
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v8 + 8))(*(_DWORD *)(v1 + 4));
    *(_DWORD *)(v1 + 4) = 0;
  }
  v9 = *(HDC *)(v1 + 108);
  if ( v9 && *(_DWORD *)(v1 + 168) )
    SelectObject(v9, *(HGDIOBJ *)(v1 + 168));
  v10 = *(HDC *)(v1 + 108);
  if ( v10 && *(_DWORD *)(v1 + 156) )
    SelectObject(v10, *(HGDIOBJ *)(v1 + 156));
  if ( *(_DWORD *)(v1 + 152) )
    DeleteObject(*(HGDIOBJ *)(v1 + 152));
  if ( *(_DWORD *)(v1 + 108) )
    DeleteDC(*(HDC *)(v1 + 108));
  result = &dword_4C3E14;
  if ( dword_4C3E14 )
  {
    do
    {
      v12 = *result;
      if ( *result == v1 )
        break;
      result = (int *)(v12 + 172);
    }
    while ( *(_DWORD *)(v12 + 172) );
    if ( *result )
      *result = *(_DWORD *)(*result + 172);
  }
  return result;
}
// 4C3E14: using guessed type int dword_4C3E14;

//----- (0042E910) --------------------------------------------------------
void *__thiscall sub_42E910(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_42E81F((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0042E92C) --------------------------------------------------------
signed int __usercall sub_42E92C@<eax>(int a1@<ecx>, int a2@<ebx>, int a3@<edi>)
{
  int v3; // esi@1
  signed int result; // eax@2
  _DWORD *v5; // edi@3
  unsigned int v6; // ebx@5
  int v7; // ecx@6
  int v8; // [sp-8h] [bp-Ch]@5
  int v9; // [sp-4h] [bp-8h]@3

  v3 = a1;
  if ( *(_DWORD *)(a1 + 96) )
  {
    result = -2005530516;
  }
  else
  {
    v9 = a3;
    v5 = (_DWORD *)(a1 + 100);
    if ( !*(_DWORD *)(a1 + 100) || !*(_DWORD *)(a1 + 104) )
    {
      v8 = a2;
      v6 = 0;
      do
      {
        (*(void (__stdcall **)(_DWORD, int, int))(**(_DWORD **)(v3 + 4) + 240))(*(_DWORD *)(v3 + 4), v8, v9);
        (*(void (__stdcall **)(_DWORD, signed int, _DWORD))(**(_DWORD **)(v3 + 4) + 228))(*(_DWORD *)(v3 + 4), 7, 0);
        v7 = v3 + 100;
        if ( v6 )
          v7 = v3 + 104;
        v9 = v7;
        v8 = *(_DWORD *)(v3 + 4);
        (*(void (**)(void))(**(_DWORD **)(v3 + 4) + 244))();
        ++v6;
      }
      while ( v6 < 2 );
    }
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 12) + 16))(*(_DWORD *)(v3 + 12));
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v5 + 16))(*v5);
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v3 + 104) + 20))(*(_DWORD *)(v3 + 104));
    *(_DWORD *)(v3 + 96) = 1;
    result = 0;
  }
  return result;
}
// 42E92C: could not find valid save-restore pair for ebx
// 42E92C: could not find valid save-restore pair for edi

//----- (0042E9AD) --------------------------------------------------------
signed int __thiscall sub_42E9AD(int this)
{
  int v1; // esi@1
  signed int result; // eax@2

  v1 = this;
  if ( *(_DWORD *)(this + 96) )
  {
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(this + 100) + 20))(*(_DWORD *)(this + 100));
    (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v1 + 12) + 28))(*(_DWORD *)(v1 + 12));
    *(_DWORD *)(v1 + 96) = 0;
    result = 0;
  }
  else
  {
    result = -2005530516;
  }
  return result;
}

//----- (0042E9D7) --------------------------------------------------------
int __thiscall sub_42E9D7(int this)
{
  int v1; // esi@1
  int v2; // eax@2
  int v3; // eax@4
  int v4; // eax@6
  _DWORD *v5; // esi@9
  signed int v6; // ebx@9
  int v7; // eax@10

  v1 = this;
  if ( *(_DWORD *)(this + 4) )
  {
    v2 = *(_DWORD *)(this + 100);
    if ( v2 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v2 + 8))(*(_DWORD *)(this + 100));
      *(_DWORD *)(v1 + 100) = 0;
    }
    v3 = *(_DWORD *)(v1 + 104);
    if ( v3 )
    {
      (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v3 + 8))(*(_DWORD *)(v1 + 104));
      *(_DWORD *)(v1 + 104) = 0;
    }
  }
  v4 = *(_DWORD *)(v1 + 12);
  if ( v4 )
    (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v4 + 32))(*(_DWORD *)(v1 + 12));
  if ( *(_DWORD *)(v1 + 80) )
  {
    v5 = (_DWORD *)(v1 + 16);
    v6 = 8;
    do
    {
      v7 = v5[8];
      if ( v7 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)v7 + 8))(v5[8]);
        v5[8] = 0;
      }
      if ( *v5 )
      {
        (*(void (__stdcall **)(_DWORD))(*(_DWORD *)*v5 + 8))(*v5);
        *v5 = 0;
      }
      ++v5;
      --v6;
    }
    while ( v6 );
  }
  return 0;
}

//----- (0042EA45) --------------------------------------------------------
signed int __thiscall sub_42EA45(int this)
{
  int v1; // esi@1
  signed int result; // eax@2
  void *v3; // ecx@6
  unsigned int v4; // [sp+4h] [bp-14h]@4
  unsigned int v5; // [sp+8h] [bp-10h]@7
  int v6; // [sp+Ch] [bp-Ch]@4
  int v7; // [sp+10h] [bp-8h]@4
  _DWORD *v8; // [sp+14h] [bp-4h]@8

  v1 = this;
  if ( *(_DWORD *)(this + 16) )
  {
    result = 0;
  }
  else
  {
    if ( *(_DWORD *)(this + 80) )
    {
      v6 = 512;
      v7 = 0;
      v4 = 1;
    }
    else
    {
      v6 = 0;
      v7 = 1;
      v4 = 8;
    }
    result = sub_41AF46(
               0,
               *(_DWORD *)(this + 4),
               (unsigned int *)(this + 88),
               (unsigned int *)(this + 92),
               0,
               v6,
               (int *)(this + 84),
               v7);
    if ( result >= 0 )
    {
      v5 = 0;
      if ( v4 )
      {
        v8 = (_DWORD *)(v1 + 16);
        while ( 1 )
        {
          result = sub_41AF6B(
                     v3,
                     *(_DWORD *)(v1 + 4),
                     *(_DWORD *)(v1 + 88),
                     *(_DWORD *)(v1 + 92),
                     1,
                     v6,
                     *(_DWORD *)(v1 + 84),
                     v7,
                     (int)v8);
          if ( result < 0 )
            break;
          result = (*(int (__stdcall **)(_DWORD, _DWORD, int))(*(_DWORD *)*v8 + 72))(*v8, 0, (int)(v8 + 8));
          if ( result < 0 )
            break;
          ++v5;
          ++v8;
          if ( v5 >= v4 )
            goto LABEL_12;
        }
      }
      else
      {
LABEL_12:
        result = 0;
      }
    }
  }
  return result;
}

//----- (0042EAFF) --------------------------------------------------------
int __thiscall sub_42EAFF(int this)
{
  HDC v1; // edx@1
  _DWORD *v2; // esi@2

  v1 = *(HDC *)(this + 108);
  if ( v1 )
  {
    v2 = (_DWORD *)(this + 168);
    if ( *(_DWORD *)(this + 168) )
    {
      SelectObject(v1, *(HGDIOBJ *)(this + 168));
      *v2 = 0;
    }
  }
  return 0;
}

//----- (0042EB22) --------------------------------------------------------
void *__thiscall sub_42EB22(void *this)
{
  bool v1; // zf@1
  void *result; // eax@2

  v1 = (*(_DWORD *)this)-- == 1;
  if ( v1 )
    result = sub_42E910(this, 1);
  return result;
}

//----- (0042EB2E) --------------------------------------------------------
signed int __thiscall sub_42EB2E(int this, int a2)
{
  int v2; // esi@1
  signed int result; // eax@1
  HDC v4; // eax@3
  HBITMAP v5; // eax@5
  char v6; // [sp+4h] [bp-140h]@1
  int v7; // [sp+10h] [bp-134h]@1
  char v8; // [sp+134h] [bp-10h]@1

  v2 = this;
  *(_DWORD *)(this + 172) = dword_4C3E14;
  dword_4C3E14 = this;
  *(_DWORD *)(this + 4) = a2;
  (*(void (__stdcall **)(int))(*(_DWORD *)a2 + 4))(a2);
  (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 4) + 28))(*(_DWORD *)(v2 + 4), &v6);
  (*(void (__stdcall **)(_DWORD, char *))(**(_DWORD **)(v2 + 4) + 36))(*(_DWORD *)(v2 + 4), &v8);
  *(_DWORD *)(v2 + 80) = v7 & 0x20000000;
  *(_DWORD *)(v2 + 88) = 64;
  *(_DWORD *)(v2 + 92) = 16;
  *(_DWORD *)(v2 + 84) = 21;
  result = sub_42EA45(v2);
  if ( result >= 0 )
  {
    result = sub_41A7D5(*(_DWORD *)(v2 + 4), (_DWORD *)(v2 + 12));
    if ( result >= 0 )
    {
      memset((void *)(v2 + 112), 0, 0x28u);
      *(_DWORD *)(v2 + 112) = 40;
      *(_DWORD *)(v2 + 116) = 256;
      *(_DWORD *)(v2 + 120) = 256;
      *(_WORD *)(v2 + 124) = 1;
      *(_DWORD *)(v2 + 128) = 0;
      *(_WORD *)(v2 + 126) = 32;
      *(_DWORD *)(v2 + 164) = 21;
      v4 = CreateCompatibleDC(0);
      *(_DWORD *)(v2 + 108) = v4;
      if ( v4
        && (*(_DWORD *)(v2 + 120) = -*(_DWORD *)(v2 + 120),
            v5 = CreateDIBSection(v4, (const BITMAPINFO *)(v2 + 112), 0, (void **)(v2 + 160), 0, 0),
            (*(_DWORD *)(v2 + 152) = v5) != 0) )
      {
        *(_DWORD *)(v2 + 120) = -*(_DWORD *)(v2 + 120);
        SetBkMode(*(HDC *)(v2 + 108), 2);
        SetBkColor(*(HDC *)(v2 + 108), 0);
        SetTextColor(*(HDC *)(v2 + 108), 0xFFFFFFu);
        *(_DWORD *)(v2 + 156) = SelectObject(*(HDC *)(v2 + 108), *(HGDIOBJ *)(v2 + 152));
        result = 0;
      }
      else
      {
        result = -2147024882;
      }
    }
  }
  return result;
}
// 4C3E14: using guessed type int dword_4C3E14;

//----- (0042EC6F) --------------------------------------------------------
HGDIOBJ __thiscall sub_42EC6F(void *this, HGDIOBJ h, LPCWSTR lpWideCharStr, int cchWideChar, int a5, UINT format, int a7, LPSTR lpMultiByteStr)
{
  int v8; // ebx@1
  int v9; // edi@2
  LONG v10; // esi@3
  void *v11; // esp@5
  const WCHAR *v12; // eax@5
  HDC v13; // ST20_4@6
  HGDIOBJ v14; // eax@6
  void *v15; // eax@9
  unsigned int v16; // edx@11
  unsigned __int32 v17; // eax@11
  int v18; // esi@21
  int v19; // ecx@22
  int v20; // edx@26
  int v21; // ecx@27
  int v22; // edi@31
  HBITMAP v23; // eax@40
  HBITMAP v24; // edi@40
  LONG v26; // eax@42
  unsigned int v27; // eax@43
  char *v28; // edi@43
  unsigned int v29; // esi@43
  bool i; // cf@43
  void *v31; // eax@47
  bool v32; // zf@49
  char *v33; // eax@50
  unsigned int v34; // edx@51
  unsigned int v35; // ecx@52
  CHAR *v36; // edi@58
  int v37; // ecx@59
  unsigned int v38; // esi@61
  unsigned int v39; // eax@64
  int *v40; // eax@73
  int v41; // ecx@73
  int v42; // eax@74
  const WCHAR *v43; // edx@77
  _DWORD *v44; // ecx@77
  unsigned int v45; // eax@77
  int v46; // edi@81
  HDC v47; // [sp+Ch] [bp-DCh]@8
  HDC v48; // [sp+Ch] [bp-DCh]@46
  UINT v49; // [sp+1Ch] [bp-CCh]@8
  int v50; // [sp+20h] [bp-C8h]@5
  struct _OSVERSIONINFOA VersionInformation; // [sp+2Ch] [bp-BCh]@4
  unsigned int v52; // [sp+C0h] [bp-28h]@66
  CHAR *v53; // [sp+C4h] [bp-24h]@66
  unsigned int v54; // [sp+C8h] [bp-20h]@66
  int v55; // [sp+CCh] [bp-1Ch]@66
  float v56; // [sp+D0h] [bp-18h]@84
  float v57; // [sp+D4h] [bp-14h]@84
  BITMAPINFO bmi; // [sp+D8h] [bp-10h]@34
  int v59; // [sp+104h] [bp+1Ch]@66
  unsigned int v60; // [sp+108h] [bp+20h]@66
  UINT v61; // [sp+10Ch] [bp+24h]@66
  int v62; // [sp+110h] [bp+28h]@74
  const WCHAR *v63; // [sp+114h] [bp+2Ch]@77
  int v64; // [sp+118h] [bp+30h]@21
  int v65; // [sp+11Ch] [bp+34h]@26
  int v66; // [sp+120h] [bp+38h]@21
  int v67; // [sp+124h] [bp+3Ch]@26
  struct tagRECT rc; // [sp+128h] [bp+40h]@6
  unsigned int v69; // [sp+138h] [bp+50h]@11
  int cbMultiByte; // [sp+13Ch] [bp+54h]@5
  unsigned int v71; // [sp+140h] [bp+58h]@3

  v8 = (int)this;
  if ( !lpWideCharStr )
    return 0;
  v9 = a5;
  if ( !a5 )
    return 0;
  v10 = *(_DWORD *)(a5 + 12) - *(_DWORD *)(a5 + 4);
  a5 = *(_DWORD *)(a5 + 8) - *(_DWORD *)a5;
  v71 = v10;
  if ( lpMultiByteStr )
  {
    VersionInformation.dwOSVersionInfoSize = 148;
    GetVersionExA(&VersionInformation);
    if ( VersionInformation.dwPlatformId != 2 )
    {
      cbMultiByte = WideCharToMultiByte(0, 0, lpWideCharStr, cchWideChar, 0, 0, 0, 0);
      v11 = alloca(cbMultiByte);
      lpMultiByteStr = (LPSTR)&v50;
      WideCharToMultiByte(0, 0, lpWideCharStr, cchWideChar, (LPSTR)&v50, cbMultiByte, 0, 0);
      v12 = (const WCHAR *)lpMultiByteStr;
      lpMultiByteStr = 0;
      v10 = v71;
      lpWideCharStr = v12;
      cchWideChar = cbMultiByte;
    }
  }
  v13 = *(HDC *)(v8 + 108);
  rc.left = 0;
  rc.top = 0;
  rc.right = a5;
  rc.bottom = v10;
  v14 = SelectObject(v13, h);
  if ( !*(_DWORD *)(v8 + 168) )
    *(_DWORD *)(v8 + 168) = v14;
  v49 = format | 0x400;
  v47 = *(HDC *)(v8 + 108);
  if ( lpMultiByteStr )
    v15 = (void *)DrawTextW(v47, lpWideCharStr, cchWideChar, &rc, v49);
  else
    v15 = (void *)DrawTextA(v47, (LPCSTR)lpWideCharStr, cchWideChar, &rc, v49);
  v16 = rc.right - rc.left;
  rc.left = 0;
  h = v15;
  v17 = rc.bottom - rc.top;
  rc.top = 0;
  rc.right = v16;
  rc.bottom = v17;
  v69 = format & 0x400;
  if ( !(format & 0x400) )
  {
    if ( format & 0x100 || v16 < a5 )
    {
      a5 = v16;
    }
    else
    {
      v16 = a5;
      rc.right = a5;
    }
    if ( format & 0x100 || v17 < v71 )
    {
      v71 = v17;
    }
    else
    {
      v17 = v71;
      rc.bottom = v71;
    }
  }
  if ( format & 2 )
  {
    v18 = *(_DWORD *)(v9 + 8);
    v64 = *(_DWORD *)(v9 + 8) - v16;
    v66 = v18;
  }
  else
  {
    v19 = *(_DWORD *)v9;
    if ( format & 1 )
      v19 = (signed int)(*(_DWORD *)(v9 + 8) + v19 - v16) >> 1;
    v64 = v19;
    v66 = v16 + v19;
  }
  if ( format & 8 )
  {
    v20 = *(_DWORD *)(v9 + 12);
    v65 = *(_DWORD *)(v9 + 12) - v17;
    v67 = v20;
  }
  else
  {
    v21 = *(_DWORD *)(v9 + 4);
    if ( format & 4 )
      v21 = (signed int)(*(_DWORD *)(v9 + 12) + v21 - v17) >> 1;
    v65 = v21;
    v67 = v17 + v21;
  }
  if ( !v69 )
  {
    if ( (unsigned int)a5 > *(_DWORD *)(v8 + 116) || v71 > *(_DWORD *)(v8 + 120) )
    {
      qmemcpy(&bmi, (const void *)(v8 + 112), 0x28u);
      while ( bmi.bmiHeader.biWidth < (unsigned int)a5 )
        bmi.bmiHeader.biWidth += bmi.bmiHeader.biWidth >> 1;
      while ( bmi.bmiHeader.biHeight < v71 )
        bmi.bmiHeader.biHeight += bmi.bmiHeader.biHeight >> 1;
      bmi.bmiHeader.biHeight = -bmi.bmiHeader.biHeight;
      v23 = CreateDIBSection(*(HDC *)(v8 + 108), &bmi, 0, &h, 0, 0);
      v24 = v23;
      if ( !v23 )
        return 0;
      bmi.bmiHeader.biHeight = -bmi.bmiHeader.biHeight;
      SelectObject(*(HDC *)(v8 + 108), v23);
      DeleteObject(*(HGDIOBJ *)(v8 + 152));
      *(_DWORD *)(v8 + 160) = h;
      *(_DWORD *)(v8 + 116) = bmi.bmiHeader.biWidth;
      v26 = bmi.bmiHeader.biHeight;
      *(_DWORD *)(v8 + 152) = v24;
      *(_DWORD *)(v8 + 120) = v26;
    }
    v27 = (unsigned int)*(_WORD *)(v8 + 126) >> 3;
    v28 = *(char **)(v8 + 160);
    v29 = (v27 * *(_DWORD *)(v8 + 116) + 3) & 0xFFFFFFFC;
    v69 = a5 * v27;
    cbMultiByte = (int)&v28[v71 * v29];
    for ( i = (unsigned int)v28 < cbMultiByte; ; i = (unsigned int)h + v29 < cbMultiByte )
    {
      h = v28;
      if ( !i )
        break;
      memset(v28, 0, v69);
      v28 = (char *)h + v29;
    }
    v48 = *(HDC *)(v8 + 108);
    if ( lpMultiByteStr )
      v31 = (void *)DrawTextW(v48, lpWideCharStr, cchWideChar, &rc, format);
    else
      v31 = (void *)DrawTextA(v48, (LPCSTR)lpWideCharStr, cchWideChar, &rc, format);
    v32 = *(_DWORD *)(v8 + 84) == 21;
    h = v31;
    if ( !v32 )
    {
      v33 = *(char **)(v8 + 160);
      if ( (unsigned int)v33 < cbMultiByte )
      {
        v34 = v69;
        do
        {
          v35 = (unsigned int)&v33[v34];
          while ( (unsigned int)v33 < v35 )
          {
            v28 = (char *)((*(_DWORD *)v33 << 24) | 0xFFFFFF);
            *(_DWORD *)v33 = v28;
            v33 += 4;
          }
          v33 += v29 - v34;
        }
        while ( (unsigned int)v33 < cbMultiByte );
      }
    }
    cbMultiByte = *(_DWORD *)(v8 + 96);
    if ( !cbMultiByte )
      sub_42E92C(v8, v8, (int)v28);
    v36 = 0;
    lpMultiByteStr = 0;
    if ( v71 )
    {
      while ( 1 )
      {
        cchWideChar = (int)&v36[*(_DWORD *)(v8 + 92)];
        v37 = cchWideChar;
        if ( cchWideChar > v71 )
        {
          v37 = v71;
          cchWideChar = v71;
        }
        v38 = 0;
        if ( a5 )
          break;
LABEL_88:
        v36 += *(_DWORD *)(v8 + 92);
        lpMultiByteStr = v36;
        if ( (unsigned int)v36 >= v71 )
          goto LABEL_69;
      }
      format = v37 - (_DWORD)v36;
      while ( 1 )
      {
        v39 = v38 + *(_DWORD *)(v8 + 88);
        if ( v39 > a5 )
          v39 = a5;
        v54 = v39;
        v55 = v37;
        v32 = *(_DWORD *)(v8 + 84) == 21;
        v60 = v39 - v38;
        v52 = v38;
        v53 = v36;
        bmi.bmiColors[0] = 0;
        v59 = 0;
        v61 = format;
        if ( v32 )
        {
          v40 = *(int **)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48);
          v41 = *v40;
          if ( *(_DWORD *)(v8 + 80) )
            v42 = (*(int (__stdcall **)(int *, int *, RGBQUAD *, signed int))(v41 + 52))(v40, &v62, 0, 10240);
          else
            v42 = (*(int (__stdcall **)(int *, int *, RGBQUAD *, signed int))(v41 + 52))(v40, &v62, bmi.bmiColors, 2048);
          if ( v42 < 0 )
          {
LABEL_68:
            h = 0;
            break;
          }
          v43 = v63;
          v44 = (_DWORD *)(*(_DWORD *)(v8 + 160) + 4 * (v38 + (_DWORD)v36 * *(_DWORD *)(v8 + 116)));
          v45 = (unsigned int)v63 + v61 * v62;
          lpWideCharStr = v63;
          if ( (unsigned int)v63 < v45 )
          {
            do
            {
              v69 = (unsigned int)&v43[2 * v60];
              if ( v43 < &v43[2 * v60] )
              {
                do
                {
                  *(_DWORD *)v43 = (*v44 << 24) | 0xFFFFFF;
                  v43 += 2;
                  ++v44;
                }
                while ( (unsigned int)v43 < v69 );
                lpWideCharStr = v43;
              }
              v44 += *(_DWORD *)(v8 + 116) - v60;
              v46 = v62 - 4 * v60;
              v43 = (LPCWSTR)((char *)lpWideCharStr + v46);
              lpWideCharStr = (LPCWSTR)((char *)lpWideCharStr + v46);
            }
            while ( (unsigned int)lpWideCharStr < v45 );
            v36 = lpMultiByteStr;
          }
          (*(void (__stdcall **)(_DWORD))(**(_DWORD **)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48) + 56))(*(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48));
        }
        else if ( sub_41AA27(
                    *(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 48),
                    0,
                    (int)bmi.bmiColors,
                    *(_DWORD *)(v8 + 160),
                    *(_DWORD *)(v8 + 164),
                    *(_DWORD *)(v8 + 116) * ((unsigned int)*(_WORD *)(v8 + 126) >> 3),
                    0,
                    (int)&v52,
                    2,
                    0) < 0 )
        {
          goto LABEL_68;
        }
        v56 = (double)(v38 + v64);
        lpWideCharStr = (LPCWSTR)&v36[v65];
        v57 = (double)(unsigned int)&v36[v65];
        if ( (*(int (__stdcall **)(_DWORD, _DWORD, RGBQUAD *, _DWORD, _DWORD, _DWORD, float *, int))(**(_DWORD **)(v8 + 12) + 20))(
               *(_DWORD *)(v8 + 12),
               *(_DWORD *)(v8 + 4 * *(_DWORD *)(v8 + 8) + 16),
               bmi.bmiColors,
               0,
               0,
               0.0,
               &v56,
               a7) < 0 )
          goto LABEL_68;
        if ( !*(_DWORD *)(v8 + 80) )
          *(_DWORD *)(v8 + 8) = ((unsigned __int8)*(_DWORD *)(v8 + 8) + 1) & 7;
        v38 += *(_DWORD *)(v8 + 88);
        if ( v38 >= a5 )
          goto LABEL_88;
        v37 = cchWideChar;
      }
    }
LABEL_69:
    if ( !cbMultiByte )
      sub_42E9AD(v8);
    return h;
  }
  *(_DWORD *)v9 = v64;
  v22 = v9 + 4;
  *(_DWORD *)v22 = v65;
  v22 += 4;
  *(_DWORD *)v22 = v66;
  *(_DWORD *)(v22 + 4) = v67;
  return h;
}

//----- (0042F186) --------------------------------------------------------
signed int __stdcall sub_42F186(int a1, int *a2)
{
  int i; // eax@1
  void *v3; // eax@5
  void *v4; // esi@6
  signed int result; // eax@7
  signed int v6; // edi@11

  for ( i = dword_4C3E14; i; i = *(_DWORD *)(i + 172) )
  {
    if ( *(_DWORD *)(i + 4) == a1 )
    {
      ++*(_DWORD *)i;
      *a2 = i;
      return 0;
    }
  }
  v3 = operator new(0xB0u);
  if ( v3 )
    v4 = (void *)sub_42E7D4((int)v3);
  else
    v4 = 0;
  if ( v4 )
  {
    v6 = sub_42EB2E((int)v4, a1);
    if ( v6 >= 0 )
    {
      *a2 = (int)v4;
      result = 0;
    }
    else
    {
      sub_42E910(v4, 1);
      result = v6;
    }
  }
  else
  {
    result = -2147024882;
  }
  return result;
}
// 4C3E14: using guessed type int dword_4C3E14;

//----- (0042F200) --------------------------------------------------------
signed int __usercall sub_42F200@<eax>(int a1@<esi>)
{
  int v1; // eax@4

  if ( *(_DWORD *)(a1 + 20) != 204 )
  {
    (**(void (__stdcall ***)(_DWORD))(a1 + 424))(a1);
    *(_DWORD *)(a1 + 140) = 0;
    *(_DWORD *)(a1 + 20) = 204;
  }
  while ( *(_DWORD *)(*(_DWORD *)(a1 + 424) + 8) )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 48;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  *(_DWORD *)(a1 + 20) = (*(_DWORD *)(a1 + 68) != 0) + 205;
  return 1;
}

//----- (0042F270) --------------------------------------------------------
int __stdcall sub_42F270(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // eax@2
  unsigned int v6; // ecx@3
  unsigned int v7; // edx@3
  int v8; // eax@4
  int result; // eax@4
  int v10; // eax@5
  int v11; // eax@7

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 20);
  if ( v4 != 205 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 20;
    *(_DWORD *)(v5 + 24) = v4;
    (*(void (__stdcall **)(int))v5)(v3);
  }
  v6 = *(_DWORD *)(v3 + 140);
  v7 = *(_DWORD *)(v3 + 116);
  if ( v6 < v7 )
  {
    v10 = *(_DWORD *)(v3 + 8);
    if ( v10 )
    {
      *(_DWORD *)(v10 + 4) = v6;
      *(_DWORD *)(v10 + 8) = v7;
      (*(void (__stdcall **)(int))v10)(v3);
    }
    v11 = *(_DWORD *)(v3 + 428);
    a1 = 0;
    (*(void (__stdcall **)(int, int, int *, int))(v11 + 4))(v3, a2, &a1, a3);
    result = a1;
    *(_DWORD *)(v3 + 140) += a1;
  }
  else
  {
    v8 = *(_DWORD *)v3;
    *(_DWORD *)(v8 + 20) = 123;
    (*(void (__stdcall **)(int, signed int))(v8 + 4))(v3, -1);
    result = 0;
  }
  return result;
}

//----- (0042F300) --------------------------------------------------------
signed int __stdcall sub_42F300(int a1)
{
  signed int result; // eax@3
  int v2; // ecx@5
  void (__stdcall **v3)(_DWORD); // eax@7
  int v4; // eax@9
  int v5; // ecx@11
  int v6; // eax@14
  int v7; // edx@14
  int v8; // eax@14
  int v9; // eax@19

  if ( *(_DWORD *)(a1 + 20) == 202 )
  {
    sub_436900(a1);
    if ( *(_DWORD *)(a1 + 64) )
    {
      *(_DWORD *)(a1 + 20) = 207;
      return 1;
    }
    *(_DWORD *)(a1 + 20) = 203;
  }
  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 == 203 )
  {
    if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) )
    {
      while ( 1 )
      {
        v3 = *(void (__stdcall ***)(_DWORD))(a1 + 8);
        if ( v3 )
          (*v3)(a1);
        v4 = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
        if ( !v4 )
          break;
        if ( v4 == 2 )
          goto LABEL_17;
        v5 = *(_DWORD *)(a1 + 8);
        if ( v5 && (v4 == 3 || v4 == 1) )
        {
          v6 = *(_DWORD *)(v5 + 4) + 1;
          v7 = v6;
          *(_DWORD *)(v5 + 4) = v6;
          v8 = *(_DWORD *)(v5 + 8);
          if ( v7 >= v8 )
            *(_DWORD *)(v5 + 8) = v8 + *(_DWORD *)(a1 + 324);
        }
      }
      result = 0;
    }
    else
    {
LABEL_17:
      *(_DWORD *)(a1 + 156) = *(_DWORD *)(a1 + 148);
      result = sub_42F200(a1);
    }
  }
  else
  {
    if ( v2 != 204 )
    {
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 20) = 20;
      *(_DWORD *)(v9 + 24) = v2;
      (*(void (__stdcall **)(int))v9)(a1);
    }
    result = sub_42F200(a1);
  }
  return result;
}

//----- (0042F3E0) --------------------------------------------------------
int __stdcall sub_42F3E0(int a1, int a2, int a3)
{
  int v3; // eax@2
  int v4; // eax@4
  int v5; // edx@5
  int v6; // ebx@5
  _DWORD *v7; // eax@5
  signed int v8; // ecx@5
  int result; // eax@7

  *(_DWORD *)(a1 + 4) = 0;
  if ( a2 != 62 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 12;
    *(_DWORD *)(v3 + 24) = 62;
    *(_DWORD *)(v3 + 28) = a2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  if ( a3 != 472 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 21;
    *(_DWORD *)(v4 + 24) = 472;
    *(_DWORD *)(v4 + 28) = a3;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)(a1 + 12);
  memset((void *)a1, 0, 0x1D8u);
  *(_DWORD *)a1 = v5;
  *(_DWORD *)(a1 + 12) = v6;
  *(_DWORD *)(a1 + 16) = 1;
  sub_437940(a1);
  *(_DWORD *)(a1 + 8) = 0;
  *(_DWORD *)(a1 + 24) = 0;
  *(_DWORD *)(a1 + 168) = 0;
  *(_DWORD *)(a1 + 172) = 0;
  *(_DWORD *)(a1 + 176) = 0;
  *(_DWORD *)(a1 + 180) = 0;
  v7 = (_DWORD *)(a1 + 200);
  v8 = 4;
  do
  {
    *(v7 - 4) = 0;
    *v7 = 0;
    ++v7;
    --v8;
  }
  while ( v8 );
  *(_DWORD *)(a1 + 308) = 0;
  sub_431160(a1);
  result = sub_436EC0(a1);
  *(_DWORD *)(a1 + 20) = 200;
  return result;
}

//----- (0042F4C0) --------------------------------------------------------
signed int __usercall sub_42F4C0@<eax>(int a1@<esi>)
{
  int v1; // ecx@6
  int v2; // eax@8
  int v3; // ecx@13
  int v4; // eax@15
  int v5; // eax@17
  int v6; // ecx@17
  int v7; // edx@17
  int v8; // edi@17
  int v9; // eax@24
  signed int result; // eax@27

  if ( *(_DWORD *)(a1 + 36) == 1 )
  {
    *(_DWORD *)(a1 + 40) = 1;
    *(_DWORD *)(a1 + 44) = 1;
    goto LABEL_27;
  }
  if ( *(_DWORD *)(a1 + 36) == 3 )
  {
    if ( !*(_DWORD *)(a1 + 284) )
    {
      if ( *(_DWORD *)(a1 + 296) )
      {
        v3 = *(_BYTE *)(a1 + 300);
        if ( *(_BYTE *)(a1 + 300) )
        {
          if ( *(_BYTE *)(a1 + 300) != 1 )
          {
            v4 = *(_DWORD *)a1;
            *(_DWORD *)(v4 + 20) = 114;
            *(_DWORD *)(v4 + 24) = v3;
            (*(void (__stdcall **)(int, signed int))(v4 + 4))(a1, -1);
          }
          goto LABEL_25;
        }
LABEL_16:
        *(_DWORD *)(a1 + 40) = 2;
        *(_DWORD *)(a1 + 44) = 2;
        goto LABEL_27;
      }
      v5 = *(_DWORD *)(a1 + 220);
      v6 = *(_DWORD *)v5;
      v7 = *(_DWORD *)(v5 + 84);
      v8 = *(_DWORD *)(v5 + 168);
      if ( *(_DWORD *)v5 == 1 )
      {
        if ( v7 == 2 && v8 == 3 )
        {
          *(_DWORD *)(a1 + 40) = 3;
          *(_DWORD *)(a1 + 44) = 2;
          goto LABEL_27;
        }
      }
      else if ( v6 == 82 && v7 == 71 && v8 == 66 )
      {
        goto LABEL_16;
      }
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 24) = v6;
      *(_DWORD *)(v9 + 28) = v7;
      *(_DWORD *)(v9 + 32) = v8;
      *(_DWORD *)(v9 + 20) = 111;
      (*(void (__stdcall **)(int, signed int))(v9 + 4))(a1, 1);
    }
LABEL_25:
    *(_DWORD *)(a1 + 40) = 3;
    *(_DWORD *)(a1 + 44) = 2;
    goto LABEL_27;
  }
  if ( *(_DWORD *)(a1 + 36) == 4 )
  {
    if ( *(_DWORD *)(a1 + 296) && (v1 = *(_BYTE *)(a1 + 300)) != 0 )
    {
      if ( *(_BYTE *)(a1 + 300) != 2 )
      {
        v2 = *(_DWORD *)a1;
        *(_DWORD *)(v2 + 20) = 114;
        *(_DWORD *)(v2 + 24) = v1;
        (*(void (__stdcall **)(int, signed int))(v2 + 4))(a1, -1);
      }
      *(_DWORD *)(a1 + 40) = 5;
      *(_DWORD *)(a1 + 44) = 4;
    }
    else
    {
      *(_DWORD *)(a1 + 40) = 4;
      *(_DWORD *)(a1 + 44) = 4;
    }
  }
  else
  {
    *(_DWORD *)(a1 + 40) = 0;
    *(_DWORD *)(a1 + 44) = 0;
  }
LABEL_27:
  result = 1;
  *(_DWORD *)(a1 + 56) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_DWORD *)(a1 + 68) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 84) = 0;
  *(_DWORD *)(a1 + 92) = 0;
  *(_DWORD *)(a1 + 136) = 0;
  *(_DWORD *)(a1 + 100) = 0;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 48) = 1;
  *(_DWORD *)(a1 + 52) = 1;
  *(_DWORD *)(a1 + 60) = 1072693248;
  *(_DWORD *)(a1 + 76) = 1;
  *(_DWORD *)(a1 + 80) = 1;
  *(_DWORD *)(a1 + 88) = 2;
  *(_DWORD *)(a1 + 96) = 256;
  return result;
}

//----- (0042F630) --------------------------------------------------------
int __stdcall sub_42F630(int a1)
{
  int v1; // ecx@1
  int v2; // edi@1
  int result; // eax@4
  int v4; // eax@7

  v1 = *(_DWORD *)(a1 + 20);
  v2 = 0;
  switch ( v1 )
  {
    case 200:
      (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 440) + 4))(a1);
      (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 24) + 8))(a1);
      *(_DWORD *)(a1 + 20) = 201;
      goto LABEL_3;
    case 201:
LABEL_3:
      v2 = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
      if ( v2 != 1 )
        goto LABEL_8;
      sub_42F4C0(a1);
      result = 1;
      *(_DWORD *)(a1 + 20) = 202;
      break;
    case 202:
      result = 1;
      break;
    case 203:
    case 204:
    case 205:
    case 206:
    case 207:
    case 208:
    case 210:
      result = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
      break;
    default:
      v4 = *(_DWORD *)a1;
      *(_DWORD *)(v4 + 20) = 20;
      *(_DWORD *)(v4 + 24) = v1;
      (*(void (__stdcall **)(int))v4)(a1);
LABEL_8:
      result = v2;
      break;
  }
  return result;
}

//----- (0042F6E0) --------------------------------------------------------
signed int __stdcall sub_42F6E0(int a1)
{
  int v1; // ecx@1
  int v2; // eax@5
  int v3; // eax@10
  signed int result; // eax@14

  v1 = *(_DWORD *)(a1 + 20);
  if ( v1 != 205 && v1 != 206 || *(_DWORD *)(a1 + 64) )
  {
    if ( v1 == 207 )
    {
      *(_DWORD *)(a1 + 20) = 210;
    }
    else if ( v1 != 210 )
    {
      v3 = *(_DWORD *)a1;
      *(_DWORD *)(v3 + 20) = 20;
      *(_DWORD *)(v3 + 24) = v1;
      (*(void (__stdcall **)(int))v3)(a1);
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 140) < *(_DWORD *)(a1 + 116) )
    {
      v2 = *(_DWORD *)a1;
      *(_DWORD *)(v2 + 20) = 67;
      (*(void (__stdcall **)(int))v2)(a1);
    }
    (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 424) + 4))(a1);
    *(_DWORD *)(a1 + 20) = 210;
  }
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 20) )
  {
LABEL_14:
    (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 24) + 24))(a1);
    sub_437A00(a1);
    result = 1;
  }
  else
  {
    while ( (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1) )
    {
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 440) + 20) )
        goto LABEL_14;
    }
    result = 0;
  }
  return result;
}

//----- (0042F7A0) --------------------------------------------------------
int __stdcall sub_42F7A0(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // eax@3
  int result; // eax@4
  int v5; // eax@7

  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != 200 && v2 != 201 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  result = sub_42F630(a1);
  if ( result == 1 )
  {
    result = 1;
  }
  else if ( result == 2 )
  {
    if ( a2 )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 51;
      (*(void (__thiscall **)(_DWORD, int))v5)(0, a1);
    }
    sub_437A00(a1);
    result = 2;
  }
  return result;
}

//----- (0042F810) --------------------------------------------------------
BOOL sub_42F810()
{
  _EAX = 1;
  __asm { cpuid }
  return (_EDX & 0x800000) != 0;
}

//----- (0042F835) --------------------------------------------------------
int sub_42F835()
{
  struct _SYSTEM_INFO SystemInfo; // [sp+4h] [bp-34h]@8
  BYTE Data[4]; // [sp+28h] [bp-10h]@2
  DWORD Type; // [sp+2Ch] [bp-Ch]@2
  DWORD cbData; // [sp+30h] [bp-8h]@2
  HKEY phkResult; // [sp+34h] [bp-4h]@1

  if ( !RegOpenKeyA(HKEY_LOCAL_MACHINE, "Software\\Microsoft\\Direct3D", &phkResult) )
  {
    cbData = 4;
    if ( !RegQueryValueExA(phkResult, "DisableMMX", 0, &Type, Data, &cbData) && Type == 4 && *(_DWORD *)Data )
    {
      RegCloseKey(phkResult);
      dword_4B2784 = 0;
      return 0;
    }
    RegCloseKey(phkResult);
  }
  if ( dword_4B2784 < 0 )
  {
    dword_4B2784 = 0;
    GetSystemInfo(&SystemInfo);
    if ( !SystemInfo.wProcessorArchitecture && SystemInfo.wProcessorLevel >= 5u )
    {
      if ( sub_42F810() )
      {
        _m_femms();
        dword_4B2784 = 1;
      }
    }
  }
  return dword_4B2784;
}
// 4B2784: using guessed type int dword_4B2784;

//----- (0042F8E5) --------------------------------------------------------
int sub_42F8E5()
{
  int result; // eax@2
  int v11; // [sp-Ch] [bp-48h]@1
  int v12; // [sp+4h] [bp-38h]@1
  int v13; // [sp+8h] [bp-34h]@1
  int v14; // [sp+Ch] [bp-30h]@1
  int v15; // [sp+10h] [bp-2Ch]@3
  int v16; // [sp+14h] [bp-28h]@3
  int v17; // [sp+18h] [bp-24h]@1
  int v18; // [sp+1Ch] [bp-20h]@1
  int v19; // [sp+20h] [bp-1Ch]@1
  char v20; // [sp+24h] [bp-18h]@1
  int v21; // [sp+28h] [bp-14h]@1
  int *v22; // [sp+2Ch] [bp-10h]@1
  int v23; // [sp+38h] [bp-4h]@1

  v22 = &v11;
  v21 = 0;
  v17 = *(_DWORD *)"GenuineIntel";
  v18 = *(_DWORD *)"ineIntel";
  v19 = *(_DWORD *)"ntel";
  v20 = aGenuineintel[12];
  _EAX = 0;
  __asm { cpuid }
  v12 = _EBX;
  v13 = _EDX;
  v14 = _ECX;
  v23 = -1;
  if ( _EAX )
  {
    _EAX = 1;
    __asm { cpuid }
    v15 = _EAX;
    v16 = _EDX;
    if ( _EDX & 0x2000000 )
      v21 |= 4u;
    if ( v16 & 0x4000000 )
      v21 |= 8u;
    result = v21;
  }
  else
  {
    result = v21;
  }
  return result;
}

//----- (0042F98A) --------------------------------------------------------
int __stdcall sub_42F98A(DWORD Type)
{
  DWORD v2; // [sp+Ch] [bp-4h]@6

  if ( Type )
  {
    if ( dword_4B2788 == 0xFFFF )
    {
      dword_4B2788 = 0;
      qmemcpy(&off_4B2548, off_4B2668, 0x11Cu);
      sub_433D92((int)&off_4B2548);
      if ( !sub_41CAD7(4, "DisablePSGP", (DWORD)&Type, 4u) )
        Type = 0;
      if ( sub_41CAD7(4, "DisableD3DXPSGP", (DWORD)&v2, 4u) )
        Type = v2;
      if ( Type != 1 )
      {
        if ( Type != 2 && IsProcessorFeaturePresent(7u) )
        {
          sub_437E56((int)&off_4B2548);
          dword_4B2788 = 1;
        }
        else if ( sub_42F8E5() & 8 )
        {
          sub_437C0E((int)&off_4B2548);
          dword_4B2788 = 2;
        }
        else if ( IsProcessorFeaturePresent(6u) )
        {
          sub_437AA0((int)&off_4B2548);
          dword_4B2788 = 3;
        }
      }
    }
  }
  else
  {
    dword_4B2788 = 0xFFFF;
    qmemcpy(&off_4B2548, off_4B2668, 0x11Cu);
  }
  return dword_4B2788;
}
// 4B2548: using guessed type int (*off_4B2548)(void);
// 4B2668: using guessed type int (__stdcall *off_4B2668[7])(int, int, int);
// 4B2788: using guessed type int dword_4B2788;

//----- (0042FA90) --------------------------------------------------------
signed int __usercall sub_42FA90@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  int v2; // eax@2
  _BYTE *v3; // eax@3
  signed int v4; // ecx@3
  int v5; // ecx@5

  v1 = *(_DWORD *)a1;
  *(_DWORD *)(v1 + 20) = 102;
  (*(void (__stdcall **)(int, signed int))(v1 + 4))(a1, 1);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 444) + 12) )
  {
    v2 = *(_DWORD *)a1;
    *(_DWORD *)(v2 + 20) = 61;
    (*(void (__stdcall **)(int))v2)(a1);
  }
  v3 = (_BYTE *)(a1 + 248);
  v4 = 16;
  do
  {
    *(v3 - 16) = 0;
    *v3 = 1;
    (v3++)[16] = 5;
    --v4;
  }
  while ( v4 );
  v5 = *(_DWORD *)(a1 + 444);
  *(_DWORD *)(a1 + 280) = 0;
  *(_DWORD *)(a1 + 40) = 0;
  *(_DWORD *)(a1 + 304) = 0;
  *(_DWORD *)(a1 + 284) = 0;
  *(_BYTE *)(a1 + 290) = 0;
  *(_DWORD *)(a1 + 296) = 0;
  *(_BYTE *)(a1 + 300) = 0;
  *(_BYTE *)(a1 + 288) = 1;
  *(_BYTE *)(a1 + 289) = 1;
  *(_WORD *)(a1 + 292) = 1;
  *(_WORD *)(a1 + 294) = 1;
  *(_DWORD *)(v5 + 12) = 1;
  return 1;
}

//----- (0042FB40) --------------------------------------------------------
signed int __usercall sub_42FB40@<eax>(int a1@<eax>, int a2@<ecx>, int a3@<esi>)
{
  int v3; // ebp@1
  int v4; // ebx@1
  _BYTE *v5; // edi@1
  unsigned __int16 v6; // dx@4
  int v7; // ebx@4
  _BYTE *v8; // edi@4
  int v9; // eax@7
  int v10; // ebx@7
  _BYTE *v11; // edi@7
  int v12; // ecx@10
  int v13; // ebx@10
  _BYTE *v14; // edi@10
  unsigned __int16 v15; // dx@13
  int v16; // ebx@13
  _BYTE *v17; // edi@13
  int v18; // edx@16
  int v19; // ebx@16
  _BYTE *v20; // edi@16
  unsigned __int16 v21; // cx@19
  int v22; // ebx@19
  _BYTE *v23; // edi@19
  int v24; // eax@22
  int v25; // ebx@22
  _BYTE *v26; // edi@22
  int v27; // ecx@25
  int v28; // edx@25
  int v29; // eax@25
  int v30; // ecx@25
  int v31; // edx@25
  int v32; // ebx@25
  _BYTE *v33; // edi@25
  int v34; // eax@26
  int v35; // eax@30
  int v36; // eax@32
  int v37; // ebp@35
  int v38; // edx@39
  int v39; // ebx@39
  _BYTE *v40; // edi@39
  int v41; // ebx@42
  int v42; // ecx@42
  int v43; // eax@42
  _BYTE *v44; // edi@42
  int v45; // ecx@45
  int v46; // eax@45
  int v48; // [sp+54h] [bp-8h]@4
  int v49; // [sp+54h] [bp-8h]@7
  int v50; // [sp+54h] [bp-8h]@25
  int i; // [sp+54h] [bp-8h]@35
  int v52; // [sp+58h] [bp-4h]@1

  v3 = *(_DWORD *)(a3 + 24);
  v4 = *(_DWORD *)(v3 + 4);
  v5 = *(_BYTE **)v3;
  v52 = *(_DWORD *)(a3 + 24);
  *(_DWORD *)(a3 + 224) = a1;
  *(_DWORD *)(a3 + 228) = a2;
  if ( !v4 )
  {
    if ( !(*(int (__stdcall **)(int))(v3 + 12))(a3) )
      return 0;
    v5 = *(_BYTE **)v3;
    v4 = *(_DWORD *)(v3 + 4);
  }
  LOBYTE(v6) = 0;
  HIBYTE(v6) = *v5;
  v7 = v4 - 1;
  v8 = v5 + 1;
  v48 = v6;
  if ( !v7 )
  {
    if ( !(*(int (__stdcall **)(int))(v3 + 12))(a3) )
      return 0;
    v8 = *(_BYTE **)v3;
    v7 = *(_DWORD *)(v3 + 4);
  }
  v9 = *v8;
  v10 = v7 - 1;
  v11 = v8 + 1;
  v49 = v9 + v48;
  if ( !v10 )
  {
    if ( !(*(int (__stdcall **)(int))(v3 + 12))(a3) )
      return 0;
    v11 = *(_BYTE **)v3;
    v10 = *(_DWORD *)(v3 + 4);
  }
  v12 = *v11;
  v13 = v10 - 1;
  v14 = v11 + 1;
  *(_DWORD *)(a3 + 216) = v12;
  if ( !v13 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v14 = *(_BYTE **)v3;
    v13 = *(_DWORD *)(v3 + 4);
  }
  LOBYTE(v15) = 0;
  HIBYTE(v15) = *v14;
  v16 = v13 - 1;
  v17 = v14 + 1;
  *(_DWORD *)(a3 + 32) = v15;
  if ( !v16 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v17 = *(_BYTE **)v3;
    v16 = *(_DWORD *)(v3 + 4);
  }
  v18 = *v17 + *(_DWORD *)(a3 + 32);
  v19 = v16 - 1;
  v20 = v17 + 1;
  *(_DWORD *)(a3 + 32) = v18;
  if ( !v19 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v20 = *(_BYTE **)v3;
    v19 = *(_DWORD *)(v3 + 4);
  }
  LOBYTE(v21) = 0;
  HIBYTE(v21) = *v20;
  v22 = v19 - 1;
  v23 = v20 + 1;
  *(_DWORD *)(a3 + 28) = v21;
  if ( !v22 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
      return 0;
    v23 = *(_BYTE **)v3;
    v22 = *(_DWORD *)(v3 + 4);
  }
  v24 = *v23 + *(_DWORD *)(a3 + 28);
  v25 = v22 - 1;
  v26 = v23 + 1;
  *(_DWORD *)(a3 + 28) = v24;
  if ( !v25 )
  {
    if ( (*(int (__stdcall **)(_DWORD))(v3 + 12))(a3) )
    {
      v26 = *(_BYTE **)v3;
      v25 = *(_DWORD *)(v3 + 4);
      goto LABEL_25;
    }
    return 0;
  }
LABEL_25:
  v27 = *(_DWORD *)(a3 + 420);
  v28 = *(_DWORD *)(a3 + 28);
  *(_DWORD *)(a3 + 36) = *v26;
  v50 = v49 - 8;
  v29 = *(_DWORD *)a3;
  *(_DWORD *)(v29 + 24) = v27;
  v30 = *(_DWORD *)(a3 + 32);
  *(_DWORD *)(v29 + 28) = v28;
  v31 = *(_DWORD *)(a3 + 36);
  *(_DWORD *)(v29 + 32) = v30;
  *(_DWORD *)(v29 + 36) = v31;
  v32 = v25 - 1;
  v33 = v26 + 1;
  *(_DWORD *)(v29 + 20) = 100;
  (*(void (__stdcall **)(int, signed int))(v29 + 4))(a3, 1);
  if ( *(_DWORD *)(*(_DWORD *)(a3 + 444) + 16) )
  {
    v34 = *(_DWORD *)a3;
    *(_DWORD *)(v34 + 20) = 58;
    (*(void (__stdcall **)(int))v34)(a3);
  }
  if ( !*(_DWORD *)(a3 + 32) || !*(_DWORD *)(a3 + 28) || *(_DWORD *)(a3 + 36) <= 0 )
  {
    v35 = *(_DWORD *)a3;
    *(_DWORD *)(v35 + 20) = 32;
    (*(void (__stdcall **)(int))v35)(a3);
  }
  if ( v50 != 3 * *(_DWORD *)(a3 + 36) )
  {
    v36 = *(_DWORD *)a3;
    *(_DWORD *)(v36 + 20) = 11;
    (*(void (__stdcall **)(int))v36)(a3);
  }
  if ( !*(_DWORD *)(a3 + 220) )
    *(_DWORD *)(a3 + 220) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a3 + 4))(a3, 1, 84 * *(_DWORD *)(a3 + 36));
  v37 = *(_DWORD *)(a3 + 220);
  for ( i = 0; i < *(_DWORD *)(a3 + 36); ++i )
  {
    *(_DWORD *)(v37 + 4) = i;
    if ( !v32 )
    {
      if ( !(*(int (__stdcall **)(int))(v52 + 12))(a3) )
        return 0;
      v33 = *(_BYTE **)v52;
      v32 = *(_DWORD *)(v52 + 4);
    }
    v38 = *v33;
    v39 = v32 - 1;
    v40 = v33 + 1;
    *(_DWORD *)v37 = v38;
    if ( !v39 )
    {
      if ( !(*(int (__stdcall **)(int))(v52 + 12))(a3) )
        return 0;
      v40 = *(_BYTE **)v52;
      v39 = *(_DWORD *)(v52 + 4);
    }
    v41 = v39 - 1;
    v42 = ((signed int)*v40 >> 4) & 0xF;
    v43 = *v40 & 0xF;
    v44 = v40 + 1;
    *(_DWORD *)(v37 + 8) = v42;
    *(_DWORD *)(v37 + 12) = v43;
    if ( !v41 )
    {
      if ( !(*(int (__stdcall **)(int))(v52 + 12))(a3) )
        return 0;
      v44 = *(_BYTE **)v52;
      v41 = *(_DWORD *)(v52 + 4);
    }
    v45 = *(_DWORD *)v37;
    v46 = *(_DWORD *)a3;
    *(_DWORD *)(v37 + 16) = *v44;
    *(_DWORD *)(v46 + 24) = v45;
    *(_DWORD *)(v46 + 28) = *(_DWORD *)(v37 + 8);
    *(_DWORD *)(v46 + 32) = *(_DWORD *)(v37 + 12);
    *(_DWORD *)(v46 + 36) = *(_DWORD *)(v37 + 16);
    v32 = v41 - 1;
    v33 = v44 + 1;
    *(_DWORD *)(v46 + 20) = 101;
    (*(void (__stdcall **)(int, signed int))(v46 + 4))(a3, 1);
    v37 += 84;
  }
  *(_DWORD *)(*(_DWORD *)(a3 + 444) + 16) = 1;
  *(_DWORD *)v52 = v33;
  *(_DWORD *)(v52 + 4) = v32;
  return 1;
}

//----- (0042FE00) --------------------------------------------------------
signed int __usercall sub_42FE00@<eax>(int a1@<esi>)
{
  int v1; // edi@1
  _BYTE *v2; // ebx@1
  int v3; // ebp@1
  int v4; // eax@2
  unsigned __int16 v5; // dx@6
  int v6; // ebp@6
  _BYTE *v7; // ebx@6
  int v8; // ecx@9
  int v9; // ebp@9
  _BYTE *v10; // ebx@9
  signed int v11; // ecx@12
  int v12; // eax@12
  int v13; // ebp@12
  _BYTE *v14; // ebx@12
  signed int v15; // eax@12
  int v16; // eax@15
  int v17; // ecx@21
  int v18; // ebp@21
  _BYTE *v19; // ebx@21
  int v20; // edi@24
  signed int v21; // ebp@24
  int v22; // eax@24
  int v23; // eax@27
  int v24; // eax@28
  bool v25; // sf@28
  unsigned __int8 v26; // of@28
  int v27; // eax@32
  int v28; // ebp@32
  _BYTE *v29; // ebx@32
  int v30; // eax@35
  int v31; // ebp@35
  _BYTE *v32; // ebx@35
  int v34; // edx@39
  int v35; // ecx@39
  int v36; // ST50_4@39
  int v37; // eax@39
  int v38; // edx@39
  int v39; // eax@39
  int v40; // [sp+3Ch] [bp-18h]@24
  int v41; // [sp+40h] [bp-14h]@6
  int v42; // [sp+40h] [bp-14h]@9
  int v43; // [sp+40h] [bp-14h]@21
  _DWORD *v44; // [sp+44h] [bp-10h]@17
  signed int v45; // [sp+48h] [bp-Ch]@12
  int v46; // [sp+4Ch] [bp-8h]@16
  int v47; // [sp+50h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_BYTE **)v1;
  v3 = *(_DWORD *)(v1 + 4);
  v47 = *(_DWORD *)(a1 + 24);
  if ( !*(_DWORD *)(*(_DWORD *)(a1 + 444) + 16) )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 62;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v2 = *(_BYTE **)v1;
    v3 = *(_DWORD *)(v1 + 4);
  }
  LOBYTE(v5) = 0;
  HIBYTE(v5) = *v2;
  v6 = v3 - 1;
  v7 = v2 + 1;
  v41 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v7 = *(_BYTE **)v1;
    v6 = *(_DWORD *)(v1 + 4);
  }
  v8 = *v7;
  v9 = v6 - 1;
  v10 = v7 + 1;
  v42 = v8 + v41;
  if ( !v9 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v10 = *(_BYTE **)v1;
    v9 = *(_DWORD *)(v1 + 4);
  }
  v11 = *v10;
  v12 = *(_DWORD *)a1;
  *(_DWORD *)(v12 + 20) = 103;
  v13 = v9 - 1;
  v45 = v11;
  v14 = v10 + 1;
  *(_DWORD *)(v12 + 24) = v11;
  (*(void (__stdcall **)(int, signed int))(v12 + 4))(a1, 1);
  v15 = v45;
  if ( v42 != 2 * v45 + 6 || v45 < 1 || v45 > 4 )
  {
    v16 = *(_DWORD *)a1;
    *(_DWORD *)(v16 + 20) = 11;
    (*(void (__stdcall **)(int))v16)(a1);
    v15 = v45;
  }
  *(_DWORD *)(a1 + 332) = v15;
  v46 = 0;
  if ( v15 > 0 )
  {
    v44 = (_DWORD *)(a1 + 336);
    do
    {
      if ( !v13 )
      {
        if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v14 = *(_BYTE **)v1;
        v13 = *(_DWORD *)(v1 + 4);
      }
      v17 = *v14;
      v18 = v13 - 1;
      v19 = v14 + 1;
      v43 = v17;
      if ( !v18 )
      {
        if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
          return 0;
        v19 = *(_BYTE **)v1;
        v18 = *(_DWORD *)(v1 + 4);
      }
      v20 = *(_DWORD *)(a1 + 220);
      v40 = v18 - 1;
      v21 = *v19;
      v14 = v19 + 1;
      v22 = 0;
      if ( *(_DWORD *)(a1 + 36) <= 0 )
      {
LABEL_27:
        v23 = *(_DWORD *)a1;
        *(_DWORD *)(v23 + 20) = 5;
        *(_DWORD *)(v23 + 24) = v43;
        (*(void (__stdcall **)(int))v23)(a1);
      }
      else
      {
        while ( v43 != *(_DWORD *)v20 )
        {
          ++v22;
          v20 += 84;
          if ( v22 >= *(_DWORD *)(a1 + 36) )
            goto LABEL_27;
        }
      }
      *(_DWORD *)(v20 + 20) = (v21 >> 4) & 0xF;
      *v44 = v20;
      v24 = *(_DWORD *)a1;
      *(_DWORD *)(v20 + 24) = v21 & 0xF;
      *(_DWORD *)(v24 + 24) = v43;
      *(_DWORD *)(v24 + 28) = *(_DWORD *)(v20 + 20);
      *(_DWORD *)(v24 + 32) = *(_DWORD *)(v20 + 24);
      *(_DWORD *)(v24 + 20) = 104;
      (*(void (__stdcall **)(int, signed int))(v24 + 4))(a1, 1);
      v13 = v40;
      v1 = v47;
      v26 = __OFSUB__(v46 + 1, v45);
      v25 = v46++ + 1 - v45 < 0;
      ++v44;
    }
    while ( v25 ^ v26 );
  }
  if ( !v13 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v14 = *(_BYTE **)v1;
    v13 = *(_DWORD *)(v1 + 4);
  }
  v27 = *v14;
  v28 = v13 - 1;
  v29 = v14 + 1;
  *(_DWORD *)(a1 + 404) = v27;
  if ( v28 )
    goto LABEL_35;
  if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
    return 0;
  v29 = *(_BYTE **)v1;
  v28 = *(_DWORD *)(v1 + 4);
LABEL_35:
  v30 = *v29;
  v31 = v28 - 1;
  v32 = v29 + 1;
  *(_DWORD *)(a1 + 408) = v30;
  if ( !v31 )
  {
    if ( !(*(int (__stdcall **)(_DWORD))(v1 + 12))(a1) )
      return 0;
    v32 = *(_BYTE **)v1;
    v31 = *(_DWORD *)(v1 + 4);
  }
  v34 = *(_DWORD *)(a1 + 404);
  v35 = ((signed int)*v32 >> 4) & 0xF;
  v36 = *v32 & 0xF;
  *(_DWORD *)(a1 + 416) = v36;
  v37 = *(_DWORD *)a1;
  *(_DWORD *)(v37 + 24) = v34;
  v38 = *(_DWORD *)(a1 + 408);
  *(_DWORD *)(v37 + 32) = v35;
  *(_DWORD *)(a1 + 412) = v35;
  *(_DWORD *)(v37 + 28) = v38;
  *(_DWORD *)(v37 + 36) = v36;
  *(_DWORD *)(v37 + 20) = 105;
  (*(void (__stdcall **)(int, signed int))(v37 + 4))(a1, 1);
  v39 = *(_DWORD *)(a1 + 148) + 1;
  *(_DWORD *)(*(_DWORD *)(a1 + 444) + 20) = 0;
  *(_DWORD *)v1 = v32 + 1;
  *(_DWORD *)(v1 + 4) = v31 - 1;
  *(_DWORD *)(a1 + 148) = v39;
  return 1;
}

//----- (004300C0) --------------------------------------------------------
signed int __usercall sub_4300C0@<eax>(int a1@<ebx>)
{
  int v1; // edi@1
  int v2; // esi@1
  char *v3; // ebp@1
  int v4; // eax@4
  int v5; // esi@4
  char *v6; // ebp@4
  int v7; // esi@7
  int v8; // eax@7
  char *v9; // ebp@7
  int v10; // ecx@11
  int v11; // eax@11
  int v12; // esi@11
  signed int v13; // edi@11
  int v14; // esi@13
  char v15; // dl@15
  int v16; // eax@16
  int v17; // edx@16
  int v18; // ecx@16
  int v19; // edx@16
  int v20; // ecx@16
  int v21; // edx@16
  int v22; // ecx@16
  int v23; // edx@16
  int v24; // eax@16
  int v25; // edx@16
  int v26; // ecx@16
  int v27; // edx@16
  int v28; // ecx@16
  int v29; // edx@16
  int v30; // ecx@16
  int v31; // edx@16
  int v32; // eax@18
  signed int v33; // eax@19
  signed int j; // edi@19
  int v35; // esi@21
  char v36; // cl@23
  int v37; // edx@24
  int v38; // eax@24
  int *v39; // esi@25
  int v40; // ecx@29
  int v41; // eax@32
  void *v42; // edi@32
  int v43; // eax@34
  int v45; // [sp+34h] [bp-128h]@15
  int v46; // [sp+38h] [bp-124h]@4
  signed int i; // [sp+38h] [bp-124h]@7
  int v48; // [sp+38h] [bp-124h]@16
  signed int v49; // [sp+3Ch] [bp-120h]@11
  int v50; // [sp+40h] [bp-11Ch]@11
  int v51; // [sp+44h] [bp-118h]@16
  int v52; // [sp+48h] [bp-114h]@16
  int v53; // [sp+4Ch] [bp-110h]@16
  unsigned __int8 v54; // [sp+50h] [bp-10Ch]@16
  int v55; // [sp+54h] [bp-108h]@1
  int v56; // [sp+58h] [bp-104h]@11
  char v57[256]; // [sp+5Ch] [bp-100h]@23

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(char **)v1;
  v55 = *(_DWORD *)(a1 + 24);
  if ( !v2 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v3 = *(char **)v1;
    v2 = *(_DWORD *)(v1 + 4);
  }
  v4 = 0;
  BYTE1(v4) = *v3;
  v5 = v2 - 1;
  v6 = v3 + 1;
  v46 = (unsigned __int16)v4;
  if ( !v5 )
  {
    if ( (*(int (__stdcall **)(int))(v1 + 12))(a1) )
    {
      v6 = *(char **)v1;
      v4 = v46;
      v5 = *(_DWORD *)(v1 + 4);
      goto LABEL_7;
    }
    return 0;
  }
LABEL_7:
  v7 = v5 - 1;
  v8 = (unsigned __int8)*v6 + v4 - 2;
  v9 = v6 + 1;
  for ( i = v8; i > 16; v7 = v45 )
  {
    if ( !v7 )
    {
      if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
        return 0;
      v9 = *(char **)v1;
      v7 = *(_DWORD *)(v1 + 4);
    }
    v10 = (unsigned __int8)*v9;
    v11 = *(_DWORD *)a1;
    v12 = v7 - 1;
    *(_DWORD *)(v11 + 20) = 80;
    v56 = v10;
    ++v9;
    *(_DWORD *)(v11 + 24) = v10;
    (*(void (__stdcall **)(int, signed int))(v11 + 4))(a1, 1);
    LOBYTE(v50) = 0;
    v49 = 0;
    v13 = 1;
    do
    {
      if ( !v12 )
      {
        v14 = v55;
        if ( !(*(int (__stdcall **)(int))(v55 + 12))(a1) )
          return 0;
        v9 = *(char **)v14;
        v12 = *(_DWORD *)(v14 + 4);
      }
      v15 = *v9;
      *((_BYTE *)&v50 + v13) = *v9;
      --v12;
      ++v9;
      ++v13;
      v45 = v12;
      v49 += (unsigned __int8)v15;
    }
    while ( v13 <= 16 );
    v16 = *(_DWORD *)a1;
    v17 = BYTE2(v50);
    *(_DWORD *)(v16 + 24) = BYTE1(v50);
    v18 = BYTE3(v50);
    *(_DWORD *)(v16 + 28) = v17;
    v19 = (unsigned __int8)v51;
    *(_DWORD *)(v16 + 32) = v18;
    v20 = BYTE1(v51);
    *(_DWORD *)(v16 + 36) = v19;
    v21 = BYTE2(v51);
    *(_DWORD *)(v16 + 40) = v20;
    v22 = BYTE3(v51);
    *(_DWORD *)(v16 + 44) = v21;
    v23 = (unsigned __int8)v52;
    v48 = i - 17;
    *(_DWORD *)(v16 + 48) = v22;
    *(_DWORD *)(v16 + 52) = v23;
    *(_DWORD *)(v16 + 20) = 86;
    (*(void (__stdcall **)(int, signed int))(v16 + 4))(a1, 2);
    v24 = *(_DWORD *)a1;
    v25 = BYTE2(v52);
    *(_DWORD *)(v24 + 24) = BYTE1(v52);
    v26 = BYTE3(v52);
    *(_DWORD *)(v24 + 28) = v25;
    v27 = (unsigned __int8)v53;
    *(_DWORD *)(v24 + 32) = v26;
    v28 = BYTE1(v53);
    *(_DWORD *)(v24 + 36) = v27;
    v29 = BYTE2(v53);
    *(_DWORD *)(v24 + 40) = v28;
    v30 = BYTE3(v53);
    *(_DWORD *)(v24 + 44) = v29;
    v31 = v54;
    *(_DWORD *)(v24 + 48) = v30;
    *(_DWORD *)(v24 + 52) = v31;
    *(_DWORD *)(v24 + 20) = 86;
    (*(void (__stdcall **)(int, signed int))(v24 + 4))(a1, 2);
    if ( v49 > 256 || v49 > v48 )
    {
      v32 = *(_DWORD *)a1;
      *(_DWORD *)(v32 + 20) = 8;
      (*(void (__stdcall **)(int))v32)(a1);
    }
    v33 = v49;
    for ( j = 0; j < v33; v45 = v12 )
    {
      if ( !v12 )
      {
        v35 = v55;
        if ( !(*(int (__stdcall **)(int))(v55 + 12))(a1) )
          return 0;
        v9 = *(char **)v35;
        v12 = *(_DWORD *)(v35 + 4);
        v33 = v49;
      }
      v36 = *v9;
      --v12;
      ++v9;
      v57[j++] = v36;
    }
    v37 = v48 - v33;
    v38 = v56;
    i = v37;
    if ( v56 & 0x10 )
    {
      v38 = v56 - 16;
      v39 = (int *)(a1 + 4 * (v56 - 16) + 200);
    }
    else
    {
      v39 = (int *)(a1 + 4 * v56 + 184);
    }
    if ( v38 < 0 || v38 >= 4 )
    {
      v40 = *(_DWORD *)a1;
      *(_DWORD *)(v40 + 20) = 30;
      *(_DWORD *)(v40 + 24) = v38;
      (*(void (__stdcall **)(int))v40)(a1);
    }
    if ( !*v39 )
      *v39 = sub_437A80(a1);
    v41 = *v39;
    *(_DWORD *)v41 = v50;
    *(_DWORD *)(v41 + 4) = v51;
    *(_DWORD *)(v41 + 8) = v52;
    *(_DWORD *)(v41 + 12) = v53;
    *(_BYTE *)(v41 + 16) = v54;
    v42 = (void *)(v41 + 17);
    v8 = i;
    qmemcpy(v42, v57, 0x100u);
    v1 = v55;
  }
  if ( v8 )
  {
    v43 = *(_DWORD *)a1;
    *(_DWORD *)(v43 + 20) = 11;
    (*(void (__stdcall **)(int))v43)(a1);
  }
  *(_DWORD *)v1 = v9;
  *(_DWORD *)(v1 + 4) = v7;
  return 1;
}
// 4300C0: using guessed type char var_100[256];

//----- (00430390) --------------------------------------------------------
signed int __stdcall sub_430390(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // ebx@1
  char *v4; // edi@1
  int v5; // eax@4
  int v6; // ebx@4
  char *v7; // edi@4
  int v8; // ebx@7
  int v9; // eax@7
  char *v10; // edi@7
  bool v11; // zf@7
  char v12; // si@11
  int v13; // eax@11
  signed int v14; // ecx@11
  int v15; // esi@11
  int v16; // eax@12
  int v17; // edx@15
  int *v18; // esi@15
  __int16 v19; // ax@20
  __int16 v20; // dx@23
  int v21; // ecx@28
  int v22; // esi@30
  int v23; // eax@31
  int v24; // ecx@32
  int v25; // eax@37
  int v27; // [sp+24h] [bp-14h]@1
  __int16 v28; // [sp+28h] [bp-10h]@20
  int *v29; // [sp+2Ch] [bp-Ch]@15
  signed int v30; // [sp+2Ch] [bp-Ch]@30
  signed int v31; // [sp+30h] [bp-8h]@11
  int v32; // [sp+34h] [bp-4h]@15
  int v33; // [sp+3Ch] [bp+4h]@4
  int v34; // [sp+3Ch] [bp+4h]@7

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(char **)v2;
  v27 = *(_DWORD *)(a1 + 24);
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(char **)v2;
    v3 = *(_DWORD *)(v2 + 4);
  }
  v5 = 0;
  BYTE1(v5) = *v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v33 = (unsigned __int16)v5;
  if ( !v6 )
  {
    if ( (*(int (__stdcall **)(int))(v2 + 12))(v1) )
    {
      v7 = *(char **)v2;
      v6 = *(_DWORD *)(v2 + 4);
      v5 = v33;
      goto LABEL_7;
    }
    return 0;
  }
LABEL_7:
  v8 = v6 - 1;
  v9 = (unsigned __int8)*v7 + v5 - 2;
  v10 = v7 + 1;
  v11 = v9 == 0;
  v34 = v9;
  if ( v9 > 0 )
  {
    do
    {
      if ( !v8 )
      {
        if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
          return 0;
        v10 = *(char **)v2;
        v8 = *(_DWORD *)(v2 + 4);
      }
      v12 = *v10;
      v13 = *(_DWORD *)v1;
      v14 = (signed int)(unsigned __int8)*v10 >> 4;
      *(_DWORD *)(v13 + 20) = 81;
      v15 = v12 & 0xF;
      *(_DWORD *)(v13 + 24) = v15;
      --v8;
      ++v10;
      v31 = v14;
      *(_DWORD *)(v13 + 28) = v14;
      (*(void (__stdcall **)(int, signed int))(v13 + 4))(v1, 1);
      if ( v15 >= 4 )
      {
        v16 = *(_DWORD *)v1;
        *(_DWORD *)(v16 + 20) = 31;
        *(_DWORD *)(v16 + 24) = v15;
        (*(void (__stdcall **)(int))v16)(v1);
      }
      if ( !*(_DWORD *)(v1 + 4 * v15 + 168) )
        *(_DWORD *)(v1 + 4 * v15 + 168) = sub_437A60(v1);
      v17 = *(_DWORD *)(v1 + 4 * v15 + 168);
      v18 = dword_4907F8;
      v32 = v17;
      v29 = dword_4907F8;
      do
      {
        if ( v31 )
        {
          if ( !v8 )
          {
            if ( !(*(int (__stdcall **)(int))(v27 + 12))(v1) )
              return 0;
            v10 = *(char **)v27;
            v8 = *(_DWORD *)(v27 + 4);
          }
          LOBYTE(v19) = 0;
          HIBYTE(v19) = *v10;
          --v8;
          ++v10;
          v28 = v19;
          if ( !v8 )
          {
            if ( !(*(int (__stdcall **)(int))(v27 + 12))(v1) )
              return 0;
            v10 = *(char **)v27;
            v8 = *(_DWORD *)(v27 + 4);
          }
          v18 = v29;
          v20 = (unsigned __int8)*v10 + v28;
        }
        else
        {
          if ( !v8 )
          {
            if ( !(*(int (__stdcall **)(int))(v27 + 12))(v1) )
              return 0;
            v10 = *(char **)v27;
            v8 = *(_DWORD *)(v27 + 4);
          }
          v20 = (unsigned __int8)*v10;
        }
        v21 = *v18;
        --v8;
        ++v18;
        ++v10;
        *(_WORD *)(v32 + 2 * v21) = v20;
        v29 = v18;
      }
      while ( (signed int)v18 < (signed int)&unk_4908F8 );
      if ( *(_DWORD *)(*(_DWORD *)v1 + 104) >= 2 )
      {
        v22 = v32 + 4;
        v30 = 8;
        do
        {
          v23 = *(_DWORD *)v1;
          *(_DWORD *)(v23 + 24) = *(_WORD *)(v22 - 4);
          *(_DWORD *)(v23 + 28) = *(_WORD *)(v22 - 2);
          *(_DWORD *)(v23 + 32) = *(_WORD *)v22;
          *(_DWORD *)(v23 + 36) = *(_WORD *)(v22 + 2);
          *(_DWORD *)(v23 + 40) = *(_WORD *)(v22 + 4);
          *(_DWORD *)(v23 + 44) = *(_WORD *)(v22 + 6);
          *(_DWORD *)(v23 + 48) = *(_WORD *)(v22 + 8);
          *(_DWORD *)(v23 + 52) = *(_WORD *)(v22 + 10);
          *(_DWORD *)(v23 + 20) = 93;
          (*(void (__stdcall **)(int, signed int))(v23 + 4))(v1, 2);
          v22 += 16;
          --v30;
        }
        while ( v30 );
      }
      v24 = v34 - 65;
      v34 -= 65;
      if ( v31 )
        v34 = v24 - 64;
      v2 = v27;
    }
    while ( v34 > 0 );
    v11 = v34 == 0;
  }
  if ( !v11 )
  {
    v25 = *(_DWORD *)v1;
    *(_DWORD *)(v25 + 20) = 11;
    (*(void (__stdcall **)(int))v25)(v1);
  }
  *(_DWORD *)v2 = v10;
  *(_DWORD *)(v2 + 4) = v8;
  return 1;
}
// 4907F8: using guessed type int dword_4907F8[];

//----- (004305D0) --------------------------------------------------------
signed int __stdcall sub_4305D0(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // ebx@1
  _BYTE *v4; // edi@1
  int v5; // eax@4
  int v6; // ebx@4
  _BYTE *v7; // edi@4
  int v8; // ebx@7
  int v9; // eax@7
  _BYTE *v10; // edi@7
  int v11; // eax@8
  unsigned __int16 v12; // dx@12
  int v13; // ebx@12
  _BYTE *v14; // edi@12
  int v16; // ecx@16
  int v17; // eax@16
  int v18; // [sp+1Ch] [bp+4h]@4
  int v19; // [sp+1Ch] [bp+4h]@12
  int v20; // [sp+1Ch] [bp+4h]@16

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_BYTE **)v2;
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(_BYTE **)v2;
    v3 = *(_DWORD *)(v2 + 4);
  }
  v5 = 0;
  BYTE1(v5) = *v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v18 = (unsigned __int16)v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_BYTE **)v2;
    v6 = *(_DWORD *)(v2 + 4);
    v5 = v18;
  }
  v8 = v6 - 1;
  v9 = *v7 + v5;
  v10 = v7 + 1;
  if ( v9 != 4 )
  {
    v11 = *(_DWORD *)v1;
    *(_DWORD *)(v11 + 20) = 11;
    (*(void (__stdcall **)(int))v11)(v1);
  }
  if ( !v8 )
  {
    if ( (*(int (__stdcall **)(int))(v2 + 12))(v1) )
    {
      v10 = *(_BYTE **)v2;
      v8 = *(_DWORD *)(v2 + 4);
      goto LABEL_12;
    }
    return 0;
  }
LABEL_12:
  LOBYTE(v12) = 0;
  HIBYTE(v12) = *v10;
  v13 = v8 - 1;
  v14 = v10 + 1;
  v19 = v12;
  if ( !v13 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v14 = *(_BYTE **)v2;
    v13 = *(_DWORD *)(v2 + 4);
  }
  v16 = *v14 + v19;
  v17 = *(_DWORD *)v1;
  *(_DWORD *)(v17 + 20) = 82;
  v20 = v16;
  *(_DWORD *)(v17 + 24) = v16;
  (*(void (__stdcall **)(int, signed int))(v17 + 4))(v1, 1);
  *(_DWORD *)v2 = v14 + 1;
  *(_DWORD *)(v2 + 4) = v13 - 1;
  *(_DWORD *)(v1 + 280) = v20;
  return 1;
}

//----- (004306A0) --------------------------------------------------------
int __usercall sub_4306A0@<eax>(unsigned int a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4@<edi>, int a5@<esi>)
{
  int v5; // ebp@1
  unsigned __int8 v6; // cl@7
  unsigned __int8 v7; // dl@7
  int v8; // eax@7
  __int16 v9; // bx@7
  int v10; // eax@8
  int v11; // eax@9
  int v12; // edx@9
  int v13; // ecx@9
  int v14; // edx@9
  int v15; // ecx@9
  unsigned __int8 v16; // cl@9
  int v17; // eax@10
  unsigned __int8 v18; // dl@10
  int v19; // ebp@11
  int result; // eax@11
  int v21; // eax@12
  int v22; // ecx@19
  int v23; // eax@21
  int v24; // eax@24
  int v25; // eax@25
  int v26; // eax@26

  v5 = a1 + a2;
  LOBYTE(a2) = 70;
  if ( a1 < 0xE
    || *(_BYTE *)a4 != 74
    || *(_BYTE *)(a4 + 1) != 70
    || *(_BYTE *)(a4 + 2) != 73
    || *(_BYTE *)(a4 + 3) != 70
    || *(_BYTE *)(a4 + 4) )
  {
    if ( a1 < 6
      || *(_BYTE *)a4 != 74
      || *(_BYTE *)(a4 + 1) != 70
      || (LOBYTE(a2) = *(_BYTE *)(a4 + 2), (_BYTE)a2 != 88)
      || *(_BYTE *)(a4 + 3) != 88
      || *(_BYTE *)(a4 + 4) )
    {
      v26 = *(_DWORD *)a5;
      *(_DWORD *)(v26 + 20) = 77;
      *(_DWORD *)(v26 + 24) = v5;
      result = (*(int (__thiscall **)(int, int, signed int))(v26 + 4))(a2, a5, 1);
    }
    else
    {
      v22 = *(_BYTE *)(a4 + 5);
      if ( v22 == 16 )
      {
        v25 = *(_DWORD *)a5;
        *(_DWORD *)(v25 + 20) = 108;
        *(_DWORD *)(v25 + 24) = v5;
        result = (*(int (__stdcall **)(int, signed int))(v25 + 4))(a5, 1);
      }
      else if ( *(_BYTE *)(a4 + 5) == 17 )
      {
        v24 = *(_DWORD *)a5;
        *(_DWORD *)(v24 + 20) = 109;
        *(_DWORD *)(v24 + 24) = v5;
        result = (*(int (__stdcall **)(int, signed int))(v24 + 4))(a5, 1);
      }
      else
      {
        v23 = *(_DWORD *)a5;
        if ( *(_BYTE *)(a4 + 5) == 19 )
        {
          *(_DWORD *)(v23 + 20) = 110;
          *(_DWORD *)(v23 + 24) = v5;
          result = (*(int (__stdcall **)(int, signed int))(v23 + 4))(a5, 1);
        }
        else
        {
          *(_DWORD *)(v23 + 20) = 89;
          *(_DWORD *)(v23 + 24) = v22;
          *(_DWORD *)(v23 + 28) = v5;
          result = (*(int (__stdcall **)(int, signed int))(v23 + 4))(a5, 1);
        }
      }
    }
  }
  else
  {
    v6 = *(_BYTE *)(a4 + 5);
    *(_BYTE *)(a5 + 290) = *(_BYTE *)(a4 + 7);
    LOWORD(a1) = *(_BYTE *)(a4 + 8);
    v7 = *(_BYTE *)(a4 + 6);
    LOWORD(a3) = *(_BYTE *)(a4 + 9);
    *(_DWORD *)(a5 + 284) = 1;
    *(_BYTE *)(a5 + 288) = v6;
    *(_BYTE *)(a5 + 289) = v7;
    v8 = a3 + (a1 << 8);
    v9 = *(_BYTE *)(a4 + 11);
    *(_WORD *)(a5 + 292) = v8;
    *(_WORD *)(a5 + 294) = v9 + (*(_BYTE *)(a4 + 10) << 8);
    if ( v6 != 1 )
    {
      v10 = *(_DWORD *)a5;
      *(_DWORD *)(v10 + 20) = 119;
      *(_DWORD *)(v10 + 24) = v6;
      *(_DWORD *)(v10 + 28) = v7;
      (*(void (__stdcall **)(int, signed int))(v10 + 4))(a5, -1);
    }
    v11 = *(_DWORD *)a5;
    v12 = *(_BYTE *)(a5 + 289);
    *(_DWORD *)(v11 + 24) = *(_BYTE *)(a5 + 288);
    v13 = *(_WORD *)(a5 + 292);
    *(_DWORD *)(v11 + 28) = v12;
    v14 = *(_WORD *)(a5 + 294);
    *(_DWORD *)(v11 + 32) = v13;
    v15 = *(_BYTE *)(a5 + 290);
    *(_DWORD *)(v11 + 36) = v14;
    *(_DWORD *)(v11 + 40) = v15;
    *(_DWORD *)(v11 + 20) = 87;
    (*(void (__stdcall **)(int, signed int))(v11 + 4))(a5, 1);
    v16 = *(_BYTE *)(a4 + 13);
    if ( __PAIR__(*(_BYTE *)(a4 + 13), *(_BYTE *)(a4 + 12)) )
    {
      v17 = *(_DWORD *)a5;
      v18 = *(_BYTE *)(a4 + 12);
      *(_DWORD *)(v17 + 20) = 90;
      *(_DWORD *)(v17 + 24) = v18;
      *(_DWORD *)(v17 + 28) = v16;
      (*(void (__stdcall **)(int, signed int))(v17 + 4))(a5, 1);
    }
    v19 = v5 - 14;
    result = 3 * *(_BYTE *)(a4 + 13) * *(_BYTE *)(a4 + 12);
    if ( v19 != result )
    {
      v21 = *(_DWORD *)a5;
      *(_DWORD *)(v21 + 20) = 88;
      *(_DWORD *)(v21 + 24) = v19;
      result = (*(int (__stdcall **)(int, signed int))(v21 + 4))(a5, 1);
    }
  }
  return result;
}

//----- (00430880) --------------------------------------------------------
int __userpurge sub_430880@<eax>(int a1@<eax>, unsigned int a2@<ecx>, int a3@<esi>, int a4)
{
  int v4; // ecx@7
  int v5; // ebx@7
  int v6; // edi@7
  int result; // eax@7
  int v8; // eax@8

  if ( a2 < 0xC
    || *(_BYTE *)a1 != 65
    || *(_BYTE *)(a1 + 1) != 100
    || *(_BYTE *)(a1 + 2) != 111
    || *(_BYTE *)(a1 + 3) != 98
    || *(_BYTE *)(a1 + 4) != 101 )
  {
    v8 = *(_DWORD *)a3;
    *(_DWORD *)(v8 + 20) = 78;
    *(_DWORD *)(v8 + 24) = a4 + a2;
    result = (*(int (__stdcall **)(int, signed int))(v8 + 4))(a3, 1);
  }
  else
  {
    v4 = *(_DWORD *)a3;
    v5 = *(_BYTE *)(a1 + 11);
    v6 = *(_BYTE *)(a1 + 8);
    *(_DWORD *)(v4 + 24) = *(_BYTE *)(a1 + 6) + (*(_BYTE *)(a1 + 5) << 8);
    *(_DWORD *)(v4 + 28) = v6 + (*(_BYTE *)(a1 + 7) << 8);
    *(_DWORD *)(v4 + 32) = *(_BYTE *)(a1 + 10) + (*(_BYTE *)(a1 + 9) << 8);
    *(_DWORD *)(v4 + 36) = v5;
    *(_DWORD *)(v4 + 20) = 76;
    result = (*(int (__stdcall **)(int, signed int))(v4 + 4))(a3, 1);
    *(_BYTE *)(a3 + 300) = v5;
    *(_DWORD *)(a3 + 296) = 1;
  }
  return result;
}

//----- (00430920) --------------------------------------------------------
int __stdcall sub_430920(int a1)
{
  int v1; // edi@1
  int v2; // ebp@1
  char *v3; // ebx@1
  int result; // eax@2
  unsigned __int16 v5; // ax@4
  int v6; // ebp@4
  char *v7; // ebx@4
  int v8; // esi@4
  int v9; // ebp@8
  int v10; // esi@8
  char *v11; // ebx@8
  unsigned int v12; // eax@9
  int v13; // eax@10
  unsigned int v14; // ecx@11
  char v15; // dl@15
  int v16; // esi@16
  int v17; // eax@18
  int v18; // ecx@18
  signed int v19; // [sp+Ch] [bp-1Ch]@9
  unsigned int v20; // [sp+10h] [bp-18h]@11
  int v21; // [sp+14h] [bp-14h]@1
  char v22[16]; // [sp+18h] [bp-10h]@15

  v1 = *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(v1 + 4);
  v3 = *(char **)v1;
  v21 = *(_DWORD *)(a1 + 24);
  if ( !v2 )
  {
    result = (*(int (__stdcall **)(int))(v1 + 12))(a1);
    if ( !result )
      return result;
    v3 = *(char **)v1;
    v2 = *(_DWORD *)(v1 + 4);
  }
  LOBYTE(v5) = 0;
  HIBYTE(v5) = *v3;
  v6 = v2 - 1;
  v7 = v3 + 1;
  v8 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
      return 0;
    v7 = *(char **)v1;
    v6 = *(_DWORD *)(v1 + 4);
  }
  v9 = v6 - 1;
  v10 = (unsigned __int8)*v7 + v8 - 2;
  v11 = v7 + 1;
  if ( v10 < 14 )
  {
    v13 = v10 < 0;
    LOBYTE(v13) = v10 <= 0;
    v12 = v10 & (v13 - 1);
    v19 = v12;
  }
  else
  {
    v12 = 14;
    v19 = 14;
  }
  v14 = 0;
  v20 = 0;
  if ( v12 )
  {
    do
    {
      if ( !v9 )
      {
        if ( !(*(int (__stdcall **)(int))(v1 + 12))(a1) )
          return 0;
        v11 = *(char **)v1;
        v9 = *(_DWORD *)(v1 + 4);
        v12 = v19;
        v14 = v20;
      }
      v15 = *v11;
      --v9;
      ++v11;
      v22[v14++] = v15;
      v20 = v14;
    }
    while ( v14 < v12 );
  }
  v16 = v10 - v12;
  if ( *(_DWORD *)(a1 + 420) == 224 )
  {
    sub_4306A0(v12, v16, (int)v11, (int)v22, a1);
    v1 = v21;
  }
  else if ( *(_DWORD *)(a1 + 420) == 238 )
  {
    sub_430880((int)v22, v12, a1, v16);
  }
  else
  {
    v17 = *(_DWORD *)a1;
    v18 = *(_DWORD *)(a1 + 420);
    *(_DWORD *)(v17 + 20) = 68;
    *(_DWORD *)(v17 + 24) = v18;
    (*(void (__stdcall **)(int))v17)(a1);
  }
  *(_DWORD *)v1 = v11;
  *(_DWORD *)(v1 + 4) = v9;
  if ( v16 > 0 )
    (*(void (__stdcall **)(int, int))(*(_DWORD *)(a1 + 24) + 16))(a1, v16);
  return 1;
}
// 430920: using guessed type char var_10[16];

//----- (00430A60) --------------------------------------------------------
signed int __stdcall sub_430A60(int a1)
{
  int v1; // ebx@1
  int v2; // esi@1
  int v3; // ebp@1
  _BYTE *v4; // edi@1
  unsigned __int16 v5; // ax@4
  int v6; // ebp@4
  _BYTE *v7; // edi@4
  int v9; // eax@8
  int v10; // ecx@8
  int v11; // edx@8
  int v12; // [sp+14h] [bp+4h]@4
  int v13; // [sp+14h] [bp+4h]@8

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_BYTE **)v2;
  if ( !v3 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v4 = *(_BYTE **)v2;
    v3 = *(_DWORD *)(v2 + 4);
  }
  LOBYTE(v5) = 0;
  HIBYTE(v5) = *v4;
  v6 = v3 - 1;
  v7 = v4 + 1;
  v12 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_BYTE **)v2;
    v6 = *(_DWORD *)(v2 + 4);
  }
  v9 = *(_DWORD *)v1;
  v10 = v12 + *v7 - 2;
  v11 = *(_DWORD *)(v1 + 420);
  *(_DWORD *)(v9 + 20) = 91;
  *(_DWORD *)(v9 + 24) = v11;
  v13 = v10;
  *(_DWORD *)(v9 + 28) = v10;
  (*(void (__stdcall **)(int, signed int))(v9 + 4))(v1, 1);
  *(_DWORD *)v2 = v7 + 1;
  *(_DWORD *)(v2 + 4) = v6 - 1;
  if ( v13 > 0 )
    (*(void (__stdcall **)(int, int))(*(_DWORD *)(v1 + 24) + 16))(v1, v13);
  return 1;
}

//----- (00430B00) --------------------------------------------------------
signed int __stdcall sub_430B00(int a1)
{
  int v1; // ebp@1
  int v2; // ebx@1
  int v3; // esi@1
  _BYTE *v4; // edi@1
  int v5; // eax@5
  int v6; // eax@9
  int v7; // ebp@15
  int v9; // ecx@19
  int v10; // edx@19
  int v11; // eax@20

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_BYTE **)v2;
  while ( 1 )
  {
    if ( !v3 )
    {
      if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
        return 0;
      v4 = *(_BYTE **)v2;
      v3 = *(_DWORD *)(v2 + 4);
    }
    v5 = *v4;
    --v3;
    ++v4;
    if ( v5 == 255 )
      goto LABEL_12;
    do
    {
      ++*(_DWORD *)(*(_DWORD *)(v1 + 444) + 24);
      *(_DWORD *)v2 = v4;
      *(_DWORD *)(v2 + 4) = v3;
      if ( !v3 )
      {
        if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
          return 0;
        v4 = *(_BYTE **)v2;
        v3 = *(_DWORD *)(v2 + 4);
      }
      v6 = *v4;
      --v3;
      ++v4;
    }
    while ( v6 != 255 );
    while ( 1 )
    {
LABEL_12:
      if ( !v3 )
      {
        if ( !(*(int (__stdcall **)(_DWORD))(v2 + 12))(v1) )
          return 0;
        v4 = *(_BYTE **)v2;
        v3 = *(_DWORD *)(v2 + 4);
      }
      v7 = *v4;
      --v3;
      ++v4;
      if ( v7 != 255 )
        break;
      v1 = a1;
    }
    if ( v7 )
      break;
    v1 = a1;
    *(_DWORD *)(*(_DWORD *)(a1 + 444) + 24) += 2;
    *(_DWORD *)v2 = v4;
    *(_DWORD *)(v2 + 4) = v3;
  }
  v9 = a1;
  v10 = *(_DWORD *)(*(_DWORD *)(a1 + 444) + 24);
  if ( v10 )
  {
    v11 = *(_DWORD *)a1;
    *(_DWORD *)(v11 + 20) = 116;
    *(_DWORD *)(v11 + 24) = v10;
    *(_DWORD *)(v11 + 28) = v7;
    (*(void (__stdcall **)(int, signed int))(v11 + 4))(a1, -1);
    *(_DWORD *)(*(_DWORD *)(a1 + 444) + 24) = 0;
    v9 = a1;
  }
  *(_DWORD *)v2 = v4;
  *(_DWORD *)(v2 + 4) = v3;
  *(_DWORD *)(v9 + 420) = v7;
  return 1;
}

//----- (00430C10) --------------------------------------------------------
signed int __stdcall sub_430C10(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  _BYTE *v3; // ebx@1
  int v4; // edi@1
  int v5; // edx@4
  int v6; // edi@4
  _BYTE *v7; // ebx@4
  int v9; // ecx@8
  int v10; // edi@8
  int v11; // ebx@8
  int v12; // eax@10
  int v13; // [sp+14h] [bp+4h]@4
  int v14; // [sp+14h] [bp+4h]@8

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_BYTE **)v2;
  v4 = *(_DWORD *)(v2 + 4);
  if ( !v4 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(a1) )
      return 0;
    v3 = *(_BYTE **)v2;
    v4 = *(_DWORD *)(v2 + 4);
  }
  v5 = *v3;
  v6 = v4 - 1;
  v7 = v3 + 1;
  v13 = v5;
  if ( !v6 )
  {
    if ( !(*(int (__stdcall **)(int))(v2 + 12))(v1) )
      return 0;
    v7 = *(_BYTE **)v2;
    v6 = *(_DWORD *)(v2 + 4);
    v5 = v13;
  }
  v9 = *v7;
  v10 = v6 - 1;
  v11 = (int)(v7 + 1);
  v14 = v9;
  if ( v5 != 255 || v9 != 216 )
  {
    v12 = *(_DWORD *)v1;
    *(_DWORD *)(v12 + 20) = 53;
    *(_DWORD *)(v12 + 24) = v5;
    *(_DWORD *)(v12 + 28) = v9;
    (*(void (__stdcall **)(int))v12)(v1);
    v9 = v14;
  }
  *(_DWORD *)(v2 + 4) = v10;
  *(_DWORD *)v2 = v11;
  *(_DWORD *)(v1 + 420) = v9;
  return 1;
}

//----- (00430CA0) --------------------------------------------------------
signed int __stdcall sub_430CA0(int a1)
{
  signed int v1; // eax@3
  int v2; // eax@6
  signed int v3; // eax@7
  int v4; // ecx@8
  int v5; // eax@8
  signed int result; // eax@11
  int v7; // ecx@17
  int v8; // ecx@28
  int v9; // ecx@31
  int v10; // eax@35

  while ( 2 )
  {
    if ( *(_DWORD *)(a1 + 420)
      || (*(_DWORD *)(*(_DWORD *)(a1 + 444) + 12) ? (v1 = sub_430B00(a1)) : (v1 = sub_430C10(a1)), v1) )
    {
      v2 = *(_DWORD *)(a1 + 420);
      switch ( v2 )
      {
        case 216:
          v3 = sub_42FA90(a1);
          goto LABEL_15;
        case 192:
        case 193:
          v4 = 0;
          v5 = 0;
          goto LABEL_14;
        case 194:
          v4 = 0;
          goto LABEL_13;
        case 201:
          if ( !sub_42FB40(0, 1, a1) )
            goto LABEL_11;
          goto LABEL_32;
        case 202:
          v4 = 1;
LABEL_13:
          v5 = 1;
LABEL_14:
          v3 = sub_42FB40(v5, v4, a1);
LABEL_15:
          if ( !v3 )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 195:
        case 197:
        case 198:
        case 199:
        case 200:
        case 203:
        case 205:
        case 206:
        case 207:
          v7 = *(_DWORD *)a1;
          *(_DWORD *)(v7 + 20) = 60;
          *(_DWORD *)(v7 + 24) = v2;
          (*(void (__stdcall **)(int))v7)(a1);
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 196:
          if ( !sub_4300C0(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 219:
          if ( !sub_430390(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 221:
          if ( !sub_4305D0(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 224:
        case 225:
        case 226:
        case 227:
        case 228:
        case 229:
        case 230:
        case 231:
        case 232:
        case 233:
        case 234:
        case 235:
        case 236:
        case 237:
        case 238:
        case 239:
          if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(a1 + 444) + 4 * v2 - 864))(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 254:
          if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(a1 + 444) + 28))(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 1:
        case 208:
        case 209:
        case 210:
        case 211:
        case 212:
        case 213:
        case 214:
        case 215:
          v8 = *(_DWORD *)a1;
          *(_DWORD *)(v8 + 20) = 92;
          *(_DWORD *)(v8 + 24) = v2;
          (*(void (__stdcall **)(int, signed int))(v8 + 4))(a1, 1);
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 204:
        case 220:
          if ( !sub_430A60(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        default:
          v9 = *(_DWORD *)a1;
          *(_DWORD *)(v9 + 20) = 68;
          *(_DWORD *)(v9 + 24) = v2;
          (*(void (__stdcall **)(int))v9)(a1);
LABEL_32:
          *(_DWORD *)(a1 + 420) = 0;
          continue;
        case 218:
          if ( !sub_42FE00(a1) )
            goto LABEL_11;
          *(_DWORD *)(a1 + 420) = 0;
          result = 1;
          break;
        case 217:
          v10 = *(_DWORD *)a1;
          *(_DWORD *)(v10 + 20) = 85;
          (*(void (__stdcall **)(int, signed int))(v10 + 4))(a1, 1);
          *(_DWORD *)(a1 + 420) = 0;
          result = 2;
          break;
      }
    }
    else
    {
LABEL_11:
      result = 0;
    }
    return result;
  }
}

//----- (00431030) --------------------------------------------------------
signed int __stdcall sub_431030(int a1, int a2)
{
  int v2; // eax@1
  signed int v3; // esi@1
  signed int v4; // edi@3
  int v5; // eax@12
  int v6; // edi@12
  int v7; // edi@13

  v2 = *(_DWORD *)a1;
  v3 = *(_DWORD *)(a1 + 420);
  *(_DWORD *)(v2 + 20) = 121;
  *(_DWORD *)(v2 + 24) = v3;
  *(_DWORD *)(v2 + 28) = a2;
  (*(void (__stdcall **)(int, signed int))(v2 + 4))(a1, -1);
  while ( 1 )
  {
    if ( v3 < 192 )
    {
LABEL_3:
      v4 = 2;
      goto LABEL_12;
    }
    if ( v3 < 208 || v3 > 215 || v3 == (((_BYTE)a2 + 1) & 7) + 208 || v3 == (((_BYTE)a2 + 2) & 7) + 208 )
    {
      v4 = 3;
    }
    else
    {
      if ( v3 == (((_BYTE)a2 - 1) & 7) + 208 || v3 == (((_BYTE)a2 - 2) & 7) + 208 )
        goto LABEL_3;
      v4 = 1;
    }
LABEL_12:
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 97;
    *(_DWORD *)(v5 + 24) = v3;
    *(_DWORD *)(v5 + 28) = v4;
    (*(void (__stdcall **)(int, signed int))(v5 + 4))(a1, 4);
    v6 = v4 - 1;
    if ( !v6 )
      break;
    v7 = v6 - 1;
    if ( v7 )
    {
      if ( v7 == 1 )
        return 1;
    }
    else
    {
      if ( !sub_430B00(a1) )
        return 0;
      v3 = *(_DWORD *)(a1 + 420);
    }
  }
  *(_DWORD *)(a1 + 420) = 0;
  return 1;
}

//----- (00431160) --------------------------------------------------------
int __stdcall sub_431160(int a1)
{
  int result; // eax@1
  _DWORD *v2; // ecx@1
  signed int v3; // edx@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 172);
  *(_DWORD *)(a1 + 444) = result;
  *(_DWORD *)result = sub_431130;
  *(_DWORD *)(result + 4) = sub_430CA0;
  *(_DWORD *)(result + 8) = sub_430FB0;
  *(_DWORD *)(result + 28) = sub_430A60;
  *(_DWORD *)(result + 96) = 0;
  v2 = (_DWORD *)(result + 100);
  v3 = 16;
  do
  {
    *(v2 - 17) = sub_430A60;
    *v2 = 0;
    ++v2;
    --v3;
  }
  while ( v3 );
  *(_DWORD *)(result + 32) = sub_430920;
  *(_DWORD *)(result + 88) = sub_430920;
  *(_DWORD *)(a1 + 220) = 0;
  *(_DWORD *)(a1 + 148) = 0;
  *(_DWORD *)(a1 + 420) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 164) = 0;
  return result;
}
// 430FB0: using guessed type int __stdcall sub_430FB0(int);
// 431130: using guessed type int __stdcall sub_431130(int);

//----- (004311E0) --------------------------------------------------------
void __stdcall __noreturn sub_4311E0(int a1)
{
  (*(void (__cdecl **)(int))(*(_DWORD *)a1 + 8))(a1);
  sub_437A40(a1);
  exit(1);
}

//----- (00431330) --------------------------------------------------------
int __stdcall sub_431330(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = sub_4311E0;
  *(_DWORD *)(a1 + 4) = sub_431220;
  *(_DWORD *)(a1 + 8) = sub_431200;
  *(_DWORD *)(a1 + 12) = sub_431260;
  *(_DWORD *)(a1 + 16) = sub_431310;
  *(_DWORD *)(a1 + 104) = 0;
  *(_DWORD *)(a1 + 108) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  *(_DWORD *)(a1 + 112) = off_48EAB0;
  *(_DWORD *)(a1 + 116) = 123;
  *(_DWORD *)(a1 + 120) = 0;
  *(_DWORD *)(a1 + 124) = 0;
  *(_DWORD *)(a1 + 128) = 0;
  return result;
}
// 431200: using guessed type int __stdcall sub_431200(int);
// 431220: using guessed type int __stdcall sub_431220(int, int);
// 431260: using guessed type int __stdcall sub_431260(int, int);
// 431310: using guessed type int __stdcall sub_431310(int);
// 48EAB0: using guessed type char *off_48EAB0[20];

//----- (00431380) --------------------------------------------------------
int __thiscall sub_431380(_BYTE *this, int a2, const void *a3)
{
  int result; // eax@1
  signed int v4; // esi@1
  signed int v5; // edx@2
  int v6; // eax@7
  int v7; // eax@11

  result = 0;
  v4 = 0;
  do
  {
    v5 = *(_BYTE *)(a2 + v4++ + 268);
    if ( v5 < 41 || v5 > 122 || v5 > 90 && v5 < 97 )
    {
      this[result] = 91;
      v6 = result + 1;
      this[v6++] = byte_48FF38[(v5 >> 4) & 0xF];
      this[v6] = byte_48FF38[v5 & 0xF];
      result = v6 + 1;
      this[result] = 93;
    }
    else
    {
      this[result] = v5;
    }
    ++result;
  }
  while ( v4 < 4 );
  if ( a3 )
  {
    this[result] = 58;
    v7 = result + 1;
    this[v7] = 32;
    result = (int)&this[v7 + 1];
    qmemcpy((void *)result, a3, 0x40u);
    *(_BYTE *)(result + 63) = 0;
  }
  else
  {
    this[result] = 0;
  }
  return result;
}

//----- (00431409) --------------------------------------------------------
int __stdcall sub_431409(int a1, int a2, int a3, int a4)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 72) = a2;
  *(_DWORD *)(a1 + 64) = a3;
  *(_DWORD *)(a1 + 68) = a4;
  return result;
}

//----- (00431425) --------------------------------------------------------
void __cdecl __noreturn sub_431425(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  void (__cdecl *v2)(int *__attribute__((__org_typedef(jmp_buf))) , int); // eax@1

  v2 = (void (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int))a1[16];
  if ( v2 )
    v2(a1, a2);
  longjmp(a1, 1);
}

//----- (00431443) --------------------------------------------------------
int (__cdecl *__stdcall sub_431443(int a1, int a2))(int, int)
{
  int (__cdecl *result)(int, int); // eax@1

  result = *(int (__cdecl **)(int, int))(a1 + 68);
  if ( result )
    result = (int (__cdecl *)(int, int))result(a1, a2);
  return result;
}

//----- (0043145A) --------------------------------------------------------
void __stdcall __noreturn sub_43145A(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  int v2; // [sp+0h] [bp-50h]@1

  sub_431380(&v2, (int)a1, (const void *)a2);
  sub_431425(a1, (int)&v2);
}

//----- (0043147E) --------------------------------------------------------
int (__cdecl *__stdcall sub_43147E(int a1, const void *a2))(int, int)
{
  char v3; // [sp+0h] [bp-50h]@1

  sub_431380(&v3, a1, a2);
  return sub_431443(a1, (int)&v3);
}

//----- (004314A2) --------------------------------------------------------
void *__stdcall sub_4314A2(_BYTE *a1, int a2, int a3, int a4)
{
  void *v4; // eax@1
  signed int v6; // eax@8
  void *v7; // [sp+4h] [bp-4h]@1

  v4 = sub_4386A4(1);
  v7 = v4;
  if ( !v4 )
    return 0;
  if ( _setjmp3(v4, 0) )
  {
    sub_438733((int)v7, *((void **)v7 + 39));
    sub_4386E8(v7);
    return 0;
  }
  sub_431409((int)v7, a2, a3, a4);
  if ( !a1 || *a1 != 49 )
    sub_431425(
      (int *__attribute__((__org_typedef(jmp_buf))) )v7,
      (int)"Incompatible libpng version in application and library");
  *((_DWORD *)v7 + 40) = 0x2000;
  *((_DWORD *)v7 + 39) = sub_4386FC((int *__attribute__((__org_typedef(jmp_buf))) )v7, 0x2000u);
  *((_DWORD *)v7 + 33) = sub_43380B;
  *((_DWORD *)v7 + 34) = sub_43385E;
  *((_DWORD *)v7 + 35) = v7;
  v6 = sub_43832B((int)v7 + 100, "1.1.4", 56);
  if ( v6 == -6 )
    sub_431425((int *__attribute__((__org_typedef(jmp_buf))) )v7, (int)"zlib version error");
  if ( v6 == -4 || v6 == -2 )
    sub_431425((int *__attribute__((__org_typedef(jmp_buf))) )v7, (int)"zlib memory error");
  if ( v6 )
    sub_431425((int *__attribute__((__org_typedef(jmp_buf))) )v7, (int)"Unknown zlib error");
  *((_DWORD *)v7 + 28) = *((_DWORD *)v7 + 39);
  *((_DWORD *)v7 + 29) = *((_DWORD *)v7 + 40);
  sub_433782((int)v7, 0, 0);
  return v7;
}

//----- (00431596) --------------------------------------------------------
int __stdcall sub_431596(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  int *__attribute__((__org_typedef(jmp_buf))) v2; // esi@1
  unsigned __int8 v3; // al@1
  unsigned int v4; // ebx@2
  unsigned int v5; // edi@2
  int v6; // ST0C_4@2
  _DWORD *v7; // ebx@7
  int v8; // edi@8
  int result; // eax@22

  v2 = a1;
  v3 = *((_BYTE *)a1 + 284);
  if ( v3 < 8u )
  {
    v4 = v3;
    v5 = 8 - v3;
    sub_433759(a1, v3 + a2 + 32, 8 - v3);
    v6 = a2 + 32;
    *((_BYTE *)v2 + 284) = 8;
    if ( sub_4337C0(v6, v4, v5) )
    {
      if ( v4 < 4 )
      {
        if ( sub_4337C0(a2 + 32, v4, v5 - 4) )
          sub_431425(v2, (int)"Not a PNG file");
      }
      sub_431425(v2, (int)"PNG file corrupted by ASCII conversion");
    }
  }
  v7 = v2 + 67;
  while ( 1 )
  {
    while ( 1 )
    {
      while ( 1 )
      {
        while ( 1 )
        {
          sub_433759(v2, (int)&a1, 4);
          v8 = sub_4387A6((int)&a1);
          sub_433863((int)v2);
          sub_4387CB(v2, (int)(v2 + 67), 4);
          if ( *v7 != *(_DWORD *)"IHDR" )
            break;
          sub_439119(v2, a2, v8);
        }
        if ( *v7 != *(_DWORD *)"PLTE" )
          break;
        sub_4392F9(v2, a2, v8);
      }
      if ( *v7 != *(_DWORD *)"IEND" )
        break;
      sub_439412(v2, a2, v8);
    }
    if ( *v7 == *(_DWORD *)"IDAT" )
      break;
    if ( *v7 == *(_DWORD *)"gAMA" )
    {
      sub_439458(v2, a2, v8);
    }
    else if ( *v7 == *(_DWORD *)"sRGB" )
    {
      sub_439559(v2, a2, v8);
    }
    else if ( *v7 == *(_DWORD *)"tRNS" )
    {
      sub_43963B(v2, a2, v8);
    }
    else
    {
      sub_4397DC(v2, a2, v8);
    }
  }
  result = v2[22];
  if ( !(result & 1) )
    sub_431425(v2, (int)"Missing IHDR before IDAT");
  if ( *((_BYTE *)v2 + 278) == 3 && !(result & 2) )
    sub_431425(v2, (int)"Missing PLTE before IDAT");
  v2[22] |= 4u;
  v2[63] = v8;
  return result;
}

//----- (00431704) --------------------------------------------------------
unsigned int __userpurge sub_431704@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3)
{
  if ( !(*((_BYTE *)a2 + 92) & 0x40) )
    sub_438EFA(a1, a2);
  return sub_432074((int)a2, a3);
}

//----- (00431723) --------------------------------------------------------
int (__cdecl *__userpurge sub_431723@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2, int a3, int a4))(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD)
{
  int *__attribute__((__org_typedef(jmp_buf))) v4; // esi@1
  int (__cdecl *result)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD); // eax@13
  bool v6; // zf@20
  unsigned int v7; // eax@45
  unsigned int v8; // edx@45
  int v9; // ecx@45
  signed int v10; // eax@48
  const char *v11; // eax@50
  char v12; // al@60
  unsigned __int8 v13; // cl@60
  int v14; // eax@60
  unsigned int v15; // ecx@60
  int v16; // eax@60
  unsigned __int8 v17; // cl@64

  v4 = a2;
  if ( !(*((_BYTE *)a2 + 92) & 0x40) )
    sub_438EFA(a1, a2);
  if ( !*((_BYTE *)v4 + 275) || !(*((_BYTE *)v4 + 96) & 2) )
    goto LABEL_37;
  if ( !*((_BYTE *)v4 + 276) )
  {
    if ( !(*((_BYTE *)v4 + 212) & 7) )
      goto LABEL_37;
    v6 = a4 == 0;
    goto LABEL_34;
  }
  if ( *((_BYTE *)v4 + 276) == 1 )
  {
    if ( *((_BYTE *)v4 + 212) & 7 || (unsigned int)v4[46] < 5 )
    {
      if ( a4 )
        sub_4388A0((int)v4, (void *)a4, 15);
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
    }
    goto LABEL_37;
  }
  if ( *((_BYTE *)v4 + 276) == 2 )
  {
    if ( (v4[53] & 7) == 4 )
      goto LABEL_37;
    if ( !a4 )
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
    v6 = (v4[53] & 4) == 0;
LABEL_34:
    if ( !v6 )
      sub_4388A0((int)v4, (void *)a4, 255);
    return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
  }
  if ( *((_BYTE *)v4 + 276) == 3 )
  {
    if ( *((_BYTE *)v4 + 212) & 3 || (unsigned int)v4[46] < 3 )
    {
      if ( a4 )
        sub_4388A0((int)v4, (void *)a4, 51);
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
    }
    goto LABEL_37;
  }
  if ( *((_BYTE *)v4 + 276) == 4 )
  {
    if ( (v4[53] & 3) == 2 )
      goto LABEL_37;
    if ( a4 )
    {
      v6 = (v4[53] & 2) == 0;
      goto LABEL_34;
    }
    return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
  }
  if ( *((_BYTE *)v4 + 276) == 5 )
  {
    if ( *((_BYTE *)v4 + 212) & 1 || (unsigned int)v4[46] < 2 )
    {
      if ( a4 )
        sub_4388A0((int)v4, (void *)a4, 85);
      return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
    }
  }
  else if ( *((_BYTE *)v4 + 276) == 6 && !(*((_BYTE *)v4 + 212) & 1) )
  {
    return (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))sub_439822(a1, v4);
  }
LABEL_37:
  if ( !(*((_BYTE *)v4 + 88) & 4) )
    sub_431425(v4, (int)"Invalid attempt to read row data");
  v4[28] = v4[55];
  v4[29] = v4[51];
  while ( 1 )
  {
    if ( !v4[26] )
    {
      while ( !v4[63] )
      {
        sub_439094(v4, 0);
        sub_433759(v4, (int)&a2, 4);
        v4[63] = sub_4387A6((int)&a2);
        sub_433863((int)v4);
        sub_4387CB(v4, (int)(v4 + 67), 4);
        if ( v4[67] != *(_DWORD *)"IDAT" )
          sub_431425(v4, (int)"Not enough image data");
      }
      v7 = v4[40];
      v8 = v4[63];
      v9 = v4[39];
      v4[26] = v7;
      v4[25] = v9;
      if ( v7 > v8 )
        v4[26] = v8;
      sub_4387CB(v4, v9, v4[26]);
      v4[63] -= v4[26];
    }
    v10 = sub_438341((int)(v4 + 25), 1);
    if ( v10 == 1 )
      break;
    if ( v10 )
    {
      v11 = (const char *)v4[31];
      if ( !v11 )
        v11 = "Decompression error";
      sub_431425(v4, (int)v11);
    }
    if ( !v4[29] )
      goto LABEL_60;
  }
  if ( v4[29] || v4[26] || v4[63] )
    sub_431425(v4, (int)"Extra compressed data");
  v4[22] |= 8u;
  v4[23] |= 0x20u;
LABEL_60:
  v12 = *((_BYTE *)v4 + 278);
  *((_BYTE *)v4 + 250) = *((_BYTE *)v4 + 282);
  *((_BYTE *)v4 + 249) = *((_BYTE *)v4 + 279);
  v13 = *((_BYTE *)v4 + 281);
  *((_BYTE *)v4 + 251) = v13;
  *((_BYTE *)v4 + 248) = v12;
  v14 = v4[52];
  v15 = v14 * v13 + 7;
  v4[60] = v14;
  v16 = v4[55];
  v4[61] = v15 >> 3;
  sub_438D81((int)v4, (int)(v4 + 60), (_BYTE *)(v16 + 1), (unsigned __int8 *)(v4[54] + 1), *(_BYTE *)v16);
  sub_43874E((int)v4, (void *)v4[54], (const void *)v4[55], v4[50] + 1);
  if ( v4[24] )
    sub_43343C(v4);
  if ( *((_BYTE *)v4 + 275) && v4[24] & 2 )
  {
    v17 = *((_BYTE *)v4 + 276);
    if ( v17 < 6u )
      sub_438AB6((int)(v4 + 60), v4[55] + 1, v17, v4[24]);
    if ( a4 )
      sub_4388A0((int)v4, (void *)a4, dword_48FF70[*((_BYTE *)v4 + 276)]);
    if ( a3 )
      sub_4388A0((int)v4, (void *)a3, dword_48FF54[*((_BYTE *)v4 + 276)]);
  }
  else
  {
    if ( a3 )
      sub_4388A0((int)v4, (void *)a3, 255);
    if ( a4 )
      sub_4388A0((int)v4, (void *)a4, 255);
  }
  sub_439822(0, v4);
  result = (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))v4[91];
  if ( result )
    result = (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, _DWORD))result(
                                                                                            v4,
                                                                                            v4[53],
                                                                                            *((_BYTE *)v4 + 276));
  return result;
}
// 48FF54: using guessed type int dword_48FF54[];
// 48FF70: using guessed type int dword_48FF70[];

//----- (00431AA6) --------------------------------------------------------
char *__stdcall sub_431AA6(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  int *v2; // esi@1
  char *result; // eax@1
  int v4; // edi@1
  int *v5; // ebx@3
  char *v6; // [sp+8h] [bp-4h]@2
  int *__attribute__((__org_typedef(jmp_buf))) v7; // [sp+14h] [bp+8h]@4

  v2 = a1;
  result = (char *)sub_431ED6((int)a1);
  v4 = a1[47];
  a1[48] = v4;
  if ( (signed int)result > 0 )
  {
    v6 = result;
    do
    {
      v5 = (int *)a2;
      if ( v4 )
      {
        v7 = (int *__attribute__((__org_typedef(jmp_buf))) )v4;
        do
        {
          result = (char *)sub_431723((int)v5, v2, *v5, 0);
          ++v5;
          v7 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v7 - 1);
        }
        while ( v7 );
      }
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (00431AF1) --------------------------------------------------------
int __stdcall sub_431AF1(int a1, void *a2, void *a3)
{
  signed int v3; // edi@1
  signed int v4; // esi@10
  int result; // eax@13
  int v6; // edx@13
  int v7; // esi@13
  char v8; // [sp+Ch] [bp-40h]@13

  v3 = 0;
  if ( a2 )
    sub_4338B9(a1, a2);
  if ( a3 )
    sub_4338B9(a1, a3);
  sub_438733(a1, *(void **)(a1 + 156));
  sub_438733(a1, *(void **)(a1 + 220));
  sub_438733(a1, *(void **)(a1 + 216));
  sub_438733(a1, *(void **)(a1 + 372));
  sub_438733(a1, *(void **)(a1 + 376));
  sub_438733(a1, *(void **)(a1 + 312));
  if ( *(_BYTE *)(a1 + 93) & 0x10 )
    sub_43385E(a1, *(void **)(a1 + 260));
  if ( *(_BYTE *)(a1 + 93) & 0x20 )
    sub_438733(a1, *(void **)(a1 + 348));
  if ( *(_DWORD *)(a1 + 324) )
  {
    v4 = 1 << (8 - *(_BYTE *)(a1 + 300));
    if ( v4 > 0 )
    {
      do
        sub_438733(a1, *(void **)(*(_DWORD *)(a1 + 324) + 4 * v3++));
      while ( v3 < v4 );
    }
    sub_438733(a1, *(void **)(a1 + 324));
  }
  sub_43820F(a1 + 100);
  result = *(_DWORD *)(a1 + 72);
  v6 = *(_DWORD *)(a1 + 64);
  qmemcpy(&v8, (const void *)a1, 0x40u);
  v7 = *(_DWORD *)(a1 + 68);
  memset((void *)a1, 0, 0x19Cu);
  *(_DWORD *)(a1 + 68) = v7;
  qmemcpy((void *)a1, &v8, 0x40u);
  *(_DWORD *)(a1 + 64) = v6;
  *(_DWORD *)(a1 + 72) = result;
  return result;
}

//----- (00431C06) --------------------------------------------------------
void __stdcall sub_431C06(void **a1, void **a2, void **a3)
{
  void *v3; // esi@1
  void *v4; // [sp+Ch] [bp-8h]@1
  void *v5; // [sp+10h] [bp-4h]@1

  v3 = 0;
  v5 = 0;
  v4 = 0;
  if ( a1 )
    v5 = *a1;
  if ( a2 )
    v3 = *a2;
  if ( a3 )
    v4 = *a3;
  if ( v5 )
    sub_431AF1((int)v5, v3, v4);
  if ( v3 )
  {
    sub_4386E8(v3);
    *a2 = 0;
  }
  if ( v4 )
  {
    sub_4386E8(v4);
    *a3 = 0;
  }
  if ( v5 )
  {
    sub_4386E8(v5);
    *a1 = 0;
  }
}

//----- (00431C83) --------------------------------------------------------
int __stdcall sub_431C83(int a1, int a2, int a3)
{
  int result; // eax@3

  if ( a1 && a2 )
    result = a3 & *(_DWORD *)(a2 + 8);
  else
    result = 0;
  return result;
}

//----- (00431CA0) --------------------------------------------------------
int __stdcall sub_431CA0(int a1, int a2)
{
  int result; // eax@3

  if ( a1 && a2 )
    result = *(_DWORD *)(a2 + 12);
  else
    result = 0;
  return result;
}

//----- (00431CB9) --------------------------------------------------------
char __stdcall sub_431CB9(int a1, int a2)
{
  char result; // al@3

  if ( a1 && a2 )
    result = *(_BYTE *)(a2 + 29);
  else
    result = 0;
  return result;
}

//----- (00431CD2) --------------------------------------------------------
signed int __stdcall sub_431CD2(int a1, int a2, double *a3)
{
  signed int result; // eax@5

  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 1 && a3 )
  {
    *a3 = *(float *)(a2 + 40);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00431CFE) --------------------------------------------------------
signed int __stdcall sub_431CFE(int a1, int a2, _DWORD *a3)
{
  signed int result; // eax@3

  if ( a1 && a2 && (result = 2048, *(_DWORD *)(a2 + 8) & 0x800) && a3 )
    *a3 = *(_BYTE *)(a2 + 44);
  else
    result = 0;
  return result;
}

//----- (00431D2C) --------------------------------------------------------
signed int __stdcall sub_431D2C(int a1, int a2, unsigned int *a3, _DWORD *a4, _DWORD *a5, int *a6, _DWORD *a7, _DWORD *a8, _DWORD *a9)
{
  int v9; // ecx@13
  int v10; // eax@14
  signed int result; // eax@20

  if ( a1 && a2 && a3 && a4 && a5 && a6 )
  {
    *a3 = *(_DWORD *)a2;
    *a4 = *(_DWORD *)(a2 + 4);
    *a5 = *(_BYTE *)(a2 + 24);
    *a6 = *(_BYTE *)(a2 + 25);
    if ( a8 )
      *a8 = *(_BYTE *)(a2 + 26);
    if ( a9 )
      *a9 = *(_BYTE *)(a2 + 27);
    if ( a7 )
      *a7 = *(_BYTE *)(a2 + 28);
    v9 = *a6;
    if ( *a6 == 3 )
      v10 = 1;
    else
      v10 = *a6 & 2 | 1;
    if ( v9 & 4 )
      ++v10;
    if ( *a3 > 0x7FFFFFFFu / ((v10 * *a5 + 7) >> 3) )
      sub_431443(a1, (int)"Width too large for libpng to process image data.");
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00431DFD) --------------------------------------------------------
signed int __stdcall sub_431DFD(int a1, int a2, _DWORD *a3, _DWORD *a4)
{
  signed int result; // eax@5

  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 8 && a3 )
  {
    *a3 = *(_DWORD *)(a2 + 16);
    *a4 = *(_WORD *)(a2 + 20);
    result = 8;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00431E33) --------------------------------------------------------
signed int __stdcall sub_431E33(int a1, int a2, _DWORD *a3, _DWORD *a4, _DWORD *a5)
{
  signed int result; // eax@1

  result = 0;
  if ( a1 && a2 && *(_BYTE *)(a2 + 8) & 0x10 )
  {
    if ( *(_BYTE *)(a2 + 25) == 3 )
    {
      if ( a3 )
      {
        *a3 = *(_DWORD *)(a2 + 48);
        result = 16;
      }
      if ( a5 )
        *a5 = a2 + 52;
    }
    else
    {
      if ( a5 )
      {
        *a5 = a2 + 52;
        result = 16;
      }
      if ( a3 )
        *a3 = 0;
    }
    if ( a4 )
    {
      *a4 = *(_WORD *)(a2 + 22);
      result |= 0x10u;
    }
  }
  return result;
}

//----- (00431E9C) --------------------------------------------------------
int __stdcall sub_431E9C(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(result + 96) |= 1u;
  return result;
}

//----- (00431EA7) --------------------------------------------------------
int __stdcall sub_431EA7(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_BYTE *)(a1 + 279) == 16 )
    *(_DWORD *)(a1 + 96) |= 0x10u;
  return result;
}

//----- (00431EBB) --------------------------------------------------------
int __stdcall sub_431EBB(int a1)
{
  int result; // eax@1

  result = a1;
  if ( *(_BYTE *)(a1 + 279) < 8u )
  {
    *(_DWORD *)(a1 + 96) |= 4u;
    *(_BYTE *)(a1 + 280) = 8;
  }
  return result;
}

//----- (00431ED6) --------------------------------------------------------
signed int __stdcall sub_431ED6(int a1)
{
  signed int result; // eax@2

  if ( *(_BYTE *)(a1 + 275) )
  {
    *(_DWORD *)(a1 + 96) |= 2u;
    result = 7;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (00431EF2) --------------------------------------------------------
int __stdcall sub_431EF2(int a1, unsigned __int8 a2, int a3)
{
  int result; // eax@1
  char v4; // cl@4

  result = a1;
  *(_BYTE *)(result + 97) |= 0x80u;
  *(_WORD *)(a1 + 286) = a2;
  if ( a3 == 1 )
    *(_BYTE *)(a1 + 92) |= 0x80u;
  else
    *(_BYTE *)(a1 + 92) &= 0x7Fu;
  v4 = *(_BYTE *)(a1 + 278);
  if ( v4 == 2 )
    *(_BYTE *)(a1 + 283) = 4;
  if ( !v4 && *(_BYTE *)(a1 + 279) >= 8u )
    *(_BYTE *)(a1 + 283) = 2;
  return result;
}

//----- (00431F41) --------------------------------------------------------
void __stdcall sub_431F41(int a1, int a2)
{
  int v2; // eax@2
  int v3; // esi@3
  char v4; // dl@4

  if ( *(_BYTE *)(a1 + 9) == 16 )
  {
    v2 = a2;
    if ( *(_DWORD *)a1 * *(_BYTE *)(a1 + 10) )
    {
      v3 = *(_DWORD *)a1 * *(_BYTE *)(a1 + 10);
      do
      {
        v4 = *(_BYTE *)v2;
        *(_BYTE *)v2 = *(_BYTE *)(v2 + 1);
        *(_BYTE *)(v2 + 1) = v4;
        v2 += 2;
        --v3;
      }
      while ( v3 );
    }
  }
}

//----- (00431F70) --------------------------------------------------------
char __stdcall sub_431F70(int a1, int a2)
{
  int v2; // eax@1
  char v3; // dl@1
  int v4; // ecx@2
  int v5; // esi@5
  char v6; // dl@6
  int v7; // esi@10
  char v8; // dl@11
  int v9; // esi@16
  char v10; // cl@17
  char v11; // dl@17
  char v12; // cl@17
  int v13; // esi@21
  char v14; // cl@22
  char v15; // dl@22
  char v16; // cl@22

  LOBYTE(v2) = a1;
  v3 = *(_BYTE *)(a1 + 8);
  if ( v3 & 2 )
  {
    v4 = *(_DWORD *)a1;
    LOBYTE(v2) = *(_BYTE *)(a1 + 9);
    if ( (_BYTE)v2 == 8 )
    {
      if ( v3 == 2 )
      {
        v2 = a2;
        if ( v4 )
        {
          v5 = *(_DWORD *)a1;
          do
          {
            v6 = *(_BYTE *)v2;
            *(_BYTE *)v2 = *(_BYTE *)(v2 + 2);
            *(_BYTE *)(v2 + 2) = v6;
            v2 += 3;
            --v5;
          }
          while ( v5 );
        }
      }
      else if ( v3 == 6 )
      {
        v2 = a2;
        if ( v4 )
        {
          v7 = *(_DWORD *)a1;
          do
          {
            v8 = *(_BYTE *)v2;
            *(_BYTE *)v2 = *(_BYTE *)(v2 + 2);
            *(_BYTE *)(v2 + 2) = v8;
            v2 += 4;
            --v7;
          }
          while ( v7 );
        }
      }
    }
    else if ( (_BYTE)v2 == 16 )
    {
      if ( v3 == 2 )
      {
        if ( v4 )
        {
          v2 = a2 + 1;
          v9 = *(_DWORD *)a1;
          do
          {
            v10 = *(_BYTE *)(v2 - 1);
            *(_BYTE *)(v2 - 1) = *(_BYTE *)(v2 + 3);
            v11 = *(_BYTE *)(v2 + 4);
            *(_BYTE *)(v2 + 3) = v10;
            v12 = *(_BYTE *)v2;
            *(_BYTE *)v2 = v11;
            *(_BYTE *)(v2 + 4) = v12;
            v2 += 6;
            --v9;
          }
          while ( v9 );
        }
      }
      else if ( v3 == 6 && v4 )
      {
        v2 = a2 + 1;
        v13 = *(_DWORD *)a1;
        do
        {
          v14 = *(_BYTE *)(v2 - 1);
          *(_BYTE *)(v2 - 1) = *(_BYTE *)(v2 + 3);
          v15 = *(_BYTE *)(v2 + 4);
          *(_BYTE *)(v2 + 3) = v14;
          v16 = *(_BYTE *)v2;
          *(_BYTE *)v2 = v15;
          *(_BYTE *)(v2 + 4) = v16;
          v2 += 8;
          --v13;
        }
        while ( v13 );
      }
    }
  }
  return v2;
}

//----- (00432031) --------------------------------------------------------
int __stdcall sub_432031(int a1, double a2, double a3)
{
  int result; // eax@1

  result = a1;
  if ( fabs(a2 * a3 - 1.0) > 0.05 )
    *(_BYTE *)(a1 + 97) |= 0x20u;
  *(float *)(a1 + 304) = a3;
  *(float *)(a1 + 308) = a2;
  return result;
}

//----- (00432069) --------------------------------------------------------
int __stdcall sub_432069(int a1)
{
  int result; // eax@1

  result = a1;
  *(_BYTE *)(result + 97) |= 0x10u;
  return result;
}

//----- (00432074) --------------------------------------------------------
unsigned int __stdcall sub_432074(int a1, int a2)
{
  char v2; // dl@2
  char v3; // dl@15
  char v4; // dl@23
  unsigned __int8 v5; // al@33
  unsigned int result; // eax@33

  if ( *(_BYTE *)(a1 + 97) & 0x10 )
  {
    v2 = *(_BYTE *)(a2 + 25);
    if ( v2 == 3 )
    {
      *(_BYTE *)(a2 + 25) = 4 * (*(_WORD *)(a1 + 266) != 0) + 2;
    }
    else
    {
      if ( *(_WORD *)(a1 + 266) )
        *(_BYTE *)(a2 + 25) = v2 | 4;
      if ( *(_BYTE *)(a2 + 24) >= 8u )
        goto LABEL_8;
    }
    *(_BYTE *)(a2 + 24) = 8;
LABEL_8:
    *(_WORD *)(a2 + 22) = 0;
  }
  if ( *(_BYTE *)(a1 + 97) & 0x20 )
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a1 + 304);
  if ( *(_BYTE *)(a1 + 97) & 4 && *(_BYTE *)(a2 + 24) == 16 )
    *(_BYTE *)(a2 + 24) = 8;
  if ( *(_BYTE *)(a1 + 96) & 0x40 )
  {
    v3 = *(_BYTE *)(a2 + 25);
    if ( (v3 == 2 || v3 == 6) && *(_DWORD *)(a1 + 372) && *(_BYTE *)(a2 + 24) == 8 )
      *(_BYTE *)(a2 + 25) = 3;
  }
  if ( *(_BYTE *)(a1 + 96) & 4 && *(_BYTE *)(a2 + 24) < 8u )
    *(_BYTE *)(a2 + 24) = 8;
  v4 = *(_BYTE *)(a2 + 25);
  if ( v4 != 3 && v4 & 2 )
    *(_BYTE *)(a2 + 29) = 3;
  else
    *(_BYTE *)(a2 + 29) = 1;
  if ( v4 & 4 )
    ++*(_BYTE *)(a2 + 29);
  if ( *(_BYTE *)(a1 + 97) & 0x80 && (v4 == 2 || !v4) )
    ++*(_BYTE *)(a2 + 29);
  v5 = *(_BYTE *)(a2 + 29) * *(_BYTE *)(a2 + 24);
  *(_BYTE *)(a2 + 30) = v5;
  result = (*(_DWORD *)a2 * (unsigned int)v5 + 7) >> 3;
  *(_DWORD *)(a2 + 12) = result;
  return result;
}

//----- (00432161) --------------------------------------------------------
void __stdcall sub_432161(int a1, int a2)
{
  int v2; // ebx@1
  unsigned __int8 v3; // cl@1
  int v4; // eax@2
  int v5; // ecx@2
  int v6; // ecx@3
  unsigned __int8 *v7; // esi@5
  _BYTE *v8; // edi@5
  int v9; // edx@5
  unsigned __int8 *v10; // esi@12
  _BYTE *v11; // edi@12
  int v12; // edx@12
  unsigned __int8 *v13; // esi@19
  _BYTE *v14; // edi@19
  int v15; // edx@19
  unsigned __int8 v16; // cl@26
  int v17; // [sp+10h] [bp+Ch]@6
  int v18; // [sp+10h] [bp+Ch]@13
  int v19; // [sp+10h] [bp+Ch]@20

  v2 = a1;
  v3 = *(_BYTE *)(a1 + 9);
  if ( v3 < 8u )
  {
    v4 = *(_DWORD *)a1;
    v5 = v3 - 1;
    if ( v5 )
    {
      v6 = v5 - 1;
      if ( v6 )
      {
        if ( v6 != 2 )
          goto LABEL_26;
        v7 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 1));
        v8 = (_BYTE *)(v4 + a2 - 1);
        v9 = 4 - 4 * ((v4 - 1) & 1);
        if ( !v4 )
          goto LABEL_26;
        v17 = *(_DWORD *)a1;
        do
        {
          *v8 = (*v7 >> v9) & 0xF;
          if ( v9 == 4 )
          {
            v9 = 0;
            --v7;
          }
          else
          {
            v9 = 4;
          }
          --v8;
          --v17;
        }
        while ( v17 );
        goto LABEL_25;
      }
      v10 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 2));
      v11 = (_BYTE *)(v4 + a2 - 1);
      v12 = 6 - 2 * ((v4 - 1) & 3);
      if ( v4 )
      {
        v18 = *(_DWORD *)a1;
        do
        {
          *v11 = (*v10 >> v12) & 3;
          if ( v12 == 6 )
          {
            v12 = 0;
            --v10;
          }
          else
          {
            v12 += 2;
          }
          --v11;
          --v18;
        }
        while ( v18 );
LABEL_25:
        v2 = a1;
        goto LABEL_26;
      }
    }
    else
    {
      v13 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 3));
      v14 = (_BYTE *)(v4 + a2 - 1);
      v15 = 7 - ((v4 - 1) & 7);
      if ( v4 )
      {
        v19 = *(_DWORD *)a1;
        do
        {
          *v14 = (*v13 >> v15) & 1;
          if ( v15 == 7 )
          {
            v15 = 0;
            --v13;
          }
          else
          {
            ++v15;
          }
          --v14;
          --v19;
        }
        while ( v19 );
        goto LABEL_25;
      }
    }
LABEL_26:
    v16 = *(_BYTE *)(v2 + 10);
    *(_BYTE *)(v2 + 9) = 8;
    *(_BYTE *)(v2 + 11) = 8 * v16;
    *(_DWORD *)(v2 + 4) = v4 * v16;
  }
}

//----- (00432272) --------------------------------------------------------
char __stdcall sub_432272(int a1, unsigned __int8 *a2, int a3)
{
  int v3; // esi@1
  int v4; // eax@1
  int v5; // edi@2
  bool v6; // zf@2
  int v7; // edx@3
  int v8; // ebx@3
  unsigned int v9; // ebx@3
  signed int v10; // ecx@7
  int v11; // esi@17
  _BYTE *v12; // esi@18
  unsigned __int8 *v13; // esi@20
  unsigned int i; // edi@20
  int v15; // esi@23
  unsigned __int8 *v16; // edi@23
  unsigned int v17; // esi@26
  int v19; // [sp+4h] [bp-10h]@5
  int v20; // [sp+8h] [bp-Ch]@3
  int v21; // [sp+Ch] [bp-8h]@3
  signed int v22; // [sp+1Ch] [bp+8h]@2
  unsigned int j; // [sp+20h] [bp+Ch]@17
  unsigned int v24; // [sp+20h] [bp+Ch]@20

  v3 = a1;
  LOBYTE(v4) = *(_BYTE *)(a1 + 8);
  if ( (_BYTE)v4 != 3 )
  {
    v22 = 0;
    v5 = *(_DWORD *)v3;
    v6 = (v4 & 2) == 0;
    LOBYTE(v4) = a3;
    if ( v6 )
    {
      v7 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 3);
      v9 = 1;
    }
    else
    {
      v7 = *(_BYTE *)(v3 + 9) - *(_BYTE *)a3;
      v8 = *(_BYTE *)(a3 + 2);
      v20 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 1);
      v21 = *(_BYTE *)(v3 + 9) - v8;
      v9 = 3;
    }
    v6 = (*(_BYTE *)(v3 + 8) & 4) == 0;
    v19 = v7;
    if ( !v6 )
    {
      v4 = *(_BYTE *)(v3 + 9) - *(_BYTE *)(a3 + 4);
      *(&v19 + v9) = v4;
      LOBYTE(v7) = v19;
      ++v9;
    }
    v10 = 0;
    if ( (signed int)v9 > 0 )
    {
      do
      {
        v4 = (int)(&v19 + v10);
        if ( *(_DWORD *)v4 > 0 )
        {
          v22 = 1;
        }
        else
        {
          *(_DWORD *)v4 = 0;
          LOBYTE(v7) = v19;
        }
        ++v10;
      }
      while ( v10 < (signed int)v9 );
      if ( (_WORD)v22 )
      {
        if ( *(_BYTE *)(v3 + 9) == 2 )
        {
          v17 = *(_DWORD *)(v3 + 4);
          v4 = (int)a2;
          if ( v17 > 0 )
          {
            do
            {
              *(_BYTE *)v4 = (*(_BYTE *)v4 >> 1) & 0x55;
              ++v4;
              --v17;
            }
            while ( v17 );
          }
        }
        else if ( *(_BYTE *)(v3 + 9) == 4 )
        {
          v15 = *(_DWORD *)(v3 + 4);
          v16 = a2;
          for ( LOBYTE(v4) = (15 >> v7) | (240 >> v7) & 0xF0; v15; --v15 )
          {
            *v16 = v4 & (*v16 >> v7);
            ++v16;
          }
        }
        else
        {
          LOBYTE(v4) = *(_BYTE *)(v3 + 9) - 8;
          if ( *(_BYTE *)(v3 + 9) == 8 )
          {
            v13 = a2;
            v24 = v9 * v5;
            for ( i = 0; i < v24; ++i )
            {
              v4 = i / v9;
              *v13++ >>= *((_BYTE *)&v19 + 4 * (i % v9));
            }
          }
          else
          {
            LOBYTE(v4) = *(_BYTE *)(v3 + 9) - 16;
            if ( *(_BYTE *)(v3 + 9) == 16 )
            {
              v11 = (int)a2;
              for ( j = 0; j < v9 * v5; LOBYTE(v4) = j )
              {
                LOWORD(v4) = (unsigned __int16)(*(_BYTE *)(v11 + 1) + (*(_BYTE *)v11 << 8)) >> *((_WORD *)&v19
                                                                                               + 2 * (j % v9));
                *(_BYTE *)v11 = BYTE1(v4);
                v12 = (_BYTE *)(v11 + 1);
                *v12 = v4;
                v11 = (int)(v12 + 1);
                ++j;
              }
            }
          }
        }
      }
    }
  }
  return v4;
}

//----- (004323EB) --------------------------------------------------------
int __stdcall sub_4323EB(int a1, _BYTE *a2)
{
  int result; // eax@1
  _BYTE *v3; // esi@2
  char *v4; // edx@2
  int v5; // edi@3
  char v6; // cl@4
  unsigned __int8 v7; // cl@5
  char v8; // dl@5
  int v9; // ecx@5

  result = a1;
  if ( *(_BYTE *)(a1 + 9) == 16 )
  {
    v3 = a2;
    v4 = a2;
    if ( *(_DWORD *)a1 * *(_BYTE *)(a1 + 10) )
    {
      v5 = *(_DWORD *)a1 * *(_BYTE *)(a1 + 10);
      do
      {
        v6 = *v4;
        v4 += 2;
        *v3++ = v6;
        --v5;
      }
      while ( v5 );
    }
    v7 = *(_BYTE *)(a1 + 10);
    v8 = 8 * v7;
    v9 = *(_DWORD *)a1 * v7;
    *(_BYTE *)(a1 + 9) = 8;
    *(_BYTE *)(a1 + 11) = v8;
    *(_DWORD *)(a1 + 4) = v9;
  }
  return result;
}

//----- (00432431) --------------------------------------------------------
unsigned int __stdcall sub_432431(int a1, int a2, unsigned int a3, char a4)
{
  char v4; // cl@1
  unsigned int result; // eax@1
  unsigned int v6; // ebx@1
  char v7; // cl@2
  _BYTE *v8; // ecx@3
  _BYTE *v9; // edi@3
  _BYTE *v10; // edi@6
  bool v11; // zf@6
  _BYTE *v12; // edi@10
  int v13; // ecx@13
  _BYTE *v14; // ecx@14
  _BYTE *v15; // edi@15
  _BYTE *v16; // ecx@16
  _BYTE *v17; // edi@16
  _BYTE *v18; // ecx@17
  char *v19; // edi@18
  char v20; // cl@20
  char *v21; // edi@20
  char v22; // cl@23
  _BYTE *v23; // ecx@25
  _BYTE *v24; // edi@25
  _BYTE *v25; // edi@27
  _BYTE *v26; // ecx@27
  char v27; // bl@27
  _BYTE *v28; // edi@29
  _BYTE *v29; // ecx@29
  _BYTE *v30; // edi@31
  _BYTE *v31; // ecx@31
  _BYTE *v32; // edi@34
  _BYTE *v33; // ecx@34
  _BYTE *v34; // ecx@37
  _BYTE *v35; // edi@37
  char v36; // bl@37
  _BYTE *v37; // ecx@39
  _BYTE *v38; // edi@42
  _BYTE *v39; // ecx@42
  int v40; // [sp+18h] [bp+Ch]@5
  unsigned int v41; // [sp+18h] [bp+Ch]@9
  int v42; // [sp+18h] [bp+Ch]@15
  char *v43; // [sp+18h] [bp+Ch]@18
  char *v44; // [sp+18h] [bp+Ch]@20
  int v45; // [sp+18h] [bp+Ch]@26
  unsigned int v46; // [sp+18h] [bp+Ch]@30
  int v47; // [sp+18h] [bp+Ch]@36
  unsigned int v48; // [sp+18h] [bp+Ch]@41
  int v49; // [sp+20h] [bp+14h]@14
  unsigned int v50; // [sp+20h] [bp+14h]@19

  v4 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  v6 = a3 >> 8;
  if ( v4 )
  {
    if ( v4 != 2 )
      return result;
    v22 = *(_BYTE *)(a1 + 9);
    if ( v22 == 8 )
    {
      if ( a4 & 0x80 )
      {
        v23 = (_BYTE *)(a2 + 2 * result + result);
        v24 = &v23[result];
        if ( result > 1 )
        {
          v45 = result - 1;
          do
          {
            v25 = v24 - 1;
            *v25 = a3;
            v26 = v23 - 1;
            *--v25 = *v26;
            v27 = *--v26;
            --v25;
            v23 = v26 - 1;
            *v25 = v27;
            v24 = v25 - 1;
            v11 = v45-- == 1;
            *v24 = *v23;
          }
          while ( !v11 );
        }
        *(v24 - 1) = a3;
      }
      else
      {
        v28 = (_BYTE *)(a2 + 2 * result + result);
        v29 = &v28[result];
        if ( result )
        {
          v46 = *(_DWORD *)a1;
          do
          {
            v30 = v28 - 1;
            v31 = v29 - 1;
            *v31 = *v30--;
            *--v31 = *v30;
            v28 = v30 - 1;
            *--v31 = *v28;
            v29 = v31 - 1;
            v11 = v46-- == 1;
            *v29 = a3;
          }
          while ( !v11 );
        }
      }
      *(_BYTE *)(a1 + 11) = 32;
      result *= 4;
    }
    else
    {
      if ( v22 != 16 )
        return result;
      v32 = (_BYTE *)(a2 + 2 * result + result);
      v33 = &v32[result];
      if ( a4 & 0x80 )
      {
        if ( result > 1 )
        {
          v47 = result - 1;
          do
          {
            v34 = v33 - 1;
            *v34-- = BYTE1(a3);
            *v34 = a3;
            v35 = v32 - 1;
            *--v34 = *v35--;
            *--v34 = *v35--;
            *--v34 = *v35--;
            *--v34 = *v35;
            v36 = *--v35;
            --v34;
            v32 = v35 - 1;
            *v34 = v36;
            v33 = v34 - 1;
            v11 = v47-- == 1;
            *v33 = *v32;
          }
          while ( !v11 );
          LOBYTE(v6) = BYTE1(a3);
        }
        v37 = v33 - 1;
        *v37 = v6;
        *(v37 - 1) = a3;
      }
      else if ( result )
      {
        v48 = *(_DWORD *)a1;
        do
        {
          v38 = v32 - 1;
          v39 = v33 - 1;
          *v39 = *v38--;
          *--v39 = *v38--;
          *--v39 = *v38--;
          *--v39 = *v38--;
          *--v39 = *v38;
          v32 = v38 - 1;
          *--v39 = *v32;
          *--v39 = BYTE1(a3);
          v33 = v39 - 1;
          v11 = v48-- == 1;
          *v33 = a3;
        }
        while ( !v11 );
      }
      *(_BYTE *)(a1 + 11) = 64;
      result *= 8;
    }
    *(_BYTE *)(a1 + 10) = 4;
  }
  else
  {
    v7 = *(_BYTE *)(a1 + 9);
    if ( v7 == 8 )
    {
      v8 = (_BYTE *)(result + a2);
      v9 = (_BYTE *)(result + a2 + result);
      if ( a4 & 0x80 )
      {
        if ( result > 1 )
        {
          v40 = result - 1;
          do
          {
            v10 = v9 - 1;
            --v8;
            *v10 = a3;
            v9 = v10 - 1;
            v11 = v40-- == 1;
            *v9 = *v8;
          }
          while ( !v11 );
        }
        *(v9 - 1) = a3;
      }
      else if ( result )
      {
        v41 = *(_DWORD *)a1;
        do
        {
          --v8;
          v12 = v9 - 1;
          *v12 = *v8;
          v9 = v12 - 1;
          v11 = v41-- == 1;
          *v9 = a3;
        }
        while ( !v11 );
      }
      *(_BYTE *)(a1 + 10) = 2;
      *(_BYTE *)(a1 + 11) = 16;
      result *= 2;
    }
    else
    {
      if ( v7 != 16 )
        return result;
      v13 = a2;
      if ( a4 & 0x80 )
      {
        v49 = result + a2;
        v14 = (_BYTE *)(result + result + a2);
        if ( result > 1 )
        {
          v42 = result - 1;
          v15 = (_BYTE *)v49;
          do
          {
            v16 = v14 - 1;
            *v16-- = v6;
            *v16 = a3;
            v17 = v15 - 1;
            *--v16 = *v17;
            v15 = v17 - 1;
            v14 = v16 - 1;
            v11 = v42-- == 1;
            *v14 = *v15;
            LOBYTE(v6) = BYTE1(a3);
          }
          while ( !v11 );
        }
        v18 = v14 - 1;
        *v18 = v6;
        *(v18 - 1) = a3;
      }
      else
      {
        v43 = (char *)(result + a2);
        v19 = (char *)(result + result + v13);
        if ( result )
        {
          v50 = *(_DWORD *)a1;
          do
          {
            v44 = v43 - 1;
            v20 = *v44;
            v21 = v19 - 1;
            v43 = v44 - 1;
            *v21-- = v20;
            *v21-- = *v43;
            *v21 = v6;
            v19 = v21 - 1;
            v11 = v50-- == 1;
            *v19 = a3;
          }
          while ( !v11 );
        }
      }
      *(_BYTE *)(a1 + 10) = 2;
      *(_BYTE *)(a1 + 11) = 32;
      result *= 4;
    }
  }
  *(_DWORD *)(a1 + 4) = result;
  return result;
}

//----- (0043266A) --------------------------------------------------------
int __stdcall sub_43266A(int a1, _BYTE *a2, int a3, int a4, char a5)
{
  int result; // eax@1
  int v6; // esi@1
  int v7; // edi@1
  unsigned __int8 v8; // cl@1
  int v9; // edx@1
  _BYTE *v10; // ecx@10
  int v11; // esi@11
  _BYTE *v12; // ecx@12
  __int16 v13; // cx@16
  int v14; // eax@16
  __int16 v15; // cx@16
  __int16 v16; // cx@16
  _BYTE *v17; // ecx@19
  int v18; // esi@20
  __int16 v19; // cx@24
  _BYTE *v20; // ecx@27
  int v21; // esi@28
  _BYTE *v22; // ecx@29
  __int16 v23; // cx@33
  int v24; // eax@33
  __int16 v25; // cx@33
  __int16 v26; // cx@33
  char v27; // cl@38
  int v28; // edx@38
  int v29; // edi@38
  char *v30; // ecx@38
  bool v31; // zf@38
  char v32; // cl@40
  _BYTE *v33; // esi@41
  unsigned int v34; // edi@42
  _BYTE *v35; // ecx@46
  int v36; // esi@47
  __int16 v37; // cx@52
  int v38; // [sp+8h] [bp-Ch]@1
  int v39; // [sp+20h] [bp+Ch]@15
  int v40; // [sp+20h] [bp+Ch]@32
  unsigned int v41; // [sp+24h] [bp+10h]@37
  char *v42; // [sp+28h] [bp+14h]@36

  result = a3;
  v6 = a4;
  v7 = a1;
  v8 = *(_BYTE *)(a1 + 9);
  v9 = *(_DWORD *)a1;
  v38 = *(_DWORD *)a1;
  if ( v8 <= 8u && a3 || v8 == 16 && a4 )
  {
    if ( *(_BYTE *)(a1 + 8) )
    {
      switch ( *(_BYTE *)(a1 + 8) )
      {
        case 2:
          if ( v8 == 8 )
          {
            v20 = a2;
            if ( v9 )
            {
              v21 = *(_DWORD *)a1;
              do
              {
                *v20 = *(_BYTE *)(*v20 + a3);
                v22 = v20 + 1;
                *v22 = *(_BYTE *)(*v22 + a3);
                ++v22;
                *v22 = *(_BYTE *)(*v22 + a3);
                v20 = v22 + 1;
                --v21;
              }
              while ( v21 );
            }
          }
          else
          {
            result = (int)a2;
            if ( v9 )
            {
              v40 = *(_DWORD *)a1;
              do
              {
                v23 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5))
                               + 2 * *(_BYTE *)result);
                *(_BYTE *)(result + 1) = v23;
                *(_BYTE *)result = HIBYTE(v23);
                v24 = result + 2;
                v25 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v24 + 1) >> a5)) + 2 * *(_BYTE *)v24);
                *(_BYTE *)(v24 + 1) = v25;
                *(_BYTE *)v24 = HIBYTE(v25);
                v24 += 2;
                v26 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v24 + 1) >> a5)) + 2 * *(_BYTE *)v24);
                *(_BYTE *)v24 = HIBYTE(v26);
                *(_BYTE *)(v24 + 1) = v26;
                result = v24 + 2;
                --v40;
              }
              while ( v40 );
            }
          }
          break;
        case 4:
          if ( v8 == 8 )
          {
            v17 = a2;
            if ( v9 )
            {
              v18 = *(_DWORD *)a1;
              do
              {
                *v17 = *(_BYTE *)(*v17 + a3);
                v17 += 2;
                --v18;
              }
              while ( v18 );
            }
          }
          else
          {
            for ( result = (int)a2; v9; --v9 )
            {
              v19 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5)) + 2 * *(_BYTE *)result);
              *(_BYTE *)result = HIBYTE(v19);
              *(_BYTE *)(result + 1) = v19;
              result += 4;
            }
          }
          break;
        case 6:
          if ( v8 == 8 )
          {
            v10 = a2;
            if ( v9 )
            {
              v11 = *(_DWORD *)a1;
              do
              {
                *v10 = *(_BYTE *)(*v10 + a3);
                v12 = v10 + 1;
                *v12 = *(_BYTE *)(*v12 + a3);
                ++v12;
                *v12 = *(_BYTE *)(*v12 + a3);
                v10 = v12 + 2;
                --v11;
              }
              while ( v11 );
            }
          }
          else
          {
            result = (int)a2;
            if ( v9 )
            {
              v39 = *(_DWORD *)a1;
              do
              {
                v13 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5))
                               + 2 * *(_BYTE *)result);
                *(_BYTE *)(result + 1) = v13;
                *(_BYTE *)result = HIBYTE(v13);
                v14 = result + 2;
                v15 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v14 + 1) >> a5)) + 2 * *(_BYTE *)v14);
                *(_BYTE *)(v14 + 1) = v15;
                *(_BYTE *)v14 = HIBYTE(v15);
                v14 += 2;
                v16 = *(_WORD *)(*(_DWORD *)(a4 + 4 * ((unsigned int)*(_BYTE *)(v14 + 1) >> a5)) + 2 * *(_BYTE *)v14);
                *(_BYTE *)v14 = HIBYTE(v16);
                *(_BYTE *)(v14 + 1) = v16;
                result = v14 + 4;
                --v39;
              }
              while ( v39 );
            }
          }
          break;
      }
    }
    else
    {
      if ( v8 == 2 )
      {
        v42 = a2;
        if ( v9 )
        {
          v41 = ((unsigned int)(v9 - 1) >> 2) + 1;
          do
          {
            v27 = *v42;
            v28 = *v42 & 0xC;
            v29 = *v42 & 0x30;
            LOBYTE(v28) = *(_BYTE *)((*v42 & 0xC0 | ((*v42 & 0xC0 | ((*v42 & 0xC0 | ((*v42 & 0xC0) >> 2)) >> 2)) >> 2))
                                   + result) & 0xC0 | ((unsigned __int8)(*(_BYTE *)((v29 | 4 * v29 | ((v29 | (v29 >> 2)) >> 2))
                                                                                  + result) & 0xC3 | ((unsigned __int8)((*(_BYTE *)((v27 & 3 | 4 * (v27 & 3 | 4 * (v27 & 3 | 4 * (v27 & 3)))) + result) >> 2) | *(_BYTE *)((v28 | (v28 >> 2) | 4 * (v28 | 4 * (v27 & 0xC))) + result) & 0xCF) >> 2)) >> 2);
            v30 = v42++;
            v31 = v41-- == 1;
            *v30 = v28;
          }
          while ( !v31 );
          v9 = v38;
          v7 = a1;
        }
      }
      v32 = *(_BYTE *)(v7 + 9);
      switch ( v32 )
      {
        case 4:
          v33 = a2;
          if ( v9 )
          {
            v34 = ((unsigned int)(v9 - 1) >> 1) + 1;
            do
            {
              *v33 = (*(_BYTE *)((*v33 & 0xF | 16 * (*v33 & 0xF)) + result) >> 4) | *(_BYTE *)((*v33 & 0xF0 | ((*v33 & 0xF0) >> 4))
                                                                                             + result) & 0xF0;
              ++v33;
              --v34;
            }
            while ( v34 );
          }
          break;
        case 8:
          v35 = a2;
          if ( v9 )
          {
            v36 = v9;
            do
            {
              *v35 = *(_BYTE *)(*v35 + result);
              ++v35;
              --v36;
            }
            while ( v36 );
          }
          break;
        case 16:
          for ( result = (int)a2; v9; --v9 )
          {
            v37 = *(_WORD *)(*(_DWORD *)(v6 + 4 * ((unsigned int)*(_BYTE *)(result + 1) >> a5)) + 2 * *(_BYTE *)result);
            *(_BYTE *)result = HIBYTE(v37);
            *(_BYTE *)(result + 1) = v37;
            result += 2;
          }
          break;
      }
    }
  }
  return result;
}

//----- (004329BA) --------------------------------------------------------
int __stdcall sub_4329BA(int a1, int a2, int a3, int a4, signed int a5)
{
  int v5; // esi@1
  int result; // eax@1
  unsigned __int8 v7; // cl@2
  int v8; // edi@2
  int v9; // ecx@3
  int v10; // ecx@4
  int v11; // ecx@6
  unsigned __int8 *v12; // edx@6
  bool v13; // zf@11
  int v14; // ebx@13
  int v15; // ecx@13
  unsigned __int8 *v16; // edx@13
  int v17; // ebx@20
  int v18; // ecx@20
  unsigned __int8 *v19; // edx@20
  _BYTE *v20; // edx@28
  int v21; // ebx@29
  _BYTE *v22; // ecx@29
  _BYTE *v23; // ecx@34
  _BYTE *v24; // ecx@37
  _BYTE *v25; // ecx@39
  int v26; // [sp+4h] [bp-4h]@7
  int v27; // [sp+4h] [bp-4h]@14
  int v28; // [sp+4h] [bp-4h]@21
  int v29; // [sp+10h] [bp+8h]@6
  int v30; // [sp+10h] [bp+8h]@13
  int v31; // [sp+10h] [bp+8h]@20
  int v32; // [sp+10h] [bp+8h]@30
  int v33; // [sp+10h] [bp+8h]@37
  _BYTE *v34; // [sp+14h] [bp+Ch]@6
  _BYTE *v35; // [sp+14h] [bp+Ch]@13
  _BYTE *v36; // [sp+14h] [bp+Ch]@20
  int v37; // [sp+14h] [bp+Ch]@29
  int v38; // [sp+1Ch] [bp+14h]@38

  v5 = a1;
  result = *(_DWORD *)a1;
  if ( *(_BYTE *)(a1 + 8) == 3 )
  {
    v7 = *(_BYTE *)(a1 + 9);
    v8 = a2;
    if ( v7 < 8u )
    {
      v9 = v7 - 1;
      if ( v9 )
      {
        v10 = v9 - 1;
        if ( v10 )
        {
          if ( v10 == 2 )
          {
            v34 = (_BYTE *)(result + a2 - 1);
            LOBYTE(v11) = 4 * (result & 1);
            v12 = (unsigned __int8 *)(v8 + ((unsigned int)(result - 1) >> 1));
            v29 = 4 * (*(_DWORD *)a1 & 1);
            if ( result )
            {
              v26 = result;
              do
              {
                *v34 = (*v12 >> v11) & 0xF;
                if ( v29 == 4 )
                {
                  v11 = 0;
                  --v12;
                }
                else
                {
                  v11 = v29 + 4;
                }
                --v34;
                v13 = v26-- == 1;
                v29 = v11;
              }
              while ( !v13 );
            }
          }
        }
        else
        {
          v35 = (_BYTE *)(result + a2 - 1);
          v14 = ((_BYTE)result - 1) & 3;
          v15 = 2 * (3 - v14);
          v16 = (unsigned __int8 *)(v8 + ((unsigned int)(result - 1) >> 2));
          v30 = 2 * (3 - v14);
          if ( result )
          {
            v27 = result;
            do
            {
              *v35 = (*v16 >> v15) & 3;
              if ( v30 == 6 )
              {
                v15 = 0;
                --v16;
              }
              else
              {
                v15 = v30 + 2;
              }
              --v35;
              v13 = v27-- == 1;
              v30 = v15;
            }
            while ( !v13 );
          }
        }
      }
      else
      {
        v36 = (_BYTE *)(result + a2 - 1);
        v17 = ((_BYTE)result - 1) & 7;
        v18 = (unsigned __int8)(7 - v17);
        v19 = (unsigned __int8 *)(v8 + ((unsigned int)(result - 1) >> 3));
        v31 = 7 - v17;
        if ( result )
        {
          v28 = result;
          do
          {
            *v36 = (*v19 >> v18) & 1;
            if ( v31 == 7 )
            {
              v18 = 0;
              --v19;
            }
            else
            {
              v18 = v31 + 1;
            }
            --v36;
            v13 = v28-- == 1;
            v31 = v18;
          }
          while ( !v13 );
        }
      }
      *(_BYTE *)(v5 + 9) = 8;
      *(_BYTE *)(v5 + 11) = 8;
      *(_DWORD *)(v5 + 4) = result;
    }
    if ( *(_BYTE *)(v5 + 9) == 8 )
    {
      v20 = (_BYTE *)(result + v8 - 1);
      if ( a4 )
      {
        v21 = 4 * result;
        v37 = 4 * result;
        v22 = (_BYTE *)(4 * result + v8 - 1);
        if ( result )
        {
          v32 = result;
          result = a3;
          do
          {
            if ( *v20 < a5 )
              *v22 = *(_BYTE *)(*v20 + a4);
            else
              *v22 = -1;
            v23 = v22 - 1;
            *v23-- = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 2);
            *v23-- = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 1);
            *v23 = *(_BYTE *)(*v20 + a3 + 2 * *v20);
            v22 = v23 - 1;
            --v20;
            --v32;
          }
          while ( v32 );
          v21 = v37;
        }
        *(_BYTE *)(v5 + 11) = 32;
        *(_BYTE *)(v5 + 8) = 6;
        *(_BYTE *)(v5 + 10) = 4;
      }
      else
      {
        v21 = 3 * result;
        v33 = 3 * result;
        v24 = (_BYTE *)(3 * result + v8 - 1);
        if ( result )
        {
          v38 = result;
          result = a3;
          do
          {
            *v24 = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 2);
            v25 = v24 - 1;
            *v25-- = *(_BYTE *)(*v20 + a3 + 2 * *v20 + 1);
            *v25 = *(_BYTE *)(*v20 + a3 + 2 * *v20);
            v24 = v25 - 1;
            --v20;
            --v38;
          }
          while ( v38 );
          v21 = v33;
        }
        *(_BYTE *)(v5 + 11) = 24;
        *(_BYTE *)(v5 + 8) = 2;
        *(_BYTE *)(v5 + 10) = 3;
      }
      *(_BYTE *)(v5 + 9) = 8;
      *(_DWORD *)(v5 + 4) = v21;
    }
  }
  return result;
}

//----- (00432BC3) --------------------------------------------------------
int __stdcall sub_432BC3(int a1, int a2, int a3)
{
  int v3; // esi@1
  char v4; // cl@1
  int result; // eax@1
  unsigned __int16 v6; // bx@2
  unsigned __int8 v7; // cl@4
  int v8; // edi@4
  int v9; // ecx@5
  int v10; // ecx@6
  int v11; // ebx@8
  signed int v12; // ecx@8
  _BYTE *v13; // edx@8
  bool v14; // zf@12
  int v15; // ebx@14
  int v16; // ecx@14
  _BYTE *v17; // edx@14
  char v18; // bl@16
  int v19; // ebx@21
  int v20; // ecx@21
  unsigned __int8 *v21; // edx@21
  char v22; // cl@29
  _BYTE *v23; // ecx@30
  _BYTE *v24; // edi@30
  int v25; // edx@31
  _BYTE *v26; // edi@35
  int v27; // edx@38
  _BYTE *v28; // ecx@38
  _BYTE *v29; // edi@38
  unsigned __int16 v30; // bx@40
  _BYTE *v31; // edi@41
  _BYTE *v32; // edi@43
  char v33; // cl@44
  unsigned __int8 v34; // cl@44
  int v35; // edx@46
  char v36; // cl@47
  _BYTE *v37; // ecx@48
  _BYTE *v38; // edi@48
  _BYTE *v39; // edi@55
  _BYTE *v40; // ecx@55
  _BYTE *v41; // ecx@58
  _BYTE *v42; // edi@58
  unsigned __int16 v43; // bx@61
  unsigned __int16 v44; // dx@62
  unsigned __int16 v45; // dx@63
  _BYTE *v46; // edi@64
  _BYTE *v47; // edi@66
  _BYTE *v48; // ecx@66
  char v49; // cl@67
  int v50; // [sp+Ch] [bp-8h]@9
  int v51; // [sp+Ch] [bp-8h]@15
  int v52; // [sp+Ch] [bp-8h]@22
  unsigned __int16 v53; // [sp+10h] [bp-4h]@4
  _BYTE *v54; // [sp+1Ch] [bp+8h]@8
  _BYTE *v55; // [sp+1Ch] [bp+8h]@14
  _BYTE *v56; // [sp+1Ch] [bp+8h]@21
  int v57; // [sp+20h] [bp+Ch]@8
  int v58; // [sp+20h] [bp+Ch]@14
  int v59; // [sp+20h] [bp+Ch]@21
  int v60; // [sp+20h] [bp+Ch]@39
  int v61; // [sp+20h] [bp+Ch]@59
  int v62; // [sp+24h] [bp+10h]@39
  int v63; // [sp+24h] [bp+10h]@49

  v3 = a1;
  v4 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  if ( v4 )
  {
    if ( v4 == 2 )
    {
      v35 = a3;
      if ( a3 )
      {
        v36 = *(_BYTE *)(a1 + 9);
        if ( v36 == 8 )
        {
          v37 = (_BYTE *)(*(_DWORD *)(a1 + 4) + a2 - 1);
          v38 = (_BYTE *)(a2 + 4 * result - 1);
          if ( result )
          {
            v63 = *(_DWORD *)a1;
            do
            {
              if ( *(v37 - 2) != *(_WORD *)(v35 + 2) || *(v37 - 1) != *(_WORD *)(v35 + 4) || *v37 != *(_WORD *)(v35 + 6) )
                *v38 = -1;
              else
                *v38 = 0;
              v39 = v38 - 1;
              *v39-- = *v37;
              v40 = v37 - 1;
              *v39-- = *v40;
              *v39 = *--v40;
              v38 = v39 - 1;
              v37 = v40 - 1;
              --v63;
            }
            while ( v63 );
          }
        }
        else if ( v36 == 16 )
        {
          v41 = (_BYTE *)(*(_DWORD *)(a1 + 4) + a2 - 1);
          v42 = (_BYTE *)(a2 + 8 * result - 1);
          if ( result )
          {
            v61 = *(_DWORD *)a1;
            while ( 1 )
            {
              HIBYTE(v43) = *(v41 - 5);
              LOBYTE(v43) = *(v41 - 4);
              if ( v43 != *(_WORD *)(v35 + 2)
                || (HIBYTE(v44) = *(v41 - 3), LOBYTE(v44) = *(v41 - 2), v44 != *(_WORD *)(a3 + 4))
                || (HIBYTE(v45) = *(v41 - 1), LOBYTE(v45) = *v41, v45 != *(_WORD *)(a3 + 6)) )
              {
                *v42 = -1;
                v46 = v42 - 1;
                *v46 = -1;
              }
              else
              {
                *v42 = 0;
                v46 = v42 - 1;
                *v46 = 0;
              }
              v47 = v46 - 1;
              *v47-- = *v41;
              v48 = v41 - 1;
              *v47-- = *v48;
              *v47-- = *--v48;
              *v47-- = *--v48;
              *v47-- = *--v48;
              *v47 = *--v48;
              v42 = v47 - 1;
              v41 = v48 - 1;
              if ( !--v61 )
                break;
              v35 = a3;
            }
          }
        }
        v49 = *(_BYTE *)(a1 + 9);
        *(_BYTE *)(a1 + 8) = 6;
        *(_BYTE *)(a1 + 10) = 4;
        v34 = 4 * v49;
        goto LABEL_68;
      }
    }
  }
  else
  {
    v6 = 0;
    if ( a3 )
      v6 = *(_WORD *)(a3 + 8);
    v7 = *(_BYTE *)(a1 + 9);
    v8 = a2;
    v53 = v6;
    if ( v7 < 8u )
    {
      v9 = v7 - 1;
      if ( v9 )
      {
        v10 = v9 - 1;
        if ( v10 )
        {
          if ( v10 == 2 )
          {
            v54 = (_BYTE *)(result + a2 - 1);
            v53 = 17 * v6;
            v11 = 4 * (((_BYTE)result - 1) & 1);
            LOBYTE(v12) = 4 - v11;
            v13 = (_BYTE *)(a2 + ((unsigned int)(result - 1) >> 1));
            v57 = 4 - v11;
            if ( result )
            {
              v50 = result;
              do
              {
                *v54 = ((unsigned int)*v13 >> v12) & 0xF | 16 * (((unsigned int)*v13 >> v12) & 0xF);
                v12 = 4;
                if ( v57 == 4 )
                {
                  v12 = 0;
                  --v13;
                }
                --v54;
                v14 = v50-- == 1;
                v57 = v12;
              }
              while ( !v14 );
            }
          }
        }
        else
        {
          v53 = 85 * v6;
          v55 = (_BYTE *)(result + a2 - 1);
          v15 = ((_BYTE)result - 1) & 3;
          v16 = 2 * (3 - v15);
          v17 = (_BYTE *)(a2 + ((unsigned int)(result - 1) >> 2));
          v58 = 2 * (3 - v15);
          if ( result )
          {
            v51 = result;
            do
            {
              v18 = ((unsigned int)*v17 >> v16) & 3;
              *v55 = v18 | 4 * (v18 | 4 * (v18 | 4 * v18));
              if ( v58 == 6 )
              {
                v16 = 0;
                --v17;
              }
              else
              {
                v16 = v58 + 2;
              }
              --v55;
              v14 = v51-- == 1;
              v58 = v16;
            }
            while ( !v14 );
          }
        }
      }
      else
      {
        v53 = 255 * v6;
        v56 = (_BYTE *)(result + a2 - 1);
        v19 = ((_BYTE)result - 1) & 7;
        v20 = (unsigned __int8)(7 - v19);
        v21 = (unsigned __int8 *)(a2 + ((unsigned int)(result - 1) >> 3));
        v59 = 7 - v19;
        if ( result )
        {
          v52 = result;
          do
          {
            *v56 = -(((*v21 >> v20) & 1) != 0);
            if ( v59 == 7 )
            {
              v20 = 0;
              --v21;
            }
            else
            {
              v20 = v59 + 1;
            }
            --v56;
            v14 = v52-- == 1;
            v59 = v20;
          }
          while ( !v14 );
        }
      }
      v6 = v53;
      *(_BYTE *)(v3 + 9) = 8;
      *(_BYTE *)(v3 + 11) = 8;
      *(_DWORD *)(v3 + 4) = result;
    }
    if ( a3 )
    {
      v22 = *(_BYTE *)(v3 + 9);
      if ( v22 == 8 )
      {
        v23 = (_BYTE *)(result + v8 - 1);
        v24 = (_BYTE *)(v8 + 2 * result - 1);
        if ( result )
        {
          v25 = result;
          do
          {
            if ( *v23 == v53 )
              *v24 = 0;
            else
              *v24 = -1;
            v26 = v24 - 1;
            *v26 = *v23;
            v24 = v26 - 1;
            --v23;
            --v25;
          }
          while ( v25 );
        }
      }
      else if ( v22 == 16 )
      {
        v27 = *(_DWORD *)(v3 + 4);
        v28 = (_BYTE *)(v27 + v8 - 1);
        v29 = (_BYTE *)(v8 + 2 * v27 - 1);
        if ( result )
        {
          v60 = v6;
          v62 = result;
          do
          {
            HIBYTE(v30) = *(v28 - 1);
            LOBYTE(v30) = *v28;
            if ( v30 == v60 )
            {
              *v29 = 0;
              v31 = v29 - 1;
              *v31 = 0;
            }
            else
            {
              *v29 = -1;
              v31 = v29 - 1;
              *v31 = -1;
            }
            v32 = v31 - 1;
            *v32-- = *v28;
            *v32 = *(v28 - 1);
            v29 = v32 - 1;
            v28 -= 2;
            --v62;
          }
          while ( v62 );
        }
      }
      v33 = *(_BYTE *)(v3 + 9);
      *(_BYTE *)(v3 + 8) = 4;
      *(_BYTE *)(v3 + 10) = 2;
      v34 = 2 * v33;
LABEL_68:
      *(_BYTE *)(v3 + 11) = v34;
      *(_DWORD *)(v3 + 4) = result * (unsigned int)v34 >> 3;
      return result;
    }
  }
  return result;
}

//----- (00432F16) --------------------------------------------------------
int __stdcall sub_432F16(int a1, _BYTE *a2, int a3, int a4)
{
  int v4; // edi@1
  char v5; // cl@1
  int result; // eax@1
  _BYTE *v7; // edx@4
  char v8; // al@6
  char *v9; // edx@6
  char v10; // bl@6
  char v11; // al@6
  _BYTE *v12; // esi@6
  bool v13; // zf@6
  unsigned __int8 v14; // cl@8
  _BYTE *v15; // edx@12
  char v16; // al@14
  char *v17; // edx@14
  char v18; // bl@14
  char v19; // al@14
  _BYTE *v20; // esi@14
  _BYTE *i; // ecx@19
  int v22; // [sp+Ch] [bp-4h]@1
  int v23; // [sp+18h] [bp+8h]@5
  int v24; // [sp+18h] [bp+8h]@13

  v4 = a1;
  v5 = *(_BYTE *)(a1 + 8);
  result = *(_DWORD *)a1;
  v22 = *(_DWORD *)a1;
  if ( v5 == 2 && a3 && *(_BYTE *)(a1 + 9) == 8 )
  {
    v7 = a2;
    if ( !result )
    {
LABEL_8:
      v14 = *(_BYTE *)(v4 + 9);
      *(_BYTE *)(v4 + 11) = v14;
      *(_BYTE *)(v4 + 8) = 3;
      *(_BYTE *)(v4 + 10) = 1;
      *(_DWORD *)(v4 + 4) = (result * (unsigned int)v14 + 7) >> 3;
      return result;
    }
    v23 = *(_DWORD *)a1;
    do
    {
      v8 = *v7;
      v9 = v7 + 1;
      v10 = *v9++;
      v11 = *(_BYTE *)((((signed int)(unsigned __int8)*v9 >> 3) & 0x1F | 4 * (v10 & 0xF8 | 32 * (v8 & 0xF8))) + a3);
      v12 = a2;
      v7 = v9 + 1;
      ++a2;
      v13 = v23-- == 1;
      *v12 = v11;
    }
    while ( !v13 );
LABEL_7:
    result = v22;
    goto LABEL_8;
  }
  if ( v5 == 6 && a3 && *(_BYTE *)(a1 + 9) == 8 )
  {
    v15 = a2;
    if ( !result )
      goto LABEL_8;
    v24 = *(_DWORD *)a1;
    do
    {
      v16 = *v15;
      v17 = v15 + 1;
      v18 = *v17++;
      v19 = *(_BYTE *)((((signed int)(unsigned __int8)*v17 >> 3) & 0x1F | 4 * (v18 & 0xF8 | 32 * (v16 & 0xF8))) + a3);
      v20 = a2;
      v15 = v17 + 2;
      ++a2;
      v13 = v24-- == 1;
      *v20 = v19;
    }
    while ( !v13 );
    goto LABEL_7;
  }
  if ( v5 == 3 )
  {
    if ( a4 )
    {
      if ( *(_BYTE *)(a1 + 9) == 8 )
      {
        for ( i = a2; result; --result )
        {
          *i = *(_BYTE *)(*i + a4);
          ++i;
        }
      }
    }
  }
  return result;
}

//----- (00433025) --------------------------------------------------------
void __stdcall sub_433025(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  int *__attribute__((__org_typedef(jmp_buf))) v1; // esi@1
  long double v2; // st7@4
  void *v3; // eax@6
  signed __int64 v4; // rax@7
  signed int v5; // eax@10
  unsigned int v6; // edi@15
  signed int v7; // ebx@25
  long double v8; // st7@26
  void *v9; // eax@28
  bool v10; // zf@28
  void *v11; // eax@30
  int *__attribute__((__org_typedef(jmp_buf))) v12; // edx@30
  __int16 v13; // cx@34
  unsigned int v14; // ebx@35
  int v15; // eax@35
  signed int v16; // ebx@41
  signed __int64 v17; // rax@42
  double v18; // [sp+4h] [bp-28h]@32
  unsigned int v19; // [sp+14h] [bp-18h]@33
  unsigned int v20; // [sp+18h] [bp-14h]@32
  char v21; // [sp+1Ch] [bp-10h]@25
  unsigned int v22; // [sp+20h] [bp-Ch]@41
  int v23; // [sp+28h] [bp-4h]@16
  int *__attribute__((__org_typedef(jmp_buf))) v24; // [sp+34h] [bp+8h]@6
  int *__attribute__((__org_typedef(jmp_buf))) v25; // [sp+34h] [bp+8h]@28
  signed int v26; // [sp+34h] [bp+8h]@32

  v1 = a1;
  if ( *((float *)a1 + 76) != 0.0 )
  {
    if ( *((_BYTE *)a1 + 279) > 8u )
    {
      if ( *((_BYTE *)a1 + 278) & 2 )
      {
        v5 = *((_BYTE *)a1 + 336);
        if ( *((_BYTE *)a1 + 337) > v5 )
          v5 = *((_BYTE *)a1 + 337);
        if ( *((_BYTE *)a1 + 338) > v5 )
          v5 = *((_BYTE *)a1 + 338);
      }
      else
      {
        v5 = *((_BYTE *)a1 + 339);
      }
      v6 = 0;
      if ( v5 <= 0 )
        v23 = 0;
      else
        v23 = 16 - v5;
      if ( *((_BYTE *)a1 + 97) & 4 && v23 < 5 )
        v23 = 5;
      if ( v23 > 8 )
        v23 = 8;
      if ( v23 < 0 )
        v23 = 0;
      v7 = 1 << (8 - v23);
      v21 = 8 - v23;
      a1[75] = (unsigned __int8)v23;
      if ( *((float *)a1 + 77) <= 0.000001 )
        v8 = 1.0;
      else
        v8 = 1.0 / (*((float *)a1 + 77) * *((float *)a1 + 76));
      v9 = sub_4386FC(a1, 4 * v7);
      v10 = (*((_WORD *)a1 + 48) & 0x480) == 0;
      a1[81] = (int)v9;
      v25 = 0;
      if ( v10 )
      {
        if ( v7 > 0 )
        {
          do
          {
            *(_DWORD *)(v1[81] + 4 * (_DWORD)v25) = sub_4386FC(v1, 0x200u);
            v16 = 0;
            v22 = (unsigned int)((_DWORD)v25 * dword_4B278C[v23]) >> 4;
            do
            {
              v17 = (signed __int64)(pow((double)v22 * 0.00001525902189669642, v8) * 65535.0 + 0.5);
              v22 += 256;
              *(_WORD *)(v16 + *(_DWORD *)(v1[81] + 4 * (_DWORD)v25)) = v17;
              v16 += 2;
            }
            while ( v16 < 512 );
            v25 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v25 + 1);
          }
          while ( (signed int)v25 < 1 << (8 - v23) );
        }
      }
      else
      {
        if ( v7 > 0 )
        {
          do
          {
            v11 = sub_4386FC(v1, 0x200u);
            v12 = v25;
            v25 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v25 + 1);
            *(_DWORD *)(v1[81] + 4 * (_DWORD)v12) = v11;
          }
          while ( (signed int)v25 < v7 );
          v6 = 0;
        }
        v26 = 0;
        v20 = v7 << 8;
        v18 = (double)(unsigned int)(v7 << 8);
        do
        {
          v19 = (signed __int64)(pow(((double)v26 + 0.5) * 0.00390625, 1.0 / v8) * v18);
          if ( v6 <= v19 )
          {
            LOBYTE(v13) = 0;
            HIBYTE(v13) = v26;
            do
            {
              v14 = v6 >> v21;
              v15 = *(_DWORD *)(v1[81] + 4 * (v6++ & (255 >> v23)));
              *(_WORD *)(v15 + 2 * v14) = v26 | v13;
            }
            while ( v6 <= v19 );
          }
          ++v26;
        }
        while ( v26 < 256 );
        for ( ; v6 < v20; ++v6 )
          *(_WORD *)(*(_DWORD *)(v1[81] + 4 * (v6 & (255 >> v23))) + 2 * (v6 >> v21)) = -1;
      }
    }
    else
    {
      if ( *((float *)a1 + 77) <= 0.000001 )
        v2 = 1.0;
      else
        v2 = 1.0 / (*((float *)a1 + 77) * *((float *)a1 + 76));
      v3 = sub_4386FC(a1, 0x100u);
      v24 = 0;
      v1[78] = (int)v3;
      do
      {
        v4 = (signed __int64)(pow((double)(signed int)v24 * 0.00392156862745098, v2) * 255.0 + 0.5);
        HIDWORD(v4) = v24;
        v24 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v24 + 1);
        *(_BYTE *)(HIDWORD(v4) + v1[78]) = v4;
      }
      while ( (signed int)v24 < 256 );
    }
  }
}

//----- (00433328) --------------------------------------------------------
void __stdcall sub_433328(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  int *__attribute__((__org_typedef(jmp_buf))) v1; // esi@1
  int v2; // edi@1
  int v3; // ecx@3
  _BYTE *v4; // eax@4
  int v5; // edi@8
  int v6; // ebx@8
  int v7; // eax@8
  int v8; // ecx@8
  unsigned __int16 v9; // cx@17
  int v10; // eax@18
  int v11; // edi@18
  char v12; // [sp+Ch] [bp-4h]@8
  int *__attribute__((__org_typedef(jmp_buf))) v13; // [sp+18h] [bp+8h]@8

  v1 = a1;
  v2 = *((_BYTE *)a1 + 278);
  if ( a1[24] & 0x602000 )
  {
    sub_433025(a1);
    if ( v2 == 3 )
    {
      v3 = *((_WORD *)a1 + 132);
      if ( v3 > 0 )
      {
        v4 = (_BYTE *)(a1[65] + 2);
        do
        {
          *(v4 - 2) = *(_BYTE *)(*(v4 - 2) + a1[78]);
          *(v4 - 1) = *(_BYTE *)(*(v4 - 1) + a1[78]);
          *v4 = *(_BYTE *)(*v4 + a1[78]);
          v4 += 3;
          --v3;
        }
        while ( v3 );
      }
    }
  }
  if ( *((_BYTE *)a1 + 96) & 8 && v2 == 3 )
  {
    v5 = *((_BYTE *)a1 + 338);
    v6 = 8 - *((_BYTE *)a1 + 336);
    v7 = 8 - *((_BYTE *)a1 + 337);
    v8 = 8 - v5;
    v13 = (int *__attribute__((__org_typedef(jmp_buf))) )(8 - *((_BYTE *)a1 + 337));
    v12 = 8 - v5;
    if ( v6 < 0 || v6 > 8 )
      LOBYTE(v6) = 0;
    if ( v7 < 0 || v7 > 8 )
      v13 = 0;
    if ( v8 < 0 || v8 > 8 )
      v12 = 0;
    v9 = *((_WORD *)v1 + 132);
    if ( v9 )
    {
      v10 = 0;
      v11 = v9;
      do
      {
        *(_BYTE *)(v10 + v1[65]) >>= v6;
        *(_BYTE *)(v10 + v1[65] + 1) >>= (char)v13;
        *(_BYTE *)(v10 + v1[65] + 2) >>= v12;
        v10 += 3;
        --v11;
      }
      while ( v11 );
    }
  }
}

//----- (0043343C) --------------------------------------------------------
void __stdcall sub_43343C(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  if ( !a1[55] )
    sub_431425(a1, (int)"NULL row buffer");
  if ( *((_BYTE *)a1 + 97) & 0x10 )
  {
    if ( *((_BYTE *)a1 + 248) == 3 )
    {
      sub_4329BA((int)(a1 + 60), a1[55] + 1, a1[65], a1[87], *((_WORD *)a1 + 133));
    }
    else if ( *((_WORD *)a1 + 133) )
    {
      sub_432BC3((int)(a1 + 60), a1[55] + 1, (int)(a1 + 88));
    }
    else
    {
      sub_432BC3((int)(a1 + 60), a1[55] + 1, 0);
    }
  }
  if ( *((_BYTE *)a1 + 97) & 0x20 && *((_BYTE *)a1 + 278) != 3 )
    sub_43266A((int)(a1 + 60), (_BYTE *)(a1[55] + 1), a1[78], a1[81], a1[75]);
  if ( *((_BYTE *)a1 + 97) & 4 )
    sub_4323EB((int)(a1 + 60), (_BYTE *)(a1[55] + 1));
  if ( *((_BYTE *)a1 + 96) & 0x40 )
  {
    sub_432F16((int)(a1 + 60), (_BYTE *)(a1[55] + 1), a1[93], a1[94]);
    if ( !a1[61] )
      sub_431425(a1, (int)"png_do_dither returned rowbytes=0");
  }
  if ( *((_BYTE *)a1 + 96) & 8 )
    sub_432272((int)(a1 + 60), (unsigned __int8 *)(a1[55] + 1), (int)a1 + 341);
  if ( *((_BYTE *)a1 + 96) & 4 )
    sub_432161((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 96) & 1 )
    sub_431F70((int)(a1 + 60), a1[55] + 1);
  if ( *((_BYTE *)a1 + 97) & 0x80 )
    sub_432431((int)(a1 + 60), a1[55] + 1, *((_WORD *)a1 + 143), a1[23]);
  if ( *((_BYTE *)a1 + 96) & 0x10 )
    sub_431F41((int)(a1 + 60), a1[55] + 1);
}

//----- (004335D8) --------------------------------------------------------
void __stdcall sub_4335D8(int a1, int a2, double a3)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_DWORD *)(a2 + 8) |= 1u;
      *(float *)(a2 + 40) = a3;
    }
  }
}

//----- (004335F5) --------------------------------------------------------
void __stdcall sub_4335F5(int a1, int a2, unsigned int a3, int a4, char a5, char a6, char a7, char a8, char a9)
{
  unsigned __int8 v9; // al@9

  if ( a1 && a2 )
  {
    *(_BYTE *)(a2 + 26) = a8;
    *(_DWORD *)(a2 + 4) = a4;
    *(_BYTE *)(a2 + 27) = a9;
    *(_DWORD *)a2 = a3;
    *(_BYTE *)(a2 + 24) = a5;
    *(_BYTE *)(a2 + 25) = a6;
    *(_BYTE *)(a2 + 28) = a7;
    if ( a6 != 3 && a6 & 2 )
      *(_BYTE *)(a2 + 29) = 3;
    else
      *(_BYTE *)(a2 + 29) = 1;
    if ( a6 & 4 )
      ++*(_BYTE *)(a2 + 29);
    v9 = a5 * *(_BYTE *)(a2 + 29);
    *(_BYTE *)(a2 + 30) = v9;
    if ( a3 <= 0x7FFFFFFFu / ((v9 + 7) >> 3) )
    {
      *(_DWORD *)(a2 + 12) = (a3 * v9 + 7) >> 3;
    }
    else
    {
      sub_431443(a1, (int)"Width too large to process image data; rowbytes will overflow.");
      *(_DWORD *)(a2 + 12) = 0;
    }
  }
}

//----- (00433696) --------------------------------------------------------
void __stdcall sub_433696(int a1, int a2, int a3, __int16 a4)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_DWORD *)(a2 + 8) |= 8u;
      *(_DWORD *)(a2 + 16) = a3;
      *(_WORD *)(a2 + 20) = a4;
    }
  }
}

//----- (004336BC) --------------------------------------------------------
void __stdcall sub_4336BC(int a1, int a2, char a3)
{
  if ( a1 )
  {
    if ( a2 )
    {
      *(_BYTE *)(a2 + 9) |= 8u;
      *(_BYTE *)(a2 + 44) = a3;
    }
  }
}

//----- (004336D9) --------------------------------------------------------
void __stdcall sub_4336D9(int a1, __int64 a2)
{
  if ( a1 )
  {
    if ( (_DWORD)a2 )
    {
      sub_4336BC(a1, a2, SBYTE4(a2));
      sub_4335D8(a1, a2, 0.4545499980449677);
    }
  }
}

//----- (00433710) --------------------------------------------------------
void __stdcall sub_433710(int a1, int a2, int a3, signed int a4, int a5)
{
  if ( a1 && a2 )
  {
    if ( a3 )
      *(_DWORD *)(a2 + 48) = a3;
    if ( a5 )
    {
      *(_DWORD *)(a2 + 52) = *(_DWORD *)a5;
      *(_DWORD *)(a2 + 56) = *(_DWORD *)(a5 + 4);
      *(_WORD *)(a2 + 60) = *(_WORD *)(a5 + 8);
      if ( !a4 )
        a4 = 1;
    }
    *(_DWORD *)(a2 + 8) |= 0x10u;
    *(_WORD *)(a2 + 22) = a4;
  }
}

//----- (00433759) --------------------------------------------------------
int __stdcall sub_433759(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int (__cdecl *v3)(int *__attribute__((__org_typedef(jmp_buf))) , int, int); // eax@1

  v3 = (int (__cdecl *)(int *__attribute__((__org_typedef(jmp_buf))) , int, int))a1[20];
  if ( !v3 )
    sub_431425(a1, (int)"Call to NULL read function");
  return v3(a1, a2, a3);
}

//----- (00433782) --------------------------------------------------------
int (__cdecl *__stdcall sub_433782(int a1, int a2, int (__cdecl *a3)(int, int)))(int, int)
{
  bool v3; // zf@1
  int (__cdecl *result)(int, int); // eax@1

  v3 = *(_DWORD *)(a1 + 76) == 0;
  *(_DWORD *)(a1 + 84) = a2;
  result = a3;
  *(_DWORD *)(a1 + 80) = a3;
  if ( !v3 )
  {
    *(_DWORD *)(a1 + 76) = 0;
    sub_431443(a1, (int)"It's an error to set both read_data_fn and write_data_fn in the ");
    result = sub_431443(a1, (int)"same structure.  Resetting write_data_fn to NULL.");
  }
  *(_DWORD *)(a1 + 288) = 0;
  return result;
}

//----- (004337C0) --------------------------------------------------------
int __stdcall sub_4337C0(int a1, unsigned int a2, unsigned int a3)
{
  int v3; // ecx@1

  v3 = a3;
  if ( a3 <= 8 )
  {
    if ( a3 < 1 )
      return 0;
  }
  else
  {
    v3 = 8;
  }
  if ( a2 > 7 )
    return 0;
  if ( a2 + v3 > 8 )
    v3 = 8 - a2;
  return memcmp((const char *)(a1 + a2), &byte_49028C[a2], v3);
}

//----- (0043380B) --------------------------------------------------------
void *__stdcall sub_43380B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  unsigned int v3; // esi@1
  void *v4; // edx@1
  void *result; // eax@1
  void *v6; // edi@2
  unsigned int v7; // ecx@3

  v3 = a3 * a2;
  v4 = sub_4386FC(a1, a3 * a2);
  result = 0;
  if ( v4 )
  {
    v6 = v4;
    if ( v3 <= 0x8000 )
    {
      v7 = a3 * a2;
    }
    else
    {
      memset(v4, 0, 0x8000u);
      v7 = v3 - 0x8000;
      v6 = (char *)v4 + 0x8000;
    }
    memset(v6, 0, v7);
    result = v4;
  }
  return result;
}

//----- (00433863) --------------------------------------------------------
int __stdcall sub_433863(int a1)
{
  int result; // eax@1

  result = sub_439A32(0, 0, 0);
  *(_DWORD *)(a1 + 256) = result;
  return result;
}

//----- (004338B9) --------------------------------------------------------
int __stdcall sub_4338B9(int a1, void *a2)
{
  int result; // eax@1

  result = 0;
  memset(a2, 0, 0x40u);
  return result;
}

//----- (004338C9) --------------------------------------------------------
void *__stdcall sub_4338C9(int a1)
{
  void *result; // eax@2
  void *v2; // edx@3

  if ( a1 )
  {
    v2 = sub_4386A4(2);
    if ( v2 )
      memset(v2, 0, 0x40u);
    result = v2;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004338F1) --------------------------------------------------------
int __stdcall sub_4338F1(int a1, int a2, int a3)
{
  double v3; // st5@1
  double v4; // st6@1
  double v5; // st7@1

  v3 = *(float *)a2 * *(float *)(a3 + 4) + *(float *)(a2 + 4) * *(float *)(a3 + 20) + *(float *)(a3 + 52);
  v4 = *(float *)a2 * *(float *)(a3 + 8) + *(float *)(a2 + 4) * *(float *)(a3 + 24) + *(float *)(a3 + 56);
  v5 = *(float *)a2 * *(float *)(a3 + 12) + *(float *)(a2 + 4) * *(float *)(a3 + 28) + *(float *)(a3 + 60);
  *(float *)a1 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 16) + *(float *)(a3 + 48);
  *(float *)(a1 + 4) = v3;
  *(float *)(a1 + 8) = v4;
  *(float *)(a1 + 12) = v5;
  return a1;
}

//----- (0043395A) --------------------------------------------------------
int __stdcall sub_43395A(int a1, int a2, int a3)
{
  double v3; // st7@1

  v3 = *(float *)a2 * *(float *)(a3 + 4) + *(float *)(a2 + 4) * *(float *)(a3 + 20);
  *(float *)a1 = *(float *)a2 * *(float *)a3 + *(float *)(a2 + 4) * *(float *)(a3 + 16);
  *(float *)(a1 + 4) = v3;
  return a1;
}

//----- (00433B12) --------------------------------------------------------
double __stdcall sub_433B12(unsigned int a1)
{
  return (COERCE_FLOAT(a1 & 0xFFFFFF | 0x3F000000) * *(float *)((char *)&unk_4B27B0 + ((a1 >> 12) & 0xFF8))
        + *(float *)((char *)&unk_4B27B4 + ((a1 >> 12) & 0xFF8)))
       * COERCE_FLOAT(((-1090519041 - a1) >> 1) & 0xFF800000);
}

//----- (00433B57) --------------------------------------------------------
int __stdcall sub_433B57(int a1, int a2)
{
  float v3; // ST08_4@3
  int v5; // ST08_4@6
  unsigned int v6; // ST08_4@6
  float v11; // [sp+4h] [bp-8h]@1

  _EDX = a2;
  __asm
  {
    fld     dword ptr [edx]
    fmul    dword ptr [edx]
    fld     dword ptr [edx+4]
    fmul    dword ptr [edx+4]
    fld     dword ptr [edx+8]
    fmul    dword ptr [edx+8]
    fxch    st(2)
    faddp   st(1), st
    faddp   st(1), st
    fst     [ebp+var_8]
  }
  if ( v11 == 0.0 )
  {
    __asm { ffree   st }
    *(_DWORD *)a1 = LOBYTE(v11);
    *(_DWORD *)(a1 + 4) = LOBYTE(v11);
    *(_DWORD *)(a1 + 8) = LOBYTE(v11);
  }
  else
  {
    __asm
    {
      fld1
      fsubp   st(1), st
      fstp    [ebp+var_4]
    }
    if ( (LODWORD(v3) & 0x7FFFFFFF) > 925353388 )
    {
      _EDI = (LODWORD(v11) >> 12) & 0xFF8;
      v5 = LODWORD(v11) & 0xFFFFFF | 0x3F000000;
      __asm
      {
        fld     [ebp+var_4]
        fmul    dword ptr [edi+4B27B0h]
        fadd    dword ptr [edi+4B27B4h]
      }
      v6 = ((unsigned int)(-1090519041 - LODWORD(v11)) >> 1) & 0xFF800000;
      __asm
      {
        fmul    [ebp+var_4]
        fld     dword ptr [edx]
        fmul    st, st(1)
        fld     dword ptr [edx+4]
        fmul    st, st(2)
        fld     dword ptr [edx+8]
        fmul    st, st(3)
        fxch    st(2)
        fstp    dword ptr [ecx]
      }
      *(float *)a1 = _ET1;
      __asm { fstp    dword ptr [ecx+4] }
      *(float *)(a1 + 4) = _ET1;
      __asm { fstp    dword ptr [ecx+8] }
      *(float *)(a1 + 8) = _ET1;
      __asm { fstp    st }
    }
    else if ( a1 != a2 )
    {
      *(_DWORD *)a1 = *(_DWORD *)a2;
      *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(a2 + 8);
    }
  }
  return a1;
}
// 433B63: inconsistent fpu stack

//----- (00433C21) --------------------------------------------------------
char *__stdcall sub_433C21(char *a1, char *a2, char *a3)
{
  char *result; // eax@1
  char *v4; // ebx@3
  char *v10; // ebx@9
  signed int v13; // edi@9
  char v16; // [sp+Ch] [bp-40h]@8

  result = a1;
  if ( a3 == a1 )
  {
    if ( a2 != a1 )
    {
      v4 = a1;
      _ECX = a2;
      _EDX = a3;
      _EDI = -4;
      do
      {
        _ESI = -16;
        __asm
        {
          fld     dword ptr [edx+edi*4+10h]
          fld     dword ptr [edx+edi*4+20h]
          fld     dword ptr [edx+edi*4+30h]
          fld     dword ptr [edx+edi*4+40h]
        }
        do
        {
          __asm
          {
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+40h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+44h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+48h]
            fld     st(3)
            fmul    dword ptr [ecx+esi*4+4Ch]
            fxch    st(3)
            faddp   st(1), st
            fxch    st(2)
            faddp   st(1), st
            faddp   st(1), st
            fstp    dword ptr [ebx+esi*4+40h]
          }
          *(float *)&v4[4 * _ESI + 64] = _ET1;
          _ESI += 4;
        }
        while ( _ESI );
        __asm
        {
          ffree   st(3)
          ffree   st(2)
          ffree   st(1)
          ffree   st
        }
        v4 += 4;
        ++_EDI;
      }
      while ( _EDI );
      return result;
    }
    qmemcpy(&v16, a3, 0x40u);
    a3 = &v16;
  }
  v10 = a1;
  _ECX = a2;
  _EDX = a3;
  v13 = -4;
  do
  {
    _ESI = -4;
    __asm
    {
      fld     dword ptr [ecx]
      fld     dword ptr [ecx+4]
      fld     dword ptr [ecx+8]
      fld     dword ptr [ecx+0Ch]
    }
    do
    {
      __asm
      {
        fld     st(3)
        fmul    dword ptr [edx+esi*4+10h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+20h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+30h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+40h]
        fxch    st(3)
        faddp   st(1), st
        fxch    st(2)
        faddp   st(1), st
        faddp   st(1), st
        fstp    dword ptr [ebx+esi*4+10h]
      }
      *(float *)&v10[4 * _ESI++ + 16] = _ET1;
    }
    while ( _ESI );
    __asm
    {
      ffree   st(3)
      ffree   st(2)
      ffree   st(1)
      ffree   st
    }
    _ECX += 16;
    v10 += 16;
    ++v13;
  }
  while ( v13 );
  return result;
}
// 433C4C: inconsistent fpu stack

//----- (00433D04) --------------------------------------------------------
char *__stdcall sub_433D04(char *a1, char *a2, char *a3)
{
  char *v3; // eax@1
  signed int v6; // edi@4
  float *v8; // ebx@5
  char *result; // eax@8
  char v11; // [sp+0h] [bp-44h]@3
  char *v12; // [sp+40h] [bp-4h]@4

  v3 = a1;
  if ( a1 == a2 || a1 == a3 )
    v3 = &v11;
  v12 = v3;
  _ECX = a2;
  _EDX = a3;
  v6 = -4;
  do
  {
    _ESI = -4;
    v8 = (float *)&v3[4 * v6 + 16];
    __asm
    {
      fld     dword ptr [ecx]
      fld     dword ptr [ecx+4]
      fld     dword ptr [ecx+8]
      fld     dword ptr [ecx+0Ch]
    }
    do
    {
      __asm
      {
        fld     st(3)
        fmul    dword ptr [edx+esi*4+10h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+20h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+30h]
        fld     st(3)
        fmul    dword ptr [edx+esi*4+40h]
        fxch    st(3)
        faddp   st(1), st
        fxch    st(2)
        faddp   st(1), st
        faddp   st(1), st
        fstp    dword ptr [ebx]
      }
      *v8 = _ET1;
      v8 += 4;
      ++_ESI;
    }
    while ( _ESI );
    __asm
    {
      ffree   st(3)
      ffree   st(2)
      ffree   st(1)
      ffree   st
    }
    _ECX += 16;
    ++v6;
  }
  while ( v6 );
  result = a1;
  if ( v12 != a1 )
    qmemcpy(a1, v12, 0x40u);
  return result;
}
// 433D37: inconsistent fpu stack

//----- (00433D92) --------------------------------------------------------
int __stdcall sub_433D92(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)a1 = sub_4338F1;
  *(_DWORD *)(a1 + 4) = sub_43398F;
  *(_DWORD *)(a1 + 8) = sub_433A79;
  *(_DWORD *)(a1 + 12) = sub_433C21;
  *(_DWORD *)(a1 + 16) = sub_433D04;
  *(_DWORD *)(a1 + 20) = sub_43395A;
  *(_DWORD *)(a1 + 24) = sub_433A1A;
  *(_DWORD *)(a1 + 28) = sub_433B57;
  *(_DWORD *)(a1 + 136) = sub_433A79;
  return result;
}
// 43398F: using guessed type int __stdcall sub_43398F(int, int, int);
// 433A1A: using guessed type int __stdcall sub_433A1A(int, int, int);
// 433A79: using guessed type int __stdcall sub_433A79(int, int, int);

//----- (00433DD7) --------------------------------------------------------
int __usercall sub_433DD7@<eax>(int result@<eax>, unsigned int a2@<ecx>)
{
  *(float *)result = (double)((unsigned __int16)a2 >> 11) * 0.032258064;
  *(float *)(result + 4) = (double)((a2 >> 5) & 0x3F) * 0.015873017;
  *(float *)(result + 8) = (double)(a2 & 0x1F) * 0.032258064;
  *(float *)(result + 12) = 1.0;
  return result;
}

//----- (00433E23) --------------------------------------------------------
int __fastcall sub_433E23(int a1)
{
  signed int v1; // edx@1
  double v2; // st7@3
  double v3; // st7@5
  double v4; // st6@6
  double v5; // st6@9

  v1 = 16;
  do
  {
    if ( 0.0 == *(float *)(a1 + 12) )
    {
      *(float *)a1 = 0.0;
      *(float *)(a1 + 4) = 0.0;
      v2 = 0.0;
    }
    else
    {
      if ( *(float *)(a1 + 12) >= 1.0 )
        goto LABEL_15;
      v3 = 1.0 / *(float *)(a1 + 12);
      if ( *(float *)a1 >= (double)*(float *)(a1 + 12) )
        v4 = 1.0;
      else
        v4 = v3 * *(float *)a1;
      *(float *)a1 = v4;
      if ( *(float *)(a1 + 4) >= (double)*(float *)(a1 + 12) )
        v5 = 1.0;
      else
        v5 = v3 * *(float *)(a1 + 4);
      *(float *)(a1 + 4) = v5;
      if ( *(float *)(a1 + 8) >= (double)*(float *)(a1 + 12) )
        v2 = 1.0;
      else
        v2 = v3 * *(float *)(a1 + 8);
    }
    *(float *)(a1 + 8) = v2;
LABEL_15:
    a1 += 16;
    --v1;
  }
  while ( v1 );
  return 0;
}

//----- (00433EA1) --------------------------------------------------------
int __usercall sub_433EA1@<eax>(int a1@<eax>, float *a2@<ecx>)
{
  signed int v2; // edx@1
  double v3; // st7@2

  v2 = 16;
  do
  {
    v3 = *(float *)(a1 + 12) * *(float *)a1;
    a1 += 16;
    *a2 = v3;
    a2 += 4;
    --v2;
    *(a2 - 3) = *(float *)(a1 - 12) * *(float *)(a1 - 4);
    *(a2 - 2) = *(float *)(a1 - 8) * *(float *)(a1 - 4);
    *(a2 - 1) = *(float *)(a1 - 4);
  }
  while ( v2 );
  return 0;
}

//----- (00433ED1) --------------------------------------------------------
int __fastcall sub_433ED1(int a1)
{
  double v1; // st6@2
  double v2; // st6@8
  double v3; // st7@14
  float v4; // ST14_4@19
  signed int v5; // eax@19
  float v6; // ST14_4@19
  signed int v7; // edx@19
  float v8; // ST14_4@19
  float v10; // [sp+0h] [bp-18h]@3
  float v11; // [sp+4h] [bp-14h]@9
  float v12; // [sp+8h] [bp-10h]@15
  int v13; // [sp+14h] [bp-4h]@0

  if ( *(float *)a1 < 0.0 )
  {
    v1 = 0.0;
LABEL_3:
    v10 = v1;
    goto LABEL_7;
  }
  if ( *(float *)a1 > 1.0 )
  {
    v1 = 1.0;
    goto LABEL_3;
  }
  v10 = *(float *)a1;
LABEL_7:
  if ( *(float *)(a1 + 4) < 0.0 )
  {
    v2 = 0.0;
LABEL_9:
    v11 = v2;
    goto LABEL_13;
  }
  if ( *(float *)(a1 + 4) > 1.0 )
  {
    v2 = 1.0;
    goto LABEL_9;
  }
  v11 = *(float *)(a1 + 4);
LABEL_13:
  if ( *(float *)(a1 + 8) >= 0.0 )
  {
    if ( *(float *)(a1 + 8) <= 1.0 )
    {
      v12 = *(float *)(a1 + 8);
      goto LABEL_19;
    }
    v3 = 1.0;
  }
  else
  {
    v3 = 0.0;
  }
  v12 = v3;
LABEL_19:
  dword_4C3E18 = v13;
  v4 = v10 * 31.0 + 0.5;
  v5 = (signed int)v4;
  v6 = v11 * 63.0 + 0.5;
  v7 = (signed int)v6;
  v8 = v12 * 31.0 + 0.5;
  return (signed int)v8 | 32 * (v7 | (v5 << 6));
}
// 4C3E18: using guessed type int dword_4C3E18;

//----- (00433FDA) --------------------------------------------------------
float *__userpurge sub_433FDA@<eax>(unsigned int a1@<ebx>, float *a2, float *a3, int a4)
{
  unsigned int v4; // edx@4
  float *v5; // ecx@5
  float *v6; // ecx@11
  double v7; // st7@19
  float *v8; // eax@21
  int v9; // edx@21
  char *v10; // ecx@21
  unsigned int v11; // esi@21
  unsigned int v12; // edx@25
  float *v13; // ecx@26
  double v14; // st7@26
  unsigned int v15; // eax@29
  unsigned int v16; // eax@36
  double v17; // st7@36
  double v18; // st6@36
  float *v19; // eax@36
  float v20; // eax@43
  double v21; // st7@48
  double v22; // st7@53
  float *result; // eax@57
  float v24[6]; // [sp+0h] [bp-58h]@21
  float v25; // [sp+18h] [bp-40h]@24
  float v26; // [sp+1Ch] [bp-3Ch]@24
  unsigned int v27; // [sp+20h] [bp-38h]@18
  float v28; // [sp+24h] [bp-34h]@34
  float v29; // [sp+28h] [bp-30h]@20
  float v30; // [sp+2Ch] [bp-2Ch]@18
  int v31; // [sp+30h] [bp-28h]@18
  unsigned int v32; // [sp+34h] [bp-24h]@18
  _BYTE *v33; // [sp+38h] [bp-20h]@2
  float *v34; // [sp+3Ch] [bp-1Ch]@2
  float v35; // [sp+40h] [bp-18h]@25
  float v36; // [sp+44h] [bp-14h]@25
  float v37; // [sp+48h] [bp-10h]@25
  float v38; // [sp+4Ch] [bp-Ch]@25
  float v39; // [sp+50h] [bp-8h]@4
  float v40; // [sp+54h] [bp-4h]@4

  if ( a1 == 6 )
  {
    v34 = (float *)&unk_4902F0;
    v33 = &unk_4902D8;
  }
  else
  {
    v34 = (float *)&unk_4902B8;
    v33 = &unk_490298;
  }
  v4 = 0;
  v40 = 1.0;
  v39 = 0.0;
  if ( a1 == 8 )
  {
    do
    {
      v5 = (float *)(a4 + 4 * v4);
      if ( *v5 < (double)v40 )
        v40 = *v5;
      if ( *v5 > (double)v39 )
        v39 = *v5;
      ++v4;
    }
    while ( v4 < 0x10 );
  }
  else
  {
    do
    {
      v6 = (float *)(a4 + 4 * v4);
      if ( *v6 < (double)v40 && *v6 > 0.0 )
        v40 = *v6;
      if ( *v6 > (double)v39 && *v6 < 1.0 )
        v39 = *v6;
      ++v4;
    }
    while ( v4 < 0x10 );
  }
  v27 = a1 - 1;
  v30 = (double)(a1 - 1);
  v32 = 0;
  dword_4C3E18 = v31;
  do
  {
    v7 = v39 - v40;
    if ( v7 < 0.00390625 )
      break;
    v29 = v30 / v7;
    if ( a1 )
    {
      v8 = v34;
      v9 = v33 - (_BYTE *)v34;
      v10 = (char *)((char *)v24 - (char *)v34);
      v11 = a1;
      do
      {
        *(float *)((char *)v8 + (_DWORD)v10) = v39 * *(float *)((char *)v8 + v9) + v40 * *v8;
        ++v8;
        --v11;
      }
      while ( v11 );
    }
    if ( a1 == 6 )
    {
      v25 = 0.0;
      v26 = 1.0;
    }
    v12 = 0;
    v38 = 0.0;
    v37 = 0.0;
    v36 = 0.0;
    v35 = 0.0;
    do
    {
      v13 = (float *)(a4 + 4 * v12);
      v14 = (*v13 - v40) * v29;
      if ( v14 > 0.0 )
      {
        if ( v14 < v30 )
        {
          v28 = v14 + 0.5;
          v27 = (signed int)v28;
          v15 = (signed int)v28;
        }
        else
        {
          if ( a1 == 6 && (v39 + 1.0) * 0.5 <= *v13 )
            goto LABEL_37;
          v15 = a1 - 1;
        }
      }
      else
      {
        if ( a1 == 6 && v40 * 0.5 >= *v13 )
          goto LABEL_37;
        v15 = 0;
      }
      if ( v15 < a1 )
      {
        v16 = v15;
        v17 = *v13 - v24[v16];
        v38 = v17 * v34[v16] + v38;
        v18 = v34[v16];
        v19 = (float *)&v33[v16 * 4];
        v36 = v18 * v18 + v36;
        v37 = v17 * *v19 + v37;
        v35 = *v19 * *v19 + v35;
      }
LABEL_37:
      ++v12;
    }
    while ( v12 < 0x10 );
    if ( v36 > 0.0 )
      v40 = v40 - v38 / v36;
    if ( v35 > 0.0 )
      v39 = v39 - v37 / v35;
    if ( v40 > (double)v39 )
    {
      v20 = v39;
      v39 = v40;
      v40 = v20;
    }
    if ( v38 * v38 < 0.015625 && v37 * v37 < 0.015625 )
      break;
    ++v32;
  }
  while ( v32 < 8 );
  if ( v40 >= 0.0 )
  {
    if ( v40 <= 1.0 )
      v21 = v40;
    else
      v21 = 1.0;
  }
  else
  {
    v21 = 0.0;
  }
  *a2 = v21;
  if ( v39 >= 0.0 )
  {
    if ( v39 <= 1.0 )
      v22 = v39;
    else
      v22 = 1.0;
  }
  else
  {
    v22 = 0.0;
  }
  result = a3;
  *a3 = v22;
  return result;
}
// 4C3E18: using guessed type int dword_4C3E18;
// 433FDA: using guessed type float var_58[6];

//----- (004342F5) --------------------------------------------------------
int __stdcall sub_4342F5(int a1, int a2, int a3, int a4)
{
  double v4; // st7@4
  float *v5; // ecx@4
  signed int v6; // edx@4
  double v7; // st6@18
  double v8; // st5@18
  unsigned __int8 v10; // c0@18
  unsigned __int8 v11; // c2@18
  int result; // eax@19
  float v13; // ecx@19
  float *v14; // eax@20
  double v15; // st5@20
  signed int v16; // ecx@20
  double v17; // st6@20
  double v18; // st5@21
  double v19; // st5@21
  double v20; // st4@21
  char v21; // bl@22
  unsigned int v22; // edx@22
  float *v23; // ecx@23
  float v24; // eax@27
  float v25; // eax@29
  float v26; // ecx@31
  double v27; // st7@32
  float *v28; // eax@34
  int v29; // esi@34
  float *v30; // ecx@34
  int v31; // edx@34
  double v32; // st6@35
  double v33; // st5@35
  double v34; // st6@36
  double v35; // st5@36
  double v36; // st4@36
  double v37; // st4@37
  float *v38; // ecx@37
  signed int v39; // esi@37
  double v40; // st6@38
  int v41; // edx@39
  double v42; // st6@41
  double v43; // st5@41
  int v44; // eax@41
  float *v45; // edx@41
  double v46; // st4@41
  float *v47; // eax@41
  double v48; // st4@41
  double v49; // st3@41
  double v50; // st6@43
  double v51; // st6@45
  float v52; // [sp+0h] [bp-5Ch]@41
  float v53; // [sp+4h] [bp-58h]@34
  float v54[14]; // [sp+8h] [bp-54h]@41
  int v55; // [sp+40h] [bp-1Ch]@40
  float *v56; // [sp+44h] [bp-18h]@4
  float v57; // [sp+48h] [bp-14h]@20
  float v58; // [sp+4Ch] [bp-10h]@20
  float v59; // [sp+50h] [bp-Ch]@20
  _BYTE *v60; // [sp+58h] [bp-4h]@2
  unsigned int v61; // [sp+5Ch] [bp+0h]@32
  int v62; // [sp+60h] [bp+4h]@32
  float *v63; // [sp+64h] [bp+8h]@2
  float v64; // [sp+68h] [bp+Ch]@38
  float v65; // [sp+6Ch] [bp+10h]@18
  float v66; // [sp+70h] [bp+14h]@37
  float v67; // [sp+74h] [bp+18h]@20
  float v68; // [sp+78h] [bp+1Ch]@20
  float v69; // [sp+7Ch] [bp+20h]@20
  float v70; // [sp+84h] [bp+28h]@18
  float v71; // [sp+88h] [bp+2Ch]@18
  float v72; // [sp+8Ch] [bp+30h]@37
  float v73; // [sp+94h] [bp+38h]@22
  float v74; // [sp+98h] [bp+3Ch]@20
  float v75; // [sp+9Ch] [bp+40h]@20
  float v76; // [sp+A0h] [bp+44h]@20
  float v77; // [sp+A4h] [bp+48h]@4
  float v78; // [sp+A8h] [bp+4Ch]@4
  float v79; // [sp+ACh] [bp+50h]@4
  float v80; // [sp+B4h] [bp+58h]@4
  float v81; // [sp+B8h] [bp+5Ch]@4
  float v82; // [sp+BCh] [bp+60h]@4
  int v83; // [sp+C0h] [bp+64h]@4
  float v84; // [sp+D4h] [bp+78h]@37

  if ( a4 == 3 )
  {
    v63 = (float *)&unk_49033C;
    v60 = &unk_490330;
  }
  else
  {
    v63 = (float *)&unk_490320;
    v60 = &unk_490310;
  }
  v77 = 0.0;
  v4 = 0.0;
  v78 = 0.0;
  v80 = flt_4B37B8;
  v81 = *(&flt_4B37B8 + 1);
  v79 = 0.0;
  v82 = *(&flt_4B37B8 + 2);
  v83 = *((_DWORD *)&flt_4B37B8 + 3);
  v56 = (float *)(a3 + 8);
  v5 = (float *)(a3 + 8);
  v6 = 16;
  do
  {
    if ( *(v5 - 2) < (double)v80 )
      v80 = *(v5 - 2);
    if ( *(v5 - 1) < (double)v81 )
      v81 = *(v5 - 1);
    if ( *v5 < (double)v82 )
      v82 = *v5;
    if ( *(v5 - 2) > (double)v77 )
      v77 = *(v5 - 2);
    if ( v4 < *(v5 - 1) )
      v4 = *(v5 - 1);
    if ( *v5 > (double)v79 )
      v79 = *v5;
    v5 += 4;
    --v6;
  }
  while ( v6 );
  v78 = v4;
  v70 = v77 - v80;
  v71 = v4 - v81;
  v7 = v79 - v82;
  v8 = v7 * v7 + v71 * v71 + v70 * v70;
  v65 = v8;
  if ( v10 | v11 )
  {
    *(float *)a1 = v80;
    *(float *)(a1 + 4) = v81;
    *(float *)(a1 + 8) = v82;
    result = a2;
    v13 = v77;
    *(float *)(a2 + 4) = v4;
    *(float *)a2 = v13;
  }
  else
  {
    v14 = (float *)(a3 + 8);
    v15 = 1.0 / v8;
    v16 = 16;
    v57 = v70 * v15;
    v58 = v71 * v15;
    v59 = v15 * v7;
    v67 = (v77 + v80) * 0.5;
    v68 = (v4 + v81) * 0.5;
    v69 = (v79 + v82) * 0.5;
    v76 = 0.0;
    v75 = 0.0;
    v74 = 0.0;
    v17 = 0.0;
    do
    {
      v70 = (*(v14 - 2) - v67) * v57;
      v71 = (*(v14 - 1) - v68) * v58;
      v18 = *v14;
      v14 += 4;
      --v16;
      v19 = (v18 - v69) * v59;
      v17 = v17 + (v71 + v19 + v70) * (v71 + v19 + v70);
      v74 = (v71 + v70 - v19) * (v71 + v70 - v19) + v74;
      v20 = v70 - v71;
      v75 = (v20 + v19) * (v20 + v19) + v75;
      v76 = (v20 - v19) * (v20 - v19) + v76;
    }
    while ( v16 );
    v73 = v17;
    v21 = 0;
    v22 = 1;
    do
    {
      v23 = &v73 + v22;
      if ( v17 < *v23 )
      {
        v21 = v22;
        v17 = *v23;
      }
      ++v22;
    }
    while ( v22 < 4 );
    if ( v21 & 2 )
    {
      v24 = v81;
      v81 = v4;
      v4 = v24;
      v78 = v24;
    }
    if ( v21 & 1 )
    {
      v25 = v79;
      v79 = v82;
      v82 = v25;
    }
    if ( v65 >= 0.00024414062 )
    {
      v65 = (double)(unsigned int)(a4 - 1);
      v27 = 0.000015258789;
      v61 = 0;
      dword_4C3E18 = v62;
      do
      {
        if ( a4 )
        {
          v28 = v63;
          v29 = a4;
          v30 = &v53;
          v31 = v60 - (_BYTE *)v63;
          do
          {
            *(v30 - 1) = v77 * *(float *)((char *)v28 + v31) + v80 * *v28;
            *v30 = v78 * *(float *)((char *)v28 + v31) + v81 * *v28;
            v32 = v79 * *(float *)((char *)v28 + v31);
            v33 = v82 * *v28;
            ++v28;
            v30[1] = v32 + v33;
            v30 += 4;
            --v29;
          }
          while ( v29 );
        }
        v34 = v77 - v80;
        v71 = v78 - v81;
        v35 = v79 - v82;
        v36 = v35 * v35 + v71 * v71 + v34 * v34;
        if ( v36 < 0.00024414062 )
          break;
        v37 = v65 / v36;
        v38 = v56;
        v39 = 16;
        v70 = v37 * v34;
        v71 = v71 * v37;
        v72 = v37 * v35;
        v75 = 0.0;
        v74 = 0.0;
        v73 = 0.0;
        v69 = 0.0;
        v68 = 0.0;
        v67 = 0.0;
        v66 = 0.0;
        v84 = 0.0;
        do
        {
          v40 = (*v38 - v82) * v72 + (*(v38 - 1) - v81) * v71 + (*(v38 - 2) - v80) * v70;
          v64 = v40;
          if ( v40 < v65 )
          {
            v64 = v64 + 0.5;
            v55 = (signed int)v64;
            v41 = (signed int)v64;
            v27 = 0.000015258789;
          }
          else
          {
            v41 = a4 - 1;
          }
          v42 = *(&v52 + 4 * v41) - *(v38 - 2);
          v58 = *(&v53 + 4 * v41) - *(v38 - 1);
          v43 = v54[4 * v41] - *v38;
          v44 = v41;
          v45 = &v63[v44];
          v46 = v63[v44];
          v47 = (float *)&v60[v44 * 4];
          v48 = v46 * 0.125;
          v38 += 4;
          --v39;
          v49 = *v47 * 0.125;
          v84 = v48 * *v45 + v84;
          v67 = v48 * v42 + v67;
          v68 = v48 * v58 + v68;
          v69 = v48 * v43 + v69;
          v66 = v49 * *v47 + v66;
          v73 = v49 * v42 + v73;
          v74 = v58 * v49 + v74;
          v75 = v49 * v43 + v75;
        }
        while ( v39 );
        if ( v84 > 0.0 )
        {
          v50 = -1.0 / v84;
          v80 = v67 * v50 + v80;
          v81 = v68 * v50 + v81;
          v82 = v50 * v69 + v82;
        }
        if ( v66 > 0.0 )
        {
          v51 = -1.0 / v66;
          v77 = v73 * v51 + v77;
          v78 = v74 * v51 + v78;
          v79 = v51 * v75 + v79;
        }
        if ( v67 * v67 < v27
          && v68 * v68 < v27
          && v69 * v69 < v27
          && v73 * v73 < v27
          && v74 * v74 < v27
          && v75 * v75 < v27 )
        {
          break;
        }
        ++v61;
      }
      while ( v61 < 8 );
      *(float *)a1 = v80;
      *(float *)(a1 + 4) = v81;
      *(float *)(a1 + 8) = v82;
      result = a2;
      *(float *)a2 = v77;
      *(float *)(a2 + 4) = v78;
    }
    else
    {
      *(float *)a1 = v80;
      *(float *)(a1 + 4) = v81;
      *(float *)(a1 + 8) = v82;
      result = a2;
      v26 = v77;
      *(float *)(a2 + 4) = v4;
      *(float *)a2 = v26;
    }
  }
  *(float *)(result + 8) = v79;
  return result;
}
// 4B37B8: using guessed type float flt_4B37B8;
// 4C3E18: using guessed type int dword_4C3E18;
// 4342F5: using guessed type float var_BC[14];

//----- (00434874) --------------------------------------------------------
int __userpurge sub_434874@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // esi@2
  float *v5; // ecx@2
  signed int v6; // edi@2
  char *v7; // esi@10
  char *v8; // edx@10
  char *v9; // edi@10
  float *v10; // eax@10
  unsigned int v11; // ecx@10
  double v12; // st7@12
  double v13; // st7@12
  double v14; // st7@12
  double v15; // st6@12
  double v16; // st5@12
  double v17; // st4@12
  bool v18; // zf@17
  char *v19; // eax@20
  unsigned int v20; // esi@20
  float *v21; // eax@20
  unsigned int v22; // edi@20
  float *v23; // esi@24
  int v24; // esi@26
  double v25; // st7@26
  double v26; // st6@27
  double v27; // st4@27
  double v28; // st5@28
  double v29; // st4@28
  double v30; // st7@29
  double v31; // st6@29
  double v32; // st5@30
  unsigned int v33; // edx@32
  char *v34; // esi@32
  char *v35; // edi@32
  int v36; // ecx@32
  double v37; // st7@36
  signed int v38; // eax@37
  signed int v39; // ebx@41
  int v40; // eax@41
  double v41; // st7@41
  int v42; // ebx@41
  double v43; // st6@41
  float v45; // [sp+0h] [bp-274h]@19
  float v46[3]; // [sp+4h] [bp-270h]@19
  float v47; // [sp+10h] [bp-264h]@10
  float v48; // [sp+14h] [bp-260h]@10
  char v49[248]; // [sp+18h] [bp-25Ch]@32
  float v50; // [sp+110h] [bp-164h]@10
  float v51; // [sp+114h] [bp-160h]@12
  char v52[4]; // [sp+118h] [bp-15Ch]@10
  char v53[4]; // [sp+11Ch] [bp-158h]@10
  char v54[4]; // [sp+120h] [bp-154h]@10
  char v55[20]; // [sp+124h] [bp-150h]@32
  char v56[4]; // [sp+138h] [bp-13Ch]@10
  char v57[4]; // [sp+13Ch] [bp-138h]@10
  char v58[4]; // [sp+140h] [bp-134h]@10
  char v59[4]; // [sp+144h] [bp-130h]@32
  char v60[4]; // [sp+148h] [bp-12Ch]@10
  char v61[4]; // [sp+14Ch] [bp-128h]@10
  char v62[4]; // [sp+150h] [bp-124h]@10
  char v63[4]; // [sp+154h] [bp-120h]@32
  char v64[4]; // [sp+158h] [bp-11Ch]@10
  char v65[4]; // [sp+15Ch] [bp-118h]@10
  char v66[4]; // [sp+160h] [bp-114h]@10
  char v67[172]; // [sp+164h] [bp-110h]@32
  int v68; // [sp+210h] [bp-64h]@12
  float v69; // [sp+214h] [bp-60h]@20
  float v70; // [sp+218h] [bp-5Ch]@20
  float v71; // [sp+21Ch] [bp-58h]@20
  char *v72; // [sp+224h] [bp-50h]@10
  char *v73; // [sp+228h] [bp-4Ch]@10
  char *v74; // [sp+22Ch] [bp-48h]@10
  char *v75; // [sp+230h] [bp-44h]@10
  char *v76; // [sp+234h] [bp-40h]@10
  char *v77; // [sp+238h] [bp-3Ch]@10
  float *v78; // [sp+23Ch] [bp-38h]@10
  char *v79; // [sp+240h] [bp-34h]@10
  char *v80; // [sp+244h] [bp-30h]@10
  float v81; // [sp+248h] [bp-2Ch]@24
  float v82; // [sp+24Ch] [bp-28h]@24
  float v83; // [sp+250h] [bp-24h]@24
  float v84; // [sp+254h] [bp-20h]@24
  float v85; // [sp+258h] [bp-1Ch]@26
  float v86; // [sp+25Ch] [bp-18h]@26
  float v87; // [sp+260h] [bp-14h]@26
  float v88; // [sp+264h] [bp-10h]@26
  float v89; // [sp+268h] [bp-Ch]@27
  float v90; // [sp+26Ch] [bp-8h]@27
  float v91; // [sp+270h] [bp-4h]@27
  float v92; // [sp+274h] [bp+0h]@27
  float v93; // [sp+278h] [bp+4h]@28
  float v94; // [sp+27Ch] [bp+8h]@28
  float v95; // [sp+280h] [bp+Ch]@28
  float v96; // [sp+284h] [bp+10h]@28
  char *v97; // [sp+288h] [bp+14h]@12
  int v98; // [sp+28Ch] [bp+18h]@10
  char *v99; // [sp+290h] [bp+1Ch]@10
  char *v100; // [sp+294h] [bp+20h]@12
  float v101; // [sp+298h] [bp+24h]@20
  float v102; // [sp+29Ch] [bp+28h]@20
  float v103; // [sp+2A0h] [bp+2Ch]@20
  float v104; // [sp+2A4h] [bp+30h]@24
  float v105; // [sp+2A8h] [bp+34h]@20
  float v106; // [sp+2ACh] [bp+38h]@12
  float v107; // [sp+2B0h] [bp+3Ch]@12
  float v108; // [sp+2B8h] [bp+44h]@12
  float *v109; // [sp+2BCh] [bp+48h]@10
  char *v110; // [sp+2C0h] [bp+4Ch]@10
  float v111; // [sp+2C4h] [bp+50h]@12
  float v112; // [sp+2C8h] [bp+54h]@12
  float v113; // [sp+2CCh] [bp+58h]@12
  float v114; // [sp+2D0h] [bp+5Ch]@25
  int v115; // [sp+2D4h] [bp+60h]@8
  float *v116; // [sp+2D8h] [bp+64h]@10
  int v117; // [sp+2DCh] [bp+68h]@12
  signed int v118; // [sp+2E0h] [bp+6Ch]@12
  int v119; // [sp+2F0h] [bp+7Ch]@10
  float v120; // [sp+2F0h] [bp+7Ch]@27
  unsigned int v121; // [sp+2F0h] [bp+7Ch]@32

  v3 = a1;
  if ( a3 )
  {
    v4 = 0;
    v5 = (float *)(a1 + 12);
    v6 = 16;
    do
    {
      if ( *v5 < 0.5 )
        ++v4;
      v5 += 4;
      --v6;
    }
    while ( v6 );
    if ( v4 == 16 )
    {
      *(_WORD *)(a2 + 2) = -1;
      *(_DWORD *)(a2 + 4) = -1;
      *(_WORD *)a2 = 0;
      return 0;
    }
    v115 = 4 - (v4 > 0);
  }
  else
  {
    v115 = 4;
  }
  memset(&v50, 0, 0x100u);
  v99 = &v52[-a1];
  v75 = &v53[-a1];
  v76 = &v54[-a1];
  v98 = (int)&v56[-a1];
  v77 = &v57[-a1];
  v74 = &v58[-a1];
  v110 = &v60[-a1];
  v72 = &v61[-a1];
  v73 = &v62[-a1];
  v109 = (float *)&v64[-a1];
  v79 = &v65[-a1];
  v119 = 0;
  v7 = (char *)&v50 - a1;
  dword_4C3E18 = (int)v116;
  v8 = (char *)&v48 - a1;
  v80 = &v66[-a1];
  v9 = (char *)&v47 - a1;
  v10 = (float *)(a1 + 8);
  v78 = (float *)((char *)&v50 - v3);
  v11 = 0;
  while ( 1 )
  {
    v111 = *(float *)((char *)&v50 + v11) + *(v10 - 2);
    v112 = *(v10 - 1) + *(float *)((char *)&v51 + v11);
    v113 = *(float *)((char *)v10 + (_DWORD)v7) + *v10;
    *(float *)&v118 = v111 * 31.0 + 0.5;
    v68 = (signed int)*(float *)&v118;
    v118 = (signed int)*(float *)&v118;
    v12 = (double)v118 * 0.032258064;
    v108 = v12;
    *(float *)((char *)&v47 + v11) = v12;
    *(float *)&v118 = v112 * 63.0 + 0.5;
    v97 = (char *)(signed int)*(float *)&v118;
    v118 = (signed int)*(float *)&v118;
    v13 = (double)v118 * 0.015873017;
    *(float *)&v118 = v13;
    *(float *)((char *)&v48 + v11) = v13;
    *(float *)&v117 = v113 * 31.0 + 0.5;
    v100 = (char *)(signed int)*(float *)&v117;
    v117 = (signed int)*(float *)&v117;
    v14 = (double)v117 * 0.032258064;
    v117 = v119 & 3;
    *(float *)((char *)v10 + (_DWORD)v9) = v14;
    *(float *)((char *)v10 + (_DWORD)v8) = 1.0;
    v15 = v111 - v108;
    v16 = v112 - *(float *)&v118;
    v106 = v16;
    v17 = v113 - v14;
    v107 = v17;
    if ( (v119 & 3) != 3 )
    {
      *(float *)&v99[(_DWORD)v10] = v15 * 0.4375 + *(float *)&v99[(_DWORD)v10];
      *(float *)&v75[(_DWORD)v10] = v16 * 0.4375 + *(float *)&v75[(_DWORD)v10];
      *(float *)&v76[(_DWORD)v10] = v17 * 0.4375 + *(float *)&v76[(_DWORD)v10];
    }
    if ( v11 < 0xC0 )
    {
      if ( *(float *)&v117 != 0.0 )
      {
        *(float *)((char *)v10 + v98) = v15 * 0.1875 + *(float *)((char *)v10 + v98);
        *(float *)&v77[(_DWORD)v10] = v16 * 0.1875 + *(float *)&v77[(_DWORD)v10];
        *(float *)&v74[(_DWORD)v10] = v17 * 0.1875 + *(float *)&v74[(_DWORD)v10];
      }
      *(float *)&v110[(_DWORD)v10] = v15 * 0.3125 + *(float *)&v110[(_DWORD)v10];
      *(float *)&v72[(_DWORD)v10] = v16 * 0.3125 + *(float *)&v72[(_DWORD)v10];
      v18 = v117 == 3;
      *(float *)&v73[(_DWORD)v10] = v17 * 0.3125 + *(float *)&v73[(_DWORD)v10];
      if ( !v18 )
      {
        *(float *)((char *)v109 + (_DWORD)v10) = v15 * 0.0625 + *(float *)((char *)v109 + (_DWORD)v10);
        *(float *)&v79[(_DWORD)v10] = v106 * 0.0625 + *(float *)&v79[(_DWORD)v10];
        *(float *)&v80[(_DWORD)v10] = v107 * 0.0625 + *(float *)&v80[(_DWORD)v10];
      }
    }
    ++v119;
    v11 += 16;
    *(float *)((char *)&v45 + v11) = v108 * flt_4B37B8;
    v46[v11 / 4] = *(float *)&v118 * flt_4B37BC;
    *(float *)((char *)v10 + (_DWORD)v9) = v14 * flt_4B37C0;
    v10 += 4;
    if ( v11 >= 0x100 )
      break;
    v7 = (char *)v78;
  }
  sub_4342F5((int)&v101, (int)&v111, (int)&v47, v115);
  v69 = v101 * flt_4B37C8;
  v70 = v102 * flt_4B37CC;
  v71 = v103 * flt_4B37D0;
  v105 = v111 * flt_4B37C8;
  v106 = v112 * flt_4B37CC;
  v107 = v113 * flt_4B37D0;
  *(float *)&v19 = COERCE_FLOAT(sub_433ED1((int)&v69));
  v20 = (unsigned int)v19;
  v110 = v19;
  v21 = (float *)sub_433ED1((int)&v105);
  v22 = (unsigned int)v21;
  v109 = v21;
  if ( v115 != 4 || (_WORD)v20 != (_WORD)v21 )
  {
    sub_433DD7((int)&v69, v20);
    sub_433DD7((int)&v105, v22);
    v101 = v69 * flt_4B37B8;
    v102 = v70 * flt_4B37BC;
    v103 = v71 * flt_4B37C0;
    v111 = v105 * flt_4B37B8;
    v112 = v106 * flt_4B37BC;
    v113 = v107 * flt_4B37C0;
    if ( (v115 == 3) == (unsigned __int16)v22 >= (unsigned __int16)v20 )
    {
      *(_WORD *)a2 = v20;
      *(_WORD *)(a2 + 2) = v22;
      v81 = v101;
      v82 = v102;
      v83 = v103;
      v84 = v104;
      v23 = &v111;
    }
    else
    {
      *(_WORD *)(a2 + 2) = v20;
      *(_WORD *)a2 = v22;
      v81 = v111;
      v82 = v112;
      v83 = v113;
      v84 = v114;
      v23 = &v101;
    }
    v85 = *v23;
    v24 = (int)(v23 + 1);
    v86 = *(float *)v24;
    v24 += 4;
    v87 = *(float *)v24;
    v88 = *(float *)(v24 + 4);
    v25 = v85 - v81;
    if ( v115 == 3 )
    {
      v108 = COERCE_FLOAT(&unk_49035C);
      v89 = 0.5 * v25 + v81;
      v26 = v86 - v82;
      v90 = v26 * 0.5 + v82;
      v27 = v87 - v83;
      v120 = v27;
      v91 = v27 * 0.5 + v83;
      v92 = (v88 - v84) * 0.5 + v84;
    }
    else
    {
      v108 = COERCE_FLOAT(&unk_49034C);
      v89 = 0.33333334 * v25 + v81;
      v26 = v86 - v82;
      v90 = 0.33333334 * v26 + v82;
      v28 = v87 - v83;
      v120 = v28;
      v91 = 0.33333334 * v28 + v83;
      v29 = v88 - v84;
      v92 = 0.33333334 * v29 + v84;
      v93 = v25 * 0.66666669 + v81;
      v94 = v26 * 0.66666669 + v82;
      v95 = v28 * 0.66666669 + v83;
      v96 = v29 * 0.66666669 + v84;
    }
    v111 = v25;
    v30 = v26;
    v31 = v120;
    *(float *)&v118 = (double)(unsigned int)(v115 - 1);
    if ( (_WORD)v110 == (_WORD)v109 )
      v32 = 0.0;
    else
      v32 = *(float *)&v118 / (v31 * v31 + v30 * v30 + v111 * v111);
    v111 = v111 * v32;
    v33 = 0;
    memset(&v50, 0, 0x100u);
    v112 = v32 * v30;
    v113 = v32 * v31;
    dword_4C3E18 = v117;
    v116 = &v50;
    v109 = (float *)((char *)&v51 - v3);
    v99 = &v55[-v3];
    v100 = &v59[-v3];
    v34 = &v49[-v3];
    v35 = &v63[-v3];
    v121 = 0;
    v36 = v3 + 4;
    v97 = &v67[-v3];
    do
    {
      if ( v115 != 3 || *(float *)(v36 + 8) >= 0.5 )
      {
        v101 = flt_4B37B8 * *(float *)(v36 - 4) + *v116;
        v102 = flt_4B37BC * *(float *)v36 + *(float *)((char *)v78 + v36);
        v103 = flt_4B37C0 * *(float *)(v36 + 4) + *(float *)((char *)v109 + v36);
        v37 = (v101 - v81) * v111 + (v103 - v83) * v113 + (v102 - v82) * v112;
        if ( v37 > 0.0 )
        {
          if ( v37 < *(float *)&v118 )
          {
            *(float *)&v110 = v37 + 0.5;
            v98 = (signed int)*(float *)&v110;
            v38 = *(_DWORD *)(LODWORD(v108) + 4 * v98);
          }
          else
          {
            v38 = 1;
          }
        }
        else
        {
          v38 = 0;
        }
        v39 = v38;
        v40 = 16 * v38;
        v33 = (v39 << 30) | (v33 >> 2);
        v41 = (v101 - *(float *)((char *)&v81 + v40)) * *(float *)&v34[v36];
        v42 = v121 & 3;
        v43 = (v102 - *(float *)((char *)&v82 + v40)) * *(float *)&v34[v36];
        v106 = v43;
        v107 = (v103 - *(float *)((char *)&v83 + v40)) * *(float *)&v34[v36];
        if ( v42 != 3 )
        {
          *(float *)&v75[v36] = v41 * 0.4375 + *(float *)&v75[v36];
          *(float *)&v76[v36] = 0.4375 * v43 + *(float *)&v76[v36];
          *(float *)&v99[v36] = v107 * 0.4375 + *(float *)&v99[v36];
        }
        if ( v121 < 0xC )
        {
          if ( v121 & 3 )
          {
            *(float *)&v77[v36] = v41 * 0.1875 + *(float *)&v77[v36];
            *(float *)&v74[v36] = 0.1875 * v43 + *(float *)&v74[v36];
            *(float *)&v100[v36] = v107 * 0.1875 + *(float *)&v100[v36];
          }
          *(float *)&v72[v36] = v41 * 0.3125 + *(float *)&v72[v36];
          *(float *)&v73[v36] = v43 * 0.3125 + *(float *)&v73[v36];
          *(float *)&v35[v36] = v107 * 0.3125 + *(float *)&v35[v36];
          if ( v42 != 3 )
          {
            *(float *)&v79[v36] = v41 * 0.0625 + *(float *)&v79[v36];
            *(float *)&v80[v36] = v106 * 0.0625 + *(float *)&v80[v36];
            *(float *)&v97[v36] = v107 * 0.0625 + *(float *)&v97[v36];
          }
        }
      }
      else
      {
        v33 = (v33 >> 2) | 0xC0000000;
      }
      ++v121;
      v116 += 4;
      v36 += 16;
    }
    while ( v121 < 0x10 );
    *(_DWORD *)(a2 + 4) = v33;
  }
  else
  {
    *(_DWORD *)(a2 + 4) = 0;
    *(_WORD *)a2 = v20;
    *(_WORD *)(a2 + 2) = (_WORD)v21;
  }
  return 0;
}
// 4B37B8: using guessed type float flt_4B37B8;
// 4B37BC: using guessed type float flt_4B37BC;
// 4B37C0: using guessed type float flt_4B37C0;
// 4B37C8: using guessed type float flt_4B37C8;
// 4B37CC: using guessed type float flt_4B37CC;
// 4B37D0: using guessed type float flt_4B37D0;
// 4C3E18: using guessed type int dword_4C3E18;
// 434874: using guessed type char var_1CC[4];
// 434874: using guessed type char var_1C8[4];
// 434874: using guessed type char var_1C4[4];
// 434874: using guessed type char var_1AC[4];
// 434874: using guessed type char var_1A8[4];
// 434874: using guessed type char var_1A4[4];
// 434874: using guessed type char var_19C[4];
// 434874: using guessed type char var_198[4];
// 434874: using guessed type char var_194[4];
// 434874: using guessed type char var_18C[4];
// 434874: using guessed type char var_188[4];
// 434874: using guessed type char var_184[4];
// 434874: using guessed type float var_2E0[3];
// 434874: using guessed type char var_1C0[20];
// 434874: using guessed type char var_1A0[4];
// 434874: using guessed type char var_2CC[248];
// 434874: using guessed type char var_190[4];
// 434874: using guessed type char var_180[172];

//----- (0043509B) --------------------------------------------------------
int __stdcall sub_43509B(int a1, int a2)
{
  int v2; // ebx@1
  unsigned __int16 v3; // si@1
  unsigned int v4; // edi@1
  double v5; // st7@3
  double v6; // st5@3
  double v7; // st5@3
  double v8; // st5@3
  unsigned int v9; // ebx@4
  int v10; // eax@4
  signed int v11; // ecx@4
  int v12; // edx@5
  float *v13; // edi@5
  float v15; // [sp+Ch] [bp-58h]@1
  float v16; // [sp+10h] [bp-54h]@2
  float v17; // [sp+14h] [bp-50h]@2
  float v18; // [sp+18h] [bp-4Ch]@2
  float v19; // [sp+1Ch] [bp-48h]@1
  float v20; // [sp+20h] [bp-44h]@2
  float v21; // [sp+24h] [bp-40h]@2
  float v22; // [sp+28h] [bp-3Ch]@2
  float v23; // [sp+2Ch] [bp-38h]@2
  float v24; // [sp+30h] [bp-34h]@2
  float v25; // [sp+34h] [bp-30h]@2
  float v26; // [sp+38h] [bp-2Ch]@2
  float v27; // [sp+3Ch] [bp-28h]@2
  float v28; // [sp+40h] [bp-24h]@2
  float v29; // [sp+44h] [bp-20h]@2
  float v30; // [sp+48h] [bp-1Ch]@2
  float v31; // [sp+4Ch] [bp-18h]@2
  float v32; // [sp+50h] [bp-14h]@2
  float v33; // [sp+54h] [bp-10h]@2
  float v34; // [sp+58h] [bp-Ch]@2
  float v35; // [sp+5Ch] [bp-8h]@3
  float v36; // [sp+60h] [bp-4h]@3
  float v37; // [sp+70h] [bp+Ch]@3

  v2 = a2;
  v3 = *(_WORD *)a2;
  sub_433DD7((int)&v15, *(_WORD *)a2);
  v4 = *(_WORD *)(a2 + 2);
  sub_433DD7((int)&v19, v4);
  if ( v3 > (unsigned __int16)v4 )
  {
    v5 = v19 - v15;
    v23 = v5 * 0.33333334 + v15;
    v6 = v20 - v16;
    v37 = v6;
    v24 = v6 * 0.33333334 + v16;
    v7 = v21 - v17;
    v36 = v7;
    v25 = v7 * 0.33333334 + v17;
    v8 = v22 - v18;
    v35 = v8;
    v26 = v8 * 0.33333334 + v18;
    v27 = v5 * 0.66666669 + v15;
    v28 = v37 * 0.66666669 + v16;
    v29 = v36 * 0.66666669 + v17;
    v30 = v35 * 0.66666669 + v18;
  }
  else
  {
    v23 = (v19 - v15) * 0.5 + v15;
    v24 = (v20 - v16) * 0.5 + v16;
    v25 = (v21 - v17) * 0.5 + v17;
    v26 = (v22 - v18) * 0.5 + v18;
    v31 = 0.0;
    v32 = 0.0;
    v33 = 0.0;
    v34 = 0.0;
    v27 = 0.0;
    v28 = 0.0;
    v29 = 0.0;
    v30 = 0.0;
  }
  v9 = *(_DWORD *)(v2 + 4);
  v10 = a1;
  v11 = 16;
  do
  {
    v12 = 16 * (v9 & 3);
    *(float *)v10 = *(float *)((char *)&v15 + v12);
    *(float *)(v10 + 4) = *(float *)((char *)&v15 + v12 + 4);
    *(float *)(v10 + 8) = *(float *)((char *)&v15 + v12 + 8);
    v13 = (float *)(v10 + 12);
    v10 += 16;
    v9 >>= 2;
    --v11;
    *v13 = *(float *)((char *)&v15 + v12 + 12);
  }
  while ( v11 );
  return 0;
}

//----- (004351DB) --------------------------------------------------------
int __stdcall sub_4351DB(int a1, unsigned int *a2)
{
  unsigned int *v2; // esi@1
  int result; // eax@1
  unsigned int v4; // ecx@2
  signed int v5; // edx@2
  float *v6; // eax@2
  unsigned int v7; // esi@4
  signed int v8; // ecx@4
  float *v9; // eax@4
  int v10; // [sp+14h] [bp+Ch]@3
  int v11; // [sp+14h] [bp+Ch]@5

  v2 = a2;
  result = sub_43509B(a1, (int)(a2 + 2));
  if ( result >= 0 )
  {
    v4 = *a2;
    v5 = 8;
    v6 = (float *)(a1 + 12);
    do
    {
      v10 = v4 & 0xF;
      v4 >>= 4;
      *v6 = (double)(unsigned int)v10 * 0.06666667;
      v6 += 4;
      --v5;
    }
    while ( v5 );
    v7 = v2[1];
    v8 = 8;
    v9 = (float *)(a1 + 140);
    do
    {
      v11 = v7 & 0xF;
      v7 >>= 4;
      *v9 = (double)(unsigned int)v11 * 0.06666667;
      v9 += 4;
      --v8;
    }
    while ( v8 );
    result = 0;
  }
  return result;
}

//----- (0043525E) --------------------------------------------------------
int __stdcall sub_43525E(int a1, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  unsigned __int8 v4; // al@2
  unsigned __int8 v5; // cl@2
  unsigned int v6; // eax@3
  double v7; // st7@4
  double v8; // st6@4
  unsigned int v9; // eax@6
  double v10; // st7@7
  double v11; // st6@7
  unsigned __int16 v12; // cx@9
  signed int v13; // edx@9
  unsigned int v14; // ecx@9
  float *v15; // eax@9
  int v16; // ebx@10
  unsigned __int16 v17; // cx@11
  signed int v18; // edx@11
  unsigned int v19; // ecx@11
  float *v20; // eax@11
  int v21; // esi@12
  float v22; // [sp+8h] [bp-20h]@2
  float v23; // [sp+Ch] [bp-1Ch]@2
  float v24; // [sp+20h] [bp-8h]@8
  float v25; // [sp+24h] [bp-4h]@8
  signed int v26; // [sp+34h] [bp+Ch]@2

  v2 = a2;
  result = sub_43509B(a1, a2 + 8);
  if ( result >= 0 )
  {
    v4 = *(_BYTE *)a2;
    v5 = *(_BYTE *)(a2 + 1);
    v26 = *(_BYTE *)(a2 + 1);
    v22 = (double)*(_BYTE *)v2 * 0.0039215689;
    v23 = (double)v26 * 0.0039215689;
    if ( v4 <= v5 )
    {
      v9 = 1;
      do
      {
        v10 = (double)(5 - v9) * v22;
        v11 = (double)v9++ * v23;
        *(&v22 + v9) = (v10 + v11) * 0.2;
      }
      while ( v9 < 5 );
      v24 = 0.0;
      v25 = 1.0;
    }
    else
    {
      v6 = 1;
      do
      {
        v7 = (double)(7 - v6) * v22;
        v8 = (double)v6++ * v23;
        *(&v22 + v6) = (v7 + v8) * 0.14285715;
      }
      while ( v6 < 7 );
    }
    HIBYTE(v12) = *(_BYTE *)(v2 + 4);
    v13 = 8;
    LOBYTE(v12) = *(_BYTE *)(v2 + 3);
    v14 = *(_BYTE *)(v2 + 2) | (v12 << 8);
    v15 = (float *)(a1 + 12);
    do
    {
      v16 = v14 & 7;
      v14 >>= 3;
      *v15 = *(&v22 + v16);
      v15 += 4;
      --v13;
    }
    while ( v13 );
    HIBYTE(v17) = *(_BYTE *)(v2 + 7);
    v18 = 8;
    LOBYTE(v17) = *(_BYTE *)(v2 + 6);
    v19 = *(_BYTE *)(v2 + 5) | (v17 << 8);
    v20 = (float *)(a1 + 140);
    do
    {
      v21 = v19 & 7;
      v19 >>= 3;
      *v20 = *(&v22 + v21);
      v20 += 4;
      --v18;
    }
    while ( v18 );
    result = 0;
  }
  return result;
}

//----- (0043539A) --------------------------------------------------------
int __stdcall sub_43539A(int a1, int a2)
{
  unsigned int v2; // ebx@1
  char *v3; // ecx@1
  float *v4; // eax@1
  char *v5; // edi@1
  int v6; // edx@2
  double v7; // st7@2
  double v8; // st7@2
  int v9; // esi@2
  double v10; // st7@2
  double v11; // st7@2
  int result; // eax@10
  char v13[4]; // [sp+Ch] [bp-14Ch]@1
  char v14; // [sp+10h] [bp-148h]@1
  float v15; // [sp+10Ch] [bp-4Ch]@1
  char v16[8]; // [sp+110h] [bp-48h]@3
  char v17[4]; // [sp+118h] [bp-40h]@6
  char v18[4]; // [sp+11Ch] [bp-3Ch]@7
  char v19[44]; // [sp+120h] [bp-38h]@8
  float v20; // [sp+14Ch] [bp-Ch]@2
  int v21; // [sp+150h] [bp-8h]@1
  int v22; // [sp+154h] [bp-4h]@1
  float v23; // [sp+164h] [bp+Ch]@2

  memset(&v15, 0, 0x40u);
  v21 = v22 | 0xC00;
  dword_4C3E18 = v22;
  v2 = 0;
  v3 = &v14;
  v4 = (float *)(a2 + 12);
  v5 = &v13[-a2];
  do
  {
    v6 = 4 * v2;
    v7 = *(&v15 + v2);
    *((float *)v3 - 1) = *(v4 - 3);
    v8 = v7 + *v4;
    *(float *)v3 = *(v4 - 2);
    v9 = *((_DWORD *)v4 - 1);
    v20 = v8;
    *((_DWORD *)v3 + 1) = v9;
    v23 = v8 + 0.5;
    v21 = (signed int)v23;
    v10 = (double)v21;
    *(float *)((char *)v4 + (_DWORD)v5) = v10;
    v11 = v20 - v10;
    if ( (v2 & 3) != 3 )
      *(float *)&v16[v6] = 0.4375 * v11 + *(float *)&v16[v6];
    if ( v2 < 0xC )
    {
      if ( v2 & 3 )
        *(float *)&v17[v6] = 0.1875 * v11 + *(float *)&v17[v6];
      *(float *)&v18[v6] = 0.3125 * v11 + *(float *)&v18[v6];
      if ( (v2 & 3) != 3 )
        *(float *)&v19[v6] = v11 * 0.0625 + *(float *)&v19[v6];
    }
    ++v2;
    v3 += 16;
    v4 += 4;
  }
  while ( v2 < 0x10 );
  result = sub_434874((int)v13, a1, 1);
  if ( result >= 0 )
    result = 0;
  return result;
}
// 4C3E18: using guessed type int dword_4C3E18;
// 43539A: using guessed type char var_14C[4];
// 43539A: using guessed type char var_48[8];
// 43539A: using guessed type char var_40[4];
// 43539A: using guessed type char var_3C[4];
// 43539A: using guessed type char var_38[44];

//----- (004354B2) --------------------------------------------------------
int __stdcall sub_4354B2(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ecx@2
  double v4; // st7@2
  int *v5; // edx@2
  int v6; // eax@2
  double v7; // st7@2
  int v8; // edx@2
  double v9; // st7@2
  float v11; // [sp+Ch] [bp-54h]@1
  char v12[8]; // [sp+10h] [bp-50h]@3
  char v13[4]; // [sp+18h] [bp-48h]@6
  char v14[4]; // [sp+1Ch] [bp-44h]@7
  char v15[44]; // [sp+20h] [bp-40h]@8
  int v16; // [sp+4Ch] [bp-14h]@2
  unsigned int v17; // [sp+50h] [bp-10h]@2
  float v18; // [sp+54h] [bp-Ch]@2
  int v19; // [sp+58h] [bp-8h]@1
  float *v20; // [sp+5Ch] [bp-4h]@1
  unsigned int v21; // [sp+68h] [bp+8h]@1

  v2 = a1;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 4) = 0;
  memset(&v11, 0, 0x40u);
  dword_4C3E18 = v19;
  v21 = 0;
  v20 = (float *)(a2 + 12);
  do
  {
    v3 = 4 * v21;
    v4 = *(&v11 + v21) + *v20;
    v18 = v4;
    *(float *)&v17 = v4 * 15.0 + 0.5;
    v16 = (signed int)*(float *)&v17;
    v5 = (int *)(v2 + 4 * (v21 >> 3));
    v6 = (v16 << 28) | ((unsigned int)*v5 >> 4);
    v17 = (signed int)*(float *)&v17;
    v7 = (double)v17;
    *v5 = v6;
    v8 = v21 & 3;
    v9 = v18 - v7 * 0.06666667;
    if ( v8 != 3 )
      *(float *)&v12[v3] = 0.4375 * v9 + *(float *)&v12[v3];
    if ( v21 < 0xC )
    {
      if ( v21 & 3 )
        *(float *)&v13[v3] = 0.1875 * v9 + *(float *)&v13[v3];
      *(float *)&v14[v3] = 0.3125 * v9 + *(float *)&v14[v3];
      if ( v8 != 3 )
        *(float *)&v15[v3] = v9 * 0.0625 + *(float *)&v15[v3];
    }
    ++v21;
    v20 += 4;
  }
  while ( v21 < 0x10 );
  return sub_434874(a2, v2 + 8, 0);
}
// 4C3E18: using guessed type int dword_4C3E18;
// 4354B2: using guessed type char var_50[8];
// 4354B2: using guessed type char var_48[4];
// 4354B2: using guessed type char var_44[4];
// 4354B2: using guessed type char var_40[44];

//----- (004355D8) --------------------------------------------------------
int __stdcall sub_4355D8(int a1, float *a2)
{
  int v2; // ebx@1
  float *v3; // edx@1
  int v4; // edi@1
  unsigned int v5; // esi@1
  int v6; // ecx@2
  double v7; // st7@2
  double v8; // st7@2
  unsigned __int8 v10; // c0@2
  unsigned __int8 v11; // c2@2
  double v12; // st7@6
  int v13; // edx@6
  int v14; // esi@14
  int result; // eax@14
  unsigned int v16; // ebx@19
  signed int v17; // eax@21
  signed int v18; // ecx@21
  double v19; // st7@21
  double v20; // st6@21
  unsigned int v21; // eax@26
  double v22; // st7@27
  double v23; // st6@27
  unsigned int v24; // eax@29
  double v25; // st7@30
  double v26; // st6@30
  double v27; // st7@33
  unsigned int v28; // eax@35
  int v29; // esi@35
  unsigned int v30; // edx@36
  unsigned int v31; // ebx@36
  int v32; // ecx@38
  double v33; // st7@38
  double v34; // st7@38
  signed int v35; // eax@42
  double v36; // st7@50
  int v37; // edi@50
  signed int v38; // [sp-4h] [bp-44h]@41
  float v39; // [sp+Ch] [bp-34h]@1
  char v40[8]; // [sp+10h] [bp-30h]@7
  char v41[4]; // [sp+18h] [bp-28h]@10
  char v42[4]; // [sp+1Ch] [bp-24h]@11
  char v43[44]; // [sp+20h] [bp-20h]@12
  float v44[8]; // [sp+4Ch] [bp+Ch]@2
  float v45; // [sp+6Ch] [bp+2Ch]@26
  float v46; // [sp+70h] [bp+30h]@26
  float v47; // [sp+84h] [bp+44h]@28
  float v48; // [sp+88h] [bp+48h]@28
  int v49; // [sp+8Ch] [bp+4Ch]@49
  float v50; // [sp+90h] [bp+50h]@32
  float v51; // [sp+94h] [bp+54h]@35
  float *v52; // [sp+98h] [bp+58h]@1
  float *v53; // [sp+9Ch] [bp+5Ch]@1
  float *v54; // [sp+A0h] [bp+60h]@1
  float v55; // [sp+A4h] [bp+64h]@2
  float v56; // [sp+A8h] [bp+68h]@1
  unsigned int v57; // [sp+ACh] [bp+6Ch]@1

  v2 = (int)a2;
  v3 = a2 + 3;
  a2 = *((float **)a2 + 3);
  v54 = a2;
  v52 = v3;
  memset(&v39, 0, 0x40u);
  v57 = LODWORD(v56) | 0xC00;
  v4 = LODWORD(v56);
  dword_4C3E18 = LODWORD(v56);
  v5 = 0;
  v53 = v3;
  do
  {
    v6 = 4 * v5;
    v7 = *(&v39 + v5) + *v53;
    v56 = v7;
    *(float *)&v57 = v7 * 255.0 + 0.5;
    LODWORD(v55) = (signed int)*(float *)&v57;
    v57 = (signed int)*(float *)&v57;
    v8 = (double)(signed int)v57 * 0.0039215689;
    v44[v5] = v8;
    if ( v10 | v11 )
    {
      *(float *)&a2 = v8;
    }
    else if ( v8 > *(float *)&v54 )
    {
      *(float *)&v54 = v8;
    }
    v12 = v56 - v8;
    v13 = v5 & 3;
    if ( v13 != 3 )
      *(float *)&v40[v6] = 0.4375 * v12 + *(float *)&v40[v6];
    if ( v5 < 0xC )
    {
      if ( v5 & 3 )
        *(float *)&v41[v6] = 0.1875 * v12 + *(float *)&v41[v6];
      *(float *)&v42[v6] = 0.3125 * v12 + *(float *)&v42[v6];
      if ( v13 != 3 )
        *(float *)&v43[v6] = v12 * 0.0625 + *(float *)&v43[v6];
    }
    v53 += 4;
    ++v5;
  }
  while ( v5 < 0x10 );
  v57 = v4;
  v14 = a1;
  result = sub_434874(v2, a1 + 8, 0);
  if ( result < 0 )
    return result;
  if ( 1.0 == *(float *)&a2 )
  {
    *(_BYTE *)v14 = -1;
    *(_BYTE *)(v14 + 1) = -1;
LABEL_24:
    *(_DWORD *)(v14 + 2) = 0;
    *(_WORD *)(v14 + 6) = 0;
    return 0;
  }
  if ( 0.0 == *(float *)&a2 || 1.0 == *(float *)&v54 )
  {
    a2 = (float *)6;
    v16 = 6;
  }
  else
  {
    v16 = 8;
    a2 = (float *)8;
  }
  sub_433FDA(v16, &v55, (float *)&a1, (int)v44);
  dword_4C3E18 = LODWORD(v56);
  *(float *)&v57 = v55 * 255.0 + 0.5;
  LODWORD(v55) = (signed int)*(float *)&v57;
  v17 = (signed int)*(float *)&v57;
  *(float *)&a1 = *(float *)&a1 * 255.0 + 0.5;
  v57 = (signed int)*(float *)&a1;
  v18 = (signed int)*(float *)&a1;
  v19 = (double)(unsigned __int8)v17 * 0.0039215689;
  v20 = (double)(unsigned __int8)v18 * 0.0039215689;
  *(float *)&a1 = v20;
  if ( v16 == 8 )
  {
    if ( (_BYTE)v17 == (_BYTE)v18 )
    {
      *(_BYTE *)v14 = v17;
      *(_BYTE *)(v14 + 1) = v18;
      goto LABEL_24;
    }
    goto LABEL_29;
  }
  if ( v16 != 6 )
  {
LABEL_29:
    *(_BYTE *)(v14 + 1) = v17;
    v45 = v20;
    v46 = v19;
    *(_BYTE *)v14 = v18;
    v24 = 1;
    do
    {
      v25 = (double)(7 - v24) * v45;
      a1 = v24;
      v26 = (double)v24++ * v46;
      *(&v45 + v24) = (v25 + v26) * 0.14285715;
    }
    while ( v24 < 7 );
    v55 = COERCE_FLOAT(&unk_490378);
    goto LABEL_32;
  }
  *(_BYTE *)v14 = v17;
  v45 = v19;
  v46 = *(float *)&a1;
  *(_BYTE *)(v14 + 1) = v18;
  v21 = 1;
  do
  {
    v22 = (double)(5 - v21) * v45;
    a1 = v21;
    v23 = (double)v21++ * v46;
    *(&v45 + v21) = (v22 + v23) * 0.2;
  }
  while ( v21 < 5 );
  v55 = COERCE_FLOAT(&unk_490398);
  v47 = 0.0;
  v48 = 1.0;
LABEL_32:
  a1 = v16 - 1;
  v50 = (double)(v16 - 1);
  if ( v45 == v46 )
    v27 = 0.0;
  else
    v27 = v50 / (v46 - v45);
  v51 = v27;
  memset(&v39, 0, 0x40u);
  a1 = LODWORD(v56) | 0xC00;
  dword_4C3E18 = LODWORD(v56);
  v28 = 0;
  v29 = v14 + 3;
  v53 = v52;
  do
  {
    v30 = 0;
    *(float *)&a1 = 0.0;
    v57 = v28 + 8;
    v31 = v28;
    if ( v28 >= v28 + 8 )
      goto LABEL_59;
    v54 = v53;
    do
    {
      v32 = 4 * v31;
      v33 = *(&v39 + v31) + *v54;
      *(float *)&a1 = v33;
      v34 = (v33 - v45) * v51;
      if ( v34 <= 0.0 )
      {
        if ( a2 != (float *)6 || v45 * 0.5 < *(float *)&a1 )
        {
          v35 = 0;
          goto LABEL_50;
        }
        v38 = 6;
        goto LABEL_47;
      }
      if ( v34 < v50 )
      {
        *(float *)&v52 = v34 + 0.5;
        v49 = (signed int)*(float *)&v52;
        v35 = *(_DWORD *)(LODWORD(v55) + 4 * v49);
      }
      else
      {
        if ( a2 == (float *)6 && (v46 + 1.0) * 0.5 <= *(float *)&a1 )
        {
          v38 = 7;
LABEL_47:
          v35 = v38;
          goto LABEL_50;
        }
        v35 = 1;
      }
LABEL_50:
      v36 = *(float *)&a1 - *(&v45 + v35);
      v30 = (v35 << 21) | (v30 >> 3);
      v37 = v31 & 3;
      if ( v37 != 3 )
        *(float *)&v40[v32] = 0.4375 * v36 + *(float *)&v40[v32];
      if ( v31 < 0xC )
      {
        if ( v31 & 3 )
          *(float *)&v41[v32] = 0.1875 * v36 + *(float *)&v41[v32];
        *(float *)&v42[v32] = 0.3125 * v36 + *(float *)&v42[v32];
        if ( v37 != 3 )
          *(float *)&v43[v32] = v36 * 0.0625 + *(float *)&v43[v32];
      }
      v54 += 4;
      ++v31;
    }
    while ( v31 < v57 );
    a1 = v30;
LABEL_59:
    v53 += 32;
    *(_BYTE *)(v29 + 1) = BYTE2(a1);
    v28 = v57;
    *(_BYTE *)(v29 - 1) = v30;
    *(_BYTE *)v29 = BYTE1(v30);
    v29 += 3;
  }
  while ( v28 < 0x10 );
  *(float *)&a2 = v56;
  return 0;
}
// 4C3E18: using guessed type int dword_4C3E18;
// 4355D8: using guessed type float var_64[8];
// 4355D8: using guessed type char var_A0[8];
// 4355D8: using guessed type char var_98[4];
// 4355D8: using guessed type char var_94[4];
// 4355D8: using guessed type char var_90[44];

//----- (00435A61) --------------------------------------------------------
int __stdcall sub_435A61(int a1, unsigned int *a2)
{
  int result; // eax@1

  result = sub_4351DB(a1, a2);
  if ( result >= 0 )
  {
    result = sub_433E23(a1);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (00435AA7) --------------------------------------------------------
int __stdcall sub_435AA7(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+0h] [bp-100h]@1

  result = sub_433EA1(a2, (float *)&v3);
  if ( result >= 0 )
  {
    result = sub_4354B2(a1, (int)&v3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (00435ADB) --------------------------------------------------------
int __stdcall sub_435ADB(int a1, int a2)
{
  int result; // eax@1
  char v3; // [sp+0h] [bp-100h]@1

  result = sub_433EA1(a2, (float *)&v3);
  if ( result >= 0 )
  {
    result = sub_4355D8(a1, (float *)&v3);
    if ( result >= 0 )
      result = 0;
  }
  return result;
}

//----- (00435B0F) --------------------------------------------------------
char *__stdcall sub_435B0F(int a1, int a2, int a3, int a4, int a5, int a6, char *a7, _DWORD *a8, char *a9, int a10, float *a11, int a12)
{
  int v12; // eax@1
  int v13; // ebx@1
  char *result; // eax@3
  float *v15; // esi@6
  unsigned int v16; // eax@7
  unsigned int v17; // edi@7
  _DWORD *v18; // eax@10
  int v19; // edi@10
  int v20; // edi@10
  int v21; // edi@11
  int v22; // edi@11
  unsigned int v23; // ecx@15
  float *v24; // esi@17
  unsigned int v25; // eax@18
  unsigned int v26; // edi@18
  float *v27; // edi@19
  float *v28; // edx@25
  int v29; // edi@26
  char *v30; // eax@29
  float *v31; // edx@29
  int v32; // edi@30
  float v33; // [sp+Ch] [bp-340h]@6
  float v34; // [sp+10h] [bp-33Ch]@6
  float v35; // [sp+14h] [bp-338h]@6
  unsigned int v36; // [sp+318h] [bp-34h]@15
  unsigned int v37; // [sp+31Ch] [bp-30h]@19
  int v38; // [sp+320h] [bp-2Ch]@15
  float v39; // [sp+324h] [bp-28h]@7
  float v40; // [sp+328h] [bp-24h]@7
  float v41; // [sp+32Ch] [bp-20h]@7
  float v42; // [sp+330h] [bp-1Ch]@7
  float v43; // [sp+334h] [bp-18h]@7
  float v44; // [sp+338h] [bp-14h]@7
  float v45; // [sp+33Ch] [bp-10h]@6
  float v46; // [sp+340h] [bp-Ch]@6
  float v47; // [sp+344h] [bp-8h]@6
  char *v48; // [sp+348h] [bp-4h]@1
  unsigned int v49; // [sp+364h] [bp+18h]@18
  char *v50; // [sp+364h] [bp+18h]@25
  char *v51; // [sp+364h] [bp+18h]@29
  unsigned int v52; // [sp+368h] [bp+1Ch]@1
  int v53; // [sp+374h] [bp+28h]@5
  char *v54; // [sp+378h] [bp+2Ch]@1
  float v55; // [sp+37Ch] [bp+30h]@7
  float v56; // [sp+37Ch] [bp+30h]@18

  v12 = a10;
  v48 = (char *)(a10 + a3);
  v13 = a6;
  v54 = (char *)(a10 + a4);
  v52 = a6 - v12;
  if ( !a2 )
    a2 = a1;
  result = a9;
  if ( a9 == (char *)1 )
  {
    result = (char *)a5;
    if ( a5 )
    {
      v53 = a5;
      do
      {
        v15 = a11;
        v45 = 0.0;
        v46 = 0.0;
        v47 = 0.0;
        v33 = 0.0;
        v34 = 0.0;
        v35 = 0.0;
        if ( *a11 >= 0.0 )
        {
          do
          {
            v16 = (unsigned int)(signed __int64)*v15 >> 1;
            v17 = v16 << 6;
            v55 = *v15 - (double)(2 * v16);
            sub_42AEA2(&v39, a3, (v16 << 6) + a1);
            sub_42AECC(&v42, *(_DWORD *)a7, a2 + v17);
            ++v15;
            v39 = v39 * v55;
            v40 = v40 * v55;
            v41 = v41 * v55;
            v42 = v42 * v55;
            v43 = v43 * v55;
            v44 = v44 * v55;
            v45 = v39 + v45;
            v46 = v40 + v46;
            v47 = v41 + v47;
            v33 = v42 + v33;
            v34 = v43 + v34;
            v35 = v44 + v35;
          }
          while ( *v15 >= 0.0 );
          a11 = v15;
        }
        if ( a12 )
        {
          qmemcpy(v54, v48, v52);
          v18 = a8;
          *(float *)a4 = v45;
          v19 = a4 + 4;
          *(float *)v19 = v46;
          *(float *)(v19 + 4) = v47;
          v20 = *a8;
          *(float *)v20 = v33;
          v20 += 4;
          *(float *)v20 = v34;
          *(float *)(v20 + 4) = v35;
        }
        else
        {
          *(float *)a4 = v45;
          v21 = a4 + 4;
          *(float *)v21 = v46;
          *(float *)(v21 + 4) = v47;
          v22 = *a8;
          *(float *)v22 = v33;
          v22 += 4;
          *(float *)v22 = v34;
          *(float *)(v22 + 4) = v35;
          qmemcpy(v54, v48, v52);
          v18 = a8;
        }
        *v18 += v13;
        result = a7;
        v54 += v13;
        v48 += v13;
        a4 += v13;
        a3 += v13;
        *(_DWORD *)result += v13;
        ++a11;
        --v53;
      }
      while ( v53 );
    }
  }
  else if ( a5 )
  {
    v23 = 12 * (_DWORD)a9;
    v36 = 12 * (_DWORD)a9;
    v38 = a5;
    while ( 1 )
    {
      v24 = a11;
      v45 = 0.0;
      v46 = 0.0;
      memset(&v33, 0, v23);
      v47 = 0.0;
      if ( *a11 >= 0.0 )
      {
        do
        {
          v25 = (unsigned int)(signed __int64)*v24 >> 1;
          v26 = v25 << 6;
          v56 = *v24 - (double)(2 * v25);
          sub_42AEA2(&v42, a3, (v25 << 6) + a1);
          v49 = 0;
          v42 = v42 * v56;
          v43 = v43 * v56;
          v44 = v44 * v56;
          v45 = v42 + v45;
          v46 = v43 + v46;
          v47 = v44 + v47;
          if ( a9 )
          {
            v37 = a2 + v26;
            v27 = &v35;
            do
            {
              sub_42AECC(&v39, *(_DWORD *)&a7[4 * v49++], v37);
              v39 = v39 * v56;
              v40 = v40 * v56;
              v41 = v41 * v56;
              *(v27 - 2) = v39 + *(v27 - 2);
              *(v27 - 1) = v40 + *(v27 - 1);
              *v27 = v41 + *v27;
              v27 += 3;
            }
            while ( v49 < (unsigned int)a9 );
          }
          ++v24;
        }
        while ( *v24 >= 0.0 );
        a11 = v24;
      }
      if ( a12 )
      {
        result = (char *)v52;
        qmemcpy(v54, v48, v52);
        *(float *)a4 = v45;
        *(float *)(a4 + 4) = v46;
        *(float *)(a4 + 8) = v47;
        if ( a9 )
        {
          result = (char *)a8;
          v28 = &v33;
          v50 = a9;
          do
          {
            v29 = *(_DWORD *)result;
            *(float *)v29 = *v28;
            v29 += 4;
            *(float *)v29 = v28[1];
            *(float *)(v29 + 4) = v28[2];
            *(_DWORD *)result += v13;
            *(_DWORD *)&result[a7 - (char *)a8] += v13;
            v28 += 3;
            result += 4;
            --v50;
          }
          while ( v50 );
        }
      }
      else
      {
        *(float *)a4 = v45;
        *(float *)(a4 + 4) = v46;
        *(float *)(a4 + 8) = v47;
        if ( a9 )
        {
          v30 = (char *)a8;
          v31 = &v33;
          v51 = a9;
          do
          {
            v32 = *(_DWORD *)v30;
            *(float *)v32 = *v31;
            v32 += 4;
            *(float *)v32 = v31[1];
            *(float *)(v32 + 4) = v31[2];
            *(_DWORD *)v30 += v13;
            *(_DWORD *)&v30[a7 - (char *)a8] += v13;
            v31 += 3;
            v30 += 4;
            --v51;
          }
          while ( v51 );
        }
        result = (char *)v52;
        qmemcpy(v54, v48, v52);
      }
      v54 += v13;
      v48 += v13;
      a4 += v13;
      a3 += v13;
      ++a11;
      if ( !--v38 )
        break;
      v23 = v36;
    }
  }
  return result;
}
// 42AEA2: using guessed type int __stdcall sub_42AEA2(_DWORD, _DWORD, _DWORD);
// 42AECC: using guessed type int __stdcall sub_42AECC(_DWORD, _DWORD, _DWORD);

//----- (00435F19) --------------------------------------------------------
int __stdcall sub_435F19(int a1, int a2, int a3, float a4, int a5)
{
  int result; // eax@1
  int v6; // edi@1
  double v7; // st7@1
  double v8; // st6@1
  float v9; // ST08_4@1
  float v10; // ST0C_4@1
  double v11; // st7@1
  double v12; // st6@1

  result = a5;
  *(_DWORD *)a5 = *(_DWORD *)a1;
  v6 = a5 + 4;
  *(_DWORD *)v6 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(v6 + 4) = *(_DWORD *)(a1 + 8);
  *(float *)result = *(float *)result - *(float *)a2;
  *(float *)(result + 4) = *(float *)(result + 4) - *(float *)(a2 + 4);
  v7 = *(float *)(a5 + 8) - *(float *)(a2 + 8);
  *(float *)(a5 + 8) = v7;
  v8 = v7 * *(float *)(a3 + 8) + *(float *)a3 * *(float *)result + *(float *)(result + 4) * *(float *)(a3 + 4);
  v9 = v8 * *(float *)a3;
  v10 = v8 * *(float *)(a3 + 4);
  *(float *)(a5 + 8) = v7 - v8 * *(float *)(a3 + 8);
  v11 = (*(float *)a5 - v9) * a4;
  *(float *)a5 = v11;
  v12 = (*(float *)(a5 + 4) - v10) * a4;
  *(float *)(a5 + 4) = v12;
  *(float *)(result + 8) = a4 * *(float *)(result + 8);
  *(float *)a5 = v11 + *(float *)a2;
  *(float *)(a5 + 4) = v12 + *(float *)(a2 + 4);
  *(float *)(a5 + 8) = *(float *)(a2 + 8) + *(float *)(a5 + 8);
  return result;
}

//----- (00435FB6) --------------------------------------------------------
int __stdcall sub_435FB6(int a1, int a2, unsigned int a3, float *a4, int a5, int a6, int a7, unsigned int a8)
{
  int v8; // ebx@1
  int result; // eax@1
  int v10; // eax@2
  double v11; // st6@2
  unsigned int v12; // edx@2
  double v13; // st5@2
  float *v14; // eax@2
  double v15; // st4@2
  double v16; // st3@2
  double v17; // st2@2
  double v18; // st1@2
  float *v19; // ecx@3
  double v20; // st0@3
  unsigned int v21; // edx@4
  float *v22; // eax@5
  int v23; // edx@5
  float *v24; // edi@8
  float v25; // [sp+14h] [bp-170h]@4
  float v26; // [sp+18h] [bp-16Ch]@4
  float v27; // [sp+1Ch] [bp-168h]@4
  float v28; // [sp+124h] [bp-60h]@2
  float v29; // [sp+128h] [bp-5Ch]@2
  float v30; // [sp+12Ch] [bp-58h]@2
  float v31; // [sp+130h] [bp-54h]@2
  float v32; // [sp+134h] [bp-50h]@2
  float v33; // [sp+138h] [bp-4Ch]@2
  float v34; // [sp+13Ch] [bp-48h]@2
  float v35; // [sp+140h] [bp-44h]@2
  float v36; // [sp+144h] [bp-40h]@2
  float v37; // [sp+148h] [bp-3Ch]@2
  float v38; // [sp+14Ch] [bp-38h]@1
  float v39; // [sp+150h] [bp-34h]@1
  float v40; // [sp+160h] [bp-24h]@1
  int v41; // [sp+164h] [bp-20h]@1
  float v42; // [sp+168h] [bp-1Ch]@1
  float v43; // [sp+16Ch] [bp-18h]@1
  int v44; // [sp+170h] [bp-14h]@1
  float v45; // [sp+174h] [bp-10h]@1
  float v46; // [sp+178h] [bp-Ch]@1
  int v47; // [sp+17Ch] [bp-8h]@1
  float v48; // [sp+180h] [bp-4h]@1
  float v49; // [sp+184h] [bp+0h]@1
  int v50; // [sp+188h] [bp+4h]@1
  float v51; // [sp+18Ch] [bp+8h]@1
  float v52; // [sp+190h] [bp+Ch]@1
  float v53; // [sp+194h] [bp+10h]@1
  float v54; // [sp+198h] [bp+14h]@1
  float v55; // [sp+19Ch] [bp+18h]@1
  int v56; // [sp+1A0h] [bp+1Ch]@1
  float v57; // [sp+1A4h] [bp+20h]@1
  float v58; // [sp+1A8h] [bp+24h]@1
  int v59; // [sp+1ACh] [bp+28h]@1
  float v60; // [sp+1B0h] [bp+2Ch]@1
  float v61; // [sp+1B4h] [bp+30h]@1
  int v62; // [sp+1B8h] [bp+34h]@1
  float v63; // [sp+1BCh] [bp+38h]@1
  float v64; // [sp+1C0h] [bp+3Ch]@1
  int v65; // [sp+1C4h] [bp+40h]@1
  float v66; // [sp+1C8h] [bp+44h]@1
  float v67; // [sp+1CCh] [bp+48h]@1
  int v68; // [sp+1D0h] [bp+4Ch]@1
  float v69; // [sp+1D4h] [bp+50h]@1
  float v70; // [sp+1D8h] [bp+54h]@1
  unsigned int v71; // [sp+1E4h] [bp+60h]@1
  float v72; // [sp+1F8h] [bp+74h]@2

  v8 = a6;
  v41 = *(int *)a5;
  v42 = *(float *)(a5 + 4);
  v43 = *(float *)(a5 + 8);
  v59 = *(int *)a6;
  v60 = *(float *)(a6 + 4);
  v61 = *(float *)(a6 + 8);
  v68 = *(int *)a7;
  v69 = *(float *)(a7 + 4);
  v70 = *(float *)(a7 + 8);
  sub_435F19((int)&v59, (int)&v41, a1, 0.33333334, (int)&v44);
  sub_435F19((int)&v68, (int)&v41, a1, 0.33333334, (int)&v47);
  sub_435F19((int)&v41, (int)&v59, a1 + 12, 0.33333334, (int)&v50);
  sub_435F19((int)&v41, (int)&v68, a1 + 24, 0.33333334, (int)&v56);
  sub_435F19((int)&v68, (int)&v59, a1 + 12, 0.33333334, (int)&v62);
  sub_435F19((int)&v59, (int)&v68, a1 + 24, 0.33333334, (int)&v65);
  v55 = v49 + v46;
  v53 = *(float *)&v50 + *(float *)&v44 + *(float *)&v47;
  v53 = *(float *)&v56 + v53;
  v54 = v57 + v51 + v48 + v45;
  v54 = v63 + v54;
  v55 = v64 + v58 + v52 + v55;
  v53 = *(float *)&v65 + *(float *)&v62 + v53;
  v54 = v66 + v54;
  v53 = v53 * 0.25;
  v54 = v54 * 0.25;
  v40 = v61 + v43;
  v38 = *(float *)&v68 + *(float *)&v59 + *(float *)&v41;
  v39 = v69 + v60 + v42;
  result = 0;
  v71 = 0;
  v40 = (v70 + v40) * 0.166666;
  v53 = v53 - v38 * 0.166666;
  v54 = v54 - v39 * 0.166666;
  v55 = (v67 + v55) * 0.25 - v40;
  if ( a3 )
  {
    do
    {
      v10 = 8 * result;
      v11 = *(float *)(v10 + a2);
      v12 = 0;
      v13 = *(float *)(v10 + a2 + 4);
      v14 = &v42;
      v15 = 1.0 - v11 - v13;
      v28 = v13 * v13 * v13;
      v72 = v15 * v13;
      v29 = v15 * v13 * v13 * 3.0;
      v30 = v13 * v13 * v11 * 3.0;
      v31 = v15 * v15 * v13 * 3.0;
      v32 = v72 * v11 * 6.0;
      v33 = v13 * v11 * v11 * 3.0;
      v34 = v15 * v15 * v15;
      v35 = v15 * v15 * v11 * 3.0;
      v36 = v15 * v11 * v11 * 3.0;
      v37 = v11 * v11 * v11;
      v16 = 0.0;
      v17 = 0.0;
      v18 = 0.0;
      do
      {
        v19 = &v28 + v12++;
        v16 = v16 + *(v14 - 1) * *v19;
        v20 = *v19 * *v14;
        v14 += 3;
        v17 = v17 + v20;
        v18 = v18 + *(v14 - 2) * *v19;
      }
      while ( v12 < 0xA );
      v21 = a8;
      v27 = v18;
      v26 = v17;
      v25 = v16;
      if ( a8 > 3 )
      {
        v22 = (float *)(v8 + 12);
        v23 = a8 - 3;
        do
        {
          *(float *)((char *)&v25 + (_DWORD)v22 - v8) = v11 * *(float *)((char *)v22 + a7 - v8)
                                                      + v13 * *(float *)((char *)v22 + a5 - v8)
                                                      + v15 * *v22;
          ++v22;
          --v23;
        }
        while ( v23 );
        v21 = a8;
      }
      v24 = a4;
      a4 += v21;
      qmemcpy(v24, &v25, 4 * v21);
      result = v71++ + 1;
    }
    while ( v71 < a3 );
  }
  return result;
}

//----- (004362F0) --------------------------------------------------------
signed int __fastcall sub_4362F0(int a1, int a2)
{
  int v2; // ecx@7
  signed int result; // eax@8
  int v4; // edx@13

  if ( *(_DWORD *)(a2 + 76)
    || *(_DWORD *)(a2 + 304)
    || *(_DWORD *)(a2 + 40) != 3
    || *(_DWORD *)(a2 + 36) != 3
    || *(_DWORD *)(a2 + 44) != 2
    || *(_DWORD *)(a2 + 120) != 3
    || (v2 = *(_DWORD *)(a2 + 220), *(_DWORD *)(v2 + 8) != 2)
    || (result = 1, *(_DWORD *)(v2 + 92) != 1)
    || *(_DWORD *)(v2 + 176) != 1
    || *(_DWORD *)(v2 + 12) > 2
    || *(_DWORD *)(v2 + 96) != 1
    || *(_DWORD *)(v2 + 180) != 1
    || (v4 = *(_DWORD *)(a2 + 320), *(_DWORD *)(v2 + 36) != v4)
    || *(_DWORD *)(v2 + 120) != v4
    || *(_DWORD *)(v2 + 204) != v4 )
  {
    result = 0;
  }
  return result;
}

//----- (00436370) --------------------------------------------------------
signed int __stdcall sub_436370(int a1)
{
  int v1; // esi@1
  int v2; // ecx@1
  int v3; // eax@2
  int v4; // eax@3
  unsigned int v5; // ecx@3
  int v6; // eax@4
  int v7; // ST08_4@4
  int v8; // eax@4
  int v9; // eax@6
  int v10; // ST08_4@6
  int v11; // eax@8
  int v12; // ST08_4@8
  int v13; // ecx@10
  signed int v14; // edi@11
  signed int i; // eax@12
  int v16; // ebx@17
  int v17; // edi@18
  int v18; // eax@19
  int v19; // edx@19
  signed int v20; // eax@25
  signed int result; // eax@27
  int v22; // [sp+Ch] [bp+4h]@11

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != 202 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 20;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  v4 = *(_DWORD *)(a1 + 48);
  v5 = *(_DWORD *)(a1 + 52);
  if ( 8 * v4 > v5 )
  {
    if ( 4 * v4 > v5 )
    {
      if ( 2 * v4 > v5 )
      {
        v8 = *(_DWORD *)(a1 + 32);
        *(_DWORD *)(a1 + 112) = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 320) = 8;
      }
      else
      {
        v11 = sub_4380F0(*(_DWORD *)(a1 + 28), 2);
        v12 = *(_DWORD *)(a1 + 32);
        *(_DWORD *)(a1 + 112) = v11;
        v8 = sub_4380F0(v12, 2);
        *(_DWORD *)(a1 + 320) = 4;
      }
    }
    else
    {
      v9 = sub_4380F0(*(_DWORD *)(a1 + 28), 4);
      v10 = *(_DWORD *)(a1 + 32);
      *(_DWORD *)(a1 + 112) = v9;
      v8 = sub_4380F0(v10, 4);
      *(_DWORD *)(a1 + 320) = 2;
    }
  }
  else
  {
    v6 = sub_4380F0(*(_DWORD *)(a1 + 28), 8);
    v7 = *(_DWORD *)(a1 + 32);
    *(_DWORD *)(a1 + 112) = v6;
    v8 = sub_4380F0(v7, 8);
    *(_DWORD *)(a1 + 320) = 1;
  }
  v13 = *(_DWORD *)(a1 + 220);
  *(_DWORD *)(a1 + 116) = v8;
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v14 = *(_DWORD *)(a1 + 320);
    v13 += 12;
    v22 = *(_DWORD *)(a1 + 36);
    do
    {
      for ( i = v14; i < 8; i *= 2 )
      {
        if ( 2 * i * *(_DWORD *)(v13 - 4) > v14 * *(_DWORD *)(v1 + 312) )
          break;
        if ( 2 * i * *(_DWORD *)v13 > v14 * *(_DWORD *)(v1 + 316) )
          break;
      }
      *(_DWORD *)(v13 + 24) = i;
      v13 += 84;
      --v22;
    }
    while ( v22 );
  }
  v16 = 0;
  if ( *(_DWORD *)(v1 + 36) > 0 )
  {
    v17 = *(_DWORD *)(v1 + 220) + 36;
    do
    {
      v18 = sub_4380F0(*(_DWORD *)(v1 + 28) * *(_DWORD *)v17 * *(_DWORD *)(v17 - 28), 8 * *(_DWORD *)(v1 + 312));
      v19 = *(_DWORD *)(v1 + 316);
      *(_DWORD *)(v17 + 4) = v18;
      *(_DWORD *)(v17 + 8) = sub_4380F0(*(_DWORD *)v17 * *(_DWORD *)(v1 + 32) * *(_DWORD *)(v17 - 24), 8 * v19);
      ++v16;
      v17 += 84;
    }
    while ( v16 < *(_DWORD *)(v1 + 36) );
  }
  switch ( *(_DWORD *)(v1 + 44) )
  {
    case 1:
      *(_DWORD *)(v1 + 120) = 1;
      break;
    case 2:
    case 3:
      *(_DWORD *)(v1 + 120) = 3;
      break;
    case 4:
    case 5:
      *(_DWORD *)(v1 + 120) = 4;
      break;
    default:
      v13 = *(_DWORD *)(v1 + 36);
      *(_DWORD *)(v1 + 120) = v13;
      break;
  }
  v20 = 1;
  if ( !*(_DWORD *)(v1 + 84) )
    v20 = *(_DWORD *)(v1 + 120);
  *(_DWORD *)(v1 + 124) = v20;
  result = sub_4362F0(v13, v1);
  if ( result )
    *(_DWORD *)(v1 + 128) = *(_DWORD *)(v1 + 316);
  else
    *(_DWORD *)(v1 + 128) = 1;
  return result;
}

//----- (00436580) --------------------------------------------------------
int __usercall sub_436580@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edx@1
  signed int v3; // eax@1
  const void *v4; // esi@3
  int v5; // edx@3
  int result; // eax@3

  v1 = a1;
  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1408) + 256;
  v3 = 0;
  *(_DWORD *)(v1 + 328) = v2;
  memset((void *)(v2 - 256), 0, 0x100u);
  do
  {
    *(_BYTE *)(v3 + v2) = v3;
    ++v3;
  }
  while ( v3 <= 255 );
  v4 = *(const void **)(v1 + 328);
  v5 = v2 + 128;
  memset((void *)(v5 + 128), 0xFFu, 0x180u);
  result = 0;
  memset((void *)(v5 + 512), 0, 0x180u);
  qmemcpy((void *)(v5 + 896), v4, 0x80u);
  return result;
}

//----- (00436600) --------------------------------------------------------
int __usercall sub_436600@<eax>(int a1@<esi>)
{
  int v1; // ebp@1
  int v2; // ecx@1
  int v3; // eax@1
  int v4; // eax@6
  int v5; // eax@11
  int v6; // eax@14
  int v7; // eax@25
  int v8; // eax@31
  int result; // eax@35
  int v10; // ecx@38
  int v11; // edx@40
  int v12; // edx@40

  v1 = *(_DWORD *)(a1 + 424);
  sub_436370(a1);
  sub_436580(a1);
  *(_DWORD *)(v1 + 12) = 0;
  *(_DWORD *)(v1 + 16) = sub_4362F0(v2, a1);
  v3 = *(_DWORD *)(a1 + 84);
  *(_DWORD *)(v1 + 20) = 0;
  *(_DWORD *)(v1 + 24) = 0;
  if ( !v3 || !*(_DWORD *)(a1 + 64) )
  {
    *(_DWORD *)(a1 + 100) = 0;
    *(_DWORD *)(a1 + 104) = 0;
    *(_DWORD *)(a1 + 108) = 0;
  }
  if ( v3 )
  {
    if ( *(_DWORD *)(a1 + 68) )
    {
      v4 = *(_DWORD *)a1;
      *(_DWORD *)(v4 + 20) = 47;
      (*(void (__stdcall **)(int))v4)(a1);
    }
    if ( *(_DWORD *)(a1 + 120) == 3 )
    {
      if ( *(_DWORD *)(a1 + 136) )
      {
        *(_DWORD *)(a1 + 104) = 1;
        goto LABEL_10;
      }
      if ( *(_DWORD *)(a1 + 92) )
      {
        *(_DWORD *)(a1 + 108) = 1;
        goto LABEL_10;
      }
    }
    else
    {
      *(_DWORD *)(a1 + 104) = 0;
      *(_DWORD *)(a1 + 108) = 0;
      *(_DWORD *)(a1 + 136) = 0;
    }
    *(_DWORD *)(a1 + 100) = 1;
LABEL_10:
    if ( *(_DWORD *)(a1 + 100) )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 48;
      (*(void (__stdcall **)(int))v5)(a1);
    }
    if ( *(_DWORD *)(a1 + 108) || *(_DWORD *)(a1 + 104) )
    {
      v6 = *(_DWORD *)a1;
      *(_DWORD *)(v6 + 20) = 48;
      (*(void (__stdcall **)(int))v6)(a1);
    }
  }
  if ( !*(_DWORD *)(a1 + 68) )
  {
    if ( *(_DWORD *)(v1 + 16) )
    {
      sub_440290(a1);
    }
    else
    {
      sub_43F5F0(a1);
      sub_43DD80(a1);
    }
    sub_43CE90(a1, *(_DWORD *)(a1 + 108));
  }
  sub_43CD10(a1);
  if ( *(_DWORD *)(a1 + 228) )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 1;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  else if ( *(_DWORD *)(a1 + 224) )
  {
    sub_43C8A0(a1);
  }
  else
  {
    sub_43BC60(a1);
  }
  v8 = *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) || *(_DWORD *)(a1 + 64);
  sub_43B090(a1, v8);
  if ( !*(_DWORD *)(a1 + 68) )
    sub_43A0D0(a1, 0);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 4) + 24))(a1);
  (*(void (__stdcall **)(int))(*(_DWORD *)(a1 + 440) + 8))(a1);
  result = *(_DWORD *)(a1 + 8);
  if ( result && !*(_DWORD *)(a1 + 64) && *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) )
  {
    v10 = *(_DWORD *)(a1 + 36);
    if ( *(_DWORD *)(a1 + 224) )
      v10 = 3 * v10 + 2;
    v11 = v10 * *(_DWORD *)(a1 + 324);
    *(_DWORD *)(result + 4) = 0;
    *(_DWORD *)(result + 8) = v11;
    v12 = *(_DWORD *)(a1 + 108);
    *(_DWORD *)(result + 12) = 0;
    *(_DWORD *)(result + 16) = (v12 != 0) + 2;
    ++*(_DWORD *)(v1 + 12);
  }
  return result;
}

//----- (00436900) --------------------------------------------------------
int __stdcall sub_436900(int a1)
{
  int v1; // eax@1

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 28);
  *(_DWORD *)(a1 + 424) = v1;
  *(_DWORD *)v1 = sub_4367A0;
  *(_DWORD *)(v1 + 4) = sub_4368D0;
  *(_DWORD *)(v1 + 8) = 0;
  return sub_436600(a1);
}
// 4367A0: using guessed type int __stdcall sub_4367A0(int);
// 4368D0: using guessed type int __stdcall sub_4368D0(int);

//----- (00436940) --------------------------------------------------------
int __usercall sub_436940@<eax>(int a1@<esi>)
{
  int v1; // eax@3
  int v2; // ecx@4
  int v3; // eax@5
  signed int v4; // ecx@6
  int v5; // eax@7
  int v6; // ecx@8
  int v7; // ebx@8
  int *v8; // edi@9
  signed int v9; // eax@10
  int v10; // eax@14
  int v11; // eax@15
  int v12; // ecx@17
  int v13; // eax@17
  int v14; // ecx@20
  int v15; // eax@20
  int v16; // ebx@20
  int v17; // edi@21
  signed int v18; // ST04_4@22
  int v19; // ST00_4@22
  int v20; // eax@22
  int v21; // edx@22
  int v22; // eax@22
  signed int v23; // ST04_4@22
  int v24; // ST00_4@22
  int v25; // eax@22
  int v26; // ecx@22
  int v27; // eax@22
  int v28; // eax@23
  int v29; // ecx@23
  int result; // eax@24

  if ( *(_DWORD *)(a1 + 32) > 65500 || *(_DWORD *)(a1 + 28) > 65500 )
  {
    v1 = *(_DWORD *)a1;
    *(_DWORD *)(v1 + 20) = 41;
    *(_DWORD *)(v1 + 24) = 65500;
    (*(void (__stdcall **)(int))v1)(a1);
  }
  v2 = *(_DWORD *)(a1 + 216);
  if ( v2 != 8 )
  {
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 15;
    *(_DWORD *)(v3 + 24) = v2;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  v4 = *(_DWORD *)(a1 + 36);
  if ( v4 > 10 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 26;
    *(_DWORD *)(v5 + 24) = v4;
    *(_DWORD *)(v5 + 28) = 10;
    (*(void (__stdcall **)(int))v5)(a1);
  }
  v6 = *(_DWORD *)(a1 + 36);
  v7 = 0;
  *(_DWORD *)(a1 + 312) = 1;
  *(_DWORD *)(a1 + 316) = 1;
  if ( v6 > 0 )
  {
    v8 = (int *)(*(_DWORD *)(a1 + 220) + 12);
    do
    {
      v9 = *(v8 - 1);
      if ( v9 <= 0 || v9 > 4 || *v8 <= 0 || *v8 > 4 )
      {
        v10 = *(_DWORD *)a1;
        *(_DWORD *)(v10 + 20) = 18;
        (*(void (__stdcall **)(int))v10)(a1);
      }
      v11 = *(_DWORD *)(a1 + 312);
      if ( v11 <= *(v8 - 1) )
        v11 = *(v8 - 1);
      v12 = *v8;
      *(_DWORD *)(a1 + 312) = v11;
      v13 = *(_DWORD *)(a1 + 316);
      if ( v13 <= v12 )
        v13 = v12;
      *(_DWORD *)(a1 + 316) = v13;
      ++v7;
      v8 += 21;
    }
    while ( v7 < *(_DWORD *)(a1 + 36) );
  }
  v14 = *(_DWORD *)(a1 + 36);
  v15 = *(_DWORD *)(a1 + 220);
  v16 = 0;
  *(_DWORD *)(a1 + 320) = 8;
  if ( v14 > 0 )
  {
    v17 = v15 + 28;
    do
    {
      v18 = 8 * *(_DWORD *)(a1 + 312);
      v19 = *(_DWORD *)(a1 + 28) * *(_DWORD *)(v17 - 20);
      *(_DWORD *)(v17 + 8) = 8;
      v20 = sub_4380F0(v19, v18);
      v21 = *(_DWORD *)(a1 + 316);
      *(_DWORD *)v17 = v20;
      v22 = sub_4380F0(*(_DWORD *)(a1 + 32) * *(_DWORD *)(v17 - 16), 8 * v21);
      v23 = *(_DWORD *)(a1 + 312);
      v24 = *(_DWORD *)(a1 + 28) * *(_DWORD *)(v17 - 20);
      *(_DWORD *)(v17 + 4) = v22;
      v25 = sub_4380F0(v24, v23);
      v26 = *(_DWORD *)(a1 + 32) * *(_DWORD *)(v17 - 16);
      *(_DWORD *)(v17 + 12) = v25;
      *(_DWORD *)(v17 + 16) = sub_4380F0(v26, *(_DWORD *)(a1 + 316));
      v27 = *(_DWORD *)(a1 + 36);
      *(_DWORD *)(v17 + 20) = 1;
      *(_DWORD *)(v17 + 48) = 0;
      ++v16;
      v17 += 84;
    }
    while ( v16 < v27 );
  }
  v28 = sub_4380F0(*(_DWORD *)(a1 + 32), 8 * *(_DWORD *)(a1 + 316));
  v29 = *(_DWORD *)(a1 + 332);
  *(_DWORD *)(a1 + 324) = v28;
  if ( v29 < *(_DWORD *)(a1 + 36) || (result = *(_DWORD *)(a1 + 224)) != 0 )
  {
    result = *(_DWORD *)(a1 + 440);
    *(_DWORD *)(result + 16) = 1;
  }
  else
  {
    *(_DWORD *)(*(_DWORD *)(a1 + 440) + 16) = 0;
  }
  return result;
}

//----- (00436B20) --------------------------------------------------------
int __usercall sub_436B20@<eax>(int a1@<esi>)
{
  signed int v1; // ecx@1
  int v2; // ecx@2
  int v3; // edx@2
  unsigned int v4; // edi@2
  unsigned int v5; // eax@2
  int result; // eax@2
  int v7; // edx@2
  unsigned __int64 v8; // rtt@2
  int v9; // eax@7
  int v10; // eax@8
  signed int v11; // edx@8
  bool v12; // zf@8
  bool v13; // sf@8
  int v14; // ecx@10
  unsigned int v15; // edi@10
  unsigned int v16; // ebp@10
  int v17; // edx@10
  int v18; // ebx@10
  unsigned int v19; // eax@12
  int v20; // edx@12
  int v21; // eax@15
  int v22; // ecx@18
  unsigned __int8 v23; // of@18
  int v24; // [sp+8h] [bp-8h]@8
  int v25; // [sp+Ch] [bp-4h]@9

  v1 = *(_DWORD *)(a1 + 332);
  if ( v1 == 1 )
  {
    v2 = *(_DWORD *)(a1 + 336);
    v3 = *(_DWORD *)(v2 + 36);
    v4 = *(_DWORD *)(v2 + 12);
    *(_DWORD *)(a1 + 352) = *(_DWORD *)(v2 + 28);
    v5 = *(_DWORD *)(v2 + 32);
    *(_DWORD *)(v2 + 64) = v3;
    *(_DWORD *)(a1 + 356) = v5;
    v8 = v5;
    result = v5 / v4;
    v7 = v8 % v4;
    *(_DWORD *)(v2 + 52) = 1;
    *(_DWORD *)(v2 + 56) = 1;
    *(_DWORD *)(v2 + 60) = 1;
    *(_DWORD *)(v2 + 68) = 1;
    if ( !v7 )
      v7 = v4;
    *(_DWORD *)(a1 + 360) = 1;
    *(_DWORD *)(v2 + 72) = v7;
    *(_DWORD *)(a1 + 364) = 0;
  }
  else
  {
    if ( v1 <= 0 || v1 > 4 )
    {
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 20) = 26;
      *(_DWORD *)(v9 + 24) = v1;
      *(_DWORD *)(v9 + 28) = 4;
      (*(void (__stdcall **)(int))v9)(a1);
    }
    v10 = sub_4380F0(*(_DWORD *)(a1 + 28), 8 * *(_DWORD *)(a1 + 312));
    v11 = 8 * *(_DWORD *)(a1 + 316);
    *(_DWORD *)(a1 + 352) = v10;
    result = sub_4380F0(*(_DWORD *)(a1 + 32), v11);
    *(_DWORD *)(a1 + 356) = result;
    v12 = *(_DWORD *)(a1 + 332) == 0;
    v13 = *(_DWORD *)(a1 + 332) < 0;
    *(_DWORD *)(a1 + 360) = 0;
    v24 = 0;
    if ( !v13 && !v12 )
    {
      v25 = a1 + 336;
      do
      {
        v14 = *(_DWORD *)v25;
        v15 = *(_DWORD *)(*(_DWORD *)v25 + 8);
        v16 = *(_DWORD *)(*(_DWORD *)v25 + 12);
        *(_DWORD *)(v14 + 64) = v15 * *(_DWORD *)(*(_DWORD *)v25 + 36);
        v17 = *(_DWORD *)(v14 + 28) % v15;
        v18 = v15 * v16;
        *(_DWORD *)(v14 + 52) = v15;
        *(_DWORD *)(v14 + 56) = v16;
        *(_DWORD *)(v14 + 60) = v15 * v16;
        if ( !v17 )
          v17 = v15;
        v19 = *(_DWORD *)(v14 + 32);
        *(_DWORD *)(v14 + 68) = v17;
        v20 = v19 % v16;
        if ( !(v19 % v16) )
          v20 = v16;
        *(_DWORD *)(v14 + 72) = v20;
        if ( v18 + *(_DWORD *)(a1 + 360) > 10 )
        {
          v21 = *(_DWORD *)a1;
          *(_DWORD *)(v21 + 20) = 13;
          (*(void (__stdcall **)(int))v21)(a1);
        }
        if ( v18 > 0 )
        {
          do
          {
            *(_DWORD *)(a1 + 4 * *(_DWORD *)(a1 + 360) + 364) = v24;
            --v18;
            ++*(_DWORD *)(a1 + 360);
          }
          while ( v18 );
        }
        v22 = *(_DWORD *)(a1 + 332);
        result = v24 + 1;
        v23 = __OFSUB__(v24 + 1, v22);
        v13 = v24++ + 1 - v22 < 0;
        v25 += 4;
      }
      while ( v13 ^ v23 );
    }
  }
  return result;
}

//----- (00436CB0) --------------------------------------------------------
int __usercall sub_436CB0@<eax>(int a1@<ebx>)
{
  int result; // eax@1
  int v2; // ebp@3
  signed int v3; // esi@4
  int v4; // eax@7
  void *v5; // eax@8
  int v6; // ecx@9
  bool v7; // sf@9
  unsigned __int8 v8; // of@9
  int v9; // [sp+10h] [bp-8h]@2
  int v10; // [sp+14h] [bp-4h]@1

  result = *(_DWORD *)(a1 + 332);
  v10 = 0;
  if ( result > 0 )
  {
    v9 = a1 + 336;
    do
    {
      v2 = *(_DWORD *)v9;
      if ( !*(_DWORD *)(*(_DWORD *)v9 + 76) )
      {
        v3 = *(_DWORD *)(v2 + 16);
        if ( v3 < 0 || v3 >= 4 || !*(_DWORD *)(a1 + 4 * v3 + 168) )
        {
          v4 = *(_DWORD *)a1;
          *(_DWORD *)(v4 + 20) = 52;
          *(_DWORD *)(v4 + 24) = v3;
          (*(void (__stdcall **)(int))v4)(a1);
        }
        v5 = (void *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 132);
        qmemcpy(v5, *(const void **)(a1 + 4 * v3 + 168), 0x84u);
        *(_DWORD *)(v2 + 76) = v5;
      }
      v6 = *(_DWORD *)(a1 + 332);
      result = v10 + 1;
      v8 = __OFSUB__(v10 + 1, v6);
      v7 = v10++ + 1 - v6 < 0;
      v9 += 4;
    }
    while ( v7 ^ v8 );
  }
  return result;
}

//----- (00436D50) --------------------------------------------------------
_DWORD *__stdcall sub_436D50(int a1)
{
  int v1; // ebx@1
  _DWORD *result; // eax@1

  sub_436B20(a1);
  v1 = a1;
  sub_436CB0(a1);
  (**(void (__stdcall ***)(_DWORD))(v1 + 448))(v1);
  (**(void (__stdcall ***)(_DWORD))(v1 + 432))(v1);
  result = *(_DWORD **)(a1 + 440);
  *result = *(_DWORD *)(*(_DWORD *)(a1 + 432) + 4);
  return result;
}

//----- (00436D90) --------------------------------------------------------
signed int __stdcall sub_436D90(int a1)
{
  int v1; // edi@1
  signed int result; // eax@2
  int v3; // eax@3
  int v4; // ebx@3
  int v5; // eax@3
  int v6; // eax@5
  int v7; // eax@7
  int v8; // eax@8
  int v9; // eax@13

  v1 = *(_DWORD *)(a1 + 440);
  if ( *(_DWORD *)(v1 + 20) )
    return 2;
  v3 = (*(int (__stdcall **)(int))(*(_DWORD *)(a1 + 444) + 4))(a1);
  v4 = v3;
  v5 = v3 - 1;
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      v6 = *(_DWORD *)(v1 + 24);
      *(_DWORD *)(v1 + 20) = 1;
      if ( v6 )
      {
        if ( *(_DWORD *)(*(_DWORD *)(a1 + 444) + 16) )
        {
          v7 = *(_DWORD *)a1;
          *(_DWORD *)(v7 + 20) = 59;
          (*(void (__stdcall **)(int))v7)(a1);
          return v4;
        }
      }
      else
      {
        v8 = *(_DWORD *)(a1 + 148);
        if ( *(_DWORD *)(a1 + 156) > v8 )
        {
          *(_DWORD *)(a1 + 156) = v8;
          return v4;
        }
      }
    }
  }
  else
  {
    if ( *(_DWORD *)(v1 + 24) )
    {
      sub_436940(a1);
      result = v4;
      *(_DWORD *)(v1 + 24) = 0;
      return result;
    }
    if ( !*(_DWORD *)(v1 + 16) )
    {
      v9 = *(_DWORD *)a1;
      *(_DWORD *)(v9 + 20) = 35;
      (*(void (__stdcall **)(int))v9)(a1);
    }
    sub_436D50(a1);
  }
  return v4;
}

//----- (00436EC0) --------------------------------------------------------
int __stdcall sub_436EC0(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 28);
  *(_DWORD *)(a1 + 440) = result;
  *(_DWORD *)result = sub_436D90;
  *(_DWORD *)(result + 4) = sub_436E50;
  *(_DWORD *)(result + 8) = sub_436D50;
  *(_DWORD *)(result + 12) = sub_436EA0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 1;
  return result;
}
// 436E50: using guessed type int __stdcall sub_436E50(int);
// 436EA0: using guessed type int __stdcall sub_436EA0(int);

//----- (00436F10) --------------------------------------------------------
int __stdcall sub_436F10(int a1, signed int a2, unsigned int a3)
{
  unsigned int v3; // ebx@1
  int *v4; // edi@1
  int v5; // eax@2
  int v6; // eax@3
  int v7; // eax@7
  char *i; // eax@8
  _DWORD *v9; // ebp@8
  int v10; // ebx@11
  unsigned int v11; // esi@12
  int v12; // eax@18
  int v13; // ecx@23
  int v15; // [sp+14h] [bp+4h]@1

  v3 = a3;
  v4 = (int *)a1;
  v15 = *(_DWORD *)(a1 + 4);
  if ( a3 > 0x3B9AC9F0 )
  {
    v5 = *v4;
    *(_DWORD *)(v5 + 20) = 54;
    *(_DWORD *)(v5 + 24) = 1;
    (*(void (__stdcall **)(int *))v5)(v4);
  }
  v6 = a3 & 7;
  if ( a3 & 7 )
  {
    v3 = 8 - v6 + a3;
    a3 += 8 - v6;
  }
  if ( a2 < 0 || a2 >= 2 )
  {
    v7 = *v4;
    *(_DWORD *)(v7 + 20) = 14;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int *))v7)(v4);
  }
  i = *(char **)(v15 + 4 * a2 + 52);
  v9 = 0;
  if ( i )
  {
    while ( *((_DWORD *)i + 2) < v3 )
    {
      v9 = i;
      i = *(char **)i;
      if ( !i )
        goto LABEL_11;
    }
  }
  else
  {
LABEL_11:
    v10 = v3 + 16;
    if ( v9 )
      v11 = dword_4906AC[a2];
    else
      v11 = dword_4906A4[a2];
    if ( v11 > 1000000000 - v10 )
      v11 = 1000000000 - v10;
    for ( i = sub_440310((int)v4, v11 + v10); !i; i = sub_440310((int)v4, v11 + v10) )
    {
      v11 >>= 1;
      if ( v11 < 0x32 )
      {
        v12 = *v4;
        *(_DWORD *)(v12 + 20) = 54;
        *(_DWORD *)(v12 + 24) = 2;
        (*(void (__stdcall **)(int *))v12)(v4);
      }
    }
    *(_DWORD *)(v15 + 76) += v11 + v10;
    *(_DWORD *)i = 0;
    *((_DWORD *)i + 1) = 0;
    *((_DWORD *)i + 2) = a3 + v11;
    v3 = a3;
    if ( v9 )
      *v9 = i;
    else
      *(_DWORD *)(v15 + 4 * a2 + 52) = i;
  }
  v13 = *((_DWORD *)i + 1);
  *((_DWORD *)i + 1) = v3 + v13;
  *((_DWORD *)i + 2) -= v3;
  return (int)&i[v13 + 16];
}
// 4906A4: using guessed type int dword_4906A4[];
// 4906AC: using guessed type int dword_4906AC[];

//----- (00437040) --------------------------------------------------------
int __stdcall sub_437040(int a1, signed int a2, unsigned int a3)
{
  int v3; // ebx@1
  int v4; // ebp@1
  int v5; // eax@2
  int v6; // eax@7
  char *v7; // esi@8
  int v8; // eax@9
  int v9; // ecx@10

  v3 = a3;
  v4 = *(_DWORD *)(a1 + 4);
  if ( a3 > 0x3B9AC9F0 )
  {
    v5 = *(_DWORD *)a1;
    *(_DWORD *)(v5 + 20) = 54;
    *(_DWORD *)(v5 + 24) = 3;
    (*(void (__stdcall **)(int))v5)(a1);
  }
  if ( a3 & 7 )
    v3 = 8 - (a3 & 7) + a3;
  if ( a2 < 0 || a2 >= 2 )
  {
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 14;
    *(_DWORD *)(v6 + 24) = a2;
    (*(void (__stdcall **)(int))v6)(a1);
  }
  v7 = sub_440310(a1, v3 + 16);
  if ( !v7 )
  {
    v8 = *(_DWORD *)a1;
    *(_DWORD *)(v8 + 20) = 54;
    *(_DWORD *)(v8 + 24) = 4;
    (*(void (__stdcall **)(int))v8)(a1);
  }
  *(_DWORD *)(v4 + 76) += v3 + 16;
  v9 = *(_DWORD *)(v4 + 4 * a2 + 60);
  *(_DWORD *)(v4 + 4 * a2 + 60) = v7;
  *((_DWORD *)v7 + 1) = v3;
  *(_DWORD *)v7 = v9;
  *((_DWORD *)v7 + 2) = 0;
  return (int)(v7 + 16);
}

//----- (004370F0) --------------------------------------------------------
int __thiscall sub_4370F0(void *this, int a2, signed int a3, unsigned int a4, unsigned int a5)
{
  int v5; // ebp@1
  unsigned int v6; // edi@1
  int v7; // eax@2
  int v8; // ebp@5
  unsigned int v9; // esi@5
  int v10; // eax@8
  unsigned int v11; // ecx@9

  v5 = *(_DWORD *)(a2 + 4);
  v6 = 0x3B9AC9F0 / a4;
  if ( (signed int)(0x3B9AC9F0 / a4) <= 0 )
  {
    v7 = *(_DWORD *)a2;
    *(_DWORD *)(v7 + 20) = 70;
    (*(void (__fastcall **)(void *, unsigned int, int))v7)(this, 0x3B9AC9F0 % a4, a2);
  }
  if ( (signed int)v6 >= (signed int)a5 )
    v6 = a5;
  *(_DWORD *)(v5 + 80) = v6;
  v8 = sub_436F10(a2, a3, 4 * a5);
  v9 = 0;
  if ( a5 )
  {
    do
    {
      if ( v6 >= a5 - v9 )
        v6 = a5 - v9;
      v10 = sub_437040(a2, a3, a4 * v6);
      if ( v6 )
      {
        v11 = v6;
        do
        {
          *(_DWORD *)(v8 + 4 * v9++) = v10;
          v10 += a4;
          --v11;
        }
        while ( v11 );
      }
    }
    while ( v9 < a5 );
  }
  return v8;
}

//----- (00437190) --------------------------------------------------------
int __thiscall sub_437190(void *this, int a2, signed int a3, int a4, signed int a5)
{
  int v5; // ebp@1
  signed int v6; // edi@1
  int v7; // eax@2
  int v8; // ebp@5
  unsigned int v9; // esi@5
  int v10; // eax@8
  signed int v11; // ecx@9

  v5 = *(_DWORD *)(a2 + 4);
  v6 = 0x3B9AC9F0u / (a4 << 7);
  if ( v6 <= 0 )
  {
    v7 = *(_DWORD *)a2;
    *(_DWORD *)(v7 + 20) = 70;
    (*(void (__fastcall **)(void *, unsigned int, int))v7)(this, 0x3B9AC9F0u % (a4 << 7), a2);
  }
  if ( v6 >= a5 )
    v6 = a5;
  *(_DWORD *)(v5 + 80) = v6;
  v8 = sub_436F10(a2, a3, 4 * a5);
  v9 = 0;
  if ( a5 )
  {
    do
    {
      if ( v6 >= a5 - v9 )
        v6 = a5 - v9;
      v10 = sub_437040(a2, a3, a4 * v6 << 7);
      if ( v6 )
      {
        v11 = v6;
        do
        {
          *(_DWORD *)(v8 + 4 * v9++) = v10;
          v10 += a4 << 7;
          --v11;
        }
        while ( v11 );
      }
    }
    while ( v9 < a5 );
  }
  return v8;
}

//----- (00437230) --------------------------------------------------------
int __stdcall sub_437230(int a1, signed int a2, int a3, int a4, int a5, int a6)
{
  int v6; // edi@1
  int v7; // eax@2
  int result; // eax@3
  int v9; // ecx@3

  v6 = *(_DWORD *)(a1 + 4);
  if ( a2 != 1 )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 14;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  result = sub_436F10(a1, a2, 0x248u);
  *(_DWORD *)(result + 4) = a5;
  *(_DWORD *)(result + 12) = a6;
  v9 = *(_DWORD *)(v6 + 68);
  *(_DWORD *)(v6 + 68) = result;
  *(_DWORD *)(result + 8) = a4;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 32) = a3;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = v9;
  return result;
}

//----- (004372A0) --------------------------------------------------------
int __stdcall sub_4372A0(int a1, signed int a2, int a3, int a4, int a5, int a6)
{
  int v6; // edi@1
  int v7; // eax@2
  int result; // eax@3
  int v9; // ecx@3

  v6 = *(_DWORD *)(a1 + 4);
  if ( a2 != 1 )
  {
    v7 = *(_DWORD *)a1;
    *(_DWORD *)(v7 + 20) = 14;
    *(_DWORD *)(v7 + 24) = a2;
    (*(void (__stdcall **)(int))v7)(a1);
  }
  result = sub_436F10(a1, a2, 0x248u);
  *(_DWORD *)(result + 4) = a5;
  *(_DWORD *)(result + 12) = a6;
  v9 = *(_DWORD *)(v6 + 72);
  *(_DWORD *)(v6 + 72) = result;
  *(_DWORD *)(result + 8) = a4;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 32) = a3;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = v9;
  return result;
}

//----- (00437310) --------------------------------------------------------
int __stdcall sub_437310(int a1)
{
  _DWORD *v1; // ebp@1
  int v2; // edx@1
  int v3; // eax@1
  int v4; // esi@1
  int v5; // edi@1
  int v6; // ecx@3
  int result; // eax@5
  int v8; // ecx@7
  signed int v9; // ebx@11
  int j; // esi@14
  int v11; // edi@16
  unsigned int v12; // ecx@16
  int v13; // ST0C_4@18
  int k; // esi@21
  int v15; // edi@23
  unsigned int v16; // ecx@23
  int v17; // eax@25
  int v18; // eax@26
  int v19; // edx@26
  int i; // [sp+14h] [bp+4h]@1

  v1 = (_DWORD *)a1;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = *(_DWORD *)(v2 + 68);
  v4 = 0;
  v5 = 0;
  for ( i = *(_DWORD *)(a1 + 4); v3; v3 = *(_DWORD *)(v3 + 44) )
  {
    if ( !*(_DWORD *)v3 )
    {
      v6 = *(_DWORD *)(v3 + 8);
      v4 += v6 * *(_DWORD *)(v3 + 12);
      v5 += v6 * *(_DWORD *)(v3 + 4);
    }
  }
  for ( result = *(_DWORD *)(v2 + 72); result; result = *(_DWORD *)(result + 44) )
  {
    if ( !*(_DWORD *)result )
    {
      v8 = *(_DWORD *)(result + 8);
      v4 += v8 * *(_DWORD *)(result + 12) << 7;
      v5 += v8 * *(_DWORD *)(result + 4) << 7;
    }
  }
  if ( v4 > 0 )
  {
    result = sub_440360((int)v1, v4, v5, *(_DWORD *)(v2 + 76));
    if ( result < v5 )
    {
      result /= v4;
      v9 = result;
      if ( result <= 0 )
        v9 = 1;
    }
    else
    {
      v9 = 1000000000;
    }
    for ( j = *(_DWORD *)(i + 68); j; j = *(_DWORD *)(j + 44) )
    {
      if ( !*(_DWORD *)j )
      {
        v11 = *(_DWORD *)(j + 4);
        v12 = *(_DWORD *)(j + 12);
        if ( (signed int)((v11 - 1) / v12 + 1) > v9 )
        {
          v13 = v11 * *(_DWORD *)(j + 8);
          *(_DWORD *)(j + 16) = v9 * v12;
          sub_440460(v1, j + 48, v13);
          *(_DWORD *)(j + 40) = 1;
        }
        else
        {
          *(_DWORD *)(j + 16) = v11;
        }
        *(_DWORD *)j = sub_4370F0(*(void **)(j + 16), (int)v1, 1, *(_DWORD *)(j + 8), *(_DWORD *)(j + 16));
        result = 0;
        *(_DWORD *)(j + 20) = *(_DWORD *)(i + 80);
        *(_DWORD *)(j + 24) = 0;
        *(_DWORD *)(j + 28) = 0;
        *(_DWORD *)(j + 36) = 0;
      }
    }
    for ( k = *(_DWORD *)(i + 72); k; k = *(_DWORD *)(k + 44) )
    {
      if ( !*(_DWORD *)k )
      {
        v15 = *(_DWORD *)(k + 4);
        v16 = *(_DWORD *)(k + 12);
        if ( (signed int)((v15 - 1) / v16 + 1) > v9 )
        {
          v17 = v15 * *(_DWORD *)(k + 8) << 7;
          *(_DWORD *)(k + 16) = v9 * v16;
          sub_440460(v1, k + 48, v17);
          *(_DWORD *)(k + 40) = 1;
        }
        else
        {
          *(_DWORD *)(k + 16) = v15;
        }
        v18 = sub_437190((void *)v16, (int)v1, 1, *(_DWORD *)(k + 8), *(_DWORD *)(k + 16));
        v19 = *(_DWORD *)(i + 80);
        *(_DWORD *)k = v18;
        result = 0;
        *(_DWORD *)(k + 20) = v19;
        *(_DWORD *)(k + 24) = 0;
        *(_DWORD *)(k + 28) = 0;
        *(_DWORD *)(k + 36) = 0;
      }
    }
  }
  return result;
}

//----- (004374A0) --------------------------------------------------------
int __userpurge sub_4374A0@<eax>(int a1@<esi>, int a2, int a3)
{
  int result; // eax@1
  int v4; // ebx@1
  int v5; // ebp@1
  int v6; // edi@1
  int v7; // ecx@6
  int v8; // ebx@11
  int v9; // [sp+Ch] [bp-4h]@1

  result = *(_DWORD *)(a1 + 16);
  v4 = *(_DWORD *)(a1 + 8);
  v5 = v4 * *(_DWORD *)(a1 + 24);
  v6 = 0;
  v9 = *(_DWORD *)(a1 + 8);
  if ( result > 0 )
  {
    while ( 1 )
    {
      result -= v6;
      if ( *(_DWORD *)(a1 + 20) < result )
        result = *(_DWORD *)(a1 + 20);
      v7 = v6 + *(_DWORD *)(a1 + 24);
      if ( result >= *(_DWORD *)(a1 + 28) - v7 )
        result = *(_DWORD *)(a1 + 28) - v7;
      if ( result >= *(_DWORD *)(a1 + 4) - v7 )
        result = *(_DWORD *)(a1 + 4) - v7;
      if ( result <= 0 )
        break;
      v8 = v4 * result;
      if ( a3 )
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 52))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      else
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 48))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      result = *(_DWORD *)(a1 + 16);
      v6 += *(_DWORD *)(a1 + 20);
      v5 += v8;
      if ( v6 >= result )
        break;
      v4 = v9;
    }
  }
  return result;
}

//----- (00437540) --------------------------------------------------------
int __userpurge sub_437540@<eax>(int a1@<esi>, int a2, int a3)
{
  int result; // eax@1
  int v4; // ebx@1
  int v5; // ebp@1
  int v6; // edi@1
  int v7; // ecx@6
  int v8; // ebx@11
  int v9; // [sp+Ch] [bp-4h]@1

  result = *(_DWORD *)(a1 + 16);
  v4 = *(_DWORD *)(a1 + 8) << 7;
  v5 = v4 * *(_DWORD *)(a1 + 24);
  v6 = 0;
  v9 = *(_DWORD *)(a1 + 8) << 7;
  if ( result > 0 )
  {
    while ( 1 )
    {
      result -= v6;
      if ( *(_DWORD *)(a1 + 20) < result )
        result = *(_DWORD *)(a1 + 20);
      v7 = v6 + *(_DWORD *)(a1 + 24);
      if ( result >= *(_DWORD *)(a1 + 28) - v7 )
        result = *(_DWORD *)(a1 + 28) - v7;
      if ( result >= *(_DWORD *)(a1 + 4) - v7 )
        result = *(_DWORD *)(a1 + 4) - v7;
      if ( result <= 0 )
        break;
      v8 = v4 * result;
      if ( a3 )
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 52))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      else
        (*(void (__stdcall **)(int, int, _DWORD, int, int))(a1 + 48))(
          a2,
          a1 + 48,
          *(_DWORD *)(*(_DWORD *)a1 + 4 * v6),
          v5,
          v8);
      result = *(_DWORD *)(a1 + 16);
      v6 += *(_DWORD *)(a1 + 20);
      v5 += v8;
      if ( v6 >= result )
        break;
      v4 = v9;
    }
  }
  return result;
}

//----- (00437820) --------------------------------------------------------
int __stdcall sub_437820(int a1, signed int a2)
{
  int v2; // esi@1
  signed int v3; // edi@1
  int v4; // eax@3
  int i; // edi@5
  int v6; // edi@9
  int v7; // eax@14
  int v8; // edi@15
  int v9; // ebx@15
  int result; // eax@17
  int v11; // edi@18
  int v12; // ebx@18

  v2 = *(_DWORD *)(a1 + 4);
  v3 = a2;
  if ( a2 < 0 || a2 >= 2 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 14;
    *(_DWORD *)(v4 + 24) = a2;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  if ( a2 == 1 )
  {
    for ( i = *(_DWORD *)(v2 + 68); i; i = *(_DWORD *)(i + 44) )
    {
      if ( *(_DWORD *)(i + 40) )
      {
        *(_DWORD *)(i + 40) = 0;
        (*(void (__stdcall **)(int, int))(i + 56))(a1, i + 48);
      }
    }
    v6 = *(_DWORD *)(v2 + 72);
    for ( *(_DWORD *)(v2 + 68) = 0; v6; v6 = *(_DWORD *)(v6 + 44) )
    {
      if ( *(_DWORD *)(v6 + 40) )
      {
        *(_DWORD *)(v6 + 40) = 0;
        (*(void (__stdcall **)(int, int))(v6 + 56))(a1, v6 + 48);
      }
    }
    v3 = a2;
    *(_DWORD *)(v2 + 72) = 0;
  }
  v7 = *(_DWORD *)(v2 + 4 * v3 + 60);
  *(_DWORD *)(v2 + 4 * v3 + 60) = 0;
  if ( v7 )
  {
    do
    {
      v8 = *(_DWORD *)v7;
      v9 = *(_DWORD *)(v7 + 8) + *(_DWORD *)(v7 + 4) + 16;
      sub_440340(a1, v7, v9);
      *(_DWORD *)(v2 + 76) -= v9;
      v7 = v8;
    }
    while ( v8 );
    v3 = a2;
  }
  result = *(_DWORD *)(v2 + 4 * v3 + 52);
  *(_DWORD *)(v2 + 4 * v3 + 52) = 0;
  if ( result )
  {
    do
    {
      v11 = *(_DWORD *)result;
      v12 = *(_DWORD *)(result + 8) + *(_DWORD *)(result + 4) + 16;
      sub_440340(a1, result, v12);
      *(_DWORD *)(v2 + 76) -= v12;
      result = v11;
    }
    while ( v11 );
  }
  return result;
}

//----- (00437940) --------------------------------------------------------
_DWORD *__stdcall sub_437940(int a1)
{
  signed int v1; // ebp@1
  char *v2; // esi@1
  int v3; // eax@2
  _DWORD *result; // eax@3
  signed int v5; // ecx@3

  *(_DWORD *)(a1 + 4) = 0;
  v1 = sub_4404B0(a1);
  v2 = sub_440310(a1, 84);
  if ( !v2 )
  {
    nullsub_1(a1);
    v3 = *(_DWORD *)a1;
    *(_DWORD *)(v3 + 20) = 54;
    *(_DWORD *)(v3 + 24) = 0;
    (*(void (__stdcall **)(int))v3)(a1);
  }
  *(_DWORD *)v2 = sub_436F10;
  *((_DWORD *)v2 + 1) = sub_437040;
  *((_DWORD *)v2 + 2) = sub_4370F0;
  *((_DWORD *)v2 + 3) = sub_437190;
  *((_DWORD *)v2 + 4) = sub_437230;
  *((_DWORD *)v2 + 5) = sub_4372A0;
  *((_DWORD *)v2 + 6) = sub_437310;
  *((_DWORD *)v2 + 7) = sub_4375E0;
  *((_DWORD *)v2 + 8) = sub_437700;
  *((_DWORD *)v2 + 9) = sub_437820;
  *((_DWORD *)v2 + 10) = sub_437900;
  *((_DWORD *)v2 + 12) = 1000000000;
  *((_DWORD *)v2 + 11) = v1;
  result = v2 + 64;
  v5 = 2;
  do
  {
    *(result - 2) = 0;
    *result = 0;
    --result;
    --v5;
  }
  while ( v5 );
  *(_DWORD *)(a1 + 4) = v2;
  *((_DWORD *)v2 + 17) = 0;
  *((_DWORD *)v2 + 18) = 0;
  *((_DWORD *)v2 + 19) = 84;
  return result;
}
// 4375E0: using guessed type int __stdcall sub_4375E0(int, int, int, int, int);
// 437700: using guessed type int __stdcall sub_437700(int, int, int, int, int);
// 437900: using guessed type int __stdcall sub_437900(int);
// 43F5E0: using guessed type int __stdcall nullsub_1(int);

//----- (00437A00) --------------------------------------------------------
int __stdcall sub_437A00(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 4);
  if ( result )
  {
    (*(void (__stdcall **)(int, signed int))(result + 36))(a1, 1);
    result = *(_DWORD *)(a1 + 16);
    if ( result )
    {
      *(_DWORD *)(a1 + 20) = 200;
      *(_DWORD *)(a1 + 308) = 0;
    }
    else
    {
      *(_DWORD *)(a1 + 20) = 100;
    }
  }
  return result;
}

//----- (00437A40) --------------------------------------------------------
int __stdcall sub_437A40(int a1)
{
  int result; // eax@1

  result = *(_DWORD *)(a1 + 4);
  if ( result )
    result = (*(int (__stdcall **)(int))(result + 40))(a1);
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 20) = 0;
  return result;
}

//----- (00437A60) --------------------------------------------------------
int __stdcall sub_437A60(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 132);
  *(_DWORD *)(result + 128) = 0;
  return result;
}

//----- (00437A80) --------------------------------------------------------
int __stdcall sub_437A80(int a1)
{
  int result; // eax@1

  result = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 0, 280);
  *(_DWORD *)(result + 276) = 0;
  return result;
}

//----- (00437AA0) --------------------------------------------------------
int __cdecl sub_437AA0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 8) = sub_441E22;
  *(_DWORD *)(a1 + 136) = sub_441E22;
  *(_DWORD *)a1 = sub_441D56;
  *(_DWORD *)(a1 + 4) = sub_44415B;
  *(_DWORD *)(a1 + 12) = sub_441EEE;
  *(_DWORD *)(a1 + 16) = sub_444434;
  *(_DWORD *)(a1 + 20) = sub_441DEB;
  *(_DWORD *)(a1 + 24) = sub_442CE4;
  *(_DWORD *)(a1 + 36) = sub_441D94;
  *(_DWORD *)(a1 + 40) = sub_442DB9;
  *(_DWORD *)(a1 + 28) = sub_44422F;
  *(_DWORD *)(a1 + 32) = sub_4423DE;
  *(_DWORD *)(a1 + 84) = sub_44431F;
  *(_DWORD *)(a1 + 64) = sub_44231E;
  *(_DWORD *)(a1 + 80) = sub_440539;
  *(_DWORD *)(a1 + 76) = sub_4404C0;
  *(_DWORD *)(a1 + 96) = sub_440713;
  *(_DWORD *)(a1 + 100) = sub_440651;
  *(_DWORD *)(a1 + 88) = sub_44291F;
  *(_DWORD *)(a1 + 72) = sub_442022;
  *(_DWORD *)(a1 + 196) = sub_442654;
  *(_DWORD *)(a1 + 200) = sub_442478;
  *(_DWORD *)(a1 + 204) = sub_442827;
  *(_DWORD *)(a1 + 208) = sub_442707;
  *(_DWORD *)(a1 + 212) = sub_4425AF;
  *(_DWORD *)(a1 + 216) = sub_442884;
  *(_DWORD *)(a1 + 68) = sub_4427A1;
  *(_DWORD *)(a1 + 188) = sub_44252A;
  *(_DWORD *)(a1 + 192) = sub_4428CD;
  *(_DWORD *)(a1 + 44) = sub_4429CD;
  *(_DWORD *)(a1 + 108) = sub_442EBC;
  *(_DWORD *)(a1 + 52) = sub_442AD8;
  *(_DWORD *)(a1 + 112) = sub_442BD8;
  *(_DWORD *)(a1 + 232) = sub_441C82;
  *(_DWORD *)(a1 + 276) = sub_441600;
  *(_DWORD *)(a1 + 236) = sub_440BBD;
  *(_DWORD *)(a1 + 240) = sub_440D4B;
  *(_DWORD *)(a1 + 244) = sub_440EB1;
  *(_DWORD *)(a1 + 248) = sub_4409B7;
  *(_DWORD *)(a1 + 252) = sub_4413CF;
  *(_DWORD *)(a1 + 256) = sub_4411FF;
  *(_DWORD *)(a1 + 260) = sub_440FC1;
  *(_DWORD *)(a1 + 272) = sub_440FC1;
  *(_DWORD *)(a1 + 176) = sub_4405D3;
  return result;
}

//----- (00437C0E) --------------------------------------------------------
int __cdecl sub_437C0E(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 8) = sub_441E22;
  *(_DWORD *)(a1 + 136) = sub_441E22;
  *(_DWORD *)a1 = sub_441D56;
  *(_DWORD *)(a1 + 4) = sub_44415B;
  *(_DWORD *)(a1 + 12) = sub_441EEE;
  *(_DWORD *)(a1 + 16) = sub_444434;
  *(_DWORD *)(a1 + 20) = sub_441DEB;
  *(_DWORD *)(a1 + 24) = sub_442CE4;
  *(_DWORD *)(a1 + 36) = sub_441D94;
  *(_DWORD *)(a1 + 40) = sub_442DB9;
  *(_DWORD *)(a1 + 28) = sub_44422F;
  *(_DWORD *)(a1 + 32) = sub_4423DE;
  *(_DWORD *)(a1 + 84) = sub_44431F;
  *(_DWORD *)(a1 + 64) = sub_443E8F;
  *(_DWORD *)(a1 + 80) = sub_440539;
  *(_DWORD *)(a1 + 76) = sub_4404C0;
  *(_DWORD *)(a1 + 96) = sub_4448F1;
  *(_DWORD *)(a1 + 100) = sub_44482F;
  *(_DWORD *)(a1 + 88) = sub_44291F;
  *(_DWORD *)(a1 + 72) = sub_442022;
  *(_DWORD *)(a1 + 196) = sub_442654;
  *(_DWORD *)(a1 + 200) = sub_442478;
  *(_DWORD *)(a1 + 204) = sub_442827;
  *(_DWORD *)(a1 + 208) = sub_442707;
  *(_DWORD *)(a1 + 212) = sub_4425AF;
  *(_DWORD *)(a1 + 216) = sub_442884;
  *(_DWORD *)(a1 + 68) = sub_4427A1;
  *(_DWORD *)(a1 + 188) = sub_44252A;
  *(_DWORD *)(a1 + 192) = sub_4428CD;
  *(_DWORD *)(a1 + 44) = sub_4429CD;
  *(_DWORD *)(a1 + 108) = sub_444668;
  *(_DWORD *)(a1 + 52) = sub_443F4F;
  *(_DWORD *)(a1 + 112) = sub_44404F;
  *(_DWORD *)(a1 + 232) = sub_443DBD;
  *(_DWORD *)(a1 + 276) = sub_441600;
  *(_DWORD *)(a1 + 236) = sub_443289;
  *(_DWORD *)(a1 + 240) = sub_443417;
  *(_DWORD *)(a1 + 244) = sub_44357D;
  *(_DWORD *)(a1 + 248) = sub_443083;
  *(_DWORD *)(a1 + 252) = sub_443A9B;
  *(_DWORD *)(a1 + 256) = sub_4438CB;
  *(_DWORD *)(a1 + 260) = sub_44368D;
  *(_DWORD *)(a1 + 272) = sub_44368D;
  return result;
}

//----- (00437D72) --------------------------------------------------------
int sub_437D72()
{
  int *v25; // esi@3
  int *v26; // edi@3
  signed int v27; // ecx@3
  bool v28; // zf@5
  int v30; // [sp+Ch] [bp-28h]@1
  int v31; // [sp+10h] [bp-24h]@1
  int v32; // [sp+14h] [bp-20h]@1
  char v33; // [sp+18h] [bp-1Ch]@1
  int v34; // [sp+1Ch] [bp-18h]@1
  int v35; // [sp+20h] [bp-14h]@1
  int v36; // [sp+24h] [bp-10h]@1
  char v37; // [sp+28h] [bp-Ch]@1
  int v38; // [sp+2Ch] [bp-8h]@2
  int v39; // [sp+30h] [bp-4h]@1

  v34 = *(_DWORD *)"UnknownVendr";
  v35 = *(_DWORD *)"ownVendr";
  v36 = *(_DWORD *)"endr";
  v37 = aUnknownvendr[12];
  v30 = *(_DWORD *)"AuthenticAMD";
  v31 = *(_DWORD *)"enticAMD";
  v32 = *(_DWORD *)"cAMD";
  v33 = aAuthenticamd[12];
  _EAX = 0;
  __asm { cpuid }
  v39 = 1;
  _EAX = 0;
  __asm { cpuid }
  v34 = _EBX;
  v35 = _EDX;
  v36 = _ECX;
  if ( _EAX )
  {
    _EAX = 1;
    __asm { cpuid }
    v38 = _EAX;
    v39 |= ((_EDX & 0x2000000) != 0 ? 0x40 : 0) | ((_EDX & 0x800000) != 0 ? 0x20 : 0) | 2;
    _EAX = 2147483648;
    __asm { cpuid }
    if ( _EAX > 0x80000000 )
    {
      v39 |= 4u;
      _EAX = -2147483647;
      __asm { cpuid }
      v39 |= (_EDX & 0x80000000) != 0 ? 0x80 : 0;
      v25 = &v30;
      v26 = &v34;
      v27 = 12;
      do
      {
        if ( !v27 )
          break;
        v28 = *(_BYTE *)v25 == *(_BYTE *)v26;
        v25 = (int *)((char *)v25 + 1);
        v26 = (int *)((char *)v26 + 1);
        --v27;
      }
      while ( v28 );
      v39 |= (_EDX & 0x40000000) != 0 ? 0x100 : 0;
      v39 |= (_EDX & (unsigned int)&_ImageBase) != 0 ? 0x200 : 0;
    }
  }
  return v39;
}

//----- (00437E56) --------------------------------------------------------
int __cdecl sub_437E56(int a1)
{
  int result; // eax@1

  result = sub_437D72();
  if ( result & 0x20 )
  {
    if ( (char)result < 0 )
    {
      *(_DWORD *)a1 = sub_44B8BB;
      *(_DWORD *)(a1 + 4) = sub_44AB07;
      *(_DWORD *)(a1 + 8) = sub_44BB7C;
      *(_DWORD *)(a1 + 12) = sub_446D57;
      *(_DWORD *)(a1 + 20) = sub_44B910;
      *(_DWORD *)(a1 + 24) = sub_44AB78;
      *(_DWORD *)(a1 + 28) = sub_44ABDF;
      *(_DWORD *)(a1 + 32) = sub_44BBFE;
      *(_DWORD *)(a1 + 36) = sub_44B949;
      *(_DWORD *)(a1 + 40) = sub_44B0BF;
      *(_DWORD *)(a1 + 44) = sub_446F89;
      *(_DWORD *)(a1 + 48) = sub_44BFA6;
      *(_DWORD *)(a1 + 52) = sub_44BFE9;
      *(_DWORD *)(a1 + 56) = sub_44B0C4;
      *(_DWORD *)(a1 + 60) = sub_44B24C;
      *(_DWORD *)(a1 + 64) = sub_44BC5D;
      *(_DWORD *)(a1 + 68) = sub_44B9AD;
      *(_DWORD *)(a1 + 72) = sub_44AAEB;
      *(_DWORD *)(a1 + 76) = sub_44587C;
      *(_DWORD *)(a1 + 80) = sub_445915;
      *(_DWORD *)(a1 + 84) = sub_44C18B;
      *(_DWORD *)(a1 + 88) = sub_44C0CD;
      *(_DWORD *)(a1 + 92) = sub_445972;
      *(_DWORD *)(a1 + 96) = sub_4459B6;
      *(_DWORD *)(a1 + 100) = sub_445DE7;
      *(_DWORD *)(a1 + 104) = sub_447058;
      *(_DWORD *)(a1 + 108) = sub_4470A8;
      *(_DWORD *)(a1 + 112) = sub_447193;
      *(_DWORD *)(a1 + 116) = sub_445EAC;
      *(_DWORD *)(a1 + 120) = sub_44726F;
      *(_DWORD *)(a1 + 124) = sub_4472D2;
      *(_DWORD *)(a1 + 128) = sub_447330;
      *(_DWORD *)(a1 + 132) = sub_447389;
      *(_DWORD *)(a1 + 136) = sub_44C1EF;
      *(_DWORD *)(a1 + 140) = sub_445F18;
      *(_DWORD *)(a1 + 144) = sub_44604F;
      *(_DWORD *)(a1 + 148) = sub_4473D0;
      *(_DWORD *)(a1 + 152) = sub_447478;
      *(_DWORD *)(a1 + 156) = sub_4475FF;
      *(_DWORD *)(a1 + 160) = sub_448797;
      *(_DWORD *)(a1 + 164) = sub_44893C;
      *(_DWORD *)(a1 + 168) = sub_448E70;
      *(_DWORD *)(a1 + 172) = sub_4460DC;
      *(_DWORD *)(a1 + 176) = sub_44616E;
      *(_DWORD *)(a1 + 216) = sub_44BD8F;
      *(_DWORD *)(a1 + 204) = sub_44AC3E;
      *(_DWORD *)(a1 + 192) = sub_44BA45;
      *(_DWORD *)(a1 + 184) = sub_44BA8E;
      *(_DWORD *)(a1 + 208) = sub_44BE00;
      *(_DWORD *)(a1 + 196) = sub_44ACAF;
      *(_DWORD *)(a1 + 220) = sub_4461D2;
      *(_DWORD *)(a1 + 224) = sub_446279;
      *(_DWORD *)(a1 + 212) = sub_44BEC8;
      *(_DWORD *)(a1 + 188) = sub_44BAD1;
      *(_DWORD *)(a1 + 200) = sub_44AD83;
      *(_DWORD *)(a1 + 16) = sub_44A3BF;
      *(_DWORD *)(a1 + 180) = sub_44631E;
      *(_DWORD *)(a1 + 232) = sub_44B600;
      *(_DWORD *)(a1 + 228) = sub_44B740;
      if ( BYTE1(result) & 1 )
      {
        if ( BYTE1(result) & 2 )
        {
          *(_DWORD *)(a1 + 60) = sub_44B472;
          *(_DWORD *)(a1 + 72) = sub_44A0DD;
          *(_DWORD *)(a1 + 152) = sub_44754A;
          *(_DWORD *)(a1 + 156) = sub_448F89;
          *(_DWORD *)(a1 + 96) = sub_445BD2;
        }
      }
    }
  }
  if ( result & 0x40 )
  {
    *(_DWORD *)(a1 + 248) = sub_445240;
    *(_DWORD *)(a1 + 252) = sub_4452E0;
    *(_DWORD *)(a1 + 256) = sub_445600;
    *(_DWORD *)(a1 + 236) = sub_444BC0;
    *(_DWORD *)(a1 + 240) = sub_444E20;
    *(_DWORD *)(a1 + 244) = sub_445080;
    *(_DWORD *)(a1 + 260) = sub_444B00;
    *(_DWORD *)(a1 + 272) = sub_444A40;
  }
  return result;
}
// 445DE7: using guessed type int __stdcall sub_445DE7(int, int, int, int);
// 44AB07: using guessed type int __stdcall sub_44AB07(int, int, int);
// 44B0BF: using guessed type _DWORD __stdcall sub_44B0BF(_DWORD, _DWORD, _DWORD);
// 44BB7C: using guessed type int __stdcall sub_44BB7C(int, int, int);
// 44BBFE: using guessed type int __stdcall sub_44BBFE(int, int);
// 44BFA6: using guessed type int __stdcall sub_44BFA6(int, int, int);
// 44BFE9: using guessed type int __stdcall sub_44BFE9(int, int, int, int);
// 44C0CD: using guessed type int __stdcall sub_44C0CD(int, int, int, int);

//----- (004380F0) --------------------------------------------------------
int __stdcall sub_4380F0(int a1, signed int a2)
{
  return (a1 + a2 - 1) / a2;
}

//----- (00438110) --------------------------------------------------------
int __stdcall sub_438110(int a1, signed int a2)
{
  return a1 + a2 - 1 - (a1 + a2 - 1) % a2;
}

//----- (00438130) --------------------------------------------------------
const void **__stdcall sub_438130(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // ebx@1
  const void **result; // eax@1
  void **v8; // edx@1

  v6 = a5;
  result = (const void **)(a1 + 4 * a2);
  v8 = (void **)(a3 + 4 * a4);
  if ( a5 > 0 )
  {
    do
    {
      qmemcpy(*v8, *result, a6);
      ++result;
      ++v8;
      --v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (00438180) --------------------------------------------------------
int __stdcall sub_438180(const void *a1, void *a2, int a3)
{
  int result; // eax@1

  result = a3 << 7;
  qmemcpy(a2, a1, a3 << 7);
  return result;
}

//----- (004381B0) --------------------------------------------------------
int __stdcall sub_4381B0(void *a1, unsigned int a2)
{
  int result; // eax@1

  result = 0;
  memset(a1, 0, a2);
  return result;
}

//----- (004381D0) --------------------------------------------------------
signed int __stdcall sub_4381D0(int a1)
{
  int v1; // ecx@2
  signed int result; // eax@3

  if ( a1 && (v1 = *(_DWORD *)(a1 + 28)) != 0 )
  {
    *(_DWORD *)(a1 + 20) = 0;
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 24) = 0;
    *(_DWORD *)v1 = *(_DWORD *)(v1 + 12) != 0 ? 7 : 0;
    sub_44C26D(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, 0);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0043820F) --------------------------------------------------------
signed int __stdcall sub_43820F(int a1)
{
  int v1; // eax@2
  signed int result; // eax@6

  if ( a1 && (v1 = *(_DWORD *)(a1 + 28)) != 0 && *(_DWORD *)(a1 + 36) )
  {
    if ( *(_DWORD *)(v1 + 20) )
      sub_44CA9D(*(_DWORD *)(v1 + 20), a1);
    (*(void (__stdcall **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), *(_DWORD *)(a1 + 28));
    *(_DWORD *)(a1 + 28) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (0043824C) --------------------------------------------------------
signed int __stdcall sub_43824C(int a1, int a2, _BYTE *a3, int a4)
{
  bool v4; // zf@6
  int v5; // eax@10
  int v6; // ecx@12
  signed int v7; // edi@18
  signed int v9; // [sp-4h] [bp-10h]@5
  signed int v10; // [sp-4h] [bp-10h]@17

  if ( a3 && *a3 == 49 && a4 == 56 )
  {
    if ( a1 )
    {
      v4 = *(_DWORD *)(a1 + 32) == 0;
      *(_DWORD *)(a1 + 24) = 0;
      if ( v4 )
      {
        *(_DWORD *)(a1 + 32) = sub_44CBEB;
        *(_DWORD *)(a1 + 40) = 0;
      }
      if ( !*(_DWORD *)(a1 + 36) )
        *(_DWORD *)(a1 + 36) = sub_44CC07;
      v5 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 24);
      *(_DWORD *)(a1 + 28) = v5;
      if ( v5 )
      {
        v6 = a2;
        *(_DWORD *)(v5 + 20) = 0;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) = 0;
        if ( a2 < 0 )
        {
          v6 = -a2;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) = 1;
        }
        if ( v6 < 8 || v6 > 15 )
        {
          v10 = -2;
        }
        else
        {
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 16) = v6;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) = sub_44C2D3(
                                                     a1,
                                                     *(_DWORD *)(*(_DWORD *)(a1 + 28) + 12) == 0 ? (unsigned int)sub_44CAD0 : 0,
                                                     1 << v6);
          if ( *(_DWORD *)(*(_DWORD *)(a1 + 28) + 20) )
          {
            sub_4381D0(a1);
            return 0;
          }
          v10 = -4;
        }
        v7 = v10;
        sub_43820F(a1);
        return v7;
      }
      v9 = -4;
    }
    else
    {
      v9 = -2;
    }
  }
  else
  {
    v9 = -6;
  }
  return v9;
}

//----- (0043832B) --------------------------------------------------------
signed int __stdcall sub_43832B(int a1, _BYTE *a2, int a3)
{
  return sub_43824C(a1, 15, a2, a3);
}

//----- (00438341) --------------------------------------------------------
signed int __stdcall sub_438341(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int *v3; // eax@2
  int v4; // edi@4
  int v5; // eax@8
  int v6; // ecx@9
  int v7; // eax@9
  int v8; // eax@14
  int v9; // ecx@15
  int v10; // ebx@15
  bool v11; // zf@17
  int v12; // eax@19
  int v13; // eax@24
  int v14; // eax@27
  int v15; // ecx@28
  _DWORD *v16; // eax@28
  int v17; // eax@29
  _BYTE *v18; // ecx@30
  _DWORD *v19; // eax@30
  int v20; // eax@31
  _BYTE *v21; // ecx@32
  _DWORD *v22; // eax@32
  int v23; // eax@33
  _BYTE *v24; // ecx@34
  int v25; // eax@34
  unsigned int v26; // eax@38
  int v28; // eax@44
  int v29; // ecx@45
  _DWORD *v30; // eax@45
  int v31; // eax@46
  _BYTE *v32; // ecx@47
  _DWORD *v33; // eax@47
  int v34; // eax@48
  _BYTE *v35; // ecx@49
  _DWORD *v36; // eax@49
  int v37; // eax@50
  _BYTE *v38; // ecx@51
  int v39; // eax@51
  int v40; // eax@52
  signed int v42; // [sp+18h] [bp+8h]@6

  v2 = 0;
  if ( !a1 )
    return -2;
  v3 = *(unsigned int **)(a1 + 28);
  if ( !v3 || !*(_DWORD *)a1 )
    return -2;
  v4 = -5;
  if ( a2 == 4 )
    v2 = -5;
  v42 = v2;
  while ( 1 )
  {
    v26 = *v3;
    if ( v26 > 0xD )
      return -2;
    switch ( v26 )
    {
      case 0u:
        v5 = *(_DWORD *)(a1 + 4);
        if ( !v5 )
          return v4;
        v6 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v5 - 1;
        *(_DWORD *)(v6 + 4) = **(_BYTE **)a1;
        v7 = *(_DWORD *)(a1 + 28);
        LOBYTE(v6) = *(_DWORD *)(v7 + 4) & 0xF;
        ++*(_DWORD *)a1;
        v4 = v2;
        if ( (_BYTE)v6 == 8 )
        {
          if ( (unsigned int)((*(_DWORD *)(v7 + 4) >> 4) + 8) <= *(_DWORD *)(v7 + 16) )
          {
            *(_DWORD *)v7 = 1;
LABEL_14:
            v8 = *(_DWORD *)(a1 + 4);
            if ( !v8 )
              return v4;
            v9 = *(_DWORD *)(a1 + 28);
            ++*(_DWORD *)(a1 + 8);
            *(_DWORD *)(a1 + 4) = v8 - 1;
            v4 = v2;
            v10 = *(_BYTE *)(*(_DWORD *)a1)++;
            if ( !((v10 + (*(_DWORD *)(v9 + 4) << 8)) % 0x1Fu) )
            {
              v11 = (v10 & 0x20) == 0;
              v2 = v42;
              if ( v11 )
              {
                *(_DWORD *)v9 = 7;
                goto LABEL_37;
              }
              **(_DWORD **)(a1 + 28) = 2;
LABEL_44:
              v28 = *(_DWORD *)(a1 + 4);
              if ( !v28 )
                return v4;
              v29 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v28 - 1;
              *(_DWORD *)(v29 + 8) = **(_BYTE **)a1 << 24;
              v30 = *(_DWORD **)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *v30 = 3;
LABEL_46:
              v31 = *(_DWORD *)(a1 + 4);
              if ( !v31 )
                return v4;
              v32 = *(_BYTE **)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v31 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v32 << 16;
              v33 = *(_DWORD **)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *v33 = 4;
LABEL_48:
              v34 = *(_DWORD *)(a1 + 4);
              if ( !v34 )
                return v4;
              v35 = *(_BYTE **)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v34 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v35 << 8;
              v36 = *(_DWORD **)(a1 + 28);
              ++*(_DWORD *)a1;
              v4 = v2;
              *v36 = 5;
LABEL_50:
              v37 = *(_DWORD *)(a1 + 4);
              if ( !v37 )
                return v4;
              v38 = *(_BYTE **)a1;
              ++*(_DWORD *)(a1 + 8);
              *(_DWORD *)(a1 + 4) = v37 - 1;
              *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v38;
              v39 = *(_DWORD *)(a1 + 28);
              ++*(_DWORD *)a1;
              *(_DWORD *)(a1 + 48) = *(_DWORD *)(v39 + 8);
              *(_DWORD *)v39 = 6;
              return 2;
            }
            v2 = v42;
            *(_DWORD *)v9 = 13;
            *(_DWORD *)(a1 + 24) = "incorrect header check";
          }
          else
          {
            *(_DWORD *)v7 = 13;
            *(_DWORD *)(a1 + 24) = "invalid window size";
          }
        }
        else
        {
          *(_DWORD *)v7 = 13;
          *(_DWORD *)(a1 + 24) = "unknown compression method";
        }
LABEL_36:
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 4) = 5;
LABEL_37:
        v3 = *(unsigned int **)(a1 + 28);
        break;
      case 1u:
        goto LABEL_14;
      case 2u:
        goto LABEL_44;
      case 3u:
        goto LABEL_46;
      case 4u:
        goto LABEL_48;
      case 5u:
        goto LABEL_50;
      case 6u:
        **(_DWORD **)(a1 + 28) = 13;
        v40 = *(_DWORD *)(a1 + 28);
        *(_DWORD *)(a1 + 24) = "need dictionary";
        *(_DWORD *)(v40 + 4) = 0;
        return -2;
      case 7u:
        v12 = sub_44C351(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, v4);
        v4 = v12;
        if ( v12 == -3 )
        {
          **(_DWORD **)(a1 + 28) = 13;
          *(_DWORD *)(*(_DWORD *)(a1 + 28) + 4) = 0;
          goto LABEL_37;
        }
        if ( !v12 )
          v4 = v2;
        if ( v4 != 1 )
          return v4;
        v4 = v2;
        sub_44C26D(*(_DWORD *)(*(_DWORD *)(a1 + 28) + 20), a1, (_DWORD *)(*(_DWORD *)(a1 + 28) + 4));
        v13 = *(_DWORD *)(a1 + 28);
        if ( *(_DWORD *)(v13 + 12) )
        {
          *(_DWORD *)v13 = 12;
          goto LABEL_37;
        }
        *(_DWORD *)v13 = 8;
LABEL_27:
        v14 = *(_DWORD *)(a1 + 4);
        if ( !v14 )
          return v4;
        v15 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v14 - 1;
        *(_DWORD *)(v15 + 8) = **(_BYTE **)a1 << 24;
        v16 = *(_DWORD **)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *v16 = 9;
LABEL_29:
        v17 = *(_DWORD *)(a1 + 4);
        if ( !v17 )
          return v4;
        v18 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v17 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v18 << 16;
        v19 = *(_DWORD **)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *v19 = 10;
LABEL_31:
        v20 = *(_DWORD *)(a1 + 4);
        if ( !v20 )
          return v4;
        v21 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v20 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v21 << 8;
        v22 = *(_DWORD **)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        *v22 = 11;
LABEL_33:
        v23 = *(_DWORD *)(a1 + 4);
        if ( !v23 )
          return v4;
        v24 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v23 - 1;
        *(_DWORD *)(*(_DWORD *)(a1 + 28) + 8) += *v24;
        v25 = *(_DWORD *)(a1 + 28);
        ++*(_DWORD *)a1;
        v4 = v2;
        if ( *(_DWORD *)(v25 + 4) != *(_DWORD *)(v25 + 8) )
        {
          *(_DWORD *)v25 = 13;
          *(_DWORD *)(a1 + 24) = "incorrect data check";
          goto LABEL_36;
        }
        **(_DWORD **)(a1 + 28) = 12;
        return 1;
      case 8u:
        goto LABEL_27;
      case 9u:
        goto LABEL_29;
      case 0xAu:
        goto LABEL_31;
      case 0xBu:
        goto LABEL_33;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
    }
  }
}

//----- (004386A4) --------------------------------------------------------
void *__stdcall sub_4386A4(int a1)
{
  size_t v1; // esi@2
  void *v2; // edx@5

  if ( a1 == 2 )
  {
    v1 = 64;
  }
  else
  {
    if ( a1 != 1 )
      return 0;
    v1 = 412;
  }
  v2 = malloc(v1);
  if ( v2 )
    memset(v2, 0, v1);
  return v2;
}

//----- (004386E8) --------------------------------------------------------
void __stdcall sub_4386E8(void *a1)
{
  if ( a1 )
    free(a1);
}

//----- (004386FC) --------------------------------------------------------
void *__stdcall sub_4386FC(int *__attribute__((__org_typedef(jmp_buf))) a1, size_t a2)
{
  void *result; // eax@3

  if ( a1 && a2 )
  {
    result = malloc(a2);
    if ( !result )
      sub_431425(a1, (int)"Out of Memory");
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00438733) --------------------------------------------------------
void __stdcall sub_438733(int a1, void *a2)
{
  if ( a1 )
  {
    if ( a2 )
      free(a2);
  }
}

//----- (0043874E) --------------------------------------------------------
void *__stdcall sub_43874E(int a1, void *a2, const void *a3, unsigned int a4)
{
  qmemcpy(a2, a3, a4);
  return a2;
}

//----- (00438773) --------------------------------------------------------
void *__userpurge sub_438773@<eax>(int a1@<ebx>, int a2, void *a3, char a4, unsigned int a5)
{
  int v5; // eax@1

  LOBYTE(a1) = a4;
  BYTE1(a1) = a4;
  v5 = a1 << 16;
  LOWORD(v5) = a1;
  memset32(a3, v5, a5 >> 2);
  memset((char *)a3 + 4 * (a5 >> 2), a4, a5 & 3);
  return a3;
}

//----- (004387A6) --------------------------------------------------------
int __stdcall sub_4387A6(int a1)
{
  return *(_BYTE *)(a1 + 3) + ((*(_BYTE *)(a1 + 2) + ((*(_BYTE *)(a1 + 1) + (*(_BYTE *)a1 << 8)) << 8)) << 8);
}

//----- (004387CB) --------------------------------------------------------
int *__attribute__((__org_typedef(jmp_buf))) __cdecl sub_4387CB(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) result; // eax@1

  sub_433759(a1, a2, a3);
  result = a1;
  if ( !(*((_BYTE *)a1 + 268) & 0x20) )
  {
    if ( *((_BYTE *)a1 + 93) & 8 )
      return result;
    goto LABEL_5;
  }
  if ( (a1[23] & 0x300) != 768 )
  {
LABEL_5:
    result = (int *__attribute__((__org_typedef(jmp_buf))) )sub_439A32(a1[64], (_BYTE *)a2, a3);
    a1[64] = (int)result;
  }
  return result;
}

//----- (004387E2) --------------------------------------------------------
int __stdcall sub_4387E2(int *__attribute__((__org_typedef(jmp_buf))) a1)
{
  int *__attribute__((__org_typedef(jmp_buf))) v1; // esi@1
  signed int v2; // edi@1
  int result; // eax@7

  v1 = a1;
  v2 = 1;
  if ( *((_BYTE *)a1 + 268) & 0x20 )
  {
    if ( (a1[23] & 0x300) != 768 )
      goto LABEL_6;
  }
  else if ( !(*((_BYTE *)a1 + 93) & 8) )
  {
    goto LABEL_6;
  }
  v2 = 0;
LABEL_6:
  sub_433759(a1, (int)&a1, 4);
  if ( v2 )
    result = sub_4387A6((int)&a1) != v1[64];
  else
    result = 0;
  return result;
}

//----- (0043883E) --------------------------------------------------------
unsigned __int8 __stdcall sub_43883E(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  unsigned __int8 v2; // al@1
  unsigned __int8 v3; // al@5
  unsigned __int8 v4; // al@9
  unsigned __int8 result; // al@13

  v2 = *(_BYTE *)a2;
  if ( *(_BYTE *)a2 < 0x29u
    || v2 > 0x7Au
    || v2 > 0x5Au && v2 < 0x61u
    || (v3 = *(_BYTE *)(a2 + 1), v3 < 0x29u)
    || v3 > 0x7Au
    || v3 > 0x5Au && v3 < 0x61u
    || (v4 = *(_BYTE *)(a2 + 2), v4 < 0x29u)
    || v4 > 0x7Au
    || v4 > 0x5Au && v4 < 0x61u
    || (result = *(_BYTE *)(a2 + 3), result < 0x29u)
    || result > 0x7Au
    || result > 0x5Au && result < 0x61u )
  {
    sub_43145A(a1, (int)"invalid chunk type");
  }
  return result;
}

//----- (004388A0) --------------------------------------------------------
char __stdcall sub_4388A0(int a1, void *a2, int a3)
{
  unsigned int v3; // ecx@1
  unsigned int v4; // eax@2
  char *v5; // ebx@6
  char *v6; // edx@6
  _BYTE *v7; // edi@15
  _BYTE *v8; // esi@15
  signed int v9; // edx@15
  _BYTE *v10; // edi@27
  _BYTE *v11; // esi@27
  signed int v12; // edx@27
  _BYTE *v13; // edi@39
  _BYTE *v14; // esi@39
  signed int v15; // edx@39
  unsigned int v17; // [sp+8h] [bp-4h]@7
  unsigned int v18; // [sp+14h] [bp+8h]@6
  int v19; // [sp+14h] [bp+8h]@16
  int v20; // [sp+14h] [bp+8h]@28
  int v21; // [sp+14h] [bp+8h]@40
  signed int v22; // [sp+18h] [bp+Ch]@15
  signed int v23; // [sp+18h] [bp+Ch]@27
  signed int v24; // [sp+18h] [bp+Ch]@39
  unsigned __int8 v25; // [sp+1Bh] [bp+Fh]@6

  v3 = *(_BYTE *)(a1 + 251);
  if ( a3 == 255 )
  {
    v4 = (*(_DWORD *)(a1 + 184) * v3 + 7) >> 3;
    qmemcpy(a2, (const void *)(*(_DWORD *)(a1 + 220) + 1), 4 * ((*(_DWORD *)(a1 + 184) * v3 + 7) >> 5) + (v4 & 3));
  }
  else
  {
    switch ( v3 )
    {
      case 1u:
        v4 = *(_DWORD *)(a1 + 184);
        v13 = a2;
        v14 = (_BYTE *)(*(_DWORD *)(a1 + 220) + 1);
        v24 = 128;
        v15 = 7;
        if ( v4 )
        {
          v21 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v24 )
            {
              LOBYTE(v4) = (((unsigned int)*v14 >> v15) & 1) << v15;
              *v13 = v4 | *v13 & (32639 >> (7 - v15));
            }
            if ( v15 )
            {
              --v15;
            }
            else
            {
              ++v14;
              v15 = 7;
              ++v13;
            }
            if ( v24 == 1 )
              v24 = 128;
            else
              v24 >>= 1;
            --v21;
          }
          while ( v21 );
        }
        break;
      case 2u:
        v4 = *(_DWORD *)(a1 + 184);
        v10 = a2;
        v11 = (_BYTE *)(*(_DWORD *)(a1 + 220) + 1);
        v23 = 128;
        v12 = 6;
        if ( v4 )
        {
          v20 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v23 )
            {
              LOBYTE(v4) = (((unsigned int)*v11 >> v12) & 3) << v12;
              *v10 = v4 | *v10 & (16191 >> (6 - v12));
            }
            if ( v12 )
            {
              v12 -= 2;
            }
            else
            {
              ++v11;
              v12 = 6;
              ++v10;
            }
            if ( v23 == 1 )
              v23 = 128;
            else
              v23 >>= 1;
            --v20;
          }
          while ( v20 );
        }
        break;
      case 4u:
        v4 = *(_DWORD *)(a1 + 184);
        v7 = a2;
        v8 = (_BYTE *)(*(_DWORD *)(a1 + 220) + 1);
        v22 = 128;
        v9 = 4;
        if ( v4 )
        {
          v19 = *(_DWORD *)(a1 + 184);
          do
          {
            LOBYTE(v4) = a3;
            if ( a3 & v22 )
            {
              LOBYTE(v4) = (((unsigned int)*v8 >> v9) & 0xF) << v9;
              *v7 = v4 | *v7 & (3855 >> (4 - v9));
            }
            if ( v9 )
            {
              v9 -= 4;
            }
            else
            {
              ++v8;
              v9 = 4;
              ++v7;
            }
            if ( v22 == 1 )
              v22 = 128;
            else
              v22 >>= 1;
            --v19;
          }
          while ( v19 );
        }
        break;
      default:
        v4 = *(_DWORD *)(a1 + 184);
        v5 = (char *)a2;
        v6 = (char *)(*(_DWORD *)(a1 + 220) + 1);
        v18 = v3 >> 3;
        v25 = -128;
        if ( v4 )
        {
          v17 = v4;
          do
          {
            LOBYTE(v4) = a3;
            if ( (unsigned __int8)a3 & v25 )
            {
              v4 = v3 >> 3;
              qmemcpy(v5, v6, v18);
            }
            v6 += v18;
            v5 += v18;
            if ( v25 == 1 )
              v25 = -128;
            else
              v25 >>= 1;
            --v17;
          }
          while ( v17 );
        }
        break;
    }
  }
  return v4;
}

//----- (00438AB6) --------------------------------------------------------
void __stdcall sub_438AB6(int a1, int a2, int a3, int a4)
{
  int v4; // eax@3
  int v5; // edx@3
  unsigned int v6; // esi@3
  unsigned int v7; // esi@6
  char *v8; // ebx@6
  char *v9; // edi@9
  unsigned __int8 *v10; // edi@12
  _BYTE *v11; // esi@12
  char v12; // al@13
  unsigned __int8 *v13; // edi@25
  _BYTE *v14; // esi@25
  char v15; // al@26
  unsigned __int8 *v16; // edi@38
  _BYTE *v17; // esi@38
  char v18; // al@39
  unsigned int v19; // ecx@50
  char v20; // [sp+0h] [bp-14h]@7
  int v21; // [sp+4h] [bp-10h]@14
  unsigned int v22; // [sp+8h] [bp-Ch]@8
  int v23; // [sp+Ch] [bp-8h]@3
  int v24; // [sp+10h] [bp-4h]@6
  int v25; // [sp+20h] [bp+Ch]@6
  char v26; // [sp+23h] [bp+Fh]@13
  char v27; // [sp+23h] [bp+Fh]@26
  char v28; // [sp+23h] [bp+Fh]@39
  int v29; // [sp+24h] [bp+10h]@12
  int v30; // [sp+24h] [bp+10h]@25
  int v31; // [sp+24h] [bp+10h]@38

  if ( a2 && a1 )
  {
    v4 = *(_DWORD *)a1;
    v5 = dword_4909D8[a3] * *(_DWORD *)a1;
    v23 = dword_4909D8[a3];
    v6 = *(_BYTE *)(a1 + 11);
    if ( v6 == 1 )
    {
      v22 = 0;
      v16 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 3));
      v17 = (_BYTE *)(a2 + ((unsigned int)(v5 - 1) >> 3));
      v24 = 7 - (((_BYTE)v4 - 1) & 7);
      v31 = 7 - (((_BYTE)v5 - 1) & 7);
      if ( v4 )
      {
        do
        {
          v18 = (*v16 >> v24) & 1;
          v28 = (*v16 >> v24) & 1;
          if ( v23 > 0 )
          {
            v21 = v23;
            while ( 1 )
            {
              *v17 = (v18 << v31) | *v17 & (32639 >> (7 - v31));
              if ( v31 == 7 )
              {
                v31 = 0;
                --v17;
              }
              else
              {
                ++v31;
              }
              if ( !--v21 )
                break;
              v18 = v28;
            }
          }
          if ( v24 == 7 )
          {
            v24 = 0;
            --v16;
          }
          else
          {
            ++v24;
          }
          ++v22;
        }
        while ( v22 < *(_DWORD *)a1 );
      }
    }
    else if ( *(_BYTE *)(a1 + 11) == 2 )
    {
      v22 = 0;
      v13 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 2));
      v14 = (_BYTE *)(a2 + ((unsigned int)(v5 - 1) >> 2));
      v24 = 2 * (3 - (((_BYTE)v4 - 1) & 3));
      v30 = 2 * (3 - (((_BYTE)v5 - 1) & 3));
      if ( v4 )
      {
        do
        {
          v15 = (*v13 >> v24) & 3;
          v27 = (*v13 >> v24) & 3;
          if ( v23 > 0 )
          {
            v21 = v23;
            while ( 1 )
            {
              *v14 = (v15 << v30) | *v14 & (16191 >> (6 - v30));
              if ( v30 == 6 )
              {
                v30 = 0;
                --v14;
              }
              else
              {
                v30 += 2;
              }
              if ( !--v21 )
                break;
              v15 = v27;
            }
          }
          if ( v24 == 6 )
          {
            v24 = 0;
            --v13;
          }
          else
          {
            v24 += 2;
          }
          ++v22;
        }
        while ( v22 < *(_DWORD *)a1 );
      }
    }
    else if ( *(_BYTE *)(a1 + 11) == 4 )
    {
      v22 = 0;
      v10 = (unsigned __int8 *)(a2 + ((unsigned int)(v4 - 1) >> 1));
      v11 = (_BYTE *)(a2 + ((unsigned int)(v5 - 1) >> 1));
      v24 = 4 - 4 * (((_BYTE)v4 - 1) & 1);
      v29 = 4 - 4 * (((_BYTE)v5 - 1) & 1);
      if ( v4 )
      {
        do
        {
          v12 = (*v10 >> v24) & 0xF;
          v26 = (*v10 >> v24) & 0xF;
          if ( v23 > 0 )
          {
            v21 = v23;
            while ( 1 )
            {
              *v11 = (v12 << v29) | *v11 & (3855 >> (4 - v29));
              if ( v29 == 4 )
              {
                v29 = 0;
                --v11;
              }
              else
              {
                v29 += 4;
              }
              if ( !--v21 )
                break;
              v12 = v26;
            }
          }
          if ( v24 == 4 )
          {
            v24 = 0;
            --v10;
          }
          else
          {
            v24 += 4;
          }
          ++v22;
        }
        while ( v22 < *(_DWORD *)a1 );
      }
    }
    else
    {
      v24 = 0;
      v7 = v6 >> 3;
      v8 = (char *)(a2 + v7 * (v4 - 1));
      v25 = a2 + v7 * (v5 - 1);
      if ( v4 )
      {
        do
        {
          qmemcpy(&v20, v8, v7);
          if ( v23 > 0 )
          {
            v22 = v23;
            do
            {
              v9 = (char *)v25;
              v25 -= v7;
              qmemcpy(v9, &v20, v7);
              --v22;
            }
            while ( v22 );
          }
          v8 -= v7;
          ++v24;
        }
        while ( (unsigned int)v24 < *(_DWORD *)a1 );
      }
    }
    v19 = (v5 * (unsigned int)*(_BYTE *)(a1 + 11) + 7) >> 3;
    *(_DWORD *)a1 = v5;
    *(_DWORD *)(a1 + 4) = v19;
  }
}
// 4909D8: using guessed type int dword_4909D8[];

//----- (00438D81) --------------------------------------------------------
char __stdcall sub_438D81(int a1, int a2, _BYTE *a3, unsigned __int8 *a4, int a5)
{
  _BYTE *v5; // eax@1
  _BYTE *v6; // edx@7
  unsigned __int8 *v7; // edi@7
  int v8; // ecx@7
  int v9; // esi@8
  int v10; // ecx@13
  int v11; // eax@13
  int v12; // esi@13
  int v13; // eax@13
  int v14; // edx@13
  int v15; // ebx@16
  int v16; // eax@18
  bool v17; // zf@24
  _BYTE *v18; // esi@26
  unsigned __int8 *v19; // edi@26
  int v20; // ecx@26
  _BYTE *i; // ebx@26
  __int64 v22; // rax@29
  unsigned int v23; // esi@31
  unsigned int v24; // ecx@31
  unsigned int v25; // ecx@34
  _BYTE *v26; // esi@34
  _BYTE *v27; // edx@35
  int v28; // ecx@35
  char v30; // [sp+8h] [bp-4h]@13
  int v31; // [sp+14h] [bp+8h]@12
  int v32; // [sp+18h] [bp+Ch]@14
  _BYTE *v33; // [sp+24h] [bp+18h]@7

  LOBYTE(v5) = a5;
  if ( a5 )
  {
    switch ( a5 )
    {
      case 1:
        v25 = *(_DWORD *)(a2 + 4);
        v5 = (_BYTE *)((*(_BYTE *)(a2 + 11) + 7) >> 3);
        v26 = &a3[(_DWORD)v5];
        if ( (unsigned int)v5 < v25 )
        {
          v27 = a3;
          v28 = v25 - (_DWORD)v5;
          do
          {
            LOBYTE(v5) = *v27;
            *v26++ += *v27++;
            --v28;
          }
          while ( v28 );
        }
        break;
      case 2:
        v23 = *(_DWORD *)(a2 + 4);
        v5 = a3;
        v24 = 0;
        if ( v23 )
        {
          do
            *v5++ += a4[v24++];
          while ( v24 < v23 );
        }
        break;
      case 3:
        v18 = a3;
        v19 = a4;
        v5 = (_BYTE *)((*(_BYTE *)(a2 + 11) + 7) >> 3);
        v20 = *(_DWORD *)(a2 + 4) - (_DWORD)v5;
        for ( i = a3; v5; --v5 )
          *v18++ += *v19++ >> 1;
        for ( ; v20; --v20 )
        {
          v22 = *v19 + *i;
          v5 = (_BYTE *)(((signed int)v22 - HIDWORD(v22)) >> 1);
          *v18 += (_BYTE)v5;
          ++i;
          ++v19;
          ++v18;
        }
        break;
      case 4:
        v6 = a3;
        v7 = a4;
        v5 = (_BYTE *)((*(_BYTE *)(a2 + 11) + 7) >> 3);
        v8 = *(_DWORD *)(a2 + 4) - (_DWORD)v5;
        v33 = a3;
        if ( v5 )
        {
          v9 = (*(_BYTE *)(a2 + 11) + 7) >> 3;
          do
          {
            LOBYTE(v5) = *v7;
            *v6++ += *v7++;
            --v9;
          }
          while ( v9 );
          v33 = v6;
        }
        if ( v8 )
        {
          v31 = v8;
          do
          {
            v10 = *a3;
            v11 = *v7;
            v12 = *a4;
            ++a3;
            v30 = *v7++;
            ++a4;
            v13 = v11 - v12;
            v14 = v10 - v12;
            if ( v13 >= 0 )
              v32 = v13;
            else
              v32 = -v13;
            v15 = v10 - v12;
            if ( v14 < 0 )
              v15 = -v14;
            v16 = v14 + v13;
            if ( v16 < 0 )
              v16 = -v16;
            if ( v32 > v15 || v32 > v16 )
            {
              LOBYTE(v10) = v30;
              if ( v15 > v16 )
                LOBYTE(v10) = v12;
            }
            *v33 += v10;
            LOBYTE(v5) = (_BYTE)v33 + 1;
            v17 = v31-- == 1;
            ++v33;
          }
          while ( !v17 );
        }
        break;
      default:
        sub_431443(a1, (int)"Ignoring bad adaptive filter type");
        LOBYTE(v5) = (_BYTE)a3;
        *a3 = 0;
        break;
    }
  }
  return (unsigned int)v5;
}

//----- (00438EFA) --------------------------------------------------------
void *__userpurge sub_438EFA@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2)
{
  unsigned int v2; // eax@1
  int v3; // edi@4
  int v4; // eax@4
  unsigned int v5; // ecx@4
  int v6; // eax@4
  unsigned int v7; // ett@4
  unsigned int v8; // ecx@4
  int v9; // eax@5
  int v10; // eax@6
  int v11; // ebx@6
  char v12; // cl@10
  bool v13; // sf@20
  int v14; // ebx@20
  char v15; // cl@21
  int v16; // ecx@24
  unsigned int v17; // ecx@24
  int v18; // ecx@26
  void *v19; // eax@28
  unsigned int v20; // ST0C_4@28
  void *result; // eax@28
  int v22; // [sp-4h] [bp-Ch]@6

  a2[26] = 0;
  sub_433328(a2);
  v2 = a2[47];
  if ( *((_BYTE *)a2 + 275) )
  {
    if ( !(*((_BYTE *)a2 + 96) & 2) )
      v2 = (v2 + 7) >> 3;
    v3 = a2[46];
    a2[48] = v2;
    v4 = *((_BYTE *)a2 + 276);
    v5 = dword_4909D8[v4];
    v7 = v3 - dword_4909BC[v4] + v5 - 1;
    v6 = v7 / v5;
    v8 = ((v7 / v5 * *((_BYTE *)a2 + 281) + 7) >> 3) + 1;
    a2[52] = v6;
    a2[51] = v8;
  }
  else
  {
    v3 = a2[46];
    a2[48] = v2;
    v9 = a2[50] + 1;
    a2[52] = v3;
    a2[51] = v9;
  }
  v10 = *((_BYTE *)a2 + 281);
  v22 = a1;
  v11 = a2[24];
  if ( v11 & 4 && *((_BYTE *)a2 + 279) < 8u )
    v10 = 8;
  if ( BYTE1(v11) & 0x10 )
  {
    v12 = *((_BYTE *)a2 + 278);
    if ( v12 == 3 )
    {
      v10 = 8 * (*((_WORD *)a2 + 133) != 0) + 24;
    }
    else if ( v12 )
    {
      if ( v12 == 2 && *((_WORD *)a2 + 133) )
        v10 = 4 * v10 / 3;
    }
    else
    {
      if ( v10 < 8 )
        v10 = 8;
      if ( *((_WORD *)a2 + 133) )
        v10 *= 2;
    }
  }
  v13 = SBYTE1(v11) < 0;
  v14 = v22;
  if ( v13 )
  {
    v15 = *((_BYTE *)a2 + 278);
    if ( v15 != 3 )
    {
      if ( v15 )
      {
        if ( v15 != 2 )
          goto LABEL_28;
        v18 = v10 < 32;
        LOBYTE(v18) = v10 > 32;
        v17 = ((v18 - 1) & 0xFFFFFFE0) + 64;
      }
      else
      {
        v16 = v10 < 8;
        LOBYTE(v16) = v10 > 8;
        v17 = ((v16 - 1) & 0xFFFFFFF0) + 32;
      }
      v10 = v17;
      goto LABEL_28;
    }
    v10 = 32;
  }
LABEL_28:
  a2[55] = (int)sub_4386FC(a2, ((v10 * ((v3 + 7) & 0xFFFFFFF8) + 7) >> 3) + ((v10 + 7) >> 3) + 1);
  v19 = sub_4386FC(a2, a2[50] + 1);
  v20 = a2[50] + 1;
  a2[54] = (int)v19;
  result = sub_438773(v14, (int)a2, v19, 0, v20);
  a2[23] |= 0x40u;
  return result;
}
// 438EFA: could not find valid save-restore pair for ebx
// 4909BC: using guessed type int dword_4909BC[];
// 4909D8: using guessed type int dword_4909D8[];

//----- (00439094) --------------------------------------------------------
int __stdcall sub_439094(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2)
{
  unsigned int v2; // ebx@1
  unsigned int i; // edi@1
  int result; // eax@11

  v2 = a2;
  for ( i = a1[40]; v2 > i; v2 -= i )
    sub_4387CB(a1, a1[39], a1[40]);
  if ( v2 )
    sub_4387CB(a1, a1[39], v2);
  if ( sub_4387E2(a1) )
  {
    if ( (!(*((_BYTE *)a1 + 268) & 0x20) || *((_BYTE *)a1 + 93) & 2)
      && (*((_BYTE *)a1 + 268) & 0x20 || !(*((_BYTE *)a1 + 93) & 4)) )
    {
      sub_43145A(a1, (int)"CRC error");
    }
    sub_43147E((int)a1, "CRC error");
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00439119) --------------------------------------------------------
void __stdcall sub_439119(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  unsigned int v4; // edi@5
  unsigned int v5; // eax@5
  char v6; // bl@5
  char v7; // ST20_1@42
  unsigned __int8 v8; // al@42
  char v9; // ST1C_1@42
  char v10; // ST18_1@42
  int v11; // [sp+Ch] [bp-1Ch]@5
  char v12; // [sp+10h] [bp-18h]@5
  unsigned __int8 v13; // [sp+14h] [bp-14h]@5
  unsigned __int8 v14; // [sp+15h] [bp-13h]@5
  unsigned __int8 v15; // [sp+16h] [bp-12h]@5
  unsigned __int8 v16; // [sp+17h] [bp-11h]@5
  unsigned __int8 v17; // [sp+18h] [bp-10h]@5
  int v18; // [sp+1Ch] [bp-Ch]@5
  int v19; // [sp+20h] [bp-8h]@5
  int v20; // [sp+24h] [bp-4h]@5
  int *__attribute__((__org_typedef(jmp_buf))) v21; // [sp+30h] [bp+8h]@5
  int v22; // [sp+38h] [bp+10h]@5

  v3 = a1;
  if ( a1[22] )
    sub_431425(a1, (int)"Out of place IHDR");
  if ( a3 != 13 )
    sub_431425(a1, (int)"Invalid IHDR chunk");
  a1[22] |= 1u;
  sub_4387CB(a1, (int)&v11, 13);
  sub_439094(a1, 0);
  v4 = sub_4387A6((int)&v11);
  v5 = sub_4387A6((int)&v12);
  v6 = v13;
  v21 = (int *__attribute__((__org_typedef(jmp_buf))) )v5;
  v22 = v14;
  v18 = v15;
  v19 = v16;
  v20 = v17;
  if ( !v4 || v4 > 0x7FFFFFFF || !v5 || v5 > 0x7FFFFFFF )
    sub_431425(v3, (int)"Invalid image size in IHDR");
  if ( v13 != 1 && v13 != 2 && v13 != 4 && v13 != 8 && v13 != 16 )
    sub_431425(v3, (int)"Invalid bit depth in IHDR");
  if ( v14 == 1 || v14 == 5 || (signed int)v14 > 6 )
    sub_431425(v3, (int)"Invalid color type in IHDR");
  if ( v14 == 3 && (signed int)v13 > 8 || (v14 == 2 || v14 == 4 || v14 == 6) && (signed int)v13 < 8 )
    sub_431425(v3, (int)"Invalid color type/bit depth combination in IHDR");
  if ( v20 >= 2 )
    sub_431425(v3, (int)"Unknown interlace method in IHDR");
  if ( v18 )
    sub_431425(v3, (int)"Unknown compression method in IHDR");
  if ( v19 )
    sub_431425(v3, (int)"Unknown filter method in IHDR");
  *((_BYTE *)v3 + 275) = v20;
  v3[46] = v4;
  v3[47] = v5;
  *((_BYTE *)v3 + 279) = v6;
  *((_BYTE *)v3 + 278) = v22;
  if ( !(_BYTE)v22 )
    goto LABEL_45;
  if ( (unsigned __int8)v22 == 2 )
  {
    *((_BYTE *)v3 + 282) = 3;
    goto LABEL_42;
  }
  if ( (unsigned __int8)v22 == 3 )
  {
LABEL_45:
    *((_BYTE *)v3 + 282) = 1;
    goto LABEL_42;
  }
  if ( (unsigned __int8)v22 == 4 )
  {
    *((_BYTE *)v3 + 282) = 2;
  }
  else if ( (unsigned __int8)v22 == 6 )
  {
    *((_BYTE *)v3 + 282) = 4;
  }
LABEL_42:
  v7 = v19;
  v8 = v6 * *((_BYTE *)v3 + 282);
  v9 = v18;
  *((_BYTE *)v3 + 281) = v8;
  v10 = v20;
  v3[50] = (v4 * v8 + 7) >> 3;
  sub_4335F5((int)v3, a2, v4, (int)v21, v6, v22, v10, v9, v7);
}

//----- (004392F9) --------------------------------------------------------
void __stdcall sub_4392F9(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  int v4; // eax@1
  unsigned int v5; // edx@7
  int v6; // ebx@12
  void *v7; // eax@12
  _BYTE *v8; // edi@13
  int v9; // [sp+4h] [bp-4h]@12
  int *__attribute__((__org_typedef(jmp_buf))) v10; // [sp+10h] [bp+8h]@13

  v3 = a1;
  v4 = a1[22];
  if ( !(v4 & 1) )
    sub_431425(a1, (int)"Missing IHDR before PLTE");
  if ( v4 & 4 )
  {
    sub_431443((int)a1, (int)"Invalid PLTE after IDAT");
LABEL_10:
    sub_439094(a1, a3);
    return;
  }
  if ( v4 & 2 )
    sub_431425(a1, (int)"Duplicate PLTE chunk");
  v5 = a3 % 3u;
  a1[22] |= 2u;
  if ( v5 )
  {
    if ( *((_BYTE *)a1 + 278) == 3 )
      sub_431425(a1, (int)"Invalid palette chunk");
    sub_431443((int)a1, (int)"Invalid palette chunk");
    goto LABEL_10;
  }
  v6 = a3 / 3;
  v7 = sub_43380B(a1, a3 / 3, 3);
  *((_BYTE *)a1 + 93) |= 0x10u;
  v9 = (int)v7;
  if ( v6 > 0 )
  {
    v8 = (char *)v7 + 2;
    v10 = (int *__attribute__((__org_typedef(jmp_buf))) )v6;
    do
    {
      sub_4387CB(v3, (int)&a3, 3);
      *(v8 - 2) = a3;
      *(v8 - 1) = BYTE1(a3);
      *v8 = BYTE2(a3);
      v8 += 3;
      v10 = (int *__attribute__((__org_typedef(jmp_buf))) )((char *)v10 - 1);
    }
    while ( v10 );
  }
  sub_439094(v3, 0);
  v3[65] = v9;
  *((_WORD *)v3 + 132) = v6;
  sub_433696((int)v3, a2, v9, v6);
  if ( *((_BYTE *)v3 + 278) == 3 && a2 && *(_BYTE *)(a2 + 8) & 0x10 && *((_WORD *)v3 + 133) > *((_WORD *)v3 + 132) )
  {
    sub_431443((int)v3, (int)"Truncating incorrect tRNS chunk length");
    *((_WORD *)v3 + 133) = *((_WORD *)v3 + 132);
  }
}
// 4392F9: could not find valid save-restore pair for ebx
// 4392F9: could not find valid save-restore pair for edi

//----- (00439412) --------------------------------------------------------
int __stdcall sub_439412(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = a1[22];
  if ( !(v3 & 1) || !(v3 & 4) )
    sub_431425(a1, (int)"No image in file");
  a1[22] |= 0x18u;
  if ( a3 )
    sub_431443((int)a1, (int)"Incorrect IEND chunk length");
  return sub_439094(a1, a3);
}

//----- (00439458) --------------------------------------------------------
void __stdcall sub_439458(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  int v4; // eax@1
  int v5; // edi@1
  int v6; // eax@10
  unsigned int v7; // eax@14
  double v8; // st7@18
  const char *v9; // [sp+10h] [bp-18h]@0

  v3 = a1;
  v4 = a1[22];
  v5 = a2;
  if ( !(v4 & 1) )
    sub_431425(a1, (int)"Missing IHDR before gAMA");
  if ( v4 & 4 )
    goto LABEL_5;
  if ( v4 & 2 )
  {
    sub_431443((int)a1, (int)"Out of place gAMA chunk");
  }
  else if ( a2 )
  {
    v6 = *(_DWORD *)(a2 + 8);
    if ( v6 & 1 )
    {
      if ( !(v6 & 0x800) )
        goto LABEL_5;
    }
  }
  if ( a3 != 4 )
  {
    v9 = "Incorrect gAMA chunk length";
LABEL_5:
    sub_431443((int)v3, (int)v9);
    sub_439094(v3, a3);
    return;
  }
  sub_4387CB(v3, (int)&a1, 4);
  if ( !sub_439094(v3, 0) )
  {
    v7 = sub_4387A6((int)&a1);
    if ( v7 )
    {
      if ( *(_DWORD *)(v5 + 8) & 0x800 && (a3 = v7, fabs((double)v7 - 45455.0) > 500.0) )
      {
        sub_431443((int)v3, (int)"Ignoring incorrect gAMA value when sRGB is also present");
      }
      else
      {
        a3 = v7;
        v8 = (double)v7 * 0.0000099999997;
        *((float *)v3 + 76) = v8;
        sub_4335D8((int)v3, v5, v8);
      }
    }
  }
}

//----- (00439559) --------------------------------------------------------
void __stdcall sub_439559(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int *__attribute__((__org_typedef(jmp_buf))) v3; // esi@1
  int v4; // eax@1
  unsigned int v5; // edi@13
  const char *v6; // [sp-Ch] [bp-10h]@0

  v3 = a1;
  v4 = a1[22];
  if ( !(v4 & 1) )
    sub_431425(a1, (int)"Missing IHDR before sRGB");
  if ( v4 & 4 )
    goto LABEL_5;
  if ( v4 & 2 )
  {
    sub_431443((int)a1, (int)"Out of place sRGB chunk");
  }
  else if ( a2 && *(_BYTE *)(a2 + 9) & 8 )
  {
    goto LABEL_5;
  }
  if ( a3 != 1 )
  {
    v6 = "Incorrect sRGB chunk length";
LABEL_5:
    sub_431443((int)v3, (int)v6);
    sub_439094(v3, a3);
    return;
  }
  sub_4387CB(v3, (int)&a1 + 3, 1);
  if ( !sub_439094(v3, 0) )
  {
    v5 = BYTE3(a1);
    if ( (signed int)BYTE3(a1) < 4 )
    {
      if ( *(_BYTE *)(a2 + 8) & 1 )
      {
        if ( fabs(*((float *)v3 + 76) * 100000.0 + 0.5 - 45455.0) > 500.0 )
          sub_431443((int)v3, (int)"Ignoring incorrect gAMA value when sRGB is also present");
      }
      sub_4336D9((int)v3, __PAIR__(v5, a2));
    }
    else
    {
      sub_431443((int)v3, (int)"Unknown sRGB intent");
    }
  }
}

//----- (0043963B) --------------------------------------------------------
void __stdcall sub_43963B(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, size_t a3)
{
  int v3; // eax@1
  char v4; // al@3
  void *v5; // eax@16
  int *__attribute__((__org_typedef(jmp_buf))) v6; // eax@19
  int v7; // ecx@19
  int v8; // eax@19
  int v9; // eax@19
  int v10; // [sp+8h] [bp-8h]@19
  unsigned __int8 v11; // [sp+Ch] [bp-4h]@19
  unsigned __int8 v12; // [sp+Dh] [bp-3h]@19

  v3 = a1[22];
  if ( !(v3 & 1) )
    sub_431425(a1, (int)"Missing IHDR before tRNS");
  if ( v3 & 4 )
  {
    sub_431443((int)a1, (int)"Invalid tRNS after IDAT");
LABEL_13:
    sub_439094(a1, a3);
    return;
  }
  if ( a2 && *(_BYTE *)(a2 + 8) & 0x10 )
  {
    sub_431443((int)a1, (int)"Duplicate tRNS chunk");
    goto LABEL_13;
  }
  v4 = *((_BYTE *)a1 + 278);
  if ( v4 == 3 )
  {
    if ( *((_BYTE *)a1 + 88) & 2 )
    {
      if ( a3 > *((_WORD *)a1 + 132) )
      {
        sub_431443((int)a1, (int)"Incorrect tRNS chunk length");
        sub_439094(a1, a3);
        return;
      }
    }
    else
    {
      sub_431443((int)a1, (int)"Missing PLTE before tRNS");
    }
    if ( !a3 )
    {
      sub_431443((int)a1, (int)"Zero length tRNS chunk");
      sub_439094(a1, 0);
      return;
    }
    v5 = sub_4386FC(a1, a3);
    *((_BYTE *)a1 + 93) |= 0x20u;
    a1[87] = (int)v5;
    sub_4387CB(a1, (int)v5, a3);
    *((_WORD *)a1 + 133) = a3;
    goto LABEL_25;
  }
  if ( v4 != 2 )
  {
    if ( v4 )
    {
      sub_431443((int)a1, (int)"tRNS chunk not allowed with alpha channel");
      goto LABEL_28;
    }
    if ( a3 == 2 )
    {
      sub_4387CB(a1, (int)&v10, 2);
      *((_WORD *)a1 + 180) = BYTE1(v10) + ((unsigned __int8)v10 << 8);
      goto LABEL_24;
    }
LABEL_22:
    sub_431443((int)a1, (int)"Incorrect tRNS chunk length");
LABEL_28:
    sub_439094(a1, a3);
    return;
  }
  if ( a3 != 6 )
    goto LABEL_22;
  v6 = sub_4387CB(a1, (int)&v10, 6);
  LOWORD(v7) = BYTE1(v10);
  LOWORD(v6) = (unsigned __int8)v10;
  v8 = v7 + ((_DWORD)v6 << 8);
  LOWORD(v7) = BYTE3(v10);
  *((_WORD *)a1 + 177) = v8;
  LOWORD(v8) = BYTE2(v10);
  v9 = v7 + (v8 << 8);
  LOWORD(v7) = v12;
  *((_WORD *)a1 + 178) = v9;
  *((_WORD *)a1 + 179) = v7 + (v11 << 8);
LABEL_24:
  *((_WORD *)a1 + 133) = 1;
LABEL_25:
  if ( !sub_439094(a1, 0) )
    sub_433710((int)a1, a2, a1[87], *((_WORD *)a1 + 133), (int)(a1 + 88));
}

//----- (004397DC) --------------------------------------------------------
int __stdcall sub_4397DC(int *__attribute__((__org_typedef(jmp_buf))) a1, int a2, int a3)
{
  int v3; // eax@3

  sub_43883E(a1, (int)(a1 + 67));
  if ( !(*((_BYTE *)a1 + 268) & 0x20) )
    sub_43145A(a1, (int)"unknown critical chunk");
  v3 = a1[22];
  if ( v3 & 4 )
    a1[22] = v3 | 8;
  return sub_439094(a1, a3);
}

//----- (00439822) --------------------------------------------------------
int __userpurge sub_439822@<eax>(int a1@<ebx>, int *__attribute__((__org_typedef(jmp_buf))) a2)
{
  int *__attribute__((__org_typedef(jmp_buf))) v2; // esi@1
  int result; // eax@1
  unsigned __int8 v4; // bl@4
  int v5; // ecx@5
  unsigned int v6; // edx@5
  bool v7; // zf@5
  unsigned int v8; // eax@15
  unsigned int v9; // edx@15
  int v10; // ecx@15
  signed int v11; // eax@18
  const char *v12; // eax@20
  int v13; // [sp+4h] [bp-4h]@12

  v2 = a2;
  result = (int)(a2 + 53);
  if ( ++*(_DWORD *)result >= (unsigned int)v2[48] )
  {
    if ( *((_BYTE *)v2 + 275) )
    {
      *(_DWORD *)result = 0;
      sub_438773(a1, (int)v2, (void *)v2[54], 0, v2[50] + 1);
      while ( 1 )
      {
        v4 = ++*((_BYTE *)v2 + 276);
        if ( v4 >= 7u )
          break;
        v5 = v4;
        result = (v2[46] - dword_4909BC[v5] + dword_4909D8[v5] - 1) / (unsigned int)dword_4909D8[v5];
        v6 = ((result * (unsigned int)*((_BYTE *)v2 + 281) + 7) >> 3) + 1;
        v7 = (*((_BYTE *)v2 + 96) & 2) == 0;
        v2[52] = result;
        v2[51] = v6;
        if ( v7 )
        {
          result = (v2[47] - dword_4909F4[v5] + dword_490A10[v5] - 1) / (unsigned int)dword_490A10[v5];
          v7 = v2[52] == 0;
          v2[48] = result;
          if ( v7 )
            continue;
        }
        if ( v4 < 7u )
          return result;
        break;
      }
    }
    if ( !(*((_BYTE *)v2 + 92) & 0x20) )
    {
      v2[28] = (int)&a2;
      v2[29] = 1;
      while ( 1 )
      {
        if ( !v2[26] )
        {
          while ( !v2[63] )
          {
            sub_439094(v2, 0);
            sub_433759(v2, (int)&v13, 4);
            v2[63] = sub_4387A6((int)&v13);
            sub_433863((int)v2);
            sub_4387CB(v2, (int)(v2 + 67), 4);
            if ( v2[67] != *(_DWORD *)"IDAT" )
              sub_431425(v2, (int)"Not enough image data");
          }
          v8 = v2[40];
          v9 = v2[63];
          v10 = v2[39];
          v2[26] = v8;
          v2[25] = v10;
          if ( v8 > v9 )
            v2[26] = v9;
          sub_4387CB(v2, v10, v2[26]);
          v2[63] -= v2[26];
        }
        v11 = sub_438341((int)(v2 + 25), 1);
        if ( v11 == 1 )
          break;
        if ( v11 )
        {
          v12 = (const char *)v2[31];
          if ( !v12 )
            v12 = "Decompression Error";
          sub_431425(v2, (int)v12);
        }
        if ( !v2[29] )
          sub_431425(v2, (int)"Extra compressed data");
      }
      if ( !v2[29] || v2[26] || v2[63] )
        sub_431425(v2, (int)"Extra compressed data");
      v2[22] |= 8u;
      v2[23] |= 0x20u;
      v2[29] = 0;
    }
    if ( v2[63] || v2[26] )
      sub_431425(v2, (int)"Extra compression data");
    result = sub_4381D0((int)(v2 + 25));
    v2[22] |= 8u;
  }
  return result;
}
// 439822: could not find valid save-restore pair for ebp
// 439822: could not find valid save-restore pair for edi
// 4909BC: using guessed type int dword_4909BC[];
// 4909D8: using guessed type int dword_4909D8[];
// 4909F4: using guessed type int dword_4909F4[];
// 490A10: using guessed type int dword_490A10[];

//----- (00439A32) --------------------------------------------------------
int __stdcall sub_439A32(int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // edx@1
  int result; // eax@2
  unsigned int v5; // eax@3
  unsigned int v6; // esi@3
  unsigned int v7; // edi@4
  unsigned int v8; // esi@5
  _BYTE *v9; // edx@5
  unsigned int v10; // esi@5
  unsigned int v11; // esi@5
  unsigned int v12; // esi@5
  unsigned int v13; // esi@5
  unsigned int v14; // esi@5
  unsigned int v15; // esi@5

  v3 = a2;
  if ( a2 )
  {
    v5 = a3;
    v6 = ~a1;
    if ( a3 >= 8 )
    {
      v7 = a3 >> 3;
      do
      {
        v5 -= 8;
        v8 = dword_490EC0[(v6 ^ *v3) & 0xFF] ^ (v6 >> 8);
        v9 = v3 + 1;
        v10 = dword_490EC0[(v8 ^ *v9++) & 0xFF] ^ (v8 >> 8);
        v11 = dword_490EC0[(v10 ^ *v9++) & 0xFF] ^ (v10 >> 8);
        v12 = dword_490EC0[(v11 ^ *v9++) & 0xFF] ^ (v11 >> 8);
        v13 = dword_490EC0[(v12 ^ *v9++) & 0xFF] ^ (v12 >> 8);
        v14 = dword_490EC0[(v13 ^ *v9++) & 0xFF] ^ (v13 >> 8);
        v15 = dword_490EC0[(v14 ^ *v9++) & 0xFF] ^ (v14 >> 8);
        v6 = dword_490EC0[(v15 ^ *v9) & 0xFF] ^ (v15 >> 8);
        v3 = v9 + 1;
        --v7;
      }
      while ( v7 );
    }
    for ( ; v5; --v5 )
      v6 = dword_490EC0[(v6 ^ *v3++) & 0xFF] ^ (v6 >> 8);
    result = ~v6;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 490EC0: using guessed type int dword_490EC0[];

//----- (00439B30) --------------------------------------------------------
int __usercall sub_439B30@<eax>(int a1@<esi>)
{
  int v1; // ebp@1
  int v2; // edi@1
  int v3; // eax@1
  int v4; // ecx@1
  int v5; // edx@1
  int v6; // ebx@1
  int result; // eax@1
  int v8; // ecx@2
  int v9; // edi@4
  int v10; // ST20_4@4
  int v11; // eax@4
  int i; // [sp+18h] [bp-Ch]@2
  int v13; // [sp+1Ch] [bp-8h]@2

  v1 = *(_DWORD *)(a1 + 428);
  v2 = *(_DWORD *)(a1 + 320);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 8 * *(_DWORD *)(a1 + 36));
  v4 = *(_DWORD *)(a1 + 36);
  v5 = v3 + 4 * v4;
  v6 = 0;
  *(_DWORD *)(v1 + 56) = v3;
  result = *(_DWORD *)(a1 + 220);
  *(_DWORD *)(v1 + 60) = v5;
  if ( v4 > 0 )
  {
    v8 = result + 12;
    v13 = v2 + 4;
    for ( i = result + 12; ; v8 = i )
    {
      v9 = *(_DWORD *)v8 * *(_DWORD *)(v8 + 24) / *(_DWORD *)(a1 + 320) * v13;
      v10 = *(_DWORD *)v8 * *(_DWORD *)(v8 + 24) / *(_DWORD *)(a1 + 320);
      v11 = (**(int (__fastcall ***)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))(a1 + 4))(
              8 * v9,
              *(_DWORD *)v8 * *(_DWORD *)(v8 + 24) % *(_DWORD *)(a1 + 320),
              a1,
              1,
              8 * v9)
          + 4 * v10;
      *(_DWORD *)(*(_DWORD *)(v1 + 56) + 4 * v6) = v11;
      *(_DWORD *)(*(_DWORD *)(v1 + 60) + 4 * v6) = v11 + 4 * v9;
      result = *(_DWORD *)(a1 + 36);
      ++v6;
      i += 84;
      if ( v6 >= result )
        break;
    }
  }
  return result;
}

//----- (00439BE0) --------------------------------------------------------
int __thiscall sub_439BE0(int this)
{
  int result; // eax@1
  int v2; // edx@1
  signed int v3; // ebp@1
  int v4; // edi@1
  char *v5; // ecx@2
  int v6; // edx@2
  int v7; // esi@2
  int v8; // eax@4
  char *v9; // ebx@4
  char *v10; // ecx@4
  int v11; // edi@4
  char *v12; // edx@5
  int v13; // ebx@6
  char *v14; // esi@9
  int v15; // ebx@9
  char *v16; // edx@9
  int v17; // ecx@9
  char *v18; // ecx@13
  bool v19; // zf@15
  char *v20; // [sp+8h] [bp-24h]@2
  int *v21; // [sp+Ch] [bp-20h]@2
  int v22; // [sp+10h] [bp-1Ch]@2
  int v23; // [sp+14h] [bp-18h]@5
  int v24; // [sp+14h] [bp-18h]@9
  char *v25; // [sp+18h] [bp-14h]@4
  int v26; // [sp+1Ch] [bp-10h]@2
  int v27; // [sp+20h] [bp-Ch]@2
  int v28; // [sp+24h] [bp-8h]@5
  signed int v29; // [sp+28h] [bp-4h]@1

  result = *(_DWORD *)(this + 428);
  v2 = *(_DWORD *)(this + 220);
  v3 = *(_DWORD *)(this + 320);
  v4 = *(_DWORD *)(this + 36);
  v29 = *(_DWORD *)(this + 320);
  if ( v4 > 0 )
  {
    v5 = *(char **)(result + 60);
    v21 = (int *)(result + 8);
    v6 = v2 + 12;
    v7 = *(_DWORD *)(result + 56) - (_DWORD)v5;
    v22 = v6;
    v20 = *(char **)(result + 60);
    v27 = *(_DWORD *)(result + 56) - (_DWORD)v5;
    v26 = v4;
    while ( 1 )
    {
      v8 = *(_DWORD *)v6 * *(_DWORD *)(v6 + 24) / v3;
      v9 = *(char **)&v5[v7];
      v10 = *(char **)v5;
      v11 = *v21;
      v25 = v9;
      if ( v8 * (v3 + 2) > 0 )
      {
        v12 = v10;
        v28 = v9 - v10;
        v23 = v8 * (v3 + 2);
        do
        {
          v13 = *(_DWORD *)&v12[v11 - (_DWORD)v10];
          *(_DWORD *)&v12[v28] = v13;
          *(_DWORD *)v12 = v13;
          v12 += 4;
          --v23;
        }
        while ( v23 );
        v9 = v25;
        v3 = v29;
      }
      if ( 2 * v8 > 0 )
      {
        v14 = &v10[4 * v3 * v8];
        v15 = v11 - (_DWORD)v10;
        v16 = (char *)(v11 + 4 * v8 * (v3 - 2));
        v17 = (int)&v10[-v11];
        v24 = 2 * v8;
        do
        {
          *(_DWORD *)&v16[v17] = *(_DWORD *)&v14[v15];
          *(_DWORD *)v14 = *(_DWORD *)v16;
          v16 += 4;
          v14 += 4;
          --v24;
        }
        while ( v24 );
        v9 = v25;
      }
      if ( v8 > 0 )
      {
        v18 = &v9[-4 * v8];
        do
        {
          *(_DWORD *)v18 = *(_DWORD *)v9;
          v18 += 4;
          --v8;
        }
        while ( v8 );
      }
      result = v26 - 1;
      v19 = v26 == 1;
      v20 += 4;
      ++v21;
      v22 += 84;
      --v26;
      if ( v19 )
        break;
      v6 = v22;
      v5 = v20;
      v7 = v27;
    }
  }
  return result;
}

//----- (00439D30) --------------------------------------------------------
int __usercall sub_439D30@<eax>(int a1@<eax>)
{
  int v1; // ecx@1
  int v2; // ebp@1
  signed int v3; // edi@1
  int result; // eax@1
  char *v5; // ebx@2
  int v6; // ebp@2
  int v7; // ecx@2
  int v8; // eax@4
  int v9; // ecx@4
  char *v10; // esi@4
  char *v11; // ebx@5
  char *v12; // edx@5
  char *v13; // edi@5
  int v14; // ecx@5
  bool v15; // zf@8
  char *v16; // [sp+8h] [bp-14h]@2
  int v17; // [sp+Ch] [bp-10h]@2
  int v18; // [sp+10h] [bp-Ch]@2
  int v19; // [sp+14h] [bp-8h]@2
  signed int v20; // [sp+18h] [bp-4h]@1

  v1 = *(_DWORD *)(a1 + 428);
  v2 = *(_DWORD *)(a1 + 220);
  v3 = *(_DWORD *)(a1 + 320);
  result = *(_DWORD *)(a1 + 36);
  v20 = v3;
  if ( result > 0 )
  {
    v5 = *(char **)(v1 + 60);
    v6 = v2 + 12;
    v7 = *(_DWORD *)(v1 + 56) - (_DWORD)v5;
    v17 = v6;
    v16 = v5;
    v19 = v7;
    v18 = result;
    while ( 1 )
    {
      v8 = *(_DWORD *)v6 * *(_DWORD *)(v6 + 24) / v3;
      v9 = *(_DWORD *)&v5[v7];
      v10 = *(char **)v5;
      if ( v8 > 0 )
      {
        v11 = &v10[4 * v8 * (v3 + 2)];
        v12 = &v10[-4 * v8];
        v13 = &v10[4 * v8 * (v3 + 1)];
        v14 = v9 - (_DWORD)v10;
        do
        {
          *(_DWORD *)&v12[v14] = *(_DWORD *)&v13[v14];
          *(_DWORD *)v12 = *(_DWORD *)v13;
          *(_DWORD *)&v11[v14] = *(_DWORD *)&v10[v14];
          *(_DWORD *)v11 = *(_DWORD *)v10;
          v13 += 4;
          v12 += 4;
          v10 += 4;
          v11 += 4;
          --v8;
        }
        while ( v8 );
        v3 = v20;
        v6 = v17;
        v5 = v16;
      }
      v5 += 4;
      v6 += 84;
      result = v18 - 1;
      v15 = v18 == 1;
      v16 = v5;
      v17 = v6;
      --v18;
      if ( v15 )
        break;
      v7 = v19;
    }
  }
  return result;
}

//----- (00439E10) --------------------------------------------------------
int __usercall sub_439E10@<eax>(int result@<eax>)
{
  int v1; // ebp@1
  int v2; // ebx@2
  int v3; // edi@3
  unsigned int v4; // esi@3
  int v5; // eax@7
  int v6; // edx@7
  int v7; // ecx@8
  _DWORD *v8; // eax@8
  signed int v9; // [sp+8h] [bp-10h]@2
  int v10; // [sp+Ch] [bp-Ch]@1
  _DWORD *v11; // [sp+10h] [bp-8h]@2
  int v12; // [sp+14h] [bp-4h]@1

  v1 = 0;
  v10 = *(_DWORD *)(result + 428);
  v12 = *(_DWORD *)(result + 36);
  if ( *(_DWORD *)(result + 36) > 0 )
  {
    v9 = *(_DWORD *)(result + 320);
    v11 = (_DWORD *)(*(_DWORD *)(result + 428) + 4 * *(_DWORD *)(*(_DWORD *)(result + 428) + 64) + 56);
    v2 = *(_DWORD *)(result + 220) + 12;
    do
    {
      v3 = *(_DWORD *)v2 * *(_DWORD *)(v2 + 24) / v9;
      v4 = *(_DWORD *)(v2 + 32) % (unsigned int)(*(_DWORD *)v2 * *(_DWORD *)(v2 + 24));
      if ( !v4 )
        v4 = *(_DWORD *)v2 * *(_DWORD *)(v2 + 24);
      if ( !v1 )
        *(_DWORD *)(v10 + 72) = (signed int)(v4 - 1) / v3 + 1;
      v5 = *(_DWORD *)(*v11 + 4 * v1);
      v6 = 2 * v3;
      if ( 2 * v3 > 0 )
      {
        v7 = v5 + 4 * v4;
        v8 = (_DWORD *)(v5 + 4 * v4);
        do
        {
          *v8 = *(_DWORD *)(v7 - 4);
          ++v8;
          --v6;
        }
        while ( v6 );
      }
      result = v12;
      ++v1;
      v2 += 84;
    }
    while ( v1 < v12 );
  }
  return result;
}

//----- (00439EC0) --------------------------------------------------------
int __stdcall sub_439EC0(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1
  int result; // eax@2
  unsigned int v6; // ebp@4

  v4 = *(_DWORD *)(a1 + 428);
  if ( !*(_DWORD *)(v4 + 48) )
  {
    result = (*(int (__stdcall **)(int, int))(*(_DWORD *)(a1 + 432) + 12))(a1, v4 + 8);
    if ( !result )
      return result;
    *(_DWORD *)(v4 + 48) = 1;
  }
  v6 = *(_DWORD *)(a1 + 320);
  result = (*(int (__stdcall **)(int, int, int, _DWORD, int, int, int))(*(_DWORD *)(a1 + 436) + 4))(
             a1,
             v4 + 8,
             v4 + 52,
             *(_DWORD *)(a1 + 320),
             a2,
             a3,
             a4);
  if ( *(_DWORD *)(v4 + 52) >= v6 )
  {
    *(_DWORD *)(v4 + 48) = 0;
    *(_DWORD *)(v4 + 52) = 0;
  }
  return result;
}

//----- (00439F30) --------------------------------------------------------
int __stdcall sub_439F30(int a1, int a2, unsigned int *a3, unsigned int a4)
{
  int v4; // esi@1
  int result; // eax@2
  int v6; // eax@3
  int v7; // eax@4
  int v8; // eax@5
  bool v9; // cf@8
  int v10; // edx@9
  int v11; // eax@9
  int v12; // ecx@9
  int v13; // edi@15

  v4 = *(_DWORD *)(a1 + 428);
  if ( !*(_DWORD *)(v4 + 48) )
  {
    result = (*(int (__stdcall **)(int, _DWORD))(*(_DWORD *)(a1 + 432) + 12))(
               a1,
               *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56));
    if ( !result )
      return result;
    v6 = *(_DWORD *)(v4 + 76) + 1;
    *(_DWORD *)(v4 + 48) = 1;
    *(_DWORD *)(v4 + 76) = v6;
  }
  v7 = *(_DWORD *)(v4 + 68);
  if ( !v7 )
  {
LABEL_9:
    v10 = *(_DWORD *)(v4 + 76);
    v11 = *(_DWORD *)(a1 + 324);
    v12 = *(_DWORD *)(a1 + 320) - 1;
    *(_DWORD *)(v4 + 52) = 0;
    *(_DWORD *)(v4 + 72) = v12;
    if ( v10 == v11 )
      sub_439E10(a1);
    *(_DWORD *)(v4 + 68) = 1;
    goto LABEL_12;
  }
  v8 = v7 - 1;
  if ( v8 )
  {
    result = v8 - 1;
    if ( result )
      return result;
    result = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, int, unsigned int *, unsigned int))(*(_DWORD *)(a1 + 436)
                                                                                               + 4))(
               a1,
               *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56),
               v4 + 52,
               *(_DWORD *)(v4 + 72),
               a2,
               a3,
               a4);
    if ( *(_DWORD *)(v4 + 52) < *(_DWORD *)(v4 + 72) )
      return result;
    result = (int)a3;
    v9 = *a3 < a4;
    *(_DWORD *)(v4 + 68) = 0;
    if ( !v9 )
      return result;
    goto LABEL_9;
  }
LABEL_12:
  result = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, int, unsigned int *, unsigned int))(*(_DWORD *)(a1 + 436) + 4))(
             a1,
             *(_DWORD *)(v4 + 4 * *(_DWORD *)(v4 + 64) + 56),
             v4 + 52,
             *(_DWORD *)(v4 + 72),
             a2,
             a3,
             a4);
  if ( *(_DWORD *)(v4 + 52) >= *(_DWORD *)(v4 + 72) )
  {
    if ( *(_DWORD *)(v4 + 76) == 1 )
      sub_439D30(a1);
    v13 = *(_DWORD *)(a1 + 320);
    *(_DWORD *)(v4 + 64) ^= 1u;
    result = v13 + 1;
    *(_DWORD *)(v4 + 48) = 0;
    *(_DWORD *)(v4 + 52) = v13 + 1;
    *(_DWORD *)(v4 + 72) = v13 + 2;
    *(_DWORD *)(v4 + 68) = 2;
  }
  return result;
}

//----- (0043A0D0) --------------------------------------------------------
int __stdcall sub_43A0D0(int a1, int a2)
{
  int v2; // esi@1
  _DWORD *v3; // ebx@1
  int v4; // eax@2
  int v5; // eax@5
  int result; // eax@8
  int v7; // ebp@8
  _DWORD *v8; // edi@9
  _DWORD *v9; // ebx@9
  int v10; // [sp+14h] [bp+4h]@6

  v2 = a1;
  v3 = (_DWORD *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 80);
  *(_DWORD *)(a1 + 428) = v3;
  *v3 = sub_43A060;
  if ( a2 )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 4;
    (*(void (__stdcall **)(int))v4)(a1);
  }
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 456) + 8) )
  {
    if ( *(_DWORD *)(a1 + 320) < 2 )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 47;
      (*(void (__stdcall **)(int))v5)(a1);
    }
    sub_439B30(a1);
    v10 = *(_DWORD *)(a1 + 320) + 2;
  }
  else
  {
    v10 = *(_DWORD *)(a1 + 320);
  }
  result = *(_DWORD *)(v2 + 220);
  v7 = 0;
  if ( *(_DWORD *)(v2 + 36) > 0 )
  {
    v8 = (_DWORD *)(result + 36);
    v9 = v3 + 2;
    do
    {
      *v9 = (*(int (__stdcall **)(int, signed int, int, int))(*(_DWORD *)(v2 + 4) + 8))(
              v2,
              1,
              *v8 * *(v8 - 2),
              v10 * (*v8 * *(v8 - 6) / *(_DWORD *)(v2 + 320)));
      result = *(_DWORD *)(v2 + 36);
      ++v7;
      ++v9;
      v8 += 21;
    }
    while ( v7 < result );
  }
  return result;
}
// 43A060: using guessed type int __stdcall sub_43A060(int, int);

//----- (0043A1A0) --------------------------------------------------------
int __thiscall sub_43A1A0(int this)
{
  int result; // eax@1
  signed int v2; // edx@1
  int v3; // edx@2
  unsigned int v4; // esi@2
  int v5; // ecx@2

  result = *(_DWORD *)(this + 432);
  v2 = 1;
  if ( *(_DWORD *)(this + 332) <= 1 )
  {
    v3 = *(_DWORD *)(this + 324);
    v4 = *(_DWORD *)(this + 152);
    v5 = *(_DWORD *)(this + 336);
    if ( v4 < v3 - 1 )
    {
      *(_DWORD *)(result + 28) = *(_DWORD *)(v5 + 12);
      *(_DWORD *)(result + 20) = 0;
      *(_DWORD *)(result + 24) = 0;
      return result;
    }
    v2 = *(_DWORD *)(v5 + 72);
  }
  *(_DWORD *)(result + 28) = v2;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  return result;
}

//----- (0043A210) --------------------------------------------------------
signed int __stdcall sub_43A210(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // ebp@1
  int v4; // esi@1
  int v5; // eax@1
  unsigned int v6; // edi@2
  int v7; // ecx@4
  int v8; // esi@6
  int v9; // eax@8
  int v10; // edx@9
  int v11; // edi@11
  int v12; // ebp@11
  int v13; // eax@11
  _DWORD *v14; // ebx@15
  int v15; // edx@19
  bool v16; // sf@19
  unsigned __int8 v17; // of@19
  int v18; // ecx@23
  unsigned int v19; // edx@23
  unsigned int v20; // ecx@23
  int v21; // eax@24
  signed int result; // eax@25
  bool v23; // cf@27
  int v24; // edx@27
  int v25; // ecx@28
  int v26; // [sp+1Ch] [bp-34h]@1
  unsigned int v27; // [sp+20h] [bp-30h]@2
  int v28; // [sp+24h] [bp-2Ch]@1
  int v29; // [sp+28h] [bp-28h]@4
  int v30; // [sp+2Ch] [bp-24h]@5
  int v31; // [sp+30h] [bp-20h]@11
  int v32; // [sp+34h] [bp-1Ch]@15
  int i; // [sp+38h] [bp-18h]@11
  int v34; // [sp+3Ch] [bp-14h]@4
  int v35; // [sp+40h] [bp-10h]@1
  unsigned int v36; // [sp+44h] [bp-Ch]@1
  void (__stdcall *v37)(int, int, _DWORD, int, int); // [sp+48h] [bp-8h]@8
  int v38; // [sp+4Ch] [bp-4h]@11

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 352) - 1;
  v4 = *(_DWORD *)(a1 + 432);
  v36 = *(_DWORD *)(a1 + 324) - 1;
  v5 = *(_DWORD *)(v4 + 24);
  v28 = *(_DWORD *)(a1 + 432);
  v35 = *(_DWORD *)(a1 + 352) - 1;
  v26 = *(_DWORD *)(v4 + 24);
  if ( v5 >= *(_DWORD *)(v4 + 28) )
  {
LABEL_23:
    v18 = *(_DWORD *)(v2 + 152);
    ++*(_DWORD *)(v2 + 160);
    v19 = *(_DWORD *)(v2 + 324);
    v20 = v18 + 1;
    *(_DWORD *)(v2 + 152) = v20;
    if ( v20 >= v19 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)(v2 + 440) + 12))(v2);
      result = 4;
    }
    else
    {
      v21 = *(_DWORD *)(v2 + 432);
      if ( *(_DWORD *)(v2 + 332) <= 1 )
      {
        v23 = v20 < v19 - 1;
        v24 = *(_DWORD *)(v2 + 336);
        if ( v23 )
          v25 = *(_DWORD *)(v24 + 12);
        else
          v25 = *(_DWORD *)(v24 + 72);
        *(_DWORD *)(v21 + 28) = v25;
        *(_DWORD *)(v21 + 20) = 0;
        *(_DWORD *)(v21 + 24) = 0;
        result = 3;
      }
      else
      {
        *(_DWORD *)(v21 + 28) = 1;
        *(_DWORD *)(v21 + 20) = 0;
        *(_DWORD *)(v21 + 24) = 0;
        result = 3;
      }
    }
  }
  else
  {
    while ( 1 )
    {
      v6 = *(_DWORD *)(v4 + 20);
      v27 = *(_DWORD *)(v4 + 20);
      if ( v6 <= v3 )
        break;
LABEL_22:
      *(_DWORD *)(v4 + 20) = 0;
      v26 = ++v5;
      if ( v5 >= *(_DWORD *)(v4 + 28) )
        goto LABEL_23;
    }
    while ( 1 )
    {
      sub_4381B0(*(void **)(v4 + 32), *(_DWORD *)(v2 + 360) << 7);
      if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)(v2 + 448) + 4))(v2, v4 + 32) )
        break;
      v7 = 0;
      v29 = 0;
      v34 = 0;
      if ( *(_DWORD *)(v2 + 332) > 0 )
      {
        v30 = v2 + 336;
        do
        {
          v8 = *(_DWORD *)v30;
          if ( *(_DWORD *)(*(_DWORD *)v30 + 48) )
          {
            v9 = 4 * *(_DWORD *)(v8 + 4);
            v37 = *(void (__stdcall **)(int, int, _DWORD, int, int))(*(_DWORD *)(v2 + 452) + v9 + 4);
            if ( v6 >= v3 )
              v10 = *(_DWORD *)(v8 + 68);
            else
              v10 = *(_DWORD *)(v8 + 52);
            v11 = v27 * *(_DWORD *)(v8 + 64);
            v31 = v10;
            v12 = *(_DWORD *)(v9 + a2) + 4 * v26 * *(_DWORD *)(v8 + 36);
            v13 = 0;
            v38 = v27 * *(_DWORD *)(v8 + 64);
            for ( i = 0; v13 < *(_DWORD *)(v8 + 56); i = v13 )
            {
              if ( (*(_DWORD *)(v2 + 152) < v36 || v13 + v26 < *(_DWORD *)(v8 + 72)) && v31 > 0 )
              {
                v14 = (_DWORD *)(v28 + 4 * v7 + 32);
                v32 = v31;
                do
                {
                  v37(a1, v8, *v14, v12, v11);
                  v11 += *(_DWORD *)(v8 + 36);
                  ++v14;
                  --v32;
                }
                while ( v32 );
                v13 = i;
                v11 = v38;
                v7 = v29;
                v2 = a1;
              }
              v7 += *(_DWORD *)(v8 + 52);
              v12 += 4 * *(_DWORD *)(v8 + 36);
              ++v13;
              v29 = v7;
            }
          }
          else
          {
            v7 += *(_DWORD *)(v8 + 60);
            v29 = v7;
          }
          v15 = *(_DWORD *)(v2 + 332);
          v3 = v35;
          v6 = v27;
          v17 = __OFSUB__(v34 + 1, v15);
          v16 = v34++ + 1 - v15 < 0;
          v30 += 4;
        }
        while ( v16 ^ v17 );
      }
      v4 = v28;
      v27 = ++v6;
      if ( v6 > v3 )
      {
        v5 = v26;
        goto LABEL_22;
      }
    }
    *(_DWORD *)(v28 + 20) = v6;
    *(_DWORD *)(v28 + 24) = v26;
    result = 0;
  }
  return result;
}

//----- (0043A4C0) --------------------------------------------------------
signed int __stdcall sub_43A4C0(int a1)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // edi@2
  int v4; // eax@4
  int v5; // edi@4
  unsigned int v6; // ebx@5
  int v7; // edx@6
  int v8; // esi@8
  int v9; // ebx@9
  _DWORD *v10; // edi@9
  int v11; // eax@10
  int *v12; // ecx@11
  int v13; // edx@11
  unsigned int v14; // edx@20
  unsigned int v15; // ecx@20
  int v16; // eax@21
  signed int result; // eax@22
  bool v18; // cf@24
  int v19; // edx@24
  int v20; // ecx@25
  int v21; // [sp+1Ch] [bp-30h]@1
  int v22; // [sp+20h] [bp-2Ch]@6
  int v23; // [sp+24h] [bp-28h]@7
  int v24; // [sp+28h] [bp-24h]@9
  int v25; // [sp+2Ch] [bp-20h]@6
  unsigned int v26; // [sp+30h] [bp-1Ch]@5
  int v27; // [sp+34h] [bp-18h]@4
  int v28; // [sp+38h] [bp-14h]@7
  int v29[4]; // [sp+3Ch] [bp-10h]@3

  v1 = a1;
  v21 = *(_DWORD *)(a1 + 432);
  v2 = 0;
  if ( *(_DWORD *)(a1 + 332) > 0 )
  {
    v3 = a1 + 336;
    do
    {
      v29[v2++] = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, signed int))(*(_DWORD *)(a1 + 4) + 32))(
                    a1,
                    *(_DWORD *)(v21 + 4 * *(_DWORD *)(*(_DWORD *)v3 + 4) + 72),
                    *(_DWORD *)(*(_DWORD *)v3 + 12) * *(_DWORD *)(a1 + 152),
                    *(_DWORD *)(*(_DWORD *)v3 + 12),
                    1);
      v3 += 4;
    }
    while ( v2 < *(_DWORD *)(a1 + 332) );
  }
  v4 = v21;
  v5 = *(_DWORD *)(v21 + 24);
  v27 = *(_DWORD *)(v21 + 24);
  if ( v5 >= *(_DWORD *)(v21 + 28) )
  {
LABEL_20:
    v14 = *(_DWORD *)(v1 + 324);
    v15 = *(_DWORD *)(v1 + 152) + 1;
    *(_DWORD *)(v1 + 152) = v15;
    if ( v15 >= v14 )
    {
      (*(void (__stdcall **)(int))(*(_DWORD *)(v1 + 440) + 12))(v1);
      result = 4;
    }
    else
    {
      v16 = *(_DWORD *)(v1 + 432);
      if ( *(_DWORD *)(v1 + 332) <= 1 )
      {
        v18 = v15 < v14 - 1;
        v19 = *(_DWORD *)(v1 + 336);
        if ( v18 )
          v20 = *(_DWORD *)(v19 + 12);
        else
          v20 = *(_DWORD *)(v19 + 72);
        *(_DWORD *)(v16 + 28) = v20;
        *(_DWORD *)(v16 + 20) = 0;
        *(_DWORD *)(v16 + 24) = 0;
        result = 3;
      }
      else
      {
        *(_DWORD *)(v16 + 28) = 1;
        *(_DWORD *)(v16 + 20) = 0;
        *(_DWORD *)(v16 + 24) = 0;
        result = 3;
      }
    }
  }
  else
  {
    while ( 1 )
    {
      v6 = *(_DWORD *)(v4 + 20);
      v26 = *(_DWORD *)(v4 + 20);
      if ( v6 < *(_DWORD *)(v1 + 352) )
        break;
LABEL_19:
      v4 = v21;
      *(_DWORD *)(v21 + 20) = 0;
      v27 = ++v5;
      if ( v5 >= *(_DWORD *)(v21 + 28) )
        goto LABEL_20;
    }
    while ( 1 )
    {
      v7 = 0;
      v22 = 0;
      v25 = 0;
      if ( *(_DWORD *)(v1 + 332) > 0 )
      {
        v28 = *(_DWORD *)(v1 + 332);
        v23 = v1 + 336;
        do
        {
          v8 = *(_DWORD *)(*(_DWORD *)v23 + 52);
          if ( *(_DWORD *)(*(_DWORD *)v23 + 56) > 0 )
          {
            v9 = v6 * *(_DWORD *)(*(_DWORD *)v23 + 52) << 7;
            v10 = (_DWORD *)(v29[v7] + 4 * v5);
            v24 = *(_DWORD *)(*(_DWORD *)v23 + 56);
            do
            {
              v11 = v9 + *v10;
              if ( v8 > 0 )
              {
                v12 = (int *)(v21 + 4 * v22 + 32);
                v13 = v8;
                v22 += v8;
                do
                {
                  *v12 = v11;
                  ++v12;
                  v11 += 128;
                  --v13;
                }
                while ( v13 );
                v1 = a1;
              }
              ++v10;
              --v24;
            }
            while ( v24 );
            v5 = v27;
            v6 = v26;
            v7 = v25;
          }
          v25 = ++v7;
          v23 += 4;
        }
        while ( v7 < v28 );
      }
      if ( !(*(int (__stdcall **)(int, int))(*(_DWORD *)(v1 + 448) + 4))(v1, v21 + 32) )
        break;
      v26 = ++v6;
      if ( v6 >= *(_DWORD *)(v1 + 352) )
        goto LABEL_19;
    }
    *(_DWORD *)(v21 + 24) = v5;
    *(_DWORD *)(v21 + 20) = v6;
    result = 0;
  }
  return result;
}
// 43A4C0: using guessed type int var_10[4];

//----- (0043A700) --------------------------------------------------------
int __stdcall sub_43A700(int a1, int a2)
{
  int v2; // edi@1
  int v3; // ebp@1
  int v4; // eax@2
  int v5; // ecx@2
  int result; // eax@5
  int v7; // ebx@7
  int v8; // esi@7
  _DWORD *v9; // ebp@8
  int v10; // ecx@14
  unsigned int v11; // eax@15
  int v12; // ebx@16
  int v13; // edi@16
  unsigned int v14; // ebp@16
  unsigned int v15; // edx@22
  unsigned int v16; // eax@22
  int v17; // [sp+28h] [bp-20h]@11
  int v18; // [sp+2Ch] [bp-1Ch]@14
  int v19; // [sp+30h] [bp-18h]@14
  int v20; // [sp+34h] [bp-14h]@7
  _DWORD *v21; // [sp+38h] [bp-10h]@8
  unsigned int v22; // [sp+3Ch] [bp-Ch]@1
  int v23; // [sp+40h] [bp-8h]@10
  void (__stdcall *v24)(int, int, int, int, int); // [sp+44h] [bp-4h]@14

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 432);
  v22 = *(_DWORD *)(a1 + 324) - 1;
  while ( 1 )
  {
    v4 = *(_DWORD *)(a1 + 148);
    v5 = *(_DWORD *)(a1 + 156);
    if ( v4 >= v5 && (v4 != v5 || *(_DWORD *)(a1 + 152) > *(_DWORD *)(a1 + 160)) )
      break;
    result = (**(int (__stdcall ***)(_DWORD))(a1 + 440))(a1);
    if ( !result )
      return result;
  }
  v7 = 0;
  v8 = *(_DWORD *)(a1 + 220);
  v20 = 0;
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v9 = (_DWORD *)(v3 + 72);
    v21 = v9;
    do
    {
      if ( *(_DWORD *)(v8 + 48) )
      {
        v23 = (*(int (__stdcall **)(int, _DWORD, int, _DWORD, _DWORD))(*(_DWORD *)(v2 + 4) + 32))(
                v2,
                *v9,
                *(_DWORD *)(v8 + 12) * *(_DWORD *)(v2 + 160),
                *(_DWORD *)(v8 + 12),
                0);
        if ( *(_DWORD *)(v2 + 160) >= v22 )
        {
          v17 = *(_DWORD *)(v8 + 32) % *(_DWORD *)(v8 + 12);
          if ( !v17 )
            v17 = *(_DWORD *)(v8 + 12);
        }
        else
        {
          v17 = *(_DWORD *)(v8 + 12);
        }
        v18 = *(_DWORD *)(a2 + 4 * v7);
        v24 = *(void (__stdcall **)(int, int, int, int, int))(*(_DWORD *)(v2 + 452) + 4 * v7 + 4);
        v10 = 0;
        v19 = 0;
        if ( v17 > 0 )
        {
          v11 = *(_DWORD *)(v8 + 28);
          do
          {
            v12 = *(_DWORD *)(v23 + 4 * v10);
            v13 = 0;
            v14 = 0;
            if ( v11 )
            {
              do
              {
                v24(a1, v8, v12, v18, v13);
                v13 += *(_DWORD *)(v8 + 36);
                v11 = *(_DWORD *)(v8 + 28);
                v12 += 128;
                ++v14;
              }
              while ( v14 < v11 );
              v10 = v19;
            }
            v18 += 4 * *(_DWORD *)(v8 + 36);
            v19 = ++v10;
          }
          while ( v10 < v17 );
          v2 = a1;
          v7 = v20;
        }
      }
      ++v7;
      v9 = v21 + 1;
      v8 += 84;
      v20 = v7;
      ++v21;
    }
    while ( v7 < *(_DWORD *)(v2 + 36) );
  }
  v15 = *(_DWORD *)(v2 + 324);
  v16 = *(_DWORD *)(v2 + 160) + 1;
  *(_DWORD *)(v2 + 160) = v16;
  return 4 - (v16 < v15);
}

//----- (0043A890) --------------------------------------------------------
signed int __usercall sub_43A890@<eax>(int a1@<ebx>)
{
  int v1; // ebp@1
  int v2; // esi@1
  int v3; // esi@5
  int v4; // edi@5
  int v5; // ecx@6
  int v6; // eax@7
  int v7; // eax@14
  int v8; // edx@14
  int v9; // eax@14
  int v10; // edx@15
  int v11; // edx@17
  int v12; // edx@19
  int v13; // edx@21
  int v14; // eax@23
  signed int v16; // [sp+Ch] [bp-8h]@1
  int *v17; // [sp+10h] [bp-4h]@6

  v1 = 0;
  v2 = *(_DWORD *)(a1 + 432);
  v16 = 0;
  if ( *(_DWORD *)(a1 + 224) && *(_DWORD *)(a1 + 164) )
  {
    if ( !*(_DWORD *)(v2 + 112) )
      *(_DWORD *)(v2 + 112) = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(
                                a1,
                                1,
                                24 * *(_DWORD *)(a1 + 36));
    v3 = *(_DWORD *)(v2 + 112);
    v4 = 0;
    if ( *(_DWORD *)(a1 + 36) <= 0 )
      return v16;
    v17 = (int *)(*(_DWORD *)(a1 + 220) + 76);
    v5 = v3 + 4;
    while ( 1 )
    {
      v6 = *v17;
      if ( !*v17 )
        break;
      if ( !*(_WORD *)v6 )
        break;
      if ( !*(_WORD *)(v6 + 2) )
        break;
      if ( !*(_WORD *)(v6 + 16) )
        break;
      if ( !*(_WORD *)(v6 + 32) )
        break;
      if ( !*(_WORD *)(v6 + 18) )
        break;
      if ( !*(_WORD *)(v6 + 4) )
        break;
      v7 = *(_DWORD *)(a1 + 164);
      v8 = *(_DWORD *)(v7 + v1);
      v9 = v1 + v7;
      if ( v8 < 0 )
        break;
      v10 = *(_DWORD *)(v9 + 4);
      *(_DWORD *)v5 = v10;
      if ( v10 )
        v16 = 1;
      v11 = *(_DWORD *)(v9 + 8);
      *(_DWORD *)(v5 + 4) = v11;
      if ( v11 )
        v16 = 1;
      v12 = *(_DWORD *)(v9 + 12);
      *(_DWORD *)(v5 + 8) = v12;
      if ( v12 )
        v16 = 1;
      v13 = *(_DWORD *)(v9 + 16);
      *(_DWORD *)(v5 + 12) = v13;
      if ( v13 )
        v16 = 1;
      v14 = *(_DWORD *)(v9 + 20);
      *(_DWORD *)(v5 + 16) = v14;
      if ( v14 )
        v16 = 1;
      v5 += 24;
      ++v4;
      v1 += 256;
      v17 += 21;
      if ( v4 >= *(_DWORD *)(a1 + 36) )
        return v16;
    }
  }
  return 0;
}

//----- (0043A9E0) --------------------------------------------------------
int __stdcall sub_43A9E0(int a1, int a2)
{
  int v2; // eax@2
  int v3; // ebp@7
  unsigned int v4; // esi@10
  unsigned int v5; // ecx@10
  int v6; // ebx@11
  int v7; // eax@11
  unsigned int v9; // ett@13
  int v10; // ST08_4@17
  char *v11; // esi@17
  int v12; // eax@19
  _WORD *v13; // eax@20
  _WORD *v14; // ecx@21
  int v15; // esi@26
  int v16; // edi@26
  int v17; // ebx@26
  int v18; // ecx@29
  int v19; // edx@31
  signed int v20; // ebp@31
  int v21; // eax@31
  int v22; // eax@32
  int v23; // eax@35
  int v24; // ecx@40
  int v25; // edx@42
  signed int v26; // ebp@42
  int v27; // eax@42
  int v28; // eax@43
  int v29; // eax@46
  int v30; // ecx@51
  int v31; // edx@53
  signed int v32; // ebp@53
  int v33; // eax@53
  int v34; // eax@54
  int v35; // eax@57
  int v36; // ecx@62
  int v37; // edx@64
  signed int v38; // edi@64
  int v39; // eax@64
  int v40; // eax@65
  int v41; // eax@68
  int v42; // ecx@73
  int v43; // edx@75
  signed int v44; // edi@75
  int v45; // eax@75
  int v46; // eax@76
  int v47; // eax@79
  bool v48; // cf@84
  bool v49; // zf@84
  int v50; // ecx@86
  bool v51; // sf@86
  unsigned __int8 v52; // of@86
  unsigned int v53; // edx@87
  unsigned int v54; // esi@87
  int v55; // [sp+24h] [bp-104h]@19
  int v56; // [sp+28h] [bp-100h]@19
  int v57; // [sp+2Ch] [bp-FCh]@20
  int v58; // [sp+30h] [bp-F8h]@26
  int v59; // [sp+34h] [bp-F4h]@11
  int v60; // [sp+38h] [bp-F0h]@26
  char *v61; // [sp+3Ch] [bp-ECh]@8
  int v62; // [sp+40h] [bp-E8h]@26
  int v63; // [sp+44h] [bp-E4h]@7
  int v64; // [sp+48h] [bp-E0h]@19
  int v65; // [sp+4Ch] [bp-DCh]@26
  unsigned int v66; // [sp+50h] [bp-D8h]@26
  int v67; // [sp+54h] [bp-D4h]@26
  int v68; // [sp+58h] [bp-D0h]@26
  _WORD *v69; // [sp+5Ch] [bp-CCh]@26
  int v70; // [sp+60h] [bp-C8h]@19
  _WORD *v71; // [sp+64h] [bp-C4h]@26
  int v72; // [sp+68h] [bp-C0h]@7
  int v73; // [sp+6Ch] [bp-BCh]@26
  int v74; // [sp+70h] [bp-B8h]@8
  int v75; // [sp+74h] [bp-B4h]@17
  int v76; // [sp+78h] [bp-B0h]@19
  int v77; // [sp+7Ch] [bp-ACh]@1
  int v78; // [sp+80h] [bp-A8h]@19
  signed int v79; // [sp+84h] [bp-A4h]@11
  unsigned int v80; // [sp+88h] [bp-A0h]@26
  int v81; // [sp+8Ch] [bp-9Ch]@19
  int v82; // [sp+90h] [bp-98h]@19
  signed int v83; // [sp+94h] [bp-94h]@17
  int v84; // [sp+98h] [bp-90h]@19
  unsigned int v85; // [sp+9Ch] [bp-8Ch]@1
  void (__stdcall *v86)(int, int, char *, int, int); // [sp+A0h] [bp-88h]@19
  char v87; // [sp+A8h] [bp-80h]@27
  __int16 v88; // [sp+AAh] [bp-7Eh]@30
  __int16 v89; // [sp+ACh] [bp-7Ch]@74
  __int16 v90; // [sp+B8h] [bp-70h]@41
  __int16 v91; // [sp+BAh] [bp-6Eh]@63
  __int16 v92; // [sp+C8h] [bp-60h]@52

  v77 = *(_DWORD *)(a1 + 432);
  v85 = *(_DWORD *)(a1 + 324) - 1;
  while ( *(_DWORD *)(a1 + 148) <= *(_DWORD *)(a1 + 156) )
  {
    v2 = *(_DWORD *)(a1 + 440);
    if ( *(_DWORD *)(v2 + 20)
      || *(_DWORD *)(a1 + 148) == *(_DWORD *)(a1 + 156)
      && *(_DWORD *)(a1 + 152) > *(_DWORD *)(a1 + 160) + (unsigned int)(*(_DWORD *)(a1 + 404) == 0) )
    {
      break;
    }
    if ( !(*(int (__stdcall **)(int))v2)(a1) )
      return 0;
  }
  v3 = *(_DWORD *)(a1 + 220);
  v72 = 0;
  v63 = *(_DWORD *)(a1 + 220);
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v61 = (char *)(v77 + 72);
    v74 = 0;
    do
    {
      if ( *(_DWORD *)(v3 + 48) )
      {
        v4 = *(_DWORD *)(a1 + 160);
        v5 = *(_DWORD *)(v3 + 12);
        if ( v4 >= v85 )
        {
          v9 = *(_DWORD *)(v3 + 32);
          v6 = v9 % v5;
          v59 = v9 % v5;
          if ( !(v9 % v5) )
          {
            v6 = *(_DWORD *)(v3 + 12);
            v59 = *(_DWORD *)(v3 + 12);
          }
          v7 = v6;
          v79 = 1;
        }
        else
        {
          v6 = *(_DWORD *)(v3 + 12);
          v59 = *(_DWORD *)(v3 + 12);
          v7 = 2 * v5;
          v79 = 0;
        }
        if ( v4 )
        {
          v10 = v5 * (v4 - 1);
          v11 = v61;
          v75 = (*(int (__stdcall **)(int, _DWORD, int, int, _DWORD))(*(_DWORD *)(a1 + 4) + 32))(
                  a1,
                  *(_DWORD *)v61,
                  v10,
                  v5 + v7,
                  0)
              + 4 * *(_DWORD *)(v3 + 12);
          v83 = 0;
        }
        else
        {
          v11 = v61;
          v75 = (*(int (__stdcall **)(int, _DWORD, _DWORD, int, _DWORD))(*(_DWORD *)(a1 + 4) + 32))(
                  a1,
                  *(_DWORD *)v61,
                  0,
                  v7,
                  0);
          v83 = 1;
        }
        v56 = v74 + *(_DWORD *)(v77 + 112);
        v12 = *(_DWORD *)(v3 + 76);
        v55 = *(_WORD *)v12;
        v82 = *(_WORD *)(v12 + 2);
        v81 = *(_WORD *)(v12 + 16);
        v84 = *(_WORD *)(v12 + 32);
        v76 = *(_WORD *)(v12 + 18);
        v78 = *(_WORD *)(v12 + 4);
        v86 = *(void (__stdcall **)(int, int, char *, int, int))(&v11[*(_DWORD *)(a1 + 452) + 4] + -72 - v77);
        v64 = *(_DWORD *)(a2 + 4 * v72);
        v70 = 0;
        if ( v6 > 0 )
        {
          do
          {
            v13 = *(_WORD **)(v75 + 4 * v70);
            v57 = *(_DWORD *)(v75 + 4 * v70);
            if ( !v83 || (v14 = *(_WORD **)(v75 + 4 * v70), v70) )
              v14 = *(_WORD **)(v75 + 4 * v70 - 4);
            if ( !v79 || v70 != v59 - 1 )
              v13 = *(_WORD **)(v75 + 4 * v70 + 4);
            v15 = *(_WORD *)v57;
            v16 = *v14;
            v17 = *v13;
            v68 = *v14;
            v60 = *v14;
            v58 = *(_WORD *)v57;
            v73 = *(_WORD *)v57;
            v67 = *v13;
            v62 = *v13;
            v65 = 0;
            v80 = *(_DWORD *)(v3 + 28) - 1;
            v66 = 0;
            v69 = v13 + 64;
            v71 = v14 + 64;
            do
            {
              sub_438180((const void *)v57, &v87, 1);
              if ( v66 < v80 )
              {
                v15 = *(_WORD *)(v57 + 128);
                v68 = *v71;
                v67 = *v69;
              }
              v18 = *(_DWORD *)(v56 + 4);
              if ( v18 && !v88 )
              {
                v19 = 36 * v55 * (v73 - v15);
                v20 = v82 << 8;
                v21 = v82 << 7;
                if ( v19 < 0 )
                {
                  v23 = (v21 - v19) / v20;
                  if ( v18 > 0 && v23 >= 1 << v18 )
                    v23 = (1 << v18) - 1;
                  v22 = -v23;
                }
                else
                {
                  v22 = (v19 + v21) / v20;
                  if ( v18 > 0 && v22 >= 1 << v18 )
                    v22 = (1 << v18) - 1;
                }
                v3 = v63;
                v88 = v22;
              }
              v24 = *(_DWORD *)(v56 + 8);
              if ( v24 && !v90 )
              {
                v25 = 36 * v55 * (v60 - v62);
                v26 = v81 << 8;
                v27 = v81 << 7;
                if ( v25 < 0 )
                {
                  v29 = (v27 - v25) / v26;
                  if ( v24 > 0 && v29 >= 1 << v24 )
                    v29 = (1 << v24) - 1;
                  v28 = -v29;
                }
                else
                {
                  v28 = (v25 + v27) / v26;
                  if ( v24 > 0 && v28 >= 1 << v24 )
                    v28 = (1 << v24) - 1;
                }
                v3 = v63;
                v90 = v28;
              }
              v30 = *(_DWORD *)(v56 + 12);
              if ( v30 && !v92 )
              {
                v31 = 9 * v55 * (v60 + v62 - 2 * v58);
                v32 = v84 << 8;
                v33 = v84 << 7;
                if ( v31 < 0 )
                {
                  v35 = (v33 - v31) / v32;
                  if ( v30 > 0 && v35 >= 1 << v30 )
                    v35 = (1 << v30) - 1;
                  v34 = -v35;
                }
                else
                {
                  v34 = (v31 + v33) / v32;
                  if ( v30 > 0 && v34 >= 1 << v30 )
                    v34 = (1 << v30) - 1;
                }
                v3 = v63;
                v92 = v34;
              }
              v36 = *(_DWORD *)(v56 + 16);
              if ( v36 && !v91 )
              {
                v37 = 5 * v55 * (v16 + v67 - v17 - v68);
                v38 = v76 << 8;
                v39 = v76 << 7;
                if ( v37 < 0 )
                {
                  v41 = (v39 - v37) / v38;
                  if ( v36 > 0 && v41 >= 1 << v36 )
                    v41 = (1 << v36) - 1;
                  v40 = -v41;
                }
                else
                {
                  v40 = (v37 + v39) / v38;
                  if ( v36 > 0 && v40 >= 1 << v36 )
                    v40 = (1 << v36) - 1;
                }
                v91 = v40;
              }
              v42 = *(_DWORD *)(v56 + 20);
              if ( v42 && !v89 )
              {
                v43 = 9 * v55 * (v73 + v15 - 2 * v58);
                v44 = v78 << 8;
                v45 = v78 << 7;
                if ( v43 < 0 )
                {
                  v47 = (v45 - v43) / v44;
                  if ( v42 > 0 && v47 >= 1 << v42 )
                    v47 = (1 << v42) - 1;
                  v46 = -v47;
                }
                else
                {
                  v46 = (v43 + v45) / v44;
                  if ( v42 > 0 && v46 >= 1 << v42 )
                    v46 = (1 << v42) - 1;
                }
                v89 = v46;
              }
              v86(a1, v3, &v87, v64, v65);
              v16 = v60;
              v17 = v62;
              v60 = v68;
              v62 = v67;
              v57 += 128;
              v73 = v58;
              v69 += 64;
              v65 += *(_DWORD *)(v3 + 36);
              v48 = v66 + 1 < v80;
              v49 = v66 + 1 == v80;
              v58 = v15;
              v71 += 64;
              ++v66;
            }
            while ( v48 || v49 );
            v64 += 4 * *(_DWORD *)(v3 + 36);
            ++v70;
          }
          while ( v70 < v59 );
        }
      }
      v50 = *(_DWORD *)(a1 + 36);
      v3 += 84;
      v52 = __OFSUB__(v72 + 1, v50);
      v51 = v72++ + 1 - v50 < 0;
      v74 += 24;
      v61 += 4;
      v63 = v3;
    }
    while ( v51 ^ v52 );
  }
  v53 = *(_DWORD *)(a1 + 324);
  v54 = *(_DWORD *)(a1 + 160) + 1;
  *(_DWORD *)(a1 + 160) = v54;
  return 4 - (v54 < v53);
}

//----- (0043B040) --------------------------------------------------------
signed int __stdcall sub_43B040(int a1)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = *(_DWORD *)(a1 + 432);
  result = *(_DWORD *)(v1 + 16);
  if ( result )
  {
    result = *(_DWORD *)(a1 + 80);
    if ( result )
    {
      result = sub_43A890(a1);
      if ( result )
      {
        *(_DWORD *)(v1 + 12) = sub_43A9E0;
        *(_DWORD *)(a1 + 160) = 0;
        return result;
      }
    }
    *(_DWORD *)(v1 + 12) = sub_43A700;
  }
  *(_DWORD *)(a1 + 160) = 0;
  return result;
}

//----- (0043B090) --------------------------------------------------------
int __stdcall sub_43B090(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ebx@1
  int result; // eax@1
  int v5; // edi@2
  int v6; // edi@3
  signed int v7; // ecx@4
  int v8; // ebp@6
  signed int v9; // ST14_4@6
  int v10; // ST10_4@6
  int v11; // eax@6
  int v12; // eax@8
  int v13; // [sp+24h] [bp+4h]@2
  _DWORD *v14; // [sp+28h] [bp+8h]@3

  v2 = a1;
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 116);
  result = a2;
  *(_DWORD *)(a1 + 432) = v3;
  *(_DWORD *)v3 = sub_43A1F0;
  *(_DWORD *)(v3 + 8) = sub_43B040;
  *(_DWORD *)(v3 + 112) = 0;
  if ( a2 )
  {
    v5 = *(_DWORD *)(a1 + 220);
    v13 = 0;
    if ( *(_DWORD *)(v2 + 36) > 0 )
    {
      v6 = v5 + 12;
      v14 = (_DWORD *)(v3 + 72);
      do
      {
        v7 = *(_DWORD *)v6;
        if ( *(_DWORD *)(v2 + 224) )
          v7 *= 3;
        v8 = *(_DWORD *)(v2 + 4);
        v9 = v7;
        v10 = sub_438110(*(_DWORD *)(v6 + 20), *(_DWORD *)v6);
        v11 = sub_438110(*(_DWORD *)(v6 + 16), *(_DWORD *)(v6 - 4));
        *v14 = (*(int (__stdcall **)(int, signed int, signed int, int, int, signed int))(v8 + 20))(
                 v2,
                 1,
                 1,
                 v11,
                 v10,
                 v9);
        result = v13 + 1;
        ++v14;
        v6 += 84;
        ++v13;
      }
      while ( v13 < *(_DWORD *)(v2 + 36) );
    }
    *(_DWORD *)(v3 + 4) = sub_43A4C0;
    *(_DWORD *)(v3 + 12) = sub_43A700;
    *(_DWORD *)(v3 + 16) = v3 + 72;
  }
  else
  {
    v12 = (*(int (__stdcall **)(int, signed int, signed int))(*(_DWORD *)(a1 + 4) + 4))(a1, 1, 1280);
    *(_DWORD *)(v3 + 36) = v12 + 128;
    *(_DWORD *)(v3 + 40) = v12 + 256;
    *(_DWORD *)(v3 + 44) = v12 + 384;
    *(_DWORD *)(v3 + 48) = v12 + 512;
    *(_DWORD *)(v3 + 52) = v12 + 640;
    *(_DWORD *)(v3 + 56) = v12 + 768;
    *(_DWORD *)(v3 + 32) = v12;
    *(_DWORD *)(v3 + 60) = v12 + 896;
    *(_DWORD *)(v3 + 64) = v12 + 1024;
    result = v12 + 1152;
    *(_DWORD *)(v3 + 68) = result;
    *(_DWORD *)(v3 + 16) = 0;
    *(_DWORD *)(v3 + 4) = std::_Ref_count_base::_Get_deleter;
    *(_DWORD *)(v3 + 12) = sub_43A210;
  }
  return result;
}
// 43A1F0: using guessed type int __stdcall sub_43A1F0(int);

//----- (0043B1D0) --------------------------------------------------------
int __stdcall sub_43B1D0(int *a1, int a2, signed int a3, int a4)
{
  int *v4; // edi@3
  int v5; // eax@3
  int v6; // esi@6
  int v7; // eax@9
  signed int v8; // ebx@12
  int v9; // ebp@12
  unsigned int v10; // esi@14
  int v11; // eax@16
  int v12; // eax@18
  signed int v13; // edi@20
  int v14; // esi@20
  int v15; // ebx@20
  char *v16; // eax@21
  int v17; // ecx@23
  int v18; // eax@25
  int v19; // ecx@27
  signed int v20; // eax@27
  int v21; // ebx@28
  unsigned __int8 v22; // dl@28
  int v23; // edi@29
  int v24; // edx@29
  int v25; // esi@32
  int v26; // edx@32
  char v27; // cl@32
  signed int v28; // ebp@32
  int v29; // eax@35
  char v30; // bl@36
  _BYTE *v31; // edx@36
  signed int *v32; // eax@36
  signed int v33; // esi@36
  bool v34; // zf@39
  int result; // eax@41
  int i; // esi@42
  int v37; // eax@44
  signed int v38; // [sp+18h] [bp-524h]@12
  signed int v39; // [sp+18h] [bp-524h]@32
  int v40; // [sp+1Ch] [bp-520h]@6
  int v41; // [sp+20h] [bp-51Ch]@12
  char *v42; // [sp+24h] [bp-518h]@34
  int v43; // [sp+28h] [bp-514h]@32
  int v44; // [sp+2Ch] [bp-510h]@34
  int v45; // [sp+30h] [bp-50Ch]@20
  char v46; // [sp+34h] [bp-508h]@18
  char v47[255]; // [sp+35h] [bp-507h]@23
  int v48; // [sp+134h] [bp-408h]@29
  int v49[257]; // [sp+138h] [bp-404h]@23

  if ( a3 >= 0 && a3 < 4 )
  {
    v4 = a1;
  }
  else
  {
    v4 = a1;
    v5 = *a1;
    *(_DWORD *)(v5 + 20) = 50;
    *(_DWORD *)(v5 + 24) = a3;
    (*(void (__stdcall **)(int *))v5)(a1);
  }
  if ( a2 )
  {
    v6 = v4[a3 + 46];
    v40 = v4[a3 + 46];
  }
  else
  {
    v40 = v4[a3 + 50];
    v6 = v4[a3 + 50];
  }
  if ( !v6 )
  {
    v7 = *v4;
    *(_DWORD *)(v7 + 20) = 50;
    *(_DWORD *)(v7 + 24) = a3;
    (*(void (__stdcall **)(int *))v7)(v4);
  }
  if ( !*(_DWORD *)a4 )
    *(_DWORD *)a4 = (*(int (__stdcall **)(int *, signed int, signed int))v4[1])(v4, 1, 1424);
  v8 = 1;
  v41 = *(_DWORD *)a4;
  *(_DWORD *)(*(_DWORD *)a4 + 140) = v6;
  v9 = 0;
  v38 = 1;
  while ( 1 )
  {
    v10 = *(_BYTE *)(v8 + v6);
    if ( (v10 & 0x80000000) != 0 || (signed int)(v10 + v9) > 256 )
    {
      v11 = *v4;
      *(_DWORD *)(v11 + 20) = 8;
      (*(void (__stdcall **)(int *))v11)(v4);
    }
    if ( v10 )
    {
      BYTE1(v8) = v8;
      v12 = v8 << 16;
      LOWORD(v12) = v8;
      v8 = v38;
      memset32(&v46 + v9, v12, v10 >> 2);
      memset(&v46 + 4 * (v10 >> 2) + v9, v12, v10 & 3);
      v4 = a1;
      v9 += v10;
    }
    v38 = ++v8;
    if ( v8 > 16 )
      break;
    v6 = v40;
  }
  *(&v46 + v9) = 0;
  v13 = 0;
  v14 = 0;
  v45 = v9;
  v15 = v46;
  if ( v46 )
  {
    v16 = &v46;
    do
    {
      if ( *v16 == v15 )
      {
        do
        {
          v17 = v47[v14];
          v49[v14++] = v13++;
        }
        while ( v17 == v15 );
      }
      if ( v13 >= 1 << v15 )
      {
        v18 = *a1;
        *(_DWORD *)(v18 + 20) = 8;
        (*(void (__stdcall **)(int *))v18)(a1);
      }
      v16 = &v46 + v14;
      v13 *= 2;
      ++v15;
    }
    while ( *(&v46 + v14) );
  }
  v19 = 0;
  v20 = 1;
  do
  {
    v21 = v40;
    v22 = *(_BYTE *)(v20 + v40);
    if ( v22 )
    {
      v23 = v19 - v49[v19];
      v19 += v22;
      v24 = *(&v48 + v19);
      *(_DWORD *)(v41 + 4 * v20 + 72) = v23;
      *(_DWORD *)(v41 + 4 * v20) = v24;
    }
    else
    {
      *(_DWORD *)(v41 + 4 * v20) = -1;
    }
    ++v20;
  }
  while ( v20 <= 16 );
  v25 = v41;
  *(_DWORD *)(v41 + 68) = 0xFFFFF;
  memset((void *)(v41 + 144), 0, 0x400u);
  v26 = 0;
  v27 = 7;
  v43 = 0;
  v28 = 1;
  v39 = 7;
  do
  {
    if ( (signed int)*(_BYTE *)(v21 + v28) >= 1 )
    {
      v42 = (char *)(v26 + v21 + 17);
      v44 = *(_BYTE *)(v21 + v28);
      do
      {
        v29 = v49[v26] << v39;
        if ( 1 << v27 > 0 )
        {
          v30 = *v42;
          v31 = (_BYTE *)(v29 + v25 + 1168);
          v32 = (signed int *)(v25 + 4 * v29 + 144);
          v33 = 1 << v27;
          do
          {
            *v32 = v28;
            ++v32;
            *v31++ = v30;
            --v33;
          }
          while ( v33 );
          v25 = v41;
          v21 = v40;
          v26 = v43;
        }
        ++v26;
        v34 = v44 == 1;
        v43 = v26;
        ++v42;
        --v44;
      }
      while ( !v34 );
    }
    ++v28;
    v27 = v39-- - 1;
  }
  while ( v39 >= 0 );
  result = a2;
  if ( a2 )
  {
    for ( i = 0; i < v45; ++i )
    {
      result = *(_BYTE *)(v21 + i + 17);
      if ( result > 15 )
      {
        v37 = *a1;
        *(_DWORD *)(v37 + 20) = 8;
        result = (*(int (__stdcall **)(int *))v37)(a1);
      }
    }
  }
  return result;
}
// 43B1D0: using guessed type char var_507[255];
// 43B1D0: using guessed type int var_404[257];

//----- (0043B4A0) --------------------------------------------------------
signed int __stdcall sub_43B4A0(int a1, int a2, signed int a3, signed int a4)
{
  int v4; // ebx@1
  _BYTE *v5; // esi@1
  int v6; // edi@1
  int v7; // eax@5
  signed int v8; // eax@6
  int v9; // eax@9
  int v10; // eax@10
  bool v11; // sf@13
  unsigned __int8 v12; // of@13
  int v14; // eax@19
  int v15; // eax@20

  v4 = *(_DWORD *)(a1 + 16);
  v5 = *(_BYTE **)a1;
  v6 = *(_DWORD *)(a1 + 4);
  if ( *(_DWORD *)(v4 + 420) )
    goto LABEL_17;
  if ( a3 < 25 )
  {
    do
    {
      if ( !v6 )
      {
        if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(v4 + 24) + 12))(v4) )
          return 0;
        v7 = *(_DWORD *)(v4 + 24);
        v5 = *(_BYTE **)v7;
        v6 = *(_DWORD *)(v7 + 4);
      }
      v8 = *v5;
      --v6;
      ++v5;
      if ( v8 == 255 )
      {
        do
        {
          if ( !v6 )
          {
            if ( !(*(int (__stdcall **)(int))(*(_DWORD *)(v4 + 24) + 12))(v4) )
              return 0;
            v9 = *(_DWORD *)(v4 + 24);
            v5 = *(_BYTE **)v9;
            v6 = *(_DWORD *)(v9 + 4);
          }
          v10 = *v5;
          --v6;
          ++v5;
        }
        while ( v10 == 255 );
        if ( v10 )
        {
          *(_DWORD *)(v4 + 420) = v10;
LABEL_17:
          if ( a4 > a3 )
          {
            if ( !*(_DWORD *)(*(_DWORD *)(v4 + 448) + 8) )
            {
              v14 = *(_DWORD *)v4;
              *(_DWORD *)(v14 + 20) = 117;
              (*(void (__stdcall **)(int, signed int))(v14 + 4))(v4, -1);
              *(_DWORD *)(*(_DWORD *)(v4 + 448) + 8) = 1;
            }
            v15 = a2 << (25 - a3);
            a3 = 25;
            a2 = v15;
          }
          break;
        }
        v8 = 255;
      }
      v12 = __OFSUB__(a3 + 8, 25);
      v11 = a3 - 17 < 0;
      a2 = v8 | (a2 << 8);
      a3 += 8;
    }
    while ( v11 ^ v12 );
  }
  *(_DWORD *)(a1 + 4) = v6;
  *(_DWORD *)a1 = v5;
  *(_DWORD *)(a1 + 8) = a2;
  *(_DWORD *)(a1 + 12) = a3;
  return 1;
}

//----- (0043B5C0) --------------------------------------------------------
signed int __stdcall sub_43B5C0(int a1, int a2, signed int a3, int a4, signed int a5)
{
  signed int v5; // eax@1
  signed int result; // eax@3
  int v7; // edx@4
  signed int v8; // eax@6
  int v9; // ecx@6
  int v10; // esi@6
  signed int v11; // ebx@6
  int v12; // esi@7
  int v13; // ebp@10
  int *v14; // edi@12
  int v15; // eax@12

  v5 = a3;
  if ( a3 >= a5 )
  {
    v7 = a2;
  }
  else
  {
    if ( !sub_43B4A0(a1, a2, a3, a5) )
      return -1;
    v7 = *(_DWORD *)(a1 + 8);
    v5 = *(_DWORD *)(a1 + 12);
  }
  v8 = v5 - a5;
  v9 = a4;
  v10 = ((1 << a5) - 1) & (v7 >> v8);
  v11 = a5;
  if ( v10 > *(_DWORD *)(a4 + 4 * a5) )
  {
    do
    {
      v12 = 2 * v10;
      if ( v8 < 1 )
      {
        if ( !sub_43B4A0(a1, v7, v8, 1) )
          return -1;
        v7 = *(_DWORD *)(a1 + 8);
        v8 = *(_DWORD *)(a1 + 12);
      }
      --v8;
      v9 = a4;
      v10 = (v7 >> v8) & 1 | v12;
      v13 = *(_DWORD *)(a4 + 4 * v11++ + 4);
    }
    while ( v10 > v13 );
  }
  *(_DWORD *)(a1 + 8) = v7;
  *(_DWORD *)(a1 + 12) = v8;
  if ( v11 <= 16 )
  {
    result = *(_BYTE *)(*(_DWORD *)(v9 + 140) + *(_DWORD *)(v9 + 4 * v11 + 72) + v10 + 17);
  }
  else
  {
    v14 = *(int **)(a1 + 16);
    v15 = *v14;
    *(_DWORD *)(v15 + 20) = 118;
    (*(void (__stdcall **)(int *, signed int))(v15 + 4))(v14, -1);
    result = 0;
  }
  return result;
}

//----- (0043B6A0) --------------------------------------------------------
int __usercall sub_43B6A0@<eax>(int a1@<esi>)
{
  int v1; // ecx@1
  int v2; // ebx@1
  int result; // eax@1
  int v4; // ecx@2

  v1 = *(_DWORD *)(a1 + 444);
  v2 = *(_DWORD *)(a1 + 448);
  *(_DWORD *)(v1 + 24) += *(_DWORD *)(v2 + 16) / 8;
  *(_DWORD *)(v2 + 16) = 0;
  result = (*(int (__stdcall **)(int))(v1 + 8))(a1);
  if ( result )
  {
    v4 = *(_DWORD *)(a1 + 332);
    if ( v4 > 0 )
      memset((void *)(v2 + 20), 0, 4 * v4);
    *(_DWORD *)(v2 + 36) = *(_DWORD *)(a1 + 280);
    if ( !*(_DWORD *)(a1 + 420) )
      *(_DWORD *)(v2 + 8) = 0;
    result = 1;
  }
  return result;
}

//----- (0043B710) --------------------------------------------------------
int __stdcall sub_43B710(int a1, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int result; // eax@3
  int v5; // eax@5
  int v6; // ecx@5
  int v7; // edx@5
  signed int v8; // eax@5
  int v9; // ebx@5
  int v10; // ecx@5
  int v11; // edx@5
  int *v12; // ecx@6
  _WORD *v13; // esi@8
  int v14; // ebp@8
  int v15; // ebx@8
  signed int v16; // ecx@11
  int v17; // edi@12
  int v18; // ecx@12
  int v19; // edi@13
  int v20; // ebx@21
  int v21; // ecx@25
  int v22; // esi@27
  signed int v23; // ecx@31
  int v24; // edi@32
  int v25; // ecx@32
  signed int v26; // edi@33
  signed int v27; // ecx@37
  int v28; // edi@37
  int v29; // esi@38
  int v30; // ebx@41
  int v31; // ebx@49
  signed int v32; // ecx@53
  int v33; // edi@54
  int v34; // ecx@54
  signed int v35; // edi@55
  signed int v36; // ecx@59
  int v37; // edi@59
  int v38; // ebx@60
  int v39; // edi@67
  bool v40; // sf@67
  unsigned __int8 v41; // of@67
  int v42; // ecx@69
  int v43; // esi@69
  int v44; // edx@69
  int v45; // eax@69
  int v46; // ecx@69
  int v47; // [sp+8h] [bp-3Ch]@6
  int v48; // [sp+Ch] [bp-38h]@8
  int v49; // [sp+10h] [bp-34h]@5
  int *v50; // [sp+14h] [bp-30h]@6
  int v51; // [sp+18h] [bp-2Ch]@8
  int v52; // [sp+1Ch] [bp-28h]@1
  int v53; // [sp+20h] [bp-24h]@5
  int v54; // [sp+24h] [bp-20h]@5
  int v55; // [sp+28h] [bp-1Ch]@5
  int v56; // [sp+2Ch] [bp-18h]@5
  int v57; // [sp+30h] [bp-14h]@5
  int v58; // [sp+34h] [bp-10h]@5
  int v59; // [sp+38h] [bp-Ch]@10
  int v60; // [sp+3Ch] [bp-8h]@10
  int v61; // [sp+40h] [bp-4h]@5

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 448);
  v52 = *(_DWORD *)(a1 + 448);
  if ( *(_DWORD *)(a1 + 280) )
  {
    if ( !*(_DWORD *)(v3 + 36) )
    {
      result = sub_43B6A0(a1);
      if ( !result )
        return result;
    }
  }
  if ( *(_DWORD *)(v3 + 8) )
    goto LABEL_70;
  v5 = *(_DWORD *)(a1 + 24);
  v6 = *(_DWORD *)v5;
  v7 = *(_DWORD *)(v5 + 4);
  v8 = *(_DWORD *)(v3 + 16);
  v57 = v6;
  v53 = *(_DWORD *)(v3 + 20);
  v54 = *(_DWORD *)(v3 + 24);
  v9 = *(_DWORD *)(v3 + 28);
  v56 = *(_DWORD *)(v3 + 32);
  v10 = *(_DWORD *)(a1 + 360);
  v58 = v7;
  v11 = *(_DWORD *)(v3 + 12);
  v61 = a1;
  v55 = v9;
  v49 = 0;
  if ( v10 <= 0 )
    goto LABEL_69;
  v12 = (int *)(v3 + 112);
  v50 = (int *)(a1 + 364);
  v47 = v3 + 112;
  while ( 2 )
  {
    v13 = *(_WORD **)(a2 + 4 * v49);
    v14 = *v12;
    v15 = *(v12 - 10);
    v51 = *(_DWORD *)(a2 + 4 * v49);
    v48 = *v12;
    if ( v8 < 8 )
    {
      if ( !sub_43B4A0((int)&v57, v11, v8, 0) )
        return 0;
      v8 = v60;
      v11 = v59;
      if ( v60 < 8 )
      {
        v16 = 1;
LABEL_15:
        v19 = sub_43B5C0((int)&v57, v11, v8, v15, v16);
        if ( v19 < 0 )
          return 0;
        v11 = v59;
        v8 = v60;
        goto LABEL_17;
      }
    }
    v17 = (v11 >> (v8 - 8)) & 0xFF;
    v18 = *(_DWORD *)(v15 + 4 * v17 + 144);
    if ( !v18 )
    {
      v16 = 9;
      goto LABEL_15;
    }
    v19 = *(_BYTE *)(v17 + v15 + 1168);
    v8 -= v18;
LABEL_17:
    if ( v19 )
    {
      if ( v8 < v19 )
      {
        if ( !sub_43B4A0((int)&v57, v11, v8, v19) )
          return 0;
        v11 = v59;
        v8 = v60;
      }
      v8 -= v19;
      v20 = (v11 >> v8) & ((1 << v19) - 1);
      v14 = v48;
      if ( v20 >= dword_493308[v19] )
        v19 = (v11 >> v8) & ((1 << v19) - 1);
      else
        v19 = v20 + dword_493348[v19];
    }
    if ( *(_DWORD *)(v47 + 40) )
    {
      v21 = *v50;
      *(&v53 + v21) += v19;
      *v13 = *(&v53 + v21);
    }
    if ( *(_DWORD *)(v47 + 80) )
    {
      v22 = 1;
      while ( 1 )
      {
        if ( v8 < 8 )
        {
          if ( !sub_43B4A0((int)&v57, v11, v8, 0) )
            return 0;
          v8 = v60;
          v11 = v59;
          if ( v60 < 8 )
            break;
        }
        v24 = (v11 >> (v8 - 8)) & 0xFF;
        v25 = *(_DWORD *)(v14 + 4 * v24 + 144);
        if ( !v25 )
        {
          v23 = 9;
          goto LABEL_35;
        }
        v26 = *(_BYTE *)(v24 + v14 + 1168);
        v8 -= v25;
LABEL_37:
        v27 = v26 >> 4;
        v28 = v26 & 0xF;
        if ( v28 )
        {
          v29 = v27 + v22;
          if ( v8 < v28 )
          {
            if ( !sub_43B4A0((int)&v57, v11, v8, v28) )
              return 0;
            v11 = v59;
            v8 = v60;
          }
          v8 -= v28;
          v30 = (v11 >> v8) & ((1 << v28) - 1);
          if ( v30 >= dword_493308[v28] )
            v28 = (v11 >> v8) & ((1 << v28) - 1);
          else
            LOWORD(v28) = v30 + dword_493348[v28];
          v14 = v48;
          *(_WORD *)(v51 + 2 * dword_4907F8[v29]) = v28;
        }
        else
        {
          if ( v27 != 15 )
            goto LABEL_67;
          v29 = v22 + 15;
        }
        v22 = v29 + 1;
        if ( v22 >= 64 )
          goto LABEL_67;
      }
      v23 = 1;
LABEL_35:
      v26 = sub_43B5C0((int)&v57, v11, v8, v14, v23);
      if ( v26 < 0 )
        return 0;
      v11 = v59;
      v8 = v60;
      goto LABEL_37;
    }
    v31 = 1;
    do
    {
      if ( v8 >= 8 )
        goto LABEL_74;
      if ( !sub_43B4A0((int)&v57, v11, v8, 0) )
        return 0;
      v8 = v60;
      v11 = v59;
      if ( v60 >= 8 )
      {
LABEL_74:
        v33 = (v11 >> (v8 - 8)) & 0xFF;
        v34 = *(_DWORD *)(v14 + 4 * v33 + 144);
        if ( v34 )
        {
          v35 = *(_BYTE *)(v33 + v14 + 1168);
          v8 -= v34;
          goto LABEL_59;
        }
        v32 = 9;
      }
      else
      {
        v32 = 1;
      }
      v35 = sub_43B5C0((int)&v57, v11, v8, v14, v32);
      if ( v35 < 0 )
        return 0;
      v11 = v59;
      v8 = v60;
LABEL_59:
      v36 = v35 >> 4;
      v37 = v35 & 0xF;
      if ( v37 )
      {
        v38 = v36 + v31;
        if ( v8 < v37 )
        {
          if ( !sub_43B4A0((int)&v57, v11, v8, v37) )
            return 0;
          v11 = v59;
          v8 = v60;
        }
        v8 -= v37;
      }
      else
      {
        if ( v36 != 15 )
          break;
        v38 = v31 + 15;
      }
      v31 = v38 + 1;
    }
    while ( v31 < 64 );
LABEL_67:
    v2 = a1;
    v39 = *(_DWORD *)(a1 + 360);
    v41 = __OFSUB__(v49 + 1, v39);
    v40 = v49++ + 1 - v39 < 0;
    v47 += 4;
    ++v50;
    if ( v40 ^ v41 )
    {
      v12 = (int *)v47;
      continue;
    }
    break;
  }
  v3 = v52;
LABEL_69:
  v42 = *(_DWORD *)(v2 + 24);
  *(_DWORD *)v42 = v57;
  v43 = v58;
  *(_DWORD *)(v3 + 12) = v11;
  *(_DWORD *)(v3 + 20) = v53;
  v44 = v56;
  *(_DWORD *)(v3 + 16) = v8;
  v45 = v54;
  *(_DWORD *)(v42 + 4) = v43;
  v46 = v55;
  *(_DWORD *)(v3 + 24) = v45;
  *(_DWORD *)(v3 + 28) = v46;
  *(_DWORD *)(v3 + 32) = v44;
LABEL_70:
  --*(_DWORD *)(v3 + 36);
  return 1;
}
// 4907F8: using guessed type int dword_4907F8[];
// 493308: using guessed type int dword_493308[];
// 493348: using guessed type int dword_493348[];

//----- (0043BC60) --------------------------------------------------------
int __stdcall sub_43BC60(int a1)
{
  int v1; // eax@1
  int result; // eax@1
  signed int v3; // ecx@1

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 232);
  *(_DWORD *)(a1 + 448) = v1;
  *(_DWORD *)v1 = sub_43BB20;
  *(_DWORD *)(v1 + 4) = sub_43B710;
  result = v1 + 40;
  v3 = 4;
  do
  {
    *(_DWORD *)(result + 16) = 0;
    *(_DWORD *)result = 0;
    result += 4;
    --v3;
  }
  while ( v3 );
  return result;
}
// 43BB20: using guessed type int __stdcall sub_43BB20(int);

//----- (0043BCA0) --------------------------------------------------------
int __usercall sub_43BCA0@<eax>(int a1@<ebx>)
{
  int v1; // ecx@1
  int v2; // esi@1
  int result; // eax@1
  int v4; // ecx@2
  int v5; // eax@4

  v1 = *(_DWORD *)(a1 + 444);
  v2 = *(_DWORD *)(a1 + 448);
  *(_DWORD *)(v1 + 24) += *(_DWORD *)(v2 + 16) / 8;
  *(_DWORD *)(v2 + 16) = 0;
  result = (*(int (__stdcall **)(int))(v1 + 8))(a1);
  if ( result )
  {
    v4 = *(_DWORD *)(a1 + 332);
    if ( v4 > 0 )
      memset((void *)(v2 + 24), 0, 4 * v4);
    *(_DWORD *)(v2 + 40) = *(_DWORD *)(a1 + 280);
    v5 = *(_DWORD *)(a1 + 420);
    *(_DWORD *)(v2 + 20) = 0;
    if ( !v5 )
      *(_DWORD *)(v2 + 8) = 0;
    result = 1;
  }
  return result;
}

//----- (0043BD10) --------------------------------------------------------
int __stdcall sub_43BD10(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edx@1
  int result; // eax@3
  int v5; // eax@6
  int v6; // ebx@6
  signed int v7; // eax@6
  int v8; // ecx@6
  int v9; // esi@8
  signed int v10; // ecx@11
  int v11; // edx@12
  int v12; // ecx@12
  int v13; // esi@13
  int v14; // edx@21
  int v15; // edi@24
  int v16; // edx@24
  bool v17; // sf@24
  unsigned __int8 v18; // of@24
  int v19; // ebp@25
  int v20; // [sp+8h] [bp-3Ch]@1
  int v21; // [sp+Ch] [bp-38h]@6
  int v22; // [sp+10h] [bp-34h]@8
  int v23; // [sp+14h] [bp-30h]@1
  _WORD *v24; // [sp+18h] [bp-2Ch]@8
  int v25; // [sp+1Ch] [bp-28h]@6
  int v26; // [sp+20h] [bp-24h]@6
  int v27; // [sp+24h] [bp-20h]@10
  int v28; // [sp+28h] [bp-1Ch]@10
  int v29; // [sp+2Ch] [bp-18h]@6
  char v30; // [sp+30h] [bp-14h]@6
  int v31[4]; // [sp+34h] [bp-10h]@24
  int *v32; // [sp+48h] [bp+4h]@7

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 448);
  v23 = *(_DWORD *)(a1 + 416);
  v20 = *(_DWORD *)(a1 + 448);
  if ( *(_DWORD *)(a1 + 280) && !*(_DWORD *)(v3 + 40) )
  {
    result = sub_43BCA0(a1);
    if ( !result )
      return result;
    v3 = v20;
  }
  if ( *(_DWORD *)(v3 + 8) )
    goto LABEL_26;
  v5 = *(_DWORD *)(a1 + 24);
  v29 = a1;
  v25 = *(_DWORD *)v5;
  v26 = *(_DWORD *)(v5 + 4);
  v6 = *(_DWORD *)(v3 + 12);
  v7 = *(_DWORD *)(v3 + 16);
  qmemcpy(&v30, (const void *)(v3 + 20), 0x14u);
  v8 = 0;
  v21 = 0;
  if ( *(_DWORD *)(a1 + 360) <= 0 )
  {
LABEL_25:
    v19 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)v19 = v25;
    *(_DWORD *)(v19 + 4) = v26;
    *(_DWORD *)(v3 + 12) = v6;
    *(_DWORD *)(v3 + 16) = v7;
    qmemcpy((void *)(v3 + 20), &v30, 0x14u);
LABEL_26:
    --*(_DWORD *)(v3 + 40);
    return 1;
  }
  v32 = (int *)(a1 + 364);
  while ( 1 )
  {
    v24 = *(_WORD **)(a2 + 4 * v8);
    v22 = *v32;
    v9 = *(_DWORD *)(v3 + 4 * *(_DWORD *)(*(_DWORD *)(v2 + 4 * *v32 + 336) + 20) + 44);
    if ( v7 >= 8 )
      goto LABEL_30;
    if ( !sub_43B4A0((int)&v25, v6, v7, 0) )
      return 0;
    v7 = v28;
    v6 = v27;
    if ( v28 >= 8 )
    {
LABEL_30:
      v11 = (v6 >> (v7 - 8)) & 0xFF;
      v12 = *(_DWORD *)(v9 + 4 * v11 + 144);
      if ( v12 )
      {
        v13 = *(_BYTE *)(v11 + v9 + 1168);
        v7 -= v12;
        goto LABEL_17;
      }
      v10 = 9;
    }
    else
    {
      v10 = 1;
    }
    v13 = sub_43B5C0((int)&v25, v6, v7, v9, v10);
    if ( v13 < 0 )
      return 0;
    v6 = v27;
    v7 = v28;
LABEL_17:
    if ( v13 )
      break;
LABEL_24:
    v15 = v13 + v31[v22];
    v31[v22] = v15;
    ++v32;
    *v24 = v15 << v23;
    v16 = *(_DWORD *)(v2 + 360);
    v8 = v21 + 1;
    v18 = __OFSUB__(v21 + 1, v16);
    v17 = v21 + 1 - v16 < 0;
    v3 = v20;
    ++v21;
    if ( !(v17 ^ v18) )
      goto LABEL_25;
  }
  if ( v7 >= v13 )
    goto LABEL_21;
  if ( sub_43B4A0((int)&v25, v6, v7, v13) )
  {
    v6 = v27;
    v7 = v28;
LABEL_21:
    v7 -= v13;
    v14 = (v6 >> v7) & ((1 << v13) - 1);
    if ( v14 >= dword_493388[v13] )
      v13 = (v6 >> v7) & ((1 << v13) - 1);
    else
      v13 = v14 + dword_4933C8[v13];
    goto LABEL_24;
  }
  return 0;
}
// 493388: using guessed type int dword_493388[];
// 4933C8: using guessed type int dword_4933C8[];
// 43BD10: using guessed type int var_10[4];

//----- (0043BF30) --------------------------------------------------------
int __stdcall sub_43BF30(int a1, int *a2)
{
  int v2; // ebx@1
  int v3; // esi@1
  int result; // eax@3
  int v5; // edx@5
  int v6; // eax@7
  int v7; // ecx@7
  int v8; // edi@7
  signed int v9; // eax@7
  int v10; // ebp@7
  signed int v11; // ecx@11
  int v12; // edx@12
  int v13; // ecx@12
  signed int v14; // esi@13
  signed int v15; // ebx@17
  int v16; // esi@17
  int v17; // edx@21
  int v18; // esi@22
  signed int v19; // ebp@30
  int v20; // ecx@37
  int v21; // [sp+8h] [bp-28h]@5
  int v22; // [sp+Ch] [bp-24h]@1
  int v23; // [sp+10h] [bp-20h]@1
  int v24; // [sp+14h] [bp-1Ch]@1
  int v25; // [sp+18h] [bp-18h]@7
  int v26; // [sp+1Ch] [bp-14h]@7
  int v27; // [sp+20h] [bp-10h]@7
  int v28; // [sp+24h] [bp-Ch]@10
  int v29; // [sp+28h] [bp-8h]@10
  int v30; // [sp+2Ch] [bp-4h]@7
  int v31; // [sp+38h] [bp+8h]@7
  int v32; // [sp+38h] [bp+8h]@18

  v2 = a1;
  v22 = *(_DWORD *)(a1 + 408);
  v3 = *(_DWORD *)(a1 + 448);
  v23 = *(_DWORD *)(a1 + 448);
  v24 = *(_DWORD *)(a1 + 416);
  if ( *(_DWORD *)(a1 + 280) )
  {
    if ( !*(_DWORD *)(v3 + 40) )
    {
      result = sub_43BCA0(a1);
      if ( !result )
        return result;
    }
  }
  if ( *(_DWORD *)(v3 + 8) )
    goto LABEL_39;
  v5 = *(_DWORD *)(v3 + 20);
  v21 = *(_DWORD *)(v3 + 20);
  if ( v5 )
  {
    --v5;
    goto LABEL_38;
  }
  v6 = *(_DWORD *)(a1 + 24);
  v30 = a1;
  v26 = *(_DWORD *)v6;
  v25 = *a2;
  v7 = *(_DWORD *)(a1 + 404);
  v27 = *(_DWORD *)(v6 + 4);
  v8 = *(_DWORD *)(v3 + 12);
  v9 = *(_DWORD *)(v3 + 16);
  v10 = *(_DWORD *)(v3 + 60);
  v31 = v7;
  if ( v7 > v22 )
    goto LABEL_37;
  while ( 1 )
  {
    if ( v9 >= 8 )
      goto LABEL_42;
    if ( !sub_43B4A0((int)&v26, v8, v9, 0) )
      return 0;
    v9 = v29;
    v8 = v28;
    if ( v29 >= 8 )
    {
LABEL_42:
      v12 = (v8 >> (v9 - 8)) & 0xFF;
      v13 = *(_DWORD *)(v10 + 4 * v12 + 144);
      if ( v13 )
      {
        v14 = *(_BYTE *)(v12 + v10 + 1168);
        v9 -= v13;
        goto LABEL_17;
      }
      v11 = 9;
    }
    else
    {
      v11 = 1;
    }
    v14 = sub_43B5C0((int)&v26, v8, v9, v10, v11);
    if ( v14 < 0 )
      return 0;
    v8 = v28;
    v9 = v29;
LABEL_17:
    v15 = v14 >> 4;
    v16 = v14 & 0xF;
    if ( v16 )
    {
      v32 = v15 + v31;
      if ( v9 < v16 )
      {
        if ( !sub_43B4A0((int)&v26, v8, v9, v16) )
          return 0;
        v8 = v28;
        v9 = v29;
      }
      v9 -= v16;
      v17 = (v8 >> v9) & ((1 << v16) - 1);
      if ( v17 >= dword_493388[v16] )
        v18 = (v8 >> v9) & ((1 << v16) - 1);
      else
        v18 = v17 + dword_4933C8[v16];
      *(_WORD *)(v25 + 2 * dword_4907F8[v32]) = v18 << v24;
      goto LABEL_27;
    }
    if ( v15 != 15 )
      break;
    v32 = v31 + 15;
LABEL_27:
    v31 = v32 + 1;
    if ( v31 > v22 )
      goto LABEL_36;
  }
  v19 = 1 << v15;
  if ( v15 )
  {
    if ( v9 < v15 )
    {
      if ( !sub_43B4A0((int)&v26, v8, v9, v15) )
        return 0;
      v8 = v28;
      v9 = v29;
    }
    v9 -= v15;
    v19 += ((1 << v15) - 1) & (v8 >> v9);
  }
  v21 = v19 - 1;
LABEL_36:
  v3 = v23;
  v2 = a1;
  v5 = v21;
LABEL_37:
  v20 = *(_DWORD *)(v2 + 24);
  *(_DWORD *)v20 = v26;
  *(_DWORD *)(v20 + 4) = v27;
  *(_DWORD *)(v3 + 12) = v8;
  *(_DWORD *)(v3 + 16) = v9;
LABEL_38:
  *(_DWORD *)(v3 + 20) = v5;
LABEL_39:
  --*(_DWORD *)(v3 + 40);
  return 1;
}
// 4907F8: using guessed type int dword_4907F8[];
// 493388: using guessed type int dword_493388[];
// 4933C8: using guessed type int dword_4933C8[];

//----- (0043C170) --------------------------------------------------------
int __stdcall sub_43C170(int a1, int a2)
{
  int v2; // ebx@1
  int v3; // esi@1
  int result; // eax@3
  int v5; // eax@4
  int v6; // edx@4
  int v7; // eax@4
  signed int v8; // ecx@4
  int v9; // ebp@4
  int v10; // edi@4
  _WORD *v11; // eax@5
  int v12; // ebx@11
  int v13; // eax@11
  signed int v14; // [sp+8h] [bp-18h]@1
  int v15; // [sp+Ch] [bp-14h]@4
  int v16; // [sp+10h] [bp-10h]@4
  int v17; // [sp+14h] [bp-Ch]@7
  int v18; // [sp+18h] [bp-8h]@7
  int v19; // [sp+1Ch] [bp-4h]@4
  _WORD *v20; // [sp+24h] [bp+4h]@5

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 448);
  v14 = 1 << *(_DWORD *)(a1 + 416);
  if ( !*(_DWORD *)(a1 + 280) || *(_DWORD *)(v3 + 40) || (result = sub_43BCA0(a1)) != 0 )
  {
    v5 = *(_DWORD *)(a1 + 24);
    v19 = a1;
    v15 = *(_DWORD *)v5;
    v6 = *(_DWORD *)(v5 + 4);
    v7 = *(_DWORD *)(a1 + 360);
    v16 = v6;
    v8 = *(_DWORD *)(v3 + 16);
    v9 = 0;
    v10 = *(_DWORD *)(v3 + 12);
    if ( v7 <= 0 )
    {
LABEL_11:
      v12 = *(_DWORD *)(v2 + 24);
      *(_DWORD *)v12 = v15;
      *(_DWORD *)(v12 + 4) = v16;
      v13 = *(_DWORD *)(v3 + 40);
      *(_DWORD *)(v3 + 12) = v10;
      *(_DWORD *)(v3 + 40) = v13 - 1;
      *(_DWORD *)(v3 + 16) = v8;
      return 1;
    }
    while ( 1 )
    {
      v11 = *(_WORD **)(a2 + 4 * v9);
      v20 = *(_WORD **)(a2 + 4 * v9);
      if ( v8 < 1 )
      {
        if ( !sub_43B4A0((int)&v15, v10, v8, 1) )
          return 0;
        v10 = v17;
        v8 = v18;
        v11 = v20;
      }
      if ( (v10 >> --v8) & 1 )
        *v11 |= v14;
      if ( ++v9 >= *(_DWORD *)(v2 + 360) )
        goto LABEL_11;
    }
  }
  return result;
}

//----- (0043C270) --------------------------------------------------------
int __stdcall sub_43C270(int a1, int *a2)
{
  int v2; // edi@1
  int v3; // ecx@1
  int v4; // ebp@1
  int result; // eax@3
  int v6; // eax@5
  int v7; // edx@5
  signed int v8; // eax@5
  int v9; // ebx@5
  signed int v10; // esi@5
  int v11; // ecx@5
  signed int v12; // eax@10
  int v13; // eax@11
  int v14; // ecx@11
  signed int v15; // ebp@12
  signed int v16; // ecx@16
  int v17; // ebp@16
  int v18; // eax@18
  signed int v19; // edi@26
  int v20; // eax@33
  __int16 *v21; // edi@34
  __int16 v22; // cx@39
  __int16 v23; // ax@39
  int v24; // eax@46
  int v25; // edx@49
  __int16 *v26; // edi@49
  __int16 v27; // ax@54
  int v28; // eax@61
  int v29; // ecx@61
  int i; // eax@64
  int v31; // edx@65
  int v32; // [sp+Ch] [bp-13Ch]@5
  signed int v33; // [sp+10h] [bp-138h]@5
  int v34; // [sp+14h] [bp-134h]@16
  int v35; // [sp+18h] [bp-130h]@1
  int v36; // [sp+1Ch] [bp-12Ch]@5
  int v37; // [sp+20h] [bp-128h]@5
  int v38; // [sp+24h] [bp-124h]@5
  int v39; // [sp+28h] [bp-120h]@9
  int v40; // [sp+2Ch] [bp-11Ch]@9
  int v41; // [sp+30h] [bp-118h]@5
  int v42; // [sp+34h] [bp-114h]@1
  int v43; // [sp+38h] [bp-110h]@5
  int v44; // [sp+3Ch] [bp-10Ch]@1
  int v45; // [sp+40h] [bp-108h]@1
  int v46; // [sp+44h] [bp-104h]@5
  int v47[64]; // [sp+48h] [bp-100h]@61

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 416);
  v4 = *(_DWORD *)(a1 + 448);
  v35 = *(_DWORD *)(a1 + 408);
  v42 = *(_DWORD *)(a1 + 448);
  v44 = 1 << v3;
  v45 = -1 << v3;
  if ( *(_DWORD *)(a1 + 280) )
  {
    if ( !*(_DWORD *)(v4 + 40) )
    {
      result = sub_43BCA0(a1);
      if ( !result )
        return result;
    }
  }
  if ( *(_DWORD *)(v4 + 8) )
  {
LABEL_47:
    --*(_DWORD *)(v4 + 40);
    return 1;
  }
  v6 = *(_DWORD *)(a1 + 24);
  v41 = a1;
  v37 = *(_DWORD *)v6;
  v38 = *(_DWORD *)(v6 + 4);
  v7 = *a2;
  v8 = *(_DWORD *)(v4 + 20);
  v9 = *(_DWORD *)(v4 + 12);
  v10 = *(_DWORD *)(v4 + 16);
  v46 = *(_DWORD *)(v4 + 60);
  v11 = *(_DWORD *)(a1 + 404);
  v33 = v8;
  v36 = v7;
  v43 = 0;
  v32 = v11;
  if ( v8 )
  {
LABEL_32:
    if ( v33 )
    {
      v20 = v32;
      if ( v32 <= v35 )
      {
        do
        {
          v21 = (__int16 *)(v36 + 2 * dword_4907F8[v20]);
          if ( *v21 )
          {
            if ( v10 < 1 )
            {
              if ( !sub_43B4A0((int)&v37, v9, v10, 1) )
                goto LABEL_64;
              v9 = v39;
              v10 = v40;
            }
            if ( (v9 >> --v10) & 1 )
            {
              v22 = v44;
              v23 = *v21;
              if ( !(*v21 & v44) )
              {
                if ( v23 < 0 )
                  v22 = v45;
                *v21 = v22 + v23;
              }
            }
          }
          v20 = v32++ + 1;
        }
        while ( v32 <= v35 );
        v2 = a1;
      }
      --v33;
    }
LABEL_46:
    v24 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)v24 = v37;
    *(_DWORD *)(v24 + 4) = v38;
    *(_DWORD *)(v4 + 12) = v9;
    *(_DWORD *)(v4 + 16) = v10;
    *(_DWORD *)(v4 + 20) = v33;
    goto LABEL_47;
  }
  if ( v11 > v35 )
    goto LABEL_46;
  while ( 1 )
  {
    if ( v10 >= 8 )
      goto LABEL_69;
    if ( !sub_43B4A0((int)&v37, v9, v10, 0) )
      goto LABEL_64;
    v10 = v40;
    v9 = v39;
    if ( v40 >= 8 )
    {
LABEL_69:
      v13 = (v9 >> (v10 - 8)) & 0xFF;
      v14 = *(_DWORD *)(v46 + 4 * v13 + 144);
      if ( v14 )
      {
        v15 = *(_BYTE *)(v13 + v46 + 1168);
        v10 -= v14;
        goto LABEL_16;
      }
      v12 = 9;
    }
    else
    {
      v12 = 1;
    }
    v15 = sub_43B5C0((int)&v37, v9, v10, v46, v12);
    if ( v15 < 0 )
      goto LABEL_64;
    v9 = v39;
    v10 = v40;
LABEL_16:
    v16 = v15 >> 4;
    v17 = v15 & 0xF;
    v34 = v16;
    if ( !v17 )
      break;
    if ( v17 != 1 )
    {
      v18 = *(_DWORD *)a1;
      *(_DWORD *)(v18 + 20) = 118;
      (*(void (__stdcall **)(int, signed int))(v18 + 4))(a1, -1);
    }
    if ( v10 < 1 )
    {
      if ( !sub_43B4A0((int)&v37, v9, v10, 1) )
        goto LABEL_64;
      v9 = v39;
      v10 = v40;
    }
    --v10;
    v16 = v34;
    if ( (v9 >> v10) & 1 )
      v17 = v44;
    else
      v17 = v45;
LABEL_49:
    while ( 1 )
    {
      v25 = v32;
      v26 = (__int16 *)(v36 + 2 * dword_4907F8[v32]);
      if ( *v26 )
      {
        if ( v10 < 1 )
        {
          if ( !sub_43B4A0((int)&v37, v9, v10, 1) )
            goto LABEL_64;
          v9 = v39;
          v10 = v40;
        }
        if ( (v9 >> --v10) & 1 )
        {
          v27 = *v26;
          if ( !(*v26 & v44) )
          {
            if ( v27 < 0 )
              *v26 = v45 + v27;
            else
              *v26 = v44 + v27;
          }
        }
      }
      else
      {
        v34 = v16 - 1;
        if ( v16 - 1 < 0 )
          break;
      }
      v25 = v32++ + 1;
      if ( v32 > v35 )
        break;
      v16 = v34;
    }
    if ( v17 )
    {
      v28 = dword_4907F8[v25];
      *(_WORD *)(v36 + 2 * v28) = v17;
      v29 = v43;
      v47[v43] = v28;
      v43 = v29 + 1;
    }
    v32 = v25 + 1;
    if ( v25 + 1 > v35 )
    {
      v4 = v42;
      v2 = a1;
      goto LABEL_46;
    }
  }
  if ( v16 == 15 )
    goto LABEL_49;
  v19 = 1 << v16;
  v33 = 1 << v16;
  if ( !v16 )
    goto LABEL_31;
  if ( v10 >= v16 )
    goto LABEL_30;
  if ( sub_43B4A0((int)&v37, v9, v10, v16) )
  {
    v9 = v39;
    v10 = v40;
LABEL_30:
    v10 -= v34;
    v33 += (v19 - 1) & (v9 >> v10);
LABEL_31:
    v4 = v42;
    v2 = a1;
    goto LABEL_32;
  }
LABEL_64:
  for ( i = v43; i > 0; *(_WORD *)(v36 + 2 * v31) = 0 )
    v31 = *(&v46 + i--);
  return 0;
}
// 4907F8: using guessed type int dword_4907F8[];
// 43C270: using guessed type int var_100[64];

//----- (0043C660) --------------------------------------------------------
int __stdcall sub_43C660(int a1)
{
  int v1; // esi@1
  signed int v2; // ecx@1
  int v3; // ebp@1
  signed int v4; // ebx@1
  signed int v5; // eax@1
  bool v6; // zf@2
  int v7; // edx@9
  signed int v8; // edi@12
  int v9; // eax@14
  int v10; // ebp@17
  _DWORD *v11; // ebx@17
  int v12; // eax@19
  int v13; // edi@20
  int v14; // eax@22
  int v15; // eax@23
  int v16; // ecx@24
  bool v17; // sf@24
  unsigned __int8 v18; // of@24
  int *v19; // edi@34
  int v20; // eax@35
  signed int v21; // eax@38
  _DWORD *v22; // ebx@38
  int result; // eax@40
  int v24; // [sp+14h] [bp-Ch]@1
  int v25; // [sp+18h] [bp-8h]@16
  _DWORD *v26; // [sp+18h] [bp-8h]@34
  int v27; // [sp+1Ch] [bp-4h]@1
  int v28; // [sp+24h] [bp+4h]@15
  int v29; // [sp+24h] [bp+4h]@33

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 404);
  v3 = *(_DWORD *)(a1 + 448);
  v4 = *(_DWORD *)(a1 + 408);
  v5 = 0;
  v27 = *(_DWORD *)(a1 + 448);
  v24 = v2 == 0;
  if ( v2 )
  {
    if ( v2 > v4 || v4 >= 64 )
      v5 = 1;
    v6 = *(_DWORD *)(a1 + 332) == 1;
  }
  else
  {
    v6 = v4 == 0;
  }
  if ( !v6 )
    v5 = 1;
  v7 = *(_DWORD *)(a1 + 412);
  if ( v7 && *(_DWORD *)(a1 + 416) != v7 - 1 )
    v5 = 1;
  v8 = *(_DWORD *)(a1 + 416);
  if ( v8 > 13 || v5 )
  {
    v9 = *(_DWORD *)a1;
    *(_DWORD *)(v9 + 20) = 16;
    *(_DWORD *)(v9 + 24) = v2;
    *(_DWORD *)(v9 + 28) = v4;
    *(_DWORD *)(v9 + 32) = v7;
    *(_DWORD *)(v9 + 36) = v8;
    (*(void (__stdcall **)(int))v9)(a1);
  }
  v28 = 0;
  if ( *(_DWORD *)(v1 + 332) > 0 )
  {
    v25 = v1 + 336;
    do
    {
      v10 = *(_DWORD *)(*(_DWORD *)v25 + 4);
      v11 = (_DWORD *)(*(_DWORD *)(v1 + 164) + (*(_DWORD *)(*(_DWORD *)v25 + 4) << 8));
      if ( !v24 && *v11 < 0 )
      {
        v12 = *(_DWORD *)v1;
        *(_DWORD *)(v12 + 20) = 115;
        *(_DWORD *)(v12 + 24) = v10;
        *(_DWORD *)(v12 + 28) = 0;
        (*(void (__stdcall **)(int, signed int))(v12 + 4))(v1, -1);
      }
      v13 = *(_DWORD *)(v1 + 404);
      if ( v13 <= *(_DWORD *)(v1 + 408) )
      {
        do
        {
          if ( *(_DWORD *)(v1 + 412) != (v11[v13] < 0 ? 0 : v11[v13]) )
          {
            v14 = *(_DWORD *)v1;
            *(_DWORD *)(v14 + 20) = 115;
            *(_DWORD *)(v14 + 24) = v10;
            *(_DWORD *)(v14 + 28) = v13;
            (*(void (__stdcall **)(int, signed int))(v14 + 4))(v1, -1);
          }
          v15 = *(_DWORD *)(v1 + 408);
          v11[v13++] = *(_DWORD *)(v1 + 416);
        }
        while ( v13 <= v15 );
      }
      v16 = *(_DWORD *)(v1 + 332);
      v18 = __OFSUB__(v28 + 1, v16);
      v17 = v28++ + 1 - v16 < 0;
      v25 += 4;
    }
    while ( v17 ^ v18 );
    v3 = v27;
  }
  if ( *(_DWORD *)(v1 + 412) )
  {
    if ( v24 )
      *(_DWORD *)(v3 + 4) = sub_43C170;
    else
      *(_DWORD *)(v3 + 4) = sub_43C270;
  }
  else if ( v24 )
  {
    *(_DWORD *)(v3 + 4) = sub_43BD10;
  }
  else
  {
    *(_DWORD *)(v3 + 4) = sub_43BF30;
  }
  v29 = 0;
  if ( *(_DWORD *)(v1 + 332) > 0 )
  {
    v26 = (_DWORD *)(v3 + 24);
    v19 = (int *)(v1 + 336);
    do
    {
      v20 = *v19;
      if ( v24 )
      {
        if ( !*(_DWORD *)(v1 + 412) )
          sub_43B1D0((int *)v1, 1, *(_DWORD *)(v20 + 20), v3 + 4 * *(_DWORD *)(v20 + 20) + 44);
      }
      else
      {
        v21 = *(_DWORD *)(v20 + 24);
        v22 = (_DWORD *)(v3 + 4 * v21 + 44);
        sub_43B1D0((int *)v1, 0, v21, (int)v22);
        *(_DWORD *)(v3 + 60) = *v22;
      }
      *v26 = 0;
      ++v26;
      ++v19;
      ++v29;
    }
    while ( v29 < *(_DWORD *)(v1 + 332) );
  }
  result = *(_DWORD *)(v1 + 280);
  *(_DWORD *)(v3 + 16) = 0;
  *(_DWORD *)(v3 + 12) = 0;
  *(_DWORD *)(v3 + 8) = 0;
  *(_DWORD *)(v3 + 20) = 0;
  *(_DWORD *)(v3 + 40) = result;
  return result;
}

//----- (0043C8A0) --------------------------------------------------------
signed int __stdcall sub_43C8A0(int a1)
{
  int v1; // eax@1
  int (__stdcall **v2)(_DWORD, _DWORD, _DWORD); // edx@1
  void *v3; // edi@1
  signed int result; // eax@1
  int v5; // ecx@2

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 64);
  v2 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4);
  *(_DWORD *)v1 = sub_43C660;
  *(_DWORD *)(a1 + 448) = v1;
  v1 += 44;
  *(_DWORD *)v1 = 0;
  *(_DWORD *)(v1 + 4) = 0;
  *(_DWORD *)(v1 + 8) = 0;
  *(_DWORD *)(v1 + 12) = 0;
  v3 = (void *)(*v2)(a1, 1, *(_DWORD *)(a1 + 36) << 8);
  result = *(_DWORD *)(a1 + 36);
  *(_DWORD *)(a1 + 164) = v3;
  if ( result > 0 )
  {
    v5 = (result & 0xFFFFFF) << 6;
    result = -1;
    memset(v3, 0xFFu, 4 * v5);
  }
  return result;
}

//----- (0043C900) --------------------------------------------------------
int __stdcall sub_43C900(int a1)
{
  int v1; // ebp@1
  int result; // eax@1
  int v3; // ecx@1
  signed int v4; // ebx@1
  int v5; // esi@2
  _DWORD *v6; // edi@2
  int v7; // eax@13
  char *v8; // edi@18
  int v9; // eax@22
  int v10; // ecx@23
  double *v11; // edx@23
  char *v12; // eax@23
  signed int v13; // ST24_4@24
  int v14; // ecx@24
  int v15; // eax@24
  double v16; // st7@24
  int v17; // edx@26
  int v18; // ecx@26
  int v19; // eax@26
  int v20; // edi@26
  __int16 *v21; // esi@26
  int v22; // edx@26
  char *v23; // eax@29
  int v24; // edi@29
  signed int v25; // ecx@29
  int v26; // ecx@31
  bool v27; // sf@31
  unsigned __int8 v28; // of@31
  int (__stdcall *v29)(int, int, int, int, int); // [sp+8h] [bp-14h]@1
  signed int v30; // [sp+Ch] [bp-10h]@1
  signed int *v31; // [sp+10h] [bp-Ch]@2
  int v32; // [sp+14h] [bp-8h]@1
  int v33; // [sp+18h] [bp-4h]@2

  v1 = a1;
  result = *(_DWORD *)(a1 + 452);
  v3 = *(_DWORD *)(a1 + 220);
  v4 = 0;
  v30 = 0;
  v29 = 0;
  v32 = 0;
  if ( *(_DWORD *)(a1 + 36) > 0 )
  {
    v5 = v3 + 36;
    v6 = (_DWORD *)(result + 44);
    v33 = v3 + 36;
    v31 = (signed int *)(result + 44);
    do
    {
      switch ( *(_DWORD *)v5 )
      {
        case 1:
          v4 = 0;
          v29 = (int (__stdcall *)(int, int, int, int, int))sub_4508D0;
          v30 = 0;
          break;
        case 2:
          v4 = 0;
          v29 = (int (__stdcall *)(int, int, int, int, int))sub_450700;
          v30 = 0;
          break;
        case 4:
          v4 = 0;
          v29 = (int (__stdcall *)(int, int, int, int, int))sub_450040;
          v30 = 0;
          break;
        case 8:
          switch ( *(_DWORD *)(v1 + 72) )
          {
            case 5:
              v4 = 0;
              v29 = sub_44FFF0;
              v30 = 0;
              break;
            case 3:
              v4 = 0;
              v29 = sub_44F8E0;
              v30 = 0;
              break;
            case 0:
              v4 = 0;
              v29 = (int (__stdcall *)(int, int, int, int, int))sub_44E780;
              v30 = 0;
              break;
            case 1:
            case 4:
            case 6:
              v4 = 1;
              v29 = (int (__stdcall *)(int, int, int, int, int))sub_44DD30;
              v30 = 1;
              break;
            case 2:
              v4 = 2;
              v29 = sub_44CC20;
              v30 = 2;
              break;
            default:
              v7 = *(_DWORD *)v1;
              *(_DWORD *)(*(_DWORD *)v1 + 20) = 48;
              goto LABEL_15;
          }
          break;
        default:
          v7 = *(_DWORD *)v1;
          *(_DWORD *)(v7 + 20) = 7;
          *(_DWORD *)(v7 + 24) = *(_DWORD *)v5;
LABEL_15:
          (*(void (__stdcall **)(int))v7)(v1);
          break;
      }
      *(v6 - 10) = v29;
      if ( *(_DWORD *)(v5 + 12) )
      {
        if ( *v6 != v4 )
        {
          v8 = *(char **)(v5 + 40);
          if ( v8 )
          {
            *v31 = v4;
            if ( v4 )
            {
              if ( v4 == 1 )
              {
                v17 = *(_DWORD *)(v5 + 44);
                v18 = (int)(v8 + 6);
                v19 = v17 + 2;
                v20 = (int)&v8[-v17];
                v21 = &word_493408;
                v22 = -v17;
                do
                {
                  *(_WORD *)(v19 - 2) = (*v21 * *(_WORD *)(v18 - 6) + 2048) >> 12;
                  *(_WORD *)v19 = (*(_WORD *)(v20 + v19) * *(__int16 *)((char *)&word_493408 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 2) = (*(_WORD *)(v18 - 2) * *(__int16 *)((char *)&word_49340A + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 4) = (*(_WORD *)v18 * *(__int16 *)((char *)&word_49340C + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 6) = (*(_WORD *)(v18 + 2) * *(__int16 *)((char *)&word_49340E + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 8) = (*(_WORD *)(v18 + 4) * *(__int16 *)((char *)&word_493410 + v22 + v19) + 2048) >> 12;
                  *(_WORD *)(v19 + 10) = (*(_WORD *)(v18 + 6) * *(__int16 *)((char *)&word_493412 + v19 + v22) + 2048) >> 12;
                  *(_WORD *)(v19 + 12) = (*(_WORD *)(v18 + 8) * *(__int16 *)((char *)&word_493414 + v19 + v22) + 2048) >> 12;
                  v21 += 8;
                  v19 += 16;
                  v18 += 16;
                }
                while ( (signed int)v21 < (signed int)&dbl_493488 );
                v5 = v33;
                v4 = v30;
                v1 = a1;
              }
              else if ( v4 == 2 )
              {
                v10 = *(_DWORD *)(v5 + 44);
                v11 = &dbl_493488;
                v12 = v8;
                do
                {
                  v13 = *(_WORD *)v12;
                  v14 = v10 + 16;
                  v15 = (int)(v12 + 10);
                  *(float *)(v14 - 16) = (double)v13 * *v11 * 1.0;
                  v16 = (double)*(_WORD *)(v15 - 8) * *v11;
                  ++v11;
                  v12 = (char *)(v15 + 6);
                  v10 = v14 + 16;
                  *(float *)(v10 - 28) = v16 * 1.387039845;
                  *(float *)(v10 - 24) = (double)*((_WORD *)v12 - 6) * *(v11 - 1) * 1.306562965;
                  *(float *)(v10 - 20) = (double)*((_WORD *)v12 - 5) * *(v11 - 1) * 1.175875602;
                  *(float *)(v10 - 16) = (double)*((_WORD *)v12 - 4) * *(v11 - 1) * 1.0;
                  *(float *)(v10 - 12) = (double)*((_WORD *)v12 - 3) * *(v11 - 1) * 0.785694958;
                  *(float *)(v10 - 8) = (double)*((_WORD *)v12 - 2) * *(v11 - 1) * 0.5411961;
                  *(float *)(v10 - 4) = (double)*((_WORD *)v12 - 1) * *(v11 - 1) * 0.275899379;
                }
                while ( (signed int)v11 < (signed int)&qword_4934C8 );
              }
              else
              {
                v9 = *(_DWORD *)v1;
                *(_DWORD *)(v9 + 20) = 48;
                (*(void (__stdcall **)(int))v9)(v1);
              }
            }
            else
            {
              v23 = *(char **)(v5 + 44);
              v24 = v8 - v23;
              v25 = 64;
              do
              {
                *(_WORD *)v23 = *(_WORD *)&v23[v24];
                v23 += 2;
                --v25;
              }
              while ( v25 );
            }
          }
        }
      }
      v26 = *(_DWORD *)(v1 + 36);
      result = v32 + 1;
      v6 = v31 + 1;
      v5 += 84;
      v28 = __OFSUB__(v32 + 1, v26);
      v27 = v32++ + 1 - v26 < 0;
      ++v31;
      v33 = v5;
    }
    while ( v27 ^ v28 );
  }
  return result;
}
// 44CC20: using guessed type int __stdcall sub_44CC20(int, int, int, int, int);
// 44F8E0: using guessed type int __stdcall sub_44F8E0(int, int, int, int, int);
// 44FFF0: using guessed type int __stdcall sub_44FFF0(int, int, int, int, int);
// 493408: using guessed type __int16 word_493408;
// 49340A: using guessed type __int16 word_49340A;
// 49340C: using guessed type __int16 word_49340C;
// 49340E: using guessed type __int16 word_49340E;
// 493410: using guessed type __int16 word_493410;
// 493412: using guessed type __int16 word_493412;
// 493414: using guessed type __int16 word_493414;
// 493488: using guessed type double dbl_493488;
// 4934C8: using guessed type __int64 qword_4934C8;

//----- (0043CD10) --------------------------------------------------------
int (__stdcall **__stdcall sub_43CD10(int a1))(int a1)
{
  int v1; // esi@1
  int (__stdcall **result)(int); // eax@1
  int v3; // edx@1
  int v4; // ecx@1
  signed int v5; // ebx@1
  _DWORD *v6; // ebp@2
  void *v7; // eax@3
  _DWORD *v8; // [sp+18h] [bp+4h]@2

  v1 = a1;
  result = (int (__stdcall **)(int))(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 84);
  v3 = *(_DWORD *)(a1 + 36);
  v4 = *(_DWORD *)(a1 + 220);
  v5 = 0;
  *(_DWORD *)(a1 + 452) = result;
  *result = sub_43C900;
  if ( v3 > 0 )
  {
    v8 = (_DWORD *)(v4 + 80);
    v6 = result + 11;
    do
    {
      v7 = (void *)(**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 256);
      *v8 = v7;
      memset(v7, 0, 0x100u);
      result = *(int (__stdcall ***)(int))(v1 + 36);
      *v6 = -1;
      ++v5;
      ++v6;
      v8 += 21;
    }
    while ( v5 < (signed int)result );
  }
  return result;
}

//----- (0043CD90) --------------------------------------------------------
int __stdcall sub_43CD90(int a1, int a2, int a3, int a4, int a5, int *a6, int a7)
{
  int *v7; // ebx@1
  int v8; // esi@1
  int v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // ecx@3
  int result; // eax@3

  v7 = a6;
  v8 = a1;
  v9 = *(_DWORD *)(a1 + 436);
  v10 = a7 - *a6;
  if ( v10 > *(_DWORD *)(v9 + 16) )
    v10 = *(_DWORD *)(v9 + 16);
  v11 = *(_DWORD *)(a1 + 456);
  a1 = 0;
  (*(void (__stdcall **)(int, int, int, int, _DWORD, int *, unsigned int))(v11 + 4))(
    v8,
    a2,
    a3,
    a4,
    *(_DWORD *)(v9 + 12),
    &a1,
    v10);
  (*(void (__stdcall **)(int, _DWORD, int, int))(*(_DWORD *)(v8 + 464) + 4))(v8, *(_DWORD *)(v9 + 12), a5 + 4 * *v7, a1);
  result = a1 + *v7;
  *v7 = result;
  return result;
}

//----- (0043CE90) --------------------------------------------------------
int __stdcall sub_43CE90(int a1, int a2)
{
  int v2; // edi@1
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@3

  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 28);
  result = *(_DWORD *)(a1 + 84);
  *(_DWORD *)(a1 + 436) = v2;
  *(_DWORD *)v2 = sub_43CE10;
  *(_DWORD *)(v2 + 8) = 0;
  *(_DWORD *)(v2 + 12) = 0;
  if ( result )
  {
    v4 = *(_DWORD *)(a1 + 316);
    *(_DWORD *)(v2 + 16) = v4;
    if ( a2 )
    {
      v5 = *(_DWORD *)a1;
      *(_DWORD *)(v5 + 20) = 4;
      result = (*(int (__stdcall **)(int))v5)(a1);
    }
    else
    {
      result = (*(int (__stdcall **)(int, signed int, int, int))(*(_DWORD *)(a1 + 4) + 8))(
                 a1,
                 1,
                 *(_DWORD *)(a1 + 112) * *(_DWORD *)(a1 + 120),
                 v4);
      *(_DWORD *)(v2 + 12) = result;
    }
  }
  return result;
}
// 43CE10: using guessed type int __stdcall sub_43CE10(int, int);

//----- (0043CF20) --------------------------------------------------------
_DWORD *__stdcall sub_43CF20(int a1, int a2, _DWORD *a3, int a4, int a5, _DWORD *a6, int a7)
{
  int v7; // edi@1
  int v8; // ebx@1
  int v9; // eax@2
  int v10; // ebp@2
  int v11; // esi@3
  unsigned int v12; // esi@6
  int v13; // edx@10
  int v14; // ecx@10
  _DWORD *result; // eax@10
  int v16; // ecx@10
  int v17; // [sp+1Ch] [bp+4h]@2

  v7 = a1;
  v8 = *(_DWORD *)(a1 + 456);
  if ( *(_DWORD *)(v8 + 92) >= *(_DWORD *)(a1 + 316) )
  {
    v9 = *(_DWORD *)(a1 + 36);
    v10 = 0;
    v17 = *(_DWORD *)(a1 + 220);
    if ( v9 > 0 )
    {
      v11 = v8 + 12;
      do
      {
        (*(void (__stdcall **)(int, int, int, int))(v11 + 40))(
          v7,
          v17,
          *(_DWORD *)(a2 + 4 * v10++) + 4 * *a3 * *(_DWORD *)(v11 + 88),
          v11);
        v11 += 4;
        v17 += 84;
      }
      while ( v10 < *(_DWORD *)(v7 + 36) );
    }
    *(_DWORD *)(v8 + 92) = 0;
  }
  v12 = *(_DWORD *)(v7 + 316) - *(_DWORD *)(v8 + 92);
  if ( v12 > *(_DWORD *)(v8 + 96) )
    v12 = *(_DWORD *)(v8 + 96);
  if ( v12 > a7 - *a6 )
    v12 = a7 - *a6;
  (*(void (__stdcall **)(int, int, _DWORD, int, unsigned int))(*(_DWORD *)(v7 + 460) + 4))(
    v7,
    v8 + 12,
    *(_DWORD *)(v8 + 92),
    a5 + 4 * *a6,
    v12);
  v13 = *(_DWORD *)(v8 + 96);
  v14 = *(_DWORD *)(v8 + 92);
  *a6 += v12;
  result = *(_DWORD **)(v7 + 316);
  v16 = v12 + v14;
  *(_DWORD *)(v8 + 96) = v13 - v12;
  *(_DWORD *)(v8 + 92) = v16;
  if ( v16 >= (signed int)result )
  {
    result = a3;
    ++*result;
  }
  return result;
}

//----- (0043D020) --------------------------------------------------------
int __stdcall sub_43D020(int a1, int a2, char **a3, int *a4)
{
  int v4; // ebx@1
  int v5; // eax@1
  unsigned int v6; // edi@1
  int result; // eax@1
  int v8; // ebp@1
  char *v9; // esi@3
  int v10; // eax@3
  char *v11; // ecx@3
  unsigned int v12; // edx@3
  char v13; // al@4
  int v14; // eax@5
  signed int v15; // ecx@7
  int v16; // [sp+Ch] [bp-Ch]@1
  unsigned int v17; // [sp+10h] [bp-8h]@1
  int v18; // [sp+14h] [bp-4h]@3
  signed int v19; // [sp+20h] [bp+8h]@1
  char **v20; // [sp+28h] [bp+10h]@2

  v4 = a1;
  v16 = *a4;
  v5 = *(_DWORD *)(a2 + 4) + *(_DWORD *)(a1 + 456);
  v6 = *(_BYTE *)(v5 + 140);
  v19 = *(_BYTE *)(v5 + 150);
  result = *(_DWORD *)(a1 + 316);
  v8 = 0;
  v17 = v6;
  if ( result > 0 )
  {
    v20 = a3;
    do
    {
      v9 = *(char **)(v16 + 4 * v8);
      v10 = *(_DWORD *)(v4 + 112);
      v11 = *v20;
      v12 = (unsigned int)&v9[v10];
      v18 = (int)&v9[v10];
      if ( v9 < &v9[v10] )
      {
        do
        {
          v13 = *v11++;
          if ( (signed int)v6 > 0 )
          {
            LOBYTE(v4) = v13;
            BYTE1(v4) = v13;
            v14 = v4 << 16;
            LOWORD(v14) = v4;
            v4 = a1;
            memset32(v9, v14, v6 >> 2);
            v12 = v18;
            memset(&v9[4 * (v6 >> 2)], v14, v6 & 3);
            v6 = v17;
            v9 += v17;
          }
        }
        while ( (unsigned int)v9 < v12 );
      }
      v15 = v19;
      if ( v19 > 1 )
      {
        sub_438130(v16, v8, v16, v8 + 1, v19 - 1, *(_DWORD *)(v4 + 112));
        v15 = v19;
      }
      result = *(_DWORD *)(v4 + 316);
      v8 += v15;
      ++v20;
    }
    while ( v8 < result );
  }
  return result;
}

//----- (0043D200) --------------------------------------------------------
char **__userpurge sub_43D200@<eax>(char **result@<eax>, int a2@<edx>, int a3@<ecx>, int a4)
{
  int v4; // ecx@1
  char *v5; // ebp@1
  int v6; // edi@2
  int v7; // eax@2
  int v8; // ecx@4
  int v9; // edx@4
  int v10; // esi@4
  _BYTE *v11; // eax@4
  _BYTE *v12; // ecx@4
  int v13; // eax@4
  int v14; // edx@5
  int v15; // edi@6
  signed int v16; // ebx@6
  _BYTE *v17; // eax@6
  int v18; // edx@8
  int v19; // [sp+4h] [bp-8h]@2
  int v20; // [sp+8h] [bp-4h]@2
  int v21; // [sp+10h] [bp+4h]@2

  v4 = *(_DWORD *)(a3 + 316);
  v5 = *result;
  if ( v4 > 0 )
  {
    v6 = *(_DWORD *)(a2 + 40) - 2;
    v7 = a4 - (_DWORD)v5;
    v20 = *(_DWORD *)(a2 + 40) - 2;
    v19 = a4 - (_DWORD)v5;
    v21 = v4;
    while ( 1 )
    {
      v8 = *(_DWORD *)&v5[v7];
      v9 = *(_BYTE *)v8;
      v10 = *(_BYTE *)(v8 + 1);
      v11 = *(_BYTE **)v5;
      v12 = (_BYTE *)(v8 + 1);
      *v11++ = v9;
      *v11 = (v9 + v10 + 2 * v9 + 2) >> 2;
      v13 = (int)(v11 + 1);
      if ( v6 )
      {
        v14 = v6;
        do
        {
          ++v12;
          v15 = 3 * v10;
          v16 = *(v12 - 2) + 3 * v10 + 1;
          v10 = *v12;
          *(_BYTE *)v13 = v16 >> 2;
          v17 = (_BYTE *)(v13 + 1);
          *v17 = (v10 + v15 + 2) >> 2;
          v13 = (int)(v17 + 1);
          --v14;
        }
        while ( v14 );
        v6 = v20;
      }
      v18 = *v12;
      *(_BYTE *)v13 = (*(v12 - 1) + 3 * v18 + 1) >> 2;
      *(_BYTE *)(v13 + 1) = v18;
      v5 += 4;
      result = (char **)(v21-- - 1);
      if ( !v21 )
        break;
      v7 = v19;
    }
  }
  return result;
}

//----- (0043D2C0) --------------------------------------------------------
int __userpurge sub_43D2C0@<eax>(_DWORD *a1@<eax>, int a2@<ecx>, int a3, int a4)
{
  __int64 v4; // rax@1
  int v5; // ebx@2
  int v6; // esi@3
  int v7; // edi@3
  __m64 v8; // mm7@3
  __m64 v9; // mm0@3
  __m64 v10; // mm3@3
  __m64 v11; // mm0@3
  __m64 v12; // mm1@3
  __m64 v13; // mm2@3
  __m64 v14; // mm7@3
  int v15; // edi@3
  int v16; // esi@3
  int i; // ecx@3
  __m64 v18; // mm0@4
  __m64 v19; // mm0@4
  __m64 v20; // mm1@4
  __m64 v21; // mm2@4
  __m64 v22; // mm0@5
  __m64 v23; // mm0@6
  int v25; // [sp+4h] [bp-8h]@1

  v25 = *(_DWORD *)(a2 + 40);
  v4 = *a1;
  if ( *(_DWORD *)(a3 + 316) > 0 )
  {
    v5 = a4 - v4;
    do
    {
      v6 = *(_DWORD *)(v5 + v4);
      v7 = *(_DWORD *)v4;
      v8 = *(__m64 *)v6;
      v9 = _m_pmullw(_m_punpcklbw(*(__m64 *)v6, 0i64), (__m64)qword_4934C8);
      *(__m64 *)v7 = _m_paddb(
                       _m_psllq(
                         _m_psrlw(
                           _m_paddw(_m_paddw(_m_punpcklbw(_m_psrlq(*(__m64 *)v6, 8u), 0i64), v9), (__m64)qword_493500),
                           2u),
                         8u),
                       _m_psrlw(
                         _m_paddw(
                           _m_paddw(
                             _m_punpcklbw(
                               _m_paddb(_m_psllq(*(__m64 *)v6, 8u), _m_pand(*(__m64 *)v6, (__m64)qword_493510)),
                               0i64),
                             v9),
                           (__m64)qword_4934F8),
                         2u));
      v10 = v8;
      v11 = _m_pmullw(_m_punpckhbw(v8, 0i64), (__m64)qword_4934C8);
      v12 = _m_psllq(v8, 8u);
      v13 = _m_psrlq(v8, 8u);
      v14 = *(__m64 *)(v6 + 8);
      *(__m64 *)(v7 + 8) = _m_paddb(
                             _m_psllq(
                               _m_psrlw(
                                 _m_paddw(
                                   _m_paddw(_m_punpckhbw(_m_paddb(v13, _m_psllq(*(__m64 *)(v6 + 8), 0x38u)), 0i64), v11),
                                   (__m64)qword_493500),
                                 2u),
                               8u),
                             _m_psrlw(_m_paddw(_m_paddw(_m_punpckhbw(v12, 0i64), v11), (__m64)qword_4934F8), 2u));
      v15 = v7 + 16;
      v16 = v6 + 8;
      for ( i = v25 - 8; i > 8; i -= 8 )
      {
        v18 = _m_pmullw(_m_punpcklbw(v14, 0i64), (__m64)qword_4934C8);
        *(__m64 *)v15 = _m_paddb(
                          _m_psllq(
                            _m_psrlw(
                              _m_paddw(_m_paddw(_m_punpcklbw(_m_psrlq(v14, 8u), 0i64), v18), (__m64)qword_493500),
                              2u),
                            8u),
                          _m_psrlw(
                            _m_paddw(
                              _m_paddw(_m_punpcklbw(_m_paddb(_m_psllq(v14, 8u), _m_psrlq(v10, 0x38u)), 0i64), v18),
                              (__m64)qword_4934F8),
                            2u));
        v10 = v14;
        v19 = _m_pmullw(_m_punpckhbw(v14, 0i64), (__m64)qword_4934C8);
        v20 = _m_psllq(v14, 8u);
        v21 = _m_psrlq(v14, 8u);
        v14 = *(__m64 *)(v16 + 8);
        *(__m64 *)(v15 + 8) = _m_paddb(
                                _m_psllq(
                                  _m_psrlw(
                                    _m_paddw(
                                      _m_paddw(
                                        _m_punpckhbw(_m_paddb(v21, _m_psllq(*(__m64 *)(v16 + 8), 0x38u)), 0i64),
                                        v19),
                                      (__m64)qword_493500),
                                    2u),
                                  8u),
                                _m_psrlw(_m_paddw(_m_paddw(_m_punpckhbw(v20, 0i64), v19), (__m64)qword_4934F8), 2u));
        v15 += 16;
        v16 += 8;
      }
      v22 = _m_pmullw(_m_punpcklbw(v14, 0i64), (__m64)qword_4934C8);
      *(__m64 *)v15 = _m_paddb(
                        _m_psllq(
                          _m_psrlw(
                            _m_paddw(_m_paddw(_m_punpcklbw(_m_psrlq(v14, 8u), 0i64), v22), (__m64)qword_493500),
                            2u),
                          8u),
                        _m_psrlw(
                          _m_paddw(
                            _m_paddw(_m_punpcklbw(_m_paddb(_m_psllq(v14, 8u), _m_psrlq(v10, 0x38u)), 0i64), v22),
                            (__m64)qword_4934F8),
                          2u));
      if ( i > 4 )
      {
        v23 = _m_pmullw(_m_punpckhbw(v14, 0i64), (__m64)qword_4934C8);
        *(__m64 *)(v15 + 8) = _m_paddb(
                                _m_psllq(
                                  _m_psrlw(
                                    _m_paddw(
                                      _m_paddw(
                                        _m_punpckhbw(
                                          _m_paddb(_m_psrlq(v14, 8u), _m_pand(v14, (__m64)qword_493508)),
                                          0i64),
                                        v23),
                                      (__m64)qword_493500),
                                    2u),
                                  8u),
                                _m_psrlw(
                                  _m_paddw(_m_paddw(_m_punpckhbw(_m_psllq(v14, 8u), 0i64), v23), (__m64)qword_4934F8),
                                  2u));
      }
      _m_femms();
      ++HIDWORD(v4);
      LODWORD(v4) = v4 + 4;
    }
    while ( SHIDWORD(v4) < *(_DWORD *)(a3 + 316) );
  }
  return v4;
}
// 4934C8: using guessed type __int64 qword_4934C8;
// 4934F8: using guessed type __int64 qword_4934F8;
// 493500: using guessed type __int64 qword_493500;
// 493508: using guessed type __int64 qword_493508;
// 493510: using guessed type __int64 qword_493510;

//----- (0043D550) --------------------------------------------------------
int __userpurge sub_43D550@<eax>(int *a1@<eax>, int a2, int a3, _DWORD *a4)
{
  int v4; // ecx@1
  int result; // eax@1
  int v6; // edx@1
  _DWORD *v7; // eax@2
  int v8; // esi@6
  _BYTE *v9; // ecx@8
  int v10; // edi@8
  int v11; // eax@8
  _BYTE *v12; // esi@8
  _BYTE *v13; // ebp@8
  int v14; // ecx@8
  int v15; // ebx@8
  int v16; // edi@8
  _BYTE *v17; // ecx@10
  bool v18; // zf@10
  bool v19; // sf@11
  unsigned __int8 v20; // of@11
  int v21; // [sp+0h] [bp-14h]@2
  int i; // [sp+4h] [bp-10h]@2
  int v23; // [sp+8h] [bp-Ch]@1
  int v24; // [sp+10h] [bp-4h]@1
  _DWORD *v25; // [sp+18h] [bp+4h]@2
  int v26; // [sp+1Ch] [bp+8h]@2
  int v27; // [sp+20h] [bp+Ch]@9

  v4 = *a1;
  result = *(_DWORD *)(a2 + 316);
  v6 = 0;
  v23 = v4;
  v24 = *(_DWORD *)(a2 + 316);
  if ( result > 0 )
  {
    v21 = *(_DWORD *)(a3 + 40) - 2;
    v7 = a4;
    v25 = a4;
    v26 = 0;
    for ( i = *a4; ; i = *v25 )
    {
      while ( 1 )
      {
        v8 = v26 ? v7[1] : *(v7 - 1);
        v9 = *(_BYTE **)(v23 + 4 * v6++);
        v10 = *(_BYTE *)v8 + 3 * *(_BYTE *)i;
        v11 = *(_BYTE *)(v8 + 1) + 3 * *(_BYTE *)(i + 1);
        *v9 = (4 * v10 + 8) >> 4;
        v12 = (_BYTE *)(v8 + 2);
        v13 = (_BYTE *)(i + 2);
        *++v9 = (v10 + v11 + 2 * v10 + 7) >> 4;
        v14 = (int)(v9 + 1);
        v15 = v10;
        v16 = v11;
        if ( v21 )
        {
          v27 = v21;
          do
          {
            v11 = *v12++ + 3 * *v13;
            *(_BYTE *)v14 = (3 * v16 + v15 + 8) >> 4;
            ++v13;
            v17 = (_BYTE *)(v14 + 1);
            *v17 = (3 * v16 + v11 + 7) >> 4;
            v14 = (int)(v17 + 1);
            v18 = v27 == 1;
            v15 = v16;
            v16 = v11;
            --v27;
          }
          while ( !v18 );
        }
        *(_BYTE *)v14 = (v11 + v15 + 2 * v11 + 8) >> 4;
        *(_BYTE *)(v14 + 1) = (4 * v11 + 7) >> 4;
        v20 = __OFSUB__(v26 + 1, 2);
        v19 = v26++ - 1 < 0;
        if ( !(v19 ^ v20) )
          break;
        v7 = v25;
      }
      result = v24;
      ++v25;
      if ( v6 >= v24 )
        break;
      v7 = v25;
      v26 = 0;
    }
  }
  return result;
}

//----- (0043D6B0) --------------------------------------------------------
int __userpurge sub_43D6B0@<eax>(int *a1@<eax>, int a2@<edx>, int a3, int a4)
{
  int v4; // ecx@1
  int result; // eax@1
  int v6; // ebx@1
  __m64 **v7; // eax@2
  __m64 *v8; // edx@4
  __m64 *v9; // eax@4
  __m64 *v10; // ST20_4@4
  __m64 *v11; // edx@4
  __m64 *v12; // esi@4
  __m64 *v13; // edi@4
  int v14; // eax@4
  __m64 v15; // mm4@4
  __m64 v16; // mm5@4
  __m64 v17; // mm0@4
  __m64 v18; // mm2@4
  __m64 v19; // mm1@4
  __m64 v20; // mm6@4
  __m64 v21; // mm2@4
  __m64 v22; // mm0@4
  __m64 *v23; // edi@4
  int v24; // eax@4
  int i; // ecx@4
  __m64 v26; // ST0C_8@5
  __m64 v27; // ST14_8@5
  __m64 v28; // mm0@5
  __m64 v29; // mm2@5
  __m64 v30; // mm1@5
  __m64 v31; // mm6@5
  __m64 v32; // mm1@5
  __m64 v33; // mm3@5
  __m64 v34; // mm3@5
  __m64 v35; // mm0@5
  __m64 *v36; // edi@5
  __m64 v37; // mm0@5
  __m64 v38; // mm1@5
  __m64 v39; // mm0@5
  __m64 v40; // mm2@5
  __m64 v41; // mm3@5
  __m64 v42; // mm1@5
  __m64 v43; // mm0@5
  __m64 v44; // mm0@6
  __m64 v45; // mm1@6
  __m64 v46; // mm0@6
  __m64 *v47; // esi@6
  __m64 *v48; // edx@6
  __m64 v49; // mm5@6
  __m64 v50; // mm2@6
  __m64 *v51; // edi@6
  int j; // ecx@6
  __m64 v53; // mm1@7
  __m64 v54; // mm6@7
  __m64 v55; // mm2@7
  __m64 v56; // mm3@7
  __m64 *v57; // edi@7
  __m64 v58; // mm2@7
  unsigned __int64 v59; // mm4@7
  __m64 *v60; // [sp+14h] [bp-20h]@4
  int v61; // [sp+20h] [bp-14h]@4
  __m64 *v62; // [sp+24h] [bp-10h]@4
  __m64 *v63; // [sp+28h] [bp-Ch]@4
  int v64; // [sp+2Ch] [bp-8h]@1
  int v65; // [sp+30h] [bp-4h]@1
  int v66; // [sp+40h] [bp+Ch]@2

  v4 = *a1;
  result = *(_DWORD *)(a2 + 40);
  v6 = 0;
  v65 = *(_DWORD *)(a2 + 40);
  v64 = v4;
  if ( *(_DWORD *)(a3 + 316) > 0 )
  {
    v7 = (__m64 **)(a4 + 4);
    v66 = a4 + 4;
    while ( 1 )
    {
      v60 = *(v7 - 1);
      v8 = *(v7 - 2);
      v62 = *v7;
      v9 = *(__m64 **)(v4 + 4 * v6);
      v10 = v8;
      v63 = *(__m64 **)(v4 + 4 * v6 + 4);
      v6 += 2;
      v61 = (int)v9 + 4 * v65;
      v11 = v60;
      v12 = v10;
      v13 = v9;
      v14 = (int)v9 + 4 * v65;
      v15 = (__m64)v60->m64_u64;
      v16 = (__m64)v10->m64_u64;
      v17 = _m_punpcklbw((__m64)v60->m64_u64, (__m64)(unsigned int)qword_493518);
      v18 = _m_punpcklbw((__m64)v10->m64_u64, (__m64)(unsigned int)qword_493518);
      v19 = _m_paddw(_m_pmullw(_m_psllq(v17, 0x10u), (__m64)qword_4934C8), _m_pmullw(v17, (__m64)qword_4934D8));
      *(__m64 *)v14 = v19;
      v20 = _m_psrlw(
              _m_paddw(
                _m_paddw(v19, _m_paddw(_m_psllq(v18, 0x10u), _m_pmullw(v18, (__m64)qword_4934E0))),
                (__m64)qword_4934F0),
              4u);
      v21 = _m_pmullw(_m_punpcklbw(v16, (__m64)(unsigned int)qword_493518), (__m64)qword_4934C8);
      v22 = _m_paddw(
              _m_pmullw(_m_punpcklbw(v15, (__m64)(unsigned int)qword_493518), (__m64)qword_4934D0),
              _m_pmullw(_m_punpcklbw(_m_psrlq(v15, 8u), (__m64)(unsigned int)qword_493518), (__m64)qword_4934C8));
      *(__m64 *)(v14 + 8) = v22;
      v13->m64_u64 = (unsigned __int64)_m_paddw(
                                         v20,
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   v22,
                                                   _m_punpcklbw(_m_psrlq(v16, 8u), (__m64)(unsigned int)qword_493518)),
                                                 (__m64)qword_4934E8),
                                               v21),
                                             4u),
                                           8u));
      v23 = v13 + 1;
      v24 = v14 + 16;
      for ( i = v65 - 8; i > 0; i -= 8 )
      {
        v26 = v15;
        v27 = v16;
        v28 = _m_pmullw(_m_punpckhbw(v15, (__m64)qword_493518), (__m64)qword_4934D0);
        v29 = _m_pmullw(_m_punpckhbw(v16, (__m64)qword_493518), (__m64)qword_4934C8);
        v30 = _m_paddw(_m_pmullw(_m_punpckhbw(_m_psllq(v15, 8u), (__m64)qword_493518), (__m64)qword_4934C8), v28);
        *(__m64 *)v24 = v30;
        v31 = _m_psrlw(
                _m_paddw(
                  _m_paddw(v30, (__m64)qword_4934F0),
                  _m_paddw(_m_punpckhbw(_m_psllq(v16, 8u), (__m64)qword_493518), v29)),
                4u);
        v32 = _m_psrlq(v15, 8u);
        v15 = v11[1];
        v33 = _m_psrlq(v16, 8u);
        v16 = v12[1];
        v34 = _m_punpckhbw(_m_paddb(v33, _m_psllq(v12[1], 0x38u)), (__m64)qword_493518);
        v35 = _m_paddw(
                v28,
                _m_pmullw(
                  _m_punpckhbw(_m_paddb(v32, _m_psllq(v11[1], 0x38u)), (__m64)qword_493518),
                  (__m64)qword_4934C8));
        *(__m64 *)(v24 + 8) = v35;
        v23->m64_u64 = (unsigned __int64)_m_paddw(
                                           v31,
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(_m_paddw(v35, _m_paddw(v34, (__m64)qword_4934E8)), v29),
                                               4u),
                                             8u));
        v36 = v23 + 1;
        v37 = _m_punpcklbw(v15, (__m64)(unsigned int)qword_493518);
        v38 = _m_paddw(_m_psllq(v37, 0x10u), _m_psrlq(v26, 0x38u));
        v39 = _m_pmullw(v37, (__m64)qword_4934D0);
        v40 = _m_punpcklbw(v16, (__m64)(unsigned int)qword_493518);
        v41 = _m_paddw(_m_psllq(v40, 0x10u), _m_psrlq(v27, 0x38u));
        v21 = _m_pmullw(v40, (__m64)qword_4934C8);
        v42 = _m_paddw(_m_pmullw(v38, (__m64)qword_4934C8), v39);
        *(__m64 *)(v24 + 16) = v42;
        v43 = _m_paddw(
                v39,
                _m_pmullw(_m_punpcklbw(_m_psrlq(v15, 8u), (__m64)(unsigned int)qword_493518), (__m64)qword_4934C8));
        *(__m64 *)(v24 + 24) = v43;
        v36->m64_u64 = (unsigned __int64)_m_paddw(
                                           _m_psrlw(
                                             _m_paddw(_m_paddw(v42, (__m64)qword_4934F0), _m_paddw(v41, v21)),
                                             4u),
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   _m_paddw(
                                                     v43,
                                                     _m_punpcklbw(_m_psrlq(v16, 8u), (__m64)(unsigned int)qword_493518)),
                                                   (__m64)qword_4934E8),
                                                 v21),
                                               4u),
                                             8u));
        v23 = v36 + 1;
        ++v11;
        ++v12;
        v24 += 32;
      }
      v44 = _m_pmullw(_m_punpckhbw(v15, (__m64)qword_493518), (__m64)qword_4934D0);
      v45 = _m_paddw(_m_pmullw(_m_punpckhbw(_m_psllq(v15, 8u), (__m64)qword_493518), (__m64)qword_4934C8), v44);
      *(__m64 *)v24 = v45;
      v46 = _m_paddw(
              v44,
              _m_pmullw(
                _m_punpckhbw(_m_paddb(_m_psrlq(v15, 8u), _m_pand(v15, (__m64)qword_493508)), (__m64)qword_493518),
                (__m64)qword_4934C8));
      *(__m64 *)(v24 + 8) = v46;
      v23->m64_u64 = (unsigned __int64)_m_paddw(
                                         _m_psrlw(
                                           _m_paddw(
                                             _m_paddw(v45, (__m64)qword_4934F0),
                                             _m_paddw(_m_punpckhbw(_m_psllq(v16, 8u), (__m64)qword_493518), v21)),
                                           4u),
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 v46,
                                                 _m_paddw(
                                                   _m_punpckhbw(
                                                     _m_paddb(_m_psrlq(v16, 8u), _m_pand(v16, (__m64)qword_493508)),
                                                     (__m64)qword_493518),
                                                   (__m64)qword_4934E8)),
                                               v21),
                                             4u),
                                           8u));
      v47 = v62;
      v48 = v60;
      v49 = (__m64)v62->m64_u64;
      v50 = _m_punpcklbw((__m64)v62->m64_u64, (__m64)(unsigned int)qword_493518);
      v63->m64_u64 = (unsigned __int64)_m_paddw(
                                         _m_psrlw(
                                           _m_paddw(
                                             _m_paddw(
                                               *(__m64 *)v61,
                                               _m_paddw(_m_psllq(v50, 0x10u), _m_pmullw(v50, (__m64)qword_4934E0))),
                                             (__m64)qword_4934F0),
                                           4u),
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   *(__m64 *)(v61 + 8),
                                                   _m_punpcklbw(
                                                     _m_psrlq((__m64)v62->m64_u64, 8u),
                                                     (__m64)(unsigned int)qword_493518)),
                                                 (__m64)qword_4934E8),
                                               _m_pmullw(v50, (__m64)qword_4934C8)),
                                             4u),
                                           8u));
      v51 = v63 + 1;
      result = v61 + 16;
      for ( j = v65 - 8; j > 0; j -= 8 )
      {
        v53 = v49;
        v54 = _m_psrlw(
                _m_paddw(
                  _m_paddw(*(__m64 *)result, (__m64)qword_4934F0),
                  _m_paddw(
                    _m_punpckhbw(_m_psllq(v49, 8u), (__m64)qword_493518),
                    _m_pmullw(_m_punpckhbw(v49, (__m64)qword_493518), (__m64)qword_4934C8))),
                4u);
        v55 = _m_punpckhbw(v49, (__m64)qword_493518);
        v56 = _m_psrlq(v49, 8u);
        v49 = v47[1];
        v51->m64_u64 = (unsigned __int64)_m_paddw(
                                           v54,
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   *(__m64 *)(result + 8),
                                                   _m_paddw(
                                                     _m_punpckhbw(
                                                       _m_paddb(v56, _m_psllq(v47[1], 0x38u)),
                                                       (__m64)qword_493518),
                                                     (__m64)qword_4934E8)),
                                                 _m_pmullw(v55, (__m64)qword_4934C8)),
                                               4u),
                                             8u));
        v57 = v51 + 1;
        v58 = _m_punpcklbw(v49, (__m64)(unsigned int)qword_493518);
        v57->m64_u64 = (unsigned __int64)_m_paddw(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(*(__m64 *)(result + 16), (__m64)qword_4934F0),
                                               _m_paddw(
                                                 _m_paddw(_m_psllq(v58, 0x10u), _m_psrlq(v53, 0x38u)),
                                                 _m_pmullw(v58, (__m64)qword_4934C8))),
                                             4u),
                                           _m_psllq(
                                             _m_psrlw(
                                               _m_paddw(
                                                 _m_paddw(
                                                   _m_paddw(
                                                     *(__m64 *)(result + 24),
                                                     _m_punpcklbw(_m_psrlq(v49, 8u), (__m64)(unsigned int)qword_493518)),
                                                   (__m64)qword_4934E8),
                                                 _m_pmullw(v58, (__m64)qword_4934C8)),
                                               4u),
                                             8u));
        v51 = v57 + 1;
        ++v48;
        ++v47;
        result += 32;
        v59 = v48->m64_u64;
      }
      v51->m64_u64 = (unsigned __int64)_m_paddw(
                                         _m_psrlw(
                                           _m_paddw(
                                             _m_paddw(*(__m64 *)result, (__m64)qword_4934F0),
                                             _m_paddw(
                                               _m_punpckhbw(_m_psllq(v49, 8u), (__m64)qword_493518),
                                               _m_pmullw(_m_punpckhbw(v49, (__m64)qword_493518), (__m64)qword_4934C8))),
                                           4u),
                                         _m_psllq(
                                           _m_psrlw(
                                             _m_paddw(
                                               _m_paddw(
                                                 *(__m64 *)(result + 8),
                                                 _m_paddw(
                                                   _m_punpckhbw(
                                                     _m_paddb(_m_psrlq(v49, 8u), _m_pand(v49, (__m64)qword_493508)),
                                                     (__m64)qword_493518),
                                                   (__m64)qword_4934E8)),
                                               _m_pmullw(_m_punpckhbw(v49, (__m64)qword_493518), (__m64)qword_4934C8)),
                                             4u),
                                           8u));
      v66 += 4;
      if ( v6 >= *(_DWORD *)(a3 + 316) )
        break;
      v7 = (__m64 **)v66;
      v4 = v64;
    }
  }
  _m_femms();
  return result;
}
// 4934C8: using guessed type __int64 qword_4934C8;
// 4934D0: using guessed type __int64 qword_4934D0;
// 4934D8: using guessed type __int64 qword_4934D8;
// 4934E0: using guessed type __int64 qword_4934E0;
// 4934E8: using guessed type __int64 qword_4934E8;
// 4934F0: using guessed type __int64 qword_4934F0;
// 493508: using guessed type __int64 qword_493508;
// 493518: using guessed type __int64 qword_493518;

//----- (0043DC80) --------------------------------------------------------
char **__stdcall sub_43DC80(int a1, int a2, int a3, char **a4)
{
  int v4; // eax@2
  int v5; // esi@2
  int v6; // eax@6
  int v7; // eax@8
  char **result; // eax@10

  if ( *(_DWORD *)(a2 + 40) <= 0x10u )
    goto LABEL_14;
  v4 = *(_DWORD *)(a1 + 316);
  v5 = 0;
  if ( v4 > 0 )
  {
    while ( !(*(_BYTE *)(a3 + 4 * v5) & 7) )
    {
      if ( ++v5 >= v4 )
        goto LABEL_7;
    }
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 2;
    (*(void (__stdcall **)(int, signed int))(v6 + 4))(a1, -1);
  }
LABEL_7:
  if ( v5 != *(_DWORD *)(a1 + 316) )
    goto LABEL_14;
  v7 = *(_DWORD *)(a1 + 72);
  if ( v7 != 5 && v7 != 6 )
LABEL_14:
    result = sub_43D200(a4, a2, a1, a3);
  else
    result = (char **)sub_43D2C0(a4, a2, a1, a3);
  return result;
}

//----- (0043DD00) --------------------------------------------------------
int __stdcall sub_43DD00(int a1, int a2, _DWORD *a3, int *a4)
{
  int v4; // eax@2
  int v5; // esi@2
  int v6; // eax@6
  int v7; // eax@8
  int result; // eax@10

  if ( *(_DWORD *)(a2 + 40) <= 0x10u )
    goto LABEL_14;
  v4 = *(_DWORD *)(a1 + 316);
  v5 = 0;
  if ( v4 > 0 )
  {
    while ( !(a3[v5] & 7) )
    {
      if ( ++v5 >= v4 )
        goto LABEL_7;
    }
    v6 = *(_DWORD *)a1;
    *(_DWORD *)(v6 + 20) = 2;
    (*(void (__stdcall **)(int, signed int))(v6 + 4))(a1, -1);
  }
LABEL_7:
  if ( v5 != *(_DWORD *)(a1 + 316) )
    goto LABEL_14;
  v7 = *(_DWORD *)(a1 + 72);
  if ( v7 != 5 && v7 != 6 )
LABEL_14:
    result = sub_43D550(a4, a1, a2, a3);
  else
    result = sub_43D6B0(a4, a2, a1, (int)a3);
  return result;
}

//----- (0043DD80) --------------------------------------------------------
int __stdcall sub_43DD80(int a1)
{
  int v1; // esi@1
  int v2; // ebp@1
  int result; // eax@1
  int v4; // eax@2
  int v5; // ebx@7
  int v6; // ebp@7
  signed int v7; // edi@8
  int v8; // eax@8
  int v9; // edi@8
  int v10; // edx@8
  signed int v11; // ecx@8
  signed int v12; // eax@8
  int v13; // eax@26
  int v14; // eax@28
  int v15; // edi@29
  int v16; // ST0C_4@29
  int v17; // eax@29
  int v18; // [sp+20h] [bp-10h]@1
  int v19; // [sp+24h] [bp-Ch]@6
  int v20; // [sp+28h] [bp-8h]@8
  int v21; // [sp+2Ch] [bp-4h]@8
  int v22; // [sp+2Ch] [bp-4h]@25
  signed int v23; // [sp+34h] [bp+4h]@4

  v1 = a1;
  v2 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 160);
  result = *(_DWORD *)(a1 + 304);
  v18 = v2;
  *(_DWORD *)(a1 + 456) = v2;
  *(_DWORD *)v2 = sub_43CF00;
  *(_DWORD *)(v2 + 4) = sub_43CF20;
  *(_DWORD *)(v2 + 8) = 0;
  if ( result )
  {
    v4 = *(_DWORD *)a1;
    *(_DWORD *)(v4 + 20) = 25;
    result = (*(int (__stdcall **)(int))v4)(a1);
  }
  if ( !*(_DWORD *)(a1 + 76) || (v23 = 1, *(_DWORD *)(v1 + 320) <= 1) )
    v23 = 0;
  v19 = 0;
  if ( *(_DWORD *)(v1 + 36) > 0 )
  {
    v5 = *(_DWORD *)(v1 + 220) + 36;
    v6 = v2 + 52;
    do
    {
      v7 = *(_DWORD *)(v1 + 320);
      v20 = *(_DWORD *)v5 * *(_DWORD *)(v5 - 28) / v7;
      v8 = *(_DWORD *)v5 * *(_DWORD *)(v5 - 24) / v7;
      v9 = *(_DWORD *)(v5 + 12);
      v10 = *(_DWORD *)(v1 + 316);
      v21 = *(_DWORD *)(v1 + 316);
      v11 = v8;
      v12 = *(_DWORD *)(v1 + 312);
      *(_DWORD *)(v6 + 48) = v11;
      if ( v9 )
      {
        if ( v20 != v12 || v11 != v10 )
        {
          if ( 2 * v20 == v12 )
          {
            if ( v11 == v10 )
            {
              if ( v23 && *(_DWORD *)(v5 + 4) > 2u )
                *(_DWORD *)v6 = sub_43DC80;
              else
                *(_DWORD *)v6 = sub_43D120;
LABEL_29:
              v15 = *(_DWORD *)(v1 + 4);
              v16 = (2 * (*(_DWORD *)(v18 + 8) == 1) + 1) * *(_DWORD *)(v1 + 316);
              v17 = sub_438110(*(_DWORD *)(v1 + 112), *(_DWORD *)(v1 + 312));
              *(_DWORD *)(v6 - 40) = (*(int (__stdcall **)(int, signed int, int, int))(v15 + 8))(v1, 1, v17, v16);
              goto LABEL_30;
            }
            if ( 2 * v20 == v12 && 2 * v11 == v21 )
            {
              if ( v23 && *(_DWORD *)(v5 + 4) > 2u )
              {
                *(_DWORD *)v6 = sub_43DD00;
                *(_DWORD *)(v18 + 8) = 1;
              }
              else
              {
                *(_DWORD *)v6 = sub_43D180;
              }
              goto LABEL_29;
            }
          }
          v22 = v12 / v20;
          if ( v12 % v20 || (v13 = *(_DWORD *)(v1 + 316) / v11, *(_DWORD *)(v1 + 316) % v11) )
          {
            v14 = *(_DWORD *)v1;
            *(_DWORD *)(v14 + 20) = 38;
            (*(void (__stdcall **)(int))v14)(v1);
          }
          else
          {
            *(_DWORD *)v6 = sub_43D020;
            *(_BYTE *)(v19 + v18 + 140) = v22;
            *(_BYTE *)(v19 + v18 + 150) = v13;
          }
          goto LABEL_29;
        }
        *(_DWORD *)v6 = sub_43D000;
      }
      else
      {
        *(_DWORD *)v6 = sub_43D010;
      }
LABEL_30:
      result = v19 + 1;
      v6 += 4;
      v5 += 84;
      ++v19;
    }
    while ( v19 < *(_DWORD *)(v1 + 36) );
  }
  return result;
}
// 43CF00: using guessed type int __stdcall sub_43CF00(int);
// 43D000: using guessed type int __stdcall sub_43D000(int, int, int, int);
// 43D010: using guessed type int __stdcall sub_43D010(int, int, int, int);
// 43D120: using guessed type int __stdcall sub_43D120(int, int, int, int);
// 43D180: using guessed type int __stdcall sub_43D180(int, int, int, int);

//----- (0043DF70) --------------------------------------------------------
int __usercall sub_43DF70@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int (__stdcall **v4)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v5; // eax@1
  int (__stdcall **v6)(_DWORD, _DWORD, _DWORD); // edx@1
  int v7; // eax@1
  signed int *v8; // ecx@1
  int v9; // ST30_4@1
  int result; // eax@1
  signed int v11; // ebp@1
  signed int v12; // ebx@1
  signed int v13; // esi@1
  signed int v14; // edx@1
  int v15; // [sp+30h] [bp-8h]@1
  int v16; // [sp+34h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 460);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  v4 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 8) = v3;
  v5 = (*v4)(v1, 1, 1024);
  v6 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 12) = v5;
  *(_DWORD *)(v2 + 16) = (*v6)(v1, 1, 1024);
  v7 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v8 = *(signed int **)(v2 + 12);
  *(_DWORD *)(v2 + 20) = v7;
  v9 = v7;
  v16 = *(_DWORD *)(v2 + 16) - (_DWORD)v8;
  result = *(_DWORD *)(v2 + 8) - (_DWORD)v8;
  v11 = 5990656;
  v12 = -14831872;
  v13 = -11728000;
  v14 = 2919680;
  v15 = v9 - (_DWORD)v8;
  do
  {
    *(signed int *)((char *)v8 + result) = v13 >> 16;
    *v8 = v12 >> 16;
    *(signed int *)((char *)v8 + v16) = v11;
    *(signed int *)((char *)v8 + v15) = v14;
    v14 -= 22554;
    v13 += 91881;
    v12 += 116130;
    v11 -= 46802;
    ++v8;
  }
  while ( v14 >= -2831590 );
  return result;
}

//----- (0043E040) --------------------------------------------------------
_BYTE *__stdcall sub_43E040(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // edx@1
  int v7; // ecx@1
  _BYTE *result; // eax@1
  int v9; // eax@2
  int v10; // ebx@2
  int v11; // ecx@2
  char *v12; // esi@2
  int v13; // edi@4
  int v14; // ebx@4
  int v15; // ecx@4
  int v16; // esi@5
  int v17; // ebx@5
  int v18; // ebp@7
  int v19; // esi@7
  int v20; // edi@7
  int v21; // [sp+4h] [bp-24h]@1
  int v22; // [sp+8h] [bp-20h]@5
  int v23; // [sp+Ch] [bp-1Ch]@5
  int v24; // [sp+10h] [bp-18h]@1
  _BYTE *v25; // [sp+14h] [bp-14h]@1
  int v26; // [sp+18h] [bp-10h]@1
  int v27; // [sp+1Ch] [bp-Ch]@1
  int v28; // [sp+20h] [bp-8h]@1
  char *v29; // [sp+24h] [bp-4h]@4
  int v30; // [sp+2Ch] [bp+4h]@5
  int v31; // [sp+30h] [bp+8h]@2
  int v32; // [sp+34h] [bp+Ch]@2

  v5 = *(_DWORD *)(a1 + 460);
  v21 = *(_DWORD *)(a1 + 112);
  v6 = *(_DWORD *)(a1 + 328);
  v24 = *(_DWORD *)(v5 + 8);
  v28 = *(_DWORD *)(v5 + 12);
  v7 = *(_DWORD *)(v5 + 16);
  result = *(_BYTE **)(v5 + 20);
  v27 = *(_DWORD *)(a1 + 328);
  v26 = v7;
  v25 = result;
  if ( a5 - 1 >= 0 )
  {
    v9 = *(_DWORD *)(a2 + 4);
    v10 = *(_DWORD *)a2 - v9;
    v11 = *(_DWORD *)(a2 + 8) - v9;
    v12 = (char *)(v9 + 4 * a3);
    v32 = *(_DWORD *)a2 - v9;
    v31 = *(_DWORD *)(a2 + 8) - v9;
    while ( 1 )
    {
      v13 = *(_DWORD *)&v12[v10];
      v14 = *(_DWORD *)&v12[v11];
      v15 = *a4;
      result = *(_BYTE **)v12;
      ++a4;
      v12 += 4;
      v29 = v12;
      if ( v21 )
      {
        v16 = v13 - (_DWORD)result;
        v17 = v14 - (_DWORD)result;
        v22 = v13 - (_DWORD)result;
        v23 = v17;
        v30 = v21;
        while ( 1 )
        {
          v18 = result[v17];
          v19 = result[v16];
          v20 = *result;
          *(_BYTE *)v15 = *(_BYTE *)(v19 + *(_DWORD *)(v24 + 4 * v18) + v6);
          v6 = v27;
          *(_BYTE *)(v15 + 1) = *(_BYTE *)(v19 + ((*(_DWORD *)(v26 + 4 * v18) + *(_DWORD *)&v25[4 * v20]) >> 16) + v27);
          *(_BYTE *)(v15 + 2) = *(_BYTE *)(v19 + *(_DWORD *)(v28 + 4 * v20) + v27);
          v15 += 3;
          ++result;
          if ( !--v30 )
            break;
          v16 = v22;
          v17 = v23;
        }
        v12 = v29;
      }
      if ( !--a5 )
        break;
      v11 = v31;
      v10 = v32;
    }
  }
  return result;
}

//----- (0043E170) --------------------------------------------------------
unsigned int *__stdcall sub_43E170(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // ebx@1
  unsigned int v7; // edi@1
  int v8; // ecx@1
  int v9; // edx@1
  unsigned int v10; // edi@1
  unsigned int *result; // eax@1
  int v12; // ebp@2
  unsigned int *v13; // ecx@3
  unsigned int *v14; // edx@3
  int v15; // esi@3
  int v16; // esi@5
  int v17; // ecx@6
  int v18; // edx@6
  int v19; // ebp@8
  int v20; // ecx@8
  int v21; // edi@8
  unsigned int v22; // [sp+8h] [bp-28h]@1
  unsigned int *v23; // [sp+Ch] [bp-24h]@3
  int v24; // [sp+Ch] [bp-24h]@6
  int v25; // [sp+10h] [bp-20h]@2
  int v26; // [sp+14h] [bp-1Ch]@1
  int v27; // [sp+18h] [bp-18h]@1
  int v28; // [sp+1Ch] [bp-14h]@1
  int v29; // [sp+20h] [bp-10h]@1
  int v30; // [sp+24h] [bp-Ch]@1
  unsigned int v31; // [sp+28h] [bp-8h]@1
  int v32; // [sp+2Ch] [bp-4h]@3
  unsigned int *v33; // [sp+34h] [bp+4h]@3
  int v34; // [sp+34h] [bp+4h]@6
  int v35; // [sp+3Ch] [bp+Ch]@2
  unsigned int *v36; // [sp+44h] [bp+14h]@3
  int v37; // [sp+44h] [bp+14h]@6

  v5 = *(_DWORD *)(a1 + 460);
  v6 = *(_DWORD *)(a1 + 328);
  v7 = *(_DWORD *)(a1 + 112);
  v26 = *(_DWORD *)(v5 + 8);
  v8 = *(_DWORD *)(v5 + 16);
  v30 = *(_DWORD *)(v5 + 12);
  v9 = *(_DWORD *)(v5 + 20);
  v22 = v7;
  v10 = v7 & 0xFFFFFFF8;
  result = (unsigned int *)(a5 - 1);
  v29 = *(_DWORD *)(a1 + 328);
  v28 = v8;
  v27 = v9;
  v31 = v10;
  if ( a5 - 1 >= 0 )
  {
    v12 = 4 * a3;
    v25 = 3 * v10;
    v35 = a5;
    do
    {
      v13 = *(unsigned int **)(*(_DWORD *)a2 + v12);
      v14 = *(unsigned int **)(*(_DWORD *)(a2 + 4) + v12);
      v33 = *(unsigned int **)(*(_DWORD *)(a2 + 8) + v12);
      v15 = *a4;
      v12 += 4;
      result = (unsigned int *)(a4 + 1);
      v23 = v13;
      v36 = v14;
      v32 = v12;
      ++a4;
      if ( v10 )
      {
        result = sub_450920(v10, v13, v14, v33, v15);
        v14 = v36;
        v13 = v23;
      }
      v16 = v25 + v15;
      if ( v10 < v22 )
      {
        v17 = (char *)v13 - (char *)v14;
        result = (unsigned int *)((char *)v14 + v10);
        v18 = (char *)v33 - (char *)v36;
        v24 = v17;
        v37 = (char *)v33 - (char *)v36;
        v34 = v22 - v10;
        while ( 1 )
        {
          v19 = *((_BYTE *)result + v18);
          v20 = *((_BYTE *)result + v17);
          v21 = *(_BYTE *)result;
          *(_BYTE *)v16 = *(_BYTE *)(v20 + *(_DWORD *)(v26 + 4 * v19) + v6);
          v6 = v29;
          *(_BYTE *)(v16 + 1) = *(_BYTE *)(v20 + ((*(_DWORD *)(v28 + 4 * v19) + *(_DWORD *)(v27 + 4 * v21)) >> 16) + v29);
          *(_BYTE *)(v16 + 2) = *(_BYTE *)(v20 + *(_DWORD *)(v30 + 4 * v21) + v29);
          v16 += 3;
          result = (unsigned int *)((char *)result + 1);
          if ( !--v34 )
            break;
          v17 = v24;
          v18 = v37;
        }
        v10 = v31;
        v12 = v32;
      }
      --v35;
    }
    while ( v35 );
  }
  _m_femms();
  return result;
}

//----- (0043E400) --------------------------------------------------------
int __stdcall sub_43E400(int a1, int a2, int a3, int *a4, int a5)
{
  int result; // eax@1
  int v6; // ebx@1
  int v7; // eax@2
  int v8; // edi@2
  int v9; // ebp@2
  int v10; // ecx@2
  char *v11; // edx@2
  int v12; // esi@4
  int v13; // ebp@4
  int v14; // ecx@4
  int v15; // edx@5
  int v16; // ebp@5
  int v17; // esi@7
  int v18; // ebp@7
  int v19; // edi@7
  int v20; // [sp+8h] [bp-2Ch]@2
  int v21; // [sp+Ch] [bp-28h]@1
  int v22; // [sp+10h] [bp-24h]@5
  int v23; // [sp+14h] [bp-20h]@5
  int v24; // [sp+18h] [bp-1Ch]@1
  int v25; // [sp+1Ch] [bp-18h]@1
  int v26; // [sp+20h] [bp-14h]@1
  int v27; // [sp+24h] [bp-10h]@1
  int v28; // [sp+28h] [bp-Ch]@1
  int v29; // [sp+2Ch] [bp-8h]@5
  char *v30; // [sp+30h] [bp-4h]@4
  int v31; // [sp+38h] [bp+4h]@4
  int v32; // [sp+38h] [bp+4h]@5
  int v33; // [sp+3Ch] [bp+8h]@2
  int v34; // [sp+40h] [bp+Ch]@2

  result = *(_DWORD *)(a1 + 460);
  v6 = *(_DWORD *)(a1 + 328);
  v21 = *(_DWORD *)(a1 + 112);
  v24 = *(_DWORD *)(result + 8);
  v28 = *(_DWORD *)(result + 12);
  v27 = *(_DWORD *)(a1 + 328);
  v26 = *(_DWORD *)(result + 16);
  v25 = *(_DWORD *)(result + 20);
  if ( a5 - 1 >= 0 )
  {
    v7 = *(_DWORD *)(a2 + 4);
    v8 = *(_DWORD *)a2 - v7;
    v9 = *(_DWORD *)(a2 + 8) - v7;
    v10 = *(_DWORD *)(a2 + 12) - v7;
    v11 = (char *)(v7 + 4 * a3);
    v20 = *(_DWORD *)a2 - v7;
    v33 = *(_DWORD *)(a2 + 8) - v7;
    v34 = v10;
    while ( 1 )
    {
      v12 = *(_DWORD *)&v11[v8];
      result = *(_DWORD *)v11;
      v13 = *(_DWORD *)&v11[v9];
      v31 = *(_DWORD *)&v11[v10];
      v14 = *a4;
      ++a4;
      v11 += 4;
      v30 = v11;
      if ( v21 )
      {
        v15 = v12 - result;
        v16 = v13 - result;
        v22 = v12 - result;
        v23 = v16;
        v29 = v31 - result;
        v32 = v21;
        while ( 1 )
        {
          v17 = *(_BYTE *)(v15 + result);
          v18 = *(_BYTE *)(result + v16);
          v19 = *(_BYTE *)result;
          *(_BYTE *)v14 = *(_BYTE *)(v6 - *(_DWORD *)(v24 + 4 * v18) - v17 + 255);
          v6 = v27;
          *(_BYTE *)(v14 + 1) = *(_BYTE *)(v27
                                         - ((*(_DWORD *)(v26 + 4 * v18) + *(_DWORD *)(v25 + 4 * v19)) >> 16)
                                         - v17
                                         + 255);
          v14 += 4;
          *(_BYTE *)(v14 - 2) = *(_BYTE *)(v27 - *(_DWORD *)(v28 + 4 * v19) - v17 + 255);
          *(_BYTE *)(v14 - 1) = *(_BYTE *)(v29 + result++);
          if ( !--v32 )
            break;
          v15 = v22;
          v16 = v23;
        }
        v11 = v30;
      }
      if ( !--a5 )
        break;
      v9 = v33;
      v10 = v34;
      v8 = v20;
    }
  }
  return result;
}

//----- (0043E570) --------------------------------------------------------
unsigned int __usercall sub_43E570@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int (__stdcall **v4)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v5; // eax@1
  int (__stdcall **v6)(_DWORD, _DWORD, _DWORD); // edx@1
  int v7; // eax@1
  int (__stdcall **v8)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v9; // eax@1
  int (__stdcall **v10)(_DWORD, _DWORD, _DWORD); // edx@1
  int v11; // eax@1
  int (__stdcall **v12)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v13; // eax@1
  int (__stdcall **v14)(_DWORD, _DWORD, _DWORD); // edx@1
  int v15; // eax@1
  int v16; // edx@1
  int v17; // ebp@1
  signed int v18; // ecx@1
  int v19; // edx@3
  signed int v20; // eax@3
  int v21; // edx@6
  signed int v22; // eax@6
  int v23; // edx@9
  signed int v24; // eax@9
  int v25; // eax@12
  int v26; // edx@15
  signed int v27; // eax@15
  int v28; // edx@18
  signed int v29; // eax@18
  int v30; // edx@21
  signed int v31; // eax@21
  int v32; // edx@24
  signed int v33; // eax@24
  int v34; // edx@27
  signed int v35; // eax@27
  int v36; // ebx@29
  int v37; // edx@30
  signed int v38; // eax@30
  int v39; // edx@33
  signed int v40; // eax@33
  int v41; // edx@36
  signed int v42; // eax@36
  int v43; // eax@39
  int v44; // edx@42
  signed int v45; // eax@42
  int v46; // edx@45
  signed int v47; // eax@45
  int v48; // edx@48
  signed int v49; // eax@48
  int v50; // edx@51
  signed int v51; // eax@51
  int v52; // edx@54
  signed int v53; // eax@54
  int v54; // esi@56
  int v55; // edx@57
  signed int v56; // eax@57
  int v57; // edx@60
  signed int v58; // eax@60
  int v59; // edx@63
  signed int v60; // eax@63
  int v61; // eax@66
  int v62; // edx@69
  signed int v63; // eax@69
  int v64; // edx@72
  signed int v65; // eax@72
  int v66; // edx@75
  signed int v67; // eax@75
  int v68; // edx@78
  signed int v69; // eax@78
  int v70; // edx@81
  signed int v71; // eax@81
  int v72; // esi@83
  int v73; // edx@84
  signed int v74; // eax@84
  int v75; // edx@87
  signed int v76; // eax@87
  int v77; // edx@90
  signed int v78; // eax@90
  int v79; // eax@93
  int v80; // edx@96
  signed int v81; // eax@96
  int v82; // edx@99
  signed int v83; // eax@99
  int v84; // edx@102
  signed int v85; // eax@102
  int v86; // edx@105
  signed int v87; // eax@105
  int v88; // edx@108
  signed int v89; // eax@108
  unsigned int result; // eax@110
  int v91; // [sp+78h] [bp-24h]@1
  int v92; // [sp+7Ch] [bp-20h]@1
  int v93; // [sp+80h] [bp-1Ch]@1
  int v94; // [sp+84h] [bp-18h]@1
  int v95; // [sp+88h] [bp-14h]@1
  int v96; // [sp+8Ch] [bp-10h]@1
  int v97; // [sp+90h] [bp-Ch]@1
  int v98; // [sp+94h] [bp-8h]@1
  int v99; // [sp+98h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 460);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  v4 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 24) = v3;
  v5 = (*v4)(v1, 1, 1024);
  v6 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 28) = v5;
  *(_DWORD *)(v2 + 32) = (*v6)(v1, 1, 1024);
  v7 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v8 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 36) = v7;
  v9 = (*v8)(v1, 1, 1024);
  v10 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 40) = v9;
  *(_DWORD *)(v2 + 44) = (*v10)(v1, 1, 1024);
  v11 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v12 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 48) = v11;
  v13 = (*v12)(v1, 1, 1024);
  v14 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 52) = v13;
  *(_DWORD *)(v2 + 56) = (*v14)(v1, 1, 1024);
  v15 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v16 = *(_DWORD *)(v2 + 24);
  v17 = *(_DWORD *)(v2 + 48);
  v98 = v15;
  *(_DWORD *)(v2 + 60) = v15;
  v91 = v16;
  v92 = *(_DWORD *)(v2 + 28);
  v93 = *(_DWORD *)(v2 + 32);
  v94 = *(_DWORD *)(v2 + 36);
  v18 = 0;
  v95 = *(_DWORD *)(v2 + 40);
  v96 = *(_DWORD *)(v2 + 44);
  v99 = *(_DWORD *)(v2 + 52);
  v97 = *(_DWORD *)(v2 + 56);
  do
  {
    if ( v18 >= 192 )
    {
      v19 = (22464 * v18 - 4313057) / 63;
      v20 = 22464;
    }
    else
    {
      v19 = 223 * v18;
      v20 = 65153;
    }
    *(_DWORD *)(v91 + 4 * v18) = v20 - v19;
    if ( v18 >= 192 )
    {
      v21 = (25728 * v18 - (signed int)&unk_4B5FE1) / 63;
      v22 = 25728;
    }
    else
    {
      v21 = 206 * v18;
      v22 = 65153;
    }
    *(_DWORD *)(v92 + 4 * v18) = (unsigned int)(65793 * (v22 - v21)) >> 16;
    if ( v18 >= 192 )
    {
      v23 = (8217 * v18 - 1577633) / 63;
      v24 = 47232;
    }
    else
    {
      v23 = 94 * v18;
      v24 = 65153;
    }
    *(_DWORD *)(v93 + 4 * v18) = (unsigned int)(65793 * (v24 - v23)) >> 16;
    if ( v18 >= 192 )
      v25 = 65280 - (3060 * v18 - 587489) / 63;
    else
      v25 = 65153;
    *(_DWORD *)(v94 + 4 * v18) = (unsigned int)(65793 * v25) >> 16;
    if ( v18 >= 192 )
    {
      v26 = (7632 * v18 - 1465313) / 63;
      v27 = 60672;
    }
    else
    {
      v26 = 24 * v18;
      v27 = 65153;
    }
    *(_DWORD *)(v95 + 4 * v18) = (unsigned int)(65793 * (v27 - v26)) >> 16;
    if ( v18 >= 192 )
    {
      v28 = (29568 * v18 - 5677025) / 63;
      v29 = 29568;
    }
    else
    {
      v28 = 186 * v18;
      v29 = 65153;
    }
    *(_DWORD *)(v96 + 4 * v18) = (unsigned int)(65793 * (v29 - v28)) >> 16;
    if ( v18 >= 192 )
    {
      v30 = (11376 * v18 - 2184161) / 63;
      v31 = 39936;
    }
    else
    {
      v30 = 132 * v18;
      v31 = 65153;
    }
    *(_DWORD *)(v17 + 4 * v18) = (unsigned int)(65793 * (v31 - v30)) >> 16;
    *(_DWORD *)(v99 + 4 * v18) = (unsigned int)(65793 * (v18 >= 192 ? 65280 : 65153)) >> 16;
    if ( v18 >= 192 )
    {
      v32 = (1461 * v18 - 280481) / 63;
      v33 = 63936;
    }
    else
    {
      v32 = 7 * v18;
      v33 = 65153;
    }
    *(_DWORD *)(v97 + 4 * v18) = (unsigned int)(65793 * (v33 - v32)) >> 16;
    if ( v18 >= 192 )
    {
      v34 = (25308 * v18 - (signed int)&unk_4A24E1) / 63;
      v35 = 32448;
    }
    else
    {
      v34 = 171 * v18;
      v35 = 65153;
    }
    v36 = v18 + 1;
    *(_DWORD *)(v98 + 4 * v18) = (unsigned int)(65793 * (v35 - v34)) >> 16;
    if ( v18 + 1 >= 192 )
    {
      v37 = (22464 * v18 - (signed int)&loc_417821) / 63;
      v38 = 22464;
    }
    else
    {
      v37 = 223 * v18;
      v38 = 64930;
    }
    *(_DWORD *)(v91 + 4 * v18 + 4) = v38 - v37;
    if ( v36 >= 192 )
    {
      v39 = (25728 * v18 - (signed int)&unk_4AFB61) / 63;
      v40 = 25728;
    }
    else
    {
      v39 = 206 * v18;
      v40 = 64947;
    }
    *(_DWORD *)(v92 + 4 * v18 + 4) = (unsigned int)(65793 * (v40 - v39)) >> 16;
    if ( v36 >= 192 )
    {
      v41 = (8217 * v18 - 1569416) / 63;
      v42 = 47232;
    }
    else
    {
      v41 = 94 * v18;
      v42 = 65059;
    }
    *(_DWORD *)(v93 + 4 * v18 + 4) = (unsigned int)(65793 * (v42 - v41)) >> 16;
    if ( v36 >= 192 )
      v43 = 65280 - (3060 * v18 - 584429) / 63;
    else
      v43 = 65153;
    *(_DWORD *)(v94 + 4 * v18 + 4) = (unsigned int)(65793 * v43) >> 16;
    if ( v36 >= 192 )
    {
      v44 = (7632 * v18 - 1457681) / 63;
      v45 = 60672;
    }
    else
    {
      v44 = 24 * v18;
      v45 = 65129;
    }
    *(_DWORD *)(v95 + 4 * v18 + 4) = (unsigned int)(65793 * (v45 - v44)) >> 16;
    if ( v36 >= 192 )
    {
      v46 = (29568 * v18 - 5647457) / 63;
      v47 = 29568;
    }
    else
    {
      v46 = 186 * v18;
      v47 = 64967;
    }
    *(_DWORD *)(v96 + 4 * v18 + 4) = (unsigned int)(65793 * (v47 - v46)) >> 16;
    if ( v36 >= 192 )
    {
      v48 = (11376 * v18 - 2172785) / 63;
      v49 = 39936;
    }
    else
    {
      v48 = 132 * v18;
      v49 = 65021;
    }
    *(_DWORD *)(v17 + 4 * v18 + 4) = (unsigned int)(65793 * (v49 - v48)) >> 16;
    *(_DWORD *)(v99 + 4 * v18 + 4) = (unsigned int)(65793 * (v36 >= 192 ? 65280 : 65153)) >> 16;
    if ( v36 >= 192 )
    {
      v50 = (1461 * v18 - 279020) / 63;
      v51 = 63936;
    }
    else
    {
      v50 = 7 * v18;
      v51 = 65146;
    }
    *(_DWORD *)(v97 + 4 * v18 + 4) = (unsigned int)(65793 * (v51 - v50)) >> 16;
    if ( v36 >= 192 )
    {
      v52 = (25308 * v18 - (signed int)&unk_49C205) / 63;
      v53 = 32448;
    }
    else
    {
      v52 = 171 * v18;
      v53 = 64982;
    }
    v54 = v18 + 2;
    *(_DWORD *)(v98 + 4 * v18 + 4) = (unsigned int)(65793 * (v53 - v52)) >> 16;
    if ( v18 + 2 >= 192 )
    {
      v55 = (22464 * v18 - (signed int)sub_412061) / 63;
      v56 = 22464;
    }
    else
    {
      v55 = 223 * v18;
      v56 = 64707;
    }
    *(_DWORD *)(v91 + 4 * v54) = v56 - v55;
    if ( v54 >= 192 )
    {
      v57 = (25728 * v18 - 4888289) / 63;
      v58 = 25728;
    }
    else
    {
      v57 = 206 * v18;
      v58 = 64741;
    }
    *(_DWORD *)(v92 + 4 * v54) = (unsigned int)(65793 * (v58 - v57)) >> 16;
    if ( v54 >= 192 )
    {
      v59 = (8217 * v18 - 1561199) / 63;
      v60 = 47232;
    }
    else
    {
      v59 = 94 * v18;
      v60 = 64965;
    }
    *(_DWORD *)(v93 + 4 * v54) = (unsigned int)(65793 * (v60 - v59)) >> 16;
    if ( v54 >= 192 )
      v61 = 65280 - (3060 * v18 - 581369) / 63;
    else
      v61 = 65153;
    *(_DWORD *)(v94 + 4 * v54) = (unsigned int)(65793 * v61) >> 16;
    if ( v54 >= 192 )
    {
      v62 = (7632 * v18 - 1450049) / 63;
      v63 = 60672;
    }
    else
    {
      v62 = 24 * v18;
      v63 = 65105;
    }
    *(_DWORD *)(v95 + 4 * v54) = (unsigned int)(65793 * (v63 - v62)) >> 16;
    if ( v54 >= 192 )
    {
      v64 = (29568 * v18 - 5617889) / 63;
      v65 = 29568;
    }
    else
    {
      v64 = 186 * v18;
      v65 = 64781;
    }
    *(_DWORD *)(v96 + 4 * v54) = (unsigned int)(65793 * (v65 - v64)) >> 16;
    if ( v54 >= 192 )
    {
      v66 = (11376 * v18 - 2161409) / 63;
      v67 = 39936;
    }
    else
    {
      v66 = 132 * v18;
      v67 = 64889;
    }
    *(_DWORD *)(v17 + 4 * v54) = (unsigned int)(65793 * (v67 - v66)) >> 16;
    *(_DWORD *)(v99 + 4 * v54) = (unsigned int)(65793 * (v54 >= 192 ? 65280 : 65153)) >> 16;
    if ( v54 >= 192 )
    {
      v68 = (1461 * v18 - 277559) / 63;
      v69 = 63936;
    }
    else
    {
      v68 = 7 * v18;
      v69 = 65139;
    }
    *(_DWORD *)(v97 + 4 * v54) = (unsigned int)(65793 * (v69 - v68)) >> 16;
    if ( v54 >= 192 )
    {
      v70 = (25308 * v18 - (signed int)&unk_495F29) / 63;
      v71 = 32448;
    }
    else
    {
      v70 = 171 * v18;
      v71 = 64811;
    }
    *(_DWORD *)(v98 + 4 * v54) = (unsigned int)(65793 * (v71 - v70)) >> 16;
    v72 = v18 + 3;
    if ( v18 + 3 >= 192 )
    {
      v73 = (22464 * v18 - 4245665) / 63;
      v74 = 22464;
    }
    else
    {
      v73 = 223 * v18;
      v74 = 64484;
    }
    *(_DWORD *)(v91 + 4 * v72) = v74 - v73;
    if ( v72 >= 192 )
    {
      v75 = (25728 * v18 - (signed int)"=") / 63;
      v76 = 25728;
    }
    else
    {
      v75 = 206 * v18;
      v76 = 64535;
    }
    *(_DWORD *)(v92 + 4 * v72) = (unsigned int)(65793 * (v76 - v75)) >> 16;
    if ( v72 >= 192 )
    {
      v77 = (8217 * v18 - 1552982) / 63;
      v78 = 47232;
    }
    else
    {
      v77 = 94 * v18;
      v78 = 64871;
    }
    *(_DWORD *)(v93 + 4 * v72) = (unsigned int)(65793 * (v78 - v77)) >> 16;
    if ( v72 >= 192 )
      v79 = 65280 - (3060 * v18 - 578309) / 63;
    else
      v79 = 65153;
    *(_DWORD *)(v94 + 4 * v72) = (unsigned int)(65793 * v79) >> 16;
    if ( v72 >= 192 )
    {
      v80 = (7632 * v18 - 1442417) / 63;
      v81 = 60672;
    }
    else
    {
      v80 = 24 * v18;
      v81 = 65081;
    }
    *(_DWORD *)(v95 + 4 * v72) = (unsigned int)(65793 * (v81 - v80)) >> 16;
    if ( v72 >= 192 )
    {
      v82 = (29568 * v18 - 5588321) / 63;
      v83 = 29568;
    }
    else
    {
      v82 = 186 * v18;
      v83 = 64595;
    }
    *(_DWORD *)(v96 + 4 * v72) = (unsigned int)(65793 * (v83 - v82)) >> 16;
    if ( v72 >= 192 )
    {
      v84 = (11376 * v18 - 2150033) / 63;
      v85 = 39936;
    }
    else
    {
      v84 = 132 * v18;
      v85 = 64757;
    }
    *(_DWORD *)(v17 + 4 * v72) = (unsigned int)(65793 * (v85 - v84)) >> 16;
    *(_DWORD *)(v99 + 4 * v72) = (unsigned int)(65793 * (v72 >= 192 ? 65280 : 65153)) >> 16;
    if ( v72 >= 192 )
    {
      v86 = (1461 * v18 - 276098) / 63;
      v87 = 63936;
    }
    else
    {
      v86 = 7 * v18;
      v87 = 65132;
    }
    *(_DWORD *)(v97 + 4 * v72) = (unsigned int)(65793 * (v87 - v86)) >> 16;
    if ( v72 >= 192 )
    {
      v88 = (25308 * v18 - (signed int)" in state %d") / 63;
      v89 = 32448;
    }
    else
    {
      v88 = 171 * v18;
      v89 = 64640;
    }
    result = (unsigned int)(65793 * (v89 - v88)) >> 16;
    v18 += 4;
    *(_DWORD *)(v98 + 4 * v72) = result;
  }
  while ( v18 <= 255 );
  return result;
}
// 412061: using guessed type int __stdcall sub_412061(int);

//----- (0043F1D0) --------------------------------------------------------
char *__stdcall sub_43F1D0(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  int v6; // edx@1
  char *result; // eax@1
  int v8; // ecx@2
  int v9; // edi@2
  int v10; // ebx@2
  int v11; // ebp@2
  int v12; // edx@4
  int v13; // ebx@4
  int v14; // ebp@4
  int v15; // ecx@4
  _BYTE *v16; // edi@4
  int v17; // eax@5
  int v18; // edx@5
  int v19; // ebx@5
  int v20; // eax@7
  int v21; // ecx@7
  int v22; // esi@7
  int v23; // edx@7
  unsigned int v24; // ebx@7
  unsigned int v25; // edx@7
  int v26; // [sp+4h] [bp-44h]@2
  int v27; // [sp+8h] [bp-40h]@2
  int v28; // [sp+Ch] [bp-3Ch]@1
  int v29; // [sp+10h] [bp-38h]@5
  int v30; // [sp+14h] [bp-34h]@5
  int v31; // [sp+18h] [bp-30h]@5
  int v32; // [sp+1Ch] [bp-2Ch]@1
  int v33; // [sp+20h] [bp-28h]@1
  int v34; // [sp+24h] [bp-24h]@1
  int v35; // [sp+28h] [bp-20h]@1
  int v36; // [sp+2Ch] [bp-1Ch]@1
  int v37; // [sp+30h] [bp-18h]@1
  int v38; // [sp+34h] [bp-14h]@1
  char *v39; // [sp+38h] [bp-10h]@1
  int v40; // [sp+3Ch] [bp-Ch]@1
  int v41; // [sp+40h] [bp-8h]@1
  char *v42; // [sp+44h] [bp-4h]@4
  int v43; // [sp+4Ch] [bp+4h]@7
  int v44; // [sp+50h] [bp+8h]@2
  int v45; // [sp+54h] [bp+Ch]@2
  int v46; // [sp+5Ch] [bp+14h]@5

  v5 = *(_DWORD *)(a1 + 460);
  v32 = *(_DWORD *)(v5 + 24);
  v33 = *(_DWORD *)(v5 + 28);
  v38 = *(_DWORD *)(v5 + 32);
  v40 = *(_DWORD *)(v5 + 36);
  v34 = *(_DWORD *)(v5 + 40);
  v36 = *(_DWORD *)(v5 + 44);
  v41 = *(_DWORD *)(v5 + 48);
  v35 = *(_DWORD *)(v5 + 52);
  v6 = *(_DWORD *)(v5 + 56);
  result = *(char **)(v5 + 60);
  v37 = v6;
  v39 = result;
  v28 = *(_DWORD *)(a1 + 112);
  if ( a5 - 1 >= 0 )
  {
    v8 = *(_DWORD *)(a2 + 4);
    v9 = *(_DWORD *)a2 - v8;
    v10 = *(_DWORD *)(a2 + 8) - v8;
    v11 = *(_DWORD *)(a2 + 12) - v8;
    result = (char *)(v8 + 4 * a3);
    v27 = *(_DWORD *)a2 - v8;
    v45 = *(_DWORD *)(a2 + 8) - v8;
    v26 = *(_DWORD *)(a2 + 12) - v8;
    v44 = a5;
    while ( 1 )
    {
      v12 = *(_DWORD *)&result[v10];
      v13 = *(_DWORD *)&result[v11];
      v14 = *a4;
      v15 = *(_DWORD *)&result[v9];
      v16 = *(_BYTE **)result;
      ++a4;
      result += 4;
      v42 = result;
      if ( v28 )
      {
        v17 = v15 - (_DWORD)v16;
        v18 = v12 - (_DWORD)v16;
        v19 = v13 - (_DWORD)v16;
        v29 = v15 - (_DWORD)v16;
        v30 = v18;
        v31 = v19;
        v46 = v28;
        while ( 1 )
        {
          v20 = 255 - v16[v17];
          v21 = 255 - *v16;
          v22 = 255 - v16[v18];
          v23 = *(_DWORD *)(v32 + 4 * (255 - v16[v19]));
          v24 = v23 * *(_DWORD *)(v33 + 4 * v20);
          v43 = v23;
          v25 = (unsigned int)(v23 * *(_DWORD *)(v36 + 4 * v21)) >> 16;
          *(_BYTE *)v14 = *(_DWORD *)(v35 + 4 * v22) * (*(_DWORD *)(v34 + 4 * v21) * (v24 >> 16) >> 16) >> 24;
          *(_BYTE *)(v14 + 1) = *(_DWORD *)(v38 + 4 * v20) * (*(_DWORD *)(v37 + 4 * v22) * v25 >> 16) >> 24;
          *(_BYTE *)(v14 + 2) = *(_DWORD *)(v41 + 4 * v21)
                              * (*(_DWORD *)(v40 + 4 * v20) * ((unsigned int)(v43 * *(_DWORD *)&v39[4 * v22]) >> 16) >> 16) >> 24;
          v14 += 3;
          ++v16;
          if ( !--v46 )
            break;
          v17 = v29;
          v18 = v30;
          v19 = v31;
        }
        result = v42;
      }
      if ( !--v44 )
        break;
      v10 = v45;
      v11 = v26;
      v9 = v27;
    }
  }
  return result;
}

//----- (0043F3B0) --------------------------------------------------------
_BYTE *__stdcall sub_43F3B0(int a1, int a2, int a3, int *a4, int a5)
{
  int v5; // eax@1
  _BYTE *result; // eax@1
  int v7; // eax@2
  int v8; // edi@2
  int v9; // ebx@2
  int v10; // ecx@2
  char *v11; // edx@2
  int v12; // esi@4
  int v13; // ebx@4
  int v14; // ecx@4
  int v15; // edi@4
  int v16; // edx@5
  int v17; // esi@5
  int v18; // edx@7
  int v19; // edi@7
  int v20; // esi@7
  int v21; // edi@7
  int v22; // ebp@7
  unsigned int v23; // edx@7
  int v24; // [sp+4h] [bp-58h]@2
  int v25; // [sp+8h] [bp-54h]@2
  int v26; // [sp+Ch] [bp-50h]@2
  int v27; // [sp+10h] [bp-4Ch]@1
  int v28; // [sp+14h] [bp-48h]@5
  int v29; // [sp+18h] [bp-44h]@5
  int v30; // [sp+1Ch] [bp-40h]@1
  int v31; // [sp+20h] [bp-3Ch]@1
  int v32; // [sp+24h] [bp-38h]@1
  int v33; // [sp+28h] [bp-34h]@1
  int v34; // [sp+2Ch] [bp-30h]@5
  int v35; // [sp+30h] [bp-2Ch]@1
  int v36; // [sp+34h] [bp-28h]@1
  int v37; // [sp+38h] [bp-24h]@1
  int v38; // [sp+3Ch] [bp-20h]@1
  int v39; // [sp+40h] [bp-1Ch]@1
  int v40; // [sp+44h] [bp-18h]@1
  int v41; // [sp+48h] [bp-14h]@1
  int v42; // [sp+4Ch] [bp-10h]@1
  int v43; // [sp+50h] [bp-Ch]@1
  int v44; // [sp+54h] [bp-8h]@1
  char *v45; // [sp+58h] [bp-4h]@4
  int v46; // [sp+60h] [bp+4h]@1
  int v47; // [sp+64h] [bp+8h]@5
  int v48; // [sp+68h] [bp+Ch]@2
  int v49; // [sp+70h] [bp+14h]@7

  v5 = *(_DWORD *)(a1 + 460);
  v35 = *(_DWORD *)(v5 + 24);
  v36 = *(_DWORD *)(v5 + 28);
  v41 = *(_DWORD *)(v5 + 32);
  v43 = *(_DWORD *)(v5 + 36);
  v37 = *(_DWORD *)(v5 + 40);
  v39 = *(_DWORD *)(v5 + 44);
  v44 = *(_DWORD *)(v5 + 48);
  v38 = *(_DWORD *)(v5 + 52);
  v40 = *(_DWORD *)(v5 + 56);
  v42 = *(_DWORD *)(v5 + 60);
  v30 = *(_DWORD *)(v5 + 8);
  v33 = *(_DWORD *)(v5 + 12);
  v32 = *(_DWORD *)(v5 + 16);
  v31 = *(_DWORD *)(v5 + 20);
  result = *(_BYTE **)(a1 + 328);
  v27 = *(_DWORD *)(a1 + 112);
  v46 = *(_DWORD *)(a1 + 328);
  if ( a5 - 1 >= 0 )
  {
    v7 = *(_DWORD *)(a2 + 4);
    v8 = *(_DWORD *)a2 - v7;
    v9 = *(_DWORD *)(a2 + 8) - v7;
    v10 = *(_DWORD *)(a2 + 12) - v7;
    v11 = (char *)(v7 + 4 * a3);
    v26 = *(_DWORD *)a2 - v7;
    v24 = *(_DWORD *)(a2 + 8) - v7;
    v25 = *(_DWORD *)(a2 + 12) - v7;
    v48 = a5;
    while ( 1 )
    {
      v12 = *(_DWORD *)&v11[v9];
      v13 = *(_DWORD *)&v11[v10];
      v14 = *a4;
      v15 = *(_DWORD *)&v11[v8];
      result = *(_BYTE **)v11;
      ++a4;
      v11 += 4;
      v45 = v11;
      if ( v27 )
      {
        v16 = v15 - (_DWORD)result;
        v17 = v12 - (_DWORD)result;
        v29 = v15 - (_DWORD)result;
        v28 = v17;
        v34 = v13 - (_DWORD)result;
        v47 = v27;
        while ( 1 )
        {
          v18 = result[v16];
          v19 = result[v17];
          v20 = *(_BYTE *)(v18 + *(_DWORD *)(v30 + 4 * v19) + v46);
          v21 = *(_BYTE *)(v18 + ((*(_DWORD *)(v32 + 4 * v19) + *(_DWORD *)(v31 + 4 * *result)) >> 16) + v46);
          v22 = *(_BYTE *)(v18 + *(_DWORD *)(v33 + 4 * *result) + v46);
          v49 = *(_DWORD *)(v35 + 4 * (255 - result[v34]));
          v23 = (unsigned int)(v49 * *(_DWORD *)(v39 + 4 * v21)) >> 16;
          *(_BYTE *)v14 = *(_DWORD *)(v38 + 4 * v22)
                        * (*(_DWORD *)(v37 + 4 * v21)
                         * ((unsigned int)(*(_DWORD *)(v35 + 4 * (255 - result[v34])) * *(_DWORD *)(v36 + 4 * v20)) >> 16) >> 16) >> 24;
          *(_BYTE *)(v14 + 1) = *(_DWORD *)(v41 + 4 * v20) * (*(_DWORD *)(v40 + 4 * v22) * v23 >> 16) >> 24;
          *(_BYTE *)(v14 + 2) = *(_DWORD *)(v44 + 4 * v21)
                              * (*(_DWORD *)(v43 + 4 * v20) * ((unsigned int)(v49 * *(_DWORD *)(v42 + 4 * v22)) >> 16) >> 16) >> 24;
          v14 += 3;
          ++result;
          if ( !--v47 )
            break;
          v17 = v28;
          v16 = v29;
        }
        v11 = v45;
      }
      if ( !--v48 )
        break;
      v9 = v24;
      v10 = v25;
      v8 = v26;
    }
  }
  return result;
}

//----- (0043F5F0) --------------------------------------------------------
int __stdcall sub_43F5F0(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // eax@9
  int v4; // eax@15
  int v5; // eax@19
  int v6; // eax@20
  int v7; // eax@32
  int v8; // eax@34
  bool v9; // zf@35
  bool v10; // sf@35
  unsigned __int8 v11; // of@35
  _DWORD *v12; // eax@36
  int v13; // ecx@36
  int result; // eax@38

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 64);
  v2 = *(_DWORD *)(a1 + 40) - 1;
  *(_DWORD *)(a1 + 460) = v1;
  *(_DWORD *)v1 = nullsub_1;
  switch ( v2 )
  {
    case 0:
      if ( *(_DWORD *)(a1 + 36) != 1 )
        goto LABEL_9;
      break;
    case 1:
    case 2:
      if ( *(_DWORD *)(a1 + 36) != 3 )
        goto LABEL_9;
      break;
    case 3:
    case 4:
      if ( *(_DWORD *)(a1 + 36) != 4 )
        goto LABEL_9;
      break;
    default:
      if ( *(_DWORD *)(a1 + 36) < 1 )
      {
LABEL_9:
        v3 = *(_DWORD *)a1;
        *(_DWORD *)(v3 + 20) = 10;
        (*(void (__stdcall **)(int))v3)(a1);
      }
      break;
  }
  if ( *(_DWORD *)(a1 + 44) == 1 )
  {
    v7 = *(_DWORD *)(a1 + 40);
    *(_DWORD *)(a1 + 120) = 1;
    if ( v7 != 1 && v7 != 3 )
    {
LABEL_34:
      v8 = *(_DWORD *)a1;
      *(_DWORD *)(v8 + 20) = 27;
      (*(void (__stdcall **)(int))v8)(a1);
      goto LABEL_38;
    }
    v11 = __OFSUB__(*(_DWORD *)(a1 + 36), 1);
    v9 = *(_DWORD *)(a1 + 36) == 1;
    v10 = *(_DWORD *)(a1 + 36) - 1 < 0;
    *(_DWORD *)(v1 + 4) = sub_43E370;
    if ( !((unsigned __int8)(v10 ^ v11) | v9) )
    {
      v12 = (_DWORD *)(*(_DWORD *)(a1 + 220) + 132);
      v13 = *(_DWORD *)(a1 + 36) - 1;
      do
      {
        *v12 = 0;
        v12 += 21;
        --v13;
      }
      while ( v13 );
    }
  }
  else
  {
    if ( *(_DWORD *)(a1 + 44) != 2 )
    {
      if ( *(_DWORD *)(a1 + 44) == 4 )
      {
        v4 = *(_DWORD *)(a1 + 40);
        *(_DWORD *)(a1 + 120) = 4;
        if ( v4 == 5 )
        {
          *(_DWORD *)(v1 + 4) = sub_43E400;
          sub_43DF70(a1);
          goto LABEL_38;
        }
        if ( v4 == 4 )
        {
          *(_DWORD *)(v1 + 4) = sub_43E2E0;
          goto LABEL_38;
        }
      }
      else if ( *(_DWORD *)(a1 + 44) == *(_DWORD *)(a1 + 40) )
      {
        *(_DWORD *)(a1 + 120) = *(_DWORD *)(a1 + 36);
        *(_DWORD *)(v1 + 4) = sub_43E2E0;
        goto LABEL_38;
      }
      goto LABEL_34;
    }
    v5 = *(_DWORD *)(a1 + 40);
    *(_DWORD *)(a1 + 120) = 3;
    if ( v5 != 3 )
    {
      if ( v5 == 1 )
      {
        *(_DWORD *)(v1 + 4) = sub_43E3A0;
        goto LABEL_38;
      }
      if ( v5 == 2 )
      {
        *(_DWORD *)(v1 + 4) = sub_43E2E0;
        goto LABEL_38;
      }
      if ( v5 == 4 )
      {
        *(_DWORD *)(v1 + 4) = sub_43F1D0;
        sub_43E570(a1);
        goto LABEL_38;
      }
      if ( v5 == 5 )
      {
        *(_DWORD *)(v1 + 4) = sub_43F3B0;
        sub_43DF70(a1);
        sub_43E570(a1);
        goto LABEL_38;
      }
      goto LABEL_34;
    }
    v6 = *(_DWORD *)(a1 + 72);
    if ( v6 == 5 || v6 == 6 )
    {
      *(_DWORD *)(v1 + 4) = sub_43E170;
      sub_43DF70(a1);
    }
    else
    {
      *(_DWORD *)(v1 + 4) = sub_43E040;
      sub_43DF70(a1);
    }
  }
LABEL_38:
  result = *(_DWORD *)(a1 + 84);
  if ( result )
    *(_DWORD *)(a1 + 124) = 1;
  else
    *(_DWORD *)(a1 + 124) = *(_DWORD *)(a1 + 120);
  return result;
}
// 43E2E0: using guessed type int __stdcall sub_43E2E0(int, int, int, int, int);
// 43E370: using guessed type int __stdcall sub_43E370(int, int, int, int, int);
// 43E3A0: using guessed type int __stdcall sub_43E3A0(int, int, int, int, int);
// 43F5E0: using guessed type int __stdcall nullsub_1(int);

//----- (0043F7C0) --------------------------------------------------------
int __usercall sub_43F7C0@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // edi@1
  int v3; // eax@1
  int (__stdcall **v4)(_DWORD, _DWORD, _DWORD); // ecx@1
  int v5; // eax@1
  int (__stdcall **v6)(_DWORD, _DWORD, _DWORD); // edx@1
  int v7; // eax@1
  signed int *v8; // ecx@1
  int v9; // ST30_4@1
  int result; // eax@1
  signed int v11; // ebp@1
  signed int v12; // ebx@1
  signed int v13; // esi@1
  signed int v14; // edx@1
  int v15; // [sp+30h] [bp-8h]@1
  int v16; // [sp+34h] [bp-4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 456);
  v3 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 1024);
  v4 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 16) = v3;
  v5 = (*v4)(v1, 1, 1024);
  v6 = *(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4);
  *(_DWORD *)(v2 + 20) = v5;
  *(_DWORD *)(v2 + 24) = (*v6)(v1, 1, 1024);
  v7 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(v1 + 4))(v1, 1, 1024);
  v8 = *(signed int **)(v2 + 20);
  *(_DWORD *)(v2 + 28) = v7;
  v9 = v7;
  v16 = *(_DWORD *)(v2 + 24) - (_DWORD)v8;
  result = *(_DWORD *)(v2 + 16) - (_DWORD)v8;
  v11 = 5990656;
  v12 = -14831872;
  v13 = -11728000;
  v14 = 2919680;
  v15 = v9 - (_DWORD)v8;
  do
  {
    *(signed int *)((char *)v8 + result) = v13 >> 16;
    *v8 = v12 >> 16;
    *(signed int *)((char *)v8 + v16) = v11;
    *(signed int *)((char *)v8 + v15) = v14;
    v14 -= 22554;
    v13 += 91881;
    v12 += 116130;
    v11 -= 46802;
    ++v8;
  }
  while ( v14 >= -2831590 );
  return result;
}

//----- (0043F9C0) --------------------------------------------------------
int __stdcall sub_43F9C0(int a1, int a2, int a3, int *a4)
{
  int v4; // eax@1
  int v5; // ecx@1
  unsigned int v6; // ebp@1
  int v7; // edi@1
  _BYTE *v8; // ebx@1
  _BYTE *v9; // esi@1
  int result; // eax@1
  int v11; // ebp@3
  int v12; // edx@3
  signed int v13; // esi@3
  int v14; // ebp@3
  int v15; // edx@3
  char v16; // bl@3
  int v17; // ebp@3
  int v18; // eax@3
  char v19; // bl@3
  int v20; // edx@5
  int v21; // ebp@5
  int v22; // esi@5
  int v23; // edi@5
  int v24; // [sp+10h] [bp-14h]@1
  int v25; // [sp+14h] [bp-10h]@1
  int v26; // [sp+18h] [bp-Ch]@1
  int v27; // [sp+1Ch] [bp-8h]@1
  int v28; // [sp+20h] [bp-4h]@1
  int v29; // [sp+28h] [bp+4h]@3
  int v30; // [sp+2Ch] [bp+8h]@3
  unsigned int v31; // [sp+30h] [bp+Ch]@2
  int v32; // [sp+34h] [bp+10h]@3

  v4 = *(_DWORD *)(a1 + 456);
  v5 = *(_DWORD *)(a1 + 328);
  v6 = *(_DWORD *)(a1 + 112);
  v24 = *(_DWORD *)(v4 + 16);
  v27 = *(_DWORD *)(v4 + 20);
  v26 = *(_DWORD *)(v4 + 24);
  v25 = *(_DWORD *)(v4 + 28);
  v7 = *(_DWORD *)(*(_DWORD *)a2 + 4 * a3);
  v8 = *(_BYTE **)(*(_DWORD *)(a2 + 8) + 4 * a3);
  v9 = *(_BYTE **)(*(_DWORD *)(a2 + 4) + 4 * a3);
  result = *a4;
  v28 = *(_DWORD *)(a1 + 112);
  if ( v6 >> 1 )
  {
    v31 = v6 >> 1;
    do
    {
      v11 = *v8;
      v12 = *v9;
      v32 = (int)(v9 + 1);
      v30 = (int)(v8 + 1);
      v29 = *(_DWORD *)(v24 + 4 * v11);
      v13 = *(_DWORD *)(v26 + 4 * v11) + *(_DWORD *)(v25 + 4 * v12);
      v14 = *(_BYTE *)v7;
      v15 = *(_DWORD *)(v27 + 4 * v12);
      *(_BYTE *)result = *(_BYTE *)(v14 + v29 + v5);
      v13 >>= 16;
      *(_BYTE *)(result + 1) = *(_BYTE *)(v13 + v14 + v5);
      v16 = *(_BYTE *)(v5 + v15 + v14);
      v17 = *(_BYTE *)(v7 + 1);
      *(_BYTE *)(result + 2) = v16;
      v18 = result + 3;
      LOBYTE(v15) = *(_BYTE *)(v5 + v15 + v17);
      *(_BYTE *)v18 = *(_BYTE *)(v17 + v29 + v5);
      v19 = *(_BYTE *)(v17 + v13 + v5);
      v9 = (_BYTE *)v32;
      *(_BYTE *)(v18 + 2) = v15;
      *(_BYTE *)(v18 + 1) = v19;
      v8 = (_BYTE *)v30;
      v7 += 2;
      result = v18 + 3;
      --v31;
    }
    while ( v31 );
  }
  if ( v28 & 1 )
  {
    v20 = *v8;
    v21 = *v9;
    v22 = *(_BYTE *)v7;
    v23 = *(_DWORD *)(v25 + 4 * v21);
    *(_BYTE *)result = *(_BYTE *)(v22 + *(_DWORD *)(v24 + 4 * v20) + v5);
    *(_BYTE *)(result + 1) = *(_BYTE *)(v22 + ((*(_DWORD *)(v26 + 4 * v20) + v23) >> 16) + v5);
    *(_BYTE *)(result + 2) = *(_BYTE *)(v22 + *(_DWORD *)(v27 + 4 * v21) + v5);
  }
  return result;
}

//----- (0043FB10) --------------------------------------------------------
int __userpurge sub_43FB10@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4)
{
  int v4; // ebx@1
  int v5; // ecx@1
  int v6; // edi@1
  int v7; // esi@1
  int result; // eax@1
  unsigned int v9; // ebx@1
  int v10; // ecx@1
  _BYTE *v11; // edi@1
  _BYTE *v12; // ebp@1
  int v13; // ecx@1
  int v14; // esi@1
  int v15; // ebx@3
  int v16; // edx@3
  int v17; // ST1C_4@3
  int v18; // ST20_4@3
  int v19; // ebp@3
  signed int v20; // edi@3
  int v21; // edx@3
  _BYTE *v22; // ST10_4@3
  int v23; // ecx@3
  _BYTE *v24; // ST14_4@3
  int v25; // esi@3
  int v26; // edx@6
  int v27; // ebx@6
  signed int v28; // edi@6
  int v29; // edx@6
  int v30; // ebp@6
  int v31; // ecx@6
  _BYTE *v32; // [sp+10h] [bp-28h]@1
  _BYTE *v33; // [sp+14h] [bp-24h]@1
  unsigned int v34; // [sp+18h] [bp-20h]@2
  int v35; // [sp+24h] [bp-14h]@1
  int v36; // [sp+28h] [bp-10h]@1
  int v37; // [sp+2Ch] [bp-Ch]@1
  int v38; // [sp+30h] [bp-8h]@1
  char v39; // [sp+34h] [bp-4h]@1
  int v40; // [sp+3Ch] [bp+4h]@3
  int v41; // [sp+3Ch] [bp+4h]@3
  int v42; // [sp+3Ch] [bp+4h]@3
  int v43; // [sp+3Ch] [bp+4h]@3
  int v44; // [sp+3Ch] [bp+4h]@6

  v4 = a3;
  v5 = *(_DWORD *)(a3 + 456);
  v35 = *(_DWORD *)(v5 + 16);
  v38 = *(_DWORD *)(v5 + 20);
  v6 = *(_DWORD *)(v5 + 24);
  v7 = a1;
  result = *(_DWORD *)(v4 + 328);
  v9 = *(_DWORD *)(v4 + 112);
  v36 = *(_DWORD *)(v5 + 28);
  v10 = *(_DWORD *)v7 + 8 * a2;
  v37 = v6;
  v33 = *(_BYTE **)(v10 + 4);
  v32 = *(_BYTE **)v10;
  v11 = *(_BYTE **)(*(_DWORD *)(v7 + 4) + 4 * a2);
  v12 = *(_BYTE **)(*(_DWORD *)(v7 + 8) + 4 * a2);
  v13 = *(_DWORD *)a4;
  v14 = *(_DWORD *)(a4 + 4);
  v39 = v9;
  if ( v9 >> 1 )
  {
    v34 = v9 >> 1;
    do
    {
      v15 = *v11;
      v16 = *v12;
      v17 = (int)(v11 + 1);
      v18 = (int)(v12 + 1);
      v19 = *(_DWORD *)(v35 + 4 * v16);
      v20 = *(_DWORD *)(v37 + 4 * v16) + *(_DWORD *)(v36 + 4 * v15);
      v21 = *(_DWORD *)(v38 + 4 * v15);
      v40 = *v32;
      v20 >>= 16;
      v22 = v32 + 1;
      *(_BYTE *)v13 = *(_BYTE *)(v19 + v40 + result);
      *(_BYTE *)(v13 + 1) = *(_BYTE *)(v20 + v40 + result);
      *(_BYTE *)(v13 + 2) = *(_BYTE *)(v21 + v40 + result);
      v41 = *v22;
      v23 = v13 + 3;
      v32 = v22 + 1;
      *(_BYTE *)v23 = *(_BYTE *)(v19 + v41 + result);
      *(_BYTE *)(v23 + 1) = *(_BYTE *)(v20 + v41 + result);
      *(_BYTE *)(v23 + 2) = *(_BYTE *)(v21 + v41 + result);
      v42 = *v33;
      v13 = v23 + 3;
      v24 = v33 + 1;
      *(_BYTE *)v14 = *(_BYTE *)(v19 + v42 + result);
      *(_BYTE *)(v14 + 1) = *(_BYTE *)(v20 + v42 + result);
      *(_BYTE *)(v14 + 2) = *(_BYTE *)(v21 + v42 + result);
      v43 = *v24;
      v25 = v14 + 3;
      v33 = v24 + 1;
      LOBYTE(v15) = *(_BYTE *)(v19 + v43 + result);
      v12 = (_BYTE *)v18;
      *(_BYTE *)v25 = v15;
      LOBYTE(v15) = *(_BYTE *)(v20 + v43 + result);
      v11 = (_BYTE *)v17;
      *(_BYTE *)(v25 + 2) = *(_BYTE *)(v21 + v43 + result);
      *(_BYTE *)(v25 + 1) = v15;
      v14 = v25 + 3;
      --v34;
    }
    while ( v34 );
    LOBYTE(v9) = v39;
  }
  if ( v9 & 1 )
  {
    v26 = *v11;
    v27 = *v12;
    v44 = *(_DWORD *)(v35 + 4 * v27);
    v28 = *(_DWORD *)(v37 + 4 * v27) + *(_DWORD *)(v36 + 4 * v26);
    v29 = *(_DWORD *)(v38 + 4 * v26);
    v30 = *v32;
    *(_BYTE *)v13 = *(_BYTE *)(v30 + v44 + result);
    v28 >>= 16;
    *(_BYTE *)(v13 + 1) = *(_BYTE *)(v28 + v30 + result);
    *(_BYTE *)(v13 + 2) = *(_BYTE *)(result + v29 + v30);
    v31 = *v33;
    LOBYTE(v29) = *(_BYTE *)(v29 + v31 + result);
    *(_BYTE *)v14 = *(_BYTE *)(v31 + v44 + result);
    *(_BYTE *)(v14 + 1) = *(_BYTE *)(v31 + v28 + result);
    *(_BYTE *)(v14 + 2) = v29;
  }
  return result;
}

//----- (0043FD40) --------------------------------------------------------
char __userpurge sub_43FD40@<al>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, _DWORD *a4)
{
  _DWORD *v4; // esi@1
  int v5; // edi@1
  int v6; // eax@1
  int v7; // ebx@1
  int v8; // eax@1
  int v9; // ecx@1
  int v10; // eax@1
  int v11; // ecx@1
  unsigned int *v12; // eax@1
  unsigned int *v13; // edx@1
  int v14; // esi@1
  int v15; // eax@1
  unsigned int *v16; // ebx@1
  unsigned int *v17; // ecx@1
  int v18; // edi@1
  int v19; // edx@1
  __m64 v20; // mm0@2
  __m64 v21; // mm0@2
  __m64 v22; // mm0@2
  __m64 v23; // mm4@2
  __m64 v24; // mm1@2
  __m64 v25; // mm1@2
  __m64 v26; // mm5@2
  __m64 v27; // mm7@2
  __m64 v28; // mm6@2
  __m64 v29; // mm7@2
  __m64 v30; // mm0@2
  __m64 v31; // mm1@2
  __m64 v32; // mm4@2
  __m64 v33; // mm2@2
  __m64 v34; // mm3@2
  __m64 v35; // mm7@2
  __m64 v36; // mm6@2
  __m64 v37; // mm3@2
  __m64 v38; // mm5@2
  __m64 v39; // mm0@2
  __m64 v40; // mm1@2
  __m64 v41; // mm0@2
  __m64 v42; // mm5@2
  __m64 v43; // mm0@2
  __m64 v44; // mm4@2
  __m64 v45; // mm3@2
  __m64 v46; // mm3@2
  __m64 v47; // mm3@2
  __m64 v48; // mm0@2
  __m64 v49; // mm6@2
  __m64 v50; // mm4@2
  __m64 v51; // mm1@2
  __m64 v52; // mm3@2
  __m64 v53; // mm6@2
  __m64 v54; // mm2@2
  __m64 v55; // mm7@2
  __m64 v56; // mm0@2
  int v57; // esi@3
  int v58; // edi@3
  int v59; // eax@3
  int v60; // eax@5
  int v61; // edx@5
  int v62; // ST50_4@5
  signed int v63; // ecx@5
  int v64; // ST44_4@5
  int v65; // edx@5
  int v66; // ST40_4@5
  int v67; // esi@5
  int v68; // ST40_4@5
  int v69; // edx@5
  int v70; // edi@5
  int v71; // ecx@7
  int v72; // edx@7
  int v73; // ST50_4@7
  signed int v74; // eax@7
  int v75; // edx@7
  int v76; // ST44_4@7
  int v77; // esi@7
  int v79; // [sp+24h] [bp-34h]@1
  int v80; // [sp+28h] [bp-30h]@1
  int v81; // [sp+2Ch] [bp-2Ch]@1
  int v82; // [sp+30h] [bp-28h]@1
  int v83; // [sp+34h] [bp-24h]@1
  signed int v84; // [sp+38h] [bp-20h]@1
  int v85; // [sp+3Ch] [bp-1Ch]@1
  signed int v86; // [sp+3Ch] [bp-1Ch]@4
  int v87; // [sp+40h] [bp-18h]@1
  int v88; // [sp+44h] [bp-14h]@1
  unsigned int *v89; // [sp+48h] [bp-10h]@1
  unsigned int *v90; // [sp+48h] [bp-10h]@3
  unsigned int *v91; // [sp+4Ch] [bp-Ch]@1
  unsigned int *v92; // [sp+4Ch] [bp-Ch]@3
  int v93; // [sp+50h] [bp-8h]@1
  int v94; // [sp+54h] [bp-4h]@1
  int v95; // [sp+54h] [bp-4h]@3
  int v96; // [sp+60h] [bp+8h]@1
  _BYTE *v97; // [sp+60h] [bp+8h]@3
  _BYTE *v98; // [sp+60h] [bp+8h]@5

  v4 = a4;
  v5 = a1;
  v6 = *(_DWORD *)(a3 + 456);
  v79 = *(_DWORD *)(a3 + 328);
  v83 = *(_DWORD *)(v6 + 16);
  v80 = *(_DWORD *)(v6 + 20);
  v7 = *(_DWORD *)(v6 + 24);
  v82 = *(_DWORD *)(v6 + 28);
  v8 = *(_DWORD *)(a3 + 112);
  v9 = *(_DWORD *)(a3 + 112) >> 3;
  v87 = v9;
  v85 = v9;
  v81 = v7;
  v84 = v8 - 8 * v9;
  v10 = *a4 + 8 * a2;
  v11 = *(_DWORD *)v10;
  v96 = v11;
  v94 = *(_DWORD *)(v10 + 4);
  v12 = *(unsigned int **)(v4[1] + 4 * a2);
  v13 = *(unsigned int **)(v4[2] + 4 * a2);
  v91 = v12;
  v89 = v13;
  v88 = *(_DWORD *)v5;
  v93 = *(_DWORD *)(v5 + 4);
  v14 = v11;
  v15 = v94;
  v16 = v13;
  v17 = v91;
  v18 = *(_DWORD *)v5;
  v19 = v93;
  do
  {
    v20 = _mm_cvtsi32_si64(*v16);
    v21 = _m_punpcklbw(v20, v20);
    v22 = _m_punpcklwd(v21, v21);
    v23 = v22;
    v24 = _mm_cvtsi32_si64(*v17);
    v25 = _m_punpcklbw(v24, v24);
    v26 = _m_punpcklwd(v25, v25);
    v27 = _mm_cvtsi32_si64(*(_DWORD *)v14);
    v28 = v27;
    v29 = _m_punpcklbw(v27, v27);
    v30 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v22, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493540),
              (__m64)qword_493520),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v26, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493548),
              (__m64)qword_493528));
    v31 = _m_psrlq(v29, 0x10u);
    v32 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v23, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493550),
              (__m64)qword_493530),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v26, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493558),
              (__m64)qword_493538));
    v33 = _m_por(
            _m_psrlq(_m_pand(v30, (__m64)281474976645120i64), 0x10u),
            _m_psllq(_m_pand(v32, (__m64)281474976645120i64), 0x10u));
    v34 = _mm_cvtsi32_si64(*(_DWORD *)v15);
    v35 = _m_packuswb(
            _m_paddsw(_m_punpcklbw(_m_punpcklwd(v29, v28), 0i64), v30),
            _m_paddsw(_m_punpcklbw(v31, 0i64), v33));
    v36 = v34;
    v37 = _m_punpcklbw(v34, v34);
    *(__m64 *)v18 = v35;
    v38 = _m_psrlq(v37, 0x10u);
    *(__m64 *)v19 = _m_packuswb(
                      _m_paddsw(_m_punpcklbw(_m_punpcklwd(v37, v36), 0i64), v30),
                      _m_paddsw(_m_punpcklbw(_m_punpckldq(v38, v38), 0i64), v33));
    v39 = _m_psrlq(_mm_cvtsi32_si64(*v16), 0x10u);
    v40 = _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_psrlq(v31, 0x18u), _m_psrlq(v31, 0x20u)), 0i64), v32);
    v41 = _m_punpcklbw(v39, v39);
    v42 = _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_psrlq(v38, 0x18u), _m_psrlq(v38, 0x20u)), 0i64), v32);
    v43 = _m_punpcklwd(v41, v41);
    v44 = v43;
    v45 = _m_psrlq(_mm_cvtsi32_si64(*v17), 0x10u);
    v46 = _m_punpcklbw(v45, v45);
    v47 = _m_punpcklwd(v46, v46);
    v48 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v43, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493540),
              (__m64)qword_493520),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpcklbw(v47, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493548),
              (__m64)qword_493528));
    v49 = _mm_cvtsi32_si64(*(_DWORD *)(v14 + 4));
    v50 = _m_paddsw(
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v44, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493550),
              (__m64)qword_493530),
            _m_pmulhw(
              _m_paddsw(
                _m_psllw(_m_psubsw(_m_punpckhbw(v47, 0i64), (__m64)36029346783166592i64), 2u),
                (__m64)qword_493558),
              (__m64)qword_493538));
    v51 = _m_packuswb(v40, _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_punpcklbw(v49, v49), v49), 0i64), v48));
    v52 = _mm_cvtsi32_si64(*(_DWORD *)(v15 + 4));
    v53 = _m_psrlq(v49, 8u);
    *(__m64 *)(v18 + 8) = v51;
    v54 = _m_por(
            _m_psrlq(_m_pand(v48, (__m64)281474976645120i64), 0x10u),
            _m_psllq(_m_pand(v50, (__m64)281474976645120i64), 0x10u));
    v55 = _m_psrlq(v52, 8u);
    *(__m64 *)(v19 + 8) = _m_packuswb(
                            v42,
                            _m_paddsw(_m_punpcklbw(_m_punpcklwd(_m_punpcklbw(v52, v52), v52), 0i64), v48));
    v14 += 8;
    v15 += 8;
    v56 = _m_psrlq(v55, 8u);
    v18 += 24;
    v19 += 24;
    ++v16;
    *(__m64 *)(v18 - 8) = _m_packuswb(
                            _m_paddsw(_m_punpcklbw(_m_punpcklbw(v53, v53), 0i64), v54),
                            _m_paddsw(
                              _m_punpcklbw(_m_punpcklwd(v53, _m_psrlq(_m_punpcklbw(v53, v53), 0x10u)), 0i64),
                              v50));
    ++v17;
    *(__m64 *)(v19 - 8) = _m_packuswb(
                            _m_paddsw(_m_punpcklbw(_m_punpcklbw(v55, v55), 0i64), v54),
                            _m_paddsw(
                              _m_punpcklbw(_m_punpcklwd(v56, _m_psrlq(_m_punpcklbw(v56, v56), 0x10u)), 0i64),
                              v50));
    --v87;
  }
  while ( v87 );
  _m_femms();
  v97 = (_BYTE *)(8 * v85 + v96);
  v95 = 8 * v85 + v94;
  v57 = 24 * v85 + v88;
  v58 = 24 * v85 + v93;
  v59 = v84 >> 1;
  v92 = &v91[v85];
  v90 = &v89[v85];
  if ( v84 >> 1 )
  {
    v86 = v84 >> 1;
    do
    {
      v60 = *(_BYTE *)v92;
      v92 = (unsigned int *)((char *)v92 + 1);
      v61 = *(_BYTE *)v90;
      v90 = (unsigned int *)((char *)v90 + 1);
      v62 = *(_DWORD *)(v83 + 4 * v61);
      v63 = *(_DWORD *)(v81 + 4 * v61) + *(_DWORD *)(v82 + 4 * v60);
      v64 = *(_DWORD *)(v80 + 4 * v60);
      v65 = *v97;
      v63 >>= 16;
      v98 = v97 + 1;
      *(_BYTE *)v57 = *(_BYTE *)(v65 + v62 + v79);
      *(_BYTE *)(v57 + 1) = *(_BYTE *)(v65 + v63 + v79);
      *(_BYTE *)(v57 + 2) = *(_BYTE *)(v64 + v65 + v79);
      v66 = *v98;
      v67 = v57 + 3;
      v97 = v98 + 1;
      *(_BYTE *)v67 = *(_BYTE *)(v62 + v66 + v79);
      *(_BYTE *)(v67 + 1) = *(_BYTE *)(v66 + v63 + v79);
      *(_BYTE *)(v67 + 2) = *(_BYTE *)(v64 + v66 + v79);
      v57 = v67 + 3;
      v68 = *(_BYTE *)v95;
      *(_BYTE *)v58 = *(_BYTE *)(v62 + v68 + v79);
      *(_BYTE *)(v58 + 1) = *(_BYTE *)(v68 + v63 + v79);
      *(_BYTE *)(v58 + 2) = *(_BYTE *)(v64 + v68 + v79);
      v69 = *(_BYTE *)(v95 + 1);
      v70 = v58 + 3;
      v95 += 2;
      *(_BYTE *)v70 = *(_BYTE *)(v69 + v62 + v79);
      *(_BYTE *)(v70 + 1) = *(_BYTE *)(v69 + v63 + v79);
      *(_BYTE *)(v70 + 2) = *(_BYTE *)(v64 + v69 + v79);
      v58 = v70 + 3;
      v59 = v86 - 1;
      v86 = v59;
    }
    while ( v59 );
  }
  if ( v84 & 1 )
  {
    v71 = *(_BYTE *)v92;
    v72 = *(_BYTE *)v90;
    v73 = *(_DWORD *)(v83 + 4 * v72);
    v74 = *(_DWORD *)(v81 + 4 * v72) + *(_DWORD *)(v82 + 4 * v71);
    v75 = *v97;
    v76 = *(_DWORD *)(v80 + 4 * v71);
    *(_BYTE *)v57 = *(_BYTE *)(v75 + v73 + v79);
    v59 = v74 >> 16;
    *(_BYTE *)(v57 + 1) = *(_BYTE *)(v75 + v59 + v79);
    *(_BYTE *)(v57 + 2) = *(_BYTE *)(v76 + v75 + v79);
    v77 = *(_BYTE *)v95;
    *(_BYTE *)v58 = *(_BYTE *)(v77 + v73 + v79);
    LOBYTE(v75) = *(_BYTE *)(v77 + v59 + v79);
    LOBYTE(v59) = *(_BYTE *)(v76 + v77 + v79);
    *(_BYTE *)(v58 + 1) = v75;
    *(_BYTE *)(v58 + 2) = v59;
  }
  return v59;
}
// 493520: using guessed type __int64 qword_493520;
// 493528: using guessed type __int64 qword_493528;
// 493530: using guessed type __int64 qword_493530;
// 493538: using guessed type __int64 qword_493538;
// 493540: using guessed type __int64 qword_493540;
// 493548: using guessed type __int64 qword_493548;
// 493550: using guessed type __int64 qword_493550;
// 493558: using guessed type __int64 qword_493558;

//----- (00440290) --------------------------------------------------------
int __stdcall sub_440290(int a1)
{
  int v1; // eax@1
  int v2; // edx@1
  int v3; // esi@1
  int v4; // eax@1
  int v5; // ecx@2
  int result; // eax@2

  v1 = (**(int (__stdcall ***)(_DWORD, _DWORD, _DWORD))(a1 + 4))(a1, 1, 48);
  v2 = *(_DWORD *)(a1 + 316);
  v3 = v1;
  v4 = *(_DWORD *)(a1 + 112) * *(_DWORD *)(a1 + 120);
  *(_DWORD *)(a1 + 456) = v3;
  *(_DWORD *)v3 = sub_43F890;
  *(_DWORD *)(v3 + 8) = 0;
  *(_DWORD *)(v3 + 40) = v4;
  if ( v2 == 2 )
  {
    v5 = *(_DWORD *)(a1 + 4);
    *(_DWORD *)(v3 + 4) = sub_43F8B0;
    *(_DWORD *)(v3 + 12) = sub_440250;
    *(_DWORD *)(v3 + 32) = (*(int (__stdcall **)(int, signed int, int))(v5 + 4))(a1, 1, v4);
    result = sub_43F7C0(a1);
  }
  else
  {
    *(_DWORD *)(v3 + 4) = sub_43F980;
    *(_DWORD *)(v3 + 12) = sub_43F9C0;
    *(_DWORD *)(v3 + 32) = 0;
    result = sub_43F7C0(a1);
  }
  return result;
}
// 43F890: using guessed type int __stdcall sub_43F890(int);
// 43F8B0: using guessed type int __stdcall sub_43F8B0(int, int, int, int, int, int, int);
// 43F980: using guessed type int __stdcall sub_43F980(int, int, int, int, int, int, int);
// 440250: using guessed type int __stdcall sub_440250(int, int, int, int);

//----- (00440310) --------------------------------------------------------
char *__stdcall sub_440310(int a1, int a2)
{
  char *result; // eax@1
  char v3; // cl@1

  result = (char *)malloc(a2 + 16);
  v3 = (char)result;
  if ( result )
  {
    result = (char *)((unsigned int)(result + 16) & 0xFFFFFFF0);
    *(result - 1) = ((v3 + 16) & 0xF0) - v3;
  }
  return result;
}

//----- (00440340) --------------------------------------------------------
void __stdcall sub_440340(int a1, int a2, int a3)
{
  if ( a2 )
    free((void *)(a2 - *(_BYTE *)(a2 - 1)));
}

//----- (00440360) --------------------------------------------------------
int __stdcall sub_440360(int a1, int a2, int a3, int a4)
{
  return *(_DWORD *)(*(_DWORD *)(a1 + 4) + 44) - a4;
}

//----- (00440460) --------------------------------------------------------
FILE *__stdcall sub_440460(_DWORD *a1, int a2, int a3)
{
  FILE *result; // eax@1
  int (__stdcall **v4)(_DWORD); // eax@2

  result = tmpfile();
  *(_DWORD *)(a2 + 12) = result;
  if ( !result )
  {
    v4 = (int (__stdcall **)(_DWORD))*a1;
    v4[5] = (int (__stdcall *)(_DWORD))63;
    strncpy((char *)v4 + 24, byte_4932FE, 0x50u);
    result = (FILE *)(*(int (__stdcall **)(_DWORD *))*a1)(a1);
  }
  *(_DWORD *)a2 = sub_440380;
  *(_DWORD *)(a2 + 4) = sub_4403E0;
  *(_DWORD *)(a2 + 8) = sub_440440;
  return result;
}
// 440380: using guessed type int __stdcall sub_440380(int, int, int, int, int);
// 4403E0: using guessed type int __stdcall sub_4403E0(int, int, int, int, int);
// 440440: using guessed type int __stdcall sub_440440(int, int);

//----- (004404B0) --------------------------------------------------------
signed int __stdcall sub_4404B0(int a1)
{
  return 1000000;
}

//----- (004404C0) --------------------------------------------------------
int __stdcall sub_4404C0(int a1, int a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm1@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm0@1
  __m128 v7; // xmm2@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 8));
  v5 = *(_QWORD *)a2;
  v6 = _mm_loadh_ps((const double *)(a2 + 8));
  v7 = v4;
  v8 = _mm_mul_ps(_mm_shuffle_ps(v4, v4, -1), v6);
  v9 = _mm_shuffle_ps(v6, v6, 27);
  v10 = _mm_add_ps(v8, _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v7, v7, 0), (__m128)xmmword_493580), v9));
  v11 = _mm_shuffle_ps(v9, v9, -79);
  v12 = _mm_add_ps(
          _mm_add_ps(v10, _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v7, v7, 85), (__m128)xmmword_493570), v11)),
          _mm_mul_ps(_mm_xor_ps(_mm_shuffle_ps(v7, v7, -86), (__m128)xmmword_493560), _mm_shuffle_ps(v11, v11, 27)));
  _mm_storel_ps((double *)a1, v12);
  _mm_storeh_ps((double *)(a1 + 8), v12);
  return a1;
}
// 493560: using guessed type __int128 xmmword_493560;
// 493570: using guessed type __int128 xmmword_493570;
// 493580: using guessed type __int128 xmmword_493580;

//----- (00440539) --------------------------------------------------------
int __stdcall sub_440539(int a1, int a2)
{
  float v2; // xmm1_4@1
  float v3; // xmm2_4@1
  float v4; // xmm3_4@1
  float v5; // xmm4_4@1
  float v6; // xmm6_4@1
  float v7; // xmm5_4@1

  v2 = *(float *)(a2 + 4);
  v3 = *(float *)(a2 + 8);
  v4 = *(float *)(a2 + 12);
  v5 = (float)((float)(*(float *)a2 * *(float *)a2) + (float)(v2 * v2)) + (float)((float)(v3 * v3) + (float)(v4 * v4));
  v6 = 1.0 / fsqrt(v5);
  v7 = (float)((float)(*(float *)&dword_4B49E0 - (float)(v5 * (float)(v6 * v6))) * *(float *)&dword_4B49D0) * v6;
  *(float *)a1 = *(float *)a2 * v7;
  *(float *)(a1 + 4) = v2 * v7;
  *(float *)(a1 + 8) = v3 * v7;
  *(float *)(a1 + 12) = v4 * v7;
  return a1;
}
// 4B49D0: using guessed type int dword_4B49D0;
// 4B49E0: using guessed type int dword_4B49E0;

//----- (004405D3) --------------------------------------------------------
__m128 *__stdcall sub_4405D3(__m128 *a1, int a2)
{
  __int64 v2; // rt1@1
  __m128 v3; // xmm1@1
  __m128 *result; // eax@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  __m128 v7; // ST00_16@1
  float v8; // xmm3_4@1
  __m128 v9; // xmm0@1

  v2 = *(_QWORD *)a2;
  v3 = _mm_loadh_ps((const double *)(a2 + 8));
  result = a1;
  v5 = _mm_mul_ps(v3, v3);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v6, v6, 85));
  v7 = v6;
  v7.m128_f32[0] = 1.0 / v6.m128_f32[0];
  v8 = (float)(1.0 / v6.m128_f32[0]) * v6.m128_f32[0];
  v9 = v7;
  v9.m128_f32[0] = (float)(v9.m128_f32[0] + v9.m128_f32[0]) - (float)(v8 * v7.m128_f32[0]);
  *a1 = _mm_mul_ps(_mm_mul_ps(v3, (__m128)xmmword_4B49F0), _mm_shuffle_ps(v9, v9, 0));
  return result;
}
// 4B49F0: using guessed type __int128 xmmword_4B49F0;

//----- (00440651) --------------------------------------------------------
__m128 *__stdcall sub_440651(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  __m128 v4; // xmm1@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1
  __m128 v8; // xmm0@1
  __m128 *result; // eax@1
  __m128 v10; // [sp+0h] [bp-20h]@1
  __m128 v11; // [sp+10h] [bp-10h]@1

  v10.m128_u64[0] = __PAIR__(a3, a4);
  v10.m128_u64[1] = a2;
  v10 = _mm_mul_ps(v10, unk_4935A0);
  sub_450A60(&v10, &v10, &v11);
  v4 = _mm_shuffle_ps(v10, v11, -103);
  v5 = _mm_shuffle_ps(v10, v11, 0);
  v6 = _mm_shuffle_ps(v4, v4, -9);
  v7 = _mm_shuffle_ps(v4, v4, -88);
  v8 = _mm_shuffle_ps(v5, v5, -118);
  result = a1;
  *a1 = _mm_add_ps(
          _mm_mul_ps(_mm_mul_ps(v8, v6), v7),
          _mm_xor_ps(_mm_mul_ps(_mm_mul_ps(v8, _mm_shuffle_ps(v6, v6, 81)), _mm_shuffle_ps(v7, v7, 1)), unk_493590));
  return result;
}

//----- (00440713) --------------------------------------------------------
int __stdcall sub_440713(int a1, int a2)
{
  int v2; // ecx@1
  double v3; // st7@1
  int result; // eax@2
  long double v5; // st7@2
  long double v6; // st7@2
  double v7; // st7@3
  float v8; // eax@3
  signed int v9; // ebx@3
  int v10; // edx@7
  int v11; // edi@7
  unsigned int v12; // esi@7
  double v13; // st7@7
  int v14; // eax@7
  double v15; // st7@7
  long double v16; // st7@7
  long double v17; // st7@7
  double v18; // st6@7
  int v19; // ebx@7
  int v20; // edi@7
  int v21; // edx@7
  int v22; // esi@7
  double v23; // st6@7
  int v24; // edx@7
  int v25; // edi@7
  float v26; // [sp+0h] [bp-14h]@3
  float v27; // [sp+4h] [bp-10h]@3
  float v28; // [sp+8h] [bp-Ch]@3
  int v29; // [sp+Ch] [bp-8h]@7
  int v30; // [sp+10h] [bp-4h]@7
  signed int v31; // [sp+20h] [bp+Ch]@5

  v2 = a2;
  v3 = *(float *)(a2 + 20) + *(float *)a2 + *(float *)(a2 + 40);
  if ( v3 <= 0.0 )
  {
    v7 = *(float *)a2;
    v27 = *(float *)(a2 + 20);
    v8 = *(float *)(a2 + 40);
    v26 = v7;
    v28 = v8;
    v9 = 0;
    if ( v7 < v27 )
      v9 = 1;
    v31 = v9;
    if ( *(&v26 + v9) < (double)v28 )
    {
      v9 = 2;
      v31 = 2;
    }
    v10 = 4 * v9;
    v11 = dword_4935B0[v9];
    v12 = 4 * dword_4935B0[v9];
    v13 = *(&v26 + v9) - *(&v26 + dword_4935B0[v9]);
    v14 = dword_4935B0[v12 / 4];
    v30 = v14;
    v15 = v13 - *(&v26 + v14);
    result = a1;
    v29 = v11;
    v16 = sqrt(v15 + 1.0) * 0.5;
    *(float *)(v10 + a1) = v16;
    v17 = 0.25 / v16;
    v18 = *(float *)(v2 + 4 * (v12 + v9)) + *(float *)(v2 + 4 * (4 * v9 + v11));
    v19 = 4 * v30 + v31;
    v20 = v30;
    v21 = v30 + v10;
    *(float *)(v12 + a1) = v18 * v17;
    v22 = v20 + v12;
    v23 = *(float *)(v2 + 4 * v19) + *(float *)(v2 + 4 * v21);
    v24 = v20;
    v25 = v29;
    v24 *= 4;
    *(float *)(v24 + a1) = v23 * v17;
    *(float *)(a1 + 12) = (*(float *)(v2 + 4 * v22) - *(float *)(v2 + 4 * (v25 + v24))) * v17;
  }
  else
  {
    result = a1;
    v5 = sqrt(v3 + 1.0) * 0.5;
    *(float *)(a1 + 12) = v5;
    v6 = 0.25 / v5;
    *(float *)a1 = (*(float *)(a2 + 24) - *(float *)(a2 + 36)) * v6;
    *(float *)(a1 + 4) = (*(float *)(a2 + 32) - *(float *)(a2 + 8)) * v6;
    *(float *)(a1 + 8) = (*(float *)(a2 + 4) - *(float *)(a2 + 16)) * v6;
  }
  return result;
}
// 4935B0: using guessed type int dword_4935B0[];

//----- (0044083D) --------------------------------------------------------
int __thiscall sub_44083D(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(__m128 *)this = _mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0);
  *(__m128 *)(this + 64) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 16), (__m128)*(_DWORD *)(a2 + 16), 0);
  *(__m128 *)(this + 128) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 32), (__m128)*(_DWORD *)(a2 + 32), 0);
  *(__m128 *)(this + 192) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 48), (__m128)*(_DWORD *)(a2 + 48), 0);
  *(__m128 *)(this + 16) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0);
  *(__m128 *)(this + 80) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 20), (__m128)*(_DWORD *)(a2 + 20), 0);
  *(__m128 *)(this + 144) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 36), (__m128)*(_DWORD *)(a2 + 36), 0);
  *(__m128 *)(this + 208) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 52), (__m128)*(_DWORD *)(a2 + 52), 0);
  *(__m128 *)(this + 32) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0);
  *(__m128 *)(this + 96) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 24), (__m128)*(_DWORD *)(a2 + 24), 0);
  *(__m128 *)(this + 160) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 40), (__m128)*(_DWORD *)(a2 + 40), 0);
  *(__m128 *)(this + 224) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 56), (__m128)*(_DWORD *)(a2 + 56), 0);
  *(__m128 *)(this + 48) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 12), (__m128)*(_DWORD *)(a2 + 12), 0);
  *(__m128 *)(this + 112) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 28), (__m128)*(_DWORD *)(a2 + 28), 0);
  *(__m128 *)(this + 176) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 44), (__m128)*(_DWORD *)(a2 + 44), 0);
  *(__m128 *)(this + 240) = _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 60), (__m128)*(_DWORD *)(a2 + 60), 0);
  return result;
}

//----- (004409B7) --------------------------------------------------------
int __stdcall sub_4409B7(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm5@4
  __m128 v21; // xmm6@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  __m128 v26; // xmm2@4
  __m128 v27; // xmm3@4
  unsigned int v29; // [sp+14h] [bp-11Ch]@3
  int v30; // [sp+14h] [bp-11Ch]@8
  int v31; // [sp+1Ch] [bp-114h]@1
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+60h] [bp-D0h]@4
  __m128 v36; // [sp+70h] [bp-C0h]@4
  __m128 v37; // [sp+80h] [bp-B0h]@4
  __m128 v38; // [sp+90h] [bp-A0h]@4
  __m128 v39; // [sp+A0h] [bp-90h]@4
  __m128 v40; // [sp+B0h] [bp-80h]@4
  __m128 v41; // [sp+C0h] [bp-70h]@4
  __m128 v42; // [sp+D0h] [bp-60h]@4
  __m128 v43; // [sp+E0h] [bp-50h]@4
  __m128 v44; // [sp+F0h] [bp-40h]@4
  __m128 v45; // [sp+100h] [bp-30h]@4
  __m128 v46; // [sp+110h] [bp-20h]@4
  __m128 v47; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v31 = v8;
  if ( v9 && (sub_44083D((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v29 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v32), _mm_mul_ps(v17, v36)), _mm_mul_ps(v18, v40)), v44);
      v20 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v33), _mm_mul_ps(v17, v37)), _mm_mul_ps(v18, v41)), v45);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v34), _mm_mul_ps(v17, v38)), _mm_mul_ps(v18, v42));
      v22 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v35), _mm_mul_ps(v17, v39)), _mm_mul_ps(v18, v43)), v47);
      v23 = _mm_add_ps(v21, v46);
      v24 = _mm_unpacklo_ps(v19, v20);
      _mm_storel_ps((double *)v6, v24);
      v25 = _mm_unpacklo_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 128), v25);
      _mm_storeh_ps((double *)(v6 + a2), v24);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v25);
      v26 = _mm_unpackhi_ps(v19, v20);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      v27 = _mm_unpackhi_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v27);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v27);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v29;
    }
    while ( v29 );
  }
  else
  {
    v11 = a3;
  }
  if ( v31 )
  {
    v30 = v31;
    do
    {
      sub_44415B((__m128 *)v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v30;
    }
    while ( v30 );
  }
  return a1;
}

//----- (00440BBD) --------------------------------------------------------
int __stdcall sub_440BBD(int a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  int v6; // esi@1
  unsigned int v7; // ebx@1
  int v8; // eax@1
  unsigned int v9; // ebx@1
  char *v10; // ebx@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm3@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm4@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm5@4
  __m128 v22; // xmm0@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm1@4
  __m128 v25; // xmm2@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+50h] [bp-E0h]@4
  __m128 v33; // [sp+60h] [bp-D0h]@4
  __m128 v34; // [sp+70h] [bp-C0h]@4
  __m128 v35; // [sp+80h] [bp-B0h]@4
  __m128 v36; // [sp+90h] [bp-A0h]@4
  __m128 v37; // [sp+A0h] [bp-90h]@4
  __m128 v38; // [sp+F0h] [bp-40h]@4
  __m128 v39; // [sp+100h] [bp-30h]@4
  __m128 v40; // [sp+110h] [bp-20h]@4
  __m128 v41; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_44083D((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v16;
      v18 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v30), _mm_mul_ps(v16, v34)), v38);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v31), _mm_mul_ps(v17, v35)), v39);
      v20 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v32), _mm_mul_ps(v17, v36)), v40);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v33), _mm_mul_ps(v17, v37)), v41);
      v22 = _mm_unpacklo_ps(v18, v19);
      _mm_storel_ps((double *)v6, v22);
      v23 = _mm_unpacklo_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 128), v23);
      _mm_storeh_ps((double *)(v6 + a2), v22);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v23);
      v24 = _mm_unpackhi_ps(v18, v19);
      _mm_storel_ps((double *)(v6 + 2 * a2), v24);
      v25 = _mm_unpackhi_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v25);
      _mm_storeh_ps((double *)(3 * a2 + v6), v24);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v25);
      v10 += 4 * a4;
      v6 += 4 * a2;
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_42AA74(v6, v10, a5);
      v10 += a4;
      v6 += a2;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 42AA74: using guessed type int __stdcall sub_42AA74(_DWORD, _DWORD, _DWORD);

//----- (00440D4B) --------------------------------------------------------
double *__stdcall sub_440D4B(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __m128 v13; // xmm0@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm4@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm2@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm1@4
  __m128 v23; // xmm2@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+60h] [bp-D0h]@4
  __m128 v33; // [sp+70h] [bp-C0h]@4
  __m128 v34; // [sp+80h] [bp-B0h]@4
  __m128 v35; // [sp+A0h] [bp-90h]@4
  __m128 v36; // [sp+F0h] [bp-40h]@4
  __m128 v37; // [sp+100h] [bp-30h]@4
  __m128 v38; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_44083D((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = v12;
      v14 = *(_QWORD *)&v10[2 * a4];
      v15 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v16 = _mm_shuffle_ps(v12, v15, -35);
      v17 = v16;
      v18 = _mm_shuffle_ps(v13, v15, -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v32), _mm_mul_ps(v16, v35)), v38);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v30), _mm_mul_ps(v17, v33)), v36), v21);
      v23 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v31), _mm_mul_ps(v17, v34)), v37), v21);
      v24 = _mm_unpacklo_ps(v22, v23);
      _mm_storel_ps(v6, v24);
      _mm_storeh_ps((double *)((char *)v6 + a2), v24);
      v25 = _mm_unpackhi_ps(v22, v23);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v25);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v25);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_42AA98(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 42AA98: using guessed type int __stdcall sub_42AA98(_DWORD, _DWORD, _DWORD);

//----- (00440EB1) --------------------------------------------------------
double *__stdcall sub_440EB1(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm3@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm1@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm1@4
  unsigned int v23; // [sp+14h] [bp-11Ch]@3
  int v24; // [sp+14h] [bp-11Ch]@8
  int v25; // [sp+1Ch] [bp-114h]@1
  __m128 v26; // [sp+30h] [bp-100h]@2
  __m128 v27; // [sp+40h] [bp-F0h]@4
  __m128 v28; // [sp+70h] [bp-C0h]@4
  __m128 v29; // [sp+80h] [bp-B0h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v25 = v8;
  if ( v9 && (sub_44083D((int)&v26, a5), v9) )
  {
    v23 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -35);
      v16 = _mm_shuffle_ps(v12, v14, -120);
      v17 = _mm_mul_ps(v16, v26);
      v18 = _mm_add_ps(_mm_mul_ps(v16, v27), _mm_mul_ps(v15, v29));
      v19 = _mm_add_ps(v17, _mm_mul_ps(v15, v28));
      v20 = _mm_unpacklo_ps(v19, v18);
      _mm_storel_ps(v6, v20);
      _mm_storeh_ps((double *)((char *)v6 + a2), v20);
      v21 = _mm_unpackhi_ps(v19, v18);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v21);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v21);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v23;
    }
    while ( v23 );
  }
  else
  {
    v10 = a3;
  }
  if ( v25 )
  {
    v24 = v25;
    do
    {
      sub_42AABC(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v24;
    }
    while ( v24 );
  }
  return a1;
}
// 42AABC: using guessed type int __stdcall sub_42AABC(_DWORD, _DWORD, _DWORD);

//----- (00440FC1) --------------------------------------------------------
int __stdcall sub_440FC1(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  __m128 *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm3@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  unsigned __int64 v17; // rt1@4
  __m128 v18; // xmm3@4
  __int64 v19; // rt1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm4@4
  __m128 v22; // xmm3@4
  __m128 v23; // xmm2@4
  __m128 v24; // ST2C_16@4
  __m128 v25; // xmm3@4
  __m128 v26; // ST3C_16@4
  __m128 v27; // xmm4@4
  __m128 v28; // xmm2@4
  __m128 v29; // xmm0@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm3@4
  __m128 v32; // xmm1@4
  __m128 v33; // xmm4@4
  unsigned int v35; // [sp+14h] [bp-12Ch]@3
  int v36; // [sp+14h] [bp-12Ch]@8
  int v37; // [sp+1Ch] [bp-124h]@1
  __m128 v38; // [sp+40h] [bp-100h]@2
  __m128 v39; // [sp+50h] [bp-F0h]@4
  __m128 v40; // [sp+60h] [bp-E0h]@4
  __m128 v41; // [sp+70h] [bp-D0h]@4
  __m128 v42; // [sp+80h] [bp-C0h]@4
  __m128 v43; // [sp+90h] [bp-B0h]@4
  __m128 v44; // [sp+A0h] [bp-A0h]@4
  __m128 v45; // [sp+B0h] [bp-90h]@4
  __m128 v46; // [sp+C0h] [bp-80h]@4
  __m128 v47; // [sp+D0h] [bp-70h]@4
  __m128 v48; // [sp+E0h] [bp-60h]@4
  __m128 v49; // [sp+F0h] [bp-50h]@4
  __m128 v50; // [sp+100h] [bp-40h]@4
  __m128 v51; // [sp+110h] [bp-30h]@4
  __m128 v52; // [sp+120h] [bp-20h]@4
  __m128 v53; // [sp+130h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v37 = v8;
  if ( v9 && (sub_44083D((int)&v38, a5), v9) )
  {
    v35 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)&v10->m128_i32[0];
      v12 = _mm_loadh_ps((const double *)((char *)v10 + a4));
      v13 = *(_QWORD *)((char *)v10->m128_i32 + 2 * a4);
      v14 = _mm_loadh_ps((const double *)((char *)v10 + 3 * a4));
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v10[8].m128_u64[0];
      v18 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + a4));
      v19 = *(_QWORD *)((char *)&v10->m128_i32[2] + 2 * a4);
      v20 = v18;
      v21 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + 3 * a4));
      v22 = _mm_shuffle_ps(v18, v21, -35);
      v23 = _mm_shuffle_ps(v20, v21, -120);
      v24 = v22;
      v25 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v38), _mm_mul_ps(v16, v42)), _mm_mul_ps(v23, v46)),
              _mm_mul_ps(v22, v50));
      v26 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v39), _mm_mul_ps(v16, v43)), _mm_mul_ps(v23, v47)),
              _mm_mul_ps(v24, v51));
      v27 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v40), _mm_mul_ps(v16, v44)), _mm_mul_ps(v23, v48)),
              _mm_mul_ps(v24, v52));
      v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v41), _mm_mul_ps(v16, v45)), _mm_mul_ps(v23, v49));
      v29 = _mm_unpacklo_ps(v25, v26);
      v30 = _mm_add_ps(v28, _mm_mul_ps(v24, v53));
      v31 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)v6, v29);
      v32 = _mm_unpacklo_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 128), v32);
      _mm_storeh_ps((double *)(v6 + a2), v29);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v32);
      _mm_storel_ps((double *)(v6 + 2 * a2), v31);
      v33 = _mm_unpackhi_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v33);
      _mm_storeh_ps((double *)(3 * a2 + v6), v31);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v33);
      v10 = (__m128 *)((char *)v10 + 4 * a4);
      v6 += 4 * a2;
      --v35;
    }
    while ( v35 );
  }
  else
  {
    v10 = a3;
  }
  if ( v37 )
  {
    v36 = v37;
    do
    {
      sub_441E22((__m128 *)v6, v10, a5);
      v6 += a2;
      v10 = (__m128 *)((char *)v10 + a4);
      --v36;
    }
    while ( v36 );
  }
  return a1;
}

//----- (004411FF) --------------------------------------------------------
int __stdcall sub_4411FF(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm3@4
  __m128 v17; // xmm0@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm6@4
  __m128 v21; // xmm0@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm1@4
  __m128 v24; // xmm3@4
  __m128 v25; // xmm0@4
  __m128 v26; // xmm2@4
  unsigned int v28; // [sp+14h] [bp-11Ch]@3
  int v29; // [sp+14h] [bp-11Ch]@8
  int v30; // [sp+1Ch] [bp-114h]@1
  __m128 v31; // [sp+20h] [bp-110h]@0
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+70h] [bp-C0h]@4
  __m128 v36; // [sp+80h] [bp-B0h]@4
  __m128 v37; // [sp+90h] [bp-A0h]@4
  __m128 v38; // [sp+B0h] [bp-80h]@4
  __m128 v39; // [sp+C0h] [bp-70h]@4
  __m128 v40; // [sp+D0h] [bp-60h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v30 = v8;
  if ( v9 && (sub_44083D((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v28 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -35);
      v17 = _mm_shuffle_ps(v13, v15, -120);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v32), _mm_mul_ps(v16, v35)), _mm_mul_ps(v18, v38));
      v20 = v17;
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v34), _mm_mul_ps(v16, v37)), _mm_mul_ps(v18, v40));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v33), _mm_mul_ps(v16, v36)), _mm_mul_ps(v18, v39));
      v23 = _mm_unpacklo_ps(v19, v22);
      _mm_storel_ps((double *)v6, v23);
      _mm_storeh_ps((double *)(v6 + a2), v23);
      v24 = _mm_unpacklo_ps(v21, v31);
      v25 = _mm_unpackhi_ps(v21, v31);
      *(_DWORD *)(v6 + 96) = v24.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v24, v24);
      v26 = _mm_unpackhi_ps(v19, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v25.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v25, v25);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v28;
    }
    while ( v28 );
  }
  else
  {
    v11 = a3;
  }
  if ( v30 )
  {
    v29 = v30;
    do
    {
      sub_442CE4(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v29;
    }
    while ( v29 );
  }
  return a1;
}

//----- (004413CF) --------------------------------------------------------
int __stdcall sub_4413CF(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm6@4
  __m128 v23; // xmm7@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm2@4
  __m128 v26; // xmm5@4
  __m128 v27; // xmm1@4
  __m128 v28; // xmm0@4
  __m128 v29; // xmm4@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm0@4
  unsigned int v33; // [sp+14h] [bp-11Ch]@3
  int v34; // [sp+14h] [bp-11Ch]@8
  int v35; // [sp+1Ch] [bp-114h]@1
  __m128 v36; // [sp+30h] [bp-100h]@2
  __m128 v37; // [sp+40h] [bp-F0h]@4
  __m128 v38; // [sp+50h] [bp-E0h]@4
  __m128 v39; // [sp+60h] [bp-D0h]@4
  __m128 v40; // [sp+70h] [bp-C0h]@4
  __m128 v41; // [sp+80h] [bp-B0h]@4
  __m128 v42; // [sp+90h] [bp-A0h]@4
  __m128 v43; // [sp+A0h] [bp-90h]@4
  __m128 v44; // [sp+B0h] [bp-80h]@4
  __m128 v45; // [sp+C0h] [bp-70h]@4
  __m128 v46; // [sp+D0h] [bp-60h]@4
  __m128 v47; // [sp+E0h] [bp-50h]@4
  __m128 v48; // [sp+F0h] [bp-40h]@4
  __m128 v49; // [sp+100h] [bp-30h]@4
  __m128 v50; // [sp+110h] [bp-20h]@4
  __m128 v51; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xC ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v35 = v8;
  if ( v9 && (sub_44083D((int)&v36, a5), v10 = 3 * a4, v9) )
  {
    v33 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v39), _mm_mul_ps(v17, v43)), _mm_mul_ps(v18, v47)), v51);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v36), _mm_mul_ps(v17, v40)), _mm_mul_ps(v18, v44));
      v23 = _mm_mul_ps(v16, v37);
      v24 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v38), _mm_mul_ps(v17, v42)), _mm_mul_ps(v18, v46)), v50);
      v25 = _mm_mul_ps(_mm_add_ps(v22, v48), v21);
      v26 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_add_ps(v23, _mm_mul_ps(v17, v41)), _mm_mul_ps(v18, v45)), v49), v21);
      v27 = _mm_unpacklo_ps(v25, v26);
      v28 = _mm_mul_ps(v24, v21);
      _mm_storel_ps((double *)v6, v27);
      v29 = _mm_unpacklo_ps(v28, v21);
      _mm_storeh_ps((double *)(v6 + a2), v27);
      *(_DWORD *)(v6 + 96) = v29.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v29, v29);
      v30 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)(v6 + 2 * a2), v30);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v30);
      v31 = _mm_unpackhi_ps(v28, v21);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v31.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v31, v31);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v33;
    }
    while ( v33 );
  }
  else
  {
    v11 = a3;
  }
  if ( v35 )
  {
    v34 = v35;
    do
    {
      sub_442DB9(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v34;
    }
    while ( v34 );
  }
  return a1;
}

//----- (00441600) --------------------------------------------------------
int __stdcall sub_441600(int a1, int a2, int a3, double *a4, int a5, int a6, int a7, double **a8, unsigned int a9, int a10, float *a11, int a12)
{
  int result; // eax@1
  double *v13; // edi@1
  unsigned int v14; // ebx@3
  float *v15; // esi@7
  bool v16; // sf@7
  __m128 v17; // xmm3@7
  __m128 v18; // xmm0@7
  __m128 v19; // xmm4@7
  __m128 v20; // xmm5@7
  __int128 v21; // xmm1@8
  __m128 v22; // xmm0@8
  signed int v23; // eax@8
  __m128 v24; // xmm1@8
  __m128 v25; // xmm0@8
  __m128 v26; // xmm2@8
  __m128 v27; // xmm2@8
  int v28; // xmm1_4@10
  double *v29; // eax@11
  double *v30; // eax@12
  __m128 v31; // xmm3@18
  __m128 v32; // xmm4@18
  __m128 v33; // xmm5@18
  float *v34; // edi@20
  __int128 v35; // xmm1@21
  __m128 v36; // xmm0@21
  signed int v37; // eax@21
  __m128 v38; // xmm2@21
  __m128 v39; // xmm0@21
  __m128 v40; // xmm1@21
  __m128 v41; // xmm1@21
  int v42; // eax@21
  unsigned int v43; // esi@21
  __m128 v44; // xmm1@22
  __m128 *v45; // ecx@22
  int v46; // eax@23
  int v47; // xmm0_4@27
  unsigned int v48; // ebx@28
  double **v49; // eax@29
  __m128 *v50; // esi@29
  double *v51; // ecx@30
  __m128 v52; // xmm0@30
  double **v53; // eax@33
  __m128 *v54; // esi@33
  double *v55; // ecx@34
  __m128 v56; // xmm0@34
  bool v57; // zf@37
  char *v58; // [sp+10h] [bp-4A0h]@5
  char *v59; // [sp+10h] [bp-4A0h]@16
  char *v60; // [sp+14h] [bp-49Ch]@1
  char *v61; // [sp+18h] [bp-498h]@1
  int v62; // [sp+1Ch] [bp-494h]@5
  int v63; // [sp+1Ch] [bp-494h]@16
  unsigned int v64; // [sp+20h] [bp-490h]@1
  __int128 v65; // [sp+40h] [bp-470h]@0
  __m128 v66; // [sp+60h] [bp-450h]@7
  __m128 v67; // [sp+60h] [bp-450h]@22
  __m128 v68; // [sp+70h] [bp-440h]@7
  __m128 v69; // [sp+70h] [bp-440h]@18
  __m128 v70; // [sp+80h] [bp-430h]@7
  __m128 v71; // [sp+80h] [bp-430h]@22
  __m128 v72; // [sp+90h] [bp-420h]@7
  __m128 v73; // [sp+A0h] [bp-410h]@7
  char v74; // [sp+B0h] [bp-400h]@19

  result = a3;
  v13 = a4;
  v61 = (char *)(a3 + a10);
  v60 = (char *)a4 + a10;
  v64 = a6 - a10;
  if ( !a2 )
    a2 = a1;
  v14 = a9;
  if ( a9 == 1 )
  {
    if ( a5 )
    {
      v58 = (char *)(a4 + 1);
      v62 = a5;
      while ( 1 )
      {
        v15 = a11;
        v16 = *(_DWORD *)a11 < 0;
        v17 = 0i64;
        v72 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 8), (__m128)*(_DWORD *)(result + 8), 0);
        v68 = _mm_shuffle_ps((__m128)**(_DWORD **)a7, (__m128)**(_DWORD **)a7, 0);
        v66 = _mm_shuffle_ps((__m128)*(_DWORD *)(*(_DWORD *)a7 + 4), (__m128)*(_DWORD *)(*(_DWORD *)a7 + 4), 0);
        v70 = _mm_shuffle_ps((__m128)*(_DWORD *)(*(_DWORD *)a7 + 8), (__m128)*(_DWORD *)(*(_DWORD *)a7 + 8), 0);
        v18 = 0i64;
        v19 = _mm_shuffle_ps((__m128)*(_DWORD *)result, (__m128)*(_DWORD *)result, 0);
        v20 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 4), (__m128)*(_DWORD *)(result + 4), 0);
        v73 = 0i64;
        if ( !v16 )
        {
          do
          {
            v21 = v65;
            v22 = (__m128)*(_DWORD *)v15;
            v23 = (signed int)ffloor(*v15) >> 1;
            *(float *)&v21 = (float)(2 * v23);
            v65 = v21;
            v22.m128_f32[0] = *v15 - *(float *)&v21;
            v24 = _mm_shuffle_ps(v22, v22, 0);
            v23 <<= 6;
            v25 = _mm_add_ps(
                    _mm_add_ps(_mm_mul_ps(*(__m128 *)(v23 + a1), v19), _mm_mul_ps(*(__m128 *)(v23 + a1 + 16), v20)),
                    _mm_add_ps(_mm_mul_ps(*(__m128 *)(v23 + a1 + 32), v72), *(__m128 *)(v23 + a1 + 48)));
            v26 = _mm_rcp_ps(v25);
            v27 = _mm_sub_ps(_mm_add_ps(v26, v26), _mm_mul_ps(_mm_mul_ps(v26, v25), v26));
            v17 = _mm_add_ps(v17, _mm_mul_ps(_mm_mul_ps(v25, v24), _mm_shuffle_ps(v27, v27, -1)));
            ++v15;
            v16 = *(_DWORD *)v15 < 0;
            v18 = _mm_add_ps(
                    v73,
                    _mm_mul_ps(
                      _mm_add_ps(
                        _mm_add_ps(_mm_mul_ps(v68, *(__m128 *)(a2 + v23)), _mm_mul_ps(v66, *(__m128 *)(a2 + v23 + 16))),
                        _mm_mul_ps(v70, *(__m128 *)(a2 + v23 + 32))),
                      v24));
            v73 = v18;
          }
          while ( !v16 );
          v13 = a4;
          a11 = v15;
        }
        v28 = (unsigned __int128)_mm_movehl_ps(v17, v17);
        if ( a12 )
        {
          qmemcpy(v60, v61, v64);
          _mm_storel_ps(a4, v17);
          *(_DWORD *)v58 = v28;
          v29 = *a8;
          _mm_storel_ps(*a8, v18);
          *((_DWORD *)v29 + 2) = (unsigned __int128)_mm_movehl_ps(v18, v18);
        }
        else
        {
          _mm_storel_ps(v13, v17);
          *(_DWORD *)v58 = v28;
          v30 = *a8;
          _mm_storel_ps(*a8, v18);
          *((_DWORD *)v30 + 2) = (unsigned __int128)_mm_movehl_ps(v18, v18);
          qmemcpy(v60, v61, v64);
        }
        *a8 = (double *)((char *)*a8 + a6);
        result = a7;
        v60 += a6;
        v61 += a6;
        a4 = (double *)((char *)a4 + a6);
        v58 += a6;
        a3 += a6;
        *(_DWORD *)result += a6;
        ++a11;
        if ( !--v62 )
          break;
        result = a3;
        v13 = a4;
      }
    }
  }
  else if ( a5 )
  {
    v59 = (char *)(a4 + 1);
    v63 = a5;
    while ( 1 )
    {
      v31 = 0i64;
      v32 = _mm_shuffle_ps((__m128)*(_DWORD *)result, (__m128)*(_DWORD *)result, 0);
      v33 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 4), (__m128)*(_DWORD *)(result + 4), 0);
      v69 = _mm_shuffle_ps((__m128)*(_DWORD *)(result + 8), (__m128)*(_DWORD *)(result + 8), 0);
      if ( v14 )
      {
        v73 = 0i64;
        qmemcpy(&v74, &v73, 4 * ((16 * v14 - 13) >> 2));
      }
      v34 = a11;
      if ( *(_DWORD *)a11 >= 0 )
      {
        do
        {
          v35 = v65;
          v36 = (__m128)*(_DWORD *)v34;
          v37 = (signed int)ffloor(*v34) >> 1;
          *(float *)&v35 = (float)(2 * v37);
          v65 = v35;
          v36.m128_f32[0] = *v34 - *(float *)&v35;
          v38 = _mm_shuffle_ps(v36, v36, 0);
          v37 <<= 6;
          v39 = _mm_add_ps(
                  _mm_add_ps(_mm_mul_ps(*(__m128 *)(v37 + a1), v32), _mm_mul_ps(*(__m128 *)(v37 + a1 + 16), v33)),
                  _mm_add_ps(_mm_mul_ps(*(__m128 *)(v37 + a1 + 32), v69), *(__m128 *)(v37 + a1 + 48)));
          v40 = _mm_rcp_ps(v39);
          v41 = _mm_sub_ps(_mm_add_ps(v40, v40), _mm_mul_ps(_mm_mul_ps(v40, v39), v40));
          v42 = a2 + v37;
          v43 = 0;
          v31 = _mm_add_ps(v31, _mm_mul_ps(_mm_mul_ps(v39, v38), _mm_shuffle_ps(v41, v41, -1)));
          if ( v14 )
          {
            v44 = *(__m128 *)v42;
            v67 = *(__m128 *)(v42 + 32);
            v71 = *(__m128 *)(v42 + 16);
            v45 = &v73;
            do
            {
              v46 = *(_DWORD *)(a7 + 4 * v43);
              *v45 = _mm_add_ps(
                       *v45,
                       _mm_mul_ps(
                         _mm_add_ps(
                           _mm_add_ps(
                             _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)v46, (__m128)*(_DWORD *)v46, 0), v44),
                             _mm_mul_ps(
                               _mm_shuffle_ps((__m128)*(_DWORD *)(v46 + 4), (__m128)*(_DWORD *)(v46 + 4), 0),
                               v71)),
                           _mm_mul_ps(
                             _mm_shuffle_ps((__m128)*(_DWORD *)(v46 + 8), (__m128)*(_DWORD *)(v46 + 8), 0),
                             v67)),
                         v38));
              ++v43;
              ++v45;
            }
            while ( v43 < v14 );
            v34 = a11;
          }
          ++v34;
          a11 = v34;
        }
        while ( *(_DWORD *)v34 >= 0 );
        result = a3;
      }
      v47 = (unsigned __int128)_mm_movehl_ps(v31, v31);
      if ( a12 )
      {
        qmemcpy(v60, v61, v64);
        v48 = a9;
        _mm_storel_ps(a4, v31);
        *(_DWORD *)v59 = v47;
        if ( a9 )
        {
          v49 = a8;
          v50 = &v73;
          do
          {
            v51 = *v49;
            v52 = *v50;
            _mm_storel_ps(*v49, *v50);
            *((_DWORD *)v51 + 2) = (unsigned __int128)_mm_movehl_ps(v52, v52);
            *v49 = (double *)((char *)*v49 + a6);
            *(double **)((char *)v49 + a7 - (_DWORD)a8) = (double *)(*(char **)((char *)v49 + a7 - (_DWORD)a8) + a6);
            ++v50;
            ++v49;
            --v48;
          }
          while ( v48 );
          result = a3;
        }
      }
      else
      {
        _mm_storel_ps(a4, v31);
        *(_DWORD *)v59 = v47;
        if ( v14 )
        {
          v53 = a8;
          v54 = &v73;
          do
          {
            v55 = *v53;
            v56 = *v54;
            _mm_storel_ps(*v53, *v54);
            *((_DWORD *)v55 + 2) = (unsigned __int128)_mm_movehl_ps(v56, v56);
            *v53 = (double *)((char *)*v53 + a6);
            *(double **)((char *)v53 + a7 - (_DWORD)a8) = (double *)(*(char **)((char *)v53 + a7 - (_DWORD)a8) + a6);
            ++v54;
            ++v53;
            --v14;
          }
          while ( v14 );
          result = a3;
        }
        qmemcpy(v60, v61, v64);
      }
      v60 += a6;
      v61 += a6;
      a4 = (double *)((char *)a4 + a6);
      v59 += a6;
      ++a11;
      result += a6;
      v57 = v63-- == 1;
      a3 = result;
      if ( v57 )
        break;
      v14 = a9;
    }
  }
  return result;
}

//----- (00441B58) --------------------------------------------------------
void sub_441B58()
{
  _m_femms();
}

//----- (00441C82) --------------------------------------------------------
int __userpurge sub_441C82@<eax>(__m128 a1@<xmm0>, __m128 a2@<xmm3>, int a3, int a4, unsigned int a5)
{
  unsigned int v5; // esi@2
  int v6; // eax@2
  __int64 v7; // mm0@3
  __int64 v8; // mm1@3
  double *v9; // ecx@3
  int v10; // edx@3
  unsigned int v11; // ebx@5
  unsigned int v12; // edx@6
  int v14; // [sp+10h] [bp-8h]@1

  v14 = a3;
  if ( a5 >= 8 )
  {
    v5 = a5 & 0xFFFFFFF8;
    v6 = a4;
    do
    {
      v7 = *(_QWORD *)v6;
      v8 = *(_QWORD *)(v6 + 8);
      sub_441B58();
      _mm_storel_ps(v9, a1);
      _mm_storeh_ps(v9 + 1, a1);
      _mm_storel_ps(v9 + 2, a2);
      _mm_storeh_ps(v9 + 3, a2);
    }
    while ( v10 != 8 );
    _m_femms();
    a5 -= v5;
    a4 += 2 * v5;
    a3 += 4 * v5;
  }
  v11 = 0;
  if ( a5 )
  {
    do
    {
      v12 = *(_WORD *)(a4 + 2 * v11) & 0x7C00;
      if ( v12 <= 0x400 )
        v12 = 1024;
      *(float *)(a3 + 4 * v11) = (double)(*(_WORD *)(a4 + 2 * v11) & 0x3FF | ((*(_WORD *)(a4 + 2 * v11) & 0x7C00) != 0 ? 0x400 : 0))
                               * COERCE_FLOAT(((unsigned __int16)(*(_WORD *)(a4 + 2 * v11) & 0x8000) << 16) | ((v12 + 104448) << 13));
      ++v11;
    }
    while ( v11 < a5 );
  }
  return v14;
}

//----- (00441D56) --------------------------------------------------------
__m128 *__stdcall sub_441D56(__m128 *a1, int a2, int a3)
{
  *a1 = _mm_add_ps(
          _mm_add_ps(
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
            *(__m128 *)(a3 + 48)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16)));
  return a1;
}

//----- (00441D94) --------------------------------------------------------
double *__stdcall sub_441D94(double *a1, int a2, int a3)
{
  __m128 v3; // xmm2@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm1@1

  v3 = _mm_add_ps(
         _mm_add_ps(
           _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
           *(__m128 *)(a3 + 48)),
         _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16)));
  v4 = _mm_rcp_ps(v3);
  v5 = _mm_mul_ps(_mm_mul_ps(v4, v4), v3);
  _mm_storel_ps(a1, _mm_mul_ps(v3, _mm_shuffle_ps(v5, v5, -1)));
  return a1;
}

//----- (00441DEB) --------------------------------------------------------
double *__stdcall sub_441DEB(double *a1, int a2, int a3)
{
  _mm_storel_ps(
    a1,
    _mm_add_ps(
      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), *(__m128 *)a3),
      _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), *(__m128 *)(a3 + 16))));
  return a1;
}

//----- (00441E22) --------------------------------------------------------
__m128 *__stdcall sub_441E22(__m128 *a1, __m128 *a2, int a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm1@1
  __m128 v5; // xmm3@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm1@2
  __m128 v8; // xmm0@2
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  __int64 v11; // rt1@3
  __int64 v12; // rt1@3
  __m128 *result; // eax@4

  v3 = *a2;
  v4 = _mm_shuffle_ps(v3, v3, -1);
  if ( a3 & 0xF )
  {
    v9 = *(_QWORD *)(a3 + 48);
    v10 = *(_QWORD *)(a3 + 32);
    v5 = _mm_add_ps(
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps(v3, v3, -86)),
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 56)), v4));
    v11 = *(_QWORD *)(a3 + 16);
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v12 = *(_QWORD *)a3;
    v8 = _mm_loadh_ps((const double *)(a3 + 8));
  }
  else
  {
    v5 = _mm_add_ps(_mm_mul_ps(*(__m128 *)(a3 + 32), _mm_shuffle_ps(v3, v3, -86)), _mm_mul_ps(*(__m128 *)(a3 + 48), v4));
    v6 = _mm_mul_ps(*(__m128 *)(a3 + 16), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v8 = *(__m128 *)a3;
  }
  result = a1;
  *a1 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v8, v7), v6), v5);
  return result;
}

//----- (00441EEE) --------------------------------------------------------
int __stdcall sub_441EEE(int a1, int a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm0@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm1@1
  __int64 v7; // rt1@1
  __m128 v8; // xmm2@1
  __int64 v9; // rt1@1
  __m128 v10; // xmm3@1
  __m128 v11; // xmm4@1
  __m128 v12; // xmm5@1
  __m128 v13; // xmm6@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm1@1
  __m128 v16; // xmm2@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm0@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 8));
  v5 = *(_QWORD *)(a3 + 16);
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = *(_QWORD *)(a3 + 32);
  v8 = _mm_loadh_ps((const double *)(a3 + 40));
  v9 = *(_QWORD *)(a3 + 48);
  v10 = _mm_loadh_ps((const double *)(a3 + 56));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), v4),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), v6)),
          _mm_add_ps(
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), v8),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 12), (__m128)*(_DWORD *)(a2 + 12), 0), v10)));
  v12 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 16), (__m128)*(_DWORD *)(a2 + 16), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 20), (__m128)*(_DWORD *)(a2 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 24), (__m128)*(_DWORD *)(a2 + 24), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 28), (__m128)*(_DWORD *)(a2 + 28), 0), v10));
  v13 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 32), (__m128)*(_DWORD *)(a2 + 32), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 36), (__m128)*(_DWORD *)(a2 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 40), (__m128)*(_DWORD *)(a2 + 40), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 44), (__m128)*(_DWORD *)(a2 + 44), 0), v10));
  v14 = _mm_mul_ps(v4, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 48), (__m128)*(_DWORD *)(a2 + 48), 0));
  v15 = _mm_mul_ps(v6, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 52), (__m128)*(_DWORD *)(a2 + 52), 0));
  v16 = _mm_mul_ps(v8, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 56), (__m128)*(_DWORD *)(a2 + 56), 0));
  v17 = _mm_mul_ps(v10, _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 60), (__m128)*(_DWORD *)(a2 + 60), 0));
  _mm_storel_ps((double *)a1, v11);
  _mm_storeh_ps((double *)(a1 + 8), v11);
  _mm_storel_ps((double *)(a1 + 16), v12);
  _mm_storeh_ps((double *)(a1 + 24), v12);
  _mm_storel_ps((double *)(a1 + 32), v13);
  _mm_storeh_ps((double *)(a1 + 40), v13);
  v18 = _mm_add_ps(_mm_add_ps(v14, v15), _mm_add_ps(v16, v17));
  _mm_storel_ps((double *)(a1 + 48), v18);
  _mm_storeh_ps((double *)(a1 + 56), v18);
  return a1;
}

//----- (00442022) --------------------------------------------------------
int __stdcall sub_442022(int a1, _DWORD *a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm2@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm1@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm1@1
  __int64 v9; // rt1@1
  __m128 v10; // xmm3@1
  __int64 v11; // rt1@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm5@1
  __m128 v14; // xmm2@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm3@1
  __m128 v17; // xmm4@1
  __m128 v18; // xmm6@1
  __m128 v19; // xmm3@1
  __m128 v20; // ST10_16@1
  __m128 v21; // xmm6@1
  __m128 v22; // xmm6@1
  __m128 v23; // ST40_16@1
  __m128 v24; // xmm4@1
  __m128 v25; // xmm6@1
  __m128 v26; // ST60_16@1
  __m128 v27; // ST40_16@1
  __m128 v28; // xmm6@1
  __m128 v29; // xmm6@1
  __m128 v30; // xmm5@1
  __m128 v31; // xmm4@1
  __m128 v32; // xmm3@1
  __m128 v33; // ST00_16@1
  __m128 v34; // xmm6@1
  __m128 v35; // ST00_16@1
  __m128 v36; // xmm6@1
  __m128 v37; // xmm6@1
  __m128 v38; // xmm3@1
  __m128 v39; // xmm4@1
  __m128 v40; // xmm6@1
  __m128 v41; // ST20_16@1
  __m128 v42; // ST70_16@1
  __m128 v43; // xmm6@1
  __m128 v44; // xmm6@1
  __m128 v45; // ST30_16@1
  __m128 v46; // xmm7@1
  __m128 v47; // xmm6@1
  __m128 v48; // ST80_16@1
  __m128 v49; // xmm3@1
  __m128 v50; // xmm0@1
  __m128 v51; // xmm3@1
  __m128 v52; // xmm5@1
  __m128 v53; // xmm3@1
  __m128 v54; // xmm6@1
  __m128 v55; // xmm5@1
  __m128 v56; // ST20_16@1
  __m128 v57; // xmm6@1
  __m128 v58; // xmm2@1
  __m128 v59; // xmm0@1
  __m128 v60; // xmm3@1
  __m128 v61; // xmm1@1
  signed int v62; // ecx@1
  int result; // eax@4
  __m128 v64; // ST10_16@7
  float v65; // xmm4_4@7
  __m128 v66; // xmm0@7
  __m128 v67; // xmm0@7
  __m128 v68; // xmm2@7
  __m128 v69; // xmm2@7
  __m128 v70; // xmm2@7
  __m128 v71; // xmm0@7
  __m128 v72; // [sp+0h] [bp-90h]@1
  __m128 v73; // [sp+50h] [bp-40h]@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 16));
  v5 = *(_QWORD *)(a3 + 32);
  v6 = _mm_loadh_ps((const double *)(a3 + 48));
  v7 = _mm_shuffle_ps(v4, v6, -120);
  v8 = _mm_shuffle_ps(v6, v4, -35);
  v9 = *(_QWORD *)(a3 + 8);
  v10 = _mm_loadh_ps((const double *)(a3 + 24));
  v11 = *(_QWORD *)(a3 + 40);
  v12 = _mm_loadh_ps((const double *)(a3 + 56));
  v13 = _mm_shuffle_ps(v10, v12, -120);
  v14 = _mm_shuffle_ps(v12, v10, -35);
  v15 = _mm_mul_ps(v13, v14);
  v16 = _mm_shuffle_ps(v15, v15, -79);
  v17 = _mm_shuffle_ps(v16, v16, 78);
  v18 = _mm_mul_ps(v7, v16);
  v19 = _mm_sub_ps(_mm_mul_ps(v8, v17), _mm_mul_ps(v8, v16));
  v20 = _mm_sub_ps(_mm_mul_ps(v7, v17), v18);
  v21 = _mm_mul_ps(v8, v13);
  v22 = _mm_shuffle_ps(v21, v21, -79);
  v23 = _mm_mul_ps(v7, v22);
  v24 = _mm_mul_ps(v14, v22);
  v25 = _mm_shuffle_ps(v22, v22, 78);
  v26 = _mm_mul_ps(v14, v25);
  v27 = _mm_sub_ps(_mm_mul_ps(v7, v25), v23);
  v28 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 78), v14);
  v29 = _mm_shuffle_ps(v28, v28, -79);
  v30 = _mm_shuffle_ps(v13, v13, 78);
  v31 = _mm_sub_ps(_mm_add_ps(v24, v19), v26);
  v32 = _mm_mul_ps(v30, v29);
  v33 = _mm_mul_ps(v7, v29);
  v34 = _mm_shuffle_ps(v29, v29, 78);
  v73 = _mm_sub_ps(_mm_add_ps(v32, v31), _mm_mul_ps(v30, v34));
  v35 = _mm_sub_ps(_mm_mul_ps(v7, v34), v33);
  v36 = _mm_mul_ps(v7, v8);
  v37 = _mm_shuffle_ps(v36, v36, -79);
  v38 = _mm_mul_ps(v14, v37);
  v39 = _mm_mul_ps(v30, v37);
  v40 = _mm_shuffle_ps(v37, v37, 78);
  v41 = _mm_mul_ps(v14, v40);
  v42 = _mm_mul_ps(v30, v40);
  v43 = _mm_mul_ps(v7, v14);
  v44 = _mm_shuffle_ps(v43, v43, -79);
  v45 = _mm_mul_ps(v30, v44);
  v46 = _mm_mul_ps(v8, v44);
  v47 = _mm_shuffle_ps(v44, v44, 78);
  v48 = _mm_mul_ps(v30, v47);
  v72 = _mm_sub_ps(_mm_add_ps(v46, _mm_sub_ps(v41, _mm_add_ps(v38, _mm_shuffle_ps(v35, v35, 78)))), _mm_mul_ps(v8, v47));
  v49 = v7;
  v50 = _mm_mul_ps(v7, v73);
  v51 = _mm_mul_ps(v49, v30);
  v52 = _mm_shuffle_ps(v51, v51, -79);
  v53 = _mm_mul_ps(v14, v52);
  v54 = _mm_mul_ps(v8, v52);
  v55 = _mm_shuffle_ps(v52, v52, 78);
  v56 = v54;
  v57 = _mm_mul_ps(v14, v55);
  v58 = _mm_add_ps(_mm_shuffle_ps(v50, v50, 78), v50);
  v59 = _mm_shuffle_ps(v58, v58, -79);
  v59.m128_f32[0] = v59.m128_f32[0] + v58.m128_f32[0];
  v60 = _mm_sub_ps(_mm_add_ps(v53, _mm_add_ps(v48, _mm_sub_ps(_mm_shuffle_ps(v20, v20, 78), v45))), v57);
  v61 = _mm_add_ps(_mm_mul_ps(v8, v55), _mm_sub_ps(_mm_sub_ps(_mm_sub_ps(v39, _mm_shuffle_ps(v27, v27, 78)), v42), v56));
  v62 = 0;
  if ( v59.m128_f32[0] == 0.0 )
    v62 = 1;
  if ( v62 )
  {
    result = 0;
  }
  else
  {
    if ( a2 )
      *a2 = v59.m128_i32[0];
    result = a1;
    v64 = v59;
    v64.m128_f32[0] = 1.0 / v59.m128_f32[0];
    v65 = v59.m128_f32[0] * (float)((float)(1.0 / v59.m128_f32[0]) * (float)(1.0 / v59.m128_f32[0]));
    v66 = v64;
    v66.m128_f32[0] = (float)(v66.m128_f32[0] + v66.m128_f32[0]) - v65;
    v67 = _mm_shuffle_ps(v66, v66, 0);
    v68 = _mm_mul_ps(v67, v73);
    _mm_storel_ps((double *)a1, v68);
    _mm_storeh_ps((double *)(a1 + 8), v68);
    v69 = _mm_mul_ps(v67, v60);
    _mm_storel_ps((double *)(a1 + 16), v69);
    _mm_storeh_ps((double *)(a1 + 24), v69);
    v70 = _mm_mul_ps(v67, v72);
    _mm_storel_ps((double *)(a1 + 32), v70);
    _mm_storeh_ps((double *)(a1 + 40), v70);
    v71 = _mm_mul_ps(v67, v61);
    _mm_storel_ps((double *)(a1 + 48), v71);
    _mm_storeh_ps((double *)(a1 + 56), v71);
  }
  return result;
}

//----- (0044231E) --------------------------------------------------------
__m128 *__stdcall sub_44231E(__m128 *a1, int a2, int a3, int a4)
{
  __int64 v4; // rt1@1
  __m128 v5; // xmm7@1
  __int64 v6; // rt1@1
  __m128 v7; // xmm0@1
  __int64 v8; // rt1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm2@1
  __m128 *result; // eax@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // ST00_16@1
  __m128 v16; // xmm4@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm1@1

  v4 = *(_QWORD *)a2;
  v5 = _mm_loadh_ps((const double *)(a2 + 8));
  v6 = *(_QWORD *)a3;
  v7 = _mm_loadh_ps((const double *)(a3 + 8));
  v8 = *(_QWORD *)a4;
  v9 = _mm_shuffle_ps(v7, v7, 57);
  v10 = _mm_loadh_ps((const double *)(a4 + 8));
  result = a1;
  v12 = _mm_mul_ps(v9, v10);
  v13 = _mm_shuffle_ps(v10, v10, 78);
  v14 = _mm_mul_ps(v9, v13);
  v15 = _mm_mul_ps(v9, _mm_shuffle_ps(v13, v13, 57));
  v16 = _mm_sub_ps(_mm_shuffle_ps(v14, v14, 57), _mm_shuffle_ps(v12, v12, 78));
  v17 = _mm_shuffle_ps(v12, v12, 57);
  v18 = _mm_shuffle_ps(v5, v5, 57);
  v19 = _mm_shuffle_ps(v18, v18, 57);
  *a1 = _mm_xor_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(v18, v16), _mm_mul_ps(v19, _mm_sub_ps(_mm_shuffle_ps(v15, v15, 78), v15))),
            _mm_mul_ps(_mm_shuffle_ps(v19, v19, 57), _mm_sub_ps(v14, v17))),
          (__m128)xmmword_4B4AF0);
  return result;
}
// 4B4AF0: using guessed type __int128 xmmword_4B4AF0;

//----- (004423DE) --------------------------------------------------------
int __stdcall sub_4423DE(int a1, int a2)
{
  float v2; // xmm1_4@1
  float v3; // xmm2_4@1
  float v4; // xmm3_4@1
  float v5; // xmm4_4@1
  float v6; // xmm6_4@1
  float v7; // xmm5_4@1

  v2 = *(float *)(a2 + 4);
  v3 = *(float *)(a2 + 8);
  v4 = *(float *)(a2 + 12);
  v5 = (float)((float)(*(float *)a2 * *(float *)a2) + (float)(v2 * v2)) + (float)((float)(v3 * v3) + (float)(v4 * v4));
  v6 = 1.0 / fsqrt(v5);
  v7 = (float)((float)(*(float *)&dword_4B4B10 - (float)(v5 * (float)(v6 * v6))) * *(float *)&dword_4B4B00) * v6;
  *(float *)a1 = *(float *)a2 * v7;
  *(float *)(a1 + 4) = v2 * v7;
  *(float *)(a1 + 8) = v3 * v7;
  *(float *)(a1 + 12) = v4 * v7;
  return a1;
}
// 4B4B00: using guessed type int dword_4B4B00;
// 4B4B10: using guessed type int dword_4B4B10;

//----- (00442478) --------------------------------------------------------
int __userpurge sub_442478@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  int v10; // et1@1
  int v11; // et1@1
  int v12; // et1@1
  int v13; // et1@1
  __m128 v14; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_4B4AD0), (__m128)xmmword_4B4AE0),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_4B4AC0)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_4B4AB0));
  v10 = *(_DWORD *)(a4 + 8);
  v11 = *(_DWORD *)(a5 + 8);
  v12 = *(_DWORD *)(a6 + 8);
  v13 = *(_DWORD *)(a7 + 8);
  v14 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps((const double *)a4), _mm_shuffle_ps(v9, v9, 0)),
              _mm_mul_ps(_mm_loadh_ps((const double *)a5), _mm_shuffle_ps(v9, v9, 85))),
            _mm_mul_ps(_mm_loadh_ps((const double *)a6), _mm_shuffle_ps(v9, v9, -86))),
          _mm_mul_ps(_mm_loadh_ps((const double *)a7), _mm_shuffle_ps(v9, v9, -1)));
  _mm_storeh_ps((double *)a3, v14);
  *(_DWORD *)(a3 + 8) = v14.m128_i32[0];
  return a3;
}
// 4B4AB0: using guessed type __int128 xmmword_4B4AB0;
// 4B4AC0: using guessed type __int128 xmmword_4B4AC0;
// 4B4AD0: using guessed type __int128 xmmword_4B4AD0;
// 4B4AE0: using guessed type __int128 xmmword_4B4AE0;

//----- (0044252A) --------------------------------------------------------
double *__userpurge sub_44252A@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, double *a3, __int64 *a4, const double *a5, __int64 *a6, const double *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __int64 v10; // rt1@1
  __int64 v11; // rt1@1
  __m128 v12; // xmm6@1
  __m128 v13; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_4B4AD0), (__m128)xmmword_4B4AE0),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_4B4AC0)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_4B4AB0));
  v10 = *a4;
  v11 = *a6;
  v12 = _mm_mul_ps(_mm_loadh_ps(a7), _mm_shuffle_ps(v9, v9, -6));
  v13 = _mm_add_ps(_mm_mul_ps(_mm_loadh_ps(a5), _mm_shuffle_ps(v9, v9, 80)), v12);
  _mm_storel_ps(a3, _mm_add_ps(v13, _mm_movehl_ps(v12, v13)));
  return a3;
}
// 4B4AB0: using guessed type __int128 xmmword_4B4AB0;
// 4B4AC0: using guessed type __int128 xmmword_4B4AC0;
// 4B4AD0: using guessed type __int128 xmmword_4B4AD0;
// 4B4AE0: using guessed type __int128 xmmword_4B4AE0;

//----- (004425AF) --------------------------------------------------------
__m128 *__userpurge sub_4425AF@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_add_ps(
         _mm_add_ps(
           _mm_add_ps(_mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_4B4AD0), (__m128)xmmword_4B4AE0),
           _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_4B4AC0)),
         _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_4B4AB0));
  *a3 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(*a4, _mm_shuffle_ps(v9, v9, 0)), _mm_mul_ps(*a5, _mm_shuffle_ps(v9, v9, 85))),
            _mm_mul_ps(*a6, _mm_shuffle_ps(v9, v9, -86))),
          _mm_mul_ps(*a7, _mm_shuffle_ps(v9, v9, -1)));
  return a3;
}
// 4B4AB0: using guessed type __int128 xmmword_4B4AB0;
// 4B4AC0: using guessed type __int128 xmmword_4B4AC0;
// 4B4AD0: using guessed type __int128 xmmword_4B4AD0;
// 4B4AE0: using guessed type __int128 xmmword_4B4AE0;

//----- (00442654) --------------------------------------------------------
int __userpurge sub_442654@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, int a3, int a4, int a5, int a6, int a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1
  int v11; // et1@1
  int v12; // et1@1
  int v13; // et1@1
  int v14; // et1@1
  __m128 v15; // xmm4@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_4B4A90);
  v9.m128_f32[0] = v9.m128_f32[0] + *(float *)&dword_4B4AA0;
  v10 = _mm_add_ps(
          _mm_add_ps(v9, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_4B4A80)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_4B4A70));
  v11 = *(_DWORD *)(a4 + 8);
  v12 = *(_DWORD *)(a5 + 8);
  v13 = *(_DWORD *)(a6 + 8);
  v14 = *(_DWORD *)(a7 + 8);
  v15 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_loadh_ps((const double *)a4), _mm_shuffle_ps(v10, v10, 0)),
              _mm_mul_ps(_mm_loadh_ps((const double *)a5), _mm_shuffle_ps(v10, v10, 85))),
            _mm_mul_ps(_mm_loadh_ps((const double *)a6), _mm_shuffle_ps(v10, v10, -86))),
          _mm_mul_ps(_mm_loadh_ps((const double *)a7), _mm_shuffle_ps(v10, v10, -1)));
  _mm_storeh_ps((double *)a3, v15);
  *(_DWORD *)(a3 + 8) = v15.m128_i32[0];
  return a3;
}
// 4B4A70: using guessed type __int128 xmmword_4B4A70;
// 4B4A80: using guessed type __int128 xmmword_4B4A80;
// 4B4A90: using guessed type __int128 xmmword_4B4A90;
// 4B4AA0: using guessed type int dword_4B4AA0;

//----- (00442707) --------------------------------------------------------
__m128 *__userpurge sub_442707@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 *a3, __m128 *a4, __m128 *a5, __m128 *a6, __m128 *a7, float a8)
{
  __m128 v8; // xmm0@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1

  v8 = (__m128)LODWORD(a8);
  a1.m128_f32[0] = v8.m128_f32[0] * v8.m128_f32[0];
  a2.m128_f32[0] = a8 * (float)(v8.m128_f32[0] * v8.m128_f32[0]);
  v9 = _mm_mul_ps(_mm_shuffle_ps(v8, v8, 0), (__m128)xmmword_4B4A90);
  v9.m128_f32[0] = v9.m128_f32[0] + *(float *)&dword_4B4AA0;
  v10 = _mm_add_ps(
          _mm_add_ps(v9, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_4B4A80)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_4B4A70));
  *a3 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(*a4, _mm_shuffle_ps(v10, v10, 0)), _mm_mul_ps(*a5, _mm_shuffle_ps(v10, v10, 85))),
            _mm_mul_ps(*a6, _mm_shuffle_ps(v10, v10, -86))),
          _mm_mul_ps(*a7, _mm_shuffle_ps(v10, v10, -1)));
  return a3;
}
// 4B4A70: using guessed type __int128 xmmword_4B4A70;
// 4B4A80: using guessed type __int128 xmmword_4B4A80;
// 4B4A90: using guessed type __int128 xmmword_4B4A90;
// 4B4AA0: using guessed type int dword_4B4AA0;

//----- (004427A1) --------------------------------------------------------
double *__userpurge sub_4427A1@<eax>(__m128 a1@<xmm1>, __m128 a2@<xmm2>, __m128 a3@<xmm3>, double *a4, __int64 *a5, const double *a6, __int64 *a7, const double *a8, float a9)
{
  __m128 v9; // xmm0@1
  __m128 v10; // xmm0@1
  __m128 v11; // xmm0@1
  __int64 v12; // rt1@1
  __int64 v13; // rt1@1
  __m128 v14; // xmm4@1

  v9 = (__m128)LODWORD(a9);
  a1.m128_f32[0] = v9.m128_f32[0] * v9.m128_f32[0];
  a2.m128_f32[0] = a9 * (float)(v9.m128_f32[0] * v9.m128_f32[0]);
  v10 = _mm_mul_ps(_mm_shuffle_ps(v9, v9, 0), (__m128)xmmword_4B4A90);
  v10.m128_f32[0] = v10.m128_f32[0] + *(float *)&dword_4B4AA0;
  v11 = _mm_add_ps(
          _mm_add_ps(v10, _mm_mul_ps(_mm_shuffle_ps(a1, a1, 0), (__m128)xmmword_4B4A80)),
          _mm_mul_ps(_mm_shuffle_ps(a2, a2, 0), (__m128)xmmword_4B4A70));
  v12 = *a5;
  v13 = *a7;
  v14 = _mm_add_ps(
          _mm_mul_ps(_mm_loadh_ps(a6), _mm_shuffle_ps(v11, v11, 80)),
          _mm_mul_ps(_mm_loadh_ps(a8), _mm_shuffle_ps(v11, v11, -6)));
  _mm_storel_ps(a4, _mm_add_ps(v14, _mm_movehl_ps(a3, v14)));
  return a4;
}
// 4B4A70: using guessed type __int128 xmmword_4B4A70;
// 4B4A80: using guessed type __int128 xmmword_4B4A80;
// 4B4A90: using guessed type __int128 xmmword_4B4A90;
// 4B4AA0: using guessed type int dword_4B4AA0;

//----- (00442827) --------------------------------------------------------
int __stdcall sub_442827(int a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // et1@1
  __m128 v7; // xmm2@1
  int v8; // et1@1
  int v9; // et1@1
  __m128 v10; // xmm3@1

  v6 = *(_DWORD *)(a2 + 8);
  v7 = _mm_loadh_ps((const double *)a2);
  v8 = *(_DWORD *)(a3 + 8);
  v9 = *(_DWORD *)(a4 + 8);
  v10 = _mm_add_ps(
          _mm_add_ps(
            _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps((const double *)a3), v7), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)),
            v7),
          _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps((const double *)a4), v7), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0)));
  *(_DWORD *)(a1 + 8) = v10.m128_i32[0];
  _mm_storeh_ps((double *)a1, v10);
  return a1;
}

//----- (00442884) --------------------------------------------------------
__m128 *__stdcall sub_442884(__m128 *a1, __m128 *a2, __m128 *a3, __m128 *a4, unsigned int a5, unsigned int a6)
{
  *a1 = _mm_add_ps(
          _mm_add_ps(_mm_mul_ps(_mm_sub_ps(*a3, *a2), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)), *a2),
          _mm_mul_ps(_mm_sub_ps(*a4, *a2), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0)));
  return a1;
}

//----- (004428CD) --------------------------------------------------------
double *__stdcall sub_4428CD(double *a1, const double *a2, const double *a3, const double *a4, unsigned int a5, unsigned int a6)
{
  __m128 v6; // xmm2@1

  v6 = _mm_loadh_ps(a2);
  _mm_storeh_ps(
    a1,
    _mm_add_ps(
      _mm_add_ps(_mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a3), v6), _mm_shuffle_ps((__m128)a5, (__m128)a5, 0)), v6),
      _mm_mul_ps(_mm_sub_ps(_mm_loadh_ps(a4), v6), _mm_shuffle_ps((__m128)a6, (__m128)a6, 0))));
  return a1;
}

//----- (0044291F) --------------------------------------------------------
int __userpurge sub_44291F@<eax>(__m128 a1@<xmm5>, __m128 a2@<xmm6>, int a3, __m128 *a4, int a5, int a6)
{
  __m128 v6; // xmm0@1
  int v7; // et1@1
  __m128 v8; // xmm1@1
  int v9; // et1@1
  __m128 v10; // xmm4@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm3@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm6@1
  __m128 v17; // xmm0@1
  float v18; // xmm5_4@1
  __m128 v19; // xmm3@1
  __m128 v20; // xmm1@2

  v6 = *a4;
  v7 = *(_DWORD *)(a5 + 8);
  v8 = _mm_loadh_ps((const double *)a5);
  v9 = *(_DWORD *)(a6 + 8);
  v10 = v6;
  v11 = _mm_shuffle_ps(v6, v6, 78);
  v12 = _mm_loadh_ps((const double *)a6);
  v13 = _mm_mul_ps(v8, v11);
  v14 = _mm_mul_ps(v11, v12);
  v15 = _mm_movehl_ps(a1, v13);
  v16 = _mm_movehl_ps(a2, v14);
  v19 = _mm_add_ps(v13, v15);
  v17 = _mm_add_ps(v14, v16);
  v19.m128_f32[0] = v19.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v15, v19, 85));
  v18 = v19.m128_f32[0] - (float)(v17.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v16, v17, 85)));
  v19.m128_f32[0] = v19.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v10, v10, -1));
  if ( v18 == *(float *)&dword_4C55DC )
  {
    a3 = 0;
  }
  else
  {
    v19.m128_f32[0] = v19.m128_f32[0]
                    * (float)((float)((float)(1.0 / v18) + (float)(1.0 / v18))
                            - (float)((float)(v18 * (float)(1.0 / v18)) * (float)(1.0 / v18)));
    v20 = _mm_add_ps(v8, _mm_mul_ps(_mm_shuffle_ps(v19, v19, 0), _mm_sub_ps(v12, v8)));
    _mm_storeh_ps((double *)a3, v20);
    *(_DWORD *)(a3 + 8) = v20.m128_i32[0];
  }
  return a3;
}
// 4C55DC: using guessed type int dword_4C55DC;

//----- (004429CD) --------------------------------------------------------
double __stdcall sub_4429CD(int a1)
{
  __m128 v1; // xmm7@2
  __m128 v2; // xmm2@2
  __m128 v3; // xmm0@2
  __int64 v4; // rt1@3
  __int64 v5; // rt1@3
  __int64 v6; // rt1@3
  __int64 v7; // rt1@3
  __m128 v8; // xmm0@4
  __m128 v9; // xmm1@4
  __m128 v10; // xmm2@4
  __m128 v11; // xmm3@4
  __m128 v12; // xmm4@4
  __m128 v13; // xmm5@4
  __m128 v14; // xmm0@4
  __m128 v15; // xmm1@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm0@4
  __m128 v20; // [sp+10h] [bp-20h]@2
  __m128 v21; // [sp+20h] [bp-10h]@4

  if ( a1 & 0xF )
  {
    v4 = *(_QWORD *)a1;
    v5 = *(_QWORD *)(a1 + 16);
    v1 = _mm_loadh_ps((const double *)(a1 + 24));
    v20 = _mm_loadh_ps((const double *)(a1 + 8));
    v6 = *(_QWORD *)(a1 + 32);
    v3 = _mm_loadh_ps((const double *)(a1 + 40));
    v7 = *(_QWORD *)(a1 + 48);
    v2 = _mm_loadh_ps((const double *)(a1 + 56));
  }
  else
  {
    v1 = *(__m128 *)(a1 + 16);
    v2 = *(__m128 *)(a1 + 48);
    v20 = *(__m128 *)a1;
    v3 = *(__m128 *)(a1 + 32);
  }
  v8 = _mm_shuffle_ps(v3, v3, 57);
  v9 = _mm_mul_ps(v8, v2);
  v10 = _mm_shuffle_ps(v2, v2, 78);
  v11 = _mm_mul_ps(v8, v10);
  v21 = _mm_mul_ps(v8, _mm_shuffle_ps(v10, v10, 57));
  v12 = _mm_sub_ps(_mm_shuffle_ps(v11, v11, 57), _mm_shuffle_ps(v9, v9, 78));
  v13 = _mm_shuffle_ps(v9, v9, 57);
  v14 = _mm_shuffle_ps(v1, v1, 57);
  v15 = _mm_shuffle_ps(v14, v14, 57);
  v16 = _mm_mul_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(v14, v12), _mm_mul_ps(v15, _mm_sub_ps(_mm_shuffle_ps(v21, v21, 78), v21))),
            _mm_mul_ps(_mm_shuffle_ps(v15, v15, 57), _mm_sub_ps(v11, v13))),
          v20);
  v17 = _mm_add_ps(v16, _mm_movehl_ps(v16, v16));
  return (float)(v17.m128_f32[0] - COERCE_FLOAT(_mm_shuffle_ps(v17, v17, 1)));
}

//----- (00442AD8) --------------------------------------------------------
__m128 *__stdcall sub_442AD8(__m128 *a1, int a2, int a3, int a4)
{
  int v4; // et1@1
  __m128 v5; // xmm2@1
  int v6; // et1@1
  __m128 v7; // xmm0@1
  int v8; // et1@1
  __m128 *result; // eax@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm1@1
  float v14; // xmm3_4@1
  float v15; // xmm5_4@1
  __int128 v16; // xmm4@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm0@1

  v4 = *(_DWORD *)(a2 + 8);
  v5 = _mm_loadh_ps((const double *)a2);
  v6 = *(_DWORD *)(a3 + 8);
  v7 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a3));
  v8 = *(_DWORD *)(a4 + 8);
  result = a1;
  v10 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a4));
  v11 = _mm_sub_ps(
          _mm_mul_ps(_mm_shuffle_ps(v10, v10, 120), _mm_shuffle_ps(v7, v7, 99)),
          _mm_mul_ps(_mm_shuffle_ps(v7, v7, 120), _mm_shuffle_ps(v10, v10, 99)));
  v12 = _mm_mul_ps(v11, v11);
  v13 = _mm_add_ps(v12, _mm_movehl_ps(v12, v12));
  v13.m128_f32[0] = v13.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v13, v13, 1));
  v14 = 1.0 / fsqrt(v13.m128_f32[0]);
  v15 = *(float *)&xmmword_4B4B40 - (float)((float)(v13.m128_f32[0] * v14) * v14);
  v16 = xmmword_4B4B30;
  *(float *)&v16 = *(float *)&xmmword_4B4B30 * v14;
  v17 = (__m128)v16;
  v17.m128_f32[0] = *(float *)&v16 * v15;
  v18 = _mm_mul_ps(v11, _mm_shuffle_ps(v17, v17, 0));
  *a1 = v18;
  v19 = _mm_mul_ps(v18, _mm_shuffle_ps(v5, v5, 14));
  v19.m128_f32[0] = v19.m128_f32[0]
                  + (float)(COERCE_FLOAT(_mm_movehl_ps(v13, v19)) + COERCE_FLOAT(_mm_shuffle_ps(v19, v19, 85)));
  a1->m128_i32[3] = (unsigned __int128)_mm_xor_ps(v19, (__m128)xmmword_4B4B20);
  return result;
}
// 4B4B20: using guessed type __int128 xmmword_4B4B20;
// 4B4B30: using guessed type __int128 xmmword_4B4B30;
// 4B4B40: using guessed type __int128 xmmword_4B4B40;

//----- (00442BD8) --------------------------------------------------------
int __stdcall sub_442BD8(int a1, int a2)
{
  __int64 v2; // rt1@1
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  float v7; // xmm2_4@1
  float v8; // xmm3_4@1
  __m128 v9; // xmm0@1
  int result; // eax@1
  __m128 v11; // xmm1@1
  __m128 v12; // xmm0@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm4@1

  v2 = *(_QWORD *)(a2 + 8);
  v3 = _mm_loadl_ps((const double *)a2);
  v4 = _mm_and_ps(v3, (__m128)xmmword_4B4BC0);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v6, v6, 1));
  v7 = 1.0 / fsqrt(v6.m128_f32[0]);
  v8 = unk_4B4BB0 - (float)((float)(v6.m128_f32[0] * v7) * v7);
  v9 = (__m128)dword_4B4BA0[0];
  result = a1;
  v9.m128_f32[0] = (float)(*(float *)dword_4B4BA0 * v7) * v8;
  v11 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  v12 = _mm_mul_ps((__m128)xmmword_4B4B80, v11);
  v13 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 85)), (__m128)xmmword_4B4B90);
  v14 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -86)), (__m128)xmmword_4B4B70);
  v15 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -1)), (__m128)xmmword_4B4B60);
  *(__m128 *)a1 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 0)), (__m128)xmmword_4B4B50);
  *(__m128 *)(a1 + 16) = v13;
  *(__m128 *)(a1 + 32) = v14;
  *(__m128 *)(a1 + 48) = v15;
  return result;
}
// 4B4B50: using guessed type __int128 xmmword_4B4B50;
// 4B4B60: using guessed type __int128 xmmword_4B4B60;
// 4B4B70: using guessed type __int128 xmmword_4B4B70;
// 4B4B80: using guessed type __int128 xmmword_4B4B80;
// 4B4B90: using guessed type __int128 xmmword_4B4B90;
// 4B4BC0: using guessed type __int128 xmmword_4B4BC0;

//----- (00442CE4) --------------------------------------------------------
int __stdcall sub_442CE4(int a1, int a2, int a3)
{
  __m128 v3; // xmm1@2
  __m128 v4; // xmm2@2
  __m128 v5; // xmm3@2
  __m128 v6; // xmm0@2
  __m128 v7; // xmm0@3
  __int64 v8; // rt1@3
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  int result; // eax@4
  __m128 v12; // xmm0@4

  if ( a3 & 0xF )
  {
    v7 = _mm_loadl_ps((const double *)a2);
    v8 = *(_QWORD *)(a3 + 32);
    v4 = _mm_mul_ps(
           _mm_loadh_ps((const double *)(a3 + 40)),
           _mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0));
    v9 = *(_QWORD *)(a3 + 16);
    v5 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v7, v7, 85));
    v10 = *(_QWORD *)a3;
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 8)), _mm_shuffle_ps(v7, v7, 0));
  }
  else
  {
    v3 = _mm_loadl_ps((const double *)a2);
    v4 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), *(__m128 *)(a3 + 32));
    v5 = _mm_mul_ps(_mm_shuffle_ps(v3, v3, 85), *(__m128 *)(a3 + 16));
    v6 = _mm_mul_ps(_mm_shuffle_ps(v3, v3, 0), *(__m128 *)a3);
  }
  result = a1;
  v12 = _mm_add_ps(_mm_add_ps(v6, v5), v4);
  _mm_storel_ps((double *)a1, v12);
  *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v12, v12);
  return result;
}

//----- (00442DB9) --------------------------------------------------------
int __stdcall sub_442DB9(int a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  unsigned int v4; // ecx@1
  __m128 v5; // xmm3@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm1@2
  __m128 v8; // xmm0@2
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  __int64 v11; // rt1@3
  __int64 v12; // rt1@3
  int result; // eax@4
  __m128 v14; // xmm0@4
  __m128 v15; // xmm1@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm0@4

  v3 = _mm_loadl_ps((const double *)a2);
  v4 = *(_DWORD *)(a2 + 8);
  if ( a3 & 0xF )
  {
    v9 = *(_QWORD *)(a3 + 48);
    v10 = *(_QWORD *)(a3 + 32);
    v5 = _mm_add_ps(
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)),
           _mm_loadh_ps((const double *)(a3 + 56)));
    v11 = *(_QWORD *)(a3 + 16);
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v12 = *(_QWORD *)a3;
    v8 = _mm_loadh_ps((const double *)(a3 + 8));
  }
  else
  {
    v5 = _mm_add_ps(_mm_mul_ps(*(__m128 *)(a3 + 32), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)), *(__m128 *)(a3 + 48));
    v6 = _mm_mul_ps(*(__m128 *)(a3 + 16), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v8 = *(__m128 *)a3;
  }
  result = a1;
  v14 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v8, v7), v6), v5);
  v15 = _mm_rcp_ps(v14);
  v16 = _mm_sub_ps(_mm_add_ps(v15, v15), _mm_mul_ps(_mm_mul_ps(v15, v14), v15));
  v17 = _mm_mul_ps(v14, _mm_shuffle_ps(v16, v16, -1));
  _mm_storel_ps((double *)a1, v17);
  *(_DWORD *)(a1 + 8) = (unsigned __int128)_mm_movehl_ps(v17, v17);
  return result;
}

//----- (00442EBC) --------------------------------------------------------
int __stdcall sub_442EBC(int a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm4@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm3@1
  signed int v7; // edx@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm2@5
  float v10; // xmm0_4@8
  float v11; // ST10_4@10
  int result; // eax@11
  __m128 v13; // xmm0@11
  __m128 v14; // xmm0@11
  __m128 v15; // xmm1@11
  __m128 v16; // xmm0@11
  __m128 v17; // xmm4@11
  __m128 v18; // xmm5@11
  __m128 v19; // xmm3@11
  __m128 v20; // xmm2@11
  __m128 v21; // [sp+10h] [bp-10h]@0

  v3 = *a3;
  v4 = _mm_and_ps(*a3, (__m128)xmmword_4B4C10);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v21, v5));
  v8 = _mm_shuffle_ps(v6, v6, 1);
  v7 = 0;
  v8.m128_f32[0] = v8.m128_f32[0] + v6.m128_f32[0];
  if ( v8.m128_f32[0] == COERCE_FLOAT(_mm_xor_ps(v21, v21)) )
    v7 = 1;
  if ( v7 != 1 )
  {
    if ( dword_4C5600 & 1 )
    {
      v9 = (__m128)xmmword_4C55F0;
    }
    else
    {
      dword_4C5600 |= 1u;
      v9 = (__m128)1056964608i64;
      xmmword_4C55F0 = 1056964608i64;
    }
    if ( dword_4C5600 & 2 )
    {
      v10 = *(float *)&xmmword_4C55E0;
    }
    else
    {
      dword_4C5600 |= 2u;
      v10 = 3.0;
      xmmword_4C55E0 = 1077936128i64;
    }
    v11 = 1.0 / fsqrt(v8.m128_f32[0]);
    v9.m128_f32[0] = (float)(v9.m128_f32[0] * v11) * (float)(v10 - (float)((float)(v8.m128_f32[0] * v11) * v11));
    v8 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  }
  result = a1;
  v13 = _mm_mul_ps(v8, *a2);
  v14 = _mm_add_ps(v13, _mm_movehl_ps(v6, v13));
  v14.m128_f32[0] = v14.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v14, v14, 1));
  v15 = _mm_xor_ps(v8, (__m128)xmmword_4B4BD0);
  v16 = _mm_shuffle_ps(v14, v14, 0);
  v19 = _mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 0));
  v17 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 85)), _mm_and_ps(v16, (__m128)xmmword_4B4BE0));
  v18 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -86)), _mm_and_ps(v16, (__m128)xmmword_4B4BF0));
  v19.m128_f32[0] = v19.m128_f32[0] + v16.m128_f32[0];
  v20 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -1)), _mm_and_ps(v16, (__m128)xmmword_4B4C00));
  if ( a1 & 0xF )
  {
    _mm_storel_ps((double *)a1, v19);
    _mm_storeh_ps((double *)(a1 + 8), v19);
    _mm_storel_ps((double *)(a1 + 16), v17);
    _mm_storeh_ps((double *)(a1 + 24), v17);
    _mm_storel_ps((double *)(a1 + 32), v18);
    _mm_storeh_ps((double *)(a1 + 40), v18);
    _mm_storel_ps((double *)(a1 + 48), v20);
    _mm_storeh_ps((double *)(a1 + 56), v20);
  }
  else
  {
    *(__m128 *)a1 = v19;
    *(__m128 *)(a1 + 16) = v17;
    *(__m128 *)(a1 + 32) = v18;
    *(__m128 *)(a1 + 48) = v20;
  }
  return result;
}
// 4B4BD0: using guessed type __int128 xmmword_4B4BD0;
// 4B4BE0: using guessed type __int128 xmmword_4B4BE0;
// 4B4BF0: using guessed type __int128 xmmword_4B4BF0;
// 4B4C00: using guessed type __int128 xmmword_4B4C00;
// 4B4C10: using guessed type __int128 xmmword_4B4C10;
// 4C55E0: using guessed type __int128 xmmword_4C55E0;
// 4C55F0: using guessed type __int128 xmmword_4C55F0;
// 4C5600: using guessed type int dword_4C5600;

//----- (00443083) --------------------------------------------------------
int __stdcall sub_443083(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm5@4
  __m128 v21; // xmm6@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  __m128 v26; // xmm2@4
  __m128 v27; // xmm3@4
  unsigned int v29; // [sp+14h] [bp-11Ch]@3
  int v30; // [sp+14h] [bp-11Ch]@8
  int v31; // [sp+1Ch] [bp-114h]@1
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+60h] [bp-D0h]@4
  __m128 v36; // [sp+70h] [bp-C0h]@4
  __m128 v37; // [sp+80h] [bp-B0h]@4
  __m128 v38; // [sp+90h] [bp-A0h]@4
  __m128 v39; // [sp+A0h] [bp-90h]@4
  __m128 v40; // [sp+B0h] [bp-80h]@4
  __m128 v41; // [sp+C0h] [bp-70h]@4
  __m128 v42; // [sp+D0h] [bp-60h]@4
  __m128 v43; // [sp+E0h] [bp-50h]@4
  __m128 v44; // [sp+F0h] [bp-40h]@4
  __m128 v45; // [sp+100h] [bp-30h]@4
  __m128 v46; // [sp+110h] [bp-20h]@4
  __m128 v47; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v31 = v8;
  if ( v9 && (sub_44083D((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v29 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v32), _mm_mul_ps(v17, v36)), _mm_mul_ps(v18, v40)), v44);
      v20 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v33), _mm_mul_ps(v17, v37)), _mm_mul_ps(v18, v41)), v45);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v34), _mm_mul_ps(v17, v38)), _mm_mul_ps(v18, v42));
      v22 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v35), _mm_mul_ps(v17, v39)), _mm_mul_ps(v18, v43)), v47);
      v23 = _mm_add_ps(v21, v46);
      v24 = _mm_unpacklo_ps(v19, v20);
      _mm_storel_ps((double *)v6, v24);
      v25 = _mm_unpacklo_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 128), v25);
      _mm_storeh_ps((double *)(v6 + a2), v24);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v25);
      v26 = _mm_unpackhi_ps(v19, v20);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      v27 = _mm_unpackhi_ps(v23, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v27);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v27);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v29;
    }
    while ( v29 );
  }
  else
  {
    v11 = a3;
  }
  if ( v31 )
  {
    v30 = v31;
    do
    {
      sub_44415B((__m128 *)v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v30;
    }
    while ( v30 );
  }
  return a1;
}

//----- (00443289) --------------------------------------------------------
int __stdcall sub_443289(int a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  int v6; // esi@1
  unsigned int v7; // ebx@1
  int v8; // eax@1
  unsigned int v9; // ebx@1
  char *v10; // ebx@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm3@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm4@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm5@4
  __m128 v22; // xmm0@4
  __m128 v23; // xmm3@4
  __m128 v24; // xmm1@4
  __m128 v25; // xmm2@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+50h] [bp-E0h]@4
  __m128 v33; // [sp+60h] [bp-D0h]@4
  __m128 v34; // [sp+70h] [bp-C0h]@4
  __m128 v35; // [sp+80h] [bp-B0h]@4
  __m128 v36; // [sp+90h] [bp-A0h]@4
  __m128 v37; // [sp+A0h] [bp-90h]@4
  __m128 v38; // [sp+F0h] [bp-40h]@4
  __m128 v39; // [sp+100h] [bp-30h]@4
  __m128 v40; // [sp+110h] [bp-20h]@4
  __m128 v41; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_44083D((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v16;
      v18 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v30), _mm_mul_ps(v16, v34)), v38);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v31), _mm_mul_ps(v17, v35)), v39);
      v20 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v32), _mm_mul_ps(v17, v36)), v40);
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v33), _mm_mul_ps(v17, v37)), v41);
      v22 = _mm_unpacklo_ps(v18, v19);
      _mm_storel_ps((double *)v6, v22);
      v23 = _mm_unpacklo_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 128), v23);
      _mm_storeh_ps((double *)(v6 + a2), v22);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v23);
      v24 = _mm_unpackhi_ps(v18, v19);
      _mm_storel_ps((double *)(v6 + 2 * a2), v24);
      v25 = _mm_unpackhi_ps(v20, v21);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v25);
      _mm_storeh_ps((double *)(3 * a2 + v6), v24);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v25);
      v10 += 4 * a4;
      v6 += 4 * a2;
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_42AA74(v6, v10, a5);
      v10 += a4;
      v6 += a2;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 42AA74: using guessed type int __stdcall sub_42AA74(_DWORD, _DWORD, _DWORD);

//----- (00443417) --------------------------------------------------------
double *__stdcall sub_443417(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __m128 v13; // xmm0@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm4@4
  __m128 v16; // xmm1@4
  __m128 v17; // xmm2@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm1@4
  __m128 v23; // xmm2@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm1@4
  unsigned int v27; // [sp+14h] [bp-11Ch]@3
  int v28; // [sp+14h] [bp-11Ch]@8
  int v29; // [sp+1Ch] [bp-114h]@1
  __m128 v30; // [sp+30h] [bp-100h]@2
  __m128 v31; // [sp+40h] [bp-F0h]@4
  __m128 v32; // [sp+60h] [bp-D0h]@4
  __m128 v33; // [sp+70h] [bp-C0h]@4
  __m128 v34; // [sp+80h] [bp-B0h]@4
  __m128 v35; // [sp+A0h] [bp-90h]@4
  __m128 v36; // [sp+F0h] [bp-40h]@4
  __m128 v37; // [sp+100h] [bp-30h]@4
  __m128 v38; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v29 = v8;
  if ( v9 && (sub_44083D((int)&v30, a5), v9) )
  {
    v27 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = v12;
      v14 = *(_QWORD *)&v10[2 * a4];
      v15 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v16 = _mm_shuffle_ps(v12, v15, -35);
      v17 = v16;
      v18 = _mm_shuffle_ps(v13, v15, -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v32), _mm_mul_ps(v16, v35)), v38);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v30), _mm_mul_ps(v17, v33)), v36), v21);
      v23 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v18, v31), _mm_mul_ps(v17, v34)), v37), v21);
      v24 = _mm_unpacklo_ps(v22, v23);
      _mm_storel_ps(v6, v24);
      _mm_storeh_ps((double *)((char *)v6 + a2), v24);
      v25 = _mm_unpackhi_ps(v22, v23);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v25);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v25);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v27;
    }
    while ( v27 );
  }
  else
  {
    v10 = a3;
  }
  if ( v29 )
  {
    v28 = v29;
    do
    {
      sub_42AA98(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v28;
    }
    while ( v28 );
  }
  return a1;
}
// 42AA98: using guessed type int __stdcall sub_42AA98(_DWORD, _DWORD, _DWORD);

//----- (0044357D) --------------------------------------------------------
double *__stdcall sub_44357D(double *a1, int a2, char *a3, int a4, int a5, unsigned int a6)
{
  double *v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  char *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm1@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm3@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm1@4
  __m128 v18; // xmm0@4
  __m128 v19; // xmm1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm1@4
  unsigned int v23; // [sp+14h] [bp-11Ch]@3
  int v24; // [sp+14h] [bp-11Ch]@8
  int v25; // [sp+1Ch] [bp-114h]@1
  __m128 v26; // [sp+30h] [bp-100h]@2
  __m128 v27; // [sp+40h] [bp-F0h]@4
  __m128 v28; // [sp+70h] [bp-C0h]@4
  __m128 v29; // [sp+80h] [bp-B0h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v25 = v8;
  if ( v9 && (sub_44083D((int)&v26, a5), v9) )
  {
    v23 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)v10;
      v12 = _mm_loadh_ps((const double *)&v10[a4]);
      v13 = *(_QWORD *)&v10[2 * a4];
      v14 = _mm_loadh_ps((const double *)&v10[3 * a4]);
      v15 = _mm_shuffle_ps(v12, v14, -35);
      v16 = _mm_shuffle_ps(v12, v14, -120);
      v17 = _mm_mul_ps(v16, v26);
      v18 = _mm_add_ps(_mm_mul_ps(v16, v27), _mm_mul_ps(v15, v29));
      v19 = _mm_add_ps(v17, _mm_mul_ps(v15, v28));
      v20 = _mm_unpacklo_ps(v19, v18);
      _mm_storel_ps(v6, v20);
      _mm_storeh_ps((double *)((char *)v6 + a2), v20);
      v21 = _mm_unpackhi_ps(v19, v18);
      _mm_storel_ps((double *)((char *)v6 + 2 * a2), v21);
      _mm_storeh_ps((double *)((char *)v6 + 3 * a2), v21);
      v10 += 4 * a4;
      v6 = (double *)((char *)v6 + 4 * a2);
      --v23;
    }
    while ( v23 );
  }
  else
  {
    v10 = a3;
  }
  if ( v25 )
  {
    v24 = v25;
    do
    {
      sub_42AABC(v6, v10, a5);
      v6 = (double *)((char *)v6 + a2);
      v10 += a4;
      --v24;
    }
    while ( v24 );
  }
  return a1;
}
// 42AABC: using guessed type int __stdcall sub_42AABC(_DWORD, _DWORD, _DWORD);

//----- (0044368D) --------------------------------------------------------
int __stdcall sub_44368D(int a1, int a2, __m128 *a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  __m128 *v10; // esi@3
  __int64 v11; // rt1@4
  __m128 v12; // xmm3@4
  __int64 v13; // rt1@4
  __m128 v14; // xmm2@4
  __m128 v15; // xmm0@4
  __m128 v16; // xmm1@4
  unsigned __int64 v17; // rt1@4
  __m128 v18; // xmm3@4
  __int64 v19; // rt1@4
  __m128 v20; // xmm2@4
  __m128 v21; // xmm4@4
  __m128 v22; // xmm3@4
  __m128 v23; // xmm2@4
  __m128 v24; // ST2C_16@4
  __m128 v25; // xmm3@4
  __m128 v26; // ST3C_16@4
  __m128 v27; // xmm4@4
  __m128 v28; // xmm2@4
  __m128 v29; // xmm0@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm3@4
  __m128 v32; // xmm1@4
  __m128 v33; // xmm4@4
  unsigned int v35; // [sp+14h] [bp-12Ch]@3
  int v36; // [sp+14h] [bp-12Ch]@8
  int v37; // [sp+1Ch] [bp-124h]@1
  __m128 v38; // [sp+40h] [bp-100h]@2
  __m128 v39; // [sp+50h] [bp-F0h]@4
  __m128 v40; // [sp+60h] [bp-E0h]@4
  __m128 v41; // [sp+70h] [bp-D0h]@4
  __m128 v42; // [sp+80h] [bp-C0h]@4
  __m128 v43; // [sp+90h] [bp-B0h]@4
  __m128 v44; // [sp+A0h] [bp-A0h]@4
  __m128 v45; // [sp+B0h] [bp-90h]@4
  __m128 v46; // [sp+C0h] [bp-80h]@4
  __m128 v47; // [sp+D0h] [bp-70h]@4
  __m128 v48; // [sp+E0h] [bp-60h]@4
  __m128 v49; // [sp+F0h] [bp-50h]@4
  __m128 v50; // [sp+100h] [bp-40h]@4
  __m128 v51; // [sp+110h] [bp-30h]@4
  __m128 v52; // [sp+120h] [bp-20h]@4
  __m128 v53; // [sp+130h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v37 = v8;
  if ( v9 && (sub_44083D((int)&v38, a5), v9) )
  {
    v35 = v9;
    v10 = a3;
    do
    {
      v11 = *(_QWORD *)&v10->m128_i32[0];
      v12 = _mm_loadh_ps((const double *)((char *)v10 + a4));
      v13 = *(_QWORD *)((char *)v10->m128_i32 + 2 * a4);
      v14 = _mm_loadh_ps((const double *)((char *)v10 + 3 * a4));
      v15 = _mm_shuffle_ps(v12, v14, -120);
      v16 = _mm_shuffle_ps(v12, v14, -35);
      v17 = v10[8].m128_u64[0];
      v18 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + a4));
      v19 = *(_QWORD *)((char *)&v10->m128_i32[2] + 2 * a4);
      v20 = v18;
      v21 = _mm_loadh_ps((const double *)((char *)&v10->m128_i32[2] + 3 * a4));
      v22 = _mm_shuffle_ps(v18, v21, -35);
      v23 = _mm_shuffle_ps(v20, v21, -120);
      v24 = v22;
      v25 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v38), _mm_mul_ps(v16, v42)), _mm_mul_ps(v23, v46)),
              _mm_mul_ps(v22, v50));
      v26 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v39), _mm_mul_ps(v16, v43)), _mm_mul_ps(v23, v47)),
              _mm_mul_ps(v24, v51));
      v27 = _mm_add_ps(
              _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v40), _mm_mul_ps(v16, v44)), _mm_mul_ps(v23, v48)),
              _mm_mul_ps(v24, v52));
      v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v15, v41), _mm_mul_ps(v16, v45)), _mm_mul_ps(v23, v49));
      v29 = _mm_unpacklo_ps(v25, v26);
      v30 = _mm_add_ps(v28, _mm_mul_ps(v24, v53));
      v31 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)v6, v29);
      v32 = _mm_unpacklo_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 128), v32);
      _mm_storeh_ps((double *)(v6 + a2), v29);
      _mm_storeh_ps((double *)(a2 + v6 + 8), v32);
      _mm_storel_ps((double *)(v6 + 2 * a2), v31);
      v33 = _mm_unpackhi_ps(v27, v30);
      _mm_storel_ps((double *)(v6 + 2 * a2 + 8), v33);
      _mm_storeh_ps((double *)(3 * a2 + v6), v31);
      _mm_storeh_ps((double *)(3 * a2 + v6 + 8), v33);
      v10 = (__m128 *)((char *)v10 + 4 * a4);
      v6 += 4 * a2;
      --v35;
    }
    while ( v35 );
  }
  else
  {
    v10 = a3;
  }
  if ( v37 )
  {
    v36 = v37;
    do
    {
      sub_441E22((__m128 *)v6, v10, a5);
      v6 += a2;
      v10 = (__m128 *)((char *)v10 + a4);
      --v36;
    }
    while ( v36 );
  }
  return a1;
}

//----- (004438CB) --------------------------------------------------------
int __stdcall sub_4438CB(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm3@4
  __m128 v17; // xmm0@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm6@4
  __m128 v21; // xmm0@4
  __m128 v22; // xmm4@4
  __m128 v23; // xmm1@4
  __m128 v24; // xmm3@4
  __m128 v25; // xmm0@4
  __m128 v26; // xmm2@4
  unsigned int v28; // [sp+14h] [bp-11Ch]@3
  int v29; // [sp+14h] [bp-11Ch]@8
  int v30; // [sp+1Ch] [bp-114h]@1
  __m128 v31; // [sp+20h] [bp-110h]@0
  __m128 v32; // [sp+30h] [bp-100h]@2
  __m128 v33; // [sp+40h] [bp-F0h]@4
  __m128 v34; // [sp+50h] [bp-E0h]@4
  __m128 v35; // [sp+70h] [bp-C0h]@4
  __m128 v36; // [sp+80h] [bp-B0h]@4
  __m128 v37; // [sp+90h] [bp-A0h]@4
  __m128 v38; // [sp+B0h] [bp-80h]@4
  __m128 v39; // [sp+C0h] [bp-70h]@4
  __m128 v40; // [sp+D0h] [bp-60h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v30 = v8;
  if ( v9 && (sub_44083D((int)&v32, a5), v10 = 3 * a4, v9) )
  {
    v28 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -35);
      v17 = _mm_shuffle_ps(v13, v15, -120);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v32), _mm_mul_ps(v16, v35)), _mm_mul_ps(v18, v38));
      v20 = v17;
      v21 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v17, v34), _mm_mul_ps(v16, v37)), _mm_mul_ps(v18, v40));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v33), _mm_mul_ps(v16, v36)), _mm_mul_ps(v18, v39));
      v23 = _mm_unpacklo_ps(v19, v22);
      _mm_storel_ps((double *)v6, v23);
      _mm_storeh_ps((double *)(v6 + a2), v23);
      v24 = _mm_unpacklo_ps(v21, v31);
      v25 = _mm_unpackhi_ps(v21, v31);
      *(_DWORD *)(v6 + 96) = v24.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v24, v24);
      v26 = _mm_unpackhi_ps(v19, v22);
      _mm_storel_ps((double *)(v6 + 2 * a2), v26);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v26);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v25.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v25, v25);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v28;
    }
    while ( v28 );
  }
  else
  {
    v11 = a3;
  }
  if ( v30 )
  {
    v29 = v30;
    do
    {
      sub_442CE4(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v29;
    }
    while ( v29 );
  }
  return a1;
}

//----- (00443A9B) --------------------------------------------------------
int __stdcall sub_443A9B(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  int v6; // edi@1
  unsigned int v7; // esi@1
  int v8; // eax@1
  unsigned int v9; // esi@1
  int v10; // ecx@2
  int v11; // esi@3
  __int64 v12; // rt1@4
  __m128 v13; // xmm1@4
  __int64 v14; // rt1@4
  __m128 v15; // xmm2@4
  __m128 v16; // xmm0@4
  __m128 v17; // xmm4@4
  __m128 v18; // xmm1@4
  __m128 v19; // xmm2@4
  __m128 v20; // xmm3@4
  __m128 v21; // xmm3@4
  __m128 v22; // xmm6@4
  __m128 v23; // xmm7@4
  __m128 v24; // xmm0@4
  __m128 v25; // xmm2@4
  __m128 v26; // xmm5@4
  __m128 v27; // xmm1@4
  __m128 v28; // xmm0@4
  __m128 v29; // xmm4@4
  __m128 v30; // xmm2@4
  __m128 v31; // xmm0@4
  unsigned int v33; // [sp+14h] [bp-11Ch]@3
  int v34; // [sp+14h] [bp-11Ch]@8
  int v35; // [sp+1Ch] [bp-114h]@1
  __m128 v36; // [sp+30h] [bp-100h]@2
  __m128 v37; // [sp+40h] [bp-F0h]@4
  __m128 v38; // [sp+50h] [bp-E0h]@4
  __m128 v39; // [sp+60h] [bp-D0h]@4
  __m128 v40; // [sp+70h] [bp-C0h]@4
  __m128 v41; // [sp+80h] [bp-B0h]@4
  __m128 v42; // [sp+90h] [bp-A0h]@4
  __m128 v43; // [sp+A0h] [bp-90h]@4
  __m128 v44; // [sp+B0h] [bp-80h]@4
  __m128 v45; // [sp+C0h] [bp-70h]@4
  __m128 v46; // [sp+D0h] [bp-60h]@4
  __m128 v47; // [sp+E0h] [bp-50h]@4
  __m128 v48; // [sp+F0h] [bp-40h]@4
  __m128 v49; // [sp+100h] [bp-30h]@4
  __m128 v50; // [sp+110h] [bp-20h]@4
  __m128 v51; // [sp+120h] [bp-10h]@4

  v6 = a1;
  v7 = a6 > 0xA ? a6 & 0xFFFFFFFC : 0;
  v8 = a6 - v7;
  v9 = v7 >> 2;
  v35 = v8;
  if ( v9 && (sub_44083D((int)&v36, a5), v10 = 3 * a4, v9) )
  {
    v33 = v9;
    v11 = a3;
    do
    {
      v12 = *(_QWORD *)v11;
      v13 = _mm_loadh_ps((const double *)(v11 + a4));
      v14 = *(_QWORD *)(v11 + 2 * a4);
      v15 = _mm_loadh_ps((const double *)(v11 + v10));
      v16 = _mm_shuffle_ps(v13, v15, -120);
      v17 = _mm_shuffle_ps(v13, v15, -35);
      v10 = 3 * a4;
      v18 = _mm_shuffle_ps(
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 96), (__m128)*(_DWORD *)(a4 + v11 + 8)),
              _mm_movelh_ps((__m128)*(_DWORD *)(v11 + 2 * a4 + 8), (__m128)*(_DWORD *)(3 * a4 + v11 + 8)),
              -120);
      v19 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v39), _mm_mul_ps(v17, v43)), _mm_mul_ps(v18, v47)), v51);
      v20 = _mm_rcp_ps(v19);
      v21 = _mm_sub_ps(_mm_add_ps(v20, v20), _mm_mul_ps(_mm_mul_ps(v20, v19), v20));
      v22 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v36), _mm_mul_ps(v17, v40)), _mm_mul_ps(v18, v44));
      v23 = _mm_mul_ps(v16, v37);
      v24 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v16, v38), _mm_mul_ps(v17, v42)), _mm_mul_ps(v18, v46)), v50);
      v25 = _mm_mul_ps(_mm_add_ps(v22, v48), v21);
      v26 = _mm_mul_ps(_mm_add_ps(_mm_add_ps(_mm_add_ps(v23, _mm_mul_ps(v17, v41)), _mm_mul_ps(v18, v45)), v49), v21);
      v27 = _mm_unpacklo_ps(v25, v26);
      v28 = _mm_mul_ps(v24, v21);
      _mm_storel_ps((double *)v6, v27);
      v29 = _mm_unpacklo_ps(v28, v21);
      _mm_storeh_ps((double *)(v6 + a2), v27);
      *(_DWORD *)(v6 + 96) = v29.m128_i32[0];
      *(_DWORD *)(a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v29, v29);
      v30 = _mm_unpackhi_ps(v25, v26);
      _mm_storel_ps((double *)(v6 + 2 * a2), v30);
      _mm_storeh_ps((double *)(v6 + 3 * a2), v30);
      v31 = _mm_unpackhi_ps(v28, v21);
      *(_DWORD *)(v6 + 2 * a2 + 8) = v31.m128_i32[0];
      *(_DWORD *)(3 * a2 + v6 + 8) = (unsigned __int128)_mm_movehl_ps(v31, v31);
      v11 += 4 * a4;
      v6 += 4 * a2;
      --v33;
    }
    while ( v33 );
  }
  else
  {
    v11 = a3;
  }
  if ( v35 )
  {
    v34 = v35;
    do
    {
      sub_442DB9(v6, v11, a5);
      v6 += a2;
      v11 += a4;
      --v34;
    }
    while ( v34 );
  }
  return a1;
}

//----- (00443CCC) --------------------------------------------------------
void sub_443CCC()
{
  ;
}

//----- (00443DBD) --------------------------------------------------------
int __userpurge sub_443DBD@<eax>(__m128 a1@<xmm3>, int a2, int a3, unsigned int a4)
{
  unsigned int v4; // esi@2
  int v5; // eax@2
  __int64 v6; // rt1@3
  __m128 v7; // xmm0@3
  double *v8; // ecx@3
  int v9; // edx@3
  unsigned int v10; // ebx@5
  unsigned int v11; // edx@6
  int v13; // [sp+10h] [bp-8h]@1

  v13 = a2;
  if ( a4 >= 8 )
  {
    v4 = a4 & 0xFFFFFFF8;
    v5 = a3;
    do
    {
      v6 = *(_QWORD *)v5;
      v7 = _mm_loadh_ps((const double *)(v5 + 8));
      sub_443CCC();
      _mm_storel_ps(v8, v7);
      _mm_storeh_ps(v8 + 1, v7);
      _mm_storel_ps(v8 + 2, a1);
      _mm_storeh_ps(v8 + 3, a1);
    }
    while ( v9 != 8 );
    a4 -= v4;
    a3 += 2 * v4;
    a2 += 4 * v4;
  }
  v10 = 0;
  if ( a4 )
  {
    do
    {
      v11 = *(_WORD *)(a3 + 2 * v10) & 0x7C00;
      if ( v11 <= 0x400 )
        v11 = 1024;
      *(float *)(a2 + 4 * v10) = (double)(*(_WORD *)(a3 + 2 * v10) & 0x3FF | ((*(_WORD *)(a3 + 2 * v10) & 0x7C00) != 0 ? 0x400 : 0))
                               * COERCE_FLOAT(((unsigned __int16)(*(_WORD *)(a3 + 2 * v10) & 0x8000) << 16) | ((v11 + 104448) << 13));
      ++v10;
    }
    while ( v10 < a4 );
  }
  return v13;
}

//----- (00443E8F) --------------------------------------------------------
__m128 *__stdcall sub_443E8F(__m128 *a1, int a2, int a3, int a4)
{
  __int64 v4; // rt1@1
  __m128 v5; // xmm7@1
  __int64 v6; // rt1@1
  __m128 v7; // xmm0@1
  __int64 v8; // rt1@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm2@1
  __m128 *result; // eax@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // ST00_16@1
  __m128 v16; // xmm4@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm1@1

  v4 = *(_QWORD *)a2;
  v5 = _mm_loadh_ps((const double *)(a2 + 8));
  v6 = *(_QWORD *)a3;
  v7 = _mm_loadh_ps((const double *)(a3 + 8));
  v8 = *(_QWORD *)a4;
  v9 = _mm_shuffle_ps(v7, v7, 57);
  v10 = _mm_loadh_ps((const double *)(a4 + 8));
  result = a1;
  v12 = _mm_mul_ps(v9, v10);
  v13 = _mm_shuffle_ps(v10, v10, 78);
  v14 = _mm_mul_ps(v9, v13);
  v15 = _mm_mul_ps(v9, _mm_shuffle_ps(v13, v13, 57));
  v16 = _mm_sub_ps(_mm_shuffle_ps(v14, v14, 57), _mm_shuffle_ps(v12, v12, 78));
  v17 = _mm_shuffle_ps(v12, v12, 57);
  v18 = _mm_shuffle_ps(v5, v5, 57);
  v19 = _mm_shuffle_ps(v18, v18, 57);
  *a1 = _mm_xor_ps(
          _mm_add_ps(
            _mm_add_ps(_mm_mul_ps(v18, v16), _mm_mul_ps(v19, _mm_sub_ps(_mm_shuffle_ps(v15, v15, 78), v15))),
            _mm_mul_ps(_mm_shuffle_ps(v19, v19, 57), _mm_sub_ps(v14, v17))),
          (__m128)xmmword_4B4C90);
  return result;
}
// 4B4C90: using guessed type __int128 xmmword_4B4C90;

//----- (00443F4F) --------------------------------------------------------
__m128 *__stdcall sub_443F4F(__m128 *a1, int a2, int a3, int a4)
{
  int v4; // et1@1
  __m128 v5; // xmm2@1
  int v6; // et1@1
  __m128 v7; // xmm0@1
  int v8; // et1@1
  __m128 *result; // eax@1
  __m128 v10; // xmm1@1
  __m128 v11; // xmm0@1
  __m128 v12; // xmm1@1
  __m128 v13; // xmm1@1
  float v14; // xmm3_4@1
  float v15; // xmm5_4@1
  __int128 v16; // xmm4@1
  __m128 v17; // xmm3@1
  __m128 v18; // xmm0@1
  __m128 v19; // xmm0@1

  v4 = *(_DWORD *)(a2 + 8);
  v5 = _mm_loadh_ps((const double *)a2);
  v6 = *(_DWORD *)(a3 + 8);
  v7 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a3));
  v8 = *(_DWORD *)(a4 + 8);
  result = a1;
  v10 = _mm_sub_ps(v5, _mm_loadh_ps((const double *)a4));
  v11 = _mm_sub_ps(
          _mm_mul_ps(_mm_shuffle_ps(v10, v10, 120), _mm_shuffle_ps(v7, v7, 99)),
          _mm_mul_ps(_mm_shuffle_ps(v7, v7, 120), _mm_shuffle_ps(v10, v10, 99)));
  v12 = _mm_mul_ps(v11, v11);
  v13 = _mm_add_ps(v12, _mm_movehl_ps(v12, v12));
  v13.m128_f32[0] = v13.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v13, v13, 1));
  v14 = 1.0 / fsqrt(v13.m128_f32[0]);
  v15 = *(float *)&xmmword_4B4CC0 - (float)((float)(v13.m128_f32[0] * v14) * v14);
  v16 = xmmword_4B4CB0;
  *(float *)&v16 = *(float *)&xmmword_4B4CB0 * v14;
  v17 = (__m128)v16;
  v17.m128_f32[0] = *(float *)&v16 * v15;
  v18 = _mm_mul_ps(v11, _mm_shuffle_ps(v17, v17, 0));
  *a1 = v18;
  v19 = _mm_mul_ps(v18, _mm_shuffle_ps(v5, v5, 14));
  v19.m128_f32[0] = v19.m128_f32[0]
                  + (float)(COERCE_FLOAT(_mm_movehl_ps(v13, v19)) + COERCE_FLOAT(_mm_shuffle_ps(v19, v19, 85)));
  a1->m128_i32[3] = (unsigned __int128)_mm_xor_ps(v19, (__m128)xmmword_4B4CA0);
  return result;
}
// 4B4CA0: using guessed type __int128 xmmword_4B4CA0;
// 4B4CB0: using guessed type __int128 xmmword_4B4CB0;
// 4B4CC0: using guessed type __int128 xmmword_4B4CC0;

//----- (0044404F) --------------------------------------------------------
int __stdcall sub_44404F(int a1, int a2)
{
  __int64 v2; // rt1@1
  __m128 v3; // xmm1@1
  __m128 v4; // xmm0@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm0@1
  float v7; // xmm2_4@1
  float v8; // xmm3_4@1
  __m128 v9; // xmm0@1
  int result; // eax@1
  __m128 v11; // xmm1@1
  __m128 v12; // xmm0@1
  __m128 v13; // xmm2@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm4@1

  v2 = *(_QWORD *)(a2 + 8);
  v3 = _mm_loadl_ps((const double *)a2);
  v4 = _mm_and_ps(v3, (__m128)xmmword_4B4D40);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v5, v5));
  v6.m128_f32[0] = v6.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v6, v6, 1));
  v7 = 1.0 / fsqrt(v6.m128_f32[0]);
  v8 = unk_4B4D30 - (float)((float)(v6.m128_f32[0] * v7) * v7);
  v9 = (__m128)dword_4B4D20[0];
  result = a1;
  v9.m128_f32[0] = (float)(*(float *)dword_4B4D20 * v7) * v8;
  v11 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  v12 = _mm_mul_ps((__m128)xmmword_4B4D00, v11);
  v13 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 85)), (__m128)xmmword_4B4D10);
  v14 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -86)), (__m128)xmmword_4B4CF0);
  v15 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, -1)), (__m128)xmmword_4B4CE0);
  *(__m128 *)a1 = _mm_add_ps(_mm_mul_ps(v12, _mm_shuffle_ps(v11, v11, 0)), (__m128)xmmword_4B4CD0);
  *(__m128 *)(a1 + 16) = v13;
  *(__m128 *)(a1 + 32) = v14;
  *(__m128 *)(a1 + 48) = v15;
  return result;
}
// 4B4CD0: using guessed type __int128 xmmword_4B4CD0;
// 4B4CE0: using guessed type __int128 xmmword_4B4CE0;
// 4B4CF0: using guessed type __int128 xmmword_4B4CF0;
// 4B4D00: using guessed type __int128 xmmword_4B4D00;
// 4B4D10: using guessed type __int128 xmmword_4B4D10;
// 4B4D40: using guessed type __int128 xmmword_4B4D40;

//----- (0044415B) --------------------------------------------------------
__m128 *__stdcall sub_44415B(__m128 *a1, int a2, int a3)
{
  __m128 v3; // xmm0@1
  unsigned int v4; // ecx@1
  __m128 v5; // xmm3@2
  __m128 v6; // xmm2@2
  __m128 v7; // xmm1@2
  __m128 v8; // xmm0@2
  __int64 v9; // rt1@3
  __int64 v10; // rt1@3
  __int64 v11; // rt1@3
  __int64 v12; // rt1@3
  __m128 *result; // eax@4

  v3 = _mm_loadl_ps((const double *)a2);
  v4 = *(_DWORD *)(a2 + 8);
  if ( a3 & 0xF )
  {
    v9 = *(_QWORD *)(a3 + 48);
    v10 = *(_QWORD *)(a3 + 32);
    v5 = _mm_add_ps(
           _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 40)), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)),
           _mm_loadh_ps((const double *)(a3 + 56)));
    v11 = *(_QWORD *)(a3 + 16);
    v6 = _mm_mul_ps(_mm_loadh_ps((const double *)(a3 + 24)), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v12 = *(_QWORD *)a3;
    v8 = _mm_loadh_ps((const double *)(a3 + 8));
  }
  else
  {
    v5 = _mm_add_ps(_mm_mul_ps(*(__m128 *)(a3 + 32), _mm_shuffle_ps((__m128)v4, (__m128)v4, 0)), *(__m128 *)(a3 + 48));
    v6 = _mm_mul_ps(*(__m128 *)(a3 + 16), _mm_shuffle_ps(v3, v3, 85));
    v7 = _mm_shuffle_ps(v3, v3, 0);
    v8 = *(__m128 *)a3;
  }
  result = a1;
  *a1 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v8, v7), v6), v5);
  return result;
}

//----- (0044422F) --------------------------------------------------------
int __stdcall sub_44422F(int a1, int a2)
{
  float v2; // xmm2_4@1
  float v3; // xmm3_4@1
  float v4; // xmm4_4@1
  signed int v5; // ecx@1
  float v6; // xmm0_4@1
  int result; // eax@3
  bool v8; // zf@3
  float *v9; // ecx@3
  float v10; // xmm0_4@4
  float v11; // xmm1_4@5
  float v12; // xmm0_4@5

  v2 = *(float *)a2;
  v3 = *(float *)(a2 + 4);
  v4 = *(float *)(a2 + 8);
  v5 = 0;
  v6 = (float)((float)(v2 * v2) + (float)(v3 * v3)) + (float)(v4 * v4);
  if ( v6 < 1.4210855e-14 )
    v5 = 1;
  result = a1;
  v8 = v5 == 0;
  v9 = (float *)(a1 + 4);
  if ( v8 )
  {
    v11 = 1.0 / fsqrt(v6);
    v12 = (float)(0.5 * v11) * (float)(3.0 - (float)((float)(v6 * v11) * v11));
    *(float *)a1 = v12 * v2;
    *v9 = v12 * v3;
    v10 = v12 * v4;
  }
  else
  {
    v10 = 0.0;
    *(_DWORD *)a1 = 0;
    *(_DWORD *)v9 = 0;
  }
  *(float *)(a1 + 8) = v10;
  return result;
}

//----- (0044431F) --------------------------------------------------------
int __stdcall sub_44431F(int a1, int a2)
{
  float v2; // xmm2_4@1
  float v3; // xmm3_4@1
  float v4; // xmm4_4@1
  float v5; // xmm0_4@1
  signed int v6; // edx@1
  int result; // eax@3
  float v8; // xmm0_4@4
  float v9; // xmm1_4@5
  float v10; // xmm5_4@5

  v2 = *(float *)a2;
  v3 = *(float *)(a2 + 4);
  v4 = *(float *)(a2 + 8);
  v5 = (float)((float)(v2 * v2) + (float)(v3 * v3)) + (float)(v4 * v4);
  v6 = 0;
  if ( v5 < 1.4210855e-14 )
    v6 = 1;
  result = a1;
  if ( v6 )
  {
    v8 = 0.0;
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_DWORD *)(a1 + 8) = 0;
  }
  else
  {
    v9 = 1.0 / fsqrt(v5);
    v10 = 3.0 - (float)((float)(v5 * v9) * v9);
    *(float *)a1 = (float)((float)(0.5 * v9) * v10) * v2;
    *(float *)(a1 + 4) = (float)((float)(0.5 * v9) * v10) * v3;
    *(float *)(a1 + 8) = (float)((float)(0.5 * v9) * v10) * v4;
    v8 = (float)((float)(0.5 * v9) * v10) * *(float *)(a2 + 12);
  }
  *(float *)(a1 + 12) = v8;
  return result;
}

//----- (00444434) --------------------------------------------------------
int __stdcall sub_444434(int a1, int a2, int a3)
{
  __int64 v3; // rt1@1
  __m128 v4; // xmm3@1
  __int64 v5; // rt1@1
  __m128 v6; // xmm4@1
  __int64 v7; // rt1@1
  __m128 v8; // xmm5@1
  __int64 v9; // rt1@1
  __m128 v10; // xmm2@1
  __m128 v11; // xmm0@1
  __m128 v12; // ST20_16@1
  __m128 v13; // xmm1@1
  __m128 v14; // xmm6@1
  __m128 v15; // xmm5@1
  int result; // eax@1
  __m128 v17; // xmm4@1
  __m128 v18; // xmm2@1
  __m128 v19; // xmm0@1
  __m128 v20; // xmm4@1
  __m128 v21; // xmm3@1
  __m128 v22; // xmm1@1

  v3 = *(_QWORD *)a3;
  v4 = _mm_loadh_ps((const double *)(a3 + 8));
  v5 = *(_QWORD *)(a3 + 16);
  v6 = _mm_loadh_ps((const double *)(a3 + 24));
  v7 = *(_QWORD *)(a3 + 32);
  v8 = _mm_loadh_ps((const double *)(a3 + 40));
  v9 = *(_QWORD *)(a3 + 48);
  v10 = _mm_loadh_ps((const double *)(a3 + 56));
  v11 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)a2, (__m128)*(_DWORD *)a2, 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 4), (__m128)*(_DWORD *)(a2 + 4), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 8), (__m128)*(_DWORD *)(a2 + 8), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 12), (__m128)*(_DWORD *)(a2 + 12), 0), v10));
  v12 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 16), (__m128)*(_DWORD *)(a2 + 16), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 20), (__m128)*(_DWORD *)(a2 + 20), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 24), (__m128)*(_DWORD *)(a2 + 24), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 28), (__m128)*(_DWORD *)(a2 + 28), 0), v10));
  v13 = _mm_add_ps(
          _mm_add_ps(
            _mm_add_ps(
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 32), (__m128)*(_DWORD *)(a2 + 32), 0), v4),
              _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 36), (__m128)*(_DWORD *)(a2 + 36), 0), v6)),
            _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 40), (__m128)*(_DWORD *)(a2 + 40), 0), v8)),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 44), (__m128)*(_DWORD *)(a2 + 44), 0), v10));
  v14 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 60), (__m128)*(_DWORD *)(a2 + 60), 0), v10);
  v15 = _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 56), (__m128)*(_DWORD *)(a2 + 56), 0), v8);
  result = a1;
  v17 = _mm_add_ps(
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 48), (__m128)*(_DWORD *)(a2 + 48), 0), v4),
          _mm_mul_ps(_mm_shuffle_ps((__m128)*(_DWORD *)(a2 + 52), (__m128)*(_DWORD *)(a2 + 52), 0), v6));
  v18 = _mm_unpacklo_ps(v11, v12);
  v19 = _mm_unpackhi_ps(v11, v12);
  _mm_storel_ps((double *)a1, v18);
  v20 = _mm_add_ps(_mm_add_ps(v17, v15), v14);
  v21 = _mm_unpacklo_ps(v13, v20);
  _mm_storel_ps((double *)(a1 + 8), v21);
  _mm_storeh_ps((double *)(a1 + 16), v18);
  _mm_storeh_ps((double *)(a1 + 24), v21);
  _mm_storel_ps((double *)(a1 + 32), v19);
  v22 = _mm_unpackhi_ps(v13, v20);
  _mm_storel_ps((double *)(a1 + 40), v22);
  _mm_storeh_ps((double *)(a1 + 48), v19);
  _mm_storeh_ps((double *)(a1 + 56), v22);
  return result;
}

//----- (00444668) --------------------------------------------------------
int __stdcall sub_444668(int a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm4@1
  __m128 v4; // xmm3@1
  __m128 v5; // xmm3@1
  __m128 v6; // xmm3@1
  signed int v7; // edx@1
  __m128 v8; // xmm1@1
  __m128 v9; // xmm2@5
  float v10; // xmm0_4@8
  float v11; // ST10_4@10
  int result; // eax@11
  __m128 v13; // xmm0@11
  __m128 v14; // xmm0@11
  __m128 v15; // xmm1@11
  __m128 v16; // xmm0@11
  __m128 v17; // xmm4@11
  __m128 v18; // xmm5@11
  __m128 v19; // xmm3@11
  __m128 v20; // xmm2@11
  __m128 v21; // [sp+10h] [bp-10h]@0

  v3 = *a3;
  v4 = _mm_and_ps(*a3, (__m128)xmmword_4B4D90);
  v5 = _mm_mul_ps(v4, v4);
  v6 = _mm_add_ps(v5, _mm_movehl_ps(v21, v5));
  v8 = _mm_shuffle_ps(v6, v6, 1);
  v7 = 0;
  v8.m128_f32[0] = v8.m128_f32[0] + v6.m128_f32[0];
  if ( v8.m128_f32[0] == COERCE_FLOAT(_mm_xor_ps(v21, v21)) )
    v7 = 1;
  if ( v7 != 1 )
  {
    if ( dword_4C5600 & 1 )
    {
      v9 = (__m128)xmmword_4C55F0;
    }
    else
    {
      dword_4C5600 |= 1u;
      v9 = (__m128)1056964608i64;
      xmmword_4C55F0 = 1056964608i64;
    }
    if ( dword_4C5600 & 2 )
    {
      v10 = *(float *)&xmmword_4C55E0;
    }
    else
    {
      dword_4C5600 |= 2u;
      v10 = 3.0;
      xmmword_4C55E0 = 1077936128i64;
    }
    v11 = 1.0 / fsqrt(v8.m128_f32[0]);
    v9.m128_f32[0] = (float)(v9.m128_f32[0] * v11) * (float)(v10 - (float)((float)(v8.m128_f32[0] * v11) * v11));
    v8 = _mm_mul_ps(v3, _mm_shuffle_ps(v9, v9, 0));
  }
  result = a1;
  v13 = _mm_mul_ps(v8, *a2);
  v14 = _mm_add_ps(v13, _mm_movehl_ps(v6, v13));
  v14.m128_f32[0] = v14.m128_f32[0] + COERCE_FLOAT(_mm_shuffle_ps(v14, v14, 1));
  v15 = _mm_xor_ps(v8, (__m128)xmmword_4B4D50);
  v16 = _mm_shuffle_ps(v14, v14, 0);
  v19 = _mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 0));
  v17 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, 85)), _mm_and_ps(v16, (__m128)xmmword_4B4D60));
  v18 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -86)), _mm_and_ps(v16, (__m128)xmmword_4B4D70));
  v19.m128_f32[0] = v19.m128_f32[0] + v16.m128_f32[0];
  v20 = _mm_add_ps(_mm_mul_ps(*a2, _mm_shuffle_ps(v15, v15, -1)), _mm_and_ps(v16, (__m128)xmmword_4B4D80));
  if ( a1 & 0xF )
  {
    _mm_storel_ps((double *)a1, v19);
    _mm_storeh_ps((double *)(a1 + 8), v19);
    _mm_storel_ps((double *)(a1 + 16), v17);
    _mm_storeh_ps((double *)(a1 + 24), v17);
    _mm_storel_ps((double *)(a1 + 32), v18);
    _mm_storeh_ps((double *)(a1 + 40), v18);
    _mm_storel_ps((double *)(a1 + 48), v20);
    _mm_storeh_ps((double *)(a1 + 56), v20);
  }
  else
  {
    *(__m128 *)a1 = v19;
    *(__m128 *)(a1 + 16) = v17;
    *(__m128 *)(a1 + 32) = v18;
    *(__m128 *)(a1 + 48) = v20;
  }
  return result;
}
// 4B4D50: using guessed type __int128 xmmword_4B4D50;
// 4B4D60: using guessed type __int128 xmmword_4B4D60;
// 4B4D70: using guessed type __int128 xmmword_4B4D70;
// 4B4D80: using guessed type __int128 xmmword_4B4D80;
// 4B4D90: using guessed type __int128 xmmword_4B4D90;
// 4C55E0: using guessed type __int128 xmmword_4C55E0;
// 4C55F0: using guessed type __int128 xmmword_4C55F0;
// 4C5600: using guessed type int dword_4C5600;

//----- (0044482F) --------------------------------------------------------
__m128 *__stdcall sub_44482F(__m128 *a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  __m128 v4; // xmm1@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm2@1
  __m128 v7; // xmm3@1
  __m128 v8; // xmm0@1
  __m128 *result; // eax@1
  __m128 v10; // [sp+0h] [bp-20h]@1
  __m128 v11; // [sp+10h] [bp-10h]@1

  v10.m128_u64[0] = __PAIR__(a3, a4);
  v10.m128_u64[1] = a2;
  v10 = _mm_mul_ps(v10, unk_4935D0);
  sub_450C49((__m128i *)&v10, &v10, &v11);
  v4 = _mm_shuffle_ps(v10, v11, -103);
  v5 = _mm_shuffle_ps(v10, v11, 0);
  v6 = _mm_shuffle_ps(v4, v4, -9);
  v7 = _mm_shuffle_ps(v4, v4, -88);
  v8 = _mm_shuffle_ps(v5, v5, -118);
  result = a1;
  *a1 = _mm_add_ps(
          _mm_mul_ps(_mm_mul_ps(v8, v6), v7),
          _mm_xor_ps(_mm_mul_ps(_mm_mul_ps(v8, _mm_shuffle_ps(v6, v6, 81)), _mm_shuffle_ps(v7, v7, 1)), unk_4935C0));
  return result;
}

//----- (004448F1) --------------------------------------------------------
int __stdcall sub_4448F1(int a1, int a2)
{
  int v2; // ecx@1
  double v3; // st7@1
  int result; // eax@2
  long double v5; // st7@2
  long double v6; // st7@2
  double v7; // st7@3
  float v8; // eax@3
  signed int v9; // ebx@3
  int v10; // edx@7
  int v11; // edi@7
  unsigned int v12; // esi@7
  double v13; // st7@7
  int v14; // eax@7
  double v15; // st7@7
  long double v16; // st7@7
  long double v17; // st7@7
  double v18; // st6@7
  int v19; // ebx@7
  int v20; // edi@7
  int v21; // edx@7
  int v22; // esi@7
  double v23; // st6@7
  int v24; // edx@7
  int v25; // edi@7
  float v26; // [sp+0h] [bp-14h]@3
  float v27; // [sp+4h] [bp-10h]@3
  float v28; // [sp+8h] [bp-Ch]@3
  int v29; // [sp+Ch] [bp-8h]@7
  int v30; // [sp+10h] [bp-4h]@7
  signed int v31; // [sp+20h] [bp+Ch]@5

  v2 = a2;
  v3 = *(float *)(a2 + 20) + *(float *)a2 + *(float *)(a2 + 40);
  if ( v3 <= 0.0 )
  {
    v7 = *(float *)a2;
    v27 = *(float *)(a2 + 20);
    v8 = *(float *)(a2 + 40);
    v26 = v7;
    v28 = v8;
    v9 = 0;
    if ( v7 < v27 )
      v9 = 1;
    v31 = v9;
    if ( *(&v26 + v9) < (double)v28 )
    {
      v9 = 2;
      v31 = 2;
    }
    v10 = 4 * v9;
    v11 = dword_4935E0[v9];
    v12 = 4 * dword_4935E0[v9];
    v13 = *(&v26 + v9) - *(&v26 + dword_4935E0[v9]);
    v14 = dword_4935E0[v12 / 4];
    v30 = v14;
    v15 = v13 - *(&v26 + v14);
    result = a1;
    v29 = v11;
    v16 = sqrt(v15 + 1.0) * 0.5;
    *(float *)(v10 + a1) = v16;
    v17 = 0.25 / v16;
    v18 = *(float *)(v2 + 4 * (v12 + v9)) + *(float *)(v2 + 4 * (4 * v9 + v11));
    v19 = 4 * v30 + v31;
    v20 = v30;
    v21 = v30 + v10;
    *(float *)(v12 + a1) = v18 * v17;
    v22 = v20 + v12;
    v23 = *(float *)(v2 + 4 * v19) + *(float *)(v2 + 4 * v21);
    v24 = v20;
    v25 = v29;
    v24 *= 4;
    *(float *)(v24 + a1) = v23 * v17;
    *(float *)(a1 + 12) = (*(float *)(v2 + 4 * v22) - *(float *)(v2 + 4 * (v25 + v24))) * v17;
  }
  else
  {
    result = a1;
    v5 = sqrt(v3 + 1.0) * 0.5;
    *(float *)(a1 + 12) = v5;
    v6 = 0.25 / v5;
    *(float *)a1 = (*(float *)(a2 + 24) - *(float *)(a2 + 36)) * v6;
    *(float *)(a1 + 4) = (*(float *)(a2 + 32) - *(float *)(a2 + 8)) * v6;
    *(float *)(a1 + 8) = (*(float *)(a2 + 4) - *(float *)(a2 + 16)) * v6;
  }
  return result;
}
// 4935E0: using guessed type int dword_4935E0[];

//----- (00444A40) --------------------------------------------------------
__m128 *__stdcall sub_444A40(__m128 *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@1
  __m128 *v7; // eax@1
  int v8; // ebx@1
  __m128 v9; // xmm4@2
  __m128 v10; // xmm5@2
  __m128 v11; // xmm6@2
  __m128 v12; // xmm7@2
  __m128 v13; // xmm0@3
  __m128 v14; // xmm1@3
  __m128 v15; // xmm2@3
  __m128 v16; // xmm3@3
  unsigned __int8 v17; // of@3

  v6 = a6;
  v7 = a1;
  v8 = a3;
  if ( a6 > 0 )
  {
    v9 = *(__m128 *)a5;
    v10 = *(__m128 *)(a5 + 16);
    v11 = *(__m128 *)(a5 + 32);
    v12 = *(__m128 *)(a5 + 48);
    do
    {
      v13 = _mm_shuffle_ps((__m128)*(_DWORD *)v8, (__m128)*(_DWORD *)v8, 0);
      v14 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 4), (__m128)*(_DWORD *)(v8 + 4), 0);
      v15 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 8), (__m128)*(_DWORD *)(v8 + 8), 0);
      v16 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 12), (__m128)*(_DWORD *)(v8 + 12), 0);
      v8 += a4;
      *v7 = _mm_add_ps(
              _mm_add_ps(_mm_mul_ps(v13, v9), _mm_mul_ps(v14, v10)),
              _mm_add_ps(_mm_mul_ps(v15, v11), _mm_mul_ps(v16, v12)));
      v7 = (__m128 *)((char *)v7 + a2);
      v17 = __OFSUB__(v6--, 1);
    }
    while ( !((unsigned __int8)((v6 < 0) ^ v17) | (v6 == 0)) );
  }
  return a1;
}

//----- (00444B00) --------------------------------------------------------
__m128 *__stdcall sub_444B00(__m128 *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@1
  __m128 *v7; // eax@1
  int v8; // ebx@1
  __m128 v9; // xmm4@2
  __m128 v10; // xmm5@2
  __m128 v11; // xmm6@2
  __m128 v12; // xmm7@2
  __m128 v13; // xmm0@3
  __m128 v14; // xmm1@3
  __m128 v15; // xmm2@3
  __m128 v16; // xmm3@3
  unsigned __int8 v17; // of@3

  v6 = a6;
  v7 = a1;
  v8 = a3;
  if ( a6 > 0 )
  {
    v9 = *(__m128 *)a5;
    v10 = *(__m128 *)(a5 + 16);
    v11 = *(__m128 *)(a5 + 32);
    v12 = *(__m128 *)(a5 + 48);
    do
    {
      v13 = _mm_shuffle_ps((__m128)*(_DWORD *)v8, (__m128)*(_DWORD *)v8, 0);
      v14 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 4), (__m128)*(_DWORD *)(v8 + 4), 0);
      v15 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 8), (__m128)*(_DWORD *)(v8 + 8), 0);
      v16 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 12), (__m128)*(_DWORD *)(v8 + 12), 0);
      v8 += a4;
      *v7 = _mm_add_ps(
              _mm_add_ps(_mm_mul_ps(v13, v9), _mm_mul_ps(v14, v10)),
              _mm_add_ps(_mm_mul_ps(v15, v11), _mm_mul_ps(v16, v12)));
      v7 = (__m128 *)((char *)v7 + a2);
      v17 = __OFSUB__(v6--, 1);
    }
    while ( !((unsigned __int8)((v6 < 0) ^ v17) | (v6 == 0)) );
  }
  return a1;
}

//----- (00444BC0) --------------------------------------------------------
__m64 *__stdcall sub_444BC0(__m64 *a1, int a2, double *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  __m64 *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  const double *v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  const double *v16; // edx@7
  __m128 v17; // xmm0@7
  __m128 v18; // xmm4@7
  __m128 v19; // xmm1@7
  __m128 v20; // xmm0@7
  __m128 v21; // xmm4@7
  __m128 v22; // xmm1@7
  __m128 v23; // xmm3@7
  __m128 v24; // xmm5@7
  __m128 v25; // xmm0@7
  __m128 v26; // xmm1@7
  __m128 v27; // xmm3@7
  __m128 v28; // xmm5@7
  __m128 v29; // xmm2@7
  __m128 v30; // xmm0@7
  __m128 v31; // xmm4@7
  __m128 v32; // xmm3@7
  __m128 v33; // xmm4@7
  __m128 v34; // xmm2@7
  __m128 *v35; // eax@7
  int v36; // ecx@9
  __m128 v38; // [sp+Ch] [bp-10Ch]@5
  __m128 v39; // [sp+1Ch] [bp-FCh]@5
  __m128 v40; // [sp+2Ch] [bp-ECh]@5
  __m128 v41; // [sp+3Ch] [bp-DCh]@5
  __m128 v42; // [sp+4Ch] [bp-CCh]@5
  __m128 v43; // [sp+5Ch] [bp-BCh]@5
  __m128 v44; // [sp+6Ch] [bp-ACh]@5
  __m128 v45; // [sp+7Ch] [bp-9Ch]@5
  __m128 v46; // [sp+CCh] [bp-4Ch]@5
  __m128 v47; // [sp+DCh] [bp-3Ch]@5
  __m128 v48; // [sp+ECh] [bp-2Ch]@5
  __m128 v49; // [sp+FCh] [bp-1Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v38 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v39 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v40 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 8), (__m128)*(_DWORD *)(a5 + 8), 0);
    v41 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 12), (__m128)*(_DWORD *)(a5 + 12), 0);
    v42 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v43 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v44 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 24), (__m128)*(_DWORD *)(a5 + 24), 0);
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 28), (__m128)*(_DWORD *)(a5 + 28), 0);
    v46 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 48), (__m128)*(_DWORD *)(a5 + 48), 0);
    v47 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 52), (__m128)*(_DWORD *)(a5 + 52), 0);
    v48 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 56), (__m128)*(_DWORD *)(a5 + 56), 0);
    v49 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 60), (__m128)*(_DWORD *)(a5 + 60), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps(v11);
        v15 = _mm_loadl_ps((const double *)((char *)v11 + v12));
        v16 = (const double *)((char *)v11 + 2 * v12);
        v17 = _mm_unpacklo_ps(v14, v15);
        v18 = _mm_unpacklo_ps(_mm_loadl_ps(v16), _mm_loadl_ps((const double *)((char *)v16 + v12)));
        v19 = v17;
        v20 = _mm_movelh_ps(v17, v18);
        v21 = _mm_movehl_ps(v18, v19);
        v11 = (const double *)((char *)v16 + 2 * v12);
        v22 = v20;
        v23 = v20;
        v24 = v20;
        v25 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v38), _mm_mul_ps(v21, v42)), v46);
        v26 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v22, v39), _mm_mul_ps(v21, v43)), v47);
        v27 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v40), _mm_mul_ps(v21, v44)), v48);
        v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v24, v41), _mm_mul_ps(v21, v45)), v49);
        v29 = v25;
        v30 = _mm_unpacklo_ps(v25, v26);
        v31 = v27;
        v32 = _mm_unpacklo_ps(v27, v28);
        v33 = _mm_unpackhi_ps(v31, v28);
        v34 = _mm_unpackhi_ps(v29, v26);
        *(__m128 *)&v7->m64_i32[0] = _mm_movelh_ps(v30, v32);
        *(__m128 *)((char *)v7->m64_i32 + i) = _mm_movehl_ps(v32, v30);
        v35 = (__m128 *)((char *)v7 + 2 * i);
        *v35 = _mm_movelh_ps(v34, v33);
        *(__m128 *)((char *)v35 + i) = _mm_movehl_ps(v33, v34);
        v7 = (__m64 *)((char *)v35 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v36 = v6 - 4;
      v11 = (const double *)((char *)v11 + v36 * v12);
      v7 = (__m64 *)((char *)v7 + v36 * i);
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = (__m64 *)a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (__m64 *)((char *)sub_44B8BB(v7, v9, v8) + a2);
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (double *)((char *)a3 + a4);
    }
  }
  return a1;
}

//----- (00444E20) --------------------------------------------------------
double *__stdcall sub_444E20(double *a1, int a2, double *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  double *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  const double *v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  const double *v16; // edx@7
  __m128 v17; // xmm0@7
  __m128 v18; // xmm4@7
  __m128 v19; // xmm1@7
  __m128 v20; // xmm0@7
  __m128 v21; // xmm4@7
  __m128 v22; // xmm1@7
  __m128 v23; // xmm5@7
  __m128 v24; // xmm0@7
  __m128 v25; // xmm1@7
  __m128 v26; // xmm5@7
  __m128 v27; // xmm4@7
  __m128 v28; // xmm4@7
  __m128 v29; // xmm0@7
  __m128 v30; // xmm1@7
  __m128 v31; // xmm2@7
  __m128 v32; // xmm0@7
  __m128 v33; // xmm2@7
  double *v34; // eax@7
  int v35; // ecx@9
  __m128 v37; // [sp+Ch] [bp-10Ch]@5
  __m128 v38; // [sp+1Ch] [bp-FCh]@5
  __m128 v39; // [sp+3Ch] [bp-DCh]@5
  __m128 v40; // [sp+4Ch] [bp-CCh]@5
  __m128 v41; // [sp+5Ch] [bp-BCh]@5
  __m128 v42; // [sp+7Ch] [bp-9Ch]@5
  __m128 v43; // [sp+CCh] [bp-4Ch]@5
  __m128 v44; // [sp+DCh] [bp-3Ch]@5
  __m128 v45; // [sp+FCh] [bp-1Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v37 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v38 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v39 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 12), (__m128)*(_DWORD *)(a5 + 12), 0);
    v40 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v41 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v42 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 28), (__m128)*(_DWORD *)(a5 + 28), 0);
    v43 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 48), (__m128)*(_DWORD *)(a5 + 48), 0);
    v44 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 52), (__m128)*(_DWORD *)(a5 + 52), 0);
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 60), (__m128)*(_DWORD *)(a5 + 60), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps(v11);
        v15 = _mm_loadl_ps((const double *)((char *)v11 + v12));
        v16 = (const double *)((char *)v11 + 2 * v12);
        v17 = _mm_unpacklo_ps(v14, v15);
        v18 = _mm_unpacklo_ps(_mm_loadl_ps(v16), _mm_loadl_ps((const double *)((char *)v16 + v12)));
        v19 = v17;
        v20 = _mm_movelh_ps(v17, v18);
        v21 = _mm_movehl_ps(v18, v19);
        v11 = (const double *)((char *)v16 + 2 * v12);
        v22 = v20;
        v23 = v20;
        v24 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v20, v37), _mm_mul_ps(v21, v40)), v43);
        v25 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v22, v38), _mm_mul_ps(v21, v41)), v44);
        v26 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v39), _mm_mul_ps(v21, v42)), v45);
        v27 = _mm_rcp_ps(v26);
        v28 = _mm_mul_ps(v27, _mm_sub_ps((__m128)xmmword_4B4DC0, _mm_mul_ps(v26, v27)));
        v29 = _mm_mul_ps(v24, v28);
        v30 = _mm_mul_ps(v25, v28);
        v31 = v29;
        v32 = _mm_unpacklo_ps(v29, v30);
        v33 = _mm_unpackhi_ps(v31, v30);
        _mm_storel_ps(v7, v32);
        _mm_storel_ps((double *)((char *)v7 + i), _mm_movehl_ps(v32, v32));
        v34 = (double *)((char *)v7 + 2 * i);
        _mm_storel_ps(v34, v33);
        _mm_storel_ps((double *)((char *)v34 + i), _mm_movehl_ps(v33, v33));
        v7 = (double *)((char *)v34 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v35 = v6 - 4;
      v11 = (const double *)((char *)v11 + v35 * v12);
      v7 = (double *)((char *)v7 + v35 * i);
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = (__m64 *)a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (double *)((char *)sub_44B949((__m64 *)v7, v9, v8)->m64_i32 + a2);
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (double *)((char *)a3 + a4);
    }
  }
  return a1;
}
// 4B4DC0: using guessed type __int128 xmmword_4B4DC0;

//----- (00445080) --------------------------------------------------------
double *__stdcall sub_445080(double *a1, int a2, double *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  double *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  const double *v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  const double *v16; // edx@7
  __m128 v17; // xmm0@7
  __m128 v18; // xmm4@7
  __m128 v19; // xmm1@7
  __m128 v20; // xmm0@7
  __m128 v21; // xmm4@7
  __m128 v22; // xmm1@7
  __m128 v23; // xmm0@7
  __m128 v24; // xmm1@7
  __m128 v25; // xmm2@7
  __m128 v26; // xmm0@7
  __m128 v27; // xmm2@7
  double *v28; // eax@7
  int v29; // ecx@9
  __m128 v31; // [sp+Ch] [bp-10Ch]@5
  __m128 v32; // [sp+1Ch] [bp-FCh]@5
  __m128 v33; // [sp+4Ch] [bp-CCh]@5
  __m128 v34; // [sp+5Ch] [bp-BCh]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v31 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v32 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v33 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v34 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps(v11);
        v15 = _mm_loadl_ps((const double *)((char *)v11 + v12));
        v16 = (const double *)((char *)v11 + 2 * v12);
        v17 = _mm_unpacklo_ps(v14, v15);
        v18 = _mm_unpacklo_ps(_mm_loadl_ps(v16), _mm_loadl_ps((const double *)((char *)v16 + v12)));
        v19 = v17;
        v20 = _mm_movelh_ps(v17, v18);
        v21 = _mm_movehl_ps(v18, v19);
        v11 = (const double *)((char *)v16 + 2 * v12);
        v22 = v20;
        v23 = _mm_add_ps(_mm_mul_ps(v20, v31), _mm_mul_ps(v21, v33));
        v24 = _mm_add_ps(_mm_mul_ps(v22, v32), _mm_mul_ps(v21, v34));
        v25 = v23;
        v26 = _mm_unpacklo_ps(v23, v24);
        v27 = _mm_unpackhi_ps(v25, v24);
        _mm_storel_ps(v7, v26);
        _mm_storel_ps((double *)((char *)v7 + i), _mm_movehl_ps(v26, v26));
        v28 = (double *)((char *)v7 + 2 * i);
        _mm_storel_ps(v28, v27);
        _mm_storel_ps((double *)((char *)v28 + i), _mm_movehl_ps(v27, v27));
        v7 = (double *)((char *)v28 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v29 = v6 - 4;
      v11 = (const double *)((char *)v11 + v29 * v12);
      v7 = (double *)((char *)v7 + v29 * i);
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = (__m64 *)a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (double *)((char *)sub_44B910((__m64 *)v7, v9, v8)->m64_i32 + a2);
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (double *)((char *)a3 + a4);
    }
  }
  return a1;
}

//----- (00445240) --------------------------------------------------------
__m128 *__stdcall sub_445240(__m128 *a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ecx@1
  __m128 *v7; // eax@1
  int v8; // ebx@1
  __m128 v9; // xmm4@2
  __m128 v10; // xmm5@2
  __m128 v11; // xmm6@2
  __m128 v12; // xmm7@2
  __m128 v13; // xmm0@3
  __m128 v14; // xmm1@3
  __m128 v15; // xmm2@3
  unsigned __int8 v16; // of@3

  v6 = a6;
  v7 = a1;
  v8 = a3;
  if ( a6 > 0 )
  {
    v9 = *(__m128 *)a5;
    v10 = *(__m128 *)(a5 + 16);
    v11 = *(__m128 *)(a5 + 32);
    v12 = *(__m128 *)(a5 + 48);
    do
    {
      v13 = _mm_shuffle_ps((__m128)*(_DWORD *)v8, (__m128)*(_DWORD *)v8, 0);
      v14 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 4), (__m128)*(_DWORD *)(v8 + 4), 0);
      v15 = _mm_shuffle_ps((__m128)*(_DWORD *)(v8 + 8), (__m128)*(_DWORD *)(v8 + 8), 0);
      v8 += a4;
      *v7 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v13, v9), _mm_mul_ps(v14, v10)), _mm_add_ps(_mm_mul_ps(v15, v11), v12));
      v7 = (__m128 *)((char *)v7 + a2);
      v16 = __OFSUB__(v6--, 1);
    }
    while ( !((unsigned __int8)((v6 < 0) ^ v16) | (v6 == 0)) );
  }
  return a1;
}

//----- (004452E0) --------------------------------------------------------
int __stdcall sub_4452E0(int a1, int a2, int a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  int v7; // eax@1
  int v8; // edx@1
  int v9; // esi@2
  bool j; // zf@2
  int v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  __m128 v16; // xmm2@7
  __m128 v17; // xmm3@7
  int v18; // edx@7
  __m128 v19; // xmm0@7
  __m128 v20; // xmm4@7
  __m128 v21; // xmm1@7
  __m128 v22; // xmm2@7
  __m128 v23; // xmm0@7
  __m128 v24; // xmm4@7
  __m128 v25; // xmm1@7
  __m128 v26; // xmm3@7
  __m128 v27; // xmm5@7
  __m128 v28; // xmm0@7
  __m128 v29; // xmm1@7
  __m128 v30; // xmm3@7
  __m128 v31; // xmm5@7
  __m128 v32; // xmm4@7
  __m128 v33; // xmm4@7
  __m128 v34; // xmm0@7
  __m128 v35; // xmm1@7
  __m128 v36; // xmm3@7
  __m128 v37; // xmm2@7
  __m128 v38; // xmm0@7
  __m128 v39; // xmm2@7
  __m128 v40; // xmm3@7
  __m128 v41; // xmm3@7
  int v42; // eax@7
  int v43; // ecx@9
  __m128 v45; // [sp+Ch] [bp-10Ch]@5
  __m128 v46; // [sp+1Ch] [bp-FCh]@5
  __m128 v47; // [sp+2Ch] [bp-ECh]@5
  __m128 v48; // [sp+3Ch] [bp-DCh]@5
  __m128 v49; // [sp+4Ch] [bp-CCh]@5
  __m128 v50; // [sp+5Ch] [bp-BCh]@5
  __m128 v51; // [sp+6Ch] [bp-ACh]@5
  __m128 v52; // [sp+7Ch] [bp-9Ch]@5
  __m128 v53; // [sp+8Ch] [bp-8Ch]@5
  __m128 v54; // [sp+9Ch] [bp-7Ch]@5
  __m128 v55; // [sp+ACh] [bp-6Ch]@5
  __m128 v56; // [sp+BCh] [bp-5Ch]@5
  __m128 v57; // [sp+CCh] [bp-4Ch]@5
  __m128 v58; // [sp+DCh] [bp-3Ch]@5
  __m128 v59; // [sp+ECh] [bp-2Ch]@5
  __m128 v60; // [sp+FCh] [bp-1Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v46 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v47 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 8), (__m128)*(_DWORD *)(a5 + 8), 0);
    v48 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 12), (__m128)*(_DWORD *)(a5 + 12), 0);
    v49 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v50 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v51 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 24), (__m128)*(_DWORD *)(a5 + 24), 0);
    v52 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 28), (__m128)*(_DWORD *)(a5 + 28), 0);
    v53 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 32), (__m128)*(_DWORD *)(a5 + 32), 0);
    v54 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 36), (__m128)*(_DWORD *)(a5 + 36), 0);
    v55 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 40), (__m128)*(_DWORD *)(a5 + 40), 0);
    v56 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 44), (__m128)*(_DWORD *)(a5 + 44), 0);
    v57 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 48), (__m128)*(_DWORD *)(a5 + 48), 0);
    v58 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 52), (__m128)*(_DWORD *)(a5 + 52), 0);
    v59 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 56), (__m128)*(_DWORD *)(a5 + 56), 0);
    v60 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 60), (__m128)*(_DWORD *)(a5 + 60), 0);
    v11 = a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps((const double *)v11);
        v15 = _mm_loadl_ps((const double *)(v12 + v11));
        v16 = (__m128)*(_DWORD *)(v11 + 8);
        v17 = (__m128)*(_DWORD *)(v12 + v11 + 8);
        v18 = v11 + 2 * v12;
        v19 = _mm_unpacklo_ps(v14, v15);
        v20 = _mm_unpacklo_ps(_mm_loadl_ps((const double *)v18), _mm_loadl_ps((const double *)(v12 + v18)));
        v21 = v19;
        v22 = _mm_movelh_ps(
                _mm_unpacklo_ps(v16, v17),
                _mm_unpacklo_ps((__m128)*(_DWORD *)(v18 + 8), (__m128)*(_DWORD *)(v12 + v18 + 8)));
        v23 = _mm_movelh_ps(v19, v20);
        v24 = _mm_movehl_ps(v20, v21);
        v11 = v18 + 2 * v12;
        v25 = v23;
        v26 = v23;
        v27 = v23;
        v28 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v45), _mm_mul_ps(v24, v49)), _mm_mul_ps(v22, v53)), v57);
        v29 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v25, v46), _mm_mul_ps(v24, v50)), _mm_mul_ps(v22, v54)), v58);
        v30 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v26, v47), _mm_mul_ps(v24, v51)), _mm_mul_ps(v22, v55)), v59);
        v31 = _mm_add_ps(_mm_add_ps(_mm_add_ps(_mm_mul_ps(v27, v48), _mm_mul_ps(v24, v52)), _mm_mul_ps(v22, v56)), v60);
        v32 = _mm_rcp_ps(v31);
        v33 = _mm_mul_ps(v32, _mm_sub_ps((__m128)xmmword_4B4E00, _mm_mul_ps(v31, v32)));
        v34 = _mm_mul_ps(v28, v33);
        v35 = _mm_mul_ps(v29, v33);
        v36 = _mm_mul_ps(v30, v33);
        v37 = v34;
        v38 = _mm_unpacklo_ps(v34, v35);
        v39 = _mm_unpackhi_ps(v37, v35);
        _mm_storel_ps((double *)v7, v38);
        *(_DWORD *)(v7 + 8) = v36.m128_i32[0];
        v40 = _mm_shuffle_ps(v36, v36, -7);
        _mm_storel_ps((double *)(i + v7), _mm_movehl_ps(v38, v38));
        *(_DWORD *)(i + v7 + 8) = v40.m128_i32[0];
        v41 = v40;
        v42 = v7 + 2 * i;
        _mm_storel_ps((double *)v42, v39);
        *(_DWORD *)(v42 + 8) = v41.m128_i32[0];
        _mm_storel_ps((double *)(i + v42), _mm_movehl_ps(v39, v39));
        *(_DWORD *)(i + v42 + 8) = (unsigned __int128)_mm_shuffle_ps(v41, v41, -7);
        v7 = v42 + 2 * i;
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v43 = v6 - 4;
      v11 += v43 * v12;
      v7 += v43 * i;
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = a2 + sub_44B0BF(v7, v9, v8);
      v9 = a4 + a3;
      a3 += a4;
    }
  }
  return a1;
}
// 44B0BF: using guessed type _DWORD __stdcall sub_44B0BF(_DWORD, _DWORD, _DWORD);
// 4B4E00: using guessed type __int128 xmmword_4B4E00;

//----- (00445600) --------------------------------------------------------
char *__stdcall sub_445600(char *a1, int a2, __m64 *a3, int a4, int a5, signed int a6)
{
  signed int v6; // ecx@1
  char *v7; // eax@1
  int v8; // edx@1
  __m64 *v9; // esi@2
  bool j; // zf@2
  int v11; // edx@5
  int v12; // esi@5
  int i; // edi@5
  __m128 v14; // xmm0@7
  __m128 v15; // xmm1@7
  __m128 v16; // xmm2@7
  __m128 v17; // xmm3@7
  int v18; // edx@7
  __m128 v19; // xmm0@7
  __m128 v20; // xmm4@7
  __m128 v21; // xmm1@7
  __m128 v22; // xmm2@7
  __m128 v23; // xmm0@7
  __m128 v24; // xmm4@7
  __m128 v25; // xmm1@7
  __m128 v26; // xmm3@7
  __m128 v27; // xmm0@7
  __m128 v28; // xmm1@7
  __m128 v29; // xmm3@7
  __m128 v30; // xmm2@7
  __m128 v31; // xmm0@7
  __m128 v32; // xmm2@7
  __m128 v33; // xmm3@7
  __m128 v34; // xmm3@7
  int v35; // eax@7
  int v36; // ecx@9
  __m128 v38; // [sp+Ch] [bp-10Ch]@5
  __m128 v39; // [sp+1Ch] [bp-FCh]@5
  __m128 v40; // [sp+2Ch] [bp-ECh]@5
  __m128 v41; // [sp+4Ch] [bp-CCh]@5
  __m128 v42; // [sp+5Ch] [bp-BCh]@5
  __m128 v43; // [sp+6Ch] [bp-ACh]@5
  __m128 v44; // [sp+8Ch] [bp-8Ch]@5
  __m128 v45; // [sp+9Ch] [bp-7Ch]@5
  __m128 v46; // [sp+ACh] [bp-6Ch]@5

  v6 = a6;
  v7 = a1;
  v8 = a5;
  if ( a6 >= 4 )
  {
    v38 = _mm_shuffle_ps((__m128)*(_DWORD *)a5, (__m128)*(_DWORD *)a5, 0);
    v39 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 4), (__m128)*(_DWORD *)(a5 + 4), 0);
    v40 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 8), (__m128)*(_DWORD *)(a5 + 8), 0);
    v41 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 16), (__m128)*(_DWORD *)(a5 + 16), 0);
    v42 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 20), (__m128)*(_DWORD *)(a5 + 20), 0);
    v43 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 24), (__m128)*(_DWORD *)(a5 + 24), 0);
    v44 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 32), (__m128)*(_DWORD *)(a5 + 32), 0);
    v45 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 36), (__m128)*(_DWORD *)(a5 + 36), 0);
    v46 = _mm_shuffle_ps((__m128)*(_DWORD *)(a5 + 40), (__m128)*(_DWORD *)(a5 + 40), 0);
    v11 = (int)a3;
    v12 = a4;
    for ( i = a2; ; i = a2 )
    {
      while ( v6 >= 4 )
      {
        v14 = _mm_loadl_ps((const double *)v11);
        v15 = _mm_loadl_ps((const double *)(v12 + v11));
        v16 = (__m128)*(_DWORD *)(v11 + 8);
        v17 = (__m128)*(_DWORD *)(v12 + v11 + 8);
        v18 = v11 + 2 * v12;
        v19 = _mm_unpacklo_ps(v14, v15);
        v20 = _mm_unpacklo_ps(_mm_loadl_ps((const double *)v18), _mm_loadl_ps((const double *)(v12 + v18)));
        v21 = v19;
        v22 = _mm_movelh_ps(
                _mm_unpacklo_ps(v16, v17),
                _mm_unpacklo_ps((__m128)*(_DWORD *)(v18 + 8), (__m128)*(_DWORD *)(v12 + v18 + 8)));
        v23 = _mm_movelh_ps(v19, v20);
        v24 = _mm_movehl_ps(v20, v21);
        v11 = v18 + 2 * v12;
        v25 = v23;
        v26 = v23;
        v27 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v23, v38), _mm_mul_ps(v24, v41)), _mm_mul_ps(v22, v44));
        v28 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v25, v39), _mm_mul_ps(v24, v42)), _mm_mul_ps(v22, v45));
        v29 = _mm_add_ps(_mm_add_ps(_mm_mul_ps(v26, v40), _mm_mul_ps(v24, v43)), _mm_mul_ps(v22, v46));
        v30 = v27;
        v31 = _mm_unpacklo_ps(v27, v28);
        v32 = _mm_unpackhi_ps(v30, v28);
        _mm_storel_ps((double *)v7, v31);
        *((_DWORD *)v7 + 2) = v29.m128_i32[0];
        v33 = _mm_shuffle_ps(v29, v29, -7);
        _mm_storel_ps((double *)&v7[i], _mm_movehl_ps(v31, v31));
        *(_DWORD *)&v7[i + 8] = v33.m128_i32[0];
        v34 = v33;
        v35 = (int)&v7[2 * i];
        _mm_storel_ps((double *)v35, v32);
        *(_DWORD *)(v35 + 8) = v34.m128_i32[0];
        _mm_storel_ps((double *)(i + v35), _mm_movehl_ps(v32, v32));
        *(_DWORD *)(i + v35 + 8) = (unsigned __int128)_mm_shuffle_ps(v34, v34, -7);
        v7 = (char *)(v35 + 2 * i);
        v6 -= 4;
      }
      if ( !v6 )
        break;
      v36 = v6 - 4;
      v11 += v36 * v12;
      v7 += v36 * i;
      v6 = 4;
      v12 = a4;
    }
  }
  else
  {
    v9 = a3;
    for ( j = a6 == 0; !j; j = a6-- == 1 )
    {
      v7 = (char *)sub_44AB78((__m64 *)v7, v9, v8) + a2;
      v9 = (__m64 *)((char *)a3 + a4);
      a3 = (__m64 *)((char *)a3 + a4);
    }
  }
  return a1;
}

//----- (0044587C) --------------------------------------------------------
int __stdcall sub_44587C(int a1, __m64 *a2, int a3)
{
  __m64 v3; // mm3@1
  __m64 v4; // mm1@1
  __m64 v5; // mm4@1
  __m64 v6; // mm5@1
  int result; // eax@1
  __m64 v8; // mm6@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm5@1
  __m64 v13; // mm3@1

  v3 = *(__m64 *)(a3 + 8);
  v4 = a2[1];
  v5 = _m_punpckldq(_m_punpckhdq(*(__m64 *)a3, *(__m64 *)a3), *(__m64 *)a3);
  v6 = _m_punpckldq(_m_punpckhdq(v3, v3), v3);
  result = a1;
  v8 = v5;
  v9 = _m_pfmul(v6, v4);
  v10 = _m_pfacc(
          _m_pfsub(_m_pfmul(v5, v4), _m_pfmul(_m_pxor(v6, (__m64)qword_4906F0), (__m64)a2->m64_u64)),
          _m_pfadd(_m_pxor(_m_pfmul(*(__m64 *)a3, v4), (__m64)qword_4906F0), _m_pfmul(v3, (__m64)a2->m64_u64)));
  v11 = _m_pfmul(_m_pxor(v8, (__m64)qword_4906F0), (__m64)a2->m64_u64);
  v12 = _m_pxor(*(__m64 *)(a3 + 8), (__m64)qword_4906F0);
  v13 = _m_pfmul(*(__m64 *)a3, (__m64)a2->m64_u64);
  *(__m64 *)a1 = v10;
  *(__m64 *)(a1 + 8) = _m_pfacc(_m_pfadd(v11, v9), _m_pfsub(_m_pfmul(v12, v4), v13));
  _m_femms();
  return result;
}
// 4906F0: using guessed type __int64 qword_4906F0;

//----- (00445915) --------------------------------------------------------
int __stdcall sub_445915(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm2@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  int result; // eax@1
  __m64 v7; // mm0@1
  __m64 v8; // mm4@1
  __m64 v9; // mm5@1
  __m64 v10; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = *(__m64 *)(a2 + 8);
  v4 = v2;
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v3, v3));
  result = a1;
  v7 = _m_pfacc(v5, v5);
  v8 = _m_pfrsqrt(v7);
  v9 = _m_pfcmpgt(v7, (__m64)qword_490748);
  v10 = _m_pfrcpit2(_m_pfrsqit1(v7, _m_pfmul(v8, v8)), v8);
  *(__m64 *)a1 = _m_pfmul(_m_pand(v4, v9), v10);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_pand(v3, v9), v10);
  _m_femms();
  return result;
}
// 490748: using guessed type __int64 qword_490748;

//----- (00445972) --------------------------------------------------------
void __stdcall sub_445972(int a1, int a2, _DWORD *a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm0@3

  v3 = *(__m64 *)(a1 + 8);
  if ( a2 )
  {
    *(_QWORD *)a2 = *(_QWORD *)a1;
    *(_DWORD *)(a2 + 8) = _mm_cvtsi64_si32(v3);
  }
  v4 = _m_punpckhdq(v3, v3);
  if ( a3 )
  {
    sub_450F80();
    *a3 = _mm_cvtsi64_si32(_m_pfmul(v4, (__m64)qword_4906E0));
  }
  _m_femms();
}
// 4906E0: using guessed type __int64 qword_4906E0;

//----- (004459B6) --------------------------------------------------------
int __stdcall sub_4459B6(int a1, __m64 *a2)
{
  __m64 v2; // mm4@1
  __m64 v3; // mm5@1
  __m64 v4; // mm3@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm5@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm6@1
  int v13; // ecx@1
  __m64 v14; // mm6@1
  __m64 v15; // mm0@2
  __m64 v16; // mm7@2
  __m64 v17; // mm4@2
  __m64 v18; // mm0@2
  __m64 v19; // mm4@2
  int result; // eax@2
  __m64 v21; // mm1@2
  __m64 v22; // mm1@4
  __m64 v23; // mm4@4
  __m64 v24; // mm1@4
  __m64 v25; // mm4@4
  __m64 v26; // mm1@4
  __m64 v27; // mm2@6
  __m64 v28; // mm4@6
  __m64 v29; // mm2@6
  __m64 v30; // mm4@6
  __m64 v31; // mm1@6
  __m64 v32; // mm3@7
  __m64 v33; // mm2@7
  __m64 v34; // mm3@7
  __m64 v35; // mm2@7
  __m64 v36; // mm3@7

  v2 = _mm_cvtsi32_si64(a2[2].m64_u32[1]);
  v3 = _mm_cvtsi32_si64(a2[5].m64_u32[0]);
  v4 = _m_pfsubr((__m64)a2->m64_u64, v3);
  v5 = _m_pfadd(_m_pfadd((__m64)a2->m64_u64, v2), v3);
  v6 = _m_pfsub(_m_pfsub((__m64)a2->m64_u64, v2), v3);
  v7 = _m_pfsub(_m_pfsubr((__m64)a2->m64_u64, v2), v3);
  v8 = a2[4];
  v9 = _m_pfsub(v4, v2);
  v10 = _m_punpckldq(v5, v7);
  v11 = _m_punpckldq(v9, v9);
  v12 = _m_packssdw(_m_pfcmpge(_m_punpckldq(0i64, v6), v10), _m_pfcmpge(_m_punpckldq(v7, v6), v11));
  v13 = _mm_cvtsi64_si32(_m_packsswb(v12, v12));
  v14 = a2[4];
  if ( v13 & 1 )
  {
    if ( (v13 & 0xFF00FF00) == -16711936 )
    {
      v22 = _m_pfadd(v6, (__m64)qword_4906C8);
      v23 = _m_pfrsqrt(v22);
      v24 = _m_punpckldq(v22, v22);
      v25 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v23, v23), v24), v23), (__m64)qword_490740);
      result = a1;
      v26 = _m_punpckldq(
              _m_pfmul(v24, v25),
              _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a2[2].m64_u32[0]), _m_punpckhdq(v7, v7)), v25));
      *(__m64 *)(a1 + 8) = _m_pfmul(
                             _m_pfadd(
                               _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                               _m_pxor(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v14, v14)),
                                 (__m64)qword_4906F8)),
                             v25);
      *(__m64 *)a1 = v26;
      _m_femms();
    }
    else
    {
      result = a1;
      if ( v13 & 0x10000 )
      {
        v27 = _m_pfadd(v7, (__m64)qword_4906C8);
        v28 = _m_pfrsqrt(v27);
        v29 = _m_punpckldq(v27, v27);
        v30 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v28, v28), v29), v28), (__m64)qword_490740);
        v31 = _m_punpckldq(
                _m_pfmul(_m_pfadd(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v30),
                _m_pfmul(v29, v30));
        *(__m64 *)(a1 + 8) = _m_pfmul(
                               _m_pfadd(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                                 _m_pxor(
                                   _m_punpckldq(_m_punpckhdq(v8, v8), (__m64)LODWORD(a2[1].m64_f32[0])),
                                   (__m64)qword_4906F8)),
                               v30);
        *(__m64 *)a1 = v31;
        _m_femms();
      }
      else
      {
        v32 = _m_pfadd(v11, (__m64)qword_4906C8);
        v33 = _m_pfrsqrt(v32);
        v34 = _m_punpckldq(v32, v32);
        v35 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v33, v33), v34), v33), (__m64)qword_490740);
        v36 = _m_punpckldq(
                _m_pfmul(v34, v35),
                _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v35));
        *(__m64 *)a1 = _m_pfmul(
                         _m_pfadd(
                           _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                           _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v14, v14))),
                         v35);
        *(__m64 *)(a1 + 8) = v36;
        _m_femms();
      }
    }
  }
  else
  {
    v15 = _m_pfadd(v10, (__m64)qword_4906C8);
    v16 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
    v17 = _m_pfrsqrt(v15);
    v18 = _m_punpckldq(v15, v15);
    v19 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v17, v17), v18), v17), (__m64)qword_490740);
    result = a1;
    v21 = _m_punpckldq(
            _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v19),
            _m_pfmul(v18, v19));
    *(__m64 *)a1 = _m_pfmul(
                     _m_pfsub(
                       _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                       _m_punpckhdq(v8, _m_punpckldq(v16, v16))),
                     v19);
    *(__m64 *)(a1 + 8) = v21;
    _m_femms();
  }
  return result;
}
// 4906C8: using guessed type __int64 qword_4906C8;
// 4906F8: using guessed type __int64 qword_4906F8;
// 490740: using guessed type __int64 qword_490740;

//----- (00445BD2) --------------------------------------------------------
int __stdcall sub_445BD2(int a1, __m64 *a2)
{
  __m64 v2; // mm4@1
  __m64 v3; // mm5@1
  __m64 v4; // mm3@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm5@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  char v12; // cl@1
  __m64 v13; // mm6@1
  __m64 v14; // mm0@2
  __m64 v15; // mm7@2
  __m64 v16; // mm4@2
  __m64 v17; // mm0@2
  __m64 v18; // mm4@2
  int result; // eax@2
  __m64 v20; // mm1@2
  __m64 v21; // mm1@4
  __m64 v22; // mm4@4
  __m64 v23; // mm1@4
  __m64 v24; // mm4@4
  __m64 v25; // mm1@4
  __m64 v26; // mm2@6
  __m64 v27; // mm4@6
  __m64 v28; // mm2@6
  __m64 v29; // mm4@6
  __m64 v30; // mm1@6
  __m64 v31; // mm3@7
  __m64 v32; // mm2@7
  __m64 v33; // mm3@7
  __m64 v34; // mm2@7
  __m64 v35; // mm3@7

  v2 = _mm_cvtsi32_si64(a2[2].m64_u32[1]);
  v3 = _mm_cvtsi32_si64(a2[5].m64_u32[0]);
  v4 = _m_pfsubr((__m64)a2->m64_u64, v3);
  v5 = _m_pfadd(_m_pfadd((__m64)a2->m64_u64, v2), v3);
  v6 = _m_pfsub(_m_pfsub((__m64)a2->m64_u64, v2), v3);
  v7 = _m_pfsub(_m_pfsubr((__m64)a2->m64_u64, v2), v3);
  v8 = a2[4];
  v9 = _m_pfsub(v4, v2);
  v10 = _m_punpckldq(v5, v7);
  v11 = _m_punpckldq(v9, v9);
  v12 = _m_pmovmskb(_m_packssdw(_m_pfcmpge(_m_punpckldq(0i64, v6), v10), _m_pfcmpge(_m_punpckldq(v7, v6), v11)));
  v13 = a2[4];
  if ( v12 & 1 )
  {
    if ( (v12 & 0xCC) == 204 )
    {
      v21 = _m_pfadd(v6, (__m64)qword_4906C8);
      v22 = _m_pfrsqrt(v21);
      v23 = _m_punpckldq(v21, v21);
      v24 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v22, v22), v23), v22), (__m64)qword_490740);
      result = a1;
      v25 = _m_punpckldq(
              _m_pfmul(v23, v24),
              _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a2[2].m64_u32[0]), _m_punpckhdq(v7, v7)), v24));
      *(__m64 *)(a1 + 8) = _m_pfmul(
                             _m_pfadd(
                               _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                               _m_pxor(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v13, v13)),
                                 (__m64)qword_4906F8)),
                             v24);
      *(__m64 *)a1 = v25;
      _m_femms();
    }
    else
    {
      result = a1;
      if ( v12 & 0x10 )
      {
        v26 = _m_pfadd(v7, (__m64)qword_4906C8);
        v27 = _m_pfrsqrt(v26);
        v28 = _m_punpckldq(v26, v26);
        v29 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v27, v27), v28), v27), (__m64)qword_490740);
        v30 = _m_punpckldq(
                _m_pfmul(_m_pfadd(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v29),
                _m_pfmul(v28, v29));
        *(__m64 *)(a1 + 8) = _m_pfmul(
                               _m_pfadd(
                                 _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                                 _m_pxor(
                                   _m_punpckldq(_m_punpckhdq(v8, v8), (__m64)LODWORD(a2[1].m64_f32[0])),
                                   (__m64)qword_4906F8)),
                               v29);
        *(__m64 *)a1 = v30;
        _m_femms();
      }
      else
      {
        v31 = _m_pfadd(v11, (__m64)qword_4906C8);
        v32 = _m_pfrsqrt(v31);
        v33 = _m_punpckldq(v31, v31);
        v34 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v32, v32), v33), v32), (__m64)qword_490740);
        v35 = _m_punpckldq(
                _m_pfmul(v33, v34),
                _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v34));
        *(__m64 *)a1 = _m_pfmul(
                         _m_pfadd(
                           _m_punpckldq(v8, (__m64)LODWORD(a2[3].m64_f32[0])),
                           _m_punpckldq(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _m_punpckhdq(v13, v13))),
                         v34);
        *(__m64 *)(a1 + 8) = v35;
        _m_femms();
      }
    }
  }
  else
  {
    v14 = _m_pfadd(v10, (__m64)qword_4906C8);
    v15 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
    v16 = _m_pfrsqrt(v14);
    v17 = _m_punpckldq(v14, v14);
    v18 = _m_pfmul(_m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v16, v16), v17), v16), (__m64)qword_490740);
    result = a1;
    v20 = _m_punpckldq(
            _m_pfmul(_m_pfsub(_m_punpckhdq(v6, v6), _mm_cvtsi32_si64(a2[2].m64_u32[0])), v18),
            _m_pfmul(v17, v18));
    *(__m64 *)a1 = _m_pfmul(
                     _m_pfsub(
                       _m_punpckldq(_mm_cvtsi32_si64(a2[3].m64_u32[0]), v8),
                       _m_punpckhdq(v8, _m_punpckldq(v15, v15))),
                     v18);
    *(__m64 *)(a1 + 8) = v20;
    _m_femms();
  }
  return result;
}
// 4906C8: using guessed type __int64 qword_4906C8;
// 4906F8: using guessed type __int64 qword_4906F8;
// 490740: using guessed type __int64 qword_490740;

//----- (00445EAC) --------------------------------------------------------
__m64 *__stdcall sub_445EAC(__m64 *a1, __m64 *a2, unsigned int a3)
{
  __m64 v3; // mm0@1
  __m64 *result; // eax@1
  __m64 v5; // mm3@1
  __m64 v6; // mm2@1
  __m64 v7; // [sp+0h] [bp-18h]@1
  unsigned int v8; // [sp+8h] [bp-10h]@1

  _m_femms();
  sub_44ABDF(&v7, a2);
  v3 = _m_pfmul(_mm_cvtsi32_si64(a3), (__m64)qword_490768);
  sub_451560(v3);
  result = a1;
  v5 = _m_punpckhdq(v3, v3);
  v6 = _m_punpckldq(_m_pfmul(_mm_cvtsi32_si64(v8), v5), v3);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(v7, v5);
  a1[1].m64_u64 = (unsigned __int64)v6;
  _m_femms();
  return result;
}
// 490768: using guessed type __int64 qword_490768;

//----- (00445F18) --------------------------------------------------------
__m64 *__stdcall sub_445F18(__m64 *a1, int a2, int a3, unsigned int a4)
{
  __m64 v4; // mm1@1
  __m64 v5; // mm4@1
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm7@1
  __m64 v9; // mm1@1
  __m64 v10; // mm3@1
  __m64 v11; // mm4@2
  unsigned int v12; // ST00_4@2
  __m64 v13; // mm0@2
  __m64 v14; // mm0@2
  __m64 v15; // mm1@2
  __m64 *result; // eax@3
  __m64 v17; // mm4@3
  __m64 v18; // mm0@3
  __m64 v19; // mm4@3
  __m64 v20; // mm5@3
  unsigned int v21; // [sp+28h] [bp+10h]@2

  _m_femms();
  v4 = _m_pfadd(_m_pfmul(*(__m64 *)a2, *(__m64 *)a3), _m_pfmul(*(__m64 *)(a2 + 8), *(__m64 *)(a3 + 8)));
  v5 = _mm_cvtsi32_si64(a4);
  v6 = _m_pfsub(_mm_cvtsi32_si64(qword_490760), v5);
  v7 = _m_pfacc(v4, v4);
  v8 = _m_pand(_m_pfcmpge(0i64, v7), (__m64)qword_4907A8);
  v9 = _m_pxor(v7, v8);
  v10 = _m_pfsubr(_m_pfmul(v9, v9), (__m64)qword_490760);
  if ( _mm_cvtsi64_si32(_m_pfcmpge((__m64)qword_4907C0, v9)) )
  {
    v11 = _m_pfrsqrt(v10);
    v12 = _mm_cvtsi64_si32(v6);
    sub_450E80();
    v13 = _m_pfmul(v9, _mm_cvtsi32_si64(a4));
    sub_451660(v13);
    v21 = _mm_cvtsi64_si32(v13);
    v14 = _m_pfmul(_mm_cvtsi32_si64(_mm_cvtsi64_si32(v9)), _mm_cvtsi32_si64(v12));
    sub_451660(v14);
    v15 = _mm_cvtsi32_si64(_mm_cvtsi64_si32(_m_pfrcpit2(_m_pfrsqit1(v10, _m_pfmul(v11, v11)), v11)));
    v8 = _mm_cvtsi32_si64(_mm_cvtsi64_si32(v8));
    v6 = _m_pfmul(v14, v15);
    v5 = _m_pfmul(_mm_cvtsi32_si64(v21), v15);
  }
  result = a1;
  v17 = _m_pxor(v5, v8);
  v18 = _m_punpckldq(v6, v6);
  v19 = _m_punpckldq(v17, v17);
  v20 = _m_pfadd(_m_pfmul(v18, *(__m64 *)(a2 + 8)), _m_pfmul(v19, *(__m64 *)(a3 + 8)));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(_m_pfmul(v18, *(__m64 *)a2), _m_pfmul(v19, *(__m64 *)a3));
  a1[1].m64_u64 = (unsigned __int64)v20;
  _m_femms();
  return result;
}
// 490760: using guessed type __int64 qword_490760;
// 4907A8: using guessed type __int64 qword_4907A8;
// 4907C0: using guessed type __int64 qword_4907C0;

//----- (0044604F) --------------------------------------------------------
__m64 *__stdcall sub_44604F(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm2@1
  __m64 *result; // eax@1
  char v9; // [sp+Ch] [bp-24h]@1
  char v10; // [sp+1Ch] [bp-14h]@1
  unsigned int v11; // [sp+44h] [bp+14h]@1

  _m_femms();
  v11 = _mm_cvtsi64_si32(_m_pfadd(_mm_cvtsi32_si64(a5), _mm_cvtsi32_si64(a6)));
  sub_445F18((__m64 *)&v9, a2, a3, v11);
  sub_445F18((__m64 *)&v10, a2, a4, v11);
  v6 = _mm_cvtsi32_si64(v11);
  v7 = _m_pfrcp(v6);
  sub_445F18(
    a1,
    (int)&v9,
    (int)&v10,
    _mm_cvtsi64_si32(_m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v6, v7), v7), _mm_cvtsi32_si64(a6))));
  result = a1;
  _m_femms();
  return result;
}

//----- (004460DC) --------------------------------------------------------
__m64 *__stdcall sub_4460DC(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 *result; // eax@1
  char v8; // [sp+10h] [bp-20h]@1
  char v9; // [sp+20h] [bp-10h]@1

  sub_445F18((__m64 *)&v8, a2, a5, a6);
  sub_445F18((__m64 *)&v9, a3, a4, a6);
  v6 = _mm_cvtsi32_si64(a6);
  result = sub_445F18(
             a1,
             (int)&v8,
             (int)&v9,
             _mm_cvtsi64_si32(_m_pfmul(_m_pfsub(v6, _m_pfmul(v6, v6)), (__m64)qword_4906E0)));
  _m_femms();
  return result;
}
// 4906E0: using guessed type __int64 qword_4906E0;

//----- (0044616E) --------------------------------------------------------
int __stdcall sub_44616E(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm0@1
  int result; // eax@1
  __m64 v8; // mm4@1
  __m64 v9; // mm5@1
  __m64 v10; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = v2;
  v4 = *(__m64 *)(a2 + 8);
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v4, v4));
  v6 = _m_pfacc(v5, v5);
  result = a1;
  v8 = _m_pfrcp(v6);
  v9 = _m_pfcmpgt(v6, (__m64)qword_490748);
  v10 = _m_pfrcpit2(_m_pfrcpit1(v6, v8), v8);
  *(__m64 *)a1 = _m_pfmul(_m_pand(_m_pxor(v3, (__m64)qword_4907A8), v9), v10);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_pand(_m_pxor(v4, (__m64)qword_4906F0), v9), v10);
  _m_femms();
  return result;
}
// 4906F0: using guessed type __int64 qword_4906F0;
// 490748: using guessed type __int64 qword_490748;
// 4907A8: using guessed type __int64 qword_4907A8;

//----- (004461D2) --------------------------------------------------------
int __stdcall sub_4461D2(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm3@3
  __m64 v7; // mm4@3
  __m64 v8; // mm3@3
  unsigned int v9; // [sp+0h] [bp-Ch]@2

  _m_femms();
  result = a1;
  v3 = *(__m64 *)a2;
  v4 = *(__m64 *)(a2 + 8);
  v5 = _m_punpckhdq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8));
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v5, (__m64)qword_490760)) )
  {
    sub_450F80();
    v9 = _mm_cvtsi64_si32(v5);
    sub_451660(v5);
    result = a1;
    v3 = *(__m64 *)a2;
    v4 = *(__m64 *)(a2 + 8);
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v5, (__m64)qword_490718), (__m64)qword_490720)) )
    {
      v6 = _mm_cvtsi32_si64(v9);
      v7 = _m_pfrcp(v5);
      v8 = _m_pfmul(_m_punpckldq(v6, v6), _m_pfrcpit2(_m_pfrcpit1(v5, v7), v7));
      v3 = _m_pfmul(v3, v8);
      v4 = _m_pfmul(v4, v8);
    }
  }
  *(__m64 *)result = v3;
  *(__m64 *)(result + 8) = _m_pand(v4, (__m64)qword_490728);
  _m_femms();
  return result;
}
// 490718: using guessed type __int64 qword_490718;
// 490720: using guessed type __int64 qword_490720;
// 490728: using guessed type __int64 qword_490728;
// 490760: using guessed type __int64 qword_490760;

//----- (00446279) --------------------------------------------------------
int __userpurge sub_446279@<eax>(unsigned int a1@<esi>, int a2, __m64 *a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm1@1
  __m64 v8; // ST00_8@1
  __m64 v9; // mm0@1
  __m64 v10; // mm1@1
  __m64 v11; // mm0@1
  int result; // eax@1
  char v13; // cl@1
  __m64 v14; // mm2@1
  __m64 v15; // mm0@1
  __m64 v16; // mm1@1
  __m64 v17; // mm3@1
  __m64 v18; // mm1@2

  v3 = _mm_cvtsi32_si64(a3[1].m64_u32[0]);
  v4 = _m_pfadd(_m_pfmul((__m64)a3->m64_u64, (__m64)a3->m64_u64), _m_pfmul(v3, v3));
  v5 = _m_pfacc(v4, v4);
  v6 = _m_pfrsqrt(v5);
  v7 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v6, v6), v5), v6);
  v8.m64_u64 = __PAIR__(a1, _mm_cvtsi64_si32(v7));
  v9 = _m_pfmul(v5, v7);
  sub_451560(v9);
  v10 = v9;
  v11 = _m_pfcmpge(_m_pand(v9, (__m64)qword_490710), (__m64)qword_490720);
  result = a2;
  v13 = _mm_cvtsi64_si32(_m_punpckhdq(v11, v11));
  v14 = (__m64)a3->m64_u64;
  v15 = v10;
  v16 = _m_pfmul(_m_punpckhdq(v10, v10), v8);
  v17 = _mm_cvtsi32_si64(a3[1].m64_u32[0]);
  if ( v13 & 1 )
  {
    v18 = _m_punpckldq(v16, v16);
    v17 = _m_pfmul(v17, v18);
    v14 = _m_pfmul(v14, v18);
  }
  *(__m64 *)a2 = v14;
  *(__m64 *)(a2 + 8) = _m_punpckldq(v17, v15);
  _m_femms();
  return result;
}
// 446279: could not find valid save-restore pair for esi
// 490710: using guessed type __int64 qword_490710;
// 490720: using guessed type __int64 qword_490720;

//----- (0044631E) --------------------------------------------------------
int __userpurge sub_44631E@<eax>(unsigned int a1@<esi>, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm2@1
  __m64 v11; // mm3@1
  __m64 v12; // mm0@1
  __m64 v13; // mm2@1
  __m64 v14; // mm4@1
  __m64 v15; // mm5@1
  __m64 v16; // mm1@1
  __m64 v17; // mm3@1
  __m64 v18; // mm2@1
  int v19; // eax@1
  __m64 v20; // mm4@5
  __m64 v21; // mm6@5
  __m64 v22; // mm7@5
  __m64 v23; // mm3@5
  __m64 v24; // mm5@5
  __m64 v25; // mm6@5
  __m64 v26; // mm3@5
  __m64 v27; // mm0@7
  __m64 v28; // mm0@7
  __m64 v29; // mm4@7
  __m64 v30; // mm5@7
  __m64 v31; // mm0@7
  __m64 v32; // mm1@7
  __m64 v33; // ST54_8@7
  __m64 v34; // mm4@7
  __m64 v35; // mm5@7
  __m64 v36; // mm4@7
  __m64 v37; // mm5@7
  __m64 v38; // mm1@7
  __m64 v39; // mm2@7
  __m64 v40; // mm0@7
  __m64 v41; // mm3@9
  __m64 v42; // mm4@9
  __m64 v43; // mm3@9
  __m64 v44; // mm1@10
  __m64 v45; // mm2@10
  __m64 v46; // mm0@10
  __m64 v47; // mm3@12
  __m64 v48; // mm4@12
  __m64 v49; // mm3@12
  __m64 v50; // mm0@13
  __m64 v51; // mm1@13
  unsigned __int64 v52; // ST94_8@13
  __m64 v53; // mm1@13
  __m64 v54; // mm0@13
  __m64 v55; // mm0@13
  __m64 v56; // mm1@13
  __m64 v57; // mm1@13
  __m64 v58; // mm0@13
  __m64 v59; // mm1@13
  __m64 v60; // mm0@13
  char v61; // cl@13
  __m64 v62; // mm2@13
  __m64 v63; // mm0@13
  __m64 v64; // mm1@13
  __m64 v65; // mm3@13
  __m64 v66; // mm1@14
  __m64 v67; // ST84_8@15
  __m64 v68; // mm4@15
  __m64 v69; // mm5@15
  __m64 v70; // mm0@15
  __m64 v71; // mm0@15
  __m64 v72; // mm4@15
  __m64 v73; // mm5@15
  __m64 v74; // mm0@15
  __m64 v75; // mm1@15
  __m64 v76; // ST54_8@15
  __m64 v77; // mm4@15
  __m64 v78; // mm5@15
  __m64 v79; // mm4@15
  __m64 v80; // mm5@15
  __m64 v81; // mm1@15
  __m64 v82; // mm2@15
  __m64 v83; // mm0@15
  __m64 v84; // mm3@17
  __m64 v85; // mm4@17
  __m64 v86; // mm3@17
  __m64 v87; // mm1@18
  __m64 v88; // mm2@18
  __m64 v89; // mm0@18
  __m64 v90; // mm3@20
  __m64 v91; // mm4@20
  __m64 v92; // mm3@20
  __m64 v93; // mm0@21
  __m64 v94; // mm1@21
  unsigned __int64 v95; // ST94_8@21
  __m64 v96; // mm1@21
  __m64 v97; // mm0@21
  __m64 v98; // mm0@21
  __m64 v99; // mm1@21
  __m64 v100; // mm1@21
  __m64 v101; // ST00_8@21
  __m64 v102; // mm0@21
  __m64 v103; // mm1@21
  __m64 v104; // mm0@21
  char v105; // cl@21
  __m64 v106; // mm2@21
  __m64 v107; // mm0@21
  __m64 v108; // mm1@21
  __m64 v109; // mm3@21
  __m64 v110; // mm1@22
  __m64 v111; // ST84_8@23
  __m64 v112; // mm4@23
  __m64 v113; // mm5@23
  int result; // eax@23
  unsigned int v115; // [sp+0h] [bp-ACh]@8
  unsigned int v116; // [sp+0h] [bp-ACh]@11
  __m64 v117; // [sp+0h] [bp-ACh]@13
  unsigned int v118; // [sp+0h] [bp-ACh]@16
  unsigned int v119; // [sp+0h] [bp-ACh]@19
  __m64 v120; // [sp+Ch] [bp-A0h]@1
  __m64 v121; // [sp+14h] [bp-98h]@1
  __m64 v122; // [sp+1Ch] [bp-90h]@1
  __m64 v123; // [sp+24h] [bp-88h]@1
  __m64 v124; // [sp+2Ch] [bp-80h]@1
  __m64 v125; // [sp+34h] [bp-78h]@1
  __m64 v126; // [sp+3Ch] [bp-70h]@5
  __m64 v127; // [sp+44h] [bp-68h]@5
  __m64 v128; // [sp+5Ch] [bp-50h]@10
  __m64 v129; // [sp+5Ch] [bp-50h]@18
  __m64 v130; // [sp+64h] [bp-48h]@10
  __m64 v131; // [sp+64h] [bp-48h]@18
  __m64 v132; // [sp+8Ch] [bp-20h]@7
  __m64 v133; // [sp+8Ch] [bp-20h]@13
  __m64 v134; // [sp+8Ch] [bp-20h]@15
  __m64 v135; // [sp+8Ch] [bp-20h]@21
  __m64 v136; // [sp+94h] [bp-18h]@7
  __m64 v137; // [sp+94h] [bp-18h]@15
  __m64 v138; // [sp+9Ch] [bp-10h]@7
  __m64 v139; // [sp+9Ch] [bp-10h]@15
  __m64 v140; // [sp+A4h] [bp-8h]@7
  __m64 v141; // [sp+A4h] [bp-8h]@15

  v120 = *(__m64 *)a5;
  v121 = *(__m64 *)(a5 + 8);
  v122 = *(__m64 *)a6;
  v8 = _m_pfadd(*(__m64 *)a5, *(__m64 *)a6);
  v123 = *(__m64 *)(a6 + 8);
  v9 = _m_pfadd(v121, v123);
  v10 = _m_pfsub(*(__m64 *)a5, *(__m64 *)a6);
  v11 = _m_pfsub(v121, v123);
  v12 = _m_pfadd(_m_pfmul(v8, v8), _m_pfmul(v9, v9));
  v13 = _m_pfadd(_m_pfmul(v10, v10), _m_pfmul(v11, v11));
  v124 = *(__m64 *)a7;
  v125 = *(__m64 *)(a7 + 8);
  v14 = _m_pfadd(*(__m64 *)a6, *(__m64 *)a7);
  v15 = _m_pfadd(v123, v125);
  v16 = _m_pfsub(*(__m64 *)a6, *(__m64 *)a7);
  v17 = _m_pfsub(*(__m64 *)(a6 + 8), v125);
  v18 = _m_pfcmpgt(
          _m_pfacc(v13, _m_pfadd(_m_pfmul(v16, v16), _m_pfmul(v17, v17))),
          _m_pfacc(v12, _m_pfadd(_m_pfmul(v14, v14), _m_pfmul(v15, v15))));
  v19 = _mm_cvtsi64_si32(_m_packsswb(v18, v18));
  if ( v19 & 1 )
  {
    v120 = _m_pxor((__m64)qword_490700, *(__m64 *)a5);
    v121 = _m_pxor((__m64)qword_490700, *(__m64 *)(a5 + 8));
  }
  if ( v19 & 0x10000 )
  {
    v124 = _m_pxor((__m64)qword_490700, *(__m64 *)a7);
    v125 = _m_pxor((__m64)qword_490700, *(__m64 *)(a7 + 8));
  }
  v20 = *(__m64 *)(a8 + 8);
  v21 = _m_pfadd(v124, *(__m64 *)a8);
  v126 = *(__m64 *)a8;
  v22 = _m_pfadd(v125, v20);
  v127 = *(__m64 *)(a8 + 8);
  v23 = _m_pfsub(v124, *(__m64 *)a8);
  v24 = _m_pfsub(v125, v20);
  v25 = _m_pfadd(_m_pfmul(v21, v21), _m_pfmul(v22, v22));
  v26 = _m_pfadd(_m_pfmul(v23, v23), _m_pfmul(v24, v24));
  if ( _mm_cvtsi64_si32(_m_pfcmpgt(_m_pfacc(v26, v26), _m_pfacc(v25, v25))) & 1 )
  {
    v126 = _m_pxor((__m64)qword_490700, *(__m64 *)a8);
    v127 = _m_pxor((__m64)qword_490700, *(__m64 *)(a8 + 8));
  }
  v27 = _m_pfadd(_m_pfmul(v122, v122), _m_pfmul(v123, v123));
  v28 = _m_pfacc(v27, v27);
  v29 = _m_pfrcp(v28);
  v30 = _m_pfcmpgt(v28, (__m64)qword_490748);
  v31 = _m_pfrcpit2(_m_pfrcpit1(v28, v29), v29);
  v32 = _m_pfmul(_m_pand(_m_pxor(v122, (__m64)qword_4907A8), v30), v31);
  v33 = _m_pfmul(_m_pand(_m_pxor(v123, (__m64)qword_4906F0), v30), v31);
  v34 = _m_punpckldq(_m_punpckhdq(v120, v120), v120);
  v35 = _m_punpckldq(_m_punpckhdq(v121, v121), v121);
  v132 = _m_pfacc(
           _m_pfsub(_m_pfmul(v34, v33), _m_pfmul(_m_pxor(v35, (__m64)qword_4906F0), v32)),
           _m_pfadd(_m_pxor(_m_pfmul(v120, v33), (__m64)qword_4906F0), _m_pfmul(v121, v32)));
  v136 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v34, (__m64)qword_4906F0), v32), _m_pfmul(v35, v33)),
           _m_pfsub(_m_pfmul(_m_pxor(v121, (__m64)qword_4906F0), v33), _m_pfmul(v120, v32)));
  v36 = _m_punpckldq(_m_punpckhdq(v124, v124), v124);
  v37 = _m_punpckldq(_m_punpckhdq(v125, v125), v125);
  v138 = _m_pfacc(
           _m_pfsub(_m_pfmul(v36, v33), _m_pfmul(_m_pxor(v37, (__m64)qword_4906F0), v32)),
           _m_pfadd(_m_pxor(_m_pfmul(v124, v33), (__m64)qword_4906F0), _m_pfmul(v125, v32)));
  v140 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v36, (__m64)qword_4906F0), v32), _m_pfmul(v37, v33)),
           _m_pfsub(_m_pfmul(_m_pxor(v125, (__m64)qword_4906F0), v33), _m_pfmul(v124, v32)));
  v38 = v132;
  v39 = v136;
  v40 = _m_punpckhdq(v136, v136);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v40, (__m64)qword_490760)) )
  {
    sub_450F80();
    v115 = _mm_cvtsi64_si32(v40);
    sub_451660(v40);
    v38 = v132;
    v39 = v136;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v40, (__m64)qword_490718), (__m64)qword_490720)) )
    {
      v41 = _mm_cvtsi32_si64(v115);
      v42 = _m_pfrcp(v40);
      v43 = _m_pfmul(_m_punpckldq(v41, v41), _m_pfrcpit2(_m_pfrcpit1(v40, v42), v42));
      v38 = _m_pfmul(v132, v43);
      v39 = _m_pfmul(v136, v43);
    }
  }
  v128 = v38;
  v130 = _m_pand(v39, (__m64)qword_490728);
  v44 = v138;
  v45 = v140;
  v46 = _m_punpckhdq(v140, v140);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v46, (__m64)qword_490760)) )
  {
    sub_450F80();
    v116 = _mm_cvtsi64_si32(v46);
    sub_451660(v46);
    v44 = v138;
    v45 = v140;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v46, (__m64)qword_490718), (__m64)qword_490720)) )
    {
      v47 = _mm_cvtsi32_si64(v116);
      v48 = _m_pfrcp(v46);
      v49 = _m_pfmul(_m_punpckldq(v47, v47), _m_pfrcpit2(_m_pfrcpit1(v46, v48), v48));
      v44 = _m_pfmul(v138, v49);
      v45 = _m_pfmul(v140, v49);
    }
  }
  v50 = _m_pfmul(_m_pfadd(v128, v44), (__m64)qword_4935F0);
  v51 = _m_pfmul(_m_pfadd(v130, _m_pand(v45, (__m64)qword_490728)), (__m64)qword_4935F0);
  v133 = v50;
  v52 = v51.m64_u64;
  v53 = _mm_cvtsi32_si64(v51.m64_u32[0]);
  v54 = _m_pfadd(_m_pfmul(v50, v50), _m_pfmul(v53, v53));
  v55 = _m_pfacc(v54, v54);
  v56 = _m_pfrsqrt(v55);
  v57 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v56, v56), v55), v56);
  v117.m64_u64 = __PAIR__(a1, _mm_cvtsi64_si32(v57));
  v58 = _m_pfmul(v55, v57);
  sub_451560(v58);
  v59 = v58;
  v60 = _m_pfcmpge(_m_pand(v58, (__m64)qword_490710), (__m64)qword_490720);
  v61 = _mm_cvtsi64_si32(_m_punpckhdq(v60, v60));
  v62 = v133;
  v63 = v59;
  v64 = _m_pfmul(_m_punpckhdq(v59, v59), v117);
  v65 = _mm_cvtsi32_si64(v52);
  if ( v61 & 1 )
  {
    v66 = _m_punpckldq(v64, v64);
    v65 = _m_pfmul(v65, v66);
    v62 = _m_pfmul(v133, v66);
  }
  v67 = _m_punpckldq(v65, v63);
  v68 = _m_punpckldq(_m_punpckhdq(v62, v62), v62);
  v69 = _m_punpckldq(_m_punpckhdq(v67, v67), v67);
  *(__m64 *)a2 = _m_pfacc(
                   _m_pfsub(_m_pfmul(v68, v123), _m_pfmul(_m_pxor(v69, (__m64)qword_4906F0), v122)),
                   _m_pfadd(_m_pxor(_m_pfmul(v62, v123), (__m64)qword_4906F0), _m_pfmul(v67, v122)));
  *(__m64 *)(a2 + 8) = _m_pfacc(
                         _m_pfadd(_m_pfmul(_m_pxor(v68, (__m64)qword_4906F0), v122), _m_pfmul(v69, v123)),
                         _m_pfsub(_m_pfmul(_m_pxor(v67, (__m64)qword_4906F0), v123), _m_pfmul(v62, v122)));
  v70 = _m_pfadd(_m_pfmul(v124, v124), _m_pfmul(v125, v125));
  v71 = _m_pfacc(v70, v70);
  v72 = _m_pfrcp(v71);
  v73 = _m_pfcmpgt(v71, (__m64)qword_490748);
  v74 = _m_pfrcpit2(_m_pfrcpit1(v71, v72), v72);
  v75 = _m_pfmul(_m_pand(_m_pxor(v124, (__m64)qword_4907A8), v73), v74);
  v76 = _m_pfmul(_m_pand(_m_pxor(v125, (__m64)qword_4906F0), v73), v74);
  v77 = _m_punpckldq(_m_punpckhdq(v122, v122), v122);
  v78 = _m_punpckldq(_m_punpckhdq(v123, v123), v123);
  v134 = _m_pfacc(
           _m_pfsub(_m_pfmul(v77, v76), _m_pfmul(_m_pxor(v78, (__m64)qword_4906F0), v75)),
           _m_pfadd(_m_pxor(_m_pfmul(v122, v76), (__m64)qword_4906F0), _m_pfmul(v123, v75)));
  v137 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v77, (__m64)qword_4906F0), v75), _m_pfmul(v78, v76)),
           _m_pfsub(_m_pfmul(_m_pxor(v123, (__m64)qword_4906F0), v76), _m_pfmul(v122, v75)));
  v79 = _m_punpckldq(_m_punpckhdq(v126, v126), v126);
  v80 = _m_punpckldq(_m_punpckhdq(v127, v127), v127);
  v139 = _m_pfacc(
           _m_pfsub(_m_pfmul(v79, v76), _m_pfmul(_m_pxor(v80, (__m64)qword_4906F0), v75)),
           _m_pfadd(_m_pxor(_m_pfmul(v126, v76), (__m64)qword_4906F0), _m_pfmul(v127, v75)));
  v141 = _m_pfacc(
           _m_pfadd(_m_pfmul(_m_pxor(v79, (__m64)qword_4906F0), v75), _m_pfmul(v80, v76)),
           _m_pfsub(_m_pfmul(_m_pxor(v127, (__m64)qword_4906F0), v76), _m_pfmul(v126, v75)));
  v81 = v134;
  v82 = v137;
  v83 = _m_punpckhdq(v137, v137);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v83, (__m64)qword_490760)) )
  {
    sub_450F80();
    v118 = _mm_cvtsi64_si32(v83);
    sub_451660(v83);
    v81 = v134;
    v82 = v137;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v83, (__m64)qword_490718), (__m64)qword_490720)) )
    {
      v84 = _mm_cvtsi32_si64(v118);
      v85 = _m_pfrcp(v83);
      v86 = _m_pfmul(_m_punpckldq(v84, v84), _m_pfrcpit2(_m_pfrcpit1(v83, v85), v85));
      v81 = _m_pfmul(v134, v86);
      v82 = _m_pfmul(v137, v86);
    }
  }
  v129 = v81;
  v131 = _m_pand(v82, (__m64)qword_490728);
  v87 = v139;
  v88 = v141;
  v89 = _m_punpckhdq(v141, v141);
  if ( !_mm_cvtsi64_si32(_m_pfcmpge(v89, (__m64)qword_490760)) )
  {
    sub_450F80();
    v119 = _mm_cvtsi64_si32(v89);
    sub_451660(v89);
    v87 = v139;
    v88 = v141;
    if ( _mm_cvtsi64_si32(_m_pfcmpge(_m_pand(v89, (__m64)qword_490718), (__m64)qword_490720)) )
    {
      v90 = _mm_cvtsi32_si64(v119);
      v91 = _m_pfrcp(v89);
      v92 = _m_pfmul(_m_punpckldq(v90, v90), _m_pfrcpit2(_m_pfrcpit1(v89, v91), v91));
      v87 = _m_pfmul(v139, v92);
      v88 = _m_pfmul(v141, v92);
    }
  }
  v93 = _m_pfmul(_m_pfadd(v129, v87), (__m64)qword_4935F0);
  v94 = _m_pfmul(_m_pfadd(v131, _m_pand(v88, (__m64)qword_490728)), (__m64)qword_4935F0);
  v135 = v93;
  v95 = v94.m64_u64;
  v96 = _mm_cvtsi32_si64(v94.m64_u32[0]);
  v97 = _m_pfadd(_m_pfmul(v93, v93), _m_pfmul(v96, v96));
  v98 = _m_pfacc(v97, v97);
  v99 = _m_pfrsqrt(v98);
  v100 = _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v99, v99), v98), v99);
  v101.m64_u64 = __PAIR__(v117.m64_u32[1], _mm_cvtsi64_si32(v100));
  v102 = _m_pfmul(v98, v100);
  sub_451560(v102);
  v103 = v102;
  v104 = _m_pfcmpge(_m_pand(v102, (__m64)qword_490710), (__m64)qword_490720);
  v105 = _mm_cvtsi64_si32(_m_punpckhdq(v104, v104));
  v106 = v135;
  v107 = v103;
  v108 = _m_pfmul(_m_punpckhdq(v103, v103), v101);
  v109 = _mm_cvtsi32_si64(v95);
  if ( v105 & 1 )
  {
    v110 = _m_punpckldq(v108, v108);
    v109 = _m_pfmul(v109, v110);
    v106 = _m_pfmul(v135, v110);
  }
  v111 = _m_punpckldq(v109, v107);
  v112 = _m_punpckldq(_m_punpckhdq(v106, v106), v106);
  v113 = _m_punpckldq(_m_punpckhdq(v111, v111), v111);
  *(__m64 *)a3 = _m_pfacc(
                   _m_pfsub(_m_pfmul(v112, v125), _m_pfmul(_m_pxor(v113, (__m64)qword_4906F0), v124)),
                   _m_pfadd(_m_pxor(_m_pfmul(v106, v125), (__m64)qword_4906F0), _m_pfmul(v111, v124)));
  *(__m64 *)(a3 + 8) = _m_pfacc(
                         _m_pfadd(_m_pfmul(_m_pxor(v112, (__m64)qword_4906F0), v124), _m_pfmul(v113, v125)),
                         _m_pfsub(_m_pfmul(_m_pxor(v111, (__m64)qword_4906F0), v125), _m_pfmul(v106, v124)));
  result = a4;
  *(__m64 *)a4 = v124;
  *(__m64 *)(a4 + 8) = v125;
  _m_femms();
  return result;
}
// 44631E: could not find valid save-restore pair for ebx
// 44631E: could not find valid save-restore pair for esi
// 4906F0: using guessed type __int64 qword_4906F0;
// 490700: using guessed type __int64 qword_490700;
// 490710: using guessed type __int64 qword_490710;
// 490718: using guessed type __int64 qword_490718;
// 490720: using guessed type __int64 qword_490720;
// 490728: using guessed type __int64 qword_490728;
// 490748: using guessed type __int64 qword_490748;
// 490760: using guessed type __int64 qword_490760;
// 4907A8: using guessed type __int64 qword_4907A8;
// 4935F0: using guessed type __int64 qword_4935F0;

//----- (00446D57) --------------------------------------------------------
int __stdcall sub_446D57(int a1, int a2, __m64 *a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // ST00_8@1
  __m64 v7; // ST10_8@1
  __m64 v8; // mm6@1
  __m64 v9; // mm7@1
  __m64 v10; // mm0@1
  __m64 v11; // ST28_8@1
  __m64 v12; // ST38_8@1
  __m64 v13; // mm4@1
  __m64 v14; // ST20_8@1
  __m64 v15; // ST30_8@1
  __m64 v16; // ST18_8@1
  __m64 v17; // ST08_8@1
  int result; // eax@1
  __m64 v19; // mm1@1
  __m64 v20; // mm4@1
  __m64 v21; // mm1@1
  __m64 v22; // mm2@1
  __m64 v23; // mm4@1
  __m64 v24; // mm1@1
  __m64 v25; // mm2@1
  __m64 v26; // mm4@1
  __m64 v27; // mm1@1
  __m64 v28; // mm2@1
  __m64 v29; // mm4@1

  _m_femms();
  v3 = a3[2];
  v4 = a3[5];
  v5 = a3[7];
  v6 = _m_punpckldq((__m64)a3->m64_u64, v3);
  v7 = _m_punpckhdq((__m64)a3->m64_u64, v3);
  v8 = a3[1];
  v9 = a3[3];
  v10 = a3[4];
  v11 = _m_punpckldq(v4, v5);
  v12 = _m_punpckhdq(v4, v5);
  v13 = a3[6];
  v14 = _m_punpckldq(v8, v9);
  v15 = _m_punpckhdq(v8, v9);
  v16 = _m_punpckhdq(v10, v13);
  v17 = _m_punpckldq(v10, v13);
  result = a1;
  v19 = *(__m64 *)(a2 + 8);
  v20 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)a2, v14), _m_pfmul(*(__m64 *)a2, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 8), v11), _m_pfmul(v19, v12)));
  *(__m64 *)a1 = _m_pfadd(
                   _m_pfacc(_m_pfmul(*(__m64 *)a2, v6), _m_pfmul(*(__m64 *)a2, v7)),
                   _m_pfacc(_m_pfmul(v19, v17), _m_pfmul(v19, v16)));
  *(__m64 *)(a1 + 8) = v20;
  v21 = *(__m64 *)(a2 + 24);
  v22 = *(__m64 *)(a2 + 16);
  v23 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 16), v14), _m_pfmul(v22, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 24), v11), _m_pfmul(v21, v12)));
  *(__m64 *)(a1 + 16) = _m_pfadd(
                          _m_pfacc(_m_pfmul(v22, v6), _m_pfmul(v22, v7)),
                          _m_pfacc(_m_pfmul(v21, v17), _m_pfmul(v21, v16)));
  *(__m64 *)(a1 + 24) = v23;
  v24 = *(__m64 *)(a2 + 40);
  v25 = *(__m64 *)(a2 + 32);
  v26 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 32), v14), _m_pfmul(v25, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 40), v11), _m_pfmul(v24, v12)));
  *(__m64 *)(a1 + 32) = _m_pfadd(
                          _m_pfacc(_m_pfmul(v25, v6), _m_pfmul(v25, v7)),
                          _m_pfacc(_m_pfmul(v24, v17), _m_pfmul(v24, v16)));
  *(__m64 *)(a1 + 40) = v26;
  v27 = *(__m64 *)(a2 + 56);
  v28 = *(__m64 *)(a2 + 48);
  v29 = _m_pfadd(
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 48), v14), _m_pfmul(v28, v15)),
          _m_pfacc(_m_pfmul(*(__m64 *)(a2 + 56), v11), _m_pfmul(v27, v12)));
  *(__m64 *)(a1 + 48) = _m_pfadd(
                          _m_pfacc(_m_pfmul(v28, v6), _m_pfmul(v28, v7)),
                          _m_pfacc(_m_pfmul(v27, v17), _m_pfmul(v27, v16)));
  *(__m64 *)(a1 + 56) = v29;
  _m_femms();
  return result;
}

//----- (00446F89) --------------------------------------------------------
double __stdcall sub_446F89(int a1)
{
  __m64 v1; // mm0@1
  __m64 v2; // mm3@1
  __m64 v3; // mm4@1
  __m64 v4; // mm2@1
  __m64 v5; // mm3@1
  __m64 v6; // mm4@1

  v1 = *(__m64 *)(a1 + 36);
  v2 = *(__m64 *)(a1 + 52);
  v3 = _m_pfsub(
         _m_pfmul(_m_punpckhdq(*(__m64 *)(a1 + 56), *(__m64 *)(a1 + 56)), v1),
         _m_pfmul(_m_punpckhdq(*(__m64 *)(a1 + 40), *(__m64 *)(a1 + 40)), v2));
  v4 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)(a1 + 32), *(__m64 *)(a1 + 32)), *(__m64 *)(a1 + 56)),
         _m_pfmul(_m_punpckldq(*(__m64 *)(a1 + 48), *(__m64 *)(a1 + 48)), *(__m64 *)(a1 + 40)));
  v5 = _m_pfsub(_m_pfmul(v2, *(__m64 *)(a1 + 32)), _m_pfmul(v1, *(__m64 *)(a1 + 48)));
  v6 = _m_pfsub(
         _m_pfmul(
           _m_pfsub(
             _m_pfadd(
               _m_pfmul(v3, *(__m64 *)(a1 + 16)),
               _m_pfmul(v5, _m_punpckhdq(*(__m64 *)(a1 + 24), *(__m64 *)(a1 + 24)))),
             _m_pfmul(_m_punpckldq(_m_punpckhdq(v4, v4), v3), *(__m64 *)(a1 + 20))),
           _m_punpckldq(*(__m64 *)(a1 + 8), (__m64)*(_DWORD *)a1)),
         _m_pfmul(
           _m_pfsub(
             _m_pfadd(
               _m_pfmul(_m_punpckhdq(v5, v3), _m_punpckldq(*(__m64 *)(a1 + 16), *(__m64 *)(a1 + 16))),
               _m_pfmul(_m_punpckldq(v5, v4), *(__m64 *)(a1 + 24))),
             _m_pfmul(v4, *(__m64 *)(a1 + 20))),
           _m_punpckhdq(*(__m64 *)(a1 + 8), *(__m64 *)a1)));
  _m_femms();
  return COERCE_FLOAT(_mm_cvtsi64_si32(_m_pfacc(v6, v6)));
}

//----- (00447058) --------------------------------------------------------
int __stdcall sub_447058(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int result; // eax@1

  result = a1;
  _m_femms();
  *(_QWORD *)a1 = qword_4907A0;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 16) = qword_490798;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = qword_4907A0;
  *(__m64 *)(a1 + 48) = _m_punpckldq(_mm_cvtsi32_si64(a2), _mm_cvtsi32_si64(a3));
  *(__m64 *)(a1 + 56) = _m_punpckldq(_mm_cvtsi32_si64(a4), (__m64)qword_4907A0);
  _m_femms();
  return result;
}
// 490798: using guessed type __int64 qword_490798;
// 4907A0: using guessed type __int64 qword_4907A0;

//----- (004470A8) --------------------------------------------------------
int __stdcall sub_4470A8(int a1, __m64 *a2, int a3)
{
  int result; // eax@1
  __m64 v4; // mm6@1
  __m64 v5; // mm3@1
  __m64 v6; // mm7@1
  __m64 v7; // mm3@1
  __m64 v8; // mm1@1
  __m64 v9; // mm0@1
  __m64 v10; // mm2@1
  __m64 v11; // mm1@1
  __m64 v12; // mm3@1
  __m64 v13; // mm1@1
  __m64 v14; // mm3@1
  __m64 v15; // [sp+0h] [bp-14h]@1
  __m64 v16; // [sp+8h] [bp-Ch]@1

  _m_femms();
  sub_44C18B((int)&v15, a3);
  result = a1;
  v4 = (__m64)a2->m64_u64;
  v5 = a2[1];
  v6 = v5;
  v7 = _m_pfmul(v5, v16);
  v8 = _m_pfadd(_m_pfmul((__m64)a2->m64_u64, v15), v7);
  v9 = _m_pxor(v15, (__m64)qword_4907A8);
  v10 = _m_pxor(v16, (__m64)qword_4907A8);
  v11 = _m_pfacc(v8, v8);
  v12 = _m_punpckldq(v7, v11);
  v13 = _m_psllq(v11, 0x20u);
  v14 = _m_psrlq(v12, 0x20u);
  *(__m64 *)a1 = _m_pfadd(_m_pfmul(_m_punpckldq(v9, v9), (__m64)a2->m64_u64), v14);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_punpckldq(v9, v9), v6);
  *(__m64 *)(a1 + 16) = _m_pfadd(_m_pfmul(_m_punpckhdq(v9, v9), v4), v13);
  *(__m64 *)(a1 + 24) = _m_pfmul(_m_punpckhdq(v9, v9), v6);
  *(__m64 *)(a1 + 32) = _m_pfmul(_m_punpckldq(v10, v10), v4);
  *(__m64 *)(a1 + 40) = _m_pfadd(_m_pfmul(_m_punpckldq(v10, v10), v6), v14);
  *(__m64 *)(a1 + 48) = _m_pfmul(_m_punpckhdq(v10, v10), v4);
  *(__m64 *)(a1 + 56) = _m_pfadd(_m_pfmul(_m_punpckhdq(v10, v10), v6), v13);
  _m_femms();
  return result;
}
// 4907A8: using guessed type __int64 qword_4907A8;

//----- (00447193) --------------------------------------------------------
int __stdcall sub_447193(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm3@1
  __m64 v4; // mm0@1
  __m64 v5; // mm1@1
  __m64 v6; // mm6@1
  __m64 v7; // mm4@1
  __m64 v8; // mm6@1
  __m64 v9; // mm4@1
  __m64 v10; // mm6@1
  __m64 v11; // [sp+0h] [bp-14h]@1
  __m64 v12; // [sp+8h] [bp-Ch]@1

  _m_femms();
  sub_44C18B((int)&v11, a2);
  result = a1;
  v3 = v12;
  v4 = _m_pfmul(v11, (__m64)qword_4907B0);
  v5 = _m_pfmul(v12, (__m64)qword_4907B8);
  v6 = v11;
  v7 = _m_punpckldq(v6, v6);
  v8 = _m_punpckhdq(v6, v6);
  *(__m64 *)a1 = _m_pfadd(_m_pfmul(v7, v4), (__m64)qword_4907A0);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_psrlq(v7, 0x20u), v5);
  *(__m64 *)(a1 + 16) = _m_pfadd(_m_pfmul(v8, v4), (__m64)qword_490798);
  *(__m64 *)(a1 + 24) = _m_pfmul(_m_psrlq(v8, 0x20u), v5);
  v9 = _m_punpckldq(v3, v3);
  v10 = _m_punpckhdq(v3, v3);
  *(__m64 *)(a1 + 32) = _m_pfmul(v9, v4);
  *(__m64 *)(a1 + 40) = _m_pfadd(_m_pfmul(_m_psrlq(v9, 0x20u), v5), (__m64)qword_4907A0);
  *(__m64 *)(a1 + 48) = _m_pfmul(v10, v4);
  *(__m64 *)(a1 + 56) = _m_pfadd(_m_pfmul(_m_psrlq(v10, 0x20u), v5), (__m64)qword_490798);
  _m_femms();
  return result;
}
// 490798: using guessed type __int64 qword_490798;
// 4907A0: using guessed type __int64 qword_4907A0;
// 4907B0: using guessed type __int64 qword_4907B0;
// 4907B8: using guessed type __int64 qword_4907B8;

//----- (0044726F) --------------------------------------------------------
int __stdcall sub_44726F(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __m64 v4; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_451560(v2);
  result = a1;
  v4 = _m_psrlq(v2, 0x20u);
  *(_QWORD *)a1 = qword_4907A0;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_DWORD *)(a1 + 16) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 20) = _mm_cvtsi64_si32(v2);
  *(__m64 *)(a1 + 24) = v4;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_490798;
  *(_DWORD *)(a1 + 32) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 36) = _mm_cvtsi64_si32(_m_pxor(v4, (__m64)qword_490750));
  *(_DWORD *)(a1 + 40) = _mm_cvtsi64_si32(v2);
  *(_DWORD *)(a1 + 44) = _mm_cvtsi64_si32(0i64);
  _m_femms();
  return result;
}
// 490750: using guessed type __int64 qword_490750;
// 490798: using guessed type __int64 qword_490798;
// 4907A0: using guessed type __int64 qword_4907A0;

//----- (004472D2) --------------------------------------------------------
int __stdcall sub_4472D2(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1
  __m64 v4; // mm4@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_451560(v2);
  result = a1;
  v4 = v2;
  v5 = _m_pand(v2, (__m64)qword_490728);
  v6 = _m_psrlq(v4, 0x20u);
  *(_QWORD *)(a1 + 16) = qword_490798;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_490798;
  *(__m64 *)(a1 + 32) = v6;
  *(__m64 *)a1 = v5;
  *(__m64 *)(a1 + 40) = v5;
  *(__m64 *)(a1 + 8) = _m_pxor(v6, (__m64)qword_490750);
  _m_femms();
  return result;
}
// 490728: using guessed type __int64 qword_490728;
// 490750: using guessed type __int64 qword_490750;
// 490798: using guessed type __int64 qword_490798;
// 4907A0: using guessed type __int64 qword_4907A0;

//----- (00447330) --------------------------------------------------------
int __stdcall sub_447330(int a1, unsigned int a2)
{
  __m64 v2; // mm0@1
  int result; // eax@1

  _m_femms();
  v2 = _mm_cvtsi32_si64(a2);
  sub_451560(v2);
  result = a1;
  *(__m64 *)a1 = v2;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 40) = qword_4907A0;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_490798;
  *(__m64 *)(a1 + 16) = _m_pxor(_m_punpckldq(_m_punpckhdq(v2, v2), v2), (__m64)qword_490750);
  _m_femms();
  return result;
}
// 490750: using guessed type __int64 qword_490750;
// 490798: using guessed type __int64 qword_490798;
// 4907A0: using guessed type __int64 qword_4907A0;

//----- (00447389) --------------------------------------------------------
int __stdcall sub_447389(int a1, unsigned int a2, unsigned int a3, unsigned int a4)
{
  int result; // eax@1

  _m_femms();
  result = a1;
  *(__m64 *)a1 = _mm_cvtsi32_si64(a2);
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(__m64 *)(a1 + 16) = _m_psllq(_mm_cvtsi32_si64(a3), 0x20u);
  *(__m64 *)(a1 + 40) = _mm_cvtsi32_si64(a4);
  *(_QWORD *)(a1 + 56) = qword_490798;
  _m_femms();
  return result;
}
// 490798: using guessed type __int64 qword_490798;

//----- (004473D0) --------------------------------------------------------
int __stdcall sub_4473D0(int a1, __m64 *a2)
{
  __m64 v2; // mm1@1
  __m64 v3; // mm3@1
  __m64 v4; // mm4@1
  int result; // eax@1
  __m64 v6; // mm2@1
  __m64 v7; // mm6@1
  __m64 v8; // mm7@1
  __m64 v9; // mm0@1
  __m64 v10; // mm4@1

  v2 = a2[2];
  v3 = a2[5];
  v4 = a2[7];
  result = a1;
  v6 = _m_punpckhdq((__m64)a2->m64_u64, v2);
  *(__m64 *)a1 = _m_punpckldq((__m64)a2->m64_u64, v2);
  *(__m64 *)(a1 + 16) = v6;
  v7 = a2[1];
  v8 = a2[3];
  v9 = a2[4];
  *(__m64 *)(a1 + 40) = _m_punpckldq(v3, v4);
  *(__m64 *)(a1 + 56) = _m_punpckhdq(v3, v4);
  v10 = a2[6];
  *(__m64 *)(a1 + 32) = _m_punpckldq(v7, v8);
  *(__m64 *)(a1 + 48) = _m_punpckhdq(v7, v8);
  *(__m64 *)(a1 + 24) = _m_punpckhdq(v9, v10);
  *(__m64 *)(a1 + 8) = _m_punpckldq(v9, v10);
  _m_femms();
  return result;
}

//----- (0044743F) --------------------------------------------------------
int __cdecl sub_44743F(int a1)
{
  __m64 v1; // mm1@1
  int result; // eax@1
  __m64 v3; // mm2@1

  v1 = _mm_cvtsi32_si64(qword_4906C8);
  result = a1;
  *(__m64 *)a1 = v1;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(__m64 *)(a1 + 40) = v1;
  v3 = _m_punpckldq(_m_punpckhdq(v1, v1), v1);
  *(_QWORD *)(a1 + 48) = 0i64;
  *(__m64 *)(a1 + 16) = v3;
  *(__m64 *)(a1 + 56) = v3;
  _m_femms();
  return result;
}
// 4906C8: using guessed type __int64 qword_4906C8;

//----- (00447478) --------------------------------------------------------
int __stdcall sub_447478(int a1, int a2)
{
  int result; // eax@1
  __m64 v3; // mm0@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1
  __m64 v7; // mm3@1
  __m64 v8; // mm5@1
  __m64 v9; // mm6@1
  __m64 v10; // mm7@1
  __m64 v11; // mm1@1
  __m64 v12; // mm6@1
  __m64 v13; // mm2@1
  __m64 v14; // mm1@1
  __m64 v15; // mm4@1
  __m64 v16; // mm6@1
  __m64 v17; // mm7@1
  __m64 v18; // mm1@1
  __m64 v19; // mm3@1
  __m64 v20; // mm2@1
  __m64 v21; // mm3@1
  __m64 v22; // mm5@1

  result = a1;
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_pfadd(v3, v3);
  v6 = _m_punpckhdq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8));
  v7 = _m_pfmul(*(__m64 *)a2, v5);
  v8 = _m_pfmul(v5, v6);
  v9 = _m_punpckldq(_m_pfadd(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8)), v5);
  v10 = _m_pfmul(_m_punpckldq(*(__m64 *)(a2 + 8), *(__m64 *)(a2 + 8)), v9);
  v11 = _m_pfmul(v9, _m_punpckhdq(v4, v4));
  v12 = _m_pfmul(v9, v6);
  v13 = v11;
  v14 = _m_punpckhdq(v11, v10);
  *(_QWORD *)(a1 + 48) = 0i64;
  v15 = v14;
  v16 = _m_punpckhdq(_m_punpckldq(v12, v12), v8);
  v17 = _m_pfsubr(_m_pfadd(_m_punpckldq(v10, v10), v7), (__m64)qword_4906D8);
  v18 = _m_pfadd(v14, v16);
  *(__m64 *)(a1 + 40) = _m_punpckldq(_m_pfsubr(_m_pfacc(v7, v7), (__m64)qword_4906D8), 0i64);
  v19 = v13;
  v20 = _m_pfadd(v13, v8);
  v21 = _m_pfsub(v19, v8);
  v22 = _m_pfsub(v15, v16);
  *(__m64 *)(a1 + 24) = _m_punpckldq(v20, 0i64);
  *(__m64 *)(a1 + 8) = _m_punpckhdq(v22, 0i64);
  *(__m64 *)(a1 + 16) = _m_punpckldq(v22, v17);
  *(__m64 *)a1 = _m_punpckhdq(v17, _m_punpckldq(v18, v18));
  *(__m64 *)(a1 + 32) = _m_punpckldq(_m_punpckhdq(v18, v18), v21);
  *(__m64 *)(a1 + 56) = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;

//----- (0044754A) --------------------------------------------------------
int __stdcall sub_44754A(int a1, __m64 *a2)
{
  int result; // eax@1
  __m64 v3; // mm0@1
  __m64 v4; // mm6@1
  __m64 v5; // mm0@1
  __m64 v6; // mm4@1
  __m64 v7; // mm1@1
  __m64 v8; // mm5@1
  __m64 v9; // mm0@1
  __m64 v10; // mm5@1
  __m64 v11; // mm2@1
  __m64 v12; // mm3@1
  __m64 v13; // mm1@1
  __m64 v14; // mm6@1
  __m64 v15; // mm4@1
  __m64 v16; // mm3@1
  __m64 v17; // mm6@1
  __m64 v18; // mm2@1
  __m64 v19; // mm0@1

  result = a1;
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_pfadd(v3, v3);
  v6 = a2[1];
  v7 = _m_pfadd(v6, v6);
  v8 = v5;
  v9 = _m_pfmul(v5, (__m64)a2->m64_u64);
  v10 = _m_punpckldq(v8, v7);
  v11 = _m_pfmul((__m64)a2->m64_u64, v7);
  v12 = _m_pfmul(_m_pswapd((__m64)a2->m64_u64), v7);
  v13 = _m_pfmul(v7, v6);
  v14 = _m_pfmul(_m_punpckhdq(v4, v6), v10);
  v15 = v9;
  v16 = _m_pfpnacc(v12, v12);
  v17 = _m_pfpnacc(v14, v14);
  v18 = _m_pfpnacc(v11, v11);
  v19 = _m_pfsub(_m_pfsubr(v9, (__m64)qword_4906D8), _m_punpckldq(v13, v13));
  *(_QWORD *)(a1 + 48) = 0i64;
  *(__m64 *)(a1 + 32) = _m_punpckldq(_m_pswapd(v18), v16);
  *(__m64 *)(a1 + 8) = _m_punpckldq(v18, 0i64);
  *(__m64 *)(a1 + 40) = _m_punpckhdq(_m_pfsubr(_m_pfacc(v15, v15), (__m64)qword_4906D8), 0i64);
  *(__m64 *)a1 = _m_punpckhdq(v19, v17);
  *(__m64 *)(a1 + 16) = _m_punpckldq(v17, v19);
  *(__m64 *)(a1 + 24) = _m_punpckhdq(v16, 0i64);
  *(__m64 *)(a1 + 56) = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;

//----- (004475FF) --------------------------------------------------------
int __stdcall sub_4475FF(int a1, __m64 *a2, int a3, __m64 *a4, __m64 *a5, int a6, __m64 *a7)
{
  int result; // eax@1
  __m64 v8; // mm0@3
  __m64 v9; // mm2@3
  __m64 v10; // mm0@3
  __m64 v11; // mm4@3
  __m64 v12; // mm3@3
  __m64 v13; // mm5@3
  __m64 v14; // mm6@3
  __m64 v15; // mm7@3
  __m64 v16; // mm1@3
  __m64 v17; // mm6@3
  __m64 v18; // mm2@3
  __m64 v19; // mm1@3
  __m64 v20; // mm4@3
  __m64 v21; // mm6@3
  __m64 v22; // mm7@3
  __m64 v23; // mm1@3
  __m64 v24; // mm3@3
  __m64 v25; // mm2@3
  __m64 v26; // mm3@3
  __m64 v27; // mm5@3
  __m64 v28; // ST80_8@4
  __m64 v29; // ST90_8@4
  __m64 v30; // STA8_8@4
  __m64 v31; // STB8_8@4
  __m64 v32; // STA0_8@4
  __m64 v33; // STB0_8@4
  __m64 v34; // ST98_8@4
  __m64 v35; // ST88_8@4
  __m64 v36; // mm3@4
  __m64 v37; // mm4@4
  __m64 v38; // mm1@4
  __m64 v39; // mm2@4
  __m64 v40; // mm2@4
  __m64 v41; // mm1@4
  __m64 v42; // mm2@4
  __m64 v43; // mm3@4
  __m64 v44; // mm0@4
  __m64 v45; // mm1@4
  __m64 v46; // mm2@4
  __m64 v47; // mm5@4
  __m64 v48; // mm3@4
  __m64 v49; // mm2@4
  __m64 v50; // mm7@4
  __m64 v51; // mm0@4
  __m64 v52; // mm3@4
  __m64 v53; // mm1@4
  __m64 v54; // mm2@4
  __m64 v55; // mm3@4
  __m64 v56; // mm0@4
  __m64 v57; // mm1@4
  __m64 v58; // mm2@4
  __m64 v59; // mm5@4
  __m64 v60; // mm3@4
  __m64 v61; // mm2@4
  __m64 v62; // mm7@4
  __m64 v63; // mm0@4
  __m64 v64; // mm3@4
  __m64 v65; // mm1@4
  __m64 v66; // mm2@4
  __m64 v67; // mm3@4
  __m64 v68; // mm0@4
  __m64 v69; // mm1@4
  __m64 v70; // mm2@4
  __m64 v71; // mm5@4
  __m64 v72; // mm3@4
  __m64 v73; // mm2@4
  __m64 v74; // mm7@4
  __m64 v75; // mm0@4
  __m64 v76; // mm3@4
  __m64 v77; // mm1@4
  __m64 v78; // mm2@4
  __m64 v79; // mm3@4
  __m64 v80; // mm0@4
  __m64 v81; // mm1@4
  __m64 v82; // mm2@4
  __m64 v83; // mm5@4
  __m64 v84; // mm3@4
  __m64 v85; // mm7@4
  __m64 v86; // mm2@4
  __m64 v87; // mm3@4
  __m64 v88; // mm1@4
  __m64 v89; // mm2@4
  __m64 v90; // mm3@4
  __m64 v91; // mm0@4
  __m64 v92; // mm1@4
  __m64 v93; // mm2@4
  __m64 v94; // mm5@4
  __m64 v95; // mm3@4
  __m64 v96; // mm2@4
  __m64 v97; // mm7@4
  __m64 v98; // mm0@4
  __m64 v99; // mm3@4
  __m64 v100; // mm1@4
  __m64 v101; // mm2@4
  __m64 v102; // mm3@4
  __m64 v103; // mm0@4
  __m64 v104; // mm1@4
  __m64 v105; // mm2@4
  __m64 v106; // mm5@4
  __m64 v107; // mm3@4
  __m64 v108; // mm2@4
  __m64 v109; // mm7@4
  __m64 v110; // mm0@4
  __m64 v111; // mm3@4
  __m64 v112; // mm1@4
  __m64 v113; // mm2@4
  __m64 v114; // mm3@4
  __m64 v115; // mm0@4
  __m64 v116; // mm1@4
  __m64 v117; // mm2@4
  __m64 v118; // mm5@4
  __m64 v119; // mm3@4
  __m64 v120; // mm2@4
  __m64 v121; // mm7@4
  __m64 v122; // mm0@4
  __m64 v123; // mm3@4
  __m64 v124; // mm1@4
  __m64 v125; // mm2@4
  __m64 v126; // mm3@4
  __m64 v127; // mm0@4
  __m64 v128; // mm1@4
  __m64 v129; // mm2@4
  __m64 v130; // mm5@4
  __m64 v131; // mm3@4
  __m64 v132; // mm7@4
  __m64 v133; // mm2@4
  __m64 v134; // mm3@4
  __m64 v135; // mm1@4
  __m64 v136; // mm2@4
  __m64 v137; // mm3@4
  __m64 v138; // mm0@4
  __m64 v139; // mm1@4
  __m64 v140; // mm2@4
  __m64 v141; // mm5@4
  __m64 v142; // mm3@4
  __m64 v143; // mm2@4
  __m64 v144; // mm7@4
  __m64 v145; // mm0@4
  __m64 v146; // mm3@4
  __m64 v147; // mm1@4
  __m64 v148; // mm2@4
  __m64 v149; // mm3@4
  __m64 v150; // mm0@4
  __m64 v151; // mm1@4
  __m64 v152; // mm2@4
  __m64 v153; // mm5@4
  __m64 v154; // mm3@4
  __m64 v155; // mm2@4
  __m64 v156; // mm7@4
  __m64 v157; // mm0@4
  __m64 v158; // mm3@4
  __m64 v159; // mm1@4
  __m64 v160; // mm2@4
  __m64 v161; // mm3@4
  __m64 v162; // mm0@4
  __m64 v163; // mm1@4
  __m64 v164; // mm2@4
  __m64 v165; // mm5@4
  __m64 v166; // mm3@4
  __m64 v167; // mm2@4
  __m64 v168; // mm7@4
  __m64 v169; // mm0@4
  __m64 v170; // mm3@4
  __m64 v171; // mm1@4
  __m64 v172; // mm2@4
  __m64 v173; // mm3@4
  __m64 v174; // mm0@4
  __m64 v175; // mm1@4
  __m64 v176; // mm2@4
  __m64 v177; // mm3@4
  __m64 v178; // mm2@4
  __m64 v179; // mm3@5
  __m64 v180; // mm2@5
  __m64 v181; // mm1@5
  __m64 v182; // mm2@5
  __m64 v183; // mm3@5
  __m64 v184; // mm0@5
  __m64 v185; // mm1@5
  __m64 v186; // mm2@5
  __m64 v187; // mm5@5
  __m64 v188; // mm3@5
  __m64 v189; // mm2@5
  __m64 v190; // mm7@5
  __m64 v191; // mm0@5
  __m64 v192; // mm3@5
  __m64 v193; // mm1@5
  __m64 v194; // mm2@5
  __m64 v195; // mm3@5
  __m64 v196; // mm0@5
  __m64 v197; // mm1@5
  __m64 v198; // mm2@5
  __m64 v199; // mm5@5
  __m64 v200; // mm3@5
  __m64 v201; // mm2@5
  __m64 v202; // mm7@5
  __m64 v203; // mm0@5
  __m64 v204; // mm3@5
  __m64 v205; // mm1@5
  __m64 v206; // mm2@5
  __m64 v207; // mm3@5
  __m64 v208; // mm0@5
  __m64 v209; // mm1@5
  __m64 v210; // mm2@5
  __m64 v211; // mm5@5
  __m64 v212; // mm3@5
  __m64 v213; // mm2@5
  __m64 v214; // mm7@5
  __m64 v215; // mm0@5
  __m64 v216; // mm3@5
  __m64 v217; // mm1@5
  __m64 v218; // mm2@5
  __m64 v219; // mm3@5
  __m64 v220; // mm0@5
  __m64 v221; // mm1@5
  __m64 v222; // mm2@5
  __m64 v223; // mm5@5
  __m64 v224; // mm3@5
  __m64 v225; // mm7@5
  __m64 v226; // mm2@5
  __m64 v227; // mm3@5
  __m64 v228; // mm1@5
  __m64 v229; // mm2@5
  __m64 v230; // mm3@5
  __m64 v231; // mm0@5
  __m64 v232; // mm1@5
  __m64 v233; // mm2@5
  __m64 v234; // mm5@5
  __m64 v235; // mm3@5
  __m64 v236; // mm2@5
  __m64 v237; // mm7@5
  __m64 v238; // mm0@5
  __m64 v239; // mm3@5
  __m64 v240; // mm1@5
  __m64 v241; // mm2@5
  __m64 v242; // mm3@5
  __m64 v243; // mm0@5
  __m64 v244; // mm1@5
  __m64 v245; // mm2@5
  __m64 v246; // mm5@5
  __m64 v247; // mm3@5
  __m64 v248; // mm2@5
  __m64 v249; // mm7@5
  __m64 v250; // mm0@5
  __m64 v251; // mm3@5
  __m64 v252; // mm1@5
  __m64 v253; // mm2@5
  __m64 v254; // mm3@5
  __m64 v255; // mm0@5
  __m64 v256; // mm1@5
  __m64 v257; // mm2@5
  __m64 v258; // mm5@5
  __m64 v259; // mm3@5
  __m64 v260; // mm2@5
  __m64 v261; // mm7@5
  __m64 v262; // mm0@5
  __m64 v263; // mm3@5
  __m64 v264; // mm1@5
  __m64 v265; // mm2@5
  __m64 v266; // mm3@5
  __m64 v267; // mm0@5
  __m64 v268; // mm1@5
  __m64 v269; // mm2@5
  __m64 v270; // mm3@5
  __m64 v271; // mm4@6
  __m64 v272; // mm5@6
  __m64 v273; // mm1@7
  __m64 v274; // mm2@7
  __m64 v275; // mm0@9
  __m64 v276; // mm2@9
  __m64 v277; // mm0@9
  __m64 v278; // mm4@9
  __m64 v279; // mm3@9
  __m64 v280; // mm5@9
  __m64 v281; // mm6@9
  __m64 v282; // mm7@9
  __m64 v283; // mm1@9
  __m64 v284; // mm6@9
  __m64 v285; // mm2@9
  __m64 v286; // mm1@9
  __m64 v287; // mm4@9
  __m64 v288; // mm6@9
  __m64 v289; // mm7@9
  __m64 v290; // mm1@9
  __m64 v291; // mm3@9
  __m64 v292; // mm2@9
  __m64 v293; // mm3@9
  __m64 v294; // mm5@9
  __m64 v295; // mm2@9
  __m64 v296; // mm2@10
  __m64 v297; // mm3@10
  __m64 v298; // mm1@10
  __m64 v299; // mm1@10
  __m64 v300; // mm2@10
  __m64 v301; // mm3@10
  __m64 v302; // mm0@10
  __m64 v303; // mm1@10
  __m64 v304; // mm2@10
  __m64 v305; // mm5@10
  __m64 v306; // mm3@10
  __m64 v307; // mm2@10
  __m64 v308; // mm7@10
  __m64 v309; // mm0@10
  __m64 v310; // mm3@10
  __m64 v311; // mm1@10
  __m64 v312; // mm2@10
  __m64 v313; // mm3@10
  __m64 v314; // mm0@10
  __m64 v315; // mm1@10
  __m64 v316; // mm2@10
  __m64 v317; // mm5@10
  __m64 v318; // mm3@10
  __m64 v319; // mm2@10
  __m64 v320; // mm7@10
  __m64 v321; // mm0@10
  __m64 v322; // mm3@10
  __m64 v323; // mm1@10
  __m64 v324; // mm2@10
  __m64 v325; // mm3@10
  __m64 v326; // mm0@10
  __m64 v327; // mm1@10
  __m64 v328; // mm2@10
  __m64 v329; // mm5@10
  __m64 v330; // mm3@10
  __m64 v331; // mm2@10
  __m64 v332; // mm7@10
  __m64 v333; // mm0@10
  __m64 v334; // mm3@10
  __m64 v335; // mm1@10
  __m64 v336; // mm2@10
  __m64 v337; // mm3@10
  __m64 v338; // mm0@10
  __m64 v339; // mm1@10
  __m64 v340; // mm2@10
  __m64 v341; // mm3@10
  __m64 v342; // mm1@10
  __m64 v343; // mm1@11
  __m64 v344; // mm2@11
  __m64 v345; // mm3@11
  __m64 v346; // mm0@11
  __m64 v347; // mm1@11
  __m64 v348; // mm2@11
  __m64 v349; // mm5@11
  __m64 v350; // mm3@11
  __m64 v351; // mm2@11
  __m64 v352; // mm7@11
  __m64 v353; // mm0@11
  __m64 v354; // mm3@11
  __m64 v355; // mm1@11
  __m64 v356; // mm2@11
  __m64 v357; // mm3@11
  __m64 v358; // mm0@11
  __m64 v359; // mm1@11
  __m64 v360; // mm2@11
  __m64 v361; // mm5@11
  __m64 v362; // mm3@11
  __m64 v363; // mm2@11
  __m64 v364; // mm7@11
  __m64 v365; // mm0@11
  __m64 v366; // mm3@11
  __m64 v367; // mm1@11
  __m64 v368; // mm2@11
  __m64 v369; // mm3@11
  __m64 v370; // mm0@11
  __m64 v371; // mm1@11
  __m64 v372; // mm2@11
  __m64 v373; // mm5@11
  __m64 v374; // mm3@11
  __m64 v375; // mm2@11
  __m64 v376; // mm7@11
  __m64 v377; // mm0@11
  __m64 v378; // mm3@11
  __m64 v379; // mm1@11
  __m64 v380; // mm2@11
  __m64 v381; // mm3@11
  __m64 v382; // mm0@11
  __m64 v383; // mm1@11
  __m64 v384; // mm2@11
  __m64 v385; // mm3@11
  __m64 v386; // mm1@13
  __m64 v387; // [sp+0h] [bp-C0h]@3
  __m64 v388; // [sp+10h] [bp-B0h]@3
  __m64 v389; // [sp+28h] [bp-98h]@3
  __m64 v390; // [sp+40h] [bp-80h]@3
  __m64 v391; // [sp+40h] [bp-80h]@9
  __m64 v392; // [sp+48h] [bp-78h]@3
  __m64 v393; // [sp+48h] [bp-78h]@9
  __m64 v394; // [sp+50h] [bp-70h]@3
  __m64 v395; // [sp+50h] [bp-70h]@9
  __m64 v396; // [sp+58h] [bp-68h]@3
  __m64 v397; // [sp+58h] [bp-68h]@9
  __m64 v398; // [sp+60h] [bp-60h]@3
  __m64 v399; // [sp+60h] [bp-60h]@9
  __m64 v400; // [sp+68h] [bp-58h]@3
  __m64 v401; // [sp+68h] [bp-58h]@9
  __m64 v402; // [sp+78h] [bp-48h]@3
  __m64 v403; // [sp+78h] [bp-48h]@9

  result = a1;
  if ( a4 )
  {
    if ( a3 )
    {
      v387 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      v388 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      v389 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v8 = *(__m64 *)a3;
      v9 = v8;
      v10 = _m_pfadd(v8, v8);
      v11 = _m_punpckhdq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8));
      v12 = _m_pfmul(*(__m64 *)a3, v10);
      v13 = _m_pfmul(v10, v11);
      v14 = _m_punpckldq(_m_pfadd(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), v10);
      v15 = _m_pfmul(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), v14);
      v16 = _m_pfmul(v14, _m_punpckhdq(v9, v9));
      v17 = _m_pfmul(v14, v11);
      v18 = v16;
      v19 = _m_punpckhdq(v16, v15);
      v20 = v19;
      v21 = _m_punpckhdq(_m_punpckldq(v17, v17), v13);
      v22 = _m_pfsubr(_m_pfadd(_m_punpckldq(v15, v15), v12), (__m64)qword_4906D8);
      v23 = _m_pfadd(v19, v21);
      v400 = _m_punpckldq(_m_pfsubr(_m_pfacc(v12, v12), (__m64)qword_4906D8), 0i64);
      v24 = v18;
      v25 = _m_pfadd(v18, v13);
      v26 = _m_pfsub(v24, v13);
      v27 = _m_pfsub(v20, v21);
      v396 = _m_punpckldq(v25, 0i64);
      v392 = _m_punpckhdq(v27, 0i64);
      v394 = _m_punpckldq(v27, v22);
      v390 = _m_punpckhdq(v22, _m_punpckldq(v23, v23));
      v398 = _m_punpckldq(_m_punpckhdq(v23, v23), v26);
      v402 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
      if ( a2 )
      {
        v28 = _m_punpckldq(v390, v394);
        v29 = _m_punpckhdq(v390, v394);
        v30 = _m_punpckldq(v400, v402);
        v31 = _m_punpckhdq(v400, v402);
        v32 = _m_punpckldq(v392, v396);
        v33 = _m_punpckhdq(v392, v396);
        v34 = _m_punpckhdq(v398, 0i64);
        v35 = _m_punpckldq(v398, 0i64);
        result = a1;
        v36 = (__m64)a2->m64_u64;
        v37 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
        v38 = _mm_cvtsi32_si64(qword_4906C8);
        v39 = _m_punpckldq(_m_punpckhdq(v38, v38), v38);
        *(__m64 *)a1 = v38;
        *(_QWORD *)(a1 + 8) = 0i64;
        *(__m64 *)(a1 + 16) = v39;
        *(_QWORD *)(a1 + 24) = 0i64;
        *(_QWORD *)(a1 + 32) = 0i64;
        *(__m64 *)(a1 + 40) = v38;
        v40 = _m_pfsub(v39, v37);
        *(__m64 *)(a1 + 56) = v40;
        *(__m64 *)(a1 + 48) = _m_pfsub(0i64, v36);
        v41 = *(__m64 *)(a1 + 8);
        v42 = _m_punpckhdq(v40, *(__m64 *)a1);
        v43 = _m_punpckhdq(v36, v41);
        v44 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v45 = _m_punpckldq(v41, v41);
        v46 = _m_punpckhdq(v42, v42);
        v47 = _m_pfmul(v29, v46);
        v48 = _m_punpckhdq(v43, v43);
        v49 = _m_pfadd(_m_pfadd(_m_pfmul(v46, v34), _m_pfmul(v44, v35)), _m_pfmul(v45, v30));
        v50 = _m_pfadd(_m_pfmul(v33, v48), _m_pfadd(_m_pfmul(v32, v45), _m_pfadd(v47, _m_pfmul(v28, v44))));
        v51 = *(__m64 *)(a1 + 16);
        v52 = _m_pfadd(_m_pfmul(v48, v31), v49);
        v53 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v50;
        *(__m64 *)(a1 + 8) = v52;
        v54 = _m_punpckhdq(v49, v51);
        v55 = _m_punpckhdq(v52, v53);
        v56 = _m_punpckldq(v51, v51);
        v57 = _m_punpckldq(v53, v53);
        v58 = _m_punpckhdq(v54, v54);
        v59 = _m_pfmul(v29, v58);
        v60 = _m_punpckhdq(v55, v55);
        v61 = _m_pfadd(_m_pfadd(_m_pfmul(v58, v34), _m_pfmul(v56, v35)), _m_pfmul(v57, v30));
        v62 = _m_pfadd(_m_pfmul(v33, v60), _m_pfadd(_m_pfmul(v32, v57), _m_pfadd(v59, _m_pfmul(v28, v56))));
        v63 = *(__m64 *)(a1 + 32);
        v64 = _m_pfadd(_m_pfmul(v60, v31), v61);
        v65 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v62;
        *(__m64 *)(a1 + 24) = v64;
        v66 = _m_punpckhdq(v61, v63);
        v67 = _m_punpckhdq(v64, v65);
        v68 = _m_punpckldq(v63, v63);
        v69 = _m_punpckldq(v65, v65);
        v70 = _m_punpckhdq(v66, v66);
        v71 = _m_pfmul(v29, v70);
        v72 = _m_punpckhdq(v67, v67);
        v73 = _m_pfadd(_m_pfadd(_m_pfmul(v70, v34), _m_pfmul(v68, v35)), _m_pfmul(v69, v30));
        v74 = _m_pfadd(_m_pfmul(v33, v72), _m_pfadd(_m_pfmul(v32, v69), _m_pfadd(v71, _m_pfmul(v28, v68))));
        v75 = *(__m64 *)(a1 + 48);
        v76 = _m_pfadd(_m_pfmul(v72, v31), v73);
        v77 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v74;
        *(__m64 *)(a1 + 40) = v76;
        v78 = _m_punpckhdq(v73, v75);
        v79 = _m_punpckhdq(v76, v77);
        v80 = _m_punpckldq(v75, v75);
        v81 = _m_punpckldq(v77, v77);
        v82 = _m_punpckhdq(v78, v78);
        v83 = _m_pfmul(v29, v82);
        v84 = _m_punpckhdq(v79, v79);
        v85 = _m_pfmul(v33, v84);
        v86 = _m_pfadd(_m_pfadd(_m_pfmul(v82, v34), _m_pfmul(v80, v35)), _m_pfmul(v81, v30));
        v87 = _m_pfadd(_m_pfmul(v84, v31), v86);
        *(__m64 *)(a1 + 48) = _m_pfadd(v85, _m_pfadd(_m_pfmul(v32, v81), _m_pfadd(v83, _m_pfmul(v28, v80))));
        *(__m64 *)(a1 + 56) = v87;
        v88 = *(__m64 *)(a1 + 8);
        v89 = _m_punpckhdq(v86, *(__m64 *)a1);
        v90 = _m_punpckhdq(v87, v88);
        v91 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v92 = _m_punpckldq(v88, v88);
        v93 = _m_punpckhdq(v89, v89);
        v94 = _m_pfmul(v388, v93);
        v95 = _m_punpckhdq(v90, v90);
        v96 = _m_pfadd(_m_pfadd(_m_pfmul(v93, 0i64), _m_pfmul(v91, 0i64)), _m_pfmul(v92, v389));
        v97 = _m_pfadd(_m_pfmul(0i64, v95), _m_pfadd(_m_pfmul(0i64, v92), _m_pfadd(v94, _m_pfmul(v387, v91))));
        v98 = *(__m64 *)(a1 + 16);
        v99 = _m_pfadd(_m_pfmul(v95, (__m64)qword_4906B8), v96);
        v100 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v97;
        *(__m64 *)(a1 + 8) = v99;
        v101 = _m_punpckhdq(v96, v98);
        v102 = _m_punpckhdq(v99, v100);
        v103 = _m_punpckldq(v98, v98);
        v104 = _m_punpckldq(v100, v100);
        v105 = _m_punpckhdq(v101, v101);
        v106 = _m_pfmul(v388, v105);
        v107 = _m_punpckhdq(v102, v102);
        v108 = _m_pfadd(_m_pfadd(_m_pfmul(v105, 0i64), _m_pfmul(v103, 0i64)), _m_pfmul(v104, v389));
        v109 = _m_pfadd(_m_pfmul(0i64, v107), _m_pfadd(_m_pfmul(0i64, v104), _m_pfadd(v106, _m_pfmul(v387, v103))));
        v110 = *(__m64 *)(a1 + 32);
        v111 = _m_pfadd(_m_pfmul(v107, (__m64)qword_4906B8), v108);
        v112 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v109;
        *(__m64 *)(a1 + 24) = v111;
        v113 = _m_punpckhdq(v108, v110);
        v114 = _m_punpckhdq(v111, v112);
        v115 = _m_punpckldq(v110, v110);
        v116 = _m_punpckldq(v112, v112);
        v117 = _m_punpckhdq(v113, v113);
        v118 = _m_pfmul(v388, v117);
        v119 = _m_punpckhdq(v114, v114);
        v120 = _m_pfadd(_m_pfadd(_m_pfmul(v117, 0i64), _m_pfmul(v115, 0i64)), _m_pfmul(v116, v389));
        v121 = _m_pfadd(_m_pfmul(0i64, v119), _m_pfadd(_m_pfmul(0i64, v116), _m_pfadd(v118, _m_pfmul(v387, v115))));
        v122 = *(__m64 *)(a1 + 48);
        v123 = _m_pfadd(_m_pfmul(v119, (__m64)qword_4906B8), v120);
        v124 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v121;
        *(__m64 *)(a1 + 40) = v123;
        v125 = _m_punpckhdq(v120, v122);
        v126 = _m_punpckhdq(v123, v124);
        v127 = _m_punpckldq(v122, v122);
        v128 = _m_punpckldq(v124, v124);
        v129 = _m_punpckhdq(v125, v125);
        v130 = _m_pfmul(v388, v129);
        v131 = _m_punpckhdq(v126, v126);
        v132 = _m_pfmul(0i64, v131);
        v133 = _m_pfadd(_m_pfadd(_m_pfmul(v129, 0i64), _m_pfmul(v127, 0i64)), _m_pfmul(v128, v389));
        v134 = _m_pfadd(_m_pfmul(v131, (__m64)qword_4906B8), v133);
        *(__m64 *)(a1 + 48) = _m_pfadd(v132, _m_pfadd(_m_pfmul(0i64, v128), _m_pfadd(v130, _m_pfmul(v387, v127))));
        *(__m64 *)(a1 + 56) = v134;
        v135 = *(__m64 *)(a1 + 8);
        v136 = _m_punpckhdq(v133, *(__m64 *)a1);
        v137 = _m_punpckhdq(v134, v135);
        v138 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v139 = _m_punpckldq(v135, v135);
        v140 = _m_punpckhdq(v136, v136);
        v141 = _m_pfmul(v394, v140);
        v142 = _m_punpckhdq(v137, v137);
        v143 = _m_pfadd(_m_pfadd(_m_pfmul(v140, v396), _m_pfmul(v138, v392)), _m_pfmul(v139, v400));
        v144 = _m_pfadd(_m_pfmul(0i64, v142), _m_pfadd(_m_pfmul(v398, v139), _m_pfadd(v141, _m_pfmul(v390, v138))));
        v145 = *(__m64 *)(a1 + 16);
        v146 = _m_pfadd(_m_pfmul(v142, v402), v143);
        v147 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v144;
        *(__m64 *)(a1 + 8) = v146;
        v148 = _m_punpckhdq(v143, v145);
        v149 = _m_punpckhdq(v146, v147);
        v150 = _m_punpckldq(v145, v145);
        v151 = _m_punpckldq(v147, v147);
        v152 = _m_punpckhdq(v148, v148);
        v153 = _m_pfmul(v394, v152);
        v154 = _m_punpckhdq(v149, v149);
        v155 = _m_pfadd(_m_pfadd(_m_pfmul(v152, v396), _m_pfmul(v150, v392)), _m_pfmul(v151, v400));
        v156 = _m_pfadd(_m_pfmul(0i64, v154), _m_pfadd(_m_pfmul(v398, v151), _m_pfadd(v153, _m_pfmul(v390, v150))));
        v157 = *(__m64 *)(a1 + 32);
        v158 = _m_pfadd(_m_pfmul(v154, v402), v155);
        v159 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v156;
        *(__m64 *)(a1 + 24) = v158;
        v160 = _m_punpckhdq(v155, v157);
        v161 = _m_punpckhdq(v158, v159);
        v162 = _m_punpckldq(v157, v157);
        v163 = _m_punpckldq(v159, v159);
        v164 = _m_punpckhdq(v160, v160);
        v165 = _m_pfmul(v394, v164);
        v166 = _m_punpckhdq(v161, v161);
        v167 = _m_pfadd(_m_pfadd(_m_pfmul(v164, v396), _m_pfmul(v162, v392)), _m_pfmul(v163, v400));
        v168 = _m_pfadd(_m_pfmul(0i64, v166), _m_pfadd(_m_pfmul(v398, v163), _m_pfadd(v165, _m_pfmul(v390, v162))));
        v169 = *(__m64 *)(a1 + 48);
        v170 = _m_pfadd(_m_pfmul(v166, v402), v167);
        v171 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v168;
        *(__m64 *)(a1 + 40) = v170;
        v172 = _m_punpckhdq(v167, v169);
        v173 = _m_punpckhdq(v170, v171);
        v174 = _m_punpckldq(v169, v169);
        v175 = _m_punpckldq(v171, v171);
        v176 = _m_punpckhdq(v172, v172);
        v177 = _m_punpckhdq(v173, v173);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v177),
                                _m_pfadd(_m_pfmul(v398, v175), _m_pfadd(_m_pfmul(v394, v176), _m_pfmul(v390, v174))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v177, v402),
                                _m_pfadd(_m_pfadd(_m_pfmul(v176, v396), _m_pfmul(v174, v392)), _m_pfmul(v175, v400)));
        v178 = _m_pfadd(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
        *(__m64 *)(a1 + 48) = _m_pfadd((__m64)a2->m64_u64, *(__m64 *)(a1 + 48));
        *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v178);
      }
      else
      {
        result = a1;
        *(__m64 *)a1 = _m_punpckldq(v390, v394);
        *(__m64 *)(a1 + 16) = _m_punpckhdq(v390, v394);
        v179 = _m_punpckldq(v400, v402);
        *(__m64 *)(a1 + 40) = v179;
        *(__m64 *)(a1 + 56) = _m_punpckhdq(v400, v402);
        *(__m64 *)(a1 + 32) = _m_punpckldq(v392, v396);
        v180 = _m_punpckldq(v398, 0i64);
        *(__m64 *)(a1 + 48) = _m_punpckhdq(v392, v396);
        *(__m64 *)(a1 + 24) = _m_punpckhdq(v398, 0i64);
        *(__m64 *)(a1 + 8) = v180;
        v181 = *(__m64 *)(a1 + 8);
        v182 = _m_punpckhdq(v180, *(__m64 *)a1);
        v183 = _m_punpckhdq(v179, v181);
        v184 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v185 = _m_punpckldq(v181, v181);
        v186 = _m_punpckhdq(v182, v182);
        v187 = _m_pfmul(v388, v186);
        v188 = _m_punpckhdq(v183, v183);
        v189 = _m_pfadd(_m_pfadd(_m_pfmul(v186, 0i64), _m_pfmul(v184, 0i64)), _m_pfmul(v185, v389));
        v190 = _m_pfadd(_m_pfmul(0i64, v188), _m_pfadd(_m_pfmul(0i64, v185), _m_pfadd(v187, _m_pfmul(v387, v184))));
        v191 = *(__m64 *)(a1 + 16);
        v192 = _m_pfadd(_m_pfmul(v188, (__m64)qword_4906B8), v189);
        v193 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v190;
        *(__m64 *)(a1 + 8) = v192;
        v194 = _m_punpckhdq(v189, v191);
        v195 = _m_punpckhdq(v192, v193);
        v196 = _m_punpckldq(v191, v191);
        v197 = _m_punpckldq(v193, v193);
        v198 = _m_punpckhdq(v194, v194);
        v199 = _m_pfmul(v388, v198);
        v200 = _m_punpckhdq(v195, v195);
        v201 = _m_pfadd(_m_pfadd(_m_pfmul(v198, 0i64), _m_pfmul(v196, 0i64)), _m_pfmul(v197, v389));
        v202 = _m_pfadd(_m_pfmul(0i64, v200), _m_pfadd(_m_pfmul(0i64, v197), _m_pfadd(v199, _m_pfmul(v387, v196))));
        v203 = *(__m64 *)(a1 + 32);
        v204 = _m_pfadd(_m_pfmul(v200, (__m64)qword_4906B8), v201);
        v205 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v202;
        *(__m64 *)(a1 + 24) = v204;
        v206 = _m_punpckhdq(v201, v203);
        v207 = _m_punpckhdq(v204, v205);
        v208 = _m_punpckldq(v203, v203);
        v209 = _m_punpckldq(v205, v205);
        v210 = _m_punpckhdq(v206, v206);
        v211 = _m_pfmul(v388, v210);
        v212 = _m_punpckhdq(v207, v207);
        v213 = _m_pfadd(_m_pfadd(_m_pfmul(v210, 0i64), _m_pfmul(v208, 0i64)), _m_pfmul(v209, v389));
        v214 = _m_pfadd(_m_pfmul(0i64, v212), _m_pfadd(_m_pfmul(0i64, v209), _m_pfadd(v211, _m_pfmul(v387, v208))));
        v215 = *(__m64 *)(a1 + 48);
        v216 = _m_pfadd(_m_pfmul(v212, (__m64)qword_4906B8), v213);
        v217 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v214;
        *(__m64 *)(a1 + 40) = v216;
        v218 = _m_punpckhdq(v213, v215);
        v219 = _m_punpckhdq(v216, v217);
        v220 = _m_punpckldq(v215, v215);
        v221 = _m_punpckldq(v217, v217);
        v222 = _m_punpckhdq(v218, v218);
        v223 = _m_pfmul(v388, v222);
        v224 = _m_punpckhdq(v219, v219);
        v225 = _m_pfmul(0i64, v224);
        v226 = _m_pfadd(_m_pfadd(_m_pfmul(v222, 0i64), _m_pfmul(v220, 0i64)), _m_pfmul(v221, v389));
        v227 = _m_pfadd(_m_pfmul(v224, (__m64)qword_4906B8), v226);
        *(__m64 *)(a1 + 48) = _m_pfadd(v225, _m_pfadd(_m_pfmul(0i64, v221), _m_pfadd(v223, _m_pfmul(v387, v220))));
        *(__m64 *)(a1 + 56) = v227;
        v228 = *(__m64 *)(a1 + 8);
        v229 = _m_punpckhdq(v226, *(__m64 *)a1);
        v230 = _m_punpckhdq(v227, v228);
        v231 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v232 = _m_punpckldq(v228, v228);
        v233 = _m_punpckhdq(v229, v229);
        v234 = _m_pfmul(v394, v233);
        v235 = _m_punpckhdq(v230, v230);
        v236 = _m_pfadd(_m_pfadd(_m_pfmul(v233, v396), _m_pfmul(v231, v392)), _m_pfmul(v232, v400));
        v237 = _m_pfadd(_m_pfmul(0i64, v235), _m_pfadd(_m_pfmul(v398, v232), _m_pfadd(v234, _m_pfmul(v390, v231))));
        v238 = *(__m64 *)(a1 + 16);
        v239 = _m_pfadd(_m_pfmul(v235, v402), v236);
        v240 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v237;
        *(__m64 *)(a1 + 8) = v239;
        v241 = _m_punpckhdq(v236, v238);
        v242 = _m_punpckhdq(v239, v240);
        v243 = _m_punpckldq(v238, v238);
        v244 = _m_punpckldq(v240, v240);
        v245 = _m_punpckhdq(v241, v241);
        v246 = _m_pfmul(v394, v245);
        v247 = _m_punpckhdq(v242, v242);
        v248 = _m_pfadd(_m_pfadd(_m_pfmul(v245, v396), _m_pfmul(v243, v392)), _m_pfmul(v244, v400));
        v249 = _m_pfadd(_m_pfmul(0i64, v247), _m_pfadd(_m_pfmul(v398, v244), _m_pfadd(v246, _m_pfmul(v390, v243))));
        v250 = *(__m64 *)(a1 + 32);
        v251 = _m_pfadd(_m_pfmul(v247, v402), v248);
        v252 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v249;
        *(__m64 *)(a1 + 24) = v251;
        v253 = _m_punpckhdq(v248, v250);
        v254 = _m_punpckhdq(v251, v252);
        v255 = _m_punpckldq(v250, v250);
        v256 = _m_punpckldq(v252, v252);
        v257 = _m_punpckhdq(v253, v253);
        v258 = _m_pfmul(v394, v257);
        v259 = _m_punpckhdq(v254, v254);
        v260 = _m_pfadd(_m_pfadd(_m_pfmul(v257, v396), _m_pfmul(v255, v392)), _m_pfmul(v256, v400));
        v261 = _m_pfadd(_m_pfmul(0i64, v259), _m_pfadd(_m_pfmul(v398, v256), _m_pfadd(v258, _m_pfmul(v390, v255))));
        v262 = *(__m64 *)(a1 + 48);
        v263 = _m_pfadd(_m_pfmul(v259, v402), v260);
        v264 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v261;
        *(__m64 *)(a1 + 40) = v263;
        v265 = _m_punpckhdq(v260, v262);
        v266 = _m_punpckhdq(v263, v264);
        v267 = _m_punpckldq(v262, v262);
        v268 = _m_punpckldq(v264, v264);
        v269 = _m_punpckhdq(v265, v265);
        v270 = _m_punpckhdq(v266, v266);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v270),
                                _m_pfadd(_m_pfmul(v398, v268), _m_pfadd(_m_pfmul(v394, v269), _m_pfmul(v390, v267))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v270, v402),
                                _m_pfadd(_m_pfadd(_m_pfmul(v269, v396), _m_pfmul(v267, v392)), _m_pfmul(v268, v400)));
      }
    }
    else
    {
      v271 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v272 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      *(__m64 *)a1 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      *(_QWORD *)(a1 + 8) = 0i64;
      *(__m64 *)(a1 + 16) = v272;
      *(_QWORD *)(a1 + 24) = 0i64;
      *(_QWORD *)(a1 + 32) = 0i64;
      *(__m64 *)(a1 + 40) = v271;
      *(_QWORD *)(a1 + 48) = 0i64;
      *(_QWORD *)(a1 + 56) = qword_4906B8;
    }
  }
  else
  {
    v273 = _mm_cvtsi32_si64(qword_4906C8);
    v274 = _m_punpckldq(_m_punpckhdq(v273, v273), v273);
    *(__m64 *)a1 = v273;
    *(_QWORD *)(a1 + 8) = 0i64;
    *(__m64 *)(a1 + 16) = v274;
    *(_QWORD *)(a1 + 24) = 0i64;
    *(_QWORD *)(a1 + 32) = 0i64;
    *(__m64 *)(a1 + 40) = v273;
    *(_QWORD *)(a1 + 48) = 0i64;
    *(__m64 *)(a1 + 56) = v274;
  }
  if ( a6 )
  {
    v275 = *(__m64 *)a6;
    v276 = v275;
    v277 = _m_pfadd(v275, v275);
    v278 = _m_punpckhdq(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8));
    v279 = _m_pfmul(*(__m64 *)a6, v277);
    v280 = _m_pfmul(v277, v278);
    v281 = _m_punpckldq(_m_pfadd(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8)), v277);
    v282 = _m_pfmul(_m_punpckldq(*(__m64 *)(a6 + 8), *(__m64 *)(a6 + 8)), v281);
    v283 = _m_pfmul(v281, _m_punpckhdq(v276, v276));
    v284 = _m_pfmul(v281, v278);
    v285 = v283;
    v286 = _m_punpckhdq(v283, v282);
    v287 = v286;
    v288 = _m_punpckhdq(_m_punpckldq(v284, v284), v280);
    v289 = _m_pfsubr(_m_pfadd(_m_punpckldq(v282, v282), v279), (__m64)qword_4906D8);
    v290 = _m_pfadd(v286, v288);
    v401 = _m_punpckldq(_m_pfsubr(_m_pfacc(v279, v279), (__m64)qword_4906D8), 0i64);
    v291 = v285;
    v292 = _m_pfadd(v285, v280);
    v293 = _m_pfsub(v291, v280);
    v294 = _m_pfsub(v287, v288);
    v295 = _m_punpckldq(v292, 0i64);
    v397 = v295;
    v393 = _m_punpckhdq(v294, 0i64);
    v395 = _m_punpckldq(v294, v289);
    v391 = _m_punpckhdq(v289, _m_punpckldq(v290, v290));
    v399 = _m_punpckldq(_m_punpckhdq(v290, v290), v293);
    v403 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
    if ( a5 )
    {
      v296 = (__m64)a5->m64_u64;
      v297 = _mm_cvtsi32_si64(a5[1].m64_u32[0]);
      v298 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), v297);
      *(__m64 *)(result + 48) = _m_pfsub(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v298);
      v299 = *(__m64 *)(result + 8);
      v300 = _m_punpckhdq(v296, *(__m64 *)result);
      v301 = _m_punpckhdq(v297, v299);
      v302 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v303 = _m_punpckldq(v299, v299);
      v304 = _m_punpckhdq(v300, v300);
      v305 = _m_pfmul(v395, v304);
      v306 = _m_punpckhdq(v301, v301);
      v307 = _m_pfadd(_m_pfadd(_m_pfmul(v304, v397), _m_pfmul(v302, v393)), _m_pfmul(v303, v401));
      v308 = _m_pfadd(_m_pfmul(0i64, v306), _m_pfadd(_m_pfmul(v399, v303), _m_pfadd(v305, _m_pfmul(v391, v302))));
      v309 = *(__m64 *)(result + 16);
      v310 = _m_pfadd(_m_pfmul(v306, v403), v307);
      v311 = *(__m64 *)(result + 24);
      *(__m64 *)result = v308;
      *(__m64 *)(result + 8) = v310;
      v312 = _m_punpckhdq(v307, v309);
      v313 = _m_punpckhdq(v310, v311);
      v314 = _m_punpckldq(v309, v309);
      v315 = _m_punpckldq(v311, v311);
      v316 = _m_punpckhdq(v312, v312);
      v317 = _m_pfmul(v395, v316);
      v318 = _m_punpckhdq(v313, v313);
      v319 = _m_pfadd(_m_pfadd(_m_pfmul(v316, v397), _m_pfmul(v314, v393)), _m_pfmul(v315, v401));
      v320 = _m_pfadd(_m_pfmul(0i64, v318), _m_pfadd(_m_pfmul(v399, v315), _m_pfadd(v317, _m_pfmul(v391, v314))));
      v321 = *(__m64 *)(result + 32);
      v322 = _m_pfadd(_m_pfmul(v318, v403), v319);
      v323 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v320;
      *(__m64 *)(result + 24) = v322;
      v324 = _m_punpckhdq(v319, v321);
      v325 = _m_punpckhdq(v322, v323);
      v326 = _m_punpckldq(v321, v321);
      v327 = _m_punpckldq(v323, v323);
      v328 = _m_punpckhdq(v324, v324);
      v329 = _m_pfmul(v395, v328);
      v330 = _m_punpckhdq(v325, v325);
      v331 = _m_pfadd(_m_pfadd(_m_pfmul(v328, v397), _m_pfmul(v326, v393)), _m_pfmul(v327, v401));
      v332 = _m_pfadd(_m_pfmul(0i64, v330), _m_pfadd(_m_pfmul(v399, v327), _m_pfadd(v329, _m_pfmul(v391, v326))));
      v333 = *(__m64 *)(result + 48);
      v334 = _m_pfadd(_m_pfmul(v330, v403), v331);
      v335 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v332;
      *(__m64 *)(result + 40) = v334;
      v336 = _m_punpckhdq(v331, v333);
      v337 = _m_punpckhdq(v334, v335);
      v338 = _m_punpckldq(v333, v333);
      v339 = _m_punpckldq(v335, v335);
      v340 = _m_punpckhdq(v336, v336);
      v341 = _m_punpckhdq(v337, v337);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v341),
                                  _m_pfadd(_m_pfmul(v399, v339), _m_pfadd(_m_pfmul(v395, v340), _m_pfmul(v391, v338))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v341, v403),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v340, v397), _m_pfmul(v338, v393)), _m_pfmul(v339, v401)));
      v342 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a5[1].m64_u32[0]));
      *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v342);
    }
    else
    {
      v343 = *(__m64 *)(result + 8);
      v344 = _m_punpckhdq(v295, *(__m64 *)result);
      v345 = _m_punpckhdq(v293, v343);
      v346 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v347 = _m_punpckldq(v343, v343);
      v348 = _m_punpckhdq(v344, v344);
      v349 = _m_pfmul(v395, v348);
      v350 = _m_punpckhdq(v345, v345);
      v351 = _m_pfadd(_m_pfadd(_m_pfmul(v348, v397), _m_pfmul(v346, v393)), _m_pfmul(v347, v401));
      v352 = _m_pfadd(_m_pfmul(0i64, v350), _m_pfadd(_m_pfmul(v399, v347), _m_pfadd(v349, _m_pfmul(v391, v346))));
      v353 = *(__m64 *)(result + 16);
      v354 = _m_pfadd(_m_pfmul(v350, v403), v351);
      v355 = *(__m64 *)(result + 24);
      *(__m64 *)result = v352;
      *(__m64 *)(result + 8) = v354;
      v356 = _m_punpckhdq(v351, v353);
      v357 = _m_punpckhdq(v354, v355);
      v358 = _m_punpckldq(v353, v353);
      v359 = _m_punpckldq(v355, v355);
      v360 = _m_punpckhdq(v356, v356);
      v361 = _m_pfmul(v395, v360);
      v362 = _m_punpckhdq(v357, v357);
      v363 = _m_pfadd(_m_pfadd(_m_pfmul(v360, v397), _m_pfmul(v358, v393)), _m_pfmul(v359, v401));
      v364 = _m_pfadd(_m_pfmul(0i64, v362), _m_pfadd(_m_pfmul(v399, v359), _m_pfadd(v361, _m_pfmul(v391, v358))));
      v365 = *(__m64 *)(result + 32);
      v366 = _m_pfadd(_m_pfmul(v362, v403), v363);
      v367 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v364;
      *(__m64 *)(result + 24) = v366;
      v368 = _m_punpckhdq(v363, v365);
      v369 = _m_punpckhdq(v366, v367);
      v370 = _m_punpckldq(v365, v365);
      v371 = _m_punpckldq(v367, v367);
      v372 = _m_punpckhdq(v368, v368);
      v373 = _m_pfmul(v395, v372);
      v374 = _m_punpckhdq(v369, v369);
      v375 = _m_pfadd(_m_pfadd(_m_pfmul(v372, v397), _m_pfmul(v370, v393)), _m_pfmul(v371, v401));
      v376 = _m_pfadd(_m_pfmul(0i64, v374), _m_pfadd(_m_pfmul(v399, v371), _m_pfadd(v373, _m_pfmul(v391, v370))));
      v377 = *(__m64 *)(result + 48);
      v378 = _m_pfadd(_m_pfmul(v374, v403), v375);
      v379 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v376;
      *(__m64 *)(result + 40) = v378;
      v380 = _m_punpckhdq(v375, v377);
      v381 = _m_punpckhdq(v378, v379);
      v382 = _m_punpckldq(v377, v377);
      v383 = _m_punpckldq(v379, v379);
      v384 = _m_punpckhdq(v380, v380);
      v385 = _m_punpckhdq(v381, v381);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v385),
                                  _m_pfadd(_m_pfmul(v399, v383), _m_pfadd(_m_pfmul(v395, v384), _m_pfmul(v391, v382))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v385, v403),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v384, v397), _m_pfmul(v382, v393)), _m_pfmul(v383, v401)));
    }
  }
  if ( a7 )
  {
    v386 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a7[1].m64_u32[0]));
    *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a7->m64_u64);
    *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v386);
  }
  _m_femms();
  return result;
}
// 4906B8: using guessed type __int64 qword_4906B8;
// 4906C8: using guessed type __int64 qword_4906C8;
// 4906D8: using guessed type __int64 qword_4906D8;

//----- (00448797) --------------------------------------------------------
int __userpurge sub_448797@<eax>(int a1@<ebp>, int a2, int a3, int a4, int a5)
{
  __m64 v5; // mm0@1
  __m64 v6; // ST18_8@1
  __m64 v7; // ST08_8@1
  __m64 v8; // mm0@1
  unsigned __int64 v9; // ST10_8@1
  __m64 v10; // mm0@1
  __m64 v11; // mm6@1
  __m64 v12; // mm2@1
  __m64 v13; // mm6@1
  __m64 v14; // mm7@1
  int result; // eax@1
  __m64 v16; // mm3@1
  __m64 v17; // mm0@1
  __m64 v18; // mm7@1
  __m64 v19; // mm2@1
  __m64 v20; // mm4@1
  __m64 v21; // mm3@1
  __m64 v22; // mm5@1
  __m64 v23; // mm6@1
  __m64 v24; // mm7@1
  __m64 v25; // mm1@1
  __m64 v26; // mm6@1
  __m64 v27; // mm2@1
  __m64 v28; // mm1@1
  __m64 v29; // mm4@1
  __m64 v30; // mm6@1
  __m64 v31; // mm7@1
  __m64 v32; // mm1@1
  __m64 v33; // mm3@1
  __m64 v34; // mm2@1
  __m64 v35; // mm3@1
  __m64 v36; // mm5@1
  int v37; // ebp@1
  __m64 v38; // [sp+20h] [bp-10h]@0
  unsigned __int64 v39; // [sp+28h] [bp-8h]@0

  v5 = _m_pfmul((__m64)qword_490768, *(__m64 *)(a1 + 20));
  v6 = _m_pfmul((__m64)qword_490768, *(__m64 *)(a1 + 12));
  sub_451560(v5);
  v7 = v5;
  v8 = _m_punpckhdq(v6, v6);
  sub_451560(v8);
  v9 = v8.m64_u64;
  v10 = v6;
  sub_451560(v6);
  v11.m64_u64 = v9;
  v12 = _m_punpckldq(v11, v11);
  v13 = _m_punpckhdq(v11, v11);
  v14 = _m_punpckldq(_m_punpckhdq(v7, v7), v7);
  *(__m64 *)(a1 - 16) = _m_pfadd(
                          _m_pfmul(_m_pfmul(_m_pxor(_m_punpckldq(v10, v10), (__m64)qword_4906F8), v13), v7),
                          _m_pfmul(_m_pfmul(_m_punpckhdq(v10, v10), v12), v14));
  *(__m64 *)(a1 - 8) = _m_pfadd(
                         _m_pfmul(_m_pfmul(_m_punpckldq(v10, v10), v12), v14),
                         _m_pfmul(
                           _m_pfmul(_m_pxor(_m_punpckhdq(v10, v10), _m_psrlq((__m64)qword_4906F8, 0x20u)), v13),
                           v7));
  result = *(_DWORD *)(a1 + 8);
  v16 = v38;
  v17 = _m_pfadd(v16, v16);
  v18.m64_u64 = v39;
  v19 = _m_punpckhdq(v16, v16);
  v20 = _m_punpckhdq(v18, v18);
  v21 = _m_pfmul(v38, v17);
  v22 = _m_pfmul(v17, v20);
  v23 = _m_punpckldq(_m_pfadd(v18, v18), v17);
  v24 = _m_pfmul(_m_punpckldq(v18, v18), v23);
  v25 = _m_pfmul(v23, v19);
  v26 = _m_pfmul(v23, v20);
  v27 = v25;
  v28 = _m_punpckhdq(v25, v24);
  *(_QWORD *)(result + 48) = 0i64;
  v29 = v28;
  v30 = _m_punpckhdq(_m_punpckldq(v26, v26), v22);
  v31 = _m_pfsubr(_m_pfadd(_m_punpckldq(v24, v24), v21), (__m64)qword_4906D8);
  v32 = _m_pfadd(v28, v30);
  *(__m64 *)(result + 40) = _m_punpckldq(_m_pfsubr(_m_pfacc(v21, v21), (__m64)qword_4906D8), 0i64);
  v33 = v27;
  v34 = _m_pfadd(v27, v22);
  v35 = _m_pfsub(v33, v22);
  v36 = _m_pfsub(v29, v30);
  *(__m64 *)(result + 24) = _m_punpckldq(v34, 0i64);
  *(__m64 *)(result + 8) = _m_punpckhdq(v36, 0i64);
  *(__m64 *)(result + 16) = _m_punpckldq(v36, v31);
  *(__m64 *)result = _m_punpckhdq(v31, _m_punpckldq(v32, v32));
  *(__m64 *)(result + 32) = _m_punpckldq(_m_punpckhdq(v32, v32), v35);
  *(__m64 *)(result + 56) = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
  v37 = *(_DWORD *)a1;
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;
// 4906F8: using guessed type __int64 qword_4906F8;
// 490768: using guessed type __int64 qword_490768;

//----- (0044893C) --------------------------------------------------------
int __stdcall sub_44893C(int a1, unsigned int a2, __m64 *a3, int a4, __m64 *a5)
{
  int result; // eax@1
  __m64 v6; // mm6@1
  __m64 v7; // mm0@2
  __m64 v8; // mm2@2
  __m64 v9; // mm0@2
  __m64 v10; // mm4@2
  __m64 v11; // mm3@2
  __m64 v12; // mm5@2
  __m64 v13; // mm6@2
  __m64 v14; // mm7@2
  __m64 v15; // mm1@2
  __m64 v16; // mm6@2
  __m64 v17; // mm2@2
  __m64 v18; // mm1@2
  __m64 v19; // mm4@2
  __m64 v20; // mm6@2
  __m64 v21; // mm7@2
  __m64 v22; // mm1@2
  __m64 v23; // mm3@2
  __m64 v24; // mm2@2
  __m64 v25; // mm3@2
  __m64 v26; // mm5@2
  __m64 v27; // mm2@2
  __m64 v28; // mm2@3
  __m64 v29; // mm3@3
  __m64 v30; // mm1@3
  __m64 v31; // mm1@3
  __m64 v32; // mm2@3
  __m64 v33; // mm3@3
  __m64 v34; // mm0@3
  __m64 v35; // mm1@3
  __m64 v36; // mm2@3
  __m64 v37; // mm5@3
  __m64 v38; // mm3@3
  __m64 v39; // mm2@3
  __m64 v40; // mm7@3
  __m64 v41; // mm0@3
  __m64 v42; // mm3@3
  __m64 v43; // mm1@3
  __m64 v44; // mm2@3
  __m64 v45; // mm3@3
  __m64 v46; // mm0@3
  __m64 v47; // mm1@3
  __m64 v48; // mm2@3
  __m64 v49; // mm5@3
  __m64 v50; // mm3@3
  __m64 v51; // mm2@3
  __m64 v52; // mm7@3
  __m64 v53; // mm0@3
  __m64 v54; // mm3@3
  __m64 v55; // mm1@3
  __m64 v56; // mm2@3
  __m64 v57; // mm3@3
  __m64 v58; // mm0@3
  __m64 v59; // mm1@3
  __m64 v60; // mm2@3
  __m64 v61; // mm5@3
  __m64 v62; // mm3@3
  __m64 v63; // mm2@3
  __m64 v64; // mm7@3
  __m64 v65; // mm0@3
  __m64 v66; // mm3@3
  __m64 v67; // mm1@3
  __m64 v68; // mm2@3
  __m64 v69; // mm3@3
  __m64 v70; // mm0@3
  __m64 v71; // mm1@3
  __m64 v72; // mm2@3
  __m64 v73; // mm3@3
  __m64 v74; // mm1@3
  __m64 v75; // mm1@4
  __m64 v76; // mm2@4
  __m64 v77; // mm3@4
  __m64 v78; // mm0@4
  __m64 v79; // mm1@4
  __m64 v80; // mm2@4
  __m64 v81; // mm5@4
  __m64 v82; // mm3@4
  __m64 v83; // mm2@4
  __m64 v84; // mm7@4
  __m64 v85; // mm0@4
  __m64 v86; // mm3@4
  __m64 v87; // mm1@4
  __m64 v88; // mm2@4
  __m64 v89; // mm3@4
  __m64 v90; // mm0@4
  __m64 v91; // mm1@4
  __m64 v92; // mm2@4
  __m64 v93; // mm5@4
  __m64 v94; // mm3@4
  __m64 v95; // mm2@4
  __m64 v96; // mm7@4
  __m64 v97; // mm0@4
  __m64 v98; // mm3@4
  __m64 v99; // mm1@4
  __m64 v100; // mm2@4
  __m64 v101; // mm3@4
  __m64 v102; // mm0@4
  __m64 v103; // mm1@4
  __m64 v104; // mm2@4
  __m64 v105; // mm5@4
  __m64 v106; // mm3@4
  __m64 v107; // mm2@4
  __m64 v108; // mm7@4
  __m64 v109; // mm0@4
  __m64 v110; // mm3@4
  __m64 v111; // mm1@4
  __m64 v112; // mm2@4
  __m64 v113; // mm3@4
  __m64 v114; // mm0@4
  __m64 v115; // mm1@4
  __m64 v116; // mm2@4
  __m64 v117; // mm3@4
  __m64 v118; // mm1@6
  __m64 v119; // [sp+0h] [bp-40h]@2
  __m64 v120; // [sp+8h] [bp-38h]@2
  __m64 v121; // [sp+10h] [bp-30h]@2
  __m64 v122; // [sp+18h] [bp-28h]@2
  __m64 v123; // [sp+20h] [bp-20h]@2
  __m64 v124; // [sp+28h] [bp-18h]@2
  __m64 v125; // [sp+38h] [bp-8h]@2

  result = a1;
  v6 = _mm_cvtsi32_si64(a2);
  *(__m64 *)a1 = v6;
  *(_QWORD *)(a1 + 8) = 0i64;
  *(_DWORD *)(a1 + 16) = _mm_cvtsi64_si32(0i64);
  *(_DWORD *)(a1 + 20) = _mm_cvtsi64_si32(v6);
  *(_QWORD *)(a1 + 24) = 0i64;
  *(_QWORD *)(a1 + 32) = 0i64;
  *(__m64 *)(a1 + 40) = v6;
  *(_QWORD *)(a1 + 48) = 0i64;
  *(_QWORD *)(a1 + 56) = qword_4906B8;
  if ( a4 )
  {
    v7 = *(__m64 *)a4;
    v8 = v7;
    v9 = _m_pfadd(v7, v7);
    v10 = _m_punpckhdq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8));
    v11 = _m_pfmul(*(__m64 *)a4, v9);
    v12 = _m_pfmul(v9, v10);
    v13 = _m_punpckldq(_m_pfadd(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), v9);
    v14 = _m_pfmul(_m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), v13);
    v15 = _m_pfmul(v13, _m_punpckhdq(v8, v8));
    v16 = _m_pfmul(v13, v10);
    v17 = v15;
    v18 = _m_punpckhdq(v15, v14);
    v19 = v18;
    v20 = _m_punpckhdq(_m_punpckldq(v16, v16), v12);
    v21 = _m_pfsubr(_m_pfadd(_m_punpckldq(v14, v14), v11), (__m64)qword_4906D8);
    v22 = _m_pfadd(v18, v20);
    v124 = _m_punpckldq(_m_pfsubr(_m_pfacc(v11, v11), (__m64)qword_4906D8), 0i64);
    v23 = v17;
    v24 = _m_pfadd(v17, v12);
    v25 = _m_pfsub(v23, v12);
    v26 = _m_pfsub(v19, v20);
    v27 = _m_punpckldq(v24, 0i64);
    v122 = v27;
    v120 = _m_punpckhdq(v26, 0i64);
    v121 = _m_punpckldq(v26, v21);
    v119 = _m_punpckhdq(v21, _m_punpckldq(v22, v22));
    v123 = _m_punpckldq(_m_punpckhdq(v22, v22), v25);
    v125 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
    if ( a3 )
    {
      v28 = (__m64)a3->m64_u64;
      v29 = _mm_cvtsi32_si64(a3[1].m64_u32[0]);
      v30 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)), v29);
      *(__m64 *)(a1 + 48) = _m_pfsub(*(__m64 *)(a1 + 48), (__m64)a3->m64_u64);
      *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v30);
      v31 = *(__m64 *)(a1 + 8);
      v32 = _m_punpckhdq(v28, *(__m64 *)a1);
      v33 = _m_punpckhdq(v29, v31);
      v34 = _m_punpckldq(*(__m64 *)a1, *(__m64 *)a1);
      v35 = _m_punpckldq(v31, v31);
      v36 = _m_punpckhdq(v32, v32);
      v37 = _m_pfmul(v121, v36);
      v38 = _m_punpckhdq(v33, v33);
      v39 = _m_pfadd(_m_pfadd(_m_pfmul(v36, v122), _m_pfmul(v34, v120)), _m_pfmul(v35, v124));
      v40 = _m_pfadd(_m_pfmul(0i64, v38), _m_pfadd(_m_pfmul(v123, v35), _m_pfadd(v37, _m_pfmul(v119, v34))));
      v41 = *(__m64 *)(a1 + 16);
      v42 = _m_pfadd(_m_pfmul(v38, v125), v39);
      v43 = *(__m64 *)(a1 + 24);
      *(__m64 *)a1 = v40;
      *(__m64 *)(a1 + 8) = v42;
      v44 = _m_punpckhdq(v39, v41);
      v45 = _m_punpckhdq(v42, v43);
      v46 = _m_punpckldq(v41, v41);
      v47 = _m_punpckldq(v43, v43);
      v48 = _m_punpckhdq(v44, v44);
      v49 = _m_pfmul(v121, v48);
      v50 = _m_punpckhdq(v45, v45);
      v51 = _m_pfadd(_m_pfadd(_m_pfmul(v48, v122), _m_pfmul(v46, v120)), _m_pfmul(v47, v124));
      v52 = _m_pfadd(_m_pfmul(0i64, v50), _m_pfadd(_m_pfmul(v123, v47), _m_pfadd(v49, _m_pfmul(v119, v46))));
      v53 = *(__m64 *)(a1 + 32);
      v54 = _m_pfadd(_m_pfmul(v50, v125), v51);
      v55 = *(__m64 *)(a1 + 40);
      *(__m64 *)(a1 + 16) = v52;
      *(__m64 *)(a1 + 24) = v54;
      v56 = _m_punpckhdq(v51, v53);
      v57 = _m_punpckhdq(v54, v55);
      v58 = _m_punpckldq(v53, v53);
      v59 = _m_punpckldq(v55, v55);
      v60 = _m_punpckhdq(v56, v56);
      v61 = _m_pfmul(v121, v60);
      v62 = _m_punpckhdq(v57, v57);
      v63 = _m_pfadd(_m_pfadd(_m_pfmul(v60, v122), _m_pfmul(v58, v120)), _m_pfmul(v59, v124));
      v64 = _m_pfadd(_m_pfmul(0i64, v62), _m_pfadd(_m_pfmul(v123, v59), _m_pfadd(v61, _m_pfmul(v119, v58))));
      v65 = *(__m64 *)(a1 + 48);
      v66 = _m_pfadd(_m_pfmul(v62, v125), v63);
      v67 = *(__m64 *)(a1 + 56);
      *(__m64 *)(a1 + 32) = v64;
      *(__m64 *)(a1 + 40) = v66;
      v68 = _m_punpckhdq(v63, v65);
      v69 = _m_punpckhdq(v66, v67);
      v70 = _m_punpckldq(v65, v65);
      v71 = _m_punpckldq(v67, v67);
      v72 = _m_punpckhdq(v68, v68);
      v73 = _m_punpckhdq(v69, v69);
      *(__m64 *)(a1 + 48) = _m_pfadd(
                              _m_pfmul(0i64, v73),
                              _m_pfadd(_m_pfmul(v123, v71), _m_pfadd(_m_pfmul(v121, v72), _m_pfmul(v119, v70))));
      *(__m64 *)(a1 + 56) = _m_pfadd(
                              _m_pfmul(v73, v125),
                              _m_pfadd(_m_pfadd(_m_pfmul(v72, v122), _m_pfmul(v70, v120)), _m_pfmul(v71, v124)));
      v74 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)), _mm_cvtsi32_si64(a3[1].m64_u32[0]));
      *(__m64 *)(a1 + 48) = _m_pfadd(*(__m64 *)(a1 + 48), (__m64)a3->m64_u64);
      *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v74);
    }
    else
    {
      v75 = *(__m64 *)(a1 + 8);
      v76 = _m_punpckhdq(v27, *(__m64 *)a1);
      v77 = _m_punpckhdq(v25, v75);
      v78 = _m_punpckldq(*(__m64 *)a1, *(__m64 *)a1);
      v79 = _m_punpckldq(v75, v75);
      v80 = _m_punpckhdq(v76, v76);
      v81 = _m_pfmul(v121, v80);
      v82 = _m_punpckhdq(v77, v77);
      v83 = _m_pfadd(_m_pfadd(_m_pfmul(v80, v122), _m_pfmul(v78, v120)), _m_pfmul(v79, v124));
      v84 = _m_pfadd(_m_pfmul(0i64, v82), _m_pfadd(_m_pfmul(v123, v79), _m_pfadd(v81, _m_pfmul(v119, v78))));
      v85 = *(__m64 *)(a1 + 16);
      v86 = _m_pfadd(_m_pfmul(v82, v125), v83);
      v87 = *(__m64 *)(a1 + 24);
      *(__m64 *)a1 = v84;
      *(__m64 *)(a1 + 8) = v86;
      v88 = _m_punpckhdq(v83, v85);
      v89 = _m_punpckhdq(v86, v87);
      v90 = _m_punpckldq(v85, v85);
      v91 = _m_punpckldq(v87, v87);
      v92 = _m_punpckhdq(v88, v88);
      v93 = _m_pfmul(v121, v92);
      v94 = _m_punpckhdq(v89, v89);
      v95 = _m_pfadd(_m_pfadd(_m_pfmul(v92, v122), _m_pfmul(v90, v120)), _m_pfmul(v91, v124));
      v96 = _m_pfadd(_m_pfmul(0i64, v94), _m_pfadd(_m_pfmul(v123, v91), _m_pfadd(v93, _m_pfmul(v119, v90))));
      v97 = *(__m64 *)(a1 + 32);
      v98 = _m_pfadd(_m_pfmul(v94, v125), v95);
      v99 = *(__m64 *)(a1 + 40);
      *(__m64 *)(a1 + 16) = v96;
      *(__m64 *)(a1 + 24) = v98;
      v100 = _m_punpckhdq(v95, v97);
      v101 = _m_punpckhdq(v98, v99);
      v102 = _m_punpckldq(v97, v97);
      v103 = _m_punpckldq(v99, v99);
      v104 = _m_punpckhdq(v100, v100);
      v105 = _m_pfmul(v121, v104);
      v106 = _m_punpckhdq(v101, v101);
      v107 = _m_pfadd(_m_pfadd(_m_pfmul(v104, v122), _m_pfmul(v102, v120)), _m_pfmul(v103, v124));
      v108 = _m_pfadd(_m_pfmul(0i64, v106), _m_pfadd(_m_pfmul(v123, v103), _m_pfadd(v105, _m_pfmul(v119, v102))));
      v109 = *(__m64 *)(a1 + 48);
      v110 = _m_pfadd(_m_pfmul(v106, v125), v107);
      v111 = *(__m64 *)(a1 + 56);
      *(__m64 *)(a1 + 32) = v108;
      *(__m64 *)(a1 + 40) = v110;
      v112 = _m_punpckhdq(v107, v109);
      v113 = _m_punpckhdq(v110, v111);
      v114 = _m_punpckldq(v109, v109);
      v115 = _m_punpckldq(v111, v111);
      v116 = _m_punpckhdq(v112, v112);
      v117 = _m_punpckhdq(v113, v113);
      *(__m64 *)(a1 + 48) = _m_pfadd(
                              _m_pfmul(0i64, v117),
                              _m_pfadd(_m_pfmul(v123, v115), _m_pfadd(_m_pfmul(v121, v116), _m_pfmul(v119, v114))));
      *(__m64 *)(a1 + 56) = _m_pfadd(
                              _m_pfmul(v117, v125),
                              _m_pfadd(_m_pfadd(_m_pfmul(v116, v122), _m_pfmul(v114, v120)), _m_pfmul(v115, v124)));
    }
  }
  if ( a5 )
  {
    v118 = _m_pfadd(_mm_cvtsi32_si64(a5[1].m64_u32[0]), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
    *(__m64 *)(a1 + 48) = _m_pfadd((__m64)a5->m64_u64, *(__m64 *)(a1 + 48));
    *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v118);
  }
  _m_femms();
  return result;
}
// 4906B8: using guessed type __int64 qword_4906B8;
// 4906D8: using guessed type __int64 qword_4906D8;

//----- (00448E70) --------------------------------------------------------
int __stdcall sub_448E70(int a1, __m64 *a2, unsigned int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 v5; // mm7@1
  __m64 v6; // mm1@1
  __m64 v7; // mm0@1
  __m64 v8; // mm7@1
  __m64 v9; // mm3@1
  __m64 v10; // mm0@1
  __m64 v11; // mm1@1
  __m64 v12; // mm2@1
  int result; // eax@1
  __m64 v14; // mm3@1
  __m64 v15; // mm4@1
  __m64 v16; // mm5@1
  __m64 v17; // mm1@1
  __m64 v18; // mm1@1
  __m64 v19; // mm6@1
  __m64 v20; // mm7@1
  __m64 v21; // mm1@1
  __m64 v22; // mm6@1
  __m64 v23; // mm2@1
  __m64 v24; // mm1@1
  __m64 v25; // [sp+0h] [bp-18h]@1
  unsigned int v26; // [sp+8h] [bp-10h]@1
  unsigned int v27; // [sp+Ch] [bp-Ch]@1

  v3 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v25 = (__m64)a2->m64_u64;
  v26 = _mm_cvtsi64_si32(v3);
  sub_44ABDF(&v25, &v25);
  v4 = _mm_cvtsi32_si64(a3);
  sub_451560(v4);
  v5 = v4;
  v6 = v4;
  v7 = _m_pfsubr(v4, (__m64)qword_4906D8);
  v27 = _mm_cvtsi64_si32(_m_punpckhdq(v5, v5));
  v8 = _mm_cvtsi32_si64(v26);
  v9 = _m_punpckldq(v8, v8);
  v10 = _m_punpckldq(v7, v7);
  v11 = _m_punpckldq(v6, v6);
  v12 = _m_pfmul(_m_pfmul(_m_punpckhdq(v25, v9), v25), v10);
  result = a1;
  v14 = _m_pfmul(_m_pfmul(v9, v25), v10);
  v15 = _m_pfadd(_m_pfmul(_m_pfmul(v25, v25), v10), v11);
  v16 = _m_pfadd(_m_pfmul(_m_pfmul(v8, v8), v10), v11);
  v17 = _mm_cvtsi32_si64(v27);
  v18 = _m_punpckldq(v17, v17);
  v19 = _m_pfmul(v25, v18);
  *(_QWORD *)(a1 + 48) = 0i64;
  v20 = _m_punpckldq(_m_pfmul(v8, v18), v19);
  v21 = v12;
  v22 = _m_punpckhdq(v19, v19);
  *(__m64 *)(a1 + 40) = _m_punpckldq(v16, 0i64);
  v23 = _m_pfsub(v12, v20);
  v24 = _m_pfadd(v21, v20);
  *(__m64 *)a1 = _m_punpckldq(v15, v24);
  *(__m64 *)(a1 + 8) = _m_punpckldq(_m_pfsub(v14, v22), 0i64);
  *(__m64 *)(a1 + 24) = _m_punpckhdq(v24, 0i64);
  *(__m64 *)(a1 + 56) = _m_punpckhdq(0i64, (__m64)qword_4906D8);
  *(__m64 *)(a1 + 32) = _m_punpckhdq(_m_pfadd(_m_punpckldq(v14, v14), v22), v23);
  *(__m64 *)(a1 + 16) = _m_punpckldq(v23, _m_punpckhdq(v15, v15));
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;

//----- (00448F89) --------------------------------------------------------
int __stdcall sub_448F89(int a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, __m64 *a6, __m64 *a7)
{
  int result; // eax@1
  __m64 v8; // mm0@3
  __m64 v9; // mm6@3
  __m64 v10; // mm0@3
  __m64 v11; // mm4@3
  __m64 v12; // mm1@3
  __m64 v13; // mm5@3
  __m64 v14; // mm0@3
  __m64 v15; // mm5@3
  __m64 v16; // mm2@3
  __m64 v17; // mm3@3
  __m64 v18; // mm1@3
  __m64 v19; // mm6@3
  __m64 v20; // mm4@3
  __m64 v21; // mm3@3
  __m64 v22; // mm6@3
  __m64 v23; // mm2@3
  __m64 v24; // mm0@3
  __m64 v25; // ST80_8@4
  __m64 v26; // ST90_8@4
  __m64 v27; // STA8_8@4
  __m64 v28; // STB8_8@4
  __m64 v29; // STA0_8@4
  __m64 v30; // STB0_8@4
  __m64 v31; // ST98_8@4
  __m64 v32; // ST88_8@4
  __m64 v33; // mm3@4
  __m64 v34; // mm4@4
  __m64 v35; // mm1@4
  __m64 v36; // mm2@4
  __m64 v37; // mm2@4
  __m64 v38; // mm1@4
  __m64 v39; // mm2@4
  __m64 v40; // mm3@4
  __m64 v41; // mm0@4
  __m64 v42; // mm1@4
  __m64 v43; // mm2@4
  __m64 v44; // mm5@4
  __m64 v45; // mm3@4
  __m64 v46; // mm2@4
  __m64 v47; // mm7@4
  __m64 v48; // mm0@4
  __m64 v49; // mm3@4
  __m64 v50; // mm1@4
  __m64 v51; // mm2@4
  __m64 v52; // mm3@4
  __m64 v53; // mm0@4
  __m64 v54; // mm1@4
  __m64 v55; // mm2@4
  __m64 v56; // mm5@4
  __m64 v57; // mm3@4
  __m64 v58; // mm2@4
  __m64 v59; // mm7@4
  __m64 v60; // mm0@4
  __m64 v61; // mm3@4
  __m64 v62; // mm1@4
  __m64 v63; // mm2@4
  __m64 v64; // mm3@4
  __m64 v65; // mm0@4
  __m64 v66; // mm1@4
  __m64 v67; // mm2@4
  __m64 v68; // mm5@4
  __m64 v69; // mm3@4
  __m64 v70; // mm2@4
  __m64 v71; // mm7@4
  __m64 v72; // mm0@4
  __m64 v73; // mm3@4
  __m64 v74; // mm1@4
  __m64 v75; // mm2@4
  __m64 v76; // mm3@4
  __m64 v77; // mm0@4
  __m64 v78; // mm1@4
  __m64 v79; // mm2@4
  __m64 v80; // mm5@4
  __m64 v81; // mm3@4
  __m64 v82; // mm7@4
  __m64 v83; // mm2@4
  __m64 v84; // mm3@4
  __m64 v85; // mm1@4
  __m64 v86; // mm2@4
  __m64 v87; // mm3@4
  __m64 v88; // mm0@4
  __m64 v89; // mm1@4
  __m64 v90; // mm2@4
  __m64 v91; // mm5@4
  __m64 v92; // mm3@4
  __m64 v93; // mm2@4
  __m64 v94; // mm7@4
  __m64 v95; // mm0@4
  __m64 v96; // mm3@4
  __m64 v97; // mm1@4
  __m64 v98; // mm2@4
  __m64 v99; // mm3@4
  __m64 v100; // mm0@4
  __m64 v101; // mm1@4
  __m64 v102; // mm2@4
  __m64 v103; // mm5@4
  __m64 v104; // mm3@4
  __m64 v105; // mm2@4
  __m64 v106; // mm7@4
  __m64 v107; // mm0@4
  __m64 v108; // mm3@4
  __m64 v109; // mm1@4
  __m64 v110; // mm2@4
  __m64 v111; // mm3@4
  __m64 v112; // mm0@4
  __m64 v113; // mm1@4
  __m64 v114; // mm2@4
  __m64 v115; // mm5@4
  __m64 v116; // mm3@4
  __m64 v117; // mm2@4
  __m64 v118; // mm7@4
  __m64 v119; // mm0@4
  __m64 v120; // mm3@4
  __m64 v121; // mm1@4
  __m64 v122; // mm2@4
  __m64 v123; // mm3@4
  __m64 v124; // mm0@4
  __m64 v125; // mm1@4
  __m64 v126; // mm2@4
  __m64 v127; // mm5@4
  __m64 v128; // mm3@4
  __m64 v129; // mm7@4
  __m64 v130; // mm2@4
  __m64 v131; // mm3@4
  __m64 v132; // mm1@4
  __m64 v133; // mm2@4
  __m64 v134; // mm3@4
  __m64 v135; // mm0@4
  __m64 v136; // mm1@4
  __m64 v137; // mm2@4
  __m64 v138; // mm5@4
  __m64 v139; // mm3@4
  __m64 v140; // mm2@4
  __m64 v141; // mm7@4
  __m64 v142; // mm0@4
  __m64 v143; // mm3@4
  __m64 v144; // mm1@4
  __m64 v145; // mm2@4
  __m64 v146; // mm3@4
  __m64 v147; // mm0@4
  __m64 v148; // mm1@4
  __m64 v149; // mm2@4
  __m64 v150; // mm5@4
  __m64 v151; // mm3@4
  __m64 v152; // mm2@4
  __m64 v153; // mm7@4
  __m64 v154; // mm0@4
  __m64 v155; // mm3@4
  __m64 v156; // mm1@4
  __m64 v157; // mm2@4
  __m64 v158; // mm3@4
  __m64 v159; // mm0@4
  __m64 v160; // mm1@4
  __m64 v161; // mm2@4
  __m64 v162; // mm5@4
  __m64 v163; // mm3@4
  __m64 v164; // mm2@4
  __m64 v165; // mm7@4
  __m64 v166; // mm0@4
  __m64 v167; // mm3@4
  __m64 v168; // mm1@4
  __m64 v169; // mm2@4
  __m64 v170; // mm3@4
  __m64 v171; // mm0@4
  __m64 v172; // mm1@4
  __m64 v173; // mm2@4
  __m64 v174; // mm3@4
  __m64 v175; // mm2@4
  __m64 v176; // mm3@5
  __m64 v177; // mm2@5
  __m64 v178; // mm1@5
  __m64 v179; // mm2@5
  __m64 v180; // mm3@5
  __m64 v181; // mm0@5
  __m64 v182; // mm1@5
  __m64 v183; // mm2@5
  __m64 v184; // mm5@5
  __m64 v185; // mm3@5
  __m64 v186; // mm2@5
  __m64 v187; // mm7@5
  __m64 v188; // mm0@5
  __m64 v189; // mm3@5
  __m64 v190; // mm1@5
  __m64 v191; // mm2@5
  __m64 v192; // mm3@5
  __m64 v193; // mm0@5
  __m64 v194; // mm1@5
  __m64 v195; // mm2@5
  __m64 v196; // mm5@5
  __m64 v197; // mm3@5
  __m64 v198; // mm2@5
  __m64 v199; // mm7@5
  __m64 v200; // mm0@5
  __m64 v201; // mm3@5
  __m64 v202; // mm1@5
  __m64 v203; // mm2@5
  __m64 v204; // mm3@5
  __m64 v205; // mm0@5
  __m64 v206; // mm1@5
  __m64 v207; // mm2@5
  __m64 v208; // mm5@5
  __m64 v209; // mm3@5
  __m64 v210; // mm2@5
  __m64 v211; // mm7@5
  __m64 v212; // mm0@5
  __m64 v213; // mm3@5
  __m64 v214; // mm1@5
  __m64 v215; // mm2@5
  __m64 v216; // mm3@5
  __m64 v217; // mm0@5
  __m64 v218; // mm1@5
  __m64 v219; // mm2@5
  __m64 v220; // mm5@5
  __m64 v221; // mm3@5
  __m64 v222; // mm7@5
  __m64 v223; // mm2@5
  __m64 v224; // mm3@5
  __m64 v225; // mm1@5
  __m64 v226; // mm2@5
  __m64 v227; // mm3@5
  __m64 v228; // mm0@5
  __m64 v229; // mm1@5
  __m64 v230; // mm2@5
  __m64 v231; // mm5@5
  __m64 v232; // mm3@5
  __m64 v233; // mm2@5
  __m64 v234; // mm7@5
  __m64 v235; // mm0@5
  __m64 v236; // mm3@5
  __m64 v237; // mm1@5
  __m64 v238; // mm2@5
  __m64 v239; // mm3@5
  __m64 v240; // mm0@5
  __m64 v241; // mm1@5
  __m64 v242; // mm2@5
  __m64 v243; // mm5@5
  __m64 v244; // mm3@5
  __m64 v245; // mm2@5
  __m64 v246; // mm7@5
  __m64 v247; // mm0@5
  __m64 v248; // mm3@5
  __m64 v249; // mm1@5
  __m64 v250; // mm2@5
  __m64 v251; // mm3@5
  __m64 v252; // mm0@5
  __m64 v253; // mm1@5
  __m64 v254; // mm2@5
  __m64 v255; // mm5@5
  __m64 v256; // mm3@5
  __m64 v257; // mm2@5
  __m64 v258; // mm7@5
  __m64 v259; // mm0@5
  __m64 v260; // mm3@5
  __m64 v261; // mm1@5
  __m64 v262; // mm2@5
  __m64 v263; // mm3@5
  __m64 v264; // mm0@5
  __m64 v265; // mm1@5
  __m64 v266; // mm2@5
  __m64 v267; // mm3@5
  __m64 v268; // mm4@6
  __m64 v269; // mm5@6
  __m64 v270; // mm1@7
  __m64 v271; // mm2@7
  __m64 v272; // mm0@9
  __m64 v273; // mm6@9
  __m64 v274; // mm0@9
  __m64 v275; // mm4@9
  __m64 v276; // mm1@9
  __m64 v277; // mm5@9
  __m64 v278; // mm0@9
  __m64 v279; // mm5@9
  __m64 v280; // mm2@9
  __m64 v281; // mm3@9
  __m64 v282; // mm1@9
  __m64 v283; // mm6@9
  __m64 v284; // mm4@9
  __m64 v285; // mm3@9
  __m64 v286; // mm6@9
  __m64 v287; // mm2@9
  __m64 v288; // mm0@9
  __m64 v289; // mm5@9
  __m64 v290; // mm2@9
  __m64 v291; // mm3@9
  __m64 v292; // mm2@10
  __m64 v293; // mm3@10
  __m64 v294; // mm1@10
  __m64 v295; // mm1@10
  __m64 v296; // mm2@10
  __m64 v297; // mm3@10
  __m64 v298; // mm0@10
  __m64 v299; // mm1@10
  __m64 v300; // mm2@10
  __m64 v301; // mm5@10
  __m64 v302; // mm3@10
  __m64 v303; // mm2@10
  __m64 v304; // mm7@10
  __m64 v305; // mm0@10
  __m64 v306; // mm3@10
  __m64 v307; // mm1@10
  __m64 v308; // mm2@10
  __m64 v309; // mm3@10
  __m64 v310; // mm0@10
  __m64 v311; // mm1@10
  __m64 v312; // mm2@10
  __m64 v313; // mm5@10
  __m64 v314; // mm3@10
  __m64 v315; // mm2@10
  __m64 v316; // mm7@10
  __m64 v317; // mm0@10
  __m64 v318; // mm3@10
  __m64 v319; // mm1@10
  __m64 v320; // mm2@10
  __m64 v321; // mm3@10
  __m64 v322; // mm0@10
  __m64 v323; // mm1@10
  __m64 v324; // mm2@10
  __m64 v325; // mm5@10
  __m64 v326; // mm3@10
  __m64 v327; // mm2@10
  __m64 v328; // mm7@10
  __m64 v329; // mm0@10
  __m64 v330; // mm3@10
  __m64 v331; // mm1@10
  __m64 v332; // mm2@10
  __m64 v333; // mm3@10
  __m64 v334; // mm0@10
  __m64 v335; // mm1@10
  __m64 v336; // mm2@10
  __m64 v337; // mm3@10
  __m64 v338; // mm1@10
  __m64 v339; // mm1@11
  __m64 v340; // mm2@11
  __m64 v341; // mm3@11
  __m64 v342; // mm0@11
  __m64 v343; // mm1@11
  __m64 v344; // mm2@11
  __m64 v345; // mm5@11
  __m64 v346; // mm3@11
  __m64 v347; // mm2@11
  __m64 v348; // mm7@11
  __m64 v349; // mm0@11
  __m64 v350; // mm3@11
  __m64 v351; // mm1@11
  __m64 v352; // mm2@11
  __m64 v353; // mm3@11
  __m64 v354; // mm0@11
  __m64 v355; // mm1@11
  __m64 v356; // mm2@11
  __m64 v357; // mm5@11
  __m64 v358; // mm3@11
  __m64 v359; // mm2@11
  __m64 v360; // mm7@11
  __m64 v361; // mm0@11
  __m64 v362; // mm3@11
  __m64 v363; // mm1@11
  __m64 v364; // mm2@11
  __m64 v365; // mm3@11
  __m64 v366; // mm0@11
  __m64 v367; // mm1@11
  __m64 v368; // mm2@11
  __m64 v369; // mm5@11
  __m64 v370; // mm3@11
  __m64 v371; // mm2@11
  __m64 v372; // mm7@11
  __m64 v373; // mm0@11
  __m64 v374; // mm3@11
  __m64 v375; // mm1@11
  __m64 v376; // mm2@11
  __m64 v377; // mm3@11
  __m64 v378; // mm0@11
  __m64 v379; // mm1@11
  __m64 v380; // mm2@11
  __m64 v381; // mm3@11
  __m64 v382; // mm1@13
  __m64 v383; // [sp+0h] [bp-C0h]@3
  __m64 v384; // [sp+10h] [bp-B0h]@3
  __m64 v385; // [sp+28h] [bp-98h]@3
  __m64 v386; // [sp+40h] [bp-80h]@3
  __m64 v387; // [sp+40h] [bp-80h]@9
  __m64 v388; // [sp+48h] [bp-78h]@3
  __m64 v389; // [sp+48h] [bp-78h]@9
  __m64 v390; // [sp+50h] [bp-70h]@3
  __m64 v391; // [sp+50h] [bp-70h]@9
  __m64 v392; // [sp+58h] [bp-68h]@3
  __m64 v393; // [sp+58h] [bp-68h]@9
  __m64 v394; // [sp+60h] [bp-60h]@3
  __m64 v395; // [sp+60h] [bp-60h]@9
  __m64 v396; // [sp+68h] [bp-58h]@3
  __m64 v397; // [sp+68h] [bp-58h]@9
  __m64 v398; // [sp+78h] [bp-48h]@3
  __m64 v399; // [sp+78h] [bp-48h]@9

  result = a1;
  if ( a4 )
  {
    if ( a3 )
    {
      v383 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      v384 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      v385 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v8 = (__m64)a3->m64_u64;
      v9 = v8;
      v10 = _m_pfadd(v8, v8);
      v11 = a3[1];
      v12 = _m_pfadd(v11, v11);
      v13 = v10;
      v14 = _m_pfmul(v10, (__m64)a3->m64_u64);
      v15 = _m_punpckldq(v13, v12);
      v16 = _m_pfmul((__m64)a3->m64_u64, v12);
      v17 = _m_pfmul(_m_pswapd((__m64)a3->m64_u64), v12);
      v18 = _m_pfmul(v12, v11);
      v19 = _m_pfmul(_m_punpckhdq(v9, v11), v15);
      v20 = v14;
      v21 = _m_pfpnacc(v17, v17);
      v22 = _m_pfpnacc(v19, v19);
      v23 = _m_pfpnacc(v16, v16);
      v24 = _m_pfsub(_m_pfsubr(v14, (__m64)qword_4906D8), _m_punpckldq(v18, v18));
      v394 = _m_punpckldq(_m_pswapd(v23), v21);
      v388 = _m_punpckldq(v23, 0i64);
      v396 = _m_punpckhdq(_m_pfsubr(_m_pfacc(v20, v20), (__m64)qword_4906D8), 0i64);
      v386 = _m_punpckhdq(v24, v22);
      v390 = _m_punpckldq(v22, v24);
      v392 = _m_punpckhdq(v21, 0i64);
      v398 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
      if ( a2 )
      {
        v25 = _m_punpckldq(v386, v390);
        v26 = _m_punpckhdq(v386, v390);
        v27 = _m_punpckldq(v396, v398);
        v28 = _m_punpckhdq(v396, v398);
        v29 = _m_punpckldq(v388, v392);
        v30 = _m_punpckhdq(v388, v392);
        v31 = _m_punpckhdq(v394, 0i64);
        v32 = _m_punpckldq(v394, 0i64);
        result = a1;
        v33 = (__m64)a2->m64_u64;
        v34 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
        v35 = _mm_cvtsi32_si64(qword_4906C8);
        v36 = _m_pswapd(v35);
        *(__m64 *)a1 = v35;
        *(_QWORD *)(a1 + 8) = 0i64;
        *(__m64 *)(a1 + 16) = v36;
        *(_QWORD *)(a1 + 24) = 0i64;
        *(_QWORD *)(a1 + 32) = 0i64;
        *(__m64 *)(a1 + 40) = v35;
        v37 = _m_pfsub(v36, v34);
        *(__m64 *)(a1 + 56) = v37;
        *(__m64 *)(a1 + 48) = _m_pfsub(0i64, v33);
        v38 = *(__m64 *)(a1 + 8);
        v39 = _m_punpckhdq(v37, *(__m64 *)a1);
        v40 = _m_punpckhdq(v33, v38);
        v41 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v42 = _m_punpckldq(v38, v38);
        v43 = _m_punpckhdq(v39, v39);
        v44 = _m_pfmul(v26, v43);
        v45 = _m_punpckhdq(v40, v40);
        v46 = _m_pfadd(_m_pfadd(_m_pfmul(v43, v31), _m_pfmul(v41, v32)), _m_pfmul(v42, v27));
        v47 = _m_pfadd(_m_pfmul(v30, v45), _m_pfadd(_m_pfmul(v29, v42), _m_pfadd(v44, _m_pfmul(v25, v41))));
        v48 = *(__m64 *)(a1 + 16);
        v49 = _m_pfadd(_m_pfmul(v45, v28), v46);
        v50 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v47;
        *(__m64 *)(a1 + 8) = v49;
        v51 = _m_punpckhdq(v46, v48);
        v52 = _m_punpckhdq(v49, v50);
        v53 = _m_punpckldq(v48, v48);
        v54 = _m_punpckldq(v50, v50);
        v55 = _m_punpckhdq(v51, v51);
        v56 = _m_pfmul(v26, v55);
        v57 = _m_punpckhdq(v52, v52);
        v58 = _m_pfadd(_m_pfadd(_m_pfmul(v55, v31), _m_pfmul(v53, v32)), _m_pfmul(v54, v27));
        v59 = _m_pfadd(_m_pfmul(v30, v57), _m_pfadd(_m_pfmul(v29, v54), _m_pfadd(v56, _m_pfmul(v25, v53))));
        v60 = *(__m64 *)(a1 + 32);
        v61 = _m_pfadd(_m_pfmul(v57, v28), v58);
        v62 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v59;
        *(__m64 *)(a1 + 24) = v61;
        v63 = _m_punpckhdq(v58, v60);
        v64 = _m_punpckhdq(v61, v62);
        v65 = _m_punpckldq(v60, v60);
        v66 = _m_punpckldq(v62, v62);
        v67 = _m_punpckhdq(v63, v63);
        v68 = _m_pfmul(v26, v67);
        v69 = _m_punpckhdq(v64, v64);
        v70 = _m_pfadd(_m_pfadd(_m_pfmul(v67, v31), _m_pfmul(v65, v32)), _m_pfmul(v66, v27));
        v71 = _m_pfadd(_m_pfmul(v30, v69), _m_pfadd(_m_pfmul(v29, v66), _m_pfadd(v68, _m_pfmul(v25, v65))));
        v72 = *(__m64 *)(a1 + 48);
        v73 = _m_pfadd(_m_pfmul(v69, v28), v70);
        v74 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v71;
        *(__m64 *)(a1 + 40) = v73;
        v75 = _m_punpckhdq(v70, v72);
        v76 = _m_punpckhdq(v73, v74);
        v77 = _m_punpckldq(v72, v72);
        v78 = _m_punpckldq(v74, v74);
        v79 = _m_punpckhdq(v75, v75);
        v80 = _m_pfmul(v26, v79);
        v81 = _m_punpckhdq(v76, v76);
        v82 = _m_pfmul(v30, v81);
        v83 = _m_pfadd(_m_pfadd(_m_pfmul(v79, v31), _m_pfmul(v77, v32)), _m_pfmul(v78, v27));
        v84 = _m_pfadd(_m_pfmul(v81, v28), v83);
        *(__m64 *)(a1 + 48) = _m_pfadd(v82, _m_pfadd(_m_pfmul(v29, v78), _m_pfadd(v80, _m_pfmul(v25, v77))));
        *(__m64 *)(a1 + 56) = v84;
        v85 = *(__m64 *)(a1 + 8);
        v86 = _m_punpckhdq(v83, *(__m64 *)a1);
        v87 = _m_punpckhdq(v84, v85);
        v88 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v89 = _m_punpckldq(v85, v85);
        v90 = _m_punpckhdq(v86, v86);
        v91 = _m_pfmul(v384, v90);
        v92 = _m_punpckhdq(v87, v87);
        v93 = _m_pfadd(_m_pfadd(_m_pfmul(v90, 0i64), _m_pfmul(v88, 0i64)), _m_pfmul(v89, v385));
        v94 = _m_pfadd(_m_pfmul(0i64, v92), _m_pfadd(_m_pfmul(0i64, v89), _m_pfadd(v91, _m_pfmul(v383, v88))));
        v95 = *(__m64 *)(a1 + 16);
        v96 = _m_pfadd(_m_pfmul(v92, (__m64)qword_4906B8), v93);
        v97 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v94;
        *(__m64 *)(a1 + 8) = v96;
        v98 = _m_punpckhdq(v93, v95);
        v99 = _m_punpckhdq(v96, v97);
        v100 = _m_punpckldq(v95, v95);
        v101 = _m_punpckldq(v97, v97);
        v102 = _m_punpckhdq(v98, v98);
        v103 = _m_pfmul(v384, v102);
        v104 = _m_punpckhdq(v99, v99);
        v105 = _m_pfadd(_m_pfadd(_m_pfmul(v102, 0i64), _m_pfmul(v100, 0i64)), _m_pfmul(v101, v385));
        v106 = _m_pfadd(_m_pfmul(0i64, v104), _m_pfadd(_m_pfmul(0i64, v101), _m_pfadd(v103, _m_pfmul(v383, v100))));
        v107 = *(__m64 *)(a1 + 32);
        v108 = _m_pfadd(_m_pfmul(v104, (__m64)qword_4906B8), v105);
        v109 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v106;
        *(__m64 *)(a1 + 24) = v108;
        v110 = _m_punpckhdq(v105, v107);
        v111 = _m_punpckhdq(v108, v109);
        v112 = _m_punpckldq(v107, v107);
        v113 = _m_punpckldq(v109, v109);
        v114 = _m_punpckhdq(v110, v110);
        v115 = _m_pfmul(v384, v114);
        v116 = _m_punpckhdq(v111, v111);
        v117 = _m_pfadd(_m_pfadd(_m_pfmul(v114, 0i64), _m_pfmul(v112, 0i64)), _m_pfmul(v113, v385));
        v118 = _m_pfadd(_m_pfmul(0i64, v116), _m_pfadd(_m_pfmul(0i64, v113), _m_pfadd(v115, _m_pfmul(v383, v112))));
        v119 = *(__m64 *)(a1 + 48);
        v120 = _m_pfadd(_m_pfmul(v116, (__m64)qword_4906B8), v117);
        v121 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v118;
        *(__m64 *)(a1 + 40) = v120;
        v122 = _m_punpckhdq(v117, v119);
        v123 = _m_punpckhdq(v120, v121);
        v124 = _m_punpckldq(v119, v119);
        v125 = _m_punpckldq(v121, v121);
        v126 = _m_punpckhdq(v122, v122);
        v127 = _m_pfmul(v384, v126);
        v128 = _m_punpckhdq(v123, v123);
        v129 = _m_pfmul(0i64, v128);
        v130 = _m_pfadd(_m_pfadd(_m_pfmul(v126, 0i64), _m_pfmul(v124, 0i64)), _m_pfmul(v125, v385));
        v131 = _m_pfadd(_m_pfmul(v128, (__m64)qword_4906B8), v130);
        *(__m64 *)(a1 + 48) = _m_pfadd(v129, _m_pfadd(_m_pfmul(0i64, v125), _m_pfadd(v127, _m_pfmul(v383, v124))));
        *(__m64 *)(a1 + 56) = v131;
        v132 = *(__m64 *)(a1 + 8);
        v133 = _m_punpckhdq(v130, *(__m64 *)a1);
        v134 = _m_punpckhdq(v131, v132);
        v135 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v136 = _m_punpckldq(v132, v132);
        v137 = _m_punpckhdq(v133, v133);
        v138 = _m_pfmul(v390, v137);
        v139 = _m_punpckhdq(v134, v134);
        v140 = _m_pfadd(_m_pfadd(_m_pfmul(v137, v392), _m_pfmul(v135, v388)), _m_pfmul(v136, v396));
        v141 = _m_pfadd(_m_pfmul(0i64, v139), _m_pfadd(_m_pfmul(v394, v136), _m_pfadd(v138, _m_pfmul(v386, v135))));
        v142 = *(__m64 *)(a1 + 16);
        v143 = _m_pfadd(_m_pfmul(v139, v398), v140);
        v144 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v141;
        *(__m64 *)(a1 + 8) = v143;
        v145 = _m_punpckhdq(v140, v142);
        v146 = _m_punpckhdq(v143, v144);
        v147 = _m_punpckldq(v142, v142);
        v148 = _m_punpckldq(v144, v144);
        v149 = _m_punpckhdq(v145, v145);
        v150 = _m_pfmul(v390, v149);
        v151 = _m_punpckhdq(v146, v146);
        v152 = _m_pfadd(_m_pfadd(_m_pfmul(v149, v392), _m_pfmul(v147, v388)), _m_pfmul(v148, v396));
        v153 = _m_pfadd(_m_pfmul(0i64, v151), _m_pfadd(_m_pfmul(v394, v148), _m_pfadd(v150, _m_pfmul(v386, v147))));
        v154 = *(__m64 *)(a1 + 32);
        v155 = _m_pfadd(_m_pfmul(v151, v398), v152);
        v156 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v153;
        *(__m64 *)(a1 + 24) = v155;
        v157 = _m_punpckhdq(v152, v154);
        v158 = _m_punpckhdq(v155, v156);
        v159 = _m_punpckldq(v154, v154);
        v160 = _m_punpckldq(v156, v156);
        v161 = _m_punpckhdq(v157, v157);
        v162 = _m_pfmul(v390, v161);
        v163 = _m_punpckhdq(v158, v158);
        v164 = _m_pfadd(_m_pfadd(_m_pfmul(v161, v392), _m_pfmul(v159, v388)), _m_pfmul(v160, v396));
        v165 = _m_pfadd(_m_pfmul(0i64, v163), _m_pfadd(_m_pfmul(v394, v160), _m_pfadd(v162, _m_pfmul(v386, v159))));
        v166 = *(__m64 *)(a1 + 48);
        v167 = _m_pfadd(_m_pfmul(v163, v398), v164);
        v168 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v165;
        *(__m64 *)(a1 + 40) = v167;
        v169 = _m_punpckhdq(v164, v166);
        v170 = _m_punpckhdq(v167, v168);
        v171 = _m_punpckldq(v166, v166);
        v172 = _m_punpckldq(v168, v168);
        v173 = _m_punpckhdq(v169, v169);
        v174 = _m_punpckhdq(v170, v170);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v174),
                                _m_pfadd(_m_pfmul(v394, v172), _m_pfadd(_m_pfmul(v390, v173), _m_pfmul(v386, v171))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v174, v398),
                                _m_pfadd(_m_pfadd(_m_pfmul(v173, v392), _m_pfmul(v171, v388)), _m_pfmul(v172, v396)));
        v175 = _m_pfadd(_mm_cvtsi32_si64(a2[1].m64_u32[0]), _mm_cvtsi32_si64(*(_DWORD *)(a1 + 56)));
        *(__m64 *)(a1 + 48) = _m_pfadd((__m64)a2->m64_u64, *(__m64 *)(a1 + 48));
        *(_DWORD *)(a1 + 56) = _mm_cvtsi64_si32(v175);
      }
      else
      {
        result = a1;
        *(__m64 *)a1 = _m_punpckldq(v386, v390);
        *(__m64 *)(a1 + 16) = _m_punpckhdq(v386, v390);
        v176 = _m_punpckldq(v396, v398);
        *(__m64 *)(a1 + 40) = v176;
        *(__m64 *)(a1 + 56) = _m_punpckhdq(v396, v398);
        *(__m64 *)(a1 + 32) = _m_punpckldq(v388, v392);
        v177 = _m_punpckldq(v394, 0i64);
        *(__m64 *)(a1 + 48) = _m_punpckhdq(v388, v392);
        *(__m64 *)(a1 + 24) = _m_punpckhdq(v394, 0i64);
        *(__m64 *)(a1 + 8) = v177;
        v178 = *(__m64 *)(a1 + 8);
        v179 = _m_punpckhdq(v177, *(__m64 *)a1);
        v180 = _m_punpckhdq(v176, v178);
        v181 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v182 = _m_punpckldq(v178, v178);
        v183 = _m_punpckhdq(v179, v179);
        v184 = _m_pfmul(v384, v183);
        v185 = _m_punpckhdq(v180, v180);
        v186 = _m_pfadd(_m_pfadd(_m_pfmul(v183, 0i64), _m_pfmul(v181, 0i64)), _m_pfmul(v182, v385));
        v187 = _m_pfadd(_m_pfmul(0i64, v185), _m_pfadd(_m_pfmul(0i64, v182), _m_pfadd(v184, _m_pfmul(v383, v181))));
        v188 = *(__m64 *)(a1 + 16);
        v189 = _m_pfadd(_m_pfmul(v185, (__m64)qword_4906B8), v186);
        v190 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v187;
        *(__m64 *)(a1 + 8) = v189;
        v191 = _m_punpckhdq(v186, v188);
        v192 = _m_punpckhdq(v189, v190);
        v193 = _m_punpckldq(v188, v188);
        v194 = _m_punpckldq(v190, v190);
        v195 = _m_punpckhdq(v191, v191);
        v196 = _m_pfmul(v384, v195);
        v197 = _m_punpckhdq(v192, v192);
        v198 = _m_pfadd(_m_pfadd(_m_pfmul(v195, 0i64), _m_pfmul(v193, 0i64)), _m_pfmul(v194, v385));
        v199 = _m_pfadd(_m_pfmul(0i64, v197), _m_pfadd(_m_pfmul(0i64, v194), _m_pfadd(v196, _m_pfmul(v383, v193))));
        v200 = *(__m64 *)(a1 + 32);
        v201 = _m_pfadd(_m_pfmul(v197, (__m64)qword_4906B8), v198);
        v202 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v199;
        *(__m64 *)(a1 + 24) = v201;
        v203 = _m_punpckhdq(v198, v200);
        v204 = _m_punpckhdq(v201, v202);
        v205 = _m_punpckldq(v200, v200);
        v206 = _m_punpckldq(v202, v202);
        v207 = _m_punpckhdq(v203, v203);
        v208 = _m_pfmul(v384, v207);
        v209 = _m_punpckhdq(v204, v204);
        v210 = _m_pfadd(_m_pfadd(_m_pfmul(v207, 0i64), _m_pfmul(v205, 0i64)), _m_pfmul(v206, v385));
        v211 = _m_pfadd(_m_pfmul(0i64, v209), _m_pfadd(_m_pfmul(0i64, v206), _m_pfadd(v208, _m_pfmul(v383, v205))));
        v212 = *(__m64 *)(a1 + 48);
        v213 = _m_pfadd(_m_pfmul(v209, (__m64)qword_4906B8), v210);
        v214 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v211;
        *(__m64 *)(a1 + 40) = v213;
        v215 = _m_punpckhdq(v210, v212);
        v216 = _m_punpckhdq(v213, v214);
        v217 = _m_punpckldq(v212, v212);
        v218 = _m_punpckldq(v214, v214);
        v219 = _m_punpckhdq(v215, v215);
        v220 = _m_pfmul(v384, v219);
        v221 = _m_punpckhdq(v216, v216);
        v222 = _m_pfmul(0i64, v221);
        v223 = _m_pfadd(_m_pfadd(_m_pfmul(v219, 0i64), _m_pfmul(v217, 0i64)), _m_pfmul(v218, v385));
        v224 = _m_pfadd(_m_pfmul(v221, (__m64)qword_4906B8), v223);
        *(__m64 *)(a1 + 48) = _m_pfadd(v222, _m_pfadd(_m_pfmul(0i64, v218), _m_pfadd(v220, _m_pfmul(v383, v217))));
        *(__m64 *)(a1 + 56) = v224;
        v225 = *(__m64 *)(a1 + 8);
        v226 = _m_punpckhdq(v223, *(__m64 *)a1);
        v227 = _m_punpckhdq(v224, v225);
        v228 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
        v229 = _m_punpckldq(v225, v225);
        v230 = _m_punpckhdq(v226, v226);
        v231 = _m_pfmul(v390, v230);
        v232 = _m_punpckhdq(v227, v227);
        v233 = _m_pfadd(_m_pfadd(_m_pfmul(v230, v392), _m_pfmul(v228, v388)), _m_pfmul(v229, v396));
        v234 = _m_pfadd(_m_pfmul(0i64, v232), _m_pfadd(_m_pfmul(v394, v229), _m_pfadd(v231, _m_pfmul(v386, v228))));
        v235 = *(__m64 *)(a1 + 16);
        v236 = _m_pfadd(_m_pfmul(v232, v398), v233);
        v237 = *(__m64 *)(a1 + 24);
        *(__m64 *)a1 = v234;
        *(__m64 *)(a1 + 8) = v236;
        v238 = _m_punpckhdq(v233, v235);
        v239 = _m_punpckhdq(v236, v237);
        v240 = _m_punpckldq(v235, v235);
        v241 = _m_punpckldq(v237, v237);
        v242 = _m_punpckhdq(v238, v238);
        v243 = _m_pfmul(v390, v242);
        v244 = _m_punpckhdq(v239, v239);
        v245 = _m_pfadd(_m_pfadd(_m_pfmul(v242, v392), _m_pfmul(v240, v388)), _m_pfmul(v241, v396));
        v246 = _m_pfadd(_m_pfmul(0i64, v244), _m_pfadd(_m_pfmul(v394, v241), _m_pfadd(v243, _m_pfmul(v386, v240))));
        v247 = *(__m64 *)(a1 + 32);
        v248 = _m_pfadd(_m_pfmul(v244, v398), v245);
        v249 = *(__m64 *)(a1 + 40);
        *(__m64 *)(a1 + 16) = v246;
        *(__m64 *)(a1 + 24) = v248;
        v250 = _m_punpckhdq(v245, v247);
        v251 = _m_punpckhdq(v248, v249);
        v252 = _m_punpckldq(v247, v247);
        v253 = _m_punpckldq(v249, v249);
        v254 = _m_punpckhdq(v250, v250);
        v255 = _m_pfmul(v390, v254);
        v256 = _m_punpckhdq(v251, v251);
        v257 = _m_pfadd(_m_pfadd(_m_pfmul(v254, v392), _m_pfmul(v252, v388)), _m_pfmul(v253, v396));
        v258 = _m_pfadd(_m_pfmul(0i64, v256), _m_pfadd(_m_pfmul(v394, v253), _m_pfadd(v255, _m_pfmul(v386, v252))));
        v259 = *(__m64 *)(a1 + 48);
        v260 = _m_pfadd(_m_pfmul(v256, v398), v257);
        v261 = *(__m64 *)(a1 + 56);
        *(__m64 *)(a1 + 32) = v258;
        *(__m64 *)(a1 + 40) = v260;
        v262 = _m_punpckhdq(v257, v259);
        v263 = _m_punpckhdq(v260, v261);
        v264 = _m_punpckldq(v259, v259);
        v265 = _m_punpckldq(v261, v261);
        v266 = _m_punpckhdq(v262, v262);
        v267 = _m_punpckhdq(v263, v263);
        *(__m64 *)(a1 + 48) = _m_pfadd(
                                _m_pfmul(0i64, v267),
                                _m_pfadd(_m_pfmul(v394, v265), _m_pfadd(_m_pfmul(v390, v266), _m_pfmul(v386, v264))));
        *(__m64 *)(a1 + 56) = _m_pfadd(
                                _m_pfmul(v267, v398),
                                _m_pfadd(_m_pfadd(_m_pfmul(v266, v392), _m_pfmul(v264, v388)), _m_pfmul(v265, v396)));
      }
    }
    else
    {
      v268 = _mm_cvtsi32_si64(a4[1].m64_u32[0]);
      v269 = _m_punpckhdq(0i64, (__m64)a4->m64_u64);
      *(__m64 *)a1 = _m_punpckldq((__m64)a4->m64_u64, 0i64);
      *(_QWORD *)(a1 + 8) = 0i64;
      *(__m64 *)(a1 + 16) = v269;
      *(_QWORD *)(a1 + 24) = 0i64;
      *(_QWORD *)(a1 + 32) = 0i64;
      *(__m64 *)(a1 + 40) = v268;
      *(_QWORD *)(a1 + 48) = 0i64;
      *(_QWORD *)(a1 + 56) = qword_4906B8;
    }
  }
  else
  {
    v270 = _mm_cvtsi32_si64(qword_4906C8);
    v271 = _m_pswapd(v270);
    *(__m64 *)a1 = v270;
    *(_QWORD *)(a1 + 8) = 0i64;
    *(__m64 *)(a1 + 16) = v271;
    *(_QWORD *)(a1 + 24) = 0i64;
    *(_QWORD *)(a1 + 32) = 0i64;
    *(__m64 *)(a1 + 40) = v270;
    *(_QWORD *)(a1 + 48) = 0i64;
    *(__m64 *)(a1 + 56) = v271;
  }
  if ( a6 )
  {
    v272 = (__m64)a6->m64_u64;
    v273 = v272;
    v274 = _m_pfadd(v272, v272);
    v275 = a6[1];
    v276 = _m_pfadd(v275, v275);
    v277 = v274;
    v278 = _m_pfmul(v274, (__m64)a6->m64_u64);
    v279 = _m_punpckldq(v277, v276);
    v280 = _m_pfmul((__m64)a6->m64_u64, v276);
    v281 = _m_pfmul(_m_pswapd((__m64)a6->m64_u64), v276);
    v282 = _m_pfmul(v276, v275);
    v283 = _m_pfmul(_m_punpckhdq(v273, v275), v279);
    v284 = v278;
    v285 = _m_pfpnacc(v281, v281);
    v286 = _m_pfpnacc(v283, v283);
    v287 = _m_pfpnacc(v280, v280);
    v288 = _m_pfsub(_m_pfsubr(v278, (__m64)qword_4906D8), _m_punpckldq(v282, v282));
    v289 = _m_punpckldq(_m_pswapd(v287), v285);
    v290 = _m_punpckldq(v287, 0i64);
    v395 = v289;
    v291 = _m_punpckhdq(v285, 0i64);
    v389 = v290;
    v397 = _m_punpckhdq(_m_pfsubr(_m_pfacc(v284, v284), (__m64)qword_4906D8), 0i64);
    v387 = _m_punpckhdq(v288, v286);
    v391 = _m_punpckldq(v286, v288);
    v393 = v291;
    v399 = _m_punpckldq(0i64, (__m64)(unsigned int)qword_4906D8);
    if ( a5 )
    {
      v292 = (__m64)a5->m64_u64;
      v293 = _mm_cvtsi32_si64(a5[1].m64_u32[0]);
      v294 = _m_pfsub(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), v293);
      *(__m64 *)(result + 48) = _m_pfsub(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v294);
      v295 = *(__m64 *)(result + 8);
      v296 = _m_punpckhdq(v292, *(__m64 *)result);
      v297 = _m_punpckhdq(v293, v295);
      v298 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v299 = _m_punpckldq(v295, v295);
      v300 = _m_punpckhdq(v296, v296);
      v301 = _m_pfmul(v391, v300);
      v302 = _m_punpckhdq(v297, v297);
      v303 = _m_pfadd(_m_pfadd(_m_pfmul(v300, v393), _m_pfmul(v298, v389)), _m_pfmul(v299, v397));
      v304 = _m_pfadd(_m_pfmul(0i64, v302), _m_pfadd(_m_pfmul(v395, v299), _m_pfadd(v301, _m_pfmul(v387, v298))));
      v305 = *(__m64 *)(result + 16);
      v306 = _m_pfadd(_m_pfmul(v302, v399), v303);
      v307 = *(__m64 *)(result + 24);
      *(__m64 *)result = v304;
      *(__m64 *)(result + 8) = v306;
      v308 = _m_punpckhdq(v303, v305);
      v309 = _m_punpckhdq(v306, v307);
      v310 = _m_punpckldq(v305, v305);
      v311 = _m_punpckldq(v307, v307);
      v312 = _m_punpckhdq(v308, v308);
      v313 = _m_pfmul(v391, v312);
      v314 = _m_punpckhdq(v309, v309);
      v315 = _m_pfadd(_m_pfadd(_m_pfmul(v312, v393), _m_pfmul(v310, v389)), _m_pfmul(v311, v397));
      v316 = _m_pfadd(_m_pfmul(0i64, v314), _m_pfadd(_m_pfmul(v395, v311), _m_pfadd(v313, _m_pfmul(v387, v310))));
      v317 = *(__m64 *)(result + 32);
      v318 = _m_pfadd(_m_pfmul(v314, v399), v315);
      v319 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v316;
      *(__m64 *)(result + 24) = v318;
      v320 = _m_punpckhdq(v315, v317);
      v321 = _m_punpckhdq(v318, v319);
      v322 = _m_punpckldq(v317, v317);
      v323 = _m_punpckldq(v319, v319);
      v324 = _m_punpckhdq(v320, v320);
      v325 = _m_pfmul(v391, v324);
      v326 = _m_punpckhdq(v321, v321);
      v327 = _m_pfadd(_m_pfadd(_m_pfmul(v324, v393), _m_pfmul(v322, v389)), _m_pfmul(v323, v397));
      v328 = _m_pfadd(_m_pfmul(0i64, v326), _m_pfadd(_m_pfmul(v395, v323), _m_pfadd(v325, _m_pfmul(v387, v322))));
      v329 = *(__m64 *)(result + 48);
      v330 = _m_pfadd(_m_pfmul(v326, v399), v327);
      v331 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v328;
      *(__m64 *)(result + 40) = v330;
      v332 = _m_punpckhdq(v327, v329);
      v333 = _m_punpckhdq(v330, v331);
      v334 = _m_punpckldq(v329, v329);
      v335 = _m_punpckldq(v331, v331);
      v336 = _m_punpckhdq(v332, v332);
      v337 = _m_punpckhdq(v333, v333);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v337),
                                  _m_pfadd(_m_pfmul(v395, v335), _m_pfadd(_m_pfmul(v391, v336), _m_pfmul(v387, v334))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v337, v399),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v336, v393), _m_pfmul(v334, v389)), _m_pfmul(v335, v397)));
      v338 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a5[1].m64_u32[0]));
      *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a5->m64_u64);
      *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v338);
    }
    else
    {
      v339 = *(__m64 *)(result + 8);
      v340 = _m_punpckhdq(v290, *(__m64 *)result);
      v341 = _m_punpckhdq(v291, v339);
      v342 = _m_punpckldq(*(__m64 *)result, *(__m64 *)result);
      v343 = _m_punpckldq(v339, v339);
      v344 = _m_punpckhdq(v340, v340);
      v345 = _m_pfmul(v391, v344);
      v346 = _m_punpckhdq(v341, v341);
      v347 = _m_pfadd(_m_pfadd(_m_pfmul(v344, v393), _m_pfmul(v342, v389)), _m_pfmul(v343, v397));
      v348 = _m_pfadd(_m_pfmul(0i64, v346), _m_pfadd(_m_pfmul(v395, v343), _m_pfadd(v345, _m_pfmul(v387, v342))));
      v349 = *(__m64 *)(result + 16);
      v350 = _m_pfadd(_m_pfmul(v346, v399), v347);
      v351 = *(__m64 *)(result + 24);
      *(__m64 *)result = v348;
      *(__m64 *)(result + 8) = v350;
      v352 = _m_punpckhdq(v347, v349);
      v353 = _m_punpckhdq(v350, v351);
      v354 = _m_punpckldq(v349, v349);
      v355 = _m_punpckldq(v351, v351);
      v356 = _m_punpckhdq(v352, v352);
      v357 = _m_pfmul(v391, v356);
      v358 = _m_punpckhdq(v353, v353);
      v359 = _m_pfadd(_m_pfadd(_m_pfmul(v356, v393), _m_pfmul(v354, v389)), _m_pfmul(v355, v397));
      v360 = _m_pfadd(_m_pfmul(0i64, v358), _m_pfadd(_m_pfmul(v395, v355), _m_pfadd(v357, _m_pfmul(v387, v354))));
      v361 = *(__m64 *)(result + 32);
      v362 = _m_pfadd(_m_pfmul(v358, v399), v359);
      v363 = *(__m64 *)(result + 40);
      *(__m64 *)(result + 16) = v360;
      *(__m64 *)(result + 24) = v362;
      v364 = _m_punpckhdq(v359, v361);
      v365 = _m_punpckhdq(v362, v363);
      v366 = _m_punpckldq(v361, v361);
      v367 = _m_punpckldq(v363, v363);
      v368 = _m_punpckhdq(v364, v364);
      v369 = _m_pfmul(v391, v368);
      v370 = _m_punpckhdq(v365, v365);
      v371 = _m_pfadd(_m_pfadd(_m_pfmul(v368, v393), _m_pfmul(v366, v389)), _m_pfmul(v367, v397));
      v372 = _m_pfadd(_m_pfmul(0i64, v370), _m_pfadd(_m_pfmul(v395, v367), _m_pfadd(v369, _m_pfmul(v387, v366))));
      v373 = *(__m64 *)(result + 48);
      v374 = _m_pfadd(_m_pfmul(v370, v399), v371);
      v375 = *(__m64 *)(result + 56);
      *(__m64 *)(result + 32) = v372;
      *(__m64 *)(result + 40) = v374;
      v376 = _m_punpckhdq(v371, v373);
      v377 = _m_punpckhdq(v374, v375);
      v378 = _m_punpckldq(v373, v373);
      v379 = _m_punpckldq(v375, v375);
      v380 = _m_punpckhdq(v376, v376);
      v381 = _m_punpckhdq(v377, v377);
      *(__m64 *)(result + 48) = _m_pfadd(
                                  _m_pfmul(0i64, v381),
                                  _m_pfadd(_m_pfmul(v395, v379), _m_pfadd(_m_pfmul(v391, v380), _m_pfmul(v387, v378))));
      *(__m64 *)(result + 56) = _m_pfadd(
                                  _m_pfmul(v381, v399),
                                  _m_pfadd(_m_pfadd(_m_pfmul(v380, v393), _m_pfmul(v378, v389)), _m_pfmul(v379, v397)));
    }
  }
  if ( a7 )
  {
    v382 = _m_pfadd(_mm_cvtsi32_si64(*(_DWORD *)(result + 56)), _mm_cvtsi32_si64(a7[1].m64_u32[0]));
    *(__m64 *)(result + 48) = _m_pfadd(*(__m64 *)(result + 48), (__m64)a7->m64_u64);
    *(_DWORD *)(result + 56) = _mm_cvtsi64_si32(v382);
  }
  _m_femms();
  return result;
}
// 4906B8: using guessed type __int64 qword_4906B8;
// 4906C8: using guessed type __int64 qword_4906C8;
// 4906D8: using guessed type __int64 qword_4906D8;

//----- (0044A0DD) --------------------------------------------------------
int __stdcall sub_44A0DD(int a1, _DWORD *a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm5@1
  __m64 v7; // mm6@1
  __m64 v8; // mm1@1
  __m64 v9; // mm0@1
  __m64 v10; // mm7@1
  __m64 v11; // mm2@1
  __m64 v12; // mm0@1
  __m64 v13; // mm1@1
  __m64 v14; // mm2@1
  __m64 v15; // mm3@1
  __m64 v16; // mm5@1
  __m64 v17; // mm4@1
  __m64 v18; // mm6@1
  __m64 v19; // mm0@1
  __m64 v20; // mm5@1
  __m64 v21; // mm6@1
  __m64 v22; // mm1@1
  __m64 v23; // mm0@1
  __m64 v24; // mm7@1
  __m64 v25; // mm2@1
  __m64 v26; // mm0@1
  __m64 v27; // mm0@1
  __m64 v28; // mm0@1
  __m64 v29; // mm1@3
  int result; // eax@3
  __m64 v31; // mm0@3
  __m64 v32; // mm1@3
  __m64 v33; // mm2@4
  __m64 v34; // mm3@4
  __m64 v35; // mm5@4
  __m64 v36; // mm6@4
  __m64 v37; // mm2@4
  __m64 v38; // mm3@4
  __m64 v39; // mm5@4
  __m64 v40; // mm6@4
  __m64 v41; // [sp+0h] [bp-40h]@1
  __m64 v42; // [sp+8h] [bp-38h]@1
  __m64 v43; // [sp+10h] [bp-30h]@1
  __m64 v44; // [sp+18h] [bp-28h]@1
  __m64 v45; // [sp+20h] [bp-20h]@1
  __m64 v46; // [sp+28h] [bp-18h]@1
  __m64 v47; // [sp+30h] [bp-10h]@1
  __m64 v48; // [sp+38h] [bp-8h]@1

  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 32);
  v5 = _m_pswapd(*(__m64 *)(a3 + 48));
  v6 = _m_pfnacc(_m_pfmul(_m_pswapd(v3), *(__m64 *)a3), _m_pfmul(_m_pswapd(v4), *(__m64 *)a3));
  v7 = _m_pfnacc(_m_pfmul(v5, *(__m64 *)a3), _m_pfmul(_m_pswapd(v4), v3));
  v8 = _m_pfnacc(_m_pfmul(v3, v5), _m_pfmul(v4, v5));
  v9 = *(__m64 *)(a3 + 56);
  v10 = *(__m64 *)(a3 + 40);
  v42 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v7, v7), v9), _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckldq(v8, v8), v10));
  v44 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v6, v6), v9), _m_pfmul(_m_punpckldq(v7, v7), v10)),
          _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 8)));
  v11 = _m_punpckldq(v6, v6);
  v46 = _m_pfsub(
          _m_pfadd(_m_pfmul(v9, v11), _m_pfmul(_m_punpckldq(v8, v8), *(__m64 *)(a3 + 8))),
          _m_pfmul(_m_punpckldq(v7, v7), *(__m64 *)(a3 + 24)));
  v12 = *(__m64 *)(a3 + 8);
  v48 = _m_pfadd(
          _m_pfsub(_m_pfmul(v11, v10), _m_pfmul(_m_punpckhdq(v6, v6), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckhdq(v7, v7), *(__m64 *)(a3 + 8)));
  v13 = *(__m64 *)(a3 + 24);
  v14 = *(__m64 *)(a3 + 40);
  v15 = *(__m64 *)(a3 + 56);
  v16 = _m_pfmul(_m_pswapd(v13), v12);
  v17 = _m_pfmul(_m_pswapd(v14), v12);
  v18 = _m_pfmul(_m_pswapd(v15), v12);
  v19 = _m_pswapd(v15);
  v20 = _m_pfnacc(v16, v17);
  v21 = _m_pfnacc(v18, _m_pfmul(_m_pswapd(v14), v13));
  v22 = _m_pfnacc(_m_pfmul(v13, v19), _m_pfmul(v14, v19));
  v23 = *(__m64 *)(a3 + 48);
  v24 = *(__m64 *)(a3 + 32);
  v41 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v21, v21), v23), _m_pfmul(_m_punpckhdq(v22, v22), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckldq(v22, v22), v24));
  v43 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v20, v20), v23), _m_pfmul(_m_punpckldq(v21, v21), v24)),
          _m_pfmul(_m_punpckhdq(v22, v22), *(__m64 *)a3));
  v25 = _m_punpckldq(v20, v20);
  v26 = _m_pfsub(
          _m_pfadd(_m_pfmul(v23, v25), _m_pfmul(_m_punpckldq(v22, v22), *(__m64 *)a3)),
          _m_pfmul(_m_punpckldq(v21, v21), *(__m64 *)(a3 + 16)));
  v45 = v26;
  v47 = _m_pfadd(
          _m_pfsub(_m_pfmul(v25, v24), _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckhdq(v21, v21), *(__m64 *)a3));
  v27 = _m_pfnacc(
          _m_pfmul(_m_punpckhdq(v26, v47), _m_punpckldq(v24, *(__m64 *)(a3 + 48))),
          _m_pfmul(_m_punpckldq(*(__m64 *)a3, (__m64)*(_DWORD *)(a3 + 16)), _m_punpckhdq(v41, v43)));
  v28 = _m_pfacc(v27, v27);
  if ( a2 )
    *a2 = _mm_cvtsi64_si32(v28);
  v29 = _m_pfrcp(v28);
  result = _mm_cvtsi64_si32(_m_pfcmpeq(0i64, v28));
  v31 = _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(_m_punpckldq(v28, v28), v29), v29), (__m64)qword_4906C8);
  v32 = _m_pswapd(v31);
  if ( !result )
  {
    result = a1;
    v33 = _m_pfmul(v41, v32);
    v34 = _m_pfmul(v43, v31);
    v35 = _m_pfmul(v42, v32);
    v36 = _m_pfmul(v44, v31);
    *(__m64 *)a1 = _m_punpckhdq(v33, v34);
    *(__m64 *)(a1 + 16) = _m_punpckldq(v33, v34);
    *(__m64 *)(a1 + 32) = _m_punpckhdq(v35, v36);
    *(__m64 *)(a1 + 48) = _m_punpckldq(v35, v36);
    v37 = _m_pfmul(v45, v32);
    v38 = _m_pfmul(v47, v31);
    v39 = _m_pfmul(v46, v32);
    v40 = _m_pfmul(v48, v31);
    *(__m64 *)(a1 + 8) = _m_punpckhdq(v37, v38);
    *(__m64 *)(a1 + 24) = _m_punpckldq(v37, v38);
    *(__m64 *)(a1 + 40) = _m_punpckhdq(v39, v40);
    *(__m64 *)(a1 + 56) = _m_punpckldq(v39, v40);
  }
  _m_femms();
  return result;
}
// 4906C8: using guessed type __int64 qword_4906C8;

//----- (0044A3BF) --------------------------------------------------------
int __stdcall sub_44A3BF(int a1, int a2, __m64 *a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm3@1
  __m64 v5; // mm4@1
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 v8; // mm0@1
  __m64 v9; // mm4@1
  int result; // eax@2
  __m64 v11; // mm4@2
  __m64 v12; // mm4@2
  __m64 v13; // mm4@2
  __m64 v14; // mm4@2
  __m64 v15; // mm4@3
  __m64 v16; // ST00_8@3
  unsigned __int64 v17; // ST08_8@3
  __m64 v18; // mm4@3
  __m64 v19; // ST10_8@3
  unsigned __int64 v20; // ST18_8@3
  __m64 v21; // mm4@3
  __m64 v22; // ST20_8@3
  unsigned __int64 v23; // ST28_8@3
  __m64 v24; // mm4@3
  __m64 v25; // [sp+0h] [bp-44h]@1
  __m64 v26; // [sp+8h] [bp-3Ch]@1
  __m64 v27; // [sp+10h] [bp-34h]@1
  __m64 v28; // [sp+18h] [bp-2Ch]@1
  __m64 v29; // [sp+20h] [bp-24h]@1
  __m64 v30; // [sp+28h] [bp-1Ch]@1
  __m64 v31; // [sp+30h] [bp-14h]@1
  __m64 v32; // [sp+38h] [bp-Ch]@1

  _m_femms();
  v3 = a3[2];
  v4 = a3[5];
  v5 = a3[7];
  v25 = _m_punpckldq((__m64)a3->m64_u64, v3);
  v27 = _m_punpckhdq((__m64)a3->m64_u64, v3);
  v6 = a3[1];
  v7 = a3[3];
  v8 = a3[4];
  v30 = _m_punpckldq(v4, v5);
  v32 = _m_punpckhdq(v4, v5);
  v9 = a3[6];
  v29 = _m_punpckldq(v6, v7);
  v31 = _m_punpckhdq(v6, v7);
  v28 = _m_punpckhdq(v8, v9);
  v26 = _m_punpckldq(v8, v9);
  if ( a2 == a1 )
  {
    result = a1;
    v15 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)(a2 + 32)), _m_pfmul(v25, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 40)), _m_pfmul(v26, *(__m64 *)(a2 + 56))));
    v16 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)a2), _m_pfmul(v25, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 8)), _m_pfmul(v26, *(__m64 *)(a2 + 24))));
    v17 = v15.m64_u64;
    v18 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)(a2 + 32)), _m_pfmul(v27, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 40)), _m_pfmul(v28, *(__m64 *)(a2 + 56))));
    v19 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)a2), _m_pfmul(v27, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 8)), _m_pfmul(v28, *(__m64 *)(a2 + 24))));
    v20 = v18.m64_u64;
    v21 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)(a2 + 32)), _m_pfmul(v29, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 40)), _m_pfmul(v30, *(__m64 *)(a2 + 56))));
    v22 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)a2), _m_pfmul(v29, *(__m64 *)(a2 + 16))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 8)), _m_pfmul(v30, *(__m64 *)(a2 + 24))));
    v23 = v21.m64_u64;
    v24 = _m_pfadd(
            _m_pfacc(_m_pfmul(v31, *(__m64 *)(a2 + 32)), _m_pfmul(v31, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 40)), _m_pfmul(v32, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 48) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v31, *(__m64 *)a2), _m_pfmul(v31, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 8)), _m_pfmul(v32, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 56) = v24;
    *(__m64 *)a1 = v16;
    *(_QWORD *)(a1 + 8) = v17;
    *(__m64 *)(a1 + 16) = v19;
    *(_QWORD *)(a1 + 24) = v20;
    *(__m64 *)(a1 + 32) = v22;
    *(_QWORD *)(a1 + 40) = v23;
    _m_femms();
  }
  else
  {
    result = a1;
    v11 = _m_pfadd(
            _m_pfacc(_m_pfmul(v25, *(__m64 *)(a2 + 32)), _m_pfmul(v25, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 40)), _m_pfmul(v26, *(__m64 *)(a2 + 56))));
    *(__m64 *)a1 = _m_pfadd(
                     _m_pfacc(_m_pfmul(v25, *(__m64 *)a2), _m_pfmul(v25, *(__m64 *)(a2 + 16))),
                     _m_pfacc(_m_pfmul(v26, *(__m64 *)(a2 + 8)), _m_pfmul(v26, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 8) = v11;
    v12 = _m_pfadd(
            _m_pfacc(_m_pfmul(v27, *(__m64 *)(a2 + 32)), _m_pfmul(v27, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 40)), _m_pfmul(v28, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 16) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v27, *(__m64 *)a2), _m_pfmul(v27, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v28, *(__m64 *)(a2 + 8)), _m_pfmul(v28, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 24) = v12;
    v13 = _m_pfadd(
            _m_pfacc(_m_pfmul(v29, *(__m64 *)(a2 + 32)), _m_pfmul(v29, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 40)), _m_pfmul(v30, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 32) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v29, *(__m64 *)a2), _m_pfmul(v29, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v30, *(__m64 *)(a2 + 8)), _m_pfmul(v30, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 40) = v13;
    v14 = _m_pfadd(
            _m_pfacc(_m_pfmul(v31, *(__m64 *)(a2 + 32)), _m_pfmul(v31, *(__m64 *)(a2 + 48))),
            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 40)), _m_pfmul(v32, *(__m64 *)(a2 + 56))));
    *(__m64 *)(a1 + 48) = _m_pfadd(
                            _m_pfacc(_m_pfmul(v31, *(__m64 *)a2), _m_pfmul(v31, *(__m64 *)(a2 + 16))),
                            _m_pfacc(_m_pfmul(v32, *(__m64 *)(a2 + 8)), _m_pfmul(v32, *(__m64 *)(a2 + 24))));
    *(__m64 *)(a1 + 56) = v14;
    _m_femms();
  }
  return result;
}

//----- (0044A7B7) --------------------------------------------------------
int __stdcall sub_44A7B7(int a1, _DWORD *a2, int a3)
{
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm5@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1
  __m64 v8; // mm6@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm7@1
  __m64 v12; // mm2@1
  __m64 v13; // mm0@1
  __m64 v14; // mm1@1
  __m64 v15; // mm2@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm4@1
  __m64 v19; // mm6@1
  __m64 v20; // mm1@1
  __m64 v21; // mm0@1
  __m64 v22; // mm7@1
  __m64 v23; // mm2@1
  __m64 v24; // mm0@1
  __m64 v25; // mm2@1
  __m64 v26; // mm0@1
  __m64 v27; // mm0@1
  __m64 v28; // mm1@3
  int result; // eax@3
  __m64 v30; // mm0@3
  __m64 v31; // mm1@3
  __m64 v32; // mm2@4
  __m64 v33; // mm3@4
  __m64 v34; // mm5@4
  __m64 v35; // mm6@4
  __m64 v36; // mm2@4
  __m64 v37; // mm3@4
  __m64 v38; // mm5@4
  __m64 v39; // mm6@4
  __m64 v40; // [sp+0h] [bp-44h]@1
  __m64 v41; // [sp+8h] [bp-3Ch]@1
  __m64 v42; // [sp+10h] [bp-34h]@1
  __m64 v43; // [sp+18h] [bp-2Ch]@1
  __m64 v44; // [sp+20h] [bp-24h]@1
  __m64 v45; // [sp+28h] [bp-1Ch]@1
  __m64 v46; // [sp+30h] [bp-14h]@1
  __m64 v47; // [sp+38h] [bp-Ch]@1

  v3 = *(__m64 *)(a3 + 16);
  v4 = *(__m64 *)(a3 + 32);
  v5 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckhdq(*(__m64 *)(a3 + 16), v4)),
         _m_pfmul(_m_punpckhdq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckldq(v3, v4)));
  v6 = _m_punpckldq(*(__m64 *)a3, v3);
  v7 = _m_punpckldq(*(__m64 *)(a3 + 48), v4);
  v8 = _m_pfsub(_m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 48), v4), v6), _m_pfmul(_m_punpckhdq(*(__m64 *)a3, v3), v7));
  v9 = _m_pfsubr(
         _m_pfmul(_m_punpckhdq(v3, v4), _m_punpckldq(v7, v7)),
         _m_pfmul(_m_punpckhdq(v6, v7), _m_punpckhdq(*(__m64 *)(a3 + 48), *(__m64 *)(a3 + 48))));
  v10 = *(__m64 *)(a3 + 56);
  v11 = *(__m64 *)(a3 + 40);
  v41 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v8, v8), v10), _m_pfmul(_m_punpckhdq(v9, v9), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckldq(v9, v9), v11));
  v43 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v5, v5), v10), _m_pfmul(_m_punpckldq(v8, v8), v11)),
          _m_pfmul(_m_punpckhdq(v9, v9), *(__m64 *)(a3 + 8)));
  v12 = _m_punpckldq(v5, v5);
  v45 = _m_pfsub(
          _m_pfadd(_m_pfmul(v10, v12), _m_pfmul(_m_punpckldq(v9, v9), *(__m64 *)(a3 + 8))),
          _m_pfmul(_m_punpckldq(v8, v8), *(__m64 *)(a3 + 24)));
  v47 = _m_pfadd(
          _m_pfsub(_m_pfmul(v12, v11), _m_pfmul(_m_punpckhdq(v5, v5), *(__m64 *)(a3 + 24))),
          _m_pfmul(_m_punpckhdq(v8, v8), *(__m64 *)(a3 + 8)));
  v13 = *(__m64 *)(a3 + 8);
  v14 = *(__m64 *)(a3 + 24);
  v15 = *(__m64 *)(a3 + 40);
  v16 = _m_pfsub(
          _m_pfmul(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), _m_punpckhdq(*(__m64 *)(a3 + 24), v15)),
          _m_pfmul(_m_punpckhdq(v13, v13), _m_punpckldq(v14, v15)));
  v17 = _m_punpckldq(v13, v14);
  v18 = _m_punpckldq(*(__m64 *)(a3 + 56), v15);
  v19 = _m_pfsub(
          _m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 56), v15), v17),
          _m_pfmul(_m_punpckhdq(*(__m64 *)(a3 + 8), v14), v18));
  v20 = _m_pfsubr(
          _m_pfmul(_m_punpckhdq(v14, v15), _m_punpckldq(v18, v18)),
          _m_pfmul(_m_punpckhdq(v17, v18), _m_punpckhdq(*(__m64 *)(a3 + 56), *(__m64 *)(a3 + 56))));
  v21 = *(__m64 *)(a3 + 48);
  v22 = *(__m64 *)(a3 + 32);
  v40 = _m_pfsub(
          _m_pfadd(_m_pfmul(_m_punpckhdq(v19, v19), v21), _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckldq(v20, v20), v22));
  v42 = _m_pfadd(
          _m_pfsub(_m_pfmul(_m_punpckhdq(v16, v16), v21), _m_pfmul(_m_punpckldq(v19, v19), v22)),
          _m_pfmul(_m_punpckhdq(v20, v20), *(__m64 *)a3));
  v23 = _m_punpckldq(v16, v16);
  v24 = _m_pfsub(
          _m_pfadd(_m_pfmul(v21, v23), _m_pfmul(_m_punpckldq(v20, v20), *(__m64 *)a3)),
          _m_pfmul(_m_punpckldq(v19, v19), *(__m64 *)(a3 + 16)));
  v44 = v24;
  v25 = _m_pfadd(
          _m_pfsub(_m_pfmul(v23, v22), _m_pfmul(_m_punpckhdq(v16, v16), *(__m64 *)(a3 + 16))),
          _m_pfmul(_m_punpckhdq(v19, v19), *(__m64 *)a3));
  v46 = v25;
  v26 = _m_pfadd(
          _m_pfmul(_m_punpckhdq(v24, v25), _m_pfmul(_m_punpckldq(v22, *(__m64 *)(a3 + 48)), (__m64)qword_4906C8)),
          _m_pfmul(
            _m_pfmul(_m_punpckldq(*(__m64 *)a3, (__m64)*(_DWORD *)(a3 + 16)), (__m64)qword_4906C8),
            _m_punpckhdq(v40, v42)));
  v27 = _m_pfacc(v26, v26);
  if ( a2 )
    *a2 = _mm_cvtsi64_si32(v27);
  v28 = _m_pfrcp(v27);
  result = _mm_cvtsi64_si32(_m_pfcmpeq(0i64, v27));
  v30 = _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(_m_punpckldq(v27, v27), v28), v28), (__m64)qword_4906C8);
  v31 = _m_punpckhdq(v30, _m_punpckldq(v25, v30));
  if ( !result )
  {
    result = a1;
    v32 = _m_pfmul(v40, v31);
    v33 = _m_pfmul(v42, v30);
    v34 = _m_pfmul(v41, v31);
    v35 = _m_pfmul(v43, v30);
    *(__m64 *)a1 = _m_punpckhdq(v32, v33);
    *(__m64 *)(a1 + 16) = _m_punpckldq(v32, v33);
    *(__m64 *)(a1 + 32) = _m_punpckhdq(v34, v35);
    *(__m64 *)(a1 + 48) = _m_punpckldq(v34, v35);
    v36 = _m_pfmul(v44, v31);
    v37 = _m_pfmul(v46, v30);
    v38 = _m_pfmul(v45, v31);
    v39 = _m_pfmul(v47, v30);
    *(__m64 *)(a1 + 8) = _m_punpckhdq(v36, v37);
    *(__m64 *)(a1 + 24) = _m_punpckldq(v36, v37);
    *(__m64 *)(a1 + 40) = _m_punpckhdq(v38, v39);
    *(__m64 *)(a1 + 56) = _m_punpckldq(v38, v39);
  }
  return result;
}
// 4906C8: using guessed type __int64 qword_4906C8;

//----- (0044AAEB) --------------------------------------------------------
int __stdcall sub_44AAEB(int a1, _DWORD *a2, int a3)
{
  _m_femms();
  sub_44A7B7(a1, a2, a3);
  _m_femms();
  return a1;
}

//----- (0044AB78) --------------------------------------------------------
__m64 *__stdcall sub_44AB78(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm2@1
  __m64 v9; // mm3@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v8 = _m_punpckldq(v7, v7);
  v9 = _m_pfadd(
         _m_pfmul(v5, *(__m64 *)(a3 + 8)),
         _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 24)), _m_pfmul(v8, *(__m64 *)(a3 + 40))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfmul(v5, *(__m64 *)a3),
                                    _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 16)), _m_pfmul(v8, *(__m64 *)(a3 + 32))));
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(v9);
  _m_femms();
  return a1;
}

//----- (0044ABDF) --------------------------------------------------------
__m64 *__stdcall sub_44ABDF(__m64 *a1, __m64 *a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm2@1
  __m64 v5; // mm0@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1
  __m64 v8; // mm5@1
  __m64 *result; // eax@1
  __m64 v10; // mm0@1

  _m_femms();
  v2 = (__m64)a2->m64_u64;
  v3 = v2;
  v4 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v5 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v4, v4));
  v6 = _m_pfacc(v5, v5);
  v7 = _m_pfrsqrt(v6);
  v8 = _m_pfcmpgt(v6, (__m64)qword_490748);
  result = a1;
  v10 = _m_pfrcpit2(_m_pfrsqit1(v6, _m_pfmul(v7, v7)), v7);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(_m_pand(v3, v8), v10);
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(_m_pfmul(_m_pand(v4, v8), v10));
  _m_femms();
  return result;
}
// 490748: using guessed type __int64 qword_490748;

//----- (0044AC3E) --------------------------------------------------------
__m64 *__stdcall sub_44AC3E(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm5@1
  __m64 v8; // mm7@1
  __m64 *result; // eax@1
  __m64 v10; // mm6@1
  __m64 v11; // mm7@1
  __m64 v12; // mm1@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v8 = _mm_cvtsi32_si64(a6);
  result = a1;
  v10 = _m_punpckldq(v6, v6);
  v11 = _m_punpckldq(v8, v8);
  v12 = _m_pfadd(
          _m_pfadd(_m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a3[1].m64_u32[0]), v7), v10), v7),
          _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a4[1].m64_u32[0]), v7), v11));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(
                                      _m_pfmul(_m_pfsub((__m64)a3->m64_u64, (__m64)a2->m64_u64), v10),
                                      (__m64)a2->m64_u64),
                                    _m_pfmul(_m_pfsub((__m64)a4->m64_u64, (__m64)a2->m64_u64), v11));
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(v12);
  _m_femms();
  return result;
}

//----- (0044ACAF) --------------------------------------------------------
__m64 *__stdcall sub_44ACAF(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 v18; // mm7@1
  __m64 v19; // mm1@1
  __m64 v20; // mm6@1
  __m64 v21; // mm2@1
  __m64 *result; // eax@1
  __m64 v23; // mm0@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_490770);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_490778);
  v13 = _m_pfmul(v8, (__m64)qword_490770);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_490760);
  v18 = _m_punpckldq(v9, v9);
  v19 = _m_punpckldq(v15, v15);
  v20 = _m_punpckldq(v16, v16);
  v21 = _m_punpckldq(v17, v17);
  result = a1;
  v23 = _m_pfadd(
          _m_pfadd(_m_pfmul(v19, _mm_cvtsi32_si64(a4[1].m64_u32[0])), _m_pfmul(v18, _mm_cvtsi32_si64(a5[1].m64_u32[0]))),
          _m_pfadd(_m_pfmul(v21, _mm_cvtsi32_si64(a2[1].m64_u32[0])), _m_pfmul(v20, _mm_cvtsi32_si64(a3[1].m64_u32[0]))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v19, (__m64)a4->m64_u64), _m_pfmul(v18, (__m64)a5->m64_u64)),
                                    _m_pfadd(_m_pfmul(v21, (__m64)a2->m64_u64), _m_pfmul(v20, (__m64)a3->m64_u64)));
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(v23);
  _m_femms();
  return result;
}
// 490760: using guessed type __int64 qword_490760;
// 490770: using guessed type __int64 qword_490770;
// 490778: using guessed type __int64 qword_490778;

//----- (0044AD83) --------------------------------------------------------
__m64 *__stdcall sub_44AD83(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 v20; // mm2@1
  __m64 v21; // mm1@1
  __m64 v22; // mm3@1
  __m64 v23; // mm0@1
  __m64 v24; // mm2@1
  __m64 v25; // mm3@1
  __m64 *result; // eax@1
  __m64 v27; // mm4@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)(unsigned int)qword_4906D8);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_4906E8);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_4906F8)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  v20 = v18;
  v21 = _m_punpckhdq(v18, v18);
  v22 = v19;
  v23 = _m_punpckldq(v19, v19);
  v24 = _m_punpckldq(v20, v20);
  v25 = _m_punpckhdq(v22, v22);
  result = a1;
  v27 = _m_pfadd(
          _m_pfadd(
            _m_pfadd(
              _m_pfmul(v21, _mm_cvtsi32_si64(a2[1].m64_u32[0])),
              _m_pfmul(v23, _mm_cvtsi32_si64(a3[1].m64_u32[0]))),
            _m_pfmul(v24, _mm_cvtsi32_si64(a4[1].m64_u32[0]))),
          _m_pfmul(v25, _mm_cvtsi32_si64(a5[1].m64_u32[0])));
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(
                                        _m_pfadd(_m_pfmul(v23, (__m64)a3->m64_u64), _m_pfmul(v21, (__m64)a2->m64_u64)),
                                        _m_pfmul(v24, (__m64)a4->m64_u64)),
                                      _m_pfmul(v25, (__m64)a5->m64_u64)),
                                    (__m64)qword_490740);
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(_m_pfmul(v27, (__m64)qword_490740));
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;
// 4906E8: using guessed type __int64 qword_4906E8;
// 4906F8: using guessed type __int64 qword_4906F8;
// 490740: using guessed type __int64 qword_490740;

//----- (0044AE6D) --------------------------------------------------------
__m64 *__stdcall sub_44AE6D(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm2@1
  __m64 v9; // mm3@1
  __m64 v10; // mm5@1
  __m64 v11; // mm4@1
  __m64 v12; // mm5@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _mm_cvtsi32_si64(a2[1].m64_u32[0]);
  v8 = _m_punpckldq(v7, v7);
  v9 = _m_pfadd(
         _m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)),
         _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 24)), _m_pfmul(v8, *(__m64 *)(a3 + 40))));
  v10 = _m_punpckhdq(v9, v9);
  v11 = _m_pfrcp(v10);
  v12 = _m_pfrcpit2(_m_pfrcpit1(v10, v11), v11);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                                      _m_pfadd(_m_pfmul(v6, *(__m64 *)(a3 + 16)), _m_pfmul(v8, *(__m64 *)(a3 + 32)))),
                                    v12);
  a1[1].m64_i32[0] = _mm_cvtsi64_si32(_m_pfmul(v9, v12));
  _m_femms();
  return a1;
}

//----- (0044AEF8) --------------------------------------------------------
int __userpurge sub_44AEF8@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, int a3, __m64 *a4, int a5)
{
  __m64 v5; // mm1@1
  __m64 v6; // mm2@1
  __m64 v7; // mm3@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm2@1
  __m64 v11; // mm5@1
  __m64 v12; // mm3@1
  __m64 v13; // mm2@1
  __m64 v14; // mm7@1
  __m64 v15; // mm0@1
  __m64 v16; // mm3@1
  __m64 v17; // mm1@1
  __m64 v18; // mm4@1
  __m64 v19; // mm2@1
  __m64 v20; // mm3@1
  __m64 v21; // mm0@1
  __m64 v22; // mm1@1
  __m64 v23; // mm2@1
  __m64 v24; // mm5@1
  __m64 v25; // mm3@1
  __m64 v26; // mm2@1
  __m64 v27; // mm7@1
  __m64 v28; // mm0@1
  __m64 v29; // mm3@1
  __m64 v30; // mm1@1
  __m64 v31; // mm4@1
  __m64 v32; // mm2@1
  __m64 v33; // mm3@1
  __m64 v34; // mm0@1
  __m64 v35; // mm1@1
  __m64 v36; // mm2@1
  __m64 v37; // mm5@1
  __m64 v38; // mm3@1
  __m64 v39; // mm2@1
  __m64 v40; // mm7@1
  __m64 v41; // mm0@1
  __m64 v42; // mm3@1
  __m64 v43; // mm1@1
  __m64 v44; // mm4@1
  __m64 v45; // mm2@1
  __m64 v46; // mm3@1
  __m64 v47; // mm0@1
  __m64 v48; // mm1@1
  __m64 v49; // mm2@1
  __m64 v50; // mm3@1
  __m64 v51; // mm7@1
  __m64 v52; // mm3@1

  v5 = a4[1];
  v6 = _m_punpckhdq(a1, (__m64)a4->m64_u64);
  v7 = _m_punpckhdq(a2, v5);
  v8 = _m_punpckldq((__m64)a4->m64_u64, (__m64)a4->m64_u64);
  v9 = _m_punpckldq(v5, v5);
  v10 = _m_punpckhdq(v6, v6);
  v11 = _m_pfmul(*(__m64 *)(a5 + 16), v10);
  v12 = _m_punpckhdq(v7, v7);
  v13 = _m_pfadd(
          _m_pfadd(_m_pfmul(v10, *(__m64 *)(a5 + 24)), _m_pfmul(v8, *(__m64 *)(a5 + 8))),
          _m_pfmul(v9, *(__m64 *)(a5 + 40)));
  v14 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v12),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v9), _m_pfadd(v11, _m_pfmul(*(__m64 *)a5, v8))));
  v15 = a4[2];
  v16 = _m_pfadd(_m_pfmul(v12, *(__m64 *)(a5 + 56)), v13);
  v17 = a4[3];
  *(__m64 *)a3 = v14;
  v18 = *(__m64 *)a5;
  *(__m64 *)(a3 + 8) = v16;
  v19 = _m_punpckhdq(v13, v15);
  v20 = _m_punpckhdq(v16, v17);
  v21 = _m_punpckldq(v15, v15);
  v22 = _m_punpckldq(v17, v17);
  v23 = _m_punpckhdq(v19, v19);
  v24 = _m_pfmul(*(__m64 *)(a5 + 16), v23);
  v25 = _m_punpckhdq(v20, v20);
  v26 = _m_pfadd(
          _m_pfadd(_m_pfmul(v23, *(__m64 *)(a5 + 24)), _m_pfmul(v21, *(__m64 *)(a5 + 8))),
          _m_pfmul(v22, *(__m64 *)(a5 + 40)));
  v27 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v25),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v22), _m_pfadd(v24, _m_pfmul(v18, v21))));
  v28 = a4[4];
  v29 = _m_pfadd(_m_pfmul(v25, *(__m64 *)(a5 + 56)), v26);
  v30 = a4[5];
  *(__m64 *)(a3 + 16) = v27;
  v31 = *(__m64 *)a5;
  *(__m64 *)(a3 + 24) = v29;
  v32 = _m_punpckhdq(v26, v28);
  v33 = _m_punpckhdq(v29, v30);
  v34 = _m_punpckldq(v28, v28);
  v35 = _m_punpckldq(v30, v30);
  v36 = _m_punpckhdq(v32, v32);
  v37 = _m_pfmul(*(__m64 *)(a5 + 16), v36);
  v38 = _m_punpckhdq(v33, v33);
  v39 = _m_pfadd(
          _m_pfadd(_m_pfmul(v36, *(__m64 *)(a5 + 24)), _m_pfmul(v34, *(__m64 *)(a5 + 8))),
          _m_pfmul(v35, *(__m64 *)(a5 + 40)));
  v40 = _m_pfadd(
          _m_pfmul(*(__m64 *)(a5 + 48), v38),
          _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 32), v35), _m_pfadd(v37, _m_pfmul(v31, v34))));
  v41 = a4[6];
  v42 = _m_pfadd(_m_pfmul(v38, *(__m64 *)(a5 + 56)), v39);
  v43 = a4[7];
  *(__m64 *)(a3 + 32) = v40;
  v44 = *(__m64 *)a5;
  *(__m64 *)(a3 + 40) = v42;
  v45 = _m_punpckhdq(v39, v41);
  v46 = _m_punpckhdq(v42, v43);
  v47 = _m_punpckldq(v41, v41);
  v48 = _m_punpckldq(v43, v43);
  v49 = _m_punpckhdq(v45, v45);
  v50 = _m_punpckhdq(v46, v46);
  v51 = _m_pfmul(*(__m64 *)(a5 + 48), v50);
  v52 = _m_pfadd(
          _m_pfmul(v50, *(__m64 *)(a5 + 56)),
          _m_pfadd(
            _m_pfadd(_m_pfmul(v49, *(__m64 *)(a5 + 24)), _m_pfmul(v47, *(__m64 *)(a5 + 8))),
            _m_pfmul(v48, *(__m64 *)(a5 + 40))));
  *(__m64 *)(a3 + 48) = _m_pfadd(
                          v51,
                          _m_pfadd(
                            _m_pfmul(*(__m64 *)(a5 + 32), v48),
                            _m_pfadd(_m_pfmul(*(__m64 *)(a5 + 16), v49), _m_pfmul(v44, v47))));
  *(__m64 *)(a3 + 56) = v52;
  _m_femms();
  return a3;
}

//----- (0044B0C4) --------------------------------------------------------
__m64 *__userpurge sub_44B0C4@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8)
{
  float *v8; // esi@1
  __m64 v9; // mm1@11
  float v11; // [sp+Ch] [bp-40h]@1
  float v12; // [sp+10h] [bp-3Ch]@2
  float v13; // [sp+14h] [bp-38h]@2
  float v14; // [sp+18h] [bp-34h]@2
  float v15; // [sp+1Ch] [bp-30h]@2
  float v16; // [sp+20h] [bp-2Ch]@2
  float v17; // [sp+24h] [bp-28h]@2
  float v18; // [sp+28h] [bp-24h]@2
  float v19; // [sp+2Ch] [bp-20h]@2
  float v20; // [sp+30h] [bp-1Ch]@2
  float v21; // [sp+34h] [bp-18h]@2
  float v22; // [sp+38h] [bp-14h]@2
  float v23; // [sp+3Ch] [bp-10h]@2
  float v24; // [sp+40h] [bp-Ch]@2
  float v25; // [sp+44h] [bp-8h]@2
  float v26; // [sp+48h] [bp-4h]@2

  v8 = &v11;
  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v15 = 0.0;
      v14 = 0.0;
      v13 = 0.0;
      v12 = 0.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      v11 = 1.0;
      break;
    case 1:
      v8 = (float *)a6;
      break;
    case 2:
      v8 = (float *)a7;
      break;
    case 3:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v11, a7, a6);
      _m_femms();
      break;
    case 4:
      v8 = (float *)a8;
      break;
    case 5:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v11, a8, a6);
      _m_femms();
      break;
    case 6:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v11, a8, (int)a7);
      _m_femms();
      break;
    case 7:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v11, a8, (int)a7);
      sub_44AEF8(a1, a2, (int)&v11, (__m64 *)&v11, a6);
      _m_femms();
      break;
    default:
      break;
  }
  sub_44AE6D(a3, a4, (int)v8);
  if ( a5 )
  {
    _m_femms();
    v9 = _m_pfadd(
           _m_pfmul(
             _mm_cvtsi32_si64(a3[1].m64_u32[0]),
             _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), *(__m64 *)(a5 + 16))),
           *(__m64 *)(a5 + 16));
    a3->m64_u64 = (unsigned __int64)_m_pfadd(
                                      _m_pfmul(
                                        _m_pfadd(_m_pxor((__m64)a3->m64_u64, (__m64)qword_490758), (__m64)qword_490760),
                                        _m_pfmul(_m_pi2fd(*(__m64 *)(a5 + 8)), (__m64)qword_490768)),
                                      _m_pi2fd(*(__m64 *)a5));
    a3[1].m64_i32[0] = _mm_cvtsi64_si32(v9);
    _m_femms();
  }
  return a3;
}
// 490758: using guessed type __int64 qword_490758;
// 490760: using guessed type __int64 qword_490760;
// 490768: using guessed type __int64 qword_490768;

//----- (0044B24C) --------------------------------------------------------
__m64 *__userpurge sub_44B24C@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8)
{
  __m64 v8; // mm4@11
  __m64 v9; // mm2@11
  __m64 v10; // mm5@11
  __m64 v11; // mm0@11
  __m64 v12; // mm5@11
  __m64 v13; // mm6@11
  __m64 v14; // mm3@11
  float v16; // [sp+Ch] [bp-40h]@2
  float v17; // [sp+10h] [bp-3Ch]@2
  float v18; // [sp+14h] [bp-38h]@2
  float v19; // [sp+18h] [bp-34h]@2
  float v20; // [sp+1Ch] [bp-30h]@2
  float v21; // [sp+20h] [bp-2Ch]@2
  float v22; // [sp+24h] [bp-28h]@2
  float v23; // [sp+28h] [bp-24h]@2
  float v24; // [sp+2Ch] [bp-20h]@2
  float v25; // [sp+30h] [bp-1Ch]@2
  float v26; // [sp+34h] [bp-18h]@2
  float v27; // [sp+38h] [bp-14h]@2
  float v28; // [sp+3Ch] [bp-10h]@2
  float v29; // [sp+40h] [bp-Ch]@2
  float v30; // [sp+44h] [bp-8h]@2
  float v31; // [sp+48h] [bp-4h]@2

  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      v30 = 0.0;
      v29 = 0.0;
      v28 = 0.0;
      v27 = 0.0;
      v25 = 0.0;
      v24 = 0.0;
      v23 = 0.0;
      v22 = 0.0;
      v20 = 0.0;
      v19 = 0.0;
      v18 = 0.0;
      v17 = 0.0;
      v31 = 1.0;
      v26 = 1.0;
      v21 = 1.0;
      v16 = 1.0;
      break;
    case 1:
      _m_femms();
      sub_44A7B7((int)&v16, 0, a6);
      _m_femms();
      break;
    case 2:
      _m_femms();
      sub_44A7B7((int)&v16, 0, (int)a7);
      _m_femms();
      break;
    case 3:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v16, a7, a6);
      sub_44A7B7((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    case 4:
      _m_femms();
      sub_44A7B7((int)&v16, 0, (int)a8);
      _m_femms();
      break;
    case 5:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v16, a8, a6);
      sub_44A7B7((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    case 6:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v16, a8, (int)a7);
      sub_44A7B7((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    case 7:
      _m_femms();
      sub_44AEF8(a1, a2, (int)&v16, a8, (int)a7);
      sub_44AEF8(a1, a2, (int)&v16, (__m64 *)&v16, a6);
      sub_44A7B7((int)&v16, 0, (int)&v16);
      _m_femms();
      break;
    default:
      break;
  }
  if ( a5 )
  {
    _m_femms();
    v8 = *(__m64 *)(a5 + 16);
    v9 = _m_pi2fd(*(__m64 *)(a5 + 8));
    v10 = _m_punpckldq(_m_pfrcp(v9), _m_pfrcp(_m_punpckhdq(v9, v9)));
    v11 = _m_pfmul(
            _m_pfsub((__m64)a4->m64_u64, _m_pi2fd(*(__m64 *)a5)),
            _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v9, v10), v10), (__m64)qword_490770));
    v12 = _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), v8);
    v13 = _m_pfrcp(v12);
    v14 = _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a4[1].m64_u32[0]), v8), _m_pfrcpit2(_m_pfrcpit1(v12, v13), v13));
    a3->m64_u64 = (unsigned __int64)_m_pxor(_m_pfsub(v11, (__m64)qword_490760), (__m64)qword_490758);
    a3[1].m64_i32[0] = _mm_cvtsi64_si32(v14);
    _m_femms();
    sub_44AE6D(a3, a3, (int)&v16);
  }
  else
  {
    sub_44AE6D(a3, a4, (int)&v16);
  }
  return a3;
}
// 490758: using guessed type __int64 qword_490758;
// 490760: using guessed type __int64 qword_490760;
// 490770: using guessed type __int64 qword_490770;

//----- (0044B472) --------------------------------------------------------
__m64 *__userpurge sub_44B472@<eax>(__m64 a1@<mm2>, __m64 a2@<mm3>, __m64 *a3, __m64 *a4, int a5, int a6, __m64 *a7, __m64 *a8)
{
  __m64 v8; // mm4@13
  __m64 v9; // mm2@13
  __m64 v10; // mm5@13
  __m64 v11; // mm0@13
  __m64 v12; // mm5@13
  __m64 v13; // mm6@13
  __m64 v14; // mm3@13
  int v16; // [sp-4h] [bp-50h]@7
  char v17; // [sp+Ch] [bp-40h]@2

  switch ( (a6 != 0) | 2 * ((a7 != 0) | 2 * (a8 != 0)) )
  {
    case 0:
      sub_44743F((int)&v17);
      break;
    case 1:
      sub_44A0DD((int)&v17, 0, a6);
      break;
    case 2:
      sub_44A0DD((int)&v17, 0, (int)a7);
      break;
    case 3:
      sub_44AEF8(a1, a2, (int)&v17, a7, a6);
      goto LABEL_11;
    case 4:
      sub_44A0DD((int)&v17, 0, (int)a8);
      break;
    case 5:
      v16 = a6;
      goto LABEL_9;
    case 6:
      v16 = (int)a7;
LABEL_9:
      sub_44AEF8(a1, a2, (int)&v17, a8, v16);
      goto LABEL_11;
    case 7:
      sub_44AEF8(a1, a2, (int)&v17, a8, (int)a7);
      sub_44AEF8(a1, a2, (int)&v17, (__m64 *)&v17, a6);
LABEL_11:
      sub_44A0DD((int)&v17, 0, (int)&v17);
      break;
    default:
      break;
  }
  if ( a5 )
  {
    _m_femms();
    v8 = *(__m64 *)(a5 + 16);
    v9 = _m_pi2fd(*(__m64 *)(a5 + 8));
    v10 = _m_punpckldq(_m_pfrcp(v9), _m_pfrcp(_m_punpckhdq(v9, v9)));
    v11 = _m_pfmul(
            _m_pfsub((__m64)a4->m64_u64, _m_pi2fd(*(__m64 *)a5)),
            _m_pfmul(_m_pfrcpit2(_m_pfrcpit1(v9, v10), v10), (__m64)qword_490770));
    v12 = _m_pfsub(_m_punpckhdq(*(__m64 *)(a5 + 16), *(__m64 *)(a5 + 16)), v8);
    v13 = _m_pfrcp(v12);
    v14 = _m_pfmul(_m_pfsub(_mm_cvtsi32_si64(a4[1].m64_u32[0]), v8), _m_pfrcpit2(_m_pfrcpit1(v12, v13), v13));
    a3->m64_u64 = (unsigned __int64)_m_pxor(_m_pfsub(v11, (__m64)qword_490760), (__m64)qword_490758);
    a3[1].m64_i32[0] = _mm_cvtsi64_si32(v14);
    _m_femms();
    sub_44AE6D(a3, a3, (int)&v17);
  }
  else
  {
    sub_44AE6D(a3, a4, (int)&v17);
  }
  return a3;
}
// 490758: using guessed type __int64 qword_490758;
// 490760: using guessed type __int64 qword_490760;
// 490770: using guessed type __int64 qword_490770;

//----- (0044B600) --------------------------------------------------------
int __stdcall sub_44B600(int a1, int a2, signed int a3)
{
  signed int v3; // ecx@1
  __m64 *v4; // eax@1
  int v5; // edx@1
  __m64 v6; // mm3@5
  __m64 v7; // mm5@5
  __m64 v8; // mm0@5
  __m64 v9; // mm1@5
  __m64 v10; // mm2@5
  __m64 v11; // mm4@5
  __m64 v12; // mm5@5
  int v13; // ecx@7
  int result; // eax@8

  v3 = a3;
  v4 = (__m64 *)a1;
  v5 = a2;
  if ( a3 >= 4 )
  {
    while ( 1 )
    {
      while ( v3 >= 4 )
      {
        v6 = _m_punpcklwd(_mm_cvtsi32_si64(*(_DWORD *)v5), 0i64);
        v7 = _m_punpcklwd(_mm_cvtsi32_si64(*(_DWORD *)(v5 + 4)), 0i64);
        v8 = _m_pcmpeqd(_m_pand(v6, (__m64)qword_4B4E40), 0i64);
        v9 = _m_pcmpeqd(_m_pand(v7, (__m64)qword_4B4E40), 0i64);
        v10 = _m_pand(v6, (__m64)qword_4B4E60);
        v11 = _m_pand(v7, (__m64)qword_4B4E60);
        v12 = _m_por(
                _m_pfsub(
                  _m_pslld(
                    _m_paddd(_m_paddd(_m_pxor(v7, v11), (__m64)qword_4B4E50), _m_pand(v9, (__m64)qword_4B4E70)),
                    0xDu),
                  _m_pand(v9, (__m64)qword_4B4E80)),
                _m_pslld(v11, 0x10u));
        v4->m64_u64 = (unsigned __int64)_m_por(
                                          _m_pfsub(
                                            _m_pslld(
                                              _m_paddd(
                                                _m_paddd(_m_pxor(v6, v10), (__m64)qword_4B4E50),
                                                _m_pand(v8, (__m64)qword_4B4E70)),
                                              0xDu),
                                            _m_pand(v8, (__m64)qword_4B4E80)),
                                          _m_pslld(v10, 0x10u));
        v4[1].m64_u64 = (unsigned __int64)v12;
        v4 += 2;
        v5 += 8;
        v3 -= 4;
      }
      if ( !v3 )
        break;
      v13 = v3 - 4;
      v5 += 2 * v13;
      v4 = (__m64 *)((char *)v4 + 4 * v13);
      v3 = 4;
    }
  }
  else if ( a3 )
  {
    sub_42A7B2(a1, a2, a3);
  }
  result = a1;
  _m_femms();
  return result;
}
// 4B4E40: using guessed type __int64 qword_4B4E40;
// 4B4E50: using guessed type __int64 qword_4B4E50;
// 4B4E60: using guessed type __int64 qword_4B4E60;
// 4B4E70: using guessed type __int64 qword_4B4E70;
// 4B4E80: using guessed type __int64 qword_4B4E80;

//----- (0044B740) --------------------------------------------------------
int __stdcall sub_44B740(int a1, int a2, signed int a3)
{
  signed int v3; // ecx@1
  __m64 *v4; // eax@1
  __m64 *v5; // edx@1
  __m64 v6; // mm1@5
  __m64 v7; // ST0C_8@5
  __m64 v8; // mm6@5
  __m64 v9; // mm7@5
  __m64 v10; // mm3@5
  __m64 v11; // mm0@5
  __m64 v12; // mm5@5
  __m64 v13; // mm1@5
  __m64 v14; // mm4@5
  __m64 v15; // mm5@5
  int v16; // ecx@7
  int result; // eax@8

  v3 = a3;
  v4 = (__m64 *)a1;
  v5 = (__m64 *)a2;
  if ( a3 >= 4 )
  {
    while ( 1 )
    {
      while ( v3 >= 4 )
      {
        v6 = v5[1];
        v7 = _m_pslld(
               _m_packssdw(
                 _m_psrld(_m_pand((__m64)qword_4B4EB0, (__m64)v5->m64_u64), 0x12u),
                 _m_psrld(_m_pand((__m64)qword_4B4EB0, v6), 0x12u)),
               2u);
        v8 = _m_pand((__m64)v5->m64_u64, (__m64)qword_4B4F00);
        v9 = _m_pand(v6, (__m64)qword_4B4F00);
        v10 = _m_pfcmpge((__m64)qword_4B4EA0, v8);
        v11 = _m_psubd(_m_pfadd(v8, _m_pand(v10, (__m64)qword_4B4EA0)), _m_pand(v10, (__m64)qword_4B4F10));
        v12 = _m_pfcmpge((__m64)qword_4B4EA0, v9);
        v13 = _m_psubd(_m_pfadd(v9, _m_pand(v12, (__m64)qword_4B4EA0)), _m_pand(v12, (__m64)qword_4B4F10));
        v14 = _m_pfcmpgt((__m64)qword_4B4E90, v8);
        v15 = _m_pfcmpgt((__m64)qword_4B4E90, v9);
        v4->m64_u64 = (unsigned __int64)_m_por(
                                          _m_packssdw(
                                            _m_por(
                                              _m_pand(
                                                _m_psrld(
                                                  _m_paddd(
                                                    _m_paddd(_m_pand(_m_psrld(v11, 0xDu), (__m64)qword_4B4ED0), v11),
                                                    (__m64)qword_4B4EE0),
                                                  0xDu),
                                                v14),
                                              _m_pandn(v14, (__m64)qword_4B4F20)),
                                            _m_por(
                                              _m_pand(
                                                _m_psrld(
                                                  _m_paddd(
                                                    _m_paddd(_m_pand(_m_psrld(v13, 0xDu), (__m64)qword_4B4ED0), v13),
                                                    (__m64)qword_4B4EE0),
                                                  0xDu),
                                                v15),
                                              _m_pandn(v15, (__m64)qword_4B4F20))),
                                          v7);
        ++v4;
        v5 += 2;
        v3 -= 4;
      }
      if ( !v3 )
        break;
      v16 = v3 - 4;
      v5 = (__m64 *)((char *)v5 + 4 * v16);
      v4 = (__m64 *)((char *)v4 + 2 * v16);
      v3 = 4;
    }
  }
  else if ( a3 )
  {
    sub_42A710(a1, a2, a3);
  }
  result = a1;
  _m_femms();
  return result;
}
// 4B4E90: using guessed type __int64 qword_4B4E90;
// 4B4EA0: using guessed type __int64 qword_4B4EA0;
// 4B4EB0: using guessed type __int64 qword_4B4EB0;
// 4B4ED0: using guessed type __int64 qword_4B4ED0;
// 4B4EE0: using guessed type __int64 qword_4B4EE0;
// 4B4F00: using guessed type __int64 qword_4B4F00;
// 4B4F10: using guessed type __int64 qword_4B4F10;
// 4B4F20: using guessed type __int64 qword_4B4F20;

//----- (0044B8BB) --------------------------------------------------------
__m64 *__stdcall sub_44B8BB(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm3@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _m_pfadd(_m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)), _m_pfmul(v6, *(__m64 *)(a3 + 24)));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                                    _m_pfmul(v6, *(__m64 *)(a3 + 16)));
  a1[1].m64_u64 = (unsigned __int64)v7;
  _m_femms();
  return a1;
}

//----- (0044B910) --------------------------------------------------------
__m64 *__stdcall sub_44B910(__m64 *a1, __m64 *a2, int a3)
{
  _m_femms();
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfmul(_m_punpckldq((__m64)a2->m64_u64, (__m64)a2->m64_u64), *(__m64 *)a3),
                                    _m_pfmul(_m_punpckhdq((__m64)a2->m64_u64, (__m64)a2->m64_u64), *(__m64 *)(a3 + 16)));
  _m_femms();
  return a1;
}

//----- (0044B949) --------------------------------------------------------
__m64 *__stdcall sub_44B949(__m64 *a1, __m64 *a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm3@1
  __m64 v8; // mm3@1
  __m64 v9; // mm4@1

  _m_femms();
  v3 = (__m64)a2->m64_u64;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = _m_pfadd(_m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), *(__m64 *)(a3 + 56)), _m_pfmul(v6, *(__m64 *)(a3 + 24)));
  v8 = _m_punpckhdq(v7, v7);
  v9 = _m_pfrcp(v8);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), *(__m64 *)(a3 + 48)),
                                      _m_pfmul(v6, *(__m64 *)(a3 + 16))),
                                    _m_pfrcpit2(_m_pfrcpit1(v8, v9), v9));
  _m_femms();
  return a1;
}

//----- (0044B9AD) --------------------------------------------------------
__m64 *__stdcall sub_44B9AD(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 *result; // eax@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_490770);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_490778);
  v13 = _m_pfmul(v8, (__m64)qword_490770);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_490760);
  result = a1;
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(
                                      _m_pfmul(_m_punpckldq(v17, v17), (__m64)a2->m64_u64),
                                      _m_pfmul(_m_punpckldq(v16, v16), (__m64)a3->m64_u64)),
                                    _m_pfadd(
                                      _m_pfmul(_m_punpckldq(v15, v15), (__m64)a4->m64_u64),
                                      _m_pfmul(_m_punpckldq(v9, v9), (__m64)a5->m64_u64)));
  _m_femms();
  return result;
}
// 490760: using guessed type __int64 qword_490760;
// 490770: using guessed type __int64 qword_490770;
// 490778: using guessed type __int64 qword_490778;

//----- (0044BA45) --------------------------------------------------------
__m64 *__stdcall sub_44BA45(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 *result; // eax@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a6);
  result = a1;
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(
                                      (__m64)a2->m64_u64,
                                      _m_pfmul(_m_pfsub((__m64)a3->m64_u64, (__m64)a2->m64_u64), _m_punpckldq(v6, v6))),
                                    _m_pfmul(_m_pfsub((__m64)a4->m64_u64, (__m64)a2->m64_u64), _m_punpckldq(v7, v7)));
  _m_femms();
  return result;
}

//----- (0044BA8E) --------------------------------------------------------
__m64 *__stdcall sub_44BA8E(__m64 *a1, __m64 *a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm1@1
  __m64 v4; // mm0@1
  __m64 *result; // eax@1
  __m64 v6; // mm0@1
  __m64 v7; // mm4@1

  v2 = (__m64)a2->m64_u64;
  v3 = v2;
  v4 = _m_pfmul(v2, v2);
  result = a1;
  v6 = _m_pfacc(v4, v4);
  v7 = _m_pfrsqrt(v6);
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pand(v3, _m_pfcmpgt(v6, (__m64)qword_490748)),
                                    _m_pfrcpit2(_m_pfrsqit1(_m_pfmul(v7, v7), v6), v7));
  _m_femms();
  return result;
}
// 490748: using guessed type __int64 qword_490748;

//----- (0044BAD1) --------------------------------------------------------
__m64 *__stdcall sub_44BAD1(__m64 *a1, __m64 *a2, __m64 *a3, __m64 *a4, __m64 *a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 *result; // eax@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)(unsigned int)qword_4906D8);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_4906E8);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_4906F8)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  result = a1;
  a1->m64_u64 = (unsigned __int64)_m_pfmul(
                                    _m_pfadd(
                                      _m_pfadd(
                                        _m_pfadd(
                                          _m_pfmul(_m_punpckldq(v19, v19), (__m64)a3->m64_u64),
                                          _m_pfmul(_m_punpckhdq(v18, v18), (__m64)a2->m64_u64)),
                                        _m_pfmul(_m_punpckldq(v18, v18), (__m64)a4->m64_u64)),
                                      _m_pfmul(_m_punpckhdq(v19, v19), (__m64)a5->m64_u64)),
                                    (__m64)qword_490740);
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;
// 4906E8: using guessed type __int64 qword_4906E8;
// 4906F8: using guessed type __int64 qword_4906F8;
// 490740: using guessed type __int64 qword_490740;

//----- (0044BC5D) --------------------------------------------------------
int __stdcall sub_44BC5D(int a1, __m64 *a2, int a3, int a4)
{
  int result; // eax@1
  __m64 v5; // mm2@1
  __m64 v6; // mm3@1
  __m64 v7; // mm4@1
  __m64 v8; // mm5@1
  __m64 v9; // mm6@1
  __m64 v10; // mm1@1
  __m64 v11; // mm0@1
  __m64 v12; // mm7@1
  __m64 v13; // mm2@1
  __m64 v14; // mm6@1
  __m64 v15; // mm7@1

  _m_femms();
  result = a1;
  v5 = *(__m64 *)(a3 + 8);
  v6 = *(__m64 *)(a4 + 8);
  v7 = _m_pfsub(
         _m_pfmul(
           _m_punpckhdq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)),
           _m_punpckhdq(_m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)), *(__m64 *)a3)),
         _m_pfmul(
           _m_punpckhdq(*(__m64 *)(a3 + 8), *(__m64 *)(a3 + 8)),
           _m_punpckhdq(_m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)(a4 + 8)), *(__m64 *)a4)));
  v8 = _m_pfsub(
         _m_pfmul(_m_punpckhdq(*(__m64 *)a3, v5), _m_punpckldq(*(__m64 *)(a4 + 8), *(__m64 *)a4)),
         _m_pfmul(_m_punpckhdq(*(__m64 *)a4, v6), _m_punpckldq(*(__m64 *)(a3 + 8), *(__m64 *)a3)));
  v9 = _m_pfsub(
         _m_pfmul(_m_punpckldq(*(__m64 *)a4, *(__m64 *)a4), _m_punpckhdq(_m_punpckldq(v5, v5), *(__m64 *)a3)),
         _m_pfmul(_m_punpckldq(*(__m64 *)a3, *(__m64 *)a3), _m_punpckhdq(_m_punpckldq(v6, v6), *(__m64 *)a4)));
  v10 = a2[1];
  v11 = (__m64)a2->m64_u64;
  *(__m64 *)a1 = _m_pfsub(
                   _m_pfmul(
                     _m_pxor(_m_punpckldq(v7, v7), (__m64)qword_490758),
                     _m_punpckhdq((__m64)a2->m64_u64, _m_punpckldq((__m64)a2->m64_u64, (__m64)a2->m64_u64))),
                   _m_pfacc(
                     _m_pxor(_m_pfmul(_m_punpckldq(_m_punpckhdq(v7, v7), v8), v10), (__m64)qword_490758),
                     _m_pxor(_m_pfmul(_m_punpckldq(_m_punpckhdq(v8, v8), v9), v10), (__m64)qword_490758)));
  v12 = _m_psrlq((__m64)qword_490758, 0x20u);
  v13 = _m_pxor(_m_punpckldq(v8, v9), v12);
  v14 = _m_pxor(_m_punpckhdq(v9, v9), v12);
  v15 = _m_psllq(v12, 0x20u);
  *(__m64 *)(a1 + 8) = _m_pfadd(
                         _m_pfmul(_m_punpckhdq(v10, _m_punpckldq(v10, v10)), v14),
                         _m_pfacc(
                           _m_pxor(_m_pfmul(_m_pxor(_m_punpckhdq(v7, v8), (__m64)qword_490758), v11), v15),
                           _m_pxor(_m_pfmul(v13, v11), v15)));
  _m_femms();
  return result;
}
// 490758: using guessed type __int64 qword_490758;

//----- (0044BD8F) --------------------------------------------------------
__m64 *__stdcall sub_44BD8F(__m64 *a1, int a2, int a3, int a4, unsigned int a5, unsigned int a6)
{
  __m64 v6; // mm6@1
  __m64 v7; // mm7@1
  __m64 *result; // eax@1
  __m64 v9; // mm6@1
  __m64 v10; // mm7@1
  __m64 v11; // mm1@1

  v6 = _mm_cvtsi32_si64(a5);
  v7 = _mm_cvtsi32_si64(a6);
  result = a1;
  v9 = _m_punpckldq(v6, v6);
  v10 = _m_punpckldq(v7, v7);
  v11 = _m_pfadd(
          _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)(a3 + 8), *(__m64 *)(a2 + 8)), v9), *(__m64 *)(a2 + 8)),
          _m_pfmul(_m_pfsub(*(__m64 *)(a4 + 8), *(__m64 *)(a2 + 8)), v10));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(_m_pfsub(*(__m64 *)a3, *(__m64 *)a2), v9), *(__m64 *)a2),
                                    _m_pfmul(_m_pfsub(*(__m64 *)a4, *(__m64 *)a2), v10));
  a1[1].m64_u64 = (unsigned __int64)v11;
  _m_femms();
  return result;
}

//----- (0044BE00) --------------------------------------------------------
__m64 *__stdcall sub_44BE00(__m64 *a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm2@1
  __m64 v9; // mm7@1
  __m64 v10; // mm4@1
  __m64 v11; // mm6@1
  __m64 v12; // mm1@1
  __m64 v13; // mm2@1
  __m64 v14; // mm5@1
  __m64 v15; // mm1@1
  __m64 v16; // mm6@1
  __m64 v17; // mm2@1
  __m64 v18; // mm7@1
  __m64 v19; // mm1@1
  __m64 v20; // mm6@1
  __m64 v21; // mm2@1
  __m64 *result; // eax@1
  __m64 v23; // mm0@1

  _m_femms();
  v6 = _mm_cvtsi32_si64(a6);
  v7 = _m_pfmul(v6, v6);
  v8 = _m_pfmul(v7, v6);
  v9 = _m_pfsub(v8, v7);
  v10 = _m_pfmul(v7, (__m64)qword_490770);
  v11 = v8;
  v12 = _m_pfmul(v7, (__m64)qword_490778);
  v13 = _m_pfmul(v8, (__m64)qword_490770);
  v14 = v12;
  v15 = _m_pfsub(v12, v13);
  v16 = _m_pfadd(_m_pfsub(v11, v10), v6);
  v17 = _m_pfadd(_m_pfsub(v13, v14), (__m64)qword_490760);
  v18 = _m_punpckldq(v9, v9);
  v19 = _m_punpckldq(v15, v15);
  v20 = _m_punpckldq(v16, v16);
  v21 = _m_punpckldq(v17, v17);
  result = a1;
  v23 = _m_pfadd(
          _m_pfadd(_m_pfmul(v19, *(__m64 *)(a4 + 8)), _m_pfmul(v18, *(__m64 *)(a5 + 8))),
          _m_pfadd(_m_pfmul(v21, *(__m64 *)(a2 + 8)), _m_pfmul(v20, *(__m64 *)(a3 + 8))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v19, *(__m64 *)a4), _m_pfmul(v18, *(__m64 *)a5)),
                                    _m_pfadd(_m_pfmul(v21, *(__m64 *)a2), _m_pfmul(v20, *(__m64 *)a3)));
  a1[1].m64_u64 = (unsigned __int64)v23;
  _m_femms();
  return result;
}
// 490760: using guessed type __int64 qword_490760;
// 490770: using guessed type __int64 qword_490770;
// 490778: using guessed type __int64 qword_490778;

//----- (0044BEC8) --------------------------------------------------------
int __stdcall sub_44BEC8(int a1, int a2, int a3, int a4, int a5, unsigned int a6)
{
  __m64 v6; // mm0@1
  __m64 v7; // mm1@1
  __m64 v8; // mm0@1
  __m64 v9; // mm1@1
  __m64 v10; // mm0@1
  __m64 v11; // mm3@1
  __m64 v12; // mm1@1
  __m64 v13; // mm0@1
  __m64 v14; // mm4@1
  __m64 v15; // mm0@1
  __m64 v16; // mm5@1
  __m64 v17; // mm0@1
  __m64 v18; // mm1@1
  __m64 v19; // mm0@1
  __m64 v20; // mm2@1
  __m64 v21; // mm1@1
  __m64 v22; // mm3@1
  __m64 v23; // mm0@1
  __m64 v24; // mm2@1
  __m64 v25; // mm3@1
  int result; // eax@1
  __m64 v27; // mm4@1

  v6 = _mm_cvtsi32_si64(a6);
  v7 = v6;
  v8 = _m_punpckldq(v6, v6);
  v9 = _m_punpckldq(v7, (__m64)(unsigned int)qword_4906D8);
  v10 = _m_pfmul(_m_pfmul(v8, v8), v9);
  v11 = v9;
  v12 = _m_pfmul(v9, v9);
  v13 = _m_pfsub(v10, v12);
  v14 = v13;
  v15 = _m_pfmul(v13, (__m64)qword_4906E8);
  v16 = v15;
  v17 = _m_punpckldq(v15, v14);
  v18 = _m_pfsub(_m_pfadd(_m_punpckldq(v12, v12), _m_pxor(_m_punpckldq(v11, v11), (__m64)qword_4906F8)), v17);
  v19 = _m_pfsub(v17, _m_punpckhdq(v16, 0i64));
  v20 = v18;
  v21 = _m_punpckhdq(v18, v18);
  v22 = v19;
  v23 = _m_punpckldq(v19, v19);
  v24 = _m_punpckldq(v20, v20);
  v25 = _m_punpckhdq(v22, v22);
  result = a1;
  v27 = _m_pfadd(
          _m_pfadd(
            _m_pfadd(_m_pfmul(v21, *(__m64 *)(a2 + 8)), _m_pfmul(v23, *(__m64 *)(a3 + 8))),
            _m_pfmul(v24, *(__m64 *)(a4 + 8))),
          _m_pfmul(v25, *(__m64 *)(a5 + 8)));
  *(__m64 *)a1 = _m_pfmul(
                   _m_pfadd(
                     _m_pfadd(
                       _m_pfadd(_m_pfmul(v23, *(__m64 *)a3), _m_pfmul(v21, *(__m64 *)a2)),
                       _m_pfmul(v24, *(__m64 *)a4)),
                     _m_pfmul(v25, *(__m64 *)a5)),
                   (__m64)qword_490740);
  *(__m64 *)(a1 + 8) = _m_pfmul(v27, (__m64)qword_490740);
  _m_femms();
  return result;
}
// 4906D8: using guessed type __int64 qword_4906D8;
// 4906E8: using guessed type __int64 qword_4906E8;
// 4906F8: using guessed type __int64 qword_4906F8;
// 490740: using guessed type __int64 qword_490740;

//----- (0044C18B) --------------------------------------------------------
int __stdcall sub_44C18B(int a1, int a2)
{
  __m64 v2; // mm0@1
  __m64 v3; // mm2@1
  __m64 v4; // mm1@1
  __m64 v5; // mm3@1
  __m64 v6; // mm2@1
  __m64 v7; // mm0@1
  __m64 v8; // mm0@1
  __m64 v9; // mm4@1
  __m64 v10; // mm5@1
  int result; // eax@1
  __m64 v12; // mm0@1

  v2 = *(__m64 *)a2;
  v3 = *(__m64 *)(a2 + 8);
  v4 = v2;
  v5 = v3;
  v6 = _m_pand(v3, (__m64)qword_490728);
  v7 = _m_pfadd(_m_pfmul(v2, v2), _m_pfmul(v6, v6));
  v8 = _m_pfacc(v7, v7);
  v9 = _m_pfrsqrt(v8);
  v10 = _m_pfcmpgt(v8, (__m64)qword_490748);
  result = a1;
  v12 = _m_pfrcpit2(_m_pfrsqit1(v8, _m_pfmul(v9, v9)), v9);
  *(__m64 *)a1 = _m_pfmul(_m_pand(v4, v10), v12);
  *(__m64 *)(a1 + 8) = _m_pfmul(_m_pand(v5, v10), v12);
  _m_femms();
  return result;
}
// 490728: using guessed type __int64 qword_490728;
// 490748: using guessed type __int64 qword_490748;

//----- (0044C1EF) --------------------------------------------------------
__m64 *__stdcall sub_44C1EF(__m64 *a1, int a2, int a3)
{
  __m64 v3; // mm0@1
  __m64 v4; // mm1@1
  __m64 v5; // mm0@1
  __m64 v6; // mm1@1
  __m64 v7; // mm2@1
  __m64 v8; // mm3@1
  __m64 v9; // mm2@1
  __m64 v10; // mm3@1
  __m64 *result; // eax@1
  __m64 v12; // mm4@1

  _m_femms();
  v3 = *(__m64 *)a2;
  v4 = v3;
  v5 = _m_punpckldq(v3, v3);
  v6 = _m_punpckhdq(v4, v4);
  v7 = *(__m64 *)(a2 + 8);
  v8 = v7;
  v9 = _m_punpckldq(v7, v7);
  v10 = _m_punpckhdq(v8, v8);
  result = a1;
  v12 = _m_pfadd(
          _m_pfadd(_m_pfmul(v5, *(__m64 *)(a3 + 8)), _m_pfmul(v6, *(__m64 *)(a3 + 24))),
          _m_pfadd(_m_pfmul(v9, *(__m64 *)(a3 + 40)), _m_pfmul(v10, *(__m64 *)(a3 + 56))));
  a1->m64_u64 = (unsigned __int64)_m_pfadd(
                                    _m_pfadd(_m_pfmul(v5, *(__m64 *)a3), _m_pfmul(v6, *(__m64 *)(a3 + 16))),
                                    _m_pfadd(_m_pfmul(v9, *(__m64 *)(a3 + 32)), _m_pfmul(v10, *(__m64 *)(a3 + 48))));
  a1[1].m64_u64 = (unsigned __int64)v12;
  _m_femms();
  return result;
}

//----- (0044C26D) --------------------------------------------------------
int (__stdcall *__stdcall sub_44C26D(int a1, int a2, _DWORD *a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax@8
  int (__stdcall *result)(_DWORD, _DWORD, _DWORD); // eax@8

  if ( a3 )
    *a3 = *(_DWORD *)(a1 + 60);
  if ( *(_DWORD *)a1 == 4 || *(_DWORD *)a1 == 5 )
    (*(void (__stdcall **)(_DWORD, _DWORD))(a2 + 36))(*(_DWORD *)(a2 + 40), *(_DWORD *)(a1 + 12));
  if ( *(_DWORD *)a1 == 6 )
    sub_451FA2(*(_DWORD *)(a1 + 4), a2);
  v3 = *(_DWORD *)(a1 + 40);
  *(_DWORD *)(a1 + 52) = v3;
  *(_DWORD *)(a1 + 48) = v3;
  result = *(int (__stdcall **)(_DWORD, _DWORD, _DWORD))(a1 + 56);
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 28) = 0;
  *(_DWORD *)(a1 + 32) = 0;
  if ( result )
  {
    result = (int (__stdcall *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    *(_DWORD *)(a1 + 60) = result;
    *(_DWORD *)(a2 + 48) = result;
  }
  return result;
}

//----- (0044C2D3) --------------------------------------------------------
int __stdcall sub_44C2D3(int a1, int a2, int a3)
{
  int v3; // edi@1
  int v4; // eax@2
  int result; // eax@4
  int v6; // eax@5

  v3 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, 64);
  if ( !v3 )
    return 0;
  v4 = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a1 + 32))(*(_DWORD *)(a1 + 40), 8, 1440);
  *(_DWORD *)(v3 + 36) = v4;
  if ( !v4 )
  {
    (*(void (__stdcall **)(_DWORD, int))(a1 + 36))(*(_DWORD *)(a1 + 40), v3);
    return 0;
  }
  v6 = (*(int (__stdcall **)(_DWORD, signed int, int))(a1 + 32))(*(_DWORD *)(a1 + 40), 1, a3);
  *(_DWORD *)(v3 + 40) = v6;
  if ( v6 )
  {
    *(_DWORD *)v3 = 0;
    *(_DWORD *)(v3 + 44) = a3 + v6;
    *(_DWORD *)(v3 + 56) = a2;
    sub_44C26D(v3, a1, 0);
    result = v3;
  }
  else
  {
    (*(void (__stdcall **)(_DWORD, _DWORD))(a1 + 36))(*(_DWORD *)(a1 + 40), *(_DWORD *)(v3 + 36));
    (*(void (__stdcall **)(_DWORD, int))(a1 + 36))(*(_DWORD *)(a1 + 40), v3);
    result = 0;
  }
  return result;
}

//----- (0044C351) --------------------------------------------------------
int __stdcall sub_44C351(int a1, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // esi@1
  unsigned int v6; // eax@1
  _BYTE *v7; // edi@1
  unsigned int v8; // ecx@2
  int v9; // eax@4
  bool v10; // cf@4
  int v11; // eax@6
  unsigned int v12; // eax@8
  int v14; // eax@14
  unsigned int v15; // eax@16
  int v16; // eax@17
  int v17; // eax@18
  unsigned int v18; // eax@20
  int v19; // eax@21
  int v20; // eax@23
  int v21; // ecx@25
  unsigned int v22; // eax@25
  unsigned int v23; // ecx@26
  int v24; // eax@28
  int v25; // ecx@35
  unsigned int v26; // eax@36
  unsigned int v27; // edx@36
  int v28; // eax@41
  unsigned int v29; // ecx@41
  int v30; // edx@44
  unsigned int v31; // eax@52
  const void *v32; // esi@56
  void *v33; // edi@56
  unsigned int v34; // ecx@58
  int v35; // eax@60
  unsigned int v36; // eax@62
  unsigned int v37; // ecx@62
  unsigned int v38; // eax@63
  int v39; // eax@64
  unsigned int i; // ecx@66
  int v41; // eax@68
  char v42; // al@70
  int v43; // ecx@70
  int v44; // edx@70
  int v45; // ST1C_4@75
  _DWORD *v46; // ST10_4@75
  unsigned int v47; // eax@77
  int v48; // edx@79
  int v49; // eax@81
  int v50; // ecx@81
  unsigned int v51; // edx@81
  signed int v52; // eax@84
  int v53; // edx@88
  unsigned int v54; // ecx@90
  int v55; // eax@93
  unsigned int v56; // eax@98
  int v57; // ST1C_4@98
  _DWORD *v58; // ST08_4@98
  int v59; // eax@99
  int v60; // ST20_4@100
  unsigned int v61; // eax@101
  int v62; // eax@101
  unsigned int v63; // ecx@102
  unsigned int v64; // eax@102
  int v65; // eax@103
  bool v66; // zf@113
  int v67; // ecx@123
  int v68; // [sp-4h] [bp-44h]@5
  int v69; // [sp+Ch] [bp-34h]@98
  int v70; // [sp+10h] [bp-30h]@98
  unsigned int v71; // [sp+14h] [bp-2Ch]@44
  int v72; // [sp+18h] [bp-28h]@23
  int v73; // [sp+1Ch] [bp-24h]@23
  int v74; // [sp+20h] [bp-20h]@23
  int v75; // [sp+24h] [bp-1Ch]@23
  unsigned int v76; // [sp+28h] [bp-18h]@41
  _BYTE *v77; // [sp+2Ch] [bp-14h]@1
  unsigned int v78; // [sp+30h] [bp-10h]@4
  unsigned int v79; // [sp+34h] [bp-Ch]@1
  unsigned int v80; // [sp+38h] [bp-8h]@1
  unsigned int v81; // [sp+3Ch] [bp-4h]@1
  unsigned int v82; // [sp+48h] [bp+8h]@1
  int v83; // [sp+48h] [bp+8h]@25
  int v84; // [sp+50h] [bp+10h]@41

  v3 = a1;
  v4 = *(_DWORD *)(a1 + 48);
  v5 = a2;
  v80 = *(_DWORD *)(a2 + 4);
  v81 = *(_DWORD *)(a1 + 32);
  v82 = *(_DWORD *)(a1 + 28);
  v6 = *(_DWORD *)(v3 + 52);
  v7 = *(_BYTE **)a2;
  v77 = *(_BYTE **)a2;
  v79 = v6;
  if ( v6 >= v4 )
    v8 = *(_DWORD *)(v3 + 44) - v6;
  else
    v8 = v4 - v6 - 1;
  v9 = *(_DWORD *)v3;
  v10 = *(_DWORD *)v3 < 9u;
  v66 = *(_DWORD *)v3 == 9;
  v78 = v8;
  if ( !v10 && !v66 )
  {
LABEL_5:
    v68 = -2;
    goto LABEL_6;
  }
  while ( 1 )
  {
    switch ( v9 )
    {
      case 0:
        while ( 2 )
        {
          if ( v82 < 3 )
          {
            if ( v80 )
            {
              v14 = *v7;
              a3 = 0;
              --v80;
              v81 |= v14 << v82;
              ++v7;
              v82 += 8;
              v77 = v7;
              continue;
            }
LABEL_114:
            v68 = a3;
            *(_DWORD *)(v3 + 32) = v81;
            *(_DWORD *)(v3 + 28) = v82;
            *(_DWORD *)(v5 + 4) = 0;
            goto LABEL_8;
          }
          break;
        }
        v15 = (v81 & 7) >> 1;
        *(_DWORD *)(v3 + 24) = v81 & 1;
        if ( !v15 )
        {
          v83 = v82 - 3;
          v21 = v83 & 7;
          v22 = v81 >> 3 >> v21;
          v82 = v83 - v21;
          *(_DWORD *)v3 = 1;
          v81 = v22;
          goto LABEL_107;
        }
        v16 = v15 - 1;
        if ( v16 )
        {
          v17 = v16 - 1;
          if ( v17 )
          {
            if ( v17 == 1 )
            {
              v18 = v81 >> 3;
              *(_DWORD *)v3 = 9;
              *(_DWORD *)(v5 + 24) = "invalid block type";
              *(_DWORD *)(v3 + 32) = v18;
              v11 = v82 - 3;
              v68 = -3;
              goto LABEL_7;
            }
            goto LABEL_107;
          }
          v81 >>= 3;
          v19 = 3;
          v82 -= 3;
LABEL_22:
          *(_DWORD *)v3 = v19;
          goto LABEL_107;
        }
        sub_4524A5(&v72, &v73, &v74, &v75, v5);
        v20 = sub_451A18(v72, v73, v74, v75, v5);
        *(_DWORD *)(v3 + 4) = v20;
        if ( !v20 )
          goto LABEL_120;
        v81 >>= 3;
        v82 -= 3;
        *(_DWORD *)v3 = 6;
LABEL_107:
        v9 = *(_DWORD *)v3;
        v7 = v77;
        v5 = a2;
        if ( *(_DWORD *)v3 > 9u )
          goto LABEL_5;
        v8 = v78;
        break;
      case 1:
        v23 = v82;
        while ( 2 )
        {
          if ( v23 >= 0x20 )
          {
            if ( ~v81 >> 16 != (unsigned __int16)v81 )
            {
              *(_DWORD *)v3 = 9;
              *(_DWORD *)(v5 + 24) = "invalid stored block lengths";
              goto LABEL_110;
            }
            *(_DWORD *)(v3 + 4) = (unsigned __int16)v81;
            v66 = *(_DWORD *)(v3 + 4) == 0;
            v82 = 0;
            v81 = 0;
            if ( v66 )
LABEL_57:
              v19 = *(_DWORD *)(v3 + 24) != 0 ? 7 : 0;
            else
              v19 = 2;
            goto LABEL_22;
          }
          if ( v80 )
          {
            v24 = *v7;
            a3 = 0;
            --v80;
            v81 |= v24 << v23;
            ++v7;
            v23 += 8;
            v77 = v7;
            v82 = v23;
            continue;
          }
          goto LABEL_114;
        }
      case 2:
        if ( !v80 )
          goto LABEL_114;
        if ( !v8 )
        {
          if ( (v25 = *(_DWORD *)(v3 + 44), v79 != v25)
            || (v26 = *(_DWORD *)(v3 + 48), v27 = *(_DWORD *)(v3 + 40), v27 == v26)
            || ((v79 = *(_DWORD *)(v3 + 40), v27 >= v26) ? (v8 = v25 - v27) : (v8 = v26 - v27 - 1), (v78 = v8) == 0) )
          {
            *(_DWORD *)(v3 + 52) = v79;
            v28 = sub_4524D6(v3, v5, a3);
            v29 = *(_DWORD *)(v3 + 48);
            v84 = v28;
            v79 = *(_DWORD *)(v3 + 52);
            v12 = v79;
            v76 = v29;
            if ( v79 >= v29 )
              v8 = *(_DWORD *)(v3 + 44) - v79;
            else
              v8 = v29 - v79 - 1;
            v30 = *(_DWORD *)(v3 + 44);
            v78 = v8;
            v71 = v30;
            if ( v79 == v30 )
            {
              v12 = *(_DWORD *)(v3 + 40);
              if ( v12 == v76 )
              {
                v12 = v79;
              }
              else
              {
                v79 = *(_DWORD *)(v3 + 40);
                if ( v12 >= v76 )
                  v8 = v71 - v12;
                else
                  v8 = v76 - v12 - 1;
                v78 = v8;
              }
            }
            if ( !v8 )
            {
              v68 = v84;
              *(_DWORD *)(v3 + 32) = v81;
              *(_DWORD *)(v3 + 28) = v82;
              *(_DWORD *)(v5 + 4) = v80;
              *(_DWORD *)(v5 + 8) += &v7[-*(_DWORD *)v5];
              goto LABEL_9;
            }
          }
        }
        v31 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v31 > v80 )
          v31 = v80;
        if ( v31 > v8 )
          v31 = v8;
        v32 = v77;
        v33 = (void *)v79;
        v77 += v31;
        v80 -= v31;
        v79 += v31;
        v78 -= v31;
        qmemcpy(v33, v32, v31);
        v66 = *(_DWORD *)(v3 + 4) == v31;
        *(_DWORD *)(v3 + 4) -= v31;
        if ( v66 )
          goto LABEL_57;
        goto LABEL_107;
      case 3:
        v34 = v82;
        while ( 2 )
        {
          if ( v34 < 0xE )
          {
            if ( v80 )
            {
              v35 = *v7;
              a3 = 0;
              --v80;
              v81 |= v35 << v34;
              ++v7;
              v34 += 8;
              v82 = v34;
              continue;
            }
            goto LABEL_114;
          }
          break;
        }
        v36 = v81 & 0x3FFF;
        v37 = v81 & 0x1F;
        *(_DWORD *)(v3 + 4) = v36;
        if ( v37 > 0x1D || (v38 = (v36 >> 5) & 0x1F, v38 > 0x1D) )
        {
          *(_DWORD *)v3 = 9;
          *(_DWORD *)(v5 + 24) = "too many length or distance symbols";
          goto LABEL_110;
        }
        v39 = (*(int (__stdcall **)(_DWORD, int, signed int))(v5 + 32))(*(_DWORD *)(v5 + 40), v38 + v37 + 258, 4);
        *(_DWORD *)(v3 + 12) = v39;
        if ( !v39 )
        {
LABEL_120:
          v68 = -4;
          goto LABEL_6;
        }
        v81 >>= 14;
        v82 -= 14;
        *(_DWORD *)(v3 + 8) = 0;
        *(_DWORD *)v3 = 4;
LABEL_71:
        while ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        {
          for ( i = v82; i < 3; v82 = i )
          {
            if ( !v80 )
              goto LABEL_114;
            v41 = *v7;
            a3 = 0;
            --v80;
            v81 |= v41 << i;
            ++v7;
            i += 8;
          }
          v42 = v81;
          v43 = dword_4935F8[*(_DWORD *)(v3 + 8)];
          v44 = *(_DWORD *)(v3 + 12);
          v81 >>= 3;
          *(_DWORD *)(v44 + 4 * v43) = v42 & 7;
          ++*(_DWORD *)(v3 + 8);
          v82 -= 3;
        }
        while ( *(_DWORD *)(v3 + 8) < 0x13u )
          *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * dword_4935F8[(*(_DWORD *)(v3 + 8))++]) = 0;
        v45 = *(_DWORD *)(v3 + 36);
        v46 = *(_DWORD **)(v3 + 12);
        *(_DWORD *)(v3 + 16) = 7;
        v78 = sub_452332(v46, (unsigned int *)(v3 + 16), (_DWORD *)(v3 + 20), v45, v5);
        if ( v78 )
        {
          v66 = v78 == -3;
LABEL_117:
          if ( v66 )
          {
            (*(void (__stdcall **)(_DWORD, _DWORD))(v5 + 36))(*(_DWORD *)(v5 + 40), *(_DWORD *)(v3 + 12));
            *(_DWORD *)v3 = 9;
          }
          v68 = v78;
          goto LABEL_6;
        }
        *(_DWORD *)(v3 + 8) = 0;
        *(_DWORD *)v3 = 5;
        while ( 1 )
        {
          while ( 1 )
          {
LABEL_97:
            if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
            {
              v56 = *(_DWORD *)(v3 + 4);
              *(_DWORD *)(v3 + 20) = 0;
              v57 = *(_DWORD *)(v3 + 36);
              v58 = *(_DWORD **)(v3 + 12);
              v76 = 9;
              v77 = (_BYTE *)6;
              v78 = sub_4523AB(
                      (v56 & 0x1F) + 257,
                      ((v56 >> 5) & 0x1F) + 1,
                      v58,
                      &v76,
                      (unsigned int *)&v77,
                      &v69,
                      &v70,
                      v57,
                      v5);
              if ( v78 )
              {
                v66 = v78 == -3;
                goto LABEL_117;
              }
              v59 = sub_451A18(v76, (char)v77, v69, v70, v5);
              if ( !v59 )
                goto LABEL_120;
              v60 = *(_DWORD *)(v3 + 12);
              *(_DWORD *)(v3 + 4) = v59;
              (*(void (__stdcall **)(_DWORD, int))(v5 + 36))(*(_DWORD *)(v5 + 40), v60);
              *(_DWORD *)v3 = 6;
LABEL_101:
              *(_DWORD *)(v3 + 32) = v81;
              *(_DWORD *)(v3 + 28) = v82;
              *(_DWORD *)(v5 + 4) = v80;
              *(_DWORD *)(v5 + 8) += &v7[-*(_DWORD *)v5];
              v61 = v79;
              *(_DWORD *)v5 = v7;
              *(_DWORD *)(v3 + 52) = v61;
              v62 = sub_451A4B(v3, v5, a3);
              if ( v62 != 1 )
                return sub_4524D6(v3, v5, v62);
              a3 = 0;
              sub_451FA2(*(_DWORD *)(v3 + 4), v5);
              v63 = *(_DWORD *)(v3 + 52);
              v7 = *(_BYTE **)v5;
              v80 = *(_DWORD *)(v5 + 4);
              v81 = *(_DWORD *)(v3 + 32);
              v82 = *(_DWORD *)(v3 + 28);
              v64 = *(_DWORD *)(v3 + 48);
              v77 = v7;
              v79 = v63;
              if ( v63 >= v64 )
                v65 = *(_DWORD *)(v3 + 44) - v79;
              else
                v65 = v64 - v63 - 1;
              v66 = *(_DWORD *)(v3 + 24) == 0;
              v78 = v65;
              if ( !v66 )
              {
                *(_DWORD *)v3 = 7;
LABEL_122:
                *(_DWORD *)(v3 + 52) = v79;
                v62 = sub_4524D6(v3, v5, a3);
                v66 = *(_DWORD *)(v3 + 48) == *(_DWORD *)(v3 + 52);
                v79 = *(_DWORD *)(v3 + 52);
                if ( v66 )
                {
                  *(_DWORD *)v3 = 8;
LABEL_126:
                  v68 = 1;
                  goto LABEL_6;
                }
                *(_DWORD *)(v3 + 32) = v81;
                *(_DWORD *)(v3 + 28) = v82;
                *(_DWORD *)(v5 + 4) = v80;
                v67 = (int)&v7[-*(_DWORD *)v5];
                *(_DWORD *)v5 = v7;
                *(_DWORD *)(v5 + 8) += v67;
                *(_DWORD *)(v3 + 52) = v79;
                return sub_4524D6(v3, v5, v62);
              }
              *(_DWORD *)v3 = 0;
              goto LABEL_107;
            }
            v47 = *(_DWORD *)(v3 + 16);
            while ( v82 < v47 )
            {
              if ( !v80 )
                goto LABEL_114;
              v48 = *v7;
              a3 = 0;
              --v80;
              v81 |= v48 << v82;
              ++v7;
              v82 += 8;
            }
            v49 = *(_DWORD *)(v3 + 20) + 8 * (v81 & dword_4BAC60[v47]);
            v50 = *(_BYTE *)(v49 + 1);
            v51 = *(_DWORD *)(v49 + 4);
            v78 = *(_BYTE *)(v49 + 1);
            v71 = v51;
            if ( v51 >= 0x10 )
              break;
            v81 >>= v50;
            v82 -= v50;
            *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * (*(_DWORD *)(v3 + 8))++) = v51;
          }
          v52 = v51 == 18 ? 7 : v51 - 14;
          v77 = (_BYTE *)(8 * (v51 == 18) + 3);
          while ( v82 < v52 + v78 )
          {
            if ( !v80 )
              goto LABEL_114;
            v53 = *v7;
            a3 = 0;
            --v80;
            v81 |= v53 << v82;
            ++v7;
            v82 += 8;
          }
          v81 >>= v78;
          v77 += v81 & dword_4BAC60[v52];
          v81 >>= v52;
          v82 -= v78 + v52;
          v54 = *(_DWORD *)(v3 + 8);
          if ( (unsigned int)&v77[v54] > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
            break;
          if ( v71 == 16 )
          {
            if ( v54 < 1 )
              break;
            v55 = *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * v54 - 4);
          }
          else
          {
            v55 = 0;
          }
          do
          {
            *(_DWORD *)(*(_DWORD *)(v3 + 12) + 4 * v54++) = v55;
            --v77;
          }
          while ( v77 );
          *(_DWORD *)(v3 + 8) = v54;
        }
        (*(void (__stdcall **)(_DWORD, _DWORD))(v5 + 36))(*(_DWORD *)(v5 + 40), *(_DWORD *)(v3 + 12));
        *(_DWORD *)v3 = 9;
        *(_DWORD *)(v5 + 24) = "invalid bit length repeat";
LABEL_110:
        v68 = -3;
LABEL_6:
        *(_DWORD *)(v3 + 32) = v81;
        v11 = v82;
LABEL_7:
        *(_DWORD *)(v3 + 28) = v11;
        *(_DWORD *)(v5 + 4) = v80;
LABEL_8:
        *(_DWORD *)(v5 + 8) += &v7[-*(_DWORD *)v5];
        v12 = v79;
LABEL_9:
        *(_DWORD *)v5 = v7;
        *(_DWORD *)(v3 + 52) = v12;
        return sub_4524D6(v3, v5, v68);
      case 4:
        goto LABEL_71;
      case 5:
        goto LABEL_97;
      case 6:
        goto LABEL_101;
      case 9:
        goto LABEL_110;
      case 7:
        goto LABEL_122;
      case 8:
        goto LABEL_126;
      default:
        goto LABEL_5;
    }
  }
}
// 4935F8: using guessed type int dword_4935F8[];
// 4BAC60: using guessed type int dword_4BAC60[];

//----- (0044CA9D) --------------------------------------------------------
int __stdcall sub_44CA9D(int a1, int a2)
{
  int v2; // esi@1

  v2 = a2;
  sub_44C26D(a1, a2, 0);
  (*(void (__stdcall **)(_DWORD, _DWORD))(v2 + 36))(*(_DWORD *)(v2 + 40), *(_DWORD *)(a1 + 40));
  (*(void (__stdcall **)(_DWORD, _DWORD))(v2 + 36))(*(_DWORD *)(v2 + 40), *(_DWORD *)(a1 + 36));
  (*(void (__stdcall **)(_DWORD, int))(v2 + 36))(*(_DWORD *)(v2 + 40), a1);
  return 0;
}

//----- (0044CAD0) --------------------------------------------------------
int __stdcall sub_44CAD0(unsigned int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // ecx@1
  unsigned int v4; // esi@1
  unsigned int v5; // edi@1
  int result; // eax@2
  unsigned int v7; // edx@4
  unsigned int v8; // eax@7
  int v9; // esi@8
  int v10; // edi@8
  int v11; // esi@8
  int v12; // edi@8
  int v13; // esi@8
  int v14; // edi@8
  int v15; // esi@8
  int v16; // edi@8
  int v17; // esi@8
  int v18; // edi@8
  int v19; // esi@8
  int v20; // edi@8
  int v21; // esi@8
  int v22; // edi@8
  int v23; // esi@8
  int v24; // edi@8
  int v25; // esi@8
  int v26; // edi@8
  int v27; // esi@8
  int v28; // edi@8
  int v29; // esi@8
  int v30; // edi@8
  int v31; // esi@8
  int v32; // edi@8
  int v33; // esi@8
  int v34; // edi@8
  int v35; // esi@8
  int v36; // edi@8
  int v37; // esi@8
  int v38; // edi@8

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( ; a3; v5 %= 0xFFF1u )
    {
      v7 = 5552;
      if ( a3 < 0x15B0 )
        v7 = a3;
      a3 -= v7;
      if ( (signed int)v7 >= 16 )
      {
        v8 = v7 >> 4;
        v7 += -16 * (v7 >> 4);
        do
        {
          v9 = *v3 + v4;
          v10 = v9 + v5;
          v11 = v3[1] + v9;
          v12 = v11 + v10;
          v13 = v3[2] + v11;
          v14 = v13 + v12;
          v15 = v3[3] + v13;
          v16 = v15 + v14;
          v17 = v3[4] + v15;
          v18 = v17 + v16;
          v19 = v3[5] + v17;
          v20 = v19 + v18;
          v21 = v3[6] + v19;
          v22 = v21 + v20;
          v23 = v3[7] + v21;
          v24 = v23 + v22;
          v25 = v3[8] + v23;
          v26 = v25 + v24;
          v27 = v3[9] + v25;
          v28 = v27 + v26;
          v29 = v3[10] + v27;
          v30 = v29 + v28;
          v31 = v3[11] + v29;
          v32 = v31 + v30;
          v33 = v3[12] + v31;
          v34 = v33 + v32;
          v35 = v3[13] + v33;
          v36 = v35 + v34;
          v37 = v3[14] + v35;
          v38 = v37 + v36;
          v4 = v3[15] + v37;
          v5 = v4 + v38;
          v3 += 16;
          --v8;
        }
        while ( v8 );
      }
      for ( ; v7; --v7 )
      {
        v4 += *v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (0044CBEB) --------------------------------------------------------
LPVOID __stdcall sub_44CBEB(int a1, int a2, int a3)
{
  HANDLE v3; // eax@1

  v3 = GetProcessHeap();
  return HeapAlloc(v3, 8u, a3 * a2);
}

//----- (0044CC07) --------------------------------------------------------
BOOL __stdcall sub_44CC07(int a1, LPVOID lpMem)
{
  HANDLE v2; // eax@1

  v2 = GetProcessHeap();
  return HeapFree(v2, 0, lpMem);
}

//----- (0044DD30) --------------------------------------------------------
char *__stdcall sub_44DD30(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // edx@1
  int v6; // esi@1
  int v7; // ecx@1
  char *v8; // eax@1
  __int16 v9; // bp@2
  int v10; // edi@2
  int v11; // edi@3
  int v12; // ST24_4@4
  unsigned __int16 v13; // bx@4
  int v14; // ST1C_4@4
  __int16 v15; // bp@4
  int v16; // ST30_4@4
  int v17; // esi@4
  int v18; // ST1C_4@4
  __int16 v19; // ST28_2@4
  __int16 v20; // bp@4
  int v21; // ST14_4@4
  unsigned __int16 v22; // di@4
  unsigned __int16 v23; // bx@4
  int v24; // ST18_4@4
  __int16 v25; // bp@4
  int v26; // edi@4
  int v27; // esi@4
  int v28; // ebx@4
  __int16 v29; // ST10_2@4
  int v30; // esi@4
  int v31; // ST14_4@4
  bool v32; // zf@5
  char *result; // eax@6
  int v34; // esi@7
  char v35; // dl@8
  __int16 v36; // bx@9
  unsigned __int16 v37; // bp@9
  __int16 v38; // di@9
  __int16 v39; // bx@9
  unsigned __int16 v40; // dx@9
  __int16 v41; // ST10_2@9
  int v42; // edx@9
  __int16 v43; // ST30_2@9
  __int16 v44; // ST1C_2@9
  __int16 v45; // di@9
  __int16 v46; // bx@9
  __int16 v47; // ST28_2@9
  unsigned __int16 v48; // di@9
  __int16 v49; // ST24_2@9
  int v50; // ebx@9
  __int16 v51; // ST10_2@9
  unsigned __int16 v52; // di@9
  __int16 v53; // ST18_2@9
  int v54; // ebp@9
  __int16 v55; // ST14_2@9
  int v56; // ebp@9
  int v57; // ebx@9
  int v58; // edi@9
  __int16 v59; // ST10_2@9
  int v60; // edi@9
  int v61; // ST14_4@9
  int v62; // ebp@10
  int v63; // ebx@10
  int v64; // edi@10
  int v65; // eax@10
  int v66; // esi@10
  char v67; // dl@11
  __int16 v68; // bx@12
  unsigned __int16 v69; // bp@12
  __int16 v70; // di@12
  __int16 v71; // bx@12
  unsigned __int16 v72; // dx@12
  __int16 v73; // ST10_2@12
  int v74; // edx@12
  __int16 v75; // ST30_2@12
  __int16 v76; // ST1C_2@12
  __int16 v77; // di@12
  __int16 v78; // bx@12
  __int16 v79; // ST28_2@12
  unsigned __int16 v80; // di@12
  __int16 v81; // ST24_2@12
  int v82; // ebx@12
  unsigned __int16 v83; // di@12
  int v84; // ST18_4@12
  __int16 v85; // ST14_2@12
  int v86; // ebp@12
  int v87; // edx@12
  int v88; // edi@12
  int v89; // ebx@12
  int v90; // edi@12
  __int16 v91; // ST10_2@12
  int v92; // edi@12
  int v93; // ST14_4@12
  int v94; // ebp@13
  int v95; // ebx@13
  int v96; // edi@13
  int v97; // eax@13
  int v98; // esi@13
  char v99; // dl@14
  __int16 v100; // bx@15
  unsigned __int16 v101; // bp@15
  __int16 v102; // di@15
  __int16 v103; // bx@15
  unsigned __int16 v104; // dx@15
  __int16 v105; // ST10_2@15
  int v106; // edx@15
  __int16 v107; // ST30_2@15
  __int16 v108; // ST1C_2@15
  __int16 v109; // di@15
  __int16 v110; // bx@15
  __int16 v111; // ST28_2@15
  unsigned __int16 v112; // di@15
  __int16 v113; // ST24_2@15
  int v114; // ebx@15
  __int16 v115; // ST10_2@15
  unsigned __int16 v116; // di@15
  __int16 v117; // ST18_2@15
  int v118; // ebp@15
  __int16 v119; // ST14_2@15
  int v120; // ebp@15
  int v121; // ebx@15
  int v122; // edi@15
  __int16 v123; // ST10_2@15
  int v124; // edi@15
  int v125; // ST14_4@15
  int v126; // ebp@16
  int v127; // ebx@16
  int v128; // edi@16
  int v129; // eax@16
  int v130; // esi@16
  char v131; // dl@17
  __int16 v132; // bx@18
  unsigned __int16 v133; // bp@18
  __int16 v134; // di@18
  __int16 v135; // bx@18
  unsigned __int16 v136; // dx@18
  __int16 v137; // ST10_2@18
  int v138; // edx@18
  __int16 v139; // ST30_2@18
  __int16 v140; // ST1C_2@18
  __int16 v141; // di@18
  __int16 v142; // bx@18
  __int16 v143; // ST28_2@18
  unsigned __int16 v144; // di@18
  __int16 v145; // ST24_2@18
  int v146; // ebx@18
  unsigned __int16 v147; // di@18
  int v148; // ST18_4@18
  __int16 v149; // ST14_2@18
  int v150; // ebp@18
  int v151; // edx@18
  int v152; // edi@18
  int v153; // ebx@18
  int v154; // edi@18
  __int16 v155; // ST10_2@18
  int v156; // edi@18
  int v157; // ST14_4@18
  __int16 v158; // [sp+14h] [bp-128h]@2
  unsigned __int16 v159; // [sp+18h] [bp-124h]@2
  __int16 v160; // [sp+1Ch] [bp-120h]@2
  int v161; // [sp+20h] [bp-11Ch]@0
  __int16 v162; // [sp+20h] [bp-11Ch]@2
  __int16 v163; // [sp+28h] [bp-114h]@2
  int v164; // [sp+2Ch] [bp-110h]@1
  int v165; // [sp+2Ch] [bp-110h]@6
  signed int v166; // [sp+34h] [bp-108h]@1
  signed int v167; // [sp+34h] [bp-108h]@6
  __int16 v168; // [sp+38h] [bp-104h]@2
  char v169; // [sp+3Ch] [bp-100h]@1

  v5 = *(_DWORD *)(a2 + 80);
  v6 = a3;
  v7 = *(_DWORD *)(a1 + 328) + 128;
  v164 = a3;
  v8 = &v169;
  v166 = 8;
  do
  {
    v9 = *(_WORD *)(v6 + 64);
    v159 = *(_WORD *)(v6 + 112);
    v160 = *(_WORD *)(v6 + 96);
    LOWORD(v161) = *(_WORD *)(v6 + 80);
    v158 = *(_WORD *)(v6 + 48);
    v168 = *(_WORD *)(v6 + 16);
    v163 = *(_WORD *)(v6 + 32);
    HIWORD(v10) = HIWORD(v161);
    if ( v159 | (unsigned __int16)(v160 | v161 | v9 | v158 | v163 | v168) )
    {
      LOWORD(v6) = *(_WORD *)v5 * *(_WORD *)v6;
      LOWORD(v10) = v163 * *(_WORD *)(v5 + 32);
      v12 = (unsigned __int16)(v9 * *(_WORD *)(v5 + 64));
      v13 = v160 * *(_WORD *)(v5 + 96);
      v14 = v6 + v12;
      v15 = v6 - v12;
      v16 = v13 + v10 + v6 + v12;
      v17 = (362 * ((signed __int16)v10 - (signed __int16)v13) >> 8) - (v13 + v10);
      v18 = v14 - (v13 + v10);
      v19 = v17 + v15;
      v20 = v15 - v17;
      LOWORD(v17) = v168 * *(_WORD *)(v5 + 16);
      v21 = (unsigned __int16)(v158 * *(_WORD *)(v5 + 48));
      v22 = v162 * *(_WORD *)(v5 + 80);
      v23 = v159 * *(_WORD *)(v5 + 112);
      LOWORD(v12) = v20;
      v24 = v22 + v21;
      v25 = v22 - v21;
      LOWORD(v21) = v23 + v17;
      v161 = v24 + v23 + v17;
      v26 = (signed __int16)(v17 - v23);
      v27 = (-669 * v25 >> 8) - v161;
      v28 = 473 * (v25 + v26) >> 8;
      v29 = v28 + v27;
      v30 = (362 * ((signed __int16)v21 - (signed __int16)v24) >> 8) - (v28 + v27);
      v31 = v30 + (277 * v26 >> 8) - v28;
      *((_DWORD *)v8 + 56) = (signed __int16)v16 - (signed __int16)v161;
      *(_DWORD *)v8 = (signed __int16)v16 + (signed __int16)v161;
      *((_DWORD *)v8 + 48) = v19 - v29;
      *((_DWORD *)v8 + 40) = (signed __int16)v12 - (signed __int16)v30;
      *((_DWORD *)v8 + 16) = (signed __int16)v12 + (signed __int16)v30;
      *((_DWORD *)v8 + 24) = (signed __int16)v18 - (signed __int16)v31;
      v6 = v164;
      *((_DWORD *)v8 + 8) = v29 + v19;
      *((_DWORD *)v8 + 32) = (signed __int16)v31 + (signed __int16)v18;
    }
    else
    {
      v11 = *(_WORD *)v5 * *(_WORD *)v6;
      *(_DWORD *)v8 = v11;
      *((_DWORD *)v8 + 8) = v11;
      *((_DWORD *)v8 + 16) = v11;
      *((_DWORD *)v8 + 24) = v11;
      *((_DWORD *)v8 + 32) = v11;
      *((_DWORD *)v8 + 40) = v11;
      *((_DWORD *)v8 + 48) = v11;
      *((_DWORD *)v8 + 56) = v11;
    }
    v6 += 2;
    v5 += 2;
    v8 += 4;
    v32 = v166 == 1;
    v164 = v6;
    --v166;
  }
  while ( !v32 );
  result = &v169;
  v165 = a4 + 8;
  v167 = 2;
  do
  {
    v34 = a5 + *(_DWORD *)(v165 - 8);
    if ( *((_DWORD *)result + 1) | *((_DWORD *)result + 2) | *((_DWORD *)result + 3) | *((_DWORD *)result + 4) | *((_DWORD *)result + 5) | *((_DWORD *)result + 6) | *((_DWORD *)result + 7) )
    {
      v36 = *((_WORD *)result + 8);
      v37 = *((_WORD *)result + 12);
      v38 = *(_WORD *)result + v36;
      v39 = *(_WORD *)result - v36;
      v40 = *((_WORD *)result + 4);
      v41 = v37 + v40;
      v42 = (362 * (*((_WORD *)result + 4) - (signed __int16)v37) >> 8) - (v37 + v40);
      v43 = v38 + v41;
      v44 = v38 - v41;
      v45 = v42 + v39;
      v46 = v39 - v42;
      LOWORD(v42) = *((_WORD *)result + 10);
      v47 = v45;
      v48 = *((_WORD *)result + 6);
      v49 = v46;
      v50 = v48 + (unsigned __int16)v42;
      v51 = v42 - v48;
      LOWORD(v42) = *((_WORD *)result + 2);
      v52 = *((_WORD *)result + 14);
      v53 = v50;
      v54 = (unsigned __int16)v42 + v52;
      LOWORD(v42) = v42 - v52;
      v55 = v54;
      v56 = v50 + v54;
      v57 = 473 * (v51 + (signed __int16)v42) >> 8;
      v58 = v57 + (-669 * v51 >> 8) - v56;
      v59 = v57 + (-669 * v51 >> 8) - v56;
      v60 = (362 * (v55 - v53) >> 8) - v58;
      v61 = v60 + (277 * (signed __int16)v42 >> 8) - v57;
      *(_BYTE *)v34 = *(_BYTE *)(((((signed __int16)v56 + v43) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 7) = *(_BYTE *)(v7 + (((v43 - (signed __int16)v56) >> 5) & 0x3FF));
      *(_BYTE *)(v34 + 6) = *(_BYTE *)(v7 + (((v47 - v59) >> 5) & 0x3FF));
      *(_BYTE *)(v34 + 2) = *(_BYTE *)((((v49 + (signed __int16)v60) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 5) = *(_BYTE *)((((v49 - (signed __int16)v60) >> 5) & 0x3FF) + v7);
      LOBYTE(v57) = *(_BYTE *)((((v59 + v47) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 4) = *(_BYTE *)((((v44 + (signed __int16)v61) >> 5) & 0x3FF) + v7);
      v35 = *(_BYTE *)((((v44 - (signed __int16)v61) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v34 + 1) = v57;
    }
    else
    {
      v35 = *(_BYTE *)(((*(_DWORD *)result >> 5) & 0x3FF) + v7);
      *(_BYTE *)v34 = v35;
      *(_BYTE *)(v34 + 1) = v35;
      *(_BYTE *)(v34 + 2) = v35;
      *(_BYTE *)(v34 + 4) = v35;
      *(_BYTE *)(v34 + 5) = v35;
      *(_BYTE *)(v34 + 6) = v35;
      *(_BYTE *)(v34 + 7) = v35;
    }
    v62 = *((_DWORD *)result + 14);
    v63 = *((_DWORD *)result + 13);
    v64 = *((_DWORD *)result + 12);
    *(_BYTE *)(v34 + 3) = v35;
    v65 = (int)(result + 32);
    v66 = a5 + *(_DWORD *)(v165 - 4);
    if ( *(_DWORD *)(v65 + 4) | *(_DWORD *)(v65 + 8) | *(_DWORD *)(v65 + 12) | v64 | v63 | v62 | *(_DWORD *)(v65 + 28) )
    {
      v68 = *(_WORD *)(v65 + 16);
      v69 = *(_WORD *)(v65 + 24);
      v70 = *(_WORD *)v65 + v68;
      v71 = *(_WORD *)v65 - v68;
      v72 = *(_WORD *)(v65 + 8);
      v73 = v69 + v72;
      v74 = (362 * (*(_WORD *)(v65 + 8) - (signed __int16)v69) >> 8) - (v69 + v72);
      v75 = v70 + v73;
      v76 = v70 - v73;
      v77 = v74 + v71;
      v78 = v71 - v74;
      LOWORD(v74) = *(_WORD *)(v65 + 20);
      v79 = v77;
      v80 = *(_WORD *)(v65 + 12);
      v81 = v78;
      v82 = v80 + (unsigned __int16)v74;
      LOWORD(v74) = v74 - v80;
      v83 = *(_WORD *)(v65 + 28);
      v84 = v82;
      LOWORD(v82) = v74;
      LOWORD(v74) = *(_WORD *)(v65 + 4);
      v85 = v74 + v83;
      v86 = v84 + (unsigned __int16)v74 + v83;
      v87 = (signed __int16)(v74 - v83);
      v88 = (signed __int16)v82;
      v89 = 473 * ((signed __int16)v82 + v87) >> 8;
      v90 = v89 + (-669 * v88 >> 8) - v86;
      v91 = v90;
      v92 = (362 * (v85 - (signed __int16)v84) >> 8) - v90;
      v93 = v92 + (277 * v87 >> 8) - v89;
      *(_BYTE *)v66 = *(_BYTE *)(((((signed __int16)v86 + v75) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 7) = *(_BYTE *)(v7 + (((v75 - (signed __int16)v86) >> 5) & 0x3FF));
      *(_BYTE *)(v66 + 6) = *(_BYTE *)(v7 + (((v79 - v91) >> 5) & 0x3FF));
      *(_BYTE *)(v66 + 2) = *(_BYTE *)((((v81 + (signed __int16)v92) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 5) = *(_BYTE *)((((v81 - (signed __int16)v92) >> 5) & 0x3FF) + v7);
      LOBYTE(v89) = *(_BYTE *)((((v91 + v79) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 4) = *(_BYTE *)((((v76 + (signed __int16)v93) >> 5) & 0x3FF) + v7);
      v67 = *(_BYTE *)((((v76 - (signed __int16)v93) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v66 + 1) = v89;
    }
    else
    {
      v67 = *(_BYTE *)(((*(_DWORD *)v65 >> 5) & 0x3FF) + v7);
      *(_BYTE *)v66 = v67;
      *(_BYTE *)(v66 + 1) = v67;
      *(_BYTE *)(v66 + 2) = v67;
      *(_BYTE *)(v66 + 4) = v67;
      *(_BYTE *)(v66 + 5) = v67;
      *(_BYTE *)(v66 + 6) = v67;
      *(_BYTE *)(v66 + 7) = v67;
    }
    v94 = *(_DWORD *)(v65 + 56);
    v95 = *(_DWORD *)(v65 + 52);
    v96 = *(_DWORD *)(v65 + 48);
    *(_BYTE *)(v66 + 3) = v67;
    v97 = v65 + 32;
    v98 = a5 + *(_DWORD *)v165;
    if ( *(_DWORD *)(v97 + 4) | *(_DWORD *)(v97 + 8) | *(_DWORD *)(v97 + 12) | v96 | v95 | v94 | *(_DWORD *)(v97 + 28) )
    {
      v100 = *(_WORD *)(v97 + 16);
      v101 = *(_WORD *)(v97 + 24);
      v102 = *(_WORD *)v97 + v100;
      v103 = *(_WORD *)v97 - v100;
      v104 = *(_WORD *)(v97 + 8);
      v105 = v101 + v104;
      v106 = (362 * (*(_WORD *)(v97 + 8) - (signed __int16)v101) >> 8) - (v101 + v104);
      v107 = v102 + v105;
      v108 = v102 - v105;
      v109 = v106 + v103;
      v110 = v103 - v106;
      LOWORD(v106) = *(_WORD *)(v97 + 20);
      v111 = v109;
      v112 = *(_WORD *)(v97 + 12);
      v113 = v110;
      v114 = v112 + (unsigned __int16)v106;
      v115 = v106 - v112;
      LOWORD(v106) = *(_WORD *)(v97 + 4);
      v116 = *(_WORD *)(v97 + 28);
      v117 = v114;
      v118 = (unsigned __int16)v106 + v116;
      LOWORD(v106) = v106 - v116;
      v119 = v118;
      v120 = v114 + v118;
      v121 = 473 * (v115 + (signed __int16)v106) >> 8;
      v122 = v121 + (-669 * v115 >> 8) - v120;
      v123 = v121 + (-669 * v115 >> 8) - v120;
      v124 = (362 * (v119 - v117) >> 8) - v122;
      v125 = v124 + (277 * (signed __int16)v106 >> 8) - v121;
      *(_BYTE *)v98 = *(_BYTE *)(((((signed __int16)v120 + v107) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 7) = *(_BYTE *)(v7 + (((v107 - (signed __int16)v120) >> 5) & 0x3FF));
      *(_BYTE *)(v98 + 6) = *(_BYTE *)(v7 + (((v111 - v123) >> 5) & 0x3FF));
      *(_BYTE *)(v98 + 2) = *(_BYTE *)((((v113 + (signed __int16)v124) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 5) = *(_BYTE *)((((v113 - (signed __int16)v124) >> 5) & 0x3FF) + v7);
      LOBYTE(v121) = *(_BYTE *)((((v123 + v111) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 4) = *(_BYTE *)((((v108 + (signed __int16)v125) >> 5) & 0x3FF) + v7);
      v99 = *(_BYTE *)((((v108 - (signed __int16)v125) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v98 + 1) = v121;
    }
    else
    {
      v99 = *(_BYTE *)(((*(_DWORD *)v97 >> 5) & 0x3FF) + v7);
      *(_BYTE *)v98 = v99;
      *(_BYTE *)(v98 + 1) = v99;
      *(_BYTE *)(v98 + 2) = v99;
      *(_BYTE *)(v98 + 4) = v99;
      *(_BYTE *)(v98 + 5) = v99;
      *(_BYTE *)(v98 + 6) = v99;
      *(_BYTE *)(v98 + 7) = v99;
    }
    v126 = *(_DWORD *)(v97 + 56);
    v127 = *(_DWORD *)(v97 + 52);
    v128 = *(_DWORD *)(v97 + 48);
    *(_BYTE *)(v98 + 3) = v99;
    v129 = v97 + 32;
    v130 = a5 + *(_DWORD *)(v165 + 4);
    if ( *(_DWORD *)(v129 + 4) | *(_DWORD *)(v129 + 8) | *(_DWORD *)(v129 + 12) | v128 | v127 | v126 | *(_DWORD *)(v129 + 28) )
    {
      v132 = *(_WORD *)(v129 + 16);
      v133 = *(_WORD *)(v129 + 24);
      v134 = *(_WORD *)v129 + v132;
      v135 = *(_WORD *)v129 - v132;
      v136 = *(_WORD *)(v129 + 8);
      v137 = v133 + v136;
      v138 = (362 * (*(_WORD *)(v129 + 8) - (signed __int16)v133) >> 8) - (v133 + v136);
      v139 = v134 + v137;
      v140 = v134 - v137;
      v141 = v138 + v135;
      v142 = v135 - v138;
      LOWORD(v138) = *(_WORD *)(v129 + 20);
      v143 = v141;
      v144 = *(_WORD *)(v129 + 12);
      v145 = v142;
      v146 = v144 + (unsigned __int16)v138;
      LOWORD(v138) = v138 - v144;
      v147 = *(_WORD *)(v129 + 28);
      v148 = v146;
      LOWORD(v146) = v138;
      LOWORD(v138) = *(_WORD *)(v129 + 4);
      v149 = v138 + v147;
      v150 = v148 + (unsigned __int16)v138 + v147;
      v151 = (signed __int16)(v138 - v147);
      v152 = (signed __int16)v146;
      v153 = 473 * ((signed __int16)v146 + v151) >> 8;
      v154 = v153 + (-669 * v152 >> 8) - v150;
      v155 = v154;
      v156 = (362 * (v149 - (signed __int16)v148) >> 8) - v154;
      v157 = v156 + (277 * v151 >> 8) - v153;
      *(_BYTE *)v130 = *(_BYTE *)(((((signed __int16)v150 + v139) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 7) = *(_BYTE *)(v7 + (((v139 - (signed __int16)v150) >> 5) & 0x3FF));
      *(_BYTE *)(v130 + 6) = *(_BYTE *)(v7 + (((v143 - v155) >> 5) & 0x3FF));
      *(_BYTE *)(v130 + 2) = *(_BYTE *)((((v145 + (signed __int16)v156) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 5) = *(_BYTE *)((((v145 - (signed __int16)v156) >> 5) & 0x3FF) + v7);
      LOBYTE(v153) = *(_BYTE *)((((v155 + v143) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 4) = *(_BYTE *)((((v140 + (signed __int16)v157) >> 5) & 0x3FF) + v7);
      v131 = *(_BYTE *)((((v140 - (signed __int16)v157) >> 5) & 0x3FF) + v7);
      *(_BYTE *)(v130 + 1) = v153;
    }
    else
    {
      v131 = *(_BYTE *)(((*(_DWORD *)v129 >> 5) & 0x3FF) + v7);
      *(_BYTE *)v130 = v131;
      *(_BYTE *)(v130 + 1) = v131;
      *(_BYTE *)(v130 + 2) = v131;
      *(_BYTE *)(v130 + 4) = v131;
      *(_BYTE *)(v130 + 5) = v131;
      *(_BYTE *)(v130 + 6) = v131;
      *(_BYTE *)(v130 + 7) = v131;
    }
    *(_BYTE *)(v130 + 3) = v131;
    result = (char *)(v129 + 32);
    v32 = v167 == 1;
    v165 += 16;
    --v167;
  }
  while ( !v32 );
  return result;
}

//----- (0044E780) --------------------------------------------------------
char *__stdcall sub_44E780(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebx@1
  int v6; // ebp@1
  int v7; // ecx@1
  char *v8; // eax@1
  int v9; // edx@9
  int v10; // edx@10
  int v11; // esi@10
  int v12; // edi@10
  int v13; // ST18_4@10
  int v14; // edi@10
  int v15; // ST14_4@10
  int v16; // esi@10
  int v17; // ST24_4@10
  int v18; // edi@10
  int v19; // edx@10
  int v20; // ST48_4@10
  int v21; // esi@10
  int v22; // ST44_4@10
  int v23; // ST38_4@10
  int v24; // edx@10
  int v25; // ST3C_4@10
  int v26; // esi@10
  int v27; // edi@10
  int v28; // ebx@10
  int v29; // ebp@10
  int v30; // ST14_4@10
  int v31; // ebx@10
  int v32; // ST28_4@10
  int v33; // ebx@10
  int v34; // ST30_4@10
  int v35; // ST18_4@10
  int v36; // ST1C_4@10
  int v37; // ebx@10
  int v38; // ebp@10
  int v39; // edx@10
  int v40; // esi@10
  int v41; // edi@10
  int v42; // ebp@10
  bool v43; // zf@11
  char *result; // eax@12
  int v45; // esi@13
  char v46; // dl@20
  int v47; // edx@21
  int v48; // edi@21
  int v49; // ebp@21
  int v50; // ST14_4@21
  int v51; // edx@21
  int v52; // ebx@21
  int v53; // ebp@21
  int v54; // ST10_4@21
  int v55; // edi@21
  int v56; // ebp@21
  int v57; // ST3C_4@21
  int v58; // edx@21
  int v59; // ST10_4@21
  int v60; // ST24_4@21
  int v61; // ST38_4@21
  int v62; // edx@21
  int v63; // ST30_4@21
  int v64; // ST18_4@21
  int v65; // ST1C_4@21
  int v66; // ST20_4@21
  int v67; // ST14_4@21
  int v68; // edx@21
  int v69; // edx@21
  int v70; // edx@21
  int v71; // edx@22
  int v72; // eax@22
  int v73; // esi@22
  char v74; // dl@29
  int v75; // edx@30
  int v76; // edi@30
  int v77; // ebp@30
  int v78; // ST14_4@30
  int v79; // edx@30
  int v80; // ebx@30
  int v81; // ebp@30
  int v82; // ST10_4@30
  int v83; // edi@30
  int v84; // ebp@30
  int v85; // ST3C_4@30
  int v86; // edx@30
  int v87; // ST10_4@30
  int v88; // ST24_4@30
  int v89; // ST38_4@30
  int v90; // edx@30
  int v91; // ST30_4@30
  int v92; // ST18_4@30
  int v93; // ST1C_4@30
  int v94; // ST20_4@30
  int v95; // ST14_4@30
  int v96; // edx@30
  int v97; // edx@30
  int v98; // edx@30
  int v99; // edx@31
  int v100; // eax@31
  int v101; // esi@31
  char v102; // dl@38
  int v103; // edx@39
  int v104; // edi@39
  int v105; // ebp@39
  int v106; // ST14_4@39
  int v107; // edx@39
  int v108; // ebx@39
  int v109; // ebp@39
  int v110; // ST10_4@39
  int v111; // edi@39
  int v112; // ebp@39
  int v113; // ST3C_4@39
  int v114; // edx@39
  int v115; // ST10_4@39
  int v116; // ST24_4@39
  int v117; // ST38_4@39
  int v118; // edx@39
  int v119; // ST30_4@39
  int v120; // ST18_4@39
  int v121; // ST1C_4@39
  int v122; // ST20_4@39
  int v123; // ST14_4@39
  int v124; // edx@39
  int v125; // edx@39
  int v126; // edx@39
  int v127; // edx@40
  int v128; // eax@40
  int v129; // esi@40
  char v130; // dl@47
  int v131; // edx@48
  int v132; // edi@48
  int v133; // ebp@48
  int v134; // ST14_4@48
  int v135; // edx@48
  int v136; // ebx@48
  int v137; // ebp@48
  int v138; // ST10_4@48
  int v139; // edi@48
  int v140; // ebp@48
  int v141; // ST3C_4@48
  int v142; // edx@48
  int v143; // ST10_4@48
  int v144; // ST24_4@48
  int v145; // ST38_4@48
  int v146; // edx@48
  int v147; // ST30_4@48
  int v148; // ST18_4@48
  int v149; // ST1C_4@48
  int v150; // ST20_4@48
  int v151; // ST14_4@48
  int v152; // edx@48
  int v153; // edx@48
  int v154; // edx@48
  signed int v155; // [sp+10h] [bp-13Ch]@1
  int v156; // [sp+2Ch] [bp-120h]@1
  int v157; // [sp+2Ch] [bp-120h]@13
  int v158; // [sp+2Ch] [bp-120h]@22
  int v159; // [sp+2Ch] [bp-120h]@31
  int v160; // [sp+2Ch] [bp-120h]@40
  int v161; // [sp+34h] [bp-118h]@1
  int v162; // [sp+34h] [bp-118h]@12
  __int16 v163; // [sp+40h] [bp-10Ch]@2
  signed int v164; // [sp+40h] [bp-10Ch]@12
  char v165; // [sp+4Ch] [bp-100h]@1

  v5 = *(_DWORD *)(a2 + 80);
  v6 = a3;
  v7 = *(_DWORD *)(a1 + 328) + 128;
  v161 = a3;
  v156 = *(_DWORD *)(a2 + 80);
  v8 = &v165;
  v155 = 8;
  do
  {
    v163 = *(_WORD *)(v6 + 16);
    if ( v163
      || *(_WORD *)(v6 + 32)
      || *(_WORD *)(v6 + 48)
      || *(_WORD *)(v6 + 64)
      || *(_WORD *)(v6 + 80)
      || *(_WORD *)(v6 + 96)
      || *(_WORD *)(v6 + 112) )
    {
      v10 = *(_WORD *)(v6 + 32) * *(_WORD *)(v5 + 32);
      v11 = *(_WORD *)(v6 + 96) * *(_WORD *)(v5 + 96);
      v12 = 4433 * (v11 + v10);
      v13 = v12;
      v14 = v12 - 15137 * v11;
      v15 = v13 + 6270 * v10;
      v16 = *(_WORD *)v5 * *(_WORD *)v6;
      v17 = v14;
      v18 = *(_WORD *)(v6 + 64) * *(_WORD *)(v5 + 64);
      v19 = (v18 + v16) << 13;
      v20 = v19 + v15;
      v21 = (v16 - v18) << 13;
      v22 = v19 - v15;
      v23 = v21 - v17;
      v24 = *(_WORD *)(v6 + 112) * *(_WORD *)(v5 + 112);
      v25 = v21 + v17;
      v26 = *(_WORD *)(v6 + 80) * *(_WORD *)(v5 + 80);
      v27 = *(_WORD *)(v6 + 48) * *(_WORD *)(v5 + 48);
      v28 = v163 * *(_WORD *)(v5 + 16);
      v29 = v24 + v28;
      v30 = v28;
      v31 = v26 + v28;
      v32 = v31;
      v33 = v24 + v27 + v31;
      v34 = 9633 * v33;
      v35 = -7373 * v29;
      v36 = -20995 * (v26 + v27);
      v37 = 9633 * v33 - 16069 * (v24 + v27);
      v38 = v34 - 3196 * v32;
      v39 = v37 + v35 + 2446 * v24;
      v40 = v36 + v38 + 16819 * v26;
      v41 = v36 + v37 + 25172 * v27;
      v42 = v35 + v38 + 12299 * v30;
      *(_DWORD *)v8 = (v20 + v42 + 1024) >> 11;
      *((_DWORD *)v8 + 56) = (v20 - v42 + 1024) >> 11;
      *((_DWORD *)v8 + 48) = (v25 - v41 + 1024) >> 11;
      *((_DWORD *)v8 + 40) = (v23 - v40 + 1024) >> 11;
      *((_DWORD *)v8 + 8) = (v25 + v41 + 1024) >> 11;
      v6 = v161;
      *((_DWORD *)v8 + 16) = (v23 + v40 + 1024) >> 11;
      v5 = v156;
      *((_DWORD *)v8 + 24) = (v22 + v39 + 1024) >> 11;
      *((_DWORD *)v8 + 32) = (v22 - v39 + 1024) >> 11;
    }
    else
    {
      v9 = 4 * *(_WORD *)v5 * *(_WORD *)v6;
      *(_DWORD *)v8 = v9;
      *((_DWORD *)v8 + 8) = v9;
      *((_DWORD *)v8 + 16) = v9;
      *((_DWORD *)v8 + 24) = v9;
      *((_DWORD *)v8 + 32) = v9;
      *((_DWORD *)v8 + 40) = v9;
      *((_DWORD *)v8 + 48) = v9;
      *((_DWORD *)v8 + 56) = v9;
    }
    v6 += 2;
    v5 += 2;
    v8 += 4;
    v43 = v155 == 1;
    v161 = v6;
    v156 = v5;
    --v155;
  }
  while ( !v43 );
  result = &v165;
  v162 = a4 + 8;
  v164 = 2;
  do
  {
    v45 = a5 + *(_DWORD *)(v162 - 8);
    v157 = *((_DWORD *)result + 1);
    if ( *((_DWORD *)result + 1)
      || *((_DWORD *)result + 2)
      || *((_DWORD *)result + 3)
      || *((_DWORD *)result + 4)
      || *((_DWORD *)result + 5)
      || *((_DWORD *)result + 6)
      || *((_DWORD *)result + 7) )
    {
      v47 = *((_DWORD *)result + 2);
      v48 = *((_DWORD *)result + 6);
      v49 = 4433 * (v48 + v47);
      v50 = v49 + 6270 * v47;
      v51 = *((_DWORD *)result + 4);
      v52 = v49 - 15137 * v48;
      v53 = (*(_DWORD *)result + v51) << 13;
      v54 = (*(_DWORD *)result - v51) << 13;
      v55 = v50 + v53;
      v56 = v53 - v50;
      v57 = v52 + v54;
      v58 = v54 - v52;
      v59 = *((_DWORD *)result + 5);
      v60 = *((_DWORD *)result + 3);
      v61 = v58;
      v62 = *((_DWORD *)result + 7);
      v63 = 9633 * (v60 + v62 + v59 + v157);
      v64 = -7373 * (v157 + v62);
      v65 = -20995 * (v60 + v59);
      v66 = 9633 * (v60 + v62 + v59 + v157) - 16069 * (v60 + v62);
      v67 = v66 + v64 + 2446 * v62;
      v68 = v64 + v63 - 3196 * (v59 + v157) + 12299 * v157;
      LOBYTE(v52) = *(_BYTE *)((((v55 + v68 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v45 + 7) = *(_BYTE *)((((v55 - v68 + 0x20000) >> 18) & 0x3FF) + v7);
      v69 = v65 + v66 + 25172 * v60;
      *(_BYTE *)v45 = v52;
      LOBYTE(v52) = *(_BYTE *)((((v57 + v69 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v45 + 6) = *(_BYTE *)((((v57 - v69 + 0x20000) >> 18) & 0x3FF) + v7);
      v70 = v65 + v63 - 3196 * (v59 + v157) + 16819 * v59;
      *(_BYTE *)(v45 + 1) = v52;
      *(_BYTE *)(v45 + 5) = *(_BYTE *)((((v61 - v70 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v52) = *(_BYTE *)((((v61 + v70 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v45 + 3) = *(_BYTE *)((((v67 + v56 + 0x20000) >> 18) & 0x3FF) + v7);
      v46 = *(_BYTE *)(v7 + (((v56 - v67 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v45 + 2) = v52;
    }
    else
    {
      v46 = *(_BYTE *)((((*(_DWORD *)result + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v45 = v46;
      *(_BYTE *)(v45 + 1) = v46;
      *(_BYTE *)(v45 + 2) = v46;
      *(_BYTE *)(v45 + 3) = v46;
      *(_BYTE *)(v45 + 5) = v46;
      *(_BYTE *)(v45 + 6) = v46;
      *(_BYTE *)(v45 + 7) = v46;
    }
    *(_BYTE *)(v45 + 4) = v46;
    v71 = *((_DWORD *)result + 9);
    v72 = (int)(result + 32);
    v73 = a5 + *(_DWORD *)(v162 - 4);
    v158 = v71;
    if ( v71
      || *(_DWORD *)(v72 + 8)
      || *(_DWORD *)(v72 + 12)
      || *(_DWORD *)(v72 + 16)
      || *(_DWORD *)(v72 + 20)
      || *(_DWORD *)(v72 + 24)
      || *(_DWORD *)(v72 + 28) )
    {
      v75 = *(_DWORD *)(v72 + 8);
      v76 = *(_DWORD *)(v72 + 24);
      v77 = 4433 * (v76 + v75);
      v78 = v77 + 6270 * v75;
      v79 = *(_DWORD *)(v72 + 16);
      v80 = v77 - 15137 * v76;
      v81 = (*(_DWORD *)v72 + v79) << 13;
      v82 = (*(_DWORD *)v72 - v79) << 13;
      v83 = v78 + v81;
      v84 = v81 - v78;
      v85 = v80 + v82;
      v86 = v82 - v80;
      v87 = *(_DWORD *)(v72 + 20);
      v88 = *(_DWORD *)(v72 + 12);
      v89 = v86;
      v90 = *(_DWORD *)(v72 + 28);
      v91 = 9633 * (v88 + v90 + v87 + v158);
      v92 = -7373 * (v158 + v90);
      v93 = -20995 * (v88 + v87);
      v94 = 9633 * (v88 + v90 + v87 + v158) - 16069 * (v88 + v90);
      v95 = v94 + v92 + 2446 * v90;
      v96 = v92 + v91 - 3196 * (v87 + v158) + 12299 * v158;
      LOBYTE(v80) = *(_BYTE *)((((v83 + v96 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v73 + 7) = *(_BYTE *)((((v83 - v96 + 0x20000) >> 18) & 0x3FF) + v7);
      v97 = v93 + v94 + 25172 * v88;
      *(_BYTE *)v73 = v80;
      LOBYTE(v80) = *(_BYTE *)((((v85 + v97 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v73 + 6) = *(_BYTE *)((((v85 - v97 + 0x20000) >> 18) & 0x3FF) + v7);
      v98 = v93 + v91 - 3196 * (v87 + v158) + 16819 * v87;
      *(_BYTE *)(v73 + 1) = v80;
      *(_BYTE *)(v73 + 5) = *(_BYTE *)((((v89 - v98 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v80) = *(_BYTE *)((((v89 + v98 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v73 + 3) = *(_BYTE *)((((v95 + v84 + 0x20000) >> 18) & 0x3FF) + v7);
      v74 = *(_BYTE *)(v7 + (((v84 - v95 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v73 + 2) = v80;
    }
    else
    {
      v74 = *(_BYTE *)((((*(_DWORD *)v72 + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v73 = v74;
      *(_BYTE *)(v73 + 1) = v74;
      *(_BYTE *)(v73 + 2) = v74;
      *(_BYTE *)(v73 + 3) = v74;
      *(_BYTE *)(v73 + 5) = v74;
      *(_BYTE *)(v73 + 6) = v74;
      *(_BYTE *)(v73 + 7) = v74;
    }
    *(_BYTE *)(v73 + 4) = v74;
    v99 = *(_DWORD *)(v72 + 36);
    v100 = v72 + 32;
    v101 = a5 + *(_DWORD *)v162;
    v159 = v99;
    if ( v99
      || *(_DWORD *)(v100 + 8)
      || *(_DWORD *)(v100 + 12)
      || *(_DWORD *)(v100 + 16)
      || *(_DWORD *)(v100 + 20)
      || *(_DWORD *)(v100 + 24)
      || *(_DWORD *)(v100 + 28) )
    {
      v103 = *(_DWORD *)(v100 + 8);
      v104 = *(_DWORD *)(v100 + 24);
      v105 = 4433 * (v104 + v103);
      v106 = v105 + 6270 * v103;
      v107 = *(_DWORD *)(v100 + 16);
      v108 = v105 - 15137 * v104;
      v109 = (*(_DWORD *)v100 + v107) << 13;
      v110 = (*(_DWORD *)v100 - v107) << 13;
      v111 = v106 + v109;
      v112 = v109 - v106;
      v113 = v108 + v110;
      v114 = v110 - v108;
      v115 = *(_DWORD *)(v100 + 20);
      v116 = *(_DWORD *)(v100 + 12);
      v117 = v114;
      v118 = *(_DWORD *)(v100 + 28);
      v119 = 9633 * (v116 + v118 + v115 + v159);
      v120 = -7373 * (v159 + v118);
      v121 = -20995 * (v116 + v115);
      v122 = 9633 * (v116 + v118 + v115 + v159) - 16069 * (v116 + v118);
      v123 = v122 + v120 + 2446 * v118;
      v124 = v120 + v119 - 3196 * (v115 + v159) + 12299 * v159;
      LOBYTE(v108) = *(_BYTE *)((((v111 + v124 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v101 + 7) = *(_BYTE *)((((v111 - v124 + 0x20000) >> 18) & 0x3FF) + v7);
      v125 = v121 + v122 + 25172 * v116;
      *(_BYTE *)v101 = v108;
      LOBYTE(v108) = *(_BYTE *)((((v113 + v125 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v101 + 6) = *(_BYTE *)((((v113 - v125 + 0x20000) >> 18) & 0x3FF) + v7);
      v126 = v121 + v119 - 3196 * (v115 + v159) + 16819 * v115;
      *(_BYTE *)(v101 + 1) = v108;
      *(_BYTE *)(v101 + 5) = *(_BYTE *)((((v117 - v126 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v108) = *(_BYTE *)((((v117 + v126 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v101 + 3) = *(_BYTE *)((((v123 + v112 + 0x20000) >> 18) & 0x3FF) + v7);
      v102 = *(_BYTE *)(v7 + (((v112 - v123 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v101 + 2) = v108;
    }
    else
    {
      v102 = *(_BYTE *)((((*(_DWORD *)v100 + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v101 = v102;
      *(_BYTE *)(v101 + 1) = v102;
      *(_BYTE *)(v101 + 2) = v102;
      *(_BYTE *)(v101 + 3) = v102;
      *(_BYTE *)(v101 + 5) = v102;
      *(_BYTE *)(v101 + 6) = v102;
      *(_BYTE *)(v101 + 7) = v102;
    }
    *(_BYTE *)(v101 + 4) = v102;
    v127 = *(_DWORD *)(v100 + 36);
    v128 = v100 + 32;
    v129 = a5 + *(_DWORD *)(v162 + 4);
    v160 = v127;
    if ( v127
      || *(_DWORD *)(v128 + 8)
      || *(_DWORD *)(v128 + 12)
      || *(_DWORD *)(v128 + 16)
      || *(_DWORD *)(v128 + 20)
      || *(_DWORD *)(v128 + 24)
      || *(_DWORD *)(v128 + 28) )
    {
      v131 = *(_DWORD *)(v128 + 8);
      v132 = *(_DWORD *)(v128 + 24);
      v133 = 4433 * (v132 + v131);
      v134 = v133 + 6270 * v131;
      v135 = *(_DWORD *)(v128 + 16);
      v136 = v133 - 15137 * v132;
      v137 = (*(_DWORD *)v128 + v135) << 13;
      v138 = (*(_DWORD *)v128 - v135) << 13;
      v139 = v134 + v137;
      v140 = v137 - v134;
      v141 = v136 + v138;
      v142 = v138 - v136;
      v143 = *(_DWORD *)(v128 + 20);
      v144 = *(_DWORD *)(v128 + 12);
      v145 = v142;
      v146 = *(_DWORD *)(v128 + 28);
      v147 = 9633 * (v144 + v146 + v143 + v160);
      v148 = -7373 * (v160 + v146);
      v149 = -20995 * (v144 + v143);
      v150 = 9633 * (v144 + v146 + v143 + v160) - 16069 * (v144 + v146);
      v151 = v150 + v148 + 2446 * v146;
      v152 = v148 + v147 - 3196 * (v143 + v160) + 12299 * v160;
      LOBYTE(v136) = *(_BYTE *)((((v139 + v152 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v129 + 7) = *(_BYTE *)((((v139 - v152 + 0x20000) >> 18) & 0x3FF) + v7);
      v153 = v149 + v150 + 25172 * v144;
      *(_BYTE *)v129 = v136;
      LOBYTE(v136) = *(_BYTE *)((((v141 + v153 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v129 + 6) = *(_BYTE *)((((v141 - v153 + 0x20000) >> 18) & 0x3FF) + v7);
      v154 = v149 + v147 - 3196 * (v143 + v160) + 16819 * v143;
      *(_BYTE *)(v129 + 1) = v136;
      *(_BYTE *)(v129 + 5) = *(_BYTE *)((((v145 - v154 + 0x20000) >> 18) & 0x3FF) + v7);
      LOBYTE(v136) = *(_BYTE *)((((v145 + v154 + 0x20000) >> 18) & 0x3FF) + v7);
      *(_BYTE *)(v129 + 3) = *(_BYTE *)((((v151 + v140 + 0x20000) >> 18) & 0x3FF) + v7);
      v130 = *(_BYTE *)(v7 + (((v140 - v151 + 0x20000) >> 18) & 0x3FF));
      *(_BYTE *)(v129 + 2) = v136;
    }
    else
    {
      v130 = *(_BYTE *)((((*(_DWORD *)v128 + 16) >> 5) & 0x3FF) + v7);
      *(_BYTE *)v129 = v130;
      *(_BYTE *)(v129 + 1) = v130;
      *(_BYTE *)(v129 + 2) = v130;
      *(_BYTE *)(v129 + 3) = v130;
      *(_BYTE *)(v129 + 5) = v130;
      *(_BYTE *)(v129 + 6) = v130;
      *(_BYTE *)(v129 + 7) = v130;
    }
    *(_BYTE *)(v129 + 4) = v130;
    result = (char *)(v128 + 32);
    v43 = v164 == 1;
    v162 += 16;
    --v164;
  }
  while ( !v43 );
  return result;
}

//----- (0044F470) --------------------------------------------------------
int __stdcall sub_44F470(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // et1@1
  int v7; // et1@1
  int v8; // et1@1
  int v9; // et1@1
  int v10; // eax@1
  int v11; // ebx@1
  int v12; // ecx@1
  int v13; // edx@1
  int v14; // ecx@2
  int v15; // ebx@2
  int v16; // ST1C_4@2
  int v17; // ST20_4@2
  int v18; // ecx@2
  int v19; // eax@2
  int v20; // edx@2
  int v21; // ecx@2
  int v22; // eax@2
  int v23; // ST24_4@2
  int v24; // ST28_4@2
  int v25; // ST2C_4@2
  int v26; // ST30_4@2
  int v27; // ST34_4@2
  int v28; // ST1C_4@2
  int v29; // ST20_4@2
  int v30; // ST38_4@2
  int v31; // eax@2
  int v32; // edx@2
  int v33; // esi@2
  int v34; // ecx@2
  int v35; // ebx@2
  int v36; // esi@2
  int v37; // eax@2
  int v38; // ecx@2
  int v39; // eax@2
  int v40; // edx@2
  int v41; // ecx@2
  int v42; // esi@2
  int v43; // edi@4
  int v44; // edi@4
  int v45; // ecx@4
  int v46; // et1@4
  int v47; // ebx@4
  int v48; // ST1C_4@4
  int v49; // ST20_4@4
  int v50; // ecx@4
  int v51; // edx@4
  int v52; // ecx@4
  int v53; // eax@4
  int v54; // ST24_4@4
  int v55; // ST28_4@4
  int v56; // ST2C_4@4
  int v57; // ST30_4@4
  int v58; // ST34_4@4
  int v59; // ST1C_4@4
  int v60; // eax@4
  int v61; // ST20_4@4
  int v62; // ST38_4@4
  int v63; // ST40_4@4
  int v64; // ebx@4
  int v65; // eax@4
  int v66; // edx@4
  int v67; // esi@4
  int v68; // ecx@4
  int v69; // ebx@4
  int v70; // esi@4
  int v71; // eax@4
  int v72; // ecx@4
  int v73; // eax@4
  int v74; // edx@4
  int v75; // ST34_4@4
  int v76; // ST38_4@4
  int v77; // ST1C_4@4
  int v78; // ST20_4@4
  int result; // eax@4
  int v80; // [sp+Ch] [bp-44h]@1
  int v81; // [sp+10h] [bp-40h]@1
  int v82; // [sp+14h] [bp-3Ch]@1
  int v83; // [sp+14h] [bp-3Ch]@3
  signed int v84; // [sp+18h] [bp-38h]@1
  signed int v85; // [sp+18h] [bp-38h]@3
  int v86; // [sp+4Ch] [bp-4h]@3

  v80 = a1;
  v81 = a2;
  v82 = a3;
  v84 = 8;
  v6 = *(_DWORD *)a1;
  v7 = *(_DWORD *)(a1 + 32);
  v8 = *(_DWORD *)(a1 + 64);
  v9 = *(_DWORD *)(a1 + 96);
  v10 = *(_DWORD *)a2;
  v11 = *(_DWORD *)(a2 + 32);
  v12 = *(_DWORD *)(a2 + 64);
  v13 = *(_DWORD *)(a2 + 96);
  do
  {
    v14 = *(_WORD *)(v81 + 96) * *(_WORD *)(v80 + 96);
    v15 = 4433 * (v14 + *(_WORD *)(v81 + 32) * *(_WORD *)(v80 + 32));
    v16 = v15 + -15137 * v14;
    v17 = v15 + 6270 * *(_WORD *)(v81 + 32) * *(_WORD *)(v80 + 32);
    v18 = *(_WORD *)(v81 + 64) * *(_WORD *)(v80 + 64);
    v19 = *(_WORD *)v81 * *(_WORD *)v80;
    v20 = v18;
    v21 = (v19 + v18) << 13;
    v22 = (v19 - v20) << 13;
    v23 = v17 + v21;
    v24 = v16 + v22;
    v25 = v21 - v17;
    v26 = v22 - v16;
    v27 = *(_WORD *)(v81 + 112) * *(_WORD *)(v80 + 112);
    v28 = *(_WORD *)(v81 + 48) * *(_WORD *)(v80 + 48);
    v29 = *(_WORD *)(v81 + 16) * *(_WORD *)(v80 + 16);
    v30 = *(_WORD *)(v81 + 80) * *(_WORD *)(v80 + 80);
    v31 = -7373 * (v29 + v27);
    v32 = -20995 * (v28 + v30);
    v33 = 9633 * (v29 + v30 + v28 + v27);
    v34 = v33 + -16069 * (v28 + v27);
    v35 = v33 + -3196 * (v29 + v30);
    v36 = v31;
    v37 = v34 + v31;
    v38 = v32 + v34;
    v39 = 2446 * v27 + v37;
    v40 = 16819 * v30 + v35 + v32;
    v41 = 25172 * v28 + v38;
    v42 = 12299 * v29 + v35 + v36;
    *(_DWORD *)(v82 + 128) = (v25 - v39 + 1024) >> 11;
    *(_DWORD *)(v82 + 96) = (v25 + v39 + 1024) >> 11;
    *(_DWORD *)(v82 + 160) = (v26 - v40 + 1024) >> 11;
    *(_DWORD *)(v82 + 192) = (v24 - v41 + 1024) >> 11;
    *(_DWORD *)(v82 + 64) = (v26 + v40 + 1024) >> 11;
    *(_DWORD *)(v82 + 32) = (v24 + v41 + 1024) >> 11;
    *(_DWORD *)(v82 + 224) = (v23 - v42 + 1024) >> 11;
    *(_DWORD *)v82 = (v42 + v23 + 1024) >> 11;
    v80 += 2;
    v82 += 4;
    v81 += 2;
    --v84;
  }
  while ( v84 );
  v85 = 8;
  v86 = 0;
  v83 = a3;
  do
  {
    v43 = *(_DWORD *)(v86 + a4);
    v86 += 4;
    v44 = a5 + v43;
    v45 = *(_DWORD *)(v83 + 24);
    v46 = *(_DWORD *)v44;
    v47 = 4433 * (v45 + *(_DWORD *)(v83 + 8));
    v48 = v47 + -15137 * v45;
    v49 = v47 + 6270 * *(_DWORD *)(v83 + 8);
    v50 = *(_DWORD *)(v83 + 16);
    v51 = v50;
    v52 = (*(_DWORD *)v83 + v50) << 13;
    v53 = (*(_DWORD *)v83 - v51) << 13;
    v54 = v49 + v52;
    v55 = v48 + v53;
    v56 = v52 - v49;
    v57 = v53 - v48;
    v58 = *(_DWORD *)(v83 + 28);
    v59 = *(_DWORD *)(v83 + 12);
    v60 = *(_DWORD *)(v83 + 20);
    v61 = *(_DWORD *)(v83 + 4);
    v62 = v60;
    v63 = 16819 * v60;
    v64 = v61 + v60;
    v65 = -7373 * (v61 + v58);
    v66 = -20995 * (v59 + v62);
    v67 = 9633 * (v64 + v59 + v58);
    v68 = v67 + -16069 * (v59 + v58);
    v69 = v67 + -3196 * v64;
    v70 = v65;
    v71 = v68 + v65;
    v72 = v66 + v68;
    v73 = 2446 * v58 + v71;
    v74 = v63 + v69 + v66;
    v75 = v73;
    v76 = v74;
    v77 = 25172 * v59 + v72;
    v78 = 12299 * v61 + v69 + v70;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v73 + v56 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v54 - v78 + 0x20000) >> 18) & 0x3FF));
    v73 <<= 8;
    v74 <<= 8;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v76 + v57 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v55 - v77 + 0x20000) >> 18) & 0x3FF));
    v73 <<= 8;
    v74 <<= 8;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v77 + v55 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v57 - v76 + 0x20000) >> 18) & 0x3FF));
    v73 <<= 8;
    v74 <<= 8;
    LOBYTE(v73) = *(_BYTE *)(a6 + (((v78 + v54 + 0x20000) >> 18) & 0x3FF));
    LOBYTE(v74) = *(_BYTE *)(a6 + (((v56 - v75 + 0x20000) >> 18) & 0x3FF));
    *(_DWORD *)v44 = v73;
    *(_DWORD *)(v44 + 4) = v74;
    v83 += 32;
    result = v85-- - 1;
  }
  while ( v85 );
  return result;
}

//----- (0044F930) --------------------------------------------------------
int __stdcall sub_44F930(int a1, int a2, __m64 *a3, int a4, int a5, int a6)
{
  __m64 v6; // mm0@2
  __m64 v7; // mm2@2
  __m64 v8; // mm4@2
  __m64 v9; // mm5@2
  __m64 v10; // mm3@2
  __m64 v11; // mm0@2
  __m64 v12; // mm6@2
  __m64 v13; // mm0@2
  __m64 v14; // mm6@2
  __m64 v15; // mm2@2
  __m64 v16; // mm4@2
  __m64 v17; // mm3@2
  __m64 v18; // mm5@2
  __m64 v19; // mm0@2
  __m64 v20; // ST0C_8@2
  __m64 v21; // mm6@2
  __m64 v22; // mm1@2
  __m64 v23; // mm0@2
  __m64 v24; // mm1@2
  __m64 v25; // mm6@2
  __m64 v26; // mm0@2
  __m64 v27; // mm6@2
  __m64 v28; // mm2@2
  __m64 v29; // ST1C_8@2
  __m64 v30; // ST2C_8@2
  __m64 v31; // ST3C_8@2
  __m64 v32; // ST4C_8@2
  __m64 v33; // mm1@2
  __m64 v34; // ST5C_8@2
  __m64 v35; // ST6C_8@2
  __m64 v36; // ST7C_8@2
  __m64 v37; // ST8C_8@2
  __m64 v38; // ST9C_8@2
  __m64 v39; // STAC_8@2
  __m64 v40; // mm0@2
  __m64 v41; // STBC_8@2
  __m64 v42; // STCC_8@2
  __m64 v43; // mm2@2
  __m64 v44; // mm1@2
  __m64 v45; // mm3@2
  __m64 v46; // mm5@2
  __m64 v47; // STDC_8@2
  __m64 v48; // mm4@2
  __m64 v49; // STE4_8@2
  __m64 v50; // mm5@2
  __m64 v51; // ST44_8@2
  __m64 v52; // mm7@2
  __m64 v53; // mm0@2
  __m64 v54; // mm2@2
  __m64 v55; // mm4@2
  __m64 v56; // ST84_8@2
  __m64 v57; // mm1@2
  __m64 v58; // mm5@2
  __m64 v59; // mm3@2
  __m64 v60; // mm0@2
  __m64 v61; // STEC_8@2
  __m64 v62; // ST34_8@2
  __m64 v63; // STB4_8@2
  __m64 v64; // ST24_8@2
  __m64 v65; // STD4_8@2
  __m64 v66; // mm7@2
  __m64 v67; // mm6@2
  __m64 v68; // ST74_8@2
  __m64 v69; // mm0@2
  __m64 v70; // ST14_8@2
  __m64 v71; // mm1@2
  __m64 v72; // mm5@2
  __m64 v73; // mm4@2
  __m64 v74; // mm6@2
  __m64 v75; // mm7@2
  __m64 v76; // mm2@2
  __m64 v77; // mm1@2
  __m64 v78; // mm5@2
  __m64 v79; // mm4@2
  __m64 v80; // mm7@2
  __m64 v81; // mm6@2
  __m64 v82; // mm2@2
  __m64 v83; // mm0@2
  __m64 v84; // mm2@2
  __m64 v85; // mm4@2
  __m64 v86; // mm5@2
  __m64 v87; // mm0@2
  __m64 v88; // mm1@2
  int result; // eax@2
  __m64 v90; // mm1@4
  __m64 v91; // mm2@4
  __m64 v92; // mm4@4
  __m64 v93; // mm3@4
  __m64 v94; // mm2@4
  __m64 v95; // mm4@4
  __m64 v96; // mm7@4
  __m64 v97; // mm5@4
  __m64 v98; // mm3@4
  __m64 v99; // mm4@4
  __m64 v100; // mm7@4
  __m64 v101; // mm5@4
  __m64 v102; // mm6@4
  __m64 v103; // mm3@4
  __m64 v104; // mm1@4
  __m64 v105; // mm0@4
  __m64 v106; // mm1@4
  __m64 v107; // mm3@4
  __m64 v108; // mm2@4
  __m64 v109; // mm1@4
  __m64 v110; // mm0@4
  int v111; // edi@4
  __m64 v112; // mm3@4
  unsigned int v113; // eax@4
  __m64 v114; // mm4@4
  __m64 v115; // mm2@4
  int v116; // [sp+F4h] [bp+4Ch]@1
  __m64 *v117; // [sp+F8h] [bp+50h]@1
  __m64 *v118; // [sp+F8h] [bp+50h]@3
  int v119; // [sp+FCh] [bp+54h]@1
  int v120; // [sp+100h] [bp+58h]@3
  signed int v121; // [sp+104h] [bp+5Ch]@1
  signed int v122; // [sp+104h] [bp+5Ch]@3

  v116 = a1;
  v119 = a2;
  v121 = 2;
  v117 = a3;
  do
  {
    v6 = _m_pmullw(*(__m64 *)(v116 + 32), *(__m64 *)(v119 + 32));
    v7 = _m_pmullw(*(__m64 *)(v116 + 96), *(__m64 *)(v119 + 96));
    v8 = _m_pmaddwd(v6, (__m64)qword_4978D8);
    v9 = _m_pmaddwd(_m_psrlq(v6, 0x10u), (__m64)qword_4978D8);
    v10 = _m_psrlq(v7, 0x10u);
    v11 = _m_paddw(v6, v7);
    v12 = _m_psrlq(v11, 0x10u);
    v13 = _m_pmaddwd(v11, (__m64)qword_4978D0);
    v14 = _m_pmaddwd(v12, (__m64)qword_4978D0);
    v15 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v7, (__m64)qword_4978F8), (__m64)qword_497920), (__m64)qword_497928),
            v13);
    v16 = _m_paddd(v8, v13);
    v17 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v10, (__m64)qword_4978F8), (__m64)qword_497920), (__m64)qword_497928),
            v14);
    v18 = _m_paddd(v9, v14);
    v19 = _m_pmullw(*(__m64 *)v116, *(__m64 *)v119);
    v20 = v15;
    v21 = _m_pmullw(*(__m64 *)(v116 + 64), *(__m64 *)(v119 + 64));
    v22 = v19;
    v23 = _m_paddw(v19, v21);
    v24 = _m_psubw(v22, v21);
    v25 = v23;
    v26 = _m_pslld(_m_pmaddwd(v23, (__m64)qword_497930), 0xDu);
    v27 = _m_pslld(_m_pmaddwd(_m_psrlq(v25, 0x10u), (__m64)qword_497930), 0xDu);
    v28 = _m_pslld(_m_pmaddwd(_m_psrlq(v24, 0x10u), (__m64)qword_497930), 0xDu);
    v29 = _m_psubd(v26, v16);
    v30 = _m_paddd(v18, v27);
    v31 = _m_psubd(v27, v18);
    v32 = _m_paddd(v16, v26);
    v33 = _m_pslld(_m_pmaddwd(v24, (__m64)qword_497930), 0xDu);
    v34 = _m_paddd(v17, v28);
    v35 = _m_psubd(v28, v17);
    v36 = _m_paddd(v20, v33);
    v37 = _m_psubd(v33, v20);
    v38 = _m_pmullw(*(__m64 *)(v116 + 16), *(__m64 *)(v119 + 16));
    v39 = _m_pmullw(*(__m64 *)(v116 + 112), *(__m64 *)(v119 + 112));
    v40 = _m_paddw(v39, v38);
    v41 = _m_pmullw(*(__m64 *)(v116 + 80), *(__m64 *)(v119 + 80));
    v42 = _m_pmullw(*(__m64 *)(v116 + 48), *(__m64 *)(v119 + 48));
    v43 = _m_paddw(v41, v42);
    v44 = _m_paddw(v39, v42);
    v45 = _m_paddw(v41, v38);
    v46 = _m_paddw(v44, v45);
    v47 = _m_pmaddwd(v46, (__m64)qword_4978E8);
    v48 = _m_psrlq(v43, 0x10u);
    v49 = _m_pmaddwd(_m_psrlq(v46, 0x10u), (__m64)qword_4978E8);
    v50 = _m_psrlq(v44, 0x10u);
    v51 = _m_paddd(_m_pxor(_m_pmaddwd(v40, (__m64)qword_4978E0), (__m64)qword_497920), (__m64)qword_497928);
    v52 = _m_pmaddwd(_m_psrlq(v40, 0x10u), (__m64)qword_4978E0);
    v53 = _m_psrlq(v45, 0x10u);
    v54 = _m_paddd(_m_pxor(_m_pmaddwd(v43, (__m64)qword_497910), (__m64)qword_497920), (__m64)qword_497928);
    v55 = _m_paddd(_m_pxor(_m_pmaddwd(v48, (__m64)qword_497910), (__m64)qword_497920), (__m64)qword_497928);
    v56 = _m_paddd(_m_pxor(v52, (__m64)qword_497920), (__m64)qword_497928);
    v57 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v44, (__m64)qword_497900), (__m64)qword_497920), (__m64)qword_497928),
            v47);
    v58 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v50, (__m64)qword_497900), (__m64)qword_497920), (__m64)qword_497928),
            v49);
    v59 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v45, (__m64)qword_4978C8), (__m64)qword_497920), (__m64)qword_497928),
            v47);
    v60 = _m_paddd(
            _m_paddd(_m_pxor(_m_pmaddwd(v53, (__m64)qword_4978C8), (__m64)qword_497920), (__m64)qword_497928),
            v49);
    v61 = _m_paddd(v57, v54);
    v62 = _m_paddd(v55, v60);
    v63 = _m_paddd(v58, v55);
    v64 = _m_paddd(_m_pmaddwd(v39, (__m64)qword_4978C0), _m_paddd(v51, v57));
    v65 = _m_paddd(_m_pmaddwd(_m_psrlq(v39, 0x10u), (__m64)qword_4978C0), _m_paddd(v56, v58));
    v66 = _m_paddd(_m_pmaddwd(v38, (__m64)qword_4978F0), _m_paddd(v59, v51));
    v67 = _m_paddd(_m_pmaddwd(_m_psrlq(v38, 0x10u), (__m64)qword_4978F0), _m_paddd(v60, v56));
    v68 = _m_paddd(_m_pmaddwd(v41, (__m64)qword_497908), _m_paddd(v54, v59));
    v69 = _m_psrad(_m_paddd(_m_psubd(v32, v66), (__m64)qword_497938), 0xBu);
    v70 = _m_paddd(_m_pmaddwd(_m_psrlq(v41, 0x10u), (__m64)qword_497908), v62);
    v71 = _m_psrad(_m_paddd(_m_psubd(v30, v67), (__m64)qword_497938), 0xBu);
    v72 = _m_paddd(_m_pmaddwd(v42, (__m64)qword_497918), v61);
    v73 = _m_paddd(_m_pmaddwd(_m_psrlq(v42, 0x10u), (__m64)qword_497918), v63);
    v117[14].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v69, v71), _m_punpckhwd(v69, v71));
    v74 = _m_psrad(_m_paddd(_m_paddd(v67, v30), (__m64)qword_497938), 0xBu);
    v75 = _m_psrad(_m_paddd(_m_paddd(v66, v32), (__m64)qword_497938), 0xBu);
    v76 = _m_psrad(_m_paddd(_m_psubd(v36, v72), (__m64)qword_497938), 0xBu);
    v117->m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v75, v74), _m_punpckhwd(v75, v74));
    v77 = _m_psrad(_m_paddd(_m_psubd(v34, v73), (__m64)qword_497938), 0xBu);
    v78 = _m_psrad(_m_paddd(_m_paddd(v72, v36), (__m64)qword_497938), 0xBu);
    v117[12].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v76, v77), _m_punpckhwd(v76, v77));
    v79 = _m_psrad(_m_paddd(_m_paddd(v73, v34), (__m64)qword_497938), 0xBu);
    v117[2].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v78, v79), _m_punpckhwd(v78, v79));
    v80 = _m_psrad(_m_paddd(_m_paddd(v35, v70), (__m64)qword_497938), 0xBu);
    v81 = _m_psrad(_m_paddd(_m_paddd(v37, v68), (__m64)qword_497938), 0xBu);
    v82 = _m_psrad(_m_paddd(_m_psubd(v37, v68), (__m64)qword_497938), 0xBu);
    v83 = _m_psrad(_m_paddd(_m_psubd(v35, v70), (__m64)qword_497938), 0xBu);
    v117[4].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v81, v80), _m_punpckhwd(v81, v80));
    v84 = _m_punpckldq(_m_punpcklwd(v82, v83), _m_punpckhwd(v82, v83));
    v85 = _m_psrad(_m_paddd(_m_paddd(v29, v64), (__m64)qword_497938), 0xBu);
    v86 = _m_psrad(_m_paddd(_m_psubd(v29, v64), (__m64)qword_497938), 0xBu);
    v87 = _m_psrad(_m_paddd(_m_paddd(v31, v65), (__m64)qword_497938), 0xBu);
    v117[10].m64_u64 = (unsigned __int64)v84;
    v88 = _m_psrad(_m_paddd(_m_psubd(v31, v65), (__m64)qword_497938), 0xBu);
    v117[6].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v85, v87), _m_punpckhwd(v85, v87));
    v116 += 8;
    v119 += 8;
    v117[8].m64_u64 = (unsigned __int64)_m_punpckldq(_m_punpcklwd(v86, v88), _m_punpckhwd(v86, v88));
    ++v117;
    result = v121-- - 1;
  }
  while ( v121 );
  v122 = 8;
  v118 = a3;
  v120 = 0;
  do
  {
    v90 = v118[1];
    v91 = _m_paddw((__m64)v118->m64_u64, v90);
    v92 = v91;
    v93 = _m_pmaddwd(_m_punpckhdq((__m64)v118->m64_u64, v90), (__m64)qword_497950);
    v94 = _m_pmaddwd(v91, (__m64)qword_497958);
    v95 = _m_psrad(_m_pslld(_m_punpckldq(v92, _m_psubw((__m64)v118->m64_u64, v90)), 0x10u), 3u);
    v96 = v95;
    v97 = _m_paddd(
            _m_punpckldq(v93, _m_psrlq(_m_paddd(_m_pxor(v93, (__m64)qword_497920), (__m64)qword_497928), 0x20u)),
            _m_punpckhdq(v94, v94));
    v98 = _m_paddw((__m64)v118->m64_u64, v90);
    v99 = _m_paddd(v95, v97);
    v100 = _m_psubd(v96, v97);
    v101 = _m_pmaddwd(_m_paddw(_m_punpckldq(v98, v98), v98), (__m64)qword_497980);
    v102 = _m_paddd(
             _m_pxor(
               _m_pmaddwd(
                 _m_paddw(
                   _m_punpckhdq((__m64)v118->m64_u64, _m_punpckldq((__m64)v118->m64_u64, (__m64)v118->m64_u64)),
                   v90),
                 (__m64)qword_497970),
               (__m64)qword_497920),
             (__m64)qword_497928);
    v103 = _m_paddd(
             _m_paddd(_m_pxor(_m_pmaddwd(v98, (__m64)qword_497978), (__m64)qword_497920), (__m64)qword_497928),
             _m_punpckhdq(v101, v101));
    v104 = _m_paddd(_m_pmaddwd(v90, (__m64)qword_497968), _m_paddd(v102, v103));
    v105 = _m_paddd(
             _m_pmaddwd((__m64)v118->m64_u64, (__m64)qword_497960),
             _m_paddd(_m_punpckhdq(v102, _m_punpckldq(v102, v102)), v103));
    v106 = _m_punpckhdq(v104, _m_punpckldq(v104, v104));
    v107 = _m_psubd(v99, v105);
    v108 = _m_psubd(v100, v106);
    v109 = _m_pand(_m_psrad(_m_paddd(_m_paddd(v106, v100), (__m64)qword_497940), 0x12u), (__m64)qword_497948);
    v110 = _m_pand(_m_psrad(_m_paddd(_m_paddd(v105, v99), (__m64)qword_497940), 0x12u), (__m64)qword_497948);
    BYTE1(result) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v109));
    v111 = *(_DWORD *)(v120 + a4);
    LOBYTE(result) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v109, 0x20u)));
    v120 += 4;
    v112 = _m_pand(_m_psrad(_m_paddd(v107, (__m64)qword_497940), 0x12u), (__m64)qword_497948);
    v113 = result << 16;
    LOBYTE(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v110));
    BYTE1(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v110, 0x20u)));
    v114 = _mm_cvtsi32_si64(v113);
    v115 = _m_pand(_m_psrad(_m_paddd(v108, (__m64)qword_497940), 0x12u), (__m64)qword_497948);
    BYTE1(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v112));
    LOBYTE(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v112, 0x20u)));
    v113 <<= 16;
    LOBYTE(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(v115));
    BYTE1(v113) = *(_BYTE *)(a6 + _mm_cvtsi64_si32(_m_psrlq(v115, 0x20u)));
    v118 += 2;
    *(__m64 *)(a5 + v111) = _m_punpckldq(v114, _mm_cvtsi32_si64(v113));
    result = v122 - 1;
    v122 = result;
  }
  while ( result );
  _m_femms();
  return result;
}
// 4978C0: using guessed type __int64 qword_4978C0;
// 4978C8: using guessed type __int64 qword_4978C8;
// 4978D0: using guessed type __int64 qword_4978D0;
// 4978D8: using guessed type __int64 qword_4978D8;
// 4978E0: using guessed type __int64 qword_4978E0;
// 4978E8: using guessed type __int64 qword_4978E8;
// 4978F0: using guessed type __int64 qword_4978F0;
// 4978F8: using guessed type __int64 qword_4978F8;
// 497900: using guessed type __int64 qword_497900;
// 497908: using guessed type __int64 qword_497908;
// 497910: using guessed type __int64 qword_497910;
// 497918: using guessed type __int64 qword_497918;
// 497920: using guessed type __int64 qword_497920;
// 497928: using guessed type __int64 qword_497928;
// 497930: using guessed type __int64 qword_497930;
// 497938: using guessed type __int64 qword_497938;
// 497940: using guessed type __int64 qword_497940;
// 497948: using guessed type __int64 qword_497948;
// 497950: using guessed type __int64 qword_497950;
// 497958: using guessed type __int64 qword_497958;
// 497960: using guessed type __int64 qword_497960;
// 497968: using guessed type __int64 qword_497968;
// 497970: using guessed type __int64 qword_497970;
// 497978: using guessed type __int64 qword_497978;
// 497980: using guessed type __int64 qword_497980;

//----- (00450040) --------------------------------------------------------
char __userpurge sub_450040@<al>(int a1@<ebp>, int a2, int a3, int a4, int a5, int a6)
{
  signed int v6; // ecx@1
  int v7; // edi@1
  int v8; // esi@1
  int v9; // edx@1
  int v10; // eax@9
  int v11; // eax@10
  int v12; // ecx@10
  int v13; // ebx@10
  int v14; // ST24_4@10
  int v15; // ST18_4@10
  int v16; // ecx@10
  int v17; // ST20_4@10
  int v18; // eax@10
  int v19; // ST10_4@10
  int v20; // ecx@10
  int v21; // eax@10
  signed int v22; // ebx@10
  int v23; // eax@10
  int v24; // ebp@13
  char v25; // al@19
  int v26; // ebx@20
  int v27; // ecx@20
  int v28; // esi@20
  int v29; // eax@20
  int v30; // edx@20
  int v31; // ebp@21
  char v32; // al@27
  int v33; // ebx@28
  int v34; // ecx@28
  int v35; // esi@28
  int v36; // eax@28
  int v37; // edx@28
  int v38; // ebp@29
  char v39; // al@35
  int v40; // ebx@36
  int v41; // ecx@36
  int v42; // esi@36
  int v43; // eax@36
  int v44; // edx@36
  int v45; // ebp@37
  char result; // al@43
  int v47; // ebx@44
  int v48; // ecx@44
  int v49; // esi@44
  int v50; // eax@44
  int v51; // edx@44
  signed int v52; // ebx@44
  int v53; // ecx@44
  signed int v54; // [sp+14h] [bp-34h]@1
  int v55; // [sp+1Ch] [bp-2Ch]@1
  int v56; // [sp+28h] [bp-20h]@0
  int v57; // [sp+2Ch] [bp-1Ch]@0
  int v58; // [sp+30h] [bp-18h]@0
  int v59; // [sp+34h] [bp-14h]@0
  int v60; // [sp+3Ch] [bp-Ch]@0
  int v61; // [sp+40h] [bp-8h]@0
  int v62; // [sp+44h] [bp-4h]@0
  int v63; // [sp+48h] [bp+0h]@0
  int v64; // [sp+4Ch] [bp+4h]@0
  int v65; // [sp+50h] [bp+8h]@0
  int v66; // [sp+54h] [bp+Ch]@0
  int v67; // [sp+5Ch] [bp+14h]@0
  int v68; // [sp+60h] [bp+18h]@0
  int v69; // [sp+64h] [bp+1Ch]@0
  int v70; // [sp+68h] [bp+20h]@0
  int v71; // [sp+6Ch] [bp+24h]@0
  int v72; // [sp+70h] [bp+28h]@0
  int v73; // [sp+74h] [bp+2Ch]@0
  int v74; // [sp+7Ch] [bp+34h]@0
  int v75; // [sp+80h] [bp+38h]@0
  int v76; // [sp+84h] [bp+3Ch]@0
  int v77; // [sp+88h] [bp+40h]@0
  int v78; // [sp+8Ch] [bp+44h]@0
  int v79; // [sp+90h] [bp+48h]@0
  int v80; // [sp+94h] [bp+4Ch]@0
  int v81; // [sp+9Ch] [bp+54h]@0
  int v82; // [sp+A0h] [bp+58h]@0
  int v83; // [sp+A4h] [bp+5Ch]@0

  v6 = 8;
  v7 = *(_DWORD *)(a2 + 328) + 128;
  v8 = a4 + 96;
  v54 = 8;
  v55 = a1;
  v9 = *(_DWORD *)(a3 + 80) + 96;
  do
  {
    if ( v6 != 4 )
    {
      if ( *(_WORD *)(v8 - 80)
        || *(_WORD *)(v8 - 64)
        || *(_WORD *)(v8 - 48)
        || *(_WORD *)(v8 - 16)
        || *(_WORD *)v8
        || *(_WORD *)(v8 + 16) )
      {
        v11 = *(_WORD *)(v8 - 96) * *(_WORD *)(v9 - 96) << 14;
        v12 = 15137 * *(_WORD *)(v8 - 64) * *(_WORD *)(v9 - 64) - 6270 * *(_WORD *)v9 * *(_WORD *)v8;
        v13 = v12 + v11;
        v14 = v11 - v12;
        v15 = *(_WORD *)(v8 + 16) * *(_WORD *)(v9 + 16);
        v16 = *(_WORD *)(v8 - 16) * *(_WORD *)(v9 - 16);
        v17 = *(_WORD *)(v8 - 48) * *(_WORD *)(v9 - 48);
        v18 = *(_WORD *)(v8 - 80) * *(_WORD *)(v9 - 80);
        v19 = v16;
        v20 = 8697 * v18 + 11893 * v16 - 17799 * v17 - 1730 * v15;
        v21 = 7373 * v17 + 20995 * v18 - 4926 * v19 - 4176 * v15;
        a1 = v55;
        *(_DWORD *)(v55 - 32) = (v13 + v21 + 2048) >> 12;
        *(_DWORD *)(v55 + 64) = (v13 - v21 + 2048) >> 12;
        v22 = v14 + v20 + 2048;
        v23 = v14 - v20;
        v6 = v54;
        *(_DWORD *)v55 = v22 >> 12;
        v10 = (v23 + 2048) >> 12;
      }
      else
      {
        v10 = 4 * *(_WORD *)(v8 - 96) * *(_WORD *)(v9 - 96);
        *(_DWORD *)(a1 - 32) = v10;
        *(_DWORD *)a1 = v10;
        *(_DWORD *)(a1 + 64) = v10;
      }
      *(_DWORD *)(a1 + 32) = v10;
    }
    a1 += 4;
    v8 += 2;
    v9 += 2;
    --v6;
    v55 = a1;
    v54 = v6;
  }
  while ( v6 > 0 );
  v24 = a6 + *(_DWORD *)a5;
  if ( v57 || v58 || v59 || v60 || v61 || v62 )
  {
    v26 = 15137 * v58 - 6270 * v61;
    v27 = v26 + (v56 << 14);
    v28 = (v56 << 14) - v26;
    v29 = 11893 * v60 + 8697 * v57 + -17799 * v59 - 1730 * v62;
    v30 = 7373 * v59 + 20995 * v57 + -4176 * v62 - 4926 * v60;
    LOBYTE(v26) = *(_BYTE *)((((v27 + v30 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v24 + 3) = *(_BYTE *)((((v27 - v30 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v27) = *(_BYTE *)((((v28 + v29 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v30) = *(_BYTE *)((((v28 - v29 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)v24 = v26;
    *(_BYTE *)(v24 + 1) = v27;
    *(_BYTE *)(v24 + 2) = v30;
  }
  else
  {
    v25 = *(_BYTE *)((((v56 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v24 = v25;
    *(_BYTE *)(v24 + 1) = v25;
    *(_BYTE *)(v24 + 2) = v25;
    *(_BYTE *)(v24 + 3) = v25;
  }
  v31 = a6 + *(_DWORD *)(a5 + 4);
  if ( v64 || v65 || v66 || v67 || v68 || v69 )
  {
    v33 = 15137 * v65 - 6270 * v68;
    v34 = v33 + (v63 << 14);
    v35 = (v63 << 14) - v33;
    v36 = 8697 * v64 + 11893 * v67 + -17799 * v66 - 1730 * v69;
    v37 = 7373 * v66 + 20995 * v64 + -4176 * v69 - 4926 * v67;
    LOBYTE(v33) = *(_BYTE *)((((v34 + v37 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v31 + 3) = *(_BYTE *)((((v34 - v37 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v37) = *(_BYTE *)((((v35 + v36 + 0x40000) >> 19) & 0x3FF) + v7);
    v32 = *(_BYTE *)((((v35 - v36 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)v31 = v33;
    *(_BYTE *)(v31 + 1) = v37;
  }
  else
  {
    v32 = *(_BYTE *)((((v63 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v31 = v32;
    *(_BYTE *)(v31 + 1) = v32;
    *(_BYTE *)(v31 + 3) = v32;
  }
  *(_BYTE *)(v31 + 2) = v32;
  v38 = a6 + *(_DWORD *)(a5 + 8);
  if ( v71 || v72 || v73 || v74 || v75 || v76 )
  {
    v40 = 15137 * v72 - 6270 * v75;
    v41 = v40 + (v70 << 14);
    v42 = (v70 << 14) - v40;
    v43 = 8697 * v71 + 11893 * v74 + -17799 * v73 - 1730 * v76;
    v44 = 7373 * v73 + 20995 * v71 + -4176 * v76 - 4926 * v74;
    LOBYTE(v40) = *(_BYTE *)((((v41 + v44 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v38 + 3) = *(_BYTE *)((((v41 - v44 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v41) = *(_BYTE *)((((v42 + v43 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v44) = *(_BYTE *)((((v42 - v43 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)v38 = v40;
    *(_BYTE *)(v38 + 1) = v41;
    *(_BYTE *)(v38 + 2) = v44;
  }
  else
  {
    v39 = *(_BYTE *)((((v70 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v38 = v39;
    *(_BYTE *)(v38 + 1) = v39;
    *(_BYTE *)(v38 + 2) = v39;
    *(_BYTE *)(v38 + 3) = v39;
  }
  v45 = a6 + *(_DWORD *)(a5 + 12);
  if ( v78 || v79 || v80 || v81 || v82 || v83 )
  {
    v47 = 15137 * v79 - 6270 * v82;
    v48 = v47 + (v77 << 14);
    v49 = (v77 << 14) - v47;
    v50 = 8697 * v78 + 11893 * v81 + -17799 * v80 - 1730 * v83;
    v51 = 7373 * v80 + 20995 * v78 - 4926 * v81 - 4176 * v83;
    v52 = v48 + v51 + 0x40000;
    LOBYTE(v51) = *(_BYTE *)((((v48 - v51 + 0x40000) >> 19) & 0x3FF) + v7);
    LOBYTE(v52) = *(_BYTE *)(((v52 >> 19) & 0x3FF) + v7);
    v53 = ((v49 + v50 + 0x40000) >> 19) & 0x3FF;
    result = *(_BYTE *)((((v49 - v50 + 0x40000) >> 19) & 0x3FF) + v7);
    *(_BYTE *)(v45 + 3) = v51;
    LOBYTE(v51) = *(_BYTE *)(v53 + v7);
    *(_BYTE *)v45 = v52;
    *(_BYTE *)(v45 + 1) = v51;
    *(_BYTE *)(v45 + 2) = result;
  }
  else
  {
    result = *(_BYTE *)((((v77 + 16) >> 5) & 0x3FF) + v7);
    *(_BYTE *)v45 = result;
    *(_BYTE *)(v45 + 1) = result;
    *(_BYTE *)(v45 + 3) = result;
    *(_BYTE *)(v45 + 2) = result;
  }
  return result;
}

//----- (00450700) --------------------------------------------------------
char __stdcall sub_450700(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // ebp@1
  signed int v6; // ecx@1
  int v7; // edx@1
  char *v8; // edi@1
  int v9; // esi@1
  int v10; // eax@9
  int v11; // ecx@10
  int v12; // eax@10
  signed int v13; // ebx@10
  int v14; // eax@10
  signed int v15; // ecx@13
  char *v16; // esi@13
  int v17; // edi@14
  int v18; // edx@14
  char result; // al@18
  int v20; // eax@19
  int v21; // ecx@19
  signed int v22; // edx@19
  int v23; // eax@19
  int v24; // [sp+10h] [bp-44h]@1
  char v25; // [sp+14h] [bp-40h]@1
  signed int v26; // [sp+58h] [bp+4h]@1
  signed int v27; // [sp+58h] [bp+4h]@13

  v5 = *(_DWORD *)(a1 + 328) + 128;
  v6 = 8;
  v7 = a3 + 48;
  v24 = *(_DWORD *)(a1 + 328) + 128;
  v8 = &v25;
  v26 = 8;
  v9 = *(_DWORD *)(a2 + 80) + 48;
  do
  {
    if ( v6 != 6 && v6 != 4 && v6 != 2 )
    {
      if ( *(_WORD *)(v7 - 32) || *(_WORD *)v7 || *(_WORD *)(v7 + 32) || *(_WORD *)(v7 + 64) )
      {
        v5 = v24;
        v11 = 29692 * *(_WORD *)(v7 - 32) * *(_WORD *)(v9 - 32)
            + 6967 * *(_WORD *)(v7 + 32) * *(_WORD *)(v9 + 32)
            - 5906 * *(_WORD *)(v7 + 64) * *(_WORD *)(v9 + 64)
            - 10426 * *(_WORD *)v9 * *(_WORD *)v7;
        v12 = *(_WORD *)(v7 - 48) * *(_WORD *)(v9 - 48) << 15;
        v13 = v11 + v12 + 4096;
        v14 = v12 - v11;
        v6 = v26;
        *(_DWORD *)v8 = v13 >> 13;
        v10 = (v14 + 4096) >> 13;
      }
      else
      {
        v10 = 4 * *(_WORD *)(v7 - 48) * *(_WORD *)(v9 - 48);
        *(_DWORD *)v8 = v10;
      }
      *((_DWORD *)v8 + 8) = v10;
    }
    v7 += 2;
    v9 += 2;
    v8 += 4;
    v26 = --v6;
  }
  while ( v6 > 0 );
  v15 = 0;
  v16 = &v25;
  v27 = 0;
  do
  {
    v17 = a5 + *(_DWORD *)(a4 + 4 * v15);
    v18 = *((_DWORD *)v16 + 1);
    if ( v18 || *((_DWORD *)v16 + 3) || *((_DWORD *)v16 + 5) || *((_DWORD *)v16 + 7) )
    {
      v20 = *(_DWORD *)v16 << 15;
      v21 = 29692 * v18 + 6967 * *((_DWORD *)v16 + 5) - 10426 * *((_DWORD *)v16 + 3) - 5906 * *((_DWORD *)v16 + 7);
      v22 = v21 + v20 + 0x80000;
      v23 = v20 - v21;
      v15 = v27;
      result = *(_BYTE *)((((v23 + 0x80000) >> 20) & 0x3FF) + v5);
      *(_BYTE *)v17 = *(_BYTE *)(((v22 >> 20) & 0x3FF) + v5);
    }
    else
    {
      result = *(_BYTE *)((((*(_DWORD *)v16 + 16) >> 5) & 0x3FF) + v5);
      *(_BYTE *)v17 = result;
    }
    v16 += 32;
    ++v15;
    *(_BYTE *)(v17 + 1) = result;
    v27 = v15;
  }
  while ( v15 < 2 );
  return result;
}

//----- (004508D0) --------------------------------------------------------
int __stdcall sub_4508D0(int a1, int a2, _WORD *a3, int *a4, int a5)
{
  int result; // eax@1

  result = *a4;
  *(_BYTE *)(a5 + *a4) = *(_BYTE *)((((*a3 * **(_WORD **)(a2 + 80) + 4) >> 3) & 0x3FF) + *(_DWORD *)(a1 + 328) + 128);
  return result;
}

//----- (00450920) --------------------------------------------------------
unsigned int *__stdcall sub_450920(unsigned int a1, unsigned int *a2, unsigned int *a3, unsigned int *a4, int a5)
{
  unsigned int *result; // eax@1
  unsigned int *v6; // ecx@1
  unsigned int *v7; // ebx@1
  unsigned int v8; // edi@1
  int v9; // edx@1
  __m64 v10; // mm0@2
  __m64 v11; // mm2@2
  __m64 v12; // mm6@2
  __m64 v13; // mm1@2
  __m64 v14; // mm7@2
  __m64 v15; // mm2@2
  __m64 v16; // mm5@2
  __m64 v17; // mm3@2
  __m64 v18; // mm4@2
  __m64 v19; // mm7@2
  __m64 v20; // mm1@2
  __m64 v21; // mm3@2
  __m64 v22; // mm0@2
  __m64 v23; // mm3@2
  __m64 v24; // mm2@2
  __m64 v25; // mm3@2

  result = a2;
  v6 = a4;
  v7 = a3;
  v8 = a1 >> 2;
  v9 = a5;
  do
  {
    v10 = _m_punpcklbw(_mm_cvtsi32_si64(*result), 0i64);
    v11 = _m_psubsw(_m_punpcklbw(_mm_cvtsi32_si64(*v7), 0i64), (__m64)qword_497990);
    v12 = _m_psllw(v10, 8u);
    v13 = _m_psubsw(_m_punpcklbw(_mm_cvtsi32_si64(*v6), 0i64), (__m64)qword_497990);
    v14 = v11;
    v15 = _m_psrad(_m_paddd(_m_pmaddwd(_m_punpcklwd(v11, v13), (__m64)qword_497998), _m_punpcklwd(v12, 0i64)), 8u);
    v16 = _m_psrad(_m_paddd(_m_pmaddwd(_m_punpckhwd(v14, v13), (__m64)qword_497998), _m_punpckhwd(v12, 0i64)), 8u);
    v17 = _m_psrad(_m_pmaddwd(_m_punpcklwd(v13, v10), (__m64)qword_4979A0), 8u);
    v18 = _m_psrad(_m_pmaddwd(_m_punpcklwd(v14, v10), (__m64)qword_4979A8), 8u);
    v19 = _m_psrad(_m_pmaddwd(_m_punpckhwd(v14, v10), (__m64)qword_4979A8), 8u);
    v20 = _m_psrad(_m_pmaddwd(_m_punpckhwd(v13, v10), (__m64)qword_4979A0), 8u);
    v21 = _m_packuswb(
            _m_packssdw(_m_punpckldq(v17, v15), _m_punpckldq(v18, (__m64)(unsigned int)qword_497988)),
            _m_packssdw(_m_punpckhdq(v17, v15), _m_punpckhdq(v18, (__m64)qword_497988)));
    v22 = v21;
    v23 = _m_psrlq(_m_pand(v21, (__m64)qword_4979B0), 8u);
    v9 += 12;
    v24 = _m_packuswb(
            _m_packssdw(_m_punpckldq(v20, v16), _m_punpckldq(v19, (__m64)(unsigned int)qword_497988)),
            _m_packssdw(_m_punpckhdq(v20, v16), _m_punpckhdq(v19, (__m64)qword_497988)));
    ++result;
    *(_DWORD *)(v9 - 12) = _mm_cvtsi64_si32(_m_por(v22, v23));
    v25 = _m_punpcklwd(_m_psrlq(v23, 0x20u), v24);
    ++v6;
    *(_DWORD *)(v9 - 8) = _mm_cvtsi64_si32(v25);
    ++v7;
    *(_DWORD *)(v9 - 4) = _mm_cvtsi64_si32(_m_por(_m_psrlq(v24, 0x18u), _m_psrlq(v25, 0x30u)));
    --v8;
  }
  while ( v8 );
  return result;
}
// 497988: using guessed type __int64 qword_497988;
// 497990: using guessed type __int64 qword_497990;
// 497998: using guessed type __int64 qword_497998;
// 4979A0: using guessed type __int64 qword_4979A0;
// 4979A8: using guessed type __int64 qword_4979A8;
// 4979B0: using guessed type __int64 qword_4979B0;

//----- (00450A60) --------------------------------------------------------
__m128 *__stdcall sub_450A60(__m128 *a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm1@1
  __m128 v5; // xmm2@1
  unsigned int v6; // edx@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm3@1
  __m128 v9; // xmm0@1
  __m128 v10; // xmm5@1
  __m128 v11; // xmm6@1
  __m128 v12; // xmm2@1
  __m128 v13; // xmm4@1
  __m128 v14; // xmm3@1
  __m128 v15; // xmm3@1
  __m128 v16; // xmm0@1
  __m128 v17; // xmm5@1
  __m128 v18; // xmm6@1
  __m128 v19; // xmm1@1
  __m128 v20; // xmm0@1
  __m128 *result; // eax@1
  void *retaddr; // [sp+0h] [bp+0h]@1

  v3 = _mm_and_ps(*a1, (__m128)xmmword_4B9890);
  v4 = _mm_and_ps(*a1, (__m128)xmmword_4B9880);
  v5 = v3;
  v6 = (unsigned int)(&retaddr - 16) & 0xFFFFFFF0;
  v7 = _mm_add_ps(_mm_mul_ps(v3, (__m128)xmmword_4B9870), (__m128)xmmword_4B9820);
  v8 = v7;
  v9 = _mm_sub_ps(v7, (__m128)xmmword_4B9820);
  v10 = (__m128)xmmword_4B9810;
  v11 = (__m128)xmmword_4B9800;
  v12 = _mm_sub_ps(
          _mm_sub_ps(
            _mm_sub_ps(_mm_sub_ps(v5, _mm_mul_ps((__m128)xmmword_4B9860, v9)), _mm_mul_ps((__m128)xmmword_4B9850, v9)),
            _mm_mul_ps((__m128)xmmword_4B9840, v9)),
          _mm_mul_ps((__m128)xmmword_4B9830, v9));
  v13 = _mm_mul_ps(v12, v12);
  v14 = _mm_and_ps(v8, (__m128)xmmword_4B97F0);
  *(__m128 *)v6 = _mm_and_ps(v14, (__m128)xmmword_4B97E0);
  *(__m128 *)(v6 + 16) = v14;
  *(__m128 *)(v6 + 32) = v14;
  *(_DWORD *)(v6 + 16) = (dword_4B97D0 & (*(_DWORD *)(v6 + 16) - *(_DWORD *)v6)) << 30;
  *(_DWORD *)(v6 + 20) = (dword_4B97D0 & (*(_DWORD *)(v6 + 20) - *(_DWORD *)(v6 + 4))) << 30;
  *(_DWORD *)(v6 + 24) = (dword_4B97D0 & (*(_DWORD *)(v6 + 24) - *(_DWORD *)(v6 + 8))) << 30;
  *(_DWORD *)(v6 + 28) = (dword_4B97D0 & (*(_DWORD *)(v6 + 28) - *(_DWORD *)(v6 + 12))) << 30;
  *(_DWORD *)(v6 + 32) = (dword_4B97D0 & (*(_DWORD *)v6 + *(_DWORD *)(v6 + 32))) << 30;
  *(_DWORD *)(v6 + 36) = (dword_4B97D0 & (*(_DWORD *)(v6 + 4) + *(_DWORD *)(v6 + 36))) << 30;
  *(_DWORD *)(v6 + 40) = (dword_4B97D0 & (*(_DWORD *)(v6 + 8) + *(_DWORD *)(v6 + 40))) << 30;
  *(_DWORD *)(v6 + 44) = (dword_4B97D0 & (*(_DWORD *)(v6 + 12) + *(_DWORD *)(v6 + 44))) << 30;
  *(_DWORD *)v6 <<= 30;
  *(_DWORD *)(v6 + 4) <<= 30;
  *(_DWORD *)(v6 + 8) <<= 30;
  *(_DWORD *)(v6 + 12) <<= 30;
  v15 = _mm_xor_ps(*(__m128 *)(v6 + 0x10), v4);
  v16 = _mm_cmpneqps(*(__m128 *)v6, 0i64);
  v17 = _mm_mul_ps(
          _mm_add_ps(
            _mm_mul_ps(
              _mm_add_ps(
                _mm_mul_ps(_mm_add_ps(_mm_mul_ps(v10, v13), (__m128)xmmword_4B97C0), v13),
                (__m128)xmmword_4B97A0),
              v13),
            (__m128)xmmword_4B9780),
          v12);
  v18 = _mm_add_ps(
          _mm_mul_ps(
            _mm_add_ps(
              _mm_mul_ps(
                _mm_add_ps(
                  _mm_mul_ps(_mm_add_ps(_mm_mul_ps(v11, v13), (__m128)xmmword_4B97B0), v13),
                  (__m128)xmmword_4B9790),
                v13),
              (__m128)xmmword_4B9770),
            v13),
          (__m128)xmmword_4B9760);
  v19 = _mm_or_ps(_mm_andnot_ps(v16, v17), _mm_and_ps(v16, v18));
  v20 = _mm_xor_ps(_mm_or_ps(_mm_and_ps(v16, v17), _mm_andnot_ps(v16, v18)), *(__m128 *)(v6 + 0x20));
  result = a2;
  *a2 = _mm_xor_ps(v19, v15);
  *a3 = v20;
  return result;
}
// 4B9760: using guessed type __int128 xmmword_4B9760;
// 4B9770: using guessed type __int128 xmmword_4B9770;
// 4B9780: using guessed type __int128 xmmword_4B9780;
// 4B9790: using guessed type __int128 xmmword_4B9790;
// 4B97A0: using guessed type __int128 xmmword_4B97A0;
// 4B97B0: using guessed type __int128 xmmword_4B97B0;
// 4B97C0: using guessed type __int128 xmmword_4B97C0;
// 4B97D0: using guessed type int dword_4B97D0;
// 4B97E0: using guessed type __int128 xmmword_4B97E0;
// 4B97F0: using guessed type __int128 xmmword_4B97F0;
// 4B9800: using guessed type __int128 xmmword_4B9800;
// 4B9810: using guessed type __int128 xmmword_4B9810;
// 4B9820: using guessed type __int128 xmmword_4B9820;
// 4B9830: using guessed type __int128 xmmword_4B9830;
// 4B9840: using guessed type __int128 xmmword_4B9840;
// 4B9850: using guessed type __int128 xmmword_4B9850;
// 4B9860: using guessed type __int128 xmmword_4B9860;
// 4B9870: using guessed type __int128 xmmword_4B9870;
// 4B9880: using guessed type __int128 xmmword_4B9880;
// 4B9890: using guessed type __int128 xmmword_4B9890;

//----- (00450C49) --------------------------------------------------------
__m128 *__stdcall sub_450C49(__m128i *a1, __m128 *a2, __m128 *a3)
{
  __m128 v3; // xmm0@1
  __m128 v4; // xmm2@1
  __m128 v5; // xmm0@1
  __m128 v6; // xmm3@1
  __m128 v7; // xmm0@1
  __m128 v8; // xmm2@1
  __m128 v9; // xmm4@1
  __m128 v10; // xmm7@1
  __m128i v11; // xmm0@1
  __m128i v12; // xmm3@1
  __m128 v13; // xmm7@1
  __m128 v14; // xmm0@1
  __m128 v15; // xmm5@1
  __m128 v16; // xmm6@1
  __m128 *result; // eax@1

  v3 = (__m128)_mm_and_si128(*a1, (__m128i)xmmword_4B99D0);
  v4 = v3;
  v5 = _mm_add_ps(_mm_mul_ps(v3, (__m128)xmmword_4B99B0), (__m128)xmmword_4B9960);
  v6 = v5;
  v7 = _mm_sub_ps(v5, (__m128)xmmword_4B9960);
  v8 = _mm_sub_ps(
         _mm_sub_ps(
           _mm_sub_ps(_mm_sub_ps(v4, _mm_mul_ps((__m128)xmmword_4B99A0, v7)), _mm_mul_ps((__m128)xmmword_4B9990, v7)),
           _mm_mul_ps((__m128)xmmword_4B9980, v7)),
         _mm_mul_ps((__m128)xmmword_4B9970, v7));
  v9 = _mm_mul_ps(v8, v8);
  v10 = _mm_and_ps(v6, (__m128)xmmword_4B9930);
  v11 = (__m128i)_mm_and_ps(v10, (__m128)xmmword_4B9920);
  v12 = _mm_sub_epi32((__m128i)v10, v11);
  v13 = (__m128)_mm_sll_epi32(_mm_and_si128(_mm_add_epi32((__m128i)v10, v11), (__m128i)xmmword_4B9910), 0x1Eu);
  v14 = _mm_cmpneqps((__m128)_mm_sll_epi32(v11, 0x1Eu), 0i64);
  v15 = _mm_mul_ps(
          _mm_add_ps(
            _mm_mul_ps(
              _mm_add_ps(
                _mm_mul_ps(_mm_add_ps(_mm_mul_ps((__m128)xmmword_4B9950, v9), (__m128)xmmword_4B9900), v9),
                (__m128)xmmword_4B98E0),
              v9),
            (__m128)xmmword_4B98C0),
          v8);
  v16 = _mm_add_ps(
          _mm_mul_ps(
            _mm_add_ps(
              _mm_mul_ps(
                _mm_add_ps(
                  _mm_mul_ps(_mm_add_ps(_mm_mul_ps((__m128)xmmword_4B9940, v9), (__m128)xmmword_4B98F0), v9),
                  (__m128)xmmword_4B98D0),
                v9),
              (__m128)xmmword_4B98B0),
            v9),
          (__m128)xmmword_4B98A0);
  result = a2;
  *a2 = _mm_xor_ps(
          _mm_or_ps(_mm_andnot_ps(v14, v15), _mm_and_ps(v14, v16)),
          (__m128)_mm_xor_si128(
                    _mm_sll_epi32(_mm_and_si128(v12, (__m128i)xmmword_4B9910), 0x1Eu),
                    _mm_and_si128(*a1, (__m128i)xmmword_4B99C0)));
  *a3 = _mm_xor_ps(_mm_or_ps(_mm_and_ps(v14, v15), _mm_andnot_ps(v14, v16)), v13);
  return result;
}
// 4B98A0: using guessed type __int128 xmmword_4B98A0;
// 4B98B0: using guessed type __int128 xmmword_4B98B0;
// 4B98C0: using guessed type __int128 xmmword_4B98C0;
// 4B98D0: using guessed type __int128 xmmword_4B98D0;
// 4B98E0: using guessed type __int128 xmmword_4B98E0;
// 4B98F0: using guessed type __int128 xmmword_4B98F0;
// 4B9900: using guessed type __int128 xmmword_4B9900;
// 4B9910: using guessed type __int128 xmmword_4B9910;
// 4B9920: using guessed type __int128 xmmword_4B9920;
// 4B9930: using guessed type __int128 xmmword_4B9930;
// 4B9940: using guessed type __int128 xmmword_4B9940;
// 4B9950: using guessed type __int128 xmmword_4B9950;
// 4B9960: using guessed type __int128 xmmword_4B9960;
// 4B9970: using guessed type __int128 xmmword_4B9970;
// 4B9980: using guessed type __int128 xmmword_4B9980;
// 4B9990: using guessed type __int128 xmmword_4B9990;
// 4B99A0: using guessed type __int128 xmmword_4B99A0;
// 4B99B0: using guessed type __int128 xmmword_4B99B0;
// 4B99C0: using guessed type __int128 xmmword_4B99C0;
// 4B99D0: using guessed type __int128 xmmword_4B99D0;

//----- (00450E80) --------------------------------------------------------
void sub_450E80()
{
  ;
}

//----- (00450F80) --------------------------------------------------------
void sub_450F80()
{
  ;
}

//----- (00451180) --------------------------------------------------------
void sub_451180()
{
  ;
}

//----- (00451560) --------------------------------------------------------
unsigned int __usercall sub_451560@<eax>(__m64 a1@<mm0>)
{
  int v1; // eax@1

  v1 = _mm_cvtsi64_si32(a1);
  return v1 & 0x80000000 ^ v1;
}

//----- (00451660) --------------------------------------------------------
unsigned int __usercall sub_451660@<eax>(__m64 a1@<mm0>)
{
  int v1; // eax@1

  v1 = _mm_cvtsi64_si32(a1);
  return v1 & 0x80000000 ^ v1;
}

//----- (00451A18) --------------------------------------------------------
int __stdcall sub_451A18(char a1, char a2, int a3, int a4, int a5)
{
  int result; // eax@1

  result = (*(int (__stdcall **)(_DWORD, signed int, signed int))(a5 + 32))(*(_DWORD *)(a5 + 40), 1, 28);
  if ( result )
  {
    *(_DWORD *)result = 0;
    *(_BYTE *)(result + 16) = a1;
    *(_BYTE *)(result + 17) = a2;
    *(_DWORD *)(result + 20) = a3;
    *(_DWORD *)(result + 24) = a4;
  }
  return result;
}

//----- (00451A4B) --------------------------------------------------------
int __stdcall sub_451A4B(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  _BYTE *v5; // edx@1
  int v6; // ebx@1
  unsigned int v7; // eax@1
  unsigned int v8; // eax@2
  signed int v9; // eax@7
  unsigned int v10; // eax@7
  int v11; // eax@8
  unsigned int v12; // eax@15
  int v13; // eax@16
  int v14; // eax@17
  unsigned int v15; // eax@26
  int v16; // ecx@27
  unsigned int v17; // eax@30
  int v18; // eax@31
  int v19; // ecx@31
  int v20; // eax@31
  unsigned int v21; // eax@39
  int v22; // ecx@40
  unsigned int v23; // ecx@41
  unsigned int v24; // eax@47
  unsigned int v25; // ecx@47
  int v26; // eax@52
  unsigned int v27; // eax@52
  unsigned int v28; // ecx@56
  unsigned int v29; // eax@67
  unsigned int v30; // ecx@67
  int v31; // eax@72
  unsigned int v32; // eax@72
  unsigned int v33; // ecx@76
  int v34; // ecx@86
  int v36; // eax@95
  int v37; // ebx@96
  int v38; // [sp-4h] [bp-28h]@84
  int v39; // [sp+Ch] [bp-18h]@16
  unsigned int v40; // [sp+Ch] [bp-18h]@52
  unsigned int v41; // [sp+Ch] [bp-18h]@72
  _BYTE *v42; // [sp+14h] [bp-10h]@41
  unsigned int v43; // [sp+18h] [bp-Ch]@10
  unsigned int v44; // [sp+1Ch] [bp-8h]@1
  _BYTE *v45; // [sp+20h] [bp-4h]@1
  unsigned int v46; // [sp+2Ch] [bp+8h]@1
  unsigned int v47; // [sp+30h] [bp+Ch]@1
  int v48; // [sp+34h] [bp+10h]@52

  v3 = a2;
  v45 = *(_BYTE **)a2;
  v4 = a1;
  v5 = *(_BYTE **)(a1 + 52);
  v6 = *(_DWORD *)(a1 + 4);
  v44 = *(_DWORD *)(a2 + 4);
  v47 = *(_DWORD *)(a1 + 32);
  v46 = *(_DWORD *)(a1 + 28);
  v7 = *(_DWORD *)(v4 + 48);
  if ( (unsigned int)v5 >= v7 )
    v8 = *(_DWORD *)(v4 + 44) - (_DWORD)v5;
  else
    v8 = v7 - (_DWORD)v5 - 1;
LABEL_82:
  v43 = v8;
  while ( 2 )
  {
    if ( *(_DWORD *)v6 > 9u )
    {
      v38 = -2;
      goto LABEL_85;
    }
    switch ( *(_DWORD *)v6 )
    {
      case 0:
        if ( v8 >= 0x102 && v44 >= 0xA )
        {
          *(_DWORD *)(v4 + 32) = v47;
          *(_DWORD *)(v4 + 28) = v46;
          *(_DWORD *)(v3 + 4) = v44;
          *(_DWORD *)(v3 + 8) += &v45[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v45;
          *(_DWORD *)(v4 + 52) = v5;
          v9 = sub_4525E7(*(_BYTE *)(v6 + 16), *(_BYTE *)(v6 + 17), *(_DWORD *)(v6 + 20), *(_DWORD *)(v6 + 24), v4, v3);
          v5 = *(_BYTE **)(v4 + 52);
          a3 = v9;
          v45 = *(_BYTE **)v3;
          v44 = *(_DWORD *)(v3 + 4);
          v47 = *(_DWORD *)(v4 + 32);
          v46 = *(_DWORD *)(v4 + 28);
          v10 = *(_DWORD *)(v4 + 48);
          v11 = (unsigned int)v5 >= v10 ? *(_DWORD *)(v4 + 44) - (_DWORD)v5 : v10 - (_DWORD)v5 - 1;
          v43 = v11;
          if ( a3 )
          {
            *(_DWORD *)v6 = 2 * (a3 != 1) + 7;
            goto LABEL_36;
          }
        }
        *(_DWORD *)(v6 + 12) = *(_BYTE *)(v6 + 16);
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 20);
        *(_DWORD *)v6 = 1;
        goto LABEL_15;
      case 1:
LABEL_15:
        while ( 2 )
        {
          v12 = *(_DWORD *)(v6 + 12);
          if ( v46 >= v12 )
          {
            v13 = *(_DWORD *)(v6 + 8) + 8 * (v47 & dword_4BAC60[v12]);
            v47 >>= *(_BYTE *)(v13 + 1);
            v46 -= *(_BYTE *)(v13 + 1);
            v39 = *(_BYTE *)v13;
            if ( *(_BYTE *)v13 )
            {
              if ( v39 & 0x10 )
              {
                *(_DWORD *)(v6 + 8) = v39 & 0xF;
                *(_DWORD *)(v6 + 4) = *(_DWORD *)(v13 + 4);
                *(_DWORD *)v6 = 2;
                goto LABEL_36;
              }
              if ( v39 & 0x40 )
              {
                if ( v39 & 0x20 )
                {
                  *(_DWORD *)v6 = 7;
                  goto LABEL_36;
                }
                *(_DWORD *)v6 = 9;
                *(_DWORD *)(v3 + 24) = "invalid literal/length code";
LABEL_89:
                v38 = -3;
                goto LABEL_85;
              }
              *(_DWORD *)(v6 + 12) = v39;
              v14 = v13 + 8 * *(_DWORD *)(v13 + 4);
            }
            else
            {
              v14 = *(_DWORD *)(v13 + 4);
              *(_DWORD *)v6 = 6;
            }
            goto LABEL_35;
          }
          if ( v44 )
          {
            a3 = 0;
            --v44;
            v47 |= *v45++ << v46;
            v46 += 8;
            continue;
          }
          goto LABEL_91;
        }
      case 2:
        while ( 2 )
        {
          v15 = *(_DWORD *)(v6 + 8);
          if ( v46 < v15 )
          {
            if ( v44 )
            {
              a3 = 0;
              --v44;
              v47 |= *v45++ << v46;
              v46 += 8;
              continue;
            }
LABEL_91:
            v38 = a3;
            *(_DWORD *)(v4 + 32) = v47;
            *(_DWORD *)(v4 + 28) = v46;
            *(_DWORD *)(v3 + 4) = 0;
            goto LABEL_86;
          }
          break;
        }
        v16 = *(_DWORD *)(v6 + 8);
        *(_DWORD *)(v6 + 4) += v47 & dword_4BAC60[v15];
        v47 >>= v16;
        v46 -= v16;
        *(_DWORD *)(v6 + 12) = *(_BYTE *)(v6 + 17);
        *(_DWORD *)(v6 + 8) = *(_DWORD *)(v6 + 24);
        *(_DWORD *)v6 = 3;
LABEL_30:
        while ( 1 )
        {
          v17 = *(_DWORD *)(v6 + 12);
          if ( v46 >= v17 )
            break;
          if ( !v44 )
            goto LABEL_91;
          a3 = 0;
          --v44;
          v47 |= *v45++ << v46;
          v46 += 8;
        }
        v18 = *(_DWORD *)(v6 + 8) + 8 * (v47 & dword_4BAC60[v17]);
        v47 >>= *(_BYTE *)(v18 + 1);
        v46 -= *(_BYTE *)(v18 + 1);
        v19 = v18;
        v20 = *(_BYTE *)v18;
        if ( v20 & 0x10 )
        {
          *(_DWORD *)(v6 + 8) = v20 & 0xF;
          *(_DWORD *)(v6 + 12) = *(_DWORD *)(v19 + 4);
          *(_DWORD *)v6 = 4;
          goto LABEL_36;
        }
        if ( v20 & 0x40 )
        {
          *(_DWORD *)v6 = 9;
          *(_DWORD *)(v3 + 24) = "invalid distance code";
          goto LABEL_89;
        }
        *(_DWORD *)(v6 + 12) = v20;
        v14 = v19 + 8 * *(_DWORD *)(v19 + 4);
LABEL_35:
        *(_DWORD *)(v6 + 8) = v14;
LABEL_36:
        v8 = v43;
        continue;
      case 3:
        goto LABEL_30;
      case 4:
        while ( 2 )
        {
          v21 = *(_DWORD *)(v6 + 8);
          if ( v46 < v21 )
          {
            if ( v44 )
            {
              a3 = 0;
              --v44;
              v47 |= *v45++ << v46;
              v46 += 8;
              continue;
            }
            goto LABEL_91;
          }
          break;
        }
        v22 = *(_DWORD *)(v6 + 8);
        *(_DWORD *)(v6 + 12) += v47 & dword_4BAC60[v21];
        v47 >>= v22;
        v46 -= v22;
        *(_DWORD *)v6 = 5;
LABEL_41:
        v23 = *(_DWORD *)(v4 + 40);
        v42 = &v5[-*(_DWORD *)(v6 + 12)];
        if ( (unsigned int)&v5[-*(_DWORD *)(v6 + 12)] < v23 )
        {
          do
            v42 += *(_DWORD *)(v4 + 44) - v23;
          while ( (unsigned int)v42 < *(_DWORD *)(v4 + 40) );
        }
        v8 = v43;
LABEL_44:
        if ( !*(_DWORD *)(v6 + 4) )
        {
          *(_DWORD *)v6 = 0;
          continue;
        }
        if ( v8 )
          goto LABEL_101;
        if ( v5 == *(_BYTE **)(v4 + 44) )
        {
          v24 = *(_DWORD *)(v4 + 48);
          v25 = *(_DWORD *)(v4 + 40);
          if ( v24 != v25 )
          {
            v5 = *(_BYTE **)(v4 + 40);
            v8 = v25 >= v24 ? *(_DWORD *)(v4 + 44) - v25 : v24 - v25 - 1;
            if ( v8 )
              goto LABEL_101;
          }
        }
        *(_DWORD *)(v4 + 52) = v5;
        v26 = sub_4524D6(v4, v3, a3);
        v5 = *(_BYTE **)(v4 + 52);
        v48 = v26;
        v27 = *(_DWORD *)(v4 + 48);
        v40 = *(_DWORD *)(v4 + 48);
        if ( (unsigned int)v5 >= v27 )
          v8 = *(_DWORD *)(v4 + 44) - (_DWORD)v5;
        else
          v8 = v27 - (_DWORD)v5 - 1;
        if ( v5 == *(_BYTE **)(v4 + 44) )
        {
          v28 = *(_DWORD *)(v4 + 40);
          if ( v40 != v28 )
          {
            v5 = *(_BYTE **)(v4 + 40);
            if ( v28 >= v40 )
              v8 = *(_DWORD *)(v4 + 44) - v28;
            else
              v8 = v40 - v28 - 1;
          }
        }
        if ( v8 )
        {
LABEL_101:
          a3 = 0;
          *v5++ = *v42++;
          v43 = --v8;
          if ( v42 == *(_BYTE **)(v4 + 44) )
            v42 = *(_BYTE **)(v4 + 40);
          --*(_DWORD *)(v6 + 4);
          goto LABEL_44;
        }
LABEL_92:
        v38 = v48;
LABEL_85:
        *(_DWORD *)(v4 + 32) = v47;
        *(_DWORD *)(v4 + 28) = v46;
        *(_DWORD *)(v3 + 4) = v44;
LABEL_86:
        v34 = (int)&v45[-*(_DWORD *)v3];
        *(_DWORD *)v3 = v45;
        *(_DWORD *)(v3 + 8) += v34;
LABEL_87:
        *(_DWORD *)(v4 + 52) = v5;
        return sub_4524D6(v4, v3, v38);
      case 5:
        goto LABEL_41;
      case 6:
        if ( !v8 )
        {
          if ( v5 != *(_BYTE **)(v4 + 44)
            || (v29 = *(_DWORD *)(v4 + 48), v30 = *(_DWORD *)(v4 + 40), v29 == v30)
            || ((v5 = *(_BYTE **)(v4 + 40), v30 >= v29) ? (v8 = *(_DWORD *)(v4 + 44) - v30) : (v8 = v29 - v30 - 1), !v8) )
          {
            *(_DWORD *)(v4 + 52) = v5;
            v31 = sub_4524D6(v4, v3, a3);
            v5 = *(_BYTE **)(v4 + 52);
            v48 = v31;
            v32 = *(_DWORD *)(v4 + 48);
            v41 = *(_DWORD *)(v4 + 48);
            if ( (unsigned int)v5 >= v32 )
              v8 = *(_DWORD *)(v4 + 44) - (_DWORD)v5;
            else
              v8 = v32 - (_DWORD)v5 - 1;
            if ( v5 == *(_BYTE **)(v4 + 44) )
            {
              v33 = *(_DWORD *)(v4 + 40);
              if ( v41 != v33 )
              {
                v5 = *(_BYTE **)(v4 + 40);
                if ( v33 >= v41 )
                  v8 = *(_DWORD *)(v4 + 44) - v33;
                else
                  v8 = v41 - v33 - 1;
              }
            }
            if ( !v8 )
              goto LABEL_92;
          }
        }
        a3 = 0;
        *v5++ = *(_BYTE *)(v6 + 8);
        --v8;
        *(_DWORD *)v6 = 0;
        goto LABEL_82;
      case 7:
        if ( v46 > 7 )
        {
          v46 -= 8;
          ++v44;
          --v45;
        }
        *(_DWORD *)(v4 + 52) = v5;
        v36 = sub_4524D6(v4, v3, a3);
        v5 = *(_BYTE **)(v4 + 52);
        if ( *(_BYTE **)(v4 + 48) != v5 )
        {
          *(_DWORD *)(v4 + 32) = v47;
          *(_DWORD *)(v4 + 28) = v46;
          *(_DWORD *)(v3 + 4) = v44;
          v37 = (int)&v45[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v45;
          *(_DWORD *)(v3 + 8) += v37;
          v38 = v36;
          goto LABEL_87;
        }
        *(_DWORD *)v6 = 8;
LABEL_98:
        v38 = 1;
        goto LABEL_85;
      case 8:
        goto LABEL_98;
      case 9:
        goto LABEL_89;
    }
  }
}
// 4BAC60: using guessed type int dword_4BAC60[];

//----- (00451FA2) --------------------------------------------------------
int __stdcall sub_451FA2(int a1, int a2)
{
  return (*(int (__stdcall **)(_DWORD, int))(a2 + 36))(*(_DWORD *)(a2 + 40), a1);
}

//----- (00451FB3) --------------------------------------------------------
signed int __userpurge sub_451FB3@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, _DWORD *a7, int a8, unsigned int *a9, unsigned int *a10)
{
  _DWORD *v10; // ecx@1
  unsigned int *v11; // esi@1
  unsigned int v12; // edx@1
  unsigned int v14; // ebx@7
  unsigned int v15; // ecx@7
  unsigned int v16; // eax@7
  signed int v17; // edx@16
  int v18; // edx@17
  int v19; // esi@20
  int *v20; // ecx@20
  int v21; // ebx@20
  int v22; // edx@20
  int v23; // ecx@21
  int v24; // eax@21
  int v25; // ebx@22
  _DWORD *v26; // ecx@24
  unsigned int v27; // ebx@24
  int v28; // eax@25
  int *v29; // eax@26
  int v30; // ecx@26
  int v31; // eax@28
  int v32; // ebx@28
  int v33; // eax@31
  int j; // ecx@32
  unsigned int v35; // esi@35
  unsigned int v36; // ecx@37
  unsigned int v37; // eax@37
  int v38; // eax@38
  unsigned int v39; // edx@38
  unsigned int *v40; // edx@42
  unsigned int v41; // edx@42
  unsigned int v42; // eax@42
  unsigned int v43; // eax@44
  unsigned int v44; // esi@44
  int *v45; // edx@45
  unsigned int v46; // esi@46
  unsigned int v47; // eax@46
  int v48; // ecx@46
  int v49; // edx@46
  unsigned int v50; // eax@52
  int v51; // eax@54
  signed int v52; // esi@56
  unsigned int v53; // eax@56
  int v54; // ecx@57
  int v55; // esi@60
  unsigned int i; // eax@60
  int v57; // ecx@63
  int v58; // eax@63
  int v60[15]; // [sp+Ch] [bp-A4h]@28
  int v61; // [sp+48h] [bp-68h]@26
  int v62[15]; // [sp+4Ch] [bp-64h]@21
  int v63; // [sp+88h] [bp-28h]@1
  int v64; // [sp+8Ch] [bp-24h]@1
  int v65; // [sp+90h] [bp-20h]@1
  int v66; // [sp+94h] [bp-1Ch]@1
  int v67; // [sp+98h] [bp-18h]@1
  int v68; // [sp+9Ch] [bp-14h]@1
  int v69; // [sp+A0h] [bp-10h]@1
  int v70; // [sp+A4h] [bp-Ch]@1
  int v71; // [sp+A8h] [bp-8h]@1
  int v72; // [sp+ACh] [bp-4h]@1
  int v73; // [sp+B0h] [bp+0h]@1
  int v74; // [sp+B4h] [bp+4h]@1
  int v75; // [sp+B8h] [bp+8h]@1
  int v76; // [sp+BCh] [bp+Ch]@1
  int v77; // [sp+C0h] [bp+10h]@1
  int v78; // [sp+C4h] [bp+14h]@1
  int v79; // [sp+C8h] [bp+18h]@34
  int v80; // [sp+CCh] [bp+1Ch]@35
  int v81; // [sp+D0h] [bp+20h]@20
  int v82; // [sp+D4h] [bp+24h]@29
  int v83; // [sp+D8h] [bp+28h]@14
  int v84; // [sp+DCh] [bp+2Ch]@28
  int *v85; // [sp+E0h] [bp+30h]@29
  unsigned int v86; // [sp+E4h] [bp+34h]@28
  int v87; // [sp+E8h] [bp+38h]@30
  int v88; // [sp+ECh] [bp+3Ch]@46
  unsigned int v89; // [sp+F0h] [bp+40h]@46
  unsigned int v90; // [sp+F4h] [bp+44h]@28
  int v91; // [sp+F8h] [bp+48h]@28
  int v92; // [sp+FCh] [bp+4Ch]@10
  unsigned int v93; // [sp+100h] [bp+50h]@7
  _DWORD *v94; // [sp+10Ch] [bp+5Ch]@25
  unsigned int *v95; // [sp+10Ch] [bp+5Ch]@28
  int v96; // [sp+110h] [bp+60h]@28

  v10 = a2;
  v11 = a1;
  v63 = 0;
  v64 = 0;
  v65 = 0;
  v66 = 0;
  v67 = 0;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v12 = a3;
  do
  {
    ++*(&v63 + *v10);
    ++v10;
    --v12;
  }
  while ( v12 );
  if ( v63 != a3 )
  {
    v14 = *a1;
    v93 = *a1;
    v15 = 1;
    v16 = 15;
    do
    {
      if ( *(&v63 + v15) )
        break;
      ++v15;
    }
    while ( v15 <= 0xF );
    v92 = v15;
    if ( v14 < v15 )
      v93 = v15;
    do
    {
      if ( *(&v63 + v16) )
        break;
      --v16;
    }
    while ( v16 );
    v83 = v16;
    if ( v93 > v16 )
      v93 = v16;
    *v11 = v93;
    v17 = 1 << v15;
    while ( v15 < v16 )
    {
      v18 = v17 - *(&v63 + v15);
      if ( v18 < 0 )
        return -3;
      ++v15;
      v17 = 2 * v18;
    }
    v19 = 4 * v16;
    v20 = &v63 + v16;
    v21 = *v20;
    v22 = v17 - *v20;
    v81 = v22;
    if ( v22 >= 0 )
    {
      *v20 = v22 + v21;
      v23 = 0;
      v24 = v16 - 1;
      v62[0] = 0;
      if ( v24 )
      {
        v25 = 0;
        do
        {
          v23 += *(int *)((char *)&v64 + v25 * 4);
          ++v25;
          --v24;
          v62[v25] = v23;
        }
        while ( v24 );
      }
      v26 = a2;
      v27 = 0;
      do
      {
        v28 = *v26;
        ++v26;
        v94 = v26;
        if ( v28 )
        {
          v29 = &v61 + v28;
          v30 = *v29;
          a10[v30] = v27;
          v22 = v81;
          *v29 = v30 + 1;
          v26 = v94;
        }
        ++v27;
      }
      while ( v27 < a3 );
      v31 = *(int *)((char *)&v61 + v19);
      v91 = -1;
      v96 = v31;
      v95 = a10;
      v32 = -v93;
      v86 = 0;
      v61 = 0;
      v60[0] = 0;
      v84 = 0;
      v90 = 0;
      if ( v92 > v83 )
      {
LABEL_68:
        if ( !v22 || v83 == 1 )
          return 0;
        return -5;
      }
      v82 = v92 - 1;
      v85 = &v63 + v92;
      while ( 1 )
      {
        v87 = *v85;
        if ( v87 )
          break;
LABEL_67:
        ++v92;
        ++v85;
        ++v82;
        if ( v92 > v83 )
          goto LABEL_68;
      }
      while ( 1 )
      {
        --v87;
        v33 = v32 + v93;
        if ( v92 > (signed int)(v32 + v93) )
          break;
LABEL_50:
        BYTE1(v88) = v92 - v32;
        if ( v95 < &a10[v96] )
        {
          v50 = *v95;
          if ( *v95 >= a4 )
          {
            v51 = 4 * (v50 - a4);
            LOBYTE(v88) = *(_BYTE *)(v51 + a6) + 80;
            v50 = *(_DWORD *)(v51 + a5);
          }
          else
          {
            LOBYTE(v88) = v50 < 0x100 ? 0 : 0x60;
          }
          ++v95;
          v89 = v50;
        }
        else
        {
          LOBYTE(v88) = -64;
        }
        v52 = 1 << (v92 - v32);
        v53 = v86 >> v32;
        if ( v86 >> v32 < v90 )
        {
          v54 = v84 + 8 * v53;
          do
          {
            *(_DWORD *)v54 = v88;
            *(_DWORD *)(v54 + 4) = v89;
            v53 += v52;
            v54 += 8 * v52;
          }
          while ( v53 < v90 );
          v22 = v81;
        }
        v55 = v86;
        for ( i = 1 << v82; i & v55; i >>= 1 )
          v55 ^= i;
        v86 = i ^ v55;
        v57 = (i ^ v55) & ((1 << v32) - 1);
        v58 = v91;
        if ( v57 != *(&v61 + v91) )
        {
          do
          {
            v32 -= v93;
            --v58;
          }
          while ( (v86 & ((1 << v32) - 1)) != *(&v61 + v58) );
          v91 = v58;
        }
        if ( !v87 )
          goto LABEL_67;
      }
      for ( j = v32 - v93; ; j = v79 )
      {
        ++v91;
        v32 += v93;
        v35 = v83 - v32;
        v79 = v93 + j;
        v80 = v93 + v33;
        if ( v83 - v32 > v93 )
          v35 = v93;
        v36 = v92 - v32;
        v37 = 1 << (v92 - v32);
        if ( v37 > v87 + 1 )
        {
          v38 = -1 - v87 + v37;
          v39 = (unsigned int)v85;
          if ( v36 < v35 && ++v36 < v35 )
          {
            while ( 1 )
            {
              v40 = (unsigned int *)(v39 + 4);
              v90 = (unsigned int)v40;
              v41 = *v40;
              v42 = 2 * v38;
              if ( v42 <= v41 )
                break;
              v38 = v42 - v41;
              if ( ++v36 >= v35 )
                break;
              v39 = v90;
            }
          }
        }
        v43 = *a9;
        v44 = *a9 + (1 << v36);
        v90 = 1 << v36;
        if ( v44 > 0x5A0 )
          break;
        v45 = &v60[v91];
        v84 = a8 + 8 * v43;
        *v45 = v84;
        *a9 = v44;
        if ( v91 )
        {
          v46 = v86;
          *(&v61 + v91) = v86;
          BYTE1(v88) = v93;
          LOBYTE(v88) = v36;
          v47 = v46 >> v79;
          v48 = *(v45 - 1);
          v49 = ((v84 - v48) >> 3) - (v46 >> v79);
          *(_DWORD *)(v48 + 8 * v47) = v88;
          v89 = v49;
          *(_DWORD *)(v48 + 8 * v47 + 4) = v49;
        }
        else
        {
          *a7 = v84;
        }
        v33 = v80;
        if ( v92 <= v80 )
        {
          v22 = v81;
          goto LABEL_50;
        }
      }
    }
    return -3;
  }
  *a7 = 0;
  *a1 = 0;
  return 0;
}
// 451FB3: using guessed type int var_B8[15];
// 451FB3: using guessed type int var_F8[15];

//----- (00452332) --------------------------------------------------------
signed int __stdcall sub_452332(_DWORD *a1, unsigned int *a2, _DWORD *a3, int a4, int a5)
{
  int v5; // esi@1
  unsigned int *v6; // eax@1
  signed int result; // eax@2
  signed int v8; // eax@3
  signed int v9; // ebx@3
  int v10; // [sp+4h] [bp-4h]@1
  unsigned int *v11; // [sp+20h] [bp+18h]@1

  v10 = 0;
  v5 = a5;
  v6 = (unsigned int *)(*(int (__stdcall **)(_DWORD, signed int, signed int))(a5 + 32))(*(_DWORD *)(a5 + 40), 19, 4);
  v11 = v6;
  if ( v6 )
  {
    v8 = sub_451FB3(a2, a1, 0x13u, 19, 0, 0, a3, a4, (unsigned int *)&v10, v6);
    v9 = v8;
    if ( v8 == -3 )
    {
      *(_DWORD *)(v5 + 24) = "oversubscribed dynamic bit lengths tree";
    }
    else if ( v8 == -5 || !*a2 )
    {
      *(_DWORD *)(v5 + 24) = "incomplete dynamic bit lengths tree";
      v9 = -3;
    }
    (*(void (__stdcall **)(_DWORD, unsigned int *))(v5 + 36))(*(_DWORD *)(v5 + 40), v11);
    result = v9;
  }
  else
  {
    result = -4;
  }
  return result;
}

//----- (004523AB) --------------------------------------------------------
signed int __stdcall sub_4523AB(unsigned int a1, unsigned int a2, _DWORD *a3, unsigned int *a4, unsigned int *a5, _DWORD *a6, _DWORD *a7, int a8, int a9)
{
  int v9; // esi@1
  unsigned int *v10; // eax@1
  signed int v12; // eax@3
  signed int v13; // edi@8
  int v14; // [sp+4h] [bp-4h]@1
  unsigned int *v15; // [sp+30h] [bp+28h]@1

  v14 = 0;
  v9 = a9;
  v10 = (unsigned int *)(*(int (__stdcall **)(_DWORD, signed int, signed int))(a9 + 32))(*(_DWORD *)(a9 + 40), 288, 4);
  v15 = v10;
  if ( !v10 )
    return -4;
  v12 = sub_451FB3(a4, a3, a1, 257, (int)&unk_497CE8, (int)&unk_497D68, a6, a8, (unsigned int *)&v14, v10);
  if ( v12 )
  {
    if ( v12 == -3 )
    {
      *(_DWORD *)(v9 + 24) = "oversubscribed literal/length tree";
      goto LABEL_20;
    }
    if ( v12 == -4 )
      goto LABEL_20;
LABEL_18:
    *(_DWORD *)(v9 + 24) = "incomplete literal/length tree";
    goto LABEL_19;
  }
  if ( !*a4 )
    goto LABEL_18;
  v12 = sub_451FB3(a5, &a3[a1], a2, 0, (int)&unk_497DE8, (int)&unk_497E60, a7, a8, (unsigned int *)&v14, v15);
  if ( v12 )
  {
    if ( v12 == -3 )
    {
      *(_DWORD *)(v9 + 24) = "oversubscribed distance tree";
    }
    else
    {
      if ( v12 == -5 )
      {
        *(_DWORD *)(v9 + 24) = "incomplete distance tree";
LABEL_19:
        v12 = -3;
        goto LABEL_20;
      }
      if ( v12 != -4 )
      {
LABEL_14:
        *(_DWORD *)(v9 + 24) = "empty distance tree with lengths";
        goto LABEL_19;
      }
    }
LABEL_20:
    v13 = v12;
    goto LABEL_21;
  }
  if ( !*a5 && a1 > 0x101 )
    goto LABEL_14;
  v13 = 0;
LABEL_21:
  (*(void (__stdcall **)(_DWORD, unsigned int *))(v9 + 36))(*(_DWORD *)(v9 + 40), v15);
  return v13;
}

//----- (004524A5) --------------------------------------------------------
int __stdcall sub_4524A5(_DWORD *a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, int a5)
{
  *a1 = dword_4B9B58;
  *a2 = dword_4B9B5C;
  *a3 = &unk_4B9B60;
  *a4 = &unk_4BAB60;
  return 0;
}
// 4B9B58: using guessed type int dword_4B9B58;
// 4B9B5C: using guessed type int dword_4B9B5C;

//----- (004524D6) --------------------------------------------------------
int __stdcall sub_4524D6(int a1, int a2, int a3)
{
  int v3; // ebx@1
  const void *v4; // edx@1
  unsigned int v5; // edi@1
  unsigned int v6; // eax@3
  unsigned int v7; // edi@3
  int (__stdcall *v8)(_DWORD, const void *, unsigned int); // eax@8
  int v9; // eax@9
  char v10; // al@10
  unsigned int v11; // ecx@10
  char *v12; // edi@10
  int v13; // eax@10
  const void *v14; // edx@11
  unsigned int v15; // eax@13
  unsigned int v16; // edi@13
  int (__stdcall *v17)(_DWORD, const void *, unsigned int); // eax@18
  int v18; // eax@19
  char v19; // al@20
  char *v20; // edi@20
  char *v21; // esi@20
  void *v23; // [sp+Ch] [bp-8h]@1
  char *v24; // [sp+Ch] [bp-8h]@10
  unsigned int v25; // [sp+10h] [bp-4h]@3
  int v26; // [sp+10h] [bp-4h]@13
  const void *v27; // [sp+1Ch] [bp+8h]@1
  int v28; // [sp+1Ch] [bp+8h]@10
  const void *v29; // [sp+1Ch] [bp+8h]@11

  v3 = a1;
  v5 = *(_DWORD *)(a1 + 52);
  v23 = *(void **)(a2 + 12);
  v27 = *(const void **)(a1 + 48);
  v4 = v27;
  if ( (unsigned int)v27 > v5 )
    v5 = *(_DWORD *)(v3 + 44);
  v6 = *(_DWORD *)(a2 + 16);
  v7 = v5 - (_DWORD)v27;
  v25 = v7;
  if ( v7 > v6 )
  {
    v25 = *(_DWORD *)(a2 + 16);
    v7 = *(_DWORD *)(a2 + 16);
  }
  if ( v7 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a2 + 20) += v7;
  *(_DWORD *)(a2 + 16) = v6 - v7;
  v8 = *(int (__stdcall **)(_DWORD, const void *, unsigned int))(v3 + 56);
  if ( v8 )
  {
    v9 = v8(*(_DWORD *)(v3 + 60), v27, v7);
    v4 = v27;
    *(_DWORD *)(v3 + 60) = v9;
    *(_DWORD *)(a2 + 48) = v9;
  }
  v10 = v7;
  v11 = v7 >> 2;
  qmemcpy(v23, v4, 4 * (v7 >> 2));
  v12 = (char *)v23 + 4 * (v7 >> 2);
  v24 = (char *)v23 + v25;
  v28 = (int)v27 + v25;
  qmemcpy(v12, (char *)v4 + 4 * v11, v10 & 3);
  v13 = *(_DWORD *)(v3 + 44);
  if ( v28 == v13 )
  {
    v14 = *(const void **)(v3 + 40);
    v29 = *(const void **)(v3 + 40);
    if ( *(_DWORD *)(v3 + 52) == v13 )
      *(_DWORD *)(v3 + 52) = v14;
    v15 = *(_DWORD *)(a2 + 16);
    v16 = *(_DWORD *)(v3 + 52) - (_DWORD)v14;
    v26 = *(_DWORD *)(v3 + 52) - (_DWORD)v14;
    if ( v16 > v15 )
    {
      v26 = *(_DWORD *)(a2 + 16);
      v16 = *(_DWORD *)(a2 + 16);
    }
    if ( v16 && a3 == -5 )
      a3 = 0;
    *(_DWORD *)(a2 + 20) += v16;
    *(_DWORD *)(a2 + 16) = v15 - v16;
    v17 = *(int (__stdcall **)(_DWORD, const void *, unsigned int))(v3 + 56);
    if ( v17 )
    {
      v18 = v17(*(_DWORD *)(v3 + 60), v14, v16);
      v14 = v29;
      *(_DWORD *)(v3 + 60) = v18;
      *(_DWORD *)(a2 + 48) = v18;
    }
    v19 = v16;
    qmemcpy(v24, v14, 4 * (v16 >> 2));
    v21 = (char *)v14 + 4 * (v16 >> 2);
    v20 = &v24[4 * (v16 >> 2)];
    v24 += v26;
    v28 = (int)v29 + v26;
    qmemcpy(v20, v21, v19 & 3);
  }
  *(_DWORD *)(a2 + 12) = v24;
  *(_DWORD *)(v3 + 48) = v28;
  return a3;
}

//----- (004525E7) --------------------------------------------------------
signed int __stdcall sub_4525E7(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // esi@1
  unsigned int v7; // ecx@1
  unsigned int j; // edx@1
  int v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // eax@2
  int v12; // eax@7
  bool i; // zf@7
  char v14; // cl@10
  int v15; // esi@12
  unsigned int v16; // edx@12
  int v17; // eax@15
  int v18; // ecx@17
  int v19; // ebx@18
  unsigned int v20; // ebx@19
  int v21; // esi@22
  _BYTE *v22; // ecx@22
  _BYTE *v23; // eax@22
  unsigned int v24; // esi@22
  int v25; // esi@25
  _BYTE *v26; // esi@28
  _BYTE *v27; // eax@31
  _BYTE *v28; // eax@31
  _BYTE *v29; // eax@34
  _BYTE *v30; // eax@34
  _BYTE *v31; // ecx@37
  unsigned int v32; // ecx@40
  signed int result; // eax@42
  unsigned int v34; // eax@46
  int v35; // ecx@46
  int v36; // ST20_4@53
  int v37; // edx@53
  int v38; // [sp+Ch] [bp-18h]@23
  int v39; // [sp+10h] [bp-14h]@4
  unsigned int v40; // [sp+14h] [bp-10h]@4
  _BYTE *v41; // [sp+18h] [bp-Ch]@1
  _BYTE *v42; // [sp+1Ch] [bp-8h]@1
  unsigned int v43; // [sp+20h] [bp-4h]@1
  int v44; // [sp+2Ch] [bp+8h]@7
  unsigned int v45; // [sp+2Ch] [bp+8h]@12
  int v46; // [sp+2Ch] [bp+8h]@26
  int v47; // [sp+2Ch] [bp+8h]@31
  int v48; // [sp+2Ch] [bp+8h]@34
  int v49; // [sp+30h] [bp+Ch]@4
  unsigned int v50; // [sp+40h] [bp+1Ch]@1
  unsigned int v51; // [sp+40h] [bp+1Ch]@12

  v6 = a5;
  v7 = *(_DWORD *)(a5 + 52);
  j = *(_DWORD *)(a5 + 28);
  v9 = a6;
  v42 = *(_BYTE **)a6;
  v43 = *(_DWORD *)(a6 + 4);
  v50 = *(_DWORD *)(a5 + 32);
  v10 = *(_DWORD *)(a5 + 48);
  v41 = *(_BYTE **)(a5 + 52);
  if ( v7 >= v10 )
    v11 = *(_DWORD *)(a5 + 44) - v7;
  else
    v11 = v10 - v7 - 1;
  v40 = v11;
  v39 = dword_4BAC60[a1];
  v49 = dword_4BAC60[a2];
LABEL_6:
  while ( j < 0x14 )
  {
    --v43;
    v50 |= *v42++ << j;
    j += 8;
  }
  v12 = a3 + 8 * (v50 & v39);
  v44 = *(_BYTE *)v12;
  for ( i = v44 == 0; ; i = v44 == 0 )
  {
    v14 = *(_BYTE *)(v12 + 1);
    if ( i )
    {
      v50 >>= v14;
      j -= *(_BYTE *)(v12 + 1);
      v31 = v41++;
      --v40;
      *v31 = *(_BYTE *)(v12 + 4);
LABEL_38:
      if ( v40 < 0x102 || v43 < 0xA )
      {
        v32 = *(_DWORD *)(v9 + 4) - v43;
        if ( j >> 3 < v32 )
          v32 = j >> 3;
        result = 0;
        goto LABEL_53;
      }
      goto LABEL_6;
    }
    v50 >>= v14;
    j -= *(_BYTE *)(v12 + 1);
    if ( v44 & 0x10 )
    {
      v15 = v50 & dword_4BAC60[v44 & 0xF];
      v51 = v50 >> (v44 & 0xF);
      v16 = j - (v44 & 0xF);
      v45 = *(_DWORD *)(v12 + 4) + v15;
      while ( v16 < 0xF )
      {
        --v43;
        v51 |= *v42++ << v16;
        v16 += 8;
      }
      v17 = a4 + 8 * (v51 & v49);
      v50 = v51 >> *(_BYTE *)(v17 + 1);
      for ( j = v16 - *(_BYTE *)(v17 + 1); ; j -= v18 )
      {
        v19 = *(_BYTE *)v17;
        if ( v19 & 0x10 )
        {
          v20 = v19 & 0xF;
          while ( j < v20 )
          {
            --v43;
            v50 |= *v42++ << j;
            j += 8;
          }
          v21 = *(_DWORD *)(v17 + 4) + (v50 & dword_4BAC60[v20]);
          v50 >>= v20;
          v40 -= v45;
          v22 = v41;
          j -= v20;
          v23 = &v41[-v21];
          v24 = *(_DWORD *)(a5 + 40);
          if ( (unsigned int)v23 >= v24 )
          {
            *v41 = *v23;
            v29 = v23 + 1;
            v41[1] = *v29;
            v22 = v41 + 2;
            v30 = v29 + 1;
            v48 = v45 - 2;
            do
            {
              *v22++ = *v30++;
              --v48;
            }
            while ( v48 );
          }
          else
          {
            v38 = *(_DWORD *)(a5 + 44);
            do
              v23 += v38 - v24;
            while ( (unsigned int)v23 < v24 );
            v25 = v38 - (_DWORD)v23;
            if ( v45 <= v38 - (signed int)v23 )
            {
              *v41 = *v23;
              v27 = v23 + 1;
              v41[1] = *v27;
              v22 = v41 + 2;
              v28 = v27 + 1;
              v47 = v45 - 2;
              do
              {
                *v22++ = *v28++;
                --v47;
              }
              while ( v47 );
            }
            else
            {
              v46 = v45 - v25;
              do
              {
                *v22++ = *v23++;
                --v25;
              }
              while ( v25 );
              v26 = *(_BYTE **)(a5 + 40);
              do
              {
                *v22++ = *v26++;
                --v46;
              }
              while ( v46 );
            }
          }
          v6 = a5;
          v41 = v22;
          goto LABEL_38;
        }
        if ( v19 & 0x40 )
          break;
        v17 += 8 * (*(_DWORD *)(v17 + 4) + (v50 & dword_4BAC60[v19]));
        v18 = *(_BYTE *)(v17 + 1);
        v50 >>= v18;
      }
      v32 = *(_DWORD *)(v9 + 4) - v43;
      *(_DWORD *)(v9 + 24) = "invalid distance code";
      if ( j >> 3 < v32 )
        v32 = j >> 3;
      v6 = a5;
      goto LABEL_52;
    }
    if ( v44 & 0x40 )
      break;
    v12 += 8 * (*(_DWORD *)(v12 + 4) + (v50 & dword_4BAC60[v44]));
    v44 = *(_BYTE *)v12;
  }
  v34 = j >> 3;
  v35 = *(_DWORD *)(v9 + 4);
  if ( !(v44 & 0x20) )
  {
    v32 = v35 - v43;
    *(_DWORD *)(v9 + 24) = "invalid literal/length code";
    if ( v34 < v32 )
      v32 = j >> 3;
LABEL_52:
    result = -3;
    goto LABEL_53;
  }
  v32 = v35 - v43;
  if ( v34 < v32 )
    v32 = j >> 3;
  result = 1;
LABEL_53:
  v36 = (int)&v42[-v32];
  *(_DWORD *)(v6 + 32) = v50;
  *(_DWORD *)(v6 + 28) = j - 8 * v32;
  *(_DWORD *)(v9 + 4) = v43 + v32;
  v37 = v36 - *(_DWORD *)v9;
  *(_DWORD *)v9 = v36;
  *(_DWORD *)(v9 + 8) += v37;
  *(_DWORD *)(v6 + 52) = v41;
  return result;
}
// 4BAC60: using guessed type int dword_4BAC60[];

//----- (004528F5) --------------------------------------------------------
char **sub_4528F5()
{
  return &off_498490;
}
// 498490: using guessed type char *off_498490;

//----- (00452AC0) --------------------------------------------------------
int __thiscall sub_452AC0(void *this)
{
  return (*(int (**)(void))(*(_DWORD *)this + 16))();
}

//----- (00452B37) --------------------------------------------------------
char **sub_452B37()
{
  return &off_49853C;
}
// 49853C: using guessed type char *off_49853C;

//----- (00452B3D) --------------------------------------------------------
char **sub_452B3D()
{
  return &off_498558;
}
// 498558: using guessed type char *off_498558;

//----- (00452B43) --------------------------------------------------------
char **sub_452B43()
{
  return &off_498574;
}
// 498574: using guessed type char *off_498574;

//----- (00452EB4) --------------------------------------------------------
int sub_452EB4()
{
  return *((_DWORD *)AfxGetThreadState() + 14);
}

//----- (00452F54) --------------------------------------------------------
char **sub_452F54()
{
  return &off_4985F0;
}
// 4985F0: using guessed type char *off_4985F0;

//----- (00453131) --------------------------------------------------------
void *__thiscall sub_453131(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CWinThread::~CWinThread((CWinThread *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00453767) --------------------------------------------------------
void *sub_453767()
{
  return &unk_4C61EC;
}

//----- (00453878) --------------------------------------------------------
int (**sub_453878())()
{
  return &off_4986E8;
}
// 4986E8: using guessed type int (*off_4986E8)();

//----- (00453944) --------------------------------------------------------
bool __thiscall sub_453944(int *this, int a2)
{
  int *v2; // esi@1
  bool result; // al@2
  int v4; // eax@6

  v2 = this;
  if ( dword_4C620C )
  {
    if ( a2 && *this == -1 )
    {
      v4 = dword_4C620C(a2);
      *v2 = v4;
      result = v4 != -1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}
// 4C620C: using guessed type int (__stdcall *dword_4C620C)(_DWORD);

//----- (00453D03) --------------------------------------------------------
char **sub_453D03()
{
  return &off_4986CC;
}
// 4986CC: using guessed type char *off_4986CC;

//----- (00453D40) --------------------------------------------------------
HMODULE __cdecl sub_453D40(int a1, LCID Locale)
{
  char *Format; // ecx@0
  char *v3; // esi@1
  int v4; // eax@2
  int v5; // edi@3
  int *v6; // eax@4
  HMODULE result; // eax@5
  LPSTR v8; // esi@10
  HMODULE v9; // eax@10
  FARPROC v10; // eax@11
  CHAR *v11; // [sp-14h] [bp-98h]@13
  int v12; // [sp+4h] [bp-80h]@10
  char v13; // [sp+8h] [bp-7Ch]@10
  CHAR LCData; // [sp+44h] [bp-40h]@2
  int v15; // [sp+48h] [bp-3Ch]@1
  CHAR pszPath; // [sp+4Ch] [bp-38h]@3

  v15 = a1;
  v3 = Format;
  if ( Locale == 2048 )
  {
    v4 = strcpy_s(&LCData, 4u, Src);
    AfxCrtErrorCheck(v4);
  }
  else
  {
    result = (HMODULE)GetLocaleInfoA(Locale, 3u, &LCData, 4);
    if ( !result )
      return result;
  }
  v5 = *_errno();
  *_errno() = 0;
  v15 = _snprintf_s(&pszPath, 0x112u, 0x111u, v3, v15, &LCData);
  if ( *_errno() )
  {
    v6 = _errno();
    ATL::AtlCrtErrorCheck(*v6);
  }
  else
  {
    *_errno() = v5;
  }
  if ( v15 == -1 || (unsigned int)v15 >= 0x112 )
  {
    result = 0;
  }
  else
  {
    v8 = PathFindFileNameA(&pszPath);
    v12 = 64;
    memset(&v13, 0, 0x3Cu);
    v9 = GetModuleHandleA("KERNEL32");
    if ( v9
      && (v10 = GetProcAddress(v9, "FindActCtxSectionStringA")) != 0
      && ((int (__stdcall *)(_DWORD, _DWORD, signed int, LPSTR, int *))v10)(0, 0, 2, v8, &v12) )
    {
      v11 = v8;
    }
    else
    {
      v11 = &pszPath;
    }
    result = LoadLibraryExA(v11, 0, 0);
  }
  return result;
}

//----- (00453EFC) --------------------------------------------------------
int __thiscall sub_453EFC(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // edi@1
  int v4; // esi@1

  v3 = this;
  v4 = sub_413EF0();
  if ( !v4 )
    unknown_libname_96();
  v3[23] = 0;
  PostMessageA(*(HWND *)(v4 + 32), 0x36Au, 0, 0);
  return (*(int (__thiscall **)(int, int, int))(*(_DWORD *)v4 + 116))(v4, a2, a3);
}
// 452BA6: using guessed type int unknown_libname_96(void);

//----- (00453F39) --------------------------------------------------------
int __thiscall sub_453F39(_DWORD *this, int a2, int a3)
{
  _DWORD *v3; // edi@1
  int v4; // esi@1

  v3 = this;
  v4 = sub_413EF0();
  if ( !v4 )
    unknown_libname_96();
  v3[23] = 0;
  PostMessageA(*(HWND *)(v4 + 32), 0x36Au, 0, 0);
  return (*(int (__thiscall **)(int, int, int))(*(_DWORD *)v4 + 120))(v4, a2, a3);
}
// 452BA6: using guessed type int unknown_libname_96(void);

//----- (00454326) --------------------------------------------------------
_DWORD *__thiscall sub_454326(_DWORD *this, char *a2)
{
  _DWORD *v2; // esi@1
  struct AFX_MODULE_STATE *v3; // eax@4
  struct AFX_MODULE_STATE *v4; // ebx@4
  int v5; // eax@6

  v2 = this;
  CWinThread::CWinThread();
  *v2 = &off_498994;
  if ( a2 )
    v2[20] = _strdup(a2);
  else
    v2[20] = 0;
  v3 = AfxGetModuleState();
  v4 = v3;
  if ( !v3 || (v5 = CThreadLocal<AFX_MODULE_THREAD_STATE>::GetData((char *)v3 + 116)) == 0 )
    unknown_libname_96();
  *(_DWORD *)(v5 + 4) = v2;
  v2[11] = GetCurrentThread();
  v2[12] = GetCurrentThreadId();
  *((_DWORD *)v4 + 1) = v2;
  v2[17] = 0;
  v2[31] = 0;
  v2[25] = 0;
  v2[26] = 0;
  v2[21] = 0;
  v2[24] = 0;
  v2[34] = 0;
  v2[22] = 0;
  *((_WORD *)v2 + 73) = 0;
  *((_WORD *)v2 + 72) = 0;
  v2[18] = 0;
  v2[35] = 0;
  v2[32] = 0;
  v2[33] = 0;
  v2[28] = 0;
  v2[29] = 0;
  v2[37] = 0;
  v2[39] = 0;
  v2[23] = 0;
  v2[27] = 0;
  v2[38] = 512;
  return v2;
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 45314D: using guessed type int CWinThread::CWinThread(void);
// 4531B8: using guessed type int __thiscall CThreadLocal<AFX_MODULE_THREAD_STATE>::GetData(_DWORD);
// 498994: using guessed type int (*off_498994)();

//----- (004545EF) --------------------------------------------------------
void *__thiscall sub_4545EF(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CWinApp::~CWinApp((CWinApp *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0045469D) --------------------------------------------------------
int __stdcall sub_45469D(int a1, int a2)
{
  int result; // eax@2

  if ( dword_4C622C )
    result = dword_4C622C(a1, a2);
  else
    result = 0;
  return result;
}
// 4C622C: using guessed type int (__stdcall *dword_4C622C)(_DWORD, _DWORD);

//----- (004546AD) --------------------------------------------------------
int __stdcall sub_4546AD(int a1, int a2)
{
  int result; // eax@2

  if ( dword_4C6230 )
    result = dword_4C6230(a1, a2);
  else
    result = 0;
  return result;
}
// 4C6230: using guessed type int (__stdcall *dword_4C6230)(_DWORD, _DWORD);

//----- (00454A25) --------------------------------------------------------
int __thiscall sub_454A25(int this, int a2)
{
  int v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_498AB0;
  sub_402220((void *)(this + 12), a2);
  *(_DWORD *)(v2 + 4) = 0;
  *(_BYTE *)(v2 + 8) = 0;
  return v2;
}
// 498AB0: using guessed type int (__thiscall *off_498AB0)(void *, char);

//----- (0045517E) --------------------------------------------------------
signed int __stdcall sub_45517E(int a1)
{
  return 1;
}

//----- (00455184) --------------------------------------------------------
int sub_455184()
{
  return 0;
}

//----- (0045518F) --------------------------------------------------------
void *sub_45518F()
{
  return &unk_498B18;
}

//----- (00455195) --------------------------------------------------------
void *sub_455195()
{
  return &unk_498B50;
}

//----- (0045519B) --------------------------------------------------------
void *sub_45519B()
{
  return &unk_498B6C;
}

//----- (004551CF) --------------------------------------------------------
signed int sub_4551CF()
{
  return 1;
}

//----- (004551D3) --------------------------------------------------------
void *sub_4551D3()
{
  return &unk_498B7C;
}

//----- (004551DE) --------------------------------------------------------
void *sub_4551DE()
{
  return &unk_498B90;
}

//----- (00455274) --------------------------------------------------------
BOOL __thiscall sub_455274(int this, UINT uPosition, UINT uFlags, UINT_PTR uIDNewItem, LPCSTR lpNewItem)
{
  return ModifyMenuA(*(HMENU *)(this + 4), uPosition, uFlags, uIDNewItem, lpNewItem);
}

//----- (004552F5) --------------------------------------------------------
void *sub_4552F5()
{
  return &unk_498BBC;
}

//----- (004553FF) --------------------------------------------------------
void __thiscall sub_4553FF(int this, LPCSTR lpNewItem)
{
  int v2; // esi@1
  int v3; // eax@3
  UINT v4; // eax@5
  UINT v5; // ecx@5
  unsigned int v6; // eax@5
  int v7; // esi@7

  v2 = this;
  if ( !lpNewItem )
LABEL_2:
    unknown_libname_96();
  v3 = *(_DWORD *)(this + 12);
  if ( v3 )
  {
    if ( !*(_DWORD *)(this + 16) )
    {
      v4 = GetMenuState(*(HMENU *)(v3 + 4), *(_DWORD *)(this + 8), 0x400u);
      v5 = *(_DWORD *)(v2 + 8);
      v6 = v4 & 0xFFFFF6FB;
      if ( v5 >= *(_DWORD *)(v2 + 32) )
        goto LABEL_2;
      sub_455274(*(_DWORD *)(v2 + 12), v5, v6 | 0x400, *(_DWORD *)(v2 + 4), lpNewItem);
    }
  }
  else
  {
    v7 = *(_DWORD *)(this + 20);
    if ( !v7 )
      goto LABEL_2;
    AfxSetWindowText(*(HWND *)(v7 + 32), lpNewItem);
  }
}
// 452BA6: using guessed type int unknown_libname_96(void);

//----- (00455694) --------------------------------------------------------
int __cdecl sub_455694(int a1, int a2, char *a3)
{
  int v3; // eax@1
  rsize_t v4; // eax@2

  v3 = unknown_libname_102(a2);
  sub_4021D0((void *)a1, v3);
  if ( a3 )
    v4 = strlen(a3);
  else
    v4 = 0;
  ATL::CSimpleStringT<char,0>::Concatenate(a1, *(void **)a2, *(_DWORD *)(*(_DWORD *)a2 - 12), a3, v4);
  return a1;
}
// 455610: using guessed type int __thiscall unknown_libname_102(_DWORD);

//----- (00455E47) --------------------------------------------------------
int __thiscall sub_455E47(struct CWinApp *this, char *a2, UINT uType, unsigned int a4)
{
  return CWinApp::ShowAppMessageBox(this, a2, uType, a4);
}

//----- (004560BC) --------------------------------------------------------
signed int __stdcall sub_4560BC(int a1)
{
  int v1; // eax@3

  if ( !*(_DWORD *)(a1 + 40) )
  {
    AfxEndDeferRegisterClass(8);
    *(_DWORD *)(a1 + 40) = "AfxFrameOrView80s";
  }
  v1 = *(_DWORD *)(a1 + 32);
  if ( (signed __int16)v1 < 0 )
    *(_DWORD *)(a1 + 32) = v1 | 0x4000;
  *(_DWORD *)(a1 + 44) |= 0x200u;
  return 1;
}

//----- (0045626C) --------------------------------------------------------
char **sub_45626C()
{
  return &off_498C18;
}
// 498C18: using guessed type char *off_498C18;

//----- (00456272) --------------------------------------------------------
int __thiscall sub_456272(int this, int a2, int a3)
{
  int v3; // edi@1
  int result; // eax@5

  v3 = this;
  if ( a2 < 0 )
    unknown_libname_96();
  if ( a2 >= *(_DWORD *)(this + 8) )
    CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(a2 + 1, -1);
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(result + 4 * a2) = a3;
  return result;
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 46667B: using guessed type _DWORD __stdcall CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(_DWORD, _DWORD);

//----- (00457986) --------------------------------------------------------
int __thiscall sub_457986(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &off_498C8C;
  *(_DWORD *)(this + 24) = a2;
  return result;
}
// 498C8C: using guessed type int (*off_498C8C)();

//----- (004579B4) --------------------------------------------------------
void *__thiscall sub_4579B4(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  type_info::~type_info((type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004579D0) --------------------------------------------------------
void *__thiscall sub_4579D0(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_498C8C;
  unknown_libname_110();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4562A2: using guessed type int unknown_libname_110(void);
// 498C8C: using guessed type int (*off_498C8C)();

//----- (00457C8B) --------------------------------------------------------
void *__thiscall sub_457C8B(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_498C64;
  CMenu::DestroyMenu((CMenu *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 498C64: using guessed type int (*off_498C64)();

//----- (00457F2F) --------------------------------------------------------
int __thiscall sub_457F2F(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  _DWORD *v4; // ecx@1

  v2 = this;
  result = unknown_libname_113(*(_DWORD *)(this + 8), 0);
  *(_DWORD *)(result + 8) = a2;
  v4 = *(_DWORD **)(v2 + 8);
  if ( v4 )
    *v4 = result;
  else
    *(_DWORD *)(v2 + 4) = result;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}
// 4579F2: using guessed type _DWORD __stdcall unknown_libname_113(_DWORD, _DWORD);

//----- (00457F58) --------------------------------------------------------
void __thiscall sub_457F58(int this, CArchive *a2)
{
  CArchive *v2; // edi@1
  int v3; // esi@1
  _DWORD *i; // esi@2
  unsigned __int32 v5; // ebx@6

  v2 = a2;
  v3 = this;
  if ( ~*((_BYTE *)a2 + 24) & 1 )
  {
    CArchive::WriteCount(a2, *(_DWORD *)(this + 12));
    for ( i = *(_DWORD **)(v3 + 4); i; i = (_DWORD *)*i )
      SerializeElements<enum  CArchive::LoadArrayObjType>(v2, (int)(i + 2), (void *)1);
  }
  else
  {
    v5 = CArchive::ReadCount(a2);
    while ( v5 )
    {
      --v5;
      SerializeElements<enum  CArchive::LoadArrayObjType>(v2, (int)&a2, (void *)1);
      sub_457F2F(v3, (int)a2);
    }
  }
}

//----- (0045871E) --------------------------------------------------------
void *__thiscall sub_45871E(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CFrameWnd::~CFrameWnd((CFrameWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00458E37) --------------------------------------------------------
int (**sub_458E37())()
{
  return &off_498E90;
}
// 498E90: using guessed type int (*off_498E90)();

//----- (00459948) --------------------------------------------------------
int __thiscall sub_459948(char *this)
{
  return (int)(this + 64);
}

//----- (00459968) --------------------------------------------------------
int __thiscall sub_459968(int this, struct tagPOINT Point, int a3)
{
  int v3; // ebx@1
  HWND v4; // eax@1
  HWND v5; // edi@1
  int v6; // eax@4
  int result; // eax@6
  int v8; // [sp+8h] [bp-4h]@2

  v3 = this;
  v4 = _AfxChildWindowFromPoint(*(HWND *)(this + 32), Point);
  v5 = v4;
  if ( v4 )
  {
    v8 = (unsigned __int16)GetDlgCtrlID(v4);
    if ( a3 && *(_DWORD *)a3 >= 0x28u )
    {
      v6 = *(_DWORD *)(v3 + 32);
      *(_DWORD *)(a3 + 4) |= 1u;
      *(_DWORD *)(a3 + 36) = -1;
      *(_DWORD *)(a3 + 8) = v6;
      *(_DWORD *)(a3 + 12) = v5;
      if ( !(SendMessageA(v5, 0x87u, 0, 0) & 0x2000) )
        *(_DWORD *)(a3 + 4) |= 0x80000002;
    }
    result = v8;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (00459A5F) --------------------------------------------------------
CCmdUI *__thiscall sub_459A5F(CCmdUI *this)
{
  CCmdUI *v1; // esi@1

  v1 = this;
  CCmdUI::CCmdUI(this);
  *(_DWORD *)v1 = &off_499804;
  *((_DWORD *)v1 + 10) = 1;
  return v1;
}
// 499804: using guessed type void (__thiscall *off_499804)(CTestCmdUI *this, int);

//----- (00459B42) --------------------------------------------------------
void **sub_459B42()
{
  return &off_4993AC;
}
// 4993AC: using guessed type void *off_4993AC;

//----- (00459B7D) --------------------------------------------------------
signed int __stdcall sub_459B7D(int a1, int a2, int a3, int a4)
{
  return -2147467263;
}

//----- (00459EAF) --------------------------------------------------------
char **sub_459EAF()
{
  return &off_4993B4;
}
// 4993B4: using guessed type char *off_4993B4;

//----- (0045A08B) --------------------------------------------------------
HMODULE __cdecl sub_45A08B(LPCSTR lpLibFileName)
{
  struct AFX_MODULE_STATE *v1; // eax@1
  HMODULE result; // eax@2
  int v3; // esi@6
  DWORD v4; // edi@7
  int v5; // [sp+10h] [bp-24h]@1
  int v6; // [sp+14h] [bp-20h]@1
  HMODULE v7; // [sp+18h] [bp-1Ch]@1
  CPPEH_RECORD ms_exc; // [sp+1Ch] [bp-18h]@3

  v6 = 0;
  v1 = AfxGetModuleState();
  v5 = AfxActivateActCtxWrapper(*((_DWORD *)v1 + 32), &v6);
  v7 = 0;
  if ( v5 )
  {
    ms_exc.registration.TryLevel = 0;
    v7 = LoadLibraryA(lpLibFileName);
    ms_exc.registration.TryLevel = -2;
    if ( v5 != 2 )
    {
      v3 = v7 == 0;
      if ( v7 == 0 )
        v4 = GetLastError();
      else
        v4 = 0;
      sub_4546AD(0, v6);
      if ( v3 )
        SetLastError(v4);
    }
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 4546BD: using guessed type int __stdcall AfxActivateActCtxWrapper(_DWORD, _DWORD);

//----- (0045A380) --------------------------------------------------------
BOOL __thiscall sub_45A380(int this)
{
  HMODULE v1; // ecx@1
  BOOL result; // eax@2

  *(_DWORD *)this = &off_499838;
  v1 = *(HMODULE *)(this + 4);
  if ( v1 )
    result = FreeLibrary(v1);
  return result;
}
// 499838: using guessed type int (__thiscall *off_499838)(void *, char);

//----- (0045A395) --------------------------------------------------------
void *__thiscall sub_45A395(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_45A380((int)this);
  if ( a2 & 1 )
    CNoTrackObject::operator delete(v2);
  return v2;
}

//----- (0045A45E) --------------------------------------------------------
unsigned __int32 __stdcall sub_45A45E(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v1 = CCmdTarget::ExternalAddRef((CCmdTarget *)(a1 - 48));
  if ( v4 )
    sub_4546AD(0, v3);
  return v1;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A4A6) --------------------------------------------------------
unsigned __int32 __stdcall sub_45A4A6(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v1 = CCmdTarget::ExternalRelease((CCmdTarget *)(a1 - 48));
  if ( v4 )
    sub_4546AD(0, v3);
  return v1;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A6E8) --------------------------------------------------------
int __stdcall sub_45A6E8(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 156))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_4546AD(0, v12);
  return v8;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A742) --------------------------------------------------------
int __stdcall sub_45A742(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 160))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_4546AD(0, v12);
  return v8;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A79C) --------------------------------------------------------
int __stdcall sub_45A79C(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 164))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_4546AD(0, v12);
  return v8;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A7F6) --------------------------------------------------------
int __stdcall sub_45A7F6(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 168))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_4546AD(0, v12);
  return v8;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A850) --------------------------------------------------------
int __stdcall sub_45A850(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 172))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_4546AD(0, v12);
  return v8;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045A907) --------------------------------------------------------
int __stdcall sub_45A907(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int v7; // eax@1
  int v8; // esi@1
  int v10; // [sp-8h] [bp-28h]@1
  int v11; // [sp-4h] [bp-24h]@1
  int v12; // [sp+Ch] [bp-14h]@2
  int v13; // [sp+10h] [bp-10h]@1
  int v14; // [sp+1Ch] [bp-4h]@1

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 20));
  v10 = a6;
  v6 = *(_DWORD *)(a1 - 48);
  v14 = 0;
  v7 = (*(int (__thiscall **)(int, int, int, int, int, int, int))(v6 + 180))(a1 - 48, a2, a3, a4, a5, a6, v11);
  v14 = -1;
  v8 = v7;
  if ( v13 )
    sub_4546AD(0, v12);
  return v8;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045ACD0) --------------------------------------------------------
unsigned __int32 __stdcall sub_45ACD0(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 24));
  v1 = CCmdTarget::ExternalAddRef((CCmdTarget *)(a1 - 52));
  if ( v4 )
    sub_4546AD(0, v3);
  return v1;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045AD18) --------------------------------------------------------
unsigned __int32 __stdcall sub_45AD18(int a1)
{
  unsigned __int32 v1; // esi@1
  int v3; // [sp+Ch] [bp-14h]@0
  int v4; // [sp+10h] [bp-10h]@0

  AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(*(_DWORD *)(a1 - 24));
  v1 = CCmdTarget::ExternalRelease((CCmdTarget *)(a1 - 52));
  if ( v4 )
    sub_4546AD(0, v3);
  return v1;
}
// 454EE1: using guessed type _DWORD __stdcall AFX_MAINTAIN_STATE2::AFX_MAINTAIN_STATE2(_DWORD);

//----- (0045BBE3) --------------------------------------------------------
_DWORD *sub_45BBE3()
{
  _DWORD *result; // eax@1

  result = (_DWORD *)unknown_libname_158(0xCu);
  if ( result )
    *result = &off_499838;
  else
    result = 0;
  return result;
}
// 499838: using guessed type int (__thiscall *off_499838)(void *, char);

//----- (0045C169) --------------------------------------------------------
int __stdcall sub_45C169(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 36))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C1A7) --------------------------------------------------------
int __stdcall sub_45C1A7(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 40))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C1E5) --------------------------------------------------------
int __stdcall sub_45C1E5(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 44))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C223) --------------------------------------------------------
int __stdcall sub_45C223(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 48))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C261) --------------------------------------------------------
int __stdcall sub_45C261(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 52))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C29F) --------------------------------------------------------
int __stdcall sub_45C29F(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 56))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C2DD) --------------------------------------------------------
int __stdcall sub_45C2DD(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 60))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C31B) --------------------------------------------------------
int __stdcall sub_45C31B(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  int result; // eax@2
  int v9; // [sp-4h] [bp-Ch]@6

  v7 = *(_DWORD *)(a1 + 8);
  if ( v7 )
  {
    if ( a2 && a7 )
    {
      v9 = a7;
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int))(*(_DWORD *)v7 + 64))(
                 v7,
                 a2,
                 a3,
                 a4,
                 a5,
                 a6,
                 a7);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C362) --------------------------------------------------------
int __stdcall sub_45C362(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 68))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C3FE) --------------------------------------------------------
int __stdcall sub_45C3FE(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2
  int v8; // [sp-4h] [bp-Ch]@5

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
  {
    if ( a6 )
    {
      v8 = a6;
      result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 80))(v6, a2, a3, a4, a5, a6);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C43C) --------------------------------------------------------
int __stdcall sub_45C43C(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // eax@1
  int result; // eax@2

  v6 = *(_DWORD *)(a1 + 8);
  if ( v6 )
    result = (*(int (__stdcall **)(int, int, int, int, int, int))(*(_DWORD *)v6 + 84))(v6, a2, a3, a4, a5, a6);
  else
    result = -2147417848;
  return result;
}

//----- (0045C46C) --------------------------------------------------------
int __stdcall sub_45C46C(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9)
{
  int v9; // eax@1
  int result; // eax@2

  v9 = *(_DWORD *)(a1 + 8);
  if ( v9 )
  {
    if ( a2 && a3 && a4 && a5 )
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int, int, int))(*(_DWORD *)v9 + 88))(
                 v9,
                 a2,
                 a3,
                 a4,
                 a5,
                 a6,
                 a7,
                 a8,
                 a9);
    else
      result = -2147467261;
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C4C3) --------------------------------------------------------
int __stdcall sub_45C4C3(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // eax@1
  int result; // eax@2
  int v9; // [sp-4h] [bp-Ch]@5

  v7 = *(_DWORD *)(a1 + 8);
  if ( v7 )
  {
    if ( a7 )
    {
      v9 = a7;
      result = (*(int (__stdcall **)(int, int, int, int, int, int, int))(*(_DWORD *)v7 + 92))(
                 v7,
                 a2,
                 a3,
                 a4,
                 a5,
                 a6,
                 a7);
    }
    else
    {
      result = -2147467261;
    }
  }
  else
  {
    result = -2147417848;
  }
  return result;
}

//----- (0045C53A) --------------------------------------------------------
int __stdcall sub_45C53A(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // eax@1
  int result; // eax@2

  v5 = *(_DWORD *)(a1 + 8);
  if ( v5 )
    result = (*(int (__stdcall **)(int, int, int, int, int))(*(_DWORD *)v5 + 100))(v5, a2, a3, a4, a5);
  else
    result = -2147417848;
  return result;
}

//----- (0045C65D) --------------------------------------------------------
int __thiscall sub_45C65D(void *this, int a2)
{
  void *v2; // esi@1
  int v3; // edi@1

  v2 = this;
  v3 = sub_402470(this, a2);
  sub_4023A0(v2, a2);
  return v3;
}

//----- (0045C67E) --------------------------------------------------------
void *__thiscall sub_45C67E(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CWnd::~CWnd((CWnd *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0045CA5A) --------------------------------------------------------
int __stdcall sub_45CA5A(int a1, int a2)
{
  return 0;
}

//----- (0045CA5F) --------------------------------------------------------
signed int __stdcall sub_45CA5F(int a1, int a2)
{
  return -2147467263;
}

//----- (0045CBB1) --------------------------------------------------------
void *__thiscall sub_45CBB1(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CMFCComObject<ATL::CAccessibleProxy>::~CMFCComObject<ATL::CAccessibleProxy>();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 45CB48: using guessed type int CMFCComObject<ATL::CAccessibleProxy>::~CMFCComObject<ATL::CAccessibleProxy>(void);

//----- (0045CBCD) --------------------------------------------------------
int __stdcall sub_45CBCD(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::Release(a1 - 16);
}
// 45CB7A: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::Release(_DWORD);

//----- (0045CBE1) --------------------------------------------------------
int __stdcall sub_45CBE1(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::AddRef(a1 - 16);
}
// 45CB6D: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::AddRef(_DWORD);

//----- (0045CBF5) --------------------------------------------------------
int __stdcall sub_45CBF5(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::Release(a1 - 4);
}
// 45CB7A: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::Release(_DWORD);

//----- (0045CBFF) --------------------------------------------------------
int __stdcall sub_45CBFF(int a1)
{
  return CMFCComObject<ATL::CAccessibleProxy>::AddRef(a1 - 4);
}
// 45CB6D: using guessed type _DWORD __stdcall CMFCComObject<ATL::CAccessibleProxy>::AddRef(_DWORD);

//----- (0045D0E7) --------------------------------------------------------
int __thiscall sub_45D0E7(struct CWnd *this, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12)
{
  struct CWnd *v12; // esi@1
  int result; // eax@5
  HWND v14; // edi@6
  void *lpParam; // [sp+8h] [bp-30h]@4
  HINSTANCE hInstance; // [sp+Ch] [bp-2Ch]@4
  HMENU hMenu; // [sp+10h] [bp-28h]@4
  HWND hWndParent; // [sp+14h] [bp-24h]@4
  int nHeight; // [sp+18h] [bp-20h]@4
  int nWidth; // [sp+1Ch] [bp-1Ch]@4
  int Y; // [sp+20h] [bp-18h]@4
  int X; // [sp+24h] [bp-14h]@4
  DWORD dwStyle; // [sp+28h] [bp-10h]@4
  LPCSTR lpWindowName; // [sp+2Ch] [bp-Ch]@4
  LPCSTR lpClassName; // [sp+30h] [bp-8h]@4
  DWORD dwExStyle; // [sp+34h] [bp-4h]@4

  v12 = this;
  if ( a4 && !unknown_libname_164(a4, -1) )
    unknown_libname_96();
  dwExStyle = a2;
  lpClassName = (LPCSTR)a3;
  dwStyle = a5;
  X = a6;
  Y = a7;
  nWidth = a8;
  nHeight = a9;
  hWndParent = (HWND)a10;
  lpWindowName = (LPCSTR)a4;
  hMenu = (HMENU)a11;
  hInstance = (HINSTANCE)*((_DWORD *)AfxGetModuleState() + 2);
  lpParam = (void *)a12;
  if ( (*(int (__thiscall **)(struct CWnd *, void **))(*(_DWORD *)v12 + 100))(v12, &lpParam) )
  {
    AfxHookWindowCreate(v12);
    v14 = AfxCtxCreateWindowExA(
            dwExStyle,
            lpClassName,
            lpWindowName,
            dwStyle,
            X,
            Y,
            nWidth,
            nHeight,
            hWndParent,
            hMenu,
            hInstance,
            lpParam);
    if ( !AfxUnhookWindowCreate() )
      (*(void (__thiscall **)(struct CWnd *))(*(_DWORD *)v12 + 276))(v12);
    result = v14 != 0;
  }
  else
  {
    (*(void (__thiscall **)(struct CWnd *))(*(_DWORD *)v12 + 276))(v12);
    result = 0;
  }
  return result;
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 463EAA: using guessed type _DWORD __stdcall unknown_libname_164(_DWORD, _DWORD);

//----- (0045DADF) --------------------------------------------------------
int __thiscall sub_45DADF(CWnd *this, ULONG_PTR dwData, UINT uCommand)
{
  CWnd *v3; // edi@1
  int v4; // esi@1
  struct AFX_MODULE_STATE *v5; // eax@1
  struct CWnd *v6; // eax@1

  v3 = this;
  v4 = *((_DWORD *)AfxGetModuleState() + 1);
  v5 = AfxGetModuleState();
  CCmdTarget::BeginWaitCursor(*((CCmdTarget **)v5 + 1));
  CWnd::PrepareForHelp(v3);
  v6 = CWnd::GetTopLevelParent(v3);
  if ( !v6 )
    unknown_libname_96();
  if ( !WinHelpA(*((HWND *)v6 + 8), *(LPCSTR *)(v4 + 100), uCommand, dwData) )
    AfxMessageBox(0xF107u, 0, 0xFFFFFFFF);
  return CWaitCursor::~CWaitCursor((CWaitCursor *)((char *)&dwData + 3));
}
// 452BA6: using guessed type int unknown_libname_96(void);

//----- (0045DB54) --------------------------------------------------------
int __thiscall sub_45DB54(CWnd *this, int a2, int a3)
{
  CWnd *v3; // edi@1
  int v4; // esi@1
  struct AFX_MODULE_STATE *v5; // eax@1
  struct CWnd *v6; // eax@1

  v3 = this;
  v4 = *((_DWORD *)AfxGetModuleState() + 1);
  v5 = AfxGetModuleState();
  CCmdTarget::BeginWaitCursor(*((CCmdTarget **)v5 + 1));
  CWnd::PrepareForHelp(v3);
  v6 = CWnd::GetTopLevelParent(v3);
  if ( !v6 )
    unknown_libname_96();
  if ( !unknown_libname_129(*((_DWORD *)v6 + 8), *(_DWORD *)(v4 + 100), a3, a2) )
    AfxMessageBox(0xF107u, 0, 0xFFFFFFFF);
  return CWaitCursor::~CWaitCursor((CWaitCursor *)((char *)&a2 + 3));
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 45C721: using guessed type _DWORD __stdcall unknown_libname_129(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0045DCD2) --------------------------------------------------------
int (**sub_45DCD2())()
{
  return &off_4999C8;
}
// 4999C8: using guessed type int (*off_4999C8)();

//----- (0045E292) --------------------------------------------------------
signed int __stdcall sub_45E292(int a1)
{
  if ( !*(_DWORD *)(a1 + 40) )
  {
    AfxEndDeferRegisterClass(1);
    *(_DWORD *)(a1 + 40) = "AfxWnd80s";
  }
  return 1;
}

//----- (0045E351) --------------------------------------------------------
int __thiscall sub_45E351(int this)
{
  CWnd *v1; // esi@1

  v1 = (CWnd *)this;
  *(_DWORD *)this = &off_499D04;
  if ( *(_DWORD *)(this + 32) )
    CWnd::DestroyWindow((CWnd *)this);
  return CWnd::~CWnd(v1);
}
// 499D04: using guessed type int (*off_499D04)();

//----- (0045E3D8) --------------------------------------------------------
int __thiscall sub_45E3D8(int this)
{
  return *(_DWORD *)(this + 112);
}

//----- (0045E46F) --------------------------------------------------------
char **sub_45E46F()
{
  return &off_499CE0;
}
// 499CE0: using guessed type char *off_499CE0;

//----- (0045E59D) --------------------------------------------------------
void *__thiscall sub_45E59D(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_45E351((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0045E874) --------------------------------------------------------
int (**sub_45E874())()
{
  return &off_499E68;
}
// 499E68: using guessed type int (*off_499E68)();

//----- (0045EC8B) --------------------------------------------------------
int __thiscall sub_45EC8B(CDialog *this, struct DLGTEMPLATE *a2, struct CWnd *a3, void *a4)
{
  return CDialog::CreateIndirect(this, a2, a3, a4, 0);
}

//----- (0045ECFB) --------------------------------------------------------
int __thiscall sub_45ECFB(CDialog *this, HGLOBAL hResData, struct CWnd *a3)
{
  return CDialog::CreateIndirect(this, hResData, a3, 0);
}

//----- (0045ED2F) --------------------------------------------------------
int __thiscall sub_45ED2F(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_48993C;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 48993C: using guessed type int (*off_48993C)();

//----- (0045EDA3) --------------------------------------------------------
int __thiscall sub_45EDA3(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_48825C;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 48825C: using guessed type int (*off_48825C)();

//----- (0045EDF5) --------------------------------------------------------
int __thiscall sub_45EDF5(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_48839C;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 48839C: using guessed type int (*off_48839C)();

//----- (0045EE80) --------------------------------------------------------
int __thiscall sub_45EE80(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4896C4;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4896C4: using guessed type int (*off_4896C4)();

//----- (0045EEB1) --------------------------------------------------------
char **sub_45EEB1()
{
  return &off_499F64;
}
// 499F64: using guessed type char *off_499F64;

//----- (0045EEB7) --------------------------------------------------------
char **sub_45EEB7()
{
  return &off_499F80;
}
// 499F80: using guessed type char *off_499F80;

//----- (0045EEBD) --------------------------------------------------------
char **sub_45EEBD()
{
  return &off_499F9C;
}
// 499F9C: using guessed type char *off_499F9C;

//----- (0045EEC3) --------------------------------------------------------
char **sub_45EEC3()
{
  return &off_499FB8;
}
// 499FB8: using guessed type char *off_499FB8;

//----- (0045F5F1) --------------------------------------------------------
_DWORD *__thiscall sub_45F5F1(_DWORD *this)
{
  _DWORD *v1; // esi@1

  v1 = this;
  CWnd::CWnd();
  *v1 = &off_49A054;
  return v1;
}
// 45A172: using guessed type int CWnd::CWnd(void);
// 49A054: using guessed type int (*off_49A054)();

//----- (0045F603) --------------------------------------------------------
char **sub_45F603()
{
  return &off_49A018;
}
// 49A018: using guessed type char *off_49A018;

//----- (0045F609) --------------------------------------------------------
char **sub_45F609()
{
  return &off_49A034;
}
// 49A034: using guessed type char *off_49A034;

//----- (0045FDF2) --------------------------------------------------------
int (**sub_45FDF2())()
{
  return &off_49A1F0;
}
// 49A1F0: using guessed type int (*off_49A1F0)();

//----- (0046018D) --------------------------------------------------------
void *__thiscall sub_46018D(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CAsyncSocket::~CAsyncSocket((CAsyncSocket *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004601A9) --------------------------------------------------------
void *__thiscall sub_4601A9(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CSocket::~CSocket((CSocket *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004605A7) --------------------------------------------------------
int __thiscall sub_4605A7(int this, int iMode)
{
  int v2; // esi@1
  HDC v3; // ecx@1
  int result; // eax@1
  HDC v5; // esi@3

  v2 = this;
  v3 = *(HDC *)(this + 4);
  result = 0;
  if ( v3 != *(HDC *)(v2 + 8) )
    result = SetMapMode(v3, iMode);
  v5 = *(HDC *)(v2 + 8);
  if ( v5 )
    result = SetMapMode(v5, iMode);
  return result;
}

//----- (004605D5) --------------------------------------------------------
int __thiscall sub_4605D5(int this, LPRECT lprect)
{
  return GetClipBox(*(HDC *)(this + 4), lprect);
}

//----- (004605E5) --------------------------------------------------------
char **sub_4605E5()
{
  return &off_49A334;
}
// 49A334: using guessed type char *off_49A334;

//----- (004605EB) --------------------------------------------------------
char **sub_4605EB()
{
  return &off_49A350;
}
// 49A350: using guessed type char *off_49A350;

//----- (004605F1) --------------------------------------------------------
void ***sub_4605F1()
{
  return &off_49A36C;
}
// 49A36C: using guessed type void **off_49A36C;

//----- (004605F7) --------------------------------------------------------
char **sub_4605F7()
{
  return &off_49A388;
}
// 49A388: using guessed type char *off_49A388;

//----- (004605FD) --------------------------------------------------------
char **sub_4605FD()
{
  return &off_49A3A4;
}
// 49A3A4: using guessed type char *off_49A3A4;

//----- (00460603) --------------------------------------------------------
char **sub_460603()
{
  return &off_49A3C0;
}
// 49A3C0: using guessed type char *off_49A3C0;

//----- (00460609) --------------------------------------------------------
char **sub_460609()
{
  return &off_49A3DC;
}
// 49A3DC: using guessed type char *off_49A3DC;

//----- (0046060F) --------------------------------------------------------
char **sub_46060F()
{
  return &off_49A3F8;
}
// 49A3F8: using guessed type char *off_49A3F8;

//----- (00460615) --------------------------------------------------------
char **sub_460615()
{
  return &off_49A414;
}
// 49A414: using guessed type char *off_49A414;

//----- (0046061B) --------------------------------------------------------
char **sub_46061B()
{
  return &off_49A430;
}
// 49A430: using guessed type char *off_49A430;

//----- (00460699) --------------------------------------------------------
BOOL __thiscall sub_460699(int this, int x, int y)
{
  return PtVisible(*(HDC *)(this + 4), x, y);
}

//----- (004606AD) --------------------------------------------------------
BOOL __thiscall sub_4606AD(int this, RECT *lprect)
{
  return RectVisible(*(HDC *)(this + 4), lprect);
}

//----- (004606BD) --------------------------------------------------------
BOOL __thiscall sub_4606BD(int this, int x, int y, LPCSTR lpString, int c)
{
  return TextOutA(*(HDC *)(this + 4), x, y, lpString, c);
}

//----- (00460736) --------------------------------------------------------
int __thiscall sub_460736(int this, LPCSTR lpchText, int cchText, LPRECT lprc, UINT format)
{
  return DrawTextA(*(HDC *)(this + 4), lpchText, cchText, lprc, format);
}

//----- (004607A1) --------------------------------------------------------
int __thiscall sub_4607A1(int this, int iEscape, int cjIn, LPCSTR pvIn, LPVOID pvOut)
{
  return Escape(*(HDC *)(this + 4), iEscape, cjIn, pvIn, pvOut);
}

//----- (00460A12) --------------------------------------------------------
void __stdcall sub_460A12(struct CObject *a1)
{
  if ( a1 )
  {
    *((_DWORD *)a1 + 1) = 0;
    *(_DWORD *)a1 = &off_487B6C;
  }
}
// 487B6C: using guessed type int (*off_487B6C)();

//----- (00460B60) --------------------------------------------------------
CDC *__thiscall sub_460B60(int this, int a2)
{
  CDC *v2; // esi@1
  HWND v3; // eax@1
  HDC v4; // eax@3

  v2 = (CDC *)this;
  v3 = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)this = &off_49A50C;
  if ( a2 )
    v3 = *(HWND *)(a2 + 32);
  *(_DWORD *)(this + 16) = v3;
  v4 = GetDC(v3);
  if ( !CDC::Attach(v2, v4) )
    unknown_libname_148();
  return v2;
}
// 460621: using guessed type int unknown_libname_148(void);
// 49A50C: using guessed type int (*off_49A50C)();

//----- (00460BB4) --------------------------------------------------------
int __thiscall sub_460BB4(CDC *this)
{
  CDC *v1; // esi@1
  HDC v2; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_49A50C;
  v2 = CDC::Detach(this);
  ReleaseDC(*((HWND *)v1 + 4), v2);
  return CDC::~CDC(v1);
}
// 49A50C: using guessed type int (*off_49A50C)();

//----- (00460BEF) --------------------------------------------------------
CDC *__thiscall sub_460BEF(int this, int a2)
{
  CDC *v2; // esi@1
  HWND v3; // eax@1
  HDC v4; // eax@3

  v2 = (CDC *)this;
  v3 = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)this = &off_49A58C;
  if ( a2 )
    v3 = *(HWND *)(a2 + 32);
  *(_DWORD *)(this + 16) = v3;
  v4 = GetWindowDC(v3);
  if ( !CDC::Attach(v2, v4) )
    unknown_libname_148();
  return v2;
}
// 460621: using guessed type int unknown_libname_148(void);
// 49A58C: using guessed type int (*off_49A58C)();

//----- (00460C43) --------------------------------------------------------
int __thiscall sub_460C43(CDC *this)
{
  CDC *v1; // esi@1
  HDC v2; // eax@1

  v1 = this;
  *(_DWORD *)this = &off_49A58C;
  v2 = CDC::Detach(this);
  ReleaseDC(*((HWND *)v1 + 4), v2);
  return CDC::~CDC(v1);
}
// 49A58C: using guessed type int (*off_49A58C)();

//----- (00460E46) --------------------------------------------------------
void *__thiscall sub_460E46(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CDC::~CDC((CDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00460EFB) --------------------------------------------------------
void *__thiscall sub_460EFB(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_460BB4((CDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00460F17) --------------------------------------------------------
void *__thiscall sub_460F17(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_460C43((CDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00460F33) --------------------------------------------------------
void *__thiscall sub_460F33(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CPaintDC::~CPaintDC((CPaintDC *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (004614FD) --------------------------------------------------------
void *__thiscall sub_4614FD(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_49A688;
  sub_4135F0();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 49A688: using guessed type int (*off_49A688)();

//----- (00461522) --------------------------------------------------------
char **sub_461522()
{
  return &off_49A6AC;
}
// 49A6AC: using guessed type char *off_49A6AC;

//----- (0046155B) --------------------------------------------------------
void __stdcall sub_46155B(struct CObject *a1)
{
  if ( a1 )
  {
    *((_DWORD *)a1 + 1) = 0;
    *(_DWORD *)a1 = &off_498C64;
  }
}
// 498C64: using guessed type int (*off_498C64)();

//----- (00461852) --------------------------------------------------------
void *__thiscall sub_461852(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CChevronOwnerDrawMenu::~CChevronOwnerDrawMenu((CChevronOwnerDrawMenu *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00461D3D) --------------------------------------------------------
int __stdcall sub_461D3D(int a1, int a2, int a3, int a4)
{
  return 0;
}

//----- (00461D42) --------------------------------------------------------
char **sub_461D42()
{
  return &off_49A6EC;
}
// 49A6EC: using guessed type char *off_49A6EC;

//----- (00461ECE) --------------------------------------------------------
void __thiscall sub_461ECE(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToLockLow, DWORD nNumberOfBytesToLockHigh)
{
  int v5; // esi@1
  char *v6; // ST10_4@2
  __int32 v7; // eax@2

  v5 = this;
  if ( !LockFile(
          *(HANDLE *)(this + 4),
          dwFileOffsetLow,
          dwFileOffsetHigh,
          nNumberOfBytesToLockLow,
          nNumberOfBytesToLockHigh) )
  {
    v6 = *(char **)(v5 + 12);
    v7 = GetLastError();
    sub_465FCE(v7, v6);
  }
}

//----- (00461F01) --------------------------------------------------------
void __thiscall sub_461F01(int this, DWORD dwFileOffsetLow, DWORD dwFileOffsetHigh, DWORD nNumberOfBytesToUnlockLow, DWORD nNumberOfBytesToUnlockHigh)
{
  int v5; // esi@1
  char *v6; // ST10_4@2
  __int32 v7; // eax@2

  v5 = this;
  if ( !UnlockFile(
          *(HANDLE *)(this + 4),
          dwFileOffsetLow,
          dwFileOffsetHigh,
          nNumberOfBytesToUnlockLow,
          nNumberOfBytesToUnlockHigh) )
  {
    v6 = *(char **)(v5 + 12);
    v7 = GetLastError();
    sub_465FCE(v7, v6);
  }
}

//----- (00462104) --------------------------------------------------------
int __stdcall sub_462104(unsigned int a1, void *a2)
{
  void *v2; // edi@1
  unsigned int v3; // ST10_4@1

  v2 = (void *)sub_402470(a2, 260);
  memset(v2, 0, 0x104u);
  ATL::Checked::tcsncpy_s((ATL::Checked *)v2, (char *)0x104, a1, (const char *)0xFFFFFFFF, v3);
  PathStripToRootA((LPSTR)v2);
  return ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
}
// 4555EB: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (00462287) --------------------------------------------------------
void *__thiscall sub_462287(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  unknown_libname_152();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 46216F: using guessed type int unknown_libname_152(void);

//----- (00462480) --------------------------------------------------------
void *__thiscall sub_462480(void *this, int a2, int a3, char *a4)
{
  void *v4; // esi@1

  v4 = this;
  CException::CException();
  *(_DWORD *)v4 = &off_49A764;
  sub_402040((char *)v4 + 16);
  *((_DWORD *)v4 + 2) = a2;
  *((_DWORD *)v4 + 3) = a3;
  ATL::CSimpleStringT<char,0>::SetString(a4);
  return v4;
}
// 452BEF: using guessed type int CException::CException(void);
// 49A764: using guessed type int (*off_49A764)();

//----- (004629F1) --------------------------------------------------------
void __stdcall sub_4629F1(CDataExchange *a1, int a2, int a3)
{
  HWND v3; // eax@1
  HWND v4; // esi@1
  int v5; // eax@2
  int v6; // ST08_4@2
  CHAR *v7; // eax@2

  v3 = CDataExchange::PrepareEditCtrl(a1, a2);
  v4 = v3;
  if ( *(_DWORD *)a1 )
  {
    v5 = GetWindowTextLengthA(v3);
    v6 = v5 + 1;
    v7 = (CHAR *)sub_45C65D((void *)a3, v5);
    GetWindowTextA(v4, v7, v6);
    ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
  }
  else
  {
    AfxSetWindowText(v3, *(LPCSTR *)a3);
  }
}
// 4555EB: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (00462AAA) --------------------------------------------------------
int __thiscall sub_462AAA(CWnd *this)
{
  CWnd *v1; // esi@1

  v1 = this;
  *(_DWORD *)this = &off_4897FC;
  CWnd::DestroyWindow(this);
  return CWnd::~CWnd(v1);
}
// 4897FC: using guessed type int (*off_4897FC)();

//----- (00462ADB) --------------------------------------------------------
char **sub_462ADB()
{
  return &off_49A7D4;
}
// 49A7D4: using guessed type char *off_49A7D4;

//----- (00462AE1) --------------------------------------------------------
char **sub_462AE1()
{
  return &off_49A7F0;
}
// 49A7F0: using guessed type char *off_49A7F0;

//----- (00462B64) --------------------------------------------------------
void __stdcall sub_462B64(struct CObject *a1)
{
  if ( a1 )
  {
    *((_DWORD *)a1 + 1) = 0;
    *(_DWORD *)a1 = &off_49A824;
  }
}
// 49A824: using guessed type int (*off_49A824)();

//----- (00462E13) --------------------------------------------------------
void *__thiscall sub_462E13(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  CImageList::~CImageList((CImageList *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0046303F) --------------------------------------------------------
char **sub_46303F()
{
  return &off_49A8D8;
}
// 49A8D8: using guessed type char *off_49A8D8;

//----- (0046447C) --------------------------------------------------------
char **sub_46447C()
{
  return &off_49A950;
}
// 49A950: using guessed type char *off_49A950;

//----- (00464482) --------------------------------------------------------
int __thiscall sub_464482(int this, ATL::Checked *a2, char *a3, int a4)
{
  int v4; // esi@1
  void *v5; // eax@4
  int v6; // edi@4
  bool v7; // zf@4
  int result; // eax@6
  unsigned int v9; // [sp-4h] [bp-28h]@0
  unsigned int v10; // [sp+10h] [bp-14h]@4
  int v11; // [sp+20h] [bp-4h]@4

  v4 = this;
  if ( a2 )
  {
    if ( a4 )
      *(_DWORD *)a4 = *(_DWORD *)(this + 8) + 61872;
    v11 = 0;
    v5 = sub_453767();
    sub_4021D0(&v10, (int)v5);
    LOBYTE(v11) = 1;
    sub_402220(&a4, v4 + 12);
    v6 = a4;
    v7 = *(_DWORD *)(a4 - 12) == 0;
    LOBYTE(v11) = 2;
    if ( v7 )
    {
      sub_414380(0xF006u);
      v6 = a4;
    }
    sub_4663C9((int)&v10, *(_DWORD *)(v4 + 8) + 61872, v6);
    ATL::Checked::tcsncpy_s(a2, a3, v10, (const char *)0xFFFFFFFF, v9);
    sub_402170((_DWORD *)(v6 - 16));
    sub_402170((_DWORD *)(v10 - 16));
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00464539) --------------------------------------------------------
void *__thiscall sub_464539(void *this, int a2, char *a3)
{
  void *v3; // esi@1

  v3 = this;
  CException::CException();
  *(_DWORD *)v3 = &off_49A970;
  sub_402040((char *)v3 + 12);
  *((_DWORD *)v3 + 2) = a2;
  ATL::CSimpleStringT<char,0>::SetString(a3);
  return v3;
}
// 452BEF: using guessed type int CException::CException(void);
// 49A970: using guessed type int (*off_49A970)();

//----- (004645A5) --------------------------------------------------------
void __cdecl __noreturn sub_4645A5(int a1, char *a2)
{
  void *v2; // eax@1
  void *v3; // ecx@1
  void *v4; // ST18_4@1
  void *v5; // eax@1
  void *v6; // [sp+10h] [bp-10h]@3
  int v7; // [sp+1Ch] [bp-4h]@1

  v2 = operator new(0x10u);
  v3 = v2;
  v4 = v2;
  v5 = 0;
  v7 = 0;
  if ( v4 )
    v5 = sub_464539(v3, a1, a2);
  v7 = -1;
  v6 = v5;
  _CxxThrowException(&v6, &unk_4A829C);
}
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (004649CD) --------------------------------------------------------
int __thiscall sub_4649CD(int this, _DWORD *a2)
{
  int result; // eax@1
  bool v3; // zf@1

  result = (int)a2;
  *a2 = *(_DWORD *)(this + 16);
  v3 = (*(_DWORD *)(this + 12))-- == 1;
  *(_DWORD *)(this + 16) = a2;
  if ( v3 )
    result = sub_4649A2();
  return result;
}
// 4649A2: using guessed type int sub_4649A2(void);

//----- (00464A5E) --------------------------------------------------------
signed int __thiscall sub_464A5E(void *this, int a2, _DWORD *a3)
{
  signed int result; // eax@1
  void *v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  result = unknown_libname_169(a2, &v4, &a2);
  if ( result )
  {
    *a3 = *(_DWORD *)(result + 8);
    result = 1;
  }
  return result;
}
// 4649E6: using guessed type _DWORD __stdcall unknown_libname_169(_DWORD, _DWORD, _DWORD);

//----- (00464A85) --------------------------------------------------------
signed int __thiscall sub_464A85(int this, unsigned int a2)
{
  int v2; // esi@1
  signed int result; // eax@2
  signed int *v4; // edx@3

  v2 = *(_DWORD *)(this + 4);
  if ( v2 )
  {
    v4 = (signed int *)(v2 + 4 * ((a2 >> 4) % *(_DWORD *)(this + 8)));
    for ( result = *v4; result; result = *(_DWORD *)result )
    {
      if ( *(_DWORD *)(result + 4) == a2 )
      {
        *v4 = *(_DWORD *)result;
        sub_4649CD(this, (_DWORD *)result);
        return 1;
      }
      v4 = (signed int *)result;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00464B43) --------------------------------------------------------
char **sub_464B43()
{
  return &off_49A9A4;
}
// 49A9A4: using guessed type char *off_49A9A4;

//----- (00464B49) --------------------------------------------------------
_DWORD *__thiscall sub_464B49(_DWORD *this, signed int a2)
{
  _DWORD *result; // eax@1
  signed int v3; // ecx@1

  result = this;
  v3 = a2;
  *result = &off_49A9C4;
  if ( a2 <= 0 )
    v3 = 10;
  result[1] = 0;
  result[2] = 17;
  result[3] = 0;
  result[4] = 0;
  result[5] = 0;
  result[6] = v3;
  return result;
}
// 49A9C4: using guessed type int (*off_49A9C4)();

//----- (00464B77) --------------------------------------------------------
int __thiscall sub_464B77(void *this)
{
  *(_DWORD *)this = &off_49A9C4;
  return sub_4649A2();
}
// 4649A2: using guessed type int sub_4649A2(void);
// 49A9C4: using guessed type int (*off_49A9C4)();

//----- (00464BD0) --------------------------------------------------------
struct CMapPtrToPtr::CAssoc *__thiscall sub_464BD0(CMapPtrToPtr *this, int a2)
{
  int v2; // edi@1
  CMapPtrToPtr *v3; // esi@1
  struct CMapPtrToPtr::CAssoc *v4; // eax@1
  int v5; // ecx@4
  char v7; // [sp+8h] [bp-4h]@1

  v2 = a2;
  v3 = this;
  v4 = (struct CMapPtrToPtr::CAssoc *)unknown_libname_169(a2, &a2, &v7);
  if ( !v4 )
  {
    if ( !*((_DWORD *)v3 + 1) )
      unknown_libname_168(*((_DWORD *)v3 + 2), 1);
    v4 = CMapPtrToPtr::NewAssoc(v3);
    v5 = a2;
    *((_DWORD *)v4 + 1) = v2;
    v5 *= 4;
    *(_DWORD *)v4 = *(_DWORD *)(v5 + *((_DWORD *)v3 + 1));
    *(_DWORD *)(v5 + *((_DWORD *)v3 + 1)) = v4;
  }
  return (struct CMapPtrToPtr::CAssoc *)((char *)v4 + 8);
}
// 464948: using guessed type _DWORD __stdcall unknown_libname_168(_DWORD, _DWORD);
// 4649E6: using guessed type _DWORD __stdcall unknown_libname_169(_DWORD, _DWORD, _DWORD);

//----- (00464C25) --------------------------------------------------------
void *__thiscall sub_464C25(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_49A9C4;
  sub_4649A2();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4649A2: using guessed type int sub_4649A2(void);
// 49A9C4: using guessed type int (*off_49A9C4)();

//----- (00464C89) --------------------------------------------------------
int __thiscall sub_464C89(int this)
{
  int v1; // eax@3
  int v2; // edx@4
  bool v3; // zf@4
  int v4; // esi@4

  if ( !this || (v1 = *(_DWORD *)(this + 4)) == 0 )
    unknown_libname_96();
  v2 = *(_DWORD *)v1;
  v3 = *(_DWORD *)v1 == 0;
  v4 = *(_DWORD *)(v1 + 8);
  *(_DWORD *)(this + 4) = *(_DWORD *)v1;
  if ( v3 )
    *(_DWORD *)(this + 8) = 0;
  else
    *(_DWORD *)(v2 + 4) = 0;
  unknown_libname_171(v1);
  return v4;
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 464C67: using guessed type _DWORD __stdcall unknown_libname_171(_DWORD);

//----- (00464CBA) --------------------------------------------------------
char **sub_464CBA()
{
  return &off_49A9DC;
}
// 49A9DC: using guessed type char *off_49A9DC;

//----- (00464CC0) --------------------------------------------------------
int __thiscall sub_464CC0(int this, int a2)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 20) = 0;
  *(_DWORD *)this = &off_49A9FC;
  *(_DWORD *)(this + 24) = a2;
  return result;
}
// 49A9FC: using guessed type int (*off_49A9FC)();

//----- (00464CE3) --------------------------------------------------------
int __thiscall sub_464CE3(void *this)
{
  *(_DWORD *)this = &off_49A9FC;
  return unknown_libname_170();
}
// 464C47: using guessed type int unknown_libname_170(void);
// 49A9FC: using guessed type int (*off_49A9FC)();

//----- (00464D47) --------------------------------------------------------
int __thiscall sub_464D47(int this, int a2)
{
  int v2; // esi@1
  int result; // eax@1
  _DWORD *v4; // ecx@1

  v2 = this;
  result = unknown_libname_172(*(_DWORD *)(this + 8), 0);
  *(_DWORD *)(result + 8) = a2;
  v4 = *(_DWORD **)(v2 + 8);
  if ( v4 )
    *v4 = result;
  else
    *(_DWORD *)(v2 + 4) = result;
  *(_DWORD *)(v2 + 8) = result;
  return result;
}
// 464CEE: using guessed type _DWORD __stdcall unknown_libname_172(_DWORD, _DWORD);

//----- (00464D70) --------------------------------------------------------
void *__thiscall sub_464D70(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_49A9FC;
  unknown_libname_170();
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 464C47: using guessed type int unknown_libname_170(void);
// 49A9FC: using guessed type int (*off_49A9FC)();

//----- (00464E72) --------------------------------------------------------
void *__thiscall sub_464E72(void *this, char *a2, int a3)
{
  void *v3; // esi@1

  v3 = this;
  sub_4021D0(this, a3);
  if ( !sub_414330((unsigned int)a2) )
    ATL::CSimpleStringT<char,0>::SetString(a2);
  return v3;
}

//----- (0046516D) --------------------------------------------------------
char **sub_46516D()
{
  return &off_4BB7E8;
}
// 4BB7E8: using guessed type char *off_4BB7E8;

//----- (0046518B) --------------------------------------------------------
int __thiscall sub_46518B(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_49AA1C;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 49AA1C: using guessed type int (*off_49AA1C)();

//----- (004651A2) --------------------------------------------------------
void __thiscall sub_4651A2(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4);
  *(_DWORD *)this = &off_49AA1C;
  j__free(v1);
}
// 49AA1C: using guessed type int (*off_49AA1C)();

//----- (004651B2) --------------------------------------------------------
int __thiscall sub_4651B2(int this, int a2, int a3)
{
  int v3; // edi@1
  int result; // eax@5

  v3 = this;
  if ( a2 < 0 )
    unknown_libname_96();
  if ( a2 >= *(_DWORD *)(this + 8) )
    unknown_libname_176(a2 + 1, -1);
  result = *(_DWORD *)(v3 + 4);
  *(_DWORD *)(result + 4 * a2) = a3;
  return result;
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 466FD5: using guessed type _DWORD __stdcall unknown_libname_176(_DWORD, _DWORD);

//----- (0046525F) --------------------------------------------------------
void *__thiscall sub_46525F(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_4651A2((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00465A81) --------------------------------------------------------
void *__thiscall sub_465A81(CFile *this, void *a2)
{
  char *v2; // eax@1
  int v4; // [sp+20h] [bp+0h]@1
  int v5; // [sp+24h] [bp+4h]@1
  int v6; // [sp+28h] [bp+8h]@1
  int v7; // [sp+2Ch] [bp+Ch]@1
  int v8; // [sp+30h] [bp+10h]@1
  int v9; // [sp+34h] [bp+14h]@1
  char v10; // [sp+42h] [bp+22h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  CFile::GetStatus(this, (struct CFileStatus *)&v4);
  sub_402040(a2);
  v2 = (char *)sub_402470(a2, 256);
  AfxGetFileName(&v10, v2, 0x100u);
  ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
  return a2;
}
// 4555EB: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (00465B2A) --------------------------------------------------------
void *__thiscall sub_465B2A(CFile *this, void *a2)
{
  CHAR *v2; // eax@1
  int v4; // [sp+20h] [bp+0h]@1
  int v5; // [sp+24h] [bp+4h]@1
  int v6; // [sp+28h] [bp+8h]@1
  int v7; // [sp+2Ch] [bp+Ch]@1
  int v8; // [sp+30h] [bp+10h]@1
  int v9; // [sp+34h] [bp+14h]@1
  CHAR v10; // [sp+42h] [bp+22h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  CFile::GetStatus(this, (struct CFileStatus *)&v4);
  sub_402040(a2);
  v2 = (CHAR *)sub_402470(a2, 256);
  AfxGetFileTitle(&v10, v2, 0x100u);
  ATL::CSimpleStringT<char,0>::ReleaseBuffer(-1);
  return a2;
}
// 4555EB: using guessed type _DWORD __stdcall ATL::CSimpleStringT<char,0>::ReleaseBuffer(_DWORD);

//----- (00465ECE) --------------------------------------------------------
char **sub_465ECE()
{
  return &off_49AAB4;
}
// 49AAB4: using guessed type char *off_49AAB4;

//----- (00465ED4) --------------------------------------------------------
int __thiscall sub_465ED4(int this, ATL::Checked *a2, char *a3, int a4)
{
  int v4; // edi@1
  void *v5; // eax@5
  int v6; // esi@5
  bool v7; // zf@5
  int result; // eax@7
  unsigned int v9; // [sp-4h] [bp-20h]@0
  unsigned int v10; // [sp+Ch] [bp-10h]@5
  int v11; // [sp+18h] [bp-4h]@5

  v4 = this;
  if ( a2 && a3 )
  {
    if ( a4 )
      *(_DWORD *)a4 = *(_DWORD *)(this + 8) + 61856;
    v5 = sub_453767();
    sub_4021D0(&v10, (int)v5);
    v11 = 0;
    sub_402220(&a4, v4 + 16);
    v6 = a4;
    v7 = *(_DWORD *)(a4 - 12) == 0;
    LOBYTE(v11) = 1;
    if ( v7 )
    {
      sub_414380(0xF006u);
      v6 = a4;
    }
    sub_4663C9((int)&v10, *(_DWORD *)(v4 + 8) + 61856, v6);
    ATL::Checked::tcsncpy_s(a2, a3, v10, (const char *)0xFFFFFFFF, v9);
    sub_402170((_DWORD *)(v6 - 16));
    sub_402170((_DWORD *)(v10 - 16));
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00465F88) --------------------------------------------------------
void __cdecl __noreturn sub_465F88(int a1, int a2, char *a3)
{
  void *v3; // eax@1
  void *v4; // ecx@1
  void *v5; // ST1C_4@1
  void *v6; // eax@1
  void *v7; // [sp+10h] [bp-10h]@3
  int v8; // [sp+1Ch] [bp-4h]@1

  v3 = operator new(0x14u);
  v4 = v3;
  v5 = v3;
  v6 = 0;
  v8 = 0;
  if ( v5 )
    v6 = sub_462480(v4, a1, a2, a3);
  v8 = -1;
  v7 = v6;
  _CxxThrowException(&v7, &unk_4A83F4);
}
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00465FCE) --------------------------------------------------------
void __stdcall sub_465FCE(__int32 a1, char *a2)
{
  int v2; // eax@2

  if ( a1 )
  {
    v2 = CFileException::OsErrorToException(a1);
    sub_465F88(v2, a1, a2);
  }
}

//----- (00466372) --------------------------------------------------------
int __stdcall sub_466372(int a1, unsigned int a2, int a3, int a4)
{
  void *v4; // eax@1
  _DWORD *v5; // ecx@2
  int v6; // esi@3
  int v8; // [sp+Ch] [bp-10h]@1
  int v9; // [sp+18h] [bp-4h]@1

  v4 = sub_453767();
  sub_4021D0(&v8, (int)v4);
  v9 = 0;
  if ( sub_414380(a2) )
  {
    v6 = v8;
    AfxFormatStrings(a1, v8, a3, a4);
    v5 = (_DWORD *)(v6 - 16);
  }
  else
  {
    v5 = (_DWORD *)(v8 - 16);
  }
  return sub_402170(v5);
}
// 466230: using guessed type int __stdcall AfxFormatStrings(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004663C9) --------------------------------------------------------
int __stdcall sub_4663C9(int a1, unsigned int a2, char a3)
{
  return sub_466372(a1, a2, (int)&a3, 1);
}

//----- (00466464) --------------------------------------------------------
char **sub_466464()
{
  return &off_4BB82C;
}
// 4BB82C: using guessed type char *off_4BB82C;

//----- (00466481) --------------------------------------------------------
void __thiscall sub_466481(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4);
  *(_DWORD *)this = &off_49AB14;
  j__free(v1);
}
// 49AB14: using guessed type int (*off_49AB14)();

//----- (00466634) --------------------------------------------------------
void *__thiscall sub_466634(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_466481((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00466664) --------------------------------------------------------
int __thiscall sub_466664(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_49AB24;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 49AB24: using guessed type int (*off_49AB24)();

//----- (00466867) --------------------------------------------------------
void *__thiscall sub_466867(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  type_info::~type_info((type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00466D7A) --------------------------------------------------------
int __thiscall sub_466D7A(int this, CArchive *a2)
{
  int v2; // esi@1
  unsigned __int32 v3; // eax@3

  v2 = this;
  if ( ~*((_BYTE *)a2 + 24) & 1 )
  {
    CArchive::WriteCount(a2, *(_DWORD *)(this + 8));
  }
  else
  {
    v3 = CArchive::ReadCount(a2);
    CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(v3, -1);
  }
  return SerializeElements<enum  CArchive::LoadArrayObjType>(a2, *(_DWORD *)(v2 + 4), *(void **)(v2 + 8));
}
// 46667B: using guessed type _DWORD __stdcall CArray<enum  CArchive::LoadArrayObjType,enum  CArchive::LoadArrayObjType const &>::SetSize(_DWORD, _DWORD);

//----- (00466FA8) --------------------------------------------------------
char **sub_466FA8()
{
  return &off_49AB3C;
}
// 49AB3C: using guessed type char *off_49AB3C;

//----- (00466FAE) --------------------------------------------------------
int __thiscall sub_466FAE(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)this = &off_49AB5C;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 16) = 0;
  *(_DWORD *)(this + 12) = 0;
  *(_DWORD *)(this + 8) = 0;
  return result;
}
// 49AB5C: using guessed type int (*off_49AB5C)();

//----- (00466FC5) --------------------------------------------------------
void __thiscall sub_466FC5(int this)
{
  void *v1; // ST00_4@1

  v1 = *(void **)(this + 4);
  *(_DWORD *)this = &off_49AB5C;
  j__free(v1);
}
// 49AB5C: using guessed type int (*off_49AB5C)();

//----- (004670F9) --------------------------------------------------------
int __thiscall sub_4670F9(int this, int a2, int a3, int a4)
{
  int v4; // edi@1
  int v5; // esi@1
  int v6; // ebx@2
  int v7; // edi@5
  int result; // eax@6
  unsigned int v9; // [sp+0h] [bp-Ch]@0

  v4 = a2;
  v5 = this;
  if ( a2 < 0 || (v6 = a4, a4 <= 0) )
    unknown_libname_96();
  if ( a2 < *(_DWORD *)(this + 8) )
  {
    v7 = *(_DWORD *)(this + 8);
    unknown_libname_176(v7 + a4, -1);
    ATL::Checked::memmove_s(
      (ATL::Checked *)(*(_DWORD *)(v5 + 4) + 4 * (a4 + a2)),
      4 * (*(_DWORD *)(v5 + 8) - a2 - a4),
      (void *)(*(_DWORD *)(v5 + 4) + 4 * a2),
      4 * (v7 - a2),
      v9);
    memset((void *)(4 * a2 + *(_DWORD *)(v5 + 4)), 0, 4 * a4);
    v4 = a2;
  }
  else
  {
    unknown_libname_176(a2 + a4, -1);
  }
  result = 4 * v4;
  do
  {
    --v6;
    *(_DWORD *)(result + *(_DWORD *)(v5 + 4)) = a3;
    result += 4;
  }
  while ( v6 );
  return result;
}
// 452BA6: using guessed type int unknown_libname_96(void);
// 466FD5: using guessed type _DWORD __stdcall unknown_libname_176(_DWORD, _DWORD);

//----- (0046719D) --------------------------------------------------------
void *__thiscall sub_46719D(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_466FC5((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00467580) --------------------------------------------------------
void __cdecl sub_467580(char a1)
{
  int v1; // ecx@0

  if ( v1 != dword_4BB8B8 )
    __report_gsfailure(a1);
}
// 4700EC: using guessed type _DWORD __cdecl __report_gsfailure(char);
// 4BB8B8: using guessed type int dword_4BB8B8;

//----- (0046784A) --------------------------------------------------------
void __thiscall sub_46784A(struct type_info *this)
{
  *(_DWORD *)this = &off_49AB9C;
  type_info::_Type_info_dtor(this);
}
// 49AB9C: using guessed type int (__thiscall *off_49AB9C)(void *, char);

//----- (00467858) --------------------------------------------------------
void *__thiscall sub_467858(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_46784A((struct type_info *)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (00468833) --------------------------------------------------------
int __cdecl sub_468833(FILE *a1, int a2, char a3)
{
  int result; // eax@2
  _DWORD *v4; // edi@7
  _BYTE *v5; // eax@7
  _DWORD *v6; // edi@12
  _BYTE *v7; // eax@12
  int v8; // edi@17
  int v9; // [sp+10h] [bp-1Ch]@1

  v9 = 0;
  if ( a1 == 0 || a2 == 0 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  else
  {
    _lock_file(a1);
    if ( !(a1->_flag & 0x40) )
    {
      if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
      {
        v5 = &unk_4BBFA0;
      }
      else
      {
        v4 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 5016768);
        v5 = (_BYTE *)(*v4 + ((_fileno(a1) & 0x1F) << 6));
      }
      if ( v5[36] & 0x7F
        || (_fileno(a1) == -1 || _fileno(a1) == -2 ? (v7 = &unk_4BBFA0) : (v6 = (_DWORD *)(4 * (_fileno(a1) >> 5)
                                                                                         + 5016768),
                                                                           v7 = (_BYTE *)(*v6
                                                                                        + ((_fileno(a1) & 0x1F) << 6))),
            v7[36] & 0x80) )
      {
        *_errno() = 22;
        _invalid_parameter(0, 0, 0, 0, 0);
        v9 = -1;
      }
    }
    if ( !v9 )
    {
      v8 = _stbuf(a1);
      v9 = _output_l((int)a1, a2, 0, (int)&a3);
      _ftbuf(v8, a1);
    }
    _unlock_file(a1);
    result = v9;
  }
  return result;
}
// 468A59: using guessed type _DWORD __cdecl _lock_file(_DWORD);
// 468AC3: using guessed type _DWORD __cdecl _unlock_file(_DWORD);
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 472746: using guessed type _DWORD __cdecl _ftbuf(_DWORD, FILE *);

//----- (00468982) --------------------------------------------------------
void **sub_468982()
{
  return &off_4BB8E0;
}
// 4BB8E0: using guessed type void *off_4BB8E0;

//----- (00468D41) --------------------------------------------------------
int __cdecl sub_468D41(int a1)
{
  int result; // eax@1

  result = a1;
  dword_4C7FD4 = a1;
  return result;
}
// 4C7FD4: using guessed type int dword_4C7FD4;

//----- (00468E7B) --------------------------------------------------------
int __thiscall sub_468E7B(int this)
{
  int result; // eax@1

  result = this;
  *(_DWORD *)(this + 4) = 0;
  *(_DWORD *)(this + 8) = 0;
  *(_DWORD *)this = &off_49ABC4;
  return result;
}
// 49ABC4: using guessed type int (__thiscall *off_49ABC4)(void *, char);

//----- (00468F32) --------------------------------------------------------
void __thiscall sub_468F32(int this)
{
  bool v1; // zf@1

  v1 = *(_DWORD *)(this + 8) == 0;
  *(_DWORD *)this = &off_49ABC4;
  if ( !v1 )
    free(*(void **)(this + 4));
}
// 49ABC4: using guessed type int (__thiscall *off_49ABC4)(void *, char);

//----- (00468F55) --------------------------------------------------------
void *__thiscall sub_468F55(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_468F32((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}

//----- (0046901A) --------------------------------------------------------
signed int __cdecl sub_46901A(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_4C7FDC )
  {
    *a1 = dword_4C7FDC;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4C7FDC: using guessed type int dword_4C7FDC;

//----- (00469051) --------------------------------------------------------
signed int __cdecl sub_469051(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_4C7FDC )
  {
    *a1 = dword_4C7FE8;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4C7FDC: using guessed type int dword_4C7FDC;
// 4C7FE8: using guessed type int dword_4C7FE8;

//----- (0046BBD1) --------------------------------------------------------
size_t __cdecl sub_46BBD1(void *DstBuf, size_t ElementSize, size_t Count, FILE *File)
{
  return fread_s(DstBuf, 0xFFFFFFFF, ElementSize, Count, File);
}

//----- (0046C589) --------------------------------------------------------
#error "46C58E: call analysis failed (funcsize=4)"

//----- (0046C8E3) --------------------------------------------------------
int __cdecl sub_46C8E3(int a1, int a2, char a3)
{
  return vscan_fn(sub_47CB6C, a2, 0, &a3);
}
// 46C87B: using guessed type int __cdecl vscan_fn(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0046E239) --------------------------------------------------------
int __cdecl sub_46E239(int a1, int a2, int a3, char a4)
{
  return vscan_fn_0(sub_47CB6C, a3, 0, &a4);
}
// 46E1D8: using guessed type _DWORD __cdecl vscan_fn_0(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0046ED34) --------------------------------------------------------
void *__thiscall sub_46ED34(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_49AD80;
  sub_468F32((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 49AD80: using guessed type int (__thiscall *off_49AD80)(void *, char);

//----- (0046FB22) --------------------------------------------------------
int sub_46FB22()
{
  return dword_4BBDA4;
}
// 4BBDA4: using guessed type int dword_4BBDA4;

//----- (004717A7) --------------------------------------------------------
int __cdecl sub_4717A7(int a1)
{
  int result; // eax@1

  result = a1;
  dword_4C8824 = a1;
  return result;
}
// 4C8824: using guessed type int dword_4C8824;

//----- (0047193D) --------------------------------------------------------
int __cdecl sub_47193D(int a1, FILE *a2)
{
  FILE *v2; // esi@1
  int v3; // eax@1
  unsigned int v5; // eax@9
  int v6; // eax@15
  char *v7; // edi@15
  signed __int32 v8; // edi@15
  _BYTE *v9; // eax@20
  __int64 v10; // rax@23
  _WORD *v11; // [sp+4h] [bp-4h]@9

  v2 = a2;
  a2 = (FILE *)_fileno(a2);
  v3 = v2->_flag;
  if ( !(v3 & 0x82) )
  {
    *_errno() = 9;
LABEL_3:
    v2->_flag |= 0x20u;
    return -1;
  }
  if ( v3 & 0x40 )
  {
    *_errno() = 34;
    goto LABEL_3;
  }
  if ( v3 & 1 )
  {
    v2->_cnt = 0;
    if ( !(v3 & 0x10) )
    {
      v2->_flag = v3 | 0x20;
      return -1;
    }
    v2->_ptr = v2->_base;
    v2->_flag = v3 & 0xFFFFFFFE;
  }
  v5 = v2->_flag & 0xFFFFFFEF | 2;
  v2->_flag = v5;
  v2->_cnt = 0;
  v11 = 0;
  if ( !(v5 & 0x10C)
    && ((void **)v2 != sub_468982() + 8 && (void **)v2 != sub_468982() + 16 || !sub_47EB85((signed int)a2)) )
  {
    _getbuf(v2);
  }
  if ( v2->_flag & 0x108 )
  {
    v6 = (int)v2->_base;
    v7 = v2->_ptr;
    v2->_ptr = (char *)(v6 + 1);
    v8 = (signed __int32)&v7[-v6];
    v2->_cnt = v2->_bufsiz - 1;
    if ( v8 <= 0 )
    {
      if ( a2 == (FILE *)-1 || a2 == (FILE *)-2 )
        v9 = &unk_4BBFA0;
      else
        v9 = (_BYTE *)(dword_4C8CC0[(signed int)a2 >> 5] + (((unsigned __int8)a2 & 0x1F) << 6));
      if ( v9[4] & 0x20 )
      {
        v10 = _lseeki64((int)a2, 0i64, 2);
        if ( (HIDWORD(v10) & (unsigned int)v10) == -1 )
          goto LABEL_27;
      }
    }
    else
    {
      v11 = sub_47A69A((int)a2, v6, v8);
    }
    *v2->_base = a1;
  }
  else
  {
    v8 = 1;
    v11 = sub_47A69A((int)a2, (int)&a1, 1u);
  }
  if ( v11 != (_WORD *)v8 )
  {
LABEL_27:
    v2->_flag |= 0x20u;
    return -1;
  }
  return (unsigned __int8)a1;
}
// 47EB41: using guessed type _DWORD __cdecl _getbuf(_DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (00472D36) --------------------------------------------------------
int sub_472D36()
{
  return flsall(1);
}
// 472C5C: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (00473486) --------------------------------------------------------
void sub_473486()
{
  dword_4C8CA0 = 0;
}
// 4C8CA0: using guessed type int dword_4C8CA0;

//----- (0047348E) --------------------------------------------------------
int (*sub_47348E())(void)
{
  int (*result)(void); // eax@1
  int (**v1)(void); // esi@1

  result = (int (*)(void))&unk_4A52CC;
  v1 = (int (**)(void))&unk_4A52CC;
  if ( &unk_4A52CC < &unk_4A52CC )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = (int (*)(void))result();
      ++v1;
    }
    while ( v1 < (int (**)(void))&unk_4A52CC );
  }
  return result;
}

//----- (004734B2) --------------------------------------------------------
void __cdecl sub_4734B2()
{
  void (**v0)(void); // esi@1

  v0 = (void (**)(void))&unk_4A52D4;
  if ( &unk_4A52D4 < &unk_4A52D4 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < (void (**)(void))&unk_4A52D4 );
  }
}

//----- (004736A1) --------------------------------------------------------
int sub_4736A1()
{
  return _decode_pointer(dword_4C8898);
}
// 46FA96: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 4C8898: using guessed type int dword_4C8898;

//----- (0047385E) --------------------------------------------------------
int __cdecl sub_47385E(int a1)
{
  int result; // eax@1

  result = a1;
  dword_4C88A4 = a1;
  return result;
}
// 4C88A4: using guessed type int dword_4C88A4;

//----- (00473868) --------------------------------------------------------
int __cdecl sub_473868(int a1)
{
  int result; // eax@1

  result = a1;
  dword_4C88B0 = a1;
  return result;
}
// 4C88B0: using guessed type int dword_4C88B0;

//----- (00473872) --------------------------------------------------------
int __cdecl sub_473872(int a1)
{
  int result; // eax@1

  result = a1;
  dword_4C88B4 = a1;
  return result;
}
// 4C88B4: using guessed type int dword_4C88B4;

//----- (004795B4) --------------------------------------------------------
int __cdecl sub_4795B4(FILE *a1)
{
  int v1; // eax@3
  int v2; // eax@7
  int v3; // ST10_4@10
  char *v4; // ST0C_4@10
  int v5; // eax@10
  int v6; // eax@10
  _DWORD *v7; // edi@15
  _BYTE *v8; // eax@15
  int v9; // eax@20
  char *v10; // ecx@23
  int result; // eax@23

  if ( !a1 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
  v1 = a1->_flag;
  if ( !(v1 & 0x83) || v1 & 0x40 )
    return -1;
  if ( v1 & 2 )
  {
    a1->_flag = v1 | 0x20;
    return -1;
  }
  v2 = v1 | 1;
  a1->_flag = v2;
  if ( v2 & 0x10C )
    a1->_ptr = a1->_base;
  else
    _getbuf(a1);
  v3 = a1->_bufsiz;
  v4 = a1->_base;
  v5 = _fileno(a1);
  v6 = _read(v5, v4, v3);
  a1->_cnt = v6;
  if ( !v6 || v6 == -1 )
  {
    a1->_flag |= v6 != 0 ? 32 : 16;
    a1->_cnt = 0;
    return -1;
  }
  if ( !(a1->_flag & 0x82) )
  {
    if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
    {
      v8 = &unk_4BBFA0;
    }
    else
    {
      v7 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 5016768);
      v8 = (_BYTE *)(*v7 + ((_fileno(a1) & 0x1F) << 6));
    }
    if ( (v8[4] & 0x82) == -126 )
      a1->_flag |= 0x2000u;
  }
  if ( a1->_bufsiz == 512 )
  {
    v9 = a1->_flag;
    if ( v9 & 8 )
    {
      if ( !(v9 & 0x400) )
        a1->_bufsiz = 4096;
    }
  }
  v10 = a1->_ptr;
  --a1->_cnt;
  result = (unsigned __int8)*v10;
  a1->_ptr = v10 + 1;
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 47EB41: using guessed type _DWORD __cdecl _getbuf(_DWORD);

//----- (00479D92) --------------------------------------------------------
DWORD __cdecl sub_479D92(int a1, LONG lDistanceToMove, DWORD dwMoveMethod)
{
  void *v3; // eax@1
  DWORD result; // eax@2
  DWORD v5; // edi@3
  DWORD v6; // eax@4
  _BYTE *v7; // eax@8

  v3 = (void *)sub_4803D3(a1);
  if ( v3 == (void *)-1 )
  {
    *_errno() = 9;
    result = -1;
  }
  else
  {
    v5 = SetFilePointer(v3, lDistanceToMove, 0, dwMoveMethod);
    if ( v5 == -1 )
      v6 = GetLastError();
    else
      v6 = 0;
    if ( v6 )
    {
      _dosmaperr(v6);
      result = -1;
    }
    else
    {
      v7 = (_BYTE *)(dword_4C8CC0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
      *v7 &= 0xFDu;
      result = v5;
    }
  }
  return result;
}
// 46C650: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (00479E04) --------------------------------------------------------
DWORD __cdecl sub_479E04(int a1, LONG lDistanceToMove, DWORD dwMoveMethod)
{
  int v4; // esi@7
  DWORD v5; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return -1;
  }
  if ( a1 < 0 || a1 >= uNumber || (v4 = (a1 & 0x1F) << 6, !(*(_BYTE *)(dword_4C8CC0[a1 >> 5] + v4 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(dword_4C8CC0[a1 >> 5] + v4 + 4) & 1 )
  {
    v5 = sub_479D92(a1, lDistanceToMove, dwMoveMethod);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v5 = -1;
  }
  sub_4804E4(a1);
  return v5;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 480444: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (00479EE0) --------------------------------------------------------
char *__cdecl sub_479EE0(FILE *a1)
{
  FILE *v1; // edi@1
  int v3; // eax@4
  signed __int32 v4; // eax@6
  int v5; // edx@7
  char *v6; // eax@9
  char *v7; // ecx@9
  char *v8; // edx@11
  int v9; // edx@20
  int v10; // esi@22
  char *v11; // eax@24
  unsigned int v12; // ecx@24
  bool v13; // zf@29
  signed int v14; // eax@32
  int v15; // ecx@33
  char *v16; // [sp+8h] [bp-Ch]@9
  LONG lDistanceToMove; // [sp+Ch] [bp-8h]@6
  signed int v18; // [sp+10h] [bp-4h]@4
  FILE *v19; // [sp+1Ch] [bp+8h]@22

  v1 = a1;
  if ( !a1 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (char *)-1;
  }
  v3 = _fileno(a1);
  v18 = v3;
  if ( a1->_cnt < 0 )
    a1->_cnt = 0;
  v4 = sub_479E04(v3, 0, 1u);
  lDistanceToMove = v4;
  if ( v4 < 0 )
    return (char *)-1;
  v5 = a1->_flag;
  if ( !(v5 & 0x108) )
    return (char *)(v4 - a1->_cnt);
  v6 = a1->_ptr;
  v7 = a1->_base;
  v16 = (char *)(a1->_ptr - v7);
  if ( v5 & 3 )
  {
    if ( *(_BYTE *)(dword_4C8CC0[v18 >> 5] + ((v18 & 0x1F) << 6) + 4) & 0x80 )
    {
      v8 = a1->_base;
      if ( v7 < v6 )
      {
        do
        {
          if ( *v8 == 10 )
            ++v16;
          ++v8;
        }
        while ( v8 < v6 );
      }
    }
  }
  else if ( (char)v5 >= 0 )
  {
    *_errno() = 22;
    return (char *)-1;
  }
  if ( !lDistanceToMove )
    return v16;
  if ( !(a1->_flag & 1) )
    return &v16[lDistanceToMove];
  v9 = a1->_cnt;
  if ( v9 )
  {
    v19 = (FILE *)(v9 + v6 - v7);
    v10 = (v18 & 0x1F) << 6;
    if ( !(*(_BYTE *)(dword_4C8CC0[v18 >> 5] + v10 + 4) & 0x80) )
    {
LABEL_39:
      lDistanceToMove -= (signed int)v19;
      return &v16[lDistanceToMove];
    }
    if ( sub_479E04(v18, 0, 2u) == lDistanceToMove )
    {
      v11 = v1->_base;
      v12 = (unsigned int)v19 + (_DWORD)v11;
      while ( (unsigned int)v11 < v12 )
      {
        if ( *v11 == 10 )
          v19 = (FILE *)((char *)v19 + 1);
        ++v11;
      }
      v13 = (v1->_flag & 0x2000) == 0;
LABEL_37:
      if ( !v13 )
        v19 = (FILE *)((char *)v19 + 1);
      goto LABEL_39;
    }
    if ( (sub_479E04(v18, lDistanceToMove, 0) & 0x80000000) == 0 )
    {
      v14 = 512;
      if ( (unsigned int)v19 > 0x200 || (v15 = v1->_flag, !(v15 & 8)) || v15 & 0x400 )
        v14 = v1->_bufsiz;
      v19 = (FILE *)v14;
      v13 = (*(_BYTE *)(dword_4C8CC0[v18 >> 5] + v10 + 4) & 4) == 0;
      goto LABEL_37;
    }
    return (char *)-1;
  }
  v16 = 0;
  return &v16[lDistanceToMove];
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (0047A078) --------------------------------------------------------
_WORD *__cdecl sub_47A078(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // esi@5
  int v5; // edi@5
  int v6; // eax@5
  char v7; // bl@5
  int v8; // eax@13
  void *v9; // ST18_4@13
  DWORD v10; // eax@16
  const char *v11; // ebx@16
  char v12; // cl@19
  int *v13; // esi@19
  int v14; // eax@19
  int v15; // eax@20
  int v16; // eax@27
  signed int v17; // esi@27
  int v18; // eax@31
  int v19; // esi@36
  __int16 v20; // ax@39
  int v21; // ecx@45
  char v22; // dl@45
  int v23; // eax@46
  DWORD v24; // ecx@51
  char *v25; // eax@51
  char *v26; // edx@53
  char v27; // dl@53
  int v28; // ebx@56
  DWORD v29; // ecx@64
  char *v30; // eax@64
  __int16 *v31; // edx@66
  __int16 v32; // dx@66
  int v33; // ebx@69
  DWORD v34; // ecx@74
  WCHAR *v35; // eax@74
  WCHAR v36; // dx@76
  int v37; // esi@79
  int v38; // ebx@79
  DWORD Mode; // [sp+4h] [bp-7Ch]@13
  int v40; // [sp+8h] [bp-78h]@13
  char v41; // [sp+Fh] [bp-71h]@5
  int *v42; // [sp+10h] [bp-70h]@5
  DWORD v43; // [sp+14h] [bp-6Ch]@56
  int v44; // [sp+18h] [bp-68h]@1
  LPCVOID lpBuffer; // [sp+1Ch] [bp-64h]@1
  _WORD *v46; // [sp+20h] [bp-60h]@1
  DWORD NumberOfBytesWritten; // [sp+24h] [bp-5Ch]@16
  WCHAR WideCharStr[2]; // [sp+28h] [bp-58h]@20
  _WORD *v49; // [sp+2Ch] [bp-54h]@17
  char Buffer; // [sp+30h] [bp-50h]@51
  CHAR v51[688]; // [sp+184h] [bp+104h]@79
  WCHAR v52; // [sp+434h] [bp+3B4h]@74
  CHAR MultiByteStr; // [sp+588h] [bp+508h]@20
  char v54; // [sp+589h] [bp+509h]@20

  lpBuffer = (LPCVOID)a2;
  v46 = 0;
  v44 = 0;
  if ( !nNumberOfBytesToWrite )
    return 0;
  if ( !a2 )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  v4 = (int *)(4 * (a1 >> 5) + 5016768);
  v5 = (a1 & 0x1F) << 6;
  v6 = v5 + dword_4C8CC0[a1 >> 5];
  v7 = (char)(2 * *(_BYTE *)(v6 + 36)) >> 1;
  v42 = (int *)(4 * (a1 >> 5) + 5016768);
  v41 = v7;
  if ( (v7 == 2 || v7 == 1) && !(~(_BYTE)nNumberOfBytesToWrite & 1) )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  if ( *(_BYTE *)(v6 + 4) & 0x20 )
    sub_47E9A5(a1, 0, 0, 2u);
  if ( sub_47EB85(a1) )
  {
    if ( *(_BYTE *)(v5 + dword_4C8CC0[a1 >> 5] + 4) & 0x80 )
    {
      v8 = _getptd();
      v9 = *(void **)(v5 + dword_4C8CC0[a1 >> 5]);
      v40 = *(_DWORD *)(*(_DWORD *)(v8 + 108) + 20) == 0;
      if ( GetConsoleMode(v9, &Mode) )
      {
        if ( !v40 || v7 )
        {
          v10 = GetConsoleCP();
          v11 = (const char *)lpBuffer;
          Mode = v10;
          NumberOfBytesWritten = 0;
          if ( nNumberOfBytesToWrite )
          {
            v49 = 0;
            while ( 1 )
            {
              if ( v41 )
              {
                if ( v41 == 1 || v41 == 2 )
                {
                  v19 = *(_WORD *)v11;
                  v11 += 2;
                  ++v49;
                  *(_DWORD *)WideCharStr = v19;
                  v40 = (_WORD)v19 == 10;
                }
                if ( v41 == 1 || v41 == 2 )
                {
                  v20 = _putwch_nolock(WideCharStr[0]);
                  if ( v20 != WideCharStr[0] )
                    goto LABEL_89;
                  v46 = (_WORD *)((char *)v46 + 1);
                  if ( v40 )
                  {
                    *(_DWORD *)WideCharStr = 13;
                    if ( (unsigned __int16)_putwch_nolock(13) != 13 )
                      goto LABEL_89;
                    v46 = (_WORD *)((char *)v46 + 1);
                    ++v44;
                  }
                }
                goto LABEL_43;
              }
              v12 = *v11;
              v13 = v42;
              v40 = *v11 == 10;
              v14 = v5 + *v42;
              if ( *(_DWORD *)(v14 + 56) )
              {
                MultiByteStr = *(_BYTE *)(v14 + 52);
                v54 = v12;
                *(_DWORD *)(v14 + 56) = 0;
                v15 = mbtowc(WideCharStr, &MultiByteStr, 2u);
              }
              else
              {
                if ( isleadbyte(v12) )
                {
                  if ( nNumberOfBytesToWrite + (_BYTE *)lpBuffer - v11 <= 1 )
                  {
                    v21 = *v13;
                    v22 = *v11;
                    v46 = (_WORD *)((char *)v46 + 1);
                    *(_BYTE *)(v5 + v21 + 52) = v22;
                    *(_DWORD *)(v5 + *v13 + 56) = 1;
                    goto LABEL_90;
                  }
                  if ( mbtowc(WideCharStr, v11, 2u) == -1 )
                    goto LABEL_90;
                  ++v11;
                  v49 = (_WORD *)((char *)v49 + 1);
                  goto LABEL_27;
                }
                v15 = mbtowc(WideCharStr, v11, 1u);
              }
              if ( v15 == -1 )
                goto LABEL_90;
LABEL_27:
              ++v11;
              v49 = (_WORD *)((char *)v49 + 1);
              v16 = WideCharToMultiByte(Mode, 0, WideCharStr, 1, &MultiByteStr, 5, 0, 0);
              v17 = v16;
              if ( !v16 )
                goto LABEL_90;
              if ( !WriteFile(*(HANDLE *)(v5 + *v42), &MultiByteStr, v16, &NumberOfBytesWritten, 0) )
                goto LABEL_89;
              v46 = (_WORD *)((char *)v49 + v44);
              if ( (signed int)NumberOfBytesWritten < v17 )
                goto LABEL_90;
              if ( v40 )
              {
                v18 = *v42;
                MultiByteStr = 13;
                if ( !WriteFile(*(HANDLE *)(v5 + v18), &MultiByteStr, 1u, &NumberOfBytesWritten, 0) )
                  goto LABEL_89;
                if ( (signed int)NumberOfBytesWritten < 1 )
                  goto LABEL_90;
                ++v44;
                v46 = (_WORD *)((char *)v46 + 1);
              }
LABEL_43:
              if ( (unsigned int)v49 >= nNumberOfBytesToWrite )
                goto LABEL_90;
            }
          }
          goto LABEL_91;
        }
      }
    }
  }
  v23 = v5 + dword_4C8CC0[a1 >> 5];
  if ( *(_BYTE *)(v23 + 4) & 0x80 )
  {
    *(_DWORD *)WideCharStr = 0;
    if ( v7 )
    {
      v49 = lpBuffer;
      if ( v7 == 2 )
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v29 = (char *)v49 - (_BYTE *)lpBuffer;
          v30 = &Buffer;
          do
          {
            if ( v29 >= nNumberOfBytesToWrite )
              break;
            v31 = v49;
            ++v49;
            v32 = *v31;
            v29 += 2;
            if ( v32 == 10 )
            {
              v44 += 2;
              *(_WORD *)v30 = 13;
              v30 += 2;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *(_WORD *)v30 = v32;
            v30 += 2;
          }
          while ( NumberOfBytesWritten < 0x3FF );
          v33 = v30 - &Buffer;
          if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v30 - &Buffer, &v43, 0) )
            break;
          v46 = (_WORD *)((char *)v46 + v43);
          if ( (signed int)v43 < v33 || (char *)v49 - (_BYTE *)lpBuffer >= nNumberOfBytesToWrite )
            goto LABEL_90;
          v4 = v42;
        }
      }
      else
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v34 = (char *)v49 - (_BYTE *)lpBuffer;
          v35 = &v52;
          do
          {
            if ( v34 >= nNumberOfBytesToWrite )
              break;
            v36 = *v49;
            ++v49;
            v34 += 2;
            if ( v36 == 10 )
            {
              *v35 = 13;
              ++v35;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *v35 = v36;
            ++v35;
          }
          while ( NumberOfBytesWritten < 0x152 );
          v37 = 0;
          v38 = WideCharToMultiByte(0xFDE9u, 0, &v52, v35 - &v52, v51, 683, 0, 0);
          if ( !v38 )
            break;
          while ( WriteFile(*(HANDLE *)(v5 + *v42), &v51[v37], v38 - v37, &v43, 0) )
          {
            v37 += v43;
            if ( v38 <= v37 )
              goto LABEL_84;
          }
          *(_DWORD *)WideCharStr = GetLastError();
LABEL_84:
          if ( v38 <= v37 )
          {
            v46 = (_WORD *)((char *)v49 - (_BYTE *)lpBuffer);
            if ( (char *)v49 - (_BYTE *)lpBuffer < nNumberOfBytesToWrite )
              continue;
          }
          goto LABEL_90;
        }
      }
    }
    else
    {
      NumberOfBytesWritten = (DWORD)lpBuffer;
      if ( nNumberOfBytesToWrite <= 0 )
        goto LABEL_96;
      while ( 1 )
      {
        v49 = 0;
        v24 = NumberOfBytesWritten - (_DWORD)lpBuffer;
        v25 = &Buffer;
        do
        {
          if ( v24 >= nNumberOfBytesToWrite )
            break;
          v26 = (char *)NumberOfBytesWritten++;
          v27 = *v26;
          ++v24;
          if ( v27 == 10 )
          {
            ++v44;
            *v25++ = 13;
            v49 = (_WORD *)((char *)v49 + 1);
          }
          *v25++ = v27;
          v49 = (_WORD *)((char *)v49 + 1);
        }
        while ( (unsigned int)v49 < 0x400 );
        v28 = v25 - &Buffer;
        if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v25 - &Buffer, &v43, 0) )
          break;
        v46 = (_WORD *)((char *)v46 + v43);
        if ( (signed int)v43 < v28 || NumberOfBytesWritten - (unsigned int)lpBuffer >= nNumberOfBytesToWrite )
          goto LABEL_90;
        v4 = v42;
      }
    }
  }
  else if ( WriteFile(*(HANDLE *)v23, lpBuffer, nNumberOfBytesToWrite, &v43, 0) )
  {
    *(_DWORD *)WideCharStr = 0;
    v46 = (_WORD *)v43;
    goto LABEL_90;
  }
LABEL_89:
  *(_DWORD *)WideCharStr = GetLastError();
LABEL_90:
  if ( !v46 )
  {
LABEL_91:
    if ( *(_DWORD *)WideCharStr )
    {
      if ( *(_DWORD *)WideCharStr == 5 )
      {
        *_errno() = 9;
        *__doserrno() = 5;
      }
      else
      {
        _dosmaperr(*(_DWORD *)WideCharStr);
      }
      return (_WORD *)-1;
    }
    v4 = v42;
LABEL_96:
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x40 && *(_BYTE *)lpBuffer == 26 )
      return 0;
    *_errno() = 28;
    *__doserrno() = 0;
    return (_WORD *)-1;
  }
  return (_WORD *)((char *)v46 - v44);
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 46C650: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 46FCE6: using guessed type int _getptd(void);
// 4C8CC0: using guessed type int dword_4C8CC0[];
// 47A078: using guessed type CHAR var_410[688];

//----- (0047A69A) --------------------------------------------------------
_WORD *__cdecl sub_47A69A(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int v4; // esi@7
  _WORD *v5; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return (_WORD *)-1;
  }
  if ( a1 < 0 || a1 >= uNumber || (v4 = (a1 & 0x1F) << 6, !(*(_BYTE *)(dword_4C8CC0[a1 >> 5] + v4 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(dword_4C8CC0[a1 >> 5] + v4 + 4) & 1 )
  {
    v5 = sub_47A078(a1, a2, nNumberOfBytesToWrite);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v5 = (_WORD *)-1;
  }
  sub_4804E4(a1);
  return v5;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 480444: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (0047A776) --------------------------------------------------------
signed int __cdecl sub_47A776(signed int a1)
{
  signed int v1; // edi@6
  void *v2; // eax@7
  DWORD v3; // edi@8
  signed int result; // eax@11

  if ( sub_4803D3(a1) == -1
    || (a1 == 1 && *(_BYTE *)(dword_4C8CC0[0] + 132) & 1 || a1 == 2 && *(_BYTE *)(dword_4C8CC0[0] + 68) & 1)
    && (v1 = sub_4803D3(2), sub_4803D3(1) == v1)
    || (v2 = (void *)sub_4803D3(a1), CloseHandle(v2)) )
  {
    v3 = 0;
  }
  else
  {
    v3 = GetLastError();
  }
  sub_480352(a1);
  *(_BYTE *)(dword_4C8CC0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) = 0;
  if ( v3 )
  {
    _dosmaperr(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 46C650: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (0047B2EB) --------------------------------------------------------
int sub_47B2EB()
{
  int v0; // edi@1
  int i; // esi@1
  int v2; // eax@3
  int v3; // eax@4
  int v4; // esi@12

  v0 = 0;
  _lock(1);
  for ( i = 0; i < dword_4C9E00; ++i )
  {
    v2 = dword_4C8DFC + 4 * i;
    if ( !*(_DWORD *)v2 )
    {
      v4 = 4 * i;
      *(_DWORD *)(v4 + dword_4C8DFC) = _malloc_crt(0x38u);
      if ( *(_DWORD *)(v4 + dword_4C8DFC) )
      {
        if ( __crtInitCritSecAndSpinCount(*(_DWORD *)(v4 + dword_4C8DFC) + 32, 4000) )
        {
          EnterCriticalSection((LPCRITICAL_SECTION)(*(_DWORD *)(v4 + dword_4C8DFC) + 32));
          v0 = *(_DWORD *)(v4 + dword_4C8DFC);
          *(_DWORD *)(v0 + 12) = 0;
        }
        else
        {
          free(*(void **)(v4 + dword_4C8DFC));
          *(_DWORD *)(v4 + dword_4C8DFC) = 0;
        }
      }
      break;
    }
    v3 = *(_DWORD *)(*(_DWORD *)v2 + 12);
    if ( !(v3 & 0x83) && (signed __int16)v3 >= 0 )
    {
      if ( (unsigned int)(i - 3) <= 0x10 && !_mtinitlocknum(i + 16) )
        break;
      _lock_file2(i, *(_DWORD *)(dword_4C8DFC + 4 * i));
      if ( !(*(_BYTE *)(*(_DWORD *)(dword_4C8DFC + 4 * i) + 12) & 0x83) )
      {
        v0 = *(_DWORD *)(dword_4C8DFC + 4 * i);
        break;
      }
      _unlock_file2(i, *(_DWORD *)(dword_4C8DFC + 4 * i));
    }
  }
  if ( v0 )
  {
    *(_DWORD *)(v0 + 12) &= 0x8000u;
    *(_DWORD *)(v0 + 4) = 0;
    *(_DWORD *)(v0 + 8) = 0;
    *(_DWORD *)v0 = 0;
    *(_DWORD *)(v0 + 28) = 0;
    *(_DWORD *)(v0 + 16) = -1;
  }
  _unlock(1);
  return v0;
}
// 468A95: using guessed type _DWORD __cdecl _lock_file2(_DWORD, _DWORD);
// 468AF9: using guessed type _DWORD __cdecl _unlock_file2(_DWORD, _DWORD);
// 470911: using guessed type _DWORD __cdecl _unlock(_DWORD);
// 470926: using guessed type _DWORD __cdecl _mtinitlocknum(_DWORD);
// 4709E9: using guessed type _DWORD __cdecl _lock(_DWORD);
// 47388C: using guessed type _DWORD __cdecl __crtInitCritSecAndSpinCount(_DWORD, _DWORD);
// 4C8DFC: using guessed type int dword_4C8DFC;
// 4C9E00: using guessed type int dword_4C9E00;

//----- (0047B9A4) --------------------------------------------------------
#error "47B9A9: positive sp value has been found (funcsize=0)"

//----- (0047B9AF) --------------------------------------------------------
#error "47B9B4: positive sp value has been found (funcsize=0)"

//----- (0047B9BA) --------------------------------------------------------
#error "47B9BF: positive sp value has been found (funcsize=0)"

//----- (0047B9C0) --------------------------------------------------------
#error "47B9C5: positive sp value has been found (funcsize=0)"

//----- (0047B9C6) --------------------------------------------------------
#error "47B9CB: positive sp value has been found (funcsize=0)"

//----- (0047B9CC) --------------------------------------------------------
#error "47B9D1: positive sp value has been found (funcsize=0)"

//----- (0047B9D2) --------------------------------------------------------
#error "47B9ED: positive sp value has been found (funcsize=0)"

//----- (0047B9F3) --------------------------------------------------------
#error "47BA08: positive sp value has been found (funcsize=0)"

//----- (0047BA0E) --------------------------------------------------------
#error "47BA29: positive sp value has been found (funcsize=0)"

//----- (0047BA2A) --------------------------------------------------------
#error "47BA39: positive sp value has been found (funcsize=0)"

//----- (0047BA3A) --------------------------------------------------------
#error "47BA4D: positive sp value has been found (funcsize=0)"

//----- (0047BA4E) --------------------------------------------------------
#error "47BA5D: positive sp value has been found (funcsize=0)"

//----- (0047BA5E) --------------------------------------------------------
#error "47BA7D: positive sp value has been found (funcsize=0)"

//----- (0047BA83) --------------------------------------------------------
#error "47BA9C: positive sp value has been found (funcsize=0)"

//----- (0047BAA2) --------------------------------------------------------
#error "47BAC1: positive sp value has been found (funcsize=0)"

//----- (0047BAC2) --------------------------------------------------------
#error "47BAD5: positive sp value has been found (funcsize=0)"

//----- (0047BAD6) --------------------------------------------------------
#error "47BAED: positive sp value has been found (funcsize=0)"

//----- (0047BAEE) --------------------------------------------------------
#error "47BB01: positive sp value has been found (funcsize=0)"

//----- (0047BB02) --------------------------------------------------------
#error "47BB21: positive sp value has been found (funcsize=0)"

//----- (0047BB27) --------------------------------------------------------
#error "47BB40: positive sp value has been found (funcsize=0)"

//----- (0047BB46) --------------------------------------------------------
#error "47BB65: positive sp value has been found (funcsize=0)"

//----- (0047BB66) --------------------------------------------------------
#error "47BB79: positive sp value has been found (funcsize=0)"

//----- (0047BB7A) --------------------------------------------------------
#error "47BB91: positive sp value has been found (funcsize=0)"

//----- (0047BB92) --------------------------------------------------------
#error "47BBA5: positive sp value has been found (funcsize=0)"

//----- (0047BBA6) --------------------------------------------------------
#error "47BBC5: positive sp value has been found (funcsize=0)"

//----- (0047BBCB) --------------------------------------------------------
#error "47BBE4: positive sp value has been found (funcsize=0)"

//----- (0047BBEA) --------------------------------------------------------
#error "47BC09: positive sp value has been found (funcsize=0)"

//----- (0047BC0A) --------------------------------------------------------
#error "47BC1D: positive sp value has been found (funcsize=0)"

//----- (0047BC1E) --------------------------------------------------------
#error "47BC35: positive sp value has been found (funcsize=0)"

//----- (0047BC36) --------------------------------------------------------
#error "47BC49: positive sp value has been found (funcsize=0)"

//----- (0047BC4A) --------------------------------------------------------
#error "47BC69: positive sp value has been found (funcsize=0)"

//----- (0047BC6F) --------------------------------------------------------
#error "47BC88: positive sp value has been found (funcsize=0)"

//----- (0047BC8E) --------------------------------------------------------
#error "47BCAD: positive sp value has been found (funcsize=0)"

//----- (0047BCAE) --------------------------------------------------------
#error "47BCC1: positive sp value has been found (funcsize=0)"

//----- (0047BCC2) --------------------------------------------------------
#error "47BCD9: positive sp value has been found (funcsize=0)"

//----- (0047BCDA) --------------------------------------------------------
#error "47BCED: positive sp value has been found (funcsize=0)"

//----- (0047BCEE) --------------------------------------------------------
#error "47BD0D: positive sp value has been found (funcsize=0)"

//----- (0047BD13) --------------------------------------------------------
#error "47BD2C: positive sp value has been found (funcsize=0)"

//----- (0047BD32) --------------------------------------------------------
#error "47BD51: positive sp value has been found (funcsize=0)"

//----- (0047BD52) --------------------------------------------------------
#error "47BD65: positive sp value has been found (funcsize=0)"

//----- (0047BD66) --------------------------------------------------------
#error "47BD7D: positive sp value has been found (funcsize=0)"

//----- (0047BD7E) --------------------------------------------------------
#error "47BD91: positive sp value has been found (funcsize=0)"

//----- (0047BD92) --------------------------------------------------------
#error "47BDB1: positive sp value has been found (funcsize=0)"

//----- (0047BDB7) --------------------------------------------------------
#error "47BDD0: positive sp value has been found (funcsize=0)"

//----- (0047BDD6) --------------------------------------------------------
#error "47BDF5: positive sp value has been found (funcsize=0)"

//----- (0047BDF6) --------------------------------------------------------
#error "47BE09: positive sp value has been found (funcsize=0)"

//----- (0047BE0A) --------------------------------------------------------
#error "47BE21: positive sp value has been found (funcsize=0)"

//----- (0047BE22) --------------------------------------------------------
#error "47BE35: positive sp value has been found (funcsize=0)"

//----- (0047CB6C) --------------------------------------------------------
int __cdecl sub_47CB6C(FILE *a1, int a2, struct localeinfo_struct *a3, int a4)
{
  unsigned __int8 *v4; // edi@1
  int result; // eax@2
  _DWORD *v6; // edi@7
  _BYTE *v7; // eax@7
  _DWORD *v8; // edi@12
  _BYTE *v9; // eax@12
  unsigned __int8 v10; // al@16
  int v11; // eax@18
  unsigned __int8 *v12; // esi@20
  int v13; // esi@23
  int v14; // ebx@25
  int v15; // eax@25
  int v16; // ST10_4@25
  int v17; // ecx@25
  int v18; // eax@35
  _BYTE *v19; // ebx@57
  char v20; // al@60
  signed int v21; // edi@63
  int v22; // eax@66
  int v23; // ecx@70
  int v24; // eax@76
  unsigned int v25; // eax@76
  int v26; // eax@85
  signed int v27; // ebx@88
  int v28; // ebx@90
  int i; // eax@96
  int v30; // eax@97
  int v31; // ecx@98
  int v32; // eax@102
  int j; // eax@104
  int v34; // eax@105
  int v35; // ecx@106
  int v36; // eax@112
  int v37; // ecx@113
  int v38; // ecx@114
  int v39; // eax@118
  int k; // eax@121
  int v41; // eax@122
  int v42; // ecx@123
  void *v43; // ST0C_4@130
  _WORD *v44; // ST08_4@130
  int v45; // ST04_4@130
  void (__cdecl *v46)(int, _WORD *, void *, struct localeinfo_struct *); // eax@130
  _BYTE *v47; // esi@135
  int v48; // ST10_4@136
  int v49; // eax@140
  signed int v50; // eax@141
  unsigned __int8 *v51; // esi@166
  unsigned __int8 v52; // dl@169
  unsigned __int8 v53; // al@175
  unsigned int v54; // edi@178
  int v55; // edx@178
  unsigned int v56; // ecx@181
  unsigned int v57; // eax@181
  unsigned __int8 v58; // al@182
  int v59; // eax@190
  int v60; // ecx@190
  int v61; // eax@229
  int v62; // ST10_4@229
  int v63; // ecx@229
  int v64; // eax@235
  int v65; // ST10_4@235
  int v66; // eax@248
  int v67; // ST10_4@248
  int v68; // ecx@248
  int v69; // eax@254
  int v70; // ST10_4@254
  int v71; // ebx@275
  int v72; // eax@275
  int v73; // eax@277
  int v74; // ecx@277
  bool v75; // zf@285
  int *v76; // eax@293
  int v77; // [sp-4h] [bp-80h]@17
  int v78; // [sp-4h] [bp-80h]@100
  int v79; // [sp-4h] [bp-80h]@153
  signed int v80; // [sp-4h] [bp-80h]@196
  int v81; // [sp-4h] [bp-80h]@276
  struct localeinfo_struct Locale; // [sp+Ch] [bp-70h]@16
  int v83; // [sp+14h] [bp-68h]@308
  char v84; // [sp+18h] [bp-64h]@307
  int v85; // [sp+1Ch] [bp-60h]@1
  wchar_t DstCh[2]; // [sp+20h] [bp-5Ch]@1
  _BYTE **v87; // [sp+24h] [bp-58h]@57
  int v88; // [sp+28h] [bp-54h]@63
  _BYTE **v89; // [sp+2Ch] [bp-50h]@1
  char SrcCh; // [sp+30h] [bp-4Ch]@153
  char v91; // [sp+31h] [bp-4Bh]@154
  int v92; // [sp+34h] [bp-48h]@24
  int v93; // [sp+38h] [bp-44h]@1
  unsigned __int8 v94; // [sp+3Fh] [bp-3Dh]@24
  int v95; // [sp+40h] [bp-3Ch]@1
  unsigned int v96; // [sp+44h] [bp-38h]@24
  int v97; // [sp+48h] [bp-34h]@16
  int v98; // [sp+4Ch] [bp-30h]@24
  _WORD *v99; // [sp+50h] [bp-2Ch]@59
  int v100; // [sp+54h] [bp-28h]@24
  __int64 v101; // [sp+58h] [bp-24h]@36
  unsigned __int8 *v102; // [sp+60h] [bp-1Ch]@1
  int v103; // [sp+64h] [bp-18h]@24
  void *v104; // [sp+68h] [bp-14h]@1
  char v105; // [sp+6Ch] [bp-10h]@24
  char v106; // [sp+6Dh] [bp-Fh]@24
  char v107; // [sp+6Eh] [bp-Eh]@16
  char v108; // [sp+6Fh] [bp-Dh]@24
  FILE *v109; // [sp+70h] [bp-Ch]@1
  char v110; // [sp+77h] [bp-5h]@24
  int v111; // [sp+78h] [bp-4h]@24
  char v112; // [sp+7Eh] [bp+2h]@24
  char v113; // [sp+7Fh] [bp+3h]@24
  int v114; // [sp+80h] [bp+4h]@1
  char v115; // [sp+87h] [bp+Bh]@24
  int v116; // [sp+88h] [bp+Ch]@16
  char v117; // [sp+8Ch] [bp+10h]@1
  char v118[11]; // [sp+1ECh] [bp+170h]@148
  char v119; // [sp+1F7h] [bp+17Bh]@169

  v4 = (unsigned __int8 *)a2;
  v89 = (_BYTE **)a4;
  v109 = a1;
  v102 = (unsigned __int8 *)a2;
  v104 = &v117;
  v93 = 350;
  v95 = 0;
  *(_DWORD *)DstCh = 0;
  v114 = 0;
  v85 = 0;
  if ( !a2 || !a1 )
    goto LABEL_2;
  if ( !(a1->_flag & 0x40) )
  {
    if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
    {
      v7 = &unk_4BBFA0;
    }
    else
    {
      v6 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 5016768);
      v7 = (_BYTE *)(*v6 + ((_fileno(a1) & 0x1F) << 6));
    }
    if ( !(v7[36] & 0x7F) )
    {
      if ( _fileno(a1) == -1 || _fileno(a1) == -2 )
      {
        v9 = &unk_4BBFA0;
      }
      else
      {
        v8 = (_DWORD *)(4 * (_fileno(a1) >> 5) + 5016768);
        v9 = (_BYTE *)(*v8 + ((_fileno(a1) & 0x1F) << 6));
      }
      if ( !(v9[36] & 0x80) )
      {
        v4 = v102;
        goto LABEL_16;
      }
    }
LABEL_2:
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return -1;
  }
LABEL_16:
  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&Locale, a3);
  v10 = *v4;
  v75 = *v4 == 0;
  v107 = 0;
  v116 = 0;
  v97 = 0;
  if ( v75 )
    goto LABEL_311;
  while ( 2 )
  {
    if ( isspace(v10) )
    {
      --v116;
      v11 = _whiteout(v109);
      if ( v11 != -1 )
        sub_480B30(v11, v109);
      v12 = v102;
      do
        ++v12;
      while ( isspace(*v12) );
      v102 = v12;
      goto LABEL_283;
    }
    v13 = (int)v102;
    if ( *v102 != 37 )
    {
      ++v116;
      v71 = _inc(v77, v109);
      v72 = *(_BYTE *)v13;
      v12 = (unsigned __int8 *)(v13 + 1);
      v114 = v71;
      v102 = v12;
      if ( v72 == v71 )
      {
        if ( !isleadbyte((unsigned __int8)v71) )
          goto LABEL_279;
        ++v116;
        v73 = _inc(v81, v109);
        v74 = *v12++;
        v102 = v12;
        if ( v74 == v73 )
        {
          --v116;
          goto LABEL_279;
        }
        if ( v73 != -1 )
          sub_480B30(v73, v109);
      }
      v75 = v71 == -1;
      goto LABEL_299;
    }
    v100 = 0;
    v94 = 0;
    v103 = 0;
    v98 = 0;
    v111 = 0;
    v96 = 0;
    v106 = 0;
    v105 = 0;
    v112 = 0;
    v115 = 0;
    v108 = 0;
    v113 = 0;
    v110 = 1;
    v92 = 0;
    do
    {
      v14 = *(_BYTE *)++v13;
      v15 = isdigit(v14);
      v17 = v16;
      if ( v15 )
      {
        ++v98;
        v111 = 10 * v111 + v14 - 48;
        continue;
      }
      if ( v14 > 78 )
      {
        if ( v14 == 104 )
        {
          --v110;
          --v113;
        }
        else
        {
          if ( v14 == 108 )
          {
            v18 = v13 + 1;
            if ( *(_BYTE *)(v13 + 1) == 108 )
              goto LABEL_36;
            ++v110;
          }
          else if ( v14 != 119 )
          {
            goto LABEL_50;
          }
          ++v113;
        }
      }
      else
      {
        if ( v14 == 78 )
          continue;
        if ( v14 == 42 )
        {
          ++v112;
          continue;
        }
        if ( v14 == 70 )
          continue;
        if ( v14 != 73 )
        {
          if ( v14 == 76 )
          {
            ++v110;
            continue;
          }
LABEL_50:
          ++v115;
          continue;
        }
        LOBYTE(v17) = *(_BYTE *)(v13 + 1);
        if ( (_BYTE)v17 == 54 )
        {
          v18 = v13 + 2;
          if ( *(_BYTE *)(v13 + 2) == 52 )
          {
LABEL_36:
            ++v92;
            v13 = v18;
            v101 = 0i64;
            continue;
          }
        }
        if ( (_BYTE)v17 == 51 && *(_BYTE *)(v13 + 2) == 50 )
        {
          v13 += 2;
          continue;
        }
        if ( (_BYTE)v17 != 100 && (_BYTE)v17 != 105 && (_BYTE)v17 != 111 && (_BYTE)v17 != 120 && (_BYTE)v17 != 88 )
          goto LABEL_50;
      }
    }
    while ( !v115 );
    v102 = (unsigned __int8 *)v13;
    if ( v112 )
    {
      v19 = 0;
    }
    else
    {
      v19 = *v89;
      v87 = v89;
      ++v89;
    }
    v99 = v19;
    v115 = 0;
    if ( !v113 )
    {
      v20 = *(_BYTE *)v13;
      if ( *(_BYTE *)v13 == 83 || (v113 = -1, v20 == 67) )
        v113 = 1;
    }
    v88 = *(_BYTE *)v13 | 0x20;
    v21 = v88;
    if ( v88 != 110 )
    {
      if ( v88 == 99 || v88 == 123 )
      {
        ++v116;
        v22 = _inc(v17, v109);
      }
      else
      {
        v22 = _whiteout(v109);
      }
      v114 = v22;
      if ( v22 == -1 )
        goto LABEL_301;
      v19 = v99;
      v13 = (int)v102;
      v21 = v88;
    }
    v23 = v98;
    if ( v98 && !v111 )
    {
      v75 = v114 == -1;
LABEL_299:
      if ( !v75 )
        sub_480B30(v114, v109);
      goto LABEL_301;
    }
    if ( !v112 && (v21 == 99 || v21 == 115 || v21 == 123) )
    {
      v19 = *v87;
      v24 = (int)(v87 + 1);
      v87 = (_BYTE **)v24;
      v24 += 4;
      v89 = (_BYTE **)v24;
      v25 = *(_DWORD *)(v24 - 4);
      v99 = v19;
      v96 = v25;
      if ( v25 < 1 )
      {
        if ( v113 <= 0 )
          *v19 = 0;
        else
          *(_WORD *)v19 = 0;
        *_errno() = 12;
        goto LABEL_301;
      }
    }
    if ( v21 > 111 )
    {
      if ( v21 == 112 )
      {
        v110 = 1;
        goto LABEL_217;
      }
      if ( v21 != 115 )
      {
        if ( v21 == 117 )
          goto LABEL_217;
        if ( v21 == 120 )
          goto LABEL_88;
        if ( v21 != 123 )
          goto LABEL_161;
        if ( v113 > 0 )
          v108 = 1;
        v51 = (unsigned __int8 *)(v13 + 1);
        if ( *v51 == 94 )
        {
          ++v51;
          v106 = -1;
        }
        memset(v118, 0, 0x20u);
        if ( *v51 == 93 )
        {
          v52 = 93;
          ++v51;
          v119 = 32;
        }
        else
        {
          v52 = v94;
        }
        while ( 1 )
        {
          v58 = *v51;
          if ( *v51 == 93 )
            break;
          ++v51;
          if ( v58 == 45 && v52 && (LOBYTE(v23) = *v51, *v51 != 93) )
          {
            ++v51;
            if ( v52 >= (unsigned __int8)v23 )
            {
              v53 = v52;
              v52 = v23;
            }
            else
            {
              v53 = v23;
            }
            if ( v52 <= v53 )
            {
              v54 = v52;
              v55 = (unsigned __int8)(v53 - v52 + 1);
              do
              {
                v23 = v54 & 7;
                v118[v54 >> 3] |= 1 << v23;
                ++v54;
                --v55;
              }
              while ( v55 );
            }
            v52 = 0;
          }
          else
          {
            v56 = v58;
            v52 = v58;
            v57 = v56;
            v23 = v56 & 7;
            v118[v57 >> 3] |= 1 << v23;
          }
        }
        v19 = v99;
        v21 = v88;
        v102 = v51;
LABEL_135:
        --v116;
        v47 = v19;
        if ( v114 != -1 )
        {
          sub_480B30(v114, v109);
          v23 = v48;
        }
        if ( v21 == 99 )
        {
          while ( 1 )
          {
LABEL_139:
            if ( v98 )
            {
              v49 = v111--;
              if ( !v49 )
                goto LABEL_210;
            }
            ++v116;
            v50 = _inc(v23, v109);
            v114 = v50;
            if ( v50 == -1 )
              goto LABEL_208;
            if ( v21 != 99 )
            {
              if ( v21 != 115 )
                goto LABEL_316;
              if ( v50 >= 9 && v50 <= 13 )
              {
LABEL_208:
                --v116;
                if ( v50 != -1 )
                  sub_480B30(v50, v109);
LABEL_210:
                if ( v47 != v19 )
                {
                  if ( !v112 )
                  {
                    ++v97;
                    if ( v88 != 99 )
                    {
                      if ( v108 )
                        *v99 = 0;
                      else
                        *(_BYTE *)v99 = 0;
                    }
                  }
                  goto LABEL_274;
                }
                goto LABEL_301;
              }
              if ( v50 == 32 )
              {
LABEL_316:
                if ( v21 != 123 )
                  goto LABEL_208;
                v23 = v106 ^ v118[v50 >> 3];
                if ( !((1 << (v50 & 7)) & v23) )
                  goto LABEL_208;
                v21 = v88;
              }
            }
            if ( !v112 )
              break;
            ++v47;
          }
          if ( !v96 )
          {
            v76 = _errno();
            v75 = v108 == 0;
            *v76 = 12;
            if ( v75 )
              *v47 = 0;
            else
              *(_WORD *)v47 = 0;
            goto LABEL_301;
          }
          if ( v108 )
          {
            SrcCh = v50;
            if ( isleadbyte((unsigned __int8)v50) )
            {
              ++v116;
              v91 = _inc(v79, v109);
            }
            *(_DWORD *)DstCh = 63;
            _mbtowc_l(DstCh, &SrcCh, Locale.locinfo->mb_cur_max, &Locale);
            *(_WORD *)v19 = DstCh[0];
            v19 += 2;
          }
          else
          {
            *v19++ = v50;
          }
          v99 = v19;
        }
        --v96;
        goto LABEL_139;
      }
LABEL_133:
      if ( v113 > 0 )
        v108 = 1;
      goto LABEL_135;
    }
    if ( v21 == 111 )
      goto LABEL_217;
    if ( v21 == 99 )
    {
      if ( !v98 )
      {
        ++v111;
        v98 = 1;
      }
      goto LABEL_133;
    }
    if ( v21 != 100 )
    {
      if ( v21 > 100 )
      {
        if ( v21 > 103 )
        {
          if ( v21 != 105 )
          {
            if ( v21 == 110 )
            {
              v26 = v116;
              if ( !v112 )
              {
LABEL_269:
                if ( v92 )
                {
                  *(_QWORD *)v19 = v101;
                }
                else if ( v110 )
                {
                  *(_DWORD *)v19 = v26;
                }
                else
                {
                  *(_WORD *)v19 = v26;
                }
              }
              goto LABEL_274;
            }
            goto LABEL_161;
          }
          v21 = 100;
LABEL_88:
          v27 = v114;
          if ( v114 == 45 )
          {
            v105 = 1;
            goto LABEL_185;
          }
          if ( v114 == 43 )
          {
LABEL_185:
            if ( --v111 || !v98 )
            {
              ++v116;
              v27 = _inc(v98, v109);
              v114 = v27;
            }
            else
            {
              v115 = 1;
            }
          }
          if ( v27 == 48 )
          {
            ++v116;
            v59 = _inc(v23, v109);
            v27 = v59;
            v114 = v59;
            if ( (_BYTE)v59 == 120 || (_BYTE)v59 == 88 )
            {
              ++v116;
              v27 = _inc(v60, v109);
              v114 = v27;
              if ( v98 )
              {
                v111 -= 2;
                if ( v111 < 1 )
                  ++v115;
              }
              v80 = 120;
LABEL_204:
              v21 = v80;
            }
            else
            {
              v103 = 1;
              if ( v21 != 120 )
              {
                if ( v98 )
                {
                  if ( !--v111 )
                    ++v115;
                }
                v80 = 111;
                goto LABEL_204;
              }
              --v116;
              if ( v59 != -1 )
                sub_480B30(v59, v109);
              v27 = 48;
LABEL_224:
              v114 = v27;
            }
          }
          goto LABEL_225;
        }
        v28 = 0;
        if ( v114 == 45 )
        {
          *(_BYTE *)v104 = 45;
          v28 = 1;
          goto LABEL_93;
        }
        if ( v114 == 43 )
        {
LABEL_93:
          --v111;
          ++v116;
          v114 = _inc(v23, v109);
        }
        if ( !v98 )
          v111 = -1;
        for ( i = (unsigned __int8)v114; isdigit(i); i = (unsigned __int8)v114 )
        {
          v30 = v111--;
          if ( !v30 )
            break;
          ++v103;
          *((_BYTE *)v104 + v28++) = v114;
          if ( !__check_float_string(v28, &v117, (int)&v95) )
            goto LABEL_301;
          ++v116;
          v114 = _inc(v31, v109);
        }
        v106 = **(_BYTE **)Locale.locinfo->lconv;
        if ( v106 == (_BYTE)v114 )
        {
          v32 = v111--;
          if ( v32 )
          {
            ++v116;
            v114 = _inc(v78, v109);
            *((_BYTE *)v104 + v28++) = v106;
            if ( !__check_float_string(v28, &v117, (int)&v95) )
              goto LABEL_301;
            for ( j = (unsigned __int8)v114; isdigit(j); j = (unsigned __int8)v114 )
            {
              v34 = v111--;
              if ( !v34 )
                break;
              ++v103;
              *((_BYTE *)v104 + v28++) = v114;
              if ( !__check_float_string(v28, &v117, (int)&v95) )
                goto LABEL_301;
              ++v116;
              v114 = _inc(v35, v109);
            }
          }
        }
        if ( v103 && (v114 == 101 || v114 == 69) )
        {
          v36 = v111--;
          if ( v36 )
          {
            *((_BYTE *)v104 + v28++) = 101;
            if ( !__check_float_string(v28, &v117, (int)&v95) )
              goto LABEL_301;
            ++v116;
            v114 = _inc(v37, v109);
            if ( v114 == 45 )
            {
              *((_BYTE *)v104 + v28++) = 45;
              if ( !__check_float_string(v28, &v117, (int)&v95) )
                goto LABEL_301;
LABEL_118:
              v39 = v111--;
              if ( v39 )
              {
                ++v116;
                v114 = _inc(v38, v109);
              }
              else
              {
                v111 = 0;
              }
            }
            else if ( v114 == 43 )
            {
              goto LABEL_118;
            }
            for ( k = (unsigned __int8)v114; isdigit(k); k = (unsigned __int8)v114 )
            {
              v41 = v111--;
              if ( !v41 )
                break;
              ++v103;
              *((_BYTE *)v104 + v28++) = v114;
              if ( !__check_float_string(v28, &v117, (int)&v95) )
                goto LABEL_301;
              ++v116;
              v114 = _inc(v42, v109);
            }
          }
        }
        --v116;
        if ( v114 != -1 )
          sub_480B30(v114, v109);
        if ( v103 )
        {
          if ( !v112 )
          {
            ++v97;
            v43 = v104;
            v44 = v99;
            *((_BYTE *)v104 + v28) = 0;
            v45 = v110 - 1;
            v46 = (void (__cdecl *)(int, _WORD *, void *, struct localeinfo_struct *))_decode_pointer(off_4BC61C[0]);
            v46(v45, v44, v43, &Locale);
          }
          goto LABEL_274;
        }
        goto LABEL_301;
      }
LABEL_161:
      if ( *(_BYTE *)v13 == v114 )
      {
        --v107;
        if ( !v112 )
          v89 = v87;
        goto LABEL_274;
      }
      if ( v114 != -1 )
        sub_480B30(v114, v109);
      v85 = 1;
      goto LABEL_301;
    }
LABEL_217:
    v27 = v114;
    if ( v114 == 45 )
    {
      v105 = 1;
    }
    else if ( v114 != 43 )
    {
      goto LABEL_225;
    }
    if ( --v111 || !v98 )
    {
      ++v116;
      v27 = _inc(v98, v109);
      goto LABEL_224;
    }
    v115 = 1;
LABEL_225:
    if ( !v92 )
    {
      if ( !v115 )
      {
        while ( 1 )
        {
          if ( v21 == 120 || v21 == 112 )
          {
            if ( !isxdigit((unsigned __int8)v27) )
            {
LABEL_260:
              --v116;
              if ( v27 != -1 )
                sub_480B30(v27, v109);
              break;
            }
            v100 *= 16;
            v69 = isdigit((unsigned __int8)v27);
            v68 = v70;
            v27 = (char)v27;
            if ( !v69 )
              v27 = (v27 & 0xFFFFFFDF) - 7;
            v114 = v27;
          }
          else
          {
            v66 = isdigit((unsigned __int8)v27);
            v68 = v67;
            if ( !v66 )
              goto LABEL_260;
            if ( v21 == 111 )
            {
              if ( v27 >= 56 )
                goto LABEL_260;
              v100 *= 8;
            }
            else
            {
              v100 *= 10;
            }
          }
          ++v103;
          v100 = v100 + v27 - 48;
          if ( v98 )
          {
            if ( !--v111 )
              break;
          }
          ++v116;
          v27 = _inc(v68, v109);
          v114 = v27;
        }
      }
      if ( v105 )
        v100 = -v100;
      goto LABEL_264;
    }
    if ( v115 )
      goto LABEL_243;
    while ( 2 )
    {
      if ( v21 != 120 && v21 != 112 )
      {
        v61 = isdigit((unsigned __int8)v27);
        v63 = v62;
        if ( !v61 )
          break;
        if ( v21 == 111 )
        {
          if ( v27 >= 56 )
            break;
          v63 = (unsigned __int64)v101 >> 29;
          v101 *= 8i64;
        }
        else
        {
          v101 *= 10i64;
        }
        goto LABEL_238;
      }
      if ( isxdigit((unsigned __int8)v27) )
      {
        v101 *= 16i64;
        v64 = isdigit((unsigned __int8)v27);
        v63 = v65;
        v27 = (char)v27;
        if ( !v64 )
          v27 = (v27 & 0xFFFFFFDF) - 7;
        v114 = v27;
LABEL_238:
        ++v103;
        v101 += v27 - 48;
        if ( v98 )
        {
          if ( !--v111 )
            goto LABEL_243;
        }
        ++v116;
        v27 = _inc(v63, v109);
        v114 = v27;
        continue;
      }
      break;
    }
    --v116;
    if ( v27 != -1 )
      sub_480B30(v27, v109);
LABEL_243:
    if ( v105 )
      v101 = -v101;
LABEL_264:
    if ( v21 == 70 )
      v103 = 0;
    if ( !v103 )
      goto LABEL_301;
    if ( !v112 )
    {
      ++v97;
      v19 = v99;
      v26 = v100;
      goto LABEL_269;
    }
LABEL_274:
    ++v107;
    v12 = v102++ + 1;
LABEL_279:
    if ( v114 != -1 )
    {
LABEL_283:
      v10 = *v12;
      if ( !*v12 )
        goto LABEL_301;
      continue;
    }
    break;
  }
  if ( *v12 == 37 && v102[1] == 110 )
  {
    v12 = v102;
    goto LABEL_283;
  }
LABEL_301:
  if ( v95 == 1 )
    free(v104);
  if ( v114 == -1 )
  {
    result = v97;
    if ( !v97 && v107 == (_BYTE)v97 )
      result = -1;
    if ( v84 )
      *(_DWORD *)(v83 + 112) &= 0xFFFFFFFD;
    return result;
  }
  if ( v85 == 1 )
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
  }
LABEL_311:
  if ( v84 )
    *(_DWORD *)(v83 + 112) &= 0xFFFFFFFD;
  return v97;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 46FA96: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 47CB31: using guessed type int __fastcall _inc(_DWORD, _DWORD);
// 47CB47: using guessed type _DWORD __cdecl _whiteout(_DWORD);
// 4BC61C: using guessed type int (*off_4BC61C[3])();
// 47CB6C: using guessed type char var_24[11];

//----- (0047DD29) --------------------------------------------------------
signed int __cdecl sub_47DD29(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_4BCC84;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4BCC84: using guessed type int dword_4BCC84;

//----- (0047DD5D) --------------------------------------------------------
signed int __cdecl sub_47DD5D(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_4BCC88;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4BCC88: using guessed type int dword_4BCC88;

//----- (0047DD91) --------------------------------------------------------
signed int __cdecl sub_47DD91(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_4BCC80;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4BCC80: using guessed type int dword_4BCC80;

//----- (0047DDC5) --------------------------------------------------------
int *sub_47DDC5()
{
  return &dword_4BCC84;
}
// 4BCC84: using guessed type int dword_4BCC84;

//----- (0047DDCB) --------------------------------------------------------
int *sub_47DDCB()
{
  return &dword_4BCC88;
}
// 4BCC88: using guessed type int dword_4BCC88;

//----- (0047DDD1) --------------------------------------------------------
int *sub_47DDD1()
{
  return &dword_4BCC80;
}
// 4BCC80: using guessed type int dword_4BCC80;

//----- (0047DDD7) --------------------------------------------------------
void **sub_47DDD7()
{
  return &off_4BCD10;
}
// 4BCD10: using guessed type void *off_4BCD10;

//----- (0047E31B) --------------------------------------------------------
signed int __usercall sub_47E31B@<eax>(int a1@<edi>)
{
  signed int v2; // edx@5
  signed int v3; // ecx@15
  int v4; // edx@18
  int v5; // eax@30
  int v6; // ecx@31
  signed int v7; // [sp+8h] [bp-8h]@15
  int v8; // [sp+Ch] [bp-4h]@1

  v8 = 0;
  if ( sub_47DD29(&v8) )
    _invoke_watson(0, 0, 0, 0, 0);
  if ( !v8 )
    return 0;
  v2 = *(_DWORD *)(a1 + 20);
  if ( v2 != dword_4BCD18 || v2 != dword_4BCD24 )
  {
    if ( dword_4C8BB4 )
    {
      if ( TimeZoneInformation.DaylightDate.wYear )
        cvtdate(
          1,
          0,
          v2,
          0,
          0,
          TimeZoneInformation.DaylightDate.wDay,
          TimeZoneInformation.DaylightDate.wMinute,
          TimeZoneInformation.DaylightDate.wSecond,
          TimeZoneInformation.DaylightDate.wMilliseconds);
      else
        cvtdate(
          1,
          1,
          v2,
          TimeZoneInformation.DaylightDate.wDay,
          TimeZoneInformation.DaylightDate.wDayOfWeek,
          0,
          TimeZoneInformation.DaylightDate.wMinute,
          TimeZoneInformation.DaylightDate.wSecond,
          TimeZoneInformation.DaylightDate.wMilliseconds);
      if ( TimeZoneInformation.StandardDate.wYear )
        cvtdate(
          0,
          0,
          *(_DWORD *)(a1 + 20),
          0,
          0,
          TimeZoneInformation.StandardDate.wDay,
          TimeZoneInformation.StandardDate.wMinute,
          TimeZoneInformation.StandardDate.wSecond,
          TimeZoneInformation.StandardDate.wMilliseconds);
      else
        cvtdate(
          0,
          1,
          *(_DWORD *)(a1 + 20),
          TimeZoneInformation.StandardDate.wDay,
          TimeZoneInformation.StandardDate.wDayOfWeek,
          0,
          TimeZoneInformation.StandardDate.wMinute,
          TimeZoneInformation.StandardDate.wSecond,
          TimeZoneInformation.StandardDate.wMilliseconds);
    }
    else
    {
      v3 = 2;
      v7 = 1;
      if ( v2 < 107 )
      {
        v3 = 1;
        v7 = 5;
      }
      cvtdate(1, 1, v2, v3, 0, 0, 0, 0, 0);
      cvtdate(0, 1, *(_DWORD *)(a1 + 20), v7, 0, 0, 0, 0, 0);
    }
  }
  v4 = *(_DWORD *)(a1 + 28);
  if ( dword_4BCD1C >= dword_4BCD28 )
  {
    if ( v4 < dword_4BCD28 || v4 > dword_4BCD1C )
      return 1;
    if ( v4 <= dword_4BCD28 || v4 >= dword_4BCD1C )
      goto LABEL_30;
    return 0;
  }
  if ( v4 < dword_4BCD1C || v4 > dword_4BCD28 )
    return 0;
  if ( v4 > dword_4BCD1C && v4 < dword_4BCD28 )
    return 1;
LABEL_30:
  v5 = 1000 * (*(_DWORD *)a1 + 60 * (*(_DWORD *)(a1 + 4) + 60 * *(_DWORD *)(a1 + 8)));
  if ( v4 == dword_4BCD1C )
  {
    v6 = v5 < dword_4BCD20;
    LOBYTE(v6) = v5 >= dword_4BCD20;
  }
  else
  {
    v6 = v5 < dword_4BCD2C;
  }
  return v6;
}
// 468D4B: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 47E126: using guessed type _DWORD __cdecl cvtdate(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4BCD18: using guessed type int dword_4BCD18;
// 4BCD1C: using guessed type int dword_4BCD1C;
// 4BCD20: using guessed type int dword_4BCD20;
// 4BCD24: using guessed type int dword_4BCD24;
// 4BCD28: using guessed type int dword_4BCD28;
// 4BCD2C: using guessed type int dword_4BCD2C;
// 4C8BB4: using guessed type int dword_4C8BB4;

//----- (0047E7A2) --------------------------------------------------------
int __cdecl sub_47E7A2(int a1, int a2, int a3)
{
  HMODULE v3; // eax@2
  HMODULE v4; // edi@2
  FARPROC v5; // eax@3
  FARPROC v6; // eax@4
  FARPROC v7; // eax@4
  FARPROC v8; // eax@7
  FARPROC v9; // eax@8
  int (*v10)(void); // esi@11
  int (__stdcall *v11)(int, signed int, char *, signed int, char *); // eax@11
  int (__stdcall *v12)(int, signed int, char *, signed int, char *); // edi@11
  int v13; // eax@13
  int (*v14)(void); // eax@22
  int (__stdcall *v15)(int); // eax@25
  int (__stdcall *v16)(int, int, int, int); // eax@27
  char v18; // [sp+10h] [bp-20h]@14
  char v19; // [sp+18h] [bp-18h]@15
  char v20; // [sp+1Ch] [bp-14h]@14
  unsigned int v21; // [sp+20h] [bp-10h]@1
  int v22; // [sp+24h] [bp-Ch]@1
  int v23; // [sp+28h] [bp-8h]@1
  int v24; // [sp+2Ch] [bp-4h]@1

  v23 = _encoded_null();
  v24 = 0;
  v22 = 0;
  v21 = 0;
  if ( !dword_4C8BFC )
  {
    v3 = LoadLibraryA("USER32.DLL");
    v4 = v3;
    if ( !v3 )
      return 0;
    v5 = GetProcAddress(v3, "MessageBoxA");
    if ( !v5 )
      return 0;
    dword_4C8BFC = _encode_pointer(v5);
    v6 = GetProcAddress(v4, "GetActiveWindow");
    dword_4C8C00 = _encode_pointer(v6);
    v7 = GetProcAddress(v4, "GetLastActivePopup");
    dword_4C8C04 = _encode_pointer(v7);
    if ( sub_46901A(&v22) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v22 == 2 )
    {
      v8 = GetProcAddress(v4, "GetUserObjectInformationA");
      dword_4C8C0C = _encode_pointer(v8);
      if ( dword_4C8C0C )
      {
        v9 = GetProcAddress(v4, "GetProcessWindowStation");
        dword_4C8C08 = _encode_pointer(v9);
      }
    }
  }
  if ( dword_4C8C08 == v23
    || dword_4C8C0C == v23
    || (v10 = (int (*)(void))_decode_pointer(dword_4C8C08),
        v11 = (int (__stdcall *)(int, signed int, char *, signed int, char *))_decode_pointer(dword_4C8C0C),
        v12 = v11,
        !v10)
    || !v11
    || (v13 = v10()) != 0 && v12(v13, 1, &v18, 12, &v20) && v19 & 1 )
  {
    if ( dword_4C8C00 != v23 )
    {
      v14 = (int (*)(void))_decode_pointer(dword_4C8C00);
      if ( v14 )
      {
        v24 = v14();
        if ( v24 )
        {
          if ( dword_4C8C04 != v23 )
          {
            v15 = (int (__stdcall *)(int))_decode_pointer(dword_4C8C04);
            if ( v15 )
              v24 = v15(v24);
          }
        }
      }
    }
  }
  else
  {
    if ( sub_469051(&v21) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v21 < 4 )
      a3 |= 0x40000u;
    else
      a3 |= 0x200000u;
  }
  v16 = (int (__stdcall *)(int, int, int, int))_decode_pointer(dword_4C8BFC);
  if ( v16 )
    return v16(v24, a1, a2, a3);
  return 0;
}
// 468D4B: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 46FA1F: using guessed type _DWORD __cdecl _encode_pointer(_DWORD);
// 46FA8D: using guessed type int _encoded_null(void);
// 46FA96: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 4C8BFC: using guessed type int dword_4C8BFC;
// 4C8C00: using guessed type int dword_4C8C00;
// 4C8C04: using guessed type int dword_4C8C04;
// 4C8C08: using guessed type int dword_4C8C08;
// 4C8C0C: using guessed type int dword_4C8C0C;

//----- (0047E9A5) --------------------------------------------------------
DWORD __cdecl sub_47E9A5(int a1, int a2, int a3, DWORD dwMoveMethod)
{
  void *v4; // eax@1
  DWORD v6; // eax@5
  _BYTE *v7; // eax@7
  DWORD lDistanceToMove; // [sp+8h] [bp-8h]@4
  LONG DistanceToMoveHigh; // [sp+Ch] [bp-4h]@1

  DistanceToMoveHigh = a3;
  v4 = (void *)sub_4803D3(a1);
  if ( v4 == (void *)-1 )
  {
    *_errno() = 9;
    return -1;
  }
  lDistanceToMove = SetFilePointer(v4, a2, &DistanceToMoveHigh, dwMoveMethod);
  if ( lDistanceToMove == -1 )
  {
    v6 = GetLastError();
    if ( v6 )
    {
      _dosmaperr(v6);
      return -1;
    }
  }
  v7 = (_BYTE *)(dword_4C8CC0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
  *v7 &= 0xFDu;
  return lDistanceToMove;
}
// 46C650: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (0047EB85) --------------------------------------------------------
int __cdecl sub_47EB85(signed int a1)
{
  int result; // eax@2

  if ( a1 == -2 )
  {
    *_errno() = 9;
    result = 0;
  }
  else if ( a1 >= 0 && a1 < uNumber )
  {
    result = *(_BYTE *)(dword_4C8CC0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) & 0x40;
  }
  else
  {
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 0;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (0047EE5D) --------------------------------------------------------
int __cdecl sub_47EE5D(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_47F685((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 478EB0: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047EF03) --------------------------------------------------------
int __cdecl sub_47EF03(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_47FBC7((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 478EB0: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047F685) --------------------------------------------------------
signed int __cdecl sub_47F685(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_4BCDAC - 1;
    v64 = v3;
    v65 = dword_4BCDAC / 32;
    v9 = dword_4BCDAC % 32;
    v10 = (int *)(&v60 + dword_4BCDAC / 32);
    v66 = 31 - dword_4BCDAC % 32;
    if ( (1 << (31 - dword_4BCDAC % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_4BCDA8 - dword_4BCDAC )
    {
      if ( v3 > dword_4BCDA8 )
      {
        if ( v3 < dword_4BCDA4 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_4BCDB8 + v3;
          v50 = dword_4BCDB0 / 32;
          v51 = dword_4BCDB0 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_4BCDB0 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_4BCDB0 / 32;
          v44 = dword_4BCDB0 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_4BCDB0 % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_4BCDB8 + dword_4BCDA4;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_4BCDA8 - v64) / 32;
      v62 = v59;
      v18 = (dword_4BCDA8 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_4BCDAC - 1;
      v25 = dword_4BCDAC / 32;
      v65 = dword_4BCDAC / 32;
      v26 = (int *)(&v60 + dword_4BCDAC / 32);
      v64 = 31 - dword_4BCDAC % 32;
      if ( (1 << (31 - dword_4BCDAC % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_4BCDAC % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_4BCDB0 + 1) / 32;
      v37 = (dword_4BCDB0 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_4BCDB0));
  if ( dword_4BCDB4 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_4BCDB4 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 4BCDA4: using guessed type int dword_4BCDA4;
// 4BCDA8: using guessed type int dword_4BCDA8;
// 4BCDAC: using guessed type int dword_4BCDAC;
// 4BCDB0: using guessed type int dword_4BCDB0;
// 4BCDB4: using guessed type int dword_4BCDB4;
// 4BCDB8: using guessed type int dword_4BCDB8;

//----- (0047FBC7) --------------------------------------------------------
signed int __cdecl sub_47FBC7(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_4BCDC4 - 1;
    v64 = v3;
    v65 = dword_4BCDC4 / 32;
    v9 = dword_4BCDC4 % 32;
    v10 = (int *)(&v60 + dword_4BCDC4 / 32);
    v66 = 31 - dword_4BCDC4 % 32;
    if ( (1 << (31 - dword_4BCDC4 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_4BCDC0 - dword_4BCDC4 )
    {
      if ( v3 > dword_4BCDC0 )
      {
        if ( v3 < dword_4BCDBC )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_4BCDD0 + v3;
          v50 = dword_4BCDC8 / 32;
          v51 = dword_4BCDC8 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_4BCDC8 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_4BCDC8 / 32;
          v44 = dword_4BCDC8 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_4BCDC8 % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_4BCDD0 + dword_4BCDBC;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_4BCDC0 - v64) / 32;
      v62 = v59;
      v18 = (dword_4BCDC0 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_4BCDC4 - 1;
      v25 = dword_4BCDC4 / 32;
      v65 = dword_4BCDC4 / 32;
      v26 = (int *)(&v60 + dword_4BCDC4 / 32);
      v64 = 31 - dword_4BCDC4 % 32;
      if ( (1 << (31 - dword_4BCDC4 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_4BCDC4 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_4BCDC8 + 1) / 32;
      v37 = (dword_4BCDC8 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_4BCDC8));
  if ( dword_4BCDCC == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_4BCDCC == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 4BCDBC: using guessed type int dword_4BCDBC;
// 4BCDC0: using guessed type int dword_4BCDC0;
// 4BCDC4: using guessed type int dword_4BCDC4;
// 4BCDC8: using guessed type int dword_4BCDC8;
// 4BCDCC: using guessed type int dword_4BCDCC;
// 4BCDD0: using guessed type int dword_4BCDD0;

//----- (004802D5) --------------------------------------------------------
int __cdecl sub_4802D5(int a1, HANDLE hHandle)
{
  int v2; // esi@3
  int result; // eax@11

  if ( a1 < 0 || a1 >= uNumber || (v2 = (a1 & 0x1F) << 6, *(_DWORD *)(v2 + dword_4C8CC0[a1 >> 5]) != -1) )
  {
    *_errno() = 9;
    *__doserrno() = 0;
    result = -1;
  }
  else
  {
    if ( dword_4BBB70 == 1 )
    {
      if ( a1 )
      {
        if ( a1 == 1 )
        {
          SetStdHandle(0xFFFFFFF5, hHandle);
        }
        else if ( a1 == 2 )
        {
          SetStdHandle(0xFFFFFFF4, hHandle);
        }
      }
      else
      {
        SetStdHandle(0xFFFFFFF6, hHandle);
      }
    }
    *(_DWORD *)(v2 + dword_4C8CC0[a1 >> 5]) = hHandle;
    result = 0;
  }
  return result;
}
// 4BBB70: using guessed type int dword_4BBB70;
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (00480352) --------------------------------------------------------
signed int __cdecl sub_480352(signed int a1)
{
  int v1; // esi@3
  int v2; // eax@3
  DWORD v4; // [sp-8h] [bp-14h]@9

  if ( a1 >= 0 && a1 < uNumber )
  {
    v1 = (a1 & 0x1F) << 6;
    v2 = v1 + dword_4C8CC0[a1 >> 5];
    if ( *(_BYTE *)(v2 + 4) & 1 )
    {
      if ( *(_DWORD *)v2 != -1 )
      {
        if ( dword_4BBB70 == 1 )
        {
          if ( !a1 )
          {
            v4 = -10;
            goto LABEL_12;
          }
          if ( a1 == 1 )
          {
            v4 = -11;
            goto LABEL_12;
          }
          if ( a1 == 2 )
          {
            v4 = -12;
LABEL_12:
            SetStdHandle(v4, 0);
            goto LABEL_13;
          }
        }
LABEL_13:
        *(_DWORD *)(v1 + dword_4C8CC0[a1 >> 5]) = -1;
        return 0;
      }
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 4BBB70: using guessed type int dword_4BBB70;
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (004803D3) --------------------------------------------------------
signed int __cdecl sub_4803D3(signed int a1)
{
  signed int result; // eax@2
  int v2; // eax@5

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    result = -1;
  }
  else if ( a1 >= 0 && a1 < uNumber && (v2 = dword_4C8CC0[a1 >> 5] + ((a1 & 0x1F) << 6), *(_BYTE *)(v2 + 4) & 1) )
  {
    result = *(_DWORD *)v2;
  }
  else
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (004804E4) --------------------------------------------------------
void __cdecl sub_4804E4(signed int a1)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(dword_4C8CC0[a1 >> 5] + ((a1 & 0x1F) << 6) + 12));
}
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (00480A40) --------------------------------------------------------
signed int __cdecl sub_480A40(signed int a1, int a2)
{
  _DWORD *v2; // edx@1
  int v3; // esi@1
  int v4; // ecx@1
  int v5; // eax@1
  _BYTE *v6; // ecx@6
  char v7; // dl@6
  signed int result; // eax@12
  int v9; // [sp+14h] [bp+8h]@1

  v2 = (_DWORD *)(4 * (a1 >> 5) + 5016768);
  v3 = (a1 & 0x1F) << 6;
  v4 = dword_4C8CC0[a1 >> 5] + v3;
  v9 = *(_BYTE *)(v4 + 4) & 0x80;
  v5 = (char)(2 * *(_BYTE *)(v4 + 36)) >> 1;
  if ( a2 == 0x4000 )
  {
    *(_BYTE *)(v4 + 4) |= 0x80u;
    *(_BYTE *)(*v2 + v3 + 36) &= 0x80u;
  }
  else if ( a2 == 0x8000 )
  {
    *(_BYTE *)(v4 + 4) &= 0x7Fu;
  }
  else
  {
    if ( a2 == 0x10000 || a2 == 0x20000 )
    {
      *(_BYTE *)(v4 + 4) |= 0x80u;
      v6 = (_BYTE *)(*v2 + v3 + 36);
      v7 = *v6 & 0x82 | 2;
    }
    else
    {
      if ( a2 != 0x40000 )
        goto LABEL_11;
      *(_BYTE *)(v4 + 4) |= 0x80u;
      v6 = (_BYTE *)(*v2 + v3 + 36);
      v7 = *v6 & 0x81 | 1;
    }
    *v6 = v7;
  }
LABEL_11:
  if ( v9 )
    result = v5 != 0 ? 0x10000 : 0x4000;
  else
    result = 0x8000;
  return result;
}
// 4C8CC0: using guessed type int dword_4C8CC0[];

//----- (00480AFC) --------------------------------------------------------
signed int __cdecl sub_480AFC(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 )
  {
    *a1 = dword_4C8C18;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 4C8C18: using guessed type int dword_4C8C18;

//----- (00480B30) --------------------------------------------------------
int __cdecl sub_480B30(int a1, FILE *a2)
{
  _DWORD *v2; // edi@4
  _BYTE *v3; // eax@4
  _DWORD *v4; // edi@9
  _BYTE *v5; // eax@9
  int v7; // eax@16
  char *v8; // eax@24
  int v9; // eax@28

  if ( !(a2->_flag & 0x40) )
  {
    if ( _fileno(a2) == -1 || _fileno(a2) == -2 )
    {
      v3 = &unk_4BBFA0;
    }
    else
    {
      v2 = (_DWORD *)(4 * (_fileno(a2) >> 5) + 5016768);
      v3 = (_BYTE *)(*v2 + ((_fileno(a2) & 0x1F) << 6));
    }
    if ( v3[36] & 0x7F
      || (_fileno(a2) == -1 || _fileno(a2) == -2 ? (v5 = &unk_4BBFA0) : (v4 = (_DWORD *)(4 * (_fileno(a2) >> 5) + 5016768),
                                                                         v5 = (_BYTE *)(*v4 + ((_fileno(a2) & 0x1F) << 6))),
          v5[36] & 0x80) )
    {
      *_errno() = 22;
      _invalid_parameter(0, 0, 0, 0, 0);
      return -1;
    }
  }
  if ( a1 == -1 )
    return -1;
  v7 = a2->_flag;
  if ( !(v7 & 1) && ((char)v7 >= 0 || v7 & 2) )
    return -1;
  if ( !a2->_base )
    _getbuf(a2);
  if ( a2->_ptr == a2->_base )
  {
    if ( a2->_cnt )
      return -1;
    ++a2->_ptr;
  }
  v8 = --a2->_ptr;
  if ( a2->_flag & 0x40 )
  {
    if ( *v8 != (_BYTE)a1 )
    {
      a2->_ptr = v8 + 1;
      return -1;
    }
  }
  else
  {
    *v8 = a1;
  }
  v9 = a2->_flag;
  ++a2->_cnt;
  a2->_flag = v9 & 0xFFFFFFEF | 1;
  return (unsigned __int8)a1;
}
// 468E47: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 47EB41: using guessed type _DWORD __cdecl _getbuf(_DWORD);

//----- (00481FCB) --------------------------------------------------------
void *__thiscall sub_481FCB(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *(_DWORD *)this = &off_4A35AC;
  sub_4053D0((int)this);
  if ( a2 & 1 )
    j__free(v2);
  return v2;
}
// 4A35AC: using guessed type int (__thiscall *off_4A35AC)(void *, char);

//----- (00481FED) --------------------------------------------------------
void __noreturn sub_481FED()
{
  int (__stdcall **v0)(int); // [sp+Ch] [bp-50h]@1
  char v1; // [sp+34h] [bp-28h]@1
  int v2; // [sp+58h] [bp-4h]@1

  sub_405A70(&v1, "string too long");
  v2 = 0;
  sub_405310(&v0, (_AfxBindStatusCallback *)&v1);
  v0 = &off_486A04;
  _CxxThrowException(&v0, &unk_4A5494);
}
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 486A04: using guessed type int (__stdcall *off_486A04)(int);

//----- (0048202C) --------------------------------------------------------
void __noreturn sub_48202C()
{
  int (__thiscall **v0)(void *, char); // [sp+Ch] [bp-50h]@1
  char v1; // [sp+34h] [bp-28h]@1
  int v2; // [sp+58h] [bp-4h]@1

  sub_405A70(&v1, "invalid string position");
  v2 = 0;
  sub_405310(&v0, (_AfxBindStatusCallback *)&v1);
  v0 = &off_4A35AC;
  _CxxThrowException(&v0, &unk_4A8CFC);
}
// 468CF7: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 4A35AC: using guessed type int (__thiscall *off_4A35AC)(void *, char);

//----- (00482083) --------------------------------------------------------
UINT sub_482083()
{
  UINT v0; // esi@1
  LCID v1; // eax@1
  CHAR v2; // cl@2
  CHAR *v3; // eax@2
  CHAR LCData; // [sp+4h] [bp-Ch]@1

  v0 = 0;
  v1 = GetThreadLocale();
  if ( !GetLocaleInfoA(v1, 0x1004u, &LCData, 7) )
    goto LABEL_9;
  v2 = LCData;
  v3 = &LCData;
  if ( !LCData )
    goto LABEL_9;
  do
  {
    ++v3;
    v0 = 10 * v0 + v2 - 48;
    v2 = *v3;
  }
  while ( *v3 );
  if ( !v0 )
LABEL_9:
    v0 = GetACP();
  return v0;
}

//----- (004820E8) --------------------------------------------------------
signed int sub_4820E8()
{
  return 3;
}

//----- (004820EC) --------------------------------------------------------
int sub_4820EC()
{
  void *v0; // eax@2
  struct _OSVERSIONINFOA VersionInformation; // [sp+0h] [bp-98h]@1

  VersionInformation.dwOSVersionInfoSize = 148;
  GetVersionExA(&VersionInformation);
  if ( VersionInformation.dwPlatformId != 2 || (v0 = sub_4820E8, VersionInformation.dwMajorVersion < 5) )
    v0 = sub_482083;
  InterlockedExchange(&Target, (LONG)v0);
  return ((int (*)(void))Target)();
}
// 4BD0CC: invalid function type has been ignored

//----- (004821CC) --------------------------------------------------------
__int32 __stdcall sub_4821CC(int a1)
{
  __int32 result; // eax@2

  if ( a1 && *(_DWORD *)a1 == 44 )
  {
    *(_DWORD *)(a1 + 28) = 0;
    result = ATL::CComCriticalSection::Init((ATL::CComCriticalSection *)(a1 + 4));
  }
  else
  {
    result = -2147024809;
  }
  return result;
}

//----- (00482230) --------------------------------------------------------
int __stdcall sub_482230(int a1, HINSTANCE hInstance)
{
  int i; // edi@5
  _WORD *v4; // eax@6

  if ( !a1 )
    return -2147024809;
  if ( *(_DWORD *)a1 )
  {
    if ( *(_DWORD *)a1 != 44 )
      return -2147024809;
    for ( i = 0; i < *(_DWORD *)(a1 + 36); ++i )
    {
      v4 = (_WORD *)ATL::CSimpleArray<unsigned short,ATL::CSimpleArrayEqualHelper<unsigned short>>::operator[](i);
      UnregisterClassA((LPCSTR)*v4, hInstance);
    }
    unknown_libname_177(a1 + 32);
    DeleteCriticalSection((LPCRITICAL_SECTION)(a1 + 4));
    *(_DWORD *)a1 = 0;
  }
  return 0;
}
// 482150: using guessed type int __thiscall unknown_libname_177(_DWORD);
// 4821EF: using guessed type _DWORD __stdcall ATL::CSimpleArray<unsigned short,ATL::CSimpleArrayEqualHelper<unsigned short>>::operator[](_DWORD);

//----- (00482290) --------------------------------------------------------
int __thiscall sub_482290(int this)
{
  int v1; // esi@1

  v1 = this;
  ATL::CComCriticalSection::CComCriticalSection((ATL::CComCriticalSection *)(this + 24));
  *(_DWORD *)(v1 + 48) = 0;
  *(_DWORD *)(v1 + 52) = 0;
  *(_DWORD *)(v1 + 56) = 0;
  return v1;
}

//----- (004822C0) --------------------------------------------------------
ATL::_ATL_WIN_MODULE70 *__thiscall sub_4822C0(ATL::_ATL_WIN_MODULE70 *this)
{
  ATL::_ATL_WIN_MODULE70 *v1; // esi@1

  v1 = this;
  ATL::_ATL_WIN_MODULE70::_ATL_WIN_MODULE70(this);
  *(_DWORD *)v1 = 44;
  if ( sub_4821CC((int)v1) < 0 )
  {
    byte_4BD0E0 = 1;
    *(_DWORD *)v1 = 0;
  }
  return v1;
}
// 4BD0E0: using guessed type char byte_4BD0E0;

//----- (004822E6) --------------------------------------------------------
void *__thiscall sub_4822E6(void *this)
{
  void *v1; // esi@1
  struct _OSVERSIONINFOA VersionInformation; // [sp+4h] [bp-20h]@1

  v1 = this;
  sub_482290((int)this);
  *((_DWORD *)v1 + 2) = &_ImageBase;
  *((_DWORD *)v1 + 1) = &_ImageBase;
  *(_DWORD *)v1 = 60;
  *((_BYTE *)v1 + 12) = 0;
  memset(&VersionInformation, 0, 0x94u);
  VersionInformation.dwOSVersionInfoSize = 148;
  GetVersionExA(&VersionInformation);
  if ( VersionInformation.dwPlatformId == 2 )
  {
    if ( VersionInformation.dwMajorVersion < 5 )
      goto LABEL_9;
    goto LABEL_8;
  }
  if ( VersionInformation.dwPlatformId == 1
    && (VersionInformation.dwMajorVersion > 4
     || VersionInformation.dwMajorVersion == 4 && VersionInformation.dwMinorVersion) )
  {
LABEL_8:
    *((_BYTE *)v1 + 12) = 1;
  }
LABEL_9:
  *((_DWORD *)v1 + 4) = 2048;
  *((_DWORD *)v1 + 5) = &unk_4A35EC;
  if ( ATL::CComCriticalSection::Init((ATL::CComCriticalSection *)((char *)v1 + 24)) < 0 )
    byte_4BD0E0 = 1;
  return v1;
}
// 4BD0E0: using guessed type char byte_4BD0E0;

//----- (004823DE) --------------------------------------------------------
FARPROC __stdcall sub_4823DE(ULONG_PTR a1, ULONG_PTR Arguments)
{
  ULONG_PTR v2; // esi@1
  int v3; // ebx@1
  char *v4; // edi@1
  const CHAR *v5; // ecx@1
  char *v6; // ebx@1
  char *v7; // edx@1
  bool v8; // zf@1
  HMODULE v10; // edi@3
  unsigned int v11; // edx@3
  const CHAR *v12; // eax@3
  FARPROC v13; // ebx@5
  _DWORD *v14; // eax@16
  int v15; // eax@24
  int v16; // [sp+Ch] [bp-44h]@1
  ULONG_PTR v17; // [sp+10h] [bp-40h]@1
  ULONG_PTR v18; // [sp+14h] [bp-3Ch]@1
  LPCSTR lpLibFileName; // [sp+18h] [bp-38h]@1
  unsigned int v20; // [sp+1Ch] [bp-34h]@1
  LPCSTR lpProcName; // [sp+20h] [bp-30h]@1
  HMODULE v22; // [sp+24h] [bp-2Ch]@1
  int (__stdcall *v23)(); // [sp+28h] [bp-28h]@1
  DWORD v24; // [sp+2Ch] [bp-24h]@1
  volatile LONG *Target; // [sp+38h] [bp-18h]@1
  char *v26; // [sp+44h] [bp-Ch]@1
  int v27; // [sp+4Ch] [bp-4h]@1

  v2 = a1;
  v3 = *(_DWORD *)(a1 + 12);
  v4 = (char *)&_ImageBase + *(_DWORD *)(a1 + 20);
  v5 = (char *)&_ImageBase + *(_DWORD *)(a1 + 4);
  Target = (volatile LONG *)((char *)&_ImageBase.unused + *(_DWORD *)(a1 + 8));
  v6 = (char *)&_ImageBase + v3;
  v7 = (char *)&_ImageBase + *(_DWORD *)(a1 + 16);
  v27 = *(_DWORD *)(a1 + 28);
  lpLibFileName = v5;
  v26 = v4;
  v18 = Arguments;
  v8 = (*(_DWORD *)a1 & 1) == 0;
  v16 = 36;
  v17 = a1;
  v20 = 0;
  lpProcName = 0;
  v22 = 0;
  v23 = 0;
  v24 = 0;
  if ( v8 )
  {
    Arguments = (ULONG_PTR)&v16;
    RaiseException(0xC06D0057, 0, 1u, &Arguments);
    return 0;
  }
  v10 = (HMODULE)*Target;
  v11 = *(_DWORD *)&v7[4 * ((signed int)(Arguments - (_DWORD)v6) >> 2)];
  a1 = 4 * ((signed int)(Arguments - (_DWORD)v6) >> 2);
  v20 = ~(v11 >> 31) & 1;
  v12 = (char *)&_ImageBase.unused + v11 + 2;
  if ( !(~(v11 >> 31) & 1) )
    v12 = (const CHAR *)(unsigned __int16)v11;
  lpProcName = v12;
  v13 = 0;
  if ( !dword_4C8C94 || (v13 = (FARPROC)dword_4C8C94(0, &v16)) == 0 )
  {
    if ( !v10 )
    {
      if ( !dword_4C8C94 || (v10 = (HMODULE)dword_4C8C94(1, &v16)) == 0 )
      {
        v10 = LoadLibraryA(lpLibFileName);
        if ( !v10 )
        {
          v24 = GetLastError();
          if ( !dword_4C8C90 || (v10 = (HMODULE)dword_4C8C90(3, &v16)) == 0 )
          {
            Arguments = (ULONG_PTR)&v16;
            RaiseException(0xC06D007E, 0, 1u, &Arguments);
            return v23;
          }
        }
      }
      if ( (HMODULE)InterlockedExchange(Target, (LONG)v10) == v10 )
      {
        FreeLibrary(v10);
      }
      else if ( *(_DWORD *)(v2 + 24) )
      {
        v14 = LocalAlloc(0x40u, 8u);
        if ( v14 )
        {
          v14[1] = v2;
          *v14 = dword_4C8C8C;
          dword_4C8C8C = (int)v14;
        }
      }
    }
    v22 = v10;
    if ( dword_4C8C94 )
      v13 = (FARPROC)dword_4C8C94(2, &v16);
    if ( !v13 )
    {
      if ( !*(_DWORD *)(v2 + 20)
        || !*(_DWORD *)(v2 + 28)
        || (v15 = (int)v10 + *((_DWORD *)v10 + 15), *(_DWORD *)v15 != 17744)
        || *(_DWORD *)(v15 + 8) != v27
        || v10 != *(HMODULE *)(v15 + 52)
        || (v13 = *(FARPROC *)&v26[a1]) == 0 )
      {
        v13 = GetProcAddress(v10, lpProcName);
        if ( !v13 )
        {
          v24 = GetLastError();
          if ( dword_4C8C90 )
            v13 = (FARPROC)dword_4C8C90(4, &v16);
          if ( !v13 )
          {
            a1 = (ULONG_PTR)&v16;
            RaiseException(0xC06D007F, 0, 1u, &a1);
            v13 = v23;
          }
        }
      }
    }
    *(_DWORD *)Arguments = v13;
  }
  if ( dword_4C8C94 )
  {
    v24 = 0;
    v22 = v10;
    v23 = v13;
    dword_4C8C94(5, &v16);
  }
  return v13;
}
// 4C8C8C: using guessed type int dword_4C8C8C;
// 4C8C90: using guessed type int (__stdcall *dword_4C8C90)(_DWORD, _DWORD);
// 4C8C94: using guessed type int (__stdcall *dword_4C8C94)(_DWORD, _DWORD);

//----- (00484F80) --------------------------------------------------------
int sub_484F80()
{
  return Concurrency::details::VirtualProcessor::~VirtualProcessor((Concurrency::details::VirtualProcessor *)&unk_4C3950);
}

//----- (00484F8F) --------------------------------------------------------
void sub_484F8F()
{
  off_4BAE40 = &off_498594;
}
// 498594: using guessed type int (*off_498594)();
// 4BAE40: using guessed type int (**off_4BAE40)();

//----- (00484F9A) --------------------------------------------------------
void sub_484F9A()
{
  off_4BAED8 = &off_4985B0;
}
// 4985B0: using guessed type int (*off_4985B0)();
// 4BAED8: using guessed type int (**off_4BAED8)();

//----- (00484FA5) --------------------------------------------------------
void sub_484FA5()
{
  off_4BAF70 = &off_4985CC;
}
// 4985CC: using guessed type int (*off_4985CC)();
// 4BAF70: using guessed type int (**off_4BAF70)();

//----- (00484FB0) --------------------------------------------------------
int sub_484FB0()
{
  return CThreadLocalObject::~CThreadLocalObject((CThreadLocalObject *)&unk_4C623C);
}

//----- (00484FBA) --------------------------------------------------------
int sub_484FBA()
{
  return CProcessLocalObject::~CProcessLocalObject((CProcessLocalObject *)&unk_4C6238);
}

//----- (00484FC4) --------------------------------------------------------
int sub_484FC4()
{
  return CProcessLocalObject::~CProcessLocalObject((CProcessLocalObject *)&unk_4C7BE0);
}

//----- (00484FCE) --------------------------------------------------------
void __cdecl sub_484FCE()
{
  CWnd::~CWnd((CWnd *)&dword_4C7A80);
}
// 4C7A80: using guessed type int dword_4C7A80;

//----- (00484FD8) --------------------------------------------------------
void __cdecl sub_484FD8()
{
  CWnd::~CWnd((CWnd *)&hWndInsertAfter);
}

//----- (00484FE2) --------------------------------------------------------
void __cdecl sub_484FE2()
{
  CWnd::~CWnd((CWnd *)&dword_4C7B30);
}
// 4C7B30: using guessed type int dword_4C7B30;

//----- (00484FEC) --------------------------------------------------------
void __cdecl sub_484FEC()
{
  CWnd::~CWnd((CWnd *)&dword_4C7B88);
}
// 4C7B88: using guessed type int dword_4C7B88;

//----- (00484FF6) --------------------------------------------------------
int sub_484FF6()
{
  return CProcessLocalObject::~CProcessLocalObject((CProcessLocalObject *)&unk_4C7BE4);
}

//----- (00485000) --------------------------------------------------------
void __cdecl sub_485000()
{
  dword_4C7BE8 = (int)&off_49A450;
}
// 49A450: using guessed type int (*off_49A450)();
// 4C7BE8: using guessed type int dword_4C7BE8;

//----- (0048500B) --------------------------------------------------------
void __cdecl sub_48500B()
{
  dword_4C7C80 = (int)&off_49A46C;
}
// 49A46C: using guessed type int (*off_49A46C)();
// 4C7C80: using guessed type int dword_4C7C80;

//----- (00485016) --------------------------------------------------------
int sub_485016()
{
  return AUX_DATA::~AUX_DATA((AUX_DATA *)&dword_4C7D20);
}
// 4C7D20: using guessed type int dword_4C7D20;

//----- (00485020) --------------------------------------------------------
int sub_485020()
{
  DeleteCriticalSection((LPCRITICAL_SECTION)&unk_4C8C20 + 1);
  return unknown_libname_177((char *)&unk_4C8C20 + 48);
}
// 482150: using guessed type int __thiscall unknown_libname_177(_DWORD);

//----- (0048502A) --------------------------------------------------------
int sub_48502A()
{
  return ATL::CAtlWinModule::~CAtlWinModule((ATL::CAtlWinModule *)&unk_4C8C5C);
}

#error "There were 50 decompilation failure(s) on 1461 function(s)"
