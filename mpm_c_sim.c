/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <math.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

void __cdecl sub_10001000(int a1, char *a2);
char __cdecl sub_10001060(int a1, int a2);
char __cdecl sub_100010B0(int a1, __int16 a2, __int16 *a3);
int sub_10001130(void); // weak
char __cdecl sub_10001140(char a1);
char sub_10001160();
char __cdecl sub_10001170(unsigned int a1);
// signed int __usercall sub_10001210@<eax>(int a1@<esi>);
// int __usercall sub_100012F0@<eax>(__int16 a1@<ax>, int a2);
char __cdecl sub_10001330(int a1, int a2, char a3);
void __cdecl sub_10002700(signed int a1, int a2, char a3);
char __cdecl sub_10002A40(signed int a1);
char __cdecl sub_10002CD0(int a1);
char __cdecl sub_10002F50(int a1, int a2, int a3);
char __cdecl sub_10002F70(int a1, int a2, int a3);
char __cdecl sub_10002FA0(int a1);
int __thiscall sub_10002FC0(void *this);
int __cdecl sub_100030B0(int a1);
int __cdecl sub_10003120(int a1);
char __cdecl sub_100031C0(int a1);
int __cdecl sub_10003340(int a1, char a2);
// char __usercall sub_10003690@<al>(int a1@<esi>);
// unsigned __int8 __usercall sub_100036D0@<al>(char a1@<dl>, char *a2@<esi>, unsigned __int8 *a3);
// char __usercall sub_10003750@<al>(char a1@<bl>, unsigned __int8 *a2@<esi>);
// int __usercall sub_100037B0@<eax>(int a1@<esi>);
char sub_10003850();
// BOOL __usercall sub_10003860@<eax>(char a1@<al>, int a2@<esi>);
char __cdecl sub_10003970(_DWORD *a1, char a2);
void __cdecl sub_100039E0(_DWORD *a1, char a2);
int __cdecl sub_10003A40(char a1);
char __thiscall sub_10003AC0(void *this);
char __cdecl sub_10003B60(char a1);
char __cdecl sub_10003C60(int a1);
// char __usercall sub_10003CC0@<al>(int a1@<eax>);
// char __usercall sub_10003E60@<al>(int a1@<esi>);
char __cdecl sub_100044A0(char a1, char a2, _BYTE *a3);
char __cdecl sub_10004520(int a1, __int16 a2, char a3);
char __cdecl sub_100046A0(__int16 a1, char a2, int a3);
char __cdecl sub_10004BD0(char a1);
void sub_10004CA0();
// bool __usercall sub_100051E0@<al>(unsigned int a1@<edi>);
char __cdecl sub_100052E0(char a1);
char __cdecl sub_10005350(_BYTE *a1, unsigned __int8 a2, char a3, unsigned int a4);
// char __usercall sub_10005410@<al>(unsigned int a1@<eax>, int a2@<esi>);
char __cdecl sub_100054C0(int a1, int a2);
signed int __cdecl sub_10005550(int a1, int a2, char a3, char a4, _DWORD *a5);
unsigned int __cdecl sub_10005690(int a1, int a2, int a3, int a4, char a5);
char __cdecl sub_10005700(int a1, int a2, __int16 a3, int a4, char a5);
int __cdecl sub_10005780(int a1, __int16 a2, __int16 a3, int a4);
char __cdecl sub_100058C0(int a1, int a2);
int __cdecl sub_10005A40(int a1, int a2);
int __cdecl sub_10005C00(int a1, unsigned __int16 a2, int a3, int a4, char a5);
int __cdecl sub_10005C70(signed int a1, int a2, __int16 a3, __int16 a4, _BYTE *a5, _BYTE *a6);
void __cdecl sub_100060B0(int a1, int a2, __int16 a3, _BYTE *a4);
int __cdecl sub_100061F0(int a1, int a2, _BYTE *a3, __int16 a4, char a5);
unsigned int __cdecl sub_10006430(int a1, _WORD *a2, int a3);
// char __usercall sub_100064A0@<al>(__int16 a1@<ax>, int a2@<edi>, int a3, int a4);
// _BYTE *__usercall sub_10006AC0@<eax>(int a1@<edi>, int a2, int a3, int *a4, int a5);
int __cdecl sub_10006ED0(int a1, int a2, int a3);
int __cdecl sub_10006F50(int a1);
int __cdecl sub_10006F70(int a1, char a2);
// signed int __usercall sub_10006FB0@<eax>(signed int result@<eax>);
int sub_10006FD0();
// int __usercall sub_10007070@<eax>(int a1@<edi>, int a2@<esi>);
__int16 __cdecl sub_100070E0(int a1, int a2, int a3);
// int __usercall sub_10007420@<eax>(int result@<eax>, signed __int16 a2@<bx>, int a3@<edi>, int a4@<esi>, __int16 a5, __int16 a6, __int16 a7, char a8, unsigned __int8 a9, _BYTE *a10);
// __int16 __usercall sub_100074C0@<ax>(signed int *a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4);
// int __usercall sub_10007740@<eax>(signed int *a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4);
// int __usercall sub_10007800@<eax>(int a1@<eax>, signed int *a2@<ecx>, int a3@<ebx>, int a4);
// _WORD *__usercall sub_10007A10@<eax>(signed __int16 *a1@<eax>, signed __int16 a2@<si>, __int16 a3, _WORD *a4, _WORD *a5, __int16 a6);
// int __usercall sub_10007A80@<eax>(int result@<eax>);
// signed int __usercall sub_10007AB0@<eax>(int a1@<eax>, _DWORD *a2@<esi>, signed int a3);
__int16 __cdecl sub_10007AF0(int a1, unsigned __int8 a2, char a3);
char __cdecl sub_10007C80(int a1, int a2, __int16 a3, char a4, char a5, int a6);
char __cdecl sub_10007F40(int a1, int a2);
int __cdecl sub_10009A70(int a1);
_WORD *__cdecl sub_10009AD0(int a1, __int16 a2, unsigned int a3, signed __int16 *a4, _BYTE *a5, int a6);
// char __usercall sub_10009B30@<al>(int a1@<ecx>, int a2@<esi>, int a3);
char __cdecl sub_10009C40(int a1, int a2, int a3, int a4, char a5);
char __cdecl sub_10009CB0(int a1, int a2);
char __cdecl sub_10009F20(int a1, int a2, int a3, int a4, char a5);
char __cdecl sub_10009FF0(signed int a1, int a2, signed int *a3, int a4, char a5);
__int16 __cdecl sub_1000A0D0(int a1, int a2, unsigned __int8 a3, signed int a4);
void __cdecl sub_1000A590(signed int a1, int a2, int a3, int a4, float a5);
char __cdecl sub_1000A680(int a1, int a2);
// signed int __usercall sub_1000AB30@<eax>(unsigned int a1@<eax>, int a2@<esi>);
__int16 __cdecl sub_1000ABD0(char a1, int a2, signed int a3, __int16 a4, unsigned __int8 a5, int a6);
char sub_1000AD20();
signed int __cdecl sub_1000AD30(int a1);
int __cdecl sub_1000AD60(int a1);
// int __usercall sub_1000AD80@<eax>(int result@<eax>, int a2@<edi>, int a3@<esi>);
// int __usercall sub_1000AE00@<eax>(int result@<eax>, int a2@<edi>);
void __cdecl sub_1000AE70(int a1, unsigned int a2);
// bool __usercall sub_1000AF30@<al>(int a1@<edx>, int a2);
// bool __usercall sub_1000AF70@<al>(int a1@<eax>, int a2@<ecx>);
// int __usercall sub_1000AFA0@<eax>(__int16 a1@<ax>, __int16 a2@<cx>);
// int __usercall sub_1000AFC0@<eax>(int a1@<edi>, int a2@<esi>);
// int __usercall sub_1000B050@<eax>(int result@<eax>, int a2@<ecx>, int a3);
// void __usercall sub_1000B0A0(int a1@<edx>, unsigned __int8 a2@<cl>, int a3, _BYTE *a4, int a5);
// _BYTE *__usercall sub_1000B4C0@<eax>(int a1@<esi>, int a2, _BYTE *a3, int a4, unsigned __int8 a5, char a6);
// char __usercall sub_1000B640@<al>(int a1@<eax>, int a2@<esi>, int a3);
char __cdecl sub_1000B710(char a1);
// int __usercall sub_1000B740@<eax>(unsigned __int8 a1@<al>, int a2, int a3, unsigned __int16 a4, _BYTE *a5, int a6, _BYTE *a7, int *a8);
char sub_1000B7A0();
char __fastcall sub_1000B7F0(int a1, int a2);
// char __usercall sub_1000B9B0@<al>(char a1@<al>);
// void __usercall sub_1000B9C0(int a1@<ecx>, int a2@<ebx>, float *a3);
char __cdecl sub_1000BA80(int a1, int a2, int a3, char a4, _BYTE *a5, char a6, char a7);
// char __usercall sub_1000BE50@<al>(unsigned __int8 a1@<al>, char *a2@<edi>, int a3, int a4, unsigned __int16 a5, _BYTE *a6, unsigned __int8 a7, int a8, unsigned __int16 a9, _BYTE *a10, char *a11);
void __cdecl sub_1000BFC0(int a1, int a2, int a3, int *a4, float *a5, unsigned __int8 a6, int a7);
// unsigned __int8 __usercall sub_1000C6D0@<al>(int a1@<eax>, int a2@<ecx>, int a3, int a4, int a5, int a6, int a7, void *a8, int a9);
// void __usercall sub_1000C940(int a1@<esi>, int a2, int a3, unsigned __int8 a4);
// char __usercall sub_1000CCA0@<al>(int a1@<eax>, int a2@<edi>);
unsigned __int8 __cdecl sub_1000CD70(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
unsigned __int8 __cdecl sub_1000CDB0(int a1, int a2, int a3, int a4, int a5, int a6, int a7, void *a8, int a9);
// char __usercall sub_1000CDF0@<al>(unsigned __int8 a1@<al>, int a2, int a3, unsigned __int16 a4, _BYTE *a5, _BYTE *a6);
// void __usercall sub_1000CEC0(int a1@<ecx>, int a2@<edx>, int a3@<ebx>, int a4);
char __cdecl sub_1000CFF0(int a1, int a2, char a3);
void __cdecl sub_1000D7F0(int a1, int a2, int a3, char a4, unsigned __int8 a5, int a6);
// char __usercall sub_1000DA60@<al>(int a1@<ebx>, int a2@<edi>, int a3);
_BYTE *__cdecl sub_1000DE00(_BYTE *a1);
int __cdecl sub_1000DE10(int a1);
int sub_1000E1D0();
int sub_1000E1F0();
int sub_1000E210(void); // weak
int __cdecl sub_1000E2C0(int a1);
// char __usercall sub_1000E2F0@<al>(int a1@<eax>);
char __cdecl sub_1000E470(int a1);
char __cdecl sub_1000E500(int a1, int a2, int a3, unsigned __int16 a4, _BYTE *a5);
int sub_1000E6C0();
// int __usercall sub_1000E890@<eax>(__int16 a1@<ax>, int a2@<ecx>, int a3@<ebx>, int a4, __int16 a5, __int16 a6, _BYTE *a7);
int sub_1000E950();
// signed __int16 __usercall sub_1000E9A0@<ax>(signed int a1@<eax>, int a2@<ecx>);
char __cdecl sub_1000EAE0(int a1, int a2, int a3, int a4, int a5);
// int __usercall sub_1000EBF0@<eax>(__int16 a1@<cx>, int a2@<edi>, int a3@<esi>);
char __cdecl sub_1000EC70(int a1, int a2, int a3, int a4);
// __int16 __usercall sub_1000ED50@<ax>(int a1@<edi>);
signed int __cdecl sub_1000EDD0(int a1, int a2);
// char __usercall sub_1000EFC0@<al>(int a1@<eax>, int a2);
// int __usercall sub_1000F1A0@<eax>(unsigned __int16 a1@<ax>, int a2@<ebx>, int a3);
__int16 sub_1000F2A0();
__int16 __cdecl sub_1000F2B0(int a1, int a2);
char __cdecl sub_1000F2E0(int a1, int a2, __int16 a3, char a4);
void __cdecl sub_1000F530(signed int a1, _BYTE *a2, int a3, int a4);
char __cdecl sub_1000F780(signed int a1, int a2, unsigned __int16 a3, unsigned __int8 a4, int *a5, signed __int16 a6);
void __fastcall sub_1000F950(int a1);
char sub_1000F990();
int __cdecl sub_1000F9F0(int a1, int a2);
char *__cdecl sub_1000FA50(unsigned __int8 a1);
signed int __cdecl sub_1000FA60(signed int a1, int a2, _BYTE *a3);
signed int __cdecl sub_1000FAD0(int a1, int a2, _BYTE *a3);
void *__fastcall sub_1000FB10(unsigned __int16 a1, int a2);
// void *__usercall sub_1000FB50@<eax>(int a1@<edx>, int a2@<esi>);
// void *__usercall sub_1000FB70@<eax>(int a1@<edx>, int a2@<esi>);
// void *__usercall sub_1000FBE0@<eax>(_BYTE *a1@<ebx>, int a2@<edi>, _DWORD *a3);
void *sub_1000FC40();
int __cdecl sub_1000FC60(int a1);
// char __usercall sub_100100D0@<al>(int a1@<eax>, int a2@<ecx>);
// BOOL __usercall sub_10010100@<eax>(__int16 a1@<ax>);
signed int sub_10010130();
int __cdecl sub_10010150(int a1, signed int a2, int a3);
void __cdecl sub_100102D0(int a1, int a2, int a3);
char __cdecl sub_100103E0(unsigned __int8 a1, signed int a2, int a3, char a4);
char __cdecl sub_10010440(unsigned __int8 a1, signed int a2, int a3, int a4, char a5);
char __cdecl sub_10010480(unsigned __int8 a1, signed int a2, int a3, char a4);
int __cdecl sub_100104C0(int a1);
bool __cdecl sub_10010510(__int16 a1, __int16 a2);
BOOL sub_100105D0();
void __cdecl sub_10010620(int a1, signed int a2);
char __cdecl sub_100106B0(int a1, int a2);
// char __usercall sub_100107F0@<al>(__int16 a1@<ax>, __int16 a2@<cx>, int a3@<edi>, char a4);
char __cdecl sub_10010880(int a1);
// int __usercall sub_10010A70@<eax>(float *a1@<eax>, void *a2@<ecx>, float *a3);
// unsigned __int8 __usercall sub_10010B60@<al>(int a1@<edx>, int a2@<ecx>, unsigned __int8 a3);
char __cdecl sub_10010D90(int a1);
int __cdecl sub_10010E40(int a1, int a2, int a3);
// char __usercall sub_10010EB0@<al>(int a1@<ebp>, __int16 a2@<di>, int a3, int a4);
char __cdecl sub_10011260(int a1, int a2);
char __cdecl sub_10011420(unsigned __int16 a1, int a2);
int __cdecl sub_10011580(unsigned __int16 a1, unsigned __int16 a2, int a3, int a4);
signed int __cdecl sub_10011890(int a1, int a2);
void __cdecl sub_10011A60(int a1);
char __cdecl sub_10011BC0(int a1);
char sub_10011EF0();
void __cdecl sub_10011F70(int a1, int a2);
// int __usercall sub_100123D0@<eax>(int a1@<edi>, int a2@<esi>, __int16 a3, __int16 a4);
// int __usercall sub_10012440@<eax>(char *a1@<eax>, int a2@<edi>, int a3@<esi>, char *a4, __int16 a5, __int16 a6, unsigned __int8 a7);
_DWORD __cdecl sub_10012560(_DWORD a1, int a2);
char __cdecl sub_10014C10(char a1);
char __cdecl sub_10014C30(char a1);
char __cdecl sub_10014C70(char a1);
char __cdecl sub_10014CB0(char a1);
char __cdecl sub_10014CD0(char a1);
int __cdecl sub_10014D10(int, float, float, int); // idb
signed __int64 __cdecl sub_10014D80(int a1, signed int a2);
__int64 __cdecl sub_10014DA0(unsigned int a1, signed int a2, int a3);
__int16 __cdecl sub_10014DE0(int a1, int a2, int a3);
int __cdecl sub_10014F30(int a1, int a2, int a3);
BOOL __cdecl sub_10015000(char a1);
__int16 __cdecl sub_10015060(int a1, int a2, unsigned __int16 a3, int a4);
__int16 __cdecl sub_10015280(int a1, int a2, int a3);
int __cdecl sub_10015310(int a1);
// bool __usercall sub_10015320@<al>(int a1@<eax>, __int16 a2@<dx>, _WORD *a3@<ecx>, __int16 a4@<si>);
// int __usercall sub_10015380@<eax>(int a1@<esi>);
// int __usercall sub_10015530@<eax>(int a1@<esi>);
// int __usercall sub_100155D0@<eax>(int a1@<esi>);
// int __usercall sub_10015640@<eax>(int a1@<esi>);
char *__cdecl sub_100156C0(int a1, char *a2, __int16 a3, char a4, char a5);
bool __cdecl sub_10015D00(int a1, int *a2);
int __cdecl sub_10015D80(int a1, int a2);
int __cdecl sub_10016600(int a1, int a2);
void *__cdecl sub_10016830(char a1);
void *__cdecl sub_10016850(char a1);
void __cdecl sub_10016870(int a1, char a2);
int __cdecl sub_100168B0(double, double); // idb
void sub_10016900();
signed int sub_10016910();
// char __usercall sub_10016920@<al>(float *a1@<esi>);
signed int sub_10016990();
bool __cdecl sub_100169C0(char a1, int a2);
char __cdecl sub_10016BE0(float *a1);
bool sub_10016C40();
char __cdecl sub_10016C80(float *a1);
bool __cdecl sub_10016CC0(float *a1);
char sub_10016D70();
bool __cdecl sub_10016DD0(float *a1);
bool sub_10016E30();
int sub_10016E50(void); // weak
bool sub_10016E60();
bool sub_10016E80();
int __cdecl sub_10016EA0(char, void *, size_t, int); // idb
BOOL __cdecl sub_10016F10(char a1);
BOOL sub_10016F40();
void sub_10016F50();
char __thiscall sub_10017310(void *this);
char *__cdecl sub_100173A0(int a1, char *a2, int a3, char *a4, int a5);
char sub_100174D0();
char __cdecl sub_100174E0(char *a1, int a2, char a3, char *a4, int a5);
char __cdecl sub_100175E0(char *a1, int a2, char a3, char *a4);
void __cdecl sub_10017650(int a1, _BYTE *a2);
int __cdecl sub_10017680(int a1, int a2);
int sub_100176A0();
int __cdecl sub_100176C0(int a1, int a2, int a3);
int __cdecl sub_100176F0(int a1, int a2);
__int16 __cdecl sub_10017720(int a1);
int sub_10017740();
int __cdecl sub_10017760(int a1, int a2, int a3, int a4);
int sub_10017790();
int j_TSK_pvg_get_us_timer(void); // weak
int __cdecl sub_100177F0(int a1, int a2, int a3, int a4);
int __cdecl sub_10017820(int a1);
signed int __cdecl sub_10017840(int a1, int a2);
int __cdecl sub_10017880(int a1);
int __cdecl sub_100178A0(int a1, int a2);
int __cdecl sub_100178D0(int a1, int a2);
int __cdecl sub_10017900(int a1, int a2);
int __cdecl sub_10017930(int a1, int a2);
int __cdecl sub_10017960(int a1);
int __cdecl sub_10017980(int a1);
int __cdecl sub_100179A0(_BYTE *a1);
int __cdecl sub_100179E0(int a1, int a2);
int __cdecl sub_10017A10(int a1, int a2);
int __cdecl j_HWM_pvg_get_anlg_outp(_DWORD); // weak
int __cdecl j_HWM_pvg_get_color(_DWORD, _DWORD, _DWORD); // weak
int j_HWM_pvg_hsdb_get_lrus_online(void); // weak
int __cdecl j_HWM_pvg_log_err(_DWORD); // weak
int __cdecl j_HWM_pvg_read_reg(_DWORD); // weak
int sub_10017A80();
int __cdecl sub_10017AA0(int a1);
int __cdecl sub_10017AE0(int a1, int a2, int a3);
char __cdecl sub_10017B00(int a1, int a2, int a3);
int __cdecl sub_10017B40(int, void *, int, void *); // idb
int __cdecl sub_10017B80(int a1, int a2, int a3);
int __cdecl sub_10017BB0(int a1, int a2, int a3);
int __cdecl sub_10017BD0(int a1, int a2, int a3);
int __cdecl sub_10017C30(int a1, int a2, int a3);
char __cdecl sub_10017C70(int a1, int a2, int a3);
int __cdecl sub_10017CB0(int, void *, int, void *); // idb
int __cdecl sub_10017D00(int a1, int a2);
signed int __cdecl sub_10017D60(int a1);
// int __usercall sub_10017DE0@<eax>(const char **a1@<esi>);
// int __usercall sub_100180E0@<eax>(int a1@<eax>, int a2@<ecx>);
signed int __cdecl sub_10018100(int a1);
int __cdecl sub_100181D0(LONG Value); // idb
__int16 __cdecl sub_10018260(int a1, int a2, int a3, int a4);
int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD); // weak
__int16 __cdecl sub_100182A0(int a1, _DWORD *a2, _BYTE *a3);
int sub_10018300(void); // weak
void __cdecl sub_10018310(__int16 a1, _BYTE *a2);
bool sub_10018340();
int sub_10018360(void); // weak
int __cdecl j_mem_unmap(_DWORD, _DWORD); // weak
signed int __cdecl sub_10018380(unsigned int a1);
int j_FIL_vfs_dyn_linker(void); // weak
int __cdecl sub_100183D0(int a1, int a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD); // weak
signed int __cdecl sub_10018440(unsigned int a1, void *a2, int a3);
signed int __cdecl sub_10018480(unsigned int a1, void *a2, int a3, int a4, int a5);
int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD); // weak
signed int __cdecl sub_10018510(unsigned int a1, int a2, int a3, int a4);
__int64 __cdecl sub_10018560(int a1);
int __cdecl sub_10018580(int a1, int a2, int a3);
int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_100185B0(int a1, int a2, int a3, char a4);
signed int __cdecl sub_100185D0(unsigned int a1, int a2, int a3);
int __cdecl sub_100185F0(int a1, int a2, int a3);
unsigned int __cdecl sub_10018610(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6);
// int __usercall sub_100187C0@<eax>(int a1@<esi>);
int __cdecl sub_10018870(int a1, unsigned __int64 a2);
// int __usercall sub_10018920@<eax>(int a1@<ebx>, unsigned __int64 a2);
unsigned int __cdecl sub_100189B0(int a1, void *a2, int a3, int a4, int a5);
void __cdecl sub_10018B00(float *a1, float *a2, float *a3, int a4);
int __cdecl sub_10018B60(float, float, int); // idb
void __cdecl sub_10018D20(int a1, int a2, float *a3, float *a4, float *a5);
void __cdecl sub_100190F0(int a1, int a2, float *a3, float *a4);
int __cdecl sub_100191D0(int a1, float a2, float *a3, int a4, float *a5);
char __cdecl sub_100192B0(int a1);
double __cdecl sub_10019500(char a1);
signed int __cdecl sub_10019590(char a1);
signed int sub_100195B0();
char sub_100195D0();
char sub_100195F0();
char __cdecl sub_10019610(int a1);
char __cdecl sub_10019660(char a1);
char __cdecl sub_100196D0(unsigned __int8 a1);
char sub_10019730();
char __cdecl sub_10019820(char a1, char a2, float *a3);
bool __cdecl sub_10019960(void *a1);
char sub_100199B0();
void __cdecl sub_10019A00(float *a1, float *a2, int a3);
double __cdecl sub_10019AC0(int a1, int a2);
void sub_10019AE0();
int __cdecl sub_10019AF0(int a1, _BYTE *a2, int a3);
char __cdecl sub_10019B30(char a1, char a2);
int __cdecl sub_10019B50(int a1, int a2, _BYTE *a3, __int16 a4, int a5, __int16 a6, int a7);
int __cdecl sub_1001A390(int a1, int a2, char a3, __int16 a4, unsigned __int16 a5);
bool __cdecl sub_1001A640(_BYTE *a1);
bool __cdecl sub_1001A6E0(int a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, char a5);
int __cdecl sub_1001A7F0(int a1, _BYTE *a2, int a3);
int __cdecl sub_1001A8E0(int a1, __int16 a2, __int16 a3, char a4);
int __cdecl sub_1001AE30(int a1, signed int a2, int a3, int a4, int a5);
int __cdecl sub_1001B520(int a1, int a2, char a3);
int __cdecl sub_1001B610(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5);
unsigned int __cdecl sub_1001B720(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8);
int __cdecl sub_1001B800(int a1);
int __cdecl sub_1001BB50(int a1);
unsigned int __cdecl sub_1001BD30(int a1);
int __cdecl sub_1001C260(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8);
char __cdecl sub_1001C2C0(int a1, __int16 a2, __int16 a3, __int16 a4, char a5);
int __cdecl sub_1001CD40(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, char a6);
int __cdecl sub_1001CFA0(int a1, signed int a2, int a3, char a4);
char __cdecl sub_1001D430(int a1, __int16 a2, __int16 a3, __int16 a4, int a5, __int16 a6, __int16 a7);
char *__cdecl sub_1001E570(int a1, int a2, int a3, int a4);
char __cdecl sub_1001E5E0(int a1, int a2);
char *__cdecl sub_1001E630(int a1, int a2);
signed int __cdecl sub_1001E680(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5);
char __cdecl sub_1001E7D0(__int16 a1, __int16 a2);
char *__cdecl sub_1001E870(int a1, int a2);
char *__cdecl sub_1001EA20(int a1, int a2);
int __cdecl sub_1001EBD0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5);
_WORD *__cdecl sub_1001ECC0(int a1);
int __cdecl sub_1001ED20(int a1, __int16 a2, __int16 a3);
int __cdecl sub_1001ED80(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8, char a9, unsigned int a10);
int __cdecl sub_1001F410(int a1, int a2, int a3, int a4);
int __cdecl sub_1001FB40(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_1001FB70(int a1, signed int a2, signed int a3);
char __cdecl sub_10020040(int a1);
char __cdecl sub_100200F0(int a1);
int __cdecl sub_10020260(int a1);
char *__cdecl sub_100202C0(int a1);
unsigned int __cdecl sub_10020410(int a1, signed int a2, int a3, int a4);
int __cdecl sub_100204D0(int a1, int a2);
unsigned int __cdecl sub_100205F0(int a1, int a2);
int __cdecl sub_10020790(int a1, int a2, int a3);
int __cdecl sub_10020810(int a1, int a2, int a3);
int __cdecl sub_10020880(int a1, int a2, int a3);
char __cdecl sub_10020900(int a1, signed int a2, int a3, int a4);
int __cdecl sub_10020A10(int a1, signed int a2, signed int a3);
int __cdecl sub_10020B00(int a1, signed int a2, int a3, int a4);
int __cdecl sub_10020C00(int a1, int a2);
char *__cdecl sub_10020D30(int a1, signed int a2, int a3, int *a4);
char *__cdecl sub_10020E70(int a1, signed int a2, int a3, int *a4);
int __cdecl sub_100210C0(int a1, signed int a2, int a3);
int __cdecl sub_10021200(int a1, signed int a2, int a3);
int __cdecl sub_10021340(int a1);
int __cdecl sub_10021510(int a1, __int16 a2, __int16 a3, __int16 a4);
void __cdecl sub_10021770(int a1, int a2, int a3, float *a4, int a5);
int __cdecl sub_100218A0(int, float, float, int, int); // idb
char __cdecl sub_10021910(_BYTE *a1);
char sub_10021950();
signed __int16 sub_10021970();
double sub_10021990();
char sub_10021A00();
char __cdecl sub_10021A20(unsigned __int8 a1, int a2, int a3);
signed int sub_10021AA0();
char __cdecl sub_10021AC0(float *a1);
char __cdecl sub_10021AF0(int a1);
bool __cdecl sub_10021BB0(void *a1);
char __cdecl sub_10021BF0(char a1, unsigned __int16 a2, int a3);
// char __usercall sub_100222A0@<al>(char a1@<bl>, int a2@<esi>, double a3@<st0>);
// char __usercall sub_10022340@<al>(int a1@<eax>, int a2@<edx>, unsigned __int8 a3@<cl>, char a4);
char __cdecl sub_10022450(char a1, unsigned int a2, int a3);
signed int __cdecl sub_10022C40(char a1);
char __cdecl sub_10022C70(char a1, int a2);
double __cdecl sub_10022CC0(char a1, unsigned __int16 a2);
signed int __cdecl sub_10022D50(char a1, int a2);
bool __cdecl sub_10022DD0(char a1);
bool __cdecl sub_10022DE0(char a1);
signed int __cdecl sub_10022DF0(char a1, unsigned __int8 a2);
char __cdecl sub_10022E50(char a1, int a2);
double __cdecl sub_10022E90(char a1, unsigned __int16 a2);
signed int __cdecl sub_10022EC0(char a1, int a2);
signed int __cdecl sub_10022F00(char a1, unsigned __int8 a2);
double __cdecl sub_10022F40(char a1, int a2);
void __cdecl sub_10022FC0(int a1, int a2, float *a3, float *a4, float *a5);
char __cdecl sub_10023090(int a1, float a2, int a3, float a4, int a5);
void __cdecl sub_10023310(int a1, int a2, int a3, int a4, int a5, float a6);
// void __usercall sub_10023380(int a1@<ebx>, int a2@<edi>, float a3, float a4);
// void __usercall sub_10023670(int a1@<esi>);
void __cdecl sub_100236E0(int a1, float a2, float a3, int a4);
bool __cdecl sub_100238F0(int a1, float a2, int a3, float a4, int a5);
void __cdecl sub_10023960(int a1, int a2, int a3, int a4);
void __cdecl sub_10023B40(int a1, float a2, float a3, int a4);
void __cdecl sub_10023BF0(int a1, float a2, float a3, float a4, int a5);
char __cdecl sub_10023C40(int a1, float a2, int a3, float a4, int a5);
int __cdecl sub_10024040(int, float, float, int, int, float); // idb
char __cdecl sub_100240D0(int a1, float a2, int a3, float a4, char a5, int a6);
char __cdecl sub_10024330(int a1, float a2, int a3, float a4, char a5, int a6, int a7);
char __cdecl sub_10024640(int a1, float a2, int a3, float a4, char a5, int a6);
char __cdecl sub_100246B0(int a1, float a2, int a3, float a4, int a5);
int __cdecl sub_10024760(char a1);
int __cdecl sub_10024780(char a1);
char __cdecl sub_100247A0(char a1);
double __cdecl sub_10024830(int a1, int a2, int a3);
bool __cdecl sub_10024AA0(int a1);
char __cdecl sub_10024C30(int a1, char a2, void *a3);
signed int __cdecl sub_10024CC0(int a1, char a2);
int __cdecl sub_10024D00(int a1, unsigned __int8 a2);
int __cdecl sub_10024D30(int a1, unsigned __int16 a2);
int __cdecl sub_10024D50(int a1);
int __cdecl sub_10024DA0(__int16 a1, int a2);
// char __usercall sub_10024EB0@<al>(__int16 a1@<ax>, int a2@<ecx>, int a3@<edi>, float *a4);
void __cdecl sub_10024FA0(float a1, float a2, int a3, int a4);
// char __usercall sub_10025010@<al>(int a1@<eax>, int a2@<edi>);
// int __usercall sub_10025040@<eax>(int a1@<edx>, int a2@<esi>);
// void __usercall sub_10025080(unsigned __int8 a1@<al>, int a2@<edx>, int a3@<edi>, int a4@<esi>);
// signed int __usercall sub_100253A0@<eax>(unsigned __int8 a1@<al>, int a2@<ecx>);
signed __int16 __thiscall sub_100253E0(int this);
// int __usercall sub_10025440@<eax>(int a1@<esi>);
// int __usercall sub_100254C0@<eax>(void *a1@<eax>);
// void __usercall sub_100254E0(int a1@<edi>, __int16 a2, float a3, int a4);
// int __usercall sub_10025580@<eax>(int result@<eax>, __int16 a2@<cx>, __int16 a3@<bx>);
char __thiscall sub_10025610(int this);
bool __fastcall sub_10025680(int a1, int a2);
// bool __usercall sub_100256C0@<al>(int a1@<edi>, int a2@<esi>);
unsigned __int8 __cdecl sub_100257C0(int a1, int a2);
signed __int16 __cdecl sub_100259A0(int a1);
// int __usercall sub_10025C10@<eax>(int result@<eax>);
// bool __usercall sub_10025DA0@<al>(unsigned __int8 a1@<al>, int a2@<ecx>, int a3);
signed __int16 __cdecl sub_10025DE0(__int16 a1, const void *a2, int a3);
signed __int16 __cdecl sub_10025E40(float a1, float a2, int a3);
// char __usercall sub_10026120@<al>(int a1@<ebx>, int a2);
// void __usercall sub_100268A0(int a1@<esi>, int a2, unsigned __int8 a3, unsigned __int8 *a4, float *a5);
// void __usercall sub_100269B0(int a1@<eax>, int a2);
// char __usercall sub_10026CD0@<al>(int a1@<ebx>, int a2);
// void __usercall sub_10027000(int a1@<eax>, int a2@<ecx>, int a3@<edi>, int a4);
void __cdecl sub_10027510(int a1, int a2);
// void __usercall sub_100276D0(int a1@<eax>, int a2@<edi>, int a3, float a4);
// void __usercall sub_10027920(int a1@<eax>, unsigned __int8 a2@<bl>, int a3, int a4, int a5);
void __cdecl sub_10027A00(int a1, int a2, int a3, int a4);
// char __usercall sub_10027D40@<al>(int a1@<esi>, int a2, int a3);
// char __usercall sub_100280B0@<al>(int a1@<ebx>, int a2, unsigned int a3, int a4, __int16 *a5);
int __cdecl sub_10029140(int a1, int a2, int a3, int a4);
int __cdecl sub_10029560(int a1, int a2, int a3);
double __cdecl sub_10029590(float a1, float a2);
double __cdecl sub_10029620(int a1, int a2);
double __cdecl sub_10029670(int a1, float a2);
char __cdecl sub_10029770(float *a1, float *a2, _BYTE *a3);
BOOL __cdecl sub_10029810(char a1);
int __cdecl sub_10029860(int, double, int); // idb
int __cdecl sub_10029900(int a1, int a2, int a3);
int __cdecl sub_100299A0(int, float, int); // idb
// void __usercall sub_100299C0(int a1@<ebx>, int a2@<edi>, int a3@<esi>, int a4, double a5);
int __cdecl sub_10029A10(int, double, int, int, float, int, int, int); // idb
void __cdecl sub_10029B50(int a1, double a2, float a3, double a4, float a5, double a6, int a7);
int __cdecl sub_10029CB0(int, float, double, int, int, int); // idb
signed __int16 sub_10029D40();
signed __int16 __cdecl sub_10029D70(char a1);
signed __int16 __cdecl sub_10029DE0(char a1, unsigned __int16 a2);
char __cdecl sub_10029E80(int a1, int a2);
char __cdecl sub_10029EC0(int a1, char a2);
int __cdecl sub_10029F20(unsigned int a1);
bool __cdecl sub_10029F50(int a1);
int __cdecl sub_10029F80(char, float); // idb
BOOL __cdecl sub_1002A020(int a1);
double sub_1002A050();
double sub_1002A090();
double sub_1002A0D0();
double sub_1002A110();
double sub_1002A150();
char sub_1002A170();
int __cdecl sub_1002A190(_BYTE *a1, int a2);
char __cdecl sub_1002A1E0(int a1, unsigned __int8 a2);
BOOL __cdecl sub_1002A260(char a1);
// int __usercall sub_1002A2B0@<eax>(int result@<eax>, int a2@<esi>, unsigned __int8 a3);
// char __usercall sub_1002A380@<al>(unsigned __int8 a1@<al>, char a2@<dl>, int a3@<edi>, float a4, int a5, int a6);
// double __usercall sub_1002A450@<st0>(int a1@<eax>, unsigned __int8 a2@<dl>, unsigned __int8 a3@<cl>);
// double __usercall sub_1002A480@<st0>(unsigned __int8 a1@<dl>, unsigned __int8 a2@<cl>, int a3@<esi>);
// char __usercall sub_1002A520@<al>(unsigned __int8 a1@<al>, int a2@<esi>, int a3, unsigned __int8 a4);
// unsigned __int8 __usercall sub_1002A5B0@<al>(unsigned __int8 result@<al>, int a2@<edi>, int a3@<esi>, unsigned __int8 a4);
// char __usercall sub_1002A620@<al>(unsigned __int8 a1@<al>, int a2@<edi>);
// double __usercall sub_1002A6B0@<st0>(unsigned __int8 a1@<al>, int a2@<edi>);
// char __usercall sub_1002A770@<al>(unsigned __int8 a1@<al>, int a2@<edi>);
// double __usercall sub_1002A7F0@<st0>(int a1@<eax>, unsigned __int8 a2@<bl>, unsigned __int8 a3, int a4);
signed int __cdecl sub_1002A920(int a1);
// char __usercall sub_1002A960@<al>(int a1@<eax>, int a2, float a3, int a4, int a5, int a6);
// void __usercall sub_1002AB40(int a1@<esi>);
// char __usercall sub_1002ABE0@<al>(unsigned __int8 a1@<al>, int a2@<ecx>, int a3, unsigned __int8 a4);
// __int16 __usercall sub_1002ACE0@<ax>(signed int a1@<eax>, int a2@<edi>, int a3);
// char __usercall sub_1002ADC0@<al>(unsigned __int8 a1@<al>, float *a2@<edx>, int a3@<ecx>);
// void __usercall sub_1002AE60(unsigned __int8 a1@<al>, int a2@<ecx>, char a3, float a4, char a5, char a6, int a7);
int __cdecl sub_1002B040(int a1, int a2, int a3);
void __cdecl sub_1002B6D0(int a1, int a2, int a3, int a4);
double __cdecl sub_1002C010(int a1, int a2, unsigned __int8 a3, unsigned __int8 a4);
// double __usercall sub_1002C050@<st0>(unsigned __int8 a1@<bl>, int a2@<edi>, char a3, float a4);
// void __usercall sub_1002C160(int a1@<eax>, char a2@<cl>, int a3, unsigned __int8 a4);
// char __usercall sub_1002C2B0@<al>(int a1@<eax>, int a2, int a3, int a4, _WORD *a5);
// char __usercall sub_1002C4B0@<al>(__int16 a1@<ax>, int a2@<esi>, int a3, unsigned __int8 a4);
// void __usercall sub_1002C7B0(char a1@<dl>, char a2@<cl>, int a3, int a4, int a5);
// void __usercall sub_1002CA40(int a1@<eax>, char a2@<cl>, int a3, unsigned __int8 a4);
// void __usercall sub_1002CB10(int a1@<eax>, int a2, int a3);
void __cdecl sub_1002CC10(int a1, int a2, int a3);
float *__cdecl sub_1002CD50(float a1, int a2, int a3, float a4, int a5, int a6);
void __cdecl sub_1002CDD0(int a1);
int __cdecl sub_1002CF50(int a1);
int __cdecl sub_1002CFF0(int a1);
// signed __int16 __usercall sub_1002D060@<ax>(__int16 a1@<ax>, int a2@<ebx>, _WORD *a3, int a4);
// void __usercall sub_1002D2B0(int a1@<ecx>, int a2@<esi>);
void __cdecl sub_1002D390(char a1, int a2, __int16 *a3, int a4, int a5);
// void __usercall sub_1002DB70(int a1@<eax>, __int16 a2, int a3, int a4, _WORD *a5);
void __cdecl sub_1002DE90(char a1, int a2, __int16 *a3, int a4);
void __cdecl sub_1002E010(char a1, int a2, __int16 *a3, int a4);
int __cdecl sub_1002E230(float, float); // idb
double __cdecl sub_1002E280(int a1, float a2, float a3, float a4, char a5);
// void __usercall sub_1002E4B0(int a1@<eax>, int a2, float a3, float a4);
// double __usercall sub_1002E7D0@<st0>(int a1@<eax>, __int16 a2@<cx>, int a3);
double __cdecl sub_1002ECD0(char *a1);
// double __usercall sub_1002EE10@<st0>(char *a1@<eax>, int a2@<ecx>);
// void __usercall sub_1002EEB0(int a1@<eax>);
// void __usercall sub_1002EF10(__int16 a1@<ax>, int a2@<ecx>, int a3@<esi>, float a4);
// double __usercall sub_1002F180@<st0>(int a1@<ebx>, int a2@<edi>, __int16 a3);
// char __usercall sub_1002F270@<al>(int a1@<esi>, int a2, int a3, float a4);
// double __usercall sub_1002F5F0@<st0>(__int16 a1@<ax>, int a2@<ecx>, int a3);
void __cdecl sub_1002F7B0(int a1, float a2, int a3);
void __cdecl sub_1002FE20(int a1, float a2, int a3);
void __cdecl sub_100301E0(int a1, float a2, int a3);
void __cdecl sub_10030C80(int a1, float a2, int a3);
void __cdecl sub_10031230(int a1, float a2, int a3);
void __cdecl sub_10031420(int a1, float a2, int a3);
void __cdecl sub_100316A0(float a1, float a2, float a3, __int16 *a4);
// bool __usercall sub_10031C60@<al>(char a1@<bl>, int a2, int a3, float a4, float a5);
void __cdecl sub_10031CF0(int a1, int a2, int a3);
// double __usercall sub_10032A70@<st0>(int a1@<edi>, int a2@<esi>, int a3, float a4);
char __cdecl sub_10032B60(int a1, unsigned __int8 a2, int a3, int a4, __int16 *a5, int a6, char a7);
// void __usercall sub_10033270(int a1@<eax>, int a2@<ebx>, int a3@<esi>, int a4, int a5);
// int __usercall sub_100333C0@<eax>(unsigned __int8 a1@<cl>, int a2@<edi>, int a3@<esi>);
void __cdecl sub_10033450(int a1, int a2, int a3, int a4, int a5, int a6);
char __cdecl sub_10033590(int a1, char a2, int a3, int a4, __int16 *a5);
bool __cdecl sub_10033930(unsigned __int8 a1);
// int __usercall sub_10033970@<eax>(char a1@<bl>, int a2@<edi>, int a3@<esi>, float a4, float a5, float a6, int a7);
// void __usercall sub_10033AF0(int a1@<edi>, int a2@<esi>, float a3);
// char __usercall sub_10033FB0@<al>(int a1@<eax>, unsigned __int8 a2@<cl>, int a3@<ebx>, char a4, char a5);
int __cdecl sub_100341D0(float, int, int); // idb
int __cdecl sub_100343F0(int a1, int a2, _BYTE *a3);
void __cdecl sub_10034D90(int a1, char a2, int a3, int a4, __int16 *a5);
signed __int16 __cdecl sub_100355E0(int a1, unsigned __int8 a2, int a3, int a4, __int16 *a5);
double __cdecl sub_100358E0(float a1, float a2, float a3);
void __cdecl sub_10035950(int a1, char a2, int a3, int a4, __int16 *a5, int a6);
// void __usercall sub_10036690(_BYTE *a1@<eax>, float *a2@<edi>, float a3);
// char __usercall sub_10036720@<al>(int a1@<esi>, float a2, float a3, int a4, float a5, float a6, int a7);
// signed __int16 __usercall sub_100369B0@<ax>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, float a8, char a9, int a10, int a11, int a12, int a13);
// char __usercall sub_10036C60@<al>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, int a8, float a9, char a10, int a11, int a12, int a13, int a14);
// char __usercall sub_10036E90@<al>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, char a8, char a9, int a10, int a11, int a12);
// char __usercall sub_10037510@<al>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, float a8, float a9, int a10, int a11, int a12, int a13);
// char __usercall sub_10037720@<al>(char a1@<al>, float a2, float a3, float a4, int a5, float a6, float a7, int a8, float a9, char a10, int a11, int a12, int a13, int a14);
// signed __int16 __usercall sub_100379C0@<ax>(char a1@<al>, float a2, float a3, int a4, float a5, float a6, char a7, int a8, char a9, int a10, int a11, int a12);
bool __cdecl sub_10037BB0(int a1, float a2, int a3, int a4, __int16 *a5);
double __cdecl sub_100384C0(float a1, float a2);
double __cdecl sub_100384E0(float a1, float a2);
// void __usercall sub_10038500(char a1@<al>, int a2@<edi>, float *a3@<esi>, float a4);
// int __usercall sub_100385E0@<eax>(int a1@<ebx>, int a2);
// void __usercall sub_10038E20(int a1@<eax>, int a2@<ecx>);
char __cdecl sub_10039580(int a1, int a2, int a3);
double __cdecl sub_10039640(float a1, float a2);
double __cdecl sub_100396A0(float a1, float a2);
// void __usercall sub_100396F0(int a1@<ecx>, int a2@<edx>, char a3, float a4, float a5);
char __cdecl sub_100397A0(float a1, float a2, float a3, float a4);
// bool __usercall sub_10039820@<al>(unsigned __int8 a1@<bl>, int a2@<esi>);
// void __usercall sub_10039850(char a1@<al>, float *a2@<edi>, float *a3@<esi>, float a4, float a5);
// char __usercall sub_100398C0@<al>(int a1@<ecx>, unsigned __int8 a2@<bl>, int a3, int a4, float a5, float a6);
// char __usercall sub_100399D0@<al>(int a1@<eax>, unsigned __int8 a2@<dl>, unsigned __int8 a3@<cl>);
// unsigned __int8 __usercall sub_10039B50@<al>(char a1@<al>, int a2@<ecx>, char a3, char a4);
// char __usercall sub_10039D90@<al>(int a1@<edi>, int a2, int a3);
unsigned __int8 __cdecl sub_10039F20(int a1, int a2, int a3);
signed int __cdecl sub_10039FA0(int a1, unsigned __int8 a2);
BOOL __cdecl sub_1003A020(int a1, unsigned __int8 a2);
void __cdecl sub_1003A040(int a1, float a2, int a3, int a4);
char __cdecl sub_1003A0D0(char a1, float a2, int a3);
signed int __cdecl sub_1003A410(int a1, int a2);
__int16 __cdecl sub_1003A5A0(unsigned int a1, __int16 a2);
char __cdecl sub_1003A920(unsigned int a1, __int16 a2, __int16 *a3);
int __cdecl sub_1003A9C0(char a1);
int __cdecl sub_1003AAA0(char a1);
char __cdecl sub_1003AB10(void *a1);
int __cdecl sub_1003ABF0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, unsigned __int16 a6, int a7);
char __cdecl sub_1003ADA0(float *a1, _BYTE *a2);
char sub_1003ADE0();
char sub_1003B020();
char sub_1003B060();
char sub_1003B0A0();
char sub_1003B0E0();
char sub_1003B120();
char sub_1003B160();
char sub_1003B1A0();
char sub_1003B1E0();
char sub_1003B220();
char sub_1003B260();
char sub_1003B2A0();
char sub_1003B2E0();
char sub_1003B320();
char sub_1003B360();
char sub_1003B3A0();
char sub_1003B3E0();
char sub_1003B420();
char sub_1003B460();
char sub_1003B4A0();
char sub_1003B4E0();
char sub_1003B520();
char sub_1003B560();
char sub_1003B5A0();
char sub_1003B5E0();
char sub_1003B620();
char sub_1003B660();
char sub_1003B6A0();
char sub_1003B6D0();
char sub_1003B710();
char sub_1003B750();
int sub_1003B790();
char sub_1003B7D0();
double sub_1003B810();
int sub_1003B850();
int sub_1003B890();
double sub_1003B8D0();
double sub_1003B910();
int sub_1003B950();
char sub_1003B990();
double sub_1003B9D0();
char sub_1003BA10();
char sub_1003BA50();
double sub_1003BA90();
double sub_1003BAD0();
char sub_1003BB10();
int sub_1003BB50();
char sub_1003BB90();
double sub_1003BBD0();
double sub_1003BC10();
int sub_1003BC50();
char sub_1003BC90();
double sub_1003BCD0();
double sub_1003BD10();
double sub_1003BD50();
char sub_1003BD90();
char __cdecl sub_1003BDD0(void *a1);
double sub_1003BE00();
double sub_1003BE40();
double sub_1003BE80();
double sub_1003BEC0();
signed int sub_1003BF00();
signed int __cdecl sub_1003BF10(__int16 a1);
signed int __cdecl sub_1003BFB0(__int16 a1);
int __cdecl sub_1003C040(unsigned __int8 *a1, int a2);
void __cdecl sub_1003C070(unsigned int a1, int a2);
double *__cdecl sub_1003C1C0(char a1, char a2, double *a3);
void __cdecl sub_1003C2F0(unsigned int a1, char *a2);
int __cdecl sub_1003C350(int, int, int, void *, int); // idb
char __cdecl sub_1003C3E0(__int64 a1);
char __cdecl sub_1003C410(char a1, signed int a2, signed int a3, signed int a4, int *a5, _WORD *a6, _DWORD *a7);
char __cdecl sub_1003C5F0(unsigned int a1);
double __cdecl sub_1003C620(float a1);
// char __usercall sub_1003C6E0@<al>(int a1@<edi>, unsigned int a2@<esi>, char a3);
// int __usercall sub_1003C7E0@<eax>(int a1@<edi>, int a2, int a3, char a4);
char __cdecl sub_1003C8C0(unsigned int a1, int a2);
char __cdecl sub_1003C8E0(unsigned int a1);
int __cdecl sub_1003C930(int a1);
char __cdecl sub_1003C970(unsigned int a1, unsigned int *a2, _BYTE *a3, _BYTE *a4);
int __cdecl sub_1003C9A0(int a1);
// signed int __usercall sub_1003C9E0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
signed int __thiscall sub_1003CA20(int this);
// signed int __usercall sub_1003CAD0@<eax>(int a1@<edi>);
signed int __thiscall sub_1003CB60(int this);
// signed int __usercall sub_1003CC00@<eax>(int a1@<esi>);
// char __usercall sub_1003CC70@<al>(int a1@<eax>, char a2);
// int __usercall sub_1003CCC0@<eax>(int a1@<esi>);
// char __usercall sub_1003CCE0@<al>(unsigned int a1@<eax>, unsigned int *a2@<ebx>, _BYTE *a3@<edi>, int a4@<esi>, _DWORD *a5, int *a6);
// void *__usercall sub_1003CDA0@<eax>(int a1@<eax>, char *a2@<esi>);
// char __usercall sub_1003CE00@<al>(unsigned int a1@<ecx>, int *a2@<esi>);
// char __usercall sub_1003CEA0@<al>(int a1@<ecx>, _BYTE *a2@<edi>);
// int __usercall sub_1003CF30@<eax>(int a1@<ecx>, _BYTE *a2@<ebx>);
// __int16 __usercall sub_1003CFD0@<ax>(int a1@<eax>, int a2@<esi>, int a3);
void *__cdecl sub_1003D140(unsigned int a1, char *a2);
signed int __cdecl sub_1003D190(unsigned __int8 a1);
// signed int __usercall sub_1003D210@<eax>(int a1@<edi>, unsigned __int8 a2);
signed int __cdecl sub_1003D280(unsigned __int8 a1);
// int __usercall sub_1003D2F0@<eax>(int a1@<eax>, char a2);
char __cdecl sub_1003D380(unsigned __int16 *a1, _WORD *a2, _BYTE *a3);
// int __usercall sub_1003D4C0@<eax>(int a1@<eax>);
// void __usercall sub_1003D560(int a1@<edi>, int a2, int a3);
signed int __cdecl sub_1003D5A0(unsigned int a1, unsigned __int8 a2);
char __cdecl sub_1003D610(unsigned int a1, int a2);
char __cdecl sub_1003D750(unsigned int a1, char a2, int a3);
signed int __cdecl sub_1003DA30(unsigned int a1, char a2, char a3);
__int16 __cdecl sub_1003DAB0(unsigned int a1, char a2, int a3);
char __cdecl sub_1003DF90(unsigned int a1, char a2, int a3);
char __cdecl sub_1003E050(unsigned int a1);
char __cdecl sub_1003E0A0(unsigned int a1);
int __cdecl sub_1003E110(__int64 a1);
double __cdecl sub_1003E1C0(unsigned int a1);
double __cdecl sub_1003E240(unsigned int a1);
double __cdecl sub_1003E2C0(int a1);
int __cdecl sub_1003E330(int a1, int a2);
char __cdecl sub_1003E4C0(int a1, int a2);
__int16 __cdecl sub_1003E530(int a1, int a2);
void __cdecl sub_1003E570(int a1, int a2, void *a3);
int __cdecl sub_1003E810(int, void *); // idb
int __cdecl sub_1003E8B0(int, void *, void *); // idb
char __cdecl sub_1003EA60(unsigned int a1);
int __cdecl sub_1003EB60(unsigned __int8 a1);
char __cdecl sub_1003EB90(unsigned __int8 a1, int a2, char a3, int a4);
// signed int __usercall sub_1003EC10@<eax>(signed int result@<eax>, int a2@<ecx>);
// char __usercall sub_1003EC30@<al>(int a1@<eax>, unsigned __int8 a2);
// int __usercall sub_1003ECD0@<eax>(unsigned __int8 a1@<al>, int a2);
// int __usercall sub_1003ED00@<eax>(unsigned __int8 a1@<al>);
// int __usercall sub_1003ED20@<eax>(int a1@<ecx>, int *a2@<edi>, unsigned int *a3@<esi>);
int __cdecl sub_1003ED80(int a1);
// int __usercall sub_1003EDC0@<eax>(int *a1@<ebx>, int *a2@<edi>, _DWORD *a3@<esi>, int a4, int a5, _WORD *a6);
signed int __cdecl sub_1003EF20(unsigned __int8 a1, int a2);
// signed int __usercall sub_1003EFB0@<eax>(unsigned __int8 a1@<bl>, int a2);
// char __usercall sub_1003F120@<al>(char a1@<al>);
int __cdecl sub_1003F150(int a1);
int __fastcall sub_1003F1C0(int a1, int a2);
void __cdecl sub_1003F1F0(unsigned int a1, int a2);
int __cdecl sub_1003F330(char a1, unsigned int a2);
char __cdecl sub_1003F390(int a1, int a2);
int __cdecl sub_1003F440(char a1, int a2);
// signed int __usercall sub_1003F470@<eax>(_DWORD *a1@<ebx>, unsigned __int8 a2, int a3, _DWORD *a4);
signed int __cdecl sub_1003F540(unsigned __int8 a1);
// signed int __usercall sub_1003F660@<eax>(unsigned __int8 a1@<dl>, int a2@<ecx>, _DWORD *a3);
// void __usercall sub_1003F770(int a1@<ecx>, int a2@<esi>);
signed int __cdecl sub_1003F7A0(const char *a1, int a2, signed int *a3);
char __cdecl sub_1003F890(unsigned int a1, int a2);
char __cdecl sub_1003F9B0(char a1, int a2, int a3, int a4, _WORD *a5, _DWORD *a6);
signed int __cdecl sub_1003FA90(unsigned __int8 a1);
char __cdecl sub_1003FAD0(unsigned __int8 a1);
signed int __cdecl sub_1003FB10(unsigned __int8 a1, unsigned __int8 a2);
signed int __cdecl sub_1003FB70(unsigned __int8 a1);
char __cdecl sub_1003FBB0(int a1);
char __cdecl sub_1003FBF0(int a1);
char __cdecl sub_1003FC30(int a1);
char __cdecl sub_1003FC70(unsigned __int8 a1);
char __cdecl sub_1003FCB0(unsigned __int8 a1);
char __cdecl sub_1003FCF0(unsigned __int8 a1);
// int __usercall sub_1003FD30@<eax>(unsigned __int16 a1@<di>, signed int a2, signed int a3, unsigned __int8 a4);
signed int __cdecl sub_100400E0(int a1, char a2, char a3);
// char __usercall sub_10040160@<al>(int a1@<eax>, int a2);
signed int __thiscall sub_100401C0(int this);
// int __usercall sub_100402B0@<eax>(int a1@<eax>, unsigned __int8 a2);
// int __usercall sub_10040310@<eax>(unsigned __int8 a1@<al>, int a2, char a3, char a4);
signed int __cdecl sub_10040340(unsigned __int8 a1);
char __cdecl sub_100403B0(int a1, int a2, void *a3);
char __cdecl sub_10040410(unsigned int a1, unsigned __int8 a2, char a3, char a4, int a5);
int __cdecl sub_10040480(_WORD *a1, _DWORD *a2);
signed int __cdecl sub_100404E0(int a1, _WORD *a2, _BYTE *a3);
// char __usercall sub_100405E0@<al>(unsigned __int16 a1@<ax>, void *a2);
// int __usercall sub_10040640@<eax>(int result@<eax>, int a2@<ecx>);
char __cdecl sub_10040660(unsigned __int16 a1, int a2);
int __cdecl sub_10040770(unsigned __int16 a1, int a2);
int __cdecl sub_10040800(unsigned __int16 a1, int a2);
int __cdecl sub_10040870(unsigned __int16 a1, int a2);
signed int __cdecl sub_100408E0(int a1, _WORD *a2, _BYTE *a3);
signed int __cdecl sub_10040930(int a1);
int __cdecl sub_10040990(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_100409E0(unsigned __int8 a1, unsigned __int8 a2);
char __cdecl sub_10040A30(unsigned __int8 a1, unsigned __int8 a2);
int __cdecl sub_10040A80(int a1, int a2);
char __cdecl sub_10040AF0(unsigned __int8 a1);
signed int __cdecl sub_10040B40(unsigned __int8 a1);
int __cdecl sub_10040BC0(int, char, void *); // idb
signed int __cdecl sub_10040C40(unsigned __int8 a1);
int __cdecl sub_10040CA0(unsigned __int8 a1, int a2, _BYTE *a3, int a4, _DWORD *a5, _BYTE *a6, int a7);
char __cdecl sub_10040DC0(unsigned __int8 a1);
char __cdecl sub_10040E40(unsigned __int8 a1, char *a2);
char __cdecl sub_10040E80(unsigned __int8 a1, unsigned __int8 a2);
signed int __cdecl sub_10040F20(unsigned __int8 a1);
char __cdecl sub_10040F60(int a1);
char __cdecl sub_10040FA0(int a1);
char __cdecl sub_10040FD0(int a1);
char __cdecl sub_10041010(int a1);
int __cdecl sub_10041040(int a1, int a2, _BYTE *a3, _BYTE *a4, int a5, int a6, float *a7);
// int __usercall sub_10041140@<eax>(float *a1@<esi>, float a2, float a3, float a4, float a5, int a6);
// char __usercall sub_100411E0@<al>(int a1@<edi>, int a2@<esi>, unsigned int a3);
// double __usercall sub_100412C0@<st0>(int a1@<eax>, int a2@<ecx>, int a3@<esi>, unsigned int a4);
double *__cdecl sub_100413C0(unsigned int a1, int a2, int a3, int a4, int a5, int a6);
char __cdecl sub_10041810(unsigned __int8 a1, unsigned int *a2, _BYTE *a3, char *a4, _BYTE *a5, int *a6, char *a7, _BYTE *a8);
void __cdecl sub_10041910(int a1, unsigned __int8 a2, char *a3, char *a4, int a5, bool *a6);
char __cdecl sub_10041C20(unsigned __int8 a1);
char __cdecl sub_10041C60(unsigned __int8 a1);
char __cdecl sub_10041DA0(unsigned __int8 a1);
// char __usercall sub_10041DE0@<al>(int a1@<edi>, char a2, int a3, char a4, float a5, int a6);
char __cdecl sub_10041FC0(int a1, char a2, char *a3);
int __cdecl sub_100422A0(unsigned __int8 a1, int a2, _BYTE *a3, _BYTE *a4, int a5, int a6, float *a7);
signed int __cdecl sub_100422F0(unsigned __int8 a1);
char __cdecl sub_10042430(unsigned __int8 a1);
char __cdecl sub_10042470(unsigned __int8 a1);
void __cdecl sub_100424B0(int a1, unsigned __int8 a2, float *a3, float *a4);
int __thiscall sub_100428B0(int this);
// char __usercall sub_100428E0@<al>(unsigned __int8 a1@<al>, int a2@<ecx>, char a3);
// void __usercall sub_10042960(int a1@<ebx>);
// char __usercall sub_10042B10@<al>(int a1@<edx>, const void *a2@<ecx>, char a3, int a4, char a5, unsigned int a6);
// char __usercall sub_10044120@<al>(char a1@<bl>, int a2@<edi>, int a3@<esi>, char a4);
char __cdecl sub_100441B0(int a1, int a2, int a3, char a4);
signed int __cdecl sub_10044460(int a1);
double __cdecl sub_100444B0(int a1, float a2);
int __cdecl sub_10044510(char a1, char a2, _DWORD *a3, unsigned __int16 *a4, float *a5, float *a6, _BYTE *a7, _BYTE *a8, _BYTE *a9);
bool __cdecl sub_10044620(int a1);
char __cdecl sub_10044810(_DWORD *a1, unsigned __int8 a2, _BYTE *a3);
int __cdecl sub_10044850(unsigned __int16 a1, int a2);
int __cdecl sub_100448E0(int *a1);
char __cdecl sub_10044930(int a1, int a2, void *a3);
char __cdecl sub_10045090(int a1, _BYTE *a2);
char __cdecl sub_100450C0(_DWORD *a1);
int __cdecl sub_10045110(int a1, char a2, int a3);
signed int __cdecl sub_10045150(unsigned int a1, int a2);
// char __usercall sub_100452E0@<al>(_DWORD *a1@<edi>, _DWORD *a2@<esi>, const char *a3, _BYTE *a4, unsigned __int16 a5, _DWORD *a6);
// char __usercall sub_100455D0@<al>(_BYTE *a1@<edi>, _DWORD *a2@<esi>, const char *a3, unsigned __int16 a4);
// char __usercall sub_100456D0@<al>(_DWORD *a1@<edi>, _BYTE *a2@<esi>, char a3, const char *a4);
// void __usercall sub_100457C0(int a1@<esi>, int a2, unsigned int a3, _BYTE *a4);
int __cdecl sub_10045D80(__int16 a1, unsigned __int16 a2);
_DWORD __cdecl sub_10045DA0(_DWORD, _DWORD); // weak
signed int __cdecl sub_10045DB0(int a1);
signed int __cdecl sub_10045F10(int a1);
signed int __cdecl sub_10046000(int a1);
signed int __cdecl sub_10046190(int a1);
char __cdecl sub_100462B0(_DWORD *a1);
// char __usercall sub_10046300@<al>(signed int *a1@<edi>, signed int a2, signed int a3, unsigned __int8 a4, _BYTE *a5);
// char __usercall sub_100465A0@<al>(unsigned __int16 a1@<dx>, const char *a2@<ecx>, _BYTE *a3@<ebx>, _DWORD *a4, _DWORD *a5, char a6, const char *a7, _BYTE *a8);
char __cdecl sub_10046660(unsigned int a1, const char *a2, char a3, const char *a4, _BYTE *a5, signed int a6);
signed int __cdecl sub_100466D0(int a1, unsigned __int8 a2, _BYTE *a3);
void __cdecl sub_10046870(unsigned int a1, unsigned __int8 a2, int a3);
char __cdecl sub_10046920(int a1, unsigned __int8 a2, _DWORD *a3);
void __cdecl sub_10046AF0(int a1, int a2);
unsigned __int8 __cdecl sub_10046BE0(unsigned __int8 a1, unsigned __int8 a2, int a3, int a4, int a5);
// char __usercall sub_10046D40@<al>(char a1@<al>, char a2@<cl>, char a3);
// double __usercall sub_10046DA0@<st0>(int a1@<ecx>, int a2@<esi>, unsigned int a3, int a4, int a5);
// void __usercall sub_10046EB0(int a1@<edi>, int a2@<esi>);
// void __usercall sub_10046FA0(int a1@<eax>, unsigned __int8 a2@<dl>, int a3@<ecx>, unsigned __int8 a4, unsigned int a5, int a6, int a7, int a8);
int __cdecl sub_10047460(char, char, float, float); // idb
void __cdecl sub_100474B0(int a1, int a2);
void sub_10047F80();
signed int sub_10047F90();
_DWORD __cdecl sub_10047FA0(_DWORD, _DWORD); // weak
double __cdecl sub_10047FB0(_DWORD); // weak
int __fastcall sub_10047FC0(_DWORD, _DWORD); // weak
int __cdecl sub_10047FD0(signed int a1);
int sub_10048020(void); // weak
double sub_10048030();
bool __cdecl sub_10048060(char a1, char a2, int a3, float a4);
void __cdecl sub_100480B0(int a1);
bool __thiscall sub_100484B0(void *this);
double __fastcall sub_10048510(float a1);
double sub_10048530();
char __cdecl sub_10048540(int a1, void *a2);
bool __cdecl sub_10048650(unsigned int a1);
char __cdecl sub_100486B0(unsigned int a1, int a2);
double __cdecl sub_10048730(unsigned int a1);
void __cdecl sub_100487E0(unsigned int a1, int a2);
int __cdecl sub_10048A50(_BYTE *a1, _BYTE *a2, int a3);
int __cdecl sub_10048A80(int a1, int a2);
// int __usercall sub_10048BE0@<eax>(int result@<eax>, _BYTE *a2, signed int a3, int a4);
int __cdecl sub_10048C60(int a1, int a2, int a3, _BYTE *a4);
unsigned int __cdecl sub_10048CE0(unsigned int a1, _BYTE *a2, _BYTE *a3);
// int __usercall sub_10048D00@<eax>(int a1@<edi>, int a2, int *a3);
unsigned __int8 __cdecl sub_10048D60(unsigned int a1);
int __cdecl sub_10048D90(unsigned int a1, unsigned __int8 a2, char a3);
int __cdecl sub_10048E10(unsigned int a1);
char __cdecl sub_10048E40(__int64 a1);
double __cdecl sub_10048EE0(unsigned int a1);
int sub_10048F50();
char __cdecl sub_10048FF0(float *a1);
char __cdecl sub_100492B0(int a1, float *a2);
char *__cdecl sub_100492D0(unsigned __int8 a1);
signed int sub_10049390();
int sub_100493B0();
int sub_10049410();
char *sub_10049480();
int __cdecl sub_10049550(const void *a1);
int __cdecl sub_10049600(int a1);
void __cdecl sub_10049830(unsigned int a1, int a2);
char __cdecl sub_10049A10(unsigned int a1, int a2);
int __cdecl sub_10049A80(unsigned __int8 a1);
bool __cdecl sub_10049AC0(float a1, float a2);
BOOL __cdecl sub_10049B50(signed int a1);
int __cdecl sub_10049B70(_BYTE *a1, _BYTE *a2);
int sub_10049BA0();
int __fastcall sub_10049BB0(unsigned __int8 a1);
int __fastcall sub_10049BD0(unsigned __int8 a1);
void *__cdecl sub_10049BF0(char a1, void *a2);
int __cdecl sub_10049CC0(int a1);
char sub_10049E80();
__int32 __cdecl j_j__atol(const char *);
bool __cdecl sub_10049FF0(float a1, int a2, int a3, int a4);
bool __cdecl sub_1004A160(signed int a1, signed int a2, _BYTE *a3);
void __cdecl sub_1004A1D0(const char *a1, unsigned int a2, int a3);
int __cdecl sub_1004A220(int a1, _BYTE *a2, int a3);
int __cdecl sub_1004A270(void *, size_t); // idb
int __cdecl sub_1004A2A0(int, char *, int); // idb
int __cdecl sub_1004A300(char *, size_t, char *, va_list); // idb
int sub_1004A340(char *arg0, size_t arg4, char *arg8, ...);
int __cdecl sub_1004A370(const char *a1, _BYTE *a2, int a3);
int __cdecl sub_1004A3B0(int a1, int a2);
int __cdecl sub_1004A3D0(int, double); // idb
int __cdecl sub_1004A400(int a1, signed int a2, signed int a3);
int __cdecl sub_1004A420(int, double, double); // idb
int __cdecl sub_1004A500(int a1, signed int a2, signed int a3);
int __cdecl sub_1004A520(int, float, float); // idb
int __cdecl sub_1004A610(_BYTE *a1);
char __cdecl sub_1004A640(_BYTE *a1, _BYTE *a2);
char __cdecl sub_1004A690(_BYTE *a1, _BYTE *a2);
int sub_1004A6E0();
__int16 sub_1004A7B0();
signed int __cdecl sub_1004A810(int a1);
unsigned __int8 sub_1004A900();
char sub_1004A9D0();
int (__cdecl *(*sub_1004AB90())[2])(int, int);
char __thiscall sub_1004ACC0(void *this);
char __thiscall sub_1004ACF0(void *this);
int sub_1004AD20();
char __cdecl sub_1004AD50(int a1);
int __cdecl sub_1004AD70(int, char *); // idb
char __thiscall sub_1004ADD0(void *this);
char __thiscall sub_1004ADF0(void *this);
char __thiscall sub_1004AE10(void *this);
char __thiscall sub_1004AE30(void *this);
int __cdecl sub_1004AE50(char a1);
BOOL sub_1004AE60();
// void *__usercall sub_1004AE80@<eax>(unsigned __int16 a1@<bx>, int a2@<edi>, void *a3@<esi>);
signed int sub_1004AED0();
BOOL __cdecl sub_1004CCD0(unsigned int a1);
char __thiscall sub_1004CD40(void *this);
void __cdecl sub_1004CD60(_BYTE *a1, _BYTE *a2, _BYTE *a3);
int __cdecl sub_1004CD90(int a1);
signed int sub_1004CDB0();
void __cdecl sub_1004CDE0(_BYTE *a1);
char __cdecl sub_1004CE00(int a1, size_t a2, void *a3);
int __cdecl sub_1004CE40(int a1);
char __fastcall sub_1004CE60(int *a1);
char sub_1004D080();
int __cdecl sub_1004D0A0(_DWORD *a1);
char __cdecl sub_1004D0E0(_BYTE *a1);
char __cdecl sub_1004D110(char a1, void *a2, void *a3, __int16 a4);
void *sub_1004D150();
// unsigned int __usercall sub_1004D1F0@<eax>(unsigned int result@<eax>, bool *a2@<ecx>);
char __cdecl sub_1004D2B0(void *a1);
char sub_1004D300();
double sub_1004D350();
char sub_1004D390();
__int16 sub_1004D3D0();
char sub_1004D420();
__int16 sub_1004D470();
char sub_1004D4C0();
int __cdecl sub_1004D500(int, float); // idb
BOOL sub_1004D530();
// int __usercall sub_1004D560@<eax>(char a1@<al>, int a2@<ecx>);
char __thiscall sub_1004D590(void *this);
char __thiscall sub_1004D5F0(void *this);
char __cdecl sub_1004D660(char a1, char a2, int *a3);
char __cdecl sub_1004D810(char a1, int *a2, char a3);
char __cdecl sub_1004D880(char a1, int *a2);
int __cdecl sub_1004D8B0(unsigned __int16 a1);
char *__cdecl sub_1004D8D0(unsigned __int16 a1);
double __cdecl sub_1004D910(int a1);
int __cdecl sub_1004D960(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6);
char __cdecl sub_1004DAF0(int a1, char a2);
signed int __cdecl sub_1004DB70(_BYTE *a1, _BYTE *a2, int a3);
signed int __cdecl sub_1004DBB0(int a1);
signed int __cdecl sub_1004DBD0(signed int a1);
unsigned __int8 __cdecl sub_1004DC00(const char *a1, int a2);
double __cdecl sub_1004DD40(signed int a1, char a2);
void __cdecl sub_1004DD80(_BYTE *a1, signed int a2, int a3);
bool __cdecl sub_1004DE20(unsigned int a1, unsigned __int16 a2);
// char __usercall sub_1004DE60@<al>(unsigned int a1@<eax>);
char __cdecl sub_1004DE80(int a1, int a2);
int __cdecl sub_1004E180(unsigned __int16 a1);
char __thiscall sub_1004E1B0(void *this);
int __thiscall sub_1004E1E0(void *this);
char sub_1004E200();
int __cdecl sub_1004E280(int a1);
signed int __cdecl sub_1004E380(int a1, int a2);
int sub_1004E420(void); // weak
void sub_1004E450();
int __cdecl sub_1004E460(char a1);
signed int sub_1004E480();
// signed int __usercall sub_1004E4D0@<eax>(char a1@<al>, int a2@<ecx>);
// int __usercall sub_1004E570@<eax>(char a1@<al>);
// int __usercall sub_1004E590@<eax>(char a1@<al>);
// signed __int16 __usercall sub_1004E5B0@<ax>(char a1@<al>, unsigned __int16 a2@<si>);
char __cdecl sub_1004E7F0(char a1, unsigned __int16 a2, void *a3);
char __cdecl sub_1004E970(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_1004EAD0(int a1, int a2, void *a3, char a4, __int16 a5, char a6);
char __cdecl sub_1004EC10(char a1, unsigned __int16 a2, int a3);
char __cdecl sub_1004ECF0(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6);
char __cdecl sub_1004EF70(char a1, int a2, __int16 a3, __int16 a4, void *a5);
char __cdecl sub_1004EFA0(char a1, int a2, void *a3);
char __cdecl sub_1004EFD0(char a1, int a2, void *a3, int a4);
void *sub_1004F000();
signed int sub_1004F010();
int sub_1004F020();
char sub_1004F050();
signed int sub_1004F0F0();
int sub_1004F110();
int __cdecl nullsub_2(_DWORD); // weak
char __cdecl sub_1004F130(char *a1);
int __cdecl sub_1004F160(unsigned __int8 *a1);
int __cdecl sub_1004F180(unsigned __int8 *a1, int a2);
int __cdecl sub_1004F1B0(unsigned __int8 *a1);
signed int __cdecl sub_1004F210(unsigned int a1, int a2, int a3, int a4);
signed int __cdecl sub_1004F270(unsigned int a1, int a2, int a3);
int __cdecl sub_1004F290(int a1, int a2);
_DWORD __cdecl sub_1004F2B0(_DWORD); // weak
bool sub_1004F2C0();
bool sub_1004F2D0();
void __cdecl sub_1004F2F0(float a1, int a2);
void __cdecl sub_1004F350(float a1, float a2, int a3);
void __cdecl sub_1004F3C0(float a1, float a2, int a3);
signed int __cdecl sub_1004F430(_BYTE *a1, char a2, int a3);
int __cdecl sub_1004F480(int, float, float, int, int); // idb
unsigned int __cdecl sub_1004F570(char *a1, char a2, char a3, char a4, int a5);
unsigned int __cdecl sub_1004F5C0(_BYTE *a1, __int16 a2, __int16 a3, __int16 a4, int a5);
unsigned int __cdecl sub_1004F660(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5);
unsigned int __cdecl sub_1004F720(void *a1, size_t a2, int a3);
int __cdecl sub_1004F780(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5);
int __cdecl sub_1004F7D0(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5);
int __cdecl sub_1004F870(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5);
int __cdecl sub_1004F920(unsigned __int8 *a1, int a2);
int __cdecl sub_1004F950(unsigned __int8 *a1, int a2);
int __cdecl sub_1004F980(_BYTE *a1, int a2);
int sub_1004F9B0();
char __cdecl sub_1004F9E0(char a1);
char __thiscall sub_1004FA10(void *this);
char __cdecl sub_1004FA70(char a1);
char __cdecl sub_1004FAB0(char a1);
signed int __cdecl sub_1004FB20(char a1);
char __cdecl sub_1004FBA0(char a1);
char __cdecl sub_1004FC10(char a1);
char __cdecl sub_1004FCC0(int a1);
char __thiscall sub_1004FDC0(void *this);
char __cdecl sub_1004FDD0(char a1, void *a2);
unsigned int __cdecl sub_1004FE80(char *a1);
int __cdecl sub_1004FEA0(_BYTE *a1);
int __cdecl sub_1004FEC0(unsigned __int8 *a1);
unsigned int __cdecl sub_1004FEE0(int a1, int a2);
unsigned int __cdecl sub_10050210(int a1, int a2);
unsigned int __cdecl sub_10050650(_BYTE *a1);
int __cdecl sub_10050670(unsigned __int8 *a1);
int __cdecl sub_10050690(unsigned __int8 *a1);
int __cdecl sub_100506B0(_BYTE *a1);
int __cdecl sub_100506D0(int a1);
// void __cdecl __noreturn exit(int);
int __cdecl sub_10050720(unsigned __int8 *a1);
int __cdecl sub_10050740(int a1);
unsigned int __cdecl sub_100507D0(int a1);
signed int __cdecl sub_100507F0(int a1);
unsigned int __cdecl sub_10050840(int a1);
int __cdecl sub_100508A0(_BYTE *a1);
unsigned int __cdecl sub_100508C0(_BYTE *a1);
int __cdecl sub_100508E0(unsigned __int8 *a1);
int __cdecl sub_10050900(_BYTE *a1);
signed int __cdecl sub_10050920(_BYTE *a1, int a2);
int __cdecl sub_10050950(_BYTE *a1, int a2);
signed int __cdecl sub_10050990(_BYTE *a1, int a2);
int __cdecl sub_100509C0(int a1, int a2);
int __cdecl sub_10050A50(unsigned __int8 *a1);
int __cdecl sub_10050A70(int a1);
int __cdecl sub_10050AA0(unsigned __int8 *a1);
unsigned int __cdecl sub_10050AC0(int a1);
int __cdecl sub_10050AF0(int a1);
int __cdecl sub_10050BE0(int a1);
signed int __cdecl sub_10050CF0(unsigned __int8 *a1, int a2);
int __cdecl sub_10050D20(int a1);
int __cdecl sub_10050D50(unsigned __int8 *a1);
int __cdecl sub_10050DB0(int a1);
signed int __cdecl sub_10050DC0(_BYTE *a1, int a2);
int __cdecl sub_10050DF0(int a1, int a2);
_DWORD __cdecl sub_10050E70(_DWORD); // weak
int __cdecl sub_10050E80(int a1);
unsigned int __cdecl sub_10050F00(int a1);
unsigned int __cdecl sub_10050F40(int a1);
int __cdecl sub_10050F90(int a1);
int __cdecl sub_10050FC0(int a1);
unsigned int __cdecl sub_10050FF0(int a1);
unsigned int __cdecl sub_10051020(int a1);
unsigned int __cdecl sub_10051040(int a1);
void __cdecl __noreturn sub_10051080(int a1);
signed int __cdecl sub_100511F0(int a1, int a2);
// time_t __cdecl static _mkgmtime(struct tm *Tm);
// signed int __usercall sub_10051250@<eax>(int a1@<eax>, int a2@<edi>);
signed int __cdecl sub_10051320(int a1);
char __cdecl sub_10051330(char a1);
int __cdecl sub_10051370(char *a1, char a2);
bool __cdecl sub_100513E0(int a1, void *a2);
char __cdecl sub_100514A0(int a1, bool *a2);
char __thiscall sub_10051560(void *this);
char __cdecl sub_100515F0(char a1);
char __cdecl sub_10051660(int a1, char a2);
char __cdecl sub_10051720(char a1);
int __cdecl sub_10051750(int a1);
char __cdecl sub_10051790(int a1, int a2);
char __cdecl sub_100517E0(int a1, int a2);
char __cdecl sub_10051890(int a1, int a2);
char __cdecl sub_100518F0(int a1, int a2);
signed int sub_100519C0();
// char __usercall sub_100519D0@<al>(unsigned __int8 a1@<al>, char a2, void *a3);
char __cdecl sub_10051AB0(int a1, char a2, void *a3);
char __cdecl sub_10051B30(_DWORD *a1);
int __cdecl sub_10051BA0(char a1);
// int __usercall sub_10051BB0@<eax>(char *a1@<eax>, char a2@<cl>);
// char __usercall sub_10051BC0@<al>(char a1@<bl>, char a2);
char __cdecl sub_10051C80(char a1, char a2);
char __thiscall sub_10051CA0(void *this);
// char __usercall sub_10051D10@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4);
// void *__usercall sub_10051D50@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4);
char __cdecl sub_10051DF0(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10051E30(char a1, char a2, void *a3);
char __cdecl sub_10051E90(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10051ED0(char a1, char a2, void *a3);
char __cdecl sub_10051F00(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10051F40(char a1, char a2, void *a3);
char __cdecl sub_10051F80(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10051FC0(char a1, char a2, void *a3);
char __cdecl sub_10052010(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_10052050(char a1, char a2, void *a3);
char __cdecl sub_10052090(char a1, unsigned __int8 a2, void *a3);
bool __cdecl sub_100520D0(char a1, char a2, void *a3);
char __cdecl sub_10052110(char a1, void *a2);
char __cdecl sub_10052140(char a1, void *a2);
char __cdecl sub_10052170(char a1, void *a2);
char __cdecl sub_100521A0(char a1, void *a2);
char __cdecl sub_100521D0(char a1, void *a2);
char __cdecl sub_10052200(char a1, void *a2);
char __cdecl sub_10052230(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10052270(char a1, char a2, void *a3);
char __cdecl sub_100522C0(char a1, unsigned __int8 a2, void *a3);
char __cdecl sub_10052300(char a1, char a2, void *a3);
char __cdecl sub_10052330(char a1, void *a2);
char __cdecl sub_10052360(char a1, void *a2);
char __cdecl sub_10052390(char a1, void *a2);
char __cdecl sub_100523C0(int a1, char a2, char a3, int a4, void *a5);
bool __cdecl sub_10052760(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_100527D0(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_10052830(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_100528A0(char a1, _BYTE *a2);
char __thiscall sub_100528E0(void *this);
char __cdecl sub_10052950(char a1, int a2);
char __cdecl sub_10052980(char a1, int a2);
char __cdecl sub_100529B0(char a1, int a2, char a3, unsigned __int8 *a4, _BYTE *a5, unsigned int a6);
char *__cdecl sub_10052B80(char **a1);
int sub_10052BD0();
int __cdecl sub_10052C10(_BYTE *a1, int a2);
signed int __cdecl sub_10052C80(_BYTE *a1, int a2);
// char *__usercall sub_10052D20@<eax>(char *result@<eax>, const char *a2@<edi>, int a3@<esi>);
// const char *__usercall sub_10052D80@<eax>(int a1@<eax>);
// int __usercall sub_10052DA0@<eax>(unsigned int a1@<ebx>);
// int __usercall sub_10052DE0@<eax>(_DWORD *a1@<eax>, void (__cdecl *a2)(signed int, void *)@<ebx>, int a3@<esi>);
// int __usercall sub_10052E80@<eax>(int result@<eax>);
char *__cdecl sub_10052EC0(int a1, char *a2, int a3, const char *a4);
// int __usercall sub_10053070@<eax>(int a1@<eax>);
// int __usercall sub_100530A0@<eax>(int a1@<esi>);
void __cdecl sub_100530D0(int (**a1)(void), char **a2, _DWORD *a3);
int sub_10053540();
void *sub_10053590();
char *sub_100535F0();
char __cdecl sub_10053610(int a1, int a2, unsigned int a3);
char **sub_10053650();
int __cdecl sub_10053660(int a1, int a2, int a3);
int __cdecl sub_10053710(int a1, int a2, int a3, const char *a4, const char *a5);
// char *__usercall sub_10053920@<eax>(const char *a1@<ecx>, const char *a2@<ebx>, int a3, char *a4, int a5, char a6);
char *__cdecl sub_100539E0(char a1);
int *__cdecl sub_10053A80(_BYTE *a1);
// int __usercall sub_10053B40@<eax>(int a1@<eax>);
// signed int __usercall sub_10053CA0@<eax>(int a1@<esi>);
int __cdecl sub_10053D10(int, int); // weak
char __cdecl sub_10053FF0(int a1, int a2);
int __cdecl sub_10054110(int a1, unsigned int a2);
__int16 __cdecl sub_10054200(int a1, unsigned int a2);
__int16 __cdecl sub_10054250(unsigned int *a1, _WORD *a2, _WORD *a3);
int __cdecl sub_100542D0(_BYTE *a1);
int __cdecl sub_100542F0(unsigned __int8 *a1);
int __cdecl sub_10054310(unsigned __int8 *a1);
int __cdecl sub_10054330(unsigned __int8 *a1);
int __cdecl sub_10054350(unsigned __int8 *a1);
_DWORD __cdecl sub_10054370(_DWORD); // weak
int __cdecl sub_10054380(int a1);
int __cdecl sub_100543C0(int a1);
unsigned int __cdecl sub_100543E0(unsigned int a1);
bool __cdecl sub_10054400(int a1);
int __cdecl sub_100544D0(int a1);
int __cdecl sub_100544F0(int a1, int a2);
signed int __cdecl sub_10054530(int a1, void *a2, unsigned __int16 a3, __int16 a4);
int __cdecl sub_100545F0(int a1);
// int __usercall sub_10054630@<eax>(int a1@<eax>, int a2@<esi>);
// signed int __usercall sub_100546E0@<eax>(int a1@<eax>, int a2@<esi>);
// char __usercall sub_100548B0@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>);
// int __usercall sub_100548C0@<eax>(int result@<eax>);
// char __usercall sub_100548E0@<al>(int a1@<eax>);
// int __usercall sub_10054900@<eax>(int a1@<esi>, unsigned __int8 a2);
int __fastcall sub_10054940(int a1, int a2);
// int __usercall sub_10054960@<eax>(int a1@<esi>);
// signed int __usercall sub_100549A0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6);
int __cdecl sub_10054BB0(int a1);
signed int __cdecl sub_10054E20(unsigned int a1, int a2, int a3);
// int __usercall sub_10054EC0@<eax>(int a1@<eax>);
// int __usercall sub_10054EE0@<eax>(int a1@<edi>, int a2);
// signed int __usercall sub_10054F10@<eax>(int a1@<eax>, int a2@<ebx>);
// void __cdecl __noreturn exit_0(int);
// char __usercall sub_10055000@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>);
// signed int __usercall sub_10055030@<eax>(int a1@<eax>);
signed int __cdecl sub_10055060(unsigned int a1);
signed int __cdecl sub_100550B0(int a1, int a2);
signed int __cdecl sub_100552A0(unsigned int a1, int a2, int a3);
signed int __cdecl sub_10055300(unsigned int a1, int a2, int a3);
int __cdecl sub_10055490(unsigned __int8 *a1);
unsigned int __cdecl sub_100554B0(void *a1);
unsigned int __cdecl sub_100554D0(void *a1);
unsigned int __cdecl sub_100554F0(void *a1);
unsigned int __cdecl sub_10055510(void *a1);
unsigned int __cdecl sub_10055530(void *a1);
int __cdecl sub_10055550(int a1);
int __cdecl sub_100555A0(void *); // idb
unsigned int __cdecl sub_10055670(void *a1);
char sub_100556D0();
char sub_100556E0();
signed int __fastcall sub_10055760(unsigned __int8 a1);
char __cdecl sub_10055770(unsigned __int8 a1);
__int16 __cdecl sub_10055790(unsigned __int8 a1);
char __cdecl sub_100557B0(char a1, char a2, char a3, int a4, void *a5);
int __cdecl sub_100558C0(char a1);
bool __cdecl sub_10055910(void *a1);
char __cdecl sub_10055950(char a1);
char __cdecl sub_10055980(char a1, void *a2);
int __cdecl sub_10055A00(char a1, _DWORD *a2);
signed int __cdecl sub_10055A50(char a1, char a2);
int __cdecl sub_10055AB0(char a1);
signed int __cdecl sub_10055AF0(char a1, char a2, char a3);
int __cdecl sub_10055B60(char a1);
int __cdecl sub_10055BA0(char a1);
char __cdecl sub_10055BE0(char a1, int a2);
char __cdecl sub_10055C00(char a1, int a2);
char __cdecl sub_10055C30(char a1, int a2);
char __cdecl sub_10055C80(char a1, int a2);
char __cdecl sub_10055CB0(char a1, int a2);
char __cdecl sub_10055CD0(int a1);
char __cdecl sub_10055CF0(char a1);
char sub_10055D20();
BOOL __cdecl sub_10055DC0(int a1, int a2);
char __cdecl sub_10055DE0(int a1, char a2, int a3, int a4, int a5);
int __cdecl sub_10055E20(char a1);
_DWORD __cdecl sub_10055E50(char); // weak
int __cdecl sub_10055E60(char a1, char *a2);
int __cdecl sub_10055EB0(char a1);
int __cdecl sub_10055F00(int a1);
char __cdecl sub_10055F10(int a1, unsigned int a2);
int __cdecl sub_10055F40(int a1, int a2, int a3);
// void __cdecl __noreturn exit_1(int);
int __cdecl sub_10055FB0(int a1, char a2);
int __cdecl sub_10055FD0(int a1, int a2, int a3);
int __cdecl sub_10056000(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_10056040(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_10056080(int a1, int a2, int a3, int a4, int a5, int a6, int a7);
char __cdecl sub_100560D0(int a1);
int __cdecl sub_10056100(int a1);
char *sub_10056120(char *a1, ...);
int __cdecl sub_10056160(int a1, int a2);
int __cdecl sub_100561C0(int a1);
int __cdecl sub_100561D0(int a1, int a2);
int __cdecl sub_10056230(int a1);
int sub_10056240();
// signed int __usercall sub_10056270@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_10057320@<eax>(int a1@<esi>, int a2, unsigned int a3);
// signed int __usercall sub_10057380@<eax>(int a1@<eax>, int a2, int a3);
// void *__usercall sub_10058100@<eax>(void *a1@<eax>);
unsigned int __cdecl sub_10058120(int a1, unsigned int a2);
// int __usercall sub_10058180@<eax>(int result@<eax>);
// int __usercall sub_100581C0@<eax>(int result@<eax>);
// unsigned int __usercall sub_100598E0@<eax>(int a1@<esi>, int a2);
// void *__usercall sub_100599E0@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3);
// void *__usercall sub_10059A60@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3);
// int __usercall sub_10059B00@<eax>(int a1@<edi>, int a2, size_t a3);
// int __usercall sub_10059BC0@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3);
// int __usercall sub_10059C20@<eax>(char *a1@<edi>);
// int __usercall sub_10059CE0@<eax>(int a1@<ebx>);
char __cdecl sub_10059DA0(char *a1, size_t a2, int a3);
char __cdecl sub_10059DF0(char *a1, unsigned int a2, int a3);
bool __cdecl sub_10059E40(int a1, int a2);
// int __usercall sub_10059E70@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7);
// int __usercall sub_1005A080@<eax>(void *a1@<eax>, int a2);
char *__cdecl sub_1005A0D0(int a1, int a2);
signed int __cdecl sub_1005A160(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6);
bool __cdecl sub_1005A290(void *a1, int a2);
// BOOL __usercall sub_1005A310@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_1005A3B0@<eax>(int result@<eax>);
unsigned int __fastcall sub_1005A440(unsigned int a1, int a2);
// int __usercall sub_1005A460@<eax>(int result@<eax>);
// int __usercall sub_1005A4F0@<eax>(int result@<eax>, int a2, int a3);
// int __usercall sub_1005A970@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>);
// void *__usercall sub_1005AA20@<eax>(int a1@<edi>);
// int __usercall sub_1005AA80@<eax>(int result@<eax>, int a2@<edx>);
// signed int __usercall sub_1005AC50@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>);
_WORD *__fastcall sub_1005ACD0(int a1, int a2);
// unsigned int __usercall sub_1005AD40@<eax>(int a1@<esi>, unsigned int a2);
// unsigned int __usercall sub_1005AEF0@<eax>(int a1@<esi>, int a2);
// int __usercall sub_1005AFC0@<eax>(int result@<eax>, int a2@<edi>, int a3);
// int __usercall sub_1005B070@<eax>(int result@<eax>, __int16 a2@<cx>);
// unsigned int __usercall sub_1005B0B0@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3);
// signed int __usercall sub_1005B110@<eax>(signed int result@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_1005B1F0@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>);
// int __usercall sub_1005B790@<eax>(int a1@<eax>);
// int __usercall sub_1005B9D0@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4);
// signed int __usercall sub_1005BA70@<eax>(int a1@<esi>, int a2);
// unsigned int __usercall sub_1005BC50@<eax>(int a1@<edi>);
// int __usercall sub_1005BD90@<eax>(int a1@<eax>, int a2, int a3, int a4);
signed int __cdecl sub_1005C040(int a1, int a2);
// signed int __usercall sub_1005C300@<eax>(int a1@<eax>);
// _WORD *__usercall sub_1005C3D0@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
signed int __cdecl sub_1005C5F0(int a1, int a2);
signed int __cdecl sub_1005C900(int a1, int a2);
signed int __cdecl sub_1005CD10(int a1, int a2);
int __cdecl sub_1005CE80(unsigned int a1, _BYTE *a2, unsigned int a3);
signed int __cdecl sub_1005CF80(int a1);
// signed int __usercall sub_1005CFA0@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10);
// int (__cdecl *__usercall sub_1005D440@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD);
// int __usercall sub_1005D490@<eax>(int result@<eax>, char a2, char a3, int a4, int a5);
signed int __cdecl sub_1005D4B0(int a1, int a2, int a3, int a4, int a5, int a6);
// int __usercall sub_1005D860@<eax>(int a1@<edi>, int a2@<esi>, int a3);
// signed int __usercall sub_1005D9A0@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4);
// signed int __usercall sub_1005D9F0@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9);
// int __usercall sub_1005DA90@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4);
signed int __cdecl sub_1005DAB0(int a1);
// int __usercall sub_1005DAC0@<eax>(int a1@<eax>, int a2@<ecx>, int a3);
// int __usercall sub_1005E160@<eax>(int a1@<eax>, int a2, int a3);
// signed int __usercall sub_1005EB40@<eax>(int a1@<edi>, int a2);
signed int __cdecl sub_1005EE70(int a1, int a2);
int __cdecl sub_1005EE90(char a1, char a2);
// bool __usercall sub_1005EF40@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3);
// char __usercall sub_1005EF70@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6);
char __cdecl sub_1005F010(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_1005F090(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_1005F110(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_1005F190(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5);
char __cdecl sub_1005F210(char a1);
BOOL __cdecl sub_1005F2B0(unsigned __int8 a1);
// BOOL __usercall sub_1005F2C0@<eax>(unsigned __int8 a1@<al>, char a2);
bool __cdecl sub_1005F2F0(char a1, char a2, unsigned __int8 a3, int a4);
bool __cdecl sub_1005F4A0(unsigned __int8 a1, int a2);
bool __cdecl sub_1005F4E0(char a1, char a2, char a3, unsigned __int8 *a4, _DWORD *a5, int a6);
bool __cdecl sub_1005F5D0(unsigned __int8 a1, char a2, unsigned int a3);
bool __cdecl sub_1005F660(char a1, char a2, char a3, int a4, unsigned int a5, unsigned int a6);
char __cdecl sub_1005F700(char a1);
char __cdecl sub_1005F780(char a1, int a2);
// int __usercall sub_1005F8F0@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3);
// int __usercall sub_1005F930@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3);
signed int sub_1005F970();
char __cdecl sub_1005F980(unsigned __int8 a1, unsigned __int16 a2, int a3);
char __cdecl sub_1005F9E0(char a1, void *a2);
char __cdecl sub_1005FB00(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_1005FB80(int a1, char a2, char a3, unsigned __int8 *a4, int *a5, unsigned int a6);
int __cdecl sub_1005FD30(char a1);
int __cdecl sub_1005FD50(int, void *); // idb
// int __usercall sub_1005FDB0@<eax>(char a1@<al>);
BOOL __cdecl sub_1005FDE0(char a1, int a2);
int __cdecl sub_1005FE10(int, char, int, int, void *); // idb
char __cdecl sub_1005FE40(void *a1);
BOOL __cdecl sub_1005FE60(int a1);
char __cdecl sub_1005FE80(int a1, char a2, int a3, int a4, void *a5);
bool __cdecl sub_1005FEB0(char a1, void *a2);
// signed int __usercall sub_1005FEF0@<eax>(char a1@<al>);
bool __cdecl sub_1005FF10(char a1, void *a2);
bool __cdecl sub_10060000(char a1, char a2, int a3, int a4, void *a5);
char __cdecl sub_10060030(char a1, unsigned __int8 a2, int a3);
bool __cdecl sub_100600D0(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_10060150(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_100601C0(char a1, void *a2);
char __cdecl sub_10060240(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_100602C0(unsigned __int8 a1, unsigned __int8 a2, int a3);
char __cdecl sub_10060340(char a1, unsigned __int8 a2, int a3);
char __cdecl sub_100603B0(char a1, char a2, char a3, unsigned __int8 *a4, int a5);
char __cdecl sub_100604C0(char a1, void *a2);
bool __cdecl sub_100604E0(unsigned __int8 a1, char *a2);
char __cdecl sub_10060520(int a1, char a2, int a3, int a4, void *a5);
BOOL sub_10060560();
char __cdecl sub_100605C0(int a1, char *a2);
BOOL __cdecl sub_100606B0(int a1, int a2);
char __cdecl sub_100606D0(int a1, char a2, int a3, int a4, char *a5);
char __cdecl sub_10060710(int a1, int a2);
BOOL __cdecl sub_100607C0(int a1, int a2);
char __cdecl sub_100607E0(int a1, char a2, int a3, int a4, int a5);
char __cdecl sub_10060820(void *a1);
char __cdecl sub_10060840(void *a1);
char __cdecl sub_10060990(int a1, char a2, char a3, int a4, void *a5, size_t a6);
char __cdecl sub_10060B30(char a1);
// __int16 __usercall sub_10060B70@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_10060B80(unsigned __int8 a1, char *a2);
char __cdecl sub_10060C50(char a1, char a2, char a3, int a4, char *a5, unsigned int a6);
char __cdecl sub_10060CD0(unsigned __int16 a1, char *a2, char a3);
char __cdecl sub_10060E00(char a1, int a2);
bool __cdecl sub_10060E80(void *a1);
char __cdecl sub_10060ED0(char a1, int a2);
// __int16 __usercall sub_10060FB0@<ax>(unsigned __int8 a1@<al>);
char __cdecl sub_10060FC0(unsigned __int8 a1, int *a2, const void *a3);
char __cdecl sub_10061050(unsigned __int8 a1, char a2);
bool __cdecl sub_10061110(__int16 a1, char a2, int a3, int a4, void *a5);
char __cdecl sub_10061210(char a1);
char __cdecl sub_10061250(char a1);
// int __cdecl FNT_get_fnt_hdr(_DWORD); weak
// int __cdecl BMP_get_info(_DWORD); weak
// int __cdecl BMP_get_xfrm(_DWORD); weak
// int __cdecl BMP_get_bm_def(_DWORD); weak
// int TXT_get_static_string(void); weak
int __cdecl sub_10061290(int a1, int a2);
signed int __cdecl sub_100612C0(signed int *a1, signed int a2);
char __cdecl sub_100612F0(float a1, __int16 a2);
int __cdecl sub_10061330(int a1, int a2);
void __cdecl sub_10061360(int a1, signed int a2, signed int a3);
signed int sub_100613B0();
signed int __cdecl sub_100614F0(signed int a1, signed int a2, signed int a3, signed int a4, int *a5, int *a6);
char __cdecl sub_100615B0(signed int a1, signed int a2, int a3);
int __cdecl sub_10061620(signed int a1, signed int a2, signed int a3);
void __cdecl sub_100616D0(int a1, unsigned __int16 a2, void (__cdecl *a3)(int, signed int, int, int), int a4, int a5, int a6);
int __cdecl sub_10061740(char, void *, size_t, int); // idb
// bool __usercall sub_10061770@<al>(int a1@<esi>);
// int __usercall sub_100617B0@<eax>(char a1@<bl>, float a2, int a3, __int16 a4, int a5, int a6, int a7, int a8);
// int __usercall sub_10061900@<eax>(int a1@<esi>);
int __cdecl sub_10061940(char, int, int, void *); // idb
int __cdecl sub_10061AA0(int, void *); // idb
int __cdecl sub_10061AE0(_WORD *a1);
char sub_10061B20();
signed int __cdecl sub_10061BE0(_DWORD *a1, void *a2);
char sub_10061D90();
signed int __cdecl sub_10061DA0(_DWORD *a1, int a2);
signed int __cdecl sub_10061E30(_DWORD *a1, int a2, int a3, int a4, unsigned __int16 a5, void (__cdecl *a6)(int, int, int, int), int a7);
int __cdecl sub_10061F20(char, float, int, int, int, __int16, int, int); // idb
signed int __cdecl sub_10062160(char a1, int a2, int a3, int a4, unsigned __int16 a5, void (__cdecl *a6)(int, signed int, int, int), int a7);
void *sub_100622F0();
// signed int __usercall sub_10062320@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<esi>);
int __thiscall sub_100623F0(int this);
// int __usercall sub_100624A0@<eax>(int a1@<eax>, __int16 a2@<bx>, int a3@<esi>, int a4);
int __cdecl sub_10062650(__int16 a1, int a2, unsigned __int16 a3, void (__cdecl *a4)(int, int, int, int), int a5, int a6, int a7, int a8, int a9);
int __cdecl sub_10062910(char a1, int a2);
unsigned __int16 __cdecl sub_100629A0(unsigned __int16 a1, int a2);
signed int __cdecl sub_10062B20(int a1);
int __cdecl sub_10062C30(int a1);
int __cdecl sub_10062C50(int a1);
int __cdecl sub_10062CE0(int a1);
// __int16 __usercall sub_10062D00@<ax>(int a1@<ecx>, int a2@<esi>, unsigned __int16 a3, unsigned __int16 a4, unsigned __int8 a5);
// __int16 __usercall sub_10062FC0@<ax>(int a1@<edi>, int a2@<esi>, char a3, __int16 a4);
int __cdecl sub_100632B0(int a1, unsigned __int16 *a2, int a3, unsigned __int16 a4);
// int __usercall sub_100633F0@<eax>(__int16 a1@<ax>);
// int __usercall sub_10063450@<eax>(__int16 a1@<ax>);
int __cdecl sub_100634D0(int a1);
int __cdecl sub_10063530(int a1);
double __cdecl sub_10063550(float a1, float a2, int a3);
double __cdecl sub_100635C0(float a1, float a2);
bool __cdecl sub_10063660(float a1, float a2, float a3);
double __cdecl sub_100636E0(double a1, double a2);
double __cdecl sub_10063740(float a1, float a2);
int __cdecl sub_100637C0(double); // idb
double __cdecl sub_100637E0(float a1);
int __cdecl sub_10063820(int a1, int a2);
int __cdecl sub_10063840(float); // idb
int __cdecl sub_10063870(signed int a1, signed int a2);
double __cdecl sub_100638C0(float a1, float a2);
int __cdecl sub_10063930(double, int, int); // idb
int __cdecl sub_10063950(float, int, int); // idb
int __cdecl sub_10063970(int a1, int a2);
int __cdecl sub_10063990(float); // idb
bool __cdecl sub_100639F0(float a1, float a2, float a3);
double __cdecl sub_10063A30(double a1, double a2);
double __cdecl sub_10063AA0(float a1, float a2);
int __cdecl sub_10063B30(unsigned int a1, unsigned int a2);
int __cdecl sub_10063C50(unsigned int a1, unsigned int a2);
signed __int64 __cdecl sub_10063CA0(int a1, int a2);
int __cdecl sub_10063CB0(int a1);
int __cdecl sub_10063DC0(int a1);
int __cdecl sub_10063F50(int a1);
void __cdecl sub_10063F70(int a1, int a2, int a3);
int __cdecl sub_10064040(int a1, int a2);
int __cdecl sub_100640A0(int a1, int a2);
void __cdecl sub_10064100(int a1, int a2);
int __cdecl sub_10064160(int a1, int a2, int a3);
int __cdecl sub_10064190(int a1, int a2, int a3);
double __cdecl sub_100641C0(int a1, int a2);
double __cdecl sub_100641E0(int a1, int a2);
int __cdecl sub_10064210(double, int, int); // idb
int __cdecl sub_10064240(float, int, int); // idb
int __cdecl sub_10064270(int a1, int a2, int a3);
int __cdecl sub_100642A0(int a1, int a2);
int __cdecl sub_100642C0(int a1, int a2);
int __cdecl sub_100642E0(int a1, int a2, int a3);
int __cdecl sub_10064340(int a1, int a2, int a3);
unsigned __int16 __cdecl sub_100643A0(_BYTE *a1, int a2, unsigned __int16 a3, char a4);
int __cdecl sub_10064420(unsigned __int8 a1, unsigned int a2);
unsigned int __cdecl sub_10064440(unsigned int *a1, signed int a2, unsigned int a3);
unsigned int __cdecl sub_10064570(_BYTE *a1, int a2, unsigned int a3);
int __cdecl sub_100645B0(int a1, int a2, int a3);
// int __cdecl SIM_proc_rqst(_DWORD); weak
// int SYS_exit_krnl(void); weak
// int __cdecl SYS_pvg_ftr_get(_DWORD, _DWORD); weak
// int SYS_enter_krnl(void); weak
// int __cdecl SYS_pvg_ftr_set(_DWORD, _DWORD); weak
// int TSK_pvg_get_id(void); weak
// int __cdecl TSK_pvg_get_mon_data(_DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_get_msg(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_get_run_state(_DWORD); weak
// int TSK_pvg_get_timer(void); weak
// int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl TSK_pvg_release_smphr(_DWORD); weak
// int __cdecl TSK_pvg_reply_msg(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_reserve_avbl_smphr(_DWORD); weak
// int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_restart(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_evnt(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD); weak
// int __cdecl TSK_pvg_set_proc_status(_DWORD); weak
// int __cdecl TSK_pvg_suspend(_DWORD); weak
// int __cdecl TSK_pvg_wait_evnt(_DWORD); weak
// int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int FIL_vfs_close(void); weak
// int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int FIL_vfs_read(void); weak
// int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_size(_DWORD); weak
// int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD); weak
// int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl SYS_pvg_is_booting(_DWORD); weak
// int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD); weak
// void *__cdecl memcpy(void *, const void *, size_t);
// void *__cdecl memset(void *, int, size_t);
// int __cdecl strncmp(const char *, const char *, size_t);
// void *__cdecl memcpy_0(void *, const void *, size_t);
// double __cdecl ceil(double);
// char *__cdecl strncpy(char *, const char *, size_t);
// char *__cdecl strrchr(const char *, int);
// int *__cdecl _errno();
// unsigned __int32 *__cdecl __doserrno();
// _DWORD __cdecl _dosmaperr(_DWORD); weak
// _DWORD __thiscall _LocaleUpdate::_LocaleUpdate(_LocaleUpdate *this, struct localeinfo_struct *); idb
// int __cdecl isdigit(int);
// char *__cdecl strchr(const char *, int);
// int __cdecl tolower(int);
// void *__cdecl memchr(const void *, int, size_t);
// int __cdecl _vsnprintf(char *, size_t, const char *, va_list);
// char *__cdecl strncat(char *, const char *, size_t);
signed int __cdecl sub_10069A89(_DWORD *a1);
signed int __cdecl sub_10069AC0(_DWORD *a1);
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
// int _getptd(void); weak
// void __cdecl free(void *);
// _DWORD __cdecl _calloc_crt(size_t, _DWORD); weak
void sub_1006A6B6();
int (*sub_1006AB63())(void);
void __cdecl sub_1006AB87(); // idb
int __cdecl sub_1006B0DA(int a1);
// int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int __cdecl isleadbyte(int);
int __cdecl sub_1006DA4F(int, FILE *); // idb
// int _get_sse2_info(void); weak
int sub_1006FECB();
int __cdecl sub_1006FED8(int, int, struct localeinfo_struct *); // idb
int __cdecl sub_1006FF7E(int, int, struct localeinfo_struct *); // idb
void sub_100703E2();
int sub_100706BF();
int sub_10071392();
int __cdecl sub_1007154F(int a1);
int __cdecl sub_10071559(int a1);
int __cdecl sub_10071563(int a1);
int __cdecl sub_10071642(int a1);
signed int __cdecl sub_10072D35(int a1, int a2);
signed int __cdecl sub_10073277(int a1, int a2);
DWORD __cdecl sub_10073BAC(int a1, int a2, int a3, DWORD dwMoveMethod);
// __int64 __cdecl _lseeki64(int, __int64, int);
_WORD *__cdecl sub_10073D48(int a1, int a2, DWORD nNumberOfBytesToWrite);
_WORD *__cdecl sub_1007436A(int a1, int a2, DWORD nNumberOfBytesToWrite);
// _DWORD __cdecl _getbuf(_DWORD); weak
int __cdecl sub_1007448A(signed int a1);
void **sub_100744E8();
signed int sub_100744EE();
// int __cdecl _fileno(FILE *);
// int __cdecl mbtowc(wchar_t *, const char *, size_t);
int __cdecl sub_10075667(int a1, int a2, int a3);
signed int __cdecl sub_10075B37(signed int a1);
signed int __cdecl sub_10075BB8(signed int a1);
// _DWORD __cdecl __lock_fhandle(_DWORD); weak
void __cdecl sub_10075CC9(signed int a1);
// int __cdecl _putwch_nolock(__int16 Buffer); idb
// _DWORD __cdecl flsall(_DWORD); weak
int sub_10075FCA();
signed int __cdecl sub_1007625C(signed int a1);
int __cdecl sub_10076400(int a1);
int __cdecl sub_10076440(int a1);
int __cdecl sub_10076480(int a1);
int __cdecl sub_100764C0(int a1);
int __cdecl sub_10076500(int a1, int a2, int a3, int a4);
int __cdecl sub_10076570(int a1, int a2, int a3);
// BOOL __stdcall CloseHandle(HANDLE hObject);
// BOOL __stdcall SetStdHandle(DWORD nStdHandle, HANDLE hHandle);
// BOOL __stdcall GetConsoleMode(HANDLE hConsoleHandle, LPDWORD lpMode);
// UINT __stdcall GetConsoleCP();
// DWORD __stdcall SetFilePointer(HANDLE hFile, LONG lDistanceToMove, PLONG lpDistanceToMoveHigh, DWORD dwMoveMethod);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// BOOL __stdcall WriteFile(HANDLE hFile, LPCVOID lpBuffer, DWORD nNumberOfBytesToWrite, LPDWORD lpNumberOfBytesWritten, LPOVERLAPPED lpOverlapped);
// void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// int __stdcall WideCharToMultiByte(UINT CodePage, DWORD dwFlags, LPCWSTR lpWideCharStr, int cchWideChar, LPSTR lpMultiByteStr, int cbMultiByte, LPCSTR lpDefaultChar, LPBOOL lpUsedDefaultChar);
// void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// DWORD __stdcall GetLastError();
// LONG __stdcall InterlockedExchange(volatile LONG *Target, LONG Value);

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN unk_10077320; // weak
_UNKNOWN unk_100773A0; // weak
_UNKNOWN unk_100779FC; // weak
char byte_10077A17 = '\0'; // idb
__int16 word_10078350[] = { 16 }; // weak
__int16 word_10078352[] = { 6 }; // weak
_UNKNOWN unk_10078578; // weak
_UNKNOWN unk_10078588; // weak
_UNKNOWN unk_10078598; // weak
_UNKNOWN unk_100785C8; // weak
__int16 word_100785F8[] = { 78 }; // weak
__int16 word_10078608[] = { 79 }; // weak
_UNKNOWN unk_10078664; // weak
void *off_10078678 = &unk_10282A60; // weak
__int16 word_100786E4[] = { 1344 }; // weak
char byte_100786F0[] = { '\x1C' }; // weak
char byte_100786F1[] = { '\x1C' }; // weak
char byte_100786F3[] = { '\x03' }; // weak
int dword_100786F4[] = { 3076 }; // weak
_UNKNOWN unk_100788B8; // weak
char byte_100788C0[] = { '\x01' }; // weak
int dword_100788C4[] = { 3109 }; // weak
_UNKNOWN unk_10078978; // weak
_UNKNOWN unk_100789EC; // weak
float flt_10078A00[] = {  152.39999 }; // weak
_UNKNOWN unk_10078A74; // weak
_UNKNOWN unk_10078A88; // weak
_UNKNOWN unk_10078AAC; // weak
float flt_10078AD0[] = {  3704.0 }; // weak
char *off_10078B00[29] =
{
  "Off",
  "150",
  "200",
  "300",
  "500",
  "800",
  "1000",
  "1500",
  "2",
  "3",
  "5",
  "8",
  "10",
  "15",
  "20",
  "30",
  "50",
  "80",
  "100",
  "150",
  "200",
  "300",
  "500",
  "800",
  "1000",
  "1500",
  "2000",
  "3000",
  "4000"
}; // weak
_UNKNOWN off_10078B74; // weak
char *off_10078B98[103] =
{
  "Off",
  "500",
  "800",
  "1000",
  "1500",
  "2000",
  "3000",
  "5000",
  "1",
  "1.5",
  "2",
  "3",
  "5",
  "8",
  "10",
  "15",
  "20",
  "30",
  "50",
  "80",
  "100",
  "150",
  "200",
  "300",
  "500",
  "800",
  "1000",
  "1500",
  "2000",
  "Off",
  "1",
  "2",
  "5",
  "10",
  "25",
  "50",
  "100",
  "200",
  "Off",
  "37.5",
  "50",
  "75",
  "125",
  "200",
  "250",
  "375",
  "500",
  "750",
  "1.25",
  "2",
  "2.5",
  "3.75",
  "5",
  "7.5",
  "12.5",
  "20",
  "25",
  "37.5",
  "50",
  "75",
  "125",
  "200",
  "250",
  "375",
  "500",
  "750",
  "1000",
  "Off",
  "1",
  "2",
  "6",
  "12",
  "24",
  "40",
  "Off",
  "125",
  "200",
  "250",
  "375",
  "500",
  "750",
  "1250",
  ".25",
  ".375",
  ".5",
  ".75",
  "1.25",
  "2",
  "2.5",
  "3.75",
  "5",
  "7.5",
  "12.5",
  "20",
  "25",
  "37.5",
  "50",
  "75",
  "125",
  "200",
  "250",
  "375",
  "500"
}; // weak
char *off_10078C0C[74] =
{
  "Off",
  "1",
  "2",
  "5",
  "10",
  "25",
  "50",
  "100",
  "200",
  "Off",
  "37.5",
  "50",
  "75",
  "125",
  "200",
  "250",
  "375",
  "500",
  "750",
  "1.25",
  "2",
  "2.5",
  "3.75",
  "5",
  "7.5",
  "12.5",
  "20",
  "25",
  "37.5",
  "50",
  "75",
  "125",
  "200",
  "250",
  "375",
  "500",
  "750",
  "1000",
  "Off",
  "1",
  "2",
  "6",
  "12",
  "24",
  "40",
  "Off",
  "125",
  "200",
  "250",
  "375",
  "500",
  "750",
  "1250",
  ".25",
  ".375",
  ".5",
  ".75",
  "1.25",
  "2",
  "2.5",
  "3.75",
  "5",
  "7.5",
  "12.5",
  "20",
  "25",
  "37.5",
  "50",
  "75",
  "125",
  "200",
  "250",
  "375",
  "500"
}; // weak
char byte_10078EB8[] = { '\x1D' }; // weak
char byte_10078EB9[] = { '\x13' }; // weak
char byte_10078EBA[] = { '' }; // weak
char byte_10078EBB[] = { '\b' }; // weak
char byte_10078EBC[] = { '\b' }; // weak
_UNKNOWN unk_100799F4; // weak
_UNKNOWN unk_100799FD; // weak
_UNKNOWN unk_10079A18; // weak
_UNKNOWN unk_10079A1C; // weak
int dword_10079AF4 = 1226855239; // weak
int dword_10079B08 = 1398231111; // weak
int dword_10079B14 = 1346456646; // weak
int dword_10079B44 = 1398227284; // weak
int dword_10079B5C = 1381123412; // weak
_UNKNOWN unk_10079B88; // weak
_UNKNOWN unk_1007A150; // weak
char byte_1007A151[] = { '\x01' }; // weak
double dword_1007B79C = ?flt; // idb
double dword_1007B7A8 = ?flt; // idb
_UNKNOWN unk_1007BEA0; // weak
_UNKNOWN unk_1007C8AC; // weak
char byte_1007D3D4[] = { '\0' }; // weak
char byte_1007D3E0[] = { '\x04' }; // weak
char byte_1007D3E4[] = { '\0' }; // weak
_UNKNOWN unk_1007D3E8; // weak
char *off_1007D3EC[2] = { " -100", "  -30" }; // weak
char *off_1007D3F0 = "  -30"; // weak
char byte_1007D3F4[] = { '\x02' }; // weak
char byte_1007D3F5[] = { '\x01' }; // weak
char byte_1007D3F6[] = { '\x01' }; // weak
__int16 word_1007D4A8[] = { 229 }; // weak
__int16 word_1007D4C0[] = { 13 }; // weak
__int16 word_1007D4C2[] = { 0 }; // weak
__int16 word_1007D4C4[] = { 1 }; // weak
void *off_1007D4C8 = &unk_100773A0; // weak
char byte_1007D620[] = { '\r' }; // weak
__int16 word_1007D622[] = { 295 }; // weak
__int16 word_1007D640[] = { 6450 }; // weak
__int16 word_1007D642[] = { 6447 }; // weak
int (*off_1007DC18[3])() = { &sub_1003B0A0, &sub_1003B0E0, &sub_1003B060 }; // weak
int (*off_1007DC1C[2])() = { &sub_1003B0E0, &sub_1003B060 }; // weak
int (*off_1007DC20)() = &sub_1003B060; // weak
__int16 word_1007DC24[] = { 4 }; // weak
char byte_1007DC26[6] = { 'E', 'C', 'R', '\0', '\0', '\0' }; // idb
int dword_1007DCB8[] = { 0 }; // weak
__int16 word_1007DCBC[] = { 8 }; // weak
__int16 word_1007DCC0[] = { 550 }; // weak
__int16 word_1007DCC4[] = { 7 }; // weak
int dword_1007DCD8[] = { 2 }; // weak
int dword_1007DCE8[] = { 3 }; // weak
__int16 word_1007DCEC[] = { 8 }; // weak
__int16 word_1007DCF0[] = { 390 }; // weak
__int16 word_1007DCF4[] = { 10 }; // weak
int dword_1007DCF8[] = { 4 }; // weak
__int16 word_1007DCFC[] = { 86 }; // weak
__int16 word_1007DD00[] = { 2 }; // weak
__int16 word_1007DD04[] = { 6 }; // weak
int dword_1007DD28[] = { 7 }; // weak
int dword_1007DD38[] = { 8 }; // weak
__int16 word_1007DD3C[] = { 8 }; // weak
__int16 word_1007DD40[] = { 260 }; // weak
__int16 word_1007DD44[] = { 8 }; // weak
int dword_1007DD48[] = { 9 }; // weak
__int16 word_1007DD4C[] = { 8 }; // weak
__int16 word_1007DD50[] = { 205 }; // weak
__int16 word_1007DD54[] = { 3 }; // weak
int dword_1007DD58[] = { 10 }; // weak
__int16 word_1007DD5C[] = { 8 }; // weak
__int16 word_1007DD60[] = { 102 }; // weak
__int16 word_1007DD64[] = { 3 }; // weak
__int16 word_1007DEC8[] = { 16 }; // weak
__int16 word_1007DECA[] = { 5 }; // weak
_UNKNOWN unk_1007EDA4; // weak
char *off_1007EDC0 = "/shr_mem/pvt_intf.shr"; // weak
__int16 word_1007F35C[] = { 6 }; // weak
void *tsk_app_hdr_ptr = &tsk_app_hdr; // weak
int dword_100839E8[] = { 6103 }; // weak
int dword_100839EC[] = { 8000 }; // weak
char byte_10084138[] = { '\0' }; // weak
char byte_10084144[12] =
{
  '\0',
  '\0',
  '\0',
  '\x01',
  '\x01',
  '\0',
  '\x01',
  '\x01',
  '\xFF',
  '\0',
  '\x01',
  '\0'
}; // idb
int (__cdecl *off_10084150[16])(int, int) =
{
  &sub_1001E870,
  &sub_1001E870,
  &sub_1001E870,
  &sub_1001EA20,
  &sub_1001EA20,
  &sub_1001EA20,
  &sub_1001EA20,
  &sub_1001E870,
  &sub_1001E630,
  &sub_1001E5E0,
  &sub_1001E5E0,
  &sub_1001E630,
  &sub_1001E630,
  &sub_1001E5E0,
  &sub_1001E5E0,
  &sub_1001E630
}; // weak
int (__cdecl *off_10084170[8])(int, int) =
{
  &sub_1001E630,
  &sub_1001E5E0,
  &sub_1001E5E0,
  &sub_1001E630,
  &sub_1001E630,
  &sub_1001E5E0,
  &sub_1001E5E0,
  &sub_1001E630
}; // weak
int dword_10084198 = 0; // idb
__int16 word_10085478[] = { 108 }; // weak
__int16 word_1008547E[] = { 114 }; // weak
__int16 word_10085484[] = { 110 }; // weak
__int16 word_1008548A[] = { 112 }; // weak
__int16 word_10085490[] = { 116 }; // weak
__int16 word_10085498[] = { 118 }; // weak
__int16 word_10085508[] = { 134 }; // weak
__int16 word_10085578[] = { 150 }; // weak
__int16 word_100855E8[] = { 166 }; // weak
_UNKNOWN unk_10085654; // weak
__int16 word_10085656[] = { 188 }; // weak
_UNKNOWN unk_1008619C; // weak
char *off_10086E44[31] =
{
  "ON GROUND",
  "DEPARTURE",
  "MISSED APPR",
  "ENROUTE",
  "TERMINAL",
  "APPROACH",
  "INVALID",
  " ",
  "GSD_GS_C",
  "GSD_GP_C",
  "NCR_C",
  "ECR_C",
  "EDR_C",
  "FIT_FLAP_C",
  "FIT_GEAR_C",
  "PDA_C",
  "FIT_SPD_C",
  "FIT_TLT_C",
  "IOI_C",
  "ROC_C",
  "ITI_C",
  "RTC_C",
  "IOI_W",
  "ROC_W",
  "ITI_W",
  "RTC_W",
  "ECR_W",
  "EDR_W",
  "VCO_I",
  "INVALID",
  "NONE"
}; // weak
char *off_10086E60 = " "; // idb
char *off_10086EE0 = "GPWS FAIL (N/A)"; // weak
char *off_10086F00[11] =
{
  "VCO_I_500",
  "VCO_I_450",
  "VCO_I_400",
  "VCO_I_350",
  "VCO_I_300",
  "VCO_I_250",
  "VCO_I_200",
  "VCO_I_150",
  "VCO_I_100",
  "VCO_I_50",
  " "
}; // weak
char byte_100874B0[] = { ' ' }; // weak
char byte_100874B8[] = { ' ' }; // weak
_UNKNOWN unk_100874C0; // weak
char byte_100874E8[] = { '\0' }; // weak
char byte_100874E9[] = { '\0' }; // weak
char byte_100874EA[] = { '\xFF' }; // weak
char byte_100874EB[] = { '\xFF' }; // weak
char byte_100874EC[] = { '\xFF' }; // weak
_UNKNOWN unk_10087596; // weak
_UNKNOWN unk_10087A9C; // weak
_UNKNOWN unk_10087AF8; // weak
char *off_100880B0 = "/shr_mem/udb_intf.shr"; // weak
char byte_100892C8[] = { '\x05' }; // weak
char byte_100892CA[] = { '\x06' }; // weak
char byte_100892CC[] = { '\b' }; // weak
char byte_100892CD[] = { '\a' }; // weak
int dword_100892D0[] = { 9 }; // weak
int dword_10089308 = 1600085855; // weak
char aWgs84[21] = "WGS 84              "; // weak
char a006D0170[11] = "006-D0170-"; // weak
char *off_1008B7C8 = "006-D0170-"; // weak
int (__cdecl *(*off_1008B7CC)[2])(int, int) = &off_100B0100; // weak
int (__cdecl *off_1008FD40)(int, size_t, void *) = &sub_1004CE00; // weak
_UNKNOWN unk_1009037C; // weak
_UNKNOWN unk_10090948; // weak
int dword_1009094C[] = { 41107 }; // weak
int dword_10092094[] = { 88 }; // weak
__int16 word_10092544[] = { 836 }; // weak
char *off_10092564 = "/shr_mem/iop_a_pkt_intf.shr"; // weak
char *off_10092578 = "/shr_mem/iop_b_pkt_intf.shr"; // weak
char *off_1009258C = "/shr_mem/iop_c_pkt_intf.shr"; // weak
char *off_100925A0 = "/shr_mem/iop_d_dbg_pkt_intf.shr"; // weak
char *off_100925B4 = "/shr_mem/iop_d_pkt_intf.shr"; // weak
char *off_100925C8 = "/shr_mem/iop_m_pkt_intf.shr"; // weak
char *off_10092BF4 = "/shr_mem/tws_intf.shr"; // weak
char *off_10092C20 = "/shr_mem/nav_intf.shr"; // weak
int (*off_10093160[4])() = { &sub_1004F100, &sub_1004F0F0, &sub_10048020, &sub_1004F0F0 }; // weak
char byte_100A8D40[] = { '\0' }; // weak
_UNKNOWN unk_100AA338; // weak
char byte_100AA33C[] = { '\0' }; // weak
int (__cdecl *off_100AFB28[3])(char) = { &sub_1004FBA0, &sub_1004FAB0, &sub_1004FA70 }; // weak
int (__cdecl *off_100B0100[2])(int, int) = { &sub_10051890, &sub_100518F0 }; // weak
char *off_100B0128 = "/shr_mem/iop_fltr_data_intf.shr"; // weak
_UNKNOWN unk_100B01B4; // weak
__int16 word_100B01B6[] = { 565 }; // weak
_UNKNOWN unk_100B0F98; // weak
char *off_100B1348 = "failure listener"; // weak
_UNKNOWN unk_100B1FF0; // weak
int dword_100B1FF4[] = { 1312 }; // weak
_BYTE word_100B22A2[1362] =
{
  0,
  0,
  0,
  0,
  31,
  0,
  59,
  0,
  90,
  0,
  120,
  0,
  151,
  0,
  181,
  0,
  212,
  0,
  243,
  0,
  17,
  1,
  48,
  1,
  78,
  1,
  0,
  0,
  0,
  0,
  23,
  21,
  3,
  3,
  10,
  0,
  0,
  0,
  65,
  66,
  67,
  68,
  69,
  70,
  71,
  72,
  74,
  75,
  76,
  77,
  80,
  81,
  82,
  83,
  0,
  0,
  93,
  0,
  90,
  0,
  87,
  0,
  96,
  0,
  1,
  0,
  94,
  0,
  91,
  0,
  88,
  0,
  97,
  0,
  2,
  0,
  95,
  0,
  92,
  0,
  89,
  0,
  98,
  0,
  0,
  0,
  0,
  0,
  226,
  0,
  228,
  0,
  224,
  0,
  1,
  0,
  227,
  0,
  229,
  0,
  225,
  0,
  2,
  0,
  60,
  2,
  61,
  2,
  59,
  2,
  0,
  0,
  220,
  0,
  1,
  0,
  222,
  0,
  2,
  0,
  58,
  2,
  255,
  255,
  255,
  255,
  10,
  18,
  10,
  18,
  10,
  28,
  14,
  29,
  14,
  29,
  14,
  29,
  10,
  29,
  10,
  28,
  10,
  24,
  10,
  24,
  0,
  24,
  0,
  23,
  0,
  22,
  0,
  23,
  0,
  23,
  0,
  23,
  0,
  28,
  0,
  24,
  0,
  22,
  0,
  20,
  10,
  24,
  10,
  18,
  10,
  20,
  10,
  24,
  10,
  13,
  10,
  20,
  10,
  28,
  10,
  18,
  0,
  22,
  0,
  22,
  0,
  20,
  0,
  18,
  10,
  18,
  0,
  28,
  0,
  23,
  0,
  22,
  10,
  28,
  10,
  22,
  10,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  28,
  0,
  0,
  1,
  0,
  136,
  25,
  0,
  0,
  1,
  0,
  1,
  0,
  137,
  25,
  0,
  0,
  2,
  0,
  1,
  0,
  138,
  25,
  0,
  0,
  4,
  0,
  1,
  0,
  139,
  25,
  0,
  0,
  5,
  0,
  1,
  0,
  140,
  25,
  0,
  0,
  6,
  0,
  1,
  0,
  141,
  25,
  0,
  0,
  18,
  0,
  1,
  0,
  142,
  25,
  0,
  0,
  19,
  0,
  1,
  0,
  143,
  25,
  0,
  0,
  20,
  0,
  1,
  0,
  144,
  25,
  0,
  0,
  21,
  0,
  1,
  0,
  145,
  25,
  0,
  0,
  22,
  0,
  1,
  0,
  146,
  25,
  0,
  0,
  23,
  0,
  1,
  0,
  147,
  25,
  0,
  0,
  25,
  0,
  1,
  0,
  148,
  25,
  0,
  0,
  26,
  0,
  1,
  0,
  149,
  25,
  0,
  0,
  27,
  0,
  1,
  0,
  150,
  25,
  0,
  0,
  28,
  0,
  1,
  0,
  151,
  25,
  0,
  0,
  29,
  0,
  1,
  0,
  152,
  25,
  0,
  0,
  30,
  0,
  1,
  0,
  153,
  25,
  0,
  0,
  31,
  0,
  1,
  0,
  154,
  25,
  0,
  0,
  32,
  0,
  4,
  0,
  155,
  25,
  0,
  0,
  36,
  0,
  4,
  0,
  156,
  25,
  0,
  0,
  40,
  0,
  1,
  0,
  157,
  25,
  0,
  0,
  41,
  0,
  1,
  0,
  158,
  25,
  0,
  0,
  42,
  0,
  1,
  0,
  159,
  25,
  0,
  0,
  43,
  0,
  1,
  0,
  160,
  25,
  0,
  0,
  44,
  0,
  1,
  0,
  161,
  25,
  0,
  0,
  45,
  0,
  1,
  0,
  162,
  25,
  0,
  0,
  46,
  0,
  1,
  0,
  163,
  25,
  0,
  0,
  47,
  0,
  1,
  0,
  164,
  25,
  0,
  0,
  49,
  0,
  1,
  0,
  166,
  25,
  0,
  0,
  50,
  0,
  30,
  0,
  167,
  25,
  0,
  0,
  80,
  0,
  1,
  0,
  168,
  25,
  0,
  0,
  81,
  0,
  1,
  0,
  169,
  25,
  0,
  0,
  84,
  0,
  4,
  0,
  170,
  25,
  0,
  0,
  88,
  0,
  1,
  0,
  171,
  25,
  0,
  0,
  89,
  0,
  1,
  0,
  172,
  25,
  0,
  0,
  92,
  0,
  4,
  0,
  173,
  25,
  0,
  0,
  96,
  0,
  4,
  0,
  174,
  25,
  0,
  0,
  100,
  0,
  1,
  0,
  175,
  25,
  0,
  0,
  208,
  0,
  4,
  0,
  168,
  23,
  0,
  0,
  104,
  0,
  1,
  0,
  177,
  25,
  0,
  0,
  105,
  0,
  1,
  0,
  178,
  25,
  0,
  0,
  106,
  0,
  1,
  0,
  179,
  25,
  0,
  0,
  107,
  0,
  1,
  0,
  180,
  25,
  0,
  0,
  108,
  0,
  1,
  0,
  181,
  25,
  0,
  0,
  109,
  0,
  1,
  0,
  182,
  25,
  0,
  0,
  110,
  0,
  1,
  0,
  183,
  25,
  0,
  0,
  111,
  0,
  1,
  0,
  184,
  25,
  0,
  0,
  112,
  0,
  1,
  0,
  185,
  25,
  0,
  0,
  113,
  0,
  1,
  0,
  186,
  25,
  0,
  0,
  114,
  0,
  1,
  0,
  187,
  25,
  0,
  0,
  115,
  0,
  1,
  0,
  188,
  25,
  0,
  0,
  116,
  0,
  1,
  0,
  189,
  25,
  0,
  0,
  117,
  0,
  1,
  0,
  190,
  25,
  0,
  0,
  118,
  0,
  1,
  0,
  191,
  25,
  0,
  0,
  120,
  0,
  4,
  0,
  192,
  25,
  0,
  0,
  124,
  0,
  4,
  0,
  193,
  25,
  0,
  0,
  128,
  0,
  4,
  0,
  194,
  25,
  0,
  0,
  132,
  0,
  4,
  0,
  195,
  25,
  0,
  0,
  136,
  0,
  4,
  0,
  196,
  25,
  0,
  0,
  140,
  0,
  1,
  0,
  197,
  25,
  0,
  0,
  141,
  0,
  1,
  0,
  198,
  25,
  0,
  0,
  142,
  0,
  1,
  0,
  199,
  25,
  0,
  0,
  144,
  0,
  2,
  0,
  200,
  25,
  0,
  0,
  146,
  0,
  1,
  0,
  201,
  25,
  0,
  0,
  147,
  0,
  1,
  0,
  202,
  25,
  0,
  0,
  148,
  0,
  1,
  0,
  203,
  25,
  0,
  0,
  149,
  0,
  1,
  0,
  204,
  25,
  0,
  0,
  150,
  0,
  1,
  0,
  205,
  25,
  0,
  0,
  151,
  0,
  1,
  0,
  206,
  25,
  0,
  0,
  152,
  0,
  1,
  0,
  207,
  25,
  0,
  0,
  153,
  0,
  1,
  0,
  208,
  25,
  0,
  0,
  154,
  0,
  1,
  0,
  209,
  25,
  0,
  0,
  155,
  0,
  1,
  0,
  210,
  25,
  0,
  0,
  156,
  0,
  1,
  0,
  211,
  25,
  0,
  0,
  157,
  0,
  1,
  0,
  212,
  25,
  0,
  0,
  158,
  0,
  1,
  0,
  213,
  25,
  0,
  0,
  159,
  0,
  1,
  0,
  214,
  25,
  0,
  0,
  160,
  0,
  1,
  0,
  215,
  25,
  0,
  0,
  161,
  0,
  1,
  0,
  216,
  25,
  0,
  0,
  162,
  0,
  1,
  0,
  217,
  25,
  0,
  0,
  163,
  0,
  1,
  0,
  218,
  25,
  0,
  0,
  164,
  0,
  1,
  0,
  219,
  25,
  0,
  0,
  165,
  0,
  1,
  0,
  220,
  25,
  0,
  0,
  166,
  0,
  1,
  0,
  221,
  25,
  0,
  0,
  167,
  0,
  1,
  0,
  222,
  25,
  0,
  0,
  168,
  0,
  1,
  0,
  223,
  25,
  0,
  0,
  169,
  0,
  1,
  0,
  224,
  25,
  0,
  0,
  170,
  0,
  1,
  0,
  225,
  25,
  0,
  0,
  171,
  0,
  1,
  0,
  226,
  25,
  0,
  0,
  172,
  0,
  1,
  0,
  227,
  25,
  0,
  0,
  173,
  0,
  1,
  0,
  228,
  25,
  0,
  0,
  174,
  0,
  1,
  0,
  229,
  25,
  0,
  0,
  177,
  0,
  1,
  0,
  231,
  25,
  0,
  0,
  178,
  0,
  1,
  0,
  232,
  25,
  0,
  0,
  179,
  0,
  1,
  0,
  233,
  25,
  0,
  0,
  180,
  0,
  1,
  0,
  234,
  25,
  0,
  0,
  181,
  0,
  1,
  0,
  235,
  25,
  0,
  0,
  182,
  0,
  5,
  0,
  236,
  25,
  0,
  0,
  187,
  0,
  1,
  0,
  237,
  25,
  0,
  0,
  188,
  0,
  1,
  0,
  238,
  25,
  0,
  0,
  189,
  0,
  1,
  0,
  239,
  25,
  0,
  0,
  190,
  0,
  1,
  0,
  240,
  25,
  0,
  0,
  191,
  0,
  1,
  0,
  241,
  25,
  0,
  0,
  192,
  0,
  1,
  0,
  242,
  25,
  0,
  0,
  193,
  0,
  1,
  0,
  243,
  25,
  0,
  0,
  194,
  0,
  1,
  0,
  244,
  25,
  0,
  0,
  195,
  0,
  1,
  0,
  245,
  25,
  0,
  0,
  196,
  0,
  1,
  0,
  246,
  25,
  0,
  0,
  197,
  0,
  1,
  0,
  28,
  26,
  0,
  0,
  198,
  0,
  1,
  0,
  29,
  26,
  0,
  0,
  199,
  0,
  1,
  0,
  30,
  26,
  0,
  0,
  200,
  0,
  1,
  0,
  117,
  26,
  0,
  0,
  201,
  0,
  1,
  0,
  118,
  26,
  0,
  0,
  202,
  0,
  1,
  0,
  124,
  26,
  0,
  0,
  203,
  0,
  1,
  0,
  144,
  26,
  0,
  0,
  204,
  0,
  1,
  0,
  145,
  26,
  0,
  0,
  205,
  0,
  1,
  0,
  30,
  27,
  0,
  0,
  206,
  0,
  1,
  0,
  149,
  26,
  0,
  0,
  32,
  0,
  0,
  0,
  150,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  167,
  26,
  0,
  0,
  4,
  0,
  0,
  0,
  168,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  169,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  170,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  171,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  172,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  176,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  241,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  244,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  247,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  248,
  26,
  0,
  0,
  1,
  0,
  0,
  0,
  249,
  26,
  0,
  0,
  13,
  0,
  0,
  0,
  29,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  40,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  39,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  47,
  27,
  0,
  0,
  1,
  0,
  0,
  0,
  49,
  27,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  0,
  0
}; // idb
__int16 word_100B6A40[] = { 43 }; // weak
char byte_100B6A44[] = { '\x06' }; // weak
_UNKNOWN unk_100B7670; // weak
int dword_100B7674[] = { 6006 }; // weak
_UNKNOWN unk_100B93E0; // weak
char byte_100B93E1[] = { '\0' }; // weak
_UNKNOWN unk_100BA350; // weak
_UNKNOWN unk_100BA368; // weak
_UNKNOWN unk_100BA3B0; // weak
int dword_100BA3B4[] = { 6767 }; // weak
_UNKNOWN unk_100BA3C0; // weak
_UNKNOWN unk_100BA3D8; // weak
_UNKNOWN unk_100BA3F0; // weak
int dword_100BA3F4[] = { 6769 }; // weak
_UNKNOWN unk_100BA408; // weak
int dword_100BA40C[] = { 6093 }; // weak
_UNKNOWN unk_100BC3C0; // weak
void *off_100BC3C4 = &unk_100BC138; // weak
_UNKNOWN unk_100BC568; // weak
_UNKNOWN unk_100BC569; // weak
_UNKNOWN unk_100BE0E8; // weak
int dword_100BE0EC[] = { 0 }; // weak
_WORD dword_100BE5D0[512] =
{
  25542,
  42339,
  31992,
  33916,
  30702,
  39287,
  31734,
  36219,
  62207,
  3570,
  27606,
  48491,
  28638,
  45423,
  50577,
  21701,
  12384,
  20528,
  258,
  769,
  26574,
  43367,
  11094,
  32043,
  65255,
  6654,
  55221,
  25303,
  43853,
  59051,
  30444,
  39542,
  51855,
  17866,
  33311,
  40322,
  51593,
  16585,
  32250,
  34685,
  64239,
  5626,
  22962,
  60249,
  18318,
  51527,
  61691,
  3056,
  44353,
  60589,
  54451,
  26580,
  41567,
  64930,
  44869,
  60079,
  39971,
  49052,
  42067,
  63396,
  29412,
  38514,
  49307,
  23488,
  46965,
  49847,
  64993,
  7421,
  37693,
  44691,
  9804,
  27174,
  13932,
  23094,
  16254,
  16703,
  63477,
  759,
  52355,
  20428,
  13416,
  23604,
  42321,
  62629,
  58833,
  13541,
  61945,
  2289,
  29154,
  37745,
  55467,
  29656,
  12642,
  21297,
  5418,
  16149,
  1032,
  3076,
  51093,
  21191,
  9030,
  25891,
  50077,
  24259,
  6192,
  10264,
  38455,
  41366,
  1290,
  3845,
  39471,
  46490,
  1806,
  2311,
  4644,
  13842,
  32795,
  39808,
  58079,
  15842,
  60365,
  9963,
  10062,
  26919,
  45695,
  52658,
  30186,
  40821,
  2322,
  6921,
  33565,
  40579,
  11352,
  29740,
  6708,
  11802,
  6966,
  11547,
  28380,
  45678,
  23220,
  61018,
  41051,
  64416,
  21156,
  63058,
  15222,
  19771,
  54967,
  25046,
  45949,
  52915,
  10578,
  31529,
  58333,
  16099,
  12126,
  28975,
  33811,
  38788,
  21414,
  62803,
  53689,
  26833,
  0,
  0,
  60865,
  11501,
  8256,
  24608,
  64739,
  8188,
  45433,
  51377,
  23478,
  60763,
  27348,
  48746,
  52109,
  18123,
  48743,
  55742,
  14706,
  19257,
  19092,
  56906,
  19608,
  54348,
  22704,
  59480,
  53125,
  19151,
  53435,
  27600,
  61381,
  10991,
  43599,
  58794,
  64493,
  5883,
  17286,
  50499,
  19866,
  55117,
  13158,
  21811,
  34065,
  38021,
  17802,
  53061,
  63977,
  4345,
  516,
  1538,
  32766,
  33151,
  20640,
  61520,
  15480,
  17468,
  40741,
  47775,
  43083,
  58280,
  20898,
  62289,
  41821,
  65187,
  16512,
  49216,
  36613,
  35471,
  37439,
  44434,
  40225,
  48285,
  14448,
  18488,
  62961,
  1269,
  48227,
  57276,
  46711,
  49590,
  55983,
  30170,
  8514,
  25377,
  4128,
  12304,
  65509,
  6911,
  62461,
  3827,
  53951,
  28114,
  52609,
  19661,
  3096,
  5132,
  4902,
  13587,
  60611,
  12268,
  24510,
  57695,
  38709,
  41623,
  17544,
  52292,
  5934,
  14615,
  50323,
  22468,
  42837,
  62119,
  32508,
  33406,
  15738,
  18237,
  25800,
  44132,
  23994,
  59229,
  6450,
  11033,
  29670,
  38259,
  24768,
  41056,
  33049,
  39041,
  20382,
  53583,
  56483,
  32732,
  8772,
  26146,
  10836,
  32298,
  36923,
  43920,
  34827,
  33672,
  18060,
  51782,
  61127,
  10734,
  47211,
  54200,
  5160,
  15380,
  56999,
  31198,
  24252,
  57950,
  2838,
  7435,
  56237,
  30427,
  57563,
  15328,
  12900,
  22066,
  14964,
  20026,
  2580,
  7690,
  18834,
  56137,
  1548,
  2566,
  9288,
  27684,
  23736,
  58460,
  49823,
  24002,
  54205,
  28371,
  44099,
  61356,
  25284,
  42594,
  37177,
  43153,
  38193,
  42133,
  58579,
  14308,
  31218,
  35705,
  59349,
  13031,
  51339,
  17352,
  14190,
  22839,
  28122,
  46957,
  36097,
  35981,
  54705,
  25813,
  20124,
  53838,
  43337,
  57513,
  27864,
  46188,
  22188,
  64086,
  62707,
  2036,
  60111,
  9706,
  26058,
  44901,
  31476,
  36474,
  44615,
  59822,
  2064,
  6152,
  47727,
  54714,
  30960,
  34936,
  9546,
  28453,
  11868,
  29230,
  7224,
  9244,
  42583,
  61862,
  46195,
  51124,
  50839,
  20934,
  59595,
  9192,
  56737,
  31965,
  29928,
  40052,
  7998,
  8479,
  19350,
  56651,
  48481,
  56509,
  35597,
  34443,
  35343,
  34186,
  28896,
  36976,
  15996,
  16958,
  46449,
  50357,
  26316,
  43622,
  18576,
  55368,
  774,
  1283,
  63223,
  502,
  3612,
  4622,
  25026,
  41825,
  13674,
  24373,
  22446,
  63831,
  47465,
  53433,
  34327,
  37254,
  49561,
  22721,
  7482,
  10013,
  40487,
  47518,
  57817,
  14561,
  63723,
  5112,
  38955,
  45976,
  4386,
  13073,
  27090,
  47977,
  55721,
  28889,
  36359,
  35214,
  37939,
  42900,
  39725,
  46747,
  7740,
  8734,
  34581,
  37511,
  59849,
  8425,
  52871,
  18894,
  21930,
  65365,
  10320,
  30760,
  57253,
  31455,
  35843,
  36748,
  41305,
  63649,
  35081,
  32905,
  3354,
  5901,
  48997,
  55999,
  59095,
  12774,
  17028,
  50754,
  26832,
  47208,
  16770,
  49985,
  39209,
  45209,
  11610,
  30509,
  3870,
  4367,
  45179,
  52144,
  21672,
  64596,
  47981,
  54971,
  5676,
  14870
}; // idb
_WORD dword_100BE9D0[512] =
{
  50853,
  25443,
  63620,
  31868,
  61081,
  30583,
  63117,
  31611,
  65293,
  62194,
  54973,
  27499,
  57009,
  28527,
  37204,
  50629,
  24656,
  12336,
  515,
  257,
  52905,
  26471,
  22141,
  11051,
  59161,
  65278,
  46434,
  55255,
  19942,
  43947,
  60570,
  30326,
  36677,
  51914,
  8093,
  33410,
  35136,
  51657,
  64135,
  32125,
  61205,
  64250,
  45803,
  22873,
  36553,
  18247,
  64267,
  61680,
  16876,
  44461,
  45927,
  54484,
  24573,
  41634,
  17898,
  44975,
  9151,
  40092,
  21495,
  42148,
  58518,
  29298,
  39771,
  49344,
  30146,
  47031,
  57628,
  65021,
  15790,
  37779,
  19562,
  9766,
  27738,
  13878,
  32321,
  16191,
  62722,
  63479,
  33615,
  52428,
  26716,
  13364,
  20980,
  42405,
  53556,
  58853,
  63752,
  61937,
  58003,
  29041,
  43891,
  55512,
  25171,
  12593,
  10815,
  5397,
  2060,
  1028,
  38226,
  51143,
  18021,
  8995,
  40286,
  50115,
  12328,
  6168,
  14241,
  38550,
  2575,
  1285,
  12213,
  39578,
  3593,
  1799,
  9270,
  4626,
  7067,
  32896,
  57149,
  58082,
  52518,
  60395,
  20073,
  10023,
  32717,
  45746,
  60063,
  30069,
  4635,
  2313,
  7582,
  33667,
  22644,
  11308,
  13358,
  6682,
  13869,
  6939,
  56498,
  28270,
  46318,
  23130,
  23547,
  41120,
  42230,
  21074,
  30285,
  15163,
  46945,
  54998,
  32206,
  46003,
  21115,
  10537,
  56638,
  58339,
  24177,
  12079,
  5015,
  33924,
  42741,
  21331,
  47464,
  53713,
  0,
  0,
  49452,
  60909,
  16480,
  8224,
  58143,
  64764,
  31176,
  45489,
  46829,
  23387,
  54462,
  27242,
  36166,
  52171,
  26585,
  48830,
  29259,
  14649,
  38110,
  19018,
  39124,
  19532,
  45288,
  22616,
  34122,
  53199,
  47979,
  53456,
  50474,
  61423,
  20453,
  43690,
  60694,
  64507,
  34501,
  17219,
  39639,
  19789,
  26197,
  13107,
  4500,
  34181,
  35535,
  17733,
  59664,
  63993,
  1030,
  514,
  65153,
  32639,
  41200,
  20560,
  30788,
  15420,
  9658,
  40863,
  19427,
  43176,
  41715,
  20817,
  24062,
  41891,
  32960,
  16448,
  1418,
  36751,
  16301,
  37522,
  8636,
  40349,
  28744,
  14392,
  61700,
  62965,
  25567,
  48316,
  30657,
  46774,
  44917,
  56026,
  16995,
  8481,
  8240,
  4112,
  58650,
  65535,
  64782,
  62451,
  49005,
  53970,
  33100,
  52685,
  6164,
  3084,
  9781,
  4883,
  49967,
  60652,
  48865,
  24415,
  13730,
  38807,
  35020,
  17476,
  11833,
  5911,
  37719,
  50372,
  22002,
  42919,
  64642,
  32382,
  31303,
  15677,
  51372,
  25700,
  47847,
  23901,
  12843,
  6425,
  59029,
  29555,
  49312,
  24672,
  6552,
  33153,
  40657,
  20303,
  41855,
  56540,
  17510,
  8738,
  21630,
  10794,
  15275,
  37008,
  2947,
  34952,
  36042,
  17990,
  50985,
  61166,
  27603,
  47288,
  10300,
  5140,
  42873,
  57054,
  48354,
  24158,
  5661,
  2827,
  44406,
  56283,
  56123,
  57568,
  25686,
  12850,
  29774,
  14906,
  5150,
  2570,
  37595,
  18761,
  3082,
  1542,
  18540,
  9252,
  47332,
  23644,
  40797,
  49858,
  48494,
  54227,
  17391,
  44204,
  50342,
  25186,
  14760,
  37265,
  12708,
  38293,
  54071,
  58596,
  62091,
  31097,
  54578,
  59367,
  35651,
  51400,
  28249,
  14135,
  55991,
  28013,
  396,
  36237,
  45412,
  54741,
  40146,
  20046,
  18912,
  43433,
  55476,
  27756,
  44282,
  22102,
  62215,
  62708,
  53029,
  60138,
  51887,
  25957,
  62606,
  31354,
  18409,
  44718,
  4120,
  2056,
  28629,
  47802,
  61576,
  30840,
  19055,
  9509,
  23666,
  11822,
  14372,
  7196,
  22513,
  42662,
  29639,
  46260,
  38737,
  50886,
  52003,
  59624,
  41340,
  56797,
  59548,
  29812,
  15905,
  7967,
  38621,
  19275,
  25052,
  48573,
  3462,
  35723,
  3973,
  35466,
  57488,
  28784,
  31810,
  15934,
  29124,
  46517,
  52394,
  26214,
  37080,
  18504,
  1541,
  771,
  63233,
  63222,
  7186,
  3598,
  49827,
  24929,
  27231,
  13621,
  44793,
  22359,
  27088,
  47545,
  6033,
  34438,
  39256,
  49601,
  14887,
  7453,
  10169,
  40606,
  55608,
  57825,
  60179,
  63736,
  11187,
  39064,
  8755,
  4369,
  53947,
  26985,
  43376,
  55769,
  1929,
  36494,
  13223,
  38036,
  11702,
  39835,
  15394,
  7710,
  5522,
  34695,
  51488,
  59881,
  34633,
  52942,
  43775,
  21845,
  20600,
  10280,
  42362,
  57311,
  911,
  35980,
  23032,
  41377,
  2432,
  35209,
  6679,
  3341,
  26074,
  49087,
  55089,
  59110,
  33990,
  16962,
  53432,
  26728,
  33475,
  16705,
  10672,
  39321,
  23159,
  11565,
  7697,
  3855,
  31691,
  45232,
  43260,
  21588,
  28118,
  48059,
  11322,
  5654
}; // idb
_WORD dword_100BEDD0[512] =
{
  42339,
  25542,
  33916,
  31992,
  39287,
  30702,
  36219,
  31734,
  3570,
  62207,
  48491,
  27606,
  45423,
  28638,
  21701,
  50577,
  20528,
  12384,
  769,
  258,
  43367,
  26574,
  32043,
  11094,
  6654,
  65255,
  25303,
  55221,
  59051,
  43853,
  39542,
  30444,
  17866,
  51855,
  40322,
  33311,
  16585,
  51593,
  34685,
  32250,
  5626,
  64239,
  60249,
  22962,
  51527,
  18318,
  3056,
  61691,
  60589,
  44353,
  26580,
  54451,
  64930,
  41567,
  60079,
  44869,
  49052,
  39971,
  63396,
  42067,
  38514,
  29412,
  23488,
  49307,
  49847,
  46965,
  7421,
  64993,
  44691,
  37693,
  27174,
  9804,
  23094,
  13932,
  16703,
  16254,
  759,
  63477,
  20428,
  52355,
  23604,
  13416,
  62629,
  42321,
  13541,
  58833,
  2289,
  61945,
  37745,
  29154,
  29656,
  55467,
  21297,
  12642,
  16149,
  5418,
  3076,
  1032,
  21191,
  51093,
  25891,
  9030,
  24259,
  50077,
  10264,
  6192,
  41366,
  38455,
  3845,
  1290,
  46490,
  39471,
  2311,
  1806,
  13842,
  4644,
  39808,
  32795,
  15842,
  58079,
  9963,
  60365,
  26919,
  10062,
  52658,
  45695,
  40821,
  30186,
  6921,
  2322,
  40579,
  33565,
  29740,
  11352,
  11802,
  6708,
  11547,
  6966,
  45678,
  28380,
  61018,
  23220,
  64416,
  41051,
  63058,
  21156,
  19771,
  15222,
  25046,
  54967,
  52915,
  45949,
  31529,
  10578,
  16099,
  58333,
  28975,
  12126,
  38788,
  33811,
  62803,
  21414,
  26833,
  53689,
  0,
  0,
  11501,
  60865,
  24608,
  8256,
  8188,
  64739,
  51377,
  45433,
  60763,
  23478,
  48746,
  27348,
  18123,
  52109,
  55742,
  48743,
  19257,
  14706,
  56906,
  19092,
  54348,
  19608,
  59480,
  22704,
  19151,
  53125,
  27600,
  53435,
  10991,
  61381,
  58794,
  43599,
  5883,
  64493,
  50499,
  17286,
  55117,
  19866,
  21811,
  13158,
  38021,
  34065,
  53061,
  17802,
  4345,
  63977,
  1538,
  516,
  33151,
  32766,
  61520,
  20640,
  17468,
  15480,
  47775,
  40741,
  58280,
  43083,
  62289,
  20898,
  65187,
  41821,
  49216,
  16512,
  35471,
  36613,
  44434,
  37439,
  48285,
  40225,
  18488,
  14448,
  1269,
  62961,
  57276,
  48227,
  49590,
  46711,
  30170,
  55983,
  25377,
  8514,
  12304,
  4128,
  6911,
  65509,
  3827,
  62461,
  28114,
  53951,
  19661,
  52609,
  5132,
  3096,
  13587,
  4902,
  12268,
  60611,
  57695,
  24510,
  41623,
  38709,
  52292,
  17544,
  14615,
  5934,
  22468,
  50323,
  62119,
  42837,
  33406,
  32508,
  18237,
  15738,
  44132,
  25800,
  59229,
  23994,
  11033,
  6450,
  38259,
  29670,
  41056,
  24768,
  39041,
  33049,
  53583,
  20382,
  32732,
  56483,
  26146,
  8772,
  32298,
  10836,
  43920,
  36923,
  33672,
  34827,
  51782,
  18060,
  10734,
  61127,
  54200,
  47211,
  15380,
  5160,
  31198,
  56999,
  57950,
  24252,
  7435,
  2838,
  30427,
  56237,
  15328,
  57563,
  22066,
  12900,
  20026,
  14964,
  7690,
  2580,
  56137,
  18834,
  2566,
  1548,
  27684,
  9288,
  58460,
  23736,
  24002,
  49823,
  28371,
  54205,
  61356,
  44099,
  42594,
  25284,
  43153,
  37177,
  42133,
  38193,
  14308,
  58579,
  35705,
  31218,
  13031,
  59349,
  17352,
  51339,
  22839,
  14190,
  46957,
  28122,
  35981,
  36097,
  25813,
  54705,
  53838,
  20124,
  57513,
  43337,
  46188,
  27864,
  64086,
  22188,
  2036,
  62707,
  9706,
  60111,
  44901,
  26058,
  36474,
  31476,
  59822,
  44615,
  6152,
  2064,
  54714,
  47727,
  34936,
  30960,
  28453,
  9546,
  29230,
  11868,
  9244,
  7224,
  61862,
  42583,
  51124,
  46195,
  20934,
  50839,
  9192,
  59595,
  31965,
  56737,
  40052,
  29928,
  8479,
  7998,
  56651,
  19350,
  56509,
  48481,
  34443,
  35597,
  34186,
  35343,
  36976,
  28896,
  16958,
  15996,
  50357,
  46449,
  43622,
  26316,
  55368,
  18576,
  1283,
  774,
  502,
  63223,
  4622,
  3612,
  41825,
  25026,
  24373,
  13674,
  63831,
  22446,
  53433,
  47465,
  37254,
  34327,
  22721,
  49561,
  10013,
  7482,
  47518,
  40487,
  14561,
  57817,
  5112,
  63723,
  45976,
  38955,
  13073,
  4386,
  47977,
  27090,
  28889,
  55721,
  35214,
  36359,
  42900,
  37939,
  46747,
  39725,
  8734,
  7740,
  37511,
  34581,
  8425,
  59849,
  18894,
  52871,
  65365,
  21930,
  30760,
  10320,
  31455,
  57253,
  36748,
  35843,
  63649,
  41305,
  32905,
  35081,
  5901,
  3354,
  55999,
  48997,
  12774,
  59095,
  50754,
  17028,
  47208,
  26832,
  49985,
  16770,
  45209,
  39209,
  30509,
  11610,
  4367,
  3870,
  52144,
  45179,
  64596,
  21672,
  54971,
  47981,
  14870,
  5676
}; // idb
_WORD dword_100BF1D0[512] =
{
  25443,
  50853,
  31868,
  63620,
  30583,
  61081,
  31611,
  63117,
  62194,
  65293,
  27499,
  54973,
  28527,
  57009,
  50629,
  37204,
  12336,
  24656,
  257,
  515,
  26471,
  52905,
  11051,
  22141,
  65278,
  59161,
  55255,
  46434,
  43947,
  19942,
  30326,
  60570,
  51914,
  36677,
  33410,
  8093,
  51657,
  35136,
  32125,
  64135,
  64250,
  61205,
  22873,
  45803,
  18247,
  36553,
  61680,
  64267,
  44461,
  16876,
  54484,
  45927,
  41634,
  24573,
  44975,
  17898,
  40092,
  9151,
  42148,
  21495,
  29298,
  58518,
  49344,
  39771,
  47031,
  30146,
  65021,
  57628,
  37779,
  15790,
  9766,
  19562,
  13878,
  27738,
  16191,
  32321,
  63479,
  62722,
  52428,
  33615,
  13364,
  26716,
  42405,
  20980,
  58853,
  53556,
  61937,
  63752,
  29041,
  58003,
  55512,
  43891,
  12593,
  25171,
  5397,
  10815,
  1028,
  2060,
  51143,
  38226,
  8995,
  18021,
  50115,
  40286,
  6168,
  12328,
  38550,
  14241,
  1285,
  2575,
  39578,
  12213,
  1799,
  3593,
  4626,
  9270,
  32896,
  7067,
  58082,
  57149,
  60395,
  52518,
  10023,
  20073,
  45746,
  32717,
  30069,
  60063,
  2313,
  4635,
  33667,
  7582,
  11308,
  22644,
  6682,
  13358,
  6939,
  13869,
  28270,
  56498,
  23130,
  46318,
  41120,
  23547,
  21074,
  42230,
  15163,
  30285,
  54998,
  46945,
  46003,
  32206,
  10537,
  21115,
  58339,
  56638,
  12079,
  24177,
  33924,
  5015,
  21331,
  42741,
  53713,
  47464,
  0,
  0,
  60909,
  49452,
  8224,
  16480,
  64764,
  58143,
  45489,
  31176,
  23387,
  46829,
  27242,
  54462,
  52171,
  36166,
  48830,
  26585,
  14649,
  29259,
  19018,
  38110,
  19532,
  39124,
  22616,
  45288,
  53199,
  34122,
  53456,
  47979,
  61423,
  50474,
  43690,
  20453,
  64507,
  60694,
  17219,
  34501,
  19789,
  39639,
  13107,
  26197,
  34181,
  4500,
  17733,
  35535,
  63993,
  59664,
  514,
  1030,
  32639,
  65153,
  20560,
  41200,
  15420,
  30788,
  40863,
  9658,
  43176,
  19427,
  20817,
  41715,
  41891,
  24062,
  16448,
  32960,
  36751,
  1418,
  37522,
  16301,
  40349,
  8636,
  14392,
  28744,
  62965,
  61700,
  48316,
  25567,
  46774,
  30657,
  56026,
  44917,
  8481,
  16995,
  4112,
  8240,
  65535,
  58650,
  62451,
  64782,
  53970,
  49005,
  52685,
  33100,
  3084,
  6164,
  4883,
  9781,
  60652,
  49967,
  24415,
  48865,
  38807,
  13730,
  17476,
  35020,
  5911,
  11833,
  50372,
  37719,
  42919,
  22002,
  32382,
  64642,
  15677,
  31303,
  25700,
  51372,
  23901,
  47847,
  6425,
  12843,
  29555,
  59029,
  24672,
  49312,
  33153,
  6552,
  20303,
  40657,
  56540,
  41855,
  8738,
  17510,
  10794,
  21630,
  37008,
  15275,
  34952,
  2947,
  17990,
  36042,
  61166,
  50985,
  47288,
  27603,
  5140,
  10300,
  57054,
  42873,
  24158,
  48354,
  2827,
  5661,
  56283,
  44406,
  57568,
  56123,
  12850,
  25686,
  14906,
  29774,
  2570,
  5150,
  18761,
  37595,
  1542,
  3082,
  9252,
  18540,
  23644,
  47332,
  49858,
  40797,
  54227,
  48494,
  44204,
  17391,
  25186,
  50342,
  37265,
  14760,
  38293,
  12708,
  58596,
  54071,
  31097,
  62091,
  59367,
  54578,
  51400,
  35651,
  14135,
  28249,
  28013,
  55991,
  36237,
  396,
  54741,
  45412,
  20046,
  40146,
  43433,
  18912,
  27756,
  55476,
  22102,
  44282,
  62708,
  62215,
  60138,
  53029,
  25957,
  51887,
  31354,
  62606,
  44718,
  18409,
  2056,
  4120,
  47802,
  28629,
  30840,
  61576,
  9509,
  19055,
  11822,
  23666,
  7196,
  14372,
  42662,
  22513,
  46260,
  29639,
  50886,
  38737,
  59624,
  52003,
  56797,
  41340,
  29812,
  59548,
  7967,
  15905,
  19275,
  38621,
  48573,
  25052,
  35723,
  3462,
  35466,
  3973,
  28784,
  57488,
  15934,
  31810,
  46517,
  29124,
  26214,
  52394,
  18504,
  37080,
  771,
  1541,
  63222,
  63233,
  3598,
  7186,
  24929,
  49827,
  13621,
  27231,
  22359,
  44793,
  47545,
  27088,
  34438,
  6033,
  49601,
  39256,
  7453,
  14887,
  40606,
  10169,
  57825,
  55608,
  63736,
  60179,
  39064,
  11187,
  4369,
  8755,
  26985,
  53947,
  55769,
  43376,
  36494,
  1929,
  38036,
  13223,
  39835,
  11702,
  7710,
  15394,
  34695,
  5522,
  59881,
  51488,
  52942,
  34633,
  21845,
  43775,
  10280,
  20600,
  57311,
  42362,
  35980,
  911,
  41377,
  23032,
  35209,
  2432,
  3341,
  6679,
  49087,
  26074,
  59110,
  55089,
  16962,
  33990,
  26728,
  53432,
  16705,
  33475,
  39321,
  10672,
  11565,
  23159,
  3855,
  7697,
  45232,
  31691,
  21588,
  43260,
  48059,
  28118,
  5654,
  11322
}; // idb
int dword_100BF5D0[] = { 99 }; // weak
int dword_100BF9D0[] = { 25344 }; // weak
int dword_100BFDD0[] = { 6488064 }; // weak
int dword_100C01D0[] = { 1660944384 }; // weak
int dword_100C05F8[] = { 128 }; // weak
int dword_100C0608[] = { 0 }; // weak
int dword_100C0618[] = { 0 }; // weak
char byte_100C0689[] = { '\0' }; // weak
char byte_100C068A[] = { '\0' }; // weak
char byte_100C068B[] = { '\0' }; // weak
char byte_100C068C[] = { '\x10' }; // weak
int dword_100C06A0[] = { 0 }; // weak
_UNKNOWN unk_100C0718; // weak
_UNKNOWN unk_100C0B98; // weak
char byte_100C0C10[] = { '\0' }; // weak
char byte_100C0D10[] = { '\0' }; // weak
char byte_100C0E10[] = { '\0' }; // weak
int dword_100C0F10[] = { 0 }; // weak
int dword_100C0F88[] = { 0 }; // weak
int (__cdecl *off_100C1008)(int, int) = &sub_1005CD10; // weak
int dword_100C11F0[] = { 0 }; // weak
int dword_100C1238[] = { 16 }; // weak
_UNKNOWN unk_100C1288; // weak
_UNKNOWN unk_100C1308; // weak
_UNKNOWN unk_100C1388; // weak
_UNKNOWN unk_100C1400; // weak
_UNKNOWN unk_100C1478; // weak
_UNKNOWN unk_100C2478; // weak
_UNKNOWN unk_100C32E0; // weak
int dword_100C32E4[] = { 0 }; // weak
_UNKNOWN unk_100C32F8; // weak
int dword_100C32FC[] = { 0 }; // weak
_UNKNOWN unk_100C3320; // weak
int dword_100C3324[] = { 0 }; // weak
_UNKNOWN unk_100C3350; // weak
int dword_100C3354[] = { 0 }; // weak
__int16 word_100C4278[] = { 1565 }; // weak
__int16 word_100C427C[] = { 534 }; // weak
char byte_100C4280[] = { '\x04' }; // weak
__int16 word_100C4282[] = { 6512 }; // weak
int dword_100C4298[] = { 118000 }; // weak
int dword_100C5128 = 64; // weak
__int16 word_100C512C[] = { 6782 }; // weak
__int16 word_100C5130[] = { 128 }; // weak
_UNKNOWN unk_100C514C; // weak
_DWORD dword_100C5150[10] = { 64, 24, 62, 18, 65, 27525120, 27394467, 27721729, 27591078, 0 }; // idb
char *off_100C6FF0 = "/shr_mem/iop_gtx_intf.shr"; // weak
int dword_100C7034[] = { 6829 }; // weak
__int16 word_100C806A[] = { 233 }; // weak
int dword_100C8070[] = { 6201 }; // weak
__int16 word_100CAC20[] = { 114 }; // weak
__int16 word_100CAD30[] = { 551 }; // weak
char byte_100CDAE2[] = { '\x04' }; // weak
char byte_100CDAE7[] = { '\a' }; // weak
char byte_100D33EC[] = { '\0' }; // weak
char byte_100D3410[] = { '\b' }; // weak
char byte_100D3430[] = { '\x02' }; // weak
__int16 word_100D3658[] = { 0 }; // weak
__int16 word_100D3858[] = { 0 }; // weak
int dword_100D3A58[] = { 0 }; // weak
int dword_100D3E58[] = { 0 }; // weak
_UNKNOWN unk_100E1E20; // weak
int dword_100E1E24[] = { 3535 }; // weak
_UNKNOWN unk_100E1E58; // weak
int dword_100E1E5C[] = { 6813 }; // weak
_UNKNOWN unk_100E1E90; // weak
int dword_100E1E94[] = { 9036 }; // weak
_UNKNOWN unk_100E1EC8; // weak
int dword_100E1ECC[] = { 6763 }; // weak
_UNKNOWN unk_100E1F60; // weak
_UNKNOWN unk_100E1F68; // weak
_UNKNOWN unk_100E3340; // weak
int dword_100E3FC0 = 1024; // weak
int dword_100E3FC4 = 4294966273; // weak
int dword_100E3FC8 = 53; // weak
int dword_100E3FCC = 11; // weak
int dword_100E3FD0 = 64; // weak
int dword_100E3FD4 = 1023; // weak
int dword_100E3FD8 = 128; // weak
int dword_100E3FDC = 4294967169; // weak
int dword_100E3FE0 = 24; // weak
int dword_100E3FE4 = 8; // weak
int dword_100E3FE8 = 32; // weak
int dword_100E3FEC = 127; // weak
void *off_100E42B0 = &unk_10505780; // weak
_UNKNOWN unk_100E42C0; // weak
_UNKNOWN unk_100E4320; // weak
char byte_100E4530 = '\x03'; // weak
_UNKNOWN unk_100E4780; // weak
int dword_100E4980 = 0; // weak
char byte_100E4984 = '\0'; // weak
char byte_100E4985 = '\0'; // weak
char byte_100E4986 = '\0'; // weak
int dword_100E4988 = 0; // weak
int dword_100E498C = 0; // weak
int dword_100E4990 = 0; // weak
int dword_100E4994 = 0; // weak
int dword_100E4998 = 0; // weak
int dword_100E499C = 0; // weak
int dword_100E49A0 = 0; // weak
float flt_100E49A4 =  0.0; // weak
int dword_100E49A8 = 0; // weak
float flt_100E49AC =  0.0; // weak
int dword_100E49B0 = 0; // weak
int dword_100E49B4 = 0; // weak
char byte_100E49B8[48] =
{
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0'
}; // idb
int dword_100E49E8 = 0; // weak
_UNKNOWN unk_100E49F0; // weak
char byte_100E49F1[] = { '\0' }; // weak
char byte_100E49F2[] = { '\0' }; // weak
char byte_100E49F3[] = { '\0' }; // weak
char byte_100E49F4[] = { '\0' }; // weak
char byte_100E49F5[] = { '\0' }; // weak
char byte_100E49F6[] = { '\0' }; // weak
char byte_100E49F7[13] = { '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0', '\0' }; // idb
int dword_100E4A04[] = { 0 }; // weak
_UNKNOWN unk_100E4A08; // weak
__int16 word_100E4A10[] = { 0 }; // weak
char byte_100E6610[]; // weak
char byte_100E6611[]; // weak
char byte_100E6612[]; // weak
char byte_100E6613[]; // weak
char byte_100E6614[]; // weak
char byte_100E6615[]; // weak
int dword_100E6618[]; // weak
_UNKNOWN unk_100E661C; // weak
int dword_100E6640[]; // weak
int dword_100E6644[]; // weak
int dword_100E6648[]; // weak
int dword_100E664C[]; // weak
char byte_100E6679[]; // weak
_UNKNOWN unk_100FAE30; // weak
__int16 word_100FB2E0; // weak
char byte_100FB2F5; // weak
_UNKNOWN unk_100FB324; // weak
_UNKNOWN unk_100FB328; // weak
int dword_100FB334; // weak
_UNKNOWN unk_100FB338; // weak
_UNKNOWN unk_100FCF58; // weak
_UNKNOWN unk_10100158; // weak
_UNKNOWN unk_10100160; // weak
char byte_10100319; // weak
int dword_1010031C; // weak
int dword_10100320; // weak
int dword_10100324; // weak
int dword_10100328; // weak
int dword_1010032C; // idb
int dword_10100330; // weak
_UNKNOWN unk_10100360; // weak
_UNKNOWN unk_10108E90; // weak
char byte_1010D9A8; // weak
char byte_1010D9A9; // weak
_DWORD dword_10120198[16]; // idb
int dword_101201D8[]; // weak
int dword_10120218; // weak
int dword_10120220[]; // weak
char byte_10120260; // weak
char byte_10120261; // weak
char byte_10120268; // weak
float flt_10120270[]; // weak
int dword_10120274[]; // weak
__int16 word_10120390; // weak
__int16 word_10125804; // weak
__int16 word_10125808; // weak
__int16 word_1012580C; // weak
int dword_10125810; // weak
void (__cdecl *dword_10125818[8])(_DWORD, _DWORD, _DWORD); // idb
_UNKNOWN unk_10125838; // weak
int dword_1012AB38; // weak
int dword_1012AB3C; // weak
int dword_1012AB40; // weak
int dword_1012AB44; // weak
char byte_1012AB48; // weak
_UNKNOWN unk_1012AB50; // weak
_UNKNOWN unk_1012AB51; // weak
_UNKNOWN unk_1012AB67; // weak
_UNKNOWN unk_1012AB68; // weak
_UNKNOWN unk_1012AB69; // weak
_UNKNOWN unk_1012AB6A; // weak
_UNKNOWN unk_1012AB6C; // weak
_UNKNOWN unk_1012AB70; // weak
_UNKNOWN unk_1012AB74; // weak
_UNKNOWN unk_1012AB94; // weak
_UNKNOWN unk_1012ABB4; // weak
_UNKNOWN unk_1012ABD4; // weak
_UNKNOWN unk_1012ABF4; // weak
_UNKNOWN unk_1012AC14; // weak
_UNKNOWN unk_1012AC34; // weak
_UNKNOWN unk_1012AC54; // weak
_UNKNOWN unk_1012AC74; // weak
_UNKNOWN unk_1012AC94; // weak
_UNKNOWN unk_1012ACB4; // weak
_UNKNOWN unk_1012ACD4; // weak
_UNKNOWN unk_1012ACF4; // weak
_UNKNOWN unk_1012AD14; // weak
_UNKNOWN unk_1012AD34; // weak
_UNKNOWN unk_1012AD54; // weak
_UNKNOWN unk_1012AD74; // weak
_UNKNOWN unk_1012AD94; // weak
_UNKNOWN unk_1012ADB4; // weak
_UNKNOWN unk_1012ADD4; // weak
_UNKNOWN unk_1012ADF4; // weak
_UNKNOWN unk_1012AE14; // weak
_UNKNOWN unk_1012AE34; // weak
_UNKNOWN unk_1012AE54; // weak
_UNKNOWN unk_1012AE74; // weak
_UNKNOWN unk_1012AE94; // weak
_UNKNOWN unk_1012AEB4; // weak
_UNKNOWN unk_1012AED4; // weak
_UNKNOWN unk_1012AEF4; // weak
_UNKNOWN unk_1012AEF8; // weak
_UNKNOWN unk_1012AEFC; // weak
_UNKNOWN unk_1012AF00; // weak
_UNKNOWN unk_1012AF04; // weak
_UNKNOWN unk_1012AF08; // weak
_UNKNOWN unk_1012AF0C; // weak
_UNKNOWN unk_1012AF2C; // weak
_UNKNOWN unk_1012AF4C; // weak
_UNKNOWN unk_1012AF6C; // weak
_UNKNOWN unk_1012AF8C; // weak
_UNKNOWN unk_1012AFAC; // weak
_UNKNOWN unk_1012AFCC; // weak
_UNKNOWN unk_1012AFEC; // weak
_UNKNOWN unk_1012B00C; // weak
_UNKNOWN unk_1012B00D; // weak
_UNKNOWN unk_1012B00E; // weak
_UNKNOWN unk_1012B060; // weak
_UNKNOWN unk_1012B080; // weak
_UNKNOWN unk_1012B0A0; // weak
_UNKNOWN unk_1012B0A4; // weak
_UNKNOWN unk_1012B0A8; // weak
_UNKNOWN unk_1012B0AC; // weak
_UNKNOWN unk_1012B0CC; // weak
_UNKNOWN unk_1012B0EC; // weak
_UNKNOWN unk_1012B10C; // weak
_UNKNOWN unk_1012B12C; // weak
_UNKNOWN unk_1012B14C; // weak
_UNKNOWN unk_1012B16C; // weak
_UNKNOWN unk_1012B18C; // weak
_UNKNOWN unk_1012B1AC; // weak
_UNKNOWN unk_1012B1CC; // weak
_UNKNOWN unk_1012B214; // weak
_UNKNOWN unk_1012B25C; // weak
_UNKNOWN unk_1012B2A4; // weak
_UNKNOWN unk_1012B2EC; // weak
_UNKNOWN unk_1012B334; // weak
_UNKNOWN unk_1012B37C; // weak
_UNKNOWN unk_1012B3C4; // weak
_UNKNOWN unk_1012B40C; // weak
_UNKNOWN unk_1012B454; // weak
_UNKNOWN unk_1012B49C; // weak
_UNKNOWN unk_1012B4E4; // weak
_UNKNOWN unk_1012B52C; // weak
_UNKNOWN unk_1012B574; // weak
_UNKNOWN unk_1012B5BC; // weak
_UNKNOWN unk_1012B604; // weak
_UNKNOWN unk_1012B64C; // weak
_UNKNOWN unk_1012B694; // weak
_UNKNOWN unk_1012B6DC; // weak
_UNKNOWN unk_1012B724; // weak
_UNKNOWN unk_1012B76C; // weak
_UNKNOWN unk_1012B7B4; // weak
_UNKNOWN unk_1012B7FC; // weak
_UNKNOWN unk_1012B844; // weak
_UNKNOWN unk_1012B88C; // weak
_UNKNOWN unk_1012B8D4; // weak
_UNKNOWN unk_1012B91C; // weak
_UNKNOWN unk_1012B964; // weak
_UNKNOWN unk_1012B9AC; // weak
_UNKNOWN unk_1012B9F4; // weak
_UNKNOWN unk_1012BA3C; // weak
_UNKNOWN unk_1012BA54; // weak
_UNKNOWN unk_1012BA74; // weak
_UNKNOWN unk_1012BA94; // weak
_UNKNOWN unk_1012BA98; // weak
_UNKNOWN unk_1012BB3C; // weak
_UNKNOWN unk_1012BBE0; // weak
_UNKNOWN unk_1012BC84; // weak
_UNKNOWN unk_1012BD28; // weak
_UNKNOWN unk_1012BDCC; // weak
_UNKNOWN unk_1012BE70; // weak
_UNKNOWN unk_1012BF14; // weak
_UNKNOWN unk_1012BFB8; // weak
_UNKNOWN unk_1012C05C; // weak
_UNKNOWN unk_1012C100; // weak
_UNKNOWN unk_1012C1A4; // weak
_UNKNOWN unk_1012C248; // weak
_UNKNOWN unk_1012C2EC; // weak
_UNKNOWN unk_1012C390; // weak
_UNKNOWN unk_1012C434; // weak
_UNKNOWN unk_1012C4D8; // weak
_UNKNOWN unk_1012C57C; // weak
_UNKNOWN unk_1012C620; // weak
_UNKNOWN unk_1012C6C4; // weak
_UNKNOWN unk_1012C768; // weak
_UNKNOWN unk_1012C80C; // weak
_UNKNOWN unk_1012C8B0; // weak
_UNKNOWN unk_1012C954; // weak
_UNKNOWN unk_1012C9F8; // weak
_UNKNOWN unk_1012CA9C; // weak
_UNKNOWN unk_1012CB40; // weak
_UNKNOWN unk_1012CBE4; // weak
_UNKNOWN unk_1012CC88; // weak
_UNKNOWN unk_1012CD2C; // weak
_UNKNOWN unk_1012CDD0; // weak
_UNKNOWN unk_1012CE74; // weak
_UNKNOWN unk_1012CF18; // weak
_UNKNOWN unk_1012CFBC; // weak
_UNKNOWN unk_1012D060; // weak
_UNKNOWN unk_1012D104; // weak
_UNKNOWN unk_1012D1A8; // weak
_UNKNOWN unk_1012D24C; // weak
_UNKNOWN unk_1012D2F0; // weak
_UNKNOWN unk_1012D394; // weak
_UNKNOWN unk_1012D438; // weak
_UNKNOWN unk_1012D4DC; // weak
_UNKNOWN unk_1012D580; // weak
_UNKNOWN unk_1012D624; // weak
_UNKNOWN unk_1012D6C8; // weak
_UNKNOWN unk_1012D76C; // weak
_UNKNOWN unk_1012D810; // weak
_UNKNOWN unk_1012D8B4; // weak
_UNKNOWN unk_1012D958; // weak
_UNKNOWN unk_1012D9FC; // weak
_UNKNOWN unk_1012DAA0; // weak
_UNKNOWN unk_1012DB44; // weak
_UNKNOWN unk_1012DBE8; // weak
_UNKNOWN unk_1012DC8C; // weak
_UNKNOWN unk_1012DD30; // weak
_UNKNOWN unk_1012DDD4; // weak
_UNKNOWN unk_1012DE78; // weak
_UNKNOWN unk_1012DF1C; // weak
_UNKNOWN unk_1012DFC0; // weak
_UNKNOWN unk_1012E064; // weak
_UNKNOWN unk_1012E108; // weak
_UNKNOWN unk_1012E1AC; // weak
_UNKNOWN unk_1012E250; // weak
_UNKNOWN unk_1012E2F4; // weak
_UNKNOWN unk_1012E398; // weak
_UNKNOWN unk_1012E43C; // weak
_UNKNOWN unk_1012E4E0; // weak
_UNKNOWN unk_1012E584; // weak
_UNKNOWN unk_1012E628; // weak
_UNKNOWN unk_1012E6CC; // weak
_UNKNOWN unk_1012E770; // weak
_UNKNOWN unk_1012E814; // weak
_UNKNOWN unk_1012E8B8; // weak
_UNKNOWN unk_1012E95C; // weak
_UNKNOWN unk_1012EA00; // weak
_UNKNOWN unk_1012EAA4; // weak
_UNKNOWN unk_1012EB48; // weak
_UNKNOWN unk_1012EBEC; // weak
_UNKNOWN unk_1012EC90; // weak
_UNKNOWN unk_1012ED34; // weak
_UNKNOWN unk_1012EDD8; // weak
_UNKNOWN unk_1012EE7C; // weak
_UNKNOWN unk_1012EF20; // weak
_UNKNOWN unk_1012EFC4; // weak
_UNKNOWN unk_1012F068; // weak
_UNKNOWN unk_1012F10C; // weak
_UNKNOWN unk_1012F1B0; // weak
_UNKNOWN unk_1012F254; // weak
_UNKNOWN unk_1012F2F8; // weak
_UNKNOWN unk_1012F39C; // weak
_UNKNOWN unk_1012F440; // weak
_UNKNOWN unk_1012F4E4; // weak
_UNKNOWN unk_1012F588; // weak
_UNKNOWN unk_1012F62C; // weak
_UNKNOWN unk_1012F6D0; // weak
_UNKNOWN unk_1012F774; // weak
_UNKNOWN unk_1012F818; // weak
_UNKNOWN unk_1012F8BC; // weak
_UNKNOWN unk_1012F960; // weak
_UNKNOWN unk_1012FA04; // weak
_UNKNOWN unk_1012FAA8; // weak
_UNKNOWN unk_1012FAC8; // weak
_UNKNOWN unk_1012FAE8; // weak
_UNKNOWN unk_1012FB08; // weak
_UNKNOWN unk_1012FB28; // weak
_UNKNOWN unk_1012FB50; // weak
_UNKNOWN unk_1012FB6C; // weak
_UNKNOWN unk_1012FB88; // weak
_UNKNOWN unk_1012FBA4; // weak
_UNKNOWN unk_1012FBC0; // weak
_UNKNOWN unk_1012FBDC; // weak
_UNKNOWN unk_1012FBF8; // weak
_UNKNOWN unk_1012FC14; // weak
_UNKNOWN unk_1012FC30; // weak
_UNKNOWN unk_1012FC4C; // weak
_UNKNOWN unk_1012FC68; // weak
_UNKNOWN unk_1012FC84; // weak
_UNKNOWN unk_1012FCA0; // weak
_UNKNOWN unk_1012FCBC; // weak
_UNKNOWN unk_1012FCD8; // weak
_UNKNOWN unk_1012FCF4; // weak
_UNKNOWN unk_1012FD10; // weak
_UNKNOWN unk_1012FD2C; // weak
_UNKNOWN unk_1012FD48; // weak
_UNKNOWN unk_1012FD64; // weak
_UNKNOWN unk_1012FD80; // weak
_UNKNOWN unk_1012FD9C; // weak
_UNKNOWN unk_1012FDB8; // weak
_UNKNOWN unk_1012FDD4; // weak
_UNKNOWN unk_1012FDF0; // weak
_UNKNOWN unk_1012FE0C; // weak
_UNKNOWN unk_1012FE28; // weak
_UNKNOWN unk_1012FE44; // weak
_UNKNOWN unk_1012FE60; // weak
_UNKNOWN unk_1012FE7C; // weak
_UNKNOWN unk_1012FE98; // weak
_UNKNOWN unk_1012FEB4; // weak
_UNKNOWN unk_1012FED0; // weak
_UNKNOWN unk_1012FEEC; // weak
_UNKNOWN unk_1012FF08; // weak
_UNKNOWN unk_1012FF24; // weak
_UNKNOWN unk_1012FF40; // weak
_UNKNOWN unk_1012FF5C; // weak
_UNKNOWN unk_1012FF78; // weak
_UNKNOWN unk_1012FF94; // weak
_UNKNOWN unk_1012FFB0; // weak
_UNKNOWN unk_1012FFCC; // weak
_UNKNOWN unk_1012FFE8; // weak
_UNKNOWN unk_10130004; // weak
_UNKNOWN unk_10130020; // weak
_UNKNOWN unk_1013003C; // weak
_UNKNOWN unk_10130058; // weak
_UNKNOWN unk_10130074; // weak
_UNKNOWN unk_10130090; // weak
_UNKNOWN unk_101300AC; // weak
_UNKNOWN unk_101300C8; // weak
_UNKNOWN unk_101300E4; // weak
_UNKNOWN unk_10130100; // weak
_UNKNOWN unk_1013011C; // weak
_UNKNOWN unk_10130138; // weak
_UNKNOWN unk_10130154; // weak
_UNKNOWN unk_10130170; // weak
_UNKNOWN unk_1013018C; // weak
_UNKNOWN unk_101301A8; // weak
_UNKNOWN unk_101301C4; // weak
_UNKNOWN unk_101301E0; // weak
_UNKNOWN unk_101301FC; // weak
_UNKNOWN unk_10130218; // weak
_UNKNOWN unk_10130234; // weak
_UNKNOWN unk_10130250; // weak
_UNKNOWN unk_1013026C; // weak
_UNKNOWN unk_10130288; // weak
_UNKNOWN unk_101302A4; // weak
_UNKNOWN unk_101302C0; // weak
_UNKNOWN unk_101302DC; // weak
_UNKNOWN unk_101302F8; // weak
_UNKNOWN unk_10130314; // weak
_UNKNOWN unk_10130330; // weak
_UNKNOWN unk_1013034C; // weak
_UNKNOWN unk_10130368; // weak
_UNKNOWN unk_10130384; // weak
_UNKNOWN unk_101303A0; // weak
_UNKNOWN unk_101303BC; // weak
_UNKNOWN unk_101303D8; // weak
_UNKNOWN unk_101303F4; // weak
_UNKNOWN unk_10130410; // weak
_UNKNOWN unk_1013042C; // weak
_UNKNOWN unk_10130448; // weak
_UNKNOWN unk_10130464; // weak
_UNKNOWN unk_10130480; // weak
_UNKNOWN unk_1013049C; // weak
_UNKNOWN unk_101304B8; // weak
_UNKNOWN unk_101304D4; // weak
_UNKNOWN unk_101304F0; // weak
_UNKNOWN unk_1013050C; // weak
_UNKNOWN unk_10130528; // weak
_UNKNOWN unk_10130544; // weak
_UNKNOWN unk_10130560; // weak
_UNKNOWN unk_1013057C; // weak
_UNKNOWN unk_10130598; // weak
_UNKNOWN unk_101305B4; // weak
_UNKNOWN unk_101305D0; // weak
_UNKNOWN unk_101305EC; // weak
_UNKNOWN unk_10130608; // weak
_UNKNOWN unk_10130624; // weak
_UNKNOWN unk_10130640; // weak
_UNKNOWN unk_10130644; // weak
_UNKNOWN unk_10130648; // weak
_UNKNOWN unk_1013064C; // weak
_UNKNOWN unk_10130650; // weak
_UNKNOWN unk_10130654; // weak
_UNKNOWN unk_10130658; // weak
_UNKNOWN unk_1013065C; // weak
_UNKNOWN unk_10130660; // weak
_UNKNOWN unk_10130664; // weak
_UNKNOWN unk_10130668; // weak
_UNKNOWN unk_1013066C; // weak
_UNKNOWN unk_10130670; // weak
_UNKNOWN unk_10130674; // weak
_UNKNOWN unk_10130678; // weak
_UNKNOWN unk_1013067C; // weak
_UNKNOWN unk_10130680; // weak
_UNKNOWN unk_10130684; // weak
_UNKNOWN unk_10130688; // weak
_UNKNOWN unk_1013076C; // weak
_UNKNOWN unk_1013192C; // weak
_UNKNOWN unk_10131930; // weak
_UNKNOWN unk_10131958; // weak
_UNKNOWN unk_10131980; // weak
_UNKNOWN unk_101319C0; // weak
_UNKNOWN unk_10131A40; // weak
_UNKNOWN unk_10131A44; // weak
_UNKNOWN unk_10131A48; // weak
_UNKNOWN unk_10131A4A; // weak
_UNKNOWN unk_10131A4C; // weak
_UNKNOWN unk_10131A4D; // weak
_UNKNOWN unk_10131A4E; // weak
_UNKNOWN unk_10131A50; // weak
_UNKNOWN unk_10131AB4; // weak
_UNKNOWN unk_10131ABC; // weak
_UNKNOWN unk_10131AC4; // weak
_UNKNOWN unk_10131ACC; // weak
_UNKNOWN unk_10131AD4; // weak
_UNKNOWN unk_10131ADC; // weak
_UNKNOWN unk_10131AE4; // weak
_UNKNOWN unk_10131AEC; // weak
_UNKNOWN unk_10131AF4; // weak
_UNKNOWN unk_10131AFC; // weak
_UNKNOWN unk_10131B04; // weak
_UNKNOWN unk_10131B0C; // weak
_UNKNOWN unk_10131B14; // weak
_UNKNOWN unk_10131B1C; // weak
_UNKNOWN unk_10131B24; // weak
_UNKNOWN unk_10131B2C; // weak
_UNKNOWN unk_10131B34; // weak
_UNKNOWN unk_10131B3C; // weak
_UNKNOWN unk_10131B44; // weak
_UNKNOWN unk_10131B4C; // weak
_UNKNOWN unk_10131B54; // weak
_UNKNOWN unk_10131B5C; // weak
_UNKNOWN unk_10131B64; // weak
_UNKNOWN unk_10131B6C; // weak
_UNKNOWN unk_10131B74; // weak
_UNKNOWN unk_10131B7C; // weak
_UNKNOWN unk_10131B84; // weak
_UNKNOWN unk_10131B8C; // weak
_UNKNOWN unk_10131B94; // weak
_UNKNOWN unk_10131B9C; // weak
_UNKNOWN unk_10131BA4; // weak
_UNKNOWN unk_10131BAC; // weak
_UNKNOWN unk_10131BB4; // weak
_UNKNOWN unk_10131BBC; // weak
_UNKNOWN unk_10131BC4; // weak
_UNKNOWN unk_10131BCC; // weak
_UNKNOWN unk_10131BD4; // weak
_UNKNOWN unk_10131BDC; // weak
_UNKNOWN unk_10131BE4; // weak
_UNKNOWN unk_10131BEC; // weak
_UNKNOWN unk_10131DD4; // weak
_UNKNOWN unk_10131DE4; // weak
_UNKNOWN unk_10131DF4; // weak
_UNKNOWN unk_10131E04; // weak
_UNKNOWN unk_10131E05; // weak
_UNKNOWN unk_10131E06; // weak
_UNKNOWN unk_10131E08; // weak
_UNKNOWN unk_10131E0C; // weak
_UNKNOWN unk_10131EB4; // weak
_UNKNOWN unk_10131EB8; // weak
_UNKNOWN unk_10131EBC; // weak
_UNKNOWN unk_10131F0C; // weak
_UNKNOWN unk_10131F10; // weak
_UNKNOWN unk_10131F14; // weak
_UNKNOWN unk_10132004; // weak
_UNKNOWN unk_101320F4; // weak
_UNKNOWN unk_101320F8; // weak
_UNKNOWN unk_10132100; // weak
_UNKNOWN unk_10132108; // weak
_UNKNOWN unk_10132110; // weak
_UNKNOWN unk_10132118; // weak
_UNKNOWN unk_10132120; // weak
_UNKNOWN unk_10132128; // weak
_UNKNOWN unk_10132130; // weak
_UNKNOWN unk_10132138; // weak
_UNKNOWN unk_10132140; // weak
_UNKNOWN unk_10132148; // weak
_UNKNOWN unk_10132150; // weak
_UNKNOWN unk_10132154; // weak
_UNKNOWN unk_10132158; // weak
_UNKNOWN unk_1013215C; // weak
_UNKNOWN unk_101321B0; // weak
_UNKNOWN unk_10132204; // weak
_UNKNOWN unk_1013220C; // weak
_UNKNOWN unk_10132210; // weak
_UNKNOWN unk_10132214; // weak
_UNKNOWN unk_10132218; // weak
_UNKNOWN unk_1013221C; // weak
_UNKNOWN unk_10132424; // weak
_UNKNOWN unk_10132584; // weak
_UNKNOWN unk_1013259C; // weak
_UNKNOWN unk_101325B4; // weak
_UNKNOWN unk_101325BE; // weak
_UNKNOWN unk_101325C0; // weak
_UNKNOWN unk_101325D0; // weak
_UNKNOWN unk_101325D4; // weak
_UNKNOWN unk_101325D8; // weak
_UNKNOWN unk_101325DC; // weak
_UNKNOWN unk_101325DD; // weak
_UNKNOWN unk_101325E0; // weak
_UNKNOWN unk_10132630; // weak
_UNKNOWN unk_10132634; // weak
_UNKNOWN unk_10132635; // weak
_UNKNOWN unk_10132636; // weak
_UNKNOWN unk_10132637; // weak
_UNKNOWN unk_1013264B; // weak
_UNKNOWN unk_1013264C; // weak
_UNKNOWN unk_1013264D; // weak
_UNKNOWN unk_1013264E; // weak
_UNKNOWN unk_10132650; // weak
_UNKNOWN unk_101326F0; // weak
_UNKNOWN unk_10132740; // weak
_UNKNOWN unk_10132744; // weak
_UNKNOWN unk_10132748; // weak
_UNKNOWN unk_1013274C; // weak
_UNKNOWN unk_10132750; // weak
_UNKNOWN unk_10132754; // weak
_UNKNOWN unk_10132758; // weak
_UNKNOWN unk_1013275C; // weak
_UNKNOWN unk_10132760; // weak
_UNKNOWN unk_10132764; // weak
_UNKNOWN unk_10132768; // weak
_UNKNOWN unk_1013276C; // weak
_UNKNOWN unk_10132770; // weak
_UNKNOWN unk_101328B0; // weak
_UNKNOWN unk_101328BC; // weak
_UNKNOWN unk_10132904; // weak
_UNKNOWN unk_10132905; // weak
_UNKNOWN unk_10132930; // weak
_UNKNOWN unk_10132960; // weak
_UNKNOWN unk_10132988; // weak
_UNKNOWN unk_1013298C; // weak
_UNKNOWN unk_10132990; // weak
_UNKNOWN unk_10132994; // weak
_UNKNOWN unk_101329C4; // weak
_UNKNOWN unk_101329C5; // weak
_UNKNOWN unk_101329C6; // weak
_UNKNOWN unk_101329C8; // weak
_UNKNOWN unk_101329CC; // weak
_UNKNOWN unk_101329D0; // weak
_UNKNOWN unk_101329D4; // weak
_UNKNOWN unk_101329D8; // weak
_UNKNOWN unk_101329DC; // weak
_UNKNOWN unk_101329E0; // weak
_UNKNOWN unk_101329E4; // weak
_UNKNOWN unk_101329E8; // weak
_UNKNOWN unk_101329EC; // weak
_UNKNOWN unk_10132D4C; // weak
_UNKNOWN unk_10132D50; // weak
_UNKNOWN unk_10132D5A; // weak
_UNKNOWN unk_10132D64; // weak
char byte_10134520; // weak
char byte_10134521; // weak
char byte_10134522; // weak
char byte_10134523; // weak
_UNKNOWN unk_10134540; // weak
_UNKNOWN unk_10134544; // weak
int dword_1013468C; // weak
int dword_10134690; // weak
int dword_10134694; // weak
int dword_10134698; // weak
int dword_1013469C; // weak
int dword_101346A0; // weak
int dword_101346A4; // weak
int dword_101346A8; // weak
int dword_101346AC; // weak
int dword_101346B0; // weak
int dword_101346B4; // weak
int dword_101346B8; // weak
int dword_101346BC; // weak
int dword_101346C0; // weak
_UNKNOWN unk_10141E10; // weak
_UNKNOWN unk_10141E14; // weak
int dword_10141E18; // weak
int dword_10142098; // weak
_UNKNOWN unk_101420A0; // weak
char byte_10142378[]; // weak
char byte_10142379[]; // weak
_UNKNOWN unk_101435E0; // weak
int dword_10144F90; // weak
int dword_10144F94; // weak
int dword_10144F98; // weak
int dword_10144F9C; // weak
int dword_10144FA0; // weak
_UNKNOWN unk_10144FA8; // weak
int dword_101464E8; // weak
char byte_101464F0[]; // weak
char byte_101464F4[]; // weak
char byte_101464F5[]; // weak
int dword_101464FC[]; // weak
int dword_10146504[]; // weak
int dword_10146538[]; // weak
int dword_1014653C; // weak
int dword_10146540; // weak
int dword_10146544; // weak
int dword_10146548; // weak
int dword_1014654C[]; // weak
int dword_10146550; // weak
int dword_10146554; // weak
int dword_10146558; // weak
int dword_1014655C; // weak
_UNKNOWN unk_10146560; // weak
char byte_101A64C8[254]; // idb
char byte_101A65C6[]; // weak
char byte_101A65C7[]; // weak
int dword_101AB0B8[]; // weak
int dword_101AB0CC[]; // weak
int dword_101AD1B0[]; // weak
int dword_101AD1C4[]; // weak
int dword_101AE7B8[]; // weak
int dword_101AE7CC[]; // weak
char byte_101B8F10[]; // weak
char byte_101B8F11[]; // weak
_UNKNOWN unk_101B8FB0; // weak
int dword_101B9280[]; // weak
int dword_101B9284[]; // weak
_UNKNOWN unk_101B97A0; // weak
_UNKNOWN unk_101BC6A8; // weak
_UNKNOWN unk_101BCBA8; // weak
_UNKNOWN unk_101BCC50; // weak
char byte_101BCC70; // weak
char byte_101BCC71; // weak
char byte_101BCC72; // weak
char byte_101BCC73; // weak
_UNKNOWN unk_101BCC78; // weak
_UNKNOWN unk_101BCC98; // weak
_UNKNOWN unk_101BDD40; // weak
int dword_101BDD48; // weak
int dword_101BDD4C; // weak
int dword_101BDD50; // weak
int dword_101BDD54; // weak
int dword_101BDD60; // weak
_UNKNOWN unk_101BDD70; // weak
char byte_101C0F70; // weak
_UNKNOWN unk_101C0F80; // weak
_UNKNOWN unk_101C0FAC; // weak
_UNKNOWN unk_101C802C; // weak
int dword_101C807C; // weak
_UNKNOWN unk_101C8080; // weak
_UNKNOWN unk_101C80AC; // weak
int dword_101C9CCC; // weak
int dword_101C9CD0; // weak
int dword_101C9CD4; // weak
int dword_101C9CD8; // weak
int dword_101C9CDC; // weak
int dword_101C9CE0; // weak
int dword_101C9CE4; // weak
int dword_101C9CE8; // weak
int dword_101C9CEC; // weak
int dword_101C9CF0; // weak
int dword_101C9CF4; // weak
int dword_101C9CF8; // weak
int dword_101C9CFC; // weak
int dword_101C9D00; // weak
int dword_101C9D04; // weak
int dword_101C9D08; // weak
int dword_101C9D0C; // weak
int dword_101C9D10; // weak
int dword_101C9D14; // weak
int dword_101C9D18; // weak
char byte_101C9D38; // weak
int dword_101C9D54; // weak
int dword_101CA084; // weak
int dword_101CA090; // weak
int dword_101CA1F0; // weak
int dword_101CA6B0; // weak
int dword_101CA6BC; // weak
int dword_101CA6C8; // weak
int dword_101CA6CC; // weak
int dword_101CA6D0; // weak
int dword_101CA6EC; // weak
int dword_101CA6F0; // weak
int dword_101CA6F4; // weak
int dword_101CA6F8; // weak
int dword_101CA6FC; // weak
int dword_101CA7D8; // weak
char byte_101CA7E0[]; // weak
int dword_101D27E0[]; // weak
int dword_101D27E4; // weak
char byte_101D27E8; // weak
int dword_101D2800[]; // weak
__int16 word_101D2840; // weak
__int16 word_101D2842; // weak
int dword_101D2844[]; // weak
int dword_101D2848; // weak
int dword_101D284C; // weak
int dword_101D2850; // weak
int dword_101D2854; // weak
int dword_101D2858; // weak
int dword_101D285C; // weak
int dword_101D2860; // weak
int dword_101D2864; // weak
__int16 word_101D2868; // weak
__int16 word_101D286A; // weak
__int16 word_101D286C; // weak
__int16 word_101D286E; // weak
__int16 word_101D2870; // weak
__int16 word_101D2872; // weak
__int16 word_101D2874; // weak
__int16 word_101D2876; // weak
__int16 word_101D2878; // weak
_UNKNOWN unk_101D2880; // weak
_UNKNOWN unk_101D4950; // weak
_UNKNOWN unk_101D6A20; // weak
_UNKNOWN unk_101D8AF0; // weak
_UNKNOWN unk_101DABC0; // weak
_UNKNOWN unk_101DCC90; // weak
_UNKNOWN unk_101DED60; // weak
_UNKNOWN unk_101E0E30; // weak
_UNKNOWN unk_101E2F00; // weak
int dword_101E4FE0[]; // weak
int dword_101E4FF4; // weak
char byte_101E4FF9; // weak
__int16 word_101E4FFC; // weak
_UNKNOWN unk_101E5000; // weak
char byte_101E5E62[]; // weak
char byte_101E6F5E[]; // weak
int dword_101EFA30; // weak
char byte_101EFA35; // weak
int dword_101EFA38; // weak
int dword_10282A40; // weak
_UNKNOWN unk_10325476; // weak
int dword_104CEA60; // weak
int dword_104CEA64; // weak
int dword_10504E80; // weak
int dword_10504E84; // weak
int dword_10504E90; // weak
int dword_10504E94; // weak
int dword_10504E98; // weak
int dword_10504E9C; // weak
int dword_10504EA0; // weak
int dword_10504EA4; // weak
char byte_10504EA8; // weak
int dword_10504EAC; // weak
char byte_10504EB0; // weak
int dword_10504EB4; // weak
char byte_10504EB8; // weak
int dword_10504EBC; // weak
int dword_10504EC0; // weak
int dword_10504EC4; // weak
int dword_10504EC8; // weak
int dword_10504ED0; // weak
int dword_10504ED4; // weak
int dword_10504ED8; // weak
int dword_10504EDC; // weak
void *dword_10504EE0; // idb
_UNKNOWN unk_10504EE4; // weak
int dword_10504EE8; // weak
char byte_10504EEC; // weak
int dword_10504F00[]; // weak
__int16 word_10504F04[]; // weak
int dword_10504F08[]; // weak
int dword_10504F0C; // weak
int dword_10504F10; // weak
int dword_10504F14; // weak
int dword_10504F18; // weak
__int16 word_10504F1C; // weak
int dword_10504F20; // weak
int dword_10504F24; // weak
__int16 word_10504F28; // weak
int dword_10504F68; // weak
int dword_10504F84; // weak
__int16 word_10504F88; // weak
int dword_10504F90; // weak
__int16 word_10504F94; // weak
int dword_10504FC8; // weak
__int16 word_10504FF4; // weak
int dword_10504FF8; // weak
__int16 word_1050503C; // weak
int dword_10505040; // weak
int dword_105050E8; // weak
int dword_105050F4; // weak
int dword_10505104; // weak
__int16 word_10505108; // weak
int dword_10505110; // weak
__int16 word_10505114; // weak
int dword_1050511C; // weak
__int16 word_10505120; // weak
int dword_10505224; // weak
int dword_1050529C; // weak
__int16 word_105052A0; // weak
int dword_10505344; // weak
__int16 word_10505348; // weak
char byte_10505608; // weak
char byte_10505609; // weak
char byte_1050560A; // weak
__int16 word_10505620[]; // weak
__int16 word_10505622; // weak
__int16 word_10505624; // weak
__int16 word_10505626; // weak
__int16 word_10505628; // weak
__int16 word_1050562A; // weak
__int16 word_1050562C; // weak
__int16 word_1050562E; // weak
__int16 word_10505630; // weak
__int16 word_10505632; // weak
__int16 word_10505634; // weak
__int16 word_10505636; // weak
__int16 word_10505638; // weak
__int16 word_1050563A; // weak
__int16 word_10505644; // weak
__int16 word_10505646; // weak
__int16 word_10505648; // weak
__int16 word_1050564A; // weak
__int16 word_1050564C; // weak
__int16 word_10505652; // weak
__int16 word_10505654; // weak
__int16 word_10505656; // weak
__int16 word_10505658; // weak
__int16 word_1050565A; // weak
__int16 word_1050565C; // weak
__int16 word_1050565E; // weak
__int16 word_10505660; // weak
__int16 word_10505662; // weak
__int16 word_10505664; // weak
__int16 word_10505666; // weak
__int16 word_10505668; // weak
__int16 word_1050566A; // weak
__int16 word_1050566C; // weak
__int16 word_1050566E; // weak
__int16 word_10505670; // weak
__int16 word_10505672; // weak
__int16 word_10505674; // weak
__int16 word_10505676; // weak
__int16 word_10505678; // weak
__int16 word_1050567A; // weak
__int16 word_1050567C; // weak
__int16 word_1050567E; // weak
__int16 word_10505680; // weak
__int16 word_10505682; // weak
__int16 word_10505684; // weak
__int16 word_10505686; // weak
__int16 word_10505688; // weak
__int16 word_1050568A; // weak
__int16 word_1050568C; // weak
__int16 word_105056B0; // weak
char byte_1050574C; // weak
char byte_1050574D; // weak
int dword_10505750; // weak
char byte_10505754; // weak
char byte_10505755; // weak
__int16 word_10505756; // weak
__int16 word_10505758; // weak
char byte_1050575A; // weak
__int16 word_1050575C; // weak
char byte_1050575E; // weak
void *dword_10505760; // idb
int dword_10506780; // weak
int dword_1050679C; // weak
UINT uNumber; // idb
int dword_105067C0[]; // weak
int dword_105068C0; // weak
int dword_105068DC; // weak


//----- (10001000) --------------------------------------------------------
void __cdecl sub_10001000(int a1, char *a2)
{
  __int16 v2; // [sp+0h] [bp-14h]@2
  int v3; // [sp+4h] [bp-10h]@2
  int v4; // [sp+8h] [bp-Ch]@2
  __int16 *v5; // [sp+Ch] [bp-8h]@2
  char *v6; // [sp+10h] [bp-4h]@2

  if ( *(_BYTE *)a1 == 2 )
  {
    v5 = &v2;
    v2 = 8;
    v3 = 3116;
    v4 = 24;
    v6 = a2;
    sub_1003A410(a1 + 4, (int)&v4);
  }
  else
  {
    sub_1003C2F0(*(_DWORD *)(a1 + 4), a2);
  }
}

//----- (10001060) --------------------------------------------------------
char __cdecl sub_10001060(int a1, int a2)
{
  char result; // al@2
  int v3; // [sp+0h] [bp-Ch]@2
  int v4; // [sp+4h] [bp-8h]@2
  int v5; // [sp+8h] [bp-4h]@2

  if ( *(_BYTE *)a1 == 2 )
  {
    v3 = 10;
    v4 = 0;
    v5 = a2;
    result = sub_1003A410(a1 + 4, (int)&v3);
  }
  else
  {
    result = sub_1003C8C0(*(_DWORD *)(a1 + 4), a2);
  }
  return result;
}

//----- (100010B0) --------------------------------------------------------
char __cdecl sub_100010B0(int a1, __int16 a2, __int16 *a3)
{
  int v3; // ST04_4@2
  signed int v4; // eax@2
  __int16 *v5; // ecx@2
  char result; // al@5
  int v7; // [sp+0h] [bp-Ch]@2
  int v8; // [sp+4h] [bp-8h]@2
  int *v9; // [sp+8h] [bp-4h]@2

  if ( *(_BYTE *)a1 == 2 )
  {
    v3 = a1 + 4;
    a1 = 0;
    v7 = 11;
    v8 = 0;
    v9 = &a1;
    v4 = sub_1003A410(v3, (int)&v7);
    v5 = a3;
    *a3 = 6;
    if ( !v4 )
    {
      if ( a1 )
        *v5 = *(_WORD *)a1;
    }
    result = 0;
  }
  else
  {
    result = sub_1003A920(*(_DWORD *)(a1 + 4), a2, a3);
  }
  return result;
}

//----- (10001140) --------------------------------------------------------
char __cdecl sub_10001140(char a1)
{
  return sub_10019B30(a1, -122);
}

//----- (10001160) --------------------------------------------------------
char sub_10001160()
{
  sub_10019AE0();
  return sub_10001140(0);
}

//----- (10001170) --------------------------------------------------------
char __cdecl sub_10001170(unsigned int a1)
{
  char result; // al@4
  __int64 v2; // [sp-4h] [bp-10h]@0
  char v3; // [sp+4h] [bp-8h]@2
  char v4; // [sp+5h] [bp-7h]@2

  LODWORD(v2) = a1;
  switch ( sub_1003C3E0(v2) )
  {
    case 0:
      sub_1003D610(a1, (int)&v3);
      if ( v4 == 1 )
      {
        result = 5;
      }
      else if ( v4 == 2 )
      {
        result = 6;
      }
      else
      {
        result = 4;
      }
      break;
    case 4:
    case 8:
    case 0xB:
      result = 8;
      break;
    case 1:
    case 5:
    case 6:
      result = 0;
      break;
    case 2:
    case 7:
      result = 1;
      break;
    default:
      result = 2;
      break;
  }
  return result;
}

//----- (10001210) --------------------------------------------------------
signed int __usercall sub_10001210@<eax>(int a1@<esi>)
{
  int v1; // ebx@1
  int v2; // ecx@1
  int v3; // ebp@1
  signed int result; // eax@6

  v1 = *(_DWORD *)(a1 + 3580) - 2000160;
  dword_10504E98 = *(_DWORD *)(a1 + 3580) - 2000160;
  dword_10504E90 = *(_DWORD *)(a1 + 3572) + 2000160;
  v2 = *(_DWORD *)(a1 + 3584);
  v3 = 2000160i64 * *(_DWORD *)(a1 + 3632) / *(_DWORD *)(a1 + 3628);
  if ( (unsigned __int64)(2 * v3 + (signed __int64)(*(_DWORD *)(a1 + 3576) - v2)) <= 0xFFFFFFFF )
  {
    dword_10504E9C = v2 - v3;
    dword_10504E94 = v3 + *(_DWORD *)(a1 + 3576);
  }
  else
  {
    dword_10504E9C = *(_DWORD *)(a1 + 3584);
    dword_10504E94 = *(_DWORD *)(a1 + 3584) - 1;
  }
  if ( v1 <= -1073741823 )
    dword_10504E98 = -1073741823;
  result = 0x3FFFFFFF;
  if ( dword_10504E90 >= 0x3FFFFFFF )
    dword_10504E90 = 0x3FFFFFFF;
  return result;
}
// 10504E90: using guessed type int dword_10504E90;
// 10504E94: using guessed type int dword_10504E94;
// 10504E98: using guessed type int dword_10504E98;
// 10504E9C: using guessed type int dword_10504E9C;

//----- (100012F0) --------------------------------------------------------
int __usercall sub_100012F0@<eax>(__int16 a1@<ax>, int a2)
{
  int v2; // eax@1
  int result; // eax@2

  v2 = a2 * a1;
  if ( v2 <= 0 )
    result = (signed __int16)(((((unsigned __int64)(v2 - 0x8000) >> 32) & 0xFFFF) + v2 - 0x8000) >> 16);
  else
    result = (signed __int16)(((((unsigned __int64)(v2 + 0x8000) >> 32) & 0xFFFF) + v2 + 0x8000) >> 16);
  return result;
}

//----- (10001330) --------------------------------------------------------
char __cdecl sub_10001330(int a1, int a2, char a3)
{
  int v3; // ecx@0
  unsigned int v4; // edi@1
  int v5; // esi@1
  signed int v6; // eax@1
  int v7; // esi@12
  signed int v8; // ebx@12
  double v9; // st7@16
  char v10; // dl@16
  unsigned __int8 v11; // cl@16
  int v12; // eax@17
  int v13; // edi@18
  unsigned __int8 v14; // al@18
  int v15; // edi@22
  char v16; // cl@24
  signed int v17; // ebx@25
  char *v18; // edi@26
  signed int v19; // eax@31
  int v20; // esi@31
  signed int v21; // eax@33
  int v22; // ecx@35
  int v23; // ebx@38
  signed int v24; // eax@38
  __int16 v25; // ax@38
  int v26; // ST3C_4@38
  __int16 v27; // ax@38
  __int16 v28; // si@38
  int v29; // ST38_4@38
  int v30; // ecx@38
  __int16 v31; // ax@38
  int v32; // esi@38
  __int16 v33; // bx@38
  __int16 v34; // cx@38
  __int16 v35; // dx@38
  __int16 v36; // ax@38
  __int16 v37; // cx@38
  __int16 v38; // dx@38
  __int16 v39; // cx@38
  __int16 v40; // cx@43
  __int16 v41; // ax@43
  __int16 v42; // ST5C_2@43
  __int16 v43; // ax@43
  __int16 v44; // ST60_2@43
  __int16 v45; // ST64_2@43
  __int16 v46; // ax@43
  __int16 v47; // ax@43
  __int16 v48; // cx@43
  __int16 v49; // dx@43
  __int16 v50; // cx@43
  __int16 v51; // ST1C_2@43
  int v52; // ecx@46
  __int16 v53; // si@46
  int v54; // eax@46
  __int16 v55; // ST5C_2@46
  __int16 v56; // si@46
  __int16 v57; // bx@46
  __int16 v58; // ax@46
  __int16 v59; // cx@46
  __int16 v60; // ST60_2@46
  __int16 v61; // ax@46
  __int16 v62; // cx@46
  __int16 v63; // ax@46
  __int16 v64; // ST1C_2@46
  char *v65; // eax@48
  int v66; // esi@51
  char v67; // al@54
  char v68; // al@60
  char *v69; // edi@69
  int v70; // esi@73
  signed __int16 v71; // ax@74
  __int16 v72; // bx@78
  int v73; // eax@78
  __int16 v74; // cx@78
  int v75; // eax@78
  __int16 v76; // dx@78
  __int16 v77; // cx@78
  double v78; // ST34_8@78
  unsigned __int8 v79; // al@78
  __int16 v80; // cx@81
  __int16 v81; // dx@81
  __int16 v82; // cx@81
  __int16 v83; // ax@81
  __int16 v84; // ST64_2@81
  __int16 v85; // ax@81
  __int16 v86; // cx@81
  __int16 v87; // dx@81
  __int16 v88; // cx@81
  __int16 v89; // ax@81
  unsigned int v90; // eax@81
  signed __int16 v91; // ax@83
  unsigned __int16 v92; // ST68_2@85
  __int16 v93; // ST64_2@85
  __int16 v94; // ST5A_2@85
  __int16 v95; // ax@85
  __int16 v96; // cx@85
  __int16 v97; // dx@85
  __int16 v98; // cx@85
  __int16 v99; // ax@85
  signed __int16 v100; // ax@88
  unsigned __int16 v101; // ST68_2@90
  __int16 v102; // ST64_2@90
  __int16 v103; // ST5A_2@90
  __int16 v104; // cx@90
  __int16 v105; // ax@90
  __int16 v106; // cx@90
  __int16 v107; // ax@90
  int v108; // esi@93
  __int16 v109; // ax@93
  int v110; // ST3C_4@93
  __int16 v111; // cx@93
  __int16 v112; // ax@93
  int v113; // ST34_4@93
  __int16 v114; // cx@93
  char *v115; // eax@93
  int v116; // ecx@96
  __int16 v117; // si@96
  __int16 v118; // ax@96
  __int16 v119; // bx@96
  int v120; // ST3C_4@96
  __int16 v121; // cx@96
  __int16 v122; // ax@96
  __int16 v123; // si@96
  int v124; // ST38_4@96
  __int16 v125; // ax@96
  int v126; // ST34_4@96
  __int16 v127; // cx@96
  char *v128; // eax@96
  int v129; // edi@98
  signed int v130; // eax@99
  bool v131; // sf@101
  char *v132; // esi@102
  __int16 v133; // bx@104
  __int16 v134; // cx@104
  __int16 v135; // ax@104
  signed __int16 v136; // ax@105
  int v137; // ecx@106
  __int16 v138; // cx@107
  __int16 v139; // ax@107
  signed __int16 v140; // ax@108
  int v141; // ecx@109
  int v143; // [sp+20h] [bp-4E4h]@25
  int v144; // [sp+20h] [bp-4E4h]@68
  signed int v145; // [sp+20h] [bp-4E4h]@101
  unsigned int i; // [sp+24h] [bp-4E0h]@26
  signed __int16 v147; // [sp+24h] [bp-4E0h]@78
  __int16 v148; // [sp+24h] [bp-4E0h]@107
  signed __int16 v149; // [sp+26h] [bp-4DEh]@78
  unsigned int v150; // [sp+28h] [bp-4DCh]@69
  unsigned __int8 v151; // [sp+2Ch] [bp-4D8h]@91
  int v152; // [sp+2Ch] [bp-4D8h]@99
  __int16 v153; // [sp+30h] [bp-4D4h]@78
  int v154; // [sp+34h] [bp-4D0h]@0
  unsigned __int16 v155; // [sp+34h] [bp-4D0h]@78
  int v156; // [sp+38h] [bp-4CCh]@105
  int v157; // [sp+3Ch] [bp-4C8h]@43
  char v158; // [sp+42h] [bp-4C2h]@12
  char v159; // [sp+43h] [bp-4C1h]@1
  int v160; // [sp+44h] [bp-4C0h]@38
  int v161; // [sp+4Ch] [bp-4B8h]@1
  int v162; // [sp+50h] [bp-4B4h]@12
  __int16 v163; // [sp+54h] [bp-4B0h]@93
  __int16 v164; // [sp+56h] [bp-4AEh]@93
  __int16 v165; // [sp+58h] [bp-4ACh]@93
  __int16 v166; // [sp+5Ah] [bp-4AAh]@93
  int v167; // [sp+5Ch] [bp-4A8h]@38
  int v168; // [sp+60h] [bp-4A4h]@38
  __int16 v169; // [sp+64h] [bp-4A0h]@38
  __int16 v170; // [sp+66h] [bp-49Eh]@38
  int v171; // [sp+68h] [bp-49Ch]@38
  int v172; // [sp+6Ch] [bp-498h]@38
  int v173; // [sp+70h] [bp-494h]@43
  __int16 v174; // [sp+74h] [bp-490h]@43
  __int16 v175; // [sp+76h] [bp-48Eh]@43
  __int16 v176; // [sp+78h] [bp-48Ch]@43
  __int16 v177; // [sp+7Ah] [bp-48Ah]@43
  __int16 v178; // [sp+7Ch] [bp-488h]@43
  __int16 v179; // [sp+7Eh] [bp-486h]@43
  int v180; // [sp+80h] [bp-484h]@43
  int v181; // [sp+84h] [bp-480h]@31
  int v182; // [sp+88h] [bp-47Ch]@31
  float v183; // [sp+8Ch] [bp-478h]@52
  int v184; // [sp+90h] [bp-474h]@31
  int v185; // [sp+94h] [bp-470h]@31
  double v186; // [sp+98h] [bp-46Ch]@52
  double v187; // [sp+A0h] [bp-464h]@52
  int v188; // [sp+A8h] [bp-45Ch]@106
  char v189; // [sp+ACh] [bp-458h]@106
  int v190; // [sp+AEh] [bp-456h]@106
  char v191; // [sp+B2h] [bp-452h]@106
  int v192; // [sp+B4h] [bp-450h]@106
  char v193; // [sp+B8h] [bp-44Ch]@106
  __int16 v194; // [sp+BCh] [bp-448h]@106
  __int16 v195; // [sp+BEh] [bp-446h]@106
  char *v196; // [sp+C8h] [bp-43Ch]@106
  char v197; // [sp+CCh] [bp-438h]@106
  char v198; // [sp+CDh] [bp-437h]@106
  char v199; // [sp+D0h] [bp-434h]@52
  int v200; // [sp+D4h] [bp-430h]@81
  int v201; // [sp+D8h] [bp-42Ch]@52
  float v202; // [sp+E0h] [bp-424h]@31
  int v203; // [sp+E4h] [bp-420h]@31
  int v204; // [sp+F4h] [bp-410h]@31
  int v205; // [sp+104h] [bp-400h]@12
  int v206; // [sp+108h] [bp-3FCh]@12
  int v207; // [sp+10Ch] [bp-3F8h]@12
  int v208; // [sp+110h] [bp-3F4h]@12
  int v209; // [sp+114h] [bp-3F0h]@12
  int v210; // [sp+118h] [bp-3ECh]@12
  int v211; // [sp+11Ch] [bp-3E8h]@12
  int v212; // [sp+120h] [bp-3E4h]@12
  int v213; // [sp+124h] [bp-3E0h]@12
  int v214; // [sp+128h] [bp-3DCh]@12
  int v215; // [sp+12Ch] [bp-3D8h]@12
  int v216; // [sp+130h] [bp-3D4h]@12
  int v217; // [sp+134h] [bp-3D0h]@12
  int v218; // [sp+138h] [bp-3CCh]@12
  int v219; // [sp+13Ch] [bp-3C8h]@12
  int v220; // [sp+140h] [bp-3C4h]@12
  int v221; // [sp+144h] [bp-3C0h]@12
  int v222; // [sp+148h] [bp-3BCh]@12
  int v223; // [sp+14Ch] [bp-3B8h]@12
  int v224; // [sp+150h] [bp-3B4h]@12
  char v225; // [sp+154h] [bp-3B0h]@31
  char v226; // [sp+158h] [bp-3ACh]@1
  char v227; // [sp+160h] [bp-3A4h]@29
  char v228; // [sp+162h] [bp-3A2h]@29
  char v229; // [sp+167h] [bp-39Dh]@54
  char v230; // [sp+168h] [bp-39Ch]@60
  char v231; // [sp+169h] [bp-39Bh]@38
  __int16 v232; // [sp+16Ah] [bp-39Ah]@33
  char v233[4]; // [sp+16Ch] [bp-398h]@35
  char v234[4]; // [sp+170h] [bp-394h]@52
  int v235; // [sp+174h] [bp-390h]@31
  int v236; // [sp+178h] [bp-38Ch]@31
  int v237; // [sp+17Ch] [bp-388h]@31
  int v238; // [sp+180h] [bp-384h]@31
  int v239; // [sp+184h] [bp-380h]@31
  char v240[4]; // [sp+1B0h] [bp-354h]@12
  float v241; // [sp+1B4h] [bp-350h]@20
  char v242; // [sp+1B8h] [bp-34Ch]@24
  char v243[3]; // [sp+1B9h] [bp-34Bh]@18
  char v244[108]; // [sp+1BCh] [bp-348h]@23
  char v245[4]; // [sp+228h] [bp-2DCh]@41
  int v246; // [sp+22Ch] [bp-2D8h]@42
  int v247[28]; // [sp+230h] [bp-2D4h]@45
  int v248[10]; // [sp+2A0h] [bp-264h]@48
  char v249; // [sp+2C8h] [bp-23Ch]@105
  int v250; // [sp+2CCh] [bp-238h]@105
  char v251; // [sp+2DCh] [bp-228h]@16
  char v252; // [sp+2E0h] [bp-224h]@24
  float v253; // [sp+2F4h] [bp-210h]@16
  unsigned __int8 v254; // [sp+2FCh] [bp-208h]@16
  char v255; // [sp+32Ch] [bp-1D8h]@26
  char v256[372]; // [sp+344h] [bp-1C0h]@69
  char v257; // [sp+4B8h] [bp-4Ch]@41

  v4 = a2;
  v5 = v3;
  v161 = v3;
  sub_1003F390(a2, (int)&v226);
  sub_10001210(v5);
  v6 = sub_1000FAD0((int)&dword_10504E90, (int)&v226, &v159);
  if ( !v159 )
    goto LABEL_10;
  LOBYTE(v6) = *(_BYTE *)(v5 + 3622);
  if ( (unsigned __int8)v6 <= 0xFu )
    goto LABEL_6;
  if ( !*(_BYTE *)(v5 + 8550) )
  {
    if ( *(_BYTE *)(v5 + 3557) || *(_BYTE *)(v5 + 8544) )
    {
LABEL_6:
      if ( !*(_BYTE *)(v5 + 8550) )
        goto LABEL_8;
      goto LABEL_7;
    }
LABEL_10:
    if ( !a3 )
      return v6;
    LOBYTE(v6) = 45;
    LOBYTE(v6) = sub_10005410(v6, v5);
    if ( !(_BYTE)v6 )
      return v6;
    goto LABEL_12;
  }
LABEL_7:
  if ( (unsigned __int8)v6 > 4u )
    goto LABEL_10;
LABEL_8:
  if ( *(_BYTE *)(v5 + 3557) || *(_BYTE *)(v5 + 8544) )
    goto LABEL_10;
LABEL_12:
  memset(v240, 0, 0x78u);
  v215 = 0;
  v216 = 0;
  v217 = 0;
  v218 = 0;
  v219 = 0;
  v220 = 0;
  v221 = 0;
  v222 = 0;
  v223 = 0;
  v224 = 0;
  v205 = 0;
  v206 = 0;
  v207 = 0;
  v208 = 0;
  v209 = 0;
  v210 = 0;
  v211 = 0;
  v212 = 0;
  v213 = 0;
  v214 = 0;
  LOBYTE(v6) = sub_1003E0A0(a2);
  v7 = (char)v6;
  v8 = 0;
  v158 = v6;
  v162 = (char)v6;
  if ( (char)v6 > 0 )
  {
    while ( v8 < 10 )
    {
      sub_1003D750(v4, v8, (int)&v251);
      v9 = v253;
      v10 = v254;
      v11 = 0;
      if ( v8 > 0 )
      {
        v12 = 0;
        do
        {
          v13 = 12 * v12;
          v14 = v243[12 * v12];
          if ( v254 > v14 || v254 == v14 && *(float *)((char *)&v241 + v13) > v9 )
            break;
          v12 = ++v11;
        }
        while ( v11 < v8 );
      }
      v15 = v11;
      if ( v11 < v8 )
      {
        memcpy(&v244[12 * v11], &v240[12 * v11], 12 * (v8 - v11));
        v9 = v253;
        v10 = v254;
      }
      v16 = v252;
      v6 = 12 * v15;
      *(&v242 + v6) = v8;
      *(float *)((char *)&v241 + v6) = v9;
      ++v8;
      v243[v6] = v10;
      v240[v6] = v16;
      if ( v8 >= v7 )
        break;
      v4 = a2;
    }
  }
  v17 = 0;
  v143 = 0;
  if ( v7 > 0 )
  {
    v18 = &v255;
    for ( i = 0; v17 < 120; v17 = i )
    {
      sub_1003DAB0(a2, *(&v242 + v17), (int)&v227);
      if ( !v228 || v240[v17] )
      {
        v18[31] = 0;
      }
      else
      {
        v185 = v237;
        v182 = v239;
        v184 = v236;
        v181 = v238;
        sub_1004A400((int)&v204, v236, v237);
        sub_1004A400((int)&v203, v181, v182);
        sub_100190F0((int)&v204, (int)&v203, (float *)&v225, &v202);
        v19 = (signed int)(v202 * 57.29577951308219);
        v20 = (signed int)(v202 * 57.29577951308219);
        v235 = (signed int)(v202 * 57.29577951308219);
        if ( v19 <= 0 )
        {
          v20 = v19 + 180;
          v235 = v19 + 180;
        }
        v21 = (signed __int16)(signed int)((double)v232 * 32.66638946533203 / (double)*(signed int *)(v161 + 3628) + 0.5);
        *((_DWORD *)v18 + 8) = (signed __int16)v21;
        if ( (signed __int16)v21 <= 2 )
          v21 = 2;
        v22 = *(_DWORD *)v233;
        *((_DWORD *)v18 + 8) = v21;
        if ( abs(10 * v22 - v20) > 90 && v22 != 1000 )
        {
          v20 += 180;
          v235 = v20;
        }
        v23 = v161;
        v24 = (signed int)((double)(v20 + *(_WORD *)(v161 + 3588)) * 182.0444444444445);
        *((_DWORD *)v18 - 1) = -(signed __int16)v24;
        v25 = sub_10063530((unsigned __int16)-(signed __int16)v24);
        v26 = *((_WORD *)v18 - 2);
        *((_DWORD *)v18 + 2) = v25;
        v27 = sub_100634D0(v26);
        v28 = *((_WORD *)v18 + 16);
        v29 = *((_DWORD *)v18 + 2);
        *((_DWORD *)v18 + 5) = v27;
        LOWORD(v160) = sub_100012F0(v28, v29);
        HIWORD(v160) = -(signed __int16)sub_100012F0(v28, v30);
        sub_10015280(v23, (int)&v184, (int)v18);
        sub_10015280(v23, (int)&v181, (int)(v18 + 4));
        v31 = *(_WORD *)v18;
        v32 = v160;
        v33 = HIWORD(v160);
        LOWORD(v167) = v160 + *(_WORD *)v18;
        v34 = *((_WORD *)v18 + 1);
        v35 = v34 + HIWORD(v160);
        LOWORD(v168) = v31 - v160;
        v36 = *((_WORD *)v18 + 2);
        HIWORD(v168) = v34 - HIWORD(v160);
        v169 = v36 - v160;
        v37 = *((_WORD *)v18 + 3);
        HIWORD(v167) = v35;
        LOWORD(v171) = v160 + v36;
        v38 = v37;
        v172 = v167;
        v39 = HIWORD(v160) + v37;
        *(_WORD *)(a1 + 4) = 3;
        *(_WORD *)(a1 + 6) = 3;
        HIWORD(v171) = v39;
        LOBYTE(v39) = v231;
        *(_WORD *)(a1 + 2) = 1;
        *(_WORD *)(a1 + 34) = 2;
        *(_WORD *)(a1 + 32) = 2;
        v170 = v38 - v33;
        if ( (unsigned __int8)v39 > (unsigned __int8)byte_10505608 )
        {
          *(_WORD *)(a1 + 36) = 0;
          *(_WORD *)(a1 + 38) = 2;
          *(_WORD *)(a1 + 48) = 0;
          *(_WORD *)(a1 + 50) = 2;
        }
        else
        {
          *(_WORD *)(a1 + 36) = 0;
          *(_WORD *)(a1 + 38) = 16;
          *(_WORD *)(a1 + 48) = 0;
          *(_WORD *)(a1 + 50) = 16;
        }
        sub_1001AE30(a1, 4, (int)&v167, 72, (int)&v257);
        sub_1003DF90(a2, *(&v242 + i), (int)&v245[i]);
        if ( v245[i] && *(int *)((char *)&v246 + i) )
        {
          *(&v215 + v143) = (signed __int16)(signed int)((double)*(int *)((char *)&v246 + i)
                                                       * 32.66638946533203
                                                       / (double)*(signed int *)(v161 + 3628)
                                                       + 0.5);
          v40 = *(_WORD *)v18;
          LOWORD(v173) = v32 + *(_WORD *)v18;
          v41 = *((_WORD *)v18 + 1);
          HIWORD(v173) = v41 + v33;
          v42 = v41 - v33;
          v175 = v41 - v33;
          v43 = *((_WORD *)&v215 + 2 * v143);
          v44 = v40 - v32;
          v174 = v40 - v32;
          v45 = 2 * v43;
          v157 = sub_100012F0(2 * v43, *((_DWORD *)v18 + 5));
          v176 = v44 + v157;
          v46 = sub_100012F0(v45, *((_DWORD *)v18 + 2));
          v177 = v46 + v42;
          v47 = *((_WORD *)v18 + 1) + v46;
          v178 = v48 + v32 + v157;
          v179 = v33 + v47;
          v180 = v173;
          sub_1001AE30(a1, 4, (int)&v173, 72, (int)&v257);
          v49 = HIWORD(v168);
          v50 = HIWORD(v167);
          *(_WORD *)(a1 + 46) = v167;
          v51 = v168;
          *(_WORD *)(a1 + 38) = 0;
          *(_WORD *)(a1 + 44) = v50;
          sub_1001A8E0(a1, v51, v49, 0);
        }
        if ( v245[i] )
        {
          v157 = v247[i / 4];
          if ( v157 )
          {
            v52 = *((_WORD *)v18 + 2);
            *(&v205 + v143) = (signed __int16)(signed int)((double)v157
                                                         * 32.66638946533203
                                                         / (double)*(signed int *)(v161 + 3628)
                                                         + 0.5);
            v157 = v52 + v32;
            LOWORD(v173) = v52 + v32;
            LOWORD(v52) = v52 - v32;
            v53 = *((_WORD *)v18 + 3);
            v54 = *((_DWORD *)v18 + 5);
            HIWORD(v173) = *((_WORD *)v18 + 3) + v33;
            v55 = HIWORD(v173);
            v56 = v53 - v33;
            v57 = 2 * *((_WORD *)&v205 + 2 * v143);
            v174 = v52;
            v175 = v56;
            v58 = sub_100012F0(v57, v54);
            v176 = v59 - v58;
            v60 = v58;
            v61 = sub_100012F0(v57, *((_DWORD *)v18 + 2));
            v178 = v157 - v60;
            v179 = v55 - v61;
            v177 = v56 - v61;
            v180 = v173;
            sub_1001AE30(a1, 4, (int)&v173, 72, (int)&v257);
            v62 = HIWORD(v171);
            v63 = v170;
            *(_WORD *)(a1 + 46) = v169;
            v64 = v171;
            *(_WORD *)(a1 + 38) = 0;
            *(_WORD *)(a1 + 44) = v63;
            sub_1001A8E0(a1, v64, v62, 0);
          }
        }
        if ( (unsigned __int8)v243[i] > (unsigned __int8)byte_10505608 )
        {
          LOBYTE(v154) = 61;
          v65 = sub_1000FA50(0x3Du);
          v248[v143] = (int)v65;
        }
        else
        {
          LOBYTE(v154) = 60;
          v65 = sub_1000FA50(0x3Cu);
          v248[v143] = (int)v65;
        }
        if ( a3 )
        {
          v66 = v161;
          LOBYTE(v65) = 45;
          if ( sub_10005410((unsigned int)v65, v161) )
          {
            sub_1004A400((int)&v204, v184, v185);
            sub_1004A400((int)&v203, v181, v182);
            sub_10021770((int)&v203, (int)&v204, 1, (float *)&v199, (int)&v183);
            sub_100218A0((int)&v204, 18520.0, v183, 1, (int)&v186);
            sub_1004A420((int)&v201, v186, v187);
            sub_1000CD70(v66, a1, (int)&v184, (int)&v201, v66 + 3576, v66 + 3584, v154);
            if ( *(_DWORD *)v234 != 1000 )
            {
              sub_10021770((int)&v204, (int)&v203, 1, (float *)&v199, (int)&v183);
              sub_100218A0((int)&v203, 18520.0, v183, 1, (int)&v186);
              sub_1004A420((int)&v201, v186, v187);
              sub_1000CD70(v66, a1, (int)&v181, (int)&v201, v66 + 3576, v66 + 3584, v154);
            }
          }
        }
        v67 = v229;
        if ( v229 == 32 || v229 == 95 )
        {
          v67 = 0;
          v229 = 0;
        }
        if ( *(_DWORD *)v233 == 1000 )
          sub_1004A340(v18 + 24, 7u, &byte_10077A17);
        else
          sub_1004A340(v18 + 24, 7u, "%02d%c", *(_DWORD *)v233, (unsigned __int8)v67);
        v68 = v230;
        if ( v230 == 32 || v230 == 95 )
        {
          v68 = 0;
          v230 = 0;
        }
        if ( *(_DWORD *)v234 == 1000 )
        {
          sub_1004A340(v18 + 12, 7u, &byte_10077A17);
          v18[31] = 1;
        }
        else
        {
          sub_1004A340(v18 + 12, 7u, "%02d%c", *(_DWORD *)v234, (unsigned __int8)v68);
          v18[31] = 1;
        }
      }
      v7 = v162;
      i += 12;
      LOBYTE(v6) = v143 + 1;
      v18 += 40;
      if ( ++v143 >= v162 )
        break;
    }
  }
  v144 = 0;
  if ( v7 > 0 )
  {
    v69 = v256;
    v150 = 0;
    do
    {
      if ( (signed int)v150 >= 120 )
        break;
      if ( v69[7] && *((_DWORD *)v69 + 2) > 4 )
      {
        v70 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 3));
        if ( *v69 )
          v71 = sub_10019AF0(v70, v69, 0);
        else
          v71 = sub_10019AF0(v70, v69 - 12, 0);
        if ( !v71 )
          v71 = 1;
        v155 = 224 * *((_DWORD *)v69 + 2) / v71;
        v72 = (signed __int16)v155 * *(_WORD *)(v70 + 24) >> 7;
        v153 = v71 * (signed __int16)v155 >> 8;
        v147 = -(signed __int16)sub_100012F0(v72, *((_DWORD *)v69 - 1));
        v73 = sub_100012F0(v72, *((_DWORD *)v69 - 4));
        LOWORD(v167) = v74 + *((_WORD *)v69 - 12);
        v75 = -v73;
        HIWORD(v167) = v75 + *((_WORD *)v69 - 11);
        v76 = *((_WORD *)v69 - 10) - v74;
        v77 = *((_WORD *)v69 - 9);
        LOWORD(v168) = v76;
        v149 = v75;
        *(_QWORD *)&v78 = (unsigned int)v248[v144];
        HIWORD(v168) = v77 - v75;
        sub_10005C00(a1, 2u, (int)&v167, SLODWORD(v78), SBYTE4(v78));
        *(_WORD *)(a1 + 4) = 2;
        v79 = 2 * ((signed __int16)v155 > 100) + 1;
        *(_WORD *)(a1 + 34) = v79;
        *(_WORD *)(a1 + 32) = v79;
        if ( (unsigned __int8)v243[v150] > (unsigned __int8)byte_10505608 )
        {
          *(_WORD *)(a1 + 36) = 2;
          *(_WORD *)(a1 + 38) = 16;
        }
        else
        {
          *(_WORD *)(a1 + 36) = 16;
          *(_WORD *)(a1 + 38) = 0;
        }
        sub_100012F0(v153, *((_DWORD *)v69 - 4));
        HIWORD(v160) = sub_100012F0(v153, *((_DWORD *)v69 - 1));
        v81 = v80 + *((_WORD *)v69 - 12);
        v157 = v147 / 5;
        *(_WORD *)(a1 + 46) = v147 / 5 + v81;
        v82 = v149 / 5 + HIWORD(v160) + *((_WORD *)v69 - 11);
        v200 = v149 / 5;
        v83 = -*((_WORD *)v69 - 14);
        *(_WORD *)(a1 + 44) = v82;
        sub_1001A390(a1, v70, (char)v69, v83, v155);
        v84 = (signed __int16)v155 * (signed __int16)sub_10019AF0(v70, v69 - 12, 0) >> 8;
        sub_100012F0(v84, *((_DWORD *)v69 - 4));
        v85 = sub_100012F0(v84, *((_DWORD *)v69 - 1));
        v87 = *((_WORD *)v69 - 10) - v86;
        v88 = *((_WORD *)v69 - 9) - v85 - v200;
        v89 = 0x7FFF - *((_WORD *)v69 - 14);
        *(_WORD *)(a1 + 46) = v87 - v157;
        *(_WORD *)(a1 + 44) = v88;
        sub_1001A390(a1, v70, (_BYTE)v69 - 12, v89, v155);
        v90 = v150;
        if ( v245[v150] && *(int *)((char *)&v246 + v150) )
        {
          v91 = sub_10019AF0(v70, "^^^^", 0);
          if ( !v91 )
            v91 = 1;
          v92 = 224 * *((_DWORD *)v69 + 2) / v91;
          v72 = (signed __int16)v92 * *(_WORD *)(v70 + 24) >> 7;
          v93 = v91 * (signed __int16)v92 >> 8;
          sub_100012F0(v72, *((_DWORD *)v69 - 1));
          v94 = -(signed __int16)sub_100012F0(v72, *((_DWORD *)v69 - 4));
          LOWORD(v160) = -(signed __int16)sub_100012F0(v93, *((_DWORD *)v69 - 4));
          v95 = sub_100012F0(v93, *((_DWORD *)v69 - 1));
          v97 = *((_WORD *)v69 - 12) - v96;
          v98 = v95 + *((_WORD *)v69 - 11) - v94;
          v99 = -*((_WORD *)v69 - 14);
          *(_WORD *)(a1 + 46) = v160 + v97;
          *(_WORD *)(a1 + 44) = v98;
          sub_1001A390(a1, v70, (unsigned int)"^^^^", v99, v92);
          v90 = v150;
        }
        if ( v245[v90] && *(int *)((char *)v247 + v90) )
        {
          v100 = sub_10019AF0(v70, "^^^^", 0);
          if ( !v100 )
            v100 = 1;
          v101 = 224 * *((_DWORD *)v69 + 2) / v100;
          v72 = (signed __int16)v101 * *(_WORD *)(v70 + 24) >> 7;
          v102 = v100 * (signed __int16)v101 >> 8;
          sub_100012F0(v72, *((_DWORD *)v69 - 1));
          v103 = -(signed __int16)sub_100012F0(v72, *((_DWORD *)v69 - 4));
          LOWORD(v160) = -(signed __int16)sub_100012F0(v102, *((_DWORD *)v69 - 4));
          HIWORD(v160) = sub_100012F0(v102, *((_DWORD *)v69 - 1));
          v105 = v104 + *((_WORD *)v69 - 10) - v160;
          v106 = *((_WORD *)v69 - 9) - HIWORD(v160);
          *(_WORD *)(a1 + 46) = v105;
          v107 = 0x7FFF - *((_WORD *)v69 - 14);
          *(_WORD *)(a1 + 44) = v103 + v106;
          sub_1001A390(a1, v70, (unsigned int)"^^^^", v107, v101);
          v90 = v150;
        }
        v151 = ((unsigned __int8)v243[v90] > (unsigned __int8)byte_10505608) + 78;
        if ( v245[v90] )
        {
          if ( *(int *)((char *)&v246 + v90) )
          {
            v108 = *((_DWORD *)v69 - 1);
            v109 = sub_100012F0(v72 + 20, *((_DWORD *)v69 - 1));
            v110 = *((_DWORD *)v69 - 4);
            v163 = *((_WORD *)v69 - 12) + v109;
            v164 = *((_WORD *)v69 - 11) + sub_100012F0(v111, v110);
            v112 = sub_100012F0(2 * *((_WORD *)&v215 + 2 * v144), v108);
            v113 = *((_DWORD *)v69 - 4);
            v165 = *((_WORD *)v69 - 12) + v112;
            v166 = *((_WORD *)v69 - 11) + sub_100012F0(v114, v113);
            v115 = sub_1000FA50(v151);
            sub_10005C00(a1, 2u, (int)&v163, (int)v115, 0);
            v90 = v150;
          }
          if ( v245[v90] && v247[v150 / 4] )
          {
            v116 = *((_WORD *)v69 - 10);
            v117 = v72 + 20;
            v118 = sub_100012F0(v72 + 20, *((_DWORD *)v69 - 1));
            v119 = *((_WORD *)v69 - 9);
            v120 = *((_DWORD *)v69 - 4);
            v163 = v121 - v118;
            v122 = sub_100012F0(v117, v120);
            v123 = 2 * *((_WORD *)&v205 + 2 * v144);
            v124 = *((_DWORD *)v69 - 1);
            v164 = v119 - v122;
            v125 = sub_100012F0(v123, v124);
            v126 = *((_DWORD *)v69 - 4);
            v165 = v127 - v125;
            v166 = v119 - sub_100012F0(v123, v126);
            v128 = sub_1000FA50(v151);
            sub_10005C00(a1, 2u, (int)&v163, (int)v128, 0);
          }
        }
      }
      v150 += 12;
      LOBYTE(v6) = v144 + 1;
      v69 += 40;
      ++v144;
    }
    while ( v144 < v162 );
  }
  v129 = v161;
  if ( *(_BYTE *)(v161 + 3622) <= 0xFu )
  {
    v152 = FNT_get_fnt_hdr(*(_BYTE *)(*(_BYTE *)(v161 + 8069) + dword_100E4980));
    v130 = v162;
    if ( v158 >= 10 )
      v130 = 10;
    v131 = v130 - 1 < 0;
    v6 = v130 - 1;
    v145 = v6;
    if ( !v131 )
    {
      v132 = &v256[40 * v6];
      do
      {
        if ( v132[7] )
        {
          v133 = sub_100012F0(2 * (*((_WORD *)&v215 + 2 * v6) + 10), *((_DWORD *)v132 - 1));
          v135 = sub_100012F0(v134, *((_DWORD *)v132 - 4));
          if ( *v132 )
          {
            LOWORD(v156) = v133 + *((_WORD *)v132 - 12);
            HIWORD(v156) = v135 + *((_WORD *)v132 - 11) + (*(_WORD *)(v152 + 24) >> 1);
            v136 = sub_10019AF0(v152, v132, 0);
            v249 = 3;
            v250 = a2;
            if ( sub_1000F780(v129, (int)&v249, 0x25u, 3u, &v156, v136) )
            {
              v137 = *(_BYTE *)(v129 + 8069);
              v193 = 1;
              v198 = 122;
              v191 = 123;
              v194 = 0;
              v195 = 0;
              v196 = v132;
              v197 = 0;
              v189 = *(_BYTE *)(v137 + dword_100E4980);
              v188 = 1;
              v192 = 0;
              v190 = v156;
              sub_10006AC0(v129, v129, a1, 0, (int)&v188);
            }
          }
          v148 = sub_100012F0(2 * (*((_WORD *)&v205 + 2 * v145) + 10), *((_DWORD *)v132 - 1));
          v139 = sub_100012F0(v138, *((_DWORD *)v132 - 4));
          if ( *(v132 - 12) )
          {
            LOWORD(v156) = *((_WORD *)v132 - 10) - v148;
            HIWORD(v156) = *((_WORD *)v132 - 9) + (*(_WORD *)(v152 + 24) >> 1) - v139;
            v140 = sub_10019AF0(v152, v132 - 12, 0);
            v249 = 3;
            v250 = a2;
            if ( sub_1000F780(v129, (int)&v249, 0x25u, 3u, &v156, v140) )
            {
              v141 = *(_BYTE *)(v129 + 8069);
              v193 = 1;
              v197 = 0;
              v198 = 122;
              v191 = 123;
              v194 = 0;
              v195 = 0;
              v196 = v132 - 12;
              v189 = *(_BYTE *)(v141 + dword_100E4980);
              v188 = 1;
              v192 = 0;
              v190 = v156;
              sub_10006AC0(v129, v129, a1, 0, (int)&v188);
            }
          }
          v6 = v145;
        }
        --v6;
        v132 -= 40;
        v145 = v6;
      }
      while ( v6 >= 0 );
    }
  }
  return v6;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 10504E90: using guessed type int dword_10504E90;
// 10505608: using guessed type char byte_10505608;
// 10001330: using guessed type char var_354[4];
// 10001330: using guessed type char var_34B[3];
// 10001330: using guessed type char var_348[108];
// 10001330: using guessed type char var_2DC[4];
// 10001330: using guessed type int var_2D4[28];
// 10001330: using guessed type int var_264[10];
// 10001330: using guessed type char var_1C0[372];

//----- (10002700) --------------------------------------------------------
void __cdecl sub_10002700(signed int a1, int a2, char a3)
{
  char v3; // al@3
  char v4; // al@7
  unsigned __int8 v5; // dl@13
  char v6; // bl@20
  char v7; // bl@27
  int v8; // eax@38
  signed __int16 v9; // ax@38
  unsigned __int8 v10; // [sp+9h] [bp-93h]@22
  char v11; // [sp+Ah] [bp-92h]@27
  char v12; // [sp+Bh] [bp-91h]@19
  int v13; // [sp+Ch] [bp-90h]@5
  int v14; // [sp+10h] [bp-8Ch]@24
  int v15; // [sp+14h] [bp-88h]@24
  int v16; // [sp+18h] [bp-84h]@22
  int v17; // [sp+1Ch] [bp-80h]@27
  int v18; // [sp+20h] [bp-7Ch]@42
  char v19; // [sp+24h] [bp-78h]@42
  char v20; // [sp+26h] [bp-76h]@31
  __int16 v21; // [sp+28h] [bp-74h]@42
  char v22; // [sp+2Ah] [bp-72h]@40
  int v23; // [sp+2Ch] [bp-70h]@42
  char v24; // [sp+30h] [bp-6Ch]@40
  __int16 v25; // [sp+34h] [bp-68h]@40
  __int16 v26; // [sp+36h] [bp-66h]@40
  char *v27; // [sp+40h] [bp-5Ch]@42
  char v28; // [sp+44h] [bp-58h]@42
  char v29; // [sp+45h] [bp-57h]@40
  char v30; // [sp+48h] [bp-54h]@27
  char v31; // [sp+58h] [bp-44h]@19
  int v32; // [sp+5Ch] [bp-40h]@43
  char v33; // [sp+6Ch] [bp-30h]@2
  char v34; // [sp+75h] [bp-27h]@8
  int v35; // [sp+80h] [bp-1Ch]@7
  char v36; // [sp+90h] [bp-Ch]@38

  if ( a2 == 0x3FFFF )
    return;
  sub_100192B0((int)&v33);
  if ( a3 & 6 )
  {
    v3 = *(_BYTE *)(a1 + 8357);
    if ( v3 == 1 || v3 == 3 )
    {
      LOBYTE(v13) = *(_BYTE *)(a1 + 8358);
      if ( (_BYTE)v13 == -1 )
        goto LABEL_19;
    }
    else
    {
      LOBYTE(v13) = 0;
    }
    v4 = sub_1003FAD0(v13);
    if ( a2 == v35 && (v34 == 3 || v34 == 2) && *(_BYTE *)(a1 + 8357) != 1 )
    {
LABEL_18:
      a3 &= 0xF9u;
      goto LABEL_19;
    }
    if ( (unsigned __int8)v4 >= 1u && v34 != 3 )
    {
      v5 = 0;
      if ( v4 )
      {
        while ( a2 != *(_DWORD *)(a1 + 4 * v5 + 3048) || *(_BYTE *)(v5 + a1 + 3448) == 3 )
        {
          if ( ++v5 >= (unsigned __int8)v4 )
            goto LABEL_19;
        }
        goto LABEL_18;
      }
    }
  }
LABEL_19:
  v31 = 3;
  v12 = a3 & 0x10;
  if ( a3 & 0x10 )
    v6 = 9;
  else
    v6 = sub_10001170(a2);
  LOBYTE(v13) = v6;
  sub_1003F390(a2, (int)&v16);
  v10 = *(_BYTE *)((unsigned __int8)byte_10078EB9[5 * (unsigned __int8)v6] + a1 + 8049);
  if ( *(_BYTE *)((unsigned __int8)byte_10078EB9[5 * (unsigned __int8)v6] + a1 + 8049) >= 0xEu )
    sub_100175E0(".\\mpm\\mpm_c_avd.c", 324, 1, 0);
  LOWORD(v14) = sub_1003A5A0(a2, *(_WORD *)(a1 + 3588));
  v15 = BMP_get_xfrm((unsigned __int16)v14);
  if ( (_WORD)v14 != 187 && (_WORD)v14 != 186 && (_WORD)v14 != 190 )
  {
    v7 = a3;
  }
  else
  {
    sub_10006ED0(v16, v17, (int)&v30);
    sub_1000FA60(a1 + 3572, (int)&v30, &v11);
    v7 = a3;
    if ( a3 & 9 && v11 )
      sub_1000A590(a1, a1 + 3940, v16, v17, *(float *)&a2);
  }
  if ( !(sub_10015280(a1, (int)&v16, (int)&v20) & 0xF) && (_WORD)v14 != 189 )
  {
    if ( v7 & 9 )
      sub_10006430(a1 + 3940, &v14, (int)&v20);
    if ( v10 != 4 && v7 & 0xA || v7 & 4 )
    {
      sub_1003F1F0(a2, (int)&v36);
      v8 = FNT_get_fnt_hdr(*(_BYTE *)(v10 + dword_100E4980));
      v9 = sub_10019AF0(v8, &v36, 0);
      if ( v7 & 0xC )
      {
        if ( v12 )
        {
          v24 = 1;
          v29 = 24;
          v22 = 23;
          v25 = 0;
          v26 = 0;
        }
        else
        {
          v24 = 0;
          v29 = 34;
          v22 = 34;
        }
        v27 = &v36;
        v28 = 0;
        v19 = *(_BYTE *)(v10 + dword_100E4980);
        v18 = -2147483647;
        v23 = 0;
        v21 -= *(_BYTE *)(BMP_get_info((unsigned __int16)v14) + 2);
        sub_10006AC0(v10, a1, a1 + 3940, 0, (int)&v18);
      }
      else
      {
        v32 = a2;
        sub_1000F780(a1, (int)&v31, v14, v13, (int *)&v20, v9);
      }
    }
  }
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (10002A40) --------------------------------------------------------
char __cdecl sub_10002A40(signed int a1)
{
  unsigned int v1; // edx@3
  int v2; // ebx@3
  signed int v3; // edi@5
  unsigned int v4; // eax@7
  int v5; // ecx@7
  int v6; // ebp@7
  void *v7; // ebx@11
  int v8; // ebp@17
  int v9; // edi@18
  unsigned int v10; // eax@18
  int v11; // eax@21
  char v12; // cl@21
  unsigned __int16 v14; // [sp+10h] [bp-30h]@16
  unsigned int v15; // [sp+14h] [bp-2Ch]@16
  int v16; // [sp+18h] [bp-28h]@3
  int v17; // [sp+1Ch] [bp-24h]@14
  int v18; // [sp+20h] [bp-20h]@5
  int v19; // [sp+24h] [bp-1Ch]@9
  int v20; // [sp+28h] [bp-18h]@15
  int v21; // [sp+2Ch] [bp-14h]@1
  int v22; // [sp+30h] [bp-10h]@7
  int v23; // [sp+34h] [bp-Ch]@11
  int v24; // [sp+38h] [bp-8h]@16
  int v25; // [sp+3Ch] [bp-4h]@14

  v21 = 1457 * ((dword_10504E90 >> 14) / 1457);
  if ( dword_10504E90 < 0 )
    v21 = 1457 * ((dword_10504E90 >> 14) / 1457) - 1457;
  v1 = (signed int)((unsigned __int64)(188660197i64 * (dword_10504E94 >> 14)) >> 32) >> 6;
  v2 = 1457 * (v1 + (v1 >> 31));
  v16 = 1457 * (v1 + (v1 >> 31));
  if ( dword_10504E94 < 0 )
  {
    v2 -= 1457;
    v16 = v2;
  }
  v3 = 1457 * ((dword_10504E9C >> 14) / 1457);
  v18 = 1457 * ((dword_10504E9C >> 14) / 1457);
  if ( dword_10504E9C < 0 )
  {
    v3 -= 1457;
    v18 = v3;
  }
  v4 = 188660197 * (dword_10504E98 >> 14);
  v5 = (dword_10504E98 >> 14) / 1457;
  v6 = 1457 * v5;
  v22 = 1457 * v5;
  if ( dword_10504E98 < 0 )
  {
    v6 -= 1457;
    v22 = v6;
  }
  v19 = 0;
  if ( v3 > v2 )
    v19 = 0x40000;
  v7 = &unk_100779FC;
  v23 = 4;
  do
  {
    if ( !*(_BYTE *)v7 || (LOBYTE(v4) = *((_BYTE *)v7 + 2), LOBYTE(v4) = sub_10005410(v4, a1), (_BYTE)v4) )
    {
      v17 = v6;
      v25 = v16 + v19;
      do
      {
        v20 = v3;
        do
        {
          sub_1003C410(*(_BYTE *)v7, v17, v3, v16, &v24, &v14, &v15);
          if ( v15 != 0x3FFFF )
          {
            v8 = 0;
            if ( v14 )
            {
              while ( 1 )
              {
                v9 = sub_1003F330(*(_BYTE *)v7, v15);
                v10 = (unsigned __int8)sub_10001170(v9);
                if ( *(_BYTE *)(a1 + 8550) )
                {
                  v11 = (unsigned __int8)byte_10078EB8[5 * v10];
                  v12 = *(_BYTE *)(v11 + a1 + 8073);
                  if ( v12 == 29 )
                  {
                    if ( byte_100786F1[8 * v11] )
                    {
                      v12 = byte_100786F1[8 * v11];
                    }
                    else if ( !byte_100786F1[8 * v11] )
                    {
                      v12 = 0;
                    }
                  }
                  if ( flt_10078A00[(unsigned __int8)v12] >= (double)*(float *)(dword_10504E84
                                                                              + 4 * *(_BYTE *)(a1 + 3622)) )
                  {
LABEL_29:
                    if ( !*(_BYTE *)v7 )
                      sub_10001330(a1 + 3940, v9, 0);
                    sub_10002700(a1, v9, 3);
                    goto LABEL_32;
                  }
                }
                else
                {
                  LOBYTE(v10) = byte_10078EB8[5 * v10];
                  if ( sub_10005410(v10, a1) )
                    goto LABEL_29;
                }
                if ( v9 == *(_DWORD *)(a1 + 56) && !*(_BYTE *)v7 )
                  goto LABEL_29;
LABEL_32:
                ++v15;
                if ( (unsigned __int16)++v8 >= v14 )
                {
                  v3 = v20;
                  break;
                }
              }
            }
          }
          v3 += v24;
          v20 = v3;
        }
        while ( v3 <= v25 );
        v3 = v18;
        v4 = v17 + 1457;
        v17 += 1457;
      }
      while ( v17 <= v21 );
      v6 = v22;
    }
    v7 = (char *)v7 + 3;
    --v23;
  }
  while ( v23 );
  return v4;
}
// 10078A00: using guessed type float flt_10078A00[];
// 10504E84: using guessed type int dword_10504E84;
// 10504E90: using guessed type int dword_10504E90;
// 10504E94: using guessed type int dword_10504E94;
// 10504E98: using guessed type int dword_10504E98;
// 10504E9C: using guessed type int dword_10504E9C;

//----- (10002CD0) --------------------------------------------------------
char __cdecl sub_10002CD0(int a1)
{
  int v1; // eax@1
  unsigned int v2; // edx@4
  int v3; // ebx@4
  int v4; // ebp@6
  char *v5; // ebx@12
  signed int v6; // edi@15
  int v7; // ebp@17
  int v8; // edi@18
  unsigned int v9; // eax@18
  int v10; // eax@21
  char v11; // cl@21
  unsigned __int16 v13; // [sp+0h] [bp-30h]@16
  unsigned int v14; // [sp+4h] [bp-2Ch]@16
  int v15; // [sp+8h] [bp-28h]@4
  int v16; // [sp+Ch] [bp-24h]@14
  int v17; // [sp+10h] [bp-20h]@6
  int v18; // [sp+14h] [bp-1Ch]@10
  int v19; // [sp+18h] [bp-18h]@15
  int v20; // [sp+1Ch] [bp-14h]@2
  int v21; // [sp+20h] [bp-10h]@8
  int v22; // [sp+24h] [bp-Ch]@12
  int v23; // [sp+28h] [bp-8h]@16
  int v24; // [sp+2Ch] [bp-4h]@14

  LOBYTE(v1) = sub_10016E30();
  if ( (_BYTE)v1 )
  {
    sub_10001210(a1);
    v20 = 1457 * ((dword_10504E90 >> 14) / 1457);
    if ( dword_10504E90 < 0 )
      v20 = 1457 * ((dword_10504E90 >> 14) / 1457) - 1457;
    v2 = (signed int)((unsigned __int64)(188660197i64 * (dword_10504E94 >> 14)) >> 32) >> 6;
    v3 = 1457 * (v2 + (v2 >> 31));
    v15 = 1457 * (v2 + (v2 >> 31));
    if ( dword_10504E94 < 0 )
    {
      v3 -= 1457;
      v15 = v3;
    }
    v4 = 1457 * ((dword_10504E9C >> 14) / 1457);
    v17 = 1457 * ((dword_10504E9C >> 14) / 1457);
    if ( dword_10504E9C < 0 )
    {
      v4 -= 1457;
      v17 = v4;
    }
    v1 = 1457 * ((dword_10504E98 >> 14) / 1457);
    v21 = 1457 * ((dword_10504E98 >> 14) / 1457);
    if ( dword_10504E98 < 0 )
    {
      v1 -= 1457;
      v21 = v1;
    }
    v18 = 0;
    if ( v4 > v3 )
      v18 = 0x40000;
    v5 = (char *)&unk_100779FC;
    v22 = 4;
    do
    {
      if ( !*v5 )
      {
        v16 = v1;
        v24 = v15 + v18;
        do
        {
          v6 = v4;
          v19 = v4;
          do
          {
            sub_1003C410(*v5, v16, v6, v15, &v23, &v13, &v14);
            if ( v14 != 0x3FFFF )
            {
              v7 = 0;
              if ( v13 )
              {
                while ( 1 )
                {
                  v8 = sub_1003F330(*v5, v14);
                  v9 = (unsigned __int8)sub_10001170(v8);
                  if ( *(_BYTE *)(a1 + 8550) )
                  {
                    v10 = (unsigned __int8)byte_10078EB8[5 * v9];
                    v11 = *(_BYTE *)(v10 + a1 + 8073);
                    if ( v11 == 29 )
                    {
                      if ( byte_100786F1[8 * v10] )
                      {
                        v11 = byte_100786F1[8 * v10];
                      }
                      else if ( !byte_100786F1[8 * v10] )
                      {
                        v11 = 0;
                      }
                    }
                    if ( flt_10078A00[(unsigned __int8)v11] >= (double)*(float *)(dword_10504E84
                                                                                + 4 * *(_BYTE *)(a1 + 3622)) )
                    {
LABEL_28:
                      sub_10011890(a1, v8);
                      goto LABEL_29;
                    }
                  }
                  else
                  {
                    LOBYTE(v9) = byte_10078EB8[5 * v9];
                    if ( sub_10005410(v9, a1) )
                      goto LABEL_28;
                  }
                  if ( v8 == *(_DWORD *)(a1 + 56) )
                    goto LABEL_28;
LABEL_29:
                  ++v14;
                  if ( (unsigned __int16)++v7 >= v13 )
                  {
                    v6 = v19;
                    break;
                  }
                }
              }
            }
            v6 += v23;
            v19 = v6;
          }
          while ( v6 <= v24 );
          v4 = v17;
          v16 += 1457;
        }
        while ( v16 <= v20 );
        v1 = v21;
      }
      v5 += 3;
      --v22;
    }
    while ( v22 );
  }
  return v1;
}
// 10078A00: using guessed type float flt_10078A00[];
// 10504E84: using guessed type int dword_10504E84;
// 10504E90: using guessed type int dword_10504E90;
// 10504E94: using guessed type int dword_10504E94;
// 10504E98: using guessed type int dword_10504E98;
// 10504E9C: using guessed type int dword_10504E9C;

//----- (10002F50) --------------------------------------------------------
char __cdecl sub_10002F50(int a1, int a2, int a3)
{
  return sub_10001330(a2, a3, 1);
}

//----- (10002F70) --------------------------------------------------------
char __cdecl sub_10002F70(int a1, int a2, int a3)
{
  signed int v3; // eax@1

  v3 = sub_100195B0();
  if ( a3 != v3 )
    LOBYTE(v3) = sub_10001330(a2, a3, 0);
  return v3;
}

//----- (10002FA0) --------------------------------------------------------
char __cdecl sub_10002FA0(int a1)
{
  char result; // al@1

  result = sub_10001210(a1);
  if ( *(_BYTE *)(a1 + 3622) <= 0x18u )
    result = sub_10002A40(a1);
  return result;
}

//----- (10002FC0) --------------------------------------------------------
int __thiscall sub_10002FC0(void *this)
{
  char v1; // al@1
  void **v2; // edx@1
  char *v3; // ecx@1
  int v4; // eax@1
  char *v5; // esi@1
  signed int v6; // edi@1
  int *v7; // edx@2
  char v8; // cl@2
  void *v9; // ecx@3
  char v10; // al@5
  int result; // eax@5

  v1 = sub_1004ADF0(this);
  v2 = &off_10078678 + 9 * (unsigned __int8)v1;
  v3 = (char *)&unk_10078664 + 6 * (unsigned __int8)v1;
  v4 = 0;
  dword_10504E80 = (int)v2;
  dword_104CEA64 = (int)v3;
  dword_101D27E0[0] = 0;
  dword_101D27E4 = 0;
  v5 = (char *)&unk_100788B8;
  v6 = 5;
  do
  {
    v7 = &dword_101D27E0[(unsigned int)(unsigned __int8)*v5 >> 5];
    v8 = (unsigned __int8)*v5++ % 32;
    *v7 |= 1 << v8;
    --v6;
  }
  while ( v6 );
  v9 = &unk_100E4780;
  do
  {
    *(_WORD *)v9 = v4++;
    v9 = (char *)v9 + 2;
  }
  while ( (unsigned __int16)v4 < 0x100u );
  v10 = sub_1004ADF0(v9);
  byte_101E4FF9 = v10;
  result = (unsigned __int8)v10 - 1;
  if ( result && (--result, result) )
  {
    dword_104CEA60 = (int)&unk_10078598;
    dword_100E4980 = (int)&unk_10078578;
    dword_101EFA38 = (int)&unk_100789EC;
    dword_10504E84 = (int)&unk_10078A88;
  }
  else
  {
    dword_10504E84 = (int)&unk_10078AAC;
    dword_101EFA38 = (int)&unk_10078A74;
    dword_100E4980 = (int)&unk_10078588;
    dword_104CEA60 = (int)&unk_100785C8;
  }
  return result;
}
// 10078678: using guessed type void *off_10078678;
// 100E4980: using guessed type int dword_100E4980;
// 101D27E0: using guessed type int dword_101D27E0[];
// 101D27E4: using guessed type int dword_101D27E4;
// 101E4FF9: using guessed type char byte_101E4FF9;
// 101EFA38: using guessed type int dword_101EFA38;
// 104CEA60: using guessed type int dword_104CEA60;
// 104CEA64: using guessed type int dword_104CEA64;
// 10504E80: using guessed type int dword_10504E80;
// 10504E84: using guessed type int dword_10504E84;

//----- (100030B0) --------------------------------------------------------
int __cdecl sub_100030B0(int a1)
{
  int result; // eax@1
  int v2; // ecx@1

  result = a1;
  v2 = *(_BYTE *)(a1 + 3682);
  *(_BYTE *)(a1 + 3933) = 28;
  *(_BYTE *)(a1 + 4778) = 1;
  *(_WORD *)(a1 + 3936) = 1024;
  *(_WORD *)(a1 + 3934) = 768;
  v2 *= 2;
  *(_WORD *)(a1 + 8046) = *(_WORD *)(v2 + dword_104CEA64);
  *(_WORD *)(a1 + 8044) = *(__int16 *)((char *)word_100786E4 + v2);
  *(_DWORD *)(a1 + 1132) = -1;
  *(_DWORD *)(a1 + 1136) = -1;
  return result;
}
// 100786E4: using guessed type __int16 word_100786E4[];
// 104CEA64: using guessed type int dword_104CEA64;

//----- (10003120) --------------------------------------------------------
int __cdecl sub_10003120(int a1)
{
  int result; // eax@1
  double v2; // [sp+4h] [bp-10h]@1
  double v3; // [sp+Ch] [bp-8h]@1

  sub_100169C0(0, (int)&v2);
  sub_1004A420(a1 + 3688, v2, v3);
  result = 0;
  *(_DWORD *)(a1 + 3644) = 0;
  *(_DWORD *)(a1 + 3648) = 0;
  *(_DWORD *)(a1 + 3652) = 0;
  *(_DWORD *)(a1 + 3656) = 0;
  *(_DWORD *)(a1 + 3660) = 0;
  *(_BYTE *)(a1 + 74) = 3;
  dword_100E4988 = 0;
  dword_100E498C = 0;
  dword_100E4990 = 0;
  dword_100E4994 = 0;
  dword_100E4998 = 0;
  dword_100E499C = 0;
  dword_100E49A0 = 0;
  byte_100E4984 = 0;
  byte_100E4986 = 0;
  return result;
}
// 100E4984: using guessed type char byte_100E4984;
// 100E4986: using guessed type char byte_100E4986;
// 100E4988: using guessed type int dword_100E4988;
// 100E498C: using guessed type int dword_100E498C;
// 100E4990: using guessed type int dword_100E4990;
// 100E4994: using guessed type int dword_100E4994;
// 100E4998: using guessed type int dword_100E4998;
// 100E499C: using guessed type int dword_100E499C;
// 100E49A0: using guessed type int dword_100E49A0;

//----- (100031C0) --------------------------------------------------------
char __cdecl sub_100031C0(int a1)
{
  int v1; // esi@1
  __int16 v2; // ax@1
  __int16 v3; // cx@1
  int v4; // edx@1
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edx@1
  int v8; // ecx@1
  char result; // al@4

  flt_100E49A4 = 0.0;
  v1 = a1;
  *(float *)(a1 + 8036) = 0.0;
  *(_BYTE *)v1 = 0;
  *(_BYTE *)(v1 + 52) = 0;
  *(_DWORD *)(v1 + 56) = 0x3FFFF;
  *(_BYTE *)(v1 + 74) = 3;
  *(_BYTE *)(v1 + 1140) = 0;
  *(_BYTE *)(v1 + 8234) = 0;
  memset((void *)(v1 + 3684), 0, 0xF8u);
  v2 = *(_WORD *)(v1 + 3936);
  v3 = *(_WORD *)(v1 + 3934);
  v4 = *(_DWORD *)(v1 + 3712);
  *(_WORD *)(v1 + 3716) = v2;
  *(_WORD *)(v1 + 3718) = v3;
  *(_DWORD *)(v1 + 3818) = v4;
  v5 = *(_DWORD *)(v1 + 3716);
  *(_WORD *)(v1 + 8046) = v2 + 60;
  *(_WORD *)(v1 + 3684) = 0;
  *(_WORD *)(v1 + 3686) = 0;
  v6 = *(_DWORD *)(v1 + 3684);
  *(_DWORD *)(v1 + 3822) = v5;
  *(_DWORD *)(v1 + 8620) = v6;
  *(_DWORD *)(v1 + 3688) = 465288123;
  *(_DWORD *)(v1 + 3692) = -1133394147;
  *(_DWORD *)(v1 + 3836) = 2147483648;
  *(_DWORD *)(v1 + 3840) = 2147483648;
  v7 = *(_DWORD *)(v1 + 3692);
  *(_WORD *)(v1 + 8044) = v3 + 60;
  v8 = *(_DWORD *)(v1 + 3688);
  *(_BYTE *)(v1 + 3696) = 0;
  *(_WORD *)(v1 + 3698) = 0;
  *(_WORD *)(v1 + 3700) = 0;
  *(_BYTE *)(v1 + 3710) = 1;
  *(_WORD *)(v1 + 3816) = 102;
  *(_BYTE *)(v1 + 3849) = -1;
  *(_BYTE *)(v1 + 3928) = 0;
  *(_BYTE *)(v1 + 4777) = 10;
  *(_BYTE *)(v1 + 80) = 1;
  *(_WORD *)(v1 + 8618) = 0;
  *(_DWORD *)(v1 + 8624) = v8;
  *(_DWORD *)(v1 + 8628) = v7;
  *(_BYTE *)(v1 + 8616) = 0;
  LOBYTE(a1) = 0;
  sub_10017650(21, &a1);
  if ( (unsigned __int8)a1 < 4u )
    *(_BYTE *)(v1 + 8616) = a1;
  *(_DWORD *)(v1 + 3624) = 0;
  *(_BYTE *)(v1 + 3681) = 1;
  if ( (unsigned __int8)sub_1004AE60() )
    result = sub_10014C70(1);
  else
    result = sub_10014C70(0);
  dword_10282A40 = (int)off_10078B00;
  return result;
}
// 10078B00: using guessed type char *off_10078B00[29];
// 100E49A4: using guessed type float flt_100E49A4;
// 10282A40: using guessed type int dword_10282A40;

//----- (10003340) --------------------------------------------------------
int __cdecl sub_10003340(int a1, char a2)
{
  float *v2; // esi@2
  float v3; // ST2C_4@7
  double v4; // st7@7
  double v5; // st6@7
  signed int v6; // ecx@7
  int v7; // eax@7
  char *v8; // ebx@8
  double v9; // st5@8
  char *v10; // ST24_4@8
  char *v11; // ST24_4@8
  float v12; // ST24_4@8
  float v13; // ST24_4@8
  float v14; // ST24_4@8
  float v15; // ST24_4@8
  float v16; // ST24_4@8
  float v17; // ST24_4@8
  int v18; // esi@10
  signed int v19; // ecx@10
  float v20; // ST28_4@10
  double v21; // st6@10
  float *v22; // eax@11
  float v23; // ST28_4@11
  void *v24; // ecx@12
  bool v25; // cf@14
  bool v26; // zf@14
  __int16 v27; // si@16
  int result; // eax@20
  float v29; // [sp+8h] [bp-114h]@4
  float v30; // [sp+Ch] [bp-110h]@20
  signed int v31; // [sp+10h] [bp-10Ch]@4
  char *v32; // [sp+14h] [bp-108h]@7
  char *v33; // [sp+18h] [bp-104h]@7
  char *v34; // [sp+1Ch] [bp-100h]@7
  char *v35; // [sp+20h] [bp-FCh]@7
  char *v36; // [sp+24h] [bp-F8h]@7
  char *v37; // [sp+28h] [bp-F4h]@7
  char *v38; // [sp+2Ch] [bp-F0h]@7
  char *v39; // [sp+30h] [bp-ECh]@7
  char v40[4]; // [sp+34h] [bp-E8h]@8
  char v41[4]; // [sp+38h] [bp-E4h]@8
  char v42[4]; // [sp+3Ch] [bp-E0h]@7
  char v43[4]; // [sp+40h] [bp-DCh]@7
  char v44[4]; // [sp+44h] [bp-D8h]@7
  char v45[64]; // [sp+48h] [bp-D4h]@7
  float v46; // [sp+88h] [bp-94h]@8
  float v47[6]; // [sp+8Ch] [bp-90h]@8
  float v48; // [sp+A4h] [bp-78h]@11
  char v49[4]; // [sp+A8h] [bp-74h]@8
  char v50[4]; // [sp+ACh] [bp-70h]@7
  char v51[4]; // [sp+B0h] [bp-6Ch]@7
  char v52[4]; // [sp+B4h] [bp-68h]@7
  char v53[4]; // [sp+B8h] [bp-64h]@7
  char v54[96]; // [sp+BCh] [bp-60h]@8

  if ( a2 == 21 )
  {
    v2 = (float *)&unk_10078978;
    dword_10282A40 = (int)off_10078B00;
  }
  else
  {
    v2 = flt_10078A00;
    dword_10282A40 = (int)off_10078B98;
  }
  v31 = *(_WORD *)(a1 + 3718);
  v29 = (double)v31 * 0.5;
  if ( *(_BYTE *)(a1 + 3680) && !*(_BYTE *)(a1 + 1140) )
    v29 = (double)(*(_WORD *)(a1 + 3718) - *(_WORD *)(a1 + 3718) / 8);
  v36 = (char *)(v50 - (char *)v2);
  v3 = (double)v31;
  v4 = v29;
  v5 = v3;
  v37 = (char *)(v42 - (char *)v2);
  v34 = (char *)(v51 - (char *)v2);
  v38 = (char *)(v43 - (char *)v2);
  v32 = (char *)(v52 - (char *)v2);
  v39 = (char *)(v44 - (char *)v2);
  v33 = (char *)(v53 - (char *)v2);
  v35 = (char *)(v45 - (char *)v2);
  v6 = 0;
  v7 = (int)(v2 + 2);
  do
  {
    v8 = v36;
    v9 = *(float *)(v7 - 8) / v5;
    v6 += 8;
    v7 += 32;
    *(float *)&v10 = v9;
    (&v32)[4 * v6] = v10;
    *(&v46 + v6) = *(float *)&v10 * v4;
    *(float *)&v11 = *(float *)(v7 - 36) / v5;
    (&v33)[4 * v6] = v11;
    v47[v6] = *(float *)&v11 * v4;
    v12 = *(float *)(v7 - 32) / v5;
    *(float *)(v40 - (char *)v2 + v7 - 32) = v12;
    *(float *)(v49 - (char *)v2 + v7 - 32) = v12 * v4;
    v13 = *(float *)(v7 - 28) / v5;
    *(float *)(v7 + v41 - (char *)v2 - 32) = v13;
    *(float *)&v8[v7 - 32] = v13 * v4;
    v14 = *(float *)(v7 - 24) / v5;
    *(float *)&v37[v7 - 32] = v14;
    *(float *)&v34[v7 - 32] = v14 * v4;
    v15 = *(float *)(v7 - 20) / v5;
    *(float *)&v38[v7 - 32] = v15;
    *(float *)&v32[v7 - 32] = v15 * v4;
    v16 = *(float *)(v7 - 16) / v5;
    *(float *)&v39[v7 - 32] = v16;
    *(float *)&v33[v7 - 32] = v16 * v4;
    v17 = *(float *)(v7 - 12) / v5;
    *(float *)&v35[v7 - 32] = v17;
    *(float *)(v54 - (char *)v2 + v7 - 32) = v17 * v4;
  }
  while ( v6 < 22 );
  if ( v6 < 29 )
  {
    v18 = (char *)v2 - v40;
    v19 = v6;
    v20 = (double)*(_WORD *)(a1 + 3718);
    v21 = v20;
    do
    {
      v22 = (float *)&v40[v19 * 4];
      ++v19;
      v23 = *(float *)((char *)v22 + v18) / v21;
      *v22 = v23;
      *(float *)((char *)&v48 + v19 * 4) = v23 * v4;
    }
    while ( v19 < 29 );
  }
  if ( (unsigned __int8)sub_10015000(1) )
  {
    memcpy((void *)(a1 + 8240), v49, 0x74u);
    memcpy((void *)(a1 + 7908), v40, 0x74u);
    sub_10017820(20);
  }
  v25 = *(_BYTE *)(a1 + 3622) < 8u;
  v26 = *(_BYTE *)(a1 + 3622) == 8;
  *(_BYTE *)(a1 + 3933) = 8;
  *(_BYTE *)(a1 + 4778) = 1;
  if ( !v25 && !v26 )
    *(_BYTE *)(a1 + 3622) = 3;
  v27 = *(_WORD *)(a1 + 3718);
  if ( *(_BYTE *)(a1 + 8554) && !*(_BYTE *)(a1 + 8559) && sub_1004AE30(v24) != 1 )
    v27 = (signed int)((double)v27 * 0.800000011920929);
  v26 = *(_BYTE *)(a1 + 8559) == 0;
  result = dword_10504E84;
  v30 = *(float *)(dword_10504E84 + 4 * *(_BYTE *)(a1 + 3622)) / (double)v27;
  *(float *)(a1 + 8236) = v30;
  if ( v26 )
    *(float *)(a1 + 8236) = v30 * 0.699999988079071;
  return result;
}
// 10078A00: using guessed type float flt_10078A00[];
// 10078B00: using guessed type char *off_10078B00[29];
// 10078B98: using guessed type char *off_10078B98[103];
// 10282A40: using guessed type int dword_10282A40;
// 10504E84: using guessed type int dword_10504E84;
// 10003340: using guessed type char var_70[4];
// 10003340: using guessed type char var_E0[4];
// 10003340: using guessed type char var_6C[4];
// 10003340: using guessed type char var_DC[4];
// 10003340: using guessed type char var_68[4];
// 10003340: using guessed type char var_D8[4];
// 10003340: using guessed type char var_64[4];
// 10003340: using guessed type char var_D4[64];
// 10003340: using guessed type char var_E8[4];
// 10003340: using guessed type char var_74[4];
// 10003340: using guessed type char var_E4[4];
// 10003340: using guessed type char var_60[96];
// 10003340: using guessed type float var_90[6];

//----- (10003690) --------------------------------------------------------
char __usercall sub_10003690@<al>(int a1@<esi>)
{
  char v1; // bl@1
  char result; // al@5

  v1 = *(_BYTE *)(a1 + 1128);
  if ( ((unsigned __int16)sub_10017A80() < 0x1F4u || v1) && ((unsigned __int16)sub_10017A80() > 0x190u || !v1) )
  {
    result = 0;
  }
  else
  {
    result = 1;
    *(_BYTE *)(a1 + 1128) = 1;
    if ( v1 == 1 )
      *(_BYTE *)(a1 + 1128) = 0;
  }
  return result;
}

//----- (100036D0) --------------------------------------------------------
unsigned __int8 __usercall sub_100036D0@<al>(char a1@<dl>, char *a2@<esi>, unsigned __int8 *a3)
{
  unsigned __int8 result; // al@1
  char v4; // cl@5
  unsigned __int8 v5; // bl@5

  result = 0;
  do
  {
    if ( *((_BYTE *)&dword_101EFA30 + result) != 1 )
      break;
    ++result;
  }
  while ( result < 5u );
  *a2 = -1;
  if ( result <= 5u )
  {
    v4 = 8 * a1 | result & 7;
    v5 = 0;
    while ( *((_BYTE *)&dword_101EFA30 + v5) != 1 || byte_101E6F5E[8712 * v5] != v4 )
    {
      if ( ++v5 >= 5u )
        goto LABEL_11;
    }
    if ( v5 < 5u )
      return result;
LABEL_11:
    *a2 = v4;
    byte_101E6F5E[8712 * result] = v4;
    *a3 = result;
  }
  return result;
}
// 101EFA30: using guessed type int dword_101EFA30;

//----- (10003750) --------------------------------------------------------
char __usercall sub_10003750@<al>(char a1@<bl>, unsigned __int8 *a2@<esi>)
{
  unsigned __int8 v2; // cl@1
  char result; // al@4
  unsigned __int8 v4; // dl@5

  v2 = a1 & 7;
  if ( (a1 & 7u) < 5 && *((_BYTE *)&dword_101EFA30 + v2) && byte_101E6F5E[8712 * v2] == a1 )
  {
    *a2 = v2;
    result = 0;
  }
  else
  {
    v4 = 0;
    while ( *((_BYTE *)&dword_101EFA30 + v4) != 1 || byte_101E6F5E[8712 * v4] != a1 )
    {
      if ( ++v4 >= 5u )
        return 3;
    }
    *a2 = v4;
    result = 0;
  }
  return result;
}
// 101EFA30: using guessed type int dword_101EFA30;

//----- (100037B0) --------------------------------------------------------
int __usercall sub_100037B0@<eax>(int a1@<esi>)
{
  __int16 v1; // dx@1
  __int16 v2; // ax@1
  int result; // eax@1

  v1 = *(_WORD *)(a1 + 3824);
  *(_DWORD *)(a1 + 1348) = dword_101E4FF4;
  v2 = *(_WORD *)(a1 + 3822);
  *(_WORD *)(a1 + 1354) = v2;
  *(_WORD *)(a1 + 1352) = v1;
  *(_WORD *)(a1 + 1358) = 4 * ((8 * v2 + 31) / 32);
  *(_BYTE *)(a1 + 1356) = 8;
  *(_BYTE *)(a1 + 1357) = 0;
  result = sub_1001B520(a1 + 1360, a1 + 1348, 0);
  *(_WORD *)(a1 + 1402) = 0;
  *(_WORD *)(a1 + 1400) = 0;
  *(_WORD *)(a1 + 1396) = 0;
  *(_WORD *)(a1 + 1398) = 0;
  return result;
}
// 101E4FF4: using guessed type int dword_101E4FF4;

//----- (10003850) --------------------------------------------------------
char sub_10003850()
{
  return 0;
}

//----- (10003860) --------------------------------------------------------
BOOL __usercall sub_10003860@<eax>(char a1@<al>, int a2@<esi>)
{
  char v2; // bl@1
  unsigned __int8 v3; // al@2
  unsigned __int8 v4; // al@5
  unsigned int v5; // eax@8
  void *v6; // ecx@10
  bool v7; // zf@12
  __int16 v8; // di@12
  float v10; // [sp+4h] [bp-4h]@16

  v2 = a1;
  if ( a1 == 1 )
  {
    v3 = *(_BYTE *)(a2 + 3622);
    if ( v3 > *(_BYTE *)(a2 + 4778) )
    {
      *(_BYTE *)(a2 + 3622) = v3 - v2;
      goto LABEL_8;
    }
  }
  else if ( a1 == 2 )
  {
    v4 = *(_BYTE *)(a2 + 3622);
    if ( v4 < *(_BYTE *)(a2 + 3933) )
    {
      *(_BYTE *)(a2 + 3622) = v4 + 1;
      goto LABEL_8;
    }
  }
  v2 = 0;
LABEL_8:
  v5 = *(_BYTE *)(a2 + 3933);
  if ( *(_BYTE *)(a2 + 3622) < v5 )
    LOBYTE(v5) = *(_BYTE *)(a2 + 3622);
  v6 = (void *)*(_BYTE *)(a2 + 4778);
  *(_BYTE *)(a2 + 3622) = v5;
  if ( (unsigned __int8)v5 <= (unsigned int)v6 )
    LOBYTE(v5) = (_BYTE)v6;
  v7 = *(_BYTE *)(a2 + 8554) == 0;
  v8 = *(_WORD *)(a2 + 3718);
  *(_BYTE *)(a2 + 3622) = v5;
  if ( !v7 && !*(_BYTE *)(a2 + 8559) && sub_1004AE30(v6) != 1 )
    v8 = (signed int)((double)v8 * 0.800000011920929);
  v7 = *(_BYTE *)(a2 + 8559) == 0;
  v10 = *(float *)(dword_10504E84 + 4 * *(_BYTE *)(a2 + 3622)) / (double)v8;
  *(float *)(a2 + 8236) = v10;
  if ( v7 )
    *(float *)(a2 + 8236) = v10 * 0.699999988079071;
  if ( v2 )
    flt_100E49A4 = 0.0;
  return v2 != 0;
}
// 100E49A4: using guessed type float flt_100E49A4;
// 10504E84: using guessed type int dword_10504E84;

//----- (10003970) --------------------------------------------------------
char __cdecl sub_10003970(_DWORD *a1, char a2)
{
  char result; // al@2
  bool v3; // zf@3
  int v4; // edx@10
  char v5; // [sp+7h] [bp-1h]@1

  v5 = -1;
  if ( a2 == -2 )
  {
    result = 0;
    goto LABEL_6;
  }
  v3 = sub_10003750(a2, (unsigned __int8 *)&v5) == 0;
  result = v5;
  if ( v3 )
    result = v5 + 1;
  if ( (unsigned __int8)result >= 5u )
  {
LABEL_8:
    *a1 = 0;
    return result;
  }
LABEL_6:
  while ( !*((_BYTE *)&dword_101EFA30 + (unsigned __int8)result) )
  {
    if ( (unsigned __int8)++result >= 5u )
      goto LABEL_8;
  }
  if ( (unsigned __int8)result >= 5u )
    goto LABEL_8;
  v4 = (unsigned __int8)result;
  result = (char)a1;
  *a1 = (char *)&unk_101E5000 + 8712 * v4;
  return result;
}
// 101EFA30: using guessed type int dword_101EFA30;

//----- (100039E0) --------------------------------------------------------
void __cdecl sub_100039E0(_DWORD *a1, char a2)
{
  unsigned __int8 v2; // [sp+7h] [bp-1h]@1

  v2 = -1;
  if ( a2 == -2 )
  {
    sub_10003970(a1, -2);
  }
  else if ( a2 == -1 || sub_10003750(a2, &v2) )
  {
    *a1 = 0;
  }
  else
  {
    *a1 = (char *)&unk_101E5000 + 8712 * v2;
  }
}

//----- (10003A40) --------------------------------------------------------
int __cdecl sub_10003A40(char a1)
{
  char v1; // bl@1
  int result; // eax@1
  int v3; // [sp+4h] [bp-4h]@1

  v1 = 0;
  sub_100039E0(&v3, -2);
  result = v3;
  if ( v3 )
  {
    do
    {
      if ( !*(_BYTE *)(result + 80) || (v1 = 1, a1) )
        *(_WORD *)(result + 3816) = 102;
      else
        *(_WORD *)(result + 3816) = 103;
      sub_10003970(&v3, *(_BYTE *)(result + 8030));
      result = v3;
    }
    while ( v3 );
    if ( v1 )
      result = sub_1003A9C0(3);
  }
  return result;
}

//----- (10003AC0) --------------------------------------------------------
char __thiscall sub_10003AC0(void *this)
{
  char result; // al@1
  void *v2; // ecx@1
  int i; // esi@3
  int v4; // eax@4
  signed int v5; // ecx@4
  int v6; // [sp+0h] [bp-4h]@1

  v6 = 0;
  result = sub_1004AE10(this);
  if ( result != 8 )
  {
    result = sub_1004AE10(v2);
    if ( result != 2 )
    {
      sub_100039E0(&v6, -2);
      sub_1004D080();
      result = sub_10016E50();
      for ( i = v6; v6; i = v6 )
      {
        *(_WORD *)(i + 8024) = 0;
        v4 = i + 3664;
        v5 = 4;
        do
        {
          *(_WORD *)(v4 + 2) = -1;
          *(_BYTE *)v4 = -1;
          v4 += 4;
          --v5;
        }
        while ( v5 );
        *(_WORD *)(i + 76) = -1;
        sub_1000F9F0(0, i);
        result = sub_10003970(&v6, *(_BYTE *)(i + 8030));
      }
    }
  }
  return result;
}
// 10016E50: using guessed type int sub_10016E50(void);

//----- (10003B60) --------------------------------------------------------
char __cdecl sub_10003B60(char a1)
{
  void *v1; // edi@1
  unsigned __int8 v2; // bl@3
  int v3; // eax@3
  int *v4; // esi@4
  char *v5; // eax@4
  signed int v6; // edi@4
  char result; // al@9
  unsigned __int8 v8; // [sp+Ah] [bp-6h]@1
  char v9; // [sp+Bh] [bp-5h]@1
  void *v10; // [sp+Ch] [bp-4h]@1

  v10 = 0;
  v9 = 3;
  v8 = -1;
  sub_100039E0(&v10, a1);
  v1 = v10;
  if ( v10 )
  {
    if ( sub_10003750(a1, &v8) )
    {
      result = v9;
    }
    else
    {
      v2 = *((_BYTE *)v1 + 3682);
      memset((char *)v1 + 100, 0, 0x404u);
      memset(v1, 0, 0x2208u);
      v3 = v8;
      dword_101E4FE0[v3] = 0;
      *((_BYTE *)&dword_101EFA30 + v3) = 0;
      byte_101E6F5E[8712 * v3] = -1;
      if ( *((_BYTE *)&word_101E4FFC + v2) == a1 )
      {
        *((_BYTE *)&word_101E4FFC + v2) = -1;
        v4 = &dword_101EFA30;
        v5 = byte_101E6F5E;
        v6 = 5;
        do
        {
          if ( *(_BYTE *)v4 == 1 && *(v5 - 4348) == v2 )
            *((_BYTE *)&word_101E4FFC + v2) = *v5;
          v4 = (int *)((char *)v4 + 1);
          v5 += 8712;
          --v6;
        }
        while ( v6 );
      }
      result = 0;
    }
  }
  else
  {
    result = v9;
  }
  return result;
}
// 101E4FE0: using guessed type int dword_101E4FE0[];
// 101E4FFC: using guessed type __int16 word_101E4FFC;
// 101EFA30: using guessed type int dword_101EFA30;

//----- (10003C60) --------------------------------------------------------
char __cdecl sub_10003C60(int a1)
{
  char result; // al@1
  int *v2; // edi@1
  char *v3; // esi@1
  int *v4; // ebx@1
  signed int v5; // ebp@1

  result = 3;
  v2 = &dword_101EFA30;
  v3 = byte_101E6F5E;
  v4 = dword_101E4FE0;
  v5 = 5;
  do
  {
    if ( *(_BYTE *)v2 )
    {
      if ( *v4 == a1 )
      {
        sub_10003B60(*v3);
        result = 0;
      }
    }
    v2 = (int *)((char *)v2 + 1);
    ++v4;
    v3 += 8712;
    --v5;
  }
  while ( v5 );
  return result;
}
// 101E4FE0: using guessed type int dword_101E4FE0[];
// 101EFA30: using guessed type int dword_101EFA30;

//----- (10003CC0) --------------------------------------------------------
char __usercall sub_10003CC0@<al>(int a1@<eax>)
{
  int v1; // esi@1
  char v2; // bl@1
  unsigned int v3; // eax@5
  int *v4; // ecx@5
  float *v5; // edx@5
  int v6; // edi@9
  int v7; // eax@10
  _BYTE *v8; // ecx@10
  _BYTE *v9; // edx@10
  int v10; // eax@12
  _BYTE *v11; // ecx@12
  _BYTE *v12; // edx@12
  _BYTE *v13; // ecx@14
  _BYTE *v14; // edx@14
  signed int v15; // eax@16
  char v16; // dl@21
  signed int v17; // ecx@21
  char result; // al@26
  float v19; // [sp+10h] [bp-28h]@21
  float v20; // [sp+14h] [bp-24h]@22
  char v21; // [sp+1Ch] [bp-1Ch]@1
  float v22; // [sp+20h] [bp-18h]@5
  char v23; // [sp+28h] [bp-10h]@1

  v1 = a1;
  byte_100E4985 = 0;
  v2 = sub_1004D420();
  sub_1003AB10(&v21);
  if ( byte_100E4984 != (v23 != 0) )
    byte_100E4986 = 0;
  byte_100E4984 = v23 != 0;
  if ( !v23 || !v2 )
  {
LABEL_27:
    result = 0;
    goto LABEL_28;
  }
  v3 = 4;
  v4 = &dword_100E498C;
  v5 = &v22;
  do
  {
    if ( *(_DWORD *)v5 != *v4 )
      goto LABEL_9;
    v3 -= 4;
    ++v4;
    ++v5;
  }
  while ( v3 >= 4 );
  if ( !v3 )
  {
LABEL_18:
    v15 = 0;
    goto LABEL_19;
  }
LABEL_9:
  v6 = *(_BYTE *)v5 - *(_BYTE *)v4;
  if ( *(_BYTE *)v5 == *(_BYTE *)v4 )
  {
    v7 = v3 - 1;
    v8 = (char *)v4 + 1;
    v9 = (char *)v5 + 1;
    if ( !v7 )
      goto LABEL_18;
    v6 = *v9 - *v8;
    if ( *v9 == *v8 )
    {
      v10 = v7 - 1;
      v11 = v8 + 1;
      v12 = v9 + 1;
      if ( !v10 )
        goto LABEL_18;
      v6 = *v12 - *v11;
      if ( *v12 == *v11 )
      {
        v13 = v11 + 1;
        v14 = v12 + 1;
        if ( v10 == 1 )
          goto LABEL_18;
        v6 = *v14 - *v13;
        if ( *v14 == *v13 )
          goto LABEL_18;
      }
    }
  }
  v15 = 1;
  if ( v6 <= 0 )
    v15 = -1;
LABEL_19:
  if ( !v15 || byte_100E4986 )
    goto LABEL_27;
  v19 = 9.9999996e24;
  v16 = 3;
  v17 = 2;
  do
  {
    v20 = *(float *)(dword_10504E84 + 4 * v17) * 0.25 - v22;
    if ( COERCE_FLOAT(LODWORD(v20) & 0x7FFFFFFF) < (double)v19 )
    {
      v19 = COERCE_FLOAT(LODWORD(v20) & 0x7FFFFFFF);
      v16 = v17;
    }
    ++v17;
  }
  while ( v17 < 8 );
  if ( *(_BYTE *)(v1 + 3622) == v16 )
    goto LABEL_27;
  *(_BYTE *)(v1 + 3710) = 1;
  *(_BYTE *)v1 = 0;
  *(_BYTE *)(v1 + 3622) = v16;
  sub_10003860(0, v1);
  sub_1003A9C0(5);
  result = 3;
LABEL_28:
  qmemcpy(&dword_100E4988, &v21, 0x1Cu);
  return result;
}
// 100E4984: using guessed type char byte_100E4984;
// 100E4985: using guessed type char byte_100E4985;
// 100E4986: using guessed type char byte_100E4986;
// 100E4988: using guessed type int dword_100E4988;
// 100E498C: using guessed type int dword_100E498C;
// 10504E84: using guessed type int dword_10504E84;

//----- (10003E60) --------------------------------------------------------
char __usercall sub_10003E60@<al>(int a1@<esi>)
{
  bool v1; // al@5
  char v2; // bl@7
  int v3; // eax@13
  double v4; // st7@18
  char v5; // al@33
  signed int v6; // eax@39
  int v7; // eax@45
  char v8; // al@49
  __int16 v9; // dx@49
  char v10; // cl@49
  char v11; // dl@49
  char v12; // al@49
  int v13; // eax@54
  int v14; // edi@54
  __int16 v15; // ax@54
  __int16 v16; // cx@54
  __int16 v17; // dx@58
  __int16 v18; // ax@58
  bool v19; // zf@58
  char v20; // al@60
  char v21; // bl@64
  char v22; // al@65
  __int16 v23; // cx@72
  __int16 v24; // ax@72
  __int16 v25; // di@74
  unsigned __int16 v26; // bx@74
  signed int v27; // eax@74
  __int16 v28; // dx@77
  signed __int16 v29; // ax@78
  char v31; // [sp+13h] [bp-59h]@1
  char v32; // [sp+14h] [bp-58h]@7
  char v33; // [sp+15h] [bp-57h]@1
  bool v34; // [sp+16h] [bp-56h]@7
  char v35; // [sp+17h] [bp-55h]@94
  int v36; // [sp+18h] [bp-54h]@7
  float v37; // [sp+1Ch] [bp-50h]@7
  int v38; // [sp+20h] [bp-4Ch]@7
  float v39; // [sp+24h] [bp-48h]@7
  float v40; // [sp+28h] [bp-44h]@39
  float v41; // [sp+2Ch] [bp-40h]@68
  float v42; // [sp+30h] [bp-3Ch]@94
  char v43; // [sp+34h] [bp-38h]@3
  int v44; // [sp+38h] [bp-34h]@7
  int v45; // [sp+3Ch] [bp-30h]@54
  double v46; // [sp+40h] [bp-2Ch]@5
  double v47; // [sp+48h] [bp-24h]@7
  char v48; // [sp+50h] [bp-1Ch]@49
  float v49; // [sp+54h] [bp-18h]@49
  char v50; // [sp+5Ch] [bp-10h]@49

  v33 = 0;
  v31 = 0;
  if ( !*(_BYTE *)(a1 + 8234) && !*(_BYTE *)(a1 + 1140) && sub_10015D00(a1, (int *)&v43) == 1 )
  {
    v33 = 1;
    v31 = 3;
  }
  v1 = sub_100169C0(0, (int)&v46);
  if ( v1 != *(_BYTE *)(a1 + 3696) )
  {
    v33 = 1;
    v31 = 3;
    *(_BYTE *)(a1 + 3696) = v1;
  }
  sub_1004A420((int)&v44, v46, v47);
  v32 = sub_1004D880(1, &v36);
  v34 = sub_10016CC0(&v39);
  sub_1004D500((int)&v38, v39);
  v2 = *(_BYTE *)(a1 + 3680);
  v37 = 0.0;
  if ( v2 && !*(_BYTE *)(a1 + 1140) )
  {
    if ( v34 != 1 || v2 != 1 && (v2 != 3 || *(_BYTE *)(a1 + 3681) != 1) )
    {
      if ( !v32 )
        goto LABEL_19;
      v3 = v36;
    }
    else
    {
      v3 = v38;
    }
    LODWORD(v37) = v3 - *(_DWORD *)(a1 + 3624);
  }
  if ( v32 )
  {
    v4 = (double)v36;
LABEL_23:
    *(_WORD *)(a1 + 8618) = (signed int)(v4 * 0.00000008381903171539307);
    goto LABEL_25;
  }
LABEL_19:
  if ( v34 )
  {
    v4 = (double)v38;
    goto LABEL_23;
  }
  if ( *(_BYTE *)(a1 + 8360) != 2 )
  {
    v4 = (double)*(signed int *)(a1 + 3656);
    goto LABEL_23;
  }
  *(_WORD *)(a1 + 8618) = 0;
LABEL_25:
  if ( v2 && !*(_BYTE *)(a1 + 1140) && v2 != 3 )
    goto LABEL_107;
  if ( v2 != 3 )
    goto LABEL_39;
  if ( !v32 && v34 || v32 && *(_BYTE *)(a1 + 8234) && (v5 = *(_BYTE *)(a1 + 8357), v5 != 3) && v5 )
  {
LABEL_107:
    *(_WORD *)(a1 + 8618) += (signed int)((double)*(signed int *)(a1 + 3624) * -0.00000008381903171539307);
  }
  else if ( !*(_BYTE *)(a1 + 1140) && v32 )
  {
    *(_WORD *)(a1 + 8618) = 0;
  }
LABEL_39:
  LODWORD(v40) = *(_WORD *)(a1 + 8618);
  v40 = (double)SLODWORD(v40) * 0.01745329251994333;
  v6 = (signed int)(sub_100637E0(v40) * 57.29577951308219);
  *(_WORD *)(a1 + 8618) = v6;
  if ( (signed __int16)v6 < 0 )
    *(_WORD *)(a1 + 8618) = v6 + 360;
  if ( v36 != *(_DWORD *)(a1 + 3656) && v32 == 1 )
  {
    *(_DWORD *)(a1 + 3656) = v36;
    if ( !v31 )
      v31 = 1;
  }
  v7 = *(_DWORD *)(a1 + 3624);
  if ( v7 != *(_DWORD *)(a1 + 3660) && v34 == 1 )
  {
    *(_DWORD *)(a1 + 3660) = v7;
    if ( !v31 )
      v31 = 1;
  }
  *(_BYTE *)(a1 + 8575) = *(_BYTE *)(a1 + 8574);
  v8 = sub_10016F40();
  v9 = *(_WORD *)(a1 + 8560);
  *(_BYTE *)(a1 + 8574) = v8;
  *(_WORD *)(a1 + 8562) = v9;
  *(_WORD *)(a1 + 8560) = sub_1004D470();
  sub_1003AB10(&v48);
  v10 = *(_BYTE *)(a1 + 8572);
  *(float *)(a1 + 8568) = *(float *)(a1 + 8564);
  v11 = v50;
  *(float *)(a1 + 8564) = v49;
  *(_BYTE *)(a1 + 8573) = v10;
  *(_BYTE *)(a1 + 8572) = v11;
  v12 = sub_10003CC0(a1);
  if ( (unsigned __int8)v12 > (unsigned __int8)v31 )
    v31 = v12;
  if ( !sub_10017880(*((_DWORD *)&dword_1007B79C + *(_BYTE *)(a1 + 3682))) )
  {
    if ( *(_WORD *)(a1 + 3698) >= 0 && *(_WORD *)(a1 + 3700) >= 0 )
    {
      v13 = v45;
      v14 = a1 + 8624;
      *(_DWORD *)v14 = v44;
      *(_DWORD *)(v14 + 4) = v13;
      sub_10015280(a1, a1 + 8624, a1 + 8620);
      v15 = *(_WORD *)(a1 + 3684) - *(_WORD *)(a1 + 3698);
      v16 = *(_WORD *)(a1 + 3686) - *(_WORD *)(a1 + 3700);
      if ( *(_BYTE *)(a1 + 8234) || *(_BYTE *)(a1 + 74) == 2 )
        goto LABEL_108;
      if ( *(_WORD *)(a1 + 8622) < 0 )
        *(_WORD *)(a1 + 8622) = 0;
      *(_DWORD *)(a1 + 3684) = *(_DWORD *)(a1 + 8620);
      *(_DWORD *)(a1 + 3688) = *(_DWORD *)v14;
      *(_DWORD *)(a1 + 3692) = *(_DWORD *)(a1 + 8628);
      v17 = *(_WORD *)(a1 + 3684) - v15;
      v18 = *(_WORD *)(a1 + 3686) - v16;
      v19 = *(_BYTE *)(a1 + 8029) == 0;
      *(_WORD *)(a1 + 3698) = v17;
      *(_WORD *)(a1 + 3700) = v18;
      if ( !v19 )
      {
        sub_10017820(*((_DWORD *)&dword_1007B79C + *(_BYTE *)(a1 + 3682)));
        sub_1000DE10(a1);
        sub_10017880(*((_DWORD *)&dword_1007B79C + *(_BYTE *)(a1 + 3682)));
      }
      v20 = *(_BYTE *)(a1 + 3680);
      if ( (v20 == 1 || v20 == 3)
        && !*(_BYTE *)(a1 + 1140)
        && (signed int)((LODWORD(v37) - (LODWORD(v37) >> 31)) ^ ((signed int)(LODWORD(v37) - (LODWORD(v37) >> 31)) >> 31)) > 11930464 )
      {
        goto LABEL_64;
      }
      v22 = *(_BYTE *)(a1 + 8357);
      if ( (!v22 || v22 == 2) && sub_100195F0() == 1 )
      {
        sub_10021AC0(&v41);
        v37 = v41 - *(float *)(a1 + 8036);
        LODWORD(v37) &= 0x7FFFFFFFu;
        if ( v37 > 0.01396263422401413 )
        {
          *(float *)(a1 + 8036) = v41;
          v33 = 1;
        }
      }
      if ( *(_BYTE *)(a1 + 8360) != 2 || *(_BYTE *)(a1 + 8559) )
      {
        v24 = *(_WORD *)(a1 + 3718) / 2;
        v23 = *(_WORD *)(a1 + 3718) / 2;
      }
      else
      {
        v23 = *(_WORD *)(a1 + 3718) / 8;
        v24 = *(_WORD *)(a1 + 3718) + *(_WORD *)(a1 + 3714) - v23 - 10;
      }
      v25 = v24;
      v26 = *(_WORD *)(a1 + 3716) / 2;
      v27 = *(_DWORD *)(a1 + 3688);
      LODWORD(v40) = v26;
      if ( v27 >= 894784853 || v27 <= -715827882 )
      {
        v25 = 0;
        v23 = 0;
      }
      v28 = *(_WORD *)(a1 + 3686);
      if ( v28 >= v25
        && (v29 = *(_WORD *)(a1 + 3684), *(_WORD *)(a1 + 3684) < *(_WORD *)(a1 + 8046) - (signed __int16)v26)
        && v28 < *(_WORD *)(a1 + 8044) - v23
        && v29 >= SLOWORD(v40)
        && v29 >= 0
        && v29 < *(_WORD *)(a1 + 8046)
        && v28 >= 0
        && v28 < *(_WORD *)(a1 + 8044)
        && !sub_10003850() )
      {
LABEL_108:
        v21 = v33;
      }
      else
      {
        v21 = 1;
      }
LABEL_88:
      if ( ((*(_BYTE *)(a1 + 8548) && *(_BYTE *)(a1 + 8549)
          || *(_BYTE *)(a1 + 8550)
          || *(_BYTE *)(a1 + 8040) && *(_BYTE *)(a1 + 8041))
         && *(_BYTE *)(a1 + 74) != 2
         && ((sub_1003ADA0(&v42, &v35), v35)
          && *(_BYTE *)(a1 + 3644)
          && abs((signed int)(v42 - *(float *)(a1 + 3648))) > sub_10010130()
          || v35 != *(_BYTE *)(a1 + 3644))
         || v21)
        && (unsigned __int8)v31 < 2u )
      {
        v31 = 2;
      }
      else if ( (unsigned __int8)v31 < 1u )
      {
        v31 = 1;
      }
      sub_10017820(*((_DWORD *)&dword_1007B79C + *(_BYTE *)(a1 + 3682)));
      return v31;
    }
LABEL_64:
    v21 = 1;
    goto LABEL_88;
  }
  return v31;
}

//----- (100044A0) --------------------------------------------------------
char __cdecl sub_100044A0(char a1, char a2, _BYTE *a3)
{
  int v3; // eax@1
  char result; // al@7
  int v5; // [sp+4h] [bp-4h]@1

  v5 = 0;
  sub_100039E0(&v5, a2);
  v3 = v5;
  if ( v5 )
  {
    do
    {
      if ( a1 == 28 )
        *a3 = *(_BYTE *)(v3 + 8559);
      else
        *a3 = *(_BYTE *)(v3 + 3622);
      if ( a2 != -2 )
        break;
      sub_10003970(&v5, *(_BYTE *)(v3 + 8030));
      v3 = v5;
    }
    while ( v5 );
    result = 0;
  }
  else
  {
    result = 3;
  }
  return result;
}

//----- (10004520) --------------------------------------------------------
char __cdecl sub_10004520(int a1, __int16 a2, char a3)
{
  int v3; // edi@1
  int v4; // esi@1
  char *v5; // eax@15
  void *v6; // ecx@15
  char v7; // al@15
  char v9; // [sp+Fh] [bp-5h]@1
  int v10; // [sp+10h] [bp-4h]@1

  v9 = 1;
  sub_100039E0(&v10, a3);
  v3 = a1;
  v4 = v10;
  *(_BYTE *)(v10 + 8028) = 0;
  if ( a1 & 0x2000 )
    *(_BYTE *)(v4 + 8028) = 1;
  *(_BYTE *)(v4 + 8040) = 0;
  if ( v3 & 0x20000 )
    *(_BYTE *)(v4 + 8040) = 1;
  *(_BYTE *)(v4 + 8548) = 0;
  if ( a1 & 0x20000000 )
    *(_BYTE *)(v4 + 8548) = 1;
  *(_BYTE *)(v4 + 8550) = 0;
  if ( a1 & 0x40000000 )
  {
    *(_BYTE *)(v4 + 3680) = 3;
    *(_BYTE *)(v4 + 3710) = 1;
    *(_BYTE *)(v4 + 8360) = 2;
    *(_BYTE *)(v4 + 8550) = 1;
    byte_100E4986 = 0;
    sub_10017B40(3159, (void *)(v4 + 8558), 1, &v9);
  }
  *(_BYTE *)(v4 + 8553) = 0;
  if ( a1 & 0x80000000 )
    *(_BYTE *)(v4 + 8553) = 1;
  *(_BYTE *)(v4 + 8552) = 0;
  if ( a2 & 0x800 )
    *(_BYTE *)(v4 + 8552) = 1;
  *(_BYTE *)(v4 + 8551) = 0;
  if ( a2 & 0x400 )
    *(_BYTE *)(v4 + 8551) = 1;
  *(_BYTE *)(v4 + 8554) = 0;
  *(_BYTE *)(v4 + 1344) = 0;
  v5 = sub_1004D8D0(0x1185u);
  sub_1004A220(v4 + 8440, v5, 31);
  *(_WORD *)(v4 + 8472) = 37;
  *(_BYTE *)(v4 + 8612) = 2;
  *(_BYTE *)(v4 + 1140) = 0;
  v7 = sub_1004ACF0(v6);
  sub_10003340(v4, v7);
  *(_BYTE *)(v4 + 3710) = 1;
  return 0;
}
// 100E4986: using guessed type char byte_100E4986;

//----- (100046A0) --------------------------------------------------------
char __cdecl sub_100046A0(__int16 a1, char a2, int a3)
{
  int v3; // esi@1
  char v4; // bl@1
  char v5; // al@7
  char result; // al@29
  unsigned __int8 v7; // al@31
  char v8; // cl@34
  bool v9; // zf@34
  _BYTE *v10; // eax@34
  char *v11; // ecx@37
  char *v12; // eax@37
  unsigned __int8 v13; // al@40
  unsigned __int8 v14; // al@44
  char v15; // al@52
  char v16; // ST0C_1@58
  char v17; // al@59
  char v18; // ST0C_1@62
  void *v19; // ecx@62
  char v20; // al@62
  char v21; // al@63
  signed int v22; // ebx@69
  signed int v23; // ebx@75
  char v24; // [sp+Dh] [bp-Fh]@2
  char v25; // [sp+Eh] [bp-Eh]@52
  char v26; // [sp+Fh] [bp-Dh]@2
  int v27; // [sp+10h] [bp-Ch]@1
  int v28; // [sp+14h] [bp-8h]@44
  int v29; // [sp+18h] [bp-4h]@59

  v27 = 0;
  sub_100039E0(&v27, a2);
  v3 = v27;
  v4 = 1;
  if ( v27 )
  {
    while ( 2 )
    {
      v24 = 0;
      v26 = 0;
      switch ( a1 )
      {
        case 0:
          if ( a2 != -1 && *(_BYTE *)v3 && *(_BYTE *)(v3 + 1346) && *(_BYTE *)(v3 + 8612) != 2 )
          {
            v5 = sub_10003E60(v3);
            v24 = v5;
            if ( v5 != 3 && *(_BYTE *)(v3 + 8029) == 1 )
            {
              v24 = 1;
              v26 = 1;
              *(_BYTE *)a3 = 0;
              goto LABEL_49;
            }
            if ( v5 == 1 )
              v26 = 1;
          }
          *(_BYTE *)a3 = 0;
          goto LABEL_49;
        case 5:
          *(_BYTE *)(v3 + 1346) = 1;
          sub_10003E60(v3);
          v24 = 2;
          v26 = 1;
          v4 = 0;
          goto LABEL_19;
        case 0xC:
          *(_BYTE *)v3 = 0;
          sub_10003E60(v3);
          v24 = 2;
          v4 = 0;
          goto LABEL_19;
        case 0x17:
          *(_BYTE *)(v3 + 80) = *(_BYTE *)a3;
          goto LABEL_16;
        case 0x21:
          goto LABEL_17;
        case 0x18:
          *(_BYTE *)(v3 + 3623) = *(_BYTE *)a3;
LABEL_16:
          v4 = 0;
          goto LABEL_17;
        case 0x20:
          v7 = *(_BYTE *)a3;
          if ( *(_BYTE *)a3 >= 0x37u )
          {
            if ( *(_BYTE *)a3 != 55 )
              goto LABEL_49;
            v11 = (char *)(v3 + 8073);
            v12 = byte_100786F0;
            do
            {
              *v11 = *v12;
              v12 += 8;
              ++v11;
            }
            while ( (signed int)v12 < (signed int)&unk_100788B8 );
            goto LABEL_48;
          }
          if ( *(_BYTE *)(a3 + 3) == 1 )
            *(_BYTE *)(a3 + 1) = byte_100786F0[8 * v7];
          v8 = *(_BYTE *)(a3 + 1);
          v9 = *(_BYTE *)(v7 + v3 + 8073) == v8;
          v10 = (_BYTE *)(v7 + v3 + 8073);
          if ( !v9 )
          {
            *v10 = v8;
LABEL_48:
            v24 = 2;
          }
LABEL_49:
          v4 = 0;
          if ( v24 == 3 || v24 == 2 )
            goto LABEL_19;
LABEL_17:
          if ( *(_BYTE *)(v3 + 8612) == 2 || sub_10003690(v3) )
          {
LABEL_19:
            sub_1000F9F0(0, v3);
            *(_BYTE *)(v3 + 8612) = 0;
          }
          if ( (v26 == 1 || v24 == 1) && *(_BYTE *)v3 )
          {
            sub_1000DE10(v3);
            if ( !a1 )
            {
              *(_BYTE *)a3 = *(_BYTE *)(v3 + 1360) != 0;
              if ( *(_BYTE *)(v3 + 8029) == 1 )
                *(_BYTE *)(v3 + 8029) = 0;
            }
            *(_BYTE *)(v3 + 1360) = 0;
          }
          if ( a2 == -2 )
          {
            sub_10003970(&v27, *(_BYTE *)(v3 + 8030));
            v3 = v27;
            if ( v27 )
              continue;
          }
          result = v4;
          break;
        case 0x2F:
          v13 = *(_BYTE *)a3;
          if ( *(_BYTE *)(v3 + 8232) == *(_BYTE *)a3 || (char)v13 < -4 || (char)v13 > 3 )
            goto LABEL_49;
          *(_BYTE *)(v3 + 8232) = v13;
          goto LABEL_48;
        case 0x36:
          v14 = *(_BYTE *)a3;
          v9 = *(_BYTE *)(v3 + 8558) == *(_BYTE *)a3;
          LOBYTE(v28) = *(_BYTE *)a3;
          if ( v9 )
            goto LABEL_49;
          if ( !v14 || v14 == 1 )
          {
            *(_BYTE *)(v3 + 8558) = v14;
            sub_10014C30(v28);
          }
          goto LABEL_48;
        case 0x37:
          v15 = *(_BYTE *)a3;
          v25 = v15;
          if ( *(_BYTE *)(v3 + 8589) != v15 && (!v15 || v15 == 1) )
          {
            *(_BYTE *)(v3 + 8589) = v15;
            sub_10017C70(9108, (int)&v25, 1);
          }
          v4 = 0;
          goto LABEL_17;
        case 0x38:
          if ( *(_BYTE *)(v3 + 8549) == *(_BYTE *)a3 )
            goto LABEL_49;
          v16 = *(_BYTE *)a3;
          *(_BYTE *)(v3 + 8549) = *(_BYTE *)a3;
          sub_10014CB0(v16);
          goto LABEL_48;
        case 0x39:
          v17 = *(_BYTE *)a3;
          v9 = *(_BYTE *)(v3 + 8559) == *(_BYTE *)a3;
          LOBYTE(v29) = *(_BYTE *)a3;
          if ( v9 || v17 && v17 != 1 )
            goto LABEL_49;
          v18 = v29;
          *(_BYTE *)(v3 + 8559) = v17;
          sub_10014CD0(v18);
          v20 = sub_1004ACF0(v19);
          sub_10003340(v3, v20);
          *(_BYTE *)(v3 + 3710) = 1;
          goto LABEL_48;
        case 0x42:
          v21 = *(_BYTE *)a3;
          if ( *(_BYTE *)(v3 + 3622) == *(_BYTE *)a3
            || (unsigned __int8)v21 < *(_BYTE *)(v3 + 4778)
            || (unsigned __int8)v21 > *(_BYTE *)(v3 + 3933) )
          {
            goto LABEL_49;
          }
          *(_BYTE *)v3 = 0;
          *(_BYTE *)(v3 + 3622) = *(_BYTE *)a3;
          sub_10003860(0, v3);
          if ( *(_BYTE *)(v3 + 1346) == 1 )
            sub_10003E60(v3);
          *(_BYTE *)(v3 + 3710) = 1;
          goto LABEL_48;
        case 0x46:
          v22 = 0;
          if ( *(_BYTE *)a3 )
          {
            do
            {
              if ( !(unsigned __int8)sub_10003860(1, v3) )
                break;
              ++v22;
            }
            while ( v22 < *(_BYTE *)a3 );
            if ( v22 > 0 )
            {
              sub_1003A9C0(4);
              sub_1003A9C0(5);
              *(_BYTE *)v3 = 0;
              *(_BYTE *)(v3 + 3710) = 1;
              v24 = 2;
              byte_100E4986 = 1;
            }
          }
          *(_BYTE *)(a3 + 1) = *(_BYTE *)(v3 + 3622);
          goto LABEL_49;
        case 0x47:
          v23 = 0;
          if ( *(_BYTE *)a3 )
          {
            do
            {
              if ( !(unsigned __int8)sub_10003860(2, v3) )
                break;
              ++v23;
            }
            while ( v23 < *(_BYTE *)a3 );
            if ( v23 > 0 )
            {
              sub_1003A9C0(4);
              sub_1003A9C0(5);
              *(_BYTE *)v3 = 0;
              *(_BYTE *)(v3 + 3710) = 1;
              v24 = 2;
              byte_100E4986 = 1;
            }
          }
          *(_BYTE *)(a3 + 1) = *(_BYTE *)(v3 + 3622);
          goto LABEL_49;
        default:
          *(_BYTE *)(v3 + 52) = -1;
          *(_DWORD *)(v3 + 56) = 0x3FFFF;
          *(_DWORD *)(v3 + 3712) = *(_DWORD *)(a3 + 2);
          *(_DWORD *)(v3 + 3716) = *(_DWORD *)(a3 + 6);
          *(_WORD *)(v3 + 3712) = 0;
          *(_WORD *)(v3 + 3714) = 0;
          *(_DWORD *)(v3 + 3816) = *(_DWORD *)a3;
          *(_DWORD *)(v3 + 3820) = *(_DWORD *)(a3 + 4);
          *(_WORD *)(v3 + 3824) = *(_WORD *)(a3 + 8);
          *(_WORD *)(v3 + 3818) = 0;
          *(_WORD *)(v3 + 3820) = 0;
          *(_BYTE *)(v3 + 8040) = 0;
          *(_BYTE *)(v3 + 8360) = 2;
          *(_BYTE *)(v3 + 8548) = 0;
          *(float *)(v3 + 8564) = 9.9999996e24;
          *(float *)(v3 + 8568) = 9.9999996e24;
          v25 = 0;
          sub_10017B40(9108, (void *)(v3 + 8589), 1, &v25);
          sub_100037B0(v3);
          *(_BYTE *)v3 = 0;
          v4 = 0;
          goto LABEL_17;
      }
      break;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}
// 100E4986: using guessed type char byte_100E4986;

//----- (10004BD0) --------------------------------------------------------
char __cdecl sub_10004BD0(char a1)
{
  void *v1; // ecx@0
  char v2; // bl@1
  void *v3; // ecx@3
  int i; // esi@3
  char v5; // al@6
  int v7; // [sp+8h] [bp-4h]@1

  v2 = 3;
  v7 = 0;
  if ( a1 == 3 )
    sub_10003AC0(v1);
  sub_100039E0(&v7, -2);
  for ( i = v7; v7; i = v7 )
  {
    if ( *(_BYTE *)(i + 1346) )
    {
      switch ( a1 )
      {
        case 0xA:
          v5 = sub_1004ACF0(v3);
          sub_10003340(i, v5);
          goto LABEL_8;
        case 8:
          if ( !*(_BYTE *)(i + 8048) )
            goto LABEL_8;
          break;
        case 2:
        case 7:
        case 0xB:
        case 0xC:
LABEL_8:
          *(_BYTE *)(i + 3710) = 1;
          goto LABEL_9;
        case 0:
        case 4:
        case 6:
LABEL_9:
          sub_1000F9F0(0, i);
          v2 = 0;
          break;
        default:
          break;
      }
    }
    sub_10003970(&v7, *(_BYTE *)(i + 8030));
  }
  return v2;
}

//----- (10004CA0) --------------------------------------------------------
void sub_10004CA0()
{
  int v0; // esi@1
  int v1; // eax@4
  char v2; // al@7
  double v3; // st7@13
  signed int v4; // eax@22
  signed int v5; // eax@24
  bool v6; // zf@27
  __int64 v7; // rax@30
  _WORD *v8; // edi@32
  _WORD *v9; // ebx@32
  double v10; // st7@41
  int v11; // ecx@41
  float v12; // [sp+20h] [bp-4Ch]@6
  float v13; // [sp+24h] [bp-48h]@27
  __int16 v14; // [sp+28h] [bp-44h]@32
  __int16 v15; // [sp+2Ah] [bp-42h]@32
  int v16; // [sp+2Ch] [bp-40h]@1
  int v17; // [sp+30h] [bp-3Ch]@12
  float v18; // [sp+34h] [bp-38h]@15
  float v19; // [sp+38h] [bp-34h]@27
  int v20; // [sp+3Ch] [bp-30h]@29
  int v21; // [sp+40h] [bp-2Ch]@26
  int v22; // [sp+44h] [bp-28h]@5
  int v23; // [sp+48h] [bp-24h]@5
  int v24; // [sp+4Ch] [bp-20h]@30
  int v25; // [sp+50h] [bp-1Ch]@30
  char v26; // [sp+54h] [bp-18h]@36
  double v27; // [sp+5Ch] [bp-10h]@5
  double v28; // [sp+64h] [bp-8h]@5

  sub_100039E0(&v16, -2);
  v0 = v16;
  if ( v16 )
  {
    while ( 1 )
    {
      if ( *(_BYTE *)(v0 + 1346) )
      {
        if ( *(_BYTE *)(v0 + 74) == 2 )
        {
          v1 = *(_BYTE *)(v0 + 3682);
          if ( *((_BYTE *)&word_101E4FFC + v1) == *(_BYTE *)(v0 + 8030) )
            break;
        }
      }
LABEL_42:
      sub_10003970(&v16, *(_BYTE *)(v0 + 8030));
      v0 = v16;
      if ( !v16 )
        return;
    }
    sub_100178A0(*((_DWORD *)&dword_1007B7A8 + v1), 60000);
    sub_100178A0(*((_DWORD *)&dword_1007B79C + *(_BYTE *)(v0 + 3682)), 60000);
    sub_10006F70(v0 + 3940, 1);
    sub_100169C0(0, (int)&v27);
    sub_1004A420(v0 + 8624, v27, v28);
    v22 = *(_DWORD *)(v0 + 8624);
    v23 = *(_DWORD *)(v0 + 8628);
    *(_DWORD *)(v0 + 3688) = v22;
    *(_DWORD *)(v0 + 3692) = *(_DWORD *)(v0 + 8628);
    if ( sub_10016D70() && sub_10016CC0(&v12) )
    {
      v2 = 1;
    }
    else
    {
      v2 = 0;
      v12 = 0.0;
    }
    if ( *(_BYTE *)(v0 + 3680) == 3 && !*(_BYTE *)(v0 + 1140) || !v2 )
    {
      v12 = (double)*(signed int *)(v0 + 3624) * 0.000000001462918079267163;
      if ( sub_1004D880(1, &v17) )
      {
        v3 = (double)v17 * 0.000000001462918079267163;
      }
      else
      {
        if ( !sub_10016D70() || !sub_10016CC0(&v18) )
          goto LABEL_18;
        v3 = v18;
      }
      v12 = v3;
    }
LABEL_18:
    *(_WORD *)(v0 + 8046) = *(_WORD *)(v0 + 3716) + 60;
    *(_WORD *)(v0 + 8044) = *(_WORD *)(v0 + 3718) + 60;
    if ( *(_BYTE *)(v0 + 3680) && !*(_BYTE *)(v0 + 1140) && !*(_BYTE *)(v0 + 8234) )
    {
      *(_WORD *)(v0 + 8046) = *(_WORD *)(v0 + 3716) + 60;
      *(_WORD *)(v0 + 8044) = *(_WORD *)(v0 + 3718) + 120;
    }
    v4 = *(_WORD *)(dword_104CEA64 + 2 * *(_BYTE *)(v0 + 3682));
    if ( *(_WORD *)(v0 + 8046) < v4 )
      LOWORD(v4) = *(_WORD *)(v0 + 8046);
    *(_WORD *)(v0 + 8046) = v4;
    v5 = (unsigned __int16)word_100786E4[*(_BYTE *)(v0 + 3682)];
    if ( *(_WORD *)(v0 + 8044) < v5 )
      LOWORD(v5) = *(_WORD *)(v0 + 8044);
    *(_WORD *)(v0 + 8044) = v5;
    *(_WORD *)(v0 + 8046) &= 0xFFFEu;
    *(_WORD *)(v0 + 8044) &= 0xFFFEu;
    v21 = sub_10017740();
    sub_10015310(v0);
    if ( !*(_BYTE *)(v0 + 8234) )
    {
      sub_10016DD0(&v19);
      v6 = *(_BYTE *)(v0 + 8360) == 2;
      v13 = flt_100E49A4 * v19;
      if ( v6 && !*(_BYTE *)(v0 + 8559) )
      {
        v20 = *(_WORD *)(v0 + 8044) / 2 + *(_WORD *)(v0 + 3718) / -8 - *(_BYTE *)(v0 + 4777);
        v13 = (double)v20 * *(float *)(v0 + 8236) + v13;
      }
      sub_10014D10((int)&v22, v13, v12, (int)&v24);
      v7 = (signed int)(v23 - v25 - ((unsigned int)(v23 - v25) >> 31));
      if ( (signed int)(v7 ^ HIDWORD(v7)) < 0x40000000 )
      {
        v22 = v24;
        v23 = v25;
      }
    }
    sub_1003ADA0((float *)(v0 + 3648), (_BYTE *)(v0 + 3644));
    sub_10015D80(v0, (int)&v22);
    sub_1001B610(v0 + 3940, *(_WORD *)(v0 + 3982), *(_WORD *)(v0 + 3980), *(_WORD *)(v0 + 8046), *(_WORD *)(v0 + 8044));
    *(_BYTE *)(v0 + 3928) = 2;
    v8 = (_WORD *)(v0 + 3684);
    v9 = (_WORD *)(v0 + 3698);
    v14 = *(_WORD *)(v0 + 3684) - *(_WORD *)(v0 + 3698);
    v15 = *(_WORD *)(v0 + 3686) - *(_WORD *)(v0 + 3700);
    sub_10015280(v0, v0 + 3688, v0 + 3684);
    sub_10015280(v0, v0 + 8624, v0 + 8620);
    sub_10015280(v0, v0 + 3736, v0 + 3732);
    if ( *(_BYTE *)(v0 + 3710) )
    {
      *v9 = *v8 - *(_WORD *)(v0 + 3822) / 2;
      *(_WORD *)(v0 + 3700) = *(_WORD *)(v0 + 3686) - *(_WORD *)(v0 + 3824) / 2;
      *(_BYTE *)(v0 + 3710) = 0;
    }
    else
    {
      *v9 = *v8 - v14;
      *(_WORD *)(v0 + 3700) = *(_WORD *)(v0 + 3686) - v15;
    }
    if ( *(_WORD *)(v0 + 3700) < 0 )
    {
      sub_10014F30(v0, v0 + 3698, (int)&v26);
      *(_WORD *)(v0 + 3700) = 0;
    }
    if ( *v9 < 0 )
      *v9 = 0;
    sub_1000F2A0();
    sub_10007AF0(v0, 0, 0);
    sub_10011BC0(v0);
    if ( *(_BYTE *)(v0 + 8558) == 1 )
      sub_10002FA0(v0);
    sub_10011A60(v0);
    sub_1000F2B0(v0, v0 + 3940);
    sub_1000DA60((int)v9, (int)v8, v0);
    *(_WORD *)(v0 + 3826) = *(_WORD *)(v0 + 3818);
    *(_WORD *)(v0 + 3828) = *(_WORD *)(v0 + 3820);
    sub_10017820(*((_DWORD *)&dword_1007B7A8 + *(_BYTE *)(v0 + 3682)));
    v10 = sub_1004D910(v21);
    v11 = *(_BYTE *)(v0 + 3682);
    flt_100E49A4 = v10;
    sub_10017820(*((_DWORD *)&dword_1007B79C + v11));
    *(_BYTE *)(v0 + 74) = 3;
    *(_BYTE *)(v0 + 8029) = 1;
    *(_BYTE *)v0 = 1;
    sub_1003A9C0(1);
    goto LABEL_42;
  }
}
// 100786E4: using guessed type __int16 word_100786E4[];
// 100E49A4: using guessed type float flt_100E49A4;
// 101E4FFC: using guessed type __int16 word_101E4FFC;
// 104CEA64: using guessed type int dword_104CEA64;

//----- (100051E0) --------------------------------------------------------
bool __usercall sub_100051E0@<al>(unsigned int a1@<edi>)
{
  unsigned __int8 v1; // bl@1
  int *v2; // eax@6
  int *v3; // ecx@6
  signed int v4; // esi@6
  char v5; // cl@11
  char v6; // bl@11
  unsigned __int8 v8; // [sp+9h] [bp-3h]@11
  char v9; // [sp+Ah] [bp-2h]@4
  char v10; // [sp+Bh] [bp-1h]@1

  v1 = 0;
  v10 = 1;
  if ( a1 == 3 || a1 > 0xE && a1 <= 0x10 )
  {
    v9 = 2;
  }
  else
  {
    v9 = 4;
    sub_10003C60(6);
  }
  v2 = &dword_101EFA30;
  v3 = dword_101E4FE0;
  v4 = 5;
  do
  {
    if ( *(_BYTE *)v2 && *v3 == a1 )
      ++v1;
    v2 = (int *)((char *)v2 + 1);
    ++v3;
    --v4;
  }
  while ( v4 );
  v5 = v9;
  v8 = v1;
  v6 = 0;
  if ( v8 >= (unsigned __int8)v9 )
  {
    do
    {
      if ( v6 >= 5 )
        break;
      if ( *((_BYTE *)&dword_101EFA30 + v6)
        && dword_101E4FE0[v6] == a1
        && (!v10 || *((_BYTE *)&word_101E4FFC + (unsigned __int8)byte_101E5E62[8712 * v6]) != byte_101E6F5E[8712 * v6]) )
      {
        sub_10003B60(byte_101E6F5E[8712 * v6]);
        v5 = v9;
        --v8;
      }
      if ( v6 == 4 && v8 >= (unsigned __int8)v5 && v10 == 1 )
      {
        v10 = 0;
        v6 = -1;
      }
      ++v6;
    }
    while ( v8 >= (unsigned __int8)v5 );
  }
  return v5 != 0;
}
// 101E4FE0: using guessed type int dword_101E4FE0[];
// 101E4FFC: using guessed type __int16 word_101E4FFC;
// 101EFA30: using guessed type int dword_101EFA30;

//----- (100052E0) --------------------------------------------------------
char __cdecl sub_100052E0(char a1)
{
  char result; // al@4
  int v2; // [sp+8h] [bp-4h]@1

  v2 = 0;
  byte_100E4985 = 1;
  sub_100039E0(&v2, a1);
  if ( v2 )
  {
    byte_101EFA35 = 1;
    if ( byte_101D27E8 )
      sub_1000F990();
    sub_10003B60(a1);
    byte_101EFA35 = 0;
    sub_10004BD0(13);
    result = 0;
  }
  else
  {
    result = 3;
  }
  return result;
}
// 100E4985: using guessed type char byte_100E4985;
// 101D27E8: using guessed type char byte_101D27E8;
// 101EFA35: using guessed type char byte_101EFA35;

//----- (10005350) --------------------------------------------------------
char __cdecl sub_10005350(_BYTE *a1, unsigned __int8 a2, char a3, unsigned int a4)
{
  bool v4; // al@3
  char v5; // cl@4
  int v6; // eax@5
  char *v7; // esi@5
  char result; // al@5
  char v9; // [sp+Ah] [bp-2h]@1
  unsigned __int8 v10; // [sp+Bh] [bp-1h]@1

  v9 = -1;
  v10 = -1;
  byte_101EFA35 = 1;
  if ( byte_101D27E8 )
    sub_1000F990();
  v4 = sub_100051E0(a4);
  byte_101EFA35 = 0;
  if ( v4 )
  {
    sub_100036D0(a3, &v9, &v10);
    v5 = v9;
    if ( v9 == -1 )
    {
      result = 3;
    }
    else
    {
      *a1 = v9;
      *((_BYTE *)&word_101E4FFC + a2) = v5;
      v6 = v10;
      dword_101E4FE0[v6] = a4;
      *((_BYTE *)&dword_101EFA30 + v6) = 1;
      v7 = (char *)&unk_101E5000 + 8712 * v6;
      v7[8030] = v5;
      v7[3682] = a2;
      sub_1000E470((int)v7);
      sub_1000E2C0((int)v7);
      result = 0;
    }
  }
  else
  {
    result = 3;
  }
  return result;
}
// 101D27E8: using guessed type char byte_101D27E8;
// 101E4FE0: using guessed type int dword_101E4FE0[];
// 101E4FFC: using guessed type __int16 word_101E4FFC;
// 101EFA30: using guessed type int dword_101EFA30;
// 101EFA35: using guessed type char byte_101EFA35;

//----- (10005410) --------------------------------------------------------
char __usercall sub_10005410@<al>(unsigned int a1@<eax>, int a2@<esi>)
{
  char v2; // cl@1
  char v3; // dl@2
  char v4; // cl@10

  a1 = (unsigned __int8)a1;
  v2 = *(_BYTE *)((unsigned __int8)a1 + a2 + 8073);
  if ( v2 == 29 )
    v3 = byte_100786F1[8 * a1];
  else
    v3 = *(_BYTE *)((unsigned __int8)a1 + a2 + 8073);
  if ( *(_BYTE *)(a2 + 3622) > (unsigned __int8)v3 - *(_BYTE *)(a2 + 3623) )
  {
    if ( v2 == 29 )
    {
      if ( byte_100786F1[8 * a1] )
      {
        v2 = byte_100786F1[8 * a1];
      }
      else if ( !byte_100786F1[8 * a1] )
      {
        return 0;
      }
    }
    if ( v2 != 28 )
      return 0;
  }
  v4 = byte_100786F3[8 * a1];
  if ( (v4 <= *(_BYTE *)(a2 + 8232) || v4 == 3) && (1 << (signed int)a1 % 32) & *(_DWORD *)(a2 + 4 * (a1 >> 5) + 1132) )
    return 1;
  return 0;
}

//----- (100054C0) --------------------------------------------------------
char __cdecl sub_100054C0(int a1, int a2)
{
  unsigned __int16 v2; // ax@1

  *(_WORD *)(a1 + 3976) = word_10078350[2 * *(_BYTE *)a2];
  *(_WORD *)(a1 + 3978) = word_10078352[2 * *(_BYTE *)a2];
  *(_WORD *)(a1 + 3988) = word_10078350[2 * *(_BYTE *)a2];
  *(_WORD *)(a1 + 3990) = word_10078352[2 * *(_BYTE *)a2];
  *(_WORD *)(a1 + 3944) = 3;
  *(_WORD *)(a1 + 3946) = *(_WORD *)(a2 + 4);
  v2 = *(_WORD *)(a2 + 2);
  if ( v2 != -1 )
    *(_DWORD *)(a1 + 4000) = *(_DWORD *)BMP_get_bm_def(v2);
  return *(_BYTE *)(a2 + 1);
}
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];

//----- (10005550) --------------------------------------------------------
signed int __cdecl sub_10005550(int a1, int a2, char a3, char a4, _DWORD *a5)
{
  signed int result; // eax@1

  result = 0;
  if ( a4 )
  {
    *(_WORD *)(a1 + 36) = 14;
    *(_WORD *)(a1 + 38) = 14;
    *(_WORD *)(a1 + 4) = 2;
    *(_WORD *)(a1 + 2) = 1;
    *(_WORD *)(a1 + 34) = *(_WORD *)(a2 + 4) + 10;
    *(_WORD *)(a1 + 32) = *(_WORD *)(a2 + 4) + 10;
    *a5 = *(_DWORD *)(a2 + 20);
  }
  else if ( *(_WORD *)(a2 + 4) <= 0 || a3 )
  {
    *(_WORD *)(a1 + 36) = word_10078350[2 * *(_BYTE *)a2];
    *(_WORD *)(a1 + 38) = word_10078352[2 * *(_BYTE *)a2];
    *(_WORD *)(a1 + 4) = *(_WORD *)(a2 + 6);
    *(_DWORD *)(a1 + 64) = *(_DWORD *)(a2 + 12);
    *(_BYTE *)(a1 + 1) = 0;
    *(_WORD *)(a1 + 2) = *(_WORD *)(a2 + 8);
    *(_DWORD *)(a1 + 68) = &unk_100E4780;
    if ( *(_WORD *)(a2 + 2) <= 1 )
    {
      if ( *(_WORD *)(a2 + 6) == 2 && **(_DWORD **)(a2 + 12) == -1 )
        *(_WORD *)(a1 + 4) = 3;
      *a5 = *(_DWORD *)(a2 + 16);
    }
    else
    {
      *(_WORD *)(a1 + 34) = *(_WORD *)(a2 + 2);
      *(_WORD *)(a1 + 32) = *(_WORD *)(a2 + 2);
      *a5 = *(_DWORD *)(a2 + 16);
    }
  }
  else
  {
    *(_WORD *)(a1 + 36) = word_10078352[2 * *(_BYTE *)a2];
    *(_WORD *)(a1 + 38) = word_10078350[2 * *(_BYTE *)a2];
    *(_WORD *)(a1 + 4) = 2;
    result = 1;
    *(_WORD *)(a1 + 2) = 1;
    *(_WORD *)(a1 + 34) = *(_WORD *)(a2 + 4);
    *(_WORD *)(a1 + 32) = *(_WORD *)(a2 + 4);
    *a5 = *(_DWORD *)(a2 + 20);
  }
  return result;
}
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];

//----- (10005690) --------------------------------------------------------
unsigned int __cdecl sub_10005690(int a1, int a2, int a3, int a4, char a5)
{
  __int16 v5; // di@2
  __int16 v6; // ax@2
  __int16 v7; // bx@4

  if ( a5 )
  {
    v5 = *(_WORD *)(a2 + 6) / 2;
    v6 = *(_WORD *)(a2 + 4) / 2;
  }
  else
  {
    v5 = 0;
    v6 = 0;
  }
  v7 = *(_WORD *)(a1 + 40);
  *(_DWORD *)(a1 + 68) = a3;
  return sub_1001B720(
           a1,
           a2,
           0,
           0,
           *(_WORD *)a4 + *(_WORD *)(a1 + 42) - v5,
           *(_WORD *)(a4 + 2) + v7 - v6,
           *(_WORD *)(a2 + 6),
           *(_WORD *)(a2 + 4));
}

//----- (10005700) --------------------------------------------------------
char __cdecl sub_10005700(int a1, int a2, __int16 a3, int a4, char a5)
{
  char v5; // bl@1
  char result; // al@1
  char v7; // [sp+10h] [bp-4h]@1

  v5 = sub_10005550(a1, a4, 0, a5, &v7);
  result = sub_1001C2C0(a1, *(_WORD *)a2, *(_WORD *)(a2 + 2), a3, 0);
  if ( v5 )
  {
    sub_10005550(a1, a4, 1, a5, &v7);
    result = sub_1001C2C0(a1, *(_WORD *)a2, *(_WORD *)(a2 + 2), a3, 0);
  }
  return result;
}

//----- (10005780) --------------------------------------------------------
int __cdecl sub_10005780(int a1, __int16 a2, __int16 a3, int a4)
{
  int v4; // esi@1
  int v5; // edx@1
  int v6; // edi@1
  __int16 v7; // ST50_2@1
  unsigned __int16 v8; // ST54_2@1
  int v9; // ST28_4@1
  __int16 v10; // cx@1
  int result; // eax@1
  int v12; // [sp+1Ch] [bp+4h]@1

  v4 = a1;
  v5 = *(_DWORD *)(a1 + 36);
  v6 = a4;
  v7 = *(_WORD *)(a1 + 6);
  v8 = *(_WORD *)(a1 + 4);
  *(_WORD *)(a1 + 6) = 3;
  *(_WORD *)(a1 + 4) = 3;
  *(_WORD *)(a1 + 2) = 1;
  *(_WORD *)(a1 + 36) = 6;
  *(_WORD *)(a1 + 38) = 6;
  *(_WORD *)(a1 + 48) = 6;
  *(_WORD *)(a1 + 50) = 6;
  v9 = a1;
  v12 = v5;
  sub_1001CD40(v9, *(_WORD *)a4, *(_WORD *)(a4 + 2), a2, a3, 3);
  *(_WORD *)(v4 + 48) = 5;
  *(_WORD *)(v4 + 50) = 5;
  *(_WORD *)(v4 + 36) = 9;
  *(_WORD *)(v4 + 38) = 16;
  sub_1001CD40(v4, *(_WORD *)v6 + 1, *(_WORD *)(v6 + 2) + 1, a2 - 3, a3 - 3, 3);
  *(_WORD *)(v4 + 46) = *(_WORD *)a4;
  v10 = *(_WORD *)(a4 + 2);
  *(_WORD *)(v4 + 36) = 9;
  *(_WORD *)(v4 + 38) = 9;
  *(_WORD *)(v4 + 44) = a3 + v10 - 1;
  sub_1001A8E0(v4, a2 + *(_WORD *)v6 - 1, a3 + *(_WORD *)(v6 + 2) - 1, 0);
  sub_1001A8E0(v4, a2 + *(_WORD *)v6 - 1, *(_WORD *)(v6 + 2) - 1, 0);
  *(_WORD *)(v4 + 36) = v12;
  result = v8;
  *(_WORD *)(v4 + 38) = HIWORD(v12);
  *(_WORD *)(v4 + 6) = v7;
  *(_WORD *)(v4 + 4) = v8;
  return result;
}

//----- (100058C0) --------------------------------------------------------
char __cdecl sub_100058C0(int a1, int a2)
{
  int v2; // eax@1
  int v3; // ecx@1
  __int16 v4; // di@1
  char v5; // al@1
  __int16 v6; // bp@2
  bool v7; // zf@2
  __int16 v8; // ax@2
  __int16 v9; // si@3
  __int16 v10; // ax@8
  __int16 v11; // di@8
  char result; // al@8
  __int16 v13; // di@10
  char v14; // dl@18
  unsigned __int16 v15; // dx@21
  int v16; // [sp+Ch] [bp-Ch]@1
  __int16 v17; // [sp+10h] [bp-8h]@8
  __int16 v18; // [sp+12h] [bp-6h]@8
  char v19; // [sp+1Ch] [bp+4h]@1

  v2 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
  v3 = a1;
  v4 = *(_WORD *)(a1 + 3822);
  v16 = v2;
  v5 = *(_BYTE *)(a1 + 3681);
  v19 = *(_BYTE *)(a1 + 3681);
  if ( v4 <= 350 )
  {
    if ( v5 != 4 )
    {
      v9 = *(_WORD *)(dword_104CEA60 + 6) - 16;
      v6 = *(_WORD *)dword_104CEA60 - 3;
      v8 = *(_WORD *)(v3 + 3818);
      goto LABEL_8;
    }
    v6 = *(_WORD *)dword_104CEA60;
    v8 = *(_WORD *)(v3 + 3818);
LABEL_7:
    v9 = *(_WORD *)(dword_104CEA60 + 4);
    goto LABEL_8;
  }
  v6 = *(_WORD *)dword_104CEA60;
  v7 = v5 == 4;
  v8 = *(_WORD *)(v3 + 3818);
  if ( v7 )
    goto LABEL_7;
  v9 = *(_WORD *)(dword_104CEA60 + 6);
LABEL_8:
  v10 = v4 + v8 - v9;
  v11 = *(_WORD *)(v3 + 3820);
  v17 = v10;
  result = *(_BYTE *)(v3 + 8048);
  v18 = *(_WORD *)(v3 + 3820);
  if ( result && *(_BYTE *)(v3 + 8131) )
  {
    v13 = v11 + 59;
  }
  else
  {
    if ( !*(_BYTE *)(v3 + 3557) )
      goto LABEL_14;
    v13 = *(_WORD *)(dword_104CEA60 + 2) + v11;
  }
  v18 = v13;
LABEL_14:
  if ( *(_BYTE *)(v3 + 1140) )
  {
    v15 = 4760;
  }
  else if ( *(_BYTE *)(v3 + 3680) && (result || *(_BYTE *)(v3 + 8234) && (v14 = *(_BYTE *)(v3 + 8357), v14 != 3) && v14) )
  {
LABEL_28:
    v15 = 6;
  }
  else
  {
    switch ( v19 )
    {
      case 0:
        v15 = 4760;
        break;
      case 1:
        v15 = 6645;
        break;
      case 2:
        v15 = 1951;
        break;
      case 3:
        v15 = 3550;
        break;
      case 4:
        v15 = 3548;
        break;
      default:
        goto LABEL_28;
    }
  }
  if ( *(_BYTE *)(v3 + 8360) != 4 )
    result = sub_1003ABF0(a2, v17, v18, v9, v6, v15, v16);
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 104CEA60: using guessed type int dword_104CEA60;

//----- (10005A40) --------------------------------------------------------
int __cdecl sub_10005A40(int a1, int a2)
{
  int v2; // esi@1
  int v3; // ecx@2
  __int16 v4; // bp@4
  __int16 v5; // bx@4
  void *v6; // edi@7
  unsigned __int8 v7; // al@8
  int result; // eax@9
  int v9; // [sp+10h] [bp-1Ch]@1
  __int16 v10; // [sp+14h] [bp-18h]@1
  __int16 v11; // [sp+18h] [bp-14h]@1
  int v12; // [sp+1Ch] [bp-10h]@4
  __int16 v13; // [sp+26h] [bp-6h]@7
  int v14; // [sp+30h] [bp+4h]@7
  __int16 v15; // [sp+34h] [bp+8h]@1
  unsigned __int16 v16; // [sp+36h] [bp+Ah]@1

  v2 = a2;
  v11 = *(_WORD *)(a2 + 6);
  v10 = *(_WORD *)(a2 + 4);
  v9 = *(_DWORD *)(a2 + 36);
  FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
  v16 = *(_WORD *)(a2 + 32);
  v15 = *(_WORD *)(v2 + 34);
  if ( *(_BYTE *)(a1 + 3681) == 4 )
    v3 = *(_WORD *)(dword_104CEA60 + 4);
  else
    v3 = *(_WORD *)(dword_104CEA60 + 6);
  v4 = *(_WORD *)dword_104CEA60 + *(_WORD *)(a1 + 3820);
  v5 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) - v3;
  HIWORD(v12) = *(_WORD *)dword_104CEA60 + *(_WORD *)(a1 + 3820);
  LOWORD(v12) = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) - v3;
  if ( *(_BYTE *)(a1 + 8048) && *(_BYTE *)(a1 + 8131) )
  {
    v4 += 59;
    HIWORD(v12) = v4;
  }
  *(_WORD *)(v2 + 4) = 2;
  *(_WORD *)(v2 + 6) = 3;
  *(_WORD *)(v2 + 34) = 1;
  *(_WORD *)(v2 + 32) = 1;
  v13 = v4;
  v14 = v3 + v12;
  v6 = &unk_100799FD;
  do
  {
    v7 = j_HWM_pvg_get_color(*((char *)v6 - 1), *(_BYTE *)v6, *((_BYTE *)v6 + 1));
    *(_WORD *)(v2 + 36) = v7;
    *(_WORD *)(v2 + 38) = v7;
    *(_WORD *)(v2 + 46) = v5;
    *(_WORD *)(v2 + 44) = v13;
    sub_1001A8E0(v2, v14, v13++, 0);
    v6 = (char *)v6 + 3;
  }
  while ( (signed int)v6 <= (signed int)&unk_10079A18 );
  *(_WORD *)(v2 + 36) = 6;
  *(_WORD *)(v2 + 38) = 6;
  *(_WORD *)(v2 + 46) = v5;
  *(_WORD *)(v2 + 44) = v4;
  sub_1001A8E0(v2, v5, HIWORD(v12) + 9, 0);
  *(_WORD *)(v2 + 36) = 5;
  *(_WORD *)(v2 + 38) = 5;
  *(_WORD *)(v2 + 46) = v14 - 1;
  *(_WORD *)(v2 + 44) = v4;
  sub_1001A8E0(v2, v14 - 1, HIWORD(v12) + 9, 0);
  *(_WORD *)(v2 + 36) = v9;
  *(_WORD *)(v2 + 38) = HIWORD(v9);
  *(_WORD *)(v2 + 4) = v10;
  result = v16;
  *(_WORD *)(v2 + 6) = v11;
  *(_WORD *)(v2 + 34) = v15;
  *(_WORD *)(v2 + 32) = v16;
  return result;
}
// 10017A40: using guessed type int __cdecl j_HWM_pvg_get_color(_DWORD, _DWORD, _DWORD);
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 104CEA60: using guessed type int dword_104CEA60;

//----- (10005C00) --------------------------------------------------------
int __cdecl sub_10005C00(int a1, unsigned __int16 a2, int a3, int a4, char a5)
{
  char v5; // bl@1
  int result; // eax@1
  int v7; // [sp+10h] [bp-4h]@1

  v5 = sub_10005550(a1, a4, 0, a5, &v7);
  result = sub_1001CFA0(a1, a2, a3, v7);
  if ( v5 )
  {
    sub_10005550(a1, a4, 1, a5, &v7);
    result = sub_1001CFA0(a1, a2, a3, v7);
  }
  return result;
}

//----- (10005C70) --------------------------------------------------------
int __cdecl sub_10005C70(signed int a1, int a2, __int16 a3, __int16 a4, _BYTE *a5, _BYTE *a6)
{
  double v6; // st7@1
  __int16 v7; // bx@1
  __int16 v8; // bp@1
  char *v9; // eax@1
  int v10; // esi@1
  int v11; // edi@1
  __int16 v12; // ax@2
  bool v13; // zf@11
  int result; // eax@11
  _BYTE *v15; // ebp@12
  int v16; // eax@13
  int v17; // ebx@13
  signed __int16 v18; // ax@13
  __int16 v19; // bp@13
  __int16 v20; // cx@13
  __int16 v21; // dx@13
  int v22; // ecx@13
  _BYTE *v23; // ecx@13
  __int16 v24; // ST14_2@13
  int v25; // ST18_4@13
  _BYTE *v26; // ebp@14
  int v27; // eax@15
  int v28; // ebx@15
  signed __int16 v29; // ax@15
  __int16 v30; // bp@15
  __int16 v31; // cx@15
  __int16 v32; // dx@15
  int v33; // ecx@15
  _BYTE *v34; // ecx@15
  __int16 v35; // ST14_2@15
  int v36; // ST18_4@15
  __int16 v37; // [sp+8h] [bp-Ch]@1
  __int16 v38; // [sp+Ch] [bp-8h]@1
  char *v39; // [sp+10h] [bp-4h]@1

  v6 = (double)a3;
  v7 = (signed int)(v6 * 0.866025403);
  v8 = (signed int)(v6 * 0.5);
  v38 = (signed int)(0.866025403 * (double)a4);
  v37 = (signed int)(0.5 * (double)a4);
  v9 = sub_1000FA50(0x3Fu);
  v10 = a1;
  v11 = a2;
  *(_WORD *)(a1 + 4) = 2;
  *(_WORD *)(v10 + 34) = *((_WORD *)v9 + 2);
  *(_WORD *)(v10 + 32) = *((_WORD *)v9 + 2);
  *(_WORD *)(v10 + 36) = word_10078350[2 * (unsigned __int8)*v9];
  v39 = v9;
  *(_WORD *)(v10 + 38) = word_10078350[2 * (unsigned __int8)*v9];
  a1 = 2;
  do
  {
    v12 = a4;
    if ( a4 < a3 )
    {
      *(_WORD *)(v10 + 46) = *(_WORD *)v11 - v7;
      *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v8;
      sub_1001D430(v10, *(_WORD *)v11, *(_WORD *)(v11 + 2), a3, 1, *(_WORD *)v11 + v7, *(_WORD *)(v11 + 2) - v8);
      v12 = a4;
    }
    if ( v12 > 0 && v12 < a3 )
    {
      *(_WORD *)(v10 + 46) = v8 + *(_WORD *)v11;
      *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v7;
      sub_1001A8E0(v10, v37 + *(_WORD *)v11, *(_WORD *)(v11 + 2) - v38, 1);
    }
    *(_WORD *)(v10 + 46) = v7 + *(_WORD *)v11;
    *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v8;
    sub_1001A8E0(v10, *(_WORD *)v11, *(_WORD *)(v11 + 2), 1);
    *(_WORD *)(v10 + 46) = *(_WORD *)v11 - v7;
    *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v8;
    sub_1001A8E0(v10, *(_WORD *)v11, *(_WORD *)(v11 + 2), 1);
    if ( a4 <= 0 || a4 >= a3 )
    {
      *(_WORD *)(v10 + 46) = *(_WORD *)v11 - v7;
      *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v8;
      sub_1001D430(v10, *(_WORD *)v11, *(_WORD *)(v11 + 2), a3, 1, *(_WORD *)v11 + v7, *(_WORD *)(v11 + 2) - v8);
    }
    else
    {
      *(_WORD *)(v10 + 46) = *(_WORD *)v11 - v8;
      *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v7;
      sub_1001A8E0(v10, *(_WORD *)v11 - v37, *(_WORD *)(v11 + 2) - v38, 1);
      *(_WORD *)(v10 + 46) = *(_WORD *)v11 - v38;
      *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) - v37;
      sub_1001D430(v10, *(_WORD *)v11, *(_WORD *)(v11 + 2), a4, 1, *(_WORD *)v11 + v38, *(_WORD *)(v11 + 2) - v37);
    }
    v13 = a1-- == 1;
    *(_WORD *)(v10 + 34) = *((_WORD *)v39 + 1);
    *(_WORD *)(v10 + 32) = *((_WORD *)v39 + 1);
    *(_WORD *)(v10 + 36) = word_10078352[2 * (unsigned __int8)*v39];
    result = (unsigned __int8)*v39;
    *(_WORD *)(v10 + 38) = word_10078352[2 * result];
  }
  while ( !v13 );
  v15 = a6;
  if ( a6 )
  {
    v16 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
    v17 = v16;
    v18 = sub_10019AF0(v16, v15, 1);
    v19 = v18;
    v20 = *(_WORD *)v11 - v18 / 2 - 2;
    v21 = *(_WORD *)(v11 + 2) + (*(_WORD *)(v17 + 22) >> 1) - *(_WORD *)(v17 + 22) - a4;
    *(_WORD *)(v10 + 48) = 9;
    *(_WORD *)(v10 + 50) = 9;
    LOWORD(a1) = v20;
    v22 = (unsigned __int8)*v39;
    HIWORD(a1) = v21;
    *(_WORD *)(v10 + 36) = word_10078350[2 * v22];
    *(_WORD *)(v10 + 38) = word_10078352[2 * (unsigned __int8)*v39];
    sub_10005780(v10, v18 + 6, *(_WORD *)(v17 + 22) + 6, (int)&a1);
    v23 = a6;
    *(_WORD *)(v10 + 46) = *(_WORD *)v11 + 1;
    *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) + (*(_WORD *)(v17 + 22) >> 1) - a4;
    result = sub_10019B50(v10, v17, v23, v19, 1, v24, v25);
  }
  v26 = a5;
  if ( a5 )
  {
    v27 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
    v28 = v27;
    v29 = sub_10019AF0(v27, v26, 1);
    v30 = v29;
    v31 = *(_WORD *)v11 - v29 / 2 - 2;
    v32 = *(_WORD *)(v11 + 2) + (*(_WORD *)(v28 + 22) >> 1) - *(_WORD *)(v28 + 22) - a3;
    *(_WORD *)(v10 + 48) = 9;
    *(_WORD *)(v10 + 50) = 9;
    LOWORD(a1) = v31;
    v33 = (unsigned __int8)*v39;
    HIWORD(a1) = v32;
    *(_WORD *)(v10 + 36) = word_10078350[2 * v33];
    *(_WORD *)(v10 + 38) = word_10078352[2 * (unsigned __int8)*v39];
    sub_10005780(v10, v29 + 6, *(_WORD *)(v28 + 22) + 6, (int)&a1);
    v34 = a5;
    *(_WORD *)(v10 + 46) = *(_WORD *)v11 + 1;
    *(_WORD *)(v10 + 44) = *(_WORD *)(v11 + 2) + (*(_WORD *)(v28 + 22) >> 1) - a3;
    result = sub_10019B50(v10, v28, v34, v30, 1, v35, v36);
  }
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];
// 100E4980: using guessed type int dword_100E4980;

//----- (100060B0) --------------------------------------------------------
void __cdecl sub_100060B0(int a1, int a2, __int16 a3, _BYTE *a4)
{
  int v4; // ecx@0
  int v5; // ebx@2
  __int16 v6; // ax@2
  int v7; // edx@7
  int v8; // edi@7
  unsigned int v9; // edi@7
  __int16 v10; // bp@7
  int v11; // eax@7
  int v12; // ST18_4@7
  int v13; // [sp+0h] [bp-4h]@1

  v13 = v4;
  if ( a4 )
  {
    v5 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
    v6 = *(_WORD *)(a1 + 30);
    if ( v6 == 217 && *(_WORD *)(a1 + 28) == 217 || v6 == 302 && *(_WORD *)(a1 + 28) == 218 )
      v5 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 5));
    v7 = *(_BYTE *)(v5 + 26);
    v8 = *(_WORD *)(v5 + 22) - *(_WORD *)(v5 + 24);
    v13 = a3;
    v9 = (v7 << 16) | (v8 << 24) & 0xFF000101 | 0x101;
    v10 = (signed int)((double)a3 * 0.707106781);
    v11 = sub_10019AF0(v5, a4, 1073741829);
    LOWORD(v13) = v10 + *(_WORD *)a2 - v11 / 2 - 3;
    HIWORD(v13) = *(_WORD *)(a2 + 2) - *(_WORD *)(v5 + 22) - v10;
    *(_WORD *)(a1 + 48) = 9;
    *(_WORD *)(a1 + 50) = 9;
    *(_WORD *)(a1 + 36) = -1;
    *(_WORD *)(a1 + 38) = 16;
    sub_10005780(a1, v11 + 6, *(_WORD *)(v5 + 22) + 6, (int)&v13);
    *(_WORD *)(a1 + 46) = v10 + *(_WORD *)a2;
    *(_WORD *)(a1 + 44) = *(_WORD *)(a2 + 2) - v10;
    sub_10019B50(a1, v5, a4, 0, 1073741829, v9, v12);
  }
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (100061F0) --------------------------------------------------------
int __cdecl sub_100061F0(int a1, int a2, _BYTE *a3, __int16 a4, char a5)
{
  int v5; // ebp@1
  unsigned int v6; // edi@1
  __int16 v7; // di@1
  __int16 v8; // cx@4
  int v9; // ST30_4@4
  int result; // eax@4
  __int16 v11; // cx@5
  __int16 v12; // cx@5
  int v13; // ST18_4@5
  __int16 v14; // si@6
  bool v15; // zf@7
  int v16; // [sp+0h] [bp-14h]@0
  __int16 v17; // [sp+10h] [bp-4h]@1
  char *v18; // [sp+20h] [bp+Ch]@4
  char *v19; // [sp+20h] [bp+Ch]@5
  __int16 v20; // [sp+24h] [bp+10h]@6
  __int16 v21; // [sp+26h] [bp+12h]@6

  v5 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 11));
  v6 = (*(_BYTE *)(v5 + 26) << 16) | ((*(_WORD *)(v5 + 22) - *(_WORD *)(v5 + 24)) << 24) & 0xFF000101;
  *(_WORD *)(a2 + 4) = 3;
  *(_WORD *)(a2 + 6) = 3;
  v7 = v6 | 0x101;
  *(_WORD *)(a2 + 36) = word_10078350[2 * (unsigned __int8)a4];
  v17 = v7;
  *(_WORD *)(a2 + 38) = word_10078352[2 * (unsigned __int8)a4];
  if ( a5 )
  {
    if ( (unsigned __int8)sub_10016990() > 1u || *(_BYTE *)(a1 + 3557) )
    {
      v11 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
      *(_WORD *)(a2 + 44) = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824) / 2 - (*(_WORD *)(v5 + 22) >> 1) - 2;
      *(_WORD *)(a2 + 46) = v11;
      sub_10019B50(a2, v5, a3, 0, 1073741829, v7, v16);
      v19 = sub_1004D8D0(0xA19u);
      v12 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
      *(_WORD *)(a2 + 44) = *(_WORD *)(a1 + 3820) + (*(_WORD *)(v5 + 22) >> 1) + *(_WORD *)(a1 + 3824) / 2 + 2;
      *(_WORD *)(a2 + 46) = v12;
      result = sub_10019B50(a2, v5, v19, 0, 1073741829, v7, v13);
    }
    else
    {
      v18 = sub_1004D8D0(0x1281u);
      v8 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
      *(_WORD *)(a2 + 44) = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824) / 2 + 9;
      *(_WORD *)(a2 + 46) = v8;
      result = sub_10019B50(a2, v5, v18, 0, 1073741829, v7, v9);
    }
  }
  else
  {
    v20 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
    v14 = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824) / 2 + 9;
    v21 = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824) / 2 + 9;
    if ( (unsigned __int8)sub_10016990() <= 1u )
    {
      v15 = memcmp(a3, "NO GPS POSITION", 0x10u) == 0;
      v7 = v17;
      if ( !v15 )
        v21 += 30;
      v14 = v21;
    }
    *(_WORD *)(a2 + 46) = v20;
    *(_WORD *)(a2 + 44) = v14;
    result = sub_10019B50(a2, v5, a3, 0, 1073741829, v7, v16);
  }
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];
// 100E4980: using guessed type int dword_100E4980;

//----- (10006430) --------------------------------------------------------
unsigned int __cdecl sub_10006430(int a1, _WORD *a2, int a3)
{
  _WORD *v3; // esi@1
  unsigned int result; // eax@1
  int v5; // eax@2
  __int16 v6; // dx@2
  __int16 v7; // cx@2
  int v8; // eax@2
  __int16 v9; // di@2
  int v10; // ecx@2
  int v11; // ST08_4@2
  int v12; // eax@2

  v3 = a2;
  result = *a2;
  if ( (_WORD)result != -1 )
  {
    v5 = BMP_get_info((unsigned __int16)result);
    v6 = *(_BYTE *)v5;
    v7 = *(_WORD *)(a3 + 2) - *(_BYTE *)(v5 + 1);
    v8 = *((_DWORD *)v3 + 1);
    v9 = *(_WORD *)a3 - v6;
    HIWORD(a2) = v7;
    v10 = *v3;
    v11 = v8;
    LOWORD(a2) = v9;
    v12 = BMP_get_bm_def(v10);
    result = sub_10005690(a1, v12, v11, (int)&a2, 0);
  }
  return result;
}
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);

//----- (100064A0) --------------------------------------------------------
char __usercall sub_100064A0@<al>(__int16 a1@<ax>, int a2@<edi>, int a3, int a4)
{
  int v4; // esi@1
  char result; // al@1
  void *v6; // ecx@2
  char v7; // al@3
  int v8; // ecx@3
  char v9; // dl@3
  int v10; // eax@3
  unsigned __int8 v11; // bl@3
  char *v12; // ecx@4
  __int16 v13; // ax@8
  __int16 v14; // bx@8
  __int16 v15; // ax@8
  __int16 v16; // bx@8
  __int16 v17; // bx@8
  __int16 v18; // di@12
  int v19; // ecx@12
  int v20; // eax@12
  __int16 v21; // di@12
  int v22; // eax@13
  int v23; // eax@14
  __int16 v24; // cx@14
  __int16 v25; // di@16
  int v26; // eax@16
  __int16 v27; // di@16
  int v28; // ecx@16
  double v29; // ST54_8@18
  double v30; // ST5C_8@18
  int v31; // eax@20
  int v32; // edi@20
  int v33; // ST34_4@20
  int v34; // eax@20
  int v35; // ecx@20
  int v36; // ebx@20
  int v37; // edx@20
  unsigned int v38; // ebx@20
  int v39; // ecx@20
  int v40; // edx@20
  __int16 v41; // ax@20
  bool v42; // zf@20
  bool v43; // sf@20
  char *v44; // esi@24
  __int16 v45; // cx@26
  int v46; // ST28_4@26
  __int16 v47; // dx@26
  __int16 v48; // ax@26
  int v49; // ST10_4@26
  int v50; // ST24_4@26
  int v51; // eax@29
  int v52; // ebx@29
  unsigned __int16 v53; // cx@29
  unsigned int v54; // esi@29
  int v55; // edi@29
  __int16 v56; // ax@29
  __int16 v57; // dx@29
  char *v58; // ST18_4@29
  int v59; // ST28_4@29
  __int16 v60; // dx@29
  __int16 v61; // ax@29
  __int16 v62; // cx@29
  __int16 v63; // ST04_2@29
  int v64; // [sp-Ch] [bp-5Ch]@3
  char v65; // [sp+7h] [bp-49h]@3
  int i; // [sp+8h] [bp-48h]@12
  int j; // [sp+8h] [bp-48h]@16
  int v68; // [sp+8h] [bp-48h]@20
  unsigned int v69; // [sp+Ch] [bp-44h]@21
  signed int v70; // [sp+14h] [bp-3Ch]@20
  __int16 v71; // [sp+1Ch] [bp-34h]@12
  __int16 v72; // [sp+1Eh] [bp-32h]@12
  __int16 v73; // [sp+1Eh] [bp-32h]@16
  __int16 v74; // [sp+20h] [bp-30h]@12
  __int16 v75; // [sp+22h] [bp-2Eh]@12
  int v76; // [sp+28h] [bp-28h]@8
  int v77; // [sp+2Ch] [bp-24h]@8
  int v78; // [sp+3Ch] [bp-14h]@20
  int v79; // [sp+40h] [bp-10h]@20
  int v80; // [sp+44h] [bp-Ch]@20
  char *v81; // [sp+48h] [bp-8h]@29
  int v82; // [sp+4Ch] [bp-4h]@29

  v4 = a3;
  LOBYTE(a1) = 10;
  result = sub_10005410(a1, a3);
  if ( result )
  {
    result = sub_10010D90(a3);
    if ( result )
    {
      v64 = a2;
      v7 = sub_1004ACC0(v6);
      v8 = *(_BYTE *)(a3 + 8493);
      v65 = v7;
      v9 = byte_1007D3D4[*(_BYTE *)(a3 + 8492)];
      v10 = (unsigned __int8)byte_1007D3E0[v8] - 1;
      v11 = 0;
      if ( v10 > 0 )
      {
        v12 = &byte_1007D3F6[96 * v8];
        do
        {
          if ( *v12 )
            ++v11;
          v12 += 16;
          --v10;
        }
        while ( v10 );
      }
      v13 = v11;
      v14 = *(_WORD *)(dword_104CEA60 + 14);
      v15 = *(_WORD *)(dword_104CEA60 + 44) + *(_WORD *)(dword_104CEA60 + 12) * v13;
      LOWORD(v76) = *(_WORD *)(a3 + 3818) + *(_WORD *)(a3 + 3822) - v14;
      HIWORD(v77) = v14;
      v16 = *(_WORD *)(a3 + 3820) + *(_WORD *)(a3 + 3824) - 23 * (unsigned __int8)v9;
      LOWORD(v77) = v15;
      v17 = v16 - v15;
      HIWORD(v76) = v17;
      if ( v9 )
      {
        v17 -= 6;
        HIWORD(v76) = v17;
      }
      if ( *(_BYTE *)(a3 + 8028) )
      {
        v17 -= *(_WORD *)(dword_104CEA60 + 34);
        HIWORD(v76) = v17;
      }
      v18 = HIWORD(v77);
      *(_WORD *)(a4 + 4) = 3;
      *(_WORD *)(a4 + 6) = 3;
      *(_WORD *)(a4 + 36) = 5;
      *(_WORD *)(a4 + 38) = 5;
      *(_WORD *)(a4 + 48) = 5;
      *(_WORD *)(a4 + 50) = 5;
      sub_10005780(a4, v18, v77, (int)&v76);
      v19 = dword_104CEA60;
      v71 = v76 + 4;
      v20 = *(_BYTE *)(a3 + 8493);
      v74 = *(_WORD *)(dword_104CEA60 + 12);
      v75 = v18 - 9;
      v21 = v17 + *(_WORD *)(dword_104CEA60 + 44) - 3;
      v72 = v17 + *(_WORD *)(dword_104CEA60 + 44) - 3;
      for ( i = 0; i < (unsigned __int8)byte_1007D3E0[v20] - 1; ++i )
      {
        v22 = 16 * (i + 6 * v20);
        if ( byte_1007D3F6[v22] )
        {
          v23 = 6 * (unsigned __int8)byte_1007D3F4[v22];
          v24 = word_1007D4C4[v23];
          v23 *= 2;
          *(_WORD *)(a4 + 6) = v24;
          *(_DWORD *)(a4 + 60) = *(void **)((char *)&off_1007D4C8 + v23);
          *(_WORD *)(a4 + 48) = *(__int16 *)((char *)word_1007D4C2 + v23);
          *(_WORD *)(a4 + 50) = *(__int16 *)((char *)word_1007D4C0 + v23);
          sub_1001EBD0(a4, v71, v72, v75, v74);
          v19 = dword_104CEA60;
          v21 += *(_WORD *)(dword_104CEA60 + 12);
          v72 = v21;
        }
        v20 = *(_BYTE *)(a3 + 8493);
      }
      v25 = *(_WORD *)(v19 + 12) + *(_WORD *)(v19 + 44);
      *(_WORD *)(a4 + 4) = 2;
      *(_WORD *)(a4 + 34) = 2;
      *(_WORD *)(a4 + 32) = 2;
      *(_WORD *)(a4 + 36) = 9;
      *(_WORD *)(a4 + 38) = 9;
      v26 = *(_BYTE *)(a3 + 8493);
      v27 = v17 + v25 - 3;
      v28 = 0;
      v73 = v27;
      for ( j = 0; v28 < (unsigned __int8)byte_1007D3E0[v26] - 2; j = v28 )
      {
        if ( byte_1007D3F6[16 * (v28 + 6 * v26)] )
        {
          v29 = (double)v75;
          *(_WORD *)(a4 + 46) = v71;
          *(_WORD *)(a4 + 44) = v27;
          v30 = (double)v71;
          sub_1001A8E0(a4, (signed int)(v30 + v29 * 0.12), v73, 0);
          *(_WORD *)(a4 + 46) = (signed int)(v29 * 0.88 + v30);
          *(_WORD *)(a4 + 44) = v27;
          sub_1001A8E0(a4, v75 + v71, v73, 0);
          v28 = j;
          v27 += *(_WORD *)(dword_104CEA60 + 12);
          v73 = v27;
        }
        v26 = *(_BYTE *)(a3 + 8493);
        ++v28;
      }
      v31 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 1));
      v32 = v31;
      v33 = *(_BYTE *)(dword_100E4980 + 9);
      v79 = v31;
      v34 = FNT_get_fnt_hdr(v33);
      v35 = *(_WORD *)(v32 + 24);
      v36 = *(_WORD *)(v32 + 22);
      v37 = *(_BYTE *)(v32 + 26);
      v80 = v34;
      v70 = SHIWORD(v77);
      v38 = (v37 << 16) | ((v36 - v35) << 24) & 0xFF000101 | 0x101;
      LOWORD(v78) = (signed int)((double)SHIWORD(v77) * 0.8 + (double)(signed __int16)v76);
      v39 = *(_BYTE *)(a3 + 8493);
      v40 = 0;
      v41 = HIWORD(v76) + *(_WORD *)(dword_104CEA60 + 12) + *(_WORD *)(dword_104CEA60 + 44) + 2;
      v42 = byte_1007D3E0[v39] == 1;
      v43 = (unsigned __int8)byte_1007D3E0[v39] - 1 < 0;
      HIWORD(v78) = HIWORD(v76) + *(_WORD *)(dword_104CEA60 + 12) + *(_WORD *)(dword_104CEA60 + 44) + 2;
      v68 = 0;
      if ( !v43 && !v42 )
      {
        do
        {
          v69 = 16 * (v40 + 6 * v39);
          if ( byte_1007D3F6[v69] )
          {
            if ( memcmp(off_1007D3EC[4 * (v40 + 6 * *(_BYTE *)(a3 + 8493))], &byte_10077A17, 1u) )
            {
              if ( v65 == 29 )
                v44 = (&off_1007D3F0)[v69];
              else
                v44 = off_1007D3EC[v69 / 4];
              *(_WORD *)(a4 + 36) = -1;
              v45 = v78;
              *(_WORD *)(a4 + 38) = 0;
              v46 = v80;
              *(_WORD *)(a4 + 46) = v45;
              *(_WORD *)(a4 + 44) = v41;
              sub_10019B50(a4, v46, v44, 0, 1073741828, v38, v64);
              v47 = v78;
              *(_WORD *)(a4 + 36) = -1;
              v48 = HIWORD(v78);
              *(_WORD *)(a4 + 38) = 16;
              v49 = v79;
              *(_WORD *)(a4 + 46) = v47;
              *(_WORD *)(a4 + 44) = v48;
              sub_10019B50(a4, v49, v44, 0, 1073741828, v38, v50);
              v41 = HIWORD(v78);
            }
            v41 += *(_WORD *)(dword_104CEA60 + 12);
            v40 = v68;
            v4 = a3;
            HIWORD(v78) = v41;
          }
          v39 = *(_BYTE *)(v4 + 8493);
          v68 = ++v40;
        }
        while ( v40 < (unsigned __int8)byte_1007D3E0[v39] - 1 );
      }
      v81 = sub_1004D8D0(0x1965u);
      v51 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
      v52 = v51;
      v53 = *(_WORD *)(v51 + 24);
      v54 = (*(_BYTE *)(v51 + 26) << 16) | ((*(_WORD *)(v51 + 22) - v53) << 24) & 0xFF000101;
      v55 = v76 + v70 / 2;
      v79 = v51;
      HIWORD(v78) = v53 + HIWORD(v76) + 2;
      v56 = sub_10019AF0(v51, v81, 1073741829);
      v57 = HIWORD(v78);
      LOWORD(v82) = v56;
      v58 = v81;
      *(_WORD *)(a4 + 46) = v55;
      *(_WORD *)(a4 + 44) = v57;
      sub_10019B50(a4, v52, v58, 0, 1073741829, v54 | 0x101, v59);
      v60 = v82;
      LOWORD(v55) = (signed __int16)v82 / -2 + v55;
      v61 = HIWORD(v78) + 3;
      *(_WORD *)(a4 + 34) = 1;
      *(_WORD *)(a4 + 32) = 1;
      HIWORD(v78) = v61;
      LOWORD(v78) = v55;
      *(_WORD *)(a4 + 36) = 6;
      *(_WORD *)(a4 + 38) = 6;
      v62 = HIWORD(v78);
      *(_WORD *)(a4 + 44) = v61;
      v63 = v78 + v60;
      *(_WORD *)(a4 + 4) = 3;
      *(_WORD *)(a4 + 46) = v55;
      result = sub_1001A8E0(a4, v63, v62, 0);
    }
  }
  return result;
}
// 100064A0: could not find valid save-restore pair for edi
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 1007D3EC: using guessed type char *off_1007D3EC[2];
// 1007D3F0: using guessed type char *off_1007D3F0;
// 1007D4C0: using guessed type __int16 word_1007D4C0[];
// 1007D4C2: using guessed type __int16 word_1007D4C2[];
// 1007D4C4: using guessed type __int16 word_1007D4C4[];
// 1007D4C8: using guessed type void *off_1007D4C8;
// 100E4980: using guessed type int dword_100E4980;
// 104CEA60: using guessed type int dword_104CEA60;

//----- (10006AC0) --------------------------------------------------------
_BYTE *__usercall sub_10006AC0@<eax>(int a1@<edi>, int a2, int a3, int *a4, int a5)
{
  int v5; // esi@1
  _BYTE *result; // eax@1
  int v7; // eax@3
  int v8; // edi@5
  int v9; // eax@5
  bool v10; // zf@5
  signed __int16 v11; // bp@5
  _BYTE *v12; // ecx@7
  int v13; // edx@8
  signed __int16 v14; // dx@11
  signed __int16 v15; // ax@12
  signed __int16 v16; // cx@16
  __int16 v17; // ax@21
  __int16 v18; // bp@23
  int v19; // eax@23
  __int16 v20; // bp@24
  int v21; // eax@28
  int v22; // ST30_4@34
  int v23; // eax@35
  __int16 v24; // bp@37
  int v25; // eax@37
  __int16 v26; // bp@38
  int v27; // ebp@45
  int v28; // [sp-Ch] [bp-3Ch]@2
  signed __int16 v29; // [sp+4h] [bp-2Ch]@11
  int v30; // [sp+8h] [bp-28h]@2
  signed int v31; // [sp+Ch] [bp-24h]@11
  __int16 v32; // [sp+Ch] [bp-24h]@35
  int i; // [sp+10h] [bp-20h]@5
  int v34[7]; // [sp+14h] [bp-1Ch]@5
  int v35; // [sp+40h] [bp+10h]@5

  v5 = a5;
  result = *(_BYTE **)(a5 + 32);
  if ( !*result )
    return result;
  v28 = a1;
  LOWORD(v30) = *(_WORD *)(a3 + 42);
  HIWORD(v30) = *(_WORD *)(a3 + 40);
  if ( a4 )
    v7 = *a4;
  else
    v7 = v30;
  *(_WORD *)(a3 + 42) = v7;
  *(_WORD *)(a3 + 40) = HIWORD(v7);
  v35 = *(_DWORD *)(a5 + 6);
  v8 = FNT_get_fnt_hdr(*(_BYTE *)(v5 + 4));
  v9 = 0;
  v10 = **(_BYTE **)(v5 + 32) == 0;
  v11 = 1;
  v34[0] = 0;
  LOWORD(i) = 1;
  if ( !v10 )
  {
    do
    {
      if ( v11 >= 7 )
        break;
      v12 = (_BYTE *)(v9 + *(_DWORD *)(v5 + 32));
      if ( *v12 == 10 )
      {
        *v12 = 0;
        v13 = v11;
        ++v9;
        ++v11;
        HIWORD(v35) -= *(_WORD *)(v8 + 24) + *(_WORD *)(v8 + 30);
        v34[v13] = v9;
        LOWORD(i) = v11;
      }
      ++v9;
    }
    while ( *(_BYTE *)(v9 + *(_DWORD *)(v5 + 32)) );
  }
  if ( *(_BYTE *)(v5 + 16) )
  {
    v14 = 0;
    v29 = 0;
    v31 = 0;
    if ( v11 > 0 )
    {
      do
      {
        v15 = sub_10019AF0(v8, (_BYTE *)(*(_DWORD *)(v5 + 32) + v34[v31]), 0);
        if ( v15 > v29 )
          v29 = v15;
        ++v31;
      }
      while ( v31 < v11 );
      v14 = v29;
    }
    v16 = *(_WORD *)(v5 + 20);
    *(_WORD *)(v5 + 28) = v14 + 6;
    if ( (signed __int16)(v14 + 6) < v16 )
      *(_WORD *)(v5 + 28) = v16;
    if ( *(_BYTE *)(v5 + 36) )
    {
      v14 = v29;
      *(_WORD *)(v5 + 18) = v11 * *(_WORD *)(v8 + 22) + *(_WORD *)(v8 + 30) * (v11 - 1) - (*(_WORD *)(v8 + 22) >> 1) + 2;
    }
    else
    {
      *(_WORD *)(v5 + 18) = v11 * *(_WORD *)(v8 + 22) + *(_WORD *)(v8 + 30) * (v11 - 1) + 2;
    }
    v17 = *(_WORD *)(v5 + 22);
    if ( *(_WORD *)(v5 + 18) < v17 )
      *(_WORD *)(v5 + 18) = v17;
    v18 = v35 - 3;
    *(_WORD *)(v5 + 24) = v35 - 3;
    *(_WORD *)(v5 + 26) = HIWORD(v35) - *(_WORD *)(v8 + 24);
    v19 = *(_DWORD *)v5 & 3;
    if ( v19 == 1 )
    {
      v20 = v18 - v14 / 2;
    }
    else
    {
      if ( v19 )
        goto LABEL_28;
      v20 = v18 - v14;
    }
    *(_WORD *)(v5 + 24) = v20;
LABEL_28:
    v21 = *(_DWORD *)(v5 + 12);
    if ( v21 )
    {
      if ( *(_WORD *)(v5 + 28) + (signed int)*(_WORD *)(v5 + 24) > *(_WORD *)v21 + (signed int)*(_WORD *)(v21 + 4) - 2 )
        *(_WORD *)(v5 + 24) = *(_WORD *)(v21 + 4) + *(_WORD *)v21 - *(_WORD *)(v5 + 28) - 2;
      if ( *(_WORD *)(v5 + 24) < *(_WORD *)v21 + 2 )
        *(_WORD *)(v5 + 24) = *(_WORD *)v21 + 2;
      if ( *(_WORD *)(v5 + 26) < *(_WORD *)(v21 + 2) + 2 )
      {
        v22 = BMP_get_bm_def(*(_WORD *)(a2 + 3816));
        *(_WORD *)(v5 + 26) = *(_WORD *)(v5 + 8)
                            + *(_WORD *)(v22 + 4)
                            - *(_BYTE *)(BMP_get_info(*(_WORD *)(a2 + 3816)) + 1)
                            + 10;
      }
      v23 = *(_DWORD *)(v5 + 12);
      v32 = *(_WORD *)(v23 + 6);
      if ( *(_WORD *)(v5 + 26) + (signed int)*(_WORD *)(v5 + 18) > v32 + (signed int)*(_WORD *)(v5 + 8) - 2 )
        *(_WORD *)(v5 + 26) = v32 + *(_WORD *)(v23 + 2) - *(_WORD *)(v5 + 18) - 2;
      HIWORD(v35) = *(_WORD *)(v8 + 24) + *(_WORD *)(v5 + 26);
      v24 = *(_WORD *)(v5 + 24) + 3;
      v25 = *(_DWORD *)v5 & 3;
      LOWORD(v35) = *(_WORD *)(v5 + 24) + 3;
      if ( v25 == 1 )
      {
        v26 = v29 / 2 + v24;
LABEL_41:
        LOWORD(v35) = v26;
        goto LABEL_42;
      }
      if ( !v25 )
      {
        v26 = v29 + v24;
        goto LABEL_41;
      }
    }
LABEL_42:
    *(_WORD *)(a3 + 4) = 3;
    *(_WORD *)(a3 + 2) = 1;
    *(_WORD *)(a3 + 36) = word_10078350[2 * *(_BYTE *)(v5 + 10)];
    *(_WORD *)(a3 + 38) = word_10078352[2 * *(_BYTE *)(v5 + 10)];
    *(_WORD *)(a3 + 6) = 3;
    *(_WORD *)(a3 + 48) = word_10078352[2 * *(_BYTE *)(v5 + 10)];
    *(_WORD *)(a3 + 50) = word_10078350[2 * *(_BYTE *)(v5 + 10)];
    sub_1001CD40(a3, *(_WORD *)(v5 + 24), *(_WORD *)(v5 + 26), *(_WORD *)(v5 + 28), *(_WORD *)(v5 + 18), 1);
  }
  *(_WORD *)(a3 + 4) = 3;
  *(_WORD *)(a3 + 36) = word_10078350[2 * *(_BYTE *)(v5 + 37)];
  *(_WORD *)(a3 + 38) = word_10078352[2 * *(_BYTE *)(v5 + 37)];
  v10 = *(_BYTE *)(v5 + 36) == 0;
  *(_DWORD *)(v5 + 6) = v35;
  if ( !v10 )
    HIWORD(v35) -= *(_WORD *)(v8 + 22) >> 1;
  result = (_BYTE *)(signed __int16)i;
  v27 = 0;
  for ( i = (signed __int16)i; v27 < i; HIWORD(v35) += *(_WORD *)(v8 + 24) + *(_WORD *)(v8 + 30) )
  {
    *(_WORD *)(a3 + 46) = v35;
    *(_WORD *)(a3 + 44) = HIWORD(v35);
    result = (_BYTE *)sub_10019B50(a3, v8, (_BYTE *)(v34[v27] + *(_DWORD *)(v5 + 32)), 0, *(_DWORD *)v5, 1, v28);
    if ( v27 > 0 )
    {
      result = (_BYTE *)v34[v27];
      result[*(_DWORD *)(v5 + 32) - 1] = 10;
    }
    ++v27;
  }
  LOWORD(result) = v30;
  *(_WORD *)(a3 + 42) = v30;
  *(_WORD *)(a3 + 40) = HIWORD(v30);
  return result;
}
// 10006AC0: could not find valid save-restore pair for edi
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];
// 10006AC0: using guessed type int var_1C[7];

//----- (10006ED0) --------------------------------------------------------
int __cdecl sub_10006ED0(int a1, int a2, int a3)
{
  int v3; // edi@1
  int v4; // ebx@5
  int result; // eax@7

  v3 = 1984847;
  *(_DWORD *)(a3 + 8) = a1 - 1984847;
  if ( a1 - 1984847 <= -1073741824 )
    *(_DWORD *)(a3 + 8) = -1073741824;
  *(_DWORD *)a3 = a1 + 1984847;
  if ( a1 + 1984847 >= 0x40000000 )
    *(_DWORD *)a3 = 0x40000000;
  v4 = sub_10063F50(a1);
  if ( (signed int)sub_10063CA0(0x3FFFFFFF, v4) > 1984847 )
    v3 = sub_10063C50(0x1E494Fu, v4);
  result = v3 + a2;
  *(_DWORD *)(a3 + 12) = a2 - v3;
  *(_DWORD *)(a3 + 4) = v3 + a2;
  return result;
}

//----- (10006F50) --------------------------------------------------------
int __cdecl sub_10006F50(int a1)
{
  int result; // eax@1

  result = a1;
  flt_100E49AC = 9.9999996e24;
  *(_BYTE *)(a1 + 1128) = 1;
  *(_BYTE *)(a1 + 1129) = 0;
  return result;
}
// 100E49AC: using guessed type float flt_100E49AC;

//----- (10006F70) --------------------------------------------------------
int __cdecl sub_10006F70(int a1, char a2)
{
  int result; // eax@1

  result = a1;
  if ( a2 )
  {
    *(_WORD *)(a1 + 42) = 0;
    *(_WORD *)(a1 + 40) = 0;
  }
  *(_DWORD *)(a1 + 68) = &unk_100E4780;
  *(_WORD *)(a1 + 2) = 1;
  *(_WORD *)(a1 + 4) = 3;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  return result;
}

//----- (10006FB0) --------------------------------------------------------
signed int __usercall sub_10006FB0@<eax>(signed int result@<eax>)
{
  if ( result <= 0x3FFF )
  {
    if ( result >= -16384 )
      result = (unsigned __int16)result;
    else
      result = -16384;
  }
  else
  {
    result = 0x3FFF;
  }
  return result;
}

//----- (10006FD0) --------------------------------------------------------
int sub_10006FD0()
{
  int v0; // ebx@1
  __int16 v1; // bp@1
  signed int v2; // eax@1
  signed __int16 v3; // di@1
  char *v4; // esi@2
  int result; // eax@7

  v0 = 0;
  v1 = 360 / (unsigned __int16)dword_100E49E8;
  v2 = dword_100E49E8;
  v3 = 360 / (unsigned __int16)dword_100E49E8;
  if ( dword_100E49E8 > 0 )
  {
    v4 = byte_100E49B8;
    do
    {
      if ( v3 == 360 )
        sub_1004A340(v4, 4u, "%*i", 2, 0);
      else
        sub_1004A340(v4, 4u, "%*i", ((unsigned __int16)v3 / 10 >= 10) + 1, (unsigned __int16)v3 / 10);
      v2 = dword_100E49E8;
      ++v0;
      v3 += v1;
      v4 += 4;
    }
    while ( v0 < dword_100E49E8 );
  }
  result = v2 / 4;
  HIWORD(dword_100E49B4) = result;
  return result;
}
// 100E49B4: using guessed type int dword_100E49B4;
// 100E49E8: using guessed type int dword_100E49E8;

//----- (10007070) --------------------------------------------------------
int __usercall sub_10007070@<eax>(int a1@<edi>, int a2@<esi>)
{
  __int16 v2; // bx@1
  int v3; // eax@1
  signed int v4; // eax@2
  int v5; // eax@4
  signed int v6; // eax@5
  int v8; // [sp+0h] [bp-Ch]@0
  int v9; // [sp+8h] [bp-4h]@4

  v2 = sub_10063530(v8);
  a2 = (signed __int16)a2;
  v3 = (signed __int16)a2 * (signed __int16)sub_100634D0(a1);
  if ( v3 >= 0 )
    v4 = v3 + 0x4000;
  else
    v4 = v3 - 0x4000;
  LOWORD(v9) = v4 / 0x8000;
  v5 = a2 * v2;
  if ( v5 >= 0 )
    v6 = v5 + 0x4000;
  else
    v6 = v5 - 0x4000;
  HIWORD(v9) = v6 / 0x8000;
  return v9;
}

//----- (100070E0) --------------------------------------------------------
__int16 __cdecl sub_100070E0(int a1, int a2, int a3)
{
  int v3; // eax@1
  int v4; // ebp@2
  signed int v5; // esi@2
  int v6; // edx@3
  int v7; // ecx@3
  signed int v8; // ebx@5
  signed __int16 v9; // ax@8
  signed int v10; // eax@11
  signed int i; // edx@11
  int v12; // ecx@15
  signed int v13; // ebx@24
  bool v14; // zf@24
  signed __int16 v15; // ax@27
  signed int v16; // eax@30
  signed int j; // edx@30
  int v18; // ecx@34
  int v19; // esi@47
  int v20; // edx@47
  int v21; // ecx@47
  int v22; // edi@47
  int v23; // eax@47
  int v24; // ebx@48
  __int16 v25; // cx@57
  __int16 v26; // dx@57
  int v28; // [sp+0h] [bp-38h]@10
  int v29; // [sp+0h] [bp-38h]@29
  int v30; // [sp+4h] [bp-34h]@47
  signed int v31; // [sp+8h] [bp-30h]@10
  signed int v32; // [sp+8h] [bp-30h]@24
  signed int v33; // [sp+8h] [bp-30h]@29
  signed int v34; // [sp+Ch] [bp-2Ch]@1
  int v35; // [sp+Ch] [bp-2Ch]@47
  int v36; // [sp+10h] [bp-28h]@47
  int v37; // [sp+14h] [bp-24h]@5
  int v38; // [sp+18h] [bp-20h]@5
  int v39; // [sp+1Ch] [bp-1Ch]@3
  int v40; // [sp+20h] [bp-18h]@3
  int v41; // [sp+28h] [bp-10h]@2
  int v42; // [sp+2Ch] [bp-Ch]@20
  int v43; // [sp+30h] [bp-8h]@47

  v3 = a3;
  v34 = *(_DWORD *)(a3 + 4);
  if ( *(_DWORD *)(a3 + 4) >= 5461 )
  {
    v4 = *(_DWORD *)(a3 + 8);
    v5 = 0;
    v41 = *(_DWORD *)(a3 + 12);
    if ( *(_BYTE *)a3 )
    {
      v39 = *(_DWORD *)(a3 + 24);
      v6 = *(_DWORD *)(a3 + 16);
      v40 = *(_DWORD *)(a3 + 28);
      v7 = *(_DWORD *)(a3 + 20);
    }
    else
    {
      v39 = *(_DWORD *)(a3 + 16);
      v6 = *(_DWORD *)(a3 + 24);
      v40 = *(_DWORD *)(a3 + 20);
      v7 = *(_DWORD *)(a3 + 28);
    }
    v38 = v7;
    v37 = v6;
    v8 = 0;
    do
    {
      if ( v8 >= 2 )
        break;
      if ( v8 )
        v9 = *(_WORD *)(a1 + 8046) + 5;
      else
        v9 = -5;
      LOWORD(v28) = v9;
      v31 = abs(v9 - v4);
      if ( v31 < v34 )
      {
        v10 = (signed int)(sqrt((double)v34 * (double)v34 - (double)v31 * (double)v31) + 0.5);
        for ( i = 0; v5 < 2; ++i )
        {
          if ( !v10 || i >= 2 )
            break;
          if ( i )
            v12 = v10 + v41;
          else
            v12 = v41 - v10;
          if ( v12 < *(_WORD *)(a1 + 8044) + 5 && v12 >= -5 )
          {
            HIWORD(v28) = v12;
            if ( !v5 || v28 != v42 )
              *(&v42 + v5++) = v28;
          }
        }
      }
      v3 = a3;
      ++v8;
    }
    while ( v5 < 2 );
    v13 = 0;
    v14 = v5 == 2;
    v32 = v5;
    if ( v5 < 2 )
    {
      do
      {
        if ( v13 >= 2 )
          break;
        if ( v13 )
          v15 = -5;
        else
          v15 = *(_WORD *)(a1 + 8044) + 5;
        HIWORD(v29) = v15;
        v33 = abs(v15 - v41);
        if ( v33 < v34 )
        {
          v16 = (signed int)(sqrt((double)v34 * (double)v34 - (double)v33 * (double)v33) + 0.5);
          for ( j = 0; v5 < 2; ++j )
          {
            if ( !v16 || j >= 2 )
              break;
            if ( j )
              v18 = v16 + v4;
            else
              v18 = v4 - v16;
            if ( v18 < *(_WORD *)(a1 + 8046) + 5 && v18 >= -5 )
            {
              LOWORD(v29) = v18;
              if ( !v5 || v29 != v42 )
                *(&v42 + v5++) = v29;
            }
          }
        }
        v3 = a3;
        ++v13;
      }
      while ( v5 < 2 );
      v32 = v5;
      v14 = v5 == 2;
    }
    if ( v14 )
    {
      if ( v39 == v37 && *(_BYTE *)(v3 + 1) )
        goto LABEL_57;
      v19 = SHIWORD(v43) - v41;
      v35 = v39 - v4;
      v36 = v40 - v41;
      v20 = SHIWORD(v42) - v41;
      v30 = v38 - v41;
      v21 = (signed __int16)v43 - v4;
      v22 = v37 - v4;
      v23 = (signed __int16)v42 - v4;
      if ( v23 * v19 - v20 * v21 > 0 )
      {
        v23 = (signed __int16)v43 - v4;
        v20 = SHIWORD(v43) - v41;
        v21 = (signed __int16)v42 - v4;
        v24 = v42;
        v19 = SHIWORD(v42) - v41;
        v42 = v43;
        v43 = v24;
      }
      if ( v30 * v21 - v22 * v19 >= 0 )
      {
        if ( v30 * v23 - v22 * v20 < 0 )
        {
          LOWORD(v43) = v37;
          HIWORD(v43) = v38;
        }
        else
        {
          v32 = 0;
        }
      }
      v3 = v36 * v23 - v35 * v20;
      if ( v3 <= 0 )
      {
        if ( v36 * v21 - v35 * v19 <= 0 )
          return v3;
        LOWORD(v3) = v39;
        LOWORD(v42) = v39;
        HIWORD(v42) = v40;
      }
      if ( v32 == 2 )
      {
LABEL_57:
        v25 = HIWORD(v42);
        *(_WORD *)(a2 + 46) = v42;
        v26 = HIWORD(v43);
        *(_WORD *)(a2 + 44) = v25;
        LOWORD(v3) = sub_1001A8E0(a2, v43, v26, 1);
        return v3;
      }
    }
  }
  return v3;
}

//----- (10007420) --------------------------------------------------------
int __usercall sub_10007420@<eax>(int result@<eax>, signed __int16 a2@<bx>, int a3@<edi>, int a4@<esi>, __int16 a5, __int16 a6, __int16 a7, char a8, unsigned __int8 a9, _BYTE *a10)
{
  int v10; // ST18_4@2

  if ( a8 )
  {
    *(_WORD *)(a4 + 36) = result;
    *(_WORD *)(a4 + 38) = result;
    *(_WORD *)(a4 + 48) = result;
    *(_WORD *)(a4 + 50) = result;
    *(_WORD *)(a4 + 36) = word_10078350[2 * a9];
    *(_WORD *)(a4 + 38) = word_10078352[2 * a9];
    sub_1001CD40(a4, a5 + 2, a6 + 2, a2 - 6, a7, 1);
    *(_WORD *)(a4 + 46) = a5 + a2 / 2;
    *(_WORD *)(a4 + 44) = a6 + *(_WORD *)(*(_DWORD *)(a3 + 8) + 24) + 3;
    result = sub_10019B50(a4, *(_DWORD *)(a3 + 8), a10, 0, *(_DWORD *)a3, *(_DWORD *)(a3 + 4), v10);
  }
  return result;
}
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];

//----- (100074C0) --------------------------------------------------------
__int16 __usercall sub_100074C0@<ax>(signed int *a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4)
{
  int v4; // edi@1
  signed int *v5; // esi@1
  __int16 v6; // dx@1
  int v7; // ecx@1
  int v8; // eax@1
  int v9; // kr00_4@2
  int v10; // eax@2
  __int16 v11; // dx@2
  int v12; // ST50_4@2
  int v13; // eax@2
  __int16 v14; // dx@2
  int v15; // ST34_4@2
  int v16; // eax@2
  __int16 v17; // cx@2
  __int16 v18; // dx@2
  int v19; // ST18_4@2
  int v20; // eax@2
  __int16 v21; // dx@2
  int v22; // ST50_4@2
  __int16 result; // ax@3
  int v24; // [sp+Ch] [bp-28h]@1
  int i; // [sp+10h] [bp-24h]@1
  int v26; // [sp+14h] [bp-20h]@1
  int v27; // [sp+18h] [bp-1Ch]@1
  __int16 v28; // [sp+20h] [bp-14h]@1
  int v29; // [sp+2Ch] [bp-8h]@1
  int v30; // [sp+30h] [bp-4h]@2
  int v31; // [sp+38h] [bp+4h]@1

  v4 = a2;
  v5 = a1;
  sub_10015060((int)(a1 + 1), (int)&v29, 0, a2 + 3568);
  v31 = dword_100E49B4 + a4;
  v24 = 0;
  v6 = *(_WORD *)(a3 + 6);
  v7 = (unsigned __int16)(signed int)((double)(signed int)((double)*v5
                                                         * 0.949999988079071
                                                         / (double)*(signed int *)(v4 + 3628)
                                                         + 0.5)
                                    * 0.8999999761581421);
  v8 = *(_DWORD *)(a3 + 36);
  *(_WORD *)(a3 + 6) = 3;
  v27 = v7;
  v28 = v6;
  v26 = v8;
  FNT_get_fnt_hdr(*(_BYTE *)dword_100E4980);
  for ( i = 0; i < dword_100E49E8 / 2; ++i )
  {
    v9 = sub_10007070(v31, v27);
    v10 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 8));
    *(_WORD *)(a3 + 36) = -1;
    v11 = v29;
    *(_WORD *)(a3 + 38) = 0;
    *(_WORD *)(a3 + 44) = v30 - HIWORD(v9);
    *(_WORD *)(a3 + 46) = v9 + v11;
    sub_10019B50(a3, v10, &byte_100E49B8[4 * (unsigned __int16)v24], 0, 1073741829, 257, v12);
    v13 = FNT_get_fnt_hdr(*(_BYTE *)dword_100E4980);
    v14 = v30;
    *(_WORD *)(a3 + 46) = v9 + v29;
    *(_WORD *)(a3 + 36) = -1;
    *(_WORD *)(a3 + 38) = 21;
    *(_WORD *)(a3 + 44) = v14 - HIWORD(v9);
    sub_10019B50(a3, v13, &byte_100E49B8[4 * (unsigned __int16)v24], 0, 1073741829, 257, v15);
    v16 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 8));
    v17 = v29;
    *(_WORD *)(a3 + 36) = -1;
    v18 = v30;
    *(_WORD *)(a3 + 38) = 0;
    *(_WORD *)(a3 + 44) = HIWORD(v9) + v18;
    *(_WORD *)(a3 + 46) = v17 - v9;
    sub_10019B50(
      a3,
      v16,
      &byte_100E49B8[4 * (((unsigned __int16)v24 + dword_100E49E8 / 2) % dword_100E49E8)],
      0,
      1073741829,
      257,
      v19);
    v20 = FNT_get_fnt_hdr(*(_BYTE *)dword_100E4980);
    v21 = v29 - v9;
    *(_WORD *)(a3 + 44) = HIWORD(v9) + v30;
    *(_WORD *)(a3 + 46) = v21;
    *(_WORD *)(a3 + 36) = -1;
    *(_WORD *)(a3 + 38) = 21;
    sub_10019B50(
      a3,
      v20,
      &byte_100E49B8[4 * (((unsigned __int16)v24 + dword_100E49E8 / 2) % dword_100E49E8)],
      0,
      1073741829,
      257,
      v22);
    v31 += dword_100E49B4;
    ++v24;
  }
  result = v28;
  *(_WORD *)(a3 + 36) = v26;
  *(_WORD *)(a3 + 38) = HIWORD(v26);
  *(_WORD *)(a3 + 6) = v28;
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 100E49B4: using guessed type int dword_100E49B4;
// 100E49E8: using guessed type int dword_100E49E8;

//----- (10007740) --------------------------------------------------------
int __usercall sub_10007740@<eax>(signed int *a1@<eax>, int a2@<ecx>, int a3@<ebx>, int a4)
{
  int v4; // edi@1
  signed int *v5; // esi@1
  signed int v6; // eax@1
  int v7; // ST18_4@1
  __int16 v8; // ax@1
  signed int v9; // esi@1
  __int16 v10; // cx@1
  __int16 v11; // ST08_2@1
  int v12; // edx@1
  __int16 v13; // ax@1
  int v15; // [sp+Ch] [bp-8h]@1
  int v16; // [sp+10h] [bp-4h]@1

  v4 = a2;
  v5 = a1;
  sub_10015060((int)(a1 + 1), (int)&v15, 0, a2 + 3568);
  v6 = (signed int)((double)(*v5 / *(_DWORD *)(v4 + 3628)) + 0.5);
  *(_WORD *)(a3 + 36) = 15;
  *(_WORD *)(a3 + 38) = 21;
  v7 = sub_10007070(a4, (signed int)((double)v6 * 0.8999999761581421));
  v8 = sub_10006FB0(v15);
  v9 = v16;
  *(_WORD *)(a3 + 46) = v8;
  *(_WORD *)(a3 + 44) = sub_10006FB0(v9);
  v11 = sub_10006FB0(v9 - SHIWORD(v7));
  v13 = sub_10006FB0(v12 + v10);
  return sub_1001A8E0(a3, v13, v11, 3);
}

//----- (10007800) --------------------------------------------------------
int __usercall sub_10007800@<eax>(int a1@<eax>, signed int *a2@<ecx>, int a3@<ebx>, int a4)
{
  int v4; // edi@1
  signed int *v5; // esi@1
  __int16 v6; // si@1
  int v7; // kr00_4@2
  int v8; // esi@2
  __int16 v9; // ax@2
  __int16 v10; // dx@2
  __int16 v11; // ax@2
  __int16 v12; // cx@2
  int v13; // edi@3
  int result; // eax@3
  int v15; // kr04_4@4
  unsigned int v16; // eax@4
  __int16 v17; // si@4
  int v18; // ST18_4@4
  __int16 v19; // ST14_2@4
  __int16 v20; // ST42_2@4
  __int16 v21; // ax@4
  __int16 v22; // cx@4
  int v23; // [sp+Ch] [bp-24h]@1
  int v24; // [sp+10h] [bp-20h]@3
  float v25; // [sp+14h] [bp-1Ch]@1
  int v26; // [sp+28h] [bp-8h]@1
  int v27; // [sp+2Ch] [bp-4h]@2
  signed int v28; // [sp+34h] [bp+4h]@1
  signed int v29; // [sp+34h] [bp+4h]@3

  v4 = a1;
  v5 = a2;
  sub_10015060((int)(a2 + 1), (int)&v26, 0, a4 + 3568);
  v23 = (signed int)((double)(*v5 / *(_DWORD *)(a4 + 3628)) + 0.5);
  *(_WORD *)(a3 + 36) = 15;
  *(_WORD *)(a3 + 38) = 21;
  v25 = (double)v23;
  v6 = dword_100E49A8;
  v28 = 0;
  if ( dword_100E49A8 & 0xFFFE )
  {
    do
    {
      v7 = sub_10007070(v4, v23);
      v8 = sub_10007070(v4, (unsigned __int16)(signed int)(v25 * 0.8999999761581421));
      v9 = v27;
      v10 = v27 - HIWORD(v7);
      *(_WORD *)(a3 + 46) = v7 + v26;
      *(_WORD *)(a3 + 44) = v10;
      sub_1001A8E0(a3, v8 + v26, v9 - HIWORD(v8), 3);
      v11 = v26;
      *(_WORD *)(a3 + 46) = v26 - v7;
      v12 = v27;
      *(_WORD *)(a3 + 44) = v27 + HIWORD(v7);
      sub_1001A8E0(a3, v11 - v8, HIWORD(v8) + v12, 3);
      v6 = dword_100E49A8;
      v4 += dword_100E49B0;
      ++v28;
    }
    while ( v28 < (signed int)((unsigned int)(unsigned __int16)dword_100E49A8 >> 1) );
  }
  v13 = v4 + 910;
  result = (signed int)(v25 * 0.949999988079071);
  v24 = (unsigned __int16)result;
  v29 = 0;
  if ( v6 & 0xFFFE )
  {
    do
    {
      v15 = sub_10007070(v13, v23);
      v16 = sub_10007070(v13, v24);
      v17 = v16;
      *(_WORD *)(a3 + 46) = v15 + v26;
      v18 = v27 - (v16 >> 16);
      v19 = v16 + v26;
      v20 = HIWORD(v16);
      *(_WORD *)(a3 + 44) = v27 - HIWORD(v15);
      sub_1001A8E0(a3, v19, v18, 3);
      v21 = v26;
      *(_WORD *)(a3 + 46) = v26 - v15;
      v22 = v27;
      *(_WORD *)(a3 + 44) = v27 + HIWORD(v15);
      sub_1001A8E0(a3, v21 - v17, v20 + v22, 3);
      v13 += dword_100E49B0;
      result = v29++ + 1;
    }
    while ( v29 < (signed int)((unsigned int)(unsigned __int16)dword_100E49A8 >> 1) );
  }
  return result;
}
// 100E49A8: using guessed type int dword_100E49A8;
// 100E49B0: using guessed type int dword_100E49B0;

//----- (10007A10) --------------------------------------------------------
_WORD *__usercall sub_10007A10@<eax>(signed __int16 *a1@<eax>, signed __int16 a2@<si>, __int16 a3, _WORD *a4, _WORD *a5, __int16 a6)
{
  __int16 v6; // ax@1
  signed int v7; // ecx@3
  _WORD *result; // eax@3

  *a1 = a2;
  v6 = a6 % 90;
  if ( a6 % 90 > 45 )
    v6 = 90 - v6;
  v7 = v6 * ((unsigned __int8)(a3 / a2) - 1);
  result = a5;
  *a4 = a2 * (v7 / 45);
  *a5 = 0;
  return result;
}

//----- (10007A80) --------------------------------------------------------
int __usercall sub_10007A80@<eax>(int result@<eax>)
{
  __int16 v1; // dx@1
  int v2; // ecx@1

  v1 = *(_WORD *)(result + 2);
  LOWORD(dword_100E49A8) = *(_BYTE *)result;
  v2 = *(_BYTE *)(result + 1);
  LOWORD(dword_100E49B0) = v1;
  dword_100E49E8 = v2;
  LOWORD(dword_100E49B4) = *(_WORD *)(result + 4);
  return result;
}
// 100E49A8: using guessed type int dword_100E49A8;
// 100E49B0: using guessed type int dword_100E49B0;
// 100E49B4: using guessed type int dword_100E49B4;
// 100E49E8: using guessed type int dword_100E49E8;

//----- (10007AB0) --------------------------------------------------------
signed int __usercall sub_10007AB0@<eax>(int a1@<eax>, _DWORD *a2@<esi>, signed int a3)
{
  signed int result; // eax@2
  float v4; // [sp+4h] [bp+4h]@1

  v4 = (double)a3 / *(float *)(a1 + 3636) + 0.5;
  *a2 = (signed int)v4;
  if ( v4 <= 32767.0 )
    result = *(_WORD *)a2;
  else
    result = -1;
  return result;
}

//----- (10007AF0) --------------------------------------------------------
__int16 __cdecl sub_10007AF0(int a1, unsigned __int8 a2, char a3)
{
  __int16 result; // ax@2
  __int16 v4; // cx@5
  int v5; // edx@5
  __int16 v6; // ST30_2@5
  __int16 v7; // di@5
  char *v8; // ebx@6
  int v9; // [sp+4h] [bp-54h]@4
  char v10; // [sp+Ch] [bp-4Ch]@6

  if ( *(_WORD *)(a1 + 8024) )
  {
    if ( a3 )
    {
      sub_100054C0(a1, (int)&v9);
      result = sub_1001EBD0(a1 + 3940, 0, 0, *(_WORD *)(a1 + 8046), *(_WORD *)(a1 + 8044));
    }
    else
    {
      v4 = *(_WORD *)(a1 + 8046);
      v5 = *(_WORD *)(a1 + 76);
      *(_WORD *)(a1 + 3976) = 13;
      *(_WORD *)(a1 + 3978) = 13;
      *(_WORD *)(a1 + 3990) = 13;
      v6 = *(_WORD *)(a1 + 8044);
      v9 = v5;
      *(_WORD *)(a1 + 3988) = 0;
      *(_WORD *)(a1 + 3946) = 1;
      *(_DWORD *)(a1 + 4000) = &unk_100773A0;
      sub_1001EBD0(a1 + 3940, 0, 0, v4, v6);
      v7 = a2;
      if ( (signed __int16)a2 < *(_WORD *)(a1 + 8024) )
      {
        do
        {
          v8 = sub_100156C0(a1, (char *)(a1 + 4784), 3088, 1, 1);
          *(_WORD *)(a1 + 76) = *(_WORD *)(a1 + 4 * v7 + 3666);
          sub_100054C0(a1, (int)&v9);
          sub_1001AE30(a1 + 3940, *(_WORD *)v8, (int)(v8 + 2), 72, (int)&v10);
          ++v7;
        }
        while ( v7 < *(_WORD *)(a1 + 8024) );
      }
      result = v9;
      *(_WORD *)(a1 + 76) = v9;
    }
  }
  else
  {
    *(_WORD *)(a1 + 3976) = 0;
    *(_WORD *)(a1 + 3978) = 0;
    result = (unsigned int)sub_1001ECC0(a1 + 3940);
  }
  return result;
}

//----- (10007C80) --------------------------------------------------------
char __cdecl sub_10007C80(int a1, int a2, __int16 a3, char a4, char a5, int a6)
{
  __int16 v6; // ax@1
  signed __int16 v7; // bp@1
  char *v8; // eax@7
  int v9; // eax@9
  __int16 v10; // dx@9
  __int16 v11; // cx@9
  __int16 v12; // ax@9
  __int16 v13; // cx@9
  __int16 v14; // dx@9
  double v15; // st7@11
  __int16 v16; // bx@11
  signed int v17; // eax@11
  __int16 v18; // dx@11
  __int16 v19; // bp@11
  __int16 v20; // ax@11
  __int16 v21; // cx@11
  __int16 v22; // dx@11
  __int16 v23; // ax@11
  __int16 v24; // cx@11
  __int16 v25; // dx@11
  __int16 v26; // ax@11
  signed __int16 v28; // [sp+10h] [bp-Ch]@1
  __int16 v29; // [sp+14h] [bp-8h]@9
  int v30; // [sp+18h] [bp-4h]@9

  v6 = *(_WORD *)(a1 + 30);
  v7 = 38;
  v28 = 40;
  if ( v6 == 217 && *(_WORD *)(a1 + 28) == 217 || v6 == 302 && *(_WORD *)(a1 + 28) == 218 )
  {
    v7 = 39;
    v28 = 41;
  }
  if ( (_BYTE)a6 )
  {
    v8 = sub_1000FA50(0x3Eu);
    LOBYTE(v6) = sub_10005700(a1, a2, a3, (int)v8, 0);
  }
  if ( a4 )
  {
    v29 = v7;
    v9 = BMP_get_xfrm((unsigned __int16)v7);
    v10 = *(_WORD *)(a2 + 2);
    v11 = *(_WORD *)a2 - 1;
    v30 = v9;
    LOWORD(a6) = v11;
    HIWORD(a6) = v10 - a3 - 1;
    sub_10006430(a1, &v29, (int)&a6);
    v12 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = a3 + *(_WORD *)a2 - 1;
    HIWORD(a6) = v12 - 1;
    sub_10006430(a1, &v29, (int)&a6);
    v13 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = *(_WORD *)a2;
    HIWORD(a6) = a3 + v13;
    sub_10006430(a1, &v29, (int)&a6);
    v14 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = *(_WORD *)a2 - a3;
    HIWORD(a6) = v14;
    LOBYTE(v6) = sub_10006430(a1, &v29, (int)&a6);
  }
  if ( a5 )
  {
    v29 = v28;
    v30 = BMP_get_xfrm((unsigned __int16)v28);
    v15 = (double)a3;
    v16 = (signed int)(0.5 * v15);
    v17 = (signed int)(v15 * 0.866025403);
    v18 = *(_WORD *)(a2 + 2);
    v19 = v17;
    LOWORD(a6) = v16 + *(_WORD *)a2;
    HIWORD(a6) = v18 - v17;
    sub_10006430(a1, &v29, (int)&a6);
    v20 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = v19 + *(_WORD *)a2;
    HIWORD(a6) = v20 - v16;
    sub_10006430(a1, &v29, (int)&a6);
    v21 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = v19 + *(_WORD *)a2;
    HIWORD(a6) = v16 + v21;
    sub_10006430(a1, &v29, (int)&a6);
    v22 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = v16 + *(_WORD *)a2;
    HIWORD(a6) = v19 + v22;
    sub_10006430(a1, &v29, (int)&a6);
    v23 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = *(_WORD *)a2 - v16;
    HIWORD(a6) = v19 + v23;
    sub_10006430(a1, &v29, (int)&a6);
    v24 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = *(_WORD *)a2 - v19;
    HIWORD(a6) = v16 + v24;
    sub_10006430(a1, &v29, (int)&a6);
    v25 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = *(_WORD *)a2 - v19;
    HIWORD(a6) = v25 - v16;
    sub_10006430(a1, &v29, (int)&a6);
    v26 = *(_WORD *)(a2 + 2);
    LOWORD(a6) = *(_WORD *)a2 - v16;
    HIWORD(a6) = v26 - v19;
    LOBYTE(v6) = sub_10006430(a1, &v29, (int)&a6);
  }
  *(_WORD *)(a1 + 4) = 3;
  return v6;
}
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);

//----- (10007F40) --------------------------------------------------------
char __cdecl sub_10007F40(int a1, int a2)
{
  int v2; // edx@1
  char result; // al@1
  __int16 v4; // bp@2
  __int16 v5; // cx@2
  __int16 v6; // ax@2
  __int16 v7; // ax@2
  bool v8; // zf@2
  int v9; // eax@4
  int v10; // ebp@4
  int v11; // edx@4
  int v12; // ecx@4
  __int16 v13; // ST38_2@4
  signed __int16 v14; // bx@5
  int v15; // eax@5
  char *v16; // ST44_4@5
  int v17; // esi@5
  int v18; // eax@5
  char *v19; // ST2C_4@5
  char v20; // cl@5
  int v21; // eax@5
  char *v22; // ST14_4@5
  char v23; // cl@5
  int v24; // eax@5
  __int16 v25; // dx@5
  signed __int16 v26; // bx@6
  int *v27; // edi@6
  int v28; // eax@7
  unsigned __int8 v29; // cl@7
  char *v30; // ST44_4@7
  char v31; // dl@7
  char v32; // dl@8
  int v33; // eax@10
  unsigned __int8 v34; // cl@10
  char *v35; // ST44_4@10
  char v36; // dl@10
  char v37; // dl@11
  int v38; // eax@13
  unsigned __int8 v39; // cl@13
  char *v40; // ST44_4@13
  char v41; // dl@13
  char v42; // dl@14
  int v43; // eax@16
  unsigned __int8 v44; // cl@16
  char *v45; // ST44_4@16
  char v46; // dl@16
  char v47; // dl@17
  unsigned __int8 v48; // [sp-8h] [bp-644h]@5
  char *v49; // [sp-4h] [bp-640h]@5
  int v50; // [sp+10h] [bp-62Ch]@1
  int v51; // [sp+14h] [bp-628h]@2
  int v52; // [sp+1Ch] [bp-620h]@1
  int v53; // [sp+20h] [bp-61Ch]@2
  int v54; // [sp+28h] [bp-614h]@4
  unsigned int v55; // [sp+2Ch] [bp-610h]@4
  int v56; // [sp+30h] [bp-60Ch]@4
  int v57; // [sp+34h] [bp-608h]@1
  char v58; // [sp+38h] [bp-604h]@1
  char v59; // [sp+39h] [bp-603h]@1
  int v60; // [sp+3Ah] [bp-602h]@1
  int v61; // [sp+3Eh] [bp-5FEh]@1
  __int16 v62; // [sp+42h] [bp-5FAh]@1
  __int16 v63; // [sp+44h] [bp-5F8h]@1
  char v64[2]; // [sp+46h] [bp-5F6h]@1
  char v65; // [sp+48h] [bp-5F4h]@1
  int v66; // [sp+49h] [bp-5F3h]@1
  int v67; // [sp+4Dh] [bp-5EFh]@1
  __int16 v68; // [sp+51h] [bp-5EBh]@1
  char v69; // [sp+53h] [bp-5E9h]@1
  __int16 v70; // [sp+54h] [bp-5E8h]@1
  char v71; // [sp+56h] [bp-5E6h]@1
  char v72; // [sp+58h] [bp-5E4h]@1
  int v73; // [sp+59h] [bp-5E3h]@1
  int v74; // [sp+5Dh] [bp-5DFh]@1
  __int16 v75; // [sp+61h] [bp-5DBh]@1
  char v76; // [sp+63h] [bp-5D9h]@1
  __int16 v77; // [sp+64h] [bp-5D8h]@1
  char v78; // [sp+66h] [bp-5D6h]@1
  char v79; // [sp+68h] [bp-5D4h]@1
  int v80; // [sp+69h] [bp-5D3h]@1
  int v81; // [sp+6Dh] [bp-5CFh]@1
  __int16 v82; // [sp+71h] [bp-5CBh]@1
  char v83; // [sp+73h] [bp-5C9h]@1
  __int16 v84; // [sp+74h] [bp-5C8h]@1
  char v85; // [sp+76h] [bp-5C6h]@1
  char v86; // [sp+78h] [bp-5C4h]@1
  int v87; // [sp+79h] [bp-5C3h]@1
  int v88; // [sp+7Dh] [bp-5BFh]@1
  __int16 v89; // [sp+81h] [bp-5BBh]@1
  char v90; // [sp+83h] [bp-5B9h]@1
  __int16 v91; // [sp+84h] [bp-5B8h]@1
  char v92; // [sp+86h] [bp-5B6h]@1
  char v93; // [sp+88h] [bp-5B4h]@1
  char v94; // [sp+89h] [bp-5B3h]@1
  int v95; // [sp+8Ah] [bp-5B2h]@1
  int v96; // [sp+8Eh] [bp-5AEh]@1
  __int16 v97; // [sp+92h] [bp-5AAh]@1
  __int16 v98; // [sp+94h] [bp-5A8h]@1
  char v99; // [sp+96h] [bp-5A6h]@1
  char v100; // [sp+98h] [bp-5A4h]@1
  char v101; // [sp+99h] [bp-5A3h]@1
  int v102; // [sp+9Ah] [bp-5A2h]@1
  int v103; // [sp+9Eh] [bp-59Eh]@1
  __int16 v104; // [sp+A2h] [bp-59Ah]@1
  __int16 v105; // [sp+A4h] [bp-598h]@1
  char v106; // [sp+A6h] [bp-596h]@1
  char v107; // [sp+A8h] [bp-594h]@1
  char v108; // [sp+A9h] [bp-593h]@1
  int v109; // [sp+AAh] [bp-592h]@1
  int v110; // [sp+AEh] [bp-58Eh]@1
  __int16 v111; // [sp+B2h] [bp-58Ah]@1
  __int16 v112; // [sp+B4h] [bp-588h]@1
  char v113; // [sp+B6h] [bp-586h]@1
  char v114; // [sp+B8h] [bp-584h]@1
  char v115; // [sp+B9h] [bp-583h]@1
  int v116; // [sp+BAh] [bp-582h]@1
  int v117; // [sp+BEh] [bp-57Eh]@1
  __int16 v118; // [sp+C2h] [bp-57Ah]@1
  __int16 v119; // [sp+C4h] [bp-578h]@1
  char v120[2]; // [sp+C6h] [bp-576h]@1
  char v121; // [sp+C8h] [bp-574h]@1
  char v122; // [sp+C9h] [bp-573h]@1
  int v123; // [sp+CAh] [bp-572h]@1
  int v124; // [sp+CEh] [bp-56Eh]@1
  __int16 v125; // [sp+D2h] [bp-56Ah]@1
  __int16 v126; // [sp+D4h] [bp-568h]@1
  char v127; // [sp+D6h] [bp-566h]@1
  char v128; // [sp+D8h] [bp-564h]@1
  int v129; // [sp+D9h] [bp-563h]@1
  int v130; // [sp+DDh] [bp-55Fh]@1
  __int16 v131; // [sp+E1h] [bp-55Bh]@1
  char v132; // [sp+E3h] [bp-559h]@1
  __int16 v133; // [sp+E4h] [bp-558h]@1
  char v134; // [sp+E6h] [bp-556h]@1
  char v135; // [sp+E8h] [bp-554h]@1
  int v136; // [sp+E9h] [bp-553h]@1
  int v137; // [sp+EDh] [bp-54Fh]@1
  __int16 v138; // [sp+F1h] [bp-54Bh]@1
  char v139; // [sp+F3h] [bp-549h]@1
  __int16 v140; // [sp+F4h] [bp-548h]@1
  char v141; // [sp+F6h] [bp-546h]@1
  char v142; // [sp+F8h] [bp-544h]@1
  int v143; // [sp+F9h] [bp-543h]@1
  int v144; // [sp+FDh] [bp-53Fh]@1
  char v145; // [sp+101h] [bp-53Bh]@1
  __int16 v146; // [sp+102h] [bp-53Ah]@1
  __int16 v147; // [sp+104h] [bp-538h]@1
  char v148; // [sp+106h] [bp-536h]@1
  char v149; // [sp+108h] [bp-534h]@1
  int v150; // [sp+109h] [bp-533h]@1
  int v151; // [sp+10Dh] [bp-52Fh]@1
  char v152; // [sp+111h] [bp-52Bh]@1
  __int16 v153; // [sp+112h] [bp-52Ah]@1
  __int16 v154; // [sp+114h] [bp-528h]@1
  char v155; // [sp+116h] [bp-526h]@1
  char v156; // [sp+118h] [bp-524h]@1
  char v157; // [sp+119h] [bp-523h]@1
  int v158; // [sp+11Ah] [bp-522h]@1
  int v159; // [sp+11Eh] [bp-51Eh]@1
  __int16 v160; // [sp+122h] [bp-51Ah]@1
  __int16 v161; // [sp+124h] [bp-518h]@1
  char v162; // [sp+126h] [bp-516h]@1
  char v163; // [sp+128h] [bp-514h]@1
  char v164; // [sp+129h] [bp-513h]@1
  int v165; // [sp+12Ah] [bp-512h]@1
  int v166; // [sp+12Eh] [bp-50Eh]@1
  __int16 v167; // [sp+132h] [bp-50Ah]@1
  __int16 v168; // [sp+134h] [bp-508h]@1
  char v169; // [sp+136h] [bp-506h]@1
  char v170; // [sp+138h] [bp-504h]@1
  char v171; // [sp+139h] [bp-503h]@1
  int v172; // [sp+13Ah] [bp-502h]@1
  int v173; // [sp+13Eh] [bp-4FEh]@1
  __int16 v174; // [sp+142h] [bp-4FAh]@1
  __int16 v175; // [sp+144h] [bp-4F8h]@1
  char v176[2]; // [sp+146h] [bp-4F6h]@1
  char v177; // [sp+148h] [bp-4F4h]@1
  int v178; // [sp+149h] [bp-4F3h]@1
  int v179; // [sp+14Dh] [bp-4EFh]@1
  __int16 v180; // [sp+151h] [bp-4EBh]@1
  char v181; // [sp+153h] [bp-4E9h]@1
  __int16 v182; // [sp+154h] [bp-4E8h]@1
  char v183; // [sp+156h] [bp-4E6h]@1
  char v184; // [sp+158h] [bp-4E4h]@1
  int v185; // [sp+159h] [bp-4E3h]@1
  int v186; // [sp+15Dh] [bp-4DFh]@1
  __int16 v187; // [sp+161h] [bp-4DBh]@1
  char v188; // [sp+163h] [bp-4D9h]@1
  __int16 v189; // [sp+164h] [bp-4D8h]@1
  char v190; // [sp+166h] [bp-4D6h]@1
  char v191; // [sp+168h] [bp-4D4h]@1
  int v192; // [sp+169h] [bp-4D3h]@1
  int v193; // [sp+16Dh] [bp-4CFh]@1
  char v194; // [sp+171h] [bp-4CBh]@1
  __int16 v195; // [sp+172h] [bp-4CAh]@1
  __int16 v196; // [sp+174h] [bp-4C8h]@1
  char v197; // [sp+176h] [bp-4C6h]@1
  char v198; // [sp+178h] [bp-4C4h]@1
  int v199; // [sp+179h] [bp-4C3h]@1
  int v200; // [sp+17Dh] [bp-4BFh]@1
  char v201; // [sp+181h] [bp-4BBh]@1
  __int16 v202; // [sp+182h] [bp-4BAh]@1
  __int16 v203; // [sp+184h] [bp-4B8h]@1
  char v204; // [sp+186h] [bp-4B6h]@1
  char v205; // [sp+188h] [bp-4B4h]@1
  char v206; // [sp+189h] [bp-4B3h]@1
  int v207; // [sp+18Ah] [bp-4B2h]@1
  int v208; // [sp+18Eh] [bp-4AEh]@1
  __int16 v209; // [sp+192h] [bp-4AAh]@1
  __int16 v210; // [sp+194h] [bp-4A8h]@1
  char v211; // [sp+196h] [bp-4A6h]@1
  char v212; // [sp+198h] [bp-4A4h]@1
  char v213; // [sp+199h] [bp-4A3h]@1
  int v214; // [sp+19Ah] [bp-4A2h]@1
  int v215; // [sp+19Eh] [bp-49Eh]@1
  __int16 v216; // [sp+1A2h] [bp-49Ah]@1
  __int16 v217; // [sp+1A4h] [bp-498h]@1
  char v218; // [sp+1A6h] [bp-496h]@1
  char v219; // [sp+1A8h] [bp-494h]@1
  char v220; // [sp+1A9h] [bp-493h]@1
  int v221; // [sp+1AAh] [bp-492h]@1
  int v222; // [sp+1AEh] [bp-48Eh]@1
  __int16 v223; // [sp+1B2h] [bp-48Ah]@1
  __int16 v224; // [sp+1B4h] [bp-488h]@1
  char v225; // [sp+1B6h] [bp-486h]@1
  char v226; // [sp+1B8h] [bp-484h]@1
  char v227; // [sp+1B9h] [bp-483h]@1
  int v228; // [sp+1BAh] [bp-482h]@1
  int v229; // [sp+1BEh] [bp-47Eh]@1
  __int16 v230; // [sp+1C2h] [bp-47Ah]@1
  __int16 v231; // [sp+1C4h] [bp-478h]@1
  char v232[2]; // [sp+1C6h] [bp-476h]@1
  char v233; // [sp+1C8h] [bp-474h]@1
  int v234; // [sp+1C9h] [bp-473h]@1
  int v235; // [sp+1CDh] [bp-46Fh]@1
  __int16 v236; // [sp+1D1h] [bp-46Bh]@1
  char v237; // [sp+1D3h] [bp-469h]@1
  __int16 v238; // [sp+1D4h] [bp-468h]@1
  char v239; // [sp+1D6h] [bp-466h]@1
  char v240; // [sp+1D8h] [bp-464h]@1
  int v241; // [sp+1D9h] [bp-463h]@1
  int v242; // [sp+1DDh] [bp-45Fh]@1
  __int16 v243; // [sp+1E1h] [bp-45Bh]@1
  char v244; // [sp+1E3h] [bp-459h]@1
  __int16 v245; // [sp+1E4h] [bp-458h]@1
  char v246; // [sp+1E6h] [bp-456h]@1
  char v247; // [sp+1E8h] [bp-454h]@1
  int v248; // [sp+1E9h] [bp-453h]@1
  int v249; // [sp+1EDh] [bp-44Fh]@1
  __int16 v250; // [sp+1F1h] [bp-44Bh]@1
  char v251; // [sp+1F3h] [bp-449h]@1
  __int16 v252; // [sp+1F4h] [bp-448h]@1
  char v253; // [sp+1F6h] [bp-446h]@1
  char v254; // [sp+1F8h] [bp-444h]@1
  int v255; // [sp+1F9h] [bp-443h]@1
  int v256; // [sp+1FDh] [bp-43Fh]@1
  __int16 v257; // [sp+201h] [bp-43Bh]@1
  char v258; // [sp+203h] [bp-439h]@1
  __int16 v259; // [sp+204h] [bp-438h]@1
  char v260; // [sp+206h] [bp-436h]@1
  char v261; // [sp+208h] [bp-434h]@1
  int v262; // [sp+209h] [bp-433h]@1
  int v263; // [sp+20Dh] [bp-42Fh]@1
  __int16 v264; // [sp+211h] [bp-42Bh]@1
  char v265; // [sp+213h] [bp-429h]@1
  __int16 v266; // [sp+214h] [bp-428h]@1
  char v267; // [sp+216h] [bp-426h]@1
  char v268; // [sp+218h] [bp-424h]@1
  char v269; // [sp+219h] [bp-423h]@1
  int v270; // [sp+21Ah] [bp-422h]@1
  int v271; // [sp+21Eh] [bp-41Eh]@1
  __int16 v272; // [sp+222h] [bp-41Ah]@1
  __int16 v273; // [sp+224h] [bp-418h]@1
  char v274; // [sp+226h] [bp-416h]@1
  char v275; // [sp+228h] [bp-414h]@1
  char v276; // [sp+229h] [bp-413h]@1
  int v277; // [sp+22Ah] [bp-412h]@1
  int v278; // [sp+22Eh] [bp-40Eh]@1
  __int16 v279; // [sp+232h] [bp-40Ah]@1
  __int16 v280; // [sp+234h] [bp-408h]@1
  char v281; // [sp+236h] [bp-406h]@1
  char v282; // [sp+238h] [bp-404h]@1
  char v283; // [sp+239h] [bp-403h]@1
  int v284; // [sp+23Ah] [bp-402h]@1
  int v285; // [sp+23Eh] [bp-3FEh]@1
  __int16 v286; // [sp+242h] [bp-3FAh]@1
  __int16 v287; // [sp+244h] [bp-3F8h]@1
  char v288[2]; // [sp+246h] [bp-3F6h]@1
  char v289; // [sp+248h] [bp-3F4h]@1
  int v290; // [sp+249h] [bp-3F3h]@1
  int v291; // [sp+24Dh] [bp-3EFh]@1
  __int16 v292; // [sp+251h] [bp-3EBh]@1
  char v293; // [sp+253h] [bp-3E9h]@1
  __int16 v294; // [sp+254h] [bp-3E8h]@1
  char v295; // [sp+256h] [bp-3E6h]@1
  char v296; // [sp+258h] [bp-3E4h]@1
  int v297; // [sp+259h] [bp-3E3h]@1
  int v298; // [sp+25Dh] [bp-3DFh]@1
  __int16 v299; // [sp+261h] [bp-3DBh]@1
  char v300; // [sp+263h] [bp-3D9h]@1
  __int16 v301; // [sp+264h] [bp-3D8h]@1
  char v302; // [sp+266h] [bp-3D6h]@1
  char v303; // [sp+268h] [bp-3D4h]@1
  int v304; // [sp+269h] [bp-3D3h]@1
  int v305; // [sp+26Dh] [bp-3CFh]@1
  char v306; // [sp+271h] [bp-3CBh]@1
  __int16 v307; // [sp+272h] [bp-3CAh]@1
  __int16 v308; // [sp+274h] [bp-3C8h]@1
  char v309; // [sp+276h] [bp-3C6h]@1
  char v310; // [sp+278h] [bp-3C4h]@1
  int v311; // [sp+279h] [bp-3C3h]@1
  int v312; // [sp+27Dh] [bp-3BFh]@1
  char v313; // [sp+281h] [bp-3BBh]@1
  __int16 v314; // [sp+282h] [bp-3BAh]@1
  __int16 v315; // [sp+284h] [bp-3B8h]@1
  char v316; // [sp+286h] [bp-3B6h]@1
  char v317; // [sp+288h] [bp-3B4h]@1
  char v318; // [sp+289h] [bp-3B3h]@1
  int v319; // [sp+28Ah] [bp-3B2h]@1
  int v320; // [sp+28Eh] [bp-3AEh]@1
  __int16 v321; // [sp+292h] [bp-3AAh]@1
  __int16 v322; // [sp+294h] [bp-3A8h]@1
  char v323; // [sp+296h] [bp-3A6h]@1
  char v324; // [sp+298h] [bp-3A4h]@1
  char v325; // [sp+299h] [bp-3A3h]@1
  int v326; // [sp+29Ah] [bp-3A2h]@1
  int v327; // [sp+29Eh] [bp-39Eh]@1
  __int16 v328; // [sp+2A2h] [bp-39Ah]@1
  __int16 v329; // [sp+2A4h] [bp-398h]@1
  char v330; // [sp+2A6h] [bp-396h]@1
  char v331; // [sp+2A8h] [bp-394h]@1
  char v332; // [sp+2A9h] [bp-393h]@1
  int v333; // [sp+2AAh] [bp-392h]@1
  int v334; // [sp+2AEh] [bp-38Eh]@1
  __int16 v335; // [sp+2B2h] [bp-38Ah]@1
  __int16 v336; // [sp+2B4h] [bp-388h]@1
  char v337; // [sp+2B6h] [bp-386h]@1
  char v338; // [sp+2B8h] [bp-384h]@1
  char v339; // [sp+2B9h] [bp-383h]@1
  int v340; // [sp+2BAh] [bp-382h]@1
  int v341; // [sp+2BEh] [bp-37Eh]@1
  __int16 v342; // [sp+2C2h] [bp-37Ah]@1
  __int16 v343; // [sp+2C4h] [bp-378h]@1
  char v344[2]; // [sp+2C6h] [bp-376h]@1
  char v345; // [sp+2C8h] [bp-374h]@1
  int v346; // [sp+2C9h] [bp-373h]@1
  int v347; // [sp+2CDh] [bp-36Fh]@1
  __int16 v348; // [sp+2D1h] [bp-36Bh]@1
  char v349; // [sp+2D3h] [bp-369h]@1
  __int16 v350; // [sp+2D4h] [bp-368h]@1
  char v351; // [sp+2D6h] [bp-366h]@1
  char v352; // [sp+2D8h] [bp-364h]@1
  int v353; // [sp+2D9h] [bp-363h]@1
  int v354; // [sp+2DDh] [bp-35Fh]@1
  __int16 v355; // [sp+2E1h] [bp-35Bh]@1
  char v356; // [sp+2E3h] [bp-359h]@1
  __int16 v357; // [sp+2E4h] [bp-358h]@1
  char v358; // [sp+2E6h] [bp-356h]@1
  char v359; // [sp+2E8h] [bp-354h]@1
  int v360; // [sp+2E9h] [bp-353h]@1
  int v361; // [sp+2EDh] [bp-34Fh]@1
  __int16 v362; // [sp+2F1h] [bp-34Bh]@1
  char v363; // [sp+2F3h] [bp-349h]@1
  __int16 v364; // [sp+2F4h] [bp-348h]@1
  char v365; // [sp+2F6h] [bp-346h]@1
  char v366; // [sp+2F8h] [bp-344h]@1
  int v367; // [sp+2F9h] [bp-343h]@1
  int v368; // [sp+2FDh] [bp-33Fh]@1
  char v369; // [sp+301h] [bp-33Bh]@1
  __int16 v370; // [sp+302h] [bp-33Ah]@1
  __int16 v371; // [sp+304h] [bp-338h]@1
  char v372; // [sp+306h] [bp-336h]@1
  char v373; // [sp+308h] [bp-334h]@1
  int v374; // [sp+309h] [bp-333h]@1
  int v375; // [sp+30Dh] [bp-32Fh]@1
  char v376; // [sp+311h] [bp-32Bh]@1
  __int16 v377; // [sp+312h] [bp-32Ah]@1
  __int16 v378; // [sp+314h] [bp-328h]@1
  char v379; // [sp+316h] [bp-326h]@1
  char v380; // [sp+318h] [bp-324h]@1
  char v381; // [sp+319h] [bp-323h]@1
  int v382; // [sp+31Ah] [bp-322h]@1
  int v383; // [sp+31Eh] [bp-31Eh]@1
  __int16 v384; // [sp+322h] [bp-31Ah]@1
  __int16 v385; // [sp+324h] [bp-318h]@1
  char v386; // [sp+326h] [bp-316h]@1
  char v387; // [sp+328h] [bp-314h]@1
  char v388; // [sp+329h] [bp-313h]@1
  int v389; // [sp+32Ah] [bp-312h]@1
  int v390; // [sp+32Eh] [bp-30Eh]@1
  __int16 v391; // [sp+332h] [bp-30Ah]@1
  __int16 v392; // [sp+334h] [bp-308h]@1
  char v393; // [sp+336h] [bp-306h]@1
  char v394; // [sp+338h] [bp-304h]@1
  char v395; // [sp+339h] [bp-303h]@1
  int v396; // [sp+33Ah] [bp-302h]@1
  int v397; // [sp+33Eh] [bp-2FEh]@1
  __int16 v398; // [sp+342h] [bp-2FAh]@1
  __int16 v399; // [sp+344h] [bp-2F8h]@1
  char v400[2]; // [sp+346h] [bp-2F6h]@1
  char v401; // [sp+348h] [bp-2F4h]@1
  int v402; // [sp+349h] [bp-2F3h]@1
  int v403; // [sp+34Dh] [bp-2EFh]@1
  __int16 v404; // [sp+351h] [bp-2EBh]@1
  char v405; // [sp+353h] [bp-2E9h]@1
  __int16 v406; // [sp+354h] [bp-2E8h]@1
  char v407; // [sp+356h] [bp-2E6h]@1
  char v408; // [sp+358h] [bp-2E4h]@1
  int v409; // [sp+359h] [bp-2E3h]@1
  int v410; // [sp+35Dh] [bp-2DFh]@1
  __int16 v411; // [sp+361h] [bp-2DBh]@1
  char v412; // [sp+363h] [bp-2D9h]@1
  __int16 v413; // [sp+364h] [bp-2D8h]@1
  char v414; // [sp+366h] [bp-2D6h]@1
  char v415; // [sp+368h] [bp-2D4h]@1
  int v416; // [sp+369h] [bp-2D3h]@1
  int v417; // [sp+36Dh] [bp-2CFh]@1
  __int16 v418; // [sp+371h] [bp-2CBh]@1
  char v419; // [sp+373h] [bp-2C9h]@1
  __int16 v420; // [sp+374h] [bp-2C8h]@1
  char v421; // [sp+376h] [bp-2C6h]@1
  char v422; // [sp+378h] [bp-2C4h]@1
  int v423; // [sp+379h] [bp-2C3h]@1
  int v424; // [sp+37Dh] [bp-2BFh]@1
  __int16 v425; // [sp+381h] [bp-2BBh]@1
  char v426; // [sp+383h] [bp-2B9h]@1
  __int16 v427; // [sp+384h] [bp-2B8h]@1
  char v428; // [sp+386h] [bp-2B6h]@1
  char v429; // [sp+388h] [bp-2B4h]@1
  char v430; // [sp+389h] [bp-2B3h]@1
  int v431; // [sp+38Ah] [bp-2B2h]@1
  int v432; // [sp+38Eh] [bp-2AEh]@1
  __int16 v433; // [sp+392h] [bp-2AAh]@1
  __int16 v434; // [sp+394h] [bp-2A8h]@1
  char v435; // [sp+396h] [bp-2A6h]@1
  char v436; // [sp+398h] [bp-2A4h]@1
  char v437; // [sp+399h] [bp-2A3h]@1
  int v438; // [sp+39Ah] [bp-2A2h]@1
  int v439; // [sp+39Eh] [bp-29Eh]@1
  __int16 v440; // [sp+3A2h] [bp-29Ah]@1
  __int16 v441; // [sp+3A4h] [bp-298h]@1
  char v442; // [sp+3A6h] [bp-296h]@1
  char v443; // [sp+3A8h] [bp-294h]@1
  char v444; // [sp+3A9h] [bp-293h]@1
  int v445; // [sp+3AAh] [bp-292h]@1
  int v446; // [sp+3AEh] [bp-28Eh]@1
  __int16 v447; // [sp+3B2h] [bp-28Ah]@1
  __int16 v448; // [sp+3B4h] [bp-288h]@1
  char v449; // [sp+3B6h] [bp-286h]@1
  char v450; // [sp+3B8h] [bp-284h]@1
  char v451; // [sp+3B9h] [bp-283h]@1
  int v452; // [sp+3BAh] [bp-282h]@1
  int v453; // [sp+3BEh] [bp-27Eh]@1
  __int16 v454; // [sp+3C2h] [bp-27Ah]@1
  __int16 v455; // [sp+3C4h] [bp-278h]@1
  char v456[2]; // [sp+3C6h] [bp-276h]@1
  char v457; // [sp+3C8h] [bp-274h]@1
  char v458; // [sp+3C9h] [bp-273h]@1
  int v459; // [sp+3CAh] [bp-272h]@1
  int v460; // [sp+3CEh] [bp-26Eh]@1
  __int16 v461; // [sp+3D2h] [bp-26Ah]@1
  __int16 v462; // [sp+3D4h] [bp-268h]@1
  char v463; // [sp+3D6h] [bp-266h]@1
  char v464; // [sp+3D8h] [bp-264h]@1
  int v465; // [sp+3D9h] [bp-263h]@1
  int v466; // [sp+3DDh] [bp-25Fh]@1
  char v467; // [sp+3E1h] [bp-25Bh]@1
  __int16 v468; // [sp+3E2h] [bp-25Ah]@1
  __int16 v469; // [sp+3E4h] [bp-258h]@1
  char v470; // [sp+3E6h] [bp-256h]@1
  char v471; // [sp+3E8h] [bp-254h]@1
  int v472; // [sp+3E9h] [bp-253h]@1
  int v473; // [sp+3EDh] [bp-24Fh]@1
  char v474; // [sp+3F1h] [bp-24Bh]@1
  __int16 v475; // [sp+3F2h] [bp-24Ah]@1
  __int16 v476; // [sp+3F4h] [bp-248h]@1
  char v477; // [sp+3F6h] [bp-246h]@1
  char v478; // [sp+3F8h] [bp-244h]@1
  int v479; // [sp+3F9h] [bp-243h]@1
  int v480; // [sp+3FDh] [bp-23Fh]@1
  __int16 v481; // [sp+401h] [bp-23Bh]@1
  char v482; // [sp+403h] [bp-239h]@1
  __int16 v483; // [sp+404h] [bp-238h]@1
  char v484; // [sp+406h] [bp-236h]@1
  char v485; // [sp+408h] [bp-234h]@1
  int v486; // [sp+409h] [bp-233h]@1
  int v487; // [sp+40Dh] [bp-22Fh]@1
  __int16 v488; // [sp+411h] [bp-22Bh]@1
  char v489; // [sp+413h] [bp-229h]@1
  __int16 v490; // [sp+414h] [bp-228h]@1
  char v491; // [sp+416h] [bp-226h]@1
  char v492; // [sp+418h] [bp-224h]@1
  char v493; // [sp+419h] [bp-223h]@1
  int v494; // [sp+41Ah] [bp-222h]@1
  int v495; // [sp+41Eh] [bp-21Eh]@1
  __int16 v496; // [sp+422h] [bp-21Ah]@1
  __int16 v497; // [sp+424h] [bp-218h]@1
  char v498; // [sp+426h] [bp-216h]@1
  char v499; // [sp+428h] [bp-214h]@1
  char v500; // [sp+429h] [bp-213h]@1
  int v501; // [sp+42Ah] [bp-212h]@1
  int v502; // [sp+42Eh] [bp-20Eh]@1
  __int16 v503; // [sp+432h] [bp-20Ah]@1
  __int16 v504; // [sp+434h] [bp-208h]@1
  char v505; // [sp+436h] [bp-206h]@1
  char v506; // [sp+438h] [bp-204h]@1
  char v507; // [sp+439h] [bp-203h]@1
  int v508; // [sp+43Ah] [bp-202h]@1
  int v509; // [sp+43Eh] [bp-1FEh]@1
  __int16 v510; // [sp+442h] [bp-1FAh]@1
  __int16 v511; // [sp+444h] [bp-1F8h]@1
  char v512[2]; // [sp+446h] [bp-1F6h]@1
  char v513; // [sp+448h] [bp-1F4h]@1
  int v514; // [sp+449h] [bp-1F3h]@1
  int v515; // [sp+44Dh] [bp-1EFh]@1
  __int16 v516; // [sp+451h] [bp-1EBh]@1
  char v517; // [sp+453h] [bp-1E9h]@1
  __int16 v518; // [sp+454h] [bp-1E8h]@1
  char v519; // [sp+456h] [bp-1E6h]@1
  char v520; // [sp+458h] [bp-1E4h]@1
  int v521; // [sp+459h] [bp-1E3h]@1
  int v522; // [sp+45Dh] [bp-1DFh]@1
  __int16 v523; // [sp+461h] [bp-1DBh]@1
  char v524; // [sp+463h] [bp-1D9h]@1
  __int16 v525; // [sp+464h] [bp-1D8h]@1
  char v526; // [sp+466h] [bp-1D6h]@1
  char v527; // [sp+468h] [bp-1D4h]@1
  int v528; // [sp+469h] [bp-1D3h]@1
  int v529; // [sp+46Dh] [bp-1CFh]@1
  __int16 v530; // [sp+471h] [bp-1CBh]@1
  char v531; // [sp+473h] [bp-1C9h]@1
  __int16 v532; // [sp+474h] [bp-1C8h]@1
  char v533; // [sp+476h] [bp-1C6h]@1
  char v534; // [sp+478h] [bp-1C4h]@1
  int v535; // [sp+479h] [bp-1C3h]@1
  int v536; // [sp+47Dh] [bp-1BFh]@1
  __int16 v537; // [sp+481h] [bp-1BBh]@1
  char v538; // [sp+483h] [bp-1B9h]@1
  __int16 v539; // [sp+484h] [bp-1B8h]@1
  char v540; // [sp+486h] [bp-1B6h]@1
  char v541; // [sp+488h] [bp-1B4h]@1
  int v542; // [sp+489h] [bp-1B3h]@1
  int v543; // [sp+48Dh] [bp-1AFh]@1
  __int16 v544; // [sp+491h] [bp-1ABh]@1
  char v545; // [sp+493h] [bp-1A9h]@1
  __int16 v546; // [sp+494h] [bp-1A8h]@1
  char v547; // [sp+496h] [bp-1A6h]@1
  char v548; // [sp+498h] [bp-1A4h]@1
  int v549; // [sp+499h] [bp-1A3h]@1
  int v550; // [sp+49Dh] [bp-19Fh]@1
  __int16 v551; // [sp+4A1h] [bp-19Bh]@1
  char v552; // [sp+4A3h] [bp-199h]@1
  __int16 v553; // [sp+4A4h] [bp-198h]@1
  char v554; // [sp+4A6h] [bp-196h]@1
  char v555; // [sp+4A8h] [bp-194h]@1
  char v556; // [sp+4A9h] [bp-193h]@1
  int v557; // [sp+4AAh] [bp-192h]@1
  int v558; // [sp+4AEh] [bp-18Eh]@1
  __int16 v559; // [sp+4B2h] [bp-18Ah]@1
  __int16 v560; // [sp+4B4h] [bp-188h]@1
  char v561; // [sp+4B6h] [bp-186h]@1
  char v562; // [sp+4B8h] [bp-184h]@1
  char v563; // [sp+4B9h] [bp-183h]@1
  int v564; // [sp+4BAh] [bp-182h]@1
  int v565; // [sp+4BEh] [bp-17Eh]@1
  __int16 v566; // [sp+4C2h] [bp-17Ah]@1
  __int16 v567; // [sp+4C4h] [bp-178h]@1
  char v568[2]; // [sp+4C6h] [bp-176h]@1
  char v569; // [sp+4C8h] [bp-174h]@1
  char v570; // [sp+4C9h] [bp-173h]@1
  int v571; // [sp+4CAh] [bp-172h]@1
  int v572; // [sp+4CEh] [bp-16Eh]@1
  __int16 v573; // [sp+4D2h] [bp-16Ah]@1
  __int16 v574; // [sp+4D4h] [bp-168h]@1
  char v575; // [sp+4D6h] [bp-166h]@1
  char v576; // [sp+4D8h] [bp-164h]@1
  int v577; // [sp+4D9h] [bp-163h]@1
  int v578; // [sp+4DDh] [bp-15Fh]@1
  char v579; // [sp+4E1h] [bp-15Bh]@1
  __int16 v580; // [sp+4E2h] [bp-15Ah]@1
  __int16 v581; // [sp+4E4h] [bp-158h]@1
  char v582; // [sp+4E6h] [bp-156h]@1
  char v583; // [sp+4E8h] [bp-154h]@1
  int v584; // [sp+4E9h] [bp-153h]@1
  int v585; // [sp+4EDh] [bp-14Fh]@1
  char v586; // [sp+4F1h] [bp-14Bh]@1
  __int16 v587; // [sp+4F2h] [bp-14Ah]@1
  __int16 v588; // [sp+4F4h] [bp-148h]@1
  char v589; // [sp+4F6h] [bp-146h]@1
  char v590; // [sp+4F8h] [bp-144h]@1
  int v591; // [sp+4F9h] [bp-143h]@1
  int v592; // [sp+4FDh] [bp-13Fh]@1
  __int16 v593; // [sp+501h] [bp-13Bh]@1
  char v594; // [sp+503h] [bp-139h]@1
  __int16 v595; // [sp+504h] [bp-138h]@1
  char v596; // [sp+506h] [bp-136h]@1
  char v597; // [sp+508h] [bp-134h]@1
  int v598; // [sp+509h] [bp-133h]@1
  int v599; // [sp+50Dh] [bp-12Fh]@1
  __int16 v600; // [sp+511h] [bp-12Bh]@1
  char v601; // [sp+513h] [bp-129h]@1
  __int16 v602; // [sp+514h] [bp-128h]@1
  char v603; // [sp+516h] [bp-126h]@1
  char v604; // [sp+518h] [bp-124h]@1
  char v605; // [sp+519h] [bp-123h]@1
  int v606; // [sp+51Ah] [bp-122h]@1
  int v607; // [sp+51Eh] [bp-11Eh]@1
  __int16 v608; // [sp+522h] [bp-11Ah]@1
  __int16 v609; // [sp+524h] [bp-118h]@1
  char v610; // [sp+526h] [bp-116h]@1
  char v611; // [sp+528h] [bp-114h]@1
  char v612; // [sp+529h] [bp-113h]@1
  int v613; // [sp+52Ah] [bp-112h]@1
  int v614; // [sp+52Eh] [bp-10Eh]@1
  __int16 v615; // [sp+532h] [bp-10Ah]@1
  __int16 v616; // [sp+534h] [bp-108h]@1
  char v617; // [sp+536h] [bp-106h]@1
  char v618; // [sp+538h] [bp-104h]@1
  char v619; // [sp+539h] [bp-103h]@1
  int v620; // [sp+53Ah] [bp-102h]@1
  int v621; // [sp+53Eh] [bp-FEh]@1
  __int16 v622; // [sp+542h] [bp-FAh]@1
  __int16 v623; // [sp+544h] [bp-F8h]@1
  char v624[2]; // [sp+546h] [bp-F6h]@1
  char v625; // [sp+548h] [bp-F4h]@1
  int v626; // [sp+549h] [bp-F3h]@1
  int v627; // [sp+54Dh] [bp-EFh]@1
  char v628; // [sp+551h] [bp-EBh]@1
  __int16 v629; // [sp+552h] [bp-EAh]@1
  __int16 v630; // [sp+554h] [bp-E8h]@1
  char v631; // [sp+556h] [bp-E6h]@1
  char v632; // [sp+558h] [bp-E4h]@1
  int v633; // [sp+559h] [bp-E3h]@1
  int v634; // [sp+55Dh] [bp-DFh]@1
  char v635; // [sp+561h] [bp-DBh]@1
  __int16 v636; // [sp+562h] [bp-DAh]@1
  __int16 v637; // [sp+564h] [bp-D8h]@1
  char v638; // [sp+566h] [bp-D6h]@1
  char v639; // [sp+568h] [bp-D4h]@1
  int v640; // [sp+569h] [bp-D3h]@1
  int v641; // [sp+56Dh] [bp-CFh]@1
  __int16 v642; // [sp+571h] [bp-CBh]@1
  char v643; // [sp+573h] [bp-C9h]@1
  __int16 v644; // [sp+574h] [bp-C8h]@1
  char v645; // [sp+576h] [bp-C6h]@1
  char v646; // [sp+578h] [bp-C4h]@1
  int v647; // [sp+579h] [bp-C3h]@1
  int v648; // [sp+57Dh] [bp-BFh]@1
  __int16 v649; // [sp+581h] [bp-BBh]@1
  char v650; // [sp+583h] [bp-B9h]@1
  __int16 v651; // [sp+584h] [bp-B8h]@1
  char v652; // [sp+586h] [bp-B6h]@1
  char v653; // [sp+588h] [bp-B4h]@1
  char v654; // [sp+589h] [bp-B3h]@1
  int v655; // [sp+58Ah] [bp-B2h]@1
  int v656; // [sp+58Eh] [bp-AEh]@1
  __int16 v657; // [sp+592h] [bp-AAh]@1
  __int16 v658; // [sp+594h] [bp-A8h]@1
  char v659; // [sp+596h] [bp-A6h]@1
  char v660; // [sp+598h] [bp-A4h]@1
  char v661; // [sp+599h] [bp-A3h]@1
  int v662; // [sp+59Ah] [bp-A2h]@1
  int v663; // [sp+59Eh] [bp-9Eh]@1
  __int16 v664; // [sp+5A2h] [bp-9Ah]@1
  __int16 v665; // [sp+5A4h] [bp-98h]@1
  char v666; // [sp+5A6h] [bp-96h]@1
  char v667; // [sp+5A8h] [bp-94h]@1
  char v668; // [sp+5A9h] [bp-93h]@1
  int v669; // [sp+5AAh] [bp-92h]@1
  int v670; // [sp+5AEh] [bp-8Eh]@1
  __int16 v671; // [sp+5B2h] [bp-8Ah]@1
  __int16 v672; // [sp+5B4h] [bp-88h]@1
  char v673; // [sp+5B6h] [bp-86h]@1
  char v674; // [sp+5B8h] [bp-84h]@1
  char v675; // [sp+5B9h] [bp-83h]@1
  int v676; // [sp+5BAh] [bp-82h]@1
  int v677; // [sp+5BEh] [bp-7Eh]@1
  __int16 v678; // [sp+5C2h] [bp-7Ah]@1
  __int16 v679; // [sp+5C4h] [bp-78h]@1
  char v680[2]; // [sp+5C6h] [bp-76h]@1
  char v681; // [sp+5C8h] [bp-74h]@1
  int v682; // [sp+5C9h] [bp-73h]@1
  __int16 v683; // [sp+5CDh] [bp-6Fh]@1
  char v684; // [sp+5CFh] [bp-6Dh]@1
  int v685; // [sp+5D0h] [bp-6Ch]@1
  __int16 v686; // [sp+5D4h] [bp-68h]@1
  char v687; // [sp+5D6h] [bp-66h]@1
  char v688; // [sp+5D8h] [bp-64h]@1
  int v689; // [sp+5D9h] [bp-63h]@1
  __int16 v690; // [sp+5DDh] [bp-5Fh]@1
  char v691; // [sp+5DFh] [bp-5Dh]@1
  int v692; // [sp+5E0h] [bp-5Ch]@1
  __int16 v693; // [sp+5E4h] [bp-58h]@1
  char v694; // [sp+5E6h] [bp-56h]@1
  char v695; // [sp+5E8h] [bp-54h]@1
  char v696; // [sp+5E9h] [bp-53h]@1
  int v697; // [sp+5EAh] [bp-52h]@1
  int v698; // [sp+5EEh] [bp-4Eh]@1
  __int16 v699; // [sp+5F2h] [bp-4Ah]@1
  __int16 v700; // [sp+5F4h] [bp-48h]@1
  char v701; // [sp+5F6h] [bp-46h]@1
  char v702; // [sp+5F8h] [bp-44h]@1
  char v703; // [sp+5F9h] [bp-43h]@1
  int v704; // [sp+5FAh] [bp-42h]@1
  int v705; // [sp+5FEh] [bp-3Eh]@1
  __int16 v706; // [sp+602h] [bp-3Ah]@1
  __int16 v707; // [sp+604h] [bp-38h]@1
  char v708; // [sp+606h] [bp-36h]@1
  char v709; // [sp+608h] [bp-34h]@1
  char v710; // [sp+609h] [bp-33h]@1
  int v711; // [sp+60Ah] [bp-32h]@1
  int v712; // [sp+60Eh] [bp-2Eh]@1
  __int16 v713; // [sp+612h] [bp-2Ah]@1
  __int16 v714; // [sp+614h] [bp-28h]@1
  char v715; // [sp+616h] [bp-26h]@1
  char v716; // [sp+618h] [bp-24h]@1
  char v717; // [sp+619h] [bp-23h]@1
  int v718; // [sp+61Ah] [bp-22h]@1
  int v719; // [sp+61Eh] [bp-1Eh]@1
  __int16 v720; // [sp+622h] [bp-1Ah]@1
  __int16 v721; // [sp+624h] [bp-18h]@1
  char v722; // [sp+626h] [bp-16h]@1
  char v723; // [sp+628h] [bp-14h]@1
  char v724; // [sp+629h] [bp-13h]@1
  int v725; // [sp+62Ah] [bp-12h]@1
  int v726; // [sp+62Eh] [bp-Eh]@1
  __int16 v727; // [sp+632h] [bp-Ah]@1
  __int16 v728; // [sp+634h] [bp-8h]@1
  char v729; // [sp+636h] [bp-6h]@1

  v516 = 0;
  v517 = 0;
  v521 = 1280070992;
  v522 = 5264672;
  v523 = 0;
  v524 = 0;
  v530 = 0;
  v531 = 0;
  v535 = 1280070992;
  v536 = 5264672;
  v537 = 0;
  v538 = 0;
  v542 = 1145654343;
  v543 = 1330402117;
  v544 = 17744;
  v545 = 0;
  v52 = a1;
  v57 = a2;
  v549 = 1145654343;
  v506 = 0;
  v507 = 0;
  v508 = 0;
  v509 = 0;
  v510 = 0;
  v511 = 5;
  v512[0] = 95;
  v513 = 1;
  v514 = 1381123412;
  v515 = 5130561;
  v518 = 12;
  v519 = 96;
  v520 = 1;
  v525 = 10;
  v526 = 97;
  v527 = 1;
  v528 = 1381123412;
  v529 = 5130561;
  v532 = 12;
  v533 = 96;
  v534 = 1;
  v539 = 10;
  v540 = 97;
  v541 = 1;
  v546 = 12;
  v547 = 96;
  v548 = 1;
  v550 = 1413566533;
  v551 = 72;
  v577 = 1398227284;
  v578 = 1213090080;
  v579 = 0;
  v584 = 1398227284;
  v585 = 1093619232;
  v586 = 0;
  v591 = 1398227284;
  v592 = 1397052448;
  v593 = 84;
  v598 = 1398227284;
  v599 = 1229014560;
  v552 = 0;
  v553 = 12;
  v554 = 96;
  v555 = 0;
  v556 = 0;
  v557 = 0;
  v558 = 0;
  v559 = 0;
  v560 = 5;
  v561 = 95;
  v562 = 0;
  v563 = 0;
  v564 = 0;
  v565 = 0;
  v566 = 0;
  v567 = 5;
  v568[0] = 95;
  v569 = 0;
  v570 = 0;
  v571 = 0;
  v572 = 0;
  v573 = 0;
  v574 = 5;
  v575 = 95;
  v576 = 1;
  v580 = 0;
  v581 = 16;
  v582 = 95;
  v583 = 1;
  v587 = 0;
  v588 = 12;
  v589 = 96;
  v590 = 1;
  v594 = 0;
  v595 = 16;
  v596 = 95;
  v597 = 1;
  v600 = 76;
  v601 = 0;
  v602 = 12;
  v603 = 96;
  v604 = 0;
  v605 = 0;
  v606 = 0;
  v607 = 0;
  v608 = 0;
  v609 = 5;
  v610 = 95;
  v611 = 0;
  v612 = 0;
  v613 = 0;
  v614 = 0;
  v615 = 0;
  v616 = 5;
  v617 = 95;
  v618 = 0;
  v626 = 1346456646;
  v627 = 1381388064;
  v628 = 0;
  v633 = 1398231111;
  v634 = 1213090080;
  v635 = 0;
  v640 = 1398231111;
  v641 = 1229014560;
  v642 = 76;
  v647 = 1398231111;
  v648 = 1229014560;
  v649 = 76;
  v682 = 1226855239;
  v683 = 18510;
  v619 = 0;
  v620 = 0;
  v621 = 0;
  v622 = 0;
  v623 = 5;
  v624[0] = 95;
  v625 = 1;
  v629 = 0;
  v630 = 16;
  v631 = 95;
  v632 = 1;
  v636 = 0;
  v637 = 16;
  v638 = 95;
  v639 = 1;
  v643 = 0;
  v644 = 12;
  v645 = 96;
  v646 = 1;
  v650 = 0;
  v651 = 12;
  v652 = 96;
  v653 = 0;
  v654 = 0;
  v655 = 0;
  v656 = 0;
  v657 = 0;
  v658 = 5;
  v659 = 95;
  v660 = 0;
  v661 = 0;
  v662 = 0;
  v663 = 0;
  v664 = 0;
  v665 = 5;
  v666 = 95;
  v667 = 0;
  v668 = 0;
  v669 = 0;
  v670 = 0;
  v671 = 0;
  v672 = 5;
  v673 = 95;
  v674 = 0;
  v675 = 0;
  v676 = 0;
  v677 = 0;
  v678 = 0;
  v679 = 5;
  v680[0] = 95;
  v681 = 1;
  v684 = 0;
  v689 = 1226854471;
  v690 = 18510;
  v691 = 0;
  v404 = 0;
  v405 = 0;
  v409 = 1280070992;
  v410 = 5264672;
  v411 = 0;
  v412 = 0;
  v685 = 0;
  v686 = 16;
  v687 = 95;
  v688 = 1;
  v692 = 0;
  v693 = 16;
  v694 = 95;
  v695 = 0;
  v696 = 0;
  v697 = 0;
  v698 = 0;
  v699 = 0;
  v700 = 5;
  v701 = 95;
  v702 = 0;
  v703 = 0;
  v704 = 0;
  v705 = 0;
  v706 = 0;
  v707 = 5;
  v708 = 95;
  v709 = 0;
  v710 = 0;
  v711 = 0;
  v712 = 0;
  v713 = 0;
  v714 = 5;
  v715 = 95;
  v716 = 0;
  v717 = 0;
  v718 = 0;
  v719 = 0;
  v720 = 0;
  v721 = 5;
  v722 = 95;
  v723 = 0;
  v724 = 0;
  v725 = 0;
  v726 = 0;
  v727 = 0;
  v728 = 5;
  v729 = 95;
  v394 = 0;
  v395 = 0;
  v396 = 0;
  v397 = 0;
  v398 = 0;
  v399 = 5;
  v400[0] = 95;
  v401 = 1;
  v402 = 1381123412;
  v403 = 5130561;
  v406 = 12;
  v407 = 96;
  v408 = 1;
  v413 = 10;
  v414 = 97;
  v415 = 1;
  v416 = 1381123412;
  v417 = 5130561;
  v418 = 0;
  v419 = 0;
  v423 = 1280070992;
  v424 = 5264672;
  v425 = 0;
  v426 = 0;
  v465 = 1398227284;
  v466 = 1213090080;
  v467 = 0;
  v472 = 1398227284;
  v473 = 1093619232;
  v474 = 0;
  v479 = 1398227284;
  v480 = 1397052448;
  v420 = 12;
  v421 = 96;
  v422 = 1;
  v427 = 10;
  v428 = 97;
  v429 = 1;
  v430 = 0;
  v431 = 0;
  v432 = 0;
  v433 = 0;
  v434 = 5;
  v435 = 95;
  v436 = 1;
  v437 = 0;
  v438 = 0;
  v439 = 0;
  v440 = 0;
  v441 = 5;
  v442 = 95;
  v443 = 0;
  v444 = 0;
  v445 = 0;
  v446 = 0;
  v447 = 0;
  v448 = 5;
  v449 = 95;
  v450 = 0;
  v451 = 0;
  v452 = 0;
  v453 = 0;
  v454 = 0;
  v455 = 5;
  v456[0] = 95;
  v457 = 0;
  v458 = 0;
  v459 = 0;
  v460 = 0;
  v461 = 0;
  v462 = 5;
  v463 = 95;
  v464 = 1;
  v468 = 0;
  v469 = 16;
  v470 = 95;
  v471 = 1;
  v475 = 0;
  v476 = 12;
  v477 = 96;
  v478 = 1;
  v481 = 84;
  v482 = 0;
  v486 = 1398227284;
  v487 = 1229014560;
  v488 = 76;
  v68 = 0;
  v69 = 0;
  v75 = 0;
  v76 = 0;
  v82 = 0;
  v83 = 0;
  v89 = 0;
  v483 = 16;
  v484 = 95;
  v485 = 1;
  v489 = 0;
  v490 = 12;
  v491 = 96;
  v492 = 0;
  v493 = 0;
  v494 = 0;
  v495 = 0;
  v496 = 0;
  v497 = 5;
  v498 = 95;
  v499 = 0;
  v500 = 0;
  v501 = 0;
  v502 = 0;
  v503 = 0;
  v504 = 5;
  v505 = 95;
  v58 = 0;
  v59 = 0;
  v60 = 0;
  v61 = 0;
  v62 = 0;
  v63 = 5;
  v64[0] = 95;
  v65 = 1;
  v66 = 1381123412;
  v67 = 5130561;
  v70 = 12;
  v71 = 96;
  v72 = 1;
  v73 = 1381123412;
  v74 = 5130561;
  v77 = 10;
  v78 = 97;
  v79 = 1;
  v80 = 1381123412;
  v81 = 5130561;
  v84 = 12;
  v85 = 96;
  v86 = 1;
  v87 = 1381123412;
  v88 = 5130561;
  v90 = 0;
  v91 = 10;
  v92 = 97;
  v93 = 1;
  v94 = 0;
  v95 = 0;
  v96 = 0;
  v97 = 0;
  v98 = 5;
  v99 = 95;
  v100 = 1;
  v129 = 542262612;
  v130 = 4738633;
  v131 = 0;
  v132 = 0;
  v136 = 542262612;
  v137 = 4271950;
  v138 = 0;
  v139 = 0;
  v143 = 542262612;
  v144 = 1414743380;
  v145 = 0;
  v150 = 542262612;
  v151 = 1279869254;
  v101 = 0;
  v102 = 0;
  v103 = 0;
  v104 = 0;
  v105 = 5;
  v106 = 95;
  v107 = 0;
  v108 = 0;
  v109 = 0;
  v110 = 0;
  v111 = 0;
  v112 = 5;
  v113 = 95;
  v114 = 0;
  v115 = 0;
  v116 = 0;
  v117 = 0;
  v118 = 0;
  v119 = 5;
  v120[0] = 95;
  v121 = 0;
  v122 = 0;
  v123 = 0;
  v124 = 0;
  v125 = 0;
  v126 = 5;
  v127 = 95;
  v128 = 1;
  v133 = 16;
  v134 = 95;
  v135 = 1;
  v140 = 12;
  v141 = 96;
  v142 = 1;
  v146 = 0;
  v147 = 16;
  v148 = 95;
  v149 = 1;
  v152 = 0;
  v153 = 0;
  v154 = 12;
  v155 = 96;
  v156 = 0;
  v157 = 0;
  v158 = 0;
  v159 = 0;
  v160 = 0;
  v161 = 5;
  v162 = 95;
  v163 = 0;
  v164 = 0;
  v165 = 0;
  v180 = 0;
  v181 = 0;
  v187 = 0;
  v188 = 0;
  v192 = 1414742607;
  v193 = 1162625857;
  v194 = 0;
  v199 = 1414742607;
  v200 = 1162625857;
  v201 = 0;
  v166 = 0;
  v167 = 0;
  v168 = 5;
  v169 = 95;
  v170 = 0;
  v171 = 0;
  v172 = 0;
  v173 = 0;
  v174 = 0;
  v175 = 5;
  v176[0] = 95;
  v177 = 1;
  v178 = 1381123412;
  v179 = 5130561;
  v182 = 12;
  v183 = 96;
  v184 = 1;
  v185 = 1381123412;
  v186 = 5130561;
  v189 = 10;
  v190 = 97;
  v191 = 1;
  v195 = 0;
  v196 = 12;
  v197 = 96;
  v198 = 1;
  v202 = 0;
  v203 = 10;
  v204 = 97;
  v205 = 1;
  v206 = 0;
  v207 = 0;
  v208 = 0;
  v209 = 0;
  v210 = 5;
  v211 = 95;
  v212 = 1;
  v213 = 0;
  v214 = 0;
  v215 = 0;
  v216 = 0;
  v217 = 5;
  v218 = 95;
  v219 = 1;
  v220 = 0;
  v221 = 0;
  v222 = 0;
  v223 = 0;
  v224 = 5;
  v225 = 95;
  v226 = 0;
  v227 = 0;
  v228 = 0;
  v229 = 0;
  v230 = 0;
  v231 = 5;
  v232[0] = 95;
  v233 = 1;
  v234 = 1293963346;
  v235 = 4539471;
  v236 = 0;
  v237 = 0;
  v241 = 1463899208;
  v242 = 1313415251;
  v243 = 72;
  v248 = 1463899208;
  v249 = 793649235;
  v250 = 65;
  v255 = 1463899208;
  v256 = 1163141203;
  v257 = 21587;
  v258 = 0;
  v262 = 1463899208;
  v263 = 1095114835;
  v264 = 19529;
  v265 = 0;
  v292 = 0;
  v238 = 16;
  v239 = 95;
  v240 = 1;
  v244 = 0;
  v245 = 16;
  v246 = 95;
  v247 = 1;
  v251 = 0;
  v252 = 12;
  v253 = 96;
  v254 = 1;
  v259 = 16;
  v260 = 95;
  v261 = 1;
  v266 = 12;
  v267 = 96;
  v268 = 0;
  v269 = 0;
  v270 = 0;
  v271 = 0;
  v272 = 0;
  v273 = 5;
  v274 = 95;
  v275 = 0;
  v276 = 0;
  v277 = 0;
  v278 = 0;
  v279 = 0;
  v280 = 5;
  v281 = 95;
  v282 = 0;
  v283 = 0;
  v284 = 0;
  v285 = 0;
  v286 = 0;
  v287 = 5;
  v288[0] = 95;
  v289 = 1;
  v290 = 1381123412;
  v291 = 5130561;
  v293 = 0;
  v299 = 0;
  v300 = 0;
  v306 = 0;
  v313 = 0;
  v346 = 1293963346;
  v347 = 4539471;
  v348 = 0;
  v349 = 0;
  v353 = 542262612;
  v354 = 4738633;
  v298 = 5130561;
  v355 = 0;
  v297 = 1381123412;
  v304 = 1414742607;
  v311 = 1414742607;
  v294 = 12;
  v295 = 96;
  v296 = 1;
  v301 = 10;
  v302 = 97;
  v303 = 1;
  v305 = 1162625857;
  v307 = 0;
  v308 = 12;
  v309 = 96;
  v310 = 1;
  v312 = 1162625857;
  v314 = 0;
  v315 = 10;
  v316 = 97;
  v317 = 1;
  v318 = 0;
  v319 = 0;
  v320 = 0;
  v321 = 0;
  v322 = 5;
  v323 = 95;
  v324 = 1;
  v325 = 0;
  v326 = 0;
  v327 = 0;
  v328 = 0;
  v329 = 5;
  v330 = 95;
  v331 = 1;
  v332 = 0;
  v333 = 0;
  v334 = 0;
  v335 = 0;
  v336 = 5;
  v337 = 95;
  v338 = 0;
  v339 = 0;
  v340 = 0;
  v341 = 0;
  v342 = 0;
  v343 = 5;
  v344[0] = 95;
  v345 = 1;
  v350 = 16;
  v351 = 95;
  v352 = 1;
  v356 = 0;
  v357 = 16;
  v360 = 542262612;
  v361 = 4271950;
  v50 = 0;
  v362 = 0;
  v363 = 0;
  v367 = 542262612;
  v368 = 1414743380;
  v369 = 0;
  v371 = 16;
  v375 = 1279869254;
  v2 = *(_BYTE *)(a1 + 8492);
  v359 = 1;
  v366 = 1;
  v373 = 1;
  v358 = 95;
  v372 = 95;
  v386 = 95;
  v393 = 95;
  result = byte_1007D3D4[v2];
  v374 = 542262612;
  v364 = 12;
  v365 = 96;
  v370 = 0;
  v376 = 0;
  v377 = 0;
  v378 = 12;
  v379 = 96;
  v380 = 0;
  v381 = 0;
  v382 = 0;
  v383 = 0;
  v384 = 0;
  v385 = 5;
  v387 = 0;
  v388 = 0;
  v389 = 0;
  v390 = 0;
  v391 = 0;
  v392 = 5;
  if ( result )
  {
    v4 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822);
    v52 = *(_WORD *)(dword_104CEA60 + 42);
    v5 = 23 * (unsigned __int8)result;
    v6 = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824);
    LOWORD(v51) = v4 - v52;
    v7 = v6 - v5 - 6;
    v8 = *(_BYTE *)(a1 + 8028) == 0;
    LOWORD(v53) = v5;
    HIWORD(v51) = v7;
    if ( !v8 )
      HIWORD(v51) = v7 - *(_WORD *)(dword_104CEA60 + 34);
    v9 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 7));
    v10 = v57;
    v11 = *(_BYTE *)(v9 + 26);
    v12 = (*(_WORD *)(v9 + 22) - *(_WORD *)(v9 + 24)) << 24;
    v56 = v9;
    *(_WORD *)(v57 + 4) = 3;
    *(_WORD *)(v10 + 6) = 3;
    *(_WORD *)(v10 + 36) = 5;
    v55 = (v11 << 16) | v12 & 0xFF000101 | 0x101;
    LOWORD(v9) = v53 + 6;
    *(_WORD *)(v10 + 38) = 16;
    v13 = v52;
    v54 = 1073741829;
    *(_WORD *)(v10 + 48) = 5;
    *(_WORD *)(v10 + 50) = 5;
    sub_10005780(v10, v13, v9, (int)&v51);
    sub_1004D0A0(&v50);
    result = *(_BYTE *)(a1 + 8492) - 2;
    switch ( *(_BYTE *)(a1 + 8492) )
    {
      case 4:
        v14 = v52;
        v15 = 16 * BYTE2(v50);
        v16 = &v619 + v15;
        LOWORD(v15) = *(&v623 + 8 * BYTE2(v50));
        v17 = v10;
        sub_10007420(
          v15,
          v52,
          (int)&v54,
          v10,
          v51,
          SHIWORD(v51),
          23,
          *(&v618 + 16 * BYTE2(v50)),
          v624[16 * BYTE2(v50)],
          v16);
        v18 = 16 * BYTE1(v50);
        v19 = &v563 + v18;
        v20 = *(&v562 + 16 * BYTE1(v50));
        HIWORD(v53) = HIWORD(v51) + 23;
        LOWORD(v18) = *(&v567 + 8 * BYTE1(v50));
        sub_10007420(v18, v14, (int)&v54, v10, v51, HIWORD(v51) + 23, 23, v20, v568[16 * BYTE1(v50)], v19);
        HIWORD(v53) += 23;
        v21 = 16 * (unsigned __int8)v50;
        v22 = &v507 + v21;
        LOWORD(v21) = *(&v511 + 8 * (unsigned __int8)v50);
        sub_10007420(
          v21,
          v14,
          (int)&v54,
          v10,
          v51,
          SHIWORD(v53),
          23,
          *(&v506 + 16 * (unsigned __int8)v50),
          v512[16 * (unsigned __int8)v50],
          v22);
        HIWORD(v53) += 23;
        v24 = 16 * BYTE3(v50);
        v49 = &v675 + v24;
        v23 = *(&v674 + 16 * BYTE3(v50));
        LOWORD(v24) = *(&v679 + 8 * BYTE3(v50));
        v48 = v680[16 * BYTE3(v50)];
        v25 = HIWORD(v53);
        goto LABEL_18;
      case 2:
        v26 = v52;
        v27 = &v54;
        v17 = v10;
        if ( (_BYTE)v50 )
        {
          v28 = 16 * (unsigned __int8)v50;
          v29 = v400[v28];
          v30 = &v395 + v28;
          v31 = *(&v394 + v28);
          LOWORD(v28) = *(__int16 *)((char *)&v399 + v28);
          return sub_10007420(v28, v52, (int)&v54, v10, v51, SHIWORD(v51), 23, v31, v29, v30);
        }
        v24 = 16 * BYTE1(v50);
        v32 = v456[v24];
        v49 = &v451 + v24;
        v23 = *(&v450 + v24);
        LOWORD(v24) = *(__int16 *)((char *)&v455 + v24);
        v48 = v32;
        v25 = HIWORD(v51);
        goto LABEL_19;
      case 3:
        v26 = v52;
        v27 = &v54;
        v17 = v10;
        if ( (_BYTE)v50 )
        {
          v33 = 16 * (unsigned __int8)v50;
          v34 = v64[v33];
          v35 = &v59 + v33;
          v36 = *(&v58 + v33);
          LOWORD(v33) = *(__int16 *)((char *)&v63 + v33);
          return sub_10007420(v33, v52, (int)&v54, v10, v51, SHIWORD(v51), 23, v36, v34, v35);
        }
        v24 = 16 * BYTE1(v50);
        v37 = v120[v24];
        v49 = &v115 + v24;
        v23 = *(&v114 + v24);
        LOWORD(v24) = *(__int16 *)((char *)&v119 + v24);
        v48 = v37;
        v25 = HIWORD(v51);
        goto LABEL_19;
      case 5:
        v26 = v52;
        v27 = &v54;
        v17 = v10;
        if ( (_BYTE)v50 )
        {
          v38 = 16 * (unsigned __int8)v50;
          v39 = v176[v38];
          v40 = &v171 + v38;
          v41 = *(&v170 + v38);
          LOWORD(v38) = *(__int16 *)((char *)&v175 + v38);
          return sub_10007420(v38, v52, (int)&v54, v10, v51, SHIWORD(v51), 23, v41, v39, v40);
        }
        v24 = 16 * BYTE1(v50);
        v42 = v232[v24];
        v49 = &v227 + v24;
        v23 = *(&v226 + v24);
        LOWORD(v24) = *(__int16 *)((char *)&v231 + v24);
        v48 = v42;
        v25 = HIWORD(v51);
        goto LABEL_19;
      case 6:
        v17 = v10;
        if ( (unsigned __int8)v50 <= 0u )
        {
          v24 = 16 * BYTE1(v50);
          v47 = v344[v24];
          v49 = &v339 + v24;
          v23 = *(&v338 + v24);
          LOWORD(v24) = *(__int16 *)((char *)&v343 + v24);
          v48 = v47;
          v25 = HIWORD(v51);
LABEL_18:
          v26 = v52;
          v27 = &v54;
LABEL_19:
          result = sub_10007420(v24, v26, (int)v27, v17, v51, v25, 23, v23, v48, v49);
        }
        else
        {
          v43 = 16 * (unsigned __int8)v50;
          v44 = v288[v43];
          v45 = &v283 + v43;
          v46 = *(&v282 + v43);
          LOWORD(v43) = *(__int16 *)((char *)&v287 + v43);
          result = sub_10007420(v43, v52, (int)&v54, v10, v51, SHIWORD(v51), 23, v46, v44, v45);
        }
        break;
      default:
        return result;
    }
  }
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 104CEA60: using guessed type int dword_104CEA60;
// 10007F40: using guessed type char var_1F6[2];
// 10007F40: using guessed type char var_176[2];
// 10007F40: using guessed type char var_F6[2];
// 10007F40: using guessed type char var_76[2];
// 10007F40: using guessed type char var_2F6[2];
// 10007F40: using guessed type char var_276[2];
// 10007F40: using guessed type char var_5F6[2];
// 10007F40: using guessed type char var_576[2];
// 10007F40: using guessed type char var_4F6[2];
// 10007F40: using guessed type char var_476[2];
// 10007F40: using guessed type char var_3F6[2];
// 10007F40: using guessed type char var_376[2];

//----- (10009A70) --------------------------------------------------------
int __cdecl sub_10009A70(int a1)
{
  sub_1001B520(a1 + 3940, dword_10504E80 + 12 * *(_BYTE *)(a1 + 3682), 1);
  *(_WORD *)(a1 + 3976) = 0;
  *(_WORD *)(a1 + 3978) = 0;
  return sub_10006F70(a1 + 3940, 1);
}
// 10504E80: using guessed type int dword_10504E80;

//----- (10009AD0) --------------------------------------------------------
_WORD *__cdecl sub_10009AD0(int a1, __int16 a2, unsigned int a3, signed __int16 *a4, _BYTE *a5, int a6)
{
  signed __int16 v6; // cx@1
  __int16 v7; // si@1
  _WORD *result; // eax@2

  *a5 = (a3 >> 29) & 1;
  v6 = *(_WORD *)(a1 + 6);
  v7 = *(_WORD *)(a1 + 4);
  if ( v6 <= v7 )
    result = sub_10007A10(a4, v6, v7, (_WORD *)a6, (_WORD *)(a6 + 2), a2);
  else
    result = sub_10007A10(a4, v7, v6, (_WORD *)a6, (_WORD *)(a6 + 2), a2);
  return result;
}

//----- (10009B30) --------------------------------------------------------
char __usercall sub_10009B30@<al>(int a1@<ecx>, int a2@<esi>, int a3)
{
  signed int v3; // edx@1
  char result; // al@1
  signed int v5; // edx@5
  signed int v6; // edx@7
  signed int v7; // edx@9
  signed int v8; // edx@11
  signed int v9; // edx@13
  signed int v10; // edx@15
  int v11; // eax@17

  v3 = *(_DWORD *)(a1 + 4);
  result = 0;
  if ( v3 )
  {
    if ( v3 <= 5461 )
    {
      v5 = *(_DWORD *)(a1 + 8);
      if ( v5 <= 0x7FFF && v5 >= -32768 )
      {
        v6 = *(_DWORD *)(a1 + 12);
        if ( v6 <= 0x7FFF && v6 >= -32768 )
        {
          v7 = *(_DWORD *)(a1 + 16);
          if ( v7 <= 0x7FFF && v7 >= -32768 )
          {
            v8 = *(_DWORD *)(a1 + 20);
            if ( v8 <= 0x7FFF && v8 >= -32768 )
            {
              v9 = *(_DWORD *)(a1 + 24);
              if ( v9 <= 0x7FFF && v9 >= -32768 )
              {
                v10 = *(_DWORD *)(a1 + 28);
                if ( v10 <= 0x7FFF && v10 >= -32768 )
                {
                  *(_WORD *)(a2 + 46) = *(_WORD *)(a1 + 16);
                  *(_WORD *)(a2 + 44) = *(_WORD *)(a1 + 20);
                  v11 = *(_BYTE *)a1 != 0;
                  if ( *(_BYTE *)(a1 + 1) )
                    v11 |= 2u;
                  sub_1001D430(
                    a2,
                    *(_WORD *)(a1 + 8),
                    *(_WORD *)(a1 + 12),
                    *(_WORD *)(a1 + 4),
                    v11,
                    *(_WORD *)(a1 + 24),
                    *(_WORD *)(a1 + 28));
                  result = 1;
                }
              }
            }
          }
        }
      }
    }
    else
    {
      sub_100070E0(a3, a2, a1);
      result = 1;
    }
  }
  else
  {
    sub_1001ED20(a2, *(_WORD *)(a1 + 8), *(_WORD *)(a1 + 12));
    result = 1;
  }
  return result;
}

//----- (10009C40) --------------------------------------------------------
char __cdecl sub_10009C40(int a1, int a2, int a3, int a4, char a5)
{
  char v5; // bl@1
  char result; // al@1
  char v7; // [sp+10h] [bp-4h]@1

  v5 = sub_10005550(a2, a3, 0, a5, &v7);
  result = sub_10009B30(a4, a2, a1);
  if ( v5 == 1 && result == 1 )
  {
    sub_10005550(a2, a3, 1, a5, &v7);
    result = sub_10009B30(a4, a2, a1);
  }
  return result;
}

//----- (10009CB0) --------------------------------------------------------
char __cdecl sub_10009CB0(int a1, int a2)
{
  int v2; // edi@1
  __int16 v3; // ax@1
  char v4; // bl@1
  signed __int16 v5; // dx@1
  bool v6; // zf@15
  int v7; // esi@22
  int v8; // ebx@22
  int v9; // ebp@22
  char v10; // al@22
  __int16 v11; // ax@25
  int v12; // edi@27
  __int16 v13; // ax@27
  __int16 v14; // ax@28
  signed __int16 v15; // bx@29
  int v16; // ebp@29
  int v17; // eax@29
  __int16 v18; // cx@29
  int v19; // eax@29
  char v21; // [sp+Fh] [bp-19h]@1
  signed __int16 v22; // [sp+10h] [bp-18h]@1
  int v23; // [sp+14h] [bp-14h]@27
  int v24; // [sp+18h] [bp-10h]@15
  int v25; // [sp+20h] [bp-8h]@27

  v2 = a1;
  v3 = *(_WORD *)(a1 + 3822);
  v4 = 1;
  v21 = 1;
  v5 = 75;
  v22 = 77;
  if ( (v3 != 217 || *(_WORD *)(a1 + 3824) != 217) && (v3 != 302 || *(_WORD *)(a1 + 3824) != 218)
    || !*(_BYTE *)(a1 + 8544) )
  {
    v21 = 0;
    v4 = 0;
    v5 = 74;
    v22 = 76;
  }
  if ( v3 > 3 * *(_WORD *)(dword_104CEA60 + 6) && *(_WORD *)(a1 + 3824) > 168 || v4 )
  {
    if ( *(_BYTE *)(a1 + 3680) )
    {
      if ( *(_BYTE *)(a1 + 8360) != 4 && !*(_BYTE *)(a1 + 1140) )
      {
        LOBYTE(v3) = *(_BYTE *)(a1 + 8544);
        if ( !(_BYTE)v3 || *(_BYTE *)(a1 + 8545) )
        {
          v6 = *(_BYTE *)(a1 + 8048) == 0;
          v24 = 0;
          if ( v6 || !*(_BYTE *)(a1 + 8131) )
          {
            if ( (_BYTE)v3 || *(_BYTE *)(a1 + 3557) )
            {
              HIWORD(v24) = *(_WORD *)(dword_104CEA60 + 2);
              if ( v4 )
              {
                HIWORD(v24) -= 20;
                LOWORD(v24) = -8;
              }
            }
          }
          else
          {
            HIWORD(v24) = 59;
          }
          v7 = a2;
          v8 = (unsigned __int16)v5;
          *(_WORD *)(a2 + 4) = 2;
          *(_WORD *)(v7 + 6) = 3;
          *(_WORD *)(v7 + 34) = 1;
          *(_WORD *)(v7 + 32) = 1;
          v9 = BMP_get_bm_def((unsigned __int16)v5);
          v10 = *(_BYTE *)(v2 + 3680);
          if ( v10 == 1 || v10 == 2 || v10 == 3 )
            v11 = 720 - (signed int)((double)*(signed int *)(v2 + 3624) * 0.00000008381903171539307);
          else
            v11 = 360;
          v12 = 11930464 * v11;
          sub_10009AD0(v9, v11, 11930464 * v11, (signed __int16 *)&v23, &a1, (int)&v25);
          *(_DWORD *)(v7 + 68) = BMP_get_xfrm(v8);
          v13 = *(_WORD *)(v9 + 4) / 2;
          LOWORD(v24) = v13 - 12 + v24;
          HIWORD(v24) += v13 - 12;
          if ( !v21 )
          {
            v14 = *(_WORD *)(v9 + 4) / 2;
            LOWORD(v24) = v14 - 15 + v24;
            HIWORD(v24) += v14 - 15;
          }
          v15 = v23;
          sub_1001ED80(v7, v9, v25, SHIWORD(v25), v23, v23, v24, SHIWORD(v24), a1, v12 + 0x20000000);
          v16 = BMP_get_xfrm((unsigned __int16)v22);
          v17 = BMP_get_info((unsigned __int16)v22);
          v18 = *(_BYTE *)(v17 + 1);
          LOWORD(v24) = v15 / 2 - *(_BYTE *)v17 + v24;
          HIWORD(v24) += v15 / 2 - v18;
          v19 = BMP_get_bm_def((unsigned __int16)v22);
          LOBYTE(v3) = sub_10005690(v7, v19, v16, (int)&v24, 0);
        }
      }
    }
  }
  return v3;
}
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 104CEA60: using guessed type int dword_104CEA60;

//----- (10009F20) --------------------------------------------------------
char __cdecl sub_10009F20(int a1, int a2, int a3, int a4, char a5)
{
  __int16 v5; // ax@1
  signed int v6; // ebp@1
  char v7; // cl@7
  char v8; // dl@7
  char v10; // [sp+10h] [bp-20h]@7
  char v11; // [sp+11h] [bp-1Fh]@7
  char v12; // [sp+14h] [bp-1Ch]@7
  char v13; // [sp+18h] [bp-18h]@7
  int v14; // [sp+1Ch] [bp-14h]@7
  char v15; // [sp+20h] [bp-10h]@7
  int v16; // [sp+24h] [bp-Ch]@7
  char v17; // [sp+28h] [bp-8h]@7
  int v18; // [sp+2Ch] [bp-4h]@7

  v5 = *(_WORD *)(a1 + 3822);
  v6 = 0;
  if ( v5 == 217 && *(_WORD *)(a1 + 3824) == 217 || v5 == 302 && *(_WORD *)(a1 + 3824) == 218 )
  {
    if ( *(_BYTE *)(a1 + 8544) )
      v6 = 20;
  }
  sub_10015060(a3 + 8, (int)&v13, 0, a1 + 3568);
  sub_10015060(a3 + 16, (int)&v15, 0, a1 + 3568);
  sub_10015060(a3 + 24, (int)&v17, 0, a1 + 3568);
  sub_10007AB0(a1, &v12, *(_DWORD *)(a3 + 4));
  v7 = *(_BYTE *)a3;
  v8 = *(_BYTE *)(a3 + 1);
  v14 += v6;
  v16 += v6;
  v18 += v6;
  v10 = v7;
  v11 = v8;
  return sub_10009C40(a1, a2, a4, (int)&v10, a5);
}

//----- (10009FF0) --------------------------------------------------------
char __cdecl sub_10009FF0(signed int a1, int a2, signed int *a3, int a4, char a5)
{
  signed int *v5; // esi@1
  int v6; // edi@1
  __int16 v7; // ax@1
  __int16 v8; // cx@1
  char result; // al@3
  int v10; // [sp+8h] [bp-28h]@1
  int v11; // [sp+Ch] [bp-24h]@3
  char v12; // [sp+10h] [bp-20h]@4
  char v13; // [sp+11h] [bp-1Fh]@4
  int v14; // [sp+14h] [bp-1Ch]@4
  int v15; // [sp+18h] [bp-18h]@4
  int v16; // [sp+1Ch] [bp-14h]@4
  int v17; // [sp+20h] [bp-10h]@4
  int v18; // [sp+24h] [bp-Ch]@4
  int v19; // [sp+28h] [bp-8h]@4
  int v20; // [sp+2Ch] [bp-4h]@4

  v5 = a3;
  v6 = a1;
  sub_10015060((int)(a3 + 1), (int)&v10, 0, a1 + 3568);
  v7 = sub_10007AB0(v6, &a1, *v5);
  v8 = a1;
  if ( a1 > 21844 || v7 == -1 )
  {
    v16 = v11;
    v18 = a1 + v11;
    v20 = a1 + v11;
    v15 = v10;
    v17 = v10;
    v19 = v10;
    v12 = 1;
    v13 = 1;
    v14 = a1;
    result = sub_10009C40(v6, a2, a4, (int)&v12, a5);
  }
  else
  {
    LOWORD(a1) = v10;
    HIWORD(a1) = v11;
    result = sub_10005700(a2, (int)&a1, v8, a4, 0);
  }
  return result;
}

//----- (1000A0D0) --------------------------------------------------------
__int16 __cdecl sub_1000A0D0(int a1, int a2, unsigned __int8 a3, signed int a4)
{
  __int16 v4; // cx@1
  signed __int16 v5; // dx@1
  __int16 v6; // di@3
  __int16 result; // ax@10
  int v8; // edi@11
  float v9; // ST58_4@11
  double v10; // st7@11
  signed int v11; // eax@12
  __int16 v12; // si@14
  __int16 v13; // ax@16
  __int16 v14; // ST44_2@18
  __int16 v15; // ST40_2@18
  __int16 v16; // cx@18
  __int16 v17; // dx@18
  int v18; // eax@18
  int v19; // esi@18
  __int64 v20; // rax@18
  int v21; // eax@18
  __int16 v22; // cx@18
  __int64 v23; // rax@18
  int v24; // eax@18
  __int16 v25; // ST48_2@18
  int v26; // ST4C_4@18
  __int16 v27; // [sp+Ch] [bp-8E8h]@0
  int v28; // [sp+10h] [bp-8E4h]@0
  int v29; // [sp+18h] [bp-8DCh]@11
  __int16 v30; // [sp+18h] [bp-8DCh]@14
  __int16 v31; // [sp+1Ah] [bp-8DAh]@14
  int v32; // [sp+1Ch] [bp-8D8h]@14
  __int16 v33; // [sp+20h] [bp-8D4h]@10
  __int16 v34; // [sp+22h] [bp-8D2h]@10
  __int16 v35; // [sp+24h] [bp-8D0h]@14
  __int16 v36; // [sp+26h] [bp-8CEh]@14
  int v37; // [sp+28h] [bp-8CCh]@11
  char *v38; // [sp+2Ch] [bp-8C8h]@16
  int v39; // [sp+30h] [bp-8C4h]@16
  int v40; // [sp+34h] [bp-8C0h]@16
  int v41; // [sp+38h] [bp-8BCh]@11
  int v42; // [sp+3Ch] [bp-8B8h]@11
  int v43; // [sp+44h] [bp-8B0h]@11
  int v44; // [sp+48h] [bp-8ACh]@11
  int v45; // [sp+4Ch] [bp-8A8h]@11
  int v46; // [sp+50h] [bp-8A4h]@11
  char v47; // [sp+54h] [bp-8A0h]@18
  __int16 v48; // [sp+5Ah] [bp-89Ah]@18
  __int16 v49; // [sp+84h] [bp-870h]@18
  __int16 v50; // [sp+86h] [bp-86Eh]@18
  int *v51; // [sp+88h] [bp-86Ch]@18
  void *v52; // [sp+90h] [bp-864h]@18
  char v53; // [sp+ACh] [bp-848h]@18
  __int16 v54; // [sp+C0h] [bp-834h]@18
  char v55; // [sp+2ACh] [bp-648h]@18

  FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 11));
  v4 = word_100785F8[a3];
  v5 = 0;
  if ( *(_BYTE *)(a1 + 8554) )
  {
    v5 = -1;
  }
  else
  {
    v6 = *(_WORD *)(a1 + 3822);
    if ( (v6 != 217 || *(_WORD *)(a1 + 3824) != 217) && (v6 != 302 || *(_WORD *)(a1 + 3824) != 218)
      || !*(_BYTE *)(a1 + 8544) )
    {
      goto LABEL_10;
    }
    v5 = 20;
  }
  v4 = word_10078608[a3];
LABEL_10:
  v33 = *(_WORD *)(a1 + 8632);
  result = v5 + *(_WORD *)(a1 + 8634);
  v34 = v5 + *(_WORD *)(a1 + 8634);
  if ( v4 != -1 )
  {
    v8 = (unsigned __int16)v4;
    v29 = BMP_get_info((unsigned __int16)v4);
    v43 = 11930464 * a4;
    v41 = BMP_get_bm_def(v8);
    sub_10009AD0(v41, a4, 11930464 * a4, (signed __int16 *)&v37, &v44, (int)&v42);
    *(_DWORD *)(a2 + 68) = BMP_get_xfrm(v8);
    v9 = (double)sub_10063870(a4, 3) * 0.01745329238474369;
    sub_10063950(v9, (int)&v45, (int)&v46);
    v10 = *(float *)&v45;
    if ( *(_BYTE *)(a1 + 8360) == 4 )
      LOWORD(v11) = (signed __int16)v37 / -2;
    else
      v11 = (signed int)((double)(*(_BYTE *)(v29 + 1) - (signed __int16)v37 / 2) * v10);
    v35 = v11;
    v12 = (signed __int16)v37 / 2;
    v32 = (signed __int16)v37 / 2;
    v36 = (signed int)((double)(v32 - *(_BYTE *)(v29 + 1)) * *(float *)&v46);
    v30 = (signed int)(v10 * (double)((signed __int16)v37 / -2));
    v31 = (signed int)(*(float *)&v46 * (double)v32);
    if ( sub_100195D0() )
    {
      v38 = *(char **)v41;
      v39 = *(_DWORD *)(v41 + 4);
      v40 = *(_DWORD *)(v41 + 8);
      v13 = v39;
      if ( (signed __int16)v39 > 40 )
      {
        sub_100175E0(".\\mpm\\mpm_c_disp.c", 4327, 1, 0);
        v13 = v39;
      }
      v38 = &v55;
      HIWORD(v40) = v13 * ((unsigned __int8)v40 >> 3);
      HIWORD(v39) = v13;
      qmemcpy(&v47, (const void *)a2, 0x54u);
      v51 = (int *)&v38;
      memset(&v55, 10, 0x640u);
      sub_1001ED80((int)&v47, v41, v42, SHIWORD(v42), v37, v37, 0, 0, v44, v43 + 536870880);
      v49 = -1;
      v50 = 10;
      v48 = 1;
      v52 = &unk_10077320;
      sub_1001EBD0((int)&v47, 0, 0, SHIWORD(v39), SHIWORD(v39));
      v14 = v39;
      qmemcpy(&v53, &unk_100E4780, 0x200u);
      v15 = HIWORD(v39);
      v16 = *(_WORD *)(a2 + 42);
      *(_DWORD *)(a2 + 68) = &v53;
      v17 = v34 + v36 + *(_WORD *)(a2 + 40) - v32;
      v54 = -1;
      sub_1001B720(a2, (int)&v38, 0, 0, v33 + v35 + v16 - v32, v17, v15, v14);
      v18 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 1));
      v19 = v18;
      *(_WORD *)(a2 + 46) = v33 + v30 + *(_WORD *)(a2 + 42);
      *(_WORD *)(a2 + 4) = 3;
      *(_WORD *)(a2 + 6) = 3;
      *(_WORD *)(a2 + 36) = -1;
      *(_WORD *)(a2 + 38) = 0;
      v20 = *(_WORD *)(v18 + 24) - *(_WORD *)(v18 + 26);
      *(_WORD *)(a2 + 44) = v34 + v31 + *(_WORD *)(a2 + 40) + (((signed int)v20 - HIDWORD(v20)) >> 1);
      v21 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 9));
      sub_10019B50(a2, v21, &unk_10079B88, 0, 1, v27, v28);
      v22 = v30 + *(_WORD *)(a2 + 42);
      *(_WORD *)(a2 + 36) = -1;
      *(_WORD *)(a2 + 38) = 12;
      *(_WORD *)(a2 + 46) = v33 + v22;
      v23 = *(_WORD *)(v19 + 24) - *(_WORD *)(v19 + 26);
      *(_WORD *)(a2 + 44) = v34 + v31 + *(_WORD *)(a2 + 40) + (((signed int)v23 - HIDWORD(v23)) >> 1);
      v24 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 1));
      result = sub_10019B50(a2, v24, &unk_10079B88, 0, 1, v25, v26);
    }
    else
    {
      result = sub_1001ED80(
                 a2,
                 v41,
                 v42,
                 SHIWORD(v42),
                 v37,
                 v37,
                 v33 + v35 + *(_WORD *)(a2 + 42) - v12,
                 v34 + v36 + *(_WORD *)(a2 + 40) - v12,
                 v44,
                 v43 + 536870880);
    }
  }
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 100785F8: using guessed type __int16 word_100785F8[];
// 10078608: using guessed type __int16 word_10078608[];
// 100E4980: using guessed type int dword_100E4980;

//----- (1000A590) --------------------------------------------------------
void __cdecl sub_1000A590(signed int a1, int a2, int a3, int a4, float a5)
{
  char *v5; // edi@2
  int v6; // edi@2
  int v7; // [sp+4h] [bp-Ch]@2
  int v8; // [sp+8h] [bp-8h]@2
  int v9; // [sp+Ch] [bp-4h]@2

  if ( *(_BYTE *)(a1 + 3622) >= 0xAu )
  {
    *(_WORD *)(a2 + 4) = 2;
    *(_WORD *)(a2 + 36) = 15;
    *(_WORD *)(a2 + 38) = 15;
    *(_WORD *)(a2 + 34) = 2;
    *(_WORD *)(a2 + 32) = 2;
    v5 = sub_1000FA50(0x41u);
    v8 = a3;
    v7 = 1984847;
    v9 = a4;
    sub_10007A80((int)&unk_100799F4);
    sub_10006FD0();
    sub_10009FF0(a1, a2, &v7, (int)v5, 0);
    v6 = (unsigned int)((signed int)(sub_1003C620(a5) * 683565248.0) - *(_DWORD *)(a1 + 3624)) >> 16;
    sub_10007800(v6, &v7, a2, a1);
    if ( *(_BYTE *)(a1 + 3622) <= 18 - *(_BYTE *)(a1 + 3623) )
      sub_100074C0(&v7, a1, a2, v6);
    sub_10007740(&v7, a1, a2, v6);
  }
}

//----- (1000A680) --------------------------------------------------------
char __cdecl sub_1000A680(int a1, int a2)
{
  char v2; // cl@1
  bool v3; // zf@1
  __int16 v4; // ax@2
  __int16 v5; // ax@8
  __int16 v6; // di@8
  int v7; // ecx@9
  __int16 v8; // di@9
  __int16 v9; // di@9
  __int16 v10; // ax@11
  __int16 v11; // cx@15
  __int16 v12; // ax@16
  __int16 v13; // ST38_2@17
  __int16 v14; // ST34_2@17
  __int16 v15; // ST20_2@17
  __int16 v16; // ST1C_2@17
  int v17; // eax@17
  int v18; // edx@17
  int v19; // edi@17
  int v20; // eax@20
  int v21; // ebp@25
  double v22; // st6@25
  int v23; // edi@27
  char v24; // al@31
  int v25; // edi@34
  unsigned int v26; // edi@37
  unsigned int v27; // ST24_4@37
  int v28; // edi@37
  __int16 v29; // bp@39
  int v30; // ebx@43
  int v31; // ecx@44
  __int16 v32; // ST28_2@49
  int v33; // ST2C_4@49
  __int16 v34; // dx@49
  signed int v36; // [sp+4h] [bp-64h]@20
  char v37; // [sp+1Fh] [bp-49h]@1
  _BYTE v38[6]; // [sp+20h] [bp-48h]@0
  float v39; // [sp+20h] [bp-48h]@17
  int v40; // [sp+28h] [bp-40h]@9
  int v41; // [sp+30h] [bp-38h]@14
  int v42; // [sp+38h] [bp-30h]@1
  int v43; // [sp+3Ch] [bp-2Ch]@9
  int v44; // [sp+40h] [bp-28h]@1
  char v45; // [sp+44h] [bp-24h]@16
  float v46; // [sp+48h] [bp-20h]@28
  float v47; // [sp+4Ch] [bp-1Ch]@17
  char v48; // [sp+50h] [bp-18h]@49

  v42 = 0;
  v37 = sub_100195D0();
  v2 = 0;
  v3 = *(_BYTE *)(a1 + 8554) == 0;
  v44 = *(_DWORD *)(a1 + 3624);
  if ( !v3
    || ((v4 = *(_WORD *)(a1 + 3822), v4 == 217) && *(_WORD *)(a1 + 3824) == 217
     || v4 == 302 && *(_WORD *)(a1 + 3824) == 218)
    && *(_BYTE *)(a1 + 8544) )
  {
    v2 = 1;
  }
  *(_WORD *)(a2 + 4) = 2;
  *(_WORD *)(a2 + 6) = 3;
  *(_WORD *)(a2 + 34) = 1;
  *(_WORD *)(a2 + 32) = 1;
  v5 = *(_WORD *)(a1 + 3822);
  v6 = *(_WORD *)(a1 + 3818);
  if ( v5 <= 350 )
  {
    v3 = v2 == 0;
    v7 = dword_104CEA60;
    v40 = 69;
    v43 = 22;
    if ( !v3 )
    {
      v9 = v5 + v6 - 69;
      v10 = *(_WORD *)dword_104CEA60 + *(_WORD *)(a1 + 3820) - 3;
      goto LABEL_14;
    }
    v9 = v5 + v6 - *(_WORD *)(dword_104CEA60 + 6) - 53;
  }
  else
  {
    v7 = dword_104CEA60;
    v8 = v6 - *(_WORD *)(dword_104CEA60 + 6);
    v40 = 81;
    v43 = 28;
    v9 = v5 + v8 - 81;
  }
  v10 = *(_WORD *)(a1 + 3820);
LABEL_14:
  v3 = *(_BYTE *)(a1 + 3557) == 0;
  *(_WORD *)v38 = v9;
  *(_WORD *)&v38[2] = v10;
  v41 = *(_DWORD *)v38;
  if ( !v3 )
  {
    v11 = *(_WORD *)(v7 + 2);
    *(_WORD *)&v38[2] = v11 + v10;
    HIWORD(v41) = v11 + v10;
  }
  LOBYTE(v12) = sub_10019610((int)&v45);
  if ( v45 == 1 )
  {
    v13 = v43;
    v14 = v40;
    *(_WORD *)(a2 + 36) = 6;
    *(_WORD *)(a2 + 38) = 6;
    *(_WORD *)(a2 + 48) = 6;
    *(_WORD *)(a2 + 50) = 6;
    sub_1001CD40(a2, v9, *(__int16 *)&v38[2], v14, v13, 3);
    v15 = v43 - 3;
    v16 = v40 - 3;
    *(_WORD *)(a2 + 48) = 5;
    *(_WORD *)(a2 + 50) = 5;
    *(_WORD *)(a2 + 36) = 9;
    *(_WORD *)(a2 + 38) = 16;
    sub_1001CD40(a2, v9 + 1, *(_WORD *)&v38[2] + 1, v16, v15, 3);
    v17 = v43 + *(_DWORD *)&v38[2] - 1;
    v18 = v40;
    *(_WORD *)(a2 + 36) = 9;
    *(_WORD *)(a2 + 38) = 9;
    *(_WORD *)(a2 + 46) = v9;
    v19 = *(_DWORD *)v38 + v18 - 1;
    *(_WORD *)(a2 + 44) = v17;
    sub_1001A8E0(a2, *(_WORD *)v38 + v18 - 1, v17, 0);
    sub_1001A8E0(a2, v19, *(_WORD *)&v38[2] - 1, 0);
    v39 = v47 * 1.943844492440605;
    if ( v39 < 0.447 )
    {
      v28 = v42;
    }
    else
    {
      if ( *(_WORD *)(a1 + 3822) <= 350 )
      {
        if ( v37 )
        {
          v20 = BMP_get_bm_def(73);
          v36 = 73;
        }
        else
        {
          v20 = BMP_get_bm_def(71);
          v36 = 71;
        }
      }
      else if ( v37 )
      {
        v20 = BMP_get_bm_def(72);
        v36 = 72;
      }
      else
      {
        v20 = BMP_get_bm_def(70);
        v36 = 70;
      }
      v21 = v20;
      *(_DWORD *)(a2 + 68) = BMP_get_xfrm(v36);
      v22 = flt_100E49AC;
      if ( v39 > 4.0 || 9.9999996e24 == v22 )
      {
        v40 = 180 - (signed int)(-57.29577951308219 * v46);
        if ( v39 > 6.0 || 9.9999996e24 == v22 )
          flt_100E49AC = v46;
        v23 = v40;
      }
      else
      {
        v23 = 180 - (signed int)(v22 * -57.29577951308219);
      }
      v24 = *(_BYTE *)(a1 + 3680);
      if ( v24 == 1 || v24 == 2 || v24 == 3 )
        v25 = 720 - (signed int)((double)v44 * 0.00000008381903171539307) + v23;
      else
        v25 = v23 + 360;
      v40 = v25;
      v26 = 11930464 * v25;
      sub_10009AD0(v21, v40, v26, (signed __int16 *)&v42, &v44, (int)&v40);
      v27 = v26 + 536870880;
      v28 = v42;
      sub_1001ED80(a2, v21, v40, SHIWORD(v40), v42, v42, (signed __int16)v42 / 2 + v41 - 8, HIWORD(v41) + 1, v44, v27);
    }
    v29 = *(_WORD *)(a2 + 6);
    v42 = *(_DWORD *)(a2 + 36);
    *(_WORD *)(a2 + 6) = 3;
    *(_WORD *)(a2 + 36) = -1;
    if ( v37 )
      *(_WORD *)(a2 + 38) = 12;
    else
      *(_WORD *)(a2 + 38) = 16;
    if ( *(_WORD *)(a1 + 3822) <= 350 )
    {
      v30 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
      if ( (_WORD)v28 )
        v31 = v41 + v28 + 45;
      else
        LOWORD(v31) = v41 + 63;
    }
    else
    {
      v30 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 7));
      if ( (_WORD)v28 )
        v31 = v41 + v28 + 51;
      else
        LOWORD(v31) = v41 + 75;
    }
    *(_WORD *)(a2 + 44) = v43 + HIWORD(v41) - (*(_WORD *)(v30 + 22) >> 1);
    *(_WORD *)(a2 + 46) = v31;
    sub_1004A340(&v48, 0x14u, "%3.0f%c");
    sub_10019B50(a2, v30, &v48, 0, 0, v32, v33);
    v12 = HIWORD(v42);
    v34 = v42;
    *(_WORD *)(a2 + 6) = v29;
    *(_WORD *)(a2 + 36) = v34;
    *(_WORD *)(a2 + 38) = v12;
  }
  return v12;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 100E49AC: using guessed type float flt_100E49AC;
// 104CEA60: using guessed type int dword_104CEA60;

//----- (1000AB30) --------------------------------------------------------
signed int __usercall sub_1000AB30@<eax>(unsigned int a1@<eax>, int a2@<esi>)
{
  char v2; // cl@1
  char v3; // dl@2
  char v4; // cl@10

  a1 = (unsigned __int8)a1;
  v2 = *(_BYTE *)((unsigned __int8)a1 + a2 + 8073);
  if ( v2 == 29 )
    v3 = byte_100786F1[8 * a1];
  else
    v3 = *(_BYTE *)((unsigned __int8)a1 + a2 + 8073);
  if ( *(_BYTE *)(a2 + 3622) > (unsigned __int8)v3 )
  {
    if ( v2 == 29 )
    {
      if ( byte_100786F1[8 * a1] )
      {
        v2 = byte_100786F1[8 * a1];
      }
      else if ( !byte_100786F1[8 * a1] )
      {
        return 0;
      }
    }
    if ( v2 != 28 )
      return 0;
  }
  v4 = byte_100786F3[8 * a1];
  if ( (v4 <= *(_BYTE *)(a2 + 8232) || v4 == 3) && (1 << (signed int)a1 % 32) & *(_DWORD *)(a2 + 4 * (a1 >> 5) + 1132) )
    return 1;
  return 0;
}

//----- (1000ABD0) --------------------------------------------------------
__int16 __cdecl sub_1000ABD0(char a1, int a2, signed int a3, __int16 a4, unsigned __int8 a5, int a6)
{
  __int16 result; // ax@2
  int v7; // ecx@5
  __int16 v8; // si@5

  switch ( a1 )
  {
    case 2:
      result = a5;
      *(_WORD *)a6 = *(_WORD *)a2 - a5 - a3;
      *(_WORD *)(a6 + 2) = *(_WORD *)(a2 + 2) - a5;
      break;
    case 4:
      result = a5;
      *(_WORD *)a6 = a5 + *(_WORD *)a2;
      *(_WORD *)(a6 + 2) = *(_WORD *)(a2 + 2) - a5;
      break;
    case 8:
      result = a2;
      *(_WORD *)a6 = *(_WORD *)a2 - a3 / 2;
      *(_WORD *)(a6 + 2) = a4 + *(_WORD *)(a2 + 2) + a5;
      break;
    case 0x10:
      result = a5;
      v7 = a2;
      v8 = *(_WORD *)a2 - a5 - a3;
      goto LABEL_6;
    case 0x20:
      result = a5;
      v7 = a2;
      v8 = a5 + *(_WORD *)a2;
LABEL_6:
      *(_WORD *)a6 = v8;
      *(_WORD *)(a6 + 2) = a4 + result + *(_WORD *)(v7 + 2);
      break;
    default:
      *(_WORD *)a6 = *(_WORD *)a2 - a3 / 2;
      result = *(_WORD *)(a2 + 2) - a5;
      *(_WORD *)(a6 + 2) = result;
      break;
  }
  return result;
}

//----- (1000AD20) --------------------------------------------------------
char sub_1000AD20()
{
  return 1;
}

//----- (1000AD30) --------------------------------------------------------
signed int __cdecl sub_1000AD30(int a1)
{
  signed int result; // eax@1

  result = 0x3FFFF;
  *(_BYTE *)(a1 + 8357) = 0;
  *(_BYTE *)(a1 + 8358) = 0;
  memset32((void *)(a1 + 3048), 0x3FFFF, 0x64u);
  *(_BYTE *)(a1 + 8033) = 0;
  return result;
}

//----- (1000AD60) --------------------------------------------------------
int __cdecl sub_1000AD60(int a1)
{
  int result; // eax@1

  result = a1;
  *(_BYTE *)(a1 + 8357) = 0;
  *(_BYTE *)(a1 + 8358) = -1;
  return result;
}

//----- (1000AD80) --------------------------------------------------------
int __usercall sub_1000AD80@<eax>(int result@<eax>, int a2@<edi>, int a3@<esi>)
{
  unsigned __int8 v3; // dl@2

  if ( *(_BYTE *)(result + 8480) )
  {
    v3 = *(_BYTE *)(result + 8031);
    if ( v3 < 0xC8u
      && (!v3
       || *(_WORD *)a3 != *(_WORD *)(result + 8 * v3 + 1438)
       || *(_WORD *)(a3 + 2) != *(_WORD *)(result + 8 * v3 + 1440)
       || *(_WORD *)a2 != *(_WORD *)(result + 8 * v3 + 1442)
       || *(_WORD *)(a2 + 2) != *(_WORD *)(result + 8 * v3 + 1444)) )
    {
      *(_DWORD *)(result + 8 * v3 + 1446) = *(_DWORD *)a3;
      *(_DWORD *)(result + 8 * (*(_BYTE *)(result + 8031))++ + 1450) = *(_DWORD *)a2;
    }
  }
  return result;
}

//----- (1000AE00) --------------------------------------------------------
int __usercall sub_1000AE00@<eax>(int result@<eax>, int a2@<edi>)
{
  int v2; // esi@1
  unsigned __int8 v3; // dl@2
  unsigned __int8 v4; // cl@3

  v2 = *(_DWORD *)(a2 + 8);
  if ( v2 != 0x3FFFF )
  {
    v3 = *(_BYTE *)(result + 8033);
    if ( v3 < 0x64u )
    {
      v4 = 0;
      if ( !v3 )
        goto LABEL_8;
      while ( v2 != *(_DWORD *)(result + 4 * v4 + 3048) )
      {
        if ( ++v4 >= *(_BYTE *)(result + 8033) )
          goto LABEL_8;
      }
      if ( v4 == 100 )
      {
LABEL_8:
        *(_DWORD *)(result + 4 * v3 + 3048) = v2;
        *(_BYTE *)((*(_BYTE *)(result + 8033))++ + result + 3448) = *(_BYTE *)(a2 + 1);
      }
    }
  }
  return result;
}

//----- (1000AE70) --------------------------------------------------------
void __cdecl sub_1000AE70(int a1, unsigned int a2)
{
  int v2; // esi@1
  char v3; // bl@2
  char v4; // [sp+13h] [bp-65h]@2
  char v5; // [sp+14h] [bp-64h]@2
  char v6; // [sp+18h] [bp-60h]@4
  char v7; // [sp+1Ch] [bp-5Ch]@4
  int v8; // [sp+20h] [bp-58h]@4
  int v9; // [sp+24h] [bp-54h]@4
  char v10; // [sp+28h] [bp-50h]@3
  char v11; // [sp+2Ah] [bp-4Eh]@3
  int v12; // [sp+40h] [bp-38h]@4
  int v13; // [sp+44h] [bp-34h]@4
  int v14; // [sp+48h] [bp-30h]@4
  int v15; // [sp+4Ch] [bp-2Ch]@4

  v2 = a1;
  if ( *(_BYTE *)(a1 + 3622) <= 0xFu )
  {
    v3 = 0;
    v4 = sub_1003E0A0(a2);
    v5 = 0;
    if ( v4 > 0 )
    {
      do
      {
        sub_1003DAB0(a2, v5, (int)&v10);
        if ( v11 )
        {
          v8 = v12;
          v9 = v13;
          sub_10015280(v2, (int)&v8, (int)&v7);
          v8 = v14;
          v9 = v15;
          sub_10015280(v2, (int)&v8, (int)&v6);
          v2 = sub_1000AD80(a1, (int)&v6, (int)&v7);
        }
        v5 = ++v3;
      }
      while ( v3 < v4 );
    }
  }
}

//----- (1000AF30) --------------------------------------------------------
bool __usercall sub_1000AF30@<al>(int a1@<edx>, int a2)
{
  float v3; // [sp+0h] [bp-8h]@1
  char v4; // [sp+4h] [bp-4h]@1

  sub_10021770(a2, a1, 1, &v3, (int)&v4);
  return v3 >= 463.0;
}

//----- (1000AF70) --------------------------------------------------------
bool __usercall sub_1000AF70@<al>(int a1@<eax>, int a2@<ecx>)
{
  return *(_WORD *)a2 <= *(_WORD *)(a1 + 8)
      && *(_WORD *)(a2 + 8) >= *(_WORD *)a1
      && *(_WORD *)(a2 + 2) >= *(_WORD *)(a1 + 10)
      && *(_WORD *)(a2 + 10) <= *(_WORD *)(a1 + 2);
}

//----- (1000AFA0) --------------------------------------------------------
int __usercall sub_1000AFA0@<eax>(__int16 a1@<ax>, __int16 a2@<cx>)
{
  __int64 v2; // rax@1

  v2 = a2 * (signed int)a1 + 0x8000;
  return ((WORD2(v2) & 0x7FFF) + (signed int)v2) >> 15;
}

//----- (1000AFC0) --------------------------------------------------------
int __usercall sub_1000AFC0@<eax>(int a1@<edi>, int a2@<esi>)
{
  double v2; // st7@1
  double v3; // st7@2
  float v4; // ST0C_4@6
  float v5; // ST0C_4@6
  int v7; // [sp+10h] [bp-8h]@1
  int v8; // [sp+14h] [bp-4h]@1

  *(float *)&v8 = (double)*(signed int *)(a1 + 4) * 0.000000001462918079267163;
  sub_10063950(*(float *)&v8, (int)&v7, (int)&v8);
  v2 = *(float *)(a2 + 4) * *(float *)&v7 + *(float *)a2 * *(float *)&v8;
  if ( 0.0 == *(float *)(a2 + 8) )
  {
    if ( v2 >= 0.0 )
      v3 = 9.9999996e24;
    else
      v3 = -9.9999996e24;
  }
  else
  {
    v3 = -(v2 / *(float *)(a2 + 8));
  }
  v4 = v3;
  v5 = atan(v4);
  return sub_1004A3D0(a1, v5);
}

//----- (1000B050) --------------------------------------------------------
int __usercall sub_1000B050@<eax>(int result@<eax>, int a2@<ecx>, int a3)
{
  __int16 v3; // cx@1
  int v4; // edx@1
  __int16 v5; // si@1
  int v6; // edi@1
  __int16 v7; // bx@1
  __int16 v8; // bx@1

  v3 = *(_WORD *)(a2 + 22);
  *(_WORD *)result -= 3;
  v4 = *(_WORD *)result;
  *(_WORD *)(result + 2) += 4;
  v5 = *(_WORD *)(result + 2);
  v6 = v4 + a3 + 7;
  v7 = *(_WORD *)(result + 2);
  *(_WORD *)(result + 8) = v6;
  v8 = v7 - (v3 + 2);
  *(_WORD *)(result + 4) = v6;
  *(_WORD *)(result + 6) = v5;
  *(_WORD *)(result + 10) = v8 - 1;
  *(_WORD *)(result + 12) = v4;
  *(_WORD *)(result + 14) = v8 - 1;
  return result;
}

//----- (1000B0A0) --------------------------------------------------------
void __usercall sub_1000B0A0(int a1@<edx>, unsigned __int8 a2@<cl>, int a3, _BYTE *a4, int a5)
{
  unsigned __int8 v5; // bl@1
  unsigned __int8 v6; // al@1
  int v7; // edx@5
  int v8; // ecx@5
  int v9; // ebp@5
  int v10; // edi@5
  double v11; // st7@5
  int v12; // ebp@5
  int v13; // edx@6
  int v14; // eax@6
  float v15; // ST34_4@7
  float v16; // ST2C_4@7
  __int16 v17; // ax@7
  double v18; // st5@7
  __int16 v19; // cx@7
  double v20; // st7@7
  __int16 v21; // di@7
  int v22; // esi@8
  int v23; // ebx@8
  __int16 v24; // dx@13
  int v25; // eax@18
  int v26; // esi@18
  signed __int16 v27; // ax@18
  float v28; // ST3C_4@22
  double v29; // st7@19
  float v30; // ST48_4@19
  double v31; // st6@25
  float v32; // ST2C_4@26
  float v33; // ST40_4@26
  float v34; // ST30_4@26
  float v35; // ST40_4@26
  float v36; // ST34_4@26
  float v37; // ST40_4@26
  __int16 v38; // [sp+18h] [bp-68h]@7
  float v39; // [sp+1Ch] [bp-64h]@5
  float v40; // [sp+1Ch] [bp-64h]@7
  float v41; // [sp+20h] [bp-60h]@7
  unsigned __int8 v42; // [sp+27h] [bp-59h]@1
  float v43; // [sp+2Ch] [bp-54h]@1
  float v44; // [sp+34h] [bp-4Ch]@1
  __int16 v45; // [sp+38h] [bp-48h]@5
  int v46; // [sp+3Ch] [bp-44h]@1
  float v47; // [sp+40h] [bp-40h]@18
  int v48; // [sp+4Ch] [bp-34h]@18
  char v49; // [sp+50h] [bp-30h]@18
  __int16 v50; // [sp+52h] [bp-2Eh]@18
  __int16 v51; // [sp+54h] [bp-2Ch]@18
  char v52; // [sp+56h] [bp-2Ah]@18
  int v53; // [sp+58h] [bp-28h]@18
  char v54; // [sp+5Ch] [bp-24h]@18
  __int16 v55; // [sp+60h] [bp-20h]@18
  __int16 v56; // [sp+62h] [bp-1Eh]@18
  double *v57; // [sp+6Ch] [bp-14h]@18
  char v58; // [sp+70h] [bp-10h]@18
  char v59; // [sp+71h] [bp-Fh]@18
  long double v60; // [sp+74h] [bp-Ch]@7

  v44 = 0.0;
  v43 = 0.0;
  v5 = a2;
  v6 = a2 >> 1;
  v46 = a1;
  v42 = *(_BYTE *)(a1 + 8050);
  if ( *a4 && *(_BYTE *)(a1 + 8050) != 4 && a2 >= 2u )
  {
    if ( a2 % 2 )
    {
      v13 = *(_WORD *)(a5 + 4 * v6 - 4);
      LOWORD(v12) = *(_WORD *)(a5 + 4 * v6 + 2);
      v14 = a5 + 4 * v6;
      v39 = (double)(*(_WORD *)(v14 + 4) - v13);
      v45 = *(_WORD *)v14;
      v11 = (double)(*(_WORD *)(v14 + 6) - (signed int)*(_WORD *)(v14 - 2));
    }
    else
    {
      v7 = *(_WORD *)(a5 + 4 * v6);
      v8 = *(_WORD *)(a5 + 4 * v6 - 4);
      v9 = *(_WORD *)(a5 + 4 * v6 + 2);
      v10 = *(_WORD *)(a5 + 4 * v6 - 2);
      v39 = (double)(v7 - v8);
      v11 = (double)(v9 - v10);
      v45 = (v7 + v8) / 2;
      v12 = (v10 + v9) / 2;
    }
    v15 = v11;
    v60 = pow(v15, 2.0);
    v16 = sqrt(pow(v39, 2.0) + v60);
    v17 = *(_WORD *)a5;
    v18 = v16;
    v19 = *(_WORD *)(a5 + 2);
    v20 = v39 / v16;
    v38 = *(_WORD *)a5;
    v21 = *(_WORD *)(a5 + 2);
    v40 = v20;
    v41 = v15 / v18;
    if ( v5 > 1u )
    {
      v22 = a5 + 4;
      v23 = (unsigned __int8)(v5 - 1);
      do
      {
        if ( *(_WORD *)v22 < v17 )
          v17 = *(_WORD *)v22;
        if ( *(_WORD *)v22 > v38 )
          v38 = *(_WORD *)v22;
        v24 = *(_WORD *)(v22 + 2);
        if ( v24 < v21 )
          v21 = *(_WORD *)(v22 + 2);
        if ( v24 > v19 )
          v19 = *(_WORD *)(v22 + 2);
        v22 += 4;
        --v23;
      }
      while ( v23 );
    }
    *(float *)&v60 = (double)(v38 - (signed int)v17);
    *((float *)&v60 + 1) = (double)(v19 - (signed int)v21);
    v47 = sqrt(pow(*(float *)&v60, 2.0) + pow(*((float *)&v60 + 1), 2.0));
    sub_1004A220((int)&v60, a4, 7);
    v25 = FNT_get_fnt_hdr(*(_BYTE *)(v42 + dword_100E4980));
    v26 = v25;
    v27 = sub_10019AF0(v25, a4, 0);
    v48 = -2147483646;
    v49 = *(_BYTE *)(v42 + dword_100E4980);
    v50 = v45 - v27 / 2;
    v51 = v12 + (*(_WORD *)(v26 + 24) >> 1);
    v52 = 23;
    v53 = 0;
    v54 = 1;
    v55 = 0;
    v56 = 0;
    v57 = &v60;
    v58 = 0;
    v59 = 24;
    if ( v40 == 0.0 )
    {
      v29 = v40;
    }
    else
    {
      v29 = v40;
      v30 = (double)v27 + 2.0;
      v44 = v30 / v40;
    }
    if ( v41 != 0.0 )
    {
      v28 = (double)*(_WORD *)(v26 + 24) + 2.0;
      v43 = v28 / v41;
    }
    if ( fabs(v43) > fabs(v44) && 0.0 != v44 || (v31 = v43, v43 == 0.0) )
      v31 = v44;
    v32 = v31;
    v33 = v29 * v32;
    v34 = sub_100635C0(v33, 1.0);
    v35 = v32 * v41;
    v36 = sub_100635C0(v35, 1.0);
    v37 = sqrt(pow(v34, 2.0) + pow(v36, 2.0));
    if ( v47 > v37 * 4.0 )
      sub_10006AC0(v42, v46, a3, 0, (int)&v48);
  }
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000B4C0) --------------------------------------------------------
_BYTE *__usercall sub_1000B4C0@<eax>(int a1@<esi>, int a2, _BYTE *a3, int a4, unsigned __int8 a5, char a6)
{
  char v6; // cl@1
  __int16 v7; // ax@1
  int v8; // edi@7
  int v9; // ebp@7
  int v10; // eax@7
  __int16 v11; // bx@7
  char v12; // al@7
  __int16 v13; // ax@12
  char v15; // [sp+0h] [bp-30h]@1
  char v16; // [sp+4h] [bp-2Ch]@7
  int v17; // [sp+8h] [bp-28h]@21
  char v18; // [sp+Ch] [bp-24h]@21
  char v19; // [sp+Eh] [bp-22h]@12
  __int16 v20; // [sp+10h] [bp-20h]@17
  char v21; // [sp+12h] [bp-1Eh]@19
  int v22; // [sp+14h] [bp-1Ch]@21
  char v23; // [sp+18h] [bp-18h]@21
  __int16 v24; // [sp+1Ch] [bp-14h]@21
  __int16 v25; // [sp+1Eh] [bp-12h]@21
  _BYTE *v26; // [sp+28h] [bp-8h]@21
  char v27; // [sp+2Ch] [bp-4h]@21
  char v28; // [sp+2Dh] [bp-3h]@19

  v6 = *(_BYTE *)(a1 + 8050);
  v7 = *(_WORD *)(a1 + 3822);
  v15 = 0;
  if ( (v7 == 217 && *(_WORD *)(a1 + 3824) == 217 || v7 == 302 && *(_WORD *)(a1 + 3824) == 218) && *(_BYTE *)(a1 + 8544) )
    v6 = 5;
  v8 = (unsigned __int8)v6;
  v9 = FNT_get_fnt_hdr(*(_BYTE *)((unsigned __int8)v6 + dword_100E4980));
  v10 = FNT_get_fnt_hdr(*(_BYTE *)(v8 + dword_100E4980));
  v11 = sub_10019AF0(v10, a3, 0);
  sub_10015280(a1, a4, (int)&v16);
  v12 = 1;
  while ( !((unsigned __int8)v12 & a5) )
  {
    v12 *= 2;
    if ( (unsigned __int8)v12 >= 0x40u )
      goto LABEL_12;
  }
  v15 = v12;
LABEL_12:
  sub_1000ABD0(v15, (int)&v16, v11, *(_WORD *)(v9 + 24), 0xAu, (int)&v19);
  v13 = *(_WORD *)(a1 + 3822);
  if ( v13 == 217 && *(_WORD *)(a1 + 3824) == 217 || v13 == 302 && *(_WORD *)(a1 + 3824) == 218 )
  {
    if ( *(_BYTE *)(a1 + 8544) )
      v20 += 20;
  }
  if ( a6 )
  {
    v28 = 22;
    v21 = 21;
  }
  else
  {
    v28 = 24;
    v21 = 23;
  }
  v26 = a3;
  v23 = 1;
  v24 = 0;
  v25 = 0;
  v27 = 0;
  v18 = *(_BYTE *)(v8 + dword_100E4980);
  v17 = -2147483646;
  v22 = 0;
  return sub_10006AC0(v8, a1, a2, 0, (int)&v17);
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000B640) --------------------------------------------------------
char __usercall sub_1000B640@<al>(int a1@<eax>, int a2@<esi>, int a3)
{
  unsigned int v3; // eax@5

  switch ( *(_BYTE *)(a1 + 5) )
  {
    case 1:
    case 2:
    case 5:
    case 0x12:
    case 0x13:
    case 0x16:
      a1 = *(_DWORD *)(a1 + 8);
      *(_DWORD *)(a2 + 20) = a1;
      *(_BYTE *)(a2 + 2) = 1;
      *(_BYTE *)(a2 + 1) = 22;
      *(_WORD *)(a2 + 32) = 182;
      break;
    case 4:
    case 0x14:
    case 0x15:
      *(_DWORD *)(a2 + 20) = *(_DWORD *)(a1 + 8);
      *(_BYTE *)(a2 + 2) = 0;
      *(_BYTE *)(a2 + 1) = 22;
      *(_WORD *)(a2 + 32) = 182;
      break;
    case 7:
    case 8:
    case 9:
      *(_DWORD *)(a2 + 20) = 0x3FFFF;
      *(_BYTE *)(a2 + 2) = 1;
      *(_BYTE *)(a2 + 1) = 22;
      *(_WORD *)(a2 + 32) = 182;
      break;
    case 0:
    case 3:
    case 6:
    case 0xB:
    case 0xC:
    case 0xD:
    case 0xE:
    case 0xF:
    case 0x10:
    case 0x11:
      v3 = *(_DWORD *)(a1 + 8);
      *(_DWORD *)(a2 + 20) = v3;
      LOBYTE(a1) = sub_1003A920(v3, *(_WORD *)(a3 + 3588), (__int16 *)(a2 + 32));
      *(_BYTE *)(a2 + 2) = 1;
      *(_BYTE *)(a2 + 1) = 23;
      break;
    default:
      *(_DWORD *)(a2 + 20) = 0x3FFFF;
      *(_BYTE *)(a2 + 2) = 0;
      *(_BYTE *)(a2 + 1) = 22;
      *(_WORD *)(a2 + 32) = 182;
      break;
  }
  return a1;
}

//----- (1000B710) --------------------------------------------------------
char __cdecl sub_1000B710(char a1)
{
  unsigned int v1; // eax@1
  char result; // al@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_1007A150, 2, 2, 2);
  if ( v1 < 2 )
    result = byte_1007A151[2 * v1];
  else
    result = 0;
  return result;
}

//----- (1000B740) --------------------------------------------------------
int __usercall sub_1000B740@<eax>(unsigned __int8 a1@<al>, int a2, int a3, unsigned __int16 a4, _BYTE *a5, int a6, _BYTE *a7, int *a8)
{
  int v8; // esi@1
  int result; // eax@1

  v8 = FNT_get_fnt_hdr(*(_BYTE *)(a1 + dword_100E4980));
  sub_10015280(a2, a3, a6);
  *a7 = *(_BYTE *)(BMP_get_info(a4) + 2);
  result = sub_10019AF0(v8, a5, 0);
  *a8 = result;
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000B7A0) --------------------------------------------------------
char sub_1000B7A0()
{
  unsigned __int8 v0; // al@1
  signed int v1; // eax@1
  char v3; // [sp+4h] [bp-7Ch]@1
  char v4; // [sp+7h] [bp-79h]@1

  v0 = sub_10021950();
  v1 = sub_10022F00(0, v0);
  sub_10022450(0, v1, (int)&v3);
  return v4;
}

//----- (1000B7F0) --------------------------------------------------------
char __fastcall sub_1000B7F0(int a1, int a2)
{
  __int16 v2; // ax@1
  int v3; // ebx@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // ST24_4@1
  int v7; // eax@1
  int v8; // eax@1
  int v9; // esi@1
  bool v10; // zf@1
  bool v11; // sf@1
  int v12; // esi@6
  int v13; // eax@6
  int v14; // ST24_4@6
  int v15; // ebx@6
  int v16; // ebp@6
  int v17; // eax@6
  __int16 v18; // cx@6
  int v19; // edx@6
  int v20; // ecx@6
  bool v21; // zf@6
  bool v22; // sf@6
  int v24; // ecx@16
  int v25; // eax@19
  int v26; // [sp+10h] [bp-34h]@1
  int v27; // [sp+14h] [bp-30h]@1
  __int16 v28; // [sp+18h] [bp-2Ch]@6
  __int16 v29; // [sp+1Ch] [bp-28h]@6
  int v30; // [sp+20h] [bp-24h]@1
  int v31; // [sp+24h] [bp-20h]@6
  int v32; // [sp+28h] [bp-1Ch]@6
  __int16 v33; // [sp+2Ch] [bp-18h]@1
  __int16 v34; // [sp+30h] [bp-14h]@1
  __int16 v35; // [sp+34h] [bp-10h]@6
  __int16 v36; // [sp+38h] [bp-Ch]@6
  __int16 v37; // [sp+3Ch] [bp-8h]@1
  __int16 v38; // [sp+40h] [bp-4h]@1

  v2 = *(_WORD *)(a1 + 2);
  v38 = v2;
  v27 = v2;
  v3 = *(_WORD *)(a2 + 2);
  v33 = *(_WORD *)a2;
  v4 = *(_WORD *)a2;
  v5 = *(_WORD *)(a2 + 4) - v4;
  v6 = v5;
  v7 = v5 * (v2 - v3);
  LOWORD(v5) = *(_WORD *)(a1 + 6);
  v37 = v5;
  v26 = (signed __int16)v5;
  LOWORD(v5) = *(_WORD *)(a1 + 4);
  v34 = v5;
  v8 = v7 - (*(_WORD *)(a2 + 6) - v3) * (*(_WORD *)a1 - v4);
  v30 = (signed __int16)v5;
  v9 = v6 * (v26 - v3) - (*(_WORD *)(a2 + 6) - v3) * ((signed __int16)v5 - v4);
  v10 = v8 == 0;
  v11 = v8 < 0;
  if ( v8 < 0 )
  {
    if ( v9 < 0 )
      return 0;
    v10 = v8 == 0;
    v11 = v8 < 0;
  }
  if ( !v11 && !v10 && v9 > 0 )
    return 0;
  v12 = *(_WORD *)(a1 + 2);
  LOWORD(v13) = *(_WORD *)(a2 + 2);
  v14 = *(_WORD *)(a1 + 6) - v12;
  v36 = v13;
  v13 = (signed __int16)v13;
  v29 = *(_WORD *)a1;
  v15 = *(_WORD *)(a1 + 4) - *(_WORD *)a1;
  v32 = v13;
  v16 = v14;
  v17 = v15 * ((signed __int16)v13 - v12) - v14 * (v4 - *(_WORD *)a1);
  v28 = *(_WORD *)(a2 + 4);
  v18 = *(_WORD *)(a2 + 6);
  v19 = v29;
  v35 = v18;
  v31 = v18;
  v20 = v15 * (v18 - v12) - v16 * (v28 - v29);
  v21 = v17 == 0;
  v22 = v17 < 0;
  if ( v17 < 0 )
  {
    if ( v20 < 0 )
      return 0;
    v21 = v17 == 0;
    v22 = v17 < 0;
  }
  if ( v22 || v21 || v20 <= 0 )
  {
    if ( v17 && v20 )
      return 1;
    if ( v33 == v28 )
    {
      if ( v36 >= v35 )
      {
        v24 = v31;
        v4 = v32;
      }
      else
      {
        v24 = v32;
        v4 = v31;
      }
      if ( v38 >= v37 )
      {
        v25 = v26;
        v19 = v27;
      }
      else
      {
        v25 = v27;
        v19 = v26;
      }
    }
    else
    {
      if ( v33 >= v28 )
      {
        v24 = v28;
      }
      else
      {
        v24 = v4;
        v4 = v28;
      }
      if ( v29 >= v34 )
      {
        v25 = v30;
      }
      else
      {
        v25 = v29;
        v19 = v30;
      }
    }
    if ( v4 >= v25 && v19 >= v24 )
      return 1;
  }
  return 0;
}

//----- (1000B9B0) --------------------------------------------------------
char __usercall sub_1000B9B0@<al>(char a1@<al>)
{
  return a1 != 1 ? 1 : 8;
}

//----- (1000B9C0) --------------------------------------------------------
void __usercall sub_1000B9C0(int a1@<ecx>, int a2@<ebx>, float *a3)
{
  int v3; // esi@3
  __int16 v4; // di@3
  __int16 v5; // ax@3
  __int16 v6; // ax@3
  __int16 v7; // [sp+0h] [bp-14h]@3
  __int16 v8; // [sp+2h] [bp-12h]@3
  int v9; // [sp+4h] [bp-10h]@3
  int v10; // [sp+Ch] [bp-8h]@2

  if ( *(_BYTE *)(a2 + 8480) )
  {
    if ( !(sub_10015280(a2, a1, (int)&v10) & 0xF) )
    {
      v3 = (unsigned int)(-*(_DWORD *)(a2 + 3624) - (signed int)(*a3 * -683565248.0)) >> 16;
      v4 = sub_10063530(v3);
      v5 = sub_100634D0(v3);
      LOWORD(v9) = sub_1000AFA0(v5, 18);
      v6 = sub_1000AFA0(v4, 18);
      HIWORD(v9) = -v6;
      v7 = v9 + v10;
      v8 = HIWORD(v10) - v6;
      sub_1000AD80(a2, (int)&v7, (int)&v10);
    }
  }
}

//----- (1000BA80) --------------------------------------------------------
char __cdecl sub_1000BA80(int a1, int a2, int a3, char a4, _BYTE *a5, char a6, char a7)
{
  unsigned int v7; // eax@1
  int v8; // edi@7
  int v9; // eax@7
  char v10; // bl@11
  unsigned __int8 v11; // al@13
  int v12; // ST34_4@13
  int v13; // eax@25
  signed __int16 v14; // ax@25
  char v15; // al@26
  char v16; // cl@39
  char v18; // [sp+11h] [bp-7Fh]@1
  unsigned __int8 v19; // [sp+12h] [bp-7Eh]@13
  char v20; // [sp+14h] [bp-7Ch]@11
  __int16 v21; // [sp+16h] [bp-7Ah]@12
  int v22; // [sp+18h] [bp-78h]@1
  int v23; // [sp+1Ch] [bp-74h]@1
  _BYTE *v24; // [sp+20h] [bp-70h]@1
  int v25; // [sp+24h] [bp-6Ch]@1
  int v26; // [sp+28h] [bp-68h]@13
  int v27; // [sp+2Ch] [bp-64h]@14
  int v28; // [sp+30h] [bp-60h]@14
  int v29; // [sp+34h] [bp-5Ch]@10
  int v30; // [sp+38h] [bp-58h]@18
  int v31; // [sp+3Ch] [bp-54h]@41
  char v32; // [sp+40h] [bp-50h]@41
  char v33; // [sp+42h] [bp-4Eh]@31
  __int16 v34; // [sp+44h] [bp-4Ch]@32
  char v35; // [sp+46h] [bp-4Ah]@34
  int v36; // [sp+48h] [bp-48h]@41
  char v37; // [sp+4Ch] [bp-44h]@34
  __int16 v38; // [sp+50h] [bp-40h]@34
  __int16 v39; // [sp+52h] [bp-3Eh]@34
  char *v40; // [sp+5Ch] [bp-34h]@38
  char v41; // [sp+60h] [bp-30h]@38
  char v42; // [sp+61h] [bp-2Fh]@34
  int v43; // [sp+64h] [bp-2Ch]@26
  int v44; // [sp+68h] [bp-28h]@13
  char v45; // [sp+6Ch] [bp-24h]@26
  int v46; // [sp+70h] [bp-20h]@7
  char v47; // [sp+74h] [bp-1Ch]@26
  char v48; // [sp+7Ch] [bp-14h]@25
  char v49; // [sp+84h] [bp-Ch]@26

  v22 = a2;
  v7 = *(_WORD *)(a1 + 3822);
  v24 = a5;
  v25 = 0;
  LOBYTE(v23) = 0;
  v18 = 0;
  if ( ((_WORD)v7 == 217 && *(_WORD *)(a1 + 3824) == 217 || (_WORD)v7 == 302 && *(_WORD *)(a1 + 3824) == 218)
    && *(_BYTE *)(a1 + 8544) )
  {
    v18 = 1;
  }
  LOBYTE(v7) = ((a4 & 0x10) != 0) + 8;
  v8 = (unsigned __int8)v7;
  LOBYTE(v46) = ((a4 & 0x10) != 0) + 8;
  LOBYTE(v7) = byte_10078EB8[5 * (unsigned __int8)v7];
  LOBYTE(v9) = sub_10005410(v7, a1);
  if ( (_BYTE)v9 || a4 & 8 || a3 == a1 + 52 )
  {
    LOBYTE(v9) = sub_10001060(a3, (int)&v29);
    if ( v29 != 0x80000000 )
    {
      v10 = sub_10015280(a1, (int)&v29, (int)&v20);
      if ( v18 )
        v21 += 20;
      v11 = *(_BYTE *)((unsigned __int8)byte_10078EB9[5 * v8] + a1 + 8049);
      v19 = v11;
      v12 = *(_BYTE *)(v11 + dword_100E4980);
      v26 = v11;
      v9 = FNT_get_fnt_hdr(v12);
      v44 = v9;
      if ( !(v10 & 0xF) )
      {
        sub_100010B0(a3, *(_WORD *)(a1 + 3588), (__int16 *)&v27);
        v9 = BMP_get_xfrm((unsigned __int16)v27);
        v28 = v9;
        if ( a4 & 9 )
        {
          if ( (_WORD)v27 == 187 || (_WORD)v27 == 186 || (_WORD)v27 == 190 )
            sub_1000A590(a1, v22, v29, v30, *(float *)(a3 + 4));
          LOBYTE(v9) = sub_10006430(v22, &v27, (int)&v20);
        }
        if ( a7 && v19 != 4 && (a4 & 0xA || a4 & 4 && *v24) )
        {
          sub_10001000(a3, &v48);
          v13 = FNT_get_fnt_hdr(*(_BYTE *)(v26 + dword_100E4980));
          v14 = sub_10019AF0(v13, &v48, 0);
          if ( a4 & 0xC )
          {
            sub_1003C8C0(*(_DWORD *)(a3 + 4), (int)&v47);
            sub_1003A920(*(_DWORD *)(a3 + 4), *(_WORD *)(a1 + 3588), (__int16 *)&v43);
            sub_1003C070(*(_DWORD *)(a3 + 4), (int)&v49);
            sub_1000B740(v19, a1, (int)&v47, v43, &v49, (int)&v45, &v23, &v25);
            v15 = 1;
            while ( !((unsigned __int8)v15 & (unsigned __int8)a7) )
            {
              v15 *= 2;
              if ( (unsigned __int8)v15 >= 0x40u )
                goto LABEL_31;
            }
            a7 = v15;
LABEL_31:
            sub_1000ABD0(a7, (int)&v45, v25, *(_WORD *)(v44 + 24), v23, (int)&v33);
            if ( v18 )
              v34 += 20;
            if ( a6 )
            {
              v37 = 1;
              v42 = 22;
              v35 = 21;
              v38 = 0;
              v39 = 0;
            }
            else if ( a4 & 0x10 )
            {
              v37 = 1;
              v42 = 24;
              v35 = 23;
              v38 = 0;
              v39 = 0;
            }
            else
            {
              v37 = 0;
              v42 = 34;
              v35 = 34;
            }
            v40 = &v48;
            v41 = 0;
            if ( v18 )
              v16 = *(_BYTE *)(dword_100E4980 + 5);
            else
              v16 = *(_BYTE *)(v26 + dword_100E4980);
            v32 = v16;
            v31 = -2147483646;
            v36 = 0;
            LOBYTE(v9) = (unsigned int)sub_10006AC0(0, a1, v22, 0, (int)&v31);
          }
          else
          {
            LOBYTE(v9) = sub_1000F780(a1, a3, v27, v46, (int *)&v20, v14);
            *v24 = v9;
          }
        }
      }
    }
  }
  return v9;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000BE50) --------------------------------------------------------
char __usercall sub_1000BE50@<al>(unsigned __int8 a1@<al>, char *a2@<edi>, int a3, int a4, unsigned __int16 a5, _BYTE *a6, unsigned __int8 a7, int a8, unsigned __int16 a9, _BYTE *a10, char *a11)
{
  unsigned __int8 v11; // bl@1
  int v12; // eax@1
  bool v13; // zf@1
  int v14; // esi@1
  char v15; // al@2
  int v16; // ebp@5
  signed int v17; // ebp@5
  char v18; // bl@5
  char result; // al@6
  int v20; // eax@7
  char v21; // al@12
  char *v22; // ecx@12
  char v23; // [sp+Bh] [bp-31h]@5
  char v24; // [sp+Ch] [bp-30h]@5
  int v25; // [sp+10h] [bp-2Ch]@1
  int v26; // [sp+14h] [bp-28h]@1
  char v27; // [sp+18h] [bp-24h]@2
  char v28; // [sp+1Ch] [bp-20h]@7
  char v29; // [sp+2Ch] [bp-10h]@5

  v11 = a1;
  v12 = FNT_get_fnt_hdr(*(_BYTE *)(a1 + dword_100E4980));
  v13 = *a2 == 0;
  v14 = v12;
  v25 = 0;
  LOBYTE(v26) = 0;
  if ( v13 )
    goto LABEL_12;
  sub_1000B740(v11, a3, a4, a5, a6, (int)&v27, &v26, &v25);
  v15 = 1;
  do
  {
    if ( (unsigned __int8)v15 & a7 )
      break;
    v15 *= 2;
  }
  while ( (unsigned __int8)v15 < 0x40u );
  v16 = v25;
  sub_1000ABD0(v15, (int)&v27, v25, *(_WORD *)(v14 + 24), v26, (int)&v29);
  sub_1000B050((int)&v29, v14, v16);
  sub_1000B740(v11, a3, a8, a9, a10, (int)&v27, &v26, &v25);
  v17 = v25;
  v18 = 1;
  v23 = *a2;
  v24 = 1;
  do
  {
    result = *a2;
    if ( (unsigned __int8)*a2 & (unsigned __int8)v18 )
    {
      sub_1000ABD0(v24, (int)&v27, v17, *(_WORD *)(v14 + 24), v26, (int)&v28);
      v20 = sub_1000B050((int)&v28, v14, v17);
      result = sub_1000AF70(v20, (int)&v29);
      if ( result )
      {
        result = v18 ^ *a2;
        *a2 = result;
      }
    }
    v18 *= 2;
    v24 = v18;
  }
  while ( (unsigned __int8)v18 < 0x40u );
  if ( !(*a2 & 0x3F) )
  {
    result = v23;
    if ( !v23 )
    {
LABEL_12:
      v21 = *a11;
      *a2 = *a11;
      result = sub_1000B9B0(v21);
      *v22 = result;
      return result;
    }
    *a2 = v23;
  }
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000BFC0) --------------------------------------------------------
void __cdecl sub_1000BFC0(int a1, int a2, int a3, int *a4, float *a5, unsigned __int8 a6, int a7)
{
  int v7; // esi@1
  int v8; // edi@1
  __int16 v9; // ax@2
  char *v10; // ebx@8
  char *v11; // eax@8
  double v12; // st7@8
  int v13; // ecx@8
  int v14; // eax@9
  int v15; // edx@9
  char v16; // cl@9
  int v17; // eax@9
  int v18; // edx@9
  double v19; // st7@11
  int v20; // ebp@11
  bool v21; // zf@11
  bool v22; // sf@11
  int v23; // ecx@12
  int v24; // eax@12
  signed int v25; // edx@14
  int *v26; // eax@14
  int v27; // ecx@14
  int v28; // eax@14
  int v29; // edx@15
  signed int v30; // ecx@22
  int v31; // eax@22
  unsigned __int16 v32; // si@22
  signed int v33; // edi@23
  char *v34; // eax@25
  signed int v35; // ecx@26
  _WORD *v36; // eax@27
  int v37; // eax@30
  unsigned __int16 v38; // ax@32
  int v39; // eax@32
  int v40; // eax@33
  int v41; // eax@33
  int v42; // ecx@33
  char *v43; // eax@36
  _WORD *v44; // eax@38
  int v45; // edx@39
  int v46; // eax@40
  unsigned __int16 v47; // ax@42
  int v48; // eax@42
  int v49; // eax@43
  int v50; // ecx@44
  char *v51; // eax@47
  signed int v52; // ecx@48
  _WORD *v53; // eax@49
  int v54; // eax@51
  unsigned __int16 v55; // cx@53
  int v56; // eax@55
  int v57; // eax@59
  char v58; // [sp+Bh] [bp-95h]@2
  int v59; // [sp+Ch] [bp-94h]@9
  float v60; // [sp+10h] [bp-90h]@11
  int v61; // [sp+14h] [bp-8Ch]@14
  float v62; // [sp+18h] [bp-88h]@14
  float v63; // [sp+1Ch] [bp-84h]@16
  int v64; // [sp+20h] [bp-80h]@11
  int v65; // [sp+24h] [bp-7Ch]@11
  int v66; // [sp+28h] [bp-78h]@8
  int v67; // [sp+2Ch] [bp-74h]@15
  float v68; // [sp+30h] [bp-70h]@15
  char v69; // [sp+34h] [bp-6Ch]@59
  char *v70; // [sp+38h] [bp-68h]@8
  int *v71; // [sp+3Ch] [bp-64h]@13
  int v72; // [sp+40h] [bp-60h]@8
  char v73; // [sp+44h] [bp-5Ch]@59
  int v74; // [sp+48h] [bp-58h]@12
  float v75; // [sp+4Ch] [bp-54h]@14
  float v76; // [sp+50h] [bp-50h]@14
  float v77; // [sp+54h] [bp-4Ch]@14
  float v78; // [sp+58h] [bp-48h]@14
  char v79; // [sp+5Ch] [bp-44h]@14
  double v80; // [sp+68h] [bp-38h]@59
  double v81; // [sp+70h] [bp-30h]@59
  double v82; // [sp+78h] [bp-28h]@59
  double v83; // [sp+80h] [bp-20h]@59
  char v84; // [sp+88h] [bp-18h]@14
  char v85; // [sp+94h] [bp-Ch]@14

  v7 = a3;
  v8 = a7;
  *(_DWORD *)(a7 + 1024) = 0;
  if ( *(_DWORD *)(a3 + 2048) >= 2 )
  {
    v9 = *(_WORD *)(a1 + 3822);
    v58 = 0;
    if ( (v9 == 217 && *(_WORD *)(a1 + 3824) == 217 || v9 == 302 && *(_WORD *)(a1 + 3824) == 218)
      && *(_BYTE *)(a1 + 8544) )
    {
      v58 = 1;
    }
    v10 = (char *)(a1 + 4784);
    *(_WORD *)(a1 + 4784) = 0;
    v66 = 0;
    v11 = sub_1000FA50(a6);
    v12 = *(float *)(a1 + 8236) * 1000.0;
    v70 = v11;
    v13 = *(_DWORD *)(a3 + 4) - *(_DWORD *)(a3 + 12);
    v72 = (signed int)((v12 + 372827.0) * 4.0);
    if ( v13 <= 0 )
    {
      v59 = *(_DWORD *)a3;
      v18 = *(int *)(a3 + 4);
      v16 = 1;
      v17 = 0;
    }
    else
    {
      v14 = *(_DWORD *)(a3 + 2048);
      v15 = *(_DWORD *)(a3 + 8 * v14 - 8);
      v16 = -1;
      v17 = v14 - 1;
      v59 = v15;
      v18 = *(int *)(a3 + 8 * v17 + 4);
    }
    v19 = 0.000000001462918079267163;
    v20 = v64;
    v60 = *(float *)&v18;
    v21 = *(_DWORD *)(a3 + 2048) == 1;
    v22 = *(_DWORD *)(a3 + 2048) - 1 < 0;
    v65 = 0;
    if ( !v22 && !v21 )
    {
      v23 = 8 * v16;
      v74 = v23;
      v24 = a3 + 8 * v17;
      while ( 1 )
      {
        v25 = *(signed int *)(v24 + v23 + 4);
        v26 = (int *)(v23 + v24);
        v61 = *v26;
        v62 = *(float *)&v25;
        v71 = v26;
        v75 = (double)v59 * v19;
        v76 = (double)SLODWORD(v60) * v19;
        v77 = (double)v61 * v19;
        v78 = v19 * (double)v25;
        sub_10064040((int)&v75, (int)&v84);
        sub_10064040((int)&v77, (int)&v85);
        sub_10063F70((int)&v84, (int)&v85, (int)&v79);
        v27 = LODWORD(v60);
        *(float *)&v28 = v62;
        if ( LODWORD(v60) - LODWORD(v62) > 0 )
        {
          v29 = v59;
          v59 = v61;
          v27 = LODWORD(v62);
          *(float *)&v28 = v60;
          v67 = v29;
          v68 = v60;
          v60 = v62;
          v61 = v29;
          v62 = v68;
        }
        v22 = v28 - *(_DWORD *)a5 < 0;
        v63 = *a5;
        if ( !v22 && v27 - *a4 <= 0 )
        {
          if ( v27 - LODWORD(v63) < 0 )
          {
            v60 = v63;
            sub_1000AFC0((int)&v59, (int)&v79);
            v27 = LODWORD(v60);
            *(float *)&v28 = v62;
            v8 = a7;
          }
          if ( v28 - *a4 > 0 )
          {
            v62 = *(float *)a4;
            sub_1000AFC0((int)&v61, (int)&v79);
            v27 = LODWORD(v60);
            *(float *)&v28 = v62;
            v8 = a7;
          }
          v30 = v28 - v27;
          v31 = *(_WORD *)v10;
          *(_DWORD *)&v10[8 * v31 + 4] = v59;
          *(float *)&v10[8 * v31 + 8] = v60;
          v32 = ++*(_WORD *)v10;
          v63 = *(float *)&v30;
          if ( v30 > v72 )
          {
            v33 = v30 / v72 + 1;
            v64 = v30 / v33;
            LODWORD(v68) = v30 / v33 + LODWORD(v60);
            if ( v30 > v30 / v33 )
            {
              do
              {
                sub_1000AFC0((int)&v67, (int)&v79);
                if ( *(_WORD *)v10 >= 0x100u )
                {
                  v34 = sub_100156C0(a1, v10, 3088, 0, 1);
                  v20 = (int)v34;
                  if ( v58 )
                  {
                    v35 = 0;
                    v21 = *(_WORD *)v34 == 0;
                    v65 = 0;
                    if ( !v21 )
                    {
                      v36 = v34 + 4;
                      do
                      {
                        *v36 += 20;
                        ++v35;
                        v36 += 2;
                      }
                      while ( v35 < *(_WORD *)v20 );
                      v65 = v35;
                    }
                  }
                  v37 = *(_WORD *)v20;
                  if ( v37 + *(_DWORD *)(a7 + 1024) > 256 )
                    *(_DWORD *)(a7 + 1024) = 256 - v37;
                  memcpy_0((void *)(a7 + 4 * *(_DWORD *)(a7 + 1024)), (const void *)(v20 + 2), 4 * *(_WORD *)v20);
                  *(_DWORD *)(a7 + 1024) += *(_WORD *)v20;
                  v38 = *(_WORD *)v20;
                  v66 += *(_WORD *)v10;
                  sub_10005C00(a2, v38, v20 + 2, (int)v70, 0);
                  v39 = LODWORD(v60);
                  *(_DWORD *)(a1 + 4788) = v59;
                  *(_DWORD *)(a1 + 4792) = v39;
                  *(_WORD *)v10 = 1;
                }
                v40 = *(_WORD *)v10;
                *(_DWORD *)&v10[8 * v40 + 4] = v67;
                *(float *)&v10[8 * v40 + 8] = v68;
                v41 = v67;
                *(float *)&v42 = v68;
                v32 = ++*(_WORD *)v10;
                v59 = v41;
                v60 = *(float *)&v42;
                LODWORD(v68) = v64 + v42;
                LODWORD(v63) -= v64;
              }
              while ( SLODWORD(v63) > v64 );
            }
            v8 = a7;
          }
          if ( v32 >= 0x100u )
          {
            v43 = sub_100156C0(a1, v10, 3088, 0, 1);
            v20 = (int)v43;
            if ( v58 )
            {
              v21 = *(_WORD *)v43 == 0;
              v65 = 0;
              if ( !v21 )
              {
                v44 = v43 + 4;
                do
                {
                  *v44 += 20;
                  v45 = *(_WORD *)v20;
                  v44 += 2;
                  ++v65;
                }
                while ( v65 < v45 );
              }
            }
            v46 = *(_WORD *)v20;
            if ( v46 + *(_DWORD *)(v8 + 1024) > 256 )
              *(_DWORD *)(v8 + 1024) = 256 - v46;
            memcpy_0((void *)(v8 + 4 * *(_DWORD *)(v8 + 1024)), (const void *)(v20 + 2), 4 * *(_WORD *)v20);
            *(_DWORD *)(v8 + 1024) += *(_WORD *)v20;
            v47 = *(_WORD *)v20;
            v66 += *(_WORD *)v10;
            sub_10005C00(a2, v47, v20 + 2, (int)v70, 0);
            v48 = LODWORD(v60);
            *(_DWORD *)(a1 + 4788) = v59;
            *(_DWORD *)(a1 + 4792) = v48;
            *(_WORD *)v10 = 1;
          }
          v49 = *(_WORD *)v10;
          *(_DWORD *)&v10[8 * v49 + 4] = v61;
          *(float *)&v10[8 * v49 + 8] = v62;
          ++*(_WORD *)v10;
          *(float *)&v28 = v62;
        }
        v19 = 0.000000001462918079267163;
        v59 = v61;
        v50 = *(_DWORD *)(a3 + 2048);
        v60 = *(float *)&v28;
        if ( ++v65 >= v50 - 1 )
          break;
        v24 = (int)v71;
        v23 = v74;
      }
      v7 = a3;
    }
    if ( *(_WORD *)v10 > 1u )
    {
      v51 = sub_100156C0(a1, v10, 3088, 0, 1);
      v20 = (int)v51;
      if ( v58 )
      {
        v52 = 0;
        if ( *(_WORD *)v51 )
        {
          v53 = v51 + 4;
          do
          {
            *v53 += 20;
            ++v52;
            v53 += 2;
          }
          while ( v52 < *(_WORD *)v20 );
        }
      }
      v54 = *(_WORD *)v20;
      if ( v54 + *(_DWORD *)(v8 + 1024) > 256 )
        *(_DWORD *)(v8 + 1024) = 256 - v54;
      memcpy_0((void *)(v8 + 4 * *(_DWORD *)(v8 + 1024)), (const void *)(v20 + 2), 4 * *(_WORD *)v20);
      *(_DWORD *)(v8 + 1024) += *(_WORD *)v20;
      v55 = *(_WORD *)v20;
      v66 += *(_WORD *)v10;
      sub_10005C00(a2, v55, v20 + 2, (int)v70, 0);
      v19 = 0.000000001462918079267163;
    }
    if ( v66 == 2 )
    {
      v56 = *(_WORD *)(v20 + 4) - *(_WORD *)(v20 + 8);
      v71 = (int *)(*(_WORD *)(v20 + 2) - *(_WORD *)(v20 + 6));
      *(float *)&v64 = (double)v56 * (double)v56 + (double)(signed int)v71 * (double)(signed int)v71;
      v63 = sqrt(*(float *)&v64);
      v19 = 0.000000001462918079267163;
    }
    else
    {
      v63 = 0.0;
    }
    if ( (signed int)v63 <= 18 )
    {
      v57 = v7 + 8 * *(_DWORD *)(v7 + 2048);
      v82 = (double)*(signed int *)v7 * v19;
      v83 = (double)*(signed int *)(v7 + 4) * v19;
      v80 = (double)*(signed int *)(v57 - 8) * v19;
      v81 = v19 * (double)*(signed int *)(v57 - 4);
      sub_10021770((int)&v82, (int)&v80, 1, (float *)&v73, (int)&v69);
      sub_1000B9C0(v7, a1, (float *)&v69);
      sub_10021770((int)&v80, (int)&v82, 1, (float *)&v73, (int)&v69);
      sub_1000B9C0(v7 + 8 * *(_DWORD *)(v7 + 2048) - 8, a1, (float *)&v69);
    }
    else
    {
      sub_1000AD80(a1, v20 + 6, v20 + 2);
    }
  }
}

//----- (1000C6D0) --------------------------------------------------------
unsigned __int8 __usercall sub_1000C6D0@<al>(int a1@<eax>, int a2@<ecx>, int a3, int a4, int a5, int a6, int a7, void *a8, int a9)
{
  int v9; // esi@1
  int v10; // edi@1
  __int64 v11; // rax@2
  int v12; // eax@3
  int v13; // edx@3
  int v14; // eax@3
  int v15; // edx@4
  signed int v16; // ebx@4
  int v17; // edx@4
  int *v18; // edi@5
  int v19; // ecx@6
  bool v20; // zf@6
  int v21; // ecx@7
  unsigned __int8 result; // al@8
  unsigned __int8 v23; // bl@9
  int v24; // [sp+50h] [bp-C3Ch]@5
  float v25; // [sp+54h] [bp-C38h]@4
  float v26; // [sp+58h] [bp-C34h]@4
  float v27; // [sp+5Ch] [bp-C30h]@6
  float v28; // [sp+60h] [bp-C2Ch]@4
  float v29; // [sp+64h] [bp-C28h]@4
  int v30; // [sp+68h] [bp-C24h]@4
  float v31; // [sp+6Ch] [bp-C20h]@6
  float v32; // [sp+70h] [bp-C1Ch]@4
  int v33; // [sp+74h] [bp-C18h]@6
  int v34; // [sp+78h] [bp-C14h]@6
  int v35; // [sp+7Ch] [bp-C10h]@3
  int v36; // [sp+80h] [bp-C0Ch]@3
  int v37; // [sp+84h] [bp-C08h]@3
  int v38; // [sp+88h] [bp-C04h]@3
  int v39; // [sp+87Ch] [bp-410h]@3
  char v40; // [sp+884h] [bp-408h]@3
  unsigned int v41; // [sp+C84h] [bp-8h]@9

  v9 = a1;
  v10 = a2;
  if ( (double)(signed int)abs(*(_DWORD *)a2 - *(_DWORD *)a1) > 39768215.70370371
    || (v11 = *(_DWORD *)(a2 + 4) - *(_DWORD *)(a1 + 4),
        (double)(signed int)((HIDWORD(v11) ^ v11) - HIDWORD(v11)) > 39768215.70370371) )
  {
    v15 = *(_DWORD *)(a2 + 4);
    sub_1004A500((int)&v30, *(_QWORD *)a2, *(_QWORD *)a2 >> 32);
    sub_1004A500((int)&v26, *(_DWORD *)v9, *(_DWORD *)(v9 + 4));
    sub_10022FC0((int)&v30, (int)&v26, &v28, &v25, &v29);
    v16 = (signed int)ceil(v28 / 370400.0);
    v17 = *(_DWORD *)(v10 + 4);
    v35 = *(_DWORD *)v10;
    v36 = v17;
    v32 = v28 / (double)v16;
    if ( v16 > 1 )
    {
      v18 = &v37;
      v24 = v16 - 1;
      do
      {
        sub_100236E0((int)&v30, v32, v25, (int)&v26);
        sub_1004A520((int)&v33, v26, v27);
        v19 = v34;
        *v18 = v33;
        v18[1] = v19;
        sub_10022FC0((int)&v30, (int)&v26, &v28, &v25, &v29);
        v25 = v29;
        v18 += 2;
        v20 = v24-- == 1;
        v30 = LODWORD(v26);
        v31 = v27;
      }
      while ( !v20 );
    }
    v21 = *(_DWORD *)(v9 + 4);
    *(&v35 + 2 * v16) = *(_DWORD *)v9;
    *(&v36 + 2 * v16) = v21;
    v39 = v16 + 1;
    sub_1000BFC0(a3, a4, (int)&v35, (int *)a5, (float *)a6, a7, (int)&v40);
  }
  else
  {
    v12 = *(_DWORD *)a2;
    v13 = *(_DWORD *)v9;
    v36 = *(_DWORD *)(a2 + 4);
    v35 = v12;
    v14 = *(_DWORD *)(v9 + 4);
    v37 = v13;
    v38 = v14;
    v39 = 2;
    sub_1000BFC0(a3, a4, (int)&v35, (int *)a5, (float *)a6, a7, (int)&v40);
  }
  result = *(_BYTE *)a9;
  if ( *(_BYTE *)a9 )
  {
    v23 = v41;
    if ( v41 )
    {
      if ( result < v41 )
        v23 = *(_BYTE *)a9;
      result = (unsigned int)memcpy_0(a8, &v40, 4 * v23);
      *(_BYTE *)a9 = v23;
    }
    else
    {
      *(_BYTE *)a9 = v41;
    }
  }
  return result;
}

//----- (1000C940) --------------------------------------------------------
void __usercall sub_1000C940(int a1@<esi>, int a2, int a3, unsigned __int8 a4)
{
  int v4; // ebp@1
  int v5; // eax@4
  int v6; // edi@4
  int v7; // ecx@4
  int v8; // edx@4
  double v9; // st7@4
  int v10; // edx@4
  int v11; // ST14_4@6
  int v12; // eax@6
  unsigned __int8 v13; // bl@6
  bool v14; // dl@6
  bool v15; // zf@6
  __int16 v16; // fps@6
  bool v17; // c0@7
  char v18; // c2@6
  bool v19; // c3@7
  long double v20; // st7@6
  long double v21; // st7@8
  char *v22; // eax@14
  double v23; // st7@14
  double v24; // st7@15
  double v25; // st7@17
  double v26; // st7@18
  float v27; // [sp+1Ch] [bp-48h]@4
  float v28; // [sp+20h] [bp-44h]@4
  __int64 v29; // [sp+24h] [bp-40h]@4
  int v30; // [sp+2Ch] [bp-38h]@4
  int v31; // [sp+30h] [bp-34h]@4
  double v32; // [sp+34h] [bp-30h]@1
  double v33; // [sp+3Ch] [bp-28h]@2
  bool v34; // [sp+44h] [bp-20h]@6
  char v35; // [sp+45h] [bp-1Fh]@12
  int v36; // [sp+48h] [bp-1Ch]@6
  int v37; // [sp+4Ch] [bp-18h]@4
  int v38; // [sp+50h] [bp-14h]@6
  int v39; // [sp+54h] [bp-10h]@2
  int v40; // [sp+58h] [bp-Ch]@4
  int v41; // [sp+5Ch] [bp-8h]@4
  char v42; // [sp+68h] [bp+4h]@1
  char v43; // [sp+68h] [bp+4h]@6

  v4 = a2;
  v42 = (*(_BYTE *)(a1 + 92) != 0) + 1;
  sub_100218A0(a1 + 64, *(float *)(a1 + 80), *(float *)(a1 + 84), 1, (int)&v32);
  if ( sub_1000AF30(a1 + 32, (int)&v32) )
    sub_1004A420((int)&v39, v32, v33);
  else
    sub_1004A420((int)&v39, *(double *)(a1 + 32), *(double *)(a1 + 40));
  sub_1004A420((int)&v37, *(double *)(a1 + 64), *(double *)(a1 + 72));
  sub_1004A420((int)&v41, *(double *)(a1 + 48), *(double *)(a1 + 56));
  sub_100218A0(a1 + 64, *(float *)(a1 + 80), *(float *)(a1 + 88), 1, (int)&v32);
  sub_1004A420((int)&v30, v32, v33);
  v5 = *(_DWORD *)(v4 + 3688);
  v6 = v30;
  LODWORD(v28) = *(_DWORD *)(v4 + 3688) - v39;
  v7 = *(_DWORD *)(v4 + 3692);
  v8 = *(_DWORD *)(v4 + 3692) - v40;
  v28 = (double)SLODWORD(v28);
  v9 = (double)v8;
  v10 = v31;
  v27 = v9;
  *(float *)&v29 = v27 * v27 + v28 * v28;
  v28 = (double)(v5 - v30);
  v27 = (double)(v7 - v31);
  if ( *(float *)&v29 < v27 * v27 + v28 * v28 )
  {
    v10 = v40;
    v6 = v39;
    v30 = v39;
    v31 = v40;
  }
  v11 = v10 - v38;
  v28 = (double)(v6 - v37);
  v12 = sub_10063F50(v6);
  v27 = (double)(signed int)sub_10063CA0(v12, v11);
  *(float *)&v29 = v27 * v27 + v28 * v28;
  *(float *)&v29 = sqrt(*(float *)&v29);
  v13 = v42 & 7;
  v14 = (v42 & 7) == 2;
  v15 = (v42 & 7) == 1;
  v43 = v42 & 7;
  v34 = v14;
  v29 = (signed __int64)(*(float *)&v29 + 0.5);
  v36 = v29;
  v27 = *(float *)(a1 + 88) - *(float *)(a1 + 84);
  v18 = 0;
  v20 = v27;
  if ( v15 )
  {
    v19 = v27 == 0.0;
    v17 = v27 < 0.0;
    if ( HIBYTE(v16) & v13 )
      goto LABEL_12;
    v21 = v20 - 6.2831853071796;
  }
  else
  {
    if ( v27 >= 0.0 )
      goto LABEL_12;
    v21 = v20 + 6.2831853071796;
  }
  v27 = v21;
  v20 = v27;
LABEL_12:
  v35 = 1;
  if ( fabs(v20) < 3.1415926535898 )
    v35 = 0;
  v22 = sub_1000FA50(a4);
  sub_10009F20(v4, a3, (int)&v34, (int)v22, 0);
  v23 = *(float *)(a1 + 84);
  if ( v13 == 2 )
    v24 = v23 + 1.832595705986023;
  else
    v24 = v23 - 1.832595705986023;
  v27 = v24;
  v27 = sub_100637E0(v27);
  sub_1000B9C0((int)&v39, v4, &v27);
  v25 = *(float *)(a1 + 88);
  if ( v43 == 2 )
    v26 = v25 - 1.832595705986023;
  else
    v26 = v25 + 1.832595705986023;
  v27 = v26;
  v27 = sub_100637E0(v27);
  sub_1000B9C0((int)&v41, v4, &v27);
}

//----- (1000CCA0) --------------------------------------------------------
char __usercall sub_1000CCA0@<al>(int a1@<eax>, int a2@<edi>)
{
  char v2; // dl@1
  int v3; // ebx@1
  int v4; // esi@5
  int v5; // eax@9
  int v6; // ecx@9
  int v7; // eax@10
  int v8; // edx@11
  char v10; // [sp+Fh] [bp-11h]@1
  int v11; // [sp+10h] [bp-10h]@2
  unsigned int v12; // [sp+14h] [bp-Ch]@1
  int v13; // [sp+18h] [bp-8h]@10
  int v14; // [sp+1Ch] [bp-4h]@10

  v2 = 0;
  v3 = 0;
  v10 = 0;
  v12 = *(_BYTE *)(a1 + 8031);
  if ( *(_BYTE *)(a1 + 8031) )
  {
    v11 = a1 + 1446;
    while ( 1 )
    {
      if ( v2 )
        return v2;
      v4 = 0;
      while ( 1 )
      {
        if ( v4 )
        {
          if ( v4 == 1 )
          {
            v8 = *(_DWORD *)a2;
            v13 = *(_DWORD *)(a2 + 12);
            v14 = v8;
            goto LABEL_14;
          }
          if ( v4 == 2 )
          {
            v7 = *(_DWORD *)(a2 + 4);
            v13 = *(_DWORD *)(a2 + 8);
            v14 = v7;
            goto LABEL_14;
          }
          v5 = *(_DWORD *)a2;
          v6 = *(_DWORD *)(a2 + 4);
        }
        else
        {
          v5 = *(_DWORD *)(a2 + 12);
          v6 = *(_DWORD *)(a2 + 8);
        }
        v14 = v6;
        v13 = v5;
LABEL_14:
        if ( sub_1000B7F0((int)&v13, v11) )
          break;
        if ( ++v4 >= 4 )
          goto LABEL_18;
      }
      v10 = 1;
LABEL_18:
      v11 += 8;
      if ( ++v3 >= v12 )
        return v10;
      v2 = v10;
    }
  }
  return v2;
}

//----- (1000CD70) --------------------------------------------------------
unsigned __int8 __cdecl sub_1000CD70(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  char v8; // [sp+1h] [bp-1h]@1

  v8 = 0;
  return sub_1000C6D0(a4, a3, a1, a2, a5, a6, a7, 0, (int)&v8);
}

//----- (1000CDB0) --------------------------------------------------------
unsigned __int8 __cdecl sub_1000CDB0(int a1, int a2, int a3, int a4, int a5, int a6, int a7, void *a8, int a9)
{
  return sub_1000C6D0(a4, a3, a1, a2, a5, a6, a7, a8, a9);
}

//----- (1000CDF0) --------------------------------------------------------
char __usercall sub_1000CDF0@<al>(unsigned __int8 a1@<al>, int a2, int a3, unsigned __int16 a4, _BYTE *a5, _BYTE *a6)
{
  unsigned __int8 v6; // bl@1
  int v7; // esi@1
  signed int v8; // ebp@1
  char v9; // bl@1
  int v10; // eax@2
  _BYTE *v11; // eax@2
  int v13; // [sp+10h] [bp-20h]@1
  int v14; // [sp+14h] [bp-1Ch]@1
  int v15; // [sp+18h] [bp-18h]@1
  char v16; // [sp+1Ch] [bp-14h]@1
  char v17; // [sp+20h] [bp-10h]@2

  v6 = a1;
  v7 = FNT_get_fnt_hdr(*(_BYTE *)(a1 + dword_100E4980));
  v13 = 0;
  LOBYTE(v14) = 0;
  sub_1000B740(v6, a2, a3, a4, a5, (int)&v16, &v14, &v13);
  v8 = v13;
  v9 = 1;
  *a6 = 0;
  LOBYTE(v15) = 1;
  do
  {
    sub_1000ABD0(v15, (int)&v16, v8, *(_WORD *)(v7 + 22), v14, (int)&v17);
    v10 = sub_1000B050((int)&v17, v7, v8);
    LOBYTE(v11) = sub_1000CCA0(a2, v10);
    if ( !(_BYTE)v11 )
    {
      v11 = a6;
      *v11 |= v9;
    }
    v9 *= 2;
    LOBYTE(v15) = v9;
  }
  while ( (unsigned __int8)v9 < 0x40u );
  return (unsigned int)v11;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000CEC0) --------------------------------------------------------
void __usercall sub_1000CEC0(int a1@<ecx>, int a2@<edx>, int a3@<ebx>, int a4)
{
  int v4; // edi@1
  int v5; // esi@1
  unsigned int v6; // eax@1
  int v7; // eax@2
  char v8; // cl@3
  int v9; // [sp+Bh] [bp-1ADh]@1
  int v10; // [sp+14h] [bp-1A4h]@1
  char v11; // [sp+1Ch] [bp-19Ch]@2
  char v12[8]; // [sp+1ACh] [bp-Ch]@2

  v4 = a2;
  v5 = a1;
  sub_1004A420((int)&v10, *(double *)(a2 + 32), *(double *)(a2 + 40));
  v6 = sub_1004A420((int)&v9 + 1, *(double *)(v4 + 48), *(double *)(v4 + 56));
  LOBYTE(v6) = 0;
  if ( sub_10005410(v6, v5) )
  {
    LOBYTE(v9) = 100;
    sub_1000CDB0(v5, a3, (int)&v10, (int)&v9 + 1, v5 + 3576, v5 + 3584, a4, &v11, (int)&v9);
    sub_1004A220((int)v12, (_BYTE *)(v4 + 24), 7);
    v7 = 0;
    while ( 1 )
    {
      v8 = v12[v7];
      if ( !v8 || v8 == 32 )
        break;
      if ( ++v7 >= 7 )
        goto LABEL_8;
    }
    v12[v7] = 0;
LABEL_8:
    sub_1000B0A0(v5, v9, a3, v12, (int)&v11);
  }
}
// 1000CEC0: using guessed type char var_C[8];

//----- (1000CFF0) --------------------------------------------------------
char __cdecl sub_1000CFF0(int a1, int a2, char a3)
{
  int v3; // ebp@1
  unsigned __int8 v4; // cl@1
  char *v5; // eax@1
  char v6; // al@5
  int v7; // esi@11
  char *v8; // edi@12
  unsigned __int16 v9; // ax@13
  unsigned int v10; // ebx@13
  bool v11; // zf@13
  char v12; // al@16
  unsigned int v13; // edi@17
  int v14; // ST34_4@17
  signed int v15; // eax@17
  int v16; // ecx@17
  char *v17; // eax@17
  char *v18; // edx@17
  char v19; // cl@18
  double v20; // ST30_8@21
  signed int v21; // eax@45
  _BYTE *v22; // edx@46
  char *v23; // edi@53
  int v24; // esi@53
  int v25; // edx@55
  char v26; // al@55
  bool v27; // sf@62
  char *v28; // ecx@63
  int v29; // esi@63
  unsigned int v30; // esi@69
  char *v31; // edi@71
  char result; // al@79
  int *v33; // edi@80
  int v34; // ebx@81
  char v35; // al@84
  int v36; // ebp@86
  char v37; // al@91
  int v38; // esi@91
  int v39; // ebp@92
  int v40; // esi@95
  __int16 v41; // ax@98
  char *v42; // eax@104
  int v43; // ST34_4@105
  int v44; // eax@105
  int v45; // esi@105
  __int64 v46; // [sp-4h] [bp-C4h]@0
  __int64 v47; // [sp-4h] [bp-C4h]@82
  char v48; // [sp+11h] [bp-AFh]@1
  char v49; // [sp+12h] [bp-AEh]@55
  unsigned __int8 v50; // [sp+13h] [bp-ADh]@1
  int v51; // [sp+14h] [bp-ACh]@1
  int v52; // [sp+18h] [bp-A8h]@1
  int v53; // [sp+1Ch] [bp-A4h]@4
  int v54; // [sp+20h] [bp-A0h]@13
  int v55; // [sp+24h] [bp-9Ch]@1
  char v56; // [sp+28h] [bp-98h]@95
  __int16 v57; // [sp+2Ah] [bp-96h]@103
  char v58; // [sp+2Ch] [bp-94h]@86
  int v59; // [sp+30h] [bp-90h]@13
  char v60; // [sp+34h] [bp-8Ch]@105
  unsigned __int16 v61; // [sp+38h] [bp-88h]@86
  int v62; // [sp+3Ch] [bp-84h]@86
  char v63; // [sp+40h] [bp-80h]@105
  char *v64; // [sp+44h] [bp-7Ch]@13
  double v65; // [sp+48h] [bp-78h]@17
  char v66; // [sp+84h] [bp-3Ch]@84
  int v67; // [sp+88h] [bp-38h]@84
  char v68; // [sp+98h] [bp-28h]@3

  v3 = a1;
  v4 = *(_BYTE *)(a1 + 8050);
  v55 = a2;
  v50 = v4;
  v51 = a1;
  v52 = 255;
  v48 = 0;
  v5 = byte_100E49F2;
  do
  {
    *(v5 - 2) = 0;
    *v5 = 0;
    v5[2] = 1;
    v5[4] = 0;
    *(_DWORD *)(v5 + 18) = 0x3FFFF;
    *((_WORD *)v5 + 15) = -1;
    v5[1] = 0;
    v5 += 36;
  }
  while ( (signed int)v5 < (signed int)byte_100E6612 );
  sub_100192B0((int)&v68);
  if ( *(_BYTE *)(a1 + 8357) == 1 )
  {
    LOBYTE(v53) = *(_BYTE *)(a1 + 8358);
  }
  else
  {
    v6 = *(_BYTE *)(a1 + 8132);
    if ( v6 && v6 != 1 && v6 != 2 )
    {
      LOBYTE(v53) = 0;
      goto LABEL_11;
    }
    LOBYTE(v53) = 101;
  }
  byte_100FB2F5 = 0;
LABEL_11:
  v7 = (unsigned __int16)word_100FB2E0;
  if ( word_100FB2E0 )
  {
    v8 = (char *)&unk_100FAE30 + 2 * (unsigned __int16)word_100FB2E0;
    do
    {
      v9 = *((_WORD *)v8 - 1);
      v8 -= 2;
      v54 = v9;
      v10 = 140 * v9;
      v7 += 0xFFFF;
      v11 = byte_100E6610[v10] == 2;
      v59 = v7;
      v64 = v8;
      if ( v11 && (byte_100E6611[v10] != 3 || *(_BYTE *)(v3 + 8234) == 1) )
      {
        v12 = byte_100E6679[v10];
        if ( (unsigned __int8)byte_100E6679[v10] >= (unsigned __int8)byte_100FB2F5 - 1 )
        {
          v13 = 36 * (unsigned __int8)v48;
          v14 = v53;
          byte_100E49F5[v13] = v12;
          sub_10040BC0(v14, v12, &v65);
          v15 = sub_1004DBB0((int)&v65);
          v16 = v51;
          dword_100E4A04[v13 / 4] = v15;
          sub_1000B640((int)&byte_100E6610[v10], (int)&unk_100E49F0 + v13, v16);
          dword_100E4A04[v13 / 4] = dword_100E6618[v10 / 4];
          v17 = (char *)&unk_100E661C + v10;
          v18 = &byte_100E49F7[36 * (unsigned __int8)v48 - 140 * v54 - (_DWORD)&unk_100E661C];
          do
          {
            v19 = *v17;
            v17[(_DWORD)v18] = *v17;
            ++v17;
          }
          while ( v19 );
          if ( byte_100E6613[v10] )
            *((_BYTE *)&unk_100E49F0 + v13) = 1;
          LODWORD(v20) = dword_100E6640[v10 / 4];
          HIDWORD(v20) = dword_100E6644[v10 / 4];
          sub_1004A420(
            (int)&unk_100E4A08 + v13,
            v20,
            COERCE_DOUBLE(__PAIR__(dword_100E664C[v10 / 4], dword_100E6648[v10 / 4])));
          if ( byte_100E6612[v10] == 1 )
          {
            byte_100E49F1[v13] |= 1u;
            word_100E4A10[v13 / 2] = 7;
          }
          else if ( LOBYTE(v65) == 1
                 || LOBYTE(v65) == 7
                 || LOBYTE(v65) == 18
                 || LOBYTE(v65) == 2
                 || LOBYTE(v65) == 4
                 || LOBYTE(v65) == 5
                 || LOBYTE(v65) == 19
                 || LOBYTE(v65) == 20
                 || LOBYTE(v65) == 21
                 || LOBYTE(v65) == 22
                 || LOBYTE(v65) == 8
                 || LOBYTE(v65) == 9
                 || LOBYTE(v65) == 10 )
          {
            byte_100E49F3[v13] = 1;
          }
          else if ( sub_100196D0(byte_100E6679[v10]) && sub_100196D0(byte_100E6679[v10] + 1) )
          {
            if ( dword_100E6618[v10 / 4] == 0x3FFFF )
            {
              byte_100E49F1[v13] |= 1u;
              word_100E4A10[v13 / 2] = 4;
              byte_100E49F6[v13] = 1;
            }
            else
            {
              byte_100E49F2[v13] = 0;
              byte_100E49F1[v13] = 17;
              byte_100E49F6[v13] = 0;
            }
          }
          ++v48;
          v8 = v64;
          v7 = v59;
          v3 = v51;
        }
      }
    }
    while ( (_WORD)v7 );
  }
  if ( (_BYTE)v53 != -1 )
  {
    v21 = 0;
    v52 = 255;
    if ( (signed int)(unsigned __int8)v48 > 0 )
    {
      v22 = &unk_100E49F0;
      while ( !*v22 )
      {
        ++v21;
        v22 += 36;
        if ( v21 >= (unsigned __int8)v48 )
          goto LABEL_51;
      }
      v52 = v21;
    }
  }
LABEL_51:
  if ( (unsigned __int8)v48 >= 1u )
  {
    if ( (signed int)(unsigned __int8)v48 > 0 )
    {
      v23 = byte_100E49F7;
      v24 = (unsigned __int8)v48;
      do
      {
        sub_1000CDF0(v50, v51, (int)(v23 + 17), *(_WORD *)(v23 + 25), v23, v23 - 3);
        v23 += 36;
        --v24;
      }
      while ( v24 );
    }
    v25 = v52;
    v26 = 1;
    v49 = 1;
    if ( v52 >= (unsigned __int8)v48 || v52 == 255 )
    {
      if ( !byte_100E49F4[0] )
      {
        byte_100E49F4[0] = 1;
        v26 = sub_1000B9B0(1);
        v49 = v26;
      }
      v25 = 0;
    }
    else if ( !byte_100E49F4[36 * v52] )
    {
      byte_100E49F4[36 * v52] = 1;
      v26 = sub_1000B9B0(1);
      v49 = v26;
    }
    v27 = v25 < 0;
    if ( v25 > 0 )
    {
      v28 = byte_100E49F4;
      v29 = v25;
      do
      {
        if ( !*v28 )
        {
          *v28 = v26;
          v26 = sub_1000B9B0(v26);
        }
        v28 += 36;
        --v29;
      }
      while ( v29 );
      v49 = v26;
      v27 = v25 < 0;
    }
    if ( !v27 )
    {
      v30 = 36 * v25;
      v52 = v25 - 1;
      v54 = v25 + 1;
      do
      {
        v53 = v52;
        if ( v52 >= 0 )
        {
          v31 = &byte_100E49F7[v30 - 39];
          do
          {
            if ( !strcmp(&byte_100E49F7[v30], v31 + 3) )
            {
              *v31 = byte_100E49F4[v30];
            }
            else if ( byte_100E49F2[v30] && *(v31 - 2) )
            {
              sub_1000BE50(
                v50,
                v31,
                v51,
                (int)&unk_100E4A08 + v30,
                word_100E4A10[v30 / 2],
                &byte_100E49F7[v30],
                byte_100E49F4[v30],
                (int)(v31 + 20),
                *((_WORD *)v31 + 14),
                v31 + 3,
                &v49);
            }
            v31 -= 36;
            --v53;
          }
          while ( v53 >= 0 );
        }
        --v52;
        v30 -= 36;
        --v54;
      }
      while ( v54 );
    }
  }
  result = v48;
  if ( (signed int)(unsigned __int8)v48 > 0 )
  {
    v33 = dword_100E4A04;
    v52 = (unsigned __int8)v48;
    do
    {
      v34 = v51;
      if ( *((_WORD *)v33 + 6) == 7 )
      {
        sub_10015280(v51, (int)(v33 + 10), (int)&v63);
        sub_10015280(v34, (int)(v33 + 1), (int)&v60);
        v43 = BMP_get_xfrm(7);
        v44 = BMP_get_bm_def(7);
        v45 = v55;
        sub_10005690(v55, v44, v43, (int)&v60, 1);
        sub_1000F530(v34, (_BYTE *)v33 - 13, (int)&v60, (int)&v63);
        result = sub_1000F2B0(v34, v45);
      }
      else
      {
        LODWORD(v46) = *v33;
        if ( sub_1003C3E0(v46) == 11 || *v33 == 0x3FFFF )
        {
          LODWORD(v47) = *v33;
          result = sub_1003C3E0(v47);
          if ( (result == 11 || *v33 == 0x3FFFF) && *((_BYTE *)v33 - 18) )
          {
            v37 = sub_100196D0(*((_BYTE *)v33 - 15));
            v38 = v51;
            if ( v37 )
            {
              v39 = v55;
              sub_1000B4C0(v51, v55, (_BYTE *)v33 - 13, (int)(v33 + 1), *((_BYTE *)v33 - 16), *((_BYTE *)v33 - 20));
              v61 = *((_WORD *)v33 + 6);
              v62 = BMP_get_xfrm(v61);
              sub_10015280(v38, (int)(v33 + 1), (int)&v58);
              result = sub_10006430(v39, &v61, (int)&v58);
            }
            else
            {
              result = (unsigned int)sub_1000B4C0(
                                       v51,
                                       v55,
                                       (_BYTE *)v33 - 13,
                                       (int)(v33 + 1),
                                       *((_BYTE *)v33 - 16),
                                       *((_BYTE *)v33 - 20));
            }
          }
        }
        else
        {
          v67 = *v33;
          LODWORD(v47) = v67;
          v35 = sub_1003C3E0(v47);
          LOBYTE(v59) = v35;
          result = sub_1000B710(v35);
          v11 = v67 == *(_DWORD *)(v34 + 56);
          v66 = result;
          if ( !v11 )
          {
            if ( *((_BYTE *)v33 - 14) )
            {
              v36 = v55;
              sub_1000BA80(v34, v55, (int)&v66, *((_BYTE *)v33 - 19), &v50, 0, 0);
              sub_1000B4C0(v34, v36, (_BYTE *)v33 - 13, (int)(v33 + 1), *((_BYTE *)v33 - 16), *((_BYTE *)v33 - 20));
              v61 = *((_WORD *)v33 + 6);
              v62 = BMP_get_xfrm(v61);
              sub_10015280(v34, (int)(v33 + 1), (int)&v58);
              result = sub_10006430(v36, &v61, (int)&v58);
            }
            else
            {
              result = sub_1000BA80(
                         v51,
                         v55,
                         (int)&v66,
                         *((_BYTE *)v33 - 19),
                         &v50,
                         *((_BYTE *)v33 - 20),
                         *((_BYTE *)v33 - 16));
            }
          }
        }
        if ( *((_BYTE *)v33 - 17) )
        {
          v40 = v51;
          sub_10015280(v51, (int)(v33 + 1), (int)&v56);
          if ( a3 )
            LOBYTE(v54) = 2 * (*((_BYTE *)v33 - 20) == 0) + 1;
          else
            LOBYTE(v54) = 6;
          v41 = *(_WORD *)(v40 + 3822);
          if ( v41 == 217 && *(_WORD *)(v40 + 3824) == 217 || v41 == 302 && *(_WORD *)(v40 + 3824) == 218 )
          {
            if ( *(_BYTE *)(v40 + 8544) )
              v57 += 20;
          }
          v42 = sub_1000FA50(v54);
          result = sub_10005700(v55, (int)&v56, 3, (int)v42, 0);
        }
      }
      v33 += 9;
      --v52;
    }
    while ( v52 );
  }
  return result;
}
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 100E4A04: using guessed type int dword_100E4A04[];
// 100E4A10: using guessed type __int16 word_100E4A10[];
// 100E6618: using guessed type int dword_100E6618[];
// 100E6640: using guessed type int dword_100E6640[];
// 100E6644: using guessed type int dword_100E6644[];
// 100E6648: using guessed type int dword_100E6648[];
// 100E664C: using guessed type int dword_100E664C[];
// 100FB2E0: using guessed type __int16 word_100FB2E0;
// 100FB2F5: using guessed type char byte_100FB2F5;

//----- (1000D7F0) --------------------------------------------------------
void __cdecl sub_1000D7F0(int a1, int a2, int a3, char a4, unsigned __int8 a5, int a6)
{
  int v6; // ebx@1
  char *v7; // ebp@8
  unsigned __int16 v8; // ax@10
  int v9; // esi@10
  char *v10; // edi@10
  unsigned __int8 v11; // bl@13
  int v12; // eax@15
  int v13; // eax@16
  char v14; // al@19
  char v15; // cl@39
  char v16; // [sp+7h] [bp-9h]@2
  int v17; // [sp+8h] [bp-8h]@0
  char v18; // [sp+Ch] [bp-4h]@1
  __int16 v19; // [sp+Ch] [bp-4h]@7

  sub_1003ADE0();
  v6 = a1;
  v18 = 0;
  if ( *(_BYTE *)(a1 + 8357) != 2 || (v16 = 1, *(_BYTE *)(a1 + 8234) != 1) )
    v16 = 0;
  if ( a4 == 3 && v16 )
    v18 = 1;
  sub_100441B0(a3, (int)byte_100E6610, a6, v18);
  v19 = word_100FB2E0;
  if ( word_100FB2E0 )
  {
    v7 = (char *)&unk_100FAE30 + 2 * (unsigned __int16)word_100FB2E0;
    while ( 1 )
    {
      v8 = *((_WORD *)v7 - 1);
      --v19;
      v7 -= 2;
      v9 = 140 * v8;
      v10 = &byte_100E6610[v9];
      if ( byte_100E6610[v9] == 2 && (unsigned __int8)byte_100E6679[v9] >= (unsigned __int8)byte_100FB2F5 - 1 )
        sub_1000AE00(v6, (int)v10);
      v11 = byte_100E6679[v9];
      if ( v11 >= (unsigned __int8)byte_100FB2F5 && *v10 != 2 )
        break;
LABEL_54:
      if ( !v19 )
        return;
      v6 = a1;
    }
    v12 = (unsigned __int8)byte_100E6612[v9];
    switch ( v12 )
    {
      case 16:
        LOBYTE(v13) = 6;
        break;
      case 2:
      case 18:
      case 32:
        LOBYTE(v12) = byte_100E6613[v9] == 0;
        v13 = 2 * v12 + 1;
        break;
      case 8:
        LOBYTE(v13) = byte_100E6613[v9] != 0 ? 2 : 7;
        break;
      case 4:
        v14 = byte_100E6615[v9];
        if ( byte_100E6613[v9] )
        {
          if ( v14 == 15 || v14 == 3 || v14 == 11 || v14 == 12 || v14 == 13 )
            LOBYTE(v13) = 1;
          else
            LOBYTE(v13) = 2;
        }
        else if ( v14 == 15 || v14 == 3 )
        {
          LOBYTE(v13) = 3;
        }
        else
        {
          LOBYTE(v13) = 4;
        }
        break;
      default:
        LOBYTE(v13) = 8;
        break;
    }
    LOBYTE(v17) = v13;
    if ( (unsigned __int8)a3 >= 0x64u )
    {
      if ( a4 )
      {
        if ( a4 != 1 || !byte_100E6614[v9] )
          goto LABEL_39;
        LOBYTE(v13) = 6;
      }
      else
      {
        LOBYTE(v13) = 5;
      }
      LOBYTE(v17) = v13;
    }
LABEL_39:
    v15 = byte_100E6611[v9];
    if ( v15 == 3 || (_BYTE)v13 == 3 && (v11 < a5 || v15 == 1) )
      LOBYTE(v17) = 6;
    if ( a4 == 3 && v15 == 2 )
      LOBYTE(v17) = 6;
    if ( (byte_100E6612[v9] != 16 || sub_100196D0(v11)) && (byte_100E6611[v9] != 3 || v16) )
    {
      if ( *v10 )
        sub_1000CEC0(a1, (int)&byte_100E6610[v9], a2, v17);
      else
        sub_1000C940((int)&byte_100E6610[v9], a1, a2, v17);
    }
    goto LABEL_54;
  }
}
// 100FB2E0: using guessed type __int16 word_100FB2E0;
// 100FB2F5: using guessed type char byte_100FB2F5;

//----- (1000DA60) --------------------------------------------------------
char __usercall sub_1000DA60@<al>(int a1@<ebx>, int a2@<edi>, int a3)
{
  signed int v3; // eax@1
  int v4; // ebp@8
  __int16 v5; // dx@10
  __int16 v6; // cx@11
  int v7; // edi@12
  int v8; // ebx@12
  signed int v9; // eax@21
  int v10; // edi@21
  char v11; // bl@21
  int v12; // eax@21
  char v13; // al@25
  int v14; // eax@29
  unsigned int v15; // eax@29
  char v16; // al@35
  int v17; // ecx@36
  __int64 v19; // [sp-10h] [bp-84h]@12
  __int64 v20; // [sp-Ch] [bp-80h]@8
  __int64 v21; // [sp-Ch] [bp-80h]@44
  __int16 v22; // [sp+4h] [bp-70h]@10
  __int16 v23; // [sp+6h] [bp-6Eh]@10
  unsigned int v24; // [sp+8h] [bp-6Ch]@12
  unsigned int v25; // [sp+Ch] [bp-68h]@12
  char v26; // [sp+10h] [bp-64h]@29
  char v27; // [sp+11h] [bp-63h]@29
  char v28; // [sp+14h] [bp-60h]@29
  char v29; // [sp+16h] [bp-5Eh]@29
  int v30; // [sp+34h] [bp-40h]@29
  int v31[2]; // [sp+4Ch] [bp-28h]@5
  int v32; // [sp+53h] [bp-21h]@38
  int v33; // [sp+55h] [bp-1Fh]@6
  char v34; // [sp+5Ah] [bp-1Ah]@39
  int v35; // [sp+60h] [bp-14h]@29

  v3 = sub_1000AB30(1u, a3);
  if ( !v3 )
  {
    v3 = sub_1000AB30(0, a3);
    if ( !v3 )
      return v3;
  }
  if ( *(_BYTE *)(a3 + 8357) == 3 )
    return v3;
  if ( *(_BYTE *)(a3 + 8132) != 4 )
    return v3;
  sub_100192B0((int)v31);
  if ( !*(_BYTE *)(a3 + 8357) && !(_BYTE)v33 )
  {
    LOBYTE(v3) = sub_1003FAD0(*(_BYTE *)(a3 + 8358));
    if ( !(_BYTE)v3 )
      return v3;
  }
  HIDWORD(v20) = a2;
  v4 = a3 + 3940;
  if ( !sub_1000AD20() )
    v4 = a3 + 1360;
  v5 = *(_WORD *)(v4 + 40);
  v22 = *(_WORD *)(v4 + 42);
  v23 = *(_WORD *)(v4 + 40);
  if ( v4 == a3 + 1360 )
  {
    v6 = *(_WORD *)(a3 + 3820) - *(_WORD *)(a3 + 3700);
    *(_WORD *)(v4 + 42) += *(_WORD *)(a3 + 3818) - *(_WORD *)(a3 + 3698);
    *(_WORD *)(v4 + 40) = v5 + v6;
  }
  HIDWORD(v19) = a1;
  v7 = sub_10040C40(*(_BYTE *)(a3 + 8358));
  v24 = v7;
  v8 = sub_10040B40(*(_BYTE *)(a3 + 8358));
  v25 = v8;
  if ( (_BYTE)v33 == 2 )
  {
    if ( sub_1000B7A0() )
    {
LABEL_19:
      LODWORD(v19) = v8;
      if ( !sub_1003C3E0(v19) )
        sub_10002F70(a3, v4, v8);
      goto LABEL_21;
    }
LABEL_16:
    if ( LOBYTE(v31[0]) == 1 )
    {
      LODWORD(v19) = v7;
      if ( !sub_1003C3E0(v19) )
        sub_10002F70(a3, v4, v7);
    }
    goto LABEL_19;
  }
  if ( (_BYTE)v33 != 3 )
    goto LABEL_16;
LABEL_21:
  v9 = sub_100195B0();
  v10 = v9;
  LODWORD(v19) = v9;
  v11 = sub_1003C3E0(v19);
  v12 = sub_1003FA90(0);
  if ( v11 )
  {
    if ( v12 != 0x3FFFF )
      sub_10002F50(a3, v4, v12);
  }
  else
  {
    sub_10002F50(a3, v4, v10);
  }
  *(_BYTE *)(a3 + 8480) = 1;
  *(_BYTE *)(a3 + 8031) = 0;
  *(_BYTE *)(a3 + 8033) = 0;
  memset32((void *)(a3 + 3048), 0x3FFFF, 0x64u);
  v13 = *(_BYTE *)(a3 + 8357);
  if ( v13 && v13 != 2 )
  {
    if ( v13 != 1 || *(_BYTE *)(a3 + 8358) )
    {
      if ( *(_BYTE *)(a3 + 8359) )
        sub_1000D7F0(a3, v4, *(_BYTE *)(a3 + 8358), 1, 0, 0);
      else
        sub_1000D7F0(a3, v4, *(_BYTE *)(a3 + 8358), 0, 0xFFu, 255);
    }
    else
    {
      *(_BYTE *)(a3 + 8356) = 1;
      v14 = v35;
      *(_BYTE *)(a3 + 8357) = 2;
      v26 = 6;
      v27 = 0;
      v28 = 0;
      v29 = 0;
      v30 = v14;
      sub_1000D7F0(a3, v4, 0, 0, 0xFFu, 255);
      if ( (_BYTE)v33 == 3 )
        sub_1000D7F0(a3, v4, 0, 0, 0xFFu, 255);
      *(_BYTE *)(a3 + 8356) = 0;
    }
  }
  else
  {
    v16 = v33;
    v26 = 6;
    v27 = 0;
    v28 = 0;
    v29 = 0;
    if ( (_BYTE)v33 == 3 )
    {
      v17 = *(_BYTE *)(a3 + 8358);
      v30 = v35;
      sub_1000D7F0(a3, v4, v17, 3, v31[0], v31[0]);
    }
    else if ( (_BYTE)v33 == 2 )
    {
      sub_1000D7F0(a3, v4, *(_BYTE *)(a3 + 8358), 2, v31[0], v32);
      v30 = v35;
    }
    else
    {
      if ( !v34 )
      {
        sub_10040BC0(*(_BYTE *)(a3 + 8358), v31[0], &v26);
        v16 = v33;
      }
      sub_1000D7F0(a3, v4, *(_BYTE *)(a3 + 8358), v16, v31[0], v32);
    }
  }
  LOBYTE(v15) = 1;
  if ( sub_10005410(v15, a3) || *(_BYTE *)(a3 + 8357) )
  {
    LODWORD(v20) = v25;
    if ( !sub_1003C3E0(v20) )
      sub_1000AE70(a3, v25);
    LODWORD(v21) = v24;
    if ( !sub_1003C3E0(v21) )
      sub_1000AE70(a3, v24);
    sub_1000CFF0(a3, v4, v33);
  }
  LOBYTE(v3) = v23;
  *(_WORD *)(v4 + 42) = v22;
  *(_WORD *)(v4 + 40) = v23;
  return v3;
}
// 1000DA60: could not find valid save-restore pair for ebx
// 1000DA60: could not find valid save-restore pair for edi

//----- (1000DE00) --------------------------------------------------------
_BYTE *__cdecl sub_1000DE00(_BYTE *a1)
{
  _BYTE *result; // eax@1

  result = a1;
  *a1 = 0;
  return result;
}

//----- (1000DE10) --------------------------------------------------------
int __cdecl sub_1000DE10(int a1)
{
  int v1; // ebp@1
  char *v2; // ebx@1
  int result; // eax@1
  int v4; // eax@5
  int v5; // edx@5
  __int16 v6; // cx@5
  __int16 v7; // cx@5
  int v8; // eax@5
  int v9; // eax@5
  __int16 v10; // ax@7
  __int16 v11; // ST1C_2@9
  __int16 v12; // ST18_2@9
  __int16 v13; // ST14_2@9
  __int16 v14; // ST10_2@9
  __int16 v15; // ST0C_2@9
  __int16 v16; // ST08_2@9
  int v17; // ST04_4@9
  char v18; // al@9
  unsigned __int8 v19; // al@17
  bool v20; // zf@20
  __int16 v21; // ax@20
  __int16 v22; // ax@30
  char v23; // [sp+13h] [bp-61h]@1
  __int16 v24; // [sp+14h] [bp-60h]@9
  __int16 v25; // [sp+16h] [bp-5Eh]@9
  __int16 v26; // [sp+18h] [bp-5Ch]@9
  __int16 v27; // [sp+1Ah] [bp-5Ah]@9
  char v28; // [sp+20h] [bp-54h]@1
  void *retaddr; // [sp+74h] [bp+0h]@30
  bool v30; // [sp+78h] [bp+4h]@17

  v1 = a1;
  v2 = (char *)(a1 + 1360);
  qmemcpy(&v28, (const void *)(a1 + 1360), 0x54u);
  v23 = sub_1004E200();
  result = sub_10017880(*((_DWORD *)&dword_1007B7A8 + *(_BYTE *)(a1 + 3682)));
  if ( result )
    goto LABEL_43;
  if ( !*(_BYTE *)a1 )
  {
LABEL_42:
    result = sub_10017820(*((_DWORD *)&dword_1007B7A8 + *(_BYTE *)(v1 + 3682)));
LABEL_43:
    v28 = 1;
    qmemcpy(v2, &v28, 0x54u);
    return result;
  }
  if ( !*(_BYTE *)(a1 + 8234) )
    *(_WORD *)(a1 + 3698) = *(_WORD *)(a1 + 8620) - *(_WORD *)(a1 + 3822) / 2;
  v4 = *(_WORD *)(a1 + 3700);
  v5 = *(_WORD *)(a1 + 3824);
  v6 = v4 < 0;
  LOBYTE(v6) = v4 <= 0;
  v7 = v4 & (v6 - 1);
  v8 = *(_WORD *)(a1 + 8044);
  *(_WORD *)(a1 + 3700) = v7;
  v9 = v8 - v5;
  if ( v7 < v9 )
    LOWORD(v9) = v7;
  *(_WORD *)(a1 + 3700) = v9;
  v10 = *(_WORD *)(a1 + 3698);
  if ( v10 >= 0 && v10 < *(_WORD *)(a1 + 8046) - (signed int)*(_WORD *)(a1 + 3822) )
  {
    sub_10014DE0(a1, *(_DWORD *)(a1 + 8620), a1 + 8632);
    v24 = *(_WORD *)(a1 + 1386);
    v25 = *(_WORD *)(a1 + 1384);
    v27 = *(_WORD *)(a1 + 1388);
    v26 = *(_WORD *)(a1 + 1390);
    sub_1001B610(
      (int)v2,
      *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 1402),
      *(_WORD *)(a1 + 1400) + *(_WORD *)(a1 + 3820),
      *(_WORD *)(a1 + 3822),
      *(_WORD *)(a1 + 3824));
    v11 = *(_WORD *)(a1 + 3824);
    v12 = *(_WORD *)(a1 + 3822);
    v13 = *(_WORD *)(a1 + 1400) + *(_WORD *)(a1 + 3820);
    v14 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 1402);
    v15 = *(_WORD *)(a1 + 3700);
    v16 = *(_WORD *)(a1 + 3698);
    v17 = *(_DWORD *)(a1 + 3992);
    *(_DWORD *)(a1 + 1428) = 0;
    sub_1001B720((int)v2, v17, v16, v15, v14, v13, v12, v11);
    v18 = *(_BYTE *)(a1 + 8357);
    if ( !v18 || v18 != 3 && !*(_BYTE *)(a1 + 8358) )
      sub_10016600(a1, (int)v2);
    sub_10011F70(a1, (int)v2);
    if ( *(_BYTE *)(a1 + 8548) )
      sub_10011260(a1, (int)v2);
    if ( *(_BYTE *)(a1 + 8360) == 2 )
      sub_10010620(a1, (signed int)v2);
    v19 = sub_10016990();
    v30 = v19 <= 1u;
    if ( v19 <= 1u )
      sub_100061F0(v1, (int)v2, "NO GPS POSITION", 81, 0);
    else
      sub_1000A0D0(v1, (int)v2, *(_BYTE *)(v1 + 8616), *(_WORD *)(v1 + 8618));
    v20 = *(_BYTE *)(v1 + 8550) == 0;
    v21 = *(_WORD *)(v1 + 3820);
    *(_WORD *)(v1 + 3826) = *(_WORD *)(v1 + 3818);
    *(_WORD *)(v1 + 3828) = v21;
    if ( !v20 && *(_BYTE *)(v1 + 8552) && !v30 )
      sub_100106B0(v1, (int)v2);
    if ( !*(_BYTE *)(v1 + 1344) )
      sub_10009CB0(v1, (int)v2);
    if ( (*(_BYTE *)(v1 + 8550) || *(_BYTE *)(v1 + 8549)) && *(_BYTE *)(v1 + 8548) && *(_BYTE *)(v1 + 8553) )
    {
      LOBYTE(v22) = sub_10007F40(v1, (int)v2);
      sub_100064A0(v22, (int)&retaddr, v1, (int)v2);
    }
    if ( *(_BYTE *)(v1 + 8550) && *(_BYTE *)(v1 + 8551) )
      sub_10010EB0(v1, (unsigned int)&retaddr, v1, (int)v2);
    if ( *(_BYTE *)(v1 + 8641) && !*(_BYTE *)(v1 + 8234) && !v23 )
      sub_1000A680(v1, (int)v2);
    sub_10012560(v1, (int)v2);
    if ( *(_BYTE *)(v1 + 8574) != *(_BYTE *)(v1 + 8575) || sub_10010510(*(_WORD *)(v1 + 8560), *(_WORD *)(v1 + 8562)) )
    {
      sub_1003A9C0(4);
      sub_1000F9F0(0, v1);
    }
    sub_100058C0(v1, (int)v2);
    sub_1001B610((int)v2, v24, v25, v26, v27);
    goto LABEL_42;
  }
  return sub_10017820(*((_DWORD *)&dword_1007B7A8 + *(_BYTE *)(a1 + 3682)));
}

//----- (1000E1D0) --------------------------------------------------------
int sub_1000E1D0()
{
  byte_101EFA35 = 0;
  return sub_10017900(61, 16);
}
// 101EFA35: using guessed type char byte_101EFA35;

//----- (1000E1F0) --------------------------------------------------------
int sub_1000E1F0()
{
  byte_101D27E8 = 0;
  return sub_10017900(62, 16);
}
// 101D27E8: using guessed type char byte_101D27E8;

//----- (1000E210) --------------------------------------------------------
#error "1000E2A1: call analysis failed (funcsize=40)"

//----- (1000E2C0) --------------------------------------------------------
int __cdecl sub_1000E2C0(int a1)
{
  int result; // eax@2

  if ( a1 )
  {
    sub_10006F50(a1);
    sub_1000AD30(a1);
    nullsub_2(a1);
    sub_10003120(a1);
    result = sub_100104C0(a1);
  }
  return result;
}
// 1004F120: using guessed type int __cdecl nullsub_2(_DWORD);

//----- (1000E2F0) --------------------------------------------------------
char __usercall sub_1000E2F0@<al>(int a1@<eax>)
{
  int v1; // esi@1
  void *v2; // ebp@3
  int *v3; // edi@3
  signed int v4; // ebx@3
  char result; // al@5
  void *v6; // edi@8
  int v7; // esi@8
  signed int v8; // ebp@8

  v1 = a1;
  sub_1000FC60(a1);
  if ( sub_10017AE0(2007, v1 + 3568, 76) < 0 )
  {
    *(_DWORD *)(v1 + 3624) = 0;
    *(_BYTE *)(v1 + 3623) = 0;
    *(_WORD *)(v1 + 3602) = 0;
    *(_WORD *)(v1 + 3610) = 0;
    *(_WORD *)(v1 + 3618) = 0;
    *(_BYTE *)(v1 + 3569) = 0;
    *(_BYTE *)(v1 + 3622) = 12;
    *(_DWORD *)(v1 + 3592) = 532715847;
    *(_DWORD *)(v1 + 3596) = -1131002756;
    *(_DWORD *)(v1 + 3628) = 3449577;
    *(_DWORD *)(v1 + 3632) = 4849053;
    *(_DWORD *)(v1 + 3572) = 912169344;
    *(_DWORD *)(v1 + 3576) = -694587940;
    *(_DWORD *)(v1 + 3580) = 153262368;
    *(_DWORD *)(v1 + 3584) = -1567417572;
    *(_WORD *)(v1 + 3604) = 0x7FFF;
    *(_WORD *)(v1 + 3616) = 14170;
    *(_WORD *)(v1 + 3612) = -19921;
    *(_BYTE *)(v1 + 3614) = 22;
    *(_BYTE *)(v1 + 3620) = 22;
    *(_BYTE *)(v1 + 3600) = 11;
    *(_BYTE *)(v1 + 3568) = 11;
    sub_10017BB0(2007, v1 + 3568, 76);
  }
  v2 = (void *)(v1 + 8073);
  v3 = dword_100786F4;
  v4 = 57;
  do
  {
    if ( *v3 == 42066 )
    {
      result = *((_BYTE *)v3 - 4);
      *(_BYTE *)v2 = result;
    }
    else
    {
      result = sub_10017CB0(*v3, v2, 1, v3 - 1);
    }
    v2 = (char *)v2 + 1;
    v3 += 2;
    --v4;
  }
  while ( v4 );
  v6 = (void *)(v1 + 8049);
  v7 = 0;
  v8 = 21;
  do
  {
    if ( dword_100786F4[v7] == 42066 )
      *(_BYTE *)v6 = byte_100788C0[v7 * 4];
    else
      result = sub_10017CB0(dword_100788C4[v7], v6, 1, &byte_100788C0[v7 * 4]);
    v6 = (char *)v6 + 1;
    v7 += 2;
    --v8;
  }
  while ( v8 );
  return result;
}
// 100786F4: using guessed type int dword_100786F4[];
// 100788C4: using guessed type int dword_100788C4[];

//----- (1000E470) --------------------------------------------------------
char __cdecl sub_1000E470(int a1)
{
  *(_BYTE *)(a1 + 1346) = 0;
  *(_WORD *)(a1 + 76) = -1;
  *(_BYTE *)(a1 + 1140) = 0;
  *(_BYTE *)(a1 + 8360) = 2;
  *(_WORD *)(a1 + 8024) = 0;
  *(_BYTE *)(a1 + 1347) = -1;
  *(_BYTE *)(a1 + 8132) = 4;
  *(_DWORD *)(a1 + 8136) = 0x3FFFF;
  *(float *)(a1 + 8636) = sub_10021990();
  *(_WORD *)(a1 + 50) = -2;
  memset((void *)(a1 + 100), 0, 0x404u);
  sub_1000E2F0(a1);
  sub_100030B0(a1);
  sub_1000AD60(a1);
  sub_10009A70(a1);
  sub_1000DE00((_BYTE *)a1);
  return sub_100031C0(a1);
}

//----- (1000E500) --------------------------------------------------------
char __cdecl sub_1000E500(int a1, int a2, int a3, unsigned __int16 a4, _BYTE *a5)
{
  int v5; // ebx@1
  int v6; // edi@1
  int v7; // eax@1
  int v8; // eax@2
  int v9; // eax@3
  __int16 v10; // dx@8
  int v11; // ecx@8
  __int16 v12; // bp@8
  signed __int16 v13; // si@10
  __int16 v14; // ST0C_2@13
  int v15; // eax@13
  char v16; // al@21
  int v17; // esi@22
  int v19; // [sp+0h] [bp-10h]@0
  __int16 v20; // [sp+Ch] [bp-4h]@8
  int v21; // [sp+18h] [bp+8h]@9
  int v22; // [sp+1Ch] [bp+Ch]@8

  v5 = a2;
  *(_WORD *)(a2 + 36) = -1;
  v6 = a3;
  *(_WORD *)(a2 + 38) = 0;
  LOBYTE(v7) = *(_BYTE *)(a3 + 22);
  if ( (unsigned __int8)v7 <= 0xEu )
  {
    if ( !(_BYTE)v7 || (_BYTE)v7 == 1 || (_BYTE)v7 == 2 )
    {
      *(_WORD *)(a2 + 46) = *(_WORD *)(a3 + 26);
      *(_WORD *)(a2 + 44) = *(_WORD *)(a3 + 28);
      v16 = *(_BYTE *)(a3 + 22);
      if ( v16 )
      {
        if ( v16 == 1 )
        {
          v17 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 9));
        }
        else if ( v16 == 2 )
        {
          v17 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 10));
        }
        else
        {
          v17 = a2;
        }
      }
      else
      {
        v17 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 8));
      }
      *(_WORD *)(v17 + 26);
      *(_WORD *)(v17 + 22);
      *(_WORD *)(v17 + 24);
      LOBYTE(v7) = sub_10019B50(a2, v17, a5, 0, 1073741830, 257, v19);
    }
  }
  else
  {
    v8 = (unsigned __int8)v7 - 15;
    if ( v8 )
    {
      v9 = v8 - 1;
      if ( v9 )
      {
        v7 = v9 - 1;
        if ( v7 )
          return v7;
        v7 = 12;
      }
      else
      {
        v7 = 10;
      }
    }
    else
    {
      v7 = 8;
    }
    LOWORD(v7) = (char)((v7 >= 13) + 1);
    v10 = v7;
    v20 = v7;
    v11 = -v7;
    v12 = -(signed __int16)v7;
    v22 = -v7;
    if ( (signed __int16)-(signed __int16)v7 <= (signed __int16)v7 )
    {
      v21 = (unsigned __int16)v7;
      do
      {
        v13 = v11;
        if ( (signed __int16)v11 <= (signed __int16)v7 )
        {
          do
          {
            if ( v12 || v13 )
            {
              *(_WORD *)(v5 + 46) = *(_WORD *)(v6 + 26) - v12;
              *(_WORD *)(v5 + 44) = v13 + *(_WORD *)(v6 + 28);
              v14 = *(_WORD *)v6;
              v15 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 3));
              sub_1001A390(v5, v15, (char)a5, v14, a4);
              LOWORD(v7) = v21;
            }
            ++v13;
          }
          while ( v13 <= (signed __int16)v7 );
          LOWORD(v11) = v22;
          v10 = v20;
        }
        ++v12;
      }
      while ( v12 <= v10 );
    }
  }
  return v7;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (1000E6C0) --------------------------------------------------------
int sub_1000E6C0()
{
  int v0; // ebx@1
  signed __int16 v1; // si@1
  int *v2; // edx@1
  signed int v3; // edi@1
  unsigned __int8 v4; // al@2
  int v5; // esi@3
  int *v6; // esi@5
  signed int v7; // edi@5
  int result; // eax@6

  v0 = 0;
  v1 = 150;
  word_101D2840 = 2;
  word_101D2842 = 150;
  dword_101D2844[0] = (int)&unk_101D2880;
  dword_101D2848 = (int)&unk_101D4950;
  dword_101D284C = (int)&unk_101D6A20;
  dword_101D2850 = (int)&unk_101D8AF0;
  dword_101D2854 = (int)&unk_101DABC0;
  dword_101D2858 = (int)&unk_101DCC90;
  dword_101D285C = (int)&unk_101DED60;
  dword_101D2860 = (int)&unk_101E0E30;
  dword_101D2864 = (int)&unk_101E2F00;
  word_101D2868 = 0;
  word_101D286A = 0;
  word_101D286C = 0;
  word_101D286E = 0;
  word_101D2870 = 0;
  word_101D2872 = 0;
  word_101D2874 = 0;
  word_101D2876 = 0;
  word_101D2878 = 0;
  memset(&unk_101D2880, 0, 0x20D0u);
  memset(&unk_101D4950, 0, 0x20D0u);
  memset(&unk_101D6A20, 0, 0x20D0u);
  memset(&unk_101D8AF0, 0, 0x20D0u);
  memset(&unk_101DABC0, 0, 0x20D0u);
  memset(&unk_101DCC90, 0, 0x20D0u);
  memset(&unk_101DED60, 0, 0x20D0u);
  memset(&unk_101E0E30, 0, 0x20D0u);
  memset(&unk_101E2F00, 0, 0x20D0u);
  v2 = dword_101D2844;
  v3 = 9;
  do
  {
    v4 = 0;
    if ( (unsigned __int16)v1 > 0u )
    {
      do
      {
        v5 = 7 * v4++;
        *(_BYTE *)(*v2 + 8 * v5 + 23) = 0;
        v1 = word_101D2842;
      }
      while ( v4 < (unsigned __int16)word_101D2842 );
    }
    ++v2;
    --v3;
  }
  while ( v3 );
  v6 = dword_101D2800;
  v7 = 14;
  do
  {
    result = FNT_get_fnt_hdr(*(_BYTE *)(v0 + dword_100E4980));
    *v6 = result;
    ++v0;
    ++v6;
    --v7;
  }
  while ( v7 );
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 101D2800: using guessed type int dword_101D2800[];
// 101D2840: using guessed type __int16 word_101D2840;
// 101D2842: using guessed type __int16 word_101D2842;
// 101D2844: using guessed type int dword_101D2844[];
// 101D2848: using guessed type int dword_101D2848;
// 101D284C: using guessed type int dword_101D284C;
// 101D2850: using guessed type int dword_101D2850;
// 101D2854: using guessed type int dword_101D2854;
// 101D2858: using guessed type int dword_101D2858;
// 101D285C: using guessed type int dword_101D285C;
// 101D2860: using guessed type int dword_101D2860;
// 101D2864: using guessed type int dword_101D2864;
// 101D2868: using guessed type __int16 word_101D2868;
// 101D286A: using guessed type __int16 word_101D286A;
// 101D286C: using guessed type __int16 word_101D286C;
// 101D286E: using guessed type __int16 word_101D286E;
// 101D2870: using guessed type __int16 word_101D2870;
// 101D2872: using guessed type __int16 word_101D2872;
// 101D2874: using guessed type __int16 word_101D2874;
// 101D2876: using guessed type __int16 word_101D2876;
// 101D2878: using guessed type __int16 word_101D2878;

//----- (1000E890) --------------------------------------------------------
int __usercall sub_1000E890@<eax>(__int16 a1@<ax>, int a2@<ecx>, int a3@<ebx>, int a4, __int16 a5, __int16 a6, _BYTE *a7)
{
  _DWORD *v7; // edi@1
  int v8; // esi@1

  v7 = (_DWORD *)(a2 + 4 * a1 + 4);
  v8 = 56 * a6;
  sub_1000E500(a4, a3, v8 + *v7, 0, a7);
  if ( *(_BYTE *)(a4 + 1128) == 1 )
  {
    *(_WORD *)(a3 + 36) = word_10078350[2 * *(_BYTE *)(*v7 + v8 + 18)];
    *(_WORD *)(a3 + 38) = word_10078352[2 * *(_BYTE *)(*v7 + v8 + 18)];
  }
  else
  {
    *(_WORD *)(a3 + 36) = -1;
    *(_WORD *)(a3 + 38) = 16;
  }
  *(_WORD *)(a3 + 46) = *(_WORD *)(*v7 + v8 + 26);
  *(_WORD *)(a3 + 44) = *(_WORD *)(*v7 + v8 + 28);
  return sub_10019B50(a3, dword_101D2800[*(_BYTE *)(*v7 + v8 + 22)], a7, 0, -1073741818, a5, 1);
}
// 10078350: using guessed type __int16 word_10078350[];
// 10078352: using guessed type __int16 word_10078352[];
// 101D2800: using guessed type int dword_101D2800[];

//----- (1000E950) --------------------------------------------------------
int sub_1000E950()
{
  return (unsigned __int16)word_101D2878
       + (unsigned __int16)word_101D2876
       + (unsigned __int16)word_101D2874
       + (unsigned __int16)word_101D2872
       + (unsigned __int16)word_101D2870
       + (unsigned __int16)word_101D286E
       + (unsigned __int16)word_101D286C
       + (unsigned __int16)word_101D286A
       + (unsigned __int16)word_101D2868;
}
// 101D2868: using guessed type __int16 word_101D2868;
// 101D286A: using guessed type __int16 word_101D286A;
// 101D286C: using guessed type __int16 word_101D286C;
// 101D286E: using guessed type __int16 word_101D286E;
// 101D2870: using guessed type __int16 word_101D2870;
// 101D2872: using guessed type __int16 word_101D2872;
// 101D2874: using guessed type __int16 word_101D2874;
// 101D2876: using guessed type __int16 word_101D2876;
// 101D2878: using guessed type __int16 word_101D2878;

//----- (1000E9A0) --------------------------------------------------------
signed __int16 __usercall sub_1000E9A0@<ax>(signed int a1@<eax>, int a2@<ecx>)
{
  signed int v2; // esi@1
  __int16 v3; // ax@1
  signed __int16 v4; // dx@2
  signed __int16 result; // ax@7

  v2 = a1;
  v3 = *(_WORD *)(a2 + 26);
  if ( v3 < 0
    || (v4 = *(_WORD *)(v2 + 8046), v3 >= v4)
    || (LOWORD(a2) = *(_WORD *)(a2 + 28), (signed __int16)a2 < 0)
    || (LOWORD(v2) = *(_WORD *)(v2 + 8044), (signed __int16)a2 >= (signed __int16)v2) )
  {
    result = 9;
  }
  else
  {
    v2 = (signed __int16)v2;
    a2 = (signed __int16)a2;
    if ( v3 >= v4 / 3 )
    {
      if ( v3 >= 2 * v4 / 3 )
      {
        if ( a2 >= v2 / 3 )
          result = a2 >= 2 * v2 / 3 ? 8 : 5;
        else
          result = 2;
      }
      else if ( a2 >= v2 / 3 )
      {
        result = a2 >= 2 * v2 / 3 ? 7 : 4;
      }
      else
      {
        result = 1;
      }
    }
    else if ( a2 >= v2 / 3 )
    {
      result = a2 >= 2 * v2 / 3 ? 6 : 3;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}

//----- (1000EAE0) --------------------------------------------------------
char __cdecl sub_1000EAE0(int a1, int a2, int a3, int a4, int a5)
{
  int v5; // edx@1
  int v6; // eax@1
  int v7; // edi@1
  int v8; // esi@1
  int v9; // eax@1
  int v10; // edx@1
  int v11; // ecx@1
  bool v12; // zf@1
  bool v13; // sf@1
  int v14; // ecx@6
  int v15; // eax@6
  bool v16; // zf@6
  bool v17; // sf@6
  int v19; // [sp+10h] [bp-14h]@1
  int v20; // [sp+18h] [bp-Ch]@1
  int v21; // [sp+1Ch] [bp-8h]@1
  int v22; // [sp+20h] [bp-4h]@1
  int v23; // [sp+34h] [bp+10h]@1

  v5 = *(_WORD *)a2;
  v6 = *(_WORD *)a3;
  v7 = *(_WORD *)(a1 + 2);
  v8 = *(_WORD *)a1;
  v21 = v5;
  v20 = v6;
  v22 = v8 - v5;
  v9 = (v7 - *(_WORD *)(a2 + 2)) * (v6 - v5) - (v8 - v5) * (*(_WORD *)(a3 + 2) - *(_WORD *)(a2 + 2));
  v10 = *(_WORD *)(a4 + 2);
  v23 = *(_WORD *)a4;
  v19 = *(_WORD *)a5;
  v11 = (v7 - *(_WORD *)(a5 + 2)) * (v23 - v19) - (v10 - *(_WORD *)(a5 + 2)) * (v8 - v19);
  v12 = v9 == 0;
  v13 = v9 < 0;
  if ( v9 < 0 )
  {
    if ( v11 < 0 )
      return 0;
    v12 = v9 == 0;
    v13 = v9 < 0;
  }
  if ( !v13 && !v12 && v11 > 0 )
    return 0;
  v14 = (v23 - v20) * (*(_WORD *)(a1 + 2) - *(_WORD *)(a3 + 2)) - (v8 - v20) * (v10 - *(_WORD *)(a3 + 2));
  v15 = (v19 - v21) * (*(_WORD *)(a1 + 2) - *(_WORD *)(a2 + 2)) - v22 * (*(_WORD *)(a5 + 2) - *(_WORD *)(a2 + 2));
  v16 = (v23 - v20) * (*(_WORD *)(a1 + 2) - *(_WORD *)(a3 + 2)) == (v8 - v20) * (v10 - *(_WORD *)(a3 + 2));
  v17 = v14 < 0;
  if ( v14 < 0 )
  {
    if ( v15 >= 0 )
    {
      v16 = (v23 - v20) * (*(_WORD *)(a1 + 2) - *(_WORD *)(a3 + 2)) == (v8 - v20) * (v10 - *(_WORD *)(a3 + 2));
      v17 = v14 < 0;
      goto LABEL_9;
    }
    return 0;
  }
LABEL_9:
  if ( !v17 && !v16 && v15 > 0 )
    return 0;
  return 1;
}

//----- (1000EBF0) --------------------------------------------------------
int __usercall sub_1000EBF0@<eax>(__int16 a1@<cx>, int a2@<edi>, int a3@<esi>)
{
  int v3; // edx@1
  int result; // eax@1

  a3 = (signed __int16)a3;
  --*(_WORD *)(a2 + 2 * a3 + 40);
  v3 = *(_DWORD *)(a2 + 4 * (signed __int16)a3 + 4) + 56 * a1;
  memcpy((void *)v3, (const void *)(v3 + 56), 56 * (*(_WORD *)(a2 + 2 * (signed __int16)a3 + 40) - a1));
  *(_DWORD *)(*(_DWORD *)(a2 + 4 * a3 + 4) + 56 * *(_WORD *)(a2 + 2 * a3 + 40) + 32) = 0;
  result = *(_DWORD *)(a2 + 4 * (signed __int16)a3 + 4);
  *(_WORD *)(result + 56 * *(_WORD *)(a2 + 2 * a3 + 40) + 20) = 0;
  return result;
}

//----- (1000EC70) --------------------------------------------------------
char __cdecl sub_1000EC70(int a1, int a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // eax@1
  int v6; // edi@1
  int v7; // ebp@1
  int v8; // ecx@1
  int v9; // esi@1
  bool v10; // zf@1
  bool v11; // sf@1
  int v13; // esi@7
  int v14; // ebx@7
  int v15; // ebp@7
  int v16; // ecx@7
  int v17; // eax@7
  bool v18; // zf@7
  bool v19; // sf@7

  v4 = *(_WORD *)(a1 + 2);
  v5 = *(_WORD *)a1;
  v6 = *(_WORD *)a3;
  v7 = *(_WORD *)(a2 + 2) - v4;
  v8 = (*(_WORD *)a2 - v5) * (*(_WORD *)(a3 + 2) - v4) - v7 * (v6 - v5);
  v9 = (*(_WORD *)a2 - v5) * (*(_WORD *)(a4 + 2) - v4) - v7 * (*(_WORD *)a4 - v5);
  v10 = (*(_WORD *)a2 - v5) * (*(_WORD *)(a3 + 2) - v4) == v7 * (v6 - v5);
  v11 = v8 < 0;
  if ( v8 < 0 )
  {
    if ( v9 < 0 )
      return 0;
    v10 = (*(_WORD *)a2 - v5) * (*(_WORD *)(a3 + 2) - v4) == v7 * (v6 - v5);
    v11 = v8 < 0;
  }
  if ( !v11 && !v10 && v9 > 0 )
    return 0;
  v13 = *(_WORD *)(a3 + 2);
  v14 = *(_WORD *)a4 - v6;
  v15 = *(_WORD *)(a4 + 2) - v13;
  v16 = v14 * (*(_WORD *)(a1 + 2) - v13) - v15 * (v5 - v6);
  v17 = v14 * (*(_WORD *)(a2 + 2) - v13) - v15 * (*(_WORD *)a2 - v6);
  v18 = v16 == 0;
  v19 = v16 < 0;
  if ( v16 < 0 )
  {
    if ( v17 >= 0 )
    {
      v18 = v16 == 0;
      v19 = v16 < 0;
      goto LABEL_10;
    }
    return 0;
  }
LABEL_10:
  if ( !v19 && !v18 && v17 > 0 )
    return 0;
  return 1;
}

//----- (1000ED50) --------------------------------------------------------
__int16 __usercall sub_1000ED50@<ax>(int a1@<edi>)
{
  int v1; // eax@1
  _WORD *v2; // ebp@2
  _DWORD *v3; // ecx@2
  unsigned __int8 v4; // dl@3
  signed int v6; // [sp+0h] [bp-4h]@2

  v1 = sub_1000E950();
  if ( v1 )
  {
    v2 = (_WORD *)(a1 + 40);
    v3 = (_DWORD *)(a1 + 4);
    v6 = 9;
    do
    {
      v4 = 0;
      if ( *(_WORD *)(a1 + 2) > 0u )
      {
        do
        {
          v1 = 56 * v4;
          *(_BYTE *)(v1 + *v3 + 23) = 0;
          *(_WORD *)(v1 + *v3 + 24) = 0;
          *(_DWORD *)(v1 + *v3 + 32) = 0;
          ++v4;
          *(_WORD *)(v1 + *v3 + 20) = 0;
          LOWORD(v1) = v4;
        }
        while ( (unsigned __int16)v4 < *(_WORD *)(a1 + 2) );
      }
      *v2 = 0;
      ++v2;
      ++v3;
      --v6;
    }
    while ( v6 );
  }
  return v1;
}

//----- (1000EDD0) --------------------------------------------------------
signed int __cdecl sub_1000EDD0(int a1, int a2)
{
  int v2; // ecx@0
  signed int result; // eax@1
  int v4; // edi@1
  _WORD *v5; // ecx@4
  _DWORD *v6; // edi@4
  int v7; // ebx@5
  int v8; // eax@6
  int v9; // esi@7
  int v10; // eax@7
  char *v11; // ebp@7
  char v12; // cl@8
  int v13; // eax@17
  int v14; // eax@18
  int v15; // eax@18
  bool v16; // sf@21
  unsigned __int8 v17; // of@21
  char v18; // [sp+13h] [bp-65h]@1
  __int16 v19; // [sp+14h] [bp-64h]@4
  __int16 v20; // [sp+18h] [bp-60h]@1
  _WORD *v21; // [sp+20h] [bp-58h]@4
  int v22; // [sp+24h] [bp-54h]@1
  int v23; // [sp+28h] [bp-50h]@5
  char v24; // [sp+2Ch] [bp-4Ch]@7

  result = a2;
  v4 = v2;
  v22 = v2;
  v20 = 0;
  v18 = 0;
LABEL_2:
  if ( !v18 || v20 < *(_WORD *)(a1 + 8024) )
  {
    v5 = (_WORD *)(v4 + 40);
    v19 = 0;
    v21 = (_WORD *)(v4 + 40);
    v6 = (_DWORD *)(v4 + 4);
    while ( 1 )
    {
      v7 = 0;
      v23 = 0;
      if ( *v5 )
        break;
LABEL_21:
      ++v5;
      ++v6;
      v17 = __OFSUB__(v19 + 1, 9);
      v16 = (signed __int16)(v19++ - 8) < 0;
      v21 = v5;
      if ( !(v16 ^ v17) )
      {
        v4 = v22;
        result = 1;
        ++v20;
        v18 = 1;
        goto LABEL_2;
      }
    }
    v8 = 0;
    while ( 1 )
    {
      v9 = 56 * v8;
      v10 = 56 * v8 + *v6;
      v11 = &v24;
      if ( *(_WORD *)(v10 + 20) )
      {
        v12 = *(_BYTE *)(v10 + 23);
        if ( v12 == 18 )
        {
          v11 = (char *)(v10 + 32);
          goto LABEL_16;
        }
        if ( v12 != 6 || v18 )
        {
          if ( v12 == 8 )
          {
            sub_1003F1F0(*(_DWORD *)(v10 + 40), (int)&v24);
LABEL_16:
            if ( *v11 )
            {
              *(_WORD *)(a2 + 4) = 3;
              *(_WORD *)(dword_101D2800[*(_BYTE *)(v9 + *v6 + 22)] + 26);
              v13 = dword_101D2800[*(_BYTE *)(v9 + *v6 + 22)];
              if ( *(_WORD *)(v13 + 22) - *(_WORD *)(v13 + 24) + 1 >= 1 )
              {
                v14 = dword_101D2800[*(_BYTE *)(v9 + *v6 + 22)];
                v15 = *(_WORD *)(v14 + 22) - *(_WORD *)(v14 + 24);
              }
              sub_1000E890(v19, v22, a2, a1, 257, v7, v11);
              v7 = v23;
            }
            goto LABEL_20;
          }
        }
        else if ( !*(_BYTE *)(v10 + 32) )
        {
          sub_10001000(v10 + 36, &v24);
          goto LABEL_16;
        }
      }
LABEL_20:
      v5 = v21;
      v8 = (signed __int16)++v7;
      v23 = v7;
      if ( (signed __int16)v7 >= (signed int)*v21 )
        goto LABEL_21;
    }
  }
  return result;
}
// 101D2800: using guessed type int dword_101D2800[];

//----- (1000EFC0) --------------------------------------------------------
char __usercall sub_1000EFC0@<al>(int a1@<eax>, int a2)
{
  int v2; // edi@2
  char result; // al@7
  int v4; // ebp@8
  int v5; // esi@8
  int v6; // ebx@9
  int v7; // esi@11
  int v8; // [sp+Ch] [bp-10h]@1
  int v9; // [sp+10h] [bp-Ch]@1
  int v10; // [sp+14h] [bp-8h]@2
  int v11; // [sp+18h] [bp-4h]@8

  v9 = a1 + 14;
  v8 = a2 + 6;
  if ( *(_WORD *)(a1 + 14) > *(_WORD *)(a2 + 6)
    || (v2 = a1 + 6, v10 = a2 + 14, *(_WORD *)(a1 + 6) < *(_WORD *)(a2 + 14))
    || *(_WORD *)(a1 + 4) < *(_WORD *)(a2 + 12)
    || *(_WORD *)(a1 + 12) > *(_WORD *)(a2 + 4) )
  {
    result = 0;
  }
  else if ( *(_WORD *)a1 || *(_WORD *)a2 )
  {
    v4 = a1 + 2;
    v5 = a1 + 10;
    v11 = a1 + 10;
    if ( sub_1000EAE0(a2 + 14, a1 + 14, a1 + 10, a1 + 6, a1 + 2)
      || (v6 = a2 + 10, sub_1000EAE0(a2 + 10, v9, v5, v2, v4))
      || sub_1000EAE0(v8, v9, v5, v2, v4)
      || (v7 = a2 + 2, sub_1000EAE0(a2 + 2, v9, v11, v2, v4))
      || sub_1000EAE0(v9, v10, v6, v8, v7)
      || sub_1000EAE0(v11, v10, v6, v8, v7)
      || sub_1000EAE0(v2, v10, v6, v8, v7)
      || sub_1000EAE0(v4, v10, v6, v8, v7)
      || sub_1000EC70(v9, v2, v10, v8)
      || sub_1000EC70(v9, v2, v6, v7)
      || sub_1000EC70(v11, v4, v10, v8)
      || (result = sub_1000EC70(v11, v4, v6, v7)) != 0 )
    {
      result = 1;
    }
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1000F1A0) --------------------------------------------------------
int __usercall sub_1000F1A0@<eax>(unsigned __int16 a1@<ax>, int a2@<ebx>, int a3)
{
  int v3; // esi@1
  __int16 v4; // dx@1
  __int16 v5; // cx@1
  __int16 v6; // dx@1
  int v7; // esi@1
  int result; // eax@1
  signed int v9; // ebp@2
  int v10; // edi@4
  _WORD *v11; // [sp+Ch] [bp-Ch]@1
  int v12; // [sp+10h] [bp-8h]@3
  _DWORD *v13; // [sp+14h] [bp-4h]@1

  v3 = a1;
  *(_WORD *)(a2 + 2) = *(_WORD *)(a2 + 26) - *(_BYTE *)(BMP_get_info(a1) + 2);
  *(_WORD *)(a2 + 4) = *(_WORD *)(a2 + 28) + *(_BYTE *)(BMP_get_info(v3) + 2);
  *(_WORD *)(a2 + 10) = *(_WORD *)(a2 + 26) + *(_BYTE *)(BMP_get_info(v3) + 2);
  v4 = *(_WORD *)(a2 + 28) - *(_BYTE *)(BMP_get_info(v3) + 2);
  v5 = *(_WORD *)(a2 + 4);
  *(_WORD *)(a2 + 6) = *(_WORD *)(a2 + 10);
  *(_WORD *)(a2 + 12) = v4;
  v6 = *(_WORD *)(a2 + 2);
  *(_WORD *)(a2 + 16) = *(_WORD *)(a2 + 12);
  *(_WORD *)(a2 + 8) = v5;
  v7 = 0;
  result = a3 + 4;
  *(_WORD *)(a2 + 14) = v6;
  v11 = (_WORD *)(a3 + 40);
  v13 = (_DWORD *)(a3 + 4);
  do
  {
    v9 = 0;
    if ( *v11 )
    {
      v12 = 0;
      do
      {
        v10 = v12 + *v13;
        LOBYTE(result) = sub_1000EFC0(v12 + *v13, a2);
        if ( (_BYTE)result )
        {
          LOWORD(result) = *(_WORD *)(a2 + 20);
          if ( (unsigned __int16)result > *(_WORD *)(v10 + 20) )
            result = sub_1000EBF0(v9, a3, v7);
        }
        v12 += 56;
        ++v9;
      }
      while ( v9 < *v11 );
    }
    ++v11;
    ++v13;
    ++v7;
  }
  while ( v7 < 9 );
  return result;
}
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);

//----- (1000F2A0) --------------------------------------------------------
__int16 sub_1000F2A0()
{
  return sub_1000ED50((int)&word_101D2840);
}
// 101D2840: using guessed type __int16 word_101D2840;

//----- (1000F2B0) --------------------------------------------------------
__int16 __cdecl sub_1000F2B0(int a1, int a2)
{
  sub_10006F70(a2, 0);
  sub_1000EDD0(a1, a2);
  return sub_1000F2A0();
}

//----- (1000F2E0) --------------------------------------------------------
char __cdecl sub_1000F2E0(int a1, int a2, __int16 a3, char a4)
{
  int v4; // edi@1
  int v5; // esi@1
  _WORD *v6; // eax@1
  __int16 v7; // bp@2
  int v8; // ecx@5
  __int64 v9; // rax@9
  __int64 v10; // rax@10
  bool v11; // sf@14
  unsigned __int8 v12; // of@14
  char result; // al@16
  int v14; // eax@18
  unsigned __int16 v15; // cx@19
  int v16; // esi@21
  char v17; // [sp+12h] [bp-Eh]@1
  char v18; // [sp+13h] [bp-Dh]@1
  int v19; // [sp+14h] [bp-Ch]@1
  int v20; // [sp+18h] [bp-8h]@1
  __int16 v21; // [sp+18h] [bp-8h]@15
  _WORD *v22; // [sp+1Ch] [bp-4h]@1
  unsigned __int16 v23; // [sp+1Ch] [bp-4h]@17

  v4 = a1;
  v5 = 0;
  v6 = (_WORD *)(a1 + 40);
  v18 = 0;
  v17 = 0;
  v19 = 0;
  v20 = 0;
  v22 = (_WORD *)(a1 + 40);
  do
  {
    v7 = 0;
    if ( *v6 )
    {
      do
      {
        if ( v17 )
          break;
        if ( a4
          && (v8 = *(_DWORD *)(v5 + a1 + 4) + 56 * v7, *(_BYTE *)(a2 + 23) == *(_BYTE *)(v8 + 23))
          && *(_WORD *)(v8 + 24) == *(_WORD *)(a2 + 24)
          && *(_WORD *)(v8 + 20) == *(_WORD *)(a2 + 20)
          && *(_DWORD *)(v8 + 32) == *(_DWORD *)(a2 + 32)
          && ((v9 = *(_WORD *)(v8 + 26) - (signed int)*(_WORD *)(a2 + 26),
               (signed int)((HIDWORD(v9) ^ v9) - HIDWORD(v9)) < 20)
           || (v10 = *(_WORD *)(v8 + 28) - (signed int)*(_WORD *)(a2 + 28),
               (signed int)((HIDWORD(v10) ^ v10) - HIDWORD(v10)) < 20)) )
        {
          v17 = 1;
        }
        else
        {
          v16 = *(_DWORD *)(v5 + a1 + 4) + 56 * v7;
          if ( sub_1000EFC0(v16, a2) )
          {
            if ( *(_WORD *)(a2 + 20) <= *(_WORD *)(v16 + 20) )
              v17 = 1;
            else
              sub_1000EBF0(v7, a1, v19);
            goto LABEL_13;
          }
        }
        ++v7;
LABEL_13:
        v6 = v22;
        v5 = v20;
      }
      while ( v7 < (signed int)*v22 );
    }
    ++v6;
    v5 += 4;
    v12 = __OFSUB__(v19 + 1, 9);
    v11 = (signed __int16)(v19++ - 8) < 0;
    v22 = v6;
    v20 = v5;
  }
  while ( v11 ^ v12 );
  v21 = 0;
  if ( v17 )
  {
LABEL_28:
    result = v18;
  }
  else
  {
    while ( 1 )
    {
      result = v18;
      if ( v18 )
        break;
      v23 = *(_WORD *)(v4 + 2);
      if ( v21 >= (signed int)v23 )
        goto LABEL_28;
      v14 = 56 * v21 + *(_DWORD *)(v4 + 4 * a3 + 4);
      if ( *(_WORD *)(a2 + 20) < *(_WORD *)(v14 + 20) )
      {
        ++v21;
      }
      else
      {
        v15 = *(_WORD *)(v4 + 2 * a3 + 40);
        if ( v15 >= v23 )
        {
          memcpy((void *)(v14 + 56), (const void *)v14, 56 * (v23 - v21 - 1));
          v4 = a1;
        }
        else
        {
          memcpy((void *)(v14 + 56), (const void *)v14, 56 * (v15 - v21));
          v4 = a1;
          ++*(_WORD *)(v4 + 2 * a3 + 40);
        }
        memcpy((void *)(56 * v21 + *(_DWORD *)(v4 + 4 * a3 + 4)), (const void *)a2, 0x38u);
        v18 = 1;
      }
    }
  }
  return result;
}

//----- (1000F530) --------------------------------------------------------
void __cdecl sub_1000F530(signed int a1, _BYTE *a2, int a3, int a4)
{
  __int16 v4; // cx@1
  signed __int16 v5; // dx@1
  char v6; // bl@2
  signed __int16 v7; // di@7
  double v8; // st7@8
  __int16 v9; // ax@10
  __int16 v10; // ax@13
  __int16 v11; // dx@16
  int v12; // edi@16
  __int16 v13; // si@16
  float v14; // [sp+10h] [bp-48h]@1
  int v15; // [sp+14h] [bp-44h]@1
  __int16 v16; // [sp+18h] [bp-40h]@1
  __int16 v17; // [sp+1Ch] [bp-3Ch]@1
  __int16 v18; // [sp+1Eh] [bp-3Ah]@16
  __int16 v19; // [sp+20h] [bp-38h]@16
  __int16 v20; // [sp+22h] [bp-36h]@16
  __int16 v21; // [sp+24h] [bp-34h]@16
  __int16 v22; // [sp+26h] [bp-32h]@16
  __int16 v23; // [sp+28h] [bp-30h]@16
  __int16 v24; // [sp+2Ah] [bp-2Eh]@16
  __int16 v25; // [sp+2Ch] [bp-2Ch]@16
  char v26; // [sp+2Eh] [bp-2Ah]@1
  unsigned __int16 v27; // [sp+30h] [bp-28h]@1
  unsigned __int8 v28; // [sp+32h] [bp-26h]@1
  char v29; // [sp+33h] [bp-25h]@1
  int v30; // [sp+36h] [bp-22h]@1
  char v31; // [sp+3Ch] [bp-1Ch]@7

  v4 = *(_WORD *)(a3 + 2);
  LOWORD(v30) = *(_WORD *)a3;
  HIWORD(v30) = v4;
  v27 = -32768;
  v29 = 18;
  v28 = 0;
  v26 = 86;
  v17 = 0;
  v15 = FNT_get_fnt_hdr(*(_BYTE *)dword_100E4980);
  v5 = sub_1000E9A0(a1, (int)&v17);
  v16 = v5;
  v14 = (double)(*(_WORD *)a3 - (signed int)*(_WORD *)a4);
  if ( v14 == 0.0 )
  {
    v6 = 0;
  }
  else
  {
    v6 = 1;
    v14 = (double)(*(_WORD *)(a3 + 2) - (signed int)*(_WORD *)(a4 + 2)) / v14;
  }
  if ( v5 < 9 && v27 > *(_WORD *)(dword_101D2844[v5] + 56 * (unsigned __int16)word_101D2842 - 36) && v28 != 4 )
  {
    sub_1004A220((int)&v31, a2, 24);
    v7 = sub_10019AF0(v15, a2, 1);
    if ( v6 )
    {
      v8 = v14;
      if ( v14 >= -1.0 && v8 < 0.0 )
      {
        LOWORD(v30) = *(_WORD *)a3 - v7 / 4;
        v9 = 5 * (v7 / 4);
LABEL_15:
        v10 = *(_WORD *)(a3 + 2) + v9;
        goto LABEL_16;
      }
      if ( v8 < 1.0 && v8 >= 0.0 )
      {
        LOWORD(v30) = *(_WORD *)a3 - v7 / 2;
        v10 = *(_WORD *)(a3 + 2) - 2 * (v7 / 3);
LABEL_16:
        HIWORD(v30) = v10;
        v11 = v30 + v7 + word_101D2840;
        v12 = dword_101D2800[v28];
        v18 = v30 - word_101D2840;
        v22 = v11;
        v19 = v10;
        v13 = v10 - *(_WORD *)(v12 + 24);
        v24 = v30 - word_101D2840;
        v20 = v11;
        v23 = v13;
        v21 = v10;
        v25 = v13;
        sub_1000F2E0((int)&word_101D2840, (int)&v17, v16, 0);
        return;
      }
    }
    LOWORD(v30) = *(_WORD *)a3 + v7 / 2;
    v9 = v7 / 3;
    goto LABEL_15;
  }
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 101D2800: using guessed type int dword_101D2800[];
// 101D2840: using guessed type __int16 word_101D2840;
// 101D2842: using guessed type __int16 word_101D2842;
// 101D2844: using guessed type int dword_101D2844[];

//----- (1000F780) --------------------------------------------------------
char __cdecl sub_1000F780(signed int a1, int a2, unsigned __int16 a3, unsigned __int8 a4, int *a5, signed __int16 a6)
{
  int v6; // ecx@1
  int v7; // edi@1
  char v8; // bl@1
  int v9; // edx@1
  __int16 v10; // di@1
  int v11; // ebx@4
  char result; // al@4
  __int16 v13; // [sp+14h] [bp-3Ch]@1
  __int16 v14; // [sp+16h] [bp-3Ah]@4
  __int16 v15; // [sp+18h] [bp-38h]@4
  __int16 v16; // [sp+1Ah] [bp-36h]@4
  __int16 v17; // [sp+1Ch] [bp-34h]@4
  __int16 v18; // [sp+1Eh] [bp-32h]@4
  __int16 v19; // [sp+20h] [bp-30h]@4
  __int16 v20; // [sp+22h] [bp-2Eh]@4
  __int16 v21; // [sp+24h] [bp-2Ch]@4
  char v22; // [sp+26h] [bp-2Ah]@1
  unsigned __int16 v23; // [sp+28h] [bp-28h]@1
  unsigned __int8 v24; // [sp+2Ah] [bp-26h]@1
  char v25; // [sp+2Bh] [bp-25h]@1
  int v26; // [sp+2Eh] [bp-22h]@1
  bool v27; // [sp+34h] [bp-1Ch]@1
  int v28; // [sp+38h] [bp-18h]@1
  int v29; // [sp+3Ch] [bp-14h]@1
  int v30; // [sp+40h] [bp-10h]@1
  int v31; // [sp+44h] [bp-Ch]@1
  int v32; // [sp+48h] [bp-8h]@1

  v6 = *a5;
  v28 = *(_DWORD *)a2;
  v29 = *(_DWORD *)(a2 + 4);
  v30 = *(_DWORD *)(a2 + 8);
  v7 = *(_DWORD *)(a2 + 12);
  v32 = *(_DWORD *)(a2 + 16);
  v27 = a4 == 9;
  v8 = byte_10078EBC[5 * a4];
  v13 = 0;
  v9 = (unsigned __int8)byte_10078EB9[5 * a4];
  v25 = v8 & 0x1E;
  v31 = v7;
  v26 = v6;
  LOBYTE(v6) = *(_BYTE *)(v9 + a1 + 8049);
  LOWORD(v9) = (unsigned __int8)byte_10078EBA[5 * a4] + -32768;
  v22 = byte_10078EBB[5 * a4];
  v24 = v6;
  v23 = v9;
  sub_1000F1A0(a3, (int)&v13, (int)&word_101D2840);
  v10 = sub_1000E9A0(a1, (int)&v13);
  if ( v10 >= 9 || v23 <= *(_WORD *)(dword_101D2844[v10] + 56 * (unsigned __int16)word_101D2842 - 36) || v24 == 4 )
  {
    result = 0;
  }
  else
  {
    LOWORD(v26) = a6 / -2 + v26;
    HIWORD(v26) -= word_101D2840 + *(_BYTE *)(BMP_get_info(a3) + 2);
    v11 = dword_101D2800[v24];
    v14 = v26 - word_101D2840;
    v15 = word_101D2840 + HIWORD(v26);
    v18 = a6 + word_101D2840 + v26;
    v19 = HIWORD(v26) - *(_WORD *)(v11 + 24) - word_101D2840;
    v16 = a6 + word_101D2840 + v26;
    v17 = word_101D2840 + HIWORD(v26);
    v20 = v26 - word_101D2840;
    v21 = v19;
    result = sub_1000F2E0((int)&word_101D2840, (int)&v13, v10, 0);
  }
  return result;
}
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 101D2800: using guessed type int dword_101D2800[];
// 101D2840: using guessed type __int16 word_101D2840;
// 101D2842: using guessed type __int16 word_101D2842;
// 101D2844: using guessed type int dword_101D2844[];

//----- (1000F950) --------------------------------------------------------
void __fastcall sub_1000F950(int a1)
{
  int v1; // [sp+0h] [bp-4h]@1

  v1 = a1;
  do
  {
    byte_101D27E8 = 0;
    sub_100179A0(&v1);
    byte_101D27E8 = 1;
    if ( v1 & 0x200 )
    {
      if ( !byte_101EFA35 )
        sub_10004CA0();
    }
  }
  while ( v1 );
}
// 101D27E8: using guessed type char byte_101D27E8;
// 101EFA35: using guessed type char byte_101EFA35;

//----- (1000F990) --------------------------------------------------------
char sub_1000F990()
{
  char result; // al@4

  if ( sub_100178A0(20, 30000) )
  {
    result = sub_100175E0(".\\mpm\\mpm_c_main.c", 230, 1, 0);
  }
  else
  {
    if ( sub_100178D0(62, 1) )
      sub_100175E0(".\\mpm\\mpm_c_main.c", 224, 0, 0);
    result = sub_10017820(20);
  }
  return result;
}

//----- (1000F9F0) --------------------------------------------------------
int __cdecl sub_1000F9F0(int a1, int a2)
{
  int result; // eax@3

  if ( a2 )
  {
    if ( *(_BYTE *)(a2 + 74) != 4 )
    {
      result = *(_BYTE *)(a2 + 3682);
      if ( *((_BYTE *)&word_101E4FFC + result) == *(_BYTE *)(a2 + 8030) && *(_BYTE *)(a2 + 1346) == 1 )
      {
        if ( byte_101D27E8 )
          sub_1000F990();
        *(_BYTE *)a2 = 0;
        *(_BYTE *)(a2 + 74) = 2;
        result = sub_10017900(62, 512);
      }
    }
  }
  return result;
}
// 101D27E8: using guessed type char byte_101D27E8;
// 101E4FFC: using guessed type __int16 word_101E4FFC;

//----- (1000FA50) --------------------------------------------------------
char *__cdecl sub_1000FA50(unsigned __int8 a1)
{
  return (char *)&unk_1007BEA0 + 24 * a1;
}

//----- (1000FA60) --------------------------------------------------------
signed int __cdecl sub_1000FA60(signed int a1, int a2, _BYTE *a3)
{
  signed int result; // eax@1
  int v4; // edx@3
  int v5; // eax@3
  int v6; // esi@3
  int v7; // ecx@3
  unsigned int v8; // ecx@4
  int v9; // esi@4
  int v10; // edx@5
  bool v11; // zf@5
  bool v12; // sf@5
  unsigned __int8 v13; // of@5
  int v14; // edx@6
  int v15; // esi@7

  result = a1;
  *a3 = 0;
  if ( *(_DWORD *)(a1 + 8) <= *(_DWORD *)a2 && *(_DWORD *)a1 >= *(_DWORD *)(a2 + 8) )
  {
    v4 = *(_DWORD *)(a1 + 4);
    v5 = *(_DWORD *)(a1 + 12);
    v6 = *(_DWORD *)(a2 + 4);
    v7 = *(_DWORD *)(a2 + 12);
    if ( v4 - v5 >= (unsigned int)(v6 - v7) )
    {
      result = v5 + 2147483648;
      v14 = v4 - result;
      if ( v7 - result > v14 )
      {
        v15 = v6 - result;
        v13 = __OFSUB__(v15, v14);
        v11 = v15 == v14;
        v12 = v15 - v14 < 0;
LABEL_8:
        if ( !((unsigned __int8)(v12 ^ v13) | v11) )
          return result;
        goto LABEL_9;
      }
    }
    else
    {
      v8 = v7 + 2147483648;
      v9 = v6 - v8;
      result = v5 - v8;
      if ( result > v9 )
      {
        v10 = v4 - v8;
        v13 = __OFSUB__(v10, v9);
        v11 = v10 == v9;
        v12 = v10 - v9 < 0;
        goto LABEL_8;
      }
    }
LABEL_9:
    *a3 = 1;
  }
  return result;
}

//----- (1000FAD0) --------------------------------------------------------
signed int __cdecl sub_1000FAD0(int a1, int a2, _BYTE *a3)
{
  signed int result; // eax@1

  *a3 = 0;
  result = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 <= *(_DWORD *)a1 && result >= *(_DWORD *)(a1 + 8) )
  {
    result = *(_DWORD *)(a1 + 12) + 2147483648;
    if ( *(_DWORD *)(a2 + 4) - result <= *(_DWORD *)(a1 + 4) - result )
      *a3 = 1;
  }
  return result;
}

//----- (1000FB10) --------------------------------------------------------
void *__fastcall sub_1000FB10(unsigned __int16 a1, int a2)
{
  void *result; // eax@3
  int v3; // ecx@4

  if ( a1 > *(_WORD *)a2 )
    a1 += *(_WORD *)a2 - *(_WORD *)(a2 + 2) + 1;
  result = &unk_1007C8AC;
  if ( (a1 & 0x8000u) == 0 )
  {
    v3 = *(_DWORD *)(a2 + 8) + 4 * (signed __int16)a1;
    if ( (*(_BYTE *)(v3 + 1) & 0xC) != 4 )
      result = (void *)v3;
  }
  return result;
}

//----- (1000FB50) --------------------------------------------------------
void *__usercall sub_1000FB50@<eax>(int a1@<edx>, int a2@<esi>)
{
  void *result; // eax@1

  *(_DWORD *)a2 = 0;
  *(_DWORD *)(a2 + 4) = 0;
  *(_DWORD *)(a2 + 8) = 0;
  *(_DWORD *)(a2 + 12) = 0;
  result = sub_1000FB10(*(_WORD *)(a2 + 4), a1);
  *(_DWORD *)a2 = result;
  return result;
}

//----- (1000FB70) --------------------------------------------------------
void *__usercall sub_1000FB70@<eax>(int a1@<edx>, int a2@<esi>)
{
  unsigned __int16 v2; // cx@1
  char v3; // al@1
  unsigned __int16 v4; // di@1
  int v5; // eax@2
  void *result; // eax@4
  unsigned __int16 v7; // cx@5

  v2 = *(_WORD *)(a2 + 4);
  *(_DWORD *)(a2 + 8) = *(_DWORD *)a2;
  v3 = *(_BYTE *)(a2 + 6);
  *(_WORD *)(a2 + 12) = v2;
  *(_BYTE *)(a2 + 14) = v3;
  v4 = *(_WORD *)a1;
  if ( v2 <= *(_WORD *)a1 )
    v5 = v2;
  else
    v5 = v4 - *(_WORD *)(a1 + 2) + v2 + 1;
  result = (void *)(*(_DWORD *)(a1 + 8) + 4 * v5);
  if ( v2 == v4 )
  {
    v7 = *(_WORD *)(a1 + 2);
  }
  else
  {
    if ( v2 >= *(_WORD *)(a1 + 4) )
    {
      result = 0;
      *(_WORD *)(a2 + 4) = 0;
      *(_BYTE *)(a2 + 6) = 0;
      *(_DWORD *)a2 = 0;
      return result;
    }
    v7 = v2 + 1;
  }
  *(_WORD *)(a2 + 4) = v7;
  if ( result )
    result = sub_1000FB10(v7, a1);
  *(_DWORD *)a2 = result;
  return result;
}

//----- (1000FBE0) --------------------------------------------------------
void *__usercall sub_1000FBE0@<eax>(_BYTE *a1@<ebx>, int a2@<edi>, _DWORD *a3)
{
  void *result; // eax@1
  int v4; // edx@2
  char v5; // [sp+8h] [bp-10h]@1
  int v6; // [sp+10h] [bp-8h]@2
  char v7; // [sp+16h] [bp-2h]@2

  *a3 = 0;
  *a1 = 0;
  result = sub_1000FB50(a2, (int)&v5);
  while ( result )
  {
    result = sub_1000FB70(a2, (int)&v5);
    v4 = v6;
    if ( !v7 )
    {
      ++*((_BYTE *)a3 + (*(_BYTE *)(v6 + 1) & 3));
      if ( *(_BYTE *)(*(_DWORD *)(a2 + 20) + 4 * *(_BYTE *)(v4 + 2) + 3) & 1 )
        ++*a1;
    }
  }
  return result;
}

//----- (1000FC40) --------------------------------------------------------
void *sub_1000FC40()
{
  return sub_1000FBE0(&unk_100FB324, (int)L"(@M7", &unk_100FB328);
}
// 1007BE84: using guessed type wchar_t a_m7[4];

//----- (1000FC60) --------------------------------------------------------
int __cdecl sub_1000FC60(int a1)
{
  int v1; // esi@1
  char v3; // [sp+8h] [bp-14h]@1
  char v4; // [sp+9h] [bp-13h]@1
  char v5; // [sp+Ah] [bp-12h]@1
  char v6; // [sp+Bh] [bp-11h]@1
  char v7; // [sp+Ch] [bp-10h]@1
  char v8; // [sp+Dh] [bp-Fh]@1
  char v9; // [sp+Eh] [bp-Eh]@1
  char v10; // [sp+Fh] [bp-Dh]@1
  int v11; // [sp+10h] [bp-Ch]@1
  int v12; // [sp+14h] [bp-8h]@1
  int v13; // [sp+18h] [bp-4h]@1

  v1 = a1;
  v12 = 12;
  sub_10017B40(3138, (void *)(a1 + 8578), 2, &v12);
  v3 = 3;
  sub_10017B40(3058, (void *)(v1 + 3550), 1, &v3);
  v4 = 1;
  sub_10017B40(3159, (void *)(v1 + 8558), 1, &v4);
  v5 = 0;
  sub_10017B40(9108, (void *)(v1 + 8589), 1, &v5);
  LOBYTE(a1) = 0;
  sub_10017B40(3067, (void *)(v1 + 8549), 1, &a1);
  v6 = 1;
  sub_10017B40(3059, (void *)(v1 + 8559), 1, &v6);
  v7 = 0;
  sub_10017B40(3060, (void *)(v1 + 3680), 1, &v7);
  LOBYTE(a1) = 0;
  sub_10017B40(3141, (void *)(v1 + 8041), 1, &a1);
  v3 = 0;
  sub_10017B40(3061, (void *)(v1 + 3549), 1, &v3);
  LOBYTE(a1) = 0;
  sub_10017B40(3062, (void *)(v1 + 3551), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3064, (void *)(v1 + 8542), 1, &a1);
  v8 = 0;
  sub_10017B40(3063, (void *)(v1 + 8541), 1, &v8);
  v9 = 3;
  sub_10017B40(3065, (void *)(v1 + 5), 1, &v9);
  v11 = *(_DWORD *)(dword_10504EE8 + 28400);
  sub_10017B40(3182, (void *)(v1 + 32), 4, &v11);
  v11 = *(_DWORD *)(dword_10504EE8 + 28404);
  sub_10017B40(3183, (void *)(v1 + 36), 4, &v11);
  v11 = 0;
  sub_10017B40(3187, (void *)(v1 + 40), 4, &v11);
  LOBYTE(a1) = 0;
  sub_10017B40(3072, (void *)(v1 + 3), 1, &a1);
  LOBYTE(a1) = 1;
  sub_10017B40(3066, (void *)(v1 + 4776), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3068, (void *)(v1 + 8580), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3069, (void *)(v1 + 8587), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3193, (void *)(v1 + 1143), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3070, (void *)(v1 + 1337), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3209, (void *)(v1 + 2), 1, &a1);
  v13 = 2700;
  sub_10017B40(3071, (void *)(v1 + 1340), 4, &v13);
  LOBYTE(a1) = 0;
  sub_10017B40(3073, (void *)(v1 + 8596), 1, &a1);
  LOBYTE(a1) = 1;
  sub_10017B40(3176, (void *)(v1 + 8597), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3074, (void *)(v1 + 8027), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3075, (void *)(v1 + 8641), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3150, (void *)(v1 + 8645), 1, &a1);
  LOBYTE(a1) = 1;
  sub_10017B40(3214, (void *)(v1 + 8646), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3148, (void *)(v1 + 8642), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3149, (void *)(v1 + 8643), 1, &a1);
  LOBYTE(a1) = 0;
  sub_10017B40(3208, (void *)(v1 + 8644), 1, &a1);
  v10 = 0;
  sub_10017B40(3179, (void *)(v1 + 48), 1, &v10);
  LOBYTE(a1) = 0;
  sub_10017B40(3207, (void *)(v1 + 8157), 1, &a1);
  LOBYTE(a1) = 74;
  sub_10017B40(3210, (void *)(v1 + 8158), 1, &a1);
  LOBYTE(a1) = 75;
  sub_10017B40(3212, (void *)(v1 + 8165), 1, &a1);
  LOBYTE(a1) = 76;
  return sub_10017B40(3877, (void *)(v1 + 8686), 1, &a1);
}
// 10504EE8: using guessed type int dword_10504EE8;

//----- (100100D0) --------------------------------------------------------
char __usercall sub_100100D0@<al>(int a1@<eax>, int a2@<ecx>)
{
  char result; // al@1

  a2 = (unsigned __int8)a2;
  result = *(_BYTE *)((unsigned __int8)a2 + a1 + 8073);
  if ( result == 29 )
  {
    if ( byte_100786F1[8 * a2] )
    {
      result = byte_100786F1[8 * a2];
    }
    else if ( !byte_100786F1[8 * a2] )
    {
      result = 0;
    }
  }
  return result;
}

//----- (10010100) --------------------------------------------------------
BOOL __usercall sub_10010100@<eax>(__int16 a1@<ax>)
{
  return a1 == 64 || a1 & 0x40 || a1 == 16 || a1 & 0x10 || a1 == 32 || a1 & 0x20;
}

//----- (10010130) --------------------------------------------------------
signed int sub_10010130()
{
  bool v0; // zf@1
  signed int result; // eax@1

  v0 = sub_10021A00() == 1;
  result = 7;
  if ( v0 )
    result = 15;
  return result;
}

//----- (10010150) --------------------------------------------------------
int __cdecl sub_10010150(int a1, signed int a2, int a3)
{
  int v3; // ebp@1
  signed int v4; // eax@1
  __int16 v5; // di@1
  signed int v6; // eax@7
  double v7; // st7@7
  char *v8; // ST10_4@12
  int result; // eax@12

  v3 = *(_BYTE *)(a1 + 3622);
  LOWORD(v4) = 0;
  v5 = 0;
  switch ( v3 )
  {
    case 1:
      v4 = (signed int)(1852.0 / *(float *)(a1 + 8236));
      v5 = v4;
      break;
    case 2:
      v4 = (signed int)(3704.0 / *(float *)(a1 + 8236));
      v5 = v4;
      break;
    case 3:
      v4 = (signed int)(9260.0 / *(float *)(a1 + 8236));
      v5 = v4;
      break;
    case 4:
      v4 = (signed int)(18520.0 / *(float *)(a1 + 8236));
      v5 = v4;
      break;
    case 5:
      v4 = (signed int)(46300.0 / *(float *)(a1 + 8236));
      v5 = v4;
      break;
    case 6:
      v6 = (signed int)(46300.0 / *(float *)(a1 + 8236));
      v7 = 92600.0 / *(float *)(a1 + 8236);
      goto LABEL_10;
    case 7:
      v6 = (signed int)(46300.0 / *(float *)(a1 + 8236));
      v7 = 185200.0 / *(float *)(a1 + 8236);
      goto LABEL_10;
    case 8:
      v6 = (signed int)(46300.0 / *(float *)(a1 + 8236));
      v7 = 370400.0 / *(float *)(a1 + 8236);
LABEL_10:
      v5 = v6;
      v4 = (signed int)v7;
      break;
    default:
      break;
  }
  if ( *(_BYTE *)(a1 + 3622) >= 5u )
  {
    result = sub_10005C70(a2, a3, v4, v5, off_10078C0C[v3], "25");
  }
  else
  {
    v8 = off_10078C0C[*(_BYTE *)(a1 + 3622)];
    result = sub_10005C70(a2, a3, v4, v5, v8, v8);
  }
  return result;
}
// 10078C0C: using guessed type char *off_10078C0C[74];

//----- (100102D0) --------------------------------------------------------
void __cdecl sub_100102D0(int a1, int a2, int a3)
{
  int v3; // esi@1
  signed int v4; // ecx@1
  __int16 v5; // di@1
  unsigned __int8 v6; // al@3
  int v7; // [sp+14h] [bp+4h]@1

  v3 = a1;
  v4 = *(_WORD *)(a1 + 3824);
  v7 = *(_WORD *)(a1 + 3824) / 4;
  v5 = v4 / 2;
  if ( *(_BYTE *)(v3 + 1129) == 1 )
  {
    v7 = *(_WORD *)(v3 + 3822) / 4;
    v5 = *(_WORD *)(v3 + 3822) / 2;
  }
  v6 = *(_BYTE *)(v3 + 3622);
  if ( v6 == 1 || v6 - 1 <= 0 )
  {
    sub_10007C80(a2, a3, v5, 1, 1, 1);
    sub_100060B0(a2, a3, v5, off_10078C0C[*(_BYTE *)(v3 + 3622)]);
  }
  else
  {
    sub_10007C80(a2, a3, v7, 1, 0, 1);
    sub_100060B0(a2, a3, v7, *((_BYTE **)&off_10078B74 + *(_BYTE *)(v3 + 3622)));
    sub_10007C80(a2, a3, v5, 1, 1, 1);
    sub_100060B0(a2, a3, v5, off_10078C0C[*(_BYTE *)(v3 + 3622)]);
  }
}
// 10078C0C: using guessed type char *off_10078C0C[74];

//----- (100103E0) --------------------------------------------------------
char __cdecl sub_100103E0(unsigned __int8 a1, signed int a2, int a3, char a4)
{
  char v4; // bl@1
  char result; // al@1
  int v6; // edx@3
  char *v7; // esi@4

  v4 = byte_1007D3E0[a1];
  result = byte_1007D3E0[a1] - 2;
  if ( a4 )
  {
    if ( a2 > -32767 )
    {
      v6 = 0;
      if ( (unsigned __int8)v4 - 2 > 0 )
      {
        v7 = (char *)&unk_1007D3E8 + 96 * a1;
        while ( a2 - a3 < *(_WORD *)v7 )
        {
          ++v6;
          v7 += 16;
          if ( v6 >= (unsigned __int8)v4 - 2 )
            return result;
        }
        result = v6;
      }
    }
  }
  return result;
}

//----- (10010440) --------------------------------------------------------
char __cdecl sub_10010440(unsigned __int8 a1, signed int a2, int a3, int a4, char a5)
{
  return byte_1007D3F5[16 * ((unsigned __int8)sub_100103E0(a1, a2, a3, a5) + 6 * a1)];
}

//----- (10010480) --------------------------------------------------------
char __cdecl sub_10010480(unsigned __int8 a1, signed int a2, int a3, char a4)
{
  return byte_1007D3F4[16 * ((unsigned __int8)sub_100103E0(a1, a2, a3, a4) + 6 * a1)];
}

//----- (100104C0) --------------------------------------------------------
int __cdecl sub_100104C0(int a1)
{
  int v1; // esi@1

  v1 = a1;
  *(_BYTE *)(a1 + 8040) = 0;
  *(_BYTE *)(v1 + 8548) = 0;
  *(_BYTE *)(v1 + 8492) = sub_1004D4C0();
  byte_10100319 = 0;
  LOBYTE(a1) = 0;
  return sub_10017B40(9215, (void *)(v1 + 8493), 1, &a1);
}
// 10100319: using guessed type char byte_10100319;

//----- (10010510) --------------------------------------------------------
bool __cdecl sub_10010510(__int16 a1, __int16 a2)
{
  return (a1 == 64 || a1 & 0x40) && a2 != 64 && !(a2 & 0x40)
      || a1 != 64 && !(a1 & 0x40) && (a2 == 64 || a2 & 0x40)
      || (a1 == 16 || a1 & 0x10) && a2 != 16 && !(a2 & 0x10)
      || a1 != 16 && !(a1 & 0x10) && (a2 == 16 || a2 & 0x10)
      || (a1 == 2 || a1 & 2) && a2 != 2 && !(a2 & 2)
      || a1 != 2 && !(a1 & 2) && (a2 == 2 || a2 & 2)
      || (a1 == 4 || a1 & 4) && a2 != 4 && !(a2 & 4)
      || (a1 == 32 || a1 & 0x20) && a2 != 32 && !(a2 & 0x20);
}

//----- (100105D0) --------------------------------------------------------
BOOL sub_100105D0()
{
  return (!(unsigned __int8)sub_1003AAA0(0) || sub_10016E80())
      && (!(unsigned __int8)sub_1003AAA0(1) || sub_10016E60())
      && (!(unsigned __int8)sub_1003AAA0(2) || sub_10016E30());
}

//----- (10010620) --------------------------------------------------------
void __cdecl sub_10010620(int a1, signed int a2)
{
  int v2; // ecx@1
  bool v3; // zf@1

  v2 = a1;
  v3 = *(_BYTE *)(a1 + 8559) == 0;
  LOWORD(a1) = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
  if ( v3 )
  {
    HIWORD(a1) = *(_WORD *)(v2 + 3820) + 7 * (*(_WORD *)(v2 + 3824) / 8);
    sub_10010150(v2, a2, (int)&a1);
  }
  else
  {
    HIWORD(a1) = *(_WORD *)(v2 + 3820) + *(_WORD *)(v2 + 3824) / 2;
    sub_100102D0(v2, a2, (int)&a1);
  }
}

//----- (100106B0) --------------------------------------------------------
char __cdecl sub_100106B0(int a1, int a2)
{
  char *v2; // ebp@1
  int v3; // eax@1
  char v4; // dl@6
  __int16 v5; // ax@10
  __int16 v6; // cx@10
  char *v7; // eax@12
  char *v8; // eax@26
  char *v9; // eax@28

  v2 = sub_1004D8D0(6u);
  LOBYTE(v3) = *(_BYTE *)(a1 + 8492);
  if ( (_BYTE)v3 == 4 || (_BYTE)v3 == 2 )
  {
    v4 = 0;
LABEL_9:
    if ( !*(_BYTE *)(a1 + 3644) )
      return v3;
    v5 = *(_WORD *)(a1 + 8560);
    v6 = *(_WORD *)(a1 + 8560);
    if ( v6 == 64 || v6 & 0x40 )
    {
      v7 = sub_1004D8D0(word_1007D640[2 * (unsigned __int8)v4]);
    }
    else if ( v5 == 16 || v5 & 0x10 || v5 == 32 || v5 & 0x20 )
    {
      v7 = sub_1004D8D0(word_1007D642[2 * (unsigned __int8)v4]);
    }
    else
    {
      if ( (unsigned __int8)sub_100105D0() )
        goto LABEL_21;
      v7 = sub_1004D8D0(0x196Au);
    }
    v2 = v7;
LABEL_21:
    v3 = memcmp(v2, &byte_10077A17, 1);
    if ( v3 > 0 )
      LOBYTE(v3) = sub_100061F0(a1, a2, v2, 81, 0);
    return v3;
  }
  if ( (_BYTE)v3 == 3 || (_BYTE)v3 == 6 )
  {
    v4 = 1;
    goto LABEL_9;
  }
  if ( (_BYTE)v3 == 5 )
  {
    v4 = 2;
    goto LABEL_9;
  }
  if ( !(_BYTE)v3 || (_BYTE)v3 == 8 )
  {
    if ( *(_BYTE *)(a1 + 3644) )
    {
      LOBYTE(v3) = sub_100105D0();
      if ( !(_BYTE)v3 )
      {
        v9 = sub_1004D8D0(0x127Cu);
        LOBYTE(v3) = sub_100061F0(a1, a2, v9, 81, 0);
      }
    }
    else
    {
      v8 = sub_1004D8D0(0x6D2u);
      LOBYTE(v3) = sub_100061F0(a1, a2, v8, 81, 1);
    }
  }
  return v3;
}
// 1007D640: using guessed type __int16 word_1007D640[];
// 1007D642: using guessed type __int16 word_1007D642[];

//----- (100107F0) --------------------------------------------------------
char __usercall sub_100107F0@<al>(__int16 a1@<ax>, __int16 a2@<cx>, int a3@<edi>, char a4)
{
  char result; // al@3

  if ( a2 != a1 || a1 == -32767 )
  {
    if ( *(_BYTE *)(a3 + 8592) )
    {
      if ( a2 == -32767 )
        result = 25;
      else
        result = byte_101CA7E0[(a2 + 1000) & 0x7FFF];
    }
    else if ( a2 == -32767 )
    {
      result = byte_1007D3E4[16 * ((unsigned __int8)byte_1007D3E0[*(_BYTE *)(a3 + 8493)] + 6 * *(_BYTE *)(a3 + 8493))];
    }
    else
    {
      result = sub_10010480(*(_BYTE *)(a3 + 8493), a2, (signed int)*(float *)(a3 + 3648), *(_BYTE *)(a3 + 8548));
    }
  }
  else
  {
    result = a4;
  }
  return result;
}

//----- (10010880) --------------------------------------------------------
char __cdecl sub_10010880(int a1)
{
  int v1; // ebp@1
  int v2; // ecx@1
  int v3; // edx@1
  int v4; // edi@1
  int v5; // esi@3
  int v6; // ebx@3
  int v7; // ecx@4
  int v8; // eax@4
  int v9; // ebp@7
  int v10; // edx@7
  double v11; // st7@8
  double v12; // st7@18
  int v13; // ecx@20
  double v14; // st7@20
  char result; // al@34
  float v16; // [sp+8h] [bp-134h]@1
  int v17; // [sp+Ch] [bp-130h]@1
  int v18; // [sp+10h] [bp-12Ch]@1
  int v19; // [sp+18h] [bp-124h]@1
  float v20; // [sp+1Ch] [bp-120h]@8
  int v21; // [sp+24h] [bp-118h]@4
  int v22; // [sp+2Ch] [bp-110h]@4
  int v23; // [sp+30h] [bp-10Ch]@4
  int v24; // [sp+34h] [bp-108h]@4
  int v25; // [sp+38h] [bp-104h]@4
  int v26; // [sp+3Ch] [bp-100h]@4
  int v27; // [sp+40h] [bp-FCh]@4
  float v28[2]; // [sp+44h] [bp-F8h]@32
  float v29; // [sp+4Ch] [bp-F0h]@1
  char v30; // [sp+50h] [bp-ECh]@8
  char v31[235]; // [sp+51h] [bp-EBh]@8

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 3576);
  v3 = *(_DWORD *)(a1 + 3584);
  v4 = *(_DWORD *)(a1 + 3580);
  v17 = *(_DWORD *)(a1 + 3572);
  v18 = v2;
  v19 = v3;
  memset(&v29, 0, 0xF0u);
  if ( sub_10061AE0(&v16) || LOWORD(v16) > 0x1Eu )
  {
    result = 0;
  }
  else
  {
    v5 = 0;
    v6 = 1;
    if ( LOWORD(v16) >= 1u )
    {
      do
      {
        sub_10061AA0(v6, &v23);
        v22 = 2 * v25;
        v7 = 2 * v26;
        v8 = 2 * v24;
        v21 = 2 * v27;
        if ( v4 <= 2 * v26 )
        {
          if ( v19 <= 2 * v27 && v17 >= v8 )
          {
            v9 = v18;
            v10 = v22;
            if ( v18 >= v22 )
            {
              v11 = (double)v23;
              *(&v30 + 8 * v5) = v6;
              v31[8 * v5] = 1;
              v20 = v11 * 0.009330691929342825;
              *(&v29 + 2 * v5) = (v20 + v20) * 0.25;
              if ( v4 >= v8 && v19 >= v10 && v17 <= v7 && v9 <= v21 )
                v31[8 * v5] = 0;
              ++v5;
            }
          }
          v1 = a1;
        }
        ++v6;
      }
      while ( v6 <= LOWORD(v16) );
    }
    if ( *(_BYTE *)(v1 + 8550) || *(_BYTE *)(v1 + 3622) <= 0xFu )
      v12 = *(float *)(v1 + 8236) * 0.75;
    else
      v12 = *(float *)(v1 + 8236);
    v13 = 0;
    v16 = v12;
    v14 = v16;
    if ( v5 <= 0 )
      goto LABEL_26;
    while ( *(&v29 + 2 * v13) <= v14 || v31[8 * v13] )
    {
      if ( ++v13 >= v5 )
        goto LABEL_26;
    }
    if ( v13 == -1 )
    {
LABEL_26:
      v13 = 0;
      if ( v5 <= 0 )
        return 0;
      while ( *(&v29 + 2 * v13) <= v14 )
      {
        if ( ++v13 >= v5 )
          goto LABEL_31;
      }
      if ( v13 != -1 )
        goto LABEL_36;
LABEL_31:
      if ( v5 <= 0 )
        return 0;
      if ( v28[2 * v5] >= v14 )
        return 0;
      v13 = v5 - 1;
      if ( !v5 )
        return 0;
    }
LABEL_36:
    result = *(&v30 + 8 * v13);
  }
  return result;
}
// 10010880: using guessed type char var_EB[235];
// 10010880: using guessed type float var_F8[2];

//----- (10010A70) --------------------------------------------------------
int __usercall sub_10010A70@<eax>(float *a1@<eax>, void *a2@<ecx>, float *a3)
{
  float *v3; // esi@1
  double v4; // st7@2
  float v5; // ST14_4@4
  signed int v6; // esi@4
  float v7; // ST18_4@4
  float v8; // ST10_4@4
  float v9; // ST00_4@4
  int result; // eax@4
  float v11; // [sp+10h] [bp-Ch]@2

  v3 = a1;
  if ( sub_1004ACC0(a2) == 12 )
  {
    v11 = *v3 * 3.280839895013123;
    v4 = 20.0;
  }
  else
  {
    v11 = *v3;
    v4 = 10.0;
  }
  v5 = v4;
  v6 = (signed int)v11;
  v7 = (double)(v6 / 10000);
  v8 = (double)((v6 - 10000 * (signed int)v7) / 1000);
  v9 = (double)(v6 - 1000 * ((signed int)v8 + 10 * (signed int)v7));
  *a3 = sub_100638C0(v9, v5) + v8 * 1000.0 + v7 * 10000.0;
  return result;
}

//----- (10010B60) --------------------------------------------------------
unsigned __int8 __usercall sub_10010B60@<al>(int a1@<edx>, int a2@<ecx>, unsigned __int8 a3)
{
  int v3; // esi@1
  unsigned __int8 result; // al@1
  int v5; // ecx@5
  int v6; // ebp@5
  int v7; // edi@5
  int v8; // ebx@5
  int v9; // eax@5
  int v10; // edx@5
  int v11; // esi@6
  __int16 v12; // cx@7
  int v13; // eax@7
  int v14; // esi@8
  char v15; // [sp+4h] [bp-7Ch]@5
  char v16; // [sp+8h] [bp-78h]@5
  char v17; // [sp+Ch] [bp-74h]@5
  char v18; // [sp+10h] [bp-70h]@5
  int v19; // [sp+14h] [bp-6Ch]@5
  int v20; // [sp+18h] [bp-68h]@5
  int v21; // [sp+1Ch] [bp-64h]@5
  int v22; // [sp+20h] [bp-60h]@5
  int v23; // [sp+24h] [bp-5Ch]@5
  int v24; // [sp+28h] [bp-58h]@5
  int v25; // [sp+2Ch] [bp-54h]@5
  int v26; // [sp+30h] [bp-50h]@5
  char v27; // [sp+34h] [bp-4Ch]@9

  v3 = a2;
  result = *(_BYTE *)(a2 + 8592);
  if ( result )
  {
    if ( !a3 )
      return result;
    if ( result )
      goto LABEL_12;
  }
  result = a3;
  if ( a3 != byte_1007D3F4[16 * ((unsigned __int8)byte_1007D3E0[*(_BYTE *)(a2 + 8493)] + 6 * *(_BYTE *)(a2 + 8493) - 2)] )
  {
LABEL_12:
    v5 = *(_DWORD *)(a1 + 12);
    v6 = *(_DWORD *)(v3 + 3628);
    v7 = *(_DWORD *)a1;
    v8 = 2 * *(_DWORD *)(a1 + 8) - v6;
    v9 = *(_DWORD *)(v3 + 3632);
    v10 = 2 * *(_DWORD *)(a1 + 4);
    v20 = 2 * v5 - v9;
    v22 = 2 * v5 - v9;
    v19 = v8;
    v21 = v6 + 2 * v7;
    v23 = v6 + 2 * v7;
    v24 = v10 + v9;
    v25 = v8;
    v26 = v10 + v9;
    sub_10015280(v3, (int)&v19, (int)&v15);
    sub_10015280(v3, (int)&v21, (int)&v16);
    sub_10015280(v3, (int)&v23, (int)&v17);
    sub_10015280(v3, (int)&v25, (int)&v18);
    if ( *(_BYTE *)(v3 + 8592) )
    {
      *(_WORD *)(v3 + 3988) = a3;
      *(_WORD *)(v3 + 3990) = a3;
      v11 = v3 + 3940;
      sub_1001F410(v11, (int)&v15, (int)&v16, (int)&v17);
      result = sub_1001F410(v11, (int)&v15, (int)&v18, (int)&v17);
    }
    else
    {
      v12 = word_1007D4C4[6 * a3];
      v13 = 6 * a3;
      if ( v12 == 3 )
      {
        *(_WORD *)(v3 + 3988) = word_1007D4C2[v13];
        *(_WORD *)(v3 + 3990) = word_1007D4C0[v13];
        v14 = v3 + 3940;
        sub_1001F410(v14, (int)&v15, (int)&v16, (int)&v17);
        result = sub_1001F410(v14, (int)&v15, (int)&v18, (int)&v17);
      }
      else
      {
        *(_WORD *)(v3 + 3946) = v12;
        *(_DWORD *)(v3 + 4000) = *(void **)((char *)&off_1007D4C8 + v13 * 2);
        *(_WORD *)(v3 + 3988) = word_1007D4C2[v13];
        *(_WORD *)(v3 + 3990) = word_1007D4C0[v13];
        result = sub_1001AE30(v3 + 3940, 4, (int)&v15, 72, (int)&v27);
      }
    }
  }
  return result;
}
// 1007D4C0: using guessed type __int16 word_1007D4C0[];
// 1007D4C2: using guessed type __int16 word_1007D4C2[];
// 1007D4C4: using guessed type __int16 word_1007D4C4[];
// 1007D4C8: using guessed type void *off_1007D4C8;

//----- (10010D90) --------------------------------------------------------
char __cdecl sub_10010D90(int a1)
{
  __int16 v1; // di@1
  unsigned int v2; // eax@1
  char v3; // al@12

  v1 = sub_1004D470();
  if ( !sub_10016E80() )
    return 0;
  if ( *(_BYTE *)(a1 + 8576) )
  {
    if ( *(_BYTE *)(a1 + 8580) )
    {
      LOBYTE(v2) = 9;
      if ( sub_10005410(v2, a1) )
        return 1;
    }
  }
  if ( !*(_BYTE *)(a1 + 8548) || !*(_BYTE *)(a1 + 8549) || !*(_BYTE *)(a1 + 3644) )
  {
LABEL_10:
    if ( !*(_BYTE *)(a1 + 8550) )
      return 0;
    goto LABEL_11;
  }
  if ( !*(_BYTE *)(a1 + 8550) )
  {
    LOBYTE(v2) = 10;
    if ( sub_10005410(v2, a1) )
      return 1;
    goto LABEL_10;
  }
LABEL_11:
  if ( *(_BYTE *)(a1 + 3644) )
  {
    v3 = *(_BYTE *)(a1 + 8492);
    if ( !v3 || v3 == 8 || (unsigned __int8)sub_100105D0() && !(unsigned __int8)sub_10010100(v1) )
      return 1;
  }
  return 0;
}

//----- (10010E40) --------------------------------------------------------
int __cdecl sub_10010E40(int a1, int a2, int a3)
{
  __int16 v3; // ax@1
  int result; // eax@1

  v3 = word_1007D4A8[*(_BYTE *)(a2 + 12)
                   + 2
                   * ((*(_WORD *)(a2 + 10) >= 305)
                    + 2
                    * (unsigned __int8)sub_10010440(
                                         *(_BYTE *)(a1 + 8493),
                                         *(_WORD *)(a2 + 8),
                                         (signed int)*(float *)(a1 + 3648),
                                         -32767,
                                         *(_BYTE *)(a1 + 8548)))];
  *(_WORD *)a3 = v3;
  result = BMP_get_xfrm((unsigned __int16)v3);
  *(_DWORD *)(a3 + 4) = result;
  return result;
}
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 1007D4A8: using guessed type __int16 word_1007D4A8[];

//----- (10010EB0) --------------------------------------------------------
char __usercall sub_10010EB0@<al>(int a1@<ebp>, __int16 a2@<di>, int a3, int a4)
{
  void *v4; // ecx@1
  int v5; // edx@1
  __int16 v6; // ax@1
  __int16 v7; // ax@1
  bool v8; // zf@1
  __int16 v9; // ax@3
  int v10; // ST4C_4@3
  __int16 v11; // ST48_2@3
  int v12; // edi@3
  __int16 v13; // cx@3
  __int16 v14; // ax@3
  __int16 v15; // bp@3
  __int16 v16; // ax@3
  int v17; // edx@3
  int v18; // edi@3
  char *v19; // eax@3
  int v20; // edi@3
  __int16 v21; // ST24_2@3
  int v22; // ST28_4@3
  char *v23; // eax@3
  int v24; // eax@3
  __int16 v25; // di@3
  __int16 v26; // bp@3
  void *v27; // ecx@3
  int v28; // ST38_4@6
  __int16 v29; // dx@6
  __int16 v30; // ax@6
  __int16 v31; // cx@6
  __int16 v32; // dx@6
  char *v34; // [sp-Ch] [bp-60h]@4
  char *v35; // [sp-4h] [bp-58h]@4
  double v36; // [sp+0h] [bp-54h]@4
  signed int v37; // [sp+8h] [bp-4Ch]@4
  __int16 v38; // [sp+Ch] [bp-48h]@3
  int v39; // [sp+10h] [bp-44h]@3
  float v40; // [sp+1Ch] [bp-38h]@3
  char v41; // [sp+23h] [bp-31h]@1
  int v42; // [sp+24h] [bp-30h]@3
  __int16 v43; // [sp+2Ch] [bp-28h]@1
  __int16 v44; // [sp+2Eh] [bp-26h]@1
  int v45; // [sp+30h] [bp-24h]@1
  int v46; // [sp+34h] [bp-20h]@1
  void *v47; // [sp+38h] [bp-1Ch]@1
  char v48; // [sp+3Ch] [bp-18h]@1

  v4 = (void *)*(_WORD *)(a4 + 4);
  v5 = *(_DWORD *)(a4 + 36);
  v46 = *(_WORD *)(a4 + 6);
  v6 = *(_WORD *)(a4 + 34);
  v47 = v4;
  LOWORD(v4) = *(_WORD *)(a4 + 32);
  v45 = v5;
  v43 = v6;
  v44 = (signed __int16)v4;
  v48 = 0;
  LOBYTE(v7) = sub_1004ACC0(v4);
  v8 = *(_BYTE *)(a3 + 3681) == 4;
  v41 = v7;
  if ( !v8 && *(_BYTE *)(a3 + 3644) )
  {
    v9 = *(_WORD *)(a3 + 3818);
    v10 = a1;
    v11 = a2;
    v12 = *(_WORD *)(dword_104CEA60 + 6);
    v13 = v9;
    v14 = v9 - *(_WORD *)(dword_104CEA60 + 8);
    v15 = *(_WORD *)dword_104CEA60 + *(_WORD *)(a3 + 3820);
    LOWORD(v42) = *(_WORD *)(a3 + 3822) + v13 - v12;
    v16 = *(_WORD *)(a3 + 3822) + v14;
    v15 += 10;
    HIWORD(v42) = v15;
    LOWORD(v40) = v16;
    sub_10005A40(a3, a4);
    *(_WORD *)(a4 + 34) = 1;
    *(_WORD *)(a4 + 32) = 1;
    *(_WORD *)(a4 + 4) = 2;
    *(_WORD *)(a4 + 6) = 3;
    *(_WORD *)(a4 + 36) = 6;
    *(_WORD *)(a4 + 38) = 6;
    *(_WORD *)(a4 + 48) = 6;
    *(_WORD *)(a4 + 50) = 6;
    sub_1001CD40(a4, v42, v15, v12, *(_WORD *)(dword_104CEA60 + 40), 3);
    *(_WORD *)(a4 + 48) = 5;
    *(_WORD *)(a4 + 50) = 5;
    *(_WORD *)(a4 + 36) = 9;
    *(_WORD *)(a4 + 38) = 16;
    sub_1001CD40(a4, v42 + 1, HIWORD(v42) + 1, v12 - 3, *(_WORD *)(dword_104CEA60 + 40) - 3, 3);
    *(_WORD *)(a4 + 46) = v42;
    v17 = v42;
    *(_WORD *)(a4 + 44) = v15 + *(_WORD *)(dword_104CEA60 + 40) - 1;
    *(_WORD *)(a4 + 36) = 9;
    *(_WORD *)(a4 + 38) = 9;
    v18 = v17 + v12 - 1;
    sub_1001A8E0(a4, v18, v15 + *(_WORD *)(dword_104CEA60 + 40) - 1, 0);
    sub_1001A8E0(a4, v18, HIWORD(v42) - 1, 0);
    *(_WORD *)(a4 + 36) = -1;
    *(_WORD *)(a4 + 38) = 16;
    v19 = sub_1004D8D0(0xCFAu);
    sub_1004A340(&v48, 0x14u, v19);
    v20 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
    *(_WORD *)(a4 + 46) = LOWORD(v40);
    *(_WORD *)(a4 + 44) = *(_WORD *)dword_104CEA60 + v15 - (*(_WORD *)(v20 + 22) >> 1) - 5;
    sub_10019B50(a4, v20, &v48, 0, 1, v21, v22);
    v23 = sub_1004D8D0(0xD7Bu);
    sub_1004A340(&v48, 0x14u, v23);
    *(_WORD *)(a4 + 46) = LOWORD(v40);
    *(_WORD *)(a4 + 44) = v15 + 2 * (*(_WORD *)dword_104CEA60 - (*(_WORD *)(v20 + 22) >> 1) - 5);
    sub_10019B50(a4, v20, &v48, 0, 1, v11, v10);
    v24 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 6));
    LOWORD(v20) = *(_WORD *)(v24 + 24) + *(_WORD *)(dword_104CEA60 + 40) - *(_WORD *)(v24 + 22);
    v42 = v24;
    v25 = v15 + v20 - 4;
    *(_WORD *)(a4 + 36) = 6;
    *(_WORD *)(a4 + 38) = 6;
    v26 = LOWORD(v40);
    *(_WORD *)(a4 + 46) = LOWORD(v40) - 36;
    *(_WORD *)(a4 + 44) = v25 - *(_WORD *)(v24 + 24);
    sub_1001A8E0(a4, v26 + *(_WORD *)(dword_104CEA60 + 6) - 59, v25 - *(_WORD *)(v24 + 24), 1);
    *(_WORD *)(a4 + 36) = -1;
    *(_WORD *)(a4 + 38) = 15;
    sub_10010A70((float *)(a3 + 3648), v27, &v40);
    if ( v41 == 29 )
    {
      v37 = 155;
      v36 = v40;
      v35 = "%.0f%c";
      v34 = &v48;
    }
    else
    {
      v37 = 128;
      v36 = v40;
      v35 = "%.0f%c";
      v34 = &v48;
    }
    sub_1004A340(v34, 0x14u, v35, v36, v37);
    v28 = v42;
    *(_WORD *)(a4 + 46) = v26;
    *(_WORD *)(a4 + 44) = v25;
    sub_10019B50(a4, v28, &v48, 0, 1, v38, v39);
    v29 = HIWORD(v45);
    v30 = (signed __int16)v47;
    *(_WORD *)(a4 + 36) = v45;
    v31 = v46;
    *(_WORD *)(a4 + 38) = v29;
    v32 = v43;
    *(_WORD *)(a4 + 4) = v30;
    v7 = v44;
    *(_WORD *)(a4 + 6) = v31;
    *(_WORD *)(a4 + 34) = v32;
    *(_WORD *)(a4 + 32) = v7;
  }
  return v7;
}
// 10010EB0: could not find valid save-restore pair for ebp
// 10010EB0: could not find valid save-restore pair for edi
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;
// 104CEA60: using guessed type int dword_104CEA60;

//----- (10011260) --------------------------------------------------------
char __cdecl sub_10011260(int a1, int a2)
{
  __int16 v2; // bx@1
  signed int v3; // eax@1
  signed int v4; // ecx@12
  int v5; // edi@13
  int v6; // esi@14
  char *v7; // ebx@14
  int v8; // ecx@16
  int v9; // edi@17
  int v10; // eax@17
  __int16 v12; // [sp+Ch] [bp-164h]@16
  __int16 v13; // [sp+Eh] [bp-162h]@17
  int v14; // [sp+10h] [bp-160h]@1
  int v15; // [sp+14h] [bp-15Ch]@10
  int v16; // [sp+18h] [bp-158h]@12
  int v17; // [sp+1Ch] [bp-154h]@13
  int v18; // [sp+20h] [bp-150h]@16
  int v19; // [sp+24h] [bp-14Ch]@16
  __int16 v20; // [sp+28h] [bp-148h]@10
  char v21[316]; // [sp+34h] [bp-13Ch]@14

  v2 = sub_1004D470();
  v14 = (unsigned __int16)sub_1004D3D0();
  LOBYTE(v3) = a1;
  if ( *(_BYTE *)(a1 + 3644) )
  {
    LOBYTE(v3) = *(_BYTE *)(a1 + 8492);
    if ( (_BYTE)v3 )
    {
      if ( (_BYTE)v3 != 8 )
      {
        LOBYTE(v3) = sub_100105D0();
        if ( (_BYTE)v3 )
        {
          LOBYTE(v3) = sub_10010100(v2);
          if ( !(_BYTE)v3 && v2 != 8 && !(v2 & 8) )
          {
            LOBYTE(v3) = v14;
            if ( (_WORD)v14 != 2 && !(v14 & 2) )
            {
              sub_1004D2B0(&v20);
              v3 = 0;
              v15 = 0;
              v14 = 0;
              do
              {
                if ( *(__int16 *)((char *)&v20 + v3) > 0 )
                {
                  v4 = 0;
                  v16 = 0;
                  do
                  {
                    v5 = *(__int16 *)((char *)&v20 + v3) - 1;
                    v17 = v5;
                    if ( v5 >= 0 )
                    {
                      v6 = 2 * (v15 + v4);
                      v7 = &v21[16 * v5] + v3;
                      do
                      {
                        if ( *(v7 - 8) == byte_1007D620[v6 * 2] )
                        {
                          v8 = *((_DWORD *)v7 + 1);
                          v18 = *(_DWORD *)v7;
                          v19 = v8;
                          if ( !sub_10015280(a1, (int)&v18, (int)&v12) )
                          {
                            v9 = BMP_get_bm_def((unsigned __int16)word_1007D622[v6]);
                            v10 = BMP_get_xfrm((unsigned __int16)word_1007D622[v6]);
                            v12 -= *(_WORD *)(a1 + 3698);
                            v13 -= *(_WORD *)(a1 + 3700);
                            sub_10005690(a2, v9, v10, (int)&v12, 1);
                            v5 = v17;
                          }
                        }
                        --v5;
                        v7 -= 16;
                        v17 = v5;
                      }
                      while ( v5 >= 0 );
                      v3 = v14;
                      v4 = v16;
                    }
                    v16 = ++v4;
                  }
                  while ( v4 < 4 );
                }
                v15 += 4;
                v3 += 164;
                v14 = v3;
              }
              while ( v3 < 328 );
            }
          }
        }
      }
    }
  }
  return v3;
}
// 10061274: using guessed type int __cdecl BMP_get_xfrm(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);
// 1007D622: using guessed type __int16 word_1007D622[];
// 10011260: using guessed type char var_13C[316];

//----- (10011420) --------------------------------------------------------
char __cdecl sub_10011420(unsigned __int16 a1, int a2)
{
  __int16 v2; // ax@1
  __int16 v3; // cx@1
  _WORD *v4; // ebx@2
  signed int v5; // edi@3
  int v6; // edx@10
  int v7; // edi@11
  int v8; // ebx@11
  int v9; // eax@11
  bool v10; // zf@12
  __int16 v12; // [sp+Ch] [bp-24h]@1
  __int16 v13; // [sp+10h] [bp-20h]@10
  __int16 v14; // [sp+12h] [bp-1Eh]@11
  __int16 v15; // [sp+14h] [bp-1Ch]@11
  __int16 v16; // [sp+16h] [bp-1Ah]@11
  _WORD *v17; // [sp+18h] [bp-18h]@2
  int v18; // [sp+1Ch] [bp-14h]@2
  int v19; // [sp+20h] [bp-10h]@10
  int v20; // [sp+24h] [bp-Ch]@10
  unsigned __int16 v21; // [sp+28h] [bp-8h]@11
  int v22; // [sp+2Ch] [bp-4h]@11

  LOBYTE(v2) = a1;
  v3 = *(_WORD *)(a2 + 8042);
  v12 = *(_WORD *)(a2 + 8042);
  if ( a1 )
  {
    v4 = &unk_10100160;
    v17 = &unk_10100160;
    v18 = a1;
    do
    {
      v5 = *v4;
      LOBYTE(v2) = sub_10010440(
                     *(_BYTE *)(a2 + 8493),
                     v5,
                     (signed int)*(float *)(a2 + 3648),
                     -32767,
                     *(_BYTE *)(a2 + 8548));
      if ( (_BYTE)v2 == 2 || (_BYTE)v2 == 1 || *(_BYTE *)(a2 + 8040) && *(_BYTE *)(a2 + 8041) && !*(_BYTE *)(a2 + 8550) )
      {
        if ( v5 <= v12 )
          LOWORD(v5) = v12;
        v6 = *((_DWORD *)v4 - 1);
        v12 = v5;
        v19 = 2 * *((_DWORD *)v4 - 2);
        v20 = 2 * v6;
        v2 = sub_10015280(a2, (int)&v19, (int)&v13);
        if ( !v2 )
        {
          sub_10010E40(a2, (int)(v4 - 4), (int)&v21);
          v7 = v21;
          v8 = BMP_get_info(v21);
          v9 = BMP_get_bm_def(v7);
          v15 = v13 - *(_BYTE *)v8;
          v16 = v14 - *(_BYTE *)(v8 + 1);
          LOBYTE(v2) = sub_10005690(a2 + 3940, v9, v22, (int)&v15, 0);
          v4 = v17;
        }
      }
      v4 += 7;
      v10 = v18-- == 1;
      v17 = v4;
    }
    while ( !v10 );
    v3 = v12;
  }
  *(_WORD *)(a2 + 8042) = v3;
  return v2;
}
// 1006126E: using guessed type int __cdecl BMP_get_info(_DWORD);
// 1006127A: using guessed type int __cdecl BMP_get_bm_def(_DWORD);

//----- (10011580) --------------------------------------------------------
int __cdecl sub_10011580(unsigned __int16 a1, unsigned __int16 a2, int a3, int a4)
{
  int v4; // ebx@1
  int v5; // ebp@1
  int v6; // edi@1
  int v7; // ST10_4@1
  int v8; // eax@1
  int v9; // edx@1
  int result; // eax@1
  int v11; // eax@5
  int v12; // ST10_4@7
  int v13; // ebx@7
  int v14; // eax@8
  char *v15; // ebp@11
  __int16 v16; // cx@13
  __int16 v17; // dx@13
  char *v18; // ebp@13
  bool v19; // cf@13
  bool v20; // zf@13
  int v21; // eax@16
  int v22; // ecx@16
  __int16 v23; // bp@16
  char v24; // al@16
  bool v25; // sf@16
  unsigned __int8 v26; // of@16
  __int16 v27; // cx@19
  int v28; // ebp@22
  unsigned int v29; // ebp@25
  char v30; // [sp+12h] [bp-3Ah]@1
  char v31; // [sp+13h] [bp-39h]@16
  unsigned int v32; // [sp+14h] [bp-38h]@4
  unsigned int v33; // [sp+18h] [bp-34h]@13
  int v34; // [sp+1Ch] [bp-30h]@7
  char *v35; // [sp+20h] [bp-2Ch]@12
  unsigned int v36; // [sp+24h] [bp-28h]@1
  int v37; // [sp+28h] [bp-24h]@2
  int v38; // [sp+2Ch] [bp-20h]@2
  int v39; // [sp+30h] [bp-1Ch]@7
  int v40; // [sp+34h] [bp-18h]@1
  int v41; // [sp+38h] [bp-14h]@1
  int v42; // [sp+3Ch] [bp-10h]@1
  int v43; // [sp+40h] [bp-Ch]@1
  int v44; // [sp+44h] [bp-8h]@1
  int v45; // [sp+48h] [bp-4h]@1

  v4 = dword_10100330;
  v5 = a4;
  v6 = *(_DWORD *)(a4 + 12);
  *(_WORD *)(v6 + 3946) = 3;
  *(_DWORD *)(v6 + 4000) = 0xFFFF;
  v7 = *(_DWORD *)(a4 + 4) * a2;
  v40 = v4;
  v8 = sub_10061290(v4, v7);
  v9 = a1 * *(_DWORD *)a4;
  v41 = v8;
  v43 = v8;
  v44 = dword_100FB334;
  v45 = v4;
  v42 = dword_100FB334 + v9;
  sub_1000FA60((signed int)&dword_10100320, (int)&v42, &v30);
  result = 0;
  v36 = 0;
  if ( a1 )
  {
    v38 = 0;
    v37 = 0;
    do
    {
      v44 = dword_100FB334;
      dword_100FB334 += *(_DWORD *)v5;
      v42 = dword_100FB334;
      v45 = v4;
      v43 = v41;
      sub_1000FA60((signed int)&dword_10100320, (int)&v42, &v30);
      if ( v30 )
      {
        v32 = 0;
        if ( sub_10061330(v45, dword_1010032C) < 0 )
        {
          v11 = sub_10061330(dword_1010032C, v45);
          if ( v11 > 0 )
            v32 = (unsigned __int16)(v11 / *(_DWORD *)(v5 + 4));
        }
        v12 = (unsigned __int16)v32 * *(_DWORD *)(v5 + 4);
        v34 = (unsigned __int16)v32;
        v13 = sub_10061290(v4, v12);
        v45 = v13;
        v39 = a2;
        if ( sub_10061330(dword_10100324, v43) < 0 )
        {
          v14 = sub_10061330(dword_10100324, v45);
          if ( v14 > 0 )
            v39 = (unsigned __int16)(v14 / *(_DWORD *)(v5 + 4) + v32 + 1);
        }
        if ( *(_BYTE *)(v5 + 8) == 1 )
        {
          v15 = (char *)&unk_100FCF58 + 2 * (v37 + v34);
        }
        else
        {
          v35 = (char *)&unk_100FB338 + 2 * (v34 + v38);
          v15 = (char *)&unk_100FB338 + 2 * (v34 + v38);
        }
        v16 = v36;
        v17 = v32;
        *(_WORD *)a3 = *(_WORD *)v15;
        *(_WORD *)(a3 + 14) = v16;
        *(_WORD *)(a3 + 2) = v17;
        v18 = v15 + 2;
        LOBYTE(v33) = sub_100107F0(
                        -32767,
                        *(_WORD *)a3,
                        v6,
                        byte_1007D3E4[16
                                    * ((unsigned __int8)byte_1007D3E0[*(_BYTE *)(v6 + 8493)] + 6 * *(_BYTE *)(v6 + 8493))]);
        v19 = v34 + 1 < (unsigned int)(unsigned __int16)v39;
        v20 = v34++ + 1 == (unsigned __int16)v39;
        v32 = (unsigned __int16)v39;
        if ( v19 || v20 )
        {
          while ( 1 )
          {
            v21 = sub_10061290(v13, *(_DWORD *)(a4 + 4));
            v22 = *(_WORD *)v18;
            v35 = v18 + 2;
            v23 = *(_WORD *)a3;
            v13 = v21;
            LOWORD(v21) = *(_WORD *)a3;
            v39 = v22;
            v24 = sub_100107F0(v21, v22, v6, v33);
            v26 = __OFSUB__(v23, *(_WORD *)(v6 + 8584));
            v25 = (signed __int16)(v23 - *(_WORD *)(v6 + 8584)) < 0;
            v31 = v24;
            if ( v25 ^ v26 && v23 != -32767 )
              *(_WORD *)(v6 + 8584) = v23;
            v27 = *(_WORD *)a3;
            if ( *(_WORD *)a3 > *(_WORD *)(v6 + 8582) && v27 != -32767 )
              *(_WORD *)(v6 + 8582) = v27;
            v28 = v34;
            if ( v24 != (_BYTE)v33 || v34 == v32 )
            {
              v43 = v13;
              sub_10010B60((int)&v42, v6, v33);
              LOBYTE(v33) = v31;
              *(_WORD *)(a3 + 2) = v28;
              v45 = v13;
            }
            v29 = v28 + 1;
            v19 = v29 < v32;
            v20 = v29 == v32;
            *(_WORD *)a3 = v39;
            v34 = v29;
            if ( !v19 && !v20 )
              break;
            v18 = v35;
          }
        }
        v5 = a4;
        v4 = v40;
      }
      v37 += 80;
      v38 += 60;
      result = v36++ + 1;
    }
    while ( v36 < a1 );
  }
  return result;
}
// 100FB334: using guessed type int dword_100FB334;
// 10100320: using guessed type int dword_10100320;
// 10100324: using guessed type int dword_10100324;
// 10100330: using guessed type int dword_10100330;

//----- (10011890) --------------------------------------------------------
signed int __cdecl sub_10011890(int a1, int a2)
{
  signed int result; // eax@3
  char v3; // [sp+Bh] [bp-7Dh]@3
  char v4; // [sp+Ch] [bp-7Ch]@1
  int v5; // [sp+10h] [bp-78h]@1
  int v6; // [sp+14h] [bp-74h]@1
  int v7; // [sp+18h] [bp-70h]@1
  int v8; // [sp+1Ch] [bp-6Ch]@1
  int v9; // [sp+20h] [bp-68h]@1
  int v10; // [sp+24h] [bp-64h]@1
  int v11; // [sp+28h] [bp-60h]@1
  int v12; // [sp+2Ch] [bp-5Ch]@1
  int v13; // [sp+30h] [bp-58h]@1
  int v14; // [sp+34h] [bp-54h]@4
  int v15; // [sp+3Ch] [bp-4Ch]@1
  int v16; // [sp+40h] [bp-48h]@3
  int v17; // [sp+44h] [bp-44h]@3
  int v18; // [sp+48h] [bp-40h]@3
  int v19; // [sp+4Ch] [bp-3Ch]@3
  int v20; // [sp+50h] [bp-38h]@3
  int v21; // [sp+54h] [bp-34h]@3
  int v22; // [sp+58h] [bp-30h]@3
  int v23; // [sp+5Ch] [bp-2Ch]@4
  int v24; // [sp+60h] [bp-28h]@4
  char v25; // [sp+64h] [bp-24h]@4
  int v26; // [sp+68h] [bp-20h]@4
  char v27; // [sp+6Ch] [bp-1Ch]@1
  char v28; // [sp+78h] [bp-10h]@1

  sub_100612C0(&v9, *(_DWORD *)(a1 + 3580));
  sub_100612C0(&v10, *(_DWORD *)(a1 + 3584));
  sub_100612C0(&v7, *(_DWORD *)(a1 + 3572));
  sub_100612C0(&v8, *(_DWORD *)(a1 + 3576));
  dword_10100324 = v8;
  dword_10100320 = v7;
  dword_10100328 = v9;
  dword_1010032C = v10;
  sub_1003F1F0(a2, (int)&v27);
  sub_1003E8B0(a2, &v4, &v28);
  sub_1004A370(&v27, &v4, 10);
  sub_1003F390(a2, (int)&v11);
  sub_100612C0(&v5, v11);
  sub_100612C0(&v6, v12);
  sub_10061DA0(&v27, (int)&v13);
  if ( dword_10100320 > v15 )
    dword_10100320 = v15 - 1;
  v19 = v15;
  v20 = v16;
  v21 = v17;
  v22 = v18;
  result = sub_1000FA60((signed int)&dword_10100320, (int)&v19, &v3);
  if ( v3 )
  {
    dword_10100330 = v18;
    dword_1010031C = v17;
    dword_100FB334 = v17;
    v23 = v13;
    v24 = v14;
    v25 = 1;
    v26 = a1;
    result = sub_10061E30(
               &v27,
               v5,
               v6,
               (int)&unk_100FCF58,
               0x1900u,
               (void (__cdecl *)(int, int, int, int))sub_10011580,
               (int)&v23);
  }
  return result;
}
// 100FB334: using guessed type int dword_100FB334;
// 1010031C: using guessed type int dword_1010031C;
// 10100320: using guessed type int dword_10100320;
// 10100324: using guessed type int dword_10100324;
// 10100328: using guessed type int dword_10100328;
// 10100330: using guessed type int dword_10100330;

//----- (10011A60) --------------------------------------------------------
void __cdecl sub_10011A60(int a1)
{
  __int16 v1; // di@1
  char v2; // al@4
  unsigned int v3; // eax@7
  bool v4; // zf@7
  int v5; // ecx@8
  signed int v6; // eax@11
  int v7; // [sp+24h] [bp-10h]@7
  unsigned int v8; // [sp+28h] [bp-Ch]@7
  int v9; // [sp+2Ch] [bp-8h]@7
  int v10; // [sp+30h] [bp-4h]@7

  v1 = sub_1004D470();
  if ( sub_10016E60() && byte_10505755 != 7 )
  {
    if ( !*(_BYTE *)(a1 + 8550) || (v2 = *(_BYTE *)(a1 + 8492)) == 0 || v2 == 8 || !(unsigned __int8)sub_10010100(v1) )
    {
      sub_100612C0(&v9, *(_DWORD *)(a1 + 3580));
      sub_100612C0(&v10, *(_DWORD *)(a1 + 3584));
      sub_100612C0(&v7, *(_DWORD *)(a1 + 3572));
      sub_100612C0((signed int *)&v8, *(_DWORD *)(a1 + 3576));
      v3 = v8;
      dword_10100320 = v7;
      dword_10100324 = v8;
      dword_10100328 = v9;
      dword_1010032C = v10;
      v4 = *(_BYTE *)(a1 + 3644) == 0;
      *(_WORD *)(a1 + 8042) = -9987;
      if ( !v4 )
      {
        LOBYTE(v3) = 11;
        if ( sub_10005410(v3, a1) )
        {
          if ( !*(_BYTE *)(a1 + 8550) )
            goto LABEL_17;
        }
        if ( *(_BYTE *)(a1 + 8550) )
        {
          LOBYTE(v5) = 11;
          v6 = (unsigned __int8)sub_100100D0(a1, v5);
          if ( (signed int)(unsigned __int8)v6 <= 16 )
            v6 = 16;
          if ( flt_10078A00[v6] >= (double)*(float *)(dword_10504E84 + 4 * *(_BYTE *)(a1 + 3622)) )
LABEL_17:
            sub_10061F20(9, *(float *)(a1 + 3648), (int)&v9, (int)&v7, (int)&unk_10100158, 32, (int)sub_10011420, a1);
        }
      }
    }
  }
}
// 10078A00: using guessed type float flt_10078A00[];
// 10100320: using guessed type int dword_10100320;
// 10100324: using guessed type int dword_10100324;
// 10100328: using guessed type int dword_10100328;
// 10504E84: using guessed type int dword_10504E84;
// 10505755: using guessed type char byte_10505755;

//----- (10011BC0) --------------------------------------------------------
char __cdecl sub_10011BC0(int a1)
{
  int v1; // edi@1
  int v2; // eax@1
  int v3; // eax@7
  signed int v4; // esi@9
  int v5; // ecx@9
  signed int v6; // esi@11
  signed int v7; // ecx@13
  int v8; // ebp@15
  int v9; // edi@15
  int v10; // eax@16
  int v11; // esi@17
  int v12; // eax@18
  int v13; // ebx@20
  bool v14; // sf@35
  unsigned __int8 v15; // of@35
  int v17; // [sp+4h] [bp-70h]@0
  int v18; // [sp+8h] [bp-6Ch]@13
  int v19; // [sp+Ch] [bp-68h]@2
  int v20; // [sp+10h] [bp-64h]@2
  int v21; // [sp+14h] [bp-60h]@2
  int v22; // [sp+18h] [bp-5Ch]@2
  int v23; // [sp+1Ch] [bp-58h]@27
  int v24; // [sp+20h] [bp-54h]@27
  char v25; // [sp+24h] [bp-50h]@27
  int v26; // [sp+28h] [bp-4Ch]@27
  int v27; // [sp+2Ch] [bp-48h]@2
  int v28; // [sp+30h] [bp-44h]@3
  int v29; // [sp+48h] [bp-2Ch]@7
  int v30; // [sp+4Ch] [bp-28h]@21
  int v31; // [sp+50h] [bp-24h]@10
  int v32; // [sp+58h] [bp-1Ch]@13
  int v33; // [sp+5Ch] [bp-18h]@15
  int v34; // [sp+60h] [bp-14h]@27
  int v35; // [sp+64h] [bp-10h]@27

  v1 = a1;
  LOBYTE(v2) = sub_10010D90(a1);
  if ( (_BYTE)v2 )
  {
    *(_WORD *)(a1 + 8582) = -9987;
    *(_WORD *)(a1 + 8584) = 9987;
    LOBYTE(v17) = sub_10010880(a1);
    sub_100612C0(&v21, *(_DWORD *)(a1 + 3580));
    sub_100612C0(&v22, *(_DWORD *)(a1 + 3584));
    sub_100612C0(&v19, *(_DWORD *)(a1 + 3572));
    sub_100612C0(&v20, *(_DWORD *)(a1 + 3576));
    dword_10100324 = v20;
    dword_10100328 = v21;
    dword_10100320 = v19;
    dword_1010032C = v22;
    v2 = sub_10061AA0(v17, &v27);
    if ( !v2 )
    {
      v2 = v28;
      if ( dword_10100320 >= v28 )
      {
        if ( dword_10100328 > v28 )
          v2 = dword_10100328;
        dword_10100328 = v2;
        do
        {
          v3 = sub_10061940(v17, v2, dword_1010032C, &v29);
          if ( v3 != 13 && v3 )
          {
            v4 = 0;
            v2 = dword_10100328 + 5965200;
            v5 = dword_10100328 + 5965200;
            dword_10100320 = dword_10100328 + 5965200;
          }
          else
          {
            if ( v19 <= v31 )
              v6 = v19;
            else
              v6 = v31 - 1;
            v7 = v32;
            dword_10100320 = v6;
            v18 = v32 * (v6 / v32);
            if ( v6 < 0 )
              v18 = v32 * (v6 / v32) - v32;
            v8 = v33;
            v9 = v33 * (dword_10100324 / v33);
            if ( dword_10100324 < 0 )
            {
              v10 = sub_10061330(v33 * (dword_10100324 / v33), v33);
              v8 = v33;
              v7 = v32;
              v9 = v10;
            }
            v11 = v7 * (dword_10100328 / v7);
            if ( dword_10100328 < 0 )
            {
              v12 = v11 - v7;
              v11 = v29;
              if ( v12 > v29 )
                v11 = v12;
            }
            v13 = v8 * (dword_1010032C / v8);
            if ( dword_1010032C < 0 )
            {
              v13 = sub_10061330(v8 * (dword_1010032C / v8), v8);
              if ( v13 <= v30 )
                v13 = v30;
            }
            v2 = v11;
            dword_1010031C = v11;
            do
            {
              dword_10100330 = v13;
              while ( 1 )
              {
                dword_100FB334 = v2;
                if ( !sub_10016E80() )
                {
                  LOBYTE(v2) = sub_10007AF0(a1, 0, 1);
                  return v2;
                }
                v23 = v34;
                v24 = v35;
                v26 = a1;
                v25 = 0;
                v4 = sub_10062160(
                       v17,
                       dword_1010031C,
                       dword_10100330,
                       (int)&unk_100FB338,
                       0xE10u,
                       (void (__cdecl *)(int, signed int, int, int))sub_10011580,
                       (int)&v23);
                dword_10100330 = sub_10061290(dword_10100330, v33);
                if ( sub_10061330(dword_10100330, v9) > 0 || v4 )
                  break;
                v2 = dword_1010031C;
              }
              v2 = v32 + dword_1010031C;
              dword_1010031C += v32;
            }
            while ( dword_1010031C <= v18 && !v4 );
            v5 = dword_10100320;
            v1 = a1;
            if ( dword_10100320 >= v19 )
              break;
            v2 = v31;
          }
          dword_10100328 = v2;
        }
        while ( v5 < v19 && !v4 );
        v15 = __OFSUB__(v27, 16570);
        v14 = v27 - 16570 < 0;
        if ( v27 > 16570 )
        {
          LOBYTE(v2) = *(_BYTE *)(v1 + 8550);
          if ( !(_BYTE)v2 )
            goto LABEL_48;
          if ( *(_BYTE *)(v1 + 3622) < 5u )
          {
LABEL_40:
            LOBYTE(v2) = sub_10002CD0(v1);
            return v2;
          }
          if ( !(_BYTE)v2 )
          {
LABEL_48:
            if ( *(_BYTE *)(v1 + 3622) < 0xFu )
              goto LABEL_40;
          }
          v15 = __OFSUB__(v27, 16570);
          v14 = v27 - 16570 < 0;
        }
        if ( v14 ^ v15 )
          byte_10100319 = 1;
      }
    }
  }
  return v2;
}
// 100FB334: using guessed type int dword_100FB334;
// 10100319: using guessed type char byte_10100319;
// 1010031C: using guessed type int dword_1010031C;
// 10100320: using guessed type int dword_10100320;
// 10100324: using guessed type int dword_10100324;
// 10100328: using guessed type int dword_10100328;
// 10100330: using guessed type int dword_10100330;

//----- (10011EF0) --------------------------------------------------------
char sub_10011EF0()
{
  char v0; // al@1

  v0 = sub_1004D4C0();
  if ( v0 == 4 || v0 == 2 || v0 == 3 )
  {
    if ( sub_1003B020() || sub_1003BE40() <= 15.43333435058594 || !sub_1003B750() )
      return 1;
  }
  else
  {
    if ( v0 != 5 && v0 != 6 )
      return 0;
    if ( sub_1003B020() || sub_1003BE40() <= 15.43333435058594 || !sub_1003B750() || sub_1003B660() )
      return 1;
  }
  return 0;
}

//----- (10011F70) --------------------------------------------------------
void __cdecl sub_10011F70(int a1, int a2)
{
  double v2; // st7@16
  double v3; // st6@16
  char v4; // al@17
  double v5; // st5@19
  double v6; // st4@19
  int *v7; // edi@19
  signed int v8; // ebp@19
  float v9; // ST28_4@27
  double v10; // rtt@28
  double v11; // st5@28
  double v12; // st6@28
  double v13; // st7@28
  float v14; // ST34_4@34
  char *v15; // eax@35
  __int16 v16; // dx@35
  __int16 v17; // bp@35
  unsigned __int16 *v18; // edi@35
  unsigned __int8 v19; // cl@35
  int v20; // eax@36
  __int16 v21; // cx@37
  __int16 v22; // bx@37
  int v23; // edx@37
  __int16 v24; // bp@37
  __int16 v25; // ST36_2@37
  int v26; // ST30_4@37
  char *v27; // eax@37
  char v28; // [sp+1Fh] [bp-D1h]@17
  int v29; // [sp+20h] [bp-D0h]@15
  float v30; // [sp+24h] [bp-CCh]@16
  signed int v31; // [sp+28h] [bp-C8h]@19
  int *v32; // [sp+2Ch] [bp-C4h]@0
  int v33; // [sp+30h] [bp-C0h]@16
  int v34; // [sp+34h] [bp-BCh]@16
  int v35; // [sp+38h] [bp-B8h]@16
  int v36; // [sp+3Ch] [bp-B4h]@16
  char v37; // [sp+40h] [bp-B0h]@6
  float v38; // [sp+4Ch] [bp-A4h]@14
  float v39; // [sp+50h] [bp-A0h]@15
  float v40; // [sp+60h] [bp-90h]@16
  float v41; // [sp+68h] [bp-88h]@16
  float v42; // [sp+78h] [bp-78h]@13
  int v43; // [sp+7Ch] [bp-74h]@11
  int v44; // [sp+80h] [bp-70h]@12
  int v45; // [sp+8Ch] [bp-64h]@7
  int v46; // [sp+90h] [bp-60h]@8
  int v47; // [sp+94h] [bp-5Ch]@9
  int v48; // [sp+98h] [bp-58h]@10
  unsigned __int16 v49; // [sp+9Ch] [bp-54h]@16
  int v50[19]; // [sp+A0h] [bp-50h]@34

  if ( *(_WORD *)(a1 + 3822) > 8 * *(_WORD *)(dword_104CEA60 + 6)
    && *(_WORD *)(a1 + 3824) > 448
    && !*(_BYTE *)(a1 + 8544)
    && !*(_BYTE *)(a1 + 3557) )
  {
    if ( *(_BYTE *)(a1 + 8589) )
    {
      if ( sub_1003BDD0(&v37) )
      {
        if ( v45 != 0x7FFFFFFF
          && v46 != 0x7FFFFFFF
          && v47 != 0x7FFFFFFF
          && v48 != 0x7FFFFFFF
          && v43 != 0x7FFFFFFF
          && v44 != 0x7FFFFFFF
          && 9.9999996e24 != v42
          && COERCE_FLOAT(LODWORD(v38) & 0x7FFFFFFF) <= 1.5533431 )
        {
          v29 = LODWORD(v39) & 0x7FFFFFFF;
          if ( COERCE_FLOAT(LODWORD(v39) & 0x7FFFFFFF) <= 1.5533431 )
          {
            memset(&v49, 0, 0x50u);
            v49 = 0;
            sub_10063950(v38, (int)&v35, (int)&v33);
            sub_10063950(v39, (int)&v36, (int)&v34);
            v2 = v41;
            v30 = v41 / *(float *)&v34;
            v3 = v40;
            if ( v40 >= *(float *)&v36 * v30 )
            {
              v28 = 0;
              v4 = 0;
            }
            else
            {
              v4 = 1;
              v28 = 1;
            }
            v5 = 1.570796370506287;
            v6 = 0.0;
            v7 = v32;
            v8 = -1;
            v31 = 6;
            while ( 1 )
            {
              switch ( v8 )
              {
                case 0:
                  v7 = &v47;
                  if ( v4 )
                  {
                    v30 = v3 / *(float *)&v36;
                    *(float *)&v29 = v5 - v39;
                  }
                  else
                  {
                    v30 = v2 / *(float *)&v34;
                    *(float *)&v29 = v5 - v39;
                  }
                  break;
                case 1:
                  if ( !v4 )
                  {
                    v30 = v2;
                    v7 = &v45;
                    *(float *)&v29 = 1.5707964;
                  }
                  break;
                case 2:
                  v9 = v2 / *(float *)&v33;
                  if ( v9 * *(float *)&v35 > v3 )
                  {
                    v28 = 1;
                    v10 = v5;
                    v11 = v3;
                    v12 = v10;
                    v13 = v11 / *(float *)&v35;
                    goto LABEL_29;
                  }
                  v28 = 0;
                  v7 = &v45;
                  v30 = v2;
                  *(float *)&v29 = -1.5707964;
                  break;
                case 3:
                  v12 = v5;
                  if ( !v4 )
                  {
                    v13 = v2 / *(float *)&v33;
LABEL_29:
                    v7 = &v47;
                    v30 = v13;
                    *(float *)&v29 = v38 - v12;
                  }
                  break;
                default:
                  v7 = &v47;
                  v30 = v6;
                  *(float *)&v29 = v6;
                  break;
              }
              v14 = *(float *)&v29 + v42;
              sub_10014D10((int)v7, v30, v14, (int)&v50[2 * v49++]);
              ++v8;
              if ( !--v31 )
                break;
              v2 = v41;
              v4 = v28;
              v3 = v40;
              v6 = 0.0;
              v5 = 1.570796370506287;
            }
            v15 = sub_100156C0(a1, (char *)&v49, 80, 0, 1);
            v16 = *(_WORD *)(a1 + 3818) - *(_WORD *)(a1 + 3698);
            v17 = *(_WORD *)(a1 + 3820) - *(_WORD *)(a1 + 3700);
            v18 = (unsigned __int16 *)v15;
            v19 = 0;
            if ( *(_WORD *)v15 )
            {
              do
              {
                v20 = v19;
                v18[2 * v20 + 1] += v16;
                v18[2 * v20 + 2] += v17;
                ++v19;
              }
              while ( v19 < *v18 );
            }
            v21 = *(_WORD *)(a2 + 32);
            v22 = *(_WORD *)(a2 + 34);
            v23 = *(_DWORD *)(a2 + 36);
            v24 = *(_WORD *)(a2 + 4);
            *(_WORD *)(a2 + 34) = 1;
            *(_WORD *)(a2 + 32) = 1;
            v25 = v21;
            v26 = v23;
            *(_WORD *)(a2 + 4) = 2;
            *(_WORD *)(a2 + 36) = 0;
            *(_WORD *)(a2 + 38) = 6;
            *(_WORD *)(a2 + 48) = 0;
            *(_WORD *)(a2 + 50) = 6;
            v27 = sub_1000FA50(0x35u);
            sub_10005C00(a2, *v18, (int)(v18 + 1), (int)v27, 0);
            *(_WORD *)(a2 + 4) = v24;
            *(_WORD *)(a2 + 34) = v22;
            *(_WORD *)(a2 + 36) = v26;
            *(_WORD *)(a2 + 38) = HIWORD(v26);
            *(_WORD *)(a2 + 32) = v25;
          }
        }
      }
    }
  }
}
// 104CEA60: using guessed type int dword_104CEA60;
// 10011F70: using guessed type int var_50[19];

//----- (100123D0) --------------------------------------------------------
int __usercall sub_100123D0@<eax>(int a1@<edi>, int a2@<esi>, __int16 a3, __int16 a4)
{
  int v4; // ST18_4@1

  *(_WORD *)(a1 + 36) = 5;
  *(_WORD *)(a1 + 38) = 7;
  sub_1004A220(a2 + 222, " ", 60);
  *(_WORD *)(a1 + 46) = a3;
  *(_WORD *)(a1 + 44) = a4;
  return sub_10019B50(
           a1,
           *(_DWORD *)(a2 + 216),
           (_BYTE *)(a2 + 222),
           *(_WORD *)(a2 + 8 * *(_DWORD *)a2 + 4) + *(_WORD *)(a2 + 8 * *(_DWORD *)a2 + 8),
           *(_DWORD *)(a2 + 284),
           *(_DWORD *)(a2 + 288),
           v4);
}

//----- (10012440) --------------------------------------------------------
int __usercall sub_10012440@<eax>(char *a1@<eax>, int a2@<edi>, int a3@<esi>, char *a4, __int16 a5, __int16 a6, unsigned __int8 a7)
{
  char *v7; // ebx@1
  int v8; // ST18_4@5
  int v9; // ST18_4@6

  v7 = a1;
  if ( a1 )
    sub_1004A340((char *)(a3 + 93), 0x3Cu, a1);
  else
    memset((void *)(a3 + 93), 0, 0x3Cu);
  sub_1004A340((char *)(a3 + 153), 0x3Cu, a4);
  if ( v7 )
  {
    *(_WORD *)(a2 + 36) = 5;
    *(_WORD *)(a2 + 38) = 7;
    sub_1004A340((char *)(a3 + 222), 0x3Cu, " %-s", a3 + 93);
    *(_WORD *)(a2 + 46) = a5;
    *(_WORD *)(a2 + 44) = a6;
    sub_10019B50(
      a2,
      *(_DWORD *)(a3 + 216),
      (_BYTE *)(a3 + 222),
      *(_WORD *)(a3 + 8 * *(_DWORD *)a3 + 4),
      *(_DWORD *)(a3 + 284),
      *(_DWORD *)(a3 + 288),
      v8);
  }
  *(_WORD *)(a2 + 36) = word_1007DEC8[2 * a7];
  *(_WORD *)(a2 + 38) = word_1007DECA[2 * a7];
  sub_1004A340((char *)(a3 + 222), 0x3Cu, "%-s", a3 + 153);
  *(_WORD *)(a2 + 46) = a5 + *(_WORD *)(a3 + 8 * *(_DWORD *)a3 + 4);
  *(_WORD *)(a2 + 44) = a6;
  return sub_10019B50(
           a2,
           *(_DWORD *)(a3 + 216),
           (_BYTE *)(a3 + 222),
           *(_WORD *)(a3 + 8 * *(_DWORD *)a3 + 8),
           *(_DWORD *)(a3 + 284),
           *(_DWORD *)(a3 + 288),
           v9);
}
// 1007DEC8: using guessed type __int16 word_1007DEC8[];
// 1007DECA: using guessed type __int16 word_1007DECA[];

//----- (10012560) --------------------------------------------------------
_DWORD __cdecl sub_10012560(_DWORD a1, int a2)
{
  _DWORD result; // eax@1
  int v3; // edx@1
  int v4; // ecx@1
  char v5; // al@6
  int v6; // edx@6
  int v7; // eax@6
  char v8; // al@6
  signed int v9; // ecx@6
  int *v10; // edx@6
  int v11; // eax@8
  int v12; // esi@8
  int v13; // eax@8
  int v14; // eax@9
  unsigned int v15; // edx@9
  unsigned int v16; // eax@9
  int v17; // ecx@9
  int v18; // esi@9
  _WORD i; // dx@9
  int v20; // ebx@10
  unsigned int v21; // eax@11
  unsigned int v22; // eax@11
  int v23; // ecx@11
  int v24; // esi@11
  _WORD j; // dx@11
  int v26; // ebx@12
  unsigned int v27; // eax@13
  unsigned int v28; // eax@13
  unsigned int v29; // eax@13
  int v30; // eax@13
  __int16 v31; // bx@13
  _WORD v32; // bp@13
  __int16 v33; // ST40_2@13
  __int16 v34; // ST3C_2@13
  char v35; // al@13
  _DWORD v36; // ST44_4@15
  __int16 v37; // bp@16
  _DWORD v38; // ST44_4@18
  __int16 v39; // bp@19
  __int16 v40; // bp@25
  __int16 v41; // ax@25
  char *v42; // eax@28
  __int16 v43; // bp@31
  __int16 v44; // bp@38
  __int16 v45; // bp@44
  double v46; // st7@44
  float v47; // ST60_4@46
  __int16 v48; // bp@48
  double v49; // ST40_8@50
  __int16 v50; // bp@51
  char v51; // al@52
  double v52; // st7@52
  float v53; // ST44_4@52
  float v54; // ST60_4@52
  __int16 v55; // bp@53
  double v56; // ST40_8@56
  __int16 v57; // bp@57
  __int16 v58; // bp@61
  __int16 v59; // bp@65
  double v60; // st7@65
  double v61; // st6@65
  double v62; // st5@67
  _WORD v63; // bp@73
  __int16 v64; // ST40_2@73
  char v65; // al@73
  double v66; // st7@75
  double v67; // ST40_8@77
  __int16 v68; // bp@79
  char *v69; // eax@79
  __int16 v70; // bp@83
  __int16 v71; // bp@85
  double v72; // st7@86
  __int16 v73; // bp@91
  double v74; // st7@92
  __int16 v75; // bp@97
  int v76; // eax@101
  __int16 v77; // dx@101
  __int16 v78; // bp@101
  signed int v79; // ebx@101
  unsigned int v80; // esi@102
  __int16 v81; // ax@107
  _BYTE v82; // al@111
  __int16 v83; // bp@117
  char v84; // al@117
  int v85; // eax@117
  __int16 v86; // bx@117
  _WORD v87; // bp@117
  int v88; // eax@117
  __int16 v89; // bp@117
  int v90; // eax@117
  __int16 v91; // bp@117
  float v92; // ST60_4@117
  double v93; // st7@117
  __int16 v94; // bp@121
  __int16 v95; // bp@124
  int v96; // eax@124
  __int16 v97; // bp@124
  int v98; // esi@124
  __int16 v99; // bp@129
  float v100; // ST60_4@129
  double v101; // st7@129
  __int16 v102; // bp@133
  __int16 v103; // bp@136
  int v104; // eax@136
  __int16 v105; // bp@136
  int v106; // esi@136
  __int16 v107; // bp@141
  float v108; // ST60_4@141
  double v109; // st7@141
  __int16 v110; // bp@145
  __int16 v111; // bp@148
  __int16 v112; // bp@148
  __int16 v113; // bp@154
  double v114; // st7@155
  const char *v115; // ST44_4@157
  __int16 v116; // bp@159
  double v117; // st7@160
  __int16 v118; // bp@164
  int v119; // eax@168
  __int16 v120; // bp@168
  signed int v121; // ebx@168
  signed int v122; // eax@170
  bool v123; // al@185
  int v124; // eax@188
  __int16 v125; // bp@188
  _WORD v126; // bx@188
  __int16 v127; // ST40_2@188
  __int16 v128; // ST3C_2@188
  char v129; // al@188
  __int16 v130; // bx@188
  char v131; // al@188
  int v132; // eax@190
  __int16 v133; // dx@190
  __int16 v134; // bp@190
  char *v135; // ebx@190
  char v136; // al@191
  bool v137; // sf@194
  unsigned __int8 v138; // of@194
  _WORD v139; // cx@199
  _WORD v140; // dx@199
  _WORD v141; // cx@199
  char *v142; // [sp+4h] [bp-3FCh]@113
  char *v143; // [sp+4h] [bp-3FCh]@125
  char *v144; // [sp+4h] [bp-3FCh]@137
  char *v145; // [sp+4h] [bp-3FCh]@151
  const char *v146[6]; // [sp+8h] [bp-3F8h]@125
  const char *v147; // [sp+8h] [bp-3F8h]@137
  const char *v148; // [sp+8h] [bp-3F8h]@151
  char *v149; // [sp+Ch] [bp-3F4h]@113
  unsigned __int8 v150; // [sp+20h] [bp-3E0h]@22
  unsigned __int8 v151; // [sp+20h] [bp-3E0h]@28
  unsigned __int8 v152; // [sp+20h] [bp-3E0h]@33
  unsigned __int8 v153; // [sp+20h] [bp-3E0h]@40
  unsigned __int8 v154; // [sp+20h] [bp-3E0h]@79
  unsigned __int8 v155; // [sp+20h] [bp-3E0h]@85
  unsigned __int8 v156; // [sp+20h] [bp-3E0h]@91
  unsigned __int8 v157; // [sp+20h] [bp-3E0h]@103
  __int16 v158; // [sp+24h] [bp-3DCh]@44
  __int16 v159; // [sp+24h] [bp-3DCh]@73
  __int16 v160; // [sp+24h] [bp-3DCh]@101
  __int16 v161; // [sp+24h] [bp-3DCh]@124
  __int16 v162; // [sp+24h] [bp-3DCh]@136
  __int16 v163; // [sp+24h] [bp-3DCh]@148
  __int16 v164; // [sp+24h] [bp-3DCh]@168
  __int16 v165; // [sp+24h] [bp-3DCh]@190
  float v166; // [sp+28h] [bp-3D8h]@48
  float v167; // [sp+28h] [bp-3D8h]@51
  float v168; // [sp+28h] [bp-3D8h]@83
  float v169; // [sp+28h] [bp-3D8h]@121
  float v170; // [sp+28h] [bp-3D8h]@133
  float v171; // [sp+28h] [bp-3D8h]@145
  char v172; // [sp+2Ch] [bp-3D4h]@19
  char v173; // [sp+2Dh] [bp-3D3h]@53
  char v174; // [sp+2Eh] [bp-3D2h]@6
  char v175; // [sp+2Fh] [bp-3D1h]@6
  char v176[4]; // [sp+30h] [bp-3D0h]@1
  const char *v177; // [sp+34h] [bp-3CCh]@1
  int v178; // [sp+38h] [bp-3C8h]@25
  char v179; // [sp+3Fh] [bp-3C1h]@188
  int v180; // [sp+40h] [bp-3C0h]@6
  int v181; // [sp+44h] [bp-3BCh]@6
  float v182; // [sp+48h] [bp-3B8h]@6
  const char *v183; // [sp+4Ch] [bp-3B4h]@1
  const char *v184; // [sp+50h] [bp-3B0h]@1
  void *v185; // [sp+54h] [bp-3ACh]@6
  const char *v186; // [sp+58h] [bp-3A8h]@1
  const char *v187; // [sp+5Ch] [bp-3A4h]@1
  const char *v188; // [sp+60h] [bp-3A0h]@1
  char *v189; // [sp+64h] [bp-39Ch]@1
  const char *v190; // [sp+68h] [bp-398h]@1
  const char *v191; // [sp+6Ch] [bp-394h]@1
  const char *v192; // [sp+70h] [bp-390h]@1
  const char *v193; // [sp+74h] [bp-38Ch]@1
  const char *v194; // [sp+78h] [bp-388h]@1
  const char *v195; // [sp+7Ch] [bp-384h]@1
  const char *v196; // [sp+80h] [bp-380h]@1
  const char *v197; // [sp+84h] [bp-37Ch]@1
  const char *v198; // [sp+88h] [bp-378h]@1
  const char *v199; // [sp+8Ch] [bp-374h]@1
  const char *v200; // [sp+90h] [bp-370h]@1
  float v201; // [sp+94h] [bp-36Ch]@6
  float v202; // [sp+98h] [bp-368h]@197
  float v203; // [sp+9Ch] [bp-364h]@155
  float v204; // [sp+A8h] [bp-358h]@160
  unsigned int v205; // [sp+B0h] [bp-350h]@148
  unsigned int v206; // [sp+B4h] [bp-34Ch]@148
  char v207; // [sp+B9h] [bp-347h]@150
  unsigned __int8 v208; // [sp+BBh] [bp-345h]@157
  char v209; // [sp+BCh] [bp-344h]@148
  const char *v210; // [sp+C0h] [bp-340h]@1
  int *v211; // [sp+C4h] [bp-33Ch]@1
  const char *v212; // [sp+C8h] [bp-338h]@1
  const char *v213; // [sp+CCh] [bp-334h]@1
  const char *v214; // [sp+D0h] [bp-330h]@1
  const char *v215; // [sp+D4h] [bp-32Ch]@1
  const char *v216; // [sp+D8h] [bp-328h]@1
  const char *v217; // [sp+DCh] [bp-324h]@1
  const char *v218; // [sp+E0h] [bp-320h]@1
  const char *v219; // [sp+E4h] [bp-31Ch]@1
  int v220; // [sp+E8h] [bp-318h]@1
  int v221; // [sp+ECh] [bp-314h]@1
  int v222; // [sp+F0h] [bp-310h]@1
  int v223; // [sp+F4h] [bp-30Ch]@1
  int v224; // [sp+F8h] [bp-308h]@1
  int v225; // [sp+FCh] [bp-304h]@1
  int v226; // [sp+100h] [bp-300h]@1
  int v227; // [sp+104h] [bp-2FCh]@1
  int v228; // [sp+108h] [bp-2F8h]@1
  int v229; // [sp+10Ch] [bp-2F4h]@1
  int v230; // [sp+110h] [bp-2F0h]@1
  int v231; // [sp+114h] [bp-2ECh]@1
  int v232; // [sp+118h] [bp-2E8h]@1
  int v233; // [sp+11Ch] [bp-2E4h]@1
  int v234; // [sp+120h] [bp-2E0h]@1
  int v235; // [sp+124h] [bp-2DCh]@1
  int v236; // [sp+128h] [bp-2D8h]@1
  int v237; // [sp+12Ch] [bp-2D4h]@1
  int v238; // [sp+130h] [bp-2D0h]@1
  int v239; // [sp+134h] [bp-2CCh]@1
  int v240; // [sp+138h] [bp-2C8h]@1
  int v241; // [sp+13Ch] [bp-2C4h]@1
  int v242; // [sp+140h] [bp-2C0h]@1
  int v243; // [sp+144h] [bp-2BCh]@1
  int v244; // [sp+148h] [bp-2B8h]@1
  int v245; // [sp+14Ch] [bp-2B4h]@1
  int v246; // [sp+150h] [bp-2B0h]@1
  int v247; // [sp+154h] [bp-2ACh]@1
  int v248; // [sp+158h] [bp-2A8h]@1
  int v249; // [sp+15Ch] [bp-2A4h]@1
  int v250; // [sp+160h] [bp-2A0h]@1
  int v251; // [sp+164h] [bp-29Ch]@1
  int v252; // [sp+168h] [bp-298h]@1
  int v253; // [sp+16Ch] [bp-294h]@1
  int v254; // [sp+170h] [bp-290h]@1
  int v255; // [sp+174h] [bp-28Ch]@1
  int v256; // [sp+178h] [bp-288h]@1
  int v257; // [sp+17Ch] [bp-284h]@1
  int v258; // [sp+180h] [bp-280h]@1
  int v259; // [sp+184h] [bp-27Ch]@1
  int v260; // [sp+188h] [bp-278h]@1
  int v261; // [sp+18Ch] [bp-274h]@1
  int v262; // [sp+190h] [bp-270h]@1
  int v263; // [sp+194h] [bp-26Ch]@1
  int v264; // [sp+198h] [bp-268h]@1
  int v265; // [sp+19Ch] [bp-264h]@1
  int v266; // [sp+1A0h] [bp-260h]@1
  int v267; // [sp+1A4h] [bp-25Ch]@1
  int v268; // [sp+1A8h] [bp-258h]@1
  int v269; // [sp+1ACh] [bp-254h]@1
  int v270; // [sp+1B0h] [bp-250h]@1
  int v271; // [sp+1B4h] [bp-24Ch]@1
  int v272; // [sp+1B8h] [bp-248h]@1
  int v273; // [sp+1BCh] [bp-244h]@1
  int v274; // [sp+1C0h] [bp-240h]@1
  int v275; // [sp+1C4h] [bp-23Ch]@1
  int v276; // [sp+1C8h] [bp-238h]@1
  int v277; // [sp+1CCh] [bp-234h]@1
  int v278; // [sp+1D0h] [bp-230h]@1
  int v279; // [sp+1D4h] [bp-22Ch]@1
  int v280; // [sp+1D8h] [bp-228h]@1
  int v281; // [sp+1DCh] [bp-224h]@1
  int v282; // [sp+1E0h] [bp-220h]@1
  int v283; // [sp+1E4h] [bp-21Ch]@1
  int v284; // [sp+1E8h] [bp-218h]@1
  int v285; // [sp+1ECh] [bp-214h]@1
  char v286; // [sp+1F0h] [bp-210h]@190
  char v287; // [sp+1FCh] [bp-204h]@190
  char v288; // [sp+204h] [bp-1FCh]@190
  char v289; // [sp+208h] [bp-1F8h]@190
  char v290; // [sp+214h] [bp-1ECh]@65
  float v291; // [sp+218h] [bp-1E8h]@65
  char v292; // [sp+230h] [bp-1D0h]@53
  float v293; // [sp+248h] [bp-1B8h]@55
  float v294; // [sp+24Ch] [bp-1B4h]@54
  float v295; // [sp+250h] [bp-1B0h]@58
  float v296; // [sp+254h] [bp-1ACh]@59
  float v297; // [sp+258h] [bp-1A8h]@62
  __int16 v298[2]; // [sp+288h] [bp-178h]@44
  int v299; // [sp+28Ch] [bp-174h]@13
  int v300; // [sp+290h] [bp-170h]@6
  int v301[21]; // [sp+294h] [bp-16Ch]@10
  unsigned __int8 v302; // [sp+2E8h] [bp-118h]@6
  char v303; // [sp+325h] [bp-DBh]@14
  int v304; // [sp+364h] [bp-9Ch]@9
  int v305; // [sp+368h] [bp-98h]@6
  int v306; // [sp+3A8h] [bp-58h]@9
  unsigned int v307; // [sp+3ACh] [bp-54h]@9
  double v308; // [sp+3B0h] [bp-50h]@1
  char v309; // [sp+3B8h] [bp-48h]@117
  char v310; // [sp+3C0h] [bp-40h]@1
  char v311; // [sp+3C1h] [bp-3Fh]@1
  char v312; // [sp+3C2h] [bp-3Eh]@1
  char v313; // [sp+3C3h] [bp-3Dh]@1
  char v314; // [sp+3C4h] [bp-3Ch]@1
  char v315; // [sp+3C5h] [bp-3Bh]@1
  char v316; // [sp+3C6h] [bp-3Ah]@1
  char v317; // [sp+3C7h] [bp-39h]@1
  char v318; // [sp+3C8h] [bp-38h]@1
  char v319; // [sp+3C9h] [bp-37h]@1
  char v320; // [sp+3CAh] [bp-36h]@1
  char v321; // [sp+3CBh] [bp-35h]@1
  char v322; // [sp+3CCh] [bp-34h]@1
  char v323; // [sp+3CDh] [bp-33h]@1
  char v324; // [sp+3CEh] [bp-32h]@1
  char v325; // [sp+3CFh] [bp-31h]@1
  char v326; // [sp+3D0h] [bp-30h]@1
  char v327; // [sp+3D1h] [bp-2Fh]@1
  char v328; // [sp+3D2h] [bp-2Eh]@1
  char v329; // [sp+3D3h] [bp-2Dh]@1
  char v330; // [sp+3D4h] [bp-2Ch]@1
  char v331; // [sp+3D5h] [bp-2Bh]@1
  char v332; // [sp+3D6h] [bp-2Ah]@1
  char v333; // [sp+3D8h] [bp-28h]@1
  char v334; // [sp+3D9h] [bp-27h]@1
  char v335; // [sp+3DAh] [bp-26h]@1
  char v336; // [sp+3DBh] [bp-25h]@1
  char v337; // [sp+3DCh] [bp-24h]@1
  char v338; // [sp+3DDh] [bp-23h]@1
  char v339; // [sp+3DEh] [bp-22h]@1
  char v340; // [sp+3DFh] [bp-21h]@1
  char v341; // [sp+3E0h] [bp-20h]@1
  char v342; // [sp+3E1h] [bp-1Fh]@1
  char v343; // [sp+3E2h] [bp-1Eh]@1
  char v344; // [sp+3E3h] [bp-1Dh]@1
  char v345; // [sp+3E4h] [bp-1Ch]@1
  char v346; // [sp+3E5h] [bp-1Bh]@1
  char v347; // [sp+3E6h] [bp-1Ah]@1
  char v348; // [sp+3E7h] [bp-19h]@1
  char v349; // [sp+3E8h] [bp-18h]@125

  v199 = "W";
  v200 = "W";
  v220 = 110;
  v246 = 110;
  v194 = "-";
  v195 = "-";
  v196 = "I";
  v197 = "-";
  v198 = "-";
  v183 = "F";
  v184 = "TRUE";
  v221 = 80;
  v222 = 86;
  v223 = 140;
  v224 = 120;
  v225 = 135;
  v226 = 60;
  v227 = 95;
  v228 = 70;
  v229 = 100;
  v230 = 70;
  v231 = 100;
  v232 = 70;
  v233 = 100;
  v234 = 70;
  v235 = 100;
  v236 = 7;
  v237 = 147;
  v238 = 100;
  v239 = 54;
  v240 = 60;
  v241 = 220;
  v242 = 100;
  v243 = 70;
  v244 = 70;
  v245 = 130;
  v247 = 125;
  v248 = 50;
  v249 = 85;
  v250 = 60;
  v251 = 80;
  v252 = 60;
  v253 = 80;
  v254 = 60;
  v255 = 80;
  v256 = 60;
  v257 = 80;
  v258 = 7;
  v259 = 129;
  v260 = 100;
  v261 = 50;
  v262 = 60;
  v263 = 220;
  v264 = 100;
  v265 = 70;
  v266 = 70;
  v267 = 130;
  v268 = 110;
  v269 = 125;
  v270 = 50;
  v271 = 85;
  v272 = 60;
  v273 = 80;
  v274 = 60;
  v275 = 80;
  v276 = 60;
  v277 = 80;
  v278 = 60;
  v282 = 100;
  v210 = "TRN-PROX";
  v217 = "TRN-PROX";
  v279 = 80;
  WORD2(v308) = 12;
  result = a1;
  v3 = *(_WORD *)(a1 + 3822);
  v4 = 8 * *(_WORD *)(dword_104CEA60 + 6);
  v280 = 5;
  v281 = 129;
  v283 = 50;
  v284 = 60;
  v285 = 220;
  v192 = "-";
  v193 = "+";
  *(float *)v176 = COERCE_FLOAT("NOT LND");
  v177 = "LND POS";
  v189 = "MFD_1";
  v190 = "PFD_1";
  v191 = "PFD_2";
  v333 = 2;
  v334 = 5;
  v335 = 2;
  v336 = 5;
  v337 = 2;
  v338 = 5;
  v339 = 2;
  v340 = 5;
  v341 = 2;
  v342 = 5;
  v343 = 2;
  v344 = 5;
  v345 = 2;
  v346 = 4;
  v347 = 2;
  v348 = 7;
  v310 = 3;
  v311 = 5;
  v312 = 5;
  v313 = 5;
  v314 = 5;
  v315 = 5;
  v316 = 5;
  v317 = 5;
  v318 = 5;
  v319 = 5;
  v320 = 5;
  v321 = 5;
  v322 = 5;
  v323 = 5;
  v324 = 5;
  v325 = 6;
  v326 = 6;
  v327 = 6;
  v328 = 6;
  v329 = 6;
  v330 = 6;
  v331 = 4;
  v332 = 7;
  v186 = "-";
  v187 = "I";
  v188 = "W";
  v211 = &dword_10079B5C;
  v212 = "TAWS-B";
  v213 = "TRN-SVS";
  v214 = "TAWS-A";
  v215 = "HTAWS-B";
  v216 = "HTRN-SVS";
  v218 = "HTRN-PROX";
  v219 = "INVALID";
  LODWORD(v308) = 786447;
  if ( v3 <= v4
    || *(_WORD *)(a1 + 3824) <= 448
    || *(_BYTE *)(a1 + 8544)
    || *(_BYTE *)(a1 + 3557)
    || !*(_BYTE *)(a1 + 8589) )
  {
    return result;
  }
  v174 = sub_1004D300();
  sub_10017AE0(9211, (int)&v201, 44);
  v182 = sub_1004D350();
  v5 = sub_1004D390();
  v6 = *(_DWORD *)(a2 + 36);
  v175 = v5;
  v7 = *(_DWORD *)(a2 + 48);
  v185 = (void *)*(_WORD *)(a2 + 4);
  v180 = v6;
  v181 = v7;
  v8 = sub_1004ADF0(v185);
  LOWORD(v305) = *((_WORD *)&v308 + (unsigned __int8)v8);
  v302 = v8;
  v9 = 0;
  v10 = &v300;
  while ( 1 )
  {
    v11 = v9 + 11 * (unsigned __int8)v8;
    v12 = *(&v220 + 2 * v11);
    v13 = *(&v221 + 2 * v11);
    *v10 = v12;
    v10[1] = v13;
    ++v9;
    v10 += 2;
    if ( v9 >= 11 )
      break;
    v8 = v302;
  }
  *(_WORD *)(a2 + 36) = 5;
  *(_WORD *)(a2 + 38) = 7;
  v14 = FNT_get_fnt_hdr(*(_BYTE *)dword_100E4980);
  v304 = v14;
  v306 = 1073741830;
  v15 = ((*(_WORD *)(v14 + 26) + 2) << 16) & 0xFF0000 | ((*(_WORD *)(v14 + 22) - *(_WORD *)(v14 + 24) + 2) << 24) & 0xFF000303;
  v16 = 88 * v302;
  *(_WORD *)(a2 + 6) = 3;
  *(_DWORD *)(a2 + 60) = 0xFFFF;
  *(_WORD *)(a2 + 48) = 16;
  *(_WORD *)(a2 + 50) = 5;
  v17 = dword_1007DCB8[v16 / 2];
  v18 = dword_1007DCD8[v16 / 2];
  v307 = v15 | 0x303;
  for ( i = 0; v17 <= v18; i += v20 )
  {
    v20 = *(&v300 + 2 * v17) + v301[2 * v17];
    ++v17;
  }
  sub_1001CD40(a2, word_1007DCBC[v16] - 6, word_1007DCC0[v16], i + 12, v305 * word_1007DCC4[v16] + 8, 1);
  v21 = 176 * v302;
  sub_1001CD40(
    a2,
    word_1007DCEC[v21 / 2] - 6,
    word_1007DCF0[v21 / 2],
    *((_WORD *)&v300 + 4 * dword_1007DCE8[v21 / 4]) + LOWORD(v301[2 * dword_1007DCE8[v21 / 4]]) + 12,
    v305 * word_1007DCF4[v21 / 2] + 8,
    1);
  v22 = 88 * v302;
  v23 = dword_1007DCF8[v22 / 2];
  v24 = dword_1007DD28[v22 / 2];
  for ( j = 0; v23 <= v24; j += v26 )
  {
    v26 = *(&v300 + 2 * v23) + v301[2 * v23];
    ++v23;
  }
  sub_1001CD40(a2, word_1007DCFC[v22] - 6, word_1007DD00[v22], j + 12, v305 * word_1007DD04[v22] + 8, 1);
  v27 = 176 * v302;
  sub_1001CD40(
    a2,
    word_1007DD3C[v27 / 2] - 6,
    word_1007DD40[v27 / 2],
    *((_WORD *)&v300 + 4 * dword_1007DD38[v27 / 4]) + LOWORD(v301[2 * dword_1007DD38[v27 / 4]]) + 12,
    v305 * word_1007DD44[v27 / 2] + 8,
    1);
  v28 = 176 * v302;
  sub_1001CD40(
    a2,
    word_1007DD4C[v28 / 2] - 6,
    word_1007DD50[v28 / 2],
    *((_WORD *)&v300 + 4 * dword_1007DD48[v28 / 4]) + LOWORD(v301[2 * dword_1007DD48[v28 / 4]]) + 12,
    v305 * word_1007DD54[v28 / 2] + 8,
    1);
  v29 = 176 * v302;
  sub_1001CD40(
    a2,
    word_1007DD5C[v29 / 2] - 6,
    word_1007DD60[v29 / 2],
    *((_WORD *)&v300 + 4 * dword_1007DD58[v29 / 4]) + LOWORD(v301[2 * dword_1007DD58[v29 / 4]]) + 12,
    v305 * word_1007DD64[v29 / 2] + 8,
    1);
  v30 = 8 * (dword_1007DCB8[44 * v302] + 11 * v302);
  v31 = word_1007DCBC[v30];
  v32 = v305 + word_1007DCC0[v30];
  v33 = v305 + word_1007DCC0[v30];
  v34 = word_1007DCBC[v30];
  v299 = dword_1007DCB8[44 * v302];
  v35 = sub_1004D4C0();
  sub_10012440("TAWS CFG", a2, (int)&v299, (char *)(&v210)[4 * (unsigned __int8)v35], v34, v33, 3u);
  if ( sub_1003B6D0() )
  {
    v36 = *(_DWORD *)&v176[4 * (unsigned __int8)sub_1003BA50()];
    sub_1004A340(&v303, 0x3Cu, "%s", v36);
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "NOT CFG");
  }
  v37 = v305 + v32;
  sub_10012440("GEAR CFG", a2, (int)&v299, &v303, v31, v37, 3u);
  if ( sub_1003B6A0() )
  {
    v38 = *(_DWORD *)&v176[4 * (unsigned __int8)sub_1003BA10()];
    sub_1004A340(&v303, 0x3Cu, "%s", v38);
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "NOT CFG");
  }
  v39 = v305 + v37;
  sub_10012440("FLAP CFG", a2, (int)&v299, &v303, v31, v39, 3u);
  v172 = 0;
  if ( sub_1003B710() )
  {
    if ( !sub_1003BD90() )
    {
      sub_1004A340(&v303, 0x3Cu, "%s", "NOT VLD");
      v150 = 4;
      goto LABEL_25;
    }
    sub_1004A340(&v303, 0x3Cu, "%s", "VLD CFG");
    v172 = 1;
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "NOT CFG");
  }
  v150 = 3;
LABEL_25:
  v40 = v305 + v39;
  sub_10012440("RAD ALT VLD", a2, (int)&v299, &v303, v31, v40, v150);
  v41 = sub_1004D3D0();
  v178 = (unsigned __int16)v41;
  if ( v41 == 8 || v41 & 8 )
  {
    if ( v174 == 2 )
    {
      v42 = sub_1004D8D0(0xCF2u);
      sub_1004A340(&v303, 0x3Cu, "%s", v42);
      v151 = 4;
    }
    else
    {
      sub_1004A340(&v303, 0x3Cu, "%s", &dword_10079AF4);
      v151 = 4;
    }
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", " ");
    v151 = 3;
  }
  v43 = v305 + v40;
  sub_10012440("INHIBIT-1", a2, (int)&v299, &v303, v31, v43, v151);
  if ( (_WORD)v178 == 4 || v178 & 4 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", &dword_10079B08);
    v152 = 4;
  }
  else if ( (_WORD)v178 == 16 || v178 & 0x10 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", &dword_10079B14);
    v152 = 4;
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", " ");
    v152 = 3;
  }
  v44 = v305 + v43;
  sub_10012440("INHIBIT-2", a2, (int)&v299, &v303, v31, v44, v152);
  if ( (_WORD)v178 == 2 || v178 & 2 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", &dword_10079B44);
    v153 = 4;
  }
  else if ( sub_10011EF0() )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "AUTO INH");
    v153 = 5;
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", " ");
    v153 = 3;
  }
  sub_10012440("INHIBIT-3", a2, (int)&v299, &v303, v31, v305 + v44, v153);
  ++v299;
  v158 = *((_WORD *)&v299 + 4 * v299) + v298[4 * v299] + v31;
  v45 = word_1007DCC0[8 * (v299 + 11 * v302)];
  *(float *)v176 = sub_1003BE40();
  v46 = *(float *)v176;
  if ( *(float *)v176 == 9.9999996e24 || v46 <= 0.0 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    v47 = v46 * 1.943844492440605;
    sub_1004A340(&v303, 0x3Cu, "%-.0f KT", v47);
  }
  v48 = v305 + v45;
  sub_10012440("GS", a2, (int)&v299, &v303, v158, v48, 3u);
  v166 = sub_1003BE80();
  *(float *)&v308 = sub_1003BEC0();
  sub_1004A340(&v303, 0x3Cu, "%s / %s", "-----", "-----");
  if ( v166 != 9.9999996e24 && *(float *)&v308 != 9.9999996e24 )
  {
    *(float *)&v308 = *(float *)&v308 * 196.8503937007874;
    v49 = *(float *)&v308;
    *(float *)&v308 = 196.8503937007874 * v166;
    sub_1004A340(&v303, 0x3Cu, "%-.0f / %-.0f FPM", *(float *)&v308, v49);
  }
  v50 = v305 + v48;
  sub_10012440("VS (F/R)", a2, (int)&v299, &v303, v158, v50, 3u);
  v167 = sub_1003BE00();
  sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  if ( v167 != 9.9999996e24 )
  {
    v308 = v167;
    v51 = sub_100199B0();
    v52 = sub_10019500(v51);
    *(float *)&v308 = v308 - v52;
    v53 = sub_100637E0(*(float *)&v308);
    LODWORD(v308) = sub_10063990(v53);
    v54 = (double)SLODWORD(v308);
    sub_1004A340(&v303, 0x3Cu, "%-.0f DEG", v54);
  }
  v55 = v305 + v50;
  sub_10012440("TRK", a2, (int)&v299, &v303, v158, v55, 3u);
  v173 = sub_1003BDD0(&v292);
  sub_1004A340(&v303, 0x3Cu, "%s / %s", "-----", "-----");
  if ( v173 && v294 != 9.9999996e24 && v293 != 9.9999996e24 )
  {
    *(float *)&v308 = v293 * 3.280839895013123;
    v56 = *(float *)&v308;
    *(float *)&v308 = 3.280839895013123 * v294;
    sub_1004A340(&v303, 0x3Cu, "%-.0f' / %-.0f'", *(float *)&v308, v56);
  }
  v57 = v305 + v55;
  sub_10012440("RTC S/E", a2, (int)&v299, &v303, v158, v57, 3u);
  sub_1004A340(&v303, 0x3Cu, "%s / %s", "-----", "-----");
  if ( v173 && v295 != 9.9999996e24 && v296 != 9.9999996e24 )
  {
    *(float *)&v308 = v295 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-.1f NM / %-.0f S", *(float *)&v308, v296);
  }
  v58 = v305 + v57;
  sub_10012440("LKA D/T", a2, (int)&v299, &v303, v158, v58, 3u);
  if ( v173 && v297 != 9.9999996e24 )
  {
    *(float *)&v308 = v297 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-.1f NM", *(float *)&v308);
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  v59 = v305 + v58;
  sub_10012440("LKA W", a2, (int)&v299, &v303, v158, v59, 3u);
  sub_1003AB10(&v290);
  v60 = 0.0;
  v61 = v291;
  if ( v291 < 0.0 || 9.9999996e24 == v61 || (v62 = *(float *)v176, *(float *)v176 == 9.9999996e24) || v62 <= 0.0 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s / %s", "-----", "-----");
  }
  else
  {
    *(float *)&v308 = v61 / v62;
    if ( *(float *)&v308 > 0.0 )
      v60 = *(float *)&v308;
    *(float *)v176 = v60;
    *(float *)&v308 = v291 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-.1f NM / %-.0f S", *(float *)&v308, *(float *)v176);
  }
  sub_10012440("FLTA D/T", a2, (int)&v299, &v303, v158, v305 + v59, 3u);
  ++v299;
  v159 = *((_WORD *)&v299 + 4 * v299) + v298[4 * v299] + v158;
  v63 = v305 + word_1007DCC0[8 * (v299 + 11 * v302)];
  v64 = v305 + word_1007DCC0[8 * (v299 + 11 * v302)];
  v65 = sub_1003B750();
  sub_10012440("FPHASE", a2, (int)&v299, off_10086E44[(unsigned __int8)v65], v159, v64, 3u);
  if ( sub_1003BC90() )
  {
    *(float *)&v308 = sub_1003BA90();
    v66 = *(float *)&v308;
    if ( *(float *)&v308 == 9.9999996e24 || v66 <= -100.0 )
    {
      sub_1004A340(&v303, 0x3Cu, "%s", "-----");
    }
    else
    {
      v67 = *(float *)&v308;
      *(float *)&v308 = v66 * 3.280839895013123;
      sub_1004A340(&v303, 0x3Cu, "%-.0f' (%-.0f M)", *(float *)&v308, v67);
    }
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "INVALID POSN");
  }
  v68 = v305 + v63;
  v69 = sub_1004D8D0(0xCFAu);
  sub_10012440(v69, a2, (int)&v299, &v303, v159, v68, 3u);
  *(float *)v176 = sub_1003B9D0();
  v154 = 3;
  if ( *(float *)v176 == 9.9999996e24 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = *(float *)v176 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f' (%-.0f M)", *(float *)&v308, *(float *)v176);
    if ( *(float *)v176 >= 17.0 )
      v154 = 4;
  }
  v70 = v305 + v68;
  sub_10012440("EPV", a2, (int)&v299, &v303, v159, v70, v154);
  v168 = sub_1003BAD0();
  sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  if ( v168 != 9.9999996e24 )
  {
    *(float *)&v308 = v168 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f' (%-.0f M)", *(float *)&v308, v168);
  }
  v71 = v305 + v70;
  sub_10012440("H ABV TRN", a2, (int)&v299, &v303, v159, v71, 3u);
  *(float *)v176 = sub_1003BD50();
  v155 = 3;
  if ( v172 && (v72 = *(float *)v176, *(float *)v176 != 9.9999996e24) && v72 > -12.192 )
  {
    *(float *)&v308 = v72 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f' (%-.0f M)", *(float *)&v308, *(float *)v176);
    if ( *(float *)v176 >= 762.0 )
      v155 = 4;
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  v73 = v305 + v71;
  sub_10012440("RAD ALT (R)", a2, (int)&v299, &v303, v159, v73, v155);
  *(float *)v176 = sub_1003BCD0();
  v156 = 3;
  if ( v172 && (v74 = *(float *)v176, *(float *)v176 != 9.9999996e24) && v74 > -12.192 )
  {
    *(float *)&v308 = v74 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f' (%-.0f M)", *(float *)&v308, *(float *)v176);
    if ( *(float *)v176 >= 762.0 )
      v156 = 4;
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  v75 = v305 + v73;
  sub_10012440("RAD ALT (F)", a2, (int)&v299, &v303, v159, v75, v156);
  *(float *)&v308 = sub_1003BD10();
  if ( *(float *)&v308 != 9.9999996e24 && v172 )
  {
    *(float *)&v308 = *(float *)&v308 * 196.8503937007874;
    sub_1004A340(&v303, 0x3Cu, "%-.0f FPM", *(float *)&v308);
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  sub_10012440("RAD ALT RATE", a2, (int)&v299, &v303, v159, v305 + v75, 3u);
  v76 = 8 * (v299 + 1 + 11 * v302);
  v77 = word_1007DCBC[v76];
  v78 = word_1007DCC0[v76];
  ++v299;
  v160 = v77;
  v79 = 0;
  do
  {
    v80 = 20 * v79;
    if ( (unsigned __int8)off_1007DC18[5 * v79]() )
    {
      if ( (unsigned __int8)off_1007DC1C[v80 / 4]() )
      {
        if ( v79 != 7
          && ((v81 = word_1007DC24[v80 / 2], (_WORD)v178 == v81)
           || v81 && ((unsigned __int16)v81 & (unsigned __int16)v178) == v81) )
        {
          sub_1004A340(&v303, 0x3Cu, "INHB");
          v157 = 4;
        }
        else
        {
          v82 = (*(int (**)())((char *)&off_1007DC20 + v80))();
          if ( v79 == 7 && v82 )
          {
            v149 = off_10086F00[(unsigned __int8)(v82 - 21)];
            v157 = 4;
            v142 = &v303;
          }
          else
          {
            v149 = (&off_10086E60)[4 * v82];
            v157 = *(&v310 + v82);
            v142 = &v303;
          }
          sub_1004A340(v142, 0x3Cu, v149);
        }
      }
      else
      {
        sub_1004A340(&v303, 0x3Cu, "NOT FUNC");
        v157 = 3;
      }
    }
    else
    {
      sub_1004A340(&v303, 0x3Cu, "NOT CFG");
      v157 = 2;
    }
    v78 += v305;
    sub_10012440(&byte_1007DC26[v80], a2, (int)&v299, &v303, v160, v78, v157);
    ++v79;
  }
  while ( v79 < 8 );
  v83 = v305 + v78;
  sub_100123D0(a2, (int)&v299, v160, v83);
  v84 = sub_1004D420();
  sub_10012440(
    (char *)&unk_10079A1C,
    a2,
    (int)&v299,
    (&off_10086E60)[4 * (unsigned __int8)v84],
    v160,
    v305 + v83,
    *(&v310 + (unsigned __int8)v84));
  v85 = 8 * (v299 + 1 + 11 * v302);
  v86 = word_1007DCBC[v85];
  ++v299;
  v87 = v305 + word_1007DCC0[v85];
  sub_10012440("DEPT:", a2, (int)&v299, " ", v86, v305 + word_1007DCC0[v85], 3u);
  v88 = sub_1003B890();
  sub_1003F1F0(v88, (int)&v309);
  v89 = v305 + v87;
  sub_10012440(" APT", a2, (int)&v299, &v309, v86, v89, 3u);
  v90 = sub_1003B950();
  sub_1003F1F0(v90, (int)&v309);
  sub_1004A340(&v303, 0x3Cu, "%s", &v309);
  v91 = v305 + v89;
  sub_10012440(" RWY", a2, (int)&v299, &v303, v86, v91, 3u);
  v92 = sub_1003B8D0();
  v93 = v92;
  if ( v92 == 9.9999996e24 || v93 <= 1.0 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = v93 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-0.1f NM", *(float *)&v308);
  }
  v94 = v305 + v91;
  sub_10012440(" DST", a2, (int)&v299, &v303, v86, v94, 3u);
  v169 = sub_1003B910();
  if ( v169 == 9.9999996e24 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = v169 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f'", *(float *)&v308);
  }
  sub_10012440(" H ABV", a2, (int)&v299, &v303, v86, v305 + v94, 3u);
  ++v299;
  v161 = *((_WORD *)&v299 + 4 * v299) + v298[4 * v299] + v86;
  v95 = v305 + word_1007DCC0[8 * (v299 + 11 * v302)];
  sub_10012440("NEAR:", a2, (int)&v299, " ", v161, v95, 3u);
  v96 = sub_1003BB50();
  sub_1003F1F0(v96, (int)&v309);
  v97 = v305 + v95;
  sub_10012440(" APT", a2, (int)&v299, &v309, v161, v97, 3u);
  v98 = sub_1003BC50();
  sub_1003F1F0(v98, (int)&v309);
  if ( v98 == 0x3FFFF )
  {
    v146[0] = " ";
    v143 = &v349;
  }
  else if ( sub_1003BB90() )
  {
    v146[0] = "  (B)";
    v143 = &v349;
  }
  else
  {
    v146[0] = "  (NB)";
    v143 = &v349;
  }
  sub_1004A220((int)v143, v146[0], 20);
  sub_1004A340(&v303, 0x3Cu, "%s%s", &v309, &v349);
  v99 = v305 + v97;
  sub_10012440(" RNWY", a2, (int)&v299, &v303, v161, v99, 3u);
  v100 = sub_1003BBD0();
  v101 = v100;
  if ( v100 == 9.9999996e24 || v101 <= 1.0 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = v101 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-0.1f NM", *(float *)&v308);
  }
  v102 = v305 + v99;
  sub_10012440(" DST", a2, (int)&v299, &v303, v161, v102, 3u);
  v170 = sub_1003BC10();
  if ( v170 == 9.9999996e24 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = v170 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f'", *(float *)&v308);
  }
  sub_10012440(" H ABV", a2, (int)&v299, &v303, v161, v305 + v102, 3u);
  ++v299;
  v162 = *((_WORD *)&v299 + 4 * v299) + v298[4 * v299] + v161;
  v103 = v305 + word_1007DCC0[8 * (v299 + 11 * v302)];
  sub_10012440("DEST:", a2, (int)&v299, " ", v162, v103, 3u);
  v104 = sub_1003B790();
  sub_1003F1F0(v104, (int)&v309);
  v105 = v305 + v103;
  sub_10012440(" APT", a2, (int)&v299, &v309, v162, v105, 3u);
  v106 = sub_1003B850();
  sub_1003F1F0(v106, (int)&v309);
  if ( v106 == 0x3FFFF )
  {
    v147 = " ";
    v144 = &v349;
  }
  else if ( sub_1003B7D0() )
  {
    v147 = "  (B)";
    v144 = &v349;
  }
  else
  {
    v147 = "  (NB)";
    v144 = &v349;
  }
  sub_1004A220((int)v144, v147, 20);
  sub_1004A340(&v303, 0x3Cu, "%s%s", &v309, &v349);
  v107 = v305 + v105;
  sub_10012440(" RWY", a2, (int)&v299, &v303, v162, v107, 3u);
  v108 = sub_1003B810();
  v109 = v108;
  if ( v108 == 9.9999996e24 || v109 <= 1.0 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = v109 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-0.1f NM", *(float *)&v308);
  }
  v110 = v305 + v107;
  sub_10012440(" DST", a2, (int)&v299, &v303, v162, v110, 3u);
  v171 = sub_1003BC10();
  if ( v171 == 9.9999996e24 )
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  else
  {
    *(float *)&v308 = v171 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f'", *(float *)&v308);
  }
  sub_10012440(" H ABV", a2, (int)&v299, &v303, v162, v305 + v110, 3u);
  ++v299;
  v163 = *((_WORD *)&v299 + 4 * v299) + v298[4 * v299] + v162;
  v111 = v305 + word_1007DCC0[8 * (v299 + 11 * v302)];
  sub_10012440("GSD:", a2, (int)&v299, " ", v163, v111, 3u);
  sub_1003F1F0(v205, (int)&v309);
  v112 = v305 + v111;
  sub_10012440(" APT", a2, (int)&v299, &v309, v163, v112, 3u);
  sub_1003F1F0(v206, (int)&v309);
  if ( v209 && v206 != 0x3FFFF )
  {
    if ( v207 )
    {
      v148 = "  (B)";
      v145 = &v349;
    }
    else
    {
      v148 = "  (NB)";
      v145 = &v349;
    }
  }
  else
  {
    v148 = " ";
    v145 = &v349;
  }
  sub_1004A220((int)v145, v148, 20);
  sub_1004A340(&v303, 0x3Cu, "%s%s", &v309, &v349);
  v113 = v305 + v112;
  sub_10012440(" RWY", a2, (int)&v299, &v303, v163, v113, 3u);
  if ( v209 && (v114 = v203, v203 != 9.9999996e24) && v114 > 1.0 )
  {
    v115 = (&v192)[4 * v208];
    *(float *)&v308 = v114 * 0.0005399568034557236;
    sub_1004A340(&v303, 0x3Cu, "%-0.1f NM (%s)", *(float *)&v308, v115);
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  v116 = v305 + v113;
  sub_10012440(" DST", a2, (int)&v299, &v303, v163, v116, 3u);
  if ( v209 && (v117 = v204, v204 != 9.9999996e24) && v117 > 1.0 )
  {
    *(float *)&v308 = v117 * 3.280839895013123;
    sub_1004A340(&v303, 0x3Cu, "%-.0f'", *(float *)&v308);
  }
  else
  {
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  }
  v118 = v305 + v116;
  sub_10012440(" H ABV", a2, (int)&v299, &v303, v163, v118, 3u);
  if ( v209 && v201 != 9.9999996e24 )
    sub_1004A340(&v303, 0x3Cu, "%-.2f", v201 * 57.29578018188477);
  else
    sub_1004A340(&v303, 0x3Cu, "%s", "-----");
  sub_10012440(" ANGLE", a2, (int)&v299, &v303, v163, v305 + v118, 3u);
  v119 = 8 * (v299 + 1 + 11 * v302);
  v120 = word_1007DCC0[v119];
  ++v299;
  v164 = word_1007DCBC[v119];
  LODWORD(v308) = (unsigned __int16)sub_1004D470();
  v121 = 0;
  do
  {
    v120 += v305;
    if ( (_WORD)v121 )
    {
      switch ( (_WORD)v121 )
      {
        case 1:
          LOWORD(v122) = 2;
          break;
        case 2:
          LOWORD(v122) = 4;
          break;
        case 3:
          LOWORD(v122) = 8;
          break;
        case 4:
          LOWORD(v122) = 16;
          break;
        case 5:
          LOWORD(v122) = 32;
          break;
        default:
          v122 = (_WORD)v121 != 6 ? 128 : 64;
          break;
      }
    }
    else
    {
      LOWORD(v122) = 1;
    }
    v123 = LOWORD(v308) == (_WORD)v122 || (_WORD)v122 && (LOWORD(v308) & (unsigned __int16)v122) == (_WORD)v122;
    sub_10012440(0, a2, (int)&v299, (&off_10086EE0)[4 * v121], v164, v120, *(&v333 + 2 * v121 + v123));
    ++v121;
  }
  while ( v121 <= 7 );
  v124 = 8 * (v299 + 1 + 11 * v302);
  v125 = word_1007DCBC[v124];
  v126 = v305 + word_1007DCC0[v124];
  v127 = v305 + word_1007DCC0[v124];
  v128 = word_1007DCBC[v124];
  ++v299;
  v129 = sub_1003B990();
  sub_10012440("EMC TEST", a2, (int)&v299, (char *)(&v183)[4 * (unsigned __int8)v129], v128, v127, 3u);
  v130 = v305 + v126;
  v131 = sub_1003BB10();
  sub_10012440("MAIN LOOP", a2, (int)&v299, (char *)(&v183)[4 * (unsigned __int8)v131], v125, v130, 3u);
  sub_1004D0E0(&v179);
  sub_1004A340(&v303, 0x3Cu, "INV_LRU");
  if ( (unsigned __int8)v179 < 3u )
    sub_1004A340(&v303, 0x3Cu, (&v189)[4 * (unsigned __int8)v179]);
  sub_10012440("MASTER LRU", a2, (int)&v299, &v303, v125, v305 + v130, 3u);
  v132 = 8 * (v299 + 1 + 11 * v302);
  v133 = word_1007DCBC[v132];
  v134 = word_1007DCC0[v132];
  ++v299;
  v165 = v133;
  sub_10017AE0(9209, (int)&v286, 12);
  sub_10017AE0(9207, (int)&v287, 12);
  sub_10017AE0(9208, (int)&v289, 12);
  v178 = 1;
  v135 = &v288;
  do
  {
    v136 = v135[2];
    if ( v136 )
      sub_1004A340(
        &v303,
        0x3Cu,
        "(%d) (%s) VDI:%1.3f CDI:%1.3f",
        (unsigned __int8)v136,
        (&v194)[4 * (unsigned __int8)*v135],
        *((float *)v135 - 1),
        *((float *)v135 - 2));
    else
      sub_1004A340(&v303, 0x3Cu, "(%d) (%s) VDI:%5s CDI:%5s", 0, (&v194)[4 * (unsigned __int8)*v135], "-----", "-----");
    v134 += v305;
    sub_10012440((&v189)[4 * v178], a2, (int)&v299, &v303, v165, v134, 3u);
    v135 += 12;
    v138 = __OFSUB__(v178 + 1, 3);
    v137 = v178++ - 2 < 0;
  }
  while ( v137 ^ v138 );
  if ( v174 && v182 != 9.9999996e24 )
    sub_1004A340(
      &v303,
      0x3Cu,
      "(%d) (%s) VDI:%1.3f CDI:%1.3f",
      (unsigned __int8)v175,
      (&v186)[4 * (unsigned __int8)v174],
      v182 / 150.0,
      v202);
  else
    sub_1004A340(
      &v303,
      0x3Cu,
      "(%d) (%s) VDI:%5s CDI:%5s",
      (unsigned __int8)v175,
      (&v186)[4 * (unsigned __int8)v174],
      "-----",
      "-----");
  sub_10012440("TAWS", a2, (int)&v299, &v303, v165, v305 + v134, 3u);
  v139 = HIWORD(v180);
  v140 = v181;
  *(_WORD *)(a2 + 36) = v180;
  result = HIWORD(v181);
  *(_WORD *)(a2 + 38) = v139;
  v141 = (_WORD)v185;
  *(_WORD *)(a2 + 48) = v140;
  *(_WORD *)(a2 + 50) = result;
  *(_WORD *)(a2 + 4) = v141;
  return result;
}
// 10012560: too many cbuild loops
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 10079AF4: using guessed type int dword_10079AF4;
// 10079B08: using guessed type int dword_10079B08;
// 10079B14: using guessed type int dword_10079B14;
// 10079B44: using guessed type int dword_10079B44;
// 10079B5C: using guessed type int dword_10079B5C;
// 1007DC18: using guessed type int (*off_1007DC18[3])();
// 1007DC1C: using guessed type int (*off_1007DC1C[2])();
// 1007DC20: using guessed type int (*off_1007DC20)();
// 1007DC24: using guessed type __int16 word_1007DC24[];
// 1007DCB8: using guessed type int dword_1007DCB8[];
// 1007DCBC: using guessed type __int16 word_1007DCBC[];
// 1007DCC0: using guessed type __int16 word_1007DCC0[];
// 1007DCC4: using guessed type __int16 word_1007DCC4[];
// 1007DCD8: using guessed type int dword_1007DCD8[];
// 1007DCE8: using guessed type int dword_1007DCE8[];
// 1007DCEC: using guessed type __int16 word_1007DCEC[];
// 1007DCF0: using guessed type __int16 word_1007DCF0[];
// 1007DCF4: using guessed type __int16 word_1007DCF4[];
// 1007DCF8: using guessed type int dword_1007DCF8[];
// 1007DCFC: using guessed type __int16 word_1007DCFC[];
// 1007DD00: using guessed type __int16 word_1007DD00[];
// 1007DD04: using guessed type __int16 word_1007DD04[];
// 1007DD28: using guessed type int dword_1007DD28[];
// 1007DD38: using guessed type int dword_1007DD38[];
// 1007DD3C: using guessed type __int16 word_1007DD3C[];
// 1007DD40: using guessed type __int16 word_1007DD40[];
// 1007DD44: using guessed type __int16 word_1007DD44[];
// 1007DD48: using guessed type int dword_1007DD48[];
// 1007DD4C: using guessed type __int16 word_1007DD4C[];
// 1007DD50: using guessed type __int16 word_1007DD50[];
// 1007DD54: using guessed type __int16 word_1007DD54[];
// 1007DD58: using guessed type int dword_1007DD58[];
// 1007DD5C: using guessed type __int16 word_1007DD5C[];
// 1007DD60: using guessed type __int16 word_1007DD60[];
// 1007DD64: using guessed type __int16 word_1007DD64[];
// 10086E44: using guessed type char *off_10086E44[31];
// 10086EE0: using guessed type char *off_10086EE0;
// 10086F00: using guessed type char *off_10086F00[11];
// 100E4980: using guessed type int dword_100E4980;
// 104CEA60: using guessed type int dword_104CEA60;
// 10012560: using guessed type int var_16C[21];
// 10012560: using guessed type __int16 var_178[2];

//----- (10014C10) --------------------------------------------------------
char __cdecl sub_10014C10(char a1)
{
  return sub_10017C70(3138, (int)&a1, 2);
}

//----- (10014C30) --------------------------------------------------------
char __cdecl sub_10014C30(char a1)
{
  int v1; // ecx@0
  char result; // al@1
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  result = sub_10017AE0(3159, (int)&v3 + 3, 1);
  if ( a1 != BYTE3(v3) )
    result = sub_10017C70(3159, (int)&a1, 1);
  return result;
}

//----- (10014C70) --------------------------------------------------------
char __cdecl sub_10014C70(char a1)
{
  int v1; // ecx@0
  char result; // al@1
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  result = sub_10017AE0(9215, (int)&v3 + 3, 1);
  if ( a1 != BYTE3(v3) )
    result = sub_10017C70(9215, (int)&a1, 1);
  return result;
}

//----- (10014CB0) --------------------------------------------------------
char __cdecl sub_10014CB0(char a1)
{
  return sub_10017C70(3067, (int)&a1, 1);
}

//----- (10014CD0) --------------------------------------------------------
char __cdecl sub_10014CD0(char a1)
{
  int v1; // ecx@0
  char result; // al@1
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  result = sub_10017AE0(3059, (int)&v3 + 3, 1);
  if ( a1 != BYTE3(v3) )
    result = sub_10017C70(3059, (int)&a1, 1);
  return result;
}

//----- (10014D10) --------------------------------------------------------
int __cdecl sub_10014D10(int a1, float a2, float a3, int a4)
{
  double v5; // [sp+10h] [bp-10h]@1
  double v6; // [sp+18h] [bp-8h]@1

  sub_1004A400((int)&v5, *(_DWORD *)a1, *(_DWORD *)(a1 + 4));
  sub_100218A0((int)&v5, a2, a3, 1, (int)&v5);
  return sub_1004A420(a4, v5, v6);
}

//----- (10014D80) --------------------------------------------------------
signed __int64 __cdecl sub_10014D80(int a1, signed int a2)
{
  signed __int64 v2; // ST00_8@1

  HIDWORD(v2) = a1;
  LODWORD(v2) = 0;
  return v2 / a2;
}

//----- (10014DA0) --------------------------------------------------------
__int64 __cdecl sub_10014DA0(unsigned int a1, signed int a2, int a3)
{
  signed __int64 v3; // rax@1
  __int64 result; // rax@1

  v3 = (a1 * (signed __int64)a3 + 1) >> 32;
  HIDWORD(result) = a2 >> 31;
  LODWORD(result) = a3 * a2 + result;
  return result;
}

//----- (10014DE0) --------------------------------------------------------
__int16 __cdecl sub_10014DE0(int a1, int a2, int a3)
{
  int v3; // esi@3
  __int64 v4; // rax@3
  bool v5; // zf@6
  __int16 v6; // si@10

  if ( *(_BYTE *)(a1 + 8234) != 1 )
  {
    switch ( *(_BYTE *)(a1 + 8360) )
    {
      case 2:
        v3 = a3;
        v4 = *(_WORD *)(a1 + 3822);
        if ( *(_BYTE *)(a1 + 8559) == 1 )
          goto LABEL_9;
        *(_WORD *)a3 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
        v4 = *(_WORD *)(a1 + 3824);
        goto LABEL_5;
      case 1:
        v3 = a3;
        v5 = *(_BYTE *)(a1 + 3550) == 3;
        *(_WORD *)a3 = *(_WORD *)(a1 + 3818) + *(_WORD *)(a1 + 3822) / 2;
        v4 = *(_WORD *)(a1 + 3824);
        if ( v5 )
        {
          LOWORD(v4) = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824) / 2;
          *(_WORD *)(a3 + 2) = v4;
        }
        else
        {
LABEL_5:
          LODWORD(v4) = ((BYTE4(v4) & 7) + (signed int)v4) >> 3;
          *(_WORD *)(v3 + 2) = *(_WORD *)(a1 + 3820) + 7 * v4;
        }
        return v4;
      case 3:
        v3 = a3;
        v4 = *(_WORD *)(a1 + 3822);
LABEL_9:
        *(_WORD *)v3 = *(_WORD *)(a1 + 3818) + (((signed int)v4 - HIDWORD(v4)) >> 1);
        LOWORD(v4) = *(_WORD *)(a1 + 3820) + *(_WORD *)(a1 + 3824) / 2;
        *(_WORD *)(v3 + 2) = v4;
        return v4;
      case 4:
        WORD1(v4) = HIWORD(a2);
        v6 = a2 + *(_WORD *)(a1 + 3818) - *(_WORD *)(a1 + 3698) + 55;
        goto LABEL_12;
      default:
        break;
    }
  }
  WORD1(v4) = HIWORD(a2);
  v6 = a2 + *(_WORD *)(a1 + 3818) - *(_WORD *)(a1 + 3698);
LABEL_12:
  *(_WORD *)a3 = v6;
  LOWORD(v4) = *(_WORD *)(a1 + 3820) + WORD1(v4) - *(_WORD *)(a1 + 3700);
  *(_WORD *)(a3 + 2) = v4;
  return v4;
}

//----- (10014F30) --------------------------------------------------------
int __cdecl sub_10014F30(int a1, int a2, int a3)
{
  int v3; // ecx@1
  int v4; // ebx@1
  int v5; // esi@1
  int v6; // eax@1
  signed int v7; // eax@2
  int v8; // esi@4
  signed int v9; // eax@4
  int v10; // edx@6
  int v11; // esi@6
  int result; // eax@6
  int v13; // [sp+14h] [bp+4h]@4

  v3 = a1;
  v4 = *(_WORD *)(a1 + 3602);
  v5 = *(_WORD *)(a1 + 3604);
  v6 = v5 * (signed __int16)(*(_WORD *)a2 - *(_WORD *)(a1 + 8046) / 2)
     - v4 * (signed __int16)(*(_WORD *)(a2 + 2) - *(_WORD *)(a1 + 8044) / 2);
  if ( v6 <= 0 )
    v7 = v6 - 0x3FFF;
  else
    v7 = v6 + 0x3FFF;
  v8 = v4 * (signed __int16)(*(_WORD *)a2 - *(_WORD *)(a1 + 8046) / 2)
     + (signed __int16)(*(_WORD *)(a2 + 2) - *(_WORD *)(a1 + 8044) / 2) * v5;
  v13 = v7 / 0x8000;
  v9 = v8 + 0x3FFF;
  if ( v8 <= 0 )
    v9 = v8 - 0x3FFF;
  v10 = v13 * *(_DWORD *)(v3 + 3632);
  v11 = v9 / 0x8000 * *(_DWORD *)(v3 + 3628);
  result = a3;
  *(_DWORD *)a3 = *(_DWORD *)(v3 + 3592) - v11;
  *(_DWORD *)(a3 + 4) = v10 + *(_DWORD *)(v3 + 3596);
  return result;
}

//----- (10015000) --------------------------------------------------------
BOOL __cdecl sub_10015000(char a1)
{
  int v1; // esi@1
  signed int i; // edi@1

  v1 = sub_100178A0(20, 30);
  for ( i = 0; v1; ++i )
  {
    if ( i >= 1000 )
      break;
    v1 = sub_100178A0(20, 30);
  }
  if ( a1 && v1 )
    sub_100175E0(".\\mpm\\mpm_c_utl.c", 1026, 1, 0);
  return v1 == 0;
}

//----- (10015060) --------------------------------------------------------
__int16 __cdecl sub_10015060(int a1, int a2, unsigned __int16 a3, int a4)
{
  int v4; // esi@1
  int v5; // ebp@1
  unsigned __int8 v6; // cl@1
  unsigned __int8 v7; // bl@1
  bool v8; // zf@1
  __int64 v9; // rax@1
  signed __int64 v10; // rax@2
  unsigned int v11; // eax@8
  int v12; // eax@10
  int v13; // eax@10
  __int16 v14; // ax@14
  signed __int64 v15; // rax@15
  signed __int64 v16; // rax@19
  unsigned int v17; // eax@20
  int v18; // eax@22
  int v19; // eax@22
  __int16 result; // ax@23
  int v21; // edx@24
  bool v22; // sf@24
  unsigned __int8 v23; // of@24
  signed __int16 v24; // [sp+14h] [bp-Ch]@1
  __int64 v25; // [sp+18h] [bp-8h]@1
  unsigned __int8 v26; // [sp+30h] [bp+10h]@1

  v4 = a4;
  v5 = *(_DWORD *)a1 - *(_DWORD *)(a4 + 24);
  v6 = *(_BYTE *)(a4 + 52);
  v7 = *(_BYTE *)(a4 + 46);
  v8 = *(_WORD *)(a4 + 42) == 0;
  v9 = *(_DWORD *)(a1 + 4) - *(_DWORD *)(a4 + 28);
  v24 = 0;
  v26 = *(_BYTE *)(a4 + 46);
  HIDWORD(v25) = HIDWORD(v9);
  if ( v8 )
  {
    LODWORD(v25) = v9;
    v10 = *(_WORD *)(v4 + 48) * v25 >> v6;
  }
  else
  {
    if ( v6 < v7 )
    {
      LODWORD(v25) = v9;
      v10 = (v5 * (signed __int64)*(_WORD *)(v4 + 42) + ((signed int)*(_WORD *)(v4 + 48) << (v7 - v6)) * v9) >> v7;
    }
    else
    {
      LODWORD(v25) = v9;
      v10 = (*(_WORD *)(v4 + 48) * v25 + v5 * (signed __int64)((signed int)*(_WORD *)(v4 + 42) << (v6 - v7))) >> v6;
    }
    v7 = v26;
  }
  if ( (signed int)v10 < 0 )
    v11 = ((signed int)v10 - 2) / 4;
  else
    v11 = (unsigned int)(v10 + 2) >> 2;
  v12 = *(_WORD *)(v4 + 40) + v11;
  *(_DWORD *)a2 = v12;
  v13 = a3 + v12;
  if ( v13 >= 0 )
  {
    if ( v13 > 2 * (a3 + (signed int)*(_WORD *)(v4 + 40)) )
      v24 = 4;
  }
  else
  {
    v24 = 8;
  }
  v14 = *(_WORD *)(v4 + 50);
  if ( v14 )
  {
    if ( v6 < v7 )
    {
      v15 = v5 * (signed __int64)*(_WORD *)(v4 + 44) + ((signed int)v14 << (v7 - v6)) * v25;
      v6 = v7;
    }
    else
    {
      v15 = *(_WORD *)(v4 + 50) * v25 + v5 * (signed __int64)((signed int)*(_WORD *)(v4 + 44) << (v6 - v7));
    }
  }
  else
  {
    v15 = v5 * (signed __int64)*(_WORD *)(v4 + 44);
    v6 = v7;
  }
  v16 = v15 >> v6;
  if ( (signed int)v16 < 0 )
    v17 = ((signed int)v16 - 2) / 4;
  else
    v17 = (unsigned int)(v16 + 2) >> 2;
  v18 = *(_WORD *)(v4 + 38) + v17;
  *(_DWORD *)(a2 + 4) = v18;
  v19 = a3 + v18;
  if ( v19 >= 0 )
  {
    v21 = 2 * (a3 + *(_WORD *)(v4 + 38));
    v23 = __OFSUB__(v19, v21);
    v8 = v19 == v21;
    v22 = v19 - v21 < 0;
    result = v24;
    if ( !((unsigned __int8)(v22 ^ v23) | v8) )
      result = v24 | 1;
  }
  else
  {
    result = v24 | 2;
  }
  return result;
}

//----- (10015280) --------------------------------------------------------
__int16 __cdecl sub_10015280(int a1, int a2, int a3)
{
  __int16 result; // ax@1
  int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@6

  result = sub_10015060(a2, (int)&v4, 0, a1 + 3568);
  if ( v4 <= 0x3FFF )
  {
    if ( v4 >= -16383 )
    {
      *(_WORD *)a3 = v4;
    }
    else
    {
      result |= 0x10u;
      *(_WORD *)a3 = -16383;
    }
  }
  else
  {
    result |= 0x10u;
    *(_WORD *)a3 = 0x3FFF;
  }
  if ( v5 <= 0x3FFF )
  {
    if ( v5 >= -16383 )
    {
      *(_WORD *)(a3 + 2) = v5;
    }
    else
    {
      result |= 0x20u;
      *(_WORD *)(a3 + 2) = -16383;
    }
  }
  else
  {
    result |= 0x20u;
    *(_WORD *)(a3 + 2) = 0x3FFF;
  }
  return result;
}

//----- (10015310) --------------------------------------------------------
int __cdecl sub_10015310(int a1)
{
  double v1; // st7@1
  int result; // eax@1

  v1 = sub_10021990();
  result = a1;
  *(float *)(a1 + 8636) = v1;
  return result;
}

//----- (10015320) --------------------------------------------------------
bool __usercall sub_10015320@<al>(int a1@<eax>, __int16 a2@<dx>, _WORD *a3@<ecx>, __int16 a4@<si>)
{
  _WORD *v4; // edi@1
  int v5; // ecx@2
  unsigned int v6; // ecx@4
  bool result; // al@5
  int v8; // ecx@6

  v4 = a3;
  result = 0;
  if ( !*(_WORD *)(a1 + 2) || (v5 = *(_DWORD *)(a1 + 8), *(_WORD *)(v5 + 2) != a2) || *(_WORD *)(v5 + 4) != a4 )
  {
    v6 = *(_DWORD *)(a1 + 8);
    if ( v6 <= (unsigned int)&v4[4 * *v4 + 2]
      || (v8 = v6 - 4,
          *(_DWORD *)(a1 + 8) = v8,
          *(_WORD *)(v8 + 2) = a2,
          *(_WORD *)(*(_DWORD *)(a1 + 8) + 4) = a4,
          ++*(_WORD *)(a1 + 2),
          *(_BYTE *)a1)
      && (unsigned int)(*(_DWORD *)(a1 + 8) + 2) < *(_DWORD *)(a1 + 4) )
    {
      result = 1;
    }
  }
  return result;
}

//----- (10015380) --------------------------------------------------------
int __usercall sub_10015380@<eax>(int a1@<esi>)
{
  int v1; // ecx@5
  int result; // eax@5
  int v3; // ecx@18
  int v4; // [sp+8h] [bp-10h]@1
  int v5; // [sp+Ch] [bp-Ch]@4
  float v6; // [sp+10h] [bp-8h]@7
  float v7; // [sp+14h] [bp-4h]@9

  *(_BYTE *)(a1 + 3681) = 0;
  v4 = 0;
  if ( *(_BYTE *)(a1 + 3680) != 1 )
  {
    if ( *(_BYTE *)(a1 + 3680) != 2 )
    {
      if ( *(_BYTE *)(a1 + 3680) == 3 )
      {
        if ( sub_1004D880(1, &v5) )
        {
          v1 = v5;
          v4 = v5;
          *(_BYTE *)(a1 + 3681) = 3;
          return v1;
        }
        if ( sub_10016D70() && sub_10016CC0(&v6) )
        {
          sub_1004D500((int)&v4, v6);
          result = v4;
          *(_BYTE *)(a1 + 3681) = 1;
          return result;
        }
      }
      return v4;
    }
    if ( sub_10019820(1, 1, &v7) )
    {
      sub_1004D500((int)&v4, v7);
      result = v4;
      *(_BYTE *)(a1 + 3681) = 2;
      return result;
    }
    if ( sub_10016D70() && sub_10016CC0(&v6) )
    {
      sub_1004D500((int)&v4, v6);
      result = v4;
      *(_BYTE *)(a1 + 3681) = 1;
      return result;
    }
    goto LABEL_19;
  }
  if ( !sub_10016CC0(&v6) )
  {
LABEL_19:
    if ( sub_1004D880(1, &v5) )
    {
      v4 = v5;
      *(_BYTE *)(a1 + 3681) = 3;
    }
    return v4;
  }
  if ( sub_10016D70() )
  {
    sub_1004D500((int)&v4, v6);
    result = v4;
    *(_BYTE *)(a1 + 3681) = 1;
    return result;
  }
  if ( sub_1004D880(1, &v5) )
  {
    v3 = v5;
    *(_BYTE *)(a1 + 3681) = 1;
    v4 = v3;
    return v3;
  }
  return v4;
}

//----- (10015530) --------------------------------------------------------
int __usercall sub_10015530@<eax>(int a1@<esi>)
{
  char v1; // bl@1
  float v2; // ST08_4@4
  int result; // eax@4
  int v4; // [sp+8h] [bp-Ch]@1
  float v5; // [sp+Ch] [bp-8h]@1
  int v6; // [sp+10h] [bp-4h]@1

  v4 = *(_DWORD *)(a1 + 3656);
  v1 = sub_1004D880(1, &v6);
  if ( sub_10016CC0(&v5) && (sub_10016D70() || !v1) )
  {
    v2 = v5;
    *(_BYTE *)(a1 + 8164) = 1;
    sub_1004D500((int)&v4, v2);
    result = v4;
    *(_BYTE *)(a1 + 3680) = 1;
    *(_BYTE *)(a1 + 3681) = 1;
  }
  else
  {
    *(_BYTE *)(a1 + 3680) = 3;
    *(_BYTE *)(a1 + 3681) = 3;
    result = v6;
    *(_BYTE *)(a1 + 8164) = v1;
    if ( !v1 )
      result = v4;
  }
  return result;
}

//----- (100155D0) --------------------------------------------------------
int __usercall sub_100155D0@<eax>(int a1@<esi>)
{
  int result; // eax@2
  int v2; // [sp+4h] [bp-Ch]@1
  float v3; // [sp+8h] [bp-8h]@4
  int v4; // [sp+Ch] [bp-4h]@5

  *(_BYTE *)(a1 + 3681) = 3;
  if ( sub_1004D880(1, &v2) )
  {
    result = v2;
  }
  else if ( sub_10016D70() && sub_10016CC0(&v3) )
  {
    sub_1004D500((int)&v4, v3);
    result = v4;
  }
  else
  {
    *(_BYTE *)(a1 + 3681) = 4;
    result = *(_DWORD *)(a1 + 3656);
  }
  return result;
}

//----- (10015640) --------------------------------------------------------
int __usercall sub_10015640@<eax>(int a1@<esi>)
{
  int result; // eax@2
  int v2; // [sp+4h] [bp-Ch]@1
  float v3; // [sp+8h] [bp-8h]@4
  int v4; // [sp+Ch] [bp-4h]@5

  if ( sub_1004D880(1, &v2) )
  {
    result = v2;
    *(_BYTE *)(a1 + 3681) = 3;
  }
  else if ( sub_10016D70() && sub_10016CC0(&v3) )
  {
    sub_1004D500((int)&v4, v3);
    result = v4;
    *(_BYTE *)(a1 + 3681) = 1;
  }
  else
  {
    result = *(_DWORD *)(a1 + 3660);
    *(_BYTE *)(a1 + 3681) = 1;
  }
  return result;
}

//----- (100156C0) --------------------------------------------------------
char *__cdecl sub_100156C0(int a1, char *a2, __int16 a3, char a4, char a5)
{
  char *v5; // edi@1
  signed int v6; // ebx@1
  bool v7; // cf@1
  unsigned __int16 v8; // ax@3
  int v9; // ebp@3
  int v10; // esi@6
  __int16 v11; // ax@6
  int v12; // edx@10
  int v13; // ebp@12
  unsigned __int16 v14; // si@12
  __int16 v15; // ax@12
  __int16 v16; // si@15
  __int16 v17; // dx@15
  signed int v18; // ebx@17
  int v19; // ecx@20
  int v20; // edx@20
  signed int v21; // ebp@28
  signed int v22; // esi@28
  signed __int64 v23; // kr00_8@28
  signed __int64 v24; // rax@34
  signed int v25; // ebp@46
  unsigned int v26; // esi@46
  signed __int64 v27; // kr08_8@46
  signed __int64 v28; // rax@49
  signed int v29; // ecx@52
  unsigned int v30; // edi@52
  __int16 v31; // ax@72
  __int16 v32; // ax@73
  __int16 v33; // ax@78
  __int16 v34; // ax@79
  bool v35; // zf@95
  char *result; // eax@97
  unsigned __int16 *v37; // ecx@100
  unsigned __int16 *v38; // ecx@101
  bool v39; // [sp+13h] [bp-75h]@1
  int v40; // [sp+14h] [bp-74h]@10
  int v41; // [sp+18h] [bp-70h]@10
  signed int v42; // [sp+1Ch] [bp-6Ch]@17
  int v43; // [sp+20h] [bp-68h]@25
  int v44; // [sp+24h] [bp-64h]@10
  int v45; // [sp+28h] [bp-60h]@20
  int v46; // [sp+2Ch] [bp-5Ch]@25
  __int16 v47; // [sp+30h] [bp-58h]@22
  unsigned __int16 v48; // [sp+34h] [bp-54h]@1
  int v49; // [sp+38h] [bp-50h]@6
  int v50; // [sp+40h] [bp-48h]@3
  signed __int64 v51; // [sp+44h] [bp-44h]@40
  signed __int64 v52; // [sp+4Ch] [bp-3Ch]@33
  signed __int64 v53; // [sp+54h] [bp-34h]@39
  signed __int64 v54; // [sp+5Ch] [bp-2Ch]@42
  char v55; // [sp+64h] [bp-24h]@1
  unsigned __int16 v56; // [sp+66h] [bp-22h]@3
  char *v57; // [sp+68h] [bp-20h]@3
  unsigned __int16 *v58; // [sp+6Ch] [bp-1Ch]@3
  int v59; // [sp+70h] [bp-18h]@10
  int v60; // [sp+74h] [bp-14h]@6
  int v61; // [sp+78h] [bp-10h]@12
  int v62; // [sp+80h] [bp-8h]@12
  int v63; // [sp+84h] [bp-4h]@12

  v5 = a2;
  v6 = 0;
  v7 = *(_WORD *)a2 < 2u;
  v55 = 1;
  v48 = 0;
  v39 = 0;
  if ( v7 )
    sub_100175E0(".\\mpm\\mpm_c_utl.c", 285, 1, 0);
  v58 = (unsigned __int16 *)&a2[4 * ((a3 + 3) / 4) - 2];
  v8 = *(_WORD *)a2;
  v9 = *(_WORD *)a2;
  v56 = 0;
  v57 = &a2[8 * v8 + 4];
  v50 = v9;
  if ( a4 )
  {
    if ( a5 )
    {
      v6 = 100;
      v48 = 100;
    }
    v10 = a1;
    v49 = a1 + 3568;
    v11 = sub_10015060((int)(a2 + 4), (int)&v60, v6, a1 + 3568);
  }
  else
  {
    if ( a5 )
    {
      v6 = 10;
      v48 = 10;
    }
    v10 = a1;
    v49 = a1 + 3568;
    v11 = sub_10015060((int)&a2[8 * v9 - 4], (int)&v60, v6, a1 + 3568);
  }
  v12 = *(_WORD *)(v10 + 3606);
  LOWORD(v59) = v11;
  v41 = -v6;
  v44 = v6 + 2 * *(_WORD *)(v10 + 3608);
  v40 = v6 + 2 * v12;
  if ( !(_WORD)v9 )
    goto LABEL_99;
  do
  {
    if ( v39 )
      goto LABEL_97;
    v13 = v61;
    v14 = v59;
    v62 = v60;
    v63 = v61;
    v57 -= 8;
    v15 = sub_10015060((int)v57, (int)&v60, v48, v49);
    LOWORD(v59) = v15;
    if ( !v15 && !v14 )
    {
      if ( !a5 )
        goto LABEL_95;
      v16 = v61;
      v17 = v60;
      goto LABEL_94;
    }
    if ( (unsigned __int16)v59 & v14 )
    {
      if ( v15 != v14 && a5 )
      {
        switch ( v15 )
        {
          case 5:
            v16 = v40;
            v17 = v44;
            goto LABEL_94;
          case 6:
            v16 = v41;
            v17 = v44;
            goto LABEL_94;
          case 9:
            v16 = v40;
            v17 = v41;
            goto LABEL_94;
          case 0xA:
            v17 = v41;
            v16 = v41;
            goto LABEL_94;
          default:
            goto LABEL_95;
        }
      }
      goto LABEL_95;
    }
    v18 = v60 - v62;
    v42 = v61 - v13;
    if ( v60 - v62 > 0 || v60 == v62 && v62 > v44 )
    {
      v19 = v41;
      v45 = v41;
      v20 = v44;
    }
    else
    {
      v19 = v41;
      v45 = v44;
      v20 = v41;
    }
    v47 = v20;
    if ( v61 - v13 > 0 || v61 == v13 && v13 > v40 )
    {
      v46 = v19;
      v43 = v40;
    }
    else
    {
      v46 = v40;
      v43 = v19;
    }
    if ( v60 == v62 )
    {
      if ( v19 > v62 || v62 > v44 )
      {
        v22 = 1;
        v21 = 2147483648;
      }
      else
      {
        v22 = -1;
        v21 = 0x7FFFFFFF;
      }
    }
    else
    {
      v23 = sub_10014D80(v20 - v62, v60 - v62);
      v21 = HIDWORD(v23);
      v22 = v23;
    }
    v52 = __PAIR__(v21, v22);
    if ( v42 )
    {
      v24 = sub_10014D80(v43 - v63, v42);
    }
    else if ( v41 > v63 || v63 > v40 )
    {
      v24 = -9223372036854775807i64;
    }
    else
    {
      v24 = 0x7FFFFFFFFFFFFFFFi64;
    }
    v53 = v24;
    if ( __PAIR__(v21, v22) >= v24 )
    {
      v51 = v24;
      v24 = __PAIR__(v21, v22);
    }
    else
    {
      v51 = __PAIR__(v21, v22);
    }
    v54 = v24;
    if ( SHIDWORD(v24) < 0 || SHIDWORD(v24) <= 0 && !(_DWORD)v24 )
      goto LABEL_95;
    if ( v18 )
    {
      v27 = sub_10014D80(v45 - v62, v18);
      v25 = HIDWORD(v27);
      v26 = v27;
    }
    else
    {
      v26 = 1;
      v25 = 2147483648;
    }
    if ( v42 )
      v28 = sub_10014D80(v46 - v63, v42);
    else
      v28 = -9223372036854775807i64;
    if ( __PAIR__(v25, v26) >= v28 )
    {
      v30 = v26;
      v29 = v25;
    }
    else
    {
      v29 = HIDWORD(v28);
      v30 = v28;
    }
    if ( v51 >= __PAIR__(v29, v30) )
    {
      if ( SHIDWORD(v51) < 0 || SHIDWORD(v51) <= 0 && !(_DWORD)v51 || v29 > 1 || v29 >= 1 && v30 )
      {
LABEL_82:
        v5 = a2;
        goto LABEL_83;
      }
      if ( v29 >= 0 && (v29 > 0 || v30) )
      {
        if ( __PAIR__(v25, v26) <= v28 )
        {
          v32 = sub_10014DA0(v28, SHIDWORD(v28), v18);
          v5 = a2;
          v39 = sub_10015320((int)&v55, v62 + v32, a2, v46);
        }
        else
        {
          v31 = sub_10014DA0(v26, v25, v42);
          v5 = a2;
          v39 = sub_10015320((int)&v55, v45, a2, v63 + v31);
        }
      }
      else
      {
        v5 = a2;
      }
      if ( SHIDWORD(v51) >= 1 || v39 )
      {
        if ( a5 )
          v39 = sub_10015320((int)&v55, v60, v5, v61);
      }
      else if ( v52 >= v53 )
      {
        v34 = sub_10014DA0(v53, SHIDWORD(v53), v18);
        v39 = sub_10015320((int)&v55, v62 + v34, v5, v43);
      }
      else
      {
        v33 = sub_10014DA0(v52, SHIDWORD(v52), v42);
        v39 = sub_10015320((int)&v55, v47, v5, v63 + v33);
      }
    }
    else
    {
      if ( HIDWORD(v51) > 1 || HIDWORD(v51) >= 1 && (_DWORD)v51 || !a5 )
        goto LABEL_82;
      if ( __PAIR__(v25, v26) >= v28 )
      {
        v5 = a2;
        v39 = sub_10015320((int)&v55, v45, a2, v43);
      }
      else
      {
        v5 = a2;
        v39 = sub_10015320((int)&v55, v47, a2, v46);
      }
    }
LABEL_83:
    if ( (unsigned __int64)(v54 - 1) <= 0xFFFFFFFF && a5 && !v39 )
    {
      v16 = v43;
      v17 = v47;
LABEL_94:
      v39 = sub_10015320((int)&v55, v17, v5, v16);
    }
LABEL_95:
    v35 = (_WORD)v50 == 1;
    v50 += 0xFFFF;
  }
  while ( !v35 );
  if ( v39 )
  {
LABEL_97:
    result = &v5[a3 - 4];
    *(_WORD *)result = 0;
    return result;
  }
  if ( v56 < 2u )
  {
LABEL_99:
    if ( a5 )
    {
      v37 = v58;
      *v58 = 0;
      return (char *)v37;
    }
  }
  v38 = v58;
  *v58 = v56;
  return (char *)v38;
}

//----- (10015D00) --------------------------------------------------------
bool __cdecl sub_10015D00(int a1, int *a2)
{
  char v2; // bl@1
  int v3; // eax@2

  v2 = *(_BYTE *)(a1 + 3681);
  *a2 = 0;
  switch ( *(_BYTE *)(a1 + 8360) )
  {
    case 3:
      v3 = sub_10015640(a1);
      break;
    case 1:
      v3 = sub_100155D0(a1);
      break;
    case 2:
      v3 = sub_10015640(a1);
      break;
    case 4:
      v3 = sub_10015530(a1);
      break;
    default:
      v3 = sub_10015380(a1);
      break;
  }
  *a2 = v3;
  return v2 != *(_BYTE *)(a1 + 3681);
}

//----- (10015D80) --------------------------------------------------------
int __cdecl sub_10015D80(int a1, int a2)
{
  __int16 v2; // ax@1
  unsigned __int16 v3; // si^2@8
  signed int v4; // eax@9
  char v5; // al@10
  double v6; // st7@12
  double v7; // st7@16
  signed int v8; // edi@16
  int v9; // esi@16
  int v10; // eax@22
  __int16 v11; // ax@24
  double v12; // st7@24
  signed int v13; // ebx@24
  double v14; // st7@24
  int v15; // ecx@24
  int v16; // eax@24
  float v17; // ST20_4@28
  float v18; // ST20_4@28
  int v19; // esi@28
  double v20; // st7@32
  signed int v21; // ecx@32
  long double v22; // st7@34
  signed int v23; // ST20_4@40
  signed int v24; // esi@40
  __int16 v25; // bx@40
  signed int v26; // eax@40
  signed int v27; // ST20_4@40
  int v28; // eax@40
  signed int v29; // esi@41
  __int16 v30; // ax@46
  __int16 v31; // si@46
  signed int v32; // eax@46
  int v33; // ecx@46
  int v34; // ebx@46
  int v35; // eax@46
  int v36; // eax@47
  bool v37; // zf@49
  double v38; // st7@51
  int v39; // eax@52
  int v40; // eax@55
  int v41; // ecx@55
  double v42; // st7@55
  double v43; // st7@56
  __int16 v44; // ax@61
  signed int v45; // ebx@61
  int *v46; // esi@61
  double *v47; // edi@61
  int v48; // edi@65
  signed int v49; // esi@65
  int result; // eax@71
  char v51; // al@72
  __int16 v52; // [sp+18h] [bp-98h]@40
  signed int v53; // [sp+1Ch] [bp-94h]@40
  signed int v54; // [sp+1Ch] [bp-94h]@44
  long double v55; // [sp+20h] [bp-90h]@10
  __int16 v56; // [sp+28h] [bp-88h]@61
  __int16 v57; // [sp+2Ah] [bp-86h]@61
  __int16 v58; // [sp+2Ch] [bp-84h]@61
  __int16 v59; // [sp+2Eh] [bp-82h]@61
  int v60; // [sp+30h] [bp-80h]@1
  int v61; // [sp+34h] [bp-7Ch]@24
  int v62; // [sp+38h] [bp-78h]@32
  char v63; // [sp+3Ch] [bp-74h]@1
  bool v64; // [sp+3Dh] [bp-73h]@46
  int v65; // [sp+40h] [bp-70h]@46
  int v66; // [sp+44h] [bp-6Ch]@46
  int v67; // [sp+48h] [bp-68h]@46
  int v68; // [sp+4Ch] [bp-64h]@46
  __int16 v69; // [sp+50h] [bp-60h]@10
  int v70; // [sp+54h] [bp-5Ch]@24
  int v71; // [sp+58h] [bp-58h]@24
  char v72; // [sp+5Ch] [bp-54h]@24
  __int16 v73; // [sp+5Eh] [bp-52h]@10
  __int16 v74; // [sp+60h] [bp-50h]@10
  __int16 v75; // [sp+62h] [bp-4Eh]@24
  __int16 v76; // [sp+64h] [bp-4Ch]@32
  __int16 v77; // [sp+66h] [bp-4Ah]@46
  __int16 v78; // [sp+68h] [bp-48h]@46
  char v79; // [sp+6Ah] [bp-46h]@46
  __int16 v80; // [sp+6Ch] [bp-44h]@46
  __int16 v81; // [sp+6Eh] [bp-42h]@46
  char v82; // [sp+70h] [bp-40h]@46
  unsigned __int8 v83; // [sp+72h] [bp-3Eh]@10
  char v84; // [sp+73h] [bp-3Dh]@10
  int v85; // [sp+74h] [bp-3Ch]@8
  int v86; // [sp+78h] [bp-38h]@16
  int v87; // [sp+7Ch] [bp-34h]@28
  float v88; // [sp+80h] [bp-30h]@16
  float v89; // [sp+84h] [bp-2Ch]@28
  double v90; // [sp+88h] [bp-28h]@28
  int v91; // [sp+90h] [bp-20h]@61
  int v92[7]; // [sp+94h] [bp-1Ch]@65

  memset(&v63, 0, 0x4Cu);
  v2 = *(_WORD *)(a1 + 3822);
  v60 = 0;
  if ( (v2 == 217 && *(_WORD *)(a1 + 3824) == 217 || v2 == 302 && *(_WORD *)(a1 + 3824) == 218) && *(_BYTE *)(a1 + 8544) )
    v60 = 40;
  if ( *(_BYTE *)(a1 + 1140) == 1 )
  {
    v3 = 0;
    v85 = 0;
  }
  else
  {
    sub_10015D00(a1, &v85);
    v3 = HIWORD(v85);
    if ( v85 > 0 )
    {
      LOWORD(v4) = -(signed __int16)(signed int)((double)v85 * 0.00000008381903171539307 + 0.5);
      goto LABEL_10;
    }
  }
  v4 = (signed int)(0.5 - (double)v85 * 0.00000008381903171539307);
LABEL_10:
  v69 = v4;
  v73 = sub_100634D0(v3);
  v74 = sub_10063530(v3);
  v55 = log(2.0);
  v5 = *(_BYTE *)(a1 + 3623);
  v83 = *(_BYTE *)(a1 + 3622);
  v84 = v5;
LABEL_11:
  if ( *(_BYTE *)(a1 + 8360) )
  {
    v6 = *(float *)(a1 + 8236);
    goto LABEL_16;
  }
  while ( 1 )
  {
    v6 = *(float *)(a1 + 4 * v83 + 7908);
LABEL_16:
    v88 = v6 * 107.1731872558594;
    v7 = v88 + 0.5;
    v8 = (signed int)v7;
    v86 = (signed int)v7;
    v9 = 0x3FFFFFFF / (signed int)v7;
    if ( v9 <= 0 )
      sub_100175E0(".\\mpm\\mpm_c_utl.c", 1629, 1, 0);
    if ( *(_WORD *)(a1 + 8044) < v9 )
      LOWORD(v9) = *(_WORD *)(a1 + 8044);
    *(_WORD *)(a1 + 8044) = v9;
    if ( 0x7FFFFFFF / v8 <= 0 )
      sub_100175E0(".\\mpm\\mpm_c_utl.c", 1633, 1, 0);
    v10 = *(_WORD *)(a1 + 8046);
    if ( v10 >= 0x7FFFFFFF / v8 )
      v10 = 0x7FFFFFFF / v8;
    *(_WORD *)(a1 + 8044) &= 0xFFFEu;
    *(_WORD *)(a1 + 8046) = v10 & 0xFFFE;
    v11 = *(_WORD *)(a1 + 8044) / 2;
    v75 = v11;
    v12 = (double)v11 * v88 + 0.5;
    v13 = (signed int)v12;
    v61 = (signed int)v12;
    v14 = ceil(32.0 - log((double)v86 * 3.200000047683716 * 4.860759258270264) / v55);
    v63 = 24;
    v72 = (signed int)v14;
    v15 = *(_DWORD *)a2;
    v16 = v13 + v8;
    v71 = *(_DWORD *)(a2 + 4);
    v70 = v15;
    if ( v15 + v13 + v8 <= 0x3FFFFFFF )
    {
      if ( v15 - v16 < -1073741823 )
        v70 = v16 - 0x3FFFFFFF;
    }
    else
    {
      v70 = 0x3FFFFFFF - v16;
    }
    v90 = v88;
    v17 = (double)v70 * 0.000000001462918079267163;
    v18 = cos(v17);
    v89 = v88 / v18;
    v87 = (signed int)(v89 + 0.5);
    v19 = 0x7FFFFFFF / v87;
    if ( 0x7FFFFFFF / v87 <= 0 )
      sub_100175E0(".\\mpm\\mpm_c_utl.c", 1706, 1, 0);
    if ( *(_WORD *)(a1 + 8046) < v19 )
      LOWORD(v19) = *(_WORD *)(a1 + 8046);
    v20 = (double)((signed __int16)v19 / 2) * v89 + 0.5;
    v37 = *(_BYTE *)(a1 + 3680) == 0;
    v21 = (signed int)v20;
    v62 = (signed int)v20;
    v76 = (signed __int16)v19 / 2;
    *(_WORD *)(a1 + 8046) = v19 & 0xFFFE;
    if ( v37 || *(_BYTE *)(a1 + 1140) )
    {
      v22 = (double)(v21 + v86);
    }
    else
    {
      v22 = sqrt((double)v62 * (double)v62 + (double)v61 * (double)v61) + (double)v86;
      v21 = v62;
    }
    if ( v22 < 2147483647.0 || v83 <= 1u )
      break;
    --v83;
    if ( *(_BYTE *)(a1 + 8360) )
    {
      sub_100175E0(".\\mpm\\mpm_c_utl.c", 1739, 1, 0);
      goto LABEL_11;
    }
  }
  v23 = *(_WORD *)(a1 + 8044);
  v24 = 2 * v13;
  LODWORD(v90) = 2 * v13;
  v53 = 2 * v21;
  v25 = 30 - (signed int)ceil(log((double)v23) / v55);
  v26 = (signed int)ceil(log((double)SLODWORD(v90)) / v55);
  v27 = *(_WORD *)(a1 + 8046);
  LODWORD(v90) = (unsigned __int16)(16 - v26);
  v52 = 30 - (signed int)ceil(log((double)v27) / v55);
  v28 = (unsigned __int16)(16 - (signed int)ceil(log((double)v53) / v55));
  LODWORD(v55) = v28;
  if ( SLOWORD(v90) >= 0 )
    v29 = v24 << SLOBYTE(v90);
  else
    v29 = v24 >> -LOBYTE(v90);
  if ( (signed __int16)v28 >= 0 )
    v54 = v53 << v28;
  else
    v54 = v53 >> -(char)v28;
  v30 = (-*(_WORD *)(a1 + 8044) << v25) / v29;
  v79 = v25 - LOBYTE(v90) - 2;
  v31 = v30;
  v32 = *(_WORD *)(a1 + 8046) << v52;
  v77 = v73 * v31 >> 15;
  v80 = v74 * (signed __int16)(v32 / v54) >> 15;
  v78 = v74 * v31 >> 15;
  v33 = v73 * (signed __int16)((-*(_WORD *)(a1 + 8046) << v52) / v54) >> 15;
  v82 = v52 - LOBYTE(v55) - 2;
  v81 = v33;
  v34 = v71 - v62;
  v66 = v71 + v62;
  v68 = v71 - v62;
  v65 = v70 + v61;
  v67 = v70 - v61;
  v64 = v71 - v62 > v71 + v62;
  sub_10015000(1);
  v35 = *(_BYTE *)(a1 + 8360) - 1;
  qmemcpy((void *)(a1 + 3568), &v63, 0x4Cu);
  switch ( v35 )
  {
    case 0:
      v36 = 4 * *(_BYTE *)(a1 + 3622);
      v37 = *(_BYTE *)(a1 + 1129) == 1;
      LODWORD(v55) = *(_WORD *)(a1 + 3718);
      *(float *)(a1 + 8236) = *(float *)(v36 + dword_101EFA38) / (double)SLODWORD(v55);
      if ( v37 )
      {
        LODWORD(v55) = *(_WORD *)(a1 + 3716);
        *(float *)(a1 + 8236) = *(float *)(v36 + dword_101EFA38) / (double)SLODWORD(v55);
      }
      v37 = *(_BYTE *)(a1 + 3550) == 2;
      goto LABEL_50;
    case 1:
      v39 = 4 * *(_BYTE *)(a1 + 3622);
      v37 = *(_BYTE *)(a1 + 1129) == 1;
      LODWORD(v55) = *(_WORD *)(a1 + 3718);
      *(float *)(a1 + 8236) = *(float *)(v39 + dword_10504E84) / (double)SLODWORD(v55);
      if ( v37 )
      {
        LODWORD(v55) = *(_WORD *)(a1 + 3716);
        *(float *)(a1 + 8236) = *(float *)(v39 + dword_10504E84) / (double)SLODWORD(v55);
      }
      v37 = *(_BYTE *)(a1 + 8559) == 0;
LABEL_50:
      if ( !v37 )
        break;
      v38 = *(float *)(a1 + 8236) * 0.7;
      goto LABEL_58;
    case 2:
      v40 = *(_BYTE *)(a1 + 3622);
      v41 = v60;
      v37 = *(_BYTE *)(a1 + 1129) == 1;
      v42 = flt_10078AD0[v40];
      LODWORD(v55) = *(_WORD *)(a1 + 3718) - v60;
      *(float *)(a1 + 8236) = v42 / (double)SLODWORD(v55);
      if ( !v37 )
        break;
      v43 = flt_10078AD0[v40];
      LODWORD(v55) = *(_WORD *)(a1 + 3716) - v41;
      v38 = v43 / (double)SLODWORD(v55);
      goto LABEL_58;
    case 3:
      break;
    default:
      v38 = *(float *)(a1 + 4 * *(_BYTE *)(a1 + 3622) + 7908);
LABEL_58:
      *(float *)(a1 + 8236) = v38;
      break;
  }
  sub_10017820(20);
  if ( !*(_BYTE *)(a1 + 3680) || *(_BYTE *)(a1 + 1140) )
  {
    v49 = v67;
    v48 = v66;
  }
  else
  {
    WORD2(v55) = *(_WORD *)(a1 + 8046);
    v56 = WORD2(v55);
    v44 = *(_WORD *)(a1 + 8044);
    LODWORD(v55) = -1;
    WORD3(v55) = -1;
    v57 = v44;
    v58 = -1;
    v59 = v44;
    v45 = 0;
    v65 = v70;
    v66 = v71;
    v67 = v70;
    v68 = v71;
    v60 = 0;
    v46 = &v91;
    v47 = &v55;
    do
    {
      sub_10014F30(a1, (int)v47, (int)v46);
      if ( *v46 > v65 )
      {
        v65 = *v46;
        v60 = v45;
      }
      ++v45;
      v47 = (double *)((char *)v47 + 4);
      v46 += 2;
    }
    while ( v45 < 4 );
    v48 = v92[2 * ((v60 + 1) % 4)];
    v49 = *(&v91 + 2 * ((v60 + 2) % 4));
    v34 = v92[2 * ((v60 + 3) % 4)];
  }
  if ( v65 > 0x3FFFFFFF )
    v65 = 0x3FFFFFFF;
  if ( v49 < -1073741823 )
  {
    v67 = -1073741823;
    v49 = -1073741823;
  }
  v64 = v34 > v48;
  result = sub_10015000(1);
  if ( (_BYTE)result )
  {
    v51 = v64;
    *(_DWORD *)(a1 + 3572) = v65;
    *(_DWORD *)(a1 + 3576) = v48;
    *(_DWORD *)(a1 + 3580) = v49;
    *(_DWORD *)(a1 + 3584) = v34;
    *(_BYTE *)(a1 + 3569) = v51;
    result = sub_10017820(20);
  }
  return result;
}
// 10078AD0: using guessed type float flt_10078AD0[];
// 101EFA38: using guessed type int dword_101EFA38;
// 10504E84: using guessed type int dword_10504E84;
// 10015D80: using guessed type int var_1C[7];

//----- (10016600) --------------------------------------------------------
int __cdecl sub_10016600(int a1, int a2)
{
  int v2; // edi@1
  int v3; // ecx@1
  int v4; // edx@1
  __int16 v5; // bx@1
  __int16 v6; // bp@1
  int result; // eax@1
  char *v8; // eax@11
  int v9; // ST48_4@13
  int v10; // ebx@14
  __int16 v11; // bp@14
  int v12; // ST48_4@14
  __int16 v13; // ST14_2@14
  int v14; // ST18_4@14
  __int16 v15; // dx@15
  __int16 v16; // cx@15
  __int16 v17; // dx@15
  int v18; // [sp+14h] [bp-ECh]@13
  __int16 v19; // [sp+1Ch] [bp-E4h]@1
  __int16 v20; // [sp+1Eh] [bp-E2h]@1
  int v21; // [sp+20h] [bp-E0h]@1
  int v22; // [sp+24h] [bp-DCh]@1
  int v23; // [sp+28h] [bp-D8h]@13
  char v24; // [sp+30h] [bp-D0h]@1
  char v25; // [sp+46h] [bp-BAh]@10
  float v26; // [sp+A0h] [bp-60h]@9
  float v27; // [sp+BCh] [bp-44h]@7
  float v28; // [sp+C0h] [bp-40h]@8
  char v29; // [sp+C4h] [bp-3Ch]@14
  char v30; // [sp+DAh] [bp-26h]@14
  char v31; // [sp+DBh] [bp-25h]@14
  int v32; // [sp+DEh] [bp-22h]@14

  v2 = a1;
  sub_10019960(&v24);
  v3 = *(_DWORD *)(a2 + 36);
  v4 = *(_WORD *)(a2 + 4);
  v5 = *(_WORD *)(v2 + 3818) - *(_WORD *)(v2 + 3698);
  v6 = *(_WORD *)(v2 + 3820) - *(_WORD *)(v2 + 3700);
  v19 = *(_WORD *)(a2 + 34);
  result = *(_WORD *)(a1 + 3822);
  v21 = v3;
  LOWORD(v3) = *(_WORD *)(a2 + 32);
  v22 = v4;
  v20 = v3;
  if ( ((_WORD)result == 217 && *(_WORD *)(a1 + 3824) == 217 || (_WORD)result == 302 && *(_WORD *)(a1 + 3824) == 218)
    && *(_BYTE *)(a1 + 8544) )
  {
    v6 += 20;
  }
  if ( 9.9999996e24 != v27 && 9.9999996e24 != v28 && 9.9999996e24 != v26 )
  {
    if ( v25 == 1 )
      v8 = sub_1000FA50(0x51u);
    else
      v8 = sub_1000FA50(0x50u);
    v9 = (int)v8;
    sub_1004A520((int)&v23, v27, v28);
    sub_10015280(a1, (int)&v23, (int)&v18);
    LOWORD(v18) = v5 + v18;
    HIWORD(v18) += v6;
    sub_10005700(a2, (int)&v18, 3, v9, 0);
    if ( v25 == 1 )
    {
      v10 = FNT_get_fnt_hdr(*(_BYTE *)(dword_100E4980 + 1));
      v11 = v18 + 8;
      LOWORD(v12) = v18 + 8;
      HIWORD(v12) = HIWORD(v18) + 5;
      memset(&v29, 0, 0x38u);
      v31 = 0;
      v30 = 1;
      v32 = v12;
      sub_1000E500(a1, a2, (int)&v29, 0, &unk_1007EDA4);
      *(_WORD *)(a2 + 36) = -1;
      *(_WORD *)(a2 + 38) = 16;
      *(_WORD *)(a2 + 46) = v11;
      *(_WORD *)(a2 + 44) = HIWORD(v12);
      result = sub_10019B50(a2, v10, &unk_1007EDA4, 0, 2, v13, v14);
    }
  }
  v15 = HIWORD(v21);
  LOWORD(result) = v22;
  *(_WORD *)(a2 + 36) = v21;
  v16 = v19;
  *(_WORD *)(a2 + 38) = v15;
  v17 = v20;
  *(_WORD *)(a2 + 34) = v16;
  *(_WORD *)(a2 + 4) = result;
  *(_WORD *)(a2 + 32) = v17;
  return result;
}
// 10061268: using guessed type int __cdecl FNT_get_fnt_hdr(_DWORD);
// 100E4980: using guessed type int dword_100E4980;

//----- (10016830) --------------------------------------------------------
void *__cdecl sub_10016830(char a1)
{
  void *result; // eax@2

  if ( (unsigned __int8)a1 >= 1u )
    result = &unk_10108E90;
  else
    result = (void *)sub_10024760(a1);
  return result;
}

//----- (10016850) --------------------------------------------------------
void *__cdecl sub_10016850(char a1)
{
  void *result; // eax@2

  if ( (unsigned __int8)a1 >= 1u )
    result = &unk_10100360;
  else
    result = (void *)sub_10024780(a1);
  return result;
}

//----- (10016870) --------------------------------------------------------
void __cdecl sub_10016870(int a1, char a2)
{
  void *v2; // eax@2
  void *v3; // ST0C_4@2
  void *v4; // eax@2

  if ( (unsigned __int8)a2 >= 1u )
  {
    v2 = sub_10016830(a2);
    sub_100474B0(a1, (int)v2);
    v3 = sub_10016850(a2);
    v4 = sub_10016830(a2);
    sub_10029560(0, (int)v4, (int)v3);
  }
}

//----- (100168B0) --------------------------------------------------------
int __cdecl sub_100168B0(double a1, double a2)
{
  double *v2; // ecx@0
  double v3; // ST00_8@1
  double v4; // st7@1
  int result; // eax@4

  v3 = *v2;
  v4 = a1;
  if ( (HIDWORD(v3) & 0x7FF00000) == 2146435072 || a1 < *v2 || (v4 = a2, a2 > *v2) )
  {
    *v2 = v4;
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10016900) --------------------------------------------------------
void sub_10016900()
{
  dword_101CA7D8 = -15;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016910) --------------------------------------------------------
signed int sub_10016910()
{
  return sub_10018100((int)&off_1007EDC0);
}
// 1007EDC0: using guessed type char *off_1007EDC0;

//----- (10016920) --------------------------------------------------------
char __usercall sub_10016920@<al>(float *a1@<esi>)
{
  char result; // al@1
  int v2; // ecx@1
  __int16 v3; // dx@1
  double v4; // st7@4
  float v5; // ST08_4@6

  result = 0;
  *a1 = 9.9999996e24;
  v2 = dword_101CA7D8;
  v3 = *(_WORD *)(dword_101CA7D8 + 1456);
  if ( v3 == 3 || v3 == 5 )
  {
    if ( *(_BYTE *)(dword_101CA7D8 + 1296) )
    {
      v4 = sub_1004D910(*(_DWORD *)(dword_101CA7D8 + 1292));
      v2 = dword_101CA7D8;
    }
    else
    {
      v4 = 0.0;
    }
    v5 = v4;
    result = 1;
    *a1 = *(float *)(v2 + 1520) * v5 + *(float *)(v2 + 1468);
  }
  return result;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016990) --------------------------------------------------------
signed int sub_10016990()
{
  char v0; // bl@1
  signed int result; // eax@3

  v0 = 1;
  if ( (unsigned __int8)sub_10016910() )
    v0 = *(_BYTE *)(dword_101CA7D8 + 1456);
  result = (unsigned __int8)v0;
  if ( (unsigned __int8)v0 >= 8u )
    result = 1;
  return result;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (100169C0) --------------------------------------------------------
bool __cdecl sub_100169C0(char a1, int a2)
{
  bool v2; // bl@1
  double v3; // st7@4
  int v4; // eax@4
  int v5; // ecx@8
  int v6; // eax@8
  double v7; // st5@14
  double v8; // st6@14
  float v9; // ST40_4@15
  double v10; // st5@16
  double v11; // st7@19
  float v13; // ST40_4@23
  float v14; // [sp+40h] [bp-10h]@5
  float v15; // [sp+40h] [bp-10h]@12
  float v16; // [sp+40h] [bp-10h]@16
  int v17; // [sp+44h] [bp-Ch]@8
  float v18; // [sp+48h] [bp-8h]@9
  float v19; // [sp+4Ch] [bp-4h]@9

  v2 = 0;
  if ( sub_10017AE0(2047, a2, 16) )
  {
    *(double *)a2 = 0.68067840827779;
    *(double *)(a2 + 8) = -1.658062789394617;
  }
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 10000);
    v3 = 0.0;
    v4 = dword_101CA7D8;
    v2 = *(_WORD *)(dword_101CA7D8 + 1456) > 1u;
    if ( *(_BYTE *)(dword_101CA7D8 + 1296) )
    {
      v14 = sub_1004D910(*(_DWORD *)(dword_101CA7D8 + 1292));
      v4 = dword_101CA7D8;
      v3 = 0.0;
    }
    else
    {
      v14 = 0.0;
    }
    if ( v2 )
    {
      v5 = *(_DWORD *)(v4 + 1524);
      v6 = v4 + 1524;
      *(_DWORD *)a2 = v5;
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(v6 + 4);
      *(_DWORD *)(a2 + 8) = *(_DWORD *)(v6 + 8);
      *(_DWORD *)(a2 + 12) = *(_DWORD *)(v6 + 12);
      sub_100168B0(6.2831853071796, -6.2831853071796);
      sub_100168B0(6.2831853071796, -6.2831853071796);
      sub_10064240(v14, dword_101CA7D8 + 1512, (int)&v17);
      v4 = dword_101CA7D8;
      v3 = 0.0;
    }
    else
    {
      *(float *)&v17 = v3;
      v18 = v3;
      v19 = v3;
    }
    if ( a1 == 1 )
    {
      sub_10064190((int)&v17, v4 + 1432, (int)&v17);
      v3 = 0.0;
      v4 = dword_101CA7D8;
    }
    v15 = *(float *)(v4 + 1280);
    if ( (LODWORD(v15) & 0x7F800000) == 2139095040 || v15 > 0.0053898906 )
    {
      v8 = 0.0053898906;
    }
    else
    {
      v7 = v15;
      v8 = 0.0053898906;
      if ( v15 >= v3 )
        goto LABEL_16;
    }
    v9 = v3;
    v7 = v9;
LABEL_16:
    *(double *)a2 = v7 * v18 + *(double *)a2;
    v16 = *(float *)(dword_101CA7D8 + 1284);
    v10 = v16;
    if ( (LODWORD(v16) & 0x7F800000) == 2139095040 || v10 > v8 || v10 < v3 )
    {
      v13 = v3;
      v11 = v13;
    }
    else
    {
      v11 = v16;
    }
    *(double *)(a2 + 8) = v11 * *(float *)&v17 + *(double *)(a2 + 8);
    sub_10017820(101);
    sub_1004E280(a2);
  }
  return v2;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016BE0) --------------------------------------------------------
char __cdecl sub_10016BE0(float *a1)
{
  char v1; // bl@1

  *a1 = 9.9999996e24;
  v1 = 0;
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 60000);
    v1 = sub_10016920(a1);
    if ( v1 )
      *a1 = *(float *)(dword_101CA7D8 + 1440) + *a1;
    sub_10017820(101);
  }
  return v1;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016C40) --------------------------------------------------------
bool sub_10016C40()
{
  bool v0; // bl@1

  v0 = 0;
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 60000);
    v0 = *(_BYTE *)(dword_101CA7D8 + 1454) == 1;
    sub_10017820(101);
  }
  return v0;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016C80) --------------------------------------------------------
char __cdecl sub_10016C80(float *a1)
{
  char result; // al@2

  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 60000);
    *a1 = -*(float *)(dword_101CA7D8 + 1440);
    sub_10017820(101);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016CC0) --------------------------------------------------------
bool __cdecl sub_10016CC0(float *a1)
{
  bool v1; // bl@1
  double v2; // st7@3

  *a1 = 9.9999996e24;
  v1 = 0;
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 10000);
    if ( *(_BYTE *)(dword_101CA7D8 + 1444) )
      v2 = (double)(unsigned int)(sub_10017740() - *(_DWORD *)(dword_101CA7D8 + 1292))
         / 1000.0
         * *(float *)(dword_101CA7D8 + 1488)
         + *(float *)(dword_101CA7D8 + 1484);
    else
      v2 = *(float *)(dword_101CA7D8 + 1484);
    *a1 = v2;
    *a1 = sub_100637E0(*a1);
    v1 = *(_WORD *)(dword_101CA7D8 + 1456) > 1u;
    sub_10017820(101);
  }
  return v1;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016D70) --------------------------------------------------------
char sub_10016D70()
{
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 60000);
    if ( *(_BYTE *)(dword_101CA7D8 + 1451) && *(float *)(dword_101CA7D8 + 1480) > 0.447 )
    {
      sub_10017820(101);
      return 1;
    }
    sub_10017820(101);
  }
  return 0;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016DD0) --------------------------------------------------------
bool __cdecl sub_10016DD0(float *a1)
{
  bool v1; // bl@1
  int v2; // eax@2

  *a1 = 0.0;
  v1 = 0;
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 60000);
    v2 = dword_101CA7D8;
    if ( *(_BYTE *)(dword_101CA7D8 + 1451) )
    {
      *a1 = *(float *)(dword_101CA7D8 + 1480);
      v2 = dword_101CA7D8;
    }
    v1 = *(_WORD *)(v2 + 1456) > 1u;
    sub_10017820(101);
  }
  return v1;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10016E30) --------------------------------------------------------
bool sub_10016E30()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2; // [sp+4h] [bp-4h]@1

  return sub_100182A0(23, &v2, &v1) == 0;
}

//----- (10016E60) --------------------------------------------------------
bool sub_10016E60()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2; // [sp+4h] [bp-4h]@1

  return sub_100182A0(21, &v2, &v1) == 0;
}

//----- (10016E80) --------------------------------------------------------
bool sub_10016E80()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2; // [sp+4h] [bp-4h]@1

  return sub_100182A0(10, &v2, &v1) == 0;
}

//----- (10016EA0) --------------------------------------------------------
int __cdecl sub_10016EA0(char a1, void *a2, size_t a3, int a4)
{
  int v4; // eax@4

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v4 = 21;
    }
    else
    {
      if ( a1 != 2 )
        goto LABEL_9;
      v4 = 23;
    }
  }
  else
  {
    v4 = 10;
  }
  if ( !sub_10018260(v4, a4, a3, (int)a2) )
    return 0;
LABEL_9:
  memset(a2, 0, a3);
  return 1;
}

//----- (10016F10) --------------------------------------------------------
BOOL __cdecl sub_10016F10(char a1)
{
  return sub_10016E80() && sub_10016E60() && (sub_10016E30() || a1);
}

//----- (10016F40) --------------------------------------------------------
BOOL sub_10016F40()
{
  return sub_10016F10(0);
}

//----- (10016F50) --------------------------------------------------------
void sub_10016F50()
{
  char v0; // bl@4
  signed int v1; // esi@4
  __int16 v2; // ax@5
  bool v3; // zf@7
  char v4; // al@24
  char *v5; // eax@24
  unsigned int v6; // esi@30
  unsigned int v7; // eax@30
  char v8; // [sp+11h] [bp-193h]@24
  char v9; // [sp+12h] [bp-192h]@1
  char v10; // [sp+13h] [bp-191h]@1
  int v11; // [sp+14h] [bp-190h]@1
  int v12; // [sp+18h] [bp-18Ch]@21
  char *v13; // [sp+1Ch] [bp-188h]@25
  int v14; // [sp+20h] [bp-184h]@24
  int v15; // [sp+24h] [bp-180h]@24
  char v16; // [sp+28h] [bp-17Ch]@29
  char v17; // [sp+29h] [bp-17Bh]@29
  char v18; // [sp+2Fh] [bp-175h]@5
  char v19; // [sp+30h] [bp-174h]@5
  __int16 v20; // [sp+34h] [bp-170h]@21
  int v21; // [sp+38h] [bp-16Ch]@23
  unsigned int v22; // [sp+3Ch] [bp-168h]@26
  int v23; // [sp+40h] [bp-164h]@26
  int v24; // [sp+C8h] [bp-DCh]@1
  int v25; // [sp+CCh] [bp-D8h]@1
  int v26; // [sp+D0h] [bp-D4h]@1
  char v27; // [sp+D4h] [bp-D0h]@24
  char v28; // [sp+114h] [bp-90h]@31

  v9 = 1;
  v10 = 1;
  v24 = 0;
  v25 = 0;
  v26 = 0;
  sub_1004E420();
  sub_100179A0(&v11);
  if ( !(v11 & 0x10) )
    sub_100175E0(".\\mpm_c_main\\mpm_c_ctrl_main.c", 174, 1, 0);
  while ( 1 )
  {
    if ( v11 & 1 )
    {
      v0 = 0;
      v1 = 0;
      do
      {
        v2 = sub_100182A0((unsigned __int16)word_1007F35C[v1], &v19, &v18);
        if ( v9 || *(_WORD *)((char *)&v24 + v1 * 2) != v2 )
        {
          v3 = word_1007F35C[v1] == 10;
          *(_WORD *)((char *)&v24 + v1 * 2) = v2;
          v0 = 1;
          if ( v3 && (!v2 || v2 == 12 || v2 == 1 || v2 == 6) )
          {
            sub_10014C10(v2);
            sub_1003A9C0(0);
          }
        }
        ++v1;
      }
      while ( v1 < 6 );
      v9 = 0;
      if ( v0 && !v10 )
      {
        byte_101EFA35 = 1;
        if ( byte_101D27E8 )
          sub_1000F990();
        sub_10004BD0(3);
        byte_101EFA35 = 0;
      }
      v10 = 0;
    }
    if ( v11 & 2 && sub_100176F0((int)&v20, (int)&v12) != 1 )
    {
      do
      {
        switch ( v20 )
        {
          case 0x8001:
            sub_10003A40(v21);
            break;
          case 0x8003:
            v14 = sub_1003BF00();
            v4 = sub_100044A0(v21, SBYTE1(v21), &v27);
            v8 = v4;
            v15 = (unsigned __int8)v4;
            v5 = &v27;
            goto LABEL_25;
          case 0x8005:
            v8 = sub_10004520(v21, v22, v23);
            v15 = 0;
            v13 = &v8;
            v14 = 1;
            sub_10017840(v12, (int)&v13);
            break;
          case 0x8007:
            v8 = sub_100052E0(v21);
            v15 = 0;
            v13 = &v8;
            v14 = 1;
            sub_10017840(v12, (int)&v13);
            break;
          case 0x8008:
            sub_10004BD0(v21);
            break;
          case 0x8009:
            v16 = sub_10005350(&v17, v21, SBYTE1(v21), v22);
            v15 = 0;
            v5 = &v16;
            v14 = 2;
LABEL_25:
            v13 = v5;
            sub_10017840(v12, (int)&v13);
            break;
          default:
            v6 = sub_1003BF10(v21);
            v7 = sub_1003BFB0(v21);
            v14 = v7;
            if ( v6 <= 0 )
            {
              if ( v7 > 0 )
                memcpy_0(&v28, (char *)&v21 + 3, v7);
            }
            else
            {
              memcpy_0(&v28, (char *)&v21 + 3, v6);
            }
            v8 = sub_100046A0(v21, SBYTE2(v21), (int)&v28);
            v15 = (unsigned __int8)v8;
            v13 = &v28;
            sub_10017840(v12, (int)&v13);
            break;
        }
      }
      while ( sub_100176F0((int)&v20, (int)&v12) != 1 );
    }
    if ( v11 & 0x400 )
      sub_10004BD0(5);
    if ( v11 & 0x800 )
      sub_10004BD0(2);
    if ( v11 & 0x4000 )
      sub_10004BD0(8);
    if ( v11 & 0x1000 )
      sub_10004BD0(10);
    if ( v11 & 0x2000 )
      v9 = 1;
    sub_100179A0(&v11);
  }
}
// 1004E420: using guessed type int sub_1004E420(void);
// 1007F35C: using guessed type __int16 word_1007F35C[];
// 101D27E8: using guessed type char byte_101D27E8;
// 101EFA35: using guessed type char byte_101EFA35;

//----- (10017310) --------------------------------------------------------
char __thiscall sub_10017310(void *this)
{
  void *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  LOBYTE(v2) = 0;
  sub_10018300();
  sub_1004F110();
  sub_10001130();
  nullsub_2(v2);
  sub_10016900();
  sub_1004F020();
  sub_10047F80();
  sub_1004F000();
  sub_1000E210();
  sub_1004E480();
  sub_1004E450();
  sub_10017960(5);
  sub_1004D080();
  sub_10016E50();
  sub_10017980(20);
  sub_1000E1F0();
  sub_1000E1D0();
  sub_10001160();
  sub_1004AED0();
  sub_10017650(73, &v2);
  return sub_10001140((char)v2);
}
// 10001130: using guessed type int sub_10001130(void);
// 1000E210: using guessed type int sub_1000E210(void);
// 10016E50: using guessed type int sub_10016E50(void);
// 10018300: using guessed type int sub_10018300(void);
// 1004F120: using guessed type int __cdecl nullsub_2(_DWORD);

//----- (100173A0) --------------------------------------------------------
char *__cdecl sub_100173A0(int a1, char *a2, int a3, char *a4, int a5)
{
  char *v5; // edi@1
  char *result; // eax@4
  char v7[4]; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v5 = a2;
  *(_DWORD *)v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  *(_DWORD *)(a5 + 16) = sub_100176A0();
  *(_DWORD *)(a5 + 596) = sub_10017740();
  sub_10017760((int)v7, 1, *(_DWORD *)(a5 + 16), 40);
  *(_WORD *)(a5 + 594) = 0x7FFF;
  sub_1004A220(a5 + 585, "14.01", 8);
  *(_DWORD *)a5 = a1;
  sub_1004F130((char *)(a5 + 4));
  *(_DWORD *)(a5 + 460) = a3;
  if ( strrchr(a2, 92) )
    v5 = strrchr(a2, 92) + 1;
  strncpy((char *)(a5 + 464), v5, 0x14u);
  *(_BYTE *)(a5 + 484) = 0;
  if ( a4 )
  {
    result = strncpy((char *)(a5 + 485), a4, 0x63u);
    *(_BYTE *)(a5 + 584) = 0;
  }
  else
  {
    result = strncpy((char *)(a5 + 485), v7, 0x64u);
  }
  return result;
}

//----- (100174D0) --------------------------------------------------------
char sub_100174D0()
{
  char result; // al@1

  result = 0;
  byte_1010D9A8 = 0;
  byte_1010D9A9 = 0;
  return result;
}
// 1010D9A8: using guessed type char byte_1010D9A8;
// 1010D9A9: using guessed type char byte_1010D9A9;

//----- (100174E0) --------------------------------------------------------
char __cdecl sub_100174E0(char *a1, int a2, char a3, char *a4, int a5)
{
  char result; // al@7
  char v6; // [sp+Bh] [bp-2Dh]@4
  int v7; // [sp+Ch] [bp-2Ch]@1
  int v8; // [sp+10h] [bp-28h]@1
  int v9; // [sp+14h] [bp-24h]@1
  int v10; // [sp+18h] [bp-20h]@1
  int v11; // [sp+1Ch] [bp-1Ch]@1
  int v12; // [sp+20h] [bp-18h]@1
  int v13; // [sp+24h] [bp-14h]@1
  int v14; // [sp+28h] [bp-10h]@1
  int v15; // [sp+2Ch] [bp-Ch]@1
  int v16; // [sp+30h] [bp-8h]@1

  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v15 = 0;
  v16 = 0;
  if ( a3 & 3 )
    sub_100173A0(-5, a1, a2, a4, a5);
  else
    sub_100173A0(-44, a1, a2, a4, a5);
  v6 = a3 & 8;
  if ( a3 & 8 )
    sub_1004A370((const char *)(a5 + 485), " DBGA", 100);
  sub_10017760((int)&v7, 0, 0, 40);
  if ( a3 & 3 )
  {
    result = a3 & 8;
    if ( v6 )
    {
      if ( byte_1010D9A8 )
        return result;
      if ( v6 )
        goto LABEL_15;
    }
    if ( !byte_1010D9A9 )
LABEL_15:
      result = sub_100177F0(36, 1, *(_DWORD *)a5, a5);
  }
  else
  {
    result = j_HWM_pvg_log_err(a5);
  }
  return result;
}
// 10017A60: using guessed type int __cdecl j_HWM_pvg_log_err(_DWORD);
// 1010D9A8: using guessed type char byte_1010D9A8;
// 1010D9A9: using guessed type char byte_1010D9A9;

//----- (100175E0) --------------------------------------------------------
char __cdecl sub_100175E0(char *a1, int a2, char a3, char *a4)
{
  int v5; // [sp+8h] [bp-284h]@1

  memset(&v5, 0, 0x280u);
  return sub_100174E0(a1, a2, a3, a4, (int)&v5);
}

//----- (10017650) --------------------------------------------------------
void __cdecl sub_10017650(int a1, _BYTE *a2)
{
  SYS_enter_krnl();
  SYS_pvg_ftr_get(a1, a2);
  SYS_exit_krnl();
  sub_10018310(a1, a2);
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645D8: using guessed type int __cdecl SYS_pvg_ftr_get(_DWORD, _DWORD);
// 100645DE: using guessed type int SYS_enter_krnl(void);

//----- (10017680) --------------------------------------------------------
int __cdecl sub_10017680(int a1, int a2)
{
  SYS_enter_krnl();
  SYS_pvg_ftr_set(a1, a2);
  return SYS_exit_krnl();
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100645E4: using guessed type int __cdecl SYS_pvg_ftr_set(_DWORD, _DWORD);

//----- (100176A0) --------------------------------------------------------
int sub_100176A0()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_id();
  SYS_exit_krnl();
  return v0;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100645EA: using guessed type int TSK_pvg_get_id(void);

//----- (100176C0) --------------------------------------------------------
int __cdecl sub_100176C0(int a1, int a2, int a3)
{
  int v3; // esi@1

  SYS_enter_krnl();
  v3 = TSK_pvg_get_mon_data(a1, a2, a3);
  SYS_exit_krnl();
  return v3;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100645F0: using guessed type int __cdecl TSK_pvg_get_mon_data(_DWORD, _DWORD, _DWORD);

//----- (100176F0) --------------------------------------------------------
int __cdecl sub_100176F0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_get_msg(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100645F6: using guessed type int __cdecl TSK_pvg_get_msg(_DWORD, _DWORD);

//----- (10017720) --------------------------------------------------------
__int16 __cdecl sub_10017720(int a1)
{
  __int16 v1; // si@1

  SYS_enter_krnl();
  v1 = TSK_pvg_get_run_state(a1);
  SYS_exit_krnl();
  return v1;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100645FC: using guessed type int __cdecl TSK_pvg_get_run_state(_DWORD);

//----- (10017740) --------------------------------------------------------
int sub_10017740()
{
  int v0; // esi@1

  SYS_enter_krnl();
  v0 = TSK_pvg_get_timer();
  SYS_exit_krnl();
  return v0;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064602: using guessed type int TSK_pvg_get_timer(void);

//----- (10017760) --------------------------------------------------------
int __cdecl sub_10017760(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_get_tsk_info(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064608: using guessed type int __cdecl TSK_pvg_get_tsk_info(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10017790) --------------------------------------------------------
int sub_10017790()
{
  char v1; // [sp+0h] [bp-84h]@1
  int v2; // [sp+24h] [bp-60h]@1
  int v3; // [sp+34h] [bp-50h]@1

  sub_100176C0(-2, (int)&v1, 0);
  return v3 + 1000 * v2;
}

//----- (100177F0) --------------------------------------------------------
int __cdecl sub_100177F0(int a1, int a2, int a3, int a4)
{
  int v4; // esi@1

  SYS_enter_krnl();
  v4 = TSK_pvg_kill_process(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064614: using guessed type int __cdecl TSK_pvg_kill_process(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10017820) --------------------------------------------------------
int __cdecl sub_10017820(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_release_smphr(a1);
  SYS_exit_krnl();
  return v1;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 1006461A: using guessed type int __cdecl TSK_pvg_release_smphr(_DWORD);

//----- (10017840) --------------------------------------------------------
signed int __cdecl sub_10017840(int a1, int a2)
{
  int v2; // esi@4
  signed int result; // eax@4

  if ( a2 && (!*(_DWORD *)(a2 + 4) || *(_DWORD *)a2) )
  {
    SYS_enter_krnl();
    v2 = TSK_pvg_reply_msg(a1, a2);
    SYS_exit_krnl();
    result = v2;
  }
  else
  {
    result = 20;
  }
  return result;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064620: using guessed type int __cdecl TSK_pvg_reply_msg(_DWORD, _DWORD);

//----- (10017880) --------------------------------------------------------
int __cdecl sub_10017880(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_reserve_avbl_smphr(a1);
  SYS_exit_krnl();
  return v1;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064626: using guessed type int __cdecl TSK_pvg_reserve_avbl_smphr(_DWORD);

//----- (100178A0) --------------------------------------------------------
int __cdecl sub_100178A0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_reserve_smphr(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 1006462C: using guessed type int __cdecl TSK_pvg_reserve_smphr(_DWORD, _DWORD);

//----- (100178D0) --------------------------------------------------------
int __cdecl sub_100178D0(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_restart(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064632: using guessed type int __cdecl TSK_pvg_restart(_DWORD, _DWORD);

//----- (10017900) --------------------------------------------------------
int __cdecl sub_10017900(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_evnt(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064638: using guessed type int __cdecl TSK_pvg_send_evnt(_DWORD, _DWORD);

//----- (10017930) --------------------------------------------------------
int __cdecl sub_10017930(int a1, int a2)
{
  int v2; // esi@1

  SYS_enter_krnl();
  v2 = TSK_pvg_send_msg_ex(a1, a2);
  SYS_exit_krnl();
  return v2;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 1006463E: using guessed type int __cdecl TSK_pvg_send_msg_ex(_DWORD, _DWORD);

//----- (10017960) --------------------------------------------------------
int __cdecl sub_10017960(int a1)
{
  SYS_enter_krnl();
  TSK_pvg_set_proc_status(a1);
  return SYS_exit_krnl();
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064644: using guessed type int __cdecl TSK_pvg_set_proc_status(_DWORD);

//----- (10017980) --------------------------------------------------------
int __cdecl sub_10017980(int a1)
{
  int v1; // esi@1

  SYS_enter_krnl();
  v1 = TSK_pvg_suspend(a1);
  SYS_exit_krnl();
  return v1;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 1006464A: using guessed type int __cdecl TSK_pvg_suspend(_DWORD);

//----- (100179A0) --------------------------------------------------------
int __cdecl sub_100179A0(_BYTE *a1)
{
  int v1; // edi@1
  int v2; // eax@2
  char v4; // [sp+8h] [bp-4h]@2

  SYS_enter_krnl();
  v1 = TSK_pvg_wait_evnt(a1);
  SYS_exit_krnl();
  if ( *a1 & 0x20 )
  {
    v2 = sub_100176A0();
    sub_10017760((int)&v4, 5, v2, 4);
  }
  return v1;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064650: using guessed type int __cdecl TSK_pvg_wait_evnt(_DWORD);

//----- (100179E0) --------------------------------------------------------
int __cdecl sub_100179E0(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) != 1 && !a1 )
    result = sub_10017820(a2);
  return result;
}
// 1007FF90: using guessed type void *tsk_app_hdr_ptr;

//----- (10017A10) --------------------------------------------------------
int __cdecl sub_10017A10(int a1, int a2)
{
  int result; // eax@2

  if ( *((_BYTE *)tsk_app_hdr_ptr + 8) == 1 )
    result = 0;
  else
    result = sub_100178A0(a1, a2);
  return result;
}
// 1007FF90: using guessed type void *tsk_app_hdr_ptr;

//----- (10017A80) --------------------------------------------------------
int sub_10017A80()
{
  int result; // eax@2

  if ( sub_10018340() )
    result = j_HWM_pvg_get_anlg_outp(4);
  else
    result = j_HWM_pvg_get_anlg_outp(0);
  return result;
}
// 10017A30: using guessed type int __cdecl j_HWM_pvg_get_anlg_outp(_DWORD);

//----- (10017AA0) --------------------------------------------------------
int __cdecl sub_10017AA0(int a1)
{
  int v1; // ecx@1
  int result; // eax@1

  v1 = 0;
  result = 42066;
  while ( dword_100839E8[2 * v1] != a1 )
  {
    if ( (unsigned int)++v1 >= 0xA5 )
      return result;
  }
  return dword_100839EC[2 * v1];
}
// 100839E8: using guessed type int dword_100839E8[];
// 100839EC: using guessed type int dword_100839EC[];

//----- (10017AE0) --------------------------------------------------------
int __cdecl sub_10017AE0(int a1, int a2, int a3)
{
  return reg_read(a1, a2, a3, 0);
}
// 10064674: using guessed type int __cdecl reg_read(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10017B00) --------------------------------------------------------
char __cdecl sub_10017B00(int a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = sub_10017AE0(a1, a2, a3);
  if ( v3 )
    LOBYTE(v3) = sub_100175E0("..\\lib\\acl\\kernel\\reg_usr_intf.c", 1255, 1, 0);
  return v3;
}

//----- (10017B40) --------------------------------------------------------
int __cdecl sub_10017B40(int a1, void *a2, int a3, void *a4)
{
  int result; // eax@1
  int v5; // esi@1

  result = sub_10017AE0(a1, (int)a2, a3);
  v5 = result;
  if ( result )
  {
    memcpy_0(a2, a4, (unsigned __int16)a3);
    result = v5;
  }
  return result;
}

//----- (10017B80) --------------------------------------------------------
int __cdecl sub_10017B80(int a1, int a2, int a3)
{
  int result; // eax@1

  result = sub_10017AE0(a1 | 0x20000, a2, a3);
  if ( result == -46 )
    result = 0;
  return result;
}

//----- (10017BB0) --------------------------------------------------------
int __cdecl sub_10017BB0(int a1, int a2, int a3)
{
  return reg_write(a1, a2, a3, 0);
}
// 1006467A: using guessed type int __cdecl reg_write(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10017BD0) --------------------------------------------------------
int __cdecl sub_10017BD0(int a1, int a2, int a3)
{
  int v3; // esi@1
  int v4; // eax@2
  int result; // eax@4
  int v6; // [sp+10h] [bp-4h]@1

  v6 = sub_10017BB0(a1, a2, a3);
  v3 = 0;
  if ( (unsigned __int8)sub_10018360() )
  {
    v4 = sub_10017AA0(a1);
    if ( v4 != 42066 )
      v3 = sub_10017BB0(v4, a2, a3);
  }
  result = v6;
  if ( !v6 )
    result = v3;
  return result;
}
// 10018360: using guessed type int sub_10018360(void);

//----- (10017C30) --------------------------------------------------------
int __cdecl sub_10017C30(int a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // esi@1

  result = sub_10017BD0(a1, a2, a3);
  v4 = result;
  if ( result )
  {
    sub_100175E0("..\\lib\\acl\\kernel\\reg_usr_intf.c", 1742, 1, 0);
    result = v4;
  }
  return result;
}

//----- (10017C70) --------------------------------------------------------
char __cdecl sub_10017C70(int a1, int a2, int a3)
{
  int v3; // eax@1

  v3 = sub_10017BB0(a1, a2, a3);
  if ( v3 )
    LOBYTE(v3) = sub_100175E0("..\\lib\\acl\\kernel\\reg_usr_intf.c", 1826, 1, 0);
  return v3;
}

//----- (10017CB0) --------------------------------------------------------
int __cdecl sub_10017CB0(int a1, void *a2, int a3, void *a4)
{
  int result; // eax@1
  int v5; // edi@1

  result = sub_10017AE0(a1, (int)a2, a3);
  v5 = result;
  if ( result )
  {
    memcpy_0(a2, a4, (unsigned __int16)a3);
    sub_10017BB0(a1, (int)a4, a3);
    result = v5;
  }
  return result;
}

//----- (10017D00) --------------------------------------------------------
int __cdecl sub_10017D00(int a1, int a2)
{
  int v2; // esi@3

  if ( *(_DWORD *)(a1 + 8) < 0 )
    sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 127, 0, 0);
  v2 = j_mem_unmap(a2 - 12, *(_DWORD *)(a1 + 8) + 12);
  if ( v2 )
    sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 132, 1, 0);
  return v2;
}
// 10018370: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (10017D60) --------------------------------------------------------
signed int __cdecl sub_10017D60(int a1)
{
  unsigned int v1; // eax@1
  signed int result; // eax@3

  v1 = **(_DWORD **)(a1 + 16);
  if ( v1 < 0xFFFFFFC2 && v1 )
  {
    if ( *(_BYTE *)(v1 - 3) || *(_BYTE *)(a1 + 4) & 8 )
    {
      if ( *(_BYTE *)(a1 + 4) & 1 )
      {
        *(_BYTE *)(v1 - 3) = 0;
        result = 1;
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 474, 1, 0);
        result = 0;
      }
    }
    else
    {
      sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 465, 1, 0);
      result = 1;
    }
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 455, 1, 0);
    result = 0;
  }
  return result;
}

//----- (10017DE0) --------------------------------------------------------
int __usercall sub_10017DE0@<eax>(const char **a1@<esi>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // edi@2
  char v3; // ST28_1@2
  unsigned int v4; // eax@5
  char *v5; // edi@9
  char v6; // al@10
  unsigned int v7; // eax@12
  char v8; // ST28_1@12
  signed int v9; // ebx@15
  int v10; // eax@19
  int result; // eax@47
  unsigned int v12; // [sp+Ch] [bp-98h]@1
  int v13; // [sp+14h] [bp-90h]@29
  char v14; // [sp+1Dh] [bp-87h]@30
  char v15; // [sp+1Fh] [bp-85h]@9
  char v16; // [sp+20h] [bp-84h]@8

  v1 = 0;
  v12 = 0;
  if ( *((_BYTE *)a1 + 4) & 2 )
  {
    v2 = j_FIL_vfs_open(*a1, 4, 0);
    v3 = 4;
  }
  else
  {
    strncpy(&v16, *a1, 0x7Du);
    if ( !(*((_BYTE *)a1 + 4) & 8) )
    {
      v5 = &v15;
      do
        v6 = (v5++)[1];
      while ( v6 );
      *(_DWORD *)v5 = 7368052;
    }
    v12 = j_FIL_vfs_open(*a1, 6, 1809);
    v7 = j_FIL_vfs_open(&v16, 14, 1809);
    v2 = v7;
    v8 = 6;
    if ( v7 >= 0xFFFFFFC2 || !v7 )
    {
      sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 589, 1, 0);
      goto LABEL_39;
    }
    v9 = sub_100185D0(v7, 0, 2);
    if ( v9 < 0 )
    {
      sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 602, 1, 0);
      goto LABEL_39;
    }
    if ( (signed int)a1[2] < 0 )
      sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 610, 0, 0);
    v10 = (int)(a1[2] + 12);
    if ( v9 < v10 && sub_100185F0(v2, v10, (unsigned __int64)v10 >> 32) < 0 )
    {
      sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 625, 1, 0);
      goto LABEL_39;
    }
  }
  if ( v2 >= 0xFFFFFFC2 )
    goto LABEL_42;
  if ( v2 )
  {
    v4 = ((int (__cdecl *)(unsigned int, _DWORD, const char *, _DWORD))j_FIL_vfs_mmap)(v2, 0, a1[2] + 12, 0);
    v1 = v4;
    if ( v4 < 0xFFFFFFC2 && v4 )
    {
      if ( !(*((_BYTE *)a1 + 4) & 1) )
      {
        if ( *(_BYTE *)(v4 + 9) || *(_BYTE *)(v4 + 8) != 56 )
        {
          sub_10017D00((int)a1, v4 + 12);
          v1 = 0;
        }
        goto LABEL_39;
      }
      *(_DWORD *)(v4 + 4) = sub_10017740();
      if ( *((_BYTE *)a1 + 4) & 4 )
        memset((void *)(v1 + 12), (int)a1[3], (size_t)a1[2]);
      if ( v12 < 0xFFFFFFC2 && v12 )
      {
        if ( *((_BYTE *)a1 + 4) & 8 )
        {
          ++*(_DWORD *)v1;
        }
        else if ( sub_10018440(v12, &v13, 12) == 12 )
        {
          *(_DWORD *)v1 = ++v13;
          v14 = 1;
          *(_BYTE *)(v1 + 9) = 1;
          if ( sub_100185B0(v12, (int)&v13, 12, 0) != 12 )
          {
            sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 725, 1, 0);
            goto LABEL_39;
          }
        }
      }
      else
      {
        *(_BYTE *)(v1 + 9) = 1;
        *(_DWORD *)v1 = 1;
      }
      *(_BYTE *)(v1 + 8) = 56;
      if ( !(*((_BYTE *)a1 + 4) & 8) && j_FIL_vfs_rename(&v16, *a1) )
        sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 759, 1, 0);
      goto LABEL_39;
    }
    sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 664, 0, 0);
  }
LABEL_39:
  if ( v2 < 0xFFFFFFC2 && v2 )
    sub_10018380(v2);
LABEL_42:
  if ( v12 < 0xFFFFFFC2 && v12 )
    sub_10018380(v12);
  if ( v1 < 0xFFFFFFC2 && v1 )
    result = v1 + 12;
  else
    result = v1;
  return result;
}
// 10018420: using guessed type int __cdecl j_FIL_vfs_mmap(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10018430: using guessed type int __cdecl j_FIL_vfs_open(_DWORD, _DWORD, _DWORD);
// 10018500: using guessed type int __cdecl j_FIL_vfs_rename(_DWORD, _DWORD);

//----- (100180E0) --------------------------------------------------------
int __usercall sub_100180E0@<eax>(int a1@<eax>, int a2@<ecx>)
{
  return j_mem_unmap(a2 - 12, a1 + 12);
}
// 10018370: using guessed type int __cdecl j_mem_unmap(_DWORD, _DWORD);

//----- (10018100) --------------------------------------------------------
signed int __cdecl sub_10018100(int a1)
{
  unsigned int v1; // eax@1
  char v2; // bl@1
  int *v3; // edi@6
  int v4; // eax@6
  int v5; // ecx@6
  int v6; // ebp@6
  unsigned int v8; // eax@15

  v1 = **(_DWORD **)(a1 + 16);
  v2 = 0;
  if ( v1 != -858993460 && (v1 < 0xFFFFFFC2 && v1 || v1 == -15) )
  {
    if ( v1 < 0xFFFFFFC2 && v1 && !*(_BYTE *)(v1 - 3) )
      return 1;
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 211, 0, *(char **)a1);
    **(_DWORD **)(a1 + 16) = -15;
  }
  v3 = *(int **)(a1 + 16);
  v4 = sub_10017A10(81, 5000);
  v5 = *v3;
  v6 = v4;
  if ( (unsigned int)*v3 < 0xFFFFFFC2 && v5 )
  {
    if ( !*(_BYTE *)(v5 - 3) )
    {
      sub_100179E0(v4, 81);
      return 1;
    }
    *v3 = -15;
    sub_100180E0(*(_DWORD *)(a1 + 8), v5);
  }
  v8 = sub_10017DE0((const char **)a1);
  if ( v8 < 0xFFFFFFC2 && v8 )
  {
    *v3 = v8;
    if ( !*(_BYTE *)(v8 - 3) )
      v2 = 1;
  }
  sub_100179E0(v6, 81);
  return (unsigned __int8)v2;
}

//----- (100181D0) --------------------------------------------------------
int __cdecl sub_100181D0(LONG Value)
{
  char v1; // al@1
  int result; // eax@3
  int v3; // edi@3
  unsigned __int32 v4; // eax@5
  int v5; // ebx@5

  v1 = *(_BYTE *)(Value + 4);
  if ( v1 & 2 || !(v1 & 1) )
  {
    sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 360, 1, 0);
    result = 0;
  }
  else
  {
    result = sub_10017DE0((const char **)Value);
    v3 = result;
    if ( (unsigned int)result < 0xFFFFFFC2 && result )
    {
      v4 = InterlockedExchange(*(volatile LONG **)(Value + 16), result);
      v5 = v4;
      if ( v4 < 0xFFFFFFC2 && v4 )
      {
        if ( *(_DWORD *)(Value + 8) < 0 )
          sub_100175E0("..\\lib\\acl\\kernel\\mem_usr_share.c", 388, 0, 0);
        sub_100180E0(*(_DWORD *)(Value + 8), v5);
      }
      result = v3;
    }
  }
  return result;
}

//----- (10018260) --------------------------------------------------------
__int16 __cdecl sub_10018260(int a1, int a2, int a3, int a4)
{
  __int16 v4; // si@1

  SYS_enter_krnl();
  v4 = HWM_pvg_read_rgn(a1, a2, a3, a4);
  SYS_exit_krnl();
  return v4;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 10064680: using guessed type int __cdecl HWM_pvg_read_rgn(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (100182A0) --------------------------------------------------------
__int16 __cdecl sub_100182A0(int a1, _DWORD *a2, _BYTE *a3)
{
  __int16 result; // ax@1
  char v4; // [sp+8h] [bp-ECh]@1
  unsigned __int8 v5; // [sp+Ah] [bp-EAh]@1
  int v6; // [sp+10h] [bp-E4h]@1

  j_HWM_pvg_rgn_get_info(a1, &v4);
  result = v5;
  *a2 = v6;
  *a3 = 2;
  return result;
}
// 10018290: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (10018310) --------------------------------------------------------
void __cdecl sub_10018310(__int16 a1, _BYTE *a2)
{
  void *v2; // ecx@0
  void *v3; // ecx@2

  if ( a1 == 29 && sub_1004ADF0(v2) && sub_1004AE30(v3) != 1 )
    *a2 = 0;
}

//----- (10018340) --------------------------------------------------------
bool sub_10018340()
{
  unsigned int v0; // eax@1

  v0 = j_HWM_pvg_read_reg(0);
  return v0 >= 0x17 && (v0 <= 0x18 || v0 == 40);
}
// 10017A70: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10018380) --------------------------------------------------------
signed int __cdecl sub_10018380(unsigned int a1)
{
  signed int result; // eax@7
  int v2; // eax@8
  int v3; // edx@9
  unsigned int v4; // [sp+4h] [bp+4h]@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return FIL_vfs_close();
  if ( (a1 & 3) == 1 )
  {
    v4 = sub_100543E0(a1);
    if ( v4 && *(_DWORD *)(v4 + 732) )
    {
      --*(_DWORD *)(*(_DWORD *)(v4 + 732) + 124);
      if ( *(_BYTE *)(v4 + 8) )
        exit_0(v4);
      sub_1005CF80(v4 + 116);
      result = 0;
      *(_DWORD *)v4 = -858993460;
    }
    else
    {
      result = -6;
    }
    return result;
  }
  if ( !a1 || (a1 & 3) != 2 )
    return FIL_vfs_close();
  v2 = 0;
  if ( !dword_10120218 )
    goto LABEL_11;
  while ( 1 )
  {
    v3 = dword_10120220[v2];
    if ( *(_DWORD *)v3 == a1 )
      break;
    if ( ++v2 >= (unsigned int)dword_10120218 )
      goto LABEL_11;
  }
  if ( v2 != -1 )
  {
    sub_10018610(
      v2,
      *(_DWORD *)(dword_10120220[v2] + 12),
      *(_DWORD *)(v3 + 16),
      *(_BYTE *)(v3 + 32),
      *(_WORD *)(v3 + 20),
      *(_DWORD *)(v3 + 4));
    result = sub_10018380(a1 & 0xFFFFFFFC);
  }
  else
  {
LABEL_11:
    result = -6;
  }
  return result;
}
// 10064692: using guessed type int FIL_vfs_close(void);
// 10120218: using guessed type int dword_10120218;
// 10120220: using guessed type int dword_10120220[];

//----- (100183D0) --------------------------------------------------------
int __cdecl sub_100183D0(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-1Ch]@1
  __int64 v7; // [sp+4h] [bp-18h]@1
  __int64 v8; // [sp+10h] [bp-Ch]@1

  v7 = a2;
  v8 = a4;
  return FIL_vfs_memmove_swi(&v6, a1, v7, HIDWORD(v7), a3, v8, HIDWORD(v8), a5);
}
// 1006469E: using guessed type int __cdecl FIL_vfs_memmove_swi(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (10018440) --------------------------------------------------------
signed int __cdecl sub_10018440(unsigned int a1, void *a2, int a3)
{
  int v3; // eax@7
  unsigned int v4; // eax@4
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
  {
    v4 = sub_100543E0(a1);
    return sub_100552A0(v4, (int)a2, a3);
  }
  if ( a1 && (a1 & 3) == 2 )
  {
    v3 = sub_100185D0(a1 & 0xFFFFFFFC, 0, 1);
    result = sub_100189B0(a1, a2, a3, v3, (unsigned __int64)v3 >> 32);
  }
  else
  {
LABEL_11:
    result = FIL_vfs_read();
  }
  return result;
}
// 100646B0: using guessed type int FIL_vfs_read(void);

//----- (10018480) --------------------------------------------------------
signed int __cdecl sub_10018480(unsigned int a1, void *a2, int a3, int a4, int a5)
{
  signed int result; // eax@4

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    goto LABEL_11;
  if ( (a1 & 3) == 1 )
    return sub_1004F210(a1, (int)a2, a3, a4);
  if ( a1 && (a1 & 3) == 2 )
    result = sub_100189B0(a1, a2, a3, a4, a5);
  else
LABEL_11:
    result = FIL_vfs_read_ofst(a1, a2, a3, &a4);
  return result;
}
// 100646B6: using guessed type int __cdecl FIL_vfs_read_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10018510) --------------------------------------------------------
signed int __cdecl sub_10018510(unsigned int a1, int a2, int a3, int a4)
{
  signed int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = sub_1004F270(a1, a2, a4);
  else
    result = FIL_vfs_seek(a1 & 0xFFFFFFFC, a2, a3, a4);
  return result;
}
// 100646C2: using guessed type int __cdecl FIL_vfs_seek(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (10018560) --------------------------------------------------------
__int64 __cdecl sub_10018560(int a1)
{
  return FIL_vfs_size(a1 & 0xFFFFFFFC);
}
// 100646C8: using guessed type int __cdecl FIL_vfs_size(_DWORD);

//----- (10018580) --------------------------------------------------------
int __cdecl sub_10018580(int a1, int a2, int a3)
{
  return FIL_vfs_truncate(a1, a2, a3);
}
// 100646CE: using guessed type int __cdecl FIL_vfs_truncate(_DWORD, _DWORD, _DWORD);

//----- (100185B0) --------------------------------------------------------
int __cdecl sub_100185B0(int a1, int a2, int a3, char a4)
{
  return FIL_vfs_write_ofst(a1, a2, a3, &a4);
}
// 100646DA: using guessed type int __cdecl FIL_vfs_write_ofst(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (100185D0) --------------------------------------------------------
signed int __cdecl sub_100185D0(unsigned int a1, int a2, int a3)
{
  return sub_10018510(a1, a2, (unsigned __int64)a2 >> 32, a3);
}

//----- (100185F0) --------------------------------------------------------
int __cdecl sub_100185F0(int a1, int a2, int a3)
{
  return sub_10018580(a1, a2, a3);
}

//----- (10018610) --------------------------------------------------------
unsigned int __cdecl sub_10018610(int a1, int a2, unsigned int a3, char a4, unsigned __int16 a5, int a6)
{
  size_t v6; // ebp@1
  int *v7; // esi@1
  size_t v8; // ebx@1
  int v9; // edx@1
  unsigned int v10; // edi@1
  int v11; // ebx@2
  int v12; // edx@3
  int *v13; // ebp@3
  int v14; // eax@3
  int v15; // eax@3
  unsigned int result; // eax@4
  void **v17; // [sp+10h] [bp-Ch]@1
  void **v18; // [sp+20h] [bp+4h]@1

  v6 = 8 * a5;
  v7 = &dword_10120220[a1];
  v8 = 32 * (a3 / (1 << a4));
  v9 = a2 - v8 - v6;
  *v7 = v9 + a3 - 52;
  v17 = (void **)&dword_101201D8[a1];
  dword_101201D8[a1] = a3 + v9;
  dword_10120198[a1] = a3 + a2 - v8;
  v18 = (void **)&dword_10120198[a1];
  memset((void *)(v9 + a3 - 52), 0, 0x34u);
  memset(*v17, 0, v6);
  memset(*v18, 0, v8);
  *(_DWORD *)(*v7 + 24) = 1 << a4;
  *(_DWORD *)(*v7 + 28) = ~(*(_DWORD *)(*v7 + 24) - 1);
  *(_BYTE *)(*v7 + 32) = a4;
  *(_DWORD *)(*v7 + 12) = a2;
  *(_DWORD *)(*v7 + 16) = a3;
  *(_DWORD *)(*v7 + 8) = a3 / (1 << a4) - (v8 + v6 + 52) / (1 << a4) - 1;
  *(_DWORD *)(*v7 + 4) = a6;
  *(_WORD *)(*v7 + 20) = a5;
  *(_DWORD *)*v7 = -1;
  *(_DWORD *)(*v7 + 36) = *v7 + 36;
  *(_DWORD *)(*v7 + 40) = *v7 + 36;
  *(_DWORD *)(*v7 + 44) = *v7 + 44;
  *(_DWORD *)(*v7 + 48) = *v7 + 44;
  v10 = 0;
  if ( *(_DWORD *)(*v7 + 8) )
  {
    v11 = 0;
    do
    {
      v12 = *v7;
      v13 = *(int **)(*v7 + 40);
      v14 = (int)*v18 + v11;
      *(_DWORD *)(v12 + 40) = v14;
      *(_DWORD *)v14 = v12 + 36;
      *(_DWORD *)(v14 + 4) = v13;
      *v13 = v14;
      v15 = a2 + v10++ * *(_DWORD *)(*v7 + 24);
      *(_DWORD *)((char *)*v18 + v11 + 28) = v15;
      v11 += 32;
    }
    while ( v10 < *(_DWORD *)(*v7 + 8) );
  }
  result = 0;
  if ( *(_WORD *)(*v7 + 20) )
  {
    do
    {
      *((_DWORD *)*v17 + 2 * result) = (char *)*v17 + 8 * result;
      *((_DWORD *)*v17 + 2 * result + 1) = (char *)*v17 + 8 * result;
      ++result;
    }
    while ( result < *(_WORD *)(*v7 + 20) );
  }
  return result;
}
// 101201D8: using guessed type int dword_101201D8[];
// 10120220: using guessed type int dword_10120220[];

//----- (100187C0) --------------------------------------------------------
int __usercall sub_100187C0@<eax>(int a1@<esi>)
{
  int v1; // eax@1
  int *v2; // ecx@1
  int result; // eax@2
  int v4; // eax@3
  int v5; // ecx@3
  _DWORD *v6; // edx@3
  int v7; // ecx@3
  _DWORD *v8; // edx@3
  int v9; // ecx@3
  int v10; // edx@3

  v1 = dword_10120220[a1];
  v2 = (int *)(v1 + 36);
  if ( (int *)*v2 == v2 )
  {
    v4 = *(_DWORD *)(v1 + 44);
    v5 = *(_DWORD *)(v4 - 8);
    v6 = *(_DWORD **)(v4 - 4);
    result = v4 - 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v7 = *(_DWORD *)(result + 8);
    v8 = *(_DWORD **)(result + 12);
    *(_DWORD *)(v7 + 4) = v8;
    *v8 = v7;
    v9 = dword_10120220[a1];
    v10 = *(_DWORD *)(v9 + 36);
    v9 += 36;
    *(_DWORD *)(v10 + 4) = result;
    *(_DWORD *)result = v10;
    *(_DWORD *)(result + 4) = v9;
    *(_DWORD *)v9 = result;
  }
  else
  {
    result = *v2;
  }
  return result;
}
// 10120220: using guessed type int dword_10120220[];

//----- (10018870) --------------------------------------------------------
int __cdecl sub_10018870(int a1, unsigned __int64 a2)
{
  int v2; // edi@1
  int *v3; // ebx@1
  signed int v4; // eax@1
  _DWORD *v5; // ecx@2
  int v6; // eax@2
  int *v7; // eax@2
  int v8; // ecx@2
  _DWORD *v9; // edx@2
  int v10; // eax@2
  int v11; // ecx@2
  int result; // eax@2

  v2 = sub_100187C0(a1);
  v3 = &dword_10120220[a1];
  v4 = sub_10018480(
         *(_DWORD *)dword_10120220[a1] & 0xFFFFFFFC,
         *(void **)(v2 + 28),
         *(_DWORD *)(dword_10120220[a1] + 24),
         a2,
         SHIDWORD(a2));
  if ( v4 <= 0 )
  {
    result = 0;
  }
  else
  {
    v5 = *(_DWORD **)(v2 + 4);
    *(_WORD *)(v2 + 24) = v4;
    v6 = *(_DWORD *)v2;
    *(_QWORD *)(v2 + 16) = a2;
    *(_DWORD *)(v6 + 4) = v5;
    *v5 = v6;
    v7 = (int *)(dword_101201D8[a1] + 8 * ((unsigned int)(a2 >> *(_BYTE *)(*v3 + 32)) % *(_WORD *)(*v3 + 20)));
    v8 = *v7;
    *(_DWORD *)(v8 + 4) = v2;
    *(_DWORD *)(v2 + 4) = v7;
    *(_DWORD *)v2 = v8;
    *v7 = v2;
    v9 = *(_DWORD **)(*v3 + 48);
    v10 = *v3 + 44;
    v11 = v2 + 8;
    *(_DWORD *)(v10 + 4) = v2 + 8;
    *(_DWORD *)v11 = v10;
    result = v2;
    *(_DWORD *)(v11 + 4) = v9;
    *v9 = v2 + 8;
  }
  return result;
}
// 101201D8: using guessed type int dword_101201D8[];
// 10120220: using guessed type int dword_10120220[];

//----- (10018920) --------------------------------------------------------
int __usercall sub_10018920@<eax>(int a1@<ebx>, unsigned __int64 a2)
{
  int *v2; // edi@1
  int *v3; // ecx@1
  int result; // eax@1
  int v5; // edx@5
  _DWORD *v6; // esi@5
  int v7; // ecx@5
  _DWORD *v8; // esi@5
  int v9; // edx@5

  v2 = &dword_10120220[a1];
  v3 = (int *)(dword_101201D8[a1]
             + 8 * ((unsigned int)(a2 >> *(_BYTE *)(dword_10120220[a1] + 32)) % *(_WORD *)(dword_10120220[a1] + 20)));
  result = *v3;
  if ( (int *)*v3 == v3 )
  {
LABEL_4:
    result = sub_10018870(a1, a2);
  }
  else
  {
    while ( *(_QWORD *)(result + 16) != a2 )
    {
      result = *(_DWORD *)result;
      if ( (int *)result == v3 )
        goto LABEL_4;
    }
    v5 = *(_DWORD *)(result + 8);
    v6 = *(_DWORD **)(result + 12);
    v7 = result + 8;
    *(_DWORD *)(v5 + 4) = v6;
    *v6 = v5;
    v8 = *(_DWORD **)(*v2 + 48);
    v9 = *v2 + 44;
    *(_DWORD *)(v9 + 4) = result + 8;
    *(_DWORD *)(v7 + 4) = v8;
    *(_DWORD *)v7 = v9;
    *v8 = result + 8;
  }
  return result;
}
// 101201D8: using guessed type int dword_101201D8[];
// 10120220: using guessed type int dword_10120220[];

//----- (100189B0) --------------------------------------------------------
unsigned int __cdecl sub_100189B0(int a1, void *a2, int a3, int a4, int a5)
{
  unsigned int v5; // ebp@1
  int v6; // ebx@1
  int v7; // edi@1
  int v8; // edx@2
  unsigned int result; // eax@4
  int v10; // eax@7
  int v11; // esi@10
  int v12; // eax@10
  int v13; // ecx@11
  unsigned int v14; // eax@11
  const void *v15; // ecx@11
  size_t v16; // esi@12
  int v17; // ecx@13
  int v18; // et0@17

  v5 = a3;
  v6 = 0;
  v7 = a4;
  if ( !dword_10120218 )
    goto LABEL_24;
  while ( 1 )
  {
    v8 = dword_10120220[v6];
    if ( *(_DWORD *)v8 == a1 )
      break;
    if ( ++v6 >= (unsigned int)dword_10120218 )
      return -1;
  }
  if ( v6 != -1 )
  {
    v10 = *(_DWORD *)(v8 + 4);
    if ( v10 != 138 )
      sub_100178A0(v10, -1);
    if ( a3 )
    {
      while ( 1 )
      {
        v11 = v7 & ~*(_DWORD *)(dword_10120220[v6] + 28);
        v12 = sub_10018920(v6, (unsigned int)v7 & *(_DWORD *)(dword_10120220[v6] + 28));
        if ( !v12 )
          break;
        v13 = *(_DWORD *)(v12 + 28);
        v14 = *(_WORD *)(v12 + 24) - v11;
        v15 = (const void *)(v11 + v13);
        if ( v5 <= v14 )
        {
          v16 = v5;
        }
        else
        {
          v16 = v14;
          if ( !v14 )
            goto LABEL_13;
        }
        memcpy_0(a2, v15, v16);
        v5 -= v16;
        v18 = (v16 + __PAIR__((unsigned int)a5, v7)) >> 32;
        v7 += v16;
        a5 = v18;
        a2 = (char *)a2 + v16;
        if ( !v5 )
          goto LABEL_13;
      }
      if ( *(_DWORD *)(dword_10120220[v6] + 4) != 138 )
        sub_10017820(*(_DWORD *)(dword_10120220[v6] + 4));
      result = -1;
    }
    else
    {
LABEL_13:
      v17 = dword_10120220[v6];
      if ( *(_DWORD *)(v17 + 4) != 138 )
        sub_10017820(*(_DWORD *)(v17 + 4));
      result = a3 - v5;
    }
  }
  else
  {
LABEL_24:
    result = -1;
  }
  return result;
}
// 10120218: using guessed type int dword_10120218;
// 10120220: using guessed type int dword_10120220[];

//----- (10018B00) --------------------------------------------------------
void __cdecl sub_10018B00(float *a1, float *a2, float *a3, int a4)
{
  float v4; // [sp+0h] [bp-4h]@1

  sub_10019A00(a1, a2, a4);
  v4 = sqrt(sub_10019AC0(a4, a4));
  *a3 = v4;
  if ( v4 >= 0.1000000014901161 )
  {
    *(float *)a4 = *(float *)a4 / v4;
    *(float *)(a4 + 4) = *(float *)(a4 + 4) / *a3;
  }
  else
  {
    *(float *)(a4 + 4) = 1.0;
    *(float *)a4 = 0.0;
  }
}

//----- (10018B60) --------------------------------------------------------
int __cdecl sub_10018B60(float a1, float a2, int a3)
{
  float v3; // ST00_4@1
  float v4; // ST04_4@1
  float v5; // ST00_4@1
  float v6; // ST04_4@1
  double v7; // ST08_8@1
  float v8; // ST04_4@1
  float v9; // ST00_4@1
  float v10; // ST04_4@1
  float v11; // ST04_4@1
  double v12; // ST08_8@1
  float v13; // ST04_4@1
  float v14; // ST00_4@1
  float v15; // ST04_4@1
  float v16; // ST04_4@1
  double v17; // ST08_8@1
  float v18; // ST04_4@1
  float v19; // ST00_4@1
  float v20; // ST04_4@1
  float v21; // ST04_4@1
  double v22; // ST08_8@1
  float v23; // ST04_4@1
  float v24; // ST00_4@1
  float v25; // ST04_4@1
  int result; // eax@1
  float v27; // ST04_4@1
  float v28; // ST04_4@1
  float v29; // [sp+18h] [bp+8h]@1
  float v30; // [sp+18h] [bp+8h]@1

  v3 = sin(a2 * 4.0);
  v4 = v3;
  v5 = sin(a1 * 4.0);
  v6 = v4 - v5;
  v7 = v6 * 0.00001062759019987425 * 0.25;
  v8 = sin(a2 + a2);
  v9 = v8;
  v10 = sin(a1 + a1);
  v11 = v9 - v10;
  v12 = v7 - v11 * 0.00506310909986496 * 0.5;
  v13 = sin(a2 * 6.0);
  v14 = v13;
  v15 = sin(a1 * 6.0);
  v16 = v14 - v15;
  v17 = v12 - v16 * 0.00000002082037831030448 / 6.0;
  v18 = sin(a2 * 8.0);
  v19 = v18;
  v20 = sin(a1 * 8.0);
  v21 = v19 - v20;
  v22 = v21 * 3.932370748471747e-11 * 0.125 + v17;
  v23 = sin(a2 * 10.0);
  v24 = v23;
  v25 = sin(a1 * 10.0);
  result = a3;
  v27 = v24 - v25;
  v28 = v22 - v27 * 7.108452959288594e-14 / 10.0;
  v29 = a2 - a1;
  v30 = v29 * 1.005052447319031;
  *(float *)a3 = fabs((v28 + v30) * 6335439.327292892);
  return result;
}

//----- (10018D20) --------------------------------------------------------
void __cdecl sub_10018D20(int a1, int a2, float *a3, float *a4, float *a5)
{
  float v5; // ST38_4@1
  float v6; // ST38_4@1
  long double v7; // ST38_8@5
  long double v8; // ST48_8@5
  long double v9; // st7@5
  signed int v10; // ebx@5
  long double v11; // st5@5
  long double v12; // st7@5
  long double v13; // st7@6
  double v14; // st7@6
  double v15; // st4@6
  double v16; // st3@6
  double v17; // st2@8
  double v18; // STB8_8@8
  double v19; // ST60_8@10
  double v20; // ST50_8@10
  long double v21; // st7@10
  long double v22; // st7@10
  double v23; // [sp+40h] [bp-90h]@6
  double v24; // [sp+48h] [bp-88h]@6
  double v25; // [sp+50h] [bp-80h]@5
  double v26; // [sp+58h] [bp-78h]@5
  double v27; // [sp+60h] [bp-70h]@5
  double v28; // [sp+68h] [bp-68h]@6
  double v29; // [sp+70h] [bp-60h]@6
  double v30; // [sp+78h] [bp-58h]@5
  double v31; // [sp+80h] [bp-50h]@6
  double v32; // [sp+88h] [bp-48h]@6
  double v33; // [sp+90h] [bp-40h]@5
  double v34; // [sp+98h] [bp-38h]@5
  double v35; // [sp+A0h] [bp-30h]@8
  double v36; // [sp+A8h] [bp-28h]@6
  double v37; // [sp+B0h] [bp-20h]@5
  double v38; // [sp+C0h] [bp-10h]@5

  v5 = *(float *)(a2 + 4) - *(float *)(a1 + 4);
  v6 = fabs(sub_100637E0(v5));
  if ( v6 >= 0.000001 )
  {
    v7 = sin(*(float *)a1) * 0.9966471893352525 / cos(*(float *)a1);
    v8 = sin(*(float *)a2) * 0.9966471893352525 / cos(*(float *)a2);
    v33 = 1.0 / sqrt(v7 * v7 + 1.0);
    v9 = 1.0 / sqrt(v8 * v8 + 1.0);
    v10 = 0;
    v37 = v9;
    v34 = v33 * v9;
    v25 = v34 * v8;
    v27 = v25 * v7;
    v26 = *(float *)(a2 + 4) - *(float *)(a1 + 4);
    v11 = v9;
    v12 = v26;
    v30 = v11 * (v33 * v7);
    v38 = v27 + v27;
    do
    {
      v29 = sin(v12);
      v13 = cos(v26);
      v32 = v13;
      v24 = v25 - v13 * v30;
      v36 = sqrt(v29 * v37 * (v29 * v37) + v24 * v24);
      v28 = v13 * v34 + v27;
      v23 = sub_10063A30(v36, v28);
      v14 = v29 * v34 / v36;
      v15 = 1.0 - v14 * v14;
      v16 = v38;
      v31 = v38;
      if ( v15 > 0.0 )
      {
        v16 = v28 - v38 / v15;
        v31 = v16;
      }
      ++v10;
      v35 = v16 * v16 + v16 * v16 - 1.0;
      v17 = v15 * ((4.0 - v15 * 3.0) * 0.00335281066474748 + 4.0) * 0.00335281066474748 * 0.0625;
      v18 = v26;
      v12 = 0.00335281066474748 * ((1.0 - v17) * (v14 * (v36 * (v16 + v35 * v28 * v17) * v17 + v23)))
          + *(float *)(a2 + 4)
          - *(float *)(a1 + 4);
      v26 = v12;
    }
    while ( fabs(v18 - v12) > 0.00000005 && v10 < 20 );
    v19 = sub_10063A30(v29 * v37, v24);
    v20 = sub_10063A30(v29 * v33, v32 * v25 - v30);
    v21 = sqrt(v15 * 0.006739496742276252 + 1.0);
    v22 = (v21 + 1.0 - 2.0) / (v21 + 1.0);
    *a3 = (0.25 * (v22 * v22) + 1.0)
        / (1.0 - v22)
        * ((v22 * 0.375 * v22 - 1.0)
         * v22
         * (v36
          * (v31
           + ((1.0 - v35 - v35) * (v36 * v36 * 4.0 - 3.0) * v31 * ((v22 * 0.375 * v22 - 1.0) * v22) / 6.0 - v35 * v28)
           * ((v22 * 0.375 * v22 - 1.0)
            * v22)
           * 0.25))
         + v23)
        * 6378137.0
        * 0.9966471893352525;
    *a4 = v19;
    *a5 = v20;
  }
  else
  {
    sub_10018B60(*(float *)a1, *(float *)a2, (int)a3);
    if ( *(float *)a1 >= (double)*(float *)a2 )
    {
      *a4 = 3.1415925;
      *a5 = 3.1415925;
    }
    else
    {
      *a4 = 0.0;
      *a5 = 0.0;
    }
  }
}

//----- (100190F0) --------------------------------------------------------
void __cdecl sub_100190F0(int a1, int a2, float *a3, float *a4)
{
  float v4; // ST14_4@1
  float v5; // ST14_4@1
  float v6; // [sp+Ch] [bp-1Ch]@1
  float v7; // [sp+10h] [bp-18h]@1
  float v8; // [sp+14h] [bp-14h]@1
  float v9; // [sp+18h] [bp-10h]@1
  float v10; // [sp+1Ch] [bp-Ch]@1
  float v11; // [sp+20h] [bp-8h]@3
  float v12; // [sp+24h] [bp-4h]@3

  sub_10063820(a1, (int)&v9);
  sub_10063820(a2, (int)&v7);
  v4 = v10 - v8;
  v6 = sub_100637E0(v4);
  v5 = v9 - v7;
  if ( COERCE_FLOAT(LODWORD(v5) & 0x7FFFFFFF) >= 0.0014486233 || COERCE_FLOAT(LODWORD(v6) & 0x7FFFFFFF) >= 0.0014486233 )
  {
    sub_10018D20((int)&v9, (int)&v7, a3, a4, &v6);
  }
  else
  {
    sub_10018B00(&v9, &v7, a3, (int)&v11);
    *a4 = sub_10063AA0(v11, v12);
  }
}

//----- (100191D0) --------------------------------------------------------
int __cdecl sub_100191D0(int a1, float a2, float *a3, int a4, float *a5)
{
  float *v5; // esi@1
  float *v6; // edi@1
  int v7; // ebx@3
  int result; // eax@3

  v5 = (float *)a1;
  v6 = (float *)LODWORD(a2);
  *(float *)&a1 = *(float *)(a1 + 4) - *(float *)(LODWORD(a2) + 4);
  a2 = sub_100637E0(*(float *)&a1);
  *(float *)&a1 = *v5 - *v6;
  a1 &= 0x7FFFFFFFu;
  if ( *(float *)&a1 >= 0.0014486233
    || (a1 = LODWORD(a2) & 0x7FFFFFFF, COERCE_FLOAT(LODWORD(a2) & 0x7FFFFFFF) >= 0.0014486233) )
  {
    sub_10018D20((int)v5, (int)v6, a3, (float *)&a1, &a2);
    sub_10063950(*(float *)&a1, a4, a4 + 4);
    result = sub_10063950(a2, (int)a5, (int)(a5 + 1));
  }
  else
  {
    v7 = a4;
    sub_10018B00(v5, v6, a3, a4);
    result = (int)a5;
    *a5 = *(float *)v7;
    *(float *)(result + 4) = *(float *)(v7 + 4);
  }
  return result;
}

//----- (100192B0) --------------------------------------------------------
char __cdecl sub_100192B0(int a1)
{
  char result; // al@1
  int v2; // ecx@2
  char v3; // al@4
  unsigned __int8 v4; // al@16

  *(_DWORD *)(a1 + 16) = 0x3FFFF;
  *(_BYTE *)a1 = -1;
  *(_DWORD *)(a1 + 20) = 0x3FFFF;
  *(_BYTE *)(a1 + 24) = 0;
  *(_BYTE *)(a1 + 1) = 0;
  *(_BYTE *)(a1 + 2) = 1;
  *(_BYTE *)(a1 + 3) = 1;
  *(_BYTE *)(a1 + 4) = 6;
  *(_BYTE *)(a1 + 5) = -1;
  *(_BYTE *)(a1 + 6) = 0;
  *(_BYTE *)(a1 + 7) = -1;
  *(_BYTE *)(a1 + 9) = 0;
  *(_BYTE *)(a1 + 13) = 0;
  *(_BYTE *)(a1 + 10) = -1;
  *(_BYTE *)(a1 + 11) = 0;
  *(_BYTE *)(a1 + 8) = 0;
  *(_BYTE *)(a1 + 12) = 0;
  *(_BYTE *)(a1 + 14) = 1;
  *(_BYTE *)(a1 + 15) = 0;
  result = sub_1004F050();
  if ( result )
  {
    sub_1004F2D0();
    *(_BYTE *)(a1 + 8) = *(_BYTE *)(dword_10504EDC + 815);
    *(_BYTE *)(a1 + 4) = *(_BYTE *)(dword_10504EDC + 94);
    *(_BYTE *)(a1 + 11) = *(_BYTE *)(dword_10504EDC + 97);
    *(_BYTE *)(a1 + 1) = *(_BYTE *)(dword_10504ED0 + 239);
    *(_BYTE *)(a1 + 15) = *(_BYTE *)(dword_10504EDC + 826);
    strncpy((char *)(a1 + 24), (const char *)(dword_10504EDC + 872), 0xCu);
    *(_BYTE *)(a1 + 35) = 0;
    *(_BYTE *)(a1 + 6) = *(_BYTE *)(dword_10504EDC + 784);
    *(_BYTE *)(a1 + 14) = 0;
    v2 = dword_10504EDC;
    if ( *(_BYTE *)(dword_10504EDC + 669) && !*(_BYTE *)(dword_10504EDC + 667)
      || (v3 = *(_BYTE *)(dword_10504EDC + 159)) != 0
      && *(_BYTE *)(dword_10504EDC + 667)
      && !*(_BYTE *)(dword_10504EDC + 661)
      && (v3 != 2 || -1.0 == *(float *)(dword_10504EDC + 116))
      || !*(_BYTE *)(dword_10504EDC + 672) )
    {
      *(_BYTE *)(a1 + 14) = 1;
      v2 = dword_10504EDC;
    }
    else if ( *(_BYTE *)(dword_10504EDC + 101) == 4
           && *(_BYTE *)(dword_10504EDC + 812) >= *(_BYTE *)(dword_10504ED0 + 241)
           && !*(_BYTE *)(dword_10504EDC + 89)
           && -1.0 == *(float *)(dword_10504EDC + 116) )
    {
      *(_BYTE *)(a1 + 14) = 1;
      v2 = dword_10504EDC;
    }
    *(_BYTE *)(a1 + 9) = *(_BYTE *)(v2 + 816);
    *(_BYTE *)(a1 + 5) = *(_BYTE *)(dword_10504ED0 + 241);
    v4 = *(_BYTE *)(a1 + 9) - 1;
    *(_BYTE *)(a1 + 10) = *(_BYTE *)(dword_10504ED0 + 244);
    if ( v4 > 2u )
    {
      *(_BYTE *)(a1 + 9) = 0;
      *(_DWORD *)(a1 + 16) = 0x3FFFF;
      *(_DWORD *)(a1 + 20) = 0x3FFFF;
      *(_BYTE *)(a1 + 12) = 0;
      *(_BYTE *)a1 = -1;
      *(_BYTE *)(a1 + 2) = 1;
      *(_BYTE *)(a1 + 3) = 1;
      *(_BYTE *)(a1 + 7) = -1;
      *(_BYTE *)(a1 + 14) = 1;
      result = sub_1004F2C0();
    }
    else
    {
      *(_DWORD *)(a1 + 16) = *(_DWORD *)(dword_10504EDC + 836);
      *(_DWORD *)(a1 + 20) = *(_DWORD *)(dword_10504EDC + 840);
      *(_BYTE *)a1 = *(_BYTE *)(dword_10504EDC + 812);
      *(_BYTE *)(a1 + 13) = *(_BYTE *)(dword_10504EDC + 825);
      if ( *(_DWORD *)(dword_10504EDC + 892) )
        *(_BYTE *)(a1 + 3) = 0;
      else
        *(_BYTE *)(a1 + 3) = *(_BYTE *)(dword_10504EDC + 288);
      *(_BYTE *)(a1 + 2) = *(_BYTE *)(dword_10504EDC + 288);
      *(_BYTE *)(a1 + 7) = *(_BYTE *)(dword_10504EDC + 813);
      *(_BYTE *)(a1 + 12) = *(_BYTE *)(dword_10504ED0 + 4);
      result = sub_1004F2C0();
    }
  }
  return result;
}
// 10504ED0: using guessed type int dword_10504ED0;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019500) --------------------------------------------------------
double __cdecl sub_10019500(char a1)
{
  double v1; // st7@5
  double result; // st7@9
  float v3; // [sp+0h] [bp-4h]@1

  v3 = 0.0;
  if ( !sub_1004F050() )
    goto LABEL_13;
  if ( !a1 )
  {
    v1 = *(float *)(dword_10504EDC + 124);
    goto LABEL_8;
  }
  if ( a1 == 2 )
  {
    v1 = *(float *)(dword_10504EDC + 860);
    goto LABEL_8;
  }
  if ( a1 == 3 )
  {
    v1 = *(float *)(dword_10504EDC + 1204);
LABEL_8:
    v3 = v1;
  }
  result = v3;
  if ( (LODWORD(v3) & 0x7F800000) == 2139095040 || result > 3.141592502593994 || result < -3.141592502593994 )
  {
    v3 = 0.0;
LABEL_13:
    result = v3;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019590) --------------------------------------------------------
signed int __cdecl sub_10019590(char a1)
{
  return (signed int)(sub_10019500(a1) * 683565248.0);
}

//----- (100195B0) --------------------------------------------------------
signed int sub_100195B0()
{
  signed int result; // eax@2

  if ( sub_1004F050() )
    result = *(_DWORD *)(dword_10504EDC + 840);
  else
    result = 0x3FFFF;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (100195D0) --------------------------------------------------------
char sub_100195D0()
{
  char result; // al@2

  if ( sub_1004F050() )
    result = *(_BYTE *)(dword_10504EDC + 661);
  else
    result = 0;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (100195F0) --------------------------------------------------------
char sub_100195F0()
{
  char result; // al@2

  if ( sub_1004F050() )
    result = *(_BYTE *)(dword_10504EDC + 815);
  else
    result = 0;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019610) --------------------------------------------------------
char __cdecl sub_10019610(int a1)
{
  int v1; // eax@2
  char result; // al@2

  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    v1 = dword_10504EDC + 1504;
    *(_DWORD *)a1 = *(_DWORD *)(dword_10504EDC + 1504);
    *(_DWORD *)(a1 + 4) = *(_DWORD *)(v1 + 4);
    *(_DWORD *)(a1 + 8) = *(_DWORD *)(v1 + 8);
    sub_1004F2C0();
    result = *(_BYTE *)a1;
  }
  else
  {
    *(float *)(a1 + 4) = 0.0;
    *(_BYTE *)a1 = 0;
    *(float *)(a1 + 8) = 0.0;
    result = *(_BYTE *)a1;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019660) --------------------------------------------------------
char __cdecl sub_10019660(char a1)
{
  char v1; // bl@1
  unsigned __int8 v2; // al@2
  char v3; // al@3

  v1 = 0;
  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    v2 = *(_BYTE *)(dword_10504EDC + 812);
    if ( v2 != -1 )
    {
      v3 = *(_BYTE *)(180 * v2 + dword_10504ED0 + 671);
      if ( (v3 == 18 || v3 == 19 || v3 == 20 || v3 == 21 || v3 == 22) && (!a1 || v3 == 21) )
        v1 = 1;
    }
    sub_1004F2C0();
  }
  return v1;
}
// 10504ED0: using guessed type int dword_10504ED0;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (100196D0) --------------------------------------------------------
char __cdecl sub_100196D0(unsigned __int8 a1)
{
  if ( !sub_1004F050() )
    return 0;
  if ( a1 < 0x66u )
  {
    sub_1004F2D0();
    if ( a1 >= *(_BYTE *)(dword_10504ED0 + 5)
      && a1 <= *(_BYTE *)(dword_10504ED0 + 3)
      && *(_BYTE *)(180 * a1 + dword_10504ED0 + 668) )
    {
      sub_1004F2C0();
      return 1;
    }
    sub_1004F2C0();
    return 0;
  }
  return 0;
}
// 10504ED0: using guessed type int dword_10504ED0;

//----- (10019730) --------------------------------------------------------
char sub_10019730()
{
  char v0; // bl@2
  char result; // al@3

  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    v0 = *(_BYTE *)(dword_10504EDC + 818);
    if ( *(_BYTE *)(dword_10504EDC + 812) == -1 )
    {
      sub_1004F2C0();
      result = 2;
    }
    else
    {
      if ( *(_BYTE *)(dword_10504EDC + 815) == 1 )
        v0 = 3;
      sub_1004F2C0();
      result = v0;
    }
  }
  else
  {
    result = 2;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019820) --------------------------------------------------------
char __cdecl sub_10019820(char a1, char a2, float *a3)
{
  char v3; // bl@1
  double v4; // st7@3
  int v5; // edi@3
  int *v6; // eax@3
  char v8; // [sp+Fh] [bp-31h]@1
  float v9; // [sp+10h] [bp-30h]@3
  float v10; // [sp+10h] [bp-30h]@11
  char v11; // [sp+18h] [bp-28h]@2
  char v12; // [sp+26h] [bp-1Ah]@2

  *a3 = 0.0;
  v3 = 0;
  v8 = sub_10019660(0);
  if ( !sub_1004F050() )
    return v3;
  sub_100192B0((int)&v11);
  if ( v12 )
    return v3;
  sub_1004F2D0();
  v4 = 0.0;
  v9 = 0.0;
  v5 = *(_DWORD *)(dword_10504EDC + 296);
  v6 = (int *)(dword_10504EDC + 296);
  if ( a1 )
  {
    if ( a1 != 1 )
    {
      if ( a1 == 2 )
      {
        v4 = *(float *)(dword_10504EDC + 560) - *(float *)(dword_10504EDC + 720);
        *a3 = v4;
        v3 = *(_BYTE *)(dword_10504EDC + 673);
      }
      goto LABEL_11;
    }
    *a3 = *(float *)(dword_10504EDC + 312);
    v4 = *(float *)(dword_10504EDC + 328);
    goto LABEL_10;
  }
  if ( !v8 )
  {
    *a3 = *(float *)(dword_10504EDC + 308);
    v4 = *(float *)(dword_10504EDC + 324);
LABEL_10:
    v5 = *v6;
    v9 = v4;
    v3 = 1;
  }
LABEL_11:
  sub_1004F2C0();
  sub_1004F2B0(v5);
  v10 = v4 * v9 + *a3;
  *a3 = v10;
  if ( a1 != 2 )
    *a3 = v10 - sub_10019500(a2);
  *a3 = sub_100637E0(*a3);
  return v3;
}
// 1004F2B0: using guessed type _DWORD __cdecl sub_1004F2B0(_DWORD);
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019960) --------------------------------------------------------
bool __cdecl sub_10019960(void *a1)
{
  bool result; // al@2

  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    qmemcpy(a1, (const void *)(dword_10504EDC + 1356), 0x94u);
    result = sub_1004F2C0();
  }
  else
  {
    memset(a1, 0, 0x94u);
    result = (char)a1;
    *((float *)a1 + 11) = 9.9999996e24;
    *((float *)a1 + 12) = 9.9999996e24;
    *((_BYTE *)a1 + 1) = 0;
    *((float *)a1 + 14) = 9.9999996e24;
    *((_BYTE *)a1 + 25) = 0;
    *((float *)a1 + 15) = 9.9999996e24;
    *((_BYTE *)a1 + 7) = 1;
    *((float *)a1 + 18) = 9.9999996e24;
    *((_BYTE *)a1 + 10) = 0;
    *((float *)a1 + 17) = 9.9999996e24;
    *((_DWORD *)a1 + 9) = -1;
    *((float *)a1 + 20) = 9.9999996e24;
    *((_BYTE *)a1 + 19) = -1;
    *((float *)a1 + 24) = 9.9999996e24;
    *((_DWORD *)a1 + 10) = -1;
    *((float *)a1 + 26) = 9.9999996e24;
    *((_BYTE *)a1 + 20) = -1;
    *((float *)a1 + 27) = 9.9999996e24;
    *((_BYTE *)a1 + 8) = 0;
    *((float *)a1 + 31) = 9.9999996e24;
    *((_BYTE *)a1 + 9) = 0;
    *((float *)a1 + 32) = 9.9999996e24;
    *((_BYTE *)a1 + 13) = 0;
    *((float *)a1 + 33) = 9.9999996e24;
    *((_BYTE *)a1 + 15) = 0;
    *((float *)a1 + 34) = 9.9999996e24;
    *((_BYTE *)a1 + 14) = 0;
    *((float *)a1 + 16) = 9.9999996e24;
    *((_BYTE *)a1 + 16) = 0;
    *((float *)a1 + 35) = 9.9999996e24;
    *((_BYTE *)a1 + 17) = 0;
    *((float *)a1 + 36) = 9.9999996e24;
    *((_BYTE *)a1 + 24) = 0;
    *((float *)a1 + 19) = 9.9999996e24;
    *((float *)a1 + 21) = 9.9999996e24;
    *((float *)a1 + 22) = 9.9999996e24;
    *((float *)a1 + 23) = 9.9999996e24;
    *((float *)a1 + 25) = 9.9999996e24;
    *((float *)a1 + 28) = 9.9999996e24;
    *((float *)a1 + 29) = 0.0;
    *((float *)a1 + 30) = 9.9999996e24;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (100199B0) --------------------------------------------------------
char sub_100199B0()
{
  unsigned __int8 v0; // cl@2
  signed int v1; // eax@4

  if ( !sub_1004F050() )
  {
    LOBYTE(v1) = 0;
    return v1;
  }
  v0 = *(_BYTE *)(dword_10504EDC + 1200);
  if ( v0 || (v0 = *(_BYTE *)(dword_10504EDC + 814)) != 0 )
  {
    LOBYTE(v1) = v0;
    if ( v0 < 4u )
      return v1;
    v1 = 4;
  }
  else
  {
    v1 = *(_BYTE *)(dword_10504EDC + 122) == 0;
  }
  if ( v1 == 4 )
    LOBYTE(v1) = 0;
  return v1;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10019A00) --------------------------------------------------------
void __cdecl sub_10019A00(float *a1, float *a2, int a3)
{
  float *v3; // esi@1
  float *v4; // edi@1
  int v5; // [sp+18h] [bp-8h]@1
  int v6; // [sp+1Ch] [bp-4h]@1
  float v7; // [sp+24h] [bp+4h]@1
  float v8; // [sp+24h] [bp+4h]@1
  float v9; // [sp+24h] [bp+4h]@1
  float v10; // [sp+24h] [bp+4h]@1
  float v11; // [sp+28h] [bp+8h]@1
  float v12; // [sp+28h] [bp+8h]@1

  v3 = a1;
  v4 = a2;
  v7 = (*a1 + *a2) * 0.5;
  sub_10063950(v7, (int)&v5, (int)&v6);
  v8 = 1.0 / (1.0 - *(float *)&v5 * (0.00669437999013 * *(float *)&v5));
  v11 = sqrt(v8) * 6378137.0;
  v9 = 0.99330562000987 * v11 * v8;
  v12 = v11 * *(float *)&v6;
  *(float *)(a3 + 4) = (*v4 - *v3) * v9;
  v10 = v4[1] - v3[1];
  *(float *)a3 = v10;
  *(float *)a3 = sub_100637E0(v10) * v12;
}

//----- (10019AC0) --------------------------------------------------------
double __cdecl sub_10019AC0(int a1, int a2)
{
  return (float)(*(float *)(a1 + 4) * *(float *)(a2 + 4) + *(float *)a1 * *(float *)a2);
}

//----- (10019AE0) --------------------------------------------------------
void sub_10019AE0()
{
  ;
}

//----- (10019AF0) --------------------------------------------------------
int __cdecl sub_10019AF0(int a1, _BYTE *a2, int a3)
{
  int result; // eax@2

  if ( *(_BYTE *)(a1 + 2) )
    result = 0;
  else
    result = sub_1001A7F0(a1, a2, a3);
  return result;
}

//----- (10019B30) --------------------------------------------------------
char __cdecl sub_10019B30(char a1, char a2)
{
  char result; // al@1

  result = a1;
  byte_10120261 = a1;
  byte_10120260 = a2;
  return result;
}
// 10120260: using guessed type char byte_10120260;
// 10120261: using guessed type char byte_10120261;

//----- (10019B50) --------------------------------------------------------
int __cdecl sub_10019B50(int a1, int a2, _BYTE *a3, __int16 a4, int a5, __int16 a6, int a7)
{
  int result; // eax@12
  __int16 v8; // ST1C_2@20
  __int16 v9; // ST1E_2@43
  __int16 v10; // ST1C_2@56
  __int16 v11; // [sp+8h] [bp-8Ch]@17
  __int16 v12; // [sp+8h] [bp-8Ch]@43
  __int16 v13; // [sp+Ah] [bp-8Ah]@17
  __int16 v14; // [sp+Ah] [bp-8Ah]@43
  __int16 *v15; // [sp+10h] [bp-84h]@3
  unsigned __int8 v16; // [sp+17h] [bp-7Dh]@1
  int v17; // [sp+18h] [bp-7Ch]@47
  int v18; // [sp+1Ch] [bp-78h]@17
  int v19; // [sp+20h] [bp-74h]@11
  __int16 v20; // [sp+28h] [bp-6Ch]@29
  int v21; // [sp+2Ch] [bp-68h]@50
  int v22; // [sp+30h] [bp-64h]@47
  int i; // [sp+34h] [bp-60h]@13
  signed int v24; // [sp+38h] [bp-5Ch]@15
  unsigned __int8 v25; // [sp+3Eh] [bp-56h]@1
  bool v26; // [sp+3Fh] [bp-55h]@1
  char v27; // [sp+40h] [bp-54h]@45
  __int16 v28; // [sp+44h] [bp-50h]@43
  __int16 v29; // [sp+46h] [bp-4Eh]@56
  char v30; // [sp+48h] [bp-4Ch]@43
  char v31; // [sp+49h] [bp-4Bh]@46
  __int16 v32; // [sp+4Ah] [bp-4Ah]@56
  unsigned __int8 v33; // [sp+4Fh] [bp-45h]@1
  int v34; // [sp+50h] [bp-44h]@15
  __int16 v35; // [sp+54h] [bp-40h]@22
  int v36; // [sp+58h] [bp-3Ch]@45
  int v37; // [sp+5Ch] [bp-38h]@44
  int v38; // [sp+60h] [bp-34h]@28
  __int16 v39; // [sp+64h] [bp-30h]@17
  __int16 v40; // [sp+66h] [bp-2Eh]@17
  __int16 v41; // [sp+68h] [bp-2Ch]@55
  __int16 v42; // [sp+6Ah] [bp-2Ah]@55
  unsigned __int16 v43; // [sp+6Ch] [bp-28h]@24
  int v44; // [sp+70h] [bp-24h]@29
  char v45; // [sp+75h] [bp-1Fh]@43
  unsigned __int8 v46; // [sp+76h] [bp-1Eh]@1
  char v47; // [sp+77h] [bp-1Dh]@43
  int v48; // [sp+78h] [bp-1Ch]@22
  int v49; // [sp+7Ch] [bp-18h]@23
  __int16 v50; // [sp+80h] [bp-14h]@55
  __int16 v51; // [sp+82h] [bp-12h]@55
  __int16 v52; // [sp+84h] [bp-10h]@24
  int v53; // [sp+88h] [bp-Ch]@4
  int v54; // [sp+8Ch] [bp-8h]@19
  __int16 v55; // [sp+90h] [bp-4h]@17

  v16 = (a5 & 0xE000u) >> 13;
  v46 = (unsigned __int8)(a5 & 0x70) >> 4;
  v25 = (a5 & 0x380u) >> 7;
  v33 = (a5 & 0x1C00u) >> 10;
  v26 = 1;
  if ( a5 & 0x40000000 || a5 & 0x80000000 )
  {
    v15 = &a6;
    if ( a5 & 0x40000000 )
    {
      v15 = (__int16 *)&a7;
      v53 = a6;
      v16 = (a6 & 0xFF000000) >> 24;
      v46 = a6;
      v25 = (unsigned __int16)(a6 & 0xFF00) >> 8;
      v33 = (a6 & 0xFF0000u) >> 16;
    }
    if ( a5 & 0x80000000 )
    {
      if ( *(_DWORD *)v15 )
      {
        if ( *(_DWORD *)v15 == 2 )
          v26 = sub_1001A640(a3) == 0;
        else
          v26 = 0;
      }
      else
      {
        v26 = 1;
      }
    }
  }
  v19 = 0;
  if ( *(_BYTE *)(a2 + 3) & 3 )
  {
    result = 0;
  }
  else
  {
    i = sub_10019AF0(a2, a3, a5);
    if ( !a4 )
      a4 = i;
    v34 = a4;
    v24 = ((a5 & 0x3F0000u) >> 16) - 1;
    if ( v24 < 0 )
      v24 = *(_WORD *)(a2 + 28);
    v18 = *(_WORD *)(a2 + 22);
    v11 = *(_WORD *)(a1 + 46);
    v55 = *(_WORD *)(a1 + 44);
    v13 = v55 - (*(_WORD *)(a2 + 24) - 1);
    v39 = *(_WORD *)(a1 + 42);
    v40 = *(_WORD *)(a1 + 40);
    if ( a5 & 3 )
    {
      if ( (a5 & 3) == 1 )
      {
        v54 = v11 - v34 / 2;
        v11 -= i / 2;
      }
      else
      {
        v54 = v11;
      }
    }
    else
    {
      v8 = v11 + 1;
      v54 = v8 - v34;
      v11 = v8 - i;
    }
    v35 = v13;
    v48 = v18;
    if ( a5 & 0xC )
    {
      v35 += *(_WORD *)(a2 + 26);
      v48 -= v18 - *(_WORD *)(a2 + 24) + *(_WORD *)(a2 + 26);
      v54 -= v46;
      v49 = v25;
      v34 += v25 + v46;
      if ( (a5 & 0xC) == 4 )
      {
        v52 = *(_WORD *)(a1 + 6);
        v43 = *(_WORD *)(a1 + 50);
        *(_WORD *)(a1 + 6) = 3;
        *(_WORD *)(a1 + 50) = *(_WORD *)(a1 + 36);
        v49 = v33;
        v35 -= v33;
        v48 += v33;
        if ( v33 > (signed int)*(_WORD *)(a2 + 26) )
          sub_1001EBD0(a1, v54, v35, v34, v49 - *(_WORD *)(a2 + 26));
        v49 = v16;
        v48 += v16;
        if ( v16 > v18 - *(_WORD *)(a2 + 24) )
          sub_1001EBD0(a1, v54, v18 + v13, v34, v49 - (v18 - *(_WORD *)(a2 + 24)));
        v38 = v11 - v54;
        if ( i > a4 )
        {
          v20 = a4 + v11;
          v44 = v25;
        }
        else
        {
          v20 = i + v11;
          v44 = v34 - (i + v38);
        }
        if ( v38 > 0 )
          sub_1001EBD0(a1, v54, v35, v38, v48);
        if ( v44 > 0 )
          sub_1001EBD0(a1, v20, v35, v44, v48);
        *(_WORD *)(a1 + 50) = v43;
        *(_WORD *)(a1 + 6) = v52;
      }
    }
    if ( v35 <= v13 )
      v35 = 0;
    else
      v35 -= v13;
    if ( v48 >= v18 - v35 )
      v48 = v18 - v35;
    if ( i < a4 )
      a4 = i;
    v30 = 1;
    v47 = 0;
    v45 = (*(_BYTE *)(a2 + 3) & 3) << 6;
    v12 = v39 + v11;
    v9 = v40 + v13;
    v52 = *(_WORD *)(a1 + 4);
    *(_WORD *)(a1 + 4) = 2;
    v14 = v35 + v9;
    v28 = v18;
    if ( i )
    {
      v37 = (a5 & 0x3FC00000u) >> 22;
      for ( i = 0; !sub_1001A6E0(a2, &a3, &v27, &v36, v26); i += v21 + (signed __int16)v36 )
      {
        v31 = v47;
        if ( v37 <= v36 )
        {
          v22 = 0;
          v17 = 0;
        }
        else
        {
          v22 = (v37 - v36) / 2;
          v17 = v37 - v36 - v22;
        }
        v21 = i <= 0 ? v22 : v22 + v24 + v19;
        if ( v36 + v21 + i > a4 )
          break;
        v19 = v17;
        v43 = *(_WORD *)(a1 + 38);
        if ( v21 > 0 && v43 != 0xFFFF )
        {
          *(_WORD *)(a1 + 38) = *(_WORD *)(a1 + 36);
          v50 = v14;
          v51 = v12;
          v41 = v48;
          v42 = v21;
          sub_1001FB70(a1, (signed __int16)v21 + (v12 << 16), (signed __int16)v48 + (v14 << 16));
          *(_WORD *)(a1 + 38) = v43;
        }
        v10 = v21 + v12;
        *(_WORD *)(a1 + 8) = v14;
        *(_WORD *)(a1 + 10) = v10;
        *(_WORD *)(a1 + 16) = v48;
        *(_WORD *)(a1 + 18) = v36;
        v29 = v36;
        *(_WORD *)(a1 + 14) = 0;
        *(_WORD *)(a1 + 12) = v35;
        v32 = (v29 + 7) / 8;
        *(_DWORD *)(a1 + 56) = &v27;
        sub_1001B800(a1);
        v12 = v36 + v10;
      }
    }
    v43 = *(_WORD *)(a1 + 38);
    if ( i < a4 && v43 != 0xFFFF )
    {
      *(_WORD *)(a1 + 38) = *(_WORD *)(a1 + 36);
      v50 = v14;
      v51 = v12;
      v41 = v48;
      v42 = a4 - i;
      sub_1001FB70(a1, (signed __int16)(a4 - i) + (v12 << 16), (signed __int16)v48 + (v14 << 16));
      *(_WORD *)(a1 + 38) = v43;
    }
    *(_WORD *)(a1 + 4) = v52;
    *(_WORD *)(a1 + 46) = v19 + v12 - v39;
    *(_WORD *)(a1 + 44) = v55;
    result = v19 + i;
  }
  return result;
}

//----- (1001A390) --------------------------------------------------------
int __cdecl sub_1001A390(int a1, int a2, char a3, __int16 a4, unsigned __int16 a5)
{
  int v5; // eax@1
  int v6; // ecx@1
  int result; // eax@2
  int v8; // [sp+0h] [bp-40h]@5
  __int16 v9; // [sp+4h] [bp-3Ch]@4
  __int16 v10; // [sp+6h] [bp-3Ah]@4
  int v11; // [sp+8h] [bp-38h]@1
  __int16 v12; // [sp+Ch] [bp-34h]@1
  __int16 v13; // [sp+Eh] [bp-32h]@1
  _WORD *v14; // [sp+10h] [bp-30h]@3
  int v15; // [sp+14h] [bp-2Ch]@1
  unsigned int v16; // [sp+18h] [bp-28h]@5
  int v17; // [sp+1Ch] [bp-24h]@3
  __int16 v18; // [sp+20h] [bp-20h]@1
  char v19; // [sp+27h] [bp-19h]@1
  __int16 v20; // [sp+28h] [bp-18h]@1
  int v21; // [sp+2Ch] [bp-14h]@4
  int v22; // [sp+30h] [bp-10h]@4
  int v23; // [sp+34h] [bp-Ch]@4
  int v24; // [sp+38h] [bp-8h]@5
  int v25; // [sp+3Ch] [bp-4h]@4

  v19 = 0;
  HIWORD(v5) = HIWORD(a2);
  v11 = *(_WORD *)(a2 + 28);
  v15 = 0;
  v12 = *(_WORD *)(a1 + 46);
  v13 = *(_WORD *)(a1 + 44);
  LOWORD(v5) = a4;
  v20 = sub_10063530(v5);
  LOWORD(v6) = a4;
  v18 = sub_100634D0(v6);
  if ( (*(_BYTE *)(a2 + 3) & 3) == 1 )
  {
    while ( !sub_1001A6E0(a2, &a3, &v14, &v17, 0) )
    {
      v9 = ((a5 * ((v15 * v20 + 0x4000) >> 15) + 128) >> 8) + v12;
      v10 = ((a5 * ((v15 * v18 + 0x4000) >> 15) + 128) >> 8) + v13;
      v22 = v9;
      v25 = v10;
      v15 += v11 + v17;
      *(_WORD *)(a1 + 46) = v22;
      *(_WORD *)(a1 + 44) = v25;
      v21 = 0;
      v23 = 0;
      do
      {
        v16 = *v14;
        ++v14;
        v21 += (signed int)(v16 << 25) >> 25;
        v23 += (signed int)(v16 << 17) >> 25;
        v24 = ((v21 * v20 + 0x4000) >> 15) - ((v23 * v18 + 0x4000) >> 15);
        v24 = (v24 * a5 + 128) >> 8;
        v8 = ((((v21 * v18 + 0x4000) >> 15) + ((v23 * v20 + 0x4000) >> 15)) * a5 + 128) >> 8;
        if ( (v16 >> 7) & 1 )
        {
          if ( v19 )
          {
            v19 = 0;
            sub_1001A8E0(a1, v22, v25, 2);
          }
          v22 = v24 + v9;
          v25 = v8 + v10;
          *(_WORD *)(a1 + 46) = v24 + v9;
          *(_WORD *)(a1 + 44) = v25;
        }
        else
        {
          v19 = 1;
          v22 = v24 + v9;
          v25 = v8 + v10;
          sub_1001A8E0(a1, v24 + v9, v8 + v10, 0);
        }
      }
      while ( !((v16 >> 15) & 1) );
      if ( v19 )
      {
        v19 = 0;
        sub_1001A8E0(a1, v22, v25, 2);
      }
    }
    result = v15;
  }
  else
  {
    result = v15;
  }
  return result;
}

//----- (1001A640) --------------------------------------------------------
bool __cdecl sub_1001A640(_BYTE *a1)
{
  char v3; // [sp+6h] [bp-2h]@1
  char v4; // [sp+7h] [bp-1h]@1

  v3 = 0;
  v4 = 0;
  while ( *a1 )
  {
    if ( (signed int)*a1 < 48 || (signed int)*a1 > 57 )
    {
      if ( (signed int)*a1 >= 97 && (signed int)*a1 <= 122 || (signed int)*a1 >= 65 && (signed int)*a1 <= 90 )
        v3 = 1;
    }
    else
    {
      v4 = 1;
    }
    ++a1;
  }
  return v3 && v4;
}

//----- (1001A6E0) --------------------------------------------------------
bool __cdecl sub_1001A6E0(int a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, char a5)
{
  int v5; // ST18_4@9
  int v7; // [sp+4h] [bp-1Ch]@7
  bool v8; // [sp+Bh] [bp-15h]@1
  unsigned int v9; // [sp+10h] [bp-10h]@7
  int v10; // [sp+14h] [bp-Ch]@1

  v10 = *(_BYTE *)(*a2)++;
  v8 = v10 == 0;
  if ( byte_10120261 && a5 && v10 == 48 )
    v10 = (unsigned __int8)byte_10120260;
  if ( !v8 )
  {
    if ( *(_BYTE *)(a1 + 2) )
    {
      v8 = 1;
    }
    else
    {
      v7 = *(_DWORD *)(a1 + 8) + a1;
      v9 = v10 - *(_BYTE *)(v7 + 2);
      if ( v9 >= *(_WORD *)v7 )
        v9 = *(_BYTE *)(v7 + 3);
      v5 = *(_DWORD *)(a1 + 12) + a1 + 4 * v9;
      *a3 = ((*(_BYTE *)(v5 + 2) << 16) | *(_WORD *)v5) + *(_DWORD *)(a1 + 16) + a1;
      *a4 = *(_BYTE *)(v5 + 3);
    }
  }
  return v8;
}
// 10120260: using guessed type char byte_10120260;
// 10120261: using guessed type char byte_10120261;

//----- (1001A7F0) --------------------------------------------------------
int __cdecl sub_1001A7F0(int a1, _BYTE *a2, int a3)
{
  int v3; // ST00_4@5
  unsigned int v5; // [sp+0h] [bp-20h]@5
  int v6; // [sp+4h] [bp-1Ch]@3
  int v7; // [sp+8h] [bp-18h]@3
  int v8; // [sp+Ch] [bp-14h]@3
  signed int v9; // [sp+10h] [bp-10h]@1
  signed int v10; // [sp+14h] [bp-Ch]@8
  signed int v11; // [sp+18h] [bp-8h]@1
  _BYTE *v12; // [sp+1Ch] [bp-4h]@3

  v11 = (a3 & 0x3FC00000u) >> 22;
  v9 = ((a3 & 0x3F0000u) >> 16) - 1;
  if ( v9 < 0 )
    v9 = *(_WORD *)(a1 + 28);
  v12 = a2;
  v6 = *(_DWORD *)(a1 + 12) + a1;
  v7 = *(_DWORD *)(a1 + 8) + a1;
  v8 = 0;
  while ( *v12 )
  {
    v3 = *v12++;
    v5 = v3 - *(_BYTE *)(v7 + 2);
    if ( v8 > 0 )
      v8 += v9;
    if ( v5 < *(_WORD *)v7 )
      v10 = *(_BYTE *)(v6 + 4 * v5 + 3);
    else
      v10 = *(_BYTE *)(v6 + 4 * *(_BYTE *)(v7 + 3) + 3);
    if ( v11 <= v10 )
      v8 += v10;
    else
      v8 += v11;
  }
  return v8;
}

//----- (1001A8E0) --------------------------------------------------------
int __cdecl sub_1001A8E0(int a1, __int16 a2, __int16 a3, char a4)
{
  int result; // eax@25
  signed int v5; // [sp+4h] [bp-30h]@29
  int v6; // [sp+8h] [bp-2Ch]@44
  int v7; // [sp+8h] [bp-2Ch]@54
  __int16 v8; // [sp+Ch] [bp-28h]@31
  char (__cdecl *v9)(int); // [sp+10h] [bp-24h]@2
  char *(__cdecl *v10)(int); // [sp+14h] [bp-20h]@5
  __int16 v11; // [sp+18h] [bp-1Ch]@31
  signed int v12; // [sp+1Ch] [bp-18h]@31
  __int16 v13; // [sp+20h] [bp-14h]@41
  __int16 v14; // [sp+28h] [bp-Ch]@29
  __int16 v15; // [sp+2Ch] [bp-8h]@29
  __int16 v16; // [sp+30h] [bp-4h]@41

  if ( *(_DWORD *)(a1 + 72) )
    v9 = *(char (__cdecl **)(int))(a1 + 72);
  else
    v9 = sub_100200F0;
  if ( *(_DWORD *)(a1 + 76) )
    v10 = *(char *(__cdecl **)(int))(a1 + 76);
  else
    v10 = sub_100202C0;
  *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 42) + *(_WORD *)(a1 + 46);
  *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 40) + *(_WORD *)(a1 + 44);
  *(_WORD *)(a1 + 14) = *(_WORD *)(a1 + 42) + a2;
  *(_WORD *)(a1 + 12) = *(_WORD *)(a1 + 40) + a3;
  *(_WORD *)(a1 + 46) = a2;
  *(_WORD *)(a1 + 44) = a3;
  if ( a4 & 1 )
  {
    if ( (signed int)*(_WORD *)(a1 + 10) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 10) < -8192 )
        *(_WORD *)(a1 + 10) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 10) = 0x1FFF;
    }
    if ( (signed int)*(_WORD *)(a1 + 8) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 8) < -8192 )
        *(_WORD *)(a1 + 8) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 8) = 0x1FFF;
    }
    if ( (signed int)*(_WORD *)(a1 + 14) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 14) < -8192 )
        *(_WORD *)(a1 + 14) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 14) = 0x1FFF;
    }
    if ( (signed int)*(_WORD *)(a1 + 12) <= 0x1FFF )
    {
      if ( (signed int)*(_WORD *)(a1 + 12) < -8192 )
        *(_WORD *)(a1 + 12) = -8192;
    }
    else
    {
      *(_WORD *)(a1 + 12) = 0x1FFF;
    }
  }
  if ( *(_WORD *)(a1 + 10) != *(_WORD *)(a1 + 14) || (result = *(_WORD *)(a1 + 12), *(_WORD *)(a1 + 8) != result) )
  {
    v14 = *(_WORD *)(a1 + 14) - *(_WORD *)(a1 + 10);
    v15 = v14;
    v5 = 1;
    if ( v14 < 0 )
    {
      v5 = -1;
      v15 = -v14;
    }
    v8 = *(_WORD *)(a1 + 12) - *(_WORD *)(a1 + 8);
    v11 = v8;
    v12 = 1;
    if ( v8 < 0 )
    {
      v12 = -1;
      v11 = -v8;
    }
    if ( v15 )
    {
      if ( v11 )
      {
        v13 = 2 * v15;
        v16 = 2 * v11;
        if ( v15 <= v11 )
        {
          *(_WORD *)(a1 + 16) = 0;
          *(_WORD *)(a1 + 18) = 1;
          if ( v13 >= v11 )
            *(_WORD *)(a1 + 16) -= (v12 ^ v5) + 1;
          v7 = v13 - v11 - (v5 < 0);
          *(_WORD *)(a1 + 12) = 0;
          while ( v11 )
          {
            *(_WORD *)(a1 + 12) += v12;
            if ( v7 >= 0 )
            {
              v10(a1);
              *(_WORD *)(a1 + 8) += *(_WORD *)(a1 + 12);
              *(_WORD *)(a1 + 12) = 0;
              *(_WORD *)(a1 + 10) += v5;
              v7 -= v16;
            }
            v7 += v13;
            --v11;
          }
          if ( a4 & 2 )
            *(_WORD *)(a1 + 12) += v12;
          v10(a1);
          result = a1;
          *(_WORD *)(a1 + 8) += *(_WORD *)(a1 + 12);
        }
        else
        {
          *(_WORD *)(a1 + 16) = 1;
          *(_WORD *)(a1 + 18) = 0;
          if ( v16 >= v15 )
            *(_WORD *)(a1 + 18) -= (v12 ^ v5) + 1;
          v6 = v16 - v15 - (v12 < 0);
          *(_WORD *)(a1 + 14) = 0;
          while ( v15 )
          {
            *(_WORD *)(a1 + 14) += v5;
            if ( v6 >= 0 )
            {
              v9(a1);
              *(_WORD *)(a1 + 10) += *(_WORD *)(a1 + 14);
              *(_WORD *)(a1 + 14) = 0;
              *(_WORD *)(a1 + 8) += v12;
              v6 -= v13;
            }
            v6 += v16;
            --v15;
          }
          if ( a4 & 2 )
            *(_WORD *)(a1 + 14) += v5;
          v9(a1);
          result = a1;
          *(_WORD *)(a1 + 10) += *(_WORD *)(a1 + 14);
        }
      }
      else
      {
        *(_WORD *)(a1 + 16) = 1;
        *(_WORD *)(a1 + 18) = 0;
        *(_WORD *)(a1 + 14) = v14;
        if ( a4 & 2 )
          *(_WORD *)(a1 + 14) += v5;
        result = v9(a1);
      }
    }
    else
    {
      *(_WORD *)(a1 + 16) = 0;
      *(_WORD *)(a1 + 18) = 1;
      *(_WORD *)(a1 + 12) = v8;
      if ( a4 & 2 )
        *(_WORD *)(a1 + 12) += v12;
      result = (int)v10(a1);
    }
  }
  else if ( a4 & 2 )
  {
    *(_WORD *)(a1 + 12) = 1;
    result = (int)v10(a1);
  }
  return result;
}

//----- (1001AE30) --------------------------------------------------------
int __cdecl sub_1001AE30(int a1, signed int a2, int a3, int a4, int a5)
{
  int result; // eax@3
  __int16 v6; // ST14_2@11
  __int16 v7; // ST18_2@11
  __int16 v8; // ST5C_2@11
  int v9; // edx@47
  int v10; // eax@50
  int v11; // ecx@50
  int v12; // ecx@51
  __int16 v13; // [sp+4h] [bp-6Ch]@55
  __int16 v14; // [sp+Ah] [bp-66h]@11
  __int16 v15; // [sp+Eh] [bp-62h]@11
  signed __int16 j; // [sp+10h] [bp-60h]@6
  unsigned __int16 l; // [sp+10h] [bp-60h]@18
  signed __int16 ii; // [sp+10h] [bp-60h]@47
  unsigned __int16 v19; // [sp+14h] [bp-5Ch]@22
  unsigned __int16 v20; // [sp+18h] [bp-58h]@24
  char *v21; // [sp+20h] [bp-50h]@1
  __int16 k; // [sp+28h] [bp-48h]@15
  int v23; // [sp+2Ch] [bp-44h]@47
  int v24; // [sp+30h] [bp-40h]@47
  int v25; // [sp+34h] [bp-3Ch]@47
  int v26; // [sp+38h] [bp-38h]@15
  int v27; // [sp+3Ch] [bp-34h]@4
  int v28; // [sp+40h] [bp-30h]@11
  __int16 v29; // [sp+44h] [bp-2Ch]@13
  signed __int16 v30; // [sp+48h] [bp-28h]@11
  int v31; // [sp+4Ch] [bp-24h]@11
  signed __int16 v32; // [sp+54h] [bp-1Ch]@11
  __int16 v33; // [sp+5Ch] [bp-14h]@57
  signed __int16 i; // [sp+60h] [bp-10h]@4
  unsigned __int16 m; // [sp+60h] [bp-10h]@36
  signed __int16 n; // [sp+60h] [bp-10h]@44
  unsigned __int16 jj; // [sp+60h] [bp-10h]@53
  __int16 v38; // [sp+64h] [bp-Ch]@11
  __int16 v39; // [sp+68h] [bp-8h]@4
  unsigned __int16 v40; // [sp+6Ch] [bp-4h]@17
  int v41; // [sp+84h] [bp+14h]@1

  v21 = (char *)(a5 + (-a5 & 3));
  v41 = a4 - (-a5 & 3) - (((_BYTE)a4 - (-(char)a5 & 3)) & 3);
  if ( a2 >= 2 && 2 * a2 <= v41 )
  {
    v39 = *(_WORD *)(a1 + 4);
    *(_WORD *)(a1 + 4) = *(_WORD *)(a1 + 6);
    v27 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 48);
    *(_WORD *)v21 = 0;
    for ( i = 1; (unsigned __int16)i < a2; ++i )
    {
      for ( j = i;
            j
         && *(_WORD *)(a3 + 4 * *(_WORD *)&v21[2 * (unsigned __int16)j - 2] + 2) > (signed int)*(_WORD *)(a3 + 4 * (unsigned __int16)i + 2);
            --j )
      {
        *(_WORD *)&v21[2 * (unsigned __int16)j] = *(_WORD *)&v21[2 * (unsigned __int16)j - 2];
      }
      *(_WORD *)&v21[2 * (unsigned __int16)j] = i;
    }
    v30 = 0;
    v32 = 0;
    v28 = 2 * a2 + (-2 * a2 & 3);
    v31 = (int)&v21[v28];
    v6 = *(_WORD *)(a1 + 26);
    v7 = *(_WORD *)(a1 + 30);
    v15 = *(_WORD *)(a1 + 28);
    v8 = *(_WORD *)(a1 + 42);
    v14 = *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 40);
    v38 = *(_WORD *)(a3 + 4 * *(_WORD *)v21 + 2);
    if ( v38 < v14 )
      v38 = *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 40);
    v29 = *(_WORD *)(a3 + 4 * *(_WORD *)&v21[2 * a2 - 2] + 2);
    if ( v29 > v15 + v14 )
      v29 = v15 + v14;
    v26 = 0;
    for ( k = v38; k < v29; ++k )
    {
      while ( 1 )
      {
        v40 = *(_WORD *)&v21[2 * v26];
        if ( *(_WORD *)(a3 + 4 * v40 + 2) > k )
          break;
        for ( l = 0; (signed int)l < 2; ++l )
        {
          if ( l )
          {
            if ( v40 == a2 - 1 )
              v19 = 0;
            else
              v19 = v40 + 1;
            v20 = v40;
          }
          else
          {
            if ( v40 )
              v19 = v40 - 1;
            else
              v19 = a2 - 1;
            v20 = v19;
          }
          if ( *(_WORD *)(a3 + 4 * v19 + 2) <= k )
          {
            if ( *(_WORD *)(a3 + 4 * v19 + 2) < k )
            {
              for ( m = 0; m < (signed int)(unsigned __int16)v30 && *(_WORD *)(v31 + 12 * m) != v20; ++m )
                ;
              if ( (unsigned __int16)v30 - m > 0 )
                memcpy((void *)(v31 + 12 * m), (const void *)(v31 + 12 * (m + 1)), 12 * ((unsigned __int16)--v30 - m));
            }
          }
          else
          {
            if ( (unsigned __int16)v30 == (unsigned __int16)((v41 - v28) / 0xCu) )
            {
              v32 = -1;
              goto LABEL_63;
            }
            *(_WORD *)(v31 + 12 * (unsigned __int16)v30) = v20;
            *(_DWORD *)(v31 + 12 * (unsigned __int16)v30 + 4) = ((*(_WORD *)(a3 + 4 * v19)
                                                                - (signed int)*(_WORD *)(a3 + 4 * v40)) << 16)
                                                              / (*(_WORD *)(a3 + 4 * v19 + 2)
                                                               - (signed int)*(_WORD *)(a3 + 4 * v40 + 2));
            *(_DWORD *)(v31 + 12 * (unsigned __int16)v30 + 8) = (*(_WORD *)(a3 + 4 * v40) << 16)
                                                              + *(_DWORD *)(v31 + 12 * (unsigned __int16)v30 + 4)
                                                              * (k - *(_WORD *)(a3 + 4 * v40 + 2));
            if ( (unsigned __int16)++v30 > (signed int)(unsigned __int16)v32 )
              v32 = v30;
          }
        }
        ++v26;
      }
      for ( n = 1; (unsigned __int16)n < (signed int)(unsigned __int16)v30; ++n )
      {
        if ( *(_DWORD *)(v31 + 12 * ((unsigned __int16)n - 1) + 8) > *(_DWORD *)(v31 + 12 * (unsigned __int16)n + 8) )
        {
          v9 = v31 + 12 * (unsigned __int16)n;
          v23 = *(_DWORD *)v9;
          v24 = *(_DWORD *)(v9 + 4);
          v25 = *(_DWORD *)(v9 + 8);
          for ( ii = n; ii && *(_DWORD *)(v31 + 12 * ((unsigned __int16)ii - 1) + 8) > v25; --ii )
          {
            v10 = v31 + 12 * ((unsigned __int16)ii - 1);
            v11 = v31 + 12 * (unsigned __int16)ii;
            *(_DWORD *)v11 = *(_DWORD *)v10;
            *(_DWORD *)(v11 + 4) = *(_DWORD *)(v10 + 4);
            *(_DWORD *)(v11 + 8) = *(_DWORD *)(v10 + 8);
          }
          v12 = v31 + 12 * (unsigned __int16)ii;
          *(_DWORD *)v12 = v23;
          *(_DWORD *)(v12 + 4) = v24;
          *(_DWORD *)(v12 + 8) = v25;
        }
      }
      for ( jj = 0; jj < (unsigned __int16)v30 - 1; jj += 2 )
      {
        v13 = *(_DWORD *)(v31 + 12 * jj + 8) >> 16;
        if ( *(_WORD *)(v31 + 12 * jj + 8) )
          ++v13;
        v33 = *(_DWORD *)(v31 + 12 * (jj + 1) + 8) >> 16;
        if ( !*(_WORD *)(v31 + 12 * (jj + 1) + 8) )
          --v33;
        if ( v13 <= v33 )
        {
          *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 42) + v13;
          *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 40) + k;
          *(_WORD *)(a1 + 14) = *(_WORD *)(a1 + 42) + v33;
          sub_10020040(a1);
        }
        *(_DWORD *)(v31 + 12 * jj + 8) += *(_DWORD *)(v31 + 12 * jj + 4);
        *(_DWORD *)(v31 + 12 * (jj + 1) + 8) += *(_DWORD *)(v31 + 12 * (jj + 1) + 4);
      }
    }
LABEL_63:
    *(_WORD *)(a1 + 4) = v39;
    *(_DWORD *)(a1 + 36) = v27;
    if ( (unsigned __int16)v32 == 0xFFFF )
      result = -1;
    else
      result = v31 + 12 * (unsigned __int16)v32 - a5;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1001B520) --------------------------------------------------------
int __cdecl sub_1001B520(int a1, int a2, char a3)
{
  int result; // eax@1

  *(_DWORD *)(a1 + 52) = a2;
  sub_1001B610(a1, 0, 0, *(_WORD *)(a2 + 6), *(_WORD *)(a2 + 4));
  *(_WORD *)(a1 + 42) = 0;
  *(_WORD *)(a1 + 40) = 0;
  *(_WORD *)(a1 + 46) = 0;
  *(_WORD *)(a1 + 44) = 0;
  *(_DWORD *)(a1 + 60) = 0;
  *(_DWORD *)(a1 + 64) = 0;
  *(_BYTE *)(a1 + 1) = 0;
  *(_DWORD *)(a1 + 68) = 0;
  *(_WORD *)(a1 + 2) = 1;
  *(_WORD *)(a1 + 34) = 1;
  *(_WORD *)(a1 + 32) = 1;
  *(_WORD *)(a1 + 4) = 3;
  *(_WORD *)(a1 + 36) = -1;
  *(_WORD *)(a1 + 38) = -1;
  *(_WORD *)(a1 + 6) = 3;
  *(_WORD *)(a1 + 48) = -1;
  *(_WORD *)(a1 + 50) = -1;
  *(_DWORD *)(a1 + 80) = 0;
  *(_DWORD *)(a1 + 72) = 0;
  *(_DWORD *)(a1 + 76) = 0;
  result = a1;
  *(_BYTE *)a1 = a3;
  return result;
}

//----- (1001B610) --------------------------------------------------------
int __cdecl sub_1001B610(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5)
{
  int result; // eax@17

  if ( a2 < 0 )
    a2 = 0;
  if ( a3 < 0 )
    a3 = 0;
  if ( a4 < 1 )
    a4 = 1;
  if ( a5 < 1 )
    a5 = 1;
  if ( a2 >= (signed int)*(_WORD *)(*(_DWORD *)(a1 + 52) + 6) )
    a2 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 6) - 1;
  if ( a4 + a2 > *(_WORD *)(*(_DWORD *)(a1 + 52) + 6) )
    a4 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 6) - a2;
  if ( a3 >= (signed int)*(_WORD *)(*(_DWORD *)(a1 + 52) + 4) )
    a3 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 4) - 1;
  if ( a5 + a3 > *(_WORD *)(*(_DWORD *)(a1 + 52) + 4) )
    a5 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 4) - a3;
  *(_WORD *)(a1 + 26) = a2;
  HIWORD(result) = HIWORD(a1);
  *(_WORD *)(a1 + 30) = a4;
  LOWORD(result) = a3;
  *(_WORD *)(a1 + 24) = a3;
  *(_WORD *)(a1 + 28) = a5;
  return result;
}

//----- (1001B720) --------------------------------------------------------
unsigned int __cdecl sub_1001B720(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8)
{
  unsigned int result; // eax@2
  int v9; // [sp+8h] [bp+8h]@1

  v9 = sub_1001C260(a1, a2, a3, a4, a5, a6, a7, a8);
  if ( *(_BYTE *)(*(_DWORD *)(v9 + 52) + 8) == 8 )
  {
    if ( *(_DWORD *)(v9 + 68) )
    {
      if ( *(_BYTE *)(*(_DWORD *)(v9 + 56) + 8) == 1 )
      {
        *(_WORD *)(v9 + 38) = **(_WORD **)(v9 + 68);
        *(_WORD *)(v9 + 36) = *(_WORD *)(*(_DWORD *)(v9 + 68) + 2);
        result = sub_1001B800(v9);
      }
      else
      {
        result = sub_1001BD30(v9);
      }
    }
    else if ( *(_BYTE *)(*(_DWORD *)(v9 + 56) + 8) == 8 )
    {
      result = sub_1001BB50(v9);
    }
    else
    {
      result = sub_1001BD30(v9);
    }
  }
  else
  {
    result = sub_1001BD30(v9);
  }
  return result;
}

//----- (1001B800) --------------------------------------------------------
int __cdecl sub_1001B800(int a1)
{
  int result; // eax@1
  int v2; // ST1C_4@10
  int v3; // [sp+0h] [bp-44h]@3
  unsigned int v4; // [sp+4h] [bp-40h]@5
  unsigned int v5; // [sp+4h] [bp-40h]@9
  unsigned __int16 v6; // [sp+8h] [bp-3Ch]@3
  int v7; // [sp+Ch] [bp-38h]@5
  unsigned __int16 v8; // [sp+10h] [bp-34h]@3
  unsigned __int16 v9; // [sp+14h] [bp-30h]@2
  signed int v10; // [sp+1Ch] [bp-28h]@9
  unsigned int *v11; // [sp+20h] [bp-24h]@9
  int v12; // [sp+24h] [bp-20h]@11
  int v13; // [sp+28h] [bp-1Ch]@9
  unsigned int v14; // [sp+2Ch] [bp-18h]@9
  unsigned __int16 v15; // [sp+30h] [bp-14h]@2
  unsigned int *v16; // [sp+34h] [bp-10h]@3
  int v17; // [sp+38h] [bp-Ch]@4
  unsigned int v18; // [sp+3Ch] [bp-8h]@2
  unsigned __int16 v19; // [sp+40h] [bp-4h]@2
  int v20; // [sp+4Ch] [bp+8h]@1

  result = sub_10021340(a1);
  v20 = result;
  if ( result )
  {
    v19 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v18 = ((unsigned int)*(_WORD *)(result + 14) >> 3)
        + *(_WORD *)(result + 12) * *(_WORD *)(*(_DWORD *)(result + 56) + 10)
        + **(_DWORD **)(result + 56);
    v9 = 8 * (*(_WORD *)(result + 14) >> 3) - *(_WORD *)(result + 14) + 8;
    v15 = *(_WORD *)(*(_DWORD *)(result + 52) + 10);
    if ( !(*(_WORD *)(*(_DWORD *)(result + 52) + 10) << 30) )
    {
      v16 = (unsigned int *)(**(_DWORD **)(result + 52)
                           + *(_WORD *)(result + 8) * *(_WORD *)(*(_DWORD *)(result + 52) + 10)
                           + 4 * (8 * *(_WORD *)(result + 10) >> 5));
      v8 = 32 * (8 * *(_WORD *)(result + 10) >> 5) - 8 * *(_WORD *)(result + 10) + 32;
      v3 = *(_WORD *)(result + 16);
      v6 = *(_WORD *)(result + 18);
      do
      {
        v17 = v9;
        if ( v18 << 31 )
        {
          v4 = *(_BYTE *)v18;
          v7 = v18 + 1;
        }
        else if ( v18 << 30 )
        {
          v4 = *(_WORD *)v18;
          v7 = v18 + 2;
          v17 = v9 + 8;
        }
        else
        {
          v4 = *(_DWORD *)v18;
          v7 = v18 + 4;
          v17 = v9 + 24;
        }
        v5 = (v4 >> ((-v9 + 8) & 0x1F)) | (v4 << (32 - ((-v9 + 8) & 0x1F)));
        v10 = v8;
        v11 = v16;
        v14 = (*v16 >> ((32 - v8) & 0x1F)) | (*v16 << (32 - ((32 - v8) & 0x1F)));
        v13 = v6;
        do
        {
          v2 = 2 * v5 & 3;
          v5 >>= 1;
          if ( v2 )
            v12 = *(_WORD *)(v20 + 38);
          else
            v12 = *(_WORD *)(v20 + 36);
          if ( (signed __int16)v12 >= 0 )
            v14 = (v14 >> 8) | (v12 << 24);
          else
            v14 = (v14 >> 8) | (v14 << 24);
          if ( --v13 )
          {
            v10 -= 8;
            if ( !v10 )
            {
              *v11 = v14;
              ++v11;
              v10 = 32;
              v14 = *v11;
            }
            if ( !--v17 )
            {
              if ( v7 << 30 )
              {
                v17 = 16;
                v5 = *(_WORD *)v7;
                v7 += 2;
              }
              else
              {
                v17 = 32;
                v5 = *(_DWORD *)v7;
                v7 += 4;
              }
            }
          }
        }
        while ( v13 );
        *v11 = (v14 >> ((v10 - 8) & 0x1F)) | (v14 << (32 - ((v10 - 8) & 0x1F)));
        v18 += v19;
        result = (int)v16 + v15;
        v16 = (unsigned int *)((char *)v16 + v15);
        --v3;
      }
      while ( v3 );
    }
  }
  return result;
}

//----- (1001BB50) --------------------------------------------------------
int __cdecl sub_1001BB50(int a1)
{
  int result; // eax@1
  signed int v2; // [sp+4h] [bp-30h]@16
  int v3; // [sp+8h] [bp-2Ch]@9
  char *v4; // [sp+Ch] [bp-28h]@4
  _BYTE *v5; // [sp+Ch] [bp-28h]@10
  _BYTE *v6; // [sp+Ch] [bp-28h]@12
  _BYTE *v7; // [sp+Ch] [bp-28h]@14
  char *v8; // [sp+10h] [bp-24h]@4
  _BYTE *v9; // [sp+10h] [bp-24h]@10
  _BYTE *v10; // [sp+10h] [bp-24h]@12
  _BYTE *v11; // [sp+10h] [bp-24h]@14
  unsigned int v12; // [sp+14h] [bp-20h]@4
  int v13; // [sp+14h] [bp-20h]@10
  int v14; // [sp+14h] [bp-20h]@12
  int v15; // [sp+18h] [bp-1Ch]@2
  int v16; // [sp+1Ch] [bp-18h]@2
  int v17; // [sp+20h] [bp-14h]@2
  size_t v18; // [sp+24h] [bp-10h]@2
  char *v19; // [sp+28h] [bp-Ch]@2
  int v20; // [sp+2Ch] [bp-8h]@2
  char *v21; // [sp+30h] [bp-4h]@2
  _BYTE *v22; // [sp+3Ch] [bp+8h]@1

  result = sub_10021340(a1);
  v22 = (_BYTE *)result;
  if ( result )
  {
    v18 = *(_WORD *)(result + 18);
    v15 = *(_WORD *)(result + 16);
    v17 = *(_WORD *)(*(_DWORD *)(result + 52) + 10);
    v16 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v21 = (char *)(*(_WORD *)(result + 14) + v16 * *(_WORD *)(result + 12) + **(_DWORD **)(result + 56));
    v19 = (char *)(*(_WORD *)(result + 10) + v17 * *(_WORD *)(result + 8) + **(_DWORD **)(result + 52));
    v20 = 0;
    do
    {
      if ( v20 )
        goto LABEL_26;
      v12 = v18;
      v8 = v21;
      v4 = v19;
      while ( v12 >= 4 )
      {
        if ( *(_DWORD *)v4 != *(_DWORD *)v8 )
          goto LABEL_9;
        v12 -= 4;
        v8 += 4;
        v4 += 4;
      }
      if ( !v12 )
      {
LABEL_16:
        v2 = 0;
        goto LABEL_19;
      }
LABEL_9:
      v3 = (unsigned __int8)*v4 - (unsigned __int8)*v8;
      if ( (unsigned __int8)*v4 == (unsigned __int8)*v8 )
      {
        v13 = v12 - 1;
        v9 = v8 + 1;
        v5 = v4 + 1;
        if ( !v13 )
          goto LABEL_16;
        v3 = *v5 - *v9;
        if ( *v5 == *v9 )
        {
          v14 = v13 - 1;
          v10 = v9 + 1;
          v6 = v5 + 1;
          if ( !v14 )
            goto LABEL_16;
          v3 = *v6 - *v10;
          if ( *v6 == *v10 )
          {
            v11 = v10 + 1;
            v7 = v6 + 1;
            if ( v14 == 1 )
              goto LABEL_16;
            v3 = *v7 - *v11;
            if ( *v7 == *v11 )
              goto LABEL_16;
          }
        }
      }
      v2 = 1;
      if ( v3 <= 0 )
        v2 = -1;
LABEL_19:
      if ( v2 )
      {
LABEL_26:
        ++v20;
        memcpy_0(v19, v21, v18);
      }
      v21 += v16;
      v19 += v17;
      result = v15-- - 1;
    }
    while ( v15 );
    if ( !v20 )
      *v22 = 0;
  }
  return result;
}

//----- (1001BD30) --------------------------------------------------------
unsigned int __cdecl sub_1001BD30(int a1)
{
  unsigned int result; // eax@1
  unsigned int v2; // ST08_4@5
  unsigned int v3; // ST28_4@6
  int v4; // ST28_4@13
  int v5; // [sp+0h] [bp-50h]@4
  unsigned int v6; // [sp+4h] [bp-4Ch]@5
  int v7; // [sp+8h] [bp-48h]@4
  unsigned __int16 v8; // [sp+Ch] [bp-44h]@4
  int *v9; // [sp+10h] [bp-40h]@5
  unsigned __int16 v10; // [sp+14h] [bp-3Ch]@4
  int v11; // [sp+18h] [bp-38h]@3
  int v12; // [sp+18h] [bp-38h]@5
  unsigned __int16 v13; // [sp+20h] [bp-30h]@3
  unsigned int *v14; // [sp+2Ch] [bp-24h]@5
  signed int v15; // [sp+30h] [bp-20h]@13
  int v16; // [sp+34h] [bp-1Ch]@5
  unsigned int v17; // [sp+38h] [bp-18h]@5
  unsigned __int16 v18; // [sp+3Ch] [bp-14h]@3
  unsigned int *v19; // [sp+40h] [bp-10h]@4
  int v20; // [sp+48h] [bp-8h]@2
  int v21; // [sp+48h] [bp-8h]@3
  unsigned __int16 v22; // [sp+4Ch] [bp-4h]@2
  unsigned int v23; // [sp+58h] [bp+8h]@1

  result = sub_10021340(a1);
  v23 = result;
  if ( result )
  {
    v22 = *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    v20 = **(_DWORD **)(result + 56) + *(_WORD *)(result + 12) * *(_WORD *)(*(_DWORD *)(result + 56) + 10);
    result = *(_DWORD *)(result + 56);
    if ( (unsigned int)*(_BYTE *)(result + 8) < 9 )
    {
      v21 = v20 + 4 * ((signed int)*(_WORD *)(v23 + 14) << byte_10084138[*(_BYTE *)(*(_DWORD *)(v23 + 56) + 8)] >> 5);
      v13 = 32 - ((*(_WORD *)(v23 + 14) << byte_10084138[*(_BYTE *)(*(_DWORD *)(v23 + 56) + 8)]) & 0x1F);
      v18 = *(_WORD *)(*(_DWORD *)(v23 + 52) + 10);
      v11 = *(_BYTE *)(*(_DWORD *)(v23 + 56) + 8) | (*(_BYTE *)(*(_DWORD *)(v23 + 52) + 8) << 8);
      result = *(_BYTE *)(*(_DWORD *)(v23 + 52) + 8);
      if ( result < 9 )
      {
        v19 = (unsigned int *)(**(_DWORD **)(v23 + 52)
                             + *(_WORD *)(v23 + 8) * *(_WORD *)(*(_DWORD *)(v23 + 52) + 10)
                             + 4
                             * ((signed int)*(_WORD *)(v23 + 10) << byte_10084138[*(_BYTE *)(*(_DWORD *)(v23 + 52) + 8)] >> 5));
        v10 = 32 - ((*(_WORD *)(v23 + 10) << byte_10084138[*(_BYTE *)(*(_DWORD *)(v23 + 52) + 8)]) & 0x1F);
        v8 = *(_WORD *)(v23 + 18);
        v5 = *(_WORD *)(v23 + 16);
        v7 = (1 << *(_BYTE *)(*(_DWORD *)(v23 + 56) + 8)) - 1;
        do
        {
          v2 = *(_DWORD *)(v21 - (v21 & 3) - 4 * ((v13 - 8 * (v21 & 3) - 1) >> 5));
          v9 = (int *)(v21 - (v21 & 3) - 4 * ((v13 - 8 * (v21 & 3) - 1) >> 5) + 4);
          v6 = (v2 >> (31 * (v13 - 8 * (v21 & 3) - 32 * ((v13 - 8 * (v21 & 3) - 1) >> 5)) & 0x1F)) | (v2 << (32 - (31 * (v13 - 8 * (v21 & 3) - 32 * ((v13 - 8 * (v21 & 3) - 1) >> 5)) & 0x1F)));
          v14 = v19;
          v17 = (*v19 >> (31 * v10 & 0x1F)) | (*v19 << (32 - (31 * v10 & 0x1F)));
          v12 = (unsigned __int16)v11 | (((v13 - 8 * (v21 & 3) - 32 * ((v13 - 8 * (v21 & 3) - 1) >> 5) + 127) | ((v10 + 127) << 8)) << 16);
          v16 = v8;
          if ( *(_DWORD *)(v23 + 68) )
          {
            do
            {
              v4 = v6 & v7;
              v6 = (unsigned __int64)v6 >> v12;
              v15 = *(_WORD *)(*(_DWORD *)(v23 + 68) + 2 * v4);
              if ( (signed __int16)v15 >= 0 )
                v17 = (v15 >> (BYTE1(v12) & 0x1F)) | (v15 << (32 - (BYTE1(v12) & 0x1F))) | ((unsigned __int64)v17 >> SBYTE1(v12));
              else
                v17 = (v17 >> (BYTE1(v12) & 0x1F)) | (v17 << (32 - (BYTE1(v12) & 0x1F)));
              if ( --v16 )
              {
                v12 *= -65535;
                if ( v12 >= 0 )
                {
                  v12 += 0x20000000;
                  *v14 = v17;
                  ++v14;
                  v17 = *v14;
                }
                if ( !(v12 & 0x800000) )
                {
                  v12 += 0x200000;
                  v6 = *v9;
                  ++v9;
                }
              }
            }
            while ( (signed __int16)v16 > 0 );
          }
          else
          {
            do
            {
              v3 = v6 & v7;
              v6 = (unsigned __int64)v6 >> v12;
              v17 = ((unsigned __int64)v17 >> SBYTE1(v12)) | (v3 >> (BYTE1(v12) & 0x1F)) | (v3 << (32
                                                                                                 - (BYTE1(v12) & 0x1F)));
              if ( --v16 )
              {
                v12 *= -65535;
                if ( v12 >= 0 )
                {
                  v12 += 0x20000000;
                  *v14 = v17;
                  ++v14;
                  v17 = *v14;
                }
                if ( !(v12 & 0x800000) )
                {
                  v12 += 0x200000;
                  v6 = *v9;
                  ++v9;
                }
              }
            }
            while ( v16 );
          }
          v11 = -65535 * v12;
          *v14 = (v17 >> ((BYTE3(v11) - 127) & 0x1F)) | (v17 << (32 - ((BYTE3(v11) - 127) & 0x1F)));
          v21 += v22;
          result = (unsigned int)v19 + v18;
          v19 = (unsigned int *)((char *)v19 + v18);
          --v5;
        }
        while ( v5 );
      }
    }
  }
  return result;
}

//----- (1001C260) --------------------------------------------------------
int __cdecl sub_1001C260(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8)
{
  *(_DWORD *)(a1 + 56) = a2;
  *(_WORD *)(a1 + 14) = a3;
  *(_WORD *)(a1 + 12) = a4;
  *(_WORD *)(a1 + 10) = a5;
  *(_WORD *)(a1 + 8) = a6;
  *(_WORD *)(a1 + 18) = a7;
  *(_WORD *)(a1 + 16) = a8;
  return a1;
}

//----- (1001C2C0) --------------------------------------------------------
char __cdecl sub_1001C2C0(int a1, __int16 a2, __int16 a3, __int16 a4, char a5)
{
  int v5; // ST3C_4@5
  char result; // al@5
  char v7; // [sp+0h] [bp-64h]@52
  char v8; // [sp+4h] [bp-60h]@46
  char v9; // [sp+8h] [bp-5Ch]@40
  char v10; // [sp+Ch] [bp-58h]@34
  char v11; // [sp+10h] [bp-54h]@28
  char v12; // [sp+14h] [bp-50h]@22
  char v13; // [sp+18h] [bp-4Ch]@16
  char v14; // [sp+1Ch] [bp-48h]@10
  __int16 v15; // [sp+24h] [bp-40h]@1
  int v16; // [sp+28h] [bp-3Ch]@58
  __int16 v17; // [sp+2Ch] [bp-38h]@58
  __int16 v18; // [sp+30h] [bp-34h]@58
  __int16 v19; // [sp+34h] [bp-30h]@58
  __int16 v20; // [sp+38h] [bp-2Ch]@6
  __int16 v21; // [sp+3Ch] [bp-28h]@1
  char v22; // [sp+40h] [bp-24h]@56
  char v23; // [sp+41h] [bp-23h]@64
  char v24; // [sp+42h] [bp-22h]@68
  char v25; // [sp+43h] [bp-21h]@76
  char v26; // [sp+44h] [bp-20h]@72
  char v27; // [sp+45h] [bp-1Fh]@66
  char v28; // [sp+46h] [bp-1Eh]@62
  char v29; // [sp+47h] [bp-1Dh]@70
  int v30; // [sp+48h] [bp-1Ch]@54
  __int16 v31; // [sp+4Ch] [bp-18h]@6
  char v32; // [sp+50h] [bp-14h]@48
  char v33; // [sp+51h] [bp-13h]@18
  char v34; // [sp+52h] [bp-12h]@30
  char v35; // [sp+53h] [bp-11h]@54
  char v36; // [sp+54h] [bp-10h]@42
  char v37; // [sp+55h] [bp-Fh]@24
  char v38; // [sp+56h] [bp-Eh]@12
  char v39; // [sp+57h] [bp-Dh]@36
  char v40; // [sp+5Fh] [bp-5h]@54
  __int16 v41; // [sp+60h] [bp-4h]@6

  v15 = *(_WORD *)(a1 + 42) + a2;
  v21 = *(_WORD *)(a1 + 40) + a3;
  if ( a5 & 1 )
    sub_10021510(a1, a2, a3, a4);
  if ( *(_WORD *)(a1 + 4) != 4 || (signed int)*(_WORD *)(a1 + 2) <= 1 )
  {
    v31 = 46341 * a4 / 0x10000;
    v20 = v31 - 1;
    v41 = v31 + 1;
    if ( v15 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v41 + v15 < *(_WORD *)(a1 + 26)
      || v20 + v21 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || a4 + v21 < *(_WORD *)(a1 + 24) )
    {
      v14 = 0;
    }
    else
    {
      v14 = -1;
    }
    v38 = v14;
    if ( v15 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v41 + v15 < *(_WORD *)(a1 + 26)
      || v21 - a4 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v21 - v20 < *(_WORD *)(a1 + 24) )
    {
      v13 = 0;
    }
    else
    {
      v13 = -1;
    }
    v33 = v13;
    if ( v15 - v41 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v15 < (signed int)*(_WORD *)(a1 + 26)
      || v20 + v21 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || a4 + v21 < *(_WORD *)(a1 + 24) )
    {
      v12 = 0;
    }
    else
    {
      v12 = -1;
    }
    v37 = v12;
    if ( v15 - v41 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v15 < (signed int)*(_WORD *)(a1 + 26)
      || v21 - a4 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v21 - v20 < *(_WORD *)(a1 + 24) )
    {
      v11 = 0;
    }
    else
    {
      v11 = -1;
    }
    v34 = v11;
    if ( v20 + v15 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || a4 + v15 < *(_WORD *)(a1 + 26)
      || v21 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v41 + v21 < *(_WORD *)(a1 + 24) )
    {
      v10 = 0;
    }
    else
    {
      v10 = -1;
    }
    v39 = v10;
    if ( v15 - a4 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v15 - v20 < *(_WORD *)(a1 + 26)
      || v21 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v41 + v21 < *(_WORD *)(a1 + 24) )
    {
      v9 = 0;
    }
    else
    {
      v9 = -1;
    }
    v36 = v9;
    if ( v20 + v15 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || a4 + v15 < *(_WORD *)(a1 + 26)
      || v21 - v41 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v21 < (signed int)*(_WORD *)(a1 + 24) )
    {
      v8 = 0;
    }
    else
    {
      v8 = -1;
    }
    v32 = v8;
    if ( v15 - a4 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v15 - v20 < *(_WORD *)(a1 + 26)
      || v21 - v41 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v21 < (signed int)*(_WORD *)(a1 + 24) )
    {
      v7 = 0;
    }
    else
    {
      v7 = -1;
    }
    result = v7;
    v35 = v7;
    v30 = 0;
    v40 = 0;
    while ( v30 < 8 )
    {
      *(&v22 + v30) = *(_BYTE *)(a1 + 1);
      result = *(&v32 + v30);
      v40 |= result;
      ++v30;
    }
    if ( v40 )
    {
      v18 = 0;
      v19 = 0;
      v17 = a4;
      v16 = 1 - a4;
      while ( v19 < v17 )
      {
        if ( v16 >= 0 )
        {
          *(_WORD *)(a1 + 10) = v18 + v15;
          *(_WORD *)(a1 + 14) = v19 + 1 - v18;
          if ( v38 )
          {
            *(_WORD *)(a1 + 8) = v17 + v21;
            *(_BYTE *)(a1 + 1) = v28;
            sub_100200F0(a1);
            v28 = *(_BYTE *)(a1 + 1);
          }
          if ( v33 )
          {
            *(_WORD *)(a1 + 8) = v21 - v17;
            *(_BYTE *)(a1 + 1) = v23;
            sub_100200F0(a1);
            v23 = *(_BYTE *)(a1 + 1);
          }
          *(_WORD *)(a1 + 10) = v15 - v18;
          *(_WORD *)(a1 + 14) = v18 - v19 - 1;
          if ( v37 )
          {
            *(_WORD *)(a1 + 8) = v17 + v21;
            *(_BYTE *)(a1 + 1) = v27;
            sub_100200F0(a1);
            v27 = *(_BYTE *)(a1 + 1);
          }
          if ( v34 )
          {
            *(_WORD *)(a1 + 8) = v21 - v17;
            *(_BYTE *)(a1 + 1) = v24;
            sub_100200F0(a1);
            v24 = *(_BYTE *)(a1 + 1);
          }
          *(_WORD *)(a1 + 8) = v18 + v21;
          *(_WORD *)(a1 + 12) = v19 + 1 - v18;
          if ( v39 )
          {
            *(_WORD *)(a1 + 10) = v17 + v15;
            *(_BYTE *)(a1 + 1) = v29;
            sub_100202C0(a1);
            v29 = *(_BYTE *)(a1 + 1);
          }
          if ( v36 )
          {
            *(_WORD *)(a1 + 10) = v15 - v17;
            *(_BYTE *)(a1 + 1) = v26;
            sub_100202C0(a1);
            v26 = *(_BYTE *)(a1 + 1);
          }
          *(_WORD *)(a1 + 8) = v21 - v18;
          *(_WORD *)(a1 + 12) = v18 - v19 - 1;
          if ( v32 )
          {
            *(_WORD *)(a1 + 10) = v17 + v15;
            *(_BYTE *)(a1 + 1) = v22;
            sub_100202C0(a1);
            v22 = *(_BYTE *)(a1 + 1);
          }
          if ( v35 )
          {
            *(_WORD *)(a1 + 10) = v15 - v17;
            *(_BYTE *)(a1 + 1) = v25;
            sub_100202C0(a1);
            v25 = *(_BYTE *)(a1 + 1);
          }
          v18 = v19 + 1;
          v16 -= 2 * v17-- - 2;
        }
        v16 += 2 * v19++ + 3;
      }
      result = v17;
      if ( v19 == v17 )
      {
        *(_WORD *)(a1 + 10) = v18 + v15;
        *(_WORD *)(a1 + 14) = v19 + 1 - v18;
        if ( v38 )
        {
          *(_WORD *)(a1 + 8) = v17 + v21;
          *(_BYTE *)(a1 + 1) = v28;
          sub_100200F0(a1);
          v28 = *(_BYTE *)(a1 + 1);
        }
        if ( v33 )
        {
          *(_WORD *)(a1 + 8) = v21 - v17;
          *(_BYTE *)(a1 + 1) = v23;
          sub_100200F0(a1);
          v23 = *(_BYTE *)(a1 + 1);
        }
        *(_WORD *)(a1 + 10) = v15 - v18;
        *(_WORD *)(a1 + 14) = v18 - v19 - 1;
        if ( v37 )
        {
          *(_WORD *)(a1 + 8) = v17 + v21;
          *(_BYTE *)(a1 + 1) = v27;
          sub_100200F0(a1);
          v27 = *(_BYTE *)(a1 + 1);
        }
        if ( v34 )
        {
          *(_WORD *)(a1 + 8) = v21 - v17;
          *(_BYTE *)(a1 + 1) = v24;
          sub_100200F0(a1);
          v24 = *(_BYTE *)(a1 + 1);
        }
        *(_WORD *)(a1 + 8) = v18 + v21;
        *(_WORD *)(a1 + 12) = v19 + 1 - v18;
        if ( v39 )
        {
          *(_WORD *)(a1 + 10) = v17 + v15;
          *(_BYTE *)(a1 + 1) = v29;
          sub_100202C0(a1);
          v29 = *(_BYTE *)(a1 + 1);
        }
        if ( v36 )
        {
          *(_WORD *)(a1 + 10) = v15 - v17;
          *(_BYTE *)(a1 + 1) = v26;
          sub_100202C0(a1);
          v26 = *(_BYTE *)(a1 + 1);
        }
        *(_WORD *)(a1 + 8) = v21 - v18;
        result = a1;
        *(_WORD *)(a1 + 12) = v18 - v19 - 1;
        if ( v32 )
        {
          *(_WORD *)(a1 + 10) = v17 + v15;
          *(_BYTE *)(a1 + 1) = v22;
          sub_100202C0(a1);
          result = *(_BYTE *)(a1 + 1);
          v22 = *(_BYTE *)(a1 + 1);
        }
        if ( v35 )
        {
          *(_WORD *)(a1 + 10) = v15 - v17;
          *(_BYTE *)(a1 + 1) = v25;
          sub_100202C0(a1);
          result = *(_BYTE *)(a1 + 1);
        }
      }
    }
  }
  else
  {
    v5 = *(_DWORD *)(a1 + 44);
    *(_WORD *)(a1 + 46) = a2;
    *(_WORD *)(a1 + 44) = a3 - a4;
    sub_1001D430(a1, a2, a3, a4, 1, a2, a4 + a3);
    sub_1001D430(a1, a2, a3, a4, 1, a2, a3 - a4);
    result = v5;
    *(_DWORD *)(a1 + 44) = v5;
  }
  return result;
}

//----- (1001CD40) --------------------------------------------------------
int __cdecl sub_1001CD40(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, char a6)
{
  int result; // eax@1
  __int16 v7; // ST1C_2@8
  int v8; // [sp+0h] [bp-14h]@4
  int v9; // [sp+Ch] [bp-8h]@4
  __int16 v10; // [sp+10h] [bp-4h]@8
  __int16 v11; // [sp+28h] [bp+14h]@8
  __int16 v12; // [sp+2Ch] [bp+18h]@8

  result = a4;
  if ( a4 > 0 && a5 > 0 )
  {
    v8 = *(_DWORD *)(a1 + 36);
    v9 = *(_DWORD *)(a1 + 36);
    if ( a6 & 1 )
      sub_1001EBD0(a1, a2, a3, a4, a5);
    if ( !(a6 & 2) )
      LOWORD(v9) = HIWORD(v9);
    v12 = a5 - 1;
    v11 = a4 - 1;
    v10 = a2;
    v10 = *(_WORD *)(a1 + 42) + a2;
    v7 = *(_WORD *)(a1 + 40) + a3;
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_10084144[0]);
    *(_WORD *)(a1 + 10) = byte_10084144[1] + v10;
    *(_WORD *)(a1 + 8) = v7;
    *(_WORD *)(a1 + 14) = byte_10084144[2] + v11 - byte_10084144[1] + 1;
    sub_100200F0(a1);
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_10084144[3]);
    *(_WORD *)(a1 + 8) = byte_10084144[4] + v7;
    *(_WORD *)(a1 + 10) = v11 + v10;
    *(_WORD *)(a1 + 12) = byte_10084144[5] + v12 - byte_10084144[4] + 1;
    sub_100202C0(a1);
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_10084144[6]);
    *(_WORD *)(a1 + 10) = byte_10084144[8] + v11 + v10;
    *(_WORD *)(a1 + 8) = v12 + v7;
    *(_WORD *)(a1 + 14) = byte_10084144[7] - (byte_10084144[8] + v11) - 1;
    sub_100200F0(a1);
    *(_WORD *)(a1 + 38) = *((_WORD *)&v9 + byte_10084144[9]);
    *(_WORD *)(a1 + 8) = byte_10084144[11] + v12 + v7;
    *(_WORD *)(a1 + 10) = v10;
    *(_WORD *)(a1 + 12) = byte_10084144[10] - (byte_10084144[11] + v12) - 1;
    sub_100202C0(a1);
    result = v8;
    *(_DWORD *)(a1 + 36) = v8;
  }
  return result;
}

//----- (1001CFA0) --------------------------------------------------------
int __cdecl sub_1001CFA0(int a1, signed int a2, int a3, char a4)
{
  int result; // eax@44
  signed __int16 v5; // [sp+0h] [bp-3Ch]@11
  int v6; // [sp+4h] [bp-38h]@27
  int v7; // [sp+4h] [bp-38h]@33
  __int16 v8; // [sp+8h] [bp-34h]@13
  char v9; // [sp+Fh] [bp-2Dh]@2
  char (__cdecl *v10)(int); // [sp+10h] [bp-2Ch]@3
  char *(__cdecl *v11)(int); // [sp+14h] [bp-28h]@6
  __int16 v12; // [sp+18h] [bp-24h]@8
  __int16 v13; // [sp+1Ch] [bp-20h]@13
  signed __int16 v14; // [sp+20h] [bp-1Ch]@13
  signed __int16 v15; // [sp+24h] [bp-18h]@21
  signed int i; // [sp+28h] [bp-14h]@8
  __int16 v17; // [sp+2Ch] [bp-10h]@11
  __int16 v18; // [sp+30h] [bp-Ch]@11
  signed __int16 v19; // [sp+34h] [bp-8h]@24
  __int16 v20; // [sp+38h] [bp-4h]@8

  if ( a2 >= 2 )
  {
    v9 = 0;
    if ( *(_DWORD *)(a1 + 72) )
      v10 = *(char (__cdecl **)(int))(a1 + 72);
    else
      v10 = sub_100200F0;
    if ( *(_DWORD *)(a1 + 76) )
      v11 = *(char *(__cdecl **)(int))(a1 + 76);
    else
      v11 = sub_100202C0;
    v20 = *(_WORD *)(a1 + 42) + *(_WORD *)a3;
    v12 = *(_WORD *)(a1 + 40) + *(_WORD *)(a3 + 2);
    for ( i = 1; i < a2; ++i )
    {
      *(_WORD *)(a1 + 10) = v20;
      *(_WORD *)(a1 + 8) = v12;
      v20 = *(_WORD *)(a1 + 42) + *(_WORD *)(a3 + 4 * i);
      v12 = *(_WORD *)(a1 + 40) + *(_WORD *)(a3 + 4 * i + 2);
      *(_WORD *)(a1 + 14) = v20;
      *(_WORD *)(a1 + 12) = v12;
      v5 = 1;
      v17 = *(_WORD *)(a1 + 14) - *(_WORD *)(a1 + 10);
      v18 = v17;
      if ( v17 < 0 )
      {
        v5 = -1;
        v18 = -v17;
      }
      v14 = 1;
      v8 = *(_WORD *)(a1 + 12) - *(_WORD *)(a1 + 8);
      v13 = v8;
      if ( v8 < 0 )
      {
        v14 = -1;
        v13 = -v8;
      }
      if ( v8 | v17 )
      {
        if ( *(_WORD *)(a1 + 14) == *(_WORD *)(a1 + 10) )
        {
          v9 = 1;
          *(_WORD *)(a1 + 16) = 0;
          *(_WORD *)(a1 + 18) = 1;
          *(_WORD *)(a1 + 12) = v8;
          v11(a1);
          *(_WORD *)(a1 + 8) += v8;
        }
        else if ( *(_WORD *)(a1 + 12) == *(_WORD *)(a1 + 8) )
        {
          v9 = 0;
          *(_WORD *)(a1 + 16) = 1;
          *(_WORD *)(a1 + 18) = 0;
          *(_WORD *)(a1 + 14) = v17;
          v10(a1);
          *(_WORD *)(a1 + 10) += v17;
        }
        else
        {
          if ( v18 <= 0x3FFF )
            v15 = 2 * v18;
          else
            v15 = 32766;
          if ( v13 <= 0x3FFF )
            v19 = 2 * v13;
          else
            v19 = 32766;
          if ( v18 <= v13 )
          {
            v9 = 1;
            *(_WORD *)(a1 + 16) = 0;
            *(_WORD *)(a1 + 18) = 1;
            v7 = v15 - v13 - (v5 < 0);
            *(_WORD *)(a1 + 12) = 0;
            while ( v13 )
            {
              *(_WORD *)(a1 + 12) += v14;
              if ( v7 >= 0 )
              {
                v11(a1);
                *(_WORD *)(a1 + 8) += *(_WORD *)(a1 + 12);
                *(_WORD *)(a1 + 12) = 0;
                *(_WORD *)(a1 + 10) += v5;
                v7 -= v19;
              }
              v7 += v15;
              --v13;
            }
            v11(a1);
            *(_WORD *)(a1 + 8) += *(_WORD *)(a1 + 12);
          }
          else
          {
            v9 = 0;
            *(_WORD *)(a1 + 16) = 1;
            *(_WORD *)(a1 + 18) = 0;
            v6 = v19 - v18 - (v14 < 0);
            *(_WORD *)(a1 + 14) = 0;
            while ( v18 )
            {
              *(_WORD *)(a1 + 14) += v5;
              if ( v6 >= 0 )
              {
                v10(a1);
                *(_WORD *)(a1 + 10) += *(_WORD *)(a1 + 14);
                *(_WORD *)(a1 + 14) = 0;
                *(_WORD *)(a1 + 8) += v14;
                v6 -= v15;
              }
              v6 += v19;
              --v18;
            }
            v10(a1);
            *(_WORD *)(a1 + 10) += *(_WORD *)(a1 + 14);
          }
        }
      }
    }
    if ( a4 & 2 )
    {
      if ( v9 )
      {
        *(_WORD *)(a1 + 12) = 1;
        v11(a1);
      }
      else
      {
        *(_WORD *)(a1 + 14) = 1;
        v10(a1);
      }
    }
    *(_WORD *)(a1 + 46) = *(_WORD *)(a1 + 10) - *(_WORD *)(a1 + 42);
    result = *(_WORD *)(a1 + 40);
    *(_WORD *)(a1 + 44) = *(_WORD *)(a1 + 8) - result;
  }
  return result;
}

//----- (1001D430) --------------------------------------------------------
char __cdecl sub_1001D430(int a1, __int16 a2, __int16 a3, __int16 a4, int a5, __int16 a6, __int16 a7)
{
  char result; // al@4
  char v8; // [sp+0h] [bp-17Ch]@55
  char v9; // [sp+4h] [bp-178h]@49
  char v10; // [sp+8h] [bp-174h]@43
  char v11; // [sp+Ch] [bp-170h]@37
  char v12; // [sp+10h] [bp-16Ch]@31
  char v13; // [sp+14h] [bp-168h]@25
  char v14; // [sp+18h] [bp-164h]@19
  char v15; // [sp+1Ch] [bp-160h]@13
  char v16; // [sp+20h] [bp-15Ch]@98
  char v17; // [sp+21h] [bp-15Bh]@98
  __int16 v18; // [sp+22h] [bp-15Ah]@98
  __int16 v19; // [sp+24h] [bp-158h]@98
  __int16 v20; // [sp+26h] [bp-156h]@98
  int v21; // [sp+2Ch] [bp-150h]@98
  char v22; // [sp+30h] [bp-14Ch]@96
  char v23; // [sp+31h] [bp-14Bh]@96
  __int16 v24; // [sp+32h] [bp-14Ah]@96
  __int16 v25; // [sp+34h] [bp-148h]@96
  __int16 v26; // [sp+36h] [bp-146h]@96
  int v27; // [sp+3Ch] [bp-140h]@96
  char v28; // [sp+40h] [bp-13Ch]@94
  char v29; // [sp+41h] [bp-13Bh]@94
  __int16 v30; // [sp+42h] [bp-13Ah]@94
  __int16 v31; // [sp+44h] [bp-138h]@94
  __int16 v32; // [sp+46h] [bp-136h]@94
  int v33; // [sp+4Ch] [bp-130h]@94
  char v34; // [sp+50h] [bp-12Ch]@92
  char v35; // [sp+51h] [bp-12Bh]@92
  __int16 v36; // [sp+52h] [bp-12Ah]@92
  __int16 v37; // [sp+54h] [bp-128h]@92
  __int16 v38; // [sp+56h] [bp-126h]@92
  int v39; // [sp+5Ch] [bp-120h]@92
  char v40; // [sp+60h] [bp-11Ch]@90
  char v41; // [sp+61h] [bp-11Bh]@90
  __int16 v42; // [sp+62h] [bp-11Ah]@90
  __int16 v43; // [sp+64h] [bp-118h]@90
  __int16 v44; // [sp+66h] [bp-116h]@90
  int v45; // [sp+6Ch] [bp-110h]@90
  char v46; // [sp+70h] [bp-10Ch]@88
  char v47; // [sp+71h] [bp-10Bh]@88
  __int16 v48; // [sp+72h] [bp-10Ah]@88
  __int16 v49; // [sp+74h] [bp-108h]@88
  __int16 v50; // [sp+76h] [bp-106h]@88
  int v51; // [sp+7Ch] [bp-100h]@88
  char v52; // [sp+80h] [bp-FCh]@86
  char v53; // [sp+81h] [bp-FBh]@86
  __int16 v54; // [sp+82h] [bp-FAh]@86
  __int16 v55; // [sp+84h] [bp-F8h]@86
  __int16 v56; // [sp+86h] [bp-F6h]@86
  int v57; // [sp+8Ch] [bp-F0h]@86
  char v58; // [sp+90h] [bp-ECh]@84
  char v59; // [sp+91h] [bp-EBh]@84
  __int16 v60; // [sp+92h] [bp-EAh]@84
  __int16 v61; // [sp+94h] [bp-E8h]@84
  __int16 v62; // [sp+96h] [bp-E6h]@84
  int v63; // [sp+9Ch] [bp-E0h]@84
  char v64; // [sp+A0h] [bp-DCh]@79
  char v65; // [sp+A1h] [bp-DBh]@79
  __int16 v66; // [sp+A2h] [bp-DAh]@79
  __int16 v67; // [sp+A4h] [bp-D8h]@79
  __int16 v68; // [sp+A6h] [bp-D6h]@79
  int v69; // [sp+ACh] [bp-D0h]@79
  char v70; // [sp+B0h] [bp-CCh]@77
  char v71; // [sp+B1h] [bp-CBh]@77
  __int16 v72; // [sp+B2h] [bp-CAh]@77
  __int16 v73; // [sp+B4h] [bp-C8h]@77
  __int16 v74; // [sp+B6h] [bp-C6h]@77
  int v75; // [sp+BCh] [bp-C0h]@77
  char v76; // [sp+C0h] [bp-BCh]@75
  char v77; // [sp+C1h] [bp-BBh]@75
  __int16 v78; // [sp+C2h] [bp-BAh]@75
  __int16 v79; // [sp+C4h] [bp-B8h]@75
  __int16 v80; // [sp+C6h] [bp-B6h]@75
  int v81; // [sp+CCh] [bp-B0h]@75
  char v82; // [sp+D0h] [bp-ACh]@73
  char v83; // [sp+D1h] [bp-ABh]@73
  __int16 v84; // [sp+D2h] [bp-AAh]@73
  __int16 v85; // [sp+D4h] [bp-A8h]@73
  __int16 v86; // [sp+D6h] [bp-A6h]@73
  int v87; // [sp+DCh] [bp-A0h]@73
  char v88; // [sp+E0h] [bp-9Ch]@71
  char v89; // [sp+E1h] [bp-9Bh]@71
  __int16 v90; // [sp+E2h] [bp-9Ah]@71
  __int16 v91; // [sp+E4h] [bp-98h]@71
  __int16 v92; // [sp+E6h] [bp-96h]@71
  int v93; // [sp+ECh] [bp-90h]@71
  char v94; // [sp+F0h] [bp-8Ch]@69
  char v95; // [sp+F1h] [bp-8Bh]@69
  __int16 v96; // [sp+F2h] [bp-8Ah]@69
  __int16 v97; // [sp+F4h] [bp-88h]@69
  __int16 v98; // [sp+F6h] [bp-86h]@69
  int v99; // [sp+FCh] [bp-80h]@69
  char v100; // [sp+100h] [bp-7Ch]@67
  char v101; // [sp+101h] [bp-7Bh]@67
  __int16 v102; // [sp+102h] [bp-7Ah]@67
  __int16 v103; // [sp+104h] [bp-78h]@67
  __int16 v104; // [sp+106h] [bp-76h]@67
  int v105; // [sp+10Ch] [bp-70h]@67
  char v106; // [sp+110h] [bp-6Ch]@65
  char v107; // [sp+111h] [bp-6Bh]@65
  __int16 v108; // [sp+112h] [bp-6Ah]@65
  __int16 v109; // [sp+114h] [bp-68h]@65
  __int16 v110; // [sp+116h] [bp-66h]@65
  int v111; // [sp+11Ch] [bp-60h]@65
  __int16 v112; // [sp+120h] [bp-5Ch]@1
  char v113; // [sp+127h] [bp-55h]@64
  __int16 v114; // [sp+128h] [bp-54h]@1
  int v115; // [sp+12Ch] [bp-50h]@61
  __int16 v116; // [sp+130h] [bp-4Ch]@1
  char v117; // [sp+137h] [bp-45h]@57
  __int16 v118; // [sp+138h] [bp-44h]@61
  __int16 v119; // [sp+13Ah] [bp-42h]@61
  __int16 v120; // [sp+13Ch] [bp-40h]@8
  __int16 v121; // [sp+140h] [bp-3Ch]@61
  __int16 v122; // [sp+144h] [bp-38h]@8
  char v123; // [sp+148h] [bp-34h]@9
  char v124; // [sp+149h] [bp-33h]@21
  char v125; // [sp+14Ah] [bp-32h]@33
  char v126; // [sp+14Bh] [bp-31h]@57
  char v127; // [sp+14Ch] [bp-30h]@45
  char v128; // [sp+14Dh] [bp-2Fh]@27
  char v129; // [sp+14Eh] [bp-2Eh]@15
  char v130; // [sp+14Fh] [bp-2Dh]@39
  __int16 v131; // [sp+150h] [bp-2Ch]@9
  __int16 v132; // [sp+154h] [bp-28h]@1
  __int16 v133; // [sp+158h] [bp-24h]@61
  __int16 v134; // [sp+15Ah] [bp-22h]@61
  char v135; // [sp+15Ch] [bp-20h]@59
  char v136; // [sp+15Dh] [bp-1Fh]@67
  char v137; // [sp+15Eh] [bp-1Eh]@71
  char v138; // [sp+15Fh] [bp-1Dh]@79
  char v139; // [sp+160h] [bp-1Ch]@75
  char v140; // [sp+161h] [bp-1Bh]@69
  char v141; // [sp+162h] [bp-1Ah]@65
  char v142; // [sp+163h] [bp-19h]@73
  __int16 v143; // [sp+168h] [bp-14h]@1
  int v144; // [sp+16Ch] [bp-10h]@57
  __int16 v145; // [sp+170h] [bp-Ch]@1
  __int16 v146; // [sp+174h] [bp-8h]@9
  __int16 v147; // [sp+178h] [bp-4h]@9

  v114 = a2;
  v132 = a3;
  v112 = a6;
  v143 = a7;
  v116 = *(_WORD *)(a1 + 42) + *(_WORD *)(a1 + 46);
  v145 = *(_WORD *)(a1 + 40) + *(_WORD *)(a1 + 44);
  *(_WORD *)(a1 + 46) = a6;
  *(_WORD *)(a1 + 44) = v143;
  v112 += *(_WORD *)(a1 + 42);
  v143 += *(_WORD *)(a1 + 40);
  v114 += *(_WORD *)(a1 + 42);
  v132 += *(_WORD *)(a1 + 40);
  if ( v116 != v112 || v145 != v143 )
  {
    if ( a5 & 1 )
    {
      v122 = v116;
      v116 = v112;
      v112 = v122;
      v120 = v145;
      v145 = v143;
      v143 = v120;
    }
    sub_1001E680((int)&v123, v116 - v114, v145 - v132, v112 - v114, v143 - v132);
    v146 = (unsigned int)(46341 * a4) >> 16;
    v131 = v146 - 1;
    v147 = v146 + 1;
    if ( v114 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v147 + v114 < *(_WORD *)(a1 + 26)
      || v131 + v132 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || a4 + v132 < *(_WORD *)(a1 + 24) )
    {
      v15 = 0;
    }
    else
    {
      v15 = -1;
    }
    v129 &= v15;
    if ( v114 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v147 + v114 < *(_WORD *)(a1 + 26)
      || v132 - a4 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v132 - v131 < *(_WORD *)(a1 + 24) )
    {
      v14 = 0;
    }
    else
    {
      v14 = -1;
    }
    v124 &= v14;
    if ( v114 - v147 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v114 < (signed int)*(_WORD *)(a1 + 26)
      || v131 + v132 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || a4 + v132 < *(_WORD *)(a1 + 24) )
    {
      v13 = 0;
    }
    else
    {
      v13 = -1;
    }
    v128 &= v13;
    if ( v114 - v147 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v114 < (signed int)*(_WORD *)(a1 + 26)
      || v132 - a4 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v132 - v131 < *(_WORD *)(a1 + 24) )
    {
      v12 = 0;
    }
    else
    {
      v12 = -1;
    }
    v125 &= v12;
    if ( v131 + v114 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || a4 + v114 < *(_WORD *)(a1 + 26)
      || v132 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v147 + v132 < *(_WORD *)(a1 + 24) )
    {
      v11 = 0;
    }
    else
    {
      v11 = -1;
    }
    v130 &= v11;
    if ( v114 - a4 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v114 - v131 < *(_WORD *)(a1 + 26)
      || v132 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v147 + v132 < *(_WORD *)(a1 + 24) )
    {
      v10 = 0;
    }
    else
    {
      v10 = -1;
    }
    v127 &= v10;
    if ( v131 + v114 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || a4 + v114 < *(_WORD *)(a1 + 26)
      || v132 - v147 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v132 < (signed int)*(_WORD *)(a1 + 24) )
    {
      v9 = 0;
    }
    else
    {
      v9 = -1;
    }
    v123 &= v9;
    if ( v114 - a4 >= *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
      || v114 - v131 < *(_WORD *)(a1 + 26)
      || v132 - v147 >= *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
      || v132 < (signed int)*(_WORD *)(a1 + 24) )
    {
      v8 = 0;
    }
    else
    {
      v8 = -1;
    }
    v126 &= v8;
    v144 = 0;
    v117 = 0;
    while ( v144 < 8 )
    {
      *(&v135 + v144) = *(_BYTE *)(a1 + 1);
      v117 |= *(&v123 + v144++);
    }
    result = v117;
    if ( v117 )
    {
      v121 = 0;
      v122 = 0;
      v120 = a4;
      v115 = 1 - a4;
      v119 = v116;
      v118 = v145;
      v134 = v112;
      v133 = v143;
      while ( v122 < v120 )
      {
        if ( v115 >= 0 )
        {
          v113 = 0;
          if ( v129 )
          {
            v106 = 6;
            v107 = v129;
            v108 = v120 + v132;
            v109 = v121 + v114;
            v110 = v122 + v114;
            v111 = a5;
            *(_BYTE *)(a1 + 1) = v141;
            *(_WORD *)(a1 + 16) = v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v106, (int)&v118, (int)&v133);
            v141 = *(_BYTE *)(a1 + 1);
          }
          if ( v124 )
          {
            v100 = 1;
            v101 = v124;
            v102 = v132 - v120;
            v103 = v122 + v114;
            v104 = v121 + v114;
            v105 = a5;
            *(_BYTE *)(a1 + 1) = v136;
            *(_WORD *)(a1 + 16) = -v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v100, (int)&v118, (int)&v133);
            v136 = *(_BYTE *)(a1 + 1);
          }
          if ( v128 )
          {
            v94 = 5;
            v95 = v128;
            v96 = v120 + v132;
            v97 = v114 - v122;
            v98 = v114 - v121;
            v99 = a5;
            *(_BYTE *)(a1 + 1) = v140;
            *(_WORD *)(a1 + 16) = -v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v94, (int)&v118, (int)&v133);
            v140 = *(_BYTE *)(a1 + 1);
          }
          if ( v125 )
          {
            v88 = 2;
            v89 = v125;
            v90 = v132 - v120;
            v91 = v114 - v121;
            v92 = v114 - v122;
            v93 = a5;
            *(_BYTE *)(a1 + 1) = v137;
            *(_WORD *)(a1 + 16) = v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v88, (int)&v118, (int)&v133);
            v137 = *(_BYTE *)(a1 + 1);
          }
          if ( v130 )
          {
            v82 = 7;
            v83 = v130;
            v84 = v120 + v114;
            v85 = v122 + v132;
            v86 = v121 + v132;
            v87 = a5;
            *(_BYTE *)(a1 + 1) = v142;
            *(_WORD *)(a1 + 16) = v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v82, (int)&v118, (int)&v133);
            v142 = *(_BYTE *)(a1 + 1);
          }
          if ( v127 )
          {
            v76 = 4;
            v77 = v127;
            v78 = v114 - v120;
            v79 = v121 + v132;
            v80 = v122 + v132;
            v81 = a5;
            *(_BYTE *)(a1 + 1) = v139;
            *(_WORD *)(a1 + 16) = -v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v76, (int)&v118, (int)&v133);
            v139 = *(_BYTE *)(a1 + 1);
          }
          if ( v123 )
          {
            v70 = 0;
            v71 = v123;
            v72 = v120 + v114;
            v73 = v132 - v121;
            v74 = v132 - v122;
            v75 = a5;
            *(_BYTE *)(a1 + 1) = v135;
            *(_WORD *)(a1 + 16) = -v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v70, (int)&v118, (int)&v133);
            v135 = *(_BYTE *)(a1 + 1);
          }
          if ( v126 )
          {
            v64 = 3;
            v65 = v126;
            v66 = v114 - v120;
            v67 = v132 - v122;
            v68 = v132 - v121;
            v69 = a5;
            *(_BYTE *)(a1 + 1) = v138;
            *(_WORD *)(a1 + 16) = v113;
            *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
            sub_1001E570(a1, (int)&v64, (int)&v118, (int)&v133);
            v138 = *(_BYTE *)(a1 + 1);
          }
          v121 = v122 + 1;
          v115 -= 2 * v120-- - 2;
        }
        v115 += 2 * v122++ + 3;
      }
      result = v120;
      if ( v122 == v120 )
      {
        v113 = 0;
        if ( v129 )
        {
          v58 = 6;
          v59 = v129;
          v60 = v120 + v132;
          v61 = v121 + v114;
          v62 = v122 + v114;
          v63 = a5;
          *(_BYTE *)(a1 + 1) = v141;
          *(_WORD *)(a1 + 16) = v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v58, (int)&v118, (int)&v133);
          v141 = *(_BYTE *)(a1 + 1);
        }
        if ( v124 )
        {
          v52 = 1;
          v53 = v124;
          v54 = v132 - v120;
          v55 = v122 + v114;
          v56 = v121 + v114;
          v57 = a5;
          *(_BYTE *)(a1 + 1) = v136;
          *(_WORD *)(a1 + 16) = -v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v52, (int)&v118, (int)&v133);
          v136 = *(_BYTE *)(a1 + 1);
        }
        if ( v128 )
        {
          v46 = 5;
          v47 = v128;
          v48 = v120 + v132;
          v49 = v114 - v122;
          v50 = v114 - v121;
          v51 = a5;
          *(_BYTE *)(a1 + 1) = v140;
          *(_WORD *)(a1 + 16) = -v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v46, (int)&v118, (int)&v133);
          v140 = *(_BYTE *)(a1 + 1);
        }
        if ( v125 )
        {
          v40 = 2;
          v41 = v125;
          v42 = v132 - v120;
          v43 = v114 - v121;
          v44 = v114 - v122;
          v45 = a5;
          *(_BYTE *)(a1 + 1) = v137;
          *(_WORD *)(a1 + 16) = v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v40, (int)&v118, (int)&v133);
          v137 = *(_BYTE *)(a1 + 1);
        }
        if ( v130 )
        {
          v34 = 7;
          v35 = v130;
          v36 = v120 + v114;
          v37 = v122 + v132;
          v38 = v121 + v132;
          v39 = a5;
          *(_BYTE *)(a1 + 1) = v142;
          *(_WORD *)(a1 + 16) = v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v34, (int)&v118, (int)&v133);
          v142 = *(_BYTE *)(a1 + 1);
        }
        if ( v127 )
        {
          v28 = 4;
          v29 = v127;
          v30 = v114 - v120;
          v31 = v121 + v132;
          v32 = v122 + v132;
          v33 = a5;
          *(_BYTE *)(a1 + 1) = v139;
          *(_WORD *)(a1 + 16) = -v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v28, (int)&v118, (int)&v133);
          v139 = *(_BYTE *)(a1 + 1);
        }
        if ( v123 )
        {
          v22 = 0;
          v23 = v123;
          v24 = v120 + v114;
          v25 = v132 - v121;
          v26 = v132 - v122;
          v27 = a5;
          *(_BYTE *)(a1 + 1) = v135;
          *(_WORD *)(a1 + 16) = -v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v22, (int)&v118, (int)&v133);
          v135 = *(_BYTE *)(a1 + 1);
        }
        result = v126;
        if ( v126 )
        {
          v16 = 3;
          v17 = v126;
          v18 = v114 - v120;
          v19 = v132 - v122;
          v20 = v132 - v121;
          v21 = a5;
          *(_BYTE *)(a1 + 1) = v138;
          *(_WORD *)(a1 + 16) = v113;
          *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 16);
          sub_1001E570(a1, (int)&v16, (int)&v118, (int)&v133);
          result = a1;
          v138 = *(_BYTE *)(a1 + 1);
        }
      }
    }
  }
  else if ( a5 & 2 )
  {
    result = sub_1001C2C0(a1, a2, a3, a4, 0);
  }
  else
  {
    result = sub_1001ED20(a1, a6, a7);
  }
  return result;
}

//----- (1001E570) --------------------------------------------------------
char *__cdecl sub_1001E570(int a1, int a2, int a3, int a4)
{
  if ( (*(_BYTE *)a2 + 1) & 2 )
  {
    *(_WORD *)(a2 + 8) = *(_WORD *)(a3 + 2);
    *(_WORD *)(a2 + 10) = *(_WORD *)(a4 + 2);
  }
  else
  {
    *(_WORD *)(a2 + 8) = *(_WORD *)a3;
    *(_WORD *)(a2 + 10) = *(_WORD *)a4;
  }
  return off_10084150[*(_BYTE *)a2](a1, a2);
}
// 10084150: using guessed type int (__cdecl *off_10084150[16])(int, int);

//----- (1001E5E0) --------------------------------------------------------
char __cdecl sub_1001E5E0(int a1, int a2)
{
  *(_WORD *)(a1 + 8) = *(_WORD *)a2;
  *(_WORD *)(a1 + 10) = *(_WORD *)(a2 + 2);
  *(_WORD *)(a1 + 14) = *(_WORD *)(a2 + 4) - *(_WORD *)(a2 + 2);
  return sub_100200F0(a1);
}

//----- (1001E630) --------------------------------------------------------
char *__cdecl sub_1001E630(int a1, int a2)
{
  *(_WORD *)(a1 + 10) = *(_WORD *)a2;
  *(_WORD *)(a1 + 8) = *(_WORD *)(a2 + 2);
  *(_WORD *)(a1 + 12) = *(_WORD *)(a2 + 4) - *(_WORD *)(a2 + 2);
  return sub_100202C0(a1);
}

//----- (1001E680) --------------------------------------------------------
signed int __cdecl sub_1001E680(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5)
{
  signed int result; // eax@3
  int v6; // edx@7
  int v7; // eax@11
  char v8; // [sp+5h] [bp-3h]@1
  char i; // [sp+5h] [bp-3h]@2
  unsigned __int8 v10; // [sp+5h] [bp-3h]@3
  bool v11; // [sp+6h] [bp-2h]@7
  char v12; // [sp+7h] [bp-1h]@1

  v8 = sub_1001E7D0(a2, a3);
  v12 = sub_1001E7D0(a4, a5);
  if ( (unsigned __int8)v8 == (unsigned __int8)v12 )
  {
    switch ( v8 )
    {
      case 0:
      case 7:
        v6 = a5 < a3;
        v11 = a5 > a3;
        break;
      case 1:
      case 2:
        v6 = a4 < a2;
        v11 = a4 > a2;
        break;
      case 3:
      case 4:
        v6 = a5 < a3;
        v11 = a5 < a3;
        break;
      default:
        v6 = a4 < a2;
        v11 = a4 < a2;
        break;
    }
    LOBYTE(v6) = v11;
    BYTE1(v6) = v11;
    v7 = v6 << 16;
    LOWORD(v7) = v6;
    *(_DWORD *)a1 = v7;
    *(_DWORD *)(a1 + 4) = v7;
    result = v11 != 0 ? 10 : 13;
    *(_BYTE *)(a1 + (unsigned __int8)v8) = result;
  }
  else
  {
    *(_DWORD *)a1 = 0;
    *(_DWORD *)(a1 + 4) = 0;
    *(_BYTE *)(a1 + (unsigned __int8)v8) = 5;
    *(_BYTE *)(a1 + (unsigned __int8)v12) = 9;
    for ( i = v8 + 1; ; i = v10 + 1 )
    {
      v10 = i & 7;
      result = v10;
      if ( v10 == (unsigned __int8)v12 )
        break;
      *(_BYTE *)(a1 + v10) = 1;
    }
  }
  return result;
}

//----- (1001E7D0) --------------------------------------------------------
char __cdecl sub_1001E7D0(__int16 a1, __int16 a2)
{
  char v3; // [sp+1h] [bp-1h]@3

  if ( a1 >= 0 )
  {
    if ( a1 <= 0 )
    {
      v3 = 4 * (a2 >= 0) + 2;
    }
    else if ( a2 > 0 )
    {
      v3 = (a1 >= a2) + 6;
    }
    else
    {
      v3 = a1 <= -a2;
    }
  }
  else if ( a2 >= 0 )
  {
    v3 = (a1 >= -a2) + 4;
  }
  else
  {
    v3 = (a1 <= a2) + 2;
  }
  return v3;
}

//----- (1001E870) --------------------------------------------------------
char *__cdecl sub_1001E870(int a1, int a2)
{
  __int16 v2; // ST08_2@7
  char *result; // eax@11
  __int16 v4; // ST08_2@20
  int v5; // [sp+4h] [bp-8h]@3
  __int16 v6; // [sp+8h] [bp-4h]@3

  if ( (*(_BYTE *)(a2 + 1) & 3) == 2 )
  {
    if ( *(_WORD *)(a2 + 8) >= (signed int)*(_WORD *)(a2 + 6) )
    {
      v5 = *(_DWORD *)(a2 + 2);
      v6 = *(_WORD *)(a2 + 6);
      if ( *(_WORD *)(a2 + 8) < (signed int)*(_WORD *)(a2 + 4) )
        HIWORD(v5) = *(_WORD *)(a2 + 8);
      --v6;
      if ( *(_WORD *)(a1 + 4) == 4 && *(_DWORD *)(a2 + 12) & 1 )
      {
        v2 = HIWORD(v5);
        HIWORD(v5) = v6;
        v6 = v2;
      }
      off_10084170[*(_BYTE *)a2](a1, (int)&v5);
    }
  }
  else if ( *(_BYTE *)(a2 + 1) & 4 )
  {
    result = (char *)*(_WORD *)(a2 + 6);
    if ( *(_WORD *)(a2 + 8) < (signed int)result )
      return result;
    if ( *(_WORD *)(a2 + 8) < (signed int)*(_WORD *)(a2 + 4) )
      *(_WORD *)(a2 + 4) = *(_WORD *)(a2 + 8);
  }
  if ( *(_BYTE *)(a2 + 1) & 8 )
  {
    result = (char *)a2;
    if ( *(_WORD *)(a2 + 10) > (signed int)*(_WORD *)(a2 + 4) )
      return result;
    if ( *(_WORD *)(a2 + 10) > (signed int)*(_WORD *)(a2 + 6) )
      *(_WORD *)(a2 + 6) = *(_WORD *)(a2 + 10);
  }
  --*(_WORD *)(a2 + 6);
  v5 = *(_DWORD *)(a2 + 2);
  v6 = *(_WORD *)(a2 + 6);
  if ( *(_WORD *)(a1 + 4) == 4 )
  {
    if ( *(_DWORD *)(a2 + 12) & 1 )
    {
      v4 = HIWORD(v5);
      HIWORD(v5) = v6;
      v6 = v4;
    }
  }
  return off_10084170[*(_BYTE *)a2](a1, (int)&v5);
}
// 10084170: using guessed type int (__cdecl *off_10084170[8])(int, int);

//----- (1001EA20) --------------------------------------------------------
char *__cdecl sub_1001EA20(int a1, int a2)
{
  __int16 v2; // ST08_2@7
  char *result; // eax@11
  __int16 v4; // ST08_2@20
  int v5; // [sp+4h] [bp-8h]@3
  __int16 v6; // [sp+8h] [bp-4h]@3

  if ( (*(_BYTE *)(a2 + 1) & 3) == 2 )
  {
    if ( *(_WORD *)(a2 + 8) <= (signed int)*(_WORD *)(a2 + 6) )
    {
      v5 = *(_DWORD *)(a2 + 2);
      v6 = *(_WORD *)(a2 + 6);
      if ( *(_WORD *)(a2 + 8) > (signed int)*(_WORD *)(a2 + 4) )
        HIWORD(v5) = *(_WORD *)(a2 + 8);
      ++v6;
      if ( *(_WORD *)(a1 + 4) == 4 && *(_DWORD *)(a2 + 12) & 1 )
      {
        v2 = HIWORD(v5);
        HIWORD(v5) = v6;
        v6 = v2;
      }
      off_10084170[*(_BYTE *)a2](a1, (int)&v5);
    }
  }
  else if ( *(_BYTE *)(a2 + 1) & 4 )
  {
    result = (char *)*(_WORD *)(a2 + 6);
    if ( *(_WORD *)(a2 + 8) > (signed int)result )
      return result;
    if ( *(_WORD *)(a2 + 8) > (signed int)*(_WORD *)(a2 + 4) )
      *(_WORD *)(a2 + 4) = *(_WORD *)(a2 + 8);
  }
  if ( *(_BYTE *)(a2 + 1) & 8 )
  {
    result = (char *)a2;
    if ( *(_WORD *)(a2 + 10) < (signed int)*(_WORD *)(a2 + 4) )
      return result;
    if ( *(_WORD *)(a2 + 10) < (signed int)*(_WORD *)(a2 + 6) )
      *(_WORD *)(a2 + 6) = *(_WORD *)(a2 + 10);
  }
  ++*(_WORD *)(a2 + 6);
  v5 = *(_DWORD *)(a2 + 2);
  v6 = *(_WORD *)(a2 + 6);
  if ( *(_WORD *)(a1 + 4) == 4 )
  {
    if ( *(_DWORD *)(a2 + 12) & 1 )
    {
      v4 = HIWORD(v5);
      HIWORD(v5) = v6;
      v6 = v4;
    }
  }
  return off_10084170[*(_BYTE *)a2](a1, (int)&v5);
}
// 10084170: using guessed type int (__cdecl *off_10084170[8])(int, int);

//----- (1001EBD0) --------------------------------------------------------
int __cdecl sub_1001EBD0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5)
{
  int result; // eax@1
  int v6; // [sp+0h] [bp-8h]@4
  __int16 v7; // [sp+4h] [bp-4h]@6

  result = a4;
  if ( a4 > 0 && a5 > 0 )
  {
    v6 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 48);
    *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 42) + a2;
    *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 40) + a3;
    if ( *(_WORD *)(a1 + 6) == 3 || *(_WORD *)(a1 + 6) == 1 )
    {
      v7 = *(_WORD *)(a1 + 4);
      if ( *(_WORD *)(a1 + 6) == 3 )
        *(_WORD *)(a1 + 4) = 2;
      else
        *(_WORD *)(a1 + 4) = 0;
      sub_1001FB70(a1, a4 + (*(_WORD *)(a1 + 10) << 16), a5 + (*(_WORD *)(a1 + 8) << 16));
      *(_WORD *)(a1 + 4) = v7;
    }
    result = a1;
    *(_DWORD *)(a1 + 36) = v6;
  }
  return result;
}

//----- (1001ECC0) --------------------------------------------------------
_WORD *__cdecl sub_1001ECC0(int a1)
{
  _WORD *result; // eax@1

  result = (_WORD *)a1;
  if ( *(_WORD *)(a1 + 36) != 0xFFFF )
  {
    result = *(_WORD **)(a1 + 52);
    if ( !(result[5] << 30) )
    {
      *(_BYTE *)a1 = 1;
      result = memset(
                 **(void ***)(a1 + 52),
                 *(_WORD *)(a1 + 36),
                 *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * *(_WORD *)(*(_DWORD *)(a1 + 52) + 4));
    }
  }
  return result;
}

//----- (1001ED20) --------------------------------------------------------
int __cdecl sub_1001ED20(int a1, __int16 a2, __int16 a3)
{
  *(_WORD *)(a1 + 46) = a2;
  *(_WORD *)(a1 + 44) = a3;
  *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 46) + *(_WORD *)(a1 + 42);
  *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 44) + *(_WORD *)(a1 + 40);
  return sub_10020260(a1);
}

//----- (1001ED80) --------------------------------------------------------
int __cdecl sub_1001ED80(int a1, int a2, __int16 a3, __int16 a4, __int16 a5, __int16 a6, __int16 a7, __int16 a8, char a9, unsigned int a10)
{
  int result; // eax@5
  signed int v11; // [sp+4h] [bp-60h]@49
  int v12; // [sp+14h] [bp-50h]@18
  __int16 v13; // [sp+18h] [bp-4Ch]@3
  _BYTE *v14; // [sp+1Ch] [bp-48h]@14
  __int16 v15; // [sp+20h] [bp-44h]@1
  int v16; // [sp+24h] [bp-40h]@14
  int v17; // [sp+24h] [bp-40h]@44
  unsigned int v18; // [sp+30h] [bp-34h]@1
  signed int m; // [sp+38h] [bp-2Ch]@31
  signed int k; // [sp+38h] [bp-2Ch]@44
  signed int i; // [sp+38h] [bp-2Ch]@58
  __int16 v22; // [sp+3Ch] [bp-28h]@1
  signed int n; // [sp+44h] [bp-20h]@33
  signed int l; // [sp+44h] [bp-20h]@46
  signed int j; // [sp+44h] [bp-20h]@60
  __int16 v26; // [sp+48h] [bp-1Ch]@1
  __int16 v27; // [sp+4Ch] [bp-18h]@51
  __int16 v28; // [sp+4Ch] [bp-18h]@62
  _BYTE *v29; // [sp+50h] [bp-14h]@18
  int v30; // [sp+58h] [bp-Ch]@18
  __int16 v31; // [sp+5Ch] [bp-8h]@1
  __int16 v32; // [sp+60h] [bp-4h]@3

  v18 = a10 >> 30;
  v26 = *(_WORD *)(a2 + 6);
  v22 = *(_WORD *)(a1 + 26);
  v15 = *(_WORD *)(a1 + 24);
  v31 = *(_WORD *)(a1 + 28);
  if ( a10 >> 30 && a10 >> 30 != 2 )
  {
    v32 = a6;
    v13 = a5;
  }
  else
  {
    v32 = a5;
    v13 = a6;
  }
  result = a3;
  if ( a3 >= 0 )
  {
    result = 0;
    if ( a4 >= 0 )
    {
      result = v26;
      if ( a5 + a3 <= v26 )
      {
        result = a6 + a4;
        if ( result <= *(_WORD *)(a2 + 4) )
        {
          result = v22;
          if ( a7 >= v22 && a8 >= v15 )
          {
            result = v32 + a7;
            if ( result <= *(_WORD *)(a1 + 30) + v22 )
            {
              result = v31;
              if ( v13 + a8 <= v31 + v15 )
              {
                v14 = (_BYTE *)(*(_DWORD *)a2 + *(_WORD *)(a2 + 10) * a4 + a3);
                v16 = *(_WORD *)(a2 + 10) - a5;
                if ( a9 )
                {
                  if ( v18 )
                  {
                    if ( v18 == 1 )
                    {
                      v29 = (_BYTE *)(**(_DWORD **)(a1 + 52)
                                    + a6
                                    + a7
                                    + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * (a8 + a5 - 1)
                                    - 1);
                      v30 = -*(_WORD *)(*(_DWORD *)(a1 + 52) + 10);
                      result = a6;
                      v12 = a6 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) - 1;
                    }
                    else if ( v18 == 2 )
                    {
                      v29 = (_BYTE *)(**(_DWORD **)(a1 + 52) + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * (a8 + a6 - 1)
                                                             + a7);
                      v30 = 1;
                      result = *(_DWORD *)(a1 + 52);
                      v12 = -*(_WORD *)(result + 10) - a5;
                    }
                    else
                    {
                      v29 = (_BYTE *)(**(_DWORD **)(a1 + 52) + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * a8 + a7);
                      v30 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 10);
                      result = a6 * -v30 + 1;
                      v12 = a6 * -v30 + 1;
                    }
                  }
                  else
                  {
                    v29 = (_BYTE *)(**(_DWORD **)(a1 + 52) + a5 + a7 + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * a8 - 1);
                    v30 = -1;
                    result = *(_DWORD *)(a1 + 52);
                    v12 = *(_WORD *)(result + 10) + a5;
                  }
                }
                else if ( v18 )
                {
                  if ( v18 == 1 )
                  {
                    v29 = (_BYTE *)(**(_DWORD **)(a1 + 52) + a6 + a7 + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * a8 - 1);
                    v30 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 10);
                    result = a6 * -v30 - 1;
                    v12 = a6 * -v30 - 1;
                  }
                  else if ( v18 == 2 )
                  {
                    v29 = (_BYTE *)(**(_DWORD **)(a1 + 52)
                                  + a5
                                  + a7
                                  + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * (a8 + a6 - 1)
                                  - 1);
                    v30 = -1;
                    result = *(_WORD *)(*(_DWORD *)(a1 + 52) + 10);
                    v12 = a5 - result;
                  }
                  else
                  {
                    v29 = (_BYTE *)(**(_DWORD **)(a1 + 52) + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * (a8 + a5 - 1) + a7);
                    v30 = -*(_WORD *)(*(_DWORD *)(a1 + 52) + 10);
                    result = *(_DWORD *)(a1 + 52);
                    v12 = a6 * *(_WORD *)(result + 10) + 1;
                  }
                }
                else
                {
                  v29 = (_BYTE *)(**(_DWORD **)(a1 + 52) + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) * a8 + a7);
                  v30 = 1;
                  result = a5;
                  v12 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) - a5;
                }
                if ( *(_DWORD *)(a1 + 68) )
                {
                  if ( *(_BYTE *)(a2 + 8) != 4
                    || *(_BYTE *)(*(_DWORD *)(a1 + 52) + 8) != 8
                    || a5 % 2
                    || a6 % 2
                    || a3 % 2
                    || a4 % 2 )
                  {
                    for ( i = 0; ; ++i )
                    {
                      result = a6;
                      if ( i >= a6 )
                        break;
                      for ( j = 0; j < a5; ++j )
                      {
                        v28 = *(_WORD *)(*(_DWORD *)(a1 + 68) + 2 * *v14);
                        if ( v28 >= 0 )
                          *v29 = v28;
                        v29 += v30;
                        ++v14;
                      }
                      v29 += v12;
                      v14 += v16;
                    }
                  }
                  else
                  {
                    v17 = *(_WORD *)(a2 + 10) - a5 / 2;
                    for ( k = 0; ; ++k )
                    {
                      result = a6;
                      if ( k >= a6 )
                        break;
                      for ( l = 0; l < a5; ++l )
                      {
                        if ( l % 2 )
                          v11 = (signed int)*v14 >> 4;
                        else
                          v11 = *v14 & 0xF;
                        v27 = *(_WORD *)(*(_DWORD *)(a1 + 68) + 2 * v11);
                        if ( v27 >= 0 )
                          *v29 = v27;
                        v29 += v30;
                        if ( l % 2 == 1 )
                          ++v14;
                      }
                      v29 += v12;
                      v14 += v17;
                    }
                  }
                }
                else
                {
                  for ( m = 0; m < a6; ++m )
                  {
                    for ( n = 0; n < a5; ++n )
                    {
                      *v29 = *v14;
                      v29 += v30;
                      ++v14;
                    }
                    v29 += v12;
                    v14 += v16;
                    result = m + 1;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (1001F410) --------------------------------------------------------
int __cdecl sub_1001F410(int a1, int a2, int a3, int a4)
{
  int result; // eax@18
  int v5; // eax@23
  int v6; // eax@27
  int v7; // [sp+0h] [bp-98h]@32
  signed int i; // [sp+4h] [bp-94h]@29
  int v9; // [sp+Ch] [bp-8Ch]@32
  int v10; // [sp+10h] [bp-88h]@4
  int v11; // [sp+14h] [bp-84h]@1
  int v12; // [sp+18h] [bp-80h]@49
  unsigned __int8 v13; // [sp+1Fh] [bp-79h]@1
  int v14; // [sp+24h] [bp-74h]@4
  int v15; // [sp+28h] [bp-70h]@1
  int v16; // [sp+2Ch] [bp-6Ch]@4
  int v17; // [sp+30h] [bp-68h]@32
  int v18; // [sp+34h] [bp-64h]@4
  int v19; // [sp+38h] [bp-60h]@4
  int v20; // [sp+3Ch] [bp-5Ch]@4
  int v21; // [sp+40h] [bp-58h]@32
  int v22; // [sp+44h] [bp-54h]@4
  int v23; // [sp+48h] [bp-50h]@32
  int v24; // [sp+4Ch] [bp-4Ch]@4
  int v25; // [sp+50h] [bp-48h]@4
  int v26; // [sp+54h] [bp-44h]@32
  int v27; // [sp+58h] [bp-40h]@4
  int v28; // [sp+5Ch] [bp-3Ch]@1
  int v29; // [sp+60h] [bp-38h]@1
  int v30; // [sp+64h] [bp-34h]@32
  int v31; // [sp+68h] [bp-30h]@1
  int j; // [sp+6Ch] [bp-2Ch]@34
  int v33; // [sp+74h] [bp-24h]@1
  int v34; // [sp+78h] [bp-20h]@49
  int v35; // [sp+7Ch] [bp-1Ch]@1
  int v36; // [sp+80h] [bp-18h]@32
  int v37; // [sp+84h] [bp-14h]@32
  int v38; // [sp+88h] [bp-10h]@32
  int v39; // [sp+8Ch] [bp-Ch]@1
  int v40; // [sp+90h] [bp-8h]@4
  int v41; // [sp+94h] [bp-4h]@4

  v13 = *(_BYTE *)(a1 + 50);
  v11 = *(_WORD *)(*(_DWORD *)(a1 + 52) + 10);
  v31 = *(_WORD *)(a2 + 2);
  v35 = *(_WORD *)(a3 + 2);
  v28 = *(_WORD *)(a4 + 2);
  v39 = *(_WORD *)(a1 + 26);
  v29 = *(_WORD *)(a1 + 24);
  v33 = *(_WORD *)(a1 + 30) + v39;
  v15 = *(_WORD *)(a1 + 28) + v29;
  if ( v31 >= v35 )
  {
    if ( v35 >= v28 )
    {
      v10 = *(_WORD *)a4;
      v19 = *(_WORD *)(a4 + 2);
      v14 = *(_WORD *)a3;
      v41 = *(_WORD *)(a3 + 2);
      v18 = *(_WORD *)a2;
      v24 = *(_WORD *)(a2 + 2);
      v27 = *(_WORD *)a4;
      v16 = *(_WORD *)(a4 + 2);
      v22 = *(_WORD *)a3;
      v25 = *(_WORD *)(a3 + 2);
      v40 = *(_WORD *)a2;
      v20 = *(_WORD *)(a2 + 2);
    }
    else if ( v31 >= v28 )
    {
      v10 = *(_WORD *)a3;
      v19 = *(_WORD *)(a3 + 2);
      v14 = *(_WORD *)a4;
      v41 = *(_WORD *)(a4 + 2);
      v18 = *(_WORD *)a2;
      v24 = *(_WORD *)(a2 + 2);
      v27 = *(_WORD *)a3;
      v16 = *(_WORD *)(a3 + 2);
      v22 = *(_WORD *)a4;
      v25 = *(_WORD *)(a4 + 2);
      v40 = *(_WORD *)a2;
      v20 = *(_WORD *)(a2 + 2);
    }
    else
    {
      v10 = *(_WORD *)a3;
      v19 = *(_WORD *)(a3 + 2);
      v14 = *(_WORD *)a2;
      v41 = *(_WORD *)(a2 + 2);
      v18 = *(_WORD *)a4;
      v24 = *(_WORD *)(a4 + 2);
      v27 = *(_WORD *)a3;
      v16 = *(_WORD *)(a3 + 2);
      v22 = *(_WORD *)a2;
      v25 = *(_WORD *)(a2 + 2);
      v40 = *(_WORD *)a4;
      v20 = *(_WORD *)(a4 + 2);
    }
  }
  else if ( v31 >= v28 )
  {
    v10 = *(_WORD *)a4;
    v19 = *(_WORD *)(a4 + 2);
    v14 = *(_WORD *)a2;
    v41 = *(_WORD *)(a2 + 2);
    v18 = *(_WORD *)a3;
    v24 = *(_WORD *)(a3 + 2);
    v27 = *(_WORD *)a4;
    v16 = *(_WORD *)(a4 + 2);
    v22 = *(_WORD *)a2;
    v25 = *(_WORD *)(a2 + 2);
    v40 = *(_WORD *)a3;
    v20 = *(_WORD *)(a3 + 2);
  }
  else if ( v35 >= v28 )
  {
    v10 = *(_WORD *)a2;
    v19 = *(_WORD *)(a2 + 2);
    v14 = *(_WORD *)a4;
    v41 = *(_WORD *)(a4 + 2);
    v18 = *(_WORD *)a3;
    v24 = *(_WORD *)(a3 + 2);
    v27 = *(_WORD *)a2;
    v16 = *(_WORD *)(a2 + 2);
    v22 = *(_WORD *)a4;
    v25 = *(_WORD *)(a4 + 2);
    v40 = *(_WORD *)a3;
    v20 = *(_WORD *)(a3 + 2);
  }
  else
  {
    v10 = *(_WORD *)a2;
    v19 = *(_WORD *)(a2 + 2);
    v14 = *(_WORD *)a3;
    v41 = *(_WORD *)(a3 + 2);
    v18 = *(_WORD *)a4;
    v24 = *(_WORD *)(a4 + 2);
    v27 = *(_WORD *)a2;
    v16 = *(_WORD *)(a2 + 2);
    v22 = *(_WORD *)a3;
    v25 = *(_WORD *)(a3 + 2);
    v40 = *(_WORD *)a4;
    v20 = *(_WORD *)(a4 + 2);
  }
  if ( v14 >= v18 )
    v14 = sub_1001FB40(v19, v10, v24, v18, v41);
  else
    v22 = sub_1001FB40(v19, v10, v24, v18, v41);
  result = v24;
  if ( v24 >= v29 && v19 < v15 )
  {
    if ( v19 < v29 )
    {
      if ( v41 >= v29 )
      {
        v10 = sub_1001FB40(v19, v10, v41, v14, v29);
        v27 = sub_1001FB40(v16, v27, v25, v22, v29);
        result = v29;
        v16 = v29;
        v19 = v29;
      }
      else
      {
        v10 = sub_1001FB40(v41, v14, v24, v18, v29);
        v5 = sub_1001FB40(v25, v22, v20, v40, v29);
        v27 = v5;
        v14 = v10;
        v22 = v5;
        v25 = v29;
        v41 = v29;
        result = v29;
        v16 = v29;
        v19 = v29;
      }
    }
    if ( v24 >= v15 )
    {
      if ( v41 < v15 )
      {
        v18 = sub_1001FB40(v41, v14, v24, v18, v15 - 1);
        v40 = sub_1001FB40(v25, v22, v20, v40, v15 - 1);
        result = v15 - 1;
        v20 = v15 - 1;
        v24 = v15 - 1;
      }
      else
      {
        v18 = sub_1001FB40(v19, v10, v41, v14, v15 - 1);
        v6 = sub_1001FB40(v16, v27, v25, v22, v15 - 1);
        v40 = v6;
        v14 = v18;
        v22 = v6;
        v25 = v15 - 1;
        v41 = v15 - 1;
        result = v15 - 1;
        v20 = v15 - 1;
        v24 = v15 - 1;
      }
    }
    for ( i = 0; i < 2; ++i )
    {
      if ( i )
      {
        v37 = v18 - v14;
        v17 = v24 - v41;
        v9 = v40 - v22;
        v26 = v20 - v25;
        v7 = 0;
        v36 = 0;
        v23 = v14;
        v21 = v22;
        v30 = v24 - v41;
        v38 = **(_DWORD **)(a1 + 52) + v11 * v41;
      }
      else
      {
        v37 = v14 - v10;
        v17 = v41 - v19;
        v9 = v22 - v27;
        v26 = v25 - v16;
        v7 = 0;
        v36 = 0;
        v23 = v10;
        v21 = v27;
        v30 = v41 - v19;
        v38 = **(_DWORD **)(a1 + 52) + v11 * v19;
      }
      for ( j = 0; ; ++j )
      {
        result = j;
        if ( j >= v30 )
          break;
        v7 += v37;
        if ( v37 <= 0 )
        {
          while ( v7 < -v17 )
          {
            v7 += v17;
            --v23;
          }
        }
        else
        {
          while ( v7 > v17 )
          {
            v7 -= v17;
            ++v23;
          }
        }
        v36 += v9;
        if ( v9 <= 0 )
        {
          while ( v36 < -v26 )
          {
            v36 += v26;
            --v21;
          }
        }
        else
        {
          while ( v36 > v26 )
          {
            v36 -= v26;
            ++v21;
          }
        }
        if ( v23 >= v21 )
        {
          v34 = v21;
          v12 = v23 + 1;
        }
        else
        {
          v34 = v23;
          v12 = v21 + 1;
        }
        if ( v34 < v33 && v12 > v39 )
        {
          if ( v34 < v39 )
            v34 = v39;
          if ( v12 >= v33 - 1 )
            v12 = v33 - 1;
          if ( v12 > v34 )
            memset((void *)(v34 + v38), v13, v12 - v34);
        }
        v38 += v11;
      }
    }
  }
  return result;
}

//----- (1001FB40) --------------------------------------------------------
int __cdecl sub_1001FB40(int a1, int a2, int a3, int a4, int a5)
{
  int result; // eax@2

  if ( a1 == a3 )
    result = a2;
  else
    result = a2 + (a4 - a2) * (a5 - a1) / (a3 - a1);
  return result;
}

//----- (1001FB70) --------------------------------------------------------
int __cdecl sub_1001FB70(int a1, signed int a2, signed int a3)
{
  int result; // eax@5
  int v4; // edx@10
  unsigned int v5; // ST04_4@15
  unsigned int v6; // ST20_4@16
  int v7; // ST28_4@26
  unsigned int v8; // ST18_4@32
  int v9; // [sp+0h] [bp-44h]@28
  unsigned int v10; // [sp+4h] [bp-40h]@15
  int v11; // [sp+8h] [bp-3Ch]@1
  int v12; // [sp+Ch] [bp-38h]@1
  int v13; // [sp+10h] [bp-34h]@31
  unsigned int v14; // [sp+14h] [bp-30h]@13
  int v15; // [sp+1Ch] [bp-28h]@30
  int v16; // [sp+20h] [bp-24h]@17
  int i; // [sp+20h] [bp-24h]@32
  int v18; // [sp+20h] [bp-24h]@34
  int v19; // [sp+24h] [bp-20h]@1
  unsigned int v20; // [sp+28h] [bp-1Ch]@14
  int v21; // [sp+2Ch] [bp-18h]@15
  unsigned int *v22; // [sp+30h] [bp-14h]@15
  int *v23; // [sp+30h] [bp-14h]@32
  int v24; // [sp+34h] [bp-10h]@15
  unsigned int v25; // [sp+38h] [bp-Ch]@15
  unsigned int *v26; // [sp+3Ch] [bp-8h]@13
  int v27; // [sp+40h] [bp-4h]@1

  v11 = (signed __int16)a3;
  v27 = a3 >> 16;
  v12 = (signed __int16)a2;
  v19 = a2 >> 16;
  if ( *(_WORD *)(a1 + 26) > a2 >> 16 )
  {
    v12 = (signed __int16)a2 - (*(_WORD *)(a1 + 26) - v19);
    v19 = *(_WORD *)(a1 + 26);
  }
  if ( *(_WORD *)(a1 + 24) > v27 )
  {
    v11 = (signed __int16)a3 - (*(_WORD *)(a1 + 24) - v27);
    v27 = *(_WORD *)(a1 + 24);
  }
  result = *(_WORD *)(a1 + 30);
  if ( result + *(_WORD *)(a1 + 26) > v19 )
  {
    if ( *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26) - v19 <= v12 )
      v12 = *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 26) - v19;
    result = *(_WORD *)(a1 + 28);
    if ( result + *(_WORD *)(a1 + 24) > v27 )
    {
      result = a1;
      if ( *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24) - v27 <= v11 )
      {
        v4 = *(_WORD *)(a1 + 28);
        result = v4 + *(_WORD *)(a1 + 24) - v27;
        v11 = v4 + *(_WORD *)(a1 + 24) - v27;
      }
      if ( v11 > 0 && v12 > 0 )
      {
        *(_BYTE *)a1 = 1;
        v14 = 32 - (8 * v19 & 0x1F);
        v26 = (unsigned int *)(v27 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10)
                             + **(_DWORD **)(a1 + 52)
                             + 4 * ((unsigned int)(8 * v19) >> 5));
        if ( *(_WORD *)(a1 + 4) == 2 )
        {
          v9 = v11;
          if ( v14 >= 8 * v12 )
            v14 = 8 * v12;
          v15 = 8 * v12 - v14;
          result = *(_WORD *)(a1 + 38) << 16;
          if ( !(*(_WORD *)(a1 + 38) & 0x8000) )
          {
            v13 = *(&dword_10084198 + *(_WORD *)(a1 + 38));
            do
            {
              v8 = ~(((unsigned int)(0xFFFFFFFFui64 >> v14) >> ((32 - (8 * v19 & 0x1F) - v14) & 0x1F)) | ((unsigned int)(0xFFFFFFFFui64 >> v14) << (32 - ((32 - (8 * v19 & 0x1F) - v14) & 0x1F))));
              *v26 = *v26 & ~v8 | v13 & v8;
              v23 = (int *)(v26 + 1);
              for ( i = v15 - 32; i >= 0; i -= 32 )
              {
                *v23 = v13;
                ++v23;
              }
              v18 = i + 32;
              if ( v18 )
                *v23 = *v23 & ~((1 << v18) - 1) | v13 & ((1 << v18) - 1);
              result = *(_DWORD *)(a1 + 52);
              v26 = (unsigned int *)((char *)v26 + *(_WORD *)(result + 10));
              --v9;
            }
            while ( v9 );
          }
        }
        else
        {
          v20 = (v19 << 16) & 0x1FFFFF | v11 | (v27 << 27);
          do
          {
            v5 = *(_DWORD *)(*(_DWORD *)(a1 + 60) + (v20 >> 25));
            v10 = (v5 >> ((v20 >> 16) & 0x1F)) | (v5 << (32 - ((v20 >> 16) & 0x1F)));
            v22 = v26;
            v21 = 32 - (8 * v19 & 0x1F);
            v25 = (*v26 >> (31 * v14 & 0x1F)) | (*v26 << (32 - (31 * v14 & 0x1F)));
            v24 = v12;
            do
            {
              v6 = v10 << 31;
              v10 = (v10 << 31) | (v10 >> 1);
              if ( v6 >> 31 )
                v16 = *(_WORD *)(a1 + 38);
              else
                v16 = *(_WORD *)(a1 + 36);
              if ( (signed __int16)v16 >= 0 )
                v25 = (v16 << 24) | (v25 >> 8);
              else
                v25 = (v25 >> 8) | (v25 << 24);
              if ( --v24 )
              {
                v21 -= 8;
                if ( !v21 )
                {
                  *v22 = v25;
                  ++v22;
                  v21 = 32;
                  v25 = *v22;
                }
              }
            }
            while ( v24 );
            *v22 = (v25 >> ((v21 - 8) & 0x1F)) | (v25 << (32 - ((v21 - 8) & 0x1F)));
            v26 = (unsigned int *)((char *)v26 + *(_WORD *)(*(_DWORD *)(a1 + 52) + 10));
            v7 = v20 + 0x8000000;
            result = v7 - 1;
            v20 = v7 - 1;
          }
          while ( v20 << 16 );
        }
      }
    }
  }
  return result;
}

//----- (10020040) --------------------------------------------------------
char __cdecl sub_10020040(int a1)
{
  int v1; // eax@3
  int v3; // [sp+0h] [bp-30h]@3
  __int16 v4; // [sp+4h] [bp-2Ch]@1
  char v5; // [sp+8h] [bp-28h]@6
  int v6; // [sp+14h] [bp-1Ch]@1

  v6 = *(_WORD *)(a1 + 10);
  v4 = *(_WORD *)(a1 + 14) - *(_WORD *)(a1 + 10);
  if ( v4 < 0 )
  {
    v6 = *(_WORD *)(a1 + 14);
    v4 = -v4;
  }
  v1 = (signed __int16)(v4 + 1);
  v6 = v1 + (v6 << 16);
  v3 = *(_WORD *)(a1 + 6);
  if ( v3 == 1 )
  {
    LOBYTE(v1) = sub_10020410(a1, v6, *(_WORD *)(a1 + 8), (int)&v5);
  }
  else if ( v3 == 3 )
  {
    LOBYTE(v1) = sub_10020900(a1, v6, *(_WORD *)(a1 + 8), (int)&v5);
  }
  return v1;
}

//----- (100200F0) --------------------------------------------------------
char __cdecl sub_100200F0(int a1)
{
  __int16 v1; // ax@1
  int v3; // [sp+8h] [bp-2Ch]@1
  char v4; // [sp+Ch] [bp-28h]@8
  int v5; // [sp+18h] [bp-1Ch]@1

  v5 = *(_WORD *)(a1 + 10);
  v1 = *(_WORD *)(a1 + 14);
  v3 = *(_WORD *)(a1 + 14);
  if ( *(_WORD *)(a1 + 14) )
  {
    if ( v3 < 0 )
    {
      v5 += v3 + 1;
      v3 = 0x8000 - v3;
    }
    v5 = v3 + (v5 << 16);
    if ( (signed int)*(_WORD *)(a1 + 2) > 1 )
    {
      LOBYTE(v1) = a1;
      switch ( *(_WORD *)(a1 + 4) )
      {
        case 0:
        case 2:
          LOBYTE(v1) = sub_10020790(a1, v5, *(_WORD *)(a1 + 8));
          break;
        case 3:
        case 4:
          LOBYTE(v1) = sub_100210C0(a1, v5, (int)&v4);
          break;
        default:
          return v1;
      }
    }
    else
    {
      v1 = *(_WORD *)(a1 + 4);
      switch ( *(_WORD *)(a1 + 4) )
      {
        case 0:
          LOBYTE(v1) = sub_10020790(a1, v5, *(_WORD *)(a1 + 8));
          break;
        case 2:
          LOBYTE(v1) = sub_10020790(a1, v5, *(_WORD *)(a1 + 8));
          break;
        case 3:
          LOBYTE(v1) = sub_10020900(a1, v5, *(_WORD *)(a1 + 8), (int)&v4);
          break;
        case 4:
          LOBYTE(v1) = (unsigned int)sub_10020D30(a1, v5, *(_WORD *)(a1 + 8), *(int **)(a1 + 64));
          break;
        default:
          return v1;
      }
    }
  }
  return v1;
}

//----- (10020260) --------------------------------------------------------
int __cdecl sub_10020260(int a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-4h]@1

  result = a1;
  v2 = *(_WORD *)(a1 + 4);
  if ( *(_WORD *)(a1 + 4) && v2 != 2 )
  {
    if ( v2 == 3 )
      result = sub_10020A10(a1, *(_WORD *)(a1 + 10), *(_WORD *)(a1 + 8));
  }
  else
  {
    result = sub_10020810(a1, *(_WORD *)(a1 + 10), *(_WORD *)(a1 + 8));
  }
  return result;
}

//----- (100202C0) --------------------------------------------------------
char *__cdecl sub_100202C0(int a1)
{
  char *result; // eax@1
  int v2; // ST18_4@3
  int v3; // [sp+8h] [bp-2Ch]@1
  char v4; // [sp+Ch] [bp-28h]@7
  int v5; // [sp+1Ch] [bp-18h]@1

  v5 = *(_WORD *)(a1 + 8);
  result = (char *)*(_WORD *)(a1 + 12);
  v3 = *(_WORD *)(a1 + 12);
  if ( *(_WORD *)(a1 + 12) )
  {
    if ( v3 < 0 )
    {
      v2 = -v3;
      v5 = v5 - v2 + 1;
      v3 = v2 + 0x8000;
    }
    v5 = v3 + (v5 << 16);
    if ( (signed int)*(_WORD *)(a1 + 2) <= 1 )
    {
      result = (char *)*(_WORD *)(a1 + 4);
      switch ( result )
      {
        case 0u:
        case 2u:
          result = (char *)sub_10020880(a1, v5, *(_WORD *)(a1 + 10));
          break;
        case 3u:
          result = (char *)sub_10020B00(a1, v5, *(_WORD *)(a1 + 10), (int)&v4);
          break;
        case 4u:
          result = sub_10020E70(a1, v5, *(_WORD *)(a1 + 10), *(int **)(a1 + 64));
          break;
        default:
          return result;
      }
    }
    else
    {
      result = (char *)*(_WORD *)(a1 + 4);
      switch ( result )
      {
        case 0u:
        case 2u:
          result = (char *)sub_10020880(a1, v5, *(_WORD *)(a1 + 10));
          break;
        case 3u:
        case 4u:
          result = (char *)sub_10021200(a1, v5, (int)&v4);
          break;
        default:
          return result;
      }
    }
  }
  return result;
}

//----- (10020410) --------------------------------------------------------
unsigned int __cdecl sub_10020410(int a1, signed int a2, int a3, int a4)
{
  unsigned int result; // eax@1

  *(_DWORD *)(a4 + 20) = a2 & 0x7FFF;
  *(_DWORD *)(a4 + 12) = a2 >> 16;
  *(_DWORD *)(a4 + 16) = a3;
  result = sub_100204D0(a1, a4);
  if ( *(_DWORD *)a4 )
  {
    *(_DWORD *)(a4 + 32) = (*(_DWORD *)(*(_DWORD *)(a1 + 60) + 4 * (a3 & 0x1F)) >> (*(_BYTE *)(a4 + 12) & 0x1F)) | (*(_DWORD *)(*(_DWORD *)(a1 + 60) + 4 * (a3 & 0x1F)) << (32 - (*(_BYTE *)(a4 + 12) & 0x1F)));
    *(_DWORD *)(a4 + 36) = 1;
    result = sub_100205F0(a1, a4);
  }
  return result;
}

//----- (100204D0) --------------------------------------------------------
int __cdecl sub_100204D0(int a1, int a2)
{
  int result; // eax@2

  *(_DWORD *)a2 = 0;
  *(_DWORD *)(a2 + 24) = *(_WORD *)(a1 + 26) - *(_DWORD *)(a2 + 12);
  if ( *(_DWORD *)(a2 + 24) <= 0
    || (*(_DWORD *)(a2 + 12) += *(_DWORD *)(a2 + 24),
        result = *(_DWORD *)(a2 + 20) - *(_DWORD *)(a2 + 24),
        *(_DWORD *)(a2 + 20) = result,
        *(_DWORD *)(a2 + 20) > 0) )
  {
    result = *(_WORD *)(a1 + 26);
    if ( result + *(_WORD *)(a1 + 30) > *(_DWORD *)(a2 + 12) )
    {
      if ( *(_WORD *)(a1 + 26) + (signed int)*(_WORD *)(a1 + 30) - *(_WORD *)(a2 + 12) <= *(_DWORD *)(a2 + 20) )
        *(_DWORD *)(a2 + 20) = *(_WORD *)(a1 + 26) + *(_WORD *)(a1 + 30) - *(_WORD *)(a2 + 12);
      result = a1;
      if ( (signed int)*(_WORD *)(a1 + 24) <= *(_DWORD *)(a2 + 16) )
      {
        result = *(_WORD *)(a1 + 24);
        if ( result + *(_WORD *)(a1 + 28) > *(_DWORD *)(a2 + 16) )
        {
          *(_DWORD *)(a2 + 24) &= ~(*(_DWORD *)(a2 + 24) >> 31);
          *(_BYTE *)a1 = 1;
          result = a2;
          *(_DWORD *)a2 = 1;
        }
      }
    }
  }
  return result;
}

//----- (100205F0) --------------------------------------------------------
unsigned int __cdecl sub_100205F0(int a1, int a2)
{
  unsigned int v2; // ST04_4@1
  __int16 v3; // ST0C_2@2
  char v4; // ST04_1@9
  unsigned int result; // eax@9
  unsigned int v6; // [sp+0h] [bp-1Ch]@1
  int v7; // [sp+4h] [bp-18h]@1
  int v8; // [sp+8h] [bp-14h]@2
  int v9; // [sp+10h] [bp-Ch]@1
  unsigned int v10; // [sp+14h] [bp-8h]@1
  unsigned int *v11; // [sp+18h] [bp-4h]@1

  v9 = *(_DWORD *)(a2 + 20);
  v2 = 8 * *(_DWORD *)(a2 + 12);
  v11 = (unsigned int *)(**(_DWORD **)(a1 + 52)
                       + *(_DWORD *)(a2 + 16) * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10)
                       + 4 * (v2 >> 5));
  v7 = 32 - (v2 & 0x1F);
  v10 = (*v11 >> (31 * v7 & 0x1F)) | (*v11 << (32 - (31 * v7 & 0x1F)));
  v6 = *(_DWORD *)(a2 + 32);
  do
  {
    v8 = 2 * v6 & 3;
    v6 = (v6 >> (*(_BYTE *)(a2 + 36) & 0x1F)) | (v6 << (32 - (*(_BYTE *)(a2 + 36) & 0x1F)));
    v3 = *(_WORD *)(v8 + a1 + 36);
    if ( v3 >= 0 )
      v10 = (v10 >> 8) | (*(_WORD *)(v8 + a1 + 36) << 24);
    else
      v10 = (v10 >> 8) | (v10 << 24);
    if ( --v9 )
    {
      v7 -= 8;
      if ( !v7 )
      {
        *v11 = v10;
        ++v11;
        v7 = 32;
        v10 = *v11;
      }
    }
  }
  while ( v9 );
  v4 = v7 - 8;
  result = v10 >> (v4 & 0x1F);
  *v11 = result | (v10 << (32 - (v4 & 0x1F)));
  return result;
}

//----- (10020790) --------------------------------------------------------
int __cdecl sub_10020790(int a1, int a2, int a3)
{
  return sub_1001FB70(
           a1,
           (a2 & 0xFFFF7FFF) + *(_WORD *)(a1 + 34) - 1 - ((unsigned int)*(_WORD *)(a1 + 34) >> 1 << 16),
           ((a3 - ((unsigned int)*(_WORD *)(a1 + 32) >> 1)) << 16) + *(_WORD *)(a1 + 32));
}

//----- (10020810) --------------------------------------------------------
int __cdecl sub_10020810(int a1, int a2, int a3)
{
  return sub_1001FB70(
           a1,
           (a2 << 16) + *(_WORD *)(a1 + 34) - ((unsigned int)*(_WORD *)(a1 + 34) >> 1 << 16),
           (a3 << 16) + *(_WORD *)(a1 + 32) - ((unsigned int)*(_WORD *)(a1 + 32) >> 1 << 16));
}

//----- (10020880) --------------------------------------------------------
int __cdecl sub_10020880(int a1, int a2, int a3)
{
  return sub_1001FB70(
           a1,
           ((a3 - ((unsigned int)*(_WORD *)(a1 + 34) >> 1)) << 16) + *(_WORD *)(a1 + 34),
           (a2 & 0xFFFF7FFF) + *(_WORD *)(a1 + 32) - 1 - ((unsigned int)*(_WORD *)(a1 + 32) >> 1 << 16));
}

//----- (10020900) --------------------------------------------------------
char __cdecl sub_10020900(int a1, signed int a2, int a3, int a4)
{
  char result; // al@2
  int v5; // [sp+0h] [bp-Ch]@7
  unsigned int v6; // [sp+4h] [bp-8h]@5
  _BYTE *v7; // [sp+8h] [bp-4h]@5

  *(_DWORD *)(a4 + 20) = a2 & 0x7FFF;
  *(_DWORD *)(a4 + 12) = a2 >> 16;
  *(_DWORD *)(a4 + 16) = a3;
  if ( *(_DWORD *)(a4 + 20) == 1 )
  {
    result = sub_10020A10(a1, *(_DWORD *)(a4 + 12), *(_DWORD *)(a4 + 16));
  }
  else
  {
    result = sub_100204D0(a1, a4);
    if ( *(_DWORD *)a4 )
    {
      result = a1;
      if ( !(*(_WORD *)(a1 + 38) & 0x8000) )
      {
        v7 = (_BYTE *)(*(_DWORD *)(a4 + 12) + **(_DWORD **)(a1 + 52) + a3 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10));
        v6 = *(_DWORD *)(a4 + 20);
        if ( v6 <= 0x10 )
        {
          v5 = *(&dword_10084198 + *(_WORD *)(a1 + 38));
          do
          {
            result = v5;
            *v7++ = v5;
            --v6;
          }
          while ( v6 );
        }
        else
        {
          result = (unsigned int)memset(v7, *(&dword_10084198 + *(_WORD *)(a1 + 38)), v6);
        }
      }
    }
  }
  return result;
}

//----- (10020A10) --------------------------------------------------------
int __cdecl sub_10020A10(int a1, signed int a2, signed int a3)
{
  int result; // eax@1
  _BYTE *v4; // ST08_4@5
  unsigned int v5; // [sp+18h] [bp+Ch]@5

  result = a1;
  if ( *(_WORD *)(a1 + 26) <= a2 )
  {
    result = *(_WORD *)(a1 + 26) + *(_WORD *)(a1 + 30);
    if ( result > a2 )
    {
      result = a1;
      if ( *(_WORD *)(a1 + 24) <= a3 )
      {
        result = *(_WORD *)(a1 + 24) + *(_WORD *)(a1 + 28);
        if ( result > a3 )
        {
          *(_BYTE *)a1 = 1;
          v5 = 8 * a2;
          v4 = (_BYTE *)(**(_DWORD **)(a1 + 52) + a3 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) + (v5 >> 3));
          result = **(_DWORD **)(a1 + 52) + a3 * *(_WORD *)(*(_DWORD *)(a1 + 52) + 10) + (v5 >> 3);
          *v4 = ((unsigned __int64)*(_WORD *)(a1 + 38) << (v5 & 7)) | ~(unsigned __int8)(255i64 << (v5 & 7)) & *v4;
        }
      }
    }
  }
  return result;
}

//----- (10020B00) --------------------------------------------------------
int __cdecl sub_10020B00(int a1, signed int a2, int a3, int a4)
{
  int result; // eax@1
  _BYTE *v5; // [sp+Ch] [bp-4h]@2
  int v6; // [sp+18h] [bp+8h]@1

  *(_DWORD *)(a4 + 8) = a2 & 0x7FFF;
  *(_DWORD *)(a4 + 16) = a2 >> 16;
  *(_DWORD *)(a4 + 12) = a3;
  result = sub_10020C00(a1, a4);
  v6 = result;
  if ( *(_DWORD *)(a4 + 4) )
  {
    v5 = (_BYTE *)((a3 & 0x1FFFFFFF)
                 + *(_DWORD *)(a4 + 16) * *(_WORD *)(*(_DWORD *)(result + 52) + 10)
                 + **(_DWORD **)(result + 52));
    do
    {
      *v5;
      *v5 = *(_WORD *)(v6 + 38);
      v5 += *(_WORD *)(*(_DWORD *)(v6 + 52) + 10);
      result = *(_DWORD *)(a4 + 8) - 1;
      *(_DWORD *)(a4 + 8) = result;
    }
    while ( *(_DWORD *)(a4 + 8) > 0 );
  }
  return result;
}

//----- (10020C00) --------------------------------------------------------
int __cdecl sub_10020C00(int a1, int a2)
{
  int result; // eax@3

  *(_DWORD *)(a2 + 4) = 0;
  *(_DWORD *)(a2 + 28) = *(_WORD *)(a1 + 24) - *(_DWORD *)(a2 + 16);
  if ( *(_DWORD *)(a2 + 28) <= 0
    || (*(_DWORD *)(a2 + 16) += *(_DWORD *)(a2 + 28),
        *(_DWORD *)(a2 + 8) -= *(_DWORD *)(a2 + 28),
        *(_DWORD *)(a2 + 8) > 0) )
  {
    if ( *(_WORD *)(a1 + 24) + (signed int)*(_WORD *)(a1 + 28) > *(_DWORD *)(a2 + 16) )
    {
      if ( *(_WORD *)(a1 + 24) + (signed int)*(_WORD *)(a1 + 28) - *(_WORD *)(a2 + 16) <= *(_DWORD *)(a2 + 8) )
        *(_DWORD *)(a2 + 8) = *(_WORD *)(a1 + 24) + *(_WORD *)(a1 + 28) - *(_WORD *)(a2 + 16);
      if ( (signed int)*(_WORD *)(a1 + 26) <= *(_DWORD *)(a2 + 12) )
      {
        if ( *(_WORD *)(a1 + 26) + (signed int)*(_WORD *)(a1 + 30) > *(_DWORD *)(a2 + 12) )
        {
          *(_DWORD *)(a2 + 28) &= ~(*(_DWORD *)(a2 + 28) >> 31);
          *(_BYTE *)a1 = 1;
          *(_DWORD *)(a2 + 4) = 1;
          result = a1;
        }
        else
        {
          result = a1;
        }
      }
      else
      {
        result = a1;
      }
    }
    else
    {
      result = a1;
    }
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (10020D30) --------------------------------------------------------
char *__cdecl sub_10020D30(int a1, signed int a2, int a3, int *a4)
{
  char *result; // eax@3
  char v5; // [sp+0h] [bp-30h]@1
  signed int v6; // [sp+Ch] [bp-24h]@1
  int v7; // [sp+10h] [bp-20h]@1
  int v8; // [sp+14h] [bp-1Ch]@1
  int v9; // [sp+20h] [bp-10h]@1
  int v10; // [sp+24h] [bp-Ch]@1
  char *v11; // [sp+28h] [bp-8h]@1
  int v12; // [sp+2Ch] [bp-4h]@1
  signed int v13; // [sp+3Ch] [bp+Ch]@1
  int v14; // [sp+3Ch] [bp+Ch]@4

  v11 = &v5;
  v8 = a2 & 0x7FFF;
  v6 = a2 >> 16;
  v7 = a3;
  v9 = *a4;
  v12 = *(_BYTE *)(a1 + 1);
  v10 = v8 + v12;
  *(_BYTE *)(a1 + 1) = a2 + v12;
  v13 = (a2 - *((_DWORD *)v11 + 5)) << 16;
  if ( v13 < 0 )
  {
    v12 = *((_DWORD *)v11 + 9) - 1;
    v13 >>= 30;
  }
  *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v12 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v12 & 0x1F)));
  *((_DWORD *)v11 + 9) = v13 + 1;
  sub_100204D0(a1, (int)v11);
  result = v11;
  if ( *(_DWORD *)v11 )
  {
    v14 = *((_DWORD *)v11 + 6) * *((_DWORD *)v11 + 9);
    *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v14 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v14 & 0x1F)));
    result = (char *)sub_100205F0(a1, (int)v11);
  }
  return result;
}

//----- (10020E70) --------------------------------------------------------
char *__cdecl sub_10020E70(int a1, signed int a2, int a3, int *a4)
{
  char *result; // eax@3
  char v5; // [sp+0h] [bp-3Ch]@1
  int v6; // [sp+8h] [bp-34h]@1
  int v7; // [sp+Ch] [bp-30h]@1
  signed int v8; // [sp+10h] [bp-2Ch]@1
  int v9; // [sp+20h] [bp-1Ch]@1
  int v10; // [sp+24h] [bp-18h]@1
  char *v11; // [sp+28h] [bp-14h]@1
  int v12; // [sp+2Ch] [bp-10h]@1
  __int16 v13; // [sp+30h] [bp-Ch]@5
  char v14; // [sp+37h] [bp-5h]@6
  char *v15; // [sp+38h] [bp-4h]@4
  int v16; // [sp+44h] [bp+8h]@3
  signed int v17; // [sp+48h] [bp+Ch]@1
  int v18; // [sp+48h] [bp+Ch]@4
  unsigned int v19; // [sp+4Ch] [bp+10h]@4
  int v20; // [sp+4Ch] [bp+10h]@4

  v11 = &v5;
  v6 = a2 & 0x7FFF;
  v8 = a2 >> 16;
  v7 = a3;
  v9 = *a4;
  v12 = *(_BYTE *)(a1 + 1);
  v10 = v6 + v12;
  *(_BYTE *)(a1 + 1) = a2 + v12;
  v17 = (a2 - *((_DWORD *)v11 + 2)) << 16;
  if ( v17 < 0 )
  {
    v12 = *((_DWORD *)v11 + 9) - 1;
    v17 >>= 30;
  }
  *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v12 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v12 & 0x1F)));
  *((_DWORD *)v11 + 9) = v17 + 1;
  v16 = sub_10020C00(a1, (int)v11);
  result = v11;
  if ( *((_DWORD *)v11 + 1) )
  {
    v18 = *((_DWORD *)v11 + 7) * *((_DWORD *)v11 + 9);
    *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v18 & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v18 & 0x1F)));
    v19 = 8 * a3;
    v15 = (char *)(**(_DWORD **)(v16 + 52) + (v19 >> 3) + *((_DWORD *)v11 + 4) * *(_WORD *)(*(_DWORD *)(v16 + 52) + 10));
    v20 = v19 & 7;
    do
    {
      v12 = 2 * *((_DWORD *)v11 + 8) & 3;
      *((_DWORD *)v11 + 8) = (*((_DWORD *)v11 + 8) >> (v11[36] & 0x1F)) | (*((_DWORD *)v11 + 8) << (32 - (v11[36] & 0x1F)));
      v12 += v16 + 36;
      v13 = *(_WORD *)v12;
      if ( v13 >= 0 )
      {
        v14 = *v15;
        v13 <<= v20;
        v14 &= ~(unsigned __int8)(255 << v20);
        v14 |= v13;
        *v15 = v14;
      }
      v15 += *(_WORD *)(*(_DWORD *)(v16 + 52) + 10);
      --*((_DWORD *)v11 + 2);
      result = v11;
    }
    while ( *((_DWORD *)v11 + 2) );
  }
  return result;
}

//----- (100210C0) --------------------------------------------------------
int __cdecl sub_100210C0(int a1, signed int a2, int a3)
{
  int v3; // ST18_4@1
  int v4; // ecx@1
  bool v5; // sf@1
  int result; // eax@6
  unsigned int v7; // [sp+4h] [bp-10h]@1
  signed int v8; // [sp+8h] [bp-Ch]@1
  int v9; // [sp+Ch] [bp-8h]@1
  int *v10; // [sp+10h] [bp-4h]@1

  v7 = *(_WORD *)(a1 + 2);
  *(_DWORD *)(a3 + 16) = v7 >> 1;
  *(_DWORD *)(a3 + 12) = a2 - (*(_DWORD *)(a3 + 16) * *(_WORD *)(a1 + 18) << 16);
  *(_DWORD *)(a3 + 16) = *(_WORD *)(a1 + 8) - *(_DWORD *)(a3 + 16);
  v9 = *(_WORD *)(a1 + 18) << 16;
  v3 = *(_BYTE *)(a1 + 1);
  v4 = -256 * (8 * (*(_DWORD *)(a3 + 12) << 16 >> 31) + 4);
  v5 = v3 + v4 < 0;
  v8 = v3 + v4;
  v10 = *(int **)(a1 + 64);
  if ( v5 )
    v10 = (int *)((char *)v10 + -(*(_WORD *)(a1 + 2) * (v8 >> 8)) - 4);
  do
  {
    *(_BYTE *)(a1 + 1) = v8;
    if ( *(_WORD *)(a1 + 4) == 4 )
      sub_10020D30(a1, *(_DWORD *)(a3 + 12), *(_DWORD *)(a3 + 16), v10);
    else
      sub_10020900(a1, a2, *(_DWORD *)(a3 + 16), a3);
    ++*(_DWORD *)(a3 + 16);
    *(_DWORD *)(a3 + 12) += v9;
    result = (int)v10 + (v8 >> 8);
    v10 = (int *)((char *)v10 + (v8 >> 8));
    --v7;
  }
  while ( v7 );
  return result;
}

//----- (10021200) --------------------------------------------------------
int __cdecl sub_10021200(int a1, signed int a2, int a3)
{
  int v3; // ST18_4@1
  int v4; // ecx@1
  bool v5; // sf@1
  int result; // eax@6
  int v7; // [sp+4h] [bp-10h]@1
  signed int v8; // [sp+8h] [bp-Ch]@1
  int *v9; // [sp+Ch] [bp-8h]@1
  unsigned int v10; // [sp+10h] [bp-4h]@1

  v10 = *(_WORD *)(a1 + 2);
  *(_DWORD *)(a3 + 12) = v10 >> 1;
  *(_DWORD *)(a3 + 16) = a2 - (*(_DWORD *)(a3 + 12) * *(_WORD *)(a1 + 16) << 16);
  *(_DWORD *)(a3 + 12) = *(_WORD *)(a1 + 10) - *(_DWORD *)(a3 + 12);
  v7 = *(_WORD *)(a1 + 16) << 16;
  v3 = *(_BYTE *)(a1 + 1);
  v4 = (8 * (*(_DWORD *)(a3 + 16) << 16 >> 31) + 4) << 8;
  v5 = v3 + v4 < 0;
  v8 = v3 + v4;
  v9 = *(int **)(a1 + 64);
  if ( v5 )
    v9 = (int *)((char *)v9 + -(*(_WORD *)(a1 + 2) * (v8 >> 8)) - 4);
  do
  {
    *(_BYTE *)(a1 + 1) = v8;
    if ( *(_WORD *)(a1 + 4) == 4 )
      sub_10020E70(a1, *(_DWORD *)(a3 + 16), *(_DWORD *)(a3 + 12), v9);
    else
      sub_10020B00(a1, a2, *(_DWORD *)(a3 + 12), a3);
    ++*(_DWORD *)(a3 + 12);
    *(_DWORD *)(a3 + 16) += v7;
    result = (int)v9 + (v8 >> 8);
    v9 = (int *)((char *)v9 + (v8 >> 8));
    --v10;
  }
  while ( v10 );
  return result;
}

//----- (10021340) --------------------------------------------------------
int __cdecl sub_10021340(int a1)
{
  int result; // eax@6
  __int16 v2; // [sp+0h] [bp-8h]@1
  __int16 v3; // [sp+4h] [bp-4h]@1

  v2 = *(_WORD *)(a1 + 10);
  v3 = *(_WORD *)(a1 + 8);
  if ( *(_WORD *)(a1 + 26) > (signed int)*(_WORD *)(a1 + 10) )
  {
    *(_WORD *)(a1 + 18) -= *(_WORD *)(a1 + 26) - *(_WORD *)(a1 + 10);
    *(_WORD *)(a1 + 14) += *(_WORD *)(a1 + 26) - *(_WORD *)(a1 + 10);
    *(_WORD *)(a1 + 10) = *(_WORD *)(a1 + 26);
  }
  if ( *(_WORD *)(a1 + 24) > (signed int)*(_WORD *)(a1 + 8) )
  {
    *(_WORD *)(a1 + 16) -= *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 8);
    *(_WORD *)(a1 + 12) += *(_WORD *)(a1 + 24) - *(_WORD *)(a1 + 8);
    *(_WORD *)(a1 + 8) = *(_WORD *)(a1 + 24);
  }
  if ( *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26) > v2 )
  {
    if ( *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26) - v2 < *(_WORD *)(a1 + 18) )
      *(_WORD *)(a1 + 18) = *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 26) - v2;
    if ( *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24) > v3 )
    {
      if ( *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24) - v3 < *(_WORD *)(a1 + 16) )
        *(_WORD *)(a1 + 16) = *(_WORD *)(a1 + 28) + *(_WORD *)(a1 + 24) - v3;
      if ( (signed int)*(_WORD *)(a1 + 18) > 0 )
      {
        if ( (signed int)*(_WORD *)(a1 + 16) > 0 )
        {
          *(_BYTE *)a1 = 1;
          result = a1;
        }
        else
        {
          result = 0;
        }
      }
      else
      {
        result = 0;
      }
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10021510) --------------------------------------------------------
int __cdecl sub_10021510(int a1, __int16 a2, __int16 a3, __int16 a4)
{
  int result; // eax@5
  int v5; // [sp+0h] [bp-18h]@6
  __int16 v6; // [sp+4h] [bp-14h]@6
  int v7; // [sp+8h] [bp-10h]@1
  __int16 v8; // [sp+Ch] [bp-Ch]@6
  __int16 v9; // [sp+10h] [bp-8h]@1
  __int16 v10; // [sp+14h] [bp-4h]@1

  v7 = *(_DWORD *)(a1 + 36);
  *(_DWORD *)(a1 + 36) = *(_DWORD *)(a1 + 48);
  v10 = *(_WORD *)(a1 + 42) + a2;
  v9 = *(_WORD *)(a1 + 40) + a3;
  if ( v10 - a4 < *(_WORD *)(a1 + 30) + (signed int)*(_WORD *)(a1 + 26)
    && a4 + v10 >= *(_WORD *)(a1 + 26)
    && v9 - a4 < *(_WORD *)(a1 + 28) + (signed int)*(_WORD *)(a1 + 24)
    && a4 + v9 >= *(_WORD *)(a1 + 24) )
  {
    v8 = 0;
    v6 = a4;
    v5 = 1 - a4;
    while ( v8 < v6 )
    {
      if ( v5 >= 0 )
      {
        *(_WORD *)(a1 + 10) = v8 + v10;
        *(_WORD *)(a1 + 8) = v6 + v9;
        *(_WORD *)(a1 + 14) = v10 - v8;
        sub_10020040(a1);
        *(_WORD *)(a1 + 8) = v9 - v6;
        sub_10020040(a1);
        v5 -= 2 * v6-- - 2;
      }
      *(_WORD *)(a1 + 10) = v6 + v10;
      *(_WORD *)(a1 + 8) = v8 + v9;
      *(_WORD *)(a1 + 14) = v10 - v6;
      sub_10020040(a1);
      *(_WORD *)(a1 + 8) = v9 - v8;
      sub_10020040(a1);
      v5 += 2 * v8++ + 3;
    }
    result = v8;
    if ( v8 == v6 )
    {
      *(_WORD *)(a1 + 10) = v6 + v10;
      *(_WORD *)(a1 + 8) = v8 + v9;
      *(_WORD *)(a1 + 14) = v10 - v6;
      sub_10020040(a1);
      *(_WORD *)(a1 + 8) = v9 - v8;
      LOBYTE(result) = sub_10020040(a1);
    }
    *(_DWORD *)(a1 + 36) = v7;
  }
  else
  {
    result = v7;
    *(_DWORD *)(a1 + 36) = v7;
  }
  return result;
}

//----- (10021770) --------------------------------------------------------
void __cdecl sub_10021770(int a1, int a2, int a3, float *a4, int a5)
{
  int v5; // edi@1
  int v6; // esi@3
  int v7; // ebx@5
  float *v8; // eax@9
  char v9; // [sp+10h] [bp-8h]@5

  v5 = a1;
  *(float *)&a1 = *(double *)a1;
  *(float *)&a1 = *(float *)&a1 - 6.283185005187988;
  a1 &= 0x7FFFFFFFu;
  if ( *(float *)&a1 < 0.1
    || (*(float *)&a1 = *(double *)(v5 + 8),
        *(float *)&a1 = *(float *)&a1 - 6.283185005187988,
        a1 &= 0x7FFFFFFFu,
        *(float *)&a1 < 0.1)
    || (v6 = a2,
        *(float *)&a1 = *(double *)a2,
        *(float *)&a1 = *(float *)&a1 - 6.283185005187988,
        a1 &= 0x7FFFFFFFu,
        *(float *)&a1 < 0.1)
    || (*(float *)&a1 = *(double *)(a2 + 8),
        *(float *)&a1 = *(float *)&a1 - 6.283185005187988,
        a1 &= 0x7FFFFFFFu,
        *(float *)&a1 < 0.1) )
  {
    v8 = (float *)a5;
    *a4 = 9.9999996e24;
    *v8 = 9.9999996e24;
  }
  else
  {
    sub_10063820(v5, (int)&v9);
    v7 = a3;
    if ( (_BYTE)a3 )
      *(float *)&a1 = sub_10019500(a3);
    else
      sub_10047FA0(&v9, &a1);
    sub_10023310(v5, v6, v7, (int)a4, a5, *(float *)&a1);
  }
}
// 10047FA0: using guessed type _DWORD __cdecl sub_10047FA0(_DWORD, _DWORD);

//----- (100218A0) --------------------------------------------------------
int __cdecl sub_100218A0(int a1, float a2, float a3, int a4, int a5)
{
  float v6; // [sp+1Ch] [bp-Ch]@2
  char v7; // [sp+20h] [bp-8h]@1

  sub_10063820(a1, (int)&v7);
  if ( (_BYTE)a4 )
    v6 = 0.0;
  else
    sub_10047FA0(&v7, &v6);
  return sub_10024040(a1, a2, a3, a4, a5, v6);
}
// 10047FA0: using guessed type _DWORD __cdecl sub_10047FA0(_DWORD, _DWORD);

//----- (10021910) --------------------------------------------------------
char __cdecl sub_10021910(_BYTE *a1)
{
  char v1; // al@2
  char result; // al@3

  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    v1 = *(_BYTE *)(dword_10504EDC + 901);
    if ( *a1 == v1 )
    {
      sub_1004F2C0();
      result = 0;
    }
    else
    {
      *a1 = v1;
      sub_1004F2C0();
      result = 1;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021950) --------------------------------------------------------
char sub_10021950()
{
  char result; // al@2

  if ( !sub_1004F050() || (result = *(_BYTE *)(dword_10504EDC + 812), (unsigned __int8)result >= 0x66u) && result != -1 )
    result = -1;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021970) --------------------------------------------------------
signed __int16 sub_10021970()
{
  signed __int16 result; // ax@2

  if ( sub_1004F050() )
    result = *(_WORD *)(dword_10504EDC + 16);
  else
    result = 1;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021990) --------------------------------------------------------
double sub_10021990()
{
  float v0; // ST00_4@2
  double result; // st7@2
  float v2; // [sp+0h] [bp-4h]@1

  v2 = 30.866667;
  if ( !sub_1004F050() )
    return v2;
  v0 = *(float *)(dword_10504EDC + 852);
  result = v0;
  if ( (LODWORD(v0) & 0x7F800000) == 2139095040 || result > 180.05556 )
    return (float)180.05556;
  if ( result < 30.86666679382324 )
    result = (float)30.866667;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021A00) --------------------------------------------------------
char sub_10021A00()
{
  char result; // al@2

  if ( sub_1004F050() )
    result = *(_BYTE *)(dword_10504EDC + 95);
  else
    result = 1;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021A20) --------------------------------------------------------
char __cdecl sub_10021A20(unsigned __int8 a1, int a2, int a3)
{
  char result; // al@6

  if ( sub_1004F050() )
  {
    if ( a1 >= *(_BYTE *)(dword_10504ED0 + 4)
      && (a1 == -1 || a1 < *(_BYTE *)(dword_10504ED0 + 5) || a1 > *(_BYTE *)(dword_10504ED0 + 3)) )
    {
      result = 0;
    }
    else
    {
      sub_1004F2D0();
      sub_1004F290(a2, dword_10504ED0 + 180 * (a1 + 4));
      sub_1004F290(a3, 180 * a1 + dword_10504ED0 + 728);
      sub_1004F2C0();
      result = 1;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504ED0: using guessed type int dword_10504ED0;

//----- (10021AA0) --------------------------------------------------------
signed int sub_10021AA0()
{
  signed int result; // eax@2

  if ( sub_1004F050() )
    result = *(_DWORD *)(dword_10504EDC + 844);
  else
    result = 0x3FFFF;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021AC0) --------------------------------------------------------
char __cdecl sub_10021AC0(float *a1)
{
  char result; // al@1

  result = sub_1004F050();
  if ( result )
  {
    result = dword_10504EDC;
    *a1 = *(float *)(dword_10504EDC + 920);
  }
  else
  {
    *a1 = 0.0;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021AF0) --------------------------------------------------------
char __cdecl sub_10021AF0(int a1)
{
  char v1; // bl@2
  char result; // al@9
  char v3; // [sp+4h] [bp-28h]@2
  char v4; // [sp+Ch] [bp-20h]@6
  char v5; // [sp+Dh] [bp-1Fh]@7

  if ( !sub_1004F050() )
    goto LABEL_13;
  sub_100192B0((int)&v3);
  v1 = 1;
  sub_1004F2D0();
  if ( 9.9999996e24 == *(float *)(dword_10504EDC + 864) || 9.9999996e24 == *(float *)(dword_10504EDC + 868) )
    v1 = 0;
  sub_10063970(dword_10504EDC + 864, a1);
  sub_1004F2C0();
  if ( v1 && v4 == 1 && (v5 == 2 || v5 == 3) )
  {
    result = 1;
  }
  else
  {
LABEL_13:
    *(double *)a1 = 1.0e25;
    result = 0;
    *(double *)(a1 + 8) = 1.0e25;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021BB0) --------------------------------------------------------
bool __cdecl sub_10021BB0(void *a1)
{
  bool result; // al@2

  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    memcpy(a1, (const void *)(dword_10504EDC + 1200), 8u);
    result = sub_1004F2C0();
  }
  else
  {
    result = (char)a1;
    *((float *)a1 + 1) = 0.0;
    *(_BYTE *)a1 = 0;
    *((_BYTE *)a1 + 1) = 6;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10021BF0) --------------------------------------------------------
char __cdecl sub_10021BF0(char a1, unsigned __int16 a2, int a3)
{
  char v3; // bl@1
  char v4; // di@2
  float *v5; // ebp@3
  char *v6; // eax@3
  int v7; // edi@6
  __int16 v8; // cx@6
  bool v9; // zf@8
  int v10; // eax@9
  unsigned __int8 v11; // al@11
  unsigned __int8 v12; // dl@12
  unsigned __int8 v13; // bl@13
  unsigned __int8 v14; // cl@14
  int v15; // ebx@51
  int v16; // edx@51
  unsigned __int8 v17; // cl@51
  double v18; // st7@54
  double v19; // ST14_8@59
  float v20; // ST10_4@59
  double v21; // st7@65
  int v22; // ecx@69
  bool v23; // c3@69
  float *v24; // ecx@69
  int v25; // esi@73
  char result; // al@76
  float v27; // [sp+28h] [bp-58h]@51
  int v28; // [sp+30h] [bp-50h]@8
  char v29; // [sp+3Ch] [bp-44h]@73
  char v30; // [sp+40h] [bp-40h]@73
  _DWORD *v31; // [sp+44h] [bp-3Ch]@1
  int v32; // [sp+48h] [bp-38h]@59
  char v33; // [sp+58h] [bp-28h]@2
  char v34; // [sp+61h] [bp-1Fh]@8

  *(float *)(a3 + 8) = 9.9999996e24;
  *(float *)(a3 + 12) = 6.283185;
  v3 = 0;
  *(float *)(a3 + 16) = 6.283185;
  *(_BYTE *)a3 = 1;
  *(float *)(a3 + 20) = 6.283185;
  *(_BYTE *)(a3 + 1) = 0;
  *(float *)(a3 + 24) = 6.283185;
  *(_BYTE *)(a3 + 2) = 0;
  *(_BYTE *)(a3 + 3) = 0;
  *(float *)(a3 + 32) = 9.9999996e24;
  *(_BYTE *)(a3 + 4) = -1;
  *(float *)(a3 + 36) = 9.9999996e24;
  *(float *)(a3 + 40) = 9.9999996e24;
  *(float *)(a3 + 44) = 6.283185;
  *(_BYTE *)(a3 + 5) = 3;
  *(float *)(a3 + 48) = 6.283185;
  *(_BYTE *)(a3 + 28) = 0;
  *(_BYTE *)(a3 + 29) = 0;
  *(float *)(a3 + 56) = 9.9999996e24;
  v31 = (_DWORD *)(a3 + 44);
  *(float *)(a3 + 60) = 9.9999996e24;
  *(_BYTE *)(a3 + 52) = 0;
  *(_WORD *)(a3 + 68) = 0;
  *(_WORD *)(a3 + 70) = 0;
  *(_WORD *)(a3 + 72) = 0;
  *(_WORD *)(a3 + 74) = 0;
  if ( sub_1004F050() )
  {
    sub_100192B0((int)&v33);
    v4 = a1;
    if ( sub_10022DE0(a1) )
    {
      v5 = (float *)sub_10016830(a1);
      v6 = (char *)sub_10016850(a1);
      if ( !v5 || !v6 || a2 >= 0x1F4u )
        goto LABEL_76;
      v7 = (int)&v6[44 * a2];
      v8 = (*(_BYTE *)(v7 + 326) >> 1) & 3;
      if ( v8 != 1 && v8 != 2 )
      {
LABEL_75:
        v4 = a1;
LABEL_76:
        sub_10022DD0(v4);
        return v3;
      }
      v9 = v34 == 2;
      v28 = (int)&v6[44 * *(_WORD *)(v7 + 334) + 324];
      *(_BYTE *)a3 = BYTE1(v5[45 * *(_BYTE *)(v7 + 324) + 167]);
      if ( v9 )
      {
        v10 = *(_BYTE *)(v7 + 324);
        if ( v10 + 1 < *((_BYTE *)v5 + 4) )
          *(_BYTE *)a3 = BYTE1(v5[45 * v10 + 212]);
      }
      *(_BYTE *)(a3 + 1) = *(_BYTE *)(v7 + 324) >= 0x64u;
      *(_BYTE *)(a3 + 2) = (*(_BYTE *)(v7 + 326) >> 3) & 1;
      v11 = *((_BYTE *)v5 + 239);
      if ( v11 <= 3u )
        goto LABEL_81;
      v12 = *((_BYTE *)v5 + 241);
      if ( v12 == -1 )
        goto LABEL_81;
      v13 = *((_BYTE *)v5 + 244);
      if ( v13 == -1 )
        goto LABEL_81;
      v14 = *(_BYTE *)(v7 + 324);
      if ( v14 < v12 || v14 > v13 )
        goto LABEL_81;
      if ( v11 == 6 && v5[97] == 32767.0 && 0.0 == *(float *)(dword_10504EDC + 956) )
      {
        *(_BYTE *)(a3 + 3) = 2;
        goto LABEL_23;
      }
      if ( 9.9999996e24 == *(float *)(v7 + 344) )
LABEL_81:
        *(_BYTE *)(a3 + 3) = 0;
      else
        *(_BYTE *)(a3 + 3) = 1;
LABEL_23:
      switch ( ((unsigned int)*(_WORD *)(v7 + 326) >> 4) & 0x3F )
      {
        case 5u:
          *(_BYTE *)(a3 + 5) = 0;
          break;
        case 6u:
          *(_BYTE *)(a3 + 5) = 1;
          break;
        case 3u:
        case 4u:
        case 7u:
        case 8u:
          *(_BYTE *)(a3 + 5) = 2;
          break;
        case 0xAu:
          *(_BYTE *)(a3 + 5) = 4;
          break;
        case 0xBu:
          *(_BYTE *)(a3 + 5) = 5;
          break;
        case 0xCu:
          *(_BYTE *)(a3 + 5) = 6;
          break;
        case 0xDu:
          *(_BYTE *)(a3 + 5) = 7;
          break;
        case 0xEu:
          *(_BYTE *)(a3 + 5) = 8;
          break;
        case 0xFu:
          *(_BYTE *)(a3 + 5) = 9;
          break;
        case 0x10u:
          *(_BYTE *)(a3 + 5) = 10;
          break;
        case 0x11u:
          *(_BYTE *)(a3 + 5) = 11;
          break;
        case 0x12u:
          *(_BYTE *)(a3 + 5) = 12;
          break;
        case 0x13u:
          *(_BYTE *)(a3 + 5) = 13;
          break;
        case 0x14u:
          *(_BYTE *)(a3 + 5) = 14;
          break;
        case 0x15u:
          *(_BYTE *)(a3 + 5) = 15;
          break;
        case 0x16u:
          *(_BYTE *)(a3 + 5) = 16;
          break;
        case 0x17u:
          *(_BYTE *)(a3 + 5) = 17;
          break;
        case 0x18u:
          *(_BYTE *)(a3 + 5) = 18;
          break;
        case 0x19u:
          *(_BYTE *)(a3 + 5) = 19;
          break;
        case 0x1Au:
          *(_BYTE *)(a3 + 5) = 20;
          break;
        case 0x1Bu:
          *(_BYTE *)(a3 + 5) = 21;
          break;
        case 0x1Cu:
          *(_BYTE *)(a3 + 5) = 22;
          break;
        case 0x1Du:
          *(_BYTE *)(a3 + 5) = 23;
          break;
        case 0x1Eu:
          *(_BYTE *)(a3 + 5) = 24;
          break;
        case 0x1Fu:
          *(_BYTE *)(a3 + 5) = 25;
          break;
        case 0x20u:
          *(_BYTE *)(a3 + 5) = 26;
          break;
        default:
          *(_BYTE *)(a3 + 5) = 3;
          break;
      }
      *(_BYTE *)(a3 + 4) = *(_BYTE *)(v7 + 324);
      v15 = a3 + 12;
      *(float *)(a3 + 8) = *(float *)(v7 + 336);
      *(_DWORD *)v15 = *(_DWORD *)(v28 + 36);
      *(_DWORD *)(v15 + 4) = *(_DWORD *)(v28 + 40);
      *(_DWORD *)(a3 + 20) = *(_DWORD *)(v7 + 360);
      v16 = a3 + 20;
      *(_DWORD *)(a3 + 24) = *(_DWORD *)(v7 + 364);
      *(_BYTE *)(a3 + 52) = (*(_WORD *)(v7 + 326) >> 15) & 1;
      v27 = *(float *)(v7 + 344);
      *(float *)(a3 + 60) = v27;
      v17 = *(_BYTE *)(v7 + 324);
      if ( v17 < 0x64u && v17 > *((_BYTE *)v5 + 244) || *(_WORD *)(v7 + 326) & 0x8000 )
      {
        v18 = *(float *)(v7 + 344);
      }
      else
      {
        if ( v17 == *((_BYTE *)v5 + 241) )
        {
          if ( v17 != *(_BYTE *)v28 && *(_BYTE *)(dword_10504EDC + 930) && !*((_BYTE *)v5 + 237) )
          {
            sub_10063970(v28 + 36, (int)&v32);
            v19 = v5[91];
            v20 = sub_10022E90(0, *(_WORD *)(v7 + 334));
            sub_10029CB0((int)&v32, v20, v19, (int)(v5 + 108), (int)(v5 + 130), a3 + 56);
            v16 = a3 + 20;
LABEL_64:
            if ( *(_BYTE *)(dword_10504EDC + 1212) == 1 )
              v21 = *(float *)(dword_10504EDC + 692) - *(float *)(dword_10504EDC + 260);
            else
              v21 = 9.9999996e24;
            *(float *)(a3 + 64) = v21;
            if ( *(_BYTE *)(dword_10504EDC + 264) )
            {
              *(_WORD *)(a3 + 68) = (signed int)(*(float *)(dword_10504EDC + 268) * 1852.0 * 2.0);
              *(_WORD *)(a3 + 70) = (signed int)(2.0 * (1852.0 * *(float *)(dword_10504EDC + 268)));
            }
            else
            {
              v22 = 45 * *(_BYTE *)(v7 + 324);
              v23 = -1.0 == v5[v22 + 177];
              v24 = &v5[v22 + 177];
              if ( v23 )
              {
                *(_WORD *)(a3 + 68) = *(_WORD *)(v28 + 6);
                *(_WORD *)(a3 + 70) = *(_WORD *)(v7 + 330);
              }
              else
              {
                *(_WORD *)(a3 + 68) = (signed int)(*v24 * 1852.0 * 2.0);
                *(_WORD *)(a3 + 70) = (signed int)(2.0 * (1852.0 * v5[45 * *(_BYTE *)(v7 + 324) + 177]));
              }
            }
            *(_WORD *)(a3 + 72) = *(_WORD *)(v28 + 4);
            *(_WORD *)(a3 + 74) = *(_WORD *)(v7 + 328);
            *(_BYTE *)(a3 + 28) = 0;
            if ( (*(_BYTE *)(v7 + 326) & 6) == 2 )
            {
              *(_BYTE *)(a3 + 28) = 1;
              *(_BYTE *)(a3 + 29) = (*(_WORD *)(v7 + 326) & 0xC00) == 2048;
              *(float *)(a3 + 32) = *(float *)(v7 + 356);
              v25 = (int)v31;
              *v31 = *(_DWORD *)(v7 + 348);
              *(_DWORD *)(v25 + 4) = *(_DWORD *)(v7 + 352);
              sub_10022FC0(v25, v16, (float *)&v29, (float *)(a3 + 36), (float *)&v30);
              sub_10022FC0(v25, v15, (float *)&v29, (float *)(a3 + 40), (float *)&v30);
            }
            v3 = 1;
            goto LABEL_75;
          }
          v16 = a3 + 20;
        }
        v18 = 9.9999996e24;
        if ( 9.9999996e24 != v27 )
          v18 = *(float *)(v28 + 20);
      }
      *(float *)(a3 + 56) = v18;
      goto LABEL_64;
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (100222A0) --------------------------------------------------------
char __usercall sub_100222A0@<al>(char a1@<bl>, int a2@<esi>, double a3@<st0>)
{
  char v3; // cl@1
  char result; // al@1
  float v5; // ST10_4@7
  char v6; // [sp+3h] [bp-9h]@1

  v6 = sub_10021950();
  v3 = sub_10022C70(a1, a2);
  result = 0;
  if ( !a1 && v6 != -1 && v3 != -1 )
  {
    if ( (unsigned __int8)v3 < (unsigned __int8)v6 )
      goto LABEL_12;
    if ( v3 != v6 )
      return result;
    if ( sub_10029F50(a2)
      && (sub_1004F2B0(*(_DWORD *)(dword_10504EDC + 296)),
          v5 = a3 * *(float *)(dword_10504EDC + 332) + *(float *)(dword_10504EDC + 316),
          -sub_10022F40(0, a2) > v5) )
    {
LABEL_12:
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}
// 1004F2B0: using guessed type _DWORD __cdecl sub_1004F2B0(_DWORD);
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10022340) --------------------------------------------------------
char __usercall sub_10022340@<al>(int a1@<eax>, int a2@<edx>, unsigned __int8 a3@<cl>, char a4)
{
  int v4; // esi@1
  unsigned __int8 v5; // dl@2
  unsigned __int8 v6; // dl@4
  unsigned __int8 v7; // dl@7
  char result; // al@9
  unsigned __int8 v9; // dl@10
  unsigned __int8 v10; // dl@13
  unsigned __int8 v11; // dl@15
  unsigned __int8 v12; // dl@17
  unsigned __int8 v13; // dl@19
  int v14; // ecx@21
  int v15; // edx@21
  char v16; // cl@21

  v4 = a2;
  if ( a4 )
    return 0;
  v5 = *(_BYTE *)(a1 + 6);
  if ( v5 != -1 && v5 <= a3 )
    return 64;
  v6 = *(_BYTE *)(a1 + 8);
  if ( v6 != -1 && v6 <= a3 )
  {
    if ( *(_BYTE *)(v4 + 244) == -1 )
      return 0;
    v7 = *(_BYTE *)(a1 + 9);
    if ( v7 != -1 && v7 >= a3 )
      return 0;
  }
  v9 = *(_BYTE *)(a1 + 5);
  if ( v9 != -1 && v9 >= a3 )
    return 64;
  v10 = *(_BYTE *)(v4 + 586);
  if ( v10 != -1 && v10 >= *(_BYTE *)((a3 << 6) + a1 + 22324) )
    goto LABEL_29;
  v11 = *(_BYTE *)(v4 + 244);
  if ( v11 != -1 && v11 <= *(_BYTE *)((a3 << 6) + a1 + 22324) )
    goto LABEL_29;
  v12 = *(_BYTE *)(v4 + 600);
  if ( v12 != -1 && v12 <= *(_BYTE *)((a3 << 6) + a1 + 22324) )
    goto LABEL_30;
  v13 = *(_BYTE *)(v4 + 242);
  if ( v13 != -1 && v13 <= *(_BYTE *)((a3 << 6) + a1 + 22324) )
    goto LABEL_30;
  v14 = a3 << 6;
  v15 = v14 + a1;
  v16 = *(_BYTE *)(v14 + a1 + 22325);
  if ( v16 & 7 )
    return v16 & 0x40;
  if ( *(float *)((*(_BYTE *)(a1 + 10) << 6) + a1 + 22288) * 0.5 < *(float *)(v15 + 22352) )
LABEL_30:
    result = 0;
  else
LABEL_29:
    result = 64;
  return result;
}

//----- (10022450) --------------------------------------------------------
char __cdecl sub_10022450(char a1, unsigned int a2, int a3)
{
  char v3; // al@1
  char result; // al@1
  _BYTE *v5; // eax@3
  _BYTE *v6; // esi@3
  void *v7; // eax@3
  int v8; // ebx@3
  int v9; // eax@3
  int v10; // eax@5
  int v11; // ebp@5
  int v12; // edx@5
  int v13; // esi@5
  char v14; // al@5
  int v15; // eax@9
  int v16; // eax@9
  int v17; // eax@9
  int v18; // eax@9
  bool v19; // zf@10
  int v20; // eax@12
  char v21; // al@14
  int v22; // ecx@14
  double v23; // st7@17
  int v24; // eax@18
  float v25; // ST24_4@21
  double v26; // st7@24
  int v27; // eax@25
  int v28; // eax@26
  int v29; // ecx@26
  double v30; // st6@28
  int v31; // eax@29
  int v32; // ecx@34
  double v33; // st7@38
  float v34; // ST24_4@38
  double v35; // st7@42
  double v36; // st7@46
  int v37; // eax@50
  char v38; // bl@50
  int v39; // ecx@56
  double v40; // ST2C_8@69
  double v41; // st7@69
  char v42; // cl@74
  unsigned __int8 v43; // [sp+17h] [bp-45h]@3
  int v44; // [sp+18h] [bp-44h]@5
  int v45; // [sp+18h] [bp-44h]@38
  int v46; // [sp+1Ch] [bp-40h]@3
  float v47; // [sp+20h] [bp-3Ch]@61
  int v48; // [sp+2Ch] [bp-30h]@3
  char v49; // [sp+30h] [bp-2Ch]@1
  unsigned __int8 v50; // [sp+34h] [bp-28h]@2
  char v51; // [sp+42h] [bp-1Ah]@32

  *(float *)(a3 + 32) = 9.9999996e24;
  *(_BYTE *)(a3 + 7) = 0;
  *(float *)(a3 + 36) = 9.9999996e24;
  *(_BYTE *)(a3 + 4) = 0;
  *(_BYTE *)(a3 + 5) = 0;
  *(float *)(a3 + 60) = 0.0;
  *(_BYTE *)(a3 + 6) = 0;
  *(_BYTE *)(a3 + 8) = 0;
  *(_DWORD *)(a3 + 15) = 0;
  *(_BYTE *)(a3 + 19) = 0;
  *(float *)(a3 + 40) = 9.9999996e24;
  *(float *)(a3 + 48) = 9.9999996e24;
  *(float *)(a3 + 52) = 9.9999996e24;
  *(_DWORD *)(a3 + 44) = 0x7FFFFFFF;
  *(float *)(a3 + 80) = 9.9999996e24;
  *(_DWORD *)(a3 + 56) = 0x7FFFFFFF;
  *(float *)(a3 + 84) = 9.9999996e24;
  *(_BYTE *)(a3 + 11) = 1;
  *(_DWORD *)(a3 + 20) = 0;
  *(_DWORD *)(a3 + 24) = 0;
  *(_DWORD *)(a3 + 28) = 0;
  *(float *)(a3 + 64) = 9.9999996e24;
  *(float *)(a3 + 104) = 9.9999996e24;
  *(float *)(a3 + 108) = 9.9999996e24;
  *(float *)(a3 + 112) = 9.9999996e24;
  *(_BYTE *)(a3 + 1) = 0;
  *(float *)(a3 + 116) = 9.9999996e24;
  *(_BYTE *)(a3 + 2) = 0;
  *(float *)(a3 + 68) = 9.9999996e24;
  *(_BYTE *)(a3 + 3) = 0;
  *(float *)(a3 + 88) = 9.9999996e24;
  *(_BYTE *)(a3 + 12) = 23;
  *(float *)(a3 + 92) = 9.9999996e24;
  v3 = sub_10022E50(a1, a2);
  *(float *)(a3 + 72) = 9.9999996e24;
  *(_BYTE *)(a3 + 10) = v3;
  *(float *)(a3 + 96) = 9.9999996e24;
  *(_BYTE *)(a3 + 9) = 0;
  *(float *)(a3 + 100) = 9.9999996e24;
  *(_BYTE *)(a3 + 14) = 0;
  *(_DWORD *)(a3 + 76) = 0x3FFFF;
  *(_BYTE *)(a3 + 13) = 3;
  *(_BYTE *)a3 = 0;
  result = sub_100199B0();
  v49 = result;
  if ( *(_BYTE *)(a3 + 10) != -1 )
  {
    *(_BYTE *)a3 = sub_10029F50(a2) != 0;
    *(_BYTE *)(a3 + 1) = sub_1002A020(a2);
    sub_100192B0((int)&v50);
    result = sub_1004F2D0();
    if ( result )
    {
      v5 = sub_10016830(a1);
      v6 = v5;
      v46 = (int)v5;
      v7 = sub_10016850(a1);
      v8 = (int)v7;
      v48 = (int)v7;
      LOBYTE(v9) = sub_10029E80((int)v7, a2);
      v43 = v9;
      if ( !v6 || (_BYTE)v9 == -1 )
        return sub_1004F2C0();
      v9 = (unsigned __int8)v9;
      v44 = v9;
      v10 = (unsigned __int8)v9 << 6;
      v11 = v10 + v8;
      v12 = 180 * *(_BYTE *)(v10 + v8 + 22324);
      LOBYTE(v10) = v6[v12 + 668];
      v13 = (int)&v6[v12 + 664];
      *(_BYTE *)(a3 + 2) = v10;
      *(_BYTE *)(a3 + 3) = (*(_BYTE *)(180 * *(_BYTE *)(v11 + 22324) + v46 + 612) >> 4) & 1;
      v14 = *(_BYTE *)(v13 + 7);
      if ( !v14 || v14 == 16 )
      {
        *(_DWORD *)(a3 + 88) = *(_DWORD *)(v13 + 92);
        *(_DWORD *)(a3 + 92) = *(_DWORD *)(v13 + 96);
        *(_BYTE *)(a3 + 13) = *(_BYTE *)(v13 + 8);
        *(float *)(a3 + 68) = *(float *)(v13 + 88);
      }
      *(_DWORD *)(a3 + 80) = *(_DWORD *)(v13 + 56);
      *(_DWORD *)(a3 + 84) = *(_DWORD *)(v13 + 60);
      if ( sub_10029F50(a2) )
      {
        v15 = 44 * *(_WORD *)(((v44 + 349) << 6) + v8);
        *(_DWORD *)(a3 + 96) = *(_DWORD *)(v15 + v8 + 360);
        *(_DWORD *)(a3 + 100) = *(_DWORD *)(v15 + v8 + 364);
        v16 = sub_10029F20(a2);
        v17 = ((unsigned __int8)sub_10029E80(v8, v16) << 6) + v8;
        *(float *)(a3 + 64) = *(float *)(v11 + 22352) - *(float *)(v17 + 22352);
        *(_DWORD *)(a3 + 76) = *(_DWORD *)(180 * *(_BYTE *)(v17 + 22324) + v46 + 716);
        v18 = 180 * *(_BYTE *)(v17 + 22324) + v46 + 678;
        *(_DWORD *)(a3 + 20) = *(_DWORD *)v18;
        *(_DWORD *)(a3 + 24) = *(_DWORD *)(v18 + 4);
        *(_DWORD *)(a3 + 28) = *(_DWORD *)(v18 + 8);
      }
      else
      {
        v19 = *(_BYTE *)(a3 + 2) == 0;
        *(_DWORD *)(a3 + 96) = *(_DWORD *)(v13 + 64);
        *(_DWORD *)(a3 + 100) = *(_DWORD *)(v13 + 68);
        if ( !v19 )
        {
          *(_DWORD *)(a3 + 112) = *(_DWORD *)(v13 + 80);
          *(_DWORD *)(a3 + 116) = *(_DWORD *)(v13 + 84);
          *(_DWORD *)(a3 + 104) = *(_DWORD *)(v13 + 72);
          *(_DWORD *)(a3 + 108) = *(_DWORD *)(v13 + 76);
        }
        *(_DWORD *)(a3 + 20) = *(_DWORD *)(v13 + 14);
        *(_DWORD *)(a3 + 24) = *(_DWORD *)(v13 + 18);
        v20 = *(_DWORD *)(v13 + 22);
        *(float *)(a3 + 64) = 0.0;
        *(_DWORD *)(a3 + 28) = v20;
        *(_DWORD *)(a3 + 76) = *(_DWORD *)(v13 + 52);
      }
      *(_BYTE *)(a3 + 11) = *(_BYTE *)(v13 + 5);
      *(_BYTE *)(a3 + 12) = *(_BYTE *)(v13 + 7);
      *(_DWORD *)(a3 + 15) = *(_DWORD *)(v13 + 9);
      *(_BYTE *)(a3 + 19) = *(_BYTE *)(v13 + 13);
      if ( !sub_1004F050() )
        return sub_1004F2C0();
      v21 = *(_BYTE *)(v11 + 22325);
      v22 = *(_BYTE *)(v11 + 22325) & 0x18;
      *(_BYTE *)(a3 + 7) = v21;
      switch ( v22 )
      {
        case 8:
          v28 = 180 * *(_BYTE *)(a3 + 10);
          *(_BYTE *)(a3 + 4) = *(_BYTE *)(v28 + v46 + 774);
          *(_BYTE *)(a3 + 5) = *(_BYTE *)(v46 + v28 + 775);
          v29 = sub_1002A190((_BYTE *)(dword_10504ED8 + 284), a2);
          v23 = 9.9999996e24;
          if ( v29 && 9.9999996e24 != *(float *)(v29 + 16) )
          {
            *(float *)(a3 + 32) = *(float *)(v29 + 16);
            v30 = *(float *)(v29 + 20);
            *(_BYTE *)(a3 + 6) = 1;
          }
          else
          {
            v31 = 180 * *(_BYTE *)(a3 + 10);
            *(float *)(a3 + 32) = *(float *)(v31 + v46 + 776);
            v30 = *(float *)(v31 + v46 + 780);
          }
          *(float *)(a3 + 36) = v30;
          break;
        case 16:
          if ( (v21 & 7) == 1 )
          {
            *(_BYTE *)(a3 + 4) = 0;
            *(float *)(a3 + 32) = *(float *)(v11 + 22384);
            *(_BYTE *)(a3 + 5) = 0;
            *(float *)(a3 + 36) = 9.9999996e24;
            v25 = sub_10048030();
            v23 = 9.9999996e24;
            if ( v25 < (double)*(float *)(a3 + 32) )
              *(_BYTE *)(a3 + 4) = 1;
          }
          else if ( *(_BYTE *)(a3 + 1) )
          {
            *(_BYTE *)(a3 + 4) = *(_BYTE *)(dword_10504EDC + 1336);
            v26 = *(float *)(dword_10504EDC + 1340);
            *(_BYTE *)(a3 + 5) = 0;
            *(float *)(a3 + 32) = v26;
            v23 = 9.9999996e24;
            *(float *)(a3 + 36) = 9.9999996e24;
            *(float *)(a3 + 60) = *(float *)(v11 + 22360);
            *(_BYTE *)(a3 + 8) = *(_BYTE *)(v11 + 22326);
          }
          else
          {
            v27 = sub_1002A190((_BYTE *)(dword_10504ED8 + 284), a2);
            *(_BYTE *)(a3 + 4) = *(_BYTE *)(v27 + 4);
            *(float *)(a3 + 32) = *(float *)(v27 + 8);
            *(_BYTE *)(a3 + 5) = *(_BYTE *)(v27 + 5);
            *(float *)(a3 + 36) = *(float *)(v27 + 12);
            *(float *)(a3 + 60) = *(float *)(v11 + 22360);
            v23 = 9.9999996e24;
            *(_BYTE *)(a3 + 8) = *(_BYTE *)(v11 + 22326);
          }
          break;
        case 24:
          v24 = sub_1002A190((_BYTE *)(dword_10504ED8 + 284), a2);
          *(_BYTE *)(a3 + 4) = *(_BYTE *)(v24 + 4);
          *(float *)(a3 + 32) = *(float *)(v24 + 8);
          *(_BYTE *)(a3 + 5) = *(_BYTE *)(v24 + 5);
          *(float *)(a3 + 36) = *(float *)(v24 + 12);
          *(float *)(a3 + 60) = *(float *)(v11 + 22360);
          v23 = 9.9999996e24;
          *(_BYTE *)(a3 + 8) = *(_BYTE *)(v11 + 22326);
          if ( 9.9999996e24 != *(float *)(v24 + 16) )
            *(_BYTE *)(a3 + 6) = 1;
          break;
        default:
          v23 = 9.9999996e24;
          *(_BYTE *)(a3 + 4) = 0;
          *(float *)(a3 + 32) = 9.9999996e24;
          *(_BYTE *)(a3 + 5) = 0;
          *(float *)(a3 + 36) = 9.9999996e24;
          break;
      }
      if ( a1 )
      {
        v47 = *(float *)(v11 + 22352);
        *(float *)(a3 + 40) = v47;
        *(float *)(a3 + 48) = v47;
        if ( v43 )
        {
          *(float *)(a3 + 48) = v47 - *(float *)(v11 + 22288);
          *(float *)(a3 + 52) = *(float *)(v13 + 36);
        }
        else
        {
          *(float *)(a3 + 52) = *(float *)(v13 + 36);
        }
        goto LABEL_65;
      }
      if ( v51 || *(_BYTE *)(a3 + 10) < v50 )
        goto LABEL_65;
      v32 = dword_10504EDC;
      if ( v43 == *(_BYTE *)(dword_10504EDC + 1248)
        && *(_BYTE *)(dword_10504EDC + 1366) == 3
        && v23 != *(float *)(dword_10504EDC + 1436) )
      {
        v23 = *(float *)(dword_10504EDC + 1436);
        *(float *)(a3 + 60) = *(float *)(dword_10504EDC + 1436);
        v32 = dword_10504EDC;
      }
      sub_1004F2B0(*(_DWORD *)(v32 + 296));
      v33 = v23 * *(float *)(dword_10504EDC + 332) + *(float *)(dword_10504EDC + 316);
      v34 = v33;
      v45 = LODWORD(v34) & 0x7FFFFFFF;
      if ( !sub_100222A0(0, *(_DWORD *)(v11 + 22332), v33) )
      {
        if ( !v43 || sub_100222A0(0, *(_DWORD *)(v11 + 22268), v33) )
        {
          v35 = sub_10022F40(0, a2) + *(float *)&v45;
        }
        else
        {
          if ( sub_100195F0() == 1 )
            goto LABEL_45;
          v35 = *(float *)(v11 + 22352) - *(float *)(v11 + 22288);
        }
        *(float *)(a3 + 48) = v35;
      }
LABEL_45:
      if ( *(_BYTE *)(a3 + 10) == v50 )
      {
        v36 = *(float *)(dword_10504EDC + 312);
      }
      else
      {
        if ( sub_100195F0() == 1 )
          goto LABEL_50;
        v36 = *(float *)(v13 + 36);
      }
      *(float *)(a3 + 52) = v36;
LABEL_50:
      v37 = sub_10029F80(*(_BYTE *)(180 * v50 + v46 + 608), 0.0);
      v38 = sub_10029E80(v48, v37);
      if ( v38 == -1 || sub_100195F0() == 1 )
      {
        v23 = 9.9999996e24;
        *(float *)(a3 + 40) = 9.9999996e24;
      }
      else
      {
        *(float *)(a3 + 40) = *(float *)(v11 + 22352)
                            + *(float *)&v45
                            - *(float *)(((unsigned __int8)v38 << 6) + v48 + 22352);
        v23 = 9.9999996e24;
      }
      if ( *(float *)(a3 + 40) < 0.0 )
        *(float *)(a3 + 40) = v23;
      v39 = dword_10504EDC;
      if ( *(_BYTE *)(dword_10504EDC + 660) )
      {
        if ( v23 != *(float *)(a3 + 40) )
        {
          *(_DWORD *)(a3 + 44) = (signed __int64)(*(float *)(a3 + 40) / *(float *)(dword_10504EDC + 688) + 0.5);
          v39 = dword_10504EDC;
        }
        if ( v23 != *(float *)(a3 + 48) )
          *(_DWORD *)(a3 + 56) = (signed __int64)(*(float *)(a3 + 48) / *(float *)(v39 + 688) + 0.5);
      }
      v8 = v48;
LABEL_65:
      if ( v23 == *(float *)(a3 + 52) )
      {
LABEL_74:
        v42 = *(_BYTE *)(a3 + 1);
        *(_BYTE *)(a3 + 14) = *(_BYTE *)(v11 + 22327);
        *(float *)(a3 + 72) = *(float *)(v11 + 22364);
        *(_BYTE *)(a3 + 9) = sub_10022340(v8, v46, v43, v42);
        return sub_1004F2C0();
      }
      if ( (a1 || *(_BYTE *)(a3 + 10) != v50) && v49 != 3 )
      {
        if ( v49 == 1 )
        {
LABEL_73:
          *(float *)(a3 + 52) = sub_100637E0(*(float *)(a3 + 52));
          goto LABEL_74;
        }
        v41 = *(float *)(a3 + 52) - *(float *)(v13 + 40);
      }
      else
      {
        v40 = *(float *)(a3 + 52);
        v41 = v40 - sub_10019500(v49);
      }
      *(float *)(a3 + 52) = v41;
      goto LABEL_73;
    }
  }
  return result;
}
// 1004F2B0: using guessed type _DWORD __cdecl sub_1004F2B0(_DWORD);
// 10504ED8: using guessed type int dword_10504ED8;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10022C40) --------------------------------------------------------
signed int __cdecl sub_10022C40(char a1)
{
  void *v1; // eax@1
  signed int result; // eax@3

  v1 = sub_10016850(a1);
  if ( v1 && *((_BYTE *)v1 + 10) )
    result = *((_DWORD *)v1 + 5583);
  else
    result = 16744448;
  return result;
}

//----- (10022C70) --------------------------------------------------------
char __cdecl sub_10022C70(char a1, int a2)
{
  _BYTE *v2; // eax@2
  _BYTE *v3; // esi@2
  char v4; // al@2
  char result; // al@3

  if ( a2 == 16744448 )
  {
    result = -1;
  }
  else
  {
    v2 = sub_10016850(a1);
    v3 = v2;
    v4 = sub_10029E80((int)v2, a2);
    if ( v4 == -1 )
      result = -1;
    else
      result = v3[64 * (unsigned __int8)v4 + 22324];
  }
  return result;
}

//----- (10022CC0) --------------------------------------------------------
double __cdecl sub_10022CC0(char a1, unsigned __int16 a2)
{
  _BYTE *v2; // esi@1
  _WORD *v3; // eax@1
  __int16 i; // cx@4
  int v5; // ecx@5
  double v6; // st7@6
  float v8; // [sp+8h] [bp-4h]@1

  v8 = 0.0;
  v2 = sub_10016830(a1);
  v3 = sub_10016850(a1);
  if ( v2 )
  {
    if ( v3 )
    {
      if ( v2[236] )
      {
        for ( i = v3[22 * a2 + 166]; i != -1; v8 = v6 + v8 )
        {
          v5 = (int)&v3[22 * i];
          if ( *(_BYTE *)(v5 + 324) > v2[244] )
            break;
          v6 = *(float *)(v5 + 336);
          i = *(_WORD *)(v5 + 332);
        }
      }
    }
  }
  return v8;
}

//----- (10022D50) --------------------------------------------------------
signed int __cdecl sub_10022D50(char a1, int a2)
{
  _BYTE *v2; // eax@1
  _BYTE *v3; // edi@1
  unsigned __int8 v4; // cl@2
  unsigned __int8 v5; // al@2
  signed int result; // eax@5
  int v7; // esi@6

  v2 = sub_10016850(a1);
  v3 = v2;
  if ( !v2 )
    goto LABEL_5;
  v4 = v2[10];
  v5 = 0;
  if ( !v4 )
    goto LABEL_5;
  while ( *(_DWORD *)&v3[64 * v5 + 22332] != a2 )
  {
    if ( ++v5 >= v4 )
      goto LABEL_5;
  }
  v7 = v5;
  if ( v5 + 1 < v4
    && ((unsigned __int8)sub_1002A020(a2) || !(unsigned __int8)sub_1002A020(*(_DWORD *)&v3[64 * v7 + 22396])) )
  {
    result = *(_DWORD *)&v3[64 * v7 + 22396];
  }
  else
  {
LABEL_5:
    result = 16744448;
  }
  return result;
}

//----- (10022DD0) --------------------------------------------------------
bool __cdecl sub_10022DD0(char a1)
{
  bool result; // al@2

  if ( a1 )
    result = 1;
  else
    result = sub_1004F2C0();
  return result;
}

//----- (10022DE0) --------------------------------------------------------
bool __cdecl sub_10022DE0(char a1)
{
  bool result; // al@2

  if ( a1 )
    result = 1;
  else
    result = sub_1004F2D0();
  return result;
}

//----- (10022DF0) --------------------------------------------------------
signed int __cdecl sub_10022DF0(char a1, unsigned __int8 a2)
{
  _BYTE *v2; // ecx@1
  signed int result; // eax@3

  v2 = sub_10016830(a1);
  if ( v2 && a2 < v2[4] )
  {
    result = sub_10029F80(v2[180 * a2 + 608], 0.0);
  }
  else if ( a2 == 100 )
  {
    result = 16744704;
  }
  else
  {
    result = a2 != 101 ? 16744448 : 16745216;
  }
  return result;
}

//----- (10022E50) --------------------------------------------------------
char __cdecl sub_10022E50(char a1, int a2)
{
  char v2; // bl@1

  v2 = -1;
  if ( sub_10022DE0(a1) )
  {
    v2 = sub_10022C70(a1, a2);
    sub_10022DD0(a1);
  }
  return v2;
}

//----- (10022E90) --------------------------------------------------------
double __cdecl sub_10022E90(char a1, unsigned __int16 a2)
{
  float v3; // [sp+0h] [bp-4h]@1

  v3 = 0.0;
  if ( sub_1004F050() )
    v3 = sub_10022CC0(a1, a2);
  return v3;
}

//----- (10022EC0) --------------------------------------------------------
signed int __cdecl sub_10022EC0(char a1, int a2)
{
  signed int v2; // edi@1

  v2 = 16744448;
  if ( sub_1004F050() && sub_10022DE0(a1) )
  {
    v2 = sub_10022D50(a1, a2);
    sub_10022DD0(a1);
  }
  return v2;
}

//----- (10022F00) --------------------------------------------------------
signed int __cdecl sub_10022F00(char a1, unsigned __int8 a2)
{
  signed int v2; // edi@1

  v2 = 16744448;
  if ( sub_10022DE0(a1) )
  {
    v2 = sub_10022DF0(a1, a2);
    sub_10022DD0(a1);
  }
  return v2;
}

//----- (10022F40) --------------------------------------------------------
double __cdecl sub_10022F40(char a1, int a2)
{
  float *v2; // esi@2
  char v3; // bl@2
  unsigned __int8 v4; // al@3
  int v5; // eax@3
  double result; // st7@4
  float v7; // [sp+4h] [bp-4h]@1

  v7 = 0.0;
  if ( sub_10029F50(a2) )
  {
    v2 = (float *)sub_10016850(a1);
    v3 = sub_10029E80((int)v2, a2);
    if ( v3 != -1 )
    {
      v4 = sub_10022C70(a1, a2);
      v5 = sub_10022DF0(a1, v4);
      v7 = v2[16 * (unsigned __int8)v3 + 5588] - v2[16 * (unsigned __int8)sub_10029E80((int)v2, v5) + 5588];
    }
    result = v7;
  }
  else
  {
    result = v7;
  }
  return result;
}

//----- (10022FC0) --------------------------------------------------------
void __cdecl sub_10022FC0(int a1, int a2, float *a3, float *a4, float *a5)
{
  float *v5; // esi@1
  float *v6; // edi@1
  float v7; // [sp+10h] [bp-8h]@3
  float v8; // [sp+14h] [bp-4h]@3
  float v9; // [sp+1Ch] [bp+4h]@1
  float v10; // [sp+1Ch] [bp+4h]@1
  float v11; // [sp+1Ch] [bp+4h]@3
  float v12; // [sp+20h] [bp+8h]@1

  v5 = (float *)a1;
  v6 = (float *)a2;
  v9 = *(float *)(a1 + 4) - *(float *)(a2 + 4);
  v12 = sub_100637E0(v9);
  v10 = *v5 - *v6;
  if ( COERCE_FLOAT(LODWORD(v10) & 0x7FFFFFFF) >= 0.0014486233
    || COERCE_FLOAT(LODWORD(v12) & 0x7FFFFFFF) >= 0.0014486233 )
  {
    sub_10018D20((int)v5, (int)v6, a3, a4, a5);
  }
  else
  {
    sub_10018B00(v5, v6, a3, (int)&v7);
    v11 = sub_10063AA0(v7, v8);
    *a4 = v11;
    *a5 = v11;
  }
}

//----- (10023090) --------------------------------------------------------
char __cdecl sub_10023090(int a1, float a2, int a3, float a4, int a5)
{
  char v5; // bl@1
  float v6; // ST3C_4@1
  char result; // al@2
  int v8; // [sp+14h] [bp-74h]@1
  int v9; // [sp+18h] [bp-70h]@1
  int v10; // [sp+1Ch] [bp-6Ch]@1
  int v11; // [sp+28h] [bp-60h]@1
  int v12; // [sp+34h] [bp-54h]@1
  int v13; // [sp+40h] [bp-48h]@1
  int v14; // [sp+4Ch] [bp-3Ch]@5
  char v15; // [sp+58h] [bp-30h]@1
  char v16; // [sp+64h] [bp-24h]@1
  char v17; // [sp+70h] [bp-18h]@1
  char v18; // [sp+7Ch] [bp-Ch]@1

  v5 = 2;
  sub_10064040(a1, (int)&v12);
  sub_10064040(a3, (int)&v13);
  sub_10029900((int)&v12, (int)&v10, (int)&v11);
  sub_10063950(a2, (int)&v8, (int)&v9);
  sub_10064240(*(float *)&v9, (int)&v10, (int)&v10);
  sub_10064240(*(float *)&v8, (int)&v11, (int)&v11);
  sub_10064190((int)&v10, (int)&v11, (int)&v15);
  sub_10064340((int)&v12, (int)&v15, (int)&v18);
  sub_10029900((int)&v13, (int)&v10, (int)&v11);
  sub_10063950(a4, (int)&v8, (int)&v9);
  sub_10064240(*(float *)&v9, (int)&v10, (int)&v10);
  sub_10064240(*(float *)&v8, (int)&v11, (int)&v11);
  sub_10064190((int)&v10, (int)&v11, (int)&v16);
  sub_10064340((int)&v13, (int)&v16, (int)&v17);
  sub_10064340((int)&v18, (int)&v17, (int)&v10);
  v6 = sub_100641E0((int)&v10, (int)&v10);
  if ( COERCE_FLOAT(LODWORD(v6) & 0x7FFFFFFF) >= 0.000001 )
  {
    if ( sub_100641E0((int)&v10, (int)&v12) < 0.0 )
      sub_10064240(-1.0, (int)&v10, (int)&v10);
    sub_10064240(-1.0, (int)&v12, (int)&v11);
    sub_10064190((int)&v10, (int)&v11, (int)&v11);
    sub_10064240(-1.0, (int)&v13, (int)&v14);
    sub_10064190((int)&v10, (int)&v14, (int)&v14);
    if ( sub_100641E0((int)&v15, (int)&v11) < 0.0 || sub_100641E0((int)&v16, (int)&v14) < 0.0 )
      v5 = 1;
    sub_10064100((int)&v10, a5);
    result = v5;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10023310) --------------------------------------------------------
void __cdecl sub_10023310(int a1, int a2, int a3, int a4, int a5, float a6)
{
  double v6; // st7@4
  int v7; // [sp+18h] [bp+Ch]@6
  float v8; // [sp+18h] [bp+Ch]@6

  sub_100190F0(a1, a2, (float *)a4, (float *)a5);
  if ( (_BYTE)a3 != 1 && *(float *)a4 > 25.0 )
  {
    if ( (_BYTE)a3 )
      v6 = sub_10019500(a3);
    else
      v6 = a6;
    *(float *)&v7 = v6;
    v8 = *(float *)a5 - *(float *)&v7;
    *(float *)a5 = v8;
    *(float *)a5 = sub_100637E0(v8);
  }
}

//----- (10023380) --------------------------------------------------------
void __usercall sub_10023380(int a1@<ebx>, int a2@<edi>, float a3, float a4)
{
  long double v4; // st7@1
  double v5; // st7@4
  double v6; // ST20_8@7
  double v7; // st7@7
  double v8; // st7@7
  long double v9; // st7@7
  signed int v10; // esi@7
  long double v11; // st7@7
  long double v12; // st7@7
  long double v13; // st7@8
  long double v14; // st4@8
  double v15; // st7@8
  long double v16; // st4@8
  double v17; // st5@10
  float v18; // ST20_4@10
  float v19; // [sp+18h] [bp-78h]@1
  double v20; // [sp+18h] [bp-78h]@7
  double v21; // [sp+20h] [bp-70h]@7
  double v22; // [sp+28h] [bp-68h]@8
  double v23; // [sp+30h] [bp-60h]@7
  double v24; // [sp+38h] [bp-58h]@8
  double v25; // [sp+40h] [bp-50h]@7
  double v26; // [sp+48h] [bp-48h]@7
  double v27; // [sp+50h] [bp-40h]@7
  double v28; // [sp+58h] [bp-38h]@7
  double v29; // [sp+60h] [bp-30h]@7
  double v30; // [sp+68h] [bp-28h]@7
  double v31; // [sp+70h] [bp-20h]@7
  double v32; // [sp+78h] [bp-18h]@8
  double v33; // [sp+80h] [bp-10h]@8
  double v34; // [sp+88h] [bp-8h]@7

  v19 = *(float *)a2;
  v4 = v19;
  if ( (LODWORD(v19) & 0x7F800000) == 2139095040 || v4 > 1.570796251296997 )
  {
    v5 = 1.5707963;
    goto LABEL_6;
  }
  if ( v4 < -1.570796251296997 )
  {
    v5 = -1.5707963;
LABEL_6:
    v19 = v5;
    v4 = v19;
  }
  v6 = sin(v4) * 0.9966471893352525 / cos(v19);
  v27 = sin(a4);
  v7 = cos(a4);
  v23 = v7;
  v8 = sub_10063A30(v6, v7);
  v28 = v8 + v8;
  v25 = 1.0 / sqrt(v6 * v6 + 1.0);
  v26 = v6 * v25;
  v34 = v25 * v27;
  v30 = v34 * v34;
  v31 = 1.0 - v30;
  v9 = sqrt(v31 * 0.006739496742276474 + 1.0);
  v10 = 0;
  v11 = (v9 + 1.0 - 2.0) / (v9 + 1.0);
  v29 = (v11 * 0.375 * v11 - 1.0) * v11;
  v12 = a3 / 0.9966471893352525 / 6378137.0 / ((v11 * v11 * 0.25 + 1.0) / (1.0 - v11));
  v21 = v12;
  v20 = v12;
  do
  {
    v22 = sin(v12);
    v24 = cos(v20);
    v13 = cos(v20 + v28);
    v33 = v13;
    ++v10;
    v32 = v13 * v13 + v13 * v13 - 1.0;
    v14 = v29 * (((v32 * v24 + (v32 + v32 - 1.0) * (v22 * v22 * 4.0 - 3.0) * v13 * v29 / 6.0) * v29 * 0.25 - v13) * v22);
    v15 = v20;
    v20 = v14 + v21;
    v16 = v20 - v15;
    v12 = v20;
  }
  while ( fabs(v16) > 0.00000005 && v10 < 20 );
  *(float *)a1 = sub_10063A30(
                   v22 * v25 * v23 + v24 * v26,
                   sqrt((v24 * v25 * v23 - v22 * v26) * (v24 * v25 * v23 - v22 * v26) + v30) * 0.9966471893352525);
  v17 = v31 * ((4.0 - 3.0 * v31) * 0.00335281066474748 + 4.0) * 0.00335281066474748 * 0.0625;
  v18 = sub_10063A30(v22 * v27, v24 * v25 - v22 * v26 * v23)
      - 0.00335281066474748 * ((1.0 - v17) * (((v32 * v24 * v17 + v33) * v22 * v17 + v20) * v34))
      + *(float *)(a2 + 4);
  *(float *)(a1 + 4) = sub_100637E0(v18);
}

//----- (10023670) --------------------------------------------------------
void __usercall sub_10023670(int a1@<esi>)
{
  double v1; // st7@1
  float v2; // ST04_4@4
  double v3; // st6@4

  v1 = 1.570796370506287;
  while ( *(float *)a1 > v1 || *(float *)a1 < -1.570796370506287 )
  {
    v2 = *(float *)(a1 + 4) + 3.141592741012573;
    *(float *)(a1 + 4) = sub_100637E0(v2);
    v1 = 1.570796370506287;
    v3 = *(float *)a1;
    if ( v3 <= 1.570796370506287 )
      *(float *)a1 = -3.141592741012573 - v3;
    else
      *(float *)a1 = 3.141592741012573 - v3;
  }
}

//----- (100236E0) --------------------------------------------------------
void __cdecl sub_100236E0(int a1, float a2, float a3, int a4)
{
  double v4; // st5@4
  double v5; // st5@8
  double v6; // st6@10
  int v7; // ecx@13
  float v8; // edx@13
  double v9; // st7@14
  float i; // [sp+14h] [bp-24h]@16
  char v11; // [sp+18h] [bp-20h]@16
  float v12; // [sp+1Ch] [bp-1Ch]@16
  float v13; // [sp+20h] [bp-18h]@13
  float v14; // [sp+24h] [bp-14h]@8
  int v15; // [sp+28h] [bp-10h]@16
  float v16; // [sp+2Ch] [bp-Ch]@16
  int v17; // [sp+30h] [bp-8h]@13
  float v18; // [sp+34h] [bp-4h]@13

  if ( fabs(a2) < 0.0000009999999974752427 )
  {
    *(_DWORD *)a4 = *(_DWORD *)a1;
    *(_DWORD *)(a4 + 4) = *(_DWORD *)(a1 + 4);
    return;
  }
  if ( fabs(*(float *)a1 - 1.570796370506287) < 0.0000009999999974752427 )
  {
    v4 = 3.1415925;
LABEL_7:
    a3 = v4;
    goto LABEL_8;
  }
  if ( fabs(*(float *)a1 + 1.570796370506287) < 0.0000009999999974752427 )
  {
    v4 = 0.0;
    goto LABEL_7;
  }
LABEL_8:
  v5 = a3;
  v14 = fabs(a3);
  if ( v14 < 0.000001 || 3.1415926535898 - v5 < 0.0000009999999974752427 )
  {
    v6 = v14;
  }
  else
  {
    v6 = v14;
    if ( v5 + 3.1415926535898 >= 0.0000009999999974752427 )
    {
      sub_10023380(a4, a1, a2, a3);
      return;
    }
  }
  v7 = *(_DWORD *)a1;
  v8 = *(float *)(a1 + 4);
  v14 = a2;
  v17 = v7;
  v13 = a3;
  v18 = v8;
  if ( v6 >= 0.000001 )
    v9 = -1.5707964;
  else
    v9 = 1.5707964;
  *(float *)&v15 = v9;
  v16 = v18;
  sub_10018D20((int)&v17, (int)&v15, &v12, (float *)&v11, (float *)&v11);
  for ( i = a2 - v12; i > 0.0; i = i - v12 )
  {
    v14 = v13 + 3.141592741012573;
    v13 = sub_100637E0(v14);
    v14 = v16 + 3.141592741012573;
    v16 = sub_100637E0(v14);
    v14 = i;
    v17 = v15;
    *(float *)&v15 = -*(float *)&v15;
    v18 = v16;
    sub_10018D20((int)&v17, (int)&v15, &v12, (float *)&v11, (float *)&v11);
  }
  sub_10023380(a4, (int)&v17, v14, v13);
}

//----- (100238F0) --------------------------------------------------------
bool __cdecl sub_100238F0(int a1, float a2, int a3, float a4, int a5)
{
  char v5; // bl@1
  int v7; // [sp+14h] [bp-18h]@1
  int v8; // [sp+1Ch] [bp-10h]@1
  int v9; // [sp+24h] [bp-8h]@1

  sub_10063820(a1, (int)&v8);
  sub_10063820(a3, (int)&v7);
  v5 = sub_10023090((int)&v8, a2, (int)&v7, a4, (int)&v9);
  sub_10063970((int)&v9, a5);
  return v5 == 2;
}

//----- (10023960) --------------------------------------------------------
void __cdecl sub_10023960(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  long double v5; // st7@1
  long double v6; // st7@3
  long double v7; // st7@4
  long double v8; // st6@10
  int v9; // esi@10
  double v10; // st7@14
  float v11; // [sp+14h] [bp-30h]@1
  float v12; // [sp+18h] [bp-2Ch]@1
  char v13; // [sp+1Ch] [bp-28h]@1
  float v14; // [sp+20h] [bp-24h]@1
  long double v15; // [sp+24h] [bp-20h]@1
  long double v16; // [sp+2Ch] [bp-18h]@1
  long double v17; // [sp+34h] [bp-10h]@1
  long double v18; // [sp+3Ch] [bp-8h]@2
  float v19; // [sp+54h] [bp+10h]@10

  sub_10022FC0(a1, a3, &v12, &v14, (float *)&v13);
  v16 = v12 / 6378137.0;
  sub_10022FC0(a1, a2, &v12, &v11, (float *)&v13);
  *(float *)&v15 = v14 - v11;
  v4 = sub_100637E0(*(float *)&v15);
  v17 = v4;
  v5 = sin(v4);
  v15 = v5;
  if ( v16 <= 0.01425 )
  {
    v15 = -(v5 * v16);
    v6 = fabs(cos(v17) * v16);
  }
  else
  {
    v15 = -asin(sin(v16) * v15);
    v18 = cos(v15);
    if ( fabs(v18) >= 0.000003919639857218495 )
    {
      v7 = cos(v16) / v18;
      if ( v7 <= 1.0 )
      {
        if ( v7 >= -1.0 )
          v6 = acos(v7);
        else
          v6 = 0.0;
      }
      else
      {
        v6 = 0.0;
      }
    }
    else
    {
      v6 = 0.0;
    }
  }
  v8 = v15;
  v9 = a4;
  *(_BYTE *)a4 = 1;
  *(float *)(a4 + 4) = v8 * 6378137.0;
  v19 = v6 * 6378137.0;
  *(float *)(v9 + 16) = v19;
  if ( v17 > 1.570796370506287 || v17 < -1.570796370506287 )
  {
    v10 = v11;
    *(_BYTE *)v9 = 0;
    v11 = v10 + 3.141592502593994;
    v11 = sub_100637E0(v11);
  }
  else if ( v12 < (double)v19 )
  {
    *(_BYTE *)v9 = 2;
  }
  if ( *(float *)(v9 + 16) >= 0.000001 )
  {
    sub_10023380(v9 + 8, a1, *(float *)(v9 + 16), v11);
  }
  else
  {
    *(_DWORD *)(v9 + 8) = *(_DWORD *)a1;
    *(_DWORD *)(v9 + 12) = *(_DWORD *)(a1 + 4);
  }
}

//----- (10023B40) --------------------------------------------------------
void __cdecl sub_10023B40(int a1, float a2, float a3, int a4)
{
  int v4; // edi@1
  int v5; // esi@1
  double v6; // st7@1
  double v7; // st7@2
  float v8; // [sp+14h] [bp-8h]@1
  int v9; // [sp+18h] [bp-4h]@1

  v4 = a1;
  v8 = cos(*(float *)a1);
  a2 = a2 / 6378137.0;
  sub_10063950(a3, (int)&v9, (int)&a1);
  v5 = a4;
  v6 = a2;
  *(float *)a4 = *(float *)&a1 * a2 + *(float *)v4;
  LODWORD(a2) = LODWORD(v8) & 0x7FFFFFFF;
  if ( COERCE_FLOAT(LODWORD(v8) & 0x7FFFFFFF) <= 0.000001 )
    v7 = *(float *)(v4 + 4);
  else
    v7 = v6 * *(float *)&v9 / v8 + *(float *)(v4 + 4);
  *(float *)(v5 + 4) = v7;
  *(float *)(v5 + 4) = sub_100637E0(*(float *)(v5 + 4));
  sub_10023670(v5);
}

//----- (10023BF0) --------------------------------------------------------
void __cdecl sub_10023BF0(int a1, float a2, float a3, float a4, int a5)
{
  float v5; // ST10_4@2

  if ( sub_100199B0() != 1 )
  {
    v5 = a2 + a4;
    a4 = sub_100637E0(v5);
  }
  sub_100236E0(a1, a3, a4, a5);
}

//----- (10023C40) --------------------------------------------------------
char __cdecl sub_10023C40(int a1, float a2, int a3, float a4, int a5)
{
  float v5; // edx@1
  int v6; // ecx@1
  float v7; // edx@1
  char result; // al@1
  char v9; // bl@1
  int v10; // eax@8
  double v11; // st7@8
  float v12; // ST28_4@10
  double v13; // st7@13
  float v14; // [sp+20h] [bp-58h]@2
  float v15; // [sp+24h] [bp-54h]@2
  float v16; // [sp+28h] [bp-50h]@2
  char v17; // [sp+2Ch] [bp-4Ch]@2
  int v18; // [sp+30h] [bp-48h]@1
  char v19; // [sp+34h] [bp-44h]@10
  float v20; // [sp+38h] [bp-40h]@2
  float v21; // [sp+3Ch] [bp-3Ch]@2
  char v22; // [sp+40h] [bp-38h]@2
  float v23; // [sp+44h] [bp-34h]@4
  float v24; // [sp+48h] [bp-30h]@2
  float v25; // [sp+4Ch] [bp-2Ch]@13
  int v26; // [sp+50h] [bp-28h]@1
  float v27; // [sp+54h] [bp-24h]@1
  int v28; // [sp+58h] [bp-20h]@1
  float v29; // [sp+5Ch] [bp-1Ch]@1
  float v30; // [sp+60h] [bp-18h]@10
  float v31; // [sp+64h] [bp-14h]@10
  float v32; // [sp+68h] [bp-10h]@10
  float v33; // [sp+6Ch] [bp-Ch]@10
  float v34; // [sp+70h] [bp-8h]@8
  float v35; // [sp+74h] [bp-4h]@8

  v5 = *(float *)(a1 + 4);
  v26 = *(_DWORD *)a1;
  v6 = *(_DWORD *)a3;
  v27 = v5;
  v7 = *(float *)(a3 + 4);
  v28 = v6;
  v29 = v7;
  v18 = 0;
  result = sub_10023090((int)&v26, a2, (int)&v28, a4, a5);
  v9 = result;
  if ( result )
  {
    sub_10018D20((int)&v26, a5, &v15, &v14, (float *)&v17);
    sub_10018D20((int)&v28, a5, &v24, &v16, (float *)&v22);
    v21 = a2;
    v20 = a4;
    if ( v9 == 1 )
    {
      if ( !sub_100639F0(v14, a2, 1.5707964) )
      {
        v23 = a2 + 3.141592741012573;
        a2 = sub_100637E0(v23);
      }
      if ( !sub_100639F0(v16, a4, 1.5707964) )
      {
        v23 = a4 + 3.141592741012573;
        a4 = sub_100637E0(v23);
      }
    }
    if ( v15 <= (double)v24 )
    {
      v11 = v15;
    }
    else
    {
      v10 = v26;
      v15 = v24;
      v14 = a2;
      v26 = v28;
      a2 = a4;
      v34 = *(float *)&v10;
      v35 = v27;
      a4 = v14;
      v27 = v29;
      v28 = v10;
      v14 = v21;
      v29 = v35;
      v21 = v20;
      v20 = v14;
      v11 = v24;
    }
    v30 = v11;
    v12 = v11;
    sub_10023380(a5, (int)&v26, v12, a2);
    sub_10018D20((int)&v28, a5, (float *)&v19, &v14, (float *)&v17);
    v23 = v14 - a4;
    v32 = sub_100637E0(v23);
    v31 = v15 * 1.01;
    sub_10023380(a5, (int)&v26, v31, a2);
    sub_10018D20((int)&v28, a5, (float *)&v19, &v14, (float *)&v17);
    v23 = v14 - a4;
    v33 = sub_100637E0(v23);
    do
    {
      if ( fabs(v30 - v31) < 1.0 )
        break;
      if ( fabs(v32 - v33) < 0.0000001 )
        break;
      v15 = v30 - (v31 - v30) * v32 / (v33 - v32);
      sub_10023380((int)&v34, (int)&v26, v15, a2);
      sub_10018D20((int)&v28, (int)&v34, (float *)&v19, &v14, (float *)&v17);
      sub_10018D20(a5, (int)&v34, &v25, &v16, (float *)&v22);
      v30 = v31;
      v31 = v15;
      v32 = v33;
      v23 = v14 - a4;
      v13 = sub_100637E0(v23);
      ++v18;
      v33 = v13;
      *(float *)a5 = v34;
      *(float *)(a5 + 4) = v35;
      if ( v25 <= 1.0 )
        break;
    }
    while ( v18 <= 10 );
    sub_10018D20((int)&v26, a5, (float *)&v19, &v16, (float *)&v22);
    if ( sub_100639F0(v14, v20, 1.5707964) && sub_100639F0(v16, v21, 1.5707964) )
      result = 2;
    else
      result = 1;
  }
  return result;
}

//----- (10024040) --------------------------------------------------------
int __cdecl sub_10024040(int a1, float a2, float a3, int a4, int a5, float a6)
{
  double v6; // st7@3
  char v8; // [sp+Ch] [bp-8h]@1
  int v9; // [sp+24h] [bp+10h]@5
  int v10; // [sp+24h] [bp+10h]@5

  sub_10063820(a1, (int)&v8);
  if ( (_BYTE)a4 != 1 )
  {
    if ( (_BYTE)a4 )
      v6 = sub_10019500(a4);
    else
      v6 = a6;
    *(float *)&v9 = v6;
    *(float *)&v10 = *(float *)&v9 + a3;
    a3 = sub_100637E0(*(float *)&v10);
  }
  sub_100236E0((int)&v8, a2, a3, (int)&v8);
  return sub_10063970((int)&v8, a5);
}

//----- (100240D0) --------------------------------------------------------
char __cdecl sub_100240D0(int a1, float a2, int a3, float a4, char a5, int a6)
{
  char v6; // bl@1
  double v7; // st6@2
  double v8; // st7@3
  float v9; // ST2C_4@7
  float v10; // ST08_4@5
  float v11; // ST24_4@5
  double v12; // st7@5
  float v13; // ST24_4@7
  float v14; // ST24_4@7
  float v16; // ST20_4@9
  float v17; // ST1C_4@9
  double v18; // st5@9
  float v19; // ST1C_4@14
  double v20; // st6@15
  float v21; // ST04_4@22
  float v22; // [sp+4h] [bp-38h]@3
  int v23; // [sp+8h] [bp-34h]@3
  float v24; // [sp+18h] [bp-24h]@5
  float v25; // [sp+18h] [bp-24h]@9
  int v26; // [sp+1Ch] [bp-20h]@5
  float v27; // [sp+1Ch] [bp-20h]@7
  float v28; // [sp+20h] [bp-1Ch]@7
  float v29; // [sp+20h] [bp-1Ch]@9
  float v30; // [sp+2Ch] [bp-10h]@1
  float v31; // [sp+30h] [bp-Ch]@1
  double v32; // [sp+34h] [bp-8h]@7

  v6 = 1;
  sub_10019A00((float *)a1, (float *)a3, (int)&v30);
  if ( COERCE_FLOAT(LODWORD(v31) & 0x7FFFFFFF) >= 25.0 )
  {
    v7 = v30;
  }
  else
  {
    v7 = v30;
    if ( COERCE_FLOAT(LODWORD(v30) & 0x7FFFFFFF) < 25.0 )
    {
      v23 = a6;
      v22 = a2;
      v8 = a4;
      goto LABEL_22;
    }
  }
  v24 = v7 * v7 + v31 * v31;
  v10 = v7;
  v11 = a2 - sub_10063AA0(v10, v31);
  v26 = LODWORD(v11) & 0x7FFFFFFF;
  v12 = COERCE_FLOAT(LODWORD(v11) & 0x7FFFFFFF);
  if ( v12 > 3.141592741012573 )
    *(float *)&v26 = 6.283185482025146 - v12;
  v13 = sqrt(v24);
  v32 = v13 * -2.0;
  v14 = cos(*(float *)&v26);
  v28 = v14 * v32;
  v9 = a4 * a4;
  v27 = v28 * v28 - (v24 - v9) * 4.0;
  if ( v27 < 0.0 )
    return 0;
  v16 = sqrt(v27);
  v17 = -v28;
  v18 = v17;
  v25 = (v16 + v17) * 0.5;
  v29 = (v18 - v16) * 0.5;
  if ( a5 )
  {
    v8 = v25;
    if ( COERCE_FLOAT(LODWORD(v29) & 0x7FFFFFFF) < (double)COERCE_FLOAT(LODWORD(v25) & 0x7FFFFFFF) )
      v8 = v29;
  }
  else if ( v29 >= 0.0 || v25 >= 0.0 )
  {
    v20 = v25;
    if ( v29 < 0.0 || v20 >= 0.0 && v20 <= v29 )
      v8 = v25;
    else
      v8 = v29;
  }
  else
  {
    v6 = 0;
    v19 = sub_100384C0(v25, v29);
    v8 = v19;
  }
  v23 = a6;
  v22 = a2;
LABEL_22:
  v21 = v8;
  sub_10023B40(a1, v21, v22, v23);
  return v6;
}

//----- (10024330) --------------------------------------------------------
char __cdecl sub_10024330(int a1, float a2, int a3, float a4, char a5, int a6, int a7)
{
  char v7; // bl@1
  double v8; // st6@2
  float v9; // ST24_4@3
  double v10; // st7@3
  float v11; // ST2C_4@7
  float v12; // ST08_4@5
  float v13; // ST24_4@5
  double v14; // st7@5
  float v15; // ST24_4@7
  float v16; // ST24_4@7
  float v18; // ST1C_4@9
  float v19; // ST20_4@9
  double v20; // st5@9
  double v21; // st7@10
  double v22; // rt2@11
  float v23; // ST20_4@11
  double v24; // st6@12
  double v25; // st5@12
  double v26; // st6@15
  double v27; // st7@15
  float v28; // ST0C_4@17
  float v29; // ST08_4@17
  float v30; // ST20_4@17
  double v31; // st5@17
  float v32; // ST20_4@21
  double v33; // rt1@22
  float v34; // ST04_4@26
  float v35; // ST04_4@27
  float v36; // [sp+4h] [bp-38h]@3
  int v37; // [sp+8h] [bp-34h]@3
  int v38; // [sp+18h] [bp-24h]@5
  float v39; // [sp+18h] [bp-24h]@7
  float v40; // [sp+18h] [bp-24h]@9
  float v41; // [sp+1Ch] [bp-20h]@5
  float v42; // [sp+1Ch] [bp-20h]@9
  float v43; // [sp+20h] [bp-1Ch]@7
  float v44; // [sp+2Ch] [bp-10h]@1
  float v45; // [sp+30h] [bp-Ch]@1
  double v46; // [sp+34h] [bp-8h]@7

  v7 = 1;
  sub_10019A00((float *)a1, (float *)a3, (int)&v44);
  if ( COERCE_FLOAT(LODWORD(v45) & 0x7FFFFFFF) >= 25.0 )
  {
    v8 = v44;
  }
  else
  {
    v8 = v44;
    if ( COERCE_FLOAT(LODWORD(v44) & 0x7FFFFFFF) < 25.0 )
    {
      sub_10023B40(a1, a4, a2, a6);
      v37 = a7;
      v9 = a2 + 3.141592741012573;
      v36 = sub_100637E0(v9);
      v10 = a4;
      goto LABEL_27;
    }
  }
  v41 = v8 * v8 + v45 * v45;
  v12 = v8;
  v13 = a2 - sub_10063AA0(v12, v45);
  v38 = LODWORD(v13) & 0x7FFFFFFF;
  v14 = COERCE_FLOAT(LODWORD(v13) & 0x7FFFFFFF);
  if ( v14 > 3.141592741012573 )
    *(float *)&v38 = 6.283185482025146 - v14;
  v15 = sqrt(v41);
  v46 = v15 * -2.0;
  v16 = cos(*(float *)&v38);
  v43 = v16 * v46;
  v11 = a4 * a4;
  v39 = v43 * v43 - (v41 - v11) * 4.0;
  if ( v39 < 0.0 )
    return 0;
  v18 = sqrt(v39);
  v19 = -v43;
  v20 = v19;
  v42 = (v18 + v19) * 0.5;
  v40 = (v20 - v18) * 0.5;
  if ( a5 )
  {
    v21 = v42;
    if ( COERCE_FLOAT(LODWORD(v40) & 0x7FFFFFFF) < (double)COERCE_FLOAT(LODWORD(v42) & 0x7FFFFFFF) )
    {
      v22 = v40;
      v40 = v42;
      v23 = v22;
      v21 = v23;
    }
  }
  else
  {
    v24 = v40;
    v25 = v42;
    if ( v40 >= 0.0 || v25 >= 0.0 )
    {
      if ( v24 >= 0.0 && (v25 < 0.0 || v25 > v24) )
      {
        v40 = v42;
        v32 = v24;
        v25 = v32;
        v24 = v40;
      }
      v33 = v25;
      v31 = 0.0;
      v21 = v33;
    }
    else
    {
      v7 = 0;
      if ( v24 <= v25 )
      {
        v26 = v42;
        v27 = v40;
      }
      else
      {
        v26 = v42;
        v27 = v40;
        v40 = v42;
      }
      v28 = v27;
      v29 = v26;
      v30 = sub_100384C0(v29, v28);
      v21 = v30;
      v24 = v40;
      v31 = 0.0;
    }
    if ( v31 > v24 && v31 <= v21 )
      v40 = v21;
  }
  v34 = v21;
  sub_10023B40(a1, v34, a2, a6);
  v37 = a7;
  v36 = a2;
  v10 = v40;
LABEL_27:
  v35 = v10;
  sub_10023B40(a1, v35, v36, v37);
  return v7;
}

//----- (10024640) --------------------------------------------------------
char __cdecl sub_10024640(int a1, float a2, int a3, float a4, char a5, int a6)
{
  char v6; // bl@1
  int v8; // [sp+18h] [bp-18h]@1
  int v9; // [sp+20h] [bp-10h]@1
  int v10; // [sp+28h] [bp-8h]@1

  sub_10063820(a1, (int)&v9);
  sub_10063820(a3, (int)&v8);
  v6 = sub_100240D0((int)&v9, a2, (int)&v8, a4, a5, (int)&v10);
  sub_10063970((int)&v10, a6);
  return v6;
}

//----- (100246B0) --------------------------------------------------------
char __cdecl sub_100246B0(int a1, float a2, int a3, float a4, int a5)
{
  char v5; // bl@1
  float v7; // [sp+18h] [bp-2Ch]@2
  int v8; // [sp+1Ch] [bp-28h]@1
  int v9; // [sp+24h] [bp-20h]@1
  int v10; // [sp+2Ch] [bp-18h]@1
  char v11; // [sp+34h] [bp-10h]@2
  char v12; // [sp+3Ch] [bp-8h]@2

  sub_10063820(a1, (int)&v10);
  sub_10063820(a3, (int)&v8);
  v5 = sub_100240D0((int)&v8, a4, (int)&v10, a2, 0, (int)&v9);
  if ( v5 )
  {
    sub_100191D0((int)&v8, COERCE_FLOAT(&v9), &v7, (int)&v12, (float *)&v11);
    sub_100236E0((int)&v8, v7, a4, (int)&v9);
    sub_10063970((int)&v9, a5);
  }
  return v5;
}

//----- (10024760) --------------------------------------------------------
int __cdecl sub_10024760(char a1)
{
  int result; // eax@3

  if ( !sub_1004F050() || a1 )
    result = 0;
  else
    result = dword_10504ED0;
  return result;
}
// 10504ED0: using guessed type int dword_10504ED0;

//----- (10024780) --------------------------------------------------------
int __cdecl sub_10024780(char a1)
{
  int result; // eax@3

  if ( !sub_1004F050() || a1 )
    result = 0;
  else
    result = dword_10504ED4;
  return result;
}
// 10504ED4: using guessed type int dword_10504ED4;

//----- (100247A0) --------------------------------------------------------
char __cdecl sub_100247A0(char a1)
{
  char v1; // bl@1
  const void *v2; // esi@3
  int v3; // eax@3
  const void *v4; // edi@3
  void *v5; // eax@5
  void *v6; // eax@5

  v1 = 0;
  if ( sub_10022DE0(0) )
  {
    if ( sub_10022DE0(a1) )
    {
      v2 = (const void *)sub_10024760(0);
      v3 = sub_10024780(0);
      v4 = (const void *)v3;
      if ( v2 && v3 )
      {
        v5 = sub_10016830(a1);
        memcpy_0(v5, v2, 0x4A18u);
        v6 = sub_10016850(a1);
        memcpy_0(v6, v4, 0x8B30u);
        v1 = 1;
      }
      sub_10022DD0(a1);
    }
    sub_10022DD0(0);
  }
  return v1;
}

//----- (10024830) --------------------------------------------------------
double __cdecl sub_10024830(int a1, int a2, int a3)
{
  int v3; // edi@1
  double v4; // st7@1
  int v5; // eax@3
  double v6; // st6@5
  int v7; // esi@5
  double v8; // st5@5
  float v9; // ST14_4@6
  float v10; // ST14_4@6
  double v11; // st7@6
  double v12; // st7@12
  double v13; // st5@16
  double v14; // st4@17
  double v15; // st4@19
  unsigned __int8 v16; // al@21
  unsigned __int8 v17; // cl@21
  bool v18; // c3@26
  double v19; // st6@26
  double result; // st7@28
  float v21; // [sp+Ch] [bp-18h]@1
  float v22; // [sp+14h] [bp-10h]@1
  float v23; // [sp+1Ch] [bp-8h]@3
  float v24; // [sp+20h] [bp-4h]@3
  float v25; // [sp+2Ch] [bp+8h]@6
  float v26; // [sp+2Ch] [bp+8h]@6
  float v27; // [sp+2Ch] [bp+8h]@8
  float v28; // [sp+2Ch] [bp+8h]@15
  float v30; // [sp+2Ch] [bp+8h]@31
  float v31; // [sp+30h] [bp+Ch]@6
  float v32; // [sp+30h] [bp+Ch]@11
  float v33; // [sp+30h] [bp+Ch]@15

  v3 = a2;
  v21 = *(float *)(a2 + 4);
  v22 = *(float *)(a2 + 20);
  v4 = 0.0;
  if ( *(_BYTE *)(a2 + 40)
    && *(float *)(a2 + 48) * *(float *)(a2 + 48) + *(float *)(a2 + 44) * *(float *)(a2 + 44) < *(float *)(a2 + 16)
                                                                                             * *(float *)(a2 + 16) )
  {
    v5 = *(_DWORD *)(a2 + 40);
    v23 = *(float *)(a2 + 44);
    v24 = *(float *)(a2 + 48);
  }
  else
  {
    v23 = 0.0;
    v24 = 0.0;
  }
  v6 = 9.9999996e24;
  v7 = a3;
  v8 = v21;
  if ( v21 == 9.9999996e24 )
  {
    v14 = (float)926.0;
  }
  else
  {
    v25 = cos(*(float *)(a2 + 8));
    v31 = sin(*(float *)(v3 + 8));
    v9 = v25 * v23 - v31 * v24;
    v10 = sqrt(*(float *)(v3 + 16) * *(float *)(v3 + 16) - v9 * v9);
    v26 = v10 + v25 * v24 + v31 * v23;
    v11 = v26;
    if ( v26 <= 51.44444274902344 )
      v11 = 51.444443;
    v27 = 0.08228942;
    if ( v22 != 9.9999996e24 && v7 && *(_BYTE *)(v7 + 1) == *(_BYTE *)(v7 + 7) )
    {
      v32 = v11;
      v27 = v22 / v32;
      if ( v27 <= 0.08228942 )
      {
        v12 = 9.9999996e24;
        v27 = 0.08228942;
      }
      else
      {
        v12 = 9.9999996e24;
      }
    }
    else
    {
      v12 = 9.9999996e24;
    }
    v33 = *(float *)(a1 + 152) - v21;
    v28 = v33 / v27;
    if ( v28 < 9260.0 )
      v13 = v28;
    else
      v13 = (float)9260.0;
    v15 = v12;
    v4 = 0.0;
    v6 = v15;
    v14 = v13;
    v8 = v21;
  }
  if ( v7 )
  {
    v16 = *(_BYTE *)(v7 + 1);
    v17 = *(_BYTE *)(v7 + 7);
    if ( v16 == v17 )
      goto LABEL_26;
    if ( v16 == v17 - 1 || *(_BYTE *)(a1 + 63) == 7 && v16 == v17 - 2 )
    {
      if ( v16 != v17 )
      {
        v19 = v14;
LABEL_30:
        if ( v19 > v4 )
        {
          result = v19;
        }
        else
        {
          v30 = v4;
          result = v30;
        }
        return result;
      }
LABEL_26:
      v18 = v8 == v6;
      v19 = v14;
      if ( v18 && (*(_WORD *)v3 & 0x380) == 256 )
        return (float)v4;
      goto LABEL_30;
    }
  }
  result = v14;
  if ( v14 <= 926.0 )
    result = (float)926.0;
  return result;
}

//----- (10024AA0) --------------------------------------------------------
bool __cdecl sub_10024AA0(int a1)
{
  double v1; // st7@2
  char v2; // al@8
  float v3; // ST04_4@9
  int v4; // eax@11
  bool result; // al@16

  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    v1 = 9.9999996e24;
    if ( *(_BYTE *)(dword_10504EDC + 190) )
      *(float *)(a1 + 4) = *(float *)(dword_10504EDC + 212);
    else
      *(float *)(a1 + 4) = 9.9999996e24;
    if ( *(_BYTE *)(dword_10504EDC + 662) )
      *(float *)(a1 + 8) = *(float *)(dword_10504EDC + 692);
    else
      *(float *)(a1 + 8) = 9.9999996e24;
    v2 = *(_BYTE *)(dword_10504EDC + 1504);
    *(_BYTE *)(a1 + 40) = v2;
    if ( v2 )
    {
      sub_10063950(*(float *)(dword_10504EDC + 1508), a1 + 44, a1 + 48);
      v3 = -*(float *)(dword_10504EDC + 1512);
      sub_100299A0(a1 + 44, v3, a1 + 44);
      v1 = 9.9999996e24;
    }
    else
    {
      *(float *)(a1 + 44) = 0.0;
      *(float *)(a1 + 48) = 0.0;
    }
    *(_BYTE *)a1 = *(_BYTE *)(dword_10504EDC + 672);
    v4 = dword_10504EDC;
    *(_DWORD *)(a1 + 32) = *(_DWORD *)(dword_10504EDC + 776);
    *(_DWORD *)(a1 + 36) = *(_DWORD *)(v4 + 780);
    if ( *(_BYTE *)(dword_10504EDC + 201) )
      *(float *)(a1 + 20) = *(float *)(dword_10504EDC + 256);
    else
      *(float *)(a1 + 20) = v1;
    if ( *(_BYTE *)(dword_10504EDC + 195) )
      v1 = *(float *)(dword_10504EDC + 224);
    *(float *)(a1 + 28) = v1;
    *(float *)(a1 + 16) = *(float *)(dword_10504EDC + 240);
    *(float *)(a1 + 24) = *(float *)(dword_10504EDC + 720);
    *(float *)(a1 + 12) = *(float *)(dword_10504EDC + 852);
    result = sub_1004F2C0();
  }
  else
  {
    result = a1;
    *(float *)(a1 + 4) = 9.9999996e24;
    *(_BYTE *)a1 = 0;
    *(float *)(a1 + 8) = 9.9999996e24;
    *(_BYTE *)(a1 + 40) = 0;
    *(float *)(a1 + 16) = 4.5698152;
    *(float *)(a1 + 12) = 9.9999996e24;
    *(float *)(a1 + 32) = 6.283185;
    *(float *)(a1 + 36) = 6.283185;
    *(float *)(a1 + 24) = 6.283185;
    *(float *)(a1 + 20) = 9.9999996e24;
    *(float *)(a1 + 28) = 9.9999996e24;
    *(float *)(a1 + 48) = 0.0;
    *(float *)(a1 + 44) = 0.0;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10024C30) --------------------------------------------------------
char __cdecl sub_10024C30(int a1, char a2, void *a3)
{
  __int16 v3; // ax@1
  __int16 v4; // cx@1
  __int16 v5; // ax@2

  memset(a3, 0, 0x2Cu);
  LOBYTE(v3) = a2;
  v4 = *((_WORD *)a3 + 1) & 0xFEFF | 0x2F6;
  *((_WORD *)a3 + 4) = -1;
  *(_BYTE *)a3 = a2;
  *((_WORD *)a3 + 1) = v4;
  if ( a1 )
  {
    *((float *)a3 + 3) = *(float *)(a1 + 88);
    *((_DWORD *)a3 + 9) = *(_DWORD *)(a1 + 120);
    *((_DWORD *)a3 + 10) = *(_DWORD *)(a1 + 124);
    v5 = v4 & 0xF3FF | ((*(_BYTE *)(a1 + 64) & 3) << 10);
    *((_WORD *)a3 + 1) = v5;
    v3 = v5 & 0xFFFE;
    *((_WORD *)a3 + 1) = (v3 | *(_BYTE *)(a1 + 58) & 1) & 0xFF7 | 8;
  }
  return v3;
}

//----- (10024CC0) --------------------------------------------------------
signed int __cdecl sub_10024CC0(int a1, char a2)
{
  signed int result; // eax@1
  int v3; // ecx@4

  result = *(_WORD *)(a1 + 14);
  if ( a2 == -1 )
  {
    result = -1;
  }
  else
  {
    for ( ; (_WORD)result != -1; result = *(_WORD *)(v3 + 332) )
    {
      v3 = a1 + 44 * (signed __int16)result;
      if ( *(_BYTE *)(v3 + 324) == a2 )
        break;
    }
  }
  return result;
}

//----- (10024D00) --------------------------------------------------------
int __cdecl sub_10024D00(int a1, unsigned __int8 a2)
{
  int result; // eax@1

  result = 0;
  if ( a2 != -1 && (a2 < *(_BYTE *)(a1 + 4) || a2 >= *(_BYTE *)(a1 + 5) && a2 <= *(_BYTE *)(a1 + 3)) )
    result = 180 * a2 + a1 + 608;
  return result;
}

//----- (10024D30) --------------------------------------------------------
int __cdecl sub_10024D30(int a1, unsigned __int16 a2)
{
  int result; // eax@1

  result = 0;
  if ( a2 <= 0x1F3u )
    result = 44 * (signed __int16)a2 + a1 + 324;
  return result;
}

//----- (10024D50) --------------------------------------------------------
int __cdecl sub_10024D50(int a1)
{
  int result; // eax@1
  __int16 v2; // cx@1

  result = a1;
  v2 = *(_WORD *)a1;
  *(float *)(a1 + 4) = 9.9999996e24;
  *(float *)(a1 + 8) = 6.283185;
  *(_WORD *)a1 = v2 & 0xF806 | 6;
  *(float *)(a1 + 12) = 4.5698152;
  *(_BYTE *)(a1 + 40) = 0;
  *(float *)(a1 + 16) = 9.9999996e24;
  *(float *)(a1 + 20) = 9.9999996e24;
  *(float *)(a1 + 24) = 6.283185;
  *(float *)(a1 + 28) = 6.283185;
  *(float *)(a1 + 32) = 6.283185;
  *(float *)(a1 + 36) = 6.283185;
  *(float *)(a1 + 48) = 0.0;
  *(float *)(a1 + 44) = 0.0;
  return result;
}

//----- (10024DA0) --------------------------------------------------------
int __cdecl sub_10024DA0(__int16 a1, int a2)
{
  int result; // eax@1
  __int16 v3; // cx@1
  int v4; // ecx@5
  int v5; // edx@5
  __int16 v6; // dx@8
  __int16 v7; // si@9
  __int16 v8; // dx@12
  __int16 v9; // cx@12

  result = a2;
  v3 = *(_WORD *)(a2 + 14);
  if ( v3 != -1 )
  {
    while ( v3 != a1 )
    {
      v3 = *(_WORD *)(44 * v3 + a2 + 332);
      if ( v3 == -1 )
        return result;
    }
    v4 = 44 * a1 + a2;
    LOWORD(v5) = *(_WORD *)(v4 + 334);
    if ( (_WORD)v5 == -1 )
    {
      if ( *(_WORD *)(v4 + 332) == -1 )
      {
        *(_WORD *)(a2 + 14) = -1;
      }
      else
      {
        v6 = *(_WORD *)(v4 + 332);
        *(_WORD *)(a2 + 14) = v6;
        *(_WORD *)(44 * v6 + a2 + 334) = -1;
      }
    }
    else
    {
      v7 = *(_WORD *)(v4 + 332);
      v5 = (signed __int16)v5;
      if ( v7 == -1 )
      {
        *(_WORD *)(44 * v5 + a2 + 332) = -1;
      }
      else
      {
        *(_WORD *)(44 * v5 + a2 + 332) = v7;
        *(_WORD *)(44 * v7 + a2 + 334) = *(_WORD *)(v4 + 334);
      }
    }
    v8 = *(_WORD *)(v4 + 326) & 0xFEFF | 0x2F6;
    *(_WORD *)(v4 + 334) = -1;
    *(_WORD *)(v4 + 326) = v8;
    *(_WORD *)(v4 + 332) = *(_WORD *)(a2 + 12);
    v9 = *(_WORD *)(a2 + 12);
    if ( v9 != -1 )
      *(_WORD *)(44 * v9 + a2 + 334) = a1;
    --*(_WORD *)(a2 + 30);
    *(_WORD *)(a2 + 12) = a1;
  }
  return result;
}

//----- (10024EB0) --------------------------------------------------------
char __usercall sub_10024EB0@<al>(__int16 a1@<ax>, int a2@<ecx>, int a3@<edi>, float *a4)
{
  char result; // al@2
  int v5; // eax@3
  int v6; // esi@3
  __int16 v7; // dx@3
  double v8; // st7@4
  float v9; // ST1C_4@5
  float v10; // ST1C_4@6
  char v11; // [sp+10h] [bp-8h]@4
  char v12; // [sp+14h] [bp-4h]@4

  if ( a1 == -1 )
  {
    result = 0;
  }
  else
  {
    v5 = 44 * a1;
    v6 = v5 + a3 + 324;
    *(_DWORD *)a2 = *(_DWORD *)(v5 + a3 + 360);
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v5 + a3 + 364);
    result = 0;
    v7 = (*(_BYTE *)(v6 + 2) >> 1) & 3;
    if ( v7 == 1 )
    {
      sub_10022FC0(v6 + 24, a2, (float *)&v12, (float *)&v11, a4);
      v8 = *a4;
      if ( (*(_WORD *)(v6 + 2) & 0xC00) == 1024 )
      {
        v9 = v8 - 1.570796370506287;
        *a4 = sub_100637E0(v9);
        result = 1;
      }
      else
      {
        v10 = v8 + 1.570796370506287;
        *a4 = sub_100637E0(v10);
        result = 1;
      }
    }
    else if ( v7 == 2 )
    {
      sub_10022FC0(44 * *(_WORD *)(v6 + 10) + a3 + 360, a2, (float *)&v12, (float *)&v11, a4);
      result = 1;
    }
  }
  return result;
}

//----- (10024FA0) --------------------------------------------------------
void __cdecl sub_10024FA0(float a1, float a2, int a3, int a4)
{
  float v4; // ST0C_4@3
  char v5; // [sp+10h] [bp-4h]@1
  float v6; // [sp+18h] [bp+4h]@3

  v5 = sub_100199B0();
  if ( v5 )
    a2 = sub_10019500(v5);
  v6 = a1 + 3.141592741012573;
  v4 = sub_100637E0(v6);
  sub_10023BF0(a3, a2, 926000.0, v4, a4);
}

//----- (10025010) --------------------------------------------------------
char __usercall sub_10025010@<al>(int a1@<eax>, int a2@<edi>)
{
  int v2; // esi@1
  int v3; // edx@1
  char result; // al@1
  int v5; // ecx@1
  _DWORD *v6; // esi@2

  v2 = a1;
  v3 = *(_BYTE *)(a1 + 4);
  result = -1;
  v5 = 0;
  if ( v3 > 0 )
  {
    v6 = (_DWORD *)(v2 + 716);
    while ( *v6 != a2 )
    {
      ++v5;
      v6 += 45;
      if ( v5 >= v3 )
        return result;
    }
    result = v5;
  }
  return result;
}

//----- (10025040) --------------------------------------------------------
int __usercall sub_10025040@<eax>(int a1@<edx>, int a2@<esi>)
{
  unsigned __int8 v2; // cl@1
  unsigned __int8 v3; // al@1
  int result; // eax@4

  v2 = *(_BYTE *)(a1 + 10);
  v3 = 0;
  if ( v2 )
  {
    while ( *(_DWORD *)((v3 << 6) + a1 + 22332) != a2 )
    {
      if ( ++v3 >= v2 )
        goto LABEL_4;
    }
    result = (v3 << 6) + a1 + 22324;
  }
  else
  {
LABEL_4:
    result = 0;
  }
  return result;
}

//----- (10025080) --------------------------------------------------------
void __usercall sub_10025080(unsigned __int8 a1@<al>, int a2@<edx>, int a3@<edi>, int a4@<esi>)
{
  int v4; // ecx@1
  int v5; // ecx@1
  double v6; // st7@1
  double v7; // st7@1
  bool v8; // zf@6
  float v9; // ST08_4@7
  int v10; // eax@7
  float v11; // ST08_4@13
  int v12; // eax@13
  float v13; // ST08_4@19
  int v14; // eax@19
  int v15; // [sp+Ch] [bp-Ch]@7

  v4 = 180 * a1;
  *(float *)(a4 + 44) = *(float *)(v4 + a2 + 752);
  *(float *)(a4 + 48) = *(float *)(v4 + a2 + 760);
  v5 = v4 + a2 + 608;
  *(_BYTE *)(a4 + 2) = *(_BYTE *)(v5 + 156);
  *(_BYTE *)(a4 + 3) = *(_BYTE *)(v5 + 64);
  *(_DWORD *)(a4 + 56) = *(_DWORD *)(v5 + 120);
  *(_DWORD *)(a4 + 60) = *(_DWORD *)(v5 + 124);
  *(_BYTE *)(a4 + 9) = (*(_BYTE *)(v5 + 4) >> 5) & 1;
  *(_DWORD *)(a4 + 64) = *(_DWORD *)(v5 + 44);
  *(_DWORD *)(a4 + 68) = *(_DWORD *)(v5 + 48);
  *(_DWORD *)(a4 + 72) = *(_DWORD *)(v5 + 52);
  *(_DWORD *)(a4 + 76) = *(_DWORD *)(v5 + 44);
  *(_DWORD *)(a4 + 80) = *(_DWORD *)(v5 + 48);
  *(_DWORD *)(a4 + 84) = *(_DWORD *)(v5 + 52);
  *(_DWORD *)(a4 + 100) = *(_DWORD *)(v5 + 44);
  *(_DWORD *)(a4 + 104) = *(_DWORD *)(v5 + 48);
  *(_DWORD *)(a4 + 108) = *(_DWORD *)(v5 + 52);
  *(_DWORD *)(a4 + 88) = *(_DWORD *)(v5 + 44);
  *(_DWORD *)(a4 + 92) = *(_DWORD *)(v5 + 48);
  *(_DWORD *)(a4 + 96) = *(_DWORD *)(v5 + 52);
  *(float *)(a4 + 12) = *(float *)(v5 + 16);
  *(float *)(a4 + 20) = *(float *)(v5 + 16);
  *(float *)(a4 + 36) = *(float *)(v5 + 16);
  *(float *)(a4 + 28) = *(float *)(v5 + 16);
  v6 = *(float *)(v5 + 12);
  *(_BYTE *)(a4 + 8) = a1;
  *(float *)(a4 + 52) = v6;
  *(_BYTE *)(a4 + 1) = 2;
  *(_BYTE *)a4 = 0;
  *(_BYTE *)(a4 + 4) = 1;
  *(_BYTE *)(a4 + 5) = 0;
  *(_BYTE *)(a4 + 7) = 0;
  *(_BYTE *)(a4 + 6) = 0;
  *(_BYTE *)(a4 + 10) = 0;
  v7 = 30.866667;
  if ( 9.9999996e24 == *(float *)(v5 + 20) )
  {
    *(float *)(a4 + 16) = 30.866667;
    *(float *)(a4 + 24) = 30.866667;
    *(float *)(a4 + 32) = 30.866667;
  }
  else
  {
    *(float *)(a4 + 16) = *(float *)(v5 + 20);
    *(float *)(a4 + 24) = *(float *)(v5 + 20);
    *(float *)(a4 + 32) = *(float *)(v5 + 20);
    v7 = *(float *)(v5 + 20);
  }
  *(float *)(a4 + 40) = v7;
  if ( *(_BYTE *)(a2 + 44) && *(_BYTE *)(a2 + 45) == *(_BYTE *)v5 )
  {
    *(_BYTE *)(a4 + 5) = *(_BYTE *)(a2 + 48);
    v8 = *(_BYTE *)(a4 + 5) == 0;
    *(float *)(a4 + 12) = *(float *)(a2 + 52);
    *(float *)(a4 + 16) = *(float *)(a2 + 56);
    *(_DWORD *)(a4 + 64) = *(_DWORD *)(a2 + 76);
    *(_DWORD *)(a4 + 68) = *(_DWORD *)(a2 + 80);
    *(_DWORD *)(a4 + 72) = *(_DWORD *)(a2 + 84);
    *(_BYTE *)(a4 + 6) = *(_BYTE *)(a2 + 49);
    *(float *)(a4 + 28) = *(float *)(a2 + 60);
    *(float *)(a4 + 32) = *(float *)(a2 + 64);
    *(_DWORD *)(a4 + 88) = *(_DWORD *)(a2 + 88);
    *(_DWORD *)(a4 + 92) = *(_DWORD *)(a2 + 92);
    *(_DWORD *)(a4 + 96) = *(_DWORD *)(a2 + 96);
    *(_BYTE *)(a4 + 7) = *(_BYTE *)(a2 + 50);
    *(float *)(a4 + 36) = *(float *)(a2 + 68);
    *(float *)(a4 + 40) = *(float *)(a2 + 72);
    *(_DWORD *)(a4 + 100) = *(_DWORD *)(a2 + 100);
    *(_DWORD *)(a4 + 104) = *(_DWORD *)(a2 + 104);
    *(_DWORD *)(a4 + 108) = *(_DWORD *)(a2 + 108);
    if ( v8 )
    {
      *(float *)(a4 + 16) = *(float *)(a3 + 124);
      *(float *)(a4 + 12) = *(float *)(a3 + 120);
      v9 = *(float *)(a3 + 108);
      v10 = sub_1002CFF0((int)&v15);
      *(_DWORD *)(a4 + 64) = *(_DWORD *)v10;
      *(_DWORD *)(a4 + 68) = *(_DWORD *)(v10 + 4);
      *(_DWORD *)(a4 + 72) = *(_DWORD *)(v10 + 8);
      if ( !*(_BYTE *)(a4 + 64) )
      {
        *(_DWORD *)(a4 + 64) = *(_DWORD *)(a3 + 144);
        *(_DWORD *)(a4 + 68) = *(_DWORD *)(a3 + 148);
        *(_DWORD *)(a4 + 72) = *(_DWORD *)(a3 + 152);
      }
      if ( *(float *)(a4 + 16) < 30.86666679382324 || 9.9999996e24 == *(float *)(a4 + 16) )
        *(float *)(a4 + 16) = 30.866667;
    }
    if ( !*(_BYTE *)(a4 + 7) )
    {
      *(float *)(a4 + 40) = *(float *)(a3 + 124);
      *(float *)(a4 + 36) = *(float *)(a3 + 120);
      v11 = *(float *)(a3 + 108);
      v12 = sub_1002CFF0((int)&v15);
      *(_DWORD *)(a4 + 100) = *(_DWORD *)v12;
      *(_DWORD *)(a4 + 104) = *(_DWORD *)(v12 + 4);
      *(_DWORD *)(a4 + 108) = *(_DWORD *)(v12 + 8);
      if ( !*(_BYTE *)(a4 + 100) )
      {
        *(_DWORD *)(a4 + 100) = *(_DWORD *)(a3 + 144);
        *(_DWORD *)(a4 + 104) = *(_DWORD *)(a3 + 148);
        *(_DWORD *)(a4 + 108) = *(_DWORD *)(a3 + 152);
      }
      if ( *(float *)(a4 + 40) < 30.86666679382324 || 9.9999996e24 == *(float *)(a4 + 40) )
        *(float *)(a4 + 40) = 30.866667;
    }
    if ( !*(_BYTE *)(a4 + 6) )
    {
      *(float *)(a4 + 32) = *(float *)(a3 + 124);
      *(float *)(a4 + 28) = *(float *)(a3 + 120);
      v13 = *(float *)(a3 + 108);
      v14 = sub_1002CFF0((int)&v15);
      *(_DWORD *)(a4 + 88) = *(_DWORD *)v14;
      *(_DWORD *)(a4 + 92) = *(_DWORD *)(v14 + 4);
      *(_DWORD *)(a4 + 96) = *(_DWORD *)(v14 + 8);
      if ( !*(_BYTE *)(a4 + 88) )
      {
        *(_DWORD *)(a4 + 88) = *(_DWORD *)(a3 + 144);
        *(_DWORD *)(a4 + 92) = *(_DWORD *)(a3 + 148);
        *(_DWORD *)(a4 + 96) = *(_DWORD *)(a3 + 152);
      }
      if ( *(float *)(a4 + 32) < 30.86666679382324 || 9.9999996e24 == *(float *)(a4 + 32) )
        *(float *)(a4 + 32) = 30.866667;
    }
  }
}

//----- (100253A0) --------------------------------------------------------
signed int __usercall sub_100253A0@<eax>(unsigned __int8 a1@<al>, int a2@<ecx>)
{
  signed int result; // eax@2

  if ( a1 < 0x64u )
    result = sub_10029F80(*(_BYTE *)(180 * a1 + a2 + 608), 0.0);
  else
    result = a1 != 100 ? 16745216 : 16744704;
  return result;
}

//----- (100253E0) --------------------------------------------------------
signed __int16 __thiscall sub_100253E0(int this)
{
  signed __int16 v1; // si@1
  __int16 v2; // ax@2
  signed __int16 result; // ax@4

  v1 = *(_WORD *)(this + 12);
  if ( v1 == -1 )
  {
    result = -1;
    *(_BYTE *)(this + 21) = 1;
  }
  else
  {
    v2 = *(_WORD *)(44 * v1 + this + 332);
    *(_WORD *)(this + 12) = v2;
    if ( v2 != -1 )
      *(_WORD *)(44 * v2 + this + 334) = -1;
    sub_10024C30(0, -1, (void *)(44 * v1 + this + 324));
    result = v1;
  }
  return result;
}

//----- (10025440) --------------------------------------------------------
int __usercall sub_10025440@<eax>(int a1@<esi>)
{
  signed int v1; // ecx@1
  int result; // eax@1
  signed int v3; // edx@1

  memset((void *)(a1 + 280), 0, 0x2Cu);
  memset((void *)(a1 + 324), 0, 0x2Cu);
  *(_WORD *)(a1 + 14) = -1;
  *(_WORD *)(a1 + 12) = 0;
  v1 = -1;
  result = a1 + 326;
  v3 = 500;
  do
  {
    *(_WORD *)result = *(_WORD *)result & 0xFEFF | 0x2F6;
    *(_WORD *)(result + 8) = v1;
    *(_WORD *)(result + 6) = v1++ + 2;
    result += 44;
    --v3;
  }
  while ( v3 );
  *(_WORD *)(a1 + 22288) = -1;
  *(_WORD *)(a1 + 30) = 0;
  return result;
}

//----- (100254C0) --------------------------------------------------------
int __usercall sub_100254C0@<eax>(void *a1@<eax>)
{
  int v1; // esi@1

  v1 = (int)a1;
  memset(a1, 0, 0x8B30u);
  return sub_10025440(v1);
}

//----- (100254E0) --------------------------------------------------------
void __usercall sub_100254E0(int a1@<edi>, __int16 a2, float a3, int a4)
{
  unsigned __int8 v4; // dl@1
  unsigned __int8 v5; // cl@1
  int v6; // ebx@5
  int v7; // esi@5

  v4 = *(_BYTE *)(a1 + 10);
  v5 = 0;
  if ( v4 )
  {
    while ( *(float *)((v5 << 6) + a1 + 22352) <= (double)a3 )
    {
      if ( ++v5 >= *(_BYTE *)(a1 + 10) )
        return;
    }
    v6 = v5;
    v7 = (v5 << 6) + a1;
    memcpy((void *)(v7 + 22388), (const void *)(v7 + 22324), (v4 - v5) << 6);
    *(float *)(v7 + 22352) = a3;
    *(float *)(v7 + 22360) = 0.0;
    *(_BYTE *)(v7 + 22325) = 0;
    *(_DWORD *)(v7 + 22332) = a4;
    *(_WORD *)(((v6 + 349) << 6) + a1) = a2;
    ++*(_BYTE *)(a1 + 10);
  }
}

//----- (10025580) --------------------------------------------------------
int __usercall sub_10025580@<eax>(int result@<eax>, __int16 a2@<cx>, __int16 a3@<bx>)
{
  int v3; // edx@2
  __int16 v4; // dx@2
  __int16 *v5; // edi@5
  __int16 v6; // dx@5
  int v7; // esi@7

  if ( a3 == -1 )
  {
    v3 = result + 44 * a2;
    *(_WORD *)(v3 + 334) = -1;
    *(_WORD *)(v3 + 332) = *(_WORD *)(result + 14);
    v4 = *(_WORD *)(result + 14);
    if ( v4 != -1 )
      *(_WORD *)(44 * v4 + result + 334) = a2;
    ++*(_WORD *)(result + 30);
    *(_WORD *)(result + 14) = a2;
  }
  else
  {
    v5 = (__int16 *)(44 * a3 + result + 332);
    v6 = *v5;
    if ( *v5 != -1 )
      *(_WORD *)(44 * v6 + result + 334) = a2;
    v7 = result + 44 * a2;
    *(_WORD *)(v7 + 332) = v6;
    *v5 = a2;
    *(_WORD *)(v7 + 334) = a3;
    ++*(_WORD *)(result + 30);
  }
  return result;
}

//----- (10025610) --------------------------------------------------------
char __thiscall sub_10025610(int this)
{
  char result; // al@1
  __int16 v2; // cx@2

  result = 0;
  if ( this )
  {
    v2 = (*(_WORD *)(this + 2) >> 4) & 0x3F;
    if ( v2 == 10
      || v2 == 11
      || v2 == 12
      || v2 == 13
      || v2 == 14
      || v2 == 15
      || v2 == 16
      || v2 == 17
      || v2 == 18
      || v2 == 19
      || v2 == 20
      || v2 == 21
      || v2 == 22
      || v2 == 23
      || v2 == 24 )
    {
      result = 1;
    }
  }
  return result;
}

//----- (10025680) --------------------------------------------------------
bool __fastcall sub_10025680(int a1, int a2)
{
  int v2; // edx@2
  __int16 v3; // ax@3
  bool result; // al@7

  result = 0;
  if ( a2 )
  {
    if ( sub_10025610(a2) || (v3 = (*(_WORD *)(v2 + 2) >> 4) & 0x3F, v3 == 26) || v3 == 27 || v3 == 28 || v3 == 25 )
      result = 1;
  }
  return result;
}

//----- (100256C0) --------------------------------------------------------
bool __usercall sub_100256C0@<al>(int a1@<edi>, int a2@<esi>)
{
  float v2; // ST08_4@2
  float v3; // ST08_4@2
  float v4; // ST08_4@3
  float v5; // ST08_4@3
  float v6; // ST08_4@4
  float v7; // ST08_4@6
  float v8; // ST08_4@7
  float v9; // ST08_4@7
  bool result; // al@8

  result = 0;
  if ( *(_BYTE *)(a1 + 8) == *(_BYTE *)(a2 + 8) )
  {
    v2 = *(float *)(a1 + 16) - *(float *)(a2 + 16);
    v3 = sub_100637E0(v2);
    if ( COERCE_FLOAT(LODWORD(v3) & 0x7FFFFFFF) < 0.017453292 )
    {
      v4 = *(float *)(a1 + 20) - *(float *)(a2 + 20);
      v5 = sub_100637E0(v4);
      if ( COERCE_FLOAT(LODWORD(v5) & 0x7FFFFFFF) < 0.017453292 )
      {
        v6 = *(float *)(a1 + 40) - *(float *)(a2 + 40);
        if ( COERCE_FLOAT(LODWORD(v6) & 0x7FFFFFFF) < 5.0 && *(_BYTE *)a1 == *(_BYTE *)a2 )
        {
          v7 = *(float *)(a1 + 84) - *(float *)(a2 + 84);
          if ( COERCE_FLOAT(LODWORD(v7) & 0x7FFFFFFF) < 0.000001 )
          {
            v8 = *(float *)(a1 + 88) - *(float *)(a2 + 88);
            v9 = sub_100637E0(v8);
            if ( COERCE_FLOAT(LODWORD(v9) & 0x7FFFFFFF) < 0.000001 )
              result = 1;
          }
        }
      }
    }
  }
  return result;
}

//----- (100257C0) --------------------------------------------------------
unsigned __int8 __cdecl sub_100257C0(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // ebp@1
  char v4; // dl@1
  unsigned __int8 result; // al@1
  signed __int16 v6; // di@1
  unsigned __int8 v7; // bl@5
  int v8; // esi@10
  int v9; // eax@11
  signed __int16 v10; // cx@13
  unsigned __int16 v11; // [sp+4h] [bp-10h]@1
  float v12; // [sp+8h] [bp-Ch]@1
  signed __int16 v13; // [sp+Ch] [bp-8h]@1
  unsigned __int8 v14; // [sp+1Ch] [bp+8h]@7

  v2 = a1;
  v12 = 0.0;
  v3 = a2;
  *(_BYTE *)(a2 + 8) = -1;
  *(_BYTE *)(a2 + 5) = -1;
  v4 = *(_BYTE *)(a1 + 4);
  *(_BYTE *)(a2 + 10) = v4;
  result = *(_BYTE *)(a1 + 5);
  v6 = *(_WORD *)(a2 + 14);
  v11 = 0;
  v13 = -1;
  if ( result != -1 && result >= 0x64u )
    *(_BYTE *)(a2 + 10) = v4 + *(_BYTE *)(a1 + 3) - result + 1;
  if ( *(_BYTE *)(a1 + 4) )
    v7 = 0;
  else
    v7 = *(_BYTE *)(a1 + 5);
  v14 = 0;
  if ( *(_BYTE *)(v3 + 10) )
  {
    while ( 1 )
    {
      v8 = (v14 << 6) + v3;
      *(_BYTE *)(v8 + 22325) = 0;
      *(_BYTE *)(v8 + 22324) = v7;
      *(_DWORD *)(v8 + 22332) = sub_100253A0(v7, v2);
      *(float *)(v8 + 22360) = 0.0;
      *(_BYTE *)(v8 + 22326) = 0;
      *(_BYTE *)(v8 + 22327) = 0;
      *(float *)(v8 + 22344) = 9.9999996e24;
      *(_BYTE *)(v8 + 22328) = 0;
      *(float *)(v8 + 22348) = 9.9999996e24;
      *(_BYTE *)(v8 + 22329) = 0;
      *(_BYTE *)(v8 + 22330) = -1;
      *(float *)(v8 + 22356) = 0.0;
      *(_BYTE *)(v8 + 22331) = -1;
      *(float *)(v8 + 22364) = 0.0;
      *(_DWORD *)(v8 + 22340) = 0;
      *(float *)(v8 + 22368) = 0.0;
      *(float *)(v8 + 22372) = 0.0;
      *(float *)(v8 + 22376) = 6.283185;
      *(float *)(v8 + 22384) = 9.9999996e24;
      for ( *(float *)(v8 + 22380) = 9.9999996e24; v6 != -1; v13 = v10 )
      {
        v9 = v3 + 44 * v6;
        if ( *(_BYTE *)(v9 + 324) != v7 )
          break;
        if ( v11 >= 0x1F4u )
          break;
        ++v11;
        v10 = v6;
        v6 = *(_WORD *)(v9 + 332);
        v12 = *(float *)(v9 + 336) + v12;
      }
      *(float *)(v8 + 22352) = v12;
      if ( v13 == -1 || *(_BYTE *)(44 * v13 + v3 + 324) != v7++ )
        *(_WORD *)(((v14 + 349) << 6) + v3) = -1;
      else
        *(_WORD *)(((v14 + 349) << 6) + v3) = v13;
      if ( v7 >= *(_BYTE *)(a1 + 4) && v7 < *(_BYTE *)(a1 + 5) )
        v7 = *(_BYTE *)(a1 + 5);
      result = v14++ + 1;
      if ( v14 >= *(_BYTE *)(v3 + 10) )
        break;
      v2 = a1;
    }
  }
  return result;
}

//----- (100259A0) --------------------------------------------------------
signed __int16 __cdecl sub_100259A0(int a1)
{
  int v1; // ebp@1
  __int16 v2; // ax@1
  signed __int16 v3; // di@1
  bool v4; // zf@2
  int v5; // ebx@2
  __int16 v6; // cx@2
  __int16 v7; // cx@5
  int v8; // edx@5
  int v9; // esi@5
  __int16 v10; // ax@5
  signed __int16 result; // ax@8
  int v12; // ebx@10
  int v13; // edi@13
  int v14; // ebx@15
  int v15; // ecx@18
  float v16; // [sp+1Ch] [bp-2Ch]@13
  int v17; // [sp+20h] [bp-28h]@13
  int v18; // [sp+24h] [bp-24h]@1
  char v19; // [sp+28h] [bp-20h]@10
  float v20; // [sp+2Ch] [bp-1Ch]@18
  char v21; // [sp+30h] [bp-18h]@10
  char v22; // [sp+34h] [bp-14h]@18
  char v23; // [sp+38h] [bp-10h]@13
  char v24; // [sp+40h] [bp-8h]@13
  float v25; // [sp+4Ch] [bp+4h]@18

  v1 = a1;
  v2 = *(_WORD *)(a1 + 28);
  v3 = -1;
  v18 = -1;
  if ( v2 != -1 )
  {
    v4 = v2 == *(_WORD *)(a1 + 14);
    v5 = 44 * v2 + a1;
    v6 = *(_WORD *)(v5 + 332);
    v18 = *(_WORD *)(v5 + 332);
    if ( v4 )
    {
      *(_WORD *)(v5 + 326) &= 0xFFF9u;
      *(float *)(v5 + 336) = 0.0;
    }
    if ( v6 != -1 )
    {
      v7 = v18;
      v8 = 44 * (signed __int16)v18;
      v9 = v8 + a1 + 324;
      v10 = (*(_BYTE *)(v8 + a1 + 326) >> 1) & 3;
      if ( (*(_BYTE *)(v8 + a1 + 326) >> 1) & 3 )
      {
        if ( v10 == 2 )
        {
          v12 = v5 + 360;
          sub_10022FC0(v12, v8 + a1 + 360, (float *)(v8 + a1 + 336), (float *)&v21, (float *)&v19);
          *(_DWORD *)(v9 + 24) = *(_DWORD *)v12;
          *(_DWORD *)(v9 + 28) = *(_DWORD *)(v12 + 4);
        }
        else if ( v10 == 1 )
        {
          result = (*(_BYTE *)(v5 + 326) >> 1) & 3;
          if ( result == 2 )
          {
            v13 = v8 + a1 + 348;
            sub_10022FC0(v13, v5 + 360, (float *)&v17, &v16, (float *)&v19);
            sub_100236E0(v9 + 24, *(float *)(v9 + 32), v16, v5 + 360);
            sub_100191D0(
              44 * *(_WORD *)(v5 + 334) + a1 + 360,
              COERCE_FLOAT(v5 + 360),
              (float *)(v5 + 336),
              (int)&v24,
              (float *)&v23);
            v1 = a1;
          }
          else if ( (*(_BYTE *)(v5 + 326) >> 1) & 3 )
          {
            if ( result != 1 )
            {
              *(_BYTE *)(a1 + 21) = 1;
              *(_WORD *)(a1 + 28) = v7;
              return result;
            }
            v13 = v8 + a1 + 348;
            sub_10022FC0(v13, v5 + 360, (float *)&v17, &v16, (float *)&v19);
          }
          else
          {
            v14 = v5 + 360;
            v13 = v8 + a1 + 348;
            sub_10022FC0(v13, v14, (float *)&v17, &v16, (float *)&v19);
            sub_100236E0(v9 + 24, *(float *)(v9 + 32), v16, v14);
          }
          sub_10022FC0(v13, v9 + 36, (float *)&v17, &v20, (float *)&v22);
          sub_100236E0(v13, *(float *)(v9 + 32), v20, v9 + 36);
          LOBYTE(v15) = (*(_WORD *)(v9 + 2) & 0xC00) == 2048;
          v25 = sub_10063550(v16, v20, v15);
          v17 = LODWORD(v25) & 0x7FFFFFFF;
          v3 = -1;
          *(float *)(v9 + 12) = *(float *)(v9 + 32) * COERCE_FLOAT(LODWORD(v25) & 0x7FFFFFFF);
        }
      }
      else
      {
        *(float *)(v8 + a1 + 336) = 0.0;
      }
      if ( *(_WORD *)(v9 + 8) == v3 )
      {
        result = -1;
        v18 = -1;
        *(_WORD *)(v1 + 28) = -1;
        return result;
      }
    }
  }
  result = v18;
  *(_WORD *)(v1 + 28) = v18;
  return result;
}

//----- (10025C10) --------------------------------------------------------
int __usercall sub_10025C10@<eax>(int result@<eax>)
{
  unsigned __int8 v1; // bl@1
  _WORD *v2; // edi@2
  __int16 v3; // cx@3
  __int16 i; // si@3
  __int16 v5; // dx@7
  int v6; // ecx@7
  __int16 v7; // bp@8
  int v8; // edx@10
  __int16 v9; // cx@10
  __int16 v10; // cx@12
  __int16 v11; // cx@16
  __int16 v12; // cx@18
  int v13; // [sp+Ch] [bp-34h]@7
  int v14; // [sp+10h] [bp-30h]@10
  char v15; // [sp+14h] [bp-2Ch]@10
  __int16 v16; // [sp+1Eh] [bp-22h]@14

  v1 = 0;
  if ( *(_BYTE *)(result + 10) )
  {
    do
    {
      v2 = (_WORD *)(((v1 + 349) << 6) + result);
      if ( *v2 != -1 )
      {
        v3 = *(_WORD *)(result + 14);
        for ( i = 0; v3 != *v2; ++i )
          v3 = *(_WORD *)(44 * v3 + result + 332);
        *v2 = i;
      }
      ++v1;
    }
    while ( v1 < *(_BYTE *)(result + 10) );
  }
  v5 = *(_WORD *)(result + 14);
  v6 = 0;
  v13 = 0;
  if ( v5 != -1 )
  {
    v7 = *(_WORD *)(result + 14);
    *(_WORD *)(result + 14) = 0;
    if ( v5 != -1 )
    {
      do
      {
        if ( v7 != (_WORD)v6 )
        {
          v8 = result + 44 * (signed __int16)v6;
          qmemcpy(&v15, (const void *)(v8 + 324), 0x2Cu);
          v14 = result + 44 * v7;
          qmemcpy((void *)(v8 + 324), (const void *)(v14 + 324), 0x2Cu);
          v9 = *(_WORD *)(v8 + 334);
          if ( v9 != -1 )
            *(_WORD *)(44 * v9 + result + 332) = v13;
          v10 = *(_WORD *)(v8 + 332);
          if ( v10 != -1 )
          {
            if ( v10 == (_WORD)v13 )
            {
              *(_WORD *)(v8 + 332) = v7;
              v16 = v13;
            }
            else
            {
              *(_WORD *)(44 * v10 + result + 334) = v13;
            }
          }
          qmemcpy((void *)(v14 + 324), &v15, 0x2Cu);
          v11 = *(_WORD *)(v14 + 334);
          if ( v11 != -1 )
            *(_WORD *)(44 * v11 + result + 332) = v7;
          v12 = *(_WORD *)(v14 + 332);
          if ( v12 != -1 )
            *(_WORD *)(44 * v12 + result + 334) = v7;
          v6 = v13;
        }
        v7 = *(_WORD *)(44 * (signed __int16)v6++ + result + 332);
        v13 = v6;
      }
      while ( v7 != -1 );
    }
  }
  return result;
}

//----- (10025DA0) --------------------------------------------------------
bool __usercall sub_10025DA0@<al>(unsigned __int8 a1@<al>, int a2@<ecx>, int a3)
{
  int v3; // eax@2
  int v4; // edx@2
  int v5; // eax@2
  char v6; // al@3
  bool result; // al@9

  result = 0;
  if ( a1 != -1 )
  {
    v3 = 180 * a1;
    v4 = *(_DWORD *)(v3 + a2 + 716);
    v5 = a2 + v3;
    if ( v4 == a3 )
    {
      v6 = *(_BYTE *)(v5 + 671);
      if ( !v6 || v6 == 3 || v6 == 6 || v6 == 14 || v6 == 16 || v6 == 17 )
        result = 1;
    }
  }
  return result;
}

//----- (10025DE0) --------------------------------------------------------
signed __int16 __cdecl sub_10025DE0(__int16 a1, const void *a2, int a3)
{
  __int16 v3; // bp@2
  signed __int16 result; // ax@4

  if ( (unsigned __int16)(a1 + 1) > 0x1F4u )
  {
    result = -1;
  }
  else
  {
    v3 = sub_100253E0(a3);
    if ( v3 != -1 )
    {
      qmemcpy((void *)(44 * v3 + a3 + 324), a2, 0x2Cu);
      sub_10025580(a3, v3, a1);
    }
    result = v3;
  }
  return result;
}

//----- (10025E40) --------------------------------------------------------
signed __int16 __cdecl sub_10025E40(float a1, float a2, int a3)
{
  int v3; // esi@2
  int v4; // ebx@2
  double v5; // st7@2
  unsigned __int16 v6; // cx@3
  signed __int16 result; // ax@5
  unsigned int v8; // eax@8
  int v9; // ebp@11
  __int16 v10; // di@11
  int v11; // esi@11
  double v12; // st7@11
  double v13; // st7@14
  double v14; // st7@16
  __int16 v15; // cx@16
  int v16; // edx@16
  float v17; // ST1C_4@20
  int v18; // eax@20
  __int16 v19; // cx@20
  double v20; // st7@20
  float v21; // [sp+4h] [bp-30h]@11
  int v22; // [sp+8h] [bp-2Ch]@11
  float v23; // [sp+1Ch] [bp-18h]@11
  int v24; // [sp+20h] [bp-14h]@8
  char v25; // [sp+24h] [bp-10h]@11
  int v26; // [sp+28h] [bp-Ch]@8
  float v27; // [sp+2Ch] [bp-8h]@13
  float v28; // [sp+30h] [bp-4h]@13

  if ( LOWORD(a1) == -1
    || (v3 = a3, v4 = 44 * SLOWORD(a1) + a3, v5 = a2, a2 >= (double)*(float *)(v4 + 336))
    || (v6 = *(_WORD *)(v4 + 334), v6 == -1) )
  {
    result = -1;
  }
  else
  {
    if ( *(float *)(v4 + 336) - v5 < 25.0 )
      return *(_WORD *)(v4 + 334);
    if ( v5 < 25.0 )
      return LOWORD(a1);
    v8 = (((unsigned int)*(_BYTE *)(v4 + 326) >> 1) & 3) - 1;
    v24 = -1;
    v26 = v6;
    if ( v8 )
    {
      if ( v8 != 1 )
        return v24;
      result = sub_100253E0(a3);
      v24 = (unsigned __int16)result;
      if ( result != -1 )
      {
        v9 = 44 * result + v3;
        qmemcpy((void *)(v9 + 324), (const void *)(v4 + 324), 0x2Cu);
        v10 = v26;
        *(_WORD *)(v9 + 326) &= 0xBFFFu;
        v11 = v4 + 360;
        sub_10022FC0(v4 + 360, 44 * v10 + a3 + 360, &v23, &a1, (float *)&v25);
        v22 = v9 + 360;
        v21 = a1;
        v12 = a2;
LABEL_20:
        v17 = v12;
        sub_100236E0(v11, v17, v21, v22);
        v18 = a3;
        v19 = v24;
        v20 = a2;
        *(float *)(v9 + 336) = *(float *)(v9 + 336) - a2;
        *(float *)(v4 + 336) = v20;
        sub_10025580(v18, v19, v10);
        return v24;
      }
    }
    else
    {
      result = sub_100253E0(a3);
      v24 = (unsigned __int16)result;
      if ( result != -1 )
      {
        v9 = 44 * result + v3;
        qmemcpy((void *)(v9 + 324), (const void *)(v4 + 324), 0x2Cu);
        *(_WORD *)(v9 + 326) &= 0xBFFFu;
        v11 = v4 + 348;
        sub_10022FC0(v4 + 348, v4 + 360, &v23, &a1, (float *)&v25);
        v10 = v26;
        v28 = a1;
        sub_10022FC0(v4 + 348, 44 * (signed __int16)v26 + a3 + 360, &v23, &v27, (float *)&v25);
        if ( (*(_WORD *)(v4 + 326) & 0xC00) == 2048 )
          v13 = a1 - a2 / v23;
        else
          v13 = a2 / v23 + a1;
        a1 = v13;
        v14 = sub_100637E0(a1);
        v15 = *(_WORD *)(v4 + 326);
        a1 = v14;
        LOBYTE(v16) = (v15 & 0xC00) == 2048;
        v28 = sub_10063550(v27, v28, v16);
        if ( sub_10063660(v27, v28, a1) )
        {
          v22 = v9 + 360;
          v21 = a1;
          v12 = v23;
          goto LABEL_20;
        }
        result = v10;
      }
    }
  }
  return result;
}

//----- (10026120) --------------------------------------------------------
char __usercall sub_10026120@<al>(int a1@<ebx>, int a2)
{
  int v2; // edi@1
  char v3; // dl@1
  char v4; // cl@1
  char v5; // dl@1
  int v6; // eax@1
  int v7; // ecx@6
  int v8; // esi@6
  int v9; // edi@6
  unsigned __int8 v10; // al@6
  __int16 v11; // dx@11
  __int16 v12; // ax@12
  bool v13; // zf@15
  __int16 v14; // cx@23
  __int16 v15; // cx@34
  int v16; // ecx@35
  char v17; // dl@35
  char *v18; // ecx@35
  int v19; // edx@39
  const void *v20; // edi@56
  char v21; // al@57
  char v22; // al@59
  int v23; // edx@74
  float v24; // eax@83
  signed int v25; // edx@84
  unsigned __int8 v27; // [sp+Fh] [bp-111h]@6
  float v28; // [sp+10h] [bp-110h]@2
  unsigned __int8 v29; // [sp+17h] [bp-109h]@1
  int v30; // [sp+18h] [bp-108h]@6
  char v31; // [sp+1Fh] [bp-101h]@1
  _BYTE *v32; // [sp+20h] [bp-100h]@6
  int v33; // [sp+24h] [bp-FCh]@6
  int v34; // [sp+28h] [bp-F8h]@3
  float v35; // [sp+2Ch] [bp-F4h]@62
  float v36; // [sp+30h] [bp-F0h]@64
  float v37; // [sp+34h] [bp-ECh]@65
  float v38; // [sp+38h] [bp-E8h]@63
  int v39; // [sp+3Ch] [bp-E4h]@1
  char v40; // [sp+40h] [bp-E0h]@77
  float v41; // [sp+44h] [bp-DCh]@77
  int v42; // [sp+48h] [bp-D8h]@1
  char v43; // [sp+4Ch] [bp-D4h]@39
  char v44; // [sp+4Eh] [bp-D2h]@39
  char v45; // [sp+50h] [bp-D0h]@6
  float v46; // [sp+6Ch] [bp-B4h]@39
  float v47; // [sp+78h] [bp-A8h]@39
  float v48; // [sp+84h] [bp-9Ch]@64
  float v49; // [sp+88h] [bp-98h]@65
  int v50; // [sp+9Ch] [bp-84h]@62
  int v51; // [sp+A0h] [bp-80h]@63
  char v52; // [sp+ACh] [bp-74h]@1
  char v53; // [sp+ADh] [bp-73h]@1
  char v54; // [sp+AEh] [bp-72h]@1
  char v55; // [sp+AFh] [bp-71h]@1
  char v56; // [sp+B0h] [bp-70h]@1
  char v57; // [sp+B1h] [bp-6Fh]@1
  int v58; // [sp+B4h] [bp-6Ch]@39
  int v59; // [sp+B8h] [bp-68h]@39
  int v60; // [sp+BCh] [bp-64h]@39
  unsigned __int8 v61; // [sp+C0h] [bp-60h]@39
  float v62; // [sp+CCh] [bp-54h]@39
  float v63; // [sp+D0h] [bp-50h]@39
  int v64; // [sp+E8h] [bp-38h]@39
  int v65; // [sp+ECh] [bp-34h]@39
  int v66; // [sp+F0h] [bp-30h]@39
  char v67; // [sp+F4h] [bp-2Ch]@78
  int v68; // [sp+118h] [bp-8h]@78
  int v69; // [sp+11Ch] [bp-4h]@78

  v2 = *(_WORD *)(a1 + 28);
  v29 = 0;
  v31 = 0;
  v39 = v2;
  memset(&v42, 0, 0x78u);
  v3 = *(_BYTE *)(a2 + 241);
  LOBYTE(v6) = *(_BYTE *)(a2 + 242);
  v55 = *(_BYTE *)(a2 + 243);
  v4 = *(_BYTE *)(a2 + 600);
  v52 = v3;
  v5 = *(_BYTE *)(a2 + 586);
  v53 = v6;
  LOBYTE(v6) = *(_BYTE *)(a2 + 244);
  v54 = v4;
  v56 = v5;
  v57 = v6;
  if ( (_WORD)v2 == -1
    || (LOWORD(v6) = *(_WORD *)(44 * (signed __int16)v2 + a1 + 332), LODWORD(v28) = (unsigned __int16)v6,
                                                                     (_WORD)v6 == -1)
    || (LOWORD(v6) = *(_WORD *)(44 * (signed __int16)v6 + a1 + 332), v34 = (unsigned __int16)v6, (_WORD)v6 == -1) )
  {
LABEL_93:
    *(_WORD *)(a1 + 28) = -1;
    return v6;
  }
  while ( !v31 && v29 < 0xAu )
  {
    v7 = 44 * (signed __int16)v34;
    v8 = v7 + a1 + 324;
    v9 = 44 * SLOWORD(v28) + a1 + 324;
    v45 = -1;
    v10 = *(_BYTE *)v8;
    v13 = *(_BYTE *)(a1 + 17) == *(_BYTE *)v8;
    LOBYTE(v33) = 0;
    v32 = (_BYTE *)(44 * SLOWORD(v28) + a1 + 324);
    v30 = v7 + a1 + 324;
    v27 = v10;
    if ( v13 && *(_BYTE *)(a2 + 120) != -1 && *(_BYTE *)(a2 + 117) != *(_BYTE *)(180 * v10 + a2 + 608) )
      *(_BYTE *)(a2 + 120) = -1;
    if ( *(_WORD *)(v9 + 2) & 0x1000 )
      goto LABEL_17;
    v11 = *(_WORD *)(v7 + a1 + 326);
    if ( *(_WORD *)(v7 + a1 + 326) & 0x2000 )
      goto LABEL_17;
    v12 = ((unsigned __int8)*(_WORD *)(v9 + 2) >> 1) & 3;
    if ( v12 == 2 && (v11 & 6) == 4 )
    {
      if ( !(*(_WORD *)(v9 + 2) & 1) )
        goto LABEL_18;
LABEL_15:
      v13 = *(_BYTE *)v9 == *(_BYTE *)v8;
      LOBYTE(v12) = 4;
LABEL_16:
      if ( v13 )
        goto LABEL_17;
      goto LABEL_18;
    }
    if ( v12 == 1 && (v14 = ((unsigned __int8)v11 >> 1) & 3, v14 == 2)
      || v12 == 2 && (v14 = ((unsigned __int8)v11 >> 1) & 3, v14 == 1) )
    {
      LOBYTE(v12) = 0;
      if ( !(*(_WORD *)(v9 + 2) & 1) )
        goto LABEL_18;
      if ( v14 != 2 )
      {
LABEL_17:
        LOBYTE(v12) = -1;
        goto LABEL_18;
      }
      goto LABEL_15;
    }
    if ( v12 == 1 && (v11 & 6) == 2 || v12 != 2 && v12 != 1 || v11 & 6 )
      goto LABEL_17;
    v15 = *(_WORD *)(v8 + 8);
    LOBYTE(v12) = -1;
    if ( v15 != -1 )
    {
      v16 = 44 * v15;
      v17 = *(_BYTE *)(v16 + a1 + 326);
      v18 = (char *)(v16 + a1 + 324);
      if ( (v17 & 6) == 4 )
      {
        LOBYTE(v12) = 5;
        v27 = *v18;
        if ( *(_BYTE *)(a2 + 237) )
        {
          v13 = *(_BYTE *)v30 == *(_BYTE *)(a2 + 241);
          goto LABEL_16;
        }
      }
    }
LABEL_18:
    if ( *(_BYTE *)(a1 + 24) == 2 || *(_BYTE *)(a1 + 17) != *(_BYTE *)v9 || *(_BYTE *)v9 == *(_BYTE *)v30 )
    {
      if ( (_BYTE)v12 != -1 )
      {
        v19 = 180 * v27 + a2;
        qmemcpy(&v61, (const void *)(v19 + 612), 0x34u);
        v47 = v63;
        v46 = v62;
        v44 = *(_BYTE *)(v19 + 671);
        v43 = (v61 >> 3) & 1;
        v58 = v64;
        v59 = v65;
        v60 = v66;
        if ( (*(_WORD *)(v30 + 2) & 0x3F0) == 480
          && *(_BYTE *)(a2 + 44)
          && *(_BYTE *)(a2 + 45) == *(_BYTE *)(180 * *(_BYTE *)v30 + a2 + 608) )
        {
          v46 = *(float *)(a2 + 52);
          v47 = *(float *)(a2 + 56);
        }
      }
    }
    else
    {
      LOBYTE(v12) = -1;
    }
    switch ( (unsigned __int8)v12 )
    {
      case 1u:
        sub_10031230(a1, v28, (int)&v42);
        break;
      case 2u:
        sub_10031420(a1, v28, (int)&v42);
        break;
      case 0u:
        sub_10030C80(a1, v28, (int)&v42);
        break;
      case 4u:
        sub_1002FE20(a1, v28, (int)&v42);
        break;
      case 5u:
        sub_100301E0(a1, v28, (int)&v42);
        break;
      default:
        v45 = -1;
        break;
    }
    if ( *(_BYTE *)(a1 + 17) == v27 && *v32 != *(_BYTE *)v30 && *(_BYTE *)v30 < 0x64u )
    {
      if ( *(_BYTE *)(a1 + 16) )
      {
        if ( *(_BYTE *)(a2 + 117) == *(_BYTE *)(180 * v27 + a2 + 608) && 0.0 != *(float *)(a2 + 152) )
        {
          v20 = (const void *)(a2 + 112);
          if ( !sub_100256C0(a2 + 112, (int)&v42) )
          {
            v21 = *(_BYTE *)(a2 + 118);
            if ( (v21 == 7 || v21 == 10) && ((v22 = *(_BYTE *)(a2 + 120), v22 == 4) || v22 == 5) )
            {
              v35 = *(float *)(a2 + 196) - *(float *)&v50;
              LODWORD(v35) &= 0x7FFFFFFFu;
              if ( v35 > 0.000001
                || (v38 = *(float *)(a2 + 200) - *(float *)&v51, LODWORD(v38) &= 0x7FFFFFFFu, v38 > 0.000001)
                || (v36 = *(float *)(a2 + 172) - v48, LODWORD(v36) &= 0x7FFFFFFFu, v36 > 0.000001)
                || (v37 = *(float *)(a2 + 176) - v49, LODWORD(v37) &= 0x7FFFFFFFu, v37 > 0.000001)
                || *(_BYTE *)v20 != (_BYTE)v42 )
              {
                qmemcpy(&v42, v20, 0x78u);
                LOBYTE(v33) = 1;
                sub_1002F7B0(a1, v28, (int)&v42);
              }
            }
            else
            {
              qmemcpy(&v42, v20, 0x78u);
              LOBYTE(v33) = 1;
            }
          }
        }
      }
    }
    if ( v45 != -1 && 500 - *(_WORD *)(a1 + 30) < 2 )
    {
      *(_BYTE *)(a1 + 21) = 1;
      *(_WORD *)(a1 + 28) = -1;
      LOBYTE(v6) = sub_100175E0("..\\lib\\nav\\nav_rte_trj.c", 3499, 0, 0);
      return v6;
    }
    switch ( v45 )
    {
      case 0:
      case 1:
      case 2:
        sub_1002D390(v33, (int)&v42, (__int16 *)&v28, a1, a2);
        break;
      case 3:
      case 4:
        if ( (_BYTE)v33 && !(*(_BYTE *)(v30 + 2) & 6) )
        {
          LODWORD(v28) = (unsigned __int16)v34;
          v23 = 44 * *(_WORD *)(v30 + 8);
          v32 = (_BYTE *)v30;
          v30 = v23 + a1 + 324;
        }
        sub_1002DE90(v33, (int)&v42, (__int16 *)&v28, a1);
        break;
      case 5:
        if ( (_BYTE)v33 )
        {
          sub_10022FC0((int)(v32 + 36), (int)&v50, &v41, (float *)&v40, (float *)&v40);
          if ( v41 > 25.0 )
          {
            qmemcpy(&v67, (const void *)v30, 0x2Cu);
            v68 = v50;
            v69 = v51;
            LODWORD(v28) = (unsigned __int16)sub_10025DE0(SLOWORD(v28), &v67, a1);
          }
        }
        sub_1002E010(v33, (int)&v42, (__int16 *)&v28, a1);
        break;
      default:
        break;
    }
    if ( v45 == -1 )
      ++v29;
    else
      v31 = 1;
    LODWORD(v24) = *(_WORD *)(44 * SLOWORD(v28) + a1 + 332);
    v39 = LOWORD(v28);
    v28 = v24;
    if ( LOWORD(v24) == -1 )
      v25 = -1;
    else
      v25 = *(_WORD *)(44 * SLOWORD(v24) + a1 + 332);
    LOBYTE(v6) = v30;
    v13 = *v32 == *(_BYTE *)v30;
    v34 = v25;
    if ( !v13 && *(_BYTE *)(a1 + 17) == v27 )
    {
      v6 = a2;
      qmemcpy((void *)(a2 + 112), &v42, 0x78u);
      *(_BYTE *)(v6 + 117) = *(_BYTE *)(180 * v27 + v6 + 608);
    }
    if ( (_WORD)v25 == -1 )
    {
      *(_WORD *)(a1 + 28) = -1;
      return v6;
    }
  }
  if ( (_WORD)v34 == -1 )
    goto LABEL_93;
  *(_WORD *)(a1 + 28) = v39;
  return v6;
}

//----- (100268A0) --------------------------------------------------------
void __usercall sub_100268A0(int a1@<esi>, int a2, unsigned __int8 a3, unsigned __int8 *a4, float *a5)
{
  float *v5; // edx@1
  unsigned __int8 v6; // bl@1
  int v7; // eax@1
  _BYTE *v8; // edi@2
  int v9; // eax@3
  char v10; // cl@5
  char v11; // cl@6
  char v12; // cl@10
  double v13; // st7@16

  v5 = a5;
  v6 = a3;
  *a4 = -1;
  *a5 = 9.9999996e24;
  v7 = 0;
  if ( a3 < *(_BYTE *)(a1 + 4) )
  {
    while ( 1 )
    {
      v8 = (_BYTE *)(180 * v6 + a1 + 772);
      if ( a2 )
      {
        v9 = sub_100253A0(v6, a1);
        v7 = sub_1002A190((_BYTE *)(a2 + 284), v9);
        v5 = a5;
      }
      if ( v7 )
      {
        v10 = *(_BYTE *)(v7 + 2);
        if ( !(v10 & 0x40) )
        {
          v11 = v10 & 7;
          if ( v11 == 2 || v11 == 4 || v11 == 5 )
            break;
        }
      }
      if ( !(*v8 & 0x40) )
      {
        v12 = *v8 & 7;
        if ( v12 == 2 || v12 == 4 || v12 == 5 )
        {
          *a4 = v6;
          if ( (*v8 & 7) == 5 )
            v13 = *(float *)(180 * v6 + a1 + 780);
          else
            v13 = *(float *)(180 * v6 + a1 + 776);
          goto LABEL_21;
        }
      }
      if ( ++v6 >= *(_BYTE *)(a1 + 4) )
        goto LABEL_22;
    }
    *a4 = v6;
    if ( (*(_BYTE *)(v7 + 2) & 7) == 5 )
      v13 = *(float *)(v7 + 12);
    else
      v13 = *(float *)(v7 + 8);
LABEL_21:
    *v5 = v13;
  }
LABEL_22:
  if ( a3 == 100 && !(*(_BYTE *)(a2 + 7353) & 0x40) && *(float *)(a2 + 7356) < 9.8999998e24 )
  {
    *v5 = *(float *)(a2 + 7356);
    *a4 = 100;
  }
}

//----- (100269B0) --------------------------------------------------------
void __usercall sub_100269B0(int a1@<eax>, int a2)
{
  double v2; // st7@1
  int v3; // esi@1
  int v4; // edi@1
  unsigned __int8 v5; // al@1
  int v6; // ebx@2
  float v7; // ST08_4@3
  int v8; // eax@3
  int v9; // ebp@3
  int v10; // eax@3
  int v11; // eax@3
  float v12; // ecx@7
  double v13; // st6@9
  double v14; // st5@9
  double v15; // st4@13
  int v16; // edx@13
  double v17; // rt1@17
  double v18; // st4@17
  double v19; // st5@17
  float v20; // ST20_4@22
  __int16 v21; // si@22
  int v22; // eax@23
  char v23; // dl@27
  double v24; // st7@29
  int v25; // ecx@30
  float v26; // ecx@31
  float v27; // ST20_4@33
  double v28; // st7@33
  double v29; // st6@33
  double v30; // st5@34
  int v31; // edx@34
  double v32; // rtt@38
  double v33; // st5@38
  double v34; // st7@38
  __int16 v35; // ax@43
  unsigned __int8 v36; // [sp+1Bh] [bp-9h]@1
  float v37; // [sp+1Ch] [bp-8h]@7
  float v38; // [sp+1Ch] [bp-8h]@17
  float v39; // [sp+1Ch] [bp-8h]@38
  float v40; // [sp+20h] [bp-4h]@5
  float v41; // [sp+20h] [bp-4h]@30
  float v42; // [sp+28h] [bp+4h]@43

  v2 = 0.0;
  v3 = a2;
  v4 = a1;
  v5 = 0;
  v36 = 0;
  if ( *(_BYTE *)(a2 + 284) )
  {
    while ( 1 )
    {
      v6 = 52 * v5 + v3;
      if ( v2 != *(float *)(v6 + 336) )
        break;
LABEL_26:
      v5 = v36++ + 1;
      if ( v36 >= *(_BYTE *)(v3 + 284) )
        goto LABEL_27;
    }
    v7 = v2;
    v8 = sub_10029F80(*(_BYTE *)(v6 + 289), v7);
    v9 = sub_10025040(v4, v8);
    v10 = sub_10029F80(*(_BYTE *)(v6 + 288), 0.0);
    v11 = sub_10025040(v4, v10);
    if ( !v9 || !v11 )
      goto LABEL_24;
    v40 = *(float *)(v6 + 336) + *(float *)(v9 + 28);
    v2 = 0.0;
    if ( *(float *)(v6 + 336) >= 0.0 )
    {
      LODWORD(v12) = *(_WORD *)(v9 + 12);
      v13 = v40;
      if ( *(float *)(v11 + 28) <= (double)v40 )
        goto LABEL_25;
      v14 = *(float *)(v9 + 28);
    }
    else
    {
      if ( v11 == v9 )
      {
        LODWORD(v12) = *(_WORD *)(v4 + 14);
        v37 = 0.0;
      }
      else
      {
        LODWORD(v12) = *(_WORD *)(v11 + 12);
        v37 = *(float *)(v11 + 28);
      }
      v13 = v40;
      v14 = v37;
      if ( v37 >= (double)v40 )
        goto LABEL_25;
    }
    v15 = v13;
    v16 = 0;
    if ( v13 > v14 )
    {
      while ( LOWORD(v12) != -1 )
      {
        LODWORD(v12) = *(_WORD *)(44 * SLOWORD(v12) + v4 + 332);
        ++v16;
        v17 = v15;
        v18 = v14 + *(float *)(44 * SLOWORD(v12) + v4 + 336);
        v19 = v17;
        v38 = v18;
        if ( (_WORD)v16 == 500 )
          v12 = -6.8056469e38/*NaN*/;
        if ( v38 >= v19 )
        {
          v14 = v38;
          goto LABEL_21;
        }
        v15 = v19;
        v14 = v38;
      }
      goto LABEL_25;
    }
LABEL_21:
    if ( LOWORD(v12) != -1 )
    {
      v20 = v14 - v13;
      v21 = sub_10025E40(v12, v20, v4);
      if ( v21 != -1 )
      {
        v22 = sub_10029F80(*(_BYTE *)(v6 + 289), *(float *)(v6 + 336));
        sub_100254E0(v4, v21, v40, v22);
      }
LABEL_24:
      v2 = 0.0;
    }
LABEL_25:
    v3 = a2;
    goto LABEL_26;
  }
LABEL_27:
  v23 = sub_10029E80(v4, 16744704);
  if ( v23 != -1 && 9.9999996e24 != *(float *)(v3 + 7356) )
  {
    v24 = 0.0;
    if ( 0.0 != *(float *)(v3 + 7364) )
    {
      v25 = v4 + ((unsigned __int8)v23 << 6);
      v41 = *(float *)(v25 + 22352) + *(float *)(v3 + 7364);
      if ( v23 )
      {
        v24 = *(float *)(v25 + 22288);
        LODWORD(v26) = *(_WORD *)((((unsigned __int8)v23 + 348) << 6) + v4);
      }
      else
      {
        LODWORD(v26) = *(_WORD *)(v4 + 14);
      }
      v27 = v24;
      v28 = v27;
      v29 = v41;
      if ( v41 > (double)v27 )
      {
        v30 = v41;
        v31 = 0;
        if ( v29 > v28 )
        {
          while ( LOWORD(v26) != -1 )
          {
            LODWORD(v26) = *(_WORD *)(44 * SLOWORD(v26) + v4 + 332);
            ++v31;
            v32 = v30;
            v33 = v28 + *(float *)(44 * SLOWORD(v26) + v4 + 336);
            v34 = v32;
            v39 = v33;
            if ( (_WORD)v31 == 500 )
              v26 = -6.8056469e38/*NaN*/;
            if ( v39 >= v34 )
            {
              v28 = v39;
              goto LABEL_42;
            }
            v30 = v34;
            v28 = v39;
          }
        }
        else
        {
LABEL_42:
          if ( LOWORD(v26) != -1 )
          {
            v42 = v28 - v29;
            v35 = sub_10025E40(v26, v42, v4);
            if ( v35 != -1 )
              sub_100254E0(v4, v35, v41, 16744960);
          }
        }
      }
    }
  }
}

//----- (10026CD0) --------------------------------------------------------
char __usercall sub_10026CD0@<al>(int a1@<ebx>, int a2)
{
  int v2; // edi@1
  char v3; // al@8
  int v4; // eax@23
  int v5; // eax@29
  int v6; // edx@30
  int v7; // ecx@32
  char v9; // [sp+1Dh] [bp-13h]@6
  unsigned __int8 v10; // [sp+1Eh] [bp-12h]@9
  char v11; // [sp+28h] [bp-8h]@23
  char v12; // [sp+2Ch] [bp-4h]@23

  v2 = *(_DWORD *)(a1 + 7480);
  if ( sub_10025010(a2, v2) == -1 || *(_BYTE *)(a1 + 4) & 2 || *(_BYTE *)a2 )
    *(_BYTE *)(a1 + 3) |= 0x30u;
  else
    *(_BYTE *)(a1 + 3) = *(_BYTE *)(a1 + 3) & 0xEF | 0x20;
  v9 = -1;
  if ( sub_10025DA0(*(_BYTE *)a1, a2, v2) )
  {
    v9 = *(_BYTE *)a1;
    if ( *(_BYTE *)a1 != -1 )
      goto LABEL_29;
  }
  else if ( *(_BYTE *)a1 == 101 && *(_DWORD *)(a2 + 18896) == *(_DWORD *)(a1 + 7660) && *(_BYTE *)(a2 + 18851) == 13 )
  {
    *(_BYTE *)(a1 + 3) |= 0x30u;
    v9 = 101;
    goto LABEL_29;
  }
  v3 = *(_BYTE *)(a1 + 3);
  if ( (*(_BYTE *)(a1 + 3) & 0x30) != 32 )
    goto LABEL_17;
  v10 = 0;
  if ( !*(_BYTE *)(a2 + 4) )
    goto LABEL_17;
  do
  {
    if ( sub_10025DA0(v10, a2, v2) )
      v9 = v10;
    if ( v9 != -1 && v10 == *(_BYTE *)(a2 + 243) )
      break;
    ++v10;
  }
  while ( v10 < *(_BYTE *)(a2 + 4) );
  if ( v9 == -1 )
  {
    v3 = *(_BYTE *)(a1 + 3);
LABEL_17:
    if ( *(_BYTE *)a1 < 0x64u || (v9 = *(_BYTE *)a1, *(_BYTE *)a1 > 0x66u) )
      v9 = 100;
    *(_BYTE *)(a1 + 3) = v3 | 0x30;
    qmemcpy((void *)(a2 + 18608), (const void *)(a1 + 7372), 0xB4u);
    *(_BYTE *)(a2 + 18608) = -2;
    *(_BYTE *)(a2 + 5) = 100;
    if ( v9 != 101 )
      qmemcpy((void *)(a2 + 18612), (const void *)(a1 + 232), 0x34u);
    if ( *(_BYTE *)(a1 + 4) & 2 )
    {
      *(_BYTE *)(a2 + 3) = 101;
      qmemcpy((void *)(a2 + 18788), (const void *)(a1 + 7552), 0xB4u);
      *(_WORD *)(a2 + 18792) &= 0xFBFFu;
      *(_BYTE *)(a2 + 18788) = -1;
      sub_10022FC0(a1 + 264, a1 + 7492, (float *)&v12, (float *)&v11, (float *)(a2 + 18800));
      v4 = *(_DWORD *)(a2 + 18732);
      *(_DWORD *)(a2 + 18824) = *(_DWORD *)(a2 + 18728);
      *(_DWORD *)(a2 + 18828) = v4;
    }
    else
    {
      *(_BYTE *)(a2 + 3) = 100;
    }
  }
LABEL_29:
  LOBYTE(v5) = v9;
  *(_BYTE *)a1 = v9;
  if ( (unsigned __int8)v9 <= 0x64u )
  {
    v6 = 180 * (unsigned __int8)v9 + a2 + 608;
    *(_BYTE *)(v6 + 63) = 6;
    *(_DWORD *)(v6 + 120) = *(_DWORD *)(a1 + 7492);
    *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 732) = *(_DWORD *)(a1 + 7496);
    *(_DWORD *)(v6 + 112) = *(_DWORD *)(a1 + 7484);
    *(_DWORD *)(v6 + 116) = *(_DWORD *)(a1 + 7488);
    *(_BYTE *)(v6 + 64) = *(_BYTE *)(a1 + 7436);
    qmemcpy((void *)(180 * (unsigned __int8)v9 + a2 + 612), (const void *)(a1 + 232), 0x34u);
    if ( *(float *)(a1 + 8) < 3.141592741012573 && *(float *)(a1 + 8) >= -3.141592741012573 )
    {
      sub_10024FA0(
        *(float *)(a1 + 8),
        *(float *)(180 * (unsigned __int8)v9 + a2 + 712),
        180 * (unsigned __int8)v9 + a2 + 728,
        180 * (unsigned __int8)v9 + a2 + 720);
      v7 = *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 724);
      *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 644) = *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 720);
      *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 648) = v7;
      *(_BYTE *)(dword_10504ED0 + 120) = -1;
      *(float *)(180 * (unsigned __int8)v9 + a2 + 620) = 6.283185;
      v6 = 180 * (unsigned __int8)v9 + a2 + 608;
    }
    if ( *(float *)(v6 + 112) > 1.570796370506287 || *(float *)(v6 + 116) > 3.141592741012573 )
    {
      *(_DWORD *)(v6 + 112) = *(_DWORD *)(a1 + 264);
      *(_DWORD *)(v6 + 116) = *(_DWORD *)(a1 + 268);
    }
    LOBYTE(v5) = *(_BYTE *)(a1 + 3) & 0x30;
    if ( (_BYTE)v5 == 48 && *(_BYTE *)(v6 + 56) )
    {
      *(_DWORD *)(a2 + 20) = *(_DWORD *)(v6 + 108);
      *(_DWORD *)(a2 + 24) = *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 728);
      v5 = *(_DWORD *)(180 * (unsigned __int8)v9 + a2 + 732);
      *(_DWORD *)(a2 + 28) = v5;
    }
  }
  if ( (*(_BYTE *)(a1 + 3) & 0x30) == 48 )
  {
    *(_BYTE *)(a2 + 246) = -1;
    *(_BYTE *)(a2 + 239) = 0;
    *(_BYTE *)(a2 + 240) = 0;
    *(_BYTE *)(a2 + 242) = -1;
    *(_BYTE *)(a2 + 600) = -1;
    *(_BYTE *)(a2 + 584) = -1;
    *(_BYTE *)(a2 + 586) = -1;
  }
  return v5;
}
// 10504ED0: using guessed type int dword_10504ED0;

//----- (10027000) --------------------------------------------------------
void __usercall sub_10027000(int a1@<eax>, int a2@<ecx>, int a3@<edi>, int a4)
{
  int v4; // ebx@1
  int v5; // esi@1
  char v6; // al@2
  char v7; // al@8
  float v8; // ST08_4@9
  int v9; // eax@11
  int v10; // ecx@11
  double v11; // st7@11
  int v12; // edx@11
  int v13; // ecx@13
  int v14; // edx@13
  int v15; // eax@13
  double v16; // st7@13
  char v17; // ST20_1@16
  int v18; // eax@17
  char v19; // dl@17
  int v20; // ebp@17
  int v21; // ecx@18
  char v22; // al@22
  __int16 v23; // ax@27
  __int16 v24; // ax@31
  __int16 v25; // ax@34
  char v26; // bl@44
  bool v27; // zf@45
  unsigned __int16 v28; // ax@46
  _WORD *v29; // eax@51
  signed int v30; // ecx@51
  unsigned __int8 v31; // cl@54
  _WORD *v32; // eax@56
  int v33; // ecx@56
  _WORD *v34; // eax@62
  signed int v35; // ecx@62
  __int16 v36; // dx@66
  int v37; // ebp@68
  float v38; // ST24_4@71
  char v39; // [sp+1Bh] [bp-15h]@1
  char v40; // [sp+1Bh] [bp-15h]@65
  char v41; // [sp+1Ch] [bp-14h]@18
  float v42; // [sp+1Ch] [bp-14h]@68
  int v43; // [sp+20h] [bp-10h]@18
  float v44; // [sp+20h] [bp-10h]@68
  int v45; // [sp+28h] [bp-8h]@68
  int v46; // [sp+2Ch] [bp-4h]@68

  v4 = a2;
  v5 = a1;
  v39 = 0;
  if ( a2 )
  {
    *(_BYTE *)(a1 + 24) = (*(_BYTE *)(a2 + 4) >> 3) & 7;
    *(_BYTE *)(a1 + 17) = *(_BYTE *)a2;
    *(_BYTE *)(a1 + 16) = *(_BYTE *)(a2 + 1);
    v6 = (*(_BYTE *)(a2 + 3) >> 4) & 3;
    if ( v6 == 2 || v6 == 3 )
      sub_10026CD0(a2, a3);
  }
  else
  {
    *(_BYTE *)(a1 + 24) = 2;
    *(_BYTE *)(a1 + 17) = -1;
    *(_BYTE *)(a1 + 16) = 0;
  }
  sub_10024AA0(v5 + 104);
  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    if ( *(float *)(dword_10504EDC + 1276) >= 9.8999998e24 )
    {
      v9 = *(_DWORD *)(v5 + 144);
      v10 = *(_DWORD *)(v5 + 148);
      *(float *)(v5 + 48) = *(float *)(v5 + 124);
      v11 = *(float *)(v5 + 108);
      v12 = *(_DWORD *)(v5 + 152);
      *(_DWORD *)(v5 + 60) = v9;
      *(float *)(v5 + 44) = v11;
      *(_DWORD *)(v5 + 64) = v10;
      *(_DWORD *)(v5 + 68) = v12;
    }
    else
    {
      *(float *)(v5 + 48) = *(float *)(dword_10504EDC + 1276);
      *(float *)(v5 + 44) = *(float *)(dword_10504EDC + 1272);
      v7 = *(_BYTE *)(dword_10504EDC + 1324);
      *(_BYTE *)(v5 + 60) = v7;
      if ( v7 )
      {
        sub_10063950(*(float *)(dword_10504EDC + 1328), v5 + 64, v5 + 68);
        v8 = -*(float *)(dword_10504EDC + 1332);
        sub_100299A0(v5 + 64, v8, v5 + 64);
        v39 = 1;
      }
      else
      {
        v39 = 1;
        *(float *)(v5 + 64) = 0.0;
        *(float *)(v5 + 68) = 0.0;
      }
    }
    *(float *)(v5 + 52) = *(float *)(dword_10504EDC + 1320);
    sub_1004F2C0();
  }
  else
  {
    v13 = *(_DWORD *)(v5 + 144);
    v14 = *(_DWORD *)(v5 + 148);
    *(float *)(v5 + 48) = *(float *)(v5 + 124);
    v15 = *(_DWORD *)(v5 + 152);
    *(float *)(v5 + 44) = *(float *)(v5 + 108);
    *(_DWORD *)(v5 + 60) = v13;
    v16 = *(float *)(v5 + 108);
    *(_DWORD *)(v5 + 64) = v14;
    *(float *)(v5 + 52) = v16;
    *(_DWORD *)(v5 + 68) = v15;
  }
  if ( *(_BYTE *)(v5 + 19) )
  {
    if ( *(_BYTE *)(v5 + 17) == -1 )
      v17 = *(_BYTE *)(a3 + 5);
    v18 = sub_10024D30(a4, *(_WORD *)(dword_10504EDC + 828));
    v20 = v18;
    if ( !v18 )
    {
LABEL_51:
      v29 = (_WORD *)(a3 + 612);
      v30 = 102;
      do
      {
        *v29 &= 0xFFBFu;
        v29 += 90;
        --v30;
      }
      while ( v30 );
      if ( v19 == -1 )
      {
        if ( *(_BYTE *)(a3 + 5) != -1 )
        {
          v34 = (_WORD *)(a3 + 612);
          v35 = 102;
          do
          {
            *v34 |= 0x40u;
            v34 += 90;
            --v35;
          }
          while ( v35 );
        }
      }
      else
      {
        v31 = *(_BYTE *)(a3 + 5);
        if ( v31 != -1 && v31 <= (unsigned __int8)v19 )
        {
          v32 = (_WORD *)(180 * v31 + a3 + 612);
          v33 = (unsigned __int8)(v19 - v31 + 1);
          do
          {
            *v32 |= 0x40u;
            v32 += 90;
            --v33;
          }
          while ( v33 );
        }
      }
      sub_10025440(v5);
      *(_WORD *)(v5 + 28) = -1;
      *(_BYTE *)(v5 + 23) = 0;
      *(_WORD *)(v5 + 26) = -1;
      *(_BYTE *)(v5 + 22) = -1;
      *(_DWORD *)(v5 + 56) = sub_10048020();
      *(_DWORD *)(v5 + 36) = 0;
      *(_DWORD *)(v5 + 32) = 0;
      goto LABEL_71;
    }
    *(_BYTE *)(v5 + 18) = (*(_WORD *)(v18 + 2) >> 4) & 0x3F;
    v43 = sub_10024D00(a3, *(_BYTE *)v18);
    v41 = *(_BYTE *)v20;
    if ( !*(_BYTE *)(a3 + 44) || *(_BYTE *)(a3 + 45) == *(_BYTE *)(180 * *(_BYTE *)v20 + a3 + 608) )
    {
      if ( sub_10025680(v21, v20) || (*(_WORD *)(v20 + 2) & 0x3F0) == 80 )
      {
        v22 = *(_BYTE *)(v43 + 63);
        if ( v22 == 11 || v22 == 12 || v22 == 13 )
        {
          if ( sub_10025610(v20) )
          {
            *(_BYTE *)(a3 + 50) = 0;
            *(_BYTE *)(a3 + 49) = 0;
            *(_BYTE *)(a3 + 48) = 1;
            v24 = (*(_WORD *)(v20 + 2) >> 4) & 0x3F;
            if ( v24 == 10 || v24 == 14 )
              *(_BYTE *)(a3 + 48) = 0;
            goto LABEL_43;
          }
          *(_BYTE *)(a3 + 120) = -1;
          v25 = (*(_WORD *)(v20 + 2) >> 4) & 0x3F;
          if ( v25 == 5 )
          {
            *(_BYTE *)(a3 + 50) = 0;
            *(_BYTE *)(a3 + 49) = 1;
            *(_BYTE *)(a3 + 48) = 1;
            if ( *(_WORD *)(52 * *(_BYTE *)v20 + v4 + 7732) & 0x400 && *(_WORD *)(52 * *(_BYTE *)v20 + v4 + 7732) & 1 )
              *(_BYTE *)(a3 + 50) = 1;
            goto LABEL_43;
          }
          if ( v25 != 25 || *(_BYTE *)(v5 + 24) == 2 )
          {
            *(_BYTE *)(a3 + 50) = 1;
            if ( v25 == 26 )
            {
              *(_BYTE *)(a3 + 49) = 0;
              goto LABEL_42;
            }
          }
          else
          {
            *(_BYTE *)(a3 + 50) = 0;
          }
          *(_BYTE *)(a3 + 49) = 1;
LABEL_42:
          *(_BYTE *)(a3 + 48) = 1;
          goto LABEL_43;
        }
      }
      if ( *(_BYTE *)(v43 + 63) == 15 )
      {
        if ( !v39 )
        {
          v23 = (*(_WORD *)(v20 + 2) >> 4) & 0x3F;
          if ( v23 != 29 && v23 != 30 )
          {
            *(_BYTE *)(a3 + 48) = 0;
            goto LABEL_43;
          }
        }
        goto LABEL_42;
      }
    }
LABEL_43:
    if ( (*(_WORD *)(v20 + 2) & 0x3F0) == 80 )
    {
      v26 = v41;
      while ( 1 )
      {
        v27 = ++v26 == *(_BYTE *)(a3 + 4);
        v41 = v26;
        if ( (unsigned __int8)v26 >= *(_BYTE *)(a3 + 4) )
          break;
        v28 = sub_10024CC0(a4, v26);
        if ( sub_10024D30(a4, v28) )
        {
          v27 = v26 == *(_BYTE *)(a3 + 4);
          break;
        }
      }
      if ( v27 )
        v41 = -1;
    }
    v19 = v41;
    goto LABEL_51;
  }
  v40 = 47;
  if ( v4 && sub_10024D30(v5, *(_WORD *)(v4 + 6)) )
    v40 = (*(_WORD *)(44 * v36 + a4 + 326) >> 4) & 0x3F;
  v44 = *(float *)(v5 + 44);
  v37 = *(_DWORD *)(v5 + 60);
  v45 = *(_DWORD *)(v5 + 64);
  v42 = *(float *)(v5 + 48);
  v46 = *(_DWORD *)(v5 + 68);
  sub_100254C0((void *)v5);
  *(_BYTE *)(v5 + 20) = 0;
  *(_BYTE *)(v5 + 23) = 0;
  *(_WORD *)(v5 + 30) = 0;
  *(_BYTE *)(v5 + 21) = 0;
  *(_WORD *)(v5 + 28) = -1;
  *(_WORD *)(v5 + 26) = -1;
  *(_BYTE *)(v5 + 22) = -1;
  *(_DWORD *)(v5 + 56) = sub_10048020();
  *(_DWORD *)(v5 + 36) = 0;
  *(_DWORD *)(v5 + 32) = 0;
  *(_BYTE *)(v5 + 24) = 2;
  *(_BYTE *)(v5 + 17) = -1;
  *(_BYTE *)(v5 + 18) = v40;
  if ( v4 )
  {
    *(_BYTE *)(v5 + 24) = (*(_BYTE *)(v4 + 4) >> 3) & 7;
    *(_BYTE *)(v5 + 17) = *(_BYTE *)v4;
    *(_BYTE *)(v5 + 16) = *(_BYTE *)(v4 + 1);
  }
  *(float *)(v5 + 44) = v44;
  *(_DWORD *)(v5 + 60) = v37;
  *(_DWORD *)(v5 + 64) = v45;
  *(float *)(v5 + 48) = v42;
  *(_DWORD *)(v5 + 68) = v46;
LABEL_71:
  v38 = sub_10047FB0(*(_DWORD *)(a3 + 20));
  *(float *)(v5 + 40) = v38;
  if ( v38 > 9.8999998e24 )
    *(float *)(v5 + 40) = 0.0;
}
// 10047FB0: using guessed type double __cdecl sub_10047FB0(_DWORD);
// 10048020: using guessed type int sub_10048020(void);
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10027510) --------------------------------------------------------
void __cdecl sub_10027510(int a1, int a2)
{
  _DWORD *v2; // edx@1
  signed int v3; // esi@1
  int v4; // edx@2

  *(float *)(a1 + 12) = 6.283185;
  *(float *)(a1 + 16) = 6.283185;
  *(float *)(a1 + 24) = 6.283185;
  *(float *)(a1 + 28) = 6.283185;
  *(_BYTE *)(a1 + 2) = -1;
  *(float *)(a1 + 36) = 6.283185;
  *(_BYTE *)(a1 + 5) = -1;
  *(float *)(a1 + 40) = 6.283185;
  *(_BYTE *)(a1 + 3) = -1;
  *(_BYTE *)(a1 + 242) = -1;
  *(float *)(a1 + 268) = 0.0;
  *(_BYTE *)(a1 + 246) = -1;
  *(float *)(a1 + 272) = 0.0;
  *(_BYTE *)(a1 + 241) = -1;
  *(float *)(a1 + 280) = 0.0;
  *(_BYTE *)(a1 + 243) = -1;
  *(float *)(a1 + 276) = 0.0;
  *(_BYTE *)(a1 + 244) = -1;
  *(float *)(a1 + 284) = 0.0;
  *(_BYTE *)(a1 + 245) = -1;
  *(_BYTE *)(a1 + 585) = -1;
  *(float *)(a1 + 592) = 6.283185;
  *(_BYTE *)(a1 + 584) = -1;
  *(_BYTE *)(a1 + 586) = -1;
  *(_BYTE *)(a1 + 600) = -1;
  *(float *)(a1 + 596) = 0.0;
  *(_BYTE *)a1 = 0;
  *(_BYTE *)(a1 + 4) = 0;
  *(_BYTE *)(a1 + 1) = 0;
  *(_DWORD *)(a1 + 8) = 0x3FFFF;
  *(_DWORD *)(a1 + 20) = 0x3FFFF;
  *(_DWORD *)(a1 + 32) = 0x3FFFF;
  *(_BYTE *)(a1 + 232) = 0;
  *(_BYTE *)(a1 + 233) = 0;
  *(_BYTE *)(a1 + 234) = 0;
  *(_BYTE *)(a1 + 235) = 0;
  *(_BYTE *)(a1 + 236) = 0;
  *(_BYTE *)(a1 + 237) = 0;
  *(_BYTE *)(a1 + 248) = 0;
  *(_BYTE *)(a1 + 249) = 0;
  *(_BYTE *)(a1 + 250) = 0;
  *(_BYTE *)(a1 + 239) = 0;
  *(_BYTE *)(a1 + 240) = 0;
  *(_BYTE *)(a1 + 247) = 0;
  *(_BYTE *)(a1 + 238) = 0;
  *(_DWORD *)(a1 + 260) = 0;
  *(_DWORD *)(a1 + 264) = 0x3FFFF;
  *(_DWORD *)(a1 + 588) = 0x3FFFF;
  *(_DWORD *)(a1 + 604) = 0x3FFFF;
  *(_DWORD *)(a1 + 251) = 252645135;
  *(_DWORD *)(a1 + 255) = 0;
  memset((void *)(a1 + 288), 0, 0x30u);
  memset((void *)(a1 + 336), 0, 0xF8u);
  memset((void *)(a1 + 608), 0, 0x47B8u);
  v2 = (_DWORD *)(a1 + 716);
  v3 = 102;
  do
  {
    *((_BYTE *)v2 - 45) = 23;
    *v2 = 0x3FFFF;
    sub_10024D50((int)(v2 - 26));
    v2 = (_DWORD *)(v4 + 180);
    --v3;
  }
  while ( v3 );
  memset((void *)(a1 + 44), 0, 0x44u);
  memset((void *)(a1 + 112), 0, 0x78u);
  if ( a2 )
  {
    *(_BYTE *)(a2 + 19) = 0;
    sub_10027000(a2, 0, a1, a2);
  }
}

//----- (100276D0) --------------------------------------------------------
void __usercall sub_100276D0(int a1@<eax>, int a2@<edi>, int a3, float a4)
{
  int v4; // esi@1
  int v5; // eax@1
  int v6; // ebp@1
  unsigned __int8 v7; // bl@3
  char v8; // al@3
  int v9; // ecx@8
  int v10; // edx@8
  char v11; // al@9
  double v12; // st7@14
  double v13; // st5@19
  double v14; // st6@19
  bool v15; // zf@21
  double v16; // st4@21
  double v17; // rt0@22
  double v18; // st5@22
  double v19; // st7@22
  unsigned __int8 v20; // al@25
  char v21; // [sp+17h] [bp-9h]@1
  float v22; // [sp+18h] [bp-8h]@3
  float v23; // [sp+1Ch] [bp-4h]@1
  float v24; // [sp+28h] [bp+8h]@27

  v4 = a1;
  v5 = 180 * LOBYTE(a4);
  *(float *)(v5 + v4 + 628) = *(float *)(a2 + 48);
  v23 = 9.9999996e24;
  v6 = v5 + v4 + 612;
  *(_DWORD *)(v6 + 40) = *(_DWORD *)(a2 + 60);
  *(_DWORD *)(v6 + 44) = *(_DWORD *)(a2 + 64);
  *(_DWORD *)(v6 + 48) = *(_DWORD *)(a2 + 68);
  v21 = -1;
  if ( !LOBYTE(a4) || LOBYTE(a4) == 100 )
    return;
  v7 = LOBYTE(a4) - 1;
  LOBYTE(v22) = LOBYTE(a4) - 1;
  sub_100268A0(v4, a3, LOBYTE(a4) - 1, (unsigned __int8 *)&v21, &v23);
  v8 = v21;
  if ( v21 != -1 )
    goto LABEL_7;
  v8 = *(_BYTE *)(v4 + 244);
  if ( v8 != -1 && (unsigned __int8)v8 > LOBYTE(a4) )
  {
    v23 = *(float *)(v4 + 280);
LABEL_7:
    v22 = 0.0;
    if ( (unsigned __int8)v8 > v7 )
    {
      v9 = 180 * (unsigned __int8)v8 + v4 + 671;
      v10 = (unsigned __int8)(v8 - v7);
      do
      {
        v11 = *(_BYTE *)v9;
        if ( *(_BYTE *)v9 != 11 && v11 != 12 && v11 != 13 )
          v22 = *(float *)(v9 + 25) + v22;
        v9 -= 180;
        --v10;
      }
      while ( v10 );
    }
    v23 = v22 * 0.05240777879953384 + v23;
    v12 = v23;
    if ( *(float *)(a2 + 44) <= (double)v23
      || *(float *)(a2 + 40) > v12
      || *(float *)(dword_10504EDC + 52) > (double)*(float *)(a2 + 48) )
    {
      *(float *)(v6 + 16) = *(float *)(a2 + 48);
      *(_DWORD *)(v6 + 40) = *(_DWORD *)(a2 + 60);
      *(_DWORD *)(v6 + 44) = *(_DWORD *)(a2 + 64);
      *(_DWORD *)(v6 + 48) = *(_DWORD *)(a2 + 68);
    }
    else
    {
      v23 = *(float *)(a2 + 44) - *(float *)(a2 + 40);
      if ( v23 >= 1.0 )
      {
        v13 = 1.0;
        v14 = 1.0;
      }
      else
      {
        v13 = 1.0;
        v14 = 1.0;
        v23 = 1.0;
      }
      v15 = *(_BYTE *)(v6 + 40) == 0;
      v22 = *(float *)(a2 + 48) - *(float *)(dword_10504EDC + 52);
      v16 = v23;
      v23 = v22 / v23;
      *(float *)(v6 + 16) = v23 * (v12 - *(float *)(a2 + 40)) + *(float *)(dword_10504EDC + 52);
      if ( !v15 )
      {
        v17 = v13;
        v18 = (v12 - *(float *)(a2 + 40)) / v16;
        v19 = v17;
        v23 = v18;
        if ( v23 <= v14 )
          v19 = v23;
        v23 = v19;
        sub_100299A0(v6 + 44, v23, v6 + 44);
      }
    }
  }
  v20 = *(_BYTE *)(v4 + 244);
  if ( LOBYTE(a4) > v20 && *(_BYTE *)(a2 + 17) <= v20 )
  {
    v24 = *(float *)(dword_10504EDC + 52);
    v23 = *(float *)(v6 + 16);
    if ( v23 <= (double)v24 )
      *(float *)(v6 + 16) = v23;
    else
      *(float *)(v6 + 16) = v24;
  }
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10027920) --------------------------------------------------------
void __usercall sub_10027920(int a1@<eax>, unsigned __int8 a2@<bl>, int a3, int a4, int a5)
{
  int v5; // edi@1
  int v6; // eax@1
  int v7; // esi@1
  float v8; // ST08_4@1
  int v9; // eax@1
  char v10; // [sp+10h] [bp-Ch]@1

  v5 = a1;
  v6 = 180 * a2;
  *(float *)(v6 + v5 + 628) = *(float *)(a4 + 20);
  *(float *)(v6 + v5 + 632) = *(float *)(a4 + 28);
  v7 = v6 + v5 + 608;
  v8 = *(float *)(v6 + v5 + 616);
  v9 = sub_1002CF50((int)&v10);
  *(_DWORD *)(v7 + 44) = *(_DWORD *)v9;
  *(_DWORD *)(v7 + 48) = *(_DWORD *)(v9 + 4);
  *(_DWORD *)(v7 + 52) = *(_DWORD *)(v9 + 8);
  if ( !*(_BYTE *)(v7 + 44) )
  {
    *(_DWORD *)(v7 + 44) = *(_DWORD *)(a4 + 40);
    *(_DWORD *)(v7 + 48) = *(_DWORD *)(a4 + 44);
    *(_DWORD *)(v7 + 52) = *(_DWORD *)(a4 + 48);
  }
  if ( *(float *)(a5 + 44) < 9.8999998e24 && *(float *)(a5 + 48) < 9.8999998e24 )
    ((void (__usercall *)(int@<eax>, int@<edi>, int, unsigned __int8))sub_100276D0)(v5, a5, a3, a2);
  if ( *(float *)(v7 + 20) < 30.86666679382324 || 9.9999996e24 == *(float *)(v7 + 20) )
    *(float *)(v7 + 20) = 30.866667;
  *(float *)(v7 + 16) = *(float *)(a4 + 16);
}

//----- (10027A00) --------------------------------------------------------
void __cdecl sub_10027A00(int a1, int a2, int a3, int a4)
{
  int v4; // ebp@1
  unsigned __int8 v5; // dl@1
  unsigned __int8 v6; // bl@1
  int v7; // edi@1
  int v8; // esi@1
  bool v9; // cf@2
  bool v10; // zf@2
  __int16 v11; // ax@7
  char v12; // cl@7
  __int16 v13; // ax@16
  double v14; // st7@24
  bool v15; // al@30
  __int16 v16; // ax@39
  char v17; // cl@41
  char v18; // al@45
  char v19; // al@49
  __int16 v20; // ax@61
  char v21; // cl@61
  unsigned __int8 v22; // [sp+13h] [bp-5h]@1
  int v23; // [sp+14h] [bp-4h]@1

  v4 = a4;
  v5 = *(_BYTE *)(a4 + 7);
  v6 = *(_BYTE *)(a4 + 1);
  v7 = v5;
  v22 = *(_BYTE *)(a4 + 7);
  v23 = v5;
  v8 = 180 * v5 + a2;
  if ( v6 == -1 )
  {
LABEL_4:
    v9 = v5 < v6;
    v10 = v5 == v6;
    goto LABEL_5;
  }
  v9 = v5 < v6;
  v10 = v5 == v6;
  if ( v5 < v6 )
  {
    if ( *(_WORD *)(v8 + 612) & 0x400 )
      return;
    goto LABEL_4;
  }
LABEL_5:
  if ( (v9 || v10) && *(_WORD *)(v8 + 612) & 0x400 )
    goto LABEL_48;
  v11 = *(_WORD *)(v8 + 612) & 0xFD4E | 0x100;
  *(_WORD *)(v8 + 612) = v11;
  v12 = *(_BYTE *)(v8 + 671);
  if ( (v12 == 11 || v12 == 12 || v12 == 13) && (!a1 || v12 != 12 || v5 >= *(_BYTE *)(a2 + 4) - 1) )
  {
    if ( v6 == -1 || v5 > v6 )
    {
      v13 = v11 & 0xFC7F;
      goto LABEL_18;
    }
    if ( v5 < v6 )
    {
      v13 = v11 | 1;
LABEL_18:
      *(_WORD *)(v8 + 612) = v13;
      goto LABEL_19;
    }
  }
LABEL_19:
  if ( *(_BYTE *)(v8 + 671) == 21 )
    *(_WORD *)(v8 + 612) &= 0xFC7Fu;
  if ( *(_BYTE *)(a4 + 7) )
  {
    if ( *(_BYTE *)(v8 + 592) )
    {
      v14 = *(float *)(v8 + 596);
    }
    else if ( v5 - 1 == *(_BYTE *)(a2 + 244) )
    {
      v14 = *(float *)(a2 + 280);
    }
    else
    {
      v14 = *(float *)(v8 + 436);
    }
    *(float *)(v8 + 616) = v14;
    v15 = 9.9999996e24 != *(float *)(v8 + 616) && *(float *)(v8 + 616) > 5943.6;
    *(_WORD *)(v8 + 612) ^= (*(_BYTE *)(v8 + 612) ^ (unsigned __int8)(8 * v15)) & 8;
  }
  else
  {
    *(_WORD *)(v8 + 612) &= 0xFFF7u;
    *(float *)(v8 + 616) = 9.9999996e24;
  }
  if ( !(*(_WORD *)(v8 + 612) & 0x400) )
  {
    *(float *)(v8 + 636) = 6.283185;
    *(float *)(v8 + 640) = 6.283185;
  }
  if ( !a1 || v6 != v5 && v5 != 100 || *(_BYTE *)(v8 + 671) != 6 )
  {
    v16 = *(_WORD *)(a4 + 12);
    if ( v16 == -1 )
    {
      *(_DWORD *)(v8 + 644) = *(_DWORD *)(v8 + 720);
      *(_DWORD *)(v8 + 648) = *(_DWORD *)(v8 + 724);
      *(float *)(v8 + 620) = *(float *)(v8 + 700);
    }
    else
    {
      v17 = *(_BYTE *)(v8 + 671);
      if ( v17 != 7 && v17 != 10 || *(_BYTE *)(v8 + 491) != 14 )
      {
        v18 = sub_10024EB0(v16, v8 + 644, a3, (float *)(v8 + 620));
        v7 = v23;
        v5 = v22;
        if ( !v18 )
          *(float *)(v8 + 620) = *(float *)(v8 + 700);
        v4 = a4;
      }
      else
      {
        *(_DWORD *)(v8 + 644) = *(_DWORD *)(v8 + 464);
        *(_DWORD *)(v8 + 648) = *(_DWORD *)(v8 + 468);
        *(float *)(v8 + 620) = *(float *)(v8 + 440);
      }
    }
  }
LABEL_48:
  if ( v6 != -1 )
  {
    v19 = *(_BYTE *)(v8 + 671);
    if ( v19 == 18 || v19 == 1 || v19 == 7 )
    {
      if ( v5 != v6 )
      {
        if ( v7 != v6 + 1 && (v19 != 7 || v7 != v6 + 2) )
        {
          v4 = a4;
          goto LABEL_59;
        }
        v4 = a4;
      }
      *(float *)(v8 + 616) = *(float *)(v4 + 92);
      *(float *)(v8 + 632) = *(float *)(v4 + 116);
    }
  }
LABEL_59:
  if ( a1 )
  {
    if ( v5 == v6 )
    {
      v20 = *(_WORD *)(v8 + 612) & 0xFC7F | (((*(_BYTE *)(a1 + 4) >> 3) & 7) << 7);
      *(_WORD *)(v8 + 612) = v20;
      v21 = *(_BYTE *)(v8 + 671);
      if ( (v21 == 11 || v21 == 12 || v21 == 13)
        && (*(_BYTE *)(v4 + 2) == 25 || *(_BYTE *)(a1 + 45) == *(_BYTE *)(a1 + 1) && *(_BYTE *)(a1 + 50)) )
      {
        *(_WORD *)(v8 + 612) = v20 | 1;
      }
    }
  }
  if ( !(*(_WORD *)(v8 + 612) & 0x400) || !(*(_WORD *)(v8 + 612) & 0x40) )
    sub_10027920(a2, v5, a1, v4 + 88, a3);
  *(_WORD *)(v8 + 612) |= 0x400u;
}

//----- (10027D40) --------------------------------------------------------
char __usercall sub_10027D40@<al>(int a1@<esi>, int a2, int a3)
{
  int v3; // ecx@1
  int v4; // ebx@1
  int v5; // edi@1
  long double v6; // st7@3
  float v7; // ST10_4@5
  int v8; // edx@7
  int v9; // edi@8
  int v10; // edx@9
  int v11; // eax@9
  __int16 v12; // cx@9
  char result; // al@10
  float v14; // [sp+14h] [bp-60h]@3
  int v15; // [sp+18h] [bp-5Ch]@3
  int v16; // [sp+1Ch] [bp-58h]@1
  float v17; // [sp+20h] [bp-54h]@1
  float v18; // [sp+24h] [bp-50h]@1
  float v19; // [sp+28h] [bp-4Ch]@3
  float v20; // [sp+2Ch] [bp-48h]@3
  float v21; // [sp+30h] [bp-44h]@4
  int v22; // [sp+34h] [bp-40h]@2
  int v23; // [sp+38h] [bp-3Ch]@1
  int v24; // [sp+3Ch] [bp-38h]@6
  int v25; // [sp+40h] [bp-34h]@5
  int v26; // [sp+44h] [bp-30h]@7
  char v27; // [sp+48h] [bp-2Ch]@2
  int v28; // [sp+4Ah] [bp-2Ah]@2
  float v29; // [sp+54h] [bp-20h]@2
  float v30; // [sp+58h] [bp-1Ch]@11
  int v31; // [sp+6Ch] [bp-8h]@5
  int v32; // [sp+70h] [bp-4h]@6

  v3 = *(_WORD *)(a3 + 28);
  v4 = *(_BYTE *)(a1 + 244);
  v18 = *(float *)(a1 + 360) + 3.141592741012573;
  v16 = v3;
  v17 = sub_100637E0(v18);
  sub_10063820(a1 + 392, (int)&v23);
  v5 = 180 * v4 + a1 + 696;
  do
  {
    *(_BYTE *)(a3 + 23) = v4;
    sub_10027A00(a2, a1, a3, a3 + 16);
    v22 = v5 - 88;
    sub_10024C30(v5 - 88, v4, &v27);
    LOWORD(v28) = v28 & 0xFC9D | 0x94;
    v29 = *(float *)v5;
    *(float *)(v5 + 4) = *(float *)(a1 + 360);
    if ( v4 == *(_BYTE *)(a1 + 244) )
    {
      sub_10022FC0((int)&v23, v5 + 32, &v14, (float *)&v15, &v18);
      v19 = *(float *)&v15 - *(float *)(a1 + 360);
      v20 = sub_100637E0(v19);
      v15 = LODWORD(v20) & 0x7FFFFFFF;
      v6 = COERCE_FLOAT(LODWORD(v20) & 0x7FFFFFFF);
      if ( v6 > 1.570796370506287 )
      {
        v14 = -v14;
        v21 = 3.141592741012573 - v6;
        v15 = LODWORD(v21) & 0x7FFFFFFF;
        v6 = COERCE_FLOAT(LODWORD(v21) & 0x7FFFFFFF);
      }
      v19 = cos(v6);
      v14 = v19 * v14;
      v19 = *(float *)v5 - v14;
      sub_100236E0((int)&v23, v19, v17, (int)&v25);
      v7 = -v14;
      sub_100236E0((int)&v23, v7, v17, (int)&v31);
      *(_WORD *)(a3 + 28) = sub_10025DE0(v16, &v27, a3);
    }
    else
    {
      sub_100236E0((int)&v23, *(float *)v5, v17, (int)&v25);
      v31 = v23;
      v32 = v24;
      sub_10025DE0(v16, &v27, a3);
    }
    v8 = *(_BYTE *)(a1 + 241);
    --v4;
    v5 -= 180;
    v23 = v25;
    v24 = v26;
  }
  while ( v4 > v8 );
  v9 = 44 * (signed __int16)v16 + a3;
  sub_10022FC0((int)&v23, v9 + 360, &v14, (float *)&v15, &v18);
  if ( v14 >= 50.0 )
  {
    sub_10024C30(v22, v4, &v27);
    v29 = 0.0;
    v30 = *(float *)(a1 + 380);
    LOWORD(v28) = v28 & 0xFC99 | 0x90;
    v31 = v23;
    v32 = v24;
    LOWORD(v28) = v28 & 0xEFFF | 0x2000;
    sub_10025DE0(v16, &v27, a3);
  }
  else
  {
    v10 = v24;
    v11 = v9 + 360;
    *(_DWORD *)v11 = v23;
    v12 = *(_WORD *)(v9 + 334);
    *(_DWORD *)(v11 + 4) = v10;
    *(float *)(v9 + 340) = *(float *)(a1 + 380);
    if ( v12 != -1 )
    {
      sub_10022FC0(44 * v12 + a3 + 360, v11, (float *)(v9 + 336), (float *)&v15, &v18);
      result = *(_BYTE *)(a1 + 244) + 1;
      *(_BYTE *)(a3 + 23) = result;
      return result;
    }
  }
  result = *(_BYTE *)(a1 + 244) + 1;
  *(_BYTE *)(a3 + 23) = result;
  return result;
}

//----- (100280B0) --------------------------------------------------------
char __usercall sub_100280B0@<al>(int a1@<ebx>, int a2, unsigned int a3, int a4, __int16 *a5)
{
  __int16 *v5; // edi@1
  int v6; // eax@2
  int v7; // ecx@3
  unsigned int v8; // edx@3
  int v9; // esi@3
  int v10; // ecx@3
  int v11; // eax@5
  int v12; // edx@5
  __int16 v13; // ST38_2@5
  char v14; // al@8
  int v15; // ST5C_4@15
  int v16; // ST5C_4@15
  int v17; // ST5C_4@16
  int v18; // ST5C_4@17
  int v19; // ST5C_4@17
  __int16 v20; // ST38_2@18
  signed __int16 v21; // ax@18
  int v22; // ecx@24
  int v23; // edx@24
  __int16 v24; // ST38_2@24
  _BYTE *v25; // esi@25
  int v26; // edx@26
  int v27; // ecx@26
  int v28; // edx@26
  int v29; // ecx@26
  int v30; // edx@26
  __int16 v31; // dx@28
  char v32; // al@29
  int v33; // eax@37
  int v34; // ecx@37
  float v35; // ST4C_4@38
  int v36; // ecx@38
  float v37; // ST48_4@38
  int v38; // eax@38
  int v39; // ST5C_4@39
  __int16 v40; // fps@39
  bool v41; // c0@39
  char v42; // c2@39
  bool v43; // c3@39
  __int16 v44; // fps@40
  bool v45; // c0@40
  char v46; // c2@40
  bool v47; // c3@40
  int v48; // eax@42
  int v49; // ecx@42
  int v50; // ST5C_4@43
  int v51; // ST5C_4@43
  int v52; // eax@44
  int v53; // ecx@44
  unsigned __int8 v54; // al@48
  char v55; // al@58
  __int16 v56; // ax@61
  char v57; // al@78
  double v58; // st7@81
  char v59; // cl@81
  char v60; // dl@81
  char v61; // al@81
  double v62; // st7@81
  char v63; // al@81
  double v64; // st7@81
  int v65; // ecx@81
  double v66; // st7@81
  int v67; // edx@81
  double v68; // st7@81
  int v69; // eax@81
  int v70; // ecx@81
  int v71; // edx@81
  int v72; // eax@81
  int v73; // ecx@81
  int v74; // edx@81
  int v75; // eax@81
  bool v76; // zf@85
  char v77; // cl@91
  char v78; // al@96
  signed __int16 v79; // ax@107
  int v80; // ecx@109
  int v81; // ST5C_4@109
  double v82; // st7@109
  int v83; // ecx@109
  int v84; // ST5C_4@109
  __int16 v85; // dx@109
  float v86; // ST44_4@109
  __int16 v87; // ax@110
  int v88; // ST5C_4@115
  int v89; // ST5C_4@115
  float v90; // eax@118
  int v91; // eax@119
  char v92; // cl@121
  int v93; // edi@126
  __int16 v94; // ax@126
  int v95; // eax@127
  unsigned __int8 v96; // al@130
  unsigned __int8 v97; // al@140
  int v98; // eax@142
  int v100; // [sp+1Ch] [bp-130h]@3
  int v101; // [sp+20h] [bp-12Ch]@3
  int v102; // [sp+24h] [bp-128h]@3
  float v103; // [sp+2Ch] [bp-120h]@38
  float v104; // [sp+30h] [bp-11Ch]@38
  char v105; // [sp+34h] [bp-118h]@5
  int v106; // [sp+36h] [bp-116h]@5
  int v107; // [sp+40h] [bp-10Ch]@5
  int v108; // [sp+4Ch] [bp-100h]@44
  int v109; // [sp+50h] [bp-FCh]@44
  float v110; // [sp+54h] [bp-F8h]@44
  int v111; // [sp+58h] [bp-F4h]@5
  int v112; // [sp+5Ch] [bp-F0h]@5
  float v113; // [sp+60h] [bp-ECh]@38
  char v114; // [sp+64h] [bp-E8h]@38
  float v115; // [sp+68h] [bp-E4h]@38
  int v116; // [sp+6Ch] [bp-E0h]@3
  float v117; // [sp+70h] [bp-DCh]@38
  int v118; // [sp+74h] [bp-D8h]@26
  int v119; // [sp+78h] [bp-D4h]@26
  int v120; // [sp+7Ch] [bp-D0h]@26
  int v121; // [sp+80h] [bp-CCh]@26
  int v122; // [sp+84h] [bp-C8h]@26
  int v123; // [sp+88h] [bp-C4h]@26
  char v124; // [sp+8Ch] [bp-C0h]@78
  char v125; // [sp+8Dh] [bp-BFh]@78
  char v126; // [sp+91h] [bp-BBh]@81
  char v127; // [sp+92h] [bp-BAh]@81
  char v128; // [sp+93h] [bp-B9h]@81
  float v129; // [sp+98h] [bp-B4h]@81
  float v130; // [sp+9Ch] [bp-B0h]@81
  float v131; // [sp+A8h] [bp-A4h]@81
  float v132; // [sp+ACh] [bp-A0h]@81
  float v133; // [sp+B0h] [bp-9Ch]@81
  float v134; // [sp+B4h] [bp-98h]@81
  int v135; // [sp+CCh] [bp-80h]@81
  int v136; // [sp+D0h] [bp-7Ch]@81
  int v137; // [sp+D4h] [bp-78h]@81
  int v138; // [sp+E4h] [bp-68h]@81
  int v139; // [sp+E8h] [bp-64h]@81
  int v140; // [sp+ECh] [bp-60h]@81
  int v141; // [sp+F0h] [bp-5Ch]@81
  int v142; // [sp+F4h] [bp-58h]@81
  int v143; // [sp+F8h] [bp-54h]@81
  __int16 v144; // [sp+FCh] [bp-50h]@15
  float v145; // [sp+104h] [bp-48h]@15
  int v146; // [sp+11Ch] [bp-30h]@16
  int v147; // [sp+120h] [bp-2Ch]@17
  char v148; // [sp+130h] [bp-1Ch]@90
  char v149; // [sp+138h] [bp-14h]@93
  float v150; // [sp+13Ch] [bp-10h]@93

  v5 = a5;
  if ( *(_WORD *)(a4 + 12) == -1 )
  {
    *(_BYTE *)(a4 + 21) = 1;
    LOBYTE(v6) = sub_100175E0("..\\lib\\nav\\nav_rte_trj.c", 2195, 0, 0);
    return v6;
  }
  v7 = a1 + 180 * (unsigned __int8)a3;
  v101 = v7;
  v8 = *(_WORD *)(v7 + 612);
  v100 = v7 + 608;
  v9 = v7 + 612;
  v116 = (unsigned __int16)*a5;
  v10 = (v8 >> 10) & 1;
  v102 = v9;
  if ( v10 && v8 & 0x20 )
  {
    sub_10024C30(v100, a3, &v105);
    *(float *)&v107 = 0.0;
    v11 = *(_DWORD *)(v9 + 36);
    v12 = *(_DWORD *)(v9 + 32);
    LOWORD(v106) = v106 & 0xEC99 | 0x2090;
    v112 = v11;
    v13 = *a5;
    v111 = v12;
    *a5 = sub_10025DE0(v13, &v105, a4);
  }
  else if ( !*(_BYTE *)(a4 + 19) && (_BYTE)a3 == *(_BYTE *)(a4 + 17) )
  {
    if ( (v14 = *(_BYTE *)(v100 + 63), v14 != 18) && v14 != 19 && v14 != 20 && v14 != 21 && v14 != 22
      || *(float *)(v9 + 8) != 6.283185005187988 )
    {
      if ( (_WORD)v10 )
      {
        qmemcpy(&v144, (const void *)v9, 0x34u);
        *(_WORD *)v9 = v8 & 0xFBFF;
        sub_10027A00(a2, a1, a4, a4 + 16);
        *(float *)&v15 = v145 - *(float *)(v9 + 8);
        *(float *)&v16 = sub_100637E0(*(float *)&v15);
        if ( COERCE_FLOAT(v16 & 0x7FFFFFFF) > 0.001745329238474369
          || (*(float *)&v17 = *(float *)&v146 - *(float *)(v9 + 32), COERCE_FLOAT(v17 & 0x7FFFFFFF) > 0.0000039196398)
          || (*(float *)&v18 = *(float *)&v147 - *(float *)(v9 + 36),
              *(float *)&v19 = sub_100637E0(*(float *)&v18),
              COERCE_FLOAT(v19 & 0x7FFFFFFF) > 0.0000039196398) )
        {
          sub_10024C30(v101 + 608, a3, &v105);
          *(float *)&v107 = 0.0;
          LOWORD(v106) = v106 & 0xEC99 | 0x2090;
          v111 = v146;
          v20 = *a5;
          v112 = v147;
          v21 = sub_10025DE0(v20, &v105, a4);
          v144 |= 0x20u;
          *a5 = v21;
        }
        qmemcpy((void *)v9, &v144, 0x34u);
        v5 = a5;
      }
    }
  }
  sub_10027A00(a2, a1, a4, a4 + 16);
  if ( a2 && *(_BYTE *)(a2 + 3) & 0x80 && !(*(_WORD *)v9 & 0x10) && (_BYTE)a3 == *(_BYTE *)(a4 + 17) )
  {
    *(_WORD *)v9 |= 0x20u;
    sub_10024C30(v101 + 608, a3, &v105);
    *(float *)&v107 = 0.0;
    v22 = *(_DWORD *)(v9 + 32);
    v23 = *(_DWORD *)(v9 + 36);
    LOWORD(v106) = v106 & 0xEC99 | 0x2090;
    v111 = v22;
    v24 = *v5;
    v112 = v23;
    *v5 = sub_10025DE0(v24, &v105, a4);
  }
  v25 = (_BYTE *)(v101 + 608);
  sub_10024C30(v101 + 608, a3, &v105);
  if ( a2 )
  {
    v26 = *(_DWORD *)(a2 + 7284);
    v118 = *(_DWORD *)(a2 + 7280);
    v27 = *(_DWORD *)(a2 + 7288);
    v119 = v26;
    v28 = *(_DWORD *)(a2 + 7292);
    v120 = v27;
    v29 = *(_DWORD *)(a2 + 7296);
    v121 = v28;
    v30 = *(_DWORD *)(a2 + 7300);
    v122 = v29;
    v123 = v30;
  }
  else
  {
    LOBYTE(v118) = 0;
  }
  *(_BYTE *)(v101 + 668) = 0;
  v31 = *v5;
  if ( *v5 == -1 )
  {
    v32 = *(_BYTE *)(v101 + 671);
    if ( v32 )
    {
      if ( v32 != 3 && v32 != 6 && v32 != 14 && v32 != 17 )
      {
        *(_BYTE *)(a4 + 21) = 1;
        LOBYTE(v6) = sub_100175E0("..\\lib\\nav\\nav_rte_trj.c", 2323, 0, 0);
        return v6;
      }
    }
  }
  switch ( *(_BYTE *)(v101 + 671) )
  {
    case 0:
      if ( v31 == -1 )
      {
        v33 = *(_DWORD *)(v101 + 720);
        *(float *)&v107 = 0.0;
        v34 = *(_DWORD *)(v101 + 724);
        LOWORD(v106) = v106 & 0xFC99 | 0x90;
        v111 = v33;
        v112 = v34;
        *v5 = sub_10025DE0(-1, &v105, a4);
        sub_10024C30((int)v25, a3, &v105);
      }
      else
      {
        sub_10022FC0(v101 + 756, v101 + 720, &v104, &v113, (float *)&v114);
        sub_10022FC0(v101 + 756, v101 + 728, &v104, &v115, (float *)&v114);
        sub_10022FC0(v101 + 720, v102 + 32, &v117, (float *)&v114, (float *)&v114);
        sub_10022FC0(v101 + 756, v102 + 32, &v104, &v103, (float *)&v114);
        v35 = v103;
        LOBYTE(v36) = (v106 & 0xC00) == 2048;
        v37 = sub_10063550(v113, v115, v36);
        if ( (sub_10063660(v113, v37, v35)
           && (*(float *)&v39 = v104 - *(float *)(v101 + 752),
               v39 &= 0x7FFFFFFFu,
               v41 = *(float *)&v39 < 400.0,
               v42 = 0,
               v43 = *(float *)&v39 == 400.0,
               BYTE1(v38) = HIBYTE(v40),
               v41 || v43)
           || (v45 = v117 < 400.0, v46 = 0, v47 = v117 == 400.0, BYTE1(v38) = HIBYTE(v44), v45 || v47))
          && *(_BYTE *)(a4 + 22) == -1 )
        {
          LOBYTE(v38) = *(_BYTE *)(v101 + 672) == 2;
          *(float *)&v50 = sub_10063550(v103, v115, v38);
          *(float *)&v51 = *(float *)(v101 + 752) * *(float *)&v50;
          v107 = v51 & 0x7FFFFFFF;
        }
        else
        {
          v48 = *(_DWORD *)(v101 + 720);
          *(float *)&v107 = 0.0;
          v49 = *(_DWORD *)(v101 + 724);
          LOWORD(v106) = v106 & 0xFC99 | 0x90;
          v111 = v48;
          LOWORD(v48) = *v5;
          v112 = v49;
          *v5 = sub_10025DE0(v48, &v105, a4);
          sub_10024C30((int)v25, a3, &v105);
        }
      }
      v52 = *(_DWORD *)(v101 + 756);
      v110 = *(float *)(v101 + 752);
      v53 = *(_DWORD *)(v101 + 760);
      LOWORD(v106) = v106 & 0xFC2B | 0x22;
      v108 = v52;
      v109 = v53;
      goto LABEL_116;
    case 1:
    case 2:
    case 5:
    case 0x12:
    case 0x13:
    case 0x15:
    case 0x16:
      if ( *(_BYTE *)(v101 + 671) != 22
        || *(_BYTE *)(v101 + 851) != 3
        || *(_BYTE *)(a4 + 74) != 2
        && ((v54 = *(_BYTE *)(a4 + 17), v54 != (_BYTE)a3) && v54 != (unsigned __int8)a3 + 1
         || !*(_BYTE *)(a2 + 12)
         || *(_BYTE *)(a2 + 14) != 2) )
      {
        if ( sub_10037BB0(a1, *(float *)&a3, v102, a4, v5) )
          *(_WORD *)(v101 + 792) = *(_WORD *)(v101 + 792) & 0xFFF9 | 2 * (*(_BYTE *)(v101 + 852) & 3);
        else
          *(_WORD *)(v101 + 792) = *(_WORD *)(v101 + 792) & 0xFFF9 | 2 * (*(_BYTE *)(v101 + 672) & 3);
      }
      goto LABEL_118;
    case 3:
      sub_100316A0(*(float *)&a1, *(float *)&a4, *(float *)&a3, v5);
      goto LABEL_118;
    case 4:
    case 0x14:
      if ( *(_BYTE *)(a1 + 4) <= (unsigned __int8)a3 + 2
        || *(_BYTE *)(v101 + 851) != 14
        || (v55 = *(_BYTE *)(v101 + 1031), v55 != 7) && v55 != 10 )
      {
        *(_WORD *)(a4 + 26) = v31;
        *(_BYTE *)(a4 + 22) = a3;
      }
      else if ( a2
             && (v56 = *(_WORD *)(52 * (unsigned __int8)a3 + a2 + 7836),
                 *(_WORD *)(52 * (unsigned __int8)a3 + a2 + 7836) & 0x400)
             && (v56 & 0x20 || *(_BYTE *)(a2 + 3) & 0x80 && *(_BYTE *)(a4 + 17) == (unsigned __int8)a3 + 2)
             || !sub_10037BB0(a1, *(float *)&a3, v102, a4, v5) )
      {
        *(_WORD *)(v101 + 972) = *(_WORD *)(v101 + 972) & 0xFFF9 | 2 * (*(_BYTE *)(v101 + 672) & 3);
      }
      else
      {
        *(_WORD *)(v101 + 972) = *(_WORD *)(v101 + 972) & 0xFFF9 | 2 * (*(_BYTE *)(v101 + 1032) & 3);
      }
      goto LABEL_118;
    case 6:
      sub_10035950(a1, a3, v102, a4, v5, (int)&v118);
      if ( (_BYTE)a3 == *(_BYTE *)(a4 + 17) && (!*(_BYTE *)(a1 + 44) || *v25 == *(_BYTE *)(a1 + 45)) )
      {
        *(_BYTE *)(a1 + 44) = 1;
        *(_BYTE *)(a1 + 45) = *v25;
        *(_BYTE *)(a1 + 46) = *(_BYTE *)(v101 + 672);
      }
      if ( *v25 == *(_BYTE *)(a1 + 45) && *(_BYTE *)(a1 + 44) && (_BYTE)a3 != *(_BYTE *)(a4 + 17) )
        *(_BYTE *)(a1 + 44) = 0;
      goto LABEL_118;
    case 7:
    case 8:
    case 9:
    case 0xA:
      sub_100355E0(a1, a3, v102, a4, v5);
      goto LABEL_118;
    case 0xB:
    case 0xC:
    case 0xD:
      sub_10025080(a3, a1, a4, (int)&v124);
      v57 = *(_BYTE *)v102;
      v125 = (*(_WORD *)v102 >> 7) & 7;
      v124 = v57 & 1;
      sub_10034D90(a1, a3, (int)&v124, a4, a5);
      if ( (_BYTE)a3 == *(_BYTE *)(a4 + 17) && (!*(_BYTE *)(a1 + 44) || *(_BYTE *)(v101 + 608) == *(_BYTE *)(a1 + 45)) )
      {
        v58 = v129;
        v59 = v126;
        v60 = v127;
        *(_BYTE *)(a1 + 44) = 1;
        v61 = *(_BYTE *)(v101 + 608);
        *(float *)(a1 + 52) = v58;
        v62 = v131;
        *(_BYTE *)(a1 + 45) = v61;
        v63 = v128;
        *(float *)(a1 + 60) = v62;
        *(float *)(a1 + 68) = v133;
        v64 = v130;
        *(_BYTE *)(a1 + 48) = v59;
        v65 = v135;
        *(float *)(a1 + 56) = v64;
        v66 = v132;
        *(_BYTE *)(a1 + 49) = v60;
        v67 = v136;
        *(float *)(a1 + 64) = v66;
        v68 = v134;
        *(_BYTE *)(a1 + 50) = v63;
        v69 = v137;
        *(float *)(a1 + 72) = v68;
        *(_DWORD *)(a1 + 76) = v65;
        v70 = v138;
        *(_DWORD *)(a1 + 80) = v67;
        v71 = v139;
        *(_DWORD *)(a1 + 84) = v69;
        v72 = v140;
        *(_DWORD *)(a1 + 88) = v70;
        v73 = v141;
        *(_DWORD *)(a1 + 92) = v71;
        v74 = v142;
        *(_DWORD *)(a1 + 96) = v72;
        v75 = v143;
        *(_DWORD *)(a1 + 100) = v73;
        *(_DWORD *)(a1 + 104) = v74;
        *(_DWORD *)(a1 + 108) = v75;
      }
      if ( *(_BYTE *)(v101 + 608) == *(_BYTE *)(a1 + 45) && *(_BYTE *)(a1 + 44) && (_BYTE)a3 != *(_BYTE *)(a4 + 17) )
      {
        v76 = *(_BYTE *)(a1 + 49) == 0;
        *(_BYTE *)(a1 + 44) = 0;
        if ( v76 )
        {
          *(float *)(v101 + 628) = *(float *)(a1 + 56);
          *(_DWORD *)(v101 + 652) = *(_DWORD *)(a1 + 76);
          *(_DWORD *)(v101 + 656) = *(_DWORD *)(a1 + 80);
          *(_DWORD *)(v101 + 660) = *(_DWORD *)(a1 + 84);
          *(float *)(v101 + 624) = *(float *)(a1 + 52);
        }
        else
        {
          *(float *)(v101 + 628) = *(float *)(a1 + 64);
          *(_DWORD *)(v101 + 652) = *(_DWORD *)(a1 + 88);
          *(_DWORD *)(v101 + 656) = *(_DWORD *)(a1 + 92);
          *(_DWORD *)(v101 + 660) = *(_DWORD *)(a1 + 96);
          *(float *)(v101 + 624) = *(float *)(a1 + 60);
        }
      }
      goto LABEL_118;
    case 0xE:
      *(float *)&v107 = 0.0;
      LOWORD(v106) = v106 & 0xFC99 | 0x90;
      if ( v31 != -1 && *(_BYTE *)(a4 + 22) == -1 )
      {
        sub_10018B00((float *)(v102 + 32), (float *)&v111, &v104, (int)&v148);
        if ( v104 < 25.0 )
          goto LABEL_118;
        v77 = *(_BYTE *)(v101 + 851);
        if ( v77 == 7 || v77 == 10 )
        {
          sub_10023960(a1 + 180 * ((unsigned __int8)a3 + 5), v101 + 908, v102 + 32, (int)&v149);
          if ( COERCE_FLOAT(LODWORD(v150) & 0x7FFFFFFF) < 100.0 )
            goto LABEL_118;
        }
      }
      *v5 = sub_10025DE0(*v5, &v105, a4);
      if ( (_BYTE)a3 != *(_BYTE *)(a1 + 584) )
        goto LABEL_118;
      if ( 0.0 == *(float *)(a1 + 596) )
        goto LABEL_118;
      v78 = *(_BYTE *)(v101 + 851);
      if ( v78 != 18
        && v78 != 19
        && v78 != 20
        && v78 != 21
        && v78 != 22
        && v78 != 1
        && v78 != 2
        && v78 != 4
        && v78 != 5
        && v78 != 6 )
      {
        goto LABEL_118;
      }
      sub_100236E0(v102 + 32, *(float *)(a1 + 596), *(float *)(a1 + 592), (int)&v111);
      v107 = *(int *)(a1 + 596);
      v105 = a3 + 1;
      LOWORD(v106) = v106 & 0xFE2D | 0x3224;
      goto LABEL_107;
    case 0xF:
      sub_10033590(a1, a3, v102, a4, v5);
      goto LABEL_118;
    case 0x10:
      sub_10022FC0(v101 + 756, v102 + 32, &v104, &v113, &v103);
      sub_10022FC0(v101 + 756, v101 + 728, &v110, &v115, &v103);
      LOBYTE(v80) = *(_BYTE *)(v101 + 672) == 2;
      *(float *)&v81 = sub_10063550(v113, v115, v80);
      v82 = v110;
      v83 = *(_DWORD *)(v101 + 756);
      *(float *)&v84 = v110 * *(float *)&v81;
      v85 = v106 & 0xFE1B;
      *(float *)(v101 + 752) = v110;
      v108 = v83;
      LOWORD(v106) = v85 | 0x212;
      v86 = v82;
      v109 = *(_DWORD *)(v101 + 760);
      v107 = v84 & 0x7FFFFFFF;
      sub_100236E0(v101 + 756, v86, v113, v101 + 720);
LABEL_107:
      v79 = sub_10025DE0(*v5, &v105, a4);
      goto LABEL_117;
    case 0x11:
      v87 = v106 & 0xFC9F | 0x90;
      LOWORD(v106) = v106 & 0xFC9F | 0x90;
      if ( v31 == -1 )
      {
        *(float *)&v107 = 0.0;
        LOWORD(v106) = v87 & 0xFFF9;
        v79 = sub_10025DE0(-1, &v105, a4);
LABEL_117:
        *v5 = v79;
        goto LABEL_118;
      }
      LOWORD(v106) = v106 & 0xFFFD | 4;
      if ( !sub_10032B60(a1, a3, v102, a4, v5, (int)&v118, 9) )
      {
        sub_10022FC0(v102 + 32, (int)&v111, (float *)&v107, &v103, (float *)&v114);
        if ( *(float *)&v107 >= 25.0 )
        {
          if ( *(_BYTE *)(a4 + 22) != -1
            || (*(float *)&v88 = *(float *)(v101 + 700) - v103,
                *(float *)&v89 = sub_100637E0(*(float *)&v88),
                COERCE_FLOAT(v89 & 0x7FFFFFFF) <= 0.08726646) )
          {
LABEL_116:
            v79 = sub_10025DE0(*v5, &v105, a4);
            goto LABEL_117;
          }
        }
      }
LABEL_118:
      LODWORD(v90) = (unsigned __int16)*a5;
      if ( (_WORD)v116 != LOWORD(v90) )
      {
        v91 = 44 * SLOWORD(v90);
        *(_DWORD *)(v102 + 24) = *(_DWORD *)(v91 + a4 + 360);
        v90 = *(float *)(v91 + a4 + 364);
        *(float *)(v102 + 28) = v90;
      }
      LOBYTE(v90) = *(_BYTE *)(a4 + 22);
      if ( LOBYTE(v90) != -1 )
      {
        v92 = *(_BYTE *)(v101 + 671);
        if ( v92 != 4 && v92 != 20 && v92 != 14 && *(_WORD *)(a4 + 12) != -1 )
        {
          if ( !(*(_BYTE *)v102 & 0x20) )
          {
            v93 = 180 * LOBYTE(v90) + a1 + 612;
            v116 = *(_WORD *)(a4 + 26);
            sub_10037BB0(a1, v90, v93, a4, (__int16 *)(a4 + 26));
            v94 = *(_WORD *)(a4 + 26);
            if ( (_WORD)v116 != v94 )
            {
              v95 = 44 * v94;
              *(_DWORD *)(v93 + 24) = *(_DWORD *)(v95 + a4 + 360);
              *(_DWORD *)(v93 + 28) = *(_DWORD *)(v95 + a4 + 364);
            }
          }
          *(_WORD *)(a4 + 26) = -1;
          *(_BYTE *)(a4 + 22) = -1;
        }
      }
      if ( a2 )
      {
        v96 = *(_BYTE *)(a1 + 241);
        if ( v96 != -1
          && (unsigned __int8)a3 == v96 + 1
          && (*(_BYTE *)(a2 + 3) & 0x30) == 32
          && *(_BYTE *)a2 == v96
          && *(_BYTE *)(a4 + 24) == 2
          && !sub_100639F0(*(float *)(v101 + 700), *(float *)(180 * *(_BYTE *)a2 + a1 + 700), 0.78539819) )
        {
          *(_BYTE *)(a4 + 24) = 5;
        }
        if ( *(_BYTE *)(a2 + 3) & 0x80 && (_BYTE)a3 == *(_BYTE *)(a4 + 17) )
          *(_WORD *)(44 * *a5 + a4 + 326) |= 0x1000u;
      }
      v97 = *(_BYTE *)(a4 + 17);
      if ( v97 != -1 )
      {
        if ( *(_BYTE *)(a2 + 12) )
        {
          v98 = 180 * v97 + a1;
          if ( *(_BYTE *)(v98 + 608) != *(_BYTE *)(a2 + 13)
            && (*(_BYTE *)(v98 + 671) != 22 || *(_BYTE *)(v98 + 851) != 3 || *(_BYTE *)(a2 + 14) != 2) )
          {
            *(_BYTE *)(a2 + 12) = 0;
          }
        }
      }
      if ( a2
        && *(_BYTE *)(a2 + 12) == 1
        && *(_BYTE *)(v101 + 851) == 3
        && (*(_BYTE *)(a4 + 17) == (unsigned __int8)a3 + 1
         || *(_BYTE *)(a4 + 17) == (_BYTE)a3 && *(_BYTE *)(v101 + 671) == 22 && *(_BYTE *)(a2 + 14) == 2) )
      {
        qmemcpy((void *)(a4 + 72), (const void *)(a2 + 12), 0x20u);
      }
      else
      {
        sub_10031CF0(a1, a4, (int)a5);
      }
      v6 = *(_BYTE *)(a4 + 17);
      if ( v6 == (unsigned __int8)a3 + 1 && *(_BYTE *)(a4 + 72) == 1 && !*(_BYTE *)(a2 + 12) )
        qmemcpy((void *)(a2 + 12), (const void *)(a4 + 72), 0x20u);
      return v6;
    default:
      goto LABEL_118;
  }
}

//----- (10029140) --------------------------------------------------------
int __cdecl sub_10029140(int a1, int a2, int a3, int a4)
{
  int v4; // edx@1
  int v5; // ecx@1
  int v6; // edx@2
  int v7; // ecx@2
  int result; // eax@2
  unsigned __int8 v9; // al@3
  unsigned int v10; // eax@8
  unsigned __int8 v11; // dl@8
  unsigned __int8 v12; // bl@9
  unsigned __int8 v13; // cl@13
  unsigned __int8 v14; // al@20
  __int16 v15; // ax@23
  __int16 v16; // cx@24
  __int16 v17; // dx@26
  __int16 v18; // cx@28
  int v19; // esi@39
  int v20; // eax@39
  unsigned __int8 v21; // al@45
  int v22; // [sp+10h] [bp-4h]@1

  v22 = ((int (*)(void))sub_10047FC0)();
  switch ( *(_BYTE *)(a4 + 20) )
  {
    case 0:
    case 0xA:
      sub_10027000(a4, a1, a2, a3);
      *(_BYTE *)(a4 + 20) = 1;
      result = sub_10047FC0(v7, v6) - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 1:
      v9 = *(_BYTE *)(a4 + 23);
      if ( v9 >= *(_BYTE *)(a2 + 4) )
      {
        *(_BYTE *)(a4 + 23) = *(_BYTE *)(a2 + 5);
        *(_BYTE *)(a4 + 20) = 2;
        result = ((int (*)(void))sub_10047FC0)() - v22;
        *(_DWORD *)(a4 + 32) += result;
      }
      else if ( a1 && *(_BYTE *)(a1 + 3) & 8 && v9 != *(_BYTE *)(a4 + 17) )
      {
        *(_BYTE *)(a4 + 23) = v9 + 1;
        result = sub_10047FC0(v5, v4) - v22;
        *(_DWORD *)(a4 + 32) += result;
      }
      else
      {
        sub_10024AA0(a4 + 104);
        LOBYTE(v10) = *(_BYTE *)(a4 + 23);
        v11 = *(_BYTE *)(a2 + 241);
        if ( (unsigned __int8)v10 <= v11
          || (v12 = *(_BYTE *)(a2 + 244), (unsigned __int8)v10 > v12)
          || !*(_BYTE *)(a2 + 337)
          || a1 && (*(_BYTE *)(a1 + 3) & 0x30) == 32 && (v13 = *(_BYTE *)(a4 + 17), v13 > v11) && v13 <= v12 )
        {
          sub_100280B0(a2, a1, v10, a4, (__int16 *)(a4 + 28));
          ++*(_BYTE *)(a4 + 23);
        }
        else
        {
          sub_10027D40(a2, a1, a4);
        }
        if ( *(_BYTE *)(a4 + 23) < *(_BYTE *)(a2 + 4) )
          goto LABEL_48;
        LOBYTE(v5) = *(_BYTE *)(a2 + 5);
        *(_BYTE *)(a4 + 23) = v5;
        *(_BYTE *)(a4 + 20) = 2;
        result = sub_10047FC0(v5, v4) - v22;
        *(_DWORD *)(a4 + 32) += result;
      }
      break;
    case 2:
      v14 = *(_BYTE *)(a4 + 23);
      if ( v14 == -1 || v14 < 0x64u )
      {
        v16 = *(_WORD *)(a4 + 14);
        *(_BYTE *)(a4 + 20) = 3;
        *(_WORD *)(a4 + 28) = v16;
        result = ((int (*)(void))sub_10047FC0)() - v22;
        *(_DWORD *)(a4 + 32) += result;
      }
      else
      {
        sub_10024AA0(a4 + 104);
        sub_100280B0(a2, a1, *(_BYTE *)(a4 + 23), a4, (__int16 *)(a4 + 28));
        if ( ++*(_BYTE *)(a4 + 23) <= *(_BYTE *)(a2 + 3) )
          goto LABEL_48;
        v15 = *(_WORD *)(a4 + 14);
        *(_BYTE *)(a4 + 20) = 3;
        *(_WORD *)(a4 + 28) = v15;
        result = ((int (*)(void))sub_10047FC0)() - v22;
        *(_DWORD *)(a4 + 32) += result;
      }
      break;
    case 3:
      sub_100259A0(a4);
      if ( *(_WORD *)(a4 + 28) != -1 )
        goto LABEL_48;
      v17 = *(_WORD *)(a4 + 14);
      *(_BYTE *)(a4 + 20) = 4;
      *(_WORD *)(a4 + 28) = v17;
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 4:
      sub_10026120(a4, a2);
      if ( *(_WORD *)(a4 + 28) != -1 )
        goto LABEL_48;
      v18 = *(_WORD *)(a4 + 14);
      *(_BYTE *)(a4 + 20) = 5;
      *(_WORD *)(a4 + 28) = v18;
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 5:
      sub_100257C0(a2, a4);
      *(_BYTE *)(a4 + 20) = (a1 == 0) + 6;
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 6:
      sub_100269B0(a4, a1);
      *(_BYTE *)(a4 + 20) = 7;
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 7:
      if ( a1 )
        sub_1002CC10(a1, a2, a4);
      *(_BYTE *)(a4 + 20) = 8;
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 8:
      if ( a1 && !(*(_BYTE *)(a1 + 3) & 8) && sub_1002A170() )
        sub_10039F20(a1, a2, a4);
      *(_BYTE *)(a4 + 20) = 9;
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    case 9:
      sub_10025C10(a4);
      v19 = a2;
      sub_10039580(a1, a2, a4);
      *(_BYTE *)(a4 + 20) = 10;
      v20 = sub_10048020();
      LOBYTE(v4) = 0;
      *(_DWORD *)(a4 + 36) = v20;
      if ( a1 )
      {
        while ( (unsigned __int8)v4 < *(_BYTE *)(v19 + 4) )
        {
          qmemcpy(
            (void *)(52 * (unsigned __int8)v4 + a1 + 7732),
            (const void *)(180 * (unsigned __int8)v4 + v19 + 612),
            0x34u);
          v5 = 0;
          v19 = a2;
          LOBYTE(v4) = v4 + 1;
        }
      }
      LOBYTE(v4) = 100;
      if ( !a1 )
        goto LABEL_48;
      while ( (unsigned __int8)v4 < 0x66u )
      {
        qmemcpy(
          (void *)(52 * (unsigned __int8)v4 + a1 + 7732),
          (const void *)(180 * (unsigned __int8)v4 + v19 + 612),
          0x34u);
        v5 = 0;
        v19 = a2;
        LOBYTE(v4) = v4 + 1;
      }
      v21 = *(_BYTE *)a1;
      if ( *(_BYTE *)a1 == -1 )
        goto LABEL_48;
      qmemcpy((void *)(a1 + 232), (const void *)(52 * v21 + a1 + 7732), 0x34u);
      qmemcpy((void *)(a1 + 44), (const void *)(a2 + 44), 0x44u);
      *(_BYTE *)(a1 + 1) = *(_BYTE *)(180 * v21 + a2 + 608);
      qmemcpy((void *)(a1 + 112), (const void *)(a2 + 112), 0x78u);
      result = ((int (*)(void))sub_10047FC0)() - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
    default:
      *(_BYTE *)(a4 + 20) = 0;
LABEL_48:
      result = sub_10047FC0(v5, v4) - v22;
      *(_DWORD *)(a4 + 32) += result;
      break;
  }
  return result;
}
// 10047FC0: using guessed type int __fastcall sub_10047FC0(_DWORD, _DWORD);
// 10048020: using guessed type int sub_10048020(void);

//----- (10029560) --------------------------------------------------------
int __cdecl sub_10029560(int a1, int a2, int a3)
{
  int result; // eax@2

  *(_BYTE *)(a3 + 20) = 0;
  *(_BYTE *)(a3 + 19) = 0;
  do
    result = sub_10029140(a1, a2, a3, a3);
  while ( *(_BYTE *)(a3 + 20) != 10 );
  return result;
}

//----- (10029590) --------------------------------------------------------
double __cdecl sub_10029590(float a1, float a2)
{
  double v2; // st7@1
  float v3; // ST00_4@5
  double v4; // st6@1
  double v5; // st5@1
  double result; // st7@6
  float v7; // [sp+8h] [bp+4h]@1
  float v8; // [sp+8h] [bp+4h]@6
  float v9; // [sp+Ch] [bp+8h]@4

  v2 = a1;
  v7 = a1 / 0.05235987901687622;
  v4 = a2;
  v5 = 4.5698152;
  if ( (LODWORD(a2) & 0x7F800000) == 2139095040 || v4 > 4.5698152 || (v5 = 0.01712, v4 < 0.01712) )
  {
    v9 = v5;
    v4 = v9;
  }
  v3 = 0.05235987901687622 * v2;
  if ( v3 <= v4 )
  {
    result = v7;
  }
  else
  {
    v8 = v2 * v2 / v4;
    result = v8;
  }
  return result;
}

//----- (10029620) --------------------------------------------------------
double __cdecl sub_10029620(int a1, int a2)
{
  long double v2; // st7@1
  double result; // st7@2
  double v4; // [sp+4h] [bp-8h]@1

  v4 = sub_100641C0(a2, a1) + *(double *)(a2 + 24);
  v2 = sqrt(sub_100641C0(a2, a2));
  if ( 0.0 == v2 )
    result = 0.0;
  else
    result = v4 / v2;
  return result;
}

//----- (10029670) --------------------------------------------------------
double __cdecl sub_10029670(int a1, float a2)
{
  float v2; // esi@1
  __int16 v3; // ax@1
  int v4; // eax@2
  double result; // st7@3
  double v6; // st7@5
  char v7; // [sp+8h] [bp-Ch]@3
  char v8; // [sp+Ch] [bp-8h]@3
  float v9; // [sp+10h] [bp-4h]@6

  v2 = a2;
  v3 = (*(_BYTE *)(LODWORD(a2) + 2) >> 1) & 3;
  if ( v3 == 2 )
  {
    v4 = sub_10024D30(a1, *(_WORD *)(LODWORD(a2) + 10));
    if ( v4 )
    {
      sub_10022FC0(v4 + 36, LODWORD(v2) + 36, (float *)&v8, (float *)&v7, &a2);
      return a2;
    }
    return (float)9.9999996e24;
  }
  if ( v3 != 1 )
    return (float)9.9999996e24;
  sub_10022FC0(LODWORD(a2) + 24, LODWORD(a2) + 36, (float *)&v8, (float *)&v7, &a2);
  v6 = a2;
  if ( (*(_WORD *)(LODWORD(v2) + 2) & 0xC00) == 2048 )
  {
    v9 = v6 + 1.570796370506287;
    a2 = sub_100637E0(v9);
    result = a2;
  }
  else
  {
    v9 = v6 - 1.570796370506287;
    a2 = sub_100637E0(v9);
    result = a2;
  }
  return result;
}

//----- (10029770) --------------------------------------------------------
char __cdecl sub_10029770(float *a1, float *a2, _BYTE *a3)
{
  float v3; // ST0C_4@1
  double v4; // st7@1
  char result; // al@1

  v3 = *(float *)(dword_10504EDC + 548);
  *a1 = v3;
  sub_1004F2B0(*(_DWORD *)(dword_10504EDC + 544));
  *a1 = v3 - v3 * *(float *)(dword_10504EDC + 568);
  v4 = *(float *)(dword_10504EDC + 552);
  *a2 = *(float *)(dword_10504EDC + 552);
  sub_1004F2B0(*(_DWORD *)(dword_10504EDC + 544));
  *a2 = v4 * *(float *)(dword_10504EDC + 568) + *a2;
  result = *(_BYTE *)(dword_10504EDC + 537);
  *a3 = result;
  return result;
}
// 1004F2B0: using guessed type _DWORD __cdecl sub_1004F2B0(_DWORD);
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10029810) --------------------------------------------------------
BOOL __cdecl sub_10029810(char a1)
{
  return a1 == 10
      || a1 == 11
      || a1 == 12
      || a1 == 13
      || a1 == 14
      || a1 == 15
      || a1 == 16
      || a1 == 17
      || a1 == 22
      || a1 == 23
      || a1 == 24
      || a1 == 18
      || a1 == 19
      || a1 == 20
      || a1 == 21;
}

//----- (10029860) --------------------------------------------------------
int __cdecl sub_10029860(int a1, double a2, int a3)
{
  long double v3; // st7@1
  int result; // eax@1
  long double v5; // st5@1
  int v6[2]; // [sp+30h] [bp-20h]@1
  int v7[2]; // [sp+38h] [bp-18h]@1
  int v8[2]; // [sp+40h] [bp-10h]@1
  int v9[2]; // [sp+48h] [bp-8h]@1

  sub_10063930(*(double *)a1, (int)v6, (int)v7);
  sub_10063930(*(double *)(a1 + 8), (int)v9, (int)v8);
  v3 = 6378137.0 / sqrt(1.0 - *(double *)v6 * (0.00669437999013 * *(double *)v6));
  result = a3;
  v5 = *(double *)v7 * (a2 + v3);
  *(long double *)a3 = *(double *)v8 * v5;
  *(long double *)(a3 + 8) = v5 * *(double *)v9;
  *(long double *)(a3 + 16) = (a2 + v3) * *(double *)v6 - *(double *)v6 * (v3 * 0.00669437999013);
  return result;
}

//----- (10029900) --------------------------------------------------------
int __cdecl sub_10029900(int a1, int a2, int a3)
{
  int v3; // esi@1
  double v4; // st7@1
  double v5; // st7@2
  int result; // eax@4
  float v7; // [sp+8h] [bp+4h]@1
  float v8; // [sp+8h] [bp+4h]@2

  v3 = a1;
  v7 = 1.0 - *(float *)(a1 + 8) * *(float *)(a1 + 8);
  v4 = 0.0;
  if ( v7 < 0.0 )
    goto LABEL_4;
  v8 = sqrt(v7);
  v5 = v8;
  if ( v8 < 0.0000039196398 )
  {
    v4 = 0.0;
LABEL_4:
    *(float *)a3 = 1.0;
    *(float *)(a3 + 4) = v4;
    *(float *)(a3 + 8) = v4;
    result = a2;
    *(float *)a2 = v4;
    *(float *)(a2 + 4) = *(float *)(v3 + 8);
    *(float *)(a2 + 8) = v4;
    return result;
  }
  result = a3;
  *(float *)a3 = -*(float *)(v3 + 4) / v5;
  *(float *)(a3 + 4) = *(float *)v3 / v5;
  *(float *)(a3 + 8) = 0.0;
  *(float *)a2 = -*(float *)(a3 + 4) * *(float *)(v3 + 8);
  *(float *)(a2 + 4) = *(float *)a3 * *(float *)(v3 + 8);
  *(float *)(a2 + 8) = v8;
  return result;
}

//----- (100299A0) --------------------------------------------------------
int __cdecl sub_100299A0(int a1, float a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a3 = *(float *)a1 * a2;
  *(float *)(a3 + 4) = a2 * *(float *)(a1 + 4);
  return result;
}

//----- (100299C0) --------------------------------------------------------
void __usercall sub_100299C0(int a1@<ebx>, int a2@<edi>, int a3@<esi>, int a4, double a5)
{
  char v5; // [sp+10h] [bp-18h]@1

  sub_10064210(a5, a1, (int)&v5);
  sub_10064160((int)&v5, a4, a2);
  sub_10064210(-1.0, a1, a3);
  *(double *)(a3 + 24) = -sub_100641C0(a3, a2);
}

//----- (10029A10) --------------------------------------------------------
int __cdecl sub_10029A10(int a1, double a2, int a3, int a4, float a5, int a6, int a7, int a8)
{
  long double v8; // st7@2
  double v9; // st7@2
  long double v10; // st7@4
  long double v11; // st7@5
  long double v12; // ST20_8@5
  long double v13; // st6@5
  long double v14; // st7@8
  int result; // eax@11
  double v16; // [sp+4h] [bp-28h]@4
  double v17; // [sp+Ch] [bp-20h]@1
  char v18; // [sp+14h] [bp-18h]@3
  float v19; // [sp+44h] [bp+18h]@11

  v17 = sub_10029620(a1, a4);
  if ( a5 <= 0.0 )
  {
    sub_10064270(a3, a1, (int)&v18);
    v9 = sub_100641C0((int)&v18, (int)&v18);
  }
  else
  {
    v8 = tan(*(float *)(dword_10504EDC + 956));
    v9 = (*(float *)(dword_10504EDC + 940) / v8 + a5) * (*(float *)(dword_10504EDC + 940) / v8 + a5) + v17 * v17;
  }
  v10 = sqrt(v9);
  v16 = v10;
  if ( v10 <= 0.000001 )
  {
    v14 = 0.0;
  }
  else
  {
    v11 = v17 / v10;
    v12 = v11;
    v13 = 0.9999960803601428;
    if ( (HIDWORD(v12) & 0x7FF00000) != 2146435072
      && v11 <= 0.9999960803601428
      && (v13 = -0.9999960803601428, v11 >= -0.9999960803601428) )
    {
      v14 = asin(v11) - a2;
    }
    else
    {
      v14 = asin(v13) - a2;
    }
  }
  *(float *)a6 = sin(v14) * v16;
  result = dword_10504EDC;
  v19 = a2;
  *(float *)a7 = *(float *)(dword_10504EDC + 736) - *(float *)(dword_10504EDC + 320) * v19;
  *(float *)a8 = tan(a2 * 0.25) * v16;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10029B50) --------------------------------------------------------
void __cdecl sub_10029B50(int a1, double a2, float a3, double a4, float a5, double a6, int a7)
{
  int v7[2]; // [sp+28h] [bp-68h]@1
  int v8[2]; // [sp+30h] [bp-60h]@1
  int v9[2]; // [sp+38h] [bp-58h]@1
  int v10[2]; // [sp+40h] [bp-50h]@1
  int v11[2]; // [sp+48h] [bp-48h]@1
  int v12[2]; // [sp+50h] [bp-40h]@1
  double v13; // [sp+58h] [bp-38h]@1
  double v14; // [sp+60h] [bp-30h]@1
  double v15; // [sp+68h] [bp-28h]@1
  double v16; // [sp+70h] [bp-20h]@1
  int v17; // [sp+78h] [bp-18h]@1

  sub_10063930(a5, (int)v10, (int)v8);
  sub_10063930(*(double *)a1, (int)v7, (int)v12);
  sub_10063930(*(double *)(a1 + 8), (int)v9, (int)v11);
  v14 = -(*(double *)v9 * *(double *)v10) - *(double *)v7 * *(double *)v8 * *(double *)v11;
  v15 = *(double *)v10 * *(double *)v11 - *(double *)v9 * (*(double *)v7 * *(double *)v8);
  v16 = *(double *)v8 * *(double *)v12;
  sub_10029860(a1, a2, (int)&v17);
  sub_100299C0((int)&v14, a7, a7 + 48, (int)&v17, a6);
  v13 = a3;
  sub_100299C0((int)&v14, a7 + 24, a7 + 80, (int)&v17, a3 / tan(a4));
  sub_100640A0(a1, a7 + 112);
  *(double *)(a7 + 136) = -sub_100641C0(a7 + 112, (int)&v17);
  sub_100642E0(a7 + 112, (int)&v14, a7 + 144);
  *(double *)(a7 + 168) = -sub_100641C0(a7 + 144, (int)&v17);
}

//----- (10029CB0) --------------------------------------------------------
int __cdecl sub_10029CB0(int a1, float a2, double a3, int a4, int a5, int a6)
{
  float *v6; // esi@1
  int result; // eax@1
  int v8; // [sp+24h] [bp-1Ch]@2
  int v9; // [sp+28h] [bp-18h]@2

  v6 = (float *)a6;
  *(float *)a6 = 9.9999996e24;
  result = dword_10504EDC;
  if ( *(_BYTE *)(dword_10504EDC + 928) )
  {
    sub_10029860(a1, *(float *)(dword_10504EDC + 696), (int)&v9);
    result = sub_10029A10((int)&v9, a3, a4, a5, a2, (int)v6, (int)&v8, (int)&a6);
    *v6 = *(float *)(dword_10504EDC + 696) - *v6;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10029D40) --------------------------------------------------------
signed __int16 sub_10029D40()
{
  signed __int16 result; // ax@2

  if ( sub_1004F050() )
  {
    result = *(_WORD *)(dword_10504EDC + 828);
    if ( *(_WORD *)(dword_10504EDC + 828) == -1 )
      result = -1;
  }
  else
  {
    result = -1;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10029D70) --------------------------------------------------------
signed __int16 __cdecl sub_10029D70(char a1)
{
  void *v1; // eax@1
  char *v2; // edi@1
  signed __int16 result; // ax@2
  __int16 v4; // si@2
  int v5; // edx@3
  __int16 v6; // cx@3

  v1 = sub_10016850(a1);
  v2 = (char *)v1;
  if ( !v1 )
    goto LABEL_9;
  result = *((_WORD *)v1 + 7);
  v4 = 0;
  if ( result == -1 )
    goto LABEL_9;
  do
  {
    v5 = (int)&v2[44 * result];
    v6 = (*(_BYTE *)(v5 + 326) >> 1) & 3;
    if ( v6 == 1 || v6 == 2 )
      break;
    if ( v4 >= 500 )
      goto LABEL_9;
    result = *(_WORD *)(v5 + 332);
    ++v4;
  }
  while ( result != -1 );
  if ( v4 >= 500 || result == -1 )
LABEL_9:
    result = -1;
  return result;
}

//----- (10029DE0) --------------------------------------------------------
signed __int16 __cdecl sub_10029DE0(char a1, unsigned __int16 a2)
{
  char *v2; // edi@1
  int v3; // eax@3
  signed __int16 result; // ax@4
  __int16 v5; // si@4
  int v6; // edx@5
  __int16 v7; // cx@5

  v2 = (char *)sub_10016850(a1);
  if ( !v2 )
    goto LABEL_11;
  if ( a2 >= 0x1F4u )
    goto LABEL_11;
  v3 = (int)&v2[44 * a2];
  if ( (*(_BYTE *)(v3 + 326) & 6) == 6 )
    goto LABEL_11;
  result = *(_WORD *)(v3 + 332);
  v5 = 0;
  if ( result == -1 )
    goto LABEL_11;
  do
  {
    v6 = (int)&v2[44 * result];
    v7 = (*(_BYTE *)(v6 + 326) >> 1) & 3;
    if ( v7 == 1 || v7 == 2 )
      break;
    if ( v5 >= 500 )
      goto LABEL_11;
    result = *(_WORD *)(v6 + 332);
    ++v5;
  }
  while ( result != -1 );
  if ( v5 >= 500 || result == -1 )
LABEL_11:
    result = -1;
  return result;
}

//----- (10029E80) --------------------------------------------------------
char __cdecl sub_10029E80(int a1, int a2)
{
  unsigned __int8 v2; // cl@3
  char result; // al@3

  if ( a1 && a2 != 16744448 && (v2 = *(_BYTE *)(a1 + 10), result = 0, v2) )
  {
    while ( *(_DWORD *)(((unsigned __int8)result << 6) + a1 + 22332) != a2 )
    {
      if ( (unsigned __int8)++result >= v2 )
        goto LABEL_6;
    }
  }
  else
  {
LABEL_6:
    result = -1;
  }
  return result;
}

//----- (10029EC0) --------------------------------------------------------
char __cdecl sub_10029EC0(int a1, char a2)
{
  char v2; // bl@3
  int v3; // eax@4
  char result; // al@7

  if ( a1 && a2 != -1 && (v2 = 0, *(_BYTE *)(a1 + 10)) )
  {
    while ( 1 )
    {
      v3 = a1 + ((unsigned __int8)v2 << 6);
      if ( *(_BYTE *)(v3 + 22324) == a2 && !sub_10029F50(*(_DWORD *)(v3 + 22332)) )
        break;
      if ( (unsigned __int8)++v2 >= *(_BYTE *)(a1 + 10) )
        goto LABEL_7;
    }
    result = v2;
  }
  else
  {
LABEL_7:
    result = -1;
  }
  return result;
}

//----- (10029F20) --------------------------------------------------------
int __cdecl sub_10029F20(unsigned int a1)
{
  int result; // eax@1
  bool v2; // zf@4

  result = a1;
  if ( a1 > 0xFF8200 )
  {
    v2 = a1 == 16745216;
  }
  else
  {
    if ( a1 == 16744960 )
      return 16744704;
    if ( a1 == 16744448 )
      return result;
    v2 = a1 == 16744704;
  }
  if ( !v2 )
    result = a1 & 0xFF0000;
  return result;
}

//----- (10029F50) --------------------------------------------------------
bool __cdecl sub_10029F50(int a1)
{
  bool result; // al@5

  if ( a1 == 16744704 || a1 == 16745216 || a1 == 16744448 )
  {
    result = 0;
  }
  else if ( a1 == 16744960 )
  {
    result = 1;
  }
  else
  {
    result = (unsigned __int16)a1 != 0;
  }
  return result;
}

//----- (10029F80) --------------------------------------------------------
int __cdecl sub_10029F80(char a1, float a2)
{
  double v2; // st7@1
  int result; // eax@6
  float v4; // [sp+10h] [bp+8h]@4

  v2 = a2;
  if ( (LODWORD(a2) & 0x7F800000) == 2139095040 || v2 > 1851074.0 || v2 < -1851074.0 )
  {
    result = 16744448;
  }
  else
  {
    v4 = v2 * 0.0005399567889980972;
    if ( (unsigned __int8)a1 == 254 )
    {
      if ( sub_10063840(v4) )
        result = 16744960;
      else
        result = 16744704;
    }
    else if ( (unsigned __int8)a1 == 255 )
    {
      result = 16745216;
    }
    else
    {
      result = ((unsigned __int8)a1 << 16) | (unsigned __int16)sub_10063840(v4);
    }
  }
  return result;
}

//----- (1002A020) --------------------------------------------------------
BOOL __cdecl sub_1002A020(int a1)
{
  return a1 == 16744704 || a1 == 16744960 || a1 == 16745216;
}

//----- (1002A050) --------------------------------------------------------
double sub_1002A050()
{
  float v1; // [sp+0h] [bp-4h]@1

  v1 = 9.9999996e24;
  if ( sub_1004F050() )
  {
    sub_1004F2D0();
    if ( *(_BYTE *)(dword_10504EDC + 1360) )
      v1 = *(float *)(dword_10504EDC + 1404);
    sub_1004F2C0();
  }
  return v1;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002A090) --------------------------------------------------------
double sub_1002A090()
{
  double result; // st7@2

  if ( !sub_1004F050() || (result = *(float *)(dword_10504EDC + 1268), result == 9.9999996e24) )
    result = 0.0;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002A0D0) --------------------------------------------------------
double sub_1002A0D0()
{
  double result; // st7@2

  if ( !sub_1004F050() || (result = *(float *)(dword_10504EDC + 1288), result == 9.9999996e24) )
    result = 0.0;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002A110) --------------------------------------------------------
double sub_1002A110()
{
  double result; // st7@2

  if ( !sub_1004F050() || (result = *(float *)(dword_10504EDC + 1292), result == 9.9999996e24) )
    result = 0.0;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002A150) --------------------------------------------------------
double sub_1002A150()
{
  double result; // st7@2

  if ( sub_1004F050() )
    result = *(float *)(dword_10504EDC + 252);
  else
    result = 9.9999996e24;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002A170) --------------------------------------------------------
char sub_1002A170()
{
  char result; // al@2

  if ( sub_1004F050() )
    result = *(_BYTE *)(dword_10504EDC + 14);
  else
    result = 0;
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002A190) --------------------------------------------------------
int __cdecl sub_1002A190(_BYTE *a1, int a2)
{
  unsigned __int8 v2; // bl@1
  int result; // eax@4

  v2 = 0;
  if ( *a1 )
  {
    while ( a2 != sub_10029F80(a1[52 * v2 + 5], *(float *)&a1[52 * v2 + 52]) )
    {
      if ( ++v2 >= *a1 )
        goto LABEL_4;
    }
    result = (int)&a1[52 * v2 + 4];
  }
  else
  {
LABEL_4:
    result = 0;
  }
  return result;
}

//----- (1002A1E0) --------------------------------------------------------
char __cdecl sub_1002A1E0(int a1, unsigned __int8 a2)
{
  int v2; // ecx@2
  char v3; // dl@3
  char result; // al@7

  if ( (unsigned __int8)sub_10039FA0(a1, a2) && (v2 = (a2 << 6) + a1, 9.9999996e24 != *(float *)(v2 + 22384)) )
  {
    v3 = 0;
    if ( (*(_BYTE *)(v2 + 22325) & 7) == 5 && *(float *)(v2 + 22348) == *(float *)(v2 + 22384)
      || *(float *)(v2 + 22344) == *(float *)(v2 + 22384) )
    {
      v3 = 1;
    }
    result = v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1002A260) --------------------------------------------------------
BOOL __cdecl sub_1002A260(char a1)
{
  return a1 != 23
      && a1 != 1
      && a1 != 7
      && a1 != 10
      && a1 != 11
      && a1 != 12
      && a1 != 13
      && a1 != 14
      && a1 != 18
      && a1 != 19
      && a1 != 20
      && a1 != 21
      && a1 != 22;
}

//----- (1002A2B0) --------------------------------------------------------
int __usercall sub_1002A2B0@<eax>(int result@<eax>, int a2@<esi>, unsigned __int8 a3)
{
  unsigned __int8 v3; // bl@1
  int v4; // ecx@4
  char v5; // al@4
  int v6; // ecx@4
  char v7; // al@4
  float v8; // [sp+4h] [bp-Ch]@1
  unsigned __int8 i; // [sp+8h] [bp-8h]@1
  float v10; // [sp+Ch] [bp-4h]@8

  v3 = result;
  v8 = *(float *)(a2 + 188);
  for ( i = result; v3 != -1; *(float *)(result + 22360) = 0.0 )
  {
    if ( v3 < a3 )
      break;
    if ( (unsigned __int8)sub_10039FA0(a2, i) )
    {
      v4 = v3 << 6;
      v5 = *(_BYTE *)(v4 + a2 + 22325);
      v6 = a2 + v4;
      v7 = v5 & 7;
      if ( v7 == 2 || v7 == 4 )
      {
        v8 = *(float *)(v6 + 22344);
      }
      else if ( v7 == 5 )
      {
        v8 = *(float *)(v6 + 22348);
      }
      else
      {
        v10 = *(float *)(v6 + 22344);
        if ( v8 < (double)v10 )
          v8 = v10;
      }
    }
    result = (v3-- << 6) + a2;
    *(float *)(result + 22384) = v8;
    i = v3;
  }
  return result;
}

//----- (1002A380) --------------------------------------------------------
char __usercall sub_1002A380@<al>(unsigned __int8 a1@<al>, char a2@<dl>, int a3@<edi>, float a4, int a5, int a6)
{
  int v6; // esi@1
  unsigned __int8 v7; // bl@1
  int v8; // esi@1
  unsigned __int8 v9; // cl@4
  char result; // al@6
  unsigned __int8 v11; // al@13

  v6 = a1 << 6;
  v7 = *(_BYTE *)(v6 + a6 + 22324);
  v8 = a6 + v6;
  if ( a2 == -1 || *(_BYTE *)(v8 + 22325) || *(_WORD *)(((a1 + 349) << 6) + a6) == -1 )
    goto LABEL_22;
  v9 = *(_BYTE *)(a3 + 8);
  if ( a1 > v9 && a1 < *(_BYTE *)(a3 + 9) )
    return 2;
  if ( a1 > *(_BYTE *)(a3 + 4) && a1 < *(_BYTE *)(a3 + 5) || a1 > *(_BYTE *)(a3 + 6) && a1 < *(_BYTE *)(a3 + 7) )
    return 3;
  if ( a2 != v9 || (v11 = *(_BYTE *)(a5 + 586), v11 != -1) && v7 <= v11 )
  {
LABEL_22:
    result = 0;
  }
  else
  {
    if ( *(float *)((*(_BYTE *)(a6 + 10) << 6) + a6 + 22288) * 0.5 >= *(float *)(v8 + 22352)
      && *(float *)(a6 + 188) <= (double)a4
      && *(_BYTE *)(a3 + 11) )
    {
      return 3;
    }
    result = 1;
  }
  return result;
}

//----- (1002A450) --------------------------------------------------------
double __usercall sub_1002A450@<st0>(int a1@<eax>, unsigned __int8 a2@<dl>, unsigned __int8 a3@<cl>)
{
  return (float)(*(float *)((a3 << 6) + a1 + 22352) - *(float *)((a2 << 6) + a1 + 22352));
}

//----- (1002A480) --------------------------------------------------------
double __usercall sub_1002A480@<st0>(unsigned __int8 a1@<dl>, unsigned __int8 a2@<cl>, int a3@<esi>)
{
  float *v3; // ebx@3
  float *v4; // edi@4
  float v5; // ST08_4@5
  double v6; // st7@5
  float v7; // ST08_4@6
  double result; // st7@7
  float v9; // [sp+0h] [bp-4h]@1

  v9 = 9.9999996e24;
  if ( a2 == -1 || a1 == -1 )
    return v9;
  v3 = (float *)((a2 << 6) + a3 + 22384);
  if ( 9.999999562023526e24 == *v3 )
  {
    result = v9;
  }
  else
  {
    v4 = (float *)((a1 << 6) + a3 + 22384);
    if ( *v4 == 9.999999562023526e24 )
      return v9;
    v5 = sub_1002A450(a3, a1, a2);
    v6 = v5;
    if ( v5 > 25.0 )
    {
      v7 = *v3 - *v4;
      return (float)atan(v7 / v6);
    }
    result = (float)0.0;
  }
  return result;
}

//----- (1002A520) --------------------------------------------------------
char __usercall sub_1002A520@<al>(unsigned __int8 a1@<al>, int a2@<esi>, int a3, unsigned __int8 a4)
{
  unsigned __int8 v4; // bl@1
  char result; // al@1
  int v6; // ecx@3
  char v7; // [sp+Bh] [bp-5h]@1
  unsigned __int8 v8; // [sp+Ch] [bp-4h]@1

  v4 = a1;
  result = -1;
  v7 = -1;
  v8 = v4;
  if ( v4 <= a4 )
  {
    while ( 1 )
    {
      if ( (unsigned __int8)sub_10039FA0(a2, v8) )
      {
        v6 = (v4 << 6) + a2;
        if ( 0.0 == *(float *)(v6 + 22360)
          || *(float *)(a3 + 24) > (double)*(float *)(v6 + 22360)
          || *(_BYTE *)(v6 + 22326) & 1 )
        {
          return v7;
        }
        if ( sub_1002A1E0(a2, v8) )
          v7 = v4;
      }
      v8 = ++v4;
      if ( v4 > a4 )
        return v7;
    }
  }
  return result;
}

//----- (1002A5B0) --------------------------------------------------------
unsigned __int8 __usercall sub_1002A5B0@<al>(unsigned __int8 result@<al>, int a2@<edi>, int a3@<esi>, unsigned __int8 a4)
{
  unsigned __int8 v4; // bl@1
  int v5; // eax@3
  unsigned __int8 v6; // [sp+7h] [bp-5h]@1
  unsigned __int8 v7; // [sp+8h] [bp-4h]@1

  v4 = result + 1;
  v6 = result;
  v7 = result + 1;
  if ( (unsigned __int8)(result + 1) <= a4 )
  {
    while ( 1 )
    {
      if ( (unsigned __int8)sub_10039FA0(a3, v7) )
      {
        v5 = (v4 << 6) + a3;
        if ( *(_BYTE *)(v5 + 22326) & 1 || *(float *)(a2 + 36) <= (double)*(float *)(v5 + 22360) )
          return v6;
        v6 = v4;
      }
      v7 = ++v4;
      if ( v4 > a4 )
        return v6;
    }
  }
  return result;
}

//----- (1002A620) --------------------------------------------------------
char __usercall sub_1002A620@<al>(unsigned __int8 a1@<al>, int a2@<edi>)
{
  unsigned __int8 v2; // bl@1
  int v3; // esi@2
  int v4; // ebx@2
  _BYTE *v5; // ecx@3
  char result; // al@7
  char v7; // ST13_1@9

  v2 = a1;
  if ( !(unsigned __int8)sub_1003A020(a2, a1) )
    goto LABEL_7;
  v3 = v2;
  v4 = v2 - 1;
  if ( v4 < 0 )
    goto LABEL_7;
  v5 = (_BYTE *)((v4 << 6) + a2 + 22325);
  while ( *v5 != 18 && *v5 != 26 )
  {
    --v4;
    v5 -= 64;
    if ( v4 < 0 )
      goto LABEL_7;
  }
  if ( v4 >= 0
    && (v7 = sub_1002A020(*(_DWORD *)(((unsigned __int8)v4 << 6) + a2 + 22332)),
        v7 == (unsigned __int8)sub_1002A020(*(_DWORD *)((v3 << 6) + a2 + 22332))) )
  {
    result = v4;
  }
  else
  {
LABEL_7:
    result = -1;
  }
  return result;
}

//----- (1002A6B0) --------------------------------------------------------
double __usercall sub_1002A6B0@<st0>(unsigned __int8 a1@<al>, int a2@<edi>)
{
  unsigned __int8 v2; // bl@1
  int v3; // esi@2
  int v4; // ecx@2
  char *v5; // edx@3
  char v6; // al@4
  double result; // st7@11
  double v8; // st7@12
  float v9; // ST10_4@16
  char v10; // bl@15

  v2 = a1;
  if ( !(unsigned __int8)sub_1003A020(a2, a1) )
    goto LABEL_11;
  v3 = v2;
  v4 = v2 - 1;
  if ( v4 < 0 )
    goto LABEL_11;
  v5 = (char *)((v4 << 6) + a2 + 22325);
  while ( 1 )
  {
    v6 = *v5;
    if ( *v5 == 18 || v6 == 20 || v6 == 26 || v6 == 28 )
      break;
    if ( v6 == 29 || v6 == 21 )
    {
      v8 = *(float *)((v4 << 6) + a2 + 22348);
      goto LABEL_14;
    }
    --v4;
    v5 -= 64;
    if ( v4 < 0 )
      goto LABEL_11;
  }
  v8 = *(float *)((v4 << 6) + a2 + 22344);
LABEL_14:
  if ( v4 < 0 )
    goto LABEL_11;
  v10 = sub_1002A020(*(_DWORD *)(((unsigned __int8)v4 << 6) + a2 + 22332));
  if ( v10 == (unsigned __int8)sub_1002A020(*(_DWORD *)((v3 << 6) + a2 + 22332)) )
  {
    v9 = v8;
    result = v9;
  }
  else
  {
LABEL_11:
    result = 9.9999996e24;
  }
  return result;
}

//----- (1002A770) --------------------------------------------------------
char __usercall sub_1002A770@<al>(unsigned __int8 a1@<al>, int a2@<edi>)
{
  unsigned __int8 v2; // bl@1
  int v3; // esi@2
  int v4; // ebx@2
  char result; // al@5
  char v6; // ST13_1@7

  v2 = a1;
  if ( !(unsigned __int8)sub_1003A020(a2, a1) )
    goto LABEL_5;
  v3 = v2;
  v4 = v2 - 1;
  if ( v4 < 0 )
    goto LABEL_5;
  while ( !(unsigned __int8)sub_10039FA0(a2, v4) )
  {
    if ( --v4 < 0 )
      goto LABEL_5;
  }
  if ( v4 >= 0
    && (v6 = sub_1002A020(*(_DWORD *)(((unsigned __int8)v4 << 6) + a2 + 22332)),
        v6 == (unsigned __int8)sub_1002A020(*(_DWORD *)((v3 << 6) + a2 + 22332))) )
  {
    result = v4;
  }
  else
  {
LABEL_5:
    result = -1;
  }
  return result;
}

//----- (1002A7F0) --------------------------------------------------------
double __usercall sub_1002A7F0@<st0>(int a1@<eax>, unsigned __int8 a2@<bl>, unsigned __int8 a3, int a4)
{
  int v4; // edi@1
  char v5; // al@1
  bool v6; // dl@3
  double v7; // st6@7
  double result; // st7@8
  float v9; // [sp+4h] [bp-4h]@10
  float v10; // [sp+10h] [bp+8h]@7
  float v11; // [sp+10h] [bp+8h]@9

  v4 = a1;
  v5 = sub_1002A770(a2, a1);
  v6 = v5 != -1 && !(*(_BYTE *)(((unsigned __int8)v5 << 6) + v4 + 22325) & 0x40);
  if ( a2 != *(_BYTE *)(a4 + 2) )
  {
    if ( v6 && a2 > a3 )
      result = *(float *)(((unsigned __int8)v5 << 6) + v4 + 22384);
    else
      result = *(float *)(v4 + 188);
    return result;
  }
  if ( 9.9999996e24 != *(float *)(v4 + 52) )
  {
    v10 = *(float *)(v4 + 52);
    v7 = *(float *)((a2 << 6) + v4 + 22384);
    if ( v7 < v10 )
      return v10;
    return (float)v7;
  }
  v11 = *(float *)((a2 << 6) + v4 + 22384);
  if ( !v6 )
    goto LABEL_12;
  v9 = *(float *)(((unsigned __int8)v5 << 6) + v4 + 22384);
  result = v11;
  if ( v9 >= (double)v11 )
  {
    v11 = v9;
LABEL_12:
    result = v11;
  }
  if ( a2 <= a3 )
  {
    v7 = *(float *)(v4 + 188);
    if ( v7 >= result )
      return (float)v7;
  }
  return result;
}

//----- (1002A920) --------------------------------------------------------
signed int __cdecl sub_1002A920(int a1)
{
  unsigned __int8 v1; // cl@0
  signed int result; // eax@1
  int v3; // ecx@1
  _WORD *v4; // edx@2

  result = -1;
  v3 = v1 - 1;
  if ( v3 >= 0 )
  {
    v4 = (_WORD *)(a1 + ((v3 + 349) << 6));
    do
    {
      result = *v4;
      if ( (_WORD)result != -1 )
        break;
      --v3;
      v4 -= 32;
    }
    while ( v3 >= 0 );
  }
  return result;
}

//----- (1002A960) --------------------------------------------------------
char __usercall sub_1002A960@<al>(int a1@<eax>, int a2, float a3, int a4, int a5, int a6)
{
  _WORD *v6; // ebp@1
  int v7; // esi@1
  double v8; // st7@2
  int v9; // eax@4
  int v10; // eax@4
  unsigned __int8 v11; // bl@4
  int v12; // edx@6
  int v13; // edi@6
  float v14; // ST10_4@6
  double v15; // st7@6
  double v16; // st6@8
  int v17; // ecx@10
  unsigned __int8 v18; // dl@12
  double v19; // st7@14
  float v21; // [sp+4h] [bp-4h]@6
  float v22; // [sp+10h] [bp+8h]@6
  float v23; // [sp+10h] [bp+8h]@6
  float v24; // [sp+10h] [bp+8h]@6
  int v25; // [sp+1Ch] [bp+14h]@4
  int v26; // [sp+1Ch] [bp+14h]@6

  v6 = (_WORD *)a6;
  v7 = a1;
  if ( a3 == 0.0 )
    v8 = *(float *)(a2 + 24);
  else
    v8 = COERCE_FLOAT(LODWORD(a3) & 0x7FFFFFFF) * -1.0;
  *(float *)&v25 = v8;
  *(float *)((*(_BYTE *)(*v6 + a5) << 6) + a1 + 22360) = *(float *)&v25;
  v9 = a1 + (*(_BYTE *)(*v6 + a5) << 6);
  *(float *)(v9 + 22384) = *(float *)(v9 + 22344);
  LOBYTE(v10) = sub_1002A770(*(_BYTE *)(*v6 + a5), v7);
  v11 = v10;
  if ( (_BYTE)v10 == -1 || (LOBYTE(v10) = a2, v11 < *(_BYTE *)(a2 + 8)) )
  {
    --*v6;
  }
  else
  {
    v26 = (v11 << 6) + v7;
    v22 = *(float *)(v26 + 22344);
    *(float *)(v26 + 22384) = v22;
    v12 = *v6;
    v21 = v22;
    v13 = (*(_BYTE *)(v12 + a5) << 6) + v7;
    v14 = sub_1002A450(v7, v11, *(_BYTE *)(v12 + a5));
    v23 = tan(*(float *)(v13 + 22360));
    v24 = -v23 * v14 + *(float *)(v13 + 22384);
    v15 = v24;
    if ( v21 >= (double)v24 || v15 - v21 <= 20.0 )
    {
      v16 = 20.0;
    }
    else
    {
      v16 = 20.0;
      *(float *)(v13 + 22380) = v21;
      *(_BYTE *)((*(_BYTE *)(*v6 + a5) << 6) + v7 + 22329) = 1;
    }
    v17 = (v11 << 6) + v7;
    if ( v16 < *(float *)(v26 + 22384) - v15 )
      *(_BYTE *)((*(_BYTE *)(*v6 + a5) << 6) + v7 + 22328) = 1;
    v18 = *(_BYTE *)(*v6 + a4);
    if ( v11 != v18 )
    {
      if ( v18 == -1 )
      {
        v19 = *(float *)(a2 + 24);
      }
      else
      {
        v19 = sub_1002A480(v18, v11, v7);
        v17 = (v11 << 6) + v7;
      }
      *(float *)(v17 + 22360) = v19;
    }
    v10 = *v6;
    if ( v11 == *(_BYTE *)(v10 + a4) )
      --*v6;
    else
      *(_BYTE *)(v10 + a5) = v11;
  }
  return v10;
}

//----- (1002AB40) --------------------------------------------------------
void __usercall sub_1002AB40(int a1@<esi>)
{
  char v1; // al@1
  float v2; // ST04_4@1
  float v3; // ST00_4@1
  float v4; // ST00_4@1

  *(_BYTE *)a1 = 0;
  *(_BYTE *)(a1 + 1) = 0;
  *(_BYTE *)(a1 + 2) = -1;
  *(_BYTE *)(a1 + 3) = 0;
  *(_BYTE *)(a1 + 4) = -1;
  *(_BYTE *)(a1 + 5) = -1;
  *(_BYTE *)(a1 + 6) = -1;
  *(_BYTE *)(a1 + 7) = -1;
  *(_BYTE *)(a1 + 8) = -1;
  *(_BYTE *)(a1 + 9) = -1;
  *(_BYTE *)(a1 + 10) = -1;
  v1 = sub_1002A170();
  *(float *)(a1 + 12) = 9.9999996e24;
  *(_BYTE *)(a1 + 11) = v1;
  *(float *)(a1 + 16) = 9.9999996e24;
  *(float *)(a1 + 20) = sub_1002A050();
  *(float *)(a1 + 24) = sub_1002A090();
  *(float *)(a1 + 28) = sub_1002A0D0();
  *(float *)(a1 + 32) = sub_1002A150();
  v2 = sub_1002A110();
  *(float *)(a1 + 36) = v2;
  v3 = tan(*(float *)(a1 + 24));
  *(float *)(a1 + 40) = COERCE_FLOAT(LODWORD(v3) & 0x7FFFFFFF);
  v4 = tan(v2);
  *(float *)(a1 + 44) = COERCE_FLOAT(LODWORD(v4) & 0x7FFFFFFF);
}

//----- (1002ABE0) --------------------------------------------------------
char __usercall sub_1002ABE0@<al>(unsigned __int8 a1@<al>, int a2@<ecx>, int a3, unsigned __int8 a4)
{
  unsigned __int8 v4; // bl@1
  int v5; // edi@1
  unsigned __int8 v6; // al@3
  int v7; // esi@5
  char v8; // ST17_1@5
  char v10; // al@9
  int v11; // ecx@11
  _BYTE *v12; // edx@12
  int v13; // edx@13
  int v14; // ecx@13

  v4 = a1;
  v5 = a2;
  if ( a1 != -1 && a4 != -1 )
  {
    v6 = *(_BYTE *)(a2 + 10);
    if ( v4 < v6 && a4 < v6 )
    {
      v7 = (v4 << 6) + a2;
      v8 = sub_1002A020(*(_DWORD *)((a4 << 6) + a2 + 22332));
      if ( (unsigned __int8)sub_1002A020(*(_DWORD *)(v7 + 22332)) == v8 )
      {
        if ( v4 == a4 )
          return sub_1002A260(*(_BYTE *)(180 * *(_BYTE *)(v7 + 22324) + a3 + 671));
        if ( v4 <= a4 )
        {
          v10 = v4;
          v4 = a4;
        }
        else
        {
          v10 = a4;
        }
        v11 = (unsigned __int8)v10 + 1;
        if ( v11 > v4 )
          return 1;
        v12 = (_BYTE *)((v11 << 6) + v5 + 22324);
        while ( (unsigned __int8)sub_1002A260(*(_BYTE *)(180 * *v12 + a3 + 671)) )
        {
          v12 = (_BYTE *)(v13 + 64);
          if ( v14 + 1 > v4 )
            return 1;
        }
      }
    }
  }
  return 0;
}

//----- (1002ACE0) --------------------------------------------------------
__int16 __usercall sub_1002ACE0@<ax>(signed int a1@<eax>, int a2@<edi>, int a3)
{
  int v3; // ebp@1
  signed int v4; // ecx@1
  __int16 v5; // bx@1
  int v6; // esi@1
  int v7; // esi@3
  int v8; // ecx@3
  bool v9; // zf@4
  int v10; // ecx@6
  unsigned __int8 v12; // [sp+10h] [bp+4h]@1

  v3 = a3;
  v4 = *(_BYTE *)(a3 + 8);
  v12 = a1;
  LOWORD(a1) = (unsigned __int8)a1;
  v5 = (unsigned __int8)a1;
  v6 = (unsigned __int8)a1;
  if ( (unsigned __int8)a1 >= v4 )
  {
    do
    {
      if ( (unsigned __int8)sub_10039FA0(a2, v5) )
      {
        v7 = v6 << 6;
        v8 = v7 + a2;
        if ( *(float *)(a2 + 188) <= (double)*(float *)(v7 + a2 + 22384) )
        {
          v9 = *(_BYTE *)(v8 + 22326) == 1;
          *(float *)(v8 + 22384) = *(float *)(a2 + 188);
          *(_BYTE *)(v8 + 22329) = 1;
          *(float *)(v8 + 22380) = *(float *)(a2 + 188);
          if ( !v9 )
            *(float *)(v8 + 22360) = 0.0;
          v10 = (v12 << 6) + a2;
          *(_BYTE *)(v10 + 22329) = 1;
          *(float *)(v10 + 22380) = *(float *)(a2 + 188);
          if ( *(float *)(a2 + 188) == *(float *)(v10 + 22384) && *(_BYTE *)(v10 + 22326) != 1 )
            *(float *)(v10 + 22360) = 0.0;
        }
        v12 = v5;
      }
      a1 = *(_BYTE *)(v3 + 8);
      v6 = --v5;
    }
    while ( v5 >= a1 );
  }
  return a1;
}

//----- (1002ADC0) --------------------------------------------------------
char __usercall sub_1002ADC0@<al>(unsigned __int8 a1@<al>, float *a2@<edx>, int a3@<ecx>)
{
  double v3; // st7@1
  int v4; // ecx@1
  double v5; // st6@1
  char v6; // bl@1
  char result; // al@5

  v3 = *a2;
  v4 = (a1 << 6) + a3;
  v5 = *(float *)(v4 + 22344);
  v6 = 1;
  if ( (*(_BYTE *)(v4 + 22325) & 7) == 3 )
  {
    if ( v5 > v3 )
    {
LABEL_12:
      v6 = 0;
      *a2 = *(float *)(v4 + 22344);
      return v6;
    }
  }
  else
  {
    if ( (*(_BYTE *)(v4 + 22325) & 7) != 4 )
    {
      if ( (*(_BYTE *)(v4 + 22325) & 7) != 5 )
      {
        if ( v5 != v3 )
        {
          result = 0;
          *a2 = *(float *)(v4 + 22344);
          return result;
        }
        return v6;
      }
      if ( v5 <= v3 )
      {
        if ( *(float *)(v4 + 22348) < (double)*a2 )
        {
          result = 0;
          *a2 = *(float *)(v4 + 22348);
          return result;
        }
        return v6;
      }
      goto LABEL_12;
    }
    if ( v5 < v3 )
    {
      result = 0;
      *a2 = *(float *)(v4 + 22344);
      return result;
    }
  }
  return v6;
}

//----- (1002AE60) --------------------------------------------------------
void __usercall sub_1002AE60(unsigned __int8 a1@<al>, int a2@<ecx>, char a3, float a4, char a5, char a6, int a7)
{
  int v7; // esi@1
  double v8; // st7@2
  int v9; // edx@4
  int v10; // ecx@10
  double v11; // st6@18
  double v12; // st7@21
  double v13; // st5@22
  double v14; // st7@22
  double v15; // st5@22
  double v16; // st5@24
  float v17; // [sp+Ch] [bp-8h]@4
  float v18; // [sp+10h] [bp-4h]@19
  float v19; // [sp+10h] [bp-4h]@21
  float v20; // [sp+1Ch] [bp+8h]@5
  float v21; // [sp+1Ch] [bp+8h]@8
  int v22; // [sp+28h] [bp+14h]@14
  int v23; // [sp+28h] [bp+14h]@21
  int v24; // [sp+28h] [bp+14h]@22
  int v25; // [sp+28h] [bp+14h]@24

  v7 = (a1 << 6) + a2;
  if ( *(_BYTE *)(v7 + 22324) < *(_BYTE *)(a7 + 242) )
    v8 = 30.48;
  else
    v8 = 3.0480001;
  v17 = v8;
  v9 = a2 + (LOBYTE(a4) << 6);
  if ( *(_BYTE *)(v9 + 22329)
    && (v20 = *(float *)(v9 + 22380) - *(float *)(v7 + 22384), COERCE_FLOAT(LODWORD(v20) & 0x7FFFFFFF) < (double)v17) )
  {
    *(float *)(v7 + 22384) = *(float *)(v9 + 22380);
  }
  else
  {
    if ( a6 )
    {
      v21 = 9.9999996e24;
    }
    else if ( a3 == 2 )
    {
      v10 = ((unsigned __int8)a5 << 6) + a2;
      if ( (*(_BYTE *)(v10 + 22325) & 7) == 3 )
      {
        v21 = *(float *)(v10 + 22384);
      }
      else
      {
        v21 = *(float *)(v10 + 22348);
        if ( v21 >= 8.999999259944722e24 )
          v21 = -9.9999996e24;
        v22 = *(int *)(v10 + 22344);
        if ( v21 < (double)*(float *)&v22 )
          v21 = *(float *)&v22;
      }
    }
    else
    {
      v21 = *(float *)(a2 + 188);
    }
    if ( (*(_BYTE *)(v9 + 22325) & 7) == 4 )
    {
      v11 = *(float *)(v9 + 22384);
    }
    else
    {
      v18 = *(float *)(v9 + 22348);
      v11 = *(float *)(v9 + 22344);
      if ( v18 <= v11 )
        v11 = v18;
    }
    v19 = v11;
    *(float *)&v23 = sub_100638C0(*(float *)(v7 + 22384), v17);
    v12 = *(float *)&v23;
    if ( v21 >= (double)*(float *)&v23 )
    {
      if ( v19 <= v12 )
      {
        v15 = *(float *)&v23;
        v14 = v19;
      }
      else
      {
        v16 = v12 + v17;
        v14 = v19;
        *(float *)&v25 = v16;
        v15 = *(float *)&v25;
      }
    }
    else
    {
      v13 = v12 - v17;
      v14 = v19;
      *(float *)&v24 = v13;
      v15 = *(float *)&v24;
    }
    if ( v15 <= v21 && v15 >= v14 )
      *(float *)(v7 + 22384) = v15;
  }
}

//----- (1002B040) --------------------------------------------------------
int __cdecl sub_1002B040(int a1, int a2, int a3)
{
  int v3; // ebp@1
  __int16 v4; // bx@2
  int result; // eax@10
  unsigned __int16 v6; // bx@10
  int v7; // eax@11
  float *v8; // esi@11
  char v9; // bl@14
  __int16 v10; // ax@16
  int v11; // ecx@17
  int v12; // esi@31
  char v13; // al@37
  double v14; // st7@38
  char v15; // al@42
  float *v16; // edi@42
  char v17; // bl@42
  float v18; // ecx@52
  unsigned __int16 v19; // bx@52
  double v20; // st7@55
  bool v21; // sf@62
  int v22; // edx@64
  int v23; // edx@72
  int v24; // esi@72
  double v25; // st7@75
  float v26; // ST4C_4@76
  double v27; // st6@76
  float v28; // ST4C_4@79
  int v29; // eax@79
  bool v30; // [sp+1Dh] [bp-3Bh]@10
  char v31; // [sp+1Eh] [bp-3Ah]@13
  char v32; // [sp+1Fh] [bp-39h]@1
  float v33; // [sp+20h] [bp-38h]@24
  float v34; // [sp+24h] [bp-34h]@0
  float v35; // [sp+28h] [bp-30h]@25
  float v36; // [sp+2Ch] [bp-2Ch]@25
  float v37; // [sp+2Ch] [bp-2Ch]@76
  int v38; // [sp+30h] [bp-28h]@10
  float *v39; // [sp+34h] [bp-24h]@11
  unsigned __int8 v40; // [sp+38h] [bp-20h]@1
  float v41; // [sp+3Ch] [bp-1Ch]@1
  char v42; // [sp+40h] [bp-18h]@1
  float v43; // [sp+44h] [bp-14h]@52
  float v44; // [sp+48h] [bp-10h]@52
  int v45; // [sp+4Ch] [bp-Ch]@11
  __int16 v46; // [sp+54h] [bp-4h]@13
  char v47; // [sp+64h] [bp+Ch]@2

  v41 = 0.0;
  v3 = a3;
  LOBYTE(v34) = -1;
  v42 = -1;
  v32 = 1;
  v40 = -1;
  if ( (unsigned __int8)sub_1003A020(a3, *(_BYTE *)(a1 + 8)) )
  {
    v47 = 0;
    v4 = *(_BYTE *)(a1 + 8);
    do
    {
      if ( v4 > (signed int)*(_BYTE *)(a1 + 9) )
        break;
      if ( (unsigned __int8)sub_10039FA0(v3, v4) && *(float *)((v4 << 6) + v3 + 22360) < 0.0 )
        v40 = v4;
      ++v4;
    }
    while ( v40 == -1 );
  }
  else
  {
    v47 = 1;
  }
  result = sub_1003A020(v3, *(_BYTE *)(a1 + 10));
  v30 = (_BYTE)result == 0;
  v6 = *(_BYTE *)(v3 + 10) - 1;
  v38 = v6;
  if ( (v6 & 0x8000u) == 0 )
  {
    v7 = (signed __int16)v6 << 6;
    v8 = (float *)(v7 + v3 + 22384);
    v45 = (signed __int16)v6;
    v39 = (float *)(v7 + v3 + 22384);
    while ( 1 )
    {
      v46 = sub_1002A920(v3);
      v31 = 0;
      if ( LOBYTE(v34) != -1 )
      {
        v9 = sub_1002A020(*(_DWORD *)((LOBYTE(v34) << 6) + v3 + 22332));
        if ( (unsigned __int8)sub_1002A020(*((_DWORD *)v8 - 13)) != v9 )
        {
          if ( !v30 )
          {
            v10 = *(_WORD *)(v3 + 14);
            if ( v10 != -1 )
            {
              while ( 1 )
              {
                v11 = 44 * v10 + v3;
                if ( *(_BYTE *)(v11 + 324) == 100 )
                  break;
                v10 = *(_WORD *)(v11 + 332);
                if ( v10 == -1 )
                  goto LABEL_21;
              }
              *(_WORD *)(44 * v10 + v3 + 326) |= 0x4000u;
              v30 = 1;
            }
          }
LABEL_21:
          LOBYTE(v34) = -1;
          v41 = 0.0;
        }
        LOBYTE(v6) = v38;
      }
      if ( (unsigned __int8)sub_10039FA0(v3, v6) )
      {
        v33 = *v8;
        if ( *((_BYTE *)v8 - 59) & 0x40 )
        {
          v36 = 0.0;
          LOBYTE(v34) = v6;
          v35 = v33;
          v41 = 0.0;
        }
        else
        {
          if ( *(v8 - 6) >= 0.0 )
          {
            v36 = 0.0;
          }
          else
          {
            v32 = 0;
            v36 = tan(*(v8 - 6));
          }
          v42 = sub_1002A770(v6, v3);
          v35 = sub_1002A7F0(v3, v6, v40, a1);
          LOBYTE(v6) = v38;
          v41 = v36;
          LOBYTE(v34) = v38;
        }
      }
      else
      {
        if ( LOBYTE(v34) == -1 )
        {
          v13 = sub_1002A770(v6, v3);
          v42 = v13;
          if ( v13 == -1 )
            v14 = *(float *)(a1 + 20);
          else
            v14 = *(float *)(((unsigned __int8)v13 << 6) + v3 + 22384);
          v33 = v14;
          v35 = v33;
LABEL_41:
          v36 = 0.0;
          goto LABEL_42;
        }
        v12 = (LOBYTE(v34) << 6) + v3;
        if ( *(_BYTE *)(v12 + 22325) & 0x40 )
        {
          v33 = *(float *)(v12 + 22384);
          v36 = 0.0;
          v35 = v33;
          goto LABEL_42;
        }
        v42 = sub_1002A770(v6, v3);
        v35 = sub_1002A7F0(v3, LOBYTE(v34), v40, a1);
        v36 = v41;
        v33 = sub_1002A450(v3, v38, LOBYTE(v34)) * -v41 + *(float *)(v12 + 22384);
        if ( v35 <= (double)v33 )
          v33 = v35;
        LOBYTE(v6) = v38;
        if ( v47 )
          goto LABEL_41;
      }
LABEL_42:
      v15 = sub_1002A380(v6, SLOBYTE(v34), a1, v33, a2, v3);
      v16 = v39;
      v17 = v15;
      if ( v15 )
      {
        *v39 = v33;
        *((_BYTE *)v39 - 59) = 17;
        if ( v15 == 2 || v15 == 1 )
          sub_1002AE60(v38, v3, v15, v34, v42, LOBYTE(v34) == *(_BYTE *)(a1 + 2), a2);
        if ( v17 == 3 )
          *((_BYTE *)v39 - 59) |= 0x40u;
      }
      if ( !sub_10029F50(*((_DWORD *)v39 - 13))
        && !*((_BYTE *)v39 - 59)
        && !(unsigned __int8)sub_1002A020(*((_DWORD *)v39 - 13)) )
      {
        *((_BYTE *)v39 - 59) = *(_BYTE *)(180 * *((_BYTE *)v39 - 60) + a2 + 772);
      }
      LODWORD(v18) = *((_WORD *)v39 - 24);
      v43 = v33;
      v19 = 0;
      v44 = 0.0;
      if ( 9.9999996e24 == v33 || v35 == 9.9999996e24 )
      {
        v20 = 0.0;
        v33 = 0.0;
        v35 = 0.0;
        v36 = 0.0;
      }
      else if ( v35 > (double)v33 )
      {
        v20 = 0.0;
      }
      else
      {
        v20 = 0.0;
        v35 = v33;
      }
      if ( (_BYTE)v38 == *(_BYTE *)(a1 + 5) && !v47 )
      {
        *(_WORD *)(44 * SLOWORD(v18) + v3 + 326) |= 0x4000u;
        v47 = 1;
      }
      if ( LOWORD(v18) != -1 )
      {
        while ( LOWORD(v18) != v46 && v19 < 0x1F4u && SLOWORD(v18) < 500 )
        {
          v23 = 44 * SLOWORD(v18);
          *(float *)(v23 + v3 + 340) = v43;
          v24 = v23 + v3;
          if ( v31 )
          {
            *(_WORD *)(v24 + 326) |= 0x4000u;
            v31 = 0;
          }
          if ( v36 >= v20 )
          {
            if ( v45 == LOBYTE(v34) && !v32 )
              *(_WORD *)(v24 + 326) |= 0x4000u;
          }
          else
          {
            v44 = *(float *)(v24 + 336) + v44;
            v43 = v33 - v36 * v44;
            v25 = v43;
            if ( v35 < (double)v43 )
            {
              v26 = v35 - *(float *)(v24 + 340);
              v37 = v25 - *(float *)(v24 + 340);
              v27 = v26;
              if ( v26 >= 20.0 )
              {
                if ( v37 - v27 <= 20.0 )
                {
                  v31 = 1;
                  v43 = v35;
                  v36 = 0.0;
                }
                else
                {
                  v28 = v27 * *(float *)(v24 + 336) / v37;
                  v29 = 44 * sub_10025E40(v18, v28, v3);
                  *(float *)(v29 + v3 + 340) = v35;
                  v43 = v35;
                  v36 = 0.0;
                  v24 = v29 + v3;
                  *(_WORD *)(v24 + 326) |= 0x4000u;
                }
              }
              else
              {
                *(_WORD *)(v24 + 326) |= 0x4000u;
                v43 = v35;
                v36 = 0.0;
              }
            }
          }
          if ( *(_WORD *)(v24 + 326) & 0x4000 )
          {
            v32 = 1;
            if ( (unsigned __int8)sub_1002A020(*(_DWORD *)((LOBYTE(v34) << 6) + v3 + 22332)) )
            {
              v30 = 1;
            }
            else if ( LOBYTE(v34) == v40 )
            {
              v47 = 1;
            }
          }
          LODWORD(v18) = *(_WORD *)(v24 + 334);
          v16 = v39;
          ++v19;
          if ( LOWORD(v18) == -1 )
            break;
          v20 = 0.0;
        }
      }
      --v45;
      result = v38 - 1;
      v21 = (signed __int16)(v38-- - 1) < 0;
      v39 = v16 - 16;
      if ( v21 )
        break;
      LOBYTE(v6) = v38;
      v8 = v16 - 16;
    }
  }
  if ( !v47 )
  {
    v22 = 44 * *(_WORD *)(v3 + 14);
    *(_WORD *)(v22 + v3 + 326) |= 0x4000u;
    result = v22 + v3 + 326;
  }
  if ( !v30 )
  {
    result = 44 * *(_WORD *)(v3 + 14);
    *(_WORD *)(result + v3 + 326) |= 0x4000u;
  }
  return result;
}

//----- (1002B6D0) --------------------------------------------------------
void __cdecl sub_1002B6D0(int a1, int a2, int a3, int a4)
{
  double v4; // st7@1
  double v5; // st6@1
  int v6; // ebx@1
  int v7; // esi@1
  int v8; // edi@1
  int v9; // esi@4
  int v10; // ecx@4
  int v11; // eax@7
  int v12; // ebp@7
  char v13; // al@8
  char v14; // bl@14
  double v15; // st7@18
  unsigned __int8 v16; // cl@19
  bool v17; // cf@23
  bool v18; // zf@23
  double v19; // st7@26
  double v20; // st6@26
  double v21; // st6@28
  double v22; // st7@28
  double v23; // st5@28
  double v24; // st6@38
  double v25; // st5@38
  double v26; // st5@46
  double v27; // rt1@47
  double v28; // rt2@48
  double v29; // st7@57
  double v30; // st6@57
  double v31; // ST40_8@61
  double v32; // ST38_8@61
  double v33; // st5@70
  double v34; // st6@70
  double v35; // rt2@70
  double v36; // st5@70
  double v37; // st5@75
  double v38; // rt1@75
  double v39; // st5@76
  double v40; // rtt@76
  double v41; // st5@81
  double v42; // rt1@82
  double v43; // rt2@83
  char v44; // al@86
  double v45; // rt0@95
  double v46; // st5@95
  double v47; // rt1@99
  double v48; // st6@99
  char v49; // al@100
  double v50; // rt2@104
  double v51; // st6@104
  double v52; // st6@106
  double v53; // st6@107
  double v54; // st7@112
  unsigned __int8 v55; // [sp+18h] [bp-30h]@1
  bool v56; // [sp+19h] [bp-2Fh]@4
  unsigned __int8 v57; // [sp+1Ah] [bp-2Eh]@1
  unsigned __int8 v58; // [sp+1Bh] [bp-2Dh]@1
  float v59; // [sp+1Ch] [bp-2Ch]@1
  float v60; // [sp+20h] [bp-28h]@1
  float v61; // [sp+24h] [bp-24h]@1
  float v62; // [sp+28h] [bp-20h]@1
  float v63; // [sp+2Ch] [bp-1Ch]@4
  float v64; // [sp+30h] [bp-18h]@4
  float v65; // [sp+34h] [bp-14h]@1
  float v66; // [sp+58h] [bp+10h]@120
  float v67; // [sp+58h] [bp+10h]@123
  float v68; // [sp+58h] [bp+10h]@126

  v4 = 0.0;
  v59 = 0.0;
  v5 = 9.9999996e24;
  v6 = a4;
  v62 = 9.9999996e24;
  v65 = 9.9999996e24;
  v7 = a3;
  v61 = 9.9999996e24;
  v60 = 9.9999996e24;
  v8 = a1;
  v57 = *(_BYTE *)(a2 + 244);
  v58 = -1;
  v55 = 0;
  if ( *(_BYTE *)(a3 + 10) )
  {
    while ( 1 )
    {
      v64 = v5;
      v63 = v5;
      v9 = (v55 << 6) + a3;
      v10 = *(_DWORD *)(v9 + 22332);
      v56 = 1;
      if ( v10 != 16744960 && (v10 != 16744704 || v4 != *(float *)(a1 + 7364)) )
        break;
      v49 = *(_BYTE *)(a1 + 7353) & 0x18;
      if ( v49 != 16 && v49 != 24 )
      {
        *(_BYTE *)(v9 + 22325) = 0;
LABEL_109:
        v15 = v5;
        goto LABEL_110;
      }
      *(_BYTE *)(a4 + 10) = v55;
      *(_BYTE *)(v9 + 22325) = *(_BYTE *)(a1 + 7353);
      *(float *)(v9 + 22344) = *(float *)(a1 + 7356);
      *(float *)(v9 + 22348) = v5;
      *(float *)(v9 + 22384) = *(float *)(a1 + 7356);
      if ( *(_BYTE *)(a1 + 7353) & 0x40 )
      {
        v50 = v5;
        v51 = v4;
        v15 = v50;
        *(float *)(v9 + 22360) = v51;
      }
      else
      {
        v15 = v5;
        if ( *(float *)(a1 + 7360) == 6.283185005187988 )
        {
          v53 = *(float *)(a4 + 24);
          *(_BYTE *)(v9 + 22326) = 2;
          *(float *)(v9 + 22360) = v53;
        }
        else
        {
          v52 = *(float *)(a1 + 7360);
          *(_BYTE *)(v9 + 22326) = 1;
          *(float *)(v9 + 22360) = v52;
        }
      }
LABEL_110:
      if ( ++v55 >= *(_BYTE *)(a3 + 10) )
      {
        v8 = a1;
        v6 = a4;
        v7 = a3;
        goto LABEL_112;
      }
      v5 = v15;
      v4 = 0.0;
    }
    v11 = sub_1002A190((_BYTE *)(a1 + 284), v10);
    v12 = v11;
    if ( v11 )
    {
      *(_BYTE *)(v9 + 22325) = *(_BYTE *)(v11 + 2);
      v13 = *(_BYTE *)(v11 + 2);
      *(float *)(v9 + 22344) = *(float *)(v12 + 8);
      *(float *)(v9 + 22348) = *(float *)(v12 + 12);
      v56 = (v13 & 0x40) == 64;
      switch ( *(_BYTE *)(v12 + 2) & 7 )
      {
        case 2:
          v63 = sub_100638C0(*(float *)(v12 + 8), 0.3048);
          goto LABEL_10;
        case 3:
LABEL_10:
          v64 = sub_100638C0(*(float *)(v12 + 8), 0.3048);
          break;
        case 4:
          v63 = sub_100638C0(*(float *)(v12 + 8), 0.3048);
          break;
        case 5:
          v64 = sub_100638C0(*(float *)(v12 + 8), 0.3048);
          v63 = sub_100638C0(*(float *)(v12 + 12), 0.3048);
          break;
        default:
          goto LABEL_13;
      }
    }
    else
    {
LABEL_13:
      *(_BYTE *)(v9 + 22325) = 0;
    }
    v14 = *(_BYTE *)(v9 + 22325);
    if ( !v14 )
      goto LABEL_18;
    if ( *(_WORD *)(((v55 + 349) << 6) + a3) == -1 && !(*(_BYTE *)(a1 + 3) & 8) )
    {
      *(_BYTE *)(v9 + 22325) = v14 | 0x80;
LABEL_18:
      v15 = 9.9999996e24;
      goto LABEL_110;
    }
    if ( !(unsigned __int8)sub_1002A260(*(_BYTE *)(180 * *(_BYTE *)(v9 + 22324) + a2 + 671)) )
    {
      v15 = 9.9999996e24;
      *(_BYTE *)(v9 + 22325) = v14 | 0x80;
      goto LABEL_110;
    }
    if ( v56 )
    {
      if ( v55 <= *(_BYTE *)(a4 + 8) )
      {
        v17 = v16 < v57;
        v18 = v16 == v57;
      }
      else
      {
        v17 = v16 < v57;
        v18 = v16 == v57;
        if ( v16 <= v57 )
        {
          v15 = 9.9999996e24;
          *(_BYTE *)(v9 + 22325) = v14 | 0x80;
          goto LABEL_110;
        }
      }
      v19 = v63;
      v20 = v64;
      if ( v17 || v18 )
      {
        if ( *(_BYTE *)(a4 + 6) == -1 && *(_BYTE *)(a4 + 4) == -1 )
        {
          v61 = v64;
          *(_BYTE *)(a4 + 4) = v55;
          v21 = v63;
          v22 = v64;
          v60 = v63;
          v23 = 9.9999996e24;
          goto LABEL_49;
        }
      }
      else if ( *(_BYTE *)(a4 + 6) == -1 )
      {
        v61 = v64;
        *(_BYTE *)(a4 + 6) = v55;
        v21 = v63;
        v22 = v64;
        v60 = v63;
        v23 = 9.9999996e24;
        goto LABEL_49;
      }
      if ( (v14 & 7) == 3 )
      {
        if ( v61 == 9.9999996e24 || v61 <= v20 )
        {
          v26 = v64;
          v24 = 9.9999996e24;
          v61 = v64;
          if ( v60 == 9.9999996e24 )
          {
            v60 = v64;
          }
          else if ( v60 < v26 )
          {
            v60 = v64;
          }
          goto LABEL_47;
        }
      }
      else if ( (v14 & 7) == 4 )
      {
        if ( (v60 == 9.9999996e24 || v60 <= v19) && (v61 == 9.9999996e24 || v61 <= v19) )
        {
          v60 = v63;
          v21 = v63;
          v23 = 9.9999996e24;
          v22 = v64;
          goto LABEL_49;
        }
      }
      else if ( (v61 == 9.9999996e24 || v61 <= v20) && (v60 == 9.9999996e24 || v60 <= v19) )
      {
        v24 = 9.9999996e24;
        v61 = v64;
        v25 = v63;
        v22 = v64;
        v60 = v63;
LABEL_48:
        v28 = v25;
        v23 = v24;
        v21 = v28;
LABEL_49:
        if ( !(*(_BYTE *)(v9 + 22325) & 0x80) )
        {
          if ( *(_BYTE *)(a4 + 6) == -1 )
            *(_BYTE *)(a4 + 5) = v55;
          else
            *(_BYTE *)(a4 + 7) = v55;
        }
        goto LABEL_86;
      }
      v26 = v64;
      v24 = 9.9999996e24;
      *(_BYTE *)(v9 + 22325) = v14 | 0x80;
LABEL_47:
      v27 = v26;
      v25 = v63;
      v22 = v27;
      goto LABEL_48;
    }
    v29 = v63;
    v30 = v64;
    if ( *(_BYTE *)(a4 + 8) == -1 )
    {
      v62 = v64;
      v21 = v63;
      v22 = v64;
      *(_BYTE *)(a4 + 8) = v55;
      v65 = v63;
      v23 = 9.9999996e24;
      goto LABEL_84;
    }
    if ( !*(_BYTE *)(a4 + 11) && !(*(_BYTE *)(a1 + 3) & 8) )
    {
      v31 = *(float *)(v9 + 22344);
      v32 = *(float *)((v58 << 6) + a3 + 22344);
      *(float *)&v32 = v32 - sub_1002A450(a3, v58, v55) * *(float *)(a4 + 44);
      if ( *(float *)&v32 > v31 )
      {
        v15 = 9.9999996e24;
        *(_BYTE *)(v9 + 22325) = v14 | 0x80;
        goto LABEL_110;
      }
      v29 = v63;
      v30 = v64;
    }
    if ( (v14 & 7) == 3 )
    {
      if ( (v62 == 9.9999996e24 || v62 >= v30) && (v65 == 9.9999996e24 || v65 >= v30) )
      {
        v41 = v30;
        v34 = 9.9999996e24;
        v62 = v41;
        goto LABEL_82;
      }
    }
    else if ( (v14 & 7) == 4 )
    {
      if ( v65 == 9.9999996e24 || v65 >= v29 )
      {
        v65 = v29;
        if ( v62 == 9.9999996e24 || v62 > v29 )
        {
          v62 = v29;
          v39 = v30;
          v21 = v29;
          v40 = v39;
          v23 = 9.9999996e24;
          v22 = v40;
        }
        else
        {
          v37 = v30;
          v21 = v29;
          v38 = v37;
          v23 = 9.9999996e24;
          v22 = v38;
        }
LABEL_84:
        if ( !(*(_BYTE *)(v9 + 22325) & 0x80) )
        {
          *(_BYTE *)(a4 + 9) = v55;
          v58 = v55;
        }
LABEL_86:
        v44 = *(_BYTE *)(v9 + 22325);
        if ( v44 < 0 )
        {
          v5 = v23;
        }
        else
        {
          if ( !v56 )
          {
            if ( (v44 & 7) != 2 || *(float *)(v12 + 28) == 6.283185005187988 )
            {
              *(_BYTE *)(v9 + 22326) = 2;
            }
            else
            {
              *(_BYTE *)(v9 + 22326) = 1;
              *(float *)(v9 + 22360) = *(float *)(v12 + 28);
            }
          }
          if ( v23 == v21 || v59 >= v21 )
          {
            v5 = v23;
          }
          else
          {
            v45 = v23;
            v46 = v21;
            v5 = v45;
            v59 = v46;
          }
          if ( v5 != v22 && v59 < v22 )
          {
            v47 = v5;
            v48 = v22;
            v15 = v47;
            v59 = v48;
            goto LABEL_110;
          }
        }
        goto LABEL_109;
      }
    }
    else if ( (v62 == 9.9999996e24 || v62 >= v30) && (v65 == 9.9999996e24 || v65 >= v29) )
    {
      v33 = v30;
      v34 = 9.9999996e24;
      v62 = v33;
      v35 = v33;
      v36 = v29;
      v22 = v35;
      v65 = v36;
LABEL_83:
      v43 = v36;
      v23 = v34;
      v21 = v43;
      goto LABEL_84;
    }
    v41 = v30;
    v34 = 9.9999996e24;
    *(_BYTE *)(v9 + 22325) = v14 | 0x80;
LABEL_82:
    v42 = v41;
    v36 = v29;
    v22 = v42;
    goto LABEL_83;
  }
LABEL_112:
  *(_BYTE *)(v7 + 4) = *(_BYTE *)(v6 + 4);
  *(_BYTE *)(v7 + 5) = *(_BYTE *)(v6 + 5);
  *(_BYTE *)(v7 + 6) = *(_BYTE *)(v6 + 6);
  *(_BYTE *)(v7 + 7) = *(_BYTE *)(v6 + 7);
  *(_BYTE *)(v7 + 8) = *(_BYTE *)(v6 + 8);
  *(_BYTE *)(v7 + 9) = *(_BYTE *)(v6 + 9);
  v54 = 9.9999996e24;
  if ( (unsigned __int8)sub_10039FA0(v7, *(_BYTE *)(v8 + 7327))
    && 9.9999996e24 != *(float *)(v8 + 7328)
    && 0.0 != *(float *)(v8 + 7328)
    && 9.9999996e24 != *(float *)(v8 + 7332)
    && *(_BYTE *)(v8 + 7325) == 3
    && !(*(_BYTE *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22325) & 0x40) )
  {
    *(_BYTE *)(v6 + 2) = *(_BYTE *)(v8 + 7327);
    *(_BYTE *)v6 = *(_BYTE *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22325);
    *(_BYTE *)(v6 + 1) = *(_BYTE *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22326);
    *(float *)(v6 + 12) = *(float *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22344);
    *(float *)(v6 + 16) = *(float *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22348);
    *(float *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22384) = *(float *)(v8 + 7332);
    if ( sub_1002A1E0(v7, *(_BYTE *)(v8 + 7327)) )
      *(_BYTE *)(v6 + 3) = 1;
    *(_BYTE *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22325) = 18;
    *(_BYTE *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22326) = 1;
    *(float *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22344) = *(float *)(v8 + 7332);
    v54 = 9.9999996e24;
    *(float *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22348) = 9.9999996e24;
    *(float *)((*(_BYTE *)(v8 + 7327) << 6) + v7 + 22360) = *(float *)(v8 + 7328);
    v66 = *(float *)(v8 + 7332);
    if ( v59 < (double)v66 )
      v59 = v66;
  }
  if ( v54 != *(float *)(v6 + 20) )
  {
    v67 = *(float *)(v6 + 20);
    if ( v59 < (double)v67 )
      v59 = v67;
  }
  if ( v54 == *(float *)(v6 + 32) )
    goto LABEL_128;
  v68 = *(float *)(v6 + 32);
  if ( v59 < (double)v68 )
  {
    v59 = v68;
LABEL_128:
    *(float *)(v7 + 188) = v59;
    return;
  }
  *(float *)(v7 + 188) = v59;
}

//----- (1002C010) --------------------------------------------------------
double __cdecl sub_1002C010(int a1, int a2, unsigned __int8 a3, unsigned __int8 a4)
{
  double result; // st7@2

  if ( sub_1002ABE0(a3, a2, a1, a4) )
    result = sub_1002A450(a2, a3, a4);
  else
    result = 9.9999996e24;
  return result;
}

//----- (1002C050) --------------------------------------------------------
double __usercall sub_1002C050@<st0>(unsigned __int8 a1@<bl>, int a2@<edi>, char a3, float a4)
{
  double result; // st7@1
  int v5; // esi@2
  int v6; // eax@5
  float *v7; // ebp@5
  float v8; // ST10_4@6
  int v9; // ST0C_4@6
  float v10; // ST10_4@6
  float v11; // [sp+4h] [bp-8h]@1
  float v12; // [sp+4h] [bp-8h]@5
  float v13; // [sp+8h] [bp-4h]@1

  v13 = 9.9999996e24;
  v11 = sub_1002A450(a2, a1, a3);
  result = 9.9999996e24;
  if ( 9.9999996e24 != v11 )
  {
    v5 = ((unsigned __int8)a3 << 6) + a2;
    if ( *(float *)(v5 + 22360) <= 0.0 && 9.9999996e24 != *(float *)(v5 + 22384) )
    {
      if ( (unsigned __int8)sub_10039FA0(a2, a1) )
      {
        v6 = (a1 << 6) + a2;
        v7 = (float *)(v6 + 22384);
        v12 = -a4 * v11 + *(float *)(v5 + 22384);
        *(float *)(v6 + 22384) = v12;
        *(float *)(v6 + 22360) = *(float *)(v5 + 22360);
        if ( !sub_1002ADC0(a1, (float *)(v6 + 22384), a2) )
        {
          v8 = v12 - *v7;
          v9 = LODWORD(v8) & 0x7FFFFFFF;
          v10 = cos(*(float *)(v5 + 22360));
          v13 = v10 * *(float *)&v9;
        }
        result = v13;
      }
      else
      {
        result = 9.9999996e24;
      }
    }
  }
  return result;
}

//----- (1002C160) --------------------------------------------------------
void __usercall sub_1002C160(int a1@<eax>, char a2@<cl>, int a3, unsigned __int8 a4)
{
  char v4; // bl@1
  int v5; // edi@1
  int v6; // esi@1
  unsigned __int8 v7; // bl@3
  int v8; // ecx@5
  char v9; // al@7
  __int16 v10; // bx@7
  signed int v11; // ebp@7
  int v12; // edi@7
  int v13; // ebp@11
  unsigned __int8 v14; // [sp+Eh] [bp-Eh]@7
  unsigned __int8 v15; // [sp+Fh] [bp-Dh]@7
  float v16; // [sp+10h] [bp-Ch]@11
  int v17; // [sp+14h] [bp-8h]@3
  int v18; // [sp+18h] [bp-4h]@7

  v4 = a2;
  v5 = a3;
  v6 = a1;
  if ( a2 == -1 )
    v4 = *(_BYTE *)(a3 + 8);
  v7 = v4 + 1;
  for ( LOBYTE(v17) = v7; v7 <= a4; LOBYTE(v17) = v7 )
  {
    if ( (unsigned __int8)sub_10039FA0(v6, v17) )
    {
      v8 = v6 + (v7 << 6);
      if ( *(float *)(v5 + 36) > (double)*(float *)(v8 + 22360) && !(*(_BYTE *)(v8 + 22326) & 1) )
      {
        v15 = sub_1002A5B0(v7, v5, v6, a4);
        v9 = sub_1002A770(v7, v6);
        v14 = v15;
        v10 = v15;
        v11 = (unsigned __int8)v9;
        v12 = v15;
        v18 = (unsigned __int8)v9;
        if ( v15 >= (signed int)(unsigned __int8)v9 )
        {
          do
          {
            if ( (unsigned __int8)sub_10039FA0(v6, v10) )
            {
              if ( v12 != v11 )
                *(float *)((v12 << 6) + v6 + 22360) = *(float *)(a3 + 36);
              v13 = (v14 << 6) + v6;
              v16 = sub_1002A450(v6, v10, v14) * *(float *)(a3 + 44) + *(float *)(v13 + 22384);
              if ( !sub_1002ADC0(v10, &v16, v6) )
                *(_BYTE *)(v13 + 22328) = 1;
              v11 = v18;
              *(float *)((v12 << 6) + v6 + 22384) = v16;
              v14 = v10;
            }
            v12 = --v10;
          }
          while ( v10 >= v11 );
        }
        v7 = v15;
        v5 = a3;
      }
    }
    ++v7;
  }
}

//----- (1002C2B0) --------------------------------------------------------
char __usercall sub_1002C2B0@<al>(int a1@<eax>, int a2, int a3, int a4, _WORD *a5)
{
  _WORD *v5; // ebp@1
  int v6; // edi@1
  int v7; // eax@1
  unsigned __int8 v8; // bl@1
  unsigned __int8 v9; // ST13_1@3
  float v10; // ST14_4@3
  double v11; // st7@4
  double v12; // st6@7
  int v13; // edx@9
  float *v14; // edx@9
  float *v15; // edx@12
  unsigned __int8 v16; // dl@15
  float v18; // [sp+14h] [bp-8h]@3
  float v19; // [sp+18h] [bp-4h]@4
  unsigned __int8 v20; // [sp+2Ch] [bp+10h]@3
  float v21; // [sp+2Ch] [bp+10h]@3
  float v22; // [sp+2Ch] [bp+10h]@3
  int v23; // [sp+2Ch] [bp+10h]@9

  v5 = a5;
  v6 = a1;
  LOBYTE(v7) = sub_1002A770(*(_BYTE *)(*a5 + a4), a1);
  v8 = v7;
  if ( (_BYTE)v7 == -1 || (unsigned __int8)v7 < *(_BYTE *)(a2 + 8) )
  {
    --*a5;
    return v7;
  }
  v20 = *(_BYTE *)(*a5 + a4);
  v9 = v20;
  v10 = sub_1002A450(v6, v7, v20);
  v21 = tan(*(float *)((v20 << 6) + v6 + 22360));
  v18 = -v21 * v10 + *(float *)((v9 << 6) + v6 + 22384);
  v22 = sub_1002A6B0(v9, v6);
  if ( *(_BYTE *)(*v5 + a3) == -1 )
  {
    v19 = *(float *)(v6 + 188);
    v11 = v22;
    if ( v19 > (double)v22 )
      goto LABEL_7;
    v22 = v19;
  }
  v11 = v22;
LABEL_7:
  v12 = v18;
  if ( 9.9999996e24 == v11 || v12 <= v11 )
  {
    v14 = (float *)((v8 << 6) + v6 + 22384);
    v23 = (v8 << 6) + v6;
    *v14 = v18;
  }
  else
  {
    v13 = v6 + (v8 << 6);
    v23 = v13;
    v14 = (float *)(v13 + 22384);
    *v14 = v11;
    if ( v12 - v11 > 20.0 )
    {
      *(float *)((*(_BYTE *)(*v5 + a4) << 6) + v6 + 22380) = v11;
      *(_BYTE *)((*(_BYTE *)(*v5 + a4) << 6) + v6 + 22329) = 1;
    }
  }
  if ( !sub_1002ADC0(v8, v14, v6) && *v15 - v18 > 20.0 )
    *(_BYTE *)((*(_BYTE *)(*v5 + a4) << 6) + v6 + 22328) = 1;
  v16 = *(_BYTE *)(*v5 + a3);
  if ( v8 != v16 )
  {
    if ( v16 == -1 )
      *(float *)(v23 + 22360) = *(float *)(a2 + 24);
    else
      *(float *)(v23 + 22360) = sub_1002A480(v16, v8, v6);
  }
  v7 = *v5;
  if ( v8 == *(_BYTE *)(v7 + a3) )
    --*v5;
  else
    *(_BYTE *)(v7 + a4) = v8;
  return v7;
}

//----- (1002C4B0) --------------------------------------------------------
char __usercall sub_1002C4B0@<al>(__int16 a1@<ax>, int a2@<esi>, int a3, unsigned __int8 a4)
{
  unsigned __int8 v4; // cl@1
  signed int v5; // ebp@2
  __int16 v6; // bx@3
  int v7; // edi@3
  int v8; // ebp@5
  double v9; // st7@8
  signed int v10; // ebp@13
  __int16 v11; // bx@13
  int v12; // edi@13
  float *v13; // ebp@15
  int v14; // eax@16
  double v15; // st7@17
  int v16; // edi@17
  int v17; // eax@18
  double v18; // st7@21
  int v19; // edi@24
  __int16 v20; // bx@30
  unsigned __int8 v22; // [sp+0h] [bp-10h]@1
  char v23; // [sp+1h] [bp-Fh]@3
  __int16 v24; // [sp+2h] [bp-Eh]@3
  char v25; // [sp+2h] [bp-Eh]@13
  float v26; // [sp+4h] [bp-Ch]@5
  int v27; // [sp+8h] [bp-8h]@2
  signed int v28; // [sp+Ch] [bp-4h]@3

  v4 = a1;
  v22 = a1;
  if ( (unsigned __int8)a1 <= a4 )
    return a1;
  v5 = a4;
  v27 = a4;
  do
  {
    a1 = v4 - 1;
    *(float *)&v28 = 9.9999996e24;
    v6 = v4 - 1;
    v7 = a1;
    v23 = -1;
    v24 = v4 - 1;
    if ( a1 < v5 )
      goto LABEL_30;
    while ( 1 )
    {
      if ( !(unsigned __int8)sub_10039FA0(a2, v6) )
      {
        v8 = a3;
        goto LABEL_20;
      }
      v8 = a3;
      v26 = sub_1002A450(a2, v6, v22) * *(float *)(a3 + 40) + *(float *)((v22 << 6) + a2 + 22384);
      if ( !sub_1002ADC0(v6, &v26, a2) )
        break;
LABEL_20:
      if ( v7 == v27 )
      {
        v23 = v6;
        v18 = sub_1002A450(a2, v6, v22);
        *(float *)&v28 = (*(float *)(((unsigned __int8)v6 << 6) + a2 + 22384) - *(float *)((v22 << 6) + a2 + 22384))
                       / *(float *)(v8 + 40);
        *(float *)&v28 = v18 - *(float *)&v28;
      }
      v7 = --v6;
      if ( v6 < v27 )
      {
        v8 = a3;
        goto LABEL_9;
      }
    }
    if ( sub_1002A1E0(a2, v6) && *(float *)((v6 << 6) + a2 + 22384) == v26 )
    {
      v23 = v6;
      v9 = sub_1002A450(a2, v6, v22);
      *(float *)&v28 = (*(float *)(((unsigned __int8)v6 << 6) + a2 + 22384) - *(float *)((v22 << 6) + a2 + 22384))
                     / *(float *)(a3 + 40);
      *(float *)&v28 = v9 - *(float *)&v28;
    }
LABEL_9:
    if ( *(float *)&v28 != 9.9999996e24 && *(float *)&v28 > 5556.0 )
    {
      LOBYTE(a1) = v23;
      if ( v23 != *(_BYTE *)(v8 + 2) || *(_BYTE *)(v8 + 3) )
      {
        v10 = v22;
        v11 = (unsigned __int8)v23 + 1;
        v12 = v11;
        v25 = v23;
        v28 = v22;
        if ( v11 <= (signed int)v22 )
        {
          do
          {
            if ( (unsigned __int8)sub_10039FA0(a2, v11) )
            {
              v13 = (float *)(((unsigned __int8)v23 << 6) + a2 + 22384);
              if ( *v13 == *(float *)(((unsigned __int8)v25 << 6) + a2 + 22384) )
              {
                v14 = (v12 << 6) + a2;
                *(_BYTE *)(v14 + 22329) = 1;
                *(float *)(v14 + 22380) = *v13;
              }
              v15 = sub_1002A450(a2, v11, v22);
              v16 = v12 << 6;
              v26 = v15 * *(float *)(a3 + 40) + *(float *)((v28 << 6) + a2 + 22384);
              if ( *v13 >= (double)v26 )
              {
                v19 = a2 + v16;
                *(float *)(v19 + 22384) = v26;
                *(float *)(v19 + 22360) = *(float *)(a3 + 24);
              }
              else
              {
                v17 = v16 + a2;
                *(float *)(v17 + 22384) = *v13;
                *(float *)(v17 + 22360) = 0.0;
              }
              v10 = v28;
              v25 = v11;
            }
            v12 = ++v11;
          }
          while ( v11 <= v10 );
          LOBYTE(a1) = v23;
        }
        v5 = v27;
        v22 = a1;
        goto LABEL_36;
      }
    }
    a1 = v24;
    v5 = v27;
LABEL_30:
    v20 = a1;
    if ( a1 >= v5 )
    {
      while ( 1 )
      {
        LOBYTE(a1) = sub_10039FA0(a2, v20);
        if ( (_BYTE)a1 )
        {
          LOBYTE(a1) = sub_1002A1E0(a2, v20);
          if ( (_BYTE)a1 )
            break;
        }
        if ( --v20 < v5 )
          goto LABEL_36;
      }
      v22 = v20;
    }
LABEL_36:
    v4 = v22;
  }
  while ( v22 > a4 );
  return a1;
}

//----- (1002C7B0) --------------------------------------------------------
void __usercall sub_1002C7B0(char a1@<dl>, char a2@<cl>, int a3, int a4, int a5)
{
  int v5; // eax@1
  char v6; // bl@4
  int v7; // ecx@4
  bool v8; // zf@4
  int v9; // ebp@4
  unsigned __int8 v10; // bl@13
  _BYTE *v11; // edx@25
  int v12; // eax@25
  int v13; // edi@25
  unsigned __int8 v14; // [sp+22h] [bp-132h]@10
  unsigned __int8 v15; // [sp+23h] [bp-131h]@13
  int v16; // [sp+24h] [bp-130h]@1
  int v17; // [sp+28h] [bp-12Ch]@1
  unsigned __int8 v18; // [sp+2Fh] [bp-125h]@9
  int v19; // [sp+30h] [bp-124h]@13
  float v20; // [sp+34h] [bp-120h]@11
  char v21[4]; // [sp+38h] [bp-11Ch]@4
  int *v22; // [sp+3Ch] [bp-118h]@4
  float v23; // [sp+40h] [bp-114h]@13
  float v24; // [sp+44h] [bp-110h]@16
  _BYTE v25[132]; // [sp+48h] [bp-10Ch]@1
  _BYTE v26[132]; // [sp+CCh] [bp-88h]@1

  LOWORD(v5) = 0;
  v17 = 0;
  v16 = 0;
  v25[0] = a2;
  v26[0] = a1;
  while ( (unsigned __int16)v5 <= 0x83u )
  {
    v5 = (signed __int16)v5;
    v6 = v26[(signed __int16)v5];
    v22 = (int *)&v26[(signed __int16)v5];
    v7 = (unsigned __int8)v6 << 6;
    v8 = *(_BYTE *)(v7 + a5 + 22326) == 1;
    v9 = v7 + a5;
    v21[0] = v6;
    if ( v8 )
    {
      sub_1002C2B0(a5, a3, (int)v25, (int)v26, &v16);
    }
    else if ( *(_BYTE *)(v9 + 22324) == *(_BYTE *)(a4 + 241) && *(_BYTE *)(a4 + 237) )
    {
      sub_1002A960(a5, a3, *(float *)(a4 + 284), (int)v25, (int)v26, (int)&v16);
    }
    else
    {
      v18 = v25[v5];
      if ( v18 == -1 )
      {
        v14 = *(_BYTE *)(a3 + 8);
      }
      else
      {
        v14 = v18 + 1;
        v20 = *(float *)((v18 << 6) + a5 + 22384) - *(float *)(v9 + 22384);
        if ( v20 < 20.0 )
          *(float *)(v9 + 22360) = 0.0;
      }
      v20 = 0.0;
      v15 = -1;
      v23 = tan(*(float *)(v9 + 22360));
      v10 = v6 - 1;
      LOBYTE(v19) = v10;
      if ( v10 == -1 )
        goto LABEL_30;
      do
      {
        if ( v10 < v14 )
          break;
        if ( (unsigned __int8)sub_10039FA0(a5, v19) )
        {
          v24 = sub_1002C050(v10, a5, v21[0], v23);
          if ( v24 != 9.9999996e24 && v20 < (double)v24 )
          {
            v20 = v24;
            v15 = v19;
          }
          v10 = v19;
        }
        LOBYTE(v19) = --v10;
      }
      while ( v10 != -1 );
      if ( v15 == -1 )
      {
LABEL_30:
        --v16;
      }
      else
      {
        *(float *)((v15 << 6) + a5 + 22360) = v18 == -1 ? *(float *)(a3 + 24) : (float)sub_1002A480(v18, v15, a5);
        *(float *)(v9 + 22360) = sub_1002A480(v15, v21[0], a5);
        v11 = v22;
        v12 = (signed __int16)v16;
        v13 = v16 + 1;
        v26[v12 + 1] = v21[0];
        v25[v12 + 1] = v15;
        *v11 = v15;
        v16 = v13;
      }
    }
    if ( (unsigned __int16)++v17 >= 0x108u )
      break;
    LOWORD(v5) = v16;
  }
}

//----- (1002CA40) --------------------------------------------------------
void __usercall sub_1002CA40(int a1@<eax>, char a2@<cl>, int a3, unsigned __int8 a4)
{
  char v4; // bl@1
  int v5; // esi@1
  unsigned __int8 v6; // bl@3
  int v7; // ecx@5
  double v8; // st7@7
  char v9; // al@9
  __int16 v10; // ax@9
  unsigned __int8 v11; // ST04_1@9
  char v12; // [sp+Fh] [bp-9h]@8
  unsigned __int8 i; // [sp+10h] [bp-8h]@3
  char v14; // [sp+15h] [bp-3h]@0

  v4 = a2;
  v5 = a1;
  if ( a2 == -1 )
    v4 = *(_BYTE *)(a3 + 8);
  v6 = v4 + 1;
  for ( i = v6; v6 <= a4; i = v6 )
  {
    if ( (unsigned __int8)sub_10039FA0(v5, i) )
    {
      v7 = v5 + (v6 << 6);
      if ( *(float *)(a3 + 28) < (double)*(float *)(v7 + 22360) )
      {
        if ( 0.0 == *(float *)(v7 + 22360) )
        {
          v8 = *(float *)(v7 + 22384);
          *(_BYTE *)(v7 + 22329) = 1;
          *(float *)(v7 + 22380) = v8;
        }
        else
        {
          v12 = sub_1002A520(v6, v5, a3, a4);
          if ( v12 != -1 )
          {
            v9 = sub_1002A770(v6, v5);
            v6 = v12;
            HIBYTE(v10) = v14;
            v11 = v9;
            LOBYTE(v10) = v12;
            sub_1002C4B0(v10, v5, a3, v11);
          }
        }
      }
    }
    ++v6;
  }
}

//----- (1002CB10) --------------------------------------------------------
void __usercall sub_1002CB10(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  int v4; // edi@1
  unsigned __int8 v5; // al@1
  unsigned __int8 v6; // al@4
  char v7; // bl@4
  int v8; // edx@7
  signed int v9; // eax@9
  char v10; // [sp+10h] [bp+4h]@1

  v3 = a2;
  v4 = a1;
  v10 = *(_BYTE *)(a2 + 9);
  v5 = v10;
  if ( v10 != -1 )
  {
    *(float *)(v4 + ((unsigned __int8)v10 << 6) + 22384) = *(float *)(v4 + ((unsigned __int8)v10 << 6) + 22344);
    while ( 1 )
    {
      v6 = sub_1002A620(v5, v4);
      v7 = v6;
      if ( v6 == -1 )
      {
        v8 = (unsigned __int8)v10 << 6;
        if ( *(_BYTE *)(v8 + v4 + 22326) != 1 )
          *(float *)(v8 + v4 + 22360) = *(float *)(v3 + 24);
      }
      else
      {
        *(float *)((v6 << 6) + v4 + 22384) = *(float *)((v6 << 6) + v4 + 22344);
        if ( *(_BYTE *)(v4 + ((unsigned __int8)v10 << 6) + 22326) != 1 )
          *(float *)(v4 + ((unsigned __int8)v10 << 6) + 22360) = sub_1002A480(v6, v10, v4);
      }
      sub_1002C7B0(v10, v7, v3, a3, v4);
      sub_1002C160(v4, v7, v3, v10);
      if ( *(_BYTE *)(v3 + 11) == 1 && v7 == -1 )
      {
        LOBYTE(v9) = v10;
        sub_1002ACE0(v9, v4, v3);
      }
      sub_1002CA40(v4, v7, v3, v10);
      v10 = v7;
      if ( v7 == -1 )
        break;
      v5 = v7;
    }
  }
}

//----- (1002CC10) --------------------------------------------------------
void __cdecl sub_1002CC10(int a1, int a2, int a3)
{
  int v3; // edi@1
  int v4; // eax@3
  int v5; // eax@3
  unsigned __int16 v6; // ax@4
  int v7; // ebx@4
  int *v8; // edi@5
  double v9; // st7@13
  char v10; // [sp+4h] [bp-30h]@2
  char v11; // [sp+5h] [bp-2Fh]@13
  char v12; // [sp+6h] [bp-2Eh]@12
  char v13[6]; // [sp+8h] [bp-2Ch]@3
  float v14; // [sp+10h] [bp-24h]@13
  float v15; // [sp+14h] [bp-20h]@13

  v3 = a1;
  if ( a1 )
  {
    sub_1002AB40((int)&v10);
    sub_1002B6D0(a1, a2, a3, (int)&v10);
    if ( *(_BYTE *)(a1 + 3) & 8 )
    {
      v6 = *(_BYTE *)(a3 + 10) - 1;
      v7 = v6;
      if ( (v6 & 0x8000u) == 0 )
      {
        v8 = (int *)(((signed __int16)v6 << 6) + a3 + 22332);
        do
        {
          if ( !sub_10029F50(*v8) && !*((_BYTE *)v8 - 7) && !(unsigned __int8)sub_1002A020(*v8) )
            *((_BYTE *)v8 - 7) = *(_BYTE *)(180 * *((_BYTE *)v8 - 8) + a2 + 772);
          --v7;
          v8 -= 16;
        }
        while ( (signed __int16)v7 >= 0 );
        v3 = a1;
      }
    }
    else
    {
      v4 = *(_DWORD *)&v13[2];
      LOBYTE(v4) = v13[3];
      sub_1002A2B0(v4, a3, v13[2]);
      v5 = *(_DWORD *)v13;
      LOBYTE(v5) = v13[1];
      sub_1002A2B0(v5, a3, v13[0]);
      sub_1002CB10(a3, (int)&v10, a2);
      sub_1002B040((int)&v10, a2, a3);
    }
    if ( v12 != -1 )
    {
      v9 = v14;
      *(_BYTE *)((*(_BYTE *)(v3 + 7327) << 6) + a3 + 22325) = v10;
      *(_BYTE *)((*(_BYTE *)(v3 + 7327) << 6) + a3 + 22326) = v11;
      *(float *)((*(_BYTE *)(v3 + 7327) << 6) + a3 + 22344) = v9;
      *(float *)((*(_BYTE *)(v3 + 7327) << 6) + a3 + 22348) = v15;
    }
  }
}

//----- (1002CD50) --------------------------------------------------------
float *__cdecl sub_1002CD50(float a1, int a2, int a3, float a4, int a5, int a6)
{
  double v6; // st5@1
  float v7; // ST0C_4@1
  double v8; // st7@1
  float *result; // eax@1
  double v10; // st5@1
  double v11; // st4@1

  v6 = a4;
  a4 = (*(float *)&a2 - a4) * 0.5;
  v7 = (*(float *)&a3 - v6 * *(float *)&a2 / *(float *)&a3) * 0.5;
  sub_10063950(a1, (int)&a3, (int)&a2);
  v8 = *(float *)&a2;
  result = (float *)a6;
  v10 = a4;
  v11 = *(float *)&a3;
  *(float *)a5 = *(float *)&a2 * a4 - *(float *)&a3 * v7;
  *result = v11 * v10 + v7 * v8;
  return result;
}

//----- (1002CDD0) --------------------------------------------------------
void __cdecl sub_1002CDD0(int a1)
{
  bool v1; // zf@1
  int v2; // ebp@1
  signed int v3; // edi@2
  float *v4; // esi@2
  signed int v5; // ebx@2
  int v6; // ecx@4
  int v7; // edx@4
  float v8; // ST34_4@6
  float v9; // ST28_4@10
  float v10; // ST2C_4@10
  float v11; // [sp+28h] [bp-18h]@1
  float v12; // [sp+2Ch] [bp-14h]@1
  signed int v13; // [sp+30h] [bp-10h]@1
  signed int v14; // [sp+34h] [bp-Ch]@2
  int v15; // [sp+38h] [bp-8h]@6
  int v16; // [sp+3Ch] [bp-4h]@6
  float v17; // [sp+44h] [bp+4h]@10
  float v18; // [sp+44h] [bp+4h]@10

  v1 = byte_10120268 == 0;
  v2 = a1;
  *(float *)(a1 + 8) = 0.0;
  *(_BYTE *)a1 = 0;
  *(float *)(a1 + 4) = 0.0;
  v13 = 0;
  v11 = 0.0;
  v12 = 0.0;
  if ( v1 )
  {
    v3 = -18;
    v14 = -18;
    v4 = flt_10120270;
    v5 = 36;
    do
    {
      if ( *((_DWORD *)v4 + 1) )
      {
        v6 = (v3 + 27) % 36;
        v7 = (v6 + 9) % 36;
        if ( dword_10120274[2 * v6] && dword_10120274[2 * v7] )
        {
          v8 = (double)v14 * 0.1745329201221466;
          sub_1002CD50(
            v8,
            COERCE_INT(*v4),
            COERCE_INT(flt_10120270[2 * v6]),
            flt_10120270[2 * v7],
            (int)&v15,
            (int)&v16);
          ++v13;
          v11 = *(float *)&v15 + v11;
          v12 = *(float *)&v16 + v12;
        }
        v2 = a1;
      }
      ++v3;
      v4 += 2;
      --v5;
      v14 = v3;
    }
    while ( v5 );
    if ( v13 > 0 )
    {
      *(_BYTE *)v2 = 1;
      v17 = (double)v13;
      v9 = v11 / v17;
      v10 = v12 / v17;
      *(float *)(v2 + 8) = sqrt(v10 * v10 + v9 * v9);
      v18 = sub_10063AA0(v10, v9) + 3.141592741012573;
      *(float *)(v2 + 4) = sub_100637E0(v18);
    }
  }
}
// 10120268: using guessed type char byte_10120268;
// 10120270: using guessed type float flt_10120270[];
// 10120274: using guessed type int dword_10120274[];

//----- (1002CF50) --------------------------------------------------------
int __cdecl sub_1002CF50(int a1)
{
  char v1; // al@1
  float v2; // edx@1
  float v3; // ecx@1
  float v4; // ST04_4@4
  int result; // eax@4
  int v6; // [sp+10h] [bp-14h]@4
  int v7; // [sp+14h] [bp-10h]@4
  int v8; // [sp+18h] [bp-Ch]@1
  float v9; // [sp+1Ch] [bp-8h]@1
  float v10; // [sp+20h] [bp-4h]@1

  v2 = *(float *)(dword_10504EDC + 1508);
  v3 = *(float *)(dword_10504EDC + 1512);
  v8 = *(_DWORD *)(dword_10504EDC + 1504);
  v1 = v8;
  v9 = v2;
  v10 = v3;
  if ( !(_BYTE)v8 )
  {
    sub_1002CDD0((int)&v8);
    v1 = v8;
  }
  *(_BYTE *)a1 = v1;
  if ( v1 )
  {
    sub_10063950(v9, (int)&v6, (int)&v7);
    v4 = -v10;
    sub_100299A0((int)&v6, v4, a1 + 4);
    result = a1;
  }
  else
  {
    result = a1;
    *(float *)(a1 + 4) = 0.0;
    *(float *)(a1 + 8) = 0.0;
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1002CFF0) --------------------------------------------------------
int __cdecl sub_1002CFF0(int a1)
{
  int v1; // eax@3
  int v2; // ecx@3
  int v3; // edx@3
  int result; // eax@3
  char v5; // [sp+8h] [bp-Ch]@3

  if ( sub_1004F050() && sub_1004F2D0() )
  {
    v1 = sub_1002CF50((int)&v5);
    v2 = *(_DWORD *)(v1 + 4);
    *(_DWORD *)a1 = *(_DWORD *)v1;
    v3 = *(_DWORD *)(v1 + 8);
    *(_DWORD *)(a1 + 4) = v2;
    *(_DWORD *)(a1 + 8) = v3;
    sub_1004F2C0();
    result = a1;
  }
  else
  {
    result = a1;
    *(float *)(a1 + 4) = 0.0;
    *(_BYTE *)a1 = 0;
    *(float *)(a1 + 8) = 0.0;
  }
  return result;
}

//----- (1002D060) --------------------------------------------------------
signed __int16 __usercall sub_1002D060@<ax>(__int16 a1@<ax>, int a2@<ebx>, _WORD *a3, int a4)
{
  int v4; // eax@1
  int v5; // ebp@1
  int v6; // edx@2
  int v7; // eax@2
  __int16 v8; // cx@2
  int v9; // esi@6
  double v10; // st7@7
  float v11; // ST24_4@7
  float v12; // ST24_4@7
  float v13; // ST24_4@9
  double v14; // st7@15
  __int16 v16; // [sp+18h] [bp-58h]@6
  int v17; // [sp+1Ch] [bp-54h]@7
  float v18; // [sp+20h] [bp-50h]@6
  int v19; // [sp+24h] [bp-4Ch]@6
  char v20; // [sp+28h] [bp-48h]@6
  char v21; // [sp+2Ch] [bp-44h]@6
  char v22; // [sp+30h] [bp-40h]@11
  float v23; // [sp+34h] [bp-3Ch]@13
  int v24; // [sp+38h] [bp-38h]@14
  int v25; // [sp+3Ch] [bp-34h]@14
  _WORD v26[6]; // [sp+44h] [bp-2Ch]@7
  float v27; // [sp+50h] [bp-20h]@9
  int v28; // [sp+68h] [bp-8h]@9
  int v29; // [sp+6Ch] [bp-4h]@14

  v4 = 44 * a1;
  v5 = v4 + a4 + 324;
  if ( *(_BYTE *)(a2 + 8) == 5 )
  {
    v6 = 44 * *(_WORD *)(v4 + a4 + 334);
    v7 = v6 + a4 + 324;
    v8 = *(_WORD *)(v6 + a4 + 334);
  }
  else
  {
    v7 = 44 * *a3 + a4 + 324;
    if ( *(_BYTE *)(a2 + 1) )
      v7 = 44 * *(_WORD *)(44 * *a3 + a4 + 334) + a4 + 324;
    v8 = *(_WORD *)(v5 + 10);
  }
  v9 = v7 + 36;
  v16 = v8;
  v19 = v5 + 36;
  sub_10022FC0(v7 + 36, v5 + 36, (float *)&v21, (float *)&v20, &v18);
  if ( *(_BYTE *)(a2 + 2) )
  {
    if ( *(_BYTE *)(a2 + 1) )
      sub_10023960(v9, v5 + 36, a2 + 68, (int)&v22);
    else
      sub_10023960(v9, v5 + 36, a2 + 76, (int)&v22);
    if ( COERCE_FLOAT(LODWORD(v23) & 0x7FFFFFFF) > 25.0 )
    {
      qmemcpy(v26, (const void *)v5, 0x2Cu);
      v27 = 0.0;
      v28 = v24;
      v29 = v25;
      v26[1] = v26[1] & 0xC038 | 0x30;
      v16 = sub_10025DE0(v16, v26, a4);
    }
    v14 = *(float *)(a2 + 40) * 2.5;
    qmemcpy(v26, (const void *)v5, 0x2Cu);
    v27 = v14 + COERCE_FLOAT(LODWORD(v23) & 0x7FFFFFFF);
    v26[1] = v26[1] & 0xC03C | 0x34;
    sub_100236E0((int)&v24, v27, v18, (int)&v28);
  }
  else
  {
    v10 = *(float *)(a2 + 20) - v18;
    qmemcpy(v26, (const void *)v5, 0x2Cu);
    v11 = v10;
    v26[1] = v26[1] & 0xC03C | 0x34;
    v12 = sub_100637E0(v11);
    v17 = LODWORD(v12) & 0x7FFFFFFF;
    if ( *(float *)&v17 >= 3.0543263 )
      *(float *)&v17 = 3.0543263;
    v13 = tan(*(float *)&v17 * 0.5);
    v27 = v13 * *(float *)(a2 + 40);
    sub_100236E0(v19, v27, v18, (int)&v28);
  }
  return sub_10025DE0(v16, v26, a4);
}

//----- (1002D2B0) --------------------------------------------------------
void __usercall sub_1002D2B0(int a1@<ecx>, int a2@<esi>)
{
  __int16 v2; // ax@1
  int v3; // ecx@4
  double v4; // st7@4
  char v5; // [sp+10h] [bp-10h]@2
  char v6; // [sp+14h] [bp-Ch]@2
  float v7; // [sp+18h] [bp-8h]@4
  float v8; // [sp+1Ch] [bp-4h]@4

  v2 = (*(_BYTE *)(a2 + 2) >> 1) & 3;
  if ( v2 == 2 )
  {
    sub_10022FC0(44 * *(_WORD *)(a2 + 10) + a1 + 360, a2 + 36, (float *)(a2 + 12), (float *)&v6, (float *)&v5);
  }
  else if ( v2 == 1 )
  {
    sub_10022FC0(a2 + 24, 44 * *(_WORD *)(a2 + 10) + a1 + 360, (float *)&v6, &v8, (float *)&v5);
    sub_10022FC0(a2 + 24, a2 + 36, (float *)&v6, &v7, (float *)&v5);
    LOBYTE(v3) = (*(_WORD *)(a2 + 2) & 0xC00) == 2048;
    v8 = sub_10063550(v8, v7, v3);
    v4 = *(float *)(a2 + 32);
    LODWORD(v8) &= 0x7FFFFFFFu;
    *(float *)(a2 + 12) = v4 * v8;
  }
}

//----- (1002D390) --------------------------------------------------------
void __cdecl sub_1002D390(char a1, int a2, __int16 *a3, int a4, int a5)
{
  int v5; // esi@1
  int v6; // edx@1
  int v7; // ebp@1
  double v8; // st7@1
  int v9; // edx@1
  char v10; // cl@1
  int v11; // ecx@1
  __int16 v12; // ax@1
  int v13; // edx@1
  int v14; // ecx@1
  float v15; // ST3C_4@1
  float v16; // ST3C_4@1
  char v17; // al@1
  __int16 v18; // cx@1
  int v19; // eax@1
  __int16 v20; // dx@1
  int v21; // ecx@1
  int v22; // edx@1
  int v23; // edx@1
  float v24; // ST3C_4@1
  double v25; // st7@1
  int v26; // ebx@1
  float v27; // ST3C_4@1
  int v28; // edi@1
  __int16 v29; // ax@1
  __int16 v30; // dx@2
  __int16 v31; // cx@2
  unsigned int v32; // eax@12
  __int16 v33; // dx@16
  __int16 v34; // ax@26
  int v35; // ecx@26
  int v36; // edx@28
  int v37; // esi@33
  int v38; // eax@33
  int v39; // esi@33
  int v40; // esi@34
  char v41; // cl@39
  double v42; // st7@42
  double v43; // st7@45
  float v44; // edi@46
  __int16 v45; // ST24_2@46
  __int16 v46; // ax@46
  float v47; // ST24_4@48
  float v48; // [sp+20h] [bp-DCh]@1
  int v49; // [sp+24h] [bp-D8h]@1
  float v50; // [sp+28h] [bp-D4h]@43
  int v51; // [sp+2Ch] [bp-D0h]@1
  char v52; // [sp+30h] [bp-CCh]@1
  float v53; // [sp+34h] [bp-C8h]@33
  float v54; // [sp+38h] [bp-C4h]@1
  int v55; // [sp+3Ch] [bp-C0h]@1
  float v56; // [sp+40h] [bp-BCh]@1
  int v57; // [sp+44h] [bp-B8h]@1
  int v58; // [sp+48h] [bp-B4h]@1
  float v59; // [sp+54h] [bp-A8h]@1
  int v60; // [sp+60h] [bp-9Ch]@1
  int v61; // [sp+64h] [bp-98h]@1
  float v62; // [sp+68h] [bp-94h]@1
  int v63; // [sp+6Ch] [bp-90h]@1
  int v64; // [sp+70h] [bp-8Ch]@1
  int v65; // [sp+74h] [bp-88h]@1
  int v66; // [sp+78h] [bp-84h]@1
  float v67; // [sp+84h] [bp-78h]@1
  int v68; // [sp+90h] [bp-6Ch]@1
  int v69; // [sp+94h] [bp-68h]@1
  float v70; // [sp+98h] [bp-64h]@1
  int v71; // [sp+9Ch] [bp-60h]@1
  int v72; // [sp+A0h] [bp-5Ch]@1
  char v73; // [sp+A4h] [bp-58h]@48
  int v74; // [sp+A6h] [bp-56h]@48
  float v75; // [sp+B0h] [bp-4Ch]@48
  float v76; // [sp+C4h] [bp-38h]@48
  int v77; // [sp+C8h] [bp-34h]@48
  _WORD v78[6]; // [sp+D0h] [bp-2Ch]@1
  float v79; // [sp+DCh] [bp-20h]@1

  v5 = 44 * *a3 + a4 + 324;
  v6 = 44 * *(_WORD *)(44 * *a3 + a4 + 332);
  v7 = a2;
  v55 = *(_WORD *)(44 * *a3 + a4 + 332);
  v51 = v6 + a4 + 324;
  v8 = *(float *)(a2 + 40);
  v9 = 44 * *(_WORD *)(v5 + 10) + a4 + 324;
  v49 = v5;
  qmemcpy(&v66, (const void *)v5, 0x2Cu);
  v70 = v8;
  v10 = *(_BYTE *)a2;
  v57 = v9;
  LOWORD(v9) = v10 & 3;
  v11 = *(_DWORD *)(a2 + 64);
  v12 = ((_WORD)v9 << 10) | HIWORD(v66) & 0xC05B;
  v13 = *(_DWORD *)(a2 + 52);
  HIWORD(v66) = v12 | 0x52;
  v68 = *(_DWORD *)(a2 + 60);
  v69 = v11;
  v14 = *(_DWORD *)(a2 + 56);
  v71 = v13;
  v72 = v14;
  sub_10022FC0(v7 + 60, v7 + 52, (float *)&v52, &v56, &v48);
  sub_10022FC0(v7 + 60, v7 + 84, (float *)&v52, &v54, &v48);
  v15 = v56 - v54;
  v16 = sub_100637E0(v15);
  v67 = *(float *)(a2 + 40) * COERCE_FLOAT(LODWORD(v16) & 0x7FFFFFFF);
  qmemcpy(&v58, (const void *)v51, 0x2Cu);
  v17 = *(_BYTE *)a2;
  v62 = *(float *)(a2 + 40);
  v18 = v17 & 3;
  v19 = *(_DWORD *)(a2 + 64);
  v20 = (v18 << 10) | HIWORD(v58) & 0xC06B;
  v21 = *(_DWORD *)(a2 + 76);
  HIWORD(v58) = v20 | 0x62;
  v22 = *(_DWORD *)(a2 + 60);
  v61 = v19;
  v60 = v22;
  v23 = *(_DWORD *)(a2 + 80);
  v63 = v21;
  v64 = v23;
  v65 = a2 + 76;
  sub_10022FC0(v7 + 60, v7 + 76, (float *)&v52, &v56, &v48);
  sub_10022FC0(v7 + 60, v7 + 52, (float *)&v52, &v54, &v48);
  v24 = v56 - v54;
  v25 = sub_100637E0(v24);
  v26 = v51;
  v27 = v25;
  v59 = *(float *)(a2 + 40) * COERCE_FLOAT(LODWORD(v27) & 0x7FFFFFFF);
  qmemcpy(v78, (const void *)v51, 0x2Cu);
  v79 = 0.0;
  v28 = v49;
  v78[1] = v78[1] & 0xF099 | 0x3090;
  v29 = (*(_WORD *)(v49 + 2) >> 4) & 0x3F;
  if ( v29 == 32 || (v30 = *(_WORD *)(v51 + 2) >> 4, v31 = v30 & 0x3F, v31 == 32) )
  {
    HIWORD(v66) = HIWORD(v66) & 0xFE0F | 0x200;
    HIWORD(v58) = HIWORD(v58) & 0xFE0F | 0x200;
  }
  else
  {
    if ( v29 == 29 || v29 == 8 || v29 == 4 || v29 == 31 || v29 == 7 )
    {
      HIWORD(v66) ^= (HIWORD(v66) ^ *(_WORD *)(v49 + 2)) & 0x3F0;
      v33 = *(_WORD *)(v49 + 2);
    }
    else
    {
      if ( v31 != 31 && v31 != 30 && v31 != 3 )
      {
        if ( !(unsigned __int8)sub_10029810(v30 & 0x3F) )
          goto LABEL_20;
        v32 = ((unsigned int)*(_WORD *)(v26 + 2) >> 4) & 0x3F;
        if ( ((_WORD)v32 == 22 || (_WORD)v32 == 18) && (_WORD)v32 != ((*(_WORD *)(v28 + 2) >> 4) & 0x3F) )
        {
          HIWORD(v58) ^= (HIWORD(v58) ^ *(_WORD *)(v26 + 2)) & 0x3F0;
          goto LABEL_20;
        }
      }
      HIWORD(v66) ^= (HIWORD(v66) ^ *(_WORD *)(v26 + 2)) & 0x3F0;
      v33 = *(_WORD *)(v26 + 2);
    }
    HIWORD(v58) ^= (HIWORD(v58) ^ v33) & 0x3F0;
  }
LABEL_20:
  if ( (_BYTE)v66 == (_BYTE)v58 )
  {
    v59 = v59 + v59;
    if ( (HIWORD(v58) & 0x3F0) == 96 )
      HIWORD(v58) = HIWORD(v58) & 0xFC5F | 0x50;
    sub_10025DE0(*a3, &v58, a4);
  }
  else
  {
    if ( a1 )
    {
      if ( *(_BYTE *)(v26 + 2) & 6 )
      {
        sub_10025DE0(*a3, v78, a4);
        v34 = *(_WORD *)(v28 + 8);
        v35 = 44 * *(_WORD *)(v28 + 8);
        v28 = v35 + a4 + 324;
        v26 = v35 + a4 + 324;
      }
      else
      {
        v34 = v55;
        v28 = v26;
      }
      HIWORD(v58) = HIWORD(v58) & 0xFC0F | 16 * (*(_BYTE *)(a2 + 7) & 0x3F);
      *a3 = v34;
      v36 = 44 * *(_WORD *)(v26 + 8);
      v55 = *(_WORD *)(v26 + 8);
      v49 = v28;
      v51 = v36 + a4 + 324;
      v26 = v36 + a4 + 324;
    }
    sub_10025DE0(*a3, &v58, a4);
    if ( !a1 )
      sub_10025DE0(*a3, &v66, a4);
  }
  *(_BYTE *)(a2 + 7) = (*(unsigned int *)((char *)&v58 + 2) >> 4) & 0x3F;
  v49 = *(_WORD *)(v26 + 10);
  if ( a1 )
  {
    *(_DWORD *)(v28 + 36) = *(_DWORD *)(a2 + 52);
    *(_DWORD *)(v28 + 40) = *(_DWORD *)(a2 + 56);
    goto LABEL_39;
  }
  v37 = v57;
  v38 = v28 + 36;
  *(_DWORD *)v38 = *(_DWORD *)(a2 + 84);
  *(_DWORD *)(v38 + 4) = *(_DWORD *)(a2 + 88);
  v39 = v37 + 36;
  sub_10022FC0(v39, v28 + 36, &v53, (float *)&v52, &v48);
  if ( v53 >= 25.0 )
  {
    if ( (*(_BYTE *)(v28 + 2) & 6) == 4 )
    {
      *(float *)(v28 + 12) = v53;
      goto LABEL_39;
    }
    v40 = v28;
  }
  else
  {
    sub_10024DA0(*a3, a4);
    *(_DWORD *)v39 = *(_DWORD *)(a2 + 84);
    *(_DWORD *)(v39 + 4) = *(_DWORD *)(a2 + 88);
    v40 = v57;
  }
  sub_1002D2B0(a4, v40);
LABEL_39:
  v41 = *(_BYTE *)(180 * *(_BYTE *)v26 + a5 + 671);
  if ( (!v41 || v41 == 16) && *(_BYTE *)v28 != *(_BYTE *)v26 )
  {
    sub_10022FC0(v26 + 24, a2 + 52, &v53, (float *)&v52, &v48);
    v42 = v48;
    if ( (*(_WORD *)(v26 + 2) & 0xC00) == 2048 )
    {
      v50 = v42 + 1.570796370506287;
      *(float *)(180 * *(_BYTE *)v26 + a5 + 700) = sub_100637E0(v50);
    }
    else
    {
      v50 = v42 - 1.570796370506287;
      *(float *)(180 * *(_BYTE *)v26 + a5 + 700) = sub_100637E0(v50);
    }
  }
  sub_10022FC0((int)&v63, v26 + 36, &v53, (float *)&v52, &v48);
  v43 = v53;
  if ( v53 >= 25.0 )
  {
    *a3 = v49;
    if ( (*(_BYTE *)(v26 + 2) & 6) == 4 )
      *(float *)(v26 + 12) = v43;
    else
      sub_1002D2B0(a4, v26);
  }
  else
  {
    LODWORD(v44) = 44 * (signed __int16)v49 + a4;
    *(_WORD *)(LODWORD(v44) + 328) = *(_WORD *)(v26 + 4);
    *(_WORD *)(LODWORD(v44) + 330) = *(_WORD *)(v26 + 6);
    v50 = v44;
    *(float *)(LODWORD(v44) + 340) = *(float *)(v26 + 16);
    *(_WORD *)(LODWORD(v44) + 326) ^= (*(_BYTE *)(LODWORD(v44) + 326) ^ *(_BYTE *)(v26 + 2)) & 1;
    v45 = v55;
    *(_WORD *)(LODWORD(v44) + 326) ^= ((unsigned __int8)*(_WORD *)(LODWORD(v44) + 326) ^ *(_BYTE *)(v26 + 2)) & 8;
    sub_10024DA0(v45, a4);
    v46 = *(_WORD *)(LODWORD(v44) + 332);
    if ( v46 == -1 )
    {
      v47 = *(float *)(a2 + 20);
      qmemcpy(&v73, (const void *)(LODWORD(v44) + 324), 0x2Cu);
      sub_100236E0(v65, 926.0, v47, (int)&v77);
      v75 = 926.0;
      v76 = 9.9999996e24;
      LOWORD(v74) = v74 & 0xC03C | 0x34;
      sub_10025DE0(v49, &v73, a4);
      *a3 = *(_WORD *)(LODWORD(v50) + 334);
    }
    else
    {
      sub_1002D2B0(a4, 44 * v46 + a4 + 324);
      *a3 = *(_WORD *)(LODWORD(v44) + 334);
    }
  }
}

//----- (1002DB70) --------------------------------------------------------
void __usercall sub_1002DB70(int a1@<eax>, __int16 a2, int a3, int a4, _WORD *a5)
{
  int v5; // ebx@1
  int v6; // ecx@1
  int v7; // ebp@1
  __int16 v8; // dx@1
  int v9; // esi@1
  char v10; // cl@5
  int v11; // edx@5
  int v12; // eax@5
  char v13; // cl@5
  int v14; // eax@5
  __int16 v15; // ax@8
  int v16; // edx@20
  __int16 v17; // cx@22
  int v18; // [sp+10h] [bp-48h]@2
  __int16 v19; // [sp+14h] [bp-44h]@1
  float v20; // [sp+18h] [bp-40h]@1
  int v21; // [sp+1Ch] [bp-3Ch]@1
  int v22; // [sp+20h] [bp-38h]@1
  char v23; // [sp+24h] [bp-34h]@5
  char v24; // [sp+28h] [bp-30h]@5
  int v25; // [sp+2Ch] [bp-2Ch]@1
  float v26; // [sp+38h] [bp-20h]@5
  float v27; // [sp+44h] [bp-14h]@5
  float v28; // [sp+48h] [bp-10h]@5
  float v29; // [sp+4Ch] [bp-Ch]@5
  int v30; // [sp+50h] [bp-8h]@5
  int v31; // [sp+54h] [bp-4h]@5
  int v32; // [sp+60h] [bp+8h]@21
  signed int v33; // [sp+64h] [bp+Ch]@2

  v5 = a1;
  v6 = 44 * *a5;
  v7 = a4;
  v8 = *(_WORD *)(v6 + a4 + 334);
  v22 = v6 + a4 + 324;
  v9 = 44 * a2 + a4 + 324;
  v19 = v8;
  v21 = 44 * (signed __int16)a3 + a4;
  LODWORD(v20) = v21 + 324;
  memset(&v25, 0, 0x2Cu);
  if ( *(_BYTE *)(v5 + 8) == 5 )
  {
    v33 = *(_WORD *)(44 * a2 + a4 + 334);
    v18 = 44 * (signed __int16)v33 + v7 + 324;
  }
  else
  {
    v33 = -1;
    v18 = 0;
  }
  if ( *(_BYTE *)(v5 + 1) )
  {
    *a5 = a3;
    sub_10022FC0(v5 + 76, v5 + 68, &v20, (float *)&v24, (float *)&v23);
    v10 = *(_BYTE *)v9;
    v27 = 6.283185;
    v11 = *(_DWORD *)(v5 + 68);
    v28 = 6.283185;
    v12 = *(_DWORD *)(v5 + 72);
    LOBYTE(v25) = v10;
    v29 = 9.9999996e24;
    v13 = *(_BYTE *)(v5 + 7);
    v26 = v20;
    v30 = v11;
    v31 = v12;
    HIWORD(v25) = 16 * (v13 & 0x3F) | 0xC;
    sub_10025DE0(a3, &v25, v7);
    a3 = *(_WORD *)(v21 + 332);
    v14 = 44 * (signed __int16)a3 + v7 + 324;
  }
  else
  {
    v14 = LODWORD(v20);
  }
  if ( *(_BYTE *)(v5 + 2) )
  {
    v15 = *(_WORD *)(v9 + 8);
    if ( v15 == -1 )
    {
      sub_1002D060(a2, v5, a5, v7);
      sub_10024DA0(a2, v7);
    }
    else if ( *(_BYTE *)(44 * v15 + v7 + 326) & 6 )
    {
      *(_WORD *)(v9 + 2) &= 0xFFF9u;
      *(float *)(v9 + 12) = 0.0;
    }
    else
    {
      sub_10024DA0(a2, v7);
    }
    if ( *(_BYTE *)(v5 + 8) == 5 )
    {
      sub_10024DA0(v33, v7);
      if ( 0.0 == *(float *)(v5 + 32) && !*(_BYTE *)(v5 + 1) )
        *a5 = v19;
    }
  }
  else if ( *(_BYTE *)(v5 + 3) )
  {
    if ( *(_BYTE *)(v5 + 8) == 5 )
    {
      *(_WORD *)(v18 + 2) &= 0xC3FEu;
    }
    else
    {
      qmemcpy(&v25, (const void *)v9, 0x2Cu);
      v30 = *(_DWORD *)(v22 + 36);
      v16 = *(_DWORD *)(v22 + 40);
      v26 = 0.0;
      v31 = v16;
      HIWORD(v25) &= 0xC3F8u;
      sub_10025DE0(a3, &v25, v7);
    }
  }
  else
  {
    v32 = v14 + 36;
    sub_10022FC0(v14 + 36, v9 + 36, (float *)(v9 + 12), (float *)&v24, (float *)&v23);
    if ( *(float *)(v9 + 12) < 25.0 )
    {
      v17 = *(_WORD *)(v9 + 8);
      if ( v17 == -1 )
      {
        sub_1002D060(a2, v5, a5, v7);
      }
      else
      {
        *(_DWORD *)(v9 + 36) = *(_DWORD *)v32;
        *(_DWORD *)(v9 + 40) = *(_DWORD *)(v32 + 4);
        sub_1002D2B0(v7, 44 * v17 + v7 + 324);
      }
      sub_10024DA0(a2, v7);
    }
    if ( 0.0 == *(float *)(v5 + 32) && !*(_BYTE *)(v5 + 1) )
      *a5 = v19;
    if ( *(_BYTE *)(v5 + 8) == 5 )
      sub_10024DA0(v33, v7);
  }
}

//----- (1002DE90) --------------------------------------------------------
void __cdecl sub_1002DE90(char a1, int a2, __int16 *a3, int a4)
{
  int v4; // ebx@1
  int v5; // edx@1
  int v6; // ecx@1
  double v7; // st7@1
  int v8; // eax@1
  int v9; // ecx@1
  __int16 v10; // ax@2
  int v11; // eax@9
  __int16 v12; // [sp+Ch] [bp-30h]@1
  _WORD v13[6]; // [sp+10h] [bp-2Ch]@1
  float v14; // [sp+1Ch] [bp-20h]@1
  int v15; // [sp+28h] [bp-14h]@1
  int v16; // [sp+2Ch] [bp-10h]@1
  float v17; // [sp+30h] [bp-Ch]@1
  int v18; // [sp+34h] [bp-8h]@1
  int v19; // [sp+38h] [bp-4h]@1
  int v20; // [sp+4Ch] [bp+10h]@1

  v4 = a4;
  v20 = 44 * *a3 + a4 + 324;
  v12 = *(_WORD *)(v20 + 8);
  qmemcpy(v13, (const void *)(44 * v12 + v4 + 324), 0x2Cu);
  v5 = *(_DWORD *)(a2 + 64);
  v6 = *(_DWORD *)(a2 + 60);
  v17 = *(float *)(a2 + 40);
  v7 = *(float *)(a2 + 32) * v17;
  v13[1] = v13[1] & 0xCFFB | 2;
  v8 = *(_DWORD *)(a2 + 76);
  v16 = v5;
  LOBYTE(v5) = *(_BYTE *)a2;
  v15 = v6;
  v9 = *(_DWORD *)(a2 + 80);
  v14 = v7 + v7;
  v18 = v8;
  v19 = v9;
  v13[1] = (v13[1] & 0xF3FF | ((v5 & 3) << 10)) & 0xFFFE;
  if ( a1 )
  {
    v10 = v13[1] & 0xFC0F | 16 * (*(_BYTE *)(a2 + 7) & 0x3F);
LABEL_8:
    v13[1] = v10;
    goto LABEL_9;
  }
  if ( (unsigned __int8)sub_10029810((*(_WORD *)(44 * v12 + v4 + 326) >> 4) & 0x3F) )
  {
    v10 = (v13[1] ^ *(_WORD *)(44 * v12 + v4 + 326)) & 0x3F0 ^ v13[1];
    goto LABEL_8;
  }
  if ( *(_BYTE *)(a2 + 8) != 3 )
  {
    v10 = v13[1] & 0xFC4F | 0x40;
    goto LABEL_8;
  }
  v13[1] = v13[1] & 0xFC7F | 0x70;
LABEL_9:
  sub_10025DE0(*a3, v13, v4);
  v11 = *(_WORD *)(v20 + 8);
  *(_BYTE *)(a2 + 7) = (*(_DWORD *)&v13[1] >> 4) & 0x3F;
  sub_1002DB70(a2, v12, v11, v4, a3);
}

//----- (1002E010) --------------------------------------------------------
void __cdecl sub_1002E010(char a1, int a2, __int16 *a3, int a4)
{
  int v4; // ecx@1
  int v5; // edi@1
  int v6; // ebp@1
  char *v7; // ebx@1
  __int16 v8; // cx@6
  __int16 v9; // cx@13
  bool v10; // c3@13
  int v11; // ecx@14
  __int16 v12; // ax@17
  _WORD *v13; // eax@19
  char v14; // al@20
  int v15; // edx@20
  double v16; // st7@20
  int v17; // eax@20
  int v18; // ecx@20
  char v19; // [sp+10h] [bp-2Ch]@1
  unsigned int v20; // [sp+12h] [bp-2Ah]@6
  float v21; // [sp+1Ch] [bp-20h]@20
  int v22; // [sp+28h] [bp-14h]@20
  int v23; // [sp+2Ch] [bp-10h]@20
  float v24; // [sp+30h] [bp-Ch]@20
  int v25; // [sp+34h] [bp-8h]@20
  int v26; // [sp+38h] [bp-4h]@20
  int v27; // [sp+4Ch] [bp+10h]@1

  v4 = 44 * *a3;
  v5 = a4;
  v6 = v4 + a4 + 324;
  v27 = *(_WORD *)(44 * *(_WORD *)(v4 + a4 + 332) + a4 + 332);
  v7 = (char *)(44 * (signed __int16)v27 + v5 + 324);
  memset(&v19, 0, 0x2Cu);
  if ( (*v7 == *(_BYTE *)(a2 + 100) || *(_BYTE *)(a2 + 6) == 15) && *(_BYTE *)(a2 + 2) )
  {
    *(_BYTE *)(a2 + 8) = -1;
    return;
  }
  if ( a1 )
  {
    v8 = v20 & 0xFC0F | 16 * (*(_BYTE *)(a2 + 7) & 0x3F);
LABEL_12:
    LOWORD(v20) = v8;
    goto LABEL_13;
  }
  if ( (*(_WORD *)(v6 + 2) & 0x3F0) == 464 )
  {
    v8 = v20 & 0xFDDF | 0x1D0;
    goto LABEL_12;
  }
  if ( (*(_WORD *)(44 * (signed __int16)v27 + v5 + 326) & 0x3F0) != 48 )
  {
    v8 = v20 & 0xFC8F | 0x80;
    goto LABEL_12;
  }
  LOWORD(v20) = v20 & 0xFC3F | 0x30;
LABEL_13:
  v9 = v20;
  v10 = 0.0 == *(float *)(a2 + 32);
  *(_BYTE *)(a2 + 7) = (v20 >> 4) & 0x3F;
  if ( v10 )
  {
    v11 = (unsigned __int16)*a3;
    if ( *(_BYTE *)(a2 + 2) )
    {
      if ( !*(_BYTE *)(a2 + 1) )
      {
        if ( *(_WORD *)(44 * (signed __int16)v27 + v5 + 326) & 0xC00 )
        {
          v12 = *(_WORD *)(44 * (signed __int16)v27 + v5 + 332);
          if ( v12 != -1 && (*(_BYTE *)(44 * v12 + v5 + 326) & 6) == 4 )
          {
            v13 = (_WORD *)(44 * *(_WORD *)(44 * (signed __int16)v27 + v5 + 332) + v5 + 326);
            *v13 ^= (*(_WORD *)(44 * (signed __int16)v27 + v5 + 326) ^ *v13) & 0xC00;
          }
        }
      }
    }
  }
  else
  {
    v14 = *v7;
    v15 = *(_DWORD *)(a2 + 64);
    v24 = *(float *)(a2 + 40);
    v16 = v24 * *(float *)(a2 + 32);
    v19 = v14;
    v17 = *(_DWORD *)(a2 + 76);
    LOWORD(v20) = v9 & 0xCFFB | 2;
    v18 = *(_DWORD *)(a2 + 60);
    v23 = v15;
    LOBYTE(v15) = *(_BYTE *)a2;
    v21 = v16 + v16;
    v25 = v17;
    v22 = v18;
    v26 = *(_DWORD *)(a2 + 80);
    LOWORD(v20) = (v20 & 0xF3FF | ((v15 & 3) << 10)) & 0xFFFE | 8;
    sub_10025DE0(*a3, &v19, v5);
    v11 = *(_WORD *)(v6 + 8);
  }
  sub_1002DB70(a2, v27, v11, v5, a3);
}

//----- (1002E230) --------------------------------------------------------
int __cdecl sub_1002E230(float a1, float a2)
{
  float *v2; // ecx@0
  double v3; // st7@1
  double v4; // st7@3
  bool v5; // c0@3
  bool v6; // c3@3
  int result; // eax@4

  v3 = a1;
  if ( (COERCE_UNSIGNED_INT(*v2) & 0x7F800000) != 2139095040
    && *v2 <= v3
    && (v4 = *v2, v5 = a2 < v4, v6 = a2 == v4, v3 = a2, v5 || v6) )
  {
    result = 1;
  }
  else
  {
    *v2 = v3;
    result = 0;
  }
  return result;
}

//----- (1002E280) --------------------------------------------------------
double __cdecl sub_1002E280(int a1, float a2, float a3, float a4, char a5)
{
  int v5; // esi@1
  double result; // st7@5
  float v7; // ST0C_4@12
  int v8; // eax@12
  float v9; // ST08_4@12
  int v10; // [sp+14h] [bp-14h]@14
  float v11; // [sp+18h] [bp-10h]@2
  float v12; // [sp+1Ch] [bp-Ch]@14
  double v13; // [sp+20h] [bp-8h]@14

  v5 = a1;
  if ( *(_BYTE *)a1 )
    v11 = sqrt(sub_10019AC0(a1 + 4, a1 + 4));
  else
    v11 = 0.0;
  if ( a2 == 9.9999996e24 )
  {
    a2 = 123.46667;
    return (float)123.46667;
  }
  if ( !*(_BYTE *)a1 )
    goto LABEL_19;
  if ( a3 < -3.141592741012573 || a3 > 3.141592741012573 )
    return a2;
  if ( a4 >= -3.141592741012573 && a4 <= 3.141592741012573 && v11 < (double)a2 )
  {
    v7 = sub_10063AA0(*(float *)(a1 + 4), *(float *)(a1 + 8));
    LOBYTE(v8) = a5 == 2;
    v9 = sub_10063550(a3, a4, v8);
    if ( sub_10063660(a3, v9, v7) )
    {
      a2 = v11 + a2;
      result = a2;
    }
    else
    {
      sub_10063950(a3, (int)&v10, (int)&a1);
      v11 = *(float *)(v5 + 8) * *(float *)&v10 - *(float *)(v5 + 4) * *(float *)&a1;
      v13 = a2 * a2;
      a2 = sqrt(v13 - v11 * v11);
      v12 = a2 + *(float *)(v5 + 8) * *(float *)&a1 + *(float *)(v5 + 4) * *(float *)&v10;
      sub_10063950(a4, (int)&v10, (int)&a1);
      v11 = *(float *)(v5 + 8) * *(float *)&v10 - *(float *)(v5 + 4) * *(float *)&a1;
      a2 = sqrt(v13 - v11 * v11);
      a2 = a2 + *(float *)(v5 + 8) * *(float *)&a1 + *(float *)(v5 + 4) * *(float *)&v10;
      a2 = sub_100384C0(v12, a2);
      result = a2;
    }
  }
  else
  {
LABEL_19:
    result = a2;
  }
  return result;
}

//----- (1002E4B0) --------------------------------------------------------
void __usercall sub_1002E4B0(int a1@<eax>, int a2, float a3, float a4)
{
  float v4; // ebp@1
  int v5; // esi@1
  int v6; // ebx@1
  float v7; // edi@2
  char v8; // cl@4
  double v9; // st7@5
  double v10; // st7@8
  double v11; // st7@9
  float v12; // ST10_4@11
  double v13; // st7@11
  char v14; // cl@11
  double v15; // st7@14
  double v16; // st7@15
  int v17; // ecx@18
  float v18; // edx@18
  double v19; // st7@20
  double v20; // st7@28
  float v21; // ST0C_4@30
  float v22; // [sp+0h] [bp-58h]@11
  float v23; // [sp+1Ch] [bp-3Ch]@2
  float v24; // [sp+20h] [bp-38h]@5
  long double v25; // [sp+24h] [bp-34h]@5
  float v26; // [sp+2Ch] [bp-2Ch]@2
  char v27; // [sp+30h] [bp-28h]@19
  int v28; // [sp+34h] [bp-24h]@12
  int v29; // [sp+3Ch] [bp-1Ch]@12
  char v30; // [sp+44h] [bp-14h]@17
  float v31; // [sp+48h] [bp-10h]@17
  int v32; // [sp+4Ch] [bp-Ch]@18
  int v33; // [sp+50h] [bp-8h]@18

  v4 = a3;
  v5 = a1;
  v6 = LODWORD(a3) + 36;
  if ( (*(_BYTE *)(LODWORD(a3) + 2) & 6) == 2 )
  {
    v7 = a3;
    sub_10022FC0(LODWORD(a3) + 36, LODWORD(a4) + 36, &v26, &a3, &v23);
  }
  else
  {
    v7 = a4;
    sub_10022FC0(a2 + 36, LODWORD(a3) + 36, &v26, &a3, &v23);
  }
  v8 = *(_BYTE *)v5;
  if ( *(_BYTE *)v5 == ((*(_WORD *)(LODWORD(v7) + 2) >> 10) & 3) )
  {
    *(float *)&v25 = *(float *)(v5 + 40);
    v24 = *(float *)(LODWORD(v7) + 32);
    v9 = *(float *)&v25;
    if ( v24 <= (double)*(float *)&v25 )
      v9 = v24;
    *(float *)&v25 = v9;
    *(float *)(v5 + 40) = *(float *)&v25;
  }
  v10 = a3;
  if ( v8 == 2 )
  {
    *(float *)&v25 = v10 + 1.570796370506287;
    v24 = sub_100637E0(*(float *)&v25);
    *(float *)&v25 = v23 + 1.570796370506287;
    v11 = *(float *)&v25;
  }
  else
  {
    *(float *)&v25 = v10 - 1.570796370506287;
    v24 = sub_100637E0(*(float *)&v25);
    *(float *)&v25 = v23 - 1.570796370506287;
    v11 = *(float *)&v25;
  }
  v12 = v11;
  v13 = sub_100637E0(v12);
  v14 = *(_BYTE *)(LODWORD(v4) + 2);
  *(float *)&v25 = v13;
  v22 = *(float *)(v5 + 40);
  if ( (v14 & 6) == 4 )
  {
    sub_100236E0(a2 + 36, v22, v24, (int)&v29);
    sub_100236E0(v6, *(float *)(v5 + 40), *(float *)&v25, (int)&v28);
  }
  else
  {
    sub_100236E0(v6, v22, v24, (int)&v29);
    sub_100236E0(LODWORD(a4) + 36, *(float *)(v5 + 40), *(float *)&v25, (int)&v28);
  }
  v15 = *(float *)(LODWORD(v7) + 32);
  if ( *(_BYTE *)v5 == ((*(_WORD *)(LODWORD(v7) + 2) >> 10) & 3) )
    v16 = v15 - *(float *)(v5 + 40);
  else
    v16 = v15 + *(float *)(v5 + 40);
  v24 = v16;
  sub_10023960((int)&v29, (int)&v28, LODWORD(v7) + 24, (int)&v30);
  LODWORD(v25) = LODWORD(v31) & 0x7FFFFFFF;
  if ( v24 < (double)COERCE_FLOAT(LODWORD(v31) & 0x7FFFFFFF) )
  {
    *(float *)&v25 = v31;
    v17 = v33;
    LODWORD(v18) = LODWORD(v31) & 0x7FFFFFFF;
    *(_DWORD *)(v5 + 60) = v32;
    *(_DWORD *)(v5 + 64) = v17;
    v24 = v18;
  }
  sub_10022FC0((int)&v32, (int)&v28, &v26, &a3, (float *)&v27);
  if ( v26 > 25.0 )
  {
    if ( v30 != 2 )
      goto LABEL_24;
    *(float *)&v25 = a3 + 3.141592741012573;
    v19 = sub_100637E0(*(float *)&v25);
  }
  else
  {
    v19 = v23;
  }
  a3 = v19;
LABEL_24:
  if ( ((*(_WORD *)(LODWORD(a4) + 2) & 6) != 2 || *(_BYTE *)v5 == (((unsigned int)*(_WORD *)(LODWORD(a4) + 2) >> 10) & 3))
    && ((*(_WORD *)(LODWORD(v4) + 2) & 6) != 2 || *(_BYTE *)v5 != (((unsigned int)*(_WORD *)(LODWORD(v4) + 2) >> 10) & 3)) )
  {
    v20 = a3;
  }
  else
  {
    a4 = a3 + 3.141592741012573;
    v20 = sub_100637E0(a4);
  }
  a4 = v20;
  v21 = a4;
  v25 = cos(v24 / 6378137.0);
  a4 = acos(v25 / cos(v31 / 6378137.0)) * 6378137.0;
  sub_100236E0((int)&v32, a4, v21, v5 + 60);
}

//----- (1002E7D0) --------------------------------------------------------
double __usercall sub_1002E7D0@<st0>(int a1@<eax>, __int16 a2@<cx>, int a3)
{
  int v3; // ecx@1
  int v4; // esi@1
  int v5; // ecx@1
  int v6; // ebx@1
  char v7; // al@1
  double v8; // st7@2
  int v9; // edi@2
  int v10; // eax@4
  double v11; // st7@4
  char v12; // cl@4
  double v13; // st7@4
  int v14; // edi@6
  int *v15; // eax@8
  double v16; // st7@12
  double v17; // st7@13
  float v18; // ST20_4@15
  float v19; // esi@18
  int v20; // ebx@19
  double v21; // st7@21
  double v22; // st6@21
  double v23; // st6@22
  double v24; // st7@24
  double v25; // st6@24
  double v27; // st7@27
  long double v28; // st7@30
  int v29; // [sp-4h] [bp-A0h]@2
  float *v30; // [sp+0h] [bp-9Ch]@2
  float *v31; // [sp+4h] [bp-98h]@2
  float *v32; // [sp+8h] [bp-94h]@2
  char *v33; // [sp+8h] [bp-94h]@6
  float v34; // [sp+1Ch] [bp-80h]@2
  float v35; // [sp+20h] [bp-7Ch]@1
  int v36; // [sp+24h] [bp-78h]@2
  float v37; // [sp+28h] [bp-74h]@4
  long double v38; // [sp+2Ch] [bp-70h]@1
  float v39; // [sp+38h] [bp-64h]@2
  double v40; // [sp+3Ch] [bp-60h]@4
  long double v41; // [sp+44h] [bp-58h]@4
  long double v42; // [sp+4Ch] [bp-50h]@2
  float v43; // [sp+54h] [bp-48h]@2
  float v44; // [sp+58h] [bp-44h]@4
  int v45; // [sp+5Ch] [bp-40h]@15
  char v46; // [sp+64h] [bp-38h]@18
  char v47; // [sp+6Ch] [bp-30h]@18
  char v48; // [sp+74h] [bp-28h]@18
  float v49; // [sp+78h] [bp-24h]@21
  char v50; // [sp+7Ch] [bp-20h]@18
  char v51; // [sp+88h] [bp-14h]@6
  float v52; // [sp+8Ch] [bp-10h]@10

  v3 = 44 * a2;
  v35 = 9.9999996e24;
  v4 = v3 + a1 + 324;
  v5 = 44 * *(_WORD *)(v3 + a1 + 334) + a1 + 324;
  v6 = 44 * *(_WORD *)(v4 + 8) + a1 + 324;
  v7 = *(_BYTE *)(v4 + 2) & 6;
  LODWORD(v38) = v5;
  if ( v7 == 2 )
  {
    *(float *)&v42 = *(float *)(v6 + 12);
    v8 = *(float *)(a3 + 20);
    v32 = &v39;
    v31 = &v43;
    v30 = &v34;
    v36 = v4;
    v9 = v4 + 24;
    v29 = v5 + 36;
  }
  else
  {
    *(float *)&v42 = *(float *)(v4 + 12);
    v8 = *(float *)(a3 + 16);
    v32 = &v39;
    v31 = &v43;
    v30 = &v34;
    v36 = v6;
    v9 = v6 + 24;
    v29 = v4 + 36;
  }
  *(float *)&v40 = v8;
  sub_10022FC0(v9, v29, v30, v31, v32);
  sub_10022FC0(v9, v36 + 36, &v34, &v44, &v39);
  LOBYTE(v10) = (*(_WORD *)(v36 + 2) & 0xC00) == 2048;
  *(float *)&v41 = sub_10063550(v43, v44, v10);
  v11 = *(float *)(a3 + 32) + *(float *)(a3 + 32);
  LODWORD(v41) &= 0x7FFFFFFFu;
  v12 = *(_BYTE *)a3;
  v37 = v11;
  v13 = v37;
  if ( v12 != ((*(_WORD *)(v36 + 2) >> 10) & 3) )
  {
    v27 = v13 - *(float *)&v41;
    if ( v27 <= 0.08726646259971667 )
      *(float *)&v41 = 0.08726646;
    else
      *(float *)&v41 = v27;
    v34 = 1.570796370506287 - *(float *)&v41;
    v41 = sin(v34);
    v38 = cos(v37);
    v28 = v41;
    *(float *)&v41 = v41 - v38;
    v39 = *(float *)&v41 * *(float *)(v36 + 32);
    *(float *)&v41 = v28;
    *(float *)&v41 = v39 / (1.0 - *(float *)&v41);
    *(float *)&v41 = *(float *)&v41 * *(float *)(a3 + 44);
    if ( *(float *)&v41 < 9.9999996e24 )
      v35 = *(float *)&v41;
    v40 = *(float *)&v42;
    *(float *)&v41 = sin(v37);
    v34 = *(float *)&v42 * 2.0 * *(float *)(v36 + 32) * *(float *)&v41 + v40 * v40;
    *(float *)&v42 = v38;
    v44 = v34 / (2.0 * *(float *)(v36 + 32) * (1.0 - *(float *)&v42));
    *(float *)&v42 = v44 * *(float *)(a3 + 44);
    v24 = *(float *)&v42;
    v25 = v35;
    if ( v35 > (double)*(float *)&v42 )
      return (float)v24;
    return v25;
  }
  *(float *)&v41 = v13 + *(float *)&v41;
  if ( *(float *)&v41 < 3.0543263 )
  {
    v14 = v4 + 36;
    v33 = &v51;
    if ( (*(_BYTE *)(v4 + 2) & 6) == 2 )
    {
      sub_10023960(v4 + 36, v6 + 36, LODWORD(v38) + 36, (int)&v51);
      goto LABEL_10;
    }
    v15 = (int *)(v6 + 36);
    goto LABEL_9;
  }
  *(float *)&v41 = 3.0543263;
  v16 = *(float *)&v40;
  if ( v12 == 2 )
  {
    *(float *)&v42 = v16 + 1.483529806137085;
    v17 = *(float *)&v42;
  }
  else
  {
    *(float *)&v42 = v16 - 1.483529806137085;
    v17 = *(float *)&v42;
  }
  v18 = v17;
  v34 = sub_100637E0(v18);
  sub_100236E0(v9, *(float *)(v36 + 32), v34, (int)&v45);
  v14 = v4 + 36;
  v15 = &v45;
  v33 = &v51;
  if ( (*(_BYTE *)(v4 + 2) & 6) != 2 )
  {
LABEL_9:
    sub_10023960(LODWORD(v38) + 36, v14, (int)v15, (int)v33);
    goto LABEL_10;
  }
  sub_10023960(v4 + 36, v6 + 36, (int)&v45, (int)&v51);
LABEL_10:
  v40 = COERCE_FLOAT(LODWORD(v52) & 0x7FFFFFFF);
  *(float *)&v42 = cos(*(float *)&v41);
  *(float *)&v42 = v40 / (1.0 - *(float *)&v42);
  *(float *)&v41 = *(float *)&v42 * *(float *)(a3 + 44);
  if ( *(float *)&v41 < 9.9999996e24 )
    v35 = *(float *)&v41;
  if ( (*(_BYTE *)(v4 + 2) & 6) == 4 )
  {
    LODWORD(v19) = LODWORD(v38) + 36;
    sub_10023960(v14, LODWORD(v38) + 36, v6 + 24, (int)&v48);
    sub_100191D0((int)&v50, v19, &v34, (int)&v47, (float *)&v46);
  }
  else
  {
    v20 = v6 + 36;
    sub_10023960(v14, v20, v4 + 24, (int)&v48);
    sub_100191D0((int)&v50, *(float *)&v20, &v34, (int)&v47, (float *)&v46);
  }
  if ( v48 != 2 )
    return v35;
  v42 = cos(*(float *)(v36 + 32) / 6378137.0);
  *(float *)&v42 = acos(v42 / cos(v34 / 6378137.0)) * 12756274.0;
  v21 = *(float *)&v42;
  LODWORD(v41) = LODWORD(v49) & 0x7FFFFFFF;
  v22 = 0.5 * *(float *)&v42;
  if ( v37 <= 1.5707963267949 )
    v23 = v22 - *(float *)&v41;
  else
    v23 = v22 + *(float *)&v41;
  *(float *)&v42 = v23;
  v34 = *(float *)&v42 * v21 - *(float *)&v42 * *(float *)&v42;
  v44 = v34 / (*(float *)&v42 * 2.0 + *(float *)(v36 + 32) * 2.0 - v21);
  *(float *)&v42 = v44 * *(float *)(a3 + 44);
  v24 = *(float *)&v42;
  v25 = v35;
  if ( v35 > (double)*(float *)&v42 )
    return (float)v24;
  return v25;
}

//----- (1002ECD0) --------------------------------------------------------
double __cdecl sub_1002ECD0(char *a1)
{
  int v1; // ecx@0
  float v2; // ST08_4@3
  double result; // st7@3
  unsigned __int8 v4; // dl@5
  unsigned __int8 v5; // al@5
  float v6; // ST08_4@9
  bool v7; // zf@10
  float v8; // ST08_4@17
  unsigned __int8 v9; // dl@18
  float v10; // ST08_4@24
  float v11; // ST08_4@27

  if ( *(_BYTE *)(v1 + 4) )
  {
    if ( *(float *)(v1 + 32) >= 0.2103121727705002 )
    {
      result = (float)37040.0;
    }
    else
    {
      v2 = *(float *)(v1 + 44) * 173532.40625;
      result = v2;
    }
    return result;
  }
  v4 = *(_BYTE *)(v1 + 103);
  v5 = *a1;
  if ( (unsigned __int8)*a1 == v4 + 1 && v5 < *(_BYTE *)(v1 + 100) )
  {
    if ( *(float *)(v1 + 32) > 0.4014257192611694 )
    {
      v6 = *(float *)(v1 + 44) * 6315.31982421875;
      result = v6;
    }
    else
    {
      result = (float)2685.3999;
    }
    return result;
  }
  v7 = v5 == v4;
  if ( v5 > v4 )
  {
    if ( v5 <= *(_BYTE *)(v1 + 105) )
    {
LABEL_15:
      if ( *(float *)(v1 + 32) > 0.4014257192611694 )
      {
        v8 = *(float *)(v1 + 44) * 4407.759765625;
        result = v8;
      }
      else
      {
        result = (float)1852.0;
      }
      return result;
    }
    v7 = v5 == v4;
  }
  if ( v7 && v4 == *(_BYTE *)(v1 + 100) )
    goto LABEL_15;
  v9 = *(_BYTE *)(v1 + 104);
  if ( v5 < v9 && v9 != -1 || v5 > *(_BYTE *)(v1 + 105) || v5 > *(_BYTE *)(v1 + 101) )
  {
    if ( *(float *)(v1 + 32) > 0.4014257192611694 )
    {
      v11 = *(float *)(v1 + 44) * 7741.35986328125;
      result = v11;
    }
    else
    {
      result = (float)3296.5601;
    }
  }
  else if ( *(float *)(v1 + 32) > 0.4014257192611694 )
  {
    v10 = *(float *)(v1 + 44) * 15908.6796875;
    result = v10;
  }
  else
  {
    result = (float)6759.7998;
  }
  return result;
}

//----- (1002EE10) --------------------------------------------------------
double __usercall sub_1002EE10@<st0>(char *a1@<eax>, int a2@<ecx>)
{
  unsigned __int8 v2; // al@1
  unsigned __int8 v3; // dl@1
  unsigned __int8 v4; // dl@3
  unsigned __int8 v5; // dl@5
  double v6; // st6@8
  float v7; // ST00_4@8
  float v8; // ST00_4@8
  double result; // st7@8
  float v10; // ST00_4@8
  float v11; // ST00_4@9
  float v12; // ST00_4@9
  float v13; // ST00_4@9
  float v14; // [sp+0h] [bp-4h]@1

  v2 = *a1;
  v3 = *(_BYTE *)(a2 + 102);
  v14 = 120.0;
  if ( v2 >= v3 && v3 != -1
    || (v4 = *(_BYTE *)(a2 + 101), v2 >= v4) && v4 != -1
    || (v5 = *(_BYTE *)(a2 + 104), v2 <= v5) && v5 != -1 )
  {
    v14 = 60.0;
  }
  v6 = v14;
  v7 = *(float *)(a2 + 48) * v14;
  v8 = v7 / *(float *)(a2 + 44);
  result = v6;
  v10 = *(float *)(a2 + 48) * *(float *)(a2 + 48) / v8;
  if ( *(float *)(a2 + 36) < (double)v10 )
  {
    v11 = *(float *)(a2 + 48) * *(float *)(a2 + 48) / *(float *)(a2 + 36);
    v12 = v11 * *(float *)(a2 + 44);
    v13 = v12 / *(float *)(a2 + 48);
    result = v13;
  }
  return result;
}

//----- (1002EEB0) --------------------------------------------------------
void __usercall sub_1002EEB0(int a1@<eax>)
{
  float v1; // ST14_4@1

  v1 = acos(cos(*(float *)(a1 + 24) / 6378137.0) * cos(*(float *)(a1 + 40) / 6378137.0)) * 6378137.0;
  sub_100236E0(a1 + 92, v1, *(float *)(a1 + 28), a1 + 60);
}

//----- (1002EF10) --------------------------------------------------------
void __usercall sub_1002EF10(__int16 a1@<ax>, int a2@<ecx>, int a3@<esi>, float a4)
{
  int v4; // eax@1
  char v5; // bl@1
  int v6; // edi@1
  __int16 v7; // ax@1
  int v8; // ecx@3
  double v9; // st7@4
  bool v10; // c0@4
  bool v11; // c3@4
  double v12; // st7@4
  double v13; // st7@5
  float v14; // ST0C_4@7
  float v15; // ST0C_4@7
  int v16; // edi@8
  long double v17; // st7@9
  double v18; // st7@10
  float v19; // ST14_4@12
  float v20; // ST24_4@12
  float v21; // ST24_4@12
  int v22; // ecx@14
  int v23; // edx@14
  int v24; // eax@14
  int *v25; // [sp+8h] [bp-38h]@5
  float v26; // [sp+18h] [bp-28h]@10
  float v27; // [sp+1Ch] [bp-24h]@9
  int v28; // [sp+20h] [bp-20h]@4
  float v29; // [sp+24h] [bp-1Ch]@8
  float v30; // [sp+28h] [bp-18h]@8
  float v31; // [sp+2Ch] [bp-14h]@5
  float v32; // [sp+30h] [bp-10h]@4
  char v33; // [sp+34h] [bp-Ch]@4
  int v34; // [sp+38h] [bp-8h]@3
  int v35; // [sp+3Ch] [bp-4h]@3

  v4 = 44 * a1;
  v5 = *(_BYTE *)a3;
  v6 = v4 + a2 + 324;
  v7 = (*(_WORD *)(v4 + a2 + 326) >> 10) & 3;
  if ( v7 == *(_BYTE *)a3 && v7 )
  {
    v8 = *(_DWORD *)(a3 + 64);
    v34 = *(_DWORD *)(a3 + 60);
    v35 = v8;
  }
  else
  {
    sub_10022FC0(a3 + 84, v6 + 36, (float *)&v28, &v32, (float *)&v33);
    v9 = sub_10063550(*(float *)(a3 + 16), v32, 1);
    v10 = v9 < 3.141592741012573;
    v11 = v9 == 3.141592741012573;
    v12 = *(float *)(a3 + 16);
    if ( v10 || v11 )
    {
      v5 = 2;
      v25 = &v34;
      v31 = v12 + 1.570796370506287;
      v13 = v31;
    }
    else
    {
      v5 = 1;
      v25 = &v34;
      v31 = v12 - 1.570796370506287;
      v13 = v31;
    }
    v14 = v13;
    v15 = sub_100637E0(v14);
    sub_100236E0(a3 + 84, *(float *)(a3 + 40), v15, (int)v25);
  }
  v16 = v6 + 36;
  sub_10022FC0((int)&v34, v16, &v30, &v29, (float *)&v28);
  if ( *(float *)(a3 + 40) >= (double)v30
    || ((v17 = *(float *)(a3 + 40) / v30,
         *(_BYTE *)(a3 + 1) = 1,
         *(_BYTE *)(a3 + 2) = 0,
         *(_DWORD *)(a3 + 68) = *(_DWORD *)v16,
         *(_DWORD *)(a3 + 72) = *(_DWORD *)(v16 + 4),
         v27 = asin(v17),
         v5 != 2) ? (v31 = v29 - v27, v26 = sub_100637E0(v31), v31 = v26 + 1.570796370506287, v18 = v31) : (v31 = v27 + v29, v26 = sub_100637E0(v31), v31 = v26 - 1.570796370506287, v18 = v31),
        (v19 = v18,
         v31 = sub_100637E0(v19),
         v20 = v26 - a4,
         v21 = sub_100637E0(v20),
         COERCE_FLOAT(LODWORD(v21) & 0x7FFFFFFF) > 1.570796370506287)
     && *(float *)(a3 + 40) + *(float *)(a3 + 40) > v30) )
  {
    *(_BYTE *)(a3 + 2) = 1;
    *(_BYTE *)(a3 + 1) = 0;
  }
  else
  {
    sub_100236E0((int)&v34, *(float *)(a3 + 40), v31, a3 + 76);
    v22 = v34;
    *(float *)(a3 + 20) = v26;
    v23 = v35;
    LOBYTE(v24) = v5 == 2;
    *(_DWORD *)(a3 + 60) = v22;
    *(_DWORD *)(a3 + 64) = v23;
    *(_BYTE *)a3 = v5;
    v32 = sub_10063550(*(float *)(a3 + 16), v26, v24);
    v28 = LODWORD(v32) & 0x7FFFFFFF;
    *(float *)(a3 + 32) = COERCE_FLOAT(LODWORD(v32) & 0x7FFFFFFF) * 0.5;
  }
}

//----- (1002F180) --------------------------------------------------------
double __usercall sub_1002F180@<st0>(int a1@<ebx>, int a2@<edi>, __int16 a3)
{
  __int16 v3; // bp@1
  int v4; // eax@1
  int v5; // esi@1
  double v6; // st7@1
  float v7; // ST0C_4@4
  double result; // st7@4
  double v9; // st6@4
  float v10; // [sp+8h] [bp-8h]@1
  float v11; // [sp+8h] [bp-8h]@7
  int v12; // [sp+Ch] [bp-4h]@1
  float v13; // [sp+14h] [bp+4h]@1
  float v14; // [sp+14h] [bp+4h]@3
  float v15; // [sp+14h] [bp+4h]@6

  v3 = a3;
  v4 = 44 * a3;
  v5 = v4 + a1 + 324;
  v12 = 44 * *(_WORD *)(v4 + a1 + 332) + a1 + 324;
  v13 = sub_1002ECD0((char *)v5);
  v10 = sub_1002EE10((char *)v5, a2) * *(float *)(a2 + 48);
  v6 = v13;
  if ( v10 <= (double)v13 )
    v6 = v10;
  v14 = v6;
  if ( *(_BYTE *)(a2 + 8) )
  {
    v11 = *(float *)(v5 + 12);
    result = v14;
    if ( v11 > (double)v14 )
    {
      v9 = *(float *)(v12 + 12);
    }
    else
    {
      result = v11;
      v9 = *(float *)(v12 + 12);
    }
  }
  else
  {
    v7 = sub_1002E7D0(a1, v3, a2);
    result = v14;
    v9 = v7;
  }
  if ( v9 <= result )
  {
    v15 = v9;
    result = v15;
  }
  return result;
}

//----- (1002F270) --------------------------------------------------------
char __usercall sub_1002F270@<al>(int a1@<esi>, int a2, int a3, float a4)
{
  int v4; // ebp@1
  float *v5; // ebx@1
  double v6; // st7@3
  double v7; // st7@4
  float v8; // ST10_4@6
  float *v9; // edi@7
  double v10; // st7@9
  double v11; // st7@10
  float v12; // ST10_4@12
  char v13; // al@13
  int v15; // ecx@21
  double v16; // st7@21
  char v17; // cl@22
  __int16 v18; // ax@31
  double v19; // st7@32
  char v20; // al@32
  float v21; // ST0C_4@32
  double v22; // st7@32
  bool v23; // al@33
  bool v24; // c0@38
  double v25; // st7@42
  float v26; // ST10_4@44
  int v27; // [sp-4h] [bp-28h]@1
  float *v28; // [sp+8h] [bp-1Ch]@1
  int v29; // [sp+18h] [bp-Ch]@1
  char v30; // [sp+1Ch] [bp-8h]@2
  float v31; // [sp+20h] [bp-4h]@4

  v4 = a3;
  v5 = (float *)(a1 + 16);
  v28 = (float *)(a1 + 16);
  v29 = a3 + 36;
  v27 = a3 + 36;
  if ( (*(_BYTE *)(a3 + 2) & 6) == 4 )
  {
    sub_10022FC0(a2 + 36, v27, (float *)&a3, (float *)&v30, v28);
  }
  else
  {
    sub_10022FC0(a3 + 24, v27, (float *)&a3, (float *)&v30, v28);
    v6 = *v5;
    if ( ((*(_WORD *)(v4 + 2) >> 10) & 3) == 2 )
    {
      v31 = v6 + 1.570796370506287;
      v7 = v31;
    }
    else
    {
      v31 = v6 - 1.570796370506287;
      v7 = v31;
    }
    v8 = v7;
    *v5 = sub_100637E0(v8);
  }
  v9 = (float *)(a1 + 20);
  if ( (*(_BYTE *)(LODWORD(a4) + 2) & 6) == 4 )
  {
    sub_10022FC0(v29, LODWORD(a4) + 36, (float *)&a3, (float *)(a1 + 20), (float *)&v30);
  }
  else
  {
    sub_10022FC0(LODWORD(a4) + 24, v29, (float *)&a3, (float *)&v30, (float *)(a1 + 20));
    v10 = *v9;
    if ( ((*(_WORD *)(LODWORD(a4) + 2) >> 10) & 3) == 2 )
    {
      v31 = v10 + 1.570796370506287;
      v11 = v31;
    }
    else
    {
      v31 = v10 - 1.570796370506287;
      v11 = v31;
    }
    v12 = v11;
    *v9 = sub_100637E0(v12);
  }
  v13 = *(_BYTE *)(a1 + 8);
  if ( v13 != 2 && v13 && v13 != 1 )
  {
    if ( *(float *)(LODWORD(a4) + 12) < 200.0 )
      return 0;
    if ( *(float *)(v4 + 12) < 25.0 )
      return 0;
  }
  else if ( *(float *)(LODWORD(a4) + 12) < 200.0 || *(float *)(v4 + 12) < 200.0 )
  {
    return 0;
  }
  v31 = *v5 - *v9;
  v31 = sub_100637E0(v31);
  LODWORD(v31) &= 0x7FFFFFFFu;
  v16 = v31;
  if ( v31 < 0.08726646 )
    return 0;
  v17 = *(_BYTE *)(a1 + 8);
  if ( v17 == 4 && v16 < 0.2181661576032639 )
    return 0;
  if ( (v17 == 2 || !v17 || v17 == 1) && v16 > 3.0543263 )
  {
    if ( (*(_BYTE *)(LODWORD(a4) + 2) & 6) == 4 )
    {
      *(_BYTE *)(a1 + 8) = 3;
      return 1;
    }
    return 0;
  }
  if ( v17 == 4 && (v18 = *(_WORD *)(LODWORD(a4) + 2) >> 10, v18 & 3) )
  {
    v19 = *v9;
    v20 = v18 & 3;
    LOBYTE(v15) = v20 == 2;
    *(_BYTE *)a1 = v20;
    v21 = v19;
    a4 = sub_10063550(*v5, v21, v15);
    a3 = LODWORD(a4) & 0x7FFFFFFF;
    v22 = COERCE_FLOAT(LODWORD(a4) & 0x7FFFFFFF);
    if ( v22 > 4.7123889803847 )
    {
      v23 = *(_BYTE *)a1 != 2;
      *(float *)&a3 = 6.283185482025146 - v22;
      v22 = *(float *)&a3;
      *(_BYTE *)a1 = v23 + 1;
    }
  }
  else
  {
    a4 = sub_10063550(*v5, *v9, 1);
    LODWORD(a4) &= 0x7FFFFFFFu;
    v22 = a4;
    a4 = 6.2831853071796 - a4;
    if ( a4 >= v22 || v31 >= 3.132865905761719 )
    {
      *(_BYTE *)a1 = 2;
    }
    else
    {
      v22 = a4;
      *(_BYTE *)a1 = 1;
    }
  }
  *(float *)(a1 + 32) = v22 * 0.5;
  *(_DWORD *)(a1 + 92) = *(_DWORD *)v29;
  v24 = 1.5271631 < *(float *)(a1 + 32);
  *(_DWORD *)(a1 + 96) = *(_DWORD *)(v29 + 4);
  if ( v24 )
    *(float *)(a1 + 44) = 9.9999996e24;
  else
    *(float *)(a1 + 44) = tan(*(float *)(a1 + 32));
  if ( *(_BYTE *)a1 == 2 )
  {
    a4 = *(float *)(a1 + 32) + 1.570796370506287 + *v5;
    v25 = a4;
  }
  else
  {
    a4 = *v5 - (*(float *)(a1 + 32) + 1.570796370506287);
    v25 = a4;
  }
  v26 = v25;
  *(float *)(a1 + 28) = sub_100637E0(v26);
  return 1;
}

//----- (1002F5F0) --------------------------------------------------------
double __usercall sub_1002F5F0@<st0>(__int16 a1@<ax>, int a2@<ecx>, int a3)
{
  int v3; // eax@1
  int v4; // ebx@1
  int v5; // ecx@1
  int v6; // edi@1
  int v7; // ebp@1
  __int16 v8; // ax@1
  __int16 v9; // cx@1
  int v10; // esi@4
  char v11; // al@9
  int v12; // ecx@9
  double v13; // st7@9
  __int16 v14; // dx@9
  __int16 v15; // ST08_2@9
  float v16; // ST20_4@9
  double v17; // st7@9
  double v18; // st6@9
  float v19; // ST20_4@11
  double v20; // st6@11
  float v23; // [sp+0h] [bp-80h]@1
  float v24; // [sp+4h] [bp-7Ch]@12
  char v25; // [sp+8h] [bp-78h]@7
  char v26; // [sp+Ch] [bp-74h]@9
  char v27; // [sp+10h] [bp-70h]@1
  float v28; // [sp+20h] [bp-60h]@9
  float v29; // [sp+2Ch] [bp-54h]@9
  float v30; // [sp+30h] [bp-50h]@9
  float v31; // [sp+34h] [bp-4Ch]@9
  float v32; // [sp+38h] [bp-48h]@9
  int v33; // [sp+6Ch] [bp-14h]@9
  __int16 v34; // [sp+70h] [bp-10h]@9

  v3 = 44 * a1;
  v23 = 9.9999996e24;
  v4 = a2;
  v5 = *(_WORD *)(v3 + a2 + 332);
  v6 = v3 + v4 + 324;
  v7 = 44 * v5 + v4 + 324;
  v27 = -1;
  v8 = *(_WORD *)(44 * v5 + v4 + 326);
  v9 = *(_WORD *)(44 * v5 + v4 + 332);
  if ( !(v8 & 1) && !(v8 & 0x1000) && v9 != -1 )
  {
    v10 = 44 * v9 + v4;
    if ( (*(_BYTE *)(v10 + 326) >> 1) & 3 )
    {
      if ( (v8 & 6) != 2 || ((*(_BYTE *)(v10 + 326) >> 1) & 3) != 1 )
      {
        v27 = 2;
        if ( sub_1002F270((int)&v25, v6, v7, COERCE_FLOAT(v10 + 324)) )
        {
          if ( v27 != 3 )
          {
            v11 = *(_BYTE *)(a3 + 4);
            v12 = *(_DWORD *)(a3 + 100);
            v32 = *(float *)(a3 + 48);
            v13 = *(float *)(a3 + 40);
            v14 = *(_WORD *)(a3 + 104);
            v26 = v11;
            v30 = v13;
            v15 = *(_WORD *)(v6 + 8);
            v29 = *(float *)(a3 + 36);
            v33 = v12;
            v34 = v14;
            v16 = sub_1002F180(v4, (int)&v25, v15);
            v17 = v31;
            v28 = v31 * v30;
            v18 = v16;
            if ( v28 <= (double)v16 )
              v18 = v28;
            v19 = v18;
            v20 = v19;
            v28 = v19;
            if ( *(float *)(v7 + 12) >= *(float *)(a3 + 24) + v19 )
              return v23;
            v23 = *(float *)(v7 + 12) / (v17 / *(float *)(a3 + 44) + 1.0);
            v24 = *(float *)(v7 + 12) / (*(float *)(a3 + 44) / v17 + 1.0);
            if ( v24 > v20 )
              return (float)(v24 - v20 + v23);
          }
        }
      }
    }
  }
  return v23;
}

//----- (1002F7B0) --------------------------------------------------------
void __cdecl sub_1002F7B0(int a1, float a2, int a3)
{
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // eax@1
  __int16 v6; // cx@1
  __int16 v7; // dx@1
  int v8; // ecx@1
  int v9; // edi@1
  float v10; // ST38_4@9
  double v11; // st7@10
  double v12; // st6@10
  int v13; // eax@15
  float v14; // ST38_4@16
  float v15; // ST38_4@16
  float v16; // ST38_4@16
  float v17; // ST38_4@16
  double v18; // st7@16
  float v19; // ST38_4@18
  char v20; // al@19
  char v21; // al@24
  double v22; // st7@29
  float *v23; // edi@33
  double v24; // st7@33
  double v25; // st7@34
  float v26; // ST20_4@36
  int v27; // ecx@36
  double v28; // st7@36
  char v29; // al@37
  double v30; // st6@37
  double v31; // st5@39
  double v32; // st7@41
  float v33; // ST1C_4@41
  double v34; // st7@42
  float v35; // ST38_4@43
  double v36; // st7@43
  float v37; // ST38_4@44
  float v38; // ST20_4@45
  float v39; // ST38_4@45
  double v40; // st7@46
  double v41; // st7@47
  float v42; // ST1C_4@47
  bool v43; // zf@48
  bool v44; // c0@50
  float v45; // ST38_4@50
  double v46; // st7@50
  float v47; // ST34_4@51
  float v48; // ST1C_4@51
  float v49; // ST34_4@52
  float v50; // ST1C_4@52
  int v51; // [sp+8h] [bp-60h]@50
  __int16 v52; // [sp+1Ch] [bp-4Ch]@1
  float v53; // [sp+1Ch] [bp-4Ch]@29
  float v54; // [sp+20h] [bp-48h]@31
  int v55; // [sp+20h] [bp-48h]@50
  char v56; // [sp+24h] [bp-44h]@5
  int v57; // [sp+28h] [bp-40h]@5
  int v58; // [sp+2Ch] [bp-3Ch]@5
  int v59; // [sp+30h] [bp-38h]@5
  int v60; // [sp+34h] [bp-34h]@5
  int v61; // [sp+38h] [bp-30h]@29
  char v62; // [sp+40h] [bp-28h]@5
  int v63; // [sp+44h] [bp-24h]@13
  int v64; // [sp+48h] [bp-20h]@5
  float v65; // [sp+50h] [bp-18h]@6
  char v66; // [sp+54h] [bp-14h]@29
  float v67; // [sp+58h] [bp-10h]@29
  int v68; // [sp+5Ch] [bp-Ch]@33

  v3 = a1;
  v4 = a3;
  v5 = 44 * SLOWORD(a2) + a1 + 324;
  *(_BYTE *)(a3 + 2) = 0;
  *(_BYTE *)(v4 + 1) = 0;
  *(_BYTE *)(v4 + 3) = 0;
  v6 = *(_WORD *)(v5 + 8);
  v7 = v6;
  v8 = 44 * v6;
  v52 = v7;
  v9 = v8 + v3 + 324;
  if ( *(_BYTE *)(v4 + 8) != 3 )
    *(_BYTE *)(v4 + 8) = 4;
  if ( !(*(_BYTE *)(v8 + v3 + 326) & 6) )
  {
    *(_BYTE *)(v4 + 8) = 5;
    v5 = v8 + v3 + 324;
    v52 = *(_WORD *)(v8 + v3 + 332);
    v9 = 44 * v52 + v3 + 324;
  }
  v57 = *(_DWORD *)(v9 + 36);
  v58 = *(_DWORD *)(v9 + 40);
  v59 = *(_DWORD *)(v5 + 36);
  v60 = *(_DWORD *)(v5 + 40);
  sub_10023960((int)&v59, (int)&v57, v4 + 76, (int)&v62);
  sub_10022FC0((int)&v64, (int)&v57, (float *)&a1, &a2, (float *)&v56);
  if ( v62 )
  {
    if ( v62 == 1 )
    {
      *(float *)&a3 = *(float *)(v9 + 12) - v65;
    }
    else
    {
      *(float *)&a3 = v65 - *(float *)(v9 + 12);
      v10 = a2 + 3.141592741012573;
      a2 = sub_100637E0(v10);
    }
  }
  else
  {
    *(float *)&a3 = *(float *)(v9 + 12) + v65;
  }
  v11 = *(float *)&a3;
  v12 = 25.0;
  if ( *(float *)&a3 < 25.0 )
  {
    sub_10022FC0((int)&v59, (int)&v57, (float *)&a1, (float *)&v56, &a2);
    v11 = *(float *)&a3;
    v12 = 25.0;
  }
  if ( v62 == 2 )
  {
    if ( *(_BYTE *)(v4 + 8) == 4 )
    {
      *(_BYTE *)(v4 + 8) = -1;
    }
    else
    {
      v21 = *(_BYTE *)(v4 + 6);
      if ( v21 == 7 || v21 == 10 )
        *(_BYTE *)(v4 + 2) = 1;
      else
        sub_1002EF10(v52, v3, v4, a2);
      if ( *(_BYTE *)(v4 + 2) )
      {
        *(float *)&a3 = a2 + 1.570796370506287;
        *(float *)&a3 = sub_100637E0(*(float *)&a3);
        sub_100236E0((int)&v57, 100.0, *(float *)&a3, (int)&v61);
        sub_10023960((int)&v57, (int)&v61, v4 + 60, (int)&v66);
        v53 = *(float *)(v4 + 40);
        v22 = COERCE_FLOAT(LODWORD(v67) & 0x7FFFFFFF);
        if ( v53 <= v22 )
          v22 = v53;
        v67 = v22;
        v54 = sqrt(*(float *)(v4 + 40) * *(float *)(v4 + 40) - v67 * v67);
        if ( *(_BYTE *)v4 == 2 )
        {
          *(float *)&a3 = *(float *)&a3 + 3.141592741012573;
          *(float *)&a3 = sub_100637E0(*(float *)&a3);
        }
        sub_100236E0((int)&v68, v54, *(float *)&a3, v4 + 76);
        v23 = (float *)(v4 + 20);
        sub_10022FC0(v4 + 60, v4 + 76, (float *)&a1, (float *)(v4 + 20), (float *)&v56);
        v24 = *(float *)(v4 + 20);
        if ( *(_BYTE *)v4 == 2 )
        {
          *(float *)&a3 = v24 + 1.570796370506287;
          v25 = *(float *)&a3;
        }
        else
        {
          *(float *)&a3 = v24 - 1.570796370506287;
          v25 = *(float *)&a3;
        }
        v26 = v25;
        *v23 = sub_100637E0(v26);
        LOBYTE(v27) = *(_BYTE *)v4 == 2;
        *(float *)&a1 = sub_10063550(*(float *)(v4 + 16), *v23, v27);
        v28 = *(float *)&a1 * 0.5;
        *(_BYTE *)(v4 + 1) = 0;
        a2 = v28;
        LODWORD(a2) &= 0x7FFFFFFFu;
        *(float *)(v4 + 32) = a2;
      }
    }
  }
  else if ( COERCE_FLOAT(v63 & 0x7FFFFFFF) >= v12 )
  {
    v29 = *(_BYTE *)(v4 + 6);
    v30 = *(float *)&v63;
    if ( v29 == 7 || v29 == 10 )
    {
      v34 = a2;
      if ( *(float *)&v63 <= 0.0 )
      {
        v37 = v34 - 0.7853981852531433;
        v36 = v37;
      }
      else
      {
        v35 = v34 + 0.7853981852531433;
        v36 = v35;
      }
      v38 = v36;
      v39 = sub_100637E0(v38);
      if ( sub_100639F0(*(float *)(v4 + 20), v39, 0.08726646) )
      {
        v40 = *(float *)&v63;
        if ( *(float *)&a3 <= (double)COERCE_FLOAT(v63 & 0x7FFFFFFF) )
        {
          v43 = *(_WORD *)(v9 + 8) == -1;
          *(_BYTE *)(v4 + 2) = 1;
          *(_BYTE *)(v4 + 1) = 1;
          if ( v43 )
          {
            *(float *)&a3 = v40;
            a3 &= 0x7FFFFFFFu;
            sub_100236E0((int)&v64, *(float *)&a3, a2, v4 + 68);
          }
          else
          {
            v44 = 0.0 < v40;
            v51 = v4 + 68;
            v45 = v40;
            v46 = a2;
            v55 = LODWORD(v45) & 0x7FFFFFFF;
            if ( v44 )
            {
              v47 = v46 - 1.570796370506287;
              v48 = sub_100637E0(v47);
              *(float *)&a3 = *(float *)&v55 - *(float *)&a3;
              sub_100236E0((int)&v57, *(float *)&a3, v48, v51);
            }
            else
            {
              v49 = v46 + 1.570796370506287;
              v50 = sub_100637E0(v49);
              *(float *)&a3 = *(float *)&v55 - *(float *)&a3;
              sub_100236E0((int)&v57, *(float *)&a3, v50, v51);
            }
          }
        }
        else
        {
          *(_BYTE *)(v4 + 2) = 0;
          *(float *)&a3 = v40;
          v41 = a2;
          a3 &= 0x7FFFFFFFu;
          *(_BYTE *)(v4 + 1) = 1;
          v42 = v41;
          sub_100236E0((int)&v64, *(float *)&a3, v42, v4 + 68);
        }
      }
      else
      {
        *(_BYTE *)(v4 + 2) = 0;
        *(_BYTE *)(v4 + 3) = 1;
        *(_BYTE *)(v4 + 1) = 0;
      }
    }
    else
    {
      a3 = v63;
      v31 = *(float *)(v4 + 40);
      a3 = v63 & 0x7FFFFFFF;
      if ( v31 * 0.4142135679721832 + COERCE_FLOAT(v63 & 0x7FFFFFFF) <= v11 )
      {
        *(_BYTE *)(v4 + 2) = 0;
        *(float *)&a3 = v30;
        v32 = a2;
        a3 &= 0x7FFFFFFFu;
        *(_BYTE *)(v4 + 1) = 1;
        v33 = v32;
        sub_100236E0((int)&v64, *(float *)&a3, v33, v4 + 68);
      }
      else
      {
        sub_1002EF10(v52, v3, v4, a2);
      }
    }
  }
  else
  {
    *(_BYTE *)(v4 + 1) = 0;
    *(_BYTE *)(v4 + 2) = 0;
    if ( v12 <= v11 )
    {
      v14 = *(float *)(v4 + 20) - a2;
      v15 = sub_100637E0(v14);
      v16 = tan(COERCE_FLOAT(LODWORD(v15) & 0x7FFFFFFF) * 0.5);
      v17 = v16 * *(float *)(v4 + 40);
      v18 = v17;
      if ( v17 < 200.0 )
        v18 = 200.0;
      v19 = v18;
      if ( v19 > (double)*(float *)&a3 )
      {
        v20 = *(_BYTE *)(v4 + 6);
        if ( v20 != 7 && v20 != 10 )
          sub_1002EF10(v52, v3, v4, a2);
      }
    }
    else
    {
      v13 = v58;
      *(_DWORD *)(v4 + 76) = v57;
      *(_DWORD *)(v4 + 80) = v13;
    }
  }
}

//----- (1002FE20) --------------------------------------------------------
void __cdecl sub_1002FE20(int a1, float a2, int a3)
{
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // eax@1
  int v6; // edx@1
  int v7; // edi@1
  float v8; // eax@1
  double v9; // st7@4
  double v10; // st7@5
  float v11; // ST14_4@7
  double v12; // st7@8
  double v13; // st7@10
  double v14; // st7@16
  int v15; // ebx@16
  float v16; // ST2C_4@18
  int v17; // eax@18
  float v18; // ST2C_4@19
  double v19; // st7@20
  double v20; // st7@21
  float v21; // ST10_4@23
  float v22; // ST2C_4@24
  char v23; // ST10_1@24
  double v24; // st7@24
  float v25; // ST2C_4@29
  float v26; // [sp+20h] [bp-10h]@7
  float v27; // [sp+24h] [bp-Ch]@3
  int v28; // [sp+34h] [bp+4h]@3
  int v29; // [sp+34h] [bp+4h]@21
  int v30; // [sp+34h] [bp+4h]@21
  int v31; // [sp+34h] [bp+4h]@21
  int v32; // [sp+34h] [bp+4h]@22
  int v33; // [sp+34h] [bp+4h]@22
  int v34; // [sp+34h] [bp+4h]@22
  int v35; // [sp+34h] [bp+4h]@30
  int v36; // [sp+3Ch] [bp+Ch]@5
  int v37; // [sp+3Ch] [bp+Ch]@6
  int v38; // [sp+3Ch] [bp+Ch]@16
  int v39; // [sp+3Ch] [bp+Ch]@30
  int v40; // [sp+3Ch] [bp+Ch]@30

  v3 = a1;
  v4 = a3;
  *(_BYTE *)(a3 + 2) = 0;
  *(_BYTE *)(a3 + 1) = 0;
  v5 = 44 * SLOWORD(a2);
  v6 = 44 * *(_WORD *)(v5 + a1 + 334);
  v7 = v5 + a1 + 324;
  LODWORD(v8) = 44 * *(_WORD *)(v5 + v3 + 332) + v3 + 324;
  if ( *(_BYTE *)(a3 + 8) != 3 )
    *(_BYTE *)(a3 + 8) = 4;
  *(float *)&v28 = 6.283185;
  v27 = 6.283185;
  if ( !sub_1002F270(a3, v6 + v3 + 324, v7, v8) )
  {
    *(_BYTE *)(a3 + 8) = -1;
    return;
  }
  v9 = *(float *)(a3 + 16);
  if ( *(_BYTE *)a3 == 2 )
  {
    *(float *)&v36 = v9 + 1.570796370506287;
    v10 = *(float *)&v36;
  }
  else
  {
    *(float *)&v37 = v9 - 1.570796370506287;
    v10 = *(float *)&v37;
  }
  v11 = v10;
  v26 = sub_100637E0(v11);
  if ( *(float *)(v4 + 32) > 0.2181661576032639 )
    v12 = 4.5698152;
  else
    v12 = *(float *)(v4 + 44) * 19.61330032348633 / (1.0 - *(float *)(v4 + 44) * *(float *)(v4 + 44));
  *(float *)(v4 + 12) = v12;
  v13 = *(float *)(v4 + 36);
  if ( (COERCE_UNSIGNED_INT(*(float *)(v4 + 12)) & 0x7F800000) == 2139095040
    || *(float *)(v4 + 12) > v13
    || (v13 = 0.01712, *(float *)(v4 + 12) < 0.01712) )
  {
    *(float *)(v4 + 12) = v13;
  }
  if ( *(float *)(v4 + 12) / *(float *)(v4 + 48) > 0.05235987901687622 )
    *(float *)(v4 + 12) = 0.05235987901687622 * *(float *)(v4 + 48);
  v14 = *(float *)(v4 + 32) + *(float *)(v4 + 32);
  v15 = v4 + 84;
  *(_DWORD *)v15 = *(_DWORD *)(v7 + 36);
  *(float *)&v38 = v14;
  *(_DWORD *)(v15 + 4) = *(_DWORD *)(v7 + 40);
  if ( *(float *)&v38 >= 1.134464 )
  {
    v19 = *(float *)(v4 + 20);
    if ( *(_BYTE *)v4 == 2 )
    {
      *(float *)&v29 = v19 + 0.7853981852531433;
      *(float *)&v30 = sub_100637E0(*(float *)&v29);
      *(float *)(v4 + 20) = *(float *)&v30;
      *(float *)&v31 = *(float *)&v30 - 1.570796370506287;
      v20 = *(float *)&v31;
    }
    else
    {
      *(float *)&v32 = v19 - 0.7853981852531433;
      *(float *)&v33 = sub_100637E0(*(float *)&v32);
      *(float *)(v4 + 20) = *(float *)&v33;
      *(float *)&v34 = *(float *)&v33 + 1.570796370506287;
      v20 = *(float *)&v34;
    }
    v21 = v20;
    *(float *)&v28 = sub_100637E0(v21);
  }
  else
  {
    v27 = *(float *)(v4 + 20);
    if ( *(_BYTE *)v4 == 2 )
    {
      v16 = *(float *)(v4 + 32) * 4.0 + *(float *)(v4 + 16);
      *(float *)(v4 + 20) = sub_100637E0(v16);
    }
    else
    {
      v18 = *(float *)(v4 + 16) - *(float *)(v4 + 32) * 4.0;
      *(float *)(v4 + 20) = sub_100637E0(v18);
    }
  }
  LOBYTE(v17) = *(_BYTE *)v4 == 2;
  v22 = sub_10063550(*(float *)(v4 + 16), *(float *)(v4 + 20), v17);
  v23 = *(_BYTE *)v4;
  *(float *)(v4 + 32) = COERCE_FLOAT(LODWORD(v22) & 0x7FFFFFFF) * 0.5;
  *(float *)(v4 + 48) = sub_1002E280(v4 + 108, *(float *)(v4 + 48), *(float *)(v4 + 16), *(float *)(v4 + 20), v23);
  v24 = 308.66666;
  if ( (COERCE_UNSIGNED_INT(*(float *)(v4 + 48)) & 0x7F800000) == 2139095040 || *(float *)(v4 + 48) > 308.66666 )
    goto LABEL_28;
  if ( *(float *)(v4 + 48) < 30.86666679382324 )
  {
    v24 = 30.866667;
LABEL_28:
    *(float *)(v4 + 48) = v24;
  }
  v25 = *(float *)(v4 + 48) * *(float *)(v4 + 48) / *(float *)(v4 + 12);
  *(float *)(v4 + 40) = v25;
  sub_100236E0(v4 + 84, v25, v26, v4 + 60);
  if ( *(float *)&v38 >= 1.134464 )
  {
    sub_100236E0(v4 + 60, *(float *)(v4 + 40), *(float *)&v28, v4 + 76);
  }
  else
  {
    *(float *)&v35 = sin(*(float *)&v38 + *(float *)&v38);
    *(float *)&v39 = sin(1.570796370506287 - *(float *)&v38);
    *(float *)&v40 = *(float *)&v35 * *(float *)(v4 + 40) / *(float *)&v39;
    sub_100236E0(v4 + 84, *(float *)&v40, v27, v4 + 76);
  }
  sub_1002F7B0(v3, a2, v4);
}

//----- (100301E0) --------------------------------------------------------
void __cdecl sub_100301E0(int a1, float a2, int a3)
{
  double v3; // st7@1
  int v4; // eax@1
  int v5; // eax@1
  float *v6; // ebp@3
  double v7; // st7@5
  double v8; // st7@6
  float v9; // ST20_4@8
  int v10; // edi@9
  int v11; // ebx@9
  int v12; // eax@9
  int v13; // ST18_4@9
  int v14; // ST14_4@9
  double v15; // st7@11
  double v16; // st7@16
  bool v17; // c0@16
  bool v18; // c3@16
  double v19; // st7@16
  int v20; // edx@17
  bool v21; // c0@19
  double v22; // st7@19
  double v23; // st7@20
  float v24; // ST20_4@22
  int v25; // edi@23
  int v26; // ecx@24
  double v27; // st7@24
  char v28; // al@26
  bool v29; // zf@27
  double v30; // st7@27
  double v31; // st7@30
  double v32; // st6@30
  double v33; // st7@31
  float v34; // ST20_4@34
  double v35; // st7@41
  float *v36; // ebx@42
  float *v37; // edx@42
  double v38; // st7@44
  float v39; // ST18_4@44
  int *v40; // ebx@44
  int v41; // eax@45
  int v42; // ecx@45
  double v43; // st7@45
  double v44; // st7@47
  bool v45; // c0@48
  double v46; // st7@48
  double v47; // st7@49
  float v48; // ST20_4@51
  int v49; // edx@51
  double v50; // st7@51
  double v51; // st7@52
  float v52; // ST20_4@54
  double v53; // st7@58
  double v54; // st6@58
  bool v55; // c0@63
  double v56; // st7@63
  double v57; // st7@64
  float v58; // ST20_4@66
  int v59; // ecx@72
  double v60; // st7@73
  double v61; // st7@74
  float v62; // ST20_4@76
  int v63; // edx@76
  int v64; // eax@78
  int v65; // ecx@78
  int v66; // edx@79
  int v67; // eax@79
  int v68; // ecx@79
  char v69; // [sp+23h] [bp-75h]@64
  float v70; // [sp+24h] [bp-74h]@28
  float v71; // [sp+28h] [bp-70h]@9
  float v72; // [sp+2Ch] [bp-6Ch]@28
  int v73; // [sp+30h] [bp-68h]@24
  float v74; // [sp+34h] [bp-64h]@4
  int v75; // [sp+38h] [bp-60h]@30
  float v76; // [sp+3Ch] [bp-5Ch]@11
  float v77; // [sp+40h] [bp-58h]@1
  float v78; // [sp+44h] [bp-54h]@4
  int v79; // [sp+48h] [bp-50h]@1
  int v80; // [sp+4Ch] [bp-4Ch]@9
  int v81; // [sp+50h] [bp-48h]@6
  float v82; // [sp+54h] [bp-44h]@9
  float v83; // [sp+58h] [bp-40h]@31
  char v84; // [sp+5Ch] [bp-3Ch]@9
  float v85; // [sp+60h] [bp-38h]@11
  char v86; // [sp+64h] [bp-34h]@9
  char v87; // [sp+70h] [bp-28h]@70
  float v88; // [sp+74h] [bp-24h]@70
  int v89; // [sp+78h] [bp-20h]@71
  int v90; // [sp+7Ch] [bp-1Ch]@72
  char v91; // [sp+84h] [bp-14h]@47
  float v92; // [sp+88h] [bp-10h]@47

  *(_BYTE *)(a3 + 8) = 5;
  v3 = *(float *)(44 * SLOWORD(a2) + a1 + 336);
  v4 = 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 332) + a1 + 324;
  v77 = *(float *)&v4;
  v5 = 44 * *(_WORD *)(v4 + 8);
  v79 = v5 + a1 + 324;
  if ( v3 < 25.0 || *(float *)(v5 + a1 + 336) < 200.0 )
  {
    *(_BYTE *)(a3 + 8) = -1;
    return;
  }
  v6 = (float *)(a3 + 16);
  if ( (*(_BYTE *)(44 * SLOWORD(a2) + a1 + 326) & 6) == 4 )
  {
    sub_10022FC0(
      44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 334) + a1 + 360,
      44 * SLOWORD(a2) + a1 + 360,
      &v78,
      &v74,
      (float *)(a3 + 16));
  }
  else
  {
    sub_10022FC0(44 * SLOWORD(a2) + a1 + 348, 44 * SLOWORD(a2) + a1 + 360, &v78, (float *)(a3 + 16), &v74);
    v7 = *v6;
    if ( (*(_WORD *)(44 * SLOWORD(a2) + a1 + 326) & 0xC00) == 2048 )
    {
      *(float *)&v81 = v7 + 1.570796370506287;
      v8 = *(float *)&v81;
    }
    else
    {
      *(float *)&v81 = v7 - 1.570796370506287;
      v8 = *(float *)&v81;
    }
    v9 = v8;
    *v6 = sub_100637E0(v9);
  }
  v10 = a3 + 84;
  *(_DWORD *)v10 = *(_DWORD *)(44 * SLOWORD(a2) + a1 + 360);
  v11 = v79 + 36;
  v12 = LODWORD(v77) + 36;
  v13 = v79 + 36;
  v14 = LODWORD(v77) + 36;
  *(_DWORD *)(v10 + 4) = *(_DWORD *)(44 * SLOWORD(a2) + a1 + 364);
  v80 = v11;
  v81 = v12;
  sub_10023960(v14, v13, a3 + 84, (int)&v84);
  sub_10022FC0((int)&v86, v11, &v82, &v71, &v74);
  if ( v84 == 2 || v82 < 25.0 )
  {
    v66 = *(_DWORD *)v10;
    v67 = *(_DWORD *)(a3 + 88);
    *(float *)(a3 + 32) = 0.0;
    v68 = v79;
    *(_DWORD *)(a3 + 76) = v66;
    *(_DWORD *)(a3 + 80) = v67;
    *(_BYTE *)(a3 + 1) = 0;
    *(_BYTE *)(a3 + 2) = 1;
    *(_BYTE *)a3 = (*(_WORD *)(v68 + 2) >> 10) & 3;
    return;
  }
  v77 = *v6 - v71;
  v77 = sub_100637E0(v77);
  v15 = v85;
  LODWORD(v76) = LODWORD(v85) & 0x7FFFFFFF;
  LODWORD(v77) &= 0x7FFFFFFFu;
  if ( COERCE_FLOAT(LODWORD(v85) & 0x7FFFFFFF) < 50.0 && v77 < 0.08726646 )
  {
    *(_BYTE *)(a3 + 8) = -1;
    return;
  }
  if ( 0.0 == v15 )
  {
    v76 = *v6 - v71;
    v16 = sub_100637E0(v76);
    v17 = v16 < 0.0;
    v18 = v16 == 0.0;
    v19 = v71;
    if ( v17 || v18 )
    {
      v76 = v19 + 0.7853981852531433;
      *(float *)(a3 + 20) = sub_100637E0(v76);
      v85 = 0.0099999998;
    }
    else
    {
      v76 = v19 - 0.7853981852531433;
      *(float *)(a3 + 20) = sub_100637E0(v76);
      v85 = -0.0099999998;
    }
  }
  else
  {
    v21 = 0.0 < v15;
    v22 = v71;
    if ( v21 )
    {
      v76 = v22 + 0.7853981852531433;
      v23 = v76;
    }
    else
    {
      v76 = v22 - 0.7853981852531433;
      v23 = v76;
    }
    v24 = v23;
    *(float *)(a3 + 20) = sub_100637E0(v24);
  }
  v25 = v79;
  if ( !((*(_WORD *)(v79 + 2) >> 10) & 3)
    || (LOBYTE(v20) = ((*(_WORD *)(v79 + 2) >> 10) & 3) == 2,
        v76 = sub_10063550(*v6, v71, v20),
        v73 = LODWORD(v76) & 0x7FFFFFFF,
        v27 = COERCE_FLOAT(LODWORD(v76) & 0x7FFFFFFF),
        v27 < 0.7853981633974501)
    || v27 > 5.7595865315813 )
  {
    *(_BYTE *)a3 = 0;
LABEL_30:
    v76 = sub_10063550(*v6, *(float *)(a3 + 20), 1);
    v75 = LODWORD(v76) & 0x7FFFFFFF;
    v31 = COERCE_FLOAT(LODWORD(v76) & 0x7FFFFFFF);
    v76 = 6.2831853071796 - v31;
    v32 = v76;
    if ( v76 < v31 )
    {
      *(_BYTE *)a3 = 1;
      *(float *)(a3 + 32) = v32 * 0.5;
      v83 = *v6 - 1.570796370506287;
      v72 = sub_100637E0(v83);
      v83 = *(float *)(a3 + 20) + 1.570796370506287;
      v33 = v83;
    }
    else
    {
      *(_BYTE *)a3 = 2;
      *(float *)(a3 + 32) = v31 * 0.5;
      v72 = *v6 + 1.570796370506287;
      v72 = sub_100637E0(v72);
      v83 = *(float *)(a3 + 20) - 1.570796370506287;
      v33 = v83;
    }
    v34 = v33;
    v70 = sub_100637E0(v34);
    if ( v77 > 1.919862177193767 && v77 < 2.35619449019235 )
    {
      if ( v85 >= 0.0 || *(_BYTE *)a3 != 1 )
      {
        if ( v85 >= 0.0 && *(_BYTE *)a3 == 2 )
        {
          v35 = v76 * 0.5;
          *(_BYTE *)a3 = 1;
          *(float *)(a3 + 32) = v35;
          v83 = *v6 - 1.570796370506287;
          v72 = sub_100637E0(v83);
          v83 = *(float *)(a3 + 20) + 1.570796370506287;
          v70 = sub_100637E0(v83);
        }
      }
      else
      {
        *(_BYTE *)a3 = 2;
        *(float *)(a3 + 32) = *(float *)&v75 * 0.5;
        v83 = *v6 + 1.570796370506287;
        v72 = sub_100637E0(v83);
        v83 = *(float *)(a3 + 20) - 1.570796370506287;
        v70 = sub_100637E0(v83);
      }
    }
    goto LABEL_42;
  }
  v28 = (*(_WORD *)(v25 + 2) >> 10) & 3;
  *(_BYTE *)a3 = v28;
  if ( !v28 )
    goto LABEL_30;
  LOBYTE(v26) = v28 == 2;
  v76 = sub_10063550(*v6, *(float *)(a3 + 20), v26);
  v29 = *(_BYTE *)a3 == 2;
  v73 = LODWORD(v76) & 0x7FFFFFFF;
  *(float *)(a3 + 32) = COERCE_FLOAT(LODWORD(v76) & 0x7FFFFFFF) * 0.5;
  v30 = *v6;
  if ( v29 )
  {
    v76 = v30 + 1.570796370506287;
    v72 = sub_100637E0(v76);
    v76 = *(float *)(a3 + 20) - 1.570796370506287;
    v70 = sub_100637E0(v76);
  }
  else
  {
    v76 = v30 - 1.570796370506287;
    v72 = sub_100637E0(v76);
    v76 = *(float *)(a3 + 20) + 1.570796370506287;
    v70 = sub_100637E0(v76);
  }
LABEL_42:
  v36 = (float *)(a3 + 48);
  *(float *)(a3 + 48) = sub_1002E280(a3 + 108, *(float *)(a3 + 48), *v6, *(float *)(a3 + 20), *(_BYTE *)a3);
  sub_1002E230(308.66666, 30.866667);
  *(float *)(a3 + 12) = 4.5698152;
  sub_1002E230(*(float *)(a3 + 36), 0.01712);
  if ( *v37 / *(float *)(a3 + 48) > 0.05235987901687622 )
    *v37 = 0.05235987901687622 * *v36;
  v83 = *v36 * *v36 / *v37;
  v38 = v83;
  *(float *)(a3 + 40) = v83;
  v39 = v38;
  sub_100236E0(a3 + 84, v39, v72, a3 + 60);
  v40 = (int *)(a3 + 76);
  if ( *(float *)(a3 + 32) >= 0.04363323 )
  {
    sub_100236E0(a3 + 60, *(float *)(a3 + 40), v70, a3 + 76);
  }
  else
  {
    v41 = *(_DWORD *)(a3 + 84);
    v42 = *(_DWORD *)(a3 + 88);
    *(float *)(a3 + 32) = 0.0;
    v43 = *v6;
    *v40 = v41;
    *(float *)(a3 + 20) = v43;
    *(_DWORD *)(a3 + 80) = v42;
    *(_BYTE *)a3 = 0;
  }
  sub_10023960(v81, v80, a3 + 76, (int)&v91);
  v44 = v92;
  if ( v92 * v85 < 0.0 )
  {
    v45 = 0.0 < v44;
    v46 = v71;
    if ( v45 )
    {
      v83 = v46 + 0.7853981852531433;
      v47 = v83;
    }
    else
    {
      v83 = v46 - 0.7853981852531433;
      v47 = v83;
    }
    v48 = v47;
    *(float *)(a3 + 20) = sub_100637E0(v48);
    LOBYTE(v49) = *(_BYTE *)a3 == 2;
    v83 = sub_10063550(*v6, *(float *)(a3 + 20), v49);
    v29 = *(_BYTE *)a3 == 2;
    v73 = LODWORD(v83) & 0x7FFFFFFF;
    *(float *)(a3 + 32) = COERCE_FLOAT(LODWORD(v83) & 0x7FFFFFFF) * 0.5;
    v50 = *(float *)(a3 + 20);
    if ( v29 )
    {
      v83 = v50 - 1.570796370506287;
      v51 = v83;
    }
    else
    {
      v83 = v50 + 1.570796370506287;
      v51 = v83;
    }
    v52 = v51;
    v70 = sub_100637E0(v52);
    sub_100236E0(a3 + 60, *(float *)(a3 + 40), v70, a3 + 76);
    v44 = v92;
  }
  v76 = v44;
  LODWORD(v76) &= 0x7FFFFFFFu;
  if ( *(float *)(a3 + 40) * 0.2928932309150696 > v76 )
  {
    if ( ((*(_WORD *)(v79 + 2) >> 10) & 3) != *(_BYTE *)a3 || !*(_BYTE *)a3 )
    {
      if ( (v83 = sub_10063550(*v6, v71, 1),
            v75 = LODWORD(v83) & 0x7FFFFFFF,
            v53 = COERCE_FLOAT(LODWORD(v83) & 0x7FFFFFFF),
            v76 = 6.2831853071796 - v53,
            v54 = v76,
            v76 >= v53)
        && *(_BYTE *)a3 == 1
        || v54 < v53 && *(_BYTE *)a3 == 2
        || !*(_BYTE *)a3 )
      {
        v55 = v54 < v53;
        v56 = *v6;
        if ( v55 )
        {
          v69 = 1;
          v83 = v56 - 1.570796370506287;
          v57 = v83;
        }
        else
        {
          v69 = 2;
          v83 = v56 + 1.570796370506287;
          v57 = v83;
        }
        v58 = v57;
        v72 = sub_100637E0(v58);
        v29 = *(_BYTE *)a3 == 0;
        v74 = (1.0 - cos(v77)) * *(float *)(a3 + 40);
        if ( v29
          || (v79 = LODWORD(v85) & 0x7FFFFFFF, COERCE_FLOAT(LODWORD(v85) & 0x7FFFFFFF) < (double)v74)
          && v77 < 1.570796370506287 )
        {
          sub_100236E0(a3 + 84, *(float *)(a3 + 40), v72, a3 + 60);
          *(_BYTE *)a3 = v69;
        }
      }
    }
    sub_10023960(v81, v80, a3 + 60, (int)&v87);
    v79 = LODWORD(v88) & 0x7FFFFFFF;
    if ( *(float *)(a3 + 40) <= (double)COERCE_FLOAT(LODWORD(v88) & 0x7FFFFFFF) )
    {
      v59 = v90;
      *v40 = v89;
      *(_DWORD *)(a3 + 80) = v59;
    }
    else
    {
      v78 = sqrt(*(float *)(a3 + 40) * *(float *)(a3 + 40) - v88 * v88);
      sub_100236E0((int)&v89, v78, v71, a3 + 76);
    }
    sub_10022FC0(a3 + 60, a3 + 76, &v78, &v70, &v74);
    v60 = v70;
    if ( *(_BYTE *)a3 == 2 )
    {
      v83 = v60 + 1.570796370506287;
      v61 = v83;
    }
    else
    {
      v83 = v60 - 1.570796370506287;
      v61 = v83;
    }
    v62 = v61;
    *(float *)(a3 + 20) = sub_100637E0(v62);
    LOBYTE(v63) = *(_BYTE *)a3 == 2;
    v83 = sub_10063550(*v6, *(float *)(a3 + 20), v63);
    v73 = LODWORD(v83) & 0x7FFFFFFF;
    *(float *)(a3 + 32) = COERCE_FLOAT(LODWORD(v83) & 0x7FFFFFFF) * 0.5;
  }
  sub_1002F7B0(a1, a2, a3);
  if ( *(float *)(a3 + 32) < 0.04363323 )
  {
    v64 = *(_DWORD *)(a3 + 84);
    v65 = *(_DWORD *)(a3 + 88);
    *(float *)(a3 + 32) = 0.0;
    *v40 = v64;
    *(_DWORD *)(a3 + 80) = v65;
    *(_BYTE *)a3 = 0;
  }
}

//----- (10030C80) --------------------------------------------------------
void __cdecl sub_10030C80(int a1, float a2, int a3)
{
  int v3; // ebx@1
  int v4; // esi@1
  int v5; // ebp@1
  int v6; // ecx@1
  int v7; // edx@1
  float v8; // edi@1
  char v9; // al@1
  int v10; // edi@5
  int v11; // eax@7
  bool v12; // c0@7
  double v13; // st7@8
  char v14; // dl@10
  float *v15; // edi@10
  float *v16; // edx@10
  double v17; // st7@12
  double v18; // st7@12
  double v19; // st7@16
  int v20; // edi@20
  int v21; // ebx@20
  int v22; // edx@20
  int v23; // edx@24
  int v24; // ebx@24
  int v25; // edi@27
  double v26; // st7@31
  int v27; // ecx@37
  int *v28; // edi@37
  int v29; // edx@38
  int v30; // edx@39
  float *v31; // ebx@40
  float *v32; // ebp@40
  double v33; // st7@40
  double v34; // st7@41
  float v35; // ST24_4@43
  int v36; // edx@43
  bool v37; // zf@43
  double v38; // st7@43
  double v39; // st7@44
  float v40; // ST24_4@46
  float v41; // ST20_4@46
  float v42; // [sp+20h] [bp-44h]@27
  char v43; // [sp+24h] [bp-40h]@5
  float v44; // [sp+28h] [bp-3Ch]@5
  int v45; // [sp+2Ch] [bp-38h]@5
  float v46; // [sp+30h] [bp-34h]@7
  int v47; // [sp+34h] [bp-30h]@1
  float v48; // [sp+38h] [bp-2Ch]@7
  int v49; // [sp+3Ch] [bp-28h]@1
  int v50; // [sp+44h] [bp-20h]@7
  int v51; // [sp+48h] [bp-1Ch]@37
  int v52; // [sp+4Ch] [bp-18h]@38
  char v53; // [sp+50h] [bp-14h]@22
  int v54; // [sp+58h] [bp-Ch]@26
  int v55; // [sp+5Ch] [bp-8h]@26
  int v56; // [sp+68h] [bp+4h]@5
  float v57; // [sp+6Ch] [bp+8h]@17
  float v58; // [sp+6Ch] [bp+8h]@18
  float v59; // [sp+6Ch] [bp+8h]@27
  float v60; // [sp+6Ch] [bp+8h]@41
  float v61; // [sp+6Ch] [bp+8h]@41
  float v62; // [sp+6Ch] [bp+8h]@42
  float v63; // [sp+6Ch] [bp+8h]@42
  float v64; // [sp+6Ch] [bp+8h]@43
  float v65; // [sp+6Ch] [bp+8h]@44
  float v66; // [sp+6Ch] [bp+8h]@45
  float v67; // [sp+6Ch] [bp+8h]@46

  v3 = a1;
  v4 = a3;
  v5 = 44 * SLOWORD(a2) + a1 + 324;
  *(_BYTE *)(a3 + 8) = 0;
  v6 = 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 332);
  v7 = 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 334);
  LODWORD(v8) = v6 + a1 + 324;
  v49 = v6 + a1 + 324;
  v47 = v7 + a1 + 324;
  v9 = sub_1002F270(v4, v47, v5, v8);
  if ( *(_BYTE *)(v4 + 8) == 3 )
  {
    sub_1002FE20(a1, a2, v4);
    return;
  }
  if ( !v9 )
    goto LABEL_14;
  if ( (*(_BYTE *)(44 * SLOWORD(a2) + a1 + 326) & 6) == 2 )
  {
    v10 = 44 * SLOWORD(a2) + a1 + 348;
    v56 = 44 * SLOWORD(a2) + a1 + 324;
    v45 = v5 + 24;
    sub_10022FC0(v5 + 24, v47 + 36, (float *)&a3, &v44, (float *)&v43);
  }
  else
  {
    v56 = LODWORD(v8);
    v45 = LODWORD(v8) + 24;
    sub_10022FC0(LODWORD(v8) + 24, v5 + 36, (float *)&a3, &v44, (float *)&v43);
    v10 = v45;
  }
  sub_10022FC0(v10, v56 + 36, (float *)&a3, &v46, (float *)&v43);
  LOBYTE(v11) = (*(_WORD *)(v56 + 2) & 0xC00) == 2048;
  v48 = sub_10063550(v44, v46, v11);
  v12 = 0.1308997 < *(float *)(v4 + 32);
  v50 = LODWORD(v48) & 0x7FFFFFFF;
  if ( v12 )
    v13 = 2.6285815;
  else
    v13 = *(float *)(v4 + 44) * 19.61330032348633 / (1.0 - *(float *)(v4 + 44) * *(float *)(v4 + 44));
  v14 = *(_BYTE *)v4;
  *(float *)(v4 + 12) = v13;
  v15 = (float *)(v4 + 48);
  *(float *)(v4 + 48) = sub_1002E280(v4 + 108, *(float *)(v4 + 48), *(float *)(v4 + 16), *(float *)(v4 + 20), v14);
  sub_1002E230(308.66666, 30.866667);
  sub_1002E230(*(float *)(v4 + 36), 0.01712);
  if ( *v16 / *(float *)(v4 + 48) > 0.05235987901687622 )
    *v16 = 0.05235987901687622 * *v15;
  v48 = *v15 * *v15 / *v16;
  v17 = v48;
  *(float *)(v4 + 40) = v48;
  *(float *)(v4 + 24) = v17 * *(float *)(v4 + 44);
  v48 = sub_1002F180(v3, v4, SLOWORD(a2));
  v18 = v48;
  if ( v48 < 200.0 )
  {
    *(float *)(v4 + 24) = v48;
LABEL_14:
    *(_BYTE *)(v4 + 8) = -1;
    return;
  }
  if ( *(float *)(v4 + 24) > v18 )
  {
    *(float *)(v4 + 24) = v48;
    v48 = v18 / *(float *)(v4 + 44);
    v19 = v48;
    *(float *)(v4 + 40) = v48;
    *(float *)(v4 + 12) = *(float *)(v4 + 48) * *(float *)(v4 + 48) / v19;
  }
  v57 = sub_1002F5F0(SLOWORD(a2), v3, v4);
  if ( v57 < (double)*(float *)(v4 + 24) )
  {
    *(float *)(v4 + 24) = v57;
    v58 = v57 / *(float *)(v4 + 44);
    *(float *)(v4 + 40) = v58;
    *(float *)(v4 + 12) = *(float *)(v4 + 48) * *(float *)(v4 + 48) / v58;
  }
  if ( *(float *)(v4 + 40) < 100.0 )
    goto LABEL_14;
  v20 = v49;
  v21 = v47;
  sub_1002E4B0(v4, v47, *(float *)&v5, *(float *)&v49);
  v22 = v21 + 36;
  if ( (*(_BYTE *)(v5 + 2) & 6) != 4 )
    v22 = v20 + 36;
  sub_10023960(v5 + 36, v22, v4 + 60, (int)&v53);
  if ( v53 == 2 )
  {
    if ( (*(_BYTE *)(v5 + 2) & 6) == 4 )
    {
      v23 = *(_DWORD *)(v21 + 36);
      v24 = *(_DWORD *)(v21 + 40);
      v49 = v23;
    }
    else
    {
      v24 = *(_DWORD *)(v20 + 40);
      v49 = *(_DWORD *)(v20 + 36);
    }
  }
  else
  {
    v24 = v55;
    v49 = v54;
  }
  v25 = v45;
  sub_10022FC0(v45, v4 + 60, (float *)&a3, &v42, (float *)&v43);
  v59 = (6.283185482025146 - *(float *)&v50) * 0.5;
  if ( (*(_BYTE *)(v5 + 2) & 6) == 2 )
  {
    if ( ((*(_WORD *)(v56 + 2) >> 10) & 3) == 2 )
      v59 = -v59;
    if ( !sub_10063660(v44, v59, v42) )
      goto LABEL_37;
    v26 = v44;
  }
  else
  {
    if ( ((*(_WORD *)(v56 + 2) >> 10) & 3) == 1 )
      v59 = -v59;
    if ( !sub_10063660(v46, v59, v42) )
      goto LABEL_37;
    v26 = v46;
  }
  v42 = v26;
LABEL_37:
  sub_100236E0(v25, *(float *)(v56 + 32), v42, (int)&v51);
  v27 = v51;
  v28 = (int *)(v4 + 84);
  if ( (*(_BYTE *)(v5 + 2) & 6) == 2 )
  {
    v29 = v52;
    *v28 = v51;
    v27 = v49;
    *(_DWORD *)(v4 + 88) = v29;
    *(_DWORD *)(v4 + 80) = v24;
  }
  else
  {
    *v28 = v49;
    v30 = v52;
    *(_DWORD *)(v4 + 88) = v24;
    *(_DWORD *)(v4 + 80) = v30;
  }
  *(_DWORD *)(v4 + 76) = v27;
  v31 = (float *)(v4 + 20);
  sub_10022FC0(v4 + 60, v4 + 76, (float *)&a3, (float *)&v43, (float *)(v4 + 20));
  v32 = (float *)(v4 + 16);
  sub_10022FC0(v4 + 60, v4 + 84, (float *)&a3, (float *)&v43, (float *)(v4 + 16));
  v33 = *(float *)(v4 + 20);
  if ( *(_BYTE *)v4 == 2 )
  {
    v60 = v33 + 1.570796370506287;
    *v31 = sub_100637E0(v60);
    v61 = *v32 + 1.570796370506287;
    v34 = v61;
  }
  else
  {
    v62 = v33 - 1.570796370506287;
    *v31 = sub_100637E0(v62);
    v63 = *v32 - 1.570796370506287;
    v34 = v63;
  }
  v35 = v34;
  *v32 = sub_100637E0(v35);
  LOBYTE(v36) = *(_BYTE *)v4 == 2;
  *(float *)&a3 = sub_10063550(*v32, *v31, v36);
  v64 = *(float *)&a3 * 0.5;
  LODWORD(v64) &= 0x7FFFFFFFu;
  v37 = *(_BYTE *)v4 == 2;
  v38 = v64;
  *(float *)(v4 + 32) = v64;
  if ( v37 )
  {
    v65 = v38 + 1.570796370506287 + *v32;
    v39 = v65;
  }
  else
  {
    v66 = *v32 - (v38 + 1.570796370506287);
    v39 = v66;
  }
  v40 = v39;
  *(float *)(v4 + 28) = sub_100637E0(v40);
  v67 = *(float *)(v4 + 28) + 3.141592741012573;
  v41 = sub_100637E0(v67);
  sub_100236E0(v4 + 60, *(float *)(v4 + 40), v41, v4 + 52);
}

//----- (10031230) --------------------------------------------------------
void __cdecl sub_10031230(int a1, float a2, int a3)
{
  int v3; // esi@1
  int v4; // edi@1
  int v5; // edx@1
  float v6; // ebp@1
  char v7; // al@1
  double v8; // st7@5
  double v9; // st7@7
  double v10; // st6@7
  double v11; // st5@7
  int v12; // edi@12
  float v13; // ST0C_4@12
  float v14; // [sp+28h] [bp+8h]@7
  float v15; // [sp+28h] [bp+8h]@9
  float v16; // [sp+28h] [bp+8h]@10
  float v17; // [sp+28h] [bp+8h]@12
  float v18; // [sp+28h] [bp+8h]@12
  float v19; // [sp+28h] [bp+8h]@12
  int v20; // [sp+2Ch] [bp+Ch]@7

  v3 = a3;
  v4 = 44 * SLOWORD(a2) + a1 + 324;
  *(_BYTE *)(a3 + 8) = 1;
  v5 = 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 332);
  LODWORD(v6) = v5 + a1 + 324;
  v7 = sub_1002F270(a3, 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 334) + a1 + 324, v4, v6);
  if ( *(_BYTE *)(a3 + 8) == 3 )
  {
    sub_1002FE20(a1, a2, a3);
  }
  else
  {
    if ( !v7 )
      goto LABEL_15;
    *(float *)(a3 + 48) = sub_1002E280(
                            a3 + 108,
                            *(float *)(a3 + 48),
                            *(float *)(a3 + 16),
                            *(float *)(a3 + 20),
                            *(_BYTE *)a3);
    sub_1002E230(308.66666, 30.866667);
    v8 = *(_BYTE *)(a3 + 4) ? 41670.0 : 27780.0;
    *(float *)(a3 + 40) = v8;
    v14 = *(float *)(a3 + 40) * *(float *)(a3 + 44);
    v9 = v14;
    *(float *)(a3 + 24) = v14;
    v10 = *(float *)(a3 + 48) * *(float *)(a3 + 48);
    *(float *)(a3 + 12) = v10 / *(float *)(a3 + 40);
    v20 = *(int *)(LODWORD(v6) + 12);
    v11 = *(float *)(v4 + 12);
    if ( *(float *)&v20 <= v11 )
      v11 = *(float *)&v20;
    v15 = v11;
    if ( v15 >= v9
      || (*(float *)(v3 + 24) = v15,
          v16 = v15 / *(float *)(v3 + 44),
          *(float *)(v3 + 40) = v16,
          *(float *)(v3 + 12) = v10 / v16,
          v16 >= 100.0) )
    {
      sub_1002EEB0(v3);
      v17 = *(float *)(v3 + 16) + 3.141592741012573;
      v12 = v4 + 36;
      v13 = sub_100637E0(v17);
      sub_100236E0(v12, *(float *)(v3 + 24), v13, v3 + 84);
      sub_100236E0(v12, *(float *)(v3 + 24), *(float *)(v3 + 20), v3 + 76);
      v18 = *(float *)(v3 + 28) + 3.141592741012573;
      v19 = sub_100637E0(v18);
      sub_100236E0(v3 + 60, *(float *)(v3 + 40), v19, v3 + 52);
    }
    else
    {
LABEL_15:
      *(_BYTE *)(v3 + 8) = -1;
    }
  }
}

//----- (10031420) --------------------------------------------------------
void __cdecl sub_10031420(int a1, float a2, int a3)
{
  int v3; // ebx@1
  int v4; // esi@1
  float v5; // ST14_4@1
  int v6; // ST0C_4@1
  char v7; // al@1
  double v8; // st7@5
  char v9; // al@7
  float *v10; // ebp@7
  float *v11; // edx@7
  float v12; // ST10_4@14
  int v13; // [sp+24h] [bp+4h]@1
  float v14; // [sp+28h] [bp+8h]@11
  float v15; // [sp+28h] [bp+8h]@12
  float v16; // [sp+28h] [bp+8h]@14
  float v17; // [sp+28h] [bp+8h]@14
  float v18; // [sp+28h] [bp+8h]@14
  int v19; // [sp+2Ch] [bp+Ch]@9
  float v20; // [sp+2Ch] [bp+Ch]@9
  int v21; // [sp+2Ch] [bp+Ch]@10

  v3 = a1;
  v4 = a3;
  *(_BYTE *)(a3 + 8) = 2;
  LODWORD(v5) = 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 332) + a1 + 324;
  v6 = 44 * *(_WORD *)(44 * SLOWORD(a2) + a1 + 334) + a1 + 324;
  v13 = 44 * SLOWORD(a2) + a1 + 324;
  v7 = sub_1002F270(a3, v6, v13, v5);
  if ( *(_BYTE *)(a3 + 8) == 3 )
  {
    sub_1002FE20(v3, a2, a3);
  }
  else
  {
    if ( !v7 )
      goto LABEL_18;
    if ( *(float *)(a3 + 44) <= 0.1308997 )
      v8 = *(float *)(a3 + 44) * 19.61330032348633 / (1.0 - *(float *)(a3 + 44) * *(float *)(a3 + 44));
    else
      v8 = 2.6285815;
    v9 = *(_BYTE *)a3;
    *(float *)(a3 + 12) = v8;
    v10 = (float *)(a3 + 48);
    *(float *)(a3 + 48) = sub_1002E280(a3 + 108, *(float *)(a3 + 48), *(float *)(a3 + 16), *(float *)(a3 + 20), v9);
    sub_1002E230(308.66666, 30.866667);
    sub_1002E230(*(float *)(a3 + 36), 0.01712);
    if ( *v11 / *(float *)(a3 + 48) > 0.05235987901687622 )
      *v11 = 0.05235987901687622 * *v10;
    *(float *)&v19 = *v10 * *v10 / *v11;
    *(float *)(v4 + 40) = *(float *)&v19;
    *(float *)(v4 + 24) = *(float *)&v19 * *(float *)(v4 + 44);
    v20 = sub_1002F180(v3, v4, SLOWORD(a2));
    if ( v20 < (double)*(float *)(v4 + 24) )
    {
      *(float *)(v4 + 24) = v20;
      *(float *)&v21 = v20 / *(float *)(v4 + 44);
      *(float *)(v4 + 40) = *(float *)&v21;
      *(float *)(v4 + 12) = *v10 * *v10 / *(float *)&v21;
    }
    v14 = sub_1002F5F0(SLOWORD(a2), v3, v4);
    if ( v14 < (double)*(float *)(v4 + 24) )
    {
      *(float *)(v4 + 24) = v14;
      v15 = v14 / *(float *)(v4 + 44);
      *(float *)(v4 + 40) = v15;
      *(float *)(v4 + 12) = *v10 * *v10 / v15;
    }
    if ( *(float *)(v4 + 40) >= 100.0 )
    {
      sub_1002EEB0(v4);
      v16 = *(float *)(v4 + 16) + 3.141592741012573;
      v12 = sub_100637E0(v16);
      sub_100236E0(v13 + 36, *(float *)(v4 + 24), v12, v4 + 84);
      sub_100236E0(v13 + 36, *(float *)(v4 + 24), *(float *)(v4 + 20), v4 + 76);
      v17 = *(float *)(v4 + 28) + 3.141592741012573;
      v18 = sub_100637E0(v17);
      sub_100236E0(v4 + 60, *(float *)(v4 + 40), v18, v4 + 52);
    }
    else
    {
LABEL_18:
      *(_BYTE *)(v4 + 8) = -1;
    }
  }
}

//----- (100316A0) --------------------------------------------------------
void __cdecl sub_100316A0(float a1, float a2, float a3, __int16 *a4)
{
  char v4; // bl@1
  float v5; // ebp@1
  int v6; // esi@1
  int v7; // edi@1
  __int16 *v8; // ebp@10
  int v9; // eax@10
  int v10; // edx@11
  int v11; // eax@11
  int v12; // edx@12
  double v13; // st7@15
  float v14; // ST40_4@15
  int v15; // ecx@15
  __int16 *v16; // ebx@15
  int v17; // edx@15
  __int16 v18; // ST2C_2@15
  int v19; // eax@16
  int v20; // edx@16
  int v21; // ecx@16
  int v22; // edx@16
  double v23; // st7@18
  __int16 *v24; // ebx@18
  int *v25; // ebp@18
  float v26; // ST58_4@22
  int v27; // edx@22
  int v28; // eax@22
  __int16 v29; // ST30_2@22
  float v30; // eax@22
  int v31; // eax@22
  __int16 v32; // cx@23
  int v33; // ST60_4@23
  __int16 v34; // cx@25
  int v35; // ST44_4@28
  __int16 *v36; // esi@28
  float v37; // [sp+1Ch] [bp-48h]@18
  float v38; // [sp+20h] [bp-44h]@3
  int v39; // [sp+24h] [bp-40h]@0
  int v40; // [sp+28h] [bp-3Ch]@22
  int v41; // [sp+2Ch] [bp-38h]@15
  float v42; // [sp+30h] [bp-34h]@1
  char v43; // [sp+34h] [bp-30h]@22
  unsigned __int8 v44; // [sp+38h] [bp-2Ch]@3
  int v45; // [sp+3Ah] [bp-2Ah]@11
  int v46; // [sp+44h] [bp-20h]@11
  int v47; // [sp+50h] [bp-14h]@16
  int v48; // [sp+54h] [bp-10h]@16
  float v49; // [sp+58h] [bp-Ch]@16
  int v50; // [sp+5Ch] [bp-8h]@11
  int v51; // [sp+60h] [bp-4h]@11

  v4 = LOBYTE(a3);
  v5 = a1;
  v6 = LODWORD(a2);
  LODWORD(v42) = 180 * LOBYTE(a3) + LODWORD(a1);
  v7 = LODWORD(v42) + 608;
  if ( *(_BYTE *)(LODWORD(a2) + 72) != 1 )
    *(_BYTE *)(LODWORD(a2) + 74) = 0;
  sub_10024C30(v7, v4, &v44);
  v38 = *(float *)(v7 + 92);
  if ( *(float *)(v7 + 12) == 6.283185005187988 )
    a2 = v38;
  else
    a2 = *(float *)(v7 + 12);
  if ( v4 == *(_BYTE *)(LODWORD(v5) + 241) && *(_BYTE *)(LODWORD(v5) + 237) )
  {
    if ( *(_BYTE *)(v6 + 74) != 3 || *(_BYTE *)(v7 + 4) & 0x20 )
    {
      v10 = *(_DWORD *)(v7 + 112);
      *(float *)&v46 = 0.0;
      v8 = a4;
      v11 = *(_DWORD *)(v7 + 116);
      LOWORD(v45) = v45 & 0xFC99 | 0x90;
      v50 = v10;
      LOWORD(v10) = *a4;
      v51 = v11;
      *v8 = sub_10025DE0(v10, &v44, v6);
    }
    else
    {
      v8 = a4;
      v9 = 44 * *a4;
      *(_DWORD *)(v7 + 112) = *(_DWORD *)(v9 + v6 + 360);
      *(_DWORD *)(v7 + 116) = *(_DWORD *)(v9 + v6 + 364);
    }
    sub_10024C30(v7, v4, &v44);
    v12 = 44 * *v8;
    LOWORD(v45) = v45 & 0xFC9D | 0x94;
    sub_10022FC0(v12 + v6 + 360, v7 + 120, (float *)&v46, &a1, &a1);
    *v8 = sub_10025DE0(*v8, &v44, v6);
  }
  else if ( *(_BYTE *)(v6 + 74) == 1 )
  {
    LOWORD(v45) = v45 & 0xFC9D | 0x94;
    sub_10022FC0(v7 + 36, v7 + 120, (float *)&v46, &a1, &a1);
    a3 = a2 - v38;
    a3 = sub_100637E0(a3);
    LODWORD(a3) &= 0x7FFFFFFFu;
    if ( a3 < 0.08726646 )
      LOWORD(v45) = v45 | 0x2000;
    v35 = v6;
    v36 = a4;
    *v36 = sub_10025DE0(*a4, &v44, v35);
  }
  else if ( *(_BYTE *)(v6 + 74) == 2 )
  {
    v19 = *(_DWORD *)(v6 + 92);
    v20 = *(_DWORD *)(v6 + 88);
    v49 = *(float *)(v6 + 76);
    v21 = *(_DWORD *)(v6 + 96);
    v48 = v19;
    *(float *)&v41 = 1.5707964;
    v47 = v20;
    v22 = *(_DWORD *)(v6 + 100);
    v50 = v21;
    v51 = v22;
    LOBYTE(v39) = (v45 & 0xC00) == 2048;
    if ( !(_BYTE)v39 )
      *(float *)&v41 = -1.5707964;
    v37 = sub_10063550(a2, v38, v39);
    v23 = *(float *)(v6 + 80);
    v24 = a4;
    v25 = (int *)(v6 + 80);
    LOWORD(v45) = v45 & 0xEFFF | 0x2000;
    if ( 6.283185005187988 != v23
      && *(float *)(v6 + 84) != 6.283185005187988
      && LOBYTE(a3)
      && *(_BYTE *)(LODWORD(v42) + 491) == 22 )
    {
      sub_10022FC0((int)&v47, v6 + 80, (float *)&v40, (float *)&v43, &a1);
      *(float *)&v41 = *(float *)&v41 + a1;
      a1 = sub_100637E0(*(float *)&v41);
      v26 = sub_10063550(a2, a1, v39);
      v27 = *v25;
      v44 = LOBYTE(a3) - 1;
      *(float *)&v41 = v26 * v49;
      v28 = *(_DWORD *)(v6 + 84);
      LOWORD(v45) = v45 & 0xFE1B | 0x212;
      v50 = v27;
      v51 = v28;
      v29 = *v24;
      v46 = v41 & 0x7FFFFFFF;
      *v24 = sub_10025DE0(v29, &v44, v6);
      v30 = v42;
      *(_DWORD *)(LODWORD(v42) + 548) = *v25;
      *(_DWORD *)(LODWORD(v30) + 552) = *(_DWORD *)(v6 + 84);
      v44 = LOBYTE(a3);
      v37 = sub_10063550(a1, v38, v39);
      v31 = *(_DWORD *)(v6 + 100);
      v50 = *(_DWORD *)(v6 + 96);
      v51 = v31;
    }
    LOWORD(v45) = v45 & 0xFE1B | 0x212;
    v32 = *v24;
    v42 = v37 * v49;
    v46 = LODWORD(v42) & 0x7FFFFFFF;
    *v24 = sub_10025DE0(v32, &v44, v6);
    sub_10022FC0((int)&v50, v7 + 120, (float *)&v40, &a1, &a2);
    v42 = a2 - v38;
    *(float *)&v33 = sub_100637E0(v42);
    if ( COERCE_FLOAT(v33 & 0x7FFFFFFF) < 0.017453292 && *(float *)&v40 > 25.0 )
    {
      sub_10024C30(v7, SLOBYTE(a3), &v44);
      v46 = v40;
      v34 = *v24;
      LOWORD(v45) = (v45 & 0xFC9D | 0x94) & 0xF3FF;
      *v24 = sub_10025DE0(v34, &v44, v6);
    }
  }
  else
  {
    v13 = *(float *)(v7 + 92);
    v41 = v7 + 120;
    v42 = v13 + 3.141592502593994;
    v14 = sub_100637E0(v42);
    sub_100236E0(v7 + 120, *(float *)(v7 + 88), v14, v7 + 112);
    *(float *)&v46 = 0.0;
    v15 = *(_DWORD *)(v7 + 112);
    v16 = a4;
    v17 = *(_DWORD *)(v7 + 116);
    LOWORD(v45) = v45 & 0xFC99 | 0x90;
    v50 = v15;
    v18 = *a4;
    v51 = v17;
    *v16 = sub_10025DE0(v18, &v44, v6);
    sub_10024C30(v7, SLOBYTE(a3), &v44);
    LOWORD(v45) = v45 & 0xFC9D | 0x94;
    sub_10022FC0(v7 + 112, v41, (float *)&v46, &a1, &a1);
    *v16 = sub_10025DE0(*v16, &v44, v6);
  }
}

//----- (10031C60) --------------------------------------------------------
bool __usercall sub_10031C60@<al>(char a1@<bl>, int a2, int a3, float a4, float a5)
{
  float v5; // ST14_4@3
  float v6; // ST10_4@3
  int v7; // edx@3
  float v8; // ST0C_4@3
  float v10; // [sp+10h] [bp-10h]@1
  float v11; // [sp+14h] [bp-Ch]@3
  char v12; // [sp+18h] [bp-8h]@3
  char v13; // [sp+1Ch] [bp-4h]@3

  v10 = 1.5707964;
  if ( a1 == 1 )
    v10 = -1.5707964;
  sub_10022FC0(a2, a3, (float *)&v13, (float *)&v12, &v11);
  v5 = v11 + v10;
  v6 = sub_100637E0(v5);
  LOBYTE(v7) = a1 == 2;
  v8 = sub_10063550(a4, a5, v7);
  return sub_10063660(a4, v8, v6);
}

//----- (10031CF0) --------------------------------------------------------
void __cdecl sub_10031CF0(int a1, int a2, int a3)
{
  int v3; // esi@1
  _WORD *v4; // edi@1
  char *v5; // ecx@2
  unsigned __int8 v6; // al@2
  float v7; // edx@3
  int v8; // eax@3
  int v9; // ebx@3
  char v10; // al@3
  int v11; // edx@4
  char v12; // al@7
  char v13; // cl@8
  bool v14; // zf@12
  unsigned __int8 i; // bl@19
  int v16; // edi@21
  char v17; // al@28
  double v18; // st7@44
  int v19; // ebp@50
  double v20; // st7@57
  int v21; // eax@58
  float v22; // ST40_4@59
  int v23; // ST3C_4@59
  float v24; // ST38_4@59
  int v25; // eax@60
  __int16 v26; // cx@60
  int v27; // eax@60
  double v28; // st7@61
  float v29; // ST4C_4@63
  double v30; // st7@63
  int v31; // ecx@63
  int v32; // eax@63
  int v33; // ebp@63
  double v34; // st7@63
  __int16 v35; // fps@63
  bool v36; // c0@63
  char v37; // c2@63
  bool v38; // c3@63
  int v39; // eax@63
  float v40; // ST4C_4@65
  float v41; // ST48_4@65
  int v42; // eax@68
  float v43; // ST48_4@69
  char v44; // bl@73
  int v45; // ecx@84
  char v46; // dl@84
  int v47; // ebx@84
  double v48; // st7@84
  int v49; // eax@84
  double v50; // st6@85
  double v51; // st7@85
  int v52; // edi@85
  int v53; // edi@85
  float v54; // ST48_4@86
  float v55; // ST48_4@91
  int v56; // eax@93
  int v57; // ebp@96
  bool v58; // al@97
  int v59; // ecx@104
  int v60; // eax@104
  int v61; // eax@104
  int v62; // ecx@106
  int v63; // edx@106
  int v64; // [sp+14h] [bp-74h]@85
  char v65; // [sp+29h] [bp-5Fh]@1
  char v66; // [sp+2Ah] [bp-5Eh]@1
  char v67; // [sp+2Bh] [bp-5Dh]@1
  float v68; // [sp+2Ch] [bp-5Ch]@14
  int v69; // [sp+30h] [bp-58h]@21
  float v70; // [sp+34h] [bp-54h]@50
  float v71; // [sp+38h] [bp-50h]@21
  float v72; // [sp+3Ch] [bp-4Ch]@14
  int v73; // [sp+40h] [bp-48h]@12
  float v74; // [sp+44h] [bp-44h]@63
  float v75; // [sp+48h] [bp-40h]@3
  float v76; // [sp+4Ch] [bp-3Ch]@1
  float v77; // [sp+50h] [bp-38h]@60
  float v78; // [sp+54h] [bp-34h]@85
  float v79; // [sp+58h] [bp-30h]@60
  float v80; // [sp+5Ch] [bp-2Ch]@12
  float v81; // [sp+60h] [bp-28h]@1
  int v82[2]; // [sp+64h] [bp-24h]@12
  int v83; // [sp+6Ch] [bp-1Ch]@3
  int v84; // [sp+70h] [bp-18h]@59
  int v85; // [sp+74h] [bp-14h]@64
  int v86; // [sp+78h] [bp-10h]@59
  int v87; // [sp+7Ch] [bp-Ch]@64
  char v88; // [sp+80h] [bp-8h]@70
  unsigned __int8 v89; // [sp+90h] [bp+8h]@2
  float v90; // [sp+90h] [bp+8h]@21
  char v91; // [sp+90h] [bp+8h]@38
  float v92; // [sp+90h] [bp+8h]@59
  float v93; // [sp+90h] [bp+8h]@61
  float v94; // [sp+90h] [bp+8h]@62
  float v95; // [sp+90h] [bp+8h]@63
  float v96; // [sp+90h] [bp+8h]@63
  float v97; // [sp+90h] [bp+8h]@63
  float v98; // [sp+90h] [bp+8h]@63
  float v99; // [sp+90h] [bp+8h]@70
  float v100; // [sp+90h] [bp+8h]@70
  float v101; // [sp+90h] [bp+8h]@71
  float v102; // [sp+90h] [bp+8h]@71
  char v103; // [sp+90h] [bp+8h]@82
  float v104; // [sp+90h] [bp+8h]@85
  float v105; // [sp+90h] [bp+8h]@85
  float v106; // [sp+90h] [bp+8h]@85
  float v107; // [sp+90h] [bp+8h]@86
  float v108; // [sp+90h] [bp+8h]@88
  float v109; // [sp+90h] [bp+8h]@88
  float v110; // [sp+90h] [bp+8h]@88
  float v111; // [sp+90h] [bp+8h]@88
  float v112; // [sp+90h] [bp+8h]@90
  float v113; // [sp+90h] [bp+8h]@90
  float v114; // [sp+90h] [bp+8h]@91
  float v115; // [sp+90h] [bp+8h]@106
  float v116; // [sp+90h] [bp+8h]@106

  v3 = a2;
  v76 = 9.9999996e24;
  v81 = 9.9999996e24;
  v4 = (_WORD *)a3;
  *(_BYTE *)(a2 + 72) = 0;
  v67 = 0;
  v65 = 0;
  v66 = 0;
  if ( *v4 == -1 )
    return;
  v5 = (char *)(44 * *v4 + a2 + 324);
  a3 = (int)v5;
  v6 = *v5;
  v89 = *v5;
  if ( (unsigned __int8)*v5 + 1 >= *(_BYTE *)(a1 + 4) )
    return;
  LODWORD(v7) = v6;
  v8 = 180 * v6;
  v9 = v8 + a1;
  v10 = *(_BYTE *)(v8 + a1 + 851);
  v75 = v7;
  v83 = v9;
  if ( v10 == 3 )
  {
    v11 = v9 + 788;
  }
  else
  {
    if ( *(_BYTE *)(v9 + 1031) != 3 )
      return;
    if ( v10 != 22 )
      return;
    v12 = *(_BYTE *)(v9 + 1032);
    if ( !v12 )
      return;
    v13 = *(_BYTE *)(v9 + 852);
    if ( v13 != v12 )
    {
      if ( v13 )
        return;
    }
    if ( LODWORD(v7) + 2 == *(_BYTE *)(a1 + 241) )
      return;
    v5 = (char *)a3;
    v11 = v9 + 968;
  }
  v14 = *(_BYTE *)(v11 + 64) == 2;
  v80 = 1.5707964;
  v73 = v11;
  LOBYTE(v82[0]) = v14;
  if ( !v14 )
    v80 = -1.5707964;
  v68 = *(float *)(v11 + 92);
  v72 = sub_10029670(v3, *(float *)&v5);
  if ( 9.9999996e24 == v72 )
    v72 = v68;
  if ( LODWORD(v75) + 1 != *(_BYTE *)(a1 + 241) || *(_BYTE *)(v9 + 851) != 3 || !*(_BYTE *)(a1 + 237) )
  {
    v17 = *(_BYTE *)(v9 + 671);
    if ( v17 == 1
      || v17 == 2
      || v17 == 3
      || v17 == 5
      || v17 == 6
      || v17 == 7
      || v17 == 8
      || v17 == 9
      || v17 == 17
      || v17 == 18
      || (v91 = 0, v17 == 19) )
    {
      v91 = 1;
    }
    if ( *(_BYTE *)(v9 + 1031) == 3 && *(_BYTE *)(v9 + 851) == 22 )
    {
      if ( v91 )
      {
        if ( (*(_BYTE *)(44 * *v4 + v3 + 326) & 6) == 4 )
        {
          v75 = sub_10063550(v72, v68, v82[0]);
          v18 = v75;
          LODWORD(v75) &= 0x7FFFFFFFu;
          if ( v75 >= 2.0943952 )
          {
            v75 = v18;
            LODWORD(v75) &= 0x7FFFFFFFu;
            if ( v75 <= 6.1086526 )
            {
              v67 = 1;
              v65 = 1;
            }
          }
        }
      }
    }
    if ( *(_BYTE *)(v9 + 1031) == 3 && *(_BYTE *)(v9 + 851) == 22 && !v65 )
      return;
    v75 = sub_10063550(v72, v68, v82[0]);
    v19 = v73 + 120;
    sub_10022FC0(44 * *v4 + v3 + 360, v73 + 120, &v81, &v70, &v76);
    *(float *)v82 = v76 - v68;
    *(float *)v82 = sub_100637E0(*(float *)v82);
    v14 = *(_BYTE *)(v9 + 851) == 3;
    v82[0] &= 0x7FFFFFFFu;
    if ( v14
      && v91
      && COERCE_FLOAT(LODWORD(v75) & 0x7FFFFFFF) >= 2.0943952
      && COERCE_FLOAT(LODWORD(v75) & 0x7FFFFFFF) <= 6.1086526
      && *(_BYTE *)(v9 + 852) )
    {
      v65 = 1;
LABEL_72:
      v74 = 9.9999996e24;
      goto LABEL_73;
    }
    if ( v65 )
      goto LABEL_72;
    v20 = v68;
    if ( v68 == v72 )
      goto LABEL_72;
    v21 = 44 * *v4 + v3;
    if ( (*(_BYTE *)(v21 + 326) & 6) == 2 )
    {
      v22 = *(float *)(v21 + 356);
      v23 = v21 + 348;
      v92 = v20 + 3.141592502593994;
      v24 = sub_100637E0(v92);
      if ( sub_10024330(v19, v24, v23, v22, 0, (int)&v84, (int)&v86) )
      {
        sub_10022FC0(
          44 * *v4 + v3 + 348,
          44 * *(_WORD *)(44 * *v4 + v3 + 334) + v3 + 360,
          (float *)&v69,
          (float *)&a3,
          &v70);
        sub_10022FC0(44 * *v4 + v3 + 348, (int)&v84, (float *)&v69, &v77, &v70);
        sub_10022FC0(44 * *v4 + v3 + 348, (int)&v86, (float *)&v69, &v79, &v70);
        sub_10022FC0(44 * *v4 + v3 + 348, 44 * *v4 + v3 + 360, (float *)&v69, &v71, &v70);
        v25 = 44 * *v4;
        v26 = *(_WORD *)(v25 + v3 + 326);
        v27 = v3 + v25;
        if ( (v26 & 0xC00) == 2048 )
        {
          v93 = 400.0 / *(float *)(v27 + 356) + v71;
          v28 = v93;
        }
        else
        {
          v94 = v71 - 400.0 / *(float *)(v27 + 356);
          v28 = v94;
        }
        v29 = v28;
        v70 = sub_100637E0(v29);
        v95 = v77 - v71;
        v30 = sub_100637E0(v95);
        v31 = 44 * *v4;
        v96 = v30 * *(float *)(44 * *v4 + v3 + 356);
        v32 = LODWORD(v96) & 0x7FFFFFFF;
        v97 = v79 - v71;
        v74 = *(float *)&v32;
        v33 = v31 + v3;
        v98 = sub_100637E0(v97) * *(float *)(v31 + v3 + 356);
        v69 = LODWORD(v98) & 0x7FFFFFFF;
        v34 = COERCE_FLOAT(LODWORD(v98) & 0x7FFFFFFF);
        v36 = v74 < v34;
        v37 = 0;
        v38 = v74 == v34;
        BYTE1(v39) = HIBYTE(v35);
        if ( !v36 && !v38 )
        {
          v39 = v86;
          v74 = COERCE_FLOAT(LODWORD(v98) & 0x7FFFFFFF);
          v77 = v79;
          v84 = v86;
          v85 = v87;
        }
        LOBYTE(v39) = (*(_WORD *)(v33 + 326) & 0xC00) == 2048;
        v40 = v77;
        v41 = sub_10063550(*(float *)&a3, v70, v39);
        if ( !sub_10063660(*(float *)&a3, v41, v40) )
          goto LABEL_72;
        goto LABEL_73;
      }
      v20 = v68;
    }
    v42 = 44 * *v4 + v3;
    if ( (*(_BYTE *)(v42 + 326) & 6) != 4 )
      goto LABEL_72;
    v43 = v20;
    if ( !sub_10023090(v42 + 360, v72, v73 + 112, v43, (int)&v84) )
      goto LABEL_72;
    sub_10018B00((float *)(44 * *v4 + v3 + 360), (float *)&v84, &v74, (int)&v88);
    sub_10022FC0((int)&v84, v9 + 908, (float *)&v69, (float *)&a3, &v71);
    sub_10022FC0(44 * *(_WORD *)(44 * *v4 + v3 + 334) + v3 + 360, (int)&v84, (float *)&v69, (float *)&a3, &v70);
    v99 = v71 - v68;
    v100 = sub_100637E0(v99);
    if ( COERCE_FLOAT(LODWORD(v100) & 0x7FFFFFFF) > 1.570796370506287 )
      goto LABEL_72;
    v101 = *(float *)&a3 - v72;
    v102 = sub_100637E0(v101);
    if ( COERCE_FLOAT(LODWORD(v102) & 0x7FFFFFFF) > 1.570796370506287 )
      goto LABEL_72;
LABEL_73:
    v44 = *(_BYTE *)(v9 + 671);
    if ( v44 == 1
      || v44 == 4
      || v44 == 7
      || v44 == 10
      || v44 == 15
      || v44 == 18
      || v44 == 19
      || v44 == 20
      || v44 == 21
      || (v103 = 1, v44 == 22) )
    {
      v103 = 0;
    }
    v45 = v73;
    *(_BYTE *)(v3 + 72) = 1;
    v46 = *(_BYTE *)v45;
    *(float *)(v3 + 80) = 6.283185;
    *(float *)(v3 + 84) = 6.283185;
    *(float *)(v3 + 88) = 6.283185;
    *(_BYTE *)(v3 + 73) = v46;
    *(float *)(v3 + 92) = 6.283185;
    *(_BYTE *)(v3 + 74) = 0;
    *(float *)(v3 + 96) = 6.283185;
    v47 = v45 + 36;
    *(float *)(v3 + 100) = 6.283185;
    *(float *)(v3 + 76) = 9.9999996e24;
    v48 = v72;
    v49 = 44 * *v4;
    *(_DWORD *)v47 = *(_DWORD *)(v49 + v3 + 360);
    *(_DWORD *)(v47 + 4) = *(_DWORD *)(v49 + v3 + 364);
    *(float *)(v45 + 12) = v48;
    if ( v65 )
    {
      v50 = v75 * 0.5;
      *(_BYTE *)(v3 + 74) = 2;
      v104 = v48 + v50;
      v51 = sub_100637E0(v104);
      v52 = v73;
      v76 = v51;
      sub_10023090(v73 + 112, v68, v47, v76, (int)&v84);
      v53 = v52 + 120;
      sub_10022FC0((int)&v84, v53, &v78, &v71, &v70);
      v105 = v70 - v68;
      v106 = sub_100637E0(v105);
      v64 = v3 + 96;
      if ( COERCE_FLOAT(LODWORD(v106) & 0x7FFFFFFF) >= 1.570796370506287 )
      {
        v66 = 1;
        sub_100236E0(v53, v78, v68, v64);
      }
      else
      {
        v107 = v68 - 3.141592502593994;
        v54 = sub_100637E0(v107);
        sub_100236E0(v53, v78, v54, v64);
      }
      sub_10022FC0(v47, v3 + 96, (float *)&v69, &v71, &v70);
      *(double *)v82 = *(float *)&v69;
      v108 = v75 - 3.141592741012573;
      v109 = cos(sub_100637E0(v108) * 0.5);
      v110 = *(float *)&v69 / (v109 + v109);
      LODWORD(v111) = LODWORD(v110) & 0x7FFFFFFF;
      *(float *)(v3 + 76) = v111;
      if ( v111 >= 926.0 && v111 <= 9260.0 )
      {
        v112 = v76 - v71;
        v113 = sub_100637E0(v112);
        if ( COERCE_FLOAT(LODWORD(v113) & 0x7FFFFFFF) < 1.570796370506287 )
        {
          v114 = v68 + v80;
          v55 = sub_100637E0(v114);
          sub_100236E0(v3 + 96, *(float *)(v3 + 76), v55, v3 + 88);
          if ( !v66 )
            goto LABEL_94;
          if ( v78 < 216.6000061035156 )
          {
            v56 = v73 + 120;
            *(_DWORD *)(v3 + 96) = *(_DWORD *)(v73 + 120);
            *(_DWORD *)(v3 + 100) = *(_DWORD *)(v56 + 4);
LABEL_94:
            if ( v67 )
            {
              if ( sub_10024330(v83 + 940, *(float *)(v83 + 936), v3 + 88, *(float *)(v3 + 76), 0, (int)&v84, (int)&v86)
                && ((v57 = v73, sub_10031C60(*(_BYTE *)(v73 + 64), v3 + 88, (int)&v84, v72, v68)) ? (v58 = v65) : (v84 = v86, v85 = v87, v58 = sub_10031C60(*(_BYTE *)(v57 + 64), v3 + 88, (int)&v86, v72, v68)),
                    v58) )
              {
                sub_10022FC0(v3 + 88, (int)&v84, (float *)&v69, (float *)&a3, &v71);
                sub_100236E0(v3 + 88, *(float *)(v3 + 76), *(float *)&a3, v3 + 80);
              }
              else
              {
                *(_BYTE *)(v3 + 72) = 0;
              }
            }
            return;
          }
        }
      }
    }
    else
    {
      if ( v74 < 400.0 && v103 )
      {
        v59 = v84;
        *(_BYTE *)(v3 + 74) = 1;
        v60 = 44 * *v4;
        *(_DWORD *)(v60 + v3 + 360) = v59;
        *(_DWORD *)(v60 + v3 + 364) = v85;
        *(_DWORD *)v47 = v84;
        *(_DWORD *)(v47 + 4) = v85;
        v61 = 44 * *v4 + v3;
        if ( (*(_BYTE *)(v61 + 326) & 6) == 2 )
        {
          sub_10022FC0(v61 + 348, v61 + 360, (float *)&v69, &v70, (float *)&a3);
          sub_10022FC0(
            v3 + 44 * *v4 + 348,
            44 * *(_WORD *)(v3 + 44 * *v4 + 334) + v3 + 360,
            (float *)&v69,
            &v71,
            (float *)&a3);
          LOBYTE(v62) = (*(_WORD *)(44 * *v4 + v3 + 326) & 0xC00) == 2048;
          v115 = sub_10063550(v71, v70, v62);
          v63 = 44 * *v4;
          v116 = *(float *)(v63 + v3 + 356) * v115;
          *(float *)(v63 + v3 + 336) = COERCE_FLOAT(LODWORD(v116) & 0x7FFFFFFF);
        }
        else
        {
          sub_10022FC0(
            44 * *(_WORD *)(v61 + 334) + v3 + 360,
            v61 + 360,
            (float *)(v61 + 336),
            (float *)&a3,
            (float *)&a3);
        }
        return;
      }
      if ( *(float *)v82 < 0.017453292 && *(float *)v82 * v81 < 926.0 && v103 )
      {
        *(_BYTE *)(v3 + 74) = 1;
        return;
      }
    }
    *(_BYTE *)(v3 + 74) = 0;
    return;
  }
  for ( i = v89; i != -1; --i )
  {
    if ( i < *(_BYTE *)(a1 + 242) )
      break;
    v16 = 180 * i + a1;
    sub_10022FC0(v16 + 728, v73 + 120, (float *)&v69, &v71, (float *)&a3);
    v90 = *(float *)&a3 - v68;
    v80 = sub_100637E0(v90);
    a3 = LODWORD(v80) & 0x7FFFFFFF;
    if ( COERCE_FLOAT(LODWORD(v80) & 0x7FFFFFFF) > 0.017453292 || *(float *)&v69 > 55560.0 )
      break;
    if ( *(_BYTE *)(v16 + 612) & 0x10 )
    {
      if ( i == -1 )
        break;
      *(_BYTE *)(v3 + 74) = 3;
      *(_BYTE *)(v3 + 72) = 1;
      return;
    }
  }
  *(_BYTE *)(v3 + 74) = 0;
  *(_BYTE *)(v3 + 72) = 1;
}

//----- (10032A70) --------------------------------------------------------
double __usercall sub_10032A70@<st0>(int a1@<edi>, int a2@<esi>, int a3, float a4)
{
  double v4; // st7@2
  double v5; // st7@4
  float v6; // ST14_4@7
  double v7; // st7@7
  float v8; // ST1C_4@9
  char v10; // [sp+14h] [bp-8h]@5
  float v11; // [sp+18h] [bp-4h]@4
  int v12; // [sp+20h] [bp+4h]@4
  int v13; // [sp+20h] [bp+4h]@9
  float v14; // [sp+24h] [bp+8h]@9
  float v15; // [sp+24h] [bp+8h]@9

  if ( 9.9999996e24 == *(float *)(a2 + 16) )
    v4 = 123.46667;
  else
    v4 = *(float *)(a2 + 16);
  v11 = v4;
  v12 = *(int *)(a3 + 92);
  v5 = *(float *)(a1 + 12);
  if ( *(float *)(a1 + 8) >= 0.0 )
  {
    v10 = 2;
  }
  else
  {
    v10 = 1;
    v5 = -v5;
  }
  v6 = v5;
  v7 = v6;
  if ( LOBYTE(a4) )
    *(float *)&v12 = *(float *)&v12 - v7;
  v14 = v7 + *(float *)&v12;
  v15 = sub_1002E280(a2 + 40, v11, *(float *)&v12, v14, v10);
  v8 = sub_10029590(v15, *(float *)(a2 + 12));
  *(float *)&v13 = tan(*(float *)(a1 + 12) * 0.5);
  return (float)(*(float *)&v13 * v8 + v15 * 5.0);
}

//----- (10032B60) --------------------------------------------------------
char __cdecl sub_10032B60(int a1, unsigned __int8 a2, int a3, int a4, __int16 *a5, int a6, char a7)
{
  int v7; // esi@1
  char *v8; // ebp@1
  char v9; // al@4
  char v10; // al@14
  float v11; // ST34_4@18
  int v12; // eax@19
  __int16 v13; // ax@20
  double v14; // st7@27
  double v15; // st7@29
  __int16 v16; // ST0C_2@36
  int v17; // edx@38
  float v18; // ST30_4@43
  int v19; // eax@44
  char v21; // [sp+1Fh] [bp-79h]@9
  float v22; // [sp+20h] [bp-78h]@21
  float v23; // [sp+20h] [bp-78h]@39
  float v24; // [sp+24h] [bp-74h]@24
  float v25; // [sp+24h] [bp-74h]@29
  float v26; // [sp+24h] [bp-74h]@31
  float v27; // [sp+2Ch] [bp-6Ch]@20
  float v28; // [sp+30h] [bp-68h]@23
  float v29; // [sp+34h] [bp-64h]@20
  float v30; // [sp+38h] [bp-60h]@18
  int v31; // [sp+3Ch] [bp-5Ch]@4
  char v32; // [sp+40h] [bp-58h]@36
  char v33; // [sp+44h] [bp-54h]@36
  float v34; // [sp+48h] [bp-50h]@18
  float v35; // [sp+4Ch] [bp-4Ch]@18
  double v36; // [sp+50h] [bp-48h]@29
  char v37; // [sp+58h] [bp-40h]@21
  float v38; // [sp+68h] [bp-30h]@22
  char v39; // [sp+6Ch] [bp-2Ch]@20
  int v40; // [sp+6Eh] [bp-2Ah]@20
  float v41; // [sp+78h] [bp-20h]@20
  int v42; // [sp+90h] [bp-8h]@35
  int v43; // [sp+94h] [bp-4h]@38

  v7 = 180 * a2 + a1;
  v8 = (char *)(v7 + 608);
  if ( *a5 == -1 || 500 - *(_WORD *)(a4 + 30) < 5 )
  {
    *(_BYTE *)(v7 + 668) = 0;
    return 0;
  }
  if ( *(_BYTE *)a6
    && ((v9 = *v8, v31 = *(int *)(a6 + 4), sub_10029F80(v9, 0.0) == v31)
     || *(float *)&v31 == 2.3463969e-38 && !a2
     || (unsigned __int8)sub_1002A020(v31) && a2 == 100) )
  {
    v21 = 1;
  }
  else
  {
    v21 = 0;
    if ( !a2 || !*(_BYTE *)(v7 + 488) || !*(_BYTE *)(a4 + 156) )
      goto LABEL_15;
  }
  if ( sub_1003A0D0(a2, *(float *)(a6 + 8), a4 + 156) )
  {
LABEL_15:
    v10 = 0;
    goto LABEL_16;
  }
  v10 = 1;
LABEL_16:
  *(_BYTE *)(v7 + 668) = v10;
  if ( v10 )
  {
    if ( v21 )
    {
      sub_10022FC0(v7 + 720, v7 + 728, &v35, &v34, &v30);
      *(float *)&v31 = v34 + 1.570796370506287;
      v11 = sub_100637E0(*(float *)&v31);
      sub_100236E0(v7 + 720, *(float *)(a6 + 8), v11, v7 + 736);
    }
    else
    {
      v12 = 44 * *a5;
      *(_DWORD *)(v7 + 736) = *(_DWORD *)(v12 + a4 + 360);
      *(_DWORD *)(v7 + 740) = *(_DWORD *)(v12 + a4 + 364);
    }
    sub_1003A040(a4 + 156, *(float *)(a6 + 8), v7 + 728, v7 + 744);
    sub_10022FC0(v7 + 736, v7 + 744, &v27, &v29, &v30);
    sub_10024C30((int)v8, a2, &v39);
    v41 = v27;
    v13 = 16 * (a7 & 0x3F);
    LOWORD(v31) = v13;
    LOWORD(v40) = (v13 | v40 & 0xFC0F) & 0xFFFD | 4;
    if ( v21 )
    {
      v22 = sub_10032A70(a6, a3, (int)v8, 0.0);
      sub_10023960(44 * *a5 + a4 + 360, v7 + 728, a6 + 16, (int)&v37);
      if ( v37 != 1 )
        v38 = 0.0;
      v28 = v27 - v38;
      if ( v28 <= 0.0 )
        v24 = 0.0;
      else
        v24 = v28;
      if ( v22 < (double)v24 )
      {
        v14 = v24;
      }
      else
      {
        v14 = v24;
        v22 = 0.0;
      }
      v25 = v14 - v22;
      v28 = *(float *)(a6 + 8);
      LODWORD(v28) &= 0x7FFFFFFFu;
      v36 = v28;
      v28 = tan(*(float *)(a6 + 12));
      v28 = v36 / v28;
      v15 = v28;
      if ( v25 <= (double)v28 )
        v15 = v25;
      v26 = v15;
      if ( !*(_BYTE *)(a4 + 156) )
      {
        v36 = (v35 - v38) * 0.5;
        v28 = v36 - v22;
        v26 = sub_100384E0(v26, v28);
        if ( v26 <= 0.0 )
        {
          v22 = 0.0;
          v26 = v36;
        }
      }
      v41 = v38 + v22;
      if ( v41 >= 25.0 )
      {
        sub_100236E0(v7 + 720, v41, *(float *)(v7 + 700), (int)&v42);
        *a5 = sub_10025DE0(*a5, &v39, a4);
      }
      v28 = v38 + v22 + v26;
      sub_100236E0(v7 + 736, v28, v29, (int)&v42);
      sub_10022FC0(44 * *a5 + a4 + 360, (int)&v42, &v41, (float *)&v33, (float *)&v32);
      v16 = *a5;
      LOWORD(v40) = v40 & 0xFDFF | 0x1F0;
      *a5 = sub_10025DE0(v16, &v39, a4);
      sub_10024C30((int)v8, a2, &v39);
      v13 = v31;
      LOWORD(v40) = v31 | v40 & 0xFC0D | 4;
      v41 = v27 - v38 - v22 - v26;
    }
    if ( *(_BYTE *)(a4 + 156) )
    {
      v17 = *(_DWORD *)(v7 + 748);
      v42 = *(_DWORD *)(v7 + 744);
      v43 = v17;
      LOWORD(v40) = v13 | v40 & 0xFC0F;
    }
    else
    {
      v23 = sub_10032A70(a6, a3, (int)v8, COERCE_FLOAT(1));
      if ( v23 >= (double)v41 )
        v23 = 0.0;
      v28 = *(float *)(a6 + 8);
      LODWORD(v28) &= 0x7FFFFFFFu;
      v36 = v28;
      v28 = tan(*(float *)(a6 + 12));
      v41 = v41 - v23 - v36 / v28;
      if ( v41 > 25.0 )
      {
        sub_10022FC0(44 * *a5 + a4 + 360, v7 + 744, &v27, &v29, &v30);
        sub_100236E0(44 * *a5 + a4 + 360, v41, v29, (int)&v42);
        *a5 = sub_10025DE0(*a5, &v39, a4);
      }
      sub_10024C30((int)v8, a2, &v39);
      v18 = -v23;
      LOWORD(v40) = v40 & 0xFE0D | 0x204;
      sub_100236E0(v7 + 728, v18, v30, (int)&v42);
      sub_10022FC0(44 * *a5 + a4 + 360, (int)&v42, &v41, (float *)&v33, (float *)&v32);
      *a5 = sub_10025DE0(*a5, &v39, a4);
      sub_10024C30((int)v8, a2, &v39);
      LOWORD(v40) = v31 | v40 & 0xFC0F;
    }
    v19 = 44 * *a5;
    LOWORD(v40) = v40 & 0xFFFD | 4;
    sub_10022FC0(v19 + a4 + 360, (int)&v42, &v41, (float *)&v33, (float *)&v32);
    if ( v41 > 25.0 )
      *a5 = sub_10025DE0(*a5, &v39, a4);
  }
  return *(_BYTE *)(v7 + 668);
}

//----- (10033270) --------------------------------------------------------
void __usercall sub_10033270(int a1@<eax>, int a2@<ebx>, int a3@<esi>, int a4, int a5)
{
  double v5; // st7@2
  double v6; // st7@3
  float v7; // ST08_4@5
  float v8; // ST08_4@5
  double v9; // st7@7
  double v10; // st6@7
  double v11; // rt2@7
  double v12; // st6@7
  double v13; // st7@7
  double v14; // st5@7
  double v15; // st7@8
  int *v16; // [sp+8h] [bp-2Ch]@3
  float v17; // [sp+10h] [bp-24h]@1
  float v18; // [sp+14h] [bp-20h]@1
  int v19; // [sp+18h] [bp-1Ch]@3
  char v20; // [sp+20h] [bp-14h]@5
  float v21; // [sp+30h] [bp-4h]@6
  float v22; // [sp+38h] [bp+4h]@3
  float v23; // [sp+38h] [bp+4h]@4
  float v24; // [sp+38h] [bp+4h]@7
  float v25; // [sp+38h] [bp+4h]@7
  float v26; // [sp+38h] [bp+4h]@7
  float v27; // [sp+38h] [bp+4h]@7
  float v28; // [sp+38h] [bp+4h]@7

  v18 = *(float *)(a3 + 8) * 0.8999999761581421;
  v17 = 0.0;
  if ( a1 != a4 )
  {
    v5 = *(float *)(a3 + 4);
    if ( *(_BYTE *)a3 == 2 )
    {
      v16 = &v19;
      v22 = v5 + 0.7853981633974501;
      v6 = v22;
    }
    else
    {
      v16 = &v19;
      v23 = v5 - 0.7853981633974501;
      v6 = v23;
    }
    v7 = v6;
    v8 = sub_100637E0(v7);
    sub_100236E0(a3 + 20, 9260.0, v8, (int)v16);
    sub_10023960(a3 + 20, (int)&v19, a5, (int)&v20);
    if ( v20 )
      v17 = v21;
  }
  v24 = sub_10029590(*(float *)(a3 + 16), *(float *)(a3 + 12));
  v9 = v24;
  *(float *)(a2 + 8) = v24;
  v25 = *(float *)(a3 + 16) * 60.0;
  v10 = v25;
  *(float *)a2 = v25;
  v26 = v25 / 1.414213538169861;
  v11 = v10;
  v12 = v26 + v9 + v9 / 1.414213538169861;
  v13 = v11;
  v27 = v12;
  v14 = v27;
  v28 = v11 + v27 + v17;
  if ( v18 >= (double)v28 )
    v15 = v13 + v17;
  else
    v15 = v18 - v14;
  *(float *)(a2 + 4) = v15;
  if ( *(float *)(a2 + 4) < 370.39999 )
    *(float *)(a2 + 4) = 370.39999;
}

//----- (100333C0) --------------------------------------------------------
int __usercall sub_100333C0@<eax>(unsigned __int8 a1@<cl>, int a2@<edi>, int a3@<esi>)
{
  int v3; // edx@1
  int result; // eax@1
  unsigned __int8 v5; // dl@1
  int v6; // ecx@6

  v3 = 180 * a1 + a3;
  result = *(_DWORD *)(v3 + 716);
  *(_DWORD *)a2 = *(_DWORD *)(v3 + 728);
  *(_DWORD *)(a2 + 4) = *(_DWORD *)(v3 + 732);
  v5 = *(_BYTE *)(a3 + 4);
  if ( a1 < v5 )
  {
    while ( 1 )
    {
      if ( *(_BYTE *)(a3 + 180 * a1 + 671) == 3 )
      {
        v6 = 180 * a1 + a3;
        goto LABEL_8;
      }
      if ( *(_BYTE *)(a3 + 241) == a1 )
        break;
      if ( ++a1 >= v5 )
        return result;
    }
    v6 = 180 * a1 + a3;
LABEL_8:
    result = *(_DWORD *)(v6 + 716);
    *(_DWORD *)a2 = *(_DWORD *)(v6 + 728);
    *(_DWORD *)(a2 + 4) = *(_DWORD *)(v6 + 732);
  }
  return result;
}

//----- (10033450) --------------------------------------------------------
void __cdecl sub_10033450(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v6; // ebx@1
  int v7; // esi@1
  int v8; // edi@1
  double v9; // st7@1
  double v10; // st7@2
  double v11; // st6@2
  float v12; // [sp+20h] [bp+4h]@4
  float v13; // [sp+20h] [bp+4h]@4
  float v14; // [sp+30h] [bp+14h]@2
  float v15; // [sp+30h] [bp+14h]@4
  int v16; // [sp+34h] [bp+18h]@4
  int v17; // [sp+34h] [bp+18h]@4

  v6 = a5;
  v7 = a1;
  sub_10033270(a2, a5, a1, a3, a4);
  v8 = a6;
  *(float *)(a6 + 40) = *(float *)(a5 + 8);
  *(_DWORD *)a6 = *(_DWORD *)(a1 + 20);
  *(_DWORD *)(a6 + 4) = *(_DWORD *)(a1 + 24);
  v9 = *(float *)(a1 + 4);
  if ( *(_BYTE *)a1 == 2 )
  {
    v14 = v9 + 0.7853981852531433;
    v10 = v14;
    v11 = *(float *)(a1 + 4) + 1.570796370506287;
  }
  else
  {
    v14 = v9 - 0.7853981852531433;
    v10 = v14;
    v11 = *(float *)(a1 + 4) - 1.570796370506287;
  }
  v12 = v11;
  *(float *)&v16 = v10;
  v15 = sub_100637E0(v14);
  v13 = sub_100637E0(v12);
  *(float *)&v17 = sub_100637E0(*(float *)&v16);
  sub_100236E0(v8, *(float *)(v6 + 4), v15, v8 + 8);
  sub_100236E0(v8 + 8, *(float *)v6, *(float *)(v7 + 4), v8 + 24);
  sub_100236E0(v8 + 24, *(float *)(v6 + 8), v13, v8 + 16);
  sub_100236E0(v8 + 16, *(float *)(v6 + 8), *(float *)&v17, v8 + 32);
}

//----- (10033590) --------------------------------------------------------
char __cdecl sub_10033590(int a1, char a2, int a3, int a4, __int16 *a5)
{
  int v5; // ebp@1
  char v6; // cl@1
  int v7; // eax@1
  int v8; // edx@1
  bool v9; // zf@1
  double v10; // st7@1
  double v11; // st7@6
  double v12; // st7@7
  float v13; // ST4C_4@9
  float v14; // ST4C_4@9
  float v15; // ST4C_4@9
  float v16; // ST4C_4@9
  float v17; // ST4C_4@9
  double v18; // st7@9
  float v19; // ST4C_4@11
  float v20; // ST4C_4@11
  float v21; // ST4C_4@11
  double v22; // st7@11
  double v23; // st7@13
  double v24; // st7@15
  int v25; // eax@18
  __int16 v26; // ST18_2@18
  __int16 v27; // ax@18
  int v28; // ecx@18
  __int16 v29; // ax@18
  double v30; // st7@18
  __int16 v31; // dx@18
  char result; // al@18
  double v33; // st7@21
  char v34; // dl@21
  double v35; // st7@21
  double v36; // st7@25
  float v37; // [sp+18h] [bp-94h]@13
  char v38; // [sp+1Ch] [bp-90h]@1
  float v39; // [sp+20h] [bp-8Ch]@1
  float v40; // [sp+24h] [bp-88h]@1
  float v41; // [sp+28h] [bp-84h]@1
  float v42; // [sp+2Ch] [bp-80h]@1
  int v43; // [sp+30h] [bp-7Ch]@1
  int v44; // [sp+34h] [bp-78h]@1
  float v45; // [sp+38h] [bp-74h]@13
  char v46; // [sp+3Ch] [bp-70h]@1
  int v47; // [sp+3Eh] [bp-6Eh]@18
  float v48; // [sp+48h] [bp-64h]@18
  int v49; // [sp+54h] [bp-58h]@18
  int v50; // [sp+58h] [bp-54h]@18
  float v51; // [sp+5Ch] [bp-50h]@18
  int v52; // [sp+60h] [bp-4Ch]@18
  int v53; // [sp+64h] [bp-48h]@18
  float v54; // [sp+68h] [bp-44h]@13
  float v55; // [sp+6Ch] [bp-40h]@18
  float v56; // [sp+70h] [bp-3Ch]@18
  float v57; // [sp+74h] [bp-38h]@18
  char v58; // [sp+78h] [bp-34h]@18
  char v59; // [sp+80h] [bp-2Ch]@18
  int v60; // [sp+88h] [bp-24h]@18
  int v61; // [sp+8Ch] [bp-20h]@18
  int v62; // [sp+90h] [bp-1Ch]@18
  int v63; // [sp+94h] [bp-18h]@18
  int v64; // [sp+98h] [bp-14h]@18
  int v65; // [sp+9Ch] [bp-10h]@18
  int v66; // [sp+A0h] [bp-Ch]@18
  int v67; // [sp+A4h] [bp-8h]@18

  v5 = 180 * (unsigned __int8)a2 + a1;
  sub_10024C30(v5 + 608, a2, &v46);
  v6 = *(_BYTE *)(v5 + 672);
  v7 = *(_DWORD *)(v5 + 728);
  v8 = *(_DWORD *)(v5 + 732);
  v42 = *(float *)(a3 + 16);
  v39 = *(float *)(v5 + 752);
  v9 = *(_BYTE *)(a1 + 44) == 0;
  v40 = *(float *)(v5 + 756);
  v38 = v6;
  v10 = *(float *)(a3 + 12);
  v43 = v7;
  v41 = v10;
  v44 = v8;
  if ( !v9 && *(_BYTE *)(a1 + 45) == *(_BYTE *)(v5 + 608) )
  {
    if ( *(_BYTE *)(a1 + 48) || *(float *)(a4 + 124) < 30.86666679382324 || 9.9999996e24 == *(float *)(a4 + 124) )
    {
      v24 = *(float *)(a1 + 56);
    }
    else
    {
      v11 = v39;
      if ( v6 == 2 )
        v12 = v11 + 0.7853981852531433;
      else
        v12 = v11 - 0.7853981852531433;
      v13 = v12;
      v14 = v13 - *(float *)(a3 + 8);
      v15 = sub_100637E0(v14);
      v16 = COERCE_FLOAT(LODWORD(v15) & 0x7FFFFFFF) * 57.29578018188477;
      v17 = 140.0 - v16;
      v18 = v17;
      if ( v17 < 0.0 )
        v18 = 0.0;
      v19 = v18;
      v20 = v19 * 0.5144444444444445;
      v21 = *(float *)(a3 + 16) - v20;
      v22 = v21;
      if ( v21 < 30.86666679382324 )
        v22 = 30.866667;
      v37 = v22;
      v54 = *(float *)(a4 + 124);
      v45 = *(float *)(a3 + 16);
      v23 = v54;
      if ( v45 <= (double)v54 )
        v23 = v45;
      v42 = v23;
      v24 = sub_100384C0(v42, v37);
    }
    v42 = v24;
  }
  v25 = sub_100333C0(a2, (int)&v58, a1);
  sub_10033450((int)&v38, *(_DWORD *)(v5 + 716), v25, (int)&v58, (int)&v55, (int)&v59);
  v48 = v56;
  LOWORD(v47) = v47 & 0xF09C | 0x94;
  v52 = v60;
  v26 = *a5;
  v53 = v61;
  v27 = sub_10025DE0(v26, &v46, a4);
  v48 = v55;
  v52 = v64;
  LOWORD(v47) = v47 & 0xF1EC | 0x1E4;
  v28 = v65;
  *a5 = v27;
  v53 = v28;
  v29 = sub_10025DE0(v27, &v46, a4);
  v30 = v57;
  *a5 = v29;
  v31 = v47 & 0xF1DB | ((*(_BYTE *)(v5 + 672) & 3) << 10) | 0x1D3;
  v48 = 3.0 * v30 * 3.141592741012573 * 0.25;
  LOWORD(v47) = v31;
  v51 = v30;
  v52 = v66;
  v49 = v62;
  v53 = v67;
  v50 = v63;
  *a5 = sub_10025DE0(v29, &v46, a4);
  result = a2;
  if ( a2 == *(_BYTE *)(a4 + 17) && (!*(_BYTE *)(a1 + 44) || *(_BYTE *)(v5 + 608) == *(_BYTE *)(a1 + 45)) )
  {
    v33 = v42;
    *(_BYTE *)(a1 + 44) = 1;
    v34 = *(_BYTE *)(v5 + 608);
    *(float *)(a1 + 56) = v33;
    v35 = v41;
    *(_BYTE *)(a1 + 45) = v34;
    *(float *)(a1 + 52) = v35;
  }
  if ( *(_BYTE *)(v5 + 608) == *(_BYTE *)(a1 + 45) && *(_BYTE *)(a1 + 44) && a2 != *(_BYTE *)(a4 + 17) )
  {
    v36 = *(float *)(a1 + 56);
    *(_BYTE *)(a1 + 44) = 0;
    *(float *)(v5 + 628) = v36;
    *(float *)(v5 + 624) = *(float *)(a1 + 52);
  }
  return result;
}

//----- (10033930) --------------------------------------------------------
bool __cdecl sub_10033930(unsigned __int8 a1)
{
  bool result; // al@3
  char v2; // al@4

  result = 0;
  if ( a1 < *(_BYTE *)(dword_10504ED0 + 4) || a1 == 101 )
  {
    v2 = *(_BYTE *)(180 * a1 + dword_10504ED0 + 671);
    if ( v2 == 11 || v2 == 12 || v2 == 13 )
      result = 1;
  }
  return result;
}
// 10504ED0: using guessed type int dword_10504ED0;

//----- (10033970) --------------------------------------------------------
int __usercall sub_10033970@<eax>(char a1@<bl>, int a2@<edi>, int a3@<esi>, float a4, float a5, float a6, int a7)
{
  int v7; // ebp@1
  int result; // eax@6
  double v9; // st7@7
  int v10; // [sp+10h] [bp-14h]@3
  int v11; // [sp+14h] [bp-10h]@3
  int v12; // [sp+18h] [bp-Ch]@1
  float v13; // [sp+1Ch] [bp-8h]@4
  int v14; // [sp+20h] [bp-4h]@1
  float v15; // [sp+2Ch] [bp+8h]@6
  float v16; // [sp+2Ch] [bp+8h]@6

  v7 = a7;
  sub_10063950(*(float *)a2, (int)&v14, (int)&a7);
  v12 = a7;
  a7 &= 0x7FFFFFFFu;
  if ( *(float *)&a7 < 0.00017 )
    *(float *)&a7 = 0.00017;
  sub_10063950(a4, (int)&v10, (int)&v11);
  if ( a1 == 2 )
  {
    *(float *)&v12 = -*(float *)&v10 * a6;
    v13 = a6 * *(float *)&v11;
  }
  else
  {
    *(float *)&v12 = *(float *)&v10 * a6;
    v13 = a6 * -*(float *)&v11;
    a5 = -a5;
  }
  v13 = v13 / *(float *)&a7;
  *(float *)a3 = *(float *)a2 + *(float *)&v12;
  *(float *)(a3 + 4) = *(float *)(a2 + 4) + v13;
  v15 = a4 - (a5 + a5);
  v16 = sub_100637E0(v15);
  result = sub_10063950(v16, (int)&v10, (int)&v11);
  if ( a1 == 2 )
  {
    *(float *)&v12 = -*(float *)&v10 * a6;
    v9 = a6 * *(float *)&v11;
  }
  else
  {
    *(float *)&v12 = *(float *)&v10 * a6;
    v9 = a6 * -*(float *)&v11;
  }
  v13 = v9;
  v13 = v13 / *(float *)&a7;
  *(float *)v7 = *(float *)a3 + *(float *)&v12;
  *(float *)(v7 + 4) = *(float *)(a3 + 4) + v13;
  return result;
}

//----- (10033AF0) --------------------------------------------------------
void __usercall sub_10033AF0(int a1@<edi>, int a2@<esi>, float a3)
{
  char v3; // bl@1
  double v4; // st7@5
  float v5; // ecx@7
  float v6; // edx@7
  float v7; // ST0C_4@10
  float v8; // ecx@11
  float v9; // edx@11
  double v10; // st7@14
  double v11; // st6@14
  double v12; // st5@14
  double v13; // st4@14
  float v14; // ST10_4@14
  float v15; // ST0C_4@14
  double v16; // st7@15
  float v17; // ST10_4@17
  double v18; // st7@22
  float v19; // edx@25
  float v20; // eax@25
  float v21; // ST0C_4@28
  float v22; // edx@29
  float v23; // eax@29
  double v24; // st7@32
  double v25; // st6@32
  double v26; // st5@32
  double v27; // st4@32
  float v28; // ST10_4@32
  float v29; // ST0C_4@32
  double v30; // st7@33
  float v31; // ST10_4@35
  float v32; // [sp+18h] [bp-24h]@1
  float v33; // [sp+1Ch] [bp-20h]@7
  float v34; // [sp+1Ch] [bp-20h]@11
  float v35; // [sp+1Ch] [bp-20h]@25
  int v36; // [sp+20h] [bp-1Ch]@14
  int v37; // [sp+24h] [bp-18h]@14
  float v38; // [sp+28h] [bp-14h]@14
  char v39[4]; // [sp+2Ch] [bp-10h]@1
  int v40; // [sp+30h] [bp-Ch]@7
  float v41; // [sp+34h] [bp-8h]@7
  float v42; // [sp+38h] [bp-4h]@7
  float v43; // [sp+40h] [bp+4h]@7
  float v44; // [sp+40h] [bp+4h]@10
  float v45; // [sp+40h] [bp+4h]@11
  float v46; // [sp+40h] [bp+4h]@25
  float v47; // [sp+40h] [bp+4h]@28

  v32 = *(float *)(a2 + 44);
  v3 = *(_BYTE *)(a2 + 3);
  v39[0] = *(_BYTE *)(a2 + 3);
  if ( LOBYTE(a3) )
  {
    if ( *(float *)(a2 + 16) < 30.86666679382324 )
    {
      *(float *)a1 = 30.866667;
      *(float *)(a1 + 4) = 30.866667;
      *(float *)(a1 + 12) = 30.866667;
    }
    else
    {
      *(float *)a1 = *(float *)(a2 + 16);
      *(float *)(a1 + 4) = *(float *)(a2 + 16);
      *(float *)(a1 + 12) = *(float *)(a2 + 16);
    }
    v4 = 30.866667;
    if ( *(float *)(a2 + 24) >= 30.86666679382324 )
      v4 = *(float *)(a2 + 24);
    *(float *)(a1 + 8) = v4;
    v5 = *(float *)(a2 + 80);
    v6 = *(float *)(a2 + 84);
    v43 = *(float *)(a2 + 24);
    v40 = *(_DWORD *)(a2 + 76);
    v41 = v5;
    v42 = v6;
    v33 = sqrt(sub_10019AC0((int)&v41, (int)&v41));
    if ( v43 >= 30.86666679382324 && (_BYTE)v40 && v33 < (double)v43 )
    {
      v44 = v32 + 3.141592741012573;
      v7 = sub_100637E0(v44);
      *(float *)(a1 + 8) = sub_1002E280(a2 + 76, *(float *)(a2 + 24), v32, v7, v39[0]);
    }
    v8 = *(float *)(a2 + 68);
    v45 = *(float *)(a2 + 16);
    v9 = *(float *)(a2 + 72);
    v40 = *(_DWORD *)(a2 + 64);
    v41 = v8;
    v42 = v9;
    v34 = sqrt(sub_10019AC0((int)&v41, (int)&v41));
    if ( v45 >= 30.86666679382324 && (_BYTE)v40 && v34 < (double)v45 )
    {
      sub_10063950(v32, (int)&v36, (int)&v37);
      v38 = v42 * *(float *)&v36 - v41 * *(float *)&v37;
      *(float *)v39 = sqrt(v45 * v45 - v38 * v38);
      v10 = v41;
      v11 = v42;
      v38 = v41 * *(float *)&v36 + v42 * *(float *)&v37;
      v12 = v38;
      v13 = *(float *)v39;
      *(float *)a1 = v38 + *(float *)v39;
      *(float *)(a1 + 4) = v13 - v12;
      v14 = v11;
      v15 = v10;
      v38 = sub_10063AA0(v15, v14);
      if ( v3 == 2 )
      {
        *(float *)v39 = v38 - v32;
        v16 = *(float *)v39;
      }
      else
      {
        *(float *)v39 = v32 - v38;
        v16 = *(float *)v39;
      }
      v17 = v16;
      v38 = sub_100637E0(v17);
      if ( v38 <= 0.0 )
      {
LABEL_18:
        *(float *)(a1 + 12) = v34 + v45;
        return;
      }
      goto LABEL_36;
    }
  }
  else
  {
    if ( *(float *)(a2 + 40) < 30.86666679382324 )
      *(float *)(a1 + 8) = 30.866667;
    else
      *(float *)(a1 + 8) = *(float *)(a2 + 40);
    v18 = 30.866667;
    if ( *(float *)(a2 + 32) < 30.86666679382324 )
    {
      *(float *)a1 = 30.866667;
      *(float *)(a1 + 4) = 30.866667;
    }
    else
    {
      *(float *)a1 = *(float *)(a2 + 32);
      *(float *)(a1 + 4) = *(float *)(a2 + 32);
      v18 = *(float *)(a2 + 32);
    }
    *(float *)(a1 + 12) = v18;
    v19 = *(float *)(a2 + 104);
    v20 = *(float *)(a2 + 108);
    v46 = *(float *)(a2 + 40);
    v40 = *(_DWORD *)(a2 + 100);
    v41 = v19;
    v42 = v20;
    v35 = sqrt(sub_10019AC0((int)&v41, (int)&v41));
    if ( v46 >= 30.86666679382324 && (_BYTE)v40 && v35 < (double)v46 )
    {
      v47 = v32 + 3.141592741012573;
      v21 = sub_100637E0(v47);
      *(float *)(a1 + 8) = sub_1002E280(a2 + 100, *(float *)(a2 + 40), v32, v21, v39[0]);
    }
    v22 = *(float *)(a2 + 92);
    v45 = *(float *)(a2 + 32);
    v23 = *(float *)(a2 + 96);
    v40 = *(_DWORD *)(a2 + 88);
    v41 = v22;
    v42 = v23;
    v34 = sqrt(sub_10019AC0((int)&v41, (int)&v41));
    if ( v45 >= 30.86666679382324 && (_BYTE)v40 && v34 < (double)v45 )
    {
      sub_10063950(v32, (int)&v36, (int)&v37);
      v38 = v42 * *(float *)&v36 - v41 * *(float *)&v37;
      *(float *)v39 = sqrt(v45 * v45 - v38 * v38);
      v24 = v41;
      v25 = v42;
      v38 = v41 * *(float *)&v36 + v42 * *(float *)&v37;
      v26 = v38;
      v27 = *(float *)v39;
      *(float *)a1 = v38 + *(float *)v39;
      *(float *)(a1 + 4) = v27 - v26;
      v28 = v25;
      v29 = v24;
      v38 = sub_10063AA0(v29, v28);
      if ( v3 == 2 )
      {
        *(float *)v39 = v38 - v32;
        v30 = *(float *)v39;
      }
      else
      {
        *(float *)v39 = v32 - v38;
        v30 = *(float *)v39;
      }
      v31 = v30;
      v38 = sub_100637E0(v31);
      if ( v38 <= 0.0 )
        goto LABEL_18;
LABEL_36:
      *(float *)(a1 + 12) = sub_100384C0(*(float *)a1, *(float *)(a1 + 4));
      return;
    }
  }
}

//----- (10033FB0) --------------------------------------------------------
char __usercall sub_10033FB0@<al>(int a1@<eax>, unsigned __int8 a2@<cl>, int a3@<ebx>, char a4, char a5)
{
  int v5; // esi@1
  unsigned __int8 v6; // al@1
  int v7; // ecx@1
  int v8; // edx@1
  int v9; // edi@1
  int v10; // ecx@1
  unsigned __int8 v11; // al@1
  bool v12; // zf@1
  int v13; // ebp@3
  int v14; // eax@3
  int v15; // edx@3
  float v16; // ST38_4@4
  float v17; // ST38_4@4
  int v18; // ebp@5
  int v19; // eax@5
  double v20; // st7@5
  double v21; // st7@6
  float v22; // ST38_4@8
  float v23; // ST38_4@8
  float v24; // ST38_4@8
  float v25; // ST38_4@9
  int v26; // eax@12
  char result; // al@13
  float v28; // [sp+10h] [bp-34h]@1
  float v29; // [sp+18h] [bp-2Ch]@3
  char v30; // [sp+1Ch] [bp-28h]@3
  float v31; // [sp+20h] [bp-24h]@3
  float v32; // [sp+24h] [bp-20h]@5
  float v33; // [sp+28h] [bp-1Ch]@5
  int v34; // [sp+2Ch] [bp-18h]@3
  int v35; // [sp+30h] [bp-14h]@3
  int v36; // [sp+34h] [bp-10h]@1
  int v37; // [sp+38h] [bp-Ch]@1
  int v38; // [sp+3Ch] [bp-8h]@5
  int v39; // [sp+40h] [bp-4h]@5

  v5 = a1;
  v6 = a2;
  v7 = 180 * a2;
  v28 = *(float *)(v7 + v5 + 752);
  v8 = *(_DWORD *)(v7 + v5 + 728);
  v9 = v7 + v5;
  v10 = *(_DWORD *)(v7 + v5 + 732);
  v11 = v6 + 1;
  v36 = v8;
  v12 = *(_BYTE *)(180 * v11 + v5 + 671) == 14;
  v37 = v10;
  if ( v12 )
    ++v11;
  v13 = v11;
  v14 = 180 * (v11 + 4);
  v15 = *(_DWORD *)(v14 + v5 + 4);
  v34 = *(_DWORD *)(v14 + v5);
  v35 = v15;
  sub_10022FC0((int)&v36, (int)&v34, &v29, &v31, (float *)&v30);
  if ( v29 < 100.0
    || (v16 = v28 - v31, v17 = sub_100637E0(v16), COERCE_FLOAT(LODWORD(v17) & 0x7FFFFFFF) < 1.5707963267949)
    || ((v18 = 180 * v13,
         v19 = *(_DWORD *)(v5 + v18 + 732),
         v38 = *(_DWORD *)(v5 + v18 + 728),
         v39 = v19,
         sub_10022FC0((int)&v34, (int)&v38, &v29, &v33, (float *)&v30),
         sub_10022FC0(a3 + 184, (int)&v34, &v29, &v32, (float *)&v30),
         v20 = v28,
         *(_BYTE *)(v9 + 672) != 2) ? (v21 = v20 - 1.570796370506287) : (v21 = v20 + 1.570796370506287),
        (v22 = v21, v23 = v22 - v32, v24 = sub_100637E0(v23), COERCE_FLOAT(LODWORD(v24) & 0x7FFFFFFF) < 1.5707963267949)
     || (v25 = v28 - v33, v29 = sub_100637E0(v25), LODWORD(v29) &= 0x7FFFFFFFu, v29 > 0.5235987755983)) )
  {
    result = 0;
  }
  else
  {
    *(_WORD *)(a3 + 2) = 2;
    if ( !a5 )
    {
      if ( a4 == 4 )
      {
        v26 = *(_DWORD *)(a3 + 220);
        *(_DWORD *)(a3 + 56) = *(_DWORD *)(a3 + 216);
        *(_DWORD *)(a3 + 60) = v26;
LABEL_13:
        *(_WORD *)a3 = 2;
        return 1;
      }
      if ( a4 == 3 )
        goto LABEL_13;
      *(_WORD *)a3 -= 2;
    }
    result = 1;
  }
  return result;
}

//----- (100341D0) --------------------------------------------------------
int __cdecl sub_100341D0(float a1, int a2, int a3)
{
  double v3; // st7@2
  int v4; // ebp@4
  float v5; // ST0C_4@4
  double v6; // st7@4
  double v7; // st6@4
  bool v8; // zf@4
  double v9; // st6@5
  double v10; // st7@7
  int v11; // edi@7
  float v12; // ST08_4@7
  int v13; // ecx@7
  int v14; // edx@7
  float v15; // ST04_4@7
  double v16; // st7@7
  int v17; // edx@7
  double v18; // st7@7
  int v19; // edi@7
  int v20; // edx@7
  int result; // eax@7
  int v22; // ecx@7
  int v23; // [sp+20h] [bp-28h]@7
  float v24; // [sp+24h] [bp-24h]@4
  float v25; // [sp+28h] [bp-20h]@7
  int v26; // [sp+2Ch] [bp-1Ch]@7
  int v27; // [sp+30h] [bp-18h]@7
  int v28; // [sp+34h] [bp-14h]@7
  float v29; // [sp+38h] [bp-10h]@1
  float v30; // [sp+40h] [bp-8h]@4
  float v31; // [sp+44h] [bp-4h]@4
  float v32; // [sp+4Ch] [bp+4h]@2
  float v33; // [sp+4Ch] [bp+4h]@4
  float v34; // [sp+4Ch] [bp+4h]@7
  float v35; // [sp+4Ch] [bp+4h]@7
  float v36; // [sp+4Ch] [bp+4h]@7
  int v37; // [sp+54h] [bp+Ch]@7

  sub_10033AF0((int)&v29, a2, a1);
  if ( LOBYTE(a1) )
  {
    v32 = *(float *)(a2 + 20);
    v3 = *(float *)(a2 + 12);
  }
  else
  {
    v32 = *(float *)(a2 + 36);
    v3 = *(float *)(a2 + 28);
  }
  v4 = a3;
  v24 = v3;
  *(float *)(a3 + 28) = sub_10029590(v30, v32);
  *(_BYTE *)a3 = 0;
  v5 = v24;
  *(_BYTE *)(a3 + 1) = *(_BYTE *)(a2 + 3);
  v33 = sub_10029590(v31, v5);
  *(_BYTE *)(a3 + 64) = 0;
  v6 = v33;
  *(float *)(a3 + 92) = v33;
  v7 = *(float *)(a3 + 28);
  *(_BYTE *)(a3 + 65) = *(_BYTE *)(a2 + 3);
  v8 = *(_BYTE *)(a2 + 2) == 0;
  v24 = v7 * 0.0000001567855889561542;
  if ( v8 )
    v9 = *(float *)(a2 + 48);
  else
    v9 = *(float *)(a2 + 48) * v29;
  v34 = v9;
  *(float *)&v37 = atan((v6 - *(float *)(a3 + 28)) / v34);
  v10 = v24;
  v11 = v4 + 4;
  *(_DWORD *)v11 = *(_DWORD *)(a2 + 56);
  v12 = v10;
  *(_DWORD *)(v11 + 4) = *(_DWORD *)(a2 + 60);
  sub_10033970(*(_BYTE *)(a2 + 3), v4 + 4, v4 + 12, *(float *)(a2 + 44), *(float *)&v37, v12, v4 + 20);
  v13 = *(_DWORD *)(v4 + 20);
  v14 = *(_DWORD *)(v4 + 4);
  *(_DWORD *)(v4 + 120) = *(_DWORD *)(v4 + 8);
  *(_DWORD *)(v4 + 36) = v13;
  *(_BYTE *)(v4 + 33) = 0;
  *(_BYTE *)(v4 + 97) = 0;
  *(_BYTE *)(v4 + 32) = 1;
  *(_BYTE *)(v4 + 96) = 1;
  *(_DWORD *)(v4 + 116) = v14;
  *(_DWORD *)(v4 + 40) = *(_DWORD *)(v4 + 24);
  sub_10063950(*(float *)(a2 + 56), (int)&v28, (int)&v23);
  v15 = *(float *)(a2 + 44);
  v23 &= 0x7FFFFFFFu;
  sub_10063950(v15, (int)&v27, (int)&v26);
  v16 = v34 * 0.0000001567855889561542;
  v24 = -*(float *)&v26 * v16;
  v35 = v16 * -*(float *)&v27;
  v25 = v35 / *(float *)&v23;
  *(float *)(v4 + 100) = *(float *)(a2 + 56) + v24;
  v17 = *(_DWORD *)(v4 + 100);
  *(float *)(v4 + 104) = *(float *)(a2 + 60) + v25;
  v18 = 0.0000001567855889561542 * *(float *)(v4 + 92);
  v19 = v4 + 84;
  *(_DWORD *)(v19 + 4) = *(_DWORD *)(v4 + 104);
  v36 = v18;
  *(_DWORD *)v19 = v17;
  sub_10033970(*(_BYTE *)(a2 + 3), v4 + 84, v4 + 76, *(float *)(a2 + 44), *(float *)&v37, v36, v4 + 68);
  v20 = *(_DWORD *)(v4 + 72);
  result = *(_DWORD *)(v4 + 20);
  *(_DWORD *)(v4 + 52) = *(_DWORD *)(v4 + 68);
  v22 = *(_DWORD *)(v4 + 24);
  *(_DWORD *)(v4 + 56) = v20;
  *(_DWORD *)(v4 + 36) = result;
  *(_DWORD *)(v4 + 40) = v22;
  return result;
}

//----- (100343F0) --------------------------------------------------------
int __cdecl sub_100343F0(int a1, int a2, _BYTE *a3)
{
  int v3; // ebx@1
  int v4; // ebp@1
  double v5; // st7@2
  float v6; // ST1C_4@4
  double v7; // st7@4
  double v8; // st7@6
  double v9; // st7@9
  int v10; // esi@14
  double v11; // st7@14
  double v12; // st7@15
  float v13; // ST20_4@17
  char v14; // ST20_1@17
  float v15; // ST18_4@17
  double v16; // st7@17
  char v17; // cl@17
  double v18; // st7@17
  double v19; // st7@17
  int v20; // esi@20
  double v21; // st7@21
  float v22; // ST20_4@23
  double v23; // st7@23
  float v24; // ST18_4@23
  int v25; // edx@23
  int v26; // eax@23
  int v27; // edi@23
  double v28; // st7@23
  bool v29; // zf@23
  double v30; // st7@24
  float v31; // ST20_4@26
  double v32; // st7@26
  int v33; // eax@26
  int v34; // ecx@26
  int v35; // esi@26
  double v36; // st7@26
  double v37; // st7@27
  float v38; // ST20_4@29
  int v39; // eax@29
  int v40; // esi@29
  double v41; // st6@30
  double v42; // st7@40
  int v43; // esi@42
  int v44; // ecx@42
  int v45; // eax@42
  double v46; // st7@44
  double v47; // st7@45
  float v48; // ST20_4@47
  double v49; // st7@48
  float v50; // ST20_4@50
  int v51; // eax@50
  int v52; // eax@50
  float v54; // [sp+Ch] [bp-58h]@2
  float v55; // [sp+20h] [bp-44h]@6
  float v56; // [sp+24h] [bp-40h]@8
  float v57; // [sp+28h] [bp-3Ch]@17
  float v58; // [sp+2Ch] [bp-38h]@17
  int v59; // [sp+30h] [bp-34h]@1
  float v60; // [sp+34h] [bp-30h]@17
  float v61; // [sp+38h] [bp-2Ch]@17
  int v62; // [sp+3Ch] [bp-28h]@23
  int v63; // [sp+40h] [bp-24h]@23
  float v64; // [sp+44h] [bp-20h]@6
  float v65; // [sp+48h] [bp-1Ch]@6
  int v66; // [sp+4Ch] [bp-18h]@50
  int v67; // [sp+50h] [bp-14h]@50
  char v68; // [sp+54h] [bp-10h]@17
  double v69; // [sp+5Ch] [bp-8h]@17
  float v70; // [sp+68h] [bp+4h]@2
  float v71; // [sp+68h] [bp+4h]@4
  float v72; // [sp+68h] [bp+4h]@6
  float v73; // [sp+68h] [bp+4h]@8
  char v74; // [sp+68h] [bp+4h]@15
  float v75; // [sp+68h] [bp+4h]@17
  float v76; // [sp+68h] [bp+4h]@17
  float v77; // [sp+68h] [bp+4h]@17
  float v78; // [sp+68h] [bp+4h]@21
  float v79; // [sp+68h] [bp+4h]@26
  float v80; // [sp+68h] [bp+4h]@27
  float v81; // [sp+68h] [bp+4h]@45
  float v82; // [sp+68h] [bp+4h]@46
  float v83; // [sp+68h] [bp+4h]@47
  float v84; // [sp+68h] [bp+4h]@47
  float v85; // [sp+68h] [bp+4h]@48
  float v86; // [sp+68h] [bp+4h]@49
  float v87; // [sp+68h] [bp+4h]@50
  float v88; // [sp+6Ch] [bp+8h]@4
  float v89; // [sp+6Ch] [bp+8h]@6
  float v90; // [sp+6Ch] [bp+8h]@11
  float v91; // [sp+6Ch] [bp+8h]@15
  float v92; // [sp+6Ch] [bp+8h]@16
  float v93; // [sp+6Ch] [bp+8h]@17
  float v94; // [sp+6Ch] [bp+8h]@17
  float v95; // [sp+6Ch] [bp+8h]@17
  float v96; // [sp+6Ch] [bp+8h]@18
  float v97; // [sp+6Ch] [bp+8h]@21
  float v98; // [sp+6Ch] [bp+8h]@21
  float v99; // [sp+6Ch] [bp+8h]@22
  float v100; // [sp+6Ch] [bp+8h]@22
  float v101; // [sp+6Ch] [bp+8h]@23
  float v102; // [sp+6Ch] [bp+8h]@24
  float v103; // [sp+6Ch] [bp+8h]@25
  float v104; // [sp+6Ch] [bp+8h]@27
  float v105; // [sp+6Ch] [bp+8h]@27
  float v106; // [sp+6Ch] [bp+8h]@28
  float v107; // [sp+6Ch] [bp+8h]@28
  float v108; // [sp+6Ch] [bp+8h]@29
  float v109; // [sp+6Ch] [bp+8h]@41
  char v110; // [sp+6Ch] [bp+8h]@42

  v3 = a1;
  v4 = a2;
  *(_WORD *)a2 = 0;
  *(_WORD *)(a2 + 2) = 4;
  v59 = a2 + 164;
  sub_100341D0(COERCE_FLOAT(1), a1, a2 + 164);
  if ( *(_BYTE *)(a1 + 3) == 1 )
  {
    v70 = *(float *)(a1 + 44) - *(float *)(a1 + 52);
    v54 = *(float *)(v3 + 44);
    v5 = *(float *)(v3 + 52);
  }
  else
  {
    v70 = *(float *)(a1 + 52) - *(float *)(a1 + 44);
    v54 = *(float *)(v3 + 52);
    v5 = *(float *)(v3 + 44);
  }
  v6 = v5;
  v88 = sub_10063550(v6, v54, 1);
  v71 = sub_100637E0(v70);
  v7 = v88;
  if ( v88 >= 1.919862151145935 && v7 <= 3.228859186172485 )
  {
    *a3 = 4;
    *(_BYTE *)(v4 + 4) = 1;
    *(_BYTE *)(v4 + 5) = 0;
    *(_DWORD *)(v4 + 8) = *(_DWORD *)(v4 + 168);
    *(_DWORD *)(v4 + 12) = *(_DWORD *)(v4 + 172);
    sub_10018B00((float *)(v4 + 240), (float *)(v4 + 168), &v55, (int)&v64);
    v89 = sub_10063AA0(v64, v65);
    v72 = *(float *)(v4 + 256);
    v8 = v55;
    if ( v72 >= (double)v55 )
      v8 = v72;
    v73 = v8;
    v55 = v73;
    v56 = acos(*(float *)(v4 + 256) / v73);
    if ( *(_BYTE *)(v3 + 3) == 2 )
      v9 = v56 + v89;
    else
      v9 = v89 - v56;
    v90 = v9;
    sub_100236E0(v4 + 240, *(float *)(v4 + 256), v90, v4 + 24);
    *(_BYTE *)(v4 + 36) = 0;
    *(_DWORD *)(v4 + 40) = *(_DWORD *)(v4 + 24);
    *(_DWORD *)(v4 + 44) = *(_DWORD *)(v4 + 28);
    *(_BYTE *)(v4 + 37) = *(_BYTE *)(v3 + 3);
    *(float *)(v4 + 64) = *(float *)(v4 + 256);
    *(_DWORD *)(v4 + 48) = *(_DWORD *)(v4 + 240);
    *(_DWORD *)(v4 + 52) = *(_DWORD *)(v4 + 244);
    *(_DWORD *)(v4 + 56) = *(_DWORD *)(v4 + 248);
    *(_DWORD *)(v4 + 60) = *(_DWORD *)(v4 + 252);
    *(_BYTE *)(v4 + 68) = 1;
    *(_DWORD *)(v4 + 72) = *(_DWORD *)(v4 + 56);
    *(_DWORD *)(v4 + 76) = *(_DWORD *)(v4 + 60);
    *(_BYTE *)(v4 + 69) = 0;
    *(_DWORD *)(v4 + 88) = *(_DWORD *)(v4 + 280);
    *(_DWORD *)(v4 + 92) = *(_DWORD *)(v4 + 284);
    *(_WORD *)v4 = 3;
    return sub_100341D0(0.0, v3, v59);
  }
  if ( v7 > 3.228859186172485 && v7 <= 5.0614548 )
  {
    *a3 = 3;
    *(_BYTE *)(v4 + 4) = 1;
    *(_BYTE *)(v4 + 5) = 0;
    v10 = v4 + 8;
    *(_DWORD *)v10 = *(_DWORD *)(v4 + 168);
    *(_DWORD *)(v10 + 4) = *(_DWORD *)(v4 + 172);
    v11 = *(float *)(v3 + 44);
    if ( *(_BYTE *)(v3 + 3) == 2 )
    {
      v74 = 1;
      v91 = v11 - 0.7853981852531433;
      v12 = v91;
    }
    else
    {
      v74 = 2;
      v92 = v11 + 0.7853981852531433;
      v12 = v92;
    }
    v13 = v12;
    v93 = sub_100637E0(v13);
    v14 = v74;
    v75 = *(float *)(v3 + 44) + 3.141592741012573;
    v15 = sub_100637E0(v75);
    v76 = sub_1002E280(v3 + 64, *(float *)(v3 + 16), v15, v93, v14);
    v16 = sub_10029590(v76, *(float *)(v3 + 12));
    v17 = *(_BYTE *)(v3 + 3);
    v57 = v16;
    v94 = sub_1002E280(v3 + 64, *(float *)(v3 + 16), v93, *(float *)(v3 + 44), v17);
    v56 = sub_10029590(v94, 2.6285815);
    sub_100191D0(v4 + 168, COERCE_FLOAT(v4 + 264), &v61, (int)&v68, (float *)&v68);
    v58 = v56 * 0.4142135679721832;
    v18 = v57 * 2.41421365737915;
    v69 = v18;
    v60 = v18 + v58;
    v95 = *(float *)(v3 + 44) + 3.141592741012573;
    v77 = sub_100637E0(v95);
    v19 = v60 + 400.0;
    if ( v61 >= v19 )
    {
      *(_DWORD *)(v4 + 24) = *(_DWORD *)(v4 + 264);
      *(_DWORD *)(v4 + 28) = *(_DWORD *)(v4 + 268);
    }
    else
    {
      v96 = v19;
      sub_100236E0(v4 + 8, v96, v77, v4 + 24);
    }
    *(_BYTE *)(v4 + 36) = 0;
    v20 = v4 + 40;
    *(_DWORD *)v20 = *(_DWORD *)(v4 + 24);
    *(_DWORD *)(v20 + 4) = *(_DWORD *)(v4 + 28);
    if ( *(_BYTE *)(v3 + 3) == 2 )
    {
      *(_BYTE *)(v4 + 37) = 1;
      v97 = *(float *)(v3 + 44) + 1.570796370506287;
      v78 = sub_100637E0(v97);
      v98 = *(float *)(v3 + 44) + 0.7853981852531433;
      v21 = v98;
    }
    else
    {
      *(_BYTE *)(v4 + 37) = 2;
      v99 = *(float *)(v3 + 44) - 1.570796370506287;
      v78 = sub_100637E0(v99);
      v100 = *(float *)(v3 + 44) - 0.7853981852531433;
      v21 = v100;
    }
    v22 = v21;
    v101 = sub_100637E0(v22);
    v23 = v57;
    *(float *)(v4 + 64) = v57;
    v24 = v23;
    sub_100236E0(v4 + 40, v24, v78, v4 + 48);
    sub_100236E0(v4 + 48, v57, v101, v4 + 56);
    v25 = *(_DWORD *)(v4 + 56);
    v26 = *(_DWORD *)(v4 + 60);
    *(_BYTE *)(v4 + 68) = 1;
    *(_BYTE *)(v4 + 69) = 0;
    v27 = v4 + 72;
    *(_DWORD *)v27 = *(_DWORD *)(v4 + 56);
    v62 = v25;
    *(_DWORD *)(v27 + 4) = *(_DWORD *)(v4 + 60);
    v28 = *(float *)(v3 + 44);
    v29 = *(_BYTE *)(v3 + 3) == 2;
    v63 = v26;
    if ( v29 )
    {
      v102 = v28 - 0.7853981852531433;
      v30 = v102;
    }
    else
    {
      v103 = v28 + 0.7853981852531433;
      v30 = v103;
    }
    v31 = v30;
    v79 = sub_100637E0(v31);
    v55 = v69 - v58;
    sub_100236E0(v4 + 72, v55, v79, v4 + 88);
    v32 = v56;
    v33 = *(_DWORD *)(v4 + 88);
    v34 = *(_DWORD *)(v4 + 92);
    v35 = v4 + 104;
    *(_DWORD *)v35 = v33;
    *(_DWORD *)(v35 + 4) = v34;
    v62 = v33;
    LOBYTE(v33) = *(_BYTE *)(v3 + 3);
    *(float *)(v4 + 128) = v32;
    *(_BYTE *)(v4 + 101) = v33;
    *(_BYTE *)(v4 + 100) = 0;
    v36 = *(float *)(v3 + 44);
    v29 = *(_BYTE *)(v3 + 3) == 2;
    v63 = v34;
    if ( v29 )
    {
      v104 = v36 + 0.7853981852531433;
      v80 = sub_100637E0(v104);
      v105 = *(float *)(v3 + 44) - 1.570796370506287;
      v37 = v105;
    }
    else
    {
      v106 = v36 - 0.7853981852531433;
      v80 = sub_100637E0(v106);
      v107 = *(float *)(v3 + 44) + 1.570796370506287;
      v37 = v107;
    }
    v38 = v37;
    v108 = sub_100637E0(v38);
    sub_100236E0(v4 + 104, v56, v80, v4 + 112);
    sub_100236E0(v4 + 112, v56, v108, v4 + 120);
    sub_100191D0(v4 + 120, COERCE_FLOAT(v4 + 168), &v55, (int)&v64, &v64);
    v39 = *(_DWORD *)(v4 + 120);
    v40 = *(_DWORD *)(v4 + 124);
    *(_BYTE *)(v4 + 132) = 1;
    *(_BYTE *)(v4 + 133) = 0;
    *(_DWORD *)(v4 + 136) = v39;
    *(_DWORD *)(v4 + 140) = v40;
    *(_DWORD *)(v4 + 152) = *(_DWORD *)(v4 + 168);
    *(_DWORD *)(v4 + 156) = *(_DWORD *)(v4 + 172);
    v62 = v39;
    v63 = v40;
    *(_WORD *)v4 = 5;
    return sub_100341D0(0.0, v3, v59);
  }
  v41 = v71;
  if ( v71 < 0.0 && !*(_BYTE *)(v3 + 10) && !*(_BYTE *)(v3 + 9) )
  {
    *(float *)(v3 + 52) = *(float *)(v3 + 44);
    v41 = (float)0.0;
LABEL_36:
    qmemcpy((void *)(v4 + 4), (const void *)v59, 0x20u);
    qmemcpy((void *)(v4 + 36), (const void *)(v4 + 196), 0x20u);
    qmemcpy((void *)(v4 + 68), (const void *)(v4 + 228), 0x20u);
    qmemcpy((void *)(v4 + 100), (const void *)(v4 + 260), 0x20u);
    *(_WORD *)v4 = 4;
    if ( v41 <= 0.0 )
      *a3 = 2;
    else
      *a3 = 1;
    return sub_100341D0(0.0, v3, v59);
  }
  if ( v41 < 0.08726646 && v41 > -0.08726646 )
    goto LABEL_36;
  if ( v41 <= 0.0 )
  {
    *a3 = 2;
    v109 = (3.1415926535898 - -v41) * 0.5;
    v42 = -v109;
  }
  else
  {
    *a3 = 1;
    v42 = (3.1415926535898 - v41) * 0.5;
  }
  v56 = v42;
  v110 = 0;
  v43 = v4 + 4;
  v69 = *(float *)(v4 + 192);
  v60 = tan(v56);
  v55 = v69 / v60;
  sub_100236E0(v4 + 168, v55, *(float *)(v3 + 52), (int)&v62);
  v44 = v62;
  v45 = v63;
  if ( v71 > 0.0 )
  {
    *(_BYTE *)v43 = 1;
    *(_BYTE *)(v4 + 5) = 0;
    *(_DWORD *)(v4 + 8) = *(_DWORD *)(v4 + 168);
    *(_DWORD *)(v4 + 12) = *(_DWORD *)(v4 + 172);
    *(_DWORD *)(v4 + 24) = v44;
    *(_DWORD *)(v4 + 28) = v45;
    v110 = 1;
    v43 = v4 + 36;
  }
  *(_DWORD *)(v43 + 4) = v44;
  *(_DWORD *)(v43 + 8) = v45;
  *(_BYTE *)v43 = 0;
  *(_BYTE *)(v43 + 1) = *(_BYTE *)(v3 + 3);
  *(float *)(v43 + 28) = *(float *)(v4 + 192);
  v46 = *(float *)(v3 + 52);
  if ( *(_BYTE *)(v3 + 3) == 2 )
  {
    v81 = v46 + 1.570796370506287;
    v47 = v81;
  }
  else
  {
    v82 = v46 - 1.570796370506287;
    v47 = v82;
  }
  v48 = v47;
  v83 = sub_100637E0(v48);
  sub_100236E0((int)&v62, *(float *)(v4 + 192), v83, v43 + 12);
  sub_10018B00((float *)(v43 + 12), (float *)(v4 + 240), &v55, (int)&v64);
  v84 = atan((*(float *)(v4 + 256) - *(float *)(v4 + 192)) / v55);
  if ( *(_BYTE *)(v3 + 3) == 2 )
  {
    v85 = *(float *)(v3 + 44) + 1.570796370506287 - (v84 + v84);
    v49 = v85;
  }
  else
  {
    v86 = v84 + v84 + *(float *)(v3 + 44) - 1.570796370506287;
    v49 = v86;
  }
  v50 = v49;
  v87 = sub_100637E0(v50);
  sub_100236E0(v43 + 12, *(float *)(v4 + 192), v87, v43 + 20);
  sub_100236E0(v4 + 240, *(float *)(v4 + 256), v87, (int)&v66);
  v51 = v4 + 32 * (char)(v110 + 1);
  *(_BYTE *)(v51 + 4) = 1;
  *(_BYTE *)(v51 + 5) = 0;
  *(_DWORD *)(v51 + 8) = *(_DWORD *)(v51 - 8);
  *(_DWORD *)(v51 + 12) = *(_DWORD *)(v51 - 4);
  *(_DWORD *)(v51 + 24) = v66;
  *(_DWORD *)(v51 + 28) = v67;
  v52 = v4 + 32 * (char)(v110 + 2);
  qmemcpy((void *)(v52 + 4), (const void *)(v4 + 228), 0x20u);
  *(_DWORD *)(v52 + 8) = v66;
  *(_DWORD *)(v52 + 12) = v67;
  qmemcpy((void *)(32 * (char)(v110 + 3) + v4 + 4), (const void *)(v4 + 260), 0x20u);
  *(_WORD *)v4 = (char)(v110 + 3) + 1;
  return sub_100341D0(0.0, v3, v59);
}

//----- (10034D90) --------------------------------------------------------
void __cdecl sub_10034D90(int a1, char a2, int a3, int a4, __int16 *a5)
{
  __int16 v5; // ax@1
  char v6; // bl@2
  int v7; // ecx@2
  int v8; // edi@2
  int v9; // ecx@7
  int v10; // eax@7
  int v11; // edx@7
  int v12; // ebp@7
  __int16 v13; // cx@8
  unsigned __int8 v14; // cl@9
  char v15; // al@10
  bool v16; // al@17
  unsigned int v17; // esi@19
  __int16 v18; // cx@19
  char v19; // bl@24
  int v20; // eax@42
  __int16 v21; // cx@42
  int v22; // edi@48
  int v23; // ecx@48
  double v24; // st7@49
  __int16 v25; // ST0C_2@50
  __int16 v26; // ax@51
  bool v27; // zf@58
  int v28; // edx@59
  int v29; // eax@59
  int v30; // eax@59
  double v31; // st7@59
  signed __int16 v32; // ax@61
  bool v33; // sf@61
  unsigned __int8 v34; // of@61
  signed int i; // esi@62
  __int16 v36; // ax@67
  unsigned int v37; // eax@72
  int v38; // edx@72
  int v39; // edx@73
  int v40; // ecx@73
  int v41; // edx@73
  double v42; // st7@73
  char v43; // [sp+1Fh] [bp-1A1h]@3
  char v44; // [sp+20h] [bp-1A0h]@7
  float v45; // [sp+24h] [bp-19Ch]@48
  int v46; // [sp+28h] [bp-198h]@2
  char v47; // [sp+2Ch] [bp-194h]@2
  int v48; // [sp+2Eh] [bp-192h]@8
  int v49; // [sp+38h] [bp-188h]@59
  int v50; // [sp+44h] [bp-17Ch]@59
  int v51; // [sp+48h] [bp-178h]@59
  float v52; // [sp+4Ch] [bp-174h]@59
  int v53; // [sp+50h] [bp-170h]@19
  int v54; // [sp+54h] [bp-16Ch]@19
  float v55; // [sp+58h] [bp-168h]@59
  float v56; // [sp+5Ch] [bp-164h]@59
  int v57; // [sp+60h] [bp-160h]@2
  float v58; // [sp+64h] [bp-15Ch]@46
  float v59; // [sp+68h] [bp-158h]@59
  int v60; // [sp+6Ch] [bp-154h]@2
  char v61; // [sp+70h] [bp-150h]@2
  int v62; // [sp+72h] [bp-14Eh]@50
  float v63; // [sp+7Ch] [bp-144h]@50
  int v64; // [sp+94h] [bp-12Ch]@50
  int v65; // [sp+98h] [bp-128h]@50
  __int16 v66; // [sp+9Ch] [bp-124h]@5
  __int16 v67; // [sp+9Eh] [bp-122h]@62
  char v68; // [sp+A0h] [bp-120h]@54
  char v69[3]; // [sp+A1h] [bp-11Fh]@19
  int v70; // [sp+A4h] [bp-11Ch]@42
  int v71; // [sp+A8h] [bp-118h]@42
  int v72; // [sp+ACh] [bp-114h]@59
  int v73; // [sp+B0h] [bp-110h]@59
  int v74; // [sp+B4h] [bp-10Ch]@19
  int v75; // [sp+B8h] [bp-108h]@19
  float v76[33]; // [sp+BCh] [bp-104h]@59
  char v77; // [sp+140h] [bp-80h]@72
  char v78[3]; // [sp+141h] [bp-7Fh]@72
  char v79[8]; // [sp+144h] [bp-7Ch]@73
  int v80; // [sp+14Ch] [bp-74h]@73
  int v81; // [sp+150h] [bp-70h]@73
  int v82; // [sp+154h] [bp-6Ch]@72
  int v83; // [sp+158h] [bp-68h]@72
  float v84[18]; // [sp+15Ch] [bp-64h]@73
  int v85; // [sp+1A4h] [bp-1Ch]@7
  int v86; // [sp+1A8h] [bp-18h]@7

  v5 = *a5;
  if ( *a5 != -1 )
  {
    v6 = a2;
    v7 = 180 * (unsigned __int8)a2;
    v8 = v7 + a1 + 608;
    LOBYTE(v57) = 0;
    v46 = 44 * v5 + a4 + 324;
    v60 = v7 + a1 + 608;
    sub_10024C30(v8, a2, &v47);
    sub_10024C30(v8, a2, &v61);
    if ( *(_BYTE *)a3 || (v43 = 0, *(_BYTE *)(a3 + 1) != 2) )
      v43 = 1;
    *(_BYTE *)(a3 + 10) = (*(_BYTE *)(v46 + 2) & 6) == 4;
    sub_100343F0(a3, (int)&v66, &v57);
    if ( *(_BYTE *)(a3 + 1) == 2 )
    {
      sub_10033FB0(a1, a2, (int)&v66, v57, *(_BYTE *)a3);
      v6 = a2;
    }
    v9 = v86;
    v10 = v8 + 112;
    *(_DWORD *)v10 = v85;
    *(_DWORD *)(v10 + 4) = v9;
    sub_10022FC0(v8 + 112, v8 + 120, (float *)(v8 + 88), (float *)&v44, (float *)&v44);
    v11 = v66;
    v12 = 0;
    if ( v66 > 0 )
    {
      do
      {
        v13 = (v48 & 0xFFFE | *(_BYTE *)(v8 + 58) & 1) & 0xEFFF | 8;
        v47 = v6;
        LOWORD(v48) = v13;
        v16 = v12
           || (v14 = *(_BYTE *)(a4 + 17), v6 == v14)
           && ((v15 = *(_BYTE *)(a4 + 18), v15 == 26) || v15 == 27 || v15 == 28 || v15 == 25 || v15 == 5)
           || v14 != -1 && v14 > (unsigned __int8)v6;
        v17 = 32 * v12;
        v18 = v48 & 0xD3FF | (((unsigned __int16)(8 * v16) | v69[32 * v12] & 3) << 10);
        v53 = *(&v74 + 8 * v12);
        v54 = *(&v75 + 8 * v12);
        LOWORD(v48) = v18;
        if ( (unsigned __int8)v57 == 1 )
        {
          switch ( v12 )
          {
            case 0:
              v19 = 10;
              break;
            case 1:
              v19 = (*(&v68 + v17) != 0) + 10;
              break;
            case 2:
              v19 = (*(&v68 + v17) == 0) + 11;
              break;
            case 3:
              v19 = (*(&v68 + v17) != 0) + 12;
              break;
            default:
              v19 = 13;
              break;
          }
          goto LABEL_58;
        }
        if ( (unsigned __int8)v57 == 2 )
        {
          if ( !v12 )
          {
            v19 = 14;
LABEL_41:
            if ( *(_BYTE *)(a3 + 9) )
            {
              v20 = v46;
              *(_DWORD *)(v46 + 36) = v70;
              v21 = *(_WORD *)(v20 + 2) & 0xFCEF | 0x20E0;
              *(_DWORD *)(v20 + 40) = v71;
              *(_WORD *)(v20 + 2) = v21;
            }
            else
            {
              v58 = *(float *)(a3 + 52) - *(float *)(a3 + 44);
              LODWORD(v58) &= 0x7FFFFFFFu;
              if ( v58 >= 0.08726646 )
              {
                if ( *(_BYTE *)(v46 + 2) & 1 )
                {
                  v63 = 0.0;
                  LOWORD(v62) = v62 & 0xFCE9 | 0x20E0;
                  v65 = v71;
                  v26 = *a5;
                  v64 = v70;
                  *a5 = sub_10025DE0(v26, &v61, a4);
                }
                else
                {
                  v22 = v46 + 36;
                  sub_10022FC0((int)&v70, v46 + 36, &v45, (float *)&v44, (float *)&v44);
                  v23 = v46;
                  if ( *(float *)(v46 + 12) - v45 <= 100.0 )
                  {
                    sub_100236E0(44 * *(_WORD *)(v46 + 10) + a4 + 360, 100.0, *(float *)(a3 + 52), v22);
                    *(float *)(v46 + 12) = 100.0;
                    v63 = 0.0;
                    LOWORD(v62) = v62 & 0xFCE9 | 0x20E0;
                    v64 = v70;
                    v25 = *a5;
                    v65 = v71;
                    *a5 = sub_10025DE0(v25, &v61, a4);
                    v8 = v60;
                  }
                  else
                  {
                    v24 = *(float *)(v46 + 12);
                    *(_DWORD *)v22 = v70;
                    *(_DWORD *)(v22 + 4) = v71;
                    v8 = v60;
                    *(float *)(v23 + 12) = v24 - v45;
                  }
                }
              }
            }
            goto LABEL_58;
          }
          if ( v12 == 1 )
          {
            v19 = 15;
          }
          else if ( v12 == 2 )
          {
            v19 = 16;
          }
          else
          {
            v19 = 17;
            if ( !v12 )
              goto LABEL_41;
          }
        }
        else if ( (unsigned __int8)v57 == 3 )
        {
          if ( v12 )
          {
            if ( v12 == 1 )
            {
              v19 = 19;
            }
            else if ( v12 == 2 )
            {
              v19 = 20;
            }
            else
            {
              v19 = 21;
            }
          }
          else
          {
            v19 = 18;
          }
          if ( v12 == v11 - 1 && *(_BYTE *)(a3 + 1) != 2 )
            LOWORD(v48) = v18 | 0x1000;
        }
        else if ( v12 )
        {
          if ( v12 == 1 )
            v19 = 23;
          else
            v19 = 24;
        }
        else
        {
          v19 = 22;
        }
LABEL_58:
        v27 = *(&v68 + v17) == 0;
        LOWORD(v48) = v48 & 0xFC0F | 16 * (v19 & 0x3F);
        if ( v27 )
        {
          v28 = *(int *)((char *)&v72 + v17);
          v52 = v76[v17 / 4];
          v29 = *(int *)((char *)&v73 + v17);
          LOWORD(v48) = v48 & 0xFFFB | 2;
          v50 = v28;
          v51 = v29;
          sub_10022FC0((int)&v50, (int)&v70 + v17, &v45, &v59, (float *)&v44);
          sub_10022FC0((int)&v50, (int)&v53, &v45, &v55, (float *)&v44);
          LOBYTE(v30) = (v48 & 0xC00) == 2048;
          v31 = sub_10063550(v59, v55, v30);
          v56 = v31 * v52;
          v49 = LODWORD(v56) & 0x7FFFFFFF;
        }
        else
        {
          LOWORD(v48) = v48 & 0xFFFD | 4;
          sub_10022FC0((int)&v70 + v17, (int)&v53, (float *)&v49, (float *)&v44, (float *)&v44);
        }
        v32 = sub_10025DE0(*a5, &v47, a4);
        v11 = v66;
        v6 = a2;
        v34 = __OFSUB__(++v12, v66);
        v33 = v12 - v66 < 0;
        *a5 = v32;
      }
      while ( v33 ^ v34 );
    }
    for ( i = 0; i < v67; ++i )
    {
      if ( !v43 )
        break;
      LOWORD(v48) = v48 & 0xEFFF | 0x2000;
      if ( i )
      {
        if ( i == 1 )
        {
          LOWORD(v48) = v48 & 0xFDBF | 0x1B0;
        }
        else if ( i == 2 )
        {
          LOWORD(v48) = v48 & 0xFDCF | 0x1C0;
        }
        else
        {
          v36 = v48 & 0xFD9F | 0x190;
          v27 = *(_BYTE *)(a3 + 1) == 2;
          LOWORD(v48) = v48 & 0xFD9F | 0x190;
          if ( !v27 )
            LOWORD(v48) = v36 | 0x1000;
        }
      }
      else
      {
        LOWORD(v48) = v48 & 0xFDAF | 0x1A0;
      }
      v37 = 32 * i;
      v38 = *(&v83 + 8 * i);
      v27 = *(&v77 + 32 * i) == 0;
      LOWORD(v48) = ((v78[32 * i] & 3) << 10) | (v48 & 0xFFFE | *(_BYTE *)(v8 + 58) & 1) & 0xF3FF | 8;
      v53 = *(&v82 + 8 * i);
      v47 = v6;
      v54 = v38;
      if ( v27 )
      {
        v39 = *(int *)((char *)&v80 + v37);
        v52 = v84[v37 / 4];
        LOWORD(v48) = v48 & 0xFFFB | 2;
        v40 = *(int *)((char *)&v81 + v37);
        v50 = v39;
        v51 = v40;
        sub_10022FC0((int)&v50, (int)&v79[v37], &v45, &v59, (float *)&v44);
        sub_10022FC0((int)&v50, (int)&v53, &v45, &v55, (float *)&v44);
        LOBYTE(v41) = (v48 & 0xC00) == 2048;
        v42 = sub_10063550(v59, v55, v41);
        v56 = v42 * v52;
        v49 = LODWORD(v56) & 0x7FFFFFFF;
      }
      else
      {
        LOWORD(v48) = v48 & 0xFFFD | 4;
        sub_10022FC0((int)&v79[v37], (int)&v53, (float *)&v49, (float *)&v44, (float *)&v44);
      }
      *a5 = sub_10025DE0(*a5, &v47, a4);
    }
  }
}
// 10034D90: using guessed type char var_11F[3];
// 10034D90: using guessed type float var_104[33];
// 10034D90: using guessed type char var_7F[3];
// 10034D90: using guessed type float var_64[18];
// 10034D90: using guessed type char var_7C[8];

//----- (100355E0) --------------------------------------------------------
signed __int16 __cdecl sub_100355E0(int a1, unsigned __int8 a2, int a3, int a4, __int16 *a5)
{
  __int16 v5; // cx@1
  __int16 v6; // ax@1
  char v7; // dl@1
  unsigned __int8 v8; // cl@3
  signed __int16 result; // ax@5
  int v10; // ecx@7
  int v11; // eax@9
  int v12; // edx@10
  double v13; // st7@19
  unsigned __int8 v14; // cl@23
  int *v15; // ebp@24
  int v16; // edx@37
  double v17; // st7@38
  int v18; // edx@42
  int v19; // eax@42
  int v20; // ecx@42
  int v21; // edx@42
  int v22; // [sp+8h] [bp-6Ch]@43
  int v23; // [sp+1Ch] [bp-58h]@1
  char v24; // [sp+20h] [bp-54h]@37
  int v25; // [sp+24h] [bp-50h]@7
  int v26; // [sp+28h] [bp-4Ch]@7
  int v27; // [sp+2Ch] [bp-48h]@11
  char v28; // [sp+34h] [bp-40h]@12
  float v29; // [sp+44h] [bp-30h]@15
  char v30; // [sp+48h] [bp-2Ch]@1
  int v31; // [sp+4Ah] [bp-2Ah]@1
  float v32; // [sp+54h] [bp-20h]@37
  int v33; // [sp+6Ch] [bp-8h]@37
  int v34; // [sp+70h] [bp-4h]@37
  int v35; // [sp+78h] [bp+4h]@6
  float v36; // [sp+7Ch] [bp+8h]@38
  float v37; // [sp+7Ch] [bp+8h]@38

  v23 = 180 * a2 + a1;
  sub_10024C30(v23 + 608, a2, &v30);
  v5 = *(_WORD *)a3;
  v6 = v31 & 0xFC9D | 0x94;
  v7 = *(_WORD *)a3 & 6;
  LOWORD(v31) = v31 & 0xFC9D | 0x94;
  if ( v7 != 6 )
  {
    v6 ^= (v31 ^ (v5 << 9)) & 0xC00;
    LOWORD(v31) = v6;
  }
  v8 = *(_BYTE *)(v23 + 671);
  if ( v8 != 8 )
    LOWORD(v31) = v6 | 1;
  result = v8;
  switch ( v8 )
  {
    case 7u:
    case 0xAu:
      v35 = a2 - 1;
      if ( *(_BYTE *)(44 * *a5 + a4 + 324) == v35 )
      {
        if ( v8 == 10 )
        {
          v11 = *(_DWORD *)(v23 + 732);
          v25 = *(_DWORD *)(v23 + 728);
          v26 = v11;
        }
        else
        {
          v12 = *(_DWORD *)(v23 + 724);
          v25 = *(_DWORD *)(v23 + 720);
          v26 = v12;
        }
      }
      else
      {
        v10 = *(_DWORD *)(a3 + 36);
        v25 = *(_DWORD *)(a3 + 32);
        v26 = v10;
      }
      sub_100236E0((int)&v25, 9260.0, *(float *)(v23 + 752), (int)&v27);
      if ( *(_BYTE *)(a4 + 17) == a2 )
        sub_10023960((int)&v25, (int)&v27, a4 + 136, (int)&v28);
      else
        sub_10023960((int)&v25, (int)&v27, a3 + 32, (int)&v28);
      if ( !v28 )
        v29 = v29 * -1.0;
      if ( *(_BYTE *)(v23 + 671) == 10 )
      {
        if ( *(_BYTE *)(a4 + 17) != a2 || *(_BYTE *)(a4 + 24) != 2 )
        {
          v13 = 9260.0;
          LOWORD(v31) = v31 & 0xDFFF | 0x1000;
LABEL_23:
          v14 = *(_BYTE *)(a4 + 17);
          if ( v14 != -1 )
          {
            v15 = (int *)(a3 + 24);
            if ( *(float *)(a3 + 24) != 6.283185005187988 )
            {
              if ( v14 > a2 )
                goto LABEL_36;
              if ( v14 == a2 && !*(_BYTE *)(a4 + 104)
                || v14 == a2 && *(_BYTE *)(a4 + 18) == 6
                || v14 == v35 && *(_BYTE *)(a4 + 18) == 5
                || v14 == a2 - 2 && *(_BYTE *)(v23 + 491) == 14 && *(_BYTE *)(a4 + 18) == 5 )
              {
                if ( v14 <= a2 )
                {
LABEL_37:
                  sub_10022FC0((int)&v25, (int)v15, &v32, (float *)&v24, (float *)&v24);
                  v16 = *(_DWORD *)(a3 + 28);
                  v33 = *v15;
                  v34 = v16;
LABEL_41:
                  if ( *(_BYTE *)(v23 + 671) != 10 )
                  {
                    v18 = v25;
                    v19 = v26;
                    *(float *)(v23 + 696) = v32;
                    v20 = v33;
                    *(_DWORD *)(v23 + 720) = v18;
                    v21 = v34;
                    *(_DWORD *)(v23 + 724) = v19;
                    *(_DWORD *)(v23 + 728) = v20;
                    *(_DWORD *)(v23 + 732) = v21;
                  }
                  v22 = a4;
                  goto LABEL_45;
                }
LABEL_36:
                LOWORD(v31) = v31 & 0xCFFF;
                goto LABEL_37;
              }
            }
          }
          v36 = v13;
          v37 = v36 + v29;
          v17 = v37;
          if ( v37 <= 50.0 )
            v17 = 50.0;
          v32 = v17;
          sub_100236E0((int)&v25, v32, *(float *)(v23 + 752), (int)&v33);
          goto LABEL_41;
        }
        v13 = 50.0;
      }
      else
      {
        v13 = sub_10024830(v23 + 608, a3, a4 + 16);
      }
      LOWORD(v31) = v31 & 0xCFFF;
      goto LABEL_23;
    case 8u:
    case 9u:
      v22 = a4;
LABEL_45:
      result = sub_10025DE0(*a5, &v30, v22);
      *a5 = result;
      return result;
    default:
      return result;
  }
}

//----- (100358E0) --------------------------------------------------------
double __cdecl sub_100358E0(float a1, float a2, float a3)
{
  float v3; // ST00_4@1
  double v4; // ST04_8@1
  float v6; // [sp+18h] [bp+Ch]@1
  float v7; // [sp+18h] [bp+Ch]@1
  float v8; // [sp+18h] [bp+Ch]@1

  v3 = sin(a3);
  v4 = 3.1415926535898 - a3;
  v6 = asin(v3 * a2 / a1);
  v7 = v4 - v6;
  v8 = sin(v7);
  return (float)(v8 * (a1 / v3));
}

//----- (10035950) --------------------------------------------------------
void __cdecl sub_10035950(int a1, char a2, int a3, int a4, __int16 *a5, int a6)
{
  double v6; // st7@1
  int v7; // edi@1
  bool v8; // zf@1
  double v9; // st7@5
  double v10; // st7@8
  int v11; // ecx@16
  __int16 v12; // ax@16
  int v13; // ST1C_4@21
  double v14; // st7@22
  int v15; // ST40_4@26
  int v16; // ST40_4@27
  int v17; // ecx@28
  float v18; // ST28_4@30
  int v19; // eax@30
  int v20; // edx@30
  __int16 v21; // cx@30
  int v22; // eax@30
  int v23; // ecx@33
  __int16 v24; // ax@33
  double v25; // st7@34
  int v26; // ST40_4@34
  int v27; // ST40_4@37
  int v28; // ST40_4@41
  int v29; // ST40_4@44
  double v30; // st7@44
  int v31; // ST40_4@46
  double v32; // st7@46
  double v33; // st6@46
  int v34; // ST40_4@54
  double v35; // st7@54
  int v36; // ST40_4@55
  float v37; // ST2C_4@56
  int v38; // ST40_4@56
  int v39; // edx@56
  double v40; // st7@57
  int v41; // ST40_4@58
  double v42; // st7@58
  int v43; // ST40_4@59
  double v44; // st7@61
  int v45; // ST40_4@64
  float v46; // ST28_4@64
  int v47; // ST40_4@67
  __int16 v48; // ax@67
  signed __int16 v49; // ax@67
  double v50; // st7@67
  int v51; // ST40_4@67
  int v52; // eax@67
  int v53; // ebx@70
  __int16 i; // ax@70
  int v55; // eax@73
  __int16 v56; // ST04_2@74
  int v57; // ST40_4@76
  int v58; // ST40_4@76
  __int16 v59; // dx@77
  int v60; // [sp+20h] [bp-94h]@30
  int v61; // [sp+20h] [bp-94h]@34
  int v62; // [sp+20h] [bp-94h]@46
  float v63; // [sp+20h] [bp-94h]@58
  __int16 v64; // [sp+20h] [bp-94h]@70
  char v65; // [sp+27h] [bp-8Dh]@1
  float v66; // [sp+28h] [bp-8Ch]@21
  float v67; // [sp+2Ch] [bp-88h]@22
  float v68; // [sp+30h] [bp-84h]@46
  float v69; // [sp+34h] [bp-80h]@1
  float v70; // [sp+38h] [bp-7Ch]@21
  float v71; // [sp+3Ch] [bp-78h]@30
  int v72; // [sp+40h] [bp-74h]@1
  float v73; // [sp+44h] [bp-70h]@46
  char v74; // [sp+4Bh] [bp-69h]@1
  char v75[4]; // [sp+4Ch] [bp-68h]@3
  float v76; // [sp+50h] [bp-64h]@47
  float v77; // [sp+54h] [bp-60h]@21
  float v78; // [sp+58h] [bp-5Ch]@46
  int v79; // [sp+5Ch] [bp-58h]@30
  int v80; // [sp+60h] [bp-54h]@30
  int v81; // [sp+64h] [bp-50h]@22
  int v82; // [sp+68h] [bp-4Ch]@46
  int v83; // [sp+6Ch] [bp-48h]@67
  char v84; // [sp+70h] [bp-44h]@11
  int v85; // [sp+72h] [bp-42h]@16
  int v86; // [sp+7Ch] [bp-38h]@16
  int v87; // [sp+88h] [bp-2Ch]@67
  int v88; // [sp+8Ch] [bp-28h]@67
  float v89; // [sp+90h] [bp-24h]@67
  int v90; // [sp+94h] [bp-20h]@16
  int v91; // [sp+98h] [bp-1Ch]@16
  int v92; // [sp+9Ch] [bp-18h]@56
  int v93; // [sp+A0h] [bp-14h]@67
  double v94; // [sp+A4h] [bp-10h]@61
  int v95; // [sp+ACh] [bp-8h]@60

  v6 = *(float *)(a3 + 16);
  v72 = 180 * (unsigned __int8)a2 + a1;
  v7 = v72 + 608;
  v69 = v6;
  v8 = *(_BYTE *)(a1 + 44) == 0;
  v74 = 0;
  v65 = 0;
  if ( v8 || *(_BYTE *)(a1 + 45) != *(_BYTE *)v7 )
    v75[0] = *(_BYTE *)(v72 + 672);
  else
    v75[0] = *(_BYTE *)(a1 + 46);
  v9 = v69;
  if ( (LODWORD(v69) & 0x7F800000) == 2139095040 || v9 > 385.83334 )
  {
    v10 = 385.83334;
    goto LABEL_10;
  }
  if ( v9 < 30.86666679382324 )
  {
    v10 = 30.866667;
LABEL_10:
    v69 = v10;
  }
  sub_10024C30(v7, a2, &v84);
  if ( a2 == *(_BYTE *)(a4 + 17) && (*(float *)(a4 + 124) < 15.43324184417725 || 9.9999996e24 == *(float *)(a4 + 124)) )
  {
    *(float *)(a3 + 8) = 6.283185;
    *(_DWORD *)(a3 + 32) = *(_DWORD *)(v7 + 112);
    *(_DWORD *)(a3 + 36) = *(_DWORD *)(v7 + 116);
  }
  if ( *(_BYTE *)a3 & 0x10 )
  {
    *(float *)&v86 = 0.0;
    v11 = *(_DWORD *)(a3 + 36);
    v90 = *(_DWORD *)(a3 + 32);
    LOWORD(v85) = v85 & 0xF009 | 0x3000;
    v12 = *a5;
    v91 = v11;
    *a5 = sub_10025DE0(v12, &v84, a4);
    sub_10024C30(v7, a2, &v84);
  }
  if ( a2 == *(_BYTE *)(a1 + 5)
    || *(_BYTE *)(v72 + 491) != 14
    || *(_BYTE *)(a1 + 584) != (unsigned __int8)a2 - 1
    || 0.0 == *(float *)(a1 + 596)
    || (v13 = 44 * *a5 + a4 + 360, v74 = 1, sub_10022FC0(v13, v7 + 120, &v66, &v77, &v70), v66 >= 25.0) )
  {
    v81 = v7 + 120;
    sub_10022FC0(a3 + 32, v7 + 120, &v66, &v77, &v70);
    v67 = *(float *)(a3 + 8);
    v14 = v67;
    if ( v66 >= 25.0 )
      goto LABEL_34;
    if ( v75[0] && *(float *)(a3 + 8) != 6.283185005187988 )
    {
      if ( v75[0] == 2 )
      {
        *(float *)&v15 = v14 + 4.188790321350098;
        v77 = sub_100637E0(*(float *)&v15);
      }
      else
      {
        *(float *)&v16 = v14 - 4.188790321350098;
        v77 = sub_100637E0(*(float *)&v16);
      }
LABEL_34:
      v25 = v77 - v67;
      *(_DWORD *)(v7 + 112) = *(_DWORD *)(a3 + 32);
      *(float *)&v26 = v25;
      *(_DWORD *)(v7 + 116) = *(_DWORD *)(a3 + 36);
      *(float *)&v61 = sub_100637E0(*(float *)&v26);
      v72 = v61 & 0x7FFFFFFF;
      if ( COERCE_FLOAT(v61 & 0x7FFFFFFF) < 0.08726646 || *(float *)(a3 + 8) == 6.283185005187988 )
      {
LABEL_68:
        if ( v74 && v65 )
        {
          v53 = 44 * *a5 + a4;
          v64 = *a5;
          for ( i = *(_WORD *)(v53 + 334); i != -1; i = *(_WORD *)(v53 + 334) )
          {
            if ( !(*(_BYTE *)(v53 + 326) & 6) )
              break;
            if ( *(_BYTE *)(v53 + 324) != a2 )
              break;
            v64 = i;
            v55 = 44 * i;
            v53 = v55 + a4;
            sub_10024DA0(*(_WORD *)(v55 + a4 + 332), a4);
          }
          *a5 = v64;
          sub_10024C30(v7, a2, &v84);
          sub_10022FC0(44 * *a5 + a4 + 360, v81, (float *)&v86, &v78, &v68);
          v56 = *a5;
          LOWORD(v85) = v85 & 0xE00D | 0x2004;
          *a5 = sub_10025DE0(v56, &v84, a4);
        }
        else
        {
          sub_10022FC0(v7 + 112, v81, (float *)&v86, &v78, &v68);
          *(float *)(v7 + 88) = *(float *)&v86;
          *(float *)(v7 + 92) = v78;
          if ( !sub_10032B60(a1, a2, a3, a4, a5, a6, 0) )
          {
            *(float *)&v57 = v78 - v77;
            *(float *)&v58 = sub_100637E0(*(float *)&v57);
            if ( COERCE_FLOAT(v58 & 0x7FFFFFFF) < 0.017453292 )
            {
              v59 = *a5;
              LOWORD(v85) = v85 & 0xE00D | 0x2004;
              *a5 = sub_10025DE0(v59, &v84, a4);
            }
          }
          if ( *(float *)(a3 + 8) == 6.283185005187988 )
            *(float *)(a3 + 8) = *(float *)(v7 + 92);
        }
        return;
      }
      if ( !v75[0] )
      {
        *(float *)&v27 = *(float *)&v61 + 3.141592741012573;
        if ( sub_100637E0(*(float *)&v27) >= 0.0087266462 )
          v75[0] = 1;
        else
          v75[0] = 2;
      }
      v8 = (*(_BYTE *)a3 & 0x10) == 0;
      v79 = *(_DWORD *)(a3 + 32);
      v80 = *(_DWORD *)(a3 + 36);
      if ( !v8 )
      {
        v65 = 1;
        *(float *)&v28 = v69 * 5.0;
        sub_100236E0(a3 + 32, *(float *)&v28, v67, (int)&v79);
        sub_10022FC0((int)&v79, v81, &v66, &v77, &v70);
      }
      *(float *)&v72 = 1.5707964;
      if ( v75[0] == 1 )
        *(float *)&v72 = -1.5707964;
      *(float *)&v29 = sub_1002E280(a3 + 40, v69, v67, v77, v75[0]);
      v30 = *(float *)&v29;
      if ( v69 >= (double)*(float *)&v29 )
        v30 = v69;
      *(float *)&v31 = v30;
      v73 = sub_10029590(*(float *)&v31, *(float *)(a3 + 12));
      *(float *)&v62 = *(float *)&v72 + v67;
      v70 = sub_100637E0(*(float *)&v62);
      sub_100236E0((int)&v79, v73, v70, (int)&v82);
      sub_10022FC0(v81, (int)&v82, &v66, &v78, &v68);
      v32 = v66;
      v33 = v73;
      if ( v73 > (double)v66 )
      {
        v65 = 1;
        v71 = v68 + 3.141592741012573;
        v68 = sub_100637E0(v71);
        v76 = sub_10063550(v67, v68, 1);
        if ( v76 > 3.141592741012573 )
        {
          v71 = sub_10063550(v67, v68, 0);
          LODWORD(v76) = LODWORD(v71) & 0x7FFFFFFF;
        }
        v66 = sub_100358E0(v73, v66, v76);
        v70 = sub_100637E0(*(float *)&v62);
        sub_100236E0((int)&v79, v66, v67, (int)&v79);
        sub_100236E0((int)&v79, v73, v70, (int)&v82);
        sub_10022FC0(v81, (int)&v82, &v66, &v78, &v68);
        v32 = v66;
        v33 = v73;
      }
      if ( v33 >= v32 )
        v69 = 1.5707964;
      else
        v69 = asin(v33 / v32);
      if ( v75[0] == 2 )
      {
        *(float *)&v34 = v69 + v68 + 3.141592741012573;
        v35 = *(float *)&v34;
      }
      else
      {
        *(float *)&v36 = v68 - v69 + 3.141592741012573;
        v35 = *(float *)&v36;
      }
      v37 = v35;
      v68 = sub_100637E0(v37);
      *(float *)&v38 = v68 - *(float *)&v72;
      v70 = sub_100637E0(*(float *)&v38);
      sub_100236E0((int)&v82, v73, v70, (int)&v92);
      LOBYTE(v39) = v75[0] == 2;
      v69 = sub_10063550(v67, v68, v39);
      LODWORD(v76) = LODWORD(v69) & 0x7FFFFFFF;
      if ( COERCE_FLOAT(LODWORD(v69) & 0x7FFFFFFF) <= 4.1887903
        || ((v40 = v67, v75[0] != 2) ? (*(float *)&v43 = v40 - 4.188790321350098,
                                        v63 = sub_100637E0(*(float *)&v43),
                                        v42 = -4.1887903) : (*(float *)&v41 = v40 + 4.188790321350098,
                                                             v63 = sub_100637E0(*(float *)&v41),
                                                             v42 = 4.1887903),
            (v76 = v42,
             sub_10023090((int)&v82, v67, v81, v63, (int)&v95),
             sub_10022FC0((int)&v82, (int)&v95, &v66, &v78, &v68),
             v70 = 0.52359879,
             v71 = v78 - v67,
             LODWORD(v71) &= 0x7FFFFFFFu,
             v71 <= 1.570796370506287) ? (v94 = v73, v71 = cos(0.5235987901687622), v44 = v73 / v71 + v66) : (v94 = v73, v71 = cos(0.5235987901687622), v44 = v73 / v71 - v66),
            v66 = v44,
            v73 + v73 < v66) )
      {
        if ( !v65 )
        {
LABEL_67:
          v89 = v73;
          LOWORD(v85) = v85 & 0xFC1B | 0x12;
          *(float *)&v47 = v73 * v69;
          v90 = v92;
          v88 = v83;
          v87 = v82;
          v48 = *a5;
          v91 = v93;
          LOWORD(v85) = v85 & 0xF3FF | ((v75[0] & 3 | 0xC) << 10);
          v86 = v47 & 0x7FFFFFFF;
          v49 = sub_10025DE0(v48, &v84, a4);
          v50 = v69;
          *a5 = v49;
          *(float *)&v51 = v50 + v67;
          v77 = sub_100637E0(*(float *)&v51);
          sub_10024C30(v7, a2, &v84);
          v52 = v93;
          *(_DWORD *)(v7 + 112) = v92;
          *(_DWORD *)(v7 + 116) = v52;
          goto LABEL_68;
        }
      }
      else
      {
        v77 = v63;
        v69 = v76;
        v65 = 1;
        sub_100236E0((int)&v79, v66, v67, (int)&v79);
        sub_100236E0((int)&v82, v66, v67, (int)&v82);
        *(float *)&v45 = v77 - *(float *)&v72;
        v46 = sub_100637E0(*(float *)&v45);
        sub_100236E0((int)&v82, v73, v46, (int)&v92);
      }
      v90 = v79;
      v91 = v80;
      LOWORD(v85) = v85 & 0xF01D | 0x3014;
      sub_10022FC0(a3 + 32, (int)&v90, (float *)&v86, &v78, &v68);
      *a5 = sub_10025DE0(*a5, &v84, a4);
      sub_10024C30(v7, a2, &v84);
      goto LABEL_67;
    }
    v17 = *(_BYTE *)(a1 + 4);
    v70 = 0.0;
    if ( (unsigned __int8)a2 + 1 < v17 )
      v70 = *(float *)(v72 + 880);
    v71 = v70 + 3.141592502593994;
    v60 = v72 + 728;
    v18 = sub_100637E0(v71);
    sub_100236E0(v60, 50.0, v18, (int)&v79);
    v19 = v80;
    *(float *)(v7 + 92) = v70;
    v20 = v79;
    *(_DWORD *)(v7 + 116) = v19;
    *(_DWORD *)(v7 + 112) = v20;
    v21 = *a5;
    v22 = a4 + 44 * *a5;
    if ( *(_BYTE *)(v22 + 324) == a2 )
    {
      *(_DWORD *)(v22 + 360) = v20;
      *(_DWORD *)(v22 + 364) = v80;
    }
    else
    {
      *(float *)&v86 = 0.0;
      LOWORD(v85) = v85 & 0xF009 | 0x3000;
      v90 = v20;
      v91 = v80;
      *a5 = sub_10025DE0(v21, &v84, a4);
      sub_10024C30(v7, a2, &v84);
    }
    *(float *)&v86 = 50.0;
    v23 = *(_DWORD *)(v60 + 4);
    v90 = *(_DWORD *)v60;
    LOWORD(v85) = (v85 & 0xFC0D | 4) & 0xF3FF | 0x3000;
    v24 = *a5;
    v91 = v23;
    *a5 = sub_10025DE0(v24, &v84, a4);
  }
}

//----- (10036690) --------------------------------------------------------
void __usercall sub_10036690(_BYTE *a1@<eax>, float *a2@<edi>, float a3)
{
  _BYTE *v3; // esi@1
  int v4; // [sp+10h] [bp-18h]@4
  int v5; // [sp+14h] [bp-14h]@4
  float v6; // [sp+18h] [bp-10h]@4
  float v7; // [sp+1Ch] [bp-Ch]@4
  int v8; // [sp+20h] [bp-8h]@4

  v3 = a1;
  if ( *a1 && 9.9999996e24 != a3 )
  {
    if ( *(_BYTE *)(dword_10504EDC + 660) )
    {
      sub_10063950(*a2, (int)&v4, (int)&v5);
      sub_100299A0((int)&v4, a3, (int)&v8);
      sub_100645B0((int)&v8, (int)(v3 + 4), (int)&v6);
      *a2 = sub_10063AA0(v6, v7);
    }
  }
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10036720) --------------------------------------------------------
char __usercall sub_10036720@<al>(int a1@<esi>, float a2, float a3, int a4, float a5, float a6, int a7)
{
  char v7; // bl@1
  char result; // al@2
  float v9; // ST18_4@3
  float v10; // ST18_4@3
  float v11; // ST18_4@5
  int v12; // ST1C_4@5
  float v13; // ST18_4@5
  float v14; // ST1C_4@8
  double v15; // st7@8
  float v16; // ST18_4@10
  double v17; // st7@10
  __int16 v18; // ax@10
  double v19; // st7@10
  double v20; // st7@11
  float v21; // ST10_4@13
  float v22; // ST1C_4@13
  float v23; // ST08_4@13
  int v24; // ecx@13
  float v25; // [sp+14h] [bp-8h]@11
  float v26; // [sp+20h] [bp+4h]@11
  float v27; // [sp+20h] [bp+4h]@11
  float v28; // [sp+20h] [bp+4h]@12
  float v29; // [sp+20h] [bp+4h]@12
  float v30; // [sp+20h] [bp+4h]@13
  float v31; // [sp+20h] [bp+4h]@13

  v7 = 0;
  if ( a2 == 6.283185005187988 )
  {
    result = 0;
  }
  else
  {
    v9 = a3 - a2;
    v10 = sub_100637E0(v9);
    if ( COERCE_FLOAT(LODWORD(v10) & 0x7FFFFFFF) > 0.08726646 )
    {
      v7 = 1;
      if ( !(*(_WORD *)(a1 + 2) & 0xC00) )
      {
        v11 = sub_10063550(a2, a3, 1);
        v12 = LODWORD(v11) & 0x7FFFFFFF;
        v13 = sub_10063550(a2, a3, 0);
        if ( COERCE_FLOAT(LODWORD(v13) & 0x7FFFFFFF) < (double)*(float *)&v12 )
          *(_WORD *)(a1 + 2) = *(_WORD *)(a1 + 2) & 0xF7FF | 0x400;
        else
          *(_WORD *)(a1 + 2) = *(_WORD *)(a1 + 2) & 0xFBFF | 0x800;
      }
      v14 = sub_1002E280(a7, a5, a2, a3, (*(_WORD *)(a1 + 2) >> 10) & 3);
      v15 = v14;
      if ( a5 >= (double)v14 )
        v15 = a5;
      v16 = v15;
      v17 = sub_10029590(v16, a6);
      v18 = *(_WORD *)(a1 + 2);
      *(float *)(a1 + 32) = v17;
      v19 = a2;
      if ( (v18 & 0xC00) == 2048 )
      {
        v26 = v19 - 1.570796370506287;
        v25 = sub_100637E0(v26);
        v27 = a3 - 1.570796370506287;
        v20 = v27;
      }
      else
      {
        v28 = v19 + 1.570796370506287;
        v25 = sub_100637E0(v28);
        v29 = a3 + 1.570796370506287;
        v20 = v29;
      }
      v21 = v20;
      v30 = sub_100637E0(v21);
      v22 = v25 + 3.141592741012573;
      v23 = sub_100637E0(v22);
      sub_100236E0(a4, *(float *)(a1 + 32), v23, a1 + 24);
      sub_100236E0(a1 + 24, *(float *)(a1 + 32), v30, a1 + 36);
      LOBYTE(v24) = (*(_WORD *)(a1 + 2) & 0xC00) == 2048;
      v31 = sub_10063550(v25, v30, v24);
      *(float *)(a1 + 12) = *(float *)(a1 + 32) * COERCE_FLOAT(LODWORD(v31) & 0x7FFFFFFF);
    }
    result = v7;
  }
  return result;
}

//----- (100369B0) --------------------------------------------------------
signed __int16 __usercall sub_100369B0@<ax>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, float a8, char a9, int a10, int a11, int a12, int a13)
{
  int v13; // ebp@1
  int v14; // ecx@1
  char v15; // bl@1
  __int16 v16; // si@1
  char v17; // bl@1
  char v18; // al@3
  int v19; // edi@3
  __int16 *v20; // ebp@3
  signed __int16 v21; // ax@4
  int v22; // ecx@4
  double v23; // st7@4
  unsigned __int8 v24; // cl@5
  int v25; // esi@11
  int v26; // ecx@12
  double v27; // st7@14
  double v28; // st7@21
  signed __int16 result; // ax@24
  float v30; // [sp+28h] [bp-68h]@1
  char v31; // [sp+2Ch] [bp-64h]@12
  int v32; // [sp+30h] [bp-60h]@1
  int v33; // [sp+34h] [bp-5Ch]@1
  char v34; // [sp+38h] [bp-58h]@1
  __int16 v35; // [sp+3Ah] [bp-56h]@1
  float v36; // [sp+44h] [bp-4Ch]@12
  int v37; // [sp+5Ch] [bp-34h]@12
  int v38; // [sp+60h] [bp-30h]@12
  char v39; // [sp+64h] [bp-2Ch]@1
  __int16 v40; // [sp+66h] [bp-2Ah]@1
  float v41; // [sp+70h] [bp-20h]@1
  int v42; // [sp+88h] [bp-8h]@4
  int v43; // [sp+8Ch] [bp-4h]@4

  v13 = a5;
  v14 = *(_DWORD *)(a5 + 4);
  v15 = a1;
  v32 = *(_DWORD *)a5;
  v33 = v14;
  memset(&v39, 0, 0x2Cu);
  v41 = 0.0;
  v16 = v15 & 3;
  v17 = a9;
  v16 <<= 10;
  v39 = a9;
  v40 = v16 | v40 & 8 | 0x2213;
  memset(&v34, 0, 0x2Cu);
  *(float *)&a5 = 0.0;
  v30 = 0.0;
  v35 = v16 | v35 & 8 | 0x2095;
  v34 = a9;
  if ( a2 == 18 )
    sub_10036690((_BYTE *)a11, &a4, a7);
  v18 = sub_10036720((int)&v39, a3, a4, v13, a7, a8, a11);
  v19 = a12;
  v20 = (__int16 *)a13;
  if ( v18 )
  {
    v21 = sub_10025DE0(*(_WORD *)a13, &v39, a12);
    v22 = v43;
    v23 = a6;
    *v20 = v21;
    v32 = v42;
    a6 = v23 - v41;
    v33 = v22;
  }
  v24 = *(_BYTE *)(v19 + 17);
  if ( v24 == -1 )
    goto LABEL_13;
  if ( v24 > (unsigned __int8)v17 || v24 == v17 && !*(_BYTE *)(v19 + 19) )
  {
LABEL_11:
    v25 = a10;
    if ( *(float *)a10 != 6.283185005187988 )
    {
      sub_10022FC0((int)&v32, a10, &v36, &a4, (float *)&v31);
      v26 = *(_DWORD *)(v25 + 4);
      v37 = *(_DWORD *)v25;
      v38 = v26;
      goto LABEL_24;
    }
    goto LABEL_13;
  }
  if ( v24 == v17 )
  {
    if ( !*(_BYTE *)(v19 + 104) )
      goto LABEL_11;
LABEL_13:
    if ( v24 == v17 )
    {
      sub_10029770((float *)&a5, &v30, &a9);
      v27 = *(float *)&a5;
      if ( *(float *)&a5 != 9.9999996e24 && v27 > 0.0 && (a2 == 1 || a9) && *(_BYTE *)(v19 + 18) != 34 )
      {
        a6 = v27 + a6;
        if ( !a9 )
          a6 = v41 + a6;
      }
    }
  }
  v28 = a6;
  if ( a6 <= 50.0 )
    v28 = 50.0;
  v36 = v28;
  sub_100236E0((int)&v32, v36, a4, (int)&v37);
LABEL_24:
  result = sub_10025DE0(*v20, &v34, v19);
  *v20 = result;
  return result;
}

//----- (10036C60) --------------------------------------------------------
char __usercall sub_10036C60@<al>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, int a8, float a9, char a10, int a11, int a12, int a13, int a14)
{
  int v14; // ebp@1
  int v15; // ecx@1
  char v16; // bl@1
  __int16 v17; // si@1
  char v18; // bl@1
  int v19; // edi@5
  unsigned __int8 v20; // al@5
  int v21; // edx@10
  __int16 *v22; // esi@10
  int v23; // eax@10
  char v25; // [sp+28h] [bp-64h]@13
  int v26; // [sp+2Ch] [bp-60h]@1
  int v27; // [sp+30h] [bp-5Ch]@1
  char v28; // [sp+34h] [bp-58h]@1
  int v29; // [sp+36h] [bp-56h]@1
  float v30; // [sp+40h] [bp-4Ch]@10
  int v31; // [sp+58h] [bp-34h]@10
  int v32; // [sp+5Ch] [bp-30h]@10
  char v33; // [sp+60h] [bp-2Ch]@1
  __int16 v34; // [sp+62h] [bp-2Ah]@1
  int v35; // [sp+84h] [bp-8h]@4
  int v36; // [sp+88h] [bp-4h]@4

  v14 = a5;
  v15 = *(_DWORD *)(a5 + 4);
  v16 = a1;
  v26 = *(_DWORD *)a5;
  v27 = v15;
  memset(&v33, 0, 0x2Cu);
  v17 = v16 & 3;
  v18 = a10;
  v17 <<= 10;
  v33 = a10;
  v34 = v17 | v34 & 8 | 0x2213;
  memset(&v28, 0, 0x2Cu);
  LOWORD(v29) = v17 | v29 & 8 | 0x2095;
  v28 = a10;
  if ( a2 == 19 )
    sub_10036690((_BYTE *)a11, &a4, a6);
  a10 = sub_10036720((int)&v33, a3, a4, v14, a6, a7, a11);
  if ( a10 )
  {
    v26 = v35;
    v27 = v36;
  }
  v19 = a13;
  v20 = *(_BYTE *)(a13 + 17);
  if ( v20 != -1
    && v20 > (unsigned __int8)v18
    && 6.283185005187988 == a3
    && *(float *)a12 != 6.283185005187988
    && a2 == 19 )
  {
    v21 = *(_DWORD *)a12;
    v30 = 0.0;
    v22 = (__int16 *)a14;
    LOWORD(v29) = v29 & 0xEFFD | 0x2004;
    v23 = *(_DWORD *)(a12 + 4);
    v31 = v21;
    v32 = v23;
LABEL_11:
    *v22 = sub_10025DE0(*v22, &v28, v19);
    return 1;
  }
  if ( sub_100240D0((int)&v26, a4, a8, a9, 0, (int)&v31) )
  {
    sub_10022FC0((int)&v26, (int)&v31, &v30, (float *)&v25, (float *)&a5);
    v22 = (__int16 *)a14;
    if ( a10 )
      *v22 = sub_10025DE0(*(_WORD *)a14, &v33, v19);
    goto LABEL_11;
  }
  return 0;
}

//----- (10036E90) --------------------------------------------------------
char __usercall sub_10036E90@<al>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, char a8, char a9, int a10, int a11, int a12)
{
  int v12; // ebp@1
  int v13; // edi@1
  int v14; // ecx@1
  char v15; // bl@1
  __int16 v16; // si@1
  __int16 v17; // bx@1
  __int16 *v18; // edi@5
  __int16 v19; // cx@5
  int v20; // eax@6
  int v21; // edx@6
  int v22; // eax@6
  __int16 v23; // ax@7
  int v24; // eax@8
  int v25; // esi@8
  int v26; // eax@12
  bool v27; // zf@12
  __int16 v28; // ax@13
  float v29; // ST4C_4@15
  int v30; // ecx@15
  float v31; // ST48_4@15
  int v32; // eax@15
  int v33; // edx@15
  float v34; // ST64_4@16
  float v35; // ST4C_4@17
  float v36; // ST48_4@17
  int v37; // ecx@17
  float v38; // ST64_4@18
  int v39; // edx@19
  double v40; // st7@19
  float v41; // ST64_4@19
  char result; // al@21
  double v43; // st7@22
  float v44; // ST64_4@22
  __int16 v45; // cx@29
  char v46; // [sp+2Bh] [bp-91h]@3
  float v47; // [sp+30h] [bp-8Ch]@15
  float v48; // [sp+34h] [bp-88h]@15
  float v49; // [sp+38h] [bp-84h]@15
  int v50; // [sp+3Ch] [bp-80h]@5
  char v51; // [sp+40h] [bp-7Ch]@15
  float v52; // [sp+44h] [bp-78h]@15
  int v53; // [sp+48h] [bp-74h]@1
  int v54; // [sp+4Ch] [bp-70h]@1
  int v55; // [sp+50h] [bp-6Ch]@6
  int v56; // [sp+54h] [bp-68h]@6
  int v57; // [sp+58h] [bp-64h]@14
  int v58; // [sp+5Ch] [bp-60h]@19
  char v59; // [sp+60h] [bp-5Ch]@15
  char v60; // [sp+64h] [bp-58h]@1
  int v61; // [sp+66h] [bp-56h]@1
  char v62; // [sp+70h] [bp-4Ch]@19
  int v63; // [sp+88h] [bp-34h]@14
  int v64; // [sp+8Ch] [bp-30h]@19
  char v65; // [sp+90h] [bp-2Ch]@1
  int v66; // [sp+92h] [bp-2Ah]@1
  int v67; // [sp+B4h] [bp-8h]@4
  int v68; // [sp+B8h] [bp-4h]@4

  v12 = a11;
  v13 = a5;
  v14 = *(_DWORD *)(a5 + 4);
  v15 = a1;
  v53 = *(_DWORD *)a5;
  v54 = v14;
  memset(&v65, 0, 0x2Cu);
  v16 = v15 & 1;
  v17 = (a8 & 3) << 10;
  LOWORD(v66) = (v17 | (v16 | v66 & 0xFFFE) & 0xE21B) & 0xBFFF | 0x2212;
  v65 = a9;
  memset(&v60, 0, 0x2Cu);
  LOWORD(v61) = (v17 | (v16 | v61 & 0xFFFE) & 0xE09D) & 0xBFFF | 0x2094;
  v60 = a9;
  if ( a2 == 20 )
  {
    sub_10036690((_BYTE *)a10, &a4, a6);
    v13 = a5;
  }
  v46 = sub_10036720((int)&v65, a3, a4, v13, a6, a7, a10);
  if ( v46 )
  {
    v53 = v67;
    v54 = v68;
  }
  v18 = (__int16 *)a12;
  v19 = *(_WORD *)(44 * *(_WORD *)a12 + v12 + 332);
  v50 = (unsigned __int16)v19;
  if ( v19 == -1 )
    return 0;
  v20 = 44 * v19;
  v21 = *(_DWORD *)(v20 + v12 + 360);
  v22 = v20 + v12 + 324;
  v55 = v21;
  v56 = *(_DWORD *)(v22 + 40);
  if ( *(_BYTE *)(v22 + 2) & 6 )
    return 0;
  v23 = *(_WORD *)(v22 + 8);
  if ( v23 == -1 )
    return 0;
  v24 = 44 * v23;
  v25 = v24 + v12 + 324;
  if ( !(*(_BYTE *)(v24 + v12 + 326) & 6) )
  {
    while ( *(_WORD *)(v25 + 8) != -1 )
    {
      sub_10024DA0(v19, v12);
      v55 = *(_DWORD *)(v25 + 36);
      v56 = *(_DWORD *)(v25 + 40);
      v26 = 44 * *(_WORD *)(v25 + 8);
      v25 = v26 + v12 + 324;
      v27 = (*(_BYTE *)(v26 + v12 + 326) & 6) == 0;
      v50 = *(_WORD *)(v26 + v12 + 334);
      if ( !v27 )
        break;
      v19 = v50;
    }
  }
  v28 = (*(_BYTE *)(v25 + 2) >> 1) & 3;
  if ( v28 == 1 )
  {
    if ( !sub_10024330((int)&v53, a4, v25 + 24, *(float *)(v25 + 32), 0, (int)&v63, (int)&v57) )
      return 0;
    sub_10022FC0(v25 + 24, (int)&v55, (float *)&v51, &v49, &v47);
    sub_10022FC0(v25 + 24, v25 + 36, (float *)&v51, &v52, &v47);
    sub_10022FC0(v25 + 24, (int)&v63, (float *)&v51, &v48, (float *)&v59);
    sub_10022FC0(v25 + 24, (int)&v57, (float *)&v51, &v47, (float *)&v59);
    v29 = v48;
    LOBYTE(v30) = (*(_WORD *)(v25 + 2) & 0xC00) == 2048;
    v31 = sub_10063550(v49, v52, v30);
    if ( !sub_10063660(v49, v31, v29) )
    {
      LOBYTE(v32) = (*(_WORD *)(v25 + 2) & 0xC00) == 2048;
      v34 = sub_10063550(v48, v49, v32) * *(float *)(v25 + 32);
      if ( COERCE_FLOAT(LODWORD(v34) & 0x7FFFFFFF) >= 1852.0 )
      {
        v35 = v47;
        LOBYTE(v33) = (*(_WORD *)(v25 + 2) & 0xC00) == 2048;
        v36 = sub_10063550(v49, v52, v33);
        if ( sub_10063660(v49, v36, v35)
          || (LOBYTE(v37) = (*(_WORD *)(v25 + 2) & 0xC00) == 2048,
              v38 = sub_10063550(v47, v49, v37) * *(float *)(v25 + 32),
              COERCE_FLOAT(LODWORD(v38) & 0x7FFFFFFF) < 1852.0) )
        {
          v39 = v57;
          v63 = v57;
          v64 = v58;
          LOBYTE(v39) = (*(_WORD *)(v25 + 2) & 0xC00) == 2048;
          v40 = sub_10063550(v47, v52, v39) * *(float *)(v25 + 32);
          *(_WORD *)(v25 + 2) &= 0xDFFFu;
          v41 = v40;
          *(float *)(v25 + 12) = COERCE_FLOAT(LODWORD(v41) & 0x7FFFFFFF);
          sub_10022FC0((int)&v53, (int)&v63, (float *)&v62, &v48, &v47);
          if ( v46 )
            *v18 = sub_10025DE0(*v18, &v65, v12);
          *v18 = sub_10025DE0(*v18, &v60, v12);
          sub_10024DA0(v50, v12);
          return 1;
        }
        return 0;
      }
    }
    LOBYTE(v33) = (*(_WORD *)(v25 + 2) & 0xC00) == 2048;
    v43 = sub_10063550(v48, v52, v33) * *(float *)(v25 + 32);
    *(_WORD *)(v25 + 2) &= 0xDFFFu;
    v44 = v43;
    *(float *)(v25 + 12) = COERCE_FLOAT(LODWORD(v44) & 0x7FFFFFFF);
    sub_10022FC0((int)&v53, (int)&v63, (float *)&v62, &v48, &v47);
    if ( v46 )
      *v18 = sub_10025DE0(*v18, &v65, v12);
    *v18 = sub_10025DE0(*v18, &v60, v12);
    sub_10024DA0(v50, v12);
    result = 1;
  }
  else
  {
    if ( v28 != 2 )
      return 0;
    sub_10022FC0(v25 + 36, (int)&v55, (float *)&v51, &v48, &v47);
    if ( sub_10023C40((int)&v53, a4, v25 + 36, v48, (int)&v63) != 2 )
    {
      *(_WORD *)(v25 + 2) = v17 | *(_WORD *)(v25 + 2) & 0xF3FF;
      return 0;
    }
    if ( v46 )
      *v18 = sub_10025DE0(*v18, &v65, v12);
    *v18 = sub_10025DE0(*v18, &v60, v12);
    sub_10022FC0((int)&v63, v25 + 36, (float *)(v25 + 12), &v48, &v47);
    v45 = v50;
    *(_WORD *)(v25 + 2) &= 0xDFFFu;
    sub_10024DA0(v45, v12);
    result = 1;
  }
  return result;
}

//----- (10037510) --------------------------------------------------------
char __usercall sub_10037510@<al>(char a1@<al>, char a2, float a3, float a4, int a5, float a6, float a7, float a8, float a9, int a10, int a11, int a12, int a13)
{
  int v13; // ebp@1
  int v14; // ecx@1
  char v15; // bl@1
  __int16 v16; // di@1
  __int16 v17; // si@1
  char v18; // bl@3
  __int16 *v19; // esi@7
  char result; // al@9
  int v21; // [sp+28h] [bp-60h]@1
  int v22; // [sp+2Ch] [bp-5Ch]@1
  char v23; // [sp+30h] [bp-58h]@1
  int v24; // [sp+32h] [bp-56h]@1
  int v25; // [sp+54h] [bp-34h]@4
  int v26; // [sp+58h] [bp-30h]@4
  char v27; // [sp+5Ch] [bp-2Ch]@1
  int v28; // [sp+5Eh] [bp-2Ah]@1
  char v29; // [sp+68h] [bp-20h]@6
  int v30; // [sp+80h] [bp-8h]@5

  v13 = a5;
  v14 = *(_DWORD *)(a5 + 4);
  v15 = a1;
  v21 = *(_DWORD *)a5;
  v22 = v14;
  memset(&v23, 0, 0x2Cu);
  v16 = v15 & 1;
  v17 = (LOBYTE(a8) & 3) << 10;
  LOWORD(v24) = (v17 | (v16 | v24 & 0xFFFE) & 0xE21B) & 0xBFFF | 0x2212;
  v23 = LOBYTE(a9);
  memset(&v27, 0, 0x2Cu);
  LOWORD(v28) = (v17 | (v16 | v28 & 0xFFFE) & 0xE09D) & 0xBFFF | 0x2094;
  v27 = LOBYTE(a9);
  if ( a2 == 20 )
    sub_10036690((_BYTE *)a10, &a4, a6);
  v18 = sub_10036720((int)&v23, a3, a4, v13, a6, a7, a10);
  if ( v18 )
  {
    v21 = v25;
    v22 = v26;
  }
  if ( sub_10023C40((int)&v21, a4, a11 + 112, *(float *)(a11 + 144), (int)&v30)
    && (sub_10022FC0((int)&v21, (int)&v30, (float *)&v29, &a8, &a9), sub_100639F0(a8, a4, 1.5707964)) )
  {
    v19 = (__int16 *)a13;
    if ( v18 )
      *v19 = sub_10025DE0(*(_WORD *)a13, &v23, a12);
    *v19 = sub_10025DE0(*v19, &v27, a12);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10037720) --------------------------------------------------------
char __usercall sub_10037720@<al>(char a1@<al>, float a2, float a3, float a4, int a5, float a6, float a7, int a8, float a9, char a10, int a11, int a12, int a13, int a14)
{
  int v14; // ebp@1
  int v15; // ecx@1
  char v16; // bl@1
  __int16 v17; // si@1
  char v18; // bl@1
  int v19; // edi@5
  unsigned __int8 v20; // al@5
  int v21; // edx@10
  signed __int16 *v22; // esi@10
  int v23; // eax@10
  char result; // al@10
  int v25; // esi@11
  float v26; // ST10_4@12
  __int16 *v27; // esi@13
  char v28; // [sp+28h] [bp-64h]@13
  int v29; // [sp+2Ch] [bp-60h]@1
  int v30; // [sp+30h] [bp-5Ch]@1
  char v31; // [sp+34h] [bp-58h]@1
  int v32; // [sp+36h] [bp-56h]@1
  float v33; // [sp+40h] [bp-4Ch]@10
  int v34; // [sp+58h] [bp-34h]@10
  int v35; // [sp+5Ch] [bp-30h]@10
  char v36; // [sp+60h] [bp-2Ch]@1
  int v37; // [sp+62h] [bp-2Ah]@1
  int v38; // [sp+84h] [bp-8h]@4
  int v39; // [sp+88h] [bp-4h]@4
  float v40; // [sp+90h] [bp+4h]@12

  v14 = a5;
  v15 = *(_DWORD *)(a5 + 4);
  v16 = a1;
  v29 = *(_DWORD *)a5;
  v30 = v15;
  memset(&v36, 0, 0x2Cu);
  v17 = v16 & 3;
  v18 = a10;
  v17 <<= 10;
  v36 = a10;
  LOWORD(v37) = (v17 | v37 & 0xE21B) & 0xBFFF | 0x2213;
  memset(&v31, 0, 0x2Cu);
  LOWORD(v32) = (v17 | v32 & 0xE09D) & 0xBFFF | 0x2095;
  v31 = a10;
  if ( LOBYTE(a2) == 22 )
    sub_10036690((_BYTE *)a11, &a4, a6);
  a10 = sub_10036720((int)&v36, a3, a4, v14, a6, a7, a11);
  if ( a10 )
  {
    v29 = v38;
    v30 = v39;
  }
  v19 = a13;
  v20 = *(_BYTE *)(a13 + 17);
  if ( v20 == -1
    || v20 <= (unsigned __int8)v18
    || 6.283185005187988 != a3
    || *(float *)a12 == 6.283185005187988
    || LOBYTE(a2) != 22 )
  {
    v25 = a8;
    if ( sub_10023C40((int)&v29, a4, a8, a9, (int)&v34) != 2
      && (v40 = a9 + 3.141592741012573, v26 = sub_100637E0(v40), sub_10023C40((int)&v29, a4, v25, v26, (int)&v34) != 2) )
    {
      result = 0;
    }
    else
    {
      sub_10022FC0((int)&v29, (int)&v34, &v33, (float *)&v28, (float *)&a5);
      v27 = (__int16 *)a14;
      if ( a10 )
        *v27 = sub_10025DE0(*(_WORD *)a14, &v36, v19);
      *v27 = sub_10025DE0(*v27, &v31, v19);
      result = 1;
    }
  }
  else
  {
    v21 = *(_DWORD *)a12;
    v33 = 0.0;
    v22 = (signed __int16 *)a14;
    LOWORD(v32) = v32 & 0xEFFD | 0x2004;
    v23 = *(_DWORD *)(a12 + 4);
    v34 = v21;
    LOWORD(v21) = *(_WORD *)a14;
    v35 = v23;
    *v22 = sub_10025DE0(v21, &v31, a13);
    result = 1;
  }
  return result;
}

//----- (100379C0) --------------------------------------------------------
signed __int16 __usercall sub_100379C0@<ax>(char a1@<al>, float a2, float a3, int a4, float a5, float a6, char a7, int a8, char a9, int a10, int a11, int a12)
{
  int v12; // ebp@1
  int v13; // ecx@1
  char v14; // bl@1
  __int16 v15; // si@1
  char v16; // bl@1
  __int16 v17; // dx@1
  int v18; // esi@1
  char v19; // al@1
  int v20; // esi@1
  __int16 *v21; // edi@1
  __int16 v22; // ax@2
  unsigned __int8 v23; // cl@3
  int v24; // eax@11
  int v25; // ecx@11
  double v26; // st7@13
  signed __int16 result; // ax@16
  int v28; // [sp+28h] [bp-60h]@1
  int v29; // [sp+2Ch] [bp-5Ch]@1
  char v30; // [sp+30h] [bp-58h]@1
  int v31; // [sp+32h] [bp-56h]@1
  float v32; // [sp+3Ch] [bp-4Ch]@11
  int v33; // [sp+54h] [bp-34h]@11
  int v34; // [sp+58h] [bp-30h]@11
  char v35; // [sp+5Ch] [bp-2Ch]@1
  __int16 v36; // [sp+5Eh] [bp-2Ah]@1
  int v37; // [sp+80h] [bp-8h]@2
  int v38; // [sp+84h] [bp-4h]@2

  v12 = a4;
  v13 = *(_DWORD *)(a4 + 4);
  v14 = a1;
  v28 = *(_DWORD *)a4;
  v29 = v13;
  memset(&v35, 0, 0x2Cu);
  v15 = v14 & 3;
  v16 = a7;
  v15 <<= 10;
  v35 = a7;
  v36 = v15 | v36 & 8 | 0x2213;
  memset(&v30, 0, 0x2Cu);
  v17 = v15 | v31 & 8;
  v18 = a8;
  LOWORD(v31) = v17 | 0x3095;
  v30 = a7;
  sub_10036690((_BYTE *)a8, &a3, a5);
  v19 = sub_10036720((int)&v35, a2, a3, v12, a5, a6, v18);
  v20 = a11;
  v21 = (__int16 *)a12;
  if ( v19 )
  {
    v28 = v37;
    v22 = *(_WORD *)a12;
    v29 = v38;
    *v21 = sub_10025DE0(v22, &v35, a11);
  }
  v23 = *(_BYTE *)(v20 + 17);
  if ( v23 == -1
    || v23 <= (unsigned __int8)v16 && (v23 != v16 || *(_BYTE *)(v20 + 104))
    || *(float *)a10 == 6.283185005187988 )
  {
    if ( a9 == 2 )
    {
      v26 = 50.0;
      LOWORD(v31) = v31 & 0xEFFF;
    }
    else
    {
      v26 = 9260.0;
      LOWORD(v31) = v31 | 0x1000;
    }
    v32 = v26;
    sub_100236E0((int)&v28, v32, a3, (int)&v33);
  }
  else
  {
    if ( v23 <= (unsigned __int8)v16 )
      LOWORD(v31) = v31 | 0x1000;
    else
      LOWORD(v31) = v31 & 0xEFFF;
    v24 = *(_DWORD *)a10;
    v32 = 0.0;
    LOWORD(v31) = v31 & 0xFFFD | 0x2004;
    v25 = *(_DWORD *)(a10 + 4);
    v33 = v24;
    v34 = v25;
  }
  result = sub_10025DE0(*v21, &v30, v20);
  *v21 = result;
  return result;
}

//----- (10037BB0) --------------------------------------------------------
bool __cdecl sub_10037BB0(int a1, float a2, int a3, int a4, __int16 *a5)
{
  __int16 *v5; // ebp@1
  float v6; // ecx@1
  int v7; // esi@1
  int v8; // ebx@1
  int v9; // edi@1
  int v10; // edx@1
  bool v11; // zf@1
  char v12; // al@2
  char v13; // al@7
  int v14; // edx@12
  int v15; // edx@13
  int v16; // ecx@13
  signed __int16 v17; // ax@13
  int v18; // edx@14
  unsigned __int8 v19; // al@14
  char v20; // al@16
  int v21; // eax@22
  signed __int16 v22; // ax@22
  __int16 v24; // dx@31
  int v25; // edx@32
  __int16 v26; // dx@38
  int v27; // eax@39
  char v28; // dl@41
  __int16 v29; // dx@47
  int v30; // edx@47
  __int16 v31; // ax@55
  int v32; // ecx@55
  int v33; // eax@59
  int v34; // ecx@59
  int v35; // eax@62
  int v36; // eax@62
  int v37; // [sp+44h] [bp-44h]@1
  float v38; // [sp+48h] [bp-40h]@0
  int v39; // [sp+4Ch] [bp-3Ch]@1
  int v40; // [sp+50h] [bp-38h]@1
  int v41; // [sp+54h] [bp-34h]@14
  int v42; // [sp+58h] [bp-30h]@14
  char v43; // [sp+5Ch] [bp-2Ch]@1
  int v44; // [sp+5Eh] [bp-2Ah]@13
  float v45; // [sp+68h] [bp-20h]@13
  int v46; // [sp+80h] [bp-8h]@13
  int v47; // [sp+84h] [bp-4h]@13
  int v48; // [sp+90h] [bp+8h]@59
  float v49; // [sp+94h] [bp+Ch]@1
  float v50; // [sp+94h] [bp+Ch]@26
  int v51; // [sp+98h] [bp+10h]@14
  int v52; // [sp+9Ch] [bp+14h]@1

  v5 = a5;
  v52 = (unsigned __int16)*a5;
  memset(&v43, 0, 0x2Cu);
  v6 = a2;
  v7 = a3;
  v8 = a4;
  v49 = *(float *)(a3 + 8);
  v37 = LOBYTE(a2);
  v9 = 180 * LOBYTE(a2) + a1;
  v10 = *(_DWORD *)(v7 + 36);
  v11 = *(_BYTE *)(a4 + 17) == LOBYTE(a2);
  v39 = *(_DWORD *)(v7 + 32);
  v40 = v10;
  if ( v11 )
  {
    v12 = *(_BYTE *)(v9 + 671);
    if ( v12 == 18 || v12 == 19 || v12 == 20 || v12 == 21 || v12 == 22 )
    {
      v13 = *(_BYTE *)(a4 + 18);
      if ( v13 != 33 && v13 != 34 && v13 != 47 )
      {
        if ( v13 == 9 && *(_BYTE *)(a4 + 104) )
        {
          *(_DWORD *)(v7 + 32) = *(_DWORD *)(a4 + 136);
          v14 = *(_DWORD *)(a4 + 140);
          *(float *)(v7 + 8) = 6.283185;
          *(_DWORD *)(v7 + 36) = v14;
        }
        v15 = *(_DWORD *)(v7 + 36);
        v45 = 0.0;
        v43 = LOBYTE(a2);
        v16 = *(_DWORD *)(v7 + 32);
        LOWORD(v44) = v44 & 0xC08 | 0x2090;
        v46 = v16;
        LOWORD(v16) = *v5;
        v47 = v15;
        v17 = sub_10025DE0(v16, &v43, a4);
        v6 = a2;
        *v5 = v17;
      }
    }
  }
  v18 = *(_DWORD *)(v7 + 32);
  v51 = *(int *)(v7 + 8);
  v42 = *(_DWORD *)(v7 + 36);
  v19 = *(_BYTE *)(v8 + 17);
  v41 = v18;
  if ( v19 != -1 && v19 > LOBYTE(v6) )
  {
    v20 = *(_BYTE *)(v9 + 671);
    if ( (v20 == 18 || v20 == 19 || v20 == 20 || v20 == 21 || v20 == 22) && *(float *)(v7 + 8) == 6.283185005187988 )
    {
      v21 = *(_DWORD *)(v7 + 32);
      v45 = 0.0;
      LOWORD(v44) = v44 & 0xC08 | 0x2090;
      v46 = v21;
      LOWORD(v21) = *v5;
      v43 = LOBYTE(v6);
      v47 = *(_DWORD *)(v7 + 36);
      v22 = sub_10025DE0(v21, &v43, v8);
      v6 = a2;
      *(float *)&v51 = 6.283185;
      *v5 = v22;
    }
  }
  if ( *v5 == -1 )
    return 0;
  LOBYTE(v38) = *(_BYTE *)(v9 + 671);
  switch ( LOBYTE(v38) )
  {
    case 1u:
    case 0x12u:
      v50 = sub_10024830(v9 + 608, v7, v8 + 16);
      sub_100369B0(
        *(_BYTE *)(v9 + 672),
        *(_BYTE *)(v9 + 671),
        *(float *)&v51,
        *(float *)(v9 + 752),
        (int)&v41,
        v50,
        *(float *)(v7 + 16),
        *(float *)(v7 + 12),
        SLOBYTE(a2),
        v7 + 24,
        v7 + 40,
        v8,
        (int)v5);
      goto LABEL_57;
    case 2u:
    case 0x13u:
      if ( !sub_10036C60(
              *(_BYTE *)(v9 + 672),
              SLOBYTE(v38),
              *(float *)&v51,
              *(float *)(v9 + 752),
              (int)&v41,
              *(float *)(v7 + 16),
              *(float *)(v7 + 12),
              v9 + 760,
              *(float *)(v9 + 756),
              SLOBYTE(v6),
              v7 + 40,
              v7 + 24,
              v8,
              (int)v5) )
      {
        if ( *v5 != (_WORD)v52 )
        {
          sub_10024DA0(*(_WORD *)(44 * (signed __int16)v52 + v8 + 332), v8);
          *v5 = v52;
        }
        if ( LOBYTE(a2) == *(_BYTE *)(v8 + 17) )
        {
          v45 = 0.0;
          LOWORD(v44) = v44 & 0xC08 | 0x2090;
          v46 = v39;
          v24 = *v5;
          v43 = LOBYTE(a2);
          v47 = v40;
          *v5 = sub_10025DE0(v24, &v43, v8);
          sub_10036C60(
            *(_BYTE *)(v9 + 672),
            *(_BYTE *)(v9 + 671),
            v49,
            *(float *)(v9 + 752),
            (int)&v39,
            *(float *)(v7 + 16),
            *(float *)(v7 + 12),
            v9 + 760,
            *(float *)(v9 + 756),
            SLOBYTE(a2),
            v7 + 40,
            v7 + 24,
            v8,
            (int)v5);
          goto LABEL_32;
        }
      }
      goto LABEL_57;
    case 0x15u:
      sub_100379C0(
        *(_BYTE *)(v9 + 672),
        *(float *)&v51,
        *(float *)(v9 + 752),
        (int)&v41,
        *(float *)(v7 + 16),
        *(float *)(v7 + 12),
        SLOBYTE(v6),
        v7 + 40,
        (*(_WORD *)v7 >> 7) & 7,
        v7 + 24,
        v8,
        (int)v5);
      goto LABEL_57;
    case 5u:
    case 0x16u:
      if ( !sub_10037720(
              *(_BYTE *)(v9 + 672),
              v38,
              *(float *)&v51,
              *(float *)(v9 + 752),
              (int)&v41,
              *(float *)(v7 + 16),
              *(float *)(v7 + 12),
              v9 + 760,
              *(float *)(v9 + 756),
              SLOBYTE(v6),
              v7 + 40,
              v7 + 24,
              v8,
              (int)v5) )
      {
        if ( *v5 != (_WORD)v52 )
        {
          sub_10024DA0(*v5, v8);
          *v5 = v52;
        }
        if ( LOBYTE(a2) == *(_BYTE *)(v8 + 17) )
        {
          v45 = 0.0;
          LOWORD(v44) = v44 & 0xC08 | 0x2090;
          v46 = v39;
          v26 = *v5;
          v43 = LOBYTE(a2);
          v47 = v40;
          *v5 = sub_10025DE0(v26, &v43, v8);
          sub_10037720(
            *(_BYTE *)(v9 + 672),
            COERCE_FLOAT(*(_BYTE *)(v9 + 671)),
            v49,
            *(float *)(v9 + 752),
            (int)&v39,
            *(float *)(v7 + 16),
            *(float *)(v7 + 12),
            v9 + 760,
            *(float *)(v9 + 756),
            SLOBYTE(a2),
            v7 + 40,
            v7 + 24,
            v8,
            (int)v5);
LABEL_32:
          v25 = v40;
          *(_DWORD *)(v7 + 32) = v39;
          *(_DWORD *)(v7 + 36) = v25;
          goto LABEL_56;
        }
      }
      goto LABEL_57;
    case 4u:
    case 0x14u:
      v27 = *(_BYTE *)(a1 + 4);
      if ( v27 <= LOBYTE(a2) + 2 || *(_BYTE *)(v9 + 851) != 14 || (v28 = *(_BYTE *)(v9 + 1031), v28 != 7) && v28 != 10 )
      {
        if ( v27 <= LOBYTE(a2) + 1 || !(*(_BYTE *)(v9 + 792) & 0x10) )
        {
          if ( sub_10036E90(
                 *(_BYTE *)(v9 + 666),
                 *(_BYTE *)(v9 + 671),
                 *(float *)&v51,
                 *(float *)(v9 + 752),
                 (int)&v41,
                 *(float *)(v7 + 16),
                 *(float *)(v7 + 12),
                 *(_BYTE *)(v9 + 672),
                 SLOBYTE(v6),
                 v7 + 40,
                 v8,
                 (int)v5) )
          {
            goto LABEL_57;
          }
          LOBYTE(v6) = LOBYTE(a2);
        }
        if ( *v5 != (_WORD)v52 )
        {
          sub_10024DA0(*v5, v8);
          *v5 = v52;
          LOBYTE(v6) = LOBYTE(a2);
        }
        if ( LOBYTE(v6) == *(_BYTE *)(v8 + 17) )
        {
          v45 = 0.0;
          LOWORD(v44) = v44 & 0xC08 | 0x2090;
          v46 = v39;
          v31 = *v5;
          v43 = LOBYTE(v6);
          v47 = v40;
          *v5 = sub_10025DE0(v31, &v43, v8);
          sub_10036E90(
            *(_BYTE *)(v9 + 666),
            *(_BYTE *)(v9 + 671),
            v49,
            *(float *)(v9 + 752),
            (int)&v39,
            *(float *)(v7 + 16),
            *(float *)(v7 + 12),
            *(_BYTE *)(v9 + 672),
            SLOBYTE(a2),
            v7 + 40,
            v8,
            (int)v5);
          v32 = v40;
          *(_DWORD *)(v7 + 32) = v39;
          *(_DWORD *)(v7 + 36) = v32;
          goto LABEL_56;
        }
      }
      else if ( !sub_10037510(
                   *(_BYTE *)(v9 + 666),
                   *(_BYTE *)(v9 + 671),
                   *(float *)&v51,
                   *(float *)(v9 + 752),
                   (int)&v41,
                   *(float *)(v7 + 16),
                   *(float *)(v7 + 12),
                   COERCE_FLOAT(*(_BYTE *)(v9 + 672)),
                   v6,
                   v7 + 40,
                   v9 + 968,
                   v8,
                   (int)v5) )
      {
        if ( *v5 != (_WORD)v52 )
        {
          sub_10024DA0(*v5, v8);
          *v5 = v52;
        }
        if ( LOBYTE(a2) == *(_BYTE *)(v8 + 17) )
        {
          v45 = 0.0;
          LOWORD(v44) = v44 & 0xC08 | 0x2090;
          v46 = v39;
          v29 = *v5;
          v43 = LOBYTE(a2);
          v47 = v40;
          *v5 = sub_10025DE0(v29, &v43, v8);
          sub_10037510(
            *(_BYTE *)(v9 + 666),
            *(_BYTE *)(v9 + 671),
            v49,
            *(float *)(v9 + 752),
            (int)&v39,
            *(float *)(v7 + 16),
            *(float *)(v7 + 12),
            COERCE_FLOAT(*(_BYTE *)(v9 + 672)),
            a2,
            v7 + 40,
            v9 + 968,
            v8,
            (int)v5);
          v30 = v40;
          *(_DWORD *)(v7 + 32) = v39;
          *(_DWORD *)(v7 + 36) = v30;
LABEL_56:
          *(float *)(v7 + 8) = v49;
          goto LABEL_57;
        }
      }
LABEL_57:
      if ( *v5 == (_WORD)v52 || *v5 == -1 )
      {
        *(_DWORD *)(v9 + 728) = *(_DWORD *)(v7 + 32);
        *(_DWORD *)(v9 + 732) = *(_DWORD *)(v7 + 36);
      }
      else
      {
        v33 = 44 * (signed __int16)v52;
        v34 = 44 * *(_WORD *)(v33 + v8 + 332) + v8 + 324;
        v48 = 44 * *(_WORD *)(v33 + v8 + 332) + v8 + 324;
        if ( (*(_WORD *)(v8 + v33 + 326) & 0x3F0) == 544
          && !(*(_BYTE *)(44 * *(_WORD *)(v33 + v8 + 332) + v8 + 326) & 6) )
        {
          sub_10024DA0(v52, v8);
          v34 = v48;
        }
        v35 = 44 * *v5;
        *(_DWORD *)(v9 + 728) = *(_DWORD *)(v35 + v8 + 360);
        *(_DWORD *)(v9 + 732) = *(_DWORD *)(v35 + v8 + 364);
        v36 = 180 * (v37 + 4);
        if ( (*(_BYTE *)(v34 + 2) & 6) == 2 )
        {
          *(_DWORD *)(v36 + a1) = *(_DWORD *)(v34 + 36);
          *(_DWORD *)(v36 + a1 + 4) = *(_DWORD *)(v34 + 40);
        }
        else
        {
          *(_DWORD *)(v36 + a1) = *(_DWORD *)(v7 + 32);
          *(_DWORD *)(v36 + a1 + 4) = *(_DWORD *)(v7 + 36);
        }
      }
      return *v5 != (_WORD)v52;
    default:
      goto LABEL_57;
  }
}

//----- (100384C0) --------------------------------------------------------
double __cdecl sub_100384C0(float a1, float a2)
{
  double result; // st7@1

  result = a1;
  if ( a2 >= (double)a1 )
    result = a2;
  return result;
}

//----- (100384E0) --------------------------------------------------------
double __cdecl sub_100384E0(float a1, float a2)
{
  double result; // st7@1

  result = a1;
  if ( a2 <= (double)a1 )
    result = a2;
  return result;
}

//----- (10038500) --------------------------------------------------------
void __usercall sub_10038500(char a1@<al>, int a2@<edi>, float *a3@<esi>, float a4)
{
  char v4; // al@1
  int v5; // ecx@2
  char v6; // al@2
  int v7; // ecx@2
  double v8; // st7@4
  float v9; // ST08_4@5
  float v10; // ST08_4@7

  v4 = sub_10029EC0(a2, a1);
  if ( v4 != -1 )
  {
    v5 = (unsigned __int8)v4 << 6;
    v6 = *(_BYTE *)(v5 + a2 + 22325);
    v7 = a2 + v5;
    switch ( v6 & 7 )
    {
      case 2:
        *a3 = *(float *)(v7 + 22344) + a4;
        break;
      case 3:
        v8 = *(float *)(v7 + 22344) + a4;
        if ( 9.9999996e24 == *a3 )
          goto LABEL_9;
        v9 = v8;
        *a3 = sub_100384C0(*a3, v9);
        break;
      case 4:
        v8 = *(float *)(v7 + 22344) + a4;
        if ( 9.9999996e24 == *a3 )
          goto LABEL_9;
        v10 = v8;
        *a3 = sub_100384E0(*a3, v10);
        break;
      case 5:
        v8 = *(float *)(v7 + 22348) + a4;
LABEL_9:
        *a3 = v8;
        break;
      default:
        return;
    }
  }
}

//----- (100385E0) --------------------------------------------------------
int __usercall sub_100385E0@<eax>(int a1@<ebx>, int a2)
{
  int v2; // ebp@1
  signed int v3; // edx@1
  double v4; // st7@1
  double v5; // st6@1
  signed __int16 v6; // si@5
  int result; // eax@5
  signed __int16 v8; // di@5
  unsigned __int8 v9; // cl@6
  signed __int16 v10; // ax@14
  int v11; // ecx@15
  signed __int16 v12; // cx@16
  double v13; // st7@27
  bool v14; // zf@27
  int v15; // edi@29
  int v16; // edx@31
  __int16 v17; // cx@31
  bool v18; // al@33
  int v19; // edx@34
  char v20; // cl@36
  double v21; // st6@36
  unsigned __int8 v22; // al@37
  int v23; // eax@42
  int v24; // eax@51
  __int16 v25; // cx@53
  int v26; // edx@54
  int v27; // eax@56
  int v28; // edi@57
  double v29; // st6@57
  int v30; // edx@59
  __int16 v31; // bp@68
  __int16 v32; // ax@68
  double v33; // st5@69
  __int16 v34; // si@69
  double v35; // st4@69
  double v36; // rt1@70
  double v37; // st4@70
  double v38; // rt2@70
  int v39; // ecx@71
  double v40; // rtt@72
  double v41; // st4@72
  double v42; // st7@72
  double v43; // st3@72
  double v44; // rt0@74
  double v45; // st4@74
  double v46; // st6@74
  double v47; // st3@74
  int v48; // edx@75
  bool v49; // c3@75
  float *v50; // edx@75
  double v51; // rtt@78
  double v52; // st4@78
  double v53; // rt0@78
  int v54; // ebp@81
  char v55; // al@81
  int v56; // edx@86
  unsigned __int8 v57; // cl@86
  int v58; // edi@86
  unsigned __int8 v59; // dl@86
  double v60; // st6@87
  int *v61; // esi@89
  double v62; // st7@94
  int v63; // edx@97
  int v64; // eax@97
  signed __int16 v65; // [sp+24h] [bp-4Ch]@1
  int v66; // [sp+24h] [bp-4Ch]@59
  int v67; // [sp+28h] [bp-48h]@57
  float v68; // [sp+2Ch] [bp-44h]@1
  int v69; // [sp+30h] [bp-40h]@1
  float v70; // [sp+34h] [bp-3Ch]@56
  int v71; // [sp+38h] [bp-38h]@29
  float v72; // [sp+3Ch] [bp-34h]@6
  int v73; // [sp+40h] [bp-30h]@22
  float v74; // [sp+44h] [bp-2Ch]@1
  float v75; // [sp+48h] [bp-28h]@1
  float v76; // [sp+4Ch] [bp-24h]@56
  float v77; // [sp+50h] [bp-20h]@1
  double v78; // [sp+54h] [bp-1Ch]@59
  _WORD *v79; // [sp+5Ch] [bp-14h]@56
  int v80; // [sp+60h] [bp-10h]@57
  unsigned __int8 v81; // [sp+74h] [bp+4h]@82
  float v82; // [sp+74h] [bp+4h]@96

  v2 = dword_10504EDC;
  v3 = -1;
  v65 = -1;
  v74 = *(float *)(dword_10504EDC + 692) - *(float *)(dword_10504EDC + 212);
  v69 = -1;
  v75 = -*(float *)(a2 + 272);
  v68 = *(float *)(dword_10504EDC + 84);
  v4 = v68;
  v77 = v68;
  v5 = 1.0;
  if ( (LODWORD(v68) & 0x7F800000) == 2139095040 || v4 > 1.0 || (v5 = 0.30000001, v4 < 0.30000001) )
  {
    v68 = v5;
    v4 = v68;
  }
  v6 = *(_WORD *)(a1 + 14);
  result = 44 * *(_WORD *)(a1 + 14);
  v68 = v4 * 1852.0 + v4 * 1852.0;
  v8 = *(_WORD *)(result + a1 + 332);
  if ( v8 == -1 )
    return result;
  v9 = *(_BYTE *)(a2 + 241);
  for ( LOBYTE(v72) = *(_BYTE *)(a2 + 241); ; v9 = LOBYTE(v72) )
  {
    LOBYTE(result) = *(_BYTE *)(44 * v8 + a1 + 324);
    if ( (unsigned __int8)result >= v9 && (_WORD)v3 == -1 )
    {
      v3 = (unsigned __int16)v6;
      goto LABEL_20;
    }
    result = (unsigned __int8)result;
    if ( (unsigned __int8)result < v9 + 1 || v65 != -1 )
      break;
    v65 = v6;
    if ( *(_BYTE *)(a2 + 237) )
    {
      v10 = v6;
      if ( v6 > (signed __int16)v3 )
      {
        do
        {
          v11 = a1 + 44 * v10;
          if ( !(*(_BYTE *)(v11 + 326) & 6) )
            break;
          v12 = *(_WORD *)(v11 + 334);
          if ( v12 == -1 )
            break;
          v10 = v12;
        }
        while ( v12 > (signed __int16)v3 );
      }
      v3 = (unsigned __int16)v10;
    }
LABEL_20:
    v6 = v8;
    result = 44 * v8;
    v8 = *(_WORD *)(result + a1 + 332);
    if ( v8 == -1 )
    {
      v69 = v3;
      return result;
    }
  }
  if ( result < *(_BYTE *)(a2 + 244) + 1 )
    goto LABEL_20;
  v69 = v3;
  v73 = (unsigned __int16)v6;
  if ( v6 != -1 && v65 != -1 && (_WORD)v3 != -1 )
  {
    result = LODWORD(v72);
    if ( *(_BYTE *)(dword_10504EDC + 101) == 4 || *(_BYTE *)(dword_10504EDC + 812) != LOBYTE(v72) )
    {
      v13 = 9.9999996e24;
      v14 = *(_BYTE *)(a2 + 237) == 0;
      v77 = 9.9999996e24;
      if ( v14 )
        v77 = *(float *)(44 * (signed __int16)v3 + a1 + 340) + v74;
      v14 = *(_BYTE *)(dword_10504EDC + 816) == 2;
      LOWORD(v15) = v3;
      v71 = (unsigned __int16)v3;
      if ( v14 && *(_BYTE *)(dword_10504EDC + 812) == LOBYTE(v72) )
      {
        v16 = 44 * v65;
        v15 = *(_WORD *)(v16 + a1 + 332);
        v17 = *(_WORD *)(44 * *(_WORD *)(v16 + a1 + 332) + a1 + 326) & 0x3F0;
        v71 = *(_WORD *)(v16 + a1 + 332);
        if ( v17 == 96 )
          goto LABEL_35;
      }
      else
      {
        v18 = sub_10033930(LOBYTE(v72));
        v13 = 9.9999996e24;
        v2 = dword_10504EDC;
        if ( v18 )
        {
          v19 = 44 * v65;
          v14 = *(_BYTE *)(dword_10504EDC + 818) == 2;
          v15 = *(_WORD *)(v19 + a1 + 334);
          v71 = *(_WORD *)(v19 + a1 + 334);
          if ( !v14 )
LABEL_35:
            v71 = ++v15;
        }
      }
      v20 = *(_BYTE *)(v2 + 930);
      v21 = 0.0;
      if ( (v20 || (v22 = *(_BYTE *)(a2 + 239), v22 > 3u) && (v22 != 6 || 0.0 != *(float *)(v2 + 956)))
        && *(_BYTE *)(v2 + 818) != 5 )
      {
        if ( !v20 && *(_BYTE *)(a2 + 239) > 3u
          || *(_BYTE *)(v2 + 812) >= *(_BYTE *)(a2 + 241) && *(_BYTE *)(v2 + 1211) && *(_BYTE *)(v2 + 102) > 1u
          || *(_BYTE *)(v2 + 97) )
        {
          for ( ; v6 != v65; *(_WORD *)(v24 + a1 + 326) &= 0xFFF7u )
          {
            v24 = 44 * v6;
            v6 = *(_WORD *)(v24 + a1 + 334);
          }
          if ( v6 != (_WORD)v69 )
          {
            v25 = v69;
            do
            {
              v26 = 44 * v6;
              *(float *)(v26 + a1 + 344) = v13;
              v6 = *(_WORD *)(v26 + a1 + 334);
            }
            while ( v6 != v25 );
          }
        }
        else
        {
          v70 = 0.0;
          v27 = 44 * (signed __int16)v15;
          v76 = *(float *)(v2 + 948);
          v14 = v6 == *(_WORD *)(v27 + a1 + 334);
          v79 = (_WORD *)(v27 + a1 + 334);
          if ( !v14 )
          {
            do
            {
              v28 = 44 * v6 + a1;
              sub_10063970(v28 + 360, (int)&v80);
              sub_10029CB0(
                (int)&v80,
                v70,
                *(float *)(dword_10504EDC + 956),
                dword_10504EDC + 1024,
                dword_10504EDC + 1112,
                v28 + 344);
              *(float *)(v28 + 344) = *(float *)(v28 + 344) + v75;
              sub_10029CB0(
                (int)&v80,
                v70,
                *(float *)(dword_10504EDC + 956) * 1.25,
                dword_10504EDC + 1024,
                dword_10504EDC + 1112,
                (int)&v67);
              *(float *)&v67 = *(float *)&v67 + v75;
              *(float *)&v67 = (*(float *)&v67 - *(float *)(v28 + 344)) * 2.0;
              v29 = *(float *)&v67;
              if ( *(float *)&v67 > 300.0 )
                v29 = 300.0;
              *(float *)&v66 = v29;
              v67 = v66;
              v72 = *(float *)(dword_10504EDC + 976) * v76 * 2.0;
              v78 = 2.0 * *(float *)(dword_10504EDC + 944);
              v76 = v78;
              sub_1002E230(v68, v76);
              v70 = *(float *)(v28 + 336) + v70;
              v76 = *(float *)(v30 + 948) + v70;
              if ( v6 == (_WORD)v73 )
                v72 = v78;
              *(_WORD *)(v28 + 328) = (signed int)*(float *)&v66;
              LODWORD(v78) = (signed int)v72;
              *(_WORD *)(v28 + 330) = LOWORD(v78);
              v6 = *(_WORD *)(v28 + 334);
              if ( v6 != (_WORD)v69 || *(_BYTE *)(a2 + 237) )
              {
                v13 = 9.9999996e24;
              }
              else
              {
                v13 = 9.9999996e24;
                if ( 9.9999996e24 != *(float *)(44 * v6 + a1 + 344) )
                  break;
              }
            }
            while ( v6 != *v79 );
            v21 = 0.0;
          }
          v31 = v69;
          v32 = v73;
          if ( (_WORD)v73 != (_WORD)v69 )
          {
            v33 = v77;
            v34 = v71;
            v35 = 2.0;
            while ( 1 )
            {
              v39 = 44 * v32 + a1;
              if ( v32 >= v34 )
              {
                v48 = 44 * *(_WORD *)(v39 + 334);
                v49 = v13 == *(float *)(v48 + a1 + 344);
                v50 = (float *)(v48 + a1 + 344);
                if ( !v49 && v33 - v74 < *v50 )
                {
                  *(float *)&v67 = v21;
                  *(_WORD *)(v39 + 328) = 0;
                  *(_WORD *)(v39 + 330) = 0;
                }
                v51 = v35;
                v52 = v13;
                v42 = v51;
                v53 = v52;
                v45 = v21;
                v46 = v53;
              }
              else
              {
                v40 = v35;
                v41 = v13;
                v42 = v40;
                *(float *)(v39 + 344) = v41;
                v72 = *(float *)(dword_10504EDC + 76) * 1852.0 * v40;
                *(float *)&v79 = *(float *)(dword_10504EDC + 944) * v40;
                v43 = v72;
                if ( *(float *)&v79 >= (double)v72 )
                  v43 = *(float *)&v79;
                v77 = v43;
                v44 = v41;
                v45 = v21;
                v46 = v44;
                *(float *)&v67 = v45;
                v47 = v77;
                *(_WORD *)(v39 + 328) = 0;
                v79 = (_WORD *)(signed int)v47;
                *(_WORD *)(v39 + 330) = (signed int)v47;
              }
              v32 = *(_WORD *)(v39 + 334);
              if ( v32 == v31 )
                break;
              v36 = v45;
              v37 = v46;
              v21 = v36;
              v38 = v37;
              v35 = v42;
              v13 = v38;
            }
            v13 = v46;
          }
        }
      }
      else
      {
        for ( ; v6 != v65; *(_WORD *)(v23 + a1 + 326) &= 0xFFF7u )
        {
          v23 = 44 * v6;
          v6 = *(_WORD *)(v23 + a1 + 334);
        }
      }
      v54 = a2;
      v55 = *(_BYTE *)(a2 + 245);
      if ( v55 == -1 )
      {
        v81 = *(_BYTE *)(a2 + 3);
      }
      else
      {
        v81 = *(_BYTE *)(a2 + 245);
        LOBYTE(v79) = v55 + 1;
        v13 = 9.9999996e24;
        if ( sub_10033930(v55 + 1) )
          v81 = (unsigned __int8)v79;
      }
      v72 = v13;
      v56 = 44 * (signed __int16)v73;
      v57 = *(_BYTE *)(v56 + a1 + 324);
      v58 = v56 + a1;
      v59 = *(_BYTE *)(v54 + 4);
      if ( v57 >= v59 )
      {
        v62 = v72;
      }
      else
      {
        v60 = v72;
        do
        {
          if ( v57 > v81 )
            break;
          v61 = (int *)(180 * v57 + v54 + 616);
          if ( *(float *)v61 > v60 || v13 != *(float *)v61 && v13 == v60 )
          {
            v72 = *(float *)v61;
            v60 = v72;
          }
          ++v57;
        }
        while ( v57 < v59 );
        v62 = v60;
      }
      result = *(_WORD *)(v58 + 332);
      if ( (_WORD)result != -1 )
      {
        v82 = v62 + v74;
        do
        {
          v63 = 44 * (signed __int16)result;
          *(float *)(v63 + a1 + 344) = v82;
          v64 = v63 + a1;
          if ( *(_BYTE *)(dword_10504EDC + 812) <= *(_BYTE *)(v54 + 244) )
            *(_WORD *)(v64 + 326) &= 0xFFF7u;
          else
            *(_WORD *)(v64 + 326) |= 8u;
          *(_WORD *)(v64 + 328) = 0;
          *(_WORD *)(v64 + 330) = 0;
          result = *(_WORD *)(v64 + 332);
        }
        while ( (_WORD)result != -1 );
      }
    }
  }
  return result;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10038E20) --------------------------------------------------------
void __usercall sub_10038E20(int a1@<eax>, int a2@<ecx>)
{
  int v2; // esi@1
  bool v3; // zf@1
  int v4; // ecx@1
  int v5; // edi@1
  bool v6; // al@3
  char v7; // dl@4
  signed __int16 v8; // bp@12
  unsigned __int8 v9; // al@13
  __int16 v10; // bx@19
  double v11; // st7@19
  unsigned __int8 v12; // al@23
  int v13; // eax@27
  int v14; // ebp@27
  unsigned __int8 v15; // al@27
  int v16; // edx@30
  unsigned __int8 v17; // bl@33
  __int16 v18; // ax@35
  int v19; // edx@36
  __int16 i; // ax@42
  int v21; // esi@43
  char v22; // dl@49
  unsigned __int8 v23; // al@51
  int v24; // eax@58
  bool v25; // al@59
  int v26; // ecx@67
  int v27; // eax@67
  int v28; // ecx@67
  signed __int16 j; // ax@67
  double v30; // st6@69
  int v31; // eax@69
  __int16 v32; // ax@71
  int v33; // eax@74
  unsigned __int8 v34; // bl@74
  int v35; // eax@74
  signed __int16 v36; // ax@79
  int v37; // edx@80
  unsigned __int8 v38; // dl@82
  signed __int16 v39; // ax@85
  int v40; // eax@87
  unsigned __int8 v41; // dl@87
  int v42; // eax@87
  unsigned __int8 v43; // al@92
  __int16 v44; // ax@94
  int v45; // eax@95
  int v46; // edx@95
  unsigned __int8 v47; // al@100
  __int16 v48; // ax@101
  int v49; // eax@104
  unsigned __int8 v50; // bl@104
  int v51; // eax@104
  double v52; // st6@105
  char v53; // [sp+14h] [bp-Ch]@19
  char v54; // [sp+15h] [bp-Bh]@12
  char v55; // [sp+16h] [bp-Ah]@10
  char v56; // [sp+17h] [bp-9h]@1
  float v57; // [sp+18h] [bp-8h]@1
  float v58; // [sp+18h] [bp-8h]@85
  float k; // [sp+18h] [bp-8h]@94
  float v60; // [sp+1Ch] [bp-4h]@19

  v2 = a2;
  v3 = *(_BYTE *)(a2 + 7327) == -1;
  v4 = dword_10504EDC;
  v5 = a1;
  v56 = 0;
  v57 = *(float *)(dword_10504EDC + 692) - *(float *)(dword_10504EDC + 212);
  if ( v3
    || 9.9999996e24 == *(float *)(dword_10504EDC + 1484)
    || (v6 = sub_100484B0((void *)dword_10504EDC), v4 = dword_10504EDC, !v6)
    && ((v7 = (*(_BYTE *)(v2 + 3) >> 4) & 3, v7 != 2)
     || 9.9999996e24 == *(float *)(44 * *(_WORD *)(((*(_BYTE *)(v2 + 7327) + 349) << 6) + v5) + v5 + 340))
    && (v7 != 3 || 9.9999996e24 == *(float *)(44 * *(_WORD *)(((*(_BYTE *)(v2 + 7327) + 349) << 6) + v5) + v5 + 340))
    || !*(_BYTE *)(v2 + 7324)
    || !*(_BYTE *)(dword_10504EDC + 660) )
  {
    v55 = 0;
LABEL_17:
    v54 = 0;
LABEL_18:
    v8 = -1;
    word_10120390 = -1;
    goto LABEL_19;
  }
  v55 = 1;
  if ( *(_DWORD *)(dword_10504EDC + 1392) == -1 && !*(_BYTE *)(dword_10504EDC + 1367) )
    goto LABEL_17;
  v8 = word_10120390;
  v54 = 1;
  if ( word_10120390 < *(_WORD *)(v5 + 14) )
    goto LABEL_18;
  v9 = *(_BYTE *)(dword_10504EDC + 1249);
  if ( v9 != -1 && word_10120390 >= *(_WORD *)(((v9 + 349) << 6) + v5) )
    goto LABEL_18;
LABEL_19:
  v10 = *(_WORD *)(v5 + 14);
  v60 = 9.9999996e24;
  v11 = v57;
  v53 = 0;
  if ( v10 == -1 )
    goto LABEL_33;
  do
  {
    if ( sub_1002A170() && v54 )
    {
      if ( !v53 )
      {
        v12 = *(_BYTE *)(v5 + 8);
        if ( v12 == -1 || *(_BYTE *)(44 * v10 + v5 + 324) != *(_BYTE *)((v12 << 6) + v5 + 22324) )
        {
LABEL_30:
          v16 = 44 * v10;
          *(float *)(v16 + v5 + 344) = 9.9999996e24;
          v14 = v16 + v5;
          goto LABEL_31;
        }
        v53 = 1;
      }
    }
    else if ( !v53 )
    {
      goto LABEL_30;
    }
    v13 = 44 * v10;
    v14 = v13 + v5;
    sub_10038500(*(_BYTE *)(v13 + v5 + 324), v5, &v60, v57);
    *(float *)(v14 + 344) = v60;
    v15 = *(_BYTE *)(v5 + 9);
    if ( v15 != -1 && v10 == *(_WORD *)(((v15 + 349) << 6) + v5) )
      v53 = 0;
LABEL_31:
    v10 = *(_WORD *)(v14 + 332);
    *(_WORD *)(v14 + 326) &= 0x7FFFu;
  }
  while ( v10 != -1 );
  v4 = dword_10504EDC;
  v11 = v57;
  v8 = word_10120390;
LABEL_33:
  v17 = *(_BYTE *)(v4 + 1249);
  if ( v17 != -1 )
  {
    if ( *(_BYTE *)(v4 + 1378) == 1 )
    {
      v8 = *(_WORD *)(((v17 + 349) << 6) + v5);
      word_10120390 = *(_WORD *)(((v17 + 349) << 6) + v5);
      v18 = word_10120390;
      if ( word_10120390 != -1 )
      {
        while ( 1 )
        {
          v19 = v5 + 44 * v18;
          if ( *(_WORD *)(v19 + 326) & 0x4000 )
            break;
          v18 = *(_WORD *)(v19 + 334);
          if ( v18 == -1 )
            goto LABEL_48;
        }
        v8 = v18;
LABEL_47:
        word_10120390 = v8;
      }
    }
    else if ( v17 != -1 && v8 == -1 )
    {
      for ( i = *(_WORD *)(((v17 + 349) << 6) + v5); i != -1; i = *(_WORD *)(v21 + 334) )
      {
        v21 = v5 + 44 * i;
        if ( *(_BYTE *)(v21 + 324) < *(_BYTE *)(v5 + 17) )
          break;
      }
      v8 = i;
      word_10120390 = i;
      if ( i == -1 )
      {
        v8 = *(_WORD *)(v5 + 14);
        goto LABEL_47;
      }
    }
  }
LABEL_48:
  if ( v54 )
  {
    v22 = *(_BYTE *)(v4 + 1378);
    if ( v22 == 2
      || *(_DWORD *)(v4 + 1392) <= 0x3Cu
      || (v23 = *(_BYTE *)(v4 + 1253), v23 != -1) && (*(_BYTE *)(v4 + 1367) || *(_BYTE *)((v23 << 6) + v5 + 22329)) )
    {
      if ( *(float *)(v4 + 1412) < *(float *)(v4 + 1404) + 76.19999694824219 )
      {
        if ( *(_BYTE *)(v4 + 1252) != -1 && 9.9999996e24 != *(float *)(v4 + 1452) )
        {
          if ( v22 == 2 )
          {
            v24 = (v17 << 6) + v5;
            if ( *(_BYTE *)(v4 + 1375) <= *(_BYTE *)(v24 + 22324) )
            {
              v25 = sub_10029F50(*(_DWORD *)(v24 + 22332));
              v4 = dword_10504EDC;
              if ( !v25 || *(_BYTE *)((*(_BYTE *)(dword_10504EDC + 1252) << 6) + v5 + 22329) )
              {
                v11 = v57;
                v8 = word_10120390;
                goto LABEL_62;
              }
              v8 = word_10120390;
              v11 = v57;
            }
LABEL_66:
            v56 = 1;
          }
          else
          {
LABEL_62:
            if ( *(_BYTE *)(v4 + 1378) == 1
              && *(_BYTE *)(v4 + 1375) == *(_BYTE *)((*(_BYTE *)(v4 + 1249) << 6) + v5 + 22324) )
            {
              goto LABEL_66;
            }
          }
        }
        v26 = 44 * *(_WORD *)(((*(_BYTE *)(v4 + 1249) + 349) << 6) + v5);
        *(float *)(v26 + v5 + 344) = *(float *)(v26 + v5 + 340) + v11;
        v27 = v26 + v5;
        v28 = v26 + v5 + 324;
        for ( j = *(_WORD *)(v27 + 334); j != -1; j = *(_WORD *)(v31 + 334) )
        {
          if ( j < v8 )
            break;
          v60 = *(float *)(v28 + 12) * COERCE_FLOAT(COERCE_UNSIGNED_INT(*(float *)(dword_10504EDC + 1464)) & 0x7FFFFFFF);
          v30 = v60 + *(float *)(v28 + 20);
          v31 = v5 + 44 * j;
          v28 = v31 + 324;
          *(float *)(v31 + 344) = v30;
        }
        if ( v56 )
        {
          v4 = dword_10504EDC;
          v32 = *(_WORD *)(((*(_BYTE *)(dword_10504EDC + 1249) + 349) << 6) + v5);
          if ( v32 != -1 )
          {
            while ( 1 )
            {
              v33 = 44 * v32;
              v34 = *(_BYTE *)(v33 + v5 + 324);
              v35 = v5 + v33;
              if ( v34 > *(_BYTE *)((*(_BYTE *)(v4 + 1252) << 6) + v5 + 22324) )
                break;
              *(float *)(v35 + 344) = *(float *)(v35 + 340) + v11;
              v32 = *(_WORD *)(v35 + 332);
              if ( v32 == -1 )
                goto LABEL_76;
              v4 = dword_10504EDC;
            }
          }
        }
        else
        {
LABEL_76:
          v4 = dword_10504EDC;
        }
      }
      if ( *(_BYTE *)(v4 + 1378) != 1 || *(_DWORD *)(v4 + 1392) > 0x3Cu )
      {
        v38 = *(_BYTE *)(v4 + 1253);
        if ( v38 != -1 && (*(_BYTE *)(v4 + 1367) || *(_BYTE *)((v38 << 6) + v5 + 22329)) )
        {
          v39 = *(_WORD *)(v5 + 14);
          v58 = *(float *)(44 * *(_WORD *)(((v38 + 349) << 6) + v5) + v5 + 340) + v11;
          if ( v39 != -1 )
          {
            do
            {
              if ( v39 >= v8 )
                break;
              v40 = 44 * v39;
              v41 = *(_BYTE *)(v40 + v5 + 324);
              v42 = v5 + v40;
              if ( v41 > *(_BYTE *)(44 * v8 + v5 + 324) )
                break;
              *(float *)(v42 + 344) = v58;
              v39 = *(_WORD *)(v42 + 332);
            }
            while ( v39 != -1 );
LABEL_89:
            v4 = dword_10504EDC;
          }
        }
      }
      else
      {
        v36 = v8;
        if ( v8 != -1 )
        {
          do
          {
            v37 = 44 * v36;
            *(float *)(v37 + v5 + 344) = *(float *)(44 * v8 + v5 + 340) + v11;
            v36 = *(_WORD *)(v37 + v5 + 334);
          }
          while ( v36 != -1 );
          goto LABEL_89;
        }
      }
    }
    if ( *(_BYTE *)(v4 + 1378) == 2 && 9.9999996e24 != *(float *)(v4 + 1452) )
    {
      v43 = *(_BYTE *)(v4 + 1252);
      if ( v43 != -1 )
      {
        if ( *(_BYTE *)((v43 << 6) + v5 + 22329) )
        {
          v44 = *(_WORD *)(((*(_BYTE *)(v4 + 1248) + 349) << 6) + v5);
          for ( k = *(float *)(44 * *(_WORD *)(((*(_BYTE *)(v4 + 1248) + 349) << 6) + v5) + v5 + 344);
                v44 != -1;
                v4 = dword_10504EDC )
          {
            v45 = 44 * v44;
            v46 = v45 + v5;
            if ( *(_BYTE *)(v45 + v5 + 324) > *(_BYTE *)((*(_BYTE *)(v4 + 1252) << 6) + v5 + 22324) )
              break;
            if ( *(float *)(v46 + 340) < (double)*(float *)(44 * *(_WORD *)(((*(_BYTE *)(v4 + 1252) + 349) << 6) + v5)
                                                          + v5
                                                          + 340) )
              break;
            v44 = *(_WORD *)(v46 + 332);
            *(float *)(v46 + 344) = k;
          }
        }
      }
    }
  }
  if ( v55 )
  {
    if ( *(_BYTE *)(v4 + 1366) == 1 )
    {
      v47 = *(_BYTE *)(v4 + 1254);
      if ( v47 != -1 )
      {
        v48 = *(_WORD *)(((v47 + 349) << 6) + v5);
        if ( v48 != -1 )
        {
          while ( 1 )
          {
            v49 = 44 * v48;
            v50 = *(_BYTE *)(v49 + v5 + 324);
            v51 = v5 + v49;
            if ( v50 > *(_BYTE *)((*(_BYTE *)(v4 + 1254) << 6) + v5 + 22324) )
              break;
            v52 = *(float *)(v4 + 1440);
            *(_WORD *)(v51 + 326) |= 0x8000u;
            *(float *)(v51 + 344) = v52 + v11;
            v48 = *(_WORD *)(v51 + 334);
            if ( v48 == -1 )
              break;
            v4 = dword_10504EDC;
          }
        }
      }
    }
  }
}
// 10120390: using guessed type __int16 word_10120390;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10039580) --------------------------------------------------------
char __cdecl sub_10039580(int a1, int a2, int a3)
{
  int v3; // eax@16
  int v4; // eax@16
  __int16 i; // ax@6
  char v6; // dl@8
  int v7; // eax@13

  if ( a1 && *(_BYTE *)(dword_10504EDC + 816) && *(_BYTE *)(dword_10504EDC + 6) && !*(_BYTE *)(dword_10504EDC + 204) )
  {
    if ( *(_BYTE *)(dword_10504EDC + 815) == 1 )
    {
      for ( i = *(_WORD *)(dword_10504EDC + 828); i != -1; i = *(_WORD *)(v4 + 332) )
      {
        v3 = 44 * i;
        *(float *)(v3 + a3 + 344) = 9.9999996e24;
        v4 = a3 + v3;
        *(_WORD *)(v4 + 328) = 0;
        *(_WORD *)(v4 + 330) = 0;
      }
    }
    else
    {
      sub_10038E20(a3, a1);
      LOBYTE(i) = *(_BYTE *)(a2 + 244);
      if ( (_BYTE)i != -1 && *(_BYTE *)(a2 + 241) != -1 )
      {
        v6 = *(_BYTE *)(dword_10504EDC + 816);
        if ( v6 != 3 && (v6 != 2 || *(_BYTE *)(dword_10504EDC + 812) != (_BYTE)i) )
          LOBYTE(i) = sub_100385E0(a3, a2);
      }
    }
  }
  else
  {
    for ( i = *(_WORD *)(a3 + 14); i != -1; i = *(_WORD *)(a3 + v7 + 332) )
    {
      v7 = 44 * i;
      *(_WORD *)(v7 + a3 + 326) &= 0xFFF7u;
    }
  }
  return i;
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10039640) --------------------------------------------------------
double __cdecl sub_10039640(float a1, float a2)
{
  double v2; // st6@1
  double result; // st7@4
  float v4; // [sp+4h] [bp+4h]@4

  v2 = a1;
  if ( a1 == 9.9999996e24 || v2 <= 2.5722222 || a2 == 9.9999996e24 )
  {
    result = (float)-10.0;
  }
  else
  {
    v4 = a2 / v2;
    result = v4;
  }
  return result;
}

//----- (100396A0) --------------------------------------------------------
double __cdecl sub_100396A0(float a1, float a2)
{
  double result; // st7@2
  float v3; // [sp+4h] [bp+4h]@2
  float v4; // [sp+4h] [bp+4h]@3

  if ( a1 == 0.0 )
  {
    result = (float)0.0;
  }
  else
  {
    v3 = a2 / a1;
    result = v3;
    if ( v3 > 0.0 )
    {
      v4 = result + 10.0;
      result = v4;
    }
  }
  return result;
}

//----- (100396F0) --------------------------------------------------------
void __usercall sub_100396F0(int a1@<ecx>, int a2@<edx>, char a3, float a4, float a5)
{
  if ( a5 == 9.9999996e24 )
  {
    if ( *(_BYTE *)(dword_10504EDC + 199) )
      a5 = *(float *)(dword_10504EDC + 244);
    else
      a5 = 9.9999996e24;
  }
  if ( a3 & 0x20 )
  {
    *(float *)a1 = a4;
    if ( a5 == 9.9999996e24 )
      *(float *)a2 = 9.9999996e24;
    else
      sub_1004F3C0(a4, a5, a2);
  }
  else
  {
    *(float *)a2 = a4;
    if ( a5 == 9.9999996e24 )
      *(float *)a1 = 9.9999996e24;
    else
      sub_1004F350(a4, a5, a1);
  }
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (100397A0) --------------------------------------------------------
char __cdecl sub_100397A0(float a1, float a2, float a3, float a4)
{
  char v4; // cl@1
  double v5; // st6@1
  double v6; // st7@2
  char result; // al@6
  float v8; // [sp+14h] [bp+Ch]@5

  v4 = 1;
  v5 = a3;
  if ( a3 == 9.9999996e24
    || (v6 = a4, a4 == 9.9999996e24)
    || v5 >= v6
    || a2 <= 0.0
    || (v8 = v6 - v5, a2 + 10.0 >= sub_100396A0(a1, v8)) )
  {
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10039820) --------------------------------------------------------
bool __usercall sub_10039820@<al>(unsigned __int8 a1@<bl>, int a2@<esi>)
{
  char v2; // al@2
  bool result; // al@4
  int v4; // [sp+0h] [bp-8h]@0
  unsigned __int8 v5; // [sp+4h] [bp-4h]@0

  result = 0;
  if ( (unsigned __int8)sub_1003A020(v4, v5) )
  {
    v2 = *(_BYTE *)((a1 << 6) + a2 + 22327);
    if ( v2 )
    {
      if ( v2 >= 0 )
        result = 1;
    }
  }
  return result;
}

//----- (10039850) --------------------------------------------------------
void __usercall sub_10039850(char a1@<al>, float *a2@<edi>, float *a3@<esi>, float a4, float a5)
{
  char v5; // bl@1
  int v6; // ebx@1
  double v7; // st7@3
  int v8; // [sp+Ch] [bp-8h]@1
  int v9; // [sp+10h] [bp-4h]@1

  v5 = a1;
  sub_100396F0((int)&v9, (int)&v8, a1, a5, a4);
  v6 = (v5 & 7) - 3;
  if ( v6 )
  {
    if ( v6 == 1 )
    {
      *a2 = 9.9999996e24;
      *a3 = *(float *)&v8;
    }
    else
    {
      v7 = *(float *)&v8;
      *a2 = *(float *)&v8;
      *a3 = v7;
    }
  }
  else
  {
    *a2 = *(float *)&v8;
    *a3 = 9.9999996e24;
  }
}

//----- (100398C0) --------------------------------------------------------
char __usercall sub_100398C0@<al>(int a1@<ecx>, unsigned __int8 a2@<bl>, int a3, int a4, float a5, float a6)
{
  int v6; // ebp@1
  float v7; // ST0C_4@1
  float v8; // ST1C_4@1
  char result; // al@1
  char v10; // dl@1
  unsigned __int8 v11; // [sp+Ch] [bp-20h]@0
  float v12; // [sp+20h] [bp-Ch]@1
  float v13; // [sp+24h] [bp-8h]@1
  float v14; // [sp+28h] [bp-4h]@1

  v6 = a3;
  v7 = sub_1002C010(a1, a3, a4, v11);
  v8 = sub_10039640(a6, v7);
  sub_10039850(
    *(_BYTE *)(((unsigned __int8)a4 << 6) + v6 + 22327),
    &v13,
    &v12,
    *(float *)(((unsigned __int8)a4 << 6) + v6 + 22384),
    *(float *)(((unsigned __int8)a4 << 6) + v6 + 22364));
  sub_10039850(
    *(_BYTE *)(v6 + (a2 << 6) + 22327),
    (float *)&a4,
    &v14,
    *(float *)(v6 + (a2 << 6) + 22384),
    *(float *)(v6 + (a2 << 6) + 22364));
  sub_100397A0(a5, v8, v12, *(float *)&a4);
  result = sub_100397A0(a5, v8, v14, v13);
  if ( result )
    result = v10;
  return result;
}

//----- (100399D0) --------------------------------------------------------
char __usercall sub_100399D0@<al>(int a1@<eax>, unsigned __int8 a2@<dl>, unsigned __int8 a3@<cl>)
{
  int v3; // ecx@1
  int v4; // esi@1
  int v5; // edi@1
  char v6; // al@1
  char v7; // bl@1
  double v8; // st7@3
  double v9; // st6@3
  double v10; // st5@3
  double v11; // st4@3
  double v12; // st3@17
  double v13; // st5@17
  int v15; // [sp+14h] [bp-10h]@3
  int v16; // [sp+18h] [bp-Ch]@3
  int v17; // [sp+1Ch] [bp-8h]@3
  int v18; // [sp+20h] [bp-4h]@3

  v3 = a3 << 6;
  v4 = v3 + a1 + 22324;
  v5 = (a2 << 6) + a1 + 22324;
  v6 = *(_BYTE *)(v3 + a1 + 22327);
  v7 = 1;
  if ( v6 & 7 && *(_BYTE *)(v5 + 3) & 7 )
  {
    sub_100396F0((int)&v16, (int)&v17, v6, *(float *)(v4 + 40), *(float *)(v4 + 60));
    sub_100396F0((int)&v15, (int)&v18, *(_BYTE *)(v5 + 3), *(float *)(v5 + 40), *(float *)(v5 + 60));
    v8 = *(float *)&v15;
    v9 = *(float *)&v16;
    v10 = *(float *)&v17;
    v11 = *(float *)&v18;
    if ( *(_BYTE *)(v4 + 3) & 0x40 && *(_BYTE *)(v5 + 3) & 0x40 )
    {
      if ( 9.9999996e24 != v10 && 9.9999996e24 != v11 && v10 - v11 > 0.2572222352027893 )
        v7 = 0;
      if ( 9.9999996e24 != v9 && 9.9999996e24 != v8 && v9 - v8 > 0.004999999888241291 )
        v7 = 0;
    }
    if ( !(*(_BYTE *)(v4 + 3) & 0x40) && !(*(_BYTE *)(v5 + 3) & 0x40) )
    {
      if ( 9.9999996e24 == v10 || 9.9999996e24 == v11 )
      {
        v13 = 9.9999996e24;
      }
      else
      {
        v12 = *(float *)&v18 - v10;
        v13 = 9.9999996e24;
        if ( v12 > 0.2572222352027893 )
          v7 = 0;
      }
      if ( v13 == v9 || v13 == v8 )
        return v7;
      if ( v8 - v9 > 0.004999999888241291 )
        return 0;
    }
  }
  return v7;
}

//----- (10039B50) --------------------------------------------------------
unsigned __int8 __usercall sub_10039B50@<al>(char a1@<al>, int a2@<ecx>, char a3, char a4)
{
  int v4; // esi@1
  char v5; // al@1
  unsigned __int8 v6; // bl@1
  unsigned __int8 result; // al@1
  int v8; // edx@7
  char v9; // al@7
  char *v10; // ebp@7
  unsigned __int8 v11; // bl@13
  int v12; // edi@16
  char v13; // al@18
  char v14; // al@22
  bool v15; // zf@26
  unsigned __int8 v16; // dl@30
  char v17; // al@35
  int v18; // edx@35
  char v19; // al@38
  char v20; // al@42
  unsigned __int8 v21; // [sp+Fh] [bp-5h]@1
  char v22; // [sp+10h] [bp-4h]@13
  char v23; // [sp+10h] [bp-4h]@30
  unsigned __int8 v24; // [sp+11h] [bp-3h]@1
  unsigned __int8 v25; // [sp+12h] [bp-2h]@1
  bool v26; // [sp+13h] [bp-1h]@1
  unsigned __int8 v27; // [sp+1Ch] [bp+8h]@30

  v4 = a2;
  v5 = sub_10029EC0(a2, a1);
  v6 = v5;
  v24 = v5;
  result = sub_10029EC0(v4, a3);
  v25 = result;
  v26 = a4 != 0;
  v21 = result;
  if ( result != -1 )
  {
    while ( result > v6 && result < *(_BYTE *)(v4 + 10) )
    {
      if ( sub_10039820(result, v4) )
      {
        v8 = v21 << 6;
        v9 = *(_BYTE *)(v8 + v4 + 22327);
        v10 = (char *)(v8 + v4 + 22327);
        if ( v26 != ((v9 & 0x40) == 64) && (v26 || a4) )
          *v10 = v9 | 0x80;
        else
          v26 = (v9 & 0x40) == 64;
        if ( !(*v10 & 0x80) )
        {
          v22 = 0;
          v11 = v21 - 1;
          while ( v11 >= v24 )
          {
            if ( v11 >= *(_BYTE *)(v4 + 10) || v22 )
              break;
            v12 = (v11 << 6) + v4;
            if ( (*(_BYTE *)(v12 + 22327) & 7) == 2 )
              v22 = 1;
            v13 = *v10;
            if ( !(*v10 & 0x40) || (v13 & 7) != 2 && (v13 & 7) != 4 )
            {
              if ( *v10 & 0x40 )
                continue;
              v14 = v13 & 7;
              if ( v14 != 2 && v14 != 3 )
                continue;
            }
            *(_BYTE *)(v12 + 22330) = v21;
            --v11;
          }
        }
      }
      v6 = v24;
      result = v21 - 1;
      v15 = v21-- == 0;
      if ( v15 )
        break;
      result = v21;
    }
  }
  for ( ; v6 != -1; ++v6 )
  {
    if ( v6 >= v25 )
      break;
    result = sub_10039820(v6, v4);
    if ( result )
    {
      result = v6 + 1;
      v16 = v6 + 1;
      v23 = 0;
      v27 = v6 + 1;
      if ( (unsigned __int8)(v6 + 1) <= v25 )
      {
        while ( v16 < *(_BYTE *)(v4 + 10) && !v23 )
        {
          v17 = sub_100399D0(v4, v16, v6);
          v18 = v27 << 6;
          if ( v17 )
          {
            if ( (*(_BYTE *)(v18 + v4 + 22327) & 7) == 2 )
              v23 = 1;
            v19 = *(_BYTE *)((v6 << 6) + v4 + 22327);
            if ( !(v19 & 0x40) && ((v19 & 7) == 2 || (v19 & 7) == 4)
              || v19 & 0x40 && ((v20 = v19 & 7, v20 == 2) || v20 == 3) )
            {
              *(_BYTE *)(v18 + v4 + 22331) = v6;
            }
          }
          else
          {
            *(_BYTE *)(v18 + v4 + 22327) |= 0x80u;
            if ( !(*(_BYTE *)((v6 << 6) + v4 + 22327) & 0x40) )
              *(_BYTE *)(v18 + v4 + 22331) = v6;
          }
          result = v27++ + 1;
          if ( v27 > v25 )
            break;
          v16 = v27;
        }
      }
    }
  }
  return result;
}

//----- (10039D90) --------------------------------------------------------
char __usercall sub_10039D90@<al>(int a1@<edi>, int a2, int a3)
{
  char result; // al@1
  unsigned __int8 v4; // bl@1
  int v5; // eax@2
  int v6; // ecx@2
  int v7; // esi@2
  int v8; // edx@4
  int v9; // eax@6
  int v10; // ebp@6
  float v11; // [sp+10h] [bp-14h]@0
  unsigned __int8 v12; // [sp+17h] [bp-Dh]@1
  int v13; // [sp+18h] [bp-Ch]@0
  float v14; // [sp+1Ch] [bp-8h]@1
  float v15; // [sp+20h] [bp-4h]@1

  v15 = sub_10048530();
  v14 = sub_10048510(v11);
  result = a3;
  v4 = 0;
  v12 = *(_BYTE *)(a3 + 244);
  LOBYTE(v13) = -1;
  if ( *(_BYTE *)(a1 + 10) )
  {
    do
    {
      v5 = v4 << 6;
      v6 = *(_DWORD *)(v5 + a1 + 22332);
      v7 = v5 + a1;
      if ( v6 == 16744960 || v6 == 16745216 )
      {
        v8 = a2;
      }
      else
      {
        v8 = a2;
        if ( v6 != 16744704 || 0.0 != *(float *)(a2 + 7364) )
        {
          v9 = sub_1002A190((_BYTE *)(a2 + 284), v6);
          v10 = v9;
          if ( v9 )
          {
            *(float *)(v7 + 22364) = *(float *)(v9 + 24);
            *(_BYTE *)(v7 + 22327) = *(_BYTE *)(v9 + 3);
          }
          else
          {
            *(_BYTE *)(v7 + 22327) = 0;
            *(float *)(v7 + 22364) = 9.9999996e24;
          }
          if ( *(_BYTE *)(v7 + 22327) )
          {
            if ( (_BYTE)v13 == -1 || sub_100399D0(a1, v4, v13) && sub_100398C0(a3, v4, a1, v13, v15, v14) )
              LOBYTE(v13) = v4;
            else
              *(_BYTE *)(v7 + 22327) |= 0x80u;
          }
          result = *(_BYTE *)(v7 + 22327);
          if ( result )
          {
            if ( *(_WORD *)(((v4 + 349) << 6) + a1) == -1 )
            {
              result |= 0x80u;
              *(_BYTE *)(v7 + 22327) = result;
            }
            else if ( *(_BYTE *)(v10 + 3) & 0x40 && v4 > *(_BYTE *)(a1 + 8) && *(_BYTE *)(v7 + 22324) <= v12 )
            {
              result |= 0x80u;
              *(_BYTE *)(v7 + 22327) = result;
            }
          }
          goto LABEL_24;
        }
      }
      result = *(_BYTE *)(v8 + 7354);
      *(_BYTE *)(v7 + 22327) = result;
      *(float *)(v7 + 22364) = *(float *)(v8 + 7368);
LABEL_24:
      ++v4;
    }
    while ( v4 < *(_BYTE *)(a1 + 10) );
  }
  return result;
}

//----- (10039F20) --------------------------------------------------------
unsigned __int8 __cdecl sub_10039F20(int a1, int a2, int a3)
{
  unsigned __int8 result; // al@1
  char v4; // bl@4
  char v5; // [sp+8h] [bp+4h]@4

  result = a1;
  if ( a1 )
  {
    sub_10039D90(a3, a1, a2);
    result = *(_BYTE *)(a2 + 4);
    if ( result )
    {
      --result;
      if ( *(_BYTE *)(a2 + 244) == -1 )
      {
        v4 = result;
        v5 = result;
      }
      else
      {
        v4 = *(_BYTE *)(a2 + 244);
        v5 = *(_BYTE *)(a2 + 244);
        result = sub_10039B50(v4, a3, result, 1);
      }
      if ( v4 )
        result = sub_10039B50(0, a3, v5, 0);
    }
  }
  return result;
}

//----- (10039FA0) --------------------------------------------------------
signed int __cdecl sub_10039FA0(int a1, unsigned __int8 a2)
{
  int v2; // eax@3
  int v3; // edx@3
  char v4; // al@3
  char v5; // cl@4
  char v6; // al@6

  if ( a2 != -1 && a2 < *(_BYTE *)(a1 + 10) )
  {
    v2 = a2 << 6;
    v3 = v2 + a1;
    v4 = *(_BYTE *)(v2 + a1 + 22325);
    if ( v4 >= 0 )
    {
      v5 = v4 & 7;
      if ( (v4 & 7) != 1 )
      {
        if ( v5 )
        {
          v6 = v4 & 0x18;
          if ( (v6 == 16 || v6 == 24) && 9.9999996e24 != *(float *)(v3 + 22344) )
          {
            if ( v5 != 5 )
              return 1;
            if ( 9.9999996e24 != *(float *)(v3 + 22348) )
              return 1;
          }
        }
      }
    }
  }
  return 0;
}

//----- (1003A020) --------------------------------------------------------
BOOL __cdecl sub_1003A020(int a1, unsigned __int8 a2)
{
  return a2 != -1 && a2 < *(_BYTE *)(a1 + 10);
}

//----- (1003A040) --------------------------------------------------------
void __cdecl sub_1003A040(int a1, float a2, int a3, int a4)
{
  float v4; // [sp+Ch] [bp-4h]@1
  int v5; // [sp+14h] [bp+4h]@1
  float v6; // [sp+18h] [bp+8h]@2

  v4 = sqrt(*(float *)(a1 + 8) * *(float *)(a1 + 8) + a2 * a2);
  *(float *)&v5 = (3.141592741012573 - *(float *)(a1 + 16)) * 0.5 + *(float *)(a1 + 4);
  if ( a2 < 0.0 )
  {
    v6 = *(float *)&v5 + 3.141592741012573;
    *(float *)&v5 = sub_100637E0(v6);
  }
  sub_100236E0(a3, v4, *(float *)&v5, a4);
}

//----- (1003A0D0) --------------------------------------------------------
char __cdecl sub_1003A0D0(char a1, float a2, int a3)
{
  int v3; // ebx@1
  char result; // al@6
  int v5; // esi@9
  char v6; // cl@11
  float v7; // ST24_4@20
  float v8; // ST24_4@20
  double v9; // st7@20
  float v10; // ST24_4@27
  double v11; // ST28_8@28
  float v12; // [sp+18h] [bp-24h]@7
  float v13; // [sp+20h] [bp-1Ch]@20
  float v14; // [sp+24h] [bp-18h]@27
  float v15; // [sp+28h] [bp-14h]@20
  float v16; // [sp+2Ch] [bp-10h]@16
  float v17; // [sp+30h] [bp-Ch]@20
  float v18; // [sp+34h] [bp-8h]@16
  char v19; // [sp+38h] [bp-4h]@27
  char v20; // [sp+40h] [bp+4h]@16

  LOBYTE(v3) = a1;
  if ( a1 == -1 || sub_100195F0() == 1 )
  {
    result = 3;
  }
  else
  {
    if ( a1 && *(_BYTE *)(180 * (unsigned __int8)a1 + dword_10504ED0 + 488) )
    {
      if ( !*(_BYTE *)a3 )
        return 2;
      v12 = *(float *)(a3 + 8);
    }
    else
    {
      v12 = 0.0;
    }
    *(float *)(a3 + 12) = 0.0;
    *(_BYTE *)a3 = 0;
    v5 = 180 * (unsigned __int8)a1;
    if ( (unsigned __int8)a1 < *(_BYTE *)(dword_10504ED0 + 5)
      || (unsigned __int8)a1 > *(_BYTE *)(dword_10504ED0 + 3)
      || (v6 = *(_BYTE *)(v5 + dword_10504ED0 + 671), v6 != 17) && v6 != 6 )
    {
      v20 = 3;
    }
    else
    {
      if ( (unsigned __int8)a1 > *(_BYTE *)(dword_10504ED0 + 242) && *(_BYTE *)(dword_10504EDC + 816) != 3 )
        return 1;
      v20 = 0;
      sub_10022FC0(v5 + dword_10504ED0 + 720, v5 + dword_10504ED0 + 728, (float *)(a3 + 12), &v18, &v16);
      if ( *(_BYTE *)(dword_10504EDC + 816) != 3
        && (unsigned int)(unsigned __int8)v3 + 1 <= *(_BYTE *)(dword_10504ED0 + 3)
        && (unsigned int)(unsigned __int8)v3 + 1 <= *(_BYTE *)(dword_10504ED0 + 242)
        && *(_BYTE *)(v5 + dword_10504ED0 + 851) == 17 )
      {
        v3 = (unsigned __int8)v3;
        sub_10022FC0(
          dword_10504ED0 + 180 * ((unsigned __int8)v3 + 5),
          v5 + dword_10504ED0 + 908,
          &v13,
          (float *)(a3 + 4),
          &v15);
        v7 = *(float *)(a3 + 4) - v16;
        v8 = sub_100637E0(v7);
        *(float *)(a3 + 16) = v8;
        v17 = tan(v8 * 0.5);
        v17 = v17 * -a2;
        v9 = v17;
        *(float *)(a3 + 8) = v17;
        if ( COERCE_FLOAT(LODWORD(v8) & 0x7FFFFFFF) <= 2.0943952 && v12 + *(float *)(a3 + 12) + v9 >= 0.0 )
        {
          if ( v9 + v13 >= 0.0 )
          {
            result = 0;
            *(_BYTE *)a3 = 1;
            return result;
          }
          if ( v3 + 2 <= (unsigned int)*(_BYTE *)(dword_10504ED0 + 3)
            && v3 + 2 <= (unsigned int)*(_BYTE *)(dword_10504ED0 + 242)
            && *(_BYTE *)(v5 + dword_10504ED0 + 1031) == 17 )
          {
            sub_10022FC0(dword_10504ED0 + 180 * (v3 + 6), v5 + dword_10504ED0 + 1088, (float *)&v19, &v14, &v18);
            v17 = v14 - v15;
            v10 = sub_100637E0(v17);
            *(_BYTE *)a3 = COERCE_FLOAT(LODWORD(v10) & 0x7FFFFFFF) <= 2.0943952
                        && (v11 = *(float *)(a3 + 8) + v13,
                            v17 = v14 - v15,
                            v18 = tan(sub_100637E0(v17) * 0.5),
                            v11 - v18 * a2 >= 0.0);
          }
        }
      }
      if ( !*(_BYTE *)a3 )
      {
        result = 0;
        *(float *)(a3 + 4) = v16;
        *(float *)(a3 + 16) = 0.0;
        *(float *)(a3 + 8) = 0.0;
        return result;
      }
    }
    result = v20;
  }
  return result;
}
// 10504ED0: using guessed type int dword_10504ED0;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1003A410) --------------------------------------------------------
signed int __cdecl sub_1003A410(int a1, int a2)
{
  int v2; // ecx@1
  int v3; // ecx@2
  signed int v4; // esi@2
  int v5; // esi@6
  const void *v6; // edx@6
  int v7; // esi@6
  signed int result; // eax@8
  int v9; // [sp-Ch] [bp-C8h]@5
  char v10; // [sp-8h] [bp-C4h]@5
  const void *v11; // [sp+4h] [bp-B8h]@1
  int v12; // [sp+8h] [bp-B4h]@1
  int v13; // [sp+Ch] [bp-B0h]@1
  __int16 *v14; // [sp+10h] [bp-ACh]@1
  int v15; // [sp+14h] [bp-A8h]@1
  int *v16; // [sp+18h] [bp-A4h]@1
  int v17; // [sp+1Ch] [bp-A0h]@1
  int v18; // [sp+20h] [bp-9Ch]@1
  __int16 v19; // [sp+24h] [bp-98h]@2
  int v20; // [sp+28h] [bp-94h]@6
  char v21; // [sp+2Ch] [bp-90h]@6
  int v22; // [sp+80h] [bp-3Ch]@2
  int v23; // [sp+84h] [bp-38h]@2
  int v24; // [sp+88h] [bp-34h]@2
  int v25; // [sp+8Ch] [bp-30h]@2
  int v26; // [sp+90h] [bp-2Ch]@2
  int v27; // [sp+94h] [bp-28h]@7

  v14 = 0;
  v15 = 0;
  v16 = 0;
  v17 = 0;
  v18 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v2 = *(_DWORD *)a2;
  if ( *(_DWORD *)a2 == 24 )
  {
    v3 = *(_DWORD *)(a2 + 4);
    v19 = -32752;
    v22 = *(_DWORD *)v3;
    v23 = *(_DWORD *)(v3 + 4);
    v24 = *(_DWORD *)a1;
    v25 = *(_DWORD *)(a1 + 4);
    v26 = *(_DWORD *)(a1 + 8);
    v11 = *(const void **)(a2 + 8);
    v4 = (unsigned __int16)v22;
  }
  else
  {
    if ( v2 != 38 && v2 != 39 )
    {
      v10 = 0;
      v9 = 171;
LABEL_11:
      sub_100175E0(".\\mdb\\mdb_intf_map.c", v9, v10, 0);
      return 1;
    }
    v5 = *(_DWORD *)(a2 + 4);
    v6 = *(const void **)(a2 + 8);
    v19 = -32750;
    v22 = *(_DWORD *)v5;
    v7 = *(_DWORD *)(v5 + 4);
    v20 = v2;
    v23 = v7;
    qmemcpy(&v21, v6, 0x54u);
    v24 = *(_DWORD *)a1;
    v25 = *(_DWORD *)(a1 + 4);
    v26 = *(_DWORD *)(a1 + 8);
    v11 = v6;
    v4 = 84;
  }
  v27 = *(_DWORD *)(a1 + 12);
  v15 = 116;
  v18 = 4;
  v14 = &v19;
  v16 = (int *)&v11;
  v17 = 100;
  v12 = v4;
  if ( sub_10017930(38, (int)&v14) || (result = v13) != 0 || v12 != v4 )
  {
    v10 = 0;
    v9 = 194;
    goto LABEL_11;
  }
  return result;
}

//----- (1003A5A0) --------------------------------------------------------
__int16 __cdecl sub_1003A5A0(unsigned int a1, __int16 a2)
{
  void *v2; // ecx@1
  __int16 result; // ax@2
  char v4; // bl@3
  char v5; // al@3
  int v6; // eax@14
  signed __int16 v7; // si@23
  __int64 v8; // [sp-4h] [bp-74h]@0
  char v9; // [sp+Fh] [bp-61h]@8
  char v10; // [sp+10h] [bp-60h]@8
  char v11; // [sp+14h] [bp-5Ch]@7
  __int16 v12; // [sp+16h] [bp-5Ah]@7
  char v13; // [sp+19h] [bp-57h]@14
  char v14; // [sp+1Ah] [bp-56h]@11
  char v15; // [sp+1Ch] [bp-54h]@26
  char v16; // [sp+1Dh] [bp-53h]@26
  char v17; // [sp+20h] [bp-50h]@9
  char v18; // [sp+40h] [bp-30h]@9

  LODWORD(v8) = a1;
  switch ( sub_1003C3E0(v8) )
  {
    case 8:
      result = 189;
      break;
    case 0:
      v4 = sub_1004ADF0(v2);
      v5 = sub_1003C8E0(a1);
      if ( v5 == byte_10505609 )
      {
        result = word_10085478[(unsigned __int8)v4];
      }
      else if ( v5 == byte_1050560A )
      {
        result = word_1008547E[(unsigned __int8)v4];
      }
      else
      {
        sub_1003D610(a1, (int)&v11);
        if ( v12 == 1000 )
        {
          result = word_10085490[(unsigned __int8)v4];
        }
        else
        {
          v9 = sub_1003E0A0(a1);
          v10 = 0;
          if ( v9 <= 0 )
          {
LABEL_11:
            if ( v14 )
              result = word_1008548A[(unsigned __int8)v4];
            else
              result = word_10085484[(unsigned __int8)v4];
          }
          else
          {
            while ( 1 )
            {
              sub_1003D750(a1, v10, (int)&v17);
              if ( v18 == byte_10505608 )
                break;
              if ( ++v10 >= v9 )
                goto LABEL_11;
            }
            v6 = (signed __int16)(((signed int)((unsigned __int64)(1717986919i64 * (v12 + (signed int)a2 + 185)) >> 32) >> 2)
                                + ((unsigned int)((unsigned __int64)(1717986919i64 * (v12 + (signed int)a2 + 185)) >> 32) >> 31))
               % 18;
            if ( v13 )
            {
              if ( v14 )
                result = word_10085508[(unsigned __int8)v4 + 3 * v6];
              else
                result = word_10085498[(unsigned __int8)v4 + 3 * v6];
            }
            else if ( v14 )
            {
              result = word_100855E8[(unsigned __int8)v4 + 3 * v6];
            }
            else
            {
              result = word_10085578[(unsigned __int8)v4 + 3 * v6];
            }
          }
        }
      }
      break;
    case 1:
    case 5:
    case 6:
    case 0xB:
    case 0xC:
      result = 182;
      break;
    case 2:
    case 7:
      v7 = 184;
      if ( !sub_10048650(a1) )
        goto LABEL_29;
      result = 183;
      break;
    case 4:
      result = 5;
      break;
    case 3:
      sub_100486B0(a1, (int)&v15);
      result = word_10085656[2 * sub_1004D960(&v16, 1u, (int)&unk_10085654, 4, 8, 6)];
      break;
    case 9:
      result = 37;
      break;
    default:
      v7 = 182;
      sub_100175E0("..\\lib\\adl\\dbm_smbl.c", 345, 1, 0);
LABEL_29:
      result = v7;
      break;
  }
  return result;
}
// 10085478: using guessed type __int16 word_10085478[];
// 1008547E: using guessed type __int16 word_1008547E[];
// 10085484: using guessed type __int16 word_10085484[];
// 1008548A: using guessed type __int16 word_1008548A[];
// 10085490: using guessed type __int16 word_10085490[];
// 10085498: using guessed type __int16 word_10085498[];
// 10085508: using guessed type __int16 word_10085508[];
// 10085578: using guessed type __int16 word_10085578[];
// 100855E8: using guessed type __int16 word_100855E8[];
// 10085656: using guessed type __int16 word_10085656[];
// 10505608: using guessed type char byte_10505608;
// 10505609: using guessed type char byte_10505609;
// 1050560A: using guessed type char byte_1050560A;

//----- (1003A920) --------------------------------------------------------
char __cdecl sub_1003A920(unsigned int a1, __int16 a2, __int16 *a3)
{
  char result; // al@2
  __int16 v4; // [sp+4h] [bp-48h]@2

  if ( a1 >= 0x3E8 )
  {
    if ( a1 == 0x3FFFF || a1 == 262142 || a1 == 262141 )
    {
      *a3 = -1;
      result = 0;
    }
    else
    {
      *a3 = sub_1003A5A0(a1, a2);
      result = 0;
    }
  }
  else
  {
    sub_10040660(a1, (int)&v4);
    *a3 = v4;
    result = 0;
  }
  return result;
}

//----- (1003A9C0) --------------------------------------------------------
int __cdecl sub_1003A9C0(char a1)
{
  void *v1; // ecx@0
  int v2; // edi@2
  int v3; // eax@8
  void *v4; // ecx@8
  int v5; // esi@10
  void *v6; // ecx@10

  switch ( a1 )
  {
    case 0:
      v2 = 0x100000;
      break;
    case 2:
      v2 = 1024;
      break;
    case 3:
      v2 = 2048;
      break;
    case 4:
      v2 = 4096;
      break;
    case 5:
      v2 = 0x2000;
      break;
    default:
      v2 = 512;
      break;
  }
  v3 = (unsigned __int8)sub_1004AE10(v1) - 2;
  if ( v3 )
  {
    if ( v3 == 6 )
    {
      v5 = 15;
      if ( sub_10017720(16) )
        return sub_10017900(16, v2);
    }
    else
    {
      v5 = 9;
      if ( sub_1004E1E0(v4) & 3 || sub_1004AE30(v6) == 1 )
        return sub_10017900(8 * (v2 == 0x100000) + 6, v2);
    }
  }
  else
  {
    v5 = 3;
  }
  return sub_10017900(v5, v2);
}

//----- (1003AAA0) --------------------------------------------------------
int __cdecl sub_1003AAA0(char a1)
{
  char *v1; // eax@3
  char v2; // al@5
  int result; // eax@7
  char v4; // [sp+3h] [bp-5h]@5
  char v5[4]; // [sp+4h] [bp-4h]@2

  sub_1003C040((unsigned __int8 *)&a1, 1);
  result = 1;
  if ( a1 )
  {
    v5[0] = sub_1004F010();
    v1 = a1 == 1 ? (char *)dword_10504EE0 + 24 : (char *)dword_10504EE0 + 25;
    v2 = sub_1004D110(v5[0], &v4, v1, 1);
    if ( !v4 )
    {
      if ( v2 )
        result = 0;
    }
  }
  return result;
}

//----- (1003AB10) --------------------------------------------------------
char __cdecl sub_1003AB10(void *a1)
{
  char v1; // ST18_1@1
  char result; // al@8

  v1 = sub_1004F010();
  if ( !sub_1004D110(v1, a1, (char *)dword_10504EE0 + 1716, 28)
    || (COERCE_UNSIGNED_INT(*((float *)a1 + 1)) & 0x7F800000) == 2139095040
    || (COERCE_UNSIGNED_INT(*((float *)a1 + 2)) & 0x7F800000) == 2139095040
    || (COERCE_UNSIGNED_INT(*((float *)a1 + 4)) & 0x7F800000) == 2139095040
    || sub_1004F920((unsigned __int8 *)a1 + 12, 0)
    || sub_1004F5C0((_BYTE *)a1 + 2, 0, 9, 0, 0)
    || sub_1004F780((unsigned __int8 *)a1, 0, 1u, 0, 0) )
  {
    memcpy(a1, &unk_1008619C, 0x1Cu);
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1003ABF0) --------------------------------------------------------
int __cdecl sub_1003ABF0(int a1, __int16 a2, __int16 a3, __int16 a4, __int16 a5, unsigned __int16 a6, int a7)
{
  __int16 v7; // ST5C_2@1
  int v8; // ST54_4@1
  unsigned __int16 v9; // ST50_2@1
  __int16 v10; // ST58_2@1
  __int16 v11; // cx@1
  __int16 v12; // ST52_2@1
  __int16 v13; // ST08_2@1
  __int16 v14; // cx@1
  char *v15; // eax@1
  int result; // eax@1
  __int16 v17; // [sp+0h] [bp-20h]@0
  int v18; // [sp+4h] [bp-1Ch]@0

  v7 = *(_WORD *)(a1 + 6);
  v8 = *(_DWORD *)(a1 + 36);
  v9 = *(_WORD *)(a1 + 34);
  v10 = *(_WORD *)(a1 + 4);
  v11 = *(_WORD *)(a1 + 32);
  *(_WORD *)(a1 + 34) = 1;
  *(_WORD *)(a1 + 32) = 1;
  v12 = v11;
  *(_WORD *)(a1 + 4) = 2;
  *(_WORD *)(a1 + 6) = 3;
  *(_WORD *)(a1 + 36) = 6;
  *(_WORD *)(a1 + 38) = 6;
  *(_WORD *)(a1 + 48) = 6;
  *(_WORD *)(a1 + 50) = 6;
  sub_1001CD40(a1, a2, a3, a4, a5, 3);
  *(_WORD *)(a1 + 48) = 5;
  *(_WORD *)(a1 + 50) = 5;
  *(_WORD *)(a1 + 36) = 9;
  *(_WORD *)(a1 + 38) = 16;
  sub_1001CD40(a1, a2 + 1, a3 + 1, a4 - 3, a5 - 3, 3);
  *(_WORD *)(a1 + 36) = 9;
  *(_WORD *)(a1 + 38) = 9;
  v13 = a3 + a5 - 1;
  *(_WORD *)(a1 + 46) = a2;
  *(_WORD *)(a1 + 44) = v13;
  sub_1001A8E0(a1, a2 + a4 - 1, v13, 0);
  sub_1001A8E0(a1, a2 + a4 - 1, a3 - 1, 0);
  v14 = a5 / 2 + (*(_WORD *)(a7 + 22) >> 1) - *(_WORD *)(a7 + 30) - *(_WORD *)(a7 + 26) + a3;
  *(_WORD *)(a1 + 46) = a2 + a4 / 2;
  *(_WORD *)(a1 + 36) = -1;
  *(_WORD *)(a1 + 38) = 16;
  *(_WORD *)(a1 + 44) = v14;
  v15 = sub_1004D8D0(a6);
  sub_10019B50(a1, a7, v15, 0, 1, v17, v18);
  *(_WORD *)(a1 + 36) = v8;
  *(_WORD *)(a1 + 38) = HIWORD(v8);
  result = v9;
  *(_WORD *)(a1 + 4) = v10;
  *(_WORD *)(a1 + 6) = v7;
  *(_WORD *)(a1 + 34) = v9;
  *(_WORD *)(a1 + 32) = v12;
  return result;
}

//----- (1003ADA0) --------------------------------------------------------
char __cdecl sub_1003ADA0(float *a1, _BYTE *a2)
{
  float *v2; // esi@1
  _BYTE *v3; // edi@1
  char result; // al@1

  v2 = a1;
  *a1 = 9.9999996e24;
  v3 = a2;
  *a2 = 0;
  result = sub_10016BE0((float *)&a1);
  if ( result )
  {
    *v2 = *(float *)&a1;
    *v3 = 1;
  }
  return result;
}

//----- (1003ADE0) --------------------------------------------------------
char sub_1003ADE0()
{
  int v0; // eax@2
  int v1; // edi@3
  int v2; // ebp@3
  int v3; // esi@3
  int v4; // ebx@3
  char result; // al@6
  unsigned __int16 v6; // ax@10
  __int16 v7; // cx@16
  __int16 v8; // cx@22
  bool v9; // bl@34

  if ( !sub_1004F050() )
    return 0;
  sub_1004F2D0();
  v0 = dword_10504EDC;
  if ( *(_WORD *)(dword_10504EDC + 832) == -1 )
  {
    v1 = 0;
    v2 = 0;
    v3 = 0;
    v4 = 0;
  }
  else
  {
    v1 = sub_10024D30(dword_10504ED4, *(_WORD *)(dword_10504EDC + 830));
    v2 = sub_10024D30(dword_10504ED4, *(_WORD *)(dword_10504EDC + 828));
    v3 = sub_10024D30(dword_10504ED4, *(_WORD *)(dword_10504EDC + 832));
    v4 = sub_10024D30(dword_10504ED4, *(_WORD *)(v3 + 8));
    v0 = dword_10504EDC;
  }
  if ( !sub_10033930(*(_BYTE *)(v0 + 812)) )
  {
    sub_1004F2C0();
    return 1;
  }
  if ( !v2 || !v3 || !v1 )
  {
    sub_1004F2C0();
    return 0;
  }
  v6 = (*(_WORD *)(v2 + 2) >> 4) & 0x3F;
  if ( v6 >= 0x19u )
  {
    if ( (*(_WORD *)(v3 + 2) & 0x3F0u) >= 0x190 )
    {
      sub_1004F2C0();
      return 2;
    }
    if ( v6 == 25 && *(_BYTE *)v2 != *(_BYTE *)v3 )
      goto LABEL_47;
  }
  if ( (v6 != 5 || (v7 = (*(_WORD *)(v1 + 2) >> 4) & 0x3F, v7 != 28) && v7 != 25)
    && (v6 != 25 || (*(_WORD *)(v3 + 2) & 0x3F0) != 80) )
  {
    if ( v6 == 5
      || ((v8 = (*(_WORD *)(v3 + 2) >> 4) & 0x3F, v8 == 5) || *(_BYTE *)v2 != *(_BYTE *)v3)
      && (v6 == 13 || v6 == 17 || v6 == 21 || v6 == 24)
      || v6 == 21 && v8 == 21 && v4 && ((*(_WORD *)(v4 + 2) & 0x3F0) == 80 || *(_BYTE *)v4 != *(_BYTE *)v3) )
    {
      sub_1004F2C0();
      result = 6;
    }
    else if ( *(_BYTE *)v2 == *(_BYTE *)v3 )
    {
      if ( v8 == 26 || v6 == 21 && v8 == 21 && v4 && (*(_WORD *)(v4 + 2) & 0x3F0) == 416 )
      {
        sub_1004F2C0();
        result = 8;
      }
      else
      {
        sub_1004F2C0();
        result = 3;
      }
    }
    else
    {
      v9 = v6 != 27;
      sub_1004F2C0();
      result = 2 * v9 + 5;
    }
  }
  else
  {
LABEL_47:
    sub_1004F2C0();
    result = 4;
  }
  return result;
}
// 10504ED4: using guessed type int dword_10504ED4;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1003B020) --------------------------------------------------------
char sub_1003B020()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 464, 1);
  return v1;
}

//----- (1003B060) --------------------------------------------------------
char sub_1003B060()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 356, 1);
  return v1;
}

//----- (1003B0A0) --------------------------------------------------------
char sub_1003B0A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1, 1);
  return v1;
}

//----- (1003B0E0) --------------------------------------------------------
char sub_1003B0E0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 359, 1);
  return v1;
}

//----- (1003B120) --------------------------------------------------------
char sub_1003B120()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 384, 1);
  return v1;
}

//----- (1003B160) --------------------------------------------------------
char sub_1003B160()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 2, 1);
  return v1;
}

//----- (1003B1A0) --------------------------------------------------------
char sub_1003B1A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 385, 1);
  return v1;
}

//----- (1003B1E0) --------------------------------------------------------
char sub_1003B1E0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 396, 1);
  return v1;
}

//----- (1003B220) --------------------------------------------------------
char sub_1003B220()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 3, 1);
  return v1;
}

//----- (1003B260) --------------------------------------------------------
char sub_1003B260()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 399, 1);
  return v1;
}

//----- (1003B2A0) --------------------------------------------------------
char sub_1003B2A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1012, 1);
  return v1;
}

//----- (1003B2E0) --------------------------------------------------------
char sub_1003B2E0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 4, 1);
  return v1;
}

//----- (1003B320) --------------------------------------------------------
char sub_1003B320()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 469, 1);
  return v1;
}

//----- (1003B360) --------------------------------------------------------
char sub_1003B360()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1260, 1);
  return v1;
}

//----- (1003B3A0) --------------------------------------------------------
char sub_1003B3A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 5, 1);
  return v1;
}

//----- (1003B3E0) --------------------------------------------------------
char sub_1003B3E0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1264, 1);
  return v1;
}

//----- (1003B420) --------------------------------------------------------
char sub_1003B420()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1276, 1);
  return v1;
}

//----- (1003B460) --------------------------------------------------------
char sub_1003B460()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 6, 1);
  return v1;
}

//----- (1003B4A0) --------------------------------------------------------
char sub_1003B4A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1277, 1);
  return v1;
}

//----- (1003B4E0) --------------------------------------------------------
char sub_1003B4E0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1324, 1);
  return v1;
}

//----- (1003B520) --------------------------------------------------------
char sub_1003B520()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 7, 1);
  return v1;
}

//----- (1003B560) --------------------------------------------------------
char sub_1003B560()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1326, 1);
  return v1;
}

//----- (1003B5A0) --------------------------------------------------------
char sub_1003B5A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1336, 1);
  return v1;
}

//----- (1003B5E0) --------------------------------------------------------
char sub_1003B5E0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 8, 1);
  return v1;
}

//----- (1003B620) --------------------------------------------------------
char sub_1003B620()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1347, 1);
  return v1;
}

//----- (1003B660) --------------------------------------------------------
char sub_1003B660()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 212, 1);
  return v1;
}

//----- (1003B6A0) --------------------------------------------------------
char sub_1003B6A0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, dword_10504EE0, 1);
  return v1;
}

//----- (1003B6D0) --------------------------------------------------------
char sub_1003B6D0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 9, 1);
  return v1;
}

//----- (1003B710) --------------------------------------------------------
char sub_1003B710()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 10, 1);
  return v1;
}

//----- (1003B750) --------------------------------------------------------
char sub_1003B750()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 6;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1365, 1);
  return v1;
}

//----- (1003B790) --------------------------------------------------------
int sub_1003B790()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0x3FFFF;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1420, 4);
  return v1;
}

//----- (1003B7D0) --------------------------------------------------------
char sub_1003B7D0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1388, 1);
  return v1;
}

//----- (1003B810) --------------------------------------------------------
double sub_1003B810()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1396, 4);
  return v1;
}

//----- (1003B850) --------------------------------------------------------
int sub_1003B850()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0x3FFFF;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1424, 4);
  return v1;
}

//----- (1003B890) --------------------------------------------------------
int sub_1003B890()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0x3FFFF;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1484, 4);
  return v1;
}

//----- (1003B8D0) --------------------------------------------------------
double sub_1003B8D0()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1492, 4);
  return v1;
}

//----- (1003B910) --------------------------------------------------------
double sub_1003B910()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1500, 4);
  return v1;
}

//----- (1003B950) --------------------------------------------------------
int sub_1003B950()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0x3FFFF;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1488, 4);
  return v1;
}

//----- (1003B990) --------------------------------------------------------
char sub_1003B990()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1364, 1);
  return v1;
}

//----- (1003B9D0) --------------------------------------------------------
double sub_1003B9D0()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 236, 4);
  return v1;
}

//----- (1003BA10) --------------------------------------------------------
char sub_1003BA10()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 208, 1);
  return v1;
}

//----- (1003BA50) --------------------------------------------------------
char sub_1003BA50()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 210, 1);
  return v1;
}

//----- (1003BA90) --------------------------------------------------------
double sub_1003BA90()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 244, 4);
  return v1;
}

//----- (1003BAD0) --------------------------------------------------------
double sub_1003BAD0()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1380, 4);
  return v1;
}

//----- (1003BB10) --------------------------------------------------------
char sub_1003BB10()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1366, 1);
  return v1;
}

//----- (1003BB50) --------------------------------------------------------
int sub_1003BB50()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0x3FFFF;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1556, 4);
  return v1;
}

//----- (1003BB90) --------------------------------------------------------
char sub_1003BB90()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1524, 1);
  return v1;
}

//----- (1003BBD0) --------------------------------------------------------
double sub_1003BBD0()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1532, 4);
  return v1;
}

//----- (1003BC10) --------------------------------------------------------
double sub_1003BC10()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1408, 4);
  return v1;
}

//----- (1003BC50) --------------------------------------------------------
int sub_1003BC50()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0x3FFFF;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1560, 4);
  return v1;
}

//----- (1003BC90) --------------------------------------------------------
char sub_1003BC90()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 216, 1);
  return v1;
}

//----- (1003BCD0) --------------------------------------------------------
double sub_1003BCD0()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 316, 4);
  return v1;
}

//----- (1003BD10) --------------------------------------------------------
double sub_1003BD10()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 320, 4);
  return v1;
}

//----- (1003BD50) --------------------------------------------------------
double sub_1003BD50()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 324, 4);
  return v1;
}

//----- (1003BD90) --------------------------------------------------------
char sub_1003BD90()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 312, 1);
  return v1;
}

//----- (1003BDD0) --------------------------------------------------------
char __cdecl sub_1003BDD0(void *a1)
{
  char v1; // ST10_1@1

  v1 = sub_1004F010();
  return sub_1004D110(v1, a1, (char *)dword_10504EE0 + 1168, 92);
}

//----- (1003BE00) --------------------------------------------------------
double sub_1003BE00()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 304, 4);
  return v1;
}

//----- (1003BE40) --------------------------------------------------------
double sub_1003BE40()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 252, 4);
  return v1;
}

//----- (1003BE80) --------------------------------------------------------
double sub_1003BE80()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 336, 4);
  return v1;
}

//----- (1003BEC0) --------------------------------------------------------
double sub_1003BEC0()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 344, 4);
  return v1;
}

//----- (1003BF00) --------------------------------------------------------
signed int sub_1003BF00()
{
  return 1;
}

//----- (1003BF10) --------------------------------------------------------
signed int __cdecl sub_1003BF10(__int16 a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 0x17:
    case 0x18:
    case 0x2F:
    case 0x36:
    case 0x37:
    case 0x38:
    case 0x39:
    case 0x42:
      result = 1;
      break;
    case 0x20:
      result = 6;
      break;
    case 0x21:
      result = 4;
      break;
    case 0x46:
    case 0x47:
      result = 2;
      break;
    case 0:
    case 5:
    case 0xC:
      result = 0;
      break;
    default:
      result = 10;
      break;
  }
  return result;
}

//----- (1003BFB0) --------------------------------------------------------
signed int __cdecl sub_1003BFB0(__int16 a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 0x46:
    case 0x47:
      result = 2;
      break;
    case 0x20:
      result = 6;
      break;
    case 0x21:
      result = 4;
      break;
    case 4:
    case 5:
    case 0xC:
    case 0x17:
    case 0x18:
    case 0x2F:
    case 0x36:
    case 0x37:
    case 0x38:
    case 0x39:
    case 0x42:
      result = 0;
      break;
    default:
      result = 1;
      break;
  }
  return result;
}

//----- (1003C040) --------------------------------------------------------
int __cdecl sub_1003C040(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_1004F780(a1, 0, 2u, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (1003C070) --------------------------------------------------------
void __cdecl sub_1003C070(unsigned int a1, int a2)
{
  __int64 v2; // [sp-4h] [bp-24h]@0
  int v3; // [sp+8h] [bp-18h]@10
  char v4[4]; // [sp+Ch] [bp-14h]@10
  char v5; // [sp+10h] [bp-10h]@10

  if ( a1 >= 0x3E8 )
  {
    switch ( a1 )
    {
      case 0x3FFFFu:
        *(_DWORD *)a2 = 1600085855;
        *(_WORD *)(a2 + 4) = 24415;
        *(_BYTE *)(a2 + 6) = 0;
        break;
      case 0x3FFFEu:
        *(_DWORD *)a2 = 1801678668;
        *(_WORD *)(a2 + 4) = 25701;
        *(_BYTE *)(a2 + 6) = 0;
        break;
      case 0x3FFFDu:
        *(_DWORD *)a2 = 1330654800;
        *(_WORD *)(a2 + 4) = 83;
        *(_BYTE *)(a2 + 6) = 0;
        break;
      default:
        LODWORD(v2) = a1;
        if ( sub_1003C3E0(v2) == 11 )
        {
          sub_10048CE0(a1, &v3, v4);
          sub_10041FC0(v3, v4[0], &v5);
          sub_1004A220(a2, &v5, 7);
        }
        else
        {
          sub_1003F1F0(a1, a2);
        }
        break;
    }
  }
  else
  {
    sub_10040770(a1, a2);
  }
}

//----- (1003C1C0) --------------------------------------------------------
double *__cdecl sub_1003C1C0(char a1, char a2, double *a3)
{
  unsigned int v3; // esi@1
  double *result; // eax@10
  __int64 v5; // [sp-4h] [bp-60h]@0
  int v6; // [sp+4h] [bp-58h]@7
  char v7; // [sp+8h] [bp-54h]@10
  double v8; // [sp+10h] [bp-4Ch]@3
  double v9; // [sp+18h] [bp-44h]@10
  char v10; // [sp+20h] [bp-3Ch]@10

  v3 = a2;
  if ( a2 == 0x3FFFF )
    goto LABEL_11;
  if ( (unsigned int)a2 >= 0x3E8 )
  {
    if ( a2 == 262141 )
    {
      sub_100169C0(a1, (int)&v8);
      goto LABEL_13;
    }
    LODWORD(v5) = a2;
    if ( sub_1003C3E0(v5) != 11 )
    {
      sub_1003F890(v3, (int)&v8);
      goto LABEL_13;
    }
    sub_10048CE0(v3, &v6, &a2);
    if ( (_BYTE)v6 != -1 && a2 != -1 && sub_1003FB10(v6, a2) == v3 )
    {
      sub_10040BC0(v6, a2, &v10);
      sub_10040A80((int)&v10, (int)&v7);
      sub_10063970((int)&v7, (int)&v8);
      result = a3;
      *a3 = v8;
      result[1] = v9;
      return result;
    }
LABEL_11:
    result = a3;
    v8 = 6.2831853071796;
    v9 = 6.2831853071796;
    *a3 = 6.2831853071796;
    result[1] = v9;
    return result;
  }
  sub_10040800(a2, (int)&v8);
LABEL_13:
  result = a3;
  *a3 = v8;
  result[1] = v9;
  return result;
}

//----- (1003C2F0) --------------------------------------------------------
void __cdecl sub_1003C2F0(unsigned int a1, char *a2)
{
  __int64 v2; // [sp-4h] [bp-10h]@0
  char v3[4]; // [sp+4h] [bp-8h]@2
  int v4; // [sp+8h] [bp-4h]@2

  LODWORD(v2) = a1;
  if ( sub_1003C3E0(v2) == 11 )
  {
    sub_10048CE0(a1, &v4, v3);
    sub_10041FC0(v4, v3[0], a2);
  }
  else
  {
    sub_1003C070(a1, (int)a2);
  }
}

//----- (1003C350) --------------------------------------------------------
int __cdecl sub_1003C350(int a1, int a2, int a3, void *a4, int a5)
{
  signed int v5; // ebx@1
  int v6; // eax@2
  int result; // eax@6

  *(_DWORD *)a5 = 0;
  sub_1003F7A0((const char *)a1, (int)a4, (signed int *)a5);
  v5 = sub_10040930(a1);
  if ( v5 != 0x3FFFF )
  {
    memcpy((char *)a4 + 4, a4, 0x78u);
    *(_DWORD *)a4 = v5;
    v6 = *(_DWORD *)a5 + 1;
    if ( v6 >= 31 )
      v6 = 31;
    *(_DWORD *)a5 = v6;
  }
  if ( *(_DWORD *)a5 <= 0 )
  {
    result = a3;
    *(_DWORD *)a2 = 0x3FFFF;
    *(_BYTE *)a3 = 29;
  }
  else
  {
    *(_DWORD *)a2 = *(_DWORD *)a4;
    result = *(_DWORD *)a5 <= 1 ? 0 : 8;
    *(_BYTE *)a3 = result;
  }
  return result;
}

//----- (1003C3E0) --------------------------------------------------------
char __cdecl sub_1003C3E0(__int64 a1)
{
  char result; // al@5

  if ( (unsigned int)a1 < 0x3E8 || (_DWORD)a1 == 262141 )
  {
    result = 4;
  }
  else if ( (_DWORD)a1 == 0x3FFFF || (_DWORD)a1 == 262142 )
  {
    result = 9;
  }
  else
  {
    result = sub_10048E40(a1);
  }
  return result;
}

//----- (1003C410) --------------------------------------------------------
char __cdecl sub_1003C410(char a1, signed int a2, signed int a3, signed int a4, int *a5, _WORD *a6, _DWORD *a7)
{
  int v7; // ebx@1
  int v8; // esi@5
  signed int v9; // ecx@13
  int v10; // eax@19
  int v11; // ecx@25

  v7 = a2;
  *a6 = 0;
  *a7 = 0x3FFFF;
  if ( a2 % 1457 )
  {
    if ( a2 < 0 )
      v7 = a2 - 1457;
    v7 = 1457 * (v7 / 1457);
  }
  v8 = a3;
  if ( a3 >= -131130 )
  {
    if ( a3 > 0x1FFFF )
      v8 = a3 - 0x40000;
  }
  else
  {
    v8 = a3 + 0x40000;
  }
  if ( v8 % 1457 )
  {
    if ( v8 < 0 )
      v8 -= 1457;
    v8 = 1457 * (v8 / 1457);
  }
  v9 = a4;
  if ( a4 < -131130 )
    goto LABEL_39;
  if ( v8 < 0 && a4 > 262142 )
  {
    v9 = a4 - 0x40000;
    goto LABEL_19;
  }
  if ( v8 > a4 )
LABEL_39:
    v9 = a4 + 0x40000;
LABEL_19:
  v10 = 1457 * (v9 / 1457);
  if ( v9 % 1457 )
  {
    if ( v9 < 0 )
      v9 -= 1457;
    v10 = v9 / 1457;
    v9 = 1457 * (v9 / 1457);
  }
  if ( v8 >= 131130 || v9 < 131130 )
    v11 = v9 - v8 + 1457;
  else
    v11 = 131130 - v8;
  *a5 = v11;
  if ( v11 > 7285 )
  {
    v10 = 7285 * ((v8 + 7285) / 7285) - v8;
    *a5 = v10;
  }
  if ( (unsigned int)(v7 + 65565) <= 0x2003A && (unsigned int)(v8 + 131130) <= 0x40074 )
  {
    v10 = *a5;
    if ( *a5 > 0 && v10 <= 262260 )
    {
      if ( a1 == 4 )
        LOBYTE(v10) = sub_10040480(a6, a7);
      else
        LOBYTE(v10) = sub_1003F9B0(a1, v7, v8, v10, a6, a7);
    }
  }
  return v10;
}

//----- (1003C5F0) --------------------------------------------------------
char __cdecl sub_1003C5F0(unsigned int a1)
{
  char result; // al@5

  if ( a1 < 0x3E8 || a1 == 262141 )
  {
    result = 1;
  }
  else if ( a1 == 0x3FFFF || a1 == 262142 )
  {
    result = 0;
  }
  else
  {
    result = sub_1003EA60(a1);
  }
  return result;
}

//----- (1003C620) --------------------------------------------------------
double __cdecl sub_1003C620(float a1)
{
  unsigned int v1; // esi@1
  char v2; // al@1
  char v3; // al@2
  double result; // st7@2
  __int64 v5; // [sp-4h] [bp-20h]@0
  char v6; // [sp+4h] [bp-18h]@9
  char v7; // [sp+Ch] [bp-10h]@9

  v1 = LODWORD(a1);
  *(float *)&v5 = a1;
  v2 = sub_1003C3E0(v5);
  if ( v1 == 262141 )
  {
    v3 = sub_100199B0();
    a1 = sub_10019500(v3);
    result = a1;
  }
  else
  {
    switch ( v2 )
    {
      case 9:
        a1 = 6.2831855;
        result = (float)6.2831855;
        break;
      case 8:
        a1 = sub_1003E2C0(v1);
        result = a1;
        break;
      case 3:
        a1 = sub_10048730(v1);
        result = a1;
        break;
      default:
        sub_1003C1C0(0, v1, (double *)&v7);
        sub_10063820((int)&v7, (int)&v6);
        sub_100492B0((int)&v6, &a1);
        result = a1;
        break;
    }
  }
  return result;
}

//----- (1003C6E0) --------------------------------------------------------
char __usercall sub_1003C6E0@<al>(int a1@<edi>, unsigned int a2@<esi>, char a3)
{
  char result; // al@2
  __int64 v4; // [sp-4h] [bp-68h]@5
  int v5; // [sp+4h] [bp-60h]@6
  float v6; // [sp+8h] [bp-5Ch]@11
  float v7; // [sp+Ch] [bp-58h]@11
  char v8; // [sp+10h] [bp-54h]@8
  double v9; // [sp+18h] [bp-4Ch]@4
  double v10; // [sp+20h] [bp-44h]@4
  char v11; // [sp+28h] [bp-3Ch]@11

  if ( a2 < 0x3E8 )
    return sub_10040870(a2, a1);
  if ( a2 == 262141 )
  {
    sub_100169C0(0, (int)&v9);
    return sub_1004A420(a1, v9, v10);
  }
  if ( sub_1003C3E0(v4) == 11 )
  {
    sub_10048CE0(a2, &v5, (_BYTE *)&v4 + 4);
    result = v5;
    if ( (_BYTE)v5 )
    {
      if ( (_BYTE)v5 == -1 )
      {
LABEL_12:
        *(_DWORD *)a1 = 2147483648;
        *(_DWORD *)(a1 + 4) = 2147483648;
        return result;
      }
    }
    else if ( a3 != (_BYTE)v5 )
    {
      return sub_10021A20(BYTE4(v4), (int)&v8, a1);
    }
    if ( BYTE4(v4) != -1 )
    {
      sub_10040BC0(v5, SBYTE4(v4), &v11);
      sub_10040A80((int)&v11, (int)&v6);
      return sub_1004A520(a1, v6, v7);
    }
    goto LABEL_12;
  }
  return sub_1003F390(a2, a1);
}

//----- (1003C7E0) --------------------------------------------------------
int __usercall sub_1003C7E0@<eax>(int a1@<edi>, int a2, int a3, char a4)
{
  int v4; // esi@1
  int result; // eax@6
  __int64 v6; // [sp-Ch] [bp-B0h]@2
  int v7; // [sp+Bh] [bp-99h]@1
  int v8; // [sp+10h] [bp-94h]@1
  int v9; // [sp+14h] [bp-90h]@1
  int v10[31]; // [sp+18h] [bp-8Ch]@1
  char v11; // [sp+94h] [bp-10h]@3

  sub_1003C350(a2, (int)&v9, (int)&v7, v10, (int)&v8);
  v4 = 0;
  if ( v8 <= 0 )
  {
    result = 0x3FFFF;
  }
  else
  {
    HIDWORD(v6) = a1;
    while ( 1 )
    {
      sub_1003E8B0(v10[v4], (char *)&v7 + 1, &v11);
      if ( __PAIR__(*(_BYTE *)(a3 + 1), *(_BYTE *)a3) == *(_WORD *)((char *)&v7 + 1) )
      {
        LODWORD(v6) = v10[v4];
        if ( a4 == sub_1003C3E0(v6) )
          break;
      }
      if ( ++v4 >= v8 )
        return 0x3FFFF;
    }
    result = v10[v4];
  }
  return result;
}
// 1003C7E0: could not find valid save-restore pair for edi
// 1003C7E0: using guessed type int var_8C[31];

//----- (1003C8C0) --------------------------------------------------------
char __cdecl sub_1003C8C0(unsigned int a1, int a2)
{
  return sub_1003C6E0(a2, a1, 1);
}

//----- (1003C8E0) --------------------------------------------------------
char __cdecl sub_1003C8E0(unsigned int a1)
{
  char v1; // bl@1
  int v2; // eax@2
  char result; // al@2
  __int64 v4; // [sp-4h] [bp-28h]@0
  char v5; // [sp+8h] [bp-1Ch]@2
  unsigned int v6; // [sp+Ch] [bp-18h]@2

  v1 = byte_10504EEC;
  LODWORD(v4) = a1;
  if ( sub_10048E40(v4) )
  {
    result = v1;
  }
  else
  {
    v2 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 28, &v5);
    result = (v6 >> 26) & 7;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504EEC: using guessed type char byte_10504EEC;

//----- (1003C930) --------------------------------------------------------
int __cdecl sub_1003C930(int a1)
{
  unsigned __int16 v1; // ax@2
  bool v2; // cf@3
  bool v3; // zf@3
  int result; // eax@3
  __int64 v5; // [sp-4h] [bp-Ch]@0

  LODWORD(v5) = a1 & 0x3FFFF;
  if ( sub_10048E40(v5)
    || (v1 = HIWORD(a1) >> 10, (unsigned __int16)(HIWORD(a1) >> 10) < 5u)
    || (v2 = v1 < 8u, v3 = v1 == 8, result = a1 & 0x3FFFF, !v2 && !v3) )
  {
    result = 0x3FFFF;
  }
  return result;
}

//----- (1003C970) --------------------------------------------------------
char __cdecl sub_1003C970(unsigned int a1, unsigned int *a2, _BYTE *a3, _BYTE *a4)
{
  char result; // al@1

  *a2 = a1 & 0x3FFFF;
  *a3 = (a1 >> 18) & 0x7F;
  result = (a1 >> 25) & 1;
  *a4 = result;
  return result;
}

//----- (1003C9A0) --------------------------------------------------------
int __cdecl sub_1003C9A0(int a1)
{
  int result; // eax@1
  signed int v2; // ecx@1
  unsigned __int16 v3; // [sp+Ch] [bp+4h]@1

  result = 0;
  v3 = *(_WORD *)(a1 + 4);
  v2 = 0;
  do
  {
    if ( v3 & (unsigned __int16)(1 << v2) )
      result += (unsigned __int16)word_10505622;
    ++v2;
  }
  while ( v2 < 16 );
  return result;
}
// 10505622: using guessed type __int16 word_10505622;

//----- (1003C9E0) --------------------------------------------------------
signed int __usercall sub_1003C9E0@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int v4; // eax@4

  if ( !a3 )
    return 1000;
  if ( a1 != 1000 )
  {
    v4 = 5 * a1;
    goto LABEL_7;
  }
  if ( a2 != 1000 )
  {
    v4 = 5 * a2 - 90;
LABEL_7:
    if ( abs(2 * v4 - a3) > 90 )
      a3 += 180;
  }
  return a3;
}

//----- (1003CA20) --------------------------------------------------------
signed int __thiscall sub_1003CA20(int this)
{
  int v1; // edi@1
  signed int result; // eax@1
  int v3; // ebx@2
  int v4; // esi@2
  __int16 v5; // cx@2
  char *v6; // eax@2
  unsigned __int16 v7; // [sp+4h] [bp-A4h]@2

  v1 = this;
  result = 0xFFFFFF;
  if ( *(_BYTE *)(this + 4) & 0x10 )
  {
    v3 = *(_DWORD *)this;
    v4 = v3 + sub_1003C9A0(this);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v3, 160, &v7);
    v5 = *(_WORD *)(v1 + 4);
    v6 = (char *)&v7;
    if ( v5 & 1 )
    {
      v4 += v7;
      v6 = (char *)&v7 + (unsigned __int16)word_10505622;
    }
    if ( v5 & 2 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 4 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 8 )
      v4 += *(_WORD *)v6;
    result = v4;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505622: using guessed type __int16 word_10505622;

//----- (1003CAD0) --------------------------------------------------------
signed int __usercall sub_1003CAD0@<eax>(int a1@<edi>)
{
  signed int result; // eax@1
  int v2; // ebx@2
  int v3; // esi@2
  __int16 v4; // ax@2
  char *v5; // ecx@2
  unsigned __int16 v6; // [sp+0h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 4) & 4 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_1003C9A0(a1);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v2, 160, &v6);
    v4 = *(_WORD *)(a1 + 4);
    v5 = (char *)&v6;
    if ( v4 & 1 )
    {
      v3 += v6;
      v5 = (char *)&v6 + (unsigned __int16)word_10505622;
    }
    if ( v4 & 2 )
      v3 += *(_WORD *)v5;
    result = v3;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505622: using guessed type __int16 word_10505622;

//----- (1003CB60) --------------------------------------------------------
signed int __thiscall sub_1003CB60(int this)
{
  int v1; // edi@1
  signed int result; // eax@1
  int v3; // ebx@2
  int v4; // esi@2
  __int16 v5; // cx@2
  char *v6; // eax@2
  unsigned __int16 v7; // [sp+4h] [bp-A4h]@2

  v1 = this;
  result = 0xFFFFFF;
  if ( *(_BYTE *)(this + 4) & 8 )
  {
    v3 = *(_DWORD *)this;
    v4 = v3 + sub_1003C9A0(this);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v3, 160, &v7);
    v5 = *(_WORD *)(v1 + 4);
    v6 = (char *)&v7;
    if ( v5 & 1 )
    {
      v4 += v7;
      v6 = (char *)&v7 + (unsigned __int16)word_10505622;
    }
    if ( v5 & 2 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 4 )
      v4 += *(_WORD *)v6;
    result = v4;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505622: using guessed type __int16 word_10505622;

//----- (1003CC00) --------------------------------------------------------
signed int __usercall sub_1003CC00@<eax>(int a1@<esi>)
{
  signed int result; // eax@1
  int v2; // ebx@2
  int v3; // edi@2
  unsigned __int16 v4; // [sp+0h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 4) & 2 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_1003C9A0(a1);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v2, 160, &v4);
    if ( *(_BYTE *)(a1 + 4) & 1 )
      v3 += v4;
    result = v3;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003CC70) --------------------------------------------------------
char __usercall sub_1003CC70@<al>(int a1@<eax>, char a2)
{
  int v2; // ecx@2
  char v3; // cl@2
  int v4; // eax@2
  unsigned int v5; // eax@3
  unsigned int v6; // ecx@3
  int v7; // eax@5

  if ( a2 == 2 )
  {
    v2 = *(_DWORD *)(a1 + 12) >> 22;
    v4 = *(_DWORD *)(a1 + 4) >> 30;
    v3 = v2 & 3;
    LOBYTE(v4) = v4 & 3;
  }
  else
  {
    v5 = *(_DWORD *)(a1 + 12);
    v6 = v5 >> 23;
    v4 = v5 >> 22;
    v3 = v6 & 1;
    LOBYTE(v4) = v4 & 1;
  }
  if ( v3 == 1 )
  {
    LOBYTE(v4) = (_BYTE)v4 == 1;
    v7 = 2 * v4 + 1;
  }
  else if ( (_BYTE)v4 == 1 )
  {
    LOBYTE(v7) = 2;
  }
  else if ( v3 == 2 || (_BYTE)v4 == 2 )
  {
    LOBYTE(v7) = 5;
  }
  else
  {
    LOBYTE(v7) = 0;
  }
  return v7;
}

//----- (1003CCC0) --------------------------------------------------------
int __usercall sub_1003CCC0@<eax>(int a1@<esi>)
{
  int result; // eax@1

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 4) & 1 )
    result = *(_DWORD *)a1 + sub_1003C9A0(a1);
  return result;
}

//----- (1003CCE0) --------------------------------------------------------
char __usercall sub_1003CCE0@<al>(unsigned int a1@<eax>, unsigned int *a2@<ebx>, _BYTE *a3@<edi>, int a4@<esi>, _DWORD *a5, int *a6)
{
  int *v6; // ebp@1

  v6 = a6;
  *a6 = 1000;
  *(_BYTE *)a1 = 95;
  *a2 = 1000;
  *a3 = 95;
  if ( *(_BYTE *)(a4 + 3) & 0x1F )
  {
    *v6 = *(_BYTE *)(a4 + 3) & 0x1F;
    *(_BYTE *)a1 = byte_100874B8[((unsigned int)*(_BYTE *)(a4 + 3) >> 5) & 7];
    *a2 = (*(_BYTE *)(a4 + 3) & 0x1F) + 18;
    a1 = ((unsigned int)*(_BYTE *)(a4 + 3) >> 5) & 7;
    *a3 = byte_100874B0[a1];
  }
  if ( *(_BYTE *)(a4 + 5) & 4 )
  {
    (*(void (__cdecl **)(_DWORD, signed int, int **))dword_10504EB4)(*a5, 1, &a6);
    *a5 += (unsigned __int16)word_10505626;
    LOBYTE(a1) = (_BYTE)a6;
    if ( (unsigned __int8)a6 & 0x1F )
    {
      a1 = ((unsigned __int8)a6 & 0x1F) + 18;
      *a2 = a1;
      *a3 = byte_100874B0[((unsigned int)*(_BYTE *)(a4 + 3) >> 5) & 7];
    }
    else
    {
      *a2 = 1000;
      *a3 = 95;
    }
  }
  return a1;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505626: using guessed type __int16 word_10505626;

//----- (1003CDA0) --------------------------------------------------------
void *__usercall sub_1003CDA0@<eax>(int a1@<eax>, char *a2@<esi>)
{
  int v2; // ST0C_4@2
  int v3; // eax@2
  void *result; // eax@2

  if ( *(_WORD *)(a1 + 10) & 0x8000 )
  {
    LOWORD(v2) = *(_WORD *)(a1 + 22);
    HIWORD(v2) = (*(_DWORD *)(a1 + 16) >> 25) & 0x7F;
    v3 = v2 + dword_10504F84;
    *(_DWORD *)a2 = v2 + dword_10504F84;
    result = (void *)(*(int (__cdecl **)(int, signed int, char *, int))dword_10504EB4)(v3, 2, a2 + 4, v2);
    *(_DWORD *)a2 += (unsigned __int16)word_10504F88;
  }
  else
  {
    result = memcpy(a2, &unk_100874C0, 6u);
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F84: using guessed type int dword_10504F84;
// 10504F88: using guessed type __int16 word_10504F88;

//----- (1003CE00) --------------------------------------------------------
char __usercall sub_1003CE00@<al>(unsigned int a1@<ecx>, int *a2@<esi>)
{
  unsigned __int8 v2; // dl@1
  int v3; // eax@3
  unsigned int v5; // [sp-2h] [bp-4h]@1
  int v6; // [sp-2h] [bp-4h]@9

  v5 = a1;
  (*(void (__cdecl **)(int, signed int, char *, unsigned int))dword_10504EB4)(*a2, 1, (char *)&v5 + 2, a1);
  *a2 += (unsigned __int16)word_10505632;
  v2 = BYTE2(v5);
  if ( BYTE2(v5) & 1 )
    *a2 += (unsigned __int16)word_10505634;
  LOBYTE(v3) = (v2 >> 1) & 3;
  if ( (_BYTE)v3 )
  {
    *a2 += (unsigned __int16)word_10505636;
    if ( (_BYTE)v3 == 3 )
    {
      v3 = *a2 + (unsigned __int16)word_10505636;
      *a2 = v3;
    }
  }
  if ( v2 & 8 )
    *a2 += (unsigned __int16)word_10505638;
  if ( v2 & 0x10 )
  {
    (*(void (__cdecl **)(int, signed int, char *, int))dword_10504EB4)(*a2, 1, (char *)&v5 + 3, v6);
    v3 = BYTE3(v5) + (unsigned __int16)word_1050563A;
    *a2 += v3;
  }
  return v3;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505632: using guessed type __int16 word_10505632;
// 10505634: using guessed type __int16 word_10505634;
// 10505636: using guessed type __int16 word_10505636;
// 10505638: using guessed type __int16 word_10505638;
// 1050563A: using guessed type __int16 word_1050563A;

//----- (1003CEA0) --------------------------------------------------------
char __usercall sub_1003CEA0@<al>(int a1@<ecx>, _BYTE *a2@<edi>)
{
  int v2; // ebx@1
  char *v3; // esi@1
  int v4; // edx@4
  char result; // al@4
  char v6; // [sp+8h] [bp-34h]@3
  char v7; // [sp+26h] [bp-16h]@2
  char v8; // [sp+35h] [bp-7h]@1

  v2 = a1;
  *a2 = 0;
  v3 = &v8;
  do
  {
    if ( v3 > &v7 )
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 45, &v6);
      v3 = &v6;
    }
    ++*a2;
    v4 = (unsigned __int16)word_1050562C;
    result = ((unsigned int)*((_WORD *)v3 + 5) >> 10) & 1;
    v2 += (unsigned __int16)word_1050562C;
    if ( *((_WORD *)v3 + 5) & 0x200 )
    {
      v2 += (unsigned __int16)word_1050562E;
      v4 = (unsigned __int16)word_1050562E + (unsigned __int16)word_1050562C;
    }
    v3 += v4;
  }
  while ( result );
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 1050562C: using guessed type __int16 word_1050562C;
// 1050562E: using guessed type __int16 word_1050562E;

//----- (1003CF30) --------------------------------------------------------
int __usercall sub_1003CF30@<eax>(int a1@<ecx>, _BYTE *a2@<ebx>)
{
  int v2; // edi@1
  int *v3; // edx@1
  int v4; // esi@4
  int result; // eax@4
  char v6; // cl@4
  char v7; // [sp+Ch] [bp-34h]@3
  char v8; // [sp+30h] [bp-10h]@2
  int v9; // [sp+3Ch] [bp-4h]@1

  v2 = a1;
  *a2 = 0;
  v3 = &v9;
  do
  {
    if ( v3 > (int *)&v8 )
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 48, &v7);
      v3 = (int *)&v7;
    }
    ++*a2;
    v2 += (unsigned __int16)word_10505624;
    v4 = (unsigned __int16)word_10505624;
    result = *(_WORD *)((char *)v3 + 5);
    v6 = *((_BYTE *)v3 + 2) >> 7;
    if ( result & 4 )
    {
      v2 += (unsigned __int16)word_10505626;
      v4 = (unsigned __int16)word_10505626 + (unsigned __int16)word_10505624;
    }
    if ( result & 8 )
    {
      v2 += (unsigned __int16)word_10505628;
      v4 += (unsigned __int16)word_10505628;
    }
    if ( result & 0x10 )
    {
      result = (unsigned __int16)word_1050562A;
      v2 += (unsigned __int16)word_1050562A;
      v4 += (unsigned __int16)word_1050562A;
    }
    v3 = (int *)((char *)v3 + v4);
  }
  while ( v6 );
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505624: using guessed type __int16 word_10505624;
// 10505626: using guessed type __int16 word_10505626;
// 10505628: using guessed type __int16 word_10505628;
// 1050562A: using guessed type __int16 word_1050562A;

//----- (1003CFD0) --------------------------------------------------------
__int16 __usercall sub_1003CFD0@<ax>(int a1@<eax>, int a2@<esi>, int a3)
{
  int v3; // edi@1
  int v4; // eax@1
  int v5; // edi@2
  int v6; // ecx@6
  int v7; // edx@10
  char v8; // cl@10
  unsigned int v9; // eax@10
  int v10; // edx@16
  int v12; // [sp+0h] [bp-20h]@0
  __int16 v13; // [sp+Ch] [bp-14h]@2
  __int16 v14; // [sp+Eh] [bp-12h]@6
  int v15; // [sp+10h] [bp-10h]@2

  v3 = a1;
  sub_1003F390(a3 & 0x3FFFF, v12);
  *(_DWORD *)a2 >>= 7;
  *(_DWORD *)(a2 + 4) >>= 7;
  LOWORD(v4) = HIWORD(a3) >> 10;
  if ( HIWORD(a3) >> 10 != 5 )
  {
    if ( (_WORD)v4 == 6 )
    {
      (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(v3, 9, &v13);
      v7 = *(_DWORD *)a2 - 16 * v14;
      v8 = v15;
      v9 = (unsigned int)(unsigned __int8)v15 >> 4;
    }
    else
    {
      if ( (_WORD)v4 == 7 )
      {
        (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(v3, 11, &v13);
      }
      else
      {
        if ( (_WORD)v4 != 8 )
          return v4;
        (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_10504EB4)(v3, 15, &v13);
      }
      v7 = *(_DWORD *)a2 - 16 * v14;
      v8 = v15;
      v9 = (unsigned __int8)v15 >> 4;
    }
    *(_DWORD *)a2 = (v7 - (v8 & 0xF)) << 7;
    v10 = *(_DWORD *)(a2 + 4) - v9;
    v4 = 16 * v13;
    *(_DWORD *)(a2 + 4) = (v10 - v4) << 7;
    return v4;
  }
  (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_10504EB4)(v3, 7, &v13);
  LOWORD(v4) = v15;
  v5 = (unsigned __int16)word_10505624 + v3;
  if ( BYTE1(v15) & 8 )
  {
    if ( BYTE1(v15) & 4 )
      v5 += (unsigned __int16)word_10505626;
    (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_10504EB4)(v5, 19, &v13);
    if ( (HIWORD(a3) & 0x3FCu) > 0x1FC )
    {
      v4 = (signed __int16)v15;
      *(_DWORD *)a2 -= SHIWORD(v15);
      *(_DWORD *)(a2 + 4) -= v4;
      *(_DWORD *)a2 <<= 7;
      *(_DWORD *)(a2 + 4) <<= 7;
    }
    else
    {
      LOWORD(v4) = v14;
      v6 = v13;
      *(_DWORD *)a2 -= v14;
      *(_DWORD *)(a2 + 4) -= v6;
      *(_DWORD *)a2 <<= 7;
      *(_DWORD *)(a2 + 4) <<= 7;
    }
  }
  else
  {
    *(_DWORD *)a2 = 0x7FFFFFFF;
    *(_DWORD *)(a2 + 4) = 0x7FFFFFFF;
  }
  return v4;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505624: using guessed type __int16 word_10505624;
// 10505626: using guessed type __int16 word_10505626;

//----- (1003D140) --------------------------------------------------------
void *__cdecl sub_1003D140(unsigned int a1, char *a2)
{
  int v2; // eax@2
  __int64 v4; // [sp-4h] [bp-24h]@0
  char v5; // [sp+4h] [bp-1Ch]@2
  __int16 v6; // [sp+Eh] [bp-12h]@1

  v6 &= 0x7FFFu;
  LODWORD(v4) = a1;
  if ( !sub_10048E40(v4) )
  {
    v2 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 28, &v5);
  }
  return sub_1003CDA0((int)&v5, a2);
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003D190) --------------------------------------------------------
signed int __cdecl sub_1003D190(unsigned __int8 a1)
{
  int v1; // ecx@0
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-10h]@3
  int v6; // [sp+Eh] [bp-6h]@3

  result = sub_1003CA20(v1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a1 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(v3, 15, &v5);
        if ( !(v6 & 0x400) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_1050562C;
        if ( v6 & 0x200 )
          v3 += (unsigned __int16)word_1050562E;
        if ( v4 >= a1 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 1050562C: using guessed type __int16 word_1050562C;
// 1050562E: using guessed type __int16 word_1050562E;

//----- (1003D210) --------------------------------------------------------
signed int __usercall sub_1003D210@<eax>(int a1@<edi>, unsigned __int8 a2)
{
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-Ch]@3
  char v6; // [sp+9h] [bp-7h]@3

  result = sub_1003CAD0(a1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a2 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(v3, 9, &v5);
        if ( !(v6 & 1) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_10505644;
        if ( v4 >= a2 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505644: using guessed type __int16 word_10505644;

//----- (1003D280) --------------------------------------------------------
signed int __cdecl sub_1003D280(unsigned __int8 a1)
{
  int v1; // ecx@0
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-Ch]@3
  int v6; // [sp+Ch] [bp-4h]@3

  result = sub_1003CB60(v1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a1 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(v3, 11, &v5);
        if ( !(v6 & 0x8000) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_10505646;
        if ( v4 >= a1 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505646: using guessed type __int16 word_10505646;

//----- (1003D2F0) --------------------------------------------------------
int __usercall sub_1003D2F0@<eax>(int a1@<eax>, char a2)
{
  int result; // eax@1
  int v3; // esi@1
  char v4; // bl@2
  char v5; // [sp+4h] [bp-8h]@3
  char v6; // [sp+6h] [bp-6h]@3
  char v7; // [sp+9h] [bp-3h]@4

  result = sub_1003CCC0(a1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a2 > 0 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 7, &v5);
        if ( !(v6 & 0x80) )
          break;
        v3 += (unsigned __int16)word_10505624;
        ++v4;
        if ( v7 & 4 )
          v3 += (unsigned __int16)word_10505626;
        if ( v7 & 8 )
          v3 += (unsigned __int16)word_10505628;
        if ( v7 & 0x10 )
          v3 += (unsigned __int16)word_1050562A;
        if ( v4 >= a2 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505624: using guessed type __int16 word_10505624;
// 10505626: using guessed type __int16 word_10505626;
// 10505628: using guessed type __int16 word_10505628;
// 1050562A: using guessed type __int16 word_1050562A;

//----- (1003D380) --------------------------------------------------------
char __cdecl sub_1003D380(unsigned __int16 *a1, _WORD *a2, _BYTE *a3)
{
  int v3; // ecx@0
  unsigned __int16 *v4; // ebx@1
  _WORD *v5; // ebp@1
  int v6; // esi@1
  _BYTE *v7; // edi@1
  char v8; // al@3
  __int16 v9; // cx@8
  __int16 v10; // ax@8
  char v11; // cl@8
  char v13; // [sp+11h] [bp-17h]@1
  char v14; // [sp+12h] [bp-16h]@8
  char v15; // [sp+13h] [bp-15h]@8
  int v16; // [sp+14h] [bp-14h]@2
  int v17; // [sp+18h] [bp-10h]@1
  int v18; // [sp+1Ch] [bp-Ch]@1
  unsigned __int16 v19; // [sp+20h] [bp-8h]@3
  char v20; // [sp+22h] [bp-6h]@3
  unsigned __int8 v21; // [sp+24h] [bp-4h]@8
  char v22; // [sp+25h] [bp-3h]@8
  char v23; // [sp+30h] [bp+8h]@1

  v4 = a1;
  v5 = a2;
  v6 = v3;
  *a1 = 0;
  v7 = a3;
  v13 = 0;
  v23 = 0;
  *a3 = byte_1050574C;
  v18 = 1000;
  v17 = 1000;
  *v5 = 1000;
  while ( 1 )
  {
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v6, 7, &v19);
    v8 = v20;
    v16 = (unsigned __int16)word_10505624 + v6;
    if ( v19 <= *v4 )
    {
      if ( *v7 <= (unsigned __int8)byte_10505608 )
        goto LABEL_9;
    }
    else if ( *v7 > (unsigned __int8)byte_10505608 )
    {
      goto LABEL_8;
    }
    if ( (unsigned __int8)(v20 & 0xF) <= (unsigned __int8)byte_10505608 )
    {
LABEL_8:
      v9 = v21;
      *v4 = v19;
      *v5 = v9;
      *v7 = v8 & 0xF;
      v13 = v23;
      sub_1003CCE0((unsigned int)&v15, (unsigned int *)&v17, &v14, (int)&v19, &v16, &v18);
      v10 = sub_1003C9E0(v18, v17, *v5);
      v11 = v22;
      v4 = a1;
      v7 = a3;
      *v5 = v10;
      v8 = v20;
      goto LABEL_11;
    }
LABEL_9:
    v11 = v22;
    if ( v22 & 4 )
      v16 += (unsigned __int16)word_10505626;
LABEL_11:
    if ( v11 & 8 )
      v16 += (unsigned __int16)word_10505628;
    if ( v11 & 0x10 )
      v16 += (unsigned __int16)word_1050562A;
    ++v23;
    if ( v8 >= 0 )
      return v13;
    v6 = v16;
  }
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505608: using guessed type char byte_10505608;
// 10505624: using guessed type __int16 word_10505624;
// 10505626: using guessed type __int16 word_10505626;
// 10505628: using guessed type __int16 word_10505628;
// 1050562A: using guessed type __int16 word_1050562A;
// 1050574C: using guessed type char byte_1050574C;

//----- (1003D4C0) --------------------------------------------------------
int __usercall sub_1003D4C0@<eax>(int a1@<eax>)
{
  signed int v1; // esi@1
  unsigned int v2; // ecx@2
  int result; // eax@6
  int v4; // [sp+8h] [bp-8h]@2
  int v5; // [sp+Ch] [bp-4h]@2

  v1 = sub_1003CC00(a1);
  if ( v1 == 0xFFFFFF )
  {
LABEL_6:
    result = 0xFFFF;
  }
  else
  {
    while ( 1 )
    {
      (*(void (__cdecl **)(signed int, signed int, int *))dword_10504EB4)(v1, 4, &v4);
      v1 += (unsigned __int16)word_10505630;
      v5 = v1;
      if ( BYTE2(v4) & 0x40 )
        break;
      if ( SBYTE2(v4) < 0 )
      {
        sub_1003CE00(v2, &v5);
        v1 = v5;
      }
      if ( !(v4 & 0x8000) )
        goto LABEL_6;
    }
    result = ((v4 & 0xFFF) % 5 != 0 ? 5 : 0) + 2 * (5 * (v4 & 0xFFF) + 54000);
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505630: using guessed type __int16 word_10505630;

//----- (1003D560) --------------------------------------------------------
void __usercall sub_1003D560(int a1@<edi>, int a2, int a3)
{
  int v3; // [sp+4h] [bp-8h]@1
  int v4; // [sp+8h] [bp-4h]@1

  sub_1003CFD0(a3, (int)&v3, a2);
  *(double *)a1 = sub_1004DD40(v3, 24);
  *(double *)(a1 + 8) = sub_1004DD40(v4, 24);
}

//----- (1003D5A0) --------------------------------------------------------
signed int __cdecl sub_1003D5A0(unsigned int a1, unsigned __int8 a2)
{
  signed int result; // eax@2
  int v3; // [sp+Ch] [bp-8h]@1

  sub_1003D140(a1, (char *)&v3);
  if ( sub_1003D190(a2) == 0xFFFFFF )
  {
    result = 0x3FFFF;
  }
  else
  {
    v3 = a1;
    HIWORD(v3) = BYTE2(a1) & 3 | 4 * (a2 | 0x800);
    result = v3;
  }
  return result;
}

//----- (1003D610) --------------------------------------------------------
char __cdecl sub_1003D610(unsigned int a1, int a2)
{
  char result; // al@1
  int v3; // eax@2
  bool v4; // zf@2
  int v5; // esi@3
  int v6; // eax@4
  unsigned __int8 v7; // al@9
  __int64 v8; // [sp-4h] [bp-44h]@0
  unsigned __int16 v9; // [sp+10h] [bp-30h]@10
  char v10; // [sp+14h] [bp-2Ch]@3
  char v11; // [sp+1Ch] [bp-24h]@2
  unsigned int v12; // [sp+20h] [bp-20h]@2
  int v13; // [sp+26h] [bp-1Ah]@2
  int v14; // [sp+2Ch] [bp-14h]@14
  int v15; // [sp+32h] [bp-Eh]@4

  *(_BYTE *)a2 = byte_10504EEC;
  *(_BYTE *)(a2 + 1) = 0;
  *(_WORD *)(a2 + 2) = 1000;
  LODWORD(v8) = a1;
  *(_BYTE *)(a2 + 4) = byte_1050574C;
  *(_BYTE *)(a2 + 5) = 1;
  *(_BYTE *)(a2 + 6) = 0;
  result = sub_10048E40(v8);
  if ( !result )
  {
    v3 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 29, &v11);
    v4 = (unsigned __int16)(v13 & 0x8000) == 0;
    *(_BYTE *)a2 = (v12 >> 26) & 7;
    if ( v4 )
    {
      v6 = 100 * (unsigned __int8)v15;
      *(_BYTE *)(a2 + 4) = BYTE1(v15) & 0xF;
      if ( v6 < 8100 )
      {
        if ( v6 >= 5000 )
          *(_BYTE *)(a2 + 1) = 1;
      }
      else
      {
        *(_BYTE *)(a2 + 1) = 2;
      }
      v5 = 0xFFFFFF;
    }
    else
    {
      sub_1003CDA0((int)&v11, &v10);
      v5 = sub_1003CCC0((int)&v10);
    }
    v7 = sub_1004A900();
    result = sub_1003CC70((int)&v11, v7);
    *(_BYTE *)(a2 + 6) = result;
    if ( v5 != 0xFFFFFF )
    {
      sub_1003D380(&v9, (_WORD *)(a2 + 2), (_BYTE *)(a2 + 4));
      result = v9;
      if ( v9 < 0x1FA4u )
      {
        if ( v9 >= 0x1388u )
          *(_BYTE *)(a2 + 1) = 1;
      }
      else
      {
        *(_BYTE *)(a2 + 1) = 2;
      }
      if ( v14 & 0x1000000 )
      {
        if ( !*(_BYTE *)(a2 + 1) )
          *(_BYTE *)(a2 + 1) = 1;
        *(_BYTE *)(a2 + 5) = 0;
      }
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504EEC: using guessed type char byte_10504EEC;
// 1050574C: using guessed type char byte_1050574C;

//----- (1003D750) --------------------------------------------------------
char __cdecl sub_1003D750(unsigned int a1, char a2, int a3)
{
  unsigned int *v3; // ebx@1
  __int64 v4; // ST04_8@1
  int v5; // eax@1
  signed int v6; // edx@5
  unsigned __int8 v7; // al@5
  unsigned __int8 v8; // al@8
  unsigned __int16 v9; // si@8
  unsigned int v10; // edx@9
  bool v11; // zf@9
  char v12; // ah@10
  char v13; // cl@10
  char v14; // al@10
  unsigned int v15; // eax@11
  char v16; // dl@12
  double v17; // st6@12
  int v19; // [sp+Ch] [bp-44h]@2
  int v20; // [sp+10h] [bp-40h]@1
  unsigned int v21; // [sp+14h] [bp-3Ch]@1
  int v22; // [sp+18h] [bp-38h]@1
  int v23; // [sp+1Ch] [bp-34h]@12
  int v24; // [sp+20h] [bp-30h]@1
  char v25; // [sp+24h] [bp-2Ch]@3
  char v26; // [sp+2Ch] [bp-24h]@2
  int v27; // [sp+36h] [bp-1Ah]@2
  __int16 v28; // [sp+42h] [bp-Eh]@5

  *(float *)(a3 + 24) = 9.9999996e24;
  *(float *)(a3 + 28) = 9.9999996e24;
  *(_DWORD *)a3 = 1000;
  *(_BYTE *)(a3 + 10) = 95;
  *(_DWORD *)(a3 + 12) = 1000;
  *(_BYTE *)(a3 + 16) = 95;
  *(_DWORD *)(a3 + 20) = 1000;
  v3 = (unsigned int *)(a3 + 12);
  *(_BYTE *)(a3 + 32) = byte_1050574C;
  *(_DWORD *)(a3 + 40) = 0;
  *(_DWORD *)(a3 + 44) = 0;
  *(_BYTE *)(a3 + 4) = 0;
  *(_BYTE *)(a3 + 33) = 4;
  *(_DWORD *)(a3 + 36) = 0xFFFF;
  *(_DWORD *)(a3 + 5) = 0;
  *(_BYTE *)(a3 + 9) = 0;
  v20 = 0;
  v21 = 0;
  v22 = 0;
  sub_1004A220(a3 + 64, " ", 11);
  v24 = a3 + 48;
  sub_1004A220(a3 + 48, " ", 16);
  LODWORD(v4) = a1;
  LOBYTE(v5) = sub_10048E40(v4);
  if ( !(_BYTE)v5 )
  {
    v19 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v19, 29, &v26);
    if ( v27 & 0x8000 )
    {
      sub_1003CDA0((int)&v26, &v25);
      v5 = sub_1003D2F0((int)&v25, a2);
      v19 = v5;
    }
    else
    {
      if ( !a2 )
      {
        v6 = (unsigned __int8)v28;
        v7 = HIBYTE(v28) & 0xF;
        *(_BYTE *)(a3 + 32) = HIBYTE(v28) & 0xF;
        v19 = v6;
        *(float *)(a3 + 24) = (double)v6 * 30.47999954223633;
        LOBYTE(v5) = sub_1004A220(a3 + 48, (_BYTE *)(dword_10505750 + 25 * (v7 + 384)), 16);
        return v5;
      }
      v5 = v19;
    }
    if ( v5 != 0xFFFFFF )
    {
      (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v5, 12, &v20);
      v8 = sub_1004A900();
      v9 = *(_WORD *)((char *)&v21 + 1);
      if ( v8 == 2 )
      {
        v10 = ((unsigned int)BYTE3(v21) >> 1) & 3;
        v11 = (BYTE3(v21) & 1) == 0;
        *(_DWORD *)(a3 + 40) = BYTE1(v21) & 3;
        *(_DWORD *)(a3 + 44) = v10;
        if ( !v11 )
        {
          v12 = BYTE1(v22);
          v13 = BYTE3(v22);
          *(_BYTE *)(a3 + 5) = v22;
          v14 = BYTE2(v22);
          *(_BYTE *)(a3 + 4) = 1;
          *(_BYTE *)(a3 + 6) = v12;
          *(_BYTE *)(a3 + 7) = v14;
          *(_BYTE *)(a3 + 8) = v13;
          *(_BYTE *)(a3 + 9) = 0;
        }
      }
      else
      {
        v15 = ((unsigned int)*(unsigned __int16 *)((char *)&v21 + 1) >> 1) & 1;
        *(_DWORD *)(a3 + 40) = BYTE1(v21) & 1;
        *(_DWORD *)(a3 + 44) = v15;
      }
      v19 += (unsigned __int16)word_10505624;
      v16 = BYTE2(v20);
      v23 = (unsigned __int16)v20;
      *(_BYTE *)(a3 + 33) = (BYTE2(v20) >> 4) & 7;
      v17 = (double)v23 * 0.3048000037670135;
      v23 = v9 >> 5;
      *(float *)(a3 + 24) = v17;
      *(_BYTE *)(a3 + 32) = v16 & 0xF;
      *(float *)(a3 + 28) = 0.3048000037670135 * (double)v23;
      if ( 0.0 == *(float *)(a3 + 28) )
        *(float *)(a3 + 28) = 9.9999996e24;
      v11 = *(_BYTE *)(a3 + 33) == 1;
      *(_DWORD *)(a3 + 20) = (unsigned int)*(unsigned __int16 *)((char *)&v20 + 3) >> 8;
      *(_DWORD *)(a3 + 36) = 0xFFFF;
      if ( v11 )
        *(_DWORD *)(a3 + 36) = sub_1003D4C0((int)&v25);
      sub_1003CCE0(a3 + 10, v3, (_BYTE *)(a3 + 16), (int)&v20, &v19, (int *)a3);
      *(_DWORD *)(a3 + 20) = sub_1003C9E0(*(_DWORD *)a3, *v3, *(_DWORD *)(a3 + 20));
      sub_1004A220(a3 + 64, (_BYTE *)(dword_10505750 + 25 * (*(_BYTE *)(a3 + 33) + 320)), 11);
      LOBYTE(v5) = sub_1004A220(v24, (_BYTE *)(dword_10505750 + 25 * (*(_BYTE *)(a3 + 32) + 384)), 16);
    }
  }
  return v5;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505624: using guessed type __int16 word_10505624;
// 1050574C: using guessed type char byte_1050574C;
// 10505750: using guessed type int dword_10505750;

//----- (1003DA30) --------------------------------------------------------
signed int __cdecl sub_1003DA30(unsigned int a1, char a2, char a3)
{
  int v3; // esi@2
  signed int result; // eax@4
  int v5; // [sp+Ch] [bp-8h]@1

  sub_1003D140(a1, (char *)&v5);
  if ( sub_1003D2F0((int)&v5, a2) == 0xFFFFFF )
  {
    result = 0x3FFFF;
  }
  else
  {
    v5 = a1;
    v3 = (a1 >> 16) & 3;
    HIWORD(v5) = v3 | 4 * ((unsigned __int8)a2 | 0x500);
    if ( a3 )
      HIWORD(v5) = v3 | 4 * ((unsigned __int8)a2 | 0x500) | 0x200;
    result = v5;
  }
  return result;
}

//----- (1003DAB0) --------------------------------------------------------
__int16 __cdecl sub_1003DAB0(unsigned int a1, char a2, int a3)
{
  int v3; // ebp@1
  __int16 v4; // bx@1
  unsigned int v5; // eax@1
  double v6; // st7@1
  unsigned int v7; // esi@1
  signed int v8; // eax@3
  unsigned __int16 v9; // dx@3
  int v10; // edx@3
  int v11; // eax@3
  int v12; // edx@3
  int v13; // ecx@3
  int v14; // edi@3
  int v15; // ecx@3
  double v16; // st7@3
  unsigned __int16 v17; // cx@3
  __int16 v18; // ax@3
  __int16 v19; // dx@3
  __int16 v20; // ax@3
  unsigned int v21; // edx@6
  __int16 v22; // cx@7
  double v23; // st5@8
  char v24; // al@12
  char v25; // cl@12
  unsigned int v26; // ecx@25
  unsigned int v27; // ecx@25
  unsigned __int16 v28; // dx@25
  float v30; // [sp+Ch] [bp-3Ch]@3
  char v31; // [sp+10h] [bp-38h]@1
  int v32; // [sp+18h] [bp-30h]@3
  int v33; // [sp+1Ch] [bp-2Ch]@3
  unsigned int v34; // [sp+20h] [bp-28h]@25
  unsigned int v35; // [sp+24h] [bp-24h]@25
  unsigned __int16 v36; // [sp+28h] [bp-20h]@2
  char v37; // [sp+2Ah] [bp-1Eh]@3
  unsigned __int16 v38; // [sp+2Bh] [bp-1Dh]@3
  unsigned __int16 v39; // [sp+2Dh] [bp-1Bh]@2
  __int16 v40; // [sp+34h] [bp-14h]@3
  __int16 v41; // [sp+36h] [bp-12h]@3
  __int16 v42; // [sp+38h] [bp-10h]@3
  __int16 v43; // [sp+3Ah] [bp-Eh]@3
  unsigned __int16 v44; // [sp+3Ch] [bp-Ch]@3
  unsigned __int8 v45; // [sp+3Eh] [bp-Ah]@3
  __int16 v46; // [sp+3Fh] [bp-9h]@7
  unsigned int v47; // [sp+41h] [bp-7h]@6
  unsigned __int16 v48; // [sp+45h] [bp-3h]@24

  v3 = a3;
  v4 = 0;
  *(_BYTE *)(a3 + 2) = 0;
  sub_1003D140(a1, &v31);
  v5 = sub_1003D2F0((int)&v31, a2);
  v6 = 9.9999996e24;
  v7 = v5;
  if ( v5 != 0xFFFFFF )
  {
    (*(void (__cdecl **)(unsigned int, signed int, unsigned __int16 *))dword_10504EB4)(v5, 12, &v36);
    LOWORD(v5) = word_10505624;
    a3 = (unsigned __int16)word_10505624 + v7;
    if ( v39 & 8 )
    {
      *(_BYTE *)(v3 + 2) = 1;
      sub_1003CCE0(v3 + 7, (unsigned int *)(v3 + 16), (_BYTE *)(v3 + 8), (int)&v36, &a3, (int *)(v3 + 12));
      v8 = sub_1003C9E0(*(_DWORD *)(v3 + 12), *(_DWORD *)(v3 + 16), (unsigned int)v38 >> 8);
      v9 = v39;
      *(_DWORD *)(v3 + 20) = v8;
      LOBYTE(v8) = v37 & 0xF;
      *(_WORD *)(v3 + 10) = v9 >> 5;
      v10 = a3;
      *(_BYTE *)(v3 + 9) = v8;
      (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(v10, 19, &v40);
      sub_1003F390(a1, (int)&v32);
      v11 = v32 >> 7;
      v12 = v40;
      v13 = v33 >> 7;
      *(_DWORD *)(v3 + 24) = ((v32 >> 7) - v41) << 7;
      v14 = v13 - v12;
      v32 = v11;
      *(_DWORD *)(v3 + 32) = (v11 - v43) << 7;
      v33 = v13;
      v15 = (v13 - v42) << 7;
      *(_DWORD *)(v3 + 28) = v14 << 7;
      *(_DWORD *)(v3 + 36) = v15;
      v16 = sub_10048EE0(a1);
      v17 = v44;
      v30 = v16;
      a3 = (signed __int16)((signed __int16)(16 * v44) >> 4);
      v18 = 16 * v45;
      v19 = ((signed __int16)(16 * v44) >> 4) & 0xF00F;
      *(float *)(v3 + 40) = (double)a3 * 0.3048000037670135 + v30;
      v20 = (v17 >> 12) | (v19 | v18) & 0xFFF0;
      LOWORD(a3) = v20;
      if ( v20 & 0x800 )
        LOWORD(v5) = v5 | 0xF000;
      else
        LOWORD(v5) = v5 & 0xFFF;
      a3 = (signed __int16)v5;
      v21 = v47;
      *(_BYTE *)(v3 + 3) = 0;
      *(_BYTE *)(v3 + 4) = 0;
      *(_BYTE *)(v3 + 5) = 0;
      *(_BYTE *)(v3 + 6) = 0;
      *(float *)(v3 + 56) = v30 + 0.3048000037670135 * (double)(signed __int16)v5;
      v6 = 9.9999996e24;
      *(float *)(v3 + 44) = 9.9999996e24;
      *(float *)(v3 + 60) = 9.9999996e24;
      *(float *)(v3 + 52) = 9.9999996e24;
      *(float *)(v3 + 68) = 9.9999996e24;
      *(float *)(v3 + 76) = 9.9999996e24;
      *(float *)(v3 + 72) = 9.9999996e24;
      if ( (unsigned __int16)word_10505628 >= 0xBu )
      {
        v22 = v46;
        LOWORD(v5) = v46 & 0x3FFF;
        if ( (v46 & 0x3FFF) != 0x3FFF )
        {
          a3 = (unsigned __int16)v5;
          LOWORD(v5) = (unsigned __int8)v21;
          *(float *)&a3 = (double)a3 / 10.0 - 350.0;
          v23 = *(float *)&a3;
          a3 = (unsigned __int8)v21;
          *(float *)(v3 + 44) = v23;
          *(float *)&a3 = (double)a3 / 10.0;
          if ( v22 & 0x8000 )
            *(float *)&a3 = -*(float *)&a3;
          *(float *)(v3 + 60) = v23 + *(float *)&a3;
        }
      }
      if ( (unsigned __int16)word_10505628 < 0x13u )
      {
        *(float *)(v3 + 48) = 9.9999996e24;
        *(_BYTE *)v3 = 0;
        *(float *)(v3 + 64) = 9.9999996e24;
        *(_BYTE *)(v3 + 1) = 0;
        goto LABEL_33;
      }
      v24 = (v21 >> 18) & 1;
      v25 = (v21 >> 20) & 1;
      *(_BYTE *)v3 = v24;
      *(_BYTE *)(v3 + 1) = v25;
      if ( v24 )
      {
        a3 = (v21 >> 8) & 0x3FF;
        *(float *)(v3 + 48) = (double)(unsigned int)a3 / 100.0;
      }
      else
      {
        *(float *)(v3 + 48) = 9.9999996e24;
      }
      if ( v25 )
      {
        a3 = v21 >> 22;
        *(float *)(v3 + 64) = (double)(v21 >> 22) / 100.0;
      }
      else
      {
        *(float *)(v3 + 64) = 9.9999996e24;
      }
      if ( v24 && !(v21 & 0x80000) )
        *(float *)(v3 + 48) = *(float *)(v3 + 48) * -1.0;
      if ( v25 && !(v21 & 0x200000) )
        *(float *)(v3 + 64) = -1.0 * *(float *)(v3 + 64);
      LOWORD(v5) = v48;
      if ( v48 == -1 )
        goto LABEL_33;
      (*(void (__cdecl **)(int, signed int, unsigned int *))dword_10504EB4)(
        dword_10505344 + (unsigned __int16)word_10505348 * v48,
        8,
        &v34);
      v5 = v34;
      v26 = v34 >> 31;
      *(_BYTE *)(v3 + 3) = (v34 >> 15) & 1;
      *(_BYTE *)(v3 + 4) = v26 & 1;
      v27 = v35;
      *(_BYTE *)(v3 + 5) = (v35 >> 15) & 1;
      *(_BYTE *)(v3 + 6) = (v27 >> 31) & 1;
      v28 = v36;
      if ( v5 & 0x4000 )
      {
        a3 = v36 - (v5 & 0x3FFF);
        *(float *)(v3 + 52) = (double)(unsigned int)a3 * 0.3048;
      }
      if ( v5 & 0x40000000 )
      {
        v5 = (v5 >> 16) & 0x3FFF;
        a3 = v28 - v5;
        *(float *)(v3 + 68) = (double)(unsigned int)a3 * 0.3048;
      }
      if ( v27 & 0x4000 )
      {
        v5 = v27 & 0x3FFF;
        a3 = v28 - v5;
        *(float *)(v3 + 76) = (double)(unsigned int)a3 * 0.3048;
      }
      if ( v27 & 0x40000000 )
      {
        a3 = v28 - ((v27 >> 16) & 0x3FFF);
        *(float *)(v3 + 72) = 0.3048 * (double)(unsigned int)a3;
        v6 = 9.9999996e24;
LABEL_33:
        v4 = 0;
        goto LABEL_34;
      }
      v4 = 0;
    }
    v6 = 9.9999996e24;
  }
LABEL_34:
  if ( *(_BYTE *)(v3 + 2) == (_BYTE)v4 )
  {
    *(_BYTE *)v3 = v4;
    *(_BYTE *)(v3 + 1) = v4;
    *(_DWORD *)(v3 + 12) = 1000;
    *(_DWORD *)(v3 + 16) = 1000;
    *(_DWORD *)(v3 + 20) = 1000;
    *(_WORD *)(v3 + 10) = v4;
    *(_BYTE *)(v3 + 7) = 95;
    *(_BYTE *)(v3 + 8) = 95;
    LOBYTE(v5) = byte_1050574C;
    *(float *)(v3 + 40) = v6;
    *(float *)(v3 + 44) = v6;
    *(_BYTE *)(v3 + 9) = v5;
    *(float *)(v3 + 56) = v6;
    LOWORD(v5) = -1;
    *(float *)(v3 + 60) = v6;
    *(float *)(v3 + 48) = v6;
    *(_BYTE *)(v3 + 3) = v4;
    *(float *)(v3 + 64) = v6;
    *(_BYTE *)(v3 + 4) = v4;
    *(float *)(v3 + 52) = v6;
    *(_BYTE *)(v3 + 5) = v4;
    *(float *)(v3 + 68) = v6;
    *(_BYTE *)(v3 + 6) = v4;
    *(float *)(v3 + 76) = v6;
    *(_DWORD *)(v3 + 24) = 0x7FFFFFFF;
    *(float *)(v3 + 72) = v6;
    *(_DWORD *)(v3 + 28) = 0x7FFFFFFF;
    *(_DWORD *)(v3 + 32) = 0x7FFFFFFF;
    *(_DWORD *)(v3 + 36) = 0x7FFFFFFF;
  }
  return v5;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505344: using guessed type int dword_10505344;
// 10505348: using guessed type __int16 word_10505348;
// 10505624: using guessed type __int16 word_10505624;
// 10505628: using guessed type __int16 word_10505628;
// 1050574C: using guessed type char byte_1050574C;

//----- (1003DF90) --------------------------------------------------------
char __cdecl sub_1003DF90(unsigned int a1, char a2, int a3)
{
  int v3; // eax@1
  int v4; // edi@1
  int v5; // edi@2
  int v6; // ecx@7
  int v8; // [sp+8h] [bp-18h]@7
  char v9; // [sp+10h] [bp-10h]@1
  char v10; // [sp+18h] [bp-8h]@2
  char v11; // [sp+1Dh] [bp-3h]@2

  *(_BYTE *)a3 = 0;
  sub_1003D140(a1, &v9);
  v3 = sub_1003D2F0((int)&v9, a2);
  v4 = v3;
  if ( v3 != 0xFFFFFF )
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 7, &v10);
    v5 = (unsigned __int16)word_10505624 + v4;
    LOBYTE(v3) = v11;
    if ( v11 & 4 )
      v5 += (unsigned __int16)word_10505626;
    if ( v11 & 8 )
      v5 += (unsigned __int16)word_10505628;
    if ( v11 & 0x10 )
    {
      *(_BYTE *)a3 = 1;
      (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v5, 4, &v8);
      v3 = v8 & 0x3FFF;
      v6 = HIWORD(v8) & 0x3FFF;
      *(_DWORD *)(a3 + 4) = v3;
      *(_DWORD *)(a3 + 8) = v6;
    }
  }
  if ( !*(_BYTE *)a3 )
  {
    *(_DWORD *)(a3 + 4) = 0;
    *(_DWORD *)(a3 + 8) = 0;
  }
  return v3;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505624: using guessed type __int16 word_10505624;
// 10505626: using guessed type __int16 word_10505626;
// 10505628: using guessed type __int16 word_10505628;

//----- (1003E050) --------------------------------------------------------
char __cdecl sub_1003E050(unsigned int a1)
{
  int v1; // eax@1
  char result; // al@2
  char v3; // [sp+7h] [bp-9h]@1
  char v4; // [sp+8h] [bp-8h]@1

  v3 = 0;
  sub_1003D140(a1, &v4);
  v1 = sub_1003CA20((int)&v4);
  if ( v1 == 0xFFFFFF )
  {
    result = 0;
  }
  else
  {
    sub_1003CEA0(v1, &v3);
    result = v3;
  }
  return result;
}

//----- (1003E0A0) --------------------------------------------------------
char __cdecl sub_1003E0A0(unsigned int a1)
{
  __int64 v1; // ST00_8@1
  int v2; // esi@1
  char result; // al@3
  char v4; // [sp+Fh] [bp-9h]@1
  char v5; // [sp+10h] [bp-8h]@1

  v4 = 0;
  sub_1003D140(a1, &v5);
  LODWORD(v1) = a1;
  v2 = sub_1003CCC0((int)&v5);
  if ( sub_10048E40(v1) )
  {
    result = 0;
  }
  else if ( v2 == 0xFFFFFF )
  {
    result = 0;
  }
  else
  {
    sub_1003CF30(v2, &v4);
    result = v4;
  }
  return result;
}

//----- (1003E110) --------------------------------------------------------
int __cdecl sub_1003E110(__int64 a1)
{
  int result; // eax@2
  char v2; // [sp+0h] [bp-8h]@1

  sub_1003D140(a1 & 0x3FFFF, &v2);
  switch ( (unsigned int)WORD1(a1) >> 10 )
  {
    case 5u:
      result = sub_1003D2F0((int)&v2, (*(_DWORD *)((char *)&a1 + 2) >> 2) & 0x7F);
      break;
    case 6u:
      result = sub_1003D210((int)&v2, *(_DWORD *)((char *)&a1 + 2) >> 2);
      break;
    case 7u:
      result = sub_1003D280(*(_DWORD *)((char *)&a1 + 2) >> 2);
      break;
    case 8u:
      result = sub_1003D190(*(_DWORD *)((char *)&a1 + 2) >> 2);
      break;
    default:
      result = 0xFFFFFF;
      break;
  }
  return result;
}

//----- (1003E1C0) --------------------------------------------------------
double __cdecl sub_1003E1C0(unsigned int a1)
{
  __int64 v2; // [sp-4h] [bp-64h]@0
  char v3; // [sp+7h] [bp-59h]@2
  float v4; // [sp+8h] [bp-58h]@1
  unsigned int v5; // [sp+Ch] [bp-54h]@2
  char v6; // [sp+10h] [bp-50h]@2
  float v7; // [sp+38h] [bp-28h]@4
  float v8; // [sp+48h] [bp-18h]@3

  v4 = 9.9999996e24;
  LODWORD(v2) = a1;
  if ( sub_10048E40(v2) == 5 )
  {
    sub_1003C970(a1, &v5, &v4, &v3);
    sub_1003DAB0(v5, SLOBYTE(v4), (int)&v6);
    if ( v3 )
    {
      v4 = v8;
      return v8;
    }
    v4 = v7;
  }
  return v4;
}

//----- (1003E240) --------------------------------------------------------
double __cdecl sub_1003E240(unsigned int a1)
{
  __int64 v2; // [sp-4h] [bp-64h]@0
  char v3; // [sp+7h] [bp-59h]@2
  float v4; // [sp+8h] [bp-58h]@1
  unsigned int v5; // [sp+Ch] [bp-54h]@2
  char v6; // [sp+10h] [bp-50h]@2
  float v7; // [sp+3Ch] [bp-24h]@4
  float v8; // [sp+4Ch] [bp-14h]@3

  v4 = 9.9999996e24;
  LODWORD(v2) = a1;
  if ( sub_10048E40(v2) == 5 )
  {
    sub_1003C970(a1, &v5, &v4, &v3);
    sub_1003DAB0(v5, SLOBYTE(v4), (int)&v6);
    if ( v3 )
    {
      v4 = v8;
      return v8;
    }
    v4 = v7;
  }
  return v4;
}

//----- (1003E2C0) --------------------------------------------------------
double __cdecl sub_1003E2C0(int a1)
{
  __int64 v1; // ST08_8@1
  int v2; // eax@1
  float v4; // [sp+0h] [bp-14h]@1
  char v5; // [sp+4h] [bp-10h]@2
  __int16 v6; // [sp+Eh] [bp-6h]@2

  LODWORD(v1) = a1;
  *((float *)&v1 + 1) = 6.2831855;
  v2 = sub_1003E110(v1);
  if ( v2 != 0xFFFFFF )
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 15, &v5);
    v4 = (double)(signed __int16)((signed __int16)(v6 << 7) >> 7) * 0.01745329238474369 * 0.5;
  }
  return v4;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003E330) --------------------------------------------------------
int __cdecl sub_1003E330(int a1, int a2)
{
  int result; // eax@1
  int v3; // esi@1
  __int16 v4; // ax@2
  signed int v5; // eax@4
  char v6; // bl@4
  __int64 v7; // [sp-4h] [bp-58h]@0
  char v8; // [sp+Eh] [bp-46h]@3
  char v9; // [sp+Fh] [bp-45h]@3
  int v10; // [sp+10h] [bp-44h]@3
  int v11; // [sp+14h] [bp-40h]@3
  int v12; // [sp+18h] [bp-3Ch]@3
  char v13; // [sp+1Ch] [bp-38h]@3
  char v14; // [sp+23h] [bp-31h]@12
  char v15; // [sp+24h] [bp-30h]@10

  *(_DWORD *)a2 = 1600085855;
  *(_WORD *)(a2 + 4) = 24415;
  LODWORD(v7) = a1;
  *(_BYTE *)(a2 + 6) = 0;
  result = sub_1003E110(v7);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = HIWORD(a1) >> 10;
    if ( HIWORD(a1) >> 10 == 5 )
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 12, &v13);
      v10 = (unsigned __int16)word_10505624 + v3;
      sub_1003CCE0((unsigned int)&v9, (unsigned int *)&v12, &v8, (int)&v13, &v10, &v11);
      if ( (HIWORD(a1) & 0x3FCu) <= 0x1FC )
      {
        v6 = v9;
        v5 = v11;
      }
      else
      {
        v5 = v12;
        v6 = v8;
      }
      *(_BYTE *)a2 = 82;
      *(_BYTE *)(a2 + 1) = 87;
      if ( sub_1004A160(v5, 2, (_BYTE *)(a2 + 2)) )
      {
        *(_BYTE *)(a2 + 4) = v6;
        *(_BYTE *)(a2 + 6) = 0;
      }
      else
      {
        *(_DWORD *)(a2 + 2) = 1600085855;
        *(_BYTE *)(a2 + 6) = 0;
      }
    }
    else if ( v4 == 6 )
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 9, &v13);
      sub_1004DD80(&v15, 5, a2);
      *(_BYTE *)(a2 + 5) = 0;
    }
    else if ( v4 == 7 )
    {
      (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_10504EB4)(v3, 11, &v13);
      sub_1004DD80(&v14, 3, a2);
      *(_BYTE *)(a2 + 3) = 0;
    }
    else
    {
      (*(void (__cdecl **)(_DWORD, signed int, _DWORD))dword_10504EB4)(v3, 15, &v13);
      sub_1004DD80(&v14, 4, a2);
      *(_BYTE *)(a2 + 4) = 0;
    }
    result = sub_1004A3B0(a2, 0);
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505624: using guessed type __int16 word_10505624;

//----- (1003E4C0) --------------------------------------------------------
char __cdecl sub_1003E4C0(int a1, int a2)
{
  char v2; // bl@1
  int v3; // ebp@1
  int v4; // eax@2
  __int64 v6; // [sp-4h] [bp-30h]@0
  char v7; // [sp+10h] [bp-1Ch]@2
  unsigned int v8; // [sp+14h] [bp-18h]@2

  *(double *)a2 = 6.2831853071796;
  LODWORD(v6) = a1;
  *(double *)(a2 + 8) = 6.2831853071796;
  v2 = 0;
  v3 = sub_1003E110(v6);
  if ( v3 != 0xFFFFFF )
  {
    v4 = sub_10048E10(a1 & 0x3FFFF);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v4, 28, &v7);
    v2 = (v8 >> 29) & 1;
    sub_1003D560(a2, a1, v3);
  }
  return v2;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003E530) --------------------------------------------------------
__int16 __cdecl sub_1003E530(int a1, int a2)
{
  int v2; // eax@1
  __int64 v4; // [sp-4h] [bp-Ch]@0

  LODWORD(v4) = a1;
  *(_DWORD *)a2 = 2147483648;
  *(_DWORD *)(a2 + 4) = 2147483648;
  v2 = sub_1003E110(v4);
  if ( v2 != 0xFFFFFF )
    LOWORD(v2) = sub_1003CFD0(v2, a2, a1);
  return v2;
}

//----- (1003E570) --------------------------------------------------------
void __cdecl sub_1003E570(int a1, int a2, void *a3)
{
  signed int v3; // edi@1
  int v4; // edi@2
  char v5; // dh@2
  unsigned int v6; // eax@2
  unsigned __int16 v7; // cx@2
  char v8; // bl@2
  bool v9; // zf@2
  signed int v10; // ST34_4@2
  float v11; // ST34_4@2
  float v12; // ST34_4@3
  int v13; // eax@4
  unsigned int v14; // edi@5
  signed int v15; // ST08_4@5
  double v16; // st7@5
  signed int v17; // edx@5
  double v18; // st7@5
  __int16 v19; // [sp+18h] [bp-2Ch]@5
  __int16 v20; // [sp+1Ah] [bp-2Ah]@5
  unsigned __int8 v21; // [sp+1Ch] [bp-28h]@5
  unsigned __int16 v22; // [sp+1Dh] [bp-27h]@5
  int v23; // [sp+20h] [bp-24h]@5
  int v24; // [sp+24h] [bp-20h]@5
  char v25; // [sp+28h] [bp-1Ch]@1
  char v26; // [sp+30h] [bp-14h]@2
  char v27; // [sp+37h] [bp-Dh]@2
  unsigned __int16 v28; // [sp+38h] [bp-Ch]@2
  unsigned int v29; // [sp+3Ah] [bp-Ah]@2
  unsigned __int8 v30; // [sp+3Eh] [bp-6h]@3

  memcpy(a3, &dword_10089308, 7u);
  *((double *)a3 + 2) = 6.2831853071796;
  *((double *)a3 + 3) = 6.2831853071796;
  *((double *)a3 + 4) = 6.2831853071796;
  *((_BYTE *)a3 + 12) = 0;
  *((double *)a3 + 5) = 6.2831853071796;
  *((_BYTE *)a3 + 14) = 0;
  *((float *)a3 + 12) = 6.2831855;
  *((float *)a3 + 13) = 9.9999996e24;
  *((_DWORD *)a3 + 2) = 0xFFFF;
  *((_BYTE *)a3 + 13) = 127;
  *((float *)a3 + 14) = 6.2831855;
  *((float *)a3 + 15) = 6.2831855;
  sub_1003D140(a1, &v25);
  v3 = sub_1003D190(a2);
  if ( v3 != 0xFFFFFF )
  {
    (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(v3, 15, &v26);
    v4 = (unsigned __int16)word_1050562C + v3;
    sub_1004DD80(&v27, 4, (int)a3);
    sub_1004A3B0((int)a3, 4);
    v5 = HIBYTE(v28);
    v6 = v28;
    *((_DWORD *)a3 + 2) = 50 * ((unsigned __int8)v28 + 2160);
    v7 = v29;
    v8 = (v29 >> 9) & 1;
    v9 = ((v6 >> 8) & 0xFFFFFF80) == 0;
    LOWORD(v6) = v29;
    *((_BYTE *)a3 + 13) = v5 & 0x7F;
    *((_BYTE *)a3 + 14) = !v9;
    v10 = (unsigned __int16)((v7 >> 12) + 16 * BYTE2(v29));
    *((float *)a3 + 12) = (double)(signed __int16)((signed __int16)((_WORD)v6 << 7) >> 7) * 0.01745329238474369 * 0.5;
    *((_BYTE *)a3 + 12) = v8;
    v11 = 0.01745329238474369 * ((double)v10 / 10.0);
    *((float *)a3 + 14) = sub_100637E0(v11);
    if ( (unsigned __int16)word_1050562C > 0xDu )
    {
      v12 = (double)(unsigned __int16)(8 * v30 + (unsigned __int8)(BYTE3(v29) >> 5)) / 100.0 * 0.01745329238474369;
      *((float *)a3 + 15) = sub_100637E0(v12);
    }
    v13 = sub_1003D5A0(a1, a2);
    sub_1003E4C0(v13, (int)a3 + 16);
    if ( v29 & 0x200 )
    {
      (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(v4, 7, &v19);
      sub_1003F390(a1, (int)&v23);
      v14 = (v24 >> 7) + -16 * v19 - ((unsigned int)v21 >> 4);
      v15 = ((v23 >> 7) + -16 * v20 - (v21 & 0xF)) << 7;
      v23 >>= 7;
      v24 >>= 7;
      *((double *)a3 + 4) = sub_1004DD40(v15, 24);
      v16 = sub_1004DD40(v14 << 7, 24);
      v17 = v22;
      *((double *)a3 + 5) = v16;
      v18 = (double)v17 / 100.0 * 0.01745329238474369;
    }
    else
    {
      *((double *)a3 + 4) = 6.2831853071796;
      *((double *)a3 + 5) = 6.2831853071796;
      v18 = 9.9999996e24;
    }
    *((float *)a3 + 13) = v18;
  }
}
// 10089308: using guessed type int dword_10089308;
// 10504EB4: using guessed type int dword_10504EB4;
// 1050562C: using guessed type __int16 word_1050562C;

//----- (1003E810) --------------------------------------------------------
int __cdecl sub_1003E810(int a1, void *a2)
{
  __int64 v2; // ST0C_8@1
  int result; // eax@1
  int v4; // ebx@1
  __int16 v5; // dx@2
  char v6; // [sp+10h] [bp-Ch]@2
  int v7; // [sp+18h] [bp-4h]@2

  memcpy(a2, &dword_10089308, 7u);
  *((double *)a2 + 1) = 6.2831853071796;
  *((double *)a2 + 2) = 6.2831853071796;
  LODWORD(v2) = a1;
  *((_WORD *)a2 + 12) = -1;
  *((_BYTE *)a2 + 26) = 0;
  *((_BYTE *)a2 + 30) = 0;
  result = sub_1003E110(v2);
  v4 = result;
  if ( result != 0xFFFFFF )
  {
    sub_1003E330(a1, (int)a2);
    sub_1003E4C0(a1, (int)a2 + 8);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v4, 11, &v6);
    result = v7 & 0x7FFF;
    v5 = BYTE2(v7) & 3;
    *((_WORD *)a2 + 12) = result;
    *((_BYTE *)a2 + 30) = 0;
    *((_WORD *)a2 + 14) = v5;
    *((_BYTE *)a2 + 26) = 1;
  }
  return result;
}
// 10089308: using guessed type int dword_10089308;
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003E8B0) --------------------------------------------------------
int __cdecl sub_1003E8B0(int a1, void *a2, void *a3)
{
  int v3; // eax@1
  unsigned __int8 v4; // al@2
  unsigned __int8 v5; // bl@2
  int v6; // eax@2
  int v7; // eax@2
  char v8; // bl@2
  int v9; // eax@3
  bool v10; // zf@4
  unsigned int v11; // eax@4
  unsigned int v12; // eax@5
  int v13; // eax@6
  int v14; // eax@6
  int result; // eax@11
  __int64 v16; // [sp-4h] [bp-68h]@0
  int v17; // [sp+14h] [bp-50h]@1
  int v18; // [sp+18h] [bp-4Ch]@11
  int v19; // [sp+1Ch] [bp-48h]@11
  char v20; // [sp+20h] [bp-44h]@11
  char v21; // [sp+24h] [bp-40h]@2
  unsigned int v22; // [sp+28h] [bp-3Ch]@4
  char v23; // [sp+44h] [bp-20h]@11
  char v24; // [sp+46h] [bp-1Eh]@11
  int v25; // [sp+54h] [bp-10h]@11
  int v26; // [sp+58h] [bp-Ch]@11
  char v27; // [sp+5Ch] [bp-8h]@11

  LODWORD(v16) = a1;
  v3 = (unsigned __int8)sub_10048E40(v16);
  v17 = (unsigned __int8)v3;
  switch ( v3 )
  {
    case 0:
    case 1:
    case 2:
    case 3:
      v4 = sub_10048D60(a1);
      v5 = v4;
      v6 = sub_10048D90(a1, v4, 1);
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v6, 29, &v21);
      v7 = v5;
      v8 = 0;
      if ( !v7 )
        goto LABEL_7;
      v9 = v7 - 1;
      if ( !v9 )
        goto LABEL_7;
      v10 = v9 == 1;
      v11 = v22;
      if ( v10 )
        goto LABEL_8;
      v12 = (v22 >> 17) & 0x1FF;
      break;
    case 5:
    case 6:
    case 7:
    case 8:
      v13 = sub_1003C930(a1);
      v8 = 0;
      v14 = sub_10048D90(v13, 0, 1);
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v14, 29, &v21);
LABEL_7:
      v11 = v22;
LABEL_8:
      v12 = (v11 >> 17) & 0x1FF;
      break;
    default:
      v8 = 0;
      v12 = 0;
      break;
  }
  switch ( v17 )
  {
    case 0:
    case 1:
    case 2:
    case 3:
    case 5:
    case 6:
    case 7:
    case 8:
      (*(void (__cdecl **)(unsigned int, signed int, int *))dword_10504EB4)(
        dword_10504F24 + v12 * (unsigned __int16)word_10504F28,
        9,
        &v18);
      v25 = v18;
      v26 = v19;
      v27 = v20;
      sub_10048BE0((int)&v27, &v27, 12, (int)&v23);
      memcpy(a2, &v23, 2u);
      memcpy(a3, &v24, 0xAu);
      result = sub_1004A3B0((int)a3, 10);
      break;
    default:
      result = 1600085855;
      *(_WORD *)a2 = 24415;
      *(_DWORD *)a3 = 1600085855;
      *((_DWORD *)a3 + 1) = 1600085855;
      *((_WORD *)a3 + 4) = 24415;
      break;
  }
  *((_BYTE *)a2 + 2) = v8;
  *((_BYTE *)a3 + 10) = v8;
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F24: using guessed type int dword_10504F24;
// 10504F28: using guessed type __int16 word_10504F28;

//----- (1003EA60) --------------------------------------------------------
char __cdecl sub_1003EA60(unsigned int a1)
{
  unsigned __int8 v1; // bl@2
  int v2; // eax@2
  char result; // al@5
  int v4; // eax@8
  int v5; // eax@8
  __int64 v6; // [sp-4h] [bp-2Ch]@0
  char v7; // [sp+8h] [bp-20h]@2
  unsigned int v8; // [sp+Ch] [bp-1Ch]@9
  unsigned __int8 v9; // [sp+10h] [bp-18h]@7
  unsigned int v10; // [sp+12h] [bp-16h]@5
  unsigned int v11; // [sp+18h] [bp-10h]@6

  LODWORD(v6) = a1;
  switch ( sub_10048E40(v6) )
  {
    case 0:
    case 1:
    case 2:
    case 3:
      v1 = sub_10048D60(a1);
      v2 = sub_10048D90(a1, v1, 1);
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 29, &v7);
      if ( !v1 )
        goto LABEL_9;
      if ( v1 == 1 )
      {
        result = (v9 >> 1) & 1;
      }
      else if ( v1 == 2 )
      {
        result = (v11 >> 14) & 1;
      }
      else
      {
        result = (v10 >> 23) & 1;
      }
      break;
    case 5:
    case 6:
    case 7:
    case 8:
      v4 = sub_1003C930(a1);
      v5 = sub_10048D90(v4, 0, 1);
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v5, 29, &v7);
LABEL_9:
      result = (v8 >> 29) & 1;
      break;
    case 0xC:
      result = 1;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003EB60) --------------------------------------------------------
int __cdecl sub_1003EB60(unsigned __int8 a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 < 4u )
    result = sub_1004E180((unsigned __int8)byte_100892CC[12 * a1]);
  return result;
}

//----- (1003EB90) --------------------------------------------------------
char __cdecl sub_1003EB90(unsigned __int8 a1, int a2, char a3, int a4)
{
  char result; // al@2

  if ( (unsigned __int8)(*(int (__cdecl **)(int, signed int, int))dword_10504EB4)(
                          a2 + dword_100892D0[3 * a1] - 3,
                          4,
                          a4) )
  {
    *(_BYTE *)(a4 + 4) = a3;
    *(_BYTE *)a4 &= byte_100874E8[5 * a1];
    *(_BYTE *)(a4 + 1) &= byte_100874E9[5 * a1];
    *(_BYTE *)(a4 + 2) &= byte_100874EA[5 * a1];
    *(_BYTE *)(a4 + 3) &= byte_100874EB[5 * a1];
    *(_BYTE *)(a4 + 4) &= byte_100874EC[5 * a1];
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100892D0: using guessed type int dword_100892D0[];
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003EC10) --------------------------------------------------------
signed int __usercall sub_1003EC10@<eax>(signed int result@<eax>, int a2@<ecx>)
{
  void *v2; // edi@2
  unsigned int v3; // ecx@2

  if ( result < 31 )
  {
    v2 = (void *)(a2 + 4 * result);
    v3 = 31 - result;
    result = 0x3FFFF;
    memset32(v2, 0x3FFFF, v3);
  }
  return result;
}

//----- (1003EC30) --------------------------------------------------------
char __usercall sub_1003EC30@<al>(int a1@<eax>, unsigned __int8 a2)
{
  int v2; // edi@1
  unsigned int v3; // edi@2
  char v4; // dl@2
  signed int v5; // eax@2
  char result; // al@6
  __int16 v7; // [sp+Ch] [bp-1ECh]@1
  char v8[490]; // [sp+Eh] [bp-1EAh]@3

  v2 = a1;
  if ( (unsigned __int8)(*(int (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(
                          dword_10504F00[3 * (unsigned __int8)byte_100892C8[12 * a2]],
                          492,
                          &v7) )
  {
    v3 = v2 - *(_DWORD *)(dword_10505750 + 4 * a2 + 20812);
    v4 = 0;
    v5 = 163;
    do
    {
      if ( *(unsigned __int16 *)((char *)&v7 + 3 * v5) + ((v8[3 * v5] & 3u) << 16) <= v3 )
      {
        v4 = v5;
        v5 = 0;
      }
      --v5;
    }
    while ( v5 >= 0 );
    result = v4 + 4;
  }
  else
  {
    result = -92;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F00: using guessed type int dword_10504F00[];
// 10505750: using guessed type int dword_10505750;
// 1003EC30: using guessed type char var_1EA[490];

//----- (1003ECD0) --------------------------------------------------------
int __usercall sub_1003ECD0@<eax>(unsigned __int8 a1@<al>, int a2)
{
  return dword_10504F00[3 * (unsigned __int8)byte_100892CA[12 * a1]]
       + a2 * (unsigned __int16)word_10504F04[6 * (unsigned __int8)byte_100892CA[12 * a1]];
}
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];

//----- (1003ED00) --------------------------------------------------------
int __usercall sub_1003ED00@<eax>(unsigned __int8 a1@<al>)
{
  return sub_1004E180((unsigned __int8)byte_100892CA[12 * a1]);
}

//----- (1003ED20) --------------------------------------------------------
int __usercall sub_1003ED20@<eax>(int a1@<ecx>, int *a2@<edi>, unsigned int *a3@<esi>)
{
  unsigned __int8 v3; // cl@1
  unsigned int v4; // eax@1
  int result; // eax@3
  __int16 v6; // [sp+0h] [bp-1Ch]@1
  __int16 v7; // [sp+2h] [bp-1Ah]@1
  unsigned __int8 v8; // [sp+4h] [bp-18h]@1

  (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(a1, 26, &v6);
  v3 = v8;
  v4 = 2 * v7 | ((unsigned int)v8 >> 2) & 1;
  *a3 = v4;
  if ( v4 == 65507 )
    *a3 = -65565;
  result = v3 & 3 | 4 * v6;
  *a2 = result;
  if ( result == 131014 )
    *a2 = -131130;
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003ED80) --------------------------------------------------------
int __cdecl sub_1003ED80(int a1)
{
  unsigned __int8 v1; // cl@0
  int result; // eax@1
  int v3; // ecx@2

  result = 0x3FFFF;
  if ( v1 < 4u )
  {
    v3 = 6 * (unsigned __int8)byte_100892C8[12 * v1];
    result = dword_10504F00[2 * v3 / 4u] + a1 * (unsigned __int16)word_10504F04[v3];
  }
  return result;
}
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];

//----- (1003EDC0) --------------------------------------------------------
int __usercall sub_1003EDC0@<eax>(int *a1@<ebx>, int *a2@<edi>, _DWORD *a3@<esi>, int a4, int a5, _WORD *a6)
{
  int result; // eax@4
  unsigned int v7; // eax@8
  unsigned int v8; // ecx@9
  unsigned int v9; // eax@10
  unsigned int v10; // eax@14
  char v11; // [sp+4h] [bp-1Ch]@6
  unsigned __int8 v12; // [sp+8h] [bp-18h]@9
  unsigned int v13; // [sp+9h] [bp-17h]@8
  unsigned int v14; // [sp+Dh] [bp-13h]@10
  unsigned int v15; // [sp+11h] [bp-Fh]@12
  unsigned int v16; // [sp+15h] [bp-Bh]@14
  unsigned int v17; // [sp+19h] [bp-7h]@16
  unsigned __int8 v18; // [sp+1Dh] [bp-3h]@13

  for ( ; *a2 < a5; *a1 -= 7285 )
  {
    if ( *a1 <= 0 )
      break;
    *a2 += 7285;
  }
  result = a5 + 5828;
  if ( *a1 > 0 && *a2 <= result )
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(a4, 26, &v11);
    do
    {
      switch ( (*a2 - a5) / 1457 )
      {
        case 0:
          v7 = v13;
          *a6 += v13;
          if ( *a3 == 0x3FFFF )
          {
            v8 = (unsigned int)v12 >> 3;
            goto LABEL_18;
          }
          break;
        case 1:
          v9 = v14;
          *a6 += v14;
          if ( *a3 == 0x3FFFF )
            *a3 = (v9 >> 16) + ((((unsigned int)v12 >> 5) & 3) << 16);
          break;
        case 2:
          v7 = v15;
          *a6 += v15;
          if ( *a3 == 0x3FFFF )
          {
            LOBYTE(v8) = v18;
            goto LABEL_18;
          }
          break;
        case 3:
          v10 = v16;
          *a6 += v16;
          if ( *a3 == 0x3FFFF )
            *a3 = (v10 >> 16) + ((((unsigned int)v18 >> 2) & 3) << 16);
          break;
        default:
          v7 = v17;
          *a6 += v17;
          if ( *a3 == 0x3FFFF )
          {
            v8 = (unsigned int)v18 >> 4;
LABEL_18:
            *a3 = (v7 >> 16) + ((v8 & 3) << 16);
          }
          break;
      }
      *a2 += 1457;
      *a1 -= 1457;
      result = *a1;
    }
    while ( *a2 <= a5 + 5828 && result > 0 );
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003EF20) --------------------------------------------------------
signed int __cdecl sub_1003EF20(unsigned __int8 a1, int a2)
{
  int v2; // eax@1
  unsigned int v3; // ebx@2
  int v4; // eax@3
  signed int result; // eax@7
  unsigned int v6; // [sp+8h] [bp-Ch]@2
  int v7; // [sp+Ch] [bp-8h]@3
  char v8; // [sp+10h] [bp-4h]@3

  v2 = sub_1003ED00(a1);
  if ( v2 )
  {
    v3 = v2 - 1;
    v6 = 0;
    if ( v2 != 1 )
    {
      do
      {
        v4 = sub_1003ECD0(a1, (v6 + v3) >> 1);
        sub_1003ED20(v4, (int *)&v8, (unsigned int *)&v7);
        if ( a2 <= v7 )
          v3 = (v6 + v3) >> 1;
        else
          v6 = ((v6 + v3) >> 1) + 1;
      }
      while ( v3 > v6 );
    }
    result = v3;
  }
  else
  {
    result = 0xFFFF;
  }
  return result;
}

//----- (1003EFB0) --------------------------------------------------------
signed int __usercall sub_1003EFB0@<eax>(unsigned __int8 a1@<bl>, int a2)
{
  char *v2; // ebp@1
  int v3; // esi@1
  int v4; // eax@1
  int v5; // edi@1
  int v6; // eax@3
  int v7; // esi@4
  int v8; // eax@5
  unsigned int v9; // edi@7
  unsigned int v10; // esi@9
  int v11; // eax@9
  signed int result; // eax@15
  unsigned __int8 v13; // [sp+0h] [bp-24h]@0
  unsigned __int16 v14; // [sp+10h] [bp-14h]@3
  char v15; // [sp+12h] [bp-12h]@3
  unsigned int v16; // [sp+14h] [bp-10h]@3
  char v17; // [sp+18h] [bp-Ch]@9
  char v18; // [sp+1Ch] [bp-8h]@9

  v2 = (char *)(a2 + 4);
  v3 = *(_BYTE *)(a2 + 4) - 4;
  v4 = sub_1003EB60(v13);
  v5 = v4;
  if ( v3 >= 0
    && v4
    && (v6 = sub_1003ED80(v3),
        (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v6, 3, &v14),
        v16 = v14 + ((v15 & 3) << 16),
        v16 != 0x3FFFF) )
  {
    v7 = v3 + 1;
    if ( v7 >= 164 )
      goto LABEL_7;
    while ( 1 )
    {
      v8 = sub_1003ED80(v7);
      (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v8, 3, &v14);
      if ( v14 + ((v15 & 3) << 16) != 0x3FFFF )
        break;
      if ( ++v7 >= 164 )
        goto LABEL_7;
    }
    if ( v7 >= 164 )
LABEL_7:
      v9 = v5 - 1;
    else
      v9 = v14 + ((v15 & 3) << 16);
    while ( v9 > v16 )
    {
      v10 = (v16 + v9) >> 1;
      v11 = sub_10048D90(v10, a1, 0);
      sub_1003EB90(a1, v11, *v2, (int)&v17);
      if ( sub_1004DB70(v2, &v18, 5) <= 0 )
        v9 = v10;
      else
        v16 = v10 + 1;
    }
    result = v9;
  }
  else
  {
    result = 0x3FFFF;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1003F120) --------------------------------------------------------
char __usercall sub_1003F120@<al>(char a1@<al>)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 0;
      break;
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 3:
      result = 3;
      break;
    default:
      result = 4;
      break;
  }
  return result;
}

//----- (1003F150) --------------------------------------------------------
int __cdecl sub_1003F150(int a1)
{
  int v1; // ecx@0
  int result; // eax@1
  int v3; // ecx@2
  int v4; // edx@2
  __int16 v5; // cx@2
  int v6; // [sp+0h] [bp-4h]@1

  v6 = v1;
  result = 0x3FFFF;
  if ( (unsigned __int8)v1 < 4u )
  {
    v3 = 6 * (unsigned __int8)byte_100892CD[12 * (unsigned __int8)v1];
    v4 = dword_10504F00[2 * v3 / 4u];
    v5 = word_10504F04[v3];
    if ( v4 != 0xFFFFFF )
    {
      (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v4 + a1 * (unsigned __int16)v5, 3, &v6);
      result = (unsigned __int16)v6 + ((BYTE2(v6) & 3) << 16);
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];

//----- (1003F1C0) --------------------------------------------------------
int __fastcall sub_1003F1C0(int a1, int a2)
{
  int result; // eax@1

  result = ((*(_WORD *)a1 << 9) + (*(_WORD *)(a1 + 5) & 0x1FF)) << 7;
  *(_DWORD *)a2 = (*(_BYTE *)(a1 + 4) + (*(_WORD *)(a1 + 2) << 8)) << 7;
  *(_DWORD *)(a2 + 4) = result;
  return result;
}

//----- (1003F1F0) --------------------------------------------------------
void __cdecl sub_1003F1F0(unsigned int a1, int a2)
{
  unsigned __int8 v2; // bl@4
  int v3; // ebp@4
  char v4; // ST34_1@4
  char v5; // [sp+Ch] [bp-Ch]@4
  char v6; // [sp+10h] [bp-8h]@5

  if ( a1 >= 0x3E8 )
  {
    if ( a1 >= *(_DWORD *)(dword_10505750 + 20828) )
    {
      if ( ((a1 >> 16) & 0xFC00) == 12288 )
        sub_10049830(a1, a2);
      else
        sub_1003E330(a1, a2);
    }
    else
    {
      v2 = sub_10048D60(a1);
      v3 = sub_10048D90(a1, v2, 1);
      v4 = sub_1003EC30(a1, v2);
      if ( sub_1003EB90(v2, v3, v4, (int)&v5) )
      {
        sub_1004DD80(&v6, 6, a2);
        sub_1004A3B0(a2, 6);
      }
      else
      {
        *(_DWORD *)a2 = 1600085855;
        *(_WORD *)(a2 + 4) = 24415;
        *(_BYTE *)(a2 + 6) = 0;
      }
    }
  }
  else
  {
    *(_DWORD *)a2 = 1600085855;
    *(_WORD *)(a2 + 4) = 24415;
    *(_BYTE *)(a2 + 6) = 0;
  }
}
// 10505750: using guessed type int dword_10505750;

//----- (1003F330) --------------------------------------------------------
int __cdecl sub_1003F330(char a1, unsigned int a2)
{
  unsigned __int8 v2; // bl@1
  int result; // eax@3

  v2 = sub_1003F120(a1);
  if ( v2 >= 4u || a2 >= sub_1003EB60(v2) )
    result = 0x3FFFF;
  else
    result = *(_DWORD *)(dword_10505750 + 4 * v2 + 20812) + sub_1003F150(a2);
  return result;
}
// 10505750: using guessed type int dword_10505750;

//----- (1003F390) --------------------------------------------------------
char __cdecl sub_1003F390(int a1, int a2)
{
  char result; // al@2
  unsigned __int8 v3; // al@4
  int v4; // eax@4
  char v5; // [sp+4h] [bp-8h]@4

  if ( (unsigned int)a1 >= 0x3E8 )
  {
    if ( (unsigned int)a1 >= *(_DWORD *)(dword_10505750 + 20828) )
    {
      if ( (((unsigned int)a1 >> 16) & 0xFC00) == 12288 )
        result = sub_10049A10(a1, a2);
      else
        result = sub_1003E530(a1, a2);
    }
    else
    {
      v3 = sub_10048D60(a1);
      v4 = sub_10048D90(a1, v3, 1);
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v4, 7, &v5);
      result = sub_1003F1C0((int)&v5, a2);
    }
  }
  else
  {
    result = a2;
    *(_DWORD *)a2 = 2147483648;
    *(_DWORD *)(a2 + 4) = 2147483648;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505750: using guessed type int dword_10505750;

//----- (1003F440) --------------------------------------------------------
int __cdecl sub_1003F440(char a1, int a2)
{
  char v2; // al@1
  int v3; // ecx@1
  int result; // eax@2

  v2 = sub_1003F120(a1);
  if ( (unsigned __int8)v2 >= 4u )
    result = v3;
  else
    result = a2 + *(_DWORD *)(dword_10505750 + 4 * (unsigned __int8)v2 + 20812);
  return result;
}
// 10505750: using guessed type int dword_10505750;

//----- (1003F470) --------------------------------------------------------
signed int __usercall sub_1003F470@<eax>(_DWORD *a1@<ebx>, unsigned __int8 a2, int a3, _DWORD *a4)
{
  unsigned int v4; // ebp@1
  int v5; // eax@4
  bool v6; // sf@4
  unsigned __int8 v7; // of@4
  int v8; // eax@10
  int v10; // [sp+8h] [bp-Ch]@4
  int v11; // [sp+Ch] [bp-8h]@4
  unsigned int v12; // [sp+10h] [bp-4h]@2

  v4 = sub_1003EF20(a2, a3);
  if ( v4 != 0xFFFF )
  {
    v12 = sub_1003ED00(a2);
    if ( v4 < v12 )
    {
      while ( 1 )
      {
        if ( *a4 <= 0 )
          return 0xFFFF;
        v5 = sub_1003ECD0(a2, v4);
        sub_1003ED20(v5, &v11, (unsigned int *)&v10);
        v7 = __OFSUB__(a3, v10);
        v6 = a3 - v10 < 0;
        if ( a3 == v10 )
        {
          if ( *a1 >= v11 && *a1 < v11 + 7285 )
            return v4;
          v7 = __OFSUB__(a3, v10);
          v6 = a3 - v10 < 0;
        }
        if ( !(v6 ^ v7) )
        {
          if ( *a1 >= v11 )
          {
            ++v4;
          }
          else
          {
            v8 = v11 - *a1;
            *a1 = v11;
            *a4 -= v8;
          }
          if ( v4 < v12 )
            continue;
        }
        return 0xFFFF;
      }
    }
  }
  return 0xFFFF;
}

//----- (1003F540) --------------------------------------------------------
signed int __cdecl sub_1003F540(unsigned __int8 a1)
{
  int v1; // ecx@0
  _DWORD *v2; // esi@1
  signed int result; // eax@1
  signed int v4; // ebp@1
  int v5; // edi@2
  char v6; // ST30_1@2
  unsigned int v7; // eax@2
  char *v8; // ecx@2
  _DWORD *v9; // edx@2
  int v10; // esi@6
  int v11; // eax@7
  _BYTE *v12; // ecx@7
  _BYTE *v13; // edx@7
  int v14; // eax@9
  _BYTE *v15; // ecx@9
  _BYTE *v16; // edx@9
  _BYTE *v17; // ecx@11
  _BYTE *v18; // edx@11
  signed int v19; // eax@13
  bool v20; // zf@16
  char v21; // [sp+10h] [bp-Ch]@2

  v2 = (_DWORD *)v1;
  result = sub_1003EFB0(a1, v1);
  v4 = result;
  if ( result == 0x3FFFF )
    return result;
  v5 = sub_10048D90(result, a1, 0);
  v6 = sub_1003EC30(v4 + *(_DWORD *)(dword_10505750 + 4 * a1 + 20812), a1);
  sub_1003EB90(a1, v5, v6, (int)&v21);
  v7 = 5;
  v8 = &v21;
  v9 = v2;
  do
  {
    if ( *v9 != *(_DWORD *)v8 )
      goto LABEL_6;
    v7 -= 4;
    v8 += 4;
    ++v9;
  }
  while ( v7 >= 4 );
  if ( !v7 )
  {
LABEL_15:
    v19 = 0;
    goto LABEL_16;
  }
LABEL_6:
  v10 = *(_BYTE *)v9 - (unsigned __int8)*v8;
  if ( *(_BYTE *)v9 == (unsigned __int8)*v8 )
  {
    v11 = v7 - 1;
    v12 = v8 + 1;
    v13 = (char *)v9 + 1;
    if ( !v11 )
      goto LABEL_15;
    v10 = *v13 - *v12;
    if ( *v13 == *v12 )
    {
      v14 = v11 - 1;
      v15 = v12 + 1;
      v16 = v13 + 1;
      if ( !v14 )
        goto LABEL_15;
      v10 = *v16 - *v15;
      if ( *v16 == *v15 )
      {
        v17 = v15 + 1;
        v18 = v16 + 1;
        if ( v14 == 1 )
          goto LABEL_15;
        v10 = *v18 - *v17;
        if ( *v18 == *v17 )
          goto LABEL_15;
      }
    }
  }
  v19 = 1;
  if ( v10 <= 0 )
    v19 = -1;
LABEL_16:
  v20 = v19 == 0;
  result = 0x3FFFF;
  if ( v20 )
    result = v4;
  return result;
}
// 10505750: using guessed type int dword_10505750;

//----- (1003F660) --------------------------------------------------------
signed int __usercall sub_1003F660@<eax>(unsigned __int8 a1@<dl>, int a2@<ecx>, _DWORD *a3)
{
  unsigned __int8 v3; // bl@1
  unsigned int v4; // edi@1
  int v5; // esi@2
  char v6; // ST30_1@2
  _DWORD *v7; // edx@2
  unsigned int v8; // eax@2
  char *v9; // ecx@2
  int v10; // esi@6
  int v11; // eax@7
  _BYTE *v12; // ecx@7
  _BYTE *v13; // edx@7
  int v14; // eax@9
  _BYTE *v15; // ecx@9
  _BYTE *v16; // edx@9
  _BYTE *v17; // ecx@11
  _BYTE *v18; // edx@11
  signed int v19; // eax@13
  bool v20; // zf@16
  signed int result; // eax@16
  char v22; // [sp+10h] [bp-Ch]@2

  v3 = a1;
  v4 = a2 + 1;
  if ( a2 + 1 >= (unsigned int)sub_1003EB60(a1) )
    return 0x3FFFF;
  v5 = sub_10048D90(v4, v3, 0);
  v6 = sub_1003EC30(v4 + *(_DWORD *)(dword_10505750 + 4 * v3 + 20812), v3);
  sub_1003EB90(v3, v5, v6, (int)&v22);
  v7 = a3;
  v8 = 5;
  v9 = &v22;
  do
  {
    if ( *v7 != *(_DWORD *)v9 )
      goto LABEL_6;
    v8 -= 4;
    v9 += 4;
    ++v7;
  }
  while ( v8 >= 4 );
  if ( !v8 )
  {
LABEL_15:
    v19 = 0;
    goto LABEL_16;
  }
LABEL_6:
  v10 = *(_BYTE *)v7 - (unsigned __int8)*v9;
  if ( *(_BYTE *)v7 == (unsigned __int8)*v9 )
  {
    v11 = v8 - 1;
    v12 = v9 + 1;
    v13 = (char *)v7 + 1;
    if ( !v11 )
      goto LABEL_15;
    v10 = *v13 - *v12;
    if ( *v13 == *v12 )
    {
      v14 = v11 - 1;
      v15 = v12 + 1;
      v16 = v13 + 1;
      if ( !v14 )
        goto LABEL_15;
      v10 = *v16 - *v15;
      if ( *v16 == *v15 )
      {
        v17 = v15 + 1;
        v18 = v16 + 1;
        if ( v14 == 1 )
          goto LABEL_15;
        v10 = *v18 - *v17;
        if ( *v18 == *v17 )
          goto LABEL_15;
      }
    }
  }
  v19 = 1;
  if ( v10 <= 0 )
    v19 = -1;
LABEL_16:
  v20 = v19 == 0;
  result = v4;
  if ( !v20 )
    return 0x3FFFF;
  return result;
}
// 10505750: using guessed type int dword_10505750;

//----- (1003F770) --------------------------------------------------------
void __usercall sub_1003F770(int a1@<ecx>, int a2@<esi>)
{
  int v2; // [sp+0h] [bp-8h]@1
  int v3; // [sp+4h] [bp-4h]@1

  sub_1003F1C0(a1, (int)&v2);
  *(double *)a2 = sub_1004DD40(v2, 24);
  *(double *)(a2 + 8) = sub_1004DD40(v3, 24);
}

//----- (1003F7A0) --------------------------------------------------------
signed int __cdecl sub_1003F7A0(const char *a1, int a2, signed int *a3)
{
  int v3; // edi@1
  unsigned __int8 v4; // bl@2
  signed int v5; // edi@2
  int i; // eax@3
  int v7; // eax@9
  unsigned __int8 v9; // [sp+Ch] [bp-14h]@2
  char v10; // [sp+14h] [bp-Ch]@1
  char v11; // [sp+18h] [bp-8h]@1

  v3 = (int)a1;
  *a3 = 0;
  sub_1004DC00(a1, (int)&v10);
  if ( v11 )
  {
    v4 = 0;
    v9 = 0;
    v5 = 20812;
    do
    {
      for ( i = sub_1003F540(v9); i != 0x3FFFF; i = sub_1003F660(v4, i, &v10) )
      {
        if ( *a3 >= 31 )
          break;
        *(_DWORD *)(a2 + 4 * (*a3)++) = i + *(_DWORD *)(v5 + dword_10505750);
      }
      ++v4;
      v5 += 4;
      v9 = v4;
    }
    while ( v4 < 4u );
    v3 = (int)a1;
  }
  if ( *a3 < 31 )
  {
    v7 = sub_10049600(v3);
    if ( v7 != 0x3FFFF )
      *(_DWORD *)(a2 + 4 * (*a3)++) = v7;
  }
  return sub_1003EC10(*a3, a2);
}
// 10505750: using guessed type int dword_10505750;

//----- (1003F890) --------------------------------------------------------
char __cdecl sub_1003F890(unsigned int a1, int a2)
{
  char result; // al@2
  unsigned __int8 v3; // bl@4
  int v4; // eax@4
  unsigned int v5; // ebx@7
  char v6; // bl@13
  int v7; // [sp+4h] [bp-20h]@4
  int v8; // [sp+8h] [bp-1Ch]@10
  unsigned __int8 v9; // [sp+Ch] [bp-18h]@9
  unsigned int v10; // [sp+Eh] [bp-16h]@7
  unsigned int v11; // [sp+14h] [bp-10h]@8

  if ( a1 >= 0x3E8 )
  {
    if ( a1 >= *(_DWORD *)(dword_10505750 + 20828) )
    {
      if ( ((a1 >> 16) & 0xFC00) == 12288 )
      {
        v6 = sub_10049A10(a1, (int)&v7);
        if ( v6 )
        {
          sub_1004A400(a2, v7, v8);
          result = v6;
        }
        else
        {
          *(double *)a2 = 6.2831853071796;
          *(double *)(a2 + 8) = 6.2831853071796;
          result = 0;
        }
      }
      else
      {
        result = sub_1003E4C0(a1, a2);
      }
    }
    else
    {
      v3 = sub_10048D60(a1);
      v4 = sub_10048D90(a1, v3, 1);
      (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v4, 32, &v7);
      if ( v3 )
      {
        if ( v3 == 1 )
        {
          LOBYTE(v5) = v9 >> 1;
        }
        else if ( v3 == 2 )
        {
          v5 = v11 >> 14;
        }
        else
        {
          v5 = v10 >> 23;
        }
      }
      else
      {
        v5 = (unsigned int)v8 >> 29;
      }
      sub_1003F770((int)&v7, a2);
      result = v5 & 1;
    }
  }
  else
  {
    *(double *)a2 = 6.2831853071796;
    *(double *)(a2 + 8) = 6.2831853071796;
    result = 0;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505750: using guessed type int dword_10505750;

//----- (1003F9B0) --------------------------------------------------------
char __cdecl sub_1003F9B0(char a1, int a2, int a3, int a4, _WORD *a5, _DWORD *a6)
{
  _DWORD *v6; // ecx@1
  signed int v7; // eax@1
  unsigned int v8; // ebp@2
  int v9; // ebx@4
  unsigned __int8 v11; // [sp+0h] [bp-14h]@1
  int v12; // [sp+4h] [bp-10h]@2
  int v13; // [sp+8h] [bp-Ch]@4
  int v14; // [sp+Ch] [bp-8h]@4
  unsigned int v15; // [sp+10h] [bp-4h]@3

  v6 = a6;
  *a5 = 0;
  *v6 = 0x3FFFF;
  LOBYTE(v7) = sub_1003F120(a1);
  v11 = v7;
  if ( (unsigned __int8)v7 < 4u )
  {
    v12 = a4;
    v7 = sub_1003F470(&a3, v7, a2, &v12);
    v8 = v7;
    if ( v7 != 0xFFFF )
    {
      v15 = sub_1003ED00(v11);
      do
      {
        v9 = sub_1003ECD0(v11, v8);
        sub_1003ED20(v9, &v14, (unsigned int *)&v13);
        if ( v13 == a2 )
          sub_1003EDC0(&v12, &a3, a6, v9, v14, a5);
        LOBYTE(v7) = a2;
        ++v8;
      }
      while ( v13 == a2 && v8 < v15 && v12 > 0 );
    }
  }
  return v7;
}

//----- (1003FA90) --------------------------------------------------------
signed int __cdecl sub_1003FA90(unsigned __int8 a1)
{
  signed int v1; // esi@1
  int v2; // eax@1

  v1 = 0x3FFFF;
  sub_100178A0(54, 60000);
  v2 = sub_10049A80(a1);
  if ( v2 && *(_BYTE *)(v2 + 90) != -1 )
    v1 = *(_DWORD *)(v2 + 104);
  sub_10017820(54);
  return v1;
}

//----- (1003FAD0) --------------------------------------------------------
char __cdecl sub_1003FAD0(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = 0;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = *(_BYTE *)(v2 + 1);
  sub_10017820(54);
  return v1;
}

//----- (1003FB10) --------------------------------------------------------
signed int __cdecl sub_1003FB10(unsigned __int8 a1, unsigned __int8 a2)
{
  signed int v2; // esi@1
  int v3; // eax@1

  sub_100178A0(54, 60000);
  v2 = 0x3FFFF;
  v3 = sub_10049A80(a1);
  if ( v3 && a2 < *(_BYTE *)(v3 + 1) )
    v2 = sub_1004DBB0(84 * a2 + v3 + 148);
  sub_10017820(54);
  return v2;
}

//----- (1003FB70) --------------------------------------------------------
signed int __cdecl sub_1003FB70(unsigned __int8 a1)
{
  signed int v1; // esi@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = 0x3FFFF;
  v2 = sub_10049A80(a1);
  if ( v2 && *(_BYTE *)(v2 + 60) != 3 && *(_BYTE *)(v2 + 61) != 3 )
    v1 = *(_DWORD *)(v2 + 64);
  sub_10017820(54);
  return v1;
}

//----- (1003FBB0) --------------------------------------------------------
char __cdecl sub_1003FBB0(int a1)
{
  char result; // al@1
  unsigned __int8 v2; // dl@2
  char v3; // cl@2

  result = -1;
  if ( a1 )
  {
    v2 = *(_BYTE *)(a1 + 1);
    v3 = 0;
    if ( v2 )
    {
      while ( !(*(_BYTE *)(84 * (unsigned __int8)v3 + a1 + 125) & 1) )
      {
        if ( (unsigned __int8)++v3 >= v2 )
          return result;
      }
      result = v3;
    }
  }
  return result;
}

//----- (1003FBF0) --------------------------------------------------------
char __cdecl sub_1003FBF0(int a1)
{
  char result; // al@1
  unsigned __int8 v2; // dl@2
  char v3; // cl@2

  result = -1;
  if ( a1 )
  {
    v2 = *(_BYTE *)(a1 + 1);
    v3 = 0;
    if ( v2 )
    {
      while ( !(*(_BYTE *)(84 * (unsigned __int8)v3 + a1 + 125) & 4) )
      {
        if ( (unsigned __int8)++v3 >= v2 )
          return result;
      }
      result = v3;
    }
  }
  return result;
}

//----- (1003FC30) --------------------------------------------------------
char __cdecl sub_1003FC30(int a1)
{
  char result; // al@1
  unsigned __int8 v2; // dl@2
  char v3; // cl@2

  result = -1;
  if ( a1 )
  {
    v2 = *(_BYTE *)(a1 + 1);
    v3 = 0;
    if ( v2 )
    {
      while ( *(_BYTE *)(84 * (unsigned __int8)v3 + a1 + 154) != 3 )
      {
        if ( (unsigned __int8)++v3 >= v2 )
          return result;
      }
      result = v3;
    }
  }
  return result;
}

//----- (1003FC70) --------------------------------------------------------
char __cdecl sub_1003FC70(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_1003FBB0(v2);
  sub_10017820(54);
  return v1;
}

//----- (1003FCB0) --------------------------------------------------------
char __cdecl sub_1003FCB0(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_1003FBF0(v2);
  sub_10017820(54);
  return v1;
}

//----- (1003FCF0) --------------------------------------------------------
char __cdecl sub_1003FCF0(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_1003FC30(v2);
  sub_10017820(54);
  return v1;
}

//----- (1003FD30) --------------------------------------------------------
int __usercall sub_1003FD30@<eax>(unsigned __int16 a1@<di>, signed int a2, signed int a3, unsigned __int8 a4)
{
  int v4; // esi@2
  unsigned __int8 v5; // dl@4
  int v6; // eax@5
  char v7; // bl@7
  bool v8; // zf@16
  int v10; // eax@47
  unsigned __int8 v11; // [sp+Fh] [bp-2Dh]@1
  char v12; // [sp+10h] [bp-2Ch]@1
  char v13; // [sp+11h] [bp-2Bh]@1
  int v14; // [sp+14h] [bp-28h]@2
  char v15; // [sp+18h] [bp-24h]@1
  char v16; // [sp+19h] [bp-23h]@1
  char v17; // [sp+1Dh] [bp-1Fh]@7
  char v18; // [sp+20h] [bp-1Ch]@13
  char v19; // [sp+24h] [bp-18h]@13
  int v20; // [sp+28h] [bp-14h]@1
  int v21; // [sp+2Ch] [bp-10h]@1
  int v22; // [sp+30h] [bp-Ch]@1
  char v23; // [sp+35h] [bp-7h]@1

  v21 = 1600085855;
  v11 = -1;
  v15 = 1;
  v16 = 1;
  v12 = 1;
  v13 = 1;
  v20 = 1600085855;
  v22 = 1600085855;
  BYTE2(v21) = 0;
  v23 = 0;
  if ( a2 == 0xFFFFFF )
  {
    v4 = a3;
    v14 = a3;
  }
  else
  {
    v4 = a2;
    v14 = a2;
  }
  sub_10044810(&v14, a4, &v11);
  v5 = a4;
  if ( v11 == a4 )
    goto LABEL_39;
  v6 = a2;
  if ( a2 != 0xFFFFFF && a3 != 0xFFFFFF )
  {
    v7 = 0;
    v11 = 0;
    v17 = 0;
    while ( 1 )
    {
      if ( !v12 && !v13 )
      {
LABEL_37:
        if ( v11 - 1 != v5 )
        {
          v14 = 0xFFFFFF;
          v4 = 0xFFFFFF;
        }
        goto LABEL_39;
      }
      v14 = 0xFFFFFF;
      if ( v12 && !v7 )
      {
        (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v6, 5, &v18);
        sub_1004DD80(&v19, 6, (int)&v20);
        sub_1004A3B0((int)&v20, 6);
        v15 = v18 & 1;
      }
      if ( v13 && !v17 )
      {
        while ( 1 )
        {
          (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(a3, 5, &v18);
          v8 = *(_BYTE *)(dword_10505750 + 20833) == 0;
          v16 = v18 & 1;
          if ( (!v8 || !(v18 & 8)) && !(v18 & 6) )
          {
            sub_1004DD80(&v19, 6, (int)&v21 + 3);
            sub_1004A3B0((int)&v21 + 3, 6);
            goto LABEL_23;
          }
          if ( !(v18 & 1) )
            break;
          a3 += a1;
          sub_100450C0(&a3);
        }
        v13 = 0;
      }
LABEL_23:
      if ( v12 )
      {
        if ( !v13 )
          goto LABEL_28;
      }
      else if ( v13 )
      {
        goto LABEL_31;
      }
      if ( strcmp((const char *)&v20, (const char *)&v21 + 3) <= 0 )
      {
LABEL_28:
        v7 = 0;
        v4 = a2;
        v14 = a2;
        v17 = 1;
        if ( v15 )
        {
          a2 += a1;
          sub_100450C0(&a2);
        }
        else
        {
          v12 = 0;
          a2 = 0xFFFFFF;
        }
        goto LABEL_34;
      }
LABEL_31:
      v4 = a3;
      v14 = a3;
      v7 = 1;
      v17 = 0;
      if ( v16 )
      {
        a3 += a1;
        sub_100450C0(&a3);
      }
      else
      {
        v13 = 0;
        a3 = 0xFFFFFF;
      }
LABEL_34:
      v5 = a4;
      if ( ++v11 > a4 )
      {
        if ( v12 || v13 )
          goto LABEL_39;
        goto LABEL_37;
      }
      v6 = a2;
    }
  }
  if ( v11 == -1 )
  {
    v11 = 0;
    if ( a2 == 0xFFFFFF )
      v6 = a3;
    v14 = v6;
  }
  v10 = v14;
  do
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v10, 5, &v18);
    if ( (*(_BYTE *)(dword_10505750 + 20833) || !(v18 & 8)) && !(v18 & 6) )
      ++v11;
    if ( v18 & 1 || v11 - 1 >= a4 )
    {
      if ( v11 - 1 < a4 )
      {
        v14 += a1;
        sub_100450C0(&v14);
      }
    }
    else
    {
      a4 = -1;
      v14 = 0xFFFFFF;
      v4 = 0xFFFFFF;
    }
    if ( v11 - 1 >= a4 )
      break;
    if ( a4 == -1 )
      break;
    v10 = v14;
  }
  while ( v14 != 0xFFFFFF );
LABEL_39:
  if ( v11 - 1 == a4 && v4 != 0xFFFFFF )
    sub_10045110(v4, a4, v14);
  return v14;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505750: using guessed type int dword_10505750;

//----- (100400E0) --------------------------------------------------------
signed int __cdecl sub_100400E0(int a1, char a2, char a3)
{
  char v3; // bl@1
  char v5; // [sp+7h] [bp-5h]@6
  unsigned __int8 v6; // [sp+8h] [bp-4h]@2

  v3 = -1;
  while ( 1 )
  {
    (*(void (__cdecl **)(int, signed int, unsigned __int8 *))dword_10504EB4)(a1, 3, &v6);
    if ( ((v6 >> 1) & 3) == a2 )
      ++v3;
    if ( v3 >= a3 )
      break;
    if ( !(v6 & 1) )
      return 0xFFFFFF;
    a1 += (unsigned __int16)word_10505654;
    sub_10045090((int)&a1, &v5);
  }
  return a1;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505654: using guessed type __int16 word_10505654;

//----- (10040160) --------------------------------------------------------
char __usercall sub_10040160@<al>(int a1@<eax>, int a2)
{
  int v2; // esi@1
  int v3; // eax@1
  char v5; // [sp+4h] [bp-8h]@1
  int v6; // [sp+5h] [bp-7h]@1

  v2 = a1;
  (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(a2, 3, &v5);
  sub_10044850(v6, v2);
  v3 = (unsigned __int16)word_10505654 + a2;
  *(_DWORD *)(v2 + 8) = v3;
  a2 = v3;
  return sub_10045090((int)&a2, (_BYTE *)(v2 + 6));
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505654: using guessed type __int16 word_10505654;

//----- (100401C0) --------------------------------------------------------
signed int __thiscall sub_100401C0(int this)
{
  int v1; // edi@1
  signed int result; // eax@1
  int v3; // ebx@2
  int v4; // esi@2
  __int16 v5; // dx@2
  char *v6; // eax@2
  unsigned __int16 v7; // [sp+4h] [bp-A4h]@2

  v1 = this;
  result = 0xFFFFFF;
  if ( *(_WORD *)(this + 4) & 0x200 )
  {
    v3 = *(_DWORD *)this;
    v4 = v3 + sub_1003C9A0(this);
    (*(void (__cdecl **)(int, signed int, unsigned __int16 *))dword_10504EB4)(v3, 160, &v7);
    v5 = *(_WORD *)(v1 + 4);
    v6 = (char *)&v7;
    if ( v5 & 1 )
    {
      v4 += v7;
      v6 = (char *)&v7 + (unsigned __int16)word_10505622;
    }
    if ( v5 & 2 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 4 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 8 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 0x10 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( v5 & 0x40 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( (char)v5 < 0 )
    {
      v4 += *(_WORD *)v6;
      v6 += (unsigned __int16)word_10505622;
    }
    if ( *(_WORD *)(v1 + 4) & 0x100 )
      v4 += *(_WORD *)v6;
    result = v4;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505622: using guessed type __int16 word_10505622;

//----- (100402B0) --------------------------------------------------------
int __usercall sub_100402B0@<eax>(int a1@<eax>, unsigned __int8 a2)
{
  int v2; // edi@1
  signed int v3; // esi@1
  signed int v4; // eax@1
  int result; // eax@3

  v2 = a1;
  v3 = sub_10046190(a1);
  v4 = sub_10046000(v2);
  if ( v3 != 0xFFFFFF || v4 != 0xFFFFFF )
  {
    result = sub_1003FD30(word_10505652, v3, v4, a2);
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\adb\\adb_appr.c", 2874, 0, 0);
    result = 0xFFFFFF;
  }
  return result;
}
// 10505652: using guessed type __int16 word_10505652;

//----- (10040310) --------------------------------------------------------
int __usercall sub_10040310@<eax>(unsigned __int8 a1@<al>, int a2, char a3, char a4)
{
  int result; // eax@1

  result = sub_100402B0(a2, a1);
  if ( result != 0xFFFFFF )
    result = sub_100400E0((unsigned __int16)word_10505652 + result, a3, a4);
  return result;
}
// 10505652: using guessed type __int16 word_10505652;

//----- (10040340) --------------------------------------------------------
signed int __cdecl sub_10040340(unsigned __int8 a1)
{
  int v1; // ecx@0
  signed int result; // eax@1
  signed int v3; // esi@1
  unsigned __int8 v4; // bl@2
  char v5; // [sp+4h] [bp-2Ch]@3
  char v6; // [sp+2Eh] [bp-2h]@3

  result = sub_100401C0(v1);
  v3 = result;
  if ( result != 0xFFFFFF )
  {
    v4 = 0;
    if ( a1 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(v3, 43, &v5);
        if ( !(v6 & 2) )
          break;
        ++v4;
        v3 += (unsigned __int16)word_105056B0;
        if ( v4 >= a1 )
          return v3;
      }
      result = 0xFFFFFF;
    }
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 105056B0: using guessed type __int16 word_105056B0;

//----- (100403B0) --------------------------------------------------------
char __cdecl sub_100403B0(int a1, int a2, void *a3)
{
  signed int v3; // eax@1
  char result; // al@2
  char v5; // [sp+8h] [bp-8h]@1

  memset(a3, 0, 0x30u);
  sub_1003D140(a1, &v5);
  v3 = sub_10040340(a2);
  if ( v3 == 0xFFFFFF )
  {
    result = 0;
  }
  else
  {
    (*(void (__cdecl **)(signed int, signed int, void *))dword_10504EB4)(v3, 43, a3);
    result = 1;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10040410) --------------------------------------------------------
char __cdecl sub_10040410(unsigned int a1, unsigned __int8 a2, char a3, char a4, int a5)
{
  int v5; // eax@1
  char v7; // [sp+4h] [bp-8h]@1

  *(_DWORD *)a5 = 1600085855;
  *(_BYTE *)(a5 + 4) = 95;
  *(_BYTE *)(a5 + 5) = 0;
  *(_BYTE *)(a5 + 6) = 0;
  *(_DWORD *)(a5 + 8) = 0xFFFFFF;
  sub_1003D140(a1, &v7);
  v5 = sub_10040310(a2, (int)&v7, a3, a4);
  if ( v5 != 0xFFFFFF )
    LOBYTE(v5) = sub_10040160(a5, v5);
  return v5;
}

//----- (10040480) --------------------------------------------------------
int __cdecl sub_10040480(_WORD *a1, _DWORD *a2)
{
  __int16 v2; // ax@2
  int result; // eax@3

  sub_100178A0(58, 60000);
  if ( (unsigned __int8)sub_10047F90() && (v2 = *(_WORD *)(dword_10504EA0 + 2)) != 0 )
  {
    *a1 = v2;
    *a2 = 0;
    result = sub_10017820(58);
  }
  else
  {
    *a1 = 0;
    *a2 = 0x3FFFF;
    result = sub_10017820(58);
  }
  return result;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (100404E0) --------------------------------------------------------
signed int __cdecl sub_100404E0(int a1, _WORD *a2, _BYTE *a3)
{
  signed int result; // eax@1
  int v4; // ecx@2
  int v5; // edi@3
  int i; // ebx@3
  int v7; // esi@4

  result = sub_10047F90();
  if ( (_BYTE)result && (v4 = dword_10504EA0, result = *(_WORD *)(dword_10504EA0 + 2), (signed __int16)result > 0) )
  {
    v5 = (signed __int16)result - 1;
    for ( i = 0; v5 > i; v4 = dword_10504EA0 )
    {
      v7 = (v5 + i) / 2;
      if ( sub_10048A50((_BYTE *)(a1 + 4), (_BYTE *)(v4 + 56 * (*(_WORD *)(v4 + 2 * v7 + 4) + 15721) + 4), 5) <= 0 )
        v5 = (v5 + i) / 2;
      else
        i = v7 + 1;
    }
    result = sub_10048A50((_BYTE *)(a1 + 4), (_BYTE *)(v4 + 56 * (*(_WORD *)(v4 + 2 * v5 + 4) + 15721) + 4), 5);
    if ( result <= 0 )
    {
      if ( result >= 0 )
      {
        result = (signed int)a3;
        *a2 = v5;
        *a3 = 1;
      }
      else
      {
        result = (signed int)a2;
        *a2 = v5;
        *a3 = 0;
      }
    }
    else
    {
      *a2 = v5 + 1;
      *a3 = 0;
    }
  }
  else
  {
    *a2 = 0;
    *a3 = 0;
  }
  return result;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (100405E0) --------------------------------------------------------
char __usercall sub_100405E0@<al>(unsigned __int16 a1@<ax>, void *a2)
{
  unsigned __int16 v2; // si@1
  char result; // al@4

  v2 = a1;
  if ( (unsigned __int8)sub_10047F90() && v2 < 0x3E8u && *(_WORD *)(dword_10504EA0 + 56 * v2 + 880428) == v2 )
  {
    qmemcpy(a2, (const void *)(dword_10504EA0 + 56 * (v2 + 15721)), 0x38u);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (10040640) --------------------------------------------------------
int __usercall sub_10040640@<eax>(int result@<eax>, int a2@<ecx>)
{
  *(double *)result = (double)*(signed int *)a2 * 0.000000001462918079267163;
  *(double *)(result + 8) = 0.000000001462918079267163 * (double)*(signed int *)(a2 + 4);
  return result;
}

//----- (10040660) --------------------------------------------------------
char __cdecl sub_10040660(unsigned __int16 a1, int a2)
{
  char v2; // bl@1
  char result; // al@2
  int v4; // eax@3
  char v5; // [sp+8h] [bp-3Ch]@1
  char v6; // [sp+Ch] [bp-38h]@3
  char v7; // [sp+10h] [bp-34h]@3
  char v8; // [sp+2Bh] [bp-19h]@3
  char v9; // [sp+2Ch] [bp-18h]@3
  char v10; // [sp+34h] [bp-10h]@3
  char v11; // [sp+3Eh] [bp-6h]@3

  sub_100178A0(58, 60000);
  v2 = sub_100405E0(a1, &v5);
  sub_10017820(58);
  if ( v2 )
  {
    sub_1004DD80(&v6, 6, a2 + 20);
    sub_1004A3B0(a2 + 20, 6);
    v4 = sub_10040640(a2 + 4, (int)&v7);
    sub_10048BE0(v4, &v8, 25, a2 + 27);
    sub_1004A3B0(a2 + 27, 25);
    sub_10048D00(a2 + 27, (int)&v9, (int *)(a2 + 56));
    sub_10048D00(a2 + 27, (int)&v10, (int *)(a2 + 60));
    result = v11;
    *(_WORD *)a2 = 5;
    *(_BYTE *)(a2 + 64) = result;
  }
  else
  {
    *(_DWORD *)(a2 + 20) = 1600085855;
    *(_WORD *)(a2 + 24) = 24415;
    *(double *)(a2 + 4) = 6.2831853071796;
    result = -1;
    *(double *)(a2 + 12) = 6.2831853071796;
    *(_BYTE *)(a2 + 26) = 0;
    *(_BYTE *)(a2 + 27) = 0;
    *(_DWORD *)(a2 + 56) = 0x3FFFF;
    *(_DWORD *)(a2 + 60) = 0x3FFFF;
    *(_WORD *)a2 = -1;
    *(_BYTE *)(a2 + 64) = 0;
  }
  return result;
}

//----- (10040770) --------------------------------------------------------
int __cdecl sub_10040770(unsigned __int16 a1, int a2)
{
  char v3; // [sp+4h] [bp-3Ch]@1
  char v4; // [sp+8h] [bp-38h]@3

  sub_100178A0(58, 60000);
  if ( sub_100405E0(a1, &v3) )
  {
    sub_1004DD80(&v4, 6, a2);
    sub_1004A3B0(a2, 6);
  }
  else
  {
    *(_DWORD *)a2 = 1600085855;
    *(_WORD *)(a2 + 4) = 24415;
    *(_BYTE *)(a2 + 6) = 0;
  }
  return sub_10017820(58);
}

//----- (10040800) --------------------------------------------------------
int __cdecl sub_10040800(unsigned __int16 a1, int a2)
{
  char v3; // [sp+4h] [bp-3Ch]@1
  char v4; // [sp+Ch] [bp-34h]@3

  sub_100178A0(58, 60000);
  if ( sub_100405E0(a1, &v3) )
  {
    sub_10040640(a2, (int)&v4);
  }
  else
  {
    *(double *)a2 = 6.2831853071796;
    *(double *)(a2 + 8) = 6.2831853071796;
  }
  return sub_10017820(58);
}

//----- (10040870) --------------------------------------------------------
int __cdecl sub_10040870(unsigned __int16 a1, int a2)
{
  int v2; // edx@3
  char v4; // [sp+4h] [bp-3Ch]@1
  int v5; // [sp+Ch] [bp-34h]@3
  int v6; // [sp+10h] [bp-30h]@3

  sub_100178A0(58, 60000);
  if ( sub_100405E0(a1, &v4) )
  {
    v2 = v6;
    *(_DWORD *)a2 = v5;
    *(_DWORD *)(a2 + 4) = v2;
  }
  else
  {
    *(_DWORD *)a2 = 2147483648;
    *(_DWORD *)(a2 + 4) = 2147483648;
  }
  return sub_10017820(58);
}

//----- (100408E0) --------------------------------------------------------
signed int __cdecl sub_100408E0(int a1, _WORD *a2, _BYTE *a3)
{
  char v4; // [sp+8h] [bp-Ch]@1

  sub_10048A80(a1, (int)&v4);
  return sub_100404E0((int)&v4, a2, a3);
}

//----- (10040930) --------------------------------------------------------
signed int __cdecl sub_10040930(int a1)
{
  signed int v1; // esi@1
  char v3; // [sp+7h] [bp-5h]@1
  __int16 v4; // [sp+8h] [bp-4h]@1

  v1 = 0x3FFFF;
  sub_100178A0(58, 60000);
  sub_100408E0(a1, &v4, &v3);
  if ( v3 )
    v1 = *(_WORD *)(dword_10504EA0 + 2 * v4 + 4);
  sub_10017820(58);
  return v1;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (10040990) --------------------------------------------------------
int __cdecl sub_10040990(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@1
  int v4; // ecx@3

  sub_100178A0(54, 60000);
  v3 = sub_10049A80(a1);
  if ( v3 && a2 < *(_BYTE *)(v3 + 1) )
  {
    v4 = 84 * a2;
    *(_DWORD *)a3 = *(_DWORD *)(v4 + v3 + 131);
    *(_BYTE *)(a3 + 4) = *(_BYTE *)(v4 + v3 + 135);
  }
  return sub_10017820(54);
}

//----- (100409E0) --------------------------------------------------------
char __cdecl sub_100409E0(unsigned __int8 a1, unsigned __int8 a2)
{
  char v2; // bl@1
  int v3; // eax@1

  v2 = 0;
  sub_100178A0(54, 60000);
  v3 = sub_10049A80(a1);
  if ( v3 && a2 < *(_BYTE *)(v3 + 1) )
    v2 = *(_BYTE *)(84 * a2 + v3 + 125);
  sub_10017820(54);
  return v2;
}

//----- (10040A30) --------------------------------------------------------
char __cdecl sub_10040A30(unsigned __int8 a1, unsigned __int8 a2)
{
  int v2; // eax@1
  char v3; // bl@1

  sub_100178A0(54, 60000);
  v2 = sub_10049A80(a1);
  v3 = 0;
  if ( v2 && a2 < *(_BYTE *)(v2 + 1) )
    v3 = *(_BYTE *)(84 * a2 + v2 + 127);
  sub_10017820(54);
  return v3;
}

//----- (10040A80) --------------------------------------------------------
int __cdecl sub_10040A80(int a1, int a2)
{
  int result; // eax@1

  result = a2;
  *(float *)a2 = 6.2831855;
  *(float *)(a2 + 4) = 6.2831855;
  switch ( *(_BYTE *)a1 )
  {
    case 1:
    case 4:
    case 0x12:
    case 0x14:
    case 0x15:
      *(_DWORD *)a2 = *(_DWORD *)(a1 + 44);
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 48);
      break;
    case 2:
    case 5:
    case 0x13:
    case 0x16:
      *(_DWORD *)a2 = *(_DWORD *)(a1 + 52);
      *(_DWORD *)(a2 + 4) = *(_DWORD *)(a1 + 56);
      break;
    default:
      return result;
  }
  return result;
}

//----- (10040AF0) --------------------------------------------------------
char __cdecl sub_10040AF0(unsigned __int8 a1)
{
  int v1; // eax@1
  char v2; // bl@3
  char result; // al@3

  sub_100178A0(54, 60000);
  v1 = sub_10049A80(a1);
  if ( v1 && *(_DWORD *)(v1 + 104) != 0x3FFFF )
  {
    v2 = *(_BYTE *)(v1 + 88);
    sub_10017820(54);
    result = v2;
  }
  else
  {
    sub_10017820(54);
    result = -1;
  }
  return result;
}

//----- (10040B40) --------------------------------------------------------
signed int __cdecl sub_10040B40(unsigned __int8 a1)
{
  signed int v1; // esi@1
  int v2; // eax@1
  char v3; // cl@2

  v1 = 0x3FFFF;
  sub_100178A0(54, 60000);
  v2 = sub_10049A80(a1);
  if ( v2 )
  {
    v3 = *(_BYTE *)(v2 + 1);
    if ( v3 )
    {
      if ( *(_BYTE *)(v2 + 90) == -1 || (v1 = *(_DWORD *)(v2 + 104), v1 == 0x3FFFF) )
      {
        if ( *(_BYTE *)(v2 + 60) == 3 || *(_BYTE *)(v2 + 61) == 3 || (v1 = *(_DWORD *)(v2 + 64), v1 == 0x3FFFF) )
          v1 = sub_1004DBB0(84 * (unsigned __int8)(v3 - 1) + v2 + 148);
      }
    }
  }
  sub_10017820(54);
  return v1;
}

//----- (10040BC0) --------------------------------------------------------
int __cdecl sub_10040BC0(int a1, char a2, void *a3)
{
  int v3; // eax@1
  int result; // eax@3

  sub_100178A0(54, 60000);
  v3 = sub_10049A80(a1);
  if ( v3 && (unsigned __int8)a2 < *(_BYTE *)(v3 + 1) )
  {
    qmemcpy(a3, (const void *)(84 * (unsigned __int8)a2 + v3 + 148), 0x3Cu);
    result = sub_10017820(54);
  }
  else
  {
    memset(a3, 0, 0x3Cu);
    *(_BYTE *)a3 = 24;
    *((_BYTE *)a3 + 1) = 0;
    *((_BYTE *)a3 + 4) = 0;
    *((_BYTE *)a3 + 6) = 0;
    *((_BYTE *)a3 + 7) = 4;
    result = sub_10017820(54);
  }
  return result;
}

//----- (10040C40) --------------------------------------------------------
signed int __cdecl sub_10040C40(unsigned __int8 a1)
{
  signed int v1; // esi@1
  int v2; // eax@1

  v1 = 0x3FFFF;
  sub_100178A0(54, 60000);
  v2 = sub_10049A80(a1);
  if ( v2 )
  {
    if ( *(_BYTE *)(v2 + 1) > 1u )
    {
      if ( *(_BYTE *)(v2 + 20) == 3 || *(_BYTE *)(v2 + 21) == 3 || (v1 = *(_DWORD *)(v2 + 24), v1 == 0x3FFFF) )
        v1 = sub_1004DBB0(v2 + 148);
    }
  }
  sub_10017820(54);
  return v1;
}

//----- (10040CA0) --------------------------------------------------------
int __cdecl sub_10040CA0(unsigned __int8 a1, int a2, _BYTE *a3, int a4, _DWORD *a5, _BYTE *a6, int a7)
{
  int v7; // eax@1
  char v8; // cl@2
  __int16 v9; // ax@5
  char v10; // dl@5
  char v11; // cl@5
  int v13; // [sp+18h] [bp-20h]@1
  int v14; // [sp+1Ch] [bp-1Ch]@1
  int v15; // [sp+20h] [bp-18h]@1
  int v16; // [sp+24h] [bp-14h]@1
  int v17; // [sp+28h] [bp-10h]@4
  int v18; // [sp+2Ch] [bp-Ch]@4
  int v19; // [sp+30h] [bp-8h]@4

  *a3 = 3;
  v13 = 538976288;
  v14 = 538976288;
  v15 = 538976288;
  v16 = 538976288;
  *a6 = 3;
  sub_100178A0(54, 60000);
  v7 = sub_10049A80(a1);
  if ( v7 )
  {
    v8 = *(_BYTE *)(v7 + 20);
    if ( v8 != 3 && *(_BYTE *)(v7 + 21) != 3 )
    {
      *a3 = v8;
      *a5 = *(_DWORD *)(v7 + 48);
      *a6 = *(_BYTE *)(v7 + 21);
      v17 = *(_DWORD *)(v7 + 36);
      v18 = *(_DWORD *)(v7 + 40);
      v19 = *(_DWORD *)(v7 + 44);
      sub_10048BE0((int)&v13, (_BYTE *)&v19 + 3, 16, (int)&v13);
    }
  }
  sub_10017820(54);
  v9 = v14;
  *(_DWORD *)a2 = v13;
  *(_WORD *)(a2 + 4) = v9;
  *(_BYTE *)(a2 + 6) = 0;
  sub_1004A3B0(a2, 6);
  v10 = BYTE2(v15);
  *(_DWORD *)a4 = *(int *)((char *)&v14 + 2);
  *(_BYTE *)(a4 + 4) = v10;
  *(_BYTE *)(a4 + 5) = 0;
  sub_1004A3B0(a4, 5);
  v11 = BYTE3(v16);
  *(_DWORD *)a7 = *(int *)((char *)&v15 + 3);
  *(_BYTE *)(a7 + 4) = v11;
  *(_BYTE *)(a7 + 5) = 0;
  return sub_1004A3B0(a7, 5);
}

//----- (10040DC0) --------------------------------------------------------
char __cdecl sub_10040DC0(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1
  int v3; // esi@1
  char v4; // al@2
  unsigned __int8 v5; // dl@2
  char v6; // cl@3

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  v3 = v2;
  if ( v2 )
  {
    v4 = sub_1003FBB0(v2);
    v5 = *(_BYTE *)(v3 + 1);
    if ( (unsigned __int8)v4 < v5 )
    {
      while ( 1 )
      {
        v6 = *(_BYTE *)(84 * (unsigned __int8)v4 + v3 + 154);
        if ( v6 == 1 || v6 == 8 )
          break;
        if ( (unsigned __int8)++v4 >= v5 )
        {
          sub_10017820(54);
          return -1;
        }
      }
      v1 = v4;
    }
  }
  sub_10017820(54);
  return v1;
}

//----- (10040E40) --------------------------------------------------------
char __cdecl sub_10040E40(unsigned __int8 a1, char *a2)
{
  char v2; // al@2
  char v3; // dl@2
  char result; // al@3

  if ( (unsigned __int8)sub_10047F90() )
  {
    v2 = *a2;
    v3 = *(_BYTE *)(8524 * a1 + dword_10504EA0 + 2006);
    if ( *a2 != v3 )
    {
      result = 1;
      *a2 = v3;
      return result;
    }
  }
  else
  {
    v2 = 0;
  }
  *a2 = v2;
  return 0;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (10040E80) --------------------------------------------------------
char __cdecl sub_10040E80(unsigned __int8 a1, unsigned __int8 a2)
{
  char v2; // bl@1
  int v3; // eax@1
  int v4; // ecx@3
  char v5; // al@3
  char v6; // al@7

  v2 = 1;
  sub_100178A0(54, 60000);
  v3 = sub_10049A80(a1);
  if ( !v3 || a2 >= *(_BYTE *)(v3 + 1) )
    goto LABEL_21;
  v4 = v3 + 84 * a2;
  v5 = *(_BYTE *)(v4 + 148);
  if ( v5 == 14 || v5 == 17 )
  {
    if ( a2 && !(*(_BYTE *)(v4 + 65) & 8) )
      goto LABEL_22;
    goto LABEL_21;
  }
  if ( v5 != 6 )
    goto LABEL_22;
  if ( !a2
    || (v6 = *(_BYTE *)(v4 + 64), v6 == 1)
    || v6 == 2
    || v6 == 4
    || v6 == 5
    || v6 == 7
    || v6 == 10
    || v6 == 18
    || v6 == 19
    || v6 == 20
    || v6 == 21 )
  {
LABEL_21:
    v2 = 0;
    goto LABEL_22;
  }
  if ( v6 == 22 )
  {
    sub_10017820(54);
    return 0;
  }
LABEL_22:
  sub_10017820(54);
  return v2;
}

//----- (10040F20) --------------------------------------------------------
signed int __cdecl sub_10040F20(unsigned __int8 a1)
{
  signed int v1; // esi@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = 0x3FFFF;
  v2 = sub_10049A80(a1);
  if ( v2 && *(_BYTE *)(v2 + 20) != 3 && *(_BYTE *)(v2 + 21) != 3 )
    v1 = *(_DWORD *)(v2 + 24);
  sub_10017820(54);
  return v1;
}

//----- (10040F60) --------------------------------------------------------
char __cdecl sub_10040F60(int a1)
{
  unsigned __int8 v1; // bl@1
  char result; // al@1
  char v3; // cl@1
  char v4; // dl@2

  v1 = *(_BYTE *)(a1 + 1);
  result = -1;
  v3 = 0;
  if ( v1 )
  {
    while ( 1 )
    {
      v4 = *(_BYTE *)(84 * (unsigned __int8)v3 + a1 + 154);
      if ( v4 == 2 || v4 == 8 )
        break;
      if ( (unsigned __int8)++v3 >= v1 )
        return result;
    }
    result = v3;
  }
  return result;
}

//----- (10040FA0) --------------------------------------------------------
char __cdecl sub_10040FA0(int a1)
{
  unsigned __int8 v1; // dl@1
  char result; // al@1
  char v3; // cl@1

  v1 = *(_BYTE *)(a1 + 1);
  result = -1;
  v3 = 0;
  if ( v1 )
  {
    while ( !(*(_BYTE *)(84 * (unsigned __int8)v3 + a1 + 125) & 2) )
    {
      if ( (unsigned __int8)++v3 >= v1 )
        return result;
    }
    result = v3;
  }
  return result;
}

//----- (10040FD0) --------------------------------------------------------
char __cdecl sub_10040FD0(int a1)
{
  char result; // al@1
  int v2; // ecx@2
  _BYTE *v3; // edx@3

  result = -1;
  if ( a1 )
  {
    v2 = *(_BYTE *)(a1 + 1) - 1;
    if ( v2 >= 0 )
    {
      v3 = (_BYTE *)(84 * v2 + a1 + 125);
      while ( !(*v3 & 2) )
      {
        --v2;
        v3 -= 84;
        if ( v2 < 0 )
          return result;
      }
      result = v2;
    }
  }
  return result;
}

//----- (10041010) --------------------------------------------------------
char __cdecl sub_10041010(int a1)
{
  unsigned __int8 v1; // dl@1
  char result; // al@1
  char v3; // cl@1

  v1 = *(_BYTE *)(a1 + 1);
  result = -1;
  v3 = 0;
  if ( v1 )
  {
    while ( *(_BYTE *)(84 * (unsigned __int8)v3 + a1 + 154) != 4 )
    {
      if ( (unsigned __int8)++v3 >= v1 )
        return result;
    }
    result = v3;
  }
  return result;
}

//----- (10041040) --------------------------------------------------------
int __cdecl sub_10041040(int a1, int a2, _BYTE *a3, _BYTE *a4, int a5, int a6, float *a7)
{
  char v7; // cl@2
  int v8; // edx@3
  int v9; // edx@3
  char v11; // [sp+13h] [bp-21h]@3
  int v12; // [sp+14h] [bp-20h]@3
  int v13; // [sp+18h] [bp-1Ch]@1
  int v14; // [sp+1Ch] [bp-18h]@3
  float *v15; // [sp+20h] [bp-14h]@1
  char v16; // [sp+24h] [bp-10h]@3
  int v17; // [sp+28h] [bp-Ch]@3
  int v18; // [sp+2Ch] [bp-8h]@3

  v13 = a5;
  v15 = a7;
  if ( a1 && (v7 = *(_BYTE *)(a1 + 90), v7 != -1) )
  {
    *a3 = v7;
    v14 = *(_DWORD *)(a1 + 96);
    sub_10048BE0(v14, (_BYTE *)&v14 + 3, 5, a2);
    v12 = *(_DWORD *)(a1 + 100);
    sub_10048BE0((int)&v12 + 3, (_BYTE *)&v12 + 3, 5, a6);
    v8 = *(_DWORD *)(a1 + 120);
    v17 = *(_DWORD *)(a1 + 116);
    v18 = v8;
    sub_10048C60((int)&v17, v13, (int)&v16, &v11);
    *a4 = *(_BYTE *)(a1 + 89);
    v9 = 84 * (unsigned __int8)sub_1003FC30(a1);
    *v15 = *(float *)(v9 + a1 + 172);
  }
  else
  {
    *(_DWORD *)a2 = 538976288;
    *(_BYTE *)(a2 + 4) = 32;
    *a3 = -1;
  }
  *(_BYTE *)(a6 + 5) = 0;
  sub_1004A3B0(a6, 5);
  *(_BYTE *)(a2 + 5) = 0;
  return sub_1004A3B0(a2, 5);
}

//----- (10041140) --------------------------------------------------------
int __usercall sub_10041140@<eax>(float *a1@<esi>, float a2, float a3, float a4, float a5, int a6)
{
  double v6; // st7@1
  double v7; // st7@6
  int result; // eax@6
  float v9; // [sp+Ch] [bp+8h]@1

  v6 = a2;
  v9 = a3 - a2;
  if ( LOBYTE(a5) == 1 )
  {
    *a1 = v6 - 1.570796370506287;
    if ( v9 > 0.0 )
      v9 = v9 - 6.283185482025146;
  }
  else
  {
    *a1 = v6 + 1.570796370506287;
    if ( v9 < 0.0 )
      v9 = v9 + 6.283185482025146;
  }
  v7 = sub_100637E0(*a1);
  result = a6;
  *a1 = v7;
  *(float *)a6 = COERCE_FLOAT(LODWORD(v9) & 0x7FFFFFFF) * a4;
  return result;
}

//----- (100411E0) --------------------------------------------------------
char __usercall sub_100411E0@<al>(int a1@<edi>, int a2@<esi>, unsigned int a3)
{
  signed int v3; // ebp@1
  char v4; // dl@3
  bool v5; // zf@4
  char result; // al@4
  char v7; // [sp+8h] [bp-10h]@3
  char v8; // [sp+9h] [bp-Fh]@3
  char v9; // [sp+Ah] [bp-Eh]@3
  char v10; // [sp+Ch] [bp-Ch]@3

  v3 = 3;
  if ( isdigit(*(_BYTE *)(a1 + 3)) )
    v3 = 4;
  v4 = *(_BYTE *)(a2 + 11);
  v7 = *(_BYTE *)(a2 + 12);
  v8 = v4;
  v9 = 0;
  sub_1004A3B0((int)&v7, 0);
  sub_1003F1F0(a3, (int)&v10);
  if ( strcmp((const char *)(a2 + 1), &v10) || (v5 = strcmp((const char *)(a1 + v3), &v7) == 0, result = 1, !v5) )
    result = 0;
  return result;
}

//----- (100412C0) --------------------------------------------------------
double __usercall sub_100412C0@<st0>(int a1@<eax>, int a2@<ecx>, int a3@<esi>, unsigned int a4)
{
  unsigned int v4; // esi@1
  double v5; // st7@5
  float v6; // ST0C_4@12
  double result; // st7@13
  __int64 v8; // [sp-8h] [bp-10h]@1
  float v9; // [sp+0h] [bp-8h]@1
  float v10; // [sp+0h] [bp-8h]@7
  float v11; // [sp+0h] [bp-8h]@10
  float v12; // [sp+4h] [bp-4h]@1
  float v13; // [sp+4h] [bp-4h]@12

  v12 = *(float *)(a2 + 12);
  HIDWORD(v8) = a3;
  v4 = 0x3FFFF;
  v9 = -1.0;
  if ( !a1 )
    goto LABEL_17;
  if ( *(_BYTE *)(a1 + 7) != 4 )
    v9 = *(float *)(a1 + 12);
  v4 = *(_DWORD *)(a1 + 36);
  if ( v9 > 0.0 )
  {
    v5 = v12 - v9;
  }
  else
  {
LABEL_17:
    LODWORD(v8) = v4;
    if ( sub_1003C3E0(v8) != 5 || (v10 = sub_1003E1C0(v4), 9.9999996e24 == v10) )
      v10 = sub_10048EE0(a4);
    v5 = v12 - v10;
  }
  v11 = v5;
  if ( v11 <= 30.47999954223633 )
    v11 = 30.48;
  v6 = v11 * 3.280839920043945 / 500.0 * 1852.0;
  v13 = v6 + 1.0;
  if ( v13 >= 9260.0 )
    result = (float)9260.0;
  else
    result = v13;
  return result;
}
// 100412C0: could not find valid save-restore pair for esi

//----- (100413C0) --------------------------------------------------------
double *__cdecl sub_100413C0(unsigned int a1, int a2, int a3, int a4, int a5, int a6)
{
  signed int v6; // eax@1
  float v7; // ST20_4@3
  double *result; // eax@3
  float v9; // ST20_4@5
  int v10; // edi@8
  bool v11; // zf@9
  char v12; // al@11
  int v13; // esi@12
  char v14; // al@12
  float v15; // ST20_4@13
  float v16; // ST20_4@13
  double v17; // st7@13
  float v18; // ST10_4@15
  int v19; // ecx@21
  int v20; // edx@21
  int v21; // ecx@21
  int v22; // edx@23
  int v23; // ecx@23
  int v24; // edx@23
  float v25; // [sp+Ch] [bp-44h]@8
  int *v26; // [sp+10h] [bp-40h]@8
  int v27; // [sp+20h] [bp-30h]@8
  int v28; // [sp+24h] [bp-2Ch]@21
  int v29; // [sp+28h] [bp-28h]@21
  int v30; // [sp+2Ch] [bp-24h]@21
  int v31; // [sp+30h] [bp-20h]@8
  int v32; // [sp+40h] [bp-10h]@12

  v6 = sub_1004DBB0(a3);
  if ( v6 == 0x3FFFF )
  {
    *(_DWORD *)a6 = *(_DWORD *)a5;
    *(_DWORD *)(a6 + 4) = *(_DWORD *)(a5 + 4);
    *(_DWORD *)(a6 + 8) = *(_DWORD *)(a5 + 8);
    result = *(double **)(a5 + 12);
    *(_DWORD *)(a6 + 12) = result;
  }
  else
  {
    switch ( *(_BYTE *)a3 )
    {
      case 1:
      case 0x12:
        v7 = sub_100412C0(a2, a3, a3, a1);
        result = (double *)sub_100218A0(a5, v7, *(float *)(a3 + 40), 1, a6);
        break;
      case 0x15:
        result = (double *)sub_100218A0(a5, 9260.0, *(float *)(a3 + 40), 1, a6);
        break;
      case 7:
        sub_1003C1C0(0, v6, (double *)a5);
        v9 = sub_100412C0(a2, a3, a3, a1);
        result = (double *)sub_100218A0(a5, v9, *(float *)(a3 + 40), 1, a6);
        break;
      case 0xA:
        sub_1003C1C0(0, v6, (double *)a5);
        result = (double *)sub_100218A0(a5, 9260.0, *(float *)(a3 + 40), 1, a6);
        break;
      case 8:
        sub_1003C1C0(0, v6, (double *)a5);
        result = (double *)sub_100218A0(a5, *(float *)(a3 + 44), *(float *)(a3 + 40), 1, a6);
        break;
      case 2:
      case 0x13:
        sub_1003C1C0(0, *(_DWORD *)(a3 + 44), (double *)&v31);
        v10 = a5;
        v26 = &v27;
        v25 = *(float *)(a3 + 40);
        goto LABEL_9;
      case 4:
      case 0x14:
        v12 = sub_1004DBB0(a4);
        switch ( *(_BYTE *)a4 )
        {
          case 0:
            sub_1003C1C0(0, *(_DWORD *)(a4 + 40), (double *)&v32);
            v13 = a5;
            v14 = sub_10024640(a5, *(float *)(a3 + 40), (int)&v32, *(float *)(a4 + 44), 0, (int)&v27);
            goto LABEL_16;
          case 3:
            sub_1003C1C0(0, v12, (double *)&v31);
            v15 = *(float *)(a4 + 40) + 3.141592741012573;
            v16 = sub_100637E0(v15);
            v17 = v16;
            goto LABEL_15;
          case 7:
          case 8:
          case 9:
          case 0xA:
            sub_1003C1C0(0, v12, (double *)&v31);
            v17 = *(float *)(a4 + 40);
LABEL_15:
            v18 = v17;
            v13 = a5;
            v14 = sub_100238F0(a5, *(float *)(a3 + 40), (int)&v31, v18, (int)&v27);
LABEL_16:
            v11 = v14 == 0;
            result = (double *)a6;
            if ( !v11 )
              goto LABEL_23;
            *(_DWORD *)a6 = *(_DWORD *)v13;
            *(_DWORD *)(a6 + 4) = *(_DWORD *)(v13 + 4);
            *(_DWORD *)(a6 + 8) = *(_DWORD *)(v13 + 8);
            *(_DWORD *)(a6 + 12) = *(_DWORD *)(v13 + 12);
            break;
          default:
            *(_DWORD *)a6 = *(_DWORD *)a5;
            *(_DWORD *)(a6 + 4) = *(_DWORD *)(a5 + 4);
            *(_DWORD *)(a6 + 8) = *(_DWORD *)(a5 + 8);
            result = *(double **)(a5 + 12);
            *(_DWORD *)(a6 + 12) = result;
            break;
        }
        break;
      case 5:
      case 0x16:
        sub_1003C1C0(0, *(_DWORD *)(a3 + 44), (double *)&v32);
        v11 = sub_100238F0(a5, *(float *)(a3 + 40), (int)&v32, *(float *)(a3 + 48), (int)&v27) == 0;
        result = (double *)a6;
        if ( v11 )
        {
          *(_DWORD *)a6 = *(_DWORD *)a5;
          *(_DWORD *)(a6 + 4) = *(_DWORD *)(a5 + 4);
          *(_DWORD *)(a6 + 8) = *(_DWORD *)(a5 + 8);
          *(_DWORD *)(a6 + 12) = *(_DWORD *)(a5 + 12);
        }
        else
        {
          v19 = v28;
          *(_DWORD *)a6 = v27;
          v20 = v29;
          *(_DWORD *)(a6 + 4) = v19;
          v21 = v30;
          *(_DWORD *)(a6 + 8) = v20;
          *(_DWORD *)(a6 + 12) = v21;
        }
        break;
      case 9:
        v10 = a5;
        sub_1003C1C0(0, v6, (double *)a5);
        sub_1003C1C0(0, *(_DWORD *)(a3 + 44), (double *)&v31);
        v26 = &v27;
        v25 = *(float *)(a3 + 40);
LABEL_9:
        v11 = sub_100246B0((int)&v31, *(float *)(a3 + 48), v10, v25, (int)v26) == 0;
        result = (double *)a6;
        if ( v11 )
        {
          *(_DWORD *)a6 = *(_DWORD *)v10;
          *(_DWORD *)(a6 + 4) = *(_DWORD *)(v10 + 4);
          *(_DWORD *)(a6 + 8) = *(_DWORD *)(v10 + 8);
          *(_DWORD *)(a6 + 12) = *(_DWORD *)(v10 + 12);
        }
        else
        {
LABEL_23:
          v22 = v28;
          *(_DWORD *)result = v27;
          v23 = v29;
          *((_DWORD *)result + 1) = v22;
          v24 = v30;
          *((_DWORD *)result + 2) = v23;
          *((_DWORD *)result + 3) = v24;
        }
        break;
      default:
        result = sub_1003C1C0(0, v6, (double *)a6);
        break;
    }
  }
  return result;
}

//----- (10041810) --------------------------------------------------------
char __cdecl sub_10041810(unsigned __int8 a1, unsigned int *a2, _BYTE *a3, char *a4, _BYTE *a5, int *a6, char *a7, _BYTE *a8)
{
  signed int v8; // eax@1
  __int64 v9; // ST28_8@1
  char result; // al@1
  int v11; // ecx@4
  int *v12; // edx@4
  int v13; // [sp+18h] [bp-28h]@2
  int *v14; // [sp+1Ch] [bp-24h]@1
  int v15; // [sp+20h] [bp-20h]@1
  char v16; // [sp+24h] [bp-1Ch]@2
  char v17; // [sp+2Ch] [bp-14h]@2
  char v18; // [sp+34h] [bp-Ch]@2

  *a2 = 0x3FFFF;
  *a3 = -1;
  *a4 = 3;
  *a5 = -1;
  *a6 = 0x3FFFF;
  *a7 = 3;
  v14 = a6;
  *a8 = -1;
  v8 = sub_10040F20(a1);
  LODWORD(v9) = v8;
  v15 = v8;
  result = sub_1003C3E0(v9);
  if ( !result )
  {
    result = sub_10040CA0(a1, (int)&v16, a4, (int)&v17, &v13, a7, (int)&v18);
    if ( *a4 != 3 && *a7 != 3 )
    {
      v11 = v13;
      v12 = v14;
      *a2 = v15;
      *v12 = v11;
      sub_10046660(*a2, &v16, *a4, &v17, a3, (signed int)a5);
      result = sub_10046660(*a2, &v16, *a7, &v18, a3, (signed int)a8);
    }
  }
  return result;
}

//----- (10041910) --------------------------------------------------------
void __cdecl sub_10041910(int a1, unsigned __int8 a2, char *a3, char *a4, int a5, bool *a6)
{
  char *v6; // edi@1
  bool v7; // zf@1
  unsigned int v8; // esi@2
  bool v9; // bl@4
  char v10; // al@17
  char v11; // al@30
  char v12; // dl@30
  char v13; // cl@45
  bool v14; // al@57
  char v15; // [sp+1Bh] [bp-EDh]@9
  char v16; // [sp+1Ch] [bp-ECh]@4
  char v17; // [sp+1Eh] [bp-EAh]@1
  char v18; // [sp+1Fh] [bp-E9h]@1
  unsigned int v19; // [sp+20h] [bp-E8h]@2
  char *v20; // [sp+24h] [bp-E4h]@1
  bool *v21; // [sp+28h] [bp-E0h]@1
  char *v22; // [sp+2Ch] [bp-DCh]@1
  char v23; // [sp+30h] [bp-D8h]@1
  char v24; // [sp+39h] [bp-CFh]@1
  char v25; // [sp+3Ah] [bp-CEh]@19
  char v26[8]; // [sp+3Dh] [bp-CBh]@3
  int v27; // [sp+45h] [bp-C3h]@5
  char v28; // [sp+64h] [bp-A4h]@6
  int v29; // [sp+8Ch] [bp-7Ch]@8
  char v30; // [sp+D4h] [bp-34h]@5

  v6 = a4;
  v22 = a3;
  v20 = a4;
  v21 = a6;
  sub_10046870(a1, a2, (int)&v23);
  sub_10017B40(6751, &v18, 1, &unk_10087596);
  sub_10017650(123, &v17);
  *a3 = 15;
  *a4 = 15;
  v7 = v24 == 0;
  *(_BYTE *)a5 = 0;
  *(_BYTE *)(a5 + 1) = 0;
  *(_BYTE *)(a5 + 2) = 0;
  *a6 = 0;
  if ( !v7 )
  {
    v8 = 0;
    v19 = 0;
    while ( 2 )
    {
      switch ( v26[v8] )
      {
        case 3:
          v16 = 1;
          v9 = 0;
          if ( sub_10016C40() && sub_100403B0(a1, v27, &v30) )
          {
            sub_1004DE80((int)&v30, (int)&v28);
            if ( v28 )
            {
              if ( sub_100411E0((int)&v23, (int)&v28, a1) && (unsigned __int8)sub_10049B50(v29) )
              {
                v8 = v19;
                v6 = v20;
                v9 = 1;
                v15 = 1;
                goto LABEL_40;
              }
              v8 = v19;
              v6 = v20;
            }
            v9 = 0;
          }
          v15 = 0;
          goto LABEL_40;
        case 1:
        case 2:
        case 4:
          v16 = 1;
          v9 = sub_10016C40() && (unsigned __int8)sub_10049B50(15);
          v10 = v26[v8];
          if ( v10 != 1 )
            v9 = v9 && !v25;
          if ( v10 == 4 )
          {
            if ( !v9 || !v17 )
            {
              v9 = 0;
              goto LABEL_29;
            }
            v9 = 1;
          }
          else if ( !v9 )
          {
            goto LABEL_29;
          }
          v15 = 1;
          if ( sub_10049AC0(556.0, 100.0) )
            goto LABEL_30;
LABEL_29:
          v15 = 0;
LABEL_30:
          v11 = v18;
          v12 = v18;
          if ( v18 )
          {
            if ( v26[v8] == 1 )
            {
              *(_BYTE *)(a5 + 1) = 1;
            }
            else if ( v26[v8] == 2 || v26[v8] == 4 )
            {
              *(_BYTE *)(a5 + 2) = 1;
            }
            else
            {
              v26[v8] = 15;
            }
          }
LABEL_41:
          if ( v26[v8] != 15 )
          {
            if ( !v16 || v9 || v11 )
            {
              v13 = v26[v8];
              if ( *v22 == 15 || (unsigned __int8)*v22 < (unsigned __int8)v13 )
                *v22 = v13;
            }
            else
            {
              v13 = v26[v8];
            }
            if ( v13 != 15 && (!v16 || v15 || v12) && (*v6 == 15 || (unsigned __int8)*v6 < (unsigned __int8)v13) )
            {
              *v6 = v13;
              v14 = v16 && v15;
              *v21 = v14;
            }
          }
          v19 = ++v8;
          if ( v8 < 4 )
            continue;
          if ( !*v6 )
            *(_BYTE *)a5 = 0;
          if ( !*v21 )
          {
            if ( *v6 == 1 )
              *(_BYTE *)(a5 + 1) = 0;
            if ( *v6 == 2 || *v6 == 4 )
              *(_BYTE *)(a5 + 2) = 0;
          }
          break;
        case 0:
          *(_BYTE *)a5 = 1;
          goto LABEL_39;
        default:
          v26[v8] = 15;
LABEL_39:
          v9 = 0;
          v15 = 0;
          v16 = 0;
LABEL_40:
          v11 = 0;
          v12 = 0;
          goto LABEL_41;
      }
      break;
    }
  }
}
// 10041910: using guessed type char var_CB[8];

//----- (10041C20) --------------------------------------------------------
char __cdecl sub_10041C20(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_10040F60(v2);
  sub_10017820(54);
  return v1;
}

//----- (10041C60) --------------------------------------------------------
char __cdecl sub_10041C60(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1
  int v3; // esi@1
  char result; // al@11
  char v5; // [sp+8h] [bp-24h]@1
  unsigned __int8 v6; // [sp+9h] [bp-23h]@1
  char v7; // [sp+Ah] [bp-22h]@1
  char v8; // [sp+Bh] [bp-21h]@1
  int v9; // [sp+Ch] [bp-20h]@1
  unsigned int v10; // [sp+10h] [bp-1Ch]@1
  int v11; // [sp+14h] [bp-18h]@1
  char v12; // [sp+18h] [bp-14h]@1
  char v13; // [sp+1Ch] [bp-10h]@5
  unsigned __int8 v14; // [sp+22h] [bp-Ah]@8

  sub_10041810(a1, &v10, &v11, &v7, &v9, (int *)&v12, &v5, &v8);
  v6 = -1;
  v1 = -1;
  v5 = -1;
  sub_100178A0(54, 60000);
  v2 = sub_10049A80(a1);
  v3 = v2;
  if ( v2 )
  {
    v1 = sub_10040FA0(v2);
    v5 = sub_10040FD0(v3);
    if ( v1 != -1 && !*(_BYTE *)(v3 + 22) )
    {
      if ( !v7 )
      {
        sub_10040410(v10, v11, 0, v9, (int)&v13);
LABEL_8:
        v6 = v14;
        goto LABEL_9;
      }
      if ( v7 == 1 )
      {
        sub_10040410(v10, v11, 1, v9, (int)&v13);
        if ( !strncmp(&v13, "RW", 2u) )
          goto LABEL_8;
      }
    }
  }
LABEL_9:
  sub_10017820(54);
  if ( v6 == -1 || v6 + (unsigned __int8)v1 > (unsigned __int8)v5 )
    result = -1;
  else
    result = v6 + v1;
  return result;
}

//----- (10041DA0) --------------------------------------------------------
char __cdecl sub_10041DA0(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_10040FA0(v2);
  sub_10017820(54);
  return v1;
}

//----- (10041DE0) --------------------------------------------------------
char __usercall sub_10041DE0@<al>(int a1@<edi>, char a2, int a3, char a4, float a5, int a6)
{
  int v6; // eax@1
  int v7; // esi@1
  unsigned int v8; // eax@5
  float v9; // esi@6
  char result; // al@11
  signed int v11; // eax@13
  __int64 v12; // [sp-14h] [bp-A4h]@1
  __int64 v13; // [sp-14h] [bp-A4h]@9
  char v14; // [sp+3h] [bp-8Dh]@1
  char v15; // [sp+4h] [bp-8Ch]@18
  char v16; // [sp+Ch] [bp-84h]@18
  char v17; // [sp+1Ch] [bp-74h]@12
  char v18; // [sp+58h] [bp-38h]@6
  char v19; // [sp+60h] [bp-30h]@8
  float v20; // [sp+70h] [bp-20h]@6

  *(float *)a6 = a5;
  HIDWORD(v12) = a1;
  v14 = 1;
  sub_100178A0(54, 60000);
  v6 = sub_10049A80(a3);
  v7 = v6;
  if ( !v6 || (unsigned __int8)a4 >= *(_BYTE *)(v6 + 1) || a2 )
  {
    sub_10017820(54);
    result = 1;
  }
  else
  {
    sub_10017820(54);
    if ( !(sub_100409E0(a3, a4) & 1)
      || (v8 = *(_DWORD *)(v7 + 104), v8 == 0x3FFFF)
      || (sub_10046870(v8, *(_BYTE *)(v7 + 88), (int)&v18),
          v9 = v20,
          (unsigned __int8)a4 <= (unsigned __int8)sub_1003FC70(a3))
      && (unsigned __int8)a4 < (unsigned __int8)sub_10041C20(a3)
      || v19
      || (*(float *)&v12 = v9, sub_1003C3E0(v12) != 3) && (*(float *)&v13 = v9, sub_1003C3E0(v13) != 8) )
    {
      sub_10040BC0(a3, a4, &v17);
      switch ( v17 )
      {
        case 0:
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
        case 8:
        case 9:
        case 0xA:
        case 0xB:
        case 0xC:
        case 0xD:
        case 0xF:
        case 0x10:
        case 0x12:
        case 0x13:
        case 0x14:
        case 0x15:
        case 0x16:
          v11 = sub_1004DBB0((int)&v17);
          goto LABEL_16;
        default:
          if ( a4 )
          {
            sub_10040BC0(a3, a4 - 1, &v17);
            v11 = sub_1004DBB0((int)&v17);
LABEL_16:
            if ( v11 != 0x3FFFF && v11 != 262142 )
            {
              sub_1003C1C0(0, v11, (double *)&v16);
              sub_10063820((int)&v16, (int)&v15);
              v14 = 2;
              sub_100492B0((int)&v15, (float *)a6);
            }
          }
          result = v14;
          break;
      }
    }
    else
    {
      *(float *)a6 = sub_1003C620(v9);
      result = 0;
    }
  }
  return result;
}
// 10041DE0: could not find valid save-restore pair for edi

//----- (10041FC0) --------------------------------------------------------
char __cdecl sub_10041FC0(int a1, char a2, char *a3)
{
  char result; // al@2
  int v4; // ebx@6
  unsigned int v5; // esi@8
  float v6; // edi@10
  unsigned int v7; // esi@10
  double v8; // ST28_8@10
  int v9; // eax@10
  int v10; // edi@13
  float v11; // [sp+1Ch] [bp-44h]@6
  float v12; // [sp+1Ch] [bp-44h]@13
  char v13; // [sp+24h] [bp-3Ch]@1
  float v14; // [sp+30h] [bp-30h]@5
  int v15; // [sp+48h] [bp-18h]@1
  float v16; // [sp+50h] [bp-10h]@6
  float v17; // [sp+54h] [bp-Ch]@6

  sub_10040BC0(a1, a2, &v13);
  if ( v15 == 262142 )
  {
    result = sub_1004A220((int)a3, "Locked", 12);
  }
  else
  {
    switch ( v13 )
    {
      case 0:
        result = sub_1004A220((int)a3, "DME ARC", 12);
        break;
      case 1:
      case 7:
      case 0x12:
        sub_1004A340(a3, 0xCu, "%d", (signed int)(v14 * 3.280839895013123 + 0.5));
        result = sub_1004A370(a3, "", 12);
        break;
      case 2:
      case 9:
      case 0x13:
        v11 = v17 * 0.0005399568034557236;
        sub_1003C070(LODWORD(v16), (int)a3);
        v4 = 3;
        if ( v11 >= 9.9499998 )
          v4 = 4;
        v5 = strlen(a3);
        result = sub_10049FF0(v11, v4, 1, (int)&a3[v5]);
        *(&a3[v4] + v5) = 0;
        break;
      case 4:
      case 0x14:
        result = sub_1004A220((int)a3, "INTRCPT ", 12);
        break;
      case 5:
      case 0x16:
        v6 = v16;
        sub_1003C070(LODWORD(v16), (int)a3);
        v7 = strlen(a3);
        v8 = v17;
        *(float *)&v8 = v8 - sub_1003C620(v6);
        *(float *)&v8 = sub_100637E0(*(float *)&v8);
        v9 = sub_10063990(*(float *)&v8);
        if ( !v9 )
          v9 = 360;
        result = sub_1004A340(&a3[v7], 12 - v7, "%03i", v9);
        break;
      case 8:
        v10 = 3;
        v12 = v16 * 0.0005399568034557236;
        if ( v12 >= 9.9499998 )
          v10 = 4;
        *a3 = 68;
        result = sub_10049FF0(v12, v10, 1, (int)(a3 + 1));
        a3[v10 + 1] = 0;
        break;
      case 0xA:
      case 0x15:
        result = sub_1004A220((int)a3, "MANSEQ", 12);
        break;
      case 0xF:
        result = sub_1004A220((int)a3, "PROC. TURN", 12);
        break;
      case 0xB:
      case 0xC:
      case 0xD:
        result = sub_1004A220((int)a3, "HOLD", 12);
        break;
      case 0x10:
        result = sub_1004A220((int)a3, &unk_10087A9C, 12);
        break;
      default:
        result = (char)a3;
        *a3 = 0;
        break;
    }
  }
  return result;
}

//----- (100422A0) --------------------------------------------------------
int __cdecl sub_100422A0(unsigned __int8 a1, int a2, _BYTE *a3, _BYTE *a4, int a5, int a6, float *a7)
{
  int v7; // eax@1

  sub_100178A0(54, 60000);
  v7 = sub_10049A80(a1);
  sub_10041040(v7, a2, a3, a4, a5, a6, a7);
  return sub_10017820(54);
}

//----- (100422F0) --------------------------------------------------------
signed int __cdecl sub_100422F0(unsigned __int8 a1)
{
  signed int v1; // ebp@1
  int v2; // eax@1
  int v3; // esi@1
  char v4; // bl@4
  signed int v5; // edi@5
  __int64 v6; // ST1C_8@5
  char v7; // bl@11
  signed int v8; // edi@12
  __int64 v9; // ST1C_8@12
  char v11; // [sp+Eh] [bp-22h]@10
  char v12; // [sp+Fh] [bp-21h]@10
  char v13; // [sp+10h] [bp-20h]@10
  char v14; // [sp+14h] [bp-1Ch]@10
  char v15; // [sp+1Ch] [bp-14h]@10
  char v16; // [sp+24h] [bp-Ch]@10

  v1 = 0x3FFFF;
  sub_100178A0(54, 60000);
  v2 = sub_10049A80(a1);
  v3 = v2;
  if ( v2 && a1 < 0x67u && *(_BYTE *)(v2 + 1) )
  {
    v4 = sub_1003FBB0(v2);
    if ( (unsigned __int8)v4 >= *(_BYTE *)(v3 + 1) )
      goto LABEL_9;
    while ( 1 )
    {
      v5 = sub_1004DBB0(84 * (unsigned __int8)v4 + v3 + 148);
      LODWORD(v6) = v5;
      if ( sub_1003C3E0(v6) == 5 )
        break;
      if ( (unsigned __int8)++v4 >= *(_BYTE *)(v3 + 1) )
        goto LABEL_9;
    }
    v1 = v5;
    if ( v5 == 0x3FFFF )
    {
LABEL_9:
      if ( *(_DWORD *)(v3 + 104) == 0x3FFFF
        || (sub_10041040(v3, (int)&v14, &v12, &v11, (int)&v16, (int)&v15, (float *)&v13),
            v1 = sub_10045DA0(*(_DWORD *)(v3 + 104), &v14),
            v1 == 0x3FFFF) )
      {
        v7 = sub_1003FBF0(v3);
        if ( (unsigned __int8)v7 < *(_BYTE *)(v3 + 1) )
        {
          while ( 1 )
          {
            v8 = sub_1004DBB0(84 * (unsigned __int8)v7 + v3 + 148);
            LODWORD(v9) = v8;
            if ( sub_1003C3E0(v9) == 5 )
              break;
            if ( (unsigned __int8)++v7 >= *(_BYTE *)(v3 + 1) )
              goto LABEL_16;
          }
          v1 = v8;
        }
      }
    }
  }
LABEL_16:
  sub_10017820(54);
  return v1;
}
// 10045DA0: using guessed type _DWORD __cdecl sub_10045DA0(_DWORD, _DWORD);

//----- (10042430) --------------------------------------------------------
char __cdecl sub_10042430(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_10040FD0(v2);
  sub_10017820(54);
  return v1;
}

//----- (10042470) --------------------------------------------------------
char __cdecl sub_10042470(unsigned __int8 a1)
{
  char v1; // bl@1
  int v2; // eax@1

  sub_100178A0(54, 60000);
  v1 = -1;
  v2 = sub_10049A80(a1);
  if ( v2 )
    v1 = sub_10041010(v2);
  sub_10017820(54);
  return v1;
}

//----- (100424B0) --------------------------------------------------------
void __cdecl sub_100424B0(int a1, unsigned __int8 a2, float *a3, float *a4)
{
  signed int v4; // eax@7
  char v5; // al@13
  char v6; // al@13
  double v7; // st6@15
  double v8; // st7@15
  bool v9; // zf@17
  double v10; // st7@17
  double v11; // st7@18
  signed int v12; // eax@23
  signed int v13; // eax@26
  char v14; // di@26
  float v15; // [sp+24h] [bp-DCh]@9
  char v16; // [sp+2Ah] [bp-D6h]@20
  char v17; // [sp+2Bh] [bp-D5h]@20
  int v18; // [sp+2Ch] [bp-D4h]@13
  char v19; // [sp+3Ch] [bp-C4h]@1
  char v20; // [sp+3Dh] [bp-C3h]@3
  char v21; // [sp+42h] [bp-BEh]@20
  float v22; // [sp+64h] [bp-9Ch]@13
  float v23; // [sp+68h] [bp-98h]@3
  float v24; // [sp+6Ch] [bp-94h]@3
  float v25; // [sp+70h] [bp-90h]@3
  int v26; // [sp+78h] [bp-88h]@13
  int v27; // [sp+88h] [bp-78h]@27
  char v28; // [sp+98h] [bp-68h]@11
  float v29; // [sp+C0h] [bp-40h]@28
  float v30; // [sp+C4h] [bp-3Ch]@28
  float v31; // [sp+C8h] [bp-38h]@30
  int v32; // [sp+D4h] [bp-2Ch]@30
  char v33; // [sp+E4h] [bp-1Ch]@20
  char v34; // [sp+ECh] [bp-14h]@20
  char v35; // [sp+F4h] [bp-Ch]@20

  *a3 = 9.9999996e24;
  *a4 = 9.9999996e24;
  sub_10040BC0(a1, a2, &v19);
  if ( v19 != 24 )
  {
    switch ( v19 )
    {
      case 0:
      case 0x10:
        sub_10041140(a4, v24, v25, v23, COERCE_FLOAT(v20 & 7), (int)a3);
        return;
      case 0xA:
      case 0xB:
      case 0xC:
      case 0xD:
        goto LABEL_4;
      case 7:
        if ( a2 < (unsigned __int8)sub_10041DA0(a1) || a2 >= (unsigned __int8)sub_1003FCB0(a1) )
          v4 = sub_10040B40(a1);
        else
          v4 = sub_10040C40(a1);
        v15 = *(float *)&v4;
        if ( v4 == 0x3FFFF || !a2 )
          return;
        sub_10040BC0(a1, a2 - 1, &v28);
        *a3 = sub_100412C0((int)&v28, (int)&v19, (int)a4, LODWORD(v15));
        goto LABEL_35;
      case 8:
        goto LABEL_12;
      case 9:
        v5 = sub_1004DBB0((int)&v19);
        sub_1003C1C0(0, v5, (double *)&v18);
        v6 = sub_10044460((int)&v19);
        sub_1003C1C0(0, v6, (double *)&v26);
        if ( sub_100246B0((int)&v26, v24, (int)&v18, v22, (int)&v26) )
          sub_10021770((int)&v18, (int)&v26, 1, a3, (int)a4);
        else
LABEL_4:
          *a3 = 0.0;
        goto LABEL_35;
      case 0xF:
        v15 = v23 - 3704.0;
        v7 = v15;
        *a3 = v15;
        v15 = v7;
        v8 = v15;
        if ( v15 <= 3704.0 )
          v8 = 3704.0;
        v15 = v8;
        v9 = (v20 & 7) == 1;
        *a3 = v15;
        v10 = v22;
        *a4 = v22;
        if ( v9 )
          v11 = v10 - 0.7853981852531433;
        else
          v11 = v10 + 0.7853981852531433;
        goto LABEL_36;
      case 3:
        sub_100422A0(a1, (int)&v34, &v17, &v16, (int)&v35, (int)&v33, &v15);
        if ( v21 == 2 && a2 != sub_1003FC70(a1) && v16 == -1 )
          goto LABEL_23;
LABEL_12:
        *a3 = v23;
        goto LABEL_35;
      default:
LABEL_23:
        v12 = sub_1004DBB0((int)&v19);
        if ( v12 == 0x3FFFF )
          return;
        if ( !a2 || v12 == 262142 )
          goto LABEL_32;
        sub_1003C1C0(0, v12, (double *)&v26);
        sub_10040BC0(a1, a2 - 1, &v28);
        v13 = sub_1004DBB0((int)&v28);
        v14 = v13;
        if ( v13 == 0x3FFFF )
          return;
        sub_1003C1C0(0, v13, (double *)&v27);
        if ( v28 == 8 )
        {
          sub_100218A0((int)&v27, v30, v29, 1, (int)&v18);
        }
        else if ( v28 == 9 )
        {
          sub_1003C1C0(0, SLOBYTE(v30), (double *)&v32);
          if ( !sub_100246B0((int)&v32, v31, (int)&v27, v29, (int)&v18) )
            goto LABEL_32;
        }
        else
        {
          sub_1003C1C0(0, v14, (double *)&v18);
        }
        sub_10021770((int)&v18, (int)&v26, 1, a3, (int)a4);
LABEL_32:
        if ( v19 != 14 && v19 != 17 && v19 != 6 )
        {
LABEL_35:
          v11 = v22;
LABEL_36:
          *a4 = v11;
        }
        break;
    }
  }
}

//----- (100428B0) --------------------------------------------------------
int __thiscall sub_100428B0(int this)
{
  int result; // eax@1

  result = *(_WORD *)(this + 85200);
  if ( (_WORD)result != 599 )
  {
    *(_WORD *)(this + 85200) = ++result;
    if ( (_WORD)result == 599 )
      *(_BYTE *)(this + 85202) = 1;
  }
  return result;
}

//----- (100428E0) --------------------------------------------------------
char __usercall sub_100428E0@<al>(unsigned __int8 a1@<al>, int a2@<ecx>, char a3)
{
  int v3; // esi@1
  char v4; // bl@1
  char result; // al@6
  char v6; // [sp+Ch] [bp+4h]@6

  v3 = a2;
  v4 = 0;
  if ( *(_BYTE *)(a2 + 85264) != a3 )
    v4 = 1;
  if ( a1 != *(_BYTE *)(a2 + 85256) )
  {
    v4 = 1;
    *(_BYTE *)(a2 + 85256) = a1;
  }
  if ( a1 )
  {
    result = sub_10040E40(a1, (char *)(a2 + 85257)) | v4;
  }
  else
  {
    v6 = sub_10021910((_BYTE *)(a2 + 85257));
    result = ((unsigned int)(sub_10017740() - *(_DWORD *)(v3 + 85260)) > 0x1388) | v6 | v4;
  }
  return result;
}

//----- (10042960) --------------------------------------------------------
void __usercall sub_10042960(int a1@<ebx>)
{
  double v1; // st7@3
  signed int v2; // esi@3
  int v3; // eax@3
  int v4; // ecx@6
  int v5; // edx@6
  int v6; // eax@6
  __int16 v7; // ax@6
  __int16 v8; // ax@7
  bool v9; // zf@9
  float v10; // [sp+2Ch] [bp-20h]@1
  float v11; // [sp+30h] [bp-1Ch]@4
  int v12; // [sp+34h] [bp-18h]@3
  float v13; // [sp+38h] [bp-14h]@1
  int v14; // [sp+3Ch] [bp-10h]@4
  int v15; // [sp+44h] [bp-8h]@6

  sub_100190F0(a1 + 140 * *(_WORD *)(a1 + 85200) + 32, a1 + 140 * *(_WORD *)(a1 + 85200) + 48, &v10, &v13);
  if ( !*(_BYTE *)(a1 + 85202) && v10 > 370400.0 )
  {
    v1 = ceil(v10 / 370400.0);
    v2 = (signed int)v1;
    v3 = *(_WORD *)(a1 + 85200);
    v12 = (signed int)v1;
    if ( (signed int)v1 < 600 - v3 )
    {
      v11 = v10 / (double)v12;
      sub_10063820(140 * v3 + a1 + 32, (int)&v14);
      v10 = v11;
      if ( v2 - 1 > 0 )
      {
        v12 = v2 - 1;
        do
        {
          qmemcpy(
            (void *)(140 * *(_WORD *)(a1 + 85200) + a1 + 140),
            (const void *)(140 * *(_WORD *)(a1 + 85200) + a1),
            0x8Cu);
          sub_100236E0((int)&v14, v10, v13, (int)&v15);
          sub_10063970((int)&v15, 140 * *(_WORD *)(a1 + 85200) + a1 + 48);
          v4 = 140 * *(_WORD *)(a1 + 85200) + a1;
          v5 = *(_DWORD *)(v4 + 48);
          v6 = v4 + 48;
          v4 += 172;
          *(_DWORD *)v4 = v5;
          *(_DWORD *)(v4 + 4) = *(_DWORD *)(v6 + 4);
          *(_DWORD *)(v4 + 8) = *(_DWORD *)(v6 + 8);
          *(_DWORD *)(v4 + 12) = *(_DWORD *)(v6 + 12);
          v7 = *(_WORD *)(a1 + 85200);
          if ( v7 != 599 )
          {
            v8 = v7 + 1;
            *(_WORD *)(a1 + 85200) = v8;
            if ( v8 == 599 )
              *(_BYTE *)(a1 + 85202) = 1;
          }
          v9 = v12-- == 1;
          v10 = v11 + v10;
        }
        while ( !v9 );
      }
    }
  }
}

//----- (10042B10) --------------------------------------------------------
char __usercall sub_10042B10@<al>(int a1@<edx>, const void *a2@<ecx>, char a3, int a4, char a5, unsigned int a6)
{
  signed int v6; // ebp@1
  int v7; // ebx@1
  signed __int16 v8; // si@2
  char v9; // di@3
  signed __int16 v10; // ax@9
  signed int v11; // eax@9
  char v12; // si@11
  signed __int16 v13; // bp@11
  char v14; // al@15
  char v15; // al@16
  int v16; // ecx@28
  char v17; // al@28
  signed int v18; // eax@29
  char v19; // cl@29
  bool v20; // zf@44
  int v21; // ecx@54
  int v22; // eax@54
  int v23; // eax@54
  double v24; // st7@58
  char *v25; // edi@70
  __int16 v26; // cx@71
  __int16 v27; // cx@72
  signed __int16 v28; // di@74
  signed __int16 v29; // si@82
  char v30; // di@97
  int v31; // esi@97
  bool v32; // zf@104
  signed __int16 v33; // ax@115
  bool v34; // zf@122
  char v35; // dl@139
  int v36; // eax@146
  int v37; // ecx@146
  int v38; // ecx@147
  int v39; // edi@147
  int v40; // eax@147
  int v41; // ecx@147
  int v42; // ecx@147
  __int16 v43; // ax@155
  __int16 v44; // ax@156
  char *v45; // edi@167
  int v46; // ecx@169
  int v47; // eax@169
  int v48; // edx@169
  unsigned __int16 v49; // si@182
  int v50; // ecx@183
  __int16 v51; // ax@185
  __int16 v52; // ax@186
  char *v54; // [sp-4h] [bp-220h]@115
  char v55; // [sp+19h] [bp-203h]@2
  char v56; // [sp+1Ah] [bp-202h]@15
  unsigned __int8 v57; // [sp+1Bh] [bp-201h]@1
  char v58; // [sp+1Ch] [bp-200h]@11
  char v59; // [sp+1Dh] [bp-1FFh]@11
  unsigned __int8 v60; // [sp+1Eh] [bp-1FEh]@1
  char v61; // [sp+1Fh] [bp-1FDh]@11
  int v62; // [sp+20h] [bp-1FCh]@9
  char v63; // [sp+24h] [bp-1F8h]@184
  unsigned int v64; // [sp+28h] [bp-1F4h]@1
  int v65; // [sp+2Ch] [bp-1F0h]@11
  float v66; // [sp+30h] [bp-1ECh]@58
  int v67; // [sp+34h] [bp-1E8h]@12
  int v68; // [sp+38h] [bp-1E4h]@54
  int v69; // [sp+3Ch] [bp-1E0h]@54
  int v70; // [sp+40h] [bp-1DCh]@54
  char v71; // [sp+44h] [bp-1D8h]@1
  char v72; // [sp+45h] [bp-1D7h]@20
  char v73; // [sp+46h] [bp-1D6h]@64
  char v74; // [sp+47h] [bp-1D5h]@3
  unsigned __int8 v75; // [sp+4Eh] [bp-1CEh]@4
  char v76; // [sp+4Fh] [bp-1CDh]@22
  char v77; // [sp+50h] [bp-1CCh]@54
  char v78; // [sp+51h] [bp-1CBh]@184
  char v79; // [sp+58h] [bp-1C4h]@54
  float v80; // [sp+64h] [bp-1B8h]@54
  float v81; // [sp+84h] [bp-198h]@58
  float v82; // [sp+88h] [bp-194h]@184
  int v83; // [sp+90h] [bp-18Ch]@54
  char v84; // [sp+94h] [bp-188h]@92
  char v85; // [sp+9Ch] [bp-180h]@184
  char v86; // [sp+A4h] [bp-178h]@12
  char v87; // [sp+B4h] [bp-168h]@70
  char v88; // [sp+BCh] [bp-160h]@9
  unsigned __int8 v89; // [sp+C0h] [bp-15Ch]@75
  char v90; // [sp+C1h] [bp-15Bh]@100
  char v91; // [sp+C8h] [bp-154h]@100
  char v92; // [sp+D0h] [bp-14Ch]@100
  char v93; // [sp+D8h] [bp-144h]@152
  char v94; // [sp+D9h] [bp-143h]@153
  float v95; // [sp+DCh] [bp-140h]@153
  float v96; // [sp+E0h] [bp-13Ch]@153
  float v97; // [sp+E4h] [bp-138h]@153
  char v98; // [sp+E8h] [bp-134h]@153
  float v99; // [sp+F4h] [bp-128h]@100
  float v100; // [sp+F8h] [bp-124h]@100
  char v101; // [sp+108h] [bp-114h]@82
  char v102; // [sp+10Ch] [bp-110h]@83
  char v103; // [sp+10Dh] [bp-10Fh]@84
  char v104; // [sp+154h] [bp-C8h]@29
  char v105; // [sp+156h] [bp-C6h]@37
  char v106; // [sp+15Fh] [bp-BDh]@29
  char v107; // [sp+1CCh] [bp-50h]@9
  char v108; // [sp+1D1h] [bp-4Bh]@116

  v20 = *(_BYTE *)(a4 + 9) == 0;
  v6 = a6;
  v7 = a1;
  v60 = -1;
  v57 = -1;
  qmemcpy(&v71, a2, 0x78u);
  v64 = a6;
  if ( v20 )
  {
    v9 = a3;
    v55 = -1;
    v8 = -1;
  }
  else
  {
    v55 = sub_10021950();
    v8 = sub_10029D40();
    if ( a6 == 16744448 )
    {
      v6 = v64;
      v9 = a3;
      a6 = v64;
    }
    else
    {
      do
      {
        v9 = a3;
        sub_10022450(a3, v6, (int)&v71);
        if ( v74 )
          v60 = v75;
        v6 = sub_10022EC0(a3, v6);
      }
      while ( v6 != 16744448 );
      v6 = v64;
      a6 = v64;
    }
  }
  sub_10021BF0(v9, v8, (int)&v107);
  v10 = sub_10029D70(v9);
  v62 = (unsigned __int16)v10;
  LOBYTE(v11) = sub_10021BF0(v9, v10, (int)&v88);
  if ( v6 != 16744448 )
  {
    do
    {
      if ( *(_BYTE *)(v7 + 85202) )
        return v11;
      v12 = a3;
      v13 = -1;
      v59 = 0;
      v61 = 0;
      v58 = 0;
      v65 = 0xFFFF;
      LOBYTE(v11) = sub_10022450(a3, a6, (int)&v71);
      if ( a6 == v64 )
        LOBYTE(v11) = sub_10063970((int)&v86, (int)&v67);
      if ( v75 == -1 )
        return v11;
      if ( *(_BYTE *)(v7 + 85256) )
      {
        v56 = 1;
        v14 = 1;
        goto LABEL_54;
      }
      v15 = *(_BYTE *)(a4 + 9);
      if ( !v15 || v60 != -1 && v75 < v60 )
      {
        v14 = 3;
        v56 = 3;
        goto LABEL_54;
      }
      if ( v15 == 3 && !v72 )
      {
        v56 = 2;
        v14 = 2;
        goto LABEL_54;
      }
      if ( v76 == a5 )
      {
        v56 = v75 < (unsigned __int8)v55 ? 3 : 0;
      }
      else
      {
        if ( a5 )
        {
          if ( a5 == 1 )
          {
            if ( !v76 )
              goto LABEL_36;
          }
          else if ( a5 == 2 )
          {
            if ( !v76 )
              goto LABEL_36;
            if ( v76 == 1 )
            {
              v56 = 3;
              goto LABEL_28;
            }
          }
          else if ( a5 != 3 || v76 != 4 )
          {
LABEL_36:
            v56 = 3;
            goto LABEL_28;
          }
        }
        v56 = 1;
      }
LABEL_28:
      v16 = (unsigned __int8)sub_1003FAD0(0);
      v17 = v75;
      if ( v75 >= v16 - 1 )
      {
        v19 = v76;
        v106 = v76;
        v105 = 0;
      }
      else
      {
        v18 = sub_10022F00(a3, v75 + 1);
        sub_10022450(a3, v18, (int)&v104);
        v17 = v75;
        v19 = v106;
      }
      if ( v19 != a5 || (unsigned __int8)v17 + 1 < (unsigned __int8)v55 )
      {
        if ( (unsigned __int8)v17 >= (unsigned __int8)v55 )
        {
          if ( !a5 )
            goto LABEL_52;
          if ( a5 == 1 )
          {
            v20 = v19 == 0;
LABEL_45:
            if ( !v20 )
              goto LABEL_52;
          }
          else if ( a5 == 2 )
          {
            if ( v19 )
            {
              v20 = v19 == 1;
              goto LABEL_45;
            }
          }
          else if ( a5 == 3 && v19 == 4 )
          {
LABEL_52:
            v14 = 1;
            goto LABEL_54;
          }
        }
        v14 = 3;
        goto LABEL_54;
      }
      v14 = 0;
LABEL_54:
      v21 = *(_WORD *)(v7 + 85200);
      ++*(_BYTE *)(v7 + 85220);
      *(_BYTE *)(140 * v21 + v7) = 2;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 5) = v77;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 1) = v14;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 105) = v75;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 16;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = v55 == v75;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 4) = v76 == 4;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 31) = 0;
      *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 96) = v80;
      *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 100) = v80;
      *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = v83;
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 24) = 0;
      sub_10063970((int)&v86, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
      sub_10063970((int)&v86, 140 * *(_WORD *)(v7 + 85200) + v7 + 48);
      *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
      v22 = 140 * *(_WORD *)(v7 + 85200);
      *(_DWORD *)(v22 + v7 + 108) = v67;
      v23 = v22 + v7 + 108;
      *(_DWORD *)(v23 + 4) = v68;
      *(_DWORD *)(v23 + 8) = v69;
      *(_DWORD *)(v23 + 12) = v70;
      strncpy((char *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12), &v79, 0xCu);
      LOBYTE(v11) = v77;
      if ( v77 == 4 || v77 == 20 )
      {
        *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
        LOBYTE(v11) = v77;
      }
      if ( v71 == 1 )
      {
        *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = 0;
        *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
        *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
        *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 1;
        v66 = v81 * 0.0005399567889980972;
        v24 = sub_100638C0(v66, 1.0);
        sub_1004A340((char *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12), 0xCu, "%+i", (signed int)v24);
        LOBYTE(v11) = v77;
      }
      if ( (_BYTE)v11 == 7 || (_BYTE)v11 == 8 || (_BYTE)v11 == 9 || (_BYTE)v11 == 10 )
      {
        *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
        LOBYTE(v11) = v77;
      }
      if ( v73 && v71 != 1 && v105 )
      {
        LOWORD(v11) = *(_WORD *)(v7 + 85200);
        if ( (_WORD)v11 != 599 )
        {
          LOWORD(v11) = v11 + 1;
          *(_WORD *)(v7 + 85200) = v11;
          if ( (_WORD)v11 == 599 )
          {
LABEL_192:
            *(_BYTE *)(v7 + 85202) = 1;
            return v11;
          }
        }
        if ( *(_BYTE *)(v7 + 85202) )
          return v11;
        v25 = (char *)(140 * *(_WORD *)(v7 + 85200) + v7);
        qmemcpy(v25, v25 - 140, 0x8Cu);
        *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
        *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
        sub_10063970((int)&v87, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
        sub_10063970((int)&v87, 140 * *(_WORD *)(v7 + 85200) + v7 + 48);
        sub_1004A370((const char *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12), &unk_10087AF8, 12);
        LOBYTE(v11) = v77;
        v12 = a3;
      }
      v26 = *(_WORD *)(v7 + 85200);
      if ( v26 != 599 )
      {
        v27 = v26 + 1;
        *(_WORD *)(v7 + 85200) = v27;
        if ( v27 == 599 )
          goto LABEL_192;
      }
      if ( *(_BYTE *)(v7 + 85202) )
        return v11;
      v28 = v62;
      if ( (_WORD)v62 != -1 )
      {
        do
        {
          if ( v89 == -1 )
            break;
          if ( v89 >= v75 )
            break;
          v28 = sub_10029DE0(v12, v28);
          v62 = (unsigned __int16)v28;
          sub_10021BF0(v12, v28, (int)&v88);
        }
        while ( v28 != -1 );
        LOBYTE(v11) = v77;
      }
      if ( (_BYTE)v11 == 11 || (_BYTE)v11 == 12 || (_BYTE)v11 == 13 )
      {
        v29 = v28;
        sub_10021BF0(a3, v28, (int)&v101);
        if ( v28 != -1 )
        {
          while ( v102 == v75 )
          {
            if ( v103 == 20 )
            {
              v59 = 1;
            }
            else if ( v103 == 19 )
            {
              v61 = 1;
              break;
            }
            v29 = sub_10029DE0(a3, v29);
            sub_10021BF0(a3, v29, (int)&v101);
            if ( v29 == -1 )
              break;
          }
        }
        if ( v55 == v75 )
        {
          v58 = sub_1003ADE0();
          if ( !v61 )
          {
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7) = 1;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 5) = v77;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 1) = v56;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 4) = v88 == 4;
            *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 31) = 0;
            *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 96) = 0.0;
            *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 100) = 0.0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 105) = v89;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = 1;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 2;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 24) = 0;
            sub_10063970((int)&v84, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
            sub_10063970((int)&v86, 140 * *(_WORD *)(v7 + 85200) + v7 + 48);
            v13 = *(_WORD *)(v7 + 85200);
            sub_10042960(v7);
            LOWORD(v11) = *(_WORD *)(v7 + 85200);
            if ( (_WORD)v11 != 599 )
            {
              LOWORD(v11) = v11 + 1;
              *(_WORD *)(v7 + 85200) = v11;
              if ( (_WORD)v11 == 599 )
                goto LABEL_192;
            }
            if ( *(_BYTE *)(v7 + 85202) )
              return v11;
          }
        }
        LOBYTE(v11) = v77;
      }
      if ( v28 != -1 )
      {
        v30 = a3;
        v31 = v62;
        while ( 2 )
        {
          if ( v89 != v75 || *(_BYTE *)(v7 + 85202) )
          {
            v62 = v31;
            if ( (_WORD)v31 != -1 && v75 == v55 )
              v57 = v89;
          }
          else
          {
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7) = 1;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 5) = v77;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 1) = v56;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 4) = v88 == 4;
            *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 24) = 0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 31) = 0;
            sub_10063970((int)&v91, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
            sub_10063970((int)&v92, 140 * *(_WORD *)(v7 + 85200) + v7 + 48);
            *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 96) = v99;
            *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 100) = v100;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 105) = v89;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = v89 == v55;
            switch ( v90 )
            {
              case 0x13:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 2;
                v13 = *(_WORD *)(v7 + 85200);
                goto LABEL_139;
              case 0x14:
              case 0x15:
              case 0x16:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 32;
                if ( v58 == 2 || v58 == 8 )
                  goto LABEL_106;
                v32 = v58 == 5;
                goto LABEL_105;
              case 4:
              case 5:
              case 6:
              case 7:
              case 8:
              case 9:
              case 0xA:
              case 0xB:
              case 0xC:
              case 0xD:
              case 0xE:
              case 0xF:
              case 0x10:
              case 0x11:
              case 0x12:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 32;
                if ( v55 == -1 || v89 > v57 || v89 < (unsigned __int8)v55 )
                {
                  if ( v59 )
                  {
                    v31 = (unsigned __int16)sub_10029DE0(v30, v31);
                    sub_10021BF0(v30, v31, (int)&v88);
                    goto LABEL_160;
                  }
                }
                else
                {
                  if ( v89 == v57 )
                    goto LABEL_117;
                  if ( v58 != 3 && v58 != 7 )
                  {
                    if ( v58 != 8 && v58 != 6 || v90 != v108 )
                    {
                      v33 = sub_10029DE0(v30, v31);
                      v54 = &v88;
                      goto LABEL_159;
                    }
LABEL_117:
                    *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 4;
                    goto LABEL_139;
                  }
LABEL_124:
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 4;
                }
LABEL_139:
                v35 = v90;
                if ( v13 == -1 || v59 )
                  goto LABEL_148;
                if ( v90 == 7 || v90 == 11 || v90 == 13 || v90 == 18 )
                {
                  v38 = 140 * *(_WORD *)(v7 + 85200);
                  v39 = *(_DWORD *)(v38 + v7 + 32);
                  v40 = v38 + v7 + 32;
                  v41 = 140 * (unsigned __int16)v13;
                  *(_DWORD *)(v41 + v7 + 32) = v39;
                  v42 = v41 + v7 + 32;
                  *(_DWORD *)(v42 + 4) = *(_DWORD *)(v40 + 4);
                  *(_DWORD *)(v42 + 8) = *(_DWORD *)(v40 + 8);
                  v30 = a3;
                  *(_DWORD *)(v42 + 12) = *(_DWORD *)(v40 + 12);
                }
                else if ( !v90 )
                {
                  v36 = 140 * *(_WORD *)(v7 + 85200) + v7 + 32;
                  v37 = 140 * (unsigned __int16)v13 + v7 + 48;
                  *(_DWORD *)v37 = *(_DWORD *)v36;
                  *(_DWORD *)(v37 + 4) = *(_DWORD *)(v36 + 4);
                  *(_DWORD *)(v37 + 8) = *(_DWORD *)(v36 + 8);
                  *(_DWORD *)(v37 + 12) = *(_DWORD *)(v36 + 12);
                  goto LABEL_152;
                }
LABEL_148:
                if ( (unsigned __int8)(v35 - 20) <= 2u && (v58 == 3 || v58 == 4) )
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = 0;
LABEL_152:
                if ( v93 )
                {
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7) = 0;
                  sub_10063970((int)&v98, 140 * *(_WORD *)(v7 + 85200) + v7 + 64);
                  *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 80) = v95;
                  *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 84) = v97;
                  *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 88) = v96;
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 92) = v94;
                }
                else
                {
                  sub_10042960(v7);
                }
                v43 = *(_WORD *)(v7 + 85200);
                if ( v43 != 599 )
                {
                  v44 = v43 + 1;
                  *(_WORD *)(v7 + 85200) = v44;
                  if ( v44 == 599 )
                    *(_BYTE *)(v7 + 85202) = 1;
                }
                v33 = sub_10029DE0(v30, v31);
                v54 = &v88;
LABEL_159:
                v31 = (unsigned __int16)v33;
                sub_10021BF0(v30, v33, (int)v54);
LABEL_160:
                LOBYTE(v11) = v77;
                if ( (_WORD)v31 != -1 )
                  continue;
                v62 = v31;
                break;
              case 0x17:
              case 0x18:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 32;
                if ( v89 == v55 )
                  goto LABEL_124;
                if ( v89 != v57 )
                  goto LABEL_139;
                v34 = v77 == 3;
                goto LABEL_123;
              case 0x19:
              case 0x1A:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 32;
                if ( v89 == v55 )
                  goto LABEL_106;
                v32 = v89 == v57;
LABEL_105:
                if ( v32 )
LABEL_106:
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 4;
                goto LABEL_139;
              case 0:
              case 1:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 2;
                if ( v77 == 15 )
                  v65 = *(_WORD *)(v7 + 85200);
                goto LABEL_139;
              case 2:
                *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 32;
                if ( v89 == v55 )
                  goto LABEL_124;
                if ( v89 == v57 )
                {
                  v34 = sub_10019730() == 2;
LABEL_123:
                  if ( v34 )
                    goto LABEL_124;
                }
                goto LABEL_139;
              default:
                if ( v77 == 18 || v77 == 19 || v77 == 20 || v77 == 21 || v77 == 22 )
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 8;
                else
                  *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 2;
                goto LABEL_139;
            }
          }
          break;
        }
      }
      if ( *(_BYTE *)(v7 + 85202) )
        goto LABEL_188;
      if ( *(_BYTE *)(a4 + 8) == 1 )
      {
        v45 = (char *)(140 * *(_WORD *)(v7 + 85200) + v7);
        if ( *(v45 - 137) )
        {
          if ( *(v45 - 140) == 1 )
          {
            qmemcpy(v45, v45 - 140, 0x8Cu);
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 18;
            v46 = v7 + 140 * *(_WORD *)(v7 + 85200);
            v47 = v46 - 92;
            *(_DWORD *)(v46 + 32) = *(_DWORD *)(v46 - 92);
            v48 = *(_DWORD *)(v46 - 92 + 4);
            v46 += 32;
            *(_DWORD *)(v46 + 4) = v48;
            *(_DWORD *)(v46 + 8) = *(_DWORD *)(v47 + 8);
            *(_DWORD *)(v46 + 12) = *(_DWORD *)(v47 + 12);
            sub_10021AF0(140 * *(_WORD *)(v7 + 85200) + v7 + 48);
            *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = 0;
            *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
            sub_10042960(v7);
            sub_100428B0(v7);
            LOBYTE(v11) = v77;
          }
        }
      }
      if ( *(_BYTE *)(v7 + 85202) )
        goto LABEL_188;
      if ( v71 != 1 )
      {
        if ( (_BYTE)v11 == 3
          || (_BYTE)v11 == 6
          || (_BYTE)v11 == 7
          || (_BYTE)v11 == 8
          || (_BYTE)v11 == 9
          || (_BYTE)v11 == 10
          || (_BYTE)v11 == 17 )
        {
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7) = 1;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 5) = v77;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 1) = v56;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 105) = v75;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 4) = v76 == 4;
          *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 24) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 31) = 0;
          sub_10063970((int)&v84, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
          sub_10063970((int)&v86, 140 * *(_WORD *)(v7 + 85200) + v7 + 48);
          *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 96) = v80;
          *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 100) = v80;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = v55 == v75;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 16;
          v51 = *(_WORD *)(v7 + 85200);
          if ( v51 != 599 )
          {
            v52 = v51 + 1;
            *(_WORD *)(v7 + 85200) = v52;
            if ( v52 == 599 )
              *(_BYTE *)(v7 + 85202) = 1;
          }
        }
        else if ( (_BYTE)v11 && (_BYTE)v11 != 16 )
        {
          if ( (_BYTE)v11 == 15 )
          {
            v49 = v65;
            if ( (_WORD)v65 != -1 )
            {
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7) = 1;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 5) = v77;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 1) = v56;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 105) = v75;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 4) = v76 == 4;
              *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 24) = 0;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 31) = 0;
              sub_10063970((int)&v86, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
              v50 = 140 * *(_WORD *)(v7 + 85200) + v7 + 48;
              *(_DWORD *)v50 = *(_DWORD *)(140 * v49 + v7 + 48);
              *(_DWORD *)(v50 + 4) = *(_DWORD *)(140 * v49 + v7 + 52);
              *(_DWORD *)(v50 + 8) = *(_DWORD *)(140 * v49 + v7 + 56);
              *(_DWORD *)(v50 + 12) = *(_DWORD *)(140 * v49 + v7 + 60);
              *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 96) = v80;
              *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 100) = v80;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = v55 == v75;
              *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 16;
              sub_100428B0(v7);
            }
          }
        }
        else
        {
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 5) = v77;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 1) = v56;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 105) = v75;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 4) = v76 == 4;
          *(_DWORD *)(140 * *(_WORD *)(v7 + 85200) + v7 + 8) = 0x3FFFF;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 12) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 24) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 31) = 0;
          sub_10063970((int)&v84, 140 * *(_WORD *)(v7 + 85200) + v7 + 32);
          sub_10063970((int)&v86, 140 * *(_WORD *)(v7 + 85200) + v7 + 48);
          sub_10063970((int)&v85, 140 * *(_WORD *)(v7 + 85200) + v7 + 64);
          *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 96) = v80;
          *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 100) = v80;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 104) = 0;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 3) = v55 == v75;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 2) = 16;
          *(_BYTE *)(140 * *(_WORD *)(v7 + 85200) + v7 + 92) = v78 == 2;
          *(float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 80) = v82;
          sub_10022FC0(
            (int)&v85,
            (int)&v86,
            (float *)&v63,
            (float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 88),
            (float *)&v63);
          sub_10022FC0(
            (int)&v85,
            (int)&v84,
            (float *)&v63,
            (float *)(140 * *(_WORD *)(v7 + 85200) + v7 + 84),
            (float *)&v63);
          sub_100428B0(v7);
        }
LABEL_188:
        if ( v71 != 1 )
          sub_10063970((int)&v86, (int)&v67);
      }
      v11 = sub_10022EC0(a3, a6);
      a6 = v11;
    }
    while ( v11 != 16744448 );
  }
  return v11;
}

//----- (10044120) --------------------------------------------------------
char __usercall sub_10044120@<al>(char a1@<bl>, int a2@<edi>, int a3@<esi>, char a4)
{
  signed int v4; // eax@3
  char result; // al@3
  char v6; // [sp+4h] [bp-7Ch]@3
  char v7; // [sp+Eh] [bp-72h]@4

  if ( *(_BYTE *)(a3 + 85264) != 1 && *(_BYTE *)(a2 + 9) == 3
    || (v4 = sub_10022C40(a4), result = sub_10042B10(a3, &v6, a4, a2, a1, v4), *(_BYTE *)(a2 + 9) == 3) )
  {
    sub_10022450(a4, 0xFF8200u, (int)&v6);
    result = sub_10042B10(a3, &v6, a4, a2, a1, v7 != -1 ? 16744960 : 16744704);
  }
  return result;
}

//----- (100441B0) --------------------------------------------------------
char __cdecl sub_100441B0(int a1, int a2, int a3, char a4)
{
  unsigned __int16 v4; // ax@1
  signed int v5; // eax@5
  unsigned __int16 v6; // bp@7
  int v7; // edi@7
  int v8; // edx@7
  int v9; // ecx@8
  _BYTE *v10; // eax@8
  __int16 v11; // ax@13
  unsigned __int16 v12; // di@14
  _BYTE *v13; // ecx@14
  int v14; // edx@15
  bool v15; // zf@15
  __int16 *v16; // edx@15
  unsigned __int8 v17; // bl@19
  int v18; // ecx@23
  unsigned __int8 v19; // bl@27
  __int16 *v20; // ebp@28
  __int16 v21; // di@29
  __int16 v22; // dx@29
  int v23; // ebx@32
  unsigned __int8 v25; // [sp+Ah] [bp-17Ah]@27
  unsigned __int8 v26; // [sp+Bh] [bp-179h]@27
  int v27; // [sp+Ch] [bp-178h]@7
  int v28; // [sp+10h] [bp-174h]@7
  unsigned __int8 v29; // [sp+14h] [bp-170h]@2
  char v30; // [sp+18h] [bp-16Ch]@3
  char v31; // [sp+21h] [bp-163h]@3
  char v32; // [sp+3Ch] [bp-148h]@5
  char v33; // [sp+47h] [bp-13Dh]@2
  __int16 v34[102]; // [sp+B4h] [bp-D0h]@2

  LOBYTE(v4) = sub_100428E0(a1, a2, a4);
  if ( (_BYTE)v4 )
  {
    *(double *)(a2 + 85224) = 1.0e25;
    v29 = -1;
    v33 = 1;
    memset(v34, 0xFFu, sizeof(v34));
    *(_BYTE *)(a2 + 85220) = 0;
    *(_DWORD *)(a2 + 85204) = 0x3FFFF;
    *(_BYTE *)(a2 + 85202) = 0;
    *(_WORD *)(a2 + 85200) = 0;
    *(_DWORD *)(a2 + 85260) = sub_10017740();
    *(_BYTE *)(a2 + 85264) = a4;
    if ( (_BYTE)a1 )
    {
      v31 = 0;
      sub_10016870(a1, 2);
    }
    else
    {
      sub_100192B0((int)&v30);
      *(_DWORD *)(a2 + 85204) = sub_10021AA0();
      sub_100247A0(2);
      if ( v31 )
      {
        v29 = sub_10021950();
        if ( v31 != 3 )
        {
          v5 = sub_10022F00(2, v29);
          sub_10022450(2, v5, (int)&v32);
        }
      }
    }
    sub_10044120(v33, (int)&v30, a2, 2);
    v6 = *(_WORD *)(a2 + 85200);
    v7 = 0;
    v8 = 0;
    v28 = 0;
    v27 = 0;
    if ( v6 )
    {
      v9 = *(_WORD *)(a2 + 85200);
      v10 = (_BYTE *)a2;
      do
      {
        if ( *v10 == 2 )
          ++v8;
        v10 += 140;
        --v9;
      }
      while ( v9 );
      v27 = v8;
    }
    v11 = 0;
    if ( v6 )
    {
      v12 = *(_WORD *)(a2 + 85200);
      v13 = (_BYTE *)(a2 + 105);
      do
      {
        v14 = *v13;
        v15 = v34[v14] == -1;
        v16 = &v34[v14];
        if ( v15 )
          *v16 = v11;
        ++v11;
        v13 += 140;
      }
      while ( (unsigned __int16)v11 < v12 );
      v7 = 0;
      v8 = v27;
    }
    v17 = v29;
    if ( v29 == -1 )
      v17 = 0;
    v4 = v34[v17];
    if ( v4 < v6 )
    {
      do
      {
        if ( *(_BYTE *)(140 * v4 + a2) == 2 )
          v18 = (unsigned __int16)v7++;
        else
          v18 = (unsigned __int16)v8++;
        *(_WORD *)(a2 + 2 * v18 + 84000) = v4++;
      }
      while ( v4 < *(_WORD *)(a2 + 85200) );
      v27 = v8;
      v28 = v7;
    }
    v26 = v17;
    v19 = v17 - 1;
    v25 = v19;
    if ( v19 != -1 )
    {
      v20 = &v34[v19];
      do
      {
        v21 = *v20;
        v22 = v34[v26];
        v4 = *v20;
        if ( (unsigned __int16)*v20 < (unsigned __int16)v22 )
        {
          do
          {
            if ( v22 == -1 )
              break;
            if ( *(_BYTE *)(140 * v4 + a2) == 2 )
              v23 = (unsigned __int16)v28++;
            else
              v23 = (unsigned __int16)v27++;
            *(_WORD *)(a2 + 2 * v23 + 84000) = v4;
            v19 = v25;
            ++v4;
          }
          while ( v4 < (unsigned __int16)v34[v26] );
        }
        if ( v21 != -1 )
          v26 = v19;
        --v19;
        --v20;
        v25 = v19;
      }
      while ( v19 != -1 );
    }
  }
  return v4;
}
// 100441B0: using guessed type __int16 var_D0[102];

//----- (10044460) --------------------------------------------------------
signed int __cdecl sub_10044460(int a1)
{
  signed int result; // eax@1

  result = 0x3FFFF;
  if ( a1 )
  {
    switch ( *(_BYTE *)a1 )
    {
      case 0:
      case 0x10:
        result = *(_DWORD *)(a1 + 40);
        break;
      case 2:
      case 5:
      case 9:
      case 0x13:
      case 0x16:
        result = *(_DWORD *)(a1 + 44);
        break;
      default:
        return result;
    }
  }
  return result;
}

//----- (100444B0) --------------------------------------------------------
double __cdecl sub_100444B0(int a1, float a2)
{
  double v2; // st7@1
  double result; // st7@2
  int v4; // [sp+4h] [bp+4h]@1
  int v5; // [sp+4h] [bp+4h]@2
  int v6; // [sp+4h] [bp+4h]@3
  float v7; // [sp+8h] [bp+8h]@2
  float v8; // [sp+8h] [bp+8h]@3

  *(float *)&v4 = (double)(unsigned __int16)a1;
  v2 = *(float *)&v4;
  if ( LOBYTE(a2) )
  {
    *(float *)&v5 = v2 * 100.0;
    v7 = *(float *)&v5 * 0.3048000037670135;
    result = v7;
  }
  else
  {
    *(float *)&v6 = v2 - 1000.0;
    v8 = *(float *)&v6 * 0.3048000037670135;
    result = v8;
  }
  return result;
}

//----- (10044510) --------------------------------------------------------
int __cdecl sub_10044510(char a1, char a2, _DWORD *a3, unsigned __int16 *a4, float *a5, float *a6, _BYTE *a7, _BYTE *a8, _BYTE *a9)
{
  int v9; // ecx@2
  unsigned __int16 *v10; // ecx@2
  char v11; // dl@2
  int v12; // ecx@3
  int result; // eax@3

  *a5 = 0.0;
  *a6 = 0.0;
  *a7 = 4;
  *a8 = 0;
  *a9 = 0;
  if ( a1 )
  {
    *a5 = (double)(*a4 & 0x7FFF);
    *a7 = a2;
    *a8 = (*a4 >> 15) & 1;
    *a5 = sub_100444B0(*a4 & 0x7FFF, COERCE_FLOAT(((unsigned int)*a4 >> 15) & 0xFFFFFF01));
    *a3 += (unsigned __int16)word_1050568A;
    v10 = (unsigned __int16 *)((unsigned __int16)word_1050568A + v9);
    if ( v11 == 3 )
    {
      *a6 = (double)(*v10 & 0x7FFF);
      *a9 = (*v10 >> 15) & 1;
      *a6 = sub_100444B0(*v10 & 0x7FFF, COERCE_FLOAT(((unsigned int)*v10 >> 15) & 0xFFFFFF01));
      *a3 += (unsigned __int16)word_1050568A;
      result = (unsigned __int16)word_1050568A + v12;
    }
    else
    {
      result = (int)v10;
      *a6 = 0.0;
    }
  }
  else
  {
    result = (int)a4;
  }
  return result;
}
// 1050568A: using guessed type __int16 word_1050568A;

//----- (10044620) --------------------------------------------------------
bool __cdecl sub_10044620(int a1)
{
  int v1; // ebp@1
  int v2; // edi@1
  char v3; // bl@1
  char v4; // cl@1
  unsigned int v5; // eax@5
  unsigned int v6; // edx@5
  unsigned int v7; // ecx@5
  unsigned int v8; // eax@5
  signed int v9; // esi@5
  signed int v10; // ecx@7
  int v11; // edx@7
  unsigned int v12; // eax@8
  float v13; // ST18_4@9
  float v14; // ST18_4@9
  float v15; // ST18_4@9
  int v16; // ecx@11
  char v18; // [sp+Bh] [bp-29h]@1
  float v19; // [sp+Ch] [bp-28h]@1
  float v20; // [sp+14h] [bp-20h]@5
  float v21; // [sp+18h] [bp-1Ch]@5
  float v22; // [sp+1Ch] [bp-18h]@5
  float v23; // [sp+20h] [bp-14h]@5
  int v24; // [sp+24h] [bp-10h]@5
  unsigned int v25; // [sp+28h] [bp-Ch]@5
  unsigned int v26; // [sp+2Ch] [bp-8h]@5
  unsigned int v27; // [sp+30h] [bp-4h]@5
  char v28; // [sp+38h] [bp+4h]@1

  v19 = 0.0;
  v1 = dword_10505750;
  v2 = a1;
  v3 = ((unsigned int)*(_WORD *)(a1 + 5) >> 15) & 1;
  v4 = ((unsigned int)*(_WORD *)(a1 + 5) >> 14) & 1;
  v18 = 0;
  v28 = ((unsigned int)*(_WORD *)(a1 + 5) >> 14) & 1;
  if ( v3 )
  {
    if ( *(float *)(dword_10505750 + 20836) >= 0.30000001 && (*(_DWORD *)(v2 + 9) >> 28) & 1 )
      v18 = 1;
    v5 = *(_BYTE *)(v2 + 8);
    v24 = *(_BYTE *)(v2 + 8) & 3;
    v6 = v5 >> 2;
    v7 = v5;
    v27 = v5 >> 6;
    v8 = *(_DWORD *)(v2 + 9);
    v25 = v6 & 3;
    v26 = (v7 >> 4) & 3;
    v20 = (double)(v8 & 0x7F);
    v21 = (double)((v8 >> 7) & 0x7F);
    v22 = (double)((v8 >> 14) & 0x7F);
    v23 = (double)((v8 >> 21) & 0x7F);
    v9 = 0;
    do
    {
      if ( 0.0 != *(float *)((char *)&v20 + v9) )
      {
        v10 = *(int *)((char *)&v24 + v9);
        v11 = 0;
        if ( v10 >= 4 )
        {
          v12 = ((unsigned int)(v10 - 4) >> 2) + 1;
          v11 = 4 * v12;
          do
          {
            --v12;
            v13 = *(float *)((char *)&v20 + v9) * 0.1000000014901161;
            v14 = v13 * 0.1000000014901161;
            v15 = v14 * 0.1000000014901161;
            *(float *)((char *)&v20 + v9) = v15;
          }
          while ( v12 );
        }
        if ( v11 < v10 )
        {
          v16 = v10 - v11;
          do
          {
            --v16;
            *(float *)((char *)&v20 + v9) = *(float *)((char *)&v20 + v9) * 0.1000000014901161;
          }
          while ( v16 );
        }
      }
      if ( *(float *)(v1 + 20836) <= (double)*(float *)((char *)&v20 + v9) )
        v19 = *(float *)((char *)&v20 + v9);
      v9 += 4;
    }
    while ( v9 < 16 );
    v4 = v28;
  }
  return !(*(_WORD *)(v2 + 5) & 0x2000)
      && (!v3 || *(_BYTE *)(v1 + 20832) && 0.0 != v19)
      && (!v4 || *(_BYTE *)(v1 + 20833))
      && !v18;
}
// 10505750: using guessed type int dword_10505750;

//----- (10044810) --------------------------------------------------------
char __cdecl sub_10044810(_DWORD *a1, unsigned __int8 a2, _BYTE *a3)
{
  char result; // al@2

  if ( !byte_10504EB8 )
  {
    result = dword_10504EAC;
    if ( dword_10504EAC == *a1 )
    {
      result = byte_10504EA8;
      if ( (unsigned __int8)byte_10504EA8 <= a2 && a2 != -1 )
      {
        *a3 = byte_10504EA8;
        result = dword_10504EBC;
        *a1 = dword_10504EBC;
        byte_10504EB8 = 0;
      }
    }
  }
  return result;
}
// 10504EA8: using guessed type char byte_10504EA8;
// 10504EAC: using guessed type int dword_10504EAC;
// 10504EB8: using guessed type char byte_10504EB8;
// 10504EBC: using guessed type int dword_10504EBC;

//----- (10044850) --------------------------------------------------------
int __cdecl sub_10044850(unsigned __int16 a1, int a2)
{
  char v3; // [sp+4h] [bp-Ch]@3
  char v4; // [sp+7h] [bp-9h]@3

  if ( a1 == -1 )
  {
    *(_DWORD *)a2 = 538976288;
    *(_WORD *)(a2 + 4) = 32;
  }
  else
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(
      dword_10504F90 + a1 * (unsigned __int16)word_10504F94,
      5,
      &v3);
    sub_1004DD80(&v4, 5, a2);
  }
  return sub_1004A3B0(a2, 5);
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F90: using guessed type int dword_10504F90;
// 10504F94: using guessed type __int16 word_10504F94;

//----- (100448E0) --------------------------------------------------------
int __cdecl sub_100448E0(int *a1)
{
  char v1; // dl@1
  int result; // eax@1
  char v3; // [sp+4h] [bp-10h]@1
  char v4; // [sp+7h] [bp-Dh]@1

  (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(*a1, 14, &v3);
  v1 = v4;
  *a1 += (unsigned __int16)word_10505648;
  result = *a1;
  if ( (v1 & 0xFu) <= 3 )
    *a1 = result + (unsigned __int16)word_1050564A;
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505648: using guessed type __int16 word_10505648;
// 1050564A: using guessed type __int16 word_1050564A;

//----- (10044930) --------------------------------------------------------
char __cdecl sub_10044930(int a1, int a2, void *a3)
{
  float *v3; // ebp@1
  char *v4; // ebx@1
  int v5; // eax@1
  char v6; // dl@1
  char *v7; // eax@1
  int v8; // edx@2
  char *v9; // ecx@3
  int v10; // eax@3
  int v11; // edx@7
  double v12; // st7@12
  char *v13; // ecx@14
  unsigned __int16 *v14; // eax@14
  char *v15; // ecx@17
  unsigned __int16 *v16; // eax@17
  int v17; // edx@21
  int v18; // edx@32
  int v19; // edx@42
  int v20; // edx@56
  char v21; // al@60
  unsigned __int8 v22; // al@61
  unsigned __int16 *v24; // [sp-18h] [bp-68h]@9
  float *v25; // [sp-14h] [bp-64h]@9
  float *v26; // [sp-10h] [bp-60h]@9
  float *v27; // [sp-10h] [bp-60h]@56
  char *v28; // [sp-Ch] [bp-5Ch]@9
  char *v29; // [sp-Ch] [bp-5Ch]@56
  char *v30; // [sp-8h] [bp-58h]@9
  char *v31; // [sp-8h] [bp-58h]@56
  char *v32; // [sp-4h] [bp-54h]@9
  char *v33; // [sp-4h] [bp-54h]@56
  char *v34; // [sp+10h] [bp-40h]@3
  char *v35; // [sp+10h] [bp-40h]@14
  char *v36; // [sp+10h] [bp-40h]@17
  char *v37; // [sp+10h] [bp-40h]@22
  char *v38; // [sp+10h] [bp-40h]@25
  char *v39; // [sp+10h] [bp-40h]@33
  char *v40; // [sp+10h] [bp-40h]@36
  char *v41; // [sp+10h] [bp-40h]@43
  char *v42; // [sp+10h] [bp-40h]@46
  char *v43; // [sp+10h] [bp-40h]@51
  float *v44; // [sp+14h] [bp-3Ch]@1
  int v45; // [sp+18h] [bp-38h]@1

  memset(a3, 0, 0x3Cu);
  *((float *)a3 + 3) = 9.9999996e24;
  *((float *)a3 + 4) = 9.9999996e24;
  *((_BYTE *)a3 + 7) = 4;
  v3 = (float *)((char *)a3 + 12);
  v4 = (char *)a3 + 7;
  v44 = (float *)((char *)a3 + 16);
  (*(void (__cdecl **)(_DWORD, signed int, int *))dword_10504EB4)(*(_DWORD *)a1, 50, &v45);
  *(_DWORD *)a1 += (unsigned __int16)word_10505656;
  v5 = (unsigned __int16)word_10505656;
  v6 = v45 & 0x1F;
  *(_BYTE *)a2 = 0;
  *(_BYTE *)a3 = v6;
  v7 = (char *)&v45 + v5;
  switch ( v45 & 0x1F )
  {
    case 0:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_1050565A;
      v8 = (unsigned __int16)word_1050565A;
      goto LABEL_3;
    case 1:
      *(_DWORD *)a1 += (unsigned __int16)word_1050565C;
      *v4 = 1;
      v12 = sub_100444B0(
              *((_WORD *)v7 + 1) & 0x7FFF,
              COERCE_FLOAT(((unsigned int)*((_WORD *)v7 + 1) >> 15) & 0xFFFFFF01));
      goto LABEL_13;
    case 2:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_1050565E;
      v35 = v7;
      v13 = v7;
      v14 = (unsigned __int16 *)&v7[(unsigned __int16)word_1050565E];
      if ( (*v13 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_10505688;
        v13 = v35;
        v14 = (unsigned __int16 *)((char *)v14 + (unsigned __int16)word_10505688);
      }
      sub_10044510(
        *v13 & 1,
        (*((_WORD *)v13 + 2) >> 14) & 3,
        (_DWORD *)a1,
        v14,
        v3,
        v44,
        v4,
        (_BYTE *)a3 + 8,
        (_BYTE *)a3 + 9);
      break;
    case 3:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505660;
      v36 = v7;
      v15 = v7;
      v16 = (unsigned __int16 *)&v7[(unsigned __int16)word_10505660];
      if ( (*v15 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_10505688;
        v15 = v36;
        v16 = (unsigned __int16 *)((char *)v16 + (unsigned __int16)word_10505688);
      }
      sub_10044510(
        *v15 & 1,
        (*((_WORD *)v15 + 2) >> 14) & 3,
        (_DWORD *)a1,
        v16,
        v3,
        v44,
        v4,
        (_BYTE *)a3 + 8,
        (_BYTE *)a3 + 9);
      break;
    case 4:
      *(_DWORD *)a1 += (unsigned __int16)word_10505662;
      sub_10044510(
        ((unsigned __int8)v7[2] >> 2) & 1,
        v7[2] & 3,
        (_DWORD *)a1,
        (unsigned __int16 *)&v7[(unsigned __int16)word_10505662],
        v3,
        v44,
        v4,
        (_BYTE *)a3 + 8,
        (_BYTE *)a3 + 9);
      break;
    case 5:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505664;
      v17 = (unsigned __int16)word_10505664;
      goto LABEL_22;
    case 6:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      v38 = v7;
      if ( (*v7 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
        v7 += (unsigned __int16)word_1050568C;
      }
      *(_DWORD *)a1 += (unsigned __int16)word_10505666;
      sub_10044510(
        *v38 & 1,
        v38[2] & 3,
        (_DWORD *)a1,
        (unsigned __int16 *)&v7[(unsigned __int16)word_10505666],
        v3,
        v44,
        v4,
        (_BYTE *)a3 + 8,
        (_BYTE *)a3 + 9);
      break;
    case 7:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      if ( (*v7 & 0xF0u) <= 0x30 )
        *(_DWORD *)a1 += (unsigned __int16)word_10505688;
      *(_DWORD *)a1 += (unsigned __int16)word_10505668;
      *v4 = 1;
      v12 = sub_100444B0(
              *((_WORD *)v7 + 2) & 0x7FFF,
              COERCE_FLOAT(((unsigned int)*((_WORD *)v7 + 2) >> 15) & 0xFFFFFF01));
      goto LABEL_13;
    case 8:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_1050566A;
      v18 = (unsigned __int16)word_1050566A;
      goto LABEL_33;
    case 9:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_1050566C;
      v8 = (unsigned __int16)word_1050566C;
      goto LABEL_3;
    case 0xA:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_1050566E;
      v40 = v7;
      v9 = v7;
      v10 = (int)&v7[(unsigned __int16)word_1050566E];
      if ( (*v9 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
        v9 = v40;
        v10 += (unsigned __int16)word_1050568C;
      }
      v32 = (char *)a3 + 9;
      v30 = (char *)a3 + 8;
      v28 = (char *)a3 + 7;
      v26 = (float *)((char *)a3 + 16);
      v25 = (float *)((char *)a3 + 12);
      v24 = (unsigned __int16 *)v10;
      LOBYTE(v10) = v9[4];
      goto LABEL_10;
    case 0xB:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      if ( (*v7 & 0xF0u) <= 0x30 )
        *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
      *(_DWORD *)a1 += (unsigned __int16)word_10505670;
      *v4 = 1;
      v12 = sub_100444B0(
              *((_WORD *)v7 + 2) & 0x7FFF,
              COERCE_FLOAT(((unsigned int)*((_WORD *)v7 + 2) >> 15) & 0xFFFFFF01));
      goto LABEL_13;
    case 0xC:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505672;
      v19 = (unsigned __int16)word_10505672;
      goto LABEL_43;
    case 0xD:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505674;
      v19 = (unsigned __int16)word_10505674;
LABEL_43:
      v41 = v7;
      v9 = v7;
      v10 = (int)&v7[v19];
      if ( (*v9 & 0xF0u) > 0x30 )
        goto LABEL_9;
      *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
      v11 = (unsigned __int16)word_1050568C;
      v9 = v41;
      goto LABEL_8;
    case 0xE:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      v42 = v7;
      if ( (*v7 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
        v7 += (unsigned __int16)word_1050568C;
      }
      *(_DWORD *)a1 += (unsigned __int16)word_10505676;
      sub_10044510(
        *v42 & 1,
        v42[2] & 3,
        (_DWORD *)a1,
        (unsigned __int16 *)&v7[(unsigned __int16)word_10505676],
        v3,
        v44,
        v4,
        (_BYTE *)a3 + 8,
        (_BYTE *)a3 + 9);
      break;
    case 0xF:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505678;
      v18 = (unsigned __int16)word_10505678;
      goto LABEL_33;
    case 0x10:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_1050567A;
      v8 = (unsigned __int16)word_1050567A;
LABEL_3:
      v34 = v7;
      v9 = v7;
      v10 = (int)&v7[v8];
      if ( (*v9 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_10505688;
        v9 = v34;
        v10 += (unsigned __int16)word_10505688;
      }
      if ( (v9[2] & 0xF0u) > 0x30 )
        goto LABEL_9;
      *(_DWORD *)a1 += (unsigned __int16)word_10505688;
      goto LABEL_7;
    case 0x11:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      v43 = v7;
      if ( (*v7 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
        v7 += (unsigned __int16)word_1050568C;
      }
      *(_DWORD *)a1 += (unsigned __int16)word_1050567C;
      sub_10044510(
        *v43 & 1,
        v43[2] & 3,
        (_DWORD *)a1,
        (unsigned __int16 *)&v7[(unsigned __int16)word_1050567C],
        v3,
        v44,
        v4,
        (_BYTE *)a3 + 8,
        (_BYTE *)a3 + 9);
      break;
    case 0x12:
      *(_DWORD *)a1 += (unsigned __int16)word_1050567E;
      *v4 = 1;
      v12 = sub_100444B0(
              *((_WORD *)v7 + 1) & 0x7FFF,
              COERCE_FLOAT(((unsigned int)*((_WORD *)v7 + 1) >> 15) & 0xFFFFFF01));
LABEL_13:
      *v3 = v12;
      break;
    case 0x13:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505680;
      v18 = (unsigned __int16)word_10505680;
LABEL_33:
      v39 = v7;
      v9 = v7;
      v10 = (int)&v7[v18];
      if ( (*v9 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_10505688;
        v9 = v39;
LABEL_7:
        v11 = (unsigned __int16)word_10505688;
LABEL_8:
        v10 += v11;
      }
LABEL_9:
      v32 = (char *)a3 + 9;
      v30 = (char *)a3 + 8;
      v28 = (char *)a3 + 7;
      v26 = (float *)((char *)a3 + 16);
      v25 = (float *)((char *)a3 + 12);
      v24 = (unsigned __int16 *)v10;
      LOWORD(v10) = *((_WORD *)v9 + 2) >> 14;
      goto LABEL_10;
    case 0x14:
      *(_DWORD *)a1 += (unsigned __int16)word_10505682;
      v33 = (char *)a3 + 9;
      v31 = (char *)a3 + 8;
      v29 = (char *)a3 + 7;
      v27 = (float *)((char *)a3 + 16);
      v20 = (unsigned __int16)word_10505682;
      goto LABEL_57;
    case 0x15:
      *(_DWORD *)a1 += (unsigned __int16)word_10505684;
      v33 = (char *)a3 + 9;
      v31 = (char *)a3 + 8;
      v29 = (char *)a3 + 7;
      v27 = (float *)((char *)a3 + 16);
      v20 = (unsigned __int16)word_10505684;
LABEL_57:
      sub_10044510(
        ((unsigned __int8)v7[2] >> 2) & 1,
        v7[2] & 3,
        (_DWORD *)a1,
        (unsigned __int16 *)&v7[v20],
        v3,
        v27,
        v29,
        v31,
        v33);
      break;
    case 0x16:
      *(_BYTE *)a2 = ((unsigned __int8)*v7 >> 1) & 7;
      *(_DWORD *)a1 += (unsigned __int16)word_10505686;
      v17 = (unsigned __int16)word_10505686;
LABEL_22:
      v37 = v7;
      v9 = v7;
      v10 = (int)&v7[v17];
      if ( (*v9 & 0xF0u) <= 0x30 )
      {
        *(_DWORD *)a1 += (unsigned __int16)word_1050568C;
        v9 = v37;
        v10 += (unsigned __int16)word_1050568C;
      }
      v32 = (char *)a3 + 9;
      v30 = (char *)a3 + 8;
      v28 = (char *)a3 + 7;
      v26 = (float *)((char *)a3 + 16);
      v25 = (float *)((char *)a3 + 12);
      v24 = (unsigned __int16 *)v10;
      LOBYTE(v10) = v9[6];
LABEL_10:
      sub_10044510(*v9 & 1, v10 & 3, (_DWORD *)a1, v24, v25, v26, v28, v30, v32);
      break;
    default:
      v21 = v45 & 0x3F;
      *(_BYTE *)a3 = 24;
      LOBYTE(v45) = v21;
      *(_DWORD *)a1 = 0xFFFFFF;
      break;
  }
  v22 = v45;
  if ( v45 & 0x40 )
    *(_DWORD *)a1 += (unsigned __int16)word_10505658;
  return v22 >> 7;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505656: using guessed type __int16 word_10505656;
// 10505658: using guessed type __int16 word_10505658;
// 1050565A: using guessed type __int16 word_1050565A;
// 1050565C: using guessed type __int16 word_1050565C;
// 1050565E: using guessed type __int16 word_1050565E;
// 10505660: using guessed type __int16 word_10505660;
// 10505662: using guessed type __int16 word_10505662;
// 10505664: using guessed type __int16 word_10505664;
// 10505666: using guessed type __int16 word_10505666;
// 10505668: using guessed type __int16 word_10505668;
// 1050566A: using guessed type __int16 word_1050566A;
// 1050566C: using guessed type __int16 word_1050566C;
// 1050566E: using guessed type __int16 word_1050566E;
// 10505670: using guessed type __int16 word_10505670;
// 10505672: using guessed type __int16 word_10505672;
// 10505674: using guessed type __int16 word_10505674;
// 10505676: using guessed type __int16 word_10505676;
// 10505678: using guessed type __int16 word_10505678;
// 1050567A: using guessed type __int16 word_1050567A;
// 1050567C: using guessed type __int16 word_1050567C;
// 1050567E: using guessed type __int16 word_1050567E;
// 10505680: using guessed type __int16 word_10505680;
// 10505682: using guessed type __int16 word_10505682;
// 10505684: using guessed type __int16 word_10505684;
// 10505686: using guessed type __int16 word_10505686;
// 10505688: using guessed type __int16 word_10505688;
// 1050568C: using guessed type __int16 word_1050568C;

//----- (10045090) --------------------------------------------------------
char __cdecl sub_10045090(int a1, _BYTE *a2)
{
  _BYTE *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-3Ch]@2

  v2 = a2;
  *a2 = 0;
  do
  {
    ++*v2;
    result = sub_10044930(a1, (int)&a2, &v4);
  }
  while ( result );
  return result;
}

//----- (100450C0) --------------------------------------------------------
char __cdecl sub_100450C0(_DWORD *a1)
{
  _DWORD *v1; // esi@1
  char result; // al@2
  char v3; // [sp+4h] [bp-4h]@2

  v1 = a1;
  do
  {
    (*(void (__cdecl **)(_DWORD, signed int, char *))dword_10504EB4)(*v1, 3, &v3);
    *v1 += (unsigned __int16)word_10505654;
    result = sub_10045090((int)v1, &a1);
  }
  while ( v3 & 1 );
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505654: using guessed type __int16 word_10505654;

//----- (10045110) --------------------------------------------------------
int __cdecl sub_10045110(int a1, char a2, int a3)
{
  int result; // eax@3

  if ( !byte_10504EB8 && a1 != 0xFFFFFF )
  {
    result = a3;
    if ( a3 != 0xFFFFFF )
    {
      byte_10504EA8 = a2;
      dword_10504EBC = a3;
      dword_10504EAC = a1;
      byte_10504EB8 = 0;
    }
  }
  return result;
}
// 10504EA8: using guessed type char byte_10504EA8;
// 10504EAC: using guessed type int dword_10504EAC;
// 10504EB8: using guessed type char byte_10504EB8;
// 10504EBC: using guessed type int dword_10504EBC;

//----- (10045150) --------------------------------------------------------
signed int __cdecl sub_10045150(unsigned int a1, int a2)
{
  signed int v2; // esi@1
  char v3; // dl@2
  char v4; // al@3
  char v5; // bl@3
  signed int result; // eax@7
  char v7; // [sp+8h] [bp-18h]@3
  char v8; // [sp+Ch] [bp-14h]@3
  char v9; // [sp+Dh] [bp-13h]@3
  char v10; // [sp+Eh] [bp-12h]@3
  char v11; // [sp+Fh] [bp-11h]@3
  char v12; // [sp+10h] [bp-10h]@3
  char v13; // [sp+11h] [bp-Fh]@3
  char v14; // [sp+14h] [bp-Ch]@4

  v2 = 0x3FFFF;
  if ( ((unsigned __int8)byte_100A8D40[2 * *(_BYTE *)(a2 + 1)] >> 4) & 1 )
  {
    v3 = *(_BYTE *)(a2 + 2);
    if ( ((unsigned __int8)byte_100A8D40[2 * (unsigned __int8)v3] >> 4) & 1 )
    {
      v4 = *(_BYTE *)(a2 + 3);
      v10 = *(_BYTE *)(a2 + 1);
      v8 = 82;
      v9 = 87;
      v11 = v3;
      v12 = v4;
      v13 = 0;
      sub_1004A3B0((int)&v8, 6);
      v5 = sub_1003E0A0(a1);
      v7 = 0;
      if ( v5 > 0 )
      {
        while ( 1 )
        {
          v2 = sub_1003DA30(a1, v7, 0);
          sub_1003F1F0(v2, (int)&v14);
          if ( !strcmp(&v8, &v14) )
            break;
          v2 = sub_1003DA30(a1, v7, 1);
          sub_1003F1F0(v2, (int)&v14);
          if ( !strcmp(&v8, &v14) )
            break;
          if ( ++v7 >= v5 )
            return 0x3FFFF;
        }
      }
    }
    result = v2;
  }
  else
  {
    result = 0x3FFFF;
  }
  return result;
}

//----- (100452E0) --------------------------------------------------------
char __usercall sub_100452E0@<al>(_DWORD *a1@<edi>, _DWORD *a2@<esi>, const char *a3, _BYTE *a4, unsigned __int16 a5, _DWORD *a6)
{
  char v6; // bl@1
  _BYTE *v7; // eax@1
  int v8; // eax@23
  char v9; // cl@24
  int v10; // eax@31
  char v11; // cl@32
  char v13; // [sp+Bh] [bp-35h]@1
  char v14; // [sp+Ch] [bp-34h]@1
  char v15; // [sp+Dh] [bp-33h]@1
  char v16; // [sp+10h] [bp-30h]@1
  char v17; // [sp+11h] [bp-2Fh]@1
  char v18; // [sp+14h] [bp-2Ch]@1
  char v19; // [sp+1Ch] [bp-24h]@7
  char v20; // [sp+20h] [bp-20h]@7
  char v21[8]; // [sp+24h] [bp-1Ch]@24
  char v22[7]; // [sp+2Ch] [bp-14h]@7
  char v23[9]; // [sp+33h] [bp-Dh]@15

  v6 = 1;
  LOBYTE(v7) = 1;
  *a6 = 0xFFFFFF;
  v13 = 0;
  v18 = 1;
  v14 = 1;
  v15 = 1;
  v16 = 0;
  v17 = 0;
  while ( 1 )
  {
    if ( v14 )
    {
      if ( !v16 )
      {
        (*(void (__cdecl **)(_DWORD, signed int, char *))dword_10504EB4)(*a1, 5, &v19);
        v18 = v19 & 1;
        sub_1004DD80(&v20, 6, (int)v22);
        sub_1004A3B0((int)v22, 6);
        LOBYTE(v7) = v15;
      }
      if ( !(_BYTE)v7 )
        goto LABEL_18;
      goto LABEL_9;
    }
    if ( !(_BYTE)v7 )
      break;
LABEL_9:
    if ( !v17 )
    {
      while ( 1 )
      {
        (*(void (__cdecl **)(_DWORD, signed int, char *))dword_10504EB4)(*a2, 5, &v19);
        v6 = v19 & 1;
        if ( (*(_BYTE *)(dword_10505750 + 20833) || !(v19 & 8)) && !(v19 & 6) )
        {
          sub_1004DD80(&v20, 6, (int)v23);
          sub_1004A3B0((int)v23, 6);
          goto LABEL_17;
        }
        if ( !v6 )
          break;
        *a2 += a5;
        sub_100450C0(a2);
      }
      v15 = 0;
LABEL_17:
      LOBYTE(v7) = v15;
    }
LABEL_18:
    if ( v14 )
    {
      if ( !(_BYTE)v7 )
        goto LABEL_23;
    }
    else if ( (_BYTE)v7 )
    {
      goto LABEL_31;
    }
    if ( strcmp(v22, v23) <= 0 )
    {
LABEL_23:
      v8 = 0;
      do
      {
        v9 = v22[v8];
        v21[v8++] = v9;
      }
      while ( v9 );
      *a6 = *a1;
      if ( !strcmp(a3, v21) )
        v13 = 1;
      if ( !v18 || v13 )
      {
        v7 = a4;
        ++*v7;
        v14 = 0;
      }
      else
      {
        *a1 += a5;
        sub_100450C0(a1);
        v7 = a4;
        ++*v7;
        v16 = 0;
        v17 = 1;
      }
      goto LABEL_39;
    }
LABEL_31:
    v10 = 0;
    do
    {
      v11 = v23[v10];
      v21[v10++] = v11;
    }
    while ( v11 );
    *a6 = *a2;
    if ( !strcmp(a3, v21) )
      v13 = 1;
    v7 = a4;
    ++*v7;
    if ( v6 && !v13 )
    {
      *a2 += a5;
      LOBYTE(v7) = sub_100450C0(a2);
      v16 = 1;
      v17 = 0;
      goto LABEL_40;
    }
    v15 = 0;
LABEL_39:
    if ( v13 )
      goto LABEL_42;
LABEL_40:
    if ( *a6 == 0xFFFFFF )
      goto LABEL_5;
    LOBYTE(v7) = v15;
  }
  *a6 = 0xFFFFFF;
  if ( !v13 )
  {
LABEL_5:
    *a6 = 0xFFFFFF;
    return (unsigned int)v7;
  }
LABEL_42:
  *a6 += a5;
  v7 = a4;
  --*v7;
  return (unsigned int)v7;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505750: using guessed type int dword_10505750;
// 100452E0: using guessed type char var_14[7];
// 100452E0: using guessed type char var_D[9];
// 100452E0: using guessed type char var_1C[8];

//----- (100455D0) --------------------------------------------------------
char __usercall sub_100455D0@<al>(_BYTE *a1@<edi>, _DWORD *a2@<esi>, const char *a3, unsigned __int16 a4)
{
  char v4; // bl@1
  int v5; // eax@5
  char v7; // [sp+8h] [bp-14h]@2
  char v8; // [sp+Ch] [bp-10h]@2
  char v9; // [sp+10h] [bp-Ch]@2

  v4 = 0;
  while ( 1 )
  {
    (*(void (__cdecl **)(_DWORD, signed int, char *))dword_10504EB4)(*a2, 5, &v7);
    *a2 += a4;
    sub_1004DD80(&v8, 6, (int)&v9);
    sub_1004A3B0((int)&v9, 6);
    if ( (*(_BYTE *)(dword_10505750 + 20833) || !(v7 & 8)) && !(v7 & 6) )
    {
      v5 = strcmp(a3, &v9);
      if ( !v5 )
      {
        v4 = 1;
        goto LABEL_9;
      }
      ++*a1;
    }
    LOBYTE(v5) = sub_100450C0(a2);
LABEL_9:
    if ( !(v7 & 1) )
      break;
    if ( v4 )
      return v5;
  }
  if ( !v4 )
    *a2 = 0xFFFFFF;
  return v5;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505750: using guessed type int dword_10505750;

//----- (100456D0) --------------------------------------------------------
char __usercall sub_100456D0@<al>(_DWORD *a1@<edi>, _BYTE *a2@<esi>, char a3, const char *a4)
{
  char v4; // bl@1
  int v5; // eax@2
  unsigned __int16 v6; // ax@3
  char v8; // [sp+Bh] [bp-15h]@6
  unsigned __int8 v9; // [sp+Ch] [bp-14h]@2
  int v10; // [sp+Dh] [bp-13h]@3
  char v11; // [sp+14h] [bp-Ch]@3

  *a2 = -1;
  v4 = 0;
  while ( 1 )
  {
    LOBYTE(v5) = (*(int (__cdecl **)(_DWORD, signed int, unsigned __int8 *))dword_10504EB4)(*a1, 3, &v9);
    if ( ((v9 >> 1) & 3) != a3 || (v6 = v10, ++*a2, sub_10044850(v6, (int)&v11), (v5 = strcmp(a4, &v11)) != 0) )
    {
      if ( !v4 )
      {
        *a1 += (unsigned __int16)word_10505654;
        LOBYTE(v5) = sub_10045090((int)a1, &v8);
      }
    }
    else
    {
      v4 = 1;
    }
    if ( !(v9 & 1) )
      break;
    if ( v4 )
      return v5;
  }
  if ( !v4 )
    *a1 = 0xFFFFFF;
  return v5;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505654: using guessed type __int16 word_10505654;

//----- (100457C0) --------------------------------------------------------
void __usercall sub_100457C0(int a1@<esi>, int a2, unsigned int a3, _BYTE *a4)
{
  int v4; // ebx@1
  _BYTE *v5; // ebp@1
  float v6; // edi@1
  unsigned __int8 v7; // cl@1
  int v8; // ebx@1
  unsigned __int16 v9; // ax@1
  int v10; // eax@4
  unsigned __int8 v11; // al@7
  unsigned int v12; // ecx@7
  unsigned __int16 v13; // ax@7
  float *v14; // ecx@9
  _BYTE *v15; // eax@9
  float *v16; // edx@9
  signed int v17; // edi@9
  __int16 v18; // di@12
  unsigned __int8 v19; // dl@13
  unsigned int v20; // eax@13
  char v21; // cl@13
  int v22; // eax@13
  int v23; // eax@20
  int v24; // eax@27
  unsigned int v25; // eax@32
  _BYTE *v26; // ebx@32
  int *v27; // ebp@32
  int v28; // edx@34
  int v29; // edi@34
  bool v30; // sf@34
  unsigned __int8 v31; // of@34
  unsigned int v32; // eax@35
  int v33; // edx@38
  int v34; // edi@48
  char v35; // bl@49
  char v36; // al@51
  char v37; // cl@51
  double v38; // st7@60
  signed int v39; // edi@60
  char v40; // cl@61
  signed int v41; // ebp@68
  int v42; // [sp+Eh] [bp-72h]@4
  float v43; // [sp+14h] [bp-6Ch]@5
  float v44; // [sp+18h] [bp-68h]@7
  float v45; // [sp+1Ch] [bp-64h]@68
  float v46; // [sp+20h] [bp-60h]@32
  unsigned __int8 v47; // [sp+24h] [bp-5Ch]@1
  unsigned __int16 v48; // [sp+25h] [bp-5Bh]@7
  unsigned int v49; // [sp+27h] [bp-59h]@1
  char v50; // [sp+2Bh] [bp-55h]@8
  unsigned __int8 v51; // [sp+2Ch] [bp-54h]@13
  unsigned int v52; // [sp+2Dh] [bp-53h]@13
  int v53; // [sp+34h] [bp-4Ch]@32
  unsigned int v54; // [sp+38h] [bp-48h]@32
  unsigned int v55; // [sp+3Ch] [bp-44h]@32
  unsigned int v56; // [sp+40h] [bp-40h]@32
  char v57; // [sp+44h] [bp-3Ch]@51
  float v58; // [sp+50h] [bp-30h]@55

  v4 = a2;
  v5 = a4;
  v6 = *(float *)&a3;
  (*(void (__cdecl **)(int, signed int, unsigned __int8 *))dword_10504EB4)(a2, 14, &v47);
  v7 = v49;
  v8 = (unsigned __int16)word_10505648 + v4;
  v9 = v49 & 0xF;
  a2 = v8;
  if ( v9 == 9 )
  {
    *(_DWORD *)(a1 + 24) = 0x3FFFF;
  }
  else
  {
    if ( v9 > 3u )
    {
      v43 = v6;
      HIWORD(v43) = (v9 << 10) | (v49 >> 6) & 0x3FC | BYTE2(v6) & 3;
      v10 = LODWORD(v43);
    }
    else
    {
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v8, 1, (char *)&v42 + 1);
      a2 = (unsigned __int16)word_1050564A + v8;
      v10 = sub_1003F440(
              v49 & 0xF,
              ((unsigned int)(unsigned __int16)v49 >> 8) & 0xFC00FF | ((4 * BYTE1(v42) | HIWORD(v49) & 0xC00) << 6));
      v7 = v49;
    }
    *(_DWORD *)(a1 + 24) = v10;
  }
  v11 = v47;
  *(_BYTE *)(a1 + 8) = (v7 >> 7) & 1;
  *(_BYTE *)(a1 + 9) = (v11 >> 6) & 1;
  v12 = *(unsigned int *)((char *)&v49 + 2);
  *(_BYTE *)(a1 + 7) = v11 >> 7;
  LODWORD(v44) = v12 & 0x3FF;
  *(_BYTE *)(a1 + 6) = (v11 >> 1) & 0x1F;
  v13 = v48;
  *(float *)(a1 + 48) = (double)(v12 & 0x3FF) * 0.0001745329209370539;
  *(_BYTE *)(a1 + 10) = (v12 >> 12) & 1;
  sub_10044850(v13, a1);
  *(_BYTE *)(a1 + 21) = -1;
  if ( (unsigned __int16)word_10505648 >= 8u )
    *(_BYTE *)(a1 + 21) = v50;
  v14 = (float *)(a1 + 32);
  v15 = (_BYTE *)(a1 + 17);
  v16 = (float *)(a1 + 32);
  v17 = 4;
  do
  {
    *(v15 - 4) = 15;
    *v15 = 63;
    *v16 = 0.0;
    ++v16;
    ++v15;
    --v17;
  }
  while ( v17 );
  if ( (unsigned __int16)word_10505648 < 0xDu )
  {
    if ( *(_BYTE *)(a1 + 9) )
      *(_BYTE *)(a1 + 13) = 0;
    goto LABEL_47;
  }
  v18 = HIWORD(v49);
  if ( HIWORD(v49) & 0x8000 )
  {
    v53 = v51 & 3;
    v54 = ((unsigned int)v51 >> 2) & 3;
    v56 = (unsigned int)v51 >> 6;
    v25 = v52;
    v55 = ((unsigned int)v51 >> 4) & 3;
    LODWORD(v46) = v52 & 0x7F;
    *v14 = (double)LODWORD(v46);
    LODWORD(v46) = (v25 >> 7) & 0x7F;
    *(float *)(a1 + 36) = (double)LODWORD(v46);
    LODWORD(v46) = (v25 >> 14) & 0x7F;
    *(float *)(a1 + 40) = (double)LODWORD(v46);
    LODWORD(v46) = (v25 >> 21) & 0x7F;
    *(float *)(a1 + 44) = (double)LODWORD(v46);
    v26 = (_BYTE *)(a1 + 13);
    v27 = &v53;
    LODWORD(v43) = 4;
    while ( 1 )
    {
      if ( 0.0 != *v14 )
      {
        v28 = *v27;
        v29 = 0;
        v31 = __OFSUB__(*v27, 4);
        v30 = *v27 - 4 < 0;
        *v26 = 4;
        if ( !(v30 ^ v31) )
        {
          v32 = ((unsigned int)(v28 - 4) >> 2) + 1;
          v29 = 4 * v32;
          do
          {
            --v32;
            v44 = *v14 * 0.1000000014901161;
            v44 = v44 * 0.1000000014901161;
            v44 = v44 * 0.1000000014901161;
            *v14 = v44;
          }
          while ( v32 );
        }
        if ( v29 < v28 )
        {
          v33 = v28 - v29;
          do
          {
            --v33;
            *v14 = *v14 * 0.1000000014901161;
          }
          while ( v33 );
        }
        if ( *(float *)(dword_10505750 + 20836) <= (double)*v14 )
          goto LABEL_43;
        *v14 = 0.0;
      }
      *v26 = 15;
LABEL_43:
      ++v27;
      ++v14;
      ++v26;
      --LODWORD(v43);
      if ( v43 == 0.0 )
        goto LABEL_47;
    }
  }
  v19 = v51;
  *(_BYTE *)(a1 + 14) = v51 >> 4;
  v20 = v52;
  v21 = v52 & 0xF;
  *(_BYTE *)(a1 + 13) = v19 & 0xF;
  *(_BYTE *)(a1 + 15) = v21;
  *(_BYTE *)(a1 + 16) = (v20 >> 4) & 0xF;
  *(_BYTE *)(a1 + 17) = BYTE1(v20) & 0x3F;
  *(_BYTE *)(a1 + 20) = (v20 >> 26) & 0x3F;
  *(_BYTE *)(a1 + 18) = (v20 >> 14) & 0x3F;
  *(_BYTE *)(a1 + 19) = (v20 >> 20) & 0x3F;
  v22 = 0;
  while ( *(_BYTE *)(a1 + v22 + 13) != 3 )
  {
    if ( ++v22 >= 4 )
      goto LABEL_18;
  }
  *(_BYTE *)(a1 + 9) = 1;
LABEL_18:
  if ( !*v5 )
  {
    if ( v18 & 0x4000 )
    {
      v23 = 0;
      while ( *(_BYTE *)(a1 + v23 + 13) != 15 )
      {
        if ( ++v23 >= 4 )
          goto LABEL_25;
      }
      *(_BYTE *)(v23 + a1 + 13) = 2;
    }
LABEL_25:
    if ( !*v5 && v18 & 0x2000 )
    {
      v24 = 0;
      while ( *(_BYTE *)(a1 + v24 + 13) != 15 )
      {
        if ( ++v24 >= 4 )
          goto LABEL_47;
      }
      *(_BYTE *)(v24 + a1 + 13) = 1;
    }
  }
LABEL_47:
  *(_BYTE *)(a1 + 11) = 0;
  v43 = 9.9999996e24;
  *(_BYTE *)(a1 + 12) = 0;
  v44 = 9.9999996e24;
  do
  {
    v34 = a2;
    (*(void (__cdecl **)(_DWORD, signed int, char *))dword_10504EB4)(a2, 3, (char *)&v42 + 2);
    a2 = (unsigned __int16)word_1050564C + v34;
    if ( BYTE2(v42) & 1 )
    {
      ++*(_BYTE *)(a1 + 11);
      v35 = 1;
    }
    else
    {
      v35 = 0;
    }
    do
    {
      v36 = sub_10044930((int)&a2, (int)&v42, &v57);
      v37 = v42;
      if ( (_BYTE)v42 == 1 || v35 )
        ++*(_BYTE *)(a1 + 12);
      if ( v37 == 2 )
      {
        v43 = v58;
      }
      else if ( v37 == 3 )
      {
        v44 = v58;
      }
      v35 = 0;
    }
    while ( v36 );
  }
  while ( BYTE2(v42) & 1 );
  v38 = v43;
  v39 = 3;
  do
  {
    v40 = *(_BYTE *)(a1 + v39 + 13);
    LOBYTE(v42) = 1;
    if ( v40 == 3 && (v38 < -304.8 || v38 > 7620.0) )
      LOBYTE(v42) = 0;
    if ( (v40 == 2 || v40 == 1 || v40 == 4)
      && ((v41 = sub_10045150(a3, a1), v45 = sub_1003E1C0(v41), v46 = sub_1003E240(v41), v38 = v43, v43 > 7620.0)
       || v44 > v38
       || v45 > (double)v44
       || v45 < -304.8
       || *(float *)(a1 + 48) <= 0.0
       || *(float *)(a1 + 48) >= 0.1745329251994333
       || v46 < -150.0
       || v46 > 150.0)
      || !(_BYTE)v42 )
    {
      if ( v39 < 3 )
      {
        memcpy((void *)(a1 + v39 + 13), (const void *)(v39 + a1 + 14), 3 - v39);
        memcpy((void *)(a1 + v39 + 17), (const void *)(v39 + a1 + 18), 3 - v39);
        v38 = v43;
      }
      *(_BYTE *)(a1 + 16) = 15;
      *(_BYTE *)(a1 + 20) = 63;
    }
    --v39;
  }
  while ( v39 >= 0 );
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505648: using guessed type __int16 word_10505648;
// 1050564A: using guessed type __int16 word_1050564A;
// 1050564C: using guessed type __int16 word_1050564C;
// 10505750: using guessed type int dword_10505750;

//----- (10045D80) --------------------------------------------------------
int __cdecl sub_10045D80(__int16 a1, unsigned __int16 a2)
{
  _DWORD *v2; // ecx@0
  int result; // eax@1

  result = 0;
  if ( a1 )
  {
    *v2 += a2;
    result = (unsigned __int16)word_10505622;
  }
  return result;
}
// 10505622: using guessed type __int16 word_10505622;

//----- (10045DB0) --------------------------------------------------------
signed int __cdecl sub_10045DB0(int a1)
{
  signed int result; // eax@1
  int v2; // edi@2
  int v3; // ST4C_4@2
  unsigned int v4; // ebx@2
  int v5; // eax@2
  int v6; // eax@2
  int v7; // edx@2
  int v8; // eax@2
  int v9; // edx@2
  int v10; // eax@2
  int v11; // edx@2
  int v12; // eax@2
  int v13; // edx@2
  int v14; // eax@2
  int v15; // edx@2
  int v16; // eax@2
  int v17; // edx@2
  int v18; // eax@2
  int v19; // edx@2
  int v20; // [sp+8h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_WORD *)(a1 + 4) & 0x400 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_1003C9A0(a1);
    (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v2, 160, &v20);
    v4 = *(_WORD *)(a1 + 4);
    v5 = sub_10045D80(*(_WORD *)(a1 + 4) & 1, v20);
    v6 = sub_10045D80(((unsigned __int8)v4 >> 1) & 1, *(_WORD *)((char *)&v20 + v5));
    v8 = sub_10045D80(((unsigned __int8)v4 >> 2) & 1, *(_WORD *)(v6 + v7));
    v10 = sub_10045D80(((unsigned __int8)v4 >> 3) & 1, *(_WORD *)(v8 + v9));
    v12 = sub_10045D80(((unsigned __int8)v4 >> 4) & 1, *(_WORD *)(v10 + v11));
    v14 = sub_10045D80(((unsigned __int8)v4 >> 6) & 1, *(_WORD *)(v12 + v13));
    v16 = sub_10045D80(((unsigned __int8)v4 >> 7) & 1, *(_WORD *)(v14 + v15));
    v18 = sub_10045D80(BYTE1(v4) & 1, *(_WORD *)(v16 + v17));
    sub_10045D80((v4 >> 9) & 1, *(_WORD *)(v19 + v18));
    result = v3;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10045F10) --------------------------------------------------------
signed int __cdecl sub_10045F10(int a1)
{
  signed int result; // eax@1
  int v2; // edi@2
  int v3; // ST40_4@2
  int v4; // eax@2
  unsigned __int8 v5; // dl@2
  unsigned __int8 v6; // dl@2
  unsigned __int16 *v7; // esi@2
  unsigned __int8 v8; // dl@2
  unsigned __int16 *v9; // esi@2
  int v10; // eax@2
  unsigned __int8 v11; // dl@2
  int v12; // [sp+8h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 4) & 0x40 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_1003C9A0(a1);
    (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v2, 160, &v12);
    v4 = sub_10045D80(*(_WORD *)(a1 + 4) & 1, v12);
    v7 = (unsigned __int16 *)((char *)&v12 + v4 + sub_10045D80((v5 >> 1) & 1, *(_WORD *)((char *)&v12 + v4)));
    v9 = (unsigned __int16 *)((char *)v7 + sub_10045D80((v6 >> 2) & 1, *v7));
    v10 = sub_10045D80((v8 >> 3) & 1, *v9);
    sub_10045D80((v11 >> 4) & 1, *(unsigned __int16 *)((char *)v9 + v10));
    result = v3;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10046000) --------------------------------------------------------
signed int __cdecl sub_10046000(int a1)
{
  signed int result; // eax@1
  int v2; // edi@2
  int v3; // ST4C_4@2
  unsigned int v4; // ebx@2
  int v5; // eax@2
  int v6; // eax@2
  int v7; // edx@2
  int v8; // eax@2
  int v9; // edx@2
  int v10; // eax@2
  int v11; // edx@2
  int v12; // eax@2
  int v13; // edx@2
  int v14; // eax@2
  int v15; // edx@2
  int v16; // eax@2
  int v17; // edx@2
  int v18; // eax@2
  int v19; // edx@2
  int v20; // eax@2
  int v21; // edx@2
  int v22; // eax@2
  int v23; // edx@2
  int v24; // [sp+8h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_WORD *)(a1 + 4) & 0x1000 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_1003C9A0(a1);
    (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v2, 160, &v24);
    v4 = *(_WORD *)(a1 + 4);
    v5 = sub_10045D80(*(_WORD *)(a1 + 4) & 1, v24);
    v6 = sub_10045D80(((unsigned __int8)v4 >> 1) & 1, *(_WORD *)((char *)&v24 + v5));
    v8 = sub_10045D80(((unsigned __int8)v4 >> 2) & 1, *(_WORD *)(v6 + v7));
    v10 = sub_10045D80(((unsigned __int8)v4 >> 3) & 1, *(_WORD *)(v8 + v9));
    v12 = sub_10045D80(((unsigned __int8)v4 >> 4) & 1, *(_WORD *)(v10 + v11));
    v14 = sub_10045D80(((unsigned __int8)v4 >> 6) & 1, *(_WORD *)(v12 + v13));
    v16 = sub_10045D80(((unsigned __int8)v4 >> 7) & 1, *(_WORD *)(v14 + v15));
    v18 = sub_10045D80(BYTE1(v4) & 1, *(_WORD *)(v16 + v17));
    v20 = sub_10045D80((v4 >> 9) & 1, *(_WORD *)(v19 + v18));
    v22 = sub_10045D80((v4 >> 10) & 1, *(_WORD *)(v21 + v20));
    sub_10045D80((v4 >> 11) & 1, *(_WORD *)(v23 + v22));
    result = v3;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10046190) --------------------------------------------------------
signed int __cdecl sub_10046190(int a1)
{
  signed int result; // eax@1
  int v2; // edi@2
  int v3; // ST4C_4@2
  __int16 v4; // bx@2
  int v5; // eax@2
  int v6; // eax@2
  int v7; // edx@2
  int v8; // eax@2
  int v9; // edx@2
  int v10; // eax@2
  int v11; // edx@2
  int v12; // eax@2
  int v13; // edx@2
  int v14; // eax@2
  int v15; // edx@2
  int v16; // [sp+8h] [bp-A4h]@2

  result = 0xFFFFFF;
  if ( *(_BYTE *)(a1 + 5) & 1 )
  {
    v2 = *(_DWORD *)a1;
    v3 = v2 + sub_1003C9A0(a1);
    (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(v2, 160, &v16);
    v4 = *(_WORD *)(a1 + 4);
    v5 = sub_10045D80(*(_WORD *)(a1 + 4) & 1, v16);
    v6 = sub_10045D80(((unsigned __int8)v4 >> 1) & 1, *(_WORD *)((char *)&v16 + v5));
    v8 = sub_10045D80(((unsigned __int8)v4 >> 2) & 1, *(_WORD *)(v6 + v7));
    v10 = sub_10045D80(((unsigned __int8)v4 >> 3) & 1, *(_WORD *)(v8 + v9));
    v12 = sub_10045D80(((unsigned __int8)v4 >> 4) & 1, *(_WORD *)(v10 + v11));
    v14 = sub_10045D80(((unsigned __int8)v4 >> 6) & 1, *(_WORD *)(v12 + v13));
    sub_10045D80(((unsigned __int8)v4 >> 7) & 1, *(_WORD *)(v14 + v15));
    result = v3;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100462B0) --------------------------------------------------------
char __cdecl sub_100462B0(_DWORD *a1)
{
  _DWORD *v1; // esi@1
  char result; // al@2
  char v3; // [sp+4h] [bp-4h]@2

  v1 = a1;
  do
  {
    (*(void (__cdecl **)(_DWORD, signed int, char *))dword_10504EB4)(*v1, 3, &v3);
    *v1 += (unsigned __int16)word_1050564C;
    result = sub_10045090((int)v1, &a1);
  }
  while ( v3 & 1 );
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 1050564C: using guessed type __int16 word_1050564C;

//----- (10046300) --------------------------------------------------------
char __usercall sub_10046300@<al>(signed int *a1@<edi>, signed int a2, signed int a3, unsigned __int8 a4, _BYTE *a5)
{
  unsigned __int8 v5; // al@1
  _BYTE *v6; // ebp@1
  signed int v7; // esi@1
  char v8; // bl@1
  signed int v9; // ecx@2
  char result; // al@6
  bool v11; // zf@21
  signed int v12; // ecx@31
  unsigned __int8 v13; // [sp+Fh] [bp-3Dh]@1
  char v14; // [sp+10h] [bp-3Ch]@1
  char v15; // [sp+11h] [bp-3Bh]@1
  char v16; // [sp+14h] [bp-38h]@1
  char v17; // [sp+15h] [bp-37h]@1
  bool v18; // [sp+1Bh] [bp-31h]@4
  char v19; // [sp+1Dh] [bp-2Fh]@1
  unsigned __int8 v20; // [sp+20h] [bp-2Ch]@8
  int v21; // [sp+21h] [bp-2Bh]@30
  unsigned __int8 v22; // [sp+2Eh] [bp-1Eh]@12
  int v23; // [sp+2Fh] [bp-1Dh]@30
  char v24; // [sp+3Ch] [bp-10h]@30
  char v25; // [sp+42h] [bp-Ah]@30

  v5 = 0;
  v6 = a5;
  v7 = a3;
  v13 = 0;
  v14 = 1;
  v15 = 1;
  *a5 = 0;
  v8 = 0;
  v19 = 0;
  v16 = -1;
  v17 = -1;
  do
  {
    v9 = a2;
    if ( a2 == 0xFFFFFF && v7 == a2 )
      break;
    *a1 = 0xFFFFFF;
    v18 = 1;
    if ( !v14 )
    {
      if ( !v15 )
      {
        *a1 = 0xFFFFFF;
        return -1;
      }
LABEL_10:
      if ( !v19 )
      {
        v17 = -1;
        do
        {
          (*(void (__cdecl **)(signed int, signed int, unsigned __int8 *))dword_10504EB4)(v7, 14, &v22);
          v18 = sub_10044620((int)&v22);
          if ( v18 )
          {
            v17 = (v22 >> 1) & 0x1F;
          }
          else if ( v22 & 1 )
          {
            sub_100448E0(&a3);
            sub_100462B0(&a3);
            v7 = a3;
          }
          else
          {
            v7 = 0xFFFFFF;
            a3 = 0xFFFFFF;
            v15 = 0;
          }
        }
        while ( v22 & 1 && v17 == -1 );
      }
      goto LABEL_19;
    }
    if ( !v8 )
    {
      (*(void (__cdecl **)(signed int, signed int, unsigned __int8 *))dword_10504EB4)(v9, 14, &v20);
      v16 = (v20 >> 1) & 0x1F;
    }
    if ( v15 )
      goto LABEL_10;
LABEL_19:
    if ( v14 )
    {
      if ( !v15 )
        goto LABEL_31;
    }
    else if ( v15 )
    {
      goto LABEL_21;
    }
    if ( (unsigned __int8)(v16 - 7) > 2u || v17 != 10 )
    {
      if ( (unsigned __int8)(v17 - 7) <= 2u && v16 == 10
        || v16 < v17
        || v16 <= v17 && (sub_10044850(v21, (int)&v24), sub_10044850(v23, (int)&v25), strcmp(&v24, &v25) <= 0) )
      {
LABEL_31:
        v12 = a2;
        ++v13;
        v8 = 0;
        *v6 = 0;
        *a1 = v12;
        if ( v18 )
          v19 = 1;
        if ( v20 & 1 )
        {
          sub_100448E0(&a2);
          sub_100462B0(&a2);
        }
        else
        {
          v14 = 0;
        }
        goto LABEL_37;
      }
    }
LABEL_21:
    ++v13;
    v8 = 1;
    v11 = (v22 & 1) == 0;
    *v6 = 1;
    *a1 = v7;
    v19 = 0;
    if ( v11 )
    {
      v15 = 0;
    }
    else
    {
      sub_100448E0(&a3);
      sub_100462B0(&a3);
      v7 = a3;
    }
LABEL_37:
    v5 = v13;
  }
  while ( v13 <= a4 );
  if ( *a1 == 0xFFFFFF )
    result = -1;
  else
    result = v5 - 1;
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100465A0) --------------------------------------------------------
char __usercall sub_100465A0@<al>(unsigned __int16 a1@<dx>, const char *a2@<ecx>, _BYTE *a3@<ebx>, _DWORD *a4, _DWORD *a5, char a6, const char *a7, _BYTE *a8)
{
  _DWORD *v8; // ebp@1
  _DWORD *v9; // eax@1
  bool v10; // zf@1
  _DWORD **v11; // esi@1
  _BYTE *v12; // esi@10

  v8 = a4;
  v9 = (_DWORD *)*a4;
  v10 = *a4 == 0xFFFFFF;
  v11 = (_DWORD **)a5;
  a4 = (_DWORD *)0xFFFFFF;
  if ( v10 )
  {
    if ( (_DWORD *)*a5 == v9 )
    {
LABEL_12:
      *a3 = -1;
      return (unsigned int)v9;
    }
  }
  else if ( *a5 == 0xFFFFFF )
  {
    sub_100455D0(a3, v8, a2, a1);
    v9 = (_DWORD *)*v8;
    a4 = (_DWORD *)*v8;
    goto LABEL_8;
  }
  if ( v9 == (_DWORD *)0xFFFFFF )
  {
    LOBYTE(v9) = sub_100455D0(a3, a5, a2, a1);
    a4 = *v11;
  }
  else
  {
    LOBYTE(v9) = sub_100452E0(v8, a5, a2, a3, a1, &a4);
  }
LABEL_8:
  if ( a4 == (_DWORD *)0xFFFFFF )
    goto LABEL_12;
  LOBYTE(v9) = a6;
  if ( (unsigned __int8)a6 > 2u )
    goto LABEL_12;
  v12 = a8;
  LOBYTE(v9) = sub_100456D0(&a4, a8, a6, a7);
  if ( a4 == (_DWORD *)0xFFFFFF )
  {
    *a3 = -1;
    *v12 = -1;
  }
  return (unsigned int)v9;
}

//----- (10046660) --------------------------------------------------------
char __cdecl sub_10046660(unsigned int a1, const char *a2, char a3, const char *a4, _BYTE *a5, signed int a6)
{
  _BYTE *v6; // ebx@1
  _BYTE *v7; // esi@1
  char v9; // [sp+8h] [bp-8h]@1

  v6 = a5;
  v7 = (_BYTE *)a6;
  *a5 = 0;
  *v7 = -1;
  sub_1003D140(a1, &v9);
  a6 = sub_10046190((int)&v9);
  a5 = (_BYTE *)sub_10046000((int)&v9);
  return sub_100465A0(word_10505652, a2, v6, &a6, &a5, a3, a4, v7);
}
// 10505652: using guessed type __int16 word_10505652;

//----- (100466D0) --------------------------------------------------------
signed int __cdecl sub_100466D0(int a1, unsigned __int8 a2, _BYTE *a3)
{
  int v3; // esi@1
  signed int v4; // eax@1
  signed int v5; // edi@1
  char v7; // al@6
  char v8; // al@9
  int v9; // ebp@9
  bool v10; // bl@13
  int v11; // esi@17
  unsigned __int8 v12; // [sp+13h] [bp-25h]@1
  int v13; // [sp+14h] [bp-24h]@4
  int v14; // [sp+18h] [bp-20h]@4
  char v15; // [sp+1Ch] [bp-1Ch]@13

  v12 = -1;
  *a3 = 0;
  v3 = sub_10045F10(a1);
  v4 = sub_10045DB0(a1);
  v5 = v4;
  if ( v3 == 0xFFFFFF )
  {
    if ( v4 == 0xFFFFFF )
      return 0xFFFFFF;
  }
  else
  {
    v14 = v3;
    v13 = v3;
    if ( v4 == 0xFFFFFF )
      goto LABEL_6;
  }
  *a3 = 1;
  v14 = v4;
  v13 = v4;
LABEL_6:
  sub_10044810(&v13, a2, &v12);
  v7 = a2;
  if ( v12 == a2 )
  {
    v9 = v13;
    goto LABEL_26;
  }
  if ( *(_WORD *)(a1 + 4) & 0x40 && *(_WORD *)(a1 + 4) & 0x400 )
  {
    v8 = sub_10046300(&v13, v3, v5, a2, a3);
    v9 = v13;
  }
  else
  {
    if ( v12 == -1 )
      v12 = 0;
    v9 = v13;
    while ( 1 )
    {
      v10 = 1;
      (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v9, 14, &v15);
      if ( !*a3 || (v10 = sub_10044620((int)&v15)) != 0 )
        ++v12;
      if ( !(v15 & 1) )
        break;
      v11 = v12 - 1;
      if ( v11 < a2 )
      {
        sub_100448E0(&v13);
        sub_100462B0(&v13);
        v9 = v13;
        if ( v11 < a2 && v13 != 0xFFFFFF )
          continue;
      }
      goto LABEL_23;
    }
    if ( !v10 )
      v12 = -1;
LABEL_23:
    v8 = --v12;
  }
  if ( v8 == a2 )
  {
    v7 = a2;
LABEL_26:
    sub_10045110(v14, v7, v9);
    return v9;
  }
  sub_100175E0("..\\lib\\acl\\adb\\adb_appr_utl.c", 809, 0, 0);
  return 0xFFFFFF;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10046870) --------------------------------------------------------
void __cdecl sub_10046870(unsigned int a1, unsigned __int8 a2, int a3)
{
  _BYTE *v3; // eax@1
  float *v4; // ecx@1
  signed int v5; // edx@1
  int v6; // eax@3
  char v7; // [sp+Bh] [bp-9h]@1
  char v8; // [sp+Ch] [bp-8h]@3

  *(_DWORD *)a3 = 1600085855;
  *(_BYTE *)(a3 + 4) = 95;
  *(float *)(a3 + 48) = 6.2831855;
  v7 = 0;
  *(_BYTE *)(a3 + 5) = 0;
  *(_BYTE *)(a3 + 6) = -1;
  *(_BYTE *)(a3 + 7) = 0;
  *(_BYTE *)(a3 + 9) = 0;
  *(_BYTE *)(a3 + 11) = -1;
  *(_BYTE *)(a3 + 12) = 0;
  *(_BYTE *)(a3 + 8) = 0;
  *(_BYTE *)(a3 + 10) = 1;
  *(_DWORD *)(a3 + 24) = 0x3FFFF;
  *(_BYTE *)(a3 + 21) = -1;
  v3 = (_BYTE *)(a3 + 17);
  v4 = (float *)(a3 + 32);
  v5 = 4;
  do
  {
    *(v3 - 4) = 15;
    *v3 = 63;
    *v4 = 0.0;
    ++v4;
    ++v3;
    --v5;
  }
  while ( v5 );
  sub_1003D140(a1, &v8);
  v6 = sub_100466D0((int)&v8, a2, &v7);
  if ( v6 != 0xFFFFFF )
    sub_100457C0(a3, v6, a1, &v7);
}

//----- (10046920) --------------------------------------------------------
char __cdecl sub_10046920(int a1, unsigned __int8 a2, _DWORD *a3)
{
  char result; // al@11
  bool v4; // zf@13
  unsigned __int8 v5; // bl@14
  signed int v6; // eax@16
  char v7; // [sp+Eh] [bp-8Ah]@1
  char v8; // [sp+Fh] [bp-89h]@14
  unsigned __int8 v9; // [sp+10h] [bp-88h]@14
  char v10; // [sp+14h] [bp-84h]@1
  char v11; // [sp+1Ah] [bp-7Eh]@1
  int v12; // [sp+2Ch] [bp-6Ch]@11
  char v13; // [sp+48h] [bp-50h]@11
  int v14; // [sp+50h] [bp-48h]@19
  unsigned __int16 v15; // [sp+60h] [bp-38h]@11
  int v16; // [sp+70h] [bp-28h]@12

  *a3 = 0xFFFF;
  v7 = 0;
  sub_10046870(a1, a2, (int)&v10);
  if ( v11 != 3 && v11 && v11 != 2 && v11 != 4 && v11 != 5 && v11 != 6 )
  {
    if ( v11 == 8 || v11 == 9 || v11 == 10 )
    {
      sub_100487E0(v12, (int)&v13);
      if ( (unsigned int)(v16 - 108000) <= 0x26DE )
      {
        v4 = v11 == 10;
        *a3 = v16;
        return v4;
      }
    }
    else if ( v11 == 13 )
    {
      sub_10048540(v12, &v13);
      *a3 = v15;
      return 2;
    }
    result = 3;
  }
  else
  {
    v5 = 0;
    v8 = sub_1003E050(a1);
    v9 = 0;
    if ( v8 )
    {
      do
      {
        if ( v7 )
          break;
        v6 = sub_1003D5A0(a1, v9);
        if ( v6 == v12 )
          v7 = 1;
        v9 = ++v5;
      }
      while ( v5 < (unsigned __int8)v8 );
    }
    sub_1003E570(a1, v5 - 1, &v13);
    if ( (unsigned int)(v14 - 108000) > 0x26DE )
    {
      result = 3;
    }
    else
    {
      *a3 = v14;
      result = 0;
    }
  }
  return result;
}

//----- (10046AF0) --------------------------------------------------------
void __cdecl sub_10046AF0(int a1, int a2)
{
  int v2; // esi@1
  char v3; // al@1
  int v4; // eax@1
  double v5; // st7@1
  double v6; // st7@6
  int v7; // eax@6
  char v8; // [sp+14h] [bp-10h]@7
  float v9; // [sp+28h] [bp+4h]@6
  float v10; // [sp+2Ch] [bp+8h]@2
  float v11; // [sp+2Ch] [bp+8h]@6
  float v12; // [sp+2Ch] [bp+8h]@8

  v2 = a2;
  *(_DWORD *)(a2 + 52) = sub_1004DBB0(a1);
  *(_BYTE *)(a2 + 7) = *(_BYTE *)a1;
  *(_BYTE *)(a2 + 2) = *(_BYTE *)(a1 + 4);
  v3 = *(_BYTE *)(a1 + 1);
  *(float *)(a2 + 88) = *(float *)(a1 + 40);
  *(float *)(a2 + 92) = *(float *)(a1 + 44);
  v4 = (v3 & 7) - 1;
  v5 = *(float *)(a2 + 88);
  if ( v4 )
  {
    v10 = v5 + 0.7853981852531433;
    if ( v4 == 1 )
      *(_BYTE *)(v2 + 8) = 2;
    else
      *(_BYTE *)(v2 + 8) = 0;
  }
  else
  {
    *(_BYTE *)(a2 + 8) = 1;
    v10 = v5 - 0.7853981852531433;
  }
  v11 = v10 + 3.141592741012573;
  v6 = sub_100637E0(v11);
  v7 = *(_DWORD *)(v2 + 52);
  v9 = *(float *)(a1 + 44);
  if ( v7 != 0x3FFFF )
  {
    sub_1003C1C0(0, v7, (double *)&v8);
    sub_10063820((int)&v8, v2 + 64);
    *(float *)(v2 + 32) = 0.0;
  }
  v12 = v6;
  sub_100236E0(v2 + 64, v9, v12, v2 + 56);
}

//----- (10046BE0) --------------------------------------------------------
unsigned __int8 __cdecl sub_10046BE0(unsigned __int8 a1, unsigned __int8 a2, int a3, int a4, int a5)
{
  char v5; // bl@1
  double v6; // st7@1
  char v7; // al@3
  int v8; // esi@6
  unsigned __int8 result; // al@26
  char v10; // [sp+Fh] [bp-1h]@1

  v5 = sub_10042430(a2);
  v6 = 9.9999996e24;
  v10 = sub_1003FCF0(a2);
  if ( !*(_BYTE *)(a3 + 6) )
  {
    if ( *(_BYTE *)(a4 + 7) == 3 )
      goto LABEL_9;
    v7 = *(_BYTE *)(a4 + 6);
    if ( v7 == 2 || v7 == 8 || *(_BYTE *)(a4 + 3) )
    {
      v8 = a5;
      *(_BYTE *)(a5 + 2) = *(_BYTE *)(a4 + 10);
      *(float *)(a5 + 4) = *(float *)(a4 + 20);
      *(_BYTE *)(a5 + 3) = 0;
      *(float *)(a5 + 8) = 9.9999996e24;
      goto LABEL_10;
    }
  }
  if ( *(_BYTE *)(a4 + 7) != 3 )
  {
    v8 = a5;
    *(_BYTE *)(a5 + 2) = *(_BYTE *)(a4 + 8);
    *(float *)(a5 + 4) = *(float *)(a4 + 12);
    *(_BYTE *)(a5 + 3) = 0;
    *(float *)(a5 + 8) = 9.9999996e24;
    goto LABEL_10;
  }
LABEL_9:
  v8 = a5;
  *(_BYTE *)(a5 + 2) = *(_BYTE *)(a4 + 9);
  *(float *)(a5 + 4) = *(float *)(a4 + 16);
  *(_BYTE *)(a5 + 3) = *(_BYTE *)(a4 + 8);
  *(float *)(a5 + 8) = *(float *)(a4 + 12);
LABEL_10:
  switch ( *(_BYTE *)(a4 + 7) )
  {
    case 0:
      *(_BYTE *)v8 = 10;
      break;
    case 1:
      *(_BYTE *)v8 = 11;
      break;
    case 3:
      v6 = 9.9999996e24;
      if ( sub_1002A170() == 1 )
      {
        *(_BYTE *)v8 = 13;
      }
      else
      {
        *(float *)(v8 + 8) = 9.9999996e24;
        *(_BYTE *)v8 = 11;
        *(_BYTE *)(v8 + 3) = 0;
      }
      break;
    case 2:
      *(_BYTE *)v8 = 12;
      break;
    default:
      *(_BYTE *)v8 = 0;
      break;
  }
  if ( *(_BYTE *)(a4 + 2) == 1 )
  {
    *(_BYTE *)(v8 + 1) = 10;
  }
  else if ( *(_BYTE *)(a4 + 2) == 2 )
  {
    *(_BYTE *)(v8 + 1) = 12;
  }
  else
  {
    if ( *(_BYTE *)(a4 + 2) != 3 )
    {
      *(_BYTE *)(v8 + 1) = 0;
      goto LABEL_26;
    }
    *(_BYTE *)(v8 + 1) = 11;
  }
  v6 = *(float *)(a4 + 28);
LABEL_26:
  *(float *)(v8 + 12) = v6;
  result = a1;
  if ( v5 != -1 && a1 <= (unsigned __int8)v5 || v10 != -1 && a1 >= (unsigned __int8)v10 )
  {
    if ( *(_BYTE *)v8 )
      *(_BYTE *)v8 |= 0x40u;
    result = *(_BYTE *)(v8 + 1);
    if ( result )
    {
      result |= 0x40u;
      *(_BYTE *)(v8 + 1) = result;
    }
  }
  return result;
}

//----- (10046D40) --------------------------------------------------------
char __usercall sub_10046D40@<al>(char a1@<al>, char a2@<cl>, char a3)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 3;
      break;
    case 1:
      result = 4;
      break;
    case 2:
      result = 5;
      break;
    case 3:
      result = 6;
      break;
    case 4:
      result = 7;
      break;
    default:
      if ( a3 )
      {
        result = 0;
      }
      else if ( !a2 || a2 == 2 || a2 == 5 || (result = 1, a2 == 6) )
      {
        result = 2;
      }
      break;
  }
  return result;
}

//----- (10046DA0) --------------------------------------------------------
double __usercall sub_10046DA0@<st0>(int a1@<ecx>, int a2@<esi>, unsigned int a3, int a4, int a5)
{
  char v5; // al@1
  bool v6; // zf@1
  double result; // st7@2
  int v8; // edi@4
  float v9; // [sp+18h] [bp-54h]@1
  int v10; // [sp+1Ch] [bp-50h]@9
  int v11; // [sp+20h] [bp-4Ch]@9
  int v12; // [sp+24h] [bp-48h]@4
  char v13; // [sp+2Ch] [bp-40h]@5
  char v14; // [sp+34h] [bp-38h]@5
  char v15; // [sp+3Ch] [bp-30h]@9
  char v16; // [sp+44h] [bp-28h]@9
  char v17; // [sp+4Ch] [bp-20h]@9
  char v18; // [sp+5Ch] [bp-10h]@9

  v5 = *(_BYTE *)a2;
  v6 = *(_BYTE *)a2 == 8;
  v9 = 9260.0;
  if ( v6 )
    return *(float *)(a2 + 44);
  if ( v5 == 9 )
  {
    v8 = a1 + 64;
    if ( sub_100240D0(a1 + 64, *(float *)(a2 + 40), a1 + 96, *(float *)(a2 + 48), 0, (int)&v12) )
    {
      sub_100191D0(v8, COERCE_FLOAT(&v12), &v9, (int)&v14, (float *)&v13);
      return v9;
    }
    v9 = 0.0;
    result = (float)0.0;
  }
  else
  {
    if ( v5 != 7 )
      return v9;
    sub_1003C8C0(*(_DWORD *)(a2 + 36), (int)&v10);
    sub_1004A400((int)&v17, v10, v11);
    sub_100413C0(a3, a4, a2, a5, (int)&v17, (int)&v18);
    sub_10063820((int)&v17, (int)&v15);
    sub_10063820((int)&v18, (int)&v16);
    sub_100191D0((int)&v16, COERCE_FLOAT(&v15), &v9, (int)&v14, (float *)&v13);
    result = v9;
  }
  return result;
}

//----- (10046EB0) --------------------------------------------------------
void __usercall sub_10046EB0(int a1@<edi>, int a2@<esi>)
{
  char v2; // bl@1
  float v3; // ST18_4@1
  float v4; // ST18_4@1
  int v5; // ebx@1
  double v6; // st7@7
  int v7; // [sp+8h] [bp-1Ch]@0
  float v8; // [sp+10h] [bp-14h]@1
  char v9; // [sp+14h] [bp-10h]@6

  *(_DWORD *)(a2 + 108) = sub_1004DBB0(v7);
  *(_BYTE *)(a2 + 63) = *(_BYTE *)a1;
  *(_BYTE *)(a2 + 58) = *(_BYTE *)(a1 + 4);
  v2 = *(_BYTE *)(a1 + 1);
  v3 = *(float *)(a1 + 40);
  *(float *)(a2 + 144) = v3;
  v4 = v3 + 3.141592741012573;
  v8 = sub_100637E0(v4);
  v5 = (v2 & 7) - 1;
  *(float *)(a2 + 160) = *(float *)(a2 + 168);
  *(_BYTE *)(a2 + 156) = *(_BYTE *)(a1 + 44);
  *(float *)(a2 + 152) = *(float *)(a1 + 48);
  *(_DWORD *)(a2 + 148) = *(_DWORD *)(a1 + 52);
  if ( v5 )
  {
    if ( v5 == 1 )
      *(_BYTE *)(a2 + 64) = 2;
    else
      *(_BYTE *)(a2 + 64) = 0;
  }
  else
  {
    *(_BYTE *)(a2 + 64) = 1;
  }
  sub_1003C1C0(0, *(_DWORD *)(a2 + 108), (double *)&v9);
  sub_10063820((int)&v9, a2 + 120);
  if ( *(_BYTE *)(a1 + 44) )
    v6 = *(float *)(a1 + 48) * 113.1777801513672;
  else
    v6 = *(float *)(a1 + 48);
  *(float *)(a2 + 88) = v6;
  sub_100236E0(a2 + 120, *(float *)(a2 + 88), v8, a2 + 112);
}

//----- (10046FA0) --------------------------------------------------------
void __usercall sub_10046FA0(int a1@<eax>, unsigned __int8 a2@<dl>, int a3@<ecx>, unsigned __int8 a4, unsigned int a5, int a6, int a7, int a8)
{
  int v8; // ebx@1
  int v9; // ecx@12
  int v10; // edx@12
  int v11; // eax@12
  float v12; // ST24_4@12
  int v13; // ecx@13
  int v14; // edx@13
  int v15; // eax@13
  float v16; // ST24_4@15
  float v17; // ST24_4@16
  unsigned int v18; // eax@19
  const char *v19; // ecx@19
  _DWORD *v20; // edx@19
  int v21; // esi@23
  int v22; // eax@24
  _BYTE *v23; // ecx@24
  _BYTE *v24; // edx@24
  int v25; // eax@26
  _BYTE *v26; // ecx@26
  _BYTE *v27; // edx@26
  _BYTE *v28; // ecx@28
  _BYTE *v29; // edx@28
  signed int v30; // eax@30
  char v31; // [sp+20h] [bp-10h]@7
  int v32; // [sp+3Ch] [bp+Ch]@9
  int v33; // [sp+3Ch] [bp+Ch]@9
  int v34; // [sp+3Ch] [bp+Ch]@16
  int v35; // [sp+3Ch] [bp+Ch]@16

  v8 = a1;
  sub_10046BE0(a4, a2, a3, a6, a1 + 164);
  if ( !*(_BYTE *)(dword_10504EDC + 10)
    || (*(float *)(v8 + 100) = *(float *)(a6 + 24),
        (COERCE_UNSIGNED_INT(*(float *)(v8 + 100)) & 0x7F800000) == 2139095040)
    || *(float *)(v8 + 100) > 10.0
    || *(float *)(dword_10504EDC + 48) > (double)*(float *)(v8 + 100) )
  {
    *(float *)(v8 + 100) = -1.0;
  }
  switch ( *(_BYTE *)a6 )
  {
    case 0:
      *(float *)(v8 + 144) = *(float *)(a6 + 44);
      sub_1003C1C0(0, *(_DWORD *)(a6 + 40), (double *)&v31);
      sub_10063820((int)&v31, v8 + 148);
      sub_100236E0(v8 + 148, *(float *)(a6 + 44), *(float *)(a6 + 48), v8 + 112);
      return;
    case 1:
    case 0x12:
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      *(float *)(v8 + 152) = *(float *)(v8 + 168);
      *(_DWORD *)(v8 + 120) = *(_DWORD *)(a6 + 44);
      *(_DWORD *)(v8 + 124) = *(_DWORD *)(a6 + 48);
      return;
    case 3:
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      *(float *)(v8 + 148) = *(float *)(a6 + 44);
      *(float *)&v32 = *(float *)(v8 + 144) + 3.141592741012573;
      *(float *)&v33 = sub_100637E0(*(float *)&v32);
      sub_100236E0(v8 + 120, *(float *)(v8 + 148), *(float *)&v33, v8 + 112);
      return;
    case 4:
    case 0x14:
    case 0x15:
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      *(_DWORD *)(v8 + 120) = *(_DWORD *)(a6 + 44);
      *(_DWORD *)(v8 + 124) = *(_DWORD *)(a6 + 48);
      return;
    case 2:
    case 5:
    case 0x13:
    case 0x16:
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      *(float *)(v8 + 148) = *(float *)(a6 + 48);
      sub_1003C1C0(0, *(_DWORD *)(a6 + 44), (double *)&v31);
      sub_10063820((int)&v31, v8 + 152);
      *(_DWORD *)(v8 + 120) = *(_DWORD *)(a6 + 52);
      *(_DWORD *)(v8 + 124) = *(_DWORD *)(a6 + 56);
      return;
    case 7:
      v9 = *(_DWORD *)(v8 + 120);
      v10 = *(_DWORD *)(v8 + 124);
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      v11 = v8 + 112;
      *(float *)(v8 + 152) = *(float *)(v8 + 168);
      *(_DWORD *)v11 = v9;
      *(_DWORD *)(v11 + 4) = v10;
      v12 = sub_10046DA0(v8 + 56, a6, a5, a7, a8);
      *(float *)(v8 + 148) = v12;
      sub_100236E0(v8 + 112, v12, *(float *)(v8 + 144), v8 + 120);
      return;
    case 8:
    case 9:
      v13 = *(_DWORD *)(v8 + 120);
      v14 = *(_DWORD *)(v8 + 124);
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      v15 = v8 + 112;
      *(_DWORD *)v15 = v13;
      *(_DWORD *)(v15 + 4) = v14;
      if ( *(_BYTE *)a6 == 9 )
      {
        sub_1003C1C0(0, *(_DWORD *)(a6 + 44), (double *)&v31);
        sub_10063820((int)&v31, v8 + 152);
      }
      v16 = sub_10046DA0(v8 + 56, a6, a5, a7, a8);
      *(float *)(v8 + 148) = v16;
      sub_100236E0(v8 + 112, v16, *(float *)(v8 + 144), v8 + 120);
      return;
    case 0xA:
      *(float *)(v8 + 144) = *(float *)(a6 + 40);
      v17 = sub_10046DA0(v8 + 56, a6, a5, a7, a8);
      *(float *)(v8 + 148) = v17;
      *(float *)&v34 = *(float *)(v8 + 144) + 3.141592741012573;
      *(float *)&v35 = sub_100637E0(*(float *)&v34);
      sub_100236E0(v8 + 120, v17, *(float *)&v35, v8 + 112);
      return;
    case 0xB:
    case 0xC:
    case 0xD:
      sub_10046EB0(a6, v8);
      return;
    case 0xF:
      sub_10046AF0(a6, v8 + 56);
      return;
    case 0x10:
      *(float *)(v8 + 144) = *(float *)(a6 + 44);
      sub_1003C1C0(0, *(_DWORD *)(a6 + 40), (double *)&v31);
      sub_10063820((int)&v31, v8 + 148);
      v18 = 6;
      v19 = "SAR-00";
      v20 = (_DWORD *)(v8 + 70);
      break;
    default:
      return;
  }
  do
  {
    if ( *v20 != *(_DWORD *)v19 )
      goto LABEL_23;
    v18 -= 4;
    v19 += 4;
    ++v20;
  }
  while ( v18 >= 4 );
  if ( !v18 )
  {
LABEL_32:
    v30 = 0;
    goto LABEL_33;
  }
LABEL_23:
  v21 = *(_BYTE *)v20 - *v19;
  if ( *(_BYTE *)v20 == *v19 )
  {
    v22 = v18 - 1;
    v23 = v19 + 1;
    v24 = (char *)v20 + 1;
    if ( !v22 )
      goto LABEL_32;
    v21 = *v24 - *v23;
    if ( *v24 == *v23 )
    {
      v25 = v22 - 1;
      v26 = v23 + 1;
      v27 = v24 + 1;
      if ( !v25 )
        goto LABEL_32;
      v21 = *v27 - *v26;
      if ( *v27 == *v26 )
      {
        v28 = v26 + 1;
        v29 = v27 + 1;
        if ( v25 == 1 )
          goto LABEL_32;
        v21 = *v29 - *v28;
        if ( *v29 == *v28 )
          goto LABEL_32;
      }
    }
  }
  v30 = 1;
  if ( v21 <= 0 )
    v30 = -1;
LABEL_33:
  if ( !v30 )
    sub_100236E0(v8 + 148, *(float *)(v8 + 144), *(float *)(a6 + 52), v8 + 120);
}
// 10504EDC: using guessed type int dword_10504EDC;

//----- (10047460) --------------------------------------------------------
BOOL __cdecl sub_10047460(char a1, char a2, float a3, float a4)
{
  char v5; // [sp+8h] [bp-4h]@1

  v5 = sub_10046D40(a2, a1, 0);
  return v5 != 2 && !sub_10048060(v5, v5, SLODWORD(a3), a4);
}

//----- (100474B0) --------------------------------------------------------
void __cdecl sub_100474B0(int a1, int a2)
{
  char v2; // al@1
  signed int v3; // eax@4
  bool v4; // zf@4
  char v5; // al@7
  __int64 v6; // ST28_8@9
  char v7; // ST3C_1@10
  __int64 v8; // ST3C_8@11
  char v9; // ST3C_1@12
  signed int v10; // eax@13
  unsigned __int8 v11; // ST34_1@13
  int v12; // ebx@14
  int v13; // ecx@18
  int v14; // eax@21
  char v15; // al@21
  float v16; // ST40_4@36
  __int64 v17; // ST34_8@36
  char v18; // al@36
  unsigned int v19; // ST2C_4@36
  double v20; // st7@39
  char v21; // al@41
  int v22; // eax@41
  bool v23; // al@48
  int v24; // eax@50
  int v25; // eax@54
  char v26; // al@56
  unsigned __int8 v27; // al@61
  unsigned int v28; // eax@63
  unsigned __int8 v29; // al@70
  char v30; // al@73
  bool v31; // cl@73
  char v32; // cl@73
  char v33; // dl@73
  unsigned __int8 v34; // cl@79
  int v35; // edx@79
  char v36; // al@79
  int v37; // ecx@79
  char v38; // bl@79
  double v39; // st7@79
  double v40; // st7@81
  _BYTE *v41; // eax@89
  signed int v42; // ecx@89
  double v43; // st7@93
  signed int v44; // edi@96
  float *v45; // esi@97
  float *v46; // ebx@98
  double v47; // st7@100
  signed int v48; // [sp+18h] [bp-168h]@13
  unsigned int v49; // [sp+1Ch] [bp-164h]@5
  char v50; // [sp+20h] [bp-160h]@73
  char v51; // [sp+21h] [bp-15Fh]@36
  char v52; // [sp+22h] [bp-15Eh]@36
  char v53; // [sp+23h] [bp-15Dh]@73
  float v54; // [sp+24h] [bp-15Ch]@18
  char v55; // [sp+2Ah] [bp-156h]@73
  char v56; // [sp+2Bh] [bp-155h]@6
  float v57; // [sp+2Ch] [bp-154h]@28
  int v58; // [sp+30h] [bp-150h]@5
  char v59[4]; // [sp+37h] [bp-149h]@73
  char v60; // [sp+3Bh] [bp-145h]@5
  char v61; // [sp+3Ch] [bp-144h]@5
  char v62; // [sp+3Dh] [bp-143h]@5
  char v63; // [sp+3Eh] [bp-142h]@5
  char v64; // [sp+3Fh] [bp-141h]@5
  int v65; // [sp+40h] [bp-140h]@102
  char v66[4]; // [sp+44h] [bp-13Ch]@73
  int v67; // [sp+48h] [bp-138h]@6
  float v68; // [sp+4Ch] [bp-134h]@98
  float v69; // [sp+50h] [bp-130h]@4
  char v70; // [sp+54h] [bp-12Ch]@6
  int v71; // [sp+64h] [bp-11Ch]@4
  char v72; // [sp+6Ch] [bp-114h]@13
  char v73; // [sp+6Dh] [bp-113h]@36
  char v74; // [sp+70h] [bp-110h]@34
  char v75; // [sp+A8h] [bp-D8h]@13
  char v76; // [sp+A9h] [bp-D7h]@13
  char v77; // [sp+ACh] [bp-D4h]@13
  char v78; // [sp+AEh] [bp-D2h]@13
  char v79; // [sp+E4h] [bp-9Ch]@13
  char v80; // [sp+E5h] [bp-9Bh]@20
  char v81; // [sp+E8h] [bp-98h]@20
  char v82; // [sp+EAh] [bp-96h]@20
  char v83; // [sp+120h] [bp-60h]@6
  char v84; // [sp+130h] [bp-50h]@13
  char v85; // [sp+136h] [bp-4Ah]@73
  char v86; // [sp+138h] [bp-48h]@79
  int v87; // [sp+139h] [bp-47h]@73
  int v88; // [sp+13Dh] [bp-43h]@79
  int v89; // [sp+141h] [bp-3Fh]@79
  int v90; // [sp+145h] [bp-3Bh]@74
  float v91; // [sp+160h] [bp-20h]@79
  char v92; // [sp+164h] [bp-1Ch]@73
  char v93; // [sp+16Ch] [bp-14h]@73
  char v94; // [sp+174h] [bp-Ch]@73

  sub_10027510(a2, 0);
  *(_BYTE *)(a2 + 2) = a1;
  v2 = sub_1003FAD0(a1);
  *(_BYTE *)(a2 + 4) = v2;
  if ( v2 )
  {
    *(_BYTE *)(a2 + 5) = 0;
    *(_BYTE *)(a2 + 3) = v2 - 1;
  }
  else
  {
    *(_BYTE *)(a2 + 5) = -1;
    *(_BYTE *)(a2 + 3) = -1;
  }
  sub_10021BB0(&v71);
  v69 = sub_10019500(v71);
  *(_BYTE *)(a2 + 584) = sub_10041DA0(a1);
  *(_BYTE *)(a2 + 585) = sub_10041C60(a1);
  *(_BYTE *)(a2 + 586) = sub_10042430(a1);
  v3 = sub_10040F20(a1);
  *(float *)(a2 + 592) = 6.283185;
  v4 = *(_BYTE *)(a2 + 584) == -1;
  *(float *)(a2 + 596) = 0.0;
  *(_DWORD *)(a2 + 588) = v3;
  if ( !v4 )
  {
    sub_10041810(a1, &v49, &v62, &v60, &v63, &v58, &v61, &v64);
    if ( v58 != 0x3FFFF )
    {
      sub_1003C1C0(0, v58, (double *)&v83);
      sub_1003C970(v58, &v49, &v67, &v56);
      v58 = sub_1003DA30(v49, v67, v56 == 0);
      sub_1003C1C0(0, v58, (double *)&v70);
      sub_100190F0((int)&v83, (int)&v70, (float *)(a2 + 596), (float *)(a2 + 592));
    }
  }
  *(_BYTE *)(a2 + 600) = sub_1003FCB0(a1);
  *(_DWORD *)(a2 + 604) = sub_1003FB70(a1);
  *(_BYTE *)(a2 + 242) = sub_1003FC70(a1);
  v5 = sub_10040DC0(a1);
  *(_BYTE *)(a2 + 243) = v5;
  if ( v5 == -1 )
    *(_BYTE *)(a2 + 243) = *(_BYTE *)(a2 + 242);
  *(_BYTE *)(a2 + 234) = (sub_100409E0(0, *(_BYTE *)(a2 + 242)) & 0xFE) != 0;
  *(_BYTE *)(a2 + 241) = sub_10041C20(a1);
  *(_BYTE *)(a2 + 244) = sub_1003FCF0(a1);
  *(_BYTE *)(a2 + 245) = sub_10042470(a1);
  *(_DWORD *)(a2 + 32) = 0x3FFFF;
  *(_DWORD *)(a2 + 20) = 0x3FFFF;
  LODWORD(v6) = sub_10040C40(a1);
  v49 = v6;
  if ( !sub_1003C3E0(v6) )
  {
    v7 = v49;
    *(_DWORD *)(a2 + 32) = v49;
    sub_1003C1C0(0, v7, (double *)&v70);
    sub_10063820((int)&v70, a2 + 36);
  }
  LODWORD(v8) = sub_10040B40(a1);
  v49 = v8;
  if ( !sub_1003C3E0(v8) )
  {
    v9 = v49;
    *(_DWORD *)(a2 + 20) = v49;
    sub_1003C1C0(0, v9, (double *)&v70);
    sub_10063820((int)&v70, a2 + 24);
  }
  *(_BYTE *)(a2 + 246) = sub_10040AF0(a1);
  v10 = sub_1003FA90(a1);
  v11 = *(_BYTE *)(a2 + 246);
  *(_DWORD *)(a2 + 264) = v10;
  sub_10046870(v10, v11, (int)&v84);
  v75 = 24;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  qmemcpy(&v72, &v75, 0x3Cu);
  v4 = *(_BYTE *)(a2 + 4) == 0;
  qmemcpy(&v79, &v75, 0x3Cu);
  v48 = 0;
  if ( !v4 )
  {
    v12 = a2 + 669;
    do
    {
      if ( v48 <= 0 )
      {
        sub_10040BC0(a1, v48, &v72);
      }
      else
      {
        qmemcpy(&v75, &v72, 0x3Cu);
        qmemcpy(&v72, &v79, 0x3Cu);
      }
      v13 = *(_BYTE *)(a2 + 4);
      LODWORD(v54) = v48 + 1;
      if ( v48 + 1 >= v13 )
      {
        v79 = 24;
        v80 = 0;
        v81 = 0;
        v82 = 0;
      }
      else
      {
        sub_10040BC0(a1, v48 + 1, &v79);
      }
      *(_DWORD *)(v12 + 47) = sub_1004DBB0((int)&v72);
      *(_BYTE *)(v12 + 2) = v72;
      v14 = v12 + 4;
      *(_DWORD *)v14 = 0;
      *(_BYTE *)(v14 + 4) = 0;
      sub_10040990(a1, v48, v12 + 4);
      *(_BYTE *)v12 = 1;
      v15 = sub_100409E0(a1, v48);
      if ( v15 & 2 )
      {
        *(_BYTE *)v12 = 0;
      }
      else
      {
        if ( !v48 || v72 && v72 != 14 && v72 != 16 && v72 != 17 )
        {
          LOBYTE(v57) = v48;
        }
        else
        {
          LOBYTE(v57) = v48 - 1;
          v15 = sub_100409E0(a1, v48 - 1);
        }
        if ( v15 & 4 )
        {
          *(_BYTE *)v12 = 2;
        }
        else if ( v15 & 1 )
        {
          *(_BYTE *)v12 = 4 - (LOBYTE(v57) < *(_BYTE *)(a2 + 244));
        }
      }
      *(_BYTE *)(v12 - 3) = v74;
      switch ( *(_BYTE *)(v12 + 2) )
      {
        case 1:
        case 2:
        case 5:
        case 7:
        case 9:
        case 0xA:
        case 0x12:
        case 0x13:
        case 0x15:
        case 0x16:
          *(_BYTE *)(v12 - 3) = 1;
          break;
        default:
          break;
      }
      v16 = *(float *)(v12 + 47);
      v52 = v73;
      *(_BYTE *)(v12 - 2) = sub_1003C5F0(LODWORD(v16));
      *(_BYTE *)(v12 - 61) = sub_10040A30(a1, v48);
      LODWORD(v17) = *(_DWORD *)(v12 + 47);
      v18 = sub_1003C3E0(v17);
      v51 = v18;
      v19 = *(_DWORD *)(v12 + 47);
      *(_BYTE *)(v12 - 4) = v18 == 5;
      *(_BYTE *)(v12 - 5) = v18 == 0;
      sub_1003C2F0(v19, (char *)(v12 + 9));
      if ( v51 == 11 )
        *(_BYTE *)(v12 - 2) = 1;
      if ( *(_BYTE *)(v12 - 5) )
        v20 = sub_10048EE0(*(_DWORD *)(v12 + 47));
      else
        v20 = 9.8999998e24;
      v21 = v52;
      *(float *)(v12 + 23) = v20;
      v22 = (v21 & 7) - 1;
      if ( v22 )
      {
        if ( v22 == 1 )
          *(_BYTE *)(v12 + 3) = 2;
        else
          *(_BYTE *)(v12 + 3) = 0;
      }
      else
      {
        *(_BYTE *)(v12 + 3) = 1;
      }
      v23 = *(_DWORD *)(v12 + 47) == 262142 || sub_10044460((int)&v72) == 262142;
      *(_BYTE *)a2 = v23;
      v24 = *(_DWORD *)(v12 + 47);
      if ( v24 != 0x3FFFF && v24 != 262142 )
      {
        sub_1003C1C0(0, v24, (double *)&v70);
        sub_10063820((int)&v70, v12 + 59);
        *(float *)(v12 + 27) = 0.0;
      }
      if ( v48 <= 0 )
      {
        v25 = *(_DWORD *)(v12 + 63);
        *(_DWORD *)(v12 + 51) = *(_DWORD *)(v12 + 59);
      }
      else
      {
        *(_DWORD *)(v12 + 51) = *(_DWORD *)(v12 - 121);
        v25 = *(_DWORD *)(v12 - 117);
      }
      *(_DWORD *)(v12 + 55) = v25;
      v26 = *(_BYTE *)(v12 + 2);
      if ( (!v26 || v26 == 16) && v48 >= *(_BYTE *)(a2 + 241) && v48 <= *(_BYTE *)(a2 + 244) )
        *(_BYTE *)(a2 + 236) = 1;
      v27 = *(_BYTE *)(a2 + 586);
      if ( v27 == -1 || v48 > v27 )
        v28 = *(_DWORD *)(a2 + 264);
      else
        v28 = *(_DWORD *)(a2 + 588);
      v49 = v28;
      sub_10046FA0(v12 - 61, a1, (int)&v84, v48, v28, (int)&v72, (int)&v75, (int)&v79);
      if ( v72 == 7 || v72 == 8 || v72 == 9 )
        sub_10041FC0(a1, v48, (char *)(v12 + 9));
      v12 += 180;
      v48 = LODWORD(v54);
    }
    while ( SLODWORD(v54) < *(_BYTE *)(a2 + 4) );
  }
  v29 = *(_BYTE *)(a2 + 584);
  if ( v29 != -1 )
  {
    *(_BYTE *)(180 * v29 + a2 + 772) = 10;
    *(float *)(180 * *(_BYTE *)(a2 + 584) + a2 + 776) = sub_10048EE0(*(_DWORD *)(a2 + 588));
  }
  memset((void *)(a2 + 288), 0, 0x30u);
  memset((void *)(a2 + 336), 0, 0xF8u);
  v4 = *(_DWORD *)(a2 + 264) == 0x3FFFF;
  *(_BYTE *)(a2 + 336) = 0;
  *(_BYTE *)(a2 + 337) = 0;
  *(_BYTE *)(a2 + 338) = 0;
  *(_BYTE *)(a2 + 237) = 0;
  *(_BYTE *)(a2 + 233) = 0;
  *(_BYTE *)(a2 + 235) = 0;
  if ( v4 )
  {
    *(_BYTE *)(a2 + 239) = 0;
    *(float *)(a2 + 272) = 0.0;
    *(_BYTE *)(a2 + 240) = 0;
    *(_BYTE *)(a2 + 232) = 0;
    *(float *)(a2 + 268) = 9.8999998e24;
    *(_DWORD *)(a2 + 260) = 0xFFFF;
    *(float *)(a2 + 280) = 9.8999998e24;
    *(_BYTE *)(a2 + 246) = -1;
    *(_BYTE *)(a2 + 238) = -2;
    *(_BYTE *)(a2 + 247) = 0;
    *(float *)(a2 + 284) = 0.0;
    v41 = (_BYTE *)(a2 + 255);
    v42 = 4;
    do
    {
      *(v41 - 4) = 15;
      *v41++ = 63;
      --v42;
    }
    while ( v42 );
  }
  else
  {
    sub_10017B80(6751, (int)&v50, 1);
    *(float *)(a2 + 268) = sub_10048EE0(*(_DWORD *)(a2 + 264));
    sub_100422A0(a1, (int)&v92, v66, (_BYTE *)(a2 + 238), (int)&v94, (int)&v93, (float *)(a2 + 276));
    sub_10041910(*(_DWORD *)(a2 + 264), *(_BYTE *)(a2 + 246), v59, &v55, a2 + 248, (bool *)&v53);
    v30 = sub_10046D40(v55, v85, v87);
    v4 = v53 == 0;
    *(_BYTE *)(a2 + 239) = v30;
    v31 = v50 == 0;
    *(_BYTE *)(a2 + 247) = v4;
    v59[0] = sub_1004DAF0((int)&v84, v31);
    *(_BYTE *)(a2 + 240) = sub_10046D40(v59[0], v85, v87);
    if ( v33 == 3 )
    {
      sub_100403B0(*(_DWORD *)(a2 + 264), v90, (void *)(a2 + 288));
      v32 = v85;
    }
    if ( v32 == 2 || v32 == 4 || v32 == 6 )
      *(_BYTE *)(a2 + 235) = 1;
    v34 = *(_BYTE *)(a2 + 246);
    v35 = *(_DWORD *)(a2 + 264);
    *(float *)(a2 + 284) = v91;
    *(_BYTE *)(a2 + 232) = v86;
    v36 = sub_10046920(v35, v34, (_DWORD *)(a2 + 260));
    v37 = v89;
    v38 = v36;
    *(_DWORD *)(a2 + 251) = v88;
    *(_DWORD *)(a2 + 255) = v37;
    v58 = sub_100422F0(a1);
    v54 = sub_1003E1C0(v58);
    v39 = v54;
    *(float *)(a2 + 280) = v54;
    if ( 9.9999996e24 == v39 )
      *(float *)(a2 + 280) = *(float *)(a2 + 268);
    v54 = sub_1003E240(v58);
    v40 = v54;
    *(float *)(a2 + 272) = v54;
    if ( 9.9999996e24 == v40 )
      sub_10016C80((float *)(a2 + 272));
    if ( v38 && v38 != 1 )
      *(_DWORD *)(a2 + 260) = 0xFFFF;
    if ( *(_BYTE *)(a2 + 246) != -1 && *(_BYTE *)(a2 + 238) == -1 )
      *(_BYTE *)(a2 + 237) = 1;
  }
  sub_100480B0(a2);
  if ( *(_DWORD *)(a2 + 264) != 0x3FFFF )
  {
    if ( v59[0] == 3 )
      v43 = *(float *)(a2 + 364);
    else
      v43 = v91;
    v57 = v43;
    *(_BYTE *)(a2 + 233) = sub_10047460(v66[0], v59[0], *(float *)(a2 + 388), v57);
  }
  v44 = 0;
  if ( *(_BYTE *)(a2 + 4) )
  {
    v45 = (float *)(a2 + 756);
    do
    {
      v46 = v45 - 15;
      sub_100424B0(a1, v44, v45 - 15, &v68);
      if ( (unsigned __int8)(*((_BYTE *)v45 - 85) - 7) <= 3u )
        *v46 = *v45;
      v47 = v68;
      if ( v68 == 9.9999996e24 )
        v47 = 6.283185;
      *(v45 - 14) = v47;
      *((_BYTE *)v45 - 86) = sub_10041DE0(v44, 0, a1, v44, v69, (int)&v65);
      v54 = sub_1003C620(*(v45 - 10));
      *(v45 - 13) = *(float *)&v65;
      *(v45 - 11) = v54;
      if ( !sub_10040E80(a1, v44) )
      {
        *v46 = 0.0;
        *(v45 - 14) = 0.0;
      }
      ++v44;
      v45 += 45;
    }
    while ( v44 < *(_BYTE *)(a2 + 4) );
  }
  *(_BYTE *)(a2 + 1) = 1;
}

//----- (10047F80) --------------------------------------------------------
void sub_10047F80()
{
  dword_10504EA0 = -15;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (10047F90) --------------------------------------------------------
signed int sub_10047F90()
{
  return sub_10018100((int)&off_100880B0);
}
// 100880B0: using guessed type char *off_100880B0;

//----- (10047FD0) --------------------------------------------------------
int __cdecl sub_10047FD0(signed int a1)
{
  int v1; // esi@1
  int v2; // eax@1
  int v4; // [sp+4h] [bp-8h]@1
  int v5; // [sp+8h] [bp-4h]@1

  v1 = (unsigned __int16)sub_1004DBD0(a1);
  v4 = 0;
  sub_10017CB0(3173, &v5, 2, &v4);
  LOWORD(v2) = sub_10021970();
  return v1 & ~v5 & v2;
}

//----- (10048030) --------------------------------------------------------
double sub_10048030()
{
  float v1; // [sp+0h] [bp-8h]@1
  float v2; // [sp+4h] [bp-4h]@1

  v1 = 5486.3999;
  sub_10017B40(3521, &v2, 4, &v1);
  return v2;
}

//----- (10048060) --------------------------------------------------------
bool __cdecl sub_10048060(char a1, char a2, int a3, float a4)
{
  if ( a2 == 6 )
  {
    if ( (unsigned __int8)a1 >= 5u && 0.0 != a4 )
      return 1;
    return 0;
  }
  if ( a1 != 4 && a1 != 5 && a1 != 2 && a1 != 7 )
    return 0;
  return 0.0 != a4;
}

//----- (100480B0) --------------------------------------------------------
void __cdecl sub_100480B0(int a1)
{
  unsigned __int8 v1; // al@3
  char v2; // al@4
  int v3; // ecx@5
  int v4; // edx@5
  double v5; // st7@5
  int v6; // ecx@5
  double v7; // st7@5
  int v8; // edx@5
  double v9; // st7@5
  double v10; // st7@5
  int v11; // ecx@5
  double v12; // st7@5
  bool v13; // cf@13
  bool v14; // al@15
  double v15; // st7@17
  double v16; // st7@17
  double v17; // st7@17
  char v18; // al@18
  bool v19; // zf@22
  int v20; // edx@24
  int v21; // eax@24
  int v22; // edx@24
  int v23; // edx@24
  bool v24; // al@26
  float v25; // [sp+54h] [bp-90h]@17
  float v26; // [sp+58h] [bp-8Ch]@17
  double v27; // [sp+5Ch] [bp-88h]@17
  double v28; // [sp+64h] [bp-80h]@17
  char v29; // [sp+6Ch] [bp-78h]@1
  int v30; // [sp+88h] [bp-5Ch]@5
  int v31; // [sp+94h] [bp-50h]@5
  float v32; // [sp+9Ch] [bp-48h]@5
  float v33; // [sp+A0h] [bp-44h]@5
  float v34; // [sp+A4h] [bp-40h]@5
  float v35; // [sp+A8h] [bp-3Ch]@5
  float v36; // [sp+ACh] [bp-38h]@5
  float v37; // [sp+B0h] [bp-34h]@5
  double v38; // [sp+BCh] [bp-28h]@17
  double v39; // [sp+C4h] [bp-20h]@17
  int v40; // [sp+CCh] [bp-18h]@5
  int v41; // [sp+D0h] [bp-14h]@5
  int v42; // [sp+D4h] [bp-10h]@5
  int v43; // [sp+D8h] [bp-Ch]@5

  memset((void *)(a1 + 336), 0, 0xF8u);
  memset(&v29, 0, 0x70u);
  v19 = *(_BYTE *)(a1 + 241) == -1;
  *(_BYTE *)(a1 + 336) = 0;
  *(_BYTE *)(a1 + 337) = 0;
  *(_BYTE *)(a1 + 338) = 0;
  *(_DWORD *)(a1 + 344) = 15;
  if ( v19 || *(_BYTE *)(a1 + 244) == -1 )
    return;
  v1 = *(_BYTE *)(a1 + 240);
  if ( v1 == 6 )
  {
    sub_1004DE80(a1 + 288, (int)&v29);
    v2 = v29;
    if ( v29 )
    {
      v3 = v40;
      *(float *)(a1 + 348) = v32;
      v4 = v41;
      v5 = v33;
      *(_DWORD *)(a1 + 392) = v3;
      *(float *)(a1 + 352) = v5;
      v6 = v42;
      v7 = v34;
      *(_DWORD *)(a1 + 396) = v4;
      *(float *)(a1 + 364) = v7;
      v8 = v43;
      v9 = v35;
      *(_BYTE *)(a1 + 337) = v2;
      *(float *)(a1 + 368) = v9;
      *(_DWORD *)(a1 + 400) = v6;
      v10 = (double)v30;
      v11 = v31;
      *(_DWORD *)(a1 + 404) = v8;
      *(_DWORD *)(a1 + 344) = v11;
      *(float *)(a1 + 372) = v10;
      *(float *)(a1 + 376) = v36;
      v12 = v37;
      *(float *)(a1 + 388) = v37;
      if ( 0.0 == v12 )
        *(float *)(a1 + 388) = 32767.0;
    }
    else
    {
      *(_BYTE *)(a1 + 240) = 3;
      *(_BYTE *)(a1 + 239) = 3;
    }
  }
  else if ( v1 >= 4u && v1 > *(_BYTE *)(a1 + 239) && sub_10049AC0(556.0, 100.0) )
  {
    *(_BYTE *)(a1 + 239) = *(_BYTE *)(a1 + 240);
  }
  if ( *(_BYTE *)(a1 + 240) == 6 )
  {
    v13 = *(_BYTE *)(a1 + 239) < 5u;
    *(float *)(a1 + 348) = v32;
    v14 = !v13 && 0.0 != *(float *)(a1 + 364);
    v15 = v38;
    *(_BYTE *)(a1 + 338) = v14;
    v27 = v15;
    v28 = v39;
    sub_100190F0(a1 + 392, (int)&v27, &v25, (float *)(a1 + 360));
    v26 = v25 + 305.0;
    v16 = v26;
    *(float *)(a1 + 356) = v26;
    v17 = *(float *)(a1 + 352) / v16;
LABEL_25:
    *(float *)(a1 + 384) = v17;
    goto LABEL_26;
  }
  v18 = *(_BYTE *)(a1 + 239);
  if ( v18 == 4 || v18 == 5 || v18 == 2 || v18 == 7 )
  {
    v19 = v18 == 2;
    *(float *)(a1 + 352) = 106.68;
    *(float *)(a1 + 364) = *(float *)(a1 + 284);
    *(float *)(a1 + 368) = 556.0;
    if ( v18 != 2 )
      *(float *)(a1 + 388) = 50.0;
    v20 = 180 * *(_BYTE *)(a1 + 244);
    *(float *)(a1 + 372) = 0.0;
    v21 = v20 + a1;
    v22 = 180 * *(_BYTE *)(a1 + 241);
    *(_BYTE *)(a1 + 338) = !v19;
    *(_BYTE *)(a1 + 337) = 0;
    v23 = a1 + v22;
    *(double *)(a1 + 392) = *(float *)(v21 + 728);
    *(double *)(a1 + 400) = *(float *)(v21 + 732);
    v27 = *(float *)(v23 + 728);
    v28 = *(float *)(v23 + 732);
    *(float *)(a1 + 348) = *(float *)(v21 + 776) - *(float *)(a1 + 280);
    *(float *)(a1 + 376) = *(float *)(a1 + 272) + *(float *)(a1 + 280);
    sub_100190F0((int)&v27, a1 + 392, &v25, (float *)(a1 + 360));
    *(float *)(a1 + 356) = 3048.0;
    v17 = 0.034920771;
    goto LABEL_25;
  }
LABEL_26:
  v24 = sub_10048060(*(_BYTE *)(a1 + 239), *(_BYTE *)(a1 + 240), COERCE_INT(*(float *)(a1 + 388)), *(float *)(a1 + 364));
  v19 = *(_BYTE *)(a1 + 337) == 0;
  *(_BYTE *)(a1 + 336) = v24;
  if ( !v19 || v24 )
  {
    sub_10029B50(
      a1 + 392,
      *(float *)(a1 + 376),
      *(float *)(a1 + 348),
      *(float *)(a1 + 364),
      *(float *)(a1 + 360),
      *(float *)(a1 + 356),
      a1 + 408);
    *(float *)(a1 + 380) = *(float *)(180 * *(_BYTE *)(a1 + 241) + a1 + 776) - 50.0;
  }
}

//----- (100484B0) --------------------------------------------------------
bool __thiscall sub_100484B0(void *this)
{
  void *v1; // ecx@1
  char v2; // al@2
  bool v3; // zf@3
  char v5; // [sp+0h] [bp-CD0h]@3
  char v6; // [sp+Dh] [bp-CC3h]@4

  if ( sub_1004FDC0(this) )
  {
    v3 = sub_1004FDD0(0, &v5) == 0;
    v2 = 3;
    if ( !v3 )
      v2 = v6;
  }
  else
  {
    v2 = sub_1004AE30(v1);
  }
  return v2 == 2;
}

//----- (10048510) --------------------------------------------------------
double __fastcall sub_10048510(float a1)
{
  float v2; // [sp+0h] [bp-4h]@1

  v2 = a1;
  if ( !sub_10016DD0(&v2) )
    v2 = 9.9999996e24;
  return v2;
}

//----- (10048530) --------------------------------------------------------
double sub_10048530()
{
  return *(float *)(dword_10504EE8 + 32396);
}
// 10504EE8: using guessed type int dword_10504EE8;

//----- (10048540) --------------------------------------------------------
char __cdecl sub_10048540(int a1, void *a2)
{
  int v2; // eax@1
  int v3; // eax@2
  unsigned int v4; // edx@2
  __int64 v6; // [sp-4h] [bp-24h]@0
  char v7; // [sp+Ch] [bp-14h]@2
  unsigned int v8; // [sp+10h] [bp-10h]@3
  char v9[6]; // [sp+16h] [bp-Ah]@2
  unsigned int v10; // [sp+1Ch] [bp-4h]@2

  *(_DWORD *)a2 = 1600085855;
  *((_WORD *)a2 + 2) = 24415;
  *((double *)a2 + 1) = 6.2831853071796;
  *((double *)a2 + 2) = 6.2831853071796;
  LODWORD(v6) = a1;
  *((_BYTE *)a2 + 6) = 0;
  *((_WORD *)a2 + 12) = -1;
  *((_BYTE *)a2 + 26) = 0;
  *((_BYTE *)a2 + 30) = 0;
  *((_DWORD *)a2 + 8) = 0x3FFFF;
  *((_WORD *)a2 + 14) = 0;
  LOBYTE(v2) = sub_10048E40(v6);
  if ( (_BYTE)v2 == 2 )
  {
    sub_1003F1F0(a1, (int)a2);
    sub_1003F890(a1, (int)a2 + 8);
    v3 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 20, &v7);
    v4 = v10;
    v2 = *(_DWORD *)&v9[2] >> 22;
    *((_WORD *)a2 + 12) = *(_WORD *)v9 & 0x7FFF;
    *((_BYTE *)a2 + 30) = (v4 >> 15) & 1;
    *((_WORD *)a2 + 14) = v2 & 3;
    *((_BYTE *)a2 + 26) = (v2 & 3) != 0;
    if ( (unsigned __int16)word_10504FF4 >= 0x14u )
    {
      v2 = (v8 >> 26) & 3;
      *((_DWORD *)a2 + 8) = __PAIR__(v8 >> 26, HIWORD(v10)) & 0x3FFFF;
    }
  }
  else if ( (_BYTE)v2 == 7 )
  {
    LOBYTE(v2) = sub_1003E810(a1, a2);
  }
  return v2;
}
// 10089308: using guessed type int dword_10089308;
// 10504EB4: using guessed type int dword_10504EB4;
// 10504FF4: using guessed type __int16 word_10504FF4;

//----- (10048650) --------------------------------------------------------
bool __cdecl sub_10048650(unsigned int a1)
{
  char v1; // al@1
  int v2; // eax@2
  bool result; // al@2
  bool v4; // zf@3
  __int64 v5; // [sp-4h] [bp-20h]@0
  char v6; // [sp+8h] [bp-14h]@2
  int v7; // [sp+14h] [bp-8h]@2

  LODWORD(v5) = a1;
  v1 = sub_10048E40(v5);
  if ( v1 == 2 )
  {
    v2 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 20, &v6);
    result = (v7 & 0xC00000) != 0;
  }
  else
  {
    v4 = v1 == 7;
    result = 1;
    if ( !v4 )
      result = 0;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100486B0) --------------------------------------------------------
char __cdecl sub_100486B0(unsigned int a1, int a2)
{
  char result; // al@1
  int v3; // eax@2
  unsigned int v4; // eax@2
  char v5; // dl@2
  char v6; // cl@2
  __int64 v7; // [sp-4h] [bp-2Ch]@0
  char v8; // [sp+8h] [bp-20h]@2
  unsigned int v9; // [sp+Ch] [bp-1Ch]@2
  unsigned int v10; // [sp+16h] [bp-12h]@2

  LODWORD(v7) = a1;
  *(_BYTE *)a2 = 3;
  *(_BYTE *)(a2 + 1) = 8;
  *(_BYTE *)(a2 + 2) = 0;
  *(_BYTE *)(a2 + 3) = 0;
  result = sub_10048E40(v7);
  if ( result == 3 )
  {
    v3 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 29, &v8);
    v4 = v9;
    *(_BYTE *)a2 = (v9 >> 27) & 3;
    v5 = (v4 >> 29) & 7;
    v6 = (v10 >> 22) & 1;
    result = (v4 >> 26) & 1;
    *(_BYTE *)(a2 + 1) = v5;
    *(_BYTE *)(a2 + 2) = v6;
    *(_BYTE *)(a2 + 3) = result;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10048730) --------------------------------------------------------
double __cdecl sub_10048730(unsigned int a1)
{
  int v1; // eax@2
  __int64 v3; // [sp-4h] [bp-44h]@0
  float v4; // [sp+4h] [bp-3Ch]@1
  char v5; // [sp+8h] [bp-38h]@5
  char v6; // [sp+10h] [bp-30h]@5
  char v7; // [sp+20h] [bp-20h]@2
  unsigned int v8; // [sp+24h] [bp-1Ch]@2
  int v9; // [sp+2Eh] [bp-12h]@4

  v4 = 6.2831855;
  LODWORD(v3) = a1;
  if ( sub_10048E40(v3) == 3 )
  {
    v1 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v1, 29, &v7);
    if ( v8 >> 29 != 2 && v8 >> 29 != 6 )
      return (float)((double)(v9 >> 23) * 0.01745329238474369 * 0.5);
    sub_1003F890(a1, (int)&v6);
    sub_10063820((int)&v6, (int)&v5);
    sub_100492B0((int)&v5, &v4);
  }
  return v4;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100487E0) --------------------------------------------------------
void __cdecl sub_100487E0(unsigned int a1, int a2)
{
  int v2; // esi@1
  int v3; // edi@1
  int v4; // eax@2
  unsigned int v5; // ecx@4
  double v6; // st7@4
  unsigned int v7; // ecx@4
  unsigned __int8 v8; // al@4
  char v9; // cl@6
  unsigned __int8 v10; // al@9
  unsigned int v11; // eax@11
  unsigned int v12; // edi@14
  double v13; // st7@14
  int v14; // edx@14
  __int64 v15; // [sp-4h] [bp-34h]@0
  __int16 v16; // [sp+10h] [bp-20h]@2
  __int16 v17; // [sp+12h] [bp-1Eh]@14
  unsigned int v18; // [sp+14h] [bp-1Ch]@4
  unsigned int v19; // [sp+1Ah] [bp-16h]@2
  unsigned int v20; // [sp+1Eh] [bp-12h]@4
  unsigned int v21; // [sp+22h] [bp-Eh]@4
  unsigned __int8 v22; // [sp+26h] [bp-Ah]@4
  __int16 v23; // [sp+27h] [bp-9h]@13
  __int16 v24; // [sp+29h] [bp-7h]@12
  unsigned int v25; // [sp+2Bh] [bp-5h]@11
  int v26; // [sp+38h] [bp+8h]@5

  v2 = a2;
  v3 = a2 + 17;
  *(_DWORD *)v3 = 1600085855;
  *(_WORD *)(v3 + 4) = 24415;
  *(double *)(a2 + 60) = 6.2831853071796;
  *(double *)(a2 + 68) = 6.2831853071796;
  LODWORD(v15) = a1;
  *(float *)(a2 + 32) = 6.2831855;
  *(_BYTE *)(v3 + 6) = 0;
  *(_DWORD *)(a2 + 40) = 0xFFFF;
  *(float *)(a2 + 36) = 9.9999996e24;
  *(_BYTE *)(a2 + 1) = 3;
  *(_BYTE *)a2 = 8;
  *(float *)(a2 + 28) = 9.8999998e24;
  *(_BYTE *)(a2 + 4) = 0;
  *(_BYTE *)(a2 + 5) = 0;
  *(double *)(a2 + 44) = 6.2831853071796;
  *(_BYTE *)(a2 + 3) = 0;
  *(double *)(a2 + 52) = 6.2831853071796;
  *(_DWORD *)(a2 + 24) = 0x3FFFF;
  *(_BYTE *)(a2 + 2) = 7;
  *(_WORD *)(a2 + 6) = 0;
  *(_WORD *)(a2 + 8) = 32;
  if ( sub_10048E40(v15) == 3 )
  {
    sub_1003F1F0(a1, v3);
    sub_1003F890(a1, a2 + 60);
    v4 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(v4, 29, &v16);
    if ( v19 >> 24 != 255 )
      *(_DWORD *)(a2 + 40) = 50 * ((v19 >> 24) + 2160);
    v5 = v18;
    *(_BYTE *)(a2 + 1) = (v18 >> 27) & 3;
    *(_BYTE *)a2 = (v5 >> 29) & 7;
    *(_BYTE *)(a2 + 4) = (v20 >> 22) & 1;
    *(_BYTE *)(a2 + 5) = (v5 >> 26) & 1;
    strncpy((char *)(a2 + 8), (const char *)(dword_10505750 + 25 * ((v5 >> 29) + 768)), 8u);
    *(_BYTE *)(a2 + 16) = 0;
    v6 = sub_10048730(a1);
    v7 = v21;
    *(float *)(a2 + 32) = v6;
    v8 = v22;
    *(float *)(a2 + 36) = (double)(signed int)((v7 & 0x7FFF) - 5000) * 0.3048000037670135;
    if ( (unsigned __int16)word_1050503C >= 0x17u )
    {
      HIWORD(v26) = v8 & 3;
      LOWORD(v26) = HIWORD(v21);
      *(_DWORD *)(v2 + 24) = v26;
    }
    v9 = (v7 >> 15) & 1;
    *(_BYTE *)(v2 + 3) = v9;
    if ( v9 )
    {
      *(_DWORD *)(v2 + 44) = *(_DWORD *)(v2 + 60);
      *(_DWORD *)(v2 + 48) = *(_DWORD *)(v2 + 64);
      *(_DWORD *)(v2 + 52) = *(_DWORD *)(v2 + 68);
      *(_DWORD *)(v2 + 56) = *(_DWORD *)(v2 + 72);
    }
    if ( (unsigned __int16)word_1050503C >= 0x1Du )
    {
      v10 = v8 >> 2;
      if ( v10 < 0x3Fu )
        *(float *)(v2 + 28) = (double)v10 * 0.1 * 1852.0;
      v11 = (v25 >> 3) & 0x3FF;
      *(_BYTE *)(v2 + 2) = v25 & 7;
      *(_WORD *)(v2 + 6) = v11;
      if ( v9 && (v24 || v23) )
      {
        v12 = (((v18 >> 8) & 0x1FF) + (v16 << 9)) << 7;
        v13 = sub_1004DD40((((unsigned int)(unsigned __int8)v18 + (v17 << 8)) << 7) - (v24 << 7), 24);
        v14 = v23;
        *(double *)(v2 + 44) = v13;
        *(double *)(v2 + 52) = sub_1004DD40(v12 - (v14 << 7), 24);
      }
    }
  }
}
// 10089308: using guessed type int dword_10089308;
// 10504EB4: using guessed type int dword_10504EB4;
// 1050503C: using guessed type __int16 word_1050503C;
// 10505750: using guessed type int dword_10505750;

//----- (10048A50) --------------------------------------------------------
int __cdecl sub_10048A50(_BYTE *a1, _BYTE *a2, int a3)
{
  _BYTE *v3; // edx@1
  _BYTE *v4; // ecx@1
  int v5; // esi@1
  int result; // eax@1

  v3 = a2;
  v4 = a1;
  v5 = a3;
  result = 0;
  do
  {
    if ( v5 <= 0 )
      break;
    result = *v4-- - *v3--;
    --v5;
  }
  while ( !result );
  return result;
}

//----- (10048A80) --------------------------------------------------------
int __cdecl sub_10048A80(int a1, int a2)
{
  unsigned int v2; // edx@1
  int v3; // ebx@1
  int v4; // ecx@1
  signed int v5; // esi@1
  unsigned int v6; // eax@2
  unsigned int v7; // eax@12
  unsigned int v8; // eax@15
  int v9; // ecx@15
  unsigned int v10; // eax@25
  unsigned int v11; // eax@28
  int v12; // ecx@28
  unsigned int v13; // eax@38
  int result; // eax@47

  v2 = 0;
  v3 = 0;
  v4 = 34;
  v5 = 0;
  while ( 1 )
  {
    v6 = *(_BYTE *)(v5 + a1);
    if ( v6 - 65 > 0x19 )
    {
      if ( v6 - 48 > 9 )
      {
        if ( v6 == 32 )
        {
          v6 = 0;
        }
        else if ( !*(_BYTE *)(v5 + a1) )
        {
          goto LABEL_45;
        }
      }
      else
      {
        v6 -= 16;
      }
    }
    else
    {
      v6 -= 64;
    }
    if ( v4 == 34 )
    {
      v3 |= 4 * v6;
    }
    else
    {
      if ( v4 == 28 )
      {
        v3 |= v6 >> 4;
        v7 = v6 << 28;
      }
      else
      {
        v7 = v6 << v4;
      }
      v2 |= v7;
    }
    v8 = *(_BYTE *)(v5 + a1 + 1);
    v9 = v4 - 6;
    if ( v8 - 65 > 0x19 )
    {
      if ( v8 - 48 > 9 )
      {
        if ( v8 == 32 )
        {
          v8 = 0;
        }
        else if ( !*(_BYTE *)(v5 + a1 + 1) )
        {
          ++v5;
          goto LABEL_45;
        }
      }
      else
      {
        v8 -= 16;
      }
    }
    else
    {
      v8 -= 64;
    }
    if ( v9 == 34 )
    {
      v3 |= 4 * v8;
    }
    else
    {
      if ( v9 == 28 )
      {
        v3 |= v8 >> 4;
        v10 = v8 << 28;
      }
      else
      {
        v10 = v8 << v9;
      }
      v2 |= v10;
    }
    v11 = *(_BYTE *)(v5 + a1 + 2);
    v12 = v9 - 6;
    if ( v11 - 65 > 0x19 )
      break;
    v11 -= 64;
LABEL_35:
    if ( v12 == 34 )
    {
      v3 |= 4 * v11;
    }
    else
    {
      if ( v12 == 28 )
      {
        v3 |= v11 >> 4;
        v13 = v11 << 28;
      }
      else
      {
        v13 = v11 << v12;
      }
      v2 |= v13;
    }
    v5 += 3;
    v4 = v12 - 6;
    if ( v5 >= 6 )
      goto LABEL_45;
  }
  if ( v11 - 48 <= 9 )
  {
    v11 -= 16;
    goto LABEL_35;
  }
  if ( v11 == 32 )
  {
    v11 = 0;
    goto LABEL_35;
  }
  if ( *(_BYTE *)(v5 + a1 + 2) )
    goto LABEL_35;
  v5 += 2;
LABEL_45:
  if ( *(_BYTE *)(v5 + a1) )
  {
    v2 = -136348176;
    LOBYTE(v3) = 125;
  }
  result = a2;
  *(_BYTE *)(a2 + 1) = BYTE1(v2);
  *(_BYTE *)a2 = v2;
  *(_BYTE *)(a2 + 4) = v3;
  *(_BYTE *)(a2 + 2) = v2 >> 16;
  *(_BYTE *)(a2 + 3) = BYTE3(v2);
  return result;
}

//----- (10048BE0) --------------------------------------------------------
int __usercall sub_10048BE0@<eax>(int result@<eax>, _BYTE *a2, signed int a3, int a4)
{
  signed int v4; // edx@1
  _BYTE *v5; // ecx@2
  unsigned int v6; // ebx@2
  unsigned __int16 v7; // ax@7

  v4 = 0;
  if ( a3 > 0 )
  {
    v5 = a2;
    v6 = a3;
    do
    {
      if ( v4 & 3 )
      {
        if ( (v4 & 3) == 1 )
        {
          result = v6 >> 4;
        }
        else
        {
          --v5;
          result = (v4 & 3) - 2;
          if ( (v4 & 3) == 2 )
          {
            HIBYTE(v7) = v5[1];
            LOBYTE(v7) = *v5;
            v6 = v7;
            result = (unsigned int)v7 >> 6;
          }
          else
          {
            LOBYTE(result) = v6;
          }
        }
      }
      else
      {
        HIWORD(result) = 0;
        BYTE1(result) = *v5--;
        LOBYTE(result) = *v5;
        v6 = (unsigned __int16)result;
        LOWORD(result) = (unsigned __int16)result >> 10;
      }
      LOBYTE(result) = (result & 0x3F) + 32;
      *(_BYTE *)(v4++ + a4) = result;
    }
    while ( v4 < a3 );
  }
  return result;
}

//----- (10048C60) --------------------------------------------------------
int __cdecl sub_10048C60(int a1, int a2, int a3, _BYTE *a4)
{
  __int16 v4; // ax@1
  int result; // eax@1
  int v6; // [sp+10h] [bp-10h]@1
  __int16 v7; // [sp+14h] [bp-Ch]@1
  __int16 v8; // [sp+16h] [bp-Ah]@1

  sub_10048BE0((int)&v6, (_BYTE *)(a1 + 6), 8, (int)&v6);
  v4 = v7;
  *(_DWORD *)a2 = v6;
  *(_WORD *)(a2 + 4) = v4;
  *(_BYTE *)(a2 + 6) = 0;
  result = sub_1004A3B0(a2, 6);
  *(_WORD *)a3 = v8;
  *(_BYTE *)(a3 + 2) = 0;
  *a4 = *(_BYTE *)a1 & 0xF;
  return result;
}

//----- (10048CE0) --------------------------------------------------------
unsigned int __cdecl sub_10048CE0(unsigned int a1, _BYTE *a2, _BYTE *a3)
{
  unsigned int result; // eax@1

  *a2 = a1;
  result = a1 >> 8;
  *a3 = BYTE1(a1);
  return result;
}

//----- (10048D00) --------------------------------------------------------
int __usercall sub_10048D00@<eax>(int a1@<edi>, int a2, int *a3)
{
  int result; // eax@1
  char v4; // [sp+4h] [bp-14h]@1
  int v5; // [sp+8h] [bp-10h]@1
  char v6; // [sp+Ch] [bp-Ch]@1

  sub_10048C60(a2, (int)&v6, (int)&v4, &v5);
  result = sub_1003C7E0(a1, (int)&v6, (int)&v4, v5);
  *a3 = result;
  return result;
}

//----- (10048D60) --------------------------------------------------------
unsigned __int8 __cdecl sub_10048D60(unsigned int a1)
{
  unsigned __int8 result; // al@1

  result = 0;
  do
  {
    if ( a1 < *(_DWORD *)(dword_10505750 + 4 * result + 20816) )
      break;
    ++result;
  }
  while ( result < 4u );
  return result;
}
// 10505750: using guessed type int dword_10505750;

//----- (10048D90) --------------------------------------------------------
int __cdecl sub_10048D90(unsigned int a1, unsigned __int8 a2, char a3)
{
  unsigned int v3; // esi@2
  char v4; // bl@4
  int result; // eax@5

  if ( a2 >= 4u )
  {
    result = 0xFFFFFF;
  }
  else
  {
    v3 = a1;
    if ( a3 )
      v3 = a1 - *(_DWORD *)(dword_10505750 + 4 * a2 + 20812);
    v4 = byte_100892CC[12 * a2];
    if ( sub_1004DE20(v3, (unsigned __int8)byte_100892CC[12 * a2]) )
      result = dword_10504F00[3 * (unsigned __int8)v4] + v3 * (unsigned __int16)word_10504F04[6 * (unsigned __int8)v4];
    else
      result = 0xFFFFFF;
  }
  return result;
}
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];
// 10505750: using guessed type int dword_10505750;

//----- (10048E10) --------------------------------------------------------
int __cdecl sub_10048E10(unsigned int a1)
{
  unsigned __int8 v1; // ST14_1@1

  v1 = sub_10048D60(a1);
  return sub_10048D90(a1, v1, 1);
}

//----- (10048E40) --------------------------------------------------------
char __cdecl sub_10048E40(__int64 a1)
{
  char v1; // bl@1
  char result; // al@3
  unsigned __int16 v3; // ax@7

  v1 = 9;
  if ( (unsigned int)a1 < 0x3E8 )
  {
LABEL_13:
    result = v1;
  }
  else
  {
    switch ( sub_10048D60(a1) )
    {
      case 0u:
        result = 0;
        break;
      case 1u:
        result = 1;
        break;
      case 2u:
        result = 2;
        break;
      case 3u:
        result = 3;
        break;
      default:
        v3 = WORD1(a1) >> 10;
        if ( (unsigned __int16)(WORD1(a1) >> 10) >= 0xBu && v3 < 0xDu
          || v3 >= 5u && v3 <= 8u && (unsigned __int16)(a1 - 1000) < (unsigned int)sub_1004E180(8u) )
        {
          v1 = (*(_DWORD *)((char *)&a1 + 2) >> 10) & 0x3F;
        }
        goto LABEL_13;
    }
  }
  return result;
}

//----- (10048EE0) --------------------------------------------------------
double __cdecl sub_10048EE0(unsigned int a1)
{
  int v1; // eax@2
  __int64 v3; // [sp-4h] [bp-28h]@0
  float v4; // [sp+4h] [bp-20h]@1
  char v5; // [sp+8h] [bp-1Ch]@2
  int v6; // [sp+12h] [bp-12h]@2

  v4 = 9.9999996e24;
  LODWORD(v3) = a1;
  if ( !sub_10048E40(v3) )
  {
    v1 = sub_10048E10(a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v1, 28, &v5);
    v4 = (double)((v6 & 0x7FFF) - 5000) * 0.3048000037670135;
  }
  return v4;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10048F50) --------------------------------------------------------
int sub_10048F50()
{
  int result; // eax@2
  unsigned __int8 v1; // [sp+0h] [bp-Ch]@4
  int v2; // [sp+2h] [bp-Ah]@4
  int v3; // [sp+6h] [bp-6h]@4

  if ( sub_1004DE20(0x4Du, 1u) )
  {
    result = dword_1050529C;
    dword_10125810 = dword_1050529C;
    if ( dword_1050529C )
    {
      (*(void (__cdecl **)(int, signed int, unsigned __int8 *))dword_10504EB4)(dword_1050529C, 8, &v1);
      word_10125808 = v1;
      result = v3 & 0x1FF;
      dword_10125810 += (unsigned __int16)word_105052A0;
      word_1012580C = v2 & 0x1FF;
      word_10125804 = v3 & 0x1FF;
    }
  }
  else
  {
    word_10125808 = 6;
    word_1012580C = 6;
    result = dword_1050511C;
    word_10125804 = 60;
    dword_10125810 = dword_1050511C;
  }
  return result;
}
// 10125804: using guessed type __int16 word_10125804;
// 10125808: using guessed type __int16 word_10125808;
// 1012580C: using guessed type __int16 word_1012580C;
// 10125810: using guessed type int dword_10125810;
// 10504EB4: using guessed type int dword_10504EB4;
// 1050511C: using guessed type int dword_1050511C;
// 1050529C: using guessed type int dword_1050529C;
// 105052A0: using guessed type __int16 word_105052A0;

//----- (10048FF0) --------------------------------------------------------
char __cdecl sub_10048FF0(float *a1)
{
  int v1; // ecx@0
  int v2; // esi@1
  char v3; // bl@1
  char v4; // al@1
  float v5; // ST44_4@4
  double v6; // st6@4
  signed __int16 v7; // si@4
  signed int v8; // eax@4
  signed __int16 v9; // di@4
  float v10; // ST44_4@7
  __int16 v11; // cx@8
  __int16 v12; // ax@8
  signed int v13; // edi@8
  __int16 v14; // bp@8
  int v15; // esi@8
  __int16 v16; // bx@8
  signed int v17; // esi@8
  int *v18; // edi@8
  signed int v19; // ecx@10
  __int64 v20; // rax@11
  __int16 v21; // si@16
  float v23; // [sp+Ch] [bp-1Ch]@8
  float v24; // [sp+10h] [bp-18h]@4
  float v25; // [sp+10h] [bp-18h]@8
  int v26; // [sp+18h] [bp-10h]@8
  int v27; // [sp+1Ch] [bp-Ch]@8

  *a1 = 0.0;
  v2 = v1;
  v3 = 0;
  v4 = sub_1004E380(v1, 0);
  if ( dword_10125810 && v4 && sub_1004DE20(0, 0x2Du) )
  {
    v24 = (*(float *)v2 + 1.570796370506287) * 57.29578018188477;
    v5 = 57.29578018188477 * (*(float *)(v2 + 4) + 3.141592741012573);
    v6 = v5;
    v7 = (signed int)v24;
    v8 = (signed int)v5;
    v9 = v8;
    if ( v7 > 179 )
      v7 = 179;
    if ( v9 >= 360 )
    {
      v9 = v8 - 360;
      v10 = v6 - 360.0;
      v6 = v10;
    }
    v11 = v7 / word_10125808;
    v12 = v9 / word_1012580C;
    v13 = (signed __int16)(v7 / word_10125808);
    v14 = v7 / word_10125808 + 1;
    v23 = v24 / (double)word_10125808 - (double)v13;
    v15 = v12;
    v25 = v6 / (double)word_1012580C - (double)v12;
    v16 = (v12 + 1) % word_10125804;
    (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(
      dword_10125810 + (unsigned __int16)word_10505120 * (v12 + v11 * word_10125804),
      2,
      &v26);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(
      dword_10125810 + (unsigned __int16)word_10505120 * (v16 + v13 * word_10125804),
      2,
      (char *)&v26 + 2);
    (*(void (__cdecl **)(int, signed int, int *))dword_10504EB4)(
      dword_10125810 + (unsigned __int16)word_10505120 * (v15 + v14 * word_10125804),
      2,
      &v27);
    (*(void (__cdecl **)(int, _DWORD, char *))dword_10504EB4)(
      dword_10125810 + (unsigned __int16)word_10505120 * (v16 + v14 * word_10125804),
      2,
      (char *)&v27 + 2);
    v3 = 1;
    v17 = 1;
    v18 = &v26;
    do
    {
      if ( !v3 )
        break;
      v19 = v17;
      if ( v17 < 4 )
      {
        while ( 1 )
        {
          v20 = (signed __int16)(*(_WORD *)v18 - *((_WORD *)&v26 + v19));
          if ( (signed int)((HIDWORD(v20) ^ v20) - HIDWORD(v20)) > 1820 )
            break;
          if ( ++v19 >= 4 )
            goto LABEL_15;
        }
        v3 = 0;
      }
LABEL_15:
      ++v17;
      v18 = (int *)((char *)v18 + 2);
    }
    while ( v17 - 1 < 3 );
    v21 = v26 + (signed int)((double)(signed __int16)(v27 - v26) * v23);
    *a1 = (double)(signed __int16)(v21
                                 + (signed int)((double)(signed __int16)(HIWORD(v26)
                                                                       + (signed int)(v23
                                                                                    * (double)(signed __int16)(HIWORD(v27) - HIWORD(v26)))
                                                                       - v21)
                                              * v25))
        * 0.0000958738019107841;
  }
  return v3;
}
// 10125804: using guessed type __int16 word_10125804;
// 10125808: using guessed type __int16 word_10125808;
// 1012580C: using guessed type __int16 word_1012580C;
// 10125810: using guessed type int dword_10125810;
// 10504EB4: using guessed type int dword_10504EB4;
// 10505120: using guessed type __int16 word_10505120;

//----- (100492B0) --------------------------------------------------------
char __cdecl sub_100492B0(int a1, float *a2)
{
  return sub_10048FF0(a2);
}

//----- (100492D0) --------------------------------------------------------
char *__cdecl sub_100492D0(unsigned __int8 a1)
{
  int v1; // ecx@0
  int v2; // ebx@1
  char *result; // eax@1
  signed int v4; // ebp@1
  int v5; // esi@1
  int v6; // edi@1
  int v7; // esi@2
  char v8; // cl@4
  int v9; // ecx@8
  int v10; // [sp+10h] [bp-28h]@2
  int v11; // [sp+14h] [bp-24h]@1
  char v12[28]; // [sp+18h] [bp-20h]@2

  v2 = dword_10504F00[3 * a1];
  result = (char *)(12 * a1);
  v4 = *(_DWORD *)&result[(_DWORD)dword_10504F08];
  v5 = v1;
  v6 = *(_WORD *)&result[(_DWORD)word_10504F04];
  v11 = v1;
  if ( v4 > 0 )
  {
    v7 = v1 - (_DWORD)v12;
    v10 = *(_DWORD *)&result[(_DWORD)dword_10504F08];
    do
    {
      (*(void (__cdecl **)(int, int, char *))dword_10504EB4)(v2, v6, v12);
      v12[v6] = 0;
      result = v12;
      do
      {
        v8 = *result;
        result[v7] = *result;
        ++result;
      }
      while ( v8 );
      v2 += v6;
      v7 += 25;
      --v10;
    }
    while ( v10 );
    v5 = v11;
  }
  if ( v4 < 64 )
  {
    result = (char *)(v5 + 25 * v4);
    v9 = 64 - v4;
    do
    {
      *result = 0;
      result += 25;
      --v9;
    }
    while ( v9 );
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];
// 10504F08: using guessed type int dword_10504F08[];
// 100492D0: using guessed type char var_20[28];

//----- (10049390) --------------------------------------------------------
signed int sub_10049390()
{
  signed int result; // eax@1

  result = 0xFFFFFF;
  byte_10504EB8 = 0;
  dword_10504EBC = 0xFFFFFF;
  byte_10504EA8 = 0;
  dword_10504EAC = 0xFFFFFF;
  return result;
}
// 10504EA8: using guessed type char byte_10504EA8;
// 10504EAC: using guessed type int dword_10504EAC;
// 10504EB8: using guessed type char byte_10504EB8;
// 10504EBC: using guessed type int dword_10504EBC;

//----- (100493B0) --------------------------------------------------------
int sub_100493B0()
{
  int result; // eax@1

  result = (*(int (**)(void))(dword_10504EB4 + 16))();
  byte_10504EB0 = (_BYTE)result == 0;
  return result;
}
// 10504EB0: using guessed type char byte_10504EB0;
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10049410) --------------------------------------------------------
int sub_10049410()
{
  int result; // eax@1

  *(_DWORD *)(dword_10505750 + 20812) = 1000;
  *(_DWORD *)(dword_10505750 + 20816) = dword_10504F68 + *(_DWORD *)(dword_10505750 + 20812);
  *(_DWORD *)(dword_10505750 + 20820) = dword_10504FC8 + *(_DWORD *)(dword_10505750 + 20816);
  *(_DWORD *)(dword_10505750 + 20824) = dword_10504FF8 + *(_DWORD *)(dword_10505750 + 20820);
  result = dword_10505750;
  *(_DWORD *)(dword_10505750 + 20828) = dword_10505040 + *(_DWORD *)(dword_10505750 + 20824);
  return result;
}
// 10504F68: using guessed type int dword_10504F68;
// 10504FC8: using guessed type int dword_10504FC8;
// 10504FF8: using guessed type int dword_10504FF8;
// 10505040: using guessed type int dword_10505040;
// 10505750: using guessed type int dword_10505750;

//----- (10049480) --------------------------------------------------------
char *sub_10049480()
{
  sub_100492D0(0x40u);
  sub_100492D0(0x39u);
  sub_100492D0(0x33u);
  sub_100492D0(0x31u);
  sub_100492D0(0x32u);
  sub_100492D0(0x4Eu);
  sub_100492D0(0x4Fu);
  sub_100492D0(0x3Du);
  sub_100492D0(0x3Eu);
  sub_100492D0(0x45u);
  return sub_100492D0(0x38u);
}
// 10505750: using guessed type int dword_10505750;

//----- (10049550) --------------------------------------------------------
int __cdecl sub_10049550(const void *a1)
{
  int result; // eax@1

  qmemcpy(dword_10125818, a1, 0x1Cu);
  dword_10504EB4 = (int)dword_10125818;
  dword_10505750 = (int)&unk_10125838;
  memset(&unk_10125838, 0, 0x516Cu);
  dword_10125818[5](dword_10505750 + 20832, dword_10505750 + 20833, dword_10505750 + 20836);
  (*(void (__cdecl **)(int))(dword_10504EB4 + 24))(dword_10505750 + 20840);
  sub_1004AB90();
  sub_1004A6E0();
  sub_1004A9D0();
  sub_1004A7B0();
  sub_10049480();
  sub_10049390();
  sub_10049E80();
  sub_10048F50();
  sub_100493B0();
  sub_10049410();
  *(_DWORD *)(dword_10505750 + 20800) = 0;
  *(_DWORD *)(dword_10505750 + 20804) = dword_105050E8;
  result = dword_10505750;
  *(_DWORD *)(dword_10505750 + 20808) = dword_105050F4 + *(_DWORD *)(dword_10505750 + 20804);
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 105050E8: using guessed type int dword_105050E8;
// 105050F4: using guessed type int dword_105050F4;
// 10505750: using guessed type int dword_10505750;

//----- (10049600) --------------------------------------------------------
int __cdecl sub_10049600(int a1)
{
  int result; // eax@1
  char v2; // al@2
  signed int v3; // ebp@2
  signed int v4; // edi@2
  unsigned __int8 v5; // cl@4
  char v6; // cl@16
  signed int v7; // edi@18
  char v8; // al@19
  char v9; // cl@27
  char v10; // dl@27
  char v11; // al@27
  char v12; // dl@28
  char v13; // cl@28
  char v14; // al@29
  char v15; // cl@29
  char v16; // dl@29
  __int32 v17; // esi@33
  int v18; // esi@33
  char v19; // [sp+8h] [bp-10h]@20
  char v20; // [sp+9h] [bp-Fh]@27
  char v21; // [sp+Ah] [bp-Eh]@28
  char v22; // [sp+Bh] [bp-Dh]@24
  char v23; // [sp+Ch] [bp-Ch]@20
  char v24; // [sp+Dh] [bp-Bh]@28
  char v25; // [sp+Eh] [bp-Ah]@29
  char v26; // [sp+Fh] [bp-9h]@28
  char v27; // [sp+10h] [bp-8h]@28

  result = 0x3FFFF;
  if ( *(_BYTE *)(dword_10505750 + 20840) )
  {
    v2 = 1;
    v3 = 5;
    v4 = 0;
    while ( v2 )
    {
      v5 = *(_BYTE *)(a1 + v4);
      switch ( *(_BYTE *)(a1 + v4) )
      {
        case 0x45:
        case 0x4E:
        case 0x53:
        case 0x57:
          if ( v4 == 3 || v3 != 5 )
            goto LABEL_11;
          v3 = v4;
          break;
        default:
          if ( v5 < 0x30u || v5 > 0x39u )
LABEL_11:
            v2 = 0;
          else
            v2 = 1;
          break;
      }
      if ( ++v4 >= 5 )
      {
        if ( !v2 || v3 == 5 || *(_BYTE *)(a1 + v4) )
          break;
        v6 = *(_BYTE *)(a1 + v3);
        if ( v6 == 69 )
        {
          v8 = 43;
          v7 = 1;
LABEL_23:
          v23 = v8;
          v19 = v8;
        }
        else if ( v6 == 78 )
        {
          v19 = 43;
          v23 = 45;
          v7 = 1;
        }
        else
        {
          v7 = -1;
          if ( v6 != 83 )
          {
            v8 = 45;
            goto LABEL_23;
          }
          v19 = 45;
          v23 = 43;
        }
        v22 = 0;
        if ( v3 )
        {
          if ( v3 == 1 )
          {
            v14 = *(_BYTE *)(a1 + 2);
            v15 = *(_BYTE *)(a1 + 3);
            v20 = *(_BYTE *)a1;
            v16 = *(_BYTE *)(a1 + 4);
            v21 = v14;
            v24 = 49;
            v25 = v15;
            v26 = v16;
            v27 = 0;
          }
          else
          {
            v7 = 0;
            if ( v3 != 2 )
            {
              v9 = *(_BYTE *)(a1 + 1);
              v10 = *(_BYTE *)(a1 + 2);
              v20 = *(_BYTE *)a1;
              v11 = *(_BYTE *)(a1 + 3);
              goto LABEL_31;
            }
            v12 = *(_BYTE *)(a1 + 1);
            v11 = *(_BYTE *)(a1 + 3);
            v20 = *(_BYTE *)a1;
            v13 = *(_BYTE *)(a1 + 4);
            v21 = v12;
            v24 = 49;
            v26 = v13;
            v27 = 0;
LABEL_32:
            v25 = v11;
          }
          v17 = (v7 + 2 * j_j__atol(&v19) + 180) & 0x1FF | 0x3FE00;
          v18 = (v17 ^ ((unsigned __int16)(j_j__atol(&v23) + 180) << 9)) & 0x3FE00 ^ v17;
          if ( (v18 & 0x1FFu) <= 0x168 && (v18 & 0x3FE00u) <= 0x2D000 )
            return v18 & 0x3FFFFFF | 0x30000000;
          break;
        }
        v9 = *(_BYTE *)(a1 + 2);
        v10 = *(_BYTE *)(a1 + 3);
        v20 = *(_BYTE *)(a1 + 1);
        v11 = *(_BYTE *)(a1 + 4);
LABEL_31:
        v26 = 0;
        v24 = v10;
        v21 = v9;
        goto LABEL_32;
      }
    }
    result = 0x3FFFF;
  }
  return result;
}
// 10505750: using guessed type int dword_10505750;

//----- (10049830) --------------------------------------------------------
void __cdecl sub_10049830(unsigned int a1, int a2)
{
  unsigned int v2; // ebx@3
  unsigned int v3; // ebp@4
  unsigned int v4; // eax@5
  int v5; // ecx@5
  int v6; // eax@6
  char v7; // dl@10
  char v8; // cl@10
  char v9; // al@10
  char v10; // cl@11
  char v11; // dl@11
  char v12; // dl@13
  char v13; // cl@13
  char v14; // al@13
  char v15; // cl@14
  char v16; // dl@14
  char v17; // cl@14
  char v18; // [sp+4h] [bp-10h]@5
  char v19; // [sp+5h] [bp-Fh]@10
  char v20; // [sp+6h] [bp-Eh]@10
  char v21; // [sp+8h] [bp-Ch]@5
  char v22; // [sp+Ah] [bp-Ah]@10
  char v23; // [sp+Bh] [bp-9h]@10

  if ( a2 )
  {
    if ( (a1 & 0xFC000000) != 805306368 || (v2 = a1 & 0x1FF, v2 > 0x168) || (v3 = (a1 >> 9) & 0x1FF, v3 > 0x168) )
    {
      *(_DWORD *)a2 = 1600085855;
      *(_WORD *)(a2 + 4) = 24415;
      *(_BYTE *)(a2 + 6) = 0;
    }
    else
    {
      sub_1004A340(&v18, 4u, "%+03d", (signed int)(v2 - 180) / 2);
      sub_1004A340(&v21, 5u, "%+04d", v3 - 180);
      v4 = (v3 - 180) >> 31;
      v5 = (v3 - 180 - v4) ^ ((signed int)(v3 - 180 - v4) >> 31);
      if ( v2 < 0xB4 )
      {
        LOBYTE(v4) = v3 < 0xB4;
        v6 = 4 * v4 + 83;
      }
      else
      {
        LOBYTE(v6) = v3 < 0xB4 ? 78 : 69;
      }
      *(_BYTE *)(a2 + 5) = 0;
      if ( a1 & 1 )
      {
        if ( v5 >= 100 )
        {
          v10 = v22;
          *(_BYTE *)a2 = v19;
          v11 = v23;
          *(_BYTE *)(a2 + 1) = v6;
          *(_BYTE *)(a2 + 2) = v20;
          *(_BYTE *)(a2 + 3) = v10;
          *(_BYTE *)(a2 + 4) = v11;
        }
        else
        {
          v7 = v20;
          *(_BYTE *)(a2 + 1) = v19;
          v8 = v23;
          *(_BYTE *)a2 = v6;
          v9 = v22;
          *(_BYTE *)(a2 + 2) = v7;
          *(_BYTE *)(a2 + 3) = v9;
          *(_BYTE *)(a2 + 4) = v8;
        }
      }
      else if ( v5 < 100 )
      {
        v15 = v20;
        *(_BYTE *)a2 = v19;
        v16 = v22;
        *(_BYTE *)(a2 + 1) = v15;
        v17 = v23;
        *(_BYTE *)(a2 + 2) = v16;
        *(_BYTE *)(a2 + 3) = v17;
        *(_BYTE *)(a2 + 4) = v6;
      }
      else
      {
        v12 = v20;
        *(_BYTE *)a2 = v19;
        v13 = v23;
        *(_BYTE *)(a2 + 2) = v6;
        v14 = v22;
        *(_BYTE *)(a2 + 1) = v12;
        *(_BYTE *)(a2 + 3) = v14;
        *(_BYTE *)(a2 + 4) = v13;
      }
    }
  }
}

//----- (10049A10) --------------------------------------------------------
char __cdecl sub_10049A10(unsigned int a1, int a2)
{
  char result; // al@1
  unsigned int v3; // edx@3
  unsigned int v4; // ecx@4

  result = 0;
  if ( a2 )
  {
    if ( (a1 & 0xFC000000) == 805306368 )
    {
      v3 = a1 & 0x1FF;
      if ( v3 <= 0x168 )
      {
        v4 = (a1 >> 9) & 0x1FF;
        if ( v4 <= 0x168 )
        {
          *(_DWORD *)a2 = (signed int)(11930464 * (v3 - 180)) / 2;
          *(_DWORD *)(a2 + 4) = 11930464 * (v4 - 180);
          result = 1;
        }
      }
    }
  }
  return result;
}

//----- (10049A80) --------------------------------------------------------
int __cdecl sub_10049A80(unsigned __int8 a1)
{
  int v1; // eax@3
  bool v2; // zf@3
  int result; // eax@3

  if ( a1 >= 0x67u
    || !(unsigned __int8)sub_10047F90()
    || (v1 = 8524 * a1, v2 = a1 == *(_BYTE *)(v1 + dword_10504EA0 + 2004), result = v1 + dword_10504EA0 + 2004, !v2) )
  {
    result = 0;
  }
  return result;
}
// 10504EA0: using guessed type int dword_10504EA0;

//----- (10049AC0) --------------------------------------------------------
bool __cdecl sub_10049AC0(float a1, float a2)
{
  bool v2; // bl@1
  signed int v3; // ecx@2
  float *v4; // edx@2

  v2 = sub_10016C40();
  if ( (unsigned __int8)sub_10016910() )
  {
    sub_100178A0(101, 60000);
    v3 = 0;
    v4 = (float *)(dword_101CA7D8 + 620);
    while ( *(v4 - 150) <= (double)a1 && *v4 <= (double)a2 )
    {
      ++v3;
      ++v4;
      if ( v3 >= 150 )
      {
        sub_10017820(101);
        return v2;
      }
    }
    v2 = 0;
    sub_10017820(101);
  }
  return v2;
}
// 101CA7D8: using guessed type int dword_101CA7D8;

//----- (10049B50) --------------------------------------------------------
BOOL __cdecl sub_10049B50(signed int a1)
{
  return (unsigned __int8)sub_10047FD0(a1) != 0;
}

//----- (10049B70) --------------------------------------------------------
int __cdecl sub_10049B70(_BYTE *a1, _BYTE *a2)
{
  int result; // eax@1

  result = sub_1004E180(0x2Bu);
  *a1 = result;
  if ( (_BYTE)result )
  {
    result = (int)a2;
    *a2 = 1;
  }
  else
  {
    *a2 = 0;
    *a1 = 1;
  }
  return result;
}

//----- (10049BA0) --------------------------------------------------------
int sub_10049BA0()
{
  return (*(int (**)(void))(dword_10504EB4 + 8))();
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10049BB0) --------------------------------------------------------
int __fastcall sub_10049BB0(unsigned __int8 a1)
{
  return dword_10505104 + a1 * (unsigned __int16)word_10505108;
}
// 10505104: using guessed type int dword_10505104;
// 10505108: using guessed type __int16 word_10505108;

//----- (10049BD0) --------------------------------------------------------
int __fastcall sub_10049BD0(unsigned __int8 a1)
{
  return dword_10505110 + a1 * (unsigned __int16)word_10505114;
}
// 10505110: using guessed type int dword_10505110;
// 10505114: using guessed type __int16 word_10505114;

//----- (10049BF0) --------------------------------------------------------
void *__cdecl sub_10049BF0(char a1, void *a2)
{
  void *result; // eax@2
  int v3; // eax@4
  int v4; // eax@4
  char v5; // [sp+6h] [bp-1Eh]@1
  unsigned __int8 v6; // [sp+7h] [bp-1Dh]@1
  char v7; // [sp+8h] [bp-1Ch]@4
  char v8; // [sp+16h] [bp-Eh]@4

  sub_10049B70(&v6, &v5);
  if ( (unsigned __int8)a1 < v6 )
  {
    if ( v5 )
    {
      v3 = sub_10049BB0(a1);
      v4 = (*(int (__cdecl **)(int, signed int, char *))dword_10504EB4)(v3, 22, &v7);
      result = (void *)sub_10048BE0(v4, &v8, 20, (int)a2);
      *((_BYTE *)a2 + 20) = 0;
    }
    else
    {
      result = memcpy(a2, &aWgs84[21 * (unsigned __int8)a1], 0x14u);
      *((_BYTE *)a2 + 20) = 0;
    }
  }
  else
  {
    result = (void *)1600085855;
    *(_DWORD *)a2 = 1600085855;
    *((_DWORD *)a2 + 1) = 1600085855;
    *((_DWORD *)a2 + 2) = 1600085855;
    *((_DWORD *)a2 + 3) = 1600085855;
    *((_DWORD *)a2 + 4) = 1600085855;
    *((_BYTE *)a2 + 20) = 0;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10049CC0) --------------------------------------------------------
int __cdecl sub_10049CC0(int a1)
{
  bool v1; // zf@1
  int v2; // eax@2
  signed int v3; // eax@2
  float v4; // ST24_4@2
  unsigned __int8 v5; // cl@2
  int v6; // eax@2
  char v7; // al@2
  char v8; // cl@2
  float v9; // ST24_4@3
  double v10; // st6@3
  float v11; // ST24_4@3
  float v12; // ST24_4@3
  double v13; // st7@3
  float v14; // ST24_4@3
  float v16; // [sp+10h] [bp-34h]@2
  char v17; // [sp+14h] [bp-30h]@2
  char v18; // [sp+15h] [bp-2Fh]@2
  char v19; // [sp+16h] [bp-2Eh]@2
  char v20; // [sp+17h] [bp-2Dh]@2
  char v21; // [sp+26h] [bp-1Eh]@2
  char v22; // [sp+28h] [bp-1Ch]@2
  char v23; // [sp+36h] [bp-Eh]@2
  unsigned __int8 v24; // [sp+37h] [bp-Dh]@2
  __int16 v25; // [sp+38h] [bp-Ch]@2
  __int16 v26; // [sp+3Ah] [bp-Ah]@2
  __int16 v27; // [sp+3Ch] [bp-8h]@2

  *(float *)(a1 + 24) = 0.0;
  *(float *)(a1 + 28) = 0.0;
  *(float *)(a1 + 32) = 0.0;
  *(float *)(a1 + 36) = 6378137.0;
  *(float *)(a1 + 40) = 0.0033528106;
  *(_BYTE *)(a1 + 56) = 0;
  memcpy((void *)(a1 + 1), "WGS 84              ", 0x15u);
  v1 = *(_BYTE *)(a1 + 81) == 0;
  *(_BYTE *)(a1 + 80) = 1;
  if ( !v1 )
  {
    v2 = sub_10049BB0(*(_BYTE *)a1);
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(v2, 22, &v22);
    sub_10048BE0((int)&v23, &v23, 20, a1 + 1);
    v3 = v27;
    LODWORD(v4) = v26;
    v5 = v24;
    *(float *)(a1 + 24) = (double)v25;
    *(_BYTE *)(a1 + 21) = 0;
    *(float *)(a1 + 28) = (double)SLODWORD(v4);
    *(float *)(a1 + 32) = (double)v3;
    v6 = sub_10049BD0(v5);
    (*(void (__cdecl **)(int, signed int, float *))dword_10504EB4)(v6, 23, &v16);
    v7 = v18;
    v8 = v19;
    LOBYTE(v4) = v17;
    *(float *)(a1 + 36) = v16;
    BYTE1(v4) = v7;
    BYTE2(v4) = v8;
    BYTE3(v4) = v20;
    *(float *)(a1 + 40) = v4;
    sub_10048BE0((int)&v21, &v21, 20, a1 + 56);
    *(_BYTE *)(a1 + 76) = 0;
  }
  *(float *)(a1 + 44) = *(float *)(a1 + 40) + *(float *)(a1 + 40) - *(float *)(a1 + 40) * *(float *)(a1 + 40);
  v9 = *(float *)(a1 + 36) - 6378137.0;
  v10 = v9;
  *(float *)(a1 + 48) = v9;
  v11 = *(float *)(a1 + 40) - 0.003352810628712177;
  v12 = 6378137.0 * v11;
  v13 = v12;
  v14 = v10 * 0.00335281066474748;
  *(float *)(a1 + 52) = v13 + v14;
  return (*(int (__cdecl **)(int))(dword_10504EB4 + 12))(a1);
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10049E80) --------------------------------------------------------
char sub_10049E80()
{
  int v0; // eax@1
  unsigned __int8 v1; // bl@1
  char v2; // al@7
  unsigned __int8 v3; // bl@10
  unsigned __int8 v5; // [sp+6h] [bp-76h]@1
  unsigned __int8 v6; // [sp+7h] [bp-75h]@1
  char v7[4]; // [sp+8h] [bp-74h]@1
  char v8; // [sp+Ch] [bp-70h]@10
  unsigned __int8 v9; // [sp+5Ch] [bp-20h]@5
  char v10; // [sp+5Dh] [bp-1Fh]@8
  char v11; // [sp+5Eh] [bp-1Eh]@6
  char v12; // [sp+60h] [bp-1Ch]@2

  sub_10049BA0();
  sub_10049B70(&v6, &v5);
  LOBYTE(v0) = v6;
  v1 = 0;
  v5 = v6;
  v7[0] = 0;
  if ( v6 )
  {
    do
    {
      sub_10049BF0(v7[0], &v12);
      v0 = strcmp(&v12, "WGS 84              ");
      if ( !v0 )
        v5 = v1;
      v7[0] = ++v1;
    }
    while ( v1 < v6 );
  }
  if ( !v9 || v5 != v11 )
  {
    v2 = sub_1004E180(0x2Bu);
    v9 = v2;
    if ( v2 )
    {
      v10 = 1;
    }
    else
    {
      v2 = 1;
      v10 = 0;
      v9 = 1;
    }
    v3 = 0;
    v8 = v2;
    v11 = v2;
    v7[0] = 0;
    if ( v2 )
    {
      do
      {
        sub_10049BF0(v7[0], &v12);
        if ( !strcmp(&v12, "WGS 84              ") )
        {
          v11 = v3;
          v8 = v3;
        }
        v7[0] = ++v3;
      }
      while ( v3 < v9 );
    }
    LOBYTE(v0) = sub_10049CC0((int)&v8);
  }
  return v0;
}

//----- (10049FF0) --------------------------------------------------------
bool __cdecl sub_10049FF0(float a1, int a2, int a3, int a4)
{
  int v4; // edi@2
  int v5; // esi@3
  int v6; // ecx@8
  unsigned int v7; // eax@9
  float v8; // ST14_4@10
  float v9; // ST14_4@10
  float v10; // ST14_4@10
  float v11; // ST14_4@10
  float v12; // ST14_4@10
  float v13; // ST14_4@10
  float v14; // ST14_4@10
  int v15; // eax@12
  float v16; // ST14_4@14
  signed int v17; // ebx@14
  bool result; // al@19
  int v19; // [sp+8h] [bp-8h]@5

  if ( a4 && (v4 = a3, a3 <= 9) && (v5 = a2, a2 > 0) && a3 <= a2 - 2 )
  {
    v19 = 0;
    if ( a1 < 0.0 )
    {
      v4 = a3 - 1;
      a1 = fabs(a1);
      *(_BYTE *)a4 = 45;
      v19 = 1;
      if ( a3 == 1 )
        v4 = -1;
    }
    v6 = 0;
    if ( v4 >= 8 )
    {
      v7 = ((unsigned int)(v4 - 8) >> 3) + 1;
      v6 = 8 * v7;
      do
      {
        --v7;
        v8 = a1 * 10.0;
        v9 = v8 * 10.0;
        v10 = v9 * 10.0;
        v11 = v10 * 10.0;
        v12 = v11 * 10.0;
        v13 = v12 * 10.0;
        v14 = v13 * 10.0;
        a1 = v14 * 10.0;
      }
      while ( v7 );
    }
    if ( v6 < v4 )
    {
      v15 = v4 - v6;
      do
      {
        --v15;
        a1 = a1 * 10.0;
      }
      while ( v15 );
    }
    v16 = a1 + 0.5;
    v17 = (signed int)v16;
    if ( a2 > v19 )
    {
      do
      {
        if ( --v5 == a2 - v4 - 1 )
        {
          *(_BYTE *)(v5 + a4) = 46;
        }
        else
        {
          *(_BYTE *)(v5 + a4) = v17 % 10 + 48;
          v17 /= 10;
        }
      }
      while ( v5 > v19 );
    }
    result = v17 == 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1004A160) --------------------------------------------------------
bool __cdecl sub_1004A160(signed int a1, signed int a2, _BYTE *a3)
{
  bool result; // al@2
  signed int v4; // ebx@3
  signed int v5; // edi@3
  signed int i; // esi@5

  if ( a3 )
  {
    v4 = a1;
    v5 = 0;
    if ( a1 < 0 )
    {
      v4 = -a1;
      *a3 = 45;
      v5 = 1;
    }
    for ( i = a2; i > v5; v4 /= 10 )
      a3[--i] = v4 % 10 + 48;
    result = v4 == 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1004A1D0) --------------------------------------------------------
void __cdecl sub_1004A1D0(const char *a1, unsigned int a2, int a3)
{
  unsigned int v3; // eax@2

  if ( a1 )
  {
    v3 = strlen(a1);
    if ( v3 < a2 )
      memset((void *)&a1[v3], a3, a2 - v3);
    a1[a2] = 0;
  }
}

//----- (1004A220) --------------------------------------------------------
int __cdecl sub_1004A220(int a1, _BYTE *a2, int a3)
{
  int v3; // esi@2
  int v4; // eax@2
  _BYTE *v5; // ecx@3
  int result; // eax@7

  if ( a3 <= 0 )
    goto LABEL_11;
  v3 = a3 - 1;
  v4 = 0;
  if ( a3 - 1 > 0 )
  {
    v5 = a2;
    do
    {
      if ( !*v5 )
        break;
      v5[a1 - (_DWORD)a2] = *v5;
      ++v4;
      ++v5;
    }
    while ( v4 < v3 );
  }
  *(_BYTE *)(v4 + a1) = 0;
  *(_BYTE *)(v3 + a1) = 0;
  if ( a2[v4] )
LABEL_11:
    result = -1;
  else
    result = v4 + 1;
  return result;
}

//----- (1004A270) --------------------------------------------------------
int __cdecl sub_1004A270(void *a1, size_t a2)
{
  _BYTE *v2; // eax@1
  int result; // eax@2

  v2 = memchr(a1, 0, a2);
  if ( v2 )
    result = v2 - (_BYTE *)a1;
  else
    result = -2;
  return result;
}

//----- (1004A2A0) --------------------------------------------------------
int __cdecl sub_1004A2A0(int a1, char *a2, int a3)
{
  int v3; // eax@3
  int i; // esi@5
  int v5; // esi@8
  int result; // eax@8

  if ( a1 && a2 )
  {
    v3 = a3;
    if ( !a3 )
      v3 = strlen((const char *)a1);
    for ( i = v3 - 1; i >= 0; --i )
    {
      if ( !strchr(a2, *(_BYTE *)(i + a1)) )
        break;
    }
    v5 = i + 1;
    *(_BYTE *)(v5 + a1) = 0;
    result = v5;
  }
  else
  {
    result = a3;
  }
  return result;
}

//----- (1004A300) --------------------------------------------------------
int __cdecl sub_1004A300(char *a1, size_t a2, char *a3, va_list a4)
{
  int result; // eax@2

  if ( (signed int)a2 > 0 )
  {
    result = _vsnprintf(a1, a2, a3, a4);
    if ( result < 0 )
      result = -1;
    a1[a2 - 1] = 0;
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (1004A340) --------------------------------------------------------
int sub_1004A340(char *a1, size_t a2, char *a3, ...)
{
  int result; // eax@1
  va_list va; // [sp+10h] [bp+10h]@1

  va_start(va, a3);
  result = sub_1004A300(a1, a2, a3, va);
  if ( result < 0 )
    result = -1;
  return result;
}

//----- (1004A370) --------------------------------------------------------
int __cdecl sub_1004A370(const char *a1, _BYTE *a2, int a3)
{
  unsigned int v3; // kr00_4@1

  v3 = strlen(a1);
  return sub_1004A220((int)&a1[v3], a2, a3 - v3);
}

//----- (1004A3B0) --------------------------------------------------------
int __cdecl sub_1004A3B0(int a1, int a2)
{
  return sub_1004A2A0(a1, "_ ", a2);
}

//----- (1004A3D0) --------------------------------------------------------
int __cdecl sub_1004A3D0(int a1, double a2)
{
  int result; // eax@1

  sub_100637C0(a2);
  result = (signed int)(a2 * 683565275.5764301);
  *(_DWORD *)a1 = result;
  return result;
}

//----- (1004A400) --------------------------------------------------------
int __cdecl sub_1004A400(int a1, signed int a2, signed int a3)
{
  int result; // eax@1

  result = a1;
  *(double *)(a1 + 8) = (double)a3 * 0.000000001462918079267163;
  *(double *)a1 = 0.000000001462918079267163 * (double)a2;
  return result;
}

//----- (1004A420) --------------------------------------------------------
int __cdecl sub_1004A420(int a1, double a2, double a3)
{
  long double v3; // st6@1
  long double v4; // st4@1
  int result; // eax@3
  double v6; // st7@6
  double v7; // [sp+0h] [bp-10h]@6
  double v8; // [sp+8h] [bp-8h]@6

  v3 = fabs(a2);
  v4 = fabs(a3);
  if ( v3 > 1.5707963267949 || v4 >= 3.1415926535898 )
  {
    if ( v3 > 4.7123889803847 || v4 > 12.5663706143592 )
    {
      result = a1;
      *(_DWORD *)a1 = 2147483648;
      *(_DWORD *)(a1 + 4) = 2147483648;
    }
    else
    {
      v7 = a2;
      v8 = a3;
      sub_1004E280((int)&v7);
      v6 = 683565275.5764301 * v8;
      *(_DWORD *)a1 = (signed int)(v7 * 683565275.5764301);
      result = (signed int)v6;
      *(_DWORD *)(a1 + 4) = (signed int)v6;
    }
  }
  else
  {
    *(_DWORD *)a1 = (signed int)(a2 * 683565275.5764301);
    result = (signed int)(683565275.5764301 * a3);
    *(_DWORD *)(a1 + 4) = result;
  }
  return result;
}

//----- (1004A500) --------------------------------------------------------
int __cdecl sub_1004A500(int a1, signed int a2, signed int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)(a1 + 4) = (double)a3 * 0.000000001462918119976564;
  *(float *)a1 = 0.000000001462918119976564 * (double)a2;
  return result;
}

//----- (1004A520) --------------------------------------------------------
int __cdecl sub_1004A520(int a1, float a2, float a3)
{
  double v3; // st7@1
  int result; // eax@3
  double v5; // st7@6
  float v6; // [sp+0h] [bp-14h]@1
  double v7; // [sp+4h] [bp-10h]@6
  double v8; // [sp+Ch] [bp-8h]@6
  float v9; // [sp+1Ch] [bp+8h]@1

  v3 = a2;
  v6 = fabs(a2);
  v9 = fabs(a3);
  if ( v6 > 1.570796370506287 || v9 >= 3.141592741012573 )
  {
    if ( v6 > 4.7123889803847 || v9 > 12.5663706143592 )
    {
      result = a1;
      *(_DWORD *)a1 = 2147483648;
      *(_DWORD *)(a1 + 4) = 2147483648;
    }
    else
    {
      v7 = v3;
      v8 = a3;
      sub_1004E280((int)&v7);
      v5 = 683565275.5764301 * v8;
      *(_DWORD *)a1 = (signed int)(v7 * 683565275.5764301);
      result = (signed int)v5;
      *(_DWORD *)(a1 + 4) = (signed int)v5;
    }
  }
  else
  {
    *(_DWORD *)a1 = (signed int)(v3 * 683565248.0);
    result = (signed int)(683565248.0 * a3);
    *(_DWORD *)(a1 + 4) = result;
  }
  return result;
}

//----- (1004A610) --------------------------------------------------------
int __cdecl sub_1004A610(_BYTE *a1)
{
  int result; // eax@1

  result = (int)a1;
  *a1 = 0;
  if ( !byte_10505754 )
    result = (*(int (__cdecl **)(signed int, signed int, _BYTE *))dword_10504EB4)(146, 1, a1);
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505754: using guessed type char byte_10505754;

//----- (1004A640) --------------------------------------------------------
char __cdecl sub_1004A640(_BYTE *a1, _BYTE *a2)
{
  char result; // al@2
  char v3; // [sp+8h] [bp-14h]@2
  unsigned __int8 v4; // [sp+9h] [bp-13h]@2

  *a2 = 0;
  *a1 = 0;
  if ( !byte_10505754 )
  {
    (*(void (__cdecl **)(int, signed int, char *))dword_10504EB4)(dword_10505224, 18, &v3);
    result = v4 & 0xF;
    *a2 = v4 >> 4;
    *a1 = result;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505224: using guessed type int dword_10505224;
// 10505754: using guessed type char byte_10505754;

//----- (1004A690) --------------------------------------------------------
char __cdecl sub_1004A690(_BYTE *a1, _BYTE *a2)
{
  char result; // al@2
  unsigned __int8 v3; // [sp+8h] [bp-14h]@2

  *a2 = 0;
  *a1 = 0;
  if ( !byte_10505754 )
  {
    (*(void (__cdecl **)(int, signed int, unsigned __int8 *))dword_10504EB4)(dword_10505224, 18, &v3);
    result = v3 & 0xF;
    *a2 = v3 >> 4;
    *a1 = result;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10505224: using guessed type int dword_10505224;
// 10505754: using guessed type char byte_10505754;

//----- (1004A6E0) --------------------------------------------------------
int sub_1004A6E0()
{
  int result; // eax@1
  unsigned int v1; // ecx@1
  int v2; // edi@4
  int *v3; // esi@5
  int v4; // ebx@5
  int v5; // edx@6
  int v6; // [sp+4h] [bp-Ch]@1
  int v7; // [sp+8h] [bp-8h]@4
  unsigned int v8; // [sp+Ch] [bp-4h]@4

  memset(dword_10504F00, 0, 0x708u);
  result = (*(int (__cdecl **)(signed int, int *))dword_10504EA4)(512, &v6);
  v1 = 0;
  do
  {
    word_10504F04[v1 / 2] = 0;
    dword_10504F08[v1 / 4] = 0;
    dword_10504F00[v1 / 4] = 0;
    v1 += 12;
  }
  while ( v1 < 0x708 );
  if ( (_BYTE)result )
  {
    dword_10504F0C = v6;
    result = v8;
    v2 = (unsigned __int16)v7 + 512;
    dword_10504F10 = v7;
    dword_10504F14 = v8;
    if ( v8 >= 2 )
    {
      v3 = &dword_10504F18;
      v4 = v8 - 1;
      do
      {
        (*(void (__cdecl **)(int, int *))dword_10504EA4)(v2, &v6);
        v5 = v7;
        result = v8;
        *v3 = v6;
        v3[1] = v5;
        v3[2] = result;
        v2 += (unsigned __int16)dword_10504F10;
        v3 += 3;
        --v4;
      }
      while ( v4 );
    }
  }
  return result;
}
// 10504EA4: using guessed type int dword_10504EA4;
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];
// 10504F08: using guessed type int dword_10504F08[];
// 10504F0C: using guessed type int dword_10504F0C;
// 10504F10: using guessed type int dword_10504F10;
// 10504F14: using guessed type int dword_10504F14;
// 10504F18: using guessed type int dword_10504F18;

//----- (1004A7B0) --------------------------------------------------------
__int16 sub_1004A7B0()
{
  __int16 result; // ax@1
  unsigned int v1; // ebx@1
  unsigned int v2; // esi@1
  int v3; // edi@1
  int v4; // ebp@2
  __int16 v5; // [sp+Ch] [bp-4h]@3

  result = word_10504F1C;
  v1 = dword_10504F20;
  v2 = 1;
  v3 = dword_10504F18;
  if ( (unsigned int)dword_10504F20 >= 1 )
  {
    v4 = (unsigned __int16)word_10504F1C;
    do
    {
      (*(void (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(v3, 2, &v5);
      result = v5;
      word_10505620[v2++] = v5;
      v3 += v4;
    }
    while ( v2 <= v1 );
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;
// 10504F18: using guessed type int dword_10504F18;
// 10504F1C: using guessed type __int16 word_10504F1C;
// 10504F20: using guessed type int dword_10504F20;
// 10505620: using guessed type __int16 word_10505620[];

//----- (1004A810) --------------------------------------------------------
signed int __cdecl sub_1004A810(int a1)
{
  signed int result; // eax@1
  char v2; // [sp+8h] [bp-10h]@3
  char v3; // [sp+13h] [bp-5h]@3

  result = 538976288;
  *(_DWORD *)a1 = 538976288;
  *(_DWORD *)(a1 + 4) = 538976288;
  *(_DWORD *)(a1 + 8) = 538976288;
  *(_DWORD *)(a1 + 12) = 538976288;
  if ( byte_10505754 )
  {
    LOBYTE(dword_1012AB38) = 0;
    *(_BYTE *)(a1 + 16) = 0;
  }
  else if ( (_BYTE)dword_1012AB38 )
  {
    *(_DWORD *)a1 = dword_1012AB38;
    *(_DWORD *)(a1 + 4) = dword_1012AB3C;
    *(_DWORD *)(a1 + 8) = dword_1012AB40;
    result = dword_1012AB44;
    *(_DWORD *)(a1 + 12) = dword_1012AB44;
    *(_BYTE *)(a1 + 16) = 0;
  }
  else
  {
    (*(void (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(147, 12, &v2);
    sub_10048BE0((int)&v3, &v3, 16, a1);
    dword_1012AB38 = *(_DWORD *)a1;
    dword_1012AB3C = *(_DWORD *)(a1 + 4);
    result = *(_DWORD *)(a1 + 8);
    dword_1012AB40 = *(_DWORD *)(a1 + 8);
    dword_1012AB44 = *(_DWORD *)(a1 + 12);
    byte_1012AB48 = *(_BYTE *)(a1 + 16);
    *(_BYTE *)(a1 + 16) = 0;
  }
  return result;
}
// 1012AB38: using guessed type int dword_1012AB38;
// 1012AB3C: using guessed type int dword_1012AB3C;
// 1012AB40: using guessed type int dword_1012AB40;
// 1012AB44: using guessed type int dword_1012AB44;
// 1012AB48: using guessed type char byte_1012AB48;
// 10504EB4: using guessed type int dword_10504EB4;
// 10505754: using guessed type char byte_10505754;

//----- (1004A900) --------------------------------------------------------
unsigned __int8 sub_1004A900()
{
  unsigned __int8 result; // al@1
  unsigned int v1; // edx@2
  char *v2; // ecx@2
  char *v3; // esi@2
  int v4; // edi@6
  int v5; // edx@7
  _BYTE *v6; // ecx@7
  _BYTE *v7; // esi@7
  int v8; // edx@9
  _BYTE *v9; // ecx@9
  _BYTE *v10; // esi@9
  _BYTE *v11; // ecx@11
  _BYTE *v12; // esi@11
  signed int v13; // ecx@13
  char v14; // [sp+0h] [bp-18h]@1

  sub_1004A810((int)&v14);
  result = 0;
  do
  {
    v1 = 10;
    v2 = &a006D0170[11 * result];
    v3 = &v14;
    do
    {
      if ( *(_DWORD *)v3 != *(_DWORD *)v2 )
        goto LABEL_6;
      v1 -= 4;
      v2 += 4;
      v3 += 4;
    }
    while ( v1 >= 4 );
    if ( !v1 )
    {
LABEL_15:
      v13 = 0;
      goto LABEL_16;
    }
LABEL_6:
    v4 = (unsigned __int8)*v3 - (unsigned __int8)*v2;
    if ( (unsigned __int8)*v3 == (unsigned __int8)*v2 )
    {
      v5 = v1 - 1;
      v6 = v2 + 1;
      v7 = v3 + 1;
      if ( !v5 )
        goto LABEL_15;
      v4 = *v7 - *v6;
      if ( *v7 == *v6 )
      {
        v8 = v5 - 1;
        v9 = v6 + 1;
        v10 = v7 + 1;
        if ( !v8 )
          goto LABEL_15;
        v4 = *v10 - *v9;
        if ( *v10 == *v9 )
        {
          v11 = v9 + 1;
          v12 = v10 + 1;
          if ( v8 == 1 )
            goto LABEL_15;
          v4 = *v12 - *v11;
          if ( *v12 == *v11 )
            goto LABEL_15;
        }
      }
    }
    v13 = 1;
    if ( v4 <= 0 )
      v13 = -1;
LABEL_16:
    if ( !v13 )
      break;
    ++result;
  }
  while ( result < 3u );
  return result;
}

//----- (1004A9D0) --------------------------------------------------------
char sub_1004A9D0()
{
  char v0; // al@1
  unsigned __int8 v1; // bl@2
  unsigned int v2; // ecx@3
  char *v3; // eax@3
  char *v4; // edx@3
  int v5; // esi@7
  int v6; // ecx@8
  _BYTE *v7; // eax@8
  _BYTE *v8; // edx@8
  int v9; // ecx@10
  _BYTE *v10; // eax@10
  _BYTE *v11; // edx@10
  _BYTE *v12; // eax@12
  _BYTE *v13; // edx@12
  signed int v14; // eax@14
  char result; // al@24
  char v16; // [sp+Fh] [bp-25h]@20
  char v17; // [sp+10h] [bp-24h]@1
  char v18; // [sp+1Bh] [bp-19h]@2
  char v19; // [sp+1Ch] [bp-18h]@2

  byte_10505754 = 1;
  v0 = (*(int (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(147, 12, &v17);
  byte_10505754 = 1;
  dword_1012AB38 = 0;
  dword_1012AB3C = 0;
  dword_1012AB40 = 0;
  dword_1012AB44 = 0;
  byte_1012AB48 = 0;
  if ( !v0 )
    return (unsigned int)memset(dword_10504F00, 0, 0x708u);
  sub_10048BE0((int)&v19, &v18, 16, (int)&v19);
  v1 = 0;
  while ( 1 )
  {
    v2 = 10;
    v3 = &a006D0170[11 * v1];
    v4 = &v19;
    do
    {
      if ( *(_DWORD *)v4 != *(_DWORD *)v3 )
        goto LABEL_7;
      v2 -= 4;
      v3 += 4;
      v4 += 4;
    }
    while ( v2 >= 4 );
    if ( !v2 )
    {
LABEL_16:
      v14 = 0;
      goto LABEL_17;
    }
LABEL_7:
    v5 = (unsigned __int8)*v4 - (unsigned __int8)*v3;
    if ( (unsigned __int8)*v4 == (unsigned __int8)*v3 )
    {
      v6 = v2 - 1;
      v7 = v3 + 1;
      v8 = v4 + 1;
      if ( !v6 )
        goto LABEL_16;
      v5 = *v8 - *v7;
      if ( *v8 == *v7 )
      {
        v9 = v6 - 1;
        v10 = v7 + 1;
        v11 = v8 + 1;
        if ( !v9 )
          goto LABEL_16;
        v5 = *v11 - *v10;
        if ( *v11 == *v10 )
        {
          v12 = v10 + 1;
          v13 = v11 + 1;
          if ( v9 == 1 )
            goto LABEL_16;
          v5 = *v13 - *v12;
          if ( *v13 == *v12 )
            goto LABEL_16;
        }
      }
    }
    v14 = 1;
    if ( v5 <= 0 )
      v14 = -1;
LABEL_17:
    if ( !v14 )
      break;
    if ( ++v1 >= 3u )
      return (unsigned int)memset(dword_10504F00, 0, 0x708u);
  }
  byte_10505754 = 0;
  sub_1004A610(&v16);
  if ( v16 != 101 )
  {
    byte_10505754 = 2;
    return (unsigned int)memset(dword_10504F00, 0, 0x708u);
  }
  if ( byte_10505754 )
    return (unsigned int)memset(dword_10504F00, 0, 0x708u);
  sub_1004A690(&byte_10505608, &byte_1050574D);
  byte_1050574C = byte_1050574D - 1;
  if ( byte_10505754 )
    return (unsigned int)memset(dword_10504F00, 0, 0x708u);
  result = sub_1004A640(&byte_10505609, &byte_1050560A);
  byte_10504EEC = 0;
  if ( byte_10505754 )
    return (unsigned int)memset(dword_10504F00, 0, 0x708u);
  return result;
}
// 1012AB38: using guessed type int dword_1012AB38;
// 1012AB3C: using guessed type int dword_1012AB3C;
// 1012AB40: using guessed type int dword_1012AB40;
// 1012AB44: using guessed type int dword_1012AB44;
// 1012AB48: using guessed type char byte_1012AB48;
// 10504EB4: using guessed type int dword_10504EB4;
// 10504EEC: using guessed type char byte_10504EEC;
// 10504F00: using guessed type int dword_10504F00[];
// 10505608: using guessed type char byte_10505608;
// 10505609: using guessed type char byte_10505609;
// 1050560A: using guessed type char byte_1050560A;
// 1050574C: using guessed type char byte_1050574C;
// 1050574D: using guessed type char byte_1050574D;
// 10505754: using guessed type char byte_10505754;

//----- (1004AB90) --------------------------------------------------------
int (__cdecl *(*sub_1004AB90())[2])(int, int)
{
  int (__cdecl *(*result)[2])(int, int); // eax@1
  unsigned int v1; // edi@2
  char *v2; // ecx@3
  unsigned int v3; // eax@3
  char *v4; // edx@3
  int v5; // esi@7
  int v6; // eax@8
  _BYTE *v7; // ecx@8
  _BYTE *v8; // edx@8
  int v9; // eax@10
  _BYTE *v10; // ecx@10
  _BYTE *v11; // edx@10
  _BYTE *v12; // ecx@12
  _BYTE *v13; // edx@12
  char v14; // [sp+0h] [bp-24h]@1
  char v15; // [sp+Bh] [bp-19h]@2
  char v16; // [sp+Ch] [bp-18h]@2

  dword_10504EA4 = (int)off_100B0100;
  result = (int (__cdecl *(*)[2])(int, int))(*(int (__cdecl **)(signed int, signed int, char *))dword_10504EB4)(
                                              147,
                                              12,
                                              &v14);
  if ( (_BYTE)result )
  {
    sub_10048BE0((int)&v16, &v15, 16, (int)&v16);
    v1 = 0;
    do
    {
      v2 = (&off_1008B7C8)[8 * v1];
      v3 = strlen((&off_1008B7C8)[8 * v1]);
      v4 = &v16;
      if ( v3 < 4 )
      {
LABEL_6:
        if ( !v3 )
          goto LABEL_16;
      }
      else
      {
        while ( *(_DWORD *)v4 == *(_DWORD *)v2 )
        {
          v3 -= 4;
          v2 += 4;
          v4 += 4;
          if ( v3 < 4 )
            goto LABEL_6;
        }
      }
      v5 = (unsigned __int8)*v4 - (unsigned __int8)*v2;
      if ( (unsigned __int8)*v4 == (unsigned __int8)*v2 )
      {
        v6 = v3 - 1;
        v7 = v2 + 1;
        v8 = v4 + 1;
        if ( !v6
          || (v5 = *v8 - *v7, *v8 == *v7)
          && ((v9 = v6 - 1, v10 = v7 + 1, v11 = v8 + 1, !v9)
           || (v5 = *v11 - *v10, *v11 == *v10)
           && ((v12 = v10 + 1, v13 = v11 + 1, v9 == 1) || (v5 = *v13 - *v12, *v13 == *v12))) )
        {
LABEL_16:
          result = 0;
          goto LABEL_17;
        }
      }
      result = (int (__cdecl *(*)[2])(int, int))1;
      if ( v5 <= 0 )
        result = (int (__cdecl *(*)[2])(int, int))-1;
LABEL_17:
      if ( !result )
      {
        result = (&off_1008B7CC)[v1];
        dword_10504EA4 = (int)(&off_1008B7CC)[v1];
        return result;
      }
      ++v1;
    }
    while ( v1 < 3 );
  }
  return result;
}
// 1008B7C8: using guessed type char *off_1008B7C8;
// 1008B7CC: using guessed type int (__cdecl *(*off_1008B7CC)[2])(int, int);
// 100B0100: using guessed type int (__cdecl *off_100B0100[2])(int, int);
// 10504EA4: using guessed type int dword_10504EA4;
// 10504EB4: using guessed type int dword_10504EB4;

//----- (1004ACC0) --------------------------------------------------------
char __thiscall sub_1004ACC0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  BYTE2(v2) = 12;
  sub_10017CB0(3000, (char *)&v2 + 3, 1, (char *)&v2 + 2);
  return BYTE3(v2);
}

//----- (1004ACF0) --------------------------------------------------------
char __thiscall sub_1004ACF0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  BYTE2(v2) = 30;
  sub_10017CB0(3001, (char *)&v2 + 3, 1, (char *)&v2 + 2);
  return BYTE3(v2);
}

//----- (1004AD20) --------------------------------------------------------
int sub_1004AD20()
{
  int v1; // [sp+0h] [bp-8h]@1
  int v2; // [sp+4h] [bp-4h]@1

  v1 = 0;
  sub_10017CB0(3012, &v2, 4, &v1);
  return v2;
}

//----- (1004AD50) --------------------------------------------------------
char __cdecl sub_1004AD50(int a1)
{
  char v1; // bl@1

  SYS_enter_krnl();
  v1 = SYS_pvg_is_booting(a1);
  SYS_exit_krnl();
  return v1;
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100646E0: using guessed type int __cdecl SYS_pvg_is_booting(_DWORD);

//----- (1004AD70) --------------------------------------------------------
int __cdecl sub_1004AD70(int a1, char *a2)
{
  if ( (unsigned __int8)a1 >= 0x5Fu )
    sub_100175E0("..\\lib\\adl\\sys_usr.c", 5389, 1, 0);
  if ( !a2 )
    sub_100175E0("..\\lib\\adl\\sys_usr.c", 5390, 1, 0);
  SYS_enter_krnl();
  SYS_pvg_var_ctrl(a1, a2);
  return SYS_exit_krnl();
}
// 100645D2: using guessed type int SYS_exit_krnl(void);
// 100645DE: using guessed type int SYS_enter_krnl(void);
// 100646E6: using guessed type int __cdecl SYS_pvg_var_ctrl(_DWORD, _DWORD);

//----- (1004ADD0) --------------------------------------------------------
char __thiscall sub_1004ADD0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_1004AD70(18, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (1004ADF0) --------------------------------------------------------
char __thiscall sub_1004ADF0(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_1004AD70(17, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (1004AE10) --------------------------------------------------------
char __thiscall sub_1004AE10(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_1004AD70(34, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (1004AE30) --------------------------------------------------------
char __thiscall sub_1004AE30(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_1004AD70(44, (char *)&v2 + 3);
  return BYTE3(v2);
}

//----- (1004AE50) --------------------------------------------------------
int __cdecl sub_1004AE50(char a1)
{
  return sub_1004AD70(56, &a1);
}

//----- (1004AE60) --------------------------------------------------------
BOOL sub_1004AE60()
{
  return *(_BYTE *)(dword_10504EE8 + 31342) == 1;
}
// 10504EE8: using guessed type int dword_10504EE8;

//----- (1004AE80) --------------------------------------------------------
void *__usercall sub_1004AE80@<eax>(unsigned __int16 a1@<bx>, int a2@<edi>, void *a3@<esi>)
{
  void *result; // eax@1
  int v4; // [sp+0h] [bp-Ch]@0
  int v5; // [sp+4h] [bp-8h]@0
  int v6; // [sp+8h] [bp-4h]@0

  result = (void *)sub_10017AE0(v4, v5, v6);
  if ( a2 == 6011 )
  {
    if ( result || *(_BYTE *)a3 > 0x3Fu )
    {
      *(_BYTE *)a3 = 63;
      result = (void *)sub_10017C30(6011, (int)a3, a1);
    }
  }
  else if ( result )
  {
    result = memset(a3, 204, a1);
  }
  return result;
}

//----- (1004AED0) --------------------------------------------------------
signed int sub_1004AED0()
{
  int v0; // edi@5
  void *v1; // esi@5
  signed int v2; // ebp@5
  signed int result; // eax@7
  char v4; // [sp+13h] [bp-1h]@1

  dword_10504EE8 = 0;
  v4 = 0;
  sub_10017650(94, &v4);
  if ( v4 == 3 )
  {
    v4 = 1;
    sub_10017BB0(3201, (int)&v4, 1);
    sub_10017680(94, (int)&v4);
  }
  else if ( v4 == 2 )
  {
    v4 = 0;
    sub_10017BB0(3201, (int)&v4, 1);
    sub_10017680(94, (int)&v4);
  }
  sub_1004AE80(1u, 6011, &unk_1012AB50);
  sub_1004AE80(0x16u, 6194, &unk_1012AB51);
  sub_1004AE80(1u, 6012, &unk_1012AB67);
  sub_1004AE80(1u, 6013, &unk_1012AB68);
  sub_1004AE80(1u, 6014, &unk_1012AB69);
  sub_1004AE80(1u, 6015, &unk_1012AB6A);
  sub_1004AE80(4u, 6078, &unk_1012AB6C);
  sub_1004AE80(4u, 6104, &unk_1012AB70);
  sub_1004AE80(0x20u, 6016, &unk_1012AB74);
  sub_1004AE80(0x20u, 6017, &unk_1012AB94);
  sub_1004AE80(0x20u, 6018, &unk_1012ABB4);
  sub_1004AE80(0x20u, 6019, &unk_1012ABD4);
  sub_1004AE80(0x20u, 6020, &unk_1012ABF4);
  sub_1004AE80(0x20u, 6021, &unk_1012AC14);
  sub_1004AE80(0x20u, 6022, &unk_1012AC34);
  sub_1004AE80(0x20u, 6023, &unk_1012AC54);
  sub_1004AE80(0x20u, 6024, &unk_1012AC74);
  sub_1004AE80(0x20u, 6025, &unk_1012AC94);
  sub_1004AE80(0x20u, 6026, &unk_1012ACB4);
  sub_1004AE80(0x20u, 6027, &unk_1012ACD4);
  sub_1004AE80(0x20u, 6028, &unk_1012ACF4);
  sub_1004AE80(0x20u, 6029, &unk_1012AD14);
  sub_1004AE80(0x20u, 6030, &unk_1012AD34);
  sub_1004AE80(0x20u, 6031, &unk_1012AD54);
  sub_1004AE80(0x20u, 6032, &unk_1012AD74);
  sub_1004AE80(0x20u, 6033, &unk_1012AD94);
  sub_1004AE80(0x20u, 6034, &unk_1012ADB4);
  sub_1004AE80(0x20u, 6035, &unk_1012ADD4);
  sub_1004AE80(0x20u, 6036, &unk_1012ADF4);
  sub_1004AE80(0x20u, 6037, &unk_1012AE14);
  sub_1004AE80(0x20u, 6038, &unk_1012AE34);
  sub_1004AE80(0x20u, 6039, &unk_1012AE54);
  sub_1004AE80(0x20u, 6040, &unk_1012AE74);
  sub_1004AE80(0x20u, 6041, &unk_1012AE94);
  sub_1004AE80(0x20u, 6042, &unk_1012AEB4);
  sub_1004AE80(0x20u, 6043, &unk_1012AED4);
  sub_1004AE80(4u, 6044, &unk_1012AEF4);
  sub_1004AE80(4u, 6045, &unk_1012AEF8);
  sub_1004AE80(4u, 6046, &unk_1012AEFC);
  sub_1004AE80(4u, 6357, &unk_1012AF00);
  sub_1004AE80(4u, 6358, &unk_1012AF04);
  sub_1004AE80(4u, 6359, &unk_1012AF08);
  sub_1004AE80(0x20u, 6047, &unk_1012AF0C);
  sub_1004AE80(0x20u, 6048, &unk_1012AF2C);
  sub_1004AE80(0x20u, 6049, &unk_1012AF4C);
  sub_1004AE80(0x20u, 6050, &unk_1012AF6C);
  sub_1004AE80(0x20u, 6051, &unk_1012AF8C);
  sub_1004AE80(0x20u, 6052, &unk_1012AFAC);
  sub_1004AE80(0x20u, 6053, &unk_1012AFCC);
  sub_1004AE80(0x20u, 6054, &unk_1012AFEC);
  sub_1004AE80(1u, 6511, &unk_1012B00C);
  sub_1004AE80(1u, 6522, &unk_1012B00D);
  sub_1004AE80(1u, 6057, &unk_1012B00E);
  sub_1004AE80(0x20u, 6075, &unk_1012B060);
  sub_1004AE80(0x20u, 6076, &unk_1012B080);
  sub_1004AE80(1u, 6077, &unk_1012B0A0);
  sub_1004AE80(4u, 6079, &unk_1012B0A4);
  sub_1004AE80(4u, 6080, &unk_1012B0A8);
  sub_1004AE80(0x20u, 6082, &unk_1012B0AC);
  sub_1004AE80(0x20u, 6083, &unk_1012B0CC);
  sub_1004AE80(0x20u, 6084, &unk_1012B0EC);
  sub_1004AE80(0x20u, 6085, &unk_1012B10C);
  sub_1004AE80(0x20u, 6086, &unk_1012B12C);
  sub_1004AE80(0x20u, 6087, &unk_1012B14C);
  sub_1004AE80(0x20u, 6088, &unk_1012B16C);
  sub_1004AE80(0x20u, 6089, &unk_1012B18C);
  sub_1004AE80(0x20u, 6123, &unk_1012B1AC);
  sub_1004AE80(0x48u, 6906, &unk_1012B1CC);
  sub_1004AE80(0x48u, 6907, &unk_1012B214);
  sub_1004AE80(0x48u, 6908, &unk_1012B25C);
  sub_1004AE80(0x48u, 6909, &unk_1012B2A4);
  sub_1004AE80(0x48u, 6910, &unk_1012B2EC);
  sub_1004AE80(0x48u, 6911, &unk_1012B334);
  sub_1004AE80(0x48u, 6912, &unk_1012B37C);
  sub_1004AE80(0x48u, 6913, &unk_1012B3C4);
  sub_1004AE80(0x48u, 6914, &unk_1012B40C);
  sub_1004AE80(0x48u, 6915, &unk_1012B454);
  sub_1004AE80(0x48u, 6916, &unk_1012B49C);
  sub_1004AE80(0x48u, 6917, &unk_1012B4E4);
  sub_1004AE80(0x48u, 6918, &unk_1012B52C);
  sub_1004AE80(0x48u, 6919, &unk_1012B574);
  sub_1004AE80(0x48u, 6920, &unk_1012B5BC);
  sub_1004AE80(0x48u, 6921, &unk_1012B604);
  sub_1004AE80(0x48u, 6922, &unk_1012B64C);
  sub_1004AE80(0x48u, 6923, &unk_1012B694);
  sub_1004AE80(0x48u, 6924, &unk_1012B6DC);
  sub_1004AE80(0x48u, 6925, &unk_1012B724);
  sub_1004AE80(0x48u, 6926, &unk_1012B76C);
  sub_1004AE80(0x48u, 6927, &unk_1012B7B4);
  sub_1004AE80(0x48u, 6928, &unk_1012B7FC);
  sub_1004AE80(0x48u, 6929, &unk_1012B844);
  sub_1004AE80(0x48u, 6930, &unk_1012B88C);
  sub_1004AE80(0x48u, 6931, &unk_1012B8D4);
  sub_1004AE80(0x48u, 6932, &unk_1012B91C);
  sub_1004AE80(0x48u, 6933, &unk_1012B964);
  sub_1004AE80(0x48u, 6934, &unk_1012B9AC);
  sub_1004AE80(0x48u, 6935, &unk_1012B9F4);
  sub_1004AE80(0x18u, 6163, &unk_1012BA3C);
  sub_1004AE80(0x20u, 6164, &unk_1012BA54);
  sub_1004AE80(0x20u, 6165, &unk_1012BA74);
  sub_1004AE80(2u, 6166, &unk_1012BA94);
  sub_1004AE80(0xA4u, 40100, &unk_1012BA98);
  sub_1004AE80(0xA4u, 40101, &unk_1012BB3C);
  sub_1004AE80(0xA4u, 40102, &unk_1012BBE0);
  sub_1004AE80(0xA4u, 40103, &unk_1012BC84);
  sub_1004AE80(0xA4u, 40104, &unk_1012BD28);
  sub_1004AE80(0xA4u, 40105, &unk_1012BDCC);
  sub_1004AE80(0xA4u, 40106, &unk_1012BE70);
  sub_1004AE80(0xA4u, 40107, &unk_1012BF14);
  sub_1004AE80(0xA4u, 40108, &unk_1012BFB8);
  sub_1004AE80(0xA4u, 40109, &unk_1012C05C);
  sub_1004AE80(0xA4u, 40110, &unk_1012C100);
  sub_1004AE80(0xA4u, 40111, &unk_1012C1A4);
  sub_1004AE80(0xA4u, 40112, &unk_1012C248);
  sub_1004AE80(0xA4u, 40113, &unk_1012C2EC);
  sub_1004AE80(0xA4u, 40114, &unk_1012C390);
  sub_1004AE80(0xA4u, 40115, &unk_1012C434);
  sub_1004AE80(0xA4u, 40116, &unk_1012C4D8);
  sub_1004AE80(0xA4u, 40117, &unk_1012C57C);
  sub_1004AE80(0xA4u, 40118, &unk_1012C620);
  sub_1004AE80(0xA4u, 40119, &unk_1012C6C4);
  sub_1004AE80(0xA4u, 40120, &unk_1012C768);
  sub_1004AE80(0xA4u, 40121, &unk_1012C80C);
  sub_1004AE80(0xA4u, 40122, &unk_1012C8B0);
  sub_1004AE80(0xA4u, 40123, &unk_1012C954);
  sub_1004AE80(0xA4u, 40124, &unk_1012C9F8);
  sub_1004AE80(0xA4u, 40125, &unk_1012CA9C);
  sub_1004AE80(0xA4u, 40126, &unk_1012CB40);
  sub_1004AE80(0xA4u, 40127, &unk_1012CBE4);
  sub_1004AE80(0xA4u, 40128, &unk_1012CC88);
  sub_1004AE80(0xA4u, 40129, &unk_1012CD2C);
  sub_1004AE80(0xA4u, 40130, &unk_1012CDD0);
  sub_1004AE80(0xA4u, 40131, &unk_1012CE74);
  sub_1004AE80(0xA4u, 40132, &unk_1012CF18);
  sub_1004AE80(0xA4u, 40133, &unk_1012CFBC);
  sub_1004AE80(0xA4u, 40134, &unk_1012D060);
  sub_1004AE80(0xA4u, 40135, &unk_1012D104);
  sub_1004AE80(0xA4u, 40136, &unk_1012D1A8);
  sub_1004AE80(0xA4u, 40137, &unk_1012D24C);
  sub_1004AE80(0xA4u, 40138, &unk_1012D2F0);
  sub_1004AE80(0xA4u, 40139, &unk_1012D394);
  sub_1004AE80(0xA4u, 40140, &unk_1012D438);
  sub_1004AE80(0xA4u, 40141, &unk_1012D4DC);
  sub_1004AE80(0xA4u, 40142, &unk_1012D580);
  sub_1004AE80(0xA4u, 40143, &unk_1012D624);
  sub_1004AE80(0xA4u, 40144, &unk_1012D6C8);
  sub_1004AE80(0xA4u, 40145, &unk_1012D76C);
  sub_1004AE80(0xA4u, 40146, &unk_1012D810);
  sub_1004AE80(0xA4u, 40147, &unk_1012D8B4);
  sub_1004AE80(0xA4u, 40148, &unk_1012D958);
  sub_1004AE80(0xA4u, 40149, &unk_1012D9FC);
  sub_1004AE80(0xA4u, 40150, &unk_1012DAA0);
  sub_1004AE80(0xA4u, 40151, &unk_1012DB44);
  sub_1004AE80(0xA4u, 40152, &unk_1012DBE8);
  sub_1004AE80(0xA4u, 40153, &unk_1012DC8C);
  sub_1004AE80(0xA4u, 40154, &unk_1012DD30);
  sub_1004AE80(0xA4u, 40155, &unk_1012DDD4);
  sub_1004AE80(0xA4u, 40156, &unk_1012DE78);
  sub_1004AE80(0xA4u, 40157, &unk_1012DF1C);
  sub_1004AE80(0xA4u, 40158, &unk_1012DFC0);
  sub_1004AE80(0xA4u, 40159, &unk_1012E064);
  sub_1004AE80(0xA4u, 40160, &unk_1012E108);
  sub_1004AE80(0xA4u, 40161, &unk_1012E1AC);
  sub_1004AE80(0xA4u, 40162, &unk_1012E250);
  sub_1004AE80(0xA4u, 40163, &unk_1012E2F4);
  sub_1004AE80(0xA4u, 40164, &unk_1012E398);
  sub_1004AE80(0xA4u, 40165, &unk_1012E43C);
  sub_1004AE80(0xA4u, 40166, &unk_1012E4E0);
  sub_1004AE80(0xA4u, 40167, &unk_1012E584);
  sub_1004AE80(0xA4u, 40168, &unk_1012E628);
  sub_1004AE80(0xA4u, 40169, &unk_1012E6CC);
  sub_1004AE80(0xA4u, 40170, &unk_1012E770);
  sub_1004AE80(0xA4u, 40171, &unk_1012E814);
  sub_1004AE80(0xA4u, 40172, &unk_1012E8B8);
  sub_1004AE80(0xA4u, 40173, &unk_1012E95C);
  sub_1004AE80(0xA4u, 40174, &unk_1012EA00);
  sub_1004AE80(0xA4u, 40175, &unk_1012EAA4);
  sub_1004AE80(0xA4u, 40176, &unk_1012EB48);
  sub_1004AE80(0xA4u, 40177, &unk_1012EBEC);
  sub_1004AE80(0xA4u, 40178, &unk_1012EC90);
  sub_1004AE80(0xA4u, 40179, &unk_1012ED34);
  sub_1004AE80(0xA4u, 40180, &unk_1012EDD8);
  sub_1004AE80(0xA4u, 40181, &unk_1012EE7C);
  sub_1004AE80(0xA4u, 40182, &unk_1012EF20);
  sub_1004AE80(0xA4u, 40183, &unk_1012EFC4);
  sub_1004AE80(0xA4u, 40184, &unk_1012F068);
  sub_1004AE80(0xA4u, 40185, &unk_1012F10C);
  sub_1004AE80(0xA4u, 40186, &unk_1012F1B0);
  sub_1004AE80(0xA4u, 40187, &unk_1012F254);
  sub_1004AE80(0xA4u, 40188, &unk_1012F2F8);
  sub_1004AE80(0xA4u, 40189, &unk_1012F39C);
  sub_1004AE80(0xA4u, 40190, &unk_1012F440);
  sub_1004AE80(0xA4u, 40191, &unk_1012F4E4);
  sub_1004AE80(0xA4u, 40192, &unk_1012F588);
  sub_1004AE80(0xA4u, 40193, &unk_1012F62C);
  sub_1004AE80(0xA4u, 40194, &unk_1012F6D0);
  sub_1004AE80(0xA4u, 40195, &unk_1012F774);
  sub_1004AE80(0xA4u, 40196, &unk_1012F818);
  sub_1004AE80(0xA4u, 40197, &unk_1012F8BC);
  sub_1004AE80(0xA4u, 40198, &unk_1012F960);
  sub_1004AE80(0xA4u, 40199, &unk_1012FA04);
  sub_1004AE80(0x20u, 6190, &unk_1012FAA8);
  sub_1004AE80(0x20u, 6191, &unk_1012FAC8);
  sub_1004AE80(0x20u, 6192, &unk_1012FAE8);
  sub_1004AE80(0x20u, 6199, &unk_1012FB08);
  sub_1004AE80(0x28u, 6207, &unk_1012FB28);
  sub_1004AE80(4u, 6231, &unk_10130640);
  sub_1004AE80(4u, 6232, &unk_10130644);
  sub_1004AE80(4u, 6233, &unk_10130648);
  sub_1004AE80(4u, 6234, &unk_1013064C);
  sub_1004AE80(0x1Cu, 40000, &unk_1012FB50);
  sub_1004AE80(0x1Cu, 40001, &unk_1012FB6C);
  sub_1004AE80(0x1Cu, 40002, &unk_1012FB88);
  sub_1004AE80(0x1Cu, 40003, &unk_1012FBA4);
  sub_1004AE80(0x1Cu, 40004, &unk_1012FBC0);
  sub_1004AE80(0x1Cu, 40005, &unk_1012FBDC);
  sub_1004AE80(0x1Cu, 40006, &unk_1012FBF8);
  sub_1004AE80(0x1Cu, 40007, &unk_1012FC14);
  sub_1004AE80(0x1Cu, 40008, &unk_1012FC30);
  sub_1004AE80(0x1Cu, 40009, &unk_1012FC4C);
  sub_1004AE80(0x1Cu, 40010, &unk_1012FC68);
  sub_1004AE80(0x1Cu, 40011, &unk_1012FC84);
  sub_1004AE80(0x1Cu, 40012, &unk_1012FCA0);
  sub_1004AE80(0x1Cu, 40013, &unk_1012FCBC);
  sub_1004AE80(0x1Cu, 40014, &unk_1012FCD8);
  sub_1004AE80(0x1Cu, 40015, &unk_1012FCF4);
  sub_1004AE80(0x1Cu, 40016, &unk_1012FD10);
  sub_1004AE80(0x1Cu, 40017, &unk_1012FD2C);
  sub_1004AE80(0x1Cu, 40018, &unk_1012FD48);
  sub_1004AE80(0x1Cu, 40019, &unk_1012FD64);
  sub_1004AE80(0x1Cu, 40020, &unk_1012FD80);
  sub_1004AE80(0x1Cu, 40021, &unk_1012FD9C);
  sub_1004AE80(0x1Cu, 40022, &unk_1012FDB8);
  sub_1004AE80(0x1Cu, 40023, &unk_1012FDD4);
  sub_1004AE80(0x1Cu, 40024, &unk_1012FDF0);
  sub_1004AE80(0x1Cu, 40025, &unk_1012FE0C);
  sub_1004AE80(0x1Cu, 40026, &unk_1012FE28);
  sub_1004AE80(0x1Cu, 40027, &unk_1012FE44);
  sub_1004AE80(0x1Cu, 40028, &unk_1012FE60);
  sub_1004AE80(0x1Cu, 40029, &unk_1012FE7C);
  sub_1004AE80(0x1Cu, 40030, &unk_1012FE98);
  sub_1004AE80(0x1Cu, 40031, &unk_1012FEB4);
  sub_1004AE80(0x1Cu, 40032, &unk_1012FED0);
  sub_1004AE80(0x1Cu, 40033, &unk_1012FEEC);
  sub_1004AE80(0x1Cu, 40034, &unk_1012FF08);
  sub_1004AE80(0x1Cu, 40035, &unk_1012FF24);
  sub_1004AE80(0x1Cu, 40036, &unk_1012FF40);
  sub_1004AE80(0x1Cu, 40037, &unk_1012FF5C);
  sub_1004AE80(0x1Cu, 40038, &unk_1012FF78);
  sub_1004AE80(0x1Cu, 40039, &unk_1012FF94);
  sub_1004AE80(0x1Cu, 40040, &unk_1012FFB0);
  sub_1004AE80(0x1Cu, 40041, &unk_1012FFCC);
  sub_1004AE80(0x1Cu, 40042, &unk_1012FFE8);
  sub_1004AE80(0x1Cu, 40043, &unk_10130004);
  sub_1004AE80(0x1Cu, 40044, &unk_10130020);
  sub_1004AE80(0x1Cu, 40045, &unk_1013003C);
  sub_1004AE80(0x1Cu, 40046, &unk_10130058);
  sub_1004AE80(0x1Cu, 40047, &unk_10130074);
  sub_1004AE80(0x1Cu, 40048, &unk_10130090);
  sub_1004AE80(0x1Cu, 40049, &unk_101300AC);
  sub_1004AE80(0x1Cu, 40050, &unk_101300C8);
  sub_1004AE80(0x1Cu, 40051, &unk_101300E4);
  sub_1004AE80(0x1Cu, 40052, &unk_10130100);
  sub_1004AE80(0x1Cu, 40053, &unk_1013011C);
  sub_1004AE80(0x1Cu, 40054, &unk_10130138);
  sub_1004AE80(0x1Cu, 40055, &unk_10130154);
  sub_1004AE80(0x1Cu, 40056, &unk_10130170);
  sub_1004AE80(0x1Cu, 40057, &unk_1013018C);
  sub_1004AE80(0x1Cu, 40058, &unk_101301A8);
  sub_1004AE80(0x1Cu, 40059, &unk_101301C4);
  sub_1004AE80(0x1Cu, 40060, &unk_101301E0);
  sub_1004AE80(0x1Cu, 40061, &unk_101301FC);
  sub_1004AE80(0x1Cu, 40062, &unk_10130218);
  sub_1004AE80(0x1Cu, 40063, &unk_10130234);
  sub_1004AE80(0x1Cu, 40064, &unk_10130250);
  sub_1004AE80(0x1Cu, 40065, &unk_1013026C);
  sub_1004AE80(0x1Cu, 40066, &unk_10130288);
  sub_1004AE80(0x1Cu, 40067, &unk_101302A4);
  sub_1004AE80(0x1Cu, 40068, &unk_101302C0);
  sub_1004AE80(0x1Cu, 40069, &unk_101302DC);
  sub_1004AE80(0x1Cu, 40070, &unk_101302F8);
  sub_1004AE80(0x1Cu, 40071, &unk_10130314);
  sub_1004AE80(0x1Cu, 40072, &unk_10130330);
  sub_1004AE80(0x1Cu, 40073, &unk_1013034C);
  sub_1004AE80(0x1Cu, 40074, &unk_10130368);
  sub_1004AE80(0x1Cu, 40075, &unk_10130384);
  sub_1004AE80(0x1Cu, 40076, &unk_101303A0);
  sub_1004AE80(0x1Cu, 40077, &unk_101303BC);
  sub_1004AE80(0x1Cu, 40078, &unk_101303D8);
  sub_1004AE80(0x1Cu, 40079, &unk_101303F4);
  sub_1004AE80(0x1Cu, 40080, &unk_10130410);
  sub_1004AE80(0x1Cu, 40081, &unk_1013042C);
  sub_1004AE80(0x1Cu, 40082, &unk_10130448);
  sub_1004AE80(0x1Cu, 40083, &unk_10130464);
  sub_1004AE80(0x1Cu, 40084, &unk_10130480);
  sub_1004AE80(0x1Cu, 40085, &unk_1013049C);
  sub_1004AE80(0x1Cu, 40086, &unk_101304B8);
  sub_1004AE80(0x1Cu, 40087, &unk_101304D4);
  sub_1004AE80(0x1Cu, 40088, &unk_101304F0);
  sub_1004AE80(0x1Cu, 40089, &unk_1013050C);
  sub_1004AE80(0x1Cu, 40090, &unk_10130528);
  sub_1004AE80(0x1Cu, 40091, &unk_10130544);
  sub_1004AE80(0x1Cu, 40092, &unk_10130560);
  sub_1004AE80(0x1Cu, 40093, &unk_1013057C);
  sub_1004AE80(0x1Cu, 40094, &unk_10130598);
  sub_1004AE80(0x1Cu, 40095, &unk_101305B4);
  sub_1004AE80(0x1Cu, 40096, &unk_101305D0);
  sub_1004AE80(0x1Cu, 40097, &unk_101305EC);
  sub_1004AE80(0x1Cu, 40098, &unk_10130608);
  sub_1004AE80(0x1Cu, 40099, &unk_10130624);
  sub_1004AE80(4u, 6238, &unk_10130650);
  sub_1004AE80(4u, 6239, &unk_10130654);
  sub_1004AE80(4u, 6240, &unk_10130658);
  sub_1004AE80(4u, 6242, &unk_1013065C);
  sub_1004AE80(4u, 6244, &unk_10130660);
  sub_1004AE80(4u, 6245, &unk_10130664);
  sub_1004AE80(4u, 6246, &unk_10130668);
  sub_1004AE80(4u, 6251, &unk_1013066C);
  sub_1004AE80(4u, 6252, &unk_10130670);
  sub_1004AE80(4u, 6253, &unk_10130674);
  sub_1004AE80(4u, 6254, &unk_10130678);
  sub_1004AE80(1u, 6255, &unk_1013067C);
  sub_1004AE80(4u, 6256, &unk_10130680);
  sub_1004AE80(4u, 6257, &unk_10130684);
  sub_1004AE80(0xE2u, 6286, &unk_10130688);
  v0 = 18000;
  v1 = &unk_1013076C;
  v2 = 16;
  do
  {
    sub_1004AE80(0x11Cu, v0, v1);
    v1 = (char *)v1 + 284;
    ++v0;
    --v2;
  }
  while ( v2 );
  sub_1004AE80(4u, 6262, &unk_1013192C);
  sub_1004AE80(0x28u, 6263, &unk_10131930);
  sub_1004AE80(0x28u, 6264, &unk_10131958);
  sub_1004AE80(0x40u, 6268, &unk_10131980);
  sub_1004AE80(4u, 6272, &unk_10131A40);
  sub_1004AE80(4u, 6273, &unk_10131A44);
  sub_1004AE80(1u, 6274, &unk_10131A48);
  sub_1004AE80(2u, 6275, &unk_10131A4A);
  sub_1004AE80(1u, 6276, &unk_10131A4C);
  sub_1004AE80(1u, 6277, &unk_10131A4D);
  sub_1004AE80(1u, 6278, &unk_10131A4E);
  sub_1004AE80(0x40u, 6279, &unk_10131A50);
  sub_1004AE80(0x28u, 6753, &unk_10132905);
  sub_1004AE80(0x30u, 6754, &unk_10132930);
  sub_1004AE80(0x28u, 6958, &unk_10132960);
  sub_1004AE80(0x80u, 6802, &unk_101319C0);
  sub_1004AE80(1u, 6760, &unk_10132988);
  sub_1004AE80(0x10u, 6312, &unk_10131DD4);
  sub_1004AE80(0x10u, 6313, &unk_10131DE4);
  sub_1004AE80(0x10u, 6314, &unk_10131DF4);
  sub_1004AE80(1u, 6307, &unk_10131E04);
  sub_1004AE80(1u, 6308, &unk_10131E05);
  sub_1004AE80(1u, 6309, &unk_10131E06);
  sub_1004AE80(4u, 6285, &unk_10131E08);
  sub_1004AE80(0xA8u, 6318, &unk_10131E0C);
  sub_1004AE80(4u, 6319, &unk_10131EB4);
  sub_1004AE80(1u, 6350, &unk_10131EB8);
  sub_1004AE80(0x50u, 6351, &unk_10131EBC);
  sub_1004AE80(4u, 6352, &unk_10131F0C);
  sub_1004AE80(4u, 6353, &unk_10131F10);
  sub_1004AE80(0x54u, 6448, &unk_1013215C);
  sub_1004AE80(0x54u, 6449, &unk_101321B0);
  sub_1004AE80(8u, 6287, &unk_10131AB4);
  sub_1004AE80(8u, 6288, &unk_10131ABC);
  sub_1004AE80(8u, 6289, &unk_10131AC4);
  sub_1004AE80(8u, 6290, &unk_10131ACC);
  sub_1004AE80(8u, 6291, &unk_10131AD4);
  sub_1004AE80(8u, 6292, &unk_10131ADC);
  sub_1004AE80(8u, 6293, &unk_10131AE4);
  sub_1004AE80(8u, 6294, &unk_10131AEC);
  sub_1004AE80(8u, 6295, &unk_10131AF4);
  sub_1004AE80(8u, 6296, &unk_10131AFC);
  sub_1004AE80(8u, 6297, &unk_10131B04);
  sub_1004AE80(8u, 6298, &unk_10131B0C);
  sub_1004AE80(8u, 6299, &unk_10131B14);
  sub_1004AE80(8u, 6300, &unk_10131B1C);
  sub_1004AE80(8u, 6301, &unk_10131B24);
  sub_1004AE80(8u, 6302, &unk_10131B2C);
  sub_1004AE80(8u, 6303, &unk_10131B34);
  sub_1004AE80(8u, 6304, &unk_10131B3C);
  sub_1004AE80(8u, 6305, &unk_10131B44);
  sub_1004AE80(8u, 6306, &unk_10131B4C);
  sub_1004AE80(8u, 6409, &unk_10131B54);
  sub_1004AE80(8u, 6410, &unk_10131B5C);
  sub_1004AE80(8u, 6411, &unk_10131B64);
  sub_1004AE80(8u, 6412, &unk_10131B6C);
  sub_1004AE80(8u, 6413, &unk_10131B74);
  sub_1004AE80(8u, 6414, &unk_10131B7C);
  sub_1004AE80(8u, 6415, &unk_10131B84);
  sub_1004AE80(8u, 6416, &unk_10131B8C);
  sub_1004AE80(8u, 6417, &unk_10131B94);
  sub_1004AE80(8u, 6418, &unk_10131B9C);
  sub_1004AE80(8u, 6419, &unk_10131BA4);
  sub_1004AE80(8u, 6420, &unk_10131BAC);
  sub_1004AE80(8u, 6421, &unk_10131BB4);
  sub_1004AE80(8u, 6422, &unk_10131BBC);
  sub_1004AE80(8u, 6423, &unk_10131BC4);
  sub_1004AE80(8u, 6424, &unk_10131BCC);
  sub_1004AE80(8u, 6425, &unk_10131BD4);
  sub_1004AE80(8u, 6426, &unk_10131BDC);
  sub_1004AE80(8u, 6427, &unk_10131BE4);
  sub_1004AE80(8u, 6428, &unk_10131BEC);
  sub_1004AE80(4u, 6429, &unk_101320F4);
  sub_1004AE80(8u, 6430, &unk_101320F8);
  sub_1004AE80(8u, 6431, &unk_10132100);
  sub_1004AE80(8u, 6432, &unk_10132108);
  sub_1004AE80(8u, 6433, &unk_10132110);
  sub_1004AE80(8u, 6434, &unk_10132118);
  sub_1004AE80(8u, 6435, &unk_10132120);
  sub_1004AE80(8u, 6436, &unk_10132128);
  sub_1004AE80(8u, 6437, &unk_10132130);
  sub_1004AE80(8u, 6438, &unk_10132138);
  sub_1004AE80(8u, 6439, &unk_10132140);
  sub_1004AE80(8u, 6440, &unk_10132148);
  sub_1004AE80(0xAu, 6519, &unk_101325B4);
  sub_1004AE80(4u, 6442, &unk_10132150);
  sub_1004AE80(4u, 6443, &unk_10132154);
  sub_1004AE80(0xF0u, 6367, &unk_10131F14);
  sub_1004AE80(0xF0u, 6368, &unk_10132004);
  sub_1004AE80(1u, 6446, &unk_10132158);
  sub_1004AE80(6u, 6452, &unk_10132204);
  sub_1004AE80(4u, 6457, &unk_1013220C);
  sub_1004AE80(4u, 6458, &unk_10132210);
  sub_1004AE80(4u, 6459, &unk_10132214);
  sub_1004AE80(4u, 6460, &unk_10132218);
  sub_1004AE80(0x208u, 6515, &unk_1013221C);
  sub_1004AE80(0x160u, 6516, &unk_10132424);
  sub_1004AE80(0x18u, 6517, &unk_10132584);
  sub_1004AE80(0x18u, 6518, &unk_1013259C);
  sub_1004AE80(1u, 6520, &unk_101325BE);
  sub_1004AE80(0x10u, 6521, &unk_101325C0);
  sub_1004AE80(4u, 6523, &unk_101325D0);
  sub_1004AE80(4u, 6524, &unk_101325D4);
  sub_1004AE80(4u, 6525, &unk_101325D8);
  sub_1004AE80(1u, 6526, &unk_101325DC);
  sub_1004AE80(1u, 6527, &unk_101325DD);
  sub_1004AE80(0x50u, 6528, &unk_101325E0);
  sub_1004AE80(4u, 6529, &unk_10132630);
  sub_1004AE80(1u, 6530, &unk_10132634);
  sub_1004AE80(1u, 6531, &unk_10132635);
  sub_1004AE80(1u, 6532, &unk_10132636);
  sub_1004AE80(0x14u, 6533, &unk_10132637);
  sub_1004AE80(0xAu, 6883, &unk_10132D50);
  sub_1004AE80(0xAu, 6884, &unk_10132D5A);
  sub_1004AE80(0xAu, 6885, &unk_10132D64);
  sub_1004AE80(1u, 6664, &unk_1013264B);
  sub_1004AE80(1u, 6666, &unk_1013264C);
  sub_1004AE80(1u, 6667, &unk_1013264D);
  sub_1004AE80(1u, 6668, &unk_1013264E);
  sub_1004AE80(0xA0u, 6669, &unk_10132650);
  sub_1004AE80(2u, 6670, &unk_10132740);
  sub_1004AE80(4u, 6671, &unk_10132744);
  sub_1004AE80(4u, 6672, &unk_10132748);
  sub_1004AE80(4u, 6673, &unk_1013274C);
  sub_1004AE80(4u, 6674, &unk_10132750);
  sub_1004AE80(4u, 6675, &unk_10132754);
  sub_1004AE80(4u, 6676, &unk_1013275C);
  sub_1004AE80(4u, 6677, &unk_10132764);
  sub_1004AE80(4u, 6678, &unk_10132768);
  sub_1004AE80(1u, 6679, &unk_1013276C);
  sub_1004AE80(0x140u, 6680, &unk_10132770);
  sub_1004AE80(4u, 6882, &unk_10132D4C);
  sub_1004AE80(0xCu, 6652, &unk_101328B0);
  sub_1004AE80(0x48u, 6653, &unk_101328BC);
  sub_1004AE80(1u, 6688, &unk_10132904);
  sub_1004AE80(4u, 6771, &unk_1013298C);
  sub_1004AE80(4u, 6772, &unk_10132990);
  sub_1004AE80(8u, 6787, &unk_10132994);
  sub_1004AE80(1u, 6832, &unk_101329C4);
  sub_1004AE80(1u, 6833, &unk_101329C5);
  sub_1004AE80(1u, 6834, &unk_101329C6);
  sub_1004AE80(4u, 6835, &unk_101329C8);
  sub_1004AE80(4u, 6836, &unk_101329CC);
  sub_1004AE80(4u, 6837, &unk_101329D0);
  sub_1004AE80(4u, 6838, &unk_101329D4);
  sub_1004AE80(1u, 6839, &unk_101329D8);
  sub_1004AE80(0x50u, 6840, &unk_101326F0);
  sub_1004AE80(4u, 6841, &unk_101329DC);
  sub_1004AE80(4u, 6842, &unk_101329E0);
  sub_1004AE80(4u, 6843, &unk_101329E4);
  sub_1004AE80(1u, 6844, &unk_101329E8);
  sub_1004AE80(0x360u, 6845, &unk_101329EC);
  sub_1004AE80(4u, 6846, &unk_10132758);
  sub_1004AE80(4u, 6847, &unk_10132760);
  result = 1;
  dword_10504EE8 = (int)&unk_1012AB50;
  return result;
}
// 10504EE8: using guessed type int dword_10504EE8;

//----- (1004CCD0) --------------------------------------------------------
BOOL __cdecl sub_1004CCD0(unsigned int a1)
{
  int v1; // edi@1
  __int16 i; // si@1
  char v4; // [sp+Bh] [bp-1h]@1

  v1 = sub_10017740();
  for ( i = sub_10018260(6, 0, 1, (int)&v4); i == 12; i = sub_10018260(6, 0, 1, (int)&v4) )
  {
    if ( sub_10017740() - v1 >= a1 )
      break;
    sub_10017980(100);
  }
  return i == 12;
}

//----- (1004CD40) --------------------------------------------------------
char __thiscall sub_1004CD40(void *this)
{
  void *v2; // [sp-2h] [bp-4h]@1

  v2 = this;
  sub_10017650(81, (_BYTE *)&v2 + 3);
  return BYTE3(v2);
}

//----- (1004CD60) --------------------------------------------------------
void __cdecl sub_1004CD60(_BYTE *a1, _BYTE *a2, _BYTE *a3)
{
  sub_10017650(120, a1);
  sub_10017650(124, a2);
  sub_10017650(121, a3);
}

//----- (1004CD90) --------------------------------------------------------
int __cdecl sub_1004CD90(int a1)
{
  return sub_10017AE0(3025, a1, 84);
}

//----- (1004CDB0) --------------------------------------------------------
signed int sub_1004CDB0()
{
  bool v0; // zf@1
  signed int result; // eax@1
  char v2; // [sp+3h] [bp-5h]@1
  int v3; // [sp+4h] [bp-4h]@1

  v0 = sub_100182A0(6, &v3, &v2) == 0;
  result = -4;
  if ( v0 )
    result = v3;
  return result;
}

//----- (1004CDE0) --------------------------------------------------------
void __cdecl sub_1004CDE0(_BYTE *a1)
{
  sub_10017650(129, a1);
}

//----- (1004CE00) --------------------------------------------------------
char __cdecl sub_1004CE00(int a1, size_t a2, void *a3)
{
  char result; // al@2

  if ( sub_10018260(6, a1, a2, (int)a3) )
  {
    memset(a3, 0, a2);
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1004CE40) --------------------------------------------------------
int __cdecl sub_1004CE40(int a1)
{
  return sub_10017BB0(3025, a1, 84);
}

//----- (1004CE60) --------------------------------------------------------
char __fastcall sub_1004CE60(int *a1)
{
  char v1; // bl@1
  unsigned int v2; // eax@7
  int *v3; // edx@7
  int v4; // esi@11
  int v5; // eax@12
  _BYTE *v6; // edx@12
  int v7; // eax@14
  _BYTE *v8; // edx@14
  _BYTE *v9; // edx@16
  signed int v10; // eax@18
  char result; // al@25
  char v12; // [sp+4h] [bp-68h]@1
  int v13; // [sp+8h] [bp-64h]@2
  int v14; // [sp+Ch] [bp-60h]@29
  int v15; // [sp+10h] [bp-5Ch]@29
  char v16; // [sp+12h] [bp-5Ah]@3
  char v17; // [sp+13h] [bp-59h]@4
  int v18; // [sp+14h] [bp-58h]@5
  char v19; // [sp+18h] [bp-54h]@6
  int v20; // [sp+1Ch] [bp-50h]@2
  int v21; // [sp+20h] [bp-4Ch]@29
  int v22; // [sp+24h] [bp-48h]@29
  char v23; // [sp+26h] [bp-46h]@3
  char v24; // [sp+27h] [bp-45h]@4
  int v25; // [sp+28h] [bp-44h]@5
  char v26; // [sp+2Ch] [bp-40h]@6
  int v27; // [sp+2Dh] [bp-3Fh]@7
  int v28; // [sp+31h] [bp-3Bh]@29
  int v29; // [sp+35h] [bp-37h]@29
  int v30; // [sp+3Ch] [bp-30h]@2
  int v31; // [sp+40h] [bp-2Ch]@2
  int v32; // [sp+44h] [bp-28h]@2
  int v33; // [sp+48h] [bp-24h]@2
  int v34; // [sp+4Ch] [bp-20h]@2
  int v35; // [sp+50h] [bp-1Ch]@2
  int v36; // [sp+54h] [bp-18h]@2
  char v37; // [sp+58h] [bp-14h]@2
  int v38; // [sp+5Ch] [bp-10h]@2
  int v39; // [sp+60h] [bp-Ch]@29
  int v40; // [sp+64h] [bp-8h]@29

  v1 = 1;
  v12 = 1;
  if ( byte_10505754 )
  {
    v1 = 3;
    goto LABEL_24;
  }
  sub_1004CE00(147, 0xCu, &v38);
  sub_1004CE00(129, 0x11u, &v13);
  v30 = 0;
  v31 = 0;
  v32 = 0;
  v33 = 0;
  v34 = 0;
  v35 = 0;
  v36 = 0;
  v37 = 0;
  sub_10017B40(2000, &v20, 29, &v30);
  LOWORD(a1) = v20;
  if ( (_WORD)v20 != (_WORD)v13
    || v23 != v16
    || v24 != v17
    || (LOWORD(a1) = v25, v25 != v18)
    || (LOBYTE(a1) = v26, v26 != v19) )
  {
LABEL_22:
    v1 = 2;
LABEL_24:
    v12 = v1;
    goto LABEL_25;
  }
  v2 = 12;
  a1 = &v38;
  v3 = &v27;
  do
  {
    if ( *v3 != *a1 )
      goto LABEL_11;
    v2 -= 4;
    ++a1;
    ++v3;
  }
  while ( v2 >= 4 );
  if ( !v2 )
  {
LABEL_20:
    v10 = 0;
    goto LABEL_21;
  }
LABEL_11:
  v4 = *(_BYTE *)v3 - *(_BYTE *)a1;
  if ( *(_BYTE *)v3 == *(_BYTE *)a1 )
  {
    v5 = v2 - 1;
    a1 = (int *)((char *)a1 + 1);
    v6 = (char *)v3 + 1;
    if ( !v5 )
      goto LABEL_20;
    v4 = *v6 - *(_BYTE *)a1;
    if ( *v6 == *(_BYTE *)a1 )
    {
      v7 = v5 - 1;
      a1 = (int *)((char *)a1 + 1);
      v8 = v6 + 1;
      if ( !v7 )
        goto LABEL_20;
      v4 = *v8 - *(_BYTE *)a1;
      if ( *v8 == *(_BYTE *)a1 )
      {
        a1 = (int *)((char *)a1 + 1);
        v9 = v8 + 1;
        if ( v7 == 1 )
          goto LABEL_20;
        v4 = *v9 - *(_BYTE *)a1;
        if ( *v9 == *(_BYTE *)a1 )
          goto LABEL_20;
      }
    }
  }
  v10 = 1;
  if ( v4 <= 0 )
    v10 = -1;
LABEL_21:
  if ( v10 )
    goto LABEL_22;
LABEL_25:
  result = sub_1004E1B0(a1);
  if ( !result || result == 3 )
    result = sub_1004AE50(v12);
  if ( v1 == 2 )
  {
    v22 = v15;
    v20 = v13;
    v21 = v14;
    v27 = v38;
    v25 = v18;
    v26 = v19;
    v28 = v39;
    v29 = v40;
    result = sub_10017BB0(2000, (int)&v20, 29);
  }
  return result;
}
// 10505754: using guessed type char byte_10505754;

//----- (1004D080) --------------------------------------------------------
char sub_1004D080()
{
  int *v0; // ecx@1

  sub_1004CCD0(0x9C40u);
  sub_10049550(&off_1008FD40);
  return sub_1004CE60(v0);
}
// 1008FD40: using guessed type int (__cdecl *off_1008FD40)(int, size_t, void *);

//----- (1004D0A0) --------------------------------------------------------
int __cdecl sub_1004D0A0(_DWORD *a1)
{
  int result; // eax@1
  char v2; // [sp+0h] [bp-8h]@1
  char v3; // [sp+1h] [bp-7h]@1
  char v4; // [sp+2h] [bp-6h]@1
  char v5; // [sp+3h] [bp-5h]@1
  int v6; // [sp+4h] [bp-4h]@1

  v2 = 0;
  v3 = 0;
  v4 = 0;
  v5 = 0;
  sub_10017B40(9163, &v6, 4, &v2);
  result = v6;
  *a1 = v6;
  return result;
}

//----- (1004D0E0) --------------------------------------------------------
char __cdecl sub_1004D0E0(_BYTE *a1)
{
  int v1; // ecx@0
  char result; // al@1
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  BYTE2(v3) = 1;
  sub_10017B40(9165, (char *)&v3 + 3, 1, (char *)&v3 + 2);
  result = BYTE3(v3);
  *a1 = BYTE3(v3);
  return result;
}

//----- (1004D110) --------------------------------------------------------
char __cdecl sub_1004D110(char a1, void *a2, void *a3, __int16 a4)
{
  char result; // al@1
  int v5; // esi@2

  result = 0;
  if ( a1 )
  {
    v5 = sub_100178A0(49, 40);
    memcpy(a2, a3, (unsigned __int16)a4);
    if ( !v5 )
      sub_10017820(49);
    result = 1;
  }
  return result;
}

//----- (1004D150) --------------------------------------------------------
void *sub_1004D150()
{
  void *v0; // ebp@1
  void *v1; // esi@2
  signed int v2; // edi@2
  void *result; // eax@3
  signed int v4; // [sp+0h] [bp-14h]@1
  char v5; // [sp+4h] [bp-10h]@1
  float v6; // [sp+8h] [bp-Ch]@1
  int v7; // [sp+Ch] [bp-8h]@1
  int v8; // [sp+10h] [bp-4h]@1

  v6 = 9.9999996e24;
  byte_10134520 = 0;
  byte_10134521 = 0;
  byte_10134522 = 0;
  v5 = 0;
  v7 = 0x7FFFFFFF;
  v8 = 0x7FFFFFFF;
  v0 = &unk_10134544;
  v4 = 2;
  do
  {
    *((_WORD *)v0 - 2) = 0;
    v1 = v0;
    v2 = 10;
    do
    {
      result = memcpy(v1, &v5, 0x10u);
      v1 = (char *)v1 + 16;
      --v2;
    }
    while ( v2 );
    v0 = (char *)v0 + 164;
    --v4;
  }
  while ( v4 );
  byte_10134523 = 0;
  return result;
}
// 10134520: using guessed type char byte_10134520;
// 10134521: using guessed type char byte_10134521;
// 10134522: using guessed type char byte_10134522;
// 10134523: using guessed type char byte_10134523;

//----- (1004D1F0) --------------------------------------------------------
unsigned int __usercall sub_1004D1F0@<eax>(unsigned int result@<eax>, bool *a2@<ecx>)
{
  char *v2; // edi@1
  bool *v3; // esi@1
  int v4; // ebp@1
  unsigned __int8 i; // bl@2
  int v6; // eax@4
  unsigned __int8 v7; // bl@6
  signed int v8; // [sp+10h] [bp-8h]@1

  v2 = (char *)result;
  v3 = a2;
  v4 = 0;
  v8 = 2;
  do
  {
    for ( i = 0; *v3; ++i )
    {
      if ( i >= 0xAu )
        break;
      v6 = (int)(&v2[16 * i] + v4);
      *v3 = (COERCE_UNSIGNED_INT(*(float *)(v6 + 8)) & 0x7F800000) != 2139095040;
      result = sub_1004F920((unsigned __int8 *)(v6 + 4), 1);
    }
    v4 += 164;
    --v8;
  }
  while ( v8 );
  v7 = 0;
  if ( !*v3 )
    goto LABEL_13;
  do
  {
    if ( v7 >= 2u )
      break;
    result = sub_1004F5C0(&v2[164 * v7++], 0, 10, 0, 0);
    *v3 = result == 0;
  }
  while ( !result );
  if ( !*v3 )
LABEL_13:
    qmemcpy(v2, &unk_10134540, 0x148u);
  return result;
}

//----- (1004D2B0) --------------------------------------------------------
char __cdecl sub_1004D2B0(void *a1)
{
  int v1; // ecx@0
  char v2; // al@1
  char v4[4]; // [sp+0h] [bp-4h]@1

  *(_DWORD *)v4 = v1;
  v2 = sub_1004F010();
  v4[0] = sub_1004D110(v2, a1, (char *)dword_10504EE0 + 1744, 328);
  sub_1004D1F0((unsigned int)a1, (bool *)v4);
  return v4[0];
}

//----- (1004D300) --------------------------------------------------------
char sub_1004D300()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1712, 1);
  sub_1003C040((unsigned __int8 *)&v1, 1);
  return v1;
}

//----- (1004D350) --------------------------------------------------------
double sub_1004D350()
{
  float v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 9.9999996e24;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1272, 4);
  return v1;
}

//----- (1004D390) --------------------------------------------------------
char sub_1004D390()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1266, 1);
  return v1;
}

//----- (1004D3D0) --------------------------------------------------------
__int16 sub_1004D3D0()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1376, 2);
  sub_1004F980(&v1, 1);
  return v1;
}

//----- (1004D420) --------------------------------------------------------
char sub_1004D420()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v1 = 0;
  v2[0] = sub_1004F010();
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1714, 1);
  sub_1004F920((unsigned __int8 *)&v1, 1);
  return v1;
}

//----- (1004D470) --------------------------------------------------------
__int16 sub_1004D470()
{
  int v1; // [sp+0h] [bp-8h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v2[0] = sub_1004F010();
  v1 = 0;
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 1378, 2);
  sub_1004F980(&v1, 1);
  return v1;
}

//----- (1004D4C0) --------------------------------------------------------
char sub_1004D4C0()
{
  char v1; // [sp+3h] [bp-5h]@1
  char v2[4]; // [sp+4h] [bp-4h]@1

  v2[0] = sub_1004F010();
  v1 = 0;
  sub_1004D110(v2[0], &v1, (char *)dword_10504EE0 + 13, 1);
  sub_1004F950((unsigned __int8 *)&v1, 1);
  return v1;
}

//----- (1004D500) --------------------------------------------------------
int __cdecl sub_1004D500(int a1, float a2)
{
  int result; // eax@1

  result = (signed int)(sub_100637E0(a2) * 683565248.0);
  *(_DWORD *)a1 = result;
  return result;
}

//----- (1004D530) --------------------------------------------------------
BOOL sub_1004D530()
{
  return sub_100515F0(9) || sub_100515F0(10);
}

//----- (1004D560) --------------------------------------------------------
int __usercall sub_1004D560@<eax>(char a1@<al>, int a2@<ecx>)
{
  int v2; // esi@3
  int result; // eax@3

  if ( a1 && a1 != 2 )
  {
    v2 = a2 - sub_10019590(a1);
    result = v2 + sub_10019590(0);
  }
  else
  {
    result = a2;
  }
  return result;
}

//----- (1004D590) --------------------------------------------------------
char __thiscall sub_1004D590(void *this)
{
  char v1; // al@1
  char result; // al@2
  char v3; // [sp+4h] [bp-8h]@1
  int v4; // [sp+8h] [bp-4h]@2

  v1 = sub_1004FA10(this);
  v3 = sub_10051C80(v1, 1);
  if ( (unsigned __int8)sub_1004D530() )
  {
    result = sub_10051AB0(28, v3, &v4);
    if ( result != 1 || !(v4 & 0x800) )
      result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1004D5F0) --------------------------------------------------------
char __thiscall sub_1004D5F0(void *this)
{
  char v1; // al@1
  char v3; // [sp+0h] [bp-Ch]@1
  int v4; // [sp+4h] [bp-8h]@2
  int v5; // [sp+8h] [bp-4h]@5

  v1 = sub_1004FA10(this);
  v3 = sub_10051C80(v1, 1);
  if ( (unsigned __int8)sub_1004D530() )
  {
    if ( sub_10051AB0(28, v3, &v4) != 1 || v4 & 0x2000 )
      return 0;
  }
  else if ( sub_10051B30(&v5) != 1 || !(v5 & 0x10000) )
  {
    return 0;
  }
  return 1;
}

//----- (1004D660) --------------------------------------------------------
char __cdecl sub_1004D660(char a1, char a2, int *a3)
{
  char v3; // bl@1
  void *v4; // ecx@1
  void *v5; // ecx@2
  char result; // al@4
  int v7; // esi@9
  void *v8; // ecx@12
  int v9; // esi@14
  char v10; // [sp+8h] [bp-14h]@1
  char v11; // [sp+9h] [bp-13h]@1
  char v12; // [sp+Ah] [bp-12h]@1
  char v13; // [sp+Bh] [bp-11h]@1
  int v14; // [sp+Ch] [bp-10h]@1
  int v15; // [sp+10h] [bp-Ch]@1
  int v16; // [sp+14h] [bp-8h]@1
  int v17; // [sp+18h] [bp-4h]@1

  v3 = sub_10051AB0(16, a2, &v14);
  v12 = sub_10051AB0(17, a2, &v16);
  v10 = sub_100199B0();
  v11 = sub_10051AB0(51, a2, &v15);
  v13 = sub_10051AB0(52, a2, &v17);
  switch ( a1 )
  {
    case 0:
    case 2:
    case 3:
      if ( sub_1004D5F0(v4) )
      {
        if ( !v3 )
          return 0;
        v7 = v14;
        if ( v10 == 1 )
          v7 -= sub_10019590(0);
        *a3 = sub_1004D560(a1, v7);
        result = 1;
      }
      else if ( v3 )
      {
        *a3 = sub_1004D560(a1, v14);
        result = 1;
      }
      else
      {
        if ( !v11 || !sub_1004D590(v5) )
          return 0;
        *a3 = sub_1004D560(a1, v15);
        result = 1;
      }
      return result;
    case 1:
      if ( sub_1004D5F0(v4) )
      {
        if ( !v3 )
          return 0;
        v9 = v14;
        if ( v10 == 1 )
          goto LABEL_15;
        *a3 = sub_10019590(0) + v9;
        result = 1;
      }
      else
      {
        if ( v12 )
        {
          v9 = v16;
LABEL_15:
          *a3 = v9;
          return 1;
        }
        if ( !v13 || !sub_1004D590(v8) )
          return 0;
        *a3 = v17;
        result = 1;
      }
      return result;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\iop_ahrs_data_intf.c", 1859, 1, 0);
      return 0;
  }
}

//----- (1004D810) --------------------------------------------------------
char __cdecl sub_1004D810(char a1, int *a2, char a3)
{
  char result; // al@3
  char v4; // bl@4
  int v5; // [sp+4h] [bp-4h]@1

  v5 = 0;
  if ( a3 != 2 && sub_100515F0(a3 + 9) )
  {
    result = sub_1004D660(a1, a3, a2);
  }
  else
  {
    v4 = sub_10051AB0(16, a3, &v5);
    if ( v4 )
      *a2 = sub_1004D560(a1, v5);
    result = v4;
  }
  return result;
}

//----- (1004D880) --------------------------------------------------------
char __cdecl sub_1004D880(char a1, int *a2)
{
  void *v2; // ecx@0
  char v3; // al@1
  char v4; // al@1

  v3 = sub_1004FA10(v2);
  v4 = sub_10051C80(v3, 1);
  return sub_1004D810(a1, a2, v4);
}

//----- (1004D8B0) --------------------------------------------------------
int __cdecl sub_1004D8B0(unsigned __int16 a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 > 0x1C8Au && a1 < 0x1C8Bu )
    result = (unsigned __int16)(a1 - 7307);
  return result;
}

//----- (1004D8D0) --------------------------------------------------------
char *__cdecl sub_1004D8D0(unsigned __int16 a1)
{
  bool v1; // cf@1
  bool v2; // zf@1
  char *result; // eax@1

  v1 = a1 < 0x1C8Au;
  v2 = a1 == 7306;
  result = (char *)&unk_1009037C;
  if ( a1 < 0x1C8Au )
  {
    if ( a1 != -1 )
      return (char *)TXT_get_static_string();
    v1 = 0;
    v2 = 0;
  }
  if ( !v1 && !v2 && a1 < 0x1C8Bu )
    result = (char *)&unk_10504EE4 + (unsigned __int16)sub_1004D8B0(a1);
  return result;
}
// 10061280: using guessed type int TXT_get_static_string(void);

//----- (1004D910) --------------------------------------------------------
double __cdecl sub_1004D910(int a1)
{
  double v1; // st6@1

  v1 = (double)(unsigned int)((*(int (**)(void))(dword_10504EC8 + 8))() - a1);
  return (float)(1.0 / (double)(*(int (**)(void))(dword_10504EC8 + 12))() * v1);
}
// 10504EC8: using guessed type int dword_10504EC8;

//----- (1004D960) --------------------------------------------------------
int __cdecl sub_1004D960(_DWORD *a1, unsigned int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax@6
  int v7; // ebx@6
  _DWORD *v8; // esi@7
  unsigned int v9; // ecx@7
  _DWORD *v10; // edx@7
  int v11; // edi@11
  int v12; // ecx@12
  _BYTE *v13; // edx@12
  _BYTE *v14; // esi@12
  int v15; // ecx@14
  _BYTE *v16; // edx@14
  _BYTE *v17; // esi@14
  _BYTE *v18; // edx@16
  _BYTE *v19; // esi@16
  signed int v20; // ecx@18
  _DWORD *v21; // esi@23
  unsigned int v22; // ecx@23
  _DWORD *v23; // edx@23
  int v24; // edi@27
  int v25; // ecx@28
  _BYTE *v26; // edx@28
  _BYTE *v27; // esi@28
  int v28; // ecx@30
  _BYTE *v29; // edx@30
  _BYTE *v30; // esi@30
  _BYTE *v31; // edx@32
  _BYTE *v32; // esi@32
  int v33; // edx@33
  signed int v34; // ecx@34
  int v35; // [sp+4h] [bp-4h]@6

  if ( a1 && (signed int)a2 > 0 && a3 && a4 > 0 && a5 > 0 )
  {
    result = a5 - 1;
    v7 = a3 + a4 * (a5 - 1);
    v35 = a5 - 1;
    if ( a5 - 1 > 0 )
    {
      while ( 1 )
      {
        v8 = a1;
        v9 = a2;
        v10 = (_DWORD *)v7;
        if ( a2 < 4 )
        {
LABEL_10:
          if ( !v9 )
            goto LABEL_20;
        }
        else
        {
          while ( *v8 == *v10 )
          {
            v9 -= 4;
            ++v10;
            ++v8;
            if ( v9 < 4 )
              goto LABEL_10;
          }
        }
        v11 = *(_BYTE *)v8 - *(_BYTE *)v10;
        if ( *(_BYTE *)v8 != *(_BYTE *)v10
          || (v12 = v9 - 1, v13 = (char *)v10 + 1, v14 = (char *)v8 + 1, v12)
          && ((v11 = *v14 - *v13, *v14 != *v13)
           || (v15 = v12 - 1, v16 = v13 + 1, v17 = v14 + 1, v15)
           && ((v11 = *v17 - *v16, *v17 != *v16)
            || (v18 = v16 + 1, v19 = v17 + 1, v15 != 1) && (v11 = *v19 - *v18, *v19 != *v18))) )
        {
          v20 = 1;
          if ( v11 <= 0 )
            v20 = -1;
          goto LABEL_21;
        }
LABEL_20:
        v20 = 0;
LABEL_21:
        result = v35;
        if ( v20 )
        {
          v7 -= a4;
          result = v35 - 1;
          v35 = result;
          if ( result > 0 )
            continue;
        }
        break;
      }
    }
    v21 = a1;
    v22 = a2;
    v23 = (_DWORD *)v7;
    if ( a2 < 4 )
    {
LABEL_26:
      if ( !v22 )
        goto LABEL_36;
    }
    else
    {
      while ( *v21 == *v23 )
      {
        v22 -= 4;
        ++v23;
        ++v21;
        if ( v22 < 4 )
          goto LABEL_26;
      }
    }
    v24 = *(_BYTE *)v21 - *(_BYTE *)v23;
    if ( *(_BYTE *)v21 != *(_BYTE *)v23
      || (v25 = v22 - 1, v26 = (char *)v23 + 1, v27 = (char *)v21 + 1, v25)
      && ((v24 = *v27 - *v26, *v27 != *v26)
       || (v28 = v25 - 1, v29 = v26 + 1, v30 = v27 + 1, v28)
       && ((v24 = *v30 - *v29, *v30 != *v29)
        || (v31 = v29 + 1, v32 = v30 + 1, v28 != 1) && (v33 = *v31, v24 = *v32 - v33, *v32 != v33))) )
    {
      v34 = 1;
      if ( v24 <= 0 )
        v34 = -1;
LABEL_37:
      if ( !v34 )
        return result;
      return a6;
    }
LABEL_36:
    v34 = 0;
    goto LABEL_37;
  }
  return a6;
}

//----- (1004DAF0) --------------------------------------------------------
char __cdecl sub_1004DAF0(int a1, char a2)
{
  char v2; // dl@1
  char result; // al@3
  unsigned __int8 v4; // cl@4
  unsigned __int8 v5; // cl@8
  unsigned __int8 v6; // cl@14
  unsigned __int8 v7; // cl@20

  v2 = 0;
  if ( a2 )
    v2 = *(_BYTE *)(a1 + 10);
  result = 15;
  if ( *(_BYTE *)(a1 + 9) )
  {
    v4 = *(_BYTE *)(a1 + 13);
    if ( v4 != 15 && (!v2 || v4 <= 1u) )
      result = *(_BYTE *)(a1 + 13);
    v5 = *(_BYTE *)(a1 + 14);
    if ( v5 != 15 && (!v2 || v5 <= 1u) && (result == 15 || (unsigned __int8)result < v5) )
      result = *(_BYTE *)(a1 + 14);
    v6 = *(_BYTE *)(a1 + 15);
    if ( v6 != 15 && (!v2 || v6 <= 1u) && (result == 15 || (unsigned __int8)result < v6) )
      result = *(_BYTE *)(a1 + 15);
    v7 = *(_BYTE *)(a1 + 16);
    if ( v7 != 15 && (!v2 || v7 <= 1u) && (result == 15 || (unsigned __int8)result < v7) )
      result = *(_BYTE *)(a1 + 16);
  }
  return result;
}

//----- (1004DB70) --------------------------------------------------------
signed int __cdecl sub_1004DB70(_BYTE *a1, _BYTE *a2, int a3)
{
  int v3; // ebx@1
  signed int result; // eax@1
  _BYTE *v5; // esi@2
  _BYTE *v6; // edi@2

  v3 = a3;
  result = 0;
  if ( a3 > 0 )
  {
    v5 = a1;
    v6 = a2;
    while ( 1 )
    {
      if ( *v5 < *v6 )
        return -1;
      if ( *v5 > *v6 )
        break;
      --v3;
      --v5;
      --v6;
      if ( v3 <= 0 )
        return result;
    }
    result = 1;
  }
  return result;
}

//----- (1004DBB0) --------------------------------------------------------
signed int __cdecl sub_1004DBB0(int a1)
{
  signed int result; // eax@1

  result = 0x3FFFF;
  if ( a1 )
  {
    if ( *(_BYTE *)a1 < 0x17u )
      result = *(_DWORD *)(a1 + 36);
  }
  return result;
}

//----- (1004DBD0) --------------------------------------------------------
signed int __cdecl sub_1004DBD0(signed int a1)
{
  signed int result; // eax@2

  if ( a1 == 15 )
  {
    result = 0x3FFF;
  }
  else if ( a1 >= 14 )
  {
    result = 0;
  }
  else
  {
    result = (unsigned __int16)(1 << a1);
  }
  return result;
}

//----- (1004DC00) --------------------------------------------------------
unsigned __int8 __cdecl sub_1004DC00(const char *a1, int a2)
{
  int v2; // eax@3
  char v3; // cl@4
  _BYTE *v4; // esi@5
  signed int v5; // edi@5
  char v6; // cl@6
  unsigned __int8 result; // al@8
  char v8; // dl@17
  char v9; // dl@17
  char v10; // cl@18
  char v11[8]; // [sp+8h] [bp-Ch]@2

  if ( strlen(a1) > 6 )
  {
    v2 = 0;
    do
    {
      v3 = *((_BYTE *)&dword_10089308 + v2);
      v11[v2++] = v3;
    }
    while ( v3 );
  }
  else
  {
    strcpy(v11, a1);
    sub_1004A1D0(v11, 6u, 32);
  }
  *(_DWORD *)a2 = 0;
  v4 = (_BYTE *)(a2 + 4);
  *(_BYTE *)(a2 + 4) = 0;
  v5 = 0;
  do
  {
    v6 = v11[v5];
    if ( (unsigned __int8)v6 < 0x41u || (unsigned __int8)v6 > 0x5Au )
    {
      if ( (unsigned __int8)v6 < 0x30u || (unsigned __int8)v6 > 0x39u )
        result = v6 == 32 ? 0 : v6;
      else
        result = v6 - 16;
    }
    else
    {
      result = v6 - 64;
    }
    if ( v5 & 3 )
    {
      if ( (v5 & 3) == 1 )
      {
        *v4 = (result >> 4) | *v4 & 0xFC;
        v10 = *(v4-- - 1);
        result *= 16;
        *v4 = result | v10 & 0xF;
        goto LABEL_21;
      }
      if ( (v5 & 3) != 2 )
      {
        *v4 = result | *v4 & 0xC0;
        --v4;
        goto LABEL_21;
      }
      *v4 = (result >> 2) | *v4 & 0xF0;
      v8 = *(v4-- - 1);
      v9 = v8 & 0x3F;
      result <<= 6;
    }
    else
    {
      v9 = *v4 & 3;
      result *= 4;
    }
    *v4 = result | v9;
LABEL_21:
    ++v5;
  }
  while ( v5 < 6 );
  return result;
}
// 10089308: using guessed type int dword_10089308;
// 1004DC00: using guessed type char var_C[8];

//----- (1004DD40) --------------------------------------------------------
double __cdecl sub_1004DD40(signed int a1, char a2)
{
  return (double)(a1 >> (31 - a2)) / (double)(1 << a2) * 3.1415926535898;
}

//----- (1004DD80) --------------------------------------------------------
void __cdecl sub_1004DD80(_BYTE *a1, signed int a2, int a3)
{
  signed int v3; // esi@1
  _BYTE *v4; // ecx@2
  unsigned int v5; // edx@2
  unsigned int v6; // eax@6
  unsigned __int16 v7; // ax@7
  char v8; // al@10

  v3 = 0;
  if ( a2 > 0 )
  {
    v4 = a1;
    v5 = a2;
    do
    {
      if ( v3 & 3 )
      {
        if ( (v3 & 3) == 1 )
        {
          v6 = v5 >> 4;
        }
        else
        {
          --v4;
          if ( (v3 & 3) == 2 )
          {
            HIBYTE(v7) = v4[1];
            LOBYTE(v7) = *v4;
            v5 = v7;
            v6 = (unsigned int)v7 >> 6;
          }
          else
          {
            LOBYTE(v6) = v5;
          }
        }
      }
      else
      {
        BYTE1(v5) = *v4--;
        LOBYTE(v5) = *v4;
        v5 = (unsigned __int16)v5;
        LOWORD(v6) = (unsigned __int16)v5 >> 10;
      }
      v8 = v6 & 0x3F;
      if ( v8 )
      {
        if ( (unsigned __int8)(v8 - 1) > 0x19u )
        {
          if ( (unsigned __int8)(v8 - 32) <= 9u )
            v8 += 16;
        }
        else
        {
          v8 += 64;
        }
        *(_BYTE *)(v3 + a3) = v8;
      }
      else
      {
        *(_BYTE *)(v3 + a3) = 32;
      }
      ++v3;
    }
    while ( v3 < a2 );
  }
}

//----- (1004DE20) --------------------------------------------------------
bool __cdecl sub_1004DE20(unsigned int a1, unsigned __int16 a2)
{
  unsigned int v2; // eax@2
  bool result; // al@5

  result = 0;
  if ( a2 < 0x96u )
  {
    v2 = 12 * a2;
    if ( a1 < dword_10504F08[v2 / 4] && word_10504F04[v2 / 2] && dword_10504F00[v2 / 4] )
      result = 1;
  }
  return result;
}
// 10504F00: using guessed type int dword_10504F00[];
// 10504F04: using guessed type __int16 word_10504F04[];
// 10504F08: using guessed type int dword_10504F08[];

//----- (1004DE60) --------------------------------------------------------
char __usercall sub_1004DE60@<al>(unsigned int a1@<eax>)
{
  if ( a1 )
  {
    if ( a1 <= 0x1A )
      LOBYTE(a1) = a1 + 64;
  }
  else
  {
    LOBYTE(a1) = 32;
  }
  return a1;
}

//----- (1004DE80) --------------------------------------------------------
char __cdecl sub_1004DE80(int a1, int a2)
{
  int v2; // esi@1
  char *v3; // ebp@1
  unsigned int v4; // eax@1
  unsigned int v5; // eax@2
  int v6; // eax@3
  int v7; // eax@9
  __int16 v8; // ax@9
  double v9; // st7@10
  double v10; // st7@13
  unsigned __int8 v11; // al@15
  float v13; // [sp+18h] [bp+8h]@9
  float v14; // [sp+18h] [bp+8h]@11
  float v15; // [sp+18h] [bp+8h]@14

  v2 = a2;
  *(double *)(a2 + 96) = 6.2831853071796;
  *(double *)(a2 + 104) = 6.2831853071796;
  *(float *)(a2 + 64) = 9999.9004;
  *(double *)(a2 + 80) = 6.2831853071796;
  v3 = (char *)(a2 + 1);
  *(double *)(a2 + 88) = 6.2831853071796;
  *(_DWORD *)(a2 + 32) = 0;
  *(float *)(a2 + 48) = 0.0;
  *(_DWORD *)(a2 + 40) = 0;
  *(float *)(a2 + 56) = 0.0;
  *(_DWORD *)(a2 + 36) = 1000;
  *(_BYTE *)(a2 + 12) = 95;
  *(float *)(a2 + 52) = 80.0;
  *(_DWORD *)(a2 + 16) = 0;
  *(_BYTE *)(a2 + 11) = 32;
  *(_DWORD *)(a2 + 44) = 0;
  *(float *)(a2 + 60) = 0.0;
  *(_DWORD *)(a2 + 20) = 0;
  *(float *)(a2 + 68) = 0.0;
  *(_DWORD *)(a2 + 28) = 0;
  *(_DWORD *)(a2 + 76) = 0;
  *(_DWORD *)(a2 + 24) = 0;
  *(_BYTE *)a2 = 0;
  *(_DWORD *)(a2 + 72) = 0;
  *(_WORD *)(a2 + 1) = 32;
  *(_WORD *)(a2 + 6) = 32;
  v4 = sub_10064570((_BYTE *)a1, 36, 0);
  *(_DWORD *)(a2 + 72) = v4;
  *(_DWORD *)(a2 + 76) = *(_DWORD *)(a1 + 36);
  if ( v4 == *(_DWORD *)(a1 + 36) )
  {
    *(_BYTE *)a2 = 1;
    v5 = ((unsigned int)*(_BYTE *)(a1 + 5) >> 6) & 3;
    if ( v5 )
    {
      v6 = v5 - 1;
      if ( v6 )
      {
        if ( v6 == 1 )
          *(_BYTE *)(a2 + 12) = 67;
        else
          *(_BYTE *)(a2 + 12) = 76;
      }
      else
      {
        *(_BYTE *)(a2 + 12) = 82;
      }
    }
    else
    {
      *(_BYTE *)(a2 + 12) = 32;
    }
    *(_DWORD *)(a2 + 32) = *(_BYTE *)a1 & 0xF;
    *(_DWORD *)(a2 + 40) = (unsigned int)*(_BYTE *)a1 >> 4;
    *(_DWORD *)(a2 + 36) = *(_BYTE *)(a1 + 5) & 0x3F;
    *(_DWORD *)(a2 + 16) = *(_BYTE *)(a1 + 6) & 7;
    *(_DWORD *)(a2 + 44) = *(_BYTE *)(a1 + 7);
    *(double *)(a2 + 96) = (double)*(signed int *)(a1 + 12) * 0.0005 / 3600.0 * 0.01745329251994333;
    *(double *)(a2 + 104) = (double)*(signed int *)(a1 + 16) * 0.0005 / 3600.0 * 0.01745329251994333;
    v13 = (double)*(_WORD *)(a1 + 20) * 0.1;
    *(float *)(v2 + 64) = v13 - 512.0;
    v7 = *(_BYTE *)(a1 + 25) + (*(_WORD *)(a1 + 26) << 8);
    *(double *)(v2 + 80) = (double)(*(_DWORD *)(a1 + 12) + *(_BYTE *)(a1 + 22) + ((signed int)*(_WORD *)(a1 + 23) << 8))
                         * 0.0005
                         / 3600.0
                         * 0.01745329251994333;
    *(double *)(v2 + 88) = 0.01745329251994333 * (0.0005 * (double)(v7 + *(_DWORD *)(a1 + 16)) / 3600.0);
    v8 = *(_WORD *)(a1 + 28);
    if ( *(_WORD *)(a1 + 28) & 0x8000 )
    {
      v9 = (double)(v8 & 0x7FFF) * 0.05;
    }
    else
    {
      v14 = 0.1 * (double)(v8 & 0x7FFF);
      v9 = v14 * 0.3048000037670135;
    }
    *(float *)(v2 + 48) = v9;
    *(float *)(v2 + 56) = (double)*(_WORD *)(a1 + 30) * 0.009999999776482582 * 0.01745329238474369;
    if ( *(_BYTE *)(a1 + 5) & 0x3F )
    {
      v15 = (double)*(_BYTE *)(a1 + 32) * 0.25;
      v10 = v15 + 80.0;
    }
    else
    {
      v10 = 38.0;
    }
    *(float *)(v2 + 52) = v10;
    v11 = *(_BYTE *)(a1 + 33);
    if ( v11 == -1 )
      *(_DWORD *)(v2 + 28) = 0;
    else
      *(_DWORD *)(v2 + 28) = 8 * v11;
    *(float *)(v2 + 60) = (double)*(_BYTE *)(a1 + 34) * 0.2;
    *(float *)(v2 + 68) = 0.2 * (double)*(_BYTE *)(a1 + 35);
    *(_DWORD *)(v2 + 24) = *(_WORD *)(a1 + 40) + ((*(_BYTE *)(a1 + 42) & 1) << 16);
    *(_BYTE *)(v2 + 6) = sub_1004DE60(*(_BYTE *)(a1 + 11));
    *(_BYTE *)(v2 + 7) = sub_1004DE60(*(_BYTE *)(a1 + 10));
    *(_BYTE *)(v2 + 8) = sub_1004DE60(*(_BYTE *)(a1 + 9));
    *(_BYTE *)(v2 + 9) = sub_1004DE60(*(_BYTE *)(a1 + 8));
    *(_BYTE *)(v2 + 10) = 0;
    *v3 = sub_1004DE60(*(_BYTE *)(a1 + 4));
    *(_BYTE *)(v2 + 2) = sub_1004DE60(*(_BYTE *)(a1 + 3));
    *(_BYTE *)(v2 + 3) = sub_1004DE60(*(_BYTE *)(a1 + 2));
    *(_BYTE *)(v2 + 4) = sub_1004DE60(*(_BYTE *)(a1 + 1));
    *(_BYTE *)(v2 + 5) = 0;
    sub_1004A3B0(v2 + 1, 0);
    LOBYTE(v4) = sub_1004DE60((unsigned int)*(_WORD *)(a1 + 5) >> 11);
    *(_BYTE *)(v2 + 11) = v4;
  }
  return v4;
}

//----- (1004E180) --------------------------------------------------------
int __cdecl sub_1004E180(unsigned __int16 a1)
{
  unsigned __int16 v1; // dx@1
  int result; // eax@2

  if ( sub_1004DE20(0, a1) )
    result = dword_10504F08[3 * v1];
  else
    result = 0;
  return result;
}
// 10504F08: using guessed type int dword_10504F08[];

//----- (1004E1B0) --------------------------------------------------------
char __thiscall sub_1004E1B0(void *this)
{
  char result; // al@1
  bool v2; // zf@2
  void *v3; // [sp-2h] [bp-4h]@1

  v3 = this;
  sub_1004AD70(4, (char *)&v3 + 3);
  result = BYTE3(v3);
  if ( BYTE3(v3) == 1 )
  {
    v2 = SIM_proc_rqst(50) == 0;
    result = 2;
    if ( v2 )
      result = BYTE3(v3);
  }
  return result;
}
// 100645CC: using guessed type int __cdecl SIM_proc_rqst(_DWORD);

//----- (1004E1E0) --------------------------------------------------------
int __thiscall sub_1004E1E0(void *this)
{
  void *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  sub_1004AD70(46, (char *)&v2);
  return (int)v2;
}

//----- (1004E200) --------------------------------------------------------
char sub_1004E200()
{
  void *v0; // ecx@1
  int v1; // eax@1
  char result; // al@2
  char v3; // [sp+3h] [bp-5h]@1
  int v4; // [sp+4h] [bp-4h]@1

  sub_1004F9E0(4);
  sub_1004F9E0(1);
  sub_1004F9E0(2);
  v4 = sub_1004E1E0(v0);
  v3 = 0;
  v1 = sub_1004D960(&v4, 4u, (int)&unk_10090948, 8, 3, 3);
  if ( v1 == 3 )
  {
    sub_10017B80(41107, (int)&v3, 1);
    result = v3;
  }
  else
  {
    sub_10017B80(dword_1009094C[2 * v1], (int)&v3, 1);
    result = v3;
  }
  return result;
}
// 1009094C: using guessed type int dword_1009094C[];

//----- (1004E280) --------------------------------------------------------
int __cdecl sub_1004E280(int a1)
{
  double v1; // ST0C_8@2
  double v2; // st6@4
  double v3; // st7@4
  double v4; // ST0C_8@7
  double v5; // rt2@8
  double v6; // st6@8
  double v7; // st7@8
  double v8; // st7@14
  double v9; // st7@18
  int result; // eax@18

  if ( a1 )
  {
    v1 = *(double *)a1;
    if ( (HIDWORD(v1) & 0x7FF00000) == 2146435072 || *(double *)a1 > 6.2831853071796 )
    {
      *(double *)a1 = 6.2831853071796;
      v2 = -6.2831853071796;
      v3 = 6.2831853071796;
    }
    else
    {
      v2 = -6.2831853071796;
      v3 = 6.2831853071796;
      if ( *(double *)a1 < -6.2831853071796 )
        *(double *)a1 = -6.2831853071796;
    }
    v4 = *(double *)(a1 + 8);
    if ( (HIDWORD(v4) & 0x7FF00000) == 2146435072 )
    {
      *(double *)(a1 + 8) = v3;
    }
    else
    {
      v5 = v2;
      v6 = v3;
      v7 = v5;
      if ( v6 < *(double *)(a1 + 8) )
      {
        *(double *)(a1 + 8) = v6;
      }
      else if ( v7 > *(double *)(a1 + 8) )
      {
        *(double *)(a1 + 8) = v7;
      }
    }
    if ( *(double *)a1 <= 1.5707963267949 )
    {
      if ( *(double *)a1 >= -1.5707963267949 )
      {
LABEL_18:
        v9 = *(double *)(a1 + 8);
        result = sub_100637C0(v9);
        *(double *)(a1 + 8) = v9;
        return result;
      }
      *(double *)a1 = -3.1415926535898 - *(double *)a1;
      v8 = *(double *)(a1 + 8) + 3.1415926535898;
    }
    else
    {
      *(double *)a1 = 3.1415926535898 - *(double *)a1;
      v8 = *(double *)(a1 + 8) + 3.1415926535898;
    }
    *(double *)(a1 + 8) = v8;
    goto LABEL_18;
  }
  return result;
}

//----- (1004E380) --------------------------------------------------------
signed int __cdecl sub_1004E380(int a1, int a2)
{
  signed int result; // eax@2

  if ( a1 )
  {
    if ( (COERCE_UNSIGNED_INT(*(float *)a1) & 0x7F800000) == 2139095040
      || (COERCE_UNSIGNED_INT(*(float *)(a1 + 4)) & 0x7F800000) == 2139095040
      || *(float *)a1 >= 1.570796370506287
      || *(float *)a1 < -1.570796370506287
      || *(float *)(a1 + 4) >= 3.141592741012573
      || *(float *)(a1 + 4) < -3.141592741012573 )
    {
      if ( a2 )
      {
        *(_DWORD *)a1 = *(_DWORD *)a2;
        *(_DWORD *)(a1 + 4) = *(_DWORD *)(a2 + 4);
      }
      result = 0;
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (1004E420) --------------------------------------------------------
#error "1004E425: call analysis failed (funcsize=28)"

//----- (1004E450) --------------------------------------------------------
void sub_1004E450()
{
  dword_1013468C = -15;
}
// 1013468C: using guessed type int dword_1013468C;

//----- (1004E460) --------------------------------------------------------
int __cdecl sub_1004E460(char a1)
{
  int result; // eax@1

  result = 0;
  if ( a1 < 7 )
    result = (unsigned __int16)word_10092544[a1];
  return result;
}
// 10092544: using guessed type __int16 word_10092544[];

//----- (1004E480) --------------------------------------------------------
signed int sub_1004E480()
{
  signed int result; // eax@1

  result = -15;
  dword_101346AC = -15;
  dword_101346B8 = -15;
  dword_10134694 = -15;
  dword_101346BC = -15;
  dword_101346A8 = -15;
  dword_10134698 = -15;
  dword_10134690 = -15;
  dword_101346A4 = -15;
  dword_101346B4 = -15;
  dword_101346B0 = -15;
  dword_101346A0 = -15;
  dword_1013469C = -15;
  return result;
}
// 10134690: using guessed type int dword_10134690;
// 10134694: using guessed type int dword_10134694;
// 10134698: using guessed type int dword_10134698;
// 1013469C: using guessed type int dword_1013469C;
// 101346A0: using guessed type int dword_101346A0;
// 101346A4: using guessed type int dword_101346A4;
// 101346A8: using guessed type int dword_101346A8;
// 101346AC: using guessed type int dword_101346AC;
// 101346B0: using guessed type int dword_101346B0;
// 101346B4: using guessed type int dword_101346B4;
// 101346B8: using guessed type int dword_101346B8;
// 101346BC: using guessed type int dword_101346BC;

//----- (1004E4D0) --------------------------------------------------------
signed int __usercall sub_1004E4D0@<eax>(char a1@<al>, int a2@<ecx>)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 6:
      result = sub_10018100((int)&off_10092564);
      break;
    case 0:
      result = sub_10018100((int)&off_10092578);
      break;
    case 1:
      result = sub_10018100((int)&off_1009258C);
      break;
    case 2:
      result = sub_10018100((int)&off_100925B4);
      break;
    case 3:
      result = sub_10018100((int)&off_100925A0);
      break;
    case 5:
      result = sub_10018100((int)&off_100925C8);
      break;
    default:
      result = sub_10018100(a2);
      break;
  }
  return result;
}
// 10092564: using guessed type char *off_10092564;
// 10092578: using guessed type char *off_10092578;
// 1009258C: using guessed type char *off_1009258C;
// 100925A0: using guessed type char *off_100925A0;
// 100925B4: using guessed type char *off_100925B4;
// 100925C8: using guessed type char *off_100925C8;

//----- (1004E570) --------------------------------------------------------
int __usercall sub_1004E570@<eax>(char a1@<al>)
{
  return sub_10017820(dword_10092094[a1]);
}
// 10092094: using guessed type int dword_10092094[];

//----- (1004E590) --------------------------------------------------------
int __usercall sub_1004E590@<eax>(char a1@<al>)
{
  return sub_100178A0(dword_10092094[a1], 10);
}
// 10092094: using guessed type int dword_10092094[];

//----- (1004E5B0) --------------------------------------------------------
signed __int16 __usercall sub_1004E5B0@<ax>(char a1@<al>, unsigned __int16 a2@<si>)
{
  signed __int16 result; // ax@3
  bool v3; // cf@8

  switch ( a1 )
  {
    case 6:
      if ( a2 < 0x2E5u )
      {
        if ( !(unsigned __int8)sub_1004E4D0(a1, a1) )
        {
          sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3201, 0, 0);
          goto LABEL_6;
        }
        result = *(_WORD *)(dword_101346AC + 2 * a2 + 241212);
        v3 = (unsigned __int16)result < 0x256u;
        goto LABEL_32;
      }
      sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3186, 0, 0);
      return -1;
    default:
      goto LABEL_6;
    case 0:
      if ( a2 >= 0x344u )
      {
        sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3224, 0, 0);
        return -1;
      }
      if ( (unsigned __int8)sub_1004E4D0(a1, a1) )
      {
        result = *(_WORD *)(dword_101346B8 + 2 * a2 + 284664);
        v3 = (unsigned __int16)result < 0x211u;
        goto LABEL_32;
      }
      if ( sub_1004AD50(15000) )
        goto LABEL_6;
      sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3242, 0, 0);
      return 0;
    case 1:
      if ( a2 >= 0xBCCu )
      {
        sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3265, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_1004E4D0(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_10134694 + 2 * a2 + 447808);
      v3 = (unsigned __int16)result < 0x979u;
      goto LABEL_32;
    case 2:
      if ( a2 >= 0x388u )
      {
        sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3302, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_1004E4D0(a1, a1) )
        goto LABEL_6;
      result = *(_WORD *)(dword_101346BC + 2 * a2 + 356016);
      v3 = (unsigned __int16)result < 0x23Du;
      goto LABEL_32;
    case 3:
      if ( a2 >= 0xBEu )
      {
        sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3339, 0, 0);
        return -1;
      }
      if ( !(unsigned __int8)sub_1004E4D0(a1, a1) )
      {
        sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3354, 0, 0);
        return 0;
      }
      result = *(_WORD *)(dword_101346A8 + 2 * a2 + 23096);
      v3 = (unsigned __int16)result < 0x52u;
      goto LABEL_32;
    case 5:
      if ( a2 < 4u )
      {
        if ( (unsigned __int8)sub_1004E4D0(a1, a1) )
        {
          result = *(_WORD *)(dword_10134698 + 2 * a2 + 1804);
          v3 = (unsigned __int16)result < 4u;
LABEL_32:
          if ( !v3 )
            result = -1;
        }
        else
        {
LABEL_6:
          result = 0;
        }
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\hsdb\\iop_hsdb_pkt_intf.c", 3377, 0, 0);
        result = -1;
      }
      return result;
  }
}
// 10134694: using guessed type int dword_10134694;
// 10134698: using guessed type int dword_10134698;
// 101346A8: using guessed type int dword_101346A8;
// 101346AC: using guessed type int dword_101346AC;
// 101346B8: using guessed type int dword_101346B8;
// 101346BC: using guessed type int dword_101346BC;

//----- (1004E7F0) --------------------------------------------------------
char __cdecl sub_1004E7F0(char a1, unsigned __int16 a2, void *a3)
{
  int v3; // ecx@1
  signed __int16 v4; // si@1
  char result; // al@2

  v4 = sub_1004E5B0(a1, a2);
  if ( v4 == -1 )
  {
    result = 0;
  }
  else
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_1004E4D0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_101346AC + 210116), 0x34u);
        result = 1;
        break;
      case 0:
        if ( (unsigned __int8)sub_1004E4D0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_101346B8 + 257156), 0x34u);
        result = 1;
        break;
      case 1:
        result = sub_1004E4D0(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10134694 + 321708), 0x34u);
        break;
      case 2:
        if ( (unsigned __int8)sub_1004E4D0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_101346BC + 326220), 0x34u);
        result = 1;
        break;
      case 3:
        if ( (unsigned __int8)sub_1004E4D0(a1, v3) != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_101346A8 + 18832), 0x34u);
        result = 1;
        break;
      case 5:
        result = sub_1004E4D0(a1, v3);
        if ( result != 1 )
          goto LABEL_16;
        qmemcpy(a3, (const void *)(52 * (unsigned __int16)v4 + dword_10134698 + 1596), 0x34u);
        break;
      default:
LABEL_16:
        result = 0;
        break;
    }
  }
  return result;
}
// 10134694: using guessed type int dword_10134694;
// 10134698: using guessed type int dword_10134698;
// 101346A8: using guessed type int dword_101346A8;
// 101346AC: using guessed type int dword_101346AC;
// 101346B8: using guessed type int dword_101346B8;
// 101346BC: using guessed type int dword_101346BC;

//----- (1004E970) --------------------------------------------------------
char __cdecl sub_1004E970(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // si@1
  int v4; // ecx@2
  int v5; // eax@5

  v3 = sub_1004E5B0(a1, a2);
  if ( v3 != -1 && !sub_1004E590(a1) )
  {
    switch ( a1 )
    {
      case 6:
        if ( (unsigned __int8)sub_1004E4D0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_101346AC + 24 * ((unsigned __int16)v3 + 25);
        goto LABEL_16;
      case 0:
        if ( (unsigned __int8)sub_1004E4D0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_101346B8 + 24 * (unsigned __int16)v3 + 532;
        goto LABEL_16;
      case 1:
        if ( (unsigned __int8)sub_1004E4D0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10134694 + 24 * (unsigned __int16)v3 + 2428;
        goto LABEL_16;
      case 2:
        if ( (unsigned __int8)sub_1004E4D0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_101346BC + 24 * ((unsigned __int16)v3 + 24);
        goto LABEL_16;
      case 3:
        if ( (unsigned __int8)sub_1004E4D0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_101346A8 + 24 * (unsigned __int16)v3 + 84;
        goto LABEL_16;
      case 5:
        if ( (unsigned __int8)sub_1004E4D0(a1, v4) != 1 )
          goto LABEL_17;
        v5 = dword_10134698 + 24 * (unsigned __int16)v3 + 4;
LABEL_16:
        *(_DWORD *)a3 = *(_DWORD *)v5;
        *(_DWORD *)(a3 + 4) = *(_DWORD *)(v5 + 4);
        *(_DWORD *)(a3 + 8) = *(_DWORD *)(v5 + 8);
        *(_DWORD *)(a3 + 12) = *(_DWORD *)(v5 + 12);
        *(_DWORD *)(a3 + 16) = *(_DWORD *)(v5 + 16);
        *(_DWORD *)(a3 + 20) = *(_DWORD *)(v5 + 20);
        sub_1004E570(a1);
        return 1;
      default:
LABEL_17:
        sub_1004E570(a1);
        break;
    }
  }
  return 0;
}
// 10134694: using guessed type int dword_10134694;
// 10134698: using guessed type int dword_10134698;
// 101346A8: using guessed type int dword_101346A8;
// 101346AC: using guessed type int dword_101346AC;
// 101346B8: using guessed type int dword_101346B8;
// 101346BC: using guessed type int dword_101346BC;

//----- (1004EAD0) --------------------------------------------------------
char __cdecl sub_1004EAD0(int a1, int a2, void *a3, char a4, __int16 a5, char a6)
{
  int v6; // ecx@0
  signed __int16 v7; // ax@1
  int v8; // edi@2
  __int16 v9; // si@11
  __int16 v11; // [sp+8h] [bp-560h]@13
  __int16 v12; // [sp+3Ch] [bp-52Ch]@10
  char v13; // [sp+40h] [bp-528h]@16
  char v14; // [sp+41h] [bp-527h]@10
  __int16 v15; // [sp+42h] [bp-526h]@10
  char v16; // [sp+44h] [bp-524h]@10
  __int16 v17; // [sp+46h] [bp-522h]@15
  int v18; // [sp+48h] [bp-520h]@16
  char v19; // [sp+4Ch] [bp-51Ch]@15

  LOBYTE(v7) = a1;
  switch ( (char)a1 )
  {
    case 6:
      v8 = 28;
      goto LABEL_8;
    case 0:
      v8 = 29;
      goto LABEL_8;
    case 1:
      v8 = 30;
      goto LABEL_8;
    case 2:
      v8 = 31;
      goto LABEL_8;
    case 3:
      v8 = 32;
      goto LABEL_8;
    case 5:
      v8 = 33;
LABEL_8:
      LOBYTE(v7) = sub_1004E4D0(a1, v6);
      if ( !(_BYTE)v7 )
        return v7;
      v7 = sub_1004E5B0(a1, a2);
      if ( v7 == -1 )
        return v7;
      v14 = a6;
      LOBYTE(v7) = a4;
      v12 = -32768;
      v15 = a2;
      v16 = a4;
      if ( a4 == 1 )
      {
        v9 = a5;
        if ( (unsigned __int16)a5 > 0x514u )
          return v7;
      }
      else
      {
        if ( sub_1004E7F0(a1, a2, &v11) != 1 )
          goto LABEL_16;
        v9 = v11;
      }
      memcpy_0(&v19, a3, (unsigned __int16)v9);
      v17 = v9;
LABEL_16:
      v18 = sub_10017740();
      v13 = 0;
      LOBYTE(v7) = sub_10053FF0(v8, (int)&v12);
      return v7;
    default:
      return v7;
  }
}

//----- (1004EC10) --------------------------------------------------------
char __cdecl sub_1004EC10(char a1, unsigned __int16 a2, int a3)
{
  signed __int16 v3; // ax@1
  int v4; // edi@2
  __int16 v6; // [sp+4h] [bp-52Ch]@8
  unsigned __int16 v7; // [sp+8h] [bp-528h]@9
  int v8; // [sp+Ch] [bp-524h]@9

  LOBYTE(v3) = a1;
  switch ( a1 )
  {
    case 6:
      v4 = 28;
      goto LABEL_8;
    case 0:
      v4 = 29;
      goto LABEL_8;
    case 1:
      v4 = 30;
      goto LABEL_8;
    case 2:
      v4 = 31;
      goto LABEL_8;
    case 3:
      v4 = 32;
      goto LABEL_8;
    case 5:
      v4 = 33;
LABEL_8:
      memset(&v6, 0, 0x528u);
      v3 = sub_1004E5B0(a1, a2);
      if ( v3 != -1 )
      {
        v6 = -32766;
        v7 = a2;
        v8 = a3;
        LOBYTE(v3) = sub_10053FF0(v4, (int)&v6);
      }
      break;
    default:
      return v3;
  }
  return v3;
}

//----- (1004ECF0) --------------------------------------------------------
char __cdecl sub_1004ECF0(char a1, int a2, __int16 a3, __int16 a4, void *a5, int a6)
{
  char result; // al@2
  int v7; // ecx@3
  signed __int16 v8; // si@3
  int v9; // eax@7
  int v10; // ebp@7
  int v11; // esi@7
  int v12; // edi@7
  unsigned int v13; // ebx@7
  int v14; // eax@9
  int v15; // eax@11
  int v16; // eax@13
  int v17; // eax@15
  int v18; // eax@17
  int v19; // eax@25
  char v20; // [sp+7h] [bp-9h]@19
  __int16 v21; // [sp+8h] [bp-8h]@1
  unsigned int v22; // [sp+Ch] [bp-4h]@1

  v22 = sub_10017740();
  v21 = 0;
  if ( a1 < 7 )
  {
    v8 = sub_1004E5B0(a1, a2);
    if ( v8 == -1 )
    {
      result = 0;
    }
    else
    {
      switch ( a1 )
      {
        case 6:
          if ( !(unsigned __int8)sub_1004E4D0(a1, v7) )
            goto LABEL_30;
          v9 = 3 * (unsigned __int16)v8 + 75;
          v10 = dword_101346AC + 14952;
          v11 = 52 * (unsigned __int16)v8 + dword_101346AC + 210116;
          v12 = dword_101346AC + 8 * v9;
          v13 = 195164;
          goto LABEL_18;
        case 0:
          if ( !(unsigned __int8)sub_1004E4D0(a1, v7) )
            goto LABEL_30;
          v14 = 3 * (unsigned __int16)v8;
          v10 = dword_101346B8 + 13228;
          v11 = 52 * (unsigned __int16)v8 + dword_101346B8 + 257156;
          v12 = dword_101346B8 + 8 * v14 + 532;
          v13 = 243928;
          goto LABEL_18;
        case 1:
          if ( !(unsigned __int8)sub_1004E4D0(a1, v7) )
            goto LABEL_30;
          v15 = 3 * (unsigned __int16)v8;
          v10 = dword_10134694 + 60628;
          v11 = 52 * (unsigned __int16)v8 + dword_10134694 + 321708;
          v12 = dword_10134694 + 8 * v15 + 2428;
          v13 = 261080;
          goto LABEL_18;
        case 2:
          if ( !(unsigned __int8)sub_1004E4D0(a1, v7) )
            goto LABEL_30;
          v16 = 3 * (unsigned __int16)v8 + 72;
          v10 = dword_101346BC + 14328;
          v11 = 52 * (unsigned __int16)v8 + dword_101346BC + 326220;
          v12 = dword_101346BC + 8 * v16;
          v13 = 311892;
          goto LABEL_18;
        case 3:
          if ( !(unsigned __int8)sub_1004E4D0(a1, v7) )
            goto LABEL_30;
          v17 = 3 * (unsigned __int16)v8;
          v10 = dword_101346A8 + 2052;
          v11 = 52 * (unsigned __int16)v8 + dword_101346A8 + 18832;
          v12 = dword_101346A8 + 8 * v17 + 84;
          v13 = 16780;
          goto LABEL_18;
        case 5:
          if ( !(unsigned __int8)sub_1004E4D0(a1, v7) )
            goto LABEL_30;
          v18 = 3 * (unsigned __int16)v8;
          v10 = dword_10134698 + 100;
          v11 = 52 * (unsigned __int16)v8 + dword_10134698 + 1596;
          v12 = dword_10134698 + 8 * v18 + 4;
          v13 = 1496;
LABEL_18:
          if ( sub_1004E590(a1) )
            goto LABEL_30;
          v20 = *(_BYTE *)(v12 + 1);
          if ( *(_BYTE *)(v12 + 1) == 1 && v10 )
          {
            if ( *(_DWORD *)(v11 + 12) && v22 > *(_DWORD *)(v11 + 16) + *(_DWORD *)(v12 + 16) )
              goto LABEL_33;
            v21 = a4;
            if ( !a4 )
              v21 = *(_WORD *)(v12 + 4) - a3;
            v19 = *(_DWORD *)(v11 + 4) + (unsigned __int16)a3;
            if ( !v21 || (unsigned int)(unsigned __int16)v21 + v19 > v13 )
LABEL_33:
              v20 = 0;
            else
              memcpy_0(a5, (const void *)(v10 + v19), (unsigned __int16)v21);
          }
          *(_WORD *)a6 = v21;
          sub_1004E570(a1);
          result = v20;
          break;
        default:
LABEL_30:
          result = 0;
          break;
      }
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10134690: using guessed type int dword_10134690;
// 10134694: using guessed type int dword_10134694;
// 10134698: using guessed type int dword_10134698;
// 101346A4: using guessed type int dword_101346A4;
// 101346A8: using guessed type int dword_101346A8;
// 101346AC: using guessed type int dword_101346AC;
// 101346B4: using guessed type int dword_101346B4;
// 101346B8: using guessed type int dword_101346B8;
// 101346BC: using guessed type int dword_101346BC;

//----- (1004EF70) --------------------------------------------------------
char __cdecl sub_1004EF70(char a1, int a2, __int16 a3, __int16 a4, void *a5)
{
  int v5; // ecx@0
  int v7; // [sp+0h] [bp-4h]@1

  v7 = v5;
  return sub_1004ECF0(a1, a2, a3, a4, a5, (int)&v7);
}

//----- (1004EFA0) --------------------------------------------------------
char __cdecl sub_1004EFA0(char a1, int a2, void *a3)
{
  int v3; // ecx@0
  int v5; // [sp+0h] [bp-4h]@1

  v5 = v3;
  return sub_1004ECF0(a1, a2, 0, 0, a3, (int)&v5);
}

//----- (1004EFD0) --------------------------------------------------------
char __cdecl sub_1004EFD0(char a1, int a2, void *a3, int a4)
{
  return sub_1004ECF0(a1, a2, 0, 0, a3, a4);
}

//----- (1004F000) --------------------------------------------------------
void *sub_1004F000()
{
  dword_10504EE0 = (void *)-15;
  return sub_1004D150();
}

//----- (1004F010) --------------------------------------------------------
signed int sub_1004F010()
{
  return sub_10018100((int)&off_10092BF4);
}
// 10092BF4: using guessed type char *off_10092BF4;

//----- (1004F020) --------------------------------------------------------
int sub_1004F020()
{
  int result; // eax@1

  result = 0;
  dword_101346C0 = -15;
  dword_10504EDC = 0;
  dword_10504ED0 = 0;
  dword_10504ED4 = 0;
  dword_10504ED8 = 0;
  return result;
}
// 101346C0: using guessed type int dword_101346C0;
// 10504ED0: using guessed type int dword_10504ED0;
// 10504ED4: using guessed type int dword_10504ED4;
// 10504ED8: using guessed type int dword_10504ED8;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1004F050) --------------------------------------------------------
char sub_1004F050()
{
  char v0; // bl@1
  signed int v1; // esi@2
  char result; // al@4

  v0 = sub_10018100((int)&off_10092C20);
  if ( v0 )
  {
    dword_10504EDC = dword_101346C0;
    v1 = *(_BYTE *)(dword_101346C0 + 667) != 0 ? 1100 : 2000;
    if ( v1 + *(_DWORD *)(dword_10504EDC + 36) < (unsigned int)sub_10017740() )
      v0 = 0;
    dword_10504ED8 = dword_101346C0 + 56116;
    result = v0;
    dword_10504ED0 = dword_101346C0 + 1516;
    dword_10504ED4 = dword_101346C0 + 20484;
  }
  else
  {
    dword_10504EDC = 0;
    dword_10504ED0 = 0;
    dword_10504ED4 = 0;
    dword_10504ED8 = 0;
    result = 0;
  }
  return result;
}
// 10092C20: using guessed type char *off_10092C20;
// 101346C0: using guessed type int dword_101346C0;
// 10504ED0: using guessed type int dword_10504ED0;
// 10504ED4: using guessed type int dword_10504ED4;
// 10504ED8: using guessed type int dword_10504ED8;
// 10504EDC: using guessed type int dword_10504EDC;

//----- (1004F0F0) --------------------------------------------------------
signed int sub_1004F0F0()
{
  return 1000;
}

//----- (1004F110) --------------------------------------------------------
int sub_1004F110()
{
  return sub_10051750((int)off_10093160);
}
// 10093160: using guessed type int (*off_10093160[4])();

//----- (1004F130) --------------------------------------------------------
char __cdecl sub_1004F130(char *a1)
{
  int v1; // ecx@0
  int v3; // [sp-2h] [bp-4h]@1

  v3 = v1;
  sub_1004AD70(13, (char *)&v3 + 3);
  sub_1004AD70(12, a1);
  return BYTE3(v3);
}

//----- (1004F160) --------------------------------------------------------
int __cdecl sub_1004F160(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 0x7Fu, 0, 0);
}

//----- (1004F180) --------------------------------------------------------
int __cdecl sub_1004F180(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_1004F780(a1, 0, 0x7Fu, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (1004F1B0) --------------------------------------------------------
int __cdecl sub_1004F1B0(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 3u, 0, 0);
}

//----- (1004F210) --------------------------------------------------------
signed int __cdecl sub_1004F210(unsigned int a1, int a2, int a3, int a4)
{
  unsigned int v4; // eax@1
  unsigned int v5; // esi@1
  signed int result; // eax@3

  v4 = sub_100543E0(a1);
  v5 = v4;
  if ( v4 < 0xFFFFFFC2 && v4 )
  {
    if ( sub_10055300(v4, a4, 0) == a4 )
      result = sub_100552A0(v5, a2, a3);
    else
      result = -15;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (1004F270) --------------------------------------------------------
signed int __cdecl sub_1004F270(unsigned int a1, int a2, int a3)
{
  unsigned int v3; // eax@1

  v3 = sub_100543E0(a1);
  return sub_10055300(v3, a2, a3);
}

//----- (1004F290) --------------------------------------------------------
int __cdecl sub_1004F290(int a1, int a2)
{
  return sub_1004A520(a1, *(float *)a2, *(float *)(a2 + 4));
}

//----- (1004F2C0) --------------------------------------------------------
bool sub_1004F2C0()
{
  return sub_10017820(99) == 0;
}

//----- (1004F2D0) --------------------------------------------------------
bool sub_1004F2D0()
{
  return sub_100178A0(99, 10000) == 0;
}

//----- (1004F2F0) --------------------------------------------------------
void __cdecl sub_1004F2F0(float a1, int a2)
{
  double v2; // st7@1

  v2 = a1;
  if ( a1 < 11000.232 )
    *(float *)a2 = pow(v2 * -0.0065 / 288.1499938964844 + 1.0, 5.255880147586614) * 101325.0;
  else
    *(float *)a2 = exp((v2 - 11000.232421875) * -0.0001576885406393558) * 22631.953125;
}

//----- (1004F350) --------------------------------------------------------
void __cdecl sub_1004F350(float a1, float a2, int a3)
{
  float v3; // ecx@0
  float v4; // [sp+8h] [bp-4h]@1

  v4 = v3;
  sub_1004F2F0(a2, (int)&v4);
  *(float *)a3 = sqrt((pow(
                         (pow(a1 * a1 * 0.000001727115545691049 + 1.0, 3.500000238418579) - 1.0) * (101325.0 / v4) + 1.0,
                         0.2857142686843872)
                     - 1.0) * 5.000000476837158);
}

//----- (1004F3C0) --------------------------------------------------------
void __cdecl sub_1004F3C0(float a1, float a2, int a3)
{
  float v3; // ecx@0
  float v4; // [sp+8h] [bp-4h]@1

  v4 = v3;
  sub_1004F2F0(a2, (int)&v4);
  *(float *)a3 = sqrt((pow(
                         (pow(a1 * a1 * 0.199999988079071 + 1.0, 3.500000238418579) - 1.0) * (v4 / 101325.0) + 1.0,
                         0.2857142686843872)
                     - 1.0) * 579000.0625);
}

//----- (1004F430) --------------------------------------------------------
signed int __cdecl sub_1004F430(_BYTE *a1, char a2, int a3)
{
  signed int result; // eax@1

  result = -4;
  if ( a3 && a3 != 1 || (!*a1 || *a1 == 1 ? (result = 0) : (result = -2), a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_11;
  }
  if ( result )
  {
LABEL_11:
    *a1 = a2;
    result = 1;
  }
  return result;
}

//----- (1004F480) --------------------------------------------------------
int __cdecl sub_1004F480(int a1, float a2, float a3, int a4, int a5)
{
  int v5; // ecx@1
  int v6; // esi@1
  char v7; // dl@4
  char v8; // al@4
  char v9; // dl@4
  int result; // eax@5
  double v11; // st7@7
  unsigned int v12; // eax@21

  v5 = a1;
  v6 = a1 & 3;
  if ( a1 & 3 || (unsigned int)&a1 & 3 )
  {
    v7 = *(_BYTE *)(a1 + 1);
    LOBYTE(a1) = *(_BYTE *)a1;
    v8 = *(_BYTE *)(v5 + 2);
    BYTE1(a1) = v7;
    v9 = *(_BYTE *)(v5 + 3);
    BYTE2(a1) = v8;
    BYTE3(a1) = v9;
  }
  else
  {
    a1 = *(int *)a1;
  }
  result = -4;
  if ( a5 && a5 != 1
    || ((v11 = *(float *)&a1, (a1 & 0x7F800000) != 2139095040) ? (a2 <= v11 ? (a3 >= v11 ? (result = 0) : (result = -2)) : (result = -1)) : (result = -3),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v12 = a4;
    *(_BYTE *)(v5 + 1) = BYTE1(a4);
    *(_BYTE *)v5 = v12;
    *(_BYTE *)(v5 + 3) = BYTE3(v12);
    *(_BYTE *)(v5 + 2) = v12 >> 16;
    result = 1;
  }
  else
  {
    *(_DWORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (1004F570) --------------------------------------------------------
unsigned int __cdecl sub_1004F570(char *a1, char a2, char a3, char a4, int a5)
{
  char v5; // dl@1
  unsigned int result; // eax@1
  int v7; // eax@5

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1
    || (v5 >= a2 ? (v7 = v5 < a3, LOBYTE(v7) = v5 <= a3, result = (v7 - 1) & 0xFFFFFFFE) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (1004F5C0) --------------------------------------------------------
unsigned int __cdecl sub_1004F5C0(_BYTE *a1, __int16 a2, __int16 a3, __int16 a4, int a5)
{
  _BYTE *v5; // edx@1
  int v6; // edi@1
  unsigned int result; // eax@1
  int v8; // eax@9
  char v9; // ah@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 1;
  result = -4;
  if ( (unsigned __int8)a1 & 1 || (unsigned int)&a1 & 1 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
  }
  else
  {
    a1 = (_BYTE *)*(_WORD *)a1;
  }
  if ( a5 && a5 != 1
    || ((signed __int16)a1 >= a2 ? (v8 = (signed __int16)a1 < a3,
                                    LOBYTE(v8) = (signed __int16)a1 <= a3,
                                    result = (v8 - 1) & 0xFFFFFFFE) : (result = -1),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 1 || v6 )
  {
    v9 = HIBYTE(a4);
    *v5 = a4;
    v5[1] = v9;
    result = 1;
  }
  else
  {
    *(_WORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (1004F660) --------------------------------------------------------
unsigned int __cdecl sub_1004F660(_BYTE *a1, signed int a2, signed int a3, signed int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  unsigned int result; // eax@1
  _BYTE *v8; // esi@3
  int v9; // eax@9
  signed int v10; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((signed int)v8 >= a2 ? (v9 = (signed int)v8 < a3,
                                LOBYTE(v9) = (signed int)v8 <= a3,
                                result = (v9 - 1) & 0xFFFFFFFE) : (result = -1),
        a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v10 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v10;
    v5[3] = BYTE3(v10);
    v5[2] = v10 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (1004F720) --------------------------------------------------------
unsigned int __cdecl sub_1004F720(void *a1, size_t a2, int a3)
{
  unsigned int result; // eax@1
  int v4; // eax@3
  int v5; // ecx@3
  unsigned int v6; // ecx@3

  result = -4;
  if ( a3 && a3 != 1
    || (v4 = sub_1004A270(a1, a2), v5 = v4 < 0, LOBYTE(v5) = v4 >= 0, v6 = (v5 - 1) & 0xFFFFFFFC, result = v6, a3 != 1) )
  {
    if ( a3 != 2 )
      return result;
    goto LABEL_7;
  }
  if ( v6 )
  {
LABEL_7:
    memset(a1, 0, a2);
    result = 1;
  }
  return result;
}

//----- (1004F780) --------------------------------------------------------
int __cdecl sub_1004F780(unsigned __int8 *a1, unsigned __int8 a2, unsigned __int8 a3, unsigned __int8 a4, int a5)
{
  unsigned __int8 v5; // dl@1
  int result; // eax@1

  v5 = *a1;
  result = -4;
  if ( a5 && a5 != 1 || (v5 >= a2 ? (result = a3 < v5 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
    goto LABEL_10;
  }
  if ( result )
  {
LABEL_10:
    *a1 = a4;
    result = 1;
  }
  return result;
}

//----- (1004F7D0) --------------------------------------------------------
int __cdecl sub_1004F7D0(_BYTE *a1, unsigned __int16 a2, unsigned __int16 a3, __int16 a4, int a5)
{
  _BYTE *v5; // edx@1
  int v6; // esi@1
  int result; // eax@1
  char v8; // ah@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 1;
  result = -4;
  if ( (unsigned __int8)a1 & 1 || (unsigned int)&a1 & 1 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
  }
  else
  {
    a1 = (_BYTE *)*(_WORD *)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned __int16)a1 >= a2 ? (result = a3 < (unsigned __int16)a1 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 1 || v6 )
  {
    v8 = HIBYTE(a4);
    *v5 = a4;
    v5[1] = v8;
    result = 1;
  }
  else
  {
    *(_WORD *)v5 = a4;
    result = 1;
  }
  return result;
}

//----- (1004F870) --------------------------------------------------------
int __cdecl sub_1004F870(_BYTE *a1, unsigned int a2, unsigned int a3, unsigned int a4, int a5)
{
  _BYTE *v5; // ecx@1
  int v6; // edi@1
  int result; // eax@1
  _BYTE *v8; // esi@3
  unsigned int v9; // eax@17

  v5 = a1;
  v6 = (unsigned __int8)a1 & 3;
  result = -4;
  if ( (unsigned __int8)a1 & 3 || (unsigned int)&a1 & 3 )
  {
    LOBYTE(a1) = *a1;
    BYTE1(a1) = v5[1];
    BYTE2(a1) = v5[2];
    BYTE3(a1) = v5[3];
    v8 = a1;
  }
  else
  {
    v8 = *(_BYTE **)a1;
  }
  if ( a5 && a5 != 1
    || ((unsigned int)v8 >= a2 ? (result = a3 < (unsigned int)v8 ? 0xFFFFFFFE : 0) : (result = -1), a5 != 1) )
  {
    if ( a5 != 2 )
      return result;
  }
  else if ( !result )
  {
    return result;
  }
  if ( (unsigned int)&a4 & 3 || v6 )
  {
    v9 = a4;
    v5[1] = BYTE1(a4);
    *v5 = v9;
    v5[3] = BYTE3(v9);
    v5[2] = v9 >> 16;
    result = 1;
  }
  else
  {
    result = 1;
    *(_DWORD *)v5 = a4;
  }
  return result;
}

//----- (1004F920) --------------------------------------------------------
int __cdecl sub_1004F920(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_1004F780(a1, 0, 0x1Eu, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (1004F950) --------------------------------------------------------
int __cdecl sub_1004F950(unsigned __int8 *a1, int a2)
{
  int result; // eax@1

  result = sub_1004F780(a1, 0, 9u, 9u, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (1004F980) --------------------------------------------------------
int __cdecl sub_1004F980(_BYTE *a1, int a2)
{
  int result; // eax@1

  result = sub_1004F7D0(a1, 0, 0x80u, 0, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (1004F9B0) --------------------------------------------------------
int sub_1004F9B0()
{
  int result; // eax@1

  sub_10017B80(6361, (int)&unk_10141E10, 4);
  result = sub_10017B80(6362, (int)&unk_10141E14, 4);
  dword_10141E18 = 1379255385;
  return result;
}
// 10141E18: using guessed type int dword_10141E18;

//----- (1004F9E0) --------------------------------------------------------
char __cdecl sub_1004F9E0(char a1)
{
  char result; // al@1

  result = sub_100556D0();
  if ( result == 2 )
    result = byte_100AA33C[8 * sub_1004D960(&a1, 4u, (int)&unk_100AA338, 8, 7, 7)];
  return result;
}

//----- (1004FA10) --------------------------------------------------------
char __thiscall sub_1004FA10(void *this)
{
  char v1; // al@1

  v1 = sub_1004E1E0(this);
  return sub_1004F9E0(v1);
}

//----- (1004FA70) --------------------------------------------------------
char __cdecl sub_1004FA70(char a1)
{
  char result; // al@1

  result = -80;
  switch ( a1 )
  {
    case 3:
      result = -126;
      break;
    case 4:
      result = -123;
      break;
    case 5:
      result = -108;
      break;
    case 6:
      result = -105;
      break;
    default:
      return result;
  }
  return result;
}

//----- (1004FAB0) --------------------------------------------------------
char __cdecl sub_1004FAB0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 74;
      break;
    case 1:
      result = 73;
      break;
    case 2:
      result = 75;
      break;
    case 3:
      result = -127;
      break;
    case 4:
      result = -124;
      break;
    case 5:
      result = -109;
      break;
    case 6:
      result = -106;
      break;
    default:
      sub_100175E0("..\\lib\\adl\\iop_cdu_unit_intf.c", 564, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (1004FB20) --------------------------------------------------------
signed int __cdecl sub_1004FB20(char a1)
{
  signed int result; // eax@2

  switch ( a1 )
  {
    case 0:
      result = 4;
      break;
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 3:
      result = 64;
      break;
    case 4:
      result = 128;
      break;
    case 5:
      result = 16;
      break;
    case 6:
      result = 32;
      break;
    default:
      sub_100175E0("..\\lib\\adl\\iop_cdu_unit_intf.c", 638, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (1004FBA0) --------------------------------------------------------
char __cdecl sub_1004FBA0(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0:
      result = 13;
      break;
    case 1:
      result = 12;
      break;
    case 2:
      result = 14;
      break;
    case 3:
      result = -128;
      break;
    case 4:
      result = -125;
      break;
    case 5:
      result = -110;
      break;
    case 6:
      result = -107;
      break;
    default:
      sub_100175E0("..\\lib\\adl\\iop_cdu_unit_intf.c", 712, 0, 0);
      result = -80;
      break;
  }
  return result;
}

//----- (1004FC10) --------------------------------------------------------
char __cdecl sub_1004FC10(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 3:
      result = 0;
      break;
    case 4:
      result = 1;
      break;
    case 5:
      result = 2;
      break;
    case 0x28:
      result = 3;
      break;
    case 0x29:
      result = 4;
      break;
    case 0x33:
      result = 5;
      break;
    case 0x34:
      result = 6;
      break;
    default:
      sub_100175E0("..\\lib\\adl\\iop_cdu_unit_intf.c", 786, 0, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (1004FCC0) --------------------------------------------------------
char __cdecl sub_1004FCC0(int a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 1:
      result = 1;
      break;
    case 2:
      result = 2;
      break;
    case 4:
      result = 0;
      break;
    case 64:
      result = 3;
      break;
    case 128:
      result = 4;
      break;
    case 16:
      result = 5;
      break;
    case 32:
      result = 6;
      break;
    default:
      sub_100175E0("..\\lib\\adl\\iop_cdu_unit_intf.c", 1096, 1, 0);
      result = 7;
      break;
  }
  return result;
}

//----- (1004FDC0) --------------------------------------------------------
char __thiscall sub_1004FDC0(void *this)
{
  int v1; // eax@1

  v1 = sub_1004E1E0(this);
  return sub_1004FCC0(v1);
}

//----- (1004FDD0) --------------------------------------------------------
char __cdecl sub_1004FDD0(char a1, void *a2)
{
  int v2; // eax@2
  char result; // al@11
  char *v4; // eax@12
  signed int v5; // ecx@12

  switch ( a1 )
  {
    case 0:
      v2 = 247;
      break;
    case 2:
      v2 = 248;
      break;
    case 3:
      v2 = 1732;
      break;
    case 4:
      v2 = 1733;
      break;
    case 5:
      v2 = 2279;
      break;
    case 6:
      v2 = 2280;
      break;
    default:
      v2 = 246;
      break;
  }
  if ( !sub_1004EFA0(1, v2, a2) || sub_10050E80((int)a2) )
  {
    memset(a2, 0, 0xCCCu);
    v4 = (char *)a2 + 26;
    v5 = 14;
    do
    {
      *v4 = 15;
      v4 += 232;
      --v5;
    }
    while ( v5 );
    result = 0;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (1004FE80) --------------------------------------------------------
unsigned int __cdecl sub_1004FE80(char *a1)
{
  return sub_1004F570(a1, -100, 100, 0, 0);
}

//----- (1004FEA0) --------------------------------------------------------
int __cdecl sub_1004FEA0(_BYTE *a1)
{
  return sub_1004F870(a1, 0x1CCF0u, 0x2171Eu, 0x2171Eu, 0);
}

//----- (1004FEC0) --------------------------------------------------------
int __cdecl sub_1004FEC0(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 1u, 1u, 0);
}

//----- (1004FEE0) --------------------------------------------------------
unsigned int __cdecl sub_1004FEE0(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_1004F430((_BYTE *)(a1 + 6), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  if ( sub_1004F780((unsigned __int8 *)(a1 + 12), 0, 0xFFu, 0, a2) == 1 )
    v2 = 1;
  result = sub_1004F430((_BYTE *)a1, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 2), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 9), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 3), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 14), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F780((unsigned __int8 *)(a1 + 7), 0, 0x40u, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 10), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 5), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 11), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F780((unsigned __int8 *)(a1 + 4), 0, 0x40u, 0x30u, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 13), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 1), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 17), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 24), 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10050210) --------------------------------------------------------
unsigned int __cdecl sub_10050210(int a1, int a2)
{
  signed int v2; // ebx@1
  unsigned int result; // eax@1

  v2 = 0;
  result = sub_1004F430((_BYTE *)(a1 + 21), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 24), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 26), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 10), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 30), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 31), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 27), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 29), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 28), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 18), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 17), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 8), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 23), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 22), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 13), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 5), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)a1, -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 1), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 2), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 3), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 4), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 15), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 16), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 12), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 14), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 11), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 7), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 20), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 19), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 9), -31, 31, 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F430((_BYTE *)(a1 + 25), 0, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F570((char *)(a1 + 6), -31, 31, 0, a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10050650) --------------------------------------------------------
unsigned int __cdecl sub_10050650(_BYTE *a1)
{
  return sub_1004F660(a1, -1, 5, -1, 0);
}

//----- (10050670) --------------------------------------------------------
int __cdecl sub_10050670(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 5u, 0, 0);
}

//----- (10050690) --------------------------------------------------------
int __cdecl sub_10050690(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 4u, 2u, 0);
}

//----- (100506B0) --------------------------------------------------------
int __cdecl sub_100506B0(_BYTE *a1)
{
  return sub_1004F870(a1, 0, 2u, 0, 0);
}

//----- (100506D0) --------------------------------------------------------
int __cdecl sub_100506D0(int a1)
{
  return sub_1004F480(a1, 0.1, 4.0, COERCE_INT(1.5), 0);
}

//----- (10050720) --------------------------------------------------------
int __cdecl sub_10050720(unsigned __int8 *a1)
{
  int result; // eax@1

  result = sub_100506D0((int)(a1 + 4));
  if ( !result )
    result = sub_10050690(a1);
  return result;
}

//----- (10050740) --------------------------------------------------------
int __cdecl sub_10050740(int a1)
{
  int result; // eax@1

  result = sub_10050670((unsigned __int8 *)(a1 + 1));
  if ( !result )
  {
    result = sub_10050670((unsigned __int8 *)(a1 + 2));
    if ( !result )
    {
      result = sub_10050670((unsigned __int8 *)(a1 + 3));
      if ( !result )
      {
        result = sub_10055490((unsigned __int8 *)(a1 + 7));
        if ( !result )
        {
          result = sub_1004F430((_BYTE *)(a1 + 5), 0, 0);
          if ( !result )
          {
            result = sub_1004F430((_BYTE *)a1, 0, 0);
            if ( !result )
            {
              result = sub_1004F430((_BYTE *)(a1 + 4), 0, 0);
              if ( !result )
                result = sub_1004F430((_BYTE *)(a1 + 6), 0, 0);
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (100507D0) --------------------------------------------------------
unsigned int __cdecl sub_100507D0(int a1)
{
  unsigned int result; // eax@1

  result = sub_10050650((_BYTE *)a1);
  if ( !result )
    result = sub_10050650((_BYTE *)(a1 + 4));
  return result;
}

//----- (100507F0) --------------------------------------------------------
signed int __cdecl sub_100507F0(int a1)
{
  int v1; // esi@1
  signed int result; // eax@2
  signed int v3; // esi@4

  v1 = 0;
  while ( 1 )
  {
    result = sub_1004F430((_BYTE *)(v1 + a1), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      v3 = 0;
      do
      {
        result = sub_1004F430((_BYTE *)(a1 + v3 + 6), 0, 0);
        if ( result )
          break;
        ++v3;
      }
      while ( v3 < 6 );
      return result;
    }
  }
  return result;
}

//----- (10050840) --------------------------------------------------------
unsigned int __cdecl sub_10050840(int a1)
{
  unsigned int result; // eax@1

  result = sub_10050650((_BYTE *)a1);
  if ( !result )
  {
    result = sub_10050650((_BYTE *)(a1 + 4));
    if ( !result )
    {
      result = sub_10050650((_BYTE *)(a1 + 8));
      if ( !result )
      {
        result = sub_10050650((_BYTE *)(a1 + 12));
        if ( !result )
          result = sub_1004F430((_BYTE *)(a1 + 16), 1, 0);
      }
    }
  }
  return result;
}

//----- (100508A0) --------------------------------------------------------
int __cdecl sub_100508A0(_BYTE *a1)
{
  return sub_1004F870(a1, 0, 0x20u, 2u, 0);
}

//----- (100508C0) --------------------------------------------------------
unsigned int __cdecl sub_100508C0(_BYTE *a1)
{
  return sub_1004F660(a1, -1, 4, -1, 0);
}

//----- (100508E0) --------------------------------------------------------
int __cdecl sub_100508E0(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 9u, 0, 0);
}

//----- (10050900) --------------------------------------------------------
int __cdecl sub_10050900(_BYTE *a1)
{
  return sub_1004F870(a1, 0x81u, 0xFFu, 0xC0u, 0);
}

//----- (10050920) --------------------------------------------------------
signed int __cdecl sub_10050920(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_1004F870(a1, 0, 0xFFFFFFFF, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10050950) --------------------------------------------------------
int __cdecl sub_10050950(_BYTE *a1, int a2)
{
  int result; // eax@1

  result = sub_1004F7D0(a1, 0, 0xFFFu, 640, a2);
  if ( result != 1 && !result )
    result = 0;
  return result;
}

//----- (10050990) --------------------------------------------------------
signed int __cdecl sub_10050990(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_1004F7D0(a1, 0, 0xFFFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (100509C0) --------------------------------------------------------
int __cdecl sub_100509C0(int a1, int a2)
{
  signed int v2; // ebx@1
  int result; // eax@3

  v2 = 0;
  if ( sub_10050920((_BYTE *)(a1 + 8), a2) == 1 )
    v2 = 1;
  result = sub_10050950((_BYTE *)(a1 + 2), a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10050950((_BYTE *)(a1 + 4), a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_1004F180((unsigned __int8 *)a1, a2);
  if ( result == 1 )
  {
    v2 = 1;
  }
  else if ( result )
  {
    return result;
  }
  result = sub_10050950((_BYTE *)(a1 + 6), a2);
  if ( result != 1 && !result )
    result = v2;
  return result;
}

//----- (10050A50) --------------------------------------------------------
int __cdecl sub_10050A50(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 2u, 0, 0);
}

//----- (10050A70) --------------------------------------------------------
int __cdecl sub_10050A70(int a1)
{
  int result; // eax@1

  result = sub_1004F780((unsigned __int8 *)a1, 0, 0x78u, 0, 0);
  if ( !result )
    result = sub_1004F780((unsigned __int8 *)(a1 + 1), 0, 0x78u, 0, 0);
  return result;
}

//----- (10050AA0) --------------------------------------------------------
int __cdecl sub_10050AA0(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 3u, 1u, 0);
}

//----- (10050AC0) --------------------------------------------------------
unsigned int __cdecl sub_10050AC0(int a1)
{
  unsigned int result; // eax@1

  result = sub_1004F660((_BYTE *)a1, -1, 5, -1, 0);
  if ( !result )
    result = sub_1004F660((_BYTE *)(a1 + 4), -1, 5, -1, 0);
  return result;
}

//----- (10050AF0) --------------------------------------------------------
int __cdecl sub_10050AF0(int a1)
{
  int result; // eax@1

  result = sub_1004F480(a1, 0.0, 5.0, COERCE_INT(0.23), 0);
  if ( !result )
  {
    result = sub_1004F480(a1 + 4, -10.0, 10.0, COERCE_INT(0.0), 0);
    if ( !result )
    {
      result = sub_1004F480(a1 + 8, 0.0, 12.9, COERCE_INT(0.86000001), 0);
      if ( !result )
      {
        result = sub_1004F480(a1 + 12, 0.0, 5.0, COERCE_INT(0.23), 0);
        if ( !result )
          result = sub_1004F480(a1 + 16, -10.0, 10.0, COERCE_INT(0.0), 0);
      }
    }
  }
  return result;
}

//----- (10050BE0) --------------------------------------------------------
int __cdecl sub_10050BE0(int a1)
{
  int v1; // edi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_1004F430((_BYTE *)(a1 + v1 + 44), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 6 )
    {
      result = sub_1004F780((unsigned __int8 *)(a1 + 1), 0, 3u, 1u, 0);
      if ( !result )
      {
        result = sub_10050AC0(a1 + 36);
        if ( !result )
        {
          result = sub_1004F480(a1 + 52, -9.9999996e24, 9.9999996e24, COERCE_INT(77.166664), 0);
          if ( !result )
          {
            result = sub_10050AF0(a1 + 8);
            if ( !result )
            {
              result = sub_10050AC0(a1 + 28);
              if ( !result )
              {
                result = sub_1004F7D0((_BYTE *)(a1 + 2), 0x1F4u, 0x800u, 600, 0);
                if ( !result )
                {
                  result = sub_10050A50((unsigned __int8 *)(a1 + 50));
                  if ( !result )
                  {
                    result = sub_10050A70(a1 + 57);
                    if ( !result )
                    {
                      result = sub_1004F430((_BYTE *)(a1 + 56), 0, 0);
                      if ( !result )
                        result = sub_10050AA0((unsigned __int8 *)(a1 + 51));
                    }
                  }
                }
              }
            }
          }
        }
      }
      return result;
    }
  }
  return result;
}

//----- (10050CF0) --------------------------------------------------------
signed int __cdecl sub_10050CF0(unsigned __int8 *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_1004F780(a1, 0, 0xFFu, 0, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10050D20) --------------------------------------------------------
int __cdecl sub_10050D20(int a1)
{
  int v1; // edi@1
  signed int v2; // esi@1
  int result; // eax@2

  v1 = a1;
  v2 = 0;
  do
  {
    result = sub_100543C0(v1);
    if ( result )
      break;
    ++v2;
    v1 += 232;
  }
  while ( v2 < 14 );
  return result;
}

//----- (10050D50) --------------------------------------------------------
int __cdecl sub_10050D50(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 0x64u, 0x64u, 0);
}

//----- (10050DB0) --------------------------------------------------------
int __cdecl sub_10050DB0(int a1)
{
  int v1; // esi@1
  int result; // eax@2

  v1 = 0;
  while ( 1 )
  {
    result = sub_1004F430((_BYTE *)(v1 + a1 + 4), 0, 0);
    if ( result )
      break;
    if ( ++v1 >= 3 )
      return sub_10050D50((unsigned __int8 *)(a1 + 10));
  }
  return result;
}

//----- (10050DC0) --------------------------------------------------------
signed int __cdecl sub_10050DC0(_BYTE *a1, int a2)
{
  bool v2; // zf@1
  signed int result; // eax@1

  v2 = sub_1004F870(a1, 0, 0xFFFFFFFF, 0xFFFFFFFF, a2) == 1;
  result = 1;
  if ( !v2 )
    result = 0;
  return result;
}

//----- (10050DF0) --------------------------------------------------------
int __cdecl sub_10050DF0(int a1, int a2)
{
  signed int v2; // ebp@1
  unsigned __int8 v3; // bl@1
  int result; // eax@3

  v2 = 0;
  v3 = 0;
  do
  {
    switch ( v3 )
    {
      case 4u:
      case 5u:
      case 6u:
      case 9u:
      case 0xAu:
        result = sub_1004F780((unsigned __int8 *)(a1 + v3), 0, 0x3Fu, 0, a2);
        break;
      default:
        result = sub_1004F780((unsigned __int8 *)(a1 + v3), 0, 0xFFu, 0xFFu, a2);
        break;
    }
    if ( result == 1 )
    {
      v2 = 1;
    }
    else if ( result )
    {
      return result;
    }
    ++v3;
  }
  while ( v3 < 0xDu );
  return v2;
}

//----- (10050E80) --------------------------------------------------------
int __cdecl sub_10050E80(int a1)
{
  int result; // eax@1

  result = sub_100542D0((_BYTE *)(a1 + 3272));
  if ( !result )
  {
    result = sub_100542D0((_BYTE *)(a1 + 3274));
    if ( !result )
    {
      result = sub_1004F1B0((unsigned __int8 *)(a1 + 14));
      if ( !result )
      {
        result = sub_10050E70(a1 + 24);
        if ( !result )
        {
          result = sub_1004F1B0((unsigned __int8 *)(a1 + 15));
          if ( !result )
          {
            result = sub_1004F160((unsigned __int8 *)(a1 + 12));
            if ( !result )
              result = sub_1004F1B0((unsigned __int8 *)(a1 + 13));
          }
        }
      }
    }
  }
  return result;
}
// 10050E70: using guessed type _DWORD __cdecl sub_10050E70(_DWORD);

//----- (10050F00) --------------------------------------------------------
unsigned int __cdecl sub_10050F00(int a1)
{
  unsigned int result; // eax@1

  result = sub_1004FE80((char *)(a1 + 3));
  if ( !result )
  {
    result = sub_1004FE80((char *)(a1 + 2));
    if ( !result )
    {
      result = sub_1004FE80((char *)a1);
      if ( !result )
        result = sub_1004FE80((char *)(a1 + 1));
    }
  }
  return result;
}

//----- (10050F40) --------------------------------------------------------
unsigned int __cdecl sub_10050F40(int a1)
{
  signed int v1; // esi@1
  int v2; // edi@1
  unsigned int result; // eax@2

  v1 = 0;
  v2 = a1;
  while ( 1 )
  {
    result = sub_10050F00(v2);
    if ( result )
      break;
    ++v1;
    v2 += 4;
    if ( v1 >= 3 )
    {
      result = sub_10050A50((unsigned __int8 *)(a1 + 12));
      if ( !result )
        result = sub_1004FEC0((unsigned __int8 *)(a1 + 13));
      return result;
    }
  }
  return result;
}

//----- (10050F90) --------------------------------------------------------
int __cdecl sub_10050F90(int a1)
{
  int result; // eax@1

  result = sub_1004FEA0((_BYTE *)(a1 + 4));
  if ( !result )
    result = sub_1004F7D0((_BYTE *)a1, 0, 0x3FFFu, 0x3FFF, 0);
  return result;
}

//----- (10050FC0) --------------------------------------------------------
int __cdecl sub_10050FC0(int a1)
{
  int result; // eax@1

  result = sub_100506B0((_BYTE *)a1);
  if ( !result )
    result = sub_10050900((_BYTE *)(a1 + 4));
  return result;
}

//----- (10050FF0) --------------------------------------------------------
unsigned int __cdecl sub_10050FF0(int a1)
{
  unsigned int result; // eax@1

  result = sub_10050650((_BYTE *)a1);
  if ( !result )
  {
    result = sub_10050650((_BYTE *)(a1 + 4));
    if ( !result )
      result = sub_100508C0((_BYTE *)(a1 + 8));
  }
  return result;
}

//----- (10051020) --------------------------------------------------------
unsigned int __cdecl sub_10051020(int a1)
{
  unsigned int result; // eax@1

  result = sub_10050650((_BYTE *)a1);
  if ( !result )
    result = sub_100508E0((unsigned __int8 *)(a1 + 4));
  return result;
}

//----- (10051040) --------------------------------------------------------
unsigned int __cdecl sub_10051040(int a1)
{
  unsigned int result; // eax@1

  result = sub_10050650((_BYTE *)a1);
  if ( !result )
  {
    result = sub_1004F780((unsigned __int8 *)(a1 + 8), 0, 0x1Eu, 0x1Eu, 0);
    if ( !result )
      result = sub_100508C0((_BYTE *)(a1 + 4));
  }
  return result;
}

//----- (10051080) --------------------------------------------------------
void __cdecl __noreturn sub_10051080(int a1)
{
  exit(a1 + 4);
}

//----- (100511F0) --------------------------------------------------------
signed int __cdecl sub_100511F0(int a1, int a2)
{
  signed int v2; // ebx@1
  bool v3; // zf@5
  signed int result; // eax@5

  v2 = 0;
  if ( sub_10050CF0((unsigned __int8 *)a1, a2) == 1 )
    v2 = 1;
  if ( sub_10050990((_BYTE *)(a1 + 2), a2) == 1 )
    v2 = 1;
  v3 = sub_10050CF0((unsigned __int8 *)(a1 + 1), a2) == 1;
  result = 1;
  if ( !v3 )
    result = v2;
  return result;
}

//----- (10051250) --------------------------------------------------------
signed int __usercall sub_10051250@<eax>(int a1@<eax>, int a2@<edi>)
{
  int v2; // esi@1
  signed int v3; // ebx@1
  char v4; // al@5
  signed int result; // eax@8
  int v6; // [sp+0h] [bp-Ch]@0

  v2 = a1;
  v3 = 0;
  if ( sub_100511F0(a1, v6) == 1 )
    v3 = 1;
  if ( a2 == 2 )
  {
    *(_BYTE *)(v2 + 1) = 40;
    v3 = 1;
  }
  v4 = *(_BYTE *)(v2 + 1);
  if ( v4 == 26 || v4 == 12 )
  {
    result = sub_1004F780((unsigned __int8 *)(v2 + 4), 0x20u, 0x20u, 0x20u, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    result = sub_1004F430((_BYTE *)(v2 + 37), 0, a2);
    if ( result == 1 )
    {
      v3 = 1;
    }
    else if ( result )
    {
      return result;
    }
    if ( *(_BYTE *)(v2 + 1) == 26 )
      result = sub_10050210(v2 + 5, a2);
    else
      result = sub_1004FEE0(v2 + 5, a2);
    if ( result != 1 )
    {
      if ( result )
        return result;
      goto LABEL_25;
    }
    return 1;
  }
  if ( v4 != 40 )
  {
    if ( a2 != 1 )
      return -4;
    *(_BYTE *)(v2 + 1) = 40;
    return 1;
  }
  result = sub_10050DC0((_BYTE *)(v2 + 4), a2);
  if ( result != 1 )
LABEL_25:
    result = v3;
  return result;
}

//----- (10051320) --------------------------------------------------------
signed int __cdecl sub_10051320(int a1)
{
  return sub_10051250(a1, 0);
}

//----- (10051330) --------------------------------------------------------
char __cdecl sub_10051330(char a1)
{
  char result; // al@3

  if ( a1 == 6 )
  {
    result = 0;
  }
  else if ( a1 == 7 )
  {
    result = 1;
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\iop\\gia\\iop_gia_data_intf.c", 294, 0, 0);
    result = 2;
  }
  return result;
}

//----- (10051370) --------------------------------------------------------
int __cdecl sub_10051370(char *a1, char a2)
{
  signed int v2; // eax@2
  int result; // eax@4
  int v4; // [sp+8h] [bp-ECh]@1
  char v5; // [sp+24h] [bp-D0h]@4

  v4 = 0;
  if ( a2 == 1 )
    v2 = 2;
  else
    v2 = a2 == 2;
  result = j_HWM_pvg_rgn_get_info(v2, &v4);
  qmemcpy(a1, &v5, 0x74u);
  return result;
}
// 10018290: using guessed type int __cdecl j_HWM_pvg_rgn_get_info(_DWORD, _DWORD);

//----- (100513E0) --------------------------------------------------------
bool __cdecl sub_100513E0(int a1, void *a2)
{
  void *v2; // ecx@0
  char v3; // si@1
  char v4; // bl@1
  int v5; // esi@4
  bool result; // al@7

  v3 = sub_1004FDC0(v2);
  v4 = 0;
  do
  {
    if ( (_BYTE)a1 == (char)off_100AFB28[(unsigned __int8)v4](v3) )
    {
      sub_10051370((char *)a2, v4);
      return 1;
    }
    ++v4;
  }
  while ( (unsigned __int8)v4 < 3u );
  v5 = (unsigned __int16)sub_10055790(a1);
  if ( (unsigned __int16)v5 >= (unsigned __int16)sub_1004E460(2) )
    result = 0;
  else
    result = sub_1004EFA0(2, v5, a2) == 1 && !sub_10055670(a2);
  return result;
}
// 100AFB28: using guessed type int (__cdecl *off_100AFB28[3])(char);

//----- (100514A0) --------------------------------------------------------
char __cdecl sub_100514A0(int a1, bool *a2)
{
  char result; // al@3
  char v3; // [sp+8h] [bp-78h]@2
  int v4; // [sp+78h] [bp-8h]@3

  switch ( (unsigned __int8)a1 )
  {
    case 1u:
    case 4u:
    case 7u:
    case 0xAu:
      if ( sub_100513E0(a1, &v3) )
      {
        *a2 = (v4 & 1) == 1;
        result = 1;
      }
      else
      {
        result = 0;
      }
      break;
    default:
      *a2 = sub_10055770(a1) != 67;
      result = 1;
      break;
  }
  return result;
}

//----- (10051560) --------------------------------------------------------
char __thiscall sub_10051560(void *this)
{
  char v1; // di@1
  void *v2; // esi@1
  char v3; // di@3
  void *v4; // esi@3
  char result; // al@4

  dword_10142098 = sub_1004AE10(this) != 2 ? 1379255385 : 1916032632;
  memset(&unk_101420A0, 0, 0x1540u);
  memset(&unk_101435E0, 0, 0x19B0u);
  v1 = 0;
  v2 = &unk_101420A0;
  do
  {
    sub_10055C00(v1, (int)v2);
    v2 = (char *)v2 + 2720;
    ++v1;
  }
  while ( (signed int)v2 < (signed int)&unk_101435E0 );
  v3 = 0;
  v4 = &unk_101435E0;
  do
  {
    result = sub_10055C80(v3, (int)v4);
    v4 = (char *)v4 + 2192;
    ++v3;
  }
  while ( (signed int)v4 < (signed int)&dword_10144F90 );
  return result;
}
// 10142098: using guessed type int dword_10142098;
// 10144F90: using guessed type int dword_10144F90;

//----- (100515F0) --------------------------------------------------------
char __cdecl sub_100515F0(char a1)
{
  char v1; // bl@1
  unsigned __int8 v2; // al@3
  char v4; // [sp+4h] [bp-20h]@1
  char v5; // [sp+8h] [bp-1Ch]@3
  char v6[19]; // [sp+Dh] [bp-17h]@5

  v1 = 0;
  v4 = 0;
  do
  {
    if ( v1 )
      break;
    sub_10055BE0(v4, (int)&v5);
    v2 = 0;
    do
    {
      if ( v1 )
        break;
      if ( v6[4 * v2] == a1 )
        v1 = 1;
      ++v2;
    }
    while ( v2 <= 1u );
    ++v4;
  }
  while ( (unsigned __int8)v4 < 3u );
  return v1;
}
// 100515F0: using guessed type char var_17[19];

//----- (10051660) --------------------------------------------------------
char __cdecl sub_10051660(int a1, char a2)
{
  bool v2; // dl@1
  char result; // al@2
  int v4; // edi@4
  unsigned __int8 v5; // cl@6
  int v6; // eax@7
  char v7; // [sp+6h] [bp-2h]@1
  bool v8; // [sp+7h] [bp-1h]@1

  v2 = dword_10142098 != 1379255385;
  v7 = 0;
  v8 = dword_10142098 != 1379255385;
  if ( (unsigned __int8)a1 < 2u )
  {
    if ( v2 )
    {
      v4 = sub_10017A10(86, 10);
      memset((char *)&unk_101420A0 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
      sub_10055C00(a1, (int)&unk_101420A0 + 2720 * (unsigned __int8)a1);
      v2 = v8;
    }
    else
    {
      v4 = a1;
    }
    v5 = 0;
    while ( 1 )
    {
      v6 = 4 * (680 * (unsigned __int8)a1 + v5);
      if ( byte_10142378[v6] == a2 || byte_10142379[v6] == a2 )
        break;
      if ( ++v5 >= 8u )
        goto LABEL_12;
    }
    v7 = 1;
LABEL_12:
    if ( v2 )
      sub_100179E0(v4, 86);
    result = v7;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10142098: using guessed type int dword_10142098;

//----- (10051720) --------------------------------------------------------
char __cdecl sub_10051720(char a1)
{
  char result; // al@1
  int v2; // esi@1

  result = 0;
  v2 = 0;
  do
  {
    if ( result )
      break;
    result = sub_10051660(v2++, a1);
  }
  while ( v2 < 2 );
  return result;
}

//----- (10051750) --------------------------------------------------------
int __cdecl sub_10051750(int a1)
{
  int result; // eax@1

  result = a1;
  dword_10144F90 = *(_DWORD *)a1;
  dword_10144F94 = *(_DWORD *)(a1 + 4);
  dword_10144F98 = *(_DWORD *)(a1 + 8);
  dword_10144F9C = *(_DWORD *)(a1 + 12);
  dword_10504EC8 = (int)&dword_10144F90;
  return result;
}
// 10144F90: using guessed type int dword_10144F90;
// 10144F94: using guessed type int dword_10144F94;
// 10144F98: using guessed type int dword_10144F98;
// 10144F9C: using guessed type int dword_10144F9C;
// 10504EC8: using guessed type int dword_10504EC8;

//----- (10051790) --------------------------------------------------------
char __cdecl sub_10051790(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  int v4; // ecx@2
  int v5; // [sp+0h] [bp-Ch]@1
  __int16 v6; // [sp+4h] [bp-8h]@2
  int v7; // [sp+8h] [bp-4h]@2

  result = (*(int (__cdecl **)(int, signed int, int *))dword_10504EB4)(a1, 12, &v5);
  if ( result )
  {
    v3 = v6;
    *(_DWORD *)a2 = v5;
    v4 = v7 & 0xFFFFFF;
    *(_WORD *)(a2 + 4) = v3;
    *(_DWORD *)(a2 + 8) = v4;
    result = 1;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100517E0) --------------------------------------------------------
char __cdecl sub_100517E0(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  __int16 v4; // cx@2
  __int16 v5; // dx@2
  __int16 v6; // cx@2
  int v7; // edx@2
  __int16 v8; // cx@2
  unsigned int v9; // ecx@2
  int v10; // edx@2
  __int16 v11; // [sp+0h] [bp-1Ch]@1
  __int16 v12; // [sp+2h] [bp-1Ah]@2
  __int16 v13; // [sp+4h] [bp-18h]@2
  __int16 v14; // [sp+6h] [bp-16h]@2
  __int16 v15; // [sp+8h] [bp-14h]@2
  int v16; // [sp+Ah] [bp-12h]@2
  __int16 v17; // [sp+Eh] [bp-Eh]@2
  int v18; // [sp+12h] [bp-Ah]@2
  unsigned int v19; // [sp+16h] [bp-6h]@2
  char v20; // [sp+1Ah] [bp-2h]@2

  result = (*(int (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(a1, 27, &v11);
  if ( result )
  {
    v3 = v12;
    *(_WORD *)a2 = v11;
    v4 = v13;
    *(_WORD *)(a2 + 2) = v3;
    v5 = v14;
    *(_WORD *)(a2 + 4) = v4;
    v6 = v15;
    *(_WORD *)(a2 + 6) = v5;
    *(_DWORD *)(a2 + 12) = v16;
    v7 = v18;
    *(_WORD *)(a2 + 8) = v6;
    v8 = v17;
    *(_DWORD *)(a2 + 20) = v7;
    *(_WORD *)(a2 + 16) = v8;
    v9 = v19;
    *(_DWORD *)(a2 + 24) = v19 & 3;
    *(_DWORD *)(a2 + 28) = (v9 >> 2) & 1;
    v10 = (v9 >> 3) & 3;
    *(_DWORD *)(a2 + 36) = (v9 >> 5) & 1;
    LOBYTE(v9) = v20;
    *(_DWORD *)(a2 + 32) = v10;
    *(_BYTE *)(a2 + 40) = ((unsigned __int8)v9 >> 3) & 7;
    *(_BYTE *)(a2 + 41) = (unsigned __int8)v9 >> 6;
    result = 1;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (10051890) --------------------------------------------------------
char __cdecl sub_10051890(int a1, int a2)
{
  char result; // al@1
  char v3; // ah^2@2
  __int16 v4; // dx@2
  __int16 v5; // dx@2
  int v6; // [sp+0h] [bp-8h]@1
  unsigned int v7; // [sp+4h] [bp-4h]@2

  result = (*(int (__cdecl **)(int, signed int, int *))dword_10504EB4)(a1, 8, &v6);
  if ( result )
  {
    v3 = BYTE3(v6);
    *(_DWORD *)a2 = v6 & 0xFFFFFF;
    LOBYTE(v4) = 0;
    HIBYTE(v4) = v3;
    v5 = (unsigned __int8)v7 ^ v4;
    *(_DWORD *)(a2 + 8) = v7 >> 8;
    *(_WORD *)(a2 + 4) = v5;
    result = 1;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100518F0) --------------------------------------------------------
char __cdecl sub_100518F0(int a1, int a2)
{
  char result; // al@1
  __int16 v3; // dx@2
  int v4; // esi@2
  unsigned int v5; // ecx@2
  __int16 v6; // [sp+0h] [bp-14h]@1
  __int16 v7; // [sp+2h] [bp-12h]@2
  __int16 v8; // [sp+4h] [bp-10h]@2
  __int16 v9; // [sp+6h] [bp-Eh]@2
  __int16 v10; // [sp+8h] [bp-Ch]@2
  unsigned __int16 v11; // [sp+Ah] [bp-Ah]@2
  int v12; // [sp+Ch] [bp-8h]@2
  char v13; // [sp+12h] [bp-2h]@2

  result = (*(int (__cdecl **)(int, signed int, __int16 *))dword_10504EB4)(a1, 19, &v6);
  if ( result )
  {
    v3 = v7;
    *(_WORD *)a2 = v6;
    *(_WORD *)(a2 + 4) = v8;
    *(_WORD *)(a2 + 8) = v10;
    *(_WORD *)(a2 + 2) = v3;
    v4 = v11;
    *(_WORD *)(a2 + 6) = v9;
    LOBYTE(v3) = v13;
    *(_DWORD *)(a2 + 12) = v4 + ((v13 & 7) << 16);
    *(_WORD *)(a2 + 16) = v12 & 0x3FFF;
    v5 = *(int *)((char *)&v12 + 2);
    *(_DWORD *)(a2 + 20) = *(int *)((char *)&v12 + 2) & 0xFFFFFF;
    *(_DWORD *)(a2 + 24) = (v5 >> 24) & 3;
    *(_DWORD *)(a2 + 28) = (v5 >> 26) & 1;
    *(_DWORD *)(a2 + 36) = (v5 >> 29) & 1;
    *(_DWORD *)(a2 + 32) = (v5 >> 27) & 3;
    *(_BYTE *)(a2 + 40) = ((unsigned __int8)v3 >> 3) & 7;
    *(_BYTE *)(a2 + 41) = (unsigned __int8)v3 >> 6;
    result = 1;
  }
  return result;
}
// 10504EB4: using guessed type int dword_10504EB4;

//----- (100519C0) --------------------------------------------------------
signed int sub_100519C0()
{
  return sub_10018100((int)&off_100B0128);
}
// 100B0128: using guessed type char *off_100B0128;

//----- (100519D0) --------------------------------------------------------
char __usercall sub_100519D0@<al>(unsigned __int8 a1@<al>, char a2, void *a3)
{
  unsigned __int8 v3; // bl@1
  char result; // al@7

  v3 = a1;
  if ( (unsigned __int8)(a1 - 53) > 0xDu
    || (unsigned __int8)a2 >= 3u
    || !(unsigned __int8)sub_100519C0()
    || sub_100178A0(33, 10) )
  {
    sub_100175E0("..\\lib\\adl\\iop_data.c", 366, 0, 0);
    result = 0;
  }
  else if ( (unsigned int)(sub_10017740()
                         - *(_DWORD *)(dword_10504EC4 + 4 * (v3 - 33 + (unsigned __int8)a2 + 2 * (v3 - 33)))) <= 0x258
         && *(_BYTE *)(v3 + (unsigned __int8)a2 + 2 * v3 + dword_10504EC4 + 37) )
  {
    memcpy_0(
      a3,
      (const void *)(dword_10504EC4 + 4 * (v3 - 53 + (unsigned __int8)a2 + 2 * (v3 - 53))),
      *(_WORD *)(dword_10504EC4 + 2 * v3 + 62));
    sub_10017820(33);
    result = 1;
  }
  else
  {
    sub_10017820(33);
    result = 0;
  }
  return result;
}
// 10504EC4: using guessed type int dword_10504EC4;

//----- (10051AB0) --------------------------------------------------------
char __cdecl sub_10051AB0(int a1, char a2, void *a3)
{
  char result; // al@1
  int v4; // eax@4
  int v5; // esi@6
  int v6; // edi@7

  result = 0;
  if ( (unsigned __int8)a1 < 0x43u && (unsigned __int8)a2 < 3u )
  {
    if ( (unsigned __int8)a1 > 0x34u )
    {
      result = sub_100519D0(a1, a2, a3);
    }
    else
    {
      v4 = sub_10055E50(a1);
      if ( v4
        && (v5 = v4 + 4 * (unsigned __int8)a2, *(_BYTE *)v5 < 7)
        && (v6 = *(_WORD *)(v5 + 2), (unsigned __int16)v6 < (unsigned __int16)sub_1004E460(*(_BYTE *)v5)) )
      {
        result = sub_1004EFA0(*(_BYTE *)v5, v6, a3);
      }
      else
      {
        result = 0;
      }
    }
  }
  return result;
}
// 10055E50: using guessed type _DWORD __cdecl sub_10055E50(char);

//----- (10051B30) --------------------------------------------------------
char __cdecl sub_10051B30(_DWORD *a1)
{
  void *v1; // ecx@0
  char v2; // al@1
  char v3; // al@1
  char result; // al@3
  char v5; // [sp+7h] [bp-5h]@1
  int v6; // [sp+8h] [bp-4h]@2

  v2 = sub_1004FA10(v1);
  v5 = sub_10051C80(v2, 1);
  v3 = sub_1004D960(&v5, 1u, (int)&unk_100B01B4, 4, 3, 2);
  v5 = v3;
  if ( v3 != 2 && sub_1004EFA0(6, (unsigned __int16)word_100B01B6[2 * (unsigned __int8)v3], &v6) )
  {
    result = 1;
    *a1 = v6;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100B01B6: using guessed type __int16 word_100B01B6[];

//----- (10051BA0) --------------------------------------------------------
int __cdecl sub_10051BA0(char a1)
{
  return 9190 - (a1 != 1);
}

//----- (10051BB0) --------------------------------------------------------
int __usercall sub_10051BB0@<eax>(char *a1@<eax>, char a2@<cl>)
{
  return sub_10055E60(a2, a1);
}

//----- (10051BC0) --------------------------------------------------------
char __usercall sub_10051BC0@<al>(char a1@<bl>, char a2)
{
  int v2; // eax@1
  char result; // al@2
  char *v4; // ecx@3
  unsigned __int8 v5; // [sp+4h] [bp-8Ch]@1
  char v6; // [sp+5h] [bp-8Bh]@2
  char v7[68]; // [sp+48h] [bp-48h]@1

  memset(&v5, 0, 0x43u);
  memset(v7, 0, 0x43u);
  sub_10051BB0((char *)&v5, a2);
  v2 = sub_10051BA0(a1);
  if ( sub_10017AE0(v2, (int)v7, 67) )
  {
    result = a1 == 1;
  }
  else
  {
    result = v7[v5];
    if ( v6 != 67 )
    {
      v4 = &v6;
      do
        ++v4;
      while ( *v4 != 67 );
    }
  }
  return result;
}
// 10051BC0: using guessed type char var_48[68];

//----- (10051C80) --------------------------------------------------------
char __cdecl sub_10051C80(char a1, char a2)
{
  return sub_10051BC0(a1, a2);
}

//----- (10051CA0) --------------------------------------------------------
char __thiscall sub_10051CA0(void *this)
{
  char v1; // bl@1
  void *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-4h]@1

  dword_10144FA0 = sub_1004AE10(this) != 2 ? 1379255385 : 1916032632;
  memset(&unk_10144FA8, 0, 0xAA0u);
  v1 = 0;
  v4 = 0;
  v2 = &unk_10144FA8;
  do
  {
    result = sub_10055C00(v4, (int)v2);
    ++v1;
    v2 = (char *)v2 + 2720;
    v4 = v1;
  }
  while ( (unsigned __int8)v1 < 2u );
  return result;
}
// 10144FA0: using guessed type int dword_10144FA0;

//----- (10051D10) --------------------------------------------------------
char __usercall sub_10051D10@<al>(__int16 a1@<bx>, __int16 a2@<di>, void *a3@<esi>, char a4)
{
  char result; // al@1

  memset(a3, 0, (unsigned __int16)a2);
  result = 0;
  if ( a4 )
  {
    if ( a4 == 1 )
      result = sub_1004EF70(6, 8, a1, a2, a3);
  }
  else
  {
    result = sub_1004EF70(6, 5, a1, a2, a3);
  }
  return result;
}

//----- (10051D50) --------------------------------------------------------
void *__usercall sub_10051D50@<eax>(char a1@<bl>, __int16 a2, __int16 a3, void *a4)
{
  int v4; // edi@1
  void *result; // eax@4

  v4 = 0;
  if ( dword_10144FA0 == 1379255385 )
    goto LABEL_4;
  v4 = sub_10017A10(86, 10);
  if ( !v4 )
  {
    memset((char *)&unk_10144FA8 + 2720 * (unsigned __int8)a1, 0, 0xAA0u);
    sub_10055C00(a1, (int)&unk_10144FA8 + 2720 * (unsigned __int8)a1);
LABEL_4:
    result = memcpy_0(
               a4,
               (char *)&unk_10144FA8 + 2720 * (unsigned __int8)a1 + (unsigned __int16)a2,
               (unsigned __int16)a3);
    goto LABEL_6;
  }
  result = memset(a4, 0, (unsigned __int16)a3);
LABEL_6:
  if ( dword_10144FA0 != 1379255385 )
    result = (void *)sub_100179E0(v4, 86);
  return result;
}
// 10144FA0: using guessed type int dword_10144FA0;

//----- (10051DF0) --------------------------------------------------------
char __cdecl sub_10051DF0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 <= 0xAu )
    result = sub_10051D10(4 * (a2 + 6), 4, a3, a1);
  return result;
}

//----- (10051E30) --------------------------------------------------------
bool __cdecl sub_10051E30(char a1, char a2, void *a3)
{
  bool result; // al@1
  unsigned __int8 v4; // al@3

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 <= 0xAu )
  {
    sub_10051D50(a1, 4 * ((unsigned __int8)a2 + 6), 4, a3);
    v4 = *((_BYTE *)a3 + 1);
    result = v4 < 0x33u || v4 >= 0x64u && v4 <= 0x81u || v4 >= 0x96u && v4 <= 0x9Eu;
  }
  return result;
}

//----- (10051E90) --------------------------------------------------------
char __cdecl sub_10051E90(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xAu )
    result = sub_10051D10(a2, 1, a3, a1);
  return result;
}

//----- (10051ED0) --------------------------------------------------------
char __cdecl sub_10051ED0(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xAu )
  {
    sub_10051D50(a1, (unsigned __int8)a2, 1, a3);
    result = 1;
  }
  return result;
}

//----- (10051F00) --------------------------------------------------------
char __cdecl sub_10051F00(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0xBu )
    result = sub_10051D10(a2 + 10, 1, a3, a1);
  return result;
}

//----- (10051F40) --------------------------------------------------------
char __cdecl sub_10051F40(char a1, char a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0xBu )
  {
    sub_10051D50(a1, (unsigned __int8)a2 + 10, 1, a3);
    result = 1;
  }
  return result;
}

//----- (10051F80) --------------------------------------------------------
char __cdecl sub_10051F80(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 2u )
    result = sub_10051D10(16 * (a2 + 50), 16, a3, a1);
  return result;
}

//----- (10051FC0) --------------------------------------------------------
bool __cdecl sub_10051FC0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 2u )
  {
    sub_10051D50(a1, 16 * ((unsigned __int8)a2 + 50), 16, a3);
    result = *(_BYTE *)a3 < 8u && *((_BYTE *)a3 + 1) < 8u;
  }
  return result;
}

//----- (10052010) --------------------------------------------------------
char __cdecl sub_10052010(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x29u )
    result = sub_10051D10(12 * a2 + 68, 12, a3, a1);
  return result;
}

//----- (10052050) --------------------------------------------------------
bool __cdecl sub_10052050(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x29u )
  {
    sub_10051D50(a1, 12 * (unsigned __int8)a2 + 68, 12, a3);
    result = *((_WORD *)a3 + 1) < 0x319u;
  }
  return result;
}

//----- (10052090) --------------------------------------------------------
char __cdecl sub_10052090(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && a2 < 0x2Au )
    result = sub_10051D10(4 * (a2 + 140), 4, a3, a1);
  return result;
}

//----- (100520D0) --------------------------------------------------------
bool __cdecl sub_100520D0(char a1, char a2, void *a3)
{
  bool result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u && (unsigned __int8)a2 < 0x2Au )
  {
    sub_10051D50(a1, 4 * ((unsigned __int8)a2 + 140), 4, a3);
    result = *((_WORD *)a3 + 1) < 0x145u;
  }
  return result;
}

//----- (10052110) --------------------------------------------------------
char __cdecl sub_10052110(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10051D10(1229, 1, a2, a1);
  return result;
}

//----- (10052140) --------------------------------------------------------
char __cdecl sub_10052140(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10051D50(a1, 1229, 1, a2);
    result = 1;
  }
  return result;
}

//----- (10052170) --------------------------------------------------------
char __cdecl sub_10052170(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10051D10(1212, 16, a2, a1);
  return result;
}

//----- (100521A0) --------------------------------------------------------
char __cdecl sub_100521A0(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10051D50(a1, 1212, 16, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100521D0) --------------------------------------------------------
char __cdecl sub_100521D0(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10051D10(2400, 65, a2, a1);
  return result;
}

//----- (10052200) --------------------------------------------------------
char __cdecl sub_10052200(char a1, void *a2)
{
  char result; // al@2

  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10051D50(a1, 2400, 65, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10052230) --------------------------------------------------------
char __cdecl sub_10052230(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 < 8u && (unsigned __int8)a1 < 2u )
    result = sub_10051D10(4 * (a2 + 182), 4, a3, a1);
  return result;
}

//----- (10052270) --------------------------------------------------------
char __cdecl sub_10052270(char a1, char a2, void *a3)
{
  char result; // al@2

  if ( (unsigned __int8)a2 > 7u )
    result = sub_100175E0("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 1428, 0, 0);
  else
    result = (unsigned int)sub_10051D50(a1, 4 * ((unsigned __int8)a2 + 182), 4, a3);
  return result;
}

//----- (100522C0) --------------------------------------------------------
char __cdecl sub_100522C0(char a1, unsigned __int8 a2, void *a3)
{
  char result; // al@1

  result = 0;
  if ( a2 <= 4u )
    result = sub_10051D10(8 * (a2 + 95), 8, a3, a1);
  return result;
}

//----- (10052300) --------------------------------------------------------
char __cdecl sub_10052300(char a1, char a2, void *a3)
{
  char result; // al@1

  result = a2;
  if ( (unsigned __int8)a2 <= 4u )
    result = (unsigned int)sub_10051D50(a1, 8 * ((unsigned __int8)a2 + 95), 8, a3);
  return result;
}

//----- (10052330) --------------------------------------------------------
char __cdecl sub_10052330(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10051D10(22, 1, a2, a1);
  return result;
}

//----- (10052360) --------------------------------------------------------
char __cdecl sub_10052360(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
    result = sub_10051D10(832, 4, a2, a1);
  return result;
}

//----- (10052390) --------------------------------------------------------
char __cdecl sub_10052390(char a1, void *a2)
{
  char result; // al@1

  result = 0;
  if ( (unsigned __int8)a1 < 2u )
  {
    sub_10051D50(a1, 832, 4, a2);
    result = 1;
  }
  return result;
}

//----- (100523C0) --------------------------------------------------------
char __cdecl sub_100523C0(int a1, char a2, char a3, int a4, void *a5)
{
  char result; // al@4
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10051330(a1);
  if ( v6 == 2 )
  {
LABEL_44:
    result = 0;
  }
  else
  {
    switch ( a3 )
    {
      case 0:
        if ( a2 )
        {
          sub_10052270(v6, *(_BYTE *)a4, a5);
          result = 1;
        }
        else
        {
          result = sub_10052230(v6, *(_BYTE *)a4, a5);
        }
        break;
      case 1:
        if ( a2 )
        {
          sub_10052300(v6, *(_BYTE *)a4, a5);
          result = 1;
        }
        else
        {
          result = sub_100522C0(v6, *(_BYTE *)a4, a5);
        }
        break;
      case 2:
        if ( a2 )
          result = sub_10051E30(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10051DF0(v6, *(_BYTE *)a4, a5);
        break;
      case 3:
        if ( a2 )
          result = sub_10052050(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10052010(v6, *(_BYTE *)a4, a5);
        break;
      case 4:
        if ( a2 )
          result = sub_100520D0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10052090(v6, *(_BYTE *)a4, a5);
        break;
      case 5:
        if ( a2 )
          result = sub_10051ED0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10051E90(v6, *(_BYTE *)a4, a5);
        break;
      case 6:
        if ( a2 )
          result = sub_10051F40(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10051F00(v6, *(_BYTE *)a4, a5);
        break;
      case 7:
        result = sub_10052330(v6, a5);
        break;
      case 8:
        if ( a2 )
          result = sub_100521A0(v6, a5);
        else
          result = sub_10052170(v6, a5);
        break;
      case 9:
        if ( a2 )
          result = sub_10051FC0(v6, *(_BYTE *)a4, a5);
        else
          result = sub_10051F80(v6, *(_BYTE *)a4, a5);
        break;
      case 0x1D:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10052200(v6, a5);
        else
          result = sub_100521D0(v6, a5);
        break;
      case 0x21:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10052140(v6, a5);
        else
          result = sub_10052110(v6, a5);
        break;
      case 0x1B:
        if ( a2 || j_HWM_pvg_read_reg(1) )
          result = sub_10052390(v6, a5);
        else
          result = sub_10052360(v6, a5);
        break;
      default:
        sub_100175E0("..\\lib\\acl\\iop\\gia\\iop_gia_cnfg_intf.c", 2329, 0, 0);
        goto LABEL_44;
    }
  }
  return result;
}
// 10017A70: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10052760) --------------------------------------------------------
bool __cdecl sub_10052760(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  char v4; // dl@5
  bool result; // al@5

  v3 = a2;
  if ( a2 >= 0xFFu || a2 > 1u )
  {
    result = 0;
  }
  else
  {
    if ( dword_101464E8 != 1379255385 )
    {
      sub_10055BE0(a1, (int)&byte_101464F0[24 * (unsigned __int8)a1]);
      v3 = a2;
    }
    v4 = byte_101464F5[4 * (v3 + 6 * (unsigned __int8)a1)];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_101464F4[4 * (v3 + 6 * (unsigned __int8)a1)];
    result = (unsigned __int8)v4 < 0xBu;
  }
  return result;
}
// 101464E8: using guessed type int dword_101464E8;

//----- (100527D0) --------------------------------------------------------
bool __cdecl sub_100527D0(char a1, unsigned __int8 a2, int a3)
{
  bool result; // al@2

  if ( a2 < 1u )
  {
    if ( dword_101464E8 != 1379255385 )
      sub_10055BE0(a1, (int)&byte_101464F0[24 * (unsigned __int8)a1]);
    *(_DWORD *)a3 = dword_10146504[a2 + 6 * (unsigned __int8)a1];
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 101464E8: using guessed type int dword_101464E8;
// 10146504: using guessed type int dword_10146504[];

//----- (10052830) --------------------------------------------------------
bool __cdecl sub_10052830(char a1, unsigned __int8 a2, int a3)
{
  unsigned __int8 v3; // cl@1
  bool result; // al@1
  int v5; // edx@5

  v3 = a2;
  result = 0;
  if ( (a2 & 0x80u) == 0 && a2 <= 1u )
  {
    if ( dword_101464E8 != 1379255385 )
    {
      sub_10055BE0(a1, (int)&byte_101464F0[24 * (unsigned __int8)a1]);
      v3 = a2;
    }
    v5 = dword_101464FC[v3 + 6 * (unsigned __int8)a1];
    *(_DWORD *)a3 = v5;
    result = (unsigned __int8)v5 < 0x13u && *(_BYTE *)(a3 + 1) < 0x13u;
  }
  return result;
}
// 101464E8: using guessed type int dword_101464E8;
// 101464FC: using guessed type int dword_101464FC[];

//----- (100528A0) --------------------------------------------------------
char __cdecl sub_100528A0(char a1, _BYTE *a2)
{
  if ( dword_101464E8 != 1379255385 )
    sub_10055BE0(a1, (int)&byte_101464F0[24 * (unsigned __int8)a1]);
  *a2 = byte_101464F0[24 * (unsigned __int8)a1];
  return 1;
}
// 101464E8: using guessed type int dword_101464E8;

//----- (100528E0) --------------------------------------------------------
char __thiscall sub_100528E0(void *this)
{
  char v1; // bl@1
  char *v2; // esi@1
  char result; // al@2
  char v4; // [sp+8h] [bp-4h]@1

  dword_101464E8 = sub_1004AE10(this) != 2 ? 1379255385 : 1916032632;
  memset(byte_101464F0, 0, 0x48u);
  v1 = 0;
  v4 = 0;
  v2 = byte_101464F0;
  do
  {
    result = sub_10055BE0(v4, (int)v2);
    ++v1;
    v2 += 24;
    v4 = v1;
  }
  while ( (unsigned __int8)v1 < 3u );
  return result;
}
// 101464E8: using guessed type int dword_101464E8;

//----- (10052950) --------------------------------------------------------
char __cdecl sub_10052950(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_1004FB20(a1);
  v3 = sub_10076500(a2, 0, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (10052980) --------------------------------------------------------
char __cdecl sub_10052980(char a1, int a2)
{
  int v2; // eax@1
  bool v3; // zf@1
  char result; // al@1

  v2 = sub_1004FB20(a1);
  v3 = sub_10076570(a2, 0, v2) == 0;
  result = 1;
  if ( !v3 )
    result = 0;
  return result;
}

//----- (100529B0) --------------------------------------------------------
char __cdecl sub_100529B0(char a1, int a2, char a3, unsigned __int8 *a4, _BYTE *a5, unsigned int a6)
{
  char result; // al@3
  char v7; // [sp+0h] [bp-4h]@1

  v7 = sub_1004FC10(a1);
  switch ( a3 )
  {
    case 0:
      if ( a6 >= 4 )
      {
        result = sub_10052830(v7, *a4, (int)a5);
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 531, 0, 0);
        result = 0;
      }
      break;
    case 2:
      if ( a6 >= 4 )
      {
        result = sub_10052760(v7, *a4, (int)a5);
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 548, 0, 0);
        result = 0;
      }
      break;
    case 3:
      if ( a6 >= 4 )
      {
        result = sub_100527D0(v7, *a4, (int)a5);
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 565, 0, 0);
        result = 0;
      }
      break;
    case 7:
      if ( a6 >= 1 )
      {
        result = sub_100528A0(v7, a5);
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 582, 0, 0);
        result = 0;
      }
      break;
    case 0x10:
      if ( a6 >= 0x40 )
      {
        result = sub_10052980(v7, (int)a5);
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 598, 0, 0);
        result = 0;
      }
      break;
    case 0xF:
      if ( a6 >= 0x68 )
      {
        result = sub_10052950(v7, (int)a5);
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 616, 0, 0);
        result = 0;
      }
      break;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\iop_cdu_cnfg_intf.c", 633, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10052B80) --------------------------------------------------------
char *__cdecl sub_10052B80(char **a1)
{
  char *v1; // edx@1
  int v2; // edi@1
  char *result; // eax@1
  char *v4; // eax@3
  char v5; // cl@4
  int v6; // eax@5
  char v7; // cl@7

  v1 = *a1;
  v2 = 0;
  result = &byte_10077A17;
  if ( *a1 && *v1 )
  {
    v4 = *a1;
    do
      v5 = *v4++;
    while ( v5 );
    v6 = v4 - (v1 + 1) - 1;
    do
    {
      if ( v6 < 0 )
        break;
      v7 = v1[v6];
      if ( v7 == 47 || v7 == 92 )
        v2 = v6 + 1;
      --v6;
    }
    while ( !v2 );
    result = &v1[v2];
  }
  return result;
}

//----- (10052BD0) --------------------------------------------------------
int sub_10052BD0()
{
  int v0; // esi@1
  int v1; // edx@1
  int result; // eax@1
  int v3; // ecx@2

  v0 = 0;
  v1 = sub_100176A0();
  result = 0;
  while ( 1 )
  {
    v3 = dword_1014654C[result];
    if ( v3 == v1 )
      break;
    if ( !v0 && v3 == -1 )
      v0 = result;
    if ( (unsigned int)++result >= 5 )
    {
      dword_1014654C[v0] = v1;
      return v0;
    }
  }
  return result;
}
// 1014654C: using guessed type int dword_1014654C[];

//----- (10052C10) --------------------------------------------------------
int __cdecl sub_10052C10(_BYTE *a1, int a2)
{
  int result; // eax@3
  int v3; // esi@3
  _BYTE *v4; // ecx@4
  char v5; // dl@5

  if ( a1 )
  {
    if ( a2 )
    {
      result = 0;
      v3 = 0;
      if ( *a1 )
      {
        v4 = a1;
        do
        {
          v5 = v4[a2 - (_DWORD)a1];
          if ( !v5 )
            break;
          if ( *v4 != v5 )
          {
            result = a1[v3] - *(_BYTE *)(v3 + a2);
            if ( a1[v3] != *(_BYTE *)(v3 + a2) )
              return result;
            break;
          }
          ++v4;
          ++v3;
        }
        while ( *v4 );
      }
      if ( a1[v3] )
      {
        result = 1;
      }
      else if ( *(_BYTE *)(v3 + a2) )
      {
        result = -1;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10052C80) --------------------------------------------------------
signed int __cdecl sub_10052C80(_BYTE *a1, int a2)
{
  _BYTE *v2; // esi@1
  int v3; // ebp@1
  int v4; // ebx@4
  int v5; // edi@6
  int v6; // eax@6
  signed int result; // eax@11
  int v8; // [sp+8h] [bp-4h]@3

  v2 = a1;
  v3 = 0;
  if ( a1 )
  {
    if ( a2 )
    {
      v8 = 0;
      if ( *a1 )
      {
        v4 = a2 - (_DWORD)a1;
        while ( v2[v4] )
        {
          v5 = tolower(*v2);
          v6 = tolower(v2[v4]);
          if ( v5 != v6 )
          {
            v8 = v5 - v6;
            if ( v5 != v6 )
              goto LABEL_16;
            break;
          }
          ++v2;
          ++v3;
          if ( !*v2 )
            break;
        }
      }
      if ( a1[v3] )
      {
        result = 1;
      }
      else if ( *(_BYTE *)(a2 + v3) )
      {
        result = -1;
      }
      else
      {
LABEL_16:
        result = v8;
      }
    }
    else
    {
      result = 1;
    }
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (10052D20) --------------------------------------------------------
char *__usercall sub_10052D20@<eax>(char *result@<eax>, const char *a2@<edi>, int a3@<esi>)
{
  if ( a2 )
  {
    if ( (_BYTE)result && *(_BYTE *)a3 )
    {
      if ( *a2 )
      {
        strncat((char *)a3, " ", 0x100u);
        result = strncat((char *)a3, a2, 0x100u);
        *(_BYTE *)(a3 + 255) = 0;
        return result;
      }
    }
    else
    {
      result = strncpy((char *)a3, a2, 0x100u);
    }
    *(_BYTE *)(a3 + 255) = 0;
  }
  else if ( !(_BYTE)result )
  {
    *(_BYTE *)a3 = 0;
  }
  return result;
}

//----- (10052D80) --------------------------------------------------------
const char *__usercall sub_10052D80@<eax>(int a1@<eax>)
{
  const char *result; // eax@3

  if ( a1 )
  {
    if ( a1 == 1 )
      result = "Group";
    else
      result = "Command";
  }
  else
  {
    result = "Case";
  }
  return result;
}

//----- (10052DA0) --------------------------------------------------------
int __usercall sub_10052DA0@<eax>(unsigned int a1@<ebx>)
{
  int (**v1)(void); // esi@1
  unsigned int v2; // edi@1
  int result; // eax@4

  v1 = (int (**)(void))dword_10146538[sub_10052BD0()];
  v2 = 0;
  if ( a1 )
  {
    while ( v1 && *v1 )
    {
      result = (*v1)();
      ++v2;
      ++v1;
      if ( v2 >= a1 )
        return result;
    }
    result = 0;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10146538: using guessed type int dword_10146538[];

//----- (10052DE0) --------------------------------------------------------
int __usercall sub_10052DE0@<eax>(_DWORD *a1@<eax>, void (__cdecl *a2)(signed int, void *)@<ebx>, int a3@<esi>)
{
  _DWORD *v3; // edi@1
  int result; // eax@1
  int v5; // ecx@2
  int v6; // eax@4
  int v7; // edi@4
  int v8; // edi@7

  v3 = a1;
  result = 0;
  if ( a3 )
  {
    v5 = *(_DWORD *)(a3 + 12);
    if ( v5 )
    {
      if ( v5 == 1 )
      {
        sub_10055FB0(5, *(_DWORD *)a3);
        v6 = (*(int (**)(void))(a3 + 8))();
        sub_10053660((int)v3, v6, 0);
        v7 = -*v3;
        sub_10055FB0(9, *(_DWORD *)a3);
        result = v7;
      }
    }
    else
    {
      sub_10055FB0(6, *(_DWORD *)a3);
      if ( a2 )
        a2(5, &unk_100B0F98);
      sub_10055F00(a3);
      v8 = -*v3;
      if ( a2 )
        a2(6, &unk_100B0F98);
      sub_10055FB0(8, *(_DWORD *)a3);
      result = v8;
    }
  }
  return result;
}

//----- (10052E80) --------------------------------------------------------
int __usercall sub_10052E80@<eax>(int result@<eax>)
{
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 28) = 0;
  *(_BYTE *)(result + 33) = 0;
  *(_BYTE *)(result + 34) = 0;
  *(_BYTE *)(result + 24) = 1;
  *(_BYTE *)(result + 32) = 1;
  *(_DWORD *)(result + 36) = 0;
  *(_DWORD *)(result + 40) = 0;
  *(_DWORD *)(result + 44) = 0;
  *(_DWORD *)(result + 48) = 0;
  *(_DWORD *)(result + 52) = 0;
  return result;
}

//----- (10052EC0) --------------------------------------------------------
char *__cdecl sub_10052EC0(int a1, char *a2, int a3, const char *a4)
{
  const char *v4; // ecx@0
  const char *v5; // ebx@1
  char *v6; // eax@1
  char *v7; // ecx@1
  char *result; // eax@3
  char *v9; // eax@5
  const char *v10; // edi@5
  const char **v11; // ebx@8
  char *v12; // eax@10
  const char *v13; // edi@10
  char **v14; // ebp@10
  const char *v15; // edi@12
  char *v16; // [sp+10h] [bp-624h]@8
  signed int v17; // [sp+14h] [bp-620h]@10
  int v18[6]; // [sp+18h] [bp-61Ch]@2
  char v19; // [sp+30h] [bp-604h]@1
  char v20; // [sp+130h] [bp-504h]@5
  char v21; // [sp+230h] [bp-404h]@7
  char v22; // [sp+330h] [bp-304h]@10
  char v23; // [sp+430h] [bp-204h]@10
  char v24; // [sp+530h] [bp-104h]@10

  v5 = v4;
  v6 = 0;
  v7 = &v19;
  do
  {
    v18[(signed int)v6] = (int)v7;
    *v7 = 0;
    ++v6;
    v7 += 256;
  }
  while ( (unsigned int)v6 < 6 );
  LOBYTE(v6) = 0;
  result = sub_10052D20(v6, "command", (int)&v19);
  if ( a3 )
  {
    LOBYTE(result) = 0;
    if ( a4 )
    {
      v9 = sub_10052D20(result, a4, (int)&v20);
      v10 = v5;
    }
    else
    {
      v9 = sub_10052D20(result, v5, (int)&v20);
      v10 = &byte_10077A17;
    }
    LOBYTE(v9) = 0;
    sub_10052D20(v9, v10, (int)&v21);
    result = a2;
    if ( a2 )
    {
      v11 = (const char **)(a1 + 36);
      v16 = a2;
      do
      {
        if ( (unsigned int)*(v11 - 6) >= 2 )
        {
          LOBYTE(result) = 0;
          v12 = sub_10052D20(result, *v11, (int)&v24);
          v13 = *(v11 - 9);
          LOBYTE(v12) = 1;
          v22 = 0;
          sub_10052D20(v12, v13, (int)&v22);
          v23 = 0;
          v14 = (char **)(v11 - 5);
          v17 = 5;
          do
          {
            switch ( *v14 )
            {
              case 1u:
                v15 = "<bool>";
                goto LABEL_19;
              case 2u:
                v15 = "<char>";
                goto LABEL_19;
              case 3u:
                v15 = "<sint32>";
                goto LABEL_19;
              case 4u:
                v15 = "<uint32>";
                goto LABEL_19;
              case 6u:
                v15 = "<float>";
                goto LABEL_19;
              case 5u:
                v15 = "<str>";
                goto LABEL_19;
              case 0u:
                break;
              default:
                v15 = "<*?*>";
LABEL_19:
                sub_10052D20(*v14, v15, (int)&v23);
                break;
            }
            ++v14;
            --v17;
          }
          while ( v17 );
          result = (char *)sub_10055F40(2, (int)v18, 6);
        }
        v11 += 10;
        --v16;
      }
      while ( v16 );
    }
  }
  return result;
}
// 10052EC0: using guessed type int var_61C[6];

//----- (10053070) --------------------------------------------------------
int __usercall sub_10053070@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  int v2; // ST08_4@1
  char *v3; // eax@1
  int result; // eax@1
  int (__cdecl *v5)(signed int, void *); // esi@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 4);
  v3 = sub_10052B80((char **)a1);
  result = sub_10055FD0(4, (int)v3, v2);
  v5 = *(int (__cdecl **)(signed int, void *))(v1 + 16);
  if ( v5 )
    result = v5(4, &unk_100B0F98);
  return result;
}

//----- (100530A0) --------------------------------------------------------
int __usercall sub_100530A0@<eax>(int a1@<esi>)
{
  void (__cdecl *v1)(signed int, void *); // eax@1
  char v2; // al@3

  v1 = *(void (__cdecl **)(signed int, void *))(a1 + 16);
  if ( v1 )
    v1(7, &unk_100B0F98);
  v2 = (unsigned int)sub_10052B80((char **)a1);
  return sub_10055FB0(10, v2);
}

//----- (100530D0) --------------------------------------------------------
void __cdecl sub_100530D0(int (**a1)(void), char **a2, _DWORD *a3)
{
  int v3; // esi@3
  int (**v4)(void); // ebx@4
  char **v5; // eax@6
  char *v6; // ST1C_4@6
  char *v7; // eax@6
  char *v8; // eax@7
  char *v9; // eax@9
  char *v10; // eax@10
  int v11; // ebp@12
  signed int v12; // ebx@12
  const char *v13; // eax@14
  char *v14; // ST18_4@14
  int v15; // ST14_4@14
  char *v16; // eax@14
  int v17; // ecx@18
  unsigned int v18; // eax@18
  int v19; // eax@20
  int v20; // ecx@20
  char v21; // dl@20
  int v22; // ST14_4@30
  char *v23; // ST10_4@30
  const char *v24; // eax@31
  char *v25; // ST18_4@31
  int v26; // ST14_4@31
  char *v27; // ST10_4@31
  int v28; // edx@34
  int v29; // ecx@34
  int v30; // eax@34
  int v31; // ST14_4@37
  char *v32; // eax@37
  int v33; // eax@38
  int v34; // ST14_4@39
  char *v35; // ST10_4@39
  int v36; // ST14_4@41
  char *v37; // eax@41
  int v38; // eax@42
  int v39; // ST14_4@43
  char *v40; // eax@43
  int v41; // ST14_4@45
  char *v42; // eax@45
  int v43; // ST14_4@48
  char *v44; // eax@48
  int v45; // edx@49
  int v46; // ST14_4@50
  char *v47; // ST10_4@50
  char *v48; // eax@54
  unsigned int v49; // [sp+4h] [bp-8h]@12
  unsigned int v50; // [sp+8h] [bp-4h]@15
  int v51; // [sp+10h] [bp+4h]@16

  if ( a1 )
  {
    if ( *a1 )
    {
      v3 = (*a1)();
      if ( !a2 )
      {
        v4 = a1 + 1;
        if ( a1 != (int (**)(void))-4 )
        {
          do
          {
            if ( !*v4 )
              break;
            v5 = (char **)(*v4)();
            v6 = sub_10052B80(v5);
            v7 = sub_10052B80((char **)v3);
            if ( !sub_10052C10(v7, (int)v6) )
            {
              v8 = sub_10052B80((char **)v3);
              sub_10056040(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"2872",
                (int)v8,
                (int)"Suite name has been used more than once");
              *a3 = 12;
            }
            ++v4;
          }
          while ( v4 );
        }
      }
      v9 = sub_10052B80((char **)v3);
      if ( strchr(v9, 32) )
      {
        v10 = sub_10052B80((char **)v3);
        sub_10056040(
          3,
          (int)"**Warning**",
          (int)"..\\lib\\utf\\utf_runner.c",
          (int)"2903",
          (int)v10,
          (int)"Suite name includes spaces so it must be quoted");
        *a3 = 10;
      }
      if ( *(_DWORD *)(v3 + 12) )
      {
        v11 = 0;
        v49 = 1;
        v12 = 20;
        while ( 1 )
        {
          if ( strchr(*(const char **)(*(_DWORD *)(v3 + 8) + v11), 32) )
          {
            v13 = sub_10052D80(*(_DWORD *)(*(_DWORD *)(v3 + 8) + v11 + 12));
            v14 = sub_10056120("%s name includes spaces so it must be quoted", v13);
            v15 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
            v16 = sub_10052B80((char **)v3);
            sub_10056080(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_runner.c", (int)"2915", (int)v16, v15, (int)v14);
            *a3 = 10;
          }
          v50 = v49;
          if ( v49 < *(_DWORD *)(v3 + 12) )
          {
            v51 = v11 + 40;
            do
            {
              if ( !sub_10052C10(*(_BYTE **)(*(_DWORD *)(v3 + 8) + v11), *(_DWORD *)(v51 + *(_DWORD *)(v3 + 8))) )
              {
                v17 = *(_DWORD *)(v3 + 8);
                v18 = *(_DWORD *)(v17 + v11 + 12);
                if ( v18 < 2 || *(_DWORD *)(v51 + v17 + 12) < 2u )
                {
                  v24 = sub_10052D80(v18);
                  v25 = sub_10056120("%s name has been used more than once", v24);
                  v26 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
                  v27 = sub_10052B80((char **)v3);
                  sub_10056080(
                    3,
                    (int)"**Error**",
                    (int)"..\\lib\\utf\\utf_runner.c",
                    (int)"2958",
                    (int)v27,
                    v26,
                    (int)v25);
                }
                else
                {
                  v19 = *(_DWORD *)(v3 + 8);
                  v20 = *(_DWORD *)(v51 + v17 + 16);
                  v21 = 0;
                  if ( *(_DWORD *)(v12 + v19 - 4) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 4) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 8) != v20 )
                    v21 = 1;
                  if ( *(_DWORD *)(v12 + v19 + 12) != v20 || v21 )
                    goto LABEL_33;
                  v22 = *(_DWORD *)(v19 + v11);
                  v23 = sub_10052B80((char **)v3);
                  sub_10056080(
                    3,
                    (int)"**Error**",
                    (int)"..\\lib\\utf\\utf_runner.c",
                    (int)"2946",
                    (int)v23,
                    v22,
                    (int)"Command name has been used more than once");
                }
                *a3 = 12;
              }
LABEL_33:
              v51 += 40;
              ++v50;
            }
            while ( v50 < *(_DWORD *)(v3 + 12) );
          }
          v28 = *(_DWORD *)(v3 + 8);
          v29 = *(_DWORD *)(v28 + v11 + 12);
          v30 = v28 + v11;
          if ( !v29 )
            break;
          if ( v29 == 1 )
          {
            if ( !*(_DWORD *)(v30 + 8) )
            {
              v36 = *(_DWORD *)v30;
              v37 = sub_10052B80((char **)v3);
              sub_10056080(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3047",
                (int)v37,
                v36,
                (int)"Test group has a NULL function pointer or a command uses a reserved ID");
              *a3 = 12;
            }
            v38 = *(_DWORD *)(v3 + 8) + v11;
            if ( *(_DWORD *)(v38 + 4) )
            {
              v39 = *(_DWORD *)v38;
              v40 = sub_10052B80((char **)v3);
              sub_10056080(
                3,
                (int)"**Warning**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3058",
                (int)v40,
                v39,
                (int)"Test group has a non-NULL test case function pointer");
              *a3 = 10;
            }
            if ( a2 )
            {
              v41 = *(_DWORD *)(*(_DWORD *)(v3 + 8) + v11);
              v42 = sub_10052B80((char **)v3);
              sub_10056080(
                3,
                (int)"**Error**",
                (int)"..\\lib\\utf\\utf_runner.c",
                (int)"3070",
                (int)v42,
                v41,
                (int)"Test group contains a test group");
              *a3 = 12;
            }
            else
            {
              sub_100530D0(*(_DWORD *)(v3 + 8) + v11 + 8, v3, a3);
            }
            goto LABEL_52;
          }
          if ( *(_DWORD *)(v30 + 4) )
          {
            v31 = *(_DWORD *)v30;
            v32 = sub_10052B80((char **)v3);
            sub_10056080(
              3,
              (int)"**Warning**",
              (int)"..\\lib\\utf\\utf_runner.c",
              (int)"3088",
              (int)v32,
              v31,
              (int)"Command include a non-NULL test case function pointer");
            *a3 = 10;
          }
          v33 = *(_DWORD *)(v3 + 8) + v11;
          if ( *(_DWORD *)(v33 + 8) )
          {
            v34 = *(_DWORD *)v33;
            v35 = sub_10052B80((char **)v3);
            sub_10056080(
              3,
              (int)"**Warning**",
              (int)"..\\lib\\utf\\utf_runner.c",
              (int)"3099",
              (int)v35,
              v34,
              (int)"Command include a non-NULL test group function pointer");
LABEL_51:
            *a3 = 10;
          }
LABEL_52:
          ++v49;
          v12 += 40;
          v11 += 40;
          if ( v49 - 1 >= *(_DWORD *)(v3 + 12) )
            return;
        }
        if ( !*(_DWORD *)(v30 + 4) )
        {
          v43 = *(_DWORD *)v30;
          v44 = sub_10052B80((char **)v3);
          sub_10056080(
            3,
            (int)"**Error**",
            (int)"..\\lib\\utf\\utf_runner.c",
            (int)"3022",
            (int)v44,
            v43,
            (int)"Test case has a NULL function pointer or a command uses a reserved ID");
          *a3 = 12;
        }
        v45 = *(_DWORD *)(v3 + 8);
        if ( !*(_DWORD *)(v45 + v11 + 8) )
          goto LABEL_52;
        v46 = *(_DWORD *)(v45 + v11);
        v47 = sub_10052B80((char **)v3);
        sub_10056080(
          3,
          (int)"**Warning**",
          (int)"..\\lib\\utf\\utf_runner.c",
          (int)"3033",
          (int)v47,
          v46,
          (int)"Test case has a non-NULL group function pointer");
        goto LABEL_51;
      }
    }
    else
    {
      v48 = sub_10052B80(a2);
      sub_10056040(
        3,
        (int)"**Error**",
        (int)"..\\lib\\utf\\utf_runner.c",
        (int)"3114",
        (int)v48,
        (int)"Test suite has a NULL function pointer or a command uses a reserved ID");
      *a3 = 12;
    }
  }
}

//----- (10053540) --------------------------------------------------------
int sub_10053540()
{
  int (**i)(void); // esi@1
  int v2; // [sp+4h] [bp-4h]@1

  v2 = 0;
  for ( i = (int (**)(void))dword_10146538[sub_10052BD0()]; i; ++i )
  {
    if ( !*i )
      break;
    sub_100530D0(i, 0, &v2);
  }
  return v2;
}
// 10146538: using guessed type int dword_10146538[];

//----- (10053590) --------------------------------------------------------
void *sub_10053590()
{
  void *result; // eax@1
  signed int v1; // esi@1

  dword_10146538[0] = 0;
  dword_1014653C = 0;
  dword_10146540 = 0;
  dword_10146544 = 0;
  dword_10146548 = 0;
  result = &unk_10146560;
  dword_1014654C[0] = -1;
  dword_10146550 = -1;
  dword_10146554 = -1;
  dword_10146558 = -1;
  dword_1014655C = -1;
  v1 = 5;
  do
  {
    result = (void *)(sub_10052E80((int)result) + 56);
    --v1;
  }
  while ( v1 );
  return result;
}
// 10146538: using guessed type int dword_10146538[];
// 1014653C: using guessed type int dword_1014653C;
// 10146540: using guessed type int dword_10146540;
// 10146544: using guessed type int dword_10146544;
// 10146548: using guessed type int dword_10146548;
// 1014654C: using guessed type int dword_1014654C[];
// 10146550: using guessed type int dword_10146550;
// 10146554: using guessed type int dword_10146554;
// 10146558: using guessed type int dword_10146558;
// 1014655C: using guessed type int dword_1014655C;

//----- (100535F0) --------------------------------------------------------
char *sub_100535F0()
{
  return (char *)&unk_10146560 + 56 * sub_10052BD0();
}

//----- (10053610) --------------------------------------------------------
char __cdecl sub_10053610(int a1, int a2, unsigned int a3)
{
  char *v3; // esi@1
  char result; // al@1

  v3 = sub_100535F0();
  result = a1 - 6;
  if ( a1 == 6 )
  {
    *(_DWORD *)v3 = 0;
  }
  else
  {
    result = a1 - 7;
    if ( a1 == 7 )
    {
      result = sub_10055F10(a2, a3);
      if ( result )
        ++*(_DWORD *)v3;
    }
  }
  return result;
}

//----- (10053650) --------------------------------------------------------
char **sub_10053650()
{
  return &off_100B1348;
}
// 100B1348: using guessed type char *off_100B1348;

//----- (10053660) --------------------------------------------------------
int __cdecl sub_10053660(int a1, int a2, int a3)
{
  char *v3; // esi@1
  int result; // eax@2
  unsigned int v5; // ebp@7
  int v6; // [sp+8h] [bp-8h]@0
  int v7; // [sp+8h] [bp-8h]@7
  int v8; // [sp+Ch] [bp-4h]@8

  sub_10056240();
  v3 = sub_100535F0();
  if ( v3[34] )
  {
    result = v6;
  }
  else
  {
    result = sub_10053540();
    if ( result != 12 )
      v3[34] = 1;
  }
  if ( v3[34] )
  {
    sub_10053070(a2);
    if ( a3 )
    {
      v7 = sub_10052DE0((_DWORD *)a1, *(void (__cdecl **)(signed int, void *))(a2 + 16), a3);
    }
    else
    {
      v5 = 0;
      v7 = 0;
      if ( *(_DWORD *)(a2 + 12) )
      {
        v8 = 0;
        do
        {
          v7 += sub_10052DE0((_DWORD *)a1, *(void (__cdecl **)(signed int, void *))(a2 + 16), v8 + *(_DWORD *)(a2 + 8));
          v8 += 40;
          ++v5;
        }
        while ( v5 < *(_DWORD *)(a2 + 12) );
        sub_100530A0(a2);
        return v7;
      }
    }
    sub_100530A0(a2);
    result = v7;
  }
  return result;
}

//----- (10053710) --------------------------------------------------------
int __cdecl sub_10053710(int a1, int a2, int a3, const char *a4, const char *a5)
{
  int v5; // ebp@1
  unsigned int v6; // eax@1
  char *v7; // ecx@1
  int result; // eax@3
  int v9; // eax@5
  char *v10; // eax@7
  char *v11; // eax@7
  char *v12; // eax@7
  char *v13; // eax@7
  char *v14; // eax@7
  char **v15; // eax@7
  char **v16; // esi@7
  char *v17; // eax@7
  char *v18; // eax@7
  char *v19; // eax@7
  char *v20; // eax@7
  char *v21; // eax@8
  char *v22; // eax@9
  const char *v23; // edi@9
  char *v24; // eax@11
  int v25; // [sp+8h] [bp-41Ch]@4
  int v26[4]; // [sp+10h] [bp-414h]@2
  char v27; // [sp+20h] [bp-404h]@1
  char v28; // [sp+120h] [bp-304h]@7
  char v29; // [sp+220h] [bp-204h]@7
  char v30; // [sp+320h] [bp-104h]@11

  v5 = a1;
  v6 = 0;
  v7 = &v27;
  do
  {
    v26[v6] = (int)v7;
    *v7 = 0;
    ++v6;
    v7 += 256;
  }
  while ( v6 < 4 );
  result = a2;
  if ( a2 )
  {
    v25 = a2;
    do
    {
      v9 = *(_DWORD *)(v5 + 12);
      if ( v9 )
      {
        result = v9 - 1;
        if ( !result )
        {
          v10 = sub_10052D20(0, "group", (int)&v27);
          LOBYTE(v10) = 0;
          v11 = sub_10052D20(v10, a4, (int)&v28);
          LOBYTE(v11) = 0;
          sub_10052D20(v11, *(const char **)v5, (int)&v29);
          v12 = (char *)sub_10055F40(2, (int)v26, 3);
          LOBYTE(v12) = 0;
          v13 = sub_10052D20(v12, "group", (int)&v27);
          LOBYTE(v13) = 0;
          v14 = sub_10052D20(v13, a4, (int)&v28);
          LOBYTE(v14) = 0;
          sub_10052D20(v14, "group-begin", (int)&v29);
          sub_10055F40(2, (int)v26, 3);
          v15 = (char **)(*(int (**)(void))(v5 + 8))();
          v16 = v15;
          v17 = sub_10052B80(v15);
          sub_10053710(v16[2], v16[3], v16[4], v17, a4);
          sub_10052B80(v16);
          v18 = sub_10052EC0((int)v16[2], v16[3], (int)v16[4], a4);
          LOBYTE(v18) = 0;
          v19 = sub_10052D20(v18, "group", (int)&v27);
          LOBYTE(v19) = 0;
          v20 = sub_10052D20(v19, a4, (int)&v28);
          LOBYTE(v20) = 0;
          sub_10052D20(v20, "group-end", (int)&v29);
          result = sub_10055F40(2, (int)v26, 3);
        }
      }
      else
      {
        v21 = sub_10052D20(0, "case", (int)&v27);
        LOBYTE(v21) = 0;
        if ( a5 )
        {
          v22 = sub_10052D20(v21, a5, (int)&v28);
          v23 = a4;
        }
        else
        {
          v22 = sub_10052D20(v21, a4, (int)&v28);
          v23 = &byte_10077A17;
        }
        LOBYTE(v22) = 0;
        v24 = sub_10052D20(v22, v23, (int)&v29);
        LOBYTE(v24) = 0;
        sub_10052D20(v24, *(const char **)v5, (int)&v30);
        result = sub_10055F40(2, (int)v26, 4);
      }
      v5 += 40;
      --v25;
    }
    while ( v25 );
  }
  return result;
}
// 10053710: using guessed type int var_414[4];

//----- (10053920) --------------------------------------------------------
char *__usercall sub_10053920@<eax>(const char *a1@<ecx>, const char *a2@<ebx>, int a3, char *a4, int a5, char a6)
{
  const char *v6; // edi@1
  char *v7; // eax@1
  char *v8; // ecx@1
  char *v9; // eax@3
  char *result; // eax@3
  int v11[2]; // [sp+Ch] [bp-20Ch]@2
  char v12; // [sp+14h] [bp-204h]@1
  char v13; // [sp+114h] [bp-104h]@3

  v6 = a1;
  v7 = 0;
  v8 = &v12;
  do
  {
    v11[(signed int)v7] = (int)v8;
    *v8 = 0;
    ++v7;
    v8 += 256;
  }
  while ( (unsigned int)v7 < 2 );
  LOBYTE(v7) = 0;
  v9 = sub_10052D20(v7, v6, (int)&v12);
  LOBYTE(v9) = 0;
  result = sub_10052D20(v9, a2, (int)&v13);
  if ( v13 )
    result = (char *)sub_10055F40(2, (int)v11, 2);
  if ( a6 )
  {
    sub_10053710(a3, (int)a4, a5, a2, 0);
    result = sub_10052EC0(a3, a4, a5, 0);
  }
  return result;
}
// 10053920: using guessed type int var_20C[2];

//----- (100539E0) --------------------------------------------------------
char *__cdecl sub_100539E0(char a1)
{
  int (**i)(void); // edi@1
  int v2; // esi@3
  char *v3; // ebx@3
  char **v4; // esi@4
  signed int v5; // edi@4
  char *result; // eax@5

  for ( i = (int (**)(void))dword_10146538[sub_10052BD0()]; i; ++i )
  {
    if ( !*i )
      break;
    v2 = (*i)();
    v3 = sub_10052B80((char **)v2);
    sub_10053920("suite", v3, *(_DWORD *)(v2 + 8), *(char **)(v2 + 12), *(_DWORD *)(v2 + 16), a1);
  }
  v4 = (char **)(sub_100535F0() + 36);
  v5 = 5;
  do
  {
    result = *v4;
    if ( *v4 )
    {
      if ( *((_DWORD *)result + 2) )
        result = sub_10053920(
                   "listener",
                   *(const char **)result,
                   *((_DWORD *)result + 3),
                   *((char **)result + 4),
                   *((_DWORD *)result + 2),
                   a1);
    }
    ++v4;
    --v5;
  }
  while ( v5 );
  return result;
}
// 10146538: using guessed type int dword_10146538[];

//----- (10053A80) --------------------------------------------------------
int *__cdecl sub_10053A80(_BYTE *a1)
{
  int (**v1)(void); // edi@1
  char **v2; // eax@3
  char **v3; // esi@3
  char *v4; // eax@3
  char *v5; // eax@6
  char *v6; // ebx@7
  unsigned int v7; // esi@7
  int **v8; // edi@7
  int *result; // eax@8

  v1 = (int (**)(void))dword_10146538[sub_10052BD0()];
  if ( v1 )
  {
    while ( *v1 )
    {
      v2 = (char **)(*v1)();
      v3 = v2;
      v4 = sub_10052B80(v2);
      if ( !sub_10052C80(a1, (int)v4) )
      {
        v5 = sub_10052B80(v3);
        sub_10053920("suite", v5, (int)v3[2], v3[3], (int)v3[4], 1);
        break;
      }
      ++v1;
      if ( !v1 )
        break;
    }
  }
  v6 = sub_100535F0();
  v7 = 0;
  v8 = (int **)(v6 + 36);
  while ( 1 )
  {
    result = *v8;
    if ( *v8 )
    {
      result = (int *)sub_10052C80(a1, *result);
      if ( !result )
        break;
    }
    ++v7;
    ++v8;
    if ( v7 >= 5 )
      return result;
  }
  return (int *)sub_10053920(
                  "listener",
                  **(const char ***)&v6[4 * v7 + 36],
                  *(_DWORD *)(*(_DWORD *)&v6[4 * v7 + 36] + 12),
                  *(char **)(*(_DWORD *)&v6[4 * v7 + 36] + 16),
                  *(_DWORD *)(*(_DWORD *)&v6[4 * v7 + 36] + 8),
                  1);
}
// 10146538: using guessed type int dword_10146538[];

//----- (10053B40) --------------------------------------------------------
int __usercall sub_10053B40@<eax>(int a1@<eax>)
{
  int v1; // edi@1
  bool v2; // zf@1
  int result; // eax@1
  signed int v4; // ebp@3
  int v5; // eax@5
  int v6; // eax@8
  int v7; // ecx@14
  int v8; // esi@18
  unsigned int v9; // eax@18
  int v10; // eax@19
  int v11; // edi@25

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 20) == 0;
  result = 12;
  if ( !v2 && !*(_BYTE *)(v1 + 24) )
  {
    v4 = 2;
    if ( !*(_DWORD *)(v1 + 16) )
    {
      *(_DWORD *)(v1 + 16) = sub_10052DA0(++*(_DWORD *)(v1 + 12));
      *(_DWORD *)(v1 + 8) = 0;
      *(_DWORD *)(v1 + 4) = 0;
    }
    v5 = *(_DWORD *)(v1 + 16);
    if ( v5 )
    {
      if ( *(_DWORD *)(v1 + 20) == 1 )
      {
        sub_10053660(v1, v5, *(_DWORD *)(v1 + 8));
        v6 = sub_10052DA0(++*(_DWORD *)(v1 + 12));
        v2 = *(_DWORD *)(v1 + 28) == 0;
        *(_DWORD *)(v1 + 16) = v6;
        *(_DWORD *)(v1 + 8) = 0;
        if ( !v2 || !v6 )
          *(_BYTE *)(v1 + 24) = 1;
      }
      else if ( *(_DWORD *)(v1 + 28) == 2 )
      {
        sub_10053660(v1, v5, *(_DWORD *)(v1 + 8));
        *(_BYTE *)(v1 + 24) = 1;
      }
      else if ( *(_DWORD *)(v1 + 8)
             || (*(_DWORD *)(v1 + 4) = 0, v7 = *(_DWORD *)(v5 + 8), (*(_DWORD *)(v1 + 8) = v7) != 0) )
      {
        if ( !*(_DWORD *)(v1 + 4) )
          sub_10053070(v5);
        sub_10052DE0(
          (_DWORD *)v1,
          *(void (__cdecl **)(signed int, void *))(*(_DWORD *)(v1 + 16) + 16),
          *(_DWORD *)(v1 + 8));
        v8 = *(_DWORD *)(v1 + 16);
        v9 = ++*(_DWORD *)(v1 + 4);
        if ( *(_DWORD *)(v8 + 12) > v9 )
        {
          *(_DWORD *)(v1 + 8) = *(_DWORD *)(v8 + 8) + 40 * v9;
        }
        else
        {
          sub_100530A0(v8);
          v10 = sub_10052DA0(++*(_DWORD *)(v1 + 12));
          *(_DWORD *)(v1 + 16) = v10;
          *(_DWORD *)(v1 + 4) = 0;
          *(_DWORD *)(v1 + 8) = 0;
          if ( !v10 || *(_DWORD *)(v1 + 28) )
            *(_BYTE *)(v1 + 24) = 1;
        }
      }
      else
      {
        *(_BYTE *)(v1 + 24) = 1;
        v4 = 12;
      }
    }
    else
    {
      *(_BYTE *)(v1 + 24) = 1;
      v4 = 12;
    }
    if ( *(_BYTE *)(v1 + 24) && v4 == 2 )
    {
      v11 = *(_DWORD *)v1;
      if ( v11 )
        result = v11 + 12;
      else
        result = 0;
    }
    else
    {
      result = v4;
    }
  }
  return result;
}

//----- (10053CA0) --------------------------------------------------------
signed int __usercall sub_10053CA0@<eax>(int a1@<esi>)
{
  signed int v1; // ebp@1
  int (**i)(void); // edi@2
  int v3; // eax@4
  signed int result; // eax@5

  v1 = 0;
  if ( *(_DWORD *)(a1 + 20) )
  {
    if ( *(_BYTE *)(a1 + 24) )
    {
      *(_DWORD *)(a1 + 16) = 0;
      *(_DWORD *)(a1 + 8) = 0;
      *(_DWORD *)(a1 + 12) = 0;
      *(_DWORD *)(a1 + 4) = 0;
      *(_DWORD *)(a1 + 28) = 0;
      *(_BYTE *)(a1 + 24) = 0;
      result = 1;
    }
    else
    {
      result = 12;
    }
  }
  else
  {
    for ( i = (int (**)(void))dword_10146538[sub_10052BD0()]; i; ++i )
    {
      if ( !*i )
        break;
      v3 = (*i)();
      v1 += sub_10053660(a1, v3, 0);
    }
    result = v1;
  }
  return result;
}
// 10146538: using guessed type int dword_10146538[];

//----- (10053D10) --------------------------------------------------------
int __cdecl sub_10053D10(int a1, int a2)
{
  int v2; // ebx@1
  char *v3; // esi@1
  int v4; // ebx@3
  int result; // eax@3
  _BYTE *v6; // esi@5
  int v7; // ebx@6
  int v8; // ebx@8
  int v9; // ebx@9
  int (**i)(void); // edi@11
  int v11; // eax@13
  int (__cdecl *v12)(int, int); // eax@14
  int (**v13)(void); // esi@19
  int v14; // eax@21
  int (__cdecl *v15)(int, int); // eax@22

  v2 = 0;
  v3 = sub_100535F0();
  switch ( a1 )
  {
    case 9:
      sub_10055FB0(2, (unsigned int)"begin");
      if ( *(_DWORD *)a2 )
      {
        if ( *(_DWORD *)a2 == 5 )
        {
          v6 = (_BYTE *)(a2 + 4);
          if ( sub_10052C80((_BYTE *)(a2 + 4), (int)"-v") )
          {
            if ( sub_10052C80(v6, (int)"-q") )
            {
              sub_10053A80(v6);
              v9 = sub_10053540();
              sub_10055FB0(2, (unsigned int)"end");
              result = v9;
            }
            else
            {
              sub_100539E0(0);
              v8 = sub_10053540();
              sub_10055FB0(2, (unsigned int)"end");
              result = v8;
            }
          }
          else
          {
            sub_100539E0(1);
            v7 = sub_10053540();
            sub_10055FB0(2, (unsigned int)"end");
            result = v7;
          }
        }
        else
        {
          sub_10056000(
            3,
            (int)"**Error**",
            (int)"..\\lib\\utf\\utf_runner.c",
            (int)"1719",
            (int)"Unsupported argument type for help command (internal error)");
          sub_10055FB0(2, (unsigned int)"end");
          result = 4;
        }
      }
      else
      {
        sub_100539E0(0);
        v4 = sub_10053540();
        sub_10055FB0(2, (unsigned int)"end");
        result = v4;
      }
      return result;
    case 2:
      sub_10055FB0(0, (unsigned int)"Global reset command");
      for ( i = (int (**)(void))dword_10146538[sub_10052BD0()]; i; ++i )
      {
        if ( !*i )
          break;
        v11 = (*i)();
        if ( v11 )
        {
          v12 = *(int (__cdecl **)(int, int))(v11 + 16);
          if ( v12 )
          {
            if ( v12 != sub_10053D10 )
              v12(2, (int)&unk_100B0F98);
          }
        }
      }
      sub_10056240();
      v3[34] = 0;
      return 0;
    case 3:
      sub_10055FB0(1, (unsigned int)"Global clear command");
      v13 = (int (**)(void))dword_10146538[sub_10052BD0()];
      if ( !v13 )
        return v2;
      break;
    case 10:
      if ( !*((_DWORD *)v3 + 5) )
      {
        sub_10056000(3, (int)"**Error**", (int)"..\\lib\\utf\\utf_runner.c", (int)"1764", (int)"Step mode not enabled");
        goto LABEL_29;
      }
      return sub_10053B40((int)v3);
    case 11:
      if ( v3[24] )
      {
        *((_DWORD *)v3 + 5) = 0;
        v3[24] = 0;
        result = 0;
      }
      else
      {
        sub_10056000(3, (int)"**Error**", (int)"..\\lib\\utf\\utf_runner.c", (int)"1783", (int)"Step mode is busy");
LABEL_29:
        result = 12;
      }
      return result;
    case 12:
      *((_DWORD *)v3 + 5) = 1;
      return 0;
    case 13:
      *((_DWORD *)v3 + 5) = 2;
      return 0;
    case 8:
      return sub_10053CA0((int)v3);
    case 14:
      exit_1(12);
      return result;
    case 4:
    case 5:
    case 6:
    case 7:
      return v2;
    default:
      sub_10056000(
        3,
        (int)"**Warning**",
        (int)"..\\lib\\utf\\utf_runner.c",
        (int)"1820",
        (int)"Unknown/unsupported command (internal error)");
      return 4;
  }
  while ( *v13 )
  {
    v14 = (*v13)();
    if ( v14 )
    {
      v15 = *(int (__cdecl **)(int, int))(v14 + 16);
      if ( v15 )
      {
        if ( v15 != sub_10053D10 )
          v15(3, (int)&unk_100B0F98);
      }
    }
    ++v13;
    if ( !v13 )
      return 0;
  }
  return v2;
}
// 10053D10: using guessed type int __cdecl sub_10053D10(int, int);
// 10146538: using guessed type int dword_10146538[];

//----- (10053FF0) --------------------------------------------------------
char __cdecl sub_10053FF0(int a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@11
  int v4; // eax@16
  int v6; // [sp+8h] [bp-54h]@1
  int v7; // [sp+Ch] [bp-50h]@1
  int v8; // [sp+10h] [bp-4Ch]@1
  int v9; // [sp+14h] [bp-48h]@1
  int v10; // [sp+18h] [bp-44h]@1
  char v11; // [sp+1Ch] [bp-40h]@16

  LOBYTE(v2) = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  if ( a1 == 28 || a1 == 29 || a1 == 30 || a1 == 31 || a1 == 32 || a1 == 48 || a1 == 33 || a1 == 34 )
  {
    v2 = sub_1004D960((_DWORD *)a2, 2u, (int)&unk_100B1FF0, 8, 77, 77);
    if ( v2 != 77 )
    {
      if ( *(_WORD *)a2 == -32768 )
      {
        v3 = *(_WORD *)(a2 + 10) + 16;
      }
      else if ( *(_WORD *)a2 == -32767 )
      {
        v3 = *(_DWORD *)(a2 + 4) + 8;
      }
      else
      {
        v3 = dword_100B1FF4[2 * v2] + 4;
      }
      v7 = v3;
      v10 = 65;
      v6 = a2;
      v9 = 10;
      v2 = sub_10017930(a1, (int)&v6);
      if ( v2 == 16 )
      {
        v4 = sub_100176A0();
        sub_1004A340(&v11, 0x3Cu, "message queue timed out sending from: %d to %d", v4, a1);
        LOBYTE(v2) = sub_100175E0("..\\lib\\adl\\iop_msg_intf.c", 433, 0, &v11);
      }
    }
  }
  return v2;
}
// 100B1FF4: using guessed type int dword_100B1FF4[];

//----- (10054110) --------------------------------------------------------
int __cdecl sub_10054110(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  int result; // eax@1
  unsigned int v4; // edx@1
  char v5; // bl@8
  char v6; // dl@13
  char v7; // cl@13

  v2 = a2 / 0x15180 % 0x5B5;
  result = a1;
  v4 = 4 * (a2 / 0x15180 / 0x5B5) + 1990;
  *(_WORD *)(a1 + 2) = v4;
  if ( v2 > 0x16D )
  {
    do
    {
      v2 -= 365;
      if ( !((unsigned __int16)v4 % 4) )
        --v2;
      LOWORD(v4) = v4 + 1;
    }
    while ( v2 > 0x16D );
    *(_WORD *)(a1 + 2) = v4;
  }
  if ( v2 >= 1 )
  {
    v5 = 0;
    if ( v2 > 0x3B && !(*(_WORD *)(a1 + 2) % 4) )
    {
      --v2;
      v5 = 1;
    }
    *(_BYTE *)a1 = 12;
    if ( v2 <= 0x14E )
    {
      do
        --*(_BYTE *)a1;
      while ( v2 <= *(_WORD *)&word_100B22A2[2 * *(_BYTE *)a1] );
    }
    v6 = *(_BYTE *)a1;
    v7 = v2 - word_100B22A2[2 * *(_BYTE *)a1];
    *(_BYTE *)(a1 + 1) = v7;
    if ( v5 == 1 && v6 == 2 )
      *(_BYTE *)(a1 + 1) = v7 + 1;
  }
  else
  {
    --*(_WORD *)(a1 + 2);
    *(_BYTE *)a1 = 12;
    *(_BYTE *)(a1 + 1) = 31;
  }
  return result;
}

//----- (10054200) --------------------------------------------------------
__int16 __cdecl sub_10054200(int a1, unsigned int a2)
{
  unsigned int v2; // ecx@1
  __int16 result; // ax@1

  v2 = a2 % 0x15180 % 0xE10;
  *(_WORD *)a1 = a2 % 0x15180 / 0xE10;
  *(_BYTE *)(a1 + 2) = v2 / 0x3C;
  result = 60 * (char)(v2 / 0x3C);
  *(_BYTE *)(a1 + 3) = v2 % 0x3C;
  return result;
}

//----- (10054250) --------------------------------------------------------
__int16 __cdecl sub_10054250(unsigned int *a1, _WORD *a2, _WORD *a3)
{
  unsigned int v3; // esi@1
  __int16 result; // ax@1
  int v5; // [sp+4h] [bp-Ch]@1
  int v6; // [sp+8h] [bp-8h]@1

  v3 = *a1;
  sub_10054200((int)&v5, *a1);
  sub_10054110((int)&v6, v3);
  *a3 = (unsigned __int8)(BYTE3(v5) >> 1) | (unsigned __int16)(32 * (BYTE2(v5) | (unsigned __int16)((_WORD)v5 << 6)));
  result = BYTE1(v6);
  *a2 = BYTE1(v6) | (unsigned __int16)(32 * ((unsigned __int8)v6 | (unsigned __int16)(16 * (HIWORD(v6) - 60))));
  return result;
}

//----- (100542D0) --------------------------------------------------------
int __cdecl sub_100542D0(_BYTE *a1)
{
  return sub_1004F7D0(a1, 0, 0x2710u, 5000, 0);
}

//----- (100542F0) --------------------------------------------------------
int __cdecl sub_100542F0(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 5u, 5u, 0);
}

//----- (10054310) --------------------------------------------------------
int __cdecl sub_10054310(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 6u, 0, 0);
}

//----- (10054330) --------------------------------------------------------
int __cdecl sub_10054330(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 0xEu, 1u, 0);
}

//----- (10054350) --------------------------------------------------------
int __cdecl sub_10054350(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 1u, 0, 0);
}

//----- (10054380) --------------------------------------------------------
int __cdecl sub_10054380(int a1)
{
  int result; // eax@1

  result = sub_100542F0((unsigned __int8 *)a1);
  if ( !result )
  {
    result = sub_10054370(a1 + 12);
    if ( !result )
    {
      result = sub_10054350((unsigned __int8 *)(a1 + 1));
      if ( !result )
        result = sub_10054330((unsigned __int8 *)(a1 + 2));
    }
  }
  return result;
}
// 10054370: using guessed type _DWORD __cdecl sub_10054370(_DWORD);

//----- (100543C0) --------------------------------------------------------
int __cdecl sub_100543C0(int a1)
{
  int result; // eax@1

  result = sub_100555A0((void *)(a1 + 28));
  if ( !result )
    result = sub_10054380(a1);
  return result;
}

//----- (100543E0) --------------------------------------------------------
unsigned int __cdecl sub_100543E0(unsigned int a1)
{
  unsigned int result; // eax@4

  if ( a1 < 0xFFFFFFC2 && a1 && (a1 & 3) == 1 )
    result = a1 & 0xFFFFFFFC;
  else
    result = 0;
  return result;
}

//----- (10054400) --------------------------------------------------------
bool __cdecl sub_10054400(int a1)
{
  bool result; // al@1
  unsigned int v2; // eax@4
  _DWORD *v3; // edx@4
  _DWORD *v4; // esi@4
  int v5; // ecx@8
  int v6; // eax@9
  _BYTE *v7; // edx@9
  _BYTE *v8; // esi@9
  int v9; // eax@11
  _BYTE *v10; // edx@11
  _BYTE *v11; // esi@11
  _BYTE *v12; // edx@13
  _BYTE *v13; // esi@13
  int v14; // edx@14
  signed int v15; // eax@15

  result = *(_DWORD *)(a1 + 88) == ~*(_DWORD *)(a1 + 36);
  if ( *(_WORD *)(a1 + 30) != 99 || !result && *(_WORD *)(a1 + 684) != 2 )
    return result;
  v2 = 10;
  v3 = (_DWORD *)(a1 + 693);
  v4 = (_DWORD *)(a1 + 721);
  do
  {
    if ( *v4 != *v3 )
      goto LABEL_8;
    v2 -= 4;
    ++v3;
    ++v4;
  }
  while ( v2 >= 4 );
  if ( !v2 )
  {
LABEL_17:
    v15 = 0;
    return v15 == 0;
  }
LABEL_8:
  v5 = *(_BYTE *)v4 - *(_BYTE *)v3;
  if ( *(_BYTE *)v4 == *(_BYTE *)v3 )
  {
    v6 = v2 - 1;
    v7 = (char *)v3 + 1;
    v8 = (char *)v4 + 1;
    if ( !v6 )
      goto LABEL_17;
    v5 = *v8 - *v7;
    if ( *v8 == *v7 )
    {
      v9 = v6 - 1;
      v10 = v7 + 1;
      v11 = v8 + 1;
      if ( !v9 )
        goto LABEL_17;
      v5 = *v11 - *v10;
      if ( *v11 == *v10 )
      {
        v12 = v10 + 1;
        v13 = v11 + 1;
        if ( v9 == 1 )
          goto LABEL_17;
        v14 = *v12;
        v5 = *v13 - v14;
        if ( *v13 == v14 )
          goto LABEL_17;
      }
    }
  }
  v15 = 1;
  if ( v5 <= 0 )
    return 0;
  return v15 == 0;
}

//----- (100544D0) --------------------------------------------------------
int __cdecl sub_100544D0(int a1)
{
  return *(_WORD *)(a1 + 30) + *(_WORD *)(a1 + 32) + *(_WORD *)(a1 + 28) + 46;
}

//----- (100544F0) --------------------------------------------------------
int __cdecl sub_100544F0(int a1, int a2)
{
  int result; // eax@2

  if ( a2 )
    result = *(_WORD *)(a2 + 28) + *(_WORD *)(a2 + 26) + 30;
  else
    result = -16 - *(_WORD *)(a1 + 52) + sub_100544D0(a1 + 20);
  return result;
}

//----- (10054530) --------------------------------------------------------
signed int __cdecl sub_10054530(int a1, void *a2, unsigned __int16 a3, __int16 a4)
{
  int v4; // edi@1
  int v5; // ebx@1
  int v6; // esi@1
  signed int result; // eax@1
  int v8; // ebp@1

  v4 = a1;
  v5 = *(_DWORD *)(a1 + 732);
  v6 = 0;
  result = -15;
  v8 = *(_WORD *)(a1 + 48) + *(_DWORD *)(a1 + 16) + 46;
  if ( *(_WORD *)(a1 + 50) >= 4u )
  {
    while ( (unsigned int)(v6 + v8) < *(_DWORD *)(v5 + 120) )
    {
      if ( sub_10018480(*(_DWORD *)(v5 + 4), &a1, 4, v6 + v8, 0) != 4 )
        return -15;
      if ( (_WORD)a1 == a4 && (unsigned int)HIWORD(a1) + 4 <= a3 )
        return sub_10018480(*(_DWORD *)(v5 + 4), a2, HIWORD(a1) + 4, v6 + v8, 0);
      v6 += HIWORD(a1) + 4;
      result = -15;
      if ( v6 + 4 > (unsigned int)*(_WORD *)(v4 + 50) )
        return result;
    }
  }
  return result;
}

//----- (100545F0) --------------------------------------------------------
int __cdecl sub_100545F0(int a1)
{
  int result; // eax@1

  result = a1;
  *(_DWORD *)(a1 + 4) = 0;
  *(_DWORD *)(a1 + 16) = 0;
  *(_DWORD *)a1 = 0;
  *(_DWORD *)(a1 + 12) = 0;
  return result;
}

//----- (10054630) --------------------------------------------------------
int __usercall sub_10054630@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // eax@2
  int result; // eax@2
  int v4; // eax@3
  __int16 v5; // cx@3
  int v6; // edx@3

  sub_10059E40(a2 + 721, a1 + 64);
  if ( *(_DWORD *)(a2 + 44) )
  {
    v4 = *(_DWORD *)(a2 + 725);
    v5 = *(_WORD *)(a2 + 729);
    *(_DWORD *)(a2 + 693) = *(_DWORD *)(a2 + 721);
    v6 = *(_DWORD *)(a2 + 732);
    *(_DWORD *)(a2 + 697) = v4;
    *(_WORD *)(a2 + 701) = v5;
    result = j_FIL_vfs_write(*(_DWORD *)(v6 + 116), a2 + 721, 10);
    *(_DWORD *)(a2 + 136) += 10;
    *(_DWORD *)(a2 + 40) += 10;
  }
  else
  {
    v2 = sub_10018560(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116));
    result = sub_10018580(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), v2 - *(_WORD *)(a2 + 50) - *(_DWORD *)(a2 + 40), 0);
    *(_DWORD *)(a2 + 84) -= *(_WORD *)(a2 + 50);
    *(_DWORD *)(a2 + 136) = 0;
    *(_WORD *)(a2 + 28) &= 0xFFFEu;
    *(_DWORD *)(a2 + 40) = 0;
    *(_WORD *)(a2 + 50) = 0;
    *(_WORD *)(a2 + 30) = 0;
    *(_WORD *)(a2 + 80) = 0;
  }
  return result;
}
// 100185A0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (100546E0) --------------------------------------------------------
signed int __usercall sub_100546E0@<eax>(int a1@<eax>, int a2@<esi>)
{
  int v2; // edi@1
  char v3; // ST30_1@2
  int v4; // ST28_4@2
  int v5; // eax@2
  __int64 v6; // rax@2
  int v7; // ebx@2
  char *v8; // ebp@2
  __int64 v9; // rax@3
  signed int result; // eax@4
  _WORD *v11; // edi@5
  _WORD *v12; // [sp+Ch] [bp-4h]@4

  v2 = a1;
  if ( *(_BYTE *)(a2 + 8) )
  {
    *(_WORD *)(a1 + 532) = -26367;
    *(_WORD *)(a1 + 534) = 7;
    *(_WORD *)(a1 + 536) = 1;
    *(_BYTE *)(a1 + 538) = 65;
    *(_BYTE *)(a1 + 539) = 69;
    v3 = *(_DWORD *)(a2 + 84);
    *(_DWORD *)(a2 + 76) = a1 + 532;
    v4 = a1 + 532;
    v5 = *(_DWORD *)(a2 + 732);
    *(_WORD *)(a2 + 50) = 11;
    *(_WORD *)(a2 + 80) = 11;
    sub_100185B0(*(_DWORD *)(v5 + 116), v4, 11, v3);
    *(_DWORD *)(a2 + 84) += *(_WORD *)(a2 + 80);
    *(_BYTE *)(v2 + 540) = *(_BYTE *)(*(_DWORD *)(a2 + 732) + 112);
    v6 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v6) & 7) + (signed int)v6) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_1005A290((void *)(v2 + 555), v7);
  }
  else
  {
    sub_10054530(a2, (void *)(a1 + 532), 0xBu, -26367);
    v9 = ((*(_BYTE *)(a2 + 688) & 3) + 1) << 6;
    v7 = (((BYTE4(v9) & 7) + (signed int)v9) >> 3) / 2;
    v8 = (char *)(v2 + 555);
    sub_10018480(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 555), v7, *(_DWORD *)(a2 + 84), 0);
    sub_10018480(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 571), 2, v7 + *(_DWORD *)(a2 + 84), 0);
  }
  v12 = (_WORD *)(v2 + 543);
  result = sub_1005A160(*(_BYTE *)(v2 + 540), (void *)v2, strlen((const char *)v2), v8, (_WORD *)(v2 + 543), v2 + 64);
  if ( *(_BYTE *)(a2 + 8) )
  {
    sub_100185B0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v8, v7, *(_DWORD *)(a2 + 84));
    v11 = (_WORD *)(v2 + 571);
    *v11 = *v12;
    sub_100185B0(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (int)v11, 2, v7 + *(_DWORD *)(a2 + 84));
    result = v7 + 2;
    *(_DWORD *)(a2 + 136) += v7 + 2;
    *(_DWORD *)(a2 + 40) += v7 + 2;
  }
  else
  {
    *(_DWORD *)(a2 + 92) += -12 - v7;
    *(_DWORD *)(a2 + 124) += v7 + 2;
  }
  return result;
}

//----- (100548B0) --------------------------------------------------------
char __usercall sub_100548B0@<al>(int a1@<eax>, char *a2@<edx>, unsigned int a3@<ecx>)
{
  return sub_10059DF0(a2, a3, a1 + 212);
}

//----- (100548C0) --------------------------------------------------------
int __usercall sub_100548C0@<eax>(int result@<eax>)
{
  if ( *(_WORD *)(result + 30) == 99 )
    result = sub_10054630(result + 148, result);
  return result;
}

//----- (100548E0) --------------------------------------------------------
char __usercall sub_100548E0@<al>(int a1@<eax>)
{
  int v1; // eax@1

  v1 = (*(_DWORD *)(a1 + 72) & 0xFFFD | 2) * ((*(_DWORD *)(a1 + 72) & 0xFFFD | 2) ^ 1);
  return BYTE1(v1);
}

//----- (10054900) --------------------------------------------------------
int __usercall sub_10054900@<eax>(int a1@<esi>, unsigned __int8 a2)
{
  int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@1
  int result; // eax@1

  v2 = sub_10064420(a2, *(_DWORD *)(a1 + 64));
  v3 = *(_DWORD *)(a1 + 72);
  *(_DWORD *)(a1 + 64) = v2;
  v4 = 134775813 * (*(_DWORD *)(a1 + 68) + (unsigned __int8)v2) + 1;
  *(_DWORD *)(a1 + 68) = v4;
  result = sub_10064420(BYTE3(v4), v3);
  *(_DWORD *)(a1 + 72) = result;
  return result;
}

//----- (10054940) --------------------------------------------------------
int __fastcall sub_10054940(int a1, int a2)
{
  int result; // eax@1

  result = *(_WORD *)(a2 + 30);
  if ( *(_WORD *)(a2 + 30) == 99 )
    result = *(_WORD *)(a2 + 689);
  return result;
}

//----- (10054960) --------------------------------------------------------
int __usercall sub_10054960@<eax>(int a1@<esi>)
{
  int v1; // ST1C_4@1
  unsigned int v2; // ST18_4@1
  int v3; // eax@1
  int v4; // ST00_4@1

  v1 = *(_DWORD *)(a1 + 20) + *(_DWORD *)(a1 + 24);
  v2 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)a1 = v1;
  sub_100185D0(v2, v1, 0);
  j_FIL_vfs_write(*(_DWORD *)(a1 + 4), a1 + 8, 22);
  v3 = *(_DWORD *)a1 + 22;
  v4 = *(_DWORD *)(a1 + 116);
  *(_DWORD *)(a1 + 120) = v3;
  return sub_10018580(v4, v3, 0);
}
// 100185A0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (100549A0) --------------------------------------------------------
signed int __usercall sub_100549A0@<eax>(int a1@<ecx>, int a2@<edi>, int a3, int a4, int a5, int a6)
{
  __int16 v6; // ax@1
  unsigned int *v7; // ecx@1
  int v8; // esi@1
  signed int v9; // eax@1
  unsigned int v10; // eax@1
  int v11; // ebx@1
  int v12; // ebx@1
  int v13; // eax@4
  int v14; // ecx@6
  int v15; // ebp@8
  unsigned int v16; // ebx@11
  __int64 v17; // rax@14
  unsigned int v18; // ecx@15
  unsigned int v19; // ebp@15
  int v21; // ebx@20
  signed int v22; // eax@23
  size_t v23; // ebp@29
  int v24; // ebx@33
  int v25; // [sp+Ch] [bp-8h]@1
  __int16 v26; // [sp+10h] [bp-4h]@1

  v6 = sub_10054940(a1, a3);
  v7 = *(unsigned int **)(a2 + 16);
  v8 = a2 + 28;
  v26 = v6;
  *(_DWORD *)v8 = v7;
  v9 = *(_DWORD *)(a2 + 20);
  *(_DWORD *)(v8 + 4) = v9;
  v25 = 0;
  v10 = sub_10064440(v7, v9, *(_DWORD *)a2);
  v11 = *(_DWORD *)(a2 + 12);
  *(_DWORD *)a2 = v10;
  v12 = v11 + 0xFFFFF;
  while ( 1 )
  {
    if ( !*(_DWORD *)(a2 + 32) )
    {
      if ( !a6 )
        goto LABEL_37;
      v13 = *(_DWORD *)(a2 + 12);
      if ( *(_DWORD *)(a2 + 44) == v13 && v12 != v13 + 0xFFFFF )
        break;
    }
    v14 = *(_DWORD *)(a2 + 12);
    if ( !v14 )
      break;
    if ( !--v12 )
      break;
    v15 = *(_DWORD *)(a2 + 44);
    if ( !v15 || a6 && v15 != v14 )
    {
      v16 = *(_DWORD *)(a2 + 48);
      if ( v16
        && (v16 >= 0x28
         || *(_WORD *)(a3 + 30) != 99
         || (v17 = ((*(_BYTE *)(a3 + 688) & 3) + 1) << 6, v16 != (((BYTE4(v17) & 7) + (signed int)v17) >> 3) / 2 + 2)) )
      {
        v18 = v14 - v15;
        v19 = v18;
        if ( *(_BYTE *)(a3 + 28) & 1 )
          sub_100548B0(a3, *(char **)(a2 + 8), v18);
        if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v19) != v19 )
          return -16;
      }
      else
      {
        v19 = 0;
      }
      v21 = *(_DWORD *)(a2 + 12);
      *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
      v12 = v21 + 0xFFFFF;
      v25 += v19;
      *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    }
    if ( v26 == 8 )
    {
      if ( a6 )
        v22 = sub_1005C040(a2 + 28, 4);
      else
        v22 = sub_1005C040(a2 + 28, 0);
      if ( v22 && v22 != 1 )
        return -15;
    }
    else
    {
      if ( v26 )
        return -15;
      v23 = *(_DWORD *)(a2 + 44);
      if ( *(_DWORD *)(a2 + 32) < v23 )
        v23 = *(_DWORD *)(a2 + 32);
      memcpy_0(*(void **)(a2 + 40), *(const void **)v8, v23);
      *(_DWORD *)(a2 + 32) -= v23;
      *(_DWORD *)(a2 + 44) -= v23;
      *(_DWORD *)v8 += v23;
      *(_DWORD *)(a2 + 40) += v23;
      *(_DWORD *)(a2 + 36) += v23;
      *(_DWORD *)(a2 + 48) += v23;
    }
  }
  if ( a6 )
  {
    v24 = *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44);
    if ( *(_BYTE *)(a3 + 28) & 1 )
      sub_100548B0(a3, *(char **)(a2 + 8), *(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 44));
    if ( j_FIL_vfs_write(a4, *(_DWORD *)(a2 + 8), v24) != v24 )
      return -16;
    v25 += v24;
    *(_DWORD *)(a2 + 44) = *(_DWORD *)(a2 + 12);
    *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 8);
  }
LABEL_37:
  *(_DWORD *)(a5 + 24) = *(_DWORD *)(a2 + 36);
  *(_DWORD *)(a5 + 20) = *(_DWORD *)(a2 + 48);
  return v25;
}
// 100185A0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (10054BB0) --------------------------------------------------------
int __cdecl sub_10054BB0(int a1)
{
  int v1; // ebx@1
  int v2; // esi@1
  unsigned int v3; // ebp@1
  bool v4; // zf@1
  int v5; // ecx@1
  __int16 v6; // cx@4
  __int16 v7; // ax@4
  __int16 v8; // dx@4
  __int16 v9; // cx@4
  unsigned int v10; // edx@4
  int v11; // eax@4
  unsigned int v12; // ecx@4
  int v13; // eax@4
  int result; // eax@5
  int v15; // eax@6
  unsigned __int16 v16; // ax@7
  int v17; // eax@11
  int v18; // edx@13
  int v19; // edi@13
  int v20; // eax@13
  unsigned __int16 v21; // cx@14
  int v22; // [sp+10h] [bp-28h]@4
  char v23; // [sp+14h] [bp-24h]@3
  int v24; // [sp+18h] [bp-20h]@1
  int v25; // [sp+1Ch] [bp-1Ch]@1
  int v26; // [sp+20h] [bp-18h]@1
  int v27; // [sp+24h] [bp-14h]@1
  __int64 v28; // [sp+28h] [bp-10h]@1
  int v29; // [sp+30h] [bp-8h]@1
  __int16 v30; // [sp+34h] [bp-4h]@1
  int v31; // [sp+3Ch] [bp+4h]@1

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 732);
  v31 = *(_DWORD *)(v2 + 116);
  sub_100548C0(v1);
  v3 = *(_DWORD *)(v2 + 4);
  v4 = *(_WORD *)(v1 + 32) == 0;
  v5 = ~*(_DWORD *)(v1 + 88);
  v24 = 0;
  v25 = 0;
  v26 = 0;
  v27 = 0;
  v28 = 0i64;
  v29 = 0;
  v30 = 0;
  *(_DWORD *)(v1 + 36) = v5;
  if ( v4 || !*(_WORD *)(v1 + 34) )
  {
    sub_1004F130(&v23);
    sub_10054250((unsigned int *)&v23, (_WORD *)(v1 + 34), (_WORD *)(v1 + 32));
  }
  v6 = *(_WORD *)(v1 + 24);
  v7 = *(_WORD *)(v1 + 30);
  HIWORD(v25) = *(_WORD *)(v1 + 28);
  v8 = *(_WORD *)(v1 + 34);
  LOWORD(v25) = v6;
  v9 = *(_WORD *)(v1 + 32);
  LOWORD(v27) = v8;
  v10 = *(_DWORD *)(v1 + 44);
  LOWORD(v26) = v7;
  v11 = *(_DWORD *)(v1 + 36);
  HIWORD(v26) = v9;
  v12 = *(_DWORD *)(v1 + 40);
  *(int *)((char *)&v27 + 2) = v11;
  LOWORD(v11) = *(_WORD *)(v1 + 48);
  *(__int64 *)((char *)&v28 + 2) = __PAIR__(v10, v12);
  LOWORD(v12) = *(_WORD *)(v1 + 50);
  v24 = 67324752;
  HIWORD(v29) = v11;
  v30 = v12;
  v22 = sub_100544F0(v1, (int)&v24);
  v13 = sub_10018560(v31);
  if ( v3 == v31 )
  {
    result = sub_100183D0(v31, v13, v31, *(_DWORD *)(v2 + 24), *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v15 = *(_DWORD *)(v2 + 24);
    *(_DWORD *)(v1 + 62) = v15;
    *(_DWORD *)(v1 + 84) = v22 + v15;
  }
  sub_100185D0(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 62), 0);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), &v24, 30);
  j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72));
  v16 = *(_WORD *)(v1 + 80);
  if ( v16 )
    j_FIL_vfs_write(*(_DWORD *)(v2 + 116), *(_DWORD *)(v1 + 76), v16);
  if ( v3 == v31 )
  {
    result = sub_100183D0(
               v31,
               *(_DWORD *)(v1 + 84),
               v31,
               v22 + *(_DWORD *)(v2 + 120),
               *(_DWORD *)(v1 + 40) + *(_DWORD *)(v2 + 20));
    if ( result )
      return result;
    v17 = *(_DWORD *)((char *)&v28 + 2) + v22 + *(_DWORD *)(v2 + 24);
  }
  else
  {
    v17 = 0;
  }
  v18 = v17 + *(_DWORD *)(v2 + 20);
  ++*(_WORD *)(v2 + 16);
  ++*(_WORD *)(v2 + 18);
  *(_DWORD *)(v2 + 8) = 101010256;
  *(_DWORD *)(v2 + 24) = v17;
  *(_WORD *)(v2 + 28) = 0;
  sub_100185D0(v3, v18, 0);
  *(_DWORD *)(v2 + 20) += sub_100544D0(v1 + 20);
  j_FIL_vfs_write(v3, v1 + 20, 46);
  v19 = j_FIL_vfs_write(v3, *(_DWORD *)(v1 + 68), *(_WORD *)(v1 + 72)) != *(_WORD *)(v1 + 72) ? 0xFFFFFFF1 : 0;
  v20 = *(_DWORD *)(v1 + 76);
  if ( v20 )
  {
    v21 = *(_WORD *)(v1 + 80);
    if ( v21 )
    {
      v19 |= j_FIL_vfs_write(v3, v20, v21);
      if ( v19 >= 0 )
        v19 = 0;
    }
  }
  *(_DWORD *)v2 = *(_DWORD *)(v2 + 20) + *(_DWORD *)(v2 + 24);
  if ( v3 == v31 )
    sub_10054960(v2);
  else
    *(_DWORD *)(v2 + 120) = sub_10018560(v31);
  *(_DWORD *)(v2 + 36) = *(_DWORD *)(v2 + 24);
  *(_DWORD *)(v2 + 32) = 0;
  return v19;
}
// 100185A0: using guessed type int __cdecl j_FIL_vfs_write(_DWORD, _DWORD, _DWORD);

//----- (10054E20) --------------------------------------------------------
signed int __cdecl sub_10054E20(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ecx@7
  int v5; // eax@10

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    if ( *(_DWORD *)(a1 + 112) == *(_DWORD *)(a1 + 44) && !*(_DWORD *)(a1 + 124) )
      sub_100185D0(*(_DWORD *)(*(_DWORD *)(a1 + 732) + 116), *(_DWORD *)(a1 + 136) + *(_DWORD *)(a1 + 84), 0);
    v4 = *(_DWORD *)(a1 + 112) - a3;
    *(_DWORD *)(a1 + 104) = a2;
    *(_DWORD *)(a1 + 108) = a3;
    v5 = !v4 && *(_DWORD *)(a1 + 136) || !a2;
    result = sub_100549A0(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 88,
               a1,
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               a1 + 20,
               v5);
    if ( result >= 0 )
    {
      *(_DWORD *)(a1 + 40) = *(_DWORD *)(a1 + 136);
      *(_DWORD *)(a1 + 112) -= a3;
    }
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10054EC0) --------------------------------------------------------
int __usercall sub_10054EC0@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  char v2; // al@1
  unsigned __int8 *v3; // edx@1

  v1 = a1;
  v2 = sub_100548E0(a1);
  *v3 ^= v2;
  return sub_10054900(v1, *v3);
}

//----- (10054EE0) --------------------------------------------------------
int __usercall sub_10054EE0@<eax>(int a1@<edi>, int a2)
{
  int i; // esi@1
  int result; // eax@2

  for ( i = 0; i < a1; ++i )
    result = sub_10054EC0(a2);
  return result;
}

//----- (10054F10) --------------------------------------------------------
signed int __usercall sub_10054F10@<eax>(int a1@<eax>, int a2@<ebx>)
{
  int v2; // esi@1
  signed int v3; // edi@1
  signed int result; // eax@4

  v2 = a1;
  *(_DWORD *)(a1 + 64) = 305419896;
  *(_DWORD *)(a1 + 68) = 591751049;
  *(_DWORD *)(a1 + 72) = 878082192;
  v3 = 0;
  do
  {
    if ( !*(_BYTE *)(v3 + v2) )
      break;
    sub_10054900(v2, *(_BYTE *)(v3++ + v2));
  }
  while ( v3 < 64 );
  result = sub_10018480(*(_DWORD *)(*(_DWORD *)(a2 + 732) + 116), (void *)(v2 + 76), 12, *(_DWORD *)(a2 + 84), 0);
  *(_DWORD *)(a2 + 92) -= 12;
  *(_DWORD *)(a2 + 124) += 12;
  return result;
}

//----- (10055000) --------------------------------------------------------
char __usercall sub_10055000@<al>(char *a1@<edx>, size_t a2@<ecx>, int a3@<esi>)
{
  char result; // al@2

  if ( *(_WORD *)(a3 + 30) == 99 )
    result = sub_10059DA0(a1, a2, a3 + 212);
  else
    result = sub_10054EE0(a2, a3 + 148);
  return result;
}

//----- (10055030) --------------------------------------------------------
signed int __usercall sub_10055030@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  bool v2; // zf@1
  int v3; // eax@1
  signed int result; // eax@2

  v1 = a1;
  v2 = *(_WORD *)(a1 + 30) == 99;
  v3 = a1 + 148;
  if ( v2 )
    result = sub_100546E0(v3, v1);
  else
    result = sub_10054F10(v3, v1);
  return result;
}

//----- (10055060) --------------------------------------------------------
signed int __cdecl sub_10055060(unsigned int a1)
{
  signed int result; // eax@3
  int v2; // eax@4
  int v3; // ecx@4
  int v4; // edx@4

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    sub_100545F0(a1 + 116);
    v2 = *(_DWORD *)(a1 + 40);
    v3 = *(_DWORD *)(a1 + 44);
    *(_DWORD *)(a1 + 88) = -1;
    *(_DWORD *)(a1 + 92) = v2;
    *(_DWORD *)(a1 + 112) = v3;
    sub_1005DAB0(v4);
    if ( *(_BYTE *)(a1 + 28) & 1 )
      sub_10055030(a1);
    result = 0;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (100550B0) --------------------------------------------------------
signed int __cdecl sub_100550B0(int a1, int a2)
{
  int v2; // ebp@1
  int v3; // edi@1
  unsigned int v4; // eax@1
  unsigned int v5; // ecx@1
  signed int v6; // eax@4
  size_t v8; // eax@9
  size_t v9; // ebx@10
  int v10; // esi@13
  int v11; // edx@18
  __int16 v12; // ax@20
  size_t v13; // esi@21
  int v14; // ST30_4@25
  unsigned int *v15; // ST34_4@25
  int v16; // ebx@25
  int v17; // [sp+10h] [bp-Ch]@1
  int v18; // [sp+24h] [bp+8h]@7

  v2 = a2;
  v3 = a2 + 28;
  *(_DWORD *)(a2 + 40) = *(_DWORD *)(a2 + 16);
  v4 = *(_DWORD *)(a2 + 20);
  v5 = *(_DWORD *)(a2 + 24);
  v17 = 0;
  if ( v4 <= v5 )
    *(_DWORD *)(a2 + 44) = v4;
  else
    *(_DWORD *)(a2 + 44) = v5;
  v6 = 0xFFFFF;
  if ( *(_DWORD *)(a2 + 44) )
  {
    while ( 1 )
    {
      v18 = v6 - 1;
      if ( v6 - 1 <= 0 )
        break;
      if ( *(_DWORD *)(v3 + 4) || (v8 = *(_DWORD *)(v2 + 4)) == 0 )
      {
        v10 = a1;
      }
      else
      {
        v9 = *(_DWORD *)(v2 + 12);
        if ( v8 < v9 )
          v9 = *(_DWORD *)(v2 + 4);
        if ( !v9 )
          return v17;
        v10 = a1;
        if ( sub_10018480(
               *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
               *(void **)(v2 + 8),
               v9,
               *(_DWORD *)(a1 + 84) + *(_DWORD *)(v3 + 8),
               0) != v9 )
          return -15;
        if ( *(_BYTE *)(a1 + 28) & 1 )
        {
          sub_10055000(*(char **)(v2 + 8), v9, a1);
          if ( *(_DWORD *)(v2 + 4) == v9 && *(_WORD *)(a1 + 30) == 99 )
          {
            sub_10018480(
              *(_DWORD *)(*(_DWORD *)(a1 + 732) + 116),
              (void *)(a1 + 721),
              10,
              *(_DWORD *)(a1 + 84) + v9 + *(_DWORD *)(v3 + 4) + *(_DWORD *)(v3 + 8),
              0);
            sub_10059E40(a1 + 693, a1 + 212);
            v10 = a1;
          }
        }
        v11 = *(_DWORD *)(v2 + 8);
        *(_DWORD *)(v2 + 4) -= v9;
        v18 = 0xFFFFF;
        *(_DWORD *)v3 = v11;
        *(_DWORD *)(v3 + 4) = v9;
      }
      v12 = sub_10054940(v5, v10);
      if ( v12 )
      {
        if ( v12 != 8 )
          return -15;
        v14 = *(_DWORD *)(v3 + 20);
        v15 = *(unsigned int **)(v3 + 12);
        v16 = (char)sub_1005EE70(v3, 2);
        v17 += *(_DWORD *)(v3 + 20) - v14;
        *(_DWORD *)v2 = sub_10064440(v15, *(_DWORD *)(v3 + 20) - v14, *(_DWORD *)v2);
        if ( v16 == 1 )
          return v17;
        if ( v16 < 0 )
          return -14;
      }
      else
      {
        v13 = *(_DWORD *)(v3 + 4);
        if ( *(_DWORD *)(v3 + 16) < v13 )
          v13 = *(_DWORD *)(v3 + 16);
        memcpy_0(*(void **)(v3 + 12), *(const void **)v3, v13);
        *(_DWORD *)v2 = sub_10064440(*(unsigned int **)(v3 + 12), v13, *(_DWORD *)v2);
        *(_DWORD *)(v3 + 4) -= v13;
        *(_DWORD *)(v3 + 16) -= v13;
        *(_DWORD *)(v3 + 12) += v13;
        *(_DWORD *)v3 += v13;
        *(_DWORD *)(v3 + 20) += v13;
        *(_DWORD *)(v3 + 8) += v13;
        v17 += v13;
      }
      if ( !*(_DWORD *)(v3 + 16) )
        return v17;
      v6 = v18;
    }
  }
  return v17;
}

//----- (100552A0) --------------------------------------------------------
signed int __cdecl sub_100552A0(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  int v4; // ST04_4@4
  signed int v5; // eax@4
  signed int v6; // ebx@4
  bool v7; // zf@5

  if ( a1 < 0xFFFFFFC2 && a1 )
  {
    v4 = a1 + 88;
    *(_DWORD *)(v4 + 16) = a2;
    *(_DWORD *)(v4 + 20) = a3;
    v5 = sub_100550B0(a1, a1 + 88);
    v6 = v5;
    if ( v5 > 0 )
    {
      v7 = *(_DWORD *)(a1 + 112) == v5;
      *(_DWORD *)(a1 + 112) -= v5;
      if ( v7 && !(*(_BYTE *)a1 & 1) && !sub_10054400(a1) )
        v6 = -14;
    }
    result = v6;
  }
  else
  {
    result = -6;
  }
  return result;
}

//----- (10055300) --------------------------------------------------------
signed int __cdecl sub_10055300(unsigned int a1, int a2, int a3)
{
  signed int result; // eax@3
  unsigned int v4; // edx@4
  int v5; // ebx@4
  int v6; // esi@16
  int v7; // eax@17
  char v8; // [sp+4h] [bp-204h]@19

  if ( a1 >= 0xFFFFFFC2 || !a1 )
    return -6;
  v4 = *(_DWORD *)(a1 + 44);
  result = *(_DWORD *)(a1 + 44) - *(_DWORD *)(a1 + 112);
  v5 = a2;
  if ( a3 == 1 )
  {
    v5 = result + a2;
  }
  else if ( a3 == 2 )
  {
    v5 = v4 + a2;
  }
  if ( v5 > v4 || v5 < 0 )
    return -15;
  if ( result == v5 )
    return result;
  if ( !v5 )
  {
    sub_10055060(a1);
    return 0;
  }
  if ( !*(_WORD *)(a1 + 30) && *(_BYTE *)a1 & 3 )
  {
    sub_100545F0(a1 + 116);
    *(_DWORD *)(a1 + 124) = v5;
    *(_DWORD *)(a1 + 112) = *(_DWORD *)(a1 + 44) - v5;
    *(_DWORD *)(a1 + 92) = *(_DWORD *)(a1 + 40) - v5;
    return v5;
  }
  if ( result > v5 )
  {
    sub_10055060(a1);
    result = 0;
  }
  v6 = v5 - result;
  if ( v5 - result <= 0 )
    return v5;
  while ( 1 )
  {
    v7 = 512;
    if ( (unsigned int)v6 < 0x200 )
      v7 = v6;
    result = sub_100552A0(a1, (int)&v8, v7);
    if ( result <= 0 )
      break;
    v6 -= result;
    if ( v6 <= 0 )
      return v5;
  }
  return result;
}

//----- (10055490) --------------------------------------------------------
int __cdecl sub_10055490(unsigned __int8 *a1)
{
  return sub_1004F780(a1, 0, 0, 0, 0);
}

//----- (100554B0) --------------------------------------------------------
unsigned int __cdecl sub_100554B0(void *a1)
{
  return sub_1004F720(a1, 0xCu, 0);
}

//----- (100554D0) --------------------------------------------------------
unsigned int __cdecl sub_100554D0(void *a1)
{
  return sub_1004F720(a1, 0x20u, 0);
}

//----- (100554F0) --------------------------------------------------------
unsigned int __cdecl sub_100554F0(void *a1)
{
  return sub_1004F720(a1, 0x1Cu, 0);
}

//----- (10055510) --------------------------------------------------------
unsigned int __cdecl sub_10055510(void *a1)
{
  return sub_1004F720(a1, 0x10u, 0);
}

//----- (10055530) --------------------------------------------------------
unsigned int __cdecl sub_10055530(void *a1)
{
  return sub_1004F720(a1, 8u, 0);
}

//----- (10055550) --------------------------------------------------------
int __cdecl sub_10055550(int a1)
{
  int result; // eax@1

  result = sub_1004F780((unsigned __int8 *)(a1 + 1), 1u, 0x1Fu, 1u, 0);
  if ( !result )
  {
    result = sub_1004F780((unsigned __int8 *)a1, 1u, 0xCu, 1u, 0);
    if ( !result )
      result = sub_1004F7D0((_BYTE *)(a1 + 2), 0x7C6u, 0xFFFFu, 1990, 0);
  }
  return result;
}

//----- (100555A0) --------------------------------------------------------
int __cdecl sub_100555A0(void *a1)
{
  int result; // eax@1

  result = sub_100554D0((char *)a1 + 64);
  if ( !result )
  {
    result = sub_100554D0((char *)a1 + 128);
    if ( !result )
    {
      result = sub_10055530((char *)a1 + 120);
      if ( !result )
      {
        result = sub_100554F0((char *)a1 + 36);
        if ( !result )
        {
          result = sub_10055550((int)a1 + 168);
          if ( !result )
          {
            result = sub_10055550((int)a1 + 160);
            if ( !result )
            {
              result = sub_10055550((int)a1 + 164);
              if ( !result )
              {
                result = sub_10055510(a1);
                if ( !result )
                {
                  result = sub_100554B0((char *)a1 + 96);
                  if ( !result )
                  {
                    result = sub_100554B0((char *)a1 + 24);
                    if ( !result )
                      result = sub_10055530((char *)a1 + 16);
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (10055670) --------------------------------------------------------
unsigned int __cdecl sub_10055670(void *a1)
{
  unsigned int result; // eax@1

  result = sub_100554D0((char *)a1 + 64);
  if ( !result )
  {
    result = sub_100554F0((char *)a1 + 36);
    if ( !result )
    {
      result = sub_10055510(a1);
      if ( !result )
      {
        result = sub_100554B0((char *)a1 + 96);
        if ( !result )
        {
          result = sub_100554B0((char *)a1 + 24);
          if ( !result )
            result = sub_10055530((char *)a1 + 16);
        }
      }
    }
  }
  return result;
}

//----- (100556D0) --------------------------------------------------------
char sub_100556D0()
{
  return 2;
}

//----- (100556E0) --------------------------------------------------------
char sub_100556E0()
{
  unsigned __int16 v0; // dx@1
  int v1; // ecx@2
  unsigned __int16 v2; // ax@9
  int v4[7]; // [sp+8h] [bp-1Ch]@1

  sub_10017B80(6465, (int)v4, 28);
  v0 = 0;
LABEL_2:
  v1 = v4[v0];
  if ( v1 == 1 || v1 == 2 || v1 == 4 || v1 == 64 || v1 == 128 || v1 == 16 || v1 == 32 )
  {
    v2 = 0;
    while ( v2 == v0 || v4[v2] != v1 )
    {
      if ( ++v2 >= 7u )
      {
        if ( ++v0 < 7u )
          goto LABEL_2;
        return 1;
      }
    }
  }
  return 0;
}
// 100556E0: using guessed type int var_1C[7];

//----- (10055760) --------------------------------------------------------
signed int __fastcall sub_10055760(unsigned __int8 a1)
{
  signed int result; // eax@1

  result = 176;
  if ( a1 < 0xB0u )
    result = a1;
  return result;
}

//----- (10055770) --------------------------------------------------------
char __cdecl sub_10055770(unsigned __int8 a1)
{
  return byte_100B6A44[6 * sub_10055760(a1)];
}

//----- (10055790) --------------------------------------------------------
__int16 __cdecl sub_10055790(unsigned __int8 a1)
{
  return word_100B6A40[3 * sub_10055760(a1)];
}
// 100B6A40: using guessed type __int16 word_100B6A40[];

//----- (100557B0) --------------------------------------------------------
char __cdecl sub_100557B0(char a1, char a2, char a3, int a4, void *a5)
{
  char result; // al@3
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_1005F210(a1);
  switch ( a3 )
  {
    case 5:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_1005F010(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 4:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_1005F090(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 0xA:
      if ( a2 != 1 )
        goto LABEL_10;
      sub_1005F110(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      result = 1;
      break;
    case 3:
      if ( a2 != 1 )
        goto LABEL_10;
      result = sub_1005F190(v6, *(_BYTE *)a4, *(_BYTE *)(a4 + 1), *(_BYTE *)(a4 + 2), a5);
      break;
    default:
LABEL_10:
      result = 0;
      break;
  }
  return result;
}

//----- (100558C0) --------------------------------------------------------
int __cdecl sub_100558C0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_100B7670, 8, 4, 4);
  if ( v1 == 4 )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_intf.c", 437, 0, 0);
    result = 42066;
  }
  else
  {
    result = dword_100B7674[2 * v1];
  }
  return result;
}
// 100B7674: using guessed type int dword_100B7674[];

//----- (10055910) --------------------------------------------------------
bool __cdecl sub_10055910(void *a1)
{
  char v1; // cl@1

  v1 = sub_1004EFA0(1, 1946, a1);
  *((_DWORD *)a1 + 1) /= 0x3E8u;
  return v1 && !sub_10050F90((int)a1);
}

//----- (10055950) --------------------------------------------------------
char __cdecl sub_10055950(char a1)
{
  return byte_100B93E1[2 * (unsigned __int8)sub_1004D960(&a1, 1u, (int)&unk_100B93E0, 2, 4, 3)];
}

//----- (10055980) --------------------------------------------------------
char __cdecl sub_10055980(char a1, void *a2)
{
  void *v3; // esi@6
  char v4; // al@6

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v3 = a2;
      v4 = sub_1004EFA0(1, 546, a2);
    }
    else
    {
      if ( a1 != 2 )
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_com_intf.c", 187, 0, 0);
        return 0;
      }
      v3 = a2;
      v4 = sub_10055910(a2);
    }
  }
  else
  {
    v3 = a2;
    v4 = sub_1004EFA0(1, 538, a2);
  }
  if ( !v4 || sub_10050F90((int)v3) )
    return 0;
  return 1;
}

//----- (10055A00) --------------------------------------------------------
int __cdecl sub_10055A00(char a1, _DWORD *a2)
{
  int result; // eax@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1

  v3 = 0;
  v4 = 0;
  LOBYTE(result) = sub_10055980(a1, &v3);
  *a2 = v4;
  return result;
}

//----- (10055A50) --------------------------------------------------------
signed int __cdecl sub_10055A50(char a1, char a2)
{
  _DWORD *v2; // esi@3
  int v3; // eax@5
  char *v5; // [sp-18h] [bp-20h]@3
  void *v6; // [sp-10h] [bp-18h]@3
  int v7; // [sp-8h] [bp-10h]@3

  if ( a2 == 11 )
  {
    v7 = 3;
    v2 = &unk_100BA350;
    v6 = &unk_100BA350;
    v5 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v7 = 7;
    v2 = &unk_100BA368;
    v6 = &unk_100BA368;
    v5 = &a1;
  }
  v3 = sub_1004D960(v5, 1u, (int)v6, 8, v7, 7);
  if ( v3 < 7 )
    return v2[2 * v3 + 1];
  return 42066;
}

//----- (10055AB0) --------------------------------------------------------
int __cdecl sub_10055AB0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_100BA3B0, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_100BA3B4[2 * v1];
  return result;
}
// 100BA3B4: using guessed type int dword_100BA3B4[];

//----- (10055AF0) --------------------------------------------------------
signed int __cdecl sub_10055AF0(char a1, char a2, char a3)
{
  _DWORD *v3; // esi@3
  int v4; // eax@5
  signed int result; // eax@7
  char *v6; // [sp-18h] [bp-20h]@3
  void *v7; // [sp-10h] [bp-18h]@3

  if ( a2 == 11 )
  {
    v3 = &unk_100BA3C0;
    v7 = &unk_100BA3C0;
    v6 = &a1;
  }
  else
  {
    if ( a2 != 16 )
      return 42066;
    v3 = &unk_100BA3D8;
    v7 = &unk_100BA3D8;
    v6 = &a1;
  }
  v4 = sub_1004D960(v6, 1u, (int)v7, 12, 2, 2);
  if ( v4 == 2 )
    return 42066;
  if ( a3 )
    result = v3[3 * v4 + 1];
  else
    result = v3[3 * v4 + 2];
  return result;
}

//----- (10055B60) --------------------------------------------------------
int __cdecl sub_10055B60(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_100BA3F0, 8, 3, 3);
  if ( v1 == 3 )
    result = 42066;
  else
    result = dword_100BA3F4[2 * v1];
  return result;
}
// 100BA3F4: using guessed type int dword_100BA3F4[];

//----- (10055BA0) --------------------------------------------------------
int __cdecl sub_10055BA0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_100BA408, 8, 2, 2);
  if ( v1 == 2 )
    result = 42066;
  else
    result = dword_100BA40C[2 * v1];
  return result;
}
// 100BA40C: using guessed type int dword_100BA40C[];

//----- (10055BE0) --------------------------------------------------------
char __cdecl sub_10055BE0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10055A50(a1, 11);
  return sub_10017B00(v2, a2, 24);
}

//----- (10055C00) --------------------------------------------------------
char __cdecl sub_10055C00(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10055AB0(a1);
  return sub_10017B00(v2, a2, 2720);
}

//----- (10055C30) --------------------------------------------------------
char __cdecl sub_10055C30(char a1, int a2)
{
  int v2; // eax@1
  int v3; // eax@1

  v2 = sub_10055AF0(a1, 11, 1);
  sub_10017B00(v2, a2, 36);
  v3 = sub_10055AF0(a1, 11, 0);
  return sub_10017B00(v3, a2 + 36, 32);
}

//----- (10055C80) --------------------------------------------------------
char __cdecl sub_10055C80(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10055B60(a1);
  return sub_10017B00(v2, a2, 2192);
}

//----- (10055CB0) --------------------------------------------------------
char __cdecl sub_10055CB0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_10055BA0(a1);
  return sub_10017B00(v2, a2, 60);
}

//----- (10055CD0) --------------------------------------------------------
char __cdecl sub_10055CD0(int a1)
{
  return sub_10017B00(6453, a1, 5);
}

//----- (10055CF0) --------------------------------------------------------
char __cdecl sub_10055CF0(char a1)
{
  char result; // al@1

  result = 0;
  if ( a1 )
  {
    if ( a1 == 1 )
      result = sub_10051720(11);
  }
  else
  {
    result = sub_10051720(5);
  }
  return result;
}

//----- (10055D20) --------------------------------------------------------
char sub_10055D20()
{
  char v1; // [sp+4h] [bp-100h]@1

  memset(&v1, 0, 0xFCu);
  if ( sub_1004EFA0(1, 1309, &v1) )
    sub_10051080((int)&v1);
  return 0;
}

//----- (10055DC0) --------------------------------------------------------
BOOL __cdecl sub_10055DC0(int a1, int a2)
{
  return sub_10017AE0(6455, a2, 252) == 0;
}

//----- (10055DE0) --------------------------------------------------------
char __cdecl sub_10055DE0(int a1, char a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_10055DC0(a1, a5);
  }
  else
  {
    result = sub_10055D20();
  }
  return result;
}

//----- (10055E20) --------------------------------------------------------
int __cdecl sub_10055E20(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_100BC3C0, 8, 53, 67);
  if ( v1 == 67 )
    result = 0;
  else
    result = (int)*(&off_100BC3C4 + 2 * v1);
  return result;
}
// 100BC3C4: using guessed type void *off_100BC3C4;

//----- (10055E60) --------------------------------------------------------
int __cdecl sub_10055E60(char a1, char *a2)
{
  int result; // eax@1
  char *v3; // edi@2
  char *v4; // esi@3
  int v5; // edi@3

  result = sub_1004D960(&a1, 1u, (int)&unk_100BC568, 68, 4, 4);
  if ( result < 4 )
  {
    v3 = a2;
    if ( a2 )
    {
      v4 = (char *)&unk_100BC569 + 68 * result;
      qmemcpy(a2, v4, 0x40u);
      v4 += 64;
      v5 = (int)(v3 + 64);
      *(_WORD *)v5 = *(_WORD *)v4;
      *(_BYTE *)(v5 + 2) = v4[2];
    }
  }
  return result;
}

//----- (10055EB0) --------------------------------------------------------
int __cdecl sub_10055EB0(char a1)
{
  int v1; // eax@1
  int result; // eax@2

  v1 = sub_1004D960(&a1, 1u, (int)&unk_100BE0E8, 8, 67, 0);
  if ( v1 )
  {
    result = dword_100BE0EC[2 * v1];
  }
  else
  {
    sub_100175E0("..\\lib\\adl\\iop_cnfg_mngr_intf.c", 1932, 0, 0);
    result = 0;
  }
  return result;
}
// 100BE0EC: using guessed type int dword_100BE0EC[];

//----- (10055F00) --------------------------------------------------------
int __cdecl sub_10055F00(int a1)
{
  return (*(int (**)(void))(a1 + 4))();
}

//----- (10055F10) --------------------------------------------------------
char __cdecl sub_10055F10(int a1, unsigned int a2)
{
  char result; // al@1

  result = 1;
  if ( a2 > 4 && !memcmp(*(const void **)(a1 + 16), "PASS", 5u) )
    result = 0;
  return result;
}

//----- (10055F40) --------------------------------------------------------
int __cdecl sub_10055F40(int a1, int a2, int a3)
{
  int *v3; // esi@1
  signed int v4; // edi@1
  int result; // eax@2

  v3 = (int *)(sub_100535F0() + 36);
  v4 = 5;
  do
  {
    result = *v3;
    if ( *v3 )
    {
      result = *(_DWORD *)(result + 4);
      if ( result )
        result = ((int (__cdecl *)(int, int, int))result)(a1, a2, a3);
    }
    ++v3;
    --v4;
  }
  while ( v4 );
  return result;
}

//----- (10055FB0) --------------------------------------------------------
int __cdecl sub_10055FB0(int a1, char a2)
{
  return sub_10055F40(a1, (int)&a2, 1);
}

//----- (10055FD0) --------------------------------------------------------
int __cdecl sub_10055FD0(int a1, int a2, int a3)
{
  int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@1

  v4 = a2;
  v5 = a3;
  return sub_10055F40(a1, (int)&v4, 2);
}

//----- (10056000) --------------------------------------------------------
int __cdecl sub_10056000(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [sp+0h] [bp-10h]@1
  int v7; // [sp+4h] [bp-Ch]@1
  int v8; // [sp+8h] [bp-8h]@1
  int v9; // [sp+Ch] [bp-4h]@1

  v7 = a3;
  v8 = a4;
  v6 = a2;
  v9 = a5;
  return sub_10055F40(a1, (int)&v6, 4);
}

//----- (10056040) --------------------------------------------------------
int __cdecl sub_10056040(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int v7; // [sp+0h] [bp-14h]@1
  int v8; // [sp+4h] [bp-10h]@1
  int v9; // [sp+8h] [bp-Ch]@1
  int v10; // [sp+Ch] [bp-8h]@1
  int v11; // [sp+10h] [bp-4h]@1

  v7 = a2;
  v9 = a4;
  v10 = a5;
  v8 = a3;
  v11 = a6;
  return sub_10055F40(a1, (int)&v7, 5);
}

//----- (10056080) --------------------------------------------------------
int __cdecl sub_10056080(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v8; // [sp+0h] [bp-18h]@1
  int v9; // [sp+4h] [bp-14h]@1
  int v10; // [sp+8h] [bp-10h]@1
  int v11; // [sp+Ch] [bp-Ch]@1
  int v12; // [sp+10h] [bp-8h]@1
  int v13; // [sp+14h] [bp-4h]@1

  v8 = a2;
  v9 = a3;
  v11 = a5;
  v12 = a6;
  v10 = a4;
  v13 = a7;
  return sub_10055F40(a1, (int)&v8, 6);
}

//----- (100560D0) --------------------------------------------------------
char __cdecl sub_100560D0(int a1)
{
  char v1; // bl@1
  char *v2; // eax@1
  unsigned int v3; // ecx@1
  _DWORD *v4; // eax@1

  v1 = 0;
  v2 = sub_100535F0();
  v3 = 0;
  v4 = v2 + 36;
  do
  {
    if ( v3 >= 5 )
      break;
    if ( *v4 == a1 )
    {
      v1 = 1;
      *v4 = 0;
    }
    ++v3;
    ++v4;
  }
  while ( !v1 );
  return v1;
}

//----- (10056100) --------------------------------------------------------
int __cdecl sub_10056100(int a1)
{
  int result; // eax@1

  result = sub_10052BD0();
  dword_101AD1C4[result] = a1;
  return result;
}
// 101AD1C4: using guessed type int dword_101AD1C4[];

//----- (10056120) --------------------------------------------------------
char *sub_10056120(char *a1, ...)
{
  int v1; // esi@1
  char *result; // eax@1
  va_list va; // [sp+10h] [bp+8h]@1

  va_start(va, a1);
  v1 = sub_10052BD0() << 8;
  _vsnprintf(&byte_101A64C8[v1], 0x100u, a1, va);
  result = &byte_101A64C8[v1];
  byte_101A65C6[v1] = 42;
  byte_101A65C7[v1] = 0;
  return result;
}

//----- (10056160) --------------------------------------------------------
int __cdecl sub_10056160(int a1, int a2)
{
  int result; // eax@1
  char *v3; // eax@4

  result = sub_10052BD0();
  dword_101AD1B0[result] = a1;
  if ( a2 >= 0 )
  {
    dword_101AB0CC[result] = a2;
    if ( a2 > 14 )
    {
      v3 = sub_10056120(
             "Floating point (double) precision set to a value (%d) greater than supported by the UTF (%d)",
             a2,
             14);
      result = sub_10056000(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_verify.c", (int)"909", (int)v3);
    }
  }
  else
  {
    dword_101AB0CC[result] = 8;
  }
  return result;
}
// 101AB0CC: using guessed type int dword_101AB0CC[];
// 101AD1B0: using guessed type int dword_101AD1B0[];

//----- (100561C0) --------------------------------------------------------
int __cdecl sub_100561C0(int a1)
{
  return sub_10056160(0, a1);
}

//----- (100561D0) --------------------------------------------------------
int __cdecl sub_100561D0(int a1, int a2)
{
  int result; // eax@1
  char *v3; // eax@4

  result = sub_10052BD0();
  dword_101AE7CC[result] = a1;
  if ( a2 >= 0 )
  {
    dword_101AE7B8[result] = a2;
    if ( a2 > 9 )
    {
      v3 = sub_10056120(
             "Floating point (float) precision set to a value (%d) greater than supported by the UTF (%d)",
             a2,
             9);
      result = sub_10056000(3, (int)"**Warning**", (int)"..\\lib\\utf\\utf_verify.c", (int)"977", (int)v3);
    }
  }
  else
  {
    dword_101AE7B8[result] = 8;
  }
  return result;
}
// 101AE7B8: using guessed type int dword_101AE7B8[];
// 101AE7CC: using guessed type int dword_101AE7CC[];

//----- (10056230) --------------------------------------------------------
int __cdecl sub_10056230(int a1)
{
  return sub_100561D0(0, a1);
}

//----- (10056240) --------------------------------------------------------
int sub_10056240()
{
  int v0; // esi@1
  int result; // eax@1

  v0 = sub_10052BD0();
  sub_10056100(1);
  sub_10056230(-1);
  result = sub_100561C0(-1);
  dword_101AB0B8[v0] = 0;
  return result;
}
// 101AB0B8: using guessed type int dword_101AB0B8[];

//----- (10056270) --------------------------------------------------------
signed int __usercall sub_10056270@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  int v3; // edi@1
  signed int result; // eax@1
  int v5; // esi@1
  unsigned __int16 v6; // bx@2
  unsigned __int16 v7; // ax@2
  unsigned int v8; // ebx@2
  unsigned __int16 v9; // dx@2
  int v10; // edx@2
  int v11; // eax@2
  int v12; // esi@2
  unsigned int v13; // edx@2
  int v14; // eax@2
  int v15; // esi@2
  unsigned int v16; // ST2C_4@4
  unsigned int v17; // ST30_4@4
  unsigned int v18; // ST34_4@4
  unsigned int v19; // esi@4
  unsigned int v20; // ST2C_4@5
  unsigned int v21; // ST30_4@5
  unsigned int v22; // ST34_4@5
  unsigned int v23; // esi@5
  unsigned int v24; // ST30_4@6
  unsigned int v25; // ST34_4@6
  unsigned int v26; // edx@6
  unsigned int v27; // esi@6
  __int16 v28; // ST38_2@6
  unsigned int v29; // ST1C_4@6
  unsigned int v30; // ST20_4@6
  unsigned int v31; // ST24_4@6
  unsigned int v32; // esi@6
  unsigned int v33; // edx@6
  unsigned int v34; // ST30_4@6
  unsigned int v35; // ST34_4@6
  unsigned int v36; // esi@6
  unsigned int v37; // ST1C_4@6
  unsigned int v38; // ST20_4@6
  unsigned int v39; // ST24_4@6
  unsigned int v40; // esi@6
  unsigned int v41; // ST30_4@6
  unsigned int v42; // edx@6
  unsigned int v43; // ST34_4@6
  unsigned int v44; // esi@6
  unsigned int v45; // ST1C_4@6
  unsigned int v46; // ST20_4@6
  unsigned int v47; // ST24_4@6
  unsigned int v48; // esi@6
  unsigned int v49; // edx@6
  unsigned int v50; // ST30_4@6
  unsigned int v51; // ST34_4@6
  unsigned int v52; // esi@6
  unsigned int v53; // ST1C_4@6
  unsigned int v54; // ST20_4@6
  unsigned int v55; // ST24_4@6
  unsigned int v56; // ST28_4@6
  unsigned int v57; // ST30_4@6
  unsigned int v58; // edx@6
  unsigned int v59; // ST34_4@6
  unsigned int v60; // ST38_4@6
  unsigned int v61; // ST20_4@6
  unsigned int v62; // ST24_4@6
  unsigned int v63; // ebx@6
  unsigned int v64; // eax@6
  unsigned int v65; // [sp+14h] [bp-20h]@2
  unsigned int v66; // [sp+18h] [bp-1Ch]@2
  unsigned int v67; // [sp+1Ch] [bp-18h]@2
  unsigned int v68; // [sp+20h] [bp-14h]@2

  v3 = a1;
  result = 0;
  v5 = a2;
  if ( *(_BYTE *)(v3 + 260) & 1 )
  {
    BYTE1(result) = *(_BYTE *)(a2 + 3);
    HIBYTE(v6) = *(_BYTE *)(a2 + 7);
    LOBYTE(result) = *(_BYTE *)(a2 + 2);
    LOBYTE(v6) = *(_BYTE *)(a2 + 6);
    v65 = *(_DWORD *)v3 ^ (*(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (result << 8)) << 8));
    HIBYTE(v7) = *(_BYTE *)(a2 + 11);
    v8 = *(_DWORD *)(v3 + 4) ^ (*(_BYTE *)(a2 + 4) | ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8));
    LOBYTE(v7) = *(_BYTE *)(a2 + 10);
    v66 = v8;
    HIBYTE(v9) = *(_BYTE *)(a2 + 15);
    v67 = *(_DWORD *)(v3 + 8) ^ (*(_BYTE *)(v5 + 8) | ((*(_BYTE *)(v5 + 9) | (v7 << 8)) << 8));
    LOBYTE(v9) = *(_BYTE *)(v5 + 14);
    v10 = *(_BYTE *)(v5 + 13) | (v9 << 8);
    v11 = *(_BYTE *)(v5 + 12);
    v12 = *(_DWORD *)(v3 + 256);
    v13 = *(_DWORD *)(v3 + 12) ^ (v11 | (v10 << 8));
    v14 = v3 + 16 * (v12 - 9);
    v15 = v12 - 12;
    v68 = v13;
    if ( v15 )
    {
      if ( v15 != 2 )
      {
LABEL_6:
        v24 = *(_DWORD *)(v14 + 4) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v66] ^ *(_DWORD *)&dword_100BF1D0[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v68 >> 16)];
        v25 = *(_DWORD *)(v14 + 8) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v66 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v68)];
        v26 = *(_DWORD *)v14 ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v13 >> 24)];
        v27 = *(_DWORD *)(v14 + 12) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v66 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v67 >> 24)];
        v28 = *(_WORD *)(v14 + 12) ^ dword_100BE5D0[2 * (unsigned __int8)v68] ^ dword_100BE9D0[2 * BYTE1(v65)] ^ dword_100BEDD0[2 * (unsigned __int8)(v66 >> 16)] ^ dword_100BF1D0[2 * (v67 >> 24)];
        v29 = *(_DWORD *)(v14 + 16) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v26] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v24)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v25 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v27 >> 24)];
        v30 = *(_DWORD *)(v14 + 20) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v24] ^ *(_DWORD *)&dword_100BF1D0[2 * (v26 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v25)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v27 >> 16)];
        v31 = *(_DWORD *)(v14 + 24) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v25] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v26 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v24 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * HIBYTE(v28)];
        v32 = *(_DWORD *)(v14 + 28) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v28] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v26)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v24 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v25 >> 24)];
        v33 = *(_DWORD *)(v14 + 32) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v29] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v30)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v31 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v32 >> 24)];
        v34 = *(_DWORD *)(v14 + 36) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v30] ^ *(_DWORD *)&dword_100BF1D0[2 * (v29 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v31)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v32 >> 16)];
        v35 = *(_DWORD *)(v14 + 40) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v31] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v29 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v30 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v32)];
        v36 = *(_DWORD *)(v14 + 44) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v32] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v29)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v30 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v31 >> 24)];
        v37 = *(_DWORD *)(v14 + 48) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v33] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v34)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v35 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v36 >> 24)];
        v38 = *(_DWORD *)(v14 + 52) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v34] ^ *(_DWORD *)&dword_100BF1D0[2 * (v33 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v35)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v36 >> 16)];
        v39 = *(_DWORD *)(v14 + 56) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v35] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v33 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v34 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v36)];
        v40 = *(_DWORD *)(v14 + 60) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v36] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v33)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v34 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v35 >> 24)];
        v41 = *(_DWORD *)(v14 + 68) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v38] ^ *(_DWORD *)&dword_100BF1D0[2 * (v37 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v39)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v40 >> 16)];
        v42 = *(_DWORD *)(v14 + 64) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v37] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v38)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v39 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v40 >> 24)];
        v43 = *(_DWORD *)(v14 + 72) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v39] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v37 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v38 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v40)];
        v44 = *(_DWORD *)(v14 + 76) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v40] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v37)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v38 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v39 >> 24)];
        v45 = *(_DWORD *)(v14 + 80) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v42] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v41)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v43 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v44 >> 24)];
        v46 = *(_DWORD *)(v14 + 84) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v41] ^ *(_DWORD *)&dword_100BF1D0[2 * (v42 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v43)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v44 >> 16)];
        v47 = *(_DWORD *)(v14 + 88) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v43] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v42 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v41 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v44)];
        v48 = *(_DWORD *)(v14 + 92) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v44] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v42)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v41 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v43 >> 24)];
        v49 = *(_DWORD *)(v14 + 96) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v45] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v46)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v47 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v48 >> 24)];
        v50 = *(_DWORD *)(v14 + 100) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v46] ^ *(_DWORD *)&dword_100BF1D0[2 * (v45 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v47)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v48 >> 16)];
        v51 = *(_DWORD *)(v14 + 104) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v47] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v45 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v46 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v48)];
        v52 = *(_DWORD *)(v14 + 108) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v48] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v45)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v46 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v47 >> 24)];
        v53 = *(_DWORD *)(v14 + 112) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v49] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v50)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v51 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v52 >> 24)];
        v54 = *(_DWORD *)(v14 + 116) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v50] ^ *(_DWORD *)&dword_100BF1D0[2 * (v49 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v51)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v52 >> 16)];
        v55 = *(_DWORD *)(v14 + 120) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v51] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v49 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v50 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v52)];
        v56 = *(_DWORD *)(v14 + 124) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v52] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v49)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v50 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v51 >> 24)];
        v57 = *(_DWORD *)(v14 + 132) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v54] ^ *(_DWORD *)&dword_100BF1D0[2 * (v53 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v55)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v56 >> 16)];
        v58 = *(_DWORD *)(v14 + 128) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v53] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v54)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v55 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v56 >> 24)];
        v59 = *(_DWORD *)(v14 + 136) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v55] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v53 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v54 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v56)];
        v60 = *(_DWORD *)(v14 + 140) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v56] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v53)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v54 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v55 >> 24)];
        v61 = *(_DWORD *)(v14 + 148) ^ dword_100BF5D0[(unsigned __int8)v57] ^ dword_100C01D0[v58 >> 24] ^ dword_100BF9D0[BYTE1(v59)] ^ dword_100BFDD0[(unsigned __int8)(v60 >> 16)];
        v62 = *(_DWORD *)(v14 + 152) ^ dword_100BF5D0[(unsigned __int8)v59] ^ dword_100BFDD0[(unsigned __int8)(v58 >> 16)] ^ dword_100C01D0[v57 >> 24] ^ dword_100BF9D0[BYTE1(v60)];
        v63 = *(_DWORD *)(v14 + 156) ^ dword_100BF5D0[(unsigned __int8)v60] ^ dword_100BF9D0[BYTE1(v58)] ^ dword_100BFDD0[(unsigned __int8)(v57 >> 16)] ^ dword_100C01D0[v59 >> 24];
        v64 = *(_DWORD *)(v14 + 144) ^ dword_100BF5D0[(unsigned __int8)v58] ^ dword_100BF9D0[BYTE1(v57)] ^ dword_100BFDD0[(unsigned __int8)(v59 >> 16)] ^ dword_100C01D0[v60 >> 24];
        *(_BYTE *)(a3 + 1) = BYTE1(v64);
        *(_BYTE *)a3 = v64;
        *(_BYTE *)(a3 + 2) = v64 >> 16;
        *(_BYTE *)(a3 + 3) = BYTE3(v64);
        *(_BYTE *)(a3 + 5) = BYTE1(v61);
        *(_BYTE *)(a3 + 4) = v61;
        *(_BYTE *)(a3 + 7) = BYTE3(v61);
        *(_BYTE *)(a3 + 6) = v61 >> 16;
        *(_BYTE *)(a3 + 9) = BYTE1(v62);
        *(_BYTE *)(a3 + 8) = v62;
        *(_BYTE *)(a3 + 11) = BYTE3(v62);
        *(_BYTE *)(a3 + 10) = v62 >> 16;
        *(_BYTE *)(a3 + 12) = v63;
        *(_BYTE *)(a3 + 13) = BYTE1(v63);
        *(_BYTE *)(a3 + 15) = BYTE3(v63);
        *(_BYTE *)(a3 + 14) = v63 >> 16;
        return 1;
      }
      v16 = *(_DWORD *)(v14 - 64) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v13 >> 24)];
      v17 = *(_DWORD *)(v14 - 60) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_100BF1D0[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v13 >> 16)];
      v18 = *(_DWORD *)(v14 - 56) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v68)];
      v19 = *(_DWORD *)(v14 - 52) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v13] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v67 >> 24)];
      v8 = *(_DWORD *)(v14 - 44) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v17] ^ *(_DWORD *)&dword_100BF1D0[2 * (v16 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v18)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v19 >> 16)];
      v67 = *(_DWORD *)(v14 - 40) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v18] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v16 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v17 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v19)];
      v65 = *(_DWORD *)(v14 - 48) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v16] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v17)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v18 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v19 >> 24)];
      v13 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v18 >> 24)];
      v68 = *(_DWORD *)(v14 - 36) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v19] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v16)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v17 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v18 >> 24)];
    }
    v20 = *(_DWORD *)(v14 - 32) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v65] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v8)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v67 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v13 >> 24)];
    v21 = *(_DWORD *)(v14 - 28) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v8] ^ *(_DWORD *)&dword_100BF1D0[2 * (v65 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v67)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v68 >> 16)];
    v22 = *(_DWORD *)(v14 - 24) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v67] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v65 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v8 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v68)];
    v23 = *(_DWORD *)(v14 - 20) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v68] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v65)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v8 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v67 >> 24)];
    v8 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_100BF1D0[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v23 >> 16)];
    v67 = *(_DWORD *)(v14 - 8) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v22] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v20 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v21 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v23)];
    v65 = *(_DWORD *)(v14 - 16) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v20] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v21)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v22 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v23 >> 24)];
    v66 = *(_DWORD *)(v14 - 12) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v21] ^ *(_DWORD *)&dword_100BF1D0[2 * (v20 >> 24)] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v22)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v23 >> 16)];
    v13 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v22 >> 24)];
    v68 = *(_DWORD *)(v14 - 4) ^ *(_DWORD *)&dword_100BE5D0[2 * (unsigned __int8)v23] ^ *(_DWORD *)&dword_100BE9D0[2 * BYTE1(v20)] ^ *(_DWORD *)&dword_100BEDD0[2 * (unsigned __int8)(v21 >> 16)] ^ *(_DWORD *)&dword_100BF1D0[2 * (v22 >> 24)];
    goto LABEL_6;
  }
  return result;
}
// 100BF5D0: using guessed type int dword_100BF5D0[];
// 100BF9D0: using guessed type int dword_100BF9D0[];
// 100BFDD0: using guessed type int dword_100BFDD0[];
// 100C01D0: using guessed type int dword_100C01D0[];

//----- (10057320) --------------------------------------------------------
int __usercall sub_10057320@<eax>(int a1@<esi>, int a2, unsigned int a3)
{
  int result; // eax@1
  unsigned int v4; // edi@1
  unsigned int v5; // eax@3
  bool v6; // zf@4

  result = *(_DWORD *)(a1 + 456);
  v4 = 0;
  if ( a3 )
  {
    do
    {
      if ( result == 16 )
      {
        v5 = 0;
        do
        {
          v6 = (*(_BYTE *)(v5 + a1))++ == -1;
          if ( !v6 )
            break;
          ++v5;
        }
        while ( v5 < 8 );
        sub_10056270(a1 + 32, a1, a1 + 16);
        result = 0;
      }
      *(_BYTE *)(v4++ + a2) ^= *(_BYTE *)(a1 + 16 + result++);
    }
    while ( v4 < a3 );
  }
  *(_DWORD *)(a1 + 456) = result;
  return result;
}

//----- (10057380) --------------------------------------------------------
signed int __usercall sub_10057380@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned __int16 v4; // dx@1
  int v5; // edx@1
  unsigned __int16 v6; // cx@1
  int v7; // esi@1
  int v8; // edi@1
  unsigned int v9; // ecx@1
  unsigned __int16 v10; // dx@2
  int v11; // edx@2
  int v12; // ebx@2
  int v13; // edx@3
  int v14; // ST20_4@3
  int v15; // edx@3
  int v16; // ST24_4@3
  int v17; // edx@3
  int v18; // ST28_4@3
  unsigned int v19; // edx@3
  int v20; // ebp@3
  int v21; // esi@3
  int v22; // edi@3
  unsigned int v23; // ecx@3
  int v24; // ST20_4@3
  int v25; // ebx@3
  unsigned int v26; // edx@3
  int v27; // ST28_4@3
  int v28; // ebp@3
  int v29; // esi@3
  int v30; // edi@3
  unsigned int v31; // ecx@3
  int v32; // ST10_4@3
  int v33; // ebx@3
  int v34; // ebp@3
  unsigned int v35; // edx@3
  int v36; // ST28_4@3
  int v37; // ST24_4@3
  int v38; // ebp@3
  int v39; // esi@3
  int v40; // edi@3
  unsigned int v41; // ecx@3
  int v42; // ebx@3
  unsigned int v43; // edx@3
  int v44; // ebp@3
  int v45; // esi@3
  int v46; // edi@3
  unsigned int v47; // ecx@3
  int v48; // ST10_4@3
  int v49; // ST20_4@3
  int v50; // ebp@3
  int v51; // ebx@3
  unsigned int v52; // edx@3
  int v53; // ST28_4@3
  int v54; // ST24_4@3
  int v55; // ebp@3
  int v56; // esi@3
  int v57; // edi@3
  unsigned int v58; // ecx@3
  int v59; // ebx@3
  unsigned int v60; // edx@3
  int v61; // ST28_4@3
  int v62; // ST24_4@3
  int v63; // ebp@3
  int v64; // esi@3
  int v65; // edi@3
  unsigned int v66; // ecx@3
  int v67; // ST10_4@3
  int v68; // ebx@3
  unsigned int v69; // edx@3
  int v70; // ebp@3
  int v71; // ebp@3
  int v72; // esi@3
  int v73; // edi@3
  signed int result; // eax@3
  int v75; // edx@4
  int v76; // ST20_4@4
  unsigned int v77; // edx@4
  int v78; // ebp@4
  int v79; // esi@4
  int v80; // edi@4
  int v81; // ecx@4
  unsigned int v82; // edx@4
  int v83; // ST20_4@4
  int v84; // ebp@4
  int v85; // esi@4
  int v86; // edi@4
  int v87; // ecx@4
  int v88; // ebx@4
  unsigned int v89; // edx@4
  int v90; // ebp@4
  int v91; // esi@4
  int v92; // edi@4
  int v93; // ecx@4
  unsigned int v94; // edx@4
  int v95; // ST20_4@4
  int v96; // ebp@4
  int v97; // esi@4
  int v98; // edi@4
  int v99; // ecx@4
  unsigned int v100; // edx@4
  int v101; // ST20_4@4
  int v102; // ST10_4@4
  int v103; // ebp@4
  int v104; // esi@4
  int v105; // edi@4
  int v106; // ST10_4@4
  int v107; // ecx@4
  unsigned int v108; // edx@4
  int v109; // ST20_4@4
  int v110; // ebp@4
  int v111; // esi@4
  int v112; // edi@4
  int v113; // ecx@4
  unsigned int v114; // edx@4
  int v115; // ST20_4@4
  int v116; // ebp@4
  int v117; // esi@4
  int v118; // edi@4
  int v119; // ecx@4
  unsigned int v120; // edx@4
  int v121; // ST10_4@4
  int v122; // ebp@4
  int v123; // ebp@4
  int v124; // esi@4
  int v125; // edi@4
  int v126; // ebp@5
  int v127; // esi@5
  int v128; // edi@5
  unsigned int v129; // ecx@5
  int v130; // edx@5
  int v131; // esi@5
  int v132; // edi@5
  unsigned int v133; // ecx@5
  int v134; // ebp@5
  int v135; // esi@5
  int v136; // edi@5
  unsigned int v137; // ecx@5
  int v138; // edx@5
  int v139; // esi@5
  int v140; // edi@5
  unsigned int v141; // ecx@5
  int v142; // ebp@5
  int v143; // esi@5
  int v144; // edi@5
  unsigned int v145; // ecx@5
  int v146; // edx@5
  int v147; // esi@5
  int v148; // edi@5
  unsigned int v149; // ecx@5
  int v150; // ebp@5
  int v151; // esi@5
  int v152; // edi@5
  unsigned int v153; // ecx@5
  int v154; // edx@5
  int v155; // esi@5
  int v156; // edi@5
  unsigned int v157; // ecx@5
  int v158; // ebp@5
  int v159; // esi@5
  int v160; // edi@5
  unsigned int v161; // ecx@5
  int v162; // edx@5
  int v163; // edx@5
  int v164; // esi@5
  int v165; // edi@5
  int v166; // [sp+10h] [bp-20h]@1

  *(_DWORD *)(a1 + 260) = 17;
  v3 = a2;
  HIBYTE(v4) = *(_BYTE *)(a2 + 3);
  LOBYTE(v4) = *(_BYTE *)(a2 + 2);
  v5 = *(_BYTE *)a2 | ((*(_BYTE *)(a2 + 1) | (v4 << 8)) << 8);
  *(_DWORD *)a1 = v5;
  HIBYTE(v6) = *(_BYTE *)(a2 + 7);
  v166 = v5;
  LOBYTE(v6) = *(_BYTE *)(a2 + 6);
  v7 = ((*(_BYTE *)(a2 + 5) | (v6 << 8)) << 8) | *(_BYTE *)(a2 + 4);
  *(_DWORD *)(a1 + 4) = v7;
  HIBYTE(v6) = *(_BYTE *)(a2 + 11);
  LOBYTE(v6) = *(_BYTE *)(a2 + 10);
  v8 = ((*(_BYTE *)(v3 + 9) | (v6 << 8)) << 8) | *(_BYTE *)(v3 + 8);
  *(_DWORD *)(a1 + 8) = v8;
  HIBYTE(v6) = *(_BYTE *)(a2 + 15);
  LOBYTE(v6) = *(_BYTE *)(a2 + 14);
  v9 = *(_BYTE *)(v3 + 12) | ((*(_BYTE *)(v3 + 13) | (v6 << 8)) << 8);
  *(_DWORD *)(a1 + 12) = v9;
  if ( a3 == 16 )
  {
    v126 = v5 ^ dword_100C01D0[(unsigned __int8)v9] ^ dword_100BF5D0[BYTE1(v9)] ^ dword_100BF9D0[(unsigned __int8)(v9 >> 16)] ^ dword_100BFDD0[v9 >> 24] ^ 1;
    v127 = v126 ^ v7;
    *(_DWORD *)(a1 + 16) = v126;
    *(_DWORD *)(a1 + 20) = v127;
    v128 = v127 ^ v8;
    *(_DWORD *)(a1 + 24) = v128;
    v129 = v128 ^ v9;
    *(_DWORD *)(a1 + 28) = v129;
    v130 = v126 ^ dword_100C01D0[(unsigned __int8)v129] ^ dword_100BF5D0[BYTE1(v129)] ^ dword_100BF9D0[(unsigned __int8)(v129 >> 16)] ^ dword_100BFDD0[v129 >> 24] ^ 2;
    v131 = v130 ^ v127;
    *(_DWORD *)(a1 + 32) = v130;
    *(_DWORD *)(a1 + 36) = v131;
    v132 = v131 ^ v128;
    *(_DWORD *)(a1 + 40) = v132;
    v133 = v132 ^ v129;
    *(_DWORD *)(a1 + 44) = v133;
    v134 = v130 ^ dword_100C01D0[(unsigned __int8)v133] ^ dword_100BF5D0[BYTE1(v133)] ^ dword_100BF9D0[(unsigned __int8)(v133 >> 16)] ^ dword_100BFDD0[v133 >> 24] ^ 4;
    v135 = v134 ^ v131;
    v136 = v135 ^ v132;
    v137 = v136 ^ v133;
    *(_DWORD *)(a1 + 48) = v134;
    *(_DWORD *)(a1 + 52) = v135;
    *(_DWORD *)(a1 + 56) = v136;
    *(_DWORD *)(a1 + 60) = v137;
    v138 = v134 ^ dword_100C01D0[(unsigned __int8)v137] ^ dword_100BF5D0[BYTE1(v137)] ^ dword_100BF9D0[(unsigned __int8)(v137 >> 16)] ^ dword_100BFDD0[v137 >> 24] ^ 8;
    *(_DWORD *)(a1 + 64) = v138;
    v139 = v138 ^ v135;
    *(_DWORD *)(a1 + 68) = v139;
    v140 = v139 ^ v136;
    *(_DWORD *)(a1 + 72) = v140;
    v141 = v140 ^ v137;
    *(_DWORD *)(a1 + 76) = v141;
    v142 = v138 ^ dword_100C01D0[(unsigned __int8)v141] ^ dword_100BF5D0[BYTE1(v141)] ^ dword_100BF9D0[(unsigned __int8)(v141 >> 16)] ^ dword_100BFDD0[v141 >> 24] ^ 0x10;
    v143 = v142 ^ v139;
    v144 = v143 ^ v140;
    v145 = v144 ^ v141;
    *(_DWORD *)(a1 + 80) = v142;
    *(_DWORD *)(a1 + 84) = v143;
    *(_DWORD *)(a1 + 88) = v144;
    *(_DWORD *)(a1 + 92) = v145;
    v146 = v142 ^ dword_100C01D0[(unsigned __int8)v145] ^ dword_100BF5D0[BYTE1(v145)] ^ dword_100BF9D0[(unsigned __int8)(v145 >> 16)] ^ dword_100BFDD0[v145 >> 24] ^ 0x20;
    v147 = v146 ^ v143;
    v148 = v147 ^ v144;
    v149 = v148 ^ v145;
    *(_DWORD *)(a1 + 100) = v147;
    *(_DWORD *)(a1 + 104) = v148;
    *(_DWORD *)(a1 + 108) = v149;
    *(_DWORD *)(a1 + 96) = v146;
    v150 = v146 ^ dword_100C01D0[(unsigned __int8)v149] ^ dword_100BF5D0[BYTE1(v149)] ^ dword_100BF9D0[(unsigned __int8)(v149 >> 16)] ^ dword_100BFDD0[v149 >> 24] ^ 0x40;
    v151 = v150 ^ v147;
    v152 = v151 ^ v148;
    v153 = v152 ^ v149;
    *(_DWORD *)(a1 + 112) = v150;
    *(_DWORD *)(a1 + 116) = v151;
    *(_DWORD *)(a1 + 120) = v152;
    *(_DWORD *)(a1 + 124) = v153;
    v154 = v150 ^ dword_100C01D0[(unsigned __int8)v153] ^ dword_100BF5D0[BYTE1(v153)] ^ dword_100BF9D0[(unsigned __int8)(v153 >> 16)] ^ dword_100BFDD0[v153 >> 24] ^ 0x80;
    v155 = v154 ^ v151;
    *(_DWORD *)(a1 + 128) = v154;
    *(_DWORD *)(a1 + 132) = v155;
    v156 = v155 ^ v152;
    *(_DWORD *)(a1 + 136) = v156;
    v157 = v156 ^ v153;
    *(_DWORD *)(a1 + 140) = v157;
    v158 = v154 ^ dword_100C01D0[(unsigned __int8)v157] ^ dword_100BF5D0[BYTE1(v157)] ^ dword_100BF9D0[(unsigned __int8)(v157 >> 16)] ^ dword_100BFDD0[v157 >> 24] ^ 0x1B;
    v159 = v158 ^ v155;
    v160 = v159 ^ v156;
    v161 = v160 ^ v157;
    *(_DWORD *)(a1 + 148) = v159;
    *(_DWORD *)(a1 + 152) = v160;
    *(_DWORD *)(a1 + 144) = v158;
    *(_DWORD *)(a1 + 156) = v161;
    v162 = dword_100C01D0[(unsigned __int8)v161] ^ dword_100BF5D0[BYTE1(v161)] ^ dword_100BF9D0[(unsigned __int8)(v161 >> 16)] ^ dword_100BFDD0[v161 >> 24];
    *(_DWORD *)(a1 + 256) = 10;
    v163 = v158 ^ v162 ^ 0x36;
    v164 = v163 ^ v159;
    v165 = v164 ^ v160;
    *(_DWORD *)(a1 + 168) = v165;
    *(_DWORD *)(a1 + 164) = v164;
    *(_DWORD *)(a1 + 160) = v163;
    *(_DWORD *)(a1 + 172) = v165 ^ v161;
    result = 1;
  }
  else
  {
    HIBYTE(v10) = *(_BYTE *)(a2 + 19);
    LOBYTE(v10) = *(_BYTE *)(a2 + 18);
    v11 = v10 << 8;
    v12 = *(_BYTE *)(a2 + 17);
    if ( a3 == 24 )
    {
      v75 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v75;
      v76 = v75;
      BYTE1(v75) = *(_BYTE *)(a2 + 23);
      LOBYTE(v75) = *(_BYTE *)(a2 + 22);
      v77 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v75 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v77;
      v78 = v166 ^ dword_100C01D0[(unsigned __int8)v77] ^ dword_100BF5D0[BYTE1(v77)] ^ dword_100BF9D0[(unsigned __int8)(v77 >> 16)] ^ dword_100BFDD0[v77 >> 24] ^ 1;
      v79 = v78 ^ v7;
      v80 = v79 ^ v8;
      v81 = v80 ^ v9;
      *(_DWORD *)(a1 + 40) = v81 ^ v76;
      v82 = v81 ^ v76 ^ v77;
      v83 = v81 ^ v76;
      *(_DWORD *)(a1 + 36) = v81;
      *(_DWORD *)(a1 + 24) = v78;
      *(_DWORD *)(a1 + 28) = v79;
      *(_DWORD *)(a1 + 32) = v80;
      *(_DWORD *)(a1 + 44) = v82;
      v84 = v78 ^ dword_100C01D0[(unsigned __int8)v82] ^ dword_100BF5D0[BYTE1(v82)] ^ dword_100BF9D0[(unsigned __int8)(v82 >> 16)] ^ dword_100BFDD0[v82 >> 24] ^ 2;
      v85 = v84 ^ v79;
      v86 = v85 ^ v80;
      v87 = v86 ^ v81;
      v89 = v87 ^ v83 ^ v82;
      v88 = v87 ^ v83;
      *(_DWORD *)(a1 + 64) = v87 ^ v83;
      *(_DWORD *)(a1 + 48) = v84;
      *(_DWORD *)(a1 + 52) = v85;
      *(_DWORD *)(a1 + 56) = v86;
      *(_DWORD *)(a1 + 60) = v87;
      *(_DWORD *)(a1 + 68) = v89;
      v90 = v84 ^ dword_100C01D0[(unsigned __int8)v89] ^ dword_100BF5D0[BYTE1(v89)] ^ dword_100BF9D0[(unsigned __int8)(v89 >> 16)] ^ dword_100BFDD0[v89 >> 24] ^ 4;
      v91 = v90 ^ v85;
      v92 = v91 ^ v86;
      v93 = v92 ^ v87;
      *(_DWORD *)(a1 + 88) = v93 ^ v88;
      v94 = v93 ^ v88 ^ v89;
      v95 = v93 ^ v88;
      *(_DWORD *)(a1 + 84) = v93;
      *(_DWORD *)(a1 + 72) = v90;
      *(_DWORD *)(a1 + 76) = v91;
      *(_DWORD *)(a1 + 80) = v92;
      *(_DWORD *)(a1 + 92) = v94;
      v96 = v90 ^ dword_100C01D0[(unsigned __int8)v94] ^ dword_100BF5D0[BYTE1(v94)] ^ dword_100BF9D0[(unsigned __int8)(v94 >> 16)] ^ dword_100BFDD0[v94 >> 24] ^ 8;
      v97 = v96 ^ v91;
      v98 = v97 ^ v92;
      v99 = v98 ^ v93;
      *(_DWORD *)(a1 + 112) = v99 ^ v95;
      v100 = v99 ^ v95 ^ v94;
      v101 = v99 ^ v95;
      *(_DWORD *)(a1 + 108) = v99;
      v102 = v96;
      *(_DWORD *)(a1 + 96) = v96;
      *(_DWORD *)(a1 + 100) = v97;
      *(_DWORD *)(a1 + 104) = v98;
      *(_DWORD *)(a1 + 116) = v100;
      v103 = v96 ^ dword_100C01D0[(unsigned __int8)v100] ^ dword_100BF5D0[BYTE1(v100)] ^ dword_100BF9D0[(unsigned __int8)(v100 >> 16)] ^ dword_100BFDD0[v100 >> 24] ^ 0x10;
      v104 = v103 ^ v97;
      v105 = v104 ^ v98;
      v106 = v102 ^ dword_100C01D0[(unsigned __int8)v100] ^ dword_100BF5D0[BYTE1(v100)] ^ dword_100BF9D0[(unsigned __int8)(v100 >> 16)] ^ dword_100BFDD0[v100 >> 24] ^ 0x10;
      *(_DWORD *)(a1 + 120) = v103;
      *(_DWORD *)(a1 + 124) = v104;
      *(_DWORD *)(a1 + 128) = v105;
      v107 = v105 ^ v99;
      *(_DWORD *)(a1 + 136) = v107 ^ v101;
      v108 = v107 ^ v101 ^ v100;
      v109 = v107 ^ v101;
      *(_DWORD *)(a1 + 132) = v107;
      *(_DWORD *)(a1 + 140) = v108;
      v110 = v106 ^ dword_100C01D0[(unsigned __int8)v108] ^ dword_100BF5D0[BYTE1(v108)] ^ dword_100BF9D0[(unsigned __int8)(v108 >> 16)] ^ dword_100BFDD0[v108 >> 24] ^ 0x20;
      v111 = v110 ^ v104;
      v112 = v111 ^ v105;
      v113 = v112 ^ v107;
      *(_DWORD *)(a1 + 160) = v113 ^ v109;
      v114 = v113 ^ v109 ^ v108;
      v115 = v113 ^ v109;
      *(_DWORD *)(a1 + 156) = v113;
      *(_DWORD *)(a1 + 144) = v110;
      *(_DWORD *)(a1 + 148) = v111;
      *(_DWORD *)(a1 + 152) = v112;
      *(_DWORD *)(a1 + 164) = v114;
      v116 = v110 ^ dword_100C01D0[(unsigned __int8)v114] ^ dword_100BF5D0[BYTE1(v114)] ^ dword_100BF9D0[(unsigned __int8)(v114 >> 16)] ^ dword_100BFDD0[v114 >> 24] ^ 0x40;
      v117 = v116 ^ v111;
      v118 = v117 ^ v112;
      v119 = v118 ^ v113;
      v120 = v119 ^ v115 ^ v114;
      *(_DWORD *)(a1 + 180) = v119;
      *(_DWORD *)(a1 + 184) = v119 ^ v115;
      v121 = v116;
      *(_DWORD *)(a1 + 168) = v116;
      *(_DWORD *)(a1 + 172) = v117;
      *(_DWORD *)(a1 + 176) = v118;
      *(_DWORD *)(a1 + 188) = v120;
      v122 = dword_100C01D0[(unsigned __int8)v120] ^ dword_100BF5D0[BYTE1(v120)] ^ dword_100BF9D0[(unsigned __int8)(v120 >> 16)] ^ dword_100BFDD0[v120 >> 24];
      *(_DWORD *)(a1 + 256) = 12;
      v123 = v121 ^ v122 ^ 0x80;
      v124 = v123 ^ v117;
      v125 = v124 ^ v118;
      *(_DWORD *)(a1 + 200) = v125;
      *(_DWORD *)(a1 + 196) = v124;
      *(_DWORD *)(a1 + 192) = v123;
      *(_DWORD *)(a1 + 204) = v125 ^ v119;
      result = 1;
    }
    else
    {
      v13 = *(_BYTE *)(a2 + 16) | ((v12 | v11) << 8);
      *(_DWORD *)(a1 + 16) = v13;
      v14 = v13;
      BYTE1(v13) = *(_BYTE *)(a2 + 23);
      LOBYTE(v13) = *(_BYTE *)(a2 + 22);
      v15 = *(_BYTE *)(a2 + 20) | ((*(_BYTE *)(a2 + 21) | ((unsigned __int16)v13 << 8)) << 8);
      *(_DWORD *)(a1 + 20) = v15;
      v16 = v15;
      BYTE1(v15) = *(_BYTE *)(a2 + 27);
      LOBYTE(v15) = *(_BYTE *)(a2 + 26);
      v17 = *(_BYTE *)(a2 + 24) | ((*(_BYTE *)(a2 + 25) | ((unsigned __int16)v15 << 8)) << 8);
      *(_DWORD *)(a1 + 24) = v17;
      v18 = v17;
      BYTE1(v17) = *(_BYTE *)(a2 + 31);
      LOBYTE(v17) = *(_BYTE *)(a2 + 30);
      v19 = *(_BYTE *)(a2 + 28) | ((*(_BYTE *)(a2 + 29) | ((unsigned __int16)v17 << 8)) << 8);
      *(_DWORD *)(a1 + 28) = v19;
      v20 = v166 ^ dword_100C01D0[(unsigned __int8)v19] ^ dword_100BF5D0[BYTE1(v19)] ^ dword_100BF9D0[(unsigned __int8)(v19 >> 16)] ^ dword_100BFDD0[v19 >> 24] ^ 1;
      v21 = v20 ^ v7;
      v22 = v21 ^ v8;
      v23 = v22 ^ v9;
      *(_DWORD *)(a1 + 32) = v20;
      *(_DWORD *)(a1 + 36) = v21;
      *(_DWORD *)(a1 + 40) = v22;
      *(_DWORD *)(a1 + 44) = v23;
      v24 = dword_100BF5D0[(unsigned __int8)v23] ^ dword_100BF9D0[BYTE1(v23)] ^ dword_100BFDD0[(unsigned __int8)(v23 >> 16)] ^ dword_100C01D0[v23 >> 24] ^ v14;
      *(_DWORD *)(a1 + 48) = v24;
      v25 = v24 ^ v16 ^ v18;
      v26 = v25 ^ v19;
      *(_DWORD *)(a1 + 56) = v25;
      v27 = v24 ^ v16 ^ v18;
      *(_DWORD *)(a1 + 52) = v24 ^ v16;
      *(_DWORD *)(a1 + 60) = v26;
      v28 = v20 ^ dword_100C01D0[(unsigned __int8)v26] ^ dword_100BF5D0[BYTE1(v26)] ^ dword_100BF9D0[(unsigned __int8)(v26 >> 16)] ^ dword_100BFDD0[v26 >> 24] ^ 2;
      v29 = v28 ^ v21;
      *(_DWORD *)(a1 + 64) = v28;
      v30 = v29 ^ v22;
      v31 = v30 ^ v23;
      *(_DWORD *)(a1 + 76) = v31;
      v32 = v28;
      *(_DWORD *)(a1 + 68) = v29;
      *(_DWORD *)(a1 + 72) = v30;
      v33 = dword_100BF5D0[(unsigned __int8)v31] ^ dword_100BF9D0[BYTE1(v31)] ^ dword_100BFDD0[(unsigned __int8)(v31 >> 16)] ^ dword_100C01D0[v31 >> 24] ^ v24;
      v34 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 80) = v33;
      *(_DWORD *)(a1 + 88) = v34 ^ v27;
      v35 = v34 ^ v27 ^ v26;
      v36 = v34 ^ v27;
      v37 = v33 ^ v24 ^ v16;
      *(_DWORD *)(a1 + 84) = v34;
      *(_DWORD *)(a1 + 92) = v35;
      v38 = v32 ^ dword_100C01D0[(unsigned __int8)v35] ^ dword_100BF5D0[BYTE1(v35)] ^ dword_100BF9D0[(unsigned __int8)(v35 >> 16)] ^ dword_100BFDD0[v35 >> 24] ^ 4;
      v39 = v38 ^ v29;
      *(_DWORD *)(a1 + 96) = v38;
      *(_DWORD *)(a1 + 100) = v39;
      v40 = v39 ^ v30;
      v41 = v40 ^ v31;
      *(_DWORD *)(a1 + 108) = v41;
      *(_DWORD *)(a1 + 104) = v40;
      v42 = dword_100BF5D0[(unsigned __int8)v41] ^ dword_100BF9D0[BYTE1(v41)] ^ dword_100BFDD0[(unsigned __int8)(v41 >> 16)] ^ dword_100C01D0[v41 >> 24] ^ v33;
      *(_DWORD *)(a1 + 112) = v42;
      v43 = v42 ^ v37 ^ v36 ^ v35;
      *(_DWORD *)(a1 + 120) = v42 ^ v37 ^ v36;
      *(_DWORD *)(a1 + 116) = v42 ^ v37;
      *(_DWORD *)(a1 + 124) = v43;
      v44 = v38 ^ dword_100C01D0[(unsigned __int8)v43] ^ dword_100BF5D0[BYTE1(v43)] ^ dword_100BF9D0[(unsigned __int8)(v43 >> 16)] ^ dword_100BFDD0[v43 >> 24] ^ 8;
      v45 = v44 ^ v39;
      v46 = v45 ^ v40;
      v47 = v46 ^ v41;
      *(_DWORD *)(a1 + 128) = v44;
      *(_DWORD *)(a1 + 132) = v45;
      *(_DWORD *)(a1 + 136) = v46;
      *(_DWORD *)(a1 + 140) = v47;
      v48 = v44;
      v49 = dword_100BF5D0[(unsigned __int8)v47] ^ dword_100BF9D0[BYTE1(v47)] ^ dword_100BFDD0[(unsigned __int8)(v47 >> 16)] ^ dword_100C01D0[v47 >> 24] ^ v42;
      *(_DWORD *)(a1 + 144) = v49;
      v50 = v49 ^ v42 ^ v37;
      v51 = v50 ^ v42 ^ v37 ^ v36;
      v52 = v51 ^ v43;
      *(_DWORD *)(a1 + 152) = v51;
      v53 = v51;
      *(_DWORD *)(a1 + 148) = v50;
      v54 = v50;
      *(_DWORD *)(a1 + 156) = v52;
      v55 = v48 ^ dword_100C01D0[(unsigned __int8)v52] ^ dword_100BF5D0[BYTE1(v52)] ^ dword_100BF9D0[(unsigned __int8)(v52 >> 16)] ^ dword_100BFDD0[v52 >> 24] ^ 0x10;
      v56 = v55 ^ v45;
      *(_DWORD *)(a1 + 160) = v55;
      v57 = v56 ^ v46;
      v58 = v57 ^ v47;
      *(_DWORD *)(a1 + 172) = v58;
      *(_DWORD *)(a1 + 164) = v56;
      *(_DWORD *)(a1 + 168) = v57;
      v59 = dword_100BF5D0[(unsigned __int8)v58] ^ dword_100BF9D0[BYTE1(v58)] ^ dword_100BFDD0[(unsigned __int8)(v58 >> 16)] ^ dword_100C01D0[v58 >> 24] ^ v49;
      *(_DWORD *)(a1 + 176) = v59;
      *(_DWORD *)(a1 + 184) = v59 ^ v54 ^ v53;
      v60 = v59 ^ v54 ^ v53 ^ v52;
      v61 = v59 ^ v54 ^ v53;
      v62 = v59 ^ v54;
      *(_DWORD *)(a1 + 180) = v62;
      *(_DWORD *)(a1 + 188) = v60;
      v63 = v55 ^ dword_100C01D0[(unsigned __int8)v60] ^ dword_100BF5D0[BYTE1(v60)] ^ dword_100BF9D0[(unsigned __int8)(v60 >> 16)] ^ dword_100BFDD0[v60 >> 24] ^ 0x20;
      v64 = v63 ^ v56;
      *(_DWORD *)(a1 + 192) = v63;
      v65 = v64 ^ v57;
      v66 = v65 ^ v58;
      *(_DWORD *)(a1 + 204) = v66;
      v67 = v63;
      *(_DWORD *)(a1 + 196) = v64;
      *(_DWORD *)(a1 + 200) = v65;
      v68 = dword_100BF5D0[(unsigned __int8)v66] ^ dword_100BF9D0[BYTE1(v66)] ^ dword_100BFDD0[(unsigned __int8)(v66 >> 16)] ^ dword_100C01D0[v66 >> 24] ^ v59;
      *(_DWORD *)(a1 + 208) = v68;
      *(_DWORD *)(a1 + 216) = v68 ^ v62 ^ v61;
      v69 = v68 ^ v62 ^ v61 ^ v60;
      *(_DWORD *)(a1 + 212) = v68 ^ v62;
      *(_DWORD *)(a1 + 220) = v69;
      v70 = dword_100C01D0[(unsigned __int8)v69] ^ dword_100BF5D0[BYTE1(v69)] ^ dword_100BF9D0[(unsigned __int8)(v69 >> 16)] ^ dword_100BFDD0[v69 >> 24];
      *(_DWORD *)(a1 + 256) = 14;
      v71 = v67 ^ v70 ^ 0x40;
      v72 = v71 ^ v64;
      v73 = v72 ^ v65;
      *(_DWORD *)(a1 + 232) = v73;
      *(_DWORD *)(a1 + 228) = v72;
      *(_DWORD *)(a1 + 224) = v71;
      *(_DWORD *)(a1 + 236) = v73 ^ v66;
      result = 1;
    }
  }
  return result;
}
// 100BF5D0: using guessed type int dword_100BF5D0[];
// 100BF9D0: using guessed type int dword_100BF9D0[];
// 100BFDD0: using guessed type int dword_100BFDD0[];
// 100C01D0: using guessed type int dword_100C01D0[];

//----- (10058100) --------------------------------------------------------
void *__usercall sub_10058100@<eax>(void *a1@<eax>)
{
  return memset(a1, 0, 0xA0u);
}

//----- (10058120) --------------------------------------------------------
unsigned int __cdecl sub_10058120(int a1, unsigned int a2)
{
  int v2; // eax@1
  unsigned int result; // eax@1
  _BYTE *v4; // ecx@3
  char v5; // dl@3
  unsigned __int64 v6; // [sp+Ch] [bp-8h]@1

  v2 = sub_10017740();
  v6 = ((unsigned __int64)(unsigned int)v2 << 32) + (unsigned int)j_TSK_pvg_get_us_timer();
  result = 0;
  do
  {
    if ( result >= a2 )
      break;
    v4 = (_BYTE *)(result + a1);
    v5 = *((_BYTE *)&v6 + result++ + a1 - a1);
    *v4 = v5;
  }
  while ( result < 8 );
  return result;
}
// 100177E0: using guessed type int j_TSK_pvg_get_us_timer(void);

//----- (10058180) --------------------------------------------------------
int __usercall sub_10058180@<eax>(int result@<eax>)
{
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 8) = 1732584193;
  *(_DWORD *)(result + 12) = -271733879;
  *(_DWORD *)(result + 16) = -1732584194;
  *(_DWORD *)(result + 20) = &unk_10325476;
  *(_DWORD *)(result + 24) = -1009589776;
  return result;
}

//----- (100581C0) --------------------------------------------------------
int __usercall sub_100581C0@<eax>(int result@<eax>)
{
  int v1; // ebx@1
  int v2; // esi@1
  int v3; // edx@1
  unsigned int v4; // ST28_4@1
  int v5; // edx@1
  int v6; // ST18_4@1
  unsigned int v7; // ST2C_4@1
  int v8; // edi@1
  int v9; // esi@1
  int v10; // edi@1
  int v11; // ST14_4@1
  int v12; // ST20_4@1
  unsigned int v13; // ST30_4@1
  int v14; // esi@1
  unsigned int v15; // ST34_4@1
  int v16; // edi@1
  int v17; // edi@1
  int v18; // ecx@1
  int v19; // ST1C_4@1
  int v20; // ebx@1
  unsigned int v21; // ebp@1
  unsigned int v22; // ST38_4@1
  int v23; // edx@1
  int v24; // ST10_4@1
  unsigned int v25; // ST3C_4@1
  int v26; // esi@1
  int v27; // esi@1
  int v28; // ST18_4@1
  int v29; // ebp@1
  unsigned int v30; // ST40_4@1
  int v31; // edi@1
  int v32; // ebx@1
  int v33; // ST14_4@1
  unsigned int v34; // ST44_4@1
  int v35; // edi@1
  int v36; // ST20_4@1
  int v37; // ST1C_4@1
  unsigned int v38; // ST48_4@1
  int v39; // ebx@1
  int v40; // ebx@1
  int v41; // ecx@1
  int v42; // ebp@1
  unsigned int v43; // ST4C_4@1
  int v44; // edx@1
  int v45; // edx@1
  int v46; // ST10_4@1
  int v47; // esi@1
  unsigned int v48; // ST50_4@1
  int v49; // esi@1
  int v50; // ST18_4@1
  unsigned int v51; // ST54_4@1
  int v52; // edi@1
  int v53; // ebx@1
  int v54; // ST14_4@1
  unsigned int v55; // ST58_4@1
  int v56; // edi@1
  int v57; // ST20_4@1
  int v58; // ebx@1
  unsigned int v59; // ST5C_4@1
  int v60; // ebx@1
  int v61; // ecx@1
  int v62; // ST14_4@1
  int v63; // ST1C_4@1
  unsigned int v64; // ST60_4@1
  int v65; // edx@1
  int v66; // edx@1
  int v67; // ST10_4@1
  unsigned int v68; // ST64_4@1
  int v69; // esi@1
  int v70; // esi@1
  int v71; // ST18_4@1
  int v72; // ebp@1
  int v73; // ecx@1
  int v74; // ebx@1
  int v75; // ST68_4@1
  int v76; // edi@1
  int v77; // edi@1
  int v78; // ST14_4@1
  int v79; // ST20_4@1
  int v80; // ecx@1
  int v81; // ST6C_4@1
  int v82; // edi@1
  int v83; // ecx@1
  int v84; // ST70_4@1
  int v85; // ebx@1
  int v86; // ST1C_4@1
  int v87; // ebx@1
  int v88; // ecx@1
  int v89; // ST14_4@1
  int v90; // ecx@1
  int v91; // ST74_4@1
  int v92; // edx@1
  int v93; // edx@1
  int v94; // ST10_4@1
  int v95; // ecx@1
  int v96; // ST78_4@1
  int v97; // esi@1
  int v98; // esi@1
  int v99; // ST18_4@1
  int v100; // ebx@1
  int v101; // ecx@1
  int v102; // edi@1
  int v103; // ST7C_4@1
  int v104; // edi@1
  int v105; // ST20_4@1
  int v106; // ecx@1
  int v107; // ST80_4@1
  int v108; // edx@1
  int v109; // edx@1
  int v110; // ecx@1
  int v111; // ST84_4@1
  int v112; // ebx@1
  int v113; // ebx@1
  int v114; // ST14_4@1
  int v115; // ecx@1
  int v116; // ebp@1
  int v117; // ST88_4@1
  int v118; // edi@1
  int v119; // edi@1
  int v120; // ST10_4@1
  int v121; // ebp@1
  int v122; // ecx@1
  int v123; // ST8C_4@1
  int v124; // edx@1
  int v125; // ebp@1
  int v126; // edx@1
  int v127; // ecx@1
  int v128; // ST18_4@1
  int v129; // ST90_4@1
  int v130; // esi@1
  int v131; // esi@1
  int v132; // ST20_4@1
  int v133; // ecx@1
  int v134; // ST94_4@1
  int v135; // edi@1
  int v136; // edi@1
  int v137; // ecx@1
  int v138; // ST98_4@1
  int v139; // ebx@1
  int v140; // ebx@1
  int v141; // ST14_4@1
  int v142; // ecx@1
  int v143; // ebp@1
  int v144; // ST9C_4@1
  int v145; // esi@1
  int v146; // esi@1
  int v147; // ST10_4@1
  int v148; // ebp@1
  int v149; // ecx@1
  int v150; // STA0_4@1
  int v151; // edi@1
  int v152; // ebp@1
  int v153; // edx@1
  int v154; // ecx@1
  int v155; // ST18_4@1
  int v156; // STA4_4@1
  int v157; // edi@1
  int v158; // edi@1
  int v159; // ST20_4@1
  int v160; // ecx@1
  int v161; // STA8_4@1
  int v162; // esi@1
  int v163; // esi@1
  int v164; // ecx@1
  int v165; // STAC_4@1
  int v166; // ebx@1
  int v167; // ebx@1
  int v168; // ST14_4@1
  int v169; // ecx@1
  int v170; // ebp@1
  int v171; // STB0_4@1
  int v172; // edi@1
  int v173; // edi@1
  int v174; // ST10_4@1
  int v175; // ebp@1
  int v176; // ecx@1
  int v177; // STB4_4@1
  int v178; // esi@1
  int v179; // ebp@1
  int v180; // edx@1
  int v181; // ST18_4@1
  int v182; // ecx@1
  int v183; // STB8_4@1
  int v184; // esi@1
  int v185; // ebx@1
  int v186; // ST20_4@1
  int v187; // esi@1
  int v188; // ecx@1
  int v189; // STBC_4@1
  int v190; // edi@1
  int v191; // edi@1
  int v192; // ST1C_4@1
  int v193; // ecx@1
  int v194; // ebp@1
  int v195; // STC0_4@1
  int v196; // edx@1
  int v197; // ecx@1
  int v198; // esi@1
  int v199; // STC4_4@1
  int v200; // ebp@1
  int v201; // esi@1
  int v202; // ST10_4@1
  int v203; // ecx@1
  int v204; // ebp@1
  int v205; // edi@1
  int v206; // STC8_4@1
  int v207; // ST1C_4@1
  int v208; // ecx@1
  int v209; // STCC_4@1
  int v210; // ebx@1
  int v211; // ST18_4@1
  int v212; // ecx@1
  int v213; // STD0_4@1
  int v214; // edx@1
  int v215; // edi@1
  int v216; // ebx@1
  int v217; // ecx@1
  int v218; // edx@1
  int v219; // ebx@1
  int v220; // ecx@1
  int v221; // ST1C_4@1
  int v222; // ebp@1
  int v223; // STD4_4@1
  int v224; // ST10_4@1
  int v225; // edx@1
  int v226; // ecx@1
  int v227; // ST14_4@1
  int v228; // STD8_4@1
  int v229; // ebp@1
  int v230; // ebx@1
  int v231; // ecx@1
  int v232; // esi@1
  int v233; // ST10_4@1
  int v234; // ecx@1
  int v235; // STDC_4@1
  int v236; // edi@1
  int v237; // ebx@1
  int v238; // ecx@1
  int v239; // edi@1
  int v240; // STE0_4@1
  int v241; // ebx@1
  int v242; // ST18_4@1
  int v243; // ST1C_4@1
  int v244; // ecx@1
  int v245; // edx@1
  int v246; // STE4_4@1
  int v247; // edi@1
  int v248; // ebx@1
  int v249; // ecx@1
  int v250; // edx@1
  int v251; // ebx@1
  int v252; // ecx@1
  int v253; // ST1C_4@1
  int v254; // ebp@1
  int v255; // STE8_4@1
  int v256; // ST10_4@1
  int v257; // edx@1
  int v258; // ecx@1
  int v259; // ebx@1
  int v260; // ST14_4@1
  int v261; // STEC_4@1
  int v262; // ebp@1
  int v263; // ecx@1
  int v264; // esi@1
  int v265; // ST10_4@1
  int v266; // ecx@1
  int v267; // edi@1
  int v268; // STF0_4@1
  int v269; // ebx@1
  int v270; // edi@1
  int v271; // ecx@1
  int v272; // ebx@1
  int v273; // STF4_4@1
  int v274; // ST1C_4@1
  int v275; // ST18_4@1
  int v276; // ecx@1
  int v277; // edx@1
  int v278; // edi@1
  int v279; // STF8_4@1
  int v280; // ebx@1
  int v281; // ecx@1
  int v282; // edx@1
  int v283; // ST1C_4@1
  int v284; // ecx@1
  int v285; // ST10_4@1
  int v286; // STFC_4@1
  int v287; // ebp@1
  int v288; // edx@1
  int v289; // ecx@1
  int v290; // ST100_4@1
  int v291; // ST14_4@1
  int v292; // ebp@1
  int v293; // ebx@1
  int v294; // ecx@1
  int v295; // esi@1
  int v296; // ST10_4@1
  int v297; // ecx@1
  int v298; // edi@1
  int v299; // ST104_4@1
  int v300; // ebx@1
  int v301; // edi@1
  int v302; // ecx@1
  int v303; // ebx@1
  int v304; // ST108_4@1
  int v305; // ST1C_4@1
  int v306; // ST18_4@1
  int v307; // ecx@1
  int v308; // edi@1
  int v309; // ST10C_4@1
  int v310; // ebx@1
  int v311; // edx@1
  int v312; // ecx@1
  int v313; // ST1C_4@1
  int v314; // ecx@1
  int v315; // ST110_4@1
  int v316; // ebp@1
  int v317; // ebx@1
  int v318; // edx@1
  int v319; // ecx@1
  int v320; // ST114_4@1
  int v321; // ST14_4@1
  int v322; // ebp@1
  int v323; // edi@1
  int v324; // ecx@1
  int v325; // edx@1
  int v326; // ebp@1
  int v327; // ST118_4@1
  int v328; // esi@1
  int v329; // ST10_4@1
  int v330; // ecx@1
  int v331; // ST18_4@1
  int v332; // ST11C_4@1
  int v333; // ebx@1
  int v334; // esi@1
  int v335; // edi@1
  int v336; // edi@1
  int v337; // ST20_4@1
  int v338; // ebx@1
  int v339; // ecx@1
  int v340; // edx@1
  int v341; // ST120_4@1
  int v342; // edx@1
  int v343; // ecx@1
  int v344; // ST124_4@1
  int v345; // ebx@1
  int v346; // ebx@1
  int v347; // ecx@1
  int v348; // ST14_4@1
  int v349; // ST128_4@1
  int v350; // ebp@1
  int v351; // edi@1
  int v352; // edi@1
  int v353; // ecx@1
  int v354; // ST10_4@1
  int v355; // ST12C_4@1
  int v356; // ebp@1
  int v357; // edx@1
  int v358; // ST18_4@1
  int v359; // ecx@1
  int v360; // ST130_4@1
  int v361; // edx@1
  int v362; // esi@1
  int v363; // esi@1
  int v364; // ST20_4@1
  int v365; // ecx@1
  int v366; // ebx@1
  int v367; // edi@1
  int v368; // ST134_4@1
  int v369; // edi@1
  int v370; // ecx@1
  int v371; // ebp@1
  int v372; // ST138_4@1
  int v373; // ebx@1
  int v374; // ebx@1
  int v375; // ecx@1
  int v376; // ST14_4@1
  int v377; // ST13C_4@1
  int v378; // ebp@1
  int v379; // esi@1
  int v380; // esi@1
  int v381; // ecx@1
  int v382; // ST10_4@1
  int v383; // ST140_4@1
  int v384; // ebp@1
  int v385; // edi@1
  int v386; // edi@1
  int v387; // ecx@1
  int v388; // ebp@1
  int v389; // edx@1
  int v390; // ST18_4@1
  int v391; // ebx@1
  int v392; // ST20_4@1
  int v393; // edx@1
  int v394; // ST14_4@1
  int v395; // esi@1
  int v396; // ST148_4@1
  int v397; // ST10_4@1
  int v398; // ST1C_4@1
  int v399; // edx@1
  int v400; // ebx@1
  int v401; // ST14C_4@1
  int v402; // esi@1
  int v403; // ebx@1
  int v404; // ST18_4@1
  int v405; // ST14_4@1
  int v406; // edx@1
  int v407; // edi@1
  int v408; // esi@1
  int v409; // ebx@1
  int v410; // ST20_4@1
  int v411; // esi@1
  int v412; // ST10_4@1
  int v413; // ebx@1
  int v414; // edi@1
  int v415; // ebp@1
  int v416; // edi@1
  int v417; // ST24_4@1
  int v418; // ST1C_4@1
  int v419; // edi@1
  int v420; // ebx@1
  int v421; // ST20_4@1
  int v422; // edx@1
  int v423; // ebx@1
  int v424; // edx@1
  int v425; // ebx@1
  int v426; // ST1C_4@1
  int v427; // esi@1
  int v428; // ebx@1
  int v429; // esi@1
  int v430; // ecx@1
  int v431; // ebx@1
  int v432; // ebx@1
  int v433; // edx@1
  int v434; // ecx@1

  v1 = *(_DWORD *)(result + 8);
  v2 = *(_DWORD *)(result + 12);
  v3 = __ROL4__(*(_DWORD *)(result + 8), 5);
  v4 = ((*(_DWORD *)(result + 28) & 0xFF00 | (*(_DWORD *)(result + 28) << 16)) << 8) | (((*(_DWORD *)(result + 28) >> 16) | *(_DWORD *)(result + 28) & 0xFF0000u) >> 8);
  v5 = v4
     + *(_DWORD *)(result + 24)
     + v3
     + (v2 & *(_DWORD *)(result + 16) ^ *(_DWORD *)(result + 20) & ~*(_DWORD *)(result + 12))
     + 1518500249;
  v2 = __ROR4__(v2, 2);
  v6 = v2;
  v7 = ((*(_DWORD *)(result + 32) & 0xFF00 | (*(_DWORD *)(result + 32) << 16)) << 8) | (((*(_DWORD *)(result + 32) >> 16) | *(_DWORD *)(result + 32) & 0xFF0000u) >> 8);
  v8 = v1 & v2 ^ *(_DWORD *)(result + 16) & ~v1;
  v9 = __ROL4__(v5, 5);
  v10 = *(_DWORD *)(result + 20) + v7 + v9 + v8 + 1518500249;
  v1 = __ROR4__(v1, 2);
  v11 = v10;
  v10 = __ROL4__(v10, 5);
  v12 = v1;
  v13 = ((*(_DWORD *)(result + 36) & 0xFF00 | (*(_DWORD *)(result + 36) << 16)) << 8) | (((*(_DWORD *)(result + 36) >> 16) | *(_DWORD *)(result + 36) & 0xFF0000u) >> 8);
  v14 = *(_DWORD *)(result + 16) + v13 + v10 + (v1 & v5 ^ v6 & ~v5) + 1518500249;
  v5 = __ROR4__(v5, 2);
  v15 = ((*(_DWORD *)(result + 40) & 0xFF00 | (*(_DWORD *)(result + 40) << 16)) << 8) | (((*(_DWORD *)(result + 40) >> 16) | *(_DWORD *)(result + 40) & 0xFF0000u) >> 8);
  v16 = __ROL4__(v14, 5);
  v17 = v6 + v15 + v16 + (v11 & v5 ^ v1 & ~v11) + 1518500249;
  v18 = __ROR4__(v11, 2);
  v19 = v5;
  v20 = __ROL4__(v17, 5);
  v21 = (((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8))
      + v20
      + (v14 & v18 ^ v5 & ~v14);
  v22 = ((*(_DWORD *)(result + 44) & 0xFF00 | (*(_DWORD *)(result + 44) << 16)) << 8) | (((*(_DWORD *)(result + 44) >> 16) | *(_DWORD *)(result + 44) & 0xFF0000u) >> 8);
  v14 = __ROR4__(v14, 2);
  v23 = v12 + v21 + 1518500249;
  v24 = v14;
  v25 = ((*(_DWORD *)(result + 48) & 0xFF00 | (*(_DWORD *)(result + 48) << 16)) << 8) | (((*(_DWORD *)(result + 48) >> 16) | *(_DWORD *)(result + 48) & 0xFF0000u) >> 8);
  v26 = __ROL4__(v23, 5);
  v27 = v19 + v25 + v26 + (v17 & v24 ^ v18 & ~v17) + 1518500249;
  v17 = __ROR4__(v17, 2);
  v28 = v17;
  v29 = v23 & v17;
  v30 = ((*(_DWORD *)(result + 52) & 0xFF00 | (*(_DWORD *)(result + 52) << 16)) << 8) | (((*(_DWORD *)(result + 52) >> 16) | *(_DWORD *)(result + 52) & 0xFF0000u) >> 8);
  v31 = __ROL4__(v27, 5);
  v32 = v18 + v30 + v31 + (v29 ^ v24 & ~v23) + 1518500249;
  v23 = __ROR4__(v23, 2);
  v33 = v32;
  v32 = __ROL4__(v32, 5);
  v34 = ((*(_DWORD *)(result + 56) & 0xFF00 | (*(_DWORD *)(result + 56) << 16)) << 8) | (((*(_DWORD *)(result + 56) >> 16) | *(_DWORD *)(result + 56) & 0xFF0000u) >> 8);
  v35 = v24 + v34 + v32 + (v23 & v27 ^ v28 & ~v27) + 1518500249;
  v27 = __ROR4__(v27, 2);
  v36 = v23;
  v37 = v27;
  v38 = ((*(_DWORD *)(result + 60) & 0xFF00 | (*(_DWORD *)(result + 60) << 16)) << 8) | (((*(_DWORD *)(result + 60) >> 16) | *(_DWORD *)(result + 60) & 0xFF0000u) >> 8);
  v39 = __ROL4__(v35, 5);
  v40 = v28 + v38 + v39 + (v33 & v27 ^ v23 & ~v33) + 1518500249;
  v41 = __ROR4__(v33, 2);
  v42 = v35 & v41 ^ v27 & ~v35;
  v43 = ((*(_DWORD *)(result + 64) & 0xFF00 | (*(_DWORD *)(result + 64) << 16)) << 8) | (((*(_DWORD *)(result + 64) >> 16) | *(_DWORD *)(result + 64) & 0xFF0000u) >> 8);
  v44 = __ROL4__(v40, 5);
  v35 = __ROR4__(v35, 2);
  v45 = v36 + v43 + v44 + v42 + 1518500249;
  v46 = v35;
  v47 = __ROL4__(v45, 5);
  v48 = ((*(_DWORD *)(result + 68) & 0xFF00 | (*(_DWORD *)(result + 68) << 16)) << 8) | (((*(_DWORD *)(result + 68) >> 16) | *(_DWORD *)(result + 68) & 0xFF0000u) >> 8);
  v49 = v37 + v48 + v47 + (v40 & v35 ^ v41 & ~v40) + 1518500249;
  v40 = __ROR4__(v40, 2);
  v50 = v40;
  v51 = ((*(_DWORD *)(result + 72) & 0xFF00 | (*(_DWORD *)(result + 72) << 16)) << 8) | (((*(_DWORD *)(result + 72) >> 16) | *(_DWORD *)(result + 72) & 0xFF0000u) >> 8);
  v52 = __ROL4__(v49, 5);
  v53 = v41 + v51 + v52 + (v45 & v40 ^ v46 & ~v45) + 1518500249;
  v54 = v53;
  v45 = __ROR4__(v45, 2);
  v53 = __ROL4__(v53, 5);
  v55 = ((*(_DWORD *)(result + 76) & 0xFF00 | (*(_DWORD *)(result + 76) << 16)) << 8) | (((*(_DWORD *)(result + 76) >> 16) | *(_DWORD *)(result + 76) & 0xFF0000u) >> 8);
  v56 = v46 + v55 + v53 + (v45 & v49 ^ v50 & ~v49) + 1518500249;
  v49 = __ROR4__(v49, 2);
  v57 = v45;
  v58 = __ROL4__(v56, 5);
  v59 = ((*(_DWORD *)(result + 80) & 0xFF00 | (*(_DWORD *)(result + 80) << 16)) << 8) | (((*(_DWORD *)(result + 80) >> 16) | *(_DWORD *)(result + 80) & 0xFF0000u) >> 8);
  v60 = v50 + v59 + v58 + (v54 & v49 ^ v45 & ~v54) + 1518500249;
  v61 = __ROR4__(v54, 2);
  v62 = v61;
  v63 = v49;
  v64 = ((*(_DWORD *)(result + 84) & 0xFF00 | (*(_DWORD *)(result + 84) << 16)) << 8) | (((*(_DWORD *)(result + 84) >> 16) | *(_DWORD *)(result + 84) & 0xFF0000u) >> 8);
  v65 = __ROL4__(v60, 5);
  v66 = v57 + v64 + v65 + (v56 & v61 ^ v49 & ~v56) + 1518500249;
  v56 = __ROR4__(v56, 2);
  v67 = v56;
  v68 = ((*(_DWORD *)(result + 88) & 0xFF00 | (*(_DWORD *)(result + 88) << 16)) << 8) | (((*(_DWORD *)(result + 88) >> 16) | *(_DWORD *)(result + 88) & 0xFF0000u) >> 8);
  v69 = __ROL4__(v66, 5);
  v70 = v63 + v68 + v69 + (v60 & v56 ^ v61 & ~v60) + 1518500249;
  v60 = __ROR4__(v60, 2);
  v71 = v60;
  v72 = v60;
  v73 = __ROL4__(v4 ^ v13 ^ v38 ^ v59, 1);
  v74 = v56 & ~v66;
  v75 = v73;
  v76 = __ROL4__(v70, 5);
  v77 = v62 + v73 + v76 + (v66 & v72 ^ v74) + 1518500249;
  v66 = __ROR4__(v66, 2);
  v78 = v77;
  v79 = v66;
  v80 = __ROL4__(v7 ^ v15 ^ v43 ^ v64, 1);
  v81 = v80;
  v77 = __ROL4__(v77, 5);
  v82 = v67 + v80 + v77 + (v66 & v70 ^ v71 & ~v70) + 1518500249;
  v70 = __ROR4__(v70, 2);
  v83 = __ROL4__(v13 ^ v22 ^ v48 ^ v68, 1);
  v84 = v83;
  v85 = __ROL4__(v82, 5);
  v86 = v70;
  v87 = v71 + v83 + v85 + (v78 & v70 ^ v66 & ~v78) + 1518500249;
  v88 = __ROR4__(v78, 2);
  v89 = v88;
  v90 = __ROL4__(v15 ^ v25 ^ v51 ^ v75, 1);
  v91 = v90;
  v92 = __ROL4__(v87, 5);
  v93 = v79 + v90 + v92 + (v82 & v89 ^ v70 & ~v82) + 1518500249;
  v82 = __ROR4__(v82, 2);
  v94 = v82;
  v95 = __ROL4__(v22 ^ v30 ^ v55 ^ v81, 1);
  v96 = v95;
  v97 = __ROL4__(v93, 5);
  v98 = v86 + v95 + v97 + (v87 ^ v82 ^ v89) + 1859775393;
  v87 = __ROR4__(v87, 2);
  v99 = v87;
  v100 = v87 ^ v82;
  v101 = __ROL4__(v25 ^ v34 ^ v59 ^ v84, 1);
  v102 = __ROL4__(v98, 5);
  v103 = v101;
  v104 = v89 + v101 + v102 + (v93 ^ v100) + 1859775393;
  v93 = __ROR4__(v93, 2);
  v105 = v93;
  v106 = __ROL4__(v30 ^ v38 ^ v64 ^ v91, 1);
  v107 = v106;
  v108 = __ROL4__(v104, 5);
  v109 = v94 + v106 + v108 + (v105 ^ v99 ^ v98) + 1859775393;
  v98 = __ROR4__(v98, 2);
  v110 = __ROL4__(v34 ^ v43 ^ v68 ^ v96, 1);
  v111 = v110;
  v112 = __ROL4__(v109, 5);
  v113 = v99 + v110 + v112 + (v105 ^ v104 ^ v98) + 1859775393;
  v104 = __ROR4__(v104, 2);
  v114 = v104;
  v115 = __ROL4__(v38 ^ v48 ^ v75 ^ v103, 1);
  v116 = v109 ^ v104 ^ v98;
  v117 = v115;
  v118 = __ROL4__(v113, 5);
  v119 = v105 + v115 + v118 + v116 + 1859775393;
  v109 = __ROR4__(v109, 2);
  v120 = v109;
  v121 = v109 ^ v114;
  v122 = __ROL4__(v43 ^ v51 ^ v81 ^ v107, 1);
  v123 = v122;
  v124 = __ROL4__(v119, 5);
  v125 = v122 + v124 + (v113 ^ v121);
  v113 = __ROR4__(v113, 2);
  v126 = v98 + v125 + 1859775393;
  v127 = __ROL4__(v48 ^ v55 ^ v84 ^ v111, 1);
  v128 = v113;
  v129 = v127;
  v130 = __ROL4__(v126, 5);
  v131 = v114 + v127 + v130 + (v119 ^ v113 ^ v120) + 1859775393;
  v119 = __ROR4__(v119, 2);
  v132 = v119;
  v133 = __ROL4__(v51 ^ v59 ^ v91 ^ v117, 1);
  v134 = v133;
  v135 = __ROL4__(v131, 5);
  v136 = v120 + v133 + v135 + (v132 ^ v113 ^ v126) + 1859775393;
  v126 = __ROR4__(v126, 2);
  v137 = __ROL4__(v55 ^ v64 ^ v96 ^ v123, 1);
  v138 = v137;
  v139 = __ROL4__(v136, 5);
  v140 = v128 + v137 + v139 + (v132 ^ v131 ^ v126) + 1859775393;
  v131 = __ROR4__(v131, 2);
  v141 = v131;
  v142 = __ROL4__(v59 ^ v68 ^ v103 ^ v129, 1);
  v143 = v136 ^ v131 ^ v126;
  v144 = v142;
  v145 = __ROL4__(v140, 5);
  v146 = v132 + v142 + v145 + v143 + 1859775393;
  v136 = __ROR4__(v136, 2);
  v147 = v136;
  v148 = v136 ^ v141;
  v149 = __ROL4__(v64 ^ v75 ^ v107 ^ v134, 1);
  v150 = v149;
  v151 = __ROL4__(v146, 5);
  v152 = v149 + v151 + (v140 ^ v148);
  v140 = __ROR4__(v140, 2);
  v153 = v126 + v152 + 1859775393;
  v154 = __ROL4__(v68 ^ v81 ^ v111 ^ v138, 1);
  v155 = v140;
  v156 = v154;
  v157 = __ROL4__(v153, 5);
  v158 = v141 + v154 + v157 + (v146 ^ v140 ^ v147) + 1859775393;
  v146 = __ROR4__(v146, 2);
  v159 = v146;
  v160 = __ROL4__(v75 ^ v84 ^ v117 ^ v144, 1);
  v161 = v160;
  v162 = __ROL4__(v158, 5);
  v163 = v147 + v160 + v162 + (v159 ^ v140 ^ v153) + 1859775393;
  v153 = __ROR4__(v153, 2);
  v164 = __ROL4__(v81 ^ v91 ^ v123 ^ v150, 1);
  v165 = v164;
  v166 = __ROL4__(v163, 5);
  v167 = v155 + v164 + v166 + (v159 ^ v158 ^ v153) + 1859775393;
  v158 = __ROR4__(v158, 2);
  v168 = v158;
  v169 = __ROL4__(v84 ^ v96 ^ v129 ^ v156, 1);
  v170 = v163 ^ v158 ^ v153;
  v171 = v169;
  v172 = __ROL4__(v167, 5);
  v173 = v159 + v169 + v172 + v170 + 1859775393;
  v163 = __ROR4__(v163, 2);
  v174 = v163;
  v175 = v163 ^ v168;
  v176 = __ROL4__(v91 ^ v103 ^ v134 ^ v161, 1);
  v177 = v176;
  v178 = __ROL4__(v173, 5);
  v179 = v176 + v178 + (v167 ^ v175);
  v167 = __ROR4__(v167, 2);
  v180 = v153 + v179 + 1859775393;
  v181 = v167;
  v182 = __ROL4__(v96 ^ v107 ^ v138 ^ v165, 1);
  v183 = v182;
  v184 = __ROL4__(v180, 5);
  v185 = v168 + v182 + v184 + (v173 ^ v167 ^ v174) + 1859775393;
  v173 = __ROR4__(v173, 2);
  v186 = v173;
  v187 = v173;
  v188 = __ROL4__(v103 ^ v111 ^ v144 ^ v171, 1);
  v189 = v188;
  v190 = __ROL4__(v185, 5);
  v191 = v174 + v188 + v190 + (v187 ^ v181 ^ v180) + 1859775393;
  v180 = __ROR4__(v180, 2);
  v192 = v180;
  v193 = __ROL4__(v107 ^ v117 ^ v150 ^ v177, 1);
  v194 = __ROL4__(v191, 5);
  v195 = v193;
  v196 = v181 + v193 + v194 + (v187 ^ v185 ^ v180) + 1859775393;
  v185 = __ROR4__(v185, 2);
  v197 = __ROL4__(v111 ^ v123 ^ v156 ^ v183, 1);
  v198 = __ROL4__(v196, 5);
  v199 = v197;
  v200 = v197 + v198 + (v191 ^ v185 ^ v192);
  v191 = __ROR4__(v191, 2);
  v201 = v186 + v200 + 1859775393;
  v202 = v191;
  v203 = __ROL4__(v117 ^ v129 ^ v161 ^ v189, 1);
  v204 = __ROL4__(v201, 5);
  v205 = v192 + v203 + (v196 & v191 ^ v185 & (v196 ^ v191)) + v204 - 1894007588;
  v206 = v203;
  v207 = v205;
  v196 = __ROR4__(v196, 2);
  v208 = __ROL4__(v123 ^ v134 ^ v165 ^ v195, 1);
  v209 = v208;
  v210 = v185 + v208 + (v201 & v196 ^ v202 & (v201 ^ v196));
  v205 = __ROL4__(v205, 5);
  v201 = __ROR4__(v201, 2);
  v211 = v196;
  v212 = __ROL4__(v129 ^ v138 ^ v171 ^ v199, 1);
  v213 = v212;
  v214 = v202 + v212 + (v201 & v196 ^ v207 & (v201 ^ v196));
  v215 = v210 + v205 - 1894007588;
  v216 = __ROL4__(v215, 5);
  v217 = __ROR4__(v207, 2);
  v218 = v214 + v216 - 1894007588;
  v219 = v217;
  v220 = __ROL4__(v134 ^ v144 ^ v177 ^ v206, 1);
  v221 = v219;
  v222 = v211 + v220 + (v201 & v215 ^ v219 & (v201 ^ v215));
  v223 = v220;
  v224 = v218;
  v218 = __ROL4__(v218, 5);
  v215 = __ROR4__(v215, 2);
  v225 = v218 + v222 - 1894007588;
  v226 = __ROL4__(v138 ^ v150 ^ v183 ^ v209, 1);
  v227 = v215;
  v228 = v226;
  v229 = v226 + (v224 & v215 ^ v219 & (v224 ^ v215));
  v230 = __ROL4__(v225, 5);
  v231 = __ROR4__(v224, 2);
  v232 = v230 + v201 + v229 - 1894007588;
  v233 = v231;
  v234 = __ROL4__(v144 ^ v156 ^ v189 ^ v213, 1);
  v235 = v234;
  v236 = v221 + v234 + (v225 & v233 ^ v215 & (v225 ^ v233));
  v237 = __ROL4__(v232, 5);
  v225 = __ROR4__(v225, 2);
  v238 = __ROL4__(v150 ^ v161 ^ v195 ^ v223, 1);
  v239 = v236 + v237 - 1894007588;
  v240 = v238;
  v241 = v227 + v238 + (v232 & v225 ^ v233 & (v232 ^ v225));
  v242 = v225;
  v243 = v239;
  v239 = __ROL4__(v239, 5);
  v232 = __ROR4__(v232, 2);
  v244 = __ROL4__(v156 ^ v165 ^ v199 ^ v228, 1);
  v245 = v233 + v244 + (v232 & v225 ^ v243 & (v232 ^ v225));
  v246 = v244;
  v247 = v241 + v239 - 1894007588;
  v248 = __ROL4__(v247, 5);
  v249 = __ROR4__(v243, 2);
  v250 = v245 + v248 - 1894007588;
  v251 = v249;
  v252 = __ROL4__(v161 ^ v171 ^ v206 ^ v235, 1);
  v253 = v251;
  v254 = v242 + v252 + (v232 & v247 ^ v251 & (v232 ^ v247));
  v255 = v252;
  v256 = v250;
  v250 = __ROL4__(v250, 5);
  v247 = __ROR4__(v247, 2);
  v257 = v250 + v254 - 1894007588;
  v258 = __ROL4__(v165 ^ v177 ^ v209 ^ v240, 1);
  v259 = __ROL4__(v257, 5);
  v260 = v247;
  v261 = v258;
  v262 = v258 + (v256 & v247 ^ v253 & (v256 ^ v247));
  v263 = __ROR4__(v256, 2);
  v264 = v259 + v232 + v262 - 1894007588;
  v265 = v263;
  v266 = __ROL4__(v171 ^ v183 ^ v213 ^ v246, 1);
  v267 = v253 + v266 + (v257 & v265 ^ v247 & (v257 ^ v265));
  v268 = v266;
  v269 = __ROL4__(v264, 5);
  v257 = __ROR4__(v257, 2);
  v270 = v267 + v269 - 1894007588;
  v271 = __ROL4__(v177 ^ v189 ^ v223 ^ v255, 1);
  v272 = v260 + v271 + (v264 & v257 ^ v265 & (v264 ^ v257));
  v273 = v271;
  v274 = v270;
  v270 = __ROL4__(v270, 5);
  v264 = __ROR4__(v264, 2);
  v275 = v257;
  v276 = __ROL4__(v183 ^ v195 ^ v228 ^ v261, 1);
  v277 = v265 + v276 + (v264 & v257 ^ v274 & (v264 ^ v257));
  v278 = v272 + v270 - 1894007588;
  v279 = v276;
  v280 = __ROL4__(v278, 5);
  v281 = __ROR4__(v274, 2);
  v282 = v277 + v280 - 1894007588;
  v283 = v281;
  v284 = __ROL4__(v189 ^ v199 ^ v235 ^ v268, 1);
  v285 = v282;
  v282 = __ROL4__(v282, 5);
  v286 = v284;
  v287 = v275 + v284 + (v264 & v278 ^ v283 & (v264 ^ v278));
  v278 = __ROR4__(v278, 2);
  v288 = v282 + v287 - 1894007588;
  v289 = __ROL4__(v195 ^ v206 ^ v240 ^ v273, 1);
  v290 = v289;
  v291 = v278;
  v292 = v289 + (v285 & v278 ^ v283 & (v285 ^ v278));
  v293 = __ROL4__(v288, 5);
  v294 = __ROR4__(v285, 2);
  v295 = v293 + v264 + v292 - 1894007588;
  v296 = v294;
  v297 = __ROL4__(v199 ^ v209 ^ v246 ^ v279, 1);
  v298 = v283 + v297 + (v288 & v296 ^ v278 & (v288 ^ v296));
  v299 = v297;
  v300 = __ROL4__(v295, 5);
  v288 = __ROR4__(v288, 2);
  v301 = v298 + v300 - 1894007588;
  v302 = __ROL4__(v206 ^ v213 ^ v255 ^ v286, 1);
  v303 = v291 + v302 + (v295 & v288 ^ v296 & (v295 ^ v288));
  v304 = v302;
  v305 = v301;
  v306 = v288;
  v301 = __ROL4__(v301, 5);
  v295 = __ROR4__(v295, 2);
  v307 = __ROL4__(v209 ^ v223 ^ v261 ^ v290, 1);
  v308 = v303 + v301 - 1894007588;
  v309 = v307;
  v310 = __ROL4__(v308, 5);
  v311 = v296 + v307 + (v295 & v288 ^ v305 & (v295 ^ v288)) + v310 - 1894007588;
  v312 = __ROR4__(v305, 2);
  v313 = v312;
  v314 = __ROL4__(v213 ^ v228 ^ v268 ^ v299, 1);
  v315 = v314;
  v316 = v306 + v314 + (v295 & v308 ^ v313 & (v295 ^ v308));
  v317 = v311;
  v311 = __ROL4__(v311, 5);
  v308 = __ROR4__(v308, 2);
  v318 = v311 + v316 - 1894007588;
  v319 = __ROL4__(v223 ^ v235 ^ v273 ^ v304, 1);
  v320 = v319;
  v321 = v308;
  v322 = v319 + (v317 & v308 ^ v313 & (v317 ^ v308));
  v323 = v318;
  v318 = __ROL4__(v318, 5);
  v317 = __ROR4__(v317, 2);
  v324 = __ROL4__(v228 ^ v240 ^ v279 ^ v309, 1);
  v325 = v318 + v295 + v322 - 1894007588;
  v326 = v313 + v324 + (v323 ^ v317 ^ v321);
  v327 = v324;
  v328 = __ROL4__(v325, 5);
  v323 = __ROR4__(v323, 2);
  v329 = v317;
  v330 = __ROL4__(v235 ^ v246 ^ v286 ^ v315, 1);
  v331 = v323;
  v332 = v330;
  v333 = v321 + v330 + (v325 ^ v323 ^ v317);
  v334 = v328 + v326 - 899497514;
  v335 = __ROL4__(v334, 5);
  v336 = v333 + v335 - 899497514;
  v325 = __ROR4__(v325, 2);
  v337 = v325;
  v338 = v325 ^ v331 ^ v334;
  v339 = __ROL4__(v240 ^ v255 ^ v290 ^ v320, 1);
  v340 = __ROL4__(v336, 5);
  v341 = v339;
  v334 = __ROR4__(v334, 2);
  v342 = v329 + v339 + v338 + v340 - 899497514;
  v343 = __ROL4__(v246 ^ v261 ^ v299 ^ v327, 1);
  v344 = v343;
  v345 = __ROL4__(v342, 5);
  v346 = v345 + v331 + v343 + (v337 ^ v336 ^ v334) - 899497514;
  v336 = __ROR4__(v336, 2);
  v347 = __ROL4__(v255 ^ v268 ^ v304 ^ v332, 1);
  v348 = v336;
  v349 = v347;
  v350 = v337 + v347 + (v342 ^ v336 ^ v334);
  v351 = __ROL4__(v346, 5);
  v342 = __ROR4__(v342, 2);
  v352 = v351 + v350 - 899497514;
  v353 = __ROL4__(v261 ^ v273 ^ v309 ^ v341, 1);
  v354 = v342;
  v355 = v353;
  v356 = v353 + (v346 ^ v342 ^ v348);
  v357 = __ROL4__(v352, 5);
  v346 = __ROR4__(v346, 2);
  v358 = v346;
  v359 = __ROL4__(v268 ^ v279 ^ v315 ^ v344, 1);
  v360 = v359;
  v361 = v357 + v334 + v356 - 899497514;
  v362 = __ROL4__(v361, 5);
  v363 = v348 + v359 + (v352 ^ v346 ^ v354) + v362 - 899497514;
  v352 = __ROR4__(v352, 2);
  v364 = v352;
  v365 = __ROL4__(v273 ^ v286 ^ v320 ^ v349, 1);
  v366 = v352 ^ v346 ^ v361;
  v367 = __ROL4__(v363, 5);
  v368 = v365;
  v369 = v354 + v365 + v366 + v367 - 899497514;
  v361 = __ROR4__(v361, 2);
  v370 = __ROL4__(v279 ^ v290 ^ v327 ^ v355, 1);
  v371 = v358 + v370 + (v364 ^ v363 ^ v361);
  v372 = v370;
  v373 = __ROL4__(v369, 5);
  v363 = __ROR4__(v363, 2);
  v374 = v373 + v371 - 899497514;
  v375 = __ROL4__(v286 ^ v299 ^ v332 ^ v360, 1);
  v376 = v363;
  v377 = v375;
  v378 = v364 + v375 + (v369 ^ v363 ^ v361);
  v379 = __ROL4__(v374, 5);
  v380 = v379 + v378 - 899497514;
  v369 = __ROR4__(v369, 2);
  v381 = __ROL4__(v290 ^ v304 ^ v341 ^ v368, 1);
  v382 = v369;
  v383 = v381;
  v384 = v381 + (v374 ^ v369 ^ v376);
  v385 = __ROL4__(v380, 5);
  v386 = v385 + v361 + v384 - 899497514;
  v374 = __ROR4__(v374, 2);
  v387 = __ROL4__(v299 ^ v309 ^ v344 ^ v372, 1);
  v388 = v376 + v387 + (v380 ^ v374 ^ v382);
  v389 = __ROL4__(v386, 5);
  v380 = __ROR4__(v380, 2);
  v390 = v374;
  v391 = v389 + v388 - 899497514;
  v392 = v380;
  v393 = __ROL4__(v304 ^ v315 ^ v349 ^ v377, 1);
  v394 = v391;
  v391 = __ROL4__(v391, 5);
  v395 = v382 + v393 + (v380 ^ v390 ^ v386) + v391 - 899497514;
  v386 = __ROR4__(v386, 2);
  v396 = v393;
  v397 = v395;
  v398 = v386;
  v399 = __ROL4__(v309 ^ v320 ^ v355 ^ v383, 1);
  v400 = __ROL4__(v395, 5);
  v401 = v399;
  v402 = __ROR4__(v394, 2);
  v403 = v400 + v390 + v399 + (v392 ^ v394 ^ v386) - 899497514;
  v404 = v403;
  v405 = v402;
  v406 = __ROL4__(v315 ^ v327 ^ v360 ^ v387, 1);
  v403 = __ROL4__(v403, 5);
  v407 = v392 + v406 + (v397 ^ v402 ^ v386) + v403 - 899497514;
  v408 = __ROR4__(v397, 2);
  v409 = v408;
  v410 = v407;
  v411 = __ROL4__(v320 ^ v332 ^ v368 ^ v396, 1);
  v407 = __ROL4__(v407, 5);
  v412 = v409;
  v413 = v407 + v398 + v411 + (v404 ^ v409 ^ v405) - 899497514;
  v414 = __ROR4__(v404, 2);
  v415 = v414;
  v416 = __ROL4__(v327 ^ v341 ^ v372 ^ v401, 1);
  v417 = v416;
  v418 = v413;
  v413 = __ROL4__(v413, 5);
  v419 = v405 + v416 + (v410 ^ v415 ^ v412) + v413 - 899497514;
  v420 = __ROR4__(v410, 2);
  v421 = v420;
  v422 = __ROL4__(v332 ^ v344 ^ v377 ^ v406, 1);
  v423 = __ROL4__(v419, 5);
  v424 = v412 + (v421 ^ v415 ^ v418) + v423 + v422 - 899497514;
  v425 = __ROR4__(v418, 2);
  v426 = v425;
  v427 = __ROL4__(v341 ^ v349 ^ v383 ^ v411, 1);
  v428 = __ROL4__(v424, 5);
  v429 = v415 + (v421 ^ v419 ^ v426) + v428 + v427 - 899497514;
  v419 = __ROR4__(v419, 2);
  v430 = __ROL4__(v417 ^ v344 ^ v355 ^ v387, 1);
  v431 = __ROL4__(v429, 5);
  v432 = v421 + (v424 ^ v419 ^ v426) + v431 + v430 - 899497514 + *(_DWORD *)(result + 8);
  *(_DWORD *)(result + 12) += v429;
  v424 = __ROR4__(v424, 2);
  v433 = *(_DWORD *)(result + 16) + v424;
  *(_DWORD *)(result + 20) += v419;
  v434 = *(_DWORD *)(result + 24);
  *(_DWORD *)(result + 8) = v432;
  *(_DWORD *)(result + 16) = v433;
  *(_DWORD *)(result + 24) = v426 + v434;
  return result;
}

//----- (100598E0) --------------------------------------------------------
unsigned int __usercall sub_100598E0@<eax>(int a1@<esi>, int a2)
{
  unsigned int v2; // eax@1
  unsigned int v3; // edx@1
  int v4; // eax@4
  unsigned int v5; // eax@7
  unsigned int result; // eax@7
  int v7; // edx@8

  v2 = *(_DWORD *)a1 & 0x3F;
  v3 = v2 >> 2;
  *(_DWORD *)(a1 + 4 * v3 + 28) = dword_100C05F8[*(_BYTE *)a1 & 3] | *(_DWORD *)(a1 + 4 * v3 + 28) & dword_100C0608[*(_BYTE *)a1 & 3];
  if ( v2 > 0x37 )
  {
    if ( v2 < 0x3C )
      *(_DWORD *)(a1 + 88) = 0;
    sub_100581C0(a1);
    v4 = 0;
    goto LABEL_6;
  }
  v4 = v3 + 1;
  if ( v3 + 1 < 0xE )
LABEL_6:
    memset((void *)(a1 + 4 * v4 + 28), 0, 4 * (14 - v4));
  v5 = 8 * *(_DWORD *)a1;
  *(_DWORD *)(a1 + 84) = ((((unsigned int)(*(_QWORD *)a1 >> 29) << 16) | (*(_QWORD *)a1 >> 29) & 0xFF00) << 8) | ((((unsigned int)(*(_QWORD *)a1 >> 29) >> 16) | (*(_QWORD *)a1 >> 29) & 0xFF0000) >> 8);
  *(_DWORD *)(a1 + 88) = (((v5 << 16) | v5 & 0xFF00) << 8) | (((v5 >> 16) | v5 & 0xFF0000) >> 8);
  sub_100581C0(a1);
  result = 0;
  do
  {
    v7 = *(_DWORD *)(a1 + 4 * (result >> 2) + 8) >> 8 * (~(_BYTE)result & 3);
    *(_BYTE *)(++result + a2 - 1) = v7;
  }
  while ( result < 0x14 );
  return result;
}
// 100C05F8: using guessed type int dword_100C05F8[];
// 100C0608: using guessed type int dword_100C0608[];

//----- (100599E0) --------------------------------------------------------
void *__usercall sub_100599E0@<eax>(size_t a1@<eax>, char *a2@<ecx>, _DWORD *a3)
{
  int v3; // ebp@1
  size_t v4; // ebx@1
  int v5; // edi@1
  unsigned int v6; // eax@1
  size_t v7; // esi@1
  char *v9; // [sp+14h] [bp+4h]@1

  v3 = (int)a3;
  v4 = a1;
  v5 = *a3 & 0x3F;
  v6 = a1 + *a3;
  v7 = 64 - v5;
  v9 = a2;
  *(_DWORD *)v3 = v6;
  if ( v6 < v4 )
    ++*(_DWORD *)(v3 + 4);
  if ( v4 >= v7 )
  {
    do
    {
      memcpy_0((void *)(v5 + v3 + 28), v9, v7);
      v9 += v7;
      v4 -= v7;
      v7 = 64;
      v5 = 0;
      sub_100581C0(v3);
    }
    while ( v4 >= 0x40 );
  }
  return memcpy_0((void *)(v5 + v3 + 28), v9, v4);
}

//----- (10059A60) --------------------------------------------------------
void *__usercall sub_10059A60@<eax>(int a1@<eax>, size_t a2@<ebx>, char *a3)
{
  int v3; // edi@1
  void *result; // eax@1
  unsigned int v5; // eax@4
  _DWORD *v6; // eax@6

  v3 = a1;
  result = *(void **)(a1 + 156);
  if ( result != (void *)-1 )
  {
    if ( (unsigned int)result > 0x40 )
    {
      sub_100598E0(v3 + 64, v3);
      *(_DWORD *)(v3 + 156) = 20;
    }
    memset((void *)(v3 + *(_DWORD *)(v3 + 156)), 0, 64 - *(_DWORD *)(v3 + 156));
    v5 = 0;
    do
      *(_DWORD *)(v3 + 4 * v5++) ^= 0x36363636u;
    while ( v5 < 0x10 );
    v6 = (_DWORD *)sub_10058180(v3 + 64);
    result = sub_100599E0(0x40u, (char *)v3, v6);
    *(_DWORD *)(v3 + 156) = -1;
  }
  if ( a2 )
    result = sub_100599E0(a2, a3, (_DWORD *)(v3 + 64));
  return result;
}

//----- (10059B00) --------------------------------------------------------
int __usercall sub_10059B00@<eax>(int a1@<edi>, int a2, size_t a3)
{
  unsigned int v3; // eax@3
  int result; // eax@5
  char v5; // [sp+8h] [bp-18h]@3

  if ( *(_DWORD *)(a1 + 156) != -1 )
    sub_10059A60(a1, 0, 0);
  sub_100598E0(a1 + 64, (int)&v5);
  v3 = 0;
  do
    *(_DWORD *)(a1 + 4 * v3++) ^= 0x6A6A6A6Au;
  while ( v3 < 0x10 );
  sub_10058180(a1 + 64);
  sub_100599E0(0x40u, (char *)a1, (_DWORD *)(a1 + 64));
  sub_100599E0(0x14u, &v5, (_DWORD *)(a1 + 64));
  result = sub_100598E0(a1 + 64, (int)&v5);
  if ( a3 )
    result = (int)memcpy_0((void *)a2, &v5, a3);
  return result;
}

//----- (10059BC0) --------------------------------------------------------
int __usercall sub_10059BC0@<eax>(size_t a1@<edi>, int a2@<esi>, void *a3)
{
  int v3; // eax@1
  int result; // eax@2

  v3 = *(_DWORD *)(a2 + 156);
  if ( v3 + a1 <= 0x40 )
  {
    memcpy_0((void *)(a2 + v3), a3, a1);
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  else
  {
    sub_10058180(a2 + 64);
    sub_100599E0(*(_DWORD *)(a2 + 156), (char *)a2, (_DWORD *)(a2 + 64));
    sub_100599E0(a1, (char *)a3, (_DWORD *)(a2 + 64));
    *(_DWORD *)(a2 + 156) += a1;
    result = 0;
  }
  return result;
}

//----- (10059C20) --------------------------------------------------------
int __usercall sub_10059C20@<eax>(char *a1@<edi>)
{
  unsigned int v1; // ebp@1
  signed int v2; // eax@2
  int v3; // edx@4
  int v4; // ecx@4
  int v5; // edx@4
  unsigned int v6; // esi@4
  size_t v7; // eax@4
  int v8; // ebx@6
  int v9; // edx@8
  int result; // eax@8
  int v11; // ecx@8
  int v12; // edx@8
  char v13; // [sp+Ch] [bp-5Ch]@8
  int v14; // [sp+14h] [bp-54h]@4
  int v15; // [sp+18h] [bp-50h]@4
  int v16; // [sp+1Ch] [bp-4Ch]@4
  int v17; // [sp+20h] [bp-48h]@4
  int v18; // [sp+24h] [bp-44h]@4
  char v19[64]; // [sp+28h] [bp-40h]@6

  v1 = 0;
  do
  {
    v2 = v1;
    if ( !v1 )
      v2 = 260;
    v3 = *(_DWORD *)&a1[v2 - 16];
    v14 = *(_DWORD *)&a1[v2 - 20];
    v4 = *(_DWORD *)&a1[v2 - 12];
    v15 = v3;
    v5 = *(_DWORD *)&a1[v2 - 8];
    v6 = 260 - v1;
    v18 = *(_DWORD *)&a1[v2 - 4];
    v16 = v4;
    v17 = v5;
    v7 = 64;
    if ( 260 - v1 <= 0x40 )
      v7 = 260 - v1;
    v8 = (int)&a1[v1];
    memcpy_0(v19, &a1[v1], v7);
    if ( v6 < 0x40 )
      memcpy_0(&v19[v6], a1, 64 - v6);
    sub_100581C0((int)&v13);
    v9 = v15;
    result = v16;
    *(_DWORD *)v8 = v14;
    v11 = v17;
    *(_DWORD *)(v8 + 4) = v9;
    v12 = v18;
    *(_DWORD *)(v8 + 8) = result;
    v1 += 20;
    *(_DWORD *)(v8 + 12) = v11;
    *(_DWORD *)(v8 + 16) = v12;
  }
  while ( v1 < 0x104 );
  return result;
}
// 10059C20: using guessed type char var_40[64];

//----- (10059CE0) --------------------------------------------------------
int __usercall sub_10059CE0@<eax>(int a1@<ebx>)
{
  unsigned int v1; // ebp@1
  unsigned int v2; // eax@3
  char v3; // cl@4
  char v4; // dl@4
  char v5; // cl@4
  char v6; // dl@4
  char *v8; // [sp+Ch] [bp-4h]@1

  v8 = (char *)(a1 + 260);
  v1 = 0;
  qmemcpy((void *)(a1 + 260), (const void *)a1, 0x104u);
  do
    v1 += (*(int (__cdecl **)(unsigned int, unsigned int))(a1 + 524))(a1 + v1, 260 - v1);
  while ( v1 < 0x104 );
  v2 = 0;
  do
  {
    v3 = *(_BYTE *)(v2 + a1 + 261);
    *(_BYTE *)(v2 + a1) ^= ~v8[v2];
    v4 = *(_BYTE *)(v2 + a1 + 262);
    *(_BYTE *)(v2 + a1 + 1) ^= ~v3;
    v5 = *(_BYTE *)(v2 + a1 + 263);
    *(_BYTE *)(v2 + a1 + 2) ^= ~v4;
    v6 = *(_BYTE *)(v2 + a1 + 264);
    *(_BYTE *)(v2 + a1 + 3) ^= ~v5;
    *(_BYTE *)(v2 + a1 + 4) ^= ~v6;
    v2 += 5;
  }
  while ( v2 < 0x104 );
  sub_10059C20((char *)a1);
  return sub_10059C20(v8);
}

//----- (10059DA0) --------------------------------------------------------
char __cdecl sub_10059DA0(char *a1, size_t a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_10059A60(a3 + 296, a2, a1);
    sub_10057320(a3, (int)a1, a2);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10059DF0) --------------------------------------------------------
char __cdecl sub_10059DF0(char *a1, unsigned int a2, int a3)
{
  char result; // al@4

  if ( a1 && a2 && a3 )
  {
    sub_10057320(a3, (int)a1, a2);
    sub_10059A60(a3 + 296, a2, a1);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (10059E40) --------------------------------------------------------
bool __cdecl sub_10059E40(int a1, int a2)
{
  if ( a2 )
    sub_10059B00(a2 + 296, a1, 0xAu);
  return a2 != 0;
}

//----- (10059E70) --------------------------------------------------------
int __usercall sub_10059E70@<eax>(char *a1@<edx>, void *a2@<ecx>, size_t a3, size_t a4, int a5, int a6, unsigned int a7)
{
  void *v7; // esi@1
  char *v8; // ebx@1
  int result; // eax@1
  unsigned int v10; // edx@1
  unsigned int v11; // ebx@2
  size_t v12; // edx@3
  char v13; // al@6
  char v14; // al@6
  bool v15; // zf@7
  unsigned int v16; // eax@9
  unsigned int v17; // ecx@9
  int *v18; // [sp+10h] [bp-228h]@2
  unsigned int v19; // [sp+14h] [bp-224h]@2
  int v20; // [sp+18h] [bp-220h]@4
  signed int v21; // [sp+1Ch] [bp-21Ch]@2
  unsigned int v22; // [sp+20h] [bp-218h]@1
  char v23; // [sp+28h] [bp-210h]@3
  char v24; // [sp+C8h] [bp-170h]@1
  char v25; // [sp+168h] [bp-D0h]@1
  int v26; // [sp+20Ch] [bp-2Ch]@2
  int v27; // [sp+210h] [bp-28h]@3
  int v28; // [sp+214h] [bp-24h]@3
  int v29; // [sp+218h] [bp-20h]@3
  int v30; // [sp+21Ch] [bp-1Ch]@3
  int v31; // [sp+220h] [bp-18h]@3
  char v32[16]; // [sp+224h] [bp-14h]@6

  v7 = a2;
  v8 = a1;
  sub_10058100(&v24);
  sub_10059BC0(a3, (int)&v24, v7);
  qmemcpy(&v25, &v24, 0xA0u);
  sub_10059A60((int)&v25, a4, v8);
  result = -858993459 * (a7 - 1);
  v10 = (a7 - 1) / 0x14;
  v22 = v10 + 1;
  if ( v10 != -1 )
  {
    v11 = 1;
    v19 = 0;
    v21 = 1;
    v18 = &v26;
    do
    {
      v26 = 0;
      v27 = 0;
      v28 = 0;
      v29 = 0;
      v30 = 0;
      qmemcpy(&v23, &v25, 0xA0u);
      LOBYTE(v31) = BYTE3(v11);
      BYTE2(v31) = BYTE1(v11);
      BYTE1(v31) = v11 >> 16;
      BYTE3(v31) = v11;
      v12 = 4;
      if ( a5 )
      {
        v20 = a5;
        do
        {
          sub_10059A60((int)&v23, v12, (char *)&v31);
          sub_10059B00((int)&v23, (int)&v31, 0x14u);
          v12 = 0;
          do
          {
            *((_BYTE *)&v26 + v12) ^= *((_BYTE *)&v31 + v12);
            v13 = *((_BYTE *)&v31 + v12 + 2);
            *((_BYTE *)&v26 + v12 + 1) ^= *((_BYTE *)&v31 + v12 + 1);
            *((_BYTE *)&v26 + v12 + 2) ^= v13;
            v14 = v32[v12];
            *((_BYTE *)&v26 + v12 + 3) ^= *((_BYTE *)&v31 + v12 + 3);
            *((_BYTE *)&v27 + v12) ^= v14;
            v12 += 5;
          }
          while ( v12 < 0x14 );
          v15 = v20-- == 1;
          qmemcpy(&v23, &v24, 0xA0u);
        }
        while ( !v15 );
        v11 = v21;
      }
      v16 = v19;
      v17 = 0;
      do
      {
        if ( v16 >= a7 )
          break;
        *(_BYTE *)(v16 + a6) = *((_BYTE *)v18 + v16);
        ++v17;
        ++v16;
      }
      while ( v17 < 0x14 );
      v19 += 20;
      v18 -= 5;
      result = ++v11 - 1;
      v21 = v11;
    }
    while ( v11 - 1 < v22 );
  }
  return result;
}
// 10059E70: using guessed type char var_14[16];

//----- (1005A080) --------------------------------------------------------
int __usercall sub_1005A080@<eax>(void *a1@<eax>, int a2)
{
  int v2; // ebx@1
  signed int v3; // esi@1

  v2 = (int)a1;
  memset(a1, 0, 0x210u);
  *(_DWORD *)(v2 + 524) = a2;
  sub_10059CE0(v2);
  v3 = 20;
  do
  {
    sub_10059C20((char *)v2);
    --v3;
  }
  while ( v3 );
  return sub_10059CE0(v2);
}

//----- (1005A0D0) --------------------------------------------------------
char *__cdecl sub_1005A0D0(int a1, int a2)
{
  void *v2; // ecx@0
  char *result; // eax@1
  unsigned int v4; // ebp@1
  int v5; // edi@1
  char *v6; // ebx@1
  size_t v7; // esi@4

  result = (char *)a2;
  v4 = a1;
  v5 = *(_DWORD *)(a2 + 520);
  v6 = (char *)v2;
  if ( a1 )
  {
    while ( 1 )
    {
      v7 = 260 - v5;
      if ( v4 < 260 - v5 )
        v7 = v4;
      result = (char *)memcpy_0(v6, &result[v5 + 260], v7);
      v6 += v7;
      v5 += v7;
      v4 -= v7;
      if ( v5 == 260 )
      {
        result = (char *)sub_10059CE0(a2);
        v5 = 0;
      }
      if ( !v4 )
        break;
      result = (char *)a2;
    }
    *(_DWORD *)(a2 + 520) = v5;
  }
  else
  {
    *(_DWORD *)(a2 + 520) = v5;
  }
  return result;
}

//----- (1005A160) --------------------------------------------------------
signed int __cdecl sub_1005A160(char a1, void *a2, size_t a3, char *a4, _WORD *a5, int a6)
{
  signed int result; // eax@2
  int v7; // ebx@6
  char v8; // [sp+Ch] [bp-48h]@6
  char v9[8]; // [sp+14h] [bp-40h]@6
  __int16 v10[26]; // [sp+1Ch] [bp-38h]@6

  if ( a3 <= 0x80 )
  {
    if ( (unsigned __int8)(a1 - 1) > 2u )
    {
      result = -101;
    }
    else if ( a6 )
    {
      *(_BYTE *)(a6 + 464) = a1;
      v7 = a1 & 3;
      *(_DWORD *)(a6 + 460) = a3;
      sub_10059E70(a4, a2, a3, 4 * v7 + 4, 1000, (int)&v8, 16 * v7 + 18);
      *(_DWORD *)(a6 + 456) = 16;
      *(_DWORD *)a6 = 0;
      *(_DWORD *)(a6 + 4) = 0;
      *(_DWORD *)(a6 + 8) = 0;
      *(_DWORD *)(a6 + 12) = 0;
      sub_10057380(a6 + 32, (int)&v8, 8 * v7 + 8);
      sub_10058100((void *)(a6 + 296));
      sub_10059BC0(8 * v7 + 8, a6 + 296, &v9[8 * v7]);
      *a5 = v10[8 * v7];
      result = 0;
    }
    else
    {
      result = -102;
    }
  }
  else
  {
    result = -100;
  }
  return result;
}
// 1005A160: using guessed type char var_40[8];
// 1005A160: using guessed type __int16 var_38[26];

//----- (1005A290) --------------------------------------------------------
bool __cdecl sub_1005A290(void *a1, int a2)
{
  bool v2; // bl@3
  int v4; // [sp+Ch] [bp-214h]@5

  v2 = a1 && a2;
  sub_1005A080(&v4, (int)sub_10058120);
  if ( v2 )
    sub_1005A0D0(a2, (int)&v4);
  return v2;
}

//----- (1005A310) --------------------------------------------------------
BOOL __usercall sub_1005A310@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  unsigned int v3; // ecx@3
  int v4; // ecx@4

  *(_WORD *)(*(_DWORD *)(a1 + 5712) + 2 * *(_DWORD *)(a1 + 5728)) = a3;
  *(_BYTE *)(*(_DWORD *)(a1 + 5716) + (*(_DWORD *)(a1 + 5728))++) = a2;
  if ( a3 )
  {
    ++*(_DWORD *)(a1 + 2920);
    ++*(_WORD *)(a1 + 4 * (unsigned __int8)byte_100C0E10[a2] + 3964);
    v3 = a3 - 1;
    if ( v3 >= 0x100 )
      v4 = (unsigned __int8)byte_100C0D10[v3 >> 7];
    else
      v4 = (unsigned __int8)byte_100C0C10[v3];
    ++*(_WORD *)(a1 + 4 * v4 + 5228);
  }
  else
  {
    ++*(_WORD *)(a1 + 4 * a2 + 2936);
  }
  return *(_DWORD *)(a1 + 5728) == *(_DWORD *)(a1 + 5724) - 1;
}

//----- (1005A3B0) --------------------------------------------------------
int __usercall sub_1005A3B0@<eax>(int result@<eax>)
{
  signed int v1; // ecx@1
  __int16 v2; // cx@4

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 == 16 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)((*(_DWORD *)(result + 5812))++ + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
    *(_DWORD *)(result + 2932) = 0;
    *(_WORD *)(result + 2924) = 0;
  }
  else if ( v1 >= 8 )
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) -= 8;
    *(_WORD *)(result + 2924) = v2;
  }
  return result;
}

//----- (1005A440) --------------------------------------------------------
unsigned int __fastcall sub_1005A440(unsigned int a1, int a2)
{
  unsigned int v2; // eax@1
  int v3; // esi@2

  v2 = 0;
  do
  {
    v3 = a1 & 1;
    --a2;
    a1 >>= 1;
    v2 = 2 * (v3 | v2);
  }
  while ( a2 > 0 );
  return v2 >> 1;
}

//----- (1005A460) --------------------------------------------------------
int __usercall sub_1005A460@<eax>(int result@<eax>)
{
  signed int v1; // edx@1
  char v2; // bl@2
  int v3; // edx@2

  v1 = *(_DWORD *)(result + 2932);
  if ( v1 <= 8 )
  {
    if ( v1 > 0 )
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2924);
    v2 = *(_BYTE *)(result + 2925);
    v3 = *(_DWORD *)(result + 5800);
    *(_BYTE *)(++*(_DWORD *)(result + 5812) + v3) = v2;
    ++*(_DWORD *)(result + 5812);
    *(_WORD *)(result + 2924) = 0;
    *(_DWORD *)(result + 2932) = 0;
  }
  return result;
}

//----- (1005A4F0) --------------------------------------------------------
int __usercall sub_1005A4F0@<eax>(int result@<eax>, int a2, int a3)
{
  int v3; // ebx@1
  unsigned int v4; // ecx@1
  int v5; // ebp@2
  int v6; // esi@2
  int v7; // ecx@2
  int v8; // edi@3
  int v9; // esi@4
  int v10; // edx@4
  int v11; // ecx@4
  int v12; // edx@4
  int v13; // ecx@4
  int v14; // edx@6
  int v15; // edi@7
  int v16; // edx@7
  int v17; // ecx@7
  int v18; // edx@7
  int v19; // edi@9
  int v20; // esi@10
  int v21; // ecx@10
  int v22; // edx@11
  int v23; // ecx@11
  int v24; // edx@11
  int v25; // ecx@11
  unsigned int v26; // ebp@14
  int v27; // edi@15
  int v28; // edx@17
  int v29; // ecx@17
  unsigned __int16 v30; // si@18
  int v31; // edx@18
  int v32; // ecx@18
  int v33; // edx@18
  int v34; // esi@20
  int v35; // ecx@21
  int v36; // ebp@21
  int v37; // edx@22
  int v38; // ecx@22
  int v39; // edx@22
  int v40; // edi@26
  int v41; // ecx@26
  unsigned __int16 v42; // si@27
  int v43; // edx@27
  int v44; // ecx@27
  int v45; // edx@27
  int v46; // [sp+10h] [bp-Ch]@6
  int v47; // [sp+14h] [bp-8h]@6
  int v48; // [sp+14h] [bp-8h]@17
  unsigned int v49; // [sp+18h] [bp-4h]@2

  v3 = a2;
  v4 = 0;
  if ( *(_DWORD *)(result + 5728) )
  {
    do
    {
      v5 = *(_WORD *)(*(_DWORD *)(result + 5712) + 2 * v4);
      v6 = *(_BYTE *)(v4 + *(_DWORD *)(result + 5716));
      v49 = v4 + 1;
      v7 = *(_DWORD *)(result + 2932);
      if ( v5 )
      {
        v14 = (unsigned __int8)byte_100C0E10[v6];
        v46 = *(_WORD *)(v3 + 4 * v14 + 1030);
        v47 = (unsigned __int8)byte_100C0E10[v6];
        if ( v7 <= 16 - v46 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a2 + 4 * v14 + 1028) << v7;
          *(_DWORD *)(result + 2932) = v46 + v7;
        }
        else
        {
          v15 = *(_WORD *)(a2 + 4 * v14 + 1028);
          v16 = v15 << v7;
          v17 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v16;
          *(_BYTE *)(v17 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v18 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          LOWORD(v15) = (unsigned __int16)v15 >> (16 - v18);
          *(_DWORD *)(result + 2932) = v18 + v46 - 16;
          v14 = v47;
          *(_WORD *)(result + 2924) = v15;
        }
        v19 = dword_100C0618[v14];
        v3 = a2;
        if ( v19 )
        {
          v20 = v6 - dword_100C0F10[v14];
          v21 = *(_DWORD *)(result + 2932);
          if ( v21 <= 16 - v19 )
          {
            *(_WORD *)(result + 2924) |= v20 << v21;
            v25 = v19 + v21;
          }
          else
          {
            v22 = v20 << v21;
            v23 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v22;
            *(_BYTE *)(v23 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v24 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v3 = a2;
            v25 = v24 + v19 - 16;
            *(_WORD *)(result + 2924) = (unsigned __int16)v20 >> (16 - v24);
          }
          *(_DWORD *)(result + 2932) = v25;
        }
        v26 = v5 - 1;
        if ( v26 >= 0x100 )
          v27 = (unsigned __int8)byte_100C0D10[v26 >> 7];
        else
          v27 = (unsigned __int8)byte_100C0C10[v26];
        v28 = *(_WORD *)(a3 + 4 * v27 + 2);
        v29 = *(_DWORD *)(result + 2932);
        v48 = *(_WORD *)(a3 + 4 * v27 + 2);
        if ( v29 <= 16 - v28 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(a3 + 4 * v27) << v29;
          *(_DWORD *)(result + 2932) = v28 + v29;
        }
        else
        {
          v30 = *(_WORD *)(a3 + 4 * v27);
          v31 = *(_WORD *)(a3 + 4 * v27) << v29;
          v32 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v31;
          *(_BYTE *)(v32 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v33 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v3 = a2;
          *(_DWORD *)(result + 2932) = v33 + v48 - 16;
          *(_WORD *)(result + 2924) = v30 >> (16 - v33);
        }
        v34 = dword_100C06A0[v27];
        if ( !v34 )
          goto LABEL_25;
        v35 = *(_DWORD *)(result + 2932);
        v36 = v26 - dword_100C0F88[v27];
        if ( v35 <= 16 - v34 )
        {
          *(_WORD *)(result + 2924) |= v36 << v35;
          v13 = v34 + v35;
        }
        else
        {
          v37 = v36 << v35;
          v38 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v37;
          *(_BYTE *)(v38 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v39 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v39 + v34 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v36 >> (16 - v39);
        }
      }
      else
      {
        v8 = *(_WORD *)(v3 + 4 * v6 + 2);
        if ( v7 <= 16 - v8 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 4 * v6) << v7;
          v13 = v8 + v7;
        }
        else
        {
          v9 = *(_WORD *)(v3 + 4 * v6);
          v10 = v9 << v7;
          v11 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v10;
          *(_BYTE *)(v11 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v12 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v13 = v12 + v8 - 16;
          *(_WORD *)(result + 2924) = (unsigned __int16)v9 >> (16 - v12);
        }
      }
      *(_DWORD *)(result + 2932) = v13;
LABEL_25:
      v4 = v49;
    }
    while ( v49 < *(_DWORD *)(result + 5728) );
  }
  v40 = *(_WORD *)(v3 + 1026);
  v41 = *(_DWORD *)(result + 2932);
  if ( v41 <= 16 - v40 )
  {
    *(_WORD *)(result + 2924) |= *(_WORD *)(v3 + 1024) << v41;
    *(_DWORD *)(result + 2932) = v40 + v41;
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  else
  {
    v42 = *(_WORD *)(v3 + 1024);
    v43 = *(_WORD *)(v3 + 1024) << v41;
    v44 = *(_DWORD *)(result + 5800);
    *(_WORD *)(result + 2924) |= v43;
    *(_BYTE *)(v44 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
    *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = *(_BYTE *)(result + 2925);
    v45 = *(_DWORD *)(result + 2932);
    ++*(_DWORD *)(result + 5812);
    *(_DWORD *)(result + 2932) = v45 + v40 - 16;
    *(_WORD *)(result + 2924) = v42 >> (16 - v45);
    *(_DWORD *)(result + 2928) = *(_WORD *)(v3 + 1026);
  }
  return result;
}
// 100C0618: using guessed type int dword_100C0618[];
// 100C06A0: using guessed type int dword_100C06A0[];
// 100C0F10: using guessed type int dword_100C0F10[];
// 100C0F88: using guessed type int dword_100C0F88[];

//----- (1005A970) --------------------------------------------------------
int __usercall sub_1005A970@<eax>(int a1@<eax>, _BYTE *a2@<edx>, int a3@<ecx>)
{
  int v3; // ebx@1
  _BYTE *v4; // edi@1
  int result; // eax@1
  int v6; // ecx@1
  int v7; // edx@1
  int v8; // edx@1
  int i; // esi@1

  v3 = a3;
  v4 = a2;
  result = sub_1005A460(a1);
  v6 = *(_DWORD *)(result + 5812);
  v7 = *(_DWORD *)(result + 5800);
  *(_DWORD *)(result + 2928) = 8;
  *(_BYTE *)(v6 + v7) = v3;
  v8 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v8) = BYTE1(v3);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~(_BYTE)v3;
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = ~BYTE1(v3);
  for ( i = ++*(_DWORD *)(result + 5812); v3; ++v4 )
  {
    *(_BYTE *)(i + *(_DWORD *)(result + 5800)) = *v4;
    i = ++*(_DWORD *)(result + 5812);
    --v3;
  }
  return result;
}

//----- (1005AA20) --------------------------------------------------------
void *__usercall sub_1005AA20@<eax>(int a1@<edi>)
{
  void *result; // eax@1
  int v2; // ebx@1
  size_t v3; // esi@1
  bool v4; // zf@4

  result = *(void **)(a1 + 16);
  v2 = *(_DWORD *)(a1 + 24);
  v3 = *(_DWORD *)(v2 + 5812);
  if ( v3 > (unsigned int)result )
    v3 = *(_DWORD *)(a1 + 16);
  if ( v3 )
  {
    result = memcpy_0(*(void **)(a1 + 12), *(const void **)(v2 + 5808), v3);
    *(_DWORD *)(a1 + 12) += v3;
    *(_DWORD *)(v2 + 5808) += v3;
    *(_DWORD *)(a1 + 20) += v3;
    *(_DWORD *)(a1 + 16) -= v3;
    v4 = *(_DWORD *)(v2 + 5812) == v3;
    *(_DWORD *)(v2 + 5812) -= v3;
    if ( v4 )
      *(_DWORD *)(v2 + 5808) = *(_DWORD *)(v2 + 5800);
  }
  return result;
}

//----- (1005AA80) --------------------------------------------------------
int __usercall sub_1005AA80@<eax>(int result@<eax>, int a2@<edx>)
{
  int v2; // ecx@1
  int v3; // ebp@1
  int v4; // edi@1
  int v5; // esi@1
  int v6; // esi@1
  int v7; // ecx@1
  int v8; // edx@3
  int v9; // ecx@3
  int v10; // esi@6
  int v11; // ebx@8
  int i; // ecx@13
  int v13; // edx@17
  int v14; // ebx@18
  int v15; // ecx@19
  int v16; // esi@20
  int v17; // [sp+Ch] [bp-20h]@1
  int *v18; // [sp+10h] [bp-1Ch]@2
  int v19; // [sp+10h] [bp-1Ch]@17
  signed int v20; // [sp+14h] [bp-18h]@2
  int v21; // [sp+18h] [bp-14h]@1
  int v22; // [sp+1Ch] [bp-10h]@2
  int v23; // [sp+20h] [bp-Ch]@1
  int v24; // [sp+24h] [bp-8h]@1
  int v25; // [sp+28h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)a2;
  v24 = *(_DWORD *)(v2 + 8);
  v4 = *(_DWORD *)(v2 + 16);
  v21 = *(_DWORD *)v2;
  v25 = *(_DWORD *)(v2 + 4);
  v5 = *(_DWORD *)(a2 + 4);
  *(_DWORD *)result = 0;
  *(_DWORD *)(result + 4) = 0;
  *(_DWORD *)(result + 8) = 0;
  *(_DWORD *)(result + 12) = 0;
  *(_DWORD *)(result + 16) = 0;
  *(_DWORD *)(result + 20) = 0;
  *(_DWORD *)(result + 24) = 0;
  *(_DWORD *)(result + 28) = 0;
  v23 = v5;
  v6 = 0;
  *(_WORD *)(v3 + 4 * *(_DWORD *)(result + 4 * *(_DWORD *)(result + 2328) + 32) + 2) = 0;
  v7 = *(_DWORD *)(result + 2328) + 1;
  v17 = 0;
  if ( v7 < 573 )
  {
    v18 = (int *)(result + 4 * v7 + 32);
    v22 = 573 - v7;
    v20 = 573;
    do
    {
      v8 = *v18;
      v9 = *(_WORD *)(v3 + 4 * *(_WORD *)(v3 + 4 * *v18 + 2) + 2) + 1;
      if ( v9 > v4 )
      {
        ++v6;
        v9 = v4;
        v17 = v6;
      }
      *(_WORD *)(v3 + 4 * v8 + 2) = v9;
      if ( v8 <= v23 )
      {
        ++*(_WORD *)(result + 2 * v9);
        v10 = 0;
        if ( v8 >= v24 )
          v10 = *(_DWORD *)(v25 + 4 * (v8 - v24));
        v11 = *(_WORD *)(v3 + 4 * v8);
        *(_DWORD *)(result + 2912) += v11 * (v10 + v9);
        if ( v21 )
          *(_DWORD *)(result + 2916) += v11 * (v10 + *(_WORD *)(v21 + 4 * v8 + 2));
        v6 = v17;
      }
      ++v18;
      --v22;
    }
    while ( v22 );
    if ( v6 )
    {
      do
      {
        for ( i = v4 - 1; !*(_WORD *)(result + 2 * i); --i )
          ;
        --*(_WORD *)(result + 2 * i);
        *(_WORD *)(result + 2 * i + 2) += 2;
        --*(_WORD *)(result + 2 * v4);
        v6 -= 2;
      }
      while ( v6 > 0 );
      for ( ; v4; --v4 )
      {
        v13 = *(_WORD *)(result + 2 * v4);
        v19 = *(_WORD *)(result + 2 * v4);
        if ( *(_WORD *)(result + 2 * v4) )
        {
          v14 = result + 4 * v20 + 32;
          do
          {
            v15 = *(_DWORD *)(v14 - 4);
            --v20;
            v14 -= 4;
            if ( v15 <= v23 )
            {
              v16 = *(_WORD *)(v3 + 4 * v15 + 2);
              if ( v16 != v4 )
              {
                *(_DWORD *)(result + 2912) += *(_WORD *)(v3 + 4 * v15) * (v4 - v16);
                *(_WORD *)(v3 + 4 * v15 + 2) = v4;
              }
              v13 = --v19;
            }
          }
          while ( v13 );
        }
      }
    }
  }
  return result;
}

//----- (1005AC50) --------------------------------------------------------
signed int __usercall sub_1005AC50@<eax>(int a1@<edx>, int a2@<ebx>, int a3@<edi>)
{
  __int16 v3; // cx@1
  signed int result; // eax@1
  int v5; // edx@1
  int i; // esi@3
  int v7; // edx@4
  unsigned int v8; // ecx@5
  __int16 v9; // [sp+4h] [bp-24h]@2
  char v10; // [sp+6h] [bp-22h]@1

  v3 = 0;
  result = 1;
  v5 = a1 - (_DWORD)&v10;
  do
  {
    v3 = 2 * (v3 + *(__int16 *)((char *)&v9 + 2 * result + v5));
    *(&v9 + result++) = v3;
  }
  while ( result <= 15 );
  for ( i = 0; i <= a2; ++i )
  {
    v7 = *(_WORD *)(a3 + 4 * i + 2);
    if ( *(_WORD *)(a3 + 4 * i + 2) )
    {
      v8 = (unsigned __int16)(*(&v9 + v7))++;
      result = sub_1005A440(v8, v7);
      *(_WORD *)(a3 + 4 * i) = result;
    }
  }
  return result;
}

//----- (1005ACD0) --------------------------------------------------------
_WORD *__fastcall sub_1005ACD0(int a1, int a2)
{
  _WORD *v2; // eax@1
  signed int v3; // ecx@1
  _WORD *v4; // eax@3
  signed int v5; // ecx@3
  _WORD *result; // eax@5
  signed int v7; // ecx@5

  v2 = (_WORD *)(a2 + 2936);
  v3 = 286;
  do
  {
    *v2 = 0;
    v2 += 2;
    --v3;
  }
  while ( v3 );
  v4 = (_WORD *)(a2 + 5228);
  v5 = 30;
  do
  {
    *v4 = 0;
    v4 += 2;
    --v5;
  }
  while ( v5 );
  result = (_WORD *)(a2 + 5472);
  v7 = 19;
  do
  {
    *result = 0;
    result += 2;
    --v7;
  }
  while ( v7 );
  *(_DWORD *)(a2 + 2916) = 0;
  *(_DWORD *)(a2 + 2912) = 0;
  *(_DWORD *)(a2 + 2920) = 0;
  *(_DWORD *)(a2 + 5728) = 0;
  *(_WORD *)(a2 + 3960) = 1;
  return result;
}

//----- (1005AD40) --------------------------------------------------------
unsigned int __usercall sub_1005AD40@<eax>(int a1@<esi>, unsigned int a2)
{
  int v2; // edx@1
  unsigned int v3; // ecx@1
  unsigned int v4; // ebp@1
  unsigned int v5; // edi@1
  int v6; // ecx@4
  unsigned int v7; // ebx@4
  int v8; // edx@8
  char v9; // al@11
  int v10; // edx@11
  unsigned int v11; // ecx@12
  _BYTE *v12; // edx@12
  char v13; // al@13
  _BYTE *v14; // edx@13
  char v15; // al@14
  _BYTE *v16; // edx@14
  char v17; // al@15
  _BYTE *v18; // edx@15
  char v19; // al@16
  _BYTE *v20; // edx@16
  char v21; // al@17
  _BYTE *v22; // edx@17
  char v23; // al@18
  _BYTE *v24; // edx@18
  char v25; // al@19
  _BYTE *v26; // edx@19
  char v27; // al@20
  int v28; // edx@22
  unsigned int result; // eax@27
  char v30; // [sp+Fh] [bp-11h]@4
  unsigned int v31; // [sp+10h] [bp-10h]@1
  int v32; // [sp+14h] [bp-Ch]@4
  unsigned int v33; // [sp+18h] [bp-8h]@2
  char v34; // [sp+24h] [bp+4h]@4

  v2 = *(_DWORD *)(a1 + 5748);
  v3 = *(_DWORD *)(a1 + 5680);
  v4 = a2;
  v31 = *(_DWORD *)(a1 + 5696);
  v5 = *(_DWORD *)(a1 + 5692);
  if ( v3 <= v2 - 262 )
    v33 = 0;
  else
    v33 = v3 - v2 + 262;
  v6 = *(_DWORD *)(a1 + 5740) + v3;
  v34 = *(_BYTE *)(v6 + v5 - 1);
  v32 = *(_DWORD *)(a1 + 5708);
  v7 = v6 + 258;
  v30 = *(_BYTE *)(v6 + v5);
  if ( v5 >= *(_DWORD *)(a1 + 5704) )
    v31 >>= 2;
  if ( *(_DWORD *)(a1 + 5708) > *(_DWORD *)(a1 + 5688) )
    v32 = *(_DWORD *)(a1 + 5688);
  do
  {
    v8 = v4 + *(_DWORD *)(a1 + 5740);
    if ( *(_BYTE *)(v8 + v5) == v30 && *(_BYTE *)(v8 + v5 - 1) == v34 && *(_BYTE *)v8 == *(_BYTE *)v6 )
    {
      v9 = *(_BYTE *)(v8 + 1);
      v10 = v8 + 1;
      if ( v9 == *(_BYTE *)(v6 + 1) )
      {
        v11 = v6 + 2;
        v12 = (_BYTE *)(v10 + 1);
        do
        {
          v13 = *(_BYTE *)(v11++ + 1);
          v14 = v12 + 1;
          if ( v13 != *v14 )
            break;
          v15 = *(_BYTE *)(v11++ + 1);
          v16 = v14 + 1;
          if ( v15 != *v16 )
            break;
          v17 = *(_BYTE *)(v11++ + 1);
          v18 = v16 + 1;
          if ( v17 != *v18 )
            break;
          v19 = *(_BYTE *)(v11++ + 1);
          v20 = v18 + 1;
          if ( v19 != *v20 )
            break;
          v21 = *(_BYTE *)(v11++ + 1);
          v22 = v20 + 1;
          if ( v21 != *v22 )
            break;
          v23 = *(_BYTE *)(v11++ + 1);
          v24 = v22 + 1;
          if ( v23 != *v24 )
            break;
          v25 = *(_BYTE *)(v11++ + 1);
          v26 = v24 + 1;
          if ( v25 != *v26 )
            break;
          v27 = *(_BYTE *)(v11++ + 1);
          v12 = v26 + 1;
          if ( v27 != *v12 )
            break;
        }
        while ( v11 < v7 );
        v28 = v11 - v7 + 258;
        v6 = v7 - 258;
        if ( v28 > (signed int)v5 )
        {
          *(_DWORD *)(a1 + 5684) = v4;
          v5 = v28;
          if ( v28 >= v32 )
            break;
          v34 = *(_BYTE *)(v28 + v6 - 1);
          v30 = *(_BYTE *)(v28 + v6);
        }
      }
    }
    v4 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & *(_DWORD *)(a1 + 5756)));
    if ( v4 <= v33 )
      break;
    --v31;
  }
  while ( v31 );
  result = *(_DWORD *)(a1 + 5688);
  if ( v5 <= result )
    result = v5;
  return result;
}

//----- (1005AEF0) --------------------------------------------------------
unsigned int __usercall sub_1005AEF0@<eax>(int a1@<esi>, int a2)
{
  int v2; // ecx@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  unsigned int v6; // edi@1
  unsigned int v7; // eax@3
  _BYTE *v8; // ecx@3
  char v9; // dl@4
  _BYTE *v10; // ecx@4
  char v11; // dl@5
  _BYTE *v12; // ecx@5
  char v13; // dl@6
  _BYTE *v14; // ecx@6
  char v15; // dl@7
  _BYTE *v16; // ecx@7
  char v17; // dl@8
  _BYTE *v18; // ecx@8
  char v19; // dl@9
  _BYTE *v20; // ecx@9
  char v21; // dl@10
  _BYTE *v22; // ecx@10
  char v23; // dl@11
  unsigned int v24; // ecx@13
  unsigned int result; // eax@13

  v2 = *(_DWORD *)(a1 + 5740);
  v3 = *(_BYTE *)(v2 + a2);
  v4 = v2 + *(_DWORD *)(a1 + 5680);
  v5 = a2 + v2;
  v6 = v4 + 258;
  if ( v3 != *(_BYTE *)v4 || *(_BYTE *)(v5 + 1) != *(_BYTE *)(v4 + 1) )
  {
    result = 2;
  }
  else
  {
    v7 = v4 + 2;
    v8 = (_BYTE *)(v5 + 2);
    do
    {
      v9 = *(_BYTE *)(v7++ + 1);
      v10 = v8 + 1;
      if ( v9 != *v10 )
        break;
      v11 = *(_BYTE *)(v7++ + 1);
      v12 = v10 + 1;
      if ( v11 != *v12 )
        break;
      v13 = *(_BYTE *)(v7++ + 1);
      v14 = v12 + 1;
      if ( v13 != *v14 )
        break;
      v15 = *(_BYTE *)(v7++ + 1);
      v16 = v14 + 1;
      if ( v15 != *v16 )
        break;
      v17 = *(_BYTE *)(v7++ + 1);
      v18 = v16 + 1;
      if ( v17 != *v18 )
        break;
      v19 = *(_BYTE *)(v7++ + 1);
      v20 = v18 + 1;
      if ( v19 != *v20 )
        break;
      v21 = *(_BYTE *)(v7++ + 1);
      v22 = v20 + 1;
      if ( v21 != *v22 )
        break;
      v23 = *(_BYTE *)(v7++ + 1);
      v8 = v22 + 1;
      if ( v23 != *v8 )
        break;
    }
    while ( v7 < v6 );
    v24 = *(_DWORD *)(a1 + 5688);
    result = v7 - v6 + 258;
    *(_DWORD *)(a1 + 5684) = a2;
    if ( result > v24 )
      result = v24;
  }
  return result;
}

//----- (1005AFC0) --------------------------------------------------------
int __usercall sub_1005AFC0@<eax>(int result@<eax>, int a2@<edi>, int a3)
{
  int v3; // edx@1
  int v4; // ebp@1
  int v5; // ecx@1
  bool v6; // sf@1
  unsigned __int8 v7; // of@1
  int v8; // esi@3
  int v9; // ebp@3
  unsigned __int16 v10; // dx@3
  unsigned __int16 v11; // bx@3
  int v12; // esi@8
  unsigned __int16 v13; // dx@8
  unsigned __int16 v14; // bx@8
  int v15; // edx@11
  int v16; // [sp+8h] [bp-4h]@1

  v3 = *(_DWORD *)(result + 2324);
  v4 = *(_DWORD *)(result + 4 * a3 + 32);
  v5 = 2 * a3;
  v7 = __OFSUB__(2 * a3, v3);
  v6 = 2 * a3 - v3 < 0;
  v16 = *(_DWORD *)(result + 4 * a3 + 32);
  if ( 2 * a3 > v3 )
  {
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  else
  {
    while ( 1 )
    {
      if ( v6 ^ v7 )
      {
        v8 = *(_DWORD *)(result + 4 * v5 + 36);
        v9 = *(_DWORD *)(result + 4 * v5 + 32);
        v10 = *(_WORD *)(a2 + 4 * v8);
        v11 = *(_WORD *)(a2 + 4 * v9);
        if ( v10 < v11 || v10 == v11 && *(_BYTE *)(v8 + result + 2332) <= *(_BYTE *)(result + v9 + 2332) )
          ++v5;
        v4 = v16;
      }
      v12 = *(_DWORD *)(result + 4 * v5 + 32);
      v13 = *(_WORD *)(a2 + 4 * v4);
      v14 = *(_WORD *)(a2 + 4 * v12);
      if ( v13 < v14 )
      {
LABEL_12:
        *(_DWORD *)(result + 4 * a3 + 32) = v4;
        return result;
      }
      if ( v13 == v14 && *(_BYTE *)(result + v4 + 2332) <= *(_BYTE *)(v12 + result + 2332) )
        break;
      *(_DWORD *)(result + 4 * a3 + 32) = v12;
      v15 = *(_DWORD *)(result + 2324);
      a3 = v5;
      v5 *= 2;
      v7 = __OFSUB__(v5, v15);
      v6 = v5 - v15 < 0;
      if ( v5 > v15 )
        goto LABEL_12;
    }
    *(_DWORD *)(result + 4 * a3 + 32) = v4;
  }
  return result;
}

//----- (1005B070) --------------------------------------------------------
int __usercall sub_1005B070@<eax>(int result@<eax>, __int16 a2@<cx>)
{
  int v2; // edi@1

  *(_BYTE *)(*(_DWORD *)(result + 5800) + *(_DWORD *)(result + 5812)) = HIBYTE(a2);
  v2 = *(_DWORD *)(result + 5800);
  *(_BYTE *)(++*(_DWORD *)(result + 5812) + v2) = a2;
  ++*(_DWORD *)(result + 5812);
  return result;
}

//----- (1005B0B0) --------------------------------------------------------
unsigned int __usercall sub_1005B0B0@<eax>(unsigned int a1@<edx>, int a2@<esi>, void *a3)
{
  int v3; // ecx@1
  unsigned int v4; // edi@1
  unsigned int result; // eax@4

  v3 = *(_DWORD *)(a2 + 24);
  v4 = *(_DWORD *)(a2 + 4);
  if ( v4 > a1 )
    v4 = a1;
  if ( v4 )
  {
    *(_DWORD *)(a2 + 4) -= v4;
    if ( *(_DWORD *)(v3 + 5780) == 1 )
      *(_DWORD *)(a2 + 28) = sub_1005CE80(*(_DWORD *)(a2 + 28), *(_BYTE **)a2, v4);
    memcpy_0(a3, *(const void **)a2, v4);
    *(_DWORD *)a2 += v4;
    *(_DWORD *)(a2 + 8) += v4;
    result = v4;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005B110) --------------------------------------------------------
signed int __usercall sub_1005B110@<eax>(signed int result@<eax>, int a2@<ecx>, int a3)
{
  signed int v3; // edi@1
  signed int v4; // edx@1
  signed int v5; // ebp@1
  int v6; // ebx@1
  signed int v7; // ecx@1
  signed int v8; // esi@1
  _WORD *v9; // [sp+10h] [bp-8h]@4
  int v10; // [sp+14h] [bp-4h]@4

  v3 = *(_WORD *)(result + 2);
  v4 = 0;
  v5 = -1;
  v6 = a2;
  v7 = 7;
  v8 = 4;
  if ( !*(_WORD *)(result + 2) )
  {
    v7 = 138;
    v8 = 3;
  }
  *(_WORD *)(result + 4 * v6 + 6) = -1;
  if ( v6 >= 0 )
  {
    v10 = v6 + 1;
    v9 = (_WORD *)(result + 6);
    do
    {
      result = v3;
      v3 = *v9;
      if ( ++v4 >= v7 || result != v3 )
      {
        if ( v4 >= v8 )
        {
          if ( result )
          {
            if ( result != v5 )
              ++*(_WORD *)(a3 + 4 * result + 5472);
            ++*(_WORD *)(a3 + 5536);
          }
          else if ( v4 > 10 )
          {
            ++*(_WORD *)(a3 + 5544);
          }
          else
          {
            ++*(_WORD *)(a3 + 5540);
          }
        }
        else
        {
          *(_WORD *)(a3 + 4 * result + 5472) += v4;
        }
        v4 = 0;
        v5 = result;
        if ( v3 )
        {
          if ( result == v3 )
          {
            v7 = 6;
            v8 = 3;
          }
          else
          {
            v7 = 7;
            v8 = 4;
          }
        }
        else
        {
          v7 = 138;
          v8 = 3;
        }
      }
      v9 += 2;
      --v10;
    }
    while ( v10 );
  }
  return result;
}

//----- (1005B1F0) --------------------------------------------------------
int __usercall sub_1005B1F0@<eax>(int result@<eax>, int a2@<edx>, int a3@<ecx>)
{
  signed int v3; // esi@1
  int v4; // ebx@1
  signed int v5; // ecx@1
  signed int v6; // edi@1
  signed int v7; // edx@5
  int v8; // edi@8
  int v9; // ecx@8
  unsigned __int16 v10; // si@9
  int v11; // edx@9
  int v12; // ecx@9
  int v13; // edx@9
  __int16 v14; // si@9
  int v15; // ecx@9
  int v16; // ecx@15
  unsigned __int16 v17; // si@16
  int v18; // edi@16
  int v19; // ecx@16
  int v20; // ebx@16
  int v21; // ecx@16
  int v22; // ecx@19
  unsigned __int16 v23; // si@20
  int v24; // edi@20
  int v25; // ecx@20
  int v26; // ebx@20
  int v27; // ecx@20
  int v28; // esi@22
  int v29; // edi@23
  int v30; // ecx@23
  int v31; // ebx@23
  int v32; // ecx@24
  int v33; // ecx@25
  unsigned __int16 v34; // si@27
  int v35; // edi@27
  int v36; // ecx@27
  int v37; // ebx@27
  int v38; // ecx@27
  int v39; // esi@29
  int v40; // edi@30
  int v41; // ecx@30
  int v42; // ebx@30
  unsigned __int16 v43; // si@33
  int v44; // edi@33
  int v45; // ecx@33
  int v46; // ebx@33
  int v47; // ecx@33
  int v48; // esi@35
  int v49; // edi@36
  int v50; // ecx@36
  int v51; // ebx@36
  signed int v52; // [sp+10h] [bp-18h]@5
  signed int v53; // [sp+14h] [bp-14h]@1
  _WORD *v54; // [sp+18h] [bp-10h]@4
  signed int v55; // [sp+1Ch] [bp-Ch]@1
  int v56; // [sp+1Ch] [bp-Ch]@15
  int v57; // [sp+1Ch] [bp-Ch]@19
  int v58; // [sp+1Ch] [bp-Ch]@26
  int v59; // [sp+1Ch] [bp-Ch]@32
  int v60; // [sp+20h] [bp-8h]@4
  signed int v61; // [sp+24h] [bp-4h]@5

  v3 = 0;
  v4 = a3;
  v5 = 7;
  v6 = 4;
  v53 = *(_WORD *)(a2 + 2);
  v55 = -1;
  if ( !*(_WORD *)(a2 + 2) )
  {
    v5 = 138;
    v6 = 3;
  }
  if ( v4 >= 0 )
  {
    v54 = (_WORD *)(a2 + 6);
    v60 = v4 + 1;
    do
    {
      v7 = v53;
      ++v3;
      v61 = v53;
      v53 = *v54;
      v52 = v3;
      if ( v3 < v5 && v7 == *v54 )
        goto LABEL_44;
      if ( v3 < v6 )
      {
        do
        {
          v8 = *(_WORD *)(result + 4 * v7 + 5474);
          v9 = *(_DWORD *)(result + 2932);
          if ( v9 <= 16 - v8 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v15 = v8 + v9;
          }
          else
          {
            v10 = *(_WORD *)(result + 4 * v7 + 5472);
            v11 = *(_WORD *)(result + 4 * v7 + 5472) << v9;
            v12 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v11;
            *(_BYTE *)(v12 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v13 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v14 = v10 >> (16 - v13);
            v15 = v13 + v8 - 16;
            v7 = v61;
            *(_WORD *)(result + 2924) = v14;
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v15;
          v52 = v3;
        }
        while ( v3 );
        goto LABEL_39;
      }
      if ( v7 )
      {
        if ( v7 != v55 )
        {
          v16 = *(_DWORD *)(result + 2932);
          v56 = *(_WORD *)(result + 4 * v7 + 5474);
          if ( v16 <= 16 - v56 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v21 = v56 + v16;
          }
          else
          {
            v17 = *(_WORD *)(result + 4 * v7 + 5472);
            v18 = *(_WORD *)(result + 4 * v7 + 5472) << v16;
            v19 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v18;
            *(_BYTE *)(v19 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v20 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v21 = v20 + v56 - 16;
            *(_WORD *)(result + 2924) = v17 >> (16 - v20);
            v3 = v52;
          }
          --v3;
          *(_DWORD *)(result + 2932) = v21;
          v52 = v3;
        }
        v22 = *(_DWORD *)(result + 2932);
        v57 = *(_WORD *)(result + 5538);
        if ( v22 <= 16 - v57 )
        {
          *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5536) << v22;
          v27 = v57 + v22;
        }
        else
        {
          v23 = *(_WORD *)(result + 5536);
          v24 = *(_WORD *)(result + 5536) << v22;
          v25 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v24;
          *(_BYTE *)(v25 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v26 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          v27 = v26 + v57 - 16;
          *(_WORD *)(result + 2924) = v23 >> (16 - v26);
          v3 = v52;
        }
        v28 = v3 - 3;
        *(_DWORD *)(result + 2932) = v27;
        if ( v27 > 14 )
        {
          v29 = v28 << v27;
          v30 = *(_DWORD *)(result + 5800);
          *(_WORD *)(result + 2924) |= v29;
          *(_BYTE *)(v30 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
          *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
          v31 = *(_DWORD *)(result + 2932);
          ++*(_DWORD *)(result + 5812);
          *(_DWORD *)(result + 2932) = v31 - 14;
          *(_WORD *)(result + 2924) = (unsigned __int16)v28 >> (16 - v31);
          goto LABEL_39;
        }
        *(_WORD *)(result + 2924) |= v28 << v27;
        v32 = v27 + 2;
      }
      else
      {
        v33 = *(_DWORD *)(result + 2932);
        if ( v3 > 10 )
        {
          v59 = *(_WORD *)(result + 5546);
          if ( v33 <= 16 - v59 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5544) << v33;
            v47 = v59 + v33;
          }
          else
          {
            v43 = *(_WORD *)(result + 5544);
            v44 = *(_WORD *)(result + 5544) << v33;
            v45 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v44;
            *(_BYTE *)(v45 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v46 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v47 = v46 + v59 - 16;
            *(_WORD *)(result + 2924) = v43 >> (16 - v46);
            v3 = v52;
          }
          v48 = v3 - 11;
          *(_DWORD *)(result + 2932) = v47;
          if ( v47 > 9 )
          {
            v49 = v48 << v47;
            v50 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v49;
            *(_BYTE *)(v50 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v51 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v51 - 9;
            *(_WORD *)(result + 2924) = (unsigned __int16)v48 >> (16 - v51);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v48 << v47;
          v32 = v47 + 7;
        }
        else
        {
          v58 = *(_WORD *)(result + 5542);
          if ( v33 <= 16 - v58 )
          {
            *(_WORD *)(result + 2924) |= *(_WORD *)(result + 5540) << v33;
            v38 = v58 + v33;
          }
          else
          {
            v34 = *(_WORD *)(result + 5540);
            v35 = *(_WORD *)(result + 5540) << v33;
            v36 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v35;
            *(_BYTE *)(v36 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v37 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            v38 = v37 + v58 - 16;
            *(_WORD *)(result + 2924) = v34 >> (16 - v37);
            v3 = v52;
          }
          v39 = v3 - 3;
          *(_DWORD *)(result + 2932) = v38;
          if ( v38 > 13 )
          {
            v40 = v39 << v38;
            v41 = *(_DWORD *)(result + 5800);
            *(_WORD *)(result + 2924) |= v40;
            *(_BYTE *)(v41 + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
            *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
            v42 = *(_DWORD *)(result + 2932);
            ++*(_DWORD *)(result + 5812);
            *(_DWORD *)(result + 2932) = v42 - 13;
            *(_WORD *)(result + 2924) = (unsigned __int16)v39 >> (16 - v42);
            goto LABEL_39;
          }
          *(_WORD *)(result + 2924) |= v39 << v38;
          v32 = v38 + 3;
        }
      }
      *(_DWORD *)(result + 2932) = v32;
LABEL_39:
      v3 = 0;
      v55 = v7;
      if ( v53 )
      {
        if ( v7 == v53 )
        {
          v5 = 6;
          v6 = 3;
        }
        else
        {
          v5 = 7;
          v6 = 4;
        }
      }
      else
      {
        v5 = 138;
        v6 = 3;
      }
LABEL_44:
      v54 += 2;
      --v60;
    }
    while ( v60 );
  }
  return result;
}

//----- (1005B790) --------------------------------------------------------
int __usercall sub_1005B790@<eax>(int a1@<eax>)
{
  signed int v1; // ecx@1
  int v2; // edx@2
  signed int v3; // ecx@4
  int v4; // edx@5
  int result; // eax@7
  signed int v6; // ecx@7
  int v7; // edx@9
  signed int v8; // ecx@11
  int v9; // edx@12

  v1 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) |= 2 << v1;
  if ( v1 <= 13 )
  {
    *(_DWORD *)(a1 + 2932) = v1 + 3;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v2 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v2 - 13;
    *(_WORD *)(a1 + 2924) = 2u >> (16 - v2);
  }
  v3 = *(_DWORD *)(a1 + 2932);
  *(_WORD *)(a1 + 2924) = *(_WORD *)(a1 + 2924);
  if ( v3 <= 9 )
  {
    *(_DWORD *)(a1 + 2932) = v3 + 7;
  }
  else
  {
    *(_BYTE *)(*(_DWORD *)(a1 + 5800) + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v4 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v4 - 9;
    *(_WORD *)(a1 + 2924) = 0;
  }
  result = sub_1005A3B0(a1);
  v6 = *(_DWORD *)(result + 2932);
  if ( *(_DWORD *)(result + 2928) - v6 + 11 < 9 )
  {
    *(_WORD *)(result + 2924) |= 2 << v6;
    if ( v6 <= 13 )
    {
      *(_DWORD *)(result + 2932) = v6 + 3;
    }
    else
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v7 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v7 - 13;
      *(_WORD *)(result + 2924) = 2u >> (16 - v7);
    }
    v8 = *(_DWORD *)(result + 2932);
    *(_WORD *)(result + 2924) = *(_WORD *)(result + 2924);
    if ( v8 > 9 )
    {
      *(_BYTE *)(*(_DWORD *)(result + 5800) + (*(_DWORD *)(result + 5812))++) = *(_BYTE *)(result + 2924);
      *(_BYTE *)(*(_DWORD *)(result + 5812) + *(_DWORD *)(result + 5800)) = *(_BYTE *)(result + 2925);
      v9 = *(_DWORD *)(result + 2932);
      ++*(_DWORD *)(result + 5812);
      *(_DWORD *)(result + 2932) = v9 - 9;
      *(_WORD *)(result + 2924) = 0;
      result = sub_1005A3B0(result);
      *(_DWORD *)(result + 2928) = 7;
      return result;
    }
    *(_DWORD *)(result + 2932) = v8 + 7;
    result = sub_1005A3B0(result);
  }
  *(_DWORD *)(result + 2928) = 7;
  return result;
}

//----- (1005B9D0) --------------------------------------------------------
int __usercall sub_1005B9D0@<eax>(int a1@<eax>, int a2@<ecx>, _BYTE *a3, int a4)
{
  int v4; // esi@1
  signed int v5; // ecx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  int result; // eax@2

  v4 = a2;
  v5 = *(_DWORD *)(a1 + 2932);
  if ( v5 <= 13 )
  {
    *(_WORD *)(a1 + 2924) |= v4 << v5;
    *(_DWORD *)(a1 + 2932) = v5 + 3;
    result = sub_1005A970(a1, a3, a4);
  }
  else
  {
    v6 = v4 << v5;
    v7 = *(_DWORD *)(a1 + 5800);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + (*(_DWORD *)(a1 + 5812))++) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) = (unsigned __int16)v4 >> (16 - v8);
    *(_DWORD *)(a1 + 2932) = v8 - 13;
    result = sub_1005A970(a1, a3, a4);
  }
  return result;
}

//----- (1005BA70) --------------------------------------------------------
signed int __usercall sub_1005BA70@<eax>(int a1@<esi>, int a2)
{
  int v2; // eax@1
  int v3; // ebp@1
  signed int v4; // ebx@1
  int v5; // edi@1
  int v6; // eax@1
  signed int v7; // eax@8
  signed int i; // ebp@14
  int v9; // ebx@16
  int v10; // eax@17
  int v11; // edx@17
  int v12; // ebp@17
  int v13; // eax@17
  unsigned __int8 v14; // cl@17
  int v16; // [sp+Ch] [bp-8h]@1
  int v17; // [sp+10h] [bp-4h]@1

  v2 = *(_DWORD *)(a2 + 8);
  v3 = *(_DWORD *)v2;
  v17 = *(_DWORD *)(v2 + 12);
  v4 = -1;
  v5 = *(_DWORD *)a2;
  v6 = 0;
  v16 = -1;
  *(_DWORD *)(a1 + 2324) = 0;
  for ( *(_DWORD *)(a1 + 2328) = 573; v6 < v17; ++v6 )
  {
    if ( *(_WORD *)(v5 + 4 * v6) )
    {
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v6;
      v16 = v6;
      *(_BYTE *)(v6 + a1 + 2332) = 0;
      v4 = v6;
    }
    else
    {
      *(_WORD *)(v5 + 4 * v6 + 2) = 0;
    }
  }
  if ( *(_DWORD *)(a1 + 2324) < 2 )
  {
    do
    {
      if ( v4 >= 2 )
        v7 = 0;
      else
        v7 = ++v4;
      *(_DWORD *)(a1 + 4 * ++*(_DWORD *)(a1 + 2324) + 32) = v7;
      *(_WORD *)(v5 + 4 * v7) = 1;
      *(_BYTE *)(a1 + v7 + 2332) = 0;
      --*(_DWORD *)(a1 + 2912);
      if ( v3 )
        *(_DWORD *)(a1 + 2916) -= *(_WORD *)(v3 + 4 * v7 + 2);
    }
    while ( *(_DWORD *)(a1 + 2324) < 2 );
    v16 = v4;
  }
  *(_DWORD *)(a2 + 4) = v4;
  for ( i = *(_DWORD *)(a1 + 2324) / 2; i >= 1; --i )
    sub_1005AFC0(a1, v5, i);
  v9 = v17;
  do
  {
    v10 = *(_DWORD *)(a1 + 2324);
    v11 = *(_DWORD *)(a1 + 4 * v10 + 32);
    v12 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 2324) = v10 - 1;
    *(_DWORD *)(a1 + 36) = v11;
    sub_1005AFC0(a1, v5, 1);
    v13 = *(_DWORD *)(a1 + 36);
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v12;
    *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = v13;
    *(_WORD *)(v5 + 4 * v9) = *(_WORD *)(v5 + 4 * v12) + *(_WORD *)(v5 + 4 * v13);
    v14 = *(_BYTE *)(a1 + v13 + 2332);
    if ( *(_BYTE *)(a1 + v12 + 2332) >= v14 )
      v14 = *(_BYTE *)(a1 + v12 + 2332);
    *(_BYTE *)(a1 + v9 + 2332) = v14 + 1;
    *(_WORD *)(v5 + 4 * v13 + 2) = v9;
    *(_WORD *)(v5 + 4 * v12 + 2) = v9;
    *(_DWORD *)(a1 + 36) = v9++;
    sub_1005AFC0(a1, v5, 1);
  }
  while ( *(_DWORD *)(a1 + 2324) >= 2 );
  *(_DWORD *)(a1 + 4 * --*(_DWORD *)(a1 + 2328) + 32) = *(_DWORD *)(a1 + 36);
  sub_1005AA80(a1, a2);
  return sub_1005AC50(a1, v16, v5);
}

//----- (1005BC50) --------------------------------------------------------
unsigned int __usercall sub_1005BC50@<eax>(int a1@<edi>)
{
  size_t v1; // ebx@1
  unsigned int result; // eax@2
  unsigned int v3; // ebp@2
  int v4; // edx@3
  int v5; // eax@3
  _WORD *v6; // ecx@3
  int v7; // eax@4
  __int16 v8; // ax@5
  size_t v9; // edx@8
  _WORD *v10; // ecx@8
  int v11; // eax@9
  int v12; // esi@14
  unsigned int v13; // edx@15
  int v14; // esi@16
  int v15; // eax@16
  int v16; // ecx@16

  v1 = *(_DWORD *)(a1 + 5748);
  do
  {
    result = *(_DWORD *)(a1 + 5680);
    v3 = *(_DWORD *)(a1 + 5744) - result - *(_DWORD *)(a1 + 5688);
    if ( result >= v1 + *(_DWORD *)(a1 + 5748) - 262 )
    {
      memcpy_0(*(void **)(a1 + 5740), (const void *)(*(_DWORD *)(a1 + 5740) + v1), v1);
      v4 = *(_DWORD *)(a1 + 5764);
      v5 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5684) -= v1;
      *(_DWORD *)(a1 + 5680) -= v1;
      *(_DWORD *)(a1 + 5664) -= v1;
      v6 = (_WORD *)(v5 + 2 * v4);
      do
      {
        v7 = *(v6 - 1);
        --v6;
        if ( v7 < v1 )
          v8 = 0;
        else
          v8 = v7 - v1;
        --v4;
        *v6 = v8;
      }
      while ( v4 );
      v9 = v1;
      v10 = (_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * v1);
      do
      {
        v11 = *(v10 - 1);
        --v10;
        if ( v11 < v1 )
          result = 0;
        else
          result = v11 - v1;
        --v9;
        *v10 = result;
      }
      while ( v9 );
      v3 += v1;
    }
    v12 = *(_DWORD *)(a1 + 2908);
    if ( !*(_DWORD *)(v12 + 4) )
      break;
    result = sub_1005B0B0(v3, v12, (void *)(*(_DWORD *)(a1 + 5688) + *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)));
    *(_DWORD *)(a1 + 5688) += result;
    v13 = *(_DWORD *)(a1 + 5688);
    if ( v13 >= 3 )
    {
      v14 = *(_DWORD *)(a1 + 5680) + *(_DWORD *)(a1 + 5740);
      v15 = *(_BYTE *)v14;
      v16 = *(_DWORD *)(a1 + 5776);
      *(_DWORD *)(a1 + 5760) = v15;
      result = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v14 + 1) ^ (v15 << v16));
      *(_DWORD *)(a1 + 5760) = result;
    }
  }
  while ( v13 < 0x106 && *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 4) );
  return result;
}

//----- (1005BD90) --------------------------------------------------------
int __usercall sub_1005BD90@<eax>(int a1@<eax>, int a2, int a3, int a4)
{
  signed int v4; // ecx@1
  int v5; // ebx@1
  int v6; // edx@2
  int v7; // ecx@2
  int v8; // edx@2
  signed int v9; // ecx@4
  int v10; // edx@5
  int v11; // ecx@5
  int v12; // edx@5
  signed int v13; // ecx@7
  int v14; // edx@8
  int v15; // ecx@8
  int v16; // edx@8
  int i; // edi@10
  signed int v18; // ecx@11
  int v19; // edx@11
  unsigned __int16 v20; // si@12
  int v21; // edx@12
  int v22; // ecx@12
  int v23; // edx@12
  int v24; // eax@15

  v4 = *(_DWORD *)(a1 + 2932);
  v5 = a4;
  if ( v4 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a2 - 257) << v4;
    *(_DWORD *)(a1 + 2932) = v4 + 5;
  }
  else
  {
    v6 = (a2 - 257) << v4;
    v7 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v6;
    *(_BYTE *)(v7 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v8 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    v5 = a4;
    *(_DWORD *)(a1 + 2932) = v8 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a2 - 257) >> (16 - v8);
  }
  v9 = *(_DWORD *)(a1 + 2932);
  if ( v9 <= 11 )
  {
    *(_WORD *)(a1 + 2924) |= (a3 - 1) << v9;
    *(_DWORD *)(a1 + 2932) = v9 + 5;
  }
  else
  {
    v10 = (a3 - 1) << v9;
    v11 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v10;
    *(_BYTE *)(v11 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v12 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v12 - 11;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(a3 - 1) >> (16 - v12);
  }
  v13 = *(_DWORD *)(a1 + 2932);
  if ( v13 <= 12 )
  {
    *(_WORD *)(a1 + 2924) |= (v5 - 4) << v13;
    *(_DWORD *)(a1 + 2932) = v13 + 4;
  }
  else
  {
    v14 = (v5 - 4) << v13;
    v15 = *(_DWORD *)(a1 + 5812);
    *(_WORD *)(a1 + 2924) |= v14;
    *(_BYTE *)(v15 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
    *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
    v16 = *(_DWORD *)(a1 + 2932);
    ++*(_DWORD *)(a1 + 5812);
    *(_DWORD *)(a1 + 2932) = v16 - 12;
    *(_WORD *)(a1 + 2924) = (unsigned __int16)(v5 - 4) >> (16 - v16);
  }
  for ( i = 0; i < v5; ++i )
  {
    v18 = *(_DWORD *)(a1 + 2932);
    v19 = (unsigned __int8)byte_100C068C[i];
    if ( v18 <= 13 )
    {
      *(_WORD *)(a1 + 2924) |= *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      *(_DWORD *)(a1 + 2932) = v18 + 3;
    }
    else
    {
      v20 = *(_WORD *)(a1 + 4 * v19 + 5474);
      v21 = *(_WORD *)(a1 + 4 * v19 + 5474) << v18;
      v22 = *(_DWORD *)(a1 + 5812);
      *(_WORD *)(a1 + 2924) |= v21;
      *(_BYTE *)(v22 + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2924);
      *(_BYTE *)(++*(_DWORD *)(a1 + 5812) + *(_DWORD *)(a1 + 5800)) = *(_BYTE *)(a1 + 2925);
      v23 = *(_DWORD *)(a1 + 2932);
      ++*(_DWORD *)(a1 + 5812);
      v5 = a4;
      *(_DWORD *)(a1 + 2932) = v23 - 13;
      *(_WORD *)(a1 + 2924) = v20 >> (16 - v23);
    }
  }
  v24 = sub_1005B1F0(a1, a1 + 2936, a2 - 1);
  return sub_1005B1F0(v24, v24 + 5228, a3 - 1);
}

//----- (1005C040) --------------------------------------------------------
signed int __cdecl sub_1005C040(int a1, int a2)
{
  int v2; // esi@3
  int v3; // eax@6
  signed int result; // eax@9
  int v5; // ebx@10
  char v6; // al@12
  int v7; // eax@14
  unsigned int v8; // ecx@17
  int v9; // eax@19
  int v10; // eax@20
  int v11; // eax@29
  signed int v12; // eax@36
  int v13; // eax@50
  bool v14; // zf@50

  if ( !a1 || (unsigned int)a2 > 4 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  if ( !*(_DWORD *)(a1 + 12) || !*(_DWORD *)a1 && *(_DWORD *)(a1 + 4) )
    return -2;
  v3 = *(_DWORD *)(v2 + 5788);
  if ( v3 == 666 && a2 != 4 )
    return -2;
  if ( !*(_DWORD *)(a1 + 16) )
    return -5;
  v5 = *(_DWORD *)(v2 + 5792);
  *(_DWORD *)(v2 + 2908) = a1;
  *(_DWORD *)(v2 + 5792) = a2;
  if ( v3 == 42 )
  {
    if ( *(_BYTE *)(v2 + 5796) >= 2 || (v6 = *(_BYTE *)(v2 + 5784), v6 < 2) )
    {
      v7 = 0;
    }
    else if ( v6 >= 6 )
    {
      v7 = (v6 != 6) + 2;
    }
    else
    {
      v7 = 1;
    }
    v8 = (v7 << 6) | (((*(_DWORD *)(v2 + 5752) - 8) << 12) + 2048);
    if ( *(_DWORD *)(v2 + 5680) )
      v8 |= 0x20u;
    *(_DWORD *)(v2 + 5788) = 113;
    v9 = sub_1005B070(v2, 31 * (v8 / 0x1F + 1));
    if ( *(_DWORD *)(v2 + 5680) )
    {
      v10 = sub_1005B070(v9, *(_WORD *)(a1 + 30));
      sub_1005B070(v10, *(_WORD *)(a1 + 28));
    }
    *(_DWORD *)(a1 + 28) = sub_1005CE80(0, 0, 0);
  }
  if ( *(_DWORD *)(v2 + 5812) )
  {
    sub_1005AA20(a1);
    if ( !*(_DWORD *)(a1 + 16) )
    {
LABEL_24:
      *(_DWORD *)(v2 + 5792) = -1;
      return 0;
    }
  }
  else if ( !*(_DWORD *)(a1 + 4) && a2 <= v5 && a2 != 4 )
  {
    return -5;
  }
  v11 = *(_DWORD *)(v2 + 5788);
  if ( v11 == 666 )
  {
    if ( *(_DWORD *)(a1 + 4) )
      return -5;
LABEL_33:
    if ( !*(_DWORD *)(v2 + 5688) && (!a2 || v11 == 666) )
      goto LABEL_47;
    goto LABEL_36;
  }
  if ( !*(_DWORD *)(a1 + 4) )
    goto LABEL_33;
LABEL_36:
  v12 = (*(&off_100C1008 + 3 * *(_BYTE *)(v2 + 5784)))(v2, a2);
  if ( v12 == 2 || v12 == 3 )
    *(_DWORD *)(v2 + 5788) = 666;
  if ( !v12 || v12 == 2 )
  {
    if ( *(_DWORD *)(a1 + 16) )
      return 0;
    *(_DWORD *)(v2 + 5792) = -1;
    return 0;
  }
  if ( v12 == 1 )
  {
    if ( a2 == 1 )
    {
      sub_1005B790(v2);
    }
    else
    {
      sub_1005B9D0(v2, 0, 0, 0);
      if ( a2 == 3 )
      {
        *(_WORD *)(*(_DWORD *)(v2 + 5736) + 2 * *(_DWORD *)(v2 + 5764) - 2) = 0;
        memset(*(void **)(v2 + 5736), 0, 2 * *(_DWORD *)(v2 + 5764) - 2);
      }
    }
    sub_1005AA20(a1);
    if ( !*(_DWORD *)(a1 + 16) )
      goto LABEL_24;
  }
LABEL_47:
  if ( a2 != 4 )
    return 0;
  if ( *(_DWORD *)(v2 + 5780) > 0 )
  {
    v13 = sub_1005B070(v2, *(_WORD *)(a1 + 30));
    sub_1005B070(v13, *(_WORD *)(a1 + 28));
    sub_1005AA20(a1);
    v14 = *(_DWORD *)(v2 + 5812) == 0;
    *(_DWORD *)(v2 + 5780) = -*(_DWORD *)(v2 + 5780);
    result = v14;
  }
  else
  {
    result = 1;
  }
  return result;
}
// 100C1008: using guessed type int (__cdecl *off_100C1008)(int, int);

//----- (1005C300) --------------------------------------------------------
signed int __usercall sub_1005C300@<eax>(int a1@<eax>)
{
  int v1; // esi@1
  signed int result; // eax@1

  v1 = a1;
  sub_1005B110(a1 + 2936, *(_DWORD *)(a1 + 5632), a1);
  sub_1005B110(v1 + 5228, *(_DWORD *)(v1 + 5644), v1);
  sub_1005BA70(v1, v1 + 5652);
  result = 18;
  while ( !*(_WORD *)(v1 + 4 * (unsigned __int8)byte_100C068C[result] + 5474) )
  {
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_100C068B[result] + 5474) )
    {
      *(_DWORD *)(v1 + 2912) += 3 * --result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_100C068A[result] + 5474) )
    {
      result -= 2;
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
    if ( *(_WORD *)(v1 + 4 * (unsigned __int8)byte_100C0689[result] + 5474) )
    {
      result -= 3;
      break;
    }
    result -= 4;
    if ( result < 3 )
    {
      *(_DWORD *)(v1 + 2912) += 3 * result + 17;
      return result;
    }
  }
  *(_DWORD *)(v1 + 2912) += 3 * result + 17;
  return result;
}

//----- (1005C3D0) --------------------------------------------------------
_WORD *__usercall sub_1005C3D0@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // ebp@1
  int v4; // esi@1
  int v5; // ebx@1
  int v6; // eax@1
  _BYTE *v7; // edi@2
  signed int v8; // eax@5
  unsigned int v9; // edx@5
  unsigned int v10; // ecx@5
  int v11; // ecx@11
  bool v12; // zf@12
  signed int v13; // ecx@12
  int v14; // eax@13
  int v15; // edx@14
  int v16; // ecx@14
  int v17; // edx@14
  int v18; // edx@17
  int v19; // eax@18
  int v20; // ecx@18
  int v21; // ebx@18
  _WORD *result; // eax@21
  signed int v23; // [sp+14h] [bp+4h]@4

  v3 = a3;
  v4 = a2;
  v5 = a1;
  v6 = *(_DWORD *)(a2 + 5664);
  if ( v6 < 0 )
    v7 = 0;
  else
    v7 = (_BYTE *)(v6 + *(_DWORD *)(a2 + 5740));
  v23 = 0;
  if ( *(_BYTE *)(a2 + 5784) <= 0 )
  {
    v10 = v5 + 5;
LABEL_8:
    v9 = v10;
    goto LABEL_9;
  }
  sub_1005BA70(a2, a2 + 5628);
  sub_1005BA70(v4, v4 + 5640);
  v8 = sub_1005C300(v4);
  v9 = (unsigned int)(*(_DWORD *)(v4 + 2912) + 10) >> 3;
  v10 = (unsigned int)(*(_DWORD *)(v4 + 2916) + 10) >> 3;
  v23 = v8;
  if ( v10 <= v9 )
    goto LABEL_8;
LABEL_9:
  if ( v5 + 4 <= v9 && v7 )
  {
    sub_1005B9D0(v4, v3, v7, v5);
  }
  else
  {
    v12 = v10 == v9;
    v13 = *(_DWORD *)(v4 + 2932);
    if ( v12 )
    {
      v14 = v3 + 2;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v14 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v15 = v14 << v13;
        v16 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v15;
        *(_BYTE *)(v16 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v17 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v17 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v14 >> (16 - v17);
      }
      sub_1005A4F0(v4, (int)&unk_100C0718, (int)&unk_100C0B98);
    }
    else
    {
      v18 = v3 + 4;
      if ( v13 <= 13 )
      {
        *(_WORD *)(v4 + 2924) |= v18 << v13;
        *(_DWORD *)(v4 + 2932) = v13 + 3;
      }
      else
      {
        v19 = v18 << v13;
        v20 = *(_DWORD *)(v4 + 5800);
        *(_WORD *)(v4 + 2924) |= v19;
        *(_BYTE *)(v20 + (*(_DWORD *)(v4 + 5812))++) = *(_BYTE *)(v4 + 2924);
        *(_BYTE *)(*(_DWORD *)(v4 + 5812) + *(_DWORD *)(v4 + 5800)) = *(_BYTE *)(v4 + 2925);
        v21 = *(_DWORD *)(v4 + 2932);
        ++*(_DWORD *)(v4 + 5812);
        *(_DWORD *)(v4 + 2932) = v21 - 13;
        *(_WORD *)(v4 + 2924) = (unsigned __int16)v18 >> (16 - v21);
      }
      sub_1005BD90(v4, *(_DWORD *)(v4 + 5632) + 1, *(_DWORD *)(v4 + 5644) + 1, v23 + 1);
      sub_1005A4F0(v4, v4 + 2936, v4 + 5228);
    }
  }
  result = sub_1005ACD0(v11, v4);
  if ( v3 )
    result = (_WORD *)sub_1005A460(v4);
  return result;
}

//----- (1005C5F0) --------------------------------------------------------
signed int __cdecl sub_1005C5F0(int a1, int a2)
{
  unsigned int v2; // ebx@1
  unsigned int v3; // eax@2
  int v4; // edx@7
  int v5; // edi@7
  int v6; // eax@7
  int v7; // ecx@7
  unsigned int v8; // eax@9
  char v9; // cl@10
  unsigned int v10; // eax@11
  unsigned int v11; // eax@16
  BOOL v12; // eax@17
  unsigned int v13; // ecx@17
  int v14; // edi@20
  int v15; // ecx@20
  int v16; // edx@20
  int v17; // ebx@20
  int v19; // edi@22
  int v20; // ecx@22
  int v21; // edx@22
  int v22; // edi@26
  signed int result; // eax@27
  int v24; // edi@28
  int v25; // eax@28

  v2 = 0;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 < 0x106 )
    {
      sub_1005BC50(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( v3 < 0x106 && !a2 )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = *(_DWORD *)(a1 + 5680);
      v5 = *(_DWORD *)(a1 + 5756);
      v6 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v4 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
      v7 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5760) = v6;
      *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & v5)) = *(_WORD *)(v7 + 2 * v6);
      v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
    }
    if ( v2 )
    {
      v8 = *(_DWORD *)(a1 + 5680) - v2;
      if ( v8 <= *(_DWORD *)(a1 + 5748) - 262 )
      {
        v9 = *(_BYTE *)(a1 + 5796);
        if ( v9 < 2 )
        {
          v10 = sub_1005AD40(a1, v2);
LABEL_15:
          *(_DWORD *)(a1 + 5668) = v10;
          goto LABEL_16;
        }
        if ( v9 == 3 && v8 == 1 )
        {
          v10 = sub_1005AEF0(a1, v2);
          goto LABEL_15;
        }
      }
    }
LABEL_16:
    v11 = *(_DWORD *)(a1 + 5668);
    if ( v11 < 3 )
    {
      v12 = sub_1005A310(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680)), 0);
      --*(_DWORD *)(a1 + 5688);
    }
    else
    {
      v12 = sub_1005A310(a1, v11 - 3, *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5684));
      v13 = *(_DWORD *)(a1 + 5668);
      *(_DWORD *)(a1 + 5688) -= v13;
      if ( v13 > *(_DWORD *)(a1 + 5700) || *(_DWORD *)(a1 + 5688) < 3u )
      {
        *(_DWORD *)(a1 + 5680) += v13;
        v19 = *(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680);
        v20 = *(_DWORD *)(a1 + 5776);
        *(_DWORD *)(a1 + 5668) = 0;
        v21 = *(_BYTE *)v19;
        *(_DWORD *)(a1 + 5760) = v21;
        *(_DWORD *)(a1 + 5760) = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(v19 + 1) ^ (v21 << v20));
        goto LABEL_25;
      }
      *(_DWORD *)(a1 + 5668) = v13 - 1;
      do
      {
        v14 = ++*(_DWORD *)(a1 + 5680);
        v15 = *(_DWORD *)(a1 + 5736);
        v16 = *(_DWORD *)(a1 + 5772) & ((*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)) ^ *(_BYTE *)(*(_DWORD *)(a1 + 5740) + v14 + 2));
        v17 = *(_DWORD *)(a1 + 5756);
        *(_DWORD *)(a1 + 5760) = v16;
        *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v14 & v17)) = *(_WORD *)(v15 + 2 * v16);
        v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
        *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
      }
      while ( (*(_DWORD *)(a1 + 5668))-- != 1 );
    }
    ++*(_DWORD *)(a1 + 5680);
LABEL_25:
    if ( v12 )
    {
      sub_1005C3D0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, 0);
      v22 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_1005AA20(v22);
      if ( !*(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        return 0;
    }
  }
  sub_1005C3D0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v24 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_1005AA20(v24);
  v25 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v25) = a2 == 4;
    result = 2 * v25 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (1005C900) --------------------------------------------------------
signed int __cdecl sub_1005C900(int a1, int a2)
{
  unsigned int v2; // ebp@1
  unsigned int v3; // eax@3
  int v4; // edx@8
  int v5; // edi@8
  int v6; // eax@8
  int v7; // ecx@8
  unsigned int v8; // ecx@9
  int v9; // edx@9
  unsigned int v10; // eax@11
  char v11; // cl@12
  unsigned int v12; // eax@13
  unsigned int v13; // eax@18
  unsigned int v14; // eax@23
  int v15; // ecx@25
  unsigned int v16; // ebp@25
  BOOL v17; // eax@25
  int v18; // ecx@25
  BOOL v19; // ebx@25
  unsigned int v20; // edi@26
  int v21; // ecx@27
  int v22; // edx@27
  int v23; // eax@27
  int v25; // eax@29
  int v26; // edi@30
  signed int result; // eax@31
  int v28; // edi@34
  int v29; // ecx@35
  int v30; // edi@40
  unsigned int v31; // [sp+10h] [bp-4h]@1

  v2 = 0;
  v31 = 0;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 < 0x106 )
    {
      sub_1005BC50(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( v3 < 0x106 && !a2 )
        return 0;
      if ( !v3 )
        break;
    }
    if ( v3 >= 3 )
    {
      v4 = *(_DWORD *)(a1 + 5680);
      v5 = *(_DWORD *)(a1 + 5756);
      v6 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v4 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
      v7 = *(_DWORD *)(a1 + 5736);
      *(_DWORD *)(a1 + 5760) = v6;
      *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v4 & v5)) = *(_WORD *)(v7 + 2 * v6);
      v31 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      v2 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
      *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
    }
    v8 = *(_DWORD *)(a1 + 5668);
    v9 = *(_DWORD *)(a1 + 5684);
    *(_DWORD *)(a1 + 5692) = v8;
    *(_DWORD *)(a1 + 5672) = v9;
    *(_DWORD *)(a1 + 5668) = 2;
    if ( !v2 )
      goto LABEL_23;
    if ( v8 >= *(_DWORD *)(a1 + 5700) )
      goto LABEL_23;
    v10 = *(_DWORD *)(a1 + 5680) - v2;
    if ( v10 > *(_DWORD *)(a1 + 5748) - 262 )
      goto LABEL_23;
    v11 = *(_BYTE *)(a1 + 5796);
    if ( v11 < 2 )
    {
      v12 = sub_1005AD40(a1, v2);
LABEL_17:
      *(_DWORD *)(a1 + 5668) = v12;
      goto LABEL_18;
    }
    if ( v11 == 3 && v10 == 1 )
    {
      v12 = sub_1005AEF0(a1, v2);
      goto LABEL_17;
    }
LABEL_18:
    v13 = *(_DWORD *)(a1 + 5668);
    if ( v13 <= 5
      && (*(_BYTE *)(a1 + 5796) == 1
       || v13 == 3 && (unsigned int)(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5684)) > 0x1000) )
    {
      *(_DWORD *)(a1 + 5668) = 2;
    }
LABEL_23:
    v14 = *(_DWORD *)(a1 + 5692);
    if ( v14 < 3 || *(_DWORD *)(a1 + 5668) > v14 )
    {
      if ( *(_DWORD *)(a1 + 5676) )
      {
        if ( sub_1005A310(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680) - 1), 0) )
        {
          sub_1005C3D0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, 0);
          v28 = *(_DWORD *)(a1 + 2908);
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
          sub_1005AA20(v28);
        }
        v29 = *(_DWORD *)(a1 + 2908);
        ++*(_DWORD *)(a1 + 5680);
        --*(_DWORD *)(a1 + 5688);
        if ( !*(_DWORD *)(v29 + 16) )
          return 0;
      }
      else
      {
        ++*(_DWORD *)(a1 + 5680);
        --*(_DWORD *)(a1 + 5688);
        *(_DWORD *)(a1 + 5676) = 1;
      }
    }
    else
    {
      v15 = *(_DWORD *)(a1 + 5680);
      v16 = v15 + *(_DWORD *)(a1 + 5688) - 3;
      v17 = sub_1005A310(a1, v14 - 3, v15 - *(_DWORD *)(a1 + 5672) - 1);
      v18 = *(_DWORD *)(a1 + 5692);
      v19 = v17;
      *(_DWORD *)(a1 + 5688) += 1 - v18;
      *(_DWORD *)(a1 + 5692) = v18 - 2;
      do
      {
        v20 = ++*(_DWORD *)(a1 + 5680);
        if ( v20 <= v16 )
        {
          v21 = *(_DWORD *)(a1 + 5736);
          v22 = *(_DWORD *)(a1 + 5772) & (*(_BYTE *)(*(_DWORD *)(a1 + 5740) + v20 + 2) ^ (*(_DWORD *)(a1 + 5760) << *(_DWORD *)(a1 + 5776)));
          v23 = *(_DWORD *)(a1 + 5756);
          *(_DWORD *)(a1 + 5760) = v22;
          *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (v20 & v23)) = *(_WORD *)(v21 + 2 * v22);
          v31 = *(_WORD *)(*(_DWORD *)(a1 + 5732) + 2 * (*(_DWORD *)(a1 + 5680) & *(_DWORD *)(a1 + 5756)));
          *(_WORD *)(*(_DWORD *)(a1 + 5736) + 2 * *(_DWORD *)(a1 + 5760)) = *(_WORD *)(a1 + 5680);
        }
      }
      while ( (*(_DWORD *)(a1 + 5692))-- != 1 );
      v25 = ++*(_DWORD *)(a1 + 5680);
      *(_DWORD *)(a1 + 5676) = 0;
      *(_DWORD *)(a1 + 5668) = 2;
      if ( v19 )
      {
        sub_1005C3D0(v25 - *(_DWORD *)(a1 + 5664), a1, 0);
        v26 = *(_DWORD *)(a1 + 2908);
        *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
        sub_1005AA20(v26);
        if ( !*(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
          return 0;
      }
      v2 = v31;
    }
  }
  if ( *(_DWORD *)(a1 + 5676) )
  {
    sub_1005A310(a1, *(_BYTE *)(*(_DWORD *)(a1 + 5740) + *(_DWORD *)(a1 + 5680) - 1), 0);
    *(_DWORD *)(a1 + 5676) = 0;
  }
  sub_1005C3D0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v30 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_1005AA20(v30);
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
    result = 2 * (a2 == 4) + 1;
  else
    result = a2 != 4 ? 0 : 2;
  return result;
}

//----- (1005CD10) --------------------------------------------------------
signed int __cdecl sub_1005CD10(int a1, int a2)
{
  int v2; // ebx@1
  unsigned int v3; // eax@3
  bool v4; // zf@5
  int v5; // edx@5
  unsigned int v6; // ecx@5
  unsigned int v7; // eax@5
  int v8; // edi@7
  unsigned int v9; // eax@8
  int v10; // edi@9
  signed int result; // eax@10
  int v12; // edi@12
  int v13; // eax@12

  v2 = 0xFFFF;
  if ( (unsigned int)(*(_DWORD *)(a1 + 5804) - 5) <= 0xFFFF )
    v2 = *(_DWORD *)(a1 + 5804) - 5;
  while ( 1 )
  {
    v3 = *(_DWORD *)(a1 + 5688);
    if ( v3 <= 1 )
    {
      sub_1005BC50(a1);
      v3 = *(_DWORD *)(a1 + 5688);
      if ( !v3 )
        break;
    }
    v4 = v3 + *(_DWORD *)(a1 + 5680) == 0;
    *(_DWORD *)(a1 + 5680) += v3;
    v5 = *(_DWORD *)(a1 + 5664);
    v6 = *(_DWORD *)(a1 + 5680);
    *(_DWORD *)(a1 + 5688) = 0;
    v7 = v5 + v2;
    if ( !v4 && v6 < v7
      || (*(_DWORD *)(a1 + 5688) = v6 - v7,
          *(_DWORD *)(a1 + 5680) = v7,
          sub_1005C3D0(v2, a1, 0),
          v8 = *(_DWORD *)(a1 + 2908),
          *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680),
          sub_1005AA20(v8),
          *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16)) )
    {
      v9 = *(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664);
      if ( v9 < *(_DWORD *)(a1 + 5748) - 262 )
        continue;
      sub_1005C3D0(v9, a1, 0);
      v10 = *(_DWORD *)(a1 + 2908);
      *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
      sub_1005AA20(v10);
      if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
        continue;
    }
    return 0;
  }
  if ( !a2 )
    return 0;
  sub_1005C3D0(*(_DWORD *)(a1 + 5680) - *(_DWORD *)(a1 + 5664), a1, a2 == 4);
  v12 = *(_DWORD *)(a1 + 2908);
  *(_DWORD *)(a1 + 5664) = *(_DWORD *)(a1 + 5680);
  sub_1005AA20(v12);
  v13 = 0;
  if ( *(_DWORD *)(*(_DWORD *)(a1 + 2908) + 16) )
  {
    LOBYTE(v13) = a2 == 4;
    result = 2 * v13 + 1;
  }
  else
  {
    result = a2 != 4 ? 0 : 2;
  }
  return result;
}

//----- (1005CE80) --------------------------------------------------------
int __cdecl sub_1005CE80(unsigned int a1, _BYTE *a2, unsigned int a3)
{
  _BYTE *v3; // edi@1
  unsigned int v4; // ecx@1
  unsigned int v5; // esi@1
  int result; // eax@2
  unsigned int i; // ebp@3
  unsigned int v8; // ebx@4
  int v9; // eax@8
  signed int v10; // edx@8
  int v11; // ecx@9
  int v12; // esi@9
  int v13; // ecx@9
  int v14; // esi@9
  int v15; // ecx@9
  int v16; // esi@9
  unsigned int v17; // [sp+Ch] [bp+4h]@7

  v3 = a2;
  v4 = (unsigned __int16)a1;
  v5 = a1 >> 16;
  if ( a2 )
  {
    for ( i = a3; i; v5 %= 0xFFF1u )
    {
      v8 = i;
      if ( i >= 0x15B0 )
        v8 = 5552;
      i -= v8;
      if ( (signed int)v8 >= 16 )
      {
        v17 = v8 >> 4;
        v8 += -16 * (v8 >> 4);
        do
        {
          v9 = (int)(v3 + 1);
          v10 = 4;
          do
          {
            v11 = *(_BYTE *)(v9 - 1) + v4;
            v12 = v11 + v5;
            v13 = *(_BYTE *)v9 + v11;
            v14 = v13 + v12;
            v15 = *(_BYTE *)(v9 + 1) + v13;
            v16 = v15 + v14;
            v4 = *(_BYTE *)(v9 + 2) + v15;
            v5 = v4 + v16;
            v9 += 4;
            --v10;
          }
          while ( v10 );
          v3 += 16;
          --v17;
        }
        while ( v17 );
      }
      for ( ; v8; --v8 )
      {
        v4 += *v3++;
        v5 += v4;
      }
      v4 %= 0xFFF1u;
    }
    result = v4 | (v5 << 16);
  }
  else
  {
    result = (int)(a2 + 1);
  }
  return result;
}

//----- (1005CF80) --------------------------------------------------------
signed int __cdecl sub_1005CF80(int a1)
{
  signed int result; // eax@3

  if ( a1 && *(_DWORD *)(a1 + 24) )
  {
    *(_DWORD *)(a1 + 24) = 0;
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (1005CFA0) --------------------------------------------------------
signed int __usercall sub_1005CFA0@<eax>(unsigned int *a1@<eax>, _DWORD *a2, unsigned int a3, int a4, int a5, int a6, int *a7, int a8, unsigned int *a9, unsigned int *a10)
{
  unsigned int v10; // ebp@1
  unsigned int *v11; // edi@1
  _DWORD *v12; // eax@1
  unsigned int v13; // edx@1
  signed int result; // eax@4
  unsigned int v15; // eax@5
  int v16; // ecx@7
  signed int v17; // edx@9
  signed int v18; // esi@13
  int i; // edi@13
  int v20; // esi@14
  int v21; // edi@16
  int v22; // esi@16
  int v23; // edi@17
  int v24; // ebx@17
  int v25; // esi@17
  int v26; // edi@18
  _DWORD *v27; // edi@20
  unsigned int v28; // ebx@20
  int v29; // esi@21
  int v30; // edi@22
  signed int v31; // edi@24
  int v32; // ebx@24
  unsigned int v33; // esi@25
  int v34; // edx@27
  int l; // ebp@28
  unsigned int v36; // edx@31
  unsigned int v37; // ecx@33
  int *v38; // ebp@34
  int v39; // eax@34
  unsigned int v40; // edi@36
  unsigned int v41; // eax@36
  unsigned int v42; // edx@39
  int v43; // eax@40
  unsigned int v44; // eax@41
  int v45; // ecx@41
  int v46; // esi@48
  signed int v47; // edx@50
  unsigned int v48; // eax@50
  int v49; // ecx@51
  unsigned int j; // eax@54
  int v51; // [sp+Ch] [bp-F4h]@7
  unsigned int v52; // [sp+Ch] [bp-F4h]@24
  signed int v53; // [sp+Ch] [bp-F4h]@31
  unsigned int v54; // [sp+10h] [bp-F0h]@9
  int v55; // [sp+14h] [bp-ECh]@24
  int v56; // [sp+18h] [bp-E8h]@26
  _DWORD *v57; // [sp+1Ch] [bp-E4h]@21
  int v58; // [sp+1Ch] [bp-E4h]@31
  unsigned int k; // [sp+20h] [bp-E0h]@24
  int *v60; // [sp+24h] [bp-DCh]@25
  int v61; // [sp+28h] [bp-D8h]@0
  unsigned int v62; // [sp+2Ch] [bp-D4h]@0
  int v63; // [sp+30h] [bp-D0h]@24
  unsigned int *v64; // [sp+34h] [bp-CCh]@24
  int v65; // [sp+38h] [bp-C8h]@11
  int v66; // [sp+3Ch] [bp-C4h]@31
  int v67; // [sp+40h] [bp-C0h]@16
  int v68; // [sp+44h] [bp-BCh]@1
  int v69; // [sp+48h] [bp-B8h]@1
  int v70; // [sp+4Ch] [bp-B4h]@1
  int v71; // [sp+50h] [bp-B0h]@1
  int v72; // [sp+54h] [bp-ACh]@1
  int v73; // [sp+58h] [bp-A8h]@1
  int v74; // [sp+5Ch] [bp-A4h]@1
  int v75; // [sp+60h] [bp-A0h]@1
  int v76; // [sp+64h] [bp-9Ch]@1
  int v77; // [sp+68h] [bp-98h]@1
  int v78; // [sp+6Ch] [bp-94h]@1
  int v79; // [sp+70h] [bp-90h]@1
  int v80; // [sp+74h] [bp-8Ch]@1
  int v81; // [sp+78h] [bp-88h]@1
  int v82; // [sp+7Ch] [bp-84h]@1
  int v83; // [sp+80h] [bp-80h]@1
  int v84; // [sp+84h] [bp-7Ch]@22
  int v85[14]; // [sp+88h] [bp-78h]@17
  int v86; // [sp+C0h] [bp-40h]@41
  int v87[15]; // [sp+C4h] [bp-3Ch]@24
  int v88; // [sp+108h] [bp+8h]@24

  v10 = 0;
  v11 = a1;
  v12 = a2;
  v68 = 0;
  v69 = 0;
  v70 = 0;
  v71 = 0;
  v72 = 0;
  v73 = 0;
  v74 = 0;
  v75 = 0;
  v76 = 0;
  v77 = 0;
  v78 = 0;
  v79 = 0;
  v80 = 0;
  v81 = 0;
  v82 = 0;
  v83 = 0;
  v13 = a3;
  do
  {
    ++*(&v68 + *v12);
    ++v12;
    --v13;
  }
  while ( v13 );
  if ( v68 == a3 )
  {
    *a7 = 0;
    *v11 = 0;
    return 0;
  }
  v15 = 1;
  if ( !v69 )
  {
    do
      ++v15;
    while ( !*(&v68 + v15) );
  }
  v16 = v15;
  v51 = v15;
  if ( *v11 > v15 )
    v15 = *v11;
  v54 = v15;
  v17 = 15;
  if ( !v83 )
  {
    do
      --v17;
    while ( !*(&v68 + v17) );
  }
  v65 = v17;
  if ( (signed int)v15 > v17 )
  {
    v54 = v17;
    v15 = v17;
  }
  v18 = 1 << v16;
  *v11 = v15;
  for ( i = v16; i < v17; v18 = 2 * v20 )
  {
    v20 = v18 - *(&v68 + i);
    if ( v20 < 0 )
      return -3;
    ++i;
  }
  v21 = *(&v68 + v17);
  v22 = v18 - v21;
  v67 = v22;
  if ( v22 < 0 )
    return -3;
  v23 = v22 + v21;
  v24 = v17 - 1;
  v25 = 0;
  *(&v68 + v17) = v23;
  v85[0] = 0;
  if ( v17 != 1 )
  {
    v26 = 0;
    do
    {
      v25 += *(int *)((char *)&v69 + v26 * 4);
      ++v26;
      --v24;
      v85[v26] = v25;
    }
    while ( v24 );
  }
  v27 = a2;
  v28 = 0;
  do
  {
    v29 = *v27;
    ++v27;
    v57 = v27;
    if ( v29 )
    {
      v30 = *(&v84 + v29);
      a10[v30] = v28;
      v16 = v51;
      *(&v84 + v29) = v30 + 1;
      v27 = v57;
    }
    ++v28;
  }
  while ( v28 < a3 );
  v88 = *(&v84 + v17);
  v31 = -1;
  v32 = -v15;
  v84 = 0;
  k = 0;
  v64 = a10;
  v87[0] = 0;
  v63 = 0;
  v52 = 0;
  v55 = v16;
  if ( v16 > v17 )
  {
LABEL_60:
    if ( v67 && v17 != 1 )
      result = -5;
    else
      result = 0;
  }
  else
  {
    v33 = v62;
    v60 = &v68 + v16;
    while ( 1 )
    {
      v56 = *v60;
      if ( *v60 )
        break;
LABEL_59:
      v17 = v65;
      ++v60;
      v55 = ++v16;
      if ( v16 > v65 )
        goto LABEL_60;
    }
    while ( 1 )
    {
      --v56;
      v34 = v32 + v15;
      if ( (signed int)(v32 + v15) < v16 )
        break;
LABEL_44:
      BYTE1(v61) = v16 - v32;
      if ( v64 < &a10[v88] )
      {
        v33 = *v64;
        if ( *v64 >= a4 )
        {
          v46 = 4 * (v33 - a4);
          LOBYTE(v61) = *(_BYTE *)(v46 + a6) + 80;
          v33 = *(_DWORD *)(v46 + a5);
        }
        else
        {
          LOBYTE(v61) = v33 < 0x100 ? 0 : 96;
        }
        ++v64;
      }
      else
      {
        LOBYTE(v61) = -64;
      }
      v47 = 1 << (v16 - v32);
      v48 = v10 >> v32;
      if ( v10 >> v32 < v52 )
      {
        v49 = v63 + 8 * v48;
        do
        {
          *(_DWORD *)v49 = v61;
          *(_DWORD *)(v49 + 4) = v33;
          v48 += v47;
          v49 += 8 * v47;
        }
        while ( v48 < v52 );
        v10 = k;
      }
      for ( j = 1 << (v55 - 1); v10 & j; j >>= 1 )
        v10 ^= j;
      v10 ^= j;
      for ( k = v10; (v10 & ((1 << v32) - 1)) != *(&v84 + v31); --v31 )
        v32 -= v54;
      v15 = v54;
      v16 = v55;
      if ( !v56 )
        goto LABEL_59;
    }
    for ( l = v32 - v15; ; l = v58 )
    {
      v66 = v15 + v34;
      v32 += v15;
      ++v31;
      v36 = v65 - v32;
      v53 = v31;
      v58 = v15 + l;
      if ( v65 - v32 > v15 )
        v36 = v15;
      v37 = v16 - v32;
      if ( 1 << v37 > (unsigned int)(v56 + 1) )
      {
        v38 = v60;
        v39 = -1 - v56 + (1 << v37);
        if ( v37 < v36 )
        {
          while ( ++v37 < v36 )
          {
            v40 = v38[1];
            ++v38;
            v41 = 2 * v39;
            if ( v41 <= v40 )
              break;
            v39 = v41 - v40;
          }
        }
        v31 = v53;
      }
      v52 = 1 << v37;
      v42 = *a9 + (1 << v37);
      if ( v42 > 0x5A0 )
        break;
      v43 = a8 + 8 * *a9;
      *a9 = v42;
      v10 = k;
      v87[v31] = v43;
      v63 = v43;
      if ( v31 )
      {
        LOBYTE(v61) = v37;
        v44 = k >> v58;
        v45 = *(&v86 + v31);
        BYTE1(v61) = v54;
        v33 = ((v63 - v45) >> 3) - (k >> v58);
        *(_DWORD *)(v45 + 8 * v44) = v61;
        *(&v84 + v31) = k;
        *(_DWORD *)(v45 + 8 * v44 + 4) = v33;
      }
      else
      {
        *a7 = v43;
      }
      v34 = v66;
      v16 = v55;
      if ( v66 >= v55 )
        goto LABEL_44;
      v15 = v54;
    }
    result = -3;
  }
  return result;
}
// 1005CFA0: using guessed type int var_78[14];
// 1005CFA0: using guessed type int var_3C[15];

//----- (1005D440) --------------------------------------------------------
int (__cdecl *__usercall sub_1005D440@<eax>(_DWORD *a1@<eax>, int a2@<esi>, int a3))(_DWORD, _DWORD, _DWORD)
{
  int v3; // eax@3
  int (__cdecl *result)(_DWORD, _DWORD, _DWORD); // eax@3

  if ( a1 )
    *a1 = *(_DWORD *)(a2 + 14124);
  v3 = *(_DWORD *)(a2 + 14104);
  *(_DWORD *)(a2 + 14112) = v3;
  *(_DWORD *)(a2 + 14116) = v3;
  result = *(int (__cdecl **)(_DWORD, _DWORD, _DWORD))(a2 + 14120);
  *(_BYTE *)a2 = 0;
  *(_DWORD *)(a2 + 1424) = 0;
  *(_DWORD *)(a2 + 1428) = 0;
  if ( result )
  {
    result = (int (__cdecl *)(_DWORD, _DWORD, _DWORD))result(0, 0, 0);
    *(_DWORD *)(a2 + 14124) = result;
    *(_DWORD *)(a3 + 28) = result;
  }
  return result;
}

//----- (1005D490) --------------------------------------------------------
int __usercall sub_1005D490@<eax>(int result@<eax>, char a2, char a3, int a4, int a5)
{
  *(_BYTE *)(result + 16) = a2;
  *(_BYTE *)(result + 17) = a3;
  *(_BYTE *)result = 0;
  *(_DWORD *)(result + 20) = a4;
  *(_DWORD *)(result + 24) = a5;
  return result;
}

//----- (1005D4B0) --------------------------------------------------------
signed int __cdecl sub_1005D4B0(int a1, int a2, int a3, int a4, int a5, int a6)
{
  _BYTE *v6; // ebp@1
  unsigned int v7; // ecx@1
  unsigned int v8; // edx@1
  _BYTE *v9; // edi@1
  unsigned int v10; // eax@1
  int v11; // esi@6
  int v12; // ebx@8
  int v13; // esi@8
  int v14; // ecx@8
  int v15; // ecx@11
  int v16; // ebx@13
  unsigned int v17; // eax@13
  unsigned int v18; // edx@13
  int v19; // esi@14
  int v20; // ebx@16
  int v21; // esi@16
  unsigned int v22; // edx@16
  unsigned int v23; // eax@16
  int v24; // ecx@18
  int v25; // ecx@18
  int i; // ebx@19
  char v27; // cl@21
  int v28; // ebx@21
  int v29; // ecx@21
  int v30; // esi@22
  _BYTE *v31; // edi@22
  _BYTE *v32; // esi@22
  unsigned int v33; // ecx@23
  unsigned int v34; // ecx@32
  int v35; // ebp@34
  int v36; // ebx@34
  unsigned int v38; // ecx@35
  int v39; // ebp@37
  int v40; // ebx@37
  int v41; // esi@37
  int v42; // eax@37
  unsigned int v43; // ecx@38
  int v44; // ebp@41
  int v45; // ebx@41
  int v46; // ebp@44
  unsigned int v47; // [sp+10h] [bp-14h]@1
  unsigned int v48; // [sp+14h] [bp-10h]@2
  _BYTE *v49; // [sp+18h] [bp-Ch]@1
  int v50; // [sp+1Ch] [bp-8h]@4
  int v51; // [sp+20h] [bp-4h]@4
  unsigned int v52; // [sp+28h] [bp+4h]@21
  unsigned int v53; // [sp+2Ch] [bp+8h]@13
  int v54; // [sp+2Ch] [bp+8h]@24

  v6 = *(_BYTE **)a6;
  v7 = *(_DWORD *)(a5 + 14112);
  v8 = *(_DWORD *)(a5 + 1428);
  v9 = *(_BYTE **)(a5 + 14116);
  v47 = *(_DWORD *)(a6 + 4);
  v10 = *(_DWORD *)(a5 + 1424);
  v49 = *(_BYTE **)a6;
  if ( (unsigned int)v9 >= v7 )
    v48 = *(_DWORD *)(a5 + 14108) - (_DWORD)v9;
  else
    v48 = v7 - (_DWORD)v9 - 1;
  v50 = dword_100C11F0[a1];
  v51 = dword_100C11F0[a2];
  while ( 1 )
  {
    if ( v10 < 0x14 )
    {
      do
      {
        --v47;
        v11 = *v6 << v10;
        v10 += 8;
        ++v6;
        v8 |= v11;
      }
      while ( v10 < 0x14 );
      v49 = v6;
    }
    v12 = *(_BYTE *)(a3 + 8 * (v8 & v50));
    v13 = a3 + 8 * (v8 & v50);
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( v12 )
      break;
LABEL_29:
    v10 -= v14;
    *v9++ = *(_BYTE *)(v13 + 4);
    --v48;
LABEL_30:
    if ( v48 < 0x102 || v47 < 0xA )
    {
      v34 = *(_DWORD *)(a6 + 4) - v47;
      if ( v10 >> 3 < v34 )
        v34 = v10 >> 3;
      v35 = (int)&v6[-v34];
      *(_DWORD *)(a6 + 4) = v34 + v47;
      v36 = v35 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v35;
      *(_DWORD *)(a6 + 8) += v36;
      *(_DWORD *)(a5 + 14116) = v9;
      *(_DWORD *)(a5 + 1424) = v10 - 8 * v34;
      *(_DWORD *)(a5 + 1428) = v8;
      return 0;
    }
  }
  v10 -= *(_BYTE *)(v13 + 1);
  if ( v12 & 0x10 )
  {
LABEL_13:
    v16 = v12 & 0xF;
    v17 = v10 - v16;
    v53 = *(_DWORD *)(v13 + 4) + (v8 & dword_100C11F0[v16]);
    v18 = v8 >> v16;
    if ( v17 < 0xF )
    {
      do
      {
        --v47;
        v19 = *v6 << v17;
        v17 += 8;
        ++v6;
        v18 |= v19;
      }
      while ( v17 < 0xF );
      v49 = v6;
    }
    v20 = *(_BYTE *)(a4 + 8 * (v18 & v51));
    v21 = a4 + 8 * (v18 & v51);
    v22 = v18 >> *(_BYTE *)(v21 + 1);
    v23 = v17 - *(_BYTE *)(v21 + 1);
    if ( !(v20 & 0x10) )
    {
      while ( !(v20 & 0x40) )
      {
        v24 = *(_DWORD *)(v21 + 4) + (v22 & dword_100C11F0[v20]);
        v20 = *(_BYTE *)(v21 + 8 * v24);
        v21 += 8 * v24;
        v25 = *(_BYTE *)(v21 + 1);
        v22 >>= v25;
        v23 -= v25;
        if ( v20 & 0x10 )
          goto LABEL_19;
      }
      v38 = *(_DWORD *)(a6 + 4) - v47;
      if ( v23 >> 3 < v38 )
        v38 = v23 >> 3;
      v39 = (int)&v6[-v38];
      *(_DWORD *)(a6 + 4) = v38 + v47;
      v40 = v39 - *(_DWORD *)a6;
      *(_DWORD *)a6 = v39;
      *(_DWORD *)(a6 + 8) += v40;
      v41 = a5;
      *(_DWORD *)(a5 + 1428) = v22;
      v42 = v23 - 8 * v38;
      goto LABEL_45;
    }
LABEL_19:
    for ( i = v20 & 0xF; v23 < (unsigned __int16)i; ++v49 )
    {
      --v47;
      v22 |= *v6 << v23;
      v6 = v49 + 1;
      v23 += 8;
    }
    v10 = v23 - i;
    v52 = *(_DWORD *)(v21 + 4) + (v22 & dword_100C11F0[i]);
    v27 = i;
    v28 = v53;
    v48 -= v53;
    v8 = v22 >> v27;
    v29 = *(_DWORD *)(a5 + 14104);
    if ( (unsigned int)&v9[-v29] < v52 )
    {
      v33 = v52 + v29 - (_DWORD)v9;
      v32 = (_BYTE *)(*(_DWORD *)(a5 + 14108) - v33);
      if ( v53 > v33 )
      {
        v54 = v53 - v33;
        do
        {
          *v9++ = *v32++;
          --v33;
        }
        while ( v33 );
        v32 = *(_BYTE **)(a5 + 14104);
        v28 = v54;
      }
    }
    else
    {
      v30 = (int)&v9[-v52];
      v31 = v9 + 1;
      *(v31 - 1) = *(_BYTE *)v30;
      *v31 = *(_BYTE *)(v30 + 1);
      v9 = v31 + 1;
      v32 = (_BYTE *)(v30 + 2);
      v28 = v53 - 2;
    }
    do
    {
      *v9++ = *v32++;
      --v28;
    }
    while ( v28 );
    goto LABEL_30;
  }
  while ( !(v12 & 0x40) )
  {
    v15 = *(_DWORD *)(v13 + 4) + (v8 & dword_100C11F0[v12]);
    v12 = *(_BYTE *)(v13 + 8 * v15);
    v13 += 8 * v15;
    v14 = *(_BYTE *)(v13 + 1);
    v8 >>= v14;
    if ( !v12 )
      goto LABEL_29;
    v10 -= *(_BYTE *)(v13 + 1);
    if ( v12 & 0x10 )
      goto LABEL_13;
  }
  v43 = *(_DWORD *)(a6 + 4) - v47;
  if ( !(v12 & 0x20) )
  {
    if ( v10 >> 3 < v43 )
      v43 = v10 >> 3;
    v46 = (int)&v6[-v43];
    *(_DWORD *)(a6 + 4) = v43 + v47;
    *(_DWORD *)(a6 + 8) += v46 - *(_DWORD *)a6;
    *(_DWORD *)a6 = v46;
    v41 = a5;
    *(_DWORD *)(a5 + 1428) = v8;
    v42 = v10 - 8 * v43;
LABEL_45:
    *(_DWORD *)(v41 + 14116) = v9;
    *(_DWORD *)(v41 + 1424) = v42;
    return -3;
  }
  if ( v10 >> 3 < v43 )
    v43 = v10 >> 3;
  *(_DWORD *)(a6 + 4) = v43 + v47;
  v44 = (int)&v6[-v43];
  v45 = v44 - *(_DWORD *)a6;
  *(_DWORD *)a6 = v44;
  *(_DWORD *)(a6 + 8) += v45;
  *(_DWORD *)(a5 + 1428) = v8;
  *(_DWORD *)(a5 + 14116) = v9;
  *(_DWORD *)(a5 + 1424) = v10 - 8 * v43;
  return 1;
}
// 100C11F0: using guessed type int dword_100C11F0[];

//----- (1005D860) --------------------------------------------------------
int __usercall sub_1005D860@<eax>(int a1@<edi>, int a2@<esi>, int a3)
{
  const void *v3; // ebx@1
  unsigned int v4; // ebp@1
  size_t v5; // eax@3
  size_t v6; // ebp@3
  int (__cdecl *v7)(_DWORD, const void *, size_t); // eax@8
  int v8; // eax@9
  int v9; // eax@10
  int v10; // ebx@10
  const void *v11; // ebx@11
  size_t v12; // eax@13
  size_t v13; // ebp@13
  int (__cdecl *v14)(_DWORD, const void *, size_t); // eax@15
  int v15; // eax@16
  int result; // eax@18
  void *v17; // [sp+8h] [bp-4h]@1
  char *v18; // [sp+8h] [bp-4h]@10

  v3 = *(const void **)(a2 + 14112);
  v4 = *(_DWORD *)(a2 + 14116);
  v17 = *(void **)(a1 + 12);
  if ( (unsigned int)v3 > v4 )
    v4 = *(_DWORD *)(a2 + 14108);
  v5 = *(_DWORD *)(a1 + 16);
  v6 = v4 - (_DWORD)v3;
  if ( v6 > v5 )
    v6 = *(_DWORD *)(a1 + 16);
  if ( v6 && a3 == -5 )
    a3 = 0;
  *(_DWORD *)(a1 + 20) += v6;
  *(_DWORD *)(a1 + 16) = v5 - v6;
  v7 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
  if ( v7 )
  {
    v8 = v7(*(_DWORD *)(a2 + 14124), v3, v6);
    *(_DWORD *)(a2 + 14124) = v8;
    *(_DWORD *)(a1 + 28) = v8;
  }
  memcpy_0(v17, v3, v6);
  v9 = *(_DWORD *)(a2 + 14108);
  v18 = (char *)v17 + v6;
  v10 = (int)v3 + v6;
  if ( v10 == v9 )
  {
    v11 = *(const void **)(a2 + 14104);
    if ( *(_DWORD *)(a2 + 14116) == v9 )
      *(_DWORD *)(a2 + 14116) = v11;
    v12 = *(_DWORD *)(a1 + 16);
    v13 = *(_DWORD *)(a2 + 14116) - (_DWORD)v11;
    if ( v13 > v12 )
      v13 = *(_DWORD *)(a1 + 16);
    *(_DWORD *)(a1 + 20) += v13;
    *(_DWORD *)(a1 + 16) = v12 - v13;
    v14 = *(int (__cdecl **)(_DWORD, const void *, size_t))(a2 + 14120);
    if ( v14 )
    {
      v15 = v14(*(_DWORD *)(a2 + 14124), v11, v13);
      *(_DWORD *)(a2 + 14124) = v15;
      *(_DWORD *)(a1 + 28) = v15;
    }
    memcpy_0(v18, v11, v13);
    v18 += v13;
    v10 = (int)v11 + v13;
  }
  *(_DWORD *)(a1 + 12) = v18;
  result = a3;
  *(_DWORD *)(a2 + 14112) = v10;
  return result;
}

//----- (1005D9A0) --------------------------------------------------------
signed int __usercall sub_1005D9A0@<eax>(int a1@<edx>, unsigned int *a2@<esi>, _DWORD *a3, int *a4)
{
  signed int result; // eax@1
  int v5; // [sp+0h] [bp-50h]@1
  char v6; // [sp+4h] [bp-4Ch]@1

  v5 = 0;
  result = sub_1005CFA0(a2, a3, 0x13u, 19, 0, 0, a4, a1, (unsigned int *)&v5, (unsigned int *)&v6);
  if ( result == -5 || !*a2 )
    result = -3;
  return result;
}

//----- (1005D9F0) --------------------------------------------------------
signed int __usercall sub_1005D9F0@<eax>(unsigned int *a1@<eax>, int *a2@<ecx>, int a3@<ebx>, unsigned int a4@<esi>, unsigned int a5, _DWORD *a6, unsigned int *a7, unsigned int *a8, int *a9)
{
  unsigned int *v9; // edi@1
  signed int result; // eax@6
  int v11; // [sp+8h] [bp-4h]@1

  v9 = a1;
  v11 = 0;
  if ( sub_1005CFA0(a7, a6, a4, 257, (int)&unk_100C1288, (int)&unk_100C1308, a2, a3, (unsigned int *)&v11, a1)
    || !*a7
    || sub_1005CFA0(a8, &a6[a4], a5, 0, (int)&unk_100C1388, (int)&unk_100C1400, a9, a3, (unsigned int *)&v11, v9)
    || !*a8 && a4 > 0x101 )
  {
    result = -3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (1005DA90) --------------------------------------------------------
int __usercall sub_1005DA90@<eax>(_DWORD *a1@<eax>, _DWORD *a2@<edx>, _DWORD *a3@<ecx>, _DWORD *a4)
{
  *a1 = 9;
  *a3 = 5;
  *a2 = &unk_100C1478;
  *a4 = &unk_100C2478;
  return 0;
}

//----- (1005DAB0) --------------------------------------------------------
signed int __cdecl sub_1005DAB0(int a1)
{
  signed int result; // eax@2
  int v2; // ecx@3
  int v3; // esi@3

  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 24);
    *(_DWORD *)(a1 + 8) = 0;
    *(_DWORD *)(a1 + 20) = 0;
    v3 = *(_DWORD *)(v2 + 20);
    *(_BYTE *)v2 = *(_DWORD *)(v2 + 12) != 0 ? 7 : 0;
    sub_1005D440(0, v3, a1);
    result = 0;
  }
  else
  {
    result = -2;
  }
  return result;
}

//----- (1005DAC0) --------------------------------------------------------
int __usercall sub_1005DAC0@<eax>(int a1@<eax>, int a2@<ecx>, int a3)
{
  int v3; // edi@1
  _BYTE *v4; // ebx@1
  int v5; // esi@1
  _BYTE *v6; // edx@1
  unsigned int v7; // ebp@1
  unsigned int v8; // eax@1
  unsigned int v9; // eax@2
  unsigned int v10; // ecx@4
  int v11; // ecx@8
  signed int v12; // eax@8
  int v13; // ecx@8
  unsigned int v14; // eax@8
  int v15; // ecx@13
  int v16; // eax@16
  int v17; // eax@17
  int v18; // ecx@17
  int v19; // eax@17
  int v20; // eax@27
  int v21; // eax@28
  int v22; // ecx@28
  int v23; // ecx@28
  int v24; // eax@31
  int v25; // eax@32
  int v26; // ecx@32
  int v27; // eax@32
  int v28; // eax@38
  int v29; // eax@39
  int v30; // ecx@39
  int v31; // ecx@40
  int v32; // eax@41
  unsigned int v33; // eax@46
  unsigned int v34; // ecx@46
  int v35; // eax@51
  unsigned int v36; // eax@51
  unsigned int v37; // ecx@55
  unsigned int v38; // eax@55
  bool v39; // zf@61
  unsigned int v40; // eax@67
  unsigned int v41; // ecx@67
  int v42; // eax@72
  unsigned int v43; // eax@72
  unsigned int v44; // ecx@76
  unsigned int v45; // eax@76
  int v47; // eax@91
  int v48; // ecx@93
  int v49; // eax@97
  int v50; // ecx@98
  int v51; // eax@101
  int v52; // [sp-4h] [bp-2Ch]@85
  unsigned int v53; // [sp+10h] [bp-18h]@1
  unsigned int v54; // [sp+14h] [bp-14h]@1
  unsigned int v55; // [sp+18h] [bp-10h]@4
  unsigned int v56; // [sp+18h] [bp-10h]@54
  unsigned int v57; // [sp+18h] [bp-10h]@75
  _BYTE *v58; // [sp+20h] [bp-8h]@43
  int v59; // [sp+2Ch] [bp+4h]@51

  v3 = a1;
  v4 = *(_BYTE **)a1;
  v5 = a2;
  v6 = *(_BYTE **)(a2 + 14116);
  v7 = *(_DWORD *)(a2 + 1424);
  v54 = *(_DWORD *)(a1 + 4);
  v8 = *(_DWORD *)(a2 + 14112);
  v53 = *(_DWORD *)(a2 + 1428);
  if ( (unsigned int)v6 >= v8 )
    v9 = *(_DWORD *)(a2 + 14108) - (_DWORD)v6;
  else
    v9 = v8 - (_DWORD)v6 - 1;
  v10 = *(_BYTE *)(a2 + 4);
  v55 = v9;
  while ( 2 )
  {
    switch ( v10 )
    {
      case 0u:
        if ( v9 >= 0x102 && v54 >= 0xA )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v11 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v11;
          *(_DWORD *)(v5 + 1428) = v53;
          *(_DWORD *)(v5 + 1424) = v7;
          *(_DWORD *)(v5 + 14116) = v6;
          v12 = sub_1005D4B0(
                  *(_BYTE *)(v5 + 20),
                  *(_BYTE *)(v5 + 21),
                  *(_DWORD *)(v5 + 24),
                  *(_DWORD *)(v5 + 28),
                  v5,
                  v3);
          v4 = *(_BYTE **)v3;
          v7 = *(_DWORD *)(v5 + 1424);
          v13 = v12;
          v54 = *(_DWORD *)(v3 + 4);
          v6 = *(_BYTE **)(v5 + 14116);
          v53 = *(_DWORD *)(v5 + 1428);
          v14 = *(_DWORD *)(v5 + 14112);
          a3 = v13;
          v9 = (unsigned int)v6 >= v14 ? *(_DWORD *)(v5 + 14108) - (_DWORD)v6 : v14 - (_DWORD)v6 - 1;
          v55 = v9;
          if ( v13 )
          {
            *(_BYTE *)(v5 + 4) = 2 * (v13 != 1) + 7;
            goto LABEL_84;
          }
        }
        v15 = *(_DWORD *)(v5 + 24);
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 20);
        *(_DWORD *)(v5 + 12) = v15;
        *(_BYTE *)(v5 + 4) = 1;
        goto LABEL_14;
      case 1u:
LABEL_14:
        if ( v7 >= *(_WORD *)(v5 + 16) )
          goto LABEL_17;
        do
        {
          if ( !v54 )
            goto LABEL_91;
          --v54;
          v16 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v16;
        }
        while ( v7 < *(_WORD *)(v5 + 16) );
LABEL_17:
        v17 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_100C11F0[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v17 + 1);
        v18 = v17;
        v7 -= *(_BYTE *)(v17 + 1);
        v19 = *(_BYTE *)v17;
        if ( v19 )
        {
          if ( v19 & 0x10 )
          {
            *(_DWORD *)(v5 + 12) = v19 & 0xF;
            *(_DWORD *)(v5 + 8) = *(_DWORD *)(v18 + 4);
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 2;
          }
          else if ( v19 & 0x40 )
          {
            if ( !(v19 & 0x20) )
              goto LABEL_92;
            v9 = v55;
            *(_BYTE *)(v5 + 4) = 7;
          }
          else
          {
            *(_DWORD *)(v5 + 16) = v19;
            v9 = v55;
            *(_DWORD *)(v5 + 12) = v18 + 8 * *(_DWORD *)(v18 + 4);
          }
        }
        else
        {
          v9 = v55;
          *(_DWORD *)(v5 + 12) = *(_DWORD *)(v18 + 4);
          *(_BYTE *)(v5 + 4) = 6;
        }
        goto LABEL_84;
      case 2u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_28;
        do
        {
          if ( !v54 )
            goto LABEL_93;
          --v54;
          v20 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v20;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_28:
        v21 = *(_DWORD *)(v5 + 12);
        v22 = v53 & dword_100C11F0[v21];
        *(_BYTE *)(v5 + 4) = 3;
        *(_DWORD *)(v5 + 8) += v22;
        v53 >>= v21;
        v23 = *(_DWORD *)(v5 + 28);
        v7 -= v21;
        *(_DWORD *)(v5 + 16) = *(_BYTE *)(v5 + 21);
        *(_DWORD *)(v5 + 12) = v23;
LABEL_29:
        if ( v7 < *(_WORD *)(v5 + 16) )
        {
          while ( v54 )
          {
            --v54;
            v24 = *v4 << v7;
            v7 += 8;
            ++v4;
            a3 = 0;
            v53 |= v24;
            if ( v7 >= *(_WORD *)(v5 + 16) )
              goto LABEL_32;
          }
LABEL_91:
          v47 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)(v3 + 4) = 0;
          *(_DWORD *)(v3 + 8) += v47;
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v5 + 14116) = v6;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = a3;
          goto LABEL_90;
        }
LABEL_32:
        v25 = *(_DWORD *)(v5 + 12) + 8 * (v53 & dword_100C11F0[*(_DWORD *)(v5 + 16)]);
        v53 >>= *(_BYTE *)(v25 + 1);
        v26 = v25;
        v7 -= *(_BYTE *)(v25 + 1);
        v27 = *(_BYTE *)v25;
        if ( v27 & 0x10 )
        {
          *(_DWORD *)(v5 + 12) = v27 & 0xF;
          v9 = v55;
          *(_DWORD *)(v5 + 16) = *(_DWORD *)(v26 + 4);
          *(_BYTE *)(v5 + 4) = 4;
        }
        else
        {
          if ( v27 & 0x40 )
          {
LABEL_92:
            *(_BYTE *)(v5 + 4) = 9;
            v52 = -3;
            goto LABEL_86;
          }
          *(_DWORD *)(v5 + 16) = v27;
          v9 = v55;
          *(_DWORD *)(v5 + 12) = v26 + 8 * *(_DWORD *)(v26 + 4);
        }
        goto LABEL_84;
      case 3u:
        goto LABEL_29;
      case 4u:
        if ( v7 >= *(_WORD *)(v5 + 12) )
          goto LABEL_39;
        do
        {
          if ( !v54 )
          {
LABEL_93:
            v48 = (int)&v4[-*(_DWORD *)v3];
            *(_DWORD *)(v3 + 4) = 0;
            *(_DWORD *)(v3 + 8) += v48;
            v52 = a3;
            goto LABEL_88;
          }
          --v54;
          v28 = *v4 << v7;
          v7 += 8;
          ++v4;
          a3 = 0;
          v53 |= v28;
        }
        while ( v7 < *(_WORD *)(v5 + 12) );
LABEL_39:
        v29 = *(_DWORD *)(v5 + 12);
        v30 = v53 & dword_100C11F0[v29];
        *(_BYTE *)(v5 + 4) = 5;
        *(_DWORD *)(v5 + 16) += v30;
        v53 >>= v29;
        v7 -= v29;
LABEL_40:
        v31 = *(_DWORD *)(v5 + 16);
        if ( (signed int)&v6[-*(_DWORD *)(v5 + 14104)] >= v31 )
          v32 = (int)&v6[-v31];
        else
          v32 = (int)&v6[*(_DWORD *)(v5 + 14108) - v31 - *(_DWORD *)(v5 + 14104)];
        v58 = (_BYTE *)v32;
        v9 = v55;
        if ( !*(_DWORD *)(v5 + 8) )
        {
LABEL_83:
          *(_BYTE *)(v5 + 4) = 0;
LABEL_84:
          v10 = *(_BYTE *)(v5 + 4);
          if ( v10 > 9 )
          {
LABEL_85:
            v52 = -2;
LABEL_86:
            *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
            goto LABEL_87;
          }
          continue;
        }
        while ( 1 )
        {
          if ( !v9 )
          {
            if ( v6 != *(_BYTE **)(v5 + 14108)
              || (v33 = *(_DWORD *)(v5 + 14112), v34 = *(_DWORD *)(v5 + 14104), v33 == v34)
              || ((v6 = *(_BYTE **)(v5 + 14104), v34 >= v33) ? (v9 = *(_DWORD *)(v5 + 14108) - v34) : (v9 = v33 - v34 - 1),
                  !v9) )
            {
              *(_DWORD *)(v5 + 14116) = v6;
              v35 = sub_1005D860(v3, v5, a3);
              v6 = *(_BYTE **)(v5 + 14116);
              v59 = v35;
              v36 = *(_DWORD *)(v5 + 14112);
              if ( (unsigned int)v6 >= v36 )
                v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
              else
                v9 = v36 - (_DWORD)v6 - 1;
              v56 = v9;
              if ( v6 == *(_BYTE **)(v5 + 14108) )
              {
                v37 = *(_DWORD *)(v5 + 14104);
                v38 = *(_DWORD *)(v5 + 14112);
                if ( v38 == v37 )
                {
                  v9 = v56;
                }
                else
                {
                  v6 = *(_BYTE **)(v5 + 14104);
                  if ( v37 >= v38 )
                    v9 = *(_DWORD *)(v5 + 14108) - v37;
                  else
                    v9 = v38 - v37 - 1;
                }
              }
              if ( !v9 )
                break;
            }
          }
          *v6 = *v58;
          --v9;
          ++v6;
          v39 = v58 + 1 == *(_BYTE **)(v5 + 14108);
          a3 = 0;
          v55 = v9;
          ++v58;
          if ( v39 )
            v58 = *(_BYTE **)(v5 + 14104);
          if ( !--*(_DWORD *)(v5 + 8) )
            goto LABEL_83;
        }
LABEL_94:
        *(_DWORD *)(v3 + 8) += &v4[-*(_DWORD *)v3];
        v52 = v59;
LABEL_87:
        *(_DWORD *)(v3 + 4) = v54;
LABEL_88:
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
LABEL_89:
        *(_DWORD *)(v5 + 14116) = v6;
LABEL_90:
        *(_DWORD *)(v5 + 1424) = v7;
        return sub_1005D860(v3, v5, v52);
      case 5u:
        goto LABEL_40;
      case 6u:
        if ( !v9 )
        {
          if ( v6 != *(_BYTE **)(v5 + 14108)
            || (v40 = *(_DWORD *)(v5 + 14112), v41 = *(_DWORD *)(v5 + 14104), v40 == v41)
            || ((v6 = *(_BYTE **)(v5 + 14104), v41 >= v40) ? (v9 = *(_DWORD *)(v5 + 14108) - v41) : (v9 = v40 - v41 - 1),
                !v9) )
          {
            *(_DWORD *)(v5 + 14116) = v6;
            v42 = sub_1005D860(v3, v5, a3);
            v6 = *(_BYTE **)(v5 + 14116);
            v59 = v42;
            v43 = *(_DWORD *)(v5 + 14112);
            if ( (unsigned int)v6 >= v43 )
              v9 = *(_DWORD *)(v5 + 14108) - (_DWORD)v6;
            else
              v9 = v43 - (_DWORD)v6 - 1;
            v57 = v9;
            if ( v6 == *(_BYTE **)(v5 + 14108) )
            {
              v44 = *(_DWORD *)(v5 + 14104);
              v45 = *(_DWORD *)(v5 + 14112);
              if ( v45 == v44 )
              {
                v9 = v57;
              }
              else
              {
                v6 = *(_BYTE **)(v5 + 14104);
                if ( v44 >= v45 )
                  v9 = *(_DWORD *)(v5 + 14108) - v44;
                else
                  v9 = v45 - v44 - 1;
              }
            }
            if ( !v9 )
              goto LABEL_94;
          }
        }
        *v6++ = *(_BYTE *)(v5 + 12);
        --v9;
        a3 = 0;
        v55 = v9;
        goto LABEL_83;
      case 7u:
        if ( v7 > 7 )
        {
          ++v54;
          v7 -= 8;
          --v4;
        }
        *(_DWORD *)(v5 + 14116) = v6;
        v49 = sub_1005D860(v3, v5, a3);
        v6 = *(_BYTE **)(v5 + 14116);
        if ( *(_BYTE **)(v5 + 14112) != v6 )
        {
          *(_DWORD *)(v3 + 4) = v54;
          v50 = (int)&v4[-*(_DWORD *)v3];
          *(_DWORD *)v3 = v4;
          *(_DWORD *)(v3 + 8) += v50;
          *(_DWORD *)(v5 + 1428) = v53;
          v52 = v49;
          goto LABEL_89;
        }
        *(_BYTE *)(v5 + 4) = 8;
LABEL_100:
        v52 = 1;
        goto LABEL_86;
      case 8u:
        goto LABEL_100;
      case 9u:
        v51 = (int)&v4[-*(_DWORD *)v3];
        *(_DWORD *)(v3 + 4) = v54;
        *(_DWORD *)(v3 + 8) += v51;
        *(_DWORD *)v3 = v4;
        *(_DWORD *)(v5 + 1428) = v53;
        v52 = -3;
        goto LABEL_89;
      default:
        goto LABEL_85;
    }
  }
}
// 100C11F0: using guessed type int dword_100C11F0[];

//----- (1005E160) --------------------------------------------------------
int __usercall sub_1005E160@<eax>(int a1@<eax>, int a2, int a3)
{
  int v3; // ebp@1
  unsigned int v4; // edx@1
  unsigned int v5; // ebx@1
  unsigned int v6; // esi@1
  int v7; // edi@1
  size_t v8; // ecx@1
  char *v9; // eax@1
  char *v10; // ecx@1
  int v11; // edx@2
  unsigned int v12; // edx@4
  int v13; // edx@8
  unsigned int v14; // eax@9
  int v15; // eax@10
  int v16; // ebx@14
  int v17; // ecx@14
  int v18; // edx@17
  char *v19; // edx@24
  unsigned int v20; // eax@25
  unsigned int v21; // ecx@25
  int v22; // eax@27
  int v23; // eax@30
  unsigned int v24; // ecx@30
  int v25; // edx@31
  char *v26; // esi@33
  unsigned int v27; // edx@34
  size_t v28; // esi@39
  bool v29; // zf@43
  int v30; // edx@47
  int v31; // ecx@48
  int v32; // edx@54
  unsigned int v33; // ecx@61
  int v34; // edx@63
  int v35; // edx@64
  int v36; // ecx@64
  unsigned int v37; // edx@64
  int v38; // edx@71
  unsigned int v39; // esi@72
  unsigned int v40; // ecx@72
  unsigned int *v41; // eax@77
  unsigned int v42; // esi@81
  int v43; // eax@81
  int v44; // edx@83
  char *v45; // ecx@84
  unsigned int v46; // eax@84
  int v47; // eax@85
  char *v48; // eax@91
  int v49; // ecx@92
  int v50; // ecx@94
  int v51; // edx@96
  int v52; // edx@97
  int v53; // edx@99
  int v55; // eax@102
  int v56; // edx@103
  int v57; // edx@106
  int v58; // [sp-4h] [bp-3Ch]@91
  size_t v59; // [sp+10h] [bp-28h]@1
  char *v60; // [sp+14h] [bp-24h]@1
  char *v61; // [sp+18h] [bp-20h]@1
  unsigned int v62; // [sp+1Ch] [bp-1Ch]@4
  int v63; // [sp+1Ch] [bp-1Ch]@69
  int v64; // [sp+1Ch] [bp-1Ch]@72
  unsigned int v65; // [sp+20h] [bp-18h]@1
  unsigned int v66; // [sp+24h] [bp-14h]@13
  unsigned int v67; // [sp+28h] [bp-10h]@13
  int v68; // [sp+2Ch] [bp-Ch]@13
  int v69; // [sp+30h] [bp-8h]@13
  unsigned int v70; // [sp+34h] [bp-4h]@69
  unsigned int v71; // [sp+3Ch] [bp+4h]@1

  v3 = a2;
  v4 = *(_DWORD *)(a2 + 14112);
  v5 = *(_DWORD *)(a2 + 1424);
  v6 = *(_DWORD *)(a2 + 1428);
  v7 = a1;
  v8 = *(_DWORD *)(a1 + 4);
  v9 = *(char **)a1;
  v59 = v8;
  v10 = *(char **)(a2 + 14116);
  v61 = v9;
  v71 = *(_DWORD *)(a2 + 1428);
  v65 = v5;
  v60 = v10;
  if ( (unsigned int)v10 >= v4 )
    v11 = *(_DWORD *)(v3 + 14108) - (_DWORD)v10;
  else
    v11 = v4 - (_DWORD)v10 - 1;
  v62 = v11;
  v12 = *(_BYTE *)v3;
  while ( 2 )
  {
    switch ( v12 )
    {
      case 0u:
        for ( ; v5 < 3; v71 = v6 )
        {
          if ( !v59 )
            goto LABEL_91;
          --v59;
          a3 = 0;
          v13 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v13;
        }
        v14 = (v6 & 7) >> 1;
        *(_DWORD *)(v3 + 1420) = v6 & 1;
        if ( !v14 )
        {
          v16 = v5 - 3;
          v17 = v16 & 7;
          v5 = v16 - v17;
          v65 = v5;
          *(_BYTE *)v3 = 1;
          v71 = v6 >> 3 >> v17;
          goto LABEL_89;
        }
        v15 = v14 - 1;
        if ( !v15 )
        {
          sub_1005DA90(&v67, &v69, &v66, &v68);
          sub_1005D490(v3 + 4, v67, v66, v69, v68);
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 6;
          goto LABEL_89;
        }
        if ( v15 == 1 )
        {
          v5 -= 3;
          v71 = v6 >> 3;
          v65 = v5;
          *(_BYTE *)v3 = 3;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 9;
        v49 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v49;
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v3 + 1428) = v71 >> 3;
        v5 -= 3;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      case 1u:
        if ( v5 >= 0x20 )
          goto LABEL_18;
        do
        {
          if ( !v59 )
          {
LABEL_91:
            v48 = v61;
            *(_DWORD *)(v7 + 4) = 0;
            *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
            v58 = a3;
            goto LABEL_110;
          }
          --v59;
          a3 = 0;
          v18 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          v61 = v9;
          v6 |= v18;
          v71 = v6;
        }
        while ( v5 < 0x20 );
LABEL_18:
        if ( ~v6 >> 16 != (unsigned __int16)v6 )
          goto LABEL_93;
        v5 = 0;
        *(_DWORD *)(v3 + 4) = (unsigned __int16)v6;
        v65 = 0;
        v71 = 0;
        if ( (_WORD)v6 )
          *(_BYTE *)v3 = 2;
        else
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
LABEL_89:
        v12 = *(_BYTE *)v3;
        if ( v12 <= 9 )
        {
          v10 = v60;
          v9 = v61;
          v6 = v71;
          continue;
        }
LABEL_107:
        v58 = -2;
        goto LABEL_108;
      case 2u:
        if ( !v59 )
          goto LABEL_94;
        if ( !v62 )
        {
          if ( (v19 = *(char **)(v3 + 14108), v60 != v19)
            || (v20 = *(_DWORD *)(v3 + 14112), v21 = *(_DWORD *)(v3 + 14104), v21 == v20)
            || ((v60 = *(char **)(v3 + 14104), v21 >= v20) ? (v22 = (int)&v19[-v21], v62 = (unsigned int)&v19[-v21]) : (v22 = v20 - v21 - 1, v62 = v22),
                !v22) )
          {
            *(_DWORD *)(v3 + 14116) = v60;
            v23 = sub_1005D860(v7, v3, a3);
            v24 = *(_DWORD *)(v3 + 14112);
            v60 = *(char **)(v3 + 14116);
            if ( *(_DWORD *)(v3 + 14116) >= v24 )
              v25 = *(_DWORD *)(v3 + 14108) - (_DWORD)v60;
            else
              v25 = v24 - (_DWORD)v60 - 1;
            v26 = *(char **)(v3 + 14108);
            v62 = v25;
            if ( v60 == v26 )
            {
              v27 = *(_DWORD *)(v3 + 14104);
              if ( v27 != v24 )
              {
                v60 = *(char **)(v3 + 14104);
                if ( v27 >= v24 )
                  v62 = (unsigned int)&v26[-v27];
                else
                  v62 = v24 - v27 - 1;
              }
            }
            if ( !v62 )
              goto LABEL_96;
          }
        }
        v28 = *(_DWORD *)(v3 + 4);
        a3 = 0;
        if ( v28 > v59 )
          v28 = v59;
        if ( v28 > v62 )
          v28 = v62;
        memcpy_0(v60, v61, v28);
        v61 += v28;
        v59 -= v28;
        v60 += v28;
        v62 -= v28;
        v29 = *(_DWORD *)(v3 + 4) == v28;
        *(_DWORD *)(v3 + 4) -= v28;
        if ( v29 )
          *(_BYTE *)v3 = *(_DWORD *)(v3 + 1420) != 0 ? 7 : 0;
        goto LABEL_89;
      case 3u:
        if ( v5 >= 0xE )
          goto LABEL_48;
        break;
      case 4u:
        goto LABEL_51;
      case 5u:
        goto LABEL_60;
      case 6u:
        goto LABEL_83;
      case 7u:
        goto LABEL_102;
      case 8u:
        goto LABEL_105;
      case 9u:
        v57 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)(v7 + 4) = v59;
        *(_DWORD *)(v7 + 8) += v57;
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = -3;
        goto LABEL_111;
      default:
        goto LABEL_107;
    }
    break;
  }
  do
  {
    if ( !v59 )
      goto LABEL_94;
    --v59;
    v30 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v30;
    v71 = v6;
    v61 = v9;
  }
  while ( v5 < 0xE );
LABEL_48:
  v31 = v6 & 0x3FFF;
  *(_DWORD *)(v3 + 4) = v31;
  if ( (v6 & 0x1F) > 0x1D || (v6 & 0x3E0) > 0x3A0 )
  {
LABEL_93:
    *(_BYTE *)v3 = 9;
    v58 = -3;
LABEL_108:
    *(_DWORD *)(v7 + 4) = v59;
LABEL_109:
    v48 = v61;
    *(_DWORD *)(v7 + 8) += &v61[-*(_DWORD *)v7];
    goto LABEL_110;
  }
  v6 >>= 14;
  v5 -= 14;
  v71 = v6;
  v65 = v5;
  *(_DWORD *)(v3 + 8) = 0;
  *(_BYTE *)v3 = 4;
LABEL_51:
  if ( *(_DWORD *)(v3 + 8) < (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
  {
    while ( v5 >= 3 )
    {
LABEL_55:
      *(_DWORD *)(v3 + 4 * dword_100C1238[(*(_DWORD *)(v3 + 8))++] + 12) = v6 & 7;
      v6 >>= 3;
      v5 -= 3;
      v71 = v6;
      v65 = v5;
      if ( *(_DWORD *)(v3 + 8) >= (unsigned int)((*(_DWORD *)(v3 + 4) >> 10) + 4) )
        goto LABEL_56;
    }
    while ( v59 )
    {
      --v59;
      v32 = (unsigned __int8)*v9++ << v5;
      v5 += 8;
      a3 = 0;
      v6 |= v32;
      v71 = v6;
      v61 = v9;
      if ( v5 >= 3 )
        goto LABEL_55;
    }
    goto LABEL_94;
  }
LABEL_56:
  while ( *(_DWORD *)(v3 + 8) < 0x13u )
    *(_DWORD *)(v3 + 4 * dword_100C1238[(*(_DWORD *)(v3 + 8))++] + 12) = 0;
  *(_DWORD *)(v3 + 1412) = 7;
  v23 = sub_1005D9A0(v3 + 1432, (unsigned int *)(v3 + 1412), (_DWORD *)(v3 + 12), (int *)(v3 + 1416));
  if ( v23 )
  {
    *(_BYTE *)v3 = 9;
LABEL_96:
    *(_DWORD *)(v7 + 4) = v59;
    v51 = (int)&v61[-*(_DWORD *)v7];
    *(_DWORD *)v7 = v61;
    *(_DWORD *)(v7 + 8) += v51;
    *(_DWORD *)(v3 + 1428) = v71;
    *(_DWORD *)(v3 + 14116) = v60;
    v58 = v23;
    goto LABEL_111;
  }
  v6 = v71;
  *(_DWORD *)(v3 + 8) = 0;
  v9 = v61;
  *(_BYTE *)v3 = 5;
LABEL_60:
  if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
  {
LABEL_81:
    v42 = *(_DWORD *)(v3 + 4);
    *(_DWORD *)(v3 + 1416) = 0;
    v67 = 9;
    v66 = 6;
    v43 = sub_1005D9F0(
            (unsigned int *)(v3 + 12952),
            &v69,
            v3 + 1432,
            (v42 & 0x1F) + 257,
            ((v42 >> 5) & 0x1F) + 1,
            (_DWORD *)(v3 + 12),
            &v67,
            &v66,
            &v68);
    if ( v43 )
    {
      *(_BYTE *)v3 = 9;
      *(_DWORD *)(v7 + 4) = v59;
      v53 = (int)&v61[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v61;
      *(_DWORD *)(v7 + 8) += v53;
      *(_DWORD *)(v3 + 1428) = v71;
      *(_DWORD *)(v3 + 1424) = v65;
      *(_DWORD *)(v3 + 14116) = v60;
    }
    else
    {
      sub_1005D490(v3 + 4, v67, v66, v69, v68);
      v5 = v65;
      v10 = v60;
      v9 = v61;
      v6 = v71;
      *(_BYTE *)v3 = 6;
LABEL_83:
      *(_DWORD *)(v7 + 4) = v59;
      v44 = (int)&v9[-*(_DWORD *)v7];
      *(_DWORD *)v7 = v9;
      *(_DWORD *)(v7 + 8) += v44;
      *(_DWORD *)(v3 + 14116) = v10;
      *(_DWORD *)(v3 + 1428) = v6;
      *(_DWORD *)(v3 + 1424) = v5;
      v43 = sub_1005DAC0(v7, v3, a3);
      if ( v43 == 1 )
      {
        v5 = *(_DWORD *)(v3 + 1424);
        v61 = *(char **)v7;
        v45 = *(char **)(v3 + 14116);
        v71 = *(_DWORD *)(v3 + 1428);
        v46 = *(_DWORD *)(v3 + 14112);
        a3 = 0;
        v59 = *(_DWORD *)(v7 + 4);
        v65 = *(_DWORD *)(v3 + 1424);
        v60 = v45;
        if ( (unsigned int)v45 >= v46 )
          v47 = *(_DWORD *)(v3 + 14108) - (_DWORD)v45;
        else
          v47 = v46 - (_DWORD)v45 - 1;
        v62 = v47;
        if ( !*(_DWORD *)(v3 + 1420) )
        {
          *(_BYTE *)v3 = 0;
          goto LABEL_89;
        }
        *(_BYTE *)v3 = 7;
LABEL_102:
        *(_DWORD *)(v3 + 14116) = v60;
        v55 = sub_1005D860(v7, v3, a3);
        v60 = *(char **)(v3 + 14116);
        if ( *(_DWORD *)(v3 + 14112) != *(_DWORD *)(v3 + 14116) )
        {
          *(_DWORD *)(v7 + 4) = v59;
          v56 = (int)&v61[-*(_DWORD *)v7];
          *(_DWORD *)v7 = v61;
          *(_DWORD *)(v7 + 8) += v56;
          *(_DWORD *)(v3 + 1428) = v71;
          *(_DWORD *)(v3 + 1424) = v5;
          *(_DWORD *)(v3 + 14116) = v60;
          return sub_1005D860(v7, v3, v55);
        }
        *(_BYTE *)v3 = 8;
LABEL_105:
        *(_DWORD *)(v7 + 4) = v59;
        v58 = 1;
        goto LABEL_109;
      }
    }
    return sub_1005D860(v7, v3, v43);
  }
  while ( 1 )
  {
    v33 = *(_WORD *)(v3 + 1412);
    v67 = *(_WORD *)(v3 + 1412);
    if ( v5 < v33 )
      break;
LABEL_64:
    v35 = *(_DWORD *)(v3 + 1416) + 8 * (v6 & dword_100C11F0[*(_DWORD *)(v3 + 1412)]);
    v36 = *(_BYTE *)(v35 + 1);
    v37 = *(_DWORD *)(v35 + 4);
    v66 = v37;
    if ( v37 >= 0x10 )
    {
      if ( v37 == 18 )
        v67 = 7;
      else
        v67 = v37 - 14;
      v63 = 8 * (v37 == 18) + 3;
      v70 = (unsigned __int16)(v36 + v67);
      if ( v5 < v70 )
      {
        while ( v59 )
        {
          --v59;
          v38 = (unsigned __int8)*v9++ << v5;
          v5 += 8;
          a3 = 0;
          v6 |= v38;
          v71 = v6;
          v61 = v9;
          if ( v5 >= v70 )
            goto LABEL_72;
        }
        v52 = (int)&v61[-*(_DWORD *)v7];
        *(_DWORD *)v7 = v61;
        *(_DWORD *)(v7 + 8) += v52;
        *(_DWORD *)(v7 + 4) = 0;
        *(_DWORD *)(v3 + 1428) = v71;
        *(_DWORD *)(v3 + 14116) = v60;
        v58 = a3;
        goto LABEL_111;
      }
LABEL_72:
      v39 = v6 >> v36;
      v64 = (v39 & dword_100C11F0[v67]) + v63;
      v6 = v39 >> v67;
      v5 -= v36 + v67;
      v40 = *(_DWORD *)(v3 + 8);
      v71 = v6;
      v65 = v5;
      if ( v40 + v64 > ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
        goto LABEL_98;
      if ( v66 == 16 )
      {
        if ( v40 < 1 )
        {
LABEL_98:
          *(_BYTE *)v3 = 9;
          *(_DWORD *)(v7 + 4) = v59;
          v58 = -3;
          goto LABEL_109;
        }
        v66 = *(_DWORD *)(v3 + 4 * v40 + 8);
      }
      else
      {
        v66 = 0;
      }
      v41 = (unsigned int *)(v3 + 4 * v40 + 12);
      do
      {
        *v41 = v66;
        ++v40;
        ++v41;
        --v64;
      }
      while ( v64 );
      v9 = v61;
      *(_DWORD *)(v3 + 8) = v40;
    }
    else
    {
      v6 >>= v36;
      v5 -= v36;
      *(_DWORD *)(v3 + 4 * (*(_DWORD *)(v3 + 8))++ + 12) = v37;
      v71 = v6;
      v65 = v5;
    }
    if ( *(_DWORD *)(v3 + 8) >= ((*(_DWORD *)(v3 + 4) >> 5) & 0x1F) + (*(_DWORD *)(v3 + 4) & 0x1Fu) + 258 )
      goto LABEL_81;
  }
  while ( v59 )
  {
    --v59;
    v34 = (unsigned __int8)*v9++ << v5;
    v5 += 8;
    a3 = 0;
    v6 |= v34;
    v71 = v6;
    v61 = v9;
    if ( v5 >= v67 )
      goto LABEL_64;
  }
LABEL_94:
  v48 = v61;
  v50 = (int)&v61[-*(_DWORD *)v7];
  *(_DWORD *)(v7 + 4) = 0;
  *(_DWORD *)(v7 + 8) += v50;
  v58 = a3;
LABEL_110:
  *(_DWORD *)v7 = v48;
  *(_DWORD *)(v3 + 14116) = v60;
  *(_DWORD *)(v3 + 1428) = v71;
LABEL_111:
  *(_DWORD *)(v3 + 1424) = v5;
  return sub_1005D860(v7, v3, v58);
}
// 100C11F0: using guessed type int dword_100C11F0[];
// 100C1238: using guessed type int dword_100C1238[];

//----- (1005EB40) --------------------------------------------------------
signed int __usercall sub_1005EB40@<eax>(int a1@<edi>, int a2)
{
  int v2; // ebp@3
  int v3; // ebx@3
  signed int v4; // esi@3
  unsigned int v5; // eax@3
  int v6; // eax@5
  _BYTE *v7; // ecx@6
  int v8; // eax@9
  int v9; // ecx@10
  int v10; // eax@13
  int v11; // eax@21
  int v12; // eax@23
  _BYTE *v13; // edx@24
  int v14; // eax@25
  _BYTE *v15; // ecx@26
  int v16; // eax@27
  signed int result; // eax@32
  int v18; // eax@34
  int v19; // eax@36
  _BYTE *v20; // edx@37
  int v21; // eax@38
  _BYTE *v22; // ecx@39
  int v23; // eax@40
  signed int v24; // [sp+8h] [bp+4h]@3

  if ( !a1 || !*(_DWORD *)a1 )
    return -2;
  v2 = *(_DWORD *)(a1 + 24);
  v3 = -5;
  v4 = a2 != 4 ? 0 : 0xFFFFFFFB;
  v5 = *(_BYTE *)v2;
  v24 = a2 != 4 ? 0 : 0xFFFFFFFB;
  while ( 2 )
  {
    switch ( v5 )
    {
      case 0u:
        v6 = *(_DWORD *)(a1 + 4);
        if ( !v6 )
          goto LABEL_44;
        v7 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v6 - 1;
        *(_DWORD *)(v2 + 4) = *v7;
        ++*(_DWORD *)a1;
        v3 = v4;
        if ( (*(_DWORD *)(v2 + 4) & 0xF) != 8 || (unsigned int)((*(_DWORD *)(v2 + 4) >> 4) + 8) > *(_DWORD *)(v2 + 16) )
          goto LABEL_29;
        *(_BYTE *)v2 = 1;
        goto LABEL_9;
      case 1u:
LABEL_9:
        v8 = *(_DWORD *)(a1 + 4);
        if ( !v8 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v8 - 1;
        v9 = *(_BYTE *)(*(_DWORD *)a1)++;
        v3 = v4;
        if ( (v9 + (*(_DWORD *)(v2 + 4) << 8)) % 0x1Fu )
          goto LABEL_29;
        if ( !(v9 & 0x20) )
        {
          *(_BYTE *)v2 = 7;
LABEL_31:
          v5 = *(_BYTE *)v2;
          if ( v5 > 0xD )
            return -2;
          continue;
        }
        *(_BYTE *)v2 = 2;
LABEL_34:
        v18 = *(_DWORD *)(a1 + 4);
        if ( !v18 )
          goto LABEL_44;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v18 - 1;
        *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
        v3 = v4;
        *(_BYTE *)v2 = 3;
LABEL_36:
        v19 = *(_DWORD *)(a1 + 4);
        if ( !v19 )
          goto LABEL_44;
        v20 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v19 - 1;
        *(_DWORD *)(v2 + 8) += *v20 << 16;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 4;
LABEL_38:
        v21 = *(_DWORD *)(a1 + 4);
        if ( !v21 )
          goto LABEL_44;
        v22 = *(_BYTE **)a1;
        ++*(_DWORD *)(a1 + 8);
        *(_DWORD *)(a1 + 4) = v21 - 1;
        *(_DWORD *)(v2 + 8) += *v22 << 8;
        ++*(_DWORD *)a1;
        v3 = v4;
        *(_BYTE *)v2 = 5;
LABEL_40:
        v23 = *(_DWORD *)(a1 + 4);
        if ( v23 )
        {
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v23 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          *(_DWORD *)(a1 + 28) = *(_DWORD *)(v2 + 8);
          *(_BYTE *)v2 = 6;
          result = 2;
        }
        else
        {
LABEL_44:
          result = v3;
        }
        return result;
      case 7u:
        v10 = sub_1005E160(a1, *(_DWORD *)(v2 + 20), v3);
        v3 = v10;
        if ( v10 == -3 )
        {
          *(_DWORD *)(v2 + 4) = 0;
        }
        else
        {
          if ( !v10 )
            v3 = v4;
          if ( v3 != 1 )
            goto LABEL_44;
          v3 = v4;
          sub_1005D440((_DWORD *)(v2 + 4), *(_DWORD *)(v2 + 20), a1);
          v4 = v24;
          if ( *(_DWORD *)(v2 + 12) )
          {
            *(_BYTE *)v2 = 12;
            goto LABEL_31;
          }
          *(_BYTE *)v2 = 8;
LABEL_21:
          v11 = *(_DWORD *)(a1 + 4);
          if ( !v11 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v11 - 1;
          *(_DWORD *)(v2 + 8) = *(_BYTE *)(*(_DWORD *)a1)++ << 24;
          v3 = v4;
          *(_BYTE *)v2 = 9;
LABEL_23:
          v12 = *(_DWORD *)(a1 + 4);
          if ( !v12 )
            goto LABEL_44;
          v13 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v12 - 1;
          *(_DWORD *)(v2 + 8) += *v13 << 16;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 10;
LABEL_25:
          v14 = *(_DWORD *)(a1 + 4);
          if ( !v14 )
            goto LABEL_44;
          v15 = *(_BYTE **)a1;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v14 - 1;
          *(_DWORD *)(v2 + 8) += *v15 << 8;
          ++*(_DWORD *)a1;
          v3 = v4;
          *(_BYTE *)v2 = 11;
LABEL_27:
          v16 = *(_DWORD *)(a1 + 4);
          if ( !v16 )
            goto LABEL_44;
          ++*(_DWORD *)(a1 + 8);
          *(_DWORD *)(a1 + 4) = v16 - 1;
          *(_DWORD *)(v2 + 8) += *(_BYTE *)(*(_DWORD *)a1)++;
          v3 = v4;
          if ( *(_DWORD *)(v2 + 4) == *(_DWORD *)(v2 + 8) )
          {
            *(_BYTE *)v2 = 12;
            return 1;
          }
LABEL_29:
          *(_DWORD *)(v2 + 4) = 5;
        }
        *(_BYTE *)v2 = 13;
        goto LABEL_31;
      case 8u:
        goto LABEL_21;
      case 9u:
        goto LABEL_23;
      case 0xAu:
        goto LABEL_25;
      case 0xBu:
        goto LABEL_27;
      case 2u:
        goto LABEL_34;
      case 3u:
        goto LABEL_36;
      case 4u:
        goto LABEL_38;
      case 5u:
        goto LABEL_40;
      case 6u:
        *(_BYTE *)v2 = 13;
        *(_DWORD *)(v2 + 4) = 0;
        return -2;
      case 0xCu:
        return 1;
      case 0xDu:
        return -3;
      default:
        return -2;
    }
  }
}

//----- (1005EE70) --------------------------------------------------------
signed int __cdecl sub_1005EE70(int a1, int a2)
{
  return sub_1005EB40(a1, a2);
}

//----- (1005EE90) --------------------------------------------------------
int __cdecl sub_1005EE90(char a1, char a2)
{
  int v2; // esi@1
  int result; // eax@4

  v2 = dword_100C32E4[2 * sub_1004D960(&a1, 1u, (int)&unk_100C32E0, 8, 3, 3)];
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = v2 + dword_100C3324[2 * sub_1004D960(&a2, 1u, (int)&unk_100C3320, 8, 6, 6)];
    }
    else if ( a1 == 2 )
    {
      result = v2 + dword_100C3354[2 * sub_1004D960(&a2, 1u, (int)&unk_100C3350, 8, 5, 5)];
    }
    else
    {
      result = v2;
    }
  }
  else
  {
    result = v2 + dword_100C32FC[2 * sub_1004D960(&a2, 1u, (int)&unk_100C32F8, 8, 5, 5)];
  }
  return result;
}
// 100C32E4: using guessed type int dword_100C32E4[];
// 100C32FC: using guessed type int dword_100C32FC[];
// 100C3324: using guessed type int dword_100C3324[];
// 100C3354: using guessed type int dword_100C3354[];

//----- (1005EF40) --------------------------------------------------------
bool __usercall sub_1005EF40@<al>(unsigned __int8 a1@<al>, char a2, unsigned __int8 a3)
{
  return a2 == 7 && a3 >= (unsigned __int8)byte_100CDAE7[44 * a1] - (unsigned __int8)byte_100CDAE2[44 * a1];
}

//----- (1005EF70) --------------------------------------------------------
char __usercall sub_1005EF70@<al>(unsigned __int8 a1@<bl>, size_t a2@<edi>, int a3@<esi>, char a4, unsigned __int8 a5, void *a6)
{
  int v6; // eax@2
  char result; // al@3
  int v8; // eax@4

  if ( sub_1005EF40(a1, a4, a5) )
  {
    v6 = a3
       + sub_1005EE90(a1, 6)
       + 36 * (a5 + (unsigned __int8)byte_100CDAE2[44 * a1] - (unsigned __int8)byte_100CDAE7[44 * a1]);
    if ( *(_BYTE *)(v6 + 2) == 6 )
    {
      memcpy_0(a6, (const void *)(v6 + 4), a2);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    v8 = sub_1005EE90(a1, a4);
    memcpy_0(a6, (const void *)(a3 + v8 + a2 * a5), a2);
    result = 1;
  }
  return result;
}

//----- (1005F010) --------------------------------------------------------
char __cdecl sub_1005F010(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_100558C0(a1);
  sub_10017B00(v5, (int)&v7, 3684);
  return sub_1005EF70(a2, 0x2Cu, (int)&v7, a3, a4, a5);
}

//----- (1005F090) --------------------------------------------------------
char __cdecl sub_1005F090(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_100558C0(a1);
  sub_10017B00(v5, (int)&v7, 3684);
  return sub_1005EF70(a2, 3u, (int)&v7, a3, a4, a5);
}

//----- (1005F110) --------------------------------------------------------
char __cdecl sub_1005F110(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_100558C0(a1);
  sub_10017B00(v5, (int)&v7, 3684);
  return sub_1005EF70(a2, 0x24u, (int)&v7, a3, a4, a5);
}

//----- (1005F190) --------------------------------------------------------
char __cdecl sub_1005F190(char a1, unsigned __int8 a2, char a3, unsigned __int8 a4, void *a5)
{
  int v5; // eax@1
  char v7; // [sp+Ch] [bp-E64h]@1

  memset(&v7, 0, 0xE64u);
  v5 = sub_100558C0(a1);
  sub_10017B00(v5, (int)&v7, 3684);
  return sub_1005EF70(a2, 0xCu, (int)&v7, a3, a4, a5);
}

//----- (1005F210) --------------------------------------------------------
char __cdecl sub_1005F210(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xC:
    case 0x3F:
      result = 0;
      break;
    case 0xD:
    case 0x40:
      result = 1;
      break;
    case 0xE:
    case 0x41:
      result = 2;
      break;
    case 0x2A:
    case 0x42:
      result = 3;
      break;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\gea\\iop_gea_cnfg_utl.c", 139, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (1005F2B0) --------------------------------------------------------
BOOL __cdecl sub_1005F2B0(unsigned __int8 a1)
{
  return a1 <= 1u;
}

//----- (1005F2C0) --------------------------------------------------------
BOOL __usercall sub_1005F2C0@<eax>(unsigned __int8 a1@<al>, char a2)
{
  _BYTE *v2; // ecx@1

  return (unsigned __int8)sub_1005F2B0(a1) && *v2 < 3u && a2 == 24;
}

//----- (1005F2F0) --------------------------------------------------------
bool __cdecl sub_1005F2F0(char a1, char a2, unsigned __int8 a3, int a4)
{
  bool v4; // bl@1
  unsigned __int8 v5; // cl@2
  int v6; // esi@3
  char v8; // al@16
  char v9; // cl@16
  char v10; // dl@16
  int v11; // ecx@18
  int v12; // edx@18
  int v13; // eax@18
  char v14; // [sp+Bh] [bp-29h]@3
  int v15; // [sp+Ch] [bp-28h]@9
  struct tm Tm; // [sp+10h] [bp-24h]@5

  v4 = 0;
  if ( a3 < 3u )
  {
    if ( (unsigned __int8)sub_1005F2B0(a1) )
    {
      v6 = 10 * v5;
      if ( sub_100514A0((unsigned __int8)byte_100C4280[20 * v5], (bool *)&v14) )
      {
        if ( v14 )
        {
          if ( !sub_1004EFA0(1, (unsigned __int16)word_100C4278[v6], &Tm.tm_mon) || sub_10050F40((int)&Tm.tm_mon) )
            return 0;
          v4 = 1;
        }
        else
        {
          if ( !(unsigned __int8)sub_10055A00(a1, &v15) || v15 != dword_100C4298[2 * a3] || a2 == 11 )
            return v4;
          Tm.tm_sec = 0;
          Tm.tm_min = 0;
          Tm.tm_hour = 0;
          LOBYTE(Tm.tm_mday) = 0;
          v4 = sub_1004EFA0(1, (unsigned __int16)word_100C427C[v6], &Tm) && !_mkgmtime(&Tm);
          v8 = BYTE1(Tm.tm_hour);
          v9 = BYTE2(Tm.tm_min);
          *((_BYTE *)&Tm.tm_mon + 4 * a3) = Tm.tm_min;
          v10 = BYTE2(Tm.tm_hour);
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 2) = v8;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 1) = v9;
          *((_BYTE *)&Tm.tm_mon + 4 * a3 + 3) = v10;
          if ( !v4 )
            return v4;
        }
        if ( a2 == 11 )
        {
          v11 = Tm.tm_year;
          v12 = Tm.tm_wday;
          *(_DWORD *)a4 = Tm.tm_mon;
          v13 = Tm.tm_yday;
          *(_DWORD *)(a4 + 4) = v11;
          *(_DWORD *)(a4 + 8) = v12;
          *(_DWORD *)(a4 + 12) = v13;
          return v4;
        }
        *(_DWORD *)a4 = *(&Tm.tm_mon + a3);
      }
    }
  }
  return v4;
}
// 100C4278: using guessed type __int16 word_100C4278[];
// 100C427C: using guessed type __int16 word_100C427C[];
// 100C4298: using guessed type int dword_100C4298[];

//----- (1005F4A0) --------------------------------------------------------
bool __cdecl sub_1005F4A0(unsigned __int8 a1, int a2)
{
  bool v2; // dl@1
  unsigned __int8 v3; // cl@1
  bool result; // al@2

  if ( (unsigned __int8)sub_1005F2B0(a1) )
    result = sub_10017AE0((unsigned __int16)word_100C4282[10 * v3], a2, 32) == 0;
  else
    result = v2;
  return result;
}
// 100C4282: using guessed type __int16 word_100C4282[];

//----- (1005F4E0) --------------------------------------------------------
bool __cdecl sub_1005F4E0(char a1, char a2, char a3, unsigned __int8 *a4, _DWORD *a5, int a6)
{
  unsigned __int8 v6; // dl@1
  bool result; // al@4
  char v8; // [sp+13h] [bp-29h]@5
  unsigned int v9; // [sp+14h] [bp-28h]@1
  char v10; // [sp+18h] [bp-24h]@7
  int v11[7]; // [sp+1Ch] [bp-20h]@8

  LOBYTE(v9) = sub_10055950(a1);
  if ( !(unsigned __int8)sub_1005F2C0(v9, a3) || a6 != 4 )
    goto LABEL_12;
  if ( !a2 )
    return sub_1005F2F0(v9, a3, *a4, (int)a5);
  if ( sub_100514A0((unsigned __int8)byte_100C4280[20 * v6], (bool *)&v8) && v8 && sub_1005F4A0(v9, (int)&v10) )
  {
    *a5 = v11[*a4];
    result = 1;
  }
  else
  {
LABEL_12:
    result = 0;
  }
  return result;
}
// 1005F4E0: using guessed type int var_20[7];

//----- (1005F5D0) --------------------------------------------------------
bool __cdecl sub_1005F5D0(unsigned __int8 a1, char a2, unsigned int a3)
{
  int v3; // eax@1
  bool result; // al@5

  v3 = sub_1004D960(&a2, 4u, (int)&dword_100C5128, 12, 3, 3);
  if ( a3 < 0xFFFFFFC2 && a3 && v3 < 3 && a1 < 2u )
  {
    result = sub_10017AE0((unsigned __int16)word_100C512C[a1 + 6 * v3], a3, (unsigned __int16)word_100C5130[6 * v3]) == 0;
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\iop\\gtx\\iop_gtx_intf.c", 254, 0, 0);
    result = 0;
  }
  return result;
}
// 100C5128: using guessed type int dword_100C5128;
// 100C512C: using guessed type __int16 word_100C512C[];
// 100C5130: using guessed type __int16 word_100C5130[];

//----- (1005F660) --------------------------------------------------------
bool __cdecl sub_1005F660(char a1, char a2, char a3, int a4, unsigned int a5, unsigned int a6)
{
  int v6; // eax@1
  int v7; // eax@7
  unsigned int v8; // edx@7
  int v9; // eax@7
  bool result; // al@9
  unsigned __int8 v11; // [sp+4h] [bp-4h]@1

  v11 = sub_1005F700(a1);
  v6 = sub_1004D960(&a3, 1u, (int)&unk_100C514C, 8, 3, 3);
  if ( v6 < 3 )
    v6 = sub_1004D960(&dword_100C5150[2 * v6], 4u, (int)&dword_100C5128, 12, 3, 3);
  if ( a5 < 0xFFFFFFC2
    && a5
    && v6 < 3
    && v11 < 2u
    && (v7 = 6 * v6, v8 = (unsigned __int16)word_100C5130[v7], v9 = 2 * v7, a6 >= v8)
    && a2 == 1 )
  {
    result = sub_1005F5D0(v11, *(int *)((char *)&dword_100C5128 + v9), a5);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 100C5128: using guessed type int dword_100C5128;
// 100C5130: using guessed type __int16 word_100C5130[];

//----- (1005F700) --------------------------------------------------------
char __cdecl sub_1005F700(char a1)
{
  char result; // al@2

  switch ( a1 )
  {
    case 0xA:
    case 0x30:
      result = 0;
      break;
    case 0xB:
    case 0x31:
      result = 1;
      break;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_utl.c", 155, 0, 0);
      result = 2;
      break;
  }
  return result;
}

//----- (1005F780) --------------------------------------------------------
char __cdecl sub_1005F780(char a1, int a2)
{
  char v2; // cl@1
  char v3; // dl@1
  int v4; // eax@1
  int v5; // ecx@1
  int v6; // edx@1
  int v7; // eax@1
  int v8; // ecx@1
  int v9; // eax@1
  int v10; // ecx@1
  bool v11; // zf@1
  int v12; // eax@3
  int v13; // ecx@3
  char v14; // dl@3
  __int16 v15; // ax@5
  char v16; // dl@5
  int v18; // [sp+4h] [bp-58h]@1
  char v19; // [sp+8h] [bp-54h]@1
  __int64 v20; // [sp+Ch] [bp-50h]@1
  int v21; // [sp+14h] [bp-48h]@1
  int v22; // [sp+18h] [bp-44h]@1
  char v23; // [sp+1Ch] [bp-40h]@1
  __int16 v24; // [sp+1Eh] [bp-3Eh]@1
  int v25; // [sp+20h] [bp-3Ch]@4
  int v26; // [sp+24h] [bp-38h]@4
  char v27; // [sp+28h] [bp-34h]@4
  char v28; // [sp+2Ah] [bp-32h]@1
  char v29; // [sp+2Bh] [bp-31h]@1
  int v30; // [sp+2Ch] [bp-30h]@1
  int v31; // [sp+30h] [bp-2Ch]@1
  int v32; // [sp+34h] [bp-28h]@1
  int v33; // [sp+38h] [bp-24h]@1
  int v34; // [sp+3Ch] [bp-20h]@1
  int v35; // [sp+40h] [bp-1Ch]@1
  int v36; // [sp+44h] [bp-18h]@1
  int v37; // [sp+48h] [bp-14h]@1
  int v38; // [sp+4Ch] [bp-10h]@1
  int v39; // [sp+50h] [bp-Ch]@1
  int v40; // [sp+54h] [bp-8h]@1

  memset(&v23, 0, 0x3Cu);
  v20 = 0i64;
  v21 = 0;
  v22 = 0;
  v18 = 0;
  v19 = 0;
  sub_10055CB0(a1, (int)&v23);
  v2 = v28;
  v3 = v29;
  *(_WORD *)a2 = v24;
  *(_DWORD *)(a2 + 28) = v33;
  v4 = v36;
  *(_BYTE *)(a2 + 12) = v2;
  *(_DWORD *)(a2 + 32) = v34;
  v5 = v37;
  *(_BYTE *)(a2 + 13) = v3;
  *(_DWORD *)(a2 + 36) = v35;
  v6 = v38;
  *(_DWORD *)(a2 + 40) = v4;
  v7 = v30;
  *(_DWORD *)(a2 + 44) = v5;
  v8 = v31;
  *(_DWORD *)(a2 + 16) = v7;
  v9 = v39;
  *(_DWORD *)(a2 + 20) = v8;
  v10 = v40;
  *(_DWORD *)(a2 + 48) = v6;
  v11 = BYTE3(v30) == 1;
  *(_DWORD *)(a2 + 24) = v32;
  *(_DWORD *)(a2 + 52) = v9;
  *(_DWORD *)(a2 + 56) = v10;
  if ( !v11 || sub_10017AE0(2105, (int)&v20, 16) )
  {
    v12 = v25;
    v13 = v26;
    v14 = v27;
  }
  else
  {
    v13 = *(_DWORD *)((char *)&v20 + 6);
    v12 = *(_DWORD *)((char *)&v20 + 2);
    v14 = BYTE2(v21);
  }
  *(_DWORD *)(a2 + 2) = v12;
  *(_DWORD *)(a2 + 6) = v13;
  *(_BYTE *)(a2 + 10) = v14;
  sub_10055CD0((int)&v18);
  LOBYTE(v15) = v19;
  v16 = v18;
  v11 = (v19 & 1) == 0;
  *(_BYTE *)(a2 + 63) = BYTE3(v18);
  *(_BYTE *)(a2 + 60) = v16;
  *(_BYTE *)(a2 + 64) = 0;
  if ( !v11 )
    *(_BYTE *)(a2 + 64) = 1;
  *(_BYTE *)(a2 + 65) = 0;
  if ( v15 & 4 )
    *(_BYTE *)(a2 + 65) = 1;
  *(_BYTE *)(a2 + 66) = 0;
  if ( v15 & 2 )
  {
    v15 = *(_WORD *)((char *)&v18 + 1);
    *(_BYTE *)(a2 + 66) = 1;
    *(_WORD *)(a2 + 61) = v15;
  }
  else
  {
    *(_WORD *)(a2 + 61) = *(_WORD *)((char *)&v18 + 1);
  }
  return v15;
}

//----- (1005F8F0) --------------------------------------------------------
int __usercall sub_1005F8F0@<eax>(char a1@<cl>, int *a2@<esi>, unsigned __int16 a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@1
  int v5[10]; // [sp+1Ch] [bp-2Ch]@1

  sub_1005F780(a1, (int)&v4);
  result = v5[a3];
  *a2 = result;
  return result;
}
// 1005F8F0: using guessed type int var_2C[10];

//----- (1005F930) --------------------------------------------------------
int __usercall sub_1005F930@<eax>(unsigned __int8 a1@<bl>, int *a2@<esi>, int a3)
{
  int result; // eax@1
  char v4; // [sp+0h] [bp-48h]@3
  int v5[4]; // [sp+34h] [bp-14h]@3

  result = a3;
  if ( (unsigned __int8)a3 < 2u && a1 < 2u )
  {
    sub_1005F780(a3, (int)&v4);
    result = v5[a1];
    *a2 = result;
  }
  return result;
}
// 1005F930: using guessed type int var_14[4];

//----- (1005F970) --------------------------------------------------------
signed int sub_1005F970()
{
  return sub_10018100((int)&off_100C6FF0);
}
// 100C6FF0: using guessed type char *off_100C6FF0;

//----- (1005F980) --------------------------------------------------------
char __cdecl sub_1005F980(unsigned __int8 a1, unsigned __int16 a2, int a3)
{
  int v3; // esi@2
  char result; // al@2

  if ( (unsigned __int8)sub_1005F970() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_10504EC0 + 4 * v3 + 29);
    *(_BYTE *)a3 = *(_BYTE *)(dword_10504EC0 + 4 * v3 + 28);
    result = *(_BYTE *)(a2 + 2 * (3 * a1 + 72) + dword_10504EC0);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504EC0: using guessed type int dword_10504EC0;

//----- (1005F9E0) --------------------------------------------------------
char __cdecl sub_1005F9E0(char a1, void *a2)
{
  int v2; // edx@4
  char result; // al@20

  if ( (unsigned __int8)sub_1005F970() )
  {
    if ( (sub_10055CF0(a1)
       || *(_BYTE *)(dword_10504EC0 + 2 * (3 * (unsigned __int8)a1 + 72))
       && (v2 = dword_10504EC0 + 6 * (unsigned __int8)a1, *(_BYTE *)(dword_10504EC0 + 6 * (unsigned __int8)a1 + 145))
       && *(_BYTE *)(v2 + 146)
       && *(_BYTE *)(v2 + 147)
       && *(_BYTE *)(v2 + 148)
       && *(_BYTE *)(v2 + 149)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 142)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 170)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 168)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 166)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 172)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 174)
       && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 176))
      && *(_BYTE *)(dword_10504EC0 + 2 * (unsigned __int8)a1 + 158)
      && *(_BYTE *)(dword_10504EC0 + 2 * (unsigned __int8)a1 + 159)
      && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 156)
      && *(_BYTE *)((unsigned __int8)a1 + dword_10504EC0 + 162) )
    {
      qmemcpy(a2, (const void *)(dword_10504EC0 + 68 * (unsigned __int8)a1), 0x44u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504EC0: using guessed type int dword_10504EC0;

//----- (1005FB00) --------------------------------------------------------
char __cdecl sub_1005FB00(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@2
  char result; // al@2

  if ( (unsigned __int8)sub_1005F970() )
  {
    v3 = a1 + a2 + 16 * a1;
    *(_BYTE *)(a3 + 2) = *(_BYTE *)(dword_10504EC0 + 4 * v3 + 54);
    *(_BYTE *)a3 = *(_BYTE *)(dword_10504EC0 + 4 * v3 + 52);
    *(_BYTE *)(a3 + 1) = *(_BYTE *)(dword_10504EC0 + 4 * v3 + 53);
    *(_BYTE *)(a3 + 3) = *(_BYTE *)(dword_10504EC0 + 4 * v3 + 55);
    result = *(_BYTE *)(a2 + 2 * a1 + 158 + dword_10504EC0);
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10504EC0: using guessed type int dword_10504EC0;

//----- (1005FB80) --------------------------------------------------------
char __cdecl sub_1005FB80(int a1, char a2, char a3, unsigned __int8 *a4, int *a5, unsigned int a6)
{
  char v6; // cl@2
  char result; // al@7
  unsigned __int16 v8; // ax@13

  if ( (_BYTE)a1 == 10 )
  {
    v6 = 0;
  }
  else
  {
    if ( (_BYTE)a1 != 11 )
    {
      sub_100175E0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 703, 0, 0);
      return 0;
    }
    v6 = 1;
  }
  LOBYTE(a1) = v6;
  switch ( a3 )
  {
    case 0:
      if ( a6 >= 4 )
      {
        if ( a2 )
        {
          sub_1005F930(*a4, a5, a1);
          result = 1;
        }
        else
        {
          result = sub_1005FB00(v6, *a4, (int)a5);
        }
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 718, 0, 0);
        result = 0;
      }
      break;
    case 2:
      if ( a6 >= 4 )
      {
        v8 = *a4;
        if ( a2 )
        {
          sub_1005F8F0(v6, a5, v8);
          result = 1;
        }
        else
        {
          result = sub_1005F980(v6, v8, (int)a5);
        }
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 750, 0, 0);
        result = 0;
      }
      break;
    case 0xB:
    case 0x12:
    case 0x1C:
      if ( a6 >= 0x44 )
      {
        if ( a2 )
        {
          sub_1005F780(v6, (int)a5);
          result = 1;
        }
        else
        {
          result = sub_1005F9E0(v6, a5);
        }
      }
      else
      {
        sub_100175E0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 784, 0, 0);
        result = 0;
      }
      break;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\iop_xpdr_cnfg_intf.c", 809, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (1005FD30) --------------------------------------------------------
int __cdecl sub_1005FD30(char a1)
{
  return sub_1004D960(&a1, 1u, (int)"7", 8, 2, 2);
}

//----- (1005FD50) --------------------------------------------------------
BOOL __cdecl sub_1005FD50(int a1, void *a2)
{
  int v2; // esi@1
  char v4; // [sp+4h] [bp-18h]@2
  int v5; // [sp+18h] [bp-4h]@3

  v2 = sub_10055EB0(a1);
  return sub_1004EFA0(0, 604, a2) && sub_1004E970(0, 0x25Cu, (int)&v4) && (v2 & v5) == v2;
}

//----- (1005FDB0) --------------------------------------------------------
int __usercall sub_1005FDB0@<eax>(char a1@<al>)
{
  unsigned __int8 v1; // al@1
  int result; // eax@2

  v1 = sub_1005FD30(a1);
  if ( v1 >= 2u )
    result = 42066;
  else
    result = dword_100C7034[2 * v1];
  return result;
}
// 100C7034: using guessed type int dword_100C7034[];

//----- (1005FDE0) --------------------------------------------------------
BOOL __cdecl sub_1005FDE0(char a1, int a2)
{
  int v2; // eax@1

  v2 = sub_1005FDB0(a1);
  return sub_10017AE0(v2, a2, 16) == 0;
}

//----- (1005FE10) --------------------------------------------------------
int __cdecl sub_1005FE10(int a1, char a2, int a3, int a4, void *a5)
{
  int result; // eax@2

  if ( a2 )
    result = sub_1005FDE0(a1, (int)a5);
  else
    result = sub_1005FD50(a1, a5);
  return result;
}

//----- (1005FE40) --------------------------------------------------------
char __cdecl sub_1005FE40(void *a1)
{
  int v1; // ecx@0
  int v3; // [sp+0h] [bp-4h]@1

  v3 = v1;
  return sub_1004EFD0(1, 1947, a1, (int)&v3);
}

//----- (1005FE60) --------------------------------------------------------
BOOL __cdecl sub_1005FE60(int a1)
{
  return sub_10017AE0(6792, a1, 284) == 0;
}

//----- (1005FE80) --------------------------------------------------------
char __cdecl sub_1005FE80(int a1, char a2, int a3, int a4, void *a5)
{
  char result; // al@2

  if ( a2 )
    result = sub_1005FE60((int)a5);
  else
    result = sub_1005FE40(a5);
  return result;
}

//----- (1005FEB0) --------------------------------------------------------
bool __cdecl sub_1005FEB0(char a1, void *a2)
{
  memset(a2, 0, 0x2890u);
  return sub_10017AE0((a1 != 36) + 6534, (int)a2, 10384) == 0;
}

//----- (1005FEF0) --------------------------------------------------------
signed int __usercall sub_1005FEF0@<eax>(char a1@<al>)
{
  return a1 != 36 ? 0x20000 : 0x10000;
}

//----- (1005FF10) --------------------------------------------------------
bool __cdecl sub_1005FF10(char a1, void *a2)
{
  int v2; // esi@1
  bool result; // al@5
  void *v4; // ecx@6
  int v5; // [sp+Ch] [bp-28h]@4
  char v6; // [sp+10h] [bp-24h]@2
  int v7; // [sp+24h] [bp-10h]@3
  __int16 v8; // [sp+28h] [bp-Ch]@8
  int v9; // [sp+2Ch] [bp-8h]@8

  v2 = sub_1005FEF0(a1);
  if ( (v2 & j_HWM_pvg_hsdb_get_lrus_online()) == v2
    && sub_1004E970(1, 0x6ACu, (int)&v6)
    && v7 == v2
    && sub_1004EFD0(1, 1708, a2, (int)&v5) )
  {
    result = 1;
  }
  else if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    result = sub_1005FEB0(a1, a2);
  }
  else
  {
    v9 = sub_1004E1E0(v4);
    v8 = 1708;
    sub_1004EAD0(1, 0, &v8, 0, 8, 1);
    sub_1004EC10(1, 0, v2);
    result = 0;
  }
  return result;
}
// 10017A50: using guessed type int j_HWM_pvg_hsdb_get_lrus_online(void);
// 10017A70: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);

//----- (10060000) --------------------------------------------------------
bool __cdecl sub_10060000(char a1, char a2, int a3, int a4, void *a5)
{
  bool result; // al@2

  if ( a2 )
    result = sub_1005FEB0(a1, a5);
  else
    result = sub_1005FF10(a1, a5);
  return result;
}

//----- (10060030) --------------------------------------------------------
char __cdecl sub_10060030(char a1, unsigned __int8 a2, int a3)
{
  int v3; // eax@3
  char v4; // dl@3

  memset(byte_101B8F10, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 215, 0, 0);
  }
  else
  {
    sub_10055C80(a1, (int)byte_101B8F10);
    v3 = 4 * a2 - 64;
    v4 = byte_101B8F11[v3];
    *(_BYTE *)(a3 + 1) = v4;
    *(_BYTE *)a3 = byte_101B8F10[v3];
    if ( (unsigned __int8)v4 < 0x23u
      || (unsigned __int8)v4 >= 0x64u && (unsigned __int8)v4 <= 0x81u
      || (unsigned __int8)v4 >= 0x96u && (unsigned __int8)v4 <= 0x9Bu )
    {
      return 1;
    }
  }
  return 0;
}

//----- (100600D0) --------------------------------------------------------
bool __cdecl sub_100600D0(char a1, unsigned __int8 a2, int a3)
{
  char *v3; // eax@3
  bool result; // al@3

  memset(byte_101B8F10, 0, 0x890u);
  if ( (unsigned __int8)a1 >= 3u || a2 >= 0x2Du )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 340, 0, 0);
    result = 0;
  }
  else
  {
    sub_10055C80(a1, (int)byte_101B8F10);
    v3 = (char *)&unk_101B8FB0 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v3;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v3 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v3 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v3 + 3);
    result = *(_WORD *)(a3 + 2) < 0x319u;
  }
  return result;
}

//----- (10060150) --------------------------------------------------------
char __cdecl sub_10060150(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_101B8F10, 0, 0x890u);
  sub_10055C80(a1, (int)byte_101B8F10);
  if ( a2 > 0x10u )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 512, 0, 0);
    result = 0;
  }
  else
  {
    *(_DWORD *)a3 = dword_101B9280[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_101B9284[2 * a2];
    result = 1;
  }
  return result;
}
// 101B9280: using guessed type int dword_101B9280[];
// 101B9284: using guessed type int dword_101B9284[];

//----- (100601C0) --------------------------------------------------------
char __cdecl sub_100601C0(char a1, void *a2)
{
  char result; // al@4

  if ( a1 )
  {
    if ( a1 == 1 )
    {
      result = sub_1004EFA0(0, 227, a2);
    }
    else if ( a1 == 2 )
    {
      result = sub_1004EFA0(0, 572, a2);
    }
    else
    {
      sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 991, 0, 0);
      result = 0;
    }
  }
  else
  {
    result = sub_1004EFA0(0, 226, a2);
  }
  return result;
}

//----- (10060240) --------------------------------------------------------
char __cdecl sub_10060240(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  int v4; // ecx@3

  memset(byte_101B8F10, 0, 0x890u);
  if ( a1 >= 3u || (unsigned __int8)(a2 - 16) > 0x27u )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 153, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_100601C0(a1, byte_101B8F10);
    v4 = 4 * a2 - 64;
    *(_BYTE *)(a3 + 1) = byte_101B8F11[v4];
    *(_BYTE *)a3 = byte_101B8F10[v4];
  }
  return result;
}

//----- (100602C0) --------------------------------------------------------
char __cdecl sub_100602C0(unsigned __int8 a1, unsigned __int8 a2, int a3)
{
  char result; // al@3
  char *v4; // ecx@3

  memset(byte_101B8F10, 0, 0x890u);
  if ( a1 >= 3u || a2 >= 0x2Du )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 280, 0, 0);
    result = 0;
  }
  else
  {
    result = sub_100601C0(a1, byte_101B8F10);
    v4 = (char *)&unk_101B8FB0 + 16 * a2;
    *(_DWORD *)a3 = *(_DWORD *)v4;
    *(_DWORD *)(a3 + 4) = *((_DWORD *)v4 + 1);
    *(_DWORD *)(a3 + 8) = *((_DWORD *)v4 + 2);
    *(_DWORD *)(a3 + 12) = *((_DWORD *)v4 + 3);
  }
  return result;
}

//----- (10060340) --------------------------------------------------------
char __cdecl sub_10060340(char a1, unsigned __int8 a2, int a3)
{
  char result; // al@2

  memset(byte_101B8F10, 0, 0x890u);
  if ( a2 <= 0x10u )
  {
    result = sub_100601C0(a1, byte_101B8F10);
    *(_DWORD *)a3 = dword_101B9280[2 * a2];
    *(_DWORD *)(a3 + 4) = dword_101B9284[2 * a2];
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 445, 0, 0);
    result = 0;
  }
  return result;
}
// 101B9280: using guessed type int dword_101B9280[];
// 101B9284: using guessed type int dword_101B9284[];

//----- (100603B0) --------------------------------------------------------
char __cdecl sub_100603B0(char a1, char a2, char a3, unsigned __int8 *a4, int a5)
{
  char result; // al@6
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10061210(a1);
  if ( v6 == 3 )
    return 0;
  if ( a3 == 1 )
  {
    if ( a2 )
      result = sub_10060150(v6, *a4, a5);
    else
      result = sub_10060340(v6, *a4, a5);
  }
  else if ( a3 == 2 )
  {
    if ( a2 )
      result = sub_10060030(v6, *a4, a5);
    else
      result = sub_10060240(v6, *a4, a5);
  }
  else
  {
    if ( a3 != 3 )
    {
      sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_cnfg_intf.c", 915, 0, 0);
      return 0;
    }
    if ( a2 )
      result = sub_100600D0(v6, *a4, a5);
    else
      result = sub_100602C0(v6, *a4, a5);
  }
  return result;
}

//----- (100604C0) --------------------------------------------------------
char __cdecl sub_100604C0(char a1, void *a2)
{
  return sub_1004EFA0(6, (unsigned __int16)word_100C806A[8 * (unsigned __int8)a1], a2);
}
// 100C806A: using guessed type __int16 word_100C806A[];

//----- (100604E0) --------------------------------------------------------
bool __cdecl sub_100604E0(unsigned __int8 a1, char *a2)
{
  int v2; // eax@1
  char v4; // [sp+8h] [bp-30h]@1

  v2 = sub_10017AE0(dword_100C8070[4 * a1], (int)&v4, 48);
  qmemcpy(a2, &v4, 0x2Cu);
  return v2 == 0;
}
// 100C8070: using guessed type int dword_100C8070[];

//----- (10060520) --------------------------------------------------------
char __cdecl sub_10060520(int a1, char a2, int a3, int a4, void *a5)
{
  char result; // al@2
  char v6; // [sp+0h] [bp-4h]@1

  v6 = sub_10061250(a1);
  if ( a2 )
    result = sub_100604E0(v6, (char *)a5);
  else
    result = sub_100604C0(v6, a5);
  return result;
}

//----- (10060560) --------------------------------------------------------
BOOL sub_10060560()
{
  char v1; // [sp+0h] [bp-78h]@1

  return sub_100513E0(69, &v1) && !strncmp(&v1, "006-B0756-", 0xAu);
}

//----- (100605C0) --------------------------------------------------------
char __cdecl sub_100605C0(int a1, char *a2)
{
  char result; // al@5
  char v3; // [sp+13h] [bp-7Dh]@1
  char v4; // [sp+14h] [bp-7Ch]@1
  char v5; // [sp+15h] [bp-7Bh]@2
  int v6; // [sp+30h] [bp-60h]@2
  int v7; // [sp+34h] [bp-5Ch]@2
  int v8; // [sp+38h] [bp-58h]@2
  int v9; // [sp+3Ch] [bp-54h]@2
  int v10; // [sp+40h] [bp-50h]@2
  __int16 v11; // [sp+44h] [bp-4Ch]@2
  char v12; // [sp+46h] [bp-4Ah]@2
  char v13; // [sp+47h] [bp-49h]@2
  float v14; // [sp+48h] [bp-48h]@2
  char v15; // [sp+4Ch] [bp-44h]@2
  char v16; // [sp+4Dh] [bp-43h]@2
  char v17; // [sp+4Eh] [bp-42h]@2
  char v18; // [sp+50h] [bp-40h]@1

  memset(&v18, 0, 0x3Cu);
  v3 = sub_1004EFA0(1, 292, &v18);
  qmemcpy(&v4, &v18, 0x3Cu);
  if ( !(unsigned __int8)sub_10060560() )
  {
    v6 = -1;
    v14 = 77.166664;
    v7 = -1;
    v8 = -1;
    v9 = -1;
    v5 = 1;
    v12 = 0;
    v13 = 1;
    v4 = 0;
    v15 = 0;
    v16 = 0;
    v17 = 0;
    v10 = 0;
    v11 = 0;
  }
  if ( !v3 || sub_10050BE0((int)&v4) )
  {
    result = 0;
  }
  else
  {
    result = 1;
    qmemcpy(a2, &v18, 0x3Cu);
  }
  return result;
}

//----- (100606B0) --------------------------------------------------------
BOOL __cdecl sub_100606B0(int a1, int a2)
{
  return sub_10017AE0(6200, a2, 60) == 0;
}

//----- (100606D0) --------------------------------------------------------
char __cdecl sub_100606D0(int a1, char a2, int a3, int a4, char *a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_100606B0(a1, (int)a5);
  }
  else
  {
    result = sub_100605C0(a1, a5);
  }
  return result;
}

//----- (10060710) --------------------------------------------------------
char __cdecl sub_10060710(int a1, int a2)
{
  int v2; // ecx@3
  int v3; // edx@3
  int v4; // ecx@3
  char result; // al@3
  int v6; // [sp+4h] [bp-1Ch]@1
  int v7; // [sp+8h] [bp-18h]@1
  int v8; // [sp+Ch] [bp-14h]@1
  int v9; // [sp+10h] [bp-10h]@1
  int v10; // [sp+14h] [bp-Ch]@1
  __int16 v11; // [sp+18h] [bp-8h]@1
  char v12; // [sp+1Ah] [bp-6h]@1

  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  if ( !sub_1004EFA0(2, 284, &v6) || sub_10050DB0((int)&v6) )
  {
    result = 0;
  }
  else
  {
    v2 = v8;
    *(_DWORD *)a2 = v7;
    v3 = v9;
    *(_DWORD *)(a2 + 4) = v2;
    v4 = v10;
    *(_DWORD *)(a2 + 8) = v3;
    LOWORD(v3) = v11;
    *(_DWORD *)(a2 + 12) = v4;
    LOBYTE(v4) = v12;
    *(_WORD *)(a2 + 16) = v3;
    *(_BYTE *)(a2 + 18) = v4;
    result = 1;
  }
  return result;
}

//----- (100607C0) --------------------------------------------------------
BOOL __cdecl sub_100607C0(int a1, int a2)
{
  return sub_10017AE0(6169, a2, 40) == 0;
}

//----- (100607E0) --------------------------------------------------------
char __cdecl sub_100607E0(int a1, char a2, int a3, int a4, int a5)
{
  char result; // al@1

  result = 0;
  if ( a2 )
  {
    if ( a2 == 1 )
      result = sub_100607C0(a1, a5);
  }
  else
  {
    result = sub_10060710(a1, a5);
  }
  return result;
}

//----- (10060820) --------------------------------------------------------
char __cdecl sub_10060820(void *a1)
{
  *(_DWORD *)a1 = 0;
  return sub_1004EFA0(2, 363, a1);
}

//----- (10060840) --------------------------------------------------------
char __cdecl sub_10060840(void *a1)
{
  int v1; // edx@2
  int v2; // eax@2
  int v3; // ecx@2
  int v4; // eax@2
  int v5; // ecx@2
  void *v6; // esi@2
  signed int v7; // edi@2
  char *v8; // eax@4
  signed int v9; // edx@4
  char result; // al@6
  char v11; // [sp+8h] [bp-208h]@1
  int v12; // [sp+47h] [bp-1C9h]@2
  int v13; // [sp+4Bh] [bp-1C5h]@2
  int v14; // [sp+4Fh] [bp-1C1h]@2
  int v15; // [sp+53h] [bp-1BDh]@2
  int v16; // [sp+58h] [bp-1B8h]@2
  int v17; // [sp+5Ch] [bp-1B4h]@2
  __int16 v18; // [sp+60h] [bp-1B0h]@2
  char v19; // [sp+62h] [bp-1AEh]@2
  char v20; // [sp+B6h] [bp-15Ah]@2
  char v21; // [sp+F6h] [bp-11Ah]@2

  *(_DWORD *)a1 = 0;
  if ( sub_10017AE0(6444, (int)&v11, 514) )
  {
    result = 0;
  }
  else
  {
    v1 = v13;
    v2 = v14;
    *((_DWORD *)a1 + 3330) = v12;
    v3 = v15;
    *((_DWORD *)a1 + 3331) = v1;
    LOWORD(v1) = v18;
    *((_DWORD *)a1 + 3332) = v2;
    v4 = v16;
    *((_DWORD *)a1 + 3333) = v3;
    qmemcpy((char *)a1 + 13340, &v19, 0x54u);
    v5 = v17;
    *((_WORD *)a1 + 6668) = v1;
    LOBYTE(v1) = v21;
    *((_DWORD *)a1 + 3009) = v5;
    qmemcpy((char *)a1 + 13424, &v20, 0x40u);
    *((_DWORD *)a1 + 3008) = v4;
    *((_BYTE *)a1 + 13488) = v1 & 2;
    v6 = a1;
    v7 = 32;
    do
    {
      memset(v6, 0, 0x38u);
      *((_DWORD *)v6 + 9) = 2048;
      v6 = (char *)v6 + 56;
      --v7;
    }
    while ( v7 );
    v8 = (char *)a1 + 1799;
    v9 = 512;
    do
    {
      *(_DWORD *)(v8 - 7) = 0;
      *(_DWORD *)(v8 - 3) = 0;
      *(_DWORD *)(v8 + 1) = 0;
      *(_DWORD *)(v8 + 5) = 0;
      *(_DWORD *)(v8 + 9) = 0;
      *v8 = -1;
      v8 += 20;
      --v9;
    }
    while ( v9 );
    result = 1;
  }
  return result;
}

//----- (10060990) --------------------------------------------------------
char __cdecl sub_10060990(int a1, char a2, char a3, int a4, void *a5, size_t a6)
{
  char result; // al@3
  char v7; // al@6
  char v8; // bl@8
  char v9; // al@10
  char v10; // bl@12
  char v11; // al@14
  char v12; // bl@16
  char v13; // al@18
  char v14; // bl@20

  switch ( a3 )
  {
    case 0x18:
      if ( a2 )
        result = sub_10060840(a5);
      else
        result = sub_10060820(a5);
      break;
    case 0x19:
      if ( a2 )
        v7 = sub_10060840(&unk_101B97A0);
      else
        v7 = sub_10060820(&unk_101B97A0);
      v8 = v7;
      memcpy_0(a5, (char *)&unk_101B97A0 + 56 * *(_BYTE *)a4, a6);
      result = v8;
      break;
    case 0x1A:
      if ( a2 )
        v9 = sub_10060840(&unk_101B97A0);
      else
        v9 = sub_10060820(&unk_101B97A0);
      v10 = v9;
      memcpy_0(a5, (char *)&unk_101BC6A8 + 40 * *(_BYTE *)a4, a6);
      result = v10;
      break;
    case 0x1B:
      if ( a2 )
        v11 = sub_10060840(&unk_101B97A0);
      else
        v11 = sub_10060820(&unk_101B97A0);
      v12 = v11;
      memcpy_0(a5, (char *)&unk_101BCBA8 + *(_BYTE *)a4, a6);
      result = v12;
      break;
    case 0x2B:
      if ( a2 )
        v13 = sub_10060840(&unk_101B97A0);
      else
        v13 = sub_10060820(&unk_101B97A0);
      v14 = v13;
      memcpy_0(a5, &unk_101BCC50, a6);
      result = v14;
      break;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\gdl59\\iop_gdl59_cnfg_intf.c", 709, 0, 0);
      result = 0;
      break;
  }
  return result;
}

//----- (10060B30) --------------------------------------------------------
char __cdecl sub_10060B30(char a1)
{
  char result; // al@3

  if ( a1 == 15 )
  {
    result = 0;
  }
  else if ( a1 == 16 )
  {
    result = 1;
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\iop\\iop_adc_intf.c", 178, 0, 0);
    result = 0;
  }
  return result;
}

//----- (10060B70) --------------------------------------------------------
__int16 __usercall sub_10060B70@<ax>(unsigned __int8 a1@<al>)
{
  return word_100CAC20[a1];
}
// 100CAC20: using guessed type __int16 word_100CAC20[];

//----- (10060B80) --------------------------------------------------------
char __cdecl sub_10060B80(unsigned __int8 a1, char *a2)
{
  int v2; // eax@2
  char result; // al@5
  int v4; // [sp+4h] [bp-150h]@2
  char v5; // [sp+8h] [bp-14Ch]@1
  char v6; // [sp+9h] [bp-14Bh]@3
  char v7; // [sp+Ch] [bp-148h]@5

  memset(&v5, 0, 0x148u);
  if ( a1 >= 2u )
  {
    result = 0;
  }
  else
  {
    LOWORD(v2) = sub_10060B70(a1);
    if ( sub_1004EFD0(0, v2, &v5, (int)&v4) && v6 == 3 && (unsigned int)(unsigned __int16)v4 - 4 >= 0xA0 )
    {
      qmemcpy(a2, &v7, 0xA0u);
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  return result;
}

//----- (10060C50) --------------------------------------------------------
char __cdecl sub_10060C50(char a1, char a2, char a3, int a4, char *a5, unsigned int a6)
{
  char result; // al@3
  unsigned __int8 v7; // [sp+4h] [bp-4h]@1

  v7 = sub_10060B30(a1);
  if ( a3 != 11 )
  {
    sub_100175E0("..\\lib\\acl\\iop\\iop_adc_intf.c", 564, 0, 0);
    return 0;
  }
  if ( a6 >= 0xA0 )
  {
    if ( a2 )
      return 0;
    result = sub_10060B80(v7, a5);
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\iop\\iop_adc_intf.c", 551, 0, 0);
    result = 0;
  }
  return result;
}

//----- (10060CD0) --------------------------------------------------------
char __cdecl sub_10060CD0(unsigned __int16 a1, char *a2, char a3)
{
  char result; // al@4
  char v4; // al@5
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( (_BYTE)a1 )
  {
    if ( (unsigned __int8)a1 != 1 )
    {
      sub_100175E0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 188, 0, 0);
      return 0;
    }
    v4 = sub_1004EFD0(1, 555, &v5, (int)&a1);
  }
  else
  {
    v4 = sub_1004EFD0(1, 550, &v5, (int)&a1);
  }
  if ( !v4 )
    return 0;
  if ( sub_10051320((int)&v5) )
    return 0;
  result = 1;
  if ( !BYTE1(v14) || (unsigned int)a1 - 4 < 0x20 )
    return 0;
  if ( a3 )
  {
    if ( BYTE1(v5) == 26 )
    {
      qmemcpy(a2, (char *)&v6 + 1, 0x20u);
      qmemcpy(&unk_101BCC78, (char *)&v6 + 1, 0x20u);
      byte_101BCC70 = 1;
      byte_101BCC71 = 0;
      return result;
    }
  }
  else if ( BYTE1(v5) == 12 )
  {
    qmemcpy(a2, (char *)&v6 + 1, 0x20u);
    qmemcpy(&unk_101BCC98, (char *)&v6 + 1, 0x20u);
    byte_101BCC71 = 1;
    byte_101BCC72 = 1;
    return result;
  }
  return 0;
}
// 101BCC70: using guessed type char byte_101BCC70;
// 101BCC71: using guessed type char byte_101BCC71;
// 101BCC72: using guessed type char byte_101BCC72;

//----- (10060E00) --------------------------------------------------------
char __cdecl sub_10060E00(char a1, int a2)
{
  char result; // al@3
  char v3; // [sp+4h] [bp-44h]@1
  char v4; // [sp+8h] [bp-40h]@3
  char v5; // [sp+28h] [bp-20h]@3

  memset(&v3, 0, 0x44u);
  if ( (unsigned __int8)a1 < 2u && a2 )
  {
    result = sub_10055C30(a1, (int)&v3);
    qmemcpy((void *)a2, &v4, 0x20u);
    qmemcpy((void *)(a2 + 32), &v5, 0x20u);
  }
  else
  {
    result = sub_100175E0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 570, 0, 0);
  }
  return result;
}

//----- (10060E80) --------------------------------------------------------
bool __cdecl sub_10060E80(void *a1)
{
  bool v1; // zf@2
  bool result; // al@4

  if ( a1 )
  {
    v1 = byte_101BCC70 == 0;
    qmemcpy(a1, &unk_101BCC78, 0x40u);
    result = !v1 && byte_101BCC72;
  }
  else
  {
    sub_100175E0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 617, 0, 0);
    result = 0;
  }
  return result;
}
// 101BCC70: using guessed type char byte_101BCC70;
// 101BCC72: using guessed type char byte_101BCC72;

//----- (10060ED0) --------------------------------------------------------
char __cdecl sub_10060ED0(char a1, int a2)
{
  char result; // al@4
  int v3; // edx@5
  const void *v4; // esi@8
  int v5; // [sp+0h] [bp-28h]@1
  int v6; // [sp+4h] [bp-24h]@1
  int v7; // [sp+8h] [bp-20h]@1
  int v8; // [sp+Ch] [bp-1Ch]@1
  int v9; // [sp+10h] [bp-18h]@1
  int v10; // [sp+14h] [bp-14h]@1
  int v11; // [sp+18h] [bp-10h]@1
  int v12; // [sp+1Ch] [bp-Ch]@1
  int v13; // [sp+20h] [bp-8h]@1
  int v14; // [sp+24h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  if ( j_HWM_pvg_read_reg(1) != 1 )
    sub_100175E0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 857, 1, 0);
  if ( a1 )
  {
    result = a1 - 1;
    if ( a1 != 1 )
      return result;
    result = sub_10051720(15);
    v3 = 555;
  }
  else
  {
    result = sub_10051720(8);
    v3 = 550;
  }
  if ( result )
  {
    v4 = (const void *)a2;
    LOBYTE(v5) = 12;
    BYTE1(v14) = 1;
    LOBYTE(v6) = 32;
    HIWORD(v5) = 34;
    if ( byte_101BCC71 )
    {
      BYTE1(v5) = 26;
    }
    else
    {
      BYTE1(v5) = 12;
      v4 = (const void *)(a2 + 32);
    }
    qmemcpy((char *)&v6 + 1, v4, 0x20u);
    result = sub_1004EAD0(1, v3, &v5, 1, 38, 1);
  }
  return result;
}
// 10017A70: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 101BCC71: using guessed type char byte_101BCC71;

//----- (10060FB0) --------------------------------------------------------
__int16 __usercall sub_10060FB0@<ax>(unsigned __int8 a1@<al>)
{
  return word_100CAD30[a1];
}
// 100CAD30: using guessed type __int16 word_100CAD30[];

//----- (10060FC0) --------------------------------------------------------
char __cdecl sub_10060FC0(unsigned __int8 a1, int *a2, const void *a3)
{
  int v3; // ebx@1
  int v5; // [sp+Ch] [bp-28h]@1
  int v6; // [sp+10h] [bp-24h]@1
  int v7; // [sp+14h] [bp-20h]@1
  int v8; // [sp+18h] [bp-1Ch]@1
  int v9; // [sp+1Ch] [bp-18h]@1
  int v10; // [sp+20h] [bp-14h]@1
  int v11; // [sp+24h] [bp-10h]@1
  int v12; // [sp+28h] [bp-Ch]@1
  int v13; // [sp+2Ch] [bp-8h]@1
  int v14; // [sp+30h] [bp-4h]@1

  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  v3 = (unsigned __int16)sub_10060FB0(a1);
  v5 = *a2;
  qmemcpy(&v6, a3, 0x24u);
  sub_1004EAD0(1, v3, &v5, 1, HIWORD(v5) + 4, 1);
  return sub_1004EC10(1, v3, 0xFFFFFFF);
}

//----- (10061050) --------------------------------------------------------
char __cdecl sub_10061050(unsigned __int8 a1, char a2)
{
  int v3; // [sp+4h] [bp-28h]@1
  int v4; // [sp+8h] [bp-24h]@1
  int v5; // [sp+Ch] [bp-20h]@1
  int v6; // [sp+10h] [bp-1Ch]@1
  int v7; // [sp+14h] [bp-18h]@1
  int v8; // [sp+18h] [bp-14h]@1
  int v9; // [sp+1Ch] [bp-10h]@1
  int v10; // [sp+20h] [bp-Ch]@1
  int v11; // [sp+24h] [bp-8h]@1
  int v12; // [sp+28h] [bp-4h]@1

  v4 = 0;
  v5 = 0;
  v6 = 0;
  v7 = 0;
  v8 = 0;
  v9 = 0;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v3 = 0;
  if ( a1 >= 2u )
  {
    sub_100175E0("..\\lib\\acl\\iop\\gma\\iop_gma_cnfg_intf.c", 736, 0, 0);
  }
  else
  {
    HIWORD(v3) = 0;
    LOBYTE(v3) = 12;
    if ( a2 == 11 )
    {
      BYTE1(v3) = byte_101BCC71 != 0 ? 25 : 11;
      sub_10060FC0(a1, &v3, &v4);
      return 1;
    }
    if ( a2 == 17 )
    {
      LOWORD(v3) = 10042;
      sub_10060FC0(a1, &v3, &v4);
      return 1;
    }
  }
  return 0;
}
// 101BCC71: using guessed type char byte_101BCC71;

//----- (10061110) --------------------------------------------------------
bool __cdecl sub_10061110(__int16 a1, char a2, int a3, int a4, void *a5)
{
  char v6; // [sp+4h] [bp-40h]@8
  char v7; // [sp+24h] [bp-20h]@11

  if ( (unsigned __int8)a1 == 8 )
  {
    LOBYTE(a1) = 0;
  }
  else
  {
    if ( (unsigned __int8)a1 != 9 )
      return 0;
    LOBYTE(a1) = 1;
  }
  if ( a2 == 1 )
  {
    sub_10060E00(a1, (int)a5);
    return 1;
  }
  if ( byte_101BCC71 )
  {
    if ( sub_10060CD0(a1, &v6, 1) )
    {
LABEL_14:
      byte_101BCC73 = 0;
      goto LABEL_15;
    }
    if ( (unsigned __int8)++byte_101BCC73 >= 5u )
    {
      byte_101BCC70 = 0;
      goto LABEL_14;
    }
  }
  else
  {
    if ( sub_10060CD0(a1, &v7, 0) )
      goto LABEL_14;
    if ( (unsigned __int8)++byte_101BCC73 >= 5u )
    {
      byte_101BCC72 = 0;
      goto LABEL_14;
    }
  }
LABEL_15:
  if ( j_HWM_pvg_read_reg(1) == 1 )
  {
    sub_10060E00(a1, (int)&v6);
    sub_10060ED0(a1, (int)&v6);
  }
  sub_10061050(a1, 11);
  return sub_10060E80(a5);
}
// 10017A70: using guessed type int __cdecl j_HWM_pvg_read_reg(_DWORD);
// 101BCC70: using guessed type char byte_101BCC70;
// 101BCC71: using guessed type char byte_101BCC71;
// 101BCC72: using guessed type char byte_101BCC72;
// 101BCC73: using guessed type char byte_101BCC73;

//----- (10061210) --------------------------------------------------------
char __cdecl sub_10061210(char a1)
{
  char result; // al@4

  switch ( a1 )
  {
    case 25:
      result = 0;
      break;
    case 26:
      result = 1;
      break;
    case 43:
      result = 2;
      break;
    default:
      sub_100175E0("..\\lib\\acl\\iop\\gsd\\iop_gsd_data_intf.c", 169, 0, 0);
      result = 3;
      break;
  }
  return result;
}

//----- (10061250) --------------------------------------------------------
char __cdecl sub_10061250(char a1)
{
  char result; // al@3

  if ( a1 == 20 )
  {
    result = 0;
  }
  else if ( a1 == 21 )
  {
    result = 2;
  }
  else
  {
    result = 1;
  }
  return result;
}

//----- (10061290) --------------------------------------------------------
int __cdecl sub_10061290(int a1, int a2)
{
  int result; // eax@1

  result = a1 + a2;
  if ( a1 + a2 >= -1073736000 )
  {
    if ( result >= 1073736000 )
      result -= 2147472000;
  }
  else
  {
    result += 2147472000;
  }
  return result;
}

//----- (100612C0) --------------------------------------------------------
signed int __cdecl sub_100612C0(signed int *a1, signed int a2)
{
  signed int result; // eax@1

  result = a2 >> 1;
  *a1 = a2 >> 1;
  if ( a2 >> 1 >= 1073736000 )
    result = 1073736000;
  *a1 = result;
  if ( result <= -1073736000 )
    result = -1073736000;
  *a1 = result;
  return result;
}

//----- (100612F0) --------------------------------------------------------
char __cdecl sub_100612F0(float a1, __int16 a2)
{
  char result; // al@1
  int v3; // ecx@2

  result = 10;
  if ( a2 > -32767 )
  {
    v3 = a2 - (signed int)a1;
    if ( v3 < -31 )
      result = (v3 < -305) + 7;
    else
      result = 6;
  }
  return result;
}

//----- (10061330) --------------------------------------------------------
int __cdecl sub_10061330(int a1, int a2)
{
  int result; // eax@1

  result = a1 - a2;
  if ( a1 - a2 >= -1073736000 )
  {
    if ( result >= 1073736000 )
      result -= 2147472000;
  }
  else
  {
    result += 2147472000;
  }
  return result;
}

//----- (10061360) --------------------------------------------------------
void __cdecl sub_10061360(int a1, signed int a2, signed int a3)
{
  int v3; // ebx@1
  int v4; // ecx@2
  int v5; // edx@3
  int v6; // ecx@4
  int v7; // eax@4

  v3 = 0;
  if ( a2 > 0 )
  {
    v4 = 0;
    do
    {
      v5 = 0;
      if ( a3 > 0 )
      {
        v6 = a3 * v4;
        v7 = 0;
        do
        {
          ++v5;
          *(_WORD *)(a1 + 2 * (v6 + v7)) = -32767;
          v7 = (unsigned __int16)v5;
        }
        while ( (unsigned __int16)v5 < a3 );
      }
      v4 = (unsigned __int16)++v3;
    }
    while ( (unsigned __int16)v3 < a2 );
  }
}

//----- (100613B0) --------------------------------------------------------
signed int sub_100613B0()
{
  signed int result; // eax@1

  memset(&unk_101BDD40, 0, 0x30u);
  dword_101BDD48 = 1073736000;
  dword_101BDD4C = 1073736000;
  result = -1073736000;
  byte_101C0F70 = 0;
  dword_101BDD60 = -1;
  dword_101BDD50 = -1073736000;
  dword_101BDD54 = -1073736000;
  return result;
}
// 101BDD48: using guessed type int dword_101BDD48;
// 101BDD4C: using guessed type int dword_101BDD4C;
// 101BDD50: using guessed type int dword_101BDD50;
// 101BDD54: using guessed type int dword_101BDD54;
// 101BDD60: using guessed type int dword_101BDD60;
// 101C0F70: using guessed type char byte_101C0F70;

//----- (100614F0) --------------------------------------------------------
signed int __cdecl sub_100614F0(signed int a1, signed int a2, signed int a3, signed int a4, int *a5, int *a6)
{
  int v6; // eax@3
  int v7; // ecx@3
  signed int *v8; // esi@6
  int v9; // eax@8
  signed int *v10; // edx@8
  int v11; // ecx@8
  signed int v12; // eax@14
  signed int result; // eax@18

  if ( a3 && a4 )
  {
    v6 = a1 / a3;
    v7 = a3 * (a1 / a3);
    if ( a1 == v7 )
    {
      v8 = a5;
      *a5 = v7;
    }
    else
    {
      if ( a1 < 0 )
        --v6;
      v8 = a5;
      *a5 = a3 * v6;
    }
    v9 = a2 / a4;
    v10 = a6;
    v11 = a4 * (a2 / a4);
    if ( a2 == v11 )
    {
      *a6 = v11;
    }
    else
    {
      if ( a2 < 0 )
        --v9;
      *a6 = a4 * v9;
    }
  }
  else
  {
    v8 = a5;
    v10 = a6;
    *a5 = 0;
    *a6 = 0;
  }
  v12 = *v8;
  if ( *v8 <= -536868000 )
    v12 = -536868000;
  *v8 = v12;
  if ( v12 >= 536868000 )
    v12 = 536868000;
  *v8 = v12;
  result = *v10;
  if ( *v10 <= -1073736000 )
    result = -1073736000;
  *v10 = result;
  if ( result >= 1073736000 )
    result = 1073736000;
  *v10 = result;
  return result;
}

//----- (100615B0) --------------------------------------------------------
char __cdecl sub_100615B0(signed int a1, signed int a2, int a3)
{
  signed int v3; // ebx@1
  signed int v4; // ebp@1
  int v5; // esi@1
  int v6; // edi@1
  char result; // al@2

  v3 = a2;
  v4 = a1;
  v5 = *(_DWORD *)(a3 + 20);
  v6 = *(_DWORD *)(a3 + 16);
  sub_100614F0(a1, a2, 2 * v6, 2 * v5, &a1, &a3);
  if ( abs(v4 - a1) < v6 )
    result = abs(v3 - a3) >= v5;
  else
    result = (abs(v3 - a3) >= v5) + 2;
  return result;
}

//----- (10061620) --------------------------------------------------------
int __cdecl sub_10061620(signed int a1, signed int a2, signed int a3)
{
  signed int v3; // ebp@1
  int v4; // edi@1
  int v5; // esi@1
  signed int v6; // ebx@5
  int result; // eax@7
  int v8; // [sp+10h] [bp-4h]@7

  v3 = a3;
  v4 = 2 * *(_DWORD *)(a3 + 16);
  v5 = 2 * *(_DWORD *)(a3 + 20);
  if ( v4
    && v5
    && a1 >= *(_DWORD *)a3
    && a1 < *(_DWORD *)(a3 + 8)
    && (v6 = *(_DWORD *)(a3 + 4), a2 >= v6)
    && a2 < *(_DWORD *)(a3 + 12) )
  {
    sub_100614F0(a1, a2, v4, v5, &a3, &v8);
    result = *(_DWORD *)(v3 + 32)
           + 28
           * ((unsigned __int16)(v8 / v5 - v6 / v5)
            + (unsigned __int16)(*(_DWORD *)(v3 + 12) / v5 - v6 / v5) * (unsigned __int16)(a3 / v4 - *(_DWORD *)v3 / v4));
  }
  else
  {
    result = -1;
  }
  return result;
}

//----- (100616D0) --------------------------------------------------------
void __cdecl sub_100616D0(int a1, unsigned __int16 a2, void (__cdecl *a3)(int, signed int, int, int), int a4, int a5, int a6)
{
  signed int v6; // ebx@1
  unsigned __int16 v7; // bp@1
  signed int v8; // edi@1
  int v9; // esi@1

  v6 = (unsigned __int16)(*(_WORD *)(a5 + 38) >> 1);
  v7 = *(_WORD *)(a5 + 36) >> 1;
  v8 = 1;
  v9 = (unsigned __int16)(a2 / v6);
  sub_10061360(a1, a2, 1);
  if ( v7 >= 1u )
  {
    do
    {
      if ( !(_WORD)v9 )
        break;
      a3(v9, v6, a6, a4);
      v8 += v9;
    }
    while ( (unsigned __int16)v8 <= v7 );
  }
}

//----- (10061740) --------------------------------------------------------
int __cdecl sub_10061740(char a1, void *a2, size_t a3, int a4)
{
  int result; // eax@1

  result = sub_10016EA0(a1, a2, a3, *(_DWORD *)a4);
  if ( !result )
    *(_DWORD *)a4 += a3;
  return result;
}

//----- (10061770) --------------------------------------------------------
bool __usercall sub_10061770@<al>(int a1@<esi>)
{
  return !sub_1004F660((_BYTE *)(a1 + 4), -1073736000, 1073736000, 0, 0)
      && !sub_1004F660((_BYTE *)a1, -536868000, 536868000, 0, 0);
}

//----- (100617B0) --------------------------------------------------------
int __usercall sub_100617B0@<eax>(char a1@<bl>, float a2, int a3, __int16 a4, int a5, int a6, int a7, int a8)
{
  int v8; // ebp@1
  int v9; // eax@1
  int v10; // edi@1
  int v11; // esi@1
  bool v12; // zf@1
  int v14; // [sp+14h] [bp-20h]@1
  int v15; // [sp+18h] [bp-1Ch]@3
  int v16; // [sp+1Ch] [bp-18h]@4
  __int16 v17; // [sp+20h] [bp-14h]@4
  __int16 v18; // [sp+22h] [bp-12h]@4
  int v19; // [sp+24h] [bp-10h]@4
  int v20; // [sp+28h] [bp-Ch]@4
  __int16 v21[2]; // [sp+2Ch] [bp-8h]@4
  __int16 v22; // [sp+30h] [bp-4h]@4
  unsigned int v23; // [sp+4Ch] [bp+18h]@1

  v8 = a7;
  v9 = *(_DWORD *)a7;
  v10 = 0;
  v11 = 0;
  v12 = *(_DWORD *)(a7 + 4) == 0;
  v23 = 0;
  v14 = v9;
  if ( v12 )
  {
LABEL_16:
    ((void (__cdecl *)(int, int))a5)(v11, a6);
  }
  else
  {
    while ( !v10 )
    {
      v10 = sub_10061740(1, &v15, 0xCu, (int)&v14);
      if ( !v10 )
      {
        v21[1] = v18 >> 2;
        v21[0] = v17 - word_10505756;
        v20 = v16;
        v22 = ((unsigned __int8)v18 >> 1) & 1;
        v19 = v15;
        if ( a1 == 9 || a1 == sub_100612F0(a2, v21[0]) )
        {
          if ( (unsigned __int16)v11 >= (unsigned __int16)a4 )
          {
            ((void (__cdecl *)(int, int))a5)(v11, a6);
            v11 = 0;
          }
          if ( v19 >= *(_DWORD *)a8
            && v19 < *(_DWORD *)(a8 + 8)
            && sub_10061330(v20, *(_DWORD *)(a8 + 4)) >= 0
            && sub_10061330(v20, *(_DWORD *)(a8 + 12)) < 0 )
          {
            memcpy((void *)(a3 + 14 * (unsigned __int16)v11++), &v19, 0xEu);
          }
        }
        ++v23;
      }
      if ( v23 >= *(_DWORD *)(v8 + 4) )
      {
        if ( v10 )
          return v10;
        goto LABEL_16;
      }
    }
  }
  return v10;
}
// 10505756: using guessed type __int16 word_10505756;

//----- (10061900) --------------------------------------------------------
int __usercall sub_10061900@<eax>(int a1@<esi>)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-4h]@1

  v2 = 152;
  result = sub_10061740(1, (void *)a1, 0x14u, (int)&v2);
  if ( !result )
  {
    result = 4;
    if ( *(_DWORD *)(a1 + 8) )
    {
      if ( *(_DWORD *)(a1 + 12) )
        result = 0;
    }
  }
  return result;
}

//----- (10061940) --------------------------------------------------------
int __cdecl sub_10061940(char a1, int a2, int a3, void *a4)
{
  int result; // eax@7
  char v5; // bl@8
  unsigned __int16 v6; // bp@11
  int v7; // [sp+8h] [bp-20h]@10
  char v8; // [sp+Ch] [bp-1Ch]@10
  int v9; // [sp+20h] [bp-8h]@11
  unsigned __int16 v10; // [sp+24h] [bp-4h]@12

  if ( byte_101C9D38 == a1
    && (unsigned __int8)a1 >= 1u
    && a2 >= dword_101C9D0C
    && a2 < dword_101C9D14
    && a3 >= dword_101C9D10
    && a3 < dword_101C9D18 )
  {
    qmemcpy(a4, &dword_101C9D0C, 0x2Cu);
    return 0;
  }
  v5 = 0;
  if ( (unsigned __int8)a1 < 1u )
  {
    byte_101C9D38 = 0;
    return 9;
  }
  v7 = 28 * ((unsigned __int8)a1 - 1) + 156;
  result = sub_10061740(0, &v8, 0x1Cu, (int)&v7);
  if ( result )
    goto LABEL_23;
  v6 = 0;
  v7 = v9;
  do
  {
    if ( v6 >= v10 )
      break;
    if ( result )
      goto LABEL_23;
    result = sub_10061740(0, a4, 0x2Cu, (int)&v7);
    if ( !result )
    {
      if ( a2 >= *(_DWORD *)a4 && a2 < *((_DWORD *)a4 + 2) )
      {
        *((_DWORD *)a4 + 4) >>= 1;
        *((_DWORD *)a4 + 5) >>= 1;
        v5 = 1;
        result = 13;
        if ( a3 >= *((_DWORD *)a4 + 1) && a3 < *((_DWORD *)a4 + 3) )
          result = 0;
      }
      ++v6;
    }
  }
  while ( !v5 );
  if ( result )
  {
LABEL_23:
    if ( result != 13 )
    {
LABEL_31:
      byte_101C9D38 = 0;
      return result;
    }
  }
  if ( !v5 )
  {
    result = 8;
    goto LABEL_31;
  }
  if ( *((_DWORD *)a4 + 4) && *((_DWORD *)a4 + 5) && *((_DWORD *)a4 + 6) )
  {
    if ( *((_DWORD *)a4 + 7) )
    {
      byte_101C9D38 = a1;
      qmemcpy(&dword_101C9D0C, a4, 0x2Cu);
    }
  }
  return result;
}
// 101C9D0C: using guessed type int dword_101C9D0C;
// 101C9D10: using guessed type int dword_101C9D10;
// 101C9D14: using guessed type int dword_101C9D14;
// 101C9D18: using guessed type int dword_101C9D18;
// 101C9D38: using guessed type char byte_101C9D38;

//----- (10061AA0) --------------------------------------------------------
int __cdecl sub_10061AA0(int a1, void *a2)
{
  int result; // eax@2

  if ( (unsigned __int8)a1 >= 1u )
  {
    a1 = 28 * ((unsigned __int8)a1 - 1) + 156;
    result = sub_10061740(0, a2, 0x1Cu, (int)&a1);
  }
  else
  {
    result = 9;
  }
  return result;
}

//----- (10061AE0) --------------------------------------------------------
int __cdecl sub_10061AE0(_WORD *a1)
{
  int result; // eax@1
  int v2; // [sp+0h] [bp-8h]@1
  char v3; // [sp+4h] [bp-4h]@1
  __int16 v4; // [sp+6h] [bp-2h]@2

  v2 = 152;
  result = sub_10061740(0, &v3, 4u, (int)&v2);
  if ( !result )
    *a1 = v4;
  return result;
}

//----- (10061B20) --------------------------------------------------------
char sub_10061B20()
{
  int v0; // edi@1
  int v1; // ebp@1
  int v2; // eax@1
  int v4; // [sp+10h] [bp-18h]@1
  char v5; // [sp+14h] [bp-14h]@1
  __int16 v6; // [sp+24h] [bp-4h]@2

  word_10505756 = 0;
  word_10505758 = 0;
  word_1050575C = 0;
  memset(&dword_101C9D0C, 0, 0x2Cu);
  byte_101C9D38 = 0;
  v4 = 152;
  v0 = sub_10061740(2, &word_10505758, 2u, (int)&v4);
  v4 = 152;
  v1 = sub_10061740(0, &word_1050575C, 2u, (int)&v4);
  v2 = sub_10061900((int)&v5);
  if ( v2 )
    byte_10505755 = 7;
  else
    word_10505756 = v6;
  if ( v0 || v2 || v1 )
  {
    byte_1050575A = 0;
    byte_1050575E = 0;
  }
  else
  {
    LOBYTE(v2) = 1;
    byte_1050575A = 1;
    byte_1050575E = 1;
  }
  return v2;
}
// 101C9D0C: using guessed type int dword_101C9D0C;
// 101C9D38: using guessed type char byte_101C9D38;
// 10505755: using guessed type char byte_10505755;
// 10505756: using guessed type __int16 word_10505756;
// 10505758: using guessed type __int16 word_10505758;
// 1050575A: using guessed type char byte_1050575A;
// 1050575C: using guessed type __int16 word_1050575C;
// 1050575E: using guessed type char byte_1050575E;

//----- (10061BE0) --------------------------------------------------------
signed int __cdecl sub_10061BE0(_DWORD *a1, void *a2)
{
  signed __int16 v2; // bp@1
  __int16 v3; // ax@1
  __int16 v4; // di@2
  int v5; // eax@2
  _DWORD *v6; // edx@2
  unsigned int v7; // eax@2
  char *v8; // ecx@2
  int v9; // esi@6
  int v10; // eax@7
  _BYTE *v11; // ecx@7
  _BYTE *v12; // edx@7
  int v13; // eax@9
  _BYTE *v14; // ecx@9
  _BYTE *v15; // edx@9
  _BYTE *v16; // ecx@11
  _BYTE *v17; // edx@11
  signed int v18; // eax@13
  int v19; // esi@21
  char v21; // [sp+13h] [bp-4Dh]@1
  int v22; // [sp+14h] [bp-4Ch]@1
  int v23; // [sp+18h] [bp-48h]@1
  void *v24; // [sp+1Ch] [bp-44h]@1
  char v25; // [sp+20h] [bp-40h]@1
  int v26; // [sp+22h] [bp-3Eh]@1
  char v27; // [sp+2Ch] [bp-34h]@2

  v24 = a2;
  v21 = 0;
  v22 = 152;
  sub_10061740(2, &v25, 0xAu, (int)&v22);
  v2 = 0;
  v3 = v26 - 1;
  v23 = (unsigned __int16)(v26 - 1);
  while ( 1 )
  {
    v4 = (v2 + v3) >> 1;
    v22 = 48 * v4 + 162;
    v5 = sub_10061740(2, &v27, 0x30u, (int)&v22);
    v6 = a1;
    v22 = v5;
    v7 = 6;
    v8 = &v27;
    do
    {
      if ( *v6 != *(_DWORD *)v8 )
        goto LABEL_6;
      v7 -= 4;
      v8 += 4;
      ++v6;
    }
    while ( v7 >= 4 );
    if ( !v7 )
    {
LABEL_15:
      v18 = 0;
      goto LABEL_16;
    }
LABEL_6:
    v9 = *(_BYTE *)v6 - (unsigned __int8)*v8;
    if ( *(_BYTE *)v6 == (unsigned __int8)*v8 )
    {
      v10 = v7 - 1;
      v11 = v8 + 1;
      v12 = (char *)v6 + 1;
      if ( !v10 )
        goto LABEL_15;
      v9 = *v12 - *v11;
      if ( *v12 == *v11 )
      {
        v13 = v10 - 1;
        v14 = v11 + 1;
        v15 = v12 + 1;
        if ( !v13 )
          goto LABEL_15;
        v9 = *v15 - *v14;
        if ( *v15 == *v14 )
        {
          v16 = v14 + 1;
          v17 = v15 + 1;
          if ( v13 == 1 )
            goto LABEL_15;
          v9 = *v17 - *v16;
          if ( *v17 == *v16 )
            goto LABEL_15;
        }
      }
    }
    v18 = 1;
    if ( v9 <= 0 )
      v18 = -1;
LABEL_16:
    if ( v18 )
    {
      if ( v18 >= 0 )
        v2 = v4 + 1;
      else
        v23 = (unsigned __int16)(v4 - 1);
    }
    else
    {
      v21 = 1;
    }
    v3 = v23;
    v19 = v22;
    if ( v2 > (signed __int16)v23 )
      break;
    if ( v22 )
      return v19;
    if ( v21 )
      goto LABEL_24;
  }
  if ( v22 )
    return v19;
  if ( v21 )
  {
LABEL_24:
    memcpy(v24, &v27, 0x30u);
    return v19;
  }
  memset(v24, v22, 0x30u);
  return 10;
}

//----- (10061D90) --------------------------------------------------------
char sub_10061D90()
{
  char result; // al@2

  if ( !byte_1050575E )
    result = sub_10061B20();
  return result;
}
// 1050575E: using guessed type char byte_1050575E;

//----- (10061DA0) --------------------------------------------------------
signed int __cdecl sub_10061DA0(_DWORD *a1, int a2)
{
  signed int result; // eax@1
  int v3; // ecx@3
  int v4; // eax@4
  __int16 v5; // dx@4
  __int16 v6; // dx@4
  int v7; // ecx@4
  int v8; // eax@4
  int v9; // edx@4
  char v10; // [sp+4h] [bp-34h]@1
  int v11; // [sp+Ch] [bp-2Ch]@4
  int v12; // [sp+10h] [bp-28h]@4
  int v13; // [sp+14h] [bp-24h]@4
  int v14; // [sp+18h] [bp-20h]@4
  int v15; // [sp+1Ch] [bp-1Ch]@2
  int v16; // [sp+20h] [bp-18h]@3
  __int16 v17; // [sp+30h] [bp-8h]@4

  result = sub_10061BE0(a1, &v10);
  if ( !result )
  {
    result = 5;
    if ( v15 )
    {
      v3 = v16;
      if ( v16 )
      {
        v4 = v13;
        *(_DWORD *)a2 = v15;
        v5 = v17;
        *(_DWORD *)(a2 + 4) = v3;
        v6 = v5 - word_10505758;
        v7 = v14;
        *(_DWORD *)(a2 + 12) = v4;
        v8 = v12;
        *(_WORD *)(a2 + 8) = v6;
        v9 = v11;
        *(_DWORD *)(a2 + 24) = v8;
        *(_DWORD *)(a2 + 16) = v7;
        *(_DWORD *)(a2 + 20) = v9;
        result = 0;
      }
    }
  }
  return result;
}
// 10505758: using guessed type __int16 word_10505758;

//----- (10061E30) --------------------------------------------------------
signed int __cdecl sub_10061E30(_DWORD *a1, int a2, int a3, int a4, unsigned __int16 a5, void (__cdecl *a6)(int, int, int, int), int a7)
{
  signed int result; // eax@2
  char v8; // [sp+10h] [bp-48h]@9
  char v9; // [sp+24h] [bp-34h]@3
  int v10; // [sp+2Ch] [bp-2Ch]@4
  int v11; // [sp+30h] [bp-28h]@6
  int v12; // [sp+34h] [bp-24h]@5
  int v13; // [sp+38h] [bp-20h]@7
  int v14; // [sp+44h] [bp-14h]@8

  sub_10061D90();
  if ( a5 >= 0x78u )
  {
    result = sub_10061BE0(a1, &v9);
    if ( !result )
    {
      if ( a2 < v10 || a2 > v12 || sub_10061330(v11, a3) > 0 || sub_10061330(v13, a3) < 0 )
      {
        result = 16;
      }
      else
      {
        result = 13;
        if ( v14 != -1 )
          result = sub_10062650(255, a4, a5, a6, a7, 0, 0, (int)&v9, (int)&v8);
      }
    }
  }
  else
  {
    result = 15;
  }
  return result;
}

//----- (10061F20) --------------------------------------------------------
int __cdecl sub_10061F20(char a1, float a2, int a3, int a4, int a5, __int16 a6, int a7, int a8)
{
  int result; // eax@2
  int v9; // ebx@3
  int v10; // edi@4
  int v11; // ebp@6
  int v12; // esi@6
  int v13; // ecx@6
  int v14; // eax@6
  int v15; // ebp@11
  int v16; // ecx@13
  int v17; // eax@13
  int v18; // esi@13
  int v19; // edi@13
  int v20; // ST10_4@13
  int v21; // ebp@21
  int v22; // eax@21
  int v23; // ST10_4@21
  int v24; // eax@21
  bool v25; // sf@22
  unsigned __int8 v26; // of@22
  int v27; // [sp+2Ch] [bp-44h]@11
  int v28; // [sp+30h] [bp-40h]@6
  int v29; // [sp+34h] [bp-3Ch]@6
  int v30; // [sp+38h] [bp-38h]@6
  int v31; // [sp+3Ch] [bp-34h]@17
  int v32; // [sp+40h] [bp-30h]@17
  unsigned int v33; // [sp+44h] [bp-2Ch]@17
  int v34; // [sp+4Ch] [bp-24h]@6
  int v35; // [sp+50h] [bp-20h]@13
  int v36; // [sp+54h] [bp-1Ch]@13
  int v37; // [sp+58h] [bp-18h]@13
  char v38; // [sp+5Ch] [bp-14h]@3
  int v39; // [sp+64h] [bp-Ch]@6
  int v40; // [sp+68h] [bp-8h]@6

  sub_10061D90();
  if ( (unsigned __int16)a6 < 0xAu )
  {
    result = 15;
    byte_10505755 = 7;
    return result;
  }
  v9 = sub_10061900((int)&v38);
  if ( !v9 )
  {
    v10 = a3;
    if ( !sub_10061770(a3) )
      return v9;
    if ( !sub_10061770(a4) )
      return v9;
    v11 = v39;
    v12 = *(_DWORD *)a3;
    sub_100614F0(*(_DWORD *)a3, *(_DWORD *)(a3 + 4), v39, v40, &v28, &v29);
    v34 = v12;
    v13 = v28 + v11;
    v30 = 2147472000 / v40;
    v14 = *(_DWORD *)a4;
    if ( v12 >= *(_DWORD *)a4 )
      return v9;
    while ( !v9 )
    {
      if ( v13 >= v14 )
      {
        v27 = v14;
        v15 = v14;
      }
      else
      {
        v15 = v13;
        v27 = v13;
      }
      v16 = *(_DWORD *)(v10 + 4);
      v36 = v15;
      v35 = v16;
      v17 = sub_10061290(v29, v40);
      v18 = v29;
      v19 = v17;
      v20 = *(_DWORD *)(a4 + 4);
      v37 = v17;
      if ( sub_10061330(v35, v20) < 0 )
      {
        do
        {
          if ( v9 )
            break;
          if ( sub_10061330(v19, *(_DWORD *)(a4 + 4)) > 0 )
          {
            v19 = *(_DWORD *)(a4 + 4);
            v37 = *(_DWORD *)(a4 + 4);
          }
          v31 = 10 * ((v18 + 1073736000) / v40 + v30 * ((v28 + 536868000) / v39)) + 172;
          v9 = sub_10061740(1, &v32, 0xAu, (int)&v31);
          if ( v33 <= 0x500 )
          {
            if ( v32 != -1 )
              v9 = sub_100617B0(a1, a2, a5, a6, a7, a8, (int)&v32, (int)&v34);
          }
          else
          {
            v9 = 17;
          }
          v21 = v19;
          v35 = v19;
          v18 = v19;
          v22 = sub_10061290(v19, v40);
          v23 = *(_DWORD *)(a4 + 4);
          v19 = v22;
          v37 = v22;
          v24 = sub_10061330(v21, v23);
          v15 = v27;
        }
        while ( v24 < 0 );
      }
      v13 = v39 + v15;
      v14 = *(_DWORD *)a4;
      v26 = __OFSUB__(v15, *(_DWORD *)a4);
      v25 = v15 - *(_DWORD *)a4 < 0;
      v34 = v15;
      v28 = v15;
      if ( !(v25 ^ v26) )
      {
        if ( !v9 )
          return v9;
        break;
      }
      v10 = a3;
    }
  }
  byte_10505755 = 7;
  return v9;
}
// 10505755: using guessed type char byte_10505755;

//----- (10062160) --------------------------------------------------------
signed int __cdecl sub_10062160(char a1, int a2, int a3, int a4, unsigned __int16 a5, void (__cdecl *a6)(int, signed int, int, int), int a7)
{
  int v7; // esi@1
  __int16 v8; // ax@4
  int v10; // [sp+10h] [bp-64h]@5
  int v11; // [sp+14h] [bp-60h]@10
  int v12; // [sp+18h] [bp-5Ch]@10
  int v13; // [sp+1Ch] [bp-58h]@4
  int v14; // [sp+20h] [bp-54h]@2
  int v15; // [sp+24h] [bp-50h]@2
  char v16; // [sp+28h] [bp-4Ch]@1
  char v17; // [sp+54h] [bp-20h]@3
  int v18; // [sp+64h] [bp-10h]@4

  sub_10061D90();
  v7 = sub_10061940(a1, a2, a3, &v16);
  if ( !v7 )
  {
    v15 = sub_10061620(a2, a3, (signed int)&v16);
    v14 = v15;
    if ( v15 == -1 )
      return 12;
    v7 = sub_10061740(0, &v17, 0x1Cu, (int)&v15);
    if ( !v7 )
    {
      v8 = (unsigned __int8)sub_100615B0(a2, a3, (int)&v16);
      LOWORD(v13) = (unsigned __int8)v8;
      if ( v18 == -1 )
      {
        sub_100616D0(a4, a5, a6, a7, (int)&v16, (int)&v10);
        return v7;
      }
      v7 = sub_10062650(v8, a4, a5, a6, a7, (int)&v16, (int)&v17, 0, (int)&v10);
    }
  }
  if ( v7 != 13 && v7 != 3 )
    return v7;
  v10 = 0;
  v11 = 0;
  v12 = 0;
  v13 = 0;
  v14 = 0;
  sub_100616D0(a4, a5, a6, a7, (int)&v16, (int)&v10);
  return 0;
}

//----- (100622F0) --------------------------------------------------------
void *sub_100622F0()
{
  void *v0; // esi@1
  signed int v1; // edi@1
  void *result; // eax@3

  byte_10505755 = 1;
  byte_1050575A = 1;
  word_1050575C = 0;
  word_10505758 = 0;
  word_10505756 = 0;
  byte_1050575E = 0;
  sub_10061B20();
  sub_10061360((int)&unk_101BDD70, 80, 80);
  sub_100613B0();
  sub_10061360((int)&unk_101C80AC, 60, 60);
  memset(&unk_101C8080, 0, 0x2Cu);
  dword_101C9CCC = 0;
  dword_101C9CD0 = 0;
  dword_101C9CD4 = 0;
  dword_101C9CD8 = 0;
  dword_101C9CDC = 0;
  dword_101C9CE0 = 0;
  dword_101C9CE4 = 0;
  dword_101C9CE8 = 0;
  dword_101C9CEC = 0;
  dword_101C9CF0 = 0;
  dword_101C9CF4 = 0;
  dword_101C9CF8 = 0;
  dword_101C9D04 = -536868000;
  dword_101C9D08 = -1073736000;
  dword_101C9CFC = 536868000;
  dword_101C9D00 = 1073736000;
  memset(&unk_101C0F80, 0, 0x2Cu);
  v0 = &unk_101C0FAC;
  v1 = 4;
  do
  {
    sub_10061360((int)v0, 60, 60);
    v0 = (char *)v0 + 7200;
    --v1;
  }
  while ( v1 );
  result = memset(&unk_101C802C, 0, 0x50u);
  dword_101C807C = 0;
  return result;
}
// 101C807C: using guessed type int dword_101C807C;
// 101C9CCC: using guessed type int dword_101C9CCC;
// 101C9CD0: using guessed type int dword_101C9CD0;
// 101C9CD4: using guessed type int dword_101C9CD4;
// 101C9CD8: using guessed type int dword_101C9CD8;
// 101C9CDC: using guessed type int dword_101C9CDC;
// 101C9CE0: using guessed type int dword_101C9CE0;
// 101C9CE4: using guessed type int dword_101C9CE4;
// 101C9CE8: using guessed type int dword_101C9CE8;
// 101C9CEC: using guessed type int dword_101C9CEC;
// 101C9CF0: using guessed type int dword_101C9CF0;
// 101C9CF4: using guessed type int dword_101C9CF4;
// 101C9CF8: using guessed type int dword_101C9CF8;
// 101C9CFC: using guessed type int dword_101C9CFC;
// 101C9D00: using guessed type int dword_101C9D00;
// 101C9D04: using guessed type int dword_101C9D04;
// 101C9D08: using guessed type int dword_101C9D08;
// 10505755: using guessed type char byte_10505755;
// 10505756: using guessed type __int16 word_10505756;
// 10505758: using guessed type __int16 word_10505758;
// 1050575A: using guessed type char byte_1050575A;
// 1050575C: using guessed type __int16 word_1050575C;
// 1050575E: using guessed type char byte_1050575E;

//----- (10062320) --------------------------------------------------------
signed int __usercall sub_10062320@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>, int a4@<esi>)
{
  signed int result; // eax@10

  if ( a4 && a3 )
  {
    *(_BYTE *)(a1 + 513) = 0;
    *(_WORD *)(a1 + 544) = *(_WORD *)(a3 + 2);
    *(_WORD *)(a1 + 546) = 0x3FFF;
    *(_WORD *)(a1 + 548) = *(_WORD *)(a3 + 6);
    *(_WORD *)(a1 + 550) = *(_WORD *)a3;
    *(_WORD *)(a1 + 556) = *(_WORD *)(a4 + 36);
    *(_WORD *)(a1 + 554) = *(_WORD *)(a4 + 38);
  }
  else if ( a2 )
  {
    *(_BYTE *)(a1 + 513) = 2;
    *(_WORD *)(a1 + 544) = *(_WORD *)(a2 + 42);
    *(_WORD *)(a1 + 546) = 0x3FFF;
    *(_WORD *)(a1 + 548) = *(_WORD *)(a2 + 46);
    *(_WORD *)(a1 + 550) = *(_WORD *)(a2 + 36);
    *(_WORD *)(a1 + 556) = *(_WORD *)(a2 + 38);
    *(_WORD *)(a1 + 554) = *(_WORD *)(a2 + 40);
  }
  if ( *(_WORD *)(a1 + 556) > 0x78u
    || *(_WORD *)(a1 + 554) > 0x78u
    || *(_WORD *)(a1 + 546) > 0x3FFFu
    || *(_WORD *)(a1 + 544) > 0x1Eu )
  {
    result = 11;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (100623F0) --------------------------------------------------------
int __thiscall sub_100623F0(int this)
{
  _WORD *v1; // esi@1
  unsigned int v2; // edi@1
  signed __int16 i; // bx@1
  signed int v4; // esi@2
  int v6; // [sp+Ch] [bp-20Ch]@1
  __int16 v7; // [sp+10h] [bp-208h]@1
  char v8; // [sp+14h] [bp-204h]@4

  v1 = (_WORD *)this;
  v6 = *(_DWORD *)(this + 16);
  sub_10061740(0, &v7, 4u, (int)&v6);
  v2 = *v1;
  for ( i = -1; (signed int)v2 > 0; i = sub_100643A0(&v8, v4, i, 2) )
  {
    v4 = v2;
    if ( v2 > 0x200 )
      v4 = 512;
    sub_10061740(0, &v8, v4, (int)&v6);
    v2 -= v4;
  }
  return i != v7 ? 3 : 0;
}

//----- (100624A0) --------------------------------------------------------
int __usercall sub_100624A0@<eax>(int a1@<eax>, __int16 a2@<bx>, int a3@<esi>, int a4)
{
  unsigned __int16 v4; // bp@1
  int v5; // edi@1
  unsigned __int16 v6; // ax@1
  __int16 v7; // ax@2
  bool v8; // cf@6
  bool v9; // zf@6
  __int16 v10; // dx@10
  __int64 v11; // rax@18
  __int16 v12; // di@18
  _BYTE *v13; // ecx@18
  _WORD *v14; // eax@18
  signed int v15; // edx@18
  int result; // eax@20

  v4 = *(_WORD *)(a3 + 546);
  v5 = a1;
  v6 = *(_WORD *)(a3 + 544);
  if ( v6 )
    v7 = (unsigned int)((2 * v6 + v4) / (2 * v6 + 1)) + 1;
  else
    v7 = v4 + 1;
  *(_WORD *)(a3 + 558) = v7;
  *(_BYTE *)a3 = 1;
  if ( v4 + 1 > 2 )
  {
    do
      ++*(_BYTE *)a3;
    while ( 1 << *(_BYTE *)a3 < *(_WORD *)(a3 + 546) + 1 );
  }
  v8 = *(_WORD *)(a3 + 558) < 2u;
  v9 = *(_WORD *)(a3 + 558) == 2;
  *(_BYTE *)(a3 + 523) = 1;
  if ( !v8 && !v9 )
  {
    do
      ++*(_BYTE *)(a3 + 523);
    while ( 1 << *(_BYTE *)(a3 + 523) < *(_WORD *)(a3 + 558) );
  }
  *(_BYTE *)(a3 + 516) = 4 * *(_BYTE *)a3 - *(_BYTE *)(a3 + 523) - 1;
  if ( v5 )
  {
    *(_DWORD *)(a3 + 568) = *(_DWORD *)(v5 + 16) + 4;
    *(_WORD *)(a3 + 552) = *(_WORD *)(v5 + 20);
    if ( a2 == 1 )
    {
      *(_DWORD *)(a3 + 568) += *(_WORD *)(v5 + 20);
      v10 = *(_WORD *)(v5 + 22);
LABEL_17:
      *(_WORD *)(a3 + 552) = v10;
      goto LABEL_18;
    }
    if ( a2 == 2 )
    {
      *(_DWORD *)(a3 + 568) += *(_WORD *)(v5 + 20) + *(_WORD *)(v5 + 22);
      v10 = *(_WORD *)(v5 + 24);
      goto LABEL_17;
    }
    if ( a2 == 3 )
    {
      *(_DWORD *)(a3 + 568) += *(_WORD *)(v5 + 20) + *(_WORD *)(v5 + 24) + *(_WORD *)(v5 + 22);
      *(_WORD *)(a3 + 552) = *(_WORD *)(a3 + 550) - *(_WORD *)(v5 + 22) - *(_WORD *)(v5 + 24) - *(_WORD *)(v5 + 20);
    }
  }
  else if ( a4 )
  {
    v10 = *(_WORD *)(a3 + 550);
    *(_DWORD *)(a3 + 568) = *(_DWORD *)(a4 + 32) + 4;
    goto LABEL_17;
  }
LABEL_18:
  sub_10062CE0(a3);
  v11 = *(_WORD *)(a3 + 558) + 32;
  v12 = ((BYTE4(v11) & 0x3F) + (signed int)v11) >> 6;
  v13 = (_BYTE *)(a3 + 519);
  v14 = (_WORD *)(a3 + 534);
  v15 = 4;
  do
  {
    *(v14 - 4) = v12;
    *v14 = 0;
    *v13 = 1;
    ++v14;
    ++v13;
    --v15;
  }
  while ( v15 );
  result = a3;
  *(_BYTE *)(a3 + 515) = 0;
  *(_BYTE *)(a3 + 524) = 0;
  *(_WORD *)(a3 + 560) = 1;
  return result;
}

//----- (10062650) --------------------------------------------------------
int __cdecl sub_10062650(__int16 a1, int a2, unsigned __int16 a3, void (__cdecl *a4)(int, int, int, int), int a5, int a6, int a7, int a8, int a9)
{
  signed int v9; // edi@1
  char *v10; // ebp@1
  int result; // eax@2
  int v12; // esi@4
  unsigned __int16 v13; // cx@6
  _WORD *v14; // ecx@14
  int v15; // ebx@14
  __int16 v16; // dx@15
  char *v17; // eax@20
  unsigned __int16 v18; // [sp+10h] [bp-460h]@1
  unsigned __int16 v19; // [sp+14h] [bp-45Ch]@4
  __int16 v20; // [sp+18h] [bp-458h]@4
  char *v21; // [sp+1Ch] [bp-454h]@1
  signed int v22; // [sp+20h] [bp-450h]@1
  char v23; // [sp+3Ch] [bp-434h]@1
  unsigned __int16 v24; // [sp+266h] [bp-20Ah]@6
  unsigned __int16 v25; // [sp+268h] [bp-208h]@6
  char v26; // [sp+27Ch] [bp-1F4h]@1
  char v27; // [sp+374h] [bp-FCh]@1

  memset(&v23, 0, 0x240u);
  sub_10062C30((int)&v23);
  memset(&v26, 0, 0xF6u);
  memset(&v27, 0, 0xF6u);
  v9 = 1;
  v21 = &v26;
  v10 = &v27;
  v18 = 0;
  v22 = 1;
  if ( a7 )
  {
    result = sub_100623F0(a7);
    if ( result )
      return result;
  }
  result = sub_10062320((int)&v23, a8, a7, a6);
  if ( result )
    return result;
  sub_100624A0(a7, a1, (int)&v23, a8);
  v12 = 0;
  v19 = 0;
  v20 = 0;
  if ( a7 && a6 )
  {
    v13 = v25 >> 1;
    v12 = v24 >> 1;
    v20 = word_1050575C;
LABEL_9:
    v19 = v13;
    goto LABEL_10;
  }
  if ( a8 )
  {
    v13 = v25;
    v12 = v24;
    v20 = word_10505758;
    goto LABEL_9;
  }
LABEL_10:
  if ( v19 >= 1u )
  {
    do
    {
      *(_WORD *)v10 = *((_WORD *)v21 + 1);
      sub_100632B0((int)v21, (unsigned __int16 *)v10, (int)&v23, v12);
      if ( (unsigned __int16)v12 + v18 > a3 )
      {
        *(_WORD *)(a9 + 14) = v9 - 3;
        a4(v9 - v22, v12, a9, a5);
        v22 = (unsigned __int16)v9;
        v18 = 0;
      }
      memcpy((void *)(a2 + 2 * v18), v10 + 2, 2 * (unsigned __int16)v12);
      if ( (_WORD)v12 )
      {
        v14 = (_WORD *)(a2 + 2 * v18);
        v15 = (unsigned __int16)v12;
        do
        {
          v16 = *v14 - v20;
          *v14 = v16;
          if ( v16 > -870 )
          {
            if ( v16 <= -770 )
              *v14 = 0;
          }
          else
          {
            *v14 = -32767;
          }
          ++v14;
          --v15;
        }
        while ( v15 );
      }
      v18 += v12;
      *(_WORD *)&v10[2 * v24 + 2] = *(_WORD *)&v10[2 * v24];
      v17 = v10;
      v10 = v21;
      ++v9;
      v21 = v17;
    }
    while ( (unsigned __int16)v9 <= v19 );
  }
  *(_WORD *)(a9 + 14) = v9 - 3;
  a4(v9 - v22, v12, a9, a5);
  return sub_10062B20((int)&v23);
}
// 10505758: using guessed type __int16 word_10505758;
// 1050575C: using guessed type __int16 word_1050575C;

//----- (10062910) --------------------------------------------------------
int __cdecl sub_10062910(char a1, int a2)
{
  int v2; // esi@1
  bool v3; // sf@1
  int result; // eax@1
  unsigned __int8 v5; // dl@4
  char v6; // cl@4
  int v7; // edx@4

  v2 = a2;
  *(_DWORD *)(v2 + 564) <<= a1;
  v3 = (char)(a1 + *(_BYTE *)(a2 + 525)) < 0;
  *(_BYTE *)(v2 + 525) += a1;
  result = 0;
  if ( !v3 )
  {
    do
    {
      if ( *(_WORD *)(a2 + 542) >= 508 )
      {
        result = sub_10062C50(a2);
        if ( result )
          break;
      }
      v5 = *(_BYTE *)((*(_WORD *)(a2 + 542))++ + a2 + 5);
      v6 = *(_BYTE *)(a2 + 525);
      v7 = v5 << v6;
      v6 -= 8;
      *(_BYTE *)(a2 + 525) = v6;
      *(_DWORD *)(a2 + 564) |= v7;
    }
    while ( v6 >= 0 );
  }
  return result;
}

//----- (100629A0) --------------------------------------------------------
unsigned __int16 __cdecl sub_100629A0(unsigned __int16 a1, int a2)
{
  unsigned __int16 v2; // di@1
  unsigned __int8 v3; // al@2
  char v4; // dl@2
  char v5; // bl@4
  unsigned __int8 v6; // al@6
  unsigned __int8 v7; // al@7
  char v8; // cl@7
  char v9; // al@11
  __int16 v10; // di@12
  char v11; // al@13
  unsigned __int8 v12; // al@14
  char v13; // cl@14
  unsigned __int8 v15; // al@17
  unsigned __int8 v16; // al@18
  char v17; // cl@18
  unsigned __int16 v18; // [sp+10h] [bp-8h]@1
  char v19; // [sp+14h] [bp-4h]@4

  v18 = 0;
  v2 = 0;
  while ( 1 )
  {
    v3 = *(_BYTE *)(a2 + 567);
    v4 = 0;
    if ( v3 >= 0x80u )
      v4 = byte_100D3410[(unsigned __int8)~v3];
    v5 = 1;
    v19 = 1;
    if ( (unsigned __int8)v4 >= 1u )
      break;
LABEL_9:
    if ( v4 != 8 )
    {
      sub_10062910(v4 + 1, a2);
      v9 = *(_BYTE *)(a2 + 524);
      if ( v9 )
      {
        v10 = *(_DWORD *)(a2 + 564) >> (32 - v9);
        sub_10062910(v9, a2);
        v2 = v10 + v18;
      }
      *(_BYTE *)(a2 + 518) = *(_BYTE *)(a2 + 524) + 1;
      v11 = *(_BYTE *)(a2 + 515);
      if ( v11 )
      {
        v12 = v11 - 1;
        *(_BYTE *)(a2 + 515) = v12;
        v13 = byte_100D33EC[v12];
        *(_BYTE *)(a2 + 524) = v13;
        *(_WORD *)(a2 + 560) = 1 << v13;
      }
      return v2;
    }
    sub_10062910(8, a2);
  }
  while ( 1 )
  {
    v2 += *(_WORD *)(a2 + 560);
    v18 = v2;
    if ( v2 >= a1 )
      break;
    v6 = *(_BYTE *)(a2 + 515);
    if ( v6 < 0x20u )
    {
      v7 = v6 + 1;
      *(_BYTE *)(a2 + 515) = v7;
      v8 = byte_100D33EC[v7];
      *(_BYTE *)(a2 + 524) = v8;
      *(_WORD *)(a2 + 560) = 1 << v8;
    }
    v19 = ++v5;
    if ( (unsigned __int8)v5 > (unsigned __int8)v4 )
      goto LABEL_9;
  }
  if ( v2 == a1 )
  {
    v15 = *(_BYTE *)(a2 + 515);
    if ( v15 < 0x20u )
    {
      v16 = v15 + 1;
      *(_BYTE *)(a2 + 515) = v16;
      v17 = byte_100D33EC[v16];
      *(_BYTE *)(a2 + 524) = v17;
      *(_WORD *)(a2 + 560) = 1 << v17;
    }
  }
  sub_10062910(v19, a2);
  return a1;
}

//----- (10062B20) --------------------------------------------------------
signed int __cdecl sub_10062B20(int a1)
{
  int v1; // ebp@1
  char v2; // cl@1
  int v3; // esi@1
  int i; // eax@1
  char v5; // dl@2
  int v6; // edi@2
  _BYTE *v7; // esi@3
  int v8; // ebp@3
  int v9; // ebx@4
  char v10; // cl@8
  int v11; // eax@11
  signed int result; // eax@14
  int v13; // [sp+14h] [bp-4h]@1

  v1 = a1;
  v2 = 24 - *(_BYTE *)(a1 + 525);
  v3 = v2;
  v13 = v2;
  for ( i = (v2 + 2) / 8; ; LOBYTE(i) = i - 1 )
  {
    v5 = 0;
    v6 = 0;
    if ( (char)i > 0 )
    {
      v7 = (_BYTE *)(*(_WORD *)(v1 + 542) - (char)i + v1 + 5);
      v8 = (unsigned __int8)i;
      do
      {
        v9 = *v7 << (24 - v5);
        v5 += 8;
        ++v7;
        v6 |= v9;
        --v8;
      }
      while ( v8 );
      v2 = 24 - *(_BYTE *)(a1 + 525);
      v1 = a1;
      v3 = v13;
    }
    if ( v5 <= v2 )
      break;
  }
  v10 = v2 - v5;
  if ( v3 - v5 > 7 || v6 != *(_DWORD *)(v1 + 564) << v10 || (((1 << v10) - 1) << (32 - v10)) & *(_DWORD *)(v1 + 564) )
  {
    result = 14;
  }
  else
  {
    *(_WORD *)(v1 + 542) -= (char)i;
    v11 = *(_WORD *)(v1 + 542) + v1;
    if ( *(_BYTE *)(v11 + 4) == -1 && !*(_BYTE *)(v11 + 5) )
      ++*(_WORD *)(v1 + 542);
    result = 0;
    *(_BYTE *)(v1 + 525) = 0;
    *(_DWORD *)(v1 + 564) = 0;
  }
  return result;
}

//----- (10062C30) --------------------------------------------------------
int __cdecl sub_10062C30(int a1)
{
  int result; // eax@1

  result = a1;
  *(_WORD *)(a1 + 542) = 508;
  *(_BYTE *)(a1 + 514) = 0;
  return result;
}

//----- (10062C50) --------------------------------------------------------
int __cdecl sub_10062C50(int a1)
{
  int v1; // esi@1
  signed int v2; // eax@1
  _BYTE *v3; // ecx@1
  signed int v4; // edi@1
  int v5; // eax@3
  size_t v6; // edi@3
  int result; // eax@5

  v1 = a1;
  v2 = -4;
  v3 = (_BYTE *)(a1 + 1);
  v4 = 4;
  do
  {
    *v3++ = *(_BYTE *)(v2++ + *(_WORD *)(v1 + 542) + v1 + 5);
    --v4;
  }
  while ( v4 );
  v5 = *(_DWORD *)(v1 + 572);
  v6 = *(_WORD *)(v1 + 552) - v5;
  a1 = v5 + *(_DWORD *)(v1 + 568);
  if ( v6 > 0x1FC )
    v6 = 508;
  result = sub_10061740(*(_BYTE *)(v1 + 513), (void *)(v1 + 5), v6, (int)&a1);
  if ( !result )
  {
    *(_DWORD *)(v1 + 572) += v6;
    *(_WORD *)(v1 + 542) = 0;
  }
  return result;
}

//----- (10062CE0) --------------------------------------------------------
int __cdecl sub_10062CE0(int a1)
{
  *(_DWORD *)(a1 + 564) = 0;
  *(_BYTE *)(a1 + 525) = 0;
  return sub_10062910(24, a1);
}

//----- (10062D00) --------------------------------------------------------
__int16 __usercall sub_10062D00@<ax>(int a1@<ecx>, int a2@<esi>, unsigned __int16 a3, unsigned __int16 a4, unsigned __int8 a5)
{
  int v5; // edi@1
  unsigned int v6; // eax@2
  char v7; // bl@4
  int v8; // eax@7
  signed int v9; // ebp@7
  unsigned __int8 v10; // cl@10
  char v11; // al@10
  unsigned __int8 v12; // al@15
  __int16 v13; // bp@17
  int v14; // ebp@18
  char v15; // al@23
  int v16; // eax@26
  int v17; // ecx@26
  int v18; // ebp@28
  int v19; // ecx@28
  __int16 v20; // ax@28
  __int16 v21; // ax@36
  __int16 result; // ax@43
  int v23; // [sp+4h] [bp-Ch]@7
  int v24; // [sp+4h] [bp-Ch]@25
  __int16 v25; // [sp+4h] [bp-Ch]@28
  int v26; // [sp+8h] [bp-8h]@0
  char v27; // [sp+Ch] [bp-4h]@4
  int v28; // [sp+1Ch] [bp+Ch]@29
  int v29; // [sp+1Ch] [bp+Ch]@41

  LOWORD(v26) = a5;
  v5 = (unsigned __int16)(a5 + 2);
  if ( a5 )
    LOWORD(v6) = *(_WORD *)(a2 + 2 * v5 + 526) + (unsigned __int8)(*(_BYTE *)(v5 + a2 + 519) >> 1);
  else
    LOWORD(v6) = *(_WORD *)(a2 + 2 * v5 + 526);
  v6 = (unsigned __int16)v6;
  v7 = 0;
  v27 = 0;
  if ( *(_BYTE *)(v5 + a2 + 519) < (unsigned int)(unsigned __int16)v6 )
  {
    do
      ++v7;
    while ( (unsigned int)*(_BYTE *)(v5 + a2 + 519) << v7 < v6 );
    v27 = v7;
  }
  v8 = 0;
  v23 = 0;
  v9 = 100;
  while ( !v8 )
  {
    if ( --v9 <= 0 )
      break;
    v10 = *(_BYTE *)(a2 + 567);
    v11 = 0;
    if ( v10 < 0x80u )
      v11 = byte_100D3410[v10];
    LOWORD(v23) = (unsigned __int8)v11 + (_WORD)v23;
    if ( v11 != 8 )
    {
      sub_10062910(v11 + 1, a2);
      break;
    }
    v8 = sub_10062910(8, a2);
  }
  v12 = *(_BYTE *)(a2 + 516) - *(_BYTE *)(a2 + 518);
  *(_BYTE *)(a2 + 517) = v12;
  if ( (signed __int16)v23 >= v12 )
  {
    v14 = (unsigned __int16)(*(_DWORD *)(a2 + 564) >> (32 - *(_BYTE *)(a2 + 523)));
    sub_10062910(*(_BYTE *)(a2 + 523), a2);
    v23 = v14 + 1;
LABEL_19:
    if ( v7 )
      goto LABEL_24;
    goto LABEL_20;
  }
  if ( v7 )
  {
    v13 = *(_DWORD *)(a2 + 564) >> (32 - v7);
    sub_10062910(v27, a2);
    v23 = (unsigned __int16)(v13 + ((_WORD)v23 << v7));
    goto LABEL_19;
  }
LABEL_20:
  if ( a5 || (_WORD)v23 )
  {
    a1 = *(_BYTE *)(v5 + a2 + 519);
    if ( 2 * *(_WORD *)(a2 + 2 * v5 + 534) < a1 )
    {
      v15 = 1;
      goto LABEL_25;
    }
  }
LABEL_24:
  v15 = 0;
LABEL_25:
  LOWORD(a1) = (unsigned __int8)v15;
  v24 = a1 + v26 + v23;
  if ( v24 & 1 )
  {
    v16 = (unsigned __int16)((unsigned __int8)v15 - (unsigned __int16)(((signed __int16)v24 + 1) / 2));
    v17 = -(v16 + v26);
    ++*(_WORD *)(a2 + 2 * v5 + 534);
  }
  else
  {
    LOWORD(v16) = (signed __int16)v24 / 2;
    LOWORD(v17) = (signed __int16)v24 / 2 - a5;
  }
  v18 = *(_WORD *)(a2 + 544);
  v25 = v17;
  v19 = 2 * v18 + 1;
  v20 = v16 * (2 * v18 + 1);
  if ( a5 )
  {
    v28 = (unsigned __int16)(a3 + v20);
  }
  else if ( a4 >= a3 )
  {
    if ( a4 <= a3 )
      v28 = 0;
    else
      v28 = (unsigned __int16)(a4 + v20);
  }
  else
  {
    v28 = (unsigned __int16)(a4 - v20);
  }
  if ( (signed __int16)v28 >= -(signed __int16)v18 )
  {
    if ( (signed __int16)v28 <= (signed __int16)(v18 + *(_WORD *)(a2 + 546)) )
      goto LABEL_40;
    v21 = v28 - v19 * *(_WORD *)(a2 + 558);
  }
  else
  {
    v21 = v19 * *(_WORD *)(a2 + 558) + v28;
  }
  LOWORD(v28) = v21;
LABEL_40:
  if ( v28 & 0x8000 )
    v29 = 0;
  else
    v29 = v28 & 0x3FFF;
  *(_WORD *)(a2 + 2 * v5 + 526) += v25;
  result = v29;
  if ( *(_BYTE *)(v5 + a2 + 519) == 64 )
  {
    *(_BYTE *)(v5 + a2 + 519) = 32;
    *(_WORD *)(a2 + 2 * v5 + 526) >>= 1;
    *(_WORD *)(a2 + 2 * v5 + 534) >>= 1;
  }
  ++*(_BYTE *)(v5 + a2 + 519);
  return result;
}

//----- (10062FC0) --------------------------------------------------------
__int16 __usercall sub_10062FC0@<ax>(int a1@<edi>, int a2@<esi>, char a3, __int16 a4)
{
  char v4; // bl@4
  signed __int16 v5; // bp@7
  unsigned __int8 v6; // cl@8
  char v7; // al@8
  __int16 v8; // bp@14
  __int16 v9; // bp@15
  __int16 v10; // ax@18
  __int16 v11; // cx@26
  signed __int16 v12; // dx@29
  __int16 v13; // dx@32
  unsigned __int8 v14; // cl@41
  __int16 v15; // ax@41
  __int16 v16; // cx@42
  __int16 result; // ax@44
  __int16 v18; // ax@47
  bool v19; // zf@47
  bool v20; // sf@47
  signed __int16 v21; // [sp+0h] [bp-8h]@12
  __int16 v22; // [sp+0h] [bp-8h]@18
  char v23; // [sp+4h] [bp-4h]@4
  int v24; // [sp+Ch] [bp+4h]@31
  int v25; // [sp+Ch] [bp+4h]@37
  int v26; // [sp+10h] [bp+8h]@2

  if ( a4 & 0x8000 )
    v26 = 0;
  else
    v26 = a4 & 0x3FFF;
  a1 = (unsigned __int16)a1;
  v4 = 0;
  v23 = 0;
  if ( (unsigned __int16)*(_BYTE *)((unsigned __int16)a1 + a2 + 519) < *(_WORD *)(a2 + 2 * (unsigned __int16)a1 + 526) )
  {
    do
      ++v4;
    while ( *(_BYTE *)(a1 + a2 + 519) << v4 < *(_WORD *)(a2 + 2 * a1 + 526) );
    v23 = v4;
  }
  v5 = 0;
  while ( 1 )
  {
    v6 = *(_BYTE *)(a2 + 567);
    v7 = 0;
    if ( v6 < 0x80u )
      v7 = byte_100D3410[v6];
    v5 += (unsigned __int8)v7;
    if ( v7 != 8 )
      break;
    sub_10062910(8, a2);
  }
  v21 = v5;
  sub_10062910(v7 + 1, a2);
  if ( v5 >= *(_BYTE *)(a2 + 516) )
  {
    v9 = *(_DWORD *)(a2 + 564) >> (32 - *(_BYTE *)(a2 + 523));
    sub_10062910(*(_BYTE *)(a2 + 523), a2);
    v21 = v9 + 1;
  }
  else
  {
    if ( !v4 )
      goto LABEL_17;
    v8 = *(_DWORD *)(a2 + 564) >> (32 - v4);
    sub_10062910(v23, a2);
    v21 = v8 + (v21 << v4);
  }
  v5 = v21;
LABEL_17:
  if ( v21 & 1 )
  {
    v22 = (v5 + 1) / 2;
    v10 = (v5 + 1) / -2;
  }
  else
  {
    v22 = v5 / 2;
    v10 = v5 / 2;
  }
  if ( !v4 && !*(_WORD *)(a2 + 544) && 2 * *(_WORD *)(a2 + 2 * a1 + 534) <= -*(_BYTE *)(a1 + a2 + 519) )
  {
    v10 = -1 - v10;
    if ( v10 >= 0 )
      v22 = v10;
    else
      v22 = -v10;
  }
  v11 = *(_WORD *)(a2 + 544);
  if ( v11 )
    v10 *= 2 * v11 + 1;
  if ( a3 == -1 )
    v12 = v26 - v10;
  else
    v12 = v10 + v26;
  v24 = (unsigned __int16)v12;
  if ( v12 >= -v11 )
  {
    if ( v12 <= (signed __int16)(v11 + *(_WORD *)(a2 + 546)) )
      goto LABEL_36;
    v13 = v12 - *(_WORD *)(a2 + 558) * (2 * v11 + 1);
  }
  else
  {
    v13 = *(_WORD *)(a2 + 558) * (2 * v11 + 1) + v12;
  }
  LOWORD(v24) = v13;
LABEL_36:
  if ( v24 & 0x8000 )
    v25 = 0;
  else
    v25 = v24 & 0x3FFF;
  *(_WORD *)(a2 + 2 * a1 + 534) += v10;
  *(_WORD *)(a2 + 2 * a1 + 526) += v22;
  if ( *(_BYTE *)(a1 + a2 + 519) == 64 )
  {
    *(_BYTE *)(a1 + a2 + 519) = 32;
    *(_WORD *)(a2 + 2 * a1 + 526) >>= 1;
    *(_WORD *)(a2 + 2 * a1 + 534) >>= 1;
  }
  v14 = ++*(_BYTE *)(a1 + a2 + 519);
  v15 = *(_WORD *)(a2 + 2 * a1 + 534);
  if ( *(_WORD *)(a2 + 2 * a1 + 534) <= -*(_BYTE *)(a1 + a2 + 519) )
  {
    v16 = v15 + v14;
    *(_WORD *)(a2 + 2 * a1 + 534) = v16;
    if ( v16 <= -*(_BYTE *)(a1 + a2 + 519) )
      *(_WORD *)(a2 + 2 * a1 + 534) = 1 - *(_BYTE *)(a1 + a2 + 519);
    return v25;
  }
  if ( v15 <= 0 )
    return v25;
  v18 = v15 - v14;
  *(_WORD *)(a2 + 2 * a1 + 534) = v18;
  v19 = v18 == 0;
  v20 = v18 < 0;
  result = v25;
  if ( !v20 && !v19 )
    *(_WORD *)(a2 + 2 * a1 + 534) = 0;
  return result;
}

//----- (100632B0) --------------------------------------------------------
int __cdecl sub_100632B0(int a1, unsigned __int16 *a2, int a3, unsigned __int16 a4)
{
  unsigned __int16 v4; // cx@1
  unsigned __int16 v5; // bp@1
  int result; // eax@1
  unsigned __int16 *v7; // esi@1
  signed int v8; // ebx@1
  unsigned __int16 v9; // di@1
  int v10; // edx@6
  __int16 v11; // ax@9
  unsigned __int16 v12; // [sp+10h] [bp-10h]@1

  v4 = *(_WORD *)a1;
  v5 = *(_WORD *)(a1 + 2);
  result = *(_WORD *)(a1 + 4);
  v7 = a2;
  v8 = 1;
  v9 = *a2;
  v12 = *(_WORD *)(a1 + 4);
  if ( a4 >= 1u )
  {
    while ( 1 )
    {
      if ( (unsigned __int16)abs(v5 - v9) > *(_WORD *)(a3 + 544) )
      {
        v11 = sub_10062FC0(1, a3, 2 * (v5 > v9) - 1, v9 + v5 - v4);
      }
      else
      {
        result = sub_100629A0(a4 - v8 + 1, a3);
        if ( (_WORD)result )
        {
          do
          {
            v10 = (unsigned __int16)v8;
            result += 0xFFFF;
            ++v8;
            v7[v10] = v9;
          }
          while ( (_WORD)result );
          if ( (unsigned __int16)v8 > a4 )
            return result;
          v5 = *(_WORD *)(a1 + 2 * (unsigned __int16)v8);
          v12 = *(_WORD *)(a1 + 2 * (unsigned __int16)v8 + 2);
        }
        v11 = sub_10062D00(*(_WORD *)(a3 + 544), a3, v9, v5, abs(v5 - v9) <= (signed int)*(_WORD *)(a3 + 544));
      }
      v9 = v11;
      a2[(unsigned __int16)v8] = v11;
      result = a1;
      ++v8;
      v4 = v5;
      v5 = v12;
      v12 = *(_WORD *)(a1 + 2 * (unsigned __int16)v8 + 2);
      if ( (unsigned __int16)v8 > a4 )
        return result;
      v7 = a2;
    }
  }
  return result;
}

//----- (100633F0) --------------------------------------------------------
int __usercall sub_100633F0@<eax>(__int16 a1@<ax>)
{
  int v1; // eax@1

  v1 = (signed __int16)(25736 * a1 >> 13);
  return 0x7FFF
       - ((signed __int16)(v1 * v1 >> 15)
        * (signed __int16)(0x7FFF
                         - (21845
                          * (signed __int16)((signed __int16)(v1 * v1 >> 15)
                                           * (signed __int16)(0x7FFF - (17476 * (signed __int16)(v1 * v1 >> 15) >> 19)) >> 15) >> 18)) >> 16);
}

//----- (10063450) --------------------------------------------------------
int __usercall sub_10063450@<eax>(__int16 a1@<ax>)
{
  int v1; // ecx@1

  v1 = (signed __int16)(25736 * a1 >> 13);
  return v1
       * (signed __int16)(0x7FFF
                        - (21845
                         * (signed __int16)((signed __int16)(v1 * v1 >> 15)
                                          * (signed __int16)(0x7FFF
                                                           - (26214
                                                            * (signed __int16)((signed __int16)(v1 * v1 >> 15)
                                                                             * (signed __int16)(0x7FFF
                                                                                              - (24966
                                                                                               * (signed __int16)(v1 * v1 >> 15) >> 20)) >> 15) >> 19)) >> 15) >> 17)) >> 15;
}

//----- (100634D0) --------------------------------------------------------
int __cdecl sub_100634D0(int a1)
{
  __int16 v1; // ax@1
  int result; // eax@4

  v1 = ((a1 + 0x2000) & 0x3FFF) - 0x2000;
  if ( ((a1 + 0x2000) >> 14) & 3 )
  {
    if ( (((a1 + 0x2000) >> 14) & 3) == 1 )
    {
      result = (unsigned __int16)sub_100633F0(v1);
    }
    else if ( (((a1 + 0x2000) >> 14) & 3) == 2 )
    {
      result = (unsigned __int16)-sub_10063450(v1);
    }
    else
    {
      result = (unsigned __int16)-sub_100633F0(v1);
    }
  }
  else
  {
    result = (unsigned __int16)sub_10063450(v1);
  }
  return result;
}

//----- (10063530) --------------------------------------------------------
int __cdecl sub_10063530(int a1)
{
  return sub_100634D0(a1 + 0x4000);
}

//----- (10063550) --------------------------------------------------------
double __cdecl sub_10063550(float a1, float a2, int a3)
{
  float v4; // [sp+8h] [bp+8h]@1
  int v5; // [sp+Ch] [bp+Ch]@6

  v4 = a2 - a1;
  if ( (_BYTE)a3 )
  {
    if ( (LODWORD(v4) >> 31) & 1 )
      v4 = v4 + 6.283185482025146;
  }
  else if ( v4 > 0.0 )
  {
    v4 = v4 - 6.283185482025146;
  }
  *(float *)&v5 = v4 - 6.283185482025146 * (double)(signed int)(v4 / 6.283185482025146);
  return *(float *)&v5;
}

//----- (100635C0) --------------------------------------------------------
double __cdecl sub_100635C0(float a1, float a2)
{
  double v2; // st7@1
  double result; // st7@2
  double v4; // st6@3
  double v5; // st5@3
  bool v6; // c0@7
  bool v7; // c3@7
  float v8; // [sp+8h] [bp+8h]@3
  float v9; // [sp+8h] [bp+8h]@5
  float v10; // [sp+8h] [bp+8h]@6
  float v11; // [sp+8h] [bp+8h]@8

  v2 = a2;
  if ( a2 > 0.000001 )
  {
    v4 = a1;
    v8 = a1 / v2;
    v5 = v8;
    if ( v8 < -2100000000.0 || v5 > 2100000000.0 )
    {
      result = a1;
    }
    else
    {
      v9 = (double)(signed int)v5 * v2;
      if ( v9 != v4 && (v6 = 0.0 < v4, v7 = 0.0 == v4, v4 = v9, v6 || v7) )
      {
        v11 = v2 + v9;
        result = v11;
      }
      else
      {
        v10 = v4;
        result = v10;
      }
    }
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (10063660) --------------------------------------------------------
bool __cdecl sub_10063660(float a1, float a2, float a3)
{
  __int16 v3; // fps@1
  bool v4; // c0@1
  char v5; // c2@1
  bool v6; // c3@1
  __int16 v7; // ax@1
  double v8; // st6@1
  bool result; // al@5
  float v10; // [sp+10h] [bp-4h]@1

  v4 = 0.0 < a2;
  v5 = 0;
  v6 = 0.0 == a2;
  HIBYTE(v7) = HIBYTE(v3);
  LOBYTE(v7) = (v4 || v6) != 0;
  v10 = sub_10063550(a1, a3, v7);
  v8 = a2;
  if ( a2 > 0.0 && v10 < v8 )
    result = 1;
  else
    result = v8 < 0.0 && v8 < v10;
  return result;
}

//----- (100636E0) --------------------------------------------------------
double __cdecl sub_100636E0(double a1, double a2)
{
  double result; // st7@1
  double v3; // [sp+0h] [bp-8h]@2

  result = 0.0;
  if ( a2 > 0.0 )
  {
    v3 = a2 + a2;
    result = fmod(a1, v3);
    if ( a2 > result )
    {
      if ( -a2 > result )
        result = result + v3;
    }
    else
    {
      result = result - v3;
    }
  }
  return result;
}

//----- (10063740) --------------------------------------------------------
double __cdecl sub_10063740(float a1, float a2)
{
  double v2; // st7@1
  double result; // st7@2
  double v4; // st6@3
  double v5; // st5@5
  float v6; // [sp+8h] [bp+8h]@3
  float v7; // [sp+8h] [bp+8h]@3
  float v8; // [sp+8h] [bp+8h]@4
  float v9; // [sp+8h] [bp+8h]@6

  v2 = a2;
  if ( a2 > 0.000001 )
  {
    v6 = v2 + v2;
    v4 = v6;
    v7 = a1 - (double)(signed int)(a1 / v6) * v6;
    if ( v7 < v2 )
    {
      v5 = v2;
      result = v7;
      if ( -v5 > v7 )
      {
        v9 = result + v4;
        result = v9;
      }
    }
    else
    {
      v8 = v7 - v4;
      result = v8;
    }
  }
  else
  {
    result = 0.0;
  }
  return result;
}

//----- (100637C0) --------------------------------------------------------
void __cdecl sub_100637C0(double a1)
{
  sub_100636E0(a1, 3.1415926535898);
}

//----- (100637E0) --------------------------------------------------------
double __cdecl sub_100637E0(float a1)
{
  double result; // st7@3

  if ( a1 == -3.141592741012573 || a1 == 3.141592741012573 )
    result = -3.1415925;
  else
    result = sub_10063740(a1, 3.1415927);
  return result;
}

//----- (10063820) --------------------------------------------------------
int __cdecl sub_10063820(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(float *)a2 = *(double *)a1;
  *(float *)(a2 + 4) = *(double *)(a1 + 8);
  return result;
}

//----- (10063840) --------------------------------------------------------
int __cdecl sub_10063840(float a1)
{
  double v1; // st7@1
  int result; // eax@2

  v1 = a1;
  if ( a1 >= 0.0 )
    result = (signed int)(v1 + 0.5);
  else
    result = (signed int)(v1 - 0.5);
  return result;
}

//----- (10063870) --------------------------------------------------------
int __cdecl sub_10063870(signed int a1, signed int a2)
{
  int result; // eax@2
  int v3; // [sp+4h] [bp-4h]@4

  if ( a2 > 0 )
  {
    if ( a1 >= 0 )
      v3 = a2;
    else
      v3 = -a2;
    result = a2 * (signed int)(((double)v3 * 0.5 + (double)a1) / (double)a2);
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (100638C0) --------------------------------------------------------
double __cdecl sub_100638C0(float a1, float a2)
{
  double v2; // st7@1
  double result; // st7@2
  float v4; // [sp+8h] [bp+8h]@5

  v2 = a2;
  if ( a2 > 0.000001 )
  {
    if ( a1 < 0.0 )
      a2 = -v2;
    v4 = v2 * (double)(signed int)((a1 + a2 * 0.5) / v2);
    result = v4;
  }
  else
  {
    result = a1;
  }
  return result;
}

//----- (10063930) --------------------------------------------------------
int __cdecl sub_10063930(double a1, int a2, int a3)
{
  int result; // eax@1

  result = a3;
  *(long double *)a3 = cos(a1);
  *(long double *)a2 = sin(a1);
  return result;
}

//----- (10063950) --------------------------------------------------------
int __cdecl sub_10063950(float a1, int a2, int a3)
{
  int result; // eax@1

  result = a3;
  *(float *)a3 = cos(a1);
  *(float *)a2 = sin(a1);
  return result;
}

//----- (10063970) --------------------------------------------------------
int __cdecl sub_10063970(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(double *)a2 = *(float *)a1;
  *(double *)(a2 + 8) = *(float *)(a1 + 4);
  return result;
}

//----- (10063990) --------------------------------------------------------
int __cdecl sub_10063990(float a1)
{
  double v1; // st7@1
  int result; // eax@3
  float v3; // [sp+8h] [bp+4h]@1
  float v4; // [sp+8h] [bp+4h]@2
  float v5; // [sp+8h] [bp+4h]@3

  v3 = sub_100637E0(a1);
  v1 = v3;
  if ( v3 < 0.0 )
  {
    v4 = v1 + 6.283185482025146;
    v1 = v4;
  }
  v5 = v1 * 180.0 / 3.1415926535898;
  result = (signed int)(v5 + 0.5);
  if ( result >= 360 )
    result = 0;
  return result;
}

//----- (100639F0) --------------------------------------------------------
bool __cdecl sub_100639F0(float a1, float a2, float a3)
{
  float v4; // [sp+8h] [bp+4h]@1
  float v5; // [sp+8h] [bp+4h]@1

  v4 = a1 - a2;
  v5 = fabs(sub_100637E0(v4));
  return a3 >= (double)v5;
}

//----- (10063A30) --------------------------------------------------------
double __cdecl sub_10063A30(double a1, double a2)
{
  double result; // st7@1

  result = 0.0;
  if ( a2 == 0.0 )
  {
    if ( a1 != 0.0 )
    {
      if ( a1 <= 0.0 )
        result = -1.5707963267949;
      else
        result = 1.5707963267949;
    }
  }
  else
  {
    result = atan(a1 / a2);
    if ( a2 < 0.0 )
    {
      result = result + 3.1415926535898;
      sub_100637C0(result);
    }
  }
  return result;
}

//----- (10063AA0) --------------------------------------------------------
double __cdecl sub_10063AA0(float a1, float a2)
{
  double result; // st7@1
  float v3; // [sp+4h] [bp-4h]@6
  float v4; // [sp+10h] [bp+8h]@7

  result = 0.0;
  if ( a2 == 0.0 )
  {
    if ( a1 != 0.0 )
    {
      if ( a1 <= 0.0 )
        result = -1.5707964;
      else
        result = 1.5707964;
    }
  }
  else
  {
    v3 = atan(a1 / a2);
    if ( a2 < 0.0 )
    {
      v4 = v3 + 3.141592741012573;
      v3 = sub_100637E0(v4);
    }
    result = v3;
  }
  return result;
}

//----- (10063B30) --------------------------------------------------------
int __cdecl sub_10063B30(unsigned int a1, unsigned int a2)
{
  unsigned int v2; // eax@1
  char v3; // cl@1
  unsigned int v4; // edi@9
  int v5; // esi@9
  unsigned int v6; // esi@9
  unsigned __int64 v7; // rax@9
  int v8; // ebx@9
  unsigned __int64 v9; // rax@9
  unsigned __int64 v10; // rax@11
  __int64 v12; // [sp-18h] [bp-28h]@11

  v2 = a2;
  v3 = 32;
  if ( !a2 )
    v3 = 33;
  if ( a2 >> 16 )
  {
    v2 = a2 >> 16;
    v3 = 16;
  }
  if ( v2 >> 8 )
  {
    v2 >>= 8;
    v3 -= 8;
  }
  do
  {
    --v3;
    v2 >>= 1;
  }
  while ( v2 );
  if ( a1 >= a2 )
  {
    LODWORD(v10) = 0x7FFFFFFF;
  }
  else
  {
    v4 = a2 << v3;
    v5 = (unsigned __int8)byte_100D3430[a2 << v3 >> 24] + 256;
    v6 = (v5 << 9) - ((unsigned int)(v5 * v5) * (unsigned __int64)(a2 << v3) >> 32);
    v7 = v6 * (unsigned __int64)v6;
    v8 = HIDWORD(v7);
    v9 = ((HIDWORD(v7) << 31) + (v7 & 1) + ((unsigned int)v7 >> 1)) * (a2 << v3);
    if ( v8 << 30 < 0 )
      HIDWORD(v9) += v4;
    v10 = (a1 << v3) * (unsigned __int64)((v6 << 16) - HIDWORD(v9) - 1);
    HIDWORD(v12) = -1 - (HIDWORD(v10) > 0xFFFFFFFF);
    LODWORD(v12) = -1 - HIDWORD(v10);
    LODWORD(v10) = HIDWORD(v10);
    if ( (((((unsigned __int64)(a1 << v3 >> 1) << 32) + v12 * (a2 << v3)) >> 32) & 0x80000000) == 0i64 )
      LODWORD(v10) = HIDWORD(v10) + 1;
    if ( ((((((unsigned __int64)(a1 << v3 >> 1) << 32) + v12 * v4) >> 32) - ((unsigned int)v12 * v4 < v4)) & 0x80000000) == 0i64 )
      LODWORD(v10) = v10 + 1;
  }
  return v10;
}

//----- (10063C50) --------------------------------------------------------
int __cdecl sub_10063C50(unsigned int a1, unsigned int a2)
{
  unsigned int v2; // edi@1
  int result; // eax@1

  v2 = (a2 - (a2 >> 31)) ^ ((signed int)(a2 - (a2 >> 31)) >> 31);
  result = sub_10063B30((a1 - (a1 >> 31)) ^ ((signed int)(a1 - (a1 >> 31)) >> 31), v2);
  if ( ((a2 ^ a1) & 0x80000000) != 0 )
  {
    result = -result;
    if ( ((a1 - (a1 >> 31)) ^ ((signed int)(a1 - (a1 >> 31)) >> 31)) >= v2 )
      result = 2147483648;
  }
  return result;
}

//----- (10063CA0) --------------------------------------------------------
signed __int64 __cdecl sub_10063CA0(int a1, int a2)
{
  return a2 * (signed __int64)a1 >> 31;
}

//----- (10063CB0) --------------------------------------------------------
int __cdecl sub_10063CB0(int a1)
{
  signed __int64 v1; // rax@1
  unsigned int v2; // ebx@1
  signed __int64 v3; // rdi@1
  unsigned __int64 v4; // rax@1

  v1 = (signed int)(1686629713i64 * a1 >> 29) * (signed __int64)(signed int)(1686629713i64 * a1 >> 29);
  v2 = v1 >> 30;
  v3 = -2147483648i64 * (v2 >> 1) + 0x7FFFFFFFFFFFFFFFi64;
  v4 = (v2 >> 1) * (unsigned __int64)v2;
  return (-1184i64 * (((HIDWORD(v4) * (unsigned __int64)v2 >> 32) * v2 >> 32) * v2 >> 32)
        + 106522 * ((HIDWORD(v4) * (unsigned __int64)v2 >> 32) * v2 >> 32)
        + -5965232i64 * (HIDWORD(v4) * (unsigned __int64)v2 >> 32)
        + 178956971i64 * SHIDWORD(v4)
        + v3) >> 32;
}

//----- (10063DC0) --------------------------------------------------------
int __cdecl sub_10063DC0(int a1)
{
  int v1; // eax@1
  __int64 v2; // ST28_8@1
  signed __int64 v3; // rax@1
  unsigned int v4; // ebx@1
  signed __int64 v5; // rdi@1
  unsigned __int64 v6; // rax@1

  v1 = 1686629713i64 * a1 >> 29;
  v2 = v1;
  v3 = v1 * (signed __int64)v1;
  v4 = v3 >> 30;
  v5 = -715827883i64 * (v4 >> 1) + 0x7FFFFFFFFFFFFFFFi64;
  v6 = (v4 >> 1) * (unsigned __int64)v4;
  return (signed int)((-108i64 * (((HIDWORD(v6) * (unsigned __int64)v4 >> 32) * v4 >> 32) * v4 >> 32)
                     + 11836 * ((HIDWORD(v6) * (unsigned __int64)v4 >> 32) * v4 >> 32)
                     + -852176i64 * (HIDWORD(v6) * (unsigned __int64)v4 >> 32)
                     + 35791394i64 * SHIDWORD(v6)
                     + v5) >> 32)
       * v2 >> 31;
}

//----- (10063F50) --------------------------------------------------------
int __cdecl sub_10063F50(int a1)
{
  int v1; // ecx@1
  int v2; // ecx@2
  int result; // eax@4
  int v4; // [sp-4h] [bp-4h]@3
  int v5; // [sp+4h] [bp+4h]@1

  v5 = a1 + 0x40000000;
  v1 = ((v5 + 0x20000000) >> 30) & 3;
  if ( v1 )
  {
    v2 = v1 - 1;
    if ( v2 )
    {
      v4 = ((v5 + 0x20000000) & 0x3FFFFFFF) - 0x20000000;
      if ( v2 == 1 )
        result = -sub_10063DC0(v4);
      else
        result = -sub_10063CB0(v4);
    }
    else
    {
      result = sub_10063CB0(((v5 + 0x20000000) & 0x3FFFFFFF) - 0x20000000);
    }
  }
  else
  {
    result = sub_10063DC0(((v5 + 0x20000000) & 0x3FFFFFFF) - 0x20000000);
  }
  return result;
}

//----- (10063F70) --------------------------------------------------------
void __cdecl sub_10063F70(int a1, int a2, int a3)
{
  float v3; // ST1C_4@2
  float v4; // ST1C_4@3
  float v5; // ST1C_4@5
  float v6; // [sp+14h] [bp-4h]@1
  float v7; // [sp+14h] [bp-4h]@3

  sub_10064340(a1, a2, a3);
  v6 = sqrt(sub_100641E0(a3, a3));
  if ( v6 <= 0.0000039196398 )
  {
    *(float *)(a3 + 8) = 0.0;
    v4 = *(float *)(a1 + 4) * *(float *)(a1 + 4) + *(float *)a1 * *(float *)a1;
    v7 = sqrt(v4);
    if ( v7 >= 0.0000039196398 )
    {
      *(float *)a3 = *(float *)(a1 + 4);
      *(float *)(a3 + 4) = -*(float *)a1;
      v5 = 1.0 / v7;
      sub_10064240(v5, a3, a3);
    }
    else
    {
      *(float *)a3 = 0.0;
      *(float *)(a3 + 4) = 1.0;
    }
  }
  else
  {
    v3 = 1.0 / v6;
    sub_10064240(v3, a3, a3);
  }
}

//----- (10064040) --------------------------------------------------------
int __cdecl sub_10064040(int a1, int a2)
{
  float v2; // ST0C_4@1
  float v3; // ST04_4@1
  float v4; // ST08_4@1
  int result; // eax@1
  float v6; // [sp+14h] [bp+4h]@1

  v2 = sin(*(float *)a1);
  v3 = cos(*(float *)a1);
  v4 = sin(*(float *)(a1 + 4));
  v6 = cos(*(float *)(a1 + 4));
  result = a2;
  *(float *)a2 = v6 * v3;
  *(float *)(a2 + 4) = v3 * v4;
  *(float *)(a2 + 8) = v2;
  return result;
}

//----- (100640A0) --------------------------------------------------------
int __cdecl sub_100640A0(int a1, int a2)
{
  double v2; // ST14_8@1
  long double v3; // ST04_8@1
  long double v4; // ST0C_8@1
  int result; // eax@1

  v2 = sin(*(double *)a1);
  v3 = cos(*(double *)a1);
  v4 = sin(*(double *)(a1 + 8));
  result = a2;
  *(long double *)a2 = cos(*(double *)(a1 + 8)) * v3;
  *(long double *)(a2 + 8) = v3 * v4;
  *(double *)(a2 + 16) = v2;
  return result;
}

//----- (10064100) --------------------------------------------------------
void __cdecl sub_10064100(int a1, int a2)
{
  int v2; // esi@1
  float v3; // [sp+14h] [bp+4h]@1
  float v4; // [sp+14h] [bp+4h]@1

  v2 = a1;
  v3 = *(float *)(a1 + 4) * *(float *)(a1 + 4) + *(float *)a1 * *(float *)a1;
  v4 = sqrt(v3);
  *(float *)a2 = sub_10063AA0(*(float *)(v2 + 8), v4);
  *(float *)(a2 + 4) = sub_10063AA0(*(float *)(v2 + 4), *(float *)v2);
}

//----- (10064160) --------------------------------------------------------
int __cdecl sub_10064160(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(double *)a3 = *(double *)a1 + *(double *)a2;
  *(double *)(a3 + 8) = *(double *)(a1 + 8) + *(double *)(a2 + 8);
  *(double *)(a3 + 16) = *(double *)(a1 + 16) + *(double *)(a2 + 16);
  return result;
}

//----- (10064190) --------------------------------------------------------
int __cdecl sub_10064190(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a3 = *(float *)a1 + *(float *)a2;
  *(float *)(a3 + 4) = *(float *)(a1 + 4) + *(float *)(a2 + 4);
  *(float *)(a3 + 8) = *(float *)(a1 + 8) + *(float *)(a2 + 8);
  return result;
}

//----- (100641C0) --------------------------------------------------------
double __cdecl sub_100641C0(int a1, int a2)
{
  return *(double *)(a1 + 8) * *(double *)(a2 + 8)
       + *(double *)a1 * *(double *)a2
       + *(double *)(a1 + 16) * *(double *)(a2 + 16);
}

//----- (100641E0) --------------------------------------------------------
double __cdecl sub_100641E0(int a1, int a2)
{
  return (float)(*(float *)(a1 + 4) * *(float *)(a2 + 4)
               + *(float *)a1 * *(float *)a2
               + *(float *)(a1 + 8) * *(float *)(a2 + 8));
}

//----- (10064210) --------------------------------------------------------
int __cdecl sub_10064210(double a1, int a2, int a3)
{
  int result; // eax@1

  result = a2;
  *(double *)a3 = *(double *)a2 * a1;
  *(double *)(a3 + 8) = *(double *)(a2 + 8) * a1;
  *(double *)(a3 + 16) = a1 * *(double *)(a2 + 16);
  return result;
}

//----- (10064240) --------------------------------------------------------
int __cdecl sub_10064240(float a1, int a2, int a3)
{
  int result; // eax@1

  result = a2;
  *(float *)a3 = *(float *)a2 * a1;
  *(float *)(a3 + 4) = *(float *)(a2 + 4) * a1;
  *(float *)(a3 + 8) = a1 * *(float *)(a2 + 8);
  return result;
}

//----- (10064270) --------------------------------------------------------
int __cdecl sub_10064270(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(double *)a3 = *(double *)a1 - *(double *)a2;
  *(double *)(a3 + 8) = *(double *)(a1 + 8) - *(double *)(a2 + 8);
  *(double *)(a3 + 16) = *(double *)(a1 + 16) - *(double *)(a2 + 16);
  return result;
}

//----- (100642A0) --------------------------------------------------------
int __cdecl sub_100642A0(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(double *)a2 = *(double *)a1;
  *(double *)(a2 + 8) = *(double *)(a1 + 8);
  *(double *)(a2 + 16) = *(double *)(a1 + 16);
  return result;
}

//----- (100642C0) --------------------------------------------------------
int __cdecl sub_100642C0(int a1, int a2)
{
  int result; // eax@1

  result = a1;
  *(float *)a2 = *(float *)a1;
  *(float *)(a2 + 4) = *(float *)(a1 + 4);
  *(float *)(a2 + 8) = *(float *)(a1 + 8);
  return result;
}

//----- (100642E0) --------------------------------------------------------
int __cdecl sub_100642E0(int a1, int a2, int a3)
{
  double v4; // [sp+0h] [bp-18h]@1
  double v5; // [sp+8h] [bp-10h]@1
  double v6; // [sp+10h] [bp-8h]@1

  v4 = *(double *)(a2 + 16) * *(double *)(a1 + 8) - *(double *)(a2 + 8) * *(double *)(a1 + 16);
  v5 = *(double *)a2 * *(double *)(a1 + 16) - *(double *)a1 * *(double *)(a2 + 16);
  v6 = *(double *)a1 * *(double *)(a2 + 8) - *(double *)a2 * *(double *)(a1 + 8);
  return sub_100642A0((int)&v4, a3);
}

//----- (10064340) --------------------------------------------------------
int __cdecl sub_10064340(int a1, int a2, int a3)
{
  double v3; // st7@1
  double v4; // st6@1
  double v5; // st7@1
  float v7; // [sp+0h] [bp-Ch]@1
  float v8; // [sp+4h] [bp-8h]@1
  float v9; // [sp+8h] [bp-4h]@1

  v3 = *(float *)(a1 + 8);
  v7 = *(float *)(a2 + 8) * *(float *)(a1 + 4) - *(float *)(a2 + 4) * v3;
  v4 = v3 * *(float *)a2 - *(float *)(a2 + 8) * *(float *)a1;
  v5 = *(float *)a1;
  v8 = v4;
  v9 = v5 * *(float *)(a2 + 4) - *(float *)a2 * *(float *)(a1 + 4);
  return sub_100642C0((int)&v7, a3);
}

//----- (100643A0) --------------------------------------------------------
unsigned __int16 __cdecl sub_100643A0(_BYTE *a1, int a2, unsigned __int16 a3, char a4)
{
  _BYTE *v4; // ecx@1
  int v5; // esi@2
  unsigned __int16 result; // ax@3
  __int16 v7; // bx@4
  unsigned int v8; // edx@4
  int v9; // edx@6
  int v10; // esi@8

  v4 = a1;
  if ( a4 == 1 )
  {
    v5 = a2;
    if ( a2 )
    {
      result = a3;
      do
      {
        LOBYTE(v7) = 0;
        HIBYTE(v7) = result;
        v8 = *v4 ^ ((unsigned int)result >> 8);
        --v5;
        ++v4;
        result = word_100D3658[v8] ^ v7;
      }
      while ( v5 );
      return result;
    }
    return a3;
  }
  v9 = a2;
  if ( !a2 )
    return a3;
  result = a3;
  do
  {
    v10 = (unsigned __int8)result ^ *v4;
    --v9;
    ++v4;
    result = word_100D3858[v10] ^ HIBYTE(result);
  }
  while ( v9 );
  return result;
}
// 100D3658: using guessed type __int16 word_100D3658[];
// 100D3858: using guessed type __int16 word_100D3858[];

//----- (10064420) --------------------------------------------------------
int __cdecl sub_10064420(unsigned __int8 a1, unsigned int a2)
{
  return dword_100D3A58[a1 ^ (unsigned __int8)a2] ^ (a2 >> 8);
}
// 100D3A58: using guessed type int dword_100D3A58[];

//----- (10064440) --------------------------------------------------------
unsigned int __cdecl sub_10064440(unsigned int *a1, signed int a2, unsigned int a3)
{
  unsigned int *v3; // edx@1
  unsigned int result; // eax@1
  signed int i; // esi@1
  unsigned int v6; // edi@5
  unsigned int v7; // eax@6
  unsigned int v8; // eax@6
  unsigned int v9; // eax@6
  unsigned int v10; // eax@6
  unsigned int v11; // ecx@6
  unsigned int v12; // ecx@6
  unsigned int v13; // ecx@6

  v3 = a1;
  result = a3;
  for ( i = a2; i; --i )
  {
    if ( !((unsigned __int8)v3 & 3) )
      break;
    result = dword_100D3A58[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    v3 = (unsigned int *)((char *)v3 + 1);
  }
  if ( i >= 8 )
  {
    v6 = (unsigned int)i >> 3;
    do
    {
      v7 = dword_100D3A58[(unsigned __int8)result ^ (unsigned __int8)*v3] ^ (result >> 8);
      v8 = dword_100D3A58[(unsigned __int8)v7 ^ (unsigned __int8)(*(_WORD *)v3 >> 8)] ^ (v7 >> 8);
      v9 = dword_100D3A58[(unsigned __int8)v8 ^ (unsigned __int8)(*v3 >> 16)] ^ (v8 >> 8);
      v10 = dword_100D3A58[(unsigned __int8)v9 ^ (*v3 >> 24)] ^ (v9 >> 8);
      v3 += 2;
      v11 = dword_100D3A58[(unsigned __int8)v10 ^ (unsigned __int8)*(v3 - 1)] ^ (v10 >> 8);
      v12 = dword_100D3A58[(unsigned __int8)v11 ^ (unsigned __int8)(*((_WORD *)v3 - 2) >> 8)] ^ (v11 >> 8);
      v13 = dword_100D3A58[(unsigned __int8)v12 ^ (unsigned __int8)(*(v3 - 1) >> 16)] ^ (v12 >> 8);
      i -= 8;
      --v6;
      result = dword_100D3A58[(unsigned __int8)v13 ^ (*(v3 - 1) >> 24)] ^ (v13 >> 8);
    }
    while ( v6 );
  }
  for ( ; i > 0; v3 = (unsigned int *)((char *)v3 + 1) )
  {
    result = dword_100D3A58[(unsigned __int8)result ^ *(_BYTE *)v3] ^ (result >> 8);
    --i;
  }
  return result;
}
// 100D3A58: using guessed type int dword_100D3A58[];

//----- (10064570) --------------------------------------------------------
unsigned int __cdecl sub_10064570(_BYTE *a1, int a2, unsigned int a3)
{
  int v3; // ecx@1
  unsigned int result; // eax@1
  _BYTE *i; // esi@1

  v3 = a2;
  result = a3;
  for ( i = a1; v3; ++i )
  {
    result = dword_100D3E58[(unsigned __int8)(result ^ *i)] ^ (result >> 8);
    --v3;
  }
  return result;
}
// 100D3E58: using guessed type int dword_100D3E58[];

//----- (100645B0) --------------------------------------------------------
int __cdecl sub_100645B0(int a1, int a2, int a3)
{
  int result; // eax@1

  result = a1;
  *(float *)a3 = *(float *)a1 + *(float *)a2;
  *(float *)(a3 + 4) = *(float *)(a1 + 4) + *(float *)(a2 + 4);
  return result;
}

//----- (10069A89) --------------------------------------------------------
signed int __cdecl sub_10069A89(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_101CA084 )
  {
    *a1 = dword_101CA084;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 1006B1E0: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 101CA084: using guessed type int dword_101CA084;

//----- (10069AC0) --------------------------------------------------------
signed int __cdecl sub_10069AC0(_DWORD *a1)
{
  signed int result; // eax@2

  if ( a1 && dword_101CA084 )
  {
    *a1 = dword_101CA090;
    result = 0;
  }
  else
  {
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 22;
  }
  return result;
}
// 1006B1E0: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 101CA084: using guessed type int dword_101CA084;
// 101CA090: using guessed type int dword_101CA090;

//----- (1006A6B6) --------------------------------------------------------
void sub_1006A6B6()
{
  void **v0; // esi@1
  void *v1; // edi@2
  unsigned int i; // eax@3

  v0 = (void **)dword_105067C0;
  do
  {
    v1 = *v0;
    if ( *v0 )
    {
      for ( i = (unsigned int)v1 + 2048; (unsigned int)v1 < i; i = (unsigned int)*v0 + 2048 )
      {
        if ( *((_DWORD *)v1 + 2) )
          DeleteCriticalSection((LPCRITICAL_SECTION)((char *)v1 + 12));
        v1 = (char *)v1 + 64;
      }
      free(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (signed int)v0 < (signed int)&dword_105068C0 );
}
// 105067C0: using guessed type int dword_105067C0[];
// 105068C0: using guessed type int dword_105068C0;

//----- (1006AB63) --------------------------------------------------------
int (*sub_1006AB63())(void)
{
  int (*result)(void); // eax@1
  int (**v1)(void); // esi@1

  result = (int (*)(void))&unk_100E1F60;
  v1 = (int (**)(void))&unk_100E1F60;
  if ( &unk_100E1F60 < &unk_100E1F60 )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = (int (*)(void))result();
      ++v1;
    }
    while ( v1 < (int (**)(void))&unk_100E1F60 );
  }
  return result;
}

//----- (1006AB87) --------------------------------------------------------
void __cdecl sub_1006AB87()
{
  void (**v0)(void); // esi@1

  v0 = (void (**)(void))&unk_100E1F68;
  if ( &unk_100E1F68 < &unk_100E1F68 )
  {
    do
    {
      if ( *v0 )
        (*v0)();
      ++v0;
    }
    while ( v0 < (void (**)(void))&unk_100E1F68 );
  }
}

//----- (1006B0DA) --------------------------------------------------------
int __cdecl sub_1006B0DA(int a1)
{
  int result; // eax@1

  result = a1;
  dword_101CA1F0 = a1;
  return result;
}
// 101CA1F0: using guessed type int dword_101CA1F0;

//----- (1006DA4F) --------------------------------------------------------
int __cdecl sub_1006DA4F(int a1, FILE *a2)
{
  FILE *v2; // esi@1
  int v3; // eax@1
  unsigned int v5; // eax@9
  int v6; // eax@15
  char *v7; // edi@15
  signed __int32 v8; // edi@15
  _BYTE *v9; // eax@20
  __int64 v10; // rax@23
  _WORD *v11; // [sp+4h] [bp-4h]@9

  v2 = a2;
  a2 = (FILE *)_fileno(a2);
  v3 = v2->_flag;
  if ( !(v3 & 0x82) )
  {
    *_errno() = 9;
LABEL_3:
    v2->_flag |= 0x20u;
    return -1;
  }
  if ( v3 & 0x40 )
  {
    *_errno() = 34;
    goto LABEL_3;
  }
  if ( v3 & 1 )
  {
    v2->_cnt = 0;
    if ( !(v3 & 0x10) )
    {
      v2->_flag = v3 | 0x20;
      return -1;
    }
    v2->_ptr = v2->_base;
    v2->_flag = v3 & 0xFFFFFFFE;
  }
  v5 = v2->_flag & 0xFFFFFFEF | 2;
  v2->_flag = v5;
  v2->_cnt = 0;
  v11 = 0;
  if ( !(v5 & 0x10C)
    && ((void **)v2 != sub_100744E8() + 8 && (void **)v2 != sub_100744E8() + 16 || !sub_1007448A((signed int)a2)) )
  {
    _getbuf(v2);
  }
  if ( v2->_flag & 0x108 )
  {
    v6 = (int)v2->_base;
    v7 = v2->_ptr;
    v2->_ptr = (char *)(v6 + 1);
    v8 = (signed __int32)&v7[-v6];
    v2->_cnt = v2->_bufsiz - 1;
    if ( v8 <= 0 )
    {
      if ( a2 == (FILE *)-1 || a2 == (FILE *)-2 )
        v9 = &unk_100E3340;
      else
        v9 = (_BYTE *)(dword_105067C0[(signed int)a2 >> 5] + (((unsigned __int8)a2 & 0x1F) << 6));
      if ( v9[4] & 0x20 )
      {
        v10 = _lseeki64((int)a2, 0i64, 2);
        if ( (HIDWORD(v10) & (unsigned int)v10) == -1 )
          goto LABEL_27;
      }
    }
    else
    {
      v11 = sub_1007436A((int)a2, v6, v8);
    }
    *v2->_base = a1;
  }
  else
  {
    v8 = 1;
    v11 = sub_1007436A((int)a2, (int)&a1, 1u);
  }
  if ( v11 != (_WORD *)v8 )
  {
LABEL_27:
    v2->_flag |= 0x20u;
    return -1;
  }
  return (unsigned __int8)a1;
}
// 10074446: using guessed type _DWORD __cdecl _getbuf(_DWORD);
// 105067C0: using guessed type int dword_105067C0[];

//----- (1006F1B4) --------------------------------------------------------
#error "1006F1B9: positive sp value has been found (funcsize=0)"

//----- (1006F1BF) --------------------------------------------------------
#error "1006F1C4: positive sp value has been found (funcsize=0)"

//----- (1006F1CA) --------------------------------------------------------
#error "1006F1CF: positive sp value has been found (funcsize=0)"

//----- (1006F1D0) --------------------------------------------------------
#error "1006F1D5: positive sp value has been found (funcsize=0)"

//----- (1006F1D6) --------------------------------------------------------
#error "1006F1DB: positive sp value has been found (funcsize=0)"

//----- (1006F1DC) --------------------------------------------------------
#error "1006F1E1: positive sp value has been found (funcsize=0)"

//----- (1006F1E2) --------------------------------------------------------
#error "1006F1FD: positive sp value has been found (funcsize=0)"

//----- (1006F203) --------------------------------------------------------
#error "1006F218: positive sp value has been found (funcsize=0)"

//----- (1006F21E) --------------------------------------------------------
#error "1006F239: positive sp value has been found (funcsize=0)"

//----- (1006F23A) --------------------------------------------------------
#error "1006F249: positive sp value has been found (funcsize=0)"

//----- (1006F24A) --------------------------------------------------------
#error "1006F25D: positive sp value has been found (funcsize=0)"

//----- (1006F25E) --------------------------------------------------------
#error "1006F26D: positive sp value has been found (funcsize=0)"

//----- (1006F26E) --------------------------------------------------------
#error "1006F28D: positive sp value has been found (funcsize=0)"

//----- (1006F293) --------------------------------------------------------
#error "1006F2AC: positive sp value has been found (funcsize=0)"

//----- (1006F2B2) --------------------------------------------------------
#error "1006F2D1: positive sp value has been found (funcsize=0)"

//----- (1006F2D2) --------------------------------------------------------
#error "1006F2E5: positive sp value has been found (funcsize=0)"

//----- (1006F2E6) --------------------------------------------------------
#error "1006F2FD: positive sp value has been found (funcsize=0)"

//----- (1006F2FE) --------------------------------------------------------
#error "1006F311: positive sp value has been found (funcsize=0)"

//----- (1006F312) --------------------------------------------------------
#error "1006F331: positive sp value has been found (funcsize=0)"

//----- (1006F337) --------------------------------------------------------
#error "1006F350: positive sp value has been found (funcsize=0)"

//----- (1006F356) --------------------------------------------------------
#error "1006F375: positive sp value has been found (funcsize=0)"

//----- (1006F376) --------------------------------------------------------
#error "1006F389: positive sp value has been found (funcsize=0)"

//----- (1006F38A) --------------------------------------------------------
#error "1006F3A1: positive sp value has been found (funcsize=0)"

//----- (1006F3A2) --------------------------------------------------------
#error "1006F3B5: positive sp value has been found (funcsize=0)"

//----- (1006F3B6) --------------------------------------------------------
#error "1006F3D5: positive sp value has been found (funcsize=0)"

//----- (1006F3DB) --------------------------------------------------------
#error "1006F3F4: positive sp value has been found (funcsize=0)"

//----- (1006F3FA) --------------------------------------------------------
#error "1006F419: positive sp value has been found (funcsize=0)"

//----- (1006F41A) --------------------------------------------------------
#error "1006F42D: positive sp value has been found (funcsize=0)"

//----- (1006F42E) --------------------------------------------------------
#error "1006F445: positive sp value has been found (funcsize=0)"

//----- (1006F446) --------------------------------------------------------
#error "1006F459: positive sp value has been found (funcsize=0)"

//----- (1006F45A) --------------------------------------------------------
#error "1006F479: positive sp value has been found (funcsize=0)"

//----- (1006F47F) --------------------------------------------------------
#error "1006F498: positive sp value has been found (funcsize=0)"

//----- (1006F49E) --------------------------------------------------------
#error "1006F4BD: positive sp value has been found (funcsize=0)"

//----- (1006F4BE) --------------------------------------------------------
#error "1006F4D1: positive sp value has been found (funcsize=0)"

//----- (1006F4D2) --------------------------------------------------------
#error "1006F4E9: positive sp value has been found (funcsize=0)"

//----- (1006F4EA) --------------------------------------------------------
#error "1006F4FD: positive sp value has been found (funcsize=0)"

//----- (1006F4FE) --------------------------------------------------------
#error "1006F51D: positive sp value has been found (funcsize=0)"

//----- (1006F523) --------------------------------------------------------
#error "1006F53C: positive sp value has been found (funcsize=0)"

//----- (1006F542) --------------------------------------------------------
#error "1006F561: positive sp value has been found (funcsize=0)"

//----- (1006F562) --------------------------------------------------------
#error "1006F575: positive sp value has been found (funcsize=0)"

//----- (1006F576) --------------------------------------------------------
#error "1006F58D: positive sp value has been found (funcsize=0)"

//----- (1006F58E) --------------------------------------------------------
#error "1006F5A1: positive sp value has been found (funcsize=0)"

//----- (1006F5A2) --------------------------------------------------------
#error "1006F5C1: positive sp value has been found (funcsize=0)"

//----- (1006F5C7) --------------------------------------------------------
#error "1006F5E0: positive sp value has been found (funcsize=0)"

//----- (1006F5E6) --------------------------------------------------------
#error "1006F605: positive sp value has been found (funcsize=0)"

//----- (1006F606) --------------------------------------------------------
#error "1006F619: positive sp value has been found (funcsize=0)"

//----- (1006F61A) --------------------------------------------------------
#error "1006F631: positive sp value has been found (funcsize=0)"

//----- (1006F632) --------------------------------------------------------
#error "1006F645: positive sp value has been found (funcsize=0)"

//----- (1006FECB) --------------------------------------------------------
int sub_1006FECB()
{
  dword_105068DC = _get_sse2_info();
  return 0;
}
// 1006FE6B: using guessed type int _get_sse2_info(void);
// 105068DC: using guessed type int dword_105068DC;

//----- (1006FED8) --------------------------------------------------------
int __cdecl sub_1006FED8(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_10072D35((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 1006CF4B: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (1006FF7E) --------------------------------------------------------
int __cdecl sub_1006FF7E(int a1, int a2, struct localeinfo_struct *a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1

  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)&v7, a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_10073277((int)&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
      return 4;
    }
  }
  if ( v9 )
    *(_DWORD *)(v8 + 112) &= 0xFFFFFFFD;
  return 0;
}
// 1006CF4B: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (100703E2) --------------------------------------------------------
void sub_100703E2()
{
  dword_1050679C = 0;
}
// 1050679C: using guessed type int dword_1050679C;

//----- (100706BF) --------------------------------------------------------
int sub_100706BF()
{
  return 0;
}

//----- (10071392) --------------------------------------------------------
int sub_10071392()
{
  return _decode_pointer(dword_101CA6B0);
}
// 10069DBF: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 101CA6B0: using guessed type int dword_101CA6B0;

//----- (1007154F) --------------------------------------------------------
int __cdecl sub_1007154F(int a1)
{
  int result; // eax@1

  result = a1;
  dword_101CA6BC = a1;
  return result;
}
// 101CA6BC: using guessed type int dword_101CA6BC;

//----- (10071559) --------------------------------------------------------
int __cdecl sub_10071559(int a1)
{
  int result; // eax@1

  result = a1;
  dword_101CA6C8 = a1;
  return result;
}
// 101CA6C8: using guessed type int dword_101CA6C8;

//----- (10071563) --------------------------------------------------------
int __cdecl sub_10071563(int a1)
{
  int result; // eax@1

  result = a1;
  dword_101CA6CC = a1;
  return result;
}
// 101CA6CC: using guessed type int dword_101CA6CC;

//----- (10071642) --------------------------------------------------------
int __cdecl sub_10071642(int a1)
{
  int result; // eax@1

  result = a1;
  dword_101CA6D0 = a1;
  return result;
}
// 101CA6D0: using guessed type int dword_101CA6D0;

//----- (10072D35) --------------------------------------------------------
signed int __cdecl sub_10072D35(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_100E3FC8 - 1;
    v64 = v3;
    v65 = dword_100E3FC8 / 32;
    v9 = dword_100E3FC8 % 32;
    v10 = (int *)(&v60 + dword_100E3FC8 / 32);
    v66 = 31 - dword_100E3FC8 % 32;
    if ( (1 << (31 - dword_100E3FC8 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_100E3FC4 - dword_100E3FC8 )
    {
      if ( v3 > dword_100E3FC4 )
      {
        if ( v3 < dword_100E3FC0 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_100E3FD4 + v3;
          v50 = dword_100E3FCC / 32;
          v51 = dword_100E3FCC % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_100E3FCC % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_100E3FCC / 32;
          v44 = dword_100E3FCC % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_100E3FCC % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_100E3FD4 + dword_100E3FC0;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_100E3FC4 - v64) / 32;
      v62 = v59;
      v18 = (dword_100E3FC4 - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_100E3FC8 - 1;
      v25 = dword_100E3FC8 / 32;
      v65 = dword_100E3FC8 / 32;
      v26 = (int *)(&v60 + dword_100E3FC8 / 32);
      v64 = 31 - dword_100E3FC8 % 32;
      if ( (1 << (31 - dword_100E3FC8 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_100E3FC8 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_100E3FCC + 1) / 32;
      v37 = (dword_100E3FCC + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_100E3FCC));
  if ( dword_100E3FD0 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_100E3FD0 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 100E3FC0: using guessed type int dword_100E3FC0;
// 100E3FC4: using guessed type int dword_100E3FC4;
// 100E3FC8: using guessed type int dword_100E3FC8;
// 100E3FCC: using guessed type int dword_100E3FCC;
// 100E3FD0: using guessed type int dword_100E3FD0;
// 100E3FD4: using guessed type int dword_100E3FD4;

//----- (10073277) --------------------------------------------------------
signed int __cdecl sub_10073277(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  unsigned int v14; // edx@13
  int *v15; // ecx@13
  bool v16; // cf@14
  int v17; // eax@29
  int v18; // edx@29
  int *v19; // ebx@30
  unsigned int v20; // esi@30
  char v21; // cl@30
  signed int v22; // edx@31
  int *v23; // ecx@31
  signed int v24; // esi@36
  int v25; // eax@36
  int *v26; // ebx@36
  bool j; // zf@37
  int v28; // eax@42
  unsigned int v29; // edx@42
  int *v30; // ecx@42
  unsigned int v31; // edi@42
  signed int k; // ecx@45
  int *v33; // ecx@47
  unsigned int v34; // esi@47
  signed int v35; // edi@47
  int v36; // eax@54
  int v37; // edx@54
  int *v38; // ebx@55
  unsigned int v39; // esi@55
  char v40; // cl@55
  signed int v41; // edx@56
  int *v42; // ecx@56
  int v43; // eax@63
  int v44; // edx@63
  int *v45; // ebx@64
  unsigned int v46; // esi@64
  char v47; // cl@64
  signed int v48; // edx@65
  int *v49; // ecx@65
  int v50; // eax@71
  int v51; // edx@71
  unsigned int v52; // edi@72
  signed int v53; // edx@73
  int *v54; // ecx@73
  int v55; // ebx@79
  int v56; // edx@80
  unsigned int v57; // [sp+8h] [bp-2Ch]@7
  int v58; // [sp+Ch] [bp-28h]@7
  int v59; // [sp+10h] [bp-24h]@7
  unsigned int v60; // [sp+14h] [bp-20h]@1
  int v61; // [sp+18h] [bp-1Ch]@1
  int v62; // [sp+1Ch] [bp-18h]@1
  int v63; // [sp+20h] [bp-14h]@1
  int v64; // [sp+24h] [bp-10h]@7
  int v65; // [sp+28h] [bp-Ch]@7
  int v66; // [sp+2Ch] [bp-8h]@7
  int v67; // [sp+30h] [bp-4h]@13
  int v68; // [sp+3Ch] [bp+8h]@7
  unsigned int v69; // [sp+3Ch] [bp+8h]@13
  signed int v70; // [sp+3Ch] [bp+8h]@29
  signed int v71; // [sp+3Ch] [bp+8h]@42
  signed int v72; // [sp+3Ch] [bp+8h]@54
  signed int v73; // [sp+3Ch] [bp+8h]@63
  signed int v74; // [sp+3Ch] [bp+8h]@71

  v2 = *(_WORD *)(a1 + 10);
  v63 = *(_WORD *)(a1 + 10) & 0x8000;
  v60 = *(_DWORD *)(a1 + 6);
  v3 = (v2 & 0x7FFF) - 0x3FFF;
  v4 = *(_WORD *)a1 << 16;
  v61 = *(_DWORD *)(a1 + 2);
  v62 = v4;
  if ( v3 != -16383 )
  {
    v68 = 0;
    v57 = v60;
    v58 = v61;
    v59 = v62;
    v8 = dword_100E3FE0 - 1;
    v64 = v3;
    v65 = dword_100E3FE0 / 32;
    v9 = dword_100E3FE0 % 32;
    v10 = (int *)(&v60 + dword_100E3FE0 / 32);
    v66 = 31 - dword_100E3FE0 % 32;
    if ( (1 << (31 - dword_100E3FE0 % 32)) & *v10 )
    {
      v11 = v65;
      for ( i = (~(-1 << (31 - v9)) & *(&v60 + v65)) == 0; i; i = *(&v60 + v11) == 0 )
      {
        if ( ++v11 >= 3 )
          goto LABEL_22;
      }
      v13 = v8 / 32;
      v67 = 0;
      v14 = 1 << (31 - v8 % 32);
      v15 = (int *)(&v60 + v8 / 32);
      v69 = v14 + *v15;
      if ( v69 >= *v15 )
      {
        v16 = v69 < v14;
        goto LABEL_18;
      }
LABEL_19:
      v67 = 1;
      while ( 1 )
      {
        --v13;
        *v15 = v69;
        if ( v13 < 0 || !v67 )
          break;
        v67 = 0;
        v15 = (int *)(&v60 + v13);
        v69 = *v15 + 1;
        if ( v69 >= *v15 )
        {
          v16 = (unsigned int)*v15 >= 0xFFFFFFFF;
LABEL_18:
          if ( !v16 )
            continue;
        }
        goto LABEL_19;
      }
      v68 = v67;
    }
LABEL_22:
    *v10 &= -1 << v66;
    if ( v65 + 1 < 3 )
      memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
    if ( v68 )
      ++v3;
    if ( v3 >= dword_100E3FDC - dword_100E3FE0 )
    {
      if ( v3 > dword_100E3FDC )
      {
        if ( v3 < dword_100E3FD8 )
        {
          v60 &= 0x7FFFFFFFu;
          v5 = dword_100E3FEC + v3;
          v50 = dword_100E3FE4 / 32;
          v51 = dword_100E3FE4 % 32;
          v65 = 0;
          v74 = 0;
          v67 = 32 - dword_100E3FE4 % 32;
          do
          {
            v52 = *(&v60 + v74);
            v64 = ~(-1 << v51) & *(&v60 + v74);
            *(&v60 + v74++) = v65 | (v52 >> v51);
            v65 = v64 << v67;
          }
          while ( v74 < 3 );
          v53 = 2;
          v54 = &v62 - v50;
          do
          {
            if ( v53 < v50 )
              *(&v60 + v53) = 0;
            else
              *(&v60 + v53) = *v54;
            --v53;
            --v54;
          }
          while ( v53 >= 0 );
          result = 0;
        }
        else
        {
          v61 = 0;
          v62 = 0;
          v60 = 2147483648;
          v43 = dword_100E3FE4 / 32;
          v44 = dword_100E3FE4 % 32;
          v65 = 0;
          v73 = 0;
          v67 = 32 - dword_100E3FE4 % 32;
          do
          {
            v45 = (int *)(&v60 + v73);
            v46 = *v45;
            v64 = ~(-1 << v44) & *v45;
            v47 = v67;
            *v45 = v65 | (v46 >> v44);
            ++v73;
            v65 = v64 << v47;
          }
          while ( v73 < 3 );
          v48 = 2;
          v49 = &v62 - v43;
          do
          {
            if ( v48 < v43 )
              *(&v60 + v48) = 0;
            else
              *(&v60 + v48) = *v49;
            --v48;
            --v49;
          }
          while ( v48 >= 0 );
          v5 = dword_100E3FEC + dword_100E3FD8;
          result = 1;
        }
        goto LABEL_79;
      }
      v60 = v57;
      v61 = v58;
      v17 = (dword_100E3FDC - v64) / 32;
      v62 = v59;
      v18 = (dword_100E3FDC - v64) % 32;
      v65 = 0;
      v70 = 0;
      v67 = 32 - v18;
      do
      {
        v19 = (int *)(&v60 + v70);
        v20 = *v19;
        v64 = ~(-1 << v18) & *v19;
        v21 = v67;
        *v19 = v65 | (v20 >> v18);
        ++v70;
        v65 = v64 << v21;
      }
      while ( v70 < 3 );
      v22 = 2;
      v23 = &v62 - v17;
      do
      {
        if ( v22 < v17 )
          *(&v60 + v22) = 0;
        else
          *(&v60 + v22) = *v23;
        --v22;
        --v23;
      }
      while ( v22 >= 0 );
      v24 = dword_100E3FE0 - 1;
      v25 = dword_100E3FE0 / 32;
      v65 = dword_100E3FE0 / 32;
      v26 = (int *)(&v60 + dword_100E3FE0 / 32);
      v64 = 31 - dword_100E3FE0 % 32;
      if ( (1 << (31 - dword_100E3FE0 % 32)) & *v26 )
      {
        for ( j = (~(-1 << (31 - dword_100E3FE0 % 32)) & *(&v60 + v25)) == 0; j; j = *(&v60 + v25) == 0 )
        {
          if ( ++v25 >= 3 )
            goto LABEL_52;
        }
        v28 = v24 / 32;
        v71 = 0;
        v29 = 1 << (31 - v24 % 32);
        v30 = (int *)(&v60 + v24 / 32);
        v31 = *v30 + v29;
        if ( v31 < *v30 || v31 < v29 )
          v71 = 1;
        *v30 = v31;
        for ( k = v71; --v28 >= 0 && k; k = v35 )
        {
          v33 = (int *)(&v60 + v28);
          v34 = *v33 + 1;
          v35 = 0;
          if ( v34 < *v33 || v34 < 1 )
            v35 = 1;
          *v33 = v34;
        }
      }
LABEL_52:
      *v26 &= -1 << v64;
      if ( v65 + 1 < 3 )
        memset(&v60 + v65 + 1, 0, 4 * (3 - (v65 + 1)));
      v36 = (dword_100E3FE4 + 1) / 32;
      v37 = (dword_100E3FE4 + 1) % 32;
      v65 = 0;
      v72 = 0;
      v67 = 32 - v37;
      do
      {
        v38 = (int *)(&v60 + v72);
        v39 = *v38;
        v64 = ~(-1 << v37) & *v38;
        v40 = v67;
        *v38 = v65 | (v39 >> v37);
        ++v72;
        v65 = v64 << v40;
      }
      while ( v72 < 3 );
      v41 = 2;
      v42 = &v62 - v36;
      do
      {
        if ( v41 < v36 )
          *(&v60 + v41) = 0;
        else
          *(&v60 + v41) = *v42;
        --v41;
        --v42;
      }
      while ( v41 >= 0 );
    }
    else
    {
      v60 = 0;
      v61 = 0;
      v62 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_79;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v60 + v6) )
  {
    if ( ++v6 >= 3 )
    {
      result = 0;
      goto LABEL_79;
    }
  }
  v60 = 0;
  v61 = 0;
  v62 = 0;
  result = 2;
LABEL_79:
  v55 = v60 | (v63 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_100E3FE4));
  if ( dword_100E3FE8 == 64 )
  {
    v56 = v61;
    *(_DWORD *)(a2 + 4) = v55;
    *(_DWORD *)a2 = v56;
  }
  else if ( dword_100E3FE8 == 32 )
  {
    *(_DWORD *)a2 = v55;
  }
  return result;
}
// 100E3FD8: using guessed type int dword_100E3FD8;
// 100E3FDC: using guessed type int dword_100E3FDC;
// 100E3FE0: using guessed type int dword_100E3FE0;
// 100E3FE4: using guessed type int dword_100E3FE4;
// 100E3FE8: using guessed type int dword_100E3FE8;
// 100E3FEC: using guessed type int dword_100E3FEC;

//----- (10073BAC) --------------------------------------------------------
DWORD __cdecl sub_10073BAC(int a1, int a2, int a3, DWORD dwMoveMethod)
{
  void *v4; // eax@1
  DWORD v6; // eax@5
  _BYTE *v7; // eax@7
  DWORD lDistanceToMove; // [sp+8h] [bp-8h]@4
  LONG DistanceToMoveHigh; // [sp+Ch] [bp-4h]@1

  DistanceToMoveHigh = a3;
  v4 = (void *)sub_10075BB8(a1);
  if ( v4 == (void *)-1 )
  {
    *_errno() = 9;
    return -1;
  }
  lDistanceToMove = SetFilePointer(v4, a2, &DistanceToMoveHigh, dwMoveMethod);
  if ( lDistanceToMove == -1 )
  {
    v6 = GetLastError();
    if ( v6 )
    {
      _dosmaperr(v6);
      return -1;
    }
  }
  v7 = (_BYTE *)(dword_105067C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4);
  *v7 &= 0xFDu;
  return lDistanceToMove;
}
// 10065E2E: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 105067C0: using guessed type int dword_105067C0[];

//----- (10073D48) --------------------------------------------------------
_WORD *__cdecl sub_10073D48(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // esi@5
  int v5; // edi@5
  int v6; // eax@5
  char v7; // bl@5
  int v8; // eax@13
  void *v9; // ST18_4@13
  DWORD v10; // eax@16
  const char *v11; // ebx@16
  char v12; // cl@19
  int *v13; // esi@19
  int v14; // eax@19
  int v15; // eax@20
  int v16; // eax@27
  signed int v17; // esi@27
  int v18; // eax@31
  int v19; // esi@36
  __int16 v20; // ax@39
  int v21; // ecx@45
  char v22; // dl@45
  int v23; // eax@46
  DWORD v24; // ecx@51
  char *v25; // eax@51
  char *v26; // edx@53
  char v27; // dl@53
  int v28; // ebx@56
  DWORD v29; // ecx@64
  char *v30; // eax@64
  __int16 *v31; // edx@66
  __int16 v32; // dx@66
  int v33; // ebx@69
  DWORD v34; // ecx@74
  WCHAR *v35; // eax@74
  WCHAR v36; // dx@76
  int v37; // esi@79
  int v38; // ebx@79
  DWORD Mode; // [sp+4h] [bp-7Ch]@13
  int v40; // [sp+8h] [bp-78h]@13
  char v41; // [sp+Fh] [bp-71h]@5
  int *v42; // [sp+10h] [bp-70h]@5
  DWORD v43; // [sp+14h] [bp-6Ch]@56
  int v44; // [sp+18h] [bp-68h]@1
  LPCVOID lpBuffer; // [sp+1Ch] [bp-64h]@1
  _WORD *v46; // [sp+20h] [bp-60h]@1
  DWORD NumberOfBytesWritten; // [sp+24h] [bp-5Ch]@16
  WCHAR WideCharStr[2]; // [sp+28h] [bp-58h]@20
  _WORD *v49; // [sp+2Ch] [bp-54h]@17
  char Buffer; // [sp+30h] [bp-50h]@51
  CHAR v51[688]; // [sp+184h] [bp+104h]@79
  WCHAR v52; // [sp+434h] [bp+3B4h]@74
  CHAR MultiByteStr; // [sp+588h] [bp+508h]@20
  char v54; // [sp+589h] [bp+509h]@20

  lpBuffer = (LPCVOID)a2;
  v46 = 0;
  v44 = 0;
  if ( !nNumberOfBytesToWrite )
    return 0;
  if ( !a2 )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  v4 = &dword_105067C0[a1 >> 5];
  v5 = (a1 & 0x1F) << 6;
  v6 = v5 + *v4;
  v7 = (char)(2 * *(_BYTE *)(v6 + 36)) >> 1;
  v42 = &dword_105067C0[a1 >> 5];
  v41 = v7;
  if ( (v7 == 2 || v7 == 1) && !(~(_BYTE)nNumberOfBytesToWrite & 1) )
  {
    *__doserrno() = 0;
    *_errno() = 22;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  if ( *(_BYTE *)(v6 + 4) & 0x20 )
    sub_10073BAC(a1, 0, 0, 2u);
  if ( sub_1007448A(a1) )
  {
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x80 )
    {
      v8 = _getptd();
      v9 = *(void **)(v5 + *v4);
      v40 = *(_DWORD *)(*(_DWORD *)(v8 + 108) + 20) == 0;
      if ( GetConsoleMode(v9, &Mode) )
      {
        if ( !v40 || v7 )
        {
          v10 = GetConsoleCP();
          v11 = (const char *)lpBuffer;
          Mode = v10;
          NumberOfBytesWritten = 0;
          if ( nNumberOfBytesToWrite )
          {
            v49 = 0;
            while ( 1 )
            {
              if ( v41 )
              {
                if ( v41 == 1 || v41 == 2 )
                {
                  v19 = *(_WORD *)v11;
                  v11 += 2;
                  ++v49;
                  *(_DWORD *)WideCharStr = v19;
                  v40 = (_WORD)v19 == 10;
                }
                if ( v41 == 1 || v41 == 2 )
                {
                  v20 = _putwch_nolock(WideCharStr[0]);
                  if ( v20 != WideCharStr[0] )
                    goto LABEL_89;
                  v46 = (_WORD *)((char *)v46 + 1);
                  if ( v40 )
                  {
                    *(_DWORD *)WideCharStr = 13;
                    if ( (unsigned __int16)_putwch_nolock(13) != 13 )
                      goto LABEL_89;
                    v46 = (_WORD *)((char *)v46 + 1);
                    ++v44;
                  }
                }
                goto LABEL_43;
              }
              v12 = *v11;
              v13 = v42;
              v40 = *v11 == 10;
              v14 = v5 + *v42;
              if ( *(_DWORD *)(v14 + 56) )
              {
                MultiByteStr = *(_BYTE *)(v14 + 52);
                v54 = v12;
                *(_DWORD *)(v14 + 56) = 0;
                v15 = mbtowc(WideCharStr, &MultiByteStr, 2u);
              }
              else
              {
                if ( isleadbyte(v12) )
                {
                  if ( nNumberOfBytesToWrite + (_BYTE *)lpBuffer - v11 <= 1 )
                  {
                    v21 = *v13;
                    v22 = *v11;
                    v46 = (_WORD *)((char *)v46 + 1);
                    *(_BYTE *)(v5 + v21 + 52) = v22;
                    *(_DWORD *)(v5 + *v13 + 56) = 1;
                    goto LABEL_90;
                  }
                  if ( mbtowc(WideCharStr, v11, 2u) == -1 )
                    goto LABEL_90;
                  ++v11;
                  v49 = (_WORD *)((char *)v49 + 1);
                  goto LABEL_27;
                }
                v15 = mbtowc(WideCharStr, v11, 1u);
              }
              if ( v15 == -1 )
                goto LABEL_90;
LABEL_27:
              ++v11;
              v49 = (_WORD *)((char *)v49 + 1);
              v16 = WideCharToMultiByte(Mode, 0, WideCharStr, 1, &MultiByteStr, 5, 0, 0);
              v17 = v16;
              if ( !v16 )
                goto LABEL_90;
              if ( !WriteFile(*(HANDLE *)(v5 + *v42), &MultiByteStr, v16, &NumberOfBytesWritten, 0) )
                goto LABEL_89;
              v46 = (_WORD *)((char *)v49 + v44);
              if ( (signed int)NumberOfBytesWritten < v17 )
                goto LABEL_90;
              if ( v40 )
              {
                v18 = *v42;
                MultiByteStr = 13;
                if ( !WriteFile(*(HANDLE *)(v5 + v18), &MultiByteStr, 1u, &NumberOfBytesWritten, 0) )
                  goto LABEL_89;
                if ( (signed int)NumberOfBytesWritten < 1 )
                  goto LABEL_90;
                ++v44;
                v46 = (_WORD *)((char *)v46 + 1);
              }
LABEL_43:
              if ( (unsigned int)v49 >= nNumberOfBytesToWrite )
                goto LABEL_90;
            }
          }
          goto LABEL_91;
        }
      }
    }
  }
  v23 = v5 + *v4;
  if ( *(_BYTE *)(v23 + 4) & 0x80 )
  {
    *(_DWORD *)WideCharStr = 0;
    if ( v7 )
    {
      v49 = lpBuffer;
      if ( v7 == 2 )
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v29 = (char *)v49 - (_BYTE *)lpBuffer;
          v30 = &Buffer;
          do
          {
            if ( v29 >= nNumberOfBytesToWrite )
              break;
            v31 = v49;
            ++v49;
            v32 = *v31;
            v29 += 2;
            if ( v32 == 10 )
            {
              v44 += 2;
              *(_WORD *)v30 = 13;
              v30 += 2;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *(_WORD *)v30 = v32;
            v30 += 2;
          }
          while ( NumberOfBytesWritten < 0x3FF );
          v33 = v30 - &Buffer;
          if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v30 - &Buffer, &v43, 0) )
            break;
          v46 = (_WORD *)((char *)v46 + v43);
          if ( (signed int)v43 < v33 || (char *)v49 - (_BYTE *)lpBuffer >= nNumberOfBytesToWrite )
            goto LABEL_90;
          v4 = v42;
        }
      }
      else
      {
        if ( nNumberOfBytesToWrite <= 0 )
          goto LABEL_96;
        while ( 1 )
        {
          NumberOfBytesWritten = 0;
          v34 = (char *)v49 - (_BYTE *)lpBuffer;
          v35 = &v52;
          do
          {
            if ( v34 >= nNumberOfBytesToWrite )
              break;
            v36 = *v49;
            ++v49;
            v34 += 2;
            if ( v36 == 10 )
            {
              *v35 = 13;
              ++v35;
              NumberOfBytesWritten += 2;
            }
            NumberOfBytesWritten += 2;
            *v35 = v36;
            ++v35;
          }
          while ( NumberOfBytesWritten < 0x152 );
          v37 = 0;
          v38 = WideCharToMultiByte(0xFDE9u, 0, &v52, v35 - &v52, v51, 683, 0, 0);
          if ( !v38 )
            break;
          while ( WriteFile(*(HANDLE *)(v5 + *v42), &v51[v37], v38 - v37, &v43, 0) )
          {
            v37 += v43;
            if ( v38 <= v37 )
              goto LABEL_84;
          }
          *(_DWORD *)WideCharStr = GetLastError();
LABEL_84:
          if ( v38 <= v37 )
          {
            v46 = (_WORD *)((char *)v49 - (_BYTE *)lpBuffer);
            if ( (char *)v49 - (_BYTE *)lpBuffer < nNumberOfBytesToWrite )
              continue;
          }
          goto LABEL_90;
        }
      }
    }
    else
    {
      NumberOfBytesWritten = (DWORD)lpBuffer;
      if ( nNumberOfBytesToWrite <= 0 )
        goto LABEL_96;
      while ( 1 )
      {
        v49 = 0;
        v24 = NumberOfBytesWritten - (_DWORD)lpBuffer;
        v25 = &Buffer;
        do
        {
          if ( v24 >= nNumberOfBytesToWrite )
            break;
          v26 = (char *)NumberOfBytesWritten++;
          v27 = *v26;
          ++v24;
          if ( v27 == 10 )
          {
            ++v44;
            *v25++ = 13;
            v49 = (_WORD *)((char *)v49 + 1);
          }
          *v25++ = v27;
          v49 = (_WORD *)((char *)v49 + 1);
        }
        while ( (unsigned int)v49 < 0x400 );
        v28 = v25 - &Buffer;
        if ( !WriteFile(*(HANDLE *)(v5 + *v4), &Buffer, v25 - &Buffer, &v43, 0) )
          break;
        v46 = (_WORD *)((char *)v46 + v43);
        if ( (signed int)v43 < v28 || NumberOfBytesWritten - (unsigned int)lpBuffer >= nNumberOfBytesToWrite )
          goto LABEL_90;
        v4 = v42;
      }
    }
  }
  else if ( WriteFile(*(HANDLE *)v23, lpBuffer, nNumberOfBytesToWrite, &v43, 0) )
  {
    *(_DWORD *)WideCharStr = 0;
    v46 = (_WORD *)v43;
    goto LABEL_90;
  }
LABEL_89:
  *(_DWORD *)WideCharStr = GetLastError();
LABEL_90:
  if ( !v46 )
  {
LABEL_91:
    if ( *(_DWORD *)WideCharStr )
    {
      if ( *(_DWORD *)WideCharStr == 5 )
      {
        *_errno() = 9;
        *__doserrno() = 5;
      }
      else
      {
        _dosmaperr(*(_DWORD *)WideCharStr);
      }
      return (_WORD *)-1;
    }
    v4 = v42;
LABEL_96:
    if ( *(_BYTE *)(v5 + *v4 + 4) & 0x40 && *(_BYTE *)lpBuffer == 26 )
      return 0;
    *_errno() = 28;
    *__doserrno() = 0;
    return (_WORD *)-1;
  }
  return (_WORD *)((char *)v46 - v44);
}
// 10065E2E: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 10069FDB: using guessed type int _getptd(void);
// 1006B1E0: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 105067C0: using guessed type int dword_105067C0[];
// 10073D48: using guessed type CHAR var_410[688];

//----- (1007436A) --------------------------------------------------------
_WORD *__cdecl sub_1007436A(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // ebx@7
  int v5; // esi@7
  _WORD *v6; // [sp+14h] [bp-1Ch]@9

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    return (_WORD *)-1;
  }
  if ( a1 < 0
    || a1 >= uNumber
    || (v4 = &dword_105067C0[a1 >> 5], v5 = (a1 & 0x1F) << 6, !(*(_BYTE *)(*v4 + v5 + 4) & 1)) )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    return (_WORD *)-1;
  }
  __lock_fhandle(a1);
  if ( *(_BYTE *)(*v4 + v5 + 4) & 1 )
  {
    v6 = sub_10073D48(a1, a2, nNumberOfBytesToWrite);
  }
  else
  {
    *_errno() = 9;
    *__doserrno() = 0;
    v6 = (_WORD *)-1;
  }
  sub_10075CC9(a1);
  return v6;
}
// 1006B1E0: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 10075C29: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);
// 105067C0: using guessed type int dword_105067C0[];

//----- (1007448A) --------------------------------------------------------
int __cdecl sub_1007448A(signed int a1)
{
  int result; // eax@2

  if ( a1 == -2 )
  {
    *_errno() = 9;
    result = 0;
  }
  else if ( a1 >= 0 && a1 < uNumber )
  {
    result = *(_BYTE *)(dword_105067C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) & 0x40;
  }
  else
  {
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = 0;
  }
  return result;
}
// 1006B1E0: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 105067C0: using guessed type int dword_105067C0[];

//----- (100744E8) --------------------------------------------------------
void **sub_100744E8()
{
  return &off_100E42B0;
}
// 100E42B0: using guessed type void *off_100E42B0;

//----- (100744EE) --------------------------------------------------------
signed int sub_100744EE()
{
  size_t v0; // eax@1
  void *v1; // eax@6
  signed int result; // eax@8
  int v3; // edx@9
  void **v4; // ecx@9
  signed int v5; // edx@12
  _DWORD *v6; // ecx@12
  int v7; // eax@13

  v0 = dword_10506780;
  if ( !dword_10506780 )
  {
    v0 = 512;
LABEL_5:
    dword_10506780 = v0;
    goto LABEL_6;
  }
  if ( dword_10506780 < 20 )
  {
    v0 = 20;
    goto LABEL_5;
  }
LABEL_6:
  v1 = (void *)_calloc_crt(v0, 4);
  dword_10505760 = v1;
  if ( v1 || (dword_10506780 = 20, v1 = (void *)_calloc_crt(0x14u, 4), (dword_10505760 = v1) != 0) )
  {
    v3 = 0;
    v4 = &off_100E42B0;
    while ( 1 )
    {
      *(_DWORD *)((char *)v1 + v3) = v4;
      v4 += 8;
      v3 += 4;
      if ( (signed int)v4 >= (signed int)&byte_100E4530 )
        break;
      v1 = dword_10505760;
    }
    v5 = 0;
    v6 = &unk_100E42C0;
    do
    {
      v7 = *(_DWORD *)(((v5 & 0x1F) << 6) + dword_105067C0[v5 >> 5]);
      if ( v7 == -1 || v7 == -2 || !v7 )
        *v6 = -2;
      v6 += 8;
      ++v5;
    }
    while ( (signed int)v6 < (signed int)&unk_100E4320 );
    result = 0;
  }
  else
  {
    result = 26;
  }
  return result;
}
// 1006A3CF: using guessed type _DWORD __cdecl _calloc_crt(size_t, _DWORD);
// 100E42B0: using guessed type void *off_100E42B0;
// 100E4530: using guessed type char byte_100E4530;
// 10506780: using guessed type int dword_10506780;
// 105067C0: using guessed type int dword_105067C0[];

//----- (10075667) --------------------------------------------------------
int __cdecl sub_10075667(int a1, int a2, int a3)
{
  HMODULE v3; // eax@2
  HMODULE v4; // edi@2
  FARPROC v5; // eax@3
  FARPROC v6; // eax@4
  FARPROC v7; // eax@4
  FARPROC v8; // eax@7
  FARPROC v9; // eax@8
  int (*v10)(void); // esi@11
  int (__stdcall *v11)(int, signed int, char *, signed int, char *); // eax@11
  int (__stdcall *v12)(int, signed int, char *, signed int, char *); // edi@11
  int v13; // eax@13
  int (*v14)(void); // eax@22
  int (__stdcall *v15)(int); // eax@25
  int (__stdcall *v16)(int, int, int, int); // eax@27
  char v18; // [sp+10h] [bp-20h]@14
  char v19; // [sp+18h] [bp-18h]@15
  char v20; // [sp+1Ch] [bp-14h]@14
  unsigned int v21; // [sp+20h] [bp-10h]@1
  int v22; // [sp+24h] [bp-Ch]@1
  int v23; // [sp+28h] [bp-8h]@1
  int v24; // [sp+2Ch] [bp-4h]@1

  v23 = _encoded_null();
  v24 = 0;
  v22 = 0;
  v21 = 0;
  if ( !dword_101CA6EC )
  {
    v3 = LoadLibraryA("USER32.DLL");
    v4 = v3;
    if ( !v3 )
      return 0;
    v5 = GetProcAddress(v3, "MessageBoxA");
    if ( !v5 )
      return 0;
    dword_101CA6EC = _encode_pointer(v5);
    v6 = GetProcAddress(v4, "GetActiveWindow");
    dword_101CA6F0 = _encode_pointer(v6);
    v7 = GetProcAddress(v4, "GetLastActivePopup");
    dword_101CA6F4 = _encode_pointer(v7);
    if ( sub_10069A89(&v22) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v22 == 2 )
    {
      v8 = GetProcAddress(v4, "GetUserObjectInformationA");
      dword_101CA6FC = _encode_pointer(v8);
      if ( dword_101CA6FC )
      {
        v9 = GetProcAddress(v4, "GetProcessWindowStation");
        dword_101CA6F8 = _encode_pointer(v9);
      }
    }
  }
  if ( dword_101CA6F8 == v23
    || dword_101CA6FC == v23
    || (v10 = (int (*)(void))_decode_pointer(dword_101CA6F8),
        v11 = (int (__stdcall *)(int, signed int, char *, signed int, char *))_decode_pointer(dword_101CA6FC),
        v12 = v11,
        !v10)
    || !v11
    || (v13 = v10()) != 0 && v12(v13, 1, &v18, 12, &v20) && v19 & 1 )
  {
    if ( dword_101CA6F0 != v23 )
    {
      v14 = (int (*)(void))_decode_pointer(dword_101CA6F0);
      if ( v14 )
      {
        v24 = v14();
        if ( v24 )
        {
          if ( dword_101CA6F4 != v23 )
          {
            v15 = (int (__stdcall *)(int))_decode_pointer(dword_101CA6F4);
            if ( v15 )
              v24 = v15(v24);
          }
        }
      }
    }
  }
  else
  {
    if ( sub_10069AC0(&v21) )
      _invoke_watson(0, 0, 0, 0, 0);
    if ( v21 < 4 )
      a3 |= 0x40000u;
    else
      a3 |= 0x200000u;
  }
  v16 = (int (__stdcall *)(int, int, int, int))_decode_pointer(dword_101CA6EC);
  if ( v16 )
    return v16(v24, a1, a2, a3);
  return 0;
}
// 10069D48: using guessed type _DWORD __cdecl _encode_pointer(_DWORD);
// 10069DB6: using guessed type int _encoded_null(void);
// 10069DBF: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 1006B0E4: using guessed type int __cdecl _invoke_watson(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 101CA6EC: using guessed type int dword_101CA6EC;
// 101CA6F0: using guessed type int dword_101CA6F0;
// 101CA6F4: using guessed type int dword_101CA6F4;
// 101CA6F8: using guessed type int dword_101CA6F8;
// 101CA6FC: using guessed type int dword_101CA6FC;

//----- (10075B37) --------------------------------------------------------
signed int __cdecl sub_10075B37(signed int a1)
{
  int *v1; // edi@3
  int v2; // esi@3
  int v3; // eax@3
  DWORD v5; // [sp-8h] [bp-14h]@9

  if ( a1 >= 0 && a1 < uNumber )
  {
    v1 = &dword_105067C0[a1 >> 5];
    v2 = (a1 & 0x1F) << 6;
    v3 = v2 + *v1;
    if ( *(_BYTE *)(v3 + 4) & 1 )
    {
      if ( *(_DWORD *)v3 != -1 )
      {
        if ( dword_101C9D54 == 1 )
        {
          if ( !a1 )
          {
            v5 = -10;
            goto LABEL_12;
          }
          if ( a1 == 1 )
          {
            v5 = -11;
            goto LABEL_12;
          }
          if ( a1 == 2 )
          {
            v5 = -12;
LABEL_12:
            SetStdHandle(v5, 0);
            goto LABEL_13;
          }
        }
LABEL_13:
        *(_DWORD *)(v2 + *v1) = -1;
        return 0;
      }
    }
  }
  *_errno() = 9;
  *__doserrno() = 0;
  return -1;
}
// 101C9D54: using guessed type int dword_101C9D54;
// 105067C0: using guessed type int dword_105067C0[];

//----- (10075BB8) --------------------------------------------------------
signed int __cdecl sub_10075BB8(signed int a1)
{
  signed int result; // eax@2
  int v2; // eax@5

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
    result = -1;
  }
  else if ( a1 >= 0 && a1 < uNumber && (v2 = dword_105067C0[a1 >> 5] + ((a1 & 0x1F) << 6), *(_BYTE *)(v2 + 4) & 1) )
  {
    result = *(_DWORD *)v2;
  }
  else
  {
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
    result = -1;
  }
  return result;
}
// 1006B1E0: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 105067C0: using guessed type int dword_105067C0[];

//----- (10075CC9) --------------------------------------------------------
void __cdecl sub_10075CC9(signed int a1)
{
  LeaveCriticalSection((LPCRITICAL_SECTION)(dword_105067C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 12));
}
// 105067C0: using guessed type int dword_105067C0[];

//----- (10075FCA) --------------------------------------------------------
int sub_10075FCA()
{
  return flsall(1);
}
// 10075EF0: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (1007625C) --------------------------------------------------------
signed int __cdecl sub_1007625C(signed int a1)
{
  signed int v1; // edi@6
  void *v2; // eax@7
  DWORD v3; // edi@8
  signed int result; // eax@11

  if ( sub_10075BB8(a1) == -1
    || (a1 == 1 && *(_BYTE *)(dword_105067C0[0] + 132) & 1 || a1 == 2 && *(_BYTE *)(dword_105067C0[0] + 68) & 1)
    && (v1 = sub_10075BB8(2), sub_10075BB8(1) == v1)
    || (v2 = (void *)sub_10075BB8(a1), CloseHandle(v2)) )
  {
    v3 = 0;
  }
  else
  {
    v3 = GetLastError();
  }
  sub_10075B37(a1);
  *(_BYTE *)(dword_105067C0[a1 >> 5] + ((a1 & 0x1F) << 6) + 4) = 0;
  if ( v3 )
  {
    _dosmaperr(v3);
    result = -1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 10065E2E: using guessed type _DWORD __cdecl _dosmaperr(_DWORD);
// 105067C0: using guessed type int dword_105067C0[];

//----- (10076400) --------------------------------------------------------
int __cdecl sub_10076400(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_1004E1E0(v1);
  a1 = v2;
  v3 = sub_1004D960(&a1, 4u, (int)&unk_100E1E20, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100E1E24[2 * v3];
}
// 100E1E24: using guessed type int dword_100E1E24[];

//----- (10076440) --------------------------------------------------------
int __cdecl sub_10076440(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_1004E1E0(v1);
  a1 = v2;
  v3 = sub_1004D960(&a1, 4u, (int)&unk_100E1E58, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100E1E5C[2 * v3];
}
// 100E1E5C: using guessed type int dword_100E1E5C[];

//----- (10076480) --------------------------------------------------------
int __cdecl sub_10076480(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_1004E1E0(v1);
  a1 = v2;
  v3 = sub_1004D960(&a1, 4u, (int)&unk_100E1E90, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100E1E94[2 * v3];
}
// 100E1E94: using guessed type int dword_100E1E94[];

//----- (100764C0) --------------------------------------------------------
int __cdecl sub_100764C0(int a1)
{
  void *v1; // ecx@0
  int v2; // eax@1
  int v3; // eax@3

  v2 = a1;
  if ( !a1 )
    v2 = sub_1004E1E0(v1);
  a1 = v2;
  v3 = sub_1004D960(&a1, 4u, (int)&unk_100E1EC8, 8, 7, -1);
  if ( v3 == -1 )
    v3 = 0;
  return dword_100E1ECC[2 * v3];
}
// 100E1ECC: using guessed type int dword_100E1ECC[];

//----- (10076500) --------------------------------------------------------
int __cdecl sub_10076500(int a1, int a2, int a3, int a4)
{
  int result; // eax@1
  int v5; // eax@2
  int v6; // eax@8

  result = 0;
  if ( a1 )
  {
    v5 = sub_10076440(a4);
    result = sub_10017AE0(v5, a1, 104);
  }
  if ( a2 && !result )
    result = sub_10017AE0(3532, a2, 2);
  if ( a3 )
  {
    if ( !result )
    {
      v6 = sub_10076400(a4);
      result = sub_10017AE0(v6, a3, 6);
    }
  }
  return result;
}

//----- (10076570) --------------------------------------------------------
int __cdecl sub_10076570(int a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // eax@2
  int v5; // eax@3
  int v6; // eax@6
  int v7; // eax@7

  result = 0;
  if ( a1 )
  {
    v4 = sub_100764C0(a3);
    result = sub_10017AE0(v4, a1, 64);
    if ( result == -7 )
    {
      sub_10017980(100);
      v5 = sub_100764C0(a3);
      result = sub_10017AE0(v5, a1, 64);
    }
  }
  if ( a2 && !result )
  {
    v6 = sub_10076480(a3);
    result = sub_10017AE0(v6, a2, 8);
    if ( result == -7 )
    {
      sub_10017980(100);
      v7 = sub_10076480(a3);
      result = sub_10017AE0(v7, a2, 8);
    }
  }
  return result;
}

#error "There were 50 decompilation failure(s) on 1571 function(s)"
